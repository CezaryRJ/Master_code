From Majordomo-Owner@lists.research.bell-labs.com  Sun Oct 24 17:19:08 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id RAA13010
	for <sip-archive@odin.ietf.org>; Sun, 24 Oct 1999 17:19:08 -0400 (EDT)
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 069CA52E7; Sun, 24 Oct 1999 17:18:40 -0400 (EDT)
To: sip-archive@ietf.org
From: Majordomo@lists.research.bell-labs.com
Subject: Majordomo results: Manually adding sip-archive@lists.ietf.o
Reply-To: Majordomo@lists.research.bell-labs.com
Message-Id: <19991024211840.069CA52E7@lists.research.bell-labs.com>
Date: Sun, 24 Sep 1999 17:18:40 -0400 (EDT)
Sender: Majordomo-Owner@lists.research.bell-labs.com

--

>>>> subscribe sip
Succeeded.
>>>> 


From owner-sip@lists.research.bell-labs.com  Sun Oct 24 17:19:16 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id RAA13024
	for <sip-archive@odin.ietf.org>; Sun, 24 Oct 1999 17:19:16 -0400 (EDT)
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 5216C52E0; Sun, 24 Oct 1999 17:18:39 -0400 (EDT)
To: sip-archive@ietf.org
From: Majordomo@lists.research.bell-labs.com
Subject: Welcome to sip
Reply-To: Majordomo@lists.research.bell-labs.com
Message-Id: <19991024211839.5216C52E0@lists.research.bell-labs.com>
Date: Sun, 24 Oct 1999 17:18:39 -0400 (EDT)
Sender: owner-sip@lists.research.bell-labs.com

--

Welcome to the sip mailing list!

Please save this message for future reference.  Thank you.

If you ever want to remove yourself from this mailing list,
send the following command in email to
<sip-request@lists.research.bell-labs.com>:

    unsubscribe

Or you can send mail to <Majordomo@lists.research.bell-labs.com> with the following
command in the body of your email message:

    unsubscribe sip sip-archive@lists.ietf.org

If you ever need to get in contact with the owner of the list,
(if you have trouble unsubscribing, or have questions about the
list itself) send email to <owner-sip@lists.research.bell-labs.com> .
This is the general rule for most mailing lists when you need
to contact a human.

 Here's the general information for the list you've subscribed to,
 in case you don't already have it:

This is the SIP Mailing list.
An introduction/welcome message will replace this text soon.


From owner-sip-outgoing@lists.research.bell-labs.com  Mon Oct 25 11:12:26 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id LAA14258
	for <sip-archive@odin.ietf.org>; Mon, 25 Oct 1999 11:12:25 -0400 (EDT)
Received: by lists.research.bell-labs.com (Postfix)
	id 7C5E852EC; Mon, 25 Oct 1999 10:55:19 -0400 (EDT)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 14AAC52EA; Mon, 25 Oct 1999 10:34:09 -0400 (EDT)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 9E0D352B6
	for <sip@lists.research.bell-labs.com>; Mon, 25 Oct 1999 07:03:08 -0400 (EDT)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Mon Oct 25 07:01:54 EDT 1999
Received: from ietf.org ([132.151.1.176]) by dusty; Mon Oct 25 07:01:00 EDT 1999
Received: from CNRI.Reston.VA.US (localhost [127.0.0.1])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id HAA03557;
	Mon, 25 Oct 1999 07:01:52 -0400 (EDT)
Message-Id: <199910251101.HAA03557@ietf.org>
Mime-Version: 1.0
Content-Type: Multipart/Mixed; Boundary="NextPart"
To: IETF-Announce: ;
Cc: sip@lists.research.bell-labs.com
From: Internet-Drafts@ietf.org
Reply-To: Internet-Drafts@ietf.org
Subject: I-D ACTION:draft-ietf-sip-183-00.txt
Date: Mon, 25 Oct 1999 07:01:52 -0400
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk

--NextPart

A New Internet-Draft is available from the on-line Internet-Drafts directories.
This draft is a work item of the Session Initiation Protocol Working Group of the IETF.

	Title		: SIP 183 Session Progress Message
	Author(s)	: S. Donovan, H. Schulzrinne, J. Rosenberg,
                          M. Cannon, A. Roach
	Filename	: draft-ietf-sip-183-00.txt
	Pages		: 26
	Date		: 22-Oct-99
	
This document describes a proposed extension to SIP [1].  This exten-
sion adds the 183 Session Progress response and a new header to indi-
cate why a SDP message body is included in a 18x message.
The introduction of the 183 informational response message would
allow a called user agent to indicate to the calling user agent
whether or not the calling user agent should apply local alerting for
the session.  The existing 180 Ringing message would indicate that
the calling user agent has the option of providing local alerting
(and generally should).  The 183 Session Progress message would indi-
cate that the calling user agent should not provide local alerting.
In additionally, the calling user agent may be called on to establish
a media session to be used by the called user agent to indicate the
status of the session setup request as part of the indicated media
stream.  The indication of whether or not to play early media to the
calling user would be controlled with a new Session header included
in the 183 message.

A URL for this Internet-Draft is:
http://www.ietf.org/internet-drafts/draft-ietf-sip-183-00.txt

Internet-Drafts are also available by anonymous FTP. Login with the username
"anonymous" and a password of your e-mail address. After logging in,
type "cd internet-drafts" and then
	"get draft-ietf-sip-183-00.txt".

A list of Internet-Drafts directories can be found in
http://www.ietf.org/shadow.html 
or ftp://ftp.ietf.org/ietf/1shadow-sites.txt


Internet-Drafts can also be obtained by e-mail.

Send a message to:
	mailserv@ietf.org.
In the body type:
	"FILE /internet-drafts/draft-ietf-sip-183-00.txt".
	
NOTE:	The mail server at ietf.org can return the document in
	MIME-encoded form by using the "mpack" utility.  To use this
	feature, insert the command "ENCODING mime" before the "FILE"
	command.  To decode the response(s), you will need "munpack" or
	a MIME-compliant mail reader.  Different MIME-compliant mail readers
	exhibit different behavior, especially when dealing with
	"multipart" MIME messages (i.e. documents which have been split
	up into multiple messages), so check your local documentation on
	how to manipulate these messages.
		
		
Below is the data which will enable a MIME compliant mail reader
implementation to automatically retrieve the ASCII version of the
Internet-Draft.

--NextPart
Content-Type: Multipart/Alternative; Boundary="OtherAccess"

--OtherAccess
Content-Type: Message/External-body;
	access-type="mail-server";
	server="mailserv@ietf.org"

Content-Type: text/plain
Content-ID:	<19991022140323.I-D@ietf.org>

ENCODING mime
FILE /internet-drafts/draft-ietf-sip-183-00.txt

--OtherAccess
Content-Type: Message/External-body;
	name="draft-ietf-sip-183-00.txt";
	site="ftp.ietf.org";
	access-type="anon-ftp";
	directory="internet-drafts"

Content-Type: text/plain
Content-ID:	<19991022140323.I-D@ietf.org>

--OtherAccess--

--NextPart--





From owner-sip-outgoing@lists.research.bell-labs.com  Mon Oct 25 15:03:33 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA02315
	for <sip-archive@odin.ietf.org>; Mon, 25 Oct 1999 15:03:33 -0400 (EDT)
Received: by lists.research.bell-labs.com (Postfix)
	id 987BA52EF; Mon, 25 Oct 1999 15:01:23 -0400 (EDT)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 02A0352F3; Mon, 25 Oct 1999 15:01:22 -0400 (EDT)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from grubby.research.bell-labs.com (grubby.research.bell-labs.com [135.104.2.9])
	by lists.research.bell-labs.com (Postfix) with SMTP id B130252EF
	for <sip@lists.research.bell-labs.com>; Mon, 25 Oct 1999 15:01:07 -0400 (EDT)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by grubby; Mon Oct 25 15:00:40 EDT 1999
Received: from omzrelay02.mcit.com ([199.249.19.244]) by dusty; Mon Oct 25 14:59:46 EDT 1999
Received: from omzrelay.mcit.com ([166.37.204.49])
 by firewall.mcit.com (PMDF V5.2-32 #38417)
 with ESMTP id <0FK60070E9PGVX@firewall.mcit.com> for
 sip@lists.research.bell-labs.com; Mon, 25 Oct 1999 18:51:16 +0000 (GMT)
Received: from omzmta02.mcit.com (omzmta02.mcit.com [166.37.194.120])
 by omzrelay.mcit.com (8.8.7/) with ESMTP	id SAA06927; Mon,
 25 Oct 1999 18:51:06 +0000 (GMT)
Received: from wcom.com ([166.33.132.106])
 by omzmta02.mcit.com (InterMail v03.02.05 118 120)
 with ESMTP id <19991025185100.LIUX2840@wcom.com>; Mon,
 25 Oct 1999 18:51:00 +0000
Date: Mon, 25 Oct 1999 13:49:30 -0500
From: Alan Johnston <alan.johnston@wcom.com>
Subject: Re: Subsequent Authorization
To: "G. Clark Brown" <clark@facetcorp.com>
Cc: sip@lists.research.bell-labs.com
Message-id: <3814A63A.743BFFB0@wcom.com>
MIME-version: 1.0
X-Mailer: Mozilla 4.51 [en] (Win95; U)
Content-type: text/plain; charset=us-ascii
Content-transfer-encoding: 7bit
X-Accept-Language: en
References: <199910251716.MAA13794@center.sssi.com>
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

Clark,

You are correct - the exact way the document reads, where the resend of
the credentials in subsequent INVITEs is identical to credentials in the
initial INVITE, this would be a problem.  In reality, enough "salt"
would be included in the credentials so that the resend would not be
identical, and a forgery attack of this kind would fail.

What is really meant by this section is that the User Agent Client knows
the form of the authentication credentials required by the server and
generates them with the initial INVITE rather than leaving them out and
waiting for the challenge.

Perhaps I should modify the text and credentials accordingly.

Thanks,
Alan Johnston
+1-314-342-7360
MCI WorldCom
alan.johnston@wcom.com

"G. Clark Brown" wrote:
> 
> In 2.1.2 of draft-johnston-sip-call-flows-00.txt, it says:
> "Since the user already has authenticated with the server, the
> user supplies authentication credentials with the request and
> is not challenged by the server."  Since the credentials could
> have been sniffed from the original registration, doesn't the
> lack of a new challenge leave the registration server open
> to a forgery attack?
> 
> Clark



From owner-sip-outgoing@lists.research.bell-labs.com  Mon Oct 25 15:05:12 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA02355
	for <sip-archive@odin.ietf.org>; Mon, 25 Oct 1999 15:05:09 -0400 (EDT)
Received: by lists.research.bell-labs.com (Postfix)
	id 5DFD252DD; Mon, 25 Oct 1999 14:07:23 -0400 (EDT)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id D04F252F1; Mon, 25 Oct 1999 14:07:22 -0400 (EDT)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from grubby.research.bell-labs.com (grubby.research.bell-labs.com [135.104.2.9])
	by lists.research.bell-labs.com (Postfix) with SMTP id 7970652DD
	for <sip@lists.research.bell-labs.com>; Mon, 25 Oct 1999 14:07:07 -0400 (EDT)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by grubby; Mon Oct 25 14:05:37 EDT 1999
Received: from dominion.cisco.com ([161.44.224.12]) by dusty; Mon Oct 25 14:04:43 EDT 1999
Received: from OranLT ([171.69.210.11])
	by dominion.cisco.com (8.8.8-Cisco List Logging/8.8.8) with SMTP id OAA28352
	for <sip@lists.research.bell-labs.com>; Mon, 25 Oct 1999 14:05:35 -0400 (EDT)
From: "David R. Oran" <oran@cisco.com>
To: <sip@lists.research.bell-labs.com>
Subject: Some initial queries/comments on draft-ietf-sip-183-00.txt
Date: Mon, 25 Oct 1999 14:05:29 -0400
Message-ID: <NDBBKHCGKKIOOIJEGCOEEEDFCKAA.oran@cisco.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
X-MimeOLE: Produced By Microsoft MimeOLE V5.00.2314.1300
Importance: Normal
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

Thanks for all the careful work on this guys! Here are few questions and
comments based on my initial reading:

1) you don't make clear which pieces of this are intended to be specific to
the 183 response message and what pieces are intended to be generic. For
example, it would seem that the "Session: media/qos/security" header is much
more generic. In the abstract and introduction, it might be best to say
you're making TWO extensions to SIP, the Session header, and the 183
response.

2) This may just be me having shell shock flashbacks to my ISO days, but I
cringe when I read all these "shalls" in section 2.1. All of them read much
better if replaced by "should".

3) following on from the logic above in point 1, it is implied but not
stated that the "Session": header could be placed on the initial (or
subsequent) INVITE. This certainly makes sense for the qos & security forms,
and could conceivably be useful for the "media" form as well.

4) I know this may be a can of worms, but if we ever want to allow multiple
SDP bodies in SIP messages it would behoove us to ensure that headers that
refer to body part treatment can explicitly say WHICH body instance they
refer to.

5) the MUSTs in section 4.2/4.3 seem a bit strong. Nothing breaks if the
sender is slow or sloppy at stopping; the user might get some mixed audio or
be annoyed though. While I can't off the top of my head think of any
positive use for the continued transmission (maybe the "call is being
monitored" beep tone...") I'd like to hear why such strong prohibition is
called for. There is also the philosophical question of what actually
constitutes "temporary" media, especially in the case where the SDP
describing the "permanent" media is identical to the SDP describing the
"temporary" media.

6) Section 4.4, second paragraph. While I see that 183 may not be
appropriate for ringing, forwarding, or queued (since we have other
responses for these), the used of Session: media may be perfectly
appropriate. Is this just another instance of not becing clear about the
relative independence of the Session: header and the 183 response?





From owner-sip-outgoing@lists.research.bell-labs.com  Mon Oct 25 15:30:01 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA03157
	for <sip-archive@odin.ietf.org>; Mon, 25 Oct 1999 15:29:59 -0400 (EDT)
Received: by lists.research.bell-labs.com (Postfix)
	id CAB7C52F3; Mon, 25 Oct 1999 15:27:24 -0400 (EDT)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 492C052F5; Mon, 25 Oct 1999 15:27:24 -0400 (EDT)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 9A59C52F3
	for <sip@lists.research.bell-labs.com>; Mon, 25 Oct 1999 15:27:08 -0400 (EDT)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Mon Oct 25 15:26:06 EDT 1999
Received: from alpha.mcit.com ([199.249.19.243]) by dusty; Mon Oct 25 15:25:11 EDT 1999
Received: from omzrelay.mcit.com ([166.37.204.49])
 by firewall.mcit.com (PMDF V5.2-32 #38416)
 with ESMTP id <0FK600I7I9VR6E@firewall.mcit.com> for
 sip@lists.research.bell-labs.com; Mon, 25 Oct 1999 18:55:04 +0000 (GMT)
Received: from omzmta02.mcit.com (omzmta02.mcit.com [166.37.194.120])
 by omzrelay.mcit.com (8.8.7/) with ESMTP	id SAA10925 for
 <sip@lists.research.bell-labs.com>; Mon, 25 Oct 1999 18:55:05 +0000 (GMT)
Received: from wcom.com ([166.33.132.106])
 by omzmta02.mcit.com (InterMail v03.02.05 118 120)
 with ESMTP id <19991025185503.LKQF2840@wcom.com> for
 <sip@lists.research.bell-labs.com>; Mon, 25 Oct 1999 18:55:03 +0000
Date: Mon, 25 Oct 1999 13:53:33 -0500
From: Alan Johnston <alan.johnston@wcom.com>
Subject: I-D Action: SIP Call Flows and Service Examples
To: SIP List <sip@lists.research.bell-labs.com>
Message-id: <3814A72D.C14D8CE8@wcom.com>
MIME-version: 1.0
X-Mailer: Mozilla 4.51 [en] (Win95; U)
Content-type: text/plain; charset=us-ascii
Content-transfer-encoding: 7bit
X-Accept-Language: en
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

Two new Informational Internet-Drafts are available from the on-line
Internet-Drafts directories.  They will be briefly introduced at the 46th IETF
meeting
in Washington, D.C.

        Title           : SIP Telephony Call Flow Examples
        Author(s)       : A. Johnston, S. Donovan, R. Sparks, C. Cunningham,
                          K. Summers
        Filename        : draft-johnston-sip-call-flows-00.txt
        Pages           : 174
        Date            : 21-Oct-99
        
This document gives examples of SIP IP Telephony call flows.
Elements in these call flows include SIP User Agents and Clients, SIP
Proxy and Redirect Servers, and Gateways to the PSTN (Public Switch
Telephone Network).  Scenarios include SIP Registration, SIP to SIP
calling, SIP to Gateway, Gateway to SIP, and Gateway to Gateway via
SIP.  Call flow diagrams and message details are shown.  PSTN
telephony protocols are illustrated using SS7 (Signaling System 7),
ISDN (Integrated Services Digital Network) and FGB (Feature Group B)
circuit associated signaling.  PSTN calls are illustrated using
global telephone numbers from the PSTN and from private extensions
served on a PBX (Private Branch Exchange).

A URL for this Internet-Draft without diagrams (future versions will have ASCII
diagrams included) is:
http://www.ietf.org/internet-drafts/draft-johnston-sip-call-flows-00.txt

Acrobat and PostScript versions containing call flow diagrams are
available at:
http://www.greycouncil.com/sip/drafts/draft-johnston-sip-call-flows-00.pdf
http://www.greycouncil.com/sip/drafts/draft-johnston-sip-call-flows-00.ps

AND

        Title           : SIP Telephony Service Examples With Call Flows
        Author(s)       : R. Sparks, C. Cunningham, A. Johnston, S. Donovan,
                          K. Summers
        Filename        : draft-sparks-sip-service-examples-00.txt
        Pages           : 84
        Date            : 21-Oct-99
        
This is an informational draft showing one implementation of a set
of traditional telephony services using the Session Initiation
Protocol. Diagrams of the SIP conversations and the complete SIP
messages are provided.

A URL for this Internet-Draft is:
http://www.ietf.org/internet-drafts/draft-sparks-sip-service-examples-00.txt

Internet-Drafts are also available by anonymous FTP. Login with the
username
"anonymous" and a password of your e-mail address. After logging in,
type "cd internet-drafts" and then
        "get draft-johnston-sip-call-flows-00.txt" or
        "get draft-sparks-sip-service-examples-00.txt".

A list of Internet-Drafts directories can be found in
http://www.ietf.org/shadow.html 
or ftp://ftp.ietf.org/ietf/1shadow-sites.txt


Internet-Drafts can also be obtained by e-mail.

Send a message to:
        mailserv@ietf.org.
In the body type:
        "FILE /internet-drafts/draft-johnston-sip-call-flows-00.txt".
        
NOTE:   The mail server at ietf.org can return the document in
        MIME-encoded form by using the "mpack" utility.  To use this
        feature, insert the command "ENCODING mime" before the "FILE"
        command.  To decode the response(s), you will need "munpack" or
        a MIME-compliant mail reader.  Different MIME-compliant mail
readers
        exhibit different behavior, especially when dealing with
        "multipart" MIME messages (i.e. documents which have been split
        up into multiple messages), so check your local documentation on
        how to manipulate these messages.



From owner-sip-outgoing@lists.research.bell-labs.com  Mon Oct 25 15:38:29 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA03457
	for <sip-archive@odin.ietf.org>; Mon, 25 Oct 1999 15:38:28 -0400 (EDT)
Received: by lists.research.bell-labs.com (Postfix)
	id 447A452E6; Mon, 25 Oct 1999 13:17:24 -0400 (EDT)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id A929C52EF; Mon, 25 Oct 1999 13:17:23 -0400 (EDT)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 23AC652E6
	for <sip@lists.research.bell-labs.com>; Mon, 25 Oct 1999 13:17:08 -0400 (EDT)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Mon Oct 25 13:17:00 EDT 1999
Received: from out.sssi.com ([204.217.196.3]) by dusty; Mon Oct 25 13:16:06 EDT 1999
Received: by out.sssi.com; id MAA01742; Mon, 25 Oct 1999 12:12:36 -0500 (CDT)
Received: from center.sssi.com(199.29.166.7) by out.sssi.com via smap (V4.2)
	id xma001734; Mon, 25 Oct 99 12:11:41 -0500
Received: (from clark@localhost) by center.sssi.com (8.6.12/8.6.9) id MAA13794 for sip@lists.research.bell-labs.com; Mon, 25 Oct 1999 12:16:03 -0500
Message-Id: <199910251716.MAA13794@center.sssi.com>
Subject: Subsequent Authorization
To: sip@lists.research.bell-labs.com
Date: Mon, 25 Oct 1999 12:16:03 -0500 (CDT)
From: "G. Clark Brown" <clark@facetcorp.com>
X-Mailer: ELM [version 2.4 PL23]
Content-Type: text
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk

In 2.1.2 of draft-johnston-sip-call-flows-00.txt, it says:
"Since the user already has authenticated with the server, the
user supplies authentication credentials with the request and
is not challenged by the server."  Since the credentials could
have been sniffed from the original registration, doesn't the
lack of a new challenge leave the registration server open
to a forgery attack?

Clark




From owner-sip-outgoing@lists.research.bell-labs.com  Tue Oct 26 08:47:56 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id IAA03528
	for <sip-archive@odin.ietf.org>; Tue, 26 Oct 1999 08:47:55 -0400 (EDT)
Received: by lists.research.bell-labs.com (Postfix)
	id DDD7F52B6; Tue, 26 Oct 1999 08:45:36 -0400 (EDT)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 51DC252E7; Tue, 26 Oct 1999 08:45:36 -0400 (EDT)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 4F93A52B6
	for <sip@lists.research.bell-labs.com>; Tue, 26 Oct 1999 08:45:08 -0400 (EDT)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Tue Oct 26 08:43:59 EDT 1999
Received: from smtprtp1.ntcom.nortel.net ([137.118.22.14]) by dusty; Tue Oct 26 08:43:05 EDT 1999
Received: from zrchb213.us.nortel.com (actually zrchb213) 
          by smtprtp1.ntcom.nortel.net; Tue, 26 Oct 1999 08:43:08 -0400
Received: by zrchb213.us.nortel.com with Internet Mail Service (5.5.2448.0) 
          id <VS1QQN43>; Tue, 26 Oct 1999 07:43:07 -0500
Message-ID: <C51ED84B6F47D211917A0000F8BCBD11020CA0AB@zcard00g.ca.nortel.com>
From: "Tom-PT Taylor" <taylor@nortelnetworks.com>
To: "'sip@lists.research.bell-labs.com'" <sip@lists.research.bell-labs.com>
Subject: SIP Interim session
Date: Tue, 26 Oct 1999 07:43:06 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2448.0)
Content-Type: text/plain
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk

I am trying to decide whether I want to be in Washington for the SIP interim
session on Nov. 7.  Will anything be presented or discussed which wasn't
covered at the MMUSIC session in Oslo?

Tom Taylor
Advisor -- IPConnect Standards
E-mail: taylor@nortelnetworks.com (internally, Tom-PT Taylor)
Phone and FAX: +1 613 736 0961




From owner-sip-outgoing@lists.research.bell-labs.com  Tue Oct 26 09:07:32 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id JAA03799
	for <sip-archive@odin.ietf.org>; Tue, 26 Oct 1999 09:07:31 -0400 (EDT)
Received: by lists.research.bell-labs.com (Postfix)
	id 31D4252E7; Tue, 26 Oct 1999 09:05:26 -0400 (EDT)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 9C0E152F0; Tue, 26 Oct 1999 09:05:25 -0400 (EDT)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 8733D52E7
	for <sip@lists.research.bell-labs.com>; Tue, 26 Oct 1999 09:05:08 -0400 (EDT)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Tue Oct 26 09:03:50 EDT 1999
Received: from wodc7mr3.ffx.ops.us.uu.net ([192.48.96.19]) by dusty; Tue Oct 26 09:02:56 EDT 1999
Received: from dynamicsoft.com by wodc7mr3.ffx.ops.us.uu.net with ESMTP 
	(peer crosschecked as: [63.72.186.56])
	id QQhmpg11928;
	Tue, 26 Oct 1999 13:06:26 GMT
Message-ID: <3815A6C9.85A5BC02@dynamicsoft.com>
Date: Tue, 26 Oct 1999 09:04:09 -0400
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
Organization: Dynamicsoft
X-Mailer: Mozilla 4.7 [en] (Win98; U)
X-Accept-Language: en
MIME-Version: 1.0
To: Tom-PT Taylor <taylor@nortelnetworks.com>
Cc: "'sip@lists.research.bell-labs.com'" <sip@lists.research.bell-labs.com>
Subject: Re: SIP Interim session
References: <C51ED84B6F47D211917A0000F8BCBD11020CA0AB@zcard00g.ca.nortel.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit



Tom-PT Taylor wrote:
> 
> I am trying to decide whether I want to be in Washington for the SIP interim
> session on Nov. 7.  Will anything be presented or discussed which wasn't
> covered at the MMUSIC session in Oslo?

It will be a much more in depth presentation than in Oslo. We now have
several hours just for tutorials and explanations, in order to best
understand the motivations behind the design decisions made by DCS.
There will also be time for discussion afterwards.

-Jonathan R.

-- 
Jonathan D. Rosenberg                       200 Executive Drive
Chief Scientist                             Suite 210 
Dynamicsoft                                 West Orange, NJ 07052
jdrosen@dynamicsoft.com                     FAX:   (732) 741-4778
http://www.cs.columbia.edu/~jdrosen         PHONE: (732) 741-7244



From owner-sip-outgoing@lists.research.bell-labs.com  Tue Oct 26 11:53:45 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id LAA11101
	for <sip-archive@odin.ietf.org>; Tue, 26 Oct 1999 11:53:44 -0400 (EDT)
Received: by lists.research.bell-labs.com (Postfix)
	id 0E8CE52DC; Tue, 26 Oct 1999 11:51:23 -0400 (EDT)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 8102B52DE; Tue, 26 Oct 1999 11:51:22 -0400 (EDT)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from grubby.research.bell-labs.com (grubby.research.bell-labs.com [135.104.2.9])
	by lists.research.bell-labs.com (Postfix) with SMTP id 6580C52DC
	for <sip@lists.research.bell-labs.com>; Tue, 26 Oct 1999 11:51:07 -0400 (EDT)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by grubby; Tue Oct 26 11:50:50 EDT 1999
Received: from ncc1701.iml-cti.com ([207.183.39.67]) by dusty; Tue Oct 26 11:49:55 EDT 1999
Received: from hfrancois ([207.139.62.11])
	by ncc1701.iml-cti.com (8.9.3/8.9.3) with SMTP id LAA10220
	for <sip@lists.research.bell-labs.com>; Tue, 26 Oct 1999 11:56:35 -0400
From: "Francois Morel" <francois.morel@iml-cti.com>
To: "SIP" <sip@lists.research.bell-labs.com>
Subject: draft-johnston-sip-call-flows-00 Review
Date: Tue, 26 Oct 1999 12:01:39 -0400
Message-ID: <000601bf1fcb$6384e860$523f8bcf@hfrancois>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook 8.5, Build 4.71.2173.0
X-MimeOLE: Produced By Microsoft MimeOLE V4.72.3110.3
Importance: Normal
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

greetings,

I am new to this list so please tell me if the following has already been
discussed.

I have now partly reviewed the SIP call flow document; which is by the way a
very useful document! here is a couple of comments I have

I have seen that the Tel URL draft is incorrectly referred to as [5] instead
of the proper reference of [7].

By the way could someone please tell me where I could get a copy of the this
draft? I have not found it on the IETF WEB site.

The second comment I have concerns section 6.1.1 of the document. User A
requests a connection to Called Number 972-555-2222. Gateway GW1 issues an
INVITE (F2) where the Called Number is translated into SIP URL "sip:+1
918-555-3333". Should the URL be instead "sip:+1 972-555-2222" ? GW1 may
have performed address translation there but if so, I do not understand how
comes the number "972-555-2222" re-appears again in the record route section
of an INVITE from the proxy server SS1 (F3). Maybe there is something I
don't get?


Best Regards,
Francois Morel
InnoMediaLogic Inc.
4501 Bishop, St-Hubert, PQ, Canada, J3Y 9E1
Tel: (450) 676-2977 x128 Fax: (450) 676-0360








From owner-sip-outgoing@lists.research.bell-labs.com  Wed Oct 27 08:57:49 1999
Received: from lists.research.bell-labs.com (lists.research.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id IAA09753
	for <sip-archive@odin.ietf.org>; Wed, 27 Oct 1999 08:57:49 -0400 (EDT)
Received: by lists.research.bell-labs.com (Postfix)
	id 2EAFB52E3; Wed, 27 Oct 1999 08:55:24 -0400 (EDT)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 9F17052E8; Wed, 27 Oct 1999 08:55:23 -0400 (EDT)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id CEB2D52E3
	for <sip@lists.research.bell-labs.com>; Wed, 27 Oct 1999 08:55:08 -0400 (EDT)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Wed Oct 27 08:54:15 EDT 1999
Received: from qhars002.nortel.com ([192.100.101.19]) by dusty; Wed Oct 27 08:53:21 EDT 1999
Received: from zhard00m.europe.nortel.com (actually zhard00m) 
          by qhars002.nortel.com; Wed, 27 Oct 1999 13:48:15 +0100
Received: by zhard00m.europe.nortel.com with Internet Mail Service (5.5.2448.0) 
          id <VA72PZXL>; Wed, 27 Oct 1999 13:48:11 +0100
Message-ID: <33E324D95F44D311AA3E00204840075B5500B5@zhard00e.europe.nortel.com>
From: "Mark Gibson" <mrg@nortelnetworks.com>
To: "'SIP List'" <sip@lists.research.bell-labs.com>
Subject: New Internet Draft
Date: Wed, 27 Oct 1999 13:48:08 +0100
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2448.0)
Content-Type: text/plain
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk

The following Internet Draft has been submitted :

Title:		Use of SIP for the Reservation of QoS guaranteed Paths
Authors:	M. Gibson, J. Crowcroft
Filename:	draft-gibson-sip-qos-resv-00.txt
Date:		October 1999

And subject to its approval, we will present it at the 46th IETF.

Abstract:	This draft defines a modification of the use of the SIP
protocol to
   	perform route reservation. These modifications are applied to two of
   	the existing SIP Methods: INVITE and REGISTER. The modifications
   	allow the INVITE method to be used to find the best path across a
   	particular network based on QoS metrics. The route choice is able to
   	be restricted at the network edge. The proposed modifications also
   	allow the REGISTER method to be used as a means of disseminating
   	information necessary to determine these QoS metrics. This
   	information can be used to route INVITEs away from known areas of
   	congestion.

Available from:
http://search.ietf.org/internet-drafts/draft-gibson-sip-qos-resv-00.txt





From owner-sip-outgoing@lists.research.bell-labs.com  Wed Oct 27 10:01:39 1999
Received: from lists.research.bell-labs.com (lists.research.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id KAA12585
	for <sip-archive@odin.ietf.org>; Wed, 27 Oct 1999 10:01:38 -0400 (EDT)
Received: by lists.research.bell-labs.com (Postfix)
	id BC70E52DE; Wed, 27 Oct 1999 09:59:24 -0400 (EDT)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 1CBB152EB; Wed, 27 Oct 1999 09:59:24 -0400 (EDT)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 11DB352DE
	for <sip@lists.research.bell-labs.com>; Wed, 27 Oct 1999 09:59:07 -0400 (EDT)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Wed Oct 27 09:57:14 EDT 1999
Received: from qhars002.nortel.com ([192.100.101.19]) by dusty; Wed Oct 27 09:56:20 EDT 1999
Received: from zhard00m.europe.nortel.com (actually zhard00m) 
          by qhars002.nortel.com; Wed, 27 Oct 1999 14:57:04 +0100
Received: by zhard00m.europe.nortel.com with Internet Mail Service (5.5.2448.0) 
          id <VA72P7SN>; Wed, 27 Oct 1999 14:56:41 +0100
Message-ID: <61ABD11436FED21192440000F81F3E36014C5DB1@nwcwi1a.europe.nortel.com>
From: "Bart Wensley" <bartw@nortelnetworks.com>
To: "'Gonzalo.Camarillo@ericsson.com'" <Gonzalo.Camarillo@ericsson.com>
Cc: "'sip@lists.research.bell-labs.com'" <sip@lists.research.bell-labs.com>
Subject: Comments on draft-camarillo-mmusic-sip-isup-bcp-00.txt
Date: Wed, 27 Oct 1999 14:56:05 +0100
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2448.0)
Content-Type: text/plain
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk

Gonzalo,

I have put together some comments on the "Best Current Practice for ISUP to
SIP mapping" internet draft:

Section 1 - Introduction

The statement "Maintenance messages are outside the scope of this document."
is not very clear. Since there is no fixed identifier (i.e. CIC) for
SIP-BCP-T "trunks", the concept of ISUP maintenance (e.g. blocking,
unblocking, etc...) does not make sense. The draft should state that ISUP
maintenance messages are not used for SIP-BCP-T.

Section 3 - Scenarios

Although the concept of "SIP bridging" is mentioned in this section, it is
not discussed at all in the remainder of the document. In subsequent
sections of the document, it would be useful to discuss the inclusion of the
ISUP message within the body of the SIP message.

Section 5 - Mapping

It would be useful to include message sequence charts showing call flows for
SIP to ISUP and ISUP to SIP. Now that draft-johnston-sip-call-flows-00.txt
has been released, you may want to refer to it.

Section 6.6 - ACM is received

In the PSTN, the nearest exchange to the called party (not the caller)
generates the ringback tone and may send voice announcements.

Section 6.9 - CPG with status 'alerting' is received

The procedures in section 6.6 (not section 6.5) should be followed in this
case.

Section 7.1 - Address received

The use of a timer to force enbloc signaling is not acceptable. In the case
of SIP bridging, subscribers originating calls from the PSTN will not accept
an artificial post-dial delay (even if it is just a few seconds long).
Overlap signaling must be supported. It is essential that the overlap
process takes place within the context of a single session - using the
suggested INVITE/CANCEL/INVITE approach would result in multiple abortive
calls being delivered to the terminating agent, which would not be
acceptable.

Why not send an INVITE message when the ISUP IAM is received and then send
subsequent INFO messages for each ISUP SAM? I understand that "pure" SIP
agents will expect the INVITE to contain the complete address of the called
party. This could be handled by including support for overlap in the
"Require" extensions (draft-roach-mmusic-sip-pstn-require-header-00.txt). If
the terminator did not support the PSTN extensions, the originator could
then switch to enbloc and wait for the full address to be collected.

Details should be provided to specify how the various fields in the header
of the INVITE message are filled in. What should be provided in the "From:"
and "To:" fields? Is there a recommendation for the generation of Call-IDs?

Bart Wensley (bartw@nortelnetworks.com)
Nortel Networks




From owner-sip-outgoing@lists.research.bell-labs.com  Wed Oct 27 10:49:33 1999
Received: from lists.research.bell-labs.com (lists.research.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id KAA14885
	for <sip-archive@odin.ietf.org>; Wed, 27 Oct 1999 10:49:32 -0400 (EDT)
Received: by lists.research.bell-labs.com (Postfix)
	id 0AE3052E8; Wed, 27 Oct 1999 10:47:26 -0400 (EDT)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 7534D52F1; Wed, 27 Oct 1999 10:47:25 -0400 (EDT)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 393D652E8
	for <sip@lists.research.bell-labs.com>; Wed, 27 Oct 1999 10:47:10 -0400 (EDT)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Wed Oct 27 10:45:54 EDT 1999
Received: from mw.3com.com ([149.112.20.3]) by dusty; Wed Oct 27 10:45:00 EDT 1999
Received: from mwgate02.mw.3com.com by mw.3com.com (8.8.5/3.1.090690-3Com Corporation)
	id JAA04855; Wed, 27 Oct 1999 09:45:28 -0500 (CDT)
Received: by mwgate02.mw.3com.com(Lotus SMTP MTA v4.6.4  (830.2 3-23-1999))  id 86256817.0051FA01 ; Wed, 27 Oct 1999 09:55:24 -0500
X-Lotus-FromDomain: 3COM@3COM-MWGATE
From: "Anoop Tripathi" <Anoop_Tripathi@mw.3com.com>
To: sip@lists.research.bell-labs.com
Message-ID: <86256817.0051F8C2.00@mwgate02.mw.3com.com>
Date: Wed, 27 Oct 1999 09:44:09 -0500
Subject: Conference Id in Sip
Mime-Version: 1.0
Content-type: text/plain; charset=us-ascii
Content-Disposition: inline
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk




Is there a plan to add something like Conference Id in SIP ?

Otherwise how do we distinguish if a call is intended to be a part of a
conference.


Thanks,


Anoop





From owner-sip-outgoing@lists.research.bell-labs.com  Wed Oct 27 10:55:27 1999
Received: from lists.research.bell-labs.com (lists.research.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id KAA15181
	for <sip-archive@odin.ietf.org>; Wed, 27 Oct 1999 10:55:25 -0400 (EDT)
Received: by lists.research.bell-labs.com (Postfix)
	id 734F752F2; Wed, 27 Oct 1999 10:53:25 -0400 (EDT)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id CDBC552F1; Wed, 27 Oct 1999 10:53:24 -0400 (EDT)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id CCF9E52F2
	for <sip@lists.research.bell-labs.com>; Wed, 27 Oct 1999 10:53:10 -0400 (EDT)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Wed Oct 27 10:52:47 EDT 1999
Received: from cs.columbia.edu ([128.59.16.20]) by dusty; Wed Oct 27 10:51:54 EDT 1999
Received: from opus.cs.columbia.edu (opus.cs.columbia.edu [128.59.20.100])
	by cs.columbia.edu (8.9.1/8.9.1) with ESMTP id KAA15435;
	Wed, 27 Oct 1999 10:52:46 -0400 (EDT)
Received: from cs.columbia.edu (bart.cs.columbia.edu [128.59.19.191])
	by opus.cs.columbia.edu (8.9.1/8.9.1) with ESMTP id KAA17168;
	Wed, 27 Oct 1999 10:52:45 -0400 (EDT)
Message-ID: <381711AA.6A564104@cs.columbia.edu>
Date: Wed, 27 Oct 1999 10:52:26 -0400
From: Henning Schulzrinne <schulzrinne@cs.columbia.edu>
Organization: Columbia University, Dept. of Computer Science
X-Mailer: Mozilla 4.61 [en] (X11; U; SunOS 5.7 sun4u)
X-Accept-Language: en
MIME-Version: 1.0
To: Anoop Tripathi <Anoop_Tripathi@mw.3com.com>
Cc: sip@lists.research.bell-labs.com
Subject: Re: Conference Id in Sip
References: <86256817.0051F8C2.00@mwgate02.mw.3com.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

Anoop Tripathi wrote:
> 
> Is there a plan to add something like Conference Id in SIP ?
> 
> Otherwise how do we distinguish if a call is intended to be a part of a
> conference.

Not sure what you have in mind, but SDP already has a session identifier
allowing you to discover that (for example) you've already been invited
to the same conference by two different people.

> 
> Thanks,
> 
> Anoop

-- 
Henning Schulzrinne   http://www.cs.columbia.edu/~hgs



From owner-sip-outgoing@lists.research.bell-labs.com  Wed Oct 27 10:59:28 1999
Received: from lists.research.bell-labs.com (lists.research.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id KAA15373
	for <sip-archive@odin.ietf.org>; Wed, 27 Oct 1999 10:59:26 -0400 (EDT)
Received: by lists.research.bell-labs.com (Postfix)
	id 9F44452F1; Wed, 27 Oct 1999 10:57:21 -0400 (EDT)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 01F3652F4; Wed, 27 Oct 1999 10:57:20 -0400 (EDT)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from grubby.research.bell-labs.com (grubby.research.bell-labs.com [135.104.2.9])
	by lists.research.bell-labs.com (Postfix) with SMTP id 03DD052F1
	for <sip@lists.research.bell-labs.com>; Wed, 27 Oct 1999 10:57:06 -0400 (EDT)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by grubby; Wed Oct 27 10:55:34 EDT 1999
Received: from wodc7mr3.ffx.ops.us.uu.net ([192.48.96.19]) by dusty; Wed Oct 27 10:54:40 EDT 1999
Received: from dynamicsoft.com by wodc7mr3.ffx.ops.us.uu.net with ESMTP 
	(peer crosschecked as: [63.72.186.56])
	id QQhmtf20814;
	Wed, 27 Oct 1999 14:58:47 GMT
Message-ID: <3817129D.BC78C92F@dynamicsoft.com>
Date: Wed, 27 Oct 1999 10:56:29 -0400
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
Organization: Dynamicsoft
X-Mailer: Mozilla 4.7 [en] (Win98; U)
X-Accept-Language: en
MIME-Version: 1.0
To: Anoop Tripathi <Anoop_Tripathi@mw.3com.com>
Cc: sip@lists.research.bell-labs.com
Subject: Re: Conference Id in Sip
References: <86256817.0051F8C2.00@mwgate02.mw.3com.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

No plan - no need so far. The call control spec discusses how one
identifies "the conference", and this depends on the type of conference.
For an mbone conference, its the SDP conference ID; for a full mesh type
of call, its the Call-ID.

-Jonathan R.

Anoop Tripathi wrote:
> 
> Is there a plan to add something like Conference Id in SIP ?
> 
> Otherwise how do we distinguish if a call is intended to be a part of a
> conference.
> 
> Thanks,
> 
> Anoop

-- 
Jonathan D. Rosenberg                       200 Executive Drive
Chief Scientist                             Suite 210 
Dynamicsoft                                 West Orange, NJ 07052
jdrosen@dynamicsoft.com                     FAX:   (732) 741-4778
http://www.cs.columbia.edu/~jdrosen         PHONE: (732) 741-7244
http://www.dynamicsoft.com



From owner-sip-outgoing@lists.research.bell-labs.com  Wed Oct 27 12:21:36 1999
Received: from lists.research.bell-labs.com (lists.research.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA20482
	for <sip-archive@odin.ietf.org>; Wed, 27 Oct 1999 12:21:35 -0400 (EDT)
Received: by lists.research.bell-labs.com (Postfix)
	id 6265E52EB; Wed, 27 Oct 1999 12:19:24 -0400 (EDT)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id BCCAB52F5; Wed, 27 Oct 1999 12:19:23 -0400 (EDT)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id E209952EB
	for <sip@lists.research.bell-labs.com>; Wed, 27 Oct 1999 12:19:07 -0400 (EDT)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Wed Oct 27 12:18:05 EDT 1999
Received: from smtprtp1.ntcom.nortel.net ([137.118.22.14]) by dusty; Wed Oct 27 12:17:11 EDT 1999
Received: from zcard00n.ca.nortel.com (actually zcard00n) 
          by smtprtp1.ntcom.nortel.net; Wed, 27 Oct 1999 12:17:42 -0400
Received: from zmerd00d.ca.nortel.com ([47.128.128.104]) 
          by zcard00n.ca.nortel.com 
          with SMTP (Microsoft Exchange Internet Mail Service Version 5.5.2448.0) 
          id V41DL17Z; Wed, 27 Oct 1999 12:16:52 -0400
Received: from americasm01.nt.com (pquad074.ca.nortel.com [47.97.51.32]) 
          by zmerd00d.ca.nortel.com 
          with SMTP (Microsoft Exchange Internet Mail Service Version 5.5.2448.0) 
          id VWVCT3J2; Wed, 27 Oct 1999 12:16:50 -0400
Message-ID: <381726D8.B61A919A@americasm01.nt.com>
Date: Wed, 27 Oct 1999 12:22:48 -0400
From: "Rick Workman" <rworkman@nortelnetworks.com>
Organization: Nortel Networks
X-Mailer: Mozilla 4.03 [en] (Win95; I)
MIME-Version: 1.0
To: Alan Johnston <alan.johnston@wcom.com>
Cc: SIP List <sip@lists.research.bell-labs.com>
Subject: Re: I-D Action: SIP Call Flows and Service Examples
References: <3814A72D.C14D8CE8@wcom.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

Alan et. al.,

I just started reading through your draft on SIP Telephony call flows and had a few
comments/questions on the use of "tel:" (and similar schemes) URL's in SIP
messages.

For calls originating in the PSTN, it seems to me that tel: URLs would be the
preferred scheme in the To: header and the RequestURI for the initial INVITE. The
main reason for this is that destination host isn't (and shouldn't be) known to the
gateway; all it knows about are the dialled digits and and perhaps some originating
context based on the incoming trunk. The destination user agent may be another
gateway, a SIP phone/soft client, or some IVR service, any of which may not even be
in the same domain as the incoming gateway. Using the gateway host designation
seems artificial at best and may even cause the invitation to be routed back to it
if some naive proxy got involved. Using the tel: URL addresses seems to solve this
problem while permitting  proxies to map the RequestURI to a more SIP friendly form
if necessary. A similar issue arises for calls originating in SIP terminals; again
the client may have no real knowledge where the server agent will be located,
perhaps relying on a gateway selection (or other) service.

There would seem to be a couple of  minor issues in using  tel: URL's. They don't
seem to have quite made it to RFC status yet, but there's lots of things in that
category. They also seem to represent outgoing calls to the PSTN.
(<draft-antii-telephony-url-11.txt> : "They are intended for describing a terminal
that can be contacted using the telephone network." ) This fits well for calls made
from SIP to the PSTN, but doesn't seem to describe the case where a SIP terminal
was called from the PSTN using a telephone number (or does it?). To distinguish
between the two cases, the proxy may use additional contextual information, e.g.,
the invitiation originated in a known gateway. Alternatively, it may make sense to
permit the tel: URL syntax as an extension to the sip: URL syntax, or to define a
new scheme name which can be used with the existing tel: syntax.

I also don't understand the comment that tel: URL's are not routable in a SIP
network. In theory, any URL is routable if the SIP node is prepared to deal with
it, e.g., map dialled digits to a host. However, it doesn't make a lot of sense to
use non-SIP URLs in Contact headers for sessions (although it might for Contacts in
registrations as shown in the detailed call flows).

Finally, a minor aesthetic point on the private number format. While building on
the proposed tel: URL syntax, it seems to be a bit of a force fit into the SIP URL,
e.g., must use ',' instead of ';' before the phone-context since semi-colons aren't
allowed in user names. Use of tel: URLs would seem to resolve this as well.


Rick Workman
Carrier Networks
NortelNetworks, Ottawa




From owner-sip-outgoing@lists.research.bell-labs.com  Wed Oct 27 15:23:56 1999
Received: from lists.research.bell-labs.com (lists.research.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA02183
	for <sip-archive@odin.ietf.org>; Wed, 27 Oct 1999 15:23:55 -0400 (EDT)
Received: by lists.research.bell-labs.com (Postfix)
	id 1B0DB52F6; Wed, 27 Oct 1999 15:18:38 -0400 (EDT)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 0A5B352FB; Wed, 27 Oct 1999 15:18:33 -0400 (EDT)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from grubby.research.bell-labs.com (grubby.research.bell-labs.com [135.104.2.9])
	by lists.research.bell-labs.com (Postfix) with SMTP id 8719552B6
	for <sip@lists.research.bell-labs.com>; Tue, 26 Oct 1999 07:27:07 -0400 (EDT)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by grubby; Tue Oct 26 07:25:36 EDT 1999
Received: from ietf.org ([132.151.1.176]) by dusty; Tue Oct 26 07:24:41 EDT 1999
Received: from CNRI.Reston.VA.US (localhost [127.0.0.1])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id HAA01702;
	Tue, 26 Oct 1999 07:25:32 -0400 (EDT)
Message-Id: <199910261125.HAA01702@ietf.org>
Mime-Version: 1.0
Content-Type: Multipart/Mixed; Boundary="NextPart"
To: IETF-Announce: ;
Cc: sip@lists.research.bell-labs.com
From: Internet-Drafts@ietf.org
Reply-To: Internet-Drafts@ietf.org
Subject: I-D ACTION:draft-ietf-sip-183-00.txt
Date: Tue, 26 Oct 1999 07:25:31 -0400
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk

--NextPart

A New Internet-Draft is available from the on-line Internet-Drafts directories.
This draft is a work item of the Session Initiation Protocol Working Group of the IETF.

	Title		: SIP 183 Session Progress Message
	Author(s)	: S. Donovan, H. Schulzrinne, J. Rosenberg,
                          M. Cannon, A. Roach
	Filename	: draft-ietf-sip-183-00.txt
	Pages		: 26
	Date		: 22-Oct-99
	
This document describes a proposed extension to SIP [1].  This exten-
sion adds the 183 Session Progress response and a new header to indi-
cate why a SDP message body is included in a 18x message.
The introduction of the 183 informational response message would
allow a called user agent to indicate to the calling user agent
whether or not the calling user agent should apply local alerting for
the session.  The existing 180 Ringing message would indicate that
the calling user agent has the option of providing local alerting
(and generally should).  The 183 Session Progress message would indi-
cate that the calling user agent should not provide local alerting.
In additionally, the calling user agent may be called on to establish
a media session to be used by the called user agent to indicate the
status of the session setup request as part of the indicated media
stream.  The indication of whether or not to play early media to the
calling user would be controlled with a new Session header included
in the 183 message.

A URL for this Internet-Draft is:
http://www.ietf.org/internet-drafts/draft-ietf-sip-183-00.txt

Internet-Drafts are also available by anonymous FTP. Login with the username
"anonymous" and a password of your e-mail address. After logging in,
type "cd internet-drafts" and then
	"get draft-ietf-sip-183-00.txt".

A list of Internet-Drafts directories can be found in
http://www.ietf.org/shadow.html 
or ftp://ftp.ietf.org/ietf/1shadow-sites.txt


Internet-Drafts can also be obtained by e-mail.

Send a message to:
	mailserv@ietf.org.
In the body type:
	"FILE /internet-drafts/draft-ietf-sip-183-00.txt".
	
NOTE:	The mail server at ietf.org can return the document in
	MIME-encoded form by using the "mpack" utility.  To use this
	feature, insert the command "ENCODING mime" before the "FILE"
	command.  To decode the response(s), you will need "munpack" or
	a MIME-compliant mail reader.  Different MIME-compliant mail readers
	exhibit different behavior, especially when dealing with
	"multipart" MIME messages (i.e. documents which have been split
	up into multiple messages), so check your local documentation on
	how to manipulate these messages.
		
		
Below is the data which will enable a MIME compliant mail reader
implementation to automatically retrieve the ASCII version of the
Internet-Draft.

--NextPart
Content-Type: Multipart/Alternative; Boundary="OtherAccess"

--OtherAccess
Content-Type: Message/External-body;
	access-type="mail-server";
	server="mailserv@ietf.org"

Content-Type: text/plain
Content-ID:	<19991022140323.I-D@ietf.org>

ENCODING mime
FILE /internet-drafts/draft-ietf-sip-183-00.txt

--OtherAccess
Content-Type: Message/External-body;
	name="draft-ietf-sip-183-00.txt";
	site="ftp.ietf.org";
	access-type="anon-ftp";
	directory="internet-drafts"

Content-Type: text/plain
Content-ID:	<19991022140323.I-D@ietf.org>

--OtherAccess--

--NextPart--





From owner-sip-outgoing@lists.research.bell-labs.com  Wed Oct 27 15:59:34 1999
Received: from lists.research.bell-labs.com (lists.research.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA04439
	for <sip-archive@odin.ietf.org>; Wed, 27 Oct 1999 15:59:33 -0400 (EDT)
Received: by lists.research.bell-labs.com (Postfix)
	id 66F5652F4; Wed, 27 Oct 1999 15:57:23 -0400 (EDT)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id DEAEC52F5; Wed, 27 Oct 1999 15:57:22 -0400 (EDT)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 81C8152F4
	for <sip@lists.research.bell-labs.com>; Wed, 27 Oct 1999 15:57:08 -0400 (EDT)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Wed Oct 27 15:55:20 EDT 1999
Received: from mail.rdc1.sfba.home.com ([24.0.0.66]) by dusty; Wed Oct 27 15:54:24 EDT 1999
Received: from C721458A ([24.5.218.194]) by mail.rdc1.sfba.home.com
          (InterMail v4.01.01.00 201-229-111) with SMTP
          id <19991027195519.DYKZ11261.mail.rdc1.sfba.home.com@C721458A>
          for <sip@lists.research.bell-labs.com>;
          Wed, 27 Oct 1999 12:55:19 -0700
Message-ID: <006301bf20b6$1af89a60$c2da0518@pinol1.sfba.home.com>
From: "Yu Shen" <yushen@home.com>
To: <sip@lists.research.bell-labs.com>
Subject: Neccesity of SIP Proxy server?
Date: Wed, 27 Oct 1999 12:44:45 -0700
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0060_01BF2079.0BF80B00"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 5.00.2314.1300
X-MimeOLE: Produced By Microsoft MimeOLE V5.00.2314.1300
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk

This is a multi-part message in MIME format.

------=_NextPart_000_0060_01BF2079.0BF80B00
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

In SIP specification (2.0), Proxy server is used to complete a call =
between user agent client (UAC) and user agent server (UAS). I'm =
wondering for a particular implementation using SIP, can the =
functionality of proxy be combined into UAC and UAS respectively? What =
would be the problem, if done so?

Thanks,=20

Yu Shen
UTStarCom.

------=_NextPart_000_0060_01BF2079.0BF80B00
Content-Type: text/html;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML><HEAD>
<META content=3D"text/html; charset=3Diso-8859-1" =
http-equiv=3DContent-Type>
<META content=3D"MSHTML 5.00.2721.2900" name=3DGENERATOR>
<STYLE></STYLE>
</HEAD>
<BODY bgColor=3D#ffffff>
<DIV><FONT face=3DArial size=3D2>In SIP specification (2.0), Proxy =
server is used to=20
complete a call between user agent client (UAC) and user agent server =
(UAS). I'm=20
wondering for a particular implementation using SIP, can the =
functionality of=20
proxy be combined into UAC and UAS respectively? What would be the =
problem, if=20
done so?</FONT></DIV>
<DIV>&nbsp;</DIV>
<DIV><FONT face=3DArial>Thanks, </FONT></DIV>
<DIV>&nbsp;</DIV>
<DIV><FONT face=3DArial>Yu Shen</FONT></DIV>
<DIV><FONT face=3DArial>UTStarCom.</FONT></DIV></BODY></HTML>

------=_NextPart_000_0060_01BF2079.0BF80B00--




From owner-sip-outgoing@lists.research.bell-labs.com  Wed Oct 27 16:05:35 1999
Received: from lists.research.bell-labs.com (lists.research.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id QAA04913
	for <sip-archive@odin.ietf.org>; Wed, 27 Oct 1999 16:05:32 -0400 (EDT)
Received: by lists.research.bell-labs.com (Postfix)
	id 6C22F52F5; Wed, 27 Oct 1999 16:03:40 -0400 (EDT)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id AEF6652FF; Wed, 27 Oct 1999 16:03:39 -0400 (EDT)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from grubby.research.bell-labs.com (grubby.research.bell-labs.com [135.104.2.9])
	by lists.research.bell-labs.com (Postfix) with SMTP id 31AE952F5
	for <sip@lists.research.bell-labs.com>; Wed, 27 Oct 1999 16:03:07 -0400 (EDT)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by grubby; Wed Oct 27 16:01:47 EDT 1999
Received: from smtprtp1.ntcom.nortel.net ([137.118.22.14]) by dusty; Wed Oct 27 16:00:50 EDT 1999
Received: from zrtpd004.us.nortel.com (actually nrtpd004) 
          by smtprtp1.ntcom.nortel.net; Wed, 27 Oct 1999 14:20:06 -0400
Received: by zrtpd004.us.nortel.com with Internet Mail Service (5.5.2448.0) 
          id <VSFGLBRY>; Wed, 27 Oct 1999 14:20:05 -0400
Message-ID: <63E0DAD7784FD21188310000F80824B30151B7A1@zmpkdx02.us.nortel.com>
From: "Bill Korbe" <wkorbe@nortelnetworks.com>
To: sip@lists.research.bell-labs.com
Original-To: sip@lists.research.bell-labs.com,
             IETF-Announce <IETF-Announce:;>
PP-Warning: Parse error in original version of preceding To line
Subject: RE: The SIP INFO Method And Non Call Associated Signaling
Date: Wed, 27 Oct 1999 14:19:58 -0400
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2448.0)
Content-Type: text/plain; charset="iso-8859-1"
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk

The SIP protocol handles the transport of session control information during
the setup and tear down stages of a SIP controlled session.  The SIP INFO
Method allows for the carrying of session related control information that
is generated during a session when there are no setup or teardown messages
available to carry the information.  

If there is no active session but control information related to a session
still needs to be exchanged (e.g., non call associated signaling) are there
thoughts on what is the best transport mechanism to use for this case (e.g.,
use straight TCP, use SIGTRAN, use a phantom SIP call with no bearer
channel)?



-----Original Message-----
From: Internet-Drafts@ietf.org [mailto:Internet-Drafts@ietf.org]
Sent: Friday, October 22, 1999 3:59 AM
To: IETF-Announce
Cc: sip@lists.research.bell-labs.com
Subject: SIP INFO Method IETF Spec 21-Oct-99


A New Internet-Draft is available from the on-line Internet-Drafts
directories.
This draft is a work item of the Session Initiation Protocol Working Group
of the IETF.

	Title		: The SIP INFO Method
	Author(s)	: S. Donovan
	Filename	: draft-ietf-sip-info-method-00.txt
	Pages		: 10
	Date		: 21-Oct-99
	
This document proposes an extension to the Session Initiation Proto-
col.  This extension adds the INFO method to the SIP protocol.  The
intent of the INFO method is to allow for the carrying of session
related control information that is generated during a session.  One
example of such session control information is ISUP and ISDN signal-
ing messages used to control telephony calls services.
Other example uses of the INFO method include the carrying of encoded
DTMF digits and the reporting of signal strength in a wireless mobil-
ity application.

A URL for this Internet-Draft is:
http://www.ietf.org/internet-drafts/draft-ietf-sip-info-method-00.txt

Internet-Drafts are also available by anonymous FTP. Login with the username
"anonymous" and a password of your e-mail address. After logging in,
type "cd internet-drafts" and then
	"get draft-ietf-sip-info-method-00.txt".

A list of Internet-Drafts directories can be found in
http://www.ietf.org/shadow.html 
or ftp://ftp.ietf.org/ietf/1shadow-sites.txt



From owner-sip-outgoing@lists.research.bell-labs.com  Wed Oct 27 16:11:25 1999
Received: from lists.research.bell-labs.com (lists.research.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id QAA05246
	for <sip-archive@odin.ietf.org>; Wed, 27 Oct 1999 16:11:24 -0400 (EDT)
Received: by lists.research.bell-labs.com (Postfix)
	id DDEEA52F9; Wed, 27 Oct 1999 16:09:22 -0400 (EDT)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 6328952FB; Wed, 27 Oct 1999 16:09:22 -0400 (EDT)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id BCAB752F9
	for <sip@lists.research.bell-labs.com>; Wed, 27 Oct 1999 16:09:08 -0400 (EDT)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Wed Oct 27 16:07:48 EDT 1999
Received: from cs.columbia.edu ([128.59.16.20]) by dusty; Wed Oct 27 16:06:51 EDT 1999
Received: from opus.cs.columbia.edu (opus.cs.columbia.edu [128.59.20.100])
	by cs.columbia.edu (8.9.1/8.9.1) with ESMTP id QAA21161;
	Wed, 27 Oct 1999 16:07:46 -0400 (EDT)
Received: from cs.columbia.edu (bart.cs.columbia.edu [128.59.19.191])
	by opus.cs.columbia.edu (8.9.1/8.9.1) with ESMTP id QAA02837;
	Wed, 27 Oct 1999 16:07:46 -0400 (EDT)
Message-ID: <38175B7E.C5BF36F0@cs.columbia.edu>
Date: Wed, 27 Oct 1999 16:07:26 -0400
From: Henning Schulzrinne <schulzrinne@cs.columbia.edu>
Organization: Columbia University, Dept. of Computer Science
X-Mailer: Mozilla 4.61 [en] (X11; U; SunOS 5.7 sun4u)
X-Accept-Language: en
MIME-Version: 1.0
To: Yu Shen <yushen@home.com>
Cc: sip@lists.research.bell-labs.com
Subject: Re: Neccesity of SIP Proxy server?
References: <006301bf20b6$1af89a60$c2da0518@pinol1.sfba.home.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

> Yu Shen wrote:
> 
> In SIP specification (2.0), Proxy server is used to complete a call
> between user agent client (UAC) and user agent server (UAS). I'm
> wondering for a particular implementation using SIP, can the
> functionality of proxy be combined into UAC and UAS respectively? What
> would be the problem, if done so?

A proxy server is not needed to complete SIP calls. Any service you can
implement in a proxy, except forking, can probably be done in a UA.
Allowing an end system to be both a UA and a proxy is feasible with some
acrobatics, since names like proxy and UA are only logical designations
and don't constrain how you combine things.

> 
> Thanks,
> 
> Yu Shen
> UTStarCom.

-- 
Henning Schulzrinne   http://www.cs.columbia.edu/~hgs



From owner-sip-outgoing@lists.research.bell-labs.com  Wed Oct 27 16:59:04 1999
Received: from lists.research.bell-labs.com (lists.research.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id QAA08106
	for <sip-archive@odin.ietf.org>; Wed, 27 Oct 1999 16:59:03 -0400 (EDT)
Received: by lists.research.bell-labs.com (Postfix)
	id 2229552F8; Wed, 27 Oct 1999 16:55:43 -0400 (EDT)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 7490F52FF; Wed, 27 Oct 1999 16:55:42 -0400 (EDT)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id AEF7852F8
	for <sip@lists.research.bell-labs.com>; Wed, 27 Oct 1999 16:55:08 -0400 (EDT)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Wed Oct 27 16:54:27 EDT 1999
Received: from ericsson.com ([198.215.127.2]) by dusty; Wed Oct 27 16:53:29 EDT 1999
Received: from mr3.exu.ericsson.se (mr3a.ericsson.com [198.215.127.159])
	by ericsson.com (8.9.3/8.9.3) with ESMTP id PAA07407;
	Wed, 27 Oct 1999 15:49:49 -0500 (CDT)
Received: from newman.exu.ericsson.se (newman.exu.ericsson.se [138.85.10.50])
	by mr3.exu.ericsson.se (8.9.3/8.9.3) with ESMTP id PAA05363;
	Wed, 27 Oct 1999 15:49:49 -0500 (CDT)
Received: from b04a45.exu.ericsson.se (b04a45 [138.85.60.145]) by newman.exu.ericsson.se (8.7.5/8.7.3) with ESMTP id PAA29798; Wed, 27 Oct 1999 15:49:48 -0500 (CDT)
From: Sean Olson <eussean@exu.ericsson.se>
Received: (from eussean@localhost)
	by b04a45.exu.ericsson.se (8.9.1/8.9.1) id PAA03790;
	Wed, 27 Oct 1999 15:49:46 -0500 (CDT)
Date: Wed, 27 Oct 1999 15:49:46 -0500 (CDT)
Message-Id: <199910272049.PAA03790@b04a45.exu.ericsson.se>
To: sip@lists.research.bell-labs.com, wkorbe@nortelnetworks.com
Subject: RE: The SIP INFO Method And Non Call Associated Signaling
X-Sun-Charset: US-ASCII
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk


> The SIP protocol handles the transport of session control information during
> the setup and tear down stages of a SIP controlled session.  The SIP INFO
> Method allows for the carrying of session related control information that
> is generated during a session when there are no setup or teardown messages
> available to carry the information.  
> 
> If there is no active session but control information related to a session
> still needs to be exchanged (e.g., non call associated signaling) are there
> thoughts on what is the best transport mechanism to use for this case (e.g.,
> use straight TCP, use SIGTRAN, use a phantom SIP call with no bearer
> channel)?

I personally like the idea of using a separate SIP session for this.
The key would be choosing an appropriate SDP to describe this.
Unfortunately or fortunately depending on how you look at it, there is 
no currently documented way to describe arbitrary UDP/TCP sessions in the
manner that the rtpmap media attribute can describe arbitrary RTP sessions.
You could of course define some RTP profile for the control that you are 
thinking about. If you are talking about some traditional PSTN protocol
(ISUP/Q.931/etc.) you are probably better off using SIGTRAN. Or you could
use some extension attribute in the SDP that means this is a signalling
session...

-----------------------------------------------------------------
Sean Olson            E-mail: sean.olson@ericsson.com
Ericsson Inc.         Voice: (972) 583-5472 
                      FAX: (972) 669-0154




From owner-sip-outgoing@lists.research.bell-labs.com  Wed Oct 27 17:01:23 1999
Received: from lists.research.bell-labs.com (lists.research.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id RAA08313
	for <sip-archive@odin.ietf.org>; Wed, 27 Oct 1999 17:01:22 -0400 (EDT)
Received: by lists.research.bell-labs.com (Postfix)
	id 888655301; Wed, 27 Oct 1999 16:55:54 -0400 (EDT)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id DEC3B52FC; Wed, 27 Oct 1999 16:55:47 -0400 (EDT)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 9A5E152FC
	for <sip@lists.research.bell-labs.com>; Wed, 27 Oct 1999 16:55:12 -0400 (EDT)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Wed Oct 27 16:53:53 EDT 1999
Received: from smtprch1.nortel.com ([192.135.215.14]) by dusty; Wed Oct 27 16:52:56 EDT 1999
Received: from zrtpd004.us.nortel.com (actually nrtpd004) 
          by smtprch1.nortel.com; Wed, 27 Oct 1999 15:51:19 -0500
Received: by zrtpd004.us.nortel.com with Internet Mail Service (5.5.2448.0) 
          id <VX5JHHXD>; Wed, 27 Oct 1999 16:51:19 -0400
Message-ID: <63E0DAD7784FD21188310000F80824B30151B7A6@zmpkdx02.us.nortel.com>
From: "Bill Korbe" <wkorbe@nortelnetworks.com>
To: "'sip@lists.research.bell-labs.com'" <sip@lists.research.bell-labs.com>
Original-To: "'sip@lists.research.bell-labs.com'" <sip@lists.research.bell-labs.com>,
             'IETF-Announce' <IETF-Announce:;>
PP-Warning: Parse error in original version of preceding To line
Subject: Recall: The SIP INFO Method And Non Call Associated Signaling
Date: Wed, 27 Oct 1999 16:51:12 -0400
Expiry-Date: Fri, 29 Oct 1999 16:42:28 -0400
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2448.0)
Content-Type: multipart/alternative;
              boundary="----_=_NextPart_001_01BF20BD.03D889F6"
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk

This message is in MIME format. Since your mail reader does not understand
this format, some or all of this message may not be legible.

------_=_NextPart_001_01BF20BD.03D889F6
Content-Type: text/plain

Korbe, Bill [SC9:4X02-I:EXCH] would like to recall the message, "The SIP
INFO Method And Non Call Associated Signaling".

------_=_NextPart_001_01BF20BD.03D889F6
Content-Type: text/html
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV=3D"Content-Type" CONTENT=3D"text/html; =
charset=3Dus-ascii">
<META NAME=3D"Generator" CONTENT=3D"MS Exchange Server version =
5.5.2448.0">
<TITLE>Recall: The SIP INFO Method And Non Call Associated =
Signaling</TITLE>
</HEAD>
<BODY>

<P><FONT SIZE=3D2>Korbe, Bill [SC9:4X02-I:EXCH] would like to recall =
the message, &quot;The SIP INFO Method And Non Call Associated =
Signaling&quot;.</FONT></P>

</BODY>
</HTML>
------_=_NextPart_001_01BF20BD.03D889F6--



From owner-sip-outgoing@lists.research.bell-labs.com  Wed Oct 27 17:04:18 1999
Received: from lists.research.bell-labs.com (lists.research.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id RAA08505
	for <sip-archive@odin.ietf.org>; Wed, 27 Oct 1999 17:04:17 -0400 (EDT)
Received: by lists.research.bell-labs.com (Postfix)
	id B8D0752FC; Wed, 27 Oct 1999 16:56:57 -0400 (EDT)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 6D85552FE; Wed, 27 Oct 1999 16:56:34 -0400 (EDT)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 7C2C152FE
	for <sip@lists.research.bell-labs.com>; Wed, 27 Oct 1999 16:55:14 -0400 (EDT)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Wed Oct 27 16:53:53 EDT 1999
Received: from smtprch1.nortel.com ([192.135.215.14]) by dusty; Wed Oct 27 16:52:56 EDT 1999
Received: from zrchb213.us.nortel.com (actually zrchb213) 
          by smtprch1.nortel.com; Wed, 27 Oct 1999 15:53:18 -0500
Received: by zrchb213.us.nortel.com with Internet Mail Service (5.5.2448.0) 
          id <VXZ9YYX1>; Wed, 27 Oct 1999 15:53:15 -0500
Message-ID: <63E0DAD7784FD21188310000F80824B30151B7A7@zmpkdx02.us.nortel.com>
From: "Bill Korbe" <wkorbe@nortelnetworks.com>
To: "'sip@lists.research.bell-labs.com'" <sip@lists.research.bell-labs.com>
Subject: The SIP INFO Method And Non Call Associated Signaling
Date: Wed, 27 Oct 1999 15:53:04 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2448.0)
Content-Type: multipart/alternative;
              boundary="----_=_NextPart_001_01BF20BD.49A99DC6"
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk

This message is in MIME format. Since your mail reader does not understand
this format, some or all of this message may not be legible.

------_=_NextPart_001_01BF20BD.49A99DC6
Content-Type: text/plain;
	charset="iso-8859-1"

The SIP protocol handles the transport of session control information during
the setup and tear down stages of a SIP controlled session.  The SIP INFO
Method allows for the carrying of session related control information that
is generated during a session when there are no setup or teardown messages
available to carry the information.  

If there is no active session but control information related to a session
still needs to be exchanged (e.g., non call associated signaling) are there
thoughts on what is the best transport mechanism to use for this case (e.g.,
use straight TCP, use SIGTRAN, use a phantom SIP call with no bearer
channel)?




-----Original Message-----
From: Internet-Drafts@ietf.org [mailto:Internet-Drafts@ietf.org]
Sent: Friday, October 22, 1999 3:59 AM
To: IETF-Announce
Cc: sip@lists.research.bell-labs.com
Subject: SIP INFO Method IETF Spec 21-Oct-99


A New Internet-Draft is available from the on-line Internet-Drafts
directories.
This draft is a work item of the Session Initiation Protocol Working Group
of the IETF.

	Title		: The SIP INFO Method
	Author(s)	: S. Donovan
	Filename	: draft-ietf-sip-info-method-00.txt
	Pages		: 10
	Date		: 21-Oct-99
	
This document proposes an extension to the Session Initiation Proto-
col.  This extension adds the INFO method to the SIP protocol.  The
intent of the INFO method is to allow for the carrying of session
related control information that is generated during a session.  One
example of such session control information is ISUP and ISDN signal-
ing messages used to control telephony calls services.
Other example uses of the INFO method include the carrying of encoded
DTMF digits and the reporting of signal strength in a wireless mobil-
ity application.

A URL for this Internet-Draft is:
http://www.ietf.org/internet-drafts/draft-ietf-sip-info-method-00.txt

------_=_NextPart_001_01BF20BD.49A99DC6
Content-Type: text/html;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV=3D"Content-Type" CONTENT=3D"text/html; =
charset=3Diso-8859-1">
<META NAME=3D"Generator" CONTENT=3D"MS Exchange Server version =
5.5.2448.0">
<TITLE>The SIP INFO Method And Non Call Associated Signaling</TITLE>
</HEAD>
<BODY>

<P><FONT SIZE=3D2>The SIP protocol handles the transport of session =
control information during the setup and tear down stages of a SIP =
controlled session.&nbsp; The SIP INFO Method allows for the carrying =
of session related control information that is generated during a =
session when there are no setup or teardown messages available to carry =
the information.&nbsp; </FONT></P>

<P><FONT SIZE=3D2>If there is no active session but control information =
related to a session still needs to be exchanged (e.g., non call =
associated signaling) are there thoughts on what is the best transport =
mechanism to use for this case (e.g., use straight TCP, use SIGTRAN, =
use a phantom SIP call with no bearer channel)?</FONT></P>
<BR>
<BR>
<BR>

<P><FONT SIZE=3D2>-----Original Message-----</FONT>
<BR><FONT SIZE=3D2>From: Internet-Drafts@ietf.org [<A =
HREF=3D"mailto:Internet-Drafts@ietf.org">mailto:Internet-Drafts@ietf.org=
</A>]</FONT>
<BR><FONT SIZE=3D2>Sent: Friday, October 22, 1999 3:59 AM</FONT>
<BR><FONT SIZE=3D2>To: IETF-Announce</FONT>
<BR><FONT SIZE=3D2>Cc: sip@lists.research.bell-labs.com</FONT>
<BR><FONT SIZE=3D2>Subject: SIP INFO Method IETF Spec 21-Oct-99</FONT>
</P>
<BR>

<P><FONT SIZE=3D2>A New Internet-Draft is available from the on-line =
Internet-Drafts directories.</FONT>
<BR><FONT SIZE=3D2>This draft is a work item of the Session Initiation =
Protocol Working Group of the IETF.</FONT>
</P>

<P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <FONT =
SIZE=3D2>Title&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; : =
The SIP INFO Method</FONT>
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <FONT =
SIZE=3D2>Author(s)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; : S. =
Donovan</FONT>
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <FONT =
SIZE=3D2>Filename&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; : =
draft-ietf-sip-info-method-00.txt</FONT>
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <FONT =
SIZE=3D2>Pages&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; : =
10</FONT>
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <FONT =
SIZE=3D2>Date&nbsp;&nbsp;&nbsp; =
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; : 21-Oct-99</FONT>
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=20
<BR><FONT SIZE=3D2>This document proposes an extension to the Session =
Initiation Proto-</FONT>
<BR><FONT SIZE=3D2>col.&nbsp; This extension adds the INFO method to =
the SIP protocol.&nbsp; The</FONT>
<BR><FONT SIZE=3D2>intent of the INFO method is to allow for the =
carrying of session</FONT>
<BR><FONT SIZE=3D2>related control information that is generated during =
a session.&nbsp; One</FONT>
<BR><FONT SIZE=3D2>example of such session control information is ISUP =
and ISDN signal-</FONT>
<BR><FONT SIZE=3D2>ing messages used to control telephony calls =
services.</FONT>
<BR><FONT SIZE=3D2>Other example uses of the INFO method include the =
carrying of encoded</FONT>
<BR><FONT SIZE=3D2>DTMF digits and the reporting of signal strength in =
a wireless mobil-</FONT>
<BR><FONT SIZE=3D2>ity application.</FONT>
</P>

<P><FONT SIZE=3D2>A URL for this Internet-Draft is:</FONT>
<BR><FONT SIZE=3D2><A =
HREF=3D"http://www.ietf.org/internet-drafts/draft-ietf-sip-info-method-0=
0.txt" =
TARGET=3D"_blank">http://www.ietf.org/internet-drafts/draft-ietf-sip-inf=
o-method-00.txt</A></FONT>
</P>

</BODY>
</HTML>
------_=_NextPart_001_01BF20BD.49A99DC6--



From owner-sip-outgoing@lists.research.bell-labs.com  Wed Oct 27 17:15:43 1999
Received: from lists.research.bell-labs.com (lists.research.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id RAA09231
	for <sip-archive@odin.ietf.org>; Wed, 27 Oct 1999 17:15:41 -0400 (EDT)
Received: by lists.research.bell-labs.com (Postfix)
	id 90A7852FE; Wed, 27 Oct 1999 17:13:25 -0400 (EDT)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id F01C752FF; Wed, 27 Oct 1999 17:13:24 -0400 (EDT)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 1F54D52FE
	for <sip@lists.research.bell-labs.com>; Wed, 27 Oct 1999 17:13:08 -0400 (EDT)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Wed Oct 27 17:13:01 EDT 1999
Received: from wodc7mr3.ffx.ops.us.uu.net ([192.48.96.19]) by dusty; Wed Oct 27 17:12:04 EDT 1999
Received: from dynamicsoft.com by wodc7mr3.ffx.ops.us.uu.net with ESMTP 
	(peer crosschecked as: [63.72.186.56])
	id QQhmuf06056;
	Wed, 27 Oct 1999 21:15:37 GMT
Message-ID: <38176AEE.82ED4B3F@dynamicsoft.com>
Date: Wed, 27 Oct 1999 17:13:18 -0400
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
Organization: Dynamicsoft
X-Mailer: Mozilla 4.7 [en] (Win98; U)
X-Accept-Language: en
MIME-Version: 1.0
To: Rick Workman <rworkman@nortelnetworks.com>
Cc: Alan Johnston <alan.johnston@wcom.com>,
        SIP List <sip@lists.research.bell-labs.com>
Subject: Re: I-D Action: SIP Call Flows and Service Examples
References: <3814A72D.C14D8CE8@wcom.com> <381726D8.B61A919A@americasm01.nt.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit



Rick Workman wrote:
> 
> For calls originating in the PSTN, it seems to me that tel: URLs would be the
> preferred scheme in the To: header and the RequestURI for the initial INVITE. The
> main reason for this is that destination host isn't (and shouldn't be) known to the
> gateway; all it knows about are the dialled digits and and perhaps some originating
> context based on the incoming trunk. 

I agree completely.

The destination user agent may be another
> gateway, a SIP phone/soft client, or some IVR service, any of which may not even be
> in the same domain as the incoming gateway. Using the gateway host designation
> seems artificial at best and may even cause the invitation to be routed back to it
> if some naive proxy got involved.

Right. Using the IP address of the originating gateway is not the best
thing to do; slightly better is the address of the proxy (i.e.,
sip:5551212@wcom.com), and tel URL is even better.

 Using the tel: URL addresses seems to solve this
> problem while permitting  proxies to map the RequestURI to a more SIP friendly form
> if necessary. A similar issue arises for calls originating in SIP terminals; again
> the client may have no real knowledge where the server agent will be located,
> perhaps relying on a gateway selection (or other) service.

Exactly.

> 
> There would seem to be a couple of  minor issues in using  tel: URL's. They don't
> seem to have quite made it to RFC status yet, but there's lots of things in that
> category.

Its under IESG consideration now. Should be an RFC quite soon.

 They also seem to represent outgoing calls to the PSTN.
> (<draft-antii-telephony-url-11.txt> : "They are intended for describing a terminal
> that can be contacted using the telephone network." ) This fits well for calls made
> from SIP to the PSTN, but doesn't seem to describe the case where a SIP terminal
> was called from the PSTN using a telephone number (or does it?).

It could. I agree that a literal reading of the tel URL would imply that
this doesn't count. But, IMHO, the tel URL points to a resource; that
resource is some device *named* by a phone number only. So, I do believe
it makes sense to use it in this way to. You would need some kind of
database (ala enum) to translate this into a more fully qualified SIP
URL.


 To distinguish
> between the two cases, the proxy may use additional contextual information, e.g.,
> the invitiation originated in a known gateway. Alternatively, it may make sense to
> permit the tel: URL syntax as an extension to the sip: URL syntax, or to define a
> new scheme name which can be used with the existing tel: syntax.

The distinction is only on whether or not a translation step is
required. In general, we need to know what is represented by the tel
URL? If a PC host has a telephone number, it should be possible for
another PC host to call that number, and get the first host. So, in
general, we need to determine whether or not a tel URL has been
translated - that is, whether it represents a terminal on the PSTN, or
whether it represents a "name" which must be converted. The DCS guys ran
into exactly this problem. I believe what we need is basically a tel URL
extension, which specifies whether the number has been translated or no.
This was pretty much what they did.

> 
> I also don't understand the comment that tel: URL's are not routable in a SIP
> network. In theory, any URL is routable if the SIP node is prepared to deal with
> it, e.g., map dialled digits to a host. However, it doesn't make a lot of sense to
> use non-SIP URLs in Contact headers for sessions (although it might for Contacts in
> registrations as shown in the detailed call flows).

As a separate issue, I think its a bad idea to put anything but full
hostnames in Contact headers.

-Jonathan R.

-- 
Jonathan D. Rosenberg                       200 Executive Drive
Chief Scientist                             Suite 210 
dynamicsoft                                 West Orange, NJ 07052
jdrosen@dynamicsoft.com                     FAX:   (732) 741-4778
http://www.cs.columbia.edu/~jdrosen         PHONE: (732) 741-7244
http://www.dynamicsoft.com



From owner-sip-outgoing@lists.research.bell-labs.com  Wed Oct 27 17:18:55 1999
Received: from lists.research.bell-labs.com (lists.research.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id RAA09412
	for <sip-archive@odin.ietf.org>; Wed, 27 Oct 1999 17:18:52 -0400 (EDT)
Received: by lists.research.bell-labs.com (Postfix)
	id ECD9152FF; Wed, 27 Oct 1999 17:15:41 -0400 (EDT)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id BE8DE5300; Wed, 27 Oct 1999 17:15:39 -0400 (EDT)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id E5FDF52FF
	for <sip@lists.research.bell-labs.com>; Wed, 27 Oct 1999 17:15:09 -0400 (EDT)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Wed Oct 27 17:14:24 EDT 1999
Received: from smtprtp1.ntcom.nortel.net ([137.118.22.14]) by dusty; Wed Oct 27 17:13:28 EDT 1999
Received: from zrchb200.us.nortel.com (actually zrchb200) 
          by smtprtp1.ntcom.nortel.net; Wed, 27 Oct 1999 17:07:22 -0400
Received: by zrchb200.us.nortel.com with Internet Mail Service (5.5.2448.0) 
          id <VXYY3DRB>; Wed, 27 Oct 1999 16:07:22 -0500
Message-ID: <52F74DDA50B5D211AF800000F808252101059950@zrchb212.us.nortel.com>
From: "Larry Dolinar" <ldolinar@nortelnetworks.com>
To: "SIP Mailing List (E-mail)" <sip@lists.research.bell-labs.com>
Subject: preventing direct INVITE in enterprise
Date: Wed, 27 Oct 1999 16:07:21 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2448.0)
Content-Type: multipart/alternative;
              boundary="----_=_NextPart_001_01BF20BF.426F3A32"
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk

This message is in MIME format. Since your mail reader does not understand
this format, some or all of this message may not be legible.

------_=_NextPart_001_01BF20BF.426F3A32
Content-Type: text/plain

What is the current thinking on the path ACKs and BYEs travel and how this
affects enterprise implementations?  For efficiency's sake, UAs "in the
open" would want the most direct path for 2xx, ACK, and BYE. Meanwhile UAs
behind a firewall would proxy requests and responses, so does the proxy bear
all the responsibility for hiding any Contact: information the UA might
include that would reveal its address?  Normally Contact: information is
simply copied, right?  

Section 6.13 seems to indicate INVITEs must (sip-new-00) add Contact:, while
section 11.1 indicates it's optional.  But I suppose the Request-URI would
still reflect the proxy server behind the firewall, if implemented
consistently.

Suppose a marginally compliant UAC outside the enterprise decides to cache
Contact: addresses across calls (bad UA!). 
Does the enterprise proxy also prevent the INVITE from arriving, since the
Request-URI is "too specific", and return 403 Forbidden or something
similar?

I'm trying to allay some fears on the part of enterprise types here that are
concerned over the potential for incoming calls bypassing the proxy based on
direct response by the enterprise UA.  Even to the point of requiring all
2xx, ACK, and BYE traffic to traverse the proxy.  Any cause for concern?
All insights welcomed.

regards,
larry


------_=_NextPart_001_01BF20BF.426F3A32
Content-Type: text/html
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV=3D"Content-Type" CONTENT=3D"text/html; =
charset=3Dus-ascii">
<META NAME=3D"Generator" CONTENT=3D"MS Exchange Server version =
5.5.2651.14">
<TITLE>preventing direct INVITE in enterprise</TITLE>
</HEAD>
<BODY>

<P><FONT SIZE=3D2 FACE=3D"Arial">What is the current thinking on the =
path ACKs and BYEs travel and how this affects enterprise =
implementations?&nbsp; For efficiency's sake, UAs &quot;in the =
open&quot; would want the most direct path for 2xx, ACK, and BYE. =
Meanwhile UAs behind a firewall would proxy requests and responses, so =
does the proxy bear all the responsibility for hiding any Contact: =
information the UA might include that would reveal its address?&nbsp; =
Normally Contact: information is simply copied, right?&nbsp; =
</FONT></P>

<P><FONT SIZE=3D2 FACE=3D"Arial">Section 6.13 seems to indicate INVITEs =
must (sip-new-00) add Contact:, while section 11.1 indicates it's =
optional.&nbsp; But I suppose the Request-URI would still reflect the =
proxy server behind the firewall, if implemented =
consistently.</FONT></P>

<P><FONT SIZE=3D2 FACE=3D"Arial">Suppose a marginally compliant UAC =
outside the enterprise decides to cache Contact: addresses across calls =
(bad UA!). </FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">Does the enterprise proxy also =
prevent the INVITE from arriving, since the Request-URI is &quot;too =
specific&quot;, and return 403 Forbidden or something =
similar?</FONT></P>

<P><FONT SIZE=3D2 FACE=3D"Arial">I'm trying to allay some fears on the =
part of enterprise types here that are concerned over the potential for =
incoming calls bypassing the proxy based on direct response by the =
enterprise UA.&nbsp; Even to the point of requiring all 2xx, ACK, and =
BYE traffic to traverse the proxy.&nbsp; Any cause for concern?&nbsp; =
All insights welcomed.</FONT></P>

<P><FONT SIZE=3D2 FACE=3D"Arial">regards,</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">larry</FONT>
</P>

</BODY>
</HTML>
------_=_NextPart_001_01BF20BF.426F3A32--



From owner-sip-outgoing@lists.research.bell-labs.com  Wed Oct 27 17:39:46 1999
Received: from lists.research.bell-labs.com (lists.research.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id RAA10837
	for <sip-archive@odin.ietf.org>; Wed, 27 Oct 1999 17:39:46 -0400 (EDT)
Received: by lists.research.bell-labs.com (Postfix)
	id 914B452FB; Wed, 27 Oct 1999 17:37:22 -0400 (EDT)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id EE72F5302; Wed, 27 Oct 1999 17:37:21 -0400 (EDT)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id DC34752FB
	for <sip@lists.research.bell-labs.com>; Wed, 27 Oct 1999 17:37:08 -0400 (EDT)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Wed Oct 27 17:35:43 EDT 1999
Received: from Telemann.inoc.dl.nec.com ([143.101.112.2]) by dusty; Wed Oct 27 17:34:46 EDT 1999
Received: from aslws01.asl.dl.nec.com (aslws01-hme0.asl.dl.nec.com [143.101.10.1])
	by Telemann.inoc.dl.nec.com (8.8.8/8.8.8) with ESMTP id QAA17911;
	Wed, 27 Oct 1999 16:35:38 -0500 (CDT)
Received: by aslws01.asl.dl.nec.com (8.7.3/YDL1.9.1-940729.15)
	id QAA29114(aslws01.asl.dl.nec.com); Wed, 27 Oct 1999 16:34:28 -0500 (CDT)
Received: by aslws220.asl.dl.nec.com (8.7.3/YDL1.9.1-940729.15)
	id QAA05165(aslws220.asl.dl.nec.com); Wed, 27 Oct 1999 16:34:28 -0500 (CDT)
Message-ID: <381772EA.A0550FF5@asl.dl.nec.com>
Date: Wed, 27 Oct 1999 16:47:22 -0500
From: Steve Yao <yao@asl.dl.nec.com>
X-Mailer: Mozilla 4.61 [en] (WinNT; I)
X-Accept-Language: en,zh,zh-CN,zh-TW
MIME-Version: 1.0
To: Jonathan Rosenberg <jdrosen@dynamicsoft.com>,
        SIP List <sip@lists.research.bell-labs.com>
Subject: SIP Agenda in Washington
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

Hi Jonathan,

When will you decide and announce the agenda for SIG WG
Washington meeting? Is there any other way to know which 
I-D's are going to be discussed in Washington?

Thanks,

-- Steve
-------------------------------------------------------------
| Steve Y. Yao                | (972) 518-3632              |
| NEC America, Inc.           | (972) 518-3499 (Fax)        |
| Irving, Texas, USA          | yao@asl.dl.nec.com          |
-------------------------------------------------------------



From owner-sip-outgoing@lists.research.bell-labs.com  Wed Oct 27 17:51:29 1999
Received: from lists.research.bell-labs.com (lists.research.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id RAA11631
	for <sip-archive@odin.ietf.org>; Wed, 27 Oct 1999 17:51:28 -0400 (EDT)
Received: by lists.research.bell-labs.com (Postfix)
	id 11DF25302; Wed, 27 Oct 1999 17:49:22 -0400 (EDT)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 740555303; Wed, 27 Oct 1999 17:49:21 -0400 (EDT)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 834A15302
	for <sip@lists.research.bell-labs.com>; Wed, 27 Oct 1999 17:49:08 -0400 (EDT)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Wed Oct 27 17:47:31 EDT 1999
Received: from wodc7mr3.ffx.ops.us.uu.net ([192.48.96.19]) by dusty; Wed Oct 27 17:46:34 EDT 1999
Received: from dynamicsoft.com by wodc7mr3.ffx.ops.us.uu.net with ESMTP 
	(peer crosschecked as: [63.72.186.56])
	id QQhmuh28863;
	Wed, 27 Oct 1999 21:50:50 GMT
Message-ID: <3817732E.83A368AD@dynamicsoft.com>
Date: Wed, 27 Oct 1999 17:48:30 -0400
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
Organization: Dynamicsoft
X-Mailer: Mozilla 4.7 [en] (Win98; U)
X-Accept-Language: en
MIME-Version: 1.0
To: Steve Yao <yao@asl.dl.nec.com>
Cc: SIP List <sip@lists.research.bell-labs.com>
Subject: Re: SIP Agenda in Washington
References: <381772EA.A0550FF5@asl.dl.nec.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

I think everyone that asked for slots will have them; Dean and Joerg and
I will be finalizing the agenda shortly, and we'll email the specifics
out as soon as we have them.

-Jonathan R.

Steve Yao wrote:
> 
> Hi Jonathan,
> 
> When will you decide and announce the agenda for SIG WG
> Washington meeting? Is there any other way to know which
> I-D's are going to be discussed in Washington?
> 
> Thanks,
> 
> -- Steve
> -------------------------------------------------------------
> | Steve Y. Yao                | (972) 518-3632              |
> | NEC America, Inc.           | (972) 518-3499 (Fax)        |
> | Irving, Texas, USA          | yao@asl.dl.nec.com          |
> -------------------------------------------------------------

-- 
Jonathan D. Rosenberg                       200 Executive Drive
Chief Scientist                             Suite 210 
dynamicsoft                                 West Orange, NJ 07052
jdrosen@dynamicsoft.com                     FAX:   (732) 741-4778
http://www.cs.columbia.edu/~jdrosen         PHONE: (732) 741-7244
http://www.dynamicsoft.com



From owner-sip-outgoing@lists.research.bell-labs.com  Wed Oct 27 17:59:37 1999
Received: from lists.research.bell-labs.com (lists.research.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id RAA12164
	for <sip-archive@odin.ietf.org>; Wed, 27 Oct 1999 17:59:36 -0400 (EDT)
Received: by lists.research.bell-labs.com (Postfix)
	id 8C1A45303; Wed, 27 Oct 1999 17:57:24 -0400 (EDT)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 04DBB5304; Wed, 27 Oct 1999 17:57:23 -0400 (EDT)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 55BC65303
	for <sip@lists.research.bell-labs.com>; Wed, 27 Oct 1999 17:57:08 -0400 (EDT)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Wed Oct 27 17:57:01 EDT 1999
Received: from mailserv2.iuinc.com ([206.245.164.55]) by dusty; Wed Oct 27 17:56:04 EDT 1999
Received: (qmail 2748 invoked from network); 27 Oct 1999 21:56:59 -0000
Received: from unknown (HELO Adoyle) (216.181.56.35)
  by mailserv2.iuinc.com with SMTP; 27 Oct 1999 21:56:59 -0000
From: "Alex Doyle" <alex@broadsoft.com>
To: "SIP Mailing List (E-mail)" <sip@lists.research.bell-labs.com>
Subject: RE: preventing direct INVITE in enterprise
Date: Wed, 27 Oct 1999 17:58:43 -0400
Message-ID: <NDBBIAJMGMNOMABPCLMDEEDNCDAA.alex@broadsoft.com>
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_001C_01BF20A4.E8656DF0"
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V5.00.2314.1300
In-Reply-To: <52F74DDA50B5D211AF800000F808252101059950@zrchb212.us.nortel.com>
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk

This is a multi-part message in MIME format.

------=_NextPart_000_001C_01BF20A4.E8656DF0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit

preventing direct INVITE in enterpriseMy two cents:

* Enterprise proxies can use the Record-Route header to ensure they receive
subsequent BYEs, right?  Subsequently, I don't think proxies should have to
hide Contact information -- they should be able to just copy it, as you
mentioned.  Because it receives the Record-Route, the called UA knows to
ignore the Contact field.

* UAs should never cache Contact addresses.

* You can certainly make a case that value can be added by making 2xxs,
BYEs, ACKs, etc. go through a proxy server.  Network-oriented features can
be implemented on a proxy server, and could be triggered by these events.

Alex

  -----Original Message-----
  From: owner-sip@lists.research.bell-labs.com
[mailto:owner-sip@lists.research.bell-labs.com]On Behalf Of Larry Dolinar
  Sent: Wednesday, October 27, 1999 5:07 PM
  To: SIP Mailing List (E-mail)
  Subject: preventing direct INVITE in enterprise


  What is the current thinking on the path ACKs and BYEs travel and how this
affects enterprise implementations?  For efficiency's sake, UAs "in the
open" would want the most direct path for 2xx, ACK, and BYE. Meanwhile UAs
behind a firewall would proxy requests and responses, so does the proxy bear
all the responsibility for hiding any Contact: information the UA might
include that would reveal its address?  Normally Contact: information is
simply copied, right?

  Section 6.13 seems to indicate INVITEs must (sip-new-00) add Contact:,
while section 11.1 indicates it's optional.  But I suppose the Request-URI
would still reflect the proxy server behind the firewall, if implemented
consistently.

  Suppose a marginally compliant UAC outside the enterprise decides to cache
Contact: addresses across calls (bad UA!).
  Does the enterprise proxy also prevent the INVITE from arriving, since the
Request-URI is "too specific", and return 403 Forbidden or something
similar?

  I'm trying to allay some fears on the part of enterprise types here that
are concerned over the potential for incoming calls bypassing the proxy
based on direct response by the enterprise UA.  Even to the point of
requiring all 2xx, ACK, and BYE traffic to traverse the proxy.  Any cause
for concern?  All insights welcomed.

  regards,
  larry


------=_NextPart_000_001C_01BF20A4.E8656DF0
Content-Type: text/html;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML><HEAD><TITLE>preventing direct INVITE in enterprise</TITLE>
<META content=3D"text/html; charset=3Diso-8859-1" =
http-equiv=3DContent-Type>
<META content=3D"MSHTML 5.00.2314.1000" name=3DGENERATOR></HEAD>
<BODY>
<DIV><FONT color=3D#0000ff face=3DArial size=3D2><SPAN =
class=3D068555121-27101999>My two=20
cents:</SPAN></FONT></DIV>
<DIV><FONT color=3D#0000ff face=3DArial size=3D2><SPAN=20
class=3D068555121-27101999></SPAN></FONT>&nbsp;</DIV>
<DIV><FONT color=3D#0000ff face=3DArial size=3D2><SPAN =
class=3D068555121-27101999>*=20
Enterprise proxies can use the Record-Route header to ensure they =
receive=20
subsequent BYEs, right?&nbsp; Subsequently, I don't think proxies should =
have to=20
hide Contact information -- they should be able to just copy it, as you=20
mentioned.&nbsp; Because it receives the Record-Route, the called UA =
knows to=20
ignore the Contact field.</SPAN></FONT></DIV>
<DIV><FONT color=3D#0000ff face=3DArial size=3D2><SPAN=20
class=3D068555121-27101999></SPAN></FONT>&nbsp;</DIV>
<DIV><FONT color=3D#0000ff face=3DArial size=3D2><SPAN =
class=3D068555121-27101999>* UAs=20
should never cache Contact addresses.</SPAN></FONT></DIV>
<DIV><FONT color=3D#0000ff face=3DArial size=3D2><SPAN=20
class=3D068555121-27101999></SPAN></FONT>&nbsp;</DIV>
<DIV><FONT color=3D#0000ff face=3DArial size=3D2><SPAN =
class=3D068555121-27101999>* You=20
can certainly make a case that value can be added by making 2xxs, BYEs, =
ACKs,=20
etc. go through a proxy server.&nbsp; Network-oriented features can be=20
implemented on a proxy server, and could be triggered by these=20
events.</SPAN></FONT></DIV>
<DIV><FONT color=3D#0000ff face=3DArial size=3D2><SPAN=20
class=3D068555121-27101999></SPAN></FONT>&nbsp;</DIV>
<DIV><FONT color=3D#0000ff face=3DArial size=3D2><SPAN=20
class=3D068555121-27101999>Alex</SPAN></FONT></DIV>
<DIV><FONT color=3D#0000ff face=3DArial size=3D2><SPAN=20
class=3D068555121-27101999></SPAN></FONT>&nbsp;</DIV>
<BLOCKQUOTE style=3D"MARGIN-RIGHT: 0px">
  <DIV align=3Dleft class=3DOutlookMessageHeader dir=3Dltr><FONT =
face=3DTahoma=20
  size=3D2>-----Original Message-----<BR><B>From:</B>=20
  owner-sip@lists.research.bell-labs.com=20
  [mailto:owner-sip@lists.research.bell-labs.com]<B>On Behalf Of =
</B>Larry=20
  Dolinar<BR><B>Sent:</B> Wednesday, October 27, 1999 5:07 =
PM<BR><B>To:</B> SIP=20
  Mailing List (E-mail)<BR><B>Subject:</B> preventing direct INVITE in=20
  enterprise<BR><BR></DIV></FONT>
  <P><FONT face=3DArial size=3D2>What is the current thinking on the =
path ACKs and=20
  BYEs travel and how this affects enterprise implementations?&nbsp; For =

  efficiency's sake, UAs "in the open" would want the most direct path =
for 2xx,=20
  ACK, and BYE. Meanwhile UAs behind a firewall would proxy requests and =

  responses, so does the proxy bear all the responsibility for hiding =
any=20
  Contact: information the UA might include that would reveal its =
address?&nbsp;=20
  Normally Contact: information is simply copied, right?&nbsp; =
</FONT></P>
  <P><FONT face=3DArial size=3D2>Section 6.13 seems to indicate INVITEs =
must=20
  (sip-new-00) add Contact:, while section 11.1 indicates it's =
optional.&nbsp;=20
  But I suppose the Request-URI would still reflect the proxy server =
behind the=20
  firewall, if implemented consistently.</FONT></P>
  <P><FONT face=3DArial size=3D2>Suppose a marginally compliant UAC =
outside the=20
  enterprise decides to cache Contact: addresses across calls (bad UA!). =

  </FONT><BR><FONT face=3DArial size=3D2>Does the enterprise proxy also =
prevent the=20
  INVITE from arriving, since the Request-URI is "too specific", and =
return 403=20
  Forbidden or something similar?</FONT></P>
  <P><FONT face=3DArial size=3D2>I'm trying to allay some fears on the =
part of=20
  enterprise types here that are concerned over the potential for =
incoming calls=20
  bypassing the proxy based on direct response by the enterprise =
UA.&nbsp; Even=20
  to the point of requiring all 2xx, ACK, and BYE traffic to traverse =
the=20
  proxy.&nbsp; Any cause for concern?&nbsp; All insights =
welcomed.</FONT></P>
  <P><FONT face=3DArial size=3D2>regards,</FONT> <BR><FONT face=3DArial=20
  size=3D2>larry</FONT> </P></BLOCKQUOTE></BODY></HTML>

------=_NextPart_000_001C_01BF20A4.E8656DF0--




From owner-sip-outgoing@lists.research.bell-labs.com  Wed Oct 27 21:03:04 1999
Received: from lists.research.bell-labs.com (lists.research.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id VAA21707
	for <sip-archive@odin.ietf.org>; Wed, 27 Oct 1999 21:03:03 -0400 (EDT)
Received: by lists.research.bell-labs.com (Postfix)
	id 2DFC55300; Wed, 27 Oct 1999 20:13:24 -0400 (EDT)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 8AA655304; Wed, 27 Oct 1999 20:13:23 -0400 (EDT)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id C927D5300
	for <sip@lists.research.bell-labs.com>; Wed, 27 Oct 1999 20:13:07 -0400 (EDT)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Wed Oct 27 20:11:29 EDT 1999
Received: from omzrelay02.mcit.com ([199.249.19.244]) by dusty; Wed Oct 27 20:10:32 EDT 1999
Received: from ndcrelay.mcit.com ([166.37.172.49])
 by firewall.mcit.com (PMDF V5.2-32 #38417)
 with ESMTP id <0FKA0044SDBH62@firewall.mcit.com> for
 sip@lists.research.bell-labs.com; Thu, 28 Oct 1999 00:02:24 +0000 (GMT)
Received: from omzmta01.mcit.com (omzmta01.mcit.com [166.37.194.119])
 by ndcrelay.mcit.com (8.8.7/) with ESMTP	id RAA18460 for
 <sip@lists.research.bell-labs.com>; Wed, 27 Oct 1999 17:40:18 +0000 (GMT)
Received: from sipdev4 ([166.35.144.81])
 by omzmta01.mcit.com (InterMail v03.02.05 118 121 101)
 with SMTP id <19991027174143.TWLX624@sipdev4> for
 <sip@lists.research.bell-labs.com>; Wed, 27 Oct 1999 17:41:43 +0000
Date: Wed, 27 Oct 1999 12:41:51 -0500
From: Robert Sparks <Robert.Sparks@wcom.com>
Subject: draft-sparks-sip-multiproxy-auth-00
To: sip@lists.research.bell-labs.com
Reply-To: Robert.Sparks@wcom.com
Message-id: <008301bf20a2$8e6d9400$519023a6@mcit.com>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft MimeOLE V5.00.2615.200
X-Mailer: Microsoft Outlook 8.5, Build 4.71.2377.0
Content-type: text/plain; charset=iso-8859-1
Content-transfer-encoding: 8BIT
Importance: Normal
X-Priority: 3 (Normal)
X-MSMail-priority: Normal
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 8BIT

I plan to introduce the draft below at the Washington meeting, and look
forward to discussion before then.

Robert Sparks
MCI WorldCom
robert.sparks@wcom.com

-----Original Message-----
From: nsyracus@cnri.reston.va.us [mailto:nsyracus@cnri.reston.va.us] On
Behalf Of Internet-Drafts@ietf.org
Sent: Friday, October 22, 1999 5:58 AM
To: IETF-Announce: ;IETF-Announce:;@wcom.com
Subject: I-D ACTION:draft-sparks-sip-multiproxy-auth-00.txt


A New Internet-Draft is available from the on-line Internet-Drafts
directories.


	Title		: Providing for Multiple-Proxy Authentication of a SIP
                          Request
	Author(s)	: R. Sparks
	Filename	: draft-sparks-sip-multiproxy-auth-00.txt
	Pages		: 4
	Date		: 21-Oct-99

SIP/2.0 as specified in RFC2543 provides a mechanism for a proxy
involved in a SIP transaction to authenticate the originator of the
request. Unfortunately, this mechanism is not well defined when more
than one proxy in a requests path desires such authentication. This
draft proposes a mechanism that would allow authentication in that
scenario to work as expected. Under this proposal, SIP clients would
issue requests with multiple Proxy-Authorization headers, one for
each challenge it has seen in the lifetime of a given call leg.
Authenticating SIP proxies would search each request for a Proxy-
Authorization response to its own challenge, passing any others
downstream unaltered.

A URL for this Internet-Draft is:
http://www.ietf.org/internet-drafts/draft-sparks-sip-multiproxy-auth-00.txt






From owner-sip-outgoing@lists.research.bell-labs.com  Thu Oct 28 10:27:51 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id KAA22988
	for <sip-archive@odin.ietf.org>; Thu, 28 Oct 1999 10:27:47 -0400 (EDT)
Received: by lists.research.bell-labs.com (Postfix)
	id 12E2E52E9; Thu, 28 Oct 1999 10:25:30 -0400 (EDT)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 7D9A45306; Thu, 28 Oct 1999 10:25:29 -0400 (EDT)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from grubby.research.bell-labs.com (grubby.research.bell-labs.com [135.104.2.9])
	by lists.research.bell-labs.com (Postfix) with SMTP id 1B95C52E9
	for <sip@lists.research.bell-labs.com>; Thu, 28 Oct 1999 10:25:05 -0400 (EDT)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by grubby; Thu Oct 28 10:07:57 EDT 1999
Received: from alpha.mcit.com ([199.249.19.243]) by dusty; Thu Oct 28 10:07:00 EDT 1999
Received: from ndcrelay2.mcit.com ([166.37.172.6])
 by firewall.mcit.com (PMDF V5.2-32 #38416)
 with ESMTP id <0FKB00J4TBYUHR@firewall.mcit.com> for
 sip@lists.research.bell-labs.com; Thu, 28 Oct 1999 12:28:07 +0000 (GMT)
Received: from omzmta02.mcit.com (omzmta02.mcit.com [166.37.194.120])
 by ndcrelay2.mcit.com (8.8.7/) with ESMTP	id MAA22161; Thu,
 28 Oct 1999 12:23:25 +0000 (GMT)
Received: from C25776A ([166.37.186.122])
 by omzmta02.mcit.com (InterMail v03.02.05 118 120)
 with SMTP id <19991028122801.OIHT2840@[166.37.186.122]>; Thu,
 28 Oct 1999 12:28:01 +0000
Date: Thu, 28 Oct 1999 07:27:58 -0500
From: Henry Sinnreich <henry.sinnreich@wcom.com>
Subject: New Internet Draft <draft-sinnreich-interdomain-sip-qos-osp-00.txt>
In-reply-to: <33E324D95F44D311AA3E00204840075B5500B5@zhard00e.europe.nortel.com>
To: sip@lists.research.bell-labs.com, confctrl@ISI.EDU
Message-id: <NBBBIIJFOKPMFOOILMBKMEJEEMAA.henry.sinnreich@wcom.com>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft MimeOLE V5.00.2615.200
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
Content-type: text/plain;	charset="iso-8859-1"
Content-transfer-encoding: 7bit
Importance: Normal
X-Priority: 3 (Normal)
X-MSMail-priority: Normal
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

The following Internet Draft has been submitted and I count to be discussed:
<draft-sinnreich-interdomain-sip-qos-osp-00.txt>
for the SIP Working Group.

         Title           : Interdomain IP Communications with QoS,
                           Authorization and Usage Reporting
         Author(s)       : H.Sinnreich, S.Donovan, D.Rawlins, S.Thomas
         Filename        : draft-sinnreich-interdomain-sip-qos-osp-00.txt
         Pages           : 23
         Date            : October 22, 1999

Abstract
IP communications such as telephony may require quality of service
equal or better than available on digital circuit switched networks.
Service providers will ensure QoS only if authorization and payments
are supported across the domains where the communication is taking
place. The message exchange for session initiation, authorization,
policy support, QoS and usage reporting is more complex than the mes-
sage exchange for each of the protocols in part for these functions,
since session parameters have to be passed between messages. The
inter-process dependencies require interleaving of messages from the
different protocols in a certain sequence to pass on the required
parameters.

Policy based QoS is provided by RSVP enabled routers and mapped to
802 style LANs. RSVP aggregation is used for Differentiated Services
QoS across the backbone.

The present document provides the framework and examples of the mes-
sage exchange between clients and servers on networks of Internet
service providers or corporate networks across a common IP backbone.
Outsourcing to a clearinghouse of inter-domain authorization and
usage reporting is also shown.

The draft has been posted at
http://www.ietf.org/internet-drafts/draft-sinnreich-interdomain-sip-qos-osp-
00.txt

The pdf format of the draft is available from the web site
http://www.greycouncil.com/sip/drafts/ (with other sip drafts).

The URL is
http://www.greycouncil.com/sip/drafts/draft-interdomain-sip-qos-osp-00.pdf

Thanks, Henry

Henry Sinnreich
MCI WorldCom
400 International Parkway
Richardson, Texas 75081, USA




From owner-sip-outgoing@lists.research.bell-labs.com  Thu Oct 28 10:37:25 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id KAA23560
	for <sip-archive@odin.ietf.org>; Thu, 28 Oct 1999 10:37:24 -0400 (EDT)
Received: by lists.research.bell-labs.com (Postfix)
	id 3793152EE; Thu, 28 Oct 1999 10:35:21 -0400 (EDT)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id ADDF45305; Thu, 28 Oct 1999 10:35:20 -0400 (EDT)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 1DAE152EE
	for <sip@lists.research.bell-labs.com>; Thu, 28 Oct 1999 10:35:08 -0400 (EDT)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Thu Oct 28 01:10:49 EDT 1999
Received: from smtprch1.nortel.com ([192.135.215.14]) by dusty; Thu Oct 28 01:09:52 EDT 1999
Received: from zrchb200.us.nortel.com (actually zrchb200) 
          by smtprch1.nortel.com; Thu, 28 Oct 1999 00:09:58 -0500
Received: by zrchb200.us.nortel.com with Internet Mail Service (5.5.2448.0) 
          id <VXYY3QDV>; Thu, 28 Oct 1999 00:09:58 -0500
Message-ID: <BEF0F85DF631D311B1200000F80932F9256548@crchy28c.us.nortel.com>
From: "Paul Defrain" <defrain@nortelnetworks.com>
To: "'sip@lists.research.bell-labs.com'" <sip@lists.research.bell-labs.com>
Subject: SIP session liveliness
Date: Thu, 28 Oct 1999 00:09:52 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2448.0)
Content-Type: multipart/alternative;
              boundary="----_=_NextPart_001_01BF2102.AD8E3032"
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk

This message is in MIME format. Since your mail reader does not understand
this format, some or all of this message may not be legible.

------_=_NextPart_001_01BF2102.AD8E3032
Content-Type: text/plain

All,

While we're on the topic of SIP INFO message use, it seems reasonable to
assume that we will need to develop a way to ascertain whether or not a SIP
session is active. Once a SIP session is established there remains no
required "connection" that physically ties the involved parties together. If
one party leaves the session and cannot (or does not) contact the other then
network resources could be lost (depending on the nature of the application
involved in the session). We have identified the need to occasionally "ping"
a SIP call based on its call-id (the only persistent piece of data that
ultimately identifies an established application session). We foresee the
use of the SIP INFO request against the affected call-id along with its 200
response (or other final or non-response in case of error) as an indication
of session liveliness. We will use this technique protect (reclaim) limited
network resources involved in some sessions established using SIP as the
messenger.

Has this type of messaging between established sessions been addressed in
this or some other forum? Has anyone implemented this sort of functionality
in their application(s).

__________________________
Paul D. DeFrain
IP Services SIP Feature Development
ESN 444.7570 (972) 684.7570
defrain@nortelnetworks.com



------_=_NextPart_001_01BF2102.AD8E3032
Content-Type: text/html
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV=3D"Content-Type" CONTENT=3D"text/html; =
charset=3Dus-ascii">
<META NAME=3D"Generator" CONTENT=3D"MS Exchange Server version =
5.5.2651.14">
<TITLE>SIP session liveliness</TITLE>
</HEAD>
<BODY>

<P><FONT COLOR=3D"#0000FF" SIZE=3D2 FACE=3D"Arial">All,</FONT>
</P>

<P><FONT COLOR=3D"#0000FF" SIZE=3D2 FACE=3D"Arial">While we're on the =
topic of SIP INFO message use, it seems reasonable to assume that we =
will need to develop a way to ascertain whether or not a SIP session is =
active. Once a SIP session is established there remains no required =
&quot;connection&quot; that physically ties the involved parties =
together. If one party leaves the session and cannot (or does not) =
contact the other then network resources could be lost (depending on =
the nature of the application involved in the session). We have =
identified the need to occasionally &quot;ping&quot; a SIP call based =
on its call-id (the only persistent piece of data that ultimately =
identifies an established application session). We foresee the use of =
the SIP INFO request against the affected call-id along with its 200 =
response (or other final or non-response in case of error) as an =
indication of session liveliness. We will use this technique protect =
(reclaim) limited network resources involved in some sessions =
established using SIP as the messenger.</FONT></P>

<P><FONT COLOR=3D"#0000FF" SIZE=3D2 FACE=3D"Arial">Has this type of =
messaging between established sessions been addressed in this or some =
other forum? Has anyone implemented this sort of functionality in their =
application(s).</FONT></P>

<P><FONT COLOR=3D"#000000" SIZE=3D2 =
FACE=3D"Tahoma">__________________________</FONT>
<BR><FONT COLOR=3D"#000000" SIZE=3D2 FACE=3D"Tahoma">Paul D. =
DeFrain</FONT>
<BR><FONT COLOR=3D"#808000" SIZE=3D1 FACE=3D"Tahoma">IP Services SIP =
Feature Development</FONT>
<BR><FONT COLOR=3D"#808080" SIZE=3D1 FACE=3D"Tahoma">ESN 444.7570 (972) =
684.7570</FONT>
<BR><FONT COLOR=3D"#808080" SIZE=3D1 =
FACE=3D"Tahoma">defrain@nortelnetworks.com</FONT>
</P>
<BR>

</BODY>
</HTML>
------_=_NextPart_001_01BF2102.AD8E3032--



From owner-sip-outgoing@lists.research.bell-labs.com  Thu Oct 28 10:40:55 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id KAA23823
	for <sip-archive@odin.ietf.org>; Thu, 28 Oct 1999 10:40:52 -0400 (EDT)
Received: by lists.research.bell-labs.com (Postfix)
	id 114B352BB; Thu, 28 Oct 1999 10:37:33 -0400 (EDT)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id ADF8F5306; Thu, 28 Oct 1999 10:37:30 -0400 (EDT)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 9F7DA52BB
	for <sip@lists.research.bell-labs.com>; Thu, 28 Oct 1999 10:37:10 -0400 (EDT)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Thu Oct 28 10:36:11 EDT 1999
Received: from wodc7mr3.ffx.ops.us.uu.net ([192.48.96.19]) by dusty; Thu Oct 28 10:35:15 EDT 1999
Received: from dynamicsoft.com by wodc7mr3.ffx.ops.us.uu.net with ESMTP 
	(peer crosschecked as: [63.72.186.56])
	id QQhmww07945;
	Thu, 28 Oct 1999 14:38:06 GMT
Message-ID: <38185F49.2CD8289F@dynamicsoft.com>
Date: Thu, 28 Oct 1999 10:35:53 -0400
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
Organization: Dynamicsoft
X-Mailer: Mozilla 4.7 [en] (Win98; U)
X-Accept-Language: en
MIME-Version: 1.0
To: Henning Schulzrinne <schulzrinne@cs.columbia.edu>
Cc: Rick Workman <rworkman@nortelnetworks.com>,
        Alan Johnston <alan.johnston@wcom.com>,
        SIP List <sip@lists.research.bell-labs.com>
Subject: Re: I-D Action: SIP Call Flows and Service Examples
References: <3814A72D.C14D8CE8@wcom.com> <381726D8.B61A919A@americasm01.nt.com> <38176AEE.82ED4B3F@dynamicsoft.com> <3817B6A1.EF541CD0@cs.columbia.edu>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit



Henning Schulzrinne wrote:
> 
> > The destination user agent may be another
> > > gateway, a SIP phone/soft client, or some IVR service, any of which may not even be
> > > in the same domain as the incoming gateway. Using the gateway host designation
> > > seems artificial at best and may even cause the invitation to be routed back to it
> > > if some naive proxy got involved.
> >
> > Right. Using the IP address of the originating gateway is not the best
> > thing to do; slightly better is the address of the proxy (i.e.,
> > sip:5551212@wcom.com), and tel URL is even better.
> 
> Since "To" and "From" contain logical addresses, they should definitely
> contain tel: URLs. However, for the Request-URI, which reflects the next
> stage of translation, somewhere a host enters the picture. Either the
> gateway has a default outbound proxy (in which case it would presumably
> translated a tel: destination to a sip: destination) or the gateway does
> the translation to sip:#@destination_domain.com itself.

Need it translate the tel URL before sending it to a local proxy? I
guess you can argue this either way. In one sense, changing it to
sip:5551212@mydomain.com is right since I am talking to the proxy at
mydomain.com; effectively I'm trying to reach this number through this
domain. On the other hand, the resource I am still trying to reach is a
phone number, and the outbound domain is not really the namespace in
which this number is defined.


> > The distinction is only on whether or not a translation step is
> > required. In general, we need to know what is represented by the tel
> > URL? If a PC host has a telephone number, it should be possible for
> > another PC host to call that number, and get the first host. So, in
> > general, we need to determine whether or not a tel URL has been
> > translated - that is, whether it represents a terminal on the PSTN, or
> > whether it represents a "name" which must be converted. The DCS guys ran
> > into exactly this problem. I believe what we need is basically a tel URL
> > extension, which specifies whether the number has been translated or no.
> > This was pretty much what they did.
> 
> If it's tel:#, it needs to be translated to sip:#@domain, at which point
> the # is just an identifier. Why would you need a further
> identification? In particular, this is not fixed: in the future, the
> same # can well refer to a legacy "black" phone at night (at home) and
> an IP phone during the day (at work).

I was thinking along the lines of how enum gets integrated into the SIP
architecture. We start with a phone number, and this number really is a
"name"; using enum, we can translate it to a sip URL, mailto URL, and so
on. In many cases, this number is a name for a terminal on the PSTN with
the same number. In other words, the tel URL is just a normal POTS line,
and this number has no entry in the enum database. Say some IP phone
makes a call to tel:1234567. The first outbound proxy uses enum, and
finds that this number is not in the database. So, it forwards it to the
next hop proxy, using a tel URL in the request URI. This proxy doesn't
need to look it up in enum once more, as its been done. A similar issue
arises if the first number did exist in enum, but was mapped to another
number (tel:1234567 -> tel:2125551213). This is basically LNP. The next
hop proxy doesn't need to look up tel:2125551213 in enum.

I think what you are proposing is that translation to the SIP URL
basically implies that the lookup has been done. That works, but I think
it might be combining two things together that are really different. Not
sure...


> >
> > As a separate issue, I think its a bad idea to put anything but full
> > hostnames in Contact headers.
> >
> Actually, short-form hosts should probably be explicitly be discouraged
> in all URLs since it invites nothing but trouble. I've added a "SHOULD
> be a FQDN" in the URL section (which would apply to Contact).

Not just short form hosts, but things like jdrosen@dynamicsoft.com can
also be problematic if not handled correctly. You need to make sure that
this address is always routed to the terminal from which I sent/received
the original INVITE for the call. In the absence of nats and firewalls,
the Contact: header in the INVITE is ideally the full hostname from
which the INVITE is sent (sip:jdrosen@machine1.dynamicsoft.com). It can
be something thats actually a proxy, like sip:jdrosen@dynamicsoft.com,
but as I mentioned, the routing has to get the request to machine1 from
that proxy.

-Jonathan R.
-- 
Jonathan D. Rosenberg                       200 Executive Drive
Chief Scientist                             Suite 210 
dynamicsoft                                 West Orange, NJ 07052
jdrosen@dynamicsoft.com                     FAX:   (732) 741-4778
http://www.cs.columbia.edu/~jdrosen         PHONE: (732) 741-7244
http://www.dynamicsoft.com



From owner-sip-outgoing@lists.research.bell-labs.com  Thu Oct 28 10:53:36 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id KAA24505
	for <sip-archive@odin.ietf.org>; Thu, 28 Oct 1999 10:53:35 -0400 (EDT)
Received: by lists.research.bell-labs.com (Postfix)
	id 3F3A752E1; Thu, 28 Oct 1999 10:51:22 -0400 (EDT)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id A178952E4; Thu, 28 Oct 1999 10:51:21 -0400 (EDT)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from grubby.research.bell-labs.com (grubby.research.bell-labs.com [135.104.2.9])
	by lists.research.bell-labs.com (Postfix) with SMTP id E1F3652E1
	for <sip@lists.research.bell-labs.com>; Thu, 28 Oct 1999 10:51:06 -0400 (EDT)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by grubby; Thu Oct 28 08:41:53 EDT 1999
Received: from tungsten.btinternet.com ([194.73.73.81]) by dusty; Thu Oct 28 08:40:57 EDT 1999
Received: from [62.6.23.15] (helo=tkw)
	by tungsten.btinternet.com with smtp (Exim 2.05 #1)
	id 11gorx-0001EH-00; Thu, 28 Oct 1999 13:41:29 +0100
Message-ID: <007301bf2141$c6565240$0200000a@tkw>
From: "Pete Cordell" <pete@tech-know-ware.com>
To: "Sean Olson" <eussean@exu.ericsson.se>, <sip@lists.research.bell-labs.com>,
        <wkorbe@nortelnetworks.com>
Subject: Re: The SIP INFO Method And Non Call Associated Signaling
Date: Thu, 28 Oct 1999 13:30:28 +0100
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 4.72.3110.1
X-MimeOLE: Produced By Microsoft MimeOLE V4.72.3110.3
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

Would it be possible to do an INVITE with a SDP part that contained no media
statements?  If UASs didn't like this they would reject the session, which
is the desired response in this case.  Exchanges between the UAs would use
the usual SIP INVITE and INFO messages etc.  I feel this is better than
using separate TCP/UDP connections as we'll probably end up inventing
another protocol altogether.

Pete

=============================================
Pete Cordell
pete@tech-know-ware.com
=============================================

-----Original Message-----
From: Sean Olson <eussean@exu.ericsson.se>
To: sip@lists.research.bell-labs.com <sip@lists.research.bell-labs.com>;
wkorbe@nortelnetworks.com <wkorbe@nortelnetworks.com>
Date: 27 October 1999 22:00
Subject: RE: The SIP INFO Method And Non Call Associated Signaling


>
>> The SIP protocol handles the transport of session control information
during
>> the setup and tear down stages of a SIP controlled session.  The SIP INFO
>> Method allows for the carrying of session related control information
that
>> is generated during a session when there are no setup or teardown
messages
>> available to carry the information.
>>
>> If there is no active session but control information related to a
session
>> still needs to be exchanged (e.g., non call associated signaling) are
there
>> thoughts on what is the best transport mechanism to use for this case
(e.g.,
>> use straight TCP, use SIGTRAN, use a phantom SIP call with no bearer
>> channel)?
>
>I personally like the idea of using a separate SIP session for this.
>The key would be choosing an appropriate SDP to describe this.
>Unfortunately or fortunately depending on how you look at it, there is
>no currently documented way to describe arbitrary UDP/TCP sessions in the
>manner that the rtpmap media attribute can describe arbitrary RTP sessions.
>You could of course define some RTP profile for the control that you are
>thinking about. If you are talking about some traditional PSTN protocol
>(ISUP/Q.931/etc.) you are probably better off using SIGTRAN. Or you could
>use some extension attribute in the SDP that means this is a signalling
>session...
>
>-----------------------------------------------------------------
>Sean Olson            E-mail: sean.olson@ericsson.com
>Ericsson Inc.         Voice: (972) 583-5472
>                      FAX: (972) 669-0154
>
>
>




From owner-sip-outgoing@lists.research.bell-labs.com  Thu Oct 28 10:57:55 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id KAA24776
	for <sip-archive@odin.ietf.org>; Thu, 28 Oct 1999 10:57:54 -0400 (EDT)
Received: by lists.research.bell-labs.com (Postfix)
	id E9F8F52E4; Thu, 28 Oct 1999 10:55:24 -0400 (EDT)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 5B80E5306; Thu, 28 Oct 1999 10:55:23 -0400 (EDT)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 6490F52E4
	for <sip@lists.research.bell-labs.com>; Thu, 28 Oct 1999 10:55:09 -0400 (EDT)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Thu Oct 28 10:54:12 EDT 1999
Received: from smtprtp1.ntcom.nortel.net ([137.118.22.14]) by dusty; Thu Oct 28 10:53:16 EDT 1999
Received: from zcard00m.ca.nortel.com (actually zcard00m) 
          by smtprtp1.ntcom.nortel.net; Thu, 28 Oct 1999 10:25:45 -0400
Received: from zmerd00d.ca.nortel.com ([47.128.128.104]) 
          by zcard00m.ca.nortel.com 
          with SMTP (Microsoft Exchange Internet Mail Service Version 5.5.2448.0) 
          id VX4NC6P6; Thu, 28 Oct 1999 10:25:43 -0400
Received: from americasm01.nt.com (pquad074.ca.nortel.com [47.97.51.32]) 
          by zmerd00d.ca.nortel.com 
          with SMTP (Microsoft Exchange Internet Mail Service Version 5.5.2448.0) 
          id VWVCTP6K; Thu, 28 Oct 1999 10:25:44 -0400
Message-ID: <38185E55.4EA1F234@americasm01.nt.com>
Date: Thu, 28 Oct 1999 10:31:49 -0400
From: "Rick Workman" <rworkman@nortelnetworks.com>
Organization: Nortel Networks
X-Mailer: Mozilla 4.03 [en] (Win95; I)
MIME-Version: 1.0
To: Henning Schulzrinne <schulzrinne@cs.columbia.edu>
Cc: Jonathan Rosenberg <jdrosen@dynamicsoft.com>,
        SIP List <sip@lists.research.bell-labs.com>
Subject: Re: I-D Action: SIP Call Flows and Service Examples
References: <3814A72D.C14D8CE8@wcom.com> <381726D8.B61A919A@americasm01.nt.com> <38176AEE.82ED4B3F@dynamicsoft.com> <3817B6A1.EF541CD0@cs.columbia.edu>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

My summary:
This would seem to indicate general support for using tel: URL's when dialled digits are
the only information available. The RequestURI may be translated to a more helpful SIP URL
as necessary. Minor comments/questions added in text.

Rick

Henning Schulzrinne wrote:

> Jonathan Rosenberg wrote:
> >
> > Rick Workman wrote:
> > >
> > > For calls originating in the PSTN, it seems to me that tel: URLs would be the
> > > preferred scheme in the To: header and the RequestURI for the initial INVITE. The
> > > main reason for this is that destination host isn't (and shouldn't be) known to the
> > > gateway; all it knows about are the dialled digits and and perhaps some originating
> > > context based on the incoming trunk.
> >
>
> > The destination user agent may be another
> > > gateway, a SIP phone/soft client, or some IVR service, any of which may not even be
> > > in the same domain as the incoming gateway. Using the gateway host designation
> > > seems artificial at best and may even cause the invitation to be routed back to it
> > > if some naive proxy got involved.
> >
> > Right. Using the IP address of the originating gateway is not the best
> > thing to do; slightly better is the address of the proxy (i.e.,
> > sip:5551212@wcom.com), and tel URL is even better.
>
> Since "To" and "From" contain logical addresses, they should definitely
> contain tel: URLs. However, for the Request-URI, which reflects the next
> stage of translation, somewhere a host enters the picture. Either the
> gateway has a default outbound proxy (in which case it would presumably
> translated a tel: destination to a sip: destination) or the gateway does
> the translation to sip:#@destination_domain.com itself.
>

Actually, I wasn't concerned about the "From" address since the host is known at least for
the session in question. I do agree that somewhere before reaching the server UA the tel:
URL will probably be translated to a SIP url. (I don't think this is mandatory, is it?)

> >  To distinguish
> > > between the two cases, the proxy may use additional contextual information, e.g.,
> > > the invitiation originated in a known gateway. Alternatively, it may make sense to
> > > permit the tel: URL syntax as an extension to the sip: URL syntax, or to define a
> > > new scheme name which can be used with the existing tel: syntax.
> >
>
> The SIP URL already has the tel numbering as a subset in the user part
> (with some restrictions where this doesn't make sense). In the next
> round, we'll make that more explicit. We couldn't, since the tel: draft
> wasn't a citable RFC at the time. You'll notice that the BNF is a pretty
> close copy of the that draft.
>

The main issue is that the SIP URL requires a host designation which isn't available. A
minor point, if I've understand the BNF, is that the 'telephone-subscriber' can conatin a
';' as part of the 'isdn-subaddress' or 'post-dial' (or in 'phone-context'  in the most
recent draft) which isn't permitted in 'user'. This is why the MCI folks had to replace the
';' with a ','.

> > The distinction is only on whether or not a translation step is
> > required. In general, we need to know what is represented by the tel
> > URL? If a PC host has a telephone number, it should be possible for
> > another PC host to call that number, and get the first host. So, in
> > general, we need to determine whether or not a tel URL has been
> > translated - that is, whether it represents a terminal on the PSTN, or
> > whether it represents a "name" which must be converted. The DCS guys ran
> > into exactly this problem. I believe what we need is basically a tel URL
> > extension, which specifies whether the number has been translated or no.
> > This was pretty much what they did.
>
> If it's tel:#, it needs to be translated to sip:#@domain, at which point
> the # is just an identifier. Why would you need a further
> identification? In particular, this is not fixed: in the future, the
> same # can well refer to a legacy "black" phone at night (at home) and
> an IP phone during the day (at work).

> As a side note, 2129397042@columbia.edu can have two slightly different
> meanings:
>
> (1) columbia.edu is a VoIP gateway and dials the number;
>
> (2) the user has registered at the columbia.edu with that number.
>
> I don't think anybody but columbia.edu needs to know the difference. (We
> have the phone qualifier if it really does.)
>

So I guess I'm trying to figure out what happens when:a) Somebody on the PSTN dials
2129397042.
b) Some SIP client  INVITEs tel:2129397042 to a session, not really knowing (or caring)
whether the called party is a black telephone or a SIP phone.

If 2129397042 is a unique telephone number (across SIP and PSTN networks) and can only
refer to the SIP agent (or service), perhaps there isn't any problem (in theory). So the
question is whether this underlying assumption is valid?

> >
> > As a separate issue, I think its a bad idea to put anything but full
> > hostnames in Contact headers.
> >
> Actually, short-form hosts should probably be explicitly be discouraged
> in all URLs since it invites nothing but trouble. I've added a "SHOULD
> be a FQDN" in the URL section (which would apply to Contact).
> --
> Henning Schulzrinne   http://www.cs.columbia.edu/~hgs






From owner-sip-outgoing@lists.research.bell-labs.com  Thu Oct 28 11:05:40 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id LAA25160
	for <sip-archive@odin.ietf.org>; Thu, 28 Oct 1999 11:05:40 -0400 (EDT)
Received: by lists.research.bell-labs.com (Postfix)
	id A251D5308; Thu, 28 Oct 1999 11:03:35 -0400 (EDT)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 18F955306; Thu, 28 Oct 1999 11:03:35 -0400 (EDT)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id BA5525308
	for <sip@lists.research.bell-labs.com>; Thu, 28 Oct 1999 11:03:08 -0400 (EDT)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Wed Oct 27 22:36:39 EDT 1999
Received: from cs.columbia.edu ([128.59.16.20]) by dusty; Wed Oct 27 22:35:43 EDT 1999
Received: from opus.cs.columbia.edu (opus.cs.columbia.edu [128.59.20.100])
	by cs.columbia.edu (8.9.1/8.9.1) with ESMTP id WAA20745;
	Wed, 27 Oct 1999 22:36:38 -0400 (EDT)
Received: from cs.columbia.edu (bart.cs.columbia.edu [128.59.19.191])
	by opus.cs.columbia.edu (8.9.1/8.9.1) with ESMTP id WAA20590;
	Wed, 27 Oct 1999 22:36:36 -0400 (EDT)
Message-ID: <3817B6A1.EF541CD0@cs.columbia.edu>
Date: Wed, 27 Oct 1999 22:36:17 -0400
From: Henning Schulzrinne <schulzrinne@cs.columbia.edu>
Organization: Columbia University, Dept. of Computer Science
X-Mailer: Mozilla 4.61 [en] (X11; U; SunOS 5.7 sun4u)
X-Accept-Language: en
MIME-Version: 1.0
To: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
Cc: Rick Workman <rworkman@nortelnetworks.com>,
        Alan Johnston <alan.johnston@wcom.com>,
        SIP List <sip@lists.research.bell-labs.com>
Subject: Re: I-D Action: SIP Call Flows and Service Examples
References: <3814A72D.C14D8CE8@wcom.com> <381726D8.B61A919A@americasm01.nt.com> <38176AEE.82ED4B3F@dynamicsoft.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

Jonathan Rosenberg wrote:
> 
> Rick Workman wrote:
> >
> > For calls originating in the PSTN, it seems to me that tel: URLs would be the
> > preferred scheme in the To: header and the RequestURI for the initial INVITE. The
> > main reason for this is that destination host isn't (and shouldn't be) known to the
> > gateway; all it knows about are the dialled digits and and perhaps some originating
> > context based on the incoming trunk.
> 

> The destination user agent may be another
> > gateway, a SIP phone/soft client, or some IVR service, any of which may not even be
> > in the same domain as the incoming gateway. Using the gateway host designation
> > seems artificial at best and may even cause the invitation to be routed back to it
> > if some naive proxy got involved.
> 
> Right. Using the IP address of the originating gateway is not the best
> thing to do; slightly better is the address of the proxy (i.e.,
> sip:5551212@wcom.com), and tel URL is even better.

Since "To" and "From" contain logical addresses, they should definitely
contain tel: URLs. However, for the Request-URI, which reflects the next
stage of translation, somewhere a host enters the picture. Either the
gateway has a default outbound proxy (in which case it would presumably
translated a tel: destination to a sip: destination) or the gateway does
the translation to sip:#@destination_domain.com itself.



>  To distinguish
> > between the two cases, the proxy may use additional contextual information, e.g.,
> > the invitiation originated in a known gateway. Alternatively, it may make sense to
> > permit the tel: URL syntax as an extension to the sip: URL syntax, or to define a
> > new scheme name which can be used with the existing tel: syntax.
> 

The SIP URL already has the tel numbering as a subset in the user part
(with some restrictions where this doesn't make sense). In the next
round, we'll make that more explicit. We couldn't, since the tel: draft
wasn't a citable RFC at the time. You'll notice that the BNF is a pretty
close copy of the that draft.

> The distinction is only on whether or not a translation step is
> required. In general, we need to know what is represented by the tel
> URL? If a PC host has a telephone number, it should be possible for
> another PC host to call that number, and get the first host. So, in
> general, we need to determine whether or not a tel URL has been
> translated - that is, whether it represents a terminal on the PSTN, or
> whether it represents a "name" which must be converted. The DCS guys ran
> into exactly this problem. I believe what we need is basically a tel URL
> extension, which specifies whether the number has been translated or no.
> This was pretty much what they did.

If it's tel:#, it needs to be translated to sip:#@domain, at which point
the # is just an identifier. Why would you need a further
identification? In particular, this is not fixed: in the future, the
same # can well refer to a legacy "black" phone at night (at home) and
an IP phone during the day (at work).

As a side note, 2129397042@columbia.edu can have two slightly different
meanings:

(1) columbia.edu is a VoIP gateway and dials the number;

(2) the user has registered at the columbia.edu with that number.

I don't think anybody but columbia.edu needs to know the difference. (We
have the phone qualifier if it really does.)


> 
> As a separate issue, I think its a bad idea to put anything but full
> hostnames in Contact headers.
> 
Actually, short-form hosts should probably be explicitly be discouraged
in all URLs since it invites nothing but trouble. I've added a "SHOULD
be a FQDN" in the URL section (which would apply to Contact).
-- 
Henning Schulzrinne   http://www.cs.columbia.edu/~hgs



From owner-sip-outgoing@lists.research.bell-labs.com  Thu Oct 28 11:06:56 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id LAA25216
	for <sip-archive@odin.ietf.org>; Thu, 28 Oct 1999 11:06:55 -0400 (EDT)
Received: by lists.research.bell-labs.com (Postfix)
	id 590CA5304; Thu, 28 Oct 1999 10:19:24 -0400 (EDT)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 97F855305; Thu, 28 Oct 1999 10:19:23 -0400 (EDT)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id A7CD05304
	for <sip@lists.research.bell-labs.com>; Thu, 28 Oct 1999 10:19:09 -0400 (EDT)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Wed Oct 27 21:51:15 EDT 1999
Received: from mail-blue.research.att.com ([135.207.30.102]) by dusty; Wed Oct 27 21:50:19 EDT 1999
Received: from alliance.research.att.com (alliance.research.att.com [135.207.26.26])
	by mail-blue.research.att.com (Postfix) with ESMTP
	id 5BC144CE42; Wed, 27 Oct 1999 21:51:14 -0400 (EDT)
Received: from windsor.research.att.com (windsor.research.att.com [135.207.26.46])
	by alliance.research.att.com (8.8.7/8.8.7) with ESMTP id VAA23612;
	Wed, 27 Oct 1999 21:51:12 -0400 (EDT)
Received: (from kkrama@localhost)
	by windsor.research.att.com (8.8.8+Sun/8.8.5) id VAA04198;
	Wed, 27 Oct 1999 21:51:11 -0400 (EDT)
From: "K. K. Ramakrishnan" <kkrama@research.att.com>
Message-Id: <991027215102.ZM4196@windsor.research.att.com>
Date: Wed, 27 Oct 1999 21:51:02 -0400
X-Mailer: Z-Mail (4.0.1 13Jan97)
To: sip@lists.research.bell-labs.com
Subject: DCS draft is now available on the PacketCable web site
Cc: wtm@research.att.com, e.miller@cablelabs.com, kkrama@research.att.com
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk

Folks,
Thanks to the efforts of Ed Miller, we now
have the DCS draft on the Packetcable Web site
for you to look at.
This is a draft PacketCable Spec.
We will be referring to it, a fair amount,
at the Interim SIP meeting on Nov. 7th.

Please visit:
ftp://ftp.cablelabs.com/pub/ietfdocs/dcsdraft.pdf
(it is a fairly large file).

Thank you very much,
     K. K. Ramakrishnan

-- 
K. K. Ramakrishnan                             Email:kkrama@research.att.com
AT&T Labs-Research, Rm. A155                   Tel: (973)360-8766
180 Park Ave, Florham Park, N.J. 07932         Fax: (973) 360-8050
	URL: http://www.research.att.com/info/kkrama



From owner-sip-outgoing@lists.research.bell-labs.com  Thu Oct 28 11:18:37 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id LAA25822
	for <sip-archive@odin.ietf.org>; Thu, 28 Oct 1999 11:18:34 -0400 (EDT)
Received: by lists.research.bell-labs.com (Postfix)
	id B4D9B530E; Thu, 28 Oct 1999 11:15:53 -0400 (EDT)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 927E95309; Thu, 28 Oct 1999 11:15:51 -0400 (EDT)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from grubby.research.bell-labs.com (grubby.research.bell-labs.com [135.104.2.9])
	by lists.research.bell-labs.com (Postfix) with SMTP id 608A1530A
	for <sip@lists.research.bell-labs.com>; Thu, 28 Oct 1999 11:15:10 -0400 (EDT)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by grubby; Wed Oct 27 23:48:04 EDT 1999
Received: from www.obsoft.com ([209.128.67.121]) by dusty; Wed Oct 27 23:47:08 EDT 1999
Received: from obsoft.com (sardana@localhost [127.0.0.1]) by www.obsoft.com (8.6.12/8.6.9) with ESMTP id VAA16960 for <sip@lists.research.bell-labs.com>; Wed, 27 Oct 1999 21:53:06 -0500
Message-ID: <3817BA91.B0B436DE@obsoft.com>
Date: Wed, 27 Oct 1999 21:53:05 -0500
From: Bobby Sardana <sardana@obsoft.com>
Organization: ObjectSoftware, Inc.
X-Mailer: Mozilla 4.04 [en] (X11; I; Linux 2.0.33 i586)
MIME-Version: 1.0
To: sip@lists.research.bell-labs.com
Subject: IPS7 - What is it? Where's the signalling part of it?
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

Greetings:

Was reading an interesting article in the "Telephony" [October 25, 99]
which mentions Nortel's new initiative about IPS7 signalling that will
bridge SS7 & IP networks. However, after checking the IETF site, for the
IPS7 draft, and there is one available, I was unable to find the
signalling aspect and any protocols involved with it.

Is anyone on this forum aware of this initiative and its details?

Thanks.

Bobby Sardana.
sardana@obsoft.com















From owner-sip-outgoing@lists.research.bell-labs.com  Thu Oct 28 11:22:04 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id LAA26014
	for <sip-archive@odin.ietf.org>; Thu, 28 Oct 1999 11:22:02 -0400 (EDT)
Received: by lists.research.bell-labs.com (Postfix)
	id 43E285306; Thu, 28 Oct 1999 11:19:38 -0400 (EDT)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 759C2530A; Thu, 28 Oct 1999 11:19:37 -0400 (EDT)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id A80AE5306
	for <sip@lists.research.bell-labs.com>; Thu, 28 Oct 1999 11:19:09 -0400 (EDT)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Thu Oct 28 00:43:41 EDT 1999
Received: from wodc7mr3.ffx.ops.us.uu.net ([192.48.96.19]) by dusty; Thu Oct 28 00:42:45 EDT 1999
Received: from dynamicsoft.com by wodc7mr3.ffx.ops.us.uu.net with ESMTP 
	(peer crosschecked as: 1Cust112.tnt1.freehold.nj.da.uu.net [63.17.113.112])
	id QQhmvj10876;
	Thu, 28 Oct 1999 04:46:58 GMT
Message-ID: <3817D4BB.2CF30701@dynamicsoft.com>
Date: Thu, 28 Oct 1999 00:44:43 -0400
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
Organization: Dynamicsoft
X-Mailer: Mozilla 4.7 [en] (Win98; U)
X-Accept-Language: en
MIME-Version: 1.0
To: Larry Dolinar <ldolinar@nortelnetworks.com>
Cc: "SIP Mailing List (E-mail)" <sip@lists.research.bell-labs.com>
Subject: Re: preventing direct INVITE in enterprise
References: <52F74DDA50B5D211AF800000F808252101059950@zrchb212.us.nortel.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit



> Larry Dolinar wrote:
> 
> What is the current thinking on the path ACKs and BYEs travel and how
> this affects enterprise implementations?  For efficiency's sake, UAs
> "in the open" would want the most direct path for 2xx, ACK, and BYE.
> Meanwhile UAs behind a firewall would proxy requests and responses, so
> does the proxy bear all the responsibility for hiding any Contact:
> information the UA might include that would reveal its address?
> Normally Contact: information is simply copied, right?

If your desired service is to hide addresses, then the proxy will need
to modify things like the Contact header, SDP addresses, and the From
field. But, if all you want is for the signaling to all pass through the
enterprise proxy, there is no need. Record-Route will get the proxy on
the path for all messages.

> 
> Section 6.13 seems to indicate INVITEs must (sip-new-00) add Contact:,
> while section 11.1 indicates it's optional.  But I suppose the
> Request-URI would still reflect the proxy server behind the firewall,
> if implemented consistently.

Contact will be mandatory in INVITE. This has nothing to do with the
address in the request URI. The request URI leaving a UAC generally is
the same as the To field. However, if there is an outbound proxy (as
there is in your scenario), all requests go to the proxy no matter what
the request URI is.

> 
> Suppose a marginally compliant UAC outside the enterprise decides to
> cache Contact: addresses across calls (bad UA!).
> Does the enterprise proxy also prevent the INVITE from arriving, since
> the Request-URI is "too specific", and return 403 Forbidden or
> something similar?

Alex has pointed out correctly that Contact headers aren't supposed to
be cached across calls. If a UA outside the enterprise uses an old
Contact header anyway, the request will never even hit the proxy (thats
the whole problem, right?) This is solved by your firewall; don't let
port 5060 into your network unless it comes from your proxy. 

> 
> I'm trying to allay some fears on the part of enterprise types here
> that are concerned over the potential for incoming calls bypassing the
> proxy based on direct response by the enterprise UA.  Even to the
> point of requiring all 2xx, ACK, and BYE traffic to traverse the
> proxy.  Any cause for concern?  All insights welcomed.

I don't see a problem here. Use Record-Route, and all compliant
implementations go through your proxy. Preventing clients from
communicating directly is no different here than with IP in general. If
thats your goal, make sure your firewall doesn't let port 5060 in or out
unless it is from your own proxy. 

-Jonathan R.
-- 
Jonathan D. Rosenberg                       200 Executive Drive
Chief Scientist                             Suite 210 
dynamicsoft                                 West Orange, NJ 07052
jdrosen@dynamicsoft.com                     FAX:   (732) 741-4778
http://www.cs.columbia.edu/~jdrosen         PHONE: (732) 741-7244
http://www.dynamicsoft.com



From owner-sip-outgoing@lists.research.bell-labs.com  Thu Oct 28 11:43:40 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id LAA27290
	for <sip-archive@odin.ietf.org>; Thu, 28 Oct 1999 11:43:39 -0400 (EDT)
Received: by lists.research.bell-labs.com (Postfix)
	id 2BEB2530C; Thu, 28 Oct 1999 11:41:35 -0400 (EDT)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id E5CF25311; Thu, 28 Oct 1999 11:41:33 -0400 (EDT)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 27238530B
	for <sip@lists.research.bell-labs.com>; Thu, 28 Oct 1999 11:41:09 -0400 (EDT)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Thu Oct 28 11:39:37 EDT 1999
Received: from Telemann.inoc.dl.nec.com ([143.101.112.2]) by dusty; Thu Oct 28 11:38:41 EDT 1999
Received: from aslws01.asl.dl.nec.com (aslws01.asl.dl.nec.com [143.101.2.1])
	by Telemann.inoc.dl.nec.com (8.8.8/8.8.8) with ESMTP id KAA29529;
	Thu, 28 Oct 1999 10:36:33 -0500 (CDT)
Received: by aslws01.asl.dl.nec.com (8.7.3/YDL1.9.1-940729.15)
	id KAA26863(aslws01.asl.dl.nec.com); Thu, 28 Oct 1999 10:35:20 -0500 (CDT)
Received: by aslws220.asl.dl.nec.com (8.7.3/YDL1.9.1-940729.15)
	id KAA11791(aslws220.asl.dl.nec.com); Thu, 28 Oct 1999 10:35:20 -0500 (CDT)
Message-ID: <38186D50.E61368AD@asl.dl.nec.com>
Date: Thu, 28 Oct 1999 10:35:44 -0500
From: Anil Yelundur <yelundur@asl.dl.nec.com>
X-Mailer: Mozilla 4.03 [en] (WinNT; I)
MIME-Version: 1.0
To: Henry Sinnreich <henry.sinnreich@wcom.com>
Cc: sip@lists.research.bell-labs.com
Subject: Re: New Internet Draft <draft-sinnreich-interdomain-sip-qos-osp-00.txt>
References: <NBBBIIJFOKPMFOOILMBKMEJEEMAA.henry.sinnreich@wcom.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

I found the Call-Flows very helpful to understand how the Session set-up, QoS &
usage reporting occurs. However there were certain inconsistencies  in these
call-flows -> for example in figure 7, I noticed that 21 <UsageInd> is being
initiated by SIP2 instead of POL2 and the reply 22 <UsageCnf> from the CH is
going to SIP2 instead of POL2. In figure 1, the message sequence for the REQ LDP
between the SIP1, POL1 & R1 is missing.
Regards,
Anil Yelundur

Henry Sinnreich wrote:

> The following Internet Draft has been submitted and I count to be discussed:
> <draft-sinnreich-interdomain-sip-qos-osp-00.txt>
> for the SIP Working Group.
>
>          Title           : Interdomain IP Communications with QoS,
>                            Authorization and Usage Reporting
>          Author(s)       : H.Sinnreich, S.Donovan, D.Rawlins, S.Thomas
>          Filename        : draft-sinnreich-interdomain-sip-qos-osp-00.txt
>          Pages           : 23
>          Date            : October 22, 1999
>
> Abstract
> IP communications such as telephony may require quality of service
> equal or better than available on digital circuit switched networks.
> Service providers will ensure QoS only if authorization and payments
> are supported across the domains where the communication is taking
> place. The message exchange for session initiation, authorization,
> policy support, QoS and usage reporting is more complex than the mes-
> sage exchange for each of the protocols in part for these functions,
> since session parameters have to be passed between messages. The
> inter-process dependencies require interleaving of messages from the
> different protocols in a certain sequence to pass on the required
> parameters.
>
> Policy based QoS is provided by RSVP enabled routers and mapped to
> 802 style LANs. RSVP aggregation is used for Differentiated Services
> QoS across the backbone.
>
> The present document provides the framework and examples of the mes-
> sage exchange between clients and servers on networks of Internet
> service providers or corporate networks across a common IP backbone.
> Outsourcing to a clearinghouse of inter-domain authorization and
> usage reporting is also shown.
>
> The draft has been posted at
> http://www.ietf.org/internet-drafts/draft-sinnreich-interdomain-sip-qos-osp-
> 00.txt
>
> The pdf format of the draft is available from the web site
> http://www.greycouncil.com/sip/drafts/ (with other sip drafts).
>
> The URL is
> http://www.greycouncil.com/sip/drafts/draft-interdomain-sip-qos-osp-00.pdf
>
> Thanks, Henry
>
> Henry Sinnreich
> MCI WorldCom
> 400 International Parkway
> Richardson, Texas 75081, USA






From owner-sip-outgoing@lists.research.bell-labs.com  Thu Oct 28 14:20:28 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id OAA03042
	for <sip-archive@odin.ietf.org>; Thu, 28 Oct 1999 14:20:28 -0400 (EDT)
Received: by lists.research.bell-labs.com (Postfix)
	id 6BC375313; Thu, 28 Oct 1999 14:17:53 -0400 (EDT)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id CF7485311; Thu, 28 Oct 1999 14:17:50 -0400 (EDT)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 03EEA5311
	for <sip@lists.research.bell-labs.com>; Thu, 28 Oct 1999 14:17:08 -0400 (EDT)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Thu Oct 28 14:15:39 EDT 1999
Received: from smtprch1.nortel.com ([192.135.215.14]) by dusty; Thu Oct 28 14:14:43 EDT 1999
Received: from zsc4c002.corpwest.baynetworks.com (actually h0295.s86b1.BayNetworks.COM) 
          by smtprch1.nortel.com; Thu, 28 Oct 1999 13:14:49 -0500
Received: from zsc4c006.corpwest.baynetworks.com ([134.177.2.153]) 
          by zsc4c002.corpwest.baynetworks.com 
          with SMTP (Microsoft Exchange Internet Mail Service Version 5.5.2448.0) 
          id VX566QCH; Thu, 28 Oct 1999 11:14:47 -0700
Received: from long-pc.corpwest.baynetworks.com. (long-pc.corpwest.baynetworks.com [134.177.35.254]) 
          by zsc4c006.corpwest.baynetworks.com 
          with SMTP (Microsoft Exchange Internet Mail Service Version 5.5.2448.0) 
          id VA71NWAR; Thu, 28 Oct 1999 11:14:46 -0700
Message-Id: <3.0.1.32.19991028111327.00cbc584@zsc4c006.corpwest.baynetworks.com>
X-Sender: long@zsc4c006.corpwest.baynetworks.com
X-Mailer: Windows Eudora Pro Version 3.0.1 (32)
Date: Thu, 28 Oct 1999 11:13:27 -0700
To: Bobby Sardana <sardana@obsoft.com>, sip@lists.research.bell-labs.com
From: "Lyndon Ong" <long@nortelnetworks.com>
Subject: Re: IPS7 - What is it? Where's the signalling part of it?
In-Reply-To: <3817BA91.B0B436DE@obsoft.com>
Mime-Version: 1.0
Content-Type: text/plain; charset="us-ascii"
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk

Bobby,

IPS7 is more closely related to the Sigtran effort in IETF, if you would like more information I'd be happy to help.

Cheers,

Lyndon Ong

At 09:53 PM 10/27/99 -0500, Bobby Sardana wrote:
>Greetings:
>
>Was reading an interesting article in the "Telephony" [October 25, 99]
>which mentions Nortel's new initiative about IPS7 signalling that will
>bridge SS7 & IP networks. However, after checking the IETF site, for the
>IPS7 draft, and there is one available, I was unable to find the
>signalling aspect and any protocols involved with it.
>
>Is anyone on this forum aware of this initiative and its details?
>
>Thanks.
>
>Bobby Sardana.
>sardana@obsoft.com
>
>
>
>
>
>
>
>
>
>
>
>
>
>



From owner-sip-outgoing@lists.research.bell-labs.com  Thu Oct 28 14:43:29 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id OAA05147
	for <sip-archive@odin.ietf.org>; Thu, 28 Oct 1999 14:43:28 -0400 (EDT)
Received: by lists.research.bell-labs.com (Postfix)
	id 645595307; Thu, 28 Oct 1999 14:41:21 -0400 (EDT)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id BAED9530A; Thu, 28 Oct 1999 14:41:20 -0400 (EDT)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id DDC845307
	for <sip@lists.research.bell-labs.com>; Thu, 28 Oct 1999 14:41:07 -0400 (EDT)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Thu Oct 28 14:39:55 EDT 1999
Received: from omzrelay03.mcit.com ([199.249.19.245]) by dusty; Thu Oct 28 14:38:58 EDT 1999
Received: from omzrelay.mcit.com ([166.37.204.49])
 by firewall.mcit.com (PMDF V5.2-32 #38418)
 with ESMTP id <0FKB00C04SRC02@firewall.mcit.com> for
 sip@lists.research.bell-labs.com; Thu, 28 Oct 1999 18:31:07 +0000 (GMT)
Received: from omzmta01.mcit.com (omzmta01.mcit.com [166.37.194.119])
 by omzrelay.mcit.com (8.8.7/) with ESMTP	id SAA17967; Thu,
 28 Oct 1999 18:28:45 +0000 (GMT)
Received: from wcom.com ([166.33.132.106])
 by omzmta01.mcit.com (InterMail v03.02.05 118 121 101)
 with ESMTP id <19991028182839.HGFF624@wcom.com>; Thu,
 28 Oct 1999 18:28:39 +0000
Date: Thu, 28 Oct 1999 13:27:05 -0500
From: Alan Johnston <alan.johnston@wcom.com>
Subject: Re: I-D Action: SIP Call Flows and Service Examples
To: Henning Schulzrinne <schulzrinne@cs.columbia.edu>
Cc: Jonathan Rosenberg <jdrosen@dynamicsoft.com>,
        Rick Workman <rworkman@nortelnetworks.com>,
        SIP List <sip@lists.research.bell-labs.com>
Message-id: <38189579.BCD37BE3@wcom.com>
MIME-version: 1.0
X-Mailer: Mozilla 4.51 [en] (Win95; U)
Content-type: text/plain; charset=us-ascii
Content-transfer-encoding: 7bit
X-Accept-Language: en
References: <3814A72D.C14D8CE8@wcom.com> <381726D8.B61A919A@americasm01.nt.com>
 <38176AEE.82ED4B3F@dynamicsoft.com> <3817B6A1.EF541CD0@cs.columbia.edu>
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

We were reluctant to include the tel URL in this draft since it was still in I-D
status, and using sip URLs worked, if not as elegantly.  By the time we make the
next revision, it should be an RFC and we will probably change the sip URLs to
tels.  We attempted to use sip URLs as #@proxy rather than #@gateway, but we ran
into problems populating From headers on incoming calls from the PSTN.  The tel
URL will probably solve these issues.

I hope that once the tel URL reaches RFC status, the telephone number handling
in sip URLs is again matched to the tel URL.

Glad everyone is reading the document - the more feedback we get the better!

Alan Johnston
MCI WorldCom
+1-314-342-7360
alan.johnston@wcom.com

Henning Schulzrinne wrote:
> 
> Jonathan Rosenberg wrote:
> >
> > Rick Workman wrote:
> > >
> > > For calls originating in the PSTN, it seems to me that tel: URLs would be the
> > > preferred scheme in the To: header and the RequestURI for the initial INVITE. The
> > > main reason for this is that destination host isn't (and shouldn't be) known to the
> > > gateway; all it knows about are the dialled digits and and perhaps some originating
> > > context based on the incoming trunk.
> >
> 
> > The destination user agent may be another
> > > gateway, a SIP phone/soft client, or some IVR service, any of which may not even be
> > > in the same domain as the incoming gateway. Using the gateway host designation
> > > seems artificial at best and may even cause the invitation to be routed back to it
> > > if some naive proxy got involved.
> >
> > Right. Using the IP address of the originating gateway is not the best
> > thing to do; slightly better is the address of the proxy (i.e.,
> > sip:5551212@wcom.com), and tel URL is even better.
> 
> Since "To" and "From" contain logical addresses, they should definitely
> contain tel: URLs. However, for the Request-URI, which reflects the next
> stage of translation, somewhere a host enters the picture. Either the
> gateway has a default outbound proxy (in which case it would presumably
> translated a tel: destination to a sip: destination) or the gateway does
> the translation to sip:#@destination_domain.com itself.
> 
> >  To distinguish
> > > between the two cases, the proxy may use additional contextual information, e.g.,
> > > the invitiation originated in a known gateway. Alternatively, it may make sense to
> > > permit the tel: URL syntax as an extension to the sip: URL syntax, or to define a
> > > new scheme name which can be used with the existing tel: syntax.
> >
> 
> The SIP URL already has the tel numbering as a subset in the user part
> (with some restrictions where this doesn't make sense). In the next
> round, we'll make that more explicit. We couldn't, since the tel: draft
> wasn't a citable RFC at the time. You'll notice that the BNF is a pretty
> close copy of the that draft.
> 
> > The distinction is only on whether or not a translation step is
> > required. In general, we need to know what is represented by the tel
> > URL? If a PC host has a telephone number, it should be possible for
> > another PC host to call that number, and get the first host. So, in
> > general, we need to determine whether or not a tel URL has been
> > translated - that is, whether it represents a terminal on the PSTN, or
> > whether it represents a "name" which must be converted. The DCS guys ran
> > into exactly this problem. I believe what we need is basically a tel URL
> > extension, which specifies whether the number has been translated or no.
> > This was pretty much what they did.
> 
> If it's tel:#, it needs to be translated to sip:#@domain, at which point
> the # is just an identifier. Why would you need a further
> identification? In particular, this is not fixed: in the future, the
> same # can well refer to a legacy "black" phone at night (at home) and
> an IP phone during the day (at work).
> 
> As a side note, 2129397042@columbia.edu can have two slightly different
> meanings:
> 
> (1) columbia.edu is a VoIP gateway and dials the number;
> 
> (2) the user has registered at the columbia.edu with that number.
> 
> I don't think anybody but columbia.edu needs to know the difference. (We
> have the phone qualifier if it really does.)
> 
> >
> > As a separate issue, I think its a bad idea to put anything but full
> > hostnames in Contact headers.
> >
> Actually, short-form hosts should probably be explicitly be discouraged
> in all URLs since it invites nothing but trouble. I've added a "SHOULD
> be a FQDN" in the URL section (which would apply to Contact).
> --
> Henning Schulzrinne   http://www.cs.columbia.edu/~hgs



From owner-sip-outgoing@lists.research.bell-labs.com  Thu Oct 28 18:45:36 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id SAA17570
	for <sip-archive@odin.ietf.org>; Thu, 28 Oct 1999 18:45:35 -0400 (EDT)
Received: by lists.research.bell-labs.com (Postfix)
	id 4D5C252E6; Thu, 28 Oct 1999 18:43:23 -0400 (EDT)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id BF41F52E8; Thu, 28 Oct 1999 18:43:22 -0400 (EDT)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id D476C52E6
	for <sip@lists.research.bell-labs.com>; Thu, 28 Oct 1999 18:43:08 -0400 (EDT)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Thu Oct 28 18:42:03 EDT 1999
Received: from mail-blue.research.att.com ([135.207.30.102]) by dusty; Thu Oct 28 18:41:05 EDT 1999
Received: from alliance.research.att.com (alliance.research.att.com [135.207.26.26])
	by mail-blue.research.att.com (Postfix) with ESMTP
	id 7AB704CE49; Thu, 28 Oct 1999 18:42:00 -0400 (EDT)
Received: from windsor.research.att.com (windsor.research.att.com [135.207.26.46])
	by alliance.research.att.com (8.8.7/8.8.7) with ESMTP id SAA24027;
	Thu, 28 Oct 1999 18:41:59 -0400 (EDT)
Received: (from kkrama@localhost)
	by windsor.research.att.com (8.8.8+Sun/8.8.5) id SAA16973;
	Thu, 28 Oct 1999 18:41:58 -0400 (EDT)
From: "K. K. Ramakrishnan" <kkrama@research.att.com>
Message-Id: <991028184149.ZM16971@windsor.research.att.com>
Date: Thu, 28 Oct 1999 18:41:49 -0400
In-Reply-To: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
        "Re: DCS draft is now available on the PacketCable web site" (Oct 28,  6:04pm)
References: <991027215102.ZM4196@windsor.research.att.com> 
	<3818C874.D565F74C@dynamicsoft.com>
X-Mailer: Z-Mail (4.0.1 13Jan97)
To: "K. K. Ramakrishnan" <kkrama@research.att.com>,
        Jonathan Rosenberg <jdrosen@dynamicsoft.com>
Subject: Re: DCS draft is now available on the PacketCable web site
Cc: sip@lists.research.bell-labs.com
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk

Jonathan,
The drafts that we sent in this time
were updates to the drafts submitted at Oslo. They include
all the changes we made based on suggestions made at the
2 MMUSIC sessions in Oslo, to the best of our ability.
Because the titles had "SIP" instead of "MMUSIC", the
IETF secretariat decided to use version 00, rather than the
01 that we had used in our submission, on the grounds that
the title was different.

Also, there was a question someone asked me on whether to read the
drafts or the spec. and what the relationship between the two were.
We extracted out the essence of the changes etc. in SIP that we felt we
needed to highlight in the IDs submitted. The DCS draft
covers the work we have done for the call signaling.
My personal suggestion is for folks to look at the
IDs first.For those that are familiar with them, and seek
more info' the DCS draft would hopefully help clarify
why/how/where etc.

Thanks,
        K. K. Ramakrishnan
On Oct 28,  6:04pm, Jonathan Rosenberg wrote:
> Subject: Re: DCS draft is now available on the PacketCable web site
> Great! I'm glad we got this in time.
>
> Question: I saw that the original DCS Internet drafts have been released
> again, with a -00 extension. Are they the same as the previous versions?
>
> Thanks,
> Jonathan R.
>
> "K. K. Ramakrishnan" wrote:
> >
> > Folks,
> > Thanks to the efforts of Ed Miller, we now
> > have the DCS draft on the Packetcable Web site
> > for you to look at.
> > This is a draft PacketCable Spec.
> > We will be referring to it, a fair amount,
> > at the Interim SIP meeting on Nov. 7th.
> >
> > Please visit:
> > ftp://ftp.cablelabs.com/pub/ietfdocs/dcsdraft.pdf
> > (it is a fairly large file).
> >
> > Thank you very much,
> >      K. K. Ramakrishnan
> >
> > --
> > K. K. Ramakrishnan
                            Email:kkrama@research.att.com
> > AT&T Labs-Research, Rm. A155                   Tel: (973)360-8766
> > 180 Park Ave, Florham Park, N.J. 07932         Fax: (973) 360-8050
> >         URL: http://www.research.att.com/info/kkrama
>
> --
> Jonathan D. Rosenberg                       200 Executive Drive
> Chief Scientist                             Suite 210
> dynamicsoft                                 West Orange, NJ 07052
> jdrosen@dynamicsoft.com                     FAX:   (732) 741-4778
> http://www.cs.columbia.edu/~jdrosen         PHONE: (732) 741-7244
> http://www.dynamicsoft.com
>-- End of excerpt from Jonathan Rosenberg



-- 
K. K. Ramakrishnan                             Email:kkrama@research.att.com
AT&T Labs-Research, Rm. A155                   Tel: (973)360-8766
180 Park Ave, Florham Park, N.J. 07932         Fax: (973) 360-8050
	URL: http://www.research.att.com/info/kkrama



From owner-sip-outgoing@lists.research.bell-labs.com  Thu Oct 28 20:03:32 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id UAA21516
	for <sip-archive@odin.ietf.org>; Thu, 28 Oct 1999 20:03:31 -0400 (EDT)
Received: by lists.research.bell-labs.com (Postfix)
	id 46BF052DC; Thu, 28 Oct 1999 20:01:27 -0400 (EDT)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id A6D6C52DE; Thu, 28 Oct 1999 20:01:26 -0400 (EDT)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 9A94852DC
	for <sip@lists.research.bell-labs.com>; Thu, 28 Oct 1999 20:01:08 -0400 (EDT)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Thu Oct 28 19:59:23 EDT 1999
Received: from cs.columbia.edu ([128.59.16.20]) by dusty; Thu Oct 28 19:58:27 EDT 1999
Received: from opus.cs.columbia.edu (opus.cs.columbia.edu [128.59.20.100])
	by cs.columbia.edu (8.9.1/8.9.1) with ESMTP id TAA25503;
	Thu, 28 Oct 1999 19:59:18 -0400 (EDT)
Received: from cs.columbia.edu (bart.cs.columbia.edu [128.59.19.191])
	by opus.cs.columbia.edu (8.9.1/8.9.1) with ESMTP id TAA19114;
	Thu, 28 Oct 1999 19:59:16 -0400 (EDT)
Message-ID: <3818E354.AE4FB8D3@cs.columbia.edu>
Date: Thu, 28 Oct 1999 19:59:16 -0400
From: Henning Schulzrinne <schulzrinne@cs.columbia.edu>
Organization: Columbia University, Dept. of Computer Science
X-Mailer: Mozilla 4.61 [en] (X11; U; SunOS 5.7 sun4u)
X-Accept-Language: en
MIME-Version: 1.0
To: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
Cc: Rick Workman <rworkman@nortelnetworks.com>,
        Alan Johnston <alan.johnston@wcom.com>,
        SIP List <sip@lists.research.bell-labs.com>
Subject: Re: I-D Action: SIP Call Flows and Service Examples
References: <3814A72D.C14D8CE8@wcom.com> <381726D8.B61A919A@americasm01.nt.com> <38176AEE.82ED4B3F@dynamicsoft.com> <3817B6A1.EF541CD0@cs.columbia.edu> <38185F49.2CD8289F@dynamicsoft.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

Jonathan Rosenberg wrote:
> 

> Need it translate the tel URL before sending it to a local proxy? I
> guess you can argue this either way. In one sense, changing it to
> sip:5551212@mydomain.com is right since I am talking to the proxy at
> mydomain.com; effectively I'm trying to reach this number through this
> domain. On the other hand, the resource I am still trying to reach is a
> phone number, and the outbound domain is not really the namespace in
> which this number is defined.

I suppose it is up to the proxy to either accept or reject non-SIP URIs.
I would guess that most current servers would not take too kindly to a
tel: URI. (I just fixed our sipd server to allow this, to see how
difficult this change might be. Two lines of code, as it turns out.)

In general, a server should probably allow non-SIP request URIs (as well
as in the To header of the REGISTER).

This should probably be made explicit. The HTTP spec only seems to imply
that something like

GET sip:user@host HTTP/1.1

would be illegal. (Having a real URI in the request line, like 'GET
http://www.ieee.org HTTP/1.1' is fine, albeit not common except when
addressing proxies.)


> > If it's tel:#, it needs to be translated to sip:#@domain, at which point
> > the # is just an identifier. Why would you need a further
> > identification? In particular, this is not fixed: in the future, the
> > same # can well refer to a legacy "black" phone at night (at home) and
> > an IP phone during the day (at work).
> 
> I was thinking along the lines of how enum gets integrated into the SIP
> architecture. We start with a phone number, and this number really is a
> "name"; using enum, we can translate it to a sip URL, mailto URL, and so
> on. In many cases, this number is a name for a terminal on the PSTN with
> the same number. In other words, the tel URL is just a normal POTS line,
> and this number has no entry in the enum database. Say some IP phone
> makes a call to tel:1234567. The first outbound proxy uses enum, and
> finds that this number is not in the database. So, it forwards it to the
> next hop proxy, using a tel URL in the request URI. This proxy doesn't
> need to look it up in enum once more, as its been done. A similar issue

However, somewhere along the way, this has to be translated to a
gateway. Why would this not be done at the same time?

The first proxy has to forward this request *somewhere* on the Internet,
so why not translate this into 

sip:#@somewhere;user=phone

No information is lost. The next hop will then decide whether this is
indeed a real phone, with a gateway to be contacted, or this actually
isn't, due to some other remapping.

> arises if the first number did exist in enum, but was mapped to another
> number (tel:1234567 -> tel:2125551213). This is basically LNP. The next
> hop proxy doesn't need to look up tel:2125551213 in enum.

This depends on whether enum is a global database or whether certain
translations are done locally. For example, you could have a global
translation to a current carrier number ("LNP"), but only the current
carrier keeps track of whether this number is currently on 24 ga twisted
pair and 48 Volts or gets IPtone. Thus, it may have to do a second
look-up anyway.

> 
> I think what you are proposing is that translation to the SIP URL
> basically implies that the lookup has been done. That works, but I think
> it might be combining two things together that are really different. Not
> sure...

I'm just not sure that a single-lookup-model even works within the tel:
context. Why have a proxy if it doesn't do a lookup - that's it's
primary justification, after all...
-- 
Henning Schulzrinne   http://www.cs.columbia.edu/~hgs



From owner-sip-outgoing@lists.research.bell-labs.com  Thu Oct 28 20:09:47 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id UAA21649
	for <sip-archive@odin.ietf.org>; Thu, 28 Oct 1999 20:09:46 -0400 (EDT)
Received: by lists.research.bell-labs.com (Postfix)
	id 1A87A52DE; Thu, 28 Oct 1999 20:07:39 -0400 (EDT)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 69E3052E7; Thu, 28 Oct 1999 20:07:37 -0400 (EDT)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from grubby.research.bell-labs.com (grubby.research.bell-labs.com [135.104.2.9])
	by lists.research.bell-labs.com (Postfix) with SMTP id 5417C52DE
	for <sip@lists.research.bell-labs.com>; Thu, 28 Oct 1999 20:07:07 -0400 (EDT)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by grubby; Thu Oct 28 20:05:24 EDT 1999
Received: from cs.columbia.edu ([128.59.16.20]) by dusty; Thu Oct 28 20:04:28 EDT 1999
Received: from opus.cs.columbia.edu (opus.cs.columbia.edu [128.59.20.100])
	by cs.columbia.edu (8.9.1/8.9.1) with ESMTP id UAA25881;
	Thu, 28 Oct 1999 20:05:22 -0400 (EDT)
Received: from cs.columbia.edu (bart.cs.columbia.edu [128.59.19.191])
	by opus.cs.columbia.edu (8.9.1/8.9.1) with ESMTP id UAA19343;
	Thu, 28 Oct 1999 20:05:20 -0400 (EDT)
Message-ID: <3818E4C0.FDEAE758@cs.columbia.edu>
Date: Thu, 28 Oct 1999 20:05:20 -0400
From: Henning Schulzrinne <schulzrinne@cs.columbia.edu>
Organization: Columbia University, Dept. of Computer Science
X-Mailer: Mozilla 4.61 [en] (X11; U; SunOS 5.7 sun4u)
X-Accept-Language: en
MIME-Version: 1.0
To: Rick Workman <rworkman@nortelnetworks.com>
Cc: Jonathan Rosenberg <jdrosen@dynamicsoft.com>,
        SIP List <sip@lists.research.bell-labs.com>
Subject: Re: I-D Action: SIP Call Flows and Service Examples
References: <3814A72D.C14D8CE8@wcom.com> <381726D8.B61A919A@americasm01.nt.com> <38176AEE.82ED4B3F@dynamicsoft.com> <3817B6A1.EF541CD0@cs.columbia.edu> <38185E55.4EA1F234@americasm01.nt.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

Rick Workman wrote:
> 

> 
> The main issue is that the SIP URL requires a host designation which isn't available. A
> minor point, if I've understand the BNF, is that the 'telephone-subscriber' can conatin a
> ';' as part of the 'isdn-subaddress' or 'post-dial' (or in 'phone-context'  in the most
> recent draft) which isn't permitted in 'user'. This is why the MCI folks had to replace the
> ';' with a ','.

Actually, the correct thing to do here is URL-escaping. The phone number
is treated by the SIP URL like an opaque object. Thus, I don't think
that replacing ; with , is the right solution. The BNF for 'user'
explicitly says "escaped" as one of the options.


> 
> So I guess I'm trying to figure out what happens when:a) Somebody on the PSTN dials
> 2129397042.
> b) Some SIP client  INVITEs tel:2129397042 to a session, not really knowing (or caring)
> whether the called party is a black telephone or a SIP phone.
> 
> If 2129397042 is a unique telephone number (across SIP and PSTN networks) and can only
> refer to the SIP agent (or service), perhaps there isn't any problem (in theory). So the
> question is whether this underlying assumption is valid?
> 

I think having two numbering spaces that look alike but are different is
generally a bad idea. In that case, you'd at least would need to add a
context identifier to the phone number part to disambiguate the context.
I see no reason why the SIP world should have its own E.164-like space -
after all, we are trying to get rid of random digit strings as user
identifiers. Even Compuserve has conceded that point, I believe :-)


-- 
Henning Schulzrinne   http://www.cs.columbia.edu/~hgs



From owner-sip-outgoing@lists.research.bell-labs.com  Thu Oct 28 20:39:32 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id UAA22785
	for <sip-archive@odin.ietf.org>; Thu, 28 Oct 1999 20:39:31 -0400 (EDT)
Received: by lists.research.bell-labs.com (Postfix)
	id 7961F52DD; Thu, 28 Oct 1999 20:37:24 -0400 (EDT)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id EBB4052E7; Thu, 28 Oct 1999 20:37:23 -0400 (EDT)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 2060B52DD
	for <sip@lists.research.bell-labs.com>; Thu, 28 Oct 1999 20:37:07 -0400 (EDT)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Thu Oct 28 20:36:28 EDT 1999
Received: from alpha.mcit.com ([199.249.19.243]) by dusty; Thu Oct 28 20:35:32 EDT 1999
Received: from ndcrelay.mcit.com ([166.37.172.49])
 by firewall.mcit.com (PMDF V5.2-32 #38416)
 with ESMTP id <0FKB000ILKH6HK@firewall.mcit.com> for
 sip@lists.research.bell-labs.com; Thu, 28 Oct 1999 15:32:20 +0000 (GMT)
Received: from omzexch007.mcit.com (OMZEXCH007.mcit.com [166.37.194.38])
 by ndcrelay.mcit.com (8.8.7/) with ESMTP	id PAA05355; Thu,
 28 Oct 1999 15:29:29 +0000 (GMT)
Received: by omzexch007 with Internet Mail Service (5.5.2571.0)
	id <VQP893WN>; Thu, 28 Oct 1999 15:30:53 +0000
Content-return: allowed
Date: Thu, 28 Oct 1999 15:30:53 +0000
From: "Donovan, Steven R." <Steven.R.Donovan@wcom.com>
Subject: RE: SIP session liveliness
To: "'Paul Defrain'" <defrain@nortelnetworks.com>,
        "'sip@lists.research.bell-labs.com'" <sip@lists.research.bell-labs.com>
Message-id: <75C79E507864D3118AFC00805FEAB7D8018F32@ripexch001.mcit.com>
MIME-version: 1.0
X-Mailer: Internet Mail Service (5.5.2571.0)
Content-type: multipart/alternative;
	boundary="----_=_NextPart_001_01BF2159.6BF22CE4"
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk

This message is in MIME format. Since your mail reader does not understand
this format, some or all of this message may not be legible.

------_=_NextPart_001_01BF2159.6BF22CE4
Content-Type: text/plain;
	charset="iso-8859-1"

Paul,
 
Please see the following draft:
http://www.ietf.org/internet-drafts/draft-ietf-sip-session-timer-00.txt
<http://www.ietf.org/internet-drafts/draft-ietf-sip-session-timer-00.txt> 

This is another method for achieving your goal.  It is more of a keep-alive
mechanism than the ping method you propose.

Regards,

Steve

-----Original Message-----
From: Paul Defrain [mailto:defrain@nortelnetworks.com]
Sent: Thursday, October 28, 1999 12:10 AM
To: 'sip@lists.research.bell-labs.com'
Subject: SIP session liveliness



All, 

While we're on the topic of SIP INFO message use, it seems reasonable to
assume that we will need to develop a way to ascertain whether or not a SIP
session is active. Once a SIP session is established there remains no
required "connection" that physically ties the involved parties together. If
one party leaves the session and cannot (or does not) contact the other then
network resources could be lost (depending on the nature of the application
involved in the session). We have identified the need to occasionally "ping"
a SIP call based on its call-id (the only persistent piece of data that
ultimately identifies an established application session). We foresee the
use of the SIP INFO request against the affected call-id along with its 200
response (or other final or non-response in case of error) as an indication
of session liveliness. We will use this technique protect (reclaim) limited
network resources involved in some sessions established using SIP as the
messenger.

Has this type of messaging between established sessions been addressed in
this or some other forum? Has anyone implemented this sort of functionality
in their application(s).

__________________________ 
Paul D. DeFrain 
IP Services SIP Feature Development 
ESN 444.7570 (972) 684.7570 
defrain@nortelnetworks.com 



------_=_NextPart_001_01BF2159.6BF22CE4
Content-Type: text/html;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML><HEAD>
<META HTTP-EQUIV=3D"Content-Type" CONTENT=3D"text/html; =
charset=3Diso-8859-1">
<TITLE>SIP session liveliness</TITLE>

<META content=3D"MSHTML 5.00.2614.3401" name=3DGENERATOR></HEAD>
<BODY>
<DIV><FONT color=3D#0000ff face=3D"Courier New" size=3D2><SPAN=20
class=3D240112815-28101999>Paul,</SPAN></FONT></DIV>
<DIV><FONT color=3D#0000ff face=3D"Courier New" size=3D2><SPAN=20
class=3D240112815-28101999></SPAN></FONT>&nbsp;</DIV>
<DIV><FONT color=3D#0000ff face=3D"Courier New" size=3D2><SPAN=20
class=3D240112815-28101999>Please see the following =
draft:</SPAN></FONT></DIV>
<DIV><SPAN class=3D240112815-28101999>
<P><FONT face=3D"Courier New" size=3D2><A=20
href=3D"http://www.ietf.org/internet-drafts/draft-ietf-sip-session-timer=
-00.txt">http://www.ietf.org/internet-drafts/draft-ietf-sip-session-time=
r-00.txt</A></FONT></P>
<P><FONT color=3D#0000ff face=3D"Courier New" size=3D2><SPAN=20
class=3D240112815-28101999>This is another method for achieving your =
goal.&nbsp;=20
It is more&nbsp;of a keep-alive mechanism than&nbsp;the ping method you =

propose.</SPAN></FONT></P>
<P><FONT color=3D#0000ff face=3D"Courier New" size=3D2><SPAN=20
class=3D240112815-28101999>Regards,</SPAN></FONT></P>
<P><FONT color=3D#0000ff face=3D"Courier New" size=3D2><SPAN=20
class=3D240112815-28101999>Steve</SPAN></FONT></P></SPAN></DIV>
<BLOCKQUOTE>
  <DIV class=3DOutlookMessageHeader><FONT face=3D"Times New Roman"=20
  size=3D2>-----Original Message-----<BR><B>From:</B> Paul Defrain=20
  [mailto:defrain@nortelnetworks.com]<BR><B>Sent:</B> Thursday, October =
28, 1999=20
  12:10 AM<BR><B>To:</B> =
'sip@lists.research.bell-labs.com'<BR><B>Subject:</B>=20
  SIP session liveliness<BR><BR></DIV></FONT>
  <P><FONT color=3D#0000ff face=3DArial size=3D2>All,</FONT> </P>
  <P><FONT color=3D#0000ff face=3DArial size=3D2>While we're on the =
topic of SIP INFO=20
  message use, it seems reasonable to assume that we will need to =
develop a way=20
  to ascertain whether or not a SIP session is active. Once a SIP =
session is=20
  established there remains no required "connection" that physically =
ties the=20
  involved parties together. If one party leaves the session and cannot =
(or does=20
  not) contact the other then network resources could be lost =
(depending on the=20
  nature of the application involved in the session). We have =
identified the=20
  need to occasionally "ping" a SIP call based on its call-id (the only =

  persistent piece of data that ultimately identifies an established =
application=20
  session). We foresee the use of the SIP INFO request against the =
affected=20
  call-id along with its 200 response (or other final or non-response =
in case of=20
  error) as an indication of session liveliness. We will use this =
technique=20
  protect (reclaim) limited network resources involved in some sessions =

  established using SIP as the messenger.</FONT></P>
  <P><FONT color=3D#0000ff face=3DArial size=3D2>Has this type of =
messaging between=20
  established sessions been addressed in this or some other forum? Has =
anyone=20
  implemented this sort of functionality in their =
application(s).</FONT></P>
  <P><FONT color=3D#000000 face=3DTahoma =
size=3D2>__________________________</FONT>=20
  <BR><FONT color=3D#000000 face=3DTahoma size=3D2>Paul D. =
DeFrain</FONT> <BR><FONT=20
  color=3D#808000 face=3DTahoma size=3D1>IP Services SIP Feature =
Development</FONT>=20
  <BR><FONT color=3D#808080 face=3DTahoma size=3D1>ESN 444.7570 (972) =
684.7570</FONT>=20
  <BR><FONT color=3D#808080 face=3DTahoma =
size=3D1>defrain@nortelnetworks.com</FONT>=20
  </P><BR></BLOCKQUOTE></BODY></HTML>

------_=_NextPart_001_01BF2159.6BF22CE4--



From owner-sip-outgoing@lists.research.bell-labs.com  Thu Oct 28 22:11:36 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id WAA26089
	for <sip-archive@odin.ietf.org>; Thu, 28 Oct 1999 22:11:35 -0400 (EDT)
Received: by lists.research.bell-labs.com (Postfix)
	id 8C12052E8; Thu, 28 Oct 1999 22:09:24 -0400 (EDT)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 04CC752EB; Thu, 28 Oct 1999 22:09:23 -0400 (EDT)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 2AEAD52E8
	for <sip@lists.research.bell-labs.com>; Thu, 28 Oct 1999 22:09:08 -0400 (EDT)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Thu Oct 28 22:07:32 EDT 1999
Received: from cs.columbia.edu ([128.59.16.20]) by dusty; Thu Oct 28 22:06:35 EDT 1999
Received: from opus.cs.columbia.edu (opus.cs.columbia.edu [128.59.20.100])
	by cs.columbia.edu (8.9.1/8.9.1) with ESMTP id WAA02757;
	Thu, 28 Oct 1999 22:07:29 -0400 (EDT)
Received: from cs.columbia.edu (bart.cs.columbia.edu [128.59.19.191])
	by opus.cs.columbia.edu (8.9.1/8.9.1) with ESMTP id WAA24057;
	Thu, 28 Oct 1999 22:07:28 -0400 (EDT)
Message-ID: <38190160.A88476F9@cs.columbia.edu>
Date: Thu, 28 Oct 1999 22:07:28 -0400
From: Henning Schulzrinne <schulzrinne@cs.columbia.edu>
Organization: Columbia University, Dept. of Computer Science
X-Mailer: Mozilla 4.61 [en] (X11; U; SunOS 5.7 sun4u)
X-Accept-Language: en
MIME-Version: 1.0
To: "Gregory D. Girard" <ggirard@mediaone.net>
Cc: SIP List <sip@lists.research.bell-labs.com>
Subject: Re: Detecting DTMF tones on a SIP voice session
References: <004b01bf21b0$ce7f6780$122cda18@goliath.ne.mediaone.net>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

Cc list trimmed, since everybody is presumably a list member. There are
two short answers to the issue you raised:

1) See the RTP proposal for carrying DTMF and other tones. It's listed
on the AVT WG web page. This is the preferred mechanism as long as audio
and DTMF are going the same way, as it has a low-latency redundancy
mechanism and can readily be synchronized with the audio stream. It is
also quite feasible to set up a SIP connection that transfers only DTMF
using this mechanism. This proposal has undergone working group last
call and will be submitted for IETF last call shortly.

2) The use of the INFO method to carry DTMF within SIP has been
discussed. This would, in spirit, be very similar to carrying ISUP
information across the network, just that it is in-band signaling that
is effectively replicated out-of-band. The definition is trivial:

INFO ... SIP/2.0
To: anywhere
From: somewhere
Content-type: application/dtmf

*1

or something like that.

"Gregory D. Girard" wrote:
> 
> To the extent that I am not a "SIP insider" and have not been deeply
> involved in the evolution of SIP, I'm not exactly sure how to bring up a new
> subject in this forum. I am in the process of determining how to achieve
> third-party call control through a Softswitch using SIP as the call
> control/signaling interface. I am very familiar with the Lucent Softswitch
> model and believe that other Softswitch call control interfaces are
> possible. To that end, I really need to find something out directly related
> to SIP functionality.
> 
> In considering SIP as a call control interface to a Softswitch, it becomes
> very challenging to navigate an Interactive Voice Response session without
> the ability to collect DTMF input from the caller. Perhaps I missed
> something, but I am unaware of any SIP capacity to transmit DTMF digit
> information for a voice connection. I found no SIP messages relating to the
> feature, presumably because it requires an underlying DSP capability to
> detect the DTMF digits. SIP implemenations appear not to have focussed on
> this area.
> 
> If I have overlooked some existing SIP functionality, please accept my
> humble apologies and direct me to the righ place.
> 
> On the other hand, if the "SIP community" has overlooked DTMF digit
> collection/detection as a critical adunct necessary to make SIP work in a
> real call control application, the read on.
> 
> *** Would it be possible to extend SIP messages to enable a DTMF digit map
> to be specified for a specific SIP voice session ?
> 
> This functionality may not make sense in all cases, however in the case
> where a User Access Client and/or User Access Server is incorporated into a
> Softswitch, it would be very desirable for the Softswitch to be able to
> collect DTMF digits for a voice session (according to a digit map) and
> subsequently insert the results into the SIP message stream.
> 
> Certainly one could argue that this feature is hardware-dependent in terms
> of DSP capabilities, voilates the purity of the SIP signaling model, and
> belongs to an MGCP interface, but that would be missing the point. In
> creating a connection to a Softswitch, the media gateways are completely
> encapsulated by layers of Softswitch software. The MGCP client-server pairs
> used by the Softswitch to control one or more media gateways are not
> externally addressible outside of the domain of the Softswitch because the
> Softswitch is fully responsible for managing the media gateways as its own
> internal "switching resource".
> 
> An IVR application external to the softswitch cannot simply wrest control of
> a media gateway to create a connection for its own purposes. Unfortunately,
> the ability to present digit maps for DTMF collection on a given connection
> appears to only be available through the inaccessbile MCGP protocol
> elements. Thus, my proposal is to extend that MGCP feature into SIP.
> 
> Greg Girard
> 
> Iperia, Inc.
> 
> -----Original Message-----
> From: Henning Schulzrinne <schulzrinne@cs.columbia.edu>
> To: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
> Cc: Rick Workman <rworkman@nortelnetworks.com>; Alan Johnston
> <alan.johnston@wcom.com>; SIP List <sip@lists.research.bell-labs.com>
> Date: Thursday, October 28, 1999 8:03 PM
> Subject: Re: I-D Action: SIP Call Flows and Service Examples
> 
> >Jonathan Rosenberg wrote:
> >>
> >
> >> Need it translate the tel URL before sending it to a local proxy? I
> >> guess you can argue this either way. In one sense, changing it to
> >> sip:5551212@mydomain.com is right since I am talking to the proxy at
> >> mydomain.com; effectively I'm trying to reach this number through this
> >> domain. On the other hand, the resource I am still trying to reach is a
> >> phone number, and the outbound domain is not really the namespace in
> >> which this number is defined.
> >
> >I suppose it is up to the proxy to either accept or reject non-SIP URIs.
> >I would guess that most current servers would not take too kindly to a
> >tel: URI. (I just fixed our sipd server to allow this, to see how
> >difficult this change might be. Two lines of code, as it turns out.)
> >
> >In general, a server should probably allow non-SIP request URIs (as well
> >as in the To header of the REGISTER).
> >
> >This should probably be made explicit. The HTTP spec only seems to imply
> >that something like
> >
> >GET sip:user@host HTTP/1.1
> >
> >would be illegal. (Having a real URI in the request line, like 'GET
> >http://www.ieee.org HTTP/1.1' is fine, albeit not common except when
> >addressing proxies.)
> >
> >
> >> > If it's tel:#, it needs to be translated to sip:#@domain, at which
> point
> >> > the # is just an identifier. Why would you need a further
> >> > identification? In particular, this is not fixed: in the future, the
> >> > same # can well refer to a legacy "black" phone at night (at home) and
> >> > an IP phone during the day (at work).
> >>
> >> I was thinking along the lines of how enum gets integrated into the SIP
> >> architecture. We start with a phone number, and this number really is a
> >> "name"; using enum, we can translate it to a sip URL, mailto URL, and so
> >> on. In many cases, this number is a name for a terminal on the PSTN with
> >> the same number. In other words, the tel URL is just a normal POTS line,
> >> and this number has no entry in the enum database. Say some IP phone
> >> makes a call to tel:1234567. The first outbound proxy uses enum, and
> >> finds that this number is not in the database. So, it forwards it to the
> >> next hop proxy, using a tel URL in the request URI. This proxy doesn't
> >> need to look it up in enum once more, as its been done. A similar issue
> >
> >However, somewhere along the way, this has to be translated to a
> >gateway. Why would this not be done at the same time?
> >
> >The first proxy has to forward this request *somewhere* on the Internet,
> >so why not translate this into
> >
> >sip:#@somewhere;user=phone
> >
> >No information is lost. The next hop will then decide whether this is
> >indeed a real phone, with a gateway to be contacted, or this actually
> >isn't, due to some other remapping.
> >
> >> arises if the first number did exist in enum, but was mapped to another
> >> number (tel:1234567 -> tel:2125551213). This is basically LNP. The next
> >> hop proxy doesn't need to look up tel:2125551213 in enum.
> >
> >This depends on whether enum is a global database or whether certain
> >translations are done locally. For example, you could have a global
> >translation to a current carrier number ("LNP"), but only the current
> >carrier keeps track of whether this number is currently on 24 ga twisted
> >pair and 48 Volts or gets IPtone. Thus, it may have to do a second
> >look-up anyway.
> >
> >>
> >> I think what you are proposing is that translation to the SIP URL
> >> basically implies that the lookup has been done. That works, but I think
> >> it might be combining two things together that are really different. Not
> >> sure...
> >
> >I'm just not sure that a single-lookup-model even works within the tel:
> >context. Why have a proxy if it doesn't do a lookup - that's it's
> >primary justification, after all...
> >--
> >Henning Schulzrinne   http://www.cs.columbia.edu/~hgs
> >

-- 
Henning Schulzrinne   http://www.cs.columbia.edu/~hgs



From owner-sip-outgoing@lists.research.bell-labs.com  Thu Oct 28 22:14:12 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id WAA26131
	for <sip-archive@odin.ietf.org>; Thu, 28 Oct 1999 22:14:11 -0400 (EDT)
Received: by lists.research.bell-labs.com (Postfix)
	id D93E752EB; Thu, 28 Oct 1999 22:11:51 -0400 (EDT)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id E8F4F52EC; Thu, 28 Oct 1999 22:11:50 -0400 (EDT)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from grubby.research.bell-labs.com (grubby.research.bell-labs.com [135.104.2.9])
	by lists.research.bell-labs.com (Postfix) with SMTP id A8C6D52EB
	for <sip@lists.research.bell-labs.com>; Thu, 28 Oct 1999 22:11:08 -0400 (EDT)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by grubby; Thu Oct 28 22:09:29 EDT 1999
Received: from omzrelay02.mcit.com ([199.249.19.244]) by dusty; Thu Oct 28 22:08:32 EDT 1999
Received: from ndcrelay2.mcit.com ([166.37.172.6])
 by firewall.mcit.com (PMDF V5.2-32 #38417)
 with ESMTP id <0FKB00GBON75PB@firewall.mcit.com> for
 sip@lists.research.bell-labs.com; Thu, 28 Oct 1999 16:30:41 +0000 (GMT)
Received: from omzmta04.mcit.com (omzmta04.mcit.com [166.37.194.122])
 by ndcrelay2.mcit.com (8.8.7/) with ESMTP	id QAA19637; Thu,
 28 Oct 1999 16:26:04 +0000 (GMT)
Received: from dwillispc4 ([166.35.249.114])
 by omzmta04.mcit.com (InterMail v03.02.05 118 121 101)
 with SMTP id <19991028163039.VVXC1099@dwillispc4>; Thu,
 28 Oct 1999 16:30:39 +0000
Date: Thu, 28 Oct 1999 11:32:49 -0500
From: Dean Willis <dean.willis@wcom.com>
Subject: Test, please ignore
To: IETF SIP <sip@lists.research.bell-labs.com>
Cc: dwillis@greycouncil.com, Robert Sparks <robert.sparks@wcom.com>
Message-id: <008b01bf2162$12e9ff60$72f923a6@mcit.com>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft MimeOLE V5.00.2615.200
X-Mailer: Microsoft Outlook 8.5, Build 4.71.2377.0
Content-type: text/plain;	charset="iso-8859-1"
Content-transfer-encoding: 7bit
Importance: Normal
X-Priority: 3 (Normal)
X-MSMail-priority: Normal
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit


We heard rumors that there is a lag on the listserv, so I'm checking the
timing.

--
Dean Willis
WorldCom Engineering
972-729-4162
v772-4162




From owner-sip-outgoing@lists.research.bell-labs.com  Thu Oct 28 22:29:32 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id WAA26420
	for <sip-archive@odin.ietf.org>; Thu, 28 Oct 1999 22:29:32 -0400 (EDT)
Received: by lists.research.bell-labs.com (Postfix)
	id 3334752EC; Thu, 28 Oct 1999 22:27:24 -0400 (EDT)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 8809052EF; Thu, 28 Oct 1999 22:27:23 -0400 (EDT)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id CE60D52EC
	for <sip@lists.research.bell-labs.com>; Thu, 28 Oct 1999 22:27:07 -0400 (EDT)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Thu Oct 28 22:25:17 EDT 1999
Received: from chmls05.mediaone.net ([24.128.1.70]) by dusty; Thu Oct 28 22:24:20 EDT 1999
Received: from goliath (ggirard.ne.mediaone.net [24.218.44.18])
	by chmls05.mediaone.net (8.8.7/8.8.7) with ESMTP id WAA08047;
	Thu, 28 Oct 1999 22:25:08 -0400 (EDT)
Message-ID: <008301bf21b4$e0236870$122cda18@goliath.ne.mediaone.net>
Reply-To: "Gregory D. Girard" <ggirard@mediaone.net>
From: "Gregory D. Girard" <ggirard@mediaone.net>
To: "Henning Schulzrinne" <schulzrinne@cs.columbia.edu>
Cc: "SIP List" <sip@lists.research.bell-labs.com>
Subject: Re: Detecting DTMF tones on a SIP voice session
Date: Thu, 28 Oct 1999 22:25:32 -0400
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 4.72.2106.4
X-MimeOLE: Produced By Microsoft MimeOLE V4.72.2106.4
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

Thanks so much for the information. In my opinion, it important that one way
or the other makes its way into the new SIP standard as required elements.
Lucent, in particular, has absolutely no intention of doing anything to
allow third party call control of their Softswith. The reason is a separate
discussion that we can have some time. They do, however, tout a SIP
signaling interface. If SIP requires support for this feature, the Lucent
Softswitch will provide de facto support for third-party call control and
the critical DTMF functionality discussed. To allow the feature to remain a
simple SIP enhancement would not accomplish the goal of having SIP serve as
the universal IP Telephony call control and signaling interface that it
potentially could be.

Option 1 below is less desireable than option 2 for two reasons:

1- Requires one or more RTP streams even though application may only require
DTMF digit sequence to provide a service
2- Requires that digit sequences come in a serial fashion and may return too
much useless information.

In contrast, the INFO solution would allow the media gateway internal
functionality (as defined for MGCP) to match the digit map prior to
returning anything at all.

Just few thoughts. I'm glad to know that this was an area of recent
consideration and I was not just missing it.
Thanks,

Greg Girard


-----Original Message-----
From: Henning Schulzrinne <schulzrinne@cs.columbia.edu>
To: Gregory D. Girard <ggirard@mediaone.net>
Cc: SIP List <sip@lists.research.bell-labs.com>
Date: Thursday, October 28, 1999 10:07 PM
Subject: Re: Detecting DTMF tones on a SIP voice session


>Cc list trimmed, since everybody is presumably a list member. There are
>two short answers to the issue you raised:
>
>1) See the RTP proposal for carrying DTMF and other tones. It's listed
>on the AVT WG web page. This is the preferred mechanism as long as audio
>and DTMF are going the same way, as it has a low-latency redundancy
>mechanism and can readily be synchronized with the audio stream. It is
>also quite feasible to set up a SIP connection that transfers only DTMF
>using this mechanism. This proposal has undergone working group last
>call and will be submitted for IETF last call shortly.
>
>2) The use of the INFO method to carry DTMF within SIP has been
>discussed. This would, in spirit, be very similar to carrying ISUP
>information across the network, just that it is in-band signaling that
>is effectively replicated out-of-band. The definition is trivial:
>
>INFO ... SIP/2.0
>To: anywhere
>From: somewhere
>Content-type: application/dtmf
>
>*1
>
>or something like that.
>
>"Gregory D. Girard" wrote:
>>
>> To the extent that I am not a "SIP insider" and have not been deeply
>> involved in the evolution of SIP, I'm not exactly sure how to bring up a
new
>> subject in this forum. I am in the process of determining how to achieve
>> third-party call control through a Softswitch using SIP as the call
>> control/signaling interface. I am very familiar with the Lucent
Softswitch
>> model and believe that other Softswitch call control interfaces are
>> possible. To that end, I really need to find something out directly
related
>> to SIP functionality.
>>
>> In considering SIP as a call control interface to a Softswitch, it
becomes
>> very challenging to navigate an Interactive Voice Response session
without
>> the ability to collect DTMF input from the caller. Perhaps I missed
>> something, but I am unaware of any SIP capacity to transmit DTMF digit
>> information for a voice connection. I found no SIP messages relating to
the
>> feature, presumably because it requires an underlying DSP capability to
>> detect the DTMF digits. SIP implemenations appear not to have focussed on
>> this area.
>>
>> If I have overlooked some existing SIP functionality, please accept my
>> humble apologies and direct me to the righ place.
>>
>> On the other hand, if the "SIP community" has overlooked DTMF digit
>> collection/detection as a critical adunct necessary to make SIP work in a
>> real call control application, the read on.
>>
>> *** Would it be possible to extend SIP messages to enable a DTMF digit
map
>> to be specified for a specific SIP voice session ?
>>
>> This functionality may not make sense in all cases, however in the case
>> where a User Access Client and/or User Access Server is incorporated into
a
>> Softswitch, it would be very desirable for the Softswitch to be able to
>> collect DTMF digits for a voice session (according to a digit map) and
>> subsequently insert the results into the SIP message stream.
>>
>> Certainly one could argue that this feature is hardware-dependent in
terms
>> of DSP capabilities, voilates the purity of the SIP signaling model, and
>> belongs to an MGCP interface, but that would be missing the point. In
>> creating a connection to a Softswitch, the media gateways are completely
>> encapsulated by layers of Softswitch software. The MGCP client-server
pairs
>> used by the Softswitch to control one or more media gateways are not
>> externally addressible outside of the domain of the Softswitch because
the
>> Softswitch is fully responsible for managing the media gateways as its
own
>> internal "switching resource".
>>
>> An IVR application external to the softswitch cannot simply wrest control
of
>> a media gateway to create a connection for its own purposes.
Unfortunately,
>> the ability to present digit maps for DTMF collection on a given
connection
>> appears to only be available through the inaccessbile MCGP protocol
>> elements. Thus, my proposal is to extend that MGCP feature into SIP.
>>
>> Greg Girard
>>
>> Iperia, Inc.
>>
>> -----Original Message-----
>> From: Henning Schulzrinne <schulzrinne@cs.columbia.edu>
>> To: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
>> Cc: Rick Workman <rworkman@nortelnetworks.com>; Alan Johnston
>> <alan.johnston@wcom.com>; SIP List <sip@lists.research.bell-labs.com>
>> Date: Thursday, October 28, 1999 8:03 PM
>> Subject: Re: I-D Action: SIP Call Flows and Service Examples
>>
>> >Jonathan Rosenberg wrote:
>> >>
>> >
>> >> Need it translate the tel URL before sending it to a local proxy? I
>> >> guess you can argue this either way. In one sense, changing it to
>> >> sip:5551212@mydomain.com is right since I am talking to the proxy at
>> >> mydomain.com; effectively I'm trying to reach this number through this
>> >> domain. On the other hand, the resource I am still trying to reach is
a
>> >> phone number, and the outbound domain is not really the namespace in
>> >> which this number is defined.
>> >
>> >I suppose it is up to the proxy to either accept or reject non-SIP URIs.
>> >I would guess that most current servers would not take too kindly to a
>> >tel: URI. (I just fixed our sipd server to allow this, to see how
>> >difficult this change might be. Two lines of code, as it turns out.)
>> >
>> >In general, a server should probably allow non-SIP request URIs (as well
>> >as in the To header of the REGISTER).
>> >
>> >This should probably be made explicit. The HTTP spec only seems to imply
>> >that something like
>> >
>> >GET sip:user@host HTTP/1.1
>> >
>> >would be illegal. (Having a real URI in the request line, like 'GET
>> >http://www.ieee.org HTTP/1.1' is fine, albeit not common except when
>> >addressing proxies.)
>> >
>> >
>> >> > If it's tel:#, it needs to be translated to sip:#@domain, at which
>> point
>> >> > the # is just an identifier. Why would you need a further
>> >> > identification? In particular, this is not fixed: in the future, the
>> >> > same # can well refer to a legacy "black" phone at night (at home)
and
>> >> > an IP phone during the day (at work).
>> >>
>> >> I was thinking along the lines of how enum gets integrated into the
SIP
>> >> architecture. We start with a phone number, and this number really is
a
>> >> "name"; using enum, we can translate it to a sip URL, mailto URL, and
so
>> >> on. In many cases, this number is a name for a terminal on the PSTN
with
>> >> the same number. In other words, the tel URL is just a normal POTS
line,
>> >> and this number has no entry in the enum database. Say some IP phone
>> >> makes a call to tel:1234567. The first outbound proxy uses enum, and
>> >> finds that this number is not in the database. So, it forwards it to
the
>> >> next hop proxy, using a tel URL in the request URI. This proxy doesn't
>> >> need to look it up in enum once more, as its been done. A similar
issue
>> >
>> >However, somewhere along the way, this has to be translated to a
>> >gateway. Why would this not be done at the same time?
>> >
>> >The first proxy has to forward this request *somewhere* on the Internet,
>> >so why not translate this into
>> >
>> >sip:#@somewhere;user=phone
>> >
>> >No information is lost. The next hop will then decide whether this is
>> >indeed a real phone, with a gateway to be contacted, or this actually
>> >isn't, due to some other remapping.
>> >
>> >> arises if the first number did exist in enum, but was mapped to
another
>> >> number (tel:1234567 -> tel:2125551213). This is basically LNP. The
next
>> >> hop proxy doesn't need to look up tel:2125551213 in enum.
>> >
>> >This depends on whether enum is a global database or whether certain
>> >translations are done locally. For example, you could have a global
>> >translation to a current carrier number ("LNP"), but only the current
>> >carrier keeps track of whether this number is currently on 24 ga twisted
>> >pair and 48 Volts or gets IPtone. Thus, it may have to do a second
>> >look-up anyway.
>> >
>> >>
>> >> I think what you are proposing is that translation to the SIP URL
>> >> basically implies that the lookup has been done. That works, but I
think
>> >> it might be combining two things together that are really different.
Not
>> >> sure...
>> >
>> >I'm just not sure that a single-lookup-model even works within the tel:
>> >context. Why have a proxy if it doesn't do a lookup - that's it's
>> >primary justification, after all...
>> >--
>> >Henning Schulzrinne   http://www.cs.columbia.edu/~hgs
>> >
>
>--
>Henning Schulzrinne   http://www.cs.columbia.edu/~hgs




From owner-sip-outgoing@lists.research.bell-labs.com  Thu Oct 28 22:45:37 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id WAA27998
	for <sip-archive@odin.ietf.org>; Thu, 28 Oct 1999 22:45:36 -0400 (EDT)
Received: by lists.research.bell-labs.com (Postfix)
	id 53CF852E7; Thu, 28 Oct 1999 22:43:24 -0400 (EDT)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id C638552F1; Thu, 28 Oct 1999 22:43:23 -0400 (EDT)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 4C1B252E7
	for <sip@lists.research.bell-labs.com>; Thu, 28 Oct 1999 22:43:08 -0400 (EDT)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Thu Oct 28 22:41:52 EDT 1999
Received: from cs.columbia.edu ([128.59.16.20]) by dusty; Thu Oct 28 22:40:55 EDT 1999
Received: from opus.cs.columbia.edu (opus.cs.columbia.edu [128.59.20.100])
	by cs.columbia.edu (8.9.1/8.9.1) with ESMTP id WAA04875;
	Thu, 28 Oct 1999 22:41:50 -0400 (EDT)
Received: from cs.columbia.edu (bart.cs.columbia.edu [128.59.19.191])
	by opus.cs.columbia.edu (8.9.1/8.9.1) with ESMTP id WAA25381;
	Thu, 28 Oct 1999 22:41:49 -0400 (EDT)
Message-ID: <3819096C.FC42D548@cs.columbia.edu>
Date: Thu, 28 Oct 1999 22:41:48 -0400
From: Henning Schulzrinne <schulzrinne@cs.columbia.edu>
Organization: Columbia University, Dept. of Computer Science
X-Mailer: Mozilla 4.61 [en] (X11; U; SunOS 5.7 sun4u)
X-Accept-Language: en
MIME-Version: 1.0
To: "Gregory D. Girard" <ggirard@mediaone.net>
Cc: SIP List <sip@lists.research.bell-labs.com>
Subject: Re: Detecting DTMF tones on a SIP voice session
References: <008301bf21b4$e0236870$122cda18@goliath.ne.mediaone.net>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

"Gregory D. Girard" wrote:
> 
> Thanks so much for the information. In my opinion, it important that one way
> or the other makes its way into the new SIP standard as required elements.
> Lucent, in particular, has absolutely no intention of doing anything to
> allow third party call control of their Softswith. The reason is a separate
> discussion that we can have some time. They do, however, tout a SIP
> signaling interface. If SIP requires support for this feature, the Lucent
> Softswitch will provide de facto support for third-party call control and
> the critical DTMF functionality discussed. To allow the feature to remain a
> simple SIP enhancement would not accomplish the goal of having SIP serve as
> the universal IP Telephony call control and signaling interface that it
> potentially could be.

I'm not sure what it could be beyond a "simple SIP enhancement". IETF
doesn't do profiles listing features and extensions that products need
to support; the SoftSwitch consortium is certainly free to do this.

> 
> Option 1 below is less desireable than option 2 for two reasons:
> 
> 1- Requires one or more RTP streams even though application may only require
> DTMF digit sequence to provide a service

Why is this a problem?

> 2- Requires that digit sequences come in a serial fashion and may return too
> much useless information.

I'm not sure what "useless" information you are referring to. I'm afraid
I also don't know what you mean by "serial fashion". Both SIP and RTP
use UDP.

In my view, carrying DTMF in INFO messages makes sense primarily if the
(DTMF) signaling path is very different from the media path or if the
information needs to be visible to SIP proxies in the middle.

-- 
Henning Schulzrinne   http://www.cs.columbia.edu/~hgs



From owner-sip-outgoing@lists.research.bell-labs.com  Thu Oct 28 22:46:56 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id WAA28031
	for <sip-archive@odin.ietf.org>; Thu, 28 Oct 1999 22:46:55 -0400 (EDT)
Received: by lists.research.bell-labs.com (Postfix)
	id 6587252E3; Thu, 28 Oct 1999 21:59:22 -0400 (EDT)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id C236052E8; Thu, 28 Oct 1999 21:59:21 -0400 (EDT)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from grubby.research.bell-labs.com (grubby.research.bell-labs.com [135.104.2.9])
	by lists.research.bell-labs.com (Postfix) with SMTP id D21EE52E3
	for <sip@lists.research.bell-labs.com>; Thu, 28 Oct 1999 21:59:06 -0400 (EDT)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by grubby; Thu Oct 28 21:57:06 EDT 1999
Received: from chmls05.mediaone.net ([24.128.1.70]) by dusty; Thu Oct 28 21:56:10 EDT 1999
Received: from goliath (ggirard.ne.mediaone.net [24.218.44.18])
	by chmls05.mediaone.net (8.8.7/8.8.7) with ESMTP id VAA29907;
	Thu, 28 Oct 1999 21:55:59 -0400 (EDT)
Message-ID: <004b01bf21b0$ce7f6780$122cda18@goliath.ne.mediaone.net>
Reply-To: "Gregory D. Girard" <ggirard@mediaone.net>
From: "Gregory D. Girard" <ggirard@mediaone.net>
To: "Henning Schulzrinne" <schulzrinne@cs.columbia.edu>,
        "Jonathan Rosenberg" <jdrosen@dynamicsoft.com>
Cc: "Rick Workman" <rworkman@nortelnetworks.com>,
        "Alan Johnston" <alan.johnston@wcom.com>,
        "SIP List" <sip@lists.research.bell-labs.com>
Subject: Detecting DTMF tones on a SIP voice session
Date: Thu, 28 Oct 1999 21:56:23 -0400
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 4.72.2106.4
X-MimeOLE: Produced By Microsoft MimeOLE V4.72.2106.4
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

To the extent that I am not a "SIP insider" and have not been deeply
involved in the evolution of SIP, I'm not exactly sure how to bring up a new
subject in this forum. I am in the process of determining how to achieve
third-party call control through a Softswitch using SIP as the call
control/signaling interface. I am very familiar with the Lucent Softswitch
model and believe that other Softswitch call control interfaces are
possible. To that end, I really need to find something out directly related
to SIP functionality.

In considering SIP as a call control interface to a Softswitch, it becomes
very challenging to navigate an Interactive Voice Response session without
the ability to collect DTMF input from the caller. Perhaps I missed
something, but I am unaware of any SIP capacity to transmit DTMF digit
information for a voice connection. I found no SIP messages relating to the
feature, presumably because it requires an underlying DSP capability to
detect the DTMF digits. SIP implemenations appear not to have focussed on
this area.

If I have overlooked some existing SIP functionality, please accept my
humble apologies and direct me to the righ place.

On the other hand, if the "SIP community" has overlooked DTMF digit
collection/detection as a critical adunct necessary to make SIP work in a
real call control application, the read on.

*** Would it be possible to extend SIP messages to enable a DTMF digit map
to be specified for a specific SIP voice session ?

This functionality may not make sense in all cases, however in the case
where a User Access Client and/or User Access Server is incorporated into a
Softswitch, it would be very desirable for the Softswitch to be able to
collect DTMF digits for a voice session (according to a digit map) and
subsequently insert the results into the SIP message stream.

Certainly one could argue that this feature is hardware-dependent in terms
of DSP capabilities, voilates the purity of the SIP signaling model, and
belongs to an MGCP interface, but that would be missing the point. In
creating a connection to a Softswitch, the media gateways are completely
encapsulated by layers of Softswitch software. The MGCP client-server pairs
used by the Softswitch to control one or more media gateways are not
externally addressible outside of the domain of the Softswitch because the
Softswitch is fully responsible for managing the media gateways as its own
internal "switching resource".

An IVR application external to the softswitch cannot simply wrest control of
a media gateway to create a connection for its own purposes. Unfortunately,
the ability to present digit maps for DTMF collection on a given connection
appears to only be available through the inaccessbile MCGP protocol
elements. Thus, my proposal is to extend that MGCP feature into SIP.

Greg Girard

Iperia, Inc.


-----Original Message-----
From: Henning Schulzrinne <schulzrinne@cs.columbia.edu>
To: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
Cc: Rick Workman <rworkman@nortelnetworks.com>; Alan Johnston
<alan.johnston@wcom.com>; SIP List <sip@lists.research.bell-labs.com>
Date: Thursday, October 28, 1999 8:03 PM
Subject: Re: I-D Action: SIP Call Flows and Service Examples


>Jonathan Rosenberg wrote:
>>
>
>> Need it translate the tel URL before sending it to a local proxy? I
>> guess you can argue this either way. In one sense, changing it to
>> sip:5551212@mydomain.com is right since I am talking to the proxy at
>> mydomain.com; effectively I'm trying to reach this number through this
>> domain. On the other hand, the resource I am still trying to reach is a
>> phone number, and the outbound domain is not really the namespace in
>> which this number is defined.
>
>I suppose it is up to the proxy to either accept or reject non-SIP URIs.
>I would guess that most current servers would not take too kindly to a
>tel: URI. (I just fixed our sipd server to allow this, to see how
>difficult this change might be. Two lines of code, as it turns out.)
>
>In general, a server should probably allow non-SIP request URIs (as well
>as in the To header of the REGISTER).
>
>This should probably be made explicit. The HTTP spec only seems to imply
>that something like
>
>GET sip:user@host HTTP/1.1
>
>would be illegal. (Having a real URI in the request line, like 'GET
>http://www.ieee.org HTTP/1.1' is fine, albeit not common except when
>addressing proxies.)
>
>
>> > If it's tel:#, it needs to be translated to sip:#@domain, at which
point
>> > the # is just an identifier. Why would you need a further
>> > identification? In particular, this is not fixed: in the future, the
>> > same # can well refer to a legacy "black" phone at night (at home) and
>> > an IP phone during the day (at work).
>>
>> I was thinking along the lines of how enum gets integrated into the SIP
>> architecture. We start with a phone number, and this number really is a
>> "name"; using enum, we can translate it to a sip URL, mailto URL, and so
>> on. In many cases, this number is a name for a terminal on the PSTN with
>> the same number. In other words, the tel URL is just a normal POTS line,
>> and this number has no entry in the enum database. Say some IP phone
>> makes a call to tel:1234567. The first outbound proxy uses enum, and
>> finds that this number is not in the database. So, it forwards it to the
>> next hop proxy, using a tel URL in the request URI. This proxy doesn't
>> need to look it up in enum once more, as its been done. A similar issue
>
>However, somewhere along the way, this has to be translated to a
>gateway. Why would this not be done at the same time?
>
>The first proxy has to forward this request *somewhere* on the Internet,
>so why not translate this into
>
>sip:#@somewhere;user=phone
>
>No information is lost. The next hop will then decide whether this is
>indeed a real phone, with a gateway to be contacted, or this actually
>isn't, due to some other remapping.
>
>> arises if the first number did exist in enum, but was mapped to another
>> number (tel:1234567 -> tel:2125551213). This is basically LNP. The next
>> hop proxy doesn't need to look up tel:2125551213 in enum.
>
>This depends on whether enum is a global database or whether certain
>translations are done locally. For example, you could have a global
>translation to a current carrier number ("LNP"), but only the current
>carrier keeps track of whether this number is currently on 24 ga twisted
>pair and 48 Volts or gets IPtone. Thus, it may have to do a second
>look-up anyway.
>
>>
>> I think what you are proposing is that translation to the SIP URL
>> basically implies that the lookup has been done. That works, but I think
>> it might be combining two things together that are really different. Not
>> sure...
>
>I'm just not sure that a single-lookup-model even works within the tel:
>context. Why have a proxy if it doesn't do a lookup - that's it's
>primary justification, after all...
>--
>Henning Schulzrinne   http://www.cs.columbia.edu/~hgs
>




From owner-sip-outgoing@lists.research.bell-labs.com  Fri Oct 29 00:08:08 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id AAA00350
	for <sip-archive@odin.ietf.org>; Fri, 29 Oct 1999 00:08:08 -0400 (EDT)
Received: by lists.research.bell-labs.com (Postfix)
	id 84F2A52F2; Fri, 29 Oct 1999 00:05:24 -0400 (EDT)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id D96E152F3; Fri, 29 Oct 1999 00:05:23 -0400 (EDT)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 1E71D52F2
	for <sip@lists.research.bell-labs.com>; Fri, 29 Oct 1999 00:05:08 -0400 (EDT)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Fri Oct 29 00:04:18 EDT 1999
Received: from omzrelay02.mcit.com ([199.249.19.244]) by dusty; Fri Oct 29 00:03:21 EDT 1999
Received: from ndcrelay.mcit.com ([166.37.172.49])
 by firewall.mcit.com (PMDF V5.2-32 #38417)
 with ESMTP id <0FKC0069TIYCTP@firewall.mcit.com> for
 sip@lists.research.bell-labs.com; Fri, 29 Oct 1999 03:56:53 +0000 (GMT)
Received: from omzexch006.mcit.com (OMZEXCH006.mcit.com [166.37.194.37])
 by ndcrelay.mcit.com (8.8.7/) with ESMTP	id OAA05381; Thu,
 28 Oct 1999 14:46:45 +0000 (GMT)
Received: by omzexch006 with Internet Mail Service (5.5.2571.0)
	id <VQP62B9X>; Thu, 28 Oct 1999 14:48:06 +0000
Content-return: allowed
Date: Thu, 28 Oct 1999 14:48:06 +0000
From: "Donovan, Steven R." <Steven.R.Donovan@wcom.com>
Subject: RE: Some initial queries/comments on draft-ietf-sip-183-00.txt
To: "'David R. Oran'" <oran@cisco.com>, sip@lists.research.bell-labs.com
Message-id: <75C79E507864D3118AFC00805FEAB7D8018F2E@ripexch001.mcit.com>
MIME-version: 1.0
X-Mailer: Internet Mail Service (5.5.2571.0)
Content-type: multipart/alternative;
	boundary="----_=_NextPart_001_01BF2153.704A01E6"
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk

This message is in MIME format. Since your mail reader does not understand
this format, some or all of this message may not be legible.

------_=_NextPart_001_01BF2153.704A01E6
Content-Type: text/plain;
	charset="iso-8859-1"

Dave,

Thanks for the comments.  Please see my comments below.

Steve

-----Original Message-----
From: David R. Oran [mailto:oran@cisco.com]
Sent: Monday, October 25, 1999 1:05 PM
To: sip@lists.research.bell-labs.com
Subject: Some initial queries/comments on draft-ietf-sip-183-00.txt


Thanks for all the careful work on this guys! Here are few questions and
comments based on my initial reading:

1) you don't make clear which pieces of this are intended to be specific to
the 183 response message and what pieces are intended to be generic. For
example, it would seem that the "Session: media/qos/security" header is much
more generic. In the abstract and introduction, it might be best to say
you're making TWO extensions to SIP, the Session header, and the 183
response.

SRD> I agree.  This is an artifact of the concept being agreed to at a late
date and my not having enough time to craft the draft in the manner you
suggest.

2) This may just be me having shell shock flashbacks to my ISO days, but I
cringe when I read all these "shalls" in section 2.1. All of them read much
better if replaced by "should".

SRD> My apologies for inducing nightmares.  However, section 2.1 is there to
outline the requirements by which the solution to the PSTN interworking
issue is measured.  If the solution (in this case, 183 and the Session
header) does not support all of these requirements than it is not a
sufficient solution.  These are not protocol level requirements statements.

3) following on from the logic above in point 1, it is implied but not
stated that the "Session": header could be placed on the initial (or
subsequent) INVITE. This certainly makes sense for the qos & security forms,
and could conceivably be useful for the "media" form as well.

SRD> I'd like to hear other opinions on this one.  I have received some
pushback in the past when I proposed this.  I personally agree that it would
be useful for the QoS and Security cases.  I'm not sure I see an example for
the media case, at least not until we have session descriptions that do not
imply media.

4) I know this may be a can of worms, but if we ever want to allow multiple
SDP bodies in SIP messages it would behoove us to ensure that headers that
refer to body part treatment can explicitly say WHICH body instance they
refer to.

SRD> Worms can get so messy...  Why would there be a need for multiple SDP
message bodies?

5) the MUSTs in section 4.2/4.3 seem a bit strong. Nothing breaks if the
sender is slow or sloppy at stopping; the user might get some mixed audio or
be annoyed though. While I can't off the top of my head think of any
positive use for the continued transmission (maybe the "call is being
monitored" beep tone...") I'd like to hear why such strong prohibition is
called for. There is also the philosophical question of what actually
constitutes "temporary" media, especially in the case where the SDP
describing the "permanent" media is identical to the SDP describing the
"temporary" media.

SRD> I agree.  I will change this unless I hear other arguments.

6) Section 4.4, second paragraph. While I see that 183 may not be
appropriate for ringing, forwarding, or queued (since we have other
responses for these), the used of Session: media may be perfectly
appropriate. Is this just another instance of not becing clear about the
relative independence of the Session: header and the 183 response?

SRD> I don't see that paragraph indicating that a 183 with Session: media is
not valid.  Am I missing something?

------_=_NextPart_001_01BF2153.704A01E6
Content-Type: text/html;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV=3D"Content-Type" CONTENT=3D"text/html; =
charset=3Diso-8859-1">
<META NAME=3D"Generator" CONTENT=3D"MS Exchange Server version =
5.5.2569.0">
<TITLE>RE: Some initial queries/comments on =
draft-ietf-sip-183-00.txt</TITLE>
</HEAD>
<BODY>

<P><FONT SIZE=3D2>Dave,</FONT>
</P>

<P><FONT SIZE=3D2>Thanks for the comments.&nbsp; Please see my comments =
below.</FONT>
</P>

<P><FONT SIZE=3D2>Steve</FONT>
</P>

<P><FONT SIZE=3D2>-----Original Message-----</FONT>
<BR><FONT SIZE=3D2>From: David R. Oran [<A =
HREF=3D"mailto:oran@cisco.com">mailto:oran@cisco.com</A>]</FONT>
<BR><FONT SIZE=3D2>Sent: Monday, October 25, 1999 1:05 PM</FONT>
<BR><FONT SIZE=3D2>To: sip@lists.research.bell-labs.com</FONT>
<BR><FONT SIZE=3D2>Subject: Some initial queries/comments on =
draft-ietf-sip-183-00.txt</FONT>
</P>
<BR>

<P><FONT SIZE=3D2>Thanks for all the careful work on this guys! Here =
are few questions and</FONT>
<BR><FONT SIZE=3D2>comments based on my initial reading:</FONT>
</P>

<P><FONT SIZE=3D2>1) you don't make clear which pieces of this are =
intended to be specific to</FONT>
<BR><FONT SIZE=3D2>the 183 response message and what pieces are =
intended to be generic. For</FONT>
<BR><FONT SIZE=3D2>example, it would seem that the &quot;Session: =
media/qos/security&quot; header is much</FONT>
<BR><FONT SIZE=3D2>more generic. In the abstract and introduction, it =
might be best to say</FONT>
<BR><FONT SIZE=3D2>you're making TWO extensions to SIP, the Session =
header, and the 183</FONT>
<BR><FONT SIZE=3D2>response.</FONT>
</P>

<P><FONT SIZE=3D2>SRD&gt; I agree.&nbsp; This is an artifact of the =
concept being agreed to at a late date and my not having enough time to =
craft the draft in the manner you suggest.</FONT></P>

<P><FONT SIZE=3D2>2) This may just be me having shell shock flashbacks =
to my ISO days, but I</FONT>
<BR><FONT SIZE=3D2>cringe when I read all these &quot;shalls&quot; in =
section 2.1. All of them read much</FONT>
<BR><FONT SIZE=3D2>better if replaced by &quot;should&quot;.</FONT>
</P>

<P><FONT SIZE=3D2>SRD&gt; My apologies for inducing nightmares.&nbsp; =
However, section 2.1 is there to outline the requirements by which the =
solution to the PSTN interworking issue is measured.&nbsp; If the =
solution (in this case, 183 and the Session header) does not support =
all of these requirements than it is not a sufficient solution.&nbsp; =
These are not protocol level requirements statements.</FONT></P>

<P><FONT SIZE=3D2>3) following on from the logic above in point 1, it =
is implied but not</FONT>
<BR><FONT SIZE=3D2>stated that the &quot;Session&quot;: header could be =
placed on the initial (or</FONT>
<BR><FONT SIZE=3D2>subsequent) INVITE. This certainly makes sense for =
the qos &amp; security forms,</FONT>
<BR><FONT SIZE=3D2>and could conceivably be useful for the =
&quot;media&quot; form as well.</FONT>
</P>

<P><FONT SIZE=3D2>SRD&gt; I'd like to hear other opinions on this =
one.&nbsp; I have received some pushback in the past when I proposed =
this.&nbsp; I personally agree that it would be useful for the QoS and =
Security cases.&nbsp; I'm not sure I see an example for the media case, =
at least not until we have session descriptions that do not imply =
media.</FONT></P>

<P><FONT SIZE=3D2>4) I know this may be a can of worms, but if we ever =
want to allow multiple</FONT>
<BR><FONT SIZE=3D2>SDP bodies in SIP messages it would behoove us to =
ensure that headers that</FONT>
<BR><FONT SIZE=3D2>refer to body part treatment can explicitly say =
WHICH body instance they</FONT>
<BR><FONT SIZE=3D2>refer to.</FONT>
</P>

<P><FONT SIZE=3D2>SRD&gt; Worms can get so messy...&nbsp; Why would =
there be a need for multiple SDP message bodies?</FONT>
</P>

<P><FONT SIZE=3D2>5) the MUSTs in section 4.2/4.3 seem a bit strong. =
Nothing breaks if the</FONT>
<BR><FONT SIZE=3D2>sender is slow or sloppy at stopping; the user might =
get some mixed audio or</FONT>
<BR><FONT SIZE=3D2>be annoyed though. While I can't off the top of my =
head think of any</FONT>
<BR><FONT SIZE=3D2>positive use for the continued transmission (maybe =
the &quot;call is being</FONT>
<BR><FONT SIZE=3D2>monitored&quot; beep tone...&quot;) I'd like to hear =
why such strong prohibition is</FONT>
<BR><FONT SIZE=3D2>called for. There is also the philosophical question =
of what actually</FONT>
<BR><FONT SIZE=3D2>constitutes &quot;temporary&quot; media, especially =
in the case where the SDP</FONT>
<BR><FONT SIZE=3D2>describing the &quot;permanent&quot; media is =
identical to the SDP describing the</FONT>
<BR><FONT SIZE=3D2>&quot;temporary&quot; media.</FONT>
</P>

<P><FONT SIZE=3D2>SRD&gt; I agree.&nbsp; I will change this unless I =
hear other arguments.</FONT>
</P>

<P><FONT SIZE=3D2>6) Section 4.4, second paragraph. While I see that =
183 may not be</FONT>
<BR><FONT SIZE=3D2>appropriate for ringing, forwarding, or queued =
(since we have other</FONT>
<BR><FONT SIZE=3D2>responses for these), the used of Session: media may =
be perfectly</FONT>
<BR><FONT SIZE=3D2>appropriate. Is this just another instance of not =
becing clear about the</FONT>
<BR><FONT SIZE=3D2>relative independence of the Session: header and the =
183 response?</FONT>
</P>

<P><FONT SIZE=3D2>SRD&gt; I don't see that paragraph indicating that a =
183 with Session: media is not valid.&nbsp; Am I missing =
something?</FONT>
</P>

</BODY>
</HTML>
------_=_NextPart_001_01BF2153.704A01E6--



From owner-sip-outgoing@lists.research.bell-labs.com  Fri Oct 29 00:28:20 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id AAA01067
	for <sip-archive@odin.ietf.org>; Fri, 29 Oct 1999 00:28:19 -0400 (EDT)
Received: by lists.research.bell-labs.com (Postfix)
	id F1C5A52F3; Fri, 29 Oct 1999 00:24:04 -0400 (EDT)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id EFA3552F4; Fri, 29 Oct 1999 00:24:02 -0400 (EDT)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from grubby.research.bell-labs.com (grubby.research.bell-labs.com [135.104.2.9])
	by lists.research.bell-labs.com (Postfix) with SMTP id 1CEBA52F3
	for <sip@lists.research.bell-labs.com>; Fri, 29 Oct 1999 00:23:12 -0400 (EDT)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by grubby; Fri Oct 29 00:21:15 EDT 1999
Received: from wodc7mr3.ffx.ops.us.uu.net ([192.48.96.19]) by dusty; Fri Oct 29 00:20:19 EDT 1999
Received: from dynamicsoft.com by wodc7mr3.ffx.ops.us.uu.net with ESMTP 
	(peer crosschecked as: 1Cust100.tnt1.freehold.nj.da.uu.net [63.17.113.100])
	id QQhmyz26733;
	Fri, 29 Oct 1999 04:24:41 GMT
Message-ID: <38192104.E6CFC67E@dynamicsoft.com>
Date: Fri, 29 Oct 1999 00:22:28 -0400
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
Organization: Dynamicsoft
X-Mailer: Mozilla 4.7 [en] (Win98; U)
X-Accept-Language: en
MIME-Version: 1.0
To: "Gregory D. Girard" <ggirard@mediaone.net>
Cc: Henning Schulzrinne <schulzrinne@cs.columbia.edu>,
        SIP List <sip@lists.research.bell-labs.com>
Subject: Re: Detecting DTMF tones on a SIP voice session
References: <008301bf21b4$e0236870$122cda18@goliath.ne.mediaone.net>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit



"Gregory D. Girard" wrote:
> Thanks so much for the information. In my opinion, it important that one way
> or the other makes its way into the new SIP standard as required elements.
> Lucent, in particular, has absolutely no intention of doing anything to
> allow third party call control of their Softswith. The reason is a separate
> discussion that we can have some time. They do, however, tout a SIP
> signaling interface. If SIP requires support for this feature, the Lucent
> Softswitch will provide de facto support for third-party call control and
> the critical DTMF functionality discussed. To allow the feature to remain a
> simple SIP enhancement would not accomplish the goal of having SIP serve as
> the universal IP Telephony call control and signaling interface that it
> potentially could be.

SIP does not, can not, and should not specify RTP payload formats and
codecs. DTMF is an example of such a codec. If your system wants to use
it, go ahead. SIP/SDP allows such information to be signaled.

> 
> Option 1 below is less desireable than option 2 for two reasons:
> 
> 1- Requires one or more RTP streams even though application may only require
> DTMF digit sequence to provide a service

I too don't understand this.

> 2- Requires that digit sequences come in a serial fashion and may return too
> much useless information.
> 
> In contrast, the INFO solution would allow the media gateway internal
> functionality (as defined for MGCP) to match the digit map prior to
> returning anything at all.

Not true. I interpret your concern 2 as follows: "I don't want to send
each digit one at a time to the IVR system; I'd rather have some
internal logic based on digit maps that sends them in groups". If this
is the case, it can be done with either RTP or the INFO method. With
RTP, you would delay sending the packets containing DTMF until you had
matched the digit map, and then send them in a clump together. This
would allow you to use long durations for each digit (not too long, for
reliability purposes), making it more efficient.

An advantage of the RTP approach is that you don't restrict the user
interaction to DTMF. Many IVR systems these days allow both tone and
voice recognition - "say or press 1 to speak to a representative". Now,
if you ship DTMF over INFO, you will absolutely not be able to do this.
However, using DTMF RTP, which I believe to be the superior solution,
allows such applications to exist.

Whenever the device which needs to use DTMF for features is acting as a
UA, there is almost never a reason to use SIP to transport DTMF. RTP
works best in this case, and IVR falls into this category.

-Jonathan R.
-- 
Jonathan D. Rosenberg                       200 Executive Drive
Chief Scientist                             Suite 210 
dynamicsoft                                 West Orange, NJ 07052
jdrosen@dynamicsoft.com                     FAX:   (732) 741-4778
http://www.cs.columbia.edu/~jdrosen         PHONE: (732) 741-7244
http://www.dynamicsoft.com



From owner-sip-outgoing@lists.research.bell-labs.com  Fri Oct 29 05:13:35 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id FAA16187
	for <sip-archive@odin.ietf.org>; Fri, 29 Oct 1999 05:13:34 -0400 (EDT)
Received: by lists.research.bell-labs.com (Postfix)
	id 0B83352EF; Fri, 29 Oct 1999 05:11:23 -0400 (EDT)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 682AE52F5; Fri, 29 Oct 1999 05:11:22 -0400 (EDT)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 35FA152EF
	for <sip@lists.research.bell-labs.com>; Fri, 29 Oct 1999 05:11:09 -0400 (EDT)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Fri Oct 29 05:09:10 EDT 1999
Received: from nautila.matranortel.com ([194.117.212.2]) by dusty; Fri Oct 29 05:08:14 EDT 1999
Received: from excella.net.matranortel.com (excella.net.matranortel.com [131.129.205.2])
	by nautila.matranortel.com (8.8.8/8.8.8/jupiter-3.0) with ESMTP id LAA00284
	for <sip@lists.research.bell-labs.com>; Fri, 29 Oct 1999 11:09:08 +0200 (CEST)
Received: from mcsrvbda02.net.matranortel.com (mcsrvbda02.net.matranortel.com [131.129.48.101])
	by excella.net.matranortel.com (8.9.3/8.9.3/excella-4.0) with ESMTP id LAA30891
	for <sip@lists.research.bell-labs.com>; Fri, 29 Oct 1999 11:09:08 +0200
Received: by mcsrvbda02.net.matranortel.com with Internet Mail Service (5.5.2650.21)
	id <V3XJFQ0T>; Fri, 29 Oct 1999 11:10:04 +0100
Message-ID: <11742460E5FBD211B817009027620F767FB3D8@TEMPOMSG>
From: "Rouquier, Paul" <paul.rouquier@matranortel.com>
To: "'sip@lists.research.bell-labs.com'" <sip@lists.research.bell-labs.com>
Subject: Test    -      Do not open. Thank you
Date: Fri, 29 Oct 1999 10:11:52 +0100
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2650.21)
Content-Type: text/plain
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk





From owner-sip-outgoing@lists.research.bell-labs.com  Fri Oct 29 05:41:39 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id FAA16431
	for <sip-archive@odin.ietf.org>; Fri, 29 Oct 1999 05:41:39 -0400 (EDT)
Received: by lists.research.bell-labs.com (Postfix)
	id 9317852F4; Fri, 29 Oct 1999 05:39:31 -0400 (EDT)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 0E97B52F6; Fri, 29 Oct 1999 05:39:30 -0400 (EDT)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from grubby.research.bell-labs.com (grubby.research.bell-labs.com [135.104.2.9])
	by lists.research.bell-labs.com (Postfix) with SMTP id ADA1552F4
	for <sip@lists.research.bell-labs.com>; Fri, 29 Oct 1999 05:39:07 -0400 (EDT)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by grubby; Fri Oct 29 05:37:20 EDT 1999
Received: from alpha.mcit.com ([199.249.19.243]) by dusty; Fri Oct 29 05:36:24 EDT 1999
Received: from omzrelay.mcit.com ([166.37.204.49])
 by firewall.mcit.com (PMDF V5.2-32 #38416)
 id <0FKC00I01WC2CX@firewall.mcit.com>
 (original mail from alan.johnston@wcom.com)
 for sip@lists.research.bell-labs.com; Fri, 29 Oct 1999 09:31:56 +0000 (GMT)
Received: from omzrelay.mcit.com ([166.37.204.49])
 by firewall.mcit.com (PMDF V5.2-32 #38416)
 with ESMTP id <0FKC00DLXFXWS6@firewall.mcit.com> for
 sip@lists.research.bell-labs.com; Fri, 29 Oct 1999 02:58:54 +0000 (GMT)
Received: from omzmta03.mcit.com (omzmta03.mcit.com [166.37.194.121])
 by omzrelay.mcit.com (8.8.7/) with ESMTP	id SAA29907; Thu,
 28 Oct 1999 18:41:28 +0000 (GMT)
Received: from wcom.com ([166.33.132.106])
 by omzmta03.mcit.com (InterMail v03.02.05 118 121 101)
 with ESMTP id <19991028184107.SSDL613@wcom.com>; Thu,
 28 Oct 1999 18:41:07 +0000
Date: Thu, 28 Oct 1999 13:39:34 -0500
From: Alan Johnston <alan.johnston@wcom.com>
Subject: Re: draft-johnston-sip-call-flows-00 Review
To: Francois Morel <francois.morel@iml-cti.com>,
        SIP List <sip@lists.research.bell-labs.com>
Message-id: <38189866.AB13B9A3@wcom.com>
MIME-version: 1.0
X-Mailer: Mozilla 4.51 [en] (Win95; U)
Content-type: text/plain; charset=us-ascii
Content-transfer-encoding: 7bit
X-Accept-Language: en
References: <000601bf1fcb$6384e860$523f8bcf@hfrancois>
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

Francois Morel wrote:
> 
> greetings,
> 
> I am new to this list so please tell me if the following has already been
> discussed.
> 
> I have now partly reviewed the SIP call flow document; which is by the way a
> very useful document! here is a couple of comments I have
> 
> I have seen that the Tel URL draft is incorrectly referred to as [5] instead
> of the proper reference of [7].
>

This typo will be fixed.
 
> By the way could someone please tell me where I could get a copy of the this
> draft? I have not found it on the IETF WEB site.

You could try contacting the author Antti directly avs@iki.fi.

> 
> The second comment I have concerns section 6.1.1 of the document. User A
> requests a connection to Called Number 972-555-2222. Gateway GW1 issues an
> INVITE (F2) where the Called Number is translated into SIP URL "sip:+1
> 918-555-3333". Should the URL be instead "sip:+1 972-555-2222" ? GW1 may
> have performed address translation there but if so, I do not understand how
> comes the number "972-555-2222" re-appears again in the record route section
> of an INVITE from the proxy server SS1 (F3). Maybe there is something I
> don't get?
> 

You have found a number of cut-and-paste errors in this flow - every reference
to 972-555-2222 should be read as 918-555-3333.  This means there are errors in
messages F1, F3, F10, and F11.  The only address translation in this example is
the proxy translating the global number +1-918-555-3333 to the private extension
444-3333 served on GW2 in phone-context p1234.  These errors will also be fixed.

Thanks very much for the feedback,

Alan Johnston
MCI WorldCom
+1-314-342-7360
alan.johnston@wcom.com



From owner-sip-outgoing@lists.research.bell-labs.com  Fri Oct 29 08:19:27 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id IAA20412
	for <sip-archive@odin.ietf.org>; Fri, 29 Oct 1999 08:19:26 -0400 (EDT)
Received: by lists.research.bell-labs.com (Postfix)
	id C6AEA52F8; Fri, 29 Oct 1999 08:17:23 -0400 (EDT)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 422B952F9; Fri, 29 Oct 1999 08:17:23 -0400 (EDT)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from grubby.research.bell-labs.com (grubby.research.bell-labs.com [135.104.2.9])
	by lists.research.bell-labs.com (Postfix) with SMTP id ABF3352F8
	for <sip@lists.research.bell-labs.com>; Fri, 29 Oct 1999 08:17:07 -0400 (EDT)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by grubby; Fri Oct 29 08:15:18 EDT 1999
Received: from omzrelay02.mcit.com ([199.249.19.244]) by dusty; Fri Oct 29 08:14:22 EDT 1999
Received: from omzrelay.mcit.com ([166.37.204.49])
 by firewall.mcit.com (PMDF V5.2-32 #38417)
 with ESMTP id <0FKD00P7961G9P@firewall.mcit.com> for
 sip@lists.research.bell-labs.com; Fri, 29 Oct 1999 12:15:16 +0000 (GMT)
Received: from omzmta04.mcit.com (omzmta04.mcit.com [166.37.194.122])
 by omzrelay.mcit.com (8.8.7/) with ESMTP	id MAA30160; Fri,
 29 Oct 1999 12:15:15 +0000 (GMT)
Received: from C25776A ([166.37.184.253])
 by omzmta04.mcit.com (InterMail v03.02.05 118 121 101)
 with SMTP id <19991029121514.EACL1099@C25776A>; Fri, 29 Oct 1999 12:15:14 +0000
Date: Fri, 29 Oct 1999 07:15:12 -0500
From: Henry Sinnreich <henry.sinnreich@wcom.com>
Subject: RE: New Internet Draft <draft-sinnreich-interdomain-sip-qos-osp-00.txt>
In-reply-to: <38186D50.E61368AD@asl.dl.nec.com>
To: Anil Yelundur <yelundur@asl.dl.nec.com>
Cc: sip@lists.research.bell-labs.com
Message-id: <NBBBIIJFOKPMFOOILMBKGELHEMAA.henry.sinnreich@wcom.com>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft MimeOLE V5.00.2615.200
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
Content-type: text/plain;	charset="iso-8859-1"
Content-transfer-encoding: 7bit
Importance: Normal
X-Priority: 3 (Normal)
X-MSMail-priority: Normal
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

Anil Yelundur wrote:
> call-flows -> for example in figure 7, I noticed that 21
> <UsageInd> is being
> initiated by SIP2 instead of POL2 and the reply 22 <UsageCnf>
> from the CH is
> going to SIP2 instead of POL2.
Yes, the CH messages should be with POL2 instead with SIP2.

In figure 1, the message sequence
> for the REQ LDP
> between the SIP1, POL1 & R1 is missing.
Yes, you are right.
Thanks for pointing this out!

We also apologize for other that we noticed later:

Figure 2
In the text version of the draft, figure 2 inadvertently dropped messages
18 - 22.

Figure 4
In the text version, figure 4, message 4 should be RPT.

Figure6
In both the text and pdf versions figure 6:
 1- 400 OK should be 200 OK.
 2- drop either message 4 or message 23. Message 4 will free up the
resources earlier.

Thanks again,

Henry

> -----Original Message-----
> From: owner-sip@lists.research.bell-labs.com
> [mailto:owner-sip@lists.research.bell-labs.com]On Behalf Of Anil
> Yelundur
> Sent: Thursday, October 28, 1999 10:36 AM
> To: Henry Sinnreich
> Cc: sip@lists.research.bell-labs.com
> Subject: Re: New Internet Draft
> <draft-sinnreich-interdomain-sip-qos-osp-00.txt>
>
>
> I found the Call-Flows very helpful to understand how the Session
> set-up, QoS &
> usage reporting occurs. However there were certain
> inconsistencies  in these
> call-flows -> for example in figure 7, I noticed that 21
> <UsageInd> is being
> initiated by SIP2 instead of POL2 and the reply 22 <UsageCnf>
> from the CH is
> going to SIP2 instead of POL2. In figure 1, the message sequence
> for the REQ LDP
> between the SIP1, POL1 & R1 is missing.
> Regards,
> Anil Yelundur
>
> Henry Sinnreich wrote:
>
> > The following Internet Draft has been submitted and I count to
> be discussed:
> > <draft-sinnreich-interdomain-sip-qos-osp-00.txt>
> > for the SIP Working Group.
> >
> >          Title           : Interdomain IP Communications with QoS,
> >                            Authorization and Usage Reporting
> >          Author(s)       : H.Sinnreich, S.Donovan, D.Rawlins, S.Thomas
> >          Filename        :
> draft-sinnreich-interdomain-sip-qos-osp-00.txt
> >          Pages           : 23
> >          Date            : October 22, 1999
> >
> > Abstract
> > IP communications such as telephony may require quality of service
> > equal or better than available on digital circuit switched networks.
> > Service providers will ensure QoS only if authorization and payments
> > are supported across the domains where the communication is taking
> > place. The message exchange for session initiation, authorization,
> > policy support, QoS and usage reporting is more complex than the mes-
> > sage exchange for each of the protocols in part for these functions,
> > since session parameters have to be passed between messages. The
> > inter-process dependencies require interleaving of messages from the
> > different protocols in a certain sequence to pass on the required
> > parameters.
> >
> > Policy based QoS is provided by RSVP enabled routers and mapped to
> > 802 style LANs. RSVP aggregation is used for Differentiated Services
> > QoS across the backbone.
> >
> > The present document provides the framework and examples of the mes-
> > sage exchange between clients and servers on networks of Internet
> > service providers or corporate networks across a common IP backbone.
> > Outsourcing to a clearinghouse of inter-domain authorization and
> > usage reporting is also shown.
> >
> > The draft has been posted at
> >
> http://www.ietf.org/internet-drafts/draft-sinnreich-interdomain-si
p-qos-osp-
> 00.txt
>
> The pdf format of the draft is available from the web site
> http://www.greycouncil.com/sip/drafts/ (with other sip drafts).
>
> The URL is
> http://www.greycouncil.com/sip/drafts/draft-interdomain-sip-qos-osp-00.pdf
>
> Thanks, Henry
>
> Henry Sinnreich
> MCI WorldCom
> 400 International Parkway
> Richardson, Texas 75081, USA







From owner-sip-outgoing@lists.research.bell-labs.com  Fri Oct 29 08:23:12 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id IAA20611
	for <sip-archive@odin.ietf.org>; Fri, 29 Oct 1999 08:23:11 -0400 (EDT)
Received: by lists.research.bell-labs.com (Postfix)
	id D23E952FB; Fri, 29 Oct 1999 08:21:23 -0400 (EDT)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 4DC2F52F9; Fri, 29 Oct 1999 08:21:23 -0400 (EDT)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 4AB6752FB
	for <sip@lists.research.bell-labs.com>; Fri, 29 Oct 1999 08:21:09 -0400 (EDT)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Fri Oct 29 08:19:14 EDT 1999
Received: from ns.fmmo.ca ([207.253.160.156]) by dusty; Fri Oct 29 08:18:18 EDT 1999
Received: from localhost (fm-listproc@localhost)
	by ns.fmmo.ca (8.9.3/8.9.3) with ESMTP id HAA17507;
	Fri, 29 Oct 1999 07:40:12 -0400
Date: Fri, 29 Oct 1999 07:40:11 -0400 (EDT)
From: Francois Menard List Account <fm-listproc@fmmo.ca>
To: Mark Gibson <mrg@nortelnetworks.com>
Cc: "'SIP List'" <sip@lists.research.bell-labs.com>
Subject: Re: New Internet Draft
In-Reply-To: <33E324D95F44D311AA3E00204840075B5500B5@zhard00e.europe.nortel.com>
Message-ID: <Pine.LNX.4.20.9910290739100.17331-100000@ns.fmmo.ca>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk


What, no dual invites needed ?  Tell it to Ms. Kazai ...

-=Francois=-

On Wed, 27 Oct 1999, Mark Gibson wrote:

> The following Internet Draft has been submitted :
> 
> Title:		Use of SIP for the Reservation of QoS guaranteed Paths
> Authors:	M. Gibson, J. Crowcroft
> Filename:	draft-gibson-sip-qos-resv-00.txt
> Date:		October 1999
> 
> And subject to its approval, we will present it at the 46th IETF.
> 
> Abstract:	This draft defines a modification of the use of the SIP
> protocol to
>    	perform route reservation. These modifications are applied to two of
>    	the existing SIP Methods: INVITE and REGISTER. The modifications
>    	allow the INVITE method to be used to find the best path across a
>    	particular network based on QoS metrics. The route choice is able to
>    	be restricted at the network edge. The proposed modifications also
>    	allow the REGISTER method to be used as a means of disseminating
>    	information necessary to determine these QoS metrics. This
>    	information can be used to route INVITEs away from known areas of
>    	congestion.
> 
> Available from:
> http://search.ietf.org/internet-drafts/draft-gibson-sip-qos-resv-00.txt
> 
> 
> 




From owner-sip-outgoing@lists.research.bell-labs.com  Fri Oct 29 08:29:28 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id IAA20845
	for <sip-archive@odin.ietf.org>; Fri, 29 Oct 1999 08:29:28 -0400 (EDT)
Received: by lists.research.bell-labs.com (Postfix)
	id DAEE652F9; Fri, 29 Oct 1999 08:27:24 -0400 (EDT)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 3D19952FC; Fri, 29 Oct 1999 08:27:24 -0400 (EDT)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 1FF4552F9
	for <sip@lists.research.bell-labs.com>; Fri, 29 Oct 1999 08:27:09 -0400 (EDT)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Fri Oct 29 08:25:10 EDT 1999
Received: from chmls05.mediaone.net ([24.128.1.70]) by dusty; Fri Oct 29 08:24:13 EDT 1999
Received: from goliath (ggirard.ne.mediaone.net [24.218.44.18])
	by chmls05.mediaone.net (8.8.7/8.8.7) with ESMTP id IAA09792;
	Fri, 29 Oct 1999 08:24:57 -0400 (EDT)
Message-ID: <00dd01bf2208$aa4f9c10$122cda18@goliath.ne.mediaone.net>
Reply-To: "Gregory D. Girard" <ggirard@mediaone.net>
From: "Gregory D. Girard" <ggirard@mediaone.net>
To: "Jonathan Rosenberg" <jdrosen@dynamicsoft.com>
Cc: "Ken Osowski" <kosowski@iperia.com>, "Jim Mchugo" <jmm@iperia.com>,
        "Christopher C. Berluti" <cberluti@iperia.com>,
        "Dick Connaughton" <rconnaughton@iperia.com>,
        "Darrell Crow" <dcrow@iperia.com>, "Parker Ladd" <pladd@iperia.com>,
        "SIP List" <sip@lists.research.bell-labs.com>,
        "Henning Schulzrinne" <schulzrinne@cs.columbia.edu>
Subject: Re: Detecting DTMF tones on a SIP voice session
Date: Fri, 29 Oct 1999 08:25:19 -0400
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 4.72.2106.4
X-MimeOLE: Produced By Microsoft MimeOLE V4.72.2106.4
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

Jonathan,

Here is an example regarding DTMF.
The RTP stream being examined may be terminating on a Media Gateway under
control of a Softswitch. My application server is not the Softswitch, but it
attempting to use the switching and DSP resources of the Softswitch through
SIP. In this case, I would like my app to be able to "listen" to DTMF digits
on a connection bridged through the Softswitch w/out necessarily extending
an RTP stream to a media server. It is better for me to let the Softswitch
figure out the DTMF sequences and just forward them to me as SIP messages.

In other words, I don't want to be required to move RTP data from the Media
Gateway to my application server (RTP interface) or some other media server,
and then have to pipe it through DSP hardware just to know the user pressed
"5". If the RTP stream is used as the DTMF source, then the benefits of an
IP interface are largely lost due to the need for additional DSP hardware on
my (media server) endpoint.

For years it has seemed to make no sense to have to transmit digit sequences
in-band as tones that have to be decoded with a DSP rather read as simple
data messages. Virtually all digital telecommunications protocols (like ISUP
or the Q.931 message set for ISDN) abstracted those digits our of the media
channel and presented them as outband signals that may be directly
manipulated in a programatic fashion.

If SIP is to at the very least match the functionality of ISUP (to say
nothing of its areas of great advantage) it will have to (in my humble
opinion) incorporate DTMF as an out-band signaling mechanism. To push this
responsibility back on terminal device and force examination of the media
stream is big step backwards when practical application development matters
considered.

If nothing else, such a situtation will give SIGTRAN a big advantage over
SIP due to the richness of its message set.

....more below in response to your comments...

>>
>> Option 1 below is less desireable than option 2 for two reasons:
>>
>> 1- Requires one or more RTP streams even though application may only
require
>> DTMF digit sequence to provide a service
>
>I too don't understand this.
>
>> 2- Requires that digit sequences come in a serial fashion and may return
too
>> much useless information.
>>
>> In contrast, the INFO solution would allow the media gateway internal
>> functionality (as defined for MGCP) to match the digit map prior to
>> returning anything at all.
>
>Not true. I interpret your concern 2 as follows: "I don't want to send
>each digit one at a time to the IVR system; I'd rather have some
>internal logic based on digit maps that sends them in groups". If this
>is the case, it can be done with either RTP or the INFO method. With
>RTP, you would delay sending the packets containing DTMF until you had
>matched the digit map, and then send them in a clump together. This
>would allow you to use long durations for each digit (not too long, for
>reliability purposes), making it more efficient.

GG: Yes, this is a correct understanding of my point.

>
>An advantage of the RTP approach is that you don't restrict the user
>interaction to DTMF. Many IVR systems these days allow both tone and
>voice recognition - "say or press 1 to speak to a representative". Now,
>if you ship DTMF over INFO, you will absolutely not be able to do this.
>However, using DTMF RTP, which I believe to be the superior solution,
>allows such applications to exist.

GG: Yes to tone and voice input for IVR systems, however the speack recogo
is almost universally
"host-based" these days, meaning that the incoming voice is recorded and
passed to an
ASR engine residing on the application server. Most modern ASR uses HUGE
vocabularies that
are dynamically enabled and disabled for the ASR engine. This is far too
much of a task to be
buried in a terminal device except for very simple "voice activated dialing"
stuff in phones. Importantly,
speach reco does not require dedicated DSP HW like real-time DTMF decoding,
and thus the
application server may still operation on a pure-SW basis to provide very
sophisticated voice reco apps.
This circumstance argues for the INFO method.

>
>Whenever the device which needs to use DTMF for features is acting as a
>UA, there is almost never a reason to use SIP to transport DTMF. RTP
>works best in this case, and IVR falls into this category.

GG: Please indulge me in what I'm about to say because I'm still getting up
to speed on SIP. In your above comment, you mention
the application server ("device which needs to use DTMF") as almost never
needing to use SIP to transport DTMF. Well, I
would argue that any device capable of originating or answering an INVITE
(connection request) should be able to "listen" for
DTMF tone sequences from the other end.


>
>-Jonathan R.
>--
>Jonathan D. Rosenberg                       200 Executive Drive
>Chief Scientist                             Suite 210
>dynamicsoft                                 West Orange, NJ 07052
>jdrosen@dynamicsoft.com                     FAX:   (732) 741-4778
>http://www.cs.columbia.edu/~jdrosen         PHONE: (732) 741-7244
>http://www.dynamicsoft.com
>




From owner-sip-outgoing@lists.research.bell-labs.com  Fri Oct 29 08:39:24 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id IAA21431
	for <sip-archive@odin.ietf.org>; Fri, 29 Oct 1999 08:39:23 -0400 (EDT)
Received: by lists.research.bell-labs.com (Postfix)
	id CE6F852F5; Fri, 29 Oct 1999 08:37:21 -0400 (EDT)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 36C0452FD; Fri, 29 Oct 1999 08:37:21 -0400 (EDT)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id E5CD652F5
	for <sip@lists.research.bell-labs.com>; Fri, 29 Oct 1999 08:37:07 -0400 (EDT)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Fri Oct 29 08:35:09 EDT 1999
Received: from ncc1701.iml-cti.com ([207.183.39.67]) by dusty; Fri Oct 29 08:34:12 EDT 1999
Received: from hfrancois ([207.139.62.11])
	by ncc1701.iml-cti.com (8.9.3/8.9.3) with SMTP id IAA16952
	for <sip@lists.research.bell-labs.com>; Fri, 29 Oct 1999 08:41:03 -0400
From: "Francois Morel" <francois.morel@iml-cti.com>
To: "SIP List" <sip@lists.research.bell-labs.com>
Subject: RE: I-D Action: SIP Call Flows and Service Examples
Date: Fri, 29 Oct 1999 08:46:27 -0400
Message-ID: <000001bf220b$9d989370$523f8bcf@hfrancois>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook 8.5, Build 4.71.2173.0
Importance: Normal
In-Reply-To: <3818E4C0.FDEAE758@cs.columbia.edu>
X-MimeOLE: Produced By Microsoft MimeOLE V4.72.3110.3
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit


There is a proposal from the DCS group to relax the URL syntax and to allow
SIP URL without the host part. Here is the extract from
"draft-dcsgroup-mmusic-state-00.txt" dated from July '99:

BEGIN[
4.1 SIP URL Extensions

   The SIP URL host syntax is extended to allow hosts to be identified
   by a simple phone-number (E.164 number). The SIP client initiating
   the call may not know of the gateway associated with the number. The
   Telephony subscriber URL definition in RFC 2543 for a telephone
   number requires the phone number and its gateway association in the
   host parameter. We propose that this constraint be relaxed to allow
   hosts to be identified by their E.164 numbers only. If this
   interpretation of the hostname is used, the associated user-param
   user=phone MUST be present.
]END

Has this been accepted by the SIP group? If so it could be an alternative to
the use of tel URL?

Francois Morel
InnoMediaLogic Inc.
Tel: (450) 676-2977 x128 Fax: (450) 676-0360
mailto:francois.morel@iml-cti.com

> Rick Workman wrote:
> >
>
> >
> > The main issue is that the SIP URL requires a host designation
> which isn't available. A
> > minor point, if I've understand the BNF, is that the
> 'telephone-subscriber' can conatin a
> > ';' as part of the 'isdn-subaddress' or 'post-dial' (or in
> 'phone-context'  in the most
> > recent draft) which isn't permitted in 'user'. This is why the
> MCI folks had to replace the
> > ';' with a ','.




From owner-sip-outgoing@lists.research.bell-labs.com  Fri Oct 29 08:45:26 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id IAA21755
	for <sip-archive@odin.ietf.org>; Fri, 29 Oct 1999 08:45:25 -0400 (EDT)
Received: by lists.research.bell-labs.com (Postfix)
	id CA14852FD; Fri, 29 Oct 1999 08:43:21 -0400 (EDT)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 37DEB52FE; Fri, 29 Oct 1999 08:43:21 -0400 (EDT)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 7A13352FD
	for <sip@lists.research.bell-labs.com>; Fri, 29 Oct 1999 08:43:08 -0400 (EDT)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Fri Oct 29 08:42:15 EDT 1999
Received: from ns.fmmo.ca ([207.253.160.156]) by dusty; Fri Oct 29 08:41:19 EDT 1999
Received: from localhost (fm-listproc@localhost)
	by ns.fmmo.ca (8.9.3/8.9.3) with ESMTP id IAA17630;
	Fri, 29 Oct 1999 08:03:14 -0400
Date: Fri, 29 Oct 1999 08:03:14 -0400 (EDT)
From: Francois Menard List Account <fm-listproc@fmmo.ca>
To: Bobby Sardana <sardana@obsoft.com>
Cc: sip@lists.research.bell-labs.com
Subject: Re: IPS7 - What is it? Where's the signalling part of it?
In-Reply-To: <3817BA91.B0B436DE@obsoft.com>
Message-ID: <Pine.LNX.4.20.9910290802290.17584-100000@ns.fmmo.ca>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk


Unless I am mistaken, what I was able to assess is that IPS7 is the
proprietary SIGTRAN protocol that Nortel has been shipping for a little
while.


-=Francois=-

On Wed, 27 Oct 1999, Bobby Sardana wrote:

> Greetings:
> 
> Was reading an interesting article in the "Telephony" [October 25, 99]
> which mentions Nortel's new initiative about IPS7 signalling that will
> bridge SS7 & IP networks. However, after checking the IETF site, for the
> IPS7 draft, and there is one available, I was unable to find the
> signalling aspect and any protocols involved with it.
> 
> Is anyone on this forum aware of this initiative and its details?
> 
> Thanks.
> 
> Bobby Sardana.
> sardana@obsoft.com
> 
> 
> 
> 
> 
> 
> 
> 
> 
> 
> 
> 
> 




From owner-sip-outgoing@lists.research.bell-labs.com  Fri Oct 29 09:01:29 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id JAA22745
	for <sip-archive@odin.ietf.org>; Fri, 29 Oct 1999 09:01:29 -0400 (EDT)
Received: by lists.research.bell-labs.com (Postfix)
	id 88A8852FE; Fri, 29 Oct 1999 08:59:22 -0400 (EDT)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id EE1BD52FF; Fri, 29 Oct 1999 08:59:21 -0400 (EDT)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 4F0CA52FE
	for <sip@lists.research.bell-labs.com>; Fri, 29 Oct 1999 08:59:08 -0400 (EDT)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Fri Oct 29 08:58:27 EDT 1999
Received: from ietf.org ([132.151.1.176]) by dusty; Fri Oct 29 08:57:30 EDT 1999
Received: from CNRI.Reston.VA.US (localhost [127.0.0.1])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id IAA22542;
	Fri, 29 Oct 1999 08:58:23 -0400 (EDT)
Message-Id: <199910291258.IAA22542@ietf.org>
Mime-Version: 1.0
Content-Type: Multipart/Mixed; Boundary="NextPart"
To: IETF-Announce: ;
Cc: sip@lists.research.bell-labs.com
From: Internet-Drafts@ietf.org
Reply-To: Internet-Drafts@ietf.org
Subject: I-D ACTION:draft-ietf-sip-callerprefs-00.txt
Date: Fri, 29 Oct 1999 08:58:23 -0400
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk

--NextPart

A New Internet-Draft is available from the on-line Internet-Drafts directories.
This draft is a work item of the Session Initiation Protocol Working Group of the IETF.

	Title		: SIP Caller Preferences and Callee Capabilities
	Author(s)	: H. Schulzrinne, J. Rosenberg
 	Filename	: draft-ietf-sip-callerprefs-00.txt
	Pages		: 17
	Date		: 28-Oct-99
	
This document describes a set of extensions to SIP which allow a
caller to express preferences about request handling in servers. It
also extends the SIP Contact header to allow users to describe their
communications capabilities and characteristics.

A URL for this Internet-Draft is:
http://www.ietf.org/internet-drafts/draft-ietf-sip-callerprefs-00.txt

Internet-Drafts are also available by anonymous FTP. Login with the username
"anonymous" and a password of your e-mail address. After logging in,
type "cd internet-drafts" and then
	"get draft-ietf-sip-callerprefs-00.txt".

A list of Internet-Drafts directories can be found in
http://www.ietf.org/shadow.html 
or ftp://ftp.ietf.org/ietf/1shadow-sites.txt


Internet-Drafts can also be obtained by e-mail.

Send a message to:
	mailserv@ietf.org.
In the body type:
	"FILE /internet-drafts/draft-ietf-sip-callerprefs-00.txt".
	
NOTE:	The mail server at ietf.org can return the document in
	MIME-encoded form by using the "mpack" utility.  To use this
	feature, insert the command "ENCODING mime" before the "FILE"
	command.  To decode the response(s), you will need "munpack" or
	a MIME-compliant mail reader.  Different MIME-compliant mail readers
	exhibit different behavior, especially when dealing with
	"multipart" MIME messages (i.e. documents which have been split
	up into multiple messages), so check your local documentation on
	how to manipulate these messages.
		
		
Below is the data which will enable a MIME compliant mail reader
implementation to automatically retrieve the ASCII version of the
Internet-Draft.

--NextPart
Content-Type: Multipart/Alternative; Boundary="OtherAccess"

--OtherAccess
Content-Type: Message/External-body;
	access-type="mail-server";
	server="mailserv@ietf.org"

Content-Type: text/plain
Content-ID:	<19991028142414.I-D@ietf.org>

ENCODING mime
FILE /internet-drafts/draft-ietf-sip-callerprefs-00.txt

--OtherAccess
Content-Type: Message/External-body;
	name="draft-ietf-sip-callerprefs-00.txt";
	site="ftp.ietf.org";
	access-type="anon-ftp";
	directory="internet-drafts"

Content-Type: text/plain
Content-ID:	<19991028142414.I-D@ietf.org>

--OtherAccess--

--NextPart--





From owner-sip-outgoing@lists.research.bell-labs.com  Fri Oct 29 09:05:34 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id JAA22921
	for <sip-archive@odin.ietf.org>; Fri, 29 Oct 1999 09:05:34 -0400 (EDT)
Received: by lists.research.bell-labs.com (Postfix)
	id 2E7C952FF; Fri, 29 Oct 1999 09:03:40 -0400 (EDT)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 804335300; Fri, 29 Oct 1999 09:03:39 -0400 (EDT)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id AAD115302
	for <sip@lists.research.bell-labs.com>; Fri, 29 Oct 1999 09:03:07 -0400 (EDT)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Fri Oct 29 09:01:06 EDT 1999
Received: from atlrel2.hp.com ([156.153.255.202]) by dusty; Fri Oct 29 09:00:09 EDT 1999
Received: from otter.hpl.hp.com (otter.hpl.hp.com [15.144.59.2])
	by atlrel2.hp.com (8.8.6 (PHNE_17135)/8.8.5tis) with ESMTP id JAA01983
	for <sip@lists.research.bell-labs.com>; Fri, 29 Oct 1999 09:00:03 -0400 (EDT)
Received: from hplb.hpl.hp.com (kristensen-a-4.hpl.hp.com [15.144.26.238])
	by otter.hpl.hp.com (8.9.3/HP-Labs Bristol Internal Mail Hub) with ESMTP id OAA07071;
	Fri, 29 Oct 1999 14:00:46 +0100 (BST)
Message-ID: <38199AC9.97EBD3DE@hplb.hpl.hp.com>
Date: Fri, 29 Oct 1999 14:02:01 +0100
From: Anders Kristensen <ak@hplb.hpl.hp.com>
Organization: HP Labs
X-Mailer: Mozilla 4.7 [en] (WinNT; I)
X-Accept-Language: en
MIME-Version: 1.0
To: "Gregory D. Girard" <ggirard@mediaone.net>
Cc: SIP List <sip@lists.research.bell-labs.com>
Subject: Re: Detecting DTMF tones on a SIP voice session
References: <00dd01bf2208$aa4f9c10$122cda18@goliath.ne.mediaone.net>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

I have some sympathy for your DTMF-in-RTP gripes, but I'm not sure its
really accurate to call RTP carried DTMF "inband" signalling.  You'd
arrange for the gateway to detect DTMF and send collected digits in a
DTMF RTP stream to your app server. The server does NOT need DSP
resources as its just going to receive low-bandwidth DTMF packets which
happen to be ancapsulated in RTP packets... it doesn't have to process
the entire audio stream.

"Gregory D. Girard" wrote:
> 
> Jonathan,
> 
> Here is an example regarding DTMF.
> The RTP stream being examined may be terminating on a Media Gateway under
> control of a Softswitch. My application server is not the Softswitch, but it
> attempting to use the switching and DSP resources of the Softswitch through
> SIP. In this case, I would like my app to be able to "listen" to DTMF digits
> on a connection bridged through the Softswitch w/out necessarily extending
> an RTP stream to a media server. It is better for me to let the Softswitch
> figure out the DTMF sequences and just forward them to me as SIP messages.
> 
> In other words, I don't want to be required to move RTP data from the Media
> Gateway to my application server (RTP interface) or some other media server,
> and then have to pipe it through DSP hardware just to know the user pressed
> "5". If the RTP stream is used as the DTMF source, then the benefits of an
> IP interface are largely lost due to the need for additional DSP hardware on
> my (media server) endpoint.
> 
> For years it has seemed to make no sense to have to transmit digit sequences
> in-band as tones that have to be decoded with a DSP rather read as simple
> data messages. Virtually all digital telecommunications protocols (like ISUP
> or the Q.931 message set for ISDN) abstracted those digits our of the media
> channel and presented them as outband signals that may be directly
> manipulated in a programatic fashion.
> 
> If SIP is to at the very least match the functionality of ISUP (to say
> nothing of its areas of great advantage) it will have to (in my humble
> opinion) incorporate DTMF as an out-band signaling mechanism. To push this
> responsibility back on terminal device and force examination of the media
> stream is big step backwards when practical application development matters
> considered.
> 
> If nothing else, such a situtation will give SIGTRAN a big advantage over
> SIP due to the richness of its message set.
> 
> ....more below in response to your comments...
> 
> >>
> >> Option 1 below is less desireable than option 2 for two reasons:
> >>
> >> 1- Requires one or more RTP streams even though application may only
> require
> >> DTMF digit sequence to provide a service
> >
> >I too don't understand this.
> >
> >> 2- Requires that digit sequences come in a serial fashion and may return
> too
> >> much useless information.
> >>
> >> In contrast, the INFO solution would allow the media gateway internal
> >> functionality (as defined for MGCP) to match the digit map prior to
> >> returning anything at all.
> >
> >Not true. I interpret your concern 2 as follows: "I don't want to send
> >each digit one at a time to the IVR system; I'd rather have some
> >internal logic based on digit maps that sends them in groups". If this
> >is the case, it can be done with either RTP or the INFO method. With
> >RTP, you would delay sending the packets containing DTMF until you had
> >matched the digit map, and then send them in a clump together. This
> >would allow you to use long durations for each digit (not too long, for
> >reliability purposes), making it more efficient.
> 
> GG: Yes, this is a correct understanding of my point.
> 
> >
> >An advantage of the RTP approach is that you don't restrict the user
> >interaction to DTMF. Many IVR systems these days allow both tone and
> >voice recognition - "say or press 1 to speak to a representative". Now,
> >if you ship DTMF over INFO, you will absolutely not be able to do this.
> >However, using DTMF RTP, which I believe to be the superior solution,
> >allows such applications to exist.
> 
> GG: Yes to tone and voice input for IVR systems, however the speack recogo
> is almost universally
> "host-based" these days, meaning that the incoming voice is recorded and
> passed to an
> ASR engine residing on the application server. Most modern ASR uses HUGE
> vocabularies that
> are dynamically enabled and disabled for the ASR engine. This is far too
> much of a task to be
> buried in a terminal device except for very simple "voice activated dialing"
> stuff in phones. Importantly,
> speach reco does not require dedicated DSP HW like real-time DTMF decoding,
> and thus the
> application server may still operation on a pure-SW basis to provide very
> sophisticated voice reco apps.
> This circumstance argues for the INFO method.
> 
> >
> >Whenever the device which needs to use DTMF for features is acting as a
> >UA, there is almost never a reason to use SIP to transport DTMF. RTP
> >works best in this case, and IVR falls into this category.
> 
> GG: Please indulge me in what I'm about to say because I'm still getting up
> to speed on SIP. In your above comment, you mention
> the application server ("device which needs to use DTMF") as almost never
> needing to use SIP to transport DTMF. Well, I
> would argue that any device capable of originating or answering an INVITE
> (connection request) should be able to "listen" for
> DTMF tone sequences from the other end.
> 
> >
> >-Jonathan R.
> >--
> >Jonathan D. Rosenberg                       200 Executive Drive
> >Chief Scientist                             Suite 210
> >dynamicsoft                                 West Orange, NJ 07052
> >jdrosen@dynamicsoft.com                     FAX:   (732) 741-4778
> >http://www.cs.columbia.edu/~jdrosen         PHONE: (732) 741-7244
> >http://www.dynamicsoft.com
> >

-- 
Anders Kristensen <ak@hplb.hpl.hp.com>,
http://www-uk.hpl.hp.com/people/ak/
Hewlett-Packard Labs, Bristol, UK



From owner-sip-outgoing@lists.research.bell-labs.com  Fri Oct 29 09:49:30 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id JAA25179
	for <sip-archive@odin.ietf.org>; Fri, 29 Oct 1999 09:49:29 -0400 (EDT)
Received: by lists.research.bell-labs.com (Postfix)
	id D12D85302; Fri, 29 Oct 1999 09:45:27 -0400 (EDT)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id E66485305; Fri, 29 Oct 1999 09:45:26 -0400 (EDT)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id A50E052DB
	for <sip@lists.research.bell-labs.com>; Thu, 28 Oct 1999 19:05:08 -0400 (EDT)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Thu Oct 28 19:04:11 EDT 1999
Received: from netcom.com ([199.183.9.113]) by dusty; Thu Oct 28 19:03:15 EDT 1999
Received: (from wnewman@localhost)
	by netcom.com (8.9.3/8.9.3) id QAA23349;
	Thu, 28 Oct 1999 16:04:09 -0700 (PDT)
From: Bill Newman <wnewman@netcom.com>
Message-Id: <199910282304.QAA23349@netcom.com>
Subject: evolving behavior of proxy servers
To: sip@lists.research.bell-labs.com
Date: Thu, 28 Oct 1999 16:04:09 -0700 (PDT)
X-Mailer: ELM [version 2.4 PL25]
MIME-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

I'm trying to update a presentation summarizing how SIP works.

In reading RFC2543 and looking at some older slides on SIP, it
looks as though the original default behavior of SIP was to 
have ACKs and BYEs travel back through proxy servers, through
the same paths as INVITEs and OKs.

>From a number of more recent sources, notably the "Wandering ACKs"
entry in the SIP bugs page
  <http://www.cs.columbia.edu/~hgs/sip/notes.html>
it appears that that behavior is no longer favored, and the 
future standard will send ACKs and BYEs directly from user agent
to user agent, bypassing any proxy servers.

Is that correct?

Furthermore, is it correct that the issue here is largely
a tradeoff of two desirable features
  (1) In the old way, proxy servers had the opportunity to 
      (crudely, modulo network errors and ill-behaved clients
      and other real-world stuff) keep track of what calls
      were in progress.
  (2) In the new way, proxy servers not only don't need to retain
      call state, but don't need to have any sort of constant
      state, so all sorts of hairy time-dependent or random
      behavior (e.g. ACDs) can be implemented without messing up
      calls.
and that the consensus is now that (2) is more important than (1)?

  Bill Newman
  Nortel Networks
  wnewman@netcom.com



From owner-sip-outgoing@lists.research.bell-labs.com  Fri Oct 29 09:52:00 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id JAA25237
	for <sip-archive@odin.ietf.org>; Fri, 29 Oct 1999 09:52:00 -0400 (EDT)
Received: by lists.research.bell-labs.com (Postfix)
	id 72CE7530D; Fri, 29 Oct 1999 09:46:41 -0400 (EDT)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 0C7FD530A; Fri, 29 Oct 1999 09:46:36 -0400 (EDT)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 9BF6152F1
	for <sip@lists.research.bell-labs.com>; Fri, 29 Oct 1999 01:25:08 -0400 (EDT)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Fri Oct 29 01:24:30 EDT 1999
Received: from omzrelay02.mcit.com ([199.249.19.244]) by dusty; Fri Oct 29 01:23:33 EDT 1999
Received: from ndcrelay2.mcit.com ([166.37.172.6])
 by firewall.mcit.com (PMDF V5.2-32 #38417)
 with ESMTP id <0FKC009BBMXRIW@firewall.mcit.com> for
 sip@lists.research.bell-labs.com; Fri, 29 Oct 1999 05:22:57 +0000 (GMT)
Received: from omzmta04.mcit.com (omzmta04.mcit.com [166.37.194.122])
 by ndcrelay2.mcit.com (8.8.7/) with ESMTP	id FAA21914; Fri,
 29 Oct 1999 05:18:00 +0000 (GMT)
Received: from wcom.com ([166.44.137.89])
 by omzmta04.mcit.com (InterMail v03.02.05 118 121 101)
 with ESMTP id <19991029052234.CZAK1099@wcom.com>; Fri,
 29 Oct 1999 05:22:34 +0000
Date: Fri, 29 Oct 1999 00:21:49 -0500
From: Jiri Kuthan <jiri.kuthan@wcom.com>
Subject: Re: Detecting DTMF tones on a SIP voice session
To: "Gregory D. Girard" <ggirard@mediaone.net>
Cc: Henning Schulzrinne <schulzrinne@cs.columbia.edu>,
        SIP List <sip@lists.research.bell-labs.com>
Message-id: <38192EEC.2CB9F24A@wcom.com>
Organization: MCI WorldCom
MIME-version: 1.0
X-Mailer: Mozilla 4.61 [en] (Win98; I)
Content-type: MULTIPART/MIXED; BOUNDARY="Boundary_(ID_Hbv4sr4Se3f8sdQA5Fi+/A)"
X-Accept-Language: en
References: <008301bf21b4$e0236870$122cda18@goliath.ne.mediaone.net>
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk

This is a multi-part message in MIME format.

--Boundary_(ID_Hbv4sr4Se3f8sdQA5Fi+/A)
Content-type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7BIT

I posted a new I-D which also addresses the problem of the DTMF transport.
In particular, use of the SIP INFO method is suggested for applications with
a strong need for reliable in-order delivery. A phone-banking IVR is shown
as an example of this application class in the I-D  -- a loss or out-of-order
delivery of a single DTMF digit could  result in an undpredictable financial
transaction. MGCP/Megaco is suggested as the MIME encoding to make
passing the events across MGCP/Megaco and SIP as easy as possible.

I believe that if privacy is needed (e.g. for communicating sensitive banking
information)
SIP security will find a wide acceptance faster than RTP security. This is
another reason why to deploy the SIP INFO approach.

In general, the I-D is thought to be a catalog of uses of the SIP INFO mechanism

with an attached discussion of their reliability. Comments are appreciated.

Until the I-D appears find it enclosed in this E-mail's attachement.

Jiri

"Gregory D. Girard" wrote:
[...]

> Option 1 below is less desireable than option 2 for two reasons:
>
> 1- Requires one or more RTP streams even though application may only require
> DTMF digit sequence to provide a service

An additional RTP stream is required only in the particular case when there is
nothing else to be sent.
Otherwise, multiple payloads (e.g. DTMF along with G.729) will be carried in a
single RTP
stream. However, I do not think that having the DTMF/RTP stream in the former
case hurts.


--
Jiri Kuthan, MCI WorldCom, E-mail jiri.kuthan@wcom.com, VNET 777-6536, phone
972-729-6536


--Boundary_(ID_Hbv4sr4Se3f8sdQA5Fi+/A)
Content-type: text/plain; name=draft-kuthan-sip-infopayload-00.txt;
 charset=iso-8859-1
Content-disposition: inline; filename=draft-kuthan-sip-infopayload-00.txt
Content-Transfer-Encoding: 8BIT

Internet Engineering Task Force                              Jiri Kuthan
Internet Draft                                              MCI WorldCom
draft-kuthan-sip-infopayload-00.txt
October 17, 1999
Expires: April 2000

         Sample Uses of SIP INFO with Varying Reliability Needs

Status of this Memo

   This document is an Internet-Draft and is in full conformance with
   all provisions of Section 10 of RFC2026 [1].

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF), its areas, and its working groups. Note that
   other groups may also distribute working documents as Internet-
   Drafts.

   Internet-Drafts are draft documents valid for a maximum of six
   months and may be updated, replaced, or obsoleted by other documents
   at any time. It is inappropriate to use Internet- Drafts as
   reference material or to cite them other than as "work in progress."

   The list of current Internet-Drafts can be accessed at
     http://www.ietf.org/ietf/1id-abstracts.txt

   The list of Internet-Draft Shadow Directories can be accessed at
     http://www.ietf.org/shadow.html.

Abstract

   This memo describes SIP applications that have a need for mid-
   session signaling and use the SIP INFO method for this purpose. In
   particular, attention is paid to the applications needs for
   reliable in-order delivery and mechanisms to accomplish it.

1 Introduction

   Session Initiation Protocol [1] is used to establish and terminate
   multimedia sessions in a transaction oriented manner. However, there
   are still applications with a need for mid-session signaling. This
   need is addressed by the SIP INFO [2] method, which establishes a
   mechanism for exchanging signaling information during an existing
   session.  The application specific data are encoded as MIME type [3]
   elements in the INFO requests. This Internet Draft describes
   applications, which may make use of the SIP INFO mechanism and
   suggests payload MIME types for them. This document also describes
   how the individual applications may handle packet loss and delay.

2 Sample Uses

   This section shows applications that may make use of the INFO
   method, suggests MIME types to be used by them  and discusses their
   reliability needs.



Kuthan                                                        [Page 1]

Internet Draft           SIP INFO Sample Uses             October 1999

2.1 DTMF Applications

   Transport of DTMF signaling is of great importance since there is a
   large existing base of DTMF applications. Transport over RTP has
   been proposed in [4]. Its reliability mechanism is based on
   redundancy. This may be critical for applications with a strong need
   for reliability especially if bursty loss occurs. Consider a phone
   banking application for example. After a user is asked by an IVR to
   enter an amount to be transferred she types the digits
   consecutively. If the IVR does not receive one of the DTMF digits or
   the digit order changes due to out-of-order delivery, the
   transaction may result in an unpredictable money transfer. Thus, a
   reliable transport channel is desired. Using SIP INFO method with
   underlying SIP reliability and ensuring in-order delivery (see the
   next section) makes DTMF signaling resilient to unreliable packet
   delivery even under bursty loss.

2.1.1 MIME Types

   Registering MGCP [5] or Megaco packages [6] as MIME types and using
   them for transport of DTMF tones (among others) features a text
   format which may be easily processed by gateway controllers. Using
   the binary format described in [4] is also possible but requires the
   gateway controllers to support it in addition to its native format.
   The text format will also make coupling with applications running on
   text-oriented operating systems easier.

2.1.2 Request Example

   In this example scenario a user is sending DTMF tones indicating an
   amount after having been prompted for by a phone banking IVR. The
   numbers are sent as a block in this case but they could also be sent
   individually. The number sequence "8726" is terminated by a pound
   tone lasting 2 seconds. MGCP encoding is used.
______________________________________________
   INFO sip:ivr@nababa.com SIP/2.0
   Via: SIP/2.0/UDP kton.bell-tel.com
   From: A. Bell <sip:a.g.bell@bell-tel.com>
   To: National Banana Bank <sip:ivr@nababa.com>
   Call-ID: 3298420296@kton.bell-tel.com
   CSeq: 2 INFO
   Subject: Money Transfer By Wire
   Content-Type: application/mgcp
   Content-Length: 75

   NTFY 123456 a.g.bell@bell-tel.com MGCP  1.0
   O: D/8, D/7, D/2, D/6, D/#, D/L
   _____________________________________________
2.2 Human-readable Text Applications

   In many cases it may be useful to supply a session party with
   additional textual information that relates to the current session.
   These may include charging information (e.g. "available minutes"
   announcement,  "last minute" warning, advice of charge, OSP [7]

Kuthan                                                        [Page 2]

Internet Draft           SIP INFO Sample Uses             October 1999

   messages), IVR messages in text for deaf users, user short messages
   (e.g. "check our web-page while being transferred", advertising),
   etc.

2.2.1 MIME Types

   Text/* (e.g. Text/Plain, Text/Html, etc.)

2.2.2 Request Example

   This example illustrates the use of SIP INFO for transporting
   textual charging information. A charged party is being informed that
   its call credit will expire soon.
   ______________________________________________
   INFO sip:ivr@nababa.com SIP/2.0
   Via: SIP/2.0/UDP kton.bell-tel.com
   From: A. Bell <sip:a.g.bell@bell-tel.com>
   To: National Banana Bank <sip:ivr@nababa.com>
   Call-ID: 3298420296@kton.bell-tel.com
   CSeq: 2 INFO
   Subject: Money Transfer By Wire
   Content-Type: text/plain
   Content-Length: 31

   Your credit is about to expire.
   _____________________________________________
2.3 Transported GSTN Signaling

   If a GSTN call is routed over a SIP network its native mid-session
   signaling may need to be transported in an INFO request. For
   example, an ISDN Info packet carrying Advice of Charge may be
   encapsulated in a SIP INFO request.

2.3.1 MIME Type

   See [8] for a definition of application/ISUP MIME type

2.4 Multipart Messages

   In some cases it may be useful to send multiple MIME messages in a
   single payload. For example, advice of charge may be sent in plain
   text as well as in HTML and its native GSTN format. Multipart MIME
   messages will be used for this purpose.

2.4.1 MIME Type

   Multipart

3 Out-of-order (O-o-O) Delivery

   Applications that use the SIP INFO method to perform mid-session
   signaling may suffer from packet loss and out-of-order delivery if
   an unreliable transport protocol like UDP is used. Currently, SIP
   handles packet loss by retransmission but does not address out-of-

Kuthan                                                        [Page 3]

Internet Draft           SIP INFO Sample Uses             October 1999

   order delivery since the current SIP message set is idempotent. An
   idempotent message arriving out-of-order may be processed
   immediately regardless of delay or even loss of preceding messages.
   If the preceding messages do arrive later they can be discarded.
   This is different with the INFO requests since applications using
   this method may require in-order delivery of a complete request
   sequence. The case is illustrated in the aforementioned phone-
   banking example where the out-of-order delivery of signaling
   information may result in a transfer of an incorrect amount.
   Mechanisms addressing this issue are discussed in the following
   text. Which of the mechanisms will be used depends on the
   applications since they may have different reliability requirements.

3.1  The Trivial Case: No O-o-O Delivery Handling

   Applications that do not need in-order delivery or use the INFO
   method to transport idempotent payload need no additional treatment.
   An example is notifying a caller of current total call charges. Such
   a notification is idempotent and the message with the highest
   sequence number completely overrides the meaning of all previous
   messages, regardless if they were received or not.

3.2  Buffering

   If the messages encapsulated in the INFO requests are not idempotent
   and in-order delivery is required, buffering may be used. A
   requirement is put on the receivers SIP API to delay processing of
   out-of-order INFO requests with the same content type until all
   preceding requests arrive. Processing of any other requests remains
   unaffected. The following example illustrates step-by-step what
   happens if some messages get lost:

   1) A receiver instructs its SIP API to delay processing of out-of-
      order INFO requests of a given content type.
   2) A sender sends a re-invitation R1 and two INFO messages I1 and I2
      of the given content type.
   3) R1 and I1 get lost but I2 reaches the receiver. The receiver
      replies and buffers the I2 and awaits preceding packets.
   4) A timeout expires at the sender and it resends R1.
   5) The receiver processes R1. I2 is still buffered.
   6) A timeout expires at the sender and it resends I1.
   7) The receiver receives I1 and starts processing it. When finished,
      it starts processing I2.

   Note that the retransmission delay may be slightly reduced if the
   sender retransmits after having received an out-of-order reply.

3.3  Re-sending Transmission Window (RTW)

   With buffering out-of-order packets (see above) a receiver may
   experience a higher delay if retransmission occurs. If a continuous
   stream of INFO messages is sent the retransmission penalty may be
   reduced be sending the content of all unacknowledged INFO requests
   (i.e. the transmission window) along with each INFO request. To

Kuthan                                                        [Page 4]

Internet Draft           SIP INFO Sample Uses             October 1999

   enable the receiver to interpret such INFO messages the payloads
   must include a sequence number indicating the position of the
   transmission window in the message stream. This mechanism is
   illustrated in the following DTMF/MGCP example:

   1) The sender sends the first digit (8). The application-specific
      sequence number is set to zero initially. INFO payload looks like
      this:

   NTFY 0 a.g.bell@bell-tel.com MGCP  1.0
   O: D/8

   2) The first packet gets lost.
   3) The sender generates next digit (7). Because the first digit has
      not been replied it sends a concatenation of the first digit and
      the second one. Note that the MGCP sequence number does not
      change because it indicates the position of the first digit in
      packet.

   NTFY 0 a.g.bell@bell-tel.com MGCP  1.0
   O: D/8, D/7

   3) The receiver gets the second packet and sends a reply.

   4) The sender receives the reply and generates a new digit (2)
   again. The MGCP sequence number is increased to two to indicate the
   position of the transmitted digit in the digit stream.

   NTFY 2 a.g.bell@bell-tel.com MGCP  1.0
   O: D/2

   Note that the message size grows with the number of "messages in
   pipe". Thus, this mechanism is useful for applications that generate
   rather short payloads so that the recommended size of SIP messages
   [1, Section 3] will not be exceeded.

3.4  Applying the Right Mechanism

   Which of the proposed mechanisms is used depends on the
   applications. They may even use a completely different mechanism for
   reliable in-order delivery. However the buffering technique is the
   most likely one to be adopted by typical applications. It provides
   reliable in-order delivery and there is no danger of packet size
   overflow like with the "Re-sending Transmission Window" (RTW)
   technique.

   The RTW technique may be preferred by applications that assume a
   continuous stream of short messages and need minimum delay. Under
   these conditions they will utilize the advantage of RTW: The
   incoming packets are processed immediately regardless whether they
   arrived in-order or not and no packets have to be buffered. If the
   message stream is not continuous the delay will increase from the
   sending rate to the retransmission period.


Kuthan                                                        [Page 5]

Internet Draft           SIP INFO Sample Uses             October 1999

   For instance, usage of the RTW seems to be reasonable for the
   aforementioned DTMF application. On the other hand the text
   application will use the buffering technique because the suggested
   text formats have no sequence numbers needed for RTW.

4 Glossary of Used Abbreviations

   MIME   Multipurpose Internet Mail Extension
   HTML   Hypertext Markup Language
   GSTN   General Switched Telephone Network
   SIP    Session Initiation Protocol
   ISUP   ISDN User Part
   UDP    User Datagram Protocol
   DTMF   Dual Tone Multi-Frequency
   RTP    Real-time Transport Protocol
   IVR    Interactive Voice Response
   OSP    Open Settlement Protocol


5 References

   [1]    M. Handley, H. Schulzrinne, E. Schooler and J. Rosenberg:
   "SIP: Session Initiation Protocol", RFC 2543, March 1999

   [2]    S. Donovan, M. Cannon: "The SIP INFO Method", Internet draft
   (draft-ietf-mmusic-sip-info-method-01), IETF, June 1999. Work in
   progress.

   [3]    N. Freed, N. Borenstein: "Multipurpose Internet Mail
   Extensions (MIME) Part Two: Media Types", RFC 2046, IETF, November
   1996.

   [4]    H. Schulzrinne, S. Petrack: "RTP Payload for DTMF Digits,
   Telephony Tones and Telephony Signals", Internet draft (draft-ietf-
   avt-tones-01), IETF, June 1999. Work in progress.

   [5]    M. Arango, A. Dugan, I. Elliott, C. Huitema,  S. Pickett:
   "Media Gateway Control Protocol (MGCP), Version 1.0", RFC 2705,
   IETF, October 1999.

   [6]    Klaus Hoffmann, Klaus Pulverer, Peter Blatherwick, Bob Bell,
   Markku Korpi, Tom Taylor, Richard Bach, and Christian Ruppelt:
   "Megaco/H.248 Generic Packages", Internet draft (draft-ietf-megaco-
   basicpkg-00), IETF, September 1999, Work in progress.

   [7]    ETSI-Tiphon: "Open Settlement Protocol (OSP) for Inter-Domain
   pricing, authorization and usage exchange", V 1.4.3, TS 101 321,
   October 1999.

   [8]    E. Zimmerer, A. Vemuri: "The SIP ISUP/MIME Type", Internet
   draft (draft-zimmerer-mmusic-sip-isup-mime-00), IETF, August 1999.
   Work in progress.

6 Author's Address

Kuthan                                                        [Page 6]

Internet Draft           SIP INFO Sample Uses             October 1999


   Jiri Kuthan
   MCI WorldCom
   2400 N. Glenville Dr.
   Richardson, TX 75082
   U.S.A.
   E-mail: jiri.kuthan@wcom.com
















































Kuthan                                                        [Page 7]


--Boundary_(ID_Hbv4sr4Se3f8sdQA5Fi+/A)--



From owner-sip-outgoing@lists.research.bell-labs.com  Fri Oct 29 10:01:30 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id KAA25817
	for <sip-archive@odin.ietf.org>; Fri, 29 Oct 1999 10:01:30 -0400 (EDT)
Received: by lists.research.bell-labs.com (Postfix)
	id 91F285301; Fri, 29 Oct 1999 09:59:21 -0400 (EDT)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id D822B5303; Fri, 29 Oct 1999 09:59:20 -0400 (EDT)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from grubby.research.bell-labs.com (grubby.research.bell-labs.com [135.104.2.9])
	by lists.research.bell-labs.com (Postfix) with SMTP id 7C81A5301
	for <sip@lists.research.bell-labs.com>; Fri, 29 Oct 1999 09:59:06 -0400 (EDT)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by grubby; Fri Oct 29 09:57:57 EDT 1999
Received: from wodc7mr3.ffx.ops.us.uu.net ([192.48.96.19]) by dusty; Fri Oct 29 09:57:00 EDT 1999
Received: from dynamicsoft.com by wodc7mr3.ffx.ops.us.uu.net with ESMTP 
	(peer crosschecked as: [63.72.186.56])
	id QQhnam02181;
	Fri, 29 Oct 1999 14:01:16 GMT
Message-ID: <3819A828.4300D19A@dynamicsoft.com>
Date: Fri, 29 Oct 1999 09:59:04 -0400
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
Organization: Dynamicsoft
X-Mailer: Mozilla 4.7 [en] (Win98; U)
X-Accept-Language: en
MIME-Version: 1.0
To: "Gregory D. Girard" <ggirard@mediaone.net>
Cc: Ken Osowski <kosowski@iperia.com>, Jim Mchugo <jmm@iperia.com>,
        "Christopher C. Berluti" <cberluti@iperia.com>,
        Dick Connaughton <rconnaughton@iperia.com>,
        Darrell Crow <dcrow@iperia.com>, Parker Ladd <pladd@iperia.com>,
        SIP List <sip@lists.research.bell-labs.com>,
        Henning Schulzrinne <schulzrinne@cs.columbia.edu>
Subject: Re: Detecting DTMF tones on a SIP voice session
References: <00dd01bf2208$aa4f9c10$122cda18@goliath.ne.mediaone.net>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit



"Gregory D. Girard" wrote:
> 
> Jonathan,
> 
> Here is an example regarding DTMF.
> The RTP stream being examined may be terminating on a Media Gateway under
> control of a Softswitch. My application server is not the Softswitch, but it
> attempting to use the switching and DSP resources of the Softswitch through
> SIP. In this case, I would like my app to be able to "listen" to DTMF digits
> on a connection bridged through the Softswitch w/out necessarily extending
> an RTP stream to a media server. It is better for me to let the Softswitch
> figure out the DTMF sequences and just forward them to me as SIP messages.
> 
> In other words, I don't want to be required to move RTP data from the Media
> Gateway to my application server (RTP interface) or some other media server,
> and then have to pipe it through DSP hardware just to know the user pressed
> "5". If the RTP stream is used as the DTMF source, then the benefits of an
> IP interface are largely lost due to the need for additional DSP hardware on
> my (media server) endpoint.

No. As Anders correctly stated, the DTMF over RTP *does not* send the
DTMF as normal audio. It is explicitly named by either a frequency or
the actual meaning (i.e., digit 1). Please take a look at
http://www.ietf.org/internet-drafts/draft-ietf-avt-tones-02.txt.

> 
> For years it has seemed to make no sense to have to transmit digit sequences
> in-band as tones that have to be decoded with a DSP rather read as simple
> data messages. Virtually all digital telecommunications protocols (like ISUP
> or the Q.931 message set for ISDN) abstracted those digits our of the media
> channel and presented them as outband signals that may be directly
> manipulated in a programatic fashion.

Using the DTMF payload format gets you the best of both worlds. You
still get the DTMF sent "out of band" in the sense that its not as
audio, but as named tones/events. But, you get the synchronization and
generality of having them in the RTP stream. 

> 
> If SIP is to at the very least match the functionality of ISUP (to say
> nothing of its areas of great advantage) it will have to (in my humble
> opinion) incorporate DTMF as an out-band signaling mechanism. To push this
> responsibility back on terminal device and force examination of the media
> stream is big step backwards when practical application development matters
> considered.

Again, see above. You are getting what you want.

> 
> If nothing else, such a situtation will give SIGTRAN a big advantage over
> SIP due to the richness of its message set.

SIPs strength is not that it can emulate completely ISUP (although I
believe we can do all the call signaling we need for traditional
telephony), but that it does so much more. Its use of MIME, general
URI's, and its close relationship with http and smtp means its a great
tool for creating services that integrate web, email, and telephony. Its
hard, IMHO, to argue against a protocol that can do the basic stuff, as
all these protocols can, but leaves the door open for bringing telephony
into the Internet era. Tunneling ISUP over sigtran gets you toll bypass
just fine, but last I checked ISUP didn't carry URLs for redirecting
calls to web pages.....

> >An advantage of the RTP approach is that you don't restrict the user
> >interaction to DTMF. Many IVR systems these days allow both tone and
> >voice recognition - "say or press 1 to speak to a representative". Now,
> >if you ship DTMF over INFO, you will absolutely not be able to do this.
> >However, using DTMF RTP, which I believe to be the superior solution,
> >allows such applications to exist.
> 
> GG: Yes to tone and voice input for IVR systems, however the speack recogo
> is almost universally
> "host-based" these days, meaning that the incoming voice is recorded and
> passed to an
> ASR engine residing on the application server. Most modern ASR uses HUGE
> vocabularies that
> are dynamically enabled and disabled for the ASR engine. This is far too
> much of a task to be
> buried in a terminal device except for very simple "voice activated dialing"
> stuff in phones. Importantly,
> speach reco does not require dedicated DSP HW like real-time DTMF decoding,
> and thus the
> application server may still operation on a pure-SW basis to provide very
> sophisticated voice reco apps.
> This circumstance argues for the INFO method.

No. As discussed above, you will not need to do any DTMF detection, as
its already done. Furthermore, no matter where you do the IVR services,
being able to support "press or say 1" is most easily supported when
pressing 1 or saying 1 are in the same place. Not having this means you
get all kinds of nasty synchronization problems between the signaling
messages and the media streams.

> 
> >
> >Whenever the device which needs to use DTMF for features is acting as a
> >UA, there is almost never a reason to use SIP to transport DTMF. RTP
> >works best in this case, and IVR falls into this category.
> 
> GG: Please indulge me in what I'm about to say because I'm still getting up
> to speed on SIP. In your above comment, you mention
> the application server ("device which needs to use DTMF") as almost never
> needing to use SIP to transport DTMF. Well, I
> would argue that any device capable of originating or answering an INVITE
> (connection request) should be able to "listen" for
> DTMF tone sequences from the other end.

Thats what I'm saying; if a device that needs DTMF is the one that sends
and receives INVITEs, using RTP to carry the DTMF events is always a
better solution.

-Jonathan R.

-- 
Jonathan D. Rosenberg                       200 Executive Drive
Chief Scientist                             Suite 210 
dynamicsoft                                 West Orange, NJ 07052
jdrosen@dynamicsoft.com                     FAX:   (732) 741-4778
http://www.cs.columbia.edu/~jdrosen         PHONE: (732) 741-7244
http://www.dynamicsoft.com



From owner-sip-outgoing@lists.research.bell-labs.com  Fri Oct 29 10:11:46 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id KAA26308
	for <sip-archive@odin.ietf.org>; Fri, 29 Oct 1999 10:11:46 -0400 (EDT)
Received: by lists.research.bell-labs.com (Postfix)
	id A96445303; Fri, 29 Oct 1999 10:09:21 -0400 (EDT)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 2224E5305; Fri, 29 Oct 1999 10:09:21 -0400 (EDT)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from grubby.research.bell-labs.com (grubby.research.bell-labs.com [135.104.2.9])
	by lists.research.bell-labs.com (Postfix) with SMTP id C43BB5303
	for <sip@lists.research.bell-labs.com>; Fri, 29 Oct 1999 10:09:06 -0400 (EDT)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by grubby; Fri Oct 29 10:07:19 EDT 1999
Received: from wodc7mr3.ffx.ops.us.uu.net ([192.48.96.19]) by dusty; Fri Oct 29 10:06:23 EDT 1999
Received: from dynamicsoft.com by wodc7mr3.ffx.ops.us.uu.net with ESMTP 
	(peer crosschecked as: [63.72.186.56])
	id QQhnam24123;
	Fri, 29 Oct 1999 14:10:48 GMT
Message-ID: <3819AA63.FAD122F6@dynamicsoft.com>
Date: Fri, 29 Oct 1999 10:08:35 -0400
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
Organization: Dynamicsoft
X-Mailer: Mozilla 4.7 [en] (Win98; U)
X-Accept-Language: en
MIME-Version: 1.0
To: Bill Newman <wnewman@netcom.com>
Cc: sip@lists.research.bell-labs.com
Subject: Re: evolving behavior of proxy servers
References: <199910282304.QAA23349@netcom.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit



Bill Newman wrote:
> 
> I'm trying to update a presentation summarizing how SIP works.
> 
> In reading RFC2543 and looking at some older slides on SIP, it
> looks as though the original default behavior of SIP was to
> have ACKs and BYEs travel back through proxy servers, through
> the same paths as INVITEs and OKs.

They do if the proxies add the Record-Route header. This allows each
proxy to individually decide whether it will see the ACK and requests
that follow, or whether they bypass that particular proxy.


> Furthermore, is it correct that the issue here is largely
> a tradeoff of two desirable features
>   (1) In the old way, proxy servers had the opportunity to
>       (crudely, modulo network errors and ill-behaved clients
>       and other real-world stuff) keep track of what calls
>       were in progress.
>   (2) In the new way, proxy servers not only don't need to retain
>       call state, but don't need to have any sort of constant
>       state, so all sorts of hairy time-dependent or random
>       behavior (e.g. ACDs) can be implemented without messing up
>       calls.
> and that the consensus is now that (2) is more important than (1)?

The spec does not mandate either one; one is not fundamentally better
than the other. It depends on your application. The protocol explicitly
has a Record-Route feature to allow each administrator to decide which
operating point is preferred, and this decision can be different for
each proxy from call to call.

-Jonathan R.
-- 
Jonathan D. Rosenberg                       200 Executive Drive
Chief Scientist                             Suite 210 
dynamicsoft                                 West Orange, NJ 07052
jdrosen@dynamicsoft.com                     FAX:   (732) 741-4778
http://www.cs.columbia.edu/~jdrosen         PHONE: (732) 741-7244
http://www.dynamicsoft.com



From owner-sip-outgoing@lists.research.bell-labs.com  Fri Oct 29 10:14:46 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id KAA26549
	for <sip-archive@odin.ietf.org>; Fri, 29 Oct 1999 10:14:45 -0400 (EDT)
Received: by lists.research.bell-labs.com (Postfix)
	id 8B9DA52B6; Fri, 29 Oct 1999 10:11:40 -0400 (EDT)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 8526452E2; Fri, 29 Oct 1999 10:11:39 -0400 (EDT)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 87E7D52B6
	for <sip@lists.research.bell-labs.com>; Fri, 29 Oct 1999 10:11:12 -0400 (EDT)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Fri Oct 29 10:10:35 EDT 1999
Received: from wodc7mr3.ffx.ops.us.uu.net ([192.48.96.19]) by dusty; Fri Oct 29 10:09:39 EDT 1999
Received: from dynamicsoft.com by wodc7mr3.ffx.ops.us.uu.net with ESMTP 
	(peer crosschecked as: [63.72.186.56])
	id QQhnam01220;
	Fri, 29 Oct 1999 14:13:54 GMT
Message-ID: <3819AB1D.14A35293@dynamicsoft.com>
Date: Fri, 29 Oct 1999 10:11:41 -0400
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
Organization: Dynamicsoft
X-Mailer: Mozilla 4.7 [en] (Win98; U)
X-Accept-Language: en
MIME-Version: 1.0
To: Francois Morel <francois.morel@iml-cti.com>
Cc: SIP List <sip@lists.research.bell-labs.com>
Subject: Re: I-D Action: SIP Call Flows and Service Examples
References: <000001bf220b$9d989370$523f8bcf@hfrancois>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit



Francois Morel wrote:
> 
> There is a proposal from the DCS group to relax the URL syntax and to allow
> SIP URL without the host part. Here is the extract from
> "draft-dcsgroup-mmusic-state-00.txt" dated from July '99:
> 
> BEGIN[
> 4.1 SIP URL Extensions
> 
>    The SIP URL host syntax is extended to allow hosts to be identified
>    by a simple phone-number (E.164 number). The SIP client initiating
>    the call may not know of the gateway associated with the number. The
>    Telephony subscriber URL definition in RFC 2543 for a telephone
>    number requires the phone number and its gateway association in the
>    host parameter. We propose that this constraint be relaxed to allow
>    hosts to be identified by their E.164 numbers only. If this
>    interpretation of the hostname is used, the associated user-param
>    user=phone MUST be present.
> ]END
> 
> Has this been accepted by the SIP group? If so it could be an alternative to
> the use of tel URL?

This is one of the issues I'm sure we'll discuss at the Sunday interim
meeting. I think the DCS group correctly saw the need for a URL only
with a phone number and not a host part, but they weren't aware of the
tel URL (please correct me if I'm wrong, BTW). As the difference is just
syntactic and not fundamental (sip:5551212 vs. tel:5551212), I think we
can come to a consensus on one way to do this.

-Jonathan R.
-- 
Jonathan D. Rosenberg                       200 Executive Drive
Chief Scientist                             Suite 210 
dynamicsoft                                 West Orange, NJ 07052
jdrosen@dynamicsoft.com                     FAX:   (732) 741-4778
http://www.cs.columbia.edu/~jdrosen         PHONE: (732) 741-7244
http://www.dynamicsoft.com



From owner-sip-outgoing@lists.research.bell-labs.com  Fri Oct 29 11:15:36 1999
Received: from lists.research.bell-labs.com (lists.research.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id LAA00218
	for <sip-archive@odin.ietf.org>; Fri, 29 Oct 1999 11:15:35 -0400 (EDT)
Received: by lists.research.bell-labs.com (Postfix)
	id 6AB2052F1; Fri, 29 Oct 1999 11:13:25 -0400 (EDT)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id D85315300; Fri, 29 Oct 1999 11:13:24 -0400 (EDT)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id F030652F1
	for <sip@lists.research.bell-labs.com>; Fri, 29 Oct 1999 11:13:08 -0400 (EDT)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Fri Oct 29 11:12:41 EDT 1999
Received: from smtprch1.nortel.com ([192.135.215.14]) by dusty; Fri Oct 29 11:11:45 EDT 1999
Received: from zcard00n.ca.nortel.com (actually zcard00n) 
          by smtprch1.nortel.com; Fri, 29 Oct 1999 10:08:41 -0500
Received: from zmerd00d.ca.nortel.com ([47.128.128.104]) 
          by zcard00n.ca.nortel.com 
          with SMTP (Microsoft Exchange Internet Mail Service Version 5.5.2448.0) 
          id V5BQNZNH; Fri, 29 Oct 1999 11:08:38 -0400
Received: from americasm01.nt.com (pquad074.ca.nortel.com [47.97.51.32]) 
          by zmerd00d.ca.nortel.com 
          with SMTP (Microsoft Exchange Internet Mail Service Version 5.5.2448.0) 
          id V5G6XJ55; Fri, 29 Oct 1999 11:08:37 -0400
Message-ID: <3819B9DF.D3F4C992@americasm01.nt.com>
Date: Fri, 29 Oct 1999 11:14:39 -0400
From: "Rick Workman" <rworkman@nortelnetworks.com>
Organization: Nortel Networks
X-Mailer: Mozilla 4.03 [en] (Win95; I)
MIME-Version: 1.0
To: Alan Johnston <alan.johnston@wcom.com>
Cc: SIP List <sip@lists.research.bell-labs.com>
Subject: Re: I-D Action: SIP Call Flows and Service Examples
References: <3814A72D.C14D8CE8@wcom.com> <381726D8.B61A919A@americasm01.nt.com> <38176AEE.82ED4B3F@dynamicsoft.com> <3817B6A1.EF541CD0@cs.columbia.edu> <38189579.BCD37BE3@wcom.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit



Alan Johnston wrote:

> We were reluctant to include the tel URL in this draft since it was still in I-D
> status, and using sip URLs worked, if not as elegantly.  By the time we make the
> next revision, it should be an RFC and we will probably change the sip URLs to
> tels.  We attempted to use sip URLs as #@proxy rather than #@gateway, but we ran
> into problems populating From headers on incoming calls from the PSTN.  The tel
> URL will probably solve these issues.
>

Just to clarify my position,  I think it makes sense to use SIP URL's in the From headers in
INVITEs originating from gateways (or any SIP UA for that matter). In the context of that SIP
session, the From host is the gateway so there's no problem in using #@gateway there, and
allows the inclusion of tag fields and calling name if necessary. However, the only
information the gateway has about the destination endpoint is just the dialled digits, so
"manufacturing" a To host in the gateway is problematical. It's less of a problem for the
RequestURIs since proxies can change those in course of routing the request, but I see no
reason why the tel: URL shouldn't optionally be used there as well. This does require that
proxies support this but this seems fairly fundamental to PSTN interworking (but not really
an issue if you're not worried about the PSTN).

> I hope that once the tel URL reaches RFC status, the telephone number handling
> in sip URLs is again matched to the tel URL.
>

I'm not sure why the use of the tel: URL in it's I-D form isn't the same as using the
proposed 183 response, which arguably is in a less mature state. I guess this depends
somewhat on  the intent of publishing your call flow draft. As a discussion paper, I think
it's a valuable and appreciated contibution to the SIP community. If it's intended that it
evolve to RFC status as a standard for SIP network operation then I think we have to be more
careful. For example, are the assumptions stated in the first section intended to be
requirements. If so, what should happen if the assumptions are violated even though the SIP
protocol usage is valid.

> Glad everyone is reading the document - the more feedback we get the better!
>
> Alan Johnston
> MCI WorldCom
> +1-314-342-7360
> alan.johnston@wcom.com

Rick Workman
Carrier Networks
NortelNetworks, Ottawa






From owner-sip-outgoing@lists.research.bell-labs.com  Fri Oct 29 11:19:30 1999
Received: from lists.research.bell-labs.com (lists.research.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id LAA00410
	for <sip-archive@odin.ietf.org>; Fri, 29 Oct 1999 11:19:29 -0400 (EDT)
Received: by lists.research.bell-labs.com (Postfix)
	id 6DC355300; Fri, 29 Oct 1999 11:17:26 -0400 (EDT)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 9DC4C530B; Fri, 29 Oct 1999 11:17:25 -0400 (EDT)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id EBDF15300
	for <sip@lists.research.bell-labs.com>; Fri, 29 Oct 1999 11:17:08 -0400 (EDT)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Fri Oct 29 11:16:39 EDT 1999
Received: from smtprch1.nortel.com ([192.135.215.14]) by dusty; Fri Oct 29 11:15:42 EDT 1999
Received: from zrchb200.us.nortel.com (actually zrchb200) 
          by smtprch1.nortel.com; Fri, 29 Oct 1999 10:14:16 -0500
Received: by zrchb200.us.nortel.com with Internet Mail Service (5.5.2448.0) 
          id <VXYYQNCF>; Fri, 29 Oct 1999 10:14:14 -0500
Message-ID: <BEF0F85DF631D311B1200000F80932F925654A@crchy28c.us.nortel.com>
From: "Paul Defrain" <defrain@nortelnetworks.com>
To: "'sip@lists.research.bell-labs.com'" <sip@lists.research.bell-labs.com>
Subject: RE: evolving behavior of proxy servers
Date: Fri, 29 Oct 1999 10:13:43 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2448.0)
Content-Type: multipart/alternative;
              boundary="----_=_NextPart_001_01BF2220.403F3408"
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk

This message is in MIME format. Since your mail reader does not understand
this format, some or all of this message may not be legible.

------_=_NextPart_001_01BF2220.403F3408
Content-Type: text/plain

Bill,

I would concur that there seems to be a slide towards "relaxing"
requirements on the path of messages subsequent to an INVITE where proxys
are concerned considering that the Contact header has risen in
"significance" in the latest draft of RFC-2543. The consensus seems to be
that one uses the Record-Route and Record headers to nail down a path from
end-to-end. In certain applications it is critical that the path traversed
remain unchagned for all messages involved in a particular session (all
messages related to a particular SIP session). One must rely on components'
adherence to the standard when a fixed message path is desired. There are
measures that can be employed to protect servers from non-compliant
clients/components -- see recent mailings on this list for these examples. 

__________________________
Paul D. DeFrain
IP Services SIP Feature Development
ESN 444.7570 (972) 684.7570
defrain@nortelnetworks.com



> -----Original Message-----
> From:	Bill Newman [SMTP:wnewman@netcom.com]
> Sent:	Thursday, October 28, 1999 6:04 PM
> To:	sip@lists.research.bell-labs.com
> Subject:	evolving behavior of proxy servers
> 
> I'm trying to update a presentation summarizing how SIP works.
> 
> In reading RFC2543 and looking at some older slides on SIP, it
> looks as though the original default behavior of SIP was to 
> have ACKs and BYEs travel back through proxy servers, through
> the same paths as INVITEs and OKs.
> 
> >From a number of more recent sources, notably the "Wandering ACKs"
> entry in the SIP bugs page
>   <http://www.cs.columbia.edu/~hgs/sip/notes.html>
> it appears that that behavior is no longer favored, and the 
> future standard will send ACKs and BYEs directly from user agent
> to user agent, bypassing any proxy servers.
> 
> Is that correct?
> 
> Furthermore, is it correct that the issue here is largely
> a tradeoff of two desirable features
>   (1) In the old way, proxy servers had the opportunity to 
>       (crudely, modulo network errors and ill-behaved clients
>       and other real-world stuff) keep track of what calls
>       were in progress.
>   (2) In the new way, proxy servers not only don't need to retain
>       call state, but don't need to have any sort of constant
>       state, so all sorts of hairy time-dependent or random
>       behavior (e.g. ACDs) can be implemented without messing up
>       calls.
> and that the consensus is now that (2) is more important than (1)?
> 
>   Bill Newman
>   Nortel Networks
>   wnewman@netcom.com
> 

------_=_NextPart_001_01BF2220.403F3408
Content-Type: text/html
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV=3D"Content-Type" CONTENT=3D"text/html; =
charset=3Dus-ascii">
<META NAME=3D"Generator" CONTENT=3D"MS Exchange Server version =
5.5.2651.14">
<TITLE>RE: evolving behavior of proxy servers</TITLE>
</HEAD>
<BODY>

<P><FONT COLOR=3D"#0000FF" SIZE=3D2 FACE=3D"Arial">Bill,</FONT>
</P>

<P><FONT COLOR=3D"#0000FF" SIZE=3D2 FACE=3D"Arial">I would concur that =
there seems to be a slide towards &quot;relaxing&quot; requirements on =
the path of messages subsequent to an INVITE where proxys are concerned =
considering that the Contact header has risen in =
&quot;significance&quot; in the latest draft of RFC-2543. The consensus =
seems to be that one uses the Record-Route and Record headers to nail =
down a path from end-to-end. In certain applications it is critical =
that the path traversed remain unchagned for all messages involved in a =
particular session (all messages related to a particular SIP session). =
One must rely on components' adherence to the standard when a fixed =
message path is desired. There are measures that can be employed to =
protect servers from non-compliant clients/components -- see recent =
mailings on this list for these examples. </FONT></P>

<P><FONT COLOR=3D"#000000" SIZE=3D2 =
FACE=3D"Tahoma">__________________________</FONT>
<BR><FONT COLOR=3D"#000000" SIZE=3D2 FACE=3D"Tahoma">Paul D. =
DeFrain</FONT>
<BR><FONT COLOR=3D"#808000" SIZE=3D1 FACE=3D"Tahoma">IP Services SIP =
Feature Development</FONT>
<BR><FONT COLOR=3D"#808080" SIZE=3D1 FACE=3D"Tahoma">ESN 444.7570 (972) =
684.7570</FONT>
<BR><FONT COLOR=3D"#808080" SIZE=3D1 =
FACE=3D"Tahoma">defrain@nortelnetworks.com</FONT>
</P>
<BR>
<BR>

<P><FONT SIZE=3D1 FACE=3D"Arial">-----Original Message-----</FONT>
<BR><B><FONT SIZE=3D1 FACE=3D"Arial">From:&nbsp;&nbsp;</FONT></B> <FONT =
SIZE=3D1 FACE=3D"Arial">Bill Newman [SMTP:wnewman@netcom.com]</FONT>
<BR><B><FONT SIZE=3D1 FACE=3D"Arial">Sent:&nbsp;&nbsp;</FONT></B> <FONT =
SIZE=3D1 FACE=3D"Arial">Thursday, October 28, 1999 6:04 PM</FONT>
<BR><B><FONT SIZE=3D1 =
FACE=3D"Arial">To:&nbsp;&nbsp;&nbsp;&nbsp;</FONT></B> <FONT SIZE=3D1 =
FACE=3D"Arial">sip@lists.research.bell-labs.com</FONT>
<BR><B><FONT SIZE=3D1 =
FACE=3D"Arial">Subject:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT>=
</B> <FONT SIZE=3D1 FACE=3D"Arial">evolving behavior of proxy =
servers</FONT>
</P>

<P><FONT SIZE=3D2 FACE=3D"Arial">I'm trying to update a presentation =
summarizing how SIP works.</FONT>
</P>

<P><FONT SIZE=3D2 FACE=3D"Arial">In reading RFC2543 and looking at some =
older slides on SIP, it</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">looks as though the original default =
behavior of SIP was to </FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">have ACKs and BYEs travel back =
through proxy servers, through</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">the same paths as INVITEs and =
OKs.</FONT>
</P>

<P><FONT SIZE=3D2 FACE=3D"Arial">&gt;From a number of more recent =
sources, notably the &quot;Wandering ACKs&quot;</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">entry in the SIP bugs page</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&nbsp; &lt;<U></U></FONT><U><FONT =
COLOR=3D"#0000FF" SIZE=3D2 FACE=3D"Arial"><A =
HREF=3D"http://www.cs.columbia.edu/~hgs/sip/notes.html" =
TARGET=3D"_blank">http://www.cs.columbia.edu/~hgs/sip/notes.html</A></FO=
NT></U><FONT SIZE=3D2 FACE=3D"Arial">&gt;</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">it appears that that behavior is no =
longer favored, and the </FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">future standard will send ACKs and =
BYEs directly from user agent</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">to user agent, bypassing any proxy =
servers.</FONT>
</P>

<P><FONT SIZE=3D2 FACE=3D"Arial">Is that correct?</FONT>
</P>

<P><FONT SIZE=3D2 FACE=3D"Arial">Furthermore, is it correct that the =
issue here is largely</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">a tradeoff of two desirable =
features</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&nbsp; (1) In the old way, proxy =
servers had the opportunity to </FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
(crudely, modulo network errors and ill-behaved clients</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; and =
other real-world stuff) keep track of what calls</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; were =
in progress.</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&nbsp; (2) In the new way, proxy =
servers not only don't need to retain</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; call =
state, but don't need to have any sort of constant</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; state, =
so all sorts of hairy time-dependent or random</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
behavior (e.g. ACDs) can be implemented without messing up</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
calls.</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">and that the consensus is now that =
(2) is more important than (1)?</FONT>
</P>

<P><FONT SIZE=3D2 FACE=3D"Arial">&nbsp; Bill Newman</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&nbsp; Nortel Networks</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&nbsp; wnewman@netcom.com</FONT>
</P>

</BODY>
</HTML>
------_=_NextPart_001_01BF2220.403F3408--



From owner-sip-outgoing@lists.research.bell-labs.com  Fri Oct 29 11:53:27 1999
Received: from lists.research.bell-labs.com (lists.research.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id LAA02529
	for <sip-archive@odin.ietf.org>; Fri, 29 Oct 1999 11:53:27 -0400 (EDT)
Received: by lists.research.bell-labs.com (Postfix)
	id E384B52DB; Fri, 29 Oct 1999 11:51:23 -0400 (EDT)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 5487D5310; Fri, 29 Oct 1999 11:51:23 -0400 (EDT)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id C2D1C52DB
	for <sip@lists.research.bell-labs.com>; Fri, 29 Oct 1999 11:51:08 -0400 (EDT)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Fri Oct 29 11:49:33 EDT 1999
Received: from wodc7mr3.ffx.ops.us.uu.net ([192.48.96.19]) by dusty; Fri Oct 29 11:48:37 EDT 1999
Received: from dynamicsoft.com by wodc7mr3.ffx.ops.us.uu.net with ESMTP 
	(peer crosschecked as: [63.72.186.56])
	id QQhnat26585;
	Fri, 29 Oct 1999 15:51:46 GMT
Message-ID: <3819C20B.E1773B09@dynamicsoft.com>
Date: Fri, 29 Oct 1999 11:49:31 -0400
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
Organization: Dynamicsoft
X-Mailer: Mozilla 4.7 [en] (Win98; U)
X-Accept-Language: en
MIME-Version: 1.0
To: Henning Schulzrinne <schulzrinne@cs.columbia.edu>
Cc: Rick Workman <rworkman@nortelnetworks.com>,
        Alan Johnston <alan.johnston@wcom.com>,
        SIP List <sip@lists.research.bell-labs.com>
Subject: Re: I-D Action: SIP Call Flows and Service Examples
References: <3814A72D.C14D8CE8@wcom.com> <381726D8.B61A919A@americasm01.nt.com> <38176AEE.82ED4B3F@dynamicsoft.com> <3817B6A1.EF541CD0@cs.columbia.edu> <38185F49.2CD8289F@dynamicsoft.com> <3818E354.AE4FB8D3@cs.columbia.edu>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit



Henning Schulzrinne wrote:
> 
> In general, a server should probably allow non-SIP request URIs (as well
> as in the To header of the REGISTER).
> 
> This should probably be made explicit. The HTTP spec only seems to imply
> that something like
> 
> GET sip:user@host HTTP/1.1
> 
> would be illegal. (Having a real URI in the request line, like 'GET
> http://www.ieee.org HTTP/1.1' is fine, albeit not common except when
> addressing proxies.)

I agree we should say something about this. Also some wording on what to
do when the URI type is one you don't understand or one that doesn't
make sense in the given context. I believe the BNF already allows any
field to take any URI.

> > I was thinking along the lines of how enum gets integrated into the SIP
> > architecture. We start with a phone number, and this number really is a
> > "name"; using enum, we can translate it to a sip URL, mailto URL, and so
> > on. In many cases, this number is a name for a terminal on the PSTN with
> > the same number. In other words, the tel URL is just a normal POTS line,
> > and this number has no entry in the enum database. Say some IP phone
> > makes a call to tel:1234567. The first outbound proxy uses enum, and
> > finds that this number is not in the database. So, it forwards it to the
> > next hop proxy, using a tel URL in the request URI. This proxy doesn't
> > need to look it up in enum once more, as its been done. A similar issue
> 
> However, somewhere along the way, this has to be translated to a
> gateway. Why would this not be done at the same time?
> 
> The first proxy has to forward this request *somewhere* on the Internet,
> so why not translate this into
> 
> sip:#@somewhere;user=phone
> 
> No information is lost. The next hop will then decide whether this is
> indeed a real phone, with a gateway to be contacted, or this actually
> isn't, due to some other remapping.
> 
> > arises if the first number did exist in enum, but was mapped to another
> > number (tel:1234567 -> tel:2125551213). This is basically LNP. The next
> > hop proxy doesn't need to look up tel:2125551213 in enum.
> 
> This depends on whether enum is a global database or whether certain
> translations are done locally. For example, you could have a global
> translation to a current carrier number ("LNP"), but only the current
> carrier keeps track of whether this number is currently on 24 ga twisted
> pair and 48 Volts or gets IPtone. Thus, it may have to do a second
> look-up anyway.

Right; the idea here is that enum is a global database. Local
translations, of course, can and should occur at each proxy. I guess
since each proxy performs local translation, its that proxies
responsibility to perform any accesses to global databases like enum
that might be needed.

-Jonathan R.

-- 
Jonathan D. Rosenberg                       200 Executive Drive
Chief Scientist                             Suite 210 
dynamicsoft                                 West Orange, NJ 07052
jdrosen@dynamicsoft.com                     FAX:   (732) 741-4778
http://www.cs.columbia.edu/~jdrosen         PHONE: (732) 741-7244
http://www.dynamicsoft.com



From owner-sip-outgoing@lists.research.bell-labs.com  Fri Oct 29 12:00:55 1999
Received: from lists.research.bell-labs.com (lists.research.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA02948
	for <sip-archive@odin.ietf.org>; Fri, 29 Oct 1999 12:00:54 -0400 (EDT)
Received: by lists.research.bell-labs.com (Postfix)
	id 2BB565310; Fri, 29 Oct 1999 11:58:47 -0400 (EDT)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 932DC5311; Fri, 29 Oct 1999 11:58:46 -0400 (EDT)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from bronx.dnrc.bell-labs.com (bronx [135.180.160.8])
	by lists.research.bell-labs.com (Postfix) with ESMTP id 1BCA25310
	for <sip@lists.research.bell-labs.com>; Fri, 29 Oct 1999 11:58:30 -0400 (EDT)
Received: from cs.columbia.edu (ume [135.180.240.103])
	by bronx.dnrc.bell-labs.com (8.9.3/8.9.3) with ESMTP id LAA12257;
	Fri, 29 Oct 1999 11:58:23 -0400 (EDT)
Message-ID: <3819C420.64359BFB@cs.columbia.edu>
Date: Fri, 29 Oct 1999 11:58:24 -0400
From: Henning Schulzrinne <schulzrinne@cs.columbia.edu>
X-Mailer: Mozilla 4.05 [en] (WinNT; U)
MIME-Version: 1.0
To: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
Cc: Rick Workman <rworkman@nortelnetworks.com>,
        Alan Johnston <alan.johnston@wcom.com>,
        SIP List <sip@lists.research.bell-labs.com>
Subject: Re: I-D Action: SIP Call Flows and Service Examples
References: <3814A72D.C14D8CE8@wcom.com> <381726D8.B61A919A@americasm01.nt.com> <38176AEE.82ED4B3F@dynamicsoft.com> <3817B6A1.EF541CD0@cs.columbia.edu> <38185F49.2CD8289F@dynamicsoft.com> <3818E354.AE4FB8D3@cs.columbia.edu> <3819C20B.E1773B09@dynamicsoft.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

> 
> I agree we should say something about this. Also some wording on what to
> do when the URI type is one you don't understand or one that doesn't
> make sense in the given context. I believe the BNF already allows any
> field to take any URI.

Currently, the spec already says:

"If a SIP server receives a request with a URI indicating a scheme other
than SIP which that server does not understand, the server {\MUST}
return a 400 (Bad Request) response.  It {\MUST} do this even if the
\header{To} header field contains a scheme it does understand.
This is because proxies are responsible for processing the
\header{Request-URI}; the \header{To} field is of end-to-end
significance."

Anything beyond that needed?



From owner-sip-outgoing@lists.research.bell-labs.com  Fri Oct 29 12:05:28 1999
Received: from lists.research.bell-labs.com (lists.research.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA03237
	for <sip-archive@odin.ietf.org>; Fri, 29 Oct 1999 12:05:28 -0400 (EDT)
Received: by lists.research.bell-labs.com (Postfix)
	id 5104A5311; Fri, 29 Oct 1999 12:03:23 -0400 (EDT)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id AF6A95312; Fri, 29 Oct 1999 12:03:22 -0400 (EDT)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 2023C5311
	for <sip@lists.research.bell-labs.com>; Fri, 29 Oct 1999 12:03:07 -0400 (EDT)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Fri Oct 29 12:01:40 EDT 1999
Received: from smtprtp1.ntcom.nortel.net ([137.118.22.14]) by dusty; Fri Oct 29 12:00:43 EDT 1999
Received: from zsc4c002.corpwest.baynetworks.com (actually h0295.s86b1.BayNetworks.COM) 
          by smtprtp1.ntcom.nortel.net; Fri, 29 Oct 1999 11:57:47 -0400
Received: from zsc4c006.corpwest.baynetworks.com ([134.177.2.153]) 
          by zsc4c002.corpwest.baynetworks.com 
          with SMTP (Microsoft Exchange Internet Mail Service Version 5.5.2448.0) 
          id VX567Q4N; Fri, 29 Oct 1999 08:57:44 -0700
Received: from long-pc.corpwest.baynetworks.com. (long-pc.corpwest.baynetworks.com [134.177.35.254]) 
          by zsc4c006.corpwest.baynetworks.com 
          with SMTP (Microsoft Exchange Internet Mail Service Version 5.5.2448.0) 
          id VA71NYZ6; Fri, 29 Oct 1999 08:57:44 -0700
Message-Id: <3.0.1.32.19991029085618.00bd5b88@zsc4c006.corpwest.baynetworks.com>
X-Sender: long@zsc4c006.corpwest.baynetworks.com
X-Mailer: Windows Eudora Pro Version 3.0.1 (32)
Date: Fri, 29 Oct 1999 08:56:18 -0700
To: SIP List <sip@lists.research.bell-labs.com>
From: "Lyndon Ong" <long@nortelnetworks.com>
Subject: Re: Detecting DTMF tones on a SIP voice session
In-Reply-To: <3819A828.4300D19A@dynamicsoft.com>
References: <00dd01bf2208$aa4f9c10$122cda18@goliath.ne.mediaone.net>
Mime-Version: 1.0
Content-Type: text/plain; charset="us-ascii"
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk

>> 
>> If SIP is to at the very least match the functionality of ISUP (to say
>> nothing of its areas of great advantage) it will have to (in my humble
>> opinion) incorporate DTMF as an out-band signaling mechanism. 

But ISUP does not do generic DTMF transport - it only transports DTMF that has been recognized by the originating switch as comprising the dialed number.  ISUP will not transport DTMF digits received after call setup, this goes in-band.

Also, DTMF over RTP is independent of whether SIP, Megaco or H.323 is used by the end systems.

Cheers,

L. Ong



From owner-sip-outgoing@lists.research.bell-labs.com  Fri Oct 29 12:25:45 1999
Received: from lists.research.bell-labs.com (lists.research.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA04321
	for <sip-archive@odin.ietf.org>; Fri, 29 Oct 1999 12:25:45 -0400 (EDT)
Received: by lists.research.bell-labs.com (Postfix)
	id 5D9835312; Fri, 29 Oct 1999 12:23:26 -0400 (EDT)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id C319F5314; Fri, 29 Oct 1999 12:23:25 -0400 (EDT)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from grubby.research.bell-labs.com (grubby.research.bell-labs.com [135.104.2.9])
	by lists.research.bell-labs.com (Postfix) with SMTP id D4EBA5312
	for <sip@lists.research.bell-labs.com>; Fri, 29 Oct 1999 12:23:06 -0400 (EDT)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by grubby; Fri Oct 29 12:22:16 EDT 1999
Received: from odisei.com ([195.78.3.169]) by dusty; Fri Oct 29 12:21:20 EDT 1999
Received: from toshjhr.odisei.com (195.78.3.81) by odisei.com with SMTP (Eudora
 Internet Mail Server 2.2.2); Fri, 29 Oct 1999 18:33:43 +0100
Message-Id: <3.0.5.32.19991029173017.00823920@mail.odisei.com>
X-Sender: Jean-Hugues@mail.odisei.com
X-Mailer: QUALCOMM Windows Eudora Light Version 3.0.5 (32)
Date: Fri, 29 Oct 1999 17:30:17 +0200
To: <sip@lists.research.bell-labs.com>
From: Jean-Hugues ROBERT <jhr@odisei.com>
Subject: Re: Detecting DTMF tones on a SIP voice session
In-Reply-To: <3819A828.4300D19A@dynamicsoft.com>
References: <00dd01bf2208$aa4f9c10$122cda18@goliath.ne.mediaone.net>
Mime-Version: 1.0
Content-Type: text/plain; charset="us-ascii"
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk

Hi,

I believe there is a confusion about third party control
& DTMF.

1) Third party control

This is about the remote 'control & observation' of a SIP
call, by a third entity, neither the caller nor the callee.

Example of third party control (Distributed IVR):

	Customer make a Call to Company (INVITE)
	Company SIP Server redirect call to IVR Application (BYE(Also))
	IVR Application redirect Call to Announcement Server (3rparty-INVITE)
	Announcement Server Play 'Greeding + please enter you ID'
	IVR Application receives entered ID (one digit at a time or as a block, INFO)
	IVR Application transfers Call to proper destination (3rparty-BYE(Also))

As you can see the RTP stream never terminates at the IVR Application.
It terminates at the Announcement Server.
However the 'control' is done by the IVR Application, the Announcement Server
is merely a media resource under the control of the IVR Application.

This is a mean to achieve control / media separation, where the media is
handled by a media entity distinct from the control entity.

This separation of concern / untighting between media & control is one of the
advantages of third party control. One can argue that this is already done
in SIP with SDP. However the DTMF issue is not clearly solved.

This achievement was reached in the MGC/MG solution using MGCP (now MEGACO),
as pointed out earlier. Lucent Softswitch (& others) can already get
DTMF without terminating the media.

Something similar in the SIP world would be nice too.

Please note that the media / control distinction is at the heart of the
Intelligent
Network architecture (SS7, more than ISUP).

A simple solution to extend SIP for third party control would be to
consider a SIP endpoint as an '3rd party relay'.
	On receipt of 3rd-INVITE the relay understand that it is in presence
	of a third party initiated call.
	It sends the INVITE as if initiated locally.
	And from now on it proceeds normally but:
		Every message it receives or sends from/to the remote entity
		is 'relayed' (copied, notified) to the 3rd party that initiated
		the call (Notified-Entity).
	That way the 3rd party can 'observe' the call.
	The 3rd party may also 'control' the call (BYE, re-INVITE...), by
	ways of 3rd-BYE...
	Nota: this could be implemented by adding an optionnal parameter
			"Notified-entity:3RD-PARTY-SIP-URL"

Third party control is at the heart of CTI in the enterprise world.

2) DTMF

DTMF signal can be carried with RTP using to solutions:
	Blended with the media stream (G711 payload for example)
	On the media stream with a specific payload (dtmf or tone payload)

Obviously the second solution helps detecting DTMF at the receiving
entity. No DSP is needed to analyse the sound. The detection was
either done in a PSTN-GW or the dtmf payload was directly sent by
the remote entity.

This is nice.

But one can argue that both scheme are in fact 'in-band' signaling.
'out of band' signaling would then mean that another entity, distinct
from the one that receives the media, would receive the dtmf RTP payload.

Unfortunately I do not believe there is a way for a SDP profile to
specify how to achieve that. Maybe we can get by using 2 SDPs, one
for voice (G711 or whatever) and another for DTMF. If this can work
then we can specify distinct entities, one in each SDP.

The previous IVR example becomes:

	Customer make a Call to Company (INVITE)
	Company SIP Server Redirects Call to IVR Application.
	IVR Application act as a proxy and Forwards the Call to
	the Announcement Server, asking for DTMF notifications to
	be delivered to it (INVITE(sdp1,sdp2)).
	When IVR Application receives enough DTMF it transfers the
	initial Call to the proper destination (BYE(Also))
	And then breaks the Annoucement leg (BYE)

In this case the Annoucement Server terminates the 'voice' part of
the RTP Media Steam, and the IVR terminates the 'dtmf' part of the
steam.

Which solution is more SIP, third party control or dual SDPs ?
Are there other ongoing work on that matter ?

Thanks,

Jean-Hugues Robert
Engineering Manager



--------------------------------------------------------------------
jhr@8x8.com                                        "Think globally.
www.8x8.com                                            Act locally."



From owner-sip-outgoing@lists.research.bell-labs.com  Fri Oct 29 12:46:07 1999
Received: from lists.research.bell-labs.com (lists.research.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA05520
	for <sip-archive@odin.ietf.org>; Fri, 29 Oct 1999 12:46:05 -0400 (EDT)
Received: by lists.research.bell-labs.com (Postfix)
	id E13225315; Fri, 29 Oct 1999 12:43:39 -0400 (EDT)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 443475317; Fri, 29 Oct 1999 12:43:39 -0400 (EDT)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 6CD4B5315
	for <sip@lists.research.bell-labs.com>; Fri, 29 Oct 1999 12:43:09 -0400 (EDT)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Fri Oct 29 12:41:11 EDT 1999
Received: from smtprtp1.ntcom.nortel.net ([137.118.22.14]) by dusty; Fri Oct 29 12:40:15 EDT 1999
Received: from zsc4c002.corpwest.baynetworks.com (actually h0295.s86b1.BayNetworks.COM) 
          by smtprtp1.ntcom.nortel.net; Fri, 29 Oct 1999 12:40:54 -0400
Received: from zsc4c006.corpwest.baynetworks.com ([134.177.2.153]) 
          by zsc4c002.corpwest.baynetworks.com 
          with SMTP (Microsoft Exchange Internet Mail Service Version 5.5.2448.0) 
          id VX567SZC; Fri, 29 Oct 1999 09:40:50 -0700
Received: from long-pc.corpwest.baynetworks.com. (long-pc.corpwest.baynetworks.com [134.177.35.254]) 
          by zsc4c006.corpwest.baynetworks.com 
          with SMTP (Microsoft Exchange Internet Mail Service Version 5.5.2448.0) 
          id VA71NZD0; Fri, 29 Oct 1999 09:40:51 -0700
Message-Id: <3.0.1.32.19991029093923.00c5d7dc@zsc4c006.corpwest.baynetworks.com>
X-Sender: long@zsc4c006.corpwest.baynetworks.com
X-Mailer: Windows Eudora Pro Version 3.0.1 (32)
Date: Fri, 29 Oct 1999 09:39:23 -0700
To: Francois Menard List Account <fm-listproc@fmmo.ca>
From: "Lyndon Ong" <long@nortelnetworks.com>
Subject: Re: IPS7 - What is it? Where's the signalling part of it?
Cc: sip@lists.research.bell-labs.com
In-Reply-To: <Pine.LNX.4.20.9910290802290.17584-100000@ns.fmmo.ca>
References: <3817BA91.B0B436DE@obsoft.com>
Mime-Version: 1.0
Content-Type: text/plain; charset="us-ascii"
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk

At 08:03 AM 10/29/99 -0400, Francois Menard List Account wrote:
>
>Unless I am mistaken, what I was able to assess is that IPS7 is the
>proprietary SIGTRAN protocol that Nortel has been shipping for a little
>while.

I think of it more as a "vision thing" ;o) - our view of the architecture for interworking SS7 and IP systems, currently supported in products by non-standard protocols but obviously going towards an open standard in the future...

Cheers,

L. Ong



From owner-sip-outgoing@lists.research.bell-labs.com  Fri Oct 29 15:59:45 1999
Received: from lists.research.bell-labs.com (lists.research.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA15736
	for <sip-archive@odin.ietf.org>; Fri, 29 Oct 1999 15:59:44 -0400 (EDT)
Received: by lists.research.bell-labs.com (Postfix)
	id 3734F5314; Fri, 29 Oct 1999 15:57:24 -0400 (EDT)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 8CA9B5316; Fri, 29 Oct 1999 15:57:23 -0400 (EDT)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 7BC085314
	for <sip@lists.research.bell-labs.com>; Fri, 29 Oct 1999 15:57:08 -0400 (EDT)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Fri Oct 29 15:56:01 EDT 1999
Received: from wodc7mr3.ffx.ops.us.uu.net ([192.48.96.19]) by dusty; Fri Oct 29 15:55:05 EDT 1999
Received: from dynamicsoft.com by wodc7mr3.ffx.ops.us.uu.net with ESMTP 
	(peer crosschecked as: [63.72.186.56])
	id QQhnbj11598
	for <sip@lists.research.bell-labs.com>; Fri, 29 Oct 1999 19:59:32 GMT
Message-ID: <3819FC1D.C0D23E40@dynamicsoft.com>
Date: Fri, 29 Oct 1999 15:57:17 -0400
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
Organization: Dynamicsoft
X-Mailer: Mozilla 4.7 [en] (Win98; U)
X-Accept-Language: en
MIME-Version: 1.0
To: sip@lists.research.bell-labs.com
Subject: Interim meeting: registration and room correction
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

Folks,

This is a reminder that there will be an interim meeting of the SIP
working group on Sunday, November 7th. This is the day before IETF. Its
from 10am to 7pm in the *Empire Room* (not the Olympia room as formerly
announced). The agenda is as follows:

10:00 to 11:15: DCS presentation
11:15 to 11:30: Break
11:30 to 12:45: DCS presentation
12:45 to 14:15: Lunch (not provide, brown bag or go out)
14:15 to 15:30: DCS presentation
15:30 to 15:45: Break
15:45 to 17:00; Discussion
17:00 to 17:15: Break
17:15 to 19:00: Discussion (refreshments smuggled from social room?)

In order to get a head count, we'd like people to pre-register. If you
don't pre-register, you can still show up. But, it will help us with
some administrative details so we'd prefer it if you do register.

To register, just send an email to sip-registration@dynamicsoft.com, and
include your name and email address in the message. 

Thanks,
sip wg co-chairs
Jonathan, Dean and Joerg


-- 
Jonathan D. Rosenberg                       200 Executive Drive
Chief Scientist                             Suite 210 
dynamicsoft                                 West Orange, NJ 07052
jdrosen@dynamicsoft.com                     FAX:   (732) 741-4778
http://www.cs.columbia.edu/~jdrosen         PHONE: (732) 741-7244
http://www.dynamicsoft.com



From owner-sip-outgoing@lists.research.bell-labs.com  Fri Oct 29 16:03:37 1999
Received: from lists.research.bell-labs.com (lists.research.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id QAA15987
	for <sip-archive@odin.ietf.org>; Fri, 29 Oct 1999 16:03:35 -0400 (EDT)
Received: by lists.research.bell-labs.com (Postfix)
	id 207F05317; Fri, 29 Oct 1999 16:01:29 -0400 (EDT)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 1E2515316; Fri, 29 Oct 1999 16:01:27 -0400 (EDT)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 204875317
	for <sip@lists.research.bell-labs.com>; Fri, 29 Oct 1999 16:01:09 -0400 (EDT)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Fri Oct 29 15:59:43 EDT 1999
Received: from chmls05.mediaone.net ([24.128.1.70]) by dusty; Fri Oct 29 15:58:46 EDT 1999
Received: from goliath (ggirard.ne.mediaone.net [24.218.44.18])
	by chmls05.mediaone.net (8.8.7/8.8.7) with ESMTP id PAA01237;
	Fri, 29 Oct 1999 15:59:39 -0400 (EDT)
Message-ID: <014101bf2248$2f8ad2c0$122cda18@goliath.ne.mediaone.net>
Reply-To: "Gregory D. Girard" <ggirard@mediaone.net>
From: "Gregory D. Girard" <ggirard@mediaone.net>
To: <sip@lists.research.bell-labs.com>, "Jean-Hugues ROBERT" <jhr@odisei.com>
Subject: Re: Detecting DTMF tones on a SIP voice session
Date: Fri, 29 Oct 1999 16:00:01 -0400
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 4.72.2106.4
X-MimeOLE: Produced By Microsoft MimeOLE V4.72.2106.4
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

Jean-Hughes,
You have provided a much more clear explanation of the problem I have been
trying to solve.
I attempted to clarify this scenario in a few descriptions, however you said
it better than I did.
I believe that your point (and my point) argues strongly for incorporating
DTMF information into SIP
for all connection modes, including a third-party mode where the participant
does not reside at
either endpoint. Using the RTP stream, even if it contains simple DTMF digit
information in binary form,
is still going to send it to the wrong place in certain circumstances.

Regards,

Greg Girard
CTO
Iperia, Inc.

-----Original Message-----
From: Jean-Hugues ROBERT <jhr@odisei.com>
To: sip@lists.research.bell-labs.com <sip@lists.research.bell-labs.com>
Date: Friday, October 29, 1999 12:25 PM
Subject: Re: Detecting DTMF tones on a SIP voice session


>Hi,
>
>I believe there is a confusion about third party control
>& DTMF.
>
>1) Third party control
>
>This is about the remote 'control & observation' of a SIP
>call, by a third entity, neither the caller nor the callee.
>
>Example of third party control (Distributed IVR):
>
> Customer make a Call to Company (INVITE)
> Company SIP Server redirect call to IVR Application (BYE(Also))
> IVR Application redirect Call to Announcement Server (3rparty-INVITE)
> Announcement Server Play 'Greeding + please enter you ID'
> IVR Application receives entered ID (one digit at a time or as a block,
INFO)
> IVR Application transfers Call to proper destination (3rparty-BYE(Also))
>
>As you can see the RTP stream never terminates at the IVR Application.
>It terminates at the Announcement Server.
>However the 'control' is done by the IVR Application, the Announcement
Server
>is merely a media resource under the control of the IVR Application.
>
>This is a mean to achieve control / media separation, where the media is
>handled by a media entity distinct from the control entity.
>
>This separation of concern / untighting between media & control is one of
the
>advantages of third party control. One can argue that this is already done
>in SIP with SDP. However the DTMF issue is not clearly solved.
>
>This achievement was reached in the MGC/MG solution using MGCP (now
MEGACO),
>as pointed out earlier. Lucent Softswitch (& others) can already get
>DTMF without terminating the media.
>
>Something similar in the SIP world would be nice too.
>
>Please note that the media / control distinction is at the heart of the
>Intelligent
>Network architecture (SS7, more than ISUP).
>
>A simple solution to extend SIP for third party control would be to
>consider a SIP endpoint as an '3rd party relay'.
> On receipt of 3rd-INVITE the relay understand that it is in presence
> of a third party initiated call.
> It sends the INVITE as if initiated locally.
> And from now on it proceeds normally but:
> Every message it receives or sends from/to the remote entity
> is 'relayed' (copied, notified) to the 3rd party that initiated
> the call (Notified-Entity).
> That way the 3rd party can 'observe' the call.
> The 3rd party may also 'control' the call (BYE, re-INVITE...), by
> ways of 3rd-BYE...
> Nota: this could be implemented by adding an optionnal parameter
> "Notified-entity:3RD-PARTY-SIP-URL"
>
>Third party control is at the heart of CTI in the enterprise world.
>
>2) DTMF
>
>DTMF signal can be carried with RTP using to solutions:
> Blended with the media stream (G711 payload for example)
> On the media stream with a specific payload (dtmf or tone payload)
>
>Obviously the second solution helps detecting DTMF at the receiving
>entity. No DSP is needed to analyse the sound. The detection was
>either done in a PSTN-GW or the dtmf payload was directly sent by
>the remote entity.
>
>This is nice.
>
>But one can argue that both scheme are in fact 'in-band' signaling.
>'out of band' signaling would then mean that another entity, distinct
>from the one that receives the media, would receive the dtmf RTP payload.
>
>Unfortunately I do not believe there is a way for a SDP profile to
>specify how to achieve that. Maybe we can get by using 2 SDPs, one
>for voice (G711 or whatever) and another for DTMF. If this can work
>then we can specify distinct entities, one in each SDP.
>
>The previous IVR example becomes:
>
> Customer make a Call to Company (INVITE)
> Company SIP Server Redirects Call to IVR Application.
> IVR Application act as a proxy and Forwards the Call to
> the Announcement Server, asking for DTMF notifications to
> be delivered to it (INVITE(sdp1,sdp2)).
> When IVR Application receives enough DTMF it transfers the
> initial Call to the proper destination (BYE(Also))
> And then breaks the Annoucement leg (BYE)
>
>In this case the Annoucement Server terminates the 'voice' part of
>the RTP Media Steam, and the IVR terminates the 'dtmf' part of the
>steam.
>
>Which solution is more SIP, third party control or dual SDPs ?
>Are there other ongoing work on that matter ?
>
>Thanks,
>
>Jean-Hugues Robert
>Engineering Manager
>
>
>
>--------------------------------------------------------------------
>jhr@8x8.com                                        "Think globally.
>www.8x8.com                                            Act locally."
>




From owner-sip-outgoing@lists.research.bell-labs.com  Fri Oct 29 16:07:17 1999
Received: from lists.research.bell-labs.com (lists.research.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id QAA16048
	for <sip-archive@odin.ietf.org>; Fri, 29 Oct 1999 16:07:16 -0400 (EDT)
Received: by lists.research.bell-labs.com (Postfix)
	id CF1905316; Fri, 29 Oct 1999 16:05:22 -0400 (EDT)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 25C3D5319; Fri, 29 Oct 1999 16:05:21 -0400 (EDT)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 3C2AB5316
	for <sip@lists.research.bell-labs.com>; Fri, 29 Oct 1999 16:05:08 -0400 (EDT)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Fri Oct 29 16:04:59 EDT 1999
Received: from wodc7mr3.ffx.ops.us.uu.net ([192.48.96.19]) by dusty; Fri Oct 29 16:04:03 EDT 1999
Received: from dynamicsoft.com by wodc7mr3.ffx.ops.us.uu.net with ESMTP 
	(peer crosschecked as: [63.72.186.56])
	id QQhnbk25162;
	Fri, 29 Oct 1999 20:07:16 GMT
Message-ID: <3819FDED.B9D1DC86@dynamicsoft.com>
Date: Fri, 29 Oct 1999 16:05:01 -0400
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
Organization: Dynamicsoft
X-Mailer: Mozilla 4.7 [en] (Win98; U)
X-Accept-Language: en
MIME-Version: 1.0
To: Henning Schulzrinne <schulzrinne@cs.columbia.edu>
Cc: Rick Workman <rworkman@nortelnetworks.com>,
        Alan Johnston <alan.johnston@wcom.com>,
        SIP List <sip@lists.research.bell-labs.com>
Subject: Re: I-D Action: SIP Call Flows and Service Examples
References: <3814A72D.C14D8CE8@wcom.com> <381726D8.B61A919A@americasm01.nt.com> <38176AEE.82ED4B3F@dynamicsoft.com> <3817B6A1.EF541CD0@cs.columbia.edu> <38185F49.2CD8289F@dynamicsoft.com> <3818E354.AE4FB8D3@cs.columbia.edu> <3819C20B.E1773B09@dynamicsoft.com> <3819C420.64359BFB@cs.columbia.edu>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit



Henning Schulzrinne wrote:
> 
> >
> > I agree we should say something about this. Also some wording on what to
> > do when the URI type is one you don't understand or one that doesn't
> > make sense in the given context. I believe the BNF already allows any
> > field to take any URI.
> 
> Currently, the spec already says:
> 
> "If a SIP server receives a request with a URI indicating a scheme other
> than SIP which that server does not understand, the server {\MUST}
> return a 400 (Bad Request) response.  It {\MUST} do this even if the
> \header{To} header field contains a scheme it does understand.
> This is because proxies are responsible for processing the
> \header{Request-URI}; the \header{To} field is of end-to-end
> significance."

I don't think this rule would apply for Contact headers in
registrations. If the server is acting as a redirect server, it doesn't
need to understand anything about the request. We should also explain
that other URIs are allowed, and perhaps mention the telephony URL as an
example, and that the function of the proxy is to translate the request
URI, whatever it may be, based on any logic at its disposal.

-Jonathan R.
-- 
Jonathan D. Rosenberg                       200 Executive Drive
Chief Scientist                             Suite 210 
dynamicsoft                                 West Orange, NJ 07052
jdrosen@dynamicsoft.com                     FAX:   (732) 741-4778
http://www.cs.columbia.edu/~jdrosen         PHONE: (732) 741-7244
http://www.dynamicsoft.com



From owner-sip-outgoing@lists.research.bell-labs.com  Fri Oct 29 19:10:42 1999
Received: from lists.research.bell-labs.com (lists.research.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id TAA24505
	for <sip-archive@odin.ietf.org>; Fri, 29 Oct 1999 19:10:41 -0400 (EDT)
Received: by lists.research.bell-labs.com (Postfix)
	id C8950531B; Fri, 29 Oct 1999 19:08:34 -0400 (EDT)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 4C179531C; Fri, 29 Oct 1999 19:08:33 -0400 (EDT)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from bronx.dnrc.bell-labs.com (bronx [135.180.160.8])
	by lists.research.bell-labs.com (Postfix) with ESMTP id 7D256531B
	for <sip@lists.research.bell-labs.com>; Fri, 29 Oct 1999 19:08:18 -0400 (EDT)
Received: from cs.columbia.edu (ume [135.180.240.103])
	by bronx.dnrc.bell-labs.com (8.9.3/8.9.3) with ESMTP id TAA23463;
	Fri, 29 Oct 1999 19:08:13 -0400 (EDT)
Message-ID: <381A28DF.1C1CDE79@cs.columbia.edu>
Date: Fri, 29 Oct 1999 19:08:15 -0400
From: Henning Schulzrinne <schulzrinne@cs.columbia.edu>
X-Mailer: Mozilla 4.05 [en] (WinNT; U)
MIME-Version: 1.0
To: Igor Slepchin <igors@dnrc.bell-labs.com>
Cc: sip@lists.research.bell-labs.com
Subject: Re: Detecting DTMF tones on a SIP voice session
References: <00dd01bf2208$aa4f9c10$122cda18@goliath.ne.mediaone.net> <3.0.5.32.19991029173017.00823920@mail.odisei.com> <381A2717.A0C7FCBE@dnrc.bell-labs.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

Igor Slepchin wrote:
> 
> Jean-Hugues ROBERT wrote:
> >

> 
> v=0
> o=bob 5675785768 IN IP4 host.example.com
> s=DTMF example
> m=audio 48906 RTP/AVP 0
> c=IN IP4 host.example.com
> a=rtpmap:0 PCMU/8000
> m=audio 76990 RTP/AVP 100
> c=IN IP4 ivr.example.com
> a=rtpmap:100 dtmf_tone/8000
> 
> RFC2543 never defines this kind of payloads but I don't think that it
> specifically disables this either.

Since SIP tries to be session-description-neutral, it shouldn't have to
say anything about this. Yes, having different destination addresses
might actually be quite common, even beyond DTMF. Imagine, for example,
a videophone, with audio going to an Internet phone and video to the PC
next to it. The PC would act as the MGC, for example. Or you could have
several video screens for a whole video wall for large conferences.

> Also, I am not sure what the encoding
> name for DTMF stream should be since draft-ietf-avt-tones-02.txt only
> defines the MIME types, audio/tone and audio/telephone-event.

I believe they are defined as 'tone' and 'telephone-event' in the draft:

e.g., "The RTP payload format is designated as ``telephone-event'', the
MIME type as
``audio/telephone-event''."



From owner-sip-outgoing@lists.research.bell-labs.com  Fri Oct 29 19:37:01 1999
Received: from lists.research.bell-labs.com (lists.research.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id TAA29745
	for <sip-archive@odin.ietf.org>; Fri, 29 Oct 1999 19:37:00 -0400 (EDT)
Received: by lists.research.bell-labs.com (Postfix)
	id 18F44531A; Fri, 29 Oct 1999 18:50:28 -0400 (EDT)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 792AE531B; Fri, 29 Oct 1999 18:50:27 -0400 (EDT)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from nova.dnrc.bell-labs.com (nova [135.180.131.5])
	by lists.research.bell-labs.com (Postfix) with ESMTP id B16D1531A
	for <sip@lists.research.bell-labs.com>; Fri, 29 Oct 1999 18:50:11 -0400 (EDT)
Received: from dnrc.bell-labs.com (igorspc.dnrc.bell-labs.com [135.180.130.146])
	by nova.dnrc.bell-labs.com (8.9.3/8.9.3) with ESMTP id SAA09947
	for <sip@lists.research.bell-labs.com>; Fri, 29 Oct 1999 18:50:07 -0400 (EDT)
Message-ID: <381A2717.A0C7FCBE@dnrc.bell-labs.com>
Date: Fri, 29 Oct 1999 19:00:39 -0400
From: Igor Slepchin <igors@dnrc.bell-labs.com>
Organization: Bell Labs
X-Mailer: Mozilla 4.61 [en] (WinNT; U)
X-Accept-Language: en,ru
MIME-Version: 1.0
To: sip@lists.research.bell-labs.com
Subject: Re: Detecting DTMF tones on a SIP voice session
References: <00dd01bf2208$aa4f9c10$122cda18@goliath.ne.mediaone.net> <3.0.5.32.19991029173017.00823920@mail.odisei.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

Jean-Hugues ROBERT wrote:
> 
> 2) DTMF
> 
> But one can argue that both scheme are in fact 'in-band' signaling.
> 'out of band' signaling would then mean that another entity, distinct
> from the one that receives the media, would receive the dtmf RTP payload.
> 
> Unfortunately I do not believe there is a way for a SDP profile to
> specify how to achieve that. Maybe we can get by using 2 SDPs, one
> for voice (G711 or whatever) and another for DTMF. If this can work
> then we can specify distinct entities, one in each SDP.

Actually, SDP allows specifying multiple media streams with different
connection parameters (c= lines) within a single SDP session. Thus, you
could use the following SDP payload to have DTMF stream sent to a
different entity than the media stream:

v=0
o=bob 5675785768 IN IP4 host.example.com
s=DTMF example
m=audio 48906 RTP/AVP 0
c=IN IP4 host.example.com
a=rtpmap:0 PCMU/8000
m=audio 76990 RTP/AVP 100
c=IN IP4 ivr.example.com
a=rtpmap:100 dtmf_tone/8000

RFC2543 never defines this kind of payloads but I don't think that it
specifically disables this either. Also, I am not sure what the encoding
name for DTMF stream should be since draft-ietf-avt-tones-02.txt only
defines the MIME types, audio/tone and audio/telephone-event.

---
Igor Slepchin



From owner-sip-outgoing@lists.research.bell-labs.com  Fri Oct 29 23:03:30 1999
Received: from lists.research.bell-labs.com (lists.research.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id XAA14596
	for <sip-archive@odin.ietf.org>; Fri, 29 Oct 1999 23:03:30 -0400 (EDT)
Received: by lists.research.bell-labs.com (Postfix)
	id A1589531C; Fri, 29 Oct 1999 23:01:22 -0400 (EDT)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id F3076531D; Fri, 29 Oct 1999 23:01:21 -0400 (EDT)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from grubby.research.bell-labs.com (grubby.research.bell-labs.com [135.104.2.9])
	by lists.research.bell-labs.com (Postfix) with SMTP id D7AC4531C
	for <sip@lists.research.bell-labs.com>; Fri, 29 Oct 1999 23:01:06 -0400 (EDT)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by grubby; Fri Oct 29 23:00:37 EDT 1999
Received: from www.obsoft.com ([209.128.67.121]) by dusty; Fri Oct 29 22:59:41 EDT 1999
Received: from obsoft.com (sardana@localhost [127.0.0.1]) by www.obsoft.com (8.6.12/8.6.9) with ESMTP id VAA26983; Fri, 29 Oct 1999 21:05:42 -0500
Message-ID: <381A5276.CAAB99E0@obsoft.com>
Date: Fri, 29 Oct 1999 21:05:42 -0500
From: Bobby Sardana <sardana@obsoft.com>
Organization: ObjectSoftware, Inc.
X-Mailer: Mozilla 4.04 [en] (X11; I; Linux 2.0.33 i586)
MIME-Version: 1.0
To: Lyndon Ong <long@nortelnetworks.com>
Cc: Francois Menard List Account <fm-listproc@fmmo.ca>,
        sip@lists.research.bell-labs.com
Subject: Re: IPS7 - What is it? Where's the signalling part of it?
References: <3817BA91.B0B436DE@obsoft.com> <3.0.1.32.19991029093923.00c5d7dc@zsc4c006.corpwest.baynetworks.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

Lyndon Ong wrote:

> At 08:03 AM 10/29/99 -0400, Francois Menard List Account wrote:
> >
> >Unless I am mistaken, what I was able to assess is that IPS7 is the
> >proprietary SIGTRAN protocol that Nortel has been shipping for a little
> >while.
>
> I think of it more as a "vision thing" ;o) - our view of the architecture for interworking SS7 and IP systems, currently supported in products by non-standard protocols but obviously going towards an open standard in the future...

Is there a possibility that when moving towards open standards IPS7 would incorporate SIP-BCP for signalling?

Bobby Sardana.
sardana@obsoft.com




From owner-sip-outgoing@lists.research.bell-labs.com  Sun Oct 31 19:43:47 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id TAA03465
	for <sip-archive@odin.ietf.org>; Sun, 31 Oct 1999 19:43:46 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 1665652E2; Sun, 31 Oct 1999 19:41:25 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 75E1752EA; Sun, 31 Oct 1999 19:41:24 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from grubby.research.bell-labs.com (grubby.research.bell-labs.com [135.104.2.9])
	by lists.research.bell-labs.com (Postfix) with SMTP id BC62052E2
	for <sip@lists.research.bell-labs.com>; Sun, 31 Oct 1999 19:41:08 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by grubby; Sun Oct 31 19:40:18 EST 1999
Received: from hubbub.cisco.com ([171.69.11.2]) by dusty; Sun Oct 31 19:39:20 EST 1999
Received: from OranLT ([171.69.210.11]) by hubbub.cisco.com (8.8.5-Cisco.2-SunOS.5.5.1.sun4/CISCO.GATE.1.1) with SMTP id QAA01335; Sun, 31 Oct 1999 16:40:15 -0800 (PST)
From: "David R. Oran" <oran@cisco.com>
To: "Donovan, Steven R." <Steven.R.Donovan@wcom.com>,
        <sip@lists.research.bell-labs.com>
Subject: RE: Some initial queries/comments on draft-ietf-sip-183-00.txt
Date: Sun, 31 Oct 1999 19:40:57 -0500
Message-ID: <NDBBKHCGKKIOOIJEGCOEEEHLCKAA.oran@cisco.com>
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0000_01BF23D7.DA611700"
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
Importance: Normal
In-Reply-To: <75C79E507864D3118AFC00805FEAB7D8018F2E@ripexch001.mcit.com>
X-MimeOLE: Produced By Microsoft MimeOLE V5.00.2314.1300
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk

This is a multi-part message in MIME format.

------=_NextPart_000_0000_01BF23D7.DA611700
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit

RE: Some initial queries/comments on draft-ietf-sip-183-00.txtSome
clarifications:
  -----Original Message-----
  From: Donovan, Steven R. [mailto:Steven.R.Donovan@wcom.com]
  Sent: Thursday, October 28, 1999 10:48 AM
  To: 'David R. Oran'; sip@lists.research.bell-labs.com
  Subject: RE: Some initial queries/comments on draft-ietf-sip-183-00.txt


  Dave,

  Thanks for the comments.  Please see my comments below.

  Steve

  -----Original Message-----
  From: David R. Oran [mailto:oran@cisco.com]
  Sent: Monday, October 25, 1999 1:05 PM
  To: sip@lists.research.bell-labs.com
  Subject: Some initial queries/comments on draft-ietf-sip-183-00.txt



  Thanks for all the careful work on this guys! Here are few questions and
  comments based on my initial reading:

  1) you don't make clear which pieces of this are intended to be specific
to
  the 183 response message and what pieces are intended to be generic. For
  example, it would seem that the "Session: media/qos/security" header is
much
  more generic. In the abstract and introduction, it might be best to say
  you're making TWO extensions to SIP, the Session header, and the 183
  response.

  SRD> I agree.  This is an artifact of the concept being agreed to at a
late date and my not having enough time to craft the draft in the manner you
suggest.

  2) This may just be me having shell shock flashbacks to my ISO days, but I
  cringe when I read all these "shalls" in section 2.1. All of them read
much
  better if replaced by "should".

  SRD> My apologies for inducing nightmares.  However, section 2.1 is there
to outline the requirements by which the solution to the PSTN interworking
issue is measured.  If the solution (in this case, 183 and the Session
header) does not support all of these requirements than it is not a
sufficient solution.  These are not protocol level requirements statements.

  Eventually we will run into an editing problem if this winds up an
independent RFC, because IETF-speak does not have a well-defined normative
meaning for SHALL, and forces you to define your terms. I don't think this
is such a big deal, but the fact is that either the requirements make sense
or they don't and putting strong language doesn't really affect the outcome.
As the silly Yoda-ism says, "either do or not do". Perhaps the rest of the
WG doesn't have such a kneee-jerk reaction to ITU-speak.

  3) following on from the logic above in point 1, it is implied but not
  stated that the "Session": header could be placed on the initial (or
  subsequent) INVITE. This certainly makes sense for the qos & security
forms,
  and could conceivably be useful for the "media" form as well.

  SRD> I'd like to hear other opinions on this one.  I have received some
pushback in the past when I proposed this.  I personally agree that it would
be useful for the QoS and Security cases.  I'm not sure I see an example for
the media case, at least not until we have session descriptions that do not
imply media.

  I don't have a good example for media either, except perhaps some kind of
SIP-based announcement service.

  4) I know this may be a can of worms, but if we ever want to allow
multiple
  SDP bodies in SIP messages it would behoove us to ensure that headers that
  refer to body part treatment can explicitly say WHICH body instance they
  refer to.

  SRD> Worms can get so messy...  Why would there be a need for multiple SDP
message bodies?

  Prediction is a difficult matter, expecially if it involves the future.
This may be stretching too much for an example, but imagine perhaps having a
SIP call for which you could choose to  participate in one of two sessions.
One session is multicast with a layered coder and the second describes how
to talk to an MCU.

  5) the MUSTs in section 4.2/4.3 seem a bit strong. Nothing breaks if the
  sender is slow or sloppy at stopping; the user might get some mixed audio
or
  be annoyed though. While I can't off the top of my head think of any
  positive use for the continued transmission (maybe the "call is being
  monitored" beep tone...") I'd like to hear why such strong prohibition is
  called for. There is also the philosophical question of what actually
  constitutes "temporary" media, especially in the case where the SDP
  describing the "permanent" media is identical to the SDP describing the
  "temporary" media.

  SRD> I agree.  I will change this unless I hear other arguments.

  6) Section 4.4, second paragraph. While I see that 183 may not be
  appropriate for ringing, forwarding, or queued (since we have other
  responses for these), the used of Session: media may be perfectly
  appropriate. Is this just another instance of not becing clear about the
  relative independence of the Session: header and the 183 response?

  SRD> I don't see that paragraph indicating that a 183 with Session: media
is not valid.  Am I missing something?

  What I was getting at is that the text seems to imply that this draft only
defines the behavior of Session: when carried in a 183 response, whereas I
would like it to define the sematics of Session: for all 1xx responses.

  Dave.


------=_NextPart_000_0000_01BF23D7.DA611700
Content-Type: text/html;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML><HEAD><TITLE>RE: Some initial queries/comments on =
draft-ietf-sip-183-00.txt</TITLE>
<META content=3D"text/html; charset=3Diso-8859-1" =
http-equiv=3DContent-Type>
<META content=3D"MSHTML 5.00.2721.2900" name=3DGENERATOR></HEAD>
<BODY>
<DIV><FONT color=3D#0000ff face=3DArial size=3D2><SPAN =
class=3D290590119-31101999>Some=20
clarifications:</SPAN></FONT></DIV>
<BLOCKQUOTE=20
style=3D"BORDER-LEFT: #0000ff 2px solid; MARGIN-LEFT: 5px; MARGIN-RIGHT: =
0px; PADDING-LEFT: 5px">
  <DIV align=3Dleft class=3DOutlookMessageHeader dir=3Dltr><FONT =
face=3DTahoma=20
  size=3D2>-----Original Message-----<BR><B>From:</B> Donovan, Steven R. =

  [mailto:Steven.R.Donovan@wcom.com]<BR><B>Sent:</B> Thursday, October =
28, 1999=20
  10:48 AM<BR><B>To:</B> 'David R. Oran';=20
  sip@lists.research.bell-labs.com<BR><B>Subject:</B> RE: Some initial=20
  queries/comments on draft-ietf-sip-183-00.txt<BR><BR></DIV></FONT>
  <P><FONT size=3D2>Dave,</FONT> </P>
  <P><FONT size=3D2>Thanks for the comments.&nbsp; Please see my =
comments=20
  below.</FONT> </P>
  <P><FONT size=3D2>Steve</FONT> </P>
  <P><FONT size=3D2>-----Original Message-----</FONT> <BR><FONT =
size=3D2>From: David=20
  R. Oran [<A =
href=3D"mailto:oran@cisco.com">mailto:oran@cisco.com</A>]</FONT>=20
  <BR><FONT size=3D2>Sent: Monday, October 25, 1999 1:05 PM</FONT> =
<BR><FONT=20
  size=3D2>To: sip@lists.research.bell-labs.com</FONT> <BR><FONT =
size=3D2>Subject:=20
  Some initial queries/comments on draft-ietf-sip-183-00.txt</FONT> =
</P><BR>
  <P><FONT size=3D2>Thanks for all the careful work on this guys! Here =
are few=20
  questions and</FONT> <BR><FONT size=3D2>comments based on my initial=20
  reading:</FONT> </P>
  <P><FONT size=3D2>1) you don't make clear which pieces of this are =
intended to=20
  be specific to</FONT> <BR><FONT size=3D2>the 183 response message and =
what=20
  pieces are intended to be generic. For</FONT> <BR><FONT =
size=3D2>example, it=20
  would seem that the "Session: media/qos/security" header is =
much</FONT>=20
  <BR><FONT size=3D2>more generic. In the abstract and introduction, it =
might be=20
  best to say</FONT> <BR><FONT size=3D2>you're making TWO extensions to =
SIP, the=20
  Session header, and the 183</FONT> <BR><FONT size=3D2>response.</FONT> =
</P>
  <P><FONT size=3D2>SRD&gt; I agree.&nbsp; This is an artifact of the =
concept=20
  being agreed to at a late date and my not having enough time to craft =
the=20
  draft in the manner you suggest.</FONT></P>
  <P><FONT size=3D2>2) This may just be me having shell shock flashbacks =
to my ISO=20
  days, but I</FONT> <BR><FONT size=3D2>cringe when I read all these =
"shalls" in=20
  section 2.1. All of them read much</FONT> <BR><FONT size=3D2>better if =
replaced=20
  by "should".</FONT> </P>
  <P><FONT size=3D2>SRD&gt; My apologies for inducing nightmares.&nbsp; =
However,=20
  section 2.1 is there to outline the requirements by which the solution =
to the=20
  PSTN interworking issue is measured.&nbsp; If the solution (in this =
case, 183=20
  and the Session header) does not support all of these requirements =
than it is=20
  not a sufficient solution.&nbsp; These are not protocol level =
requirements=20
  statements.<FONT color=3D#0000ff face=3DArial><SPAN=20
  class=3D290590119-31101999>&nbsp;</SPAN></FONT></FONT></P>
  <P><FONT size=3D2><FONT color=3D#0000ff face=3DArial><SPAN=20
  class=3D290590119-31101999>Eventually we will run into an editing =
problem if=20
  this winds up an independent RFC, because IETF-speak does not have a=20
  well-defined normative meaning for SHALL, and&nbsp;forces you to =
define your=20
  terms. I don't think this is such a big deal, but the fact is that =
either the=20
  requirements make sense or they don't and putting strong language =
doesn't=20
  really affect the outcome. As the silly&nbsp;Yoda-ism says, "either =
do&nbsp;or=20
  not do". Perhaps the rest of the WG doesn't have such a kneee-jerk =
reaction to=20
  ITU-speak.</SPAN></FONT></FONT></P>
  <P><FONT size=3D2>3) following on from the logic above in point 1, it =
is implied=20
  but not</FONT> <BR><FONT size=3D2>stated that the "Session": header =
could be=20
  placed on the initial (or</FONT> <BR><FONT size=3D2>subsequent) =
INVITE. This=20
  certainly makes sense for the qos &amp; security forms,</FONT> =
<BR><FONT=20
  size=3D2>and could conceivably be useful for the "media" form as =
well.</FONT>=20
  </P>
  <P><FONT size=3D2>SRD&gt; I'd like to hear other opinions on this =
one.&nbsp; I=20
  have received some pushback in the past when I proposed this.&nbsp; I=20
  personally agree that it would be useful for the QoS and Security =
cases.&nbsp;=20
  I'm not sure I see an example for the media case, at least not until =
we have=20
  session descriptions that do not imply media.<FONT color=3D#0000ff=20
  face=3DArial><SPAN =
class=3D290590119-31101999>&nbsp;</SPAN></FONT></FONT></P>
  <P><FONT size=3D2><FONT color=3D#0000ff face=3DArial><SPAN=20
  class=3D290590119-31101999>I don't have a good&nbsp;example for media =
either,=20
  except perhaps some kind of SIP-based announcement=20
  service.&nbsp;</SPAN></FONT></FONT></P>
  <P><FONT size=3D2>4) I know this may be a can of worms, but if we ever =
want to=20
  allow multiple</FONT> <BR><FONT size=3D2>SDP bodies in SIP messages it =
would=20
  behoove us to ensure that headers that</FONT> <BR><FONT size=3D2>refer =
to body=20
  part treatment can explicitly say WHICH body instance they</FONT> =
<BR><FONT=20
  size=3D2>refer to.</FONT> </P>
  <P><FONT size=3D2>SRD&gt; Worms can get so messy...&nbsp; Why would =
there be a=20
  need for multiple SDP message bodies?</FONT>&nbsp;<FONT =
color=3D#0000ff=20
  face=3DArial size=3D2><SPAN =
class=3D290590119-31101999>&nbsp;</SPAN></FONT></P>
  <P><FONT color=3D#0000ff face=3DArial size=3D2><SPAN=20
  class=3D290590119-31101999>Prediction is a difficult matter, =
expecially if it=20
  involves the future. This may be stretching too much for an example,=20
  but&nbsp;imagine perhaps having a SIP call for which you could choose =
to=20
  &nbsp;participate in one of two sessions. One session is multicast =
with a=20
  layered coder and the second describes how to talk to an=20
MCU.</SPAN></FONT></P>
  <P><FONT size=3D2>5) the MUSTs in section 4.2/4.3 seem a bit strong. =
Nothing=20
  breaks if the</FONT> <BR><FONT size=3D2>sender is slow or sloppy at =
stopping;=20
  the user might get some mixed audio or</FONT> <BR><FONT size=3D2>be =
annoyed=20
  though. While I can't off the top of my head think of any</FONT> =
<BR><FONT=20
  size=3D2>positive use for the continued transmission (maybe the "call =
is=20
  being</FONT> <BR><FONT size=3D2>monitored" beep tone...") I'd like to =
hear why=20
  such strong prohibition is</FONT> <BR><FONT size=3D2>called for. There =
is also=20
  the philosophical question of what actually</FONT> <BR><FONT=20
  size=3D2>constitutes "temporary" media, especially in the case where =
the=20
  SDP</FONT> <BR><FONT size=3D2>describing the "permanent" media is =
identical to=20
  the SDP describing the</FONT> <BR><FONT size=3D2>"temporary" =
media.</FONT> </P>
  <P><FONT size=3D2>SRD&gt; I agree.&nbsp; I will change this unless I =
hear other=20
  arguments.</FONT> </P>
  <P><FONT size=3D2>6) Section 4.4, second paragraph. While I see that =
183 may not=20
  be</FONT> <BR><FONT size=3D2>appropriate for ringing, forwarding, or =
queued=20
  (since we have other</FONT> <BR><FONT size=3D2>responses for these), =
the used of=20
  Session: media may be perfectly</FONT> <BR><FONT size=3D2>appropriate. =
Is this=20
  just another instance of not becing clear about the</FONT> <BR><FONT=20
  size=3D2>relative independence of the Session: header and the 183=20
  response?</FONT> </P>
  <P><FONT size=3D2>SRD&gt; I don't see that paragraph indicating that a =
183 with=20
  Session: media is not valid.&nbsp; Am I missing =
something?</FONT>&nbsp;<FONT=20
  color=3D#0000ff face=3DArial size=3D2><SPAN=20
  class=3D290590119-31101999>&nbsp;</SPAN></FONT></P>
  <P><FONT color=3D#0000ff face=3DArial size=3D2><SPAN =
class=3D290590119-31101999>What I=20
  was getting at is that the text seems to imply that this draft only =
defines=20
  the behavior of Session: when carried in a 183 response, whereas I =
would like=20
  it to define&nbsp;the sematics of Session: for=20
  all&nbsp;1xx&nbsp;responses.</SPAN></FONT></P>
  <P><FONT color=3D#0000ff face=3DArial size=3D2><SPAN=20
  =
class=3D290590119-31101999>Dave.&nbsp;</SPAN></FONT></P></BLOCKQUOTE></BO=
DY></HTML>

------=_NextPart_000_0000_01BF23D7.DA611700--




From owner-sip-outgoing@lists.research.bell-labs.com  Sun Oct 31 20:57:27 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id UAA19453
	for <sip-archive@odin.ietf.org>; Sun, 31 Oct 1999 20:57:26 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id C135652E5; Sun, 31 Oct 1999 20:55:23 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 2F31152ED; Sun, 31 Oct 1999 20:55:23 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 2ED9452E5
	for <sip@lists.research.bell-labs.com>; Sun, 31 Oct 1999 20:55:07 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Sun Oct 31 20:53:33 EST 1999
Received: from hubbub.cisco.com ([171.69.11.2]) by dusty; Sun Oct 31 20:52:34 EST 1999
Received: from OranLT ([171.69.210.11]) by hubbub.cisco.com (8.8.5-Cisco.2-SunOS.5.5.1.sun4/CISCO.GATE.1.1) with SMTP id RAA01856; Sun, 31 Oct 1999 17:53:29 -0800 (PST)
From: "David R. Oran" <oran@cisco.com>
To: "Donovan, Steven R." <Steven.R.Donovan@wcom.com>,
        <sip@lists.research.bell-labs.com>
Subject: RE: Some initial queries/comments on draft-ietf-sip-183-00.txt
Date: Sun, 31 Oct 1999 20:53:25 -0500
Message-ID: <NDBBKHCGKKIOOIJEGCOECEHLCKAA.oran@cisco.com>
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0000_01BF23E1.FB348480"
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
Importance: Normal
In-Reply-To: <75C79E507864D3118AFC00805FEAB7D8018F2E@ripexch001.mcit.com>
X-MimeOLE: Produced By Microsoft MimeOLE V5.00.2314.1300
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk

This is a multi-part message in MIME format.

------=_NextPart_000_0000_01BF23E1.FB348480
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit

RE: Some initial queries/comments on draft-ietf-sip-183-00.txtSome
clarifications:
  -----Original Message-----
  From: Donovan, Steven R. [mailto:Steven.R.Donovan@wcom.com]
  Sent: Thursday, October 28, 1999 10:48 AM
  To: 'David R. Oran'; sip@lists.research.bell-labs.com
  Subject: RE: Some initial queries/comments on draft-ietf-sip-183-00.txt


  Dave,

  Thanks for the comments.  Please see my comments below.

  Steve

  -----Original Message-----
  From: David R. Oran [mailto:oran@cisco.com]
  Sent: Monday, October 25, 1999 1:05 PM
  To: sip@lists.research.bell-labs.com
  Subject: Some initial queries/comments on draft-ietf-sip-183-00.txt



  Thanks for all the careful work on this guys! Here are few questions and
  comments based on my initial reading:

  1) you don't make clear which pieces of this are intended to be specific
to
  the 183 response message and what pieces are intended to be generic. For
  example, it would seem that the "Session: media/qos/security" header is
much
  more generic. In the abstract and introduction, it might be best to say
  you're making TWO extensions to SIP, the Session header, and the 183
  response.

  SRD> I agree.  This is an artifact of the concept being agreed to at a
late date and my not having enough time to craft the draft in the manner you
suggest.

  2) This may just be me having shell shock flashbacks to my ISO days, but I
  cringe when I read all these "shalls" in section 2.1. All of them read
much
  better if replaced by "should".

  SRD> My apologies for inducing nightmares.  However, section 2.1 is there
to outline the requirements by which the solution to the PSTN interworking
issue is measured.  If the solution (in this case, 183 and the Session
header) does not support all of these requirements than it is not a
sufficient solution.  These are not protocol level requirements statements.

  Eventually we will run into an editing problem if this winds up an
independent RFC, because IETF-speak does not have a well-defined normative
meaning for SHALL, and forces you to define your terms. I don't think this
is such a big deal, but the fact is that either the requirements make sense
or they don't and putting strong language doesn't really affect the outcome.
As the silly Yoda-ism says, "either do or not do". Perhaps the rest of the
WG doesn't have such a kneee-jerk reaction to ITU-speak.

  3) following on from the logic above in point 1, it is implied but not
  stated that the "Session": header could be placed on the initial (or
  subsequent) INVITE. This certainly makes sense for the qos & security
forms,
  and could conceivably be useful for the "media" form as well.

  SRD> I'd like to hear other opinions on this one.  I have received some
pushback in the past when I proposed this.  I personally agree that it would
be useful for the QoS and Security cases.  I'm not sure I see an example for
the media case, at least not until we have session descriptions that do not
imply media.

  I don't have a good example for media either, except perhaps some kind of
SIP-based announcement service.

  4) I know this may be a can of worms, but if we ever want to allow
multiple
  SDP bodies in SIP messages it would behoove us to ensure that headers that
  refer to body part treatment can explicitly say WHICH body instance they
  refer to.

  SRD> Worms can get so messy...  Why would there be a need for multiple SDP
message bodies?

  Prediction is a difficult matter, expecially if it involves the future.
This may be stretching too much for an example, but imagine perhaps having a
SIP call for which you could choose to  participate in one of two sessions.
One session is multicast with a layered coder and the second describes how
to talk to an MCU.

  5) the MUSTs in section 4.2/4.3 seem a bit strong. Nothing breaks if the
  sender is slow or sloppy at stopping; the user might get some mixed audio
or
  be annoyed though. While I can't off the top of my head think of any
  positive use for the continued transmission (maybe the "call is being
  monitored" beep tone...") I'd like to hear why such strong prohibition is
  called for. There is also the philosophical question of what actually
  constitutes "temporary" media, especially in the case where the SDP
  describing the "permanent" media is identical to the SDP describing the
  "temporary" media.

  SRD> I agree.  I will change this unless I hear other arguments.

  6) Section 4.4, second paragraph. While I see that 183 may not be
  appropriate for ringing, forwarding, or queued (since we have other
  responses for these), the used of Session: media may be perfectly
  appropriate. Is this just another instance of not becing clear about the
  relative independence of the Session: header and the 183 response?

  SRD> I don't see that paragraph indicating that a 183 with Session: media
is not valid.  Am I missing something?

  What I was getting at is that the text seems to imply that this draft only
defines the behavior of Session: when carried in a 183 response, whereas I
would like it to define the sematics of Session: for all 1xx responses.

  Dave.


------=_NextPart_000_0000_01BF23E1.FB348480
Content-Type: text/html;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML><HEAD><TITLE>RE: Some initial queries/comments on =
draft-ietf-sip-183-00.txt</TITLE>
<META content=3D"text/html; charset=3Diso-8859-1" =
http-equiv=3DContent-Type>
<META content=3D"MSHTML 5.00.2721.2900" name=3DGENERATOR></HEAD>
<BODY>
<DIV><FONT color=3D#0000ff face=3DArial size=3D2><SPAN =
class=3D290590119-31101999>Some=20
clarifications:</SPAN></FONT></DIV>
<BLOCKQUOTE=20
style=3D"BORDER-LEFT: #0000ff 2px solid; MARGIN-LEFT: 5px; MARGIN-RIGHT: =
0px; PADDING-LEFT: 5px">
  <DIV align=3Dleft class=3DOutlookMessageHeader dir=3Dltr><FONT =
face=3DTahoma=20
  size=3D2>-----Original Message-----<BR><B>From:</B> Donovan, Steven R. =

  [mailto:Steven.R.Donovan@wcom.com]<BR><B>Sent:</B> Thursday, October =
28, 1999=20
  10:48 AM<BR><B>To:</B> 'David R. Oran';=20
  sip@lists.research.bell-labs.com<BR><B>Subject:</B> RE: Some initial=20
  queries/comments on draft-ietf-sip-183-00.txt<BR><BR></DIV></FONT>
  <P><FONT size=3D2>Dave,</FONT> </P>
  <P><FONT size=3D2>Thanks for the comments.&nbsp; Please see my =
comments=20
  below.</FONT> </P>
  <P><FONT size=3D2>Steve</FONT> </P>
  <P><FONT size=3D2>-----Original Message-----</FONT> <BR><FONT =
size=3D2>From: David=20
  R. Oran [<A =
href=3D"mailto:oran@cisco.com">mailto:oran@cisco.com</A>]</FONT>=20
  <BR><FONT size=3D2>Sent: Monday, October 25, 1999 1:05 PM</FONT> =
<BR><FONT=20
  size=3D2>To: sip@lists.research.bell-labs.com</FONT> <BR><FONT =
size=3D2>Subject:=20
  Some initial queries/comments on draft-ietf-sip-183-00.txt</FONT> =
</P><BR>
  <P><FONT size=3D2>Thanks for all the careful work on this guys! Here =
are few=20
  questions and</FONT> <BR><FONT size=3D2>comments based on my initial=20
  reading:</FONT> </P>
  <P><FONT size=3D2>1) you don't make clear which pieces of this are =
intended to=20
  be specific to</FONT> <BR><FONT size=3D2>the 183 response message and =
what=20
  pieces are intended to be generic. For</FONT> <BR><FONT =
size=3D2>example, it=20
  would seem that the "Session: media/qos/security" header is =
much</FONT>=20
  <BR><FONT size=3D2>more generic. In the abstract and introduction, it =
might be=20
  best to say</FONT> <BR><FONT size=3D2>you're making TWO extensions to =
SIP, the=20
  Session header, and the 183</FONT> <BR><FONT size=3D2>response.</FONT> =
</P>
  <P><FONT size=3D2>SRD&gt; I agree.&nbsp; This is an artifact of the =
concept=20
  being agreed to at a late date and my not having enough time to craft =
the=20
  draft in the manner you suggest.</FONT></P>
  <P><FONT size=3D2>2) This may just be me having shell shock flashbacks =
to my ISO=20
  days, but I</FONT> <BR><FONT size=3D2>cringe when I read all these =
"shalls" in=20
  section 2.1. All of them read much</FONT> <BR><FONT size=3D2>better if =
replaced=20
  by "should".</FONT> </P>
  <P><FONT size=3D2>SRD&gt; My apologies for inducing nightmares.&nbsp; =
However,=20
  section 2.1 is there to outline the requirements by which the solution =
to the=20
  PSTN interworking issue is measured.&nbsp; If the solution (in this =
case, 183=20
  and the Session header) does not support all of these requirements =
than it is=20
  not a sufficient solution.&nbsp; These are not protocol level =
requirements=20
  statements.<FONT color=3D#0000ff face=3DArial><SPAN=20
  class=3D290590119-31101999>&nbsp;</SPAN></FONT></FONT></P>
  <P><FONT size=3D2><FONT color=3D#0000ff face=3DArial><SPAN=20
  class=3D290590119-31101999>Eventually we will run into an editing =
problem if=20
  this winds up an independent RFC, because IETF-speak does not have a=20
  well-defined normative meaning for SHALL, and&nbsp;forces you to =
define your=20
  terms. I don't think this is such a big deal, but the fact is that =
either the=20
  requirements make sense or they don't and putting strong language =
doesn't=20
  really affect the outcome. As the silly&nbsp;Yoda-ism says, "either =
do&nbsp;or=20
  not do". Perhaps the rest of the WG doesn't have such a kneee-jerk =
reaction to=20
  ITU-speak.</SPAN></FONT></FONT></P>
  <P><FONT size=3D2>3) following on from the logic above in point 1, it =
is implied=20
  but not</FONT> <BR><FONT size=3D2>stated that the "Session": header =
could be=20
  placed on the initial (or</FONT> <BR><FONT size=3D2>subsequent) =
INVITE. This=20
  certainly makes sense for the qos &amp; security forms,</FONT> =
<BR><FONT=20
  size=3D2>and could conceivably be useful for the "media" form as =
well.</FONT>=20
  </P>
  <P><FONT size=3D2>SRD&gt; I'd like to hear other opinions on this =
one.&nbsp; I=20
  have received some pushback in the past when I proposed this.&nbsp; I=20
  personally agree that it would be useful for the QoS and Security =
cases.&nbsp;=20
  I'm not sure I see an example for the media case, at least not until =
we have=20
  session descriptions that do not imply media.<FONT color=3D#0000ff=20
  face=3DArial><SPAN =
class=3D290590119-31101999>&nbsp;</SPAN></FONT></FONT></P>
  <P><FONT size=3D2><FONT color=3D#0000ff face=3DArial><SPAN=20
  class=3D290590119-31101999>I don't have a good&nbsp;example for media =
either,=20
  except perhaps some kind of SIP-based announcement=20
  service.&nbsp;</SPAN></FONT></FONT></P>
  <P><FONT size=3D2>4) I know this may be a can of worms, but if we ever =
want to=20
  allow multiple</FONT> <BR><FONT size=3D2>SDP bodies in SIP messages it =
would=20
  behoove us to ensure that headers that</FONT> <BR><FONT size=3D2>refer =
to body=20
  part treatment can explicitly say WHICH body instance they</FONT> =
<BR><FONT=20
  size=3D2>refer to.</FONT> </P>
  <P><FONT size=3D2>SRD&gt; Worms can get so messy...&nbsp; Why would =
there be a=20
  need for multiple SDP message bodies?</FONT>&nbsp;<FONT =
color=3D#0000ff=20
  face=3DArial size=3D2><SPAN =
class=3D290590119-31101999>&nbsp;</SPAN></FONT></P>
  <P><FONT color=3D#0000ff face=3DArial size=3D2><SPAN=20
  class=3D290590119-31101999>Prediction is a difficult matter, =
expecially if it=20
  involves the future. This may be stretching too much for an example,=20
  but&nbsp;imagine perhaps having a SIP call for which you could choose =
to=20
  &nbsp;participate in one of two sessions. One session is multicast =
with a=20
  layered coder and the second describes how to talk to an=20
MCU.</SPAN></FONT></P>
  <P><FONT size=3D2>5) the MUSTs in section 4.2/4.3 seem a bit strong. =
Nothing=20
  breaks if the</FONT> <BR><FONT size=3D2>sender is slow or sloppy at =
stopping;=20
  the user might get some mixed audio or</FONT> <BR><FONT size=3D2>be =
annoyed=20
  though. While I can't off the top of my head think of any</FONT> =
<BR><FONT=20
  size=3D2>positive use for the continued transmission (maybe the "call =
is=20
  being</FONT> <BR><FONT size=3D2>monitored" beep tone...") I'd like to =
hear why=20
  such strong prohibition is</FONT> <BR><FONT size=3D2>called for. There =
is also=20
  the philosophical question of what actually</FONT> <BR><FONT=20
  size=3D2>constitutes "temporary" media, especially in the case where =
the=20
  SDP</FONT> <BR><FONT size=3D2>describing the "permanent" media is =
identical to=20
  the SDP describing the</FONT> <BR><FONT size=3D2>"temporary" =
media.</FONT> </P>
  <P><FONT size=3D2>SRD&gt; I agree.&nbsp; I will change this unless I =
hear other=20
  arguments.</FONT> </P>
  <P><FONT size=3D2>6) Section 4.4, second paragraph. While I see that =
183 may not=20
  be</FONT> <BR><FONT size=3D2>appropriate for ringing, forwarding, or =
queued=20
  (since we have other</FONT> <BR><FONT size=3D2>responses for these), =
the used of=20
  Session: media may be perfectly</FONT> <BR><FONT size=3D2>appropriate. =
Is this=20
  just another instance of not becing clear about the</FONT> <BR><FONT=20
  size=3D2>relative independence of the Session: header and the 183=20
  response?</FONT> </P>
  <P><FONT size=3D2>SRD&gt; I don't see that paragraph indicating that a =
183 with=20
  Session: media is not valid.&nbsp; Am I missing =
something?</FONT>&nbsp;<FONT=20
  color=3D#0000ff face=3DArial size=3D2><SPAN=20
  class=3D290590119-31101999>&nbsp;</SPAN></FONT></P>
  <P><FONT color=3D#0000ff face=3DArial size=3D2><SPAN =
class=3D290590119-31101999>What I=20
  was getting at is that the text seems to imply that this draft only =
defines=20
  the behavior of Session: when carried in a 183 response, whereas I =
would like=20
  it to define&nbsp;the sematics of Session: for=20
  all&nbsp;1xx&nbsp;responses.</SPAN></FONT></P>
  <P><FONT color=3D#0000ff face=3DArial size=3D2><SPAN=20
  =
class=3D290590119-31101999>Dave.&nbsp;</SPAN></FONT></P></BLOCKQUOTE></BO=
DY></HTML>

------=_NextPart_000_0000_01BF23E1.FB348480--




