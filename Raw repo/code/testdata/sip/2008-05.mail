From sip-bounces@ietf.org  Thu May  1 03:26:50 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id ECA583A6B79;
	Thu,  1 May 2008 03:26:49 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 802583A6AC6
	for <sip@core3.amsl.com>; Thu,  1 May 2008 03:26:48 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -4.405
X-Spam-Level: 
X-Spam-Status: No, score=-4.405 tagged_above=-999 required=5
	tests=[AWL=-1.200, BAYES_00=-2.599, J_CHICKENPOX_23=0.6,
	J_CHICKENPOX_33=0.6, J_CHICKENPOX_54=0.6, J_CHICKENPOX_55=0.6,
	RCVD_IN_DNSWL_MED=-4, RELAY_IS_203=0.994]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id SxrsSs12+0iz for <sip@core3.amsl.com>;
	Thu,  1 May 2008 03:26:46 -0700 (PDT)
Received: from mailout1.samsung.com (mailout1.samsung.com [203.254.224.24])
	by core3.amsl.com (Postfix) with ESMTP id A1B063A69CF
	for <sip@ietf.org>; Thu,  1 May 2008 03:26:46 -0700 (PDT)
Received: from epmmp1 (mailout1.samsung.com [203.254.224.24])
	by mailout1.samsung.com
	(iPlanet Messaging Server 5.2 Patch 2 (built Jul 14 2004))
	with ESMTP id <0K06005U7QBPN1@mailout1.samsung.com> for sip@ietf.org;
	Thu, 01 May 2008 19:26:13 +0900 (KST)
Received: from mahesha ([107.108.74.147])
	by mmp1.samsung.com (iPlanet Messaging Server 5.2 Patch 2 (built Jul 14
	2004))
	with ESMTPA id <0K0600FUWQBNGY@mmp1.samsung.com> for sip@ietf.org; Thu,
	01 May 2008 19:26:13 +0900 (KST)
Date: Thu, 01 May 2008 16:00:30 +0530
From: Mahesh Anjanappa <mahesha@samsung.com>
To: Paul Kyzivat <pkyzivat@cisco.com>
Message-id: <0bcb01c8ab76$623d8a30$934a6c6b@sisodomain.com>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2900.3198
X-Mailer: Microsoft Outlook Express 6.00.2900.3138
X-Priority: 3
X-MSMail-priority: Normal
References: <915213.97931.qm@web33504.mail.mud.yahoo.com>
	<481754BE.1060505@cisco.com>
	<0a4301c8aa73$ffb17500$934a6c6b@sisodomain.com>
	<48186E99.7080306@cisco.com>
	<0b3e01c8aace$23f060c0$934a6c6b@sisodomain.com>
	<48188BB1.2060707@cisco.com>
Cc: sip@ietf.org, discussion@sipforum.org,
	gaurav katiyar <gaurav_katiyar@yahoo.com>
Subject: Re: [Sip] [SIPForum-discussion] What's the difference
 between	session and dialog in SIP?
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: multipart/mixed; boundary="===============2071829241=="
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

--===============2071829241==
Content-type: text/plain; format=flowed; charset=Windows-1252;
 reply-type=response
Content-transfer-encoding: 8BIT


> Mahesh Anjanappa wrote:
>>> I'm not fully understanding what you are proposing (see questions 
>>> above). I expect that it may start to fall apart in the details of 
>>> particular use cases. Will you explain to me how your definition relates 
>>> to the use case with A/B/C/D that I gave?
>>
>> OK,let me see.
>> A, C and D get into a Session/Contract to communicate using Video and 
>> Audio.
>
> I guess you misunderstand what I was describing.
>
> The SDP negotiated between A and B contains both audio and video.
>
> The SDP negotiated between B and C contains only audio. (B didn't offer 
> the video to C.)
>
> The SDP negotiated between B and D contains only video. (B didn't offer 
> the video to D.)
>
> The purpose of B is to consolidate an audio-only device and a video-only 
> device into what seems, to A, like one audio/video device.

OK. In this case, there is one session between A and B. A doesnt know
anything about C & D. As far A is concerned it is communicating with B with
modality of Audio+Video. B sets up individual sessions with C and D.
(B is purpose-built just to send the Audio and Video to C & D resp.)
It seems to A as though B is one audio/video device.
C does not know about A & D nor does D know about A and C. So basically
there are 3 individual sessions and not a conference since A,C and D
are not aware of each other. All they do, is have their individual contract 
with
B. In contrast to a Conference wherein A,C and D would have been aware
about each other and a common contract hence a single session .

>
> They don't all have the same contract. So by your definition I don't think 
> they can all have one session.
>
> In some conceptual sense you may think of this as one session. But its 
> hard to find any tangible item that they all have that refers to a single 
> session. In the end, from the point of view of B it may indeed be one 
> session. But A, C, and D can't perceive that.
>
>> The contract allows for either of the Media to be used hence C uses audio
>> and D uses video. B facilitates the Contract by holding the three 
>> dialogs.
>> The 3 dialogs are tied together by a Conference Id (i suppose)
>> thus COnference Id representing the Session Identifier.B too is 
>> considered a party in the
>> session though its role is different from that of A,C and D.
>
> If this were done with a conference mixer, and hence there was a 
> conference id, then I guess you could say that the conference id was an 
> identifier for the "session".
>
> But if B was purpose-built for this particular functionality, and there is 
> no conference id, then what?

There are separate Session Id's for each of the three sessions, probably the
Session id carried in the SDP(but not neccessarily). A, C & D, each will be
bothered about ONLY their respective Session Id's (one each) with B.
B is aware of all the session id's and would want to collate them for an app
specific reason but not for the notion of  *SIP Session* that we discuss 
here.
In simple words,even B sees it as 3 SIP Sessions rather than 1 though the
three collated by some logic by B.

>
> And in a simple call between A and C there would be no conference id, so 
> something else must serve as the "session" identifier. But in that case, 
> it would seem that these aren't the *same* notion of session.
>
> You asked why I didn't think it was important to define session. I will 
> admit that it seems odd to have a Session Initiation Protocol without a 
> clear idea of what this "session" is that it is initiating. So it indeed 
> would be *nice* to have a definition that covers all the cases.
>
> But not having one doesn't seem to be preventing anyone from doing 
> anything, does it?

Thats right, it doesnt prevent anyone from doing "anything", everybody
does their own thing since no single guiding principle. Look at  what,
has happened with INFO :-). Anyway, its just my opinion, i shall not
cause further degression from the actual technical topic at hand :-)

> From a practical perspective I think the thing that is being initiated by 
> SIP is the contract established by a matching offer/answer. That is fairly 
> straightforward when the UAC and UAS are the offerer and answerer, or visa 
> versa. It gets messy when other UAs are involved in the construction of 
> the offer and the answer. And in those cases it gets really hard to figure 
> out what the session is, because not all the parties will agree.

Right, so dont you feel there a loose end somewhere and need to be tied.

> Paul
>
>>> Paul
>>>
>>>> regards
>>>> Mahesh
>>>>
>>>> ----- Original Message ----- From: "Paul Kyzivat" <pkyzivat@cisco.com>
>>>> To: "gaurav katiyar" <gaurav_katiyar@yahoo.com>
>>>> Cc: <sip@ietf.org>; <discussion@sipforum.org>; <bmwg@ietf.org>
>>>> Sent: Tuesday, April 29, 2008 10:32 PM
>>>> Subject: Re: [Sip] [SIPForum-discussion] What's the difference between 
>>>> session and dialog in SIP?
>>>>
>>>>
>>>>>
>>>>>
>>>>> gaurav katiyar wrote:
>>>>>> Sip "Session Initiation Protocol". It talks about media session, i 
>>>>>> mean
>>>>>> how to initiate, modify and terminate a session and Dialog provides a
>>>>>> sort of context (like caller, callee, location, routing etc.) to 
>>>>>> modify
>>>>>> this session. So dialog is more related to route the sip message to
>>>>>> right node and body (SDP) handles media session if present. Dialogs 
>>>>>> may
>>>>>> have media sessions Or may not.
>>>>>>
>>>>>> Take an example of B2BUA. It is a type of statefull proxy having two
>>>>>> dialog and one media session if doing media routing.
>>>>>
>>>>> Maybe. IMO these concepts aren't sufficiently defined.
>>>>>
>>>>> One view is that a session is whatever SDP describes. Thus its one
>>>>> session regardless of how many media streams it contains. And in the
>>>>> case of an SDP containing multicast media addresses, and possibly
>>>>> advertised via SAP, there could be many participants in the same 
>>>>> session.
>>>>>
>>>>> But then in sip it takes a pair of SDPs to establish a call. Is that 
>>>>> one
>>>>> session, or two? And in your case above with the B2BUA, is it one
>>>>> session, or two, or four?
>>>>>
>>>>> Another view is that a session in the context of sip is whatever is
>>>>> established as a result of an INVITE. Then I guess the pair of SDPs
>>>>> together describe one session, regardless of how many media streams. 
>>>>> But
>>>>> in that case the B2BUA example would be two sessions.
>>>>>
>>>>> Then consider a more complex case:
>>>>>
>>>>>                     audio
>>>>>                  /-------- C
>>>>>                 /
>>>>>   A ========== B
>>>>>     audio       \
>>>>>     video        \-------- D
>>>>>                     video
>>>>>
>>>>> Here B is a B2BUA and media relay as in your example, but one stream 
>>>>> is
>>>>> relayed to C and the other to D.
>>>>>
>>>>> In this case, how many sessions are there? A, C, and D each have one,
>>>>> but are any of those the same? Or are there three altogether?
>>>>>
>>>>> When I see "session" used, I just assume it means something vague, and
>>>>> read on to see what is actually meant.
>>>>>
>>>>> Paul
>>>>>
>>>>>> */Donald Lee <baolovebao@gmail.com>/* wrote:
>>>>>>
>>>>>>     old good questions in sip, also add another "transaction".
>>>>>>
>>>>>>
>>>>>>     On Fri, Apr 25, 2008 at 8:18 AM, 孙宗君 <szj087@gmail.com
>>>>>>     <mailto:szj087@gmail.com>> wrote:
>>>>>>
>>>>>>         Hi, Vijay
>>>>>>
>>>>>>         Thanks very much for your timely answers.
>>>>>>
>>>>>>          From this specification,  session is a combination of 
>>>>>> signaling
>>>>>>         plane
>>>>>>         and media plane messages and processes that enable two or 
>>>>>> more
>>>>>>         participants to communicate. I think session is a larger 
>>>>>> scope than
>>>>>>         dialog. In another word, one session can contain more than 
>>>>>> one
>>>>>>         dialog.
>>>>>>         Is what I understand right?
>>>>>>
>>>>>>         Zongjun
>>>>>>
>>>>>>
>>>>>>         2008/4/24, Vijay K. Gurbani <vkg@alcatel-lucent.com
>>>>>>         <mailto:vkg@alcatel-lucent.com>>:
>>>>>>          > There is some work progressing in the BMWG WG to create
>>>>>>         performance
>>>>>>          >  metrics around SIP.  One of the first tasks in such an 
>>>>>> endeavor
>>>>>>          >  is to define the notion of dialogs and sessions.  Please 
>>>>>> see
>>>>>>          >  Section 3.1.1 of
>>>>>>          >
>>>>>>
>>>>>> https://svn.resiprocate.org/rep/ietf-drafts/gurbani/bmwg-sip-bench-term/draft-ietf-bmwg-sip-term-00.txt
>>>>>>          >  of the above draft for some insight.
>>>>>>          >
>>>>>>          >  Ëï×Ú¾ý wrote:
>>>>>>          >
>>>>>>          > > Hi, Lincoln
>>>>>>          > >
>>>>>>          > > thanks for your instructions.
>>>>>>          > >
>>>>>>          > > I know that dialog can exist without session since
>>>>>>         SUBSCRIBE/REFER can
>>>>>>          > > create dialog and without any media between 
>>>>>> communication
>>>>>>         peers.
>>>>>>          > >
>>>>>>          > > What I want to know is the relationship of dialog and
>>>>>>         session when
>>>>>>          > > they both exist in one communication activity. Take a
>>>>>>         example, when
>>>>>>          > > there are 2 person participating talks with voice, we 
>>>>>> say
>>>>>>         there is a
>>>>>>          > > dialog and a session.
>>>>>>          > >
>>>>>>          > > But when one caller invites another callee and gets five
>>>>>>         200 final
>>>>>>          > > responses from 5 UA every of which has its own session
>>>>>>         description. We
>>>>>>          > > can say that there are 5 dialogs between caller and the 
>>>>>> other 5
>>>>>>          > > callees, right? And then what is the exact number of
>>>>>>         session in this
>>>>>>          > > scenario? One session or five session? That is what I 
>>>>>> want
>>>>>>         to know.
>>>>>>          > >
>>>>>>          > > Dialog is determined by dialogID (call-id, from/to tag) 
>>>>>> and
>>>>>>         session id
>>>>>>          > > is determined by session id given in the SDP message. 
>>>>>> My
>>>>>>         answer is
>>>>>>          > > there are 5 dialog and one session now, right?
>>>>>>          > >
>>>>>>          >
>>>>>>          >  - vijay
>>>>>>          >  --
>>>>>>          >  Vijay K. Gurbani, Bell Laboratories, Alcatel-Lucent
>>>>>>          >  2701 Lucent Lane, Rm. 9F-546, Lisle, Illinois 60532 (USA)
>>>>>>          >  Email: vkg@{alcatel-lucent.com
>>>>>>         <http://alcatel-lucent.com/>,bell-labs.com
>>>>>>         <http://bell-labs.com/>,acm.org <http://acm.org/>}
>>>>>>          >  WWW:   http://www.alcatel-lucent.com/bell-labs
>>>>>>          >
>>>>>>         _______________________________________________
>>>>>>         Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
>>>>>>         This list is for NEW development of the core SIP Protocol
>>>>>>         Use sip-implementors@cs.columbia.edu
>>>>>>         <mailto:sip-implementors@cs.columbia.edu> for questions on
>>>>>>         current sip
>>>>>>         Use sipping@ietf.org <mailto:sipping@ietf.org> for new
>>>>>>         developments on the application of sip
>>>>>>
>>>>>>
>>>>>>
>>>>>>
>>>>>>     --     BR
>>>>>>     Donald _______________________________________________
>>>>>>     This is the SIP Forum discussion mailing list
>>>>>>     TO UNSUBSCRIBE, or edit your delivery options, please visit
>>>>>>     http://sipforum.org/mailman/listinfo/discussion
>>>>>>     Post to the list at discussion@sipforum.org
>>>>>>
>>>>>>
>>>>>>
>>>>>>
>>>>>> Gaurav Katiyar
>>>>>> Induslogic india pvt. ltd
>>>>>> B-34/1 sector 59 NOIDA
>>>>>> Phone:9818381368
>>>>>>
>>>>>>
>>>>>> ------------------------------------------------------------------------
>>>>>>
>>>>>> Be a better friend, newshound, and know-it-all with Yahoo! Mobile. 
>>>>>> Try
>>>>>> it now.
>>>>>> <http://us.rd.yahoo.com/evt=51733/*http://mobile.yahoo.com/;_ylt=Ahu06i62sR8HDtDypao8Wcj9tAcJ
>>>>>>  >
>>>>>>
>>>>>>
>>>>>> ------------------------------------------------------------------------
>>>>>>
>>>>>>
>>>>>> _______________________________________________
>>>>>> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
>>>>>> This list is for NEW development of the core SIP Protocol
>>>>>> Use sip-implementors@cs.columbia.edu for questions on current sip
>>>>>> Use sipping@ietf.org for new developments on the application of sip
>>>>>
>>>>
>>>>
>>>> --------------------------------------------------------------------------------
>>>>
>>>>
>>>>
>>>>
>>>>> _______________________________________________
>>>>> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
>>>>> This list is for NEW development of the core SIP Protocol
>>>>> Use sip-implementors@cs.columbia.edu for questions on current sip
>>>>> Use sipping@ietf.org for new developments on the application of sip
>>>>>
>>>>
>> 


--===============2071829241==
Content-Type: text/plain; charset="us-ascii"
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip
--===============2071829241==--


From sip-bounces@ietf.org  Thu May  1 05:32:57 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 75AC128C660;
	Thu,  1 May 2008 05:32:57 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 3A33628C660
	for <sip@core3.amsl.com>; Thu,  1 May 2008 05:32:56 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -5.378
X-Spam-Level: 
X-Spam-Status: No, score=-5.378 tagged_above=-999 required=5
	tests=[AWL=-1.179, BAYES_00=-2.599, J_CHICKENPOX_23=0.6,
	J_CHICKENPOX_33=0.6, J_CHICKENPOX_54=0.6, J_CHICKENPOX_55=0.6,
	RCVD_IN_DNSWL_MED=-4]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id dzbGjQb0jnWM for <sip@core3.amsl.com>;
	Thu,  1 May 2008 05:32:54 -0700 (PDT)
Received: from sj-iport-2.cisco.com (sj-iport-2.cisco.com [171.71.176.71])
	by core3.amsl.com (Postfix) with ESMTP id 84E0628D718
	for <sip@ietf.org>; Thu,  1 May 2008 05:12:38 -0700 (PDT)
Received: from sj-dkim-1.cisco.com ([171.71.179.21])
	by sj-iport-2.cisco.com with ESMTP; 01 May 2008 05:12:41 -0700
Received: from sj-core-2.cisco.com (sj-core-2.cisco.com [171.71.177.254])
	by sj-dkim-1.cisco.com (8.12.11/8.12.11) with ESMTP id m41CCfOB015192; 
	Thu, 1 May 2008 05:12:41 -0700
Received: from xbh-rtp-211.amer.cisco.com (xbh-rtp-211.cisco.com
	[64.102.31.102])
	by sj-core-2.cisco.com (8.13.8/8.13.8) with ESMTP id m41CCX85023314;
	Thu, 1 May 2008 12:12:40 GMT
Received: from xfe-rtp-202.amer.cisco.com ([64.102.31.21]) by
	xbh-rtp-211.amer.cisco.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Thu, 1 May 2008 08:12:28 -0400
Received: from [10.82.216.195] ([10.82.216.195]) by xfe-rtp-202.amer.cisco.com
	with Microsoft SMTPSVC(6.0.3790.1830); 
	Thu, 1 May 2008 08:12:28 -0400
Message-ID: <4819B3CC.9060904@cisco.com>
Date: Thu, 01 May 2008 08:13:00 -0400
From: Paul Kyzivat <pkyzivat@cisco.com>
User-Agent: Thunderbird 2.0.0.12 (Windows/20080213)
MIME-Version: 1.0
To: Mahesh Anjanappa <mahesha@samsung.com>
References: <915213.97931.qm@web33504.mail.mud.yahoo.com>
	<481754BE.1060505@cisco.com>
	<0a4301c8aa73$ffb17500$934a6c6b@sisodomain.com>
	<48186E99.7080306@cisco.com>
	<0b3e01c8aace$23f060c0$934a6c6b@sisodomain.com>
	<48188BB1.2060707@cisco.com>
	<0bcb01c8ab76$623d8a30$934a6c6b@sisodomain.com>
In-Reply-To: <0bcb01c8ab76$623d8a30$934a6c6b@sisodomain.com>
X-OriginalArrivalTime: 01 May 2008 12:12:28.0288 (UTC)
	FILETIME=[9FAB1000:01C8AB84]
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; l=14383; t=1209643961;
	x=1210507961; c=relaxed/simple; s=sjdkim1004;
	h=Content-Type:From:Subject:Content-Transfer-Encoding:MIME-Version;
	d=cisco.com; i=pkyzivat@cisco.com;
	z=From:=20Paul=20Kyzivat=20<pkyzivat@cisco.com>
	|Subject:=20Re=3A=20[Sip]=20[SIPForum-discussion]=20What's=
	20the=20difference=20between=09session=0A=20and=20dialog=20i
	n=20SIP? |Sender:=20;
	bh=sT51aiPSVY+vupkwjZa6+XfxqBkdg05buJx/9NY1Cr4=;
	b=NhBsI+COTP8AK38TPE7Tqe5esv93wI8I5gFkt5SLnOF8B/NYL0aMxqpyca
	2jOxaitvdl4EKKoE6OwyCkLHha4s0fTup2+LeB3+xbHhTTnuhUiXLe4R2yn8
	jk2UYYpk8UyceRUOKLeCwV1de5uJ/JIZcN6dRNMzqqlcsZK2N3jss=;
Authentication-Results: sj-dkim-1; header.From=pkyzivat@cisco.com; dkim=pass (
	sig from cisco.com/sjdkim1004 verified; ); 
Cc: sip@ietf.org, discussion@sipforum.org,
	gaurav katiyar <gaurav_katiyar@yahoo.com>
Subject: Re: [Sip] [SIPForum-discussion] What's the difference
 between	session and dialog in SIP?
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: multipart/mixed; boundary="===============0438154600=="
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

--===============0438154600==
Content-Type: text/plain; charset=windows-1252; format=flowed
Content-Transfer-Encoding: 8bit



Mahesh Anjanappa wrote:
> 
>> Mahesh Anjanappa wrote:
>>>> I'm not fully understanding what you are proposing (see questions 
>>>> above). I expect that it may start to fall apart in the details of 
>>>> particular use cases. Will you explain to me how your definition 
>>>> relates to the use case with A/B/C/D that I gave?
>>>
>>> OK,let me see.
>>> A, C and D get into a Session/Contract to communicate using Video and 
>>> Audio.
>>
>> I guess you misunderstand what I was describing.
>>
>> The SDP negotiated between A and B contains both audio and video.
>>
>> The SDP negotiated between B and C contains only audio. (B didn't 
>> offer the video to C.)
>>
>> The SDP negotiated between B and D contains only video. (B didn't 
>> offer the video to D.)
>>
>> The purpose of B is to consolidate an audio-only device and a 
>> video-only device into what seems, to A, like one audio/video device.
> 
> OK. In this case, there is one session between A and B. A doesnt know
> anything about C & D. As far A is concerned it is communicating with B with
> modality of Audio+Video. B sets up individual sessions with C and D.
> (B is purpose-built just to send the Audio and Video to C & D resp.)
> It seems to A as though B is one audio/video device.
> C does not know about A & D nor does D know about A and C. So basically
> there are 3 individual sessions and not a conference since A,C and D
> are not aware of each other. All they do, is have their individual 
> contract with
> B. In contrast to a Conference wherein A,C and D would have been aware
> about each other and a common contract hence a single session .

OK, we are closer to agreement.

Note that in a regular conference, a participant may or may not know it 
is in a conference. If not, then it thinks it is in a session with the 
focus.

>> They don't all have the same contract. So by your definition I don't 
>> think they can all have one session.
>>
>> In some conceptual sense you may think of this as one session. But its 
>> hard to find any tangible item that they all have that refers to a 
>> single session. In the end, from the point of view of B it may indeed 
>> be one session. But A, C, and D can't perceive that.
>>
>>> The contract allows for either of the Media to be used hence C uses 
>>> audio
>>> and D uses video. B facilitates the Contract by holding the three 
>>> dialogs.
>>> The 3 dialogs are tied together by a Conference Id (i suppose)
>>> thus COnference Id representing the Session Identifier.B too is 
>>> considered a party in the
>>> session though its role is different from that of A,C and D.
>>
>> If this were done with a conference mixer, and hence there was a 
>> conference id, then I guess you could say that the conference id was 
>> an identifier for the "session".
>>
>> But if B was purpose-built for this particular functionality, and 
>> there is no conference id, then what?
> 
> There are separate Session Id's for each of the three sessions, probably 
> the
> Session id carried in the SDP(but not neccessarily). A, C & D, each will be
> bothered about ONLY their respective Session Id's (one each) with B.
> B is aware of all the session id's and would want to collate them for an 
> app
> specific reason but not for the notion of  *SIP Session* that we discuss 
> here.
> In simple words,even B sees it as 3 SIP Sessions rather than 1 though the
> three collated by some logic by B.

So, is there one session, three, or four? Does it matter?

>> And in a simple call between A and C there would be no conference id, 
>> so something else must serve as the "session" identifier. But in that 
>> case, it would seem that these aren't the *same* notion of session.
>>
>> You asked why I didn't think it was important to define session. I 
>> will admit that it seems odd to have a Session Initiation Protocol 
>> without a clear idea of what this "session" is that it is initiating. 
>> So it indeed would be *nice* to have a definition that covers all the 
>> cases.
>>
>> But not having one doesn't seem to be preventing anyone from doing 
>> anything, does it?
> 
> Thats right, it doesnt prevent anyone from doing "anything", everybody
> does their own thing since no single guiding principle. Look at  what,
> has happened with INFO :-). Anyway, its just my opinion, i shall not
> cause further degression from the actual technical topic at hand :-)

Do you mean that you think there are things people are doing that they 
shouldn't be doing, and wouldn't be doing if there was a better 
definition of session?

>> From a practical perspective I think the thing that is being initiated 
>> by SIP is the contract established by a matching offer/answer. That is 
>> fairly straightforward when the UAC and UAS are the offerer and 
>> answerer, or visa versa. It gets messy when other UAs are involved in 
>> the construction of the offer and the answer. And in those cases it 
>> gets really hard to figure out what the session is, because not all 
>> the parties will agree.
> 
> Right, so dont you feel there a loose end somewhere and need to be tied.

I guess possibly it might be helpful to more carefully define the term 
"session" as used in sip. But I think only to *narrow* its scope so that 
people don't read too much into it. But I see no urgency to that.

	Paul

>> Paul
>>
>>>> Paul
>>>>
>>>>> regards
>>>>> Mahesh
>>>>>
>>>>> ----- Original Message ----- From: "Paul Kyzivat" <pkyzivat@cisco.com>
>>>>> To: "gaurav katiyar" <gaurav_katiyar@yahoo.com>
>>>>> Cc: <sip@ietf.org>; <discussion@sipforum.org>; <bmwg@ietf.org>
>>>>> Sent: Tuesday, April 29, 2008 10:32 PM
>>>>> Subject: Re: [Sip] [SIPForum-discussion] What's the difference 
>>>>> between session and dialog in SIP?
>>>>>
>>>>>
>>>>>>
>>>>>>
>>>>>> gaurav katiyar wrote:
>>>>>>> Sip "Session Initiation Protocol". It talks about media session, 
>>>>>>> i mean
>>>>>>> how to initiate, modify and terminate a session and Dialog 
>>>>>>> provides a
>>>>>>> sort of context (like caller, callee, location, routing etc.) to 
>>>>>>> modify
>>>>>>> this session. So dialog is more related to route the sip message to
>>>>>>> right node and body (SDP) handles media session if present. 
>>>>>>> Dialogs may
>>>>>>> have media sessions Or may not.
>>>>>>>
>>>>>>> Take an example of B2BUA. It is a type of statefull proxy having two
>>>>>>> dialog and one media session if doing media routing.
>>>>>>
>>>>>> Maybe. IMO these concepts aren't sufficiently defined.
>>>>>>
>>>>>> One view is that a session is whatever SDP describes. Thus its one
>>>>>> session regardless of how many media streams it contains. And in the
>>>>>> case of an SDP containing multicast media addresses, and possibly
>>>>>> advertised via SAP, there could be many participants in the same 
>>>>>> session.
>>>>>>
>>>>>> But then in sip it takes a pair of SDPs to establish a call. Is 
>>>>>> that one
>>>>>> session, or two? And in your case above with the B2BUA, is it one
>>>>>> session, or two, or four?
>>>>>>
>>>>>> Another view is that a session in the context of sip is whatever is
>>>>>> established as a result of an INVITE. Then I guess the pair of SDPs
>>>>>> together describe one session, regardless of how many media 
>>>>>> streams. But
>>>>>> in that case the B2BUA example would be two sessions.
>>>>>>
>>>>>> Then consider a more complex case:
>>>>>>
>>>>>>                     audio
>>>>>>                  /-------- C
>>>>>>                 /
>>>>>>   A ========== B
>>>>>>     audio       \
>>>>>>     video        \-------- D
>>>>>>                     video
>>>>>>
>>>>>> Here B is a B2BUA and media relay as in your example, but one 
>>>>>> stream is
>>>>>> relayed to C and the other to D.
>>>>>>
>>>>>> In this case, how many sessions are there? A, C, and D each have one,
>>>>>> but are any of those the same? Or are there three altogether?
>>>>>>
>>>>>> When I see "session" used, I just assume it means something vague, 
>>>>>> and
>>>>>> read on to see what is actually meant.
>>>>>>
>>>>>> Paul
>>>>>>
>>>>>>> */Donald Lee <baolovebao@gmail.com>/* wrote:
>>>>>>>
>>>>>>>     old good questions in sip, also add another "transaction".
>>>>>>>
>>>>>>>
>>>>>>>     On Fri, Apr 25, 2008 at 8:18 AM, 孙宗君 <szj087@gmail.com
>>>>>>>     <mailto:szj087@gmail.com>> wrote:
>>>>>>>
>>>>>>>         Hi, Vijay
>>>>>>>
>>>>>>>         Thanks very much for your timely answers.
>>>>>>>
>>>>>>>          From this specification,  session is a combination of 
>>>>>>> signaling
>>>>>>>         plane
>>>>>>>         and media plane messages and processes that enable two or 
>>>>>>> more
>>>>>>>         participants to communicate. I think session is a larger 
>>>>>>> scope than
>>>>>>>         dialog. In another word, one session can contain more 
>>>>>>> than one
>>>>>>>         dialog.
>>>>>>>         Is what I understand right?
>>>>>>>
>>>>>>>         Zongjun
>>>>>>>
>>>>>>>
>>>>>>>         2008/4/24, Vijay K. Gurbani <vkg@alcatel-lucent.com
>>>>>>>         <mailto:vkg@alcatel-lucent.com>>:
>>>>>>>          > There is some work progressing in the BMWG WG to create
>>>>>>>         performance
>>>>>>>          >  metrics around SIP.  One of the first tasks in such 
>>>>>>> an endeavor
>>>>>>>          >  is to define the notion of dialogs and sessions.  
>>>>>>> Please see
>>>>>>>          >  Section 3.1.1 of
>>>>>>>          >
>>>>>>>
>>>>>>> https://svn.resiprocate.org/rep/ietf-drafts/gurbani/bmwg-sip-bench-term/draft-ietf-bmwg-sip-term-00.txt 
>>>>>>>
>>>>>>>          >  of the above draft for some insight.
>>>>>>>          >
>>>>>>>          >  Ëï×Ú¾ý wrote:
>>>>>>>          >
>>>>>>>          > > Hi, Lincoln
>>>>>>>          > >
>>>>>>>          > > thanks for your instructions.
>>>>>>>          > >
>>>>>>>          > > I know that dialog can exist without session since
>>>>>>>         SUBSCRIBE/REFER can
>>>>>>>          > > create dialog and without any media between 
>>>>>>> communication
>>>>>>>         peers.
>>>>>>>          > >
>>>>>>>          > > What I want to know is the relationship of dialog and
>>>>>>>         session when
>>>>>>>          > > they both exist in one communication activity. Take a
>>>>>>>         example, when
>>>>>>>          > > there are 2 person participating talks with voice, 
>>>>>>> we say
>>>>>>>         there is a
>>>>>>>          > > dialog and a session.
>>>>>>>          > >
>>>>>>>          > > But when one caller invites another callee and gets 
>>>>>>> five
>>>>>>>         200 final
>>>>>>>          > > responses from 5 UA every of which has its own session
>>>>>>>         description. We
>>>>>>>          > > can say that there are 5 dialogs between caller and 
>>>>>>> the other 5
>>>>>>>          > > callees, right? And then what is the exact number of
>>>>>>>         session in this
>>>>>>>          > > scenario? One session or five session? That is what 
>>>>>>> I want
>>>>>>>         to know.
>>>>>>>          > >
>>>>>>>          > > Dialog is determined by dialogID (call-id, from/to 
>>>>>>> tag) and
>>>>>>>         session id
>>>>>>>          > > is determined by session id given in the SDP 
>>>>>>> message. My
>>>>>>>         answer is
>>>>>>>          > > there are 5 dialog and one session now, right?
>>>>>>>          > >
>>>>>>>          >
>>>>>>>          >  - vijay
>>>>>>>          >  --
>>>>>>>          >  Vijay K. Gurbani, Bell Laboratories, Alcatel-Lucent
>>>>>>>          >  2701 Lucent Lane, Rm. 9F-546, Lisle, Illinois 60532 
>>>>>>> (USA)
>>>>>>>          >  Email: vkg@{alcatel-lucent.com
>>>>>>>         <http://alcatel-lucent.com/>,bell-labs.com
>>>>>>>         <http://bell-labs.com/>,acm.org <http://acm.org/>}
>>>>>>>          >  WWW:   http://www.alcatel-lucent.com/bell-labs
>>>>>>>          >
>>>>>>>         _______________________________________________
>>>>>>>         Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
>>>>>>>         This list is for NEW development of the core SIP Protocol
>>>>>>>         Use sip-implementors@cs.columbia.edu
>>>>>>>         <mailto:sip-implementors@cs.columbia.edu> for questions on
>>>>>>>         current sip
>>>>>>>         Use sipping@ietf.org <mailto:sipping@ietf.org> for new
>>>>>>>         developments on the application of sip
>>>>>>>
>>>>>>>
>>>>>>>
>>>>>>>
>>>>>>>     --     BR
>>>>>>>     Donald _______________________________________________
>>>>>>>     This is the SIP Forum discussion mailing list
>>>>>>>     TO UNSUBSCRIBE, or edit your delivery options, please visit
>>>>>>>     http://sipforum.org/mailman/listinfo/discussion
>>>>>>>     Post to the list at discussion@sipforum.org
>>>>>>>
>>>>>>>
>>>>>>>
>>>>>>>
>>>>>>> Gaurav Katiyar
>>>>>>> Induslogic india pvt. ltd
>>>>>>> B-34/1 sector 59 NOIDA
>>>>>>> Phone:9818381368
>>>>>>>
>>>>>>>
>>>>>>> ------------------------------------------------------------------------ 
>>>>>>>
>>>>>>>
>>>>>>> Be a better friend, newshound, and know-it-all with Yahoo! 
>>>>>>> Mobile. Try
>>>>>>> it now.
>>>>>>> <http://us.rd.yahoo.com/evt=51733/*http://mobile.yahoo.com/;_ylt=Ahu06i62sR8HDtDypao8Wcj9tAcJ 
>>>>>>>
>>>>>>>  >
>>>>>>>
>>>>>>>
>>>>>>> ------------------------------------------------------------------------ 
>>>>>>>
>>>>>>>
>>>>>>>
>>>>>>> _______________________________________________
>>>>>>> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
>>>>>>> This list is for NEW development of the core SIP Protocol
>>>>>>> Use sip-implementors@cs.columbia.edu for questions on current sip
>>>>>>> Use sipping@ietf.org for new developments on the application of sip
>>>>>>
>>>>>
>>>>>
>>>>> -------------------------------------------------------------------------------- 
>>>>>
>>>>>
>>>>>
>>>>>
>>>>>
>>>>>> _______________________________________________
>>>>>> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
>>>>>> This list is for NEW development of the core SIP Protocol
>>>>>> Use sip-implementors@cs.columbia.edu for questions on current sip
>>>>>> Use sipping@ietf.org for new developments on the application of sip
>>>>>>
>>>>>
>>>
> 
> 

--===============0438154600==
Content-Type: text/plain; charset="us-ascii"
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip
--===============0438154600==--


From sip-bounces@ietf.org  Thu May  1 14:13:20 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id E47123A6D3A;
	Thu,  1 May 2008 14:13:20 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id EDA653A6D09;
	Thu,  1 May 2008 14:13:18 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.6
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 tagged_above=-999 required=5 tests=[AWL=0.000,
	BAYES_00=-2.599, SPF_PASS=-0.001]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id BhJRiMpfMIyu; Thu,  1 May 2008 14:13:18 -0700 (PDT)
Received: from nostrum.com (unknown [IPv6:2001:470:1f03:267::2])
	by core3.amsl.com (Postfix) with ESMTP id BBDAD3A6A19;
	Thu,  1 May 2008 14:13:17 -0700 (PDT)
Received: from [172.16.3.232] (vicuna-alt.estacado.net [75.53.54.121])
	(authenticated bits=0)
	by nostrum.com (8.14.2/8.14.1) with ESMTP id m41LDIG7033685
	(version=TLSv1/SSLv3 cipher=AES128-SHA bits=128 verify=NO);
	Thu, 1 May 2008 16:13:18 -0500 (CDT)
	(envelope-from rjsparks@nostrum.com)
Message-Id: <CE81DDD1-82AF-4781-B785-7B3AC395FC87@nostrum.com>
From: Robert Sparks <rjsparks@nostrum.com>
To: "sip@ietf.org List" <sip@ietf.org>, simple mailing list <simple@ietf.org>, 
	mmusic@ietf.org
Mime-Version: 1.0 (Apple Message framework v919.2)
Date: Thu, 1 May 2008 16:13:17 -0500
X-Mailer: Apple Mail (2.919.2)
Received-SPF: pass (nostrum.com: 75.53.54.121 is authenticated by a trusted
	mechanism)
X-Virus-Scanned: ClamAV 0.93/6802/Wed Apr 16 12:35:44 2008 on
	shaman.nostrum.com
X-Virus-Status: Clean
Subject: [Sip] SIPit 22 summary
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
Reply-To: Robert Sparks <RjS@nostrum.com>
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Apologies for the delay in getting this to the lists - the survey  
software I've been using did something surprising and I had to go  
unravel a lot of information by hand. I will be using some other tool  
going forward.

You can see the summary from SIPit 22 at https://www.sipit.net/SIPit22_Summary

Please don't reply to this cross-posted message. Send a post directly  
to the appropriate list instead.

Thanks,

RjS
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu May  1 21:56:31 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 46C6728C0FB;
	Thu,  1 May 2008 21:56:31 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 339CB28C1B6
	for <sip@core3.amsl.com>; Thu,  1 May 2008 21:56:29 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -4.005
X-Spam-Level: 
X-Spam-Status: No, score=-4.005 tagged_above=-999 required=5
	tests=[AWL=-0.800, BAYES_00=-2.599, J_CHICKENPOX_23=0.6,
	J_CHICKENPOX_33=0.6, J_CHICKENPOX_54=0.6, J_CHICKENPOX_55=0.6,
	RCVD_IN_DNSWL_MED=-4, RELAY_IS_203=0.994]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id QUtrk2Y0ldpG for <sip@core3.amsl.com>;
	Thu,  1 May 2008 21:56:27 -0700 (PDT)
Received: from mailout1.samsung.com (mailout1.samsung.com [203.254.224.24])
	by core3.amsl.com (Postfix) with ESMTP id 2D28928C18B
	for <sip@ietf.org>; Thu,  1 May 2008 21:53:36 -0700 (PDT)
Received: from epmmp2 (mailout1.samsung.com [203.254.224.24])
	by mailout1.samsung.com
	(iPlanet Messaging Server 5.2 Patch 2 (built Jul 14 2004))
	with ESMTP id <0K08008GK5ELPB@mailout1.samsung.com> for sip@ietf.org;
	Fri, 02 May 2008 13:49:33 +0900 (KST)
Received: from mahesha ([107.108.74.147])
	by mmp2.samsung.com (iPlanet Messaging Server 5.2 Patch 2 (built Jul 14
	2004))
	with ESMTPA id <0K08009KL5EJ5R@mmp2.samsung.com> for sip@ietf.org; Fri,
	02 May 2008 13:49:33 +0900 (KST)
Date: Fri, 02 May 2008 10:23:51 +0530
From: Mahesh Anjanappa <mahesha@samsung.com>
To: Paul Kyzivat <pkyzivat@cisco.com>
Message-id: <0c1e01c8ac10$84e82640$934a6c6b@sisodomain.com>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2900.3198
X-Mailer: Microsoft Outlook Express 6.00.2900.3138
X-Priority: 3
X-MSMail-priority: Normal
References: <915213.97931.qm@web33504.mail.mud.yahoo.com>
	<481754BE.1060505@cisco.com>
	<0a4301c8aa73$ffb17500$934a6c6b@sisodomain.com>
	<48186E99.7080306@cisco.com>
	<0b3e01c8aace$23f060c0$934a6c6b@sisodomain.com>
	<48188BB1.2060707@cisco.com>
	<0bcb01c8ab76$623d8a30$934a6c6b@sisodomain.com>
	<4819B3CC.9060904@cisco.com>
Cc: sip@ietf.org, discussion@sipforum.org,
	gaurav katiyar <gaurav_katiyar@yahoo.com>
Subject: Re: [Sip] [SIPForum-discussion] What's the difference
 between	session and dialog in SIP?
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: multipart/mixed; boundary="===============1495276880=="
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

--===============1495276880==
Content-type: text/plain; format=flowed; charset=Windows-1252;
 reply-type=response
Content-transfer-encoding: 8BIT


>
> Mahesh Anjanappa wrote:
>>
>>> Mahesh Anjanappa wrote:
>>>>> I'm not fully understanding what you are proposing (see questions 
>>>>> above). I expect that it may start to fall apart in the details of 
>>>>> particular use cases. Will you explain to me how your definition 
>>>>> relates to the use case with A/B/C/D that I gave?
>>>>
>>>> OK,let me see.
>>>> A, C and D get into a Session/Contract to communicate using Video and 
>>>> Audio.
>>>
>>> I guess you misunderstand what I was describing.
>>>
>>> The SDP negotiated between A and B contains both audio and video.
>>>
>>> The SDP negotiated between B and C contains only audio. (B didn't offer 
>>> the video to C.)
>>>
>>> The SDP negotiated between B and D contains only video. (B didn't offer 
>>> the video to D.)
>>>
>>> The purpose of B is to consolidate an audio-only device and a video-only 
>>> device into what seems, to A, like one audio/video device.
>>
>> OK. In this case, there is one session between A and B. A doesnt know
>> anything about C & D. As far A is concerned it is communicating with B 
>> with
>> modality of Audio+Video. B sets up individual sessions with C and D.
>> (B is purpose-built just to send the Audio and Video to C & D resp.)
>> It seems to A as though B is one audio/video device.
>> C does not know about A & D nor does D know about A and C. So basically
>> there are 3 individual sessions and not a conference since A,C and D
>> are not aware of each other. All they do, is have their individual 
>> contract with
>> B. In contrast to a Conference wherein A,C and D would have been aware
>> about each other and a common contract hence a single session .
>
> OK, we are closer to agreement.
>
> Note that in a regular conference, a participant may or may not know it is 
> in a conference. If not, then it thinks it is in a session with the focus.

The Participant can be ignorant of the Conference, but that is only by 
choice
and not because the framework doesnt allow the Pariticpant to know it.
What i mean is that the Participant still is part of the same 
Contract(single
session or confernce) but just chooses not to see it. So i feel my defintion 
of
the *Session* stands good (survives:-) ) this  scenario.


>>> They don't all have the same contract. So by your definition I don't 
>>> think they can all have one session.
>>>
>>> In some conceptual sense you may think of this as one session. But its 
>>> hard to find any tangible item that they all have that refers to a 
>>> single session. In the end, from the point of view of B it may indeed be 
>>> one session. But A, C, and D can't perceive that.
>>>
>>>> The contract allows for either of the Media to be used hence C uses 
>>>> audio
>>>> and D uses video. B facilitates the Contract by holding the three 
>>>> dialogs.
>>>> The 3 dialogs are tied together by a Conference Id (i suppose)
>>>> thus COnference Id representing the Session Identifier.B too is 
>>>> considered a party in the
>>>> session though its role is different from that of A,C and D.
>>>
>>> If this were done with a conference mixer, and hence there was a 
>>> conference id, then I guess you could say that the conference id was an 
>>> identifier for the "session".
>>>
>>> But if B was purpose-built for this particular functionality, and there 
>>> is no conference id, then what?
>>
>> There are separate Session Id's for each of the three sessions, probably 
>> the
>> Session id carried in the SDP(but not neccessarily). A, C & D, each will 
>> be
>> bothered about ONLY their respective Session Id's (one each) with B.
>> B is aware of all the session id's and would want to collate them for an 
>> app
>> specific reason but not for the notion of  *SIP Session* that we discuss 
>> here.
>> In simple words,even B sees it as 3 SIP Sessions rather than 1 though the
>> three collated by some logic by B.
>
> So, is there one session, three, or four? Does it matter?
>
>>> And in a simple call between A and C there would be no conference id, so 
>>> something else must serve as the "session" identifier. But in that case, 
>>> it would seem that these aren't the *same* notion of session.
>>>
>>> You asked why I didn't think it was important to define session. I will 
>>> admit that it seems odd to have a Session Initiation Protocol without a 
>>> clear idea of what this "session" is that it is initiating. So it indeed 
>>> would be *nice* to have a definition that covers all the cases.
>>>
>>> But not having one doesn't seem to be preventing anyone from doing 
>>> anything, does it?
>>
>> Thats right, it doesnt prevent anyone from doing "anything", everybody
>> does their own thing since no single guiding principle. Look at  what,
>> has happened with INFO :-). Anyway, its just my opinion, i shall not
>> cause further degression from the actual technical topic at hand :-)
>
> Do you mean that you think there are things people are doing that they 
> shouldn't be doing, and wouldn't be doing if there was a better definition 
> of session?

Well, i dont have enough data to state that "there are things people are
doing that they shouldnt be doing", but i can definitely say that by not 
providing
a definition for Session it is gives huge room for different perceptions and
hence for different incorrent usages which later on will come to dog IETF
discussion rooms when implementors get into trouble.

My main requirement for a definition is that it shall serve as a base 
principle
whenever a designer gets into a situation and wants to make a decision
as to which is the right way while designing some SIP based mechanism.
Let me give an example:
Consider design of a Rich Chat Application which provides for Text Chat
as well as Video share.
The Application CAN have two SIP dialogs, one for realising Text Mesaging
session/contract and another for Video sharing session/contract.
Lets assume for  a moment that the concept of session is non-existent
because it hasnt been concretely defined.
Now if a "is typing" kind of signal information has to be sent to the 
remote, a
Designer can argue that it can be sent on either of the two dialogs because
both are between the same Application/UA and there is no other basis to
discrimnate the two to favour one over the other.
But instead if we DID have a defintion for Session, the designer would refer 
to the
base principle of Session and decide to send it over the dialog being used 
for the
Text Messaging Session.


>>> From a practical perspective I think the thing that is being initiated 
>>> by SIP is the contract established by a matching offer/answer. That is 
>>> fairly straightforward when the UAC and UAS are the offerer and 
>>> answerer, or visa versa. It gets messy when other UAs are involved in 
>>> the construction of the offer and the answer. And in those cases it gets 
>>> really hard to figure out what the session is, because not all the 
>>> parties will agree.
>>
>> Right, so dont you feel there a loose end somewhere and need to be tied.
>
> I guess possibly it might be helpful to more carefully define the term 
> "session" as used in sip. But I think only to *narrow* its scope so that 
> people don't read too much into it. But I see no urgency to that.
>

:-) :-), Paul when would you see the urgency for it ? :-) probably until 
then
we can defer the discussion :-):-)

> Paul
>
>>> Paul
>>>
>>>>> Paul
>>>>>
>>>>>> regards
>>>>>> Mahesh
>>>>>>
>>>>>> ----- Original Message ----- From: "Paul Kyzivat" 
>>>>>> <pkyzivat@cisco.com>
>>>>>> To: "gaurav katiyar" <gaurav_katiyar@yahoo.com>
>>>>>> Cc: <sip@ietf.org>; <discussion@sipforum.org>; <bmwg@ietf.org>
>>>>>> Sent: Tuesday, April 29, 2008 10:32 PM
>>>>>> Subject: Re: [Sip] [SIPForum-discussion] What's the difference 
>>>>>> between session and dialog in SIP?
>>>>>>
>>>>>>
>>>>>>>
>>>>>>>
>>>>>>> gaurav katiyar wrote:
>>>>>>>> Sip "Session Initiation Protocol". It talks about media session, i 
>>>>>>>> mean
>>>>>>>> how to initiate, modify and terminate a session and Dialog provides 
>>>>>>>> a
>>>>>>>> sort of context (like caller, callee, location, routing etc.) to 
>>>>>>>> modify
>>>>>>>> this session. So dialog is more related to route the sip message to
>>>>>>>> right node and body (SDP) handles media session if present. Dialogs 
>>>>>>>> may
>>>>>>>> have media sessions Or may not.
>>>>>>>>
>>>>>>>> Take an example of B2BUA. It is a type of statefull proxy having 
>>>>>>>> two
>>>>>>>> dialog and one media session if doing media routing.
>>>>>>>
>>>>>>> Maybe. IMO these concepts aren't sufficiently defined.
>>>>>>>
>>>>>>> One view is that a session is whatever SDP describes. Thus its one
>>>>>>> session regardless of how many media streams it contains. And in the
>>>>>>> case of an SDP containing multicast media addresses, and possibly
>>>>>>> advertised via SAP, there could be many participants in the same 
>>>>>>> session.
>>>>>>>
>>>>>>> But then in sip it takes a pair of SDPs to establish a call. Is that 
>>>>>>> one
>>>>>>> session, or two? And in your case above with the B2BUA, is it one
>>>>>>> session, or two, or four?
>>>>>>>
>>>>>>> Another view is that a session in the context of sip is whatever is
>>>>>>> established as a result of an INVITE. Then I guess the pair of SDPs
>>>>>>> together describe one session, regardless of how many media streams. 
>>>>>>> But
>>>>>>> in that case the B2BUA example would be two sessions.
>>>>>>>
>>>>>>> Then consider a more complex case:
>>>>>>>
>>>>>>>                     audio
>>>>>>>                  /-------- C
>>>>>>>                 /
>>>>>>>   A ========== B
>>>>>>>     audio       \
>>>>>>>     video        \-------- D
>>>>>>>                     video
>>>>>>>
>>>>>>> Here B is a B2BUA and media relay as in your example, but one stream 
>>>>>>> is
>>>>>>> relayed to C and the other to D.
>>>>>>>
>>>>>>> In this case, how many sessions are there? A, C, and D each have 
>>>>>>> one,
>>>>>>> but are any of those the same? Or are there three altogether?
>>>>>>>
>>>>>>> When I see "session" used, I just assume it means something vague, 
>>>>>>> and
>>>>>>> read on to see what is actually meant.
>>>>>>>
>>>>>>> Paul
>>>>>>>
>>>>>>>> */Donald Lee <baolovebao@gmail.com>/* wrote:
>>>>>>>>
>>>>>>>>     old good questions in sip, also add another "transaction".
>>>>>>>>
>>>>>>>>
>>>>>>>>     On Fri, Apr 25, 2008 at 8:18 AM, 孙宗君 <szj087@gmail.com
>>>>>>>>     <mailto:szj087@gmail.com>> wrote:
>>>>>>>>
>>>>>>>>         Hi, Vijay
>>>>>>>>
>>>>>>>>         Thanks very much for your timely answers.
>>>>>>>>
>>>>>>>>          From this specification,  session is a combination of 
>>>>>>>> signaling
>>>>>>>>         plane
>>>>>>>>         and media plane messages and processes that enable two or 
>>>>>>>> more
>>>>>>>>         participants to communicate. I think session is a larger 
>>>>>>>> scope than
>>>>>>>>         dialog. In another word, one session can contain more than 
>>>>>>>> one
>>>>>>>>         dialog.
>>>>>>>>         Is what I understand right?
>>>>>>>>
>>>>>>>>         Zongjun
>>>>>>>>
>>>>>>>>
>>>>>>>>         2008/4/24, Vijay K. Gurbani <vkg@alcatel-lucent.com
>>>>>>>>         <mailto:vkg@alcatel-lucent.com>>:
>>>>>>>>          > There is some work progressing in the BMWG WG to create
>>>>>>>>         performance
>>>>>>>>          >  metrics around SIP.  One of the first tasks in such an 
>>>>>>>> endeavor
>>>>>>>>          >  is to define the notion of dialogs and sessions. 
>>>>>>>> Please see
>>>>>>>>          >  Section 3.1.1 of
>>>>>>>>          >
>>>>>>>>
>>>>>>>> https://svn.resiprocate.org/rep/ietf-drafts/gurbani/bmwg-sip-bench-term/draft-ietf-bmwg-sip-term-00.txt
>>>>>>>>          >  of the above draft for some insight.
>>>>>>>>          >
>>>>>>>>          >  Ëï×Ú¾ý wrote:
>>>>>>>>          >
>>>>>>>>          > > Hi, Lincoln
>>>>>>>>          > >
>>>>>>>>          > > thanks for your instructions.
>>>>>>>>          > >
>>>>>>>>          > > I know that dialog can exist without session since
>>>>>>>>         SUBSCRIBE/REFER can
>>>>>>>>          > > create dialog and without any media between 
>>>>>>>> communication
>>>>>>>>         peers.
>>>>>>>>          > >
>>>>>>>>          > > What I want to know is the relationship of dialog and
>>>>>>>>         session when
>>>>>>>>          > > they both exist in one communication activity. Take a
>>>>>>>>         example, when
>>>>>>>>          > > there are 2 person participating talks with voice, we 
>>>>>>>> say
>>>>>>>>         there is a
>>>>>>>>          > > dialog and a session.
>>>>>>>>          > >
>>>>>>>>          > > But when one caller invites another callee and gets 
>>>>>>>> five
>>>>>>>>         200 final
>>>>>>>>          > > responses from 5 UA every of which has its own session
>>>>>>>>         description. We
>>>>>>>>          > > can say that there are 5 dialogs between caller and 
>>>>>>>> the other 5
>>>>>>>>          > > callees, right? And then what is the exact number of
>>>>>>>>         session in this
>>>>>>>>          > > scenario? One session or five session? That is what I 
>>>>>>>> want
>>>>>>>>         to know.
>>>>>>>>          > >
>>>>>>>>          > > Dialog is determined by dialogID (call-id, from/to 
>>>>>>>> tag) and
>>>>>>>>         session id
>>>>>>>>          > > is determined by session id given in the SDP message. 
>>>>>>>> My
>>>>>>>>         answer is
>>>>>>>>          > > there are 5 dialog and one session now, right?
>>>>>>>>          > >
>>>>>>>>          >
>>>>>>>>          >  - vijay
>>>>>>>>          >  --
>>>>>>>>          >  Vijay K. Gurbani, Bell Laboratories, Alcatel-Lucent
>>>>>>>>          >  2701 Lucent Lane, Rm. 9F-546, Lisle, Illinois 60532 
>>>>>>>> (USA)
>>>>>>>>          >  Email: vkg@{alcatel-lucent.com
>>>>>>>>         <http://alcatel-lucent.com/>,bell-labs.com
>>>>>>>>         <http://bell-labs.com/>,acm.org <http://acm.org/>}
>>>>>>>>          >  WWW:   http://www.alcatel-lucent.com/bell-labs
>>>>>>>>          >
>>>>>>>>         _______________________________________________
>>>>>>>>         Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
>>>>>>>>         This list is for NEW development of the core SIP Protocol
>>>>>>>>         Use sip-implementors@cs.columbia.edu
>>>>>>>>         <mailto:sip-implementors@cs.columbia.edu> for questions on
>>>>>>>>         current sip
>>>>>>>>         Use sipping@ietf.org <mailto:sipping@ietf.org> for new
>>>>>>>>         developments on the application of sip
>>>>>>>>
>>>>>>>>
>>>>>>>>
>>>>>>>>
>>>>>>>>     --     BR
>>>>>>>>     Donald _______________________________________________
>>>>>>>>     This is the SIP Forum discussion mailing list
>>>>>>>>     TO UNSUBSCRIBE, or edit your delivery options, please visit
>>>>>>>>     http://sipforum.org/mailman/listinfo/discussion
>>>>>>>>     Post to the list at discussion@sipforum.org
>>>>>>>>
>>>>>>>>
>>>>>>>>
>>>>>>>>
>>>>>>>> Gaurav Katiyar
>>>>>>>> Induslogic india pvt. ltd
>>>>>>>> B-34/1 sector 59 NOIDA
>>>>>>>> Phone:9818381368
>>>>>>>>
>>>>>>>>
>>>>>>>> ------------------------------------------------------------------------
>>>>>>>>
>>>>>>>>
>>>>>>>> Be a better friend, newshound, and know-it-all with Yahoo! Mobile. 
>>>>>>>> Try
>>>>>>>> it now.
>>>>>>>> <http://us.rd.yahoo.com/evt=51733/*http://mobile.yahoo.com/;_ylt=Ahu06i62sR8HDtDypao8Wcj9tAcJ
>>>>>>>>  >
>>>>>>>>
>>>>>>>>
>>>>>>>> ------------------------------------------------------------------------
>>>>>>>>
>>>>>>>>
>>>>>>>>
>>>>>>>> _______________________________________________
>>>>>>>> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
>>>>>>>> This list is for NEW development of the core SIP Protocol
>>>>>>>> Use sip-implementors@cs.columbia.edu for questions on current sip
>>>>>>>> Use sipping@ietf.org for new developments on the application of sip
>>>>>>>
>>>>>>
>>>>>>
>>>>>> --------------------------------------------------------------------------------
>>>>>>
>>>>>>
>>>>>>
>>>>>>
>>>>>>
>>>>>>> _______________________________________________
>>>>>>> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
>>>>>>> This list is for NEW development of the core SIP Protocol
>>>>>>> Use sip-implementors@cs.columbia.edu for questions on current sip
>>>>>>> Use sipping@ietf.org for new developments on the application of sip
>>>>>>>
>>>>>>
>>>>
>> 

--===============1495276880==
Content-Type: text/plain; charset="us-ascii"
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip
--===============1495276880==--


From sip-bounces@ietf.org  Fri May  2 02:46:03 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 4300D3A6A65;
	Fri,  2 May 2008 02:46:03 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id CA9D63A6A65
	for <sip@core3.amsl.com>; Fri,  2 May 2008 02:46:02 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.449
X-Spam-Level: 
X-Spam-Status: No, score=-2.449 tagged_above=-999 required=5 tests=[AWL=0.150, 
	BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id mavnB5eER7sW for <sip@core3.amsl.com>;
	Fri,  2 May 2008 02:46:01 -0700 (PDT)
Received: from voxeo.com (mmail.voxeo.com [66.193.54.208])
	by core3.amsl.com (Postfix) with ESMTP id 53B083A6AA4
	for <sip@ietf.org>; Fri,  2 May 2008 02:46:00 -0700 (PDT)
Received: from pc-00144.lodestar2.dyndns.org (account dyork [75.68.245.43]
	verified) by voxeo.com (CommuniGate Pro SMTP 5.1.14)
	with ESMTPSA id 30498951; Fri, 02 May 2008 09:46:02 +0000
Message-Id: <DDD632E2-1EE2-4023-98AD-20A02BF673C7@voxeo.com>
From: Dan York <dyork@voxeo.com>
To: Dan Wing <dwing@cisco.com>
In-Reply-To: <036701c8a3dc$b0779a20$c2f0200a@cisco.com>
Mime-Version: 1.0 (Apple Message framework v919.2)
Date: Fri, 2 May 2008 05:46:00 -0400
References: <036701c8a3dc$b0779a20$c2f0200a@cisco.com>
X-Mailer: Apple Mail (2.919.2)
Cc: 'SIP IETF' <sip@ietf.org>
Subject: Re: [Sip] R-CERTS in draft-ietf-sip-media-security-requirements
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Dan,

On Apr 21, 2008, at 2:22 PM, Dan Wing wrote:

> During WGLC an objection was raised about R-CERTS in
> draft-ietf-sip-media-security-requirements.  I currently have  
> proposals for:
>
>  * reverting to the R12 text
>  * sticking with R-CERTS text
>  * removing the text completely
>
> I would like to understand what people want this requirement to  
> *mean* -- does
> it say what you think it should say?  Does it miss some aspect of
> signing/certificates that is important?

DY> I think this is an important requirement in that it allows the use  
of self-signed certificates.  If I recall previous discussions  
correctly, the major concern was that we didn't want to get in a  
situation where in order to use a key management protocol all parties  
were *required* to obtain certificates signed by a formal Certificate  
Authority.   We wanted any solution to allow the optional use of self- 
signed certs for various instances where CA-signed certs might not be  
appropriate or necessary.

DY> So I think the *intent* of the requirement - as I understand it -  
is still important to capture.  What about merging R12 and R-CERTS by  
simply replacing the "CA-issued" with "3rd-party-signed", as in:

   R-CERTS:  If the media security key management protocol
         employs certificates, it MUST be able to make use of both
         self-signed and 3rd-party-signed certificates.

DY> Or is that muddying things up even more?

My 2 cents,
Dan

>
>
> -----
>
> Details:
>
> In draft-ietf-sip-media-security-requirements-00 and -01, we had:
>
>   R12:  The media security key management protocol MUST NOT
>         require 3rd parties to sign certificates.
>
> in draft-ietf-sip-media-security-requirements-02, this was renamed  
> to R-CERTS
> and also had its text change to:
>
>   R-CERTS:  If the media security key management protocol
>         employs certificates, it MUST be able to make use of both
>         self-signed and CA-issued certificates.  As an alternative,
>         the media security key management protocol MAY make use of
>         "bare" public keys.
>
>
> Here is how some key management systems would fare with the original  
> R12 text:
>
>  * RFC4474 would comply -- because RFC4474 allows both self-signed
>    certificates and allows CA-signed certificates (reference end of
>    Step 1 of Section 6 of RFC4474).  One might reasonably expect most
>    deployments will use CA-signed certificates.
>
>  * OpenPGP certificates (if someone were to use it for SRTP
>    keying) would comply -- because R12 allows you to sign your own
>    key and does not require someone else sign your key.  One might
>    expect most deployments would include signatures by other
>    people (3rd parties).
>
>  * ZRTP would comply -- because there are no 3rd party signatures
>    whatsoever.
>
>  * MIKEY-RSA complies -- because it allows self-signed certificates
>    (reference the first bullet of Section 4.3.2 of RFC3830).
>
>  * Identity-Based Encryption (if someone were to use it for SRTP
>    keying) would comply -- because IBE uses 'bare' public keys.
>
>
> and with the R-CERTS text:
>
>  * RFC4474 would comply (same reason as R12).
>
>  * OpenPGP certificates (if someone were to use it for SRTP keying)
>    would not comply -- because R-CERTS allows you to sign your own
>    key, but only mentions Certificate Authorities as 3rd party
>    signers; OpenPGP does not have 'certificate authorities'.
>
>  * ZRTP would comply (same reason as R12).
>
>  * MIKEY-RSA complies (same reason as R12).
>
>  * Identity-Based Encryption (if someone were to use it for SRTP
>    keying) would comply (same reason as R12).
>
> -d
>
> _______________________________________________
> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip

-- 
Dan York, CISSP, Director of Emerging Communication Technology
Office of the CTO    Voxeo Corporation     dyork@voxeo.com
Phone: +1-407-455-5859  Skype: danyork  http://www.voxeo.com
Blogs: http://blogs.voxeo.com  http://www.disruptivetelephony.com

Build voice applications based on open standards.
Find out how at http://www.voxeo.com/free





_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Fri May  2 06:18:53 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 4085D3A6A40;
	Fri,  2 May 2008 06:18:53 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 7B04E3A69D8
	for <sip@core3.amsl.com>; Fri,  2 May 2008 06:18:51 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.599
X-Spam-Level: 
X-Spam-Status: No, score=-2.599 tagged_above=-999 required=5
	tests=[BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id WNwOURsG8kR3 for <sip@core3.amsl.com>;
	Fri,  2 May 2008 06:18:50 -0700 (PDT)
Received: from mx11.bbn.com (mx11.bbn.com [128.33.0.80])
	by core3.amsl.com (Postfix) with ESMTP id 9A4E93A6897
	for <sip@ietf.org>; Fri,  2 May 2008 06:18:50 -0700 (PDT)
Received: from [128.89.255.165] (helo=[127.0.0.1])
	by mx11.bbn.com with esmtp (Exim 4.60)
	(envelope-from <rbarnes@bbn.com>)
	id 1JrvA4-0004qd-3m; Fri, 02 May 2008 09:18:52 -0400
Message-ID: <481B14BA.8000803@bbn.com>
Date: Fri, 02 May 2008 09:18:50 -0400
From: Richard Barnes <rbarnes@bbn.com>
User-Agent: Thunderbird 2.0.0.14 (Windows/20080421)
MIME-Version: 1.0
To: Dan York <dyork@voxeo.com>
References: <036701c8a3dc$b0779a20$c2f0200a@cisco.com>
	<DDD632E2-1EE2-4023-98AD-20A02BF673C7@voxeo.com>
In-Reply-To: <DDD632E2-1EE2-4023-98AD-20A02BF673C7@voxeo.com>
Cc: 'SIP IETF' <sip@ietf.org>, Dan Wing <dwing@cisco.com>
Subject: Re: [Sip] R-CERTS in draft-ietf-sip-media-security-requirements
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Hi Dan,

Response below...

> If I recall previous discussions  
> correctly, the major concern was that we didn't want to get in a  
> situation where in order to use a key management protocol all parties  
> were *required* to obtain certificates signed by a formal Certificate  
> Authority.   
 >
> DY> So I think the *intent* of the requirement - as I understand it -  
> is still important to capture.  What about merging R12 and R-CERTS by  
> simply replacing the "CA-issued" with "3rd-party-signed", as in:
> 
>    R-CERTS:  If the media security key management protocol
>          employs certificates, it MUST be able to make use of both
>          self-signed and 3rd-party-signed certificates.
> 
> DY> Or is that muddying things up even more?

Yes :)

The issue here is that "self-signed" certificates and "3rd-party-issued" 
certificates are indistinguishable -- in order to be an issuer for a 
certificate (including itself!) a certificate MUST be a CA certificate, 
so all self-signed certs are CA certs.

And that means that there's no technical means to distinguish between 
"self-signed" certs and "3rd-party-issued" certs, so any protocol that 
tried to would be non-sensical regardless of this requirement.

Really, the issue of which parties are trusted sign certificates is an 
issue of local authorization policy, not of protocol design.  Regardless 
of the data items carried in the protocol, it is up to the communicating 
peers to decide which certificates are acceptable and which aren't.

That means that this requirement has no effect as a selector among 
protocols (no protocol would violate it), and it creates precisely the 
confusion that you have described, namely that the question of which 
certificates are authorized signers is one of protocol design, not local 
policy.  This is why I think that the requirement should just be 
removed: It's a no-op technically, and it creates confusion.

--Richard


_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Fri May  2 09:15:12 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 625C93A6C7B;
	Fri,  2 May 2008 09:15:12 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 07D4228C231
	for <sip@core3.amsl.com>; Fri,  2 May 2008 09:15:11 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: 2.828
X-Spam-Level: **
X-Spam-Status: No, score=2.828 tagged_above=-999 required=5 tests=[AWL=3.290, 
	BAYES_00=-2.599, HELO_EQ_MODEMCABLE=0.768,
	HOST_EQ_MODEMCABLE=1.368, HTML_MESSAGE=0.001]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id DO1fuRBB9hn0 for <sip@core3.amsl.com>;
	Fri,  2 May 2008 09:15:10 -0700 (PDT)
Received: from ondar.cablelabs.com (ondar.cablelabs.com [192.160.73.61])
	by core3.amsl.com (Postfix) with ESMTP id EF39B3A6C7B
	for <sip@ietf.org>; Fri,  2 May 2008 09:15:09 -0700 (PDT)
Received: from kyzyl.cablelabs.com (kyzyl [10.253.0.7])
	by ondar.cablelabs.com (8.14.2/8.14.2) with ESMTP id m42GFB2s029302
	for <sip@ietf.org>; Fri, 2 May 2008 10:15:11 -0600
Received: from srvxchg3.cablelabs.com (10.5.0.25)
	by kyzyl.cablelabs.com (F-Secure/fsigk_smtp/511/kyzyl.cablelabs.com);
	Fri, 2 May 2008 10:15:11 -0700 (MST)
X-Virus-Status: clean(F-Secure/fsigk_smtp/511/kyzyl.cablelabs.com)
X-Mimeole: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Fri, 2 May 2008 10:15:09 -0600
Message-ID: <B1ED8A2E683E16479C92C3F4AE13677BCC0491@srvxchg3.cablelabs.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: draft-dotson-sip-mutual-auth-02
Thread-Index: Acisb7EWlf1RomROQAK7pEwUUCOO4g==
From: "Stuart Hoggan" <s.hoggan@CableLabs.com>
To: <sip@ietf.org>
X-Approved: ondar
Subject: [Sip] draft-dotson-sip-mutual-auth-02
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: multipart/mixed; boundary="===============1810106413=="
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

This is a multi-part message in MIME format.

--===============1810106413==
Content-class: urn:content-classes:message
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C8AC6F.B29D8C32"

This is a multi-part message in MIME format.

------_=_NextPart_001_01C8AC6F.B29D8C32
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

Folks,

=20

Based on the feedback received in Philadelphia, we have updated
draft-dotson-sip-mutual-auth. The changes clarify the usage of the
Proxy-Authentication-Info header, including support for multiple values.


=20

Any further comments or suggestions will be appreciated. It would also
be nice to obtain WG feedback on pursuing this I-D as a WG document.

=20

Regards,

Stuart

=20


------_=_NextPart_001_01C8AC6F.B29D8C32
Content-Type: text/html;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

<html xmlns:o=3D"urn:schemas-microsoft-com:office:office" =
xmlns:w=3D"urn:schemas-microsoft-com:office:word" =
xmlns:st1=3D"urn:schemas-microsoft-com:office:smarttags" =
xmlns=3D"http://www.w3.org/TR/REC-html40">

<head>
<META HTTP-EQUIV=3D"Content-Type" CONTENT=3D"text/html; =
charset=3Dus-ascii">
<meta name=3DGenerator content=3D"Microsoft Word 11 (filtered medium)">
<o:SmartTagType =
namespaceuri=3D"urn:schemas-microsoft-com:office:smarttags"
 name=3D"City"/>
<o:SmartTagType =
namespaceuri=3D"urn:schemas-microsoft-com:office:smarttags"
 name=3D"place"/>
<!--[if !mso]>
<style>
st1\:*{behavior:url(#default#ieooui) }
</style>
<![endif]-->
<style>
<!--
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin:0in;
	margin-bottom:.0001pt;
	font-size:12.0pt;
	font-family:"Times New Roman";}
a:link, span.MsoHyperlink
	{color:blue;
	text-decoration:underline;}
a:visited, span.MsoHyperlinkFollowed
	{color:purple;
	text-decoration:underline;}
span.EmailStyle17
	{mso-style-type:personal-compose;
	font-family:Arial;
	color:windowtext;}
@page Section1
	{size:8.5in 11.0in;
	margin:1.0in 1.25in 1.0in 1.25in;}
div.Section1
	{page:Section1;}
-->
</style>

</head>

<body lang=3DEN-US link=3Dblue vlink=3Dpurple>

<div class=3DSection1>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier =
New"'>Folks,<o:p></o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier =
New"'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier New"'>Based on the =
feedback
received in <st1:City w:st=3D"on"><st1:place =
w:st=3D"on">Philadelphia</st1:place></st1:City>,
we have updated draft-dotson-sip-mutual-auth. The changes clarify the =
usage of
the Proxy-Authentication-Info header, including support for multiple =
values. <o:p></o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier =
New"'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier New"'>Any further =
comments or
suggestions will be appreciated. It would also be nice to obtain WG =
feedback on
pursuing this I-D as a WG document.<o:p></o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier =
New"'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier =
New"'>Regards,<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:10.0pt;
font-family:"Courier New"'>Stuart<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D3 face=3D"Times New Roman"><span =
style=3D'font-size:
12.0pt'><o:p>&nbsp;</o:p></span></font></p>

</div>

</body>

</html>

------_=_NextPart_001_01C8AC6F.B29D8C32--

--===============1810106413==
Content-Type: text/plain; charset="us-ascii"
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip
--===============1810106413==--


From sip-bounces@ietf.org  Fri May  2 10:07:47 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 8908D3A6C98;
	Fri,  2 May 2008 10:07:47 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 715ED3A6C98
	for <sip@core3.amsl.com>; Fri,  2 May 2008 10:07:46 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -6.562
X-Spam-Level: 
X-Spam-Status: No, score=-6.562 tagged_above=-999 required=5 tests=[AWL=0.038, 
	BAYES_00=-2.599, RCVD_IN_DNSWL_MED=-4]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id qL5UW1lz95ie for <sip@core3.amsl.com>;
	Fri,  2 May 2008 10:07:45 -0700 (PDT)
Received: from sj-iport-6.cisco.com (sj-iport-6.cisco.com [171.71.176.117])
	by core3.amsl.com (Postfix) with ESMTP id E72383A6A08
	for <sip@ietf.org>; Fri,  2 May 2008 10:07:44 -0700 (PDT)
Received: from sj-dkim-4.cisco.com ([171.71.179.196])
	by sj-iport-6.cisco.com with ESMTP; 02 May 2008 10:07:46 -0700
Received: from sj-core-1.cisco.com (sj-core-1.cisco.com [171.71.177.237])
	by sj-dkim-4.cisco.com (8.12.11/8.12.11) with ESMTP id m42H7kqH008667; 
	Fri, 2 May 2008 10:07:46 -0700
Received: from dwingwxp01 ([10.32.240.195])
	by sj-core-1.cisco.com (8.13.8/8.13.8) with ESMTP id m42H7jXk008025;
	Fri, 2 May 2008 17:07:46 GMT
From: "Dan Wing" <dwing@cisco.com>
To: "'Richard Barnes'" <rbarnes@bbn.com>, "'Dan York'" <dyork@voxeo.com>
References: <036701c8a3dc$b0779a20$c2f0200a@cisco.com>
	<DDD632E2-1EE2-4023-98AD-20A02BF673C7@voxeo.com>
	<481B14BA.8000803@bbn.com>
Date: Fri, 2 May 2008 10:07:45 -0700
Message-ID: <0d0501c8ac77$0ad0a230$c3f0200a@cisco.com>
MIME-Version: 1.0
X-Mailer: Microsoft Office Outlook 11
In-Reply-To: <481B14BA.8000803@bbn.com>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.3198
Thread-Index: AcisVxXsJgrJ/cd6TDq2sqqe+ffYOwAG6DDw
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; l=3707; t=1209748066;
	x=1210612066; c=relaxed/simple; s=sjdkim4002;
	h=Content-Type:From:Subject:Content-Transfer-Encoding:MIME-Version;
	d=cisco.com; i=dwing@cisco.com;
	z=From:=20=22Dan=20Wing=22=20<dwing@cisco.com>
	|Subject:=20RE=3A=20[Sip]=20R-CERTS=20in=20draft-ietf-sip-m
	edia-security-requirements |Sender:=20;
	bh=Jyyi3kmtjGNNpCkhuuQSXdhVjAL+tlAO1HkxKfCKGJM=;
	b=e5fHEVsvicfT1JLhRWusy5ZfQLm0mCqw3SoYsB4Ihv+VI+skco4ixbN0Po
	8CmHxq5I6vWgT1iNMA7HBWZW65bSgmSVAqnLPyhyhQqHMUAAPomEFctb80Le
	HfFowMqDO/;
Authentication-Results: sj-dkim-4; header.From=dwing@cisco.com; dkim=pass (
	sig from cisco.com/sjdkim4002 verified; ); 
Cc: 'SIP IETF' <sip@ietf.org>
Subject: Re: [Sip] R-CERTS in draft-ietf-sip-media-security-requirements
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

 

> -----Original Message-----
> From: Richard Barnes [mailto:rbarnes@bbn.com] 
> Sent: Friday, May 02, 2008 6:19 AM
> To: Dan York
> Cc: Dan Wing; 'SIP IETF'
> Subject: Re: [Sip] R-CERTS in 
> draft-ietf-sip-media-security-requirements
> 
> Hi Dan,
> 
> Response below...
> 
> > If I recall previous discussions  
> > correctly, the major concern was that we didn't want to get in a  
> > situation where in order to use a key management protocol 
> all parties  
> > were *required* to obtain certificates signed by a formal 
> Certificate  
> > Authority.   
>  >
> > DY> So I think the *intent* of the requirement - as I 
> understand it -  
> > is still important to capture.  What about merging R12 and 
> R-CERTS by  
> > simply replacing the "CA-issued" with "3rd-party-signed", as in:
> > 
> >    R-CERTS:  If the media security key management protocol
> >          employs certificates, it MUST be able to make use of both
> >          self-signed and 3rd-party-signed certificates.
> > 
> > DY> Or is that muddying things up even more?
> 
> Yes :)
> 
> The issue here is that "self-signed" certificates and 
> "3rd-party-issued" 
> certificates are indistinguishable -- in order to be an issuer for a 
> certificate (including itself!) a certificate MUST be a CA 
> certificate, 
> so all self-signed certs are CA certs.
> 
> And that means that there's no technical means to distinguish between 
> "self-signed" certs and "3rd-party-issued" certs, so any 
> protocol that tried to would be non-sensical regardless of 
> this requirement.
>
> Really, the issue of which parties are trusted sign 
> certificates is an 
> issue of local authorization policy, not of protocol design.  
> Regardless 
> of the data items carried in the protocol, it is up to the 
> communicating 
> peers to decide which certificates are acceptable and which aren't.

Yes, that is what we want R-CERTS to say.

Firefox 3.0b5 can distinguish between the certificates signed by
https://www.softarmor.com and https://sourceforge.net, because
the first is signed by a CA that Firefox has never heard of
(ca.softarmor.com) and the second is signed by a CA that Firefox
has in its trust list (geotrust.com).

On the wire, I agree it is impossible to tell if one or both
of those signers is on Firefox's trust list.

What R-CERTS is trying to explain is that we don't want to *rely*
on a list of trusted CAs to be carried around.  Rather, the text
is trying to say that we want implementations to allow building
their own list of trusted certificates.  That is, we want the 
protocol and the implementation to be able to do something 
functionally similar to Firefox's dialog box that shows
the certificate and asks if you want to allow it, or allows
you to pre-load a configuration file with certificates you
trust, etc. -- doing so allows us to avoid relying on everyone 
in the world using some a-priori-agreed upon list of "trusted CAs".

> That means that this requirement has no effect as a selector among 
> protocols (no protocol would violate it), and it creates precisely the 
> confusion that you have described, namely that the question of which 
> certificates are authorized signers is one of protocol 
> design, not local 
> policy.  This is why I think that the requirement should just be 
> removed: It's a no-op technically, and it creates confusion.

Perhaps it should dictate local policy, somewhat along the lines
of:

<strawman>

  R-CERTS:

  Local policy MUST permit a mechanism for an authorized party to 
  install trusted certificates.  Local policy MAY also use 
  trusted CAs.

</strawman>

-d

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Fri May  2 10:08:22 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 9B93428C2E4;
	Fri,  2 May 2008 10:08:22 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id BDE6628C2A9
	for <sip@core3.amsl.com>; Fri,  2 May 2008 10:08:21 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.524
X-Spam-Level: 
X-Spam-Status: No, score=-2.524 tagged_above=-999 required=5 tests=[AWL=0.075, 
	BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id NQNeM-Ok8gWL for <sip@core3.amsl.com>;
	Fri,  2 May 2008 10:08:20 -0700 (PDT)
Received: from voxeo.com (mmail.voxeo.com [66.193.54.208])
	by core3.amsl.com (Postfix) with ESMTP id 8620328C29A
	for <sip@ietf.org>; Fri,  2 May 2008 10:08:20 -0700 (PDT)
Received: from pc-00144.lodestar2.dyndns.org (account dyork [75.68.245.43]
	verified) by voxeo.com (CommuniGate Pro SMTP 5.1.14)
	with ESMTPSA id 30509933; Fri, 02 May 2008 17:08:21 +0000
Message-Id: <EB382A4A-0F6C-46BA-BF7A-2E2C3BAE7F89@voxeo.com>
From: Dan York <dyork@voxeo.com>
To: Richard Barnes <rbarnes@bbn.com>
In-Reply-To: <481B14BA.8000803@bbn.com>
Mime-Version: 1.0 (Apple Message framework v919.2)
Date: Fri, 2 May 2008 13:08:19 -0400
References: <036701c8a3dc$b0779a20$c2f0200a@cisco.com>
	<DDD632E2-1EE2-4023-98AD-20A02BF673C7@voxeo.com>
	<481B14BA.8000803@bbn.com>
X-Mailer: Apple Mail (2.919.2)
Cc: 'SIP IETF' <sip@ietf.org>, Dan Wing <dwing@cisco.com>
Subject: Re: [Sip] R-CERTS in draft-ietf-sip-media-security-requirements
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Richard,

On May 2, 2008, at 9:18 AM, Richard Barnes wrote:

> The issue here is that "self-signed" certificates and "3rd-party- 
> issued" certificates are indistinguishable -- in order to be an  
> issuer for a certificate (including itself!) a certificate MUST be a  
> CA certificate, so all self-signed certs are CA certs.

DY> Okay, so that is technically true, although perhaps we need to  
clarify the thinking around a "CA cert".  Let's call a spade a spade  
and spell out this issue like this:

DY> We don't want a key exchange mechanism that absolutely requires  
endpoints to have to buy potentially expensive certs from central CAs  
simply in order to communicate.  It is a requirement that any media  
key exchange mechanism allow the use of self-signed certs.

DY> That's the net of it.  And while all the *current* proposals for  
key exchange comply with that idea, I think we need to state that in  
our requirements because there undoubtedly will be future proposals  
for key exchange that may look at these requirements.

DY> While I personally like the idea of using certs that can be traced  
back to central CAs as is done in SSL/TLS today, I also think we need  
self-signed certs for academic usage, for testing/labs, for private  
networks, for environments that don't need the central authentication,  
for startups with no money, etc., etc.

> That means that this requirement has no effect as a selector among  
> protocols (no protocol would violate it), and it creates precisely  
> the confusion that you have described, namely that the question of  
> which certificates are authorized signers is one of protocol design,  
> not local policy.  This is why I think that the requirement should  
> just be removed: It's a no-op technically, and it creates confusion.


DY> I guess I could see the possibility of a "protocol" being created  
where it was mandated that the endpoints had to do a check of a cert  
against central public CAs.  That's not what I think we want.    
Perhaps I am using a wider definition of a "protocol" than you are.

Regards,
Dan
-- 
Dan York, CISSP, Director of Emerging Communication Technology
Office of the CTO    Voxeo Corporation     dyork@voxeo.com
Phone: +1-407-455-5859  Skype: danyork  http://www.voxeo.com
Blogs: http://blogs.voxeo.com  http://www.disruptivetelephony.com

Build voice applications based on open standards.
Find out how at http://www.voxeo.com/free





_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Fri May  2 14:11:28 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id B2F223A6C82;
	Fri,  2 May 2008 14:11:27 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 6D6A73A6859
	for <sip@core3.amsl.com>; Fri,  2 May 2008 14:11:24 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.299
X-Spam-Level: 
X-Spam-Status: No, score=-2.299 tagged_above=-999 required=5
	tests=[AWL=-0.300, BAYES_00=-2.599, J_CHICKENPOX_18=0.6]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id YATSJqjF7z5U for <sip@core3.amsl.com>;
	Fri,  2 May 2008 14:11:23 -0700 (PDT)
Received: from mx12.bbn.com (mx12.bbn.com [128.33.0.81])
	by core3.amsl.com (Postfix) with ESMTP id 76C973A6C48
	for <sip@ietf.org>; Fri,  2 May 2008 14:11:22 -0700 (PDT)
Received: from [128.89.255.165] (helo=[127.0.0.1])
	by mx12.bbn.com with esmtp (Exim 4.60)
	(envelope-from <rbarnes@bbn.com>)
	id 1Js2XL-000787-5o; Fri, 02 May 2008 17:11:23 -0400
Message-ID: <481B837A.6060103@bbn.com>
Date: Fri, 02 May 2008 17:11:22 -0400
From: Richard Barnes <rbarnes@bbn.com>
User-Agent: Thunderbird 2.0.0.14 (Windows/20080421)
MIME-Version: 1.0
To: Dan York <dyork@voxeo.com>, 'Dan Wing' <dwing@cisco.com>, 
	IETF SIP List <sip@ietf.org>
References: <036701c8a3dc$b0779a20$c2f0200a@cisco.com>
	<DDD632E2-1EE2-4023-98AD-20A02BF673C7@voxeo.com>
	<481B14BA.8000803@bbn.com>
	<EB382A4A-0F6C-46BA-BF7A-2E2C3BAE7F89@voxeo.com>
In-Reply-To: <EB382A4A-0F6C-46BA-BF7A-2E2C3BAE7F89@voxeo.com>
Subject: Re: [Sip] R-CERTS in draft-ietf-sip-media-security-requirements
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

> DY> I guess I could see the possibility of a "protocol" being created 
> where it was mandated that the endpoints had to do a check of a cert 
> against central public CAs.  That's not what I think we want.   Perhaps 
> I am using a wider definition of a "protocol" than you are.

Ah, that gives me an idea.  What you're trying to rule out is a protocol 
that says "You MUST only accept a cert that chains to an issuer X" 
(where X=Verisign, for example).  What this requirement is really saying 
is that the protocol needs to stay out of the way of the policy.

So how about this for a requirement:

R-CERTS:
The media security key management protocol MUST NOT constrain the set of 
certificates that can be used as trust anchors in certificate verification.


--RB

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Fri May  2 14:14:29 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id DDA7728C22E;
	Fri,  2 May 2008 14:14:29 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 911573A6A80
	for <sip@core3.amsl.com>; Fri,  2 May 2008 14:14:29 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.524
X-Spam-Level: 
X-Spam-Status: No, score=-2.524 tagged_above=-999 required=5 tests=[AWL=0.075, 
	BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id p9OyW6ONDvWa for <sip@core3.amsl.com>;
	Fri,  2 May 2008 14:14:28 -0700 (PDT)
Received: from mx12.bbn.com (mx12.bbn.com [128.33.0.81])
	by core3.amsl.com (Postfix) with ESMTP id E66443A6CD1
	for <sip@ietf.org>; Fri,  2 May 2008 14:13:30 -0700 (PDT)
Received: from [128.89.255.165] (helo=[127.0.0.1])
	by mx12.bbn.com with esmtp (Exim 4.60)
	(envelope-from <rbarnes@bbn.com>)
	id 1Js2ZQ-000794-56; Fri, 02 May 2008 17:13:32 -0400
Message-ID: <481B83FB.8090705@bbn.com>
Date: Fri, 02 May 2008 17:13:31 -0400
From: Richard Barnes <rbarnes@bbn.com>
User-Agent: Thunderbird 2.0.0.14 (Windows/20080421)
MIME-Version: 1.0
To: Dan Wing <dwing@cisco.com>
References: <036701c8a3dc$b0779a20$c2f0200a@cisco.com>
	<DDD632E2-1EE2-4023-98AD-20A02BF673C7@voxeo.com>
	<481B14BA.8000803@bbn.com>
	<0d0501c8ac77$0ad0a230$c3f0200a@cisco.com>
In-Reply-To: <0d0501c8ac77$0ad0a230$c3f0200a@cisco.com>
Cc: 'SIP IETF' <sip@ietf.org>
Subject: Re: [Sip] R-CERTS in draft-ietf-sip-media-security-requirements
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Dan,

I think your straw-man has it backwards.  Local policy isn't subject to 
standardization, so you can't write a requirement on it.  But what you 
can do is say that the protocol can't constrain local policy in certain 
ways (e.g., require certain keys to be trust anchors).  See my email to 
Dan Y for a concrete suggestion for a rewording.

--Richard



Dan Wing wrote:
>  
> 
>> -----Original Message-----
>> From: Richard Barnes [mailto:rbarnes@bbn.com] 
>> Sent: Friday, May 02, 2008 6:19 AM
>> To: Dan York
>> Cc: Dan Wing; 'SIP IETF'
>> Subject: Re: [Sip] R-CERTS in 
>> draft-ietf-sip-media-security-requirements
>>
>> Hi Dan,
>>
>> Response below...
>>
>>> If I recall previous discussions  
>>> correctly, the major concern was that we didn't want to get in a  
>>> situation where in order to use a key management protocol 
>> all parties  
>>> were *required* to obtain certificates signed by a formal 
>> Certificate  
>>> Authority.   
>>  >
>>> DY> So I think the *intent* of the requirement - as I 
>> understand it -  
>>> is still important to capture.  What about merging R12 and 
>> R-CERTS by  
>>> simply replacing the "CA-issued" with "3rd-party-signed", as in:
>>>
>>>    R-CERTS:  If the media security key management protocol
>>>          employs certificates, it MUST be able to make use of both
>>>          self-signed and 3rd-party-signed certificates.
>>>
>>> DY> Or is that muddying things up even more?
>> Yes :)
>>
>> The issue here is that "self-signed" certificates and 
>> "3rd-party-issued" 
>> certificates are indistinguishable -- in order to be an issuer for a 
>> certificate (including itself!) a certificate MUST be a CA 
>> certificate, 
>> so all self-signed certs are CA certs.
>>
>> And that means that there's no technical means to distinguish between 
>> "self-signed" certs and "3rd-party-issued" certs, so any 
>> protocol that tried to would be non-sensical regardless of 
>> this requirement.
>>
>> Really, the issue of which parties are trusted sign 
>> certificates is an 
>> issue of local authorization policy, not of protocol design.  
>> Regardless 
>> of the data items carried in the protocol, it is up to the 
>> communicating 
>> peers to decide which certificates are acceptable and which aren't.
> 
> Yes, that is what we want R-CERTS to say.
> 
> Firefox 3.0b5 can distinguish between the certificates signed by
> https://www.softarmor.com and https://sourceforge.net, because
> the first is signed by a CA that Firefox has never heard of
> (ca.softarmor.com) and the second is signed by a CA that Firefox
> has in its trust list (geotrust.com).
> 
> On the wire, I agree it is impossible to tell if one or both
> of those signers is on Firefox's trust list.
> 
> What R-CERTS is trying to explain is that we don't want to *rely*
> on a list of trusted CAs to be carried around.  Rather, the text
> is trying to say that we want implementations to allow building
> their own list of trusted certificates.  That is, we want the 
> protocol and the implementation to be able to do something 
> functionally similar to Firefox's dialog box that shows
> the certificate and asks if you want to allow it, or allows
> you to pre-load a configuration file with certificates you
> trust, etc. -- doing so allows us to avoid relying on everyone 
> in the world using some a-priori-agreed upon list of "trusted CAs".
> 
>> That means that this requirement has no effect as a selector among 
>> protocols (no protocol would violate it), and it creates precisely the 
>> confusion that you have described, namely that the question of which 
>> certificates are authorized signers is one of protocol 
>> design, not local 
>> policy.  This is why I think that the requirement should just be 
>> removed: It's a no-op technically, and it creates confusion.
> 
> Perhaps it should dictate local policy, somewhat along the lines
> of:
> 
> <strawman>
> 
>   R-CERTS:
> 
>   Local policy MUST permit a mechanism for an authorized party to 
>   install trusted certificates.  Local policy MAY also use 
>   trusted CAs.
> 
> </strawman>
> 
> -d
> 
> 
> 

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Fri May  2 14:16:38 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 60DEB3A6A80;
	Fri,  2 May 2008 14:16:38 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 831DD3A6995
	for <sip@core3.amsl.com>; Fri,  2 May 2008 14:16:34 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.239
X-Spam-Level: 
X-Spam-Status: No, score=-2.239 tagged_above=-999 required=5
	tests=[AWL=-0.240, BAYES_00=-2.599, J_CHICKENPOX_18=0.6]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id fez5qvZkekmi for <sip@core3.amsl.com>;
	Fri,  2 May 2008 14:16:33 -0700 (PDT)
Received: from mx12.bbn.com (mx12.bbn.com [128.33.0.81])
	by core3.amsl.com (Postfix) with ESMTP id B257E3A6873
	for <sip@ietf.org>; Fri,  2 May 2008 14:16:33 -0700 (PDT)
Received: from [128.89.255.165] (helo=[127.0.0.1])
	by mx12.bbn.com with esmtp (Exim 4.60)
	(envelope-from <rbarnes@bbn.com>)
	id 1Js2cN-0007CS-4H; Fri, 02 May 2008 17:16:35 -0400
Message-ID: <481B84B2.5040806@bbn.com>
Date: Fri, 02 May 2008 17:16:34 -0400
From: Richard Barnes <rbarnes@bbn.com>
User-Agent: Thunderbird 2.0.0.14 (Windows/20080421)
MIME-Version: 1.0
To: Dan York <dyork@voxeo.com>, 'Dan Wing' <dwing@cisco.com>, 
	IETF SIP List <sip@ietf.org>
References: <036701c8a3dc$b0779a20$c2f0200a@cisco.com>	<DDD632E2-1EE2-4023-98AD-20A02BF673C7@voxeo.com>	<481B14BA.8000803@bbn.com>	<EB382A4A-0F6C-46BA-BF7A-2E2C3BAE7F89@voxeo.com>
	<481B837A.6060103@bbn.com>
In-Reply-To: <481B837A.6060103@bbn.com>
Subject: Re: [Sip] R-CERTS in draft-ietf-sip-media-security-requirements
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Oops, minor revision to please the cert police (who will notice that 
trust anchors are not certificates).

R-CERTS:
The media security key management protocol MUST NOT constrain the set of 
trust anchors that a peer can use to validate certificates used in the 
protocol.

--RB



Richard Barnes wrote:
>> DY> I guess I could see the possibility of a "protocol" being created 
>> where it was mandated that the endpoints had to do a check of a cert 
>> against central public CAs.  That's not what I think we want.   Perhaps 
>> I am using a wider definition of a "protocol" than you are.
> 
> Ah, that gives me an idea.  What you're trying to rule out is a protocol 
> that says "You MUST only accept a cert that chains to an issuer X" 
> (where X=Verisign, for example).  What this requirement is really saying 
> is that the protocol needs to stay out of the way of the policy.
> 
> So how about this for a requirement:
> 
> R-CERTS:
> The media security key management protocol MUST NOT constrain the set of 
> certificates that can be used as trust anchors in certificate verification.
> 
> 
> --RB
> 
> _______________________________________________
> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
> 
> 

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Fri May  2 23:43:07 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 725E63A691B;
	Fri,  2 May 2008 23:43:07 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 115D13A6A8A
	for <sip@core3.amsl.com>; Fri,  2 May 2008 23:43:03 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.483
X-Spam-Level: 
X-Spam-Status: No, score=-2.483 tagged_above=-999 required=5 tests=[AWL=0.116, 
	BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 0MdoDUF1qFGV for <sip@core3.amsl.com>;
	Fri,  2 May 2008 23:42:58 -0700 (PDT)
Received: from nylon.softarmor.com (nylon.softarmor.com [66.135.38.164])
	by core3.amsl.com (Postfix) with ESMTP id BA0C73A68BD
	for <sip@ietf.org>; Fri,  2 May 2008 23:42:58 -0700 (PDT)
Received: from [192.168.2.2] (cpe-76-185-142-113.tx.res.rr.com
	[76.185.142.113]) (authenticated bits=0)
	by nylon.softarmor.com (8.13.8/8.13.8/Debian-3) with ESMTP id
	m436gZct030230
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NOT);
	Sat, 3 May 2008 01:42:37 -0500
Message-ID: <481C0956.7060109@softarmor.com>
Date: Sat, 03 May 2008 01:42:30 -0500
From: Dean Willis <dean.willis@softarmor.com>
User-Agent: Icedove 1.5.0.14pre (X11/20080305)
MIME-Version: 1.0
To: Richard Barnes <rbarnes@bbn.com>
References: <036701c8a3dc$b0779a20$c2f0200a@cisco.com>	<DDD632E2-1EE2-4023-98AD-20A02BF673C7@voxeo.com>	<481B14BA.8000803@bbn.com>	<EB382A4A-0F6C-46BA-BF7A-2E2C3BAE7F89@voxeo.com>	<481B837A.6060103@bbn.com>
	<481B84B2.5040806@bbn.com>
In-Reply-To: <481B84B2.5040806@bbn.com>
X-Enigmail-Version: 0.94.2.0
Cc: IETF SIP List <sip@ietf.org>, 'Dan Wing' <dwing@cisco.com>
Subject: Re: [Sip] R-CERTS in draft-ietf-sip-media-security-requirements
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Richard Barnes wrote:
> Oops, minor revision to please the cert police (who will notice that 
> trust anchors are not certificates).
> 
> R-CERTS:
> The media security key management protocol MUST NOT constrain the set of 
> trust anchors that a peer can use to validate certificates used in the 
> protocol.

I like this one better.

--
dean
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Sun May  4 23:30:33 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 2986F3A6A07;
	Sun,  4 May 2008 23:30:33 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id BA2D33A6844
	for <sip@core3.amsl.com>; Sun,  4 May 2008 23:30:31 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -3.049
X-Spam-Level: 
X-Spam-Status: No, score=-3.049 tagged_above=-999 required=5
	tests=[BAYES_50=0.001, HELO_EQ_DE=0.35, J_CHICKENPOX_18=0.6,
	RCVD_IN_DNSWL_MED=-4]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 5+s7yMtF3ZAR for <sip@core3.amsl.com>;
	Sun,  4 May 2008 23:30:30 -0700 (PDT)
Received: from goliath.siemens.de (goliath.siemens.de [192.35.17.28])
	by core3.amsl.com (Postfix) with ESMTP id B3B693A6A06
	for <sip@ietf.org>; Sun,  4 May 2008 23:30:29 -0700 (PDT)
Received: from mail2.siemens.de (localhost [127.0.0.1])
	by goliath.siemens.de (8.12.6/8.12.6) with ESMTP id m456U1CP019923;
	Mon, 5 May 2008 08:30:01 +0200
Received: from mchp771a.ww002.siemens.net (mchp771a.ww002.siemens.net
	[139.25.131.189])
	by mail2.siemens.de (8.12.11.20060308/8.12.11) with ESMTP id
	m456U04q014243; Mon, 5 May 2008 08:30:01 +0200
Received: from MCHP7RDA.ww002.siemens.net ([139.25.131.171]) by
	mchp771a.ww002.siemens.net with Microsoft SMTPSVC(6.0.3790.3959); 
	Mon, 5 May 2008 08:30:00 +0200
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Mon, 5 May 2008 08:29:57 +0200
Message-ID: <9438AAEFAFE52D4EB9B211DA36969D1A01D36DAE@MCHP7RDA.ww002.siemens.net>
In-Reply-To: <481B84B2.5040806@bbn.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] R-CERTS in draft-ietf-sip-media-security-requirements
Thread-Index: AcismdxDmrYiZ6HATpWEPjyIWCHOYAB33vpw
References: <036701c8a3dc$b0779a20$c2f0200a@cisco.com>	<DDD632E2-1EE2-4023-98AD-20A02BF673C7@voxeo.com>	<481B14BA.8000803@bbn.com>	<EB382A4A-0F6C-46BA-BF7A-2E2C3BAE7F89@voxeo.com><481B837A.6060103@bbn.com>
	<481B84B2.5040806@bbn.com>
From: "Fries, Steffen (CT)" <steffen.fries@siemens.com>
To: "Richard Barnes" <rbarnes@bbn.com>, "Dan York" <dyork@voxeo.com>,
	"Dan Wing" <dwing@cisco.com>, "IETF SIP List" <sip@ietf.org>
X-OriginalArrivalTime: 05 May 2008 06:30:00.0236 (UTC)
	FILETIME=[71BA26C0:01C8AE79]
Subject: Re: [Sip] R-CERTS in draft-ietf-sip-media-security-requirements
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Hi Richard,

I like the wording of this requirement as it covers the different types
we had in mind to address

Ciao
	Steffen

> -----Original Message-----
> From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On 
> Behalf Of Richard Barnes
> Sent: Friday, May 02, 2008 11:17 PM
> To: Dan York; 'Dan Wing'; IETF SIP List
> Subject: Re: [Sip] R-CERTS in 
> draft-ietf-sip-media-security-requirements
> 
> Oops, minor revision to please the cert police (who will 
> notice that trust anchors are not certificates).
> 
> R-CERTS:
> The media security key management protocol MUST NOT constrain 
> the set of trust anchors that a peer can use to validate 
> certificates used in the protocol.
> 
> --RB
> 
> 
> 
> Richard Barnes wrote:
> >> DY> I guess I could see the possibility of a "protocol" 
> being created
> >> where it was mandated that the endpoints had to do a check 
> of a cert 
> >> against central public CAs.  That's not what I think we 
> want.   Perhaps 
> >> I am using a wider definition of a "protocol" than you are.
> > 
> > Ah, that gives me an idea.  What you're trying to rule out is a 
> > protocol that says "You MUST only accept a cert that chains 
> to an issuer X"
> > (where X=Verisign, for example).  What this requirement is really 
> > saying is that the protocol needs to stay out of the way of 
> the policy.
> > 
> > So how about this for a requirement:
> > 
> > R-CERTS:
> > The media security key management protocol MUST NOT 
> constrain the set 
> > of certificates that can be used as trust anchors in 
> certificate verification.
> > 
> > 
> > --RB
> > 
> > _______________________________________________
> > Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> > This list is for NEW development of the core SIP Protocol Use 
> > sip-implementors@cs.columbia.edu for questions on current sip Use 
> > sipping@ietf.org for new developments on the application of sip
> > 
> > 
> 
> _______________________________________________
> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol Use 
> sip-implementors@cs.columbia.edu for questions on current sip 
> Use sipping@ietf.org for new developments on the application of sip
> 
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Mon May  5 04:15:06 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id EE9C428C352;
	Mon,  5 May 2008 04:15:05 -0700 (PDT)
X-Original-To: sip@ietf.org
Delivered-To: sip@core3.amsl.com
Received: by core3.amsl.com (Postfix, from userid 0)
	id DF23428C2BB; Mon,  5 May 2008 04:15:01 -0700 (PDT)
From: Internet-Drafts@ietf.org
To: i-d-announce@ietf.org
Content-Type: Multipart/Mixed; Boundary="NextPart"
Mime-Version: 1.0
Message-Id: <20080505111501.DF23428C2BB@core3.amsl.com>
Date: Mon,  5 May 2008 04:15:01 -0700 (PDT)
Cc: sip@ietf.org
Subject: [Sip] I-D Action:draft-ietf-sip-xcapevent-03.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


--NextPart

A New Internet-Draft is available from the on-line Internet-Drafts directories.
This draft is a work item of the Session Initiation Protocol Working Group of the IETF.


	Title           : An Extensible Markup Language (XML) Configuration Access Protocol (XCAP) Diff Event Package
	Author(s)       : J. Urpalainen
	Filename        : draft-ietf-sip-xcapevent-03.txt
	Pages           : 28
	Date            : 2008-05-05

This document describes an "xcap-diff" SIP event package for the SIP
Event Notification Framework, with the aid of which clients can
receive notifications of the partial changes of Extensible Markup
Language (XML) Configuration Access Protocol (XCAP) resources.  The
initial synchronization and document updates are based on using the
XCAP-Diff format.

A URL for this Internet-Draft is:
http://www.ietf.org/internet-drafts/draft-ietf-sip-xcapevent-03.txt

Internet-Drafts are also available by anonymous FTP at:
ftp://ftp.ietf.org/internet-drafts/

Below is the data which will enable a MIME compliant mail reader
implementation to automatically retrieve the ASCII version of the
Internet-Draft.

--NextPart
Content-Type: Message/External-body;
	name="draft-ietf-sip-xcapevent-03.txt";
	site="ftp.ietf.org";
	access-type="anon-ftp";
	directory="internet-drafts"

Content-Type: text/plain
Content-ID: <2008-05-05040919.I-D@ietf.org>


--NextPart
Content-Type: text/plain; charset="us-ascii"
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip
--NextPart--


From sip-bounces@ietf.org  Mon May  5 07:43:47 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id F26413A6A95;
	Mon,  5 May 2008 07:43:46 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id B0EF83A682C
	for <sip@core3.amsl.com>; Mon,  5 May 2008 07:43:45 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.43
X-Spam-Level: 
X-Spam-Status: No, score=-2.43 tagged_above=-999 required=5
	tests=[BAYES_00=-2.599, HELO_EQ_AT=0.424, HOST_EQ_AT=0.745,
	RCVD_IN_DNSWL_LOW=-1]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id fVRTQkM9F8E1 for <sip@core3.amsl.com>;
	Mon,  5 May 2008 07:43:45 -0700 (PDT)
Received: from mail.bofh.priv.at (fardach.bofh.priv.at [88.198.34.164])
	by core3.amsl.com (Postfix) with ESMTP id 119303A68BE
	for <sip@ietf.org>; Mon,  5 May 2008 07:43:40 -0700 (PDT)
Received: by mail.bofh.priv.at (Postfix, from userid 1000)
	id 0DFB34CA95; Mon,  5 May 2008 16:43:37 +0200 (CEST)
Date: Mon, 5 May 2008 16:43:36 +0200
From: Otmar Lendl <ol@bofh.priv.at>
To: sip@ietf.org
Message-ID: <20080505144336.GA4924@bofh.priv.at>
MIME-Version: 1.0
Content-Disposition: inline
User-Agent: Mutt/1.5.13 (2006-08-11)
Subject: [Sip] Fwd: I-D Action:draft-lendl-enum-sip-lr-00.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


fyi,

I've taken up the bait contained in Section 6 (last paragraph) of
draft-rosenberg-sip-ua-loose-route-02, and published a quick draft
describing how this idea could be implemented in an ENUM setting.

Comments are welcome.

/ol

----- Forwarded message from Internet-Drafts@ietf.org -----

A New Internet-Draft is available from the on-line Internet-Drafts directories.

	Title           : IANA Registration for the enumservice-subtype 'sip:lr'
	Author(s)       : O. Lendl
	Filename        : draft-lendl-enum-sip-lr-00.txt
	Pages           : 7
	Date            : 2008-05-02

This document requests IANA registration of an enumservice-subtype
for loose route variant for SIP, the Session Initiation Protocol.
This subtype allows for the routing of SIP messages addressed to tel:
Uniform Resource Identifiers (URIs) according to
[I-D.rosenberg-sip-ua-loose-route].

A URL for this Internet-Draft is:
http://www.ietf.org/internet-drafts/draft-lendl-enum-sip-lr-00.txt

----- End forwarded message -----

-- 
-=-  Otmar Lendl  --  ol@bofh.priv.at  -=-
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Mon May  5 08:30:02 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id B93273A6DCC;
	Mon,  5 May 2008 08:30:02 -0700 (PDT)
X-Original-To: sip@ietf.org
Delivered-To: sip@core3.amsl.com
Received: by core3.amsl.com (Postfix, from userid 0)
	id D6D353A6E0A; Mon,  5 May 2008 08:30:01 -0700 (PDT)
From: Internet-Drafts@ietf.org
To: i-d-announce@ietf.org
Content-Type: Multipart/Mixed; Boundary="NextPart"
Mime-Version: 1.0
Message-Id: <20080505153001.D6D353A6E0A@core3.amsl.com>
Date: Mon,  5 May 2008 08:30:01 -0700 (PDT)
Cc: sip@ietf.org
Subject: [Sip] I-D Action:draft-ietf-sip-ipv6-abnf-fix-01.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


--NextPart

A New Internet-Draft is available from the on-line Internet-Drafts directories.
This draft is a work item of the Session Initiation Protocol Working Group of the IETF.


	Title           : Essential correction for IPv6 ABNF and URI comparison in RFC3261
	Author(s)       : V. Gurbani, et al.
	Filename        : draft-ietf-sip-ipv6-abnf-fix-01.txt
	Pages           : 9
	Date            : 2008-05-05

This memo corrects the Augmented Backus-Naur Form (ABNF) production
rule associated with generating IPv6 literals in RFC3261.  It also
clarifies the rule for Uniform Resource Identifier (URI) comparison
when the URIs contain textual representation of IP addresses.

A URL for this Internet-Draft is:
http://www.ietf.org/internet-drafts/draft-ietf-sip-ipv6-abnf-fix-01.txt

Internet-Drafts are also available by anonymous FTP at:
ftp://ftp.ietf.org/internet-drafts/

Below is the data which will enable a MIME compliant mail reader
implementation to automatically retrieve the ASCII version of the
Internet-Draft.

--NextPart
Content-Type: Message/External-body;
	name="draft-ietf-sip-ipv6-abnf-fix-01.txt";
	site="ftp.ietf.org";
	access-type="anon-ftp";
	directory="internet-drafts"

Content-Type: text/plain
Content-ID: <2008-05-05082416.I-D@ietf.org>


--NextPart
Content-Type: text/plain; charset="us-ascii"
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip
--NextPart--


From sip-bounces@ietf.org  Mon May  5 15:11:37 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 244603A68EB;
	Mon,  5 May 2008 15:11:37 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 2727A3A68EB
	for <sip@core3.amsl.com>; Mon,  5 May 2008 15:11:36 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -5.999
X-Spam-Level: 
X-Spam-Status: No, score=-5.999 tagged_above=-999 required=5
	tests=[BAYES_00=-2.599, J_CHICKENPOX_18=0.6, RCVD_IN_DNSWL_MED=-4]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id N9SdFMXAVMk9 for <sip@core3.amsl.com>;
	Mon,  5 May 2008 15:11:35 -0700 (PDT)
Received: from sj-iport-3.cisco.com (sj-iport-3.cisco.com [171.71.176.72])
	by core3.amsl.com (Postfix) with ESMTP id AE61A3A67EA
	for <sip@ietf.org>; Mon,  5 May 2008 15:11:34 -0700 (PDT)
Received: from sj-dkim-3.cisco.com ([171.71.179.195])
	by sj-iport-3.cisco.com with ESMTP; 05 May 2008 15:11:33 -0700
Received: from sj-core-5.cisco.com (sj-core-5.cisco.com [171.71.177.238])
	by sj-dkim-3.cisco.com (8.12.11/8.12.11) with ESMTP id m45MBXAB009027; 
	Mon, 5 May 2008 15:11:33 -0700
Received: from dwingwxp01 ([10.32.240.195])
	by sj-core-5.cisco.com (8.13.8/8.13.8) with ESMTP id m45MBWeP015227;
	Mon, 5 May 2008 22:11:33 GMT
From: "Dan Wing" <dwing@cisco.com>
To: "'Richard Barnes'" <rbarnes@bbn.com>, "'Dan York'" <dyork@voxeo.com>,
	"'IETF SIP List'" <sip@ietf.org>
References: <036701c8a3dc$b0779a20$c2f0200a@cisco.com>	<DDD632E2-1EE2-4023-98AD-20A02BF673C7@voxeo.com>	<481B14BA.8000803@bbn.com>	<EB382A4A-0F6C-46BA-BF7A-2E2C3BAE7F89@voxeo.com>
	<481B837A.6060103@bbn.com> <481B84B2.5040806@bbn.com>
Date: Mon, 5 May 2008 15:11:32 -0700
Message-ID: <05ef01c8aefc$fa2ffe20$c3f0200a@cisco.com>
MIME-Version: 1.0
X-Mailer: Microsoft Office Outlook 11
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.3198
Thread-Index: Acismc7TJW+eFbppRve+sj9ceOBeigCYtxmA
In-Reply-To: <481B84B2.5040806@bbn.com>
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; l=1962; t=1210025493;
	x=1210889493; c=relaxed/simple; s=sjdkim3002;
	h=Content-Type:From:Subject:Content-Transfer-Encoding:MIME-Version;
	d=cisco.com; i=dwing@cisco.com;
	z=From:=20=22Dan=20Wing=22=20<dwing@cisco.com>
	|Subject:=20RE=3A=20[Sip]=20R-CERTS=20in=20draft-ietf-sip-m
	edia-security-requirements |Sender:=20;
	bh=VVLZPy1p0FMldQ4a43ah4iDS4BB/QHRiS0pqLaTGg2w=;
	b=hGVx/PAgofMxTtHH3gUsDsDz4et85vG0Lpvoa2tz2/iSLq6vCdlTvbUlMH
	9W6+w9CXe7m4THhBc1qMPXRYTU9PAstGaJFLtjlIYt4VWEbCUkHk6ub8vM2M
	V2964h0iGU;
Authentication-Results: sj-dkim-3; header.From=dwing@cisco.com; dkim=pass (
	sig from cisco.com/sjdkim3002 verified; ); 
Subject: Re: [Sip] R-CERTS in draft-ietf-sip-media-security-requirements
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Works for me.  Thanks for the wording!

I will publish -05 shortly, which will include this revised wording for
R-CERTS.

-d
 

> -----Original Message-----
> From: Richard Barnes [mailto:rbarnes@bbn.com] 
> Sent: Friday, May 02, 2008 2:17 PM
> To: Dan York; 'Dan Wing'; IETF SIP List
> Subject: Re: [Sip] R-CERTS in 
> draft-ietf-sip-media-security-requirements
> 
> Oops, minor revision to please the cert police (who will notice that 
> trust anchors are not certificates).
> 
> R-CERTS:
> The media security key management protocol MUST NOT constrain 
> the set of 
> trust anchors that a peer can use to validate certificates 
> used in the 
> protocol.
> 
> --RB
> 
> 
> 
> Richard Barnes wrote:
> >> DY> I guess I could see the possibility of a "protocol" 
> being created 
> >> where it was mandated that the endpoints had to do a check 
> of a cert 
> >> against central public CAs.  That's not what I think we 
> want.   Perhaps 
> >> I am using a wider definition of a "protocol" than you are.
> > 
> > Ah, that gives me an idea.  What you're trying to rule out 
> is a protocol 
> > that says "You MUST only accept a cert that chains to an issuer X" 
> > (where X=Verisign, for example).  What this requirement is 
> really saying 
> > is that the protocol needs to stay out of the way of the policy.
> > 
> > So how about this for a requirement:
> > 
> > R-CERTS:
> > The media security key management protocol MUST NOT 
> constrain the set of 
> > certificates that can be used as trust anchors in 
> certificate verification.
> > 
> > 
> > --RB
> > 
> > _______________________________________________
> > Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> > This list is for NEW development of the core SIP Protocol
> > Use sip-implementors@cs.columbia.edu for questions on current sip
> > Use sipping@ietf.org for new developments on the application of sip
> > 
> > 
> 

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Mon May  5 15:45:03 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 256B23A68F6;
	Mon,  5 May 2008 15:45:03 -0700 (PDT)
X-Original-To: sip@ietf.org
Delivered-To: sip@core3.amsl.com
Received: by core3.amsl.com (Postfix, from userid 0)
	id 1AD183A6944; Mon,  5 May 2008 15:45:02 -0700 (PDT)
From: Internet-Drafts@ietf.org
To: i-d-announce@ietf.org
Content-Type: Multipart/Mixed; Boundary="NextPart"
Mime-Version: 1.0
Message-Id: <20080505224502.1AD183A6944@core3.amsl.com>
Date: Mon,  5 May 2008 15:45:02 -0700 (PDT)
Cc: sip@ietf.org
Subject: [Sip] I-D Action:draft-ietf-sip-media-security-requirements-05.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


--NextPart

A New Internet-Draft is available from the on-line Internet-Drafts directories.
This draft is a work item of the Session Initiation Protocol Working Group of the IETF.


	Title           : Requirements and Analysis of Media Security Management Protocols
	Author(s)       : D. Wing, et al.
	Filename        : draft-ietf-sip-media-security-requirements-05.txt
	Pages           : 47
	Date            : 2008-05-05

This document describes requirements for a protocol to negotiate a
security context for SIP-signaled SRTP media.  In addition to the
natural security requirements, this negotiation protocol must
interoperate well with SIP in certain ways.  A number of proposals
have been published and a summary of these proposals is in the
appendix of this document.

A URL for this Internet-Draft is:
http://www.ietf.org/internet-drafts/draft-ietf-sip-media-security-requirements-05.txt

Internet-Drafts are also available by anonymous FTP at:
ftp://ftp.ietf.org/internet-drafts/

Below is the data which will enable a MIME compliant mail reader
implementation to automatically retrieve the ASCII version of the
Internet-Draft.

--NextPart
Content-Type: Message/External-body;
	name="draft-ietf-sip-media-security-requirements-05.txt";
	site="ftp.ietf.org";
	access-type="anon-ftp";
	directory="internet-drafts"

Content-Type: text/plain
Content-ID: <2008-05-05153200.I-D@ietf.org>


--NextPart
Content-Type: text/plain; charset="us-ascii"
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip
--NextPart--


From sip-bounces@ietf.org  Mon May  5 15:48:39 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 0B5DB28C37E;
	Mon,  5 May 2008 15:48:39 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 13B1528C19F
	for <sip@core3.amsl.com>; Mon,  5 May 2008 15:48:38 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -6.299
X-Spam-Level: 
X-Spam-Status: No, score=-6.299 tagged_above=-999 required=5 tests=[AWL=0.300, 
	BAYES_00=-2.599, RCVD_IN_DNSWL_MED=-4]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id HG21Q+wU65Ry for <sip@core3.amsl.com>;
	Mon,  5 May 2008 15:48:34 -0700 (PDT)
Received: from sj-iport-6.cisco.com (sj-iport-6.cisco.com [171.71.176.117])
	by core3.amsl.com (Postfix) with ESMTP id C34D928C386
	for <sip@ietf.org>; Mon,  5 May 2008 15:48:32 -0700 (PDT)
Received: from sj-dkim-4.cisco.com ([171.71.179.196])
	by sj-iport-6.cisco.com with ESMTP; 05 May 2008 15:48:31 -0700
Received: from sj-core-1.cisco.com (sj-core-1.cisco.com [171.71.177.237])
	by sj-dkim-4.cisco.com (8.12.11/8.12.11) with ESMTP id m45MmVr8030721
	for <sip@ietf.org>; Mon, 5 May 2008 15:48:31 -0700
Received: from dwingwxp01 ([10.32.240.195])
	by sj-core-1.cisco.com (8.13.8/8.13.8) with ESMTP id m45MmVV0012130
	for <sip@ietf.org>; Mon, 5 May 2008 22:48:31 GMT
From: "Dan Wing" <dwing@cisco.com>
To: "'IETF SIP List'" <sip@ietf.org>
Date: Mon, 5 May 2008 15:48:30 -0700
Message-ID: <066701c8af02$2445f8e0$c3f0200a@cisco.com>
MIME-Version: 1.0
X-Mailer: Microsoft Office Outlook 11
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.3198
Thread-Index: AcivAiPtKrxvjvAVQ6ajMUmSJALcYg==
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; l=663; t=1210027711; x=1210891711;
	c=relaxed/simple; s=sjdkim4002;
	h=Content-Type:From:Subject:Content-Transfer-Encoding:MIME-Version;
	d=cisco.com; i=dwing@cisco.com;
	z=From:=20=22Dan=20Wing=22=20<dwing@cisco.com>
	|Subject:=20draft-ietf-sip-media-security-requirements-05=2 0
	|Sender:=20; bh=qfKqQ5jWp4y9+8rFm0bMlRIdtedxdoeRuhCwbqa/OHs=;
	b=eAeYWGHvWyt/k3EPYUZU7KGZoB7g8cDkwFphTQZtYeiERRs6NQgKpy6NlJ
	rL9qlw08g/91tfdF4I/oTwZIx+0c0cWdjunijuXjSOK8+RYhMKh07Uzuh+Xu
	XMFIsGnSVQ;
Authentication-Results: sj-dkim-4; header.From=dwing@cisco.com; dkim=pass (
	sig from cisco.com/sjdkim4002 verified; ); 
Subject: [Sip] draft-ietf-sip-media-security-requirements-05
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

I just checked in draft-ietf-sip-media-security-requirements-05 with the
following changes:

  * moved 'shared keyed conferencing' section to Appendix B.

  * added motivation text for R-OTHER-SIGNALING (new Section 4.8) 
    and R-CERTS (new Section 4.9)

  * R-CERTS now reads:

      The media security key management protocol MUST NOT constrain	
      the set of trust anchors that a peer can use to validate	
      certificates used in the protocol.

  * other minor changes

side-by-side differences are available at http://tinyurl.com/6hy85b

http://www.ietf.org/internet-drafts/draft-ietf-sip-media-security-requirements
-05.txt

-d

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Mon May  5 16:57:43 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 1A0A93A6B22;
	Mon,  5 May 2008 16:57:43 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 445BF28C300
	for <sip@core3.amsl.com>; Mon,  5 May 2008 16:57:42 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -0.495
X-Spam-Level: 
X-Spam-Status: No, score=-0.495 tagged_above=-999 required=5
	tests=[BAYES_00=-2.599, FH_RELAY_NODNS=1.451, HELO_MISMATCH_COM=0.553, 
	RDNS_NONE=0.1]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id j3ucxqEdQIEa for <sip@core3.amsl.com>;
	Mon,  5 May 2008 16:57:37 -0700 (PDT)
Received: from romeo.rtfm.com (unknown [74.95.2.173])
	by core3.amsl.com (Postfix) with ESMTP id CBFFB3A6B22
	for <sip@ietf.org>; Mon,  5 May 2008 16:57:37 -0700 (PDT)
Received: from romeo.rtfm.com (localhost.rtfm.com [127.0.0.1])
	by romeo.rtfm.com (Postfix) with ESMTP id 499525081A;
	Mon,  5 May 2008 17:01:10 -0700 (PDT)
Date: Mon, 05 May 2008 17:01:10 -0700
From: Eric Rescorla <ekr@networkresonance.com>
To: "Dan Wing" <dwing@cisco.com>
In-Reply-To: <066701c8af02$2445f8e0$c3f0200a@cisco.com>
References: <066701c8af02$2445f8e0$c3f0200a@cisco.com>
User-Agent: Wanderlust/2.14.0 (Africa) Emacs/21.3 Mule/5.0 (SAKAKI)
MIME-Version: 1.0 (generated by SEMI 1.14.6 - "Maruoka")
Message-Id: <20080506000110.499525081A@romeo.rtfm.com>
Cc: 'IETF SIP List' <sip@ietf.org>
Subject: Re: [Sip] draft-ietf-sip-media-security-requirements-05
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

At Mon, 5 May 2008 15:48:30 -0700,
Dan Wing wrote:
At Mon, 5 May 2008 15:48:30 -0700,
Dan Wing wrote:
>   * R-CERTS now reads:
> 
>       The media security key management protocol MUST NOT constrain	
>       the set of trust anchors that a peer can use to validate	
>       certificates used in the protocol.

I don't mean to be difficult, but I don't think that this actually
captures the relevant issue particularly well.

One of the primary reasons why the RTPSEC work got started was that it
became clear that one could not safely assume that end-users would
have certificates which were verifiable by others. If we could assume
that, then life would be a lot simpler. For instance, we could have
ubiquitous S/MIME and use S/MIME signatures instead of RFC 4474.  For
that matter, we could use DTLS-SRTP without any screwing around with
fingerprints, just based on the certificates.

So, I don't think the requirement is that the protocol not constrain
the set of trust anchors. [Honestly, I'm not really sure what that
means. Does HTTPS meet this requirement?] Without trying to wordsmith
it, I would say that the requirement is that the protocol be secure
even if the users do not have credentials attested to by *any* trust
anchor.[0] That is what the relevant distinction is between self-signed
and third-party certificates.

-Ekr

[0] Incidentally, one of Dan's messages stated that he believed that
IBE would be consistent with R-12. I suppose that might be technically
true, but I think it pretty clearly does not meet the spirit of the
requirement. In order to use an IBE system, the user has to get a
private key from the PKG. This is just as inconvenient as what
we are trying to avoid with this requirement, namely forcing the
user to deal with the CA/PKG.


_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Mon May  5 22:14:12 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 94FF028C382;
	Mon,  5 May 2008 22:14:12 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 31BF43A698E
	for <sip@core3.amsl.com>; Mon,  5 May 2008 22:14:11 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -6.597
X-Spam-Level: 
X-Spam-Status: No, score=-6.597 tagged_above=-999 required=5
	tests=[BAYES_00=-2.599, HTML_FONT_SIZE_LARGE=0.001,
	HTML_MESSAGE=0.001, RCVD_IN_DNSWL_MED=-4]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id SsAq5NKYX9bm for <sip@core3.amsl.com>;
	Mon,  5 May 2008 22:14:10 -0700 (PDT)
Received: from ind-iport-1.cisco.com (ind-iport-1.cisco.com [64.104.129.195])
	by core3.amsl.com (Postfix) with ESMTP id D3F153A6B1F
	for <sip@ietf.org>; Mon,  5 May 2008 22:14:09 -0700 (PDT)
Received: from hkg-dkim-1.cisco.com ([10.75.231.161])
	by ind-iport-1.cisco.com with ESMTP; 06 May 2008 10:44:07 +0530
Received: from hkg-core-1.cisco.com (hkg-core-1.cisco.com [64.104.123.94])
	by hkg-dkim-1.cisco.com (8.12.11/8.12.11) with ESMTP id m465E6mQ014318
	for <sip@ietf.org>; Tue, 6 May 2008 13:14:06 +0800
Received: from xbh-hkg-411.apac.cisco.com (xbh-hkg-411.cisco.com
	[64.104.123.72])
	by hkg-core-1.cisco.com (8.13.8/8.13.8) with ESMTP id m465E6qc021236
	for <sip@ietf.org>; Tue, 6 May 2008 05:14:06 GMT
Received: from xmb-hkg-412.apac.cisco.com ([64.104.123.84]) by
	xbh-hkg-411.apac.cisco.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Tue, 6 May 2008 13:14:06 +0800
X-Mimeole: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Tue, 6 May 2008 13:14:02 +0800
Message-ID: <F86B91A10B14744E88408E80B8A30EF302F78A71@xmb-hkg-412.apac.cisco.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: SIP over SCTP
Thread-Index: AcivN/9hfkHCObEeT6qCSy5nSYepGQ==
From: "Liangyou Wang (liangwan)" <liangwan@cisco.com>
To: <sip@ietf.org>
X-OriginalArrivalTime: 06 May 2008 05:14:06.0007 (UTC)
	FILETIME=[019BB470:01C8AF38]
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; l=1171; t=1210050846;
	x=1210914846; c=relaxed/simple; s=hkgdkim1002;
	h=Content-Type:From:Subject:Content-Transfer-Encoding:MIME-Version;
	d=cisco.com; i=liangwan@cisco.com;
	z=From:=20=22Liangyou=20Wang=20(liangwan)=22=20<liangwan@cis
	co.com> |Subject:=20SIP=20over=20SCTP |Sender:=20;
	bh=6s4cPCODUma0B+BK/DdjyLPSFYiw69eFU60vsRTMEvE=;
	b=g2GTGINfjwemgET0l90uBTVv6ld7k3dhh/A16QXnLk6Y3nP7d9VH2QRiZ1
	4/jZk5Bh37Q3XqPQ+JANVhx8Mu+71eqFwPQjjFJizj54/7aNhvXdsFtti3t6
	WuJwWqCGDk5Bn56vF63wLbQGwPTSdNUMn1VyDlRxSNgIBvfVC9Q68=;
Authentication-Results: hkg-dkim-1; header.From=liangwan@cisco.com; dkim=pass (
	sig from cisco.com/hkgdkim1002 verified; ); 
Subject: [Sip] SIP over SCTP
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: multipart/mixed; boundary="===============2064869485=="
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

This is a multi-part message in MIME format.

--===============2064869485==
Content-class: urn:content-classes:message
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C8AF38.0188180C"

This is a multi-part message in MIME format.

------_=_NextPart_001_01C8AF38.0188180C
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable


Dear all,
Do you know any tools to test SIP over SCTP?

Thanks & Best regards,
Liangyou


------_=_NextPart_001_01C8AF38.0188180C
Content-Type: text/html;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV=3D"Content-Type" CONTENT=3D"text/html; =
charset=3Dus-ascii">
<META NAME=3D"Generator" CONTENT=3D"MS Exchange Server version =
6.5.7652.24">
<TITLE>SIP over SCTP</TITLE>
</HEAD>
<BODY>
<!-- Converted from text/rtf format -->
<BR>

<P><FONT SIZE=3D2 FACE=3D"Arial">Dear all,</FONT>

<BR><FONT SIZE=3D2 FACE=3D"Arial">Do you know any tools to test SIP over =
SCTP?</FONT>
</P>

<P><SPAN LANG=3D"en-us"><FONT SIZE=3D2 FACE=3D"Arial">Thanks &amp; Best =
regards,</FONT></SPAN><SPAN LANG=3D"zh-cn"></SPAN>

<BR><SPAN LANG=3D"en-us"><FONT COLOR=3D"#0000FF" SIZE=3D6 =
FACE=3D"Freestyle Script">Liangyou</FONT></SPAN><SPAN =
LANG=3D"zh-cn"></SPAN>
</P>

</BODY>
</HTML>
------_=_NextPart_001_01C8AF38.0188180C--

--===============2064869485==
Content-Type: text/plain; charset="us-ascii"
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip
--===============2064869485==--


From sip-bounces@ietf.org  Tue May  6 00:53:08 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id B2EC23A6FA8;
	Tue,  6 May 2008 00:53:08 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 5D5DD3A6830
	for <sip@core3.amsl.com>; Tue,  6 May 2008 00:53:07 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: 0.63
X-Spam-Level: 
X-Spam-Status: No, score=0.63 tagged_above=-999 required=5
	tests=[BAYES_00=-2.599, DNS_FROM_OPENWHOIS=1.13, J_CHICKENPOX_32=0.6,
	WHOIS_MYPRIVREG=1.499]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 5DFyFPvSimyI for <sip@core3.amsl.com>;
	Tue,  6 May 2008 00:53:06 -0700 (PDT)
Received: from kuber.nabble.com (kuber.nabble.com [216.139.236.158])
	by core3.amsl.com (Postfix) with ESMTP id F12823A6F1C
	for <sip@ietf.org>; Tue,  6 May 2008 00:53:05 -0700 (PDT)
Received: from isper.nabble.com ([192.168.236.156])
	by kuber.nabble.com with esmtp (Exim 4.63)
	(envelope-from <bounces@nabble.com>) id 1JtHyy-0006Zu-49
	for sip@ietf.org; Tue, 06 May 2008 00:53:04 -0700
Message-ID: <17077739.post@talk.nabble.com>
Date: Tue, 6 May 2008 00:53:04 -0700 (PDT)
From: Hans Erik van Elburg <hanserik.van.elburg@ericsson.com>
To: sip@ietf.org
In-Reply-To: <20080505144336.GA4924@bofh.priv.at>
MIME-Version: 1.0
X-Nabble-From: hanserik.van.elburg@ericsson.com
References: <20080505144336.GA4924@bofh.priv.at>
Subject: Re: [Sip] Fwd: I-D Action:draft-lendl-enum-sip-lr-00.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


Hi Otmar,

Interesting, but this has nothing to do with "UA loose-routing". Everything
with the retarget or reroute problem. 

It seems an interesting way of configuring loose routes, but it also still
requires configuration of normal DNS entries as the resolver may not support
this sip:lr NAPTR application.

The requirement to know if the next hop supports this yes or no, seems to be
less of an issue as the configurator of the DNS should be expected to be
able know this at configuration time.

This mechanism can be combined with the Target header proposal. 

/Hans Erik 


Otmar Lendl-2 wrote:
> 
> 
> fyi,
> 
> I've taken up the bait contained in Section 6 (last paragraph) of
> draft-rosenberg-sip-ua-loose-route-02, and published a quick draft
> describing how this idea could be implemented in an ENUM setting.
> 
> Comments are welcome.
> 
> /ol
> 
> ----- Forwarded message from Internet-Drafts@ietf.org -----
> 
> A New Internet-Draft is available from the on-line Internet-Drafts
> directories.
> 
> 	Title           : IANA Registration for the enumservice-subtype 'sip:lr'
> 	Author(s)       : O. Lendl
> 	Filename        : draft-lendl-enum-sip-lr-00.txt
> 	Pages           : 7
> 	Date            : 2008-05-02
> 
> This document requests IANA registration of an enumservice-subtype
> for loose route variant for SIP, the Session Initiation Protocol.
> This subtype allows for the routing of SIP messages addressed to tel:
> Uniform Resource Identifiers (URIs) according to
> [I-D.rosenberg-sip-ua-loose-route].
> 
> A URL for this Internet-Draft is:
> http://www.ietf.org/internet-drafts/draft-lendl-enum-sip-lr-00.txt
> 
> ----- End forwarded message -----
> 
> -- 
> -=-  Otmar Lendl  --  ol@bofh.priv.at  -=-
> _______________________________________________
> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
> 
> 

-- 
View this message in context: http://www.nabble.com/Fwd%3A-I-D-Action%3Adraft-lendl-enum-sip-lr-00.txt-tp17063241p17077739.html
Sent from the IETF - Sip mailing list archive at Nabble.com.

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Tue May  6 04:13:39 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 4F1523A6CF2;
	Tue,  6 May 2008 04:13:39 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 37E7828C200
	for <sip@core3.amsl.com>; Tue,  6 May 2008 04:13:38 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.13
X-Spam-Level: 
X-Spam-Status: No, score=-2.13 tagged_above=-999 required=5 tests=[AWL=-0.300, 
	BAYES_00=-2.599, HELO_EQ_AT=0.424, HOST_EQ_AT=0.745,
	J_CHICKENPOX_32=0.6, RCVD_IN_DNSWL_LOW=-1]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id RpyWrCv9+pbf for <sip@core3.amsl.com>;
	Tue,  6 May 2008 04:13:34 -0700 (PDT)
Received: from mail.bofh.priv.at (fardach.bofh.priv.at [88.198.34.164])
	by core3.amsl.com (Postfix) with ESMTP id 5D2F328C1FD
	for <sip@ietf.org>; Tue,  6 May 2008 04:13:34 -0700 (PDT)
Received: by mail.bofh.priv.at (Postfix, from userid 1000)
	id 09D0B4CA09; Tue,  6 May 2008 13:13:31 +0200 (CEST)
Date: Tue, 6 May 2008 13:13:31 +0200
From: Otmar Lendl <ol@bofh.priv.at>
To: sip@ietf.org
Message-ID: <20080506111331.GA28012@bofh.priv.at>
References: <20080505144336.GA4924@bofh.priv.at>
	<17077739.post@talk.nabble.com>
MIME-Version: 1.0
Content-Disposition: inline
In-Reply-To: <17077739.post@talk.nabble.com>
User-Agent: Mutt/1.5.13 (2006-08-11)
Subject: Re: [Sip] Fwd: I-D Action:draft-lendl-enum-sip-lr-00.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


Hi,

On 2008/05/06 09:05, Hans Erik van Elburg <hanserik.van.elburg@ericsson.com> wrote:
> 
> Interesting, but this has nothing to do with "UA loose-routing". Everything
> with the retarget or reroute problem. 

I took the "UA loose route" from the name of Jonathan's draft.

> It seems an interesting way of configuring loose routes, but it also still
> requires configuration of normal DNS entries as the resolver may not support
> this sip:lr NAPTR application.

Yes, for backwards compatibility normal E2U+SIP NAPTRs might be
provisioned, too.  I expect this to be used mainly in controlled
environements like private SIP peering platforms (Infrastructure ENUM
or private ENUM) where one has a cleared picture on who will query such
records.

> The requirement to know if the next hop supports this yes or no, seems to be
> less of an issue as the configurator of the DNS should be expected to be
> able know this at configuration time.

Correct, according to the original ENUM role model, the destination network
provisiones the ENUM NAPTRs pointing to its ingress elements.

> This mechanism can be combined with the Target header proposal. 

Could you give an example? I have difficulties imaging the message flows
and routing logic when doing tel:-URI based calling. This paragraph is
unclear:

   The Target header, if present, represents the current target.  In the
   absence of the Target header, a receiving entity must assume that the
   Request-URI contains the current target.  Note that the Target header
   is not used for routing, it is just a means of presenting the current
   target to the receiving entity, information that otherwise would have
   been lost.

So which is it? Does the receiving entity evaluate the target: header or
the request-URI?

/ol
-- 
-=-  Otmar Lendl  --  ol@bofh.priv.at  -=-
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Tue May  6 04:48:24 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 058B43A6A1A;
	Tue,  6 May 2008 04:48:24 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 4A5BE3A6A1A
	for <sip@core3.amsl.com>; Tue,  6 May 2008 04:48:23 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: 0.63
X-Spam-Level: 
X-Spam-Status: No, score=0.63 tagged_above=-999 required=5
	tests=[BAYES_00=-2.599, DNS_FROM_OPENWHOIS=1.13, J_CHICKENPOX_32=0.6,
	WHOIS_MYPRIVREG=1.499]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id rYxl2Fhte0lB for <sip@core3.amsl.com>;
	Tue,  6 May 2008 04:48:22 -0700 (PDT)
Received: from kuber.nabble.com (kuber.nabble.com [216.139.236.158])
	by core3.amsl.com (Postfix) with ESMTP id 5B0443A6944
	for <sip@ietf.org>; Tue,  6 May 2008 04:48:22 -0700 (PDT)
Received: from isper.nabble.com ([192.168.236.156])
	by kuber.nabble.com with esmtp (Exim 4.63)
	(envelope-from <bounces@nabble.com>) id 1JtLee-0006BG-Ji
	for sip@ietf.org; Tue, 06 May 2008 04:48:20 -0700
Message-ID: <17080908.post@talk.nabble.com>
Date: Tue, 6 May 2008 04:48:20 -0700 (PDT)
From: Hans Erik van Elburg <hanserik.van.elburg@ericsson.com>
To: sip@ietf.org
In-Reply-To: <20080506111331.GA28012@bofh.priv.at>
MIME-Version: 1.0
X-Nabble-From: hanserik.van.elburg@ericsson.com
References: <20080505144336.GA4924@bofh.priv.at>
	<17077739.post@talk.nabble.com>
	<20080506111331.GA28012@bofh.priv.at>
Subject: Re: [Sip] Fwd: I-D Action:draft-lendl-enum-sip-lr-00.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


As stated the Target header field is not used for routing. If all the hops
are loose routes it is still able to carry the current target over the last
hop to the UE, where the Request URI is rewritten by teh Contact
information.

It  is not clear to me how this would be affected by use of tel uri's. Can
you explain why you think there is a problem?

Regarding the terminating entity that may choose to not do anything with
either the Request-URI or the Target header. Even if it support the
extension it may still not use it.

/Hans Erik


Otmar Lendl-2 wrote:
> 
> 
> Hi,
> 
> On 2008/05/06 09:05, Hans Erik van Elburg
> <hanserik.van.elburg@ericsson.com> wrote:
>> 
>> Interesting, but this has nothing to do with "UA loose-routing".
>> Everything
>> with the retarget or reroute problem. 
> 
> I took the "UA loose route" from the name of Jonathan's draft.
> 
>> It seems an interesting way of configuring loose routes, but it also
>> still
>> requires configuration of normal DNS entries as the resolver may not
>> support
>> this sip:lr NAPTR application.
> 
> Yes, for backwards compatibility normal E2U+SIP NAPTRs might be
> provisioned, too.  I expect this to be used mainly in controlled
> environements like private SIP peering platforms (Infrastructure ENUM
> or private ENUM) where one has a cleared picture on who will query such
> records.
> 
>> The requirement to know if the next hop supports this yes or no, seems to
>> be
>> less of an issue as the configurator of the DNS should be expected to be
>> able know this at configuration time.
> 
> Correct, according to the original ENUM role model, the destination
> network
> provisiones the ENUM NAPTRs pointing to its ingress elements.
> 
>> This mechanism can be combined with the Target header proposal. 
> 
> Could you give an example? I have difficulties imaging the message flows
> and routing logic when doing tel:-URI based calling. This paragraph is
> unclear:
> 
>    The Target header, if present, represents the current target.  In the
>    absence of the Target header, a receiving entity must assume that the
>    Request-URI contains the current target.  Note that the Target header
>    is not used for routing, it is just a means of presenting the current
>    target to the receiving entity, information that otherwise would have
>    been lost.
> 
> So which is it? Does the receiving entity evaluate the target: header or
> the request-URI?
> 
> /ol
> -- 
> -=-  Otmar Lendl  --  ol@bofh.priv.at  -=-
> _______________________________________________
> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
> 
> 

-- 
View this message in context: http://www.nabble.com/Fwd%3A-I-D-Action%3Adraft-lendl-enum-sip-lr-00.txt-tp17063241p17080908.html
Sent from the IETF - Sip mailing list archive at Nabble.com.

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Tue May  6 07:45:06 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 7F6BA3A69C9;
	Tue,  6 May 2008 07:45:05 -0700 (PDT)
X-Original-To: sip@ietf.org
Delivered-To: sip@core3.amsl.com
Received: by core3.amsl.com (Postfix, from userid 0)
	id E72423A6E4B; Tue,  6 May 2008 07:45:01 -0700 (PDT)
From: Internet-Drafts@ietf.org
To: i-d-announce@ietf.org
Content-Type: Multipart/Mixed; Boundary="NextPart"
Mime-Version: 1.0
Message-Id: <20080506144501.E72423A6E4B@core3.amsl.com>
Date: Tue,  6 May 2008 07:45:01 -0700 (PDT)
Cc: sip@ietf.org
Subject: [Sip] I-D Action:draft-ietf-sip-ipv6-abnf-fix-02.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


--NextPart

A New Internet-Draft is available from the on-line Internet-Drafts directories.
This draft is a work item of the Session Initiation Protocol Working Group of the IETF.


	Title           : Essential correction for IPv6 ABNF and URI comparison in RFC3261
	Author(s)       : V. Gurbani, et al.
	Filename        : draft-ietf-sip-ipv6-abnf-fix-02.txt
	Pages           : 9
	Date            : 2008-05-06

This memo corrects the Augmented Backus-Naur Form (ABNF) production
rule associated with generating IPv6 literals in RFC3261.  It also
clarifies the rule for Uniform Resource Identifier (URI) comparison
when the URIs contain textual representation of IP addresses.

A URL for this Internet-Draft is:
http://www.ietf.org/internet-drafts/draft-ietf-sip-ipv6-abnf-fix-02.txt

Internet-Drafts are also available by anonymous FTP at:
ftp://ftp.ietf.org/internet-drafts/

Below is the data which will enable a MIME compliant mail reader
implementation to automatically retrieve the ASCII version of the
Internet-Draft.

--NextPart
Content-Type: Message/External-body;
	name="draft-ietf-sip-ipv6-abnf-fix-02.txt";
	site="ftp.ietf.org";
	access-type="anon-ftp";
	directory="internet-drafts"

Content-Type: text/plain
Content-ID: <2008-05-06073127.I-D@ietf.org>


--NextPart
Content-Type: text/plain; charset="us-ascii"
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip
--NextPart--


From sip-bounces@ietf.org  Tue May  6 08:50:34 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 915763A6FF5;
	Tue,  6 May 2008 08:50:34 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 40FEB28C244
	for <sip@core3.amsl.com>; Tue,  6 May 2008 08:50:33 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -6.249
X-Spam-Level: 
X-Spam-Status: No, score=-6.249 tagged_above=-999 required=5
	tests=[BAYES_00=-2.599, HELO_EQ_SE=0.35, RCVD_IN_DNSWL_MED=-4]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id YjBnwjYt6M8Y for <sip@core3.amsl.com>;
	Tue,  6 May 2008 08:50:32 -0700 (PDT)
Received: from mailgw3.ericsson.se (mailgw3.ericsson.se [193.180.251.60])
	by core3.amsl.com (Postfix) with ESMTP id 10B353A6B71
	for <sip@ietf.org>; Tue,  6 May 2008 08:50:32 -0700 (PDT)
Received: from mailgw3.ericsson.se (unknown [127.0.0.1])
	by mailgw3.ericsson.se (Symantec Mail Security) with ESMTP id
	3229F209E2; Tue,  6 May 2008 17:50:29 +0200 (CEST)
X-AuditID: c1b4fb3c-b009fbb00000193b-be-48207e454ef0
Received: from esealmw126.eemea.ericsson.se (unknown [153.88.254.123])
	by mailgw3.ericsson.se (Symantec Mail Security) with ESMTP id
	22FBE205B5; Tue,  6 May 2008 17:50:29 +0200 (CEST)
Received: from esealmw113.eemea.ericsson.se ([153.88.200.4]) by
	esealmw126.eemea.ericsson.se with Microsoft SMTPSVC(6.0.3790.1830); 
	Tue, 6 May 2008 17:50:28 +0200
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Tue, 6 May 2008 17:50:27 +0200
Message-ID: <CA9998CD4A020D418654FCDEF4E707DF046C7761@esealmw113.eemea.ericsson.se>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Draft: draft-holmberg-sip-keep-00.txt
thread-index: Acivj+hIWK9wGa5WRXKydCfYJnrggw==
From: "Christer Holmberg" <christer.holmberg@ericsson.com>
To: <sip@ietf.org>
X-OriginalArrivalTime: 06 May 2008 15:50:28.0915 (UTC)
	FILETIME=[E8651830:01C8AF90]
X-Brightmail-Tracker: AAAAAA==
Cc: drage@alcatel-lucent.com, dean.willis@softarmor.com
Subject: [Sip] Draft: draft-holmberg-sip-keep-00.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Hi,
 
Based on discussions we've had in SIP, I have (with some good input from a number of people) put together a draft which defines a mechanism to indicate support of, and use, the keep-alive techniques defined in draft-outbound, without using the Outbound mechanism itself.
 
One use-case, which is also what we mostly have discussed, is simply when entities do not support the Outbound mechanism but still want to implement and use keep-alive.
 
Another use-case is non-registration calls (for example non-registration emergency calls) where Outbound can't be used.
 
The draft can be found at:
 
http://users.piuha.net/cholmber/drafts/draft-holmberg-sip-keep-00.txt
 
Regards,
 
Christer
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Tue May  6 08:59:27 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 484A128C3EE;
	Tue,  6 May 2008 08:59:27 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 27E1B28C3F6
	for <sip@core3.amsl.com>; Tue,  6 May 2008 08:59:26 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.599
X-Spam-Level: 
X-Spam-Status: No, score=-2.599 tagged_above=-999 required=5
	tests=[BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id N8mVip1PNQPa for <sip@core3.amsl.com>;
	Tue,  6 May 2008 08:59:25 -0700 (PDT)
Received: from tutpro.com (sip.tutpro.com [192.98.100.10])
	by core3.amsl.com (Postfix) with ESMTP id 4AB2B28C3EE
	for <sip@ietf.org>; Tue,  6 May 2008 08:59:25 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by tutpro.com (Postfix) with ESMTP id 84B941EC29D;
	Tue,  6 May 2008 18:59:22 +0300 (EEST)
Received: from tutpro.com ([127.0.0.1])
	by localhost (tutpro.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 29i4+FKg01jK; Tue,  6 May 2008 18:59:15 +0300 (EEST)
Received: from taimen (h14830.gprs.dnafinland.fi [87.93.148.30])
	by tutpro.com (Postfix) with ESMTP;
	Tue,  6 May 2008 18:59:15 +0300 (EEST)
Received: by taimen (Postfix, from userid 1000)
	id 76676AC06F; Tue,  6 May 2008 18:59:10 +0300 (EEST)
MIME-Version: 1.0
Message-ID: <18464.32846.367237.654872@taimen.test.fi>
Date: Tue, 6 May 2008 18:59:10 +0300
To: "Christer Holmberg" <christer.holmberg@ericsson.com>
In-Reply-To: <CA9998CD4A020D418654FCDEF4E707DF046C7761@esealmw113.eemea.ericsson.se>
References: <CA9998CD4A020D418654FCDEF4E707DF046C7761@esealmw113.eemea.ericsson.se>
X-Mailer: VM 7.19 under Emacs 21.4.1
From: jh@tutpro.com (Juha Heinanen)
Cc: sip@ietf.org, drage@alcatel-lucent.com, dean.willis@softarmor.com
Subject: [Sip]  Draft: draft-holmberg-sip-keep-00.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Christer Holmberg writes:

 > Based on discussions we've had in SIP, I have (with some good input
 > from a number of people) put together a draft which defines a
 > mechanism to indicate support of, and use, the keep-alive techniques
 > defined in draft-outbound, without using the Outbound mechanism
 > itself.

why does the keepalive support be indicated?  why can't the UA simply
start sending keepalives and be happy if it receives responses?  this
works today fine with double-CRLF keepalives without any indication or
outbound support.

-- juha
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Tue May  6 09:12:44 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id EC13F3A6AA1;
	Tue,  6 May 2008 09:12:43 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id AA3823A6803
	for <sip@core3.amsl.com>; Tue,  6 May 2008 09:12:40 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: 3.939
X-Spam-Level: ***
X-Spam-Status: No, score=3.939 tagged_above=-999 required=5
	tests=[BAYES_50=0.001, CN_BODY_103=0.327, CN_BODY_298=0.166,
	HTML_MESSAGE=0.001, MIME_CHARSET_FARAWAY=2.45, RELAY_IS_203=0.994]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 39IG-ufrHhQ0 for <sip@core3.amsl.com>;
	Tue,  6 May 2008 09:12:39 -0700 (PDT)
Received: from web92203.mail.cnh.yahoo.com (web92203.mail.cnh.yahoo.com
	[203.209.250.116])
	by core3.amsl.com (Postfix) with SMTP id 9E35828C1D6
	for <sip@ietf.org>; Tue,  6 May 2008 09:11:44 -0700 (PDT)
Received: (qmail 95163 invoked by uid 60001); 6 May 2008 16:11:40 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws; s=s1024; d=yahoo.cn;
	h=X-YMail-OSG:Received:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding:Message-ID;
	b=btIInmU5QRhv7CActBMdKyPRNaCRa5csF8/DWEu+Q0S6ktJ9Ylpuw4VSnQ0CYCQ5pDLblGNC0Zhl6ylY4OHVogmO38hnOj5wXlCGxP6lRiDF0s/cQL5RDEll8TQi9N4bfqtx3iak97Hzxu3rKRLhhJNw63Npjh5MT4DbAanVYaw=;
X-YMail-OSG: zq8l06AVM1legVOPtdqz_klTcSnz0Utt_yUBebY4
Received: from [123.116.142.130] by web92203.mail.cnh.yahoo.com via HTTP;
	Wed, 07 May 2008 00:11:40 CST
Date: Wed, 7 May 2008 00:11:40 +0800 (CST)
From: Michael <buptmj@yahoo.cn>
To: sip@ietf.org
MIME-Version: 1.0
Message-ID: <681807.94326.qm@web92203.mail.cnh.yahoo.com>
Subject: [Sip] More security issues in
	draft-ietf-sip-session-policy-framework
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: multipart/mixed; boundary="===============2029651593=="
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

--===============2029651593==
Content-Type: multipart/alternative; boundary="0-1651499720-1210090300=:94326"
Content-Transfer-Encoding: 8bit

--0-1651499720-1210090300=:94326
Content-Type: text/plain; charset=gb2312
Content-Transfer-Encoding: 8bit

Hi
  I've read sip-policy-framework draft recently
   
  The "Security Consideration" part mainly talks about the confidentiality issues . But I think there is one more security consideration which isn't taken into account in this draft. As there is no mechanism helping the proxy ensure the UA has changed the parameter of the request according to the policy received from a policy server. Thus the UA or attacker may change the policy for some malicious purposes, and proxy will foward the session since there are already "Policy-Id" in place.
   
  Do you think it's a security problem or not? Can anyone give some suggest of how to solve it?
   
  Any comment is appreciated.

       
---------------------------------
 Ż䣬䣡
--0-1651499720-1210090300=:94326
Content-Type: text/html; charset=gb2312
Content-Transfer-Encoding: 8bit

<DIV>Hi</DIV>  <DIV>I've read sip-policy-framework draft recently</DIV>  <DIV>&nbsp;</DIV>  <DIV>The "Security Consideration" part mainly talks about the confidentiality issues . But I think there is one more security consideration which isn't taken into account in this draft. As there is no mechanism helping the proxy ensure the UA has changed the parameter of the request according to the policy received from a policy server. Thus the UA or attacker may change the policy for some malicious purposes, and proxy will foward the session since there are already&nbsp;"Policy-Id" in place.</DIV>  <DIV>&nbsp;</DIV>  <DIV>Do you think it's a security problem or not? Can anyone give some suggest of how to solve it?</DIV>  <DIV>&nbsp;</DIV>  <DIV>Any comment is appreciated.</DIV><p>&#32;


      <hr size=1><a href="http://cn.mail.yahoo.com/"> Ż䣬䣡</a>
--0-1651499720-1210090300=:94326--

--===============2029651593==
Content-Type: text/plain; charset="us-ascii"
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip
--===============2029651593==--


From sip-bounces@ietf.org  Tue May  6 11:04:25 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 54EEB28C43D;
	Tue,  6 May 2008 11:04:25 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 0D8E628C43D
	for <sip@core3.amsl.com>; Tue,  6 May 2008 11:03:52 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -6.599
X-Spam-Level: 
X-Spam-Status: No, score=-6.599 tagged_above=-999 required=5
	tests=[BAYES_00=-2.599, RCVD_IN_DNSWL_MED=-4]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id nZQL2uB12UeS for <sip@core3.amsl.com>;
	Tue,  6 May 2008 11:03:40 -0700 (PDT)
Received: from zrtps0kp.nortel.com (zrtps0kp.nortel.com [47.140.192.56])
	by core3.amsl.com (Postfix) with ESMTP id 34F5328C434
	for <sip@ietf.org>; Tue,  6 May 2008 11:03:38 -0700 (PDT)
Received: from zrc2hxm0.corp.nortel.com (zrc2hxm0.corp.nortel.com
	[47.103.123.71])
	by zrtps0kp.nortel.com (Switch-2.2.6/Switch-2.2.0) with ESMTP id
	m46I3W012374; Tue, 6 May 2008 18:03:32 GMT
X-MIMEOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Tue, 6 May 2008 13:03:19 -0500
Message-ID: <1ECE0EB50388174790F9694F77522CCF169722C3@zrc2hxm0.corp.nortel.com>
In-Reply-To: <18464.32846.367237.654872@taimen.test.fi>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip]  Draft: draft-holmberg-sip-keep-00.txt
Thread-index: AcivkjPgcjn5AJAbRXmVrw6aMJt4fgAEStGw
References: <CA9998CD4A020D418654FCDEF4E707DF046C7761@esealmw113.eemea.ericsson.se>
	<18464.32846.367237.654872@taimen.test.fi>
From: "Francois Audet" <audet@nortel.com>
To: "Juha Heinanen" <jh@tutpro.com>,
	"Christer Holmberg" <christer.holmberg@ericsson.com>
Cc: sip@ietf.org, drage@alcatel-lucent.com, dean.willis@softarmor.com
Subject: Re: [Sip] Draft: draft-holmberg-sip-keep-00.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

I think it's really for the STUN-in-SIP UDP thing more than double-CRLF-in-TCP.

> -----Original Message-----
> From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On 
> Behalf Of Juha Heinanen
> Sent: Tuesday, May 06, 2008 08:59
> To: Christer Holmberg
> Cc: sip@ietf.org; drage@alcatel-lucent.com; dean.willis@softarmor.com
> Subject: [Sip] Draft: draft-holmberg-sip-keep-00.txt
> 
> Christer Holmberg writes:
> 
>  > Based on discussions we've had in SIP, I have (with some 
> good input  > from a number of people) put together a draft 
> which defines a  > mechanism to indicate support of, and use, 
> the keep-alive techniques  > defined in draft-outbound, 
> without using the Outbound mechanism  > itself.
> 
> why does the keepalive support be indicated?  why can't the 
> UA simply start sending keepalives and be happy if it 
> receives responses?  this works today fine with double-CRLF 
> keepalives without any indication or outbound support.
> 
> -- juha
> _______________________________________________
> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol Use 
> sip-implementors@cs.columbia.edu for questions on current sip 
> Use sipping@ietf.org for new developments on the application of sip
> 
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Tue May  6 11:13:42 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 1C6DC3A6D19;
	Tue,  6 May 2008 11:13:42 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id A40293A6DDD
	for <sip@core3.amsl.com>; Tue,  6 May 2008 11:13:40 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.599
X-Spam-Level: 
X-Spam-Status: No, score=-2.599 tagged_above=-999 required=5
	tests=[BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id Mw+S8RLrP1Yx for <sip@core3.amsl.com>;
	Tue,  6 May 2008 11:13:38 -0700 (PDT)
Received: from tutpro.com (sip.tutpro.com [192.98.100.10])
	by core3.amsl.com (Postfix) with ESMTP id A7A9B3A6D19
	for <sip@ietf.org>; Tue,  6 May 2008 11:13:38 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by tutpro.com (Postfix) with ESMTP id 58BED1EC29D;
	Tue,  6 May 2008 21:13:35 +0300 (EEST)
Received: from tutpro.com ([127.0.0.1])
	by localhost (tutpro.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id ztTJioUw3INk; Tue,  6 May 2008 21:13:28 +0300 (EEST)
Received: from taimen (h14830.gprs.dnafinland.fi [87.93.148.30])
	by tutpro.com (Postfix) with ESMTP;
	Tue,  6 May 2008 21:13:28 +0300 (EEST)
Received: by taimen (Postfix, from userid 1000)
	id D20E0AC070; Tue,  6 May 2008 21:13:22 +0300 (EEST)
MIME-Version: 1.0
Message-ID: <18464.40898.695492.290843@taimen.test.fi>
Date: Tue, 6 May 2008 21:13:22 +0300
To: "Francois Audet" <audet@nortel.com>
In-Reply-To: <1ECE0EB50388174790F9694F77522CCF169722C3@zrc2hxm0.corp.nortel.com>
References: <CA9998CD4A020D418654FCDEF4E707DF046C7761@esealmw113.eemea.ericsson.se>
	<18464.32846.367237.654872@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF169722C3@zrc2hxm0.corp.nortel.com>
X-Mailer: VM 7.19 under Emacs 21.4.1
From: jh@tutpro.com (Juha Heinanen)
Cc: sip@ietf.org, dean.willis@softarmor.com, drage@alcatel-lucent.com,
	Christer Holmberg <christer.holmberg@ericsson.com>
Subject: Re: [Sip] Draft: draft-holmberg-sip-keep-00.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Francois Audet writes:
 
 > I think it's really for the STUN-in-SIP UDP thing more than
 > double-CRLF-in-TCP. 

the draft talks about "keepalive techniques".  but even in stun case,
why can't the UA just try to use it and see what happens?

-- juha
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Tue May  6 11:37:54 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 44FCB3A69B0;
	Tue,  6 May 2008 11:37:54 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id BBC8628C444
	for <sip@core3.amsl.com>; Tue,  6 May 2008 11:37:52 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -6.599
X-Spam-Level: 
X-Spam-Status: No, score=-6.599 tagged_above=-999 required=5
	tests=[BAYES_00=-2.599, RCVD_IN_DNSWL_MED=-4]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id aNcvVYa5UvoK for <sip@core3.amsl.com>;
	Tue,  6 May 2008 11:37:51 -0700 (PDT)
Received: from zcars04e.nortel.com (zcars04e.nortel.com [47.129.242.56])
	by core3.amsl.com (Postfix) with ESMTP id 83F5A3A69B0
	for <sip@ietf.org>; Tue,  6 May 2008 11:37:51 -0700 (PDT)
Received: from zrc2hxm0.corp.nortel.com (zrc2hxm0.corp.nortel.com
	[47.103.123.71])
	by zcars04e.nortel.com (Switch-2.2.0/Switch-2.2.0) with ESMTP id
	m46IakN11162; Tue, 6 May 2008 18:36:47 GMT
X-MIMEOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Tue, 6 May 2008 13:37:32 -0500
Message-ID: <1ECE0EB50388174790F9694F77522CCF169723EE@zrc2hxm0.corp.nortel.com>
In-Reply-To: <18464.40898.695492.290843@taimen.test.fi>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip]  Draft: draft-holmberg-sip-keep-00.txt
Thread-index: AcivpOhMY0Lgi1u7QmiInGEgvt0z+QAAqxlA
References: <CA9998CD4A020D418654FCDEF4E707DF046C7761@esealmw113.eemea.ericsson.se>
	<18464.32846.367237.654872@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF169722C3@zrc2hxm0.corp.nortel.com>
	<18464.40898.695492.290843@taimen.test.fi>
From: "Francois Audet" <audet@nortel.com>
To: "Juha Heinanen" <jh@tutpro.com>
Cc: sip@ietf.org, Christer Holmberg <christer.holmberg@ericsson.com>
Subject: Re: [Sip] Draft: draft-holmberg-sip-keep-00.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

People are worried that multiplexing different protocols (SIP and STUN) on the same port
may cause problems.
 

> -----Original Message-----
> From: Juha Heinanen [mailto:jh@tutpro.com] 
> Sent: Tuesday, May 06, 2008 11:13
> To: Audet, Francois (SC100:3055)
> Cc: Christer Holmberg; sip@ietf.org; 
> drage@alcatel-lucent.com; dean.willis@softarmor.com
> Subject: RE: [Sip] Draft: draft-holmberg-sip-keep-00.txt
> 
> Francois Audet writes:
>  
>  > I think it's really for the STUN-in-SIP UDP thing more 
> than  > double-CRLF-in-TCP. 
> 
> the draft talks about "keepalive techniques".  but even in 
> stun case, why can't the UA just try to use it and see what happens?
> 
> -- juha
> 
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Tue May  6 11:52:02 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id C241028C44D;
	Tue,  6 May 2008 11:52:02 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 8B6AA28C42E
	for <sip@core3.amsl.com>; Tue,  6 May 2008 11:52:01 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.599
X-Spam-Level: 
X-Spam-Status: No, score=-2.599 tagged_above=-999 required=5
	tests=[BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id vkjaAecsP+R2 for <sip@core3.amsl.com>;
	Tue,  6 May 2008 11:52:00 -0700 (PDT)
Received: from tutpro.com (sip.tutpro.com [192.98.100.10])
	by core3.amsl.com (Postfix) with ESMTP id ADE6228C44C
	for <sip@ietf.org>; Tue,  6 May 2008 11:52:00 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by tutpro.com (Postfix) with ESMTP id 6E43B1EC29E;
	Tue,  6 May 2008 21:51:58 +0300 (EEST)
Received: from tutpro.com ([127.0.0.1])
	by localhost (tutpro.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id g6b61RwH5WGm; Tue,  6 May 2008 21:51:50 +0300 (EEST)
Received: from taimen (h14830.gprs.dnafinland.fi [87.93.148.30])
	by tutpro.com (Postfix) with ESMTP;
	Tue,  6 May 2008 21:51:50 +0300 (EEST)
Received: by taimen (Postfix, from userid 1000)
	id F0BD3AC070; Tue,  6 May 2008 21:51:44 +0300 (EEST)
MIME-Version: 1.0
Message-ID: <18464.43200.840240.726767@taimen.test.fi>
Date: Tue, 6 May 2008 21:51:44 +0300
To: "Francois Audet" <audet@nortel.com>
In-Reply-To: <1ECE0EB50388174790F9694F77522CCF169723EE@zrc2hxm0.corp.nortel.com>
References: <CA9998CD4A020D418654FCDEF4E707DF046C7761@esealmw113.eemea.ericsson.se>
	<18464.32846.367237.654872@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF169722C3@zrc2hxm0.corp.nortel.com>
	<18464.40898.695492.290843@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF169723EE@zrc2hxm0.corp.nortel.com>
X-Mailer: VM 7.19 under Emacs 21.4.1
From: jh@tutpro.com (Juha Heinanen)
Cc: sip@ietf.org, Christer Holmberg <christer.holmberg@ericsson.com>
Subject: Re: [Sip] Draft: draft-holmberg-sip-keep-00.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Francois Audet writes:

 > People are worried that multiplexing different protocols (SIP and
 > STUN) on the same port may cause problems.

if they cause problems to the proxy, then the proxy is an easy
target for attacks and should not be connected to the net anyway.

-- juha
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Tue May  6 12:12:22 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 6298728C4DB;
	Tue,  6 May 2008 12:12:22 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 6EABD28C4DB
	for <sip@core3.amsl.com>; Tue,  6 May 2008 12:12:17 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.599
X-Spam-Level: 
X-Spam-Status: No, score=-2.599 tagged_above=-999 required=5
	tests=[BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id NOjj12NUNlSh for <sip@core3.amsl.com>;
	Tue,  6 May 2008 12:12:02 -0700 (PDT)
Received: from etmail.acmepacket.com (etmail.acmepacket.com [216.41.24.6])
	by core3.amsl.com (Postfix) with ESMTP id 814E928C4C8
	for <sip@ietf.org>; Tue,  6 May 2008 12:09:35 -0700 (PDT)
Received: from mail.acmepacket.com (216.41.24.7) by etmail.acmepacket.com
	(216.41.24.6) with Microsoft SMTP Server (TLS) id 8.1.263.0;
	Tue, 6 May 2008 15:07:24 -0400
Received: from mail.acmepacket.com ([216.41.24.7]) by mail.acmepacket.com
	([216.41.24.7]) with mapi; Tue, 6 May 2008 15:07:24 -0400
From: Hadriel Kaplan <HKaplan@acmepacket.com>
To: Juha Heinanen <jh@tutpro.com>, Francois Audet <audet@nortel.com>
Date: Tue, 6 May 2008 15:07:20 -0400
Thread-Topic: [Sip] Draft: draft-holmberg-sip-keep-00.txt
Thread-Index: AcivqjQSi1XLMlxkQC6zQwoXizRe9QAAcChA
Message-ID: <E6C2E8958BA59A4FB960963D475F7AC30BD7FD367F@mail.acmepacket.com>
References: <CA9998CD4A020D418654FCDEF4E707DF046C7761@esealmw113.eemea.ericsson.se>
	<18464.32846.367237.654872@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF169722C3@zrc2hxm0.corp.nortel.com>
	<18464.40898.695492.290843@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF169723EE@zrc2hxm0.corp.nortel.com>
	<18464.43200.840240.726767@taimen.test.fi>
In-Reply-To: <18464.43200.840240.726767@taimen.test.fi>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
acceptlanguage: en-US
MIME-Version: 1.0
Cc: "sip@ietf.org" <sip@ietf.org>,
	Christer Holmberg <christer.holmberg@ericsson.com>
Subject: Re: [Sip] Draft: draft-holmberg-sip-keep-00.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Actually, it will cause problems for the device sending STUN, because that next-hop proxy will (rightly) consider it a malformed attack and blacklist the sender.

But it's also because by letting the next-hop proxy know the sender can send STUN or CRLF keepalives means the next-hop proxy does not need to potentially do other things itself.

-hadriel


> -----Original Message-----
> From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On Behalf Of Juha
> Heinanen
> Sent: Tuesday, May 06, 2008 2:52 PM
> To: Francois Audet
> Cc: sip@ietf.org; Christer Holmberg
> Subject: Re: [Sip] Draft: draft-holmberg-sip-keep-00.txt
>
> Francois Audet writes:
>
>  > People are worried that multiplexing different protocols (SIP and
>  > STUN) on the same port may cause problems.
>
> if they cause problems to the proxy, then the proxy is an easy
> target for attacks and should not be connected to the net anyway.
>
> -- juha
> _______________________________________________
> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Tue May  6 12:33:01 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 95A4128C43A;
	Tue,  6 May 2008 12:33:01 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 5A26B28C451
	for <sip@core3.amsl.com>; Tue,  6 May 2008 12:32:59 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.599
X-Spam-Level: 
X-Spam-Status: No, score=-2.599 tagged_above=-999 required=5 tests=[AWL=0.000, 
	BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id Owom2woRoFo6 for <sip@core3.amsl.com>;
	Tue,  6 May 2008 12:32:58 -0700 (PDT)
Received: from tutpro.com (sip.tutpro.com [192.98.100.10])
	by core3.amsl.com (Postfix) with ESMTP id 637E428C43A
	for <sip@ietf.org>; Tue,  6 May 2008 12:32:58 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by tutpro.com (Postfix) with ESMTP id 3C8591EC29D;
	Tue,  6 May 2008 22:32:55 +0300 (EEST)
Received: from tutpro.com ([127.0.0.1])
	by localhost (tutpro.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id J60XJO4BZbcO; Tue,  6 May 2008 22:32:40 +0300 (EEST)
Received: from taimen (h14830.gprs.dnafinland.fi [87.93.148.30])
	by tutpro.com (Postfix) with ESMTP;
	Tue,  6 May 2008 22:32:40 +0300 (EEST)
Received: by taimen (Postfix, from userid 1000)
	id 68126AC070; Tue,  6 May 2008 22:32:35 +0300 (EEST)
MIME-Version: 1.0
Message-ID: <18464.45651.393965.611407@taimen.test.fi>
Date: Tue, 6 May 2008 22:32:35 +0300
To: Hadriel Kaplan <HKaplan@acmepacket.com>
In-Reply-To: <E6C2E8958BA59A4FB960963D475F7AC30BD7FD367F@mail.acmepacket.com>
References: <CA9998CD4A020D418654FCDEF4E707DF046C7761@esealmw113.eemea.ericsson.se>
	<18464.32846.367237.654872@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF169722C3@zrc2hxm0.corp.nortel.com>
	<18464.40898.695492.290843@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF169723EE@zrc2hxm0.corp.nortel.com>
	<18464.43200.840240.726767@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD7FD367F@mail.acmepacket.com>
X-Mailer: VM 7.19 under Emacs 21.4.1
From: jh@tutpro.com (Juha Heinanen)
Cc: "sip@ietf.org" <sip@ietf.org>, Francois Audet <audet@nortel.com>,
	Christer Holmberg <christer.holmberg@ericsson.com>
Subject: Re: [Sip] Draft: draft-holmberg-sip-keep-00.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Hadriel Kaplan writes:

 > Actually, it will cause problems for the device sending STUN, because
 > that next-hop proxy will (rightly) consider it a malformed attack and
 > blacklist the sender.

if proxy supports stun, it can recognize that the request is a stun
requests and not an attack.

 > But it's also because by letting the next-hop proxy know the sender
 > can send STUN or CRLF keepalives means the next-hop proxy does not
 > need to potentially do other things itself.

that does make sense, but then the ua needs to let the proxy know,
exactly which keepalive method(s) it supports and the proxy should be
able to respond, which one it wants to receive if there is more than one
that the us is advertising.

-- juha
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Tue May  6 12:57:34 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 1BD0728C475;
	Tue,  6 May 2008 12:57:34 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 2C23D3A702E
	for <sip@core3.amsl.com>; Tue,  6 May 2008 12:57:33 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.599
X-Spam-Level: 
X-Spam-Status: No, score=-2.599 tagged_above=-999 required=5
	tests=[BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id oPkecB4gbCxg for <sip@core3.amsl.com>;
	Tue,  6 May 2008 12:57:29 -0700 (PDT)
Received: from etmail.acmepacket.com (etmail.acmepacket.com [216.41.24.6])
	by core3.amsl.com (Postfix) with ESMTP id 484E43A6E27
	for <sip@ietf.org>; Tue,  6 May 2008 12:57:29 -0700 (PDT)
Received: from mail.acmepacket.com (216.41.24.7) by etmail.acmepacket.com
	(216.41.24.6) with Microsoft SMTP Server (TLS) id 8.1.263.0;
	Tue, 6 May 2008 15:56:51 -0400
Received: from mail.acmepacket.com ([216.41.24.7]) by mail.acmepacket.com
	([216.41.24.7]) with mapi; Tue, 6 May 2008 15:56:52 -0400
From: Hadriel Kaplan <HKaplan@acmepacket.com>
To: Juha Heinanen <jh@tutpro.com>
Date: Tue, 6 May 2008 15:56:46 -0400
Thread-Topic: [Sip] Draft: draft-holmberg-sip-keep-00.txt
Thread-Index: Acivr+jGfyviZxOhR62yM994Gl0wRQAAphRA
Message-ID: <E6C2E8958BA59A4FB960963D475F7AC30BD7FD37D7@mail.acmepacket.com>
References: <CA9998CD4A020D418654FCDEF4E707DF046C7761@esealmw113.eemea.ericsson.se>
	<18464.32846.367237.654872@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF169722C3@zrc2hxm0.corp.nortel.com>
	<18464.40898.695492.290843@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF169723EE@zrc2hxm0.corp.nortel.com>
	<18464.43200.840240.726767@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD7FD367F@mail.acmepacket.com>
	<18464.45651.393965.611407@taimen.test.fi>
In-Reply-To: <18464.45651.393965.611407@taimen.test.fi>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
acceptlanguage: en-US
MIME-Version: 1.0
Cc: "sip@ietf.org" <sip@ietf.org>, Francois Audet <audet@nortel.com>,
	Christer@core3.amsl.com, Holmberg <christer.holmberg@ericsson.com>
Subject: Re: [Sip] Draft: draft-holmberg-sip-keep-00.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org



> -----Original Message-----
> From: Juha Heinanen [mailto:jh@tutpro.com]
> Sent: Tuesday, May 06, 2008 3:33 PM
> To: Hadriel Kaplan
> Cc: Francois Audet; sip@ietf.org; Christer Holmberg
> Subject: RE: [Sip] Draft: draft-holmberg-sip-keep-00.txt
>
> Hadriel Kaplan writes:
>
>  > Actually, it will cause problems for the device sending STUN, because
>  > that next-hop proxy will (rightly) consider it a malformed attack and
>  > blacklist the sender.
>
> if proxy supports stun, it can recognize that the request is a stun
> requests and not an attack.

Right, but the whole thing here is the UA doesn't know if the proxy supports STUN/CRLF, or is legacy.  If the UA does draft-outbound and so does the proxy, it can find out; if it does draft-sip-keep, it can find out.  If the UA finds out the proxy can't do it, then it will not do it.


>  > But it's also because by letting the next-hop proxy know the sender
>  > can send STUN or CRLF keepalives means the next-hop proxy does not
>  > need to potentially do other things itself.
>
> that does make sense, but then the ua needs to let the proxy know,
> exactly which keepalive method(s) it supports and the proxy should be
> able to respond, which one it wants to receive if there is more than one
> that the us is advertising.

I think Christer's current proposal is to re-use exactly what outbound does, which I thought was basically one and only one mechanism per transport type, of message-based/UDP=STUN, stream-based=CRLFCRLF.  If so, then there is no choice to make. (which is good, imo)

-hadriel

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Tue May  6 18:09:11 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 9713C3A6A9E;
	Tue,  6 May 2008 18:09:11 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 86ED93A6A9E
	for <sip@core3.amsl.com>; Tue,  6 May 2008 18:09:05 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -6.524
X-Spam-Level: 
X-Spam-Status: No, score=-6.524 tagged_above=-999 required=5 tests=[AWL=0.075, 
	BAYES_00=-2.599, RCVD_IN_DNSWL_MED=-4]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 0fuRu9WszbZ7 for <sip@core3.amsl.com>;
	Tue,  6 May 2008 18:09:02 -0700 (PDT)
Received: from sj-iport-5.cisco.com (sj-iport-5.cisco.com [171.68.10.87])
	by core3.amsl.com (Postfix) with ESMTP id 280CC3A67EF
	for <sip@ietf.org>; Tue,  6 May 2008 18:09:02 -0700 (PDT)
X-IronPort-AV: E=Sophos;i="4.27,445,1204531200"; d="scan'208";a="25560449"
Received: from sj-dkim-1.cisco.com ([171.71.179.21])
	by sj-iport-5.cisco.com with ESMTP; 06 May 2008 18:09:00 -0700
Received: from sj-core-2.cisco.com (sj-core-2.cisco.com [171.71.177.254])
	by sj-dkim-1.cisco.com (8.12.11/8.12.11) with ESMTP id m47190o6011662; 
	Tue, 6 May 2008 18:09:00 -0700
Received: from dwingwxp01 ([10.32.240.195])
	by sj-core-2.cisco.com (8.13.8/8.13.8) with ESMTP id m4718xxF011308;
	Wed, 7 May 2008 01:08:59 GMT
From: "Dan Wing" <dwing@cisco.com>
To: "'Eric Rescorla'" <ekr@networkresonance.com>
References: <066701c8af02$2445f8e0$c3f0200a@cisco.com>
	<20080506000110.499525081A@romeo.rtfm.com>
Date: Tue, 6 May 2008 18:08:59 -0700
Message-ID: <03f901c8afde$ee9398f0$c3f0200a@cisco.com>
MIME-Version: 1.0
X-Mailer: Microsoft Office Outlook 11
In-Reply-To: <20080506000110.499525081A@romeo.rtfm.com>
X-Mimeole: Produced By Microsoft MimeOLE V6.00.2900.3198
Thread-Index: AcivC9rG+PRtrEI7Q7mQuWJhupJ8KwA0NRfw
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; l=3208; t=1210122540;
	x=1210986540; c=relaxed/simple; s=sjdkim1004;
	h=Content-Type:From:Subject:Content-Transfer-Encoding:MIME-Version;
	d=cisco.com; i=dwing@cisco.com;
	z=From:=20=22Dan=20Wing=22=20<dwing@cisco.com>
	|Subject:=20RE=3A=20[Sip]=20draft-ietf-sip-media-security-r
	equirements-05 |Sender:=20;
	bh=YIVLtopaY7LEVEPCn/mC8uwObuK14aBvydD1CNS4aaA=;
	b=VckwEKxIirn+ezT76XsYiItkLpBj9MPLlNIml96DKQrcCGLyKIxbBojpFr
	g3xGnLdkP0VTTZKCm19yi4HpZ7xMOOP4qVHzYAj7HyMVX5Xoj6bEKryuAMKi
	EKuiz8UHkDx5HLapiBiXeHzbylnN6uUrvEMmd0U59SJ2JHdRQGM9Y=;
Authentication-Results: sj-dkim-1; header.From=dwing@cisco.com; dkim=pass (
	sig from cisco.com/sjdkim1004 verified; ); 
Cc: 'IETF SIP List' <sip@ietf.org>, "'Fries,
	Steffen \(CT\)'" <steffen.fries@siemens.com>,
	'Dean Willis' <dean.willis@softarmor.com>
Subject: Re: [Sip] draft-ietf-sip-media-security-requirements-05
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

> -----Original Message-----
> From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On 
> Behalf Of Eric Rescorla
> Sent: Monday, May 05, 2008 5:01 PM
> To: Dan Wing
> Cc: 'IETF SIP List'
> Subject: Re: [Sip] draft-ietf-sip-media-security-requirements-05
> 
> At Mon, 5 May 2008 15:48:30 -0700,
> Dan Wing wrote:
> At Mon, 5 May 2008 15:48:30 -0700,
> Dan Wing wrote:
> >   * R-CERTS now reads:
> > 
> >       The media security key management protocol MUST NOT constrain	
> >       the set of trust anchors that a peer can use to validate	
> >       certificates used in the protocol.
> 
> I don't mean to be difficult, but I don't think that this actually
> captures the relevant issue particularly well.
> 
> One of the primary reasons why the RTPSEC work got started was that it
> became clear that one could not safely assume that end-users would
> have certificates which were verifiable by others. If we could assume
> that, then life would be a lot simpler. For instance, we could have
> ubiquitous S/MIME and use S/MIME signatures instead of RFC 4474.  For
> that matter, we could use DTLS-SRTP without any screwing around with
> fingerprints, just based on the certificates.
> 
> So, I don't think the requirement is that the protocol not constrain
> the set of trust anchors. [Honestly, I'm not really sure what that
> means. Does HTTPS meet this requirement?]

The HTTPS protocol, that exists on the wire, does not enforce (or 
know) how the certificate is validated, of course.  But if an HTTPS
client implementation required that the TLS certificate had a 
trust anchor (that is, was signed by a CA), then that HTTPS client
implementation would not meet the requirement.  Of course, almost
every deployed HTTPS client allows the user to create a whitelist of 
trusted certificates (Firefox, Safari, IE, Opera).  So, almost 
every deployed HTTPS client's implementation would meet the 
requirement.

> Without trying to wordsmith
> it, I would say that the requirement is that the protocol be secure
> even if the users do not have credentials attested to by *any* trust
> anchor.[0] That is what the relevant distinction is between 
> self-signed
> and third-party certificates.
>
> -Ekr
> 
> [0] Incidentally, one of Dan's messages stated that he believed that
> IBE would be consistent with R-12. I suppose that might be technically
> true, but I think it pretty clearly does not meet the spirit of the
> requirement. In order to use an IBE system, the user has to get a
> private key from the PKG. This is just as inconvenient as what
> we are trying to avoid with this requirement, namely forcing the
> user to deal with the CA/PKG.

The wordsmithing task falls to me, I suppose.  

Here is another straw man, which I think captures your sentence
above your signature and your [0] comment:

      R-CERTS:

      The media security key management protocol MUST NOT require
      using a trust anchor to validate credentials (e.g., a 
      certificate) or to obtain credentials (e.g., a private key) 
      used in the protocol.

(The "or to obtain credentials" clause is intended to cover the 
IBE case.)

-d

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Tue May  6 23:01:34 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 456323A704D;
	Tue,  6 May 2008 23:01:34 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 8AB203A6E42
	for <sip@core3.amsl.com>; Tue,  6 May 2008 23:01:31 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.299
X-Spam-Level: 
X-Spam-Status: No, score=-2.299 tagged_above=-999 required=5
	tests=[AWL=-0.300, BAYES_00=-2.599, J_CHICKENPOX_43=0.6]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id cn0-RoRLSiOd for <sip@core3.amsl.com>;
	Tue,  6 May 2008 23:01:30 -0700 (PDT)
Received: from tutpro.com (lohi.tutpro.com [192.98.100.2])
	by core3.amsl.com (Postfix) with ESMTP id 9B23D3A6C1A
	for <sip@ietf.org>; Tue,  6 May 2008 23:01:30 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by tutpro.com (Postfix) with ESMTP id C13DF1EC29D
	for <sip@ietf.org>; Wed,  7 May 2008 09:01:26 +0300 (EEST)
Received: from tutpro.com ([127.0.0.1])
	by localhost (tutpro.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id AcT5tKe24MVN for <sip@ietf.org>;
	Wed,  7 May 2008 09:01:20 +0300 (EEST)
Received: from taimen (h13838.gprs.dnafinland.fi [87.93.138.38])
	by tutpro.com (Postfix) with ESMTP
	for <sip@ietf.org>; Wed,  7 May 2008 09:01:20 +0300 (EEST)
Received: by taimen (Postfix, from userid 1000)
	id B8F37AC070; Wed,  7 May 2008 09:01:14 +0300 (EEST)
MIME-Version: 1.0
Message-ID: <18465.17834.732392.527310@taimen.test.fi>
Date: Wed, 7 May 2008 09:01:14 +0300
To: sip@ietf.org
X-Mailer: VM 7.19 under Emacs 21.4.1
From: jh@tutpro.com (Juha Heinanen)
Subject: Re: [Sip] Draft: draft-holmberg-sip-keep-00.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

  Right, but the whole thing here is the UA doesn't know if the proxy
  supports STUN/CRLF, or is legacy.  If the UA does draft-outbound and
  so does the proxy, it can find out; if it does draft-sip-keep, it can
  find out.  If the UA finds out the proxy can't do it, then it will not
  do it.

hadriel,

that would break currently working nat traversal with proxies that do
not support CRLF keepalive, i.e., that are not able to response to
double-CRLF with a single one.  

a tcp connected sip UA is namely still able to keep its nat binding open
by sending double CRLFs, because it does get back tcp level
acknowledgements even when it does not get back SIP keepalive
acknowledgement (single CRLF).

if it uses the keep param and does not get back keep=yes, it would not
send CRLFs and its nat binding would die away.  this is not a good idea
at all.

- juha
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Tue May  6 23:01:38 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 833D828C540;
	Tue,  6 May 2008 23:01:38 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 189B528C514
	for <sip@core3.amsl.com>; Tue,  6 May 2008 23:01:37 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -0.511
X-Spam-Level: 
X-Spam-Status: No, score=-0.511 tagged_above=-999 required=5 tests=[AWL=2.088, 
	BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id i3Su585pYSkn for <sip@core3.amsl.com>;
	Tue,  6 May 2008 23:01:35 -0700 (PDT)
Received: from ihemail1.lucent.com (ihemail1.lucent.com [135.245.0.33])
	by core3.amsl.com (Postfix) with ESMTP id 70A7C28C53E
	for <sip@ietf.org>; Tue,  6 May 2008 23:01:35 -0700 (PDT)
Received: from ilexp02.ndc.lucent.com (h135-3-39-2.lucent.com [135.3.39.2])
	by ihemail1.lucent.com (8.13.8/IER-o) with ESMTP id m4761SJL003580;
	Wed, 7 May 2008 01:01:28 -0500 (CDT)
Received: from DEEXP02.DE.lucent.com ([135.248.187.66]) by
	ilexp02.ndc.lucent.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Wed, 7 May 2008 01:01:28 -0500
Received: from DEEXC1U01.de.lucent.com ([135.248.187.30]) by
	DEEXP02.DE.lucent.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Wed, 7 May 2008 08:01:26 +0200
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Wed, 7 May 2008 08:01:22 +0200
Message-ID: <5D1A7985295922448D5550C94DE2918001ED760C@DEEXC1U01.de.lucent.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: WGLC of essential correction drafts
Thread-Index: AciwB8Y8sfvZsRJITa2sw8ggD+i55A==
From: "DRAGE, Keith \(Keith\)" <drage@alcatel-lucent.com>
To: "SIP IETF" <sip@ietf.org>
X-OriginalArrivalTime: 07 May 2008 06:01:26.0328 (UTC)
	FILETIME=[C8FC0B80:01C8B007]
X-Scanned-By: MIMEDefang 2.57 on 135.245.2.33
Cc: brian.e.carpenter@gmail.com, Brett Tate <brett@broadsoft.com>
Subject: [Sip] WGLC of essential correction drafts
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

(As WG cochair)

This is to announce a two week working group last call of the following
two documents:

draft-ietf-sip-ipv6-abnf-fix-02.txt
http://www.ietf.org/internet-drafts/draft-ietf-sip-ipv6-abnf-fix-02.txt

draft-sparks-sip-invfix-01.txt
http://www.ietf.org/internet-drafts/draft-sparks-sip-invfix-01.txt

The working group runs until Wedneday 21st May 2008.

Comments should be posted to the list and to the document editors. It is
also appropriate to indicate that, having reviewed the current document,
you think the proposal is correct.

It should be remembered that the process to be followed on these
correction drafts is that we WGLC them as separate documents, but then
collect them into a larger RFC that updates RFC 3261 and will publish
that document.

Regards

Keith

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Tue May  6 23:44:36 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 4A9473A70D9;
	Tue,  6 May 2008 23:44:36 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id D6E503A70D1
	for <sip@core3.amsl.com>; Tue,  6 May 2008 23:44:28 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -4.649
X-Spam-Level: 
X-Spam-Status: No, score=-4.649 tagged_above=-999 required=5 tests=[AWL=1.600, 
	BAYES_00=-2.599, HELO_EQ_DE=0.35, RCVD_IN_DNSWL_MED=-4]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id z82fU3LGJbO8 for <sip@core3.amsl.com>;
	Tue,  6 May 2008 23:44:26 -0700 (PDT)
Received: from goliath.siemens.de (goliath.siemens.de [192.35.17.28])
	by core3.amsl.com (Postfix) with ESMTP id 62CDB3A70B8
	for <sip@ietf.org>; Tue,  6 May 2008 23:44:20 -0700 (PDT)
Received: from mail3.siemens.de (localhost [127.0.0.1])
	by goliath.siemens.de (8.12.6/8.12.6) with ESMTP id m476hvT0006219;
	Wed, 7 May 2008 08:43:59 +0200
Received: from mchp7wta.ww002.siemens.net (mchp7wta.ww002.siemens.net
	[139.25.131.193])
	by mail3.siemens.de (8.12.11.20060308/8.12.11) with ESMTP id
	m476hux5014356; Wed, 7 May 2008 08:43:56 +0200
Received: from MCHP7IEA.ww902.siemens.net ([139.25.131.145]) by
	mchp7wta.ww002.siemens.net with Microsoft SMTPSVC(6.0.3790.3959); 
	Wed, 7 May 2008 08:43:55 +0200
Content-class: urn:content-classes:message
MIME-Version: 1.0
X-MimeOLE: Produced By Microsoft Exchange V6.5
Date: Wed, 7 May 2008 08:43:54 +0200
Message-ID: <B13E851D00E14E4F8B1C2750D952FD5B9BF3@MCHP7IEA.ww902.siemens.net>
In-Reply-To: <03f901c8afde$ee9398f0$c3f0200a@cisco.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] draft-ietf-sip-media-security-requirements-05
Thread-Index: AcivC9rG+PRtrEI7Q7mQuWJhupJ8KwA0NRfwAAwXihA=
References: <066701c8af02$2445f8e0$c3f0200a@cisco.com>
	<20080506000110.499525081A@romeo.rtfm.com>
	<03f901c8afde$ee9398f0$c3f0200a@cisco.com>
From: "Fries, Steffen (CT)" <steffen.fries@siemens.com>
To: "Dan Wing" <dwing@cisco.com>, "Eric Rescorla" <ekr@networkresonance.com>
X-OriginalArrivalTime: 07 May 2008 06:43:55.0884 (UTC)
	FILETIME=[B8A36AC0:01C8B00D]
Cc: IETF SIP List <sip@ietf.org>, Dean Willis <dean.willis@softarmor.com>
Subject: Re: [Sip] draft-ietf-sip-media-security-requirements-05
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Hi,

thanks for the rewording Dan.  The new text is fine with me.

Ciao
	Steffen

> -----Original Message-----
> From: Dan Wing [mailto:dwing@cisco.com] 
> Sent: Wednesday, May 07, 2008 3:09 AM
> To: 'Eric Rescorla'
> Cc: 'IETF SIP List'; 'Richard Barnes'; 'Dean Willis'; Fries, 
> Steffen (CT)
> Subject: RE: [Sip] draft-ietf-sip-media-security-requirements-05
> Importance: High
> 
> > -----Original Message-----
> > From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On 
> Behalf Of 
> > Eric Rescorla
> > Sent: Monday, May 05, 2008 5:01 PM
> > To: Dan Wing
> > Cc: 'IETF SIP List'
> > Subject: Re: [Sip] draft-ietf-sip-media-security-requirements-05
> > 
> > At Mon, 5 May 2008 15:48:30 -0700,
> > Dan Wing wrote:
> > At Mon, 5 May 2008 15:48:30 -0700,
> > Dan Wing wrote:
> > >   * R-CERTS now reads:
> > > 
> > >       The media security key management protocol MUST NOT 
> constrain	
> > >       the set of trust anchors that a peer can use to validate	
> > >       certificates used in the protocol.
> > 
> > I don't mean to be difficult, but I don't think that this actually 
> > captures the relevant issue particularly well.
> > 
> > One of the primary reasons why the RTPSEC work got started 
> was that it 
> > became clear that one could not safely assume that end-users would 
> > have certificates which were verifiable by others. If we 
> could assume 
> > that, then life would be a lot simpler. For instance, we could have 
> > ubiquitous S/MIME and use S/MIME signatures instead of RFC 
> 4474.  For 
> > that matter, we could use DTLS-SRTP without any screwing 
> around with 
> > fingerprints, just based on the certificates.
> > 
> > So, I don't think the requirement is that the protocol not 
> constrain 
> > the set of trust anchors. [Honestly, I'm not really sure what that 
> > means. Does HTTPS meet this requirement?]
> 
> The HTTPS protocol, that exists on the wire, does not enforce (or
> know) how the certificate is validated, of course.  But if an 
> HTTPS client implementation required that the TLS certificate 
> had a trust anchor (that is, was signed by a CA), then that 
> HTTPS client implementation would not meet the requirement.  
> Of course, almost every deployed HTTPS client allows the user 
> to create a whitelist of trusted certificates (Firefox, 
> Safari, IE, Opera).  So, almost every deployed HTTPS client's 
> implementation would meet the requirement.
> 
> > Without trying to wordsmith
> > it, I would say that the requirement is that the protocol be secure 
> > even if the users do not have credentials attested to by 
> *any* trust 
> > anchor.[0] That is what the relevant distinction is between 
> > self-signed and third-party certificates.
> >
> > -Ekr
> > 
> > [0] Incidentally, one of Dan's messages stated that he 
> believed that 
> > IBE would be consistent with R-12. I suppose that might be 
> technically 
> > true, but I think it pretty clearly does not meet the spirit of the 
> > requirement. In order to use an IBE system, the user has to get a 
> > private key from the PKG. This is just as inconvenient as 
> what we are 
> > trying to avoid with this requirement, namely forcing the 
> user to deal 
> > with the CA/PKG.
> 
> The wordsmithing task falls to me, I suppose.  
> 
> Here is another straw man, which I think captures your 
> sentence above your signature and your [0] comment:
> 
>       R-CERTS:
> 
>       The media security key management protocol MUST NOT require
>       using a trust anchor to validate credentials (e.g., a 
>       certificate) or to obtain credentials (e.g., a private key) 
>       used in the protocol.
> 
> (The "or to obtain credentials" clause is intended to cover 
> the IBE case.)
> 
> -d
> 
> 
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Tue May  6 23:58:18 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 9152F28C532;
	Tue,  6 May 2008 23:58:18 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id AB0703A70C6
	for <sip@core3.amsl.com>; Tue,  6 May 2008 23:58:17 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.599
X-Spam-Level: 
X-Spam-Status: No, score=-2.599 tagged_above=-999 required=5
	tests=[BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id sUdoFn2nuawj for <sip@core3.amsl.com>;
	Tue,  6 May 2008 23:58:16 -0700 (PDT)
Received: from nylon.softarmor.com (nylon.softarmor.com [66.135.38.164])
	by core3.amsl.com (Postfix) with ESMTP id 1F99E3A68C8
	for <sip@ietf.org>; Tue,  6 May 2008 23:58:16 -0700 (PDT)
Received: from [192.168.2.103] (cpe-76-185-142-113.tx.res.rr.com
	[76.185.142.113]) (authenticated bits=0)
	by nylon.softarmor.com (8.13.8/8.13.8/Debian-3) with ESMTP id
	m476wAbs029153
	(version=TLSv1/SSLv3 cipher=AES128-SHA bits=128 verify=NOT);
	Wed, 7 May 2008 01:58:12 -0500
Message-Id: <524EE6A1-2FC5-4741-B542-84344B146FC1@softarmor.com>
From: Dean Willis <dean.willis@softarmor.com>
To: IETF SIP List <sip@ietf.org>
In-Reply-To: <066701c8af02$2445f8e0$c3f0200a@cisco.com>
Mime-Version: 1.0 (Apple Message framework v919.2)
Date: Wed, 7 May 2008 01:58:05 -0500
References: <066701c8af02$2445f8e0$c3f0200a@cisco.com>
X-Mailer: Apple Mail (2.919.2)
Cc: Dan Wing <dwing@cisco.com>
Subject: Re: [Sip] draft-ietf-sip-media-security-requirements-05
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


Y'all make sure you're happy with this, as this draft supposedly  
addresses everything received in WGLC . . .

so it's about ready to be a "done deal" and sent to the IESG.

--
Dean

On May 5, 2008, at 5:48 PM, Dan Wing wrote:

> I just checked in draft-ietf-sip-media-security-requirements-05 with  
> the
> following changes:
>
>  * moved 'shared keyed conferencing' section to Appendix B.
>
>  * added motivation text for R-OTHER-SIGNALING (new Section 4.8)
>    and R-CERTS (new Section 4.9)
>
>  * R-CERTS now reads:
>
>      The media security key management protocol MUST NOT constrain	
>      the set of trust anchors that a peer can use to validate	
>      certificates used in the protocol.
>
>  * other minor changes
>
> side-by-side differences are available at http://tinyurl.com/6hy85b
>
> http://www.ietf.org/internet-drafts/draft-ietf-sip-media-security-requirements
> -05.txt
>
> -d
>
> _______________________________________________
> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
>

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Wed May  7 01:05:47 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 50E1C3A68C1;
	Wed,  7 May 2008 01:05:47 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 8FD2C3A6B4B
	for <sip@core3.amsl.com>; Wed,  7 May 2008 01:05:38 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -1.649
X-Spam-Level: 
X-Spam-Status: No, score=-1.649 tagged_above=-999 required=5
	tests=[BAYES_00=-2.599, HELO_EQ_FR=0.35, J_CHICKENPOX_65=0.6]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id cVtiCihgdIKZ for <sip@core3.amsl.com>;
	Wed,  7 May 2008 01:05:36 -0700 (PDT)
Received: from smail6.alcatel.fr (gc-na5.alcatel.fr [64.208.49.5])
	by core3.amsl.com (Postfix) with ESMTP id 35DCB3A70C3
	for <sip@ietf.org>; Wed,  7 May 2008 01:05:07 -0700 (PDT)
Received: from FRVELSBHS02.ad2.ad.alcatel.com (frvelsbhs02.ad2.ad.alcatel.com
	[155.132.6.74])
	by smail6.alcatel.fr (8.13.8/8.13.8/ICT) with ESMTP id m4784tcZ001426; 
	Wed, 7 May 2008 10:04:56 +0200
Received: from FRVELSMBS22.ad2.ad.alcatel.com ([155.132.6.52]) by
	FRVELSBHS02.ad2.ad.alcatel.com with Microsoft
	SMTPSVC(6.0.3790.2499); Wed, 7 May 2008 10:04:55 +0200
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Wed, 7 May 2008 10:04:53 +0200
Message-ID: <8144761F31F48D43AD53D09F5350E38002E042AE@FRVELSMBS22.ad2.ad.alcatel.com>
In-Reply-To: <5D1A7985295922448D5550C94DE2918001ED760C@DEEXC1U01.de.lucent.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] WGLC of essential correction drafts
Thread-Index: AciwB8Y8sfvZsRJITa2sw8ggD+i55AAEGobw
References: <5D1A7985295922448D5550C94DE2918001ED760C@DEEXC1U01.de.lucent.com>
From: "BONNAERENS Ben" <ben.bonnaerens@alcatel-lucent.be>
To: "DRAGE Keith" <drage@alcatel-lucent.com>, "SIP IETF" <sip@ietf.org>,
	"Robert Sparks" <rjsparks@nostrum.com>
X-OriginalArrivalTime: 07 May 2008 08:04:55.0486 (UTC)
	FILETIME=[092FD5E0:01C8B019]
X-Scanned-By: MIMEDefang 2.57 on 155.132.188.84
Cc: brian.e.carpenter@gmail.com, Brett Tate <brett@broadsoft.com>
Subject: Re: [Sip] WGLC of essential correction drafts
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Hello Robert,Keith,

Formalising my earlier comments on draft-sparks-sip-invfix-01.txt

To me section 7 is more easy to get an understanding of what the change
is. 
It gives a good overview of the changes in a language that is easy to
understand 
for sip implementors. section 8 is more difficult to read, nevertheless
I think 
it is needed to somewhere formally describe what the normative updates
to 3261 are.

My full review comments:

* Section 6 : "When receiving any response SIP response" -> "When
receiving any SIP response"

* 7.1 : "If the UAC's TU issues a 2xx response" -> "If the UAS's TU
issues a 2xx response"

* 7.1 : "it MUST transisition to" -> "it MUST transition to"

* 7.1 : "and set Timer L to 64*T1." . maybe explain that Timer L is a
new timer needed to handle this issue and which is not present in 3261.

* 7.2 : "state machine is in the "Calling" or "Completed" states, it
MUST transition to the "Completed" state"
        -> "state machine is in the "Calling" or "Proceeding" states, it
MUST transition to the "Completed" state"

* 7.3 : "proxy will not foward any stray" -> "proxy will not forward any
stray"

* 7.3 : "When receiving any response SIP response," -> "When receiving
any SIP response,"

* 8.3 : suggestion : mark both sentences (old/new) between double
quotes.Now, the "with" is a bit lost between both sentences.

Best regards,

	Ben.

-----Original Message-----
From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On Behalf Of
DRAGE Keith
Sent: woensdag 7 mei 2008 8:01
To: SIP IETF
Cc: brian.e.carpenter@gmail.com; Brett Tate
Subject: [Sip] WGLC of essential correction drafts

(As WG cochair)

This is to announce a two week working group last call of the following
two documents:

draft-ietf-sip-ipv6-abnf-fix-02.txt
http://www.ietf.org/internet-drafts/draft-ietf-sip-ipv6-abnf-fix-02.txt

draft-sparks-sip-invfix-01.txt
http://www.ietf.org/internet-drafts/draft-sparks-sip-invfix-01.txt

The working group runs until Wedneday 21st May 2008.

Comments should be posted to the list and to the document editors. It is
also appropriate to indicate that, having reviewed the current document,
you think the proposal is correct.

It should be remembered that the process to be followed on these
correction drafts is that we WGLC them as separate documents, but then
collect them into a larger RFC that updates RFC 3261 and will publish
that document.

Regards

Keith

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol Use
sip-implementors@cs.columbia.edu for questions on current sip Use
sipping@ietf.org for new developments on the application of sip
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Wed May  7 01:11:44 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 6E86F3A682A;
	Wed,  7 May 2008 01:11:43 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 8F9EA3A6E42
	for <sip@core3.amsl.com>; Wed,  7 May 2008 01:11:38 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -6.249
X-Spam-Level: 
X-Spam-Status: No, score=-6.249 tagged_above=-999 required=5
	tests=[BAYES_00=-2.599, HELO_EQ_SE=0.35, RCVD_IN_DNSWL_MED=-4]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id gbhAPeXely3h for <sip@core3.amsl.com>;
	Wed,  7 May 2008 01:11:31 -0700 (PDT)
Received: from smtp.su.se (smtp3.su.se [130.237.93.228])
	by core3.amsl.com (Postfix) with ESMTP id 07D533A6ABE
	for <sip@ietf.org>; Wed,  7 May 2008 01:11:31 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by smtp.su.se (Postfix) with ESMTP id 1FB343DDE2;
	Wed,  7 May 2008 10:11:27 +0200 (CEST)
Received: from smtp.su.se ([127.0.0.1])
	by localhost (smtp3.su.se [127.0.0.1]) (amavisd-new,
	port 10024) with LMTP
	id 29202-01-89; Wed,  7 May 2008 10:11:26 +0200 (CEST)
Received: from [193.11.30.41] (dhcp-wavelan-vo-41.publik.su.se [193.11.30.41])
	(using TLSv1 with cipher DHE-RSA-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by smtp.su.se (Postfix) with ESMTP id 3D34B3D0D7;
	Wed,  7 May 2008 10:11:26 +0200 (CEST)
Message-ID: <4821636E.20303@it.su.se>
Date: Wed, 07 May 2008 10:08:14 +0200
From: Fredrik Thulin <ft@it.su.se>
User-Agent: Thunderbird 2.0.0.14 (Windows/20080421)
MIME-Version: 1.0
To: Hadriel Kaplan <HKaplan@acmepacket.com>
References: <CA9998CD4A020D418654FCDEF4E707DF046C7761@esealmw113.eemea.ericsson.se>	<18464.32846.367237.654872@taimen.test.fi>	<1ECE0EB50388174790F9694F77522CCF169722C3@zrc2hxm0.corp.nortel.com>	<18464.40898.695492.290843@taimen.test.fi>	<1ECE0EB50388174790F9694F77522CCF169723EE@zrc2hxm0.corp.nortel.com>	<18464.43200.840240.726767@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD7FD367F@mail.acmepacket.com>
In-Reply-To: <E6C2E8958BA59A4FB960963D475F7AC30BD7FD367F@mail.acmepacket.com>
X-Virus-Scanned: by amavisd-new at smtp.su.se
Cc: "sip@ietf.org" <sip@ietf.org>, Francois Audet <audet@nortel.com>,
	Christer Holmberg <christer.holmberg@ericsson.com>
Subject: Re: [Sip] Draft: draft-holmberg-sip-keep-00.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Hadriel Kaplan wrote:
> Actually, it will cause problems for the device sending STUN, because that next-hop proxy will (rightly) consider it a malformed attack and blacklist the sender.

It's not reasonable for a proxy to blacklist source IPs sending it stuff 
it doesn't like.

If you receive a UDP packet, it's a really rare case that you can know 
that the source IP wasn't spoofed.

If you blacklist based on source IP addresses, it will be very easy to 
denial of service your proxy by getting it to blacklist real clients or 
other SIP proxies for example. That will be a much bigger problem for 
you than actually writing code that don't die when it receives unknown 
data (which you should do anyway, of course).

/Fredrik
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Wed May  7 02:51:24 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 6C6D73A70D2;
	Wed,  7 May 2008 02:51:24 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id EC2103A70DD
	for <sip@core3.amsl.com>; Wed,  7 May 2008 02:51:18 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -5.949
X-Spam-Level: 
X-Spam-Status: No, score=-5.949 tagged_above=-999 required=5
	tests=[AWL=-0.300, BAYES_00=-2.599, HELO_EQ_SE=0.35,
	J_CHICKENPOX_43=0.6, RCVD_IN_DNSWL_MED=-4]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id cXvFnG15kmDW for <sip@core3.amsl.com>;
	Wed,  7 May 2008 02:51:18 -0700 (PDT)
Received: from mailgw4.ericsson.se (mailgw4.ericsson.se [193.180.251.62])
	by core3.amsl.com (Postfix) with ESMTP id B1C013A68CB
	for <sip@ietf.org>; Wed,  7 May 2008 02:51:17 -0700 (PDT)
Received: from mailgw4.ericsson.se (unknown [127.0.0.1])
	by mailgw4.ericsson.se (Symantec Mail Security) with ESMTP id
	6AA9F21253; Wed,  7 May 2008 11:49:16 +0200 (CEST)
X-AuditID: c1b4fb3e-ab993bb000004ec0-0e-48217b1c1830
Received: from esealmw128.eemea.ericsson.se (unknown [153.88.254.121])
	by mailgw4.ericsson.se (Symantec Mail Security) with ESMTP id
	405B4207A4; Wed,  7 May 2008 11:49:16 +0200 (CEST)
Received: from esealmw113.eemea.ericsson.se ([153.88.200.4]) by
	esealmw128.eemea.ericsson.se with Microsoft SMTPSVC(6.0.3790.1830); 
	Wed, 7 May 2008 11:49:15 +0200
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Wed, 7 May 2008 11:46:39 +0200
Message-ID: <CA9998CD4A020D418654FCDEF4E707DF046C776E@esealmw113.eemea.ericsson.se>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] Draft: draft-holmberg-sip-keep-00.txt
thread-index: AciwB9oySjfB81MsTmiZMz1RaezAPwAH2U3g
References: <18465.17834.732392.527310@taimen.test.fi>
From: "Christer Holmberg" <christer.holmberg@ericsson.com>
To: "Juha Heinanen" <jh@tutpro.com>,
	<sip@ietf.org>
X-OriginalArrivalTime: 07 May 2008 09:49:15.0988 (UTC)
	FILETIME=[9CBCA140:01C8B027]
X-Brightmail-Tracker: AAAAAA==
Subject: Re: [Sip] Draft: draft-holmberg-sip-keep-00.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Hi Juha,
 =

It is true that you could send and "see what happens", without any knowledg=
e and indication about what the receiver supports. You could also discard t=
he SIP headers indicating which methods, message bodies etc are supported, =
and just send whatever and then see whether the receiver supports it... :) =

 =

I think it is much nicer to have a mechanism to indicate support of, and us=
age, of the techniques to use - instead of simply trying and see what works=
. It also gives the possibility for the edge proxy to provide a keep-alive =
frequency value (and trigger whatever actions if keep-alives are not receiv=
ed), and the UA will know that it will receive "responses" (CRLF "pong" and=
/or STUN response) to the keep-alives (and trigger whatever actions if not =
received).
 =

Also, for registration cases, if the edge proxy has no knowledge about whet=
her the UA supports any keep-alive techniques, it may cause "keep-alives" b=
y returning a very short registration refresh timer in the registration res=
ponse. That is not a very good and light solution, but commonly used.
 =

In another mail you said:
 =

"that does make sense, but then the ua needs to let the proxy know, exactly=
 which keepalive method(s) it supports and the proxy should be able to resp=
ond, which one it wants to receive if there is more than one that the us is=
 advertising."
 =

As Hadriel said, the "keep" parameter DOES indicate that the UA supports th=
e keep-alive techniques defined in the Outbound spec. It does NOT indicate =
"I support some kind of keep-alive". =


Last, you say that if the UA does not get keep=3Dyes back the UA will not s=
end CRLFs. Not receiving keep=3Dyes simply indicates that the edge proxy do=
es not support the Outbound keep-alive techniques. What the UA does in that=
 case is a UA implementation issue.
 =

Regards,
Christer

________________________________

L=E4hett=E4j=E4: sip-bounces@ietf.org puolesta: Juha Heinanen
L=E4hetetty: ke 7.5.2008 8:01
Vastaanottaja: sip@ietf.org
Aihe: Re: [Sip] Draft: draft-holmberg-sip-keep-00.txt



  Right, but the whole thing here is the UA doesn't know if the proxy
  supports STUN/CRLF, or is legacy.  If the UA does draft-outbound and
  so does the proxy, it can find out; if it does draft-sip-keep, it can
  find out.  If the UA finds out the proxy can't do it, then it will not
  do it.

hadriel,

that would break currently working nat traversal with proxies that do
not support CRLF keepalive, i.e., that are not able to response to
double-CRLF with a single one. =


a tcp connected sip UA is namely still able to keep its nat binding open
by sending double CRLFs, because it does get back tcp level
acknowledgements even when it does not get back SIP keepalive
acknowledgement (single CRLF).

if it uses the keep param and does not get back keep=3Dyes, it would not
send CRLFs and its nat binding would die away.  this is not a good idea
at all.

- juha
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Wed May  7 03:07:17 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 63CFD3A6BBB;
	Wed,  7 May 2008 03:07:17 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id B90853A70D8
	for <sip@core3.amsl.com>; Wed,  7 May 2008 03:07:10 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.239
X-Spam-Level: 
X-Spam-Status: No, score=-2.239 tagged_above=-999 required=5
	tests=[AWL=-0.240, BAYES_00=-2.599, J_CHICKENPOX_43=0.6]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id vW7bYtjMx+lQ for <sip@core3.amsl.com>;
	Wed,  7 May 2008 03:07:07 -0700 (PDT)
Received: from tutpro.com (sip.tutpro.com [192.98.100.10])
	by core3.amsl.com (Postfix) with ESMTP id 7E7A528C5D2
	for <sip@ietf.org>; Wed,  7 May 2008 03:06:40 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by tutpro.com (Postfix) with ESMTP id 301F41EC29D;
	Wed,  7 May 2008 13:06:36 +0300 (EEST)
Received: from tutpro.com ([127.0.0.1])
	by localhost (tutpro.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id rtHD9RVbVBha; Wed,  7 May 2008 13:06:29 +0300 (EEST)
Received: from taimen (h13838.gprs.dnafinland.fi [87.93.138.38])
	by tutpro.com (Postfix) with ESMTP;
	Wed,  7 May 2008 13:06:29 +0300 (EEST)
Received: by taimen (Postfix, from userid 1000)
	id 5AF96AC071; Wed,  7 May 2008 13:06:25 +0300 (EEST)
MIME-Version: 1.0
Message-ID: <18465.32545.345585.820414@taimen.test.fi>
Date: Wed, 7 May 2008 13:06:25 +0300
To: "Christer Holmberg" <christer.holmberg@ericsson.com>
In-Reply-To: <CA9998CD4A020D418654FCDEF4E707DF046C776E@esealmw113.eemea.ericsson.se>
References: <18465.17834.732392.527310@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C776E@esealmw113.eemea.ericsson.se>
X-Mailer: VM 7.19 under Emacs 21.4.1
From: jh@tutpro.com (Juha Heinanen)
Cc: sip@ietf.org
Subject: Re: [Sip] Draft: draft-holmberg-sip-keep-00.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Christer Holmberg writes:

 > Last, you say that if the UA does not get keep=yes back the UA will
 > not send CRLFs. Not receiving keep=yes simply indicates that the edge
 > proxy does not support the Outbound keep-alive techniques. 

this is not true, because the proxy may still be able to send back,
e.g., single CRLF, but does not understand your "keep" parameter.  in
fact, that is the case with openser proxy once the CRLF patch has been
committed.

 > What the UA does in that case is a UA implementation issue.

that is not what hadriel said.  in my opinion your draft should
RECOMMENED sending keepalives even if it does not get back keep=yes,
since there is nothing to loose if it does but lots to loose (= nat
binding) if it doesn't.

-- juha


_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Wed May  7 03:36:53 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 78AC33A6896;
	Wed,  7 May 2008 03:36:53 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id F04CA3A6896
	for <sip@core3.amsl.com>; Wed,  7 May 2008 03:36:50 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -5.799
X-Spam-Level: 
X-Spam-Status: No, score=-5.799 tagged_above=-999 required=5
	tests=[AWL=-0.150, BAYES_00=-2.599, HELO_EQ_SE=0.35,
	J_CHICKENPOX_43=0.6, RCVD_IN_DNSWL_MED=-4]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id zdbXZUu-0vnI for <sip@core3.amsl.com>;
	Wed,  7 May 2008 03:36:50 -0700 (PDT)
Received: from mailgw4.ericsson.se (mailgw4.ericsson.se [193.180.251.62])
	by core3.amsl.com (Postfix) with ESMTP id E265428C5DF
	for <sip@ietf.org>; Wed,  7 May 2008 03:36:37 -0700 (PDT)
Received: from mailgw4.ericsson.se (unknown [127.0.0.1])
	by mailgw4.ericsson.se (Symantec Mail Security) with ESMTP id
	1592920089; Wed,  7 May 2008 12:36:34 +0200 (CEST)
X-AuditID: c1b4fb3e-ad196bb000004ec0-2a-482186314dcf
Received: from esealmw128.eemea.ericsson.se (unknown [153.88.254.121])
	by mailgw4.ericsson.se (Symantec Mail Security) with ESMTP id
	EB6EB20065; Wed,  7 May 2008 12:36:33 +0200 (CEST)
Received: from esealmw113.eemea.ericsson.se ([153.88.200.4]) by
	esealmw128.eemea.ericsson.se with Microsoft SMTPSVC(6.0.3790.1830); 
	Wed, 7 May 2008 12:36:33 +0200
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Wed, 7 May 2008 12:36:32 +0200
Message-ID: <CA9998CD4A020D418654FCDEF4E707DF046C776F@esealmw113.eemea.ericsson.se>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] Draft: draft-holmberg-sip-keep-00.txt
thread-index: AciwKgx26sA0TbFaROeOrzaILqEBhgAAz36M
References: <18465.17834.732392.527310@taimen.test.fi><CA9998CD4A020D418654FCDEF4E707DF046C776E@esealmw113.eemea.ericsson.se>
	<18465.32545.345585.820414@taimen.test.fi>
From: "Christer Holmberg" <christer.holmberg@ericsson.com>
To: "Juha Heinanen" <jh@tutpro.com>
X-OriginalArrivalTime: 07 May 2008 10:36:33.0702 (UTC)
	FILETIME=[38256C60:01C8B02E]
X-Brightmail-Tracker: AAAAAA==
Cc: sip@ietf.org
Subject: Re: [Sip] Draft: draft-holmberg-sip-keep-00.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Hi,

> >What the UA does in that case is a UA implementation issue.
>
>that is not what hadriel said.  in my opinion your draft should
>RECOMMENED sending keepalives even if it does not get back keep=yes,
>since there is nothing to loose if it does but lots to loose (= nat
>binding) if it doesn't.
 
I think we can add some words about the case if keep=yes is not returned. But, if we for example talk about the UA still sending STUN requests I also think we need to say something about the potential issues also.
 
Also, if the UA for example receives a very short registration refresh timer (since the edge proxy did note support "keep"), there probably is no reason to send keep-alives in addition to the registration refreshes.

Regards,
 
Christer



_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Wed May  7 03:50:03 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 513053A69EA;
	Wed,  7 May 2008 03:50:03 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 087523A69EA
	for <sip@core3.amsl.com>; Wed,  7 May 2008 03:50:02 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.199
X-Spam-Level: 
X-Spam-Status: No, score=-2.199 tagged_above=-999 required=5
	tests=[AWL=-0.200, BAYES_00=-2.599, J_CHICKENPOX_43=0.6]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id wOr4q5VhwDfK for <sip@core3.amsl.com>;
	Wed,  7 May 2008 03:50:01 -0700 (PDT)
Received: from tutpro.com (sip.tutpro.com [192.98.100.10])
	by core3.amsl.com (Postfix) with ESMTP id 25A603A67D4
	for <sip@ietf.org>; Wed,  7 May 2008 03:50:01 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by tutpro.com (Postfix) with ESMTP id 3EE8A1EC29D;
	Wed,  7 May 2008 13:49:58 +0300 (EEST)
Received: from tutpro.com ([127.0.0.1])
	by localhost (tutpro.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id VnZVbqG2v5v4; Wed,  7 May 2008 13:49:49 +0300 (EEST)
Received: from taimen (h13838.gprs.dnafinland.fi [87.93.138.38])
	by tutpro.com (Postfix) with ESMTP;
	Wed,  7 May 2008 13:49:49 +0300 (EEST)
Received: by taimen (Postfix, from userid 1000)
	id 82D2AAC071; Wed,  7 May 2008 13:49:44 +0300 (EEST)
MIME-Version: 1.0
Message-ID: <18465.35144.510031.500520@taimen.test.fi>
Date: Wed, 7 May 2008 13:49:44 +0300
To: "Christer Holmberg" <christer.holmberg@ericsson.com>
In-Reply-To: <CA9998CD4A020D418654FCDEF4E707DF046C776F@esealmw113.eemea.ericsson.se>
References: <18465.17834.732392.527310@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C776E@esealmw113.eemea.ericsson.se>
	<18465.32545.345585.820414@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C776F@esealmw113.eemea.ericsson.se>
X-Mailer: VM 7.19 under Emacs 21.4.1
From: jh@tutpro.com (Juha Heinanen)
Cc: sip@ietf.org
Subject: Re: [Sip] Draft: draft-holmberg-sip-keep-00.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Christer Holmberg writes:

 > I think we can add some words about the case if keep=yes is not
 > returned. But, if we for example talk about the UA still sending STUN
 > requests I also think we need to say something about the potential
 > issues also.

not just "some words", but a clear recommendation (at least for the CRLF
case).  i don't know what the issues with stun might be (possible proxy
crash or blacklisting do not qualify).

 > Also, if the UA for example receives a very short registration
 > refresh timer (since the edge proxy did note support "keep"), there
 > probably is no reason to send keep-alives in addition to the
 > registration refreshes.

you can write that if registration interval would be as short as
default keepalive interval then it is not recommended to send
keepalives.

-- juha
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Wed May  7 05:37:50 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 46CC63A68C0;
	Wed,  7 May 2008 05:37:50 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 93DE43A68C0
	for <sip@core3.amsl.com>; Wed,  7 May 2008 05:37:48 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -5.749
X-Spam-Level: 
X-Spam-Status: No, score=-5.749 tagged_above=-999 required=5
	tests=[AWL=-0.100, BAYES_00=-2.599, HELO_EQ_SE=0.35,
	J_CHICKENPOX_43=0.6, RCVD_IN_DNSWL_MED=-4]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id U8OujXxcAvBO for <sip@core3.amsl.com>;
	Wed,  7 May 2008 05:37:47 -0700 (PDT)
Received: from mailgw3.ericsson.se (mailgw3.ericsson.se [193.180.251.60])
	by core3.amsl.com (Postfix) with ESMTP id 2EE5F3A6896
	for <sip@ietf.org>; Wed,  7 May 2008 05:37:40 -0700 (PDT)
Received: from mailgw3.ericsson.se (unknown [127.0.0.1])
	by mailgw3.ericsson.se (Symantec Mail Security) with ESMTP id
	84DAF208F6; Wed,  7 May 2008 14:37:36 +0200 (CEST)
X-AuditID: c1b4fb3c-af09dbb00000193b-51-4821a290cdca
Received: from esealmw128.eemea.ericsson.se (unknown [153.88.254.121])
	by mailgw3.ericsson.se (Symantec Mail Security) with ESMTP id
	6E3B0208DC; Wed,  7 May 2008 14:37:36 +0200 (CEST)
Received: from esealmw113.eemea.ericsson.se ([153.88.200.4]) by
	esealmw128.eemea.ericsson.se with Microsoft SMTPSVC(6.0.3790.1830); 
	Wed, 7 May 2008 14:37:36 +0200
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Wed, 7 May 2008 14:37:33 +0200
Message-ID: <CA9998CD4A020D418654FCDEF4E707DF046C7770@esealmw113.eemea.ericsson.se>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] Draft: draft-holmberg-sip-keep-00.txt
thread-index: AciwMBnmdJtLW3eXSieThoAfTMKJawADMhbN
References: <18465.17834.732392.527310@taimen.test.fi><CA9998CD4A020D418654FCDEF4E707DF046C776E@esealmw113.eemea.ericsson.se><18465.32545.345585.820414@taimen.test.fi><CA9998CD4A020D418654FCDEF4E707DF046C776F@esealmw113.eemea.ericsson.se>
	<18465.35144.510031.500520@taimen.test.fi>
From: "Christer Holmberg" <christer.holmberg@ericsson.com>
To: "Juha Heinanen" <jh@tutpro.com>
X-OriginalArrivalTime: 07 May 2008 12:37:36.0308 (UTC)
	FILETIME=[20FF2740:01C8B03F]
X-Brightmail-Tracker: AAAAAA==
Cc: sip@ietf.org
Subject: Re: [Sip] Draft: draft-holmberg-sip-keep-00.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Hi Juha,

>>I think we can add some words about the case if keep=yes is not
>>returned. But, if we for example talk about the UA still sending STUN
>>requests I also think we need to say something about the potential
>>issues also.
>
>not just "some words", but a clear recommendation (at least for the CRLF
>case).
 
Yes.
 
>i don't know what the issues with stun might be (possible proxy crash or blacklisting do not qualify).

I agree that proxy crash doesn't qualify (as you said earlier, such proxies should not be deployed in the first place), but I DO think the blacklisting is a valid real-life issue.

There is also another thing: I guess one reason the edge proxy doesn't return keep=yes could be because it detects (using whatever mechanism) that the UA is NOT behind a NAT. In that case the UA may end up sending unecessary keep-alives, in case the UA itself doesn't know whether it's behind a NAT or not.

 >>Also, if the UA for example receives a very short registration
 >>refresh timer (since the edge proxy did note support "keep"), there
 >>probably is no reason to send keep-alives in addition to the
 >>registration refreshes.
>
>you can write that if registration interval would be as short as
>default keepalive interval then it is not recommended to send
>keepalives.
 
Yes.
 
Regards,
 
Christer
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Wed May  7 08:37:23 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 5D9E23A70F7;
	Wed,  7 May 2008 08:37:23 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 72D093A6D5E
	for <sip@core3.amsl.com>; Wed,  7 May 2008 08:37:20 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.299
X-Spam-Level: 
X-Spam-Status: No, score=-2.299 tagged_above=-999 required=5
	tests=[AWL=-0.300, BAYES_00=-2.599, J_CHICKENPOX_24=0.6]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id hmXOPnLoRVjL for <sip@core3.amsl.com>;
	Wed,  7 May 2008 08:37:19 -0700 (PDT)
Received: from etmail.acmepacket.com (etmail.acmepacket.com [216.41.24.6])
	by core3.amsl.com (Postfix) with ESMTP id 9782128C614
	for <sip@ietf.org>; Wed,  7 May 2008 08:36:38 -0700 (PDT)
Received: from mail.acmepacket.com (216.41.24.7) by etmail.acmepacket.com
	(216.41.24.6) with Microsoft SMTP Server (TLS) id 8.1.263.0;
	Wed, 7 May 2008 11:36:00 -0400
Received: from mail.acmepacket.com ([216.41.24.7]) by mail.acmepacket.com
	([216.41.24.7]) with mapi; Wed, 7 May 2008 11:36:00 -0400
From: Hadriel Kaplan <HKaplan@acmepacket.com>
To: Fredrik Thulin <ft@it.su.se>
Date: Wed, 7 May 2008 11:35:58 -0400
Thread-Topic: [Sip] Draft: draft-holmberg-sip-keep-00.txt
Thread-Index: AciwGd7gbJG66SJOR1KbtSMzjODNPwANqcTA
Message-ID: <E6C2E8958BA59A4FB960963D475F7AC30BD8050E17@mail.acmepacket.com>
References: <CA9998CD4A020D418654FCDEF4E707DF046C7761@esealmw113.eemea.ericsson.se>
	<18464.32846.367237.654872@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF169722C3@zrc2hxm0.corp.nortel.com>
	<18464.40898.695492.290843@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF169723EE@zrc2hxm0.corp.nortel.com>
	<18464.43200.840240.726767@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD7FD367F@mail.acmepacket.com>
	<4821636E.20303@it.su.se>
In-Reply-To: <4821636E.20303@it.su.se>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
acceptlanguage: en-US
MIME-Version: 1.0
Cc: "sip@ietf.org" <sip@ietf.org>, Francois Audet <audet@nortel.com>,
	Christer Holmberg <christer.holmberg@ericsson.com>
Subject: Re: [Sip] Draft: draft-holmberg-sip-keep-00.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org



> -----Original Message-----
> From: Fredrik Thulin [mailto:ft@it.su.se]
>
> Hadriel Kaplan wrote:
> > Actually, it will cause problems for the device sending STUN, because
> that next-hop proxy will (rightly) consider it a malformed attack and
> blacklist the sender.
>
> It's not reasonable for a proxy to blacklist source IPs sending it stuff
> it doesn't like.

Au contraire.

> If you receive a UDP packet, it's a really rare case that you can know
> that the source IP wasn't spoofed.

I absolutely agree.  It is unknowable, sans some transport or IP level auth.

> If you blacklist based on source IP addresses, it will be very easy to
> denial of service your proxy by getting it to blacklist real clients or
> other SIP proxies for example.

If someone knows your IP+port and can successfully spoof it, they can DoS your service *anyway*.  That's the whole problem.  It's game over for your phone, period.  The goal of the proxy then is to stop that from impacting anyone _else_.


> That will be a much bigger problem for
> you than actually writing code that don't die when it receives unknown
> data (which you should do anyway, of course).

This has nothing to do with writing code that won't die.

-hadriel
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Wed May  7 09:21:26 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 7415228C673;
	Wed,  7 May 2008 09:21:21 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id E92AC3A6A03
	for <sip@core3.amsl.com>; Wed,  7 May 2008 09:20:14 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.199
X-Spam-Level: 
X-Spam-Status: No, score=-2.199 tagged_above=-999 required=5
	tests=[AWL=-0.200, BAYES_00=-2.599, J_CHICKENPOX_43=0.6]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id hFcX31vA9I9T for <sip@core3.amsl.com>;
	Wed,  7 May 2008 09:19:31 -0700 (PDT)
Received: from etmail.acmepacket.com (etmail.acmepacket.com [216.41.24.6])
	by core3.amsl.com (Postfix) with ESMTP id 5462C28C699
	for <sip@ietf.org>; Wed,  7 May 2008 09:18:46 -0700 (PDT)
Received: from mail.acmepacket.com (216.41.24.7) by etmail.acmepacket.com
	(216.41.24.6) with Microsoft SMTP Server (TLS) id 8.1.263.0;
	Wed, 7 May 2008 12:18:05 -0400
Received: from mail.acmepacket.com ([216.41.24.7]) by mail.acmepacket.com
	([216.41.24.7]) with mapi; Wed, 7 May 2008 12:18:06 -0400
From: Hadriel Kaplan <HKaplan@acmepacket.com>
To: Juha Heinanen <jh@tutpro.com>, "sip@ietf.org" <sip@ietf.org>
Date: Wed, 7 May 2008 12:17:54 -0400
Thread-Topic: [Sip] Draft: draft-holmberg-sip-keep-00.txt
Thread-Index: AciwB73dWLvtWJk1T9iUh8TieTWAcAAVVVQg
Message-ID: <E6C2E8958BA59A4FB960963D475F7AC30BD8050F46@mail.acmepacket.com>
References: <18465.17834.732392.527310@taimen.test.fi>
In-Reply-To: <18465.17834.732392.527310@taimen.test.fi>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
acceptlanguage: en-US
MIME-Version: 1.0
Subject: Re: [Sip] Draft: draft-holmberg-sip-keep-00.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org



> -----Original Message-----
> From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On Behalf Of Juha
> Heinanen
>
> that would break currently working nat traversal with proxies that do
> not support CRLF keepalive, i.e., that are not able to response to
> double-CRLF with a single one.

No, I assume currently working proxies for NAT traversal cases have a currently working mechanism, and would use that regardless of this draft, or they'd try this draft mechanism first and revert to previous if it wasn't negotiated.

> a tcp connected sip UA is namely still able to keep its nat binding open
> by sending double CRLFs, because it does get back tcp level
> acknowledgements even when it does not get back SIP keepalive
> acknowledgement (single CRLF).
> if it uses the keep param and does not get back keep=yes, it would not
> send CRLFs and its nat binding would die away.  this is not a good idea
> at all.

Nope, I didn't mean that - I meant if it doesn't get back the keep param then it won't be using this draft, and would do what it would do if it weren't using this draft.  That may mean the UA sends a single CRLF, or it may mean the proxy makes it send Registers, or sends it Options, or whatever.  And certainly manual provisioning overrides this all anyway, as it overrides anything in any protocol.

-hadriel

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Wed May  7 09:31:29 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 8BE5028C750;
	Wed,  7 May 2008 09:30:47 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id AD31328C72C
	for <sip@core3.amsl.com>; Wed,  7 May 2008 09:30:22 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.199
X-Spam-Level: 
X-Spam-Status: No, score=-2.199 tagged_above=-999 required=5
	tests=[AWL=-0.200, BAYES_00=-2.599, J_CHICKENPOX_43=0.6]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 1889c+hT5lS7 for <sip@core3.amsl.com>;
	Wed,  7 May 2008 09:29:48 -0700 (PDT)
Received: from etmail.acmepacket.com (etmail.acmepacket.com [216.41.24.6])
	by core3.amsl.com (Postfix) with ESMTP id 84BA328C75F
	for <sip@ietf.org>; Wed,  7 May 2008 09:23:44 -0700 (PDT)
Received: from mail.acmepacket.com (216.41.24.7) by etmail.acmepacket.com
	(216.41.24.6) with Microsoft SMTP Server (TLS) id 8.1.263.0;
	Wed, 7 May 2008 12:22:58 -0400
Received: from mail.acmepacket.com ([216.41.24.7]) by mail.acmepacket.com
	([216.41.24.7]) with mapi; Wed, 7 May 2008 12:22:58 -0400
From: Hadriel Kaplan <HKaplan@acmepacket.com>
To: Juha Heinanen <jh@tutpro.com>, Christer Holmberg
	<christer.holmberg@ericsson.com>
Date: Wed, 7 May 2008 12:22:49 -0400
Thread-Topic: [Sip] Draft: draft-holmberg-sip-keep-00.txt
Thread-Index: AciwKjLyoGN9LdDMRqGuNVNxZ5VmdwAM9Lpg
Message-ID: <E6C2E8958BA59A4FB960963D475F7AC30BD8050F5A@mail.acmepacket.com>
References: <18465.17834.732392.527310@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C776E@esealmw113.eemea.ericsson.se>
	<18465.32545.345585.820414@taimen.test.fi>
In-Reply-To: <18465.32545.345585.820414@taimen.test.fi>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
acceptlanguage: en-US
MIME-Version: 1.0
Cc: "sip@ietf.org" <sip@ietf.org>
Subject: Re: [Sip] Draft: draft-holmberg-sip-keep-00.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org



> -----Original Message-----
> From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On Behalf Of Juha
> Heinanen
>
> Christer Holmberg writes:
>
>  > Last, you say that if the UA does not get keep=yes back the UA will
>  > not send CRLFs. Not receiving keep=yes simply indicates that the edge
>  > proxy does not support the Outbound keep-alive techniques.
>
> this is not true, because the proxy may still be able to send back,
> e.g., single CRLF, but does not understand your "keep" parameter.  in
> fact, that is the case with openser proxy once the CRLF patch has been
> committed.

Openser will send back a CRLF when it gets a CRLF?  Interesting, but it's proprietary.  There is nothing in SIP to say "send back a CRLF when you get a CRLF".  This draft is proposing a standardized way to do that, for both transport types.


>  > What the UA does in that case is a UA implementation issue.
>
> that is not what hadriel said.

See my other email - it was what I meant - not getting the keep=yes means the other end doesn't support this draft.  Caveat emptor at that point.

-hadriel
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Wed May  7 09:32:53 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 5F7AC28C79A;
	Wed,  7 May 2008 09:31:24 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 0382D28C736
	for <sip@core3.amsl.com>; Wed,  7 May 2008 09:30:31 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.17
X-Spam-Level: 
X-Spam-Status: No, score=-2.17 tagged_above=-999 required=5 tests=[AWL=-0.171, 
	BAYES_00=-2.599, J_CHICKENPOX_43=0.6]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id gNm2fmmmsqVB for <sip@core3.amsl.com>;
	Wed,  7 May 2008 09:29:56 -0700 (PDT)
Received: from tutpro.com (sip.tutpro.com [192.98.100.10])
	by core3.amsl.com (Postfix) with ESMTP id 91CE928C6DD
	for <sip@ietf.org>; Wed,  7 May 2008 09:24:48 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by tutpro.com (Postfix) with ESMTP id 184C01EC29D;
	Wed,  7 May 2008 19:24:32 +0300 (EEST)
Received: from tutpro.com ([127.0.0.1])
	by localhost (tutpro.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id eNU9FGx6Is-s; Wed,  7 May 2008 19:24:25 +0300 (EEST)
Received: from taimen (h13838.gprs.dnafinland.fi [87.93.138.38])
	by tutpro.com (Postfix) with ESMTP;
	Wed,  7 May 2008 19:24:25 +0300 (EEST)
Received: by taimen (Postfix, from userid 1000)
	id 1822CAC071; Wed,  7 May 2008 19:24:22 +0300 (EEST)
MIME-Version: 1.0
Message-ID: <18465.55222.83291.492691@taimen.test.fi>
Date: Wed, 7 May 2008 19:24:22 +0300
To: Hadriel Kaplan <HKaplan@acmepacket.com>
In-Reply-To: <E6C2E8958BA59A4FB960963D475F7AC30BD8050F46@mail.acmepacket.com>
References: <18465.17834.732392.527310@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8050F46@mail.acmepacket.com>
X-Mailer: VM 7.19 under Emacs 21.4.1
From: jh@tutpro.com (Juha Heinanen)
Cc: "sip@ietf.org" <sip@ietf.org>
Subject: Re: [Sip] Draft: draft-holmberg-sip-keep-00.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Hadriel Kaplan writes:

 > Nope, I didn't mean that - I meant if it doesn't get back the keep
 > param then it won't be using this draft, and would do what it would
 > do if it weren't using this draft.

you said earlier that if ua does not get back keep=yes, then ua will not
send keepalives.

it is fine with me if the draft clearly says that if ua does not get
back keep=yes, then this draft does not specify what the ua should do.

-- juha
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Wed May  7 09:37:13 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 233D328C94F;
	Wed,  7 May 2008 09:37:13 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 6C5BA28C7F8
	for <sip@core3.amsl.com>; Wed,  7 May 2008 09:37:11 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.17
X-Spam-Level: 
X-Spam-Status: No, score=-2.17 tagged_above=-999 required=5 tests=[AWL=-0.171, 
	BAYES_00=-2.599, J_CHICKENPOX_43=0.6]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 2T-pYQRYPckf for <sip@core3.amsl.com>;
	Wed,  7 May 2008 09:37:10 -0700 (PDT)
Received: from tutpro.com (sip.tutpro.com [192.98.100.10])
	by core3.amsl.com (Postfix) with ESMTP id 430E33A6CB0
	for <sip@ietf.org>; Wed,  7 May 2008 09:31:55 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by tutpro.com (Postfix) with ESMTP id A0C071EC29D;
	Wed,  7 May 2008 19:31:48 +0300 (EEST)
Received: from tutpro.com ([127.0.0.1])
	by localhost (tutpro.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id AjHHDf-OH3Ng; Wed,  7 May 2008 19:31:41 +0300 (EEST)
Received: from taimen (h13838.gprs.dnafinland.fi [87.93.138.38])
	by tutpro.com (Postfix) with ESMTP;
	Wed,  7 May 2008 19:31:41 +0300 (EEST)
Received: by taimen (Postfix, from userid 1000)
	id 3209AAC071; Wed,  7 May 2008 19:31:39 +0300 (EEST)
MIME-Version: 1.0
Message-ID: <18465.55659.177188.471351@taimen.test.fi>
Date: Wed, 7 May 2008 19:31:39 +0300
To: Hadriel Kaplan <HKaplan@acmepacket.com>
In-Reply-To: <E6C2E8958BA59A4FB960963D475F7AC30BD8050F5A@mail.acmepacket.com>
References: <18465.17834.732392.527310@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C776E@esealmw113.eemea.ericsson.se>
	<18465.32545.345585.820414@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8050F5A@mail.acmepacket.com>
X-Mailer: VM 7.19 under Emacs 21.4.1
From: jh@tutpro.com (Juha Heinanen)
Cc: "sip@ietf.org" <sip@ietf.org>,
	Christer Holmberg <christer.holmberg@ericsson.com>
Subject: Re: [Sip] Draft: draft-holmberg-sip-keep-00.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Hadriel Kaplan writes:

 > Openser will send back a CRLF when it gets a CRLF?  Interesting, but
 > it's proprietary.  There is nothing in SIP to say "send back a CRLF
 > when you get a CRLF".  This draft is proposing a standardized way to
 > do that, for both transport types.

openser will send back back single CRLF later this week, it it receives
double CRLF over tcp connection.  i have not claimed that this practise
has been standardized somewhere.  the behavior is simply implemented,
because several sip UAs, for example, all nokia ones, do send
double-CRLFs without any negotiation if they are behind nats.  as i have
told, i don't see any reason to negotiate this behavior at least when UA
is using tcp.

 > See my other email - it was what I meant - not getting the keep=yes
 > means the other end doesn't support this draft.

this is what you say now, not what you said yesterday.  as i said in my
previous posts, what you say now is fine with me as long as the draft
clearly says that if UA does not get back keep=yes, then this draft does
not specify what the UA should do.  this allow current products keep on
working without this (at least in tcp case) useless negotiation stuff
that the draft is proposing.

-- juha
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Wed May  7 11:52:12 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id BE9553A685F;
	Wed,  7 May 2008 11:52:12 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 6789E3A6E00
	for <sip@core3.amsl.com>; Wed, 30 Apr 2008 06:37:51 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -105.652
X-Spam-Level: 
X-Spam-Status: No, score=-105.652 tagged_above=-999 required=5
	tests=[AWL=0.144, BAYES_00=-2.599, MSGID_FROM_MTA_HEADER=0.803,
	RCVD_IN_DNSWL_MED=-4, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id yhe1pY2Zwm4Q for <sip@core3.amsl.com>;
	Wed, 30 Apr 2008 06:37:47 -0700 (PDT)
Received: from mail121.messagelabs.com (mail121.messagelabs.com
	[216.82.241.195])
	by core3.amsl.com (Postfix) with ESMTP id B326928C3D5
	for <sip@ietf.org>; Wed, 30 Apr 2008 06:37:20 -0700 (PDT)
X-VirusChecked: Checked
X-Env-Sender: acmorton@att.com
X-Msg-Ref: server-4.tower-121.messagelabs.com!1209562636!18843220!1
X-StarScan-Version: 5.5.12.14.2; banners=-,-,-
X-Originating-IP: [144.160.128.141]
Received: (qmail 22247 invoked from network); 30 Apr 2008 13:37:16 -0000
Received: from sbcsmtp9.sbc.com (HELO flph161.enaf.ffdc.sbc.com)
	(144.160.128.141)
	by server-4.tower-121.messagelabs.com with AES256-SHA encrypted SMTP;
	30 Apr 2008 13:37:16 -0000
Received: from enaf.ffdc.sbc.com (localhost.localdomain [127.0.0.1])
	by flph161.enaf.ffdc.sbc.com (8.14.2/8.14.2) with ESMTP id
	m3UDbD3X013797 for <sip@ietf.org>; Wed, 30 Apr 2008 06:37:13 -0700
Received: from klph001.kcdc.att.com (klph001.kcdc.att.com [135.188.3.11])
	by flph161.enaf.ffdc.sbc.com (8.14.2/8.14.2) with ESMTP id
	m3UDb9lq013288 for <sip@ietf.org>; Wed, 30 Apr 2008 06:37:09 -0700
Received: from kcdc.att.com (localhost.localdomain [127.0.0.1])
	by klph001.kcdc.att.com (8.14.0/8.14.0) with ESMTP id m3UDb8f8005914
	for <sip@ietf.org>; Wed, 30 Apr 2008 08:37:08 -0500
Received: from maillennium.att.com (dns.maillennium.att.com [135.25.114.99])
	by klph001.kcdc.att.com (8.14.0/8.14.0) with ESMTP id m3UDb5xE005434
	for <sip@ietf.org>; Wed, 30 Apr 2008 08:37:05 -0500
Message-Id: <200804301337.m3UDb5xE005434@klph001.kcdc.att.com>
Received: from acmt.att.com
	(dyp004256dys.mt.att.com[135.16.251.231](misconfigured sender))
	by maillennium.att.com (mailgw1) with SMTP
	id <20080430133705gw100l7ohfe>; Wed, 30 Apr 2008 13:37:05 +0000
X-Mailer: QUALCOMM Windows Eudora Version 7.1.0.9
Date: Wed, 30 Apr 2008 09:37:02 -0400
To: Paul Kyzivat <pkyzivat@cisco.com>, Mahesh Anjanappa <mahesha@samsung.com>
From: Al Morton <acmorton@att.com>
In-Reply-To: <48186E99.7080306@cisco.com>
References: <915213.97931.qm@web33504.mail.mud.yahoo.com>
	<481754BE.1060505@cisco.com>
	<0a4301c8aa73$ffb17500$934a6c6b@sisodomain.com>
	<48186E99.7080306@cisco.com>
Mime-Version: 1.0
X-Mailman-Approved-At: Wed, 07 May 2008 11:52:11 -0700
Cc: sip@ietf.org, discussion@sipforum.org,
	gaurav katiyar <gaurav_katiyar@yahoo.com>
Subject: Re: [Sip] [bmwg] [SIPForum-discussion] What's the difference
 between	session and dialog in SIP?
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

At 09:05 AM 4/30/2008, Paul Kyzivat wrote:
>Its a decent try. As I mentioned in a prior reply, IMO there is no 
>real need to define this.

And with this message, I'm removing bmwg@ietf.org from this thread.

Al Morton
bmwg chair



_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Wed May  7 11:56:02 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 15E263A6950;
	Wed,  7 May 2008 11:56:02 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 410F03A67E3
	for <sip@core3.amsl.com>; Tue, 29 Apr 2008 23:23:49 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.203
X-Spam-Level: 
X-Spam-Status: No, score=-2.203 tagged_above=-999 required=5 tests=[AWL=0.395, 
	BAYES_00=-2.599, HTML_MESSAGE=0.001]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id ZFFi7QC9Dh3s for <sip@core3.amsl.com>;
	Tue, 29 Apr 2008 23:23:47 -0700 (PDT)
Received: from web33508.mail.mud.yahoo.com (web33508.mail.mud.yahoo.com
	[68.142.206.157])
	by core3.amsl.com (Postfix) with SMTP id 321AF3A6D71
	for <sip@ietf.org>; Tue, 29 Apr 2008 23:23:47 -0700 (PDT)
Received: (qmail 62261 invoked by uid 60001); 30 Apr 2008 06:23:49 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws; s=s1024; d=yahoo.com;
	h=X-YMail-OSG:Received:Date:From:Subject:To:Cc:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding:Message-ID;
	b=zHUPpgEwBvRRTBkSGhcr9XxdRL3ruYbgJ5nkZsfb/KJcS+vPjy6vjJnCXp84tQrLhCRJd+1h6h8MdS/b1MdX088t0Uq+MAbTvmxjK2yQM8gINU0K0/IRnrjkfj6v7pCGmM1YsJB6gYaAfD1MwwAB/cPs3w/8Z1JCTIuY1YP8Mo8=;
X-YMail-OSG: TLfrMKYVM1kdfMxRIo_IMV_7tfZW8qSfP25FGA1m_qSITdlzFtcZcgwua3xmonzMnx5_WOM7AVF4Ay4Y_m84OBCshYDisAL0YAeTxFWNqbA184R_FGmED4OSOQ--
Received: from [61.246.177.137] by web33508.mail.mud.yahoo.com via HTTP;
	Tue, 29 Apr 2008 23:23:49 PDT
Date: Tue, 29 Apr 2008 23:23:49 -0700 (PDT)
From: gaurav katiyar <gaurav_katiyar@yahoo.com>
To: Mahesh Anjanappa <mahesha@samsung.com>, Paul Kyzivat <pkyzivat@cisco.com>
In-Reply-To: <0a4301c8aa73$ffb17500$934a6c6b@sisodomain.com>
MIME-Version: 1.0
Message-ID: <102908.62033.qm@web33508.mail.mud.yahoo.com>
X-Mailman-Approved-At: Wed, 07 May 2008 11:56:00 -0700
Cc: sip@ietf.org, discussion@sipforum.org, bmwg@ietf.org
Subject: Re: [Sip] [SIPForum-discussion] What's the difference between
	session and dialog in SIP?
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: multipart/mixed; boundary="===============1624476968=="
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

--===============1624476968==
Content-Type: multipart/alternative; boundary="0-1149028041-1209536629=:62033"
Content-Transfer-Encoding: 8bit

--0-1149028041-1209536629=:62033
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

Hi,
     I am getting confused now. what session exactly is ? Why ACK is an end to end request for 200 OK of INVITE request? does it relate to session any where ??? :-). Is it right to generate ACK locally by any proxy including B2BUA for 200 OK of initial INVITE request? 
   
  Gaurav

Mahesh Anjanappa <mahesha@samsung.com> wrote:
  I'm surprised to see that a fundamental concept "SIP Session" does not have
a clear definition documented anywhere. I was eagerly waiting for a IETF 
Guru
to clarify this. I wish somebody writes a draft clarifying all the 
undocumented
fundamental concepts in SIP. If i knew it all, i would have done it :-)

My 2 cents on it.
A Session is a Rendezvous Contract between 2 or more UA's for communnicating
with some modality. SIP dialog is a context over which such a Contract is 
negotiated
decided, and upheld.
Normally the SDP Session Id should identify the Contract/Session. But not 
necessarily
always. If its a multiparty the Conference ID would serve such a purpose.
I can get into a session with a non-INVITE dialog as well. Example: 
SUBSCRIBE to
a specialized Event package. In this case some Identifier in the Event 
package probably will
serve as the Session Id.
As you can see there can be more than 1 dialog related a Session.
But there is no documentation saying what exactly threads all the dialogs to 
a Session except
the mentioning of a ID in the SDP RFC to identify the session being 
described in a SDP.

My understanding is that a Session Identifier can take the form of 
Conference ID or any
other depending on the method used to setup the rendezvoud/session.

Well, the above is my understanding of it, not based on any existing draft 
or RFC, so i welcome
whatever corrections need be.

regards
Mahesh

----- Original Message ----- 
From: "Paul Kyzivat" 

To: "gaurav katiyar" 
Cc: ; ; 
Sent: Tuesday, April 29, 2008 10:32 PM
Subject: Re: [Sip] [SIPForum-discussion] What's the difference between 
session and dialog in SIP?


>
>
> gaurav katiyar wrote:
>> Sip "Session Initiation Protocol". It talks about media session, i mean
>> how to initiate, modify and terminate a session and Dialog provides a
>> sort of context (like caller, callee, location, routing etc.) to modify
>> this session. So dialog is more related to route the sip message to
>> right node and body (SDP) handles media session if present. Dialogs may
>> have media sessions Or may not.
>>
>> Take an example of B2BUA. It is a type of statefull proxy having two
>> dialog and one media session if doing media routing.
>
> Maybe. IMO these concepts aren't sufficiently defined.
>
> One view is that a session is whatever SDP describes. Thus its one
> session regardless of how many media streams it contains. And in the
> case of an SDP containing multicast media addresses, and possibly
> advertised via SAP, there could be many participants in the same session.
>
> But then in sip it takes a pair of SDPs to establish a call. Is that one
> session, or two? And in your case above with the B2BUA, is it one
> session, or two, or four?
>
> Another view is that a session in the context of sip is whatever is
> established as a result of an INVITE. Then I guess the pair of SDPs
> together describe one session, regardless of how many media streams. But
> in that case the B2BUA example would be two sessions.
>
> Then consider a more complex case:
>
> audio
> /-------- C
> /
> A ========== B
> audio \
> video \-------- D
> video
>
> Here B is a B2BUA and media relay as in your example, but one stream is
> relayed to C and the other to D.
>
> In this case, how many sessions are there? A, C, and D each have one,
> but are any of those the same? Or are there three altogether?
>
> When I see "session" used, I just assume it means something vague, and
> read on to see what is actually meant.
>
> Paul
>
>> */Donald Lee /* wrote:
>>
>> old good questions in sip, also add another "transaction".
>>
>>
>> On Fri, Apr 25, 2008 at 8:18 AM, &shy;宗君 >> > wrote:
>>
>> Hi, Vijay
>>
>> Thanks very much for your timely answers.
>>
>> From this specification, session is a combination of signaling
>> plane
>> and media plane messages and processes that enable two or more
>> participants to communicate. I think session is a larger scope 
>> than
>> dialog. In another word, one session can contain more than one
>> dialog.
>> Is what I understand right?
>>
>> Zongjun
>>
>>
>> 2008/4/24, Vijay K. Gurbani >> >:
>> > There is some work progressing in the BMWG WG to create
>> performance
>> > metrics around SIP. One of the first tasks in such an 
>> endeavor
>> > is to define the notion of dialogs and sessions. Please see
>> > Section 3.1.1 of
>> >
>> 
>> https://svn.resiprocate.org/rep/ietf-drafts/gurbani/bmwg-sip-bench-term/draft-ietf-bmwg-sip-term-00.txt
>> > of the above draft for some insight.
>> >
>> > Ëï×Ú¾ý wrote:
>> >
>> > > Hi, Lincoln
>> > >
>> > > thanks for your instructions.
>> > >
>> > > I know that dialog can exist without session since
>> SUBSCRIBE/REFER can
>> > > create dialog and without any media between communication
>> peers.
>> > >
>> > > What I want to know is the relationship of dialog and
>> session when
>> > > they both exist in one communication activity. Take a
>> example, when
>> > > there are 2 person participating talks with voice, we say
>> there is a
>> > > dialog and a session.
>> > >
>> > > But when one caller invites another callee and gets five
>> 200 final
>> > > responses from 5 UA every of which has its own session
>> description. We
>> > > can say that there are 5 dialogs between caller and the 
>> other 5
>> > > callees, right? And then what is the exact number of
>> session in this
>> > > scenario? One session or five session? That is what I want
>> to know.
>> > >
>> > > Dialog is determined by dialogID (call-id, from/to tag) and
>> session id
>> > > is determined by session id given in the SDP message. My
>> answer is
>> > > there are 5 dialog and one session now, right?
>> > >
>> >
>> > - vijay
>> > --
>> > Vijay K. Gurbani, Bell Laboratories, Alcatel-Lucent
>> > 2701 Lucent Lane, Rm. 9F-546, Lisle, Illinois 60532 (USA)
>> > Email: vkg@{alcatel-lucent.com
>> ,bell-labs.com
>> ,acm.org }
>> > WWW: http://www.alcatel-lucent.com/bell-labs
>> >
>> _______________________________________________
>> Sip mailing list https://www.ietf.org/mailman/listinfo/sip
>> This list is for NEW development of the core SIP Protocol
>> Use sip-implementors@cs.columbia.edu
>> for questions on
>> current sip
>> Use sipping@ietf.org for new
>> developments on the application of sip
>>
>>
>>
>>
>> -- 
>> BR
>> Donald _______________________________________________
>> This is the SIP Forum discussion mailing list
>> TO UNSUBSCRIBE, or edit your delivery options, please visit
>> http://sipforum.org/mailman/listinfo/discussion
>> Post to the list at discussion@sipforum.org
>>
>>
>>
>>
>> Gaurav Katiyar
>> Induslogic india pvt. ltd
>> B-34/1 sector 59 NOIDA
>> Phone:9818381368
>>
>>
>> ------------------------------------------------------------------------
>> Be a better friend, newshound, and know-it-all with Yahoo! Mobile. Try
>> it now.
>> >> >
>>
>>
>> ------------------------------------------------------------------------
>>
>> _______________________________________________
>> Sip mailing list https://www.ietf.org/mailman/listinfo/sip
>> This list is for NEW development of the core SIP Protocol
>> Use sip-implementors@cs.columbia.edu for questions on current sip
>> Use sipping@ietf.org for new developments on the application of sip
>


--------------------------------------------------------------------------------


> _______________________________________________
> Sip mailing list https://www.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
> 




Gaurav Katiyar
  Induslogic india pvt. ltd
  B-34/1 sector 59 NOIDA
  Phone:9818381368
   

       
---------------------------------
Be a better friend, newshound, and know-it-all with Yahoo! Mobile.  Try it now.
--0-1149028041-1209536629=:62033
Content-Type: text/html; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

<div>Hi,</div>  <div>&nbsp;&nbsp; I am getting confused now. what session exactly is ? Why ACK is an end to end request for 200 OK of INVITE request? does it relate to session any where ??? :-). Is it right to generate ACK locally by any proxy including B2BUA for 200 OK of initial INVITE request? </div>  <div>&nbsp;</div>  <div>Gaurav<BR><BR><B><I>Mahesh Anjanappa &lt;mahesha@samsung.com&gt;</I></B> wrote:</div>  <BLOCKQUOTE class=replbq style="PADDING-LEFT: 5px; MARGIN-LEFT: 5px; BORDER-LEFT: #1010ff 2px solid">I'm surprised to see that a fundamental concept "SIP Session" does not have<BR>a clear definition documented anywhere. I was eagerly waiting for a IETF <BR>Guru<BR>to clarify this. I wish somebody writes a draft clarifying all the <BR>undocumented<BR>fundamental concepts in SIP. If i knew it all, i would have done it :-)<BR><BR>My 2 cents on it.<BR>A Session is a Rendezvous Contract between 2 or more UA's for communnicating<BR>with some modality. SIP dialog is a
 context over which such a Contract is <BR>negotiated<BR>decided, and upheld.<BR>Normally the SDP Session Id should identify the Contract/Session. But not <BR>necessarily<BR>always. If its a multiparty the Conference ID would serve such a purpose.<BR>I can get into a session with a non-INVITE dialog as well. Example: <BR>SUBSCRIBE to<BR>a specialized Event package. In this case some Identifier in the Event <BR>package probably will<BR>serve as the Session Id.<BR>As you can see there can be more than 1 dialog related a Session.<BR>But there is no documentation saying what exactly threads all the dialogs to <BR>a Session except<BR>the mentioning of a ID in the SDP RFC to identify the session being <BR>described in a SDP.<BR><BR>My understanding is that a Session Identifier can take the form of <BR>Conference ID or any<BR>other depending on the method used to setup the rendezvoud/session.<BR><BR>Well, the above is my understanding of it, not based on any existing draft <BR>or
 RFC, so i welcome<BR>whatever corrections need be.<BR><BR>regards<BR>Mahesh<BR><BR>----- Original Message ----- <BR>From: "Paul Kyzivat" <PKYZIVAT@CISCO.COM><BR>To: "gaurav katiyar" <GAURAV_KATIYAR@YAHOO.COM><BR>Cc: <SIP@IETF.ORG>; <DISCUSSION@SIPFORUM.ORG>; <BMWG@IETF.ORG><BR>Sent: Tuesday, April 29, 2008 10:32 PM<BR>Subject: Re: [Sip] [SIPForum-discussion] What's the difference between <BR>session and dialog in SIP?<BR><BR><BR>&gt;<BR>&gt;<BR>&gt; gaurav katiyar wrote:<BR>&gt;&gt; Sip "Session Initiation Protocol". It talks about media session, i mean<BR>&gt;&gt; how to initiate, modify and terminate a session and Dialog provides a<BR>&gt;&gt; sort of context (like caller, callee, location, routing etc.) to modify<BR>&gt;&gt; this session. So dialog is more related to route the sip message to<BR>&gt;&gt; right node and body (SDP) handles media session if present. Dialogs may<BR>&gt;&gt; have media sessions Or may not.<BR>&gt;&gt;<BR>&gt;&gt; Take an example of B2BUA. It
 is a type of statefull proxy having two<BR>&gt;&gt; dialog and one media session if doing media routing.<BR>&gt;<BR>&gt; Maybe. IMO these concepts aren't sufficiently defined.<BR>&gt;<BR>&gt; One view is that a session is whatever SDP describes. Thus its one<BR>&gt; session regardless of how many media streams it contains. And in the<BR>&gt; case of an SDP containing multicast media addresses, and possibly<BR>&gt; advertised via SAP, there could be many participants in the same session.<BR>&gt;<BR>&gt; But then in sip it takes a pair of SDPs to establish a call. Is that one<BR>&gt; session, or two? And in your case above with the B2BUA, is it one<BR>&gt; session, or two, or four?<BR>&gt;<BR>&gt; Another view is that a session in the context of sip is whatever is<BR>&gt; established as a result of an INVITE. Then I guess the pair of SDPs<BR>&gt; together describe one session, regardless of how many media streams. But<BR>&gt; in that case the B2BUA example would be two
 sessions.<BR>&gt;<BR>&gt; Then consider a more complex case:<BR>&gt;<BR>&gt; audio<BR>&gt; /-------- C<BR>&gt; /<BR>&gt; A ========== B<BR>&gt; audio \<BR>&gt; video \-------- D<BR>&gt; video<BR>&gt;<BR>&gt; Here B is a B2BUA and media relay as in your example, but one stream is<BR>&gt; relayed to C and the other to D.<BR>&gt;<BR>&gt; In this case, how many sessions are there? A, C, and D each have one,<BR>&gt; but are any of those the same? Or are there three altogether?<BR>&gt;<BR>&gt; When I see "session" used, I just assume it means something vague, and<BR>&gt; read on to see what is actually meant.<BR>&gt;<BR>&gt; Paul<BR>&gt;<BR>&gt;&gt; */Donald Lee <BAOLOVEBAO@GMAIL.COM>/* wrote:<BR>&gt;&gt;<BR>&gt;&gt; old good questions in sip, also add another "transaction".<BR>&gt;&gt;<BR>&gt;&gt;<BR>&gt;&gt; On Fri, Apr 25, 2008 at 8:18 AM, &shy;宗君 <SZJ087@GMAIL.COM<BR>&gt;&gt; <mailto:szj087@gmail.com>&gt; wrote:<BR>&gt;&gt;<BR>&gt;&gt; Hi, Vijay<BR>&gt;&gt;<BR>&gt;&gt;
 Thanks very much for your timely answers.<BR>&gt;&gt;<BR>&gt;&gt; From this specification, session is a combination of signaling<BR>&gt;&gt; plane<BR>&gt;&gt; and media plane messages and processes that enable two or more<BR>&gt;&gt; participants to communicate. I think session is a larger scope <BR>&gt;&gt; than<BR>&gt;&gt; dialog. In another word, one session can contain more than one<BR>&gt;&gt; dialog.<BR>&gt;&gt; Is what I understand right?<BR>&gt;&gt;<BR>&gt;&gt; Zongjun<BR>&gt;&gt;<BR>&gt;&gt;<BR>&gt;&gt; 2008/4/24, Vijay K. Gurbani <VKG@ALCATEL-LUCENT.COM<BR>&gt;&gt; <mailto:vkg@alcatel-lucent.com>&gt;:<BR>&gt;&gt; &gt; There is some work progressing in the BMWG WG to create<BR>&gt;&gt; performance<BR>&gt;&gt; &gt; metrics around SIP. One of the first tasks in such an <BR>&gt;&gt; endeavor<BR>&gt;&gt; &gt; is to define the notion of dialogs and sessions. Please see<BR>&gt;&gt; &gt; Section 3.1.1 of<BR>&gt;&gt; &gt;<BR>&gt;&gt; <BR>&gt;&gt;
 https://svn.resiprocate.org/rep/ietf-drafts/gurbani/bmwg-sip-bench-term/draft-ietf-bmwg-sip-term-00.txt<BR>&gt;&gt; &gt; of the above draft for some insight.<BR>&gt;&gt; &gt;<BR>&gt;&gt; &gt; Ëï×Ú¾ý wrote:<BR>&gt;&gt; &gt;<BR>&gt;&gt; &gt; &gt; Hi, Lincoln<BR>&gt;&gt; &gt; &gt;<BR>&gt;&gt; &gt; &gt; thanks for your instructions.<BR>&gt;&gt; &gt; &gt;<BR>&gt;&gt; &gt; &gt; I know that dialog can exist without session since<BR>&gt;&gt; SUBSCRIBE/REFER can<BR>&gt;&gt; &gt; &gt; create dialog and without any media between communication<BR>&gt;&gt; peers.<BR>&gt;&gt; &gt; &gt;<BR>&gt;&gt; &gt; &gt; What I want to know is the relationship of dialog and<BR>&gt;&gt; session when<BR>&gt;&gt; &gt; &gt; they both exist in one communication activity. Take a<BR>&gt;&gt; example, when<BR>&gt;&gt; &gt; &gt; there are 2 person participating talks with voice, we say<BR>&gt;&gt; there is a<BR>&gt;&gt; &gt; &gt; dialog and a session.<BR>&gt;&gt; &gt; &gt;<BR>&gt;&gt; &gt; &gt; But when
 one caller invites another callee and gets five<BR>&gt;&gt; 200 final<BR>&gt;&gt; &gt; &gt; responses from 5 UA every of which has its own session<BR>&gt;&gt; description. We<BR>&gt;&gt; &gt; &gt; can say that there are 5 dialogs between caller and the <BR>&gt;&gt; other 5<BR>&gt;&gt; &gt; &gt; callees, right? And then what is the exact number of<BR>&gt;&gt; session in this<BR>&gt;&gt; &gt; &gt; scenario? One session or five session? That is what I want<BR>&gt;&gt; to know.<BR>&gt;&gt; &gt; &gt;<BR>&gt;&gt; &gt; &gt; Dialog is determined by dialogID (call-id, from/to tag) and<BR>&gt;&gt; session id<BR>&gt;&gt; &gt; &gt; is determined by session id given in the SDP message. My<BR>&gt;&gt; answer is<BR>&gt;&gt; &gt; &gt; there are 5 dialog and one session now, right?<BR>&gt;&gt; &gt; &gt;<BR>&gt;&gt; &gt;<BR>&gt;&gt; &gt; - vijay<BR>&gt;&gt; &gt; --<BR>&gt;&gt; &gt; Vijay K. Gurbani, Bell Laboratories, Alcatel-Lucent<BR>&gt;&gt; &gt; 2701 Lucent Lane, Rm. 9F-546, Lisle,
 Illinois 60532 (USA)<BR>&gt;&gt; &gt; Email: vkg@{alcatel-lucent.com<BR>&gt;&gt; <HTTP: alcatel-lucent.com />,bell-labs.com<BR>&gt;&gt; <HTTP: bell-labs.com />,acm.org <HTTP: acm.org />}<BR>&gt;&gt; &gt; WWW: http://www.alcatel-lucent.com/bell-labs<BR>&gt;&gt; &gt;<BR>&gt;&gt; _______________________________________________<BR>&gt;&gt; Sip mailing list https://www.ietf.org/mailman/listinfo/sip<BR>&gt;&gt; This list is for NEW development of the core SIP Protocol<BR>&gt;&gt; Use sip-implementors@cs.columbia.edu<BR>&gt;&gt; <mailto:sip-implementors@cs.columbia.edu>for questions on<BR>&gt;&gt; current sip<BR>&gt;&gt; Use sipping@ietf.org <mailto:sipping@ietf.org>for new<BR>&gt;&gt; developments on the application of sip<BR>&gt;&gt;<BR>&gt;&gt;<BR>&gt;&gt;<BR>&gt;&gt;<BR>&gt;&gt; -- <BR>&gt;&gt; BR<BR>&gt;&gt; Donald _______________________________________________<BR>&gt;&gt; This is the SIP Forum discussion mailing list<BR>&gt;&gt; TO UNSUBSCRIBE, or edit your delivery
 options, please visit<BR>&gt;&gt; http://sipforum.org/mailman/listinfo/discussion<BR>&gt;&gt; Post to the list at discussion@sipforum.org<BR>&gt;&gt;<BR>&gt;&gt;<BR>&gt;&gt;<BR>&gt;&gt;<BR>&gt;&gt; Gaurav Katiyar<BR>&gt;&gt; Induslogic india pvt. ltd<BR>&gt;&gt; B-34/1 sector 59 NOIDA<BR>&gt;&gt; Phone:9818381368<BR>&gt;&gt;<BR>&gt;&gt;<BR>&gt;&gt; ------------------------------------------------------------------------<BR>&gt;&gt; Be a better friend, newshound, and know-it-all with Yahoo! Mobile. Try<BR>&gt;&gt; it now.<BR>&gt;&gt; <HTTP: evt="51733/*http://mobile.yahoo.com/;_ylt=Ahu06i62sR8HDtDypao8Wcj9tAcJ<br" us.rd.yahoo.com>&gt;&gt; &gt;<BR>&gt;&gt;<BR>&gt;&gt;<BR>&gt;&gt; ------------------------------------------------------------------------<BR>&gt;&gt;<BR>&gt;&gt; _______________________________________________<BR>&gt;&gt; Sip mailing list https://www.ietf.org/mailman/listinfo/sip<BR>&gt;&gt; This list is for NEW development of the core SIP Protocol<BR>&gt;&gt;
 Use sip-implementors@cs.columbia.edu for questions on current sip<BR>&gt;&gt; Use sipping@ietf.org for new developments on the application of sip<BR>&gt;<BR><BR><BR>--------------------------------------------------------------------------------<BR><BR><BR>&gt; _______________________________________________<BR>&gt; Sip mailing list https://www.ietf.org/mailman/listinfo/sip<BR>&gt; This list is for NEW development of the core SIP Protocol<BR>&gt; Use sip-implementors@cs.columbia.edu for questions on current sip<BR>&gt; Use sipping@ietf.org for new developments on the application of sip<BR>&gt; <BR><BR></BLOCKQUOTE><BR></mailto:sipping@ietf.org></mailto:sip-implementors@cs.columbia.edu></mailto:vkg@alcatel-lucent.com></mailto:szj087@gmail.com><BR><BR><DIV><FONT face="comic sans ms" color=#ff0000 size=3>Gaurav Katiyar</FONT></DIV>  <DIV><FONT color=#0000ff>Induslogic&nbsp;india pvt. ltd</FONT></DIV>  <DIV><FONT color=#0000ff>B-34/1 sector 59 NOIDA</FONT></DIV>  <DIV><FONT
 color=#0000ff>Phone:9818381368</FONT></DIV>  <DIV>&nbsp;</DIV><p>&#32;



      <hr size=1>Be a better friend, newshound, and 
know-it-all with Yahoo! Mobile. <a href="http://us.rd.yahoo.com/evt=51733/*http://mobile.yahoo.com/;_ylt=Ahu06i62sR8HDtDypao8Wcj9tAcJ "> Try it now.</a>
--0-1149028041-1209536629=:62033--

--===============1624476968==
Content-Type: text/plain; charset="us-ascii"
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip
--===============1624476968==--


From sip-bounces@ietf.org  Wed May  7 12:22:49 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id D838D3A6C8E;
	Wed,  7 May 2008 12:22:49 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id B4B4F3A6C8E
	for <sip@core3.amsl.com>; Wed,  7 May 2008 12:22:47 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -6.299
X-Spam-Level: 
X-Spam-Status: No, score=-6.299 tagged_above=-999 required=5
	tests=[AWL=-0.300, BAYES_00=-2.599, J_CHICKENPOX_43=0.6,
	RCVD_IN_DNSWL_MED=-4]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 8rd5VHt3JEEL for <sip@core3.amsl.com>;
	Wed,  7 May 2008 12:22:46 -0700 (PDT)
Received: from zcars04e.nortel.com (zcars04e.nortel.com [47.129.242.56])
	by core3.amsl.com (Postfix) with ESMTP id 835B83A69D2
	for <sip@ietf.org>; Wed,  7 May 2008 12:22:46 -0700 (PDT)
Received: from zrc2hxm0.corp.nortel.com (zrc2hxm0.corp.nortel.com
	[47.103.123.71])
	by zcars04e.nortel.com (Switch-2.2.0/Switch-2.2.0) with ESMTP id
	m47JLeN29269; Wed, 7 May 2008 19:21:40 GMT
X-MIMEOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Wed, 7 May 2008 14:22:32 -0500
Message-ID: <1ECE0EB50388174790F9694F77522CCF16A01DDF@zrc2hxm0.corp.nortel.com>
In-Reply-To: <18465.55659.177188.471351@taimen.test.fi>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] Draft: draft-holmberg-sip-keep-00.txt
Thread-index: AciwYUeBHQjeE3d5R4Kj1LFY3cBuPgAFX+Iw
References: <18465.17834.732392.527310@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C776E@esealmw113.eemea.ericsson.se>
	<18465.32545.345585.820414@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8050F5A@mail.acmepacket.com>
	<18465.55659.177188.471351@taimen.test.fi>
From: "Francois Audet" <audet@nortel.com>
To: "Juha Heinanen" <jh@tutpro.com>, "Hadriel Kaplan" <HKaplan@acmepacket.com>
Cc: sip@ietf.org, Christer Holmberg <christer.holmberg@ericsson.com>
Subject: Re: [Sip] Draft: draft-holmberg-sip-keep-00.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Juha,

Just to clarify.

Are you saying that OpenSer will respond to Double-CRLF with Single-CRLF
over TCP? Regardless of keep or even outbound registration?

I think that's what you are saying. I think that's actually very good.
That's what I would like to see in general.

And for the keep parameter. I agree with you. Keep parameter is just a
mechanism to explictly declare that Keep-alive (Double-CRLF) is supported
even if outbound registration is not used.

But NOT including Keep does NOT mean that keep-alive is not going to be used,
at least for CRLF. Sending unsolicited double CRLF is already allowed in RFC 3261.
It's just that there is no garantee the server will respond with single CRLF. If it
does, good.

For STUN-over SIP, I'm not too sure how it should work. (I don't really care either 
to be honest). I think the point of the outbound draft was to say "don't send STUN
over SIP unless you know your server supports it (through outbound registration, or
explicit configuration, or keep parameter).

> -----Original Message-----
> From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On 
> Behalf Of Juha Heinanen
> Sent: Wednesday, May 07, 2008 09:32
> To: Hadriel Kaplan
> Cc: sip@ietf.org; Christer Holmberg
> Subject: Re: [Sip] Draft: draft-holmberg-sip-keep-00.txt
> 
> Hadriel Kaplan writes:
> 
>  > Openser will send back a CRLF when it gets a CRLF?  
> Interesting, but  > it's proprietary.  There is nothing in 
> SIP to say "send back a CRLF  > when you get a CRLF".  This 
> draft is proposing a standardized way to  > do that, for both 
> transport types.
> 
> openser will send back back single CRLF later this week, it 
> it receives double CRLF over tcp connection.  i have not 
> claimed that this practise has been standardized somewhere.  
> the behavior is simply implemented, because several sip UAs, 
> for example, all nokia ones, do send double-CRLFs without any 
> negotiation if they are behind nats.  as i have told, i don't 
> see any reason to negotiate this behavior at least when UA is 
> using tcp.
> 
>  > See my other email - it was what I meant - not getting the 
> keep=yes  > means the other end doesn't support this draft.
> 
> this is what you say now, not what you said yesterday.  as i 
> said in my previous posts, what you say now is fine with me 
> as long as the draft clearly says that if UA does not get 
> back keep=yes, then this draft does not specify what the UA 
> should do.  this allow current products keep on working 
> without this (at least in tcp case) useless negotiation stuff 
> that the draft is proposing.
> 
> -- juha
> _______________________________________________
> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol Use 
> sip-implementors@cs.columbia.edu for questions on current sip 
> Use sipping@ietf.org for new developments on the application of sip
> 
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Wed May  7 12:31:14 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 088F33A6A0B;
	Wed,  7 May 2008 12:31:14 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 86B8F3A6950
	for <sip@core3.amsl.com>; Wed,  7 May 2008 12:31:12 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.449
X-Spam-Level: 
X-Spam-Status: No, score=-2.449 tagged_above=-999 required=5 tests=[AWL=0.150, 
	BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id TXaO4eVPcLOn for <sip@core3.amsl.com>;
	Wed,  7 May 2008 12:31:11 -0700 (PDT)
Received: from tutpro.com (sip.tutpro.com [192.98.100.10])
	by core3.amsl.com (Postfix) with ESMTP id 6BA403A68BF
	for <sip@ietf.org>; Wed,  7 May 2008 12:31:11 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by tutpro.com (Postfix) with ESMTP id D53831EC25B;
	Wed,  7 May 2008 22:31:07 +0300 (EEST)
Received: from tutpro.com ([127.0.0.1])
	by localhost (tutpro.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id v4W+SEamvXmK; Wed,  7 May 2008 22:30:59 +0300 (EEST)
Received: from taimen (h13838.gprs.dnafinland.fi [87.93.138.38])
	by tutpro.com (Postfix) with ESMTP;
	Wed,  7 May 2008 22:30:59 +0300 (EEST)
Received: by taimen (Postfix, from userid 1000)
	id 79E57AC070; Wed,  7 May 2008 22:30:56 +0300 (EEST)
MIME-Version: 1.0
Message-ID: <18466.880.342656.104598@taimen.test.fi>
Date: Wed, 7 May 2008 22:30:56 +0300
To: "Francois Audet" <audet@nortel.com>
In-Reply-To: <1ECE0EB50388174790F9694F77522CCF16A01DDF@zrc2hxm0.corp.nortel.com>
References: <18465.17834.732392.527310@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C776E@esealmw113.eemea.ericsson.se>
	<18465.32545.345585.820414@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8050F5A@mail.acmepacket.com>
	<18465.55659.177188.471351@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A01DDF@zrc2hxm0.corp.nortel.com>
X-Mailer: VM 7.19 under Emacs 21.4.1
From: jh@tutpro.com (Juha Heinanen)
Cc: sip@ietf.org, Christer Holmberg <christer.holmberg@ericsson.com>
Subject: Re: [Sip] Draft: draft-holmberg-sip-keep-00.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Francois Audet writes:

 > Are you saying that OpenSer will respond to Double-CRLF with Single-CRLF
 > over TCP? Regardless of keep or even outbound registration?

yes, and i don't think there are even any plans to support full outbound
or keep, since they don't add any value.

 > It's just that there is no garantee the server will respond with
 > single CRLF. If it does, good.

i agree.

 > For STUN-over SIP, I'm not too sure how it should work. (I don't
 > really care either to be honest). I think the point of the outbound
 > draft was to say "don't send STUN over SIP unless you know your
 > server supports it (through outbound registration, or n
 > explicit configuration, or keep parameter).

openser takes care of udp UAs behind NATs, so to openser UAs stun
provides no added value.  it just complicates the UA implementation.

-- juha
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Wed May  7 12:54:49 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 2F7BB3A6E7B;
	Wed,  7 May 2008 12:54:49 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 920013A6877
	for <sip@core3.amsl.com>; Wed,  7 May 2008 12:54:46 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.599
X-Spam-Level: 
X-Spam-Status: No, score=-2.599 tagged_above=-999 required=5
	tests=[BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id dEjanypsV414 for <sip@core3.amsl.com>;
	Wed,  7 May 2008 12:54:45 -0700 (PDT)
Received: from nylon.softarmor.com (nylon.softarmor.com [66.135.38.164])
	by core3.amsl.com (Postfix) with ESMTP id 1CB8E3A6D8F
	for <sip@ietf.org>; Wed,  7 May 2008 12:54:45 -0700 (PDT)
Received: from [192.168.2.103] (cpe-76-185-142-113.tx.res.rr.com
	[76.185.142.113]) (authenticated bits=0)
	by nylon.softarmor.com (8.13.8/8.13.8/Debian-3) with ESMTP id
	m47JsDDc000915
	(version=TLSv1/SSLv3 cipher=AES128-SHA bits=128 verify=NOT);
	Wed, 7 May 2008 14:54:15 -0500
Message-Id: <2DA768A5-D169-47AC-BB2F-BDC70F902A56@softarmor.com>
From: Dean Willis <dean.willis@softarmor.com>
To: Dan Wing <dwing@cisco.com>
In-Reply-To: <03f901c8afde$ee9398f0$c3f0200a@cisco.com>
Mime-Version: 1.0 (Apple Message framework v919.2)
Date: Wed, 7 May 2008 14:54:08 -0500
References: <066701c8af02$2445f8e0$c3f0200a@cisco.com>
	<20080506000110.499525081A@romeo.rtfm.com>
	<03f901c8afde$ee9398f0$c3f0200a@cisco.com>
X-Mailer: Apple Mail (2.919.2)
Cc: 'IETF SIP List' <sip@ietf.org>, "'Fries,
	Steffen \(CT\)'" <steffen.fries@siemens.com>
Subject: Re: [Sip] draft-ietf-sip-media-security-requirements-05
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


On May 6, 2008, at 8:08 PM, Dan Wing wrote:
>>
> The wordsmithing task falls to me, I suppose.
>
> Here is another straw man, which I think captures your sentence
> above your signature and your [0] comment:
>
>      R-CERTS:
>
>      The media security key management protocol MUST NOT require
>      using a trust anchor to validate credentials (e.g., a
>      certificate) or to obtain credentials (e.g., a private key)
>      used in the protocol.
>
> (The "or to obtain credentials" clause is intended to cover the
> IBE case.)

That's something like requiring that the protocol specification be a  
protocol specification and not an operational guideline, isn't it?

We get the two very mixed up around here.

--
Dean
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Wed May  7 13:04:09 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 78DD43A6D9C;
	Wed,  7 May 2008 13:04:09 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 1E8973A6950
	for <sip@core3.amsl.com>; Wed,  7 May 2008 13:04:07 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.599
X-Spam-Level: 
X-Spam-Status: No, score=-2.599 tagged_above=-999 required=5
	tests=[BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id aFqaG-im9g-p for <sip@core3.amsl.com>;
	Wed,  7 May 2008 13:04:05 -0700 (PDT)
Received: from nylon.softarmor.com (nylon.softarmor.com [66.135.38.164])
	by core3.amsl.com (Postfix) with ESMTP id C7B093A6A0B
	for <sip@ietf.org>; Wed,  7 May 2008 13:04:05 -0700 (PDT)
Received: from [192.168.2.103] (cpe-76-185-142-113.tx.res.rr.com
	[76.185.142.113]) (authenticated bits=0)
	by nylon.softarmor.com (8.13.8/8.13.8/Debian-3) with ESMTP id
	m47K3vG6000971
	(version=TLSv1/SSLv3 cipher=AES128-SHA bits=128 verify=NOT);
	Wed, 7 May 2008 15:03:58 -0500
Message-Id: <1913CBEB-32B6-4167-BA90-AE2F4B20FF79@softarmor.com>
From: Dean Willis <dean.willis@softarmor.com>
To: "Francois Audet" <audet@nortel.com>
In-Reply-To: <1ECE0EB50388174790F9694F77522CCF16A01DDF@zrc2hxm0.corp.nortel.com>
Mime-Version: 1.0 (Apple Message framework v919.2)
Date: Wed, 7 May 2008 15:03:51 -0500
References: <18465.17834.732392.527310@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C776E@esealmw113.eemea.ericsson.se>
	<18465.32545.345585.820414@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8050F5A@mail.acmepacket.com>
	<18465.55659.177188.471351@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A01DDF@zrc2hxm0.corp.nortel.com>
X-Mailer: Apple Mail (2.919.2)
Cc: sip@ietf.org, Christer Holmberg <christer.holmberg@ericsson.com>
Subject: Re: [Sip] Draft: draft-holmberg-sip-keep-00.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


On May 7, 2008, at 2:22 PM, Francois Audet wrote:

>
>
> For STUN-over SIP, I'm not too sure how it should work. (I don't  
> really care either
> to be honest). I think the point of the outbound draft was to say  
> "don't send STUN
> over SIP unless you know your server supports it (through outbound  
> registration, or
> explicit configuration, or keep parameter).
>

That's exactly the point. You're not likely to DOS yourself by sending  
double-crlf to a proxy. But you ARE likely to DOS yourself by sending  
STUN to the same port to which you send SIP.

  So the rule is "Don't STUN a proxy's SIP port unless you're sure it  
supports it".

Outbound already provides a discovery mechanism letting a UA find out  
whether or not a proxy supports STUN over SIP. If I understand it  
correctly, this draft is an attempt to make such a mechanism available  
in the absence of Outbound.

--
Dean
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Wed May  7 13:13:54 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id D507F3A7173;
	Wed,  7 May 2008 13:13:51 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 8568E3A7175
	for <sip@core3.amsl.com>; Wed,  7 May 2008 13:13:40 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.466
X-Spam-Level: 
X-Spam-Status: No, score=-2.466 tagged_above=-999 required=5 tests=[AWL=0.133, 
	BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id bJ5VJOLifMVm for <sip@core3.amsl.com>;
	Wed,  7 May 2008 13:13:29 -0700 (PDT)
Received: from tutpro.com (sip.tutpro.com [192.98.100.10])
	by core3.amsl.com (Postfix) with ESMTP id 2553D3A716F
	for <sip@ietf.org>; Wed,  7 May 2008 13:13:04 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by tutpro.com (Postfix) with ESMTP id 0EEA61EC25B;
	Wed,  7 May 2008 23:13:01 +0300 (EEST)
Received: from tutpro.com ([127.0.0.1])
	by localhost (tutpro.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id fLHmDD2S-gsm; Wed,  7 May 2008 23:12:54 +0300 (EEST)
Received: from taimen (h13838.gprs.dnafinland.fi [87.93.138.38])
	by tutpro.com (Postfix) with ESMTP;
	Wed,  7 May 2008 23:12:54 +0300 (EEST)
Received: by taimen (Postfix, from userid 1000)
	id 1936AAC070; Wed,  7 May 2008 23:12:52 +0300 (EEST)
MIME-Version: 1.0
Message-ID: <18466.3396.15111.576996@taimen.test.fi>
Date: Wed, 7 May 2008 23:12:52 +0300
To: Dean Willis <dean.willis@softarmor.com>
In-Reply-To: <1913CBEB-32B6-4167-BA90-AE2F4B20FF79@softarmor.com>
References: <18465.17834.732392.527310@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C776E@esealmw113.eemea.ericsson.se>
	<18465.32545.345585.820414@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8050F5A@mail.acmepacket.com>
	<18465.55659.177188.471351@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A01DDF@zrc2hxm0.corp.nortel.com>
	<1913CBEB-32B6-4167-BA90-AE2F4B20FF79@softarmor.com>
X-Mailer: VM 7.19 under Emacs 21.4.1
From: jh@tutpro.com (Juha Heinanen)
Cc: sip@ietf.org, Francois Audet <audet@nortel.com>,
	Christer Holmberg <christer.holmberg@ericsson.com>
Subject: Re: [Sip] Draft: draft-holmberg-sip-keep-00.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Dean Willis writes:

 > Outbound already provides a discovery mechanism letting a UA find out  
 > whether or not a proxy supports STUN over SIP. If I understand it  
 > correctly, this draft is an attempt to make such a mechanism available  
 > in the absence of Outbound.

dean,

that is fine and i hope that the draft is rewritten to clearly limit its
scope to "letting a UA find out whether or not a proxy supports STUN
over SIP".

then existing UA/proxy implementations would not get broken and we
can completely ignore this draft in openser proxy.

-- juha
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Wed May  7 13:19:14 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 6ED013A6A8D;
	Wed,  7 May 2008 13:19:14 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 0C24D3A6A8D
	for <sip@core3.amsl.com>; Wed,  7 May 2008 13:19:13 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -6.524
X-Spam-Level: 
X-Spam-Status: No, score=-6.524 tagged_above=-999 required=5 tests=[AWL=0.075, 
	BAYES_00=-2.599, RCVD_IN_DNSWL_MED=-4]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 5uXO6eMdmh6B for <sip@core3.amsl.com>;
	Wed,  7 May 2008 13:19:12 -0700 (PDT)
Received: from zrtps0kn.nortel.com (zrtps0kn.nortel.com [47.140.192.55])
	by core3.amsl.com (Postfix) with ESMTP id 1C7C53A69FF
	for <sip@ietf.org>; Wed,  7 May 2008 13:19:11 -0700 (PDT)
Received: from zrc2hxm0.corp.nortel.com (zrc2hxm0.corp.nortel.com
	[47.103.123.71])
	by zrtps0kn.nortel.com (Switch-2.2.6/Switch-2.2.0) with ESMTP id
	m47KJ5724890; Wed, 7 May 2008 20:19:05 GMT
X-MIMEOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Wed, 7 May 2008 15:18:57 -0500
Message-ID: <1ECE0EB50388174790F9694F77522CCF16A02003@zrc2hxm0.corp.nortel.com>
In-Reply-To: <18466.3396.15111.576996@taimen.test.fi>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] Draft: draft-holmberg-sip-keep-00.txt
Thread-index: AciwfsLAyvK1i8/NSxW55sNuCftciwAAMQ1Q
References: <18465.17834.732392.527310@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C776E@esealmw113.eemea.ericsson.se>
	<18465.32545.345585.820414@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8050F5A@mail.acmepacket.com>
	<18465.55659.177188.471351@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A01DDF@zrc2hxm0.corp.nortel.com>
	<1913CBEB-32B6-4167-BA90-AE2F4B20FF79@softarmor.com>
	<18466.3396.15111.576996@taimen.test.fi>
From: "Francois Audet" <audet@nortel.com>
To: "Juha Heinanen" <jh@tutpro.com>, "Dean Willis" <dean.willis@softarmor.com>
Cc: sip@ietf.org, Christer Holmberg <christer.holmberg@ericsson.com>
Subject: Re: [Sip] Draft: draft-holmberg-sip-keep-00.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

I think it would be reasonable to ask Christer for that clarification
to be added. 

> -----Original Message-----
> From: Juha Heinanen [mailto:jh@tutpro.com] 
> Sent: Wednesday, May 07, 2008 13:13
> To: Dean Willis
> Cc: Audet, Francois (SC100:3055); Hadriel Kaplan; 
> sip@ietf.org; Christer Holmberg
> Subject: Re: [Sip] Draft: draft-holmberg-sip-keep-00.txt
> 
> Dean Willis writes:
> 
>  > Outbound already provides a discovery mechanism letting a 
> UA find out  > whether or not a proxy supports STUN over SIP. 
> If I understand it  > correctly, this draft is an attempt to 
> make such a mechanism available  > in the absence of Outbound.
> 
> dean,
> 
> that is fine and i hope that the draft is rewritten to 
> clearly limit its
> scope to "letting a UA find out whether or not a proxy supports STUN
> over SIP".
> 
> then existing UA/proxy implementations would not get broken and we
> can completely ignore this draft in openser proxy.
> 
> -- juha
> 
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Wed May  7 13:52:59 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 3978B3A7185;
	Wed,  7 May 2008 13:52:59 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id B0BFC3A67CC
	for <sip@core3.amsl.com>; Wed,  7 May 2008 13:52:56 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.499
X-Spam-Level: 
X-Spam-Status: No, score=-2.499 tagged_above=-999 required=5 tests=[AWL=0.100, 
	BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id eLxWEobg-U38 for <sip@core3.amsl.com>;
	Wed,  7 May 2008 13:52:55 -0700 (PDT)
Received: from etmail.acmepacket.com (etmail.acmepacket.com [216.41.24.6])
	by core3.amsl.com (Postfix) with ESMTP id 21EB728C2A6
	for <sip@ietf.org>; Wed,  7 May 2008 13:51:34 -0700 (PDT)
Received: from mail.acmepacket.com (216.41.24.7) by etmail.acmepacket.com
	(216.41.24.6) with Microsoft SMTP Server (TLS) id 8.1.263.0;
	Wed, 7 May 2008 16:50:55 -0400
Received: from mail.acmepacket.com ([216.41.24.7]) by mail.acmepacket.com
	([216.41.24.7]) with mapi; Wed, 7 May 2008 16:50:56 -0400
From: Hadriel Kaplan <HKaplan@acmepacket.com>
To: Juha Heinanen <jh@tutpro.com>, Francois Audet <audet@nortel.com>
Date: Wed, 7 May 2008 16:50:41 -0400
Thread-Topic: [Sip] Draft: draft-holmberg-sip-keep-00.txt
Thread-Index: AciweNI/tlz0HqquS1COqkZmPeMQygACRTAA
Message-ID: <E6C2E8958BA59A4FB960963D475F7AC30BD80514C7@mail.acmepacket.com>
References: <18465.17834.732392.527310@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C776E@esealmw113.eemea.ericsson.se>
	<18465.32545.345585.820414@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8050F5A@mail.acmepacket.com>
	<18465.55659.177188.471351@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A01DDF@zrc2hxm0.corp.nortel.com>
	<18466.880.342656.104598@taimen.test.fi>
In-Reply-To: <18466.880.342656.104598@taimen.test.fi>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
acceptlanguage: en-US
MIME-Version: 1.0
Cc: "sip@ietf.org" <sip@ietf.org>,
	Christer Holmberg <christer.holmberg@ericsson.com>
Subject: Re: [Sip] Draft: draft-holmberg-sip-keep-00.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org



> -----Original Message-----
> From: Juha Heinanen [mailto:jh@tutpro.com]
>
> openser takes care of udp UAs behind NATs, so to openser UAs stun
> provides no added value.  it just complicates the UA implementation.

But there is a reason.  As the proxy, you can't currently know whether a UA will send CRLF or not automatically.  The proxy can send stuff down that TCP connection to try to keep it open from the outside, but that has failure issues, not the least of which is the UA is the only one that can re-open the TCP connection and so really the UA has to be smart enough to (1) detect the failure, and (2) trigger itself to re-open it if it failed.

The most common way I know of to do that today is by making the UA send Registers frequently, because that accomplishes both (1) and (2), in all cases and on all transports.  A double-CRLF or STUN is theoretically more efficient to process than a Register, so in theory it should scale better.  So what the proxy needs is a way to know that the UA will do one of those keepalive methods, to do (1) and (2), and can avoid making the UA send Registers as frequently.  Ergo, this keep param is good for a proxy.

Obviously the proxy could instead guess, by seeing a CRLF from a UA and thus backing off the Register frequency, but that assumes the UA will send the CRLF even though it's doing frequent Registers (which not all do).  So that's a chicken/egg problem we can avoid with this simple param.

Then of course there's a proxy-proxy connection, which this draft will also enable keepalives for.

-hadriel
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Wed May  7 14:02:51 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 0F8FF3A7169;
	Wed,  7 May 2008 14:02:51 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 8A4653A6B0B
	for <sip@core3.amsl.com>; Wed,  7 May 2008 14:02:48 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.599
X-Spam-Level: 
X-Spam-Status: No, score=-2.599 tagged_above=-999 required=5 tests=[AWL=0.000, 
	BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id wgFqxaJKNqVz for <sip@core3.amsl.com>;
	Wed,  7 May 2008 14:02:46 -0700 (PDT)
Received: from ihemail1.lucent.com (ihemail1.lucent.com [135.245.0.33])
	by core3.amsl.com (Postfix) with ESMTP id A4AB728C53F
	for <sip@ietf.org>; Wed,  7 May 2008 14:02:45 -0700 (PDT)
Received: from umail.lucent.com (h135-3-40-61.lucent.com [135.3.40.61])
	by ihemail1.lucent.com (8.13.8/IER-o) with ESMTP id m47L2aIO027749
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO)
	for <sip@ietf.org>; Wed, 7 May 2008 16:02:36 -0500 (CDT)
Received: from [135.185.244.90] (il0015vkg1.ih.lucent.com [135.185.244.90])
	by umail.lucent.com (8.13.8/TPES) with ESMTP id m47L2ZCp002147
	for <sip@ietf.org>; Wed, 7 May 2008 16:02:35 -0500 (CDT)
Message-ID: <482218EC.30008@alcatel-lucent.com>
Date: Wed, 07 May 2008 16:02:36 -0500
From: "Vijay K. Gurbani" <vkg@alcatel-lucent.com>
Organization: Bell Labs Security Technology Research Group
User-Agent: Thunderbird 2.0.0.6 (Windows/20070728)
MIME-Version: 1.0
To: "sip@ietf.org" <sip@ietf.org>
References: <18465.17834.732392.527310@taimen.test.fi>	<CA9998CD4A020D418654FCDEF4E707DF046C776E@esealmw113.eemea.ericsson.se>	<18465.32545.345585.820414@taimen.test.fi>	<E6C2E8958BA59A4FB960963D475F7AC30BD8050F5A@mail.acmepacket.com>	<18465.55659.177188.471351@taimen.test.fi>	<1ECE0EB50388174790F9694F77522CCF16A01DDF@zrc2hxm0.corp.nortel.com>	<18466.880.342656.104598@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD80514C7@mail.acmepacket.com>
In-Reply-To: <E6C2E8958BA59A4FB960963D475F7AC30BD80514C7@mail.acmepacket.com>
X-Scanned-By: MIMEDefang 2.57 on 135.245.2.33
Subject: Re: [Sip] Draft: draft-holmberg-sip-keep-00.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Hadriel Kaplan wrote:
> Then of course there's a proxy-proxy connection, which this draft
> will also enable keepalives for.

For proxy-proxy keepalive'd connections, we have used
the technique in connection-reuse so far (i.e., implicit
assumption that the sender will keep the connection open
if there is an "alias" in the topmost Via.)  Connect-reuse
has been through various WGLCs and is ready to be moved
forward.

Does draft-holmberg-sip-keep need to say anything about that
implicit usage through the "alias" parameter?  In other words,
I can see the look of distress in an implementor's face when
presented with outbound, connect-reuse, and sip-keep!  Some
guidance to provide where to use which strategy should be
detailed in sip-keep.

Comments?

Thanks,

- vijay
-- 
Vijay K. Gurbani, Bell Laboratories, Alcatel-Lucent
2701 Lucent Lane, Rm. 9F-546, Lisle, Illinois 60532 (USA)
Email: vkg@{alcatel-lucent.com,bell-labs.com,acm.org}
WWW:   http://www.alcatel-lucent.com/bell-labs
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Wed May  7 15:21:20 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id AB23328C725;
	Wed,  7 May 2008 15:21:20 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 7A80428C726
	for <sip@core3.amsl.com>; Wed,  7 May 2008 15:21:18 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -1.999
X-Spam-Level: 
X-Spam-Status: No, score=-1.999 tagged_above=-999 required=5
	tests=[BAYES_00=-2.599, J_CHICKENPOX_43=0.6]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id qVNL-FhKkCe0 for <sip@core3.amsl.com>;
	Wed,  7 May 2008 15:21:17 -0700 (PDT)
Received: from mail.iptel.org (smtp.iptel.org [213.192.59.67])
	by core3.amsl.com (Postfix) with ESMTP id 1087228C71B
	for <sip@ietf.org>; Wed,  7 May 2008 15:21:17 -0700 (PDT)
Received: from jiri-kuthans-macbook-pro-6.local (shell.iptel.org
	[213.192.59.74])
	by mail.iptel.org (Postfix) with ESMTP id 63B6A1811185;
	Thu,  8 May 2008 00:21:13 +0200 (CEST)
Message-ID: <48222B8C.6010601@iptel.org>
Date: Thu, 08 May 2008 00:22:04 +0200
From: Jiri Kuthan <jiri@iptel.org>
User-Agent: Thunderbird 2.0.0.14 (Macintosh/20080421)
MIME-Version: 1.0
To: Hadriel Kaplan <HKaplan@acmepacket.com>
References: <18465.17834.732392.527310@taimen.test.fi>	<CA9998CD4A020D418654FCDEF4E707DF046C776E@esealmw113.eemea.ericsson.se>	<18465.32545.345585.820414@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8050F5A@mail.acmepacket.com>
In-Reply-To: <E6C2E8958BA59A4FB960963D475F7AC30BD8050F5A@mail.acmepacket.com>
Cc: "sip@ietf.org" <sip@ietf.org>,
	Christer Holmberg <christer.holmberg@ericsson.com>
Subject: Re: [Sip] Draft: draft-holmberg-sip-keep-00.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Hadriel Kaplan wrote:
> 
>> -----Original Message-----
>> From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On Behalf Of Juha
>> Heinanen
>>
>> Christer Holmberg writes:
>>
>>  > Last, you say that if the UA does not get keep=yes back the UA will
>>  > not send CRLFs. Not receiving keep=yes simply indicates that the edge
>>  > proxy does not support the Outbound keep-alive techniques.
>>
>> this is not true, because the proxy may still be able to send back,
>> e.g., single CRLF, but does not understand your "keep" parameter.  in
>> fact, that is the case with openser proxy once the CRLF patch has been
>> committed.
> 
> Openser will send back a CRLF when it gets a CRLF?  Interesting, but it's proprietary.  There is nothing in SIP to say "send back a CRLF when you get a CRLF".  This draft is proposing a standardized way to do that, for both transport types.


Then we may very well consider making "respond to CRLF with CRLF" a 
proposed standardized way too.
I mean it is simple and works. Which I prefer over negotiation protocols.

-jiri


> 
> 
>>  > What the UA does in that case is a UA implementation issue.
>>
>> that is not what hadriel said.
> 
> See my other email - it was what I meant - not getting the keep=yes means the other end doesn't support this draft.  Caveat emptor at that point.
> 
> -hadriel
> _______________________________________________
> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
> 
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Wed May  7 15:29:46 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 08C4928C748;
	Wed,  7 May 2008 15:29:46 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 5573228C64E
	for <sip@core3.amsl.com>; Wed,  7 May 2008 15:29:40 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.299
X-Spam-Level: 
X-Spam-Status: No, score=-2.299 tagged_above=-999 required=5 tests=[AWL=0.300, 
	BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id QPDEneLMax+9 for <sip@core3.amsl.com>;
	Wed,  7 May 2008 15:29:33 -0700 (PDT)
Received: from mail.iptel.org (smtp.iptel.org [213.192.59.67])
	by core3.amsl.com (Postfix) with ESMTP id 310D928C789
	for <sip@ietf.org>; Wed,  7 May 2008 15:28:52 -0700 (PDT)
Received: from jiri-kuthans-macbook-pro-6.local (shell.iptel.org
	[213.192.59.74])
	by mail.iptel.org (Postfix) with ESMTP id 1D2541811185;
	Thu,  8 May 2008 00:28:49 +0200 (CEST)
Message-ID: <48222D54.7020006@iptel.org>
Date: Thu, 08 May 2008 00:29:40 +0200
From: Jiri Kuthan <jiri@iptel.org>
User-Agent: Thunderbird 2.0.0.14 (Macintosh/20080421)
MIME-Version: 1.0
To: Hadriel Kaplan <HKaplan@acmepacket.com>
References: <18465.17834.732392.527310@taimen.test.fi>	<CA9998CD4A020D418654FCDEF4E707DF046C776E@esealmw113.eemea.ericsson.se>	<18465.32545.345585.820414@taimen.test.fi>	<E6C2E8958BA59A4FB960963D475F7AC30BD8050F5A@mail.acmepacket.com>	<18465.55659.177188.471351@taimen.test.fi>	<1ECE0EB50388174790F9694F77522CCF16A01DDF@zrc2hxm0.corp.nortel.com>	<18466.880.342656.104598@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD80514C7@mail.acmepacket.com>
In-Reply-To: <E6C2E8958BA59A4FB960963D475F7AC30BD80514C7@mail.acmepacket.com>
Cc: "sip@ietf.org" <sip@ietf.org>, Francois Audet <audet@nortel.com>,
	Christer Holmberg <christer.holmberg@ericsson.com>
Subject: Re: [Sip] Draft: draft-holmberg-sip-keep-00.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Hadriel Kaplan wrote:
> 
>> -----Original Message-----
>> From: Juha Heinanen [mailto:jh@tutpro.com]
>>
>> openser takes care of udp UAs behind NATs, so to openser UAs stun
>> provides no added value.  it just complicates the UA implementation.
> 
> But there is a reason.  As the proxy, you can't currently know whether a UA will send CRLF or not automatically.  The proxy can send stuff down that TCP connection to try to keep it open from the outside, but that has failure issues, not the least of which is the UA is the only one that can re-open the TCP connection and so really the UA has to be smart enough to (1) detect the failure, and (2) trigger itself to re-open it if it failed.
> 
> The most common way I know of to do that today is by making the UA send Registers frequently, because that accomplishes both (1) and (2), in all cases and on all transports. 

Actually TCP keep-alive is even simpler, even though, alas, just 
TCP-specific.
There are some rumours though that some NATs drop TCP keep-alives, even 
though I have not witnessed that yet.

It seems to me that many these things are actually best-placed in behave 
-- I mean why shell we sip-special-case, how client-servers with 
persistent relationships get over NATs.



>  A double-CRLF or STUN is theoretically more efficient to process than 
a Register, so in theory it should scale better.  So what the proxy 
needs is a way to know that the UA will do one of those keepalive 
methods, to do (1) and (2), and can avoid making the UA send Registers 
as frequently.  Ergo, this keep param is good for a proxy.
>


I think that's a bit network-centric viewpoint. I'm comfortable with 
leaving the NAT-traversal responsibility on the client. (which kind of 
gets to the root of the problem, which is NATs are client-server 
centric). Then some things (such as server's decision how to keep the 
connections alive) don't have to concern us.

-jiri

> Obviously the proxy could instead guess, by seeing a CRLF from a UA and thus backing off the Register frequency, but that assumes the UA will send the CRLF even though it's doing frequent Registers (which not all do).  So that's a chicken/egg problem we can avoid with this simple param.
> 
> Then of course there's a proxy-proxy connection, which this draft will also enable keepalives for.
> 
> -hadriel
> _______________________________________________
> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
> 
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Wed May  7 16:15:29 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id A52153A6ADD;
	Wed,  7 May 2008 16:15:29 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 8E7AD3A63D3
	for <sip@core3.amsl.com>; Wed,  7 May 2008 16:15:28 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -6.539
X-Spam-Level: 
X-Spam-Status: No, score=-6.539 tagged_above=-999 required=5 tests=[AWL=0.060, 
	BAYES_00=-2.599, RCVD_IN_DNSWL_MED=-4]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id kbfuYtjb1E6E for <sip@core3.amsl.com>;
	Wed,  7 May 2008 16:15:27 -0700 (PDT)
Received: from zrtps0kp.nortel.com (zrtps0kp.nortel.com [47.140.192.56])
	by core3.amsl.com (Postfix) with ESMTP id 30C683A6ADD
	for <sip@ietf.org>; Wed,  7 May 2008 16:15:26 -0700 (PDT)
Received: from zrc2hxm0.corp.nortel.com (zrc2hxm0.corp.nortel.com
	[47.103.123.71])
	by zrtps0kp.nortel.com (Switch-2.2.6/Switch-2.2.0) with ESMTP id
	m47NFKX28573; Wed, 7 May 2008 23:15:20 GMT
X-MIMEOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Wed, 7 May 2008 18:15:13 -0500
Message-ID: <1ECE0EB50388174790F9694F77522CCF16A0247E@zrc2hxm0.corp.nortel.com>
In-Reply-To: <48222B8C.6010601@iptel.org>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] Draft: draft-holmberg-sip-keep-00.txt
Thread-index: AciwkLkOts5A+DFHRzCgtniekQ/v3QABzdqA
References: <18465.17834.732392.527310@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C776E@esealmw113.eemea.ericsson.se>
	<18465.32545.345585.820414@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8050F5A@mail.acmepacket.com>
	<48222B8C.6010601@iptel.org>
From: "Francois Audet" <audet@nortel.com>
To: "Jiri Kuthan" <jiri@iptel.org>, "Hadriel Kaplan" <HKaplan@acmepacket.com>
Cc: sip@ietf.org, Christer Holmberg <christer.holmberg@ericsson.com>
Subject: Re: [Sip] Draft: draft-holmberg-sip-keep-00.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

 
> Then we may very well consider making "respond to CRLF with 
> CRLF" a proposed standardized way too.
> I mean it is simple and works. Which I prefer over 
> negotiation protocols.

So, basically, you are proposing that for connection-oriented transport,
we use "respond to double-CRLF with single-CRLF" instead of Christer's draft.

I assume that would mean that for UDP transport, we'd still be using
Christer's draft.

Is this your proposal?
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Wed May  7 16:24:19 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 6C7793A6BFB;
	Wed,  7 May 2008 16:24:19 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id BA6783A6BFB
	for <sip@core3.amsl.com>; Wed,  7 May 2008 16:24:17 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.524
X-Spam-Level: 
X-Spam-Status: No, score=-2.524 tagged_above=-999 required=5 tests=[AWL=0.075, 
	BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 9X1jExuIDnq8 for <sip@core3.amsl.com>;
	Wed,  7 May 2008 16:24:16 -0700 (PDT)
Received: from etmail.acmepacket.com (etmail.acmepacket.com [216.41.24.6])
	by core3.amsl.com (Postfix) with ESMTP id 553233A6ADD
	for <sip@ietf.org>; Wed,  7 May 2008 16:24:16 -0700 (PDT)
Received: from mail.acmepacket.com (216.41.24.7) by etmail.acmepacket.com
	(216.41.24.6) with Microsoft SMTP Server (TLS) id 8.1.263.0;
	Wed, 7 May 2008 19:23:37 -0400
Received: from mail.acmepacket.com ([216.41.24.7]) by mail.acmepacket.com
	([216.41.24.7]) with mapi; Wed, 7 May 2008 19:23:37 -0400
From: Hadriel Kaplan <HKaplan@acmepacket.com>
To: "Vijay K. Gurbani" <vkg@alcatel-lucent.com>, "sip@ietf.org" <sip@ietf.org>
Date: Wed, 7 May 2008 19:23:25 -0400
Thread-Topic: [Sip] Draft: draft-holmberg-sip-keep-00.txt
Thread-Index: AciwhbaR+XebCaYDQyG1uEp3QU55FAAAe9lw
Message-ID: <E6C2E8958BA59A4FB960963D475F7AC30BD8051664@mail.acmepacket.com>
References: <18465.17834.732392.527310@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C776E@esealmw113.eemea.ericsson.se>
	<18465.32545.345585.820414@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8050F5A@mail.acmepacket.com>
	<18465.55659.177188.471351@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A01DDF@zrc2hxm0.corp.nortel.com>
	<18466.880.342656.104598@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD80514C7@mail.acmepacket.com>
	<482218EC.30008@alcatel-lucent.com>
In-Reply-To: <482218EC.30008@alcatel-lucent.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
acceptlanguage: en-US
MIME-Version: 1.0
Subject: Re: [Sip] Draft: draft-holmberg-sip-keep-00.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


I agree it should give such guidance.

I believe your connect-reuse draft specifies re-using the TLS connection for upstream requests, but says nothing about a mechanism used to keep it open, right?  So I was assuming this draft-keep would be orthogonal and complimentary to connect-reuse: if the proxy wants to use one of the keepalive mechanisms, it could indicate such with keep; if it wanted to allow connection reuse, it would do such with alias; and it could do both if it wanted both.  One does not imply the other, does it?

-hadriel

> -----Original Message-----
> From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On Behalf Of
> Vijay K. Gurbani
> Sent: Wednesday, May 07, 2008 5:03 PM
> To: sip@ietf.org
> Subject: Re: [Sip] Draft: draft-holmberg-sip-keep-00.txt
>
> Hadriel Kaplan wrote:
> > Then of course there's a proxy-proxy connection, which this draft
> > will also enable keepalives for.
>
> For proxy-proxy keepalive'd connections, we have used
> the technique in connection-reuse so far (i.e., implicit
> assumption that the sender will keep the connection open
> if there is an "alias" in the topmost Via.)  Connect-reuse
> has been through various WGLCs and is ready to be moved
> forward.
>
> Does draft-holmberg-sip-keep need to say anything about that
> implicit usage through the "alias" parameter?  In other words,
> I can see the look of distress in an implementor's face when
> presented with outbound, connect-reuse, and sip-keep!  Some
> guidance to provide where to use which strategy should be
> detailed in sip-keep.
>
> Comments?
>
> Thanks,
>
> - vijay
> --
> Vijay K. Gurbani, Bell Laboratories, Alcatel-Lucent
> 2701 Lucent Lane, Rm. 9F-546, Lisle, Illinois 60532 (USA)
> Email: vkg@{alcatel-lucent.com,bell-labs.com,acm.org}
> WWW:   http://www.alcatel-lucent.com/bell-labs
> _______________________________________________
> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Wed May  7 16:28:36 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id A7BBB3A68F8;
	Wed,  7 May 2008 16:28:36 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 3477F3A63D3
	for <sip@core3.amsl.com>; Wed,  7 May 2008 16:28:34 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.539
X-Spam-Level: 
X-Spam-Status: No, score=-2.539 tagged_above=-999 required=5 tests=[AWL=0.060, 
	BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id DOGb8O1y6weQ for <sip@core3.amsl.com>;
	Wed,  7 May 2008 16:28:33 -0700 (PDT)
Received: from etmail.acmepacket.com (etmail.acmepacket.com [216.41.24.6])
	by core3.amsl.com (Postfix) with ESMTP id 561753A69AD
	for <sip@ietf.org>; Wed,  7 May 2008 16:28:33 -0700 (PDT)
Received: from mail.acmepacket.com (216.41.24.7) by etmail.acmepacket.com
	(216.41.24.6) with Microsoft SMTP Server (TLS) id 8.1.263.0;
	Wed, 7 May 2008 19:27:55 -0400
Received: from mail.acmepacket.com ([216.41.24.7]) by mail.acmepacket.com
	([216.41.24.7]) with mapi; Wed, 7 May 2008 19:27:55 -0400
From: Hadriel Kaplan <HKaplan@acmepacket.com>
To: Jiri Kuthan <jiri@iptel.org>
Date: Wed, 7 May 2008 19:27:42 -0400
Thread-Topic: [Sip] Draft: draft-holmberg-sip-keep-00.txt
Thread-Index: AciwkaaQ+C9m/7nbToWsLlWtSySXQwAB8elQ
Message-ID: <E6C2E8958BA59A4FB960963D475F7AC30BD8051669@mail.acmepacket.com>
References: <18465.17834.732392.527310@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C776E@esealmw113.eemea.ericsson.se>
	<18465.32545.345585.820414@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8050F5A@mail.acmepacket.com>
	<18465.55659.177188.471351@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A01DDF@zrc2hxm0.corp.nortel.com>
	<18466.880.342656.104598@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD80514C7@mail.acmepacket.com>
	<48222D54.7020006@iptel.org>
In-Reply-To: <48222D54.7020006@iptel.org>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
acceptlanguage: en-US
MIME-Version: 1.0
Cc: "sip@ietf.org" <sip@ietf.org>, Francois Audet <audet@nortel.com>,
	Christer Holmberg <christer.holmberg@ericsson.com>
Subject: Re: [Sip] Draft: draft-holmberg-sip-keep-00.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org



> -----Original Message-----
> From: Jiri Kuthan [mailto:jiri@iptel.org]
>
> Actually TCP keep-alive is even simpler, even though, alas, just
> TCP-specific.
> There are some rumours though that some NATs drop TCP keep-alives, even
> though I have not witnessed that yet.

Obviously I'm not a client guy, but I've been told not all clients have the ability to set their sockets to do that, depending on the OS.


> I think that's a bit network-centric viewpoint. I'm comfortable with
> leaving the NAT-traversal responsibility on the client. (which kind of
> gets to the root of the problem, which is NATs are client-server
> centric). Then some things (such as server's decision how to keep the
> connections alive) don't have to concern us.

Ironically I'm also trying to let the client do it - by having it tell the proxy "I'm smart enough to keep this connection alive by myself, if you're smart enough to use these mechanisms".

-hadriel
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Wed May  7 17:19:01 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 258A33A6976;
	Wed,  7 May 2008 17:19:01 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 73ED03A698C
	for <sip@core3.amsl.com>; Wed,  7 May 2008 17:19:00 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.599
X-Spam-Level: 
X-Spam-Status: No, score=-2.599 tagged_above=-999 required=5 tests=[AWL=0.000, 
	BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id XgEEex5MHnU2 for <sip@core3.amsl.com>;
	Wed,  7 May 2008 17:18:59 -0700 (PDT)
Received: from nylon.softarmor.com (nylon.softarmor.com [66.135.38.164])
	by core3.amsl.com (Postfix) with ESMTP id F15BF3A6976
	for <sip@ietf.org>; Wed,  7 May 2008 17:18:58 -0700 (PDT)
Received: from [192.168.2.103] (cpe-76-185-142-113.tx.res.rr.com
	[76.185.142.113]) (authenticated bits=0)
	by nylon.softarmor.com (8.13.8/8.13.8/Debian-3) with ESMTP id
	m480IreN002184
	(version=TLSv1/SSLv3 cipher=AES128-SHA bits=128 verify=NOT)
	for <sip@ietf.org>; Wed, 7 May 2008 19:18:55 -0500
Message-Id: <B36256CA-229F-49C0-BAE6-8498BADAC53C@softarmor.com>
From: Dean Willis <dean.willis@softarmor.com>
To: IETF SIP List <sip@ietf.org>
Mime-Version: 1.0 (Apple Message framework v919.2)
Date: Wed, 7 May 2008 19:18:48 -0500
References: <C44741A0.1B78A%eburger@sipforum.org>
X-Mailer: Apple Mail (2.919.2)
Subject: [Sip] Fwd: SIP Connect 1.1
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

I thought you folks might be interested in this:


From: Eric Burger <eburger@sipforum.org>
Date: May 7, 2008 10:23:12 AM CDT
Subject: SIP Connect 1.1

The SIP Forum has chartered a work item to complete and refine the SIP
Connect 1.0 specification.


1. We are committed to a SIPconnect 1.1 Specification and we hereby  
reissue
our calls for contributions to that end.

The concept of SIP trunking has received a great deal of industry  
interest
over the last several months and many vendors and service providers are
ramping up their efforts. Many of them have come to see the SIP Forum
SIPconnect and SIPconnect Compliant effort as a valid forum to help  
resolve
many of the ambiguities existent in the IETF SIP specifications and  
create a
unified "profile" that both PBX vendors and service providers can rally
around.

The value of this work is self-evident. IP PBX vendors do not want to  
have
to go through separate certification processes to connect with each and
every service provider. More importantly, enterprises want to know  
that the
products and services they buy will work together.

2. Microsoft has Joined the SIP Forum and has committed to actively
contributing to the SIPConnect work.

Notably, Microsoft has formally joined the SIP Forum as a Full Member
company, and has released, for general distribution, their view of how
SIPconnect could be constructed. This is based on their own extensive
experience with their OCS product and extensive discussions with  
Enterprises
and Service Providers.

The SIP Forum has created a depository of SIPconnect 1.1 Scoping  
Documents,
which currently includes the Microsoft document mentioned above, and  
will be
the location of other member contributions as they are made available.

The URL for this material is:

http://www.sipforum.org/component/option,com_docman/task,cat_view/gid,45/Ite
mid,75/

All members of this list are encouraged to make comments on the  
Microsoft
document. The first order of business is to bound the scope of what
SIPconnect 1.1 should cover.

3. CableLabs has also Joined the SIPForum as a full member and  
CableLabs and
its member companies are committed to contributing to the SipConnect 1.1
effort

As many of you probably already know, CableLabs is the joint industry
standards body of the North American Cable operators.

More information about CableLabs can be found here:

http://www.cablelabs.com/

It should be no surprise to anyone that Cable Operators want to offer
Enterprise-oriented SIP trunking services within their service  
boundaries.

CableLabs and its member companies believe that the SIP Forum SIPconnect
process is the best way forward to create a comprehensive industry-wide
specification for Enterprise IP-PBX to MSO interconnection.

CableLabs has a extensive PacketCable internal working group devoted to
delivering an Enterprise PBX to MSO specification to CableLabs partners.

They have agreed to coordinate their efforts with the SIP Forum  
SIPconnect
effort as well as make significant contributions to that end.

4. Broadsoft is also contributing extensive documentation Related to  
their
SIP Trunking experience

Broadsoft, a current full member of the SIP Forum, has also agreed to  
make
available their extensive documentation of experience with SIP  
trunking and
the current implementation of SIPconnect 1.0 as well.

5. World-Class Technical Support

The SIP Forum Technical Working Group Chairs are in the process of
recruiting a well-known SIP technical expert to actually edit the  
SIPconnect
1.1 specification.

The Time to Start the Work is Now!

Members of this list are encouraged to make comments and propose
contributions to begin this important effort.

The SIP Forum document depository for relevant SIPconnect 1.1  
contributions
is located here:

http://www.sipforum.org/component/option,com_docman/task,cat_view/gid,45/Ite
mid,75/





_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Wed May  7 21:55:14 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id AE49D3A6D1D;
	Wed,  7 May 2008 21:55:12 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 5C2E728C7F0
	for <sip@core3.amsl.com>; Wed,  7 May 2008 21:54:57 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.599
X-Spam-Level: 
X-Spam-Status: No, score=-2.599 tagged_above=-999 required=5
	tests=[BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id eK4rXlyC63iK for <sip@core3.amsl.com>;
	Wed,  7 May 2008 21:54:56 -0700 (PDT)
Received: from ihemail4.lucent.com (ihemail4.lucent.com [135.245.0.39])
	by core3.amsl.com (Postfix) with ESMTP id 1EF063A6D1D
	for <sip@ietf.org>; Wed,  7 May 2008 21:52:22 -0700 (PDT)
Received: from umail.lucent.com (h135-3-40-61.lucent.com [135.3.40.61])
	by ihemail4.lucent.com (8.13.8/IER-o) with ESMTP id m484pwtV015254
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO);
	Wed, 7 May 2008 23:51:58 -0500 (CDT)
Received: from [135.244.32.243] (vkg.lra.lucent.com [135.244.32.243])
	by umail.lucent.com (8.13.8/TPES) with ESMTP id m484puJq008730;
	Wed, 7 May 2008 23:51:56 -0500 (CDT)
Message-ID: <482286EA.4050301@alcatel-lucent.com>
Date: Wed, 07 May 2008 23:51:54 -0500
From: "Vijay K. Gurbani" <vkg@alcatel-lucent.com>
Organization: Bell Labs Security Technology Research Group
User-Agent: Thunderbird 2.0.0.6 (Windows/20070728)
MIME-Version: 1.0
To: Hadriel Kaplan <HKaplan@acmepacket.com>
References: <18465.17834.732392.527310@taimen.test.fi>	<CA9998CD4A020D418654FCDEF4E707DF046C776E@esealmw113.eemea.ericsson.se>	<18465.32545.345585.820414@taimen.test.fi>	<E6C2E8958BA59A4FB960963D475F7AC30BD8050F5A@mail.acmepacket.com>	<18465.55659.177188.471351@taimen.test.fi>	<1ECE0EB50388174790F9694F77522CCF16A01DDF@zrc2hxm0.corp.nortel.com>	<18466.880.342656.104598@taimen.test.fi>	<E6C2E8958BA59A4FB960963D475F7AC30BD80514C7@mail.acmepacket.com>
	<482218EC.30008@alcatel-lucent.com>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8051664@mail.acmepacket.com>
In-Reply-To: <E6C2E8958BA59A4FB960963D475F7AC30BD8051664@mail.acmepacket.com>
X-Scanned-By: MIMEDefang 2.57 on 135.245.2.39
Cc: "sip@ietf.org" <sip@ietf.org>,
	"Christer Holmberg \(JO/LMF\)" <christer.holmberg@ericsson.com>
Subject: Re: [Sip] Draft: draft-holmberg-sip-keep-00.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Hadriel Kaplan wrote:
> I agree it should give such guidance.
> 
> I believe your connect-reuse draft specifies re-using the TLS
> connection for upstream requests, but says nothing about a mechanism
> used to keep it open, right?  So I was assuming this draft-keep would
> be orthogonal and complimentary to connect-reuse: if the proxy wants
> to use one of the keepalive mechanisms, it could indicate such with
> keep; if it wanted to allow connection reuse, it would do such with
> alias; and it could do both if it wanted both.  

Hadriel: Great; thanks.  The above was my expectation as well
on how it should work.  You are correct in that connect-reuse
does not talk about any mechanism to keep the connection
"hot", so these drafts are orthogonal and complimentary.

Christer: As you move this forward, I can draft some text on
a guidance paragraph or so and send it to you.

Thanks,

- vijay
-- 
Vijay K. Gurbani, Bell Laboratories, Alcatel-Lucent
2701 Lucent Lane, Rm. 9F-546, Lisle, Illinois 60532 (USA)
Email: vkg@{alcatel-lucent.com,bell-labs.com,acm.org}
WWW:   http://www.alcatel-lucent.com/bell-labs
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Wed May  7 22:19:29 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id A3ADC3A6D65;
	Wed,  7 May 2008 22:19:29 -0700 (PDT)
X-Original-To: sip@ietf.org
Delivered-To: sip@core3.amsl.com
Received: by core3.amsl.com (Postfix, from userid 65534)
	id 8CA8028C5B4; Wed,  7 May 2008 22:19:27 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Old-Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 0613728C803
	for <sip@core3.amsl.com>; Wed,  7 May 2008 21:19:44 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: 0.706
X-Spam-Level: 
X-Spam-Status: No, score=0.706 tagged_above=-999 required=5
	tests=[BAYES_50=0.001, HELO_EQ_AU=0.377, HOST_EQ_AU=0.327,
	HTML_MESSAGE=0.001]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 7heuGEkJduu9 for <sip@core3.amsl.com>;
	Wed,  7 May 2008 21:19:42 -0700 (PDT)
Received: from smtp.syd.people.net.au (smtp.syd.people.net.au [218.214.225.98])
	by core3.amsl.com (Postfix) with SMTP id 500C728C7DD
	for <Sip@ietf.org>; Wed,  7 May 2008 21:16:44 -0700 (PDT)
Received: (qmail 27948 invoked from network); 8 May 2008 04:16:48 -0000
Received: from unknown (HELO bdm) (218.215.59.134)
	by smtp.syd.people.net.au with SMTP; 8 May 2008 04:16:48 -0000
From: "Nigel Anderson" <nigel@northsupply.com.au>
To: <Sip@ietf.org>
Date: Thu, 8 May 2008 14:16:01 +1000
Message-ID: <001e01c8b0c2$39aa1150$acfe33f0$@com.au>
MIME-Version: 1.0
X-Mailer: Microsoft Office Outlook 12.0
Thread-Index: Aciwwjdr8nwef7WeR7G1LOBRq275/Q==
Content-Language: en-au
x-cr-hashedpuzzle: rlQ= Aw7m BCUk BmO9 Ed60 E2qT Ffyj FgQp F/fX GDv/ HQ7H HkVu
	IQf2 IqaY JYZt J8YD; 1; cwBpAHAAQABpAGUAdABmAC4AbwByAGcA;
	Sosha1_v1; 7; {F8E36C40-04D3-4464-BE1E-20D495B235DC};
	bgBpAGcAZQBsAEAAbgBvAHIAdABoAHMAdQBwAHAAbAB5AC4AYwBvAG0ALgBhAHUA;
	Thu, 08 May 2008 04:15:58 GMT;
	dABoAGEAbgBrAHMAIABhAG4AZAAgAGgAZQBsAGwAbwAhAA==
x-cr-puzzleid: {F8E36C40-04D3-4464-BE1E-20D495B235DC}
X-TMDA-Confirmed: Wed, 07 May 2008 22:19:27 -0700
Subject: [Sip] thanks and hello!
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: multipart/mixed; boundary="===============1677870960=="
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

This is a multipart message in MIME format.

--===============1677870960==
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_001F_01C8B116.0B562150"
Content-Language: en-au

This is a multipart message in MIME format.

------=_NextPart_000_001F_01C8B116.0B562150
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit

Look forward to adding some input, learning and helping where I can.

 

The ensuing reason behind my research into SIP is the subject of Music On
Hold [MOH].

 

I am involved in a business that needs to understand how SIP & MOH
integrate, and how  things will evolve based on the technology SIP offers.

 

Regards,

 

  Nigel Anderson

 


------=_NextPart_000_001F_01C8B116.0B562150
Content-Type: text/html;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

<html xmlns:v=3D"urn:schemas-microsoft-com:vml" =
xmlns:o=3D"urn:schemas-microsoft-com:office:office" =
xmlns:w=3D"urn:schemas-microsoft-com:office:word" =
xmlns:x=3D"urn:schemas-microsoft-com:office:excel" =
xmlns:p=3D"urn:schemas-microsoft-com:office:powerpoint" =
xmlns:a=3D"urn:schemas-microsoft-com:office:access" =
xmlns:dt=3D"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882" =
xmlns:s=3D"uuid:BDC6E3F0-6DA3-11d1-A2A3-00AA00C14882" =
xmlns:rs=3D"urn:schemas-microsoft-com:rowset" xmlns:z=3D"#RowsetSchema" =
xmlns:b=3D"urn:schemas-microsoft-com:office:publisher" =
xmlns:ss=3D"urn:schemas-microsoft-com:office:spreadsheet" =
xmlns:c=3D"urn:schemas-microsoft-com:office:component:spreadsheet" =
xmlns:oa=3D"urn:schemas-microsoft-com:office:activation" =
xmlns:html=3D"http://www.w3.org/TR/REC-html40" =
xmlns:q=3D"http://schemas.xmlsoap.org/soap/envelope/" xmlns:D=3D"DAV:" =
xmlns:x2=3D"http://schemas.microsoft.com/office/excel/2003/xml" =
xmlns:ois=3D"http://schemas.microsoft.com/sharepoint/soap/ois/" =
xmlns:dir=3D"http://schemas.microsoft.com/sharepoint/soap/directory/" =
xmlns:ds=3D"http://www.w3.org/2000/09/xmldsig#" =
xmlns:dsp=3D"http://schemas.microsoft.com/sharepoint/dsp" =
xmlns:udc=3D"http://schemas.microsoft.com/data/udc" =
xmlns:xsd=3D"http://www.w3.org/2001/XMLSchema" =
xmlns:sub=3D"http://schemas.microsoft.com/sharepoint/soap/2002/1/alerts/"=
 xmlns:ec=3D"http://www.w3.org/2001/04/xmlenc#" =
xmlns:sp=3D"http://schemas.microsoft.com/sharepoint/" =
xmlns:sps=3D"http://schemas.microsoft.com/sharepoint/soap/" =
xmlns:xsi=3D"http://www.w3.org/2001/XMLSchema-instance" =
xmlns:udcxf=3D"http://schemas.microsoft.com/data/udc/xmlfile" =
xmlns:wf=3D"http://schemas.microsoft.com/sharepoint/soap/workflow/" =
xmlns:mver=3D"http://schemas.openxmlformats.org/markup-compatibility/2006=
" xmlns:m=3D"http://schemas.microsoft.com/office/2004/12/omml" =
xmlns:mrels=3D"http://schemas.openxmlformats.org/package/2006/relationshi=
ps" =
xmlns:ex12t=3D"http://schemas.microsoft.com/exchange/services/2006/types"=
 =
xmlns:ex12m=3D"http://schemas.microsoft.com/exchange/services/2006/messag=
es" xmlns:Z=3D"urn:schemas-microsoft-com:" =
xmlns=3D"http://www.w3.org/TR/REC-html40">

<head>
<meta http-equiv=3DContent-Type content=3D"text/html; =
charset=3Dus-ascii">
<meta name=3DGenerator content=3D"Microsoft Word 12 (filtered medium)">
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:Wingdings;
	panose-1:5 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:Wingdings;
	panose-1:5 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:Calibri;
	panose-1:2 15 5 2 2 2 4 3 2 4;}
@font-face
	{font-family:Tahoma;
	panose-1:2 11 6 4 3 5 4 4 2 4;}
@font-face
	{font-family:Verdana;
	panose-1:2 11 6 4 3 5 4 4 2 4;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin:0cm;
	margin-bottom:.0001pt;
	font-size:11.0pt;
	font-family:"Calibri","sans-serif";}
a:link, span.MsoHyperlink
	{mso-style-priority:99;
	color:blue;
	text-decoration:underline;}
a:visited, span.MsoHyperlinkFollowed
	{mso-style-priority:99;
	color:purple;
	text-decoration:underline;}
p.MsoAcetate, li.MsoAcetate, div.MsoAcetate
	{mso-style-priority:99;
	mso-style-link:"Balloon Text Char";
	margin:0cm;
	margin-bottom:.0001pt;
	font-size:8.0pt;
	font-family:"Tahoma","sans-serif";}
p.MsoListParagraph, li.MsoListParagraph, div.MsoListParagraph
	{mso-style-priority:34;
	margin-top:0cm;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:36.0pt;
	margin-bottom:.0001pt;
	font-size:11.0pt;
	font-family:"Calibri","sans-serif";}
span.EmailStyle17
	{mso-style-type:personal-compose;
	font-family:"Calibri","sans-serif";
	color:windowtext;}
span.BalloonTextChar
	{mso-style-name:"Balloon Text Char";
	mso-style-priority:99;
	mso-style-link:"Balloon Text";
	font-family:"Tahoma","sans-serif";}
.MsoChpDefault
	{mso-style-type:export-only;}
@page Section1
	{size:612.0pt 792.0pt;
	margin:72.0pt 72.0pt 72.0pt 72.0pt;}
div.Section1
	{page:Section1;}
 /* List Definitions */
 @list l0
	{mso-list-id:1330864296;
	mso-list-type:hybrid;
	mso-list-template-ids:-1316560204 -54997036 201916419 201916421 =
201916417 201916419 201916421 201916417 201916419 201916421;}
@list l0:level1
	{mso-level-number-format:bullet;
	mso-level-text:-;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	text-indent:-18.0pt;
	font-family:"Calibri","sans-serif";
	mso-fareast-font-family:Calibri;
	mso-bidi-font-family:"Times New Roman";}
@list l1
	{mso-list-id:1597905538;
	mso-list-type:hybrid;
	mso-list-template-ids:84196358 362477430 201916419 201916421 201916417 =
201916419 201916421 201916417 201916419 201916421;}
@list l1:level1
	{mso-level-start-at:0;
	mso-level-number-format:bullet;
	mso-level-text:-;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	text-indent:-18.0pt;
	font-family:"Calibri","sans-serif";
	mso-fareast-font-family:Calibri;
	mso-bidi-font-family:"Times New Roman";}
@list l2
	{mso-list-id:1625455958;
	mso-list-type:hybrid;
	mso-list-template-ids:-908530642 201916439 201916441 201916443 =
201916431 201916441 201916443 201916431 201916441 201916443;}
@list l2:level1
	{mso-level-number-format:alpha-lower;
	mso-level-text:"%1\)";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	text-indent:-18.0pt;}
ol
	{margin-bottom:0cm;}
ul
	{margin-bottom:0cm;}
-->
</style>
<!--[if gte mso 9]><xml>
 <o:shapedefaults v:ext=3D"edit" spidmax=3D"1026" />
</xml><![endif]--><!--[if gte mso 9]><xml>
 <o:shapelayout v:ext=3D"edit">
  <o:idmap v:ext=3D"edit" data=3D"1" />
 </o:shapelayout></xml><![endif]-->
</head>

<body lang=3DEN-AU link=3Dblue vlink=3Dpurple>

<div class=3DSection1>

<p class=3DMsoNormal>Look forward to adding some input, learning and =
helping where
I can.<o:p></o:p></p>

<p class=3DMsoNormal><o:p>&nbsp;</o:p></p>

<p class=3DMsoNormal>The ensuing reason behind my research into SIP is =
the subject
of Music On Hold [MOH].<o:p></o:p></p>

<p class=3DMsoNormal><o:p>&nbsp;</o:p></p>

<p class=3DMsoNormal>I am involved in a business that needs to =
understand how SIP
&amp; MOH integrate, and how&nbsp; things will evolve based on the =
technology
SIP offers.<o:p></o:p></p>

<p class=3DMsoNormal><o:p>&nbsp;</o:p></p>

<p class=3DMsoNormal>Regards,<o:p></o:p></p>

<p class=3DMsoNormal><o:p>&nbsp;</o:p></p>

<p class=3DMsoNormal><b><span =
style=3D'font-size:9.0pt;font-family:"Verdana","sans-serif"'>&nbsp;
Nigel Anderson<o:p></o:p></span></b></p>

<p class=3DMsoNormal><o:p>&nbsp;</o:p></p>

</div>

</body>

</html>

------=_NextPart_000_001F_01C8B116.0B562150--


--===============1677870960==
Content-Type: text/plain; charset="us-ascii"
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip
--===============1677870960==--



From sip-bounces@ietf.org  Wed May  7 23:24:26 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id F1F4828C23C;
	Wed,  7 May 2008 23:24:25 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id C82013A720B
	for <sip@core3.amsl.com>; Wed,  7 May 2008 23:24:23 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.479
X-Spam-Level: 
X-Spam-Status: No, score=-2.479 tagged_above=-999 required=5 tests=[AWL=0.120, 
	BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id fL-Ul9eCtVsh for <sip@core3.amsl.com>;
	Wed,  7 May 2008 23:24:22 -0700 (PDT)
Received: from tutpro.com (sip.tutpro.com [192.98.100.10])
	by core3.amsl.com (Postfix) with ESMTP id 62B773A720C
	for <sip@ietf.org>; Wed,  7 May 2008 23:24:22 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by tutpro.com (Postfix) with ESMTP id BC9CB1EC25B;
	Thu,  8 May 2008 09:24:18 +0300 (EEST)
Received: from tutpro.com ([127.0.0.1])
	by localhost (tutpro.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 76gejQrQNe1D; Thu,  8 May 2008 09:24:11 +0300 (EEST)
Received: from taimen (h133186.gprs.dnafinland.fi [87.93.133.186])
	by tutpro.com (Postfix) with ESMTP;
	Thu,  8 May 2008 09:24:11 +0300 (EEST)
Received: by taimen (Postfix, from userid 1000)
	id 655AEAC070; Thu,  8 May 2008 09:24:03 +0300 (EEST)
MIME-Version: 1.0
Message-ID: <18466.40067.384808.539488@taimen.test.fi>
Date: Thu, 8 May 2008 09:24:03 +0300
To: Hadriel Kaplan <HKaplan@acmepacket.com>
In-Reply-To: <E6C2E8958BA59A4FB960963D475F7AC30BD80514C7@mail.acmepacket.com>
References: <18465.17834.732392.527310@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C776E@esealmw113.eemea.ericsson.se>
	<18465.32545.345585.820414@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8050F5A@mail.acmepacket.com>
	<18465.55659.177188.471351@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A01DDF@zrc2hxm0.corp.nortel.com>
	<18466.880.342656.104598@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD80514C7@mail.acmepacket.com>
X-Mailer: VM 7.19 under Emacs 21.4.1
From: jh@tutpro.com (Juha Heinanen)
Cc: "sip@ietf.org" <sip@ietf.org>, Francois Audet <audet@nortel.com>,
	Christer Holmberg <christer.holmberg@ericsson.com>
Subject: Re: [Sip] Draft: draft-holmberg-sip-keep-00.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Hadriel Kaplan writes:

 > > openser takes care of udp UAs behind NATs, so to openser UAs stun
 > > provides no added value.  it just complicates the UA implementation.
 > 
 > But there is a reason.  As the proxy, you can't currently know
 > whether a UA will send CRLF or not automatically.  The proxy can send
 > stuff down that TCP connection to try to keep it open from the
 > outside, but that has failure issues, not the least of which is the
 > UA is the only one that can re-open the TCP connection and so really
 > the UA has to be smart enough to (1) detect the failure, and (2)
 > trigger itself to re-open it if it failed. 

you didn't read carefully enough what i wrote in above.  i wrote "udp
UAs", not "tcp UAs".  for tcp UAs, as you point out, openser cannot do
anything to solve their nat problem.  they have to do it themselves by
using CRLF keepalives, which they can start sending without permission
from the proxy.

 > The most common way I know of to do that today is by making the UA
 > send Registers frequently, because that accomplishes both (1) and
 > (2), in all cases and on all transports.  A double-CRLF or STUN is
 > theoretically more efficient to process than a Register, so in theory
 > it should scale better.  So what the proxy needs is a way to know
 > that the UA will do one of those keepalive methods, to do (1) and
 > (2), and can avoid making the UA send Registers as frequently.  Ergo,
 > this keep param is good for a proxy.

as i have told, udp UAs are handled by the proxy without any kind of
keepalive or outbound support in the UAs.  sending registers at 20 sec
frequency is not a possible solution.

if UA is behind tcp, it can keep its nat hole open by sending CRLFs with
or without getting CRLFs back from the proxy.  if a UA is not able to
send CRLFs, the best solution is to not use such UAs.  if that is not
acceptable, then the UA may choose to send registers at such a frequency
that is enough to keep UAs tcp hole open, e.g., at 20 minutes.

in either case, the proxy does not need to know anything about UAs
keepalive capability and can completely ignore the keep draft.

 > Obviously the proxy could instead guess, by seeing a CRLF from a UA
 > and thus backing off the Register frequency, but that assumes the UA
 > will send the CRLF even though it's doing frequent Registers (which
 > not all do).  So that's a chicken/egg problem we can avoid with this
 > simple param.

see above.

 > Then of course there's a proxy-proxy connection, which this draft
 > will also enable keepalives for.

you mean one proxy is behind nat and the other one is not?

-- juha
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu May  8 08:16:25 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 83C5828D762;
	Thu,  8 May 2008 08:16:24 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id C9E0B28D742
	for <sip@core3.amsl.com>; Thu,  8 May 2008 08:16:16 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.49
X-Spam-Level: 
X-Spam-Status: No, score=-2.49 tagged_above=-999 required=5 tests=[AWL=0.109, 
	BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id rp7nwRHHTST0 for <sip@core3.amsl.com>;
	Thu,  8 May 2008 08:16:15 -0700 (PDT)
Received: from tutpro.com (sip.tutpro.com [192.98.100.10])
	by core3.amsl.com (Postfix) with ESMTP id 6E6ED28D72D
	for <sip@ietf.org>; Thu,  8 May 2008 07:18:41 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by tutpro.com (Postfix) with ESMTP id B5EE81EC2CB;
	Thu,  8 May 2008 12:28:01 +0300 (EEST)
Received: from tutpro.com ([127.0.0.1])
	by localhost (tutpro.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id aNdt-c8L9QqG; Thu,  8 May 2008 12:27:54 +0300 (EEST)
Received: from taimen (h133186.gprs.dnafinland.fi [87.93.133.186])
	by tutpro.com (Postfix) with ESMTP;
	Thu,  8 May 2008 12:27:54 +0300 (EEST)
Received: by taimen (Postfix, from userid 1000)
	id 32BCDAC070; Thu,  8 May 2008 12:27:49 +0300 (EEST)
MIME-Version: 1.0
Message-ID: <18466.51093.171800.546399@taimen.test.fi>
Date: Thu, 8 May 2008 12:27:49 +0300
To: "Christer Holmberg" <christer.holmberg@ericsson.com>
In-Reply-To: <CA9998CD4A020D418654FCDEF4E707DF046C777E@esealmw113.eemea.ericsson.se>
References: <18465.17834.732392.527310@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C776E@esealmw113.eemea.ericsson.se>
	<18465.32545.345585.820414@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8050F5A@mail.acmepacket.com>
	<18465.55659.177188.471351@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A01DDF@zrc2hxm0.corp.nortel.com>
	<18466.880.342656.104598@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD80514C7@mail.acmepacket.com>
	<48222D54.7020006@iptel.org>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8051669@mail.acmepacket.com>
	<CA9998CD4A020D418654FCDEF4E707DF046C7775@esealmw113.eemea.ericsson.se>
	<4822AB25.1070200@iptel.org>
	<18466.43946.215481.520633@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C777C@esealmw113.eemea.ericsson.se>
	<18466.47567.16529.786896@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C777E@esealmw113.eemea.ericsson.se>
X-Mailer: VM 7.19 under Emacs 21.4.1
From: jh@tutpro.com (Juha Heinanen)
Cc: sip@ietf.org, Francois Audet <audet@nortel.com>
Subject: Re: [Sip] Draft: draft-holmberg-sip-keep-00.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Christer Holmberg writes:

 > So, you are saying the following: if the UA does not support CRLF the
 > UA itself will include a short registration interval in the REGISTER
 > request?

yes.

 > That is not standardized behavior either, and I am not sure that is
 > how UAs work.

i didn't claim that it is standardized.  it is simply a practical UA
implementers way to solve the problem without yet another addition to
sip protocol, which we sick of.

 > "you can write that if registration interval would be as short as
 > default keepalive interval then it is not recommended to send
 > keepalives."

ok, looks like i tried something to make you happy, but i'll take that
back, because the discussion has shown that nothing like that is
needed.  i repeat, if UA is using TCP, your draft should clearly say
that the keep stuff is NOT used.

-- juha
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu May  8 08:17:04 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id C443828DC18;
	Thu,  8 May 2008 08:16:50 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 785B328D752
	for <sip@core3.amsl.com>; Thu,  8 May 2008 08:16:36 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -5.724
X-Spam-Level: 
X-Spam-Status: No, score=-5.724 tagged_above=-999 required=5
	tests=[AWL=-0.075, BAYES_00=-2.599, HELO_EQ_SE=0.35,
	J_CHICKENPOX_44=0.6, RCVD_IN_DNSWL_MED=-4]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id j0sulrLXtyf1 for <sip@core3.amsl.com>;
	Thu,  8 May 2008 08:16:34 -0700 (PDT)
Received: from mailgw4.ericsson.se (mailgw4.ericsson.se [193.180.251.62])
	by core3.amsl.com (Postfix) with ESMTP id 165B228D6C3
	for <sip@ietf.org>; Thu,  8 May 2008 07:16:18 -0700 (PDT)
Received: from mailgw4.ericsson.se (unknown [127.0.0.1])
	by mailgw4.ericsson.se (Symantec Mail Security) with ESMTP id
	26C852229F; Thu,  8 May 2008 11:16:50 +0200 (CEST)
X-AuditID: c1b4fb3e-ad196bb000004ec0-06-4822c5020ea8
Received: from esealmw128.eemea.ericsson.se (unknown [153.88.254.121])
	by mailgw4.ericsson.se (Symantec Mail Security) with ESMTP id
	0AC9722277; Thu,  8 May 2008 11:16:50 +0200 (CEST)
Received: from esealmw113.eemea.ericsson.se ([153.88.200.4]) by
	esealmw128.eemea.ericsson.se with Microsoft SMTPSVC(6.0.3790.1830); 
	Thu, 8 May 2008 11:16:49 +0200
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Thu, 8 May 2008 11:16:48 +0200
Message-ID: <CA9998CD4A020D418654FCDEF4E707DF046C777E@esealmw113.eemea.ericsson.se>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: VS: [Sip] Draft: draft-holmberg-sip-keep-00.txt
thread-index: Aciw5Zpea0/bxxk3RZCwUnVImL73vQABKPjB
References: <18465.17834.732392.527310@taimen.test.fi><CA9998CD4A020D418654FCDEF4E707DF046C776E@esealmw113.eemea.ericsson.se><18465.32545.345585.820414@taimen.test.fi><E6C2E8958BA59A4FB960963D475F7AC30BD8050F5A@mail.acmepacket.com><18465.55659.177188.471351@taimen.test.fi><1ECE0EB50388174790F9694F77522CCF16A01DDF@zrc2hxm0.corp.nortel.com><18466.880.342656.104598@taimen.test.fi><E6C2E8958BA59A4FB960963D475F7AC30BD80514C7@mail.acmepacket.com><48222D54.7020006@iptel.org><E6C2E8958BA59A4FB960963D475F7AC30BD8051669@mail.acmepacket.com><CA9998CD4A020D418654FCDEF4E707DF046C7775@esealmw113.eemea.ericsson.se><4822AB25.1070200@iptel.org><18466.43946.215481.520633@taimen.test.fi><CA9998CD4A020D418654FCDEF4E707DF046C777C@esealmw113.eemea.ericsson.se>
	<18466.47567.16529.786896@taimen.test.fi>
From: "Christer Holmberg" <christer.holmberg@ericsson.com>
To: "Juha Heinanen" <jh@tutpro.com>
X-OriginalArrivalTime: 08 May 2008 09:16:49.0852 (UTC)
	FILETIME=[3F2997C0:01C8B0EC]
X-Brightmail-Tracker: AAAAAA==
Cc: sip@ietf.org, Francois Audet <audet@nortel.com>
Subject: Re: [Sip] Draft: draft-holmberg-sip-keep-00.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Hi,

>>But, again, HOW does the edge proxy know that the UA actually will use CRLF? If it doesn't know, it may use short 
>>registration timer.
>
>it DOES NOT NEED KNOW, because the UA knows and uses short registration interval.
 
So, you are saying the following: if the UA does not support CRLF the UA itself will include a short registration interval in the REGISTER request?
 
That is not standardized behavior either, and I am not sure that is how UAs work.

>>>"It is RECOMMENDED that the UA uses CRLF for TCP keep-alive even if
>>>the UA doesn't receive keep=true, unless the UA receives a
>>>registration refresh timer value which is equal or less than the UA's
>>>default keep-alive interval in which case the registration refreshes
>>>will act as keep-alives."
>> 
>>I think that is what Juha proposed some e-mails ago.
>
>i didn't say anything about register timers.  i said that tcp UA should
>send CRLFs even if it does not get back CRLF.  but now when we have
>thought this more, because tcp UA anyway sends CRLFs, it makes no sense
>to try to negotiate it.  so please limit your keep protocol to udp UAs
>only.
 
You said the following:
 
"you can write that if registration interval would be as short as default keepalive interval then it is not recommended to send
keepalives."
 
Regards,
 
Christer
 


 
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu May  8 08:17:35 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 2517328DA70;
	Thu,  8 May 2008 08:17:31 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 9E3A728DBA6
	for <sip@core3.amsl.com>; Thu,  8 May 2008 08:16:55 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -6.009
X-Spam-Level: 
X-Spam-Status: No, score=-6.009 tagged_above=-999 required=5 tests=[AWL=0.240, 
	BAYES_00=-2.599, HELO_EQ_SE=0.35, RCVD_IN_DNSWL_MED=-4]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 7SzIZ103iBQb for <sip@core3.amsl.com>;
	Thu,  8 May 2008 08:16:54 -0700 (PDT)
Received: from mailgw3.ericsson.se (mailgw3.ericsson.se [193.180.251.60])
	by core3.amsl.com (Postfix) with ESMTP id A0DA728D6D3
	for <sip@ietf.org>; Thu,  8 May 2008 07:16:38 -0700 (PDT)
Received: from mailgw3.ericsson.se (unknown [127.0.0.1])
	by mailgw3.ericsson.se (Symantec Mail Security) with ESMTP id
	96D2A20EC0; Thu,  8 May 2008 08:54:29 +0200 (CEST)
X-AuditID: c1b4fb3c-aa894bb00000193b-87-4822a3a543cf
Received: from esealmw127.eemea.ericsson.se (unknown [153.88.254.122])
	by mailgw3.ericsson.se (Symantec Mail Security) with ESMTP id
	7F31120BD0; Thu,  8 May 2008 08:54:29 +0200 (CEST)
Received: from esealmw113.eemea.ericsson.se ([153.88.200.4]) by
	esealmw127.eemea.ericsson.se with Microsoft SMTPSVC(6.0.3790.1830); 
	Thu, 8 May 2008 08:54:28 +0200
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Thu, 8 May 2008 08:52:04 +0200
Message-ID: <CA9998CD4A020D418654FCDEF4E707DF046C7775@esealmw113.eemea.ericsson.se>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] Draft: draft-holmberg-sip-keep-00.txt
thread-index: AciwkaaQ+C9m/7nbToWsLlWtSySXQwAB8elQAA+l9bM=
References: <18465.17834.732392.527310@taimen.test.fi><CA9998CD4A020D418654FCDEF4E707DF046C776E@esealmw113.eemea.ericsson.se><18465.32545.345585.820414@taimen.test.fi><E6C2E8958BA59A4FB960963D475F7AC30BD8050F5A@mail.acmepacket.com><18465.55659.177188.471351@taimen.test.fi><1ECE0EB50388174790F9694F77522CCF16A01DDF@zrc2hxm0.corp.nortel.com><18466.880.342656.104598@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD80514C7@mail.acmepacket.com>
	<48222D54.7020006@iptel.org>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8051669@mail.acmepacket.com>
From: "Christer Holmberg" <christer.holmberg@ericsson.com>
To: "Hadriel Kaplan" <HKaplan@acmepacket.com>, "Jiri Kuthan" <jiri@iptel.org>
X-OriginalArrivalTime: 08 May 2008 06:54:28.0512 (UTC)
	FILETIME=[5C208A00:01C8B0D8]
X-Brightmail-Tracker: AAAAAA==
Cc: sip@ietf.org, Francois Audet <audet@nortel.com>
Subject: Re: [Sip] Draft: draft-holmberg-sip-keep-00.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Hi,

>Obviously I'm not a client guy, but I've been told not all clients have the ability to set their sockets to do that, depending on the OS.
>
>> I think that's a bit network-centric viewpoint. I'm comfortable with
>> leaving the NAT-traversal responsibility on the client. (which kind of
>> gets to the root of the problem, which is NATs are client-server
>> centric). Then some things (such as server's decision how to keep the
>> connections alive) don't have to concern us.
>
>Ironically I'm also trying to let the client do it - by having it tell the proxy "I'm smart enough to keep this connection alive by myself, if you're smart enough to use 
>these mechanisms".
 
I agree with Hadriel. The idea is to let the client do it, so that the proxy doesn't need to handle it, e.g. by providing short registration refresh timers etc in order to make sure the NAT bindings stay open.
 
Regards,
 
Christer
 
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu May  8 08:22:20 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 308C03A7309;
	Thu,  8 May 2008 08:21:37 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 6291D28D131
	for <sip@core3.amsl.com>; Thu,  8 May 2008 08:21:07 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -6.049
X-Spam-Level: 
X-Spam-Status: No, score=-6.049 tagged_above=-999 required=5 tests=[AWL=0.200, 
	BAYES_00=-2.599, HELO_EQ_SE=0.35, RCVD_IN_DNSWL_MED=-4]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 3KSbF6TvPZfA for <sip@core3.amsl.com>;
	Thu,  8 May 2008 08:21:04 -0700 (PDT)
Received: from mailgw4.ericsson.se (mailgw4.ericsson.se [193.180.251.62])
	by core3.amsl.com (Postfix) with ESMTP id 96EDD28D0B3
	for <sip@ietf.org>; Thu,  8 May 2008 06:46:25 -0700 (PDT)
Received: from mailgw4.ericsson.se (unknown [127.0.0.1])
	by mailgw4.ericsson.se (Symantec Mail Security) with ESMTP id
	7CACB221CD; Thu,  8 May 2008 13:55:08 +0200 (CEST)
X-AuditID: c1b4fb3e-ad997bb000004ec0-70-4822ea1c6ac6
Received: from esealmw126.eemea.ericsson.se (unknown [153.88.254.123])
	by mailgw4.ericsson.se (Symantec Mail Security) with ESMTP id
	62216205BB; Thu,  8 May 2008 13:55:08 +0200 (CEST)
Received: from esealmw113.eemea.ericsson.se ([153.88.200.4]) by
	esealmw126.eemea.ericsson.se with Microsoft SMTPSVC(6.0.3790.1830); 
	Thu, 8 May 2008 13:55:08 +0200
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Thu, 8 May 2008 13:52:15 +0200
Message-ID: <CA9998CD4A020D418654FCDEF4E707DF046C7784@esealmw113.eemea.ericsson.se>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: VS: [Sip] Draft: draft-holmberg-sip-keep-00.txt
thread-index: Aciw8uYqIuWel0ZnSwa1qkQ4yhBgMgADw9hO
References: <18465.17834.732392.527310@taimen.test.fi><CA9998CD4A020D418654FCDEF4E707DF046C776E@esealmw113.eemea.ericsson.se><18465.32545.345585.820414@taimen.test.fi><E6C2E8958BA59A4FB960963D475F7AC30BD8050F5A@mail.acmepacket.com><18465.55659.177188.471351@taimen.test.fi><1ECE0EB50388174790F9694F77522CCF16A01DDF@zrc2hxm0.corp.nortel.com><18466.880.342656.104598@taimen.test.fi><E6C2E8958BA59A4FB960963D475F7AC30BD80514C7@mail.acmepacket.com><48222D54.7020006@iptel.org><E6C2E8958BA59A4FB960963D475F7AC30BD8051669@mail.acmepacket.com><CA9998CD4A020D418654FCDEF4E707DF046C7775@esealmw113.eemea.ericsson.se><4822AB25.1070200@iptel.org><18466.43946.215481.520633@taimen.test.fi><CA9998CD4A020D418654FCDEF4E707DF046C777C@esealmw113.eemea.ericsson.se><18466.47567.16529.786896@taimen.test.fi><CA9998CD4A020D418654FCDEF4E707DF046C777E@esealmw113.eemea.ericsson.se><18466.51093.171800.546399@taimen.test.fi><CA9998CD4A020D418654FCDEF4E707DF046C7780@esealmw113.eemea.ericsson.se><CA9998CD4A020D41
	8654FCDE F4E707DF046C7781@esealmw113.eemea.ericsson.se>
	<18466.53278.799521.107107@taimen.test.fi>
From: "Christer Holmberg" <christer.holmberg@ericsson.com>
To: "Juha Heinanen" <jh@tutpro.com>
X-OriginalArrivalTime: 08 May 2008 11:55:08.0279 (UTC)
	FILETIME=[5CAA8870:01C8B102]
X-Brightmail-Tracker: AAAAAA==
Cc: sip@ietf.org, Francois Audet <audet@nortel.com>
Subject: Re: [Sip] Draft: draft-holmberg-sip-keep-00.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

>>Also keep in mind, that by removing TCP we would also remove the
>>possibility for the edge proxy to provide the keep-alive interval to the UA,
>
>the proxy has no way to figure out, which brand of nat the ua happens to
>be behind and which kind of keep-alive interval would be best for the ua.
>
>
>>AND the possibility for the edge proxy to possibly do
>>something if it does not receive a keep-alive within that interval.
>
>it can still do "something" if it wants to.
 
Yes, but it doesn't know exactly when.
 
However, based on the comments I have got from you and others, I will record the TCP as an open issue. I would like to receive some more comments/opinions before permanently removing it, in order to possible having to put it back at a later stage...
 
Regards,
 
Christer

 
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu May  8 08:23:18 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 25AE928D13F;
	Thu,  8 May 2008 08:22:31 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id BCE1A28D18D
	for <sip@core3.amsl.com>; Thu,  8 May 2008 08:21:36 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.249
X-Spam-Level: 
X-Spam-Status: No, score=-2.249 tagged_above=-999 required=5
	tests=[AWL=-0.250, BAYES_00=-2.599, J_CHICKENPOX_43=0.6]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 2qBkueZ5T6JI for <sip@core3.amsl.com>;
	Thu,  8 May 2008 08:21:34 -0700 (PDT)
Received: from etmail.acmepacket.com (etmail.acmepacket.com [216.41.24.6])
	by core3.amsl.com (Postfix) with ESMTP id CB40A28DEEB
	for <sip@ietf.org>; Thu,  8 May 2008 08:05:44 -0700 (PDT)
Received: from mail.acmepacket.com (216.41.24.7) by etmail.acmepacket.com
	(216.41.24.6) with Microsoft SMTP Server (TLS) id 8.1.263.0;
	Thu, 8 May 2008 11:05:07 -0400
Received: from mail.acmepacket.com ([216.41.24.7]) by mail.acmepacket.com
	([216.41.24.7]) with mapi; Thu, 8 May 2008 11:05:07 -0400
From: Hadriel Kaplan <HKaplan@acmepacket.com>
To: Juha Heinanen <jh@tutpro.com>, Christer Holmberg
	<christer.holmberg@ericsson.com>
Date: Thu, 8 May 2008 11:05:05 -0400
Thread-Topic: [Sip] Draft: draft-holmberg-sip-keep-00.txt
Thread-Index: Aciw4+BuDEeWyE9DQHOR23W5WM2UnwAOB7mg
Message-ID: <E6C2E8958BA59A4FB960963D475F7AC30BD8051BB8@mail.acmepacket.com>
References: <18465.17834.732392.527310@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C776E@esealmw113.eemea.ericsson.se>
	<18465.32545.345585.820414@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8050F5A@mail.acmepacket.com>
	<18465.55659.177188.471351@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A01DDF@zrc2hxm0.corp.nortel.com>
	<18466.880.342656.104598@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD80514C7@mail.acmepacket.com>
	<48222D54.7020006@iptel.org>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8051669@mail.acmepacket.com>
	<CA9998CD4A020D418654FCDEF4E707DF046C7775@esealmw113.eemea.ericsson.se>
	<18466.42180.621089.330513@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C7779@esealmw113.eemea.ericsson.se>
	<18466.43668.762998.312561@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C777B@esealmw113.eemea.ericsson.se>
	<18466.46859.952763.391029@taimen.test.fi>
In-Reply-To: <18466.46859.952763.391029@taimen.test.fi>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
acceptlanguage: en-US
MIME-Version: 1.0
Cc: "sip@ietf.org" <sip@ietf.org>, Francois Audet <audet@nortel.com>
Subject: Re: [Sip] Draft: draft-holmberg-sip-keep-00.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


I am not sure I understand your objection to the keep param in TCP.  Christer has already said that he will change the wording to indicate that if the response does not have keep=yes, it doesn't mean a UAC must not send double-CRLF.  In my mind that's just admitting that local configuration on the UAC can trump negotiation, as it can for pretty much anything.

The draft should NOT recommend the UAC sends double-CRLF in such a case, imo.  It should not recommend anything.  It's out of the scope of the draft at that point.

-hadriel


> -----Original Message-----
> From: Juha Heinanen [mailto:jh@tutpro.com]
>
> Christer Holmberg writes:
>
>  > >proxy NEVER needs to "provide" anything for tcp ua's nat problem.
>  > >as i wrote already, if tcp ua is behind nat it simply sends CRLFs or
>  > >(if it is not able to send CRLFs) uses short enough registration
>  > >interval.
>
>  > Where is that standardized? Is that how all UAs work? IF so,  we can
>  > remove it...
>
> christer,
>
> UA vendors have read outbound draft and figured it out that sending
> CRLFs is a good thing to do for tcp UAs and have ignored the rest if
> outbound as crap.
>
> if you want to formalize sending of CRLFs in your draft, then please do
> it.
> what we are opposing is the keep protocol that is totally unnecessary
> for tcp UAs.
>
> -- juha
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu May  8 08:23:30 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 36D8D28D6ED;
	Thu,  8 May 2008 08:23:01 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id D7CDE28D7C7
	for <sip@core3.amsl.com>; Thu,  8 May 2008 08:22:09 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -6.078
X-Spam-Level: 
X-Spam-Status: No, score=-6.078 tagged_above=-999 required=5 tests=[AWL=0.171, 
	BAYES_00=-2.599, HELO_EQ_SE=0.35, RCVD_IN_DNSWL_MED=-4]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 2t8uDGbWWix4 for <sip@core3.amsl.com>;
	Thu,  8 May 2008 08:22:04 -0700 (PDT)
Received: from mailgw4.ericsson.se (mailgw4.ericsson.se [193.180.251.62])
	by core3.amsl.com (Postfix) with ESMTP id 7445328D0E3
	for <sip@ietf.org>; Thu,  8 May 2008 06:47:03 -0700 (PDT)
Received: from mailgw4.ericsson.se (unknown [127.0.0.1])
	by mailgw4.ericsson.se (Symantec Mail Security) with ESMTP id
	D7C99220D7; Thu,  8 May 2008 08:56:27 +0200 (CEST)
X-AuditID: c1b4fb3e-ab993bb000004ec0-db-4822a41be249
Received: from esealmw127.eemea.ericsson.se (unknown [153.88.254.122])
	by mailgw4.ericsson.se (Symantec Mail Security) with ESMTP id
	BD2CC21A60; Thu,  8 May 2008 08:56:27 +0200 (CEST)
Received: from esealmw113.eemea.ericsson.se ([153.88.200.4]) by
	esealmw127.eemea.ericsson.se with Microsoft SMTPSVC(6.0.3790.1830); 
	Thu, 8 May 2008 08:56:27 +0200
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Thu, 8 May 2008 08:55:22 +0200
Message-ID: <CA9998CD4A020D418654FCDEF4E707DF046C7776@esealmw113.eemea.ericsson.se>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] Draft: draft-holmberg-sip-keep-00.txt
thread-index: Aciwx0v+8yvl9F+JT1+hbH843oeLGAAETBK5
References: <18465.17834.732392.527310@taimen.test.fi>	<CA9998CD4A020D418654FCDEF4E707DF046C776E@esealmw113.eemea.ericsson.se>	<18465.32545.345585.820414@taimen.test.fi>	<E6C2E8958BA59A4FB960963D475F7AC30BD8050F5A@mail.acmepacket.com>	<18465.55659.177188.471351@taimen.test.fi>	<1ECE0EB50388174790F9694F77522CCF16A01DDF@zrc2hxm0.corp.nortel.com>	<18466.880.342656.104598@taimen.test.fi>	<E6C2E8958BA59A4FB960963D475F7AC30BD80514C7@mail.acmepacket.com>
	<482218EC.30008@alcatel-lucent.com>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8051664@mail.acmepacket.com>
	<482286EA.4050301@alcatel-lucent.com>
From: "Christer Holmberg" <christer.holmberg@ericsson.com>
To: "Vijay K. Gurbani" <vkg@alcatel-lucent.com>,
	"Hadriel Kaplan" <HKaplan@acmepacket.com>
X-OriginalArrivalTime: 08 May 2008 06:56:27.0635 (UTC)
	FILETIME=[A3214430:01C8B0D8]
X-Brightmail-Tracker: AAAAAA==
Cc: sip@ietf.org
Subject: Re: [Sip] Draft: draft-holmberg-sip-keep-00.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Hi Vijay,
 =

I would be very thankful if you could provide some text.
 =

Thanks!
 =

Christer

________________________________

L=E4hett=E4j=E4: Vijay K. Gurbani [mailto:vkg@alcatel-lucent.com]
L=E4hetetty: to 8.5.2008 6:51
Vastaanottaja: Hadriel Kaplan
Kopio: sip@ietf.org; Christer Holmberg
Aihe: Re: [Sip] Draft: draft-holmberg-sip-keep-00.txt



Hadriel Kaplan wrote:
> I agree it should give such guidance.
>
> I believe your connect-reuse draft specifies re-using the TLS
> connection for upstream requests, but says nothing about a mechanism
> used to keep it open, right?  So I was assuming this draft-keep would
> be orthogonal and complimentary to connect-reuse: if the proxy wants
> to use one of the keepalive mechanisms, it could indicate such with
> keep; if it wanted to allow connection reuse, it would do such with
> alias; and it could do both if it wanted both. =


Hadriel: Great; thanks.  The above was my expectation as well
on how it should work.  You are correct in that connect-reuse
does not talk about any mechanism to keep the connection
"hot", so these drafts are orthogonal and complimentary.

Christer: As you move this forward, I can draft some text on
a guidance paragraph or so and send it to you.

Thanks,

- vijay
--
Vijay K. Gurbani, Bell Laboratories, Alcatel-Lucent
2701 Lucent Lane, Rm. 9F-546, Lisle, Illinois 60532 (USA)
Email: vkg@{alcatel-lucent.com,bell-labs.com,acm.org}
WWW:   http://www.alcatel-lucent.com/bell-labs


_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu May  8 08:23:30 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 32C0328D0E0;
	Thu,  8 May 2008 08:23:09 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 2C7703A72F3
	for <sip@core3.amsl.com>; Thu,  8 May 2008 08:22:15 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -6.099
X-Spam-Level: 
X-Spam-Status: No, score=-6.099 tagged_above=-999 required=5 tests=[AWL=0.150, 
	BAYES_00=-2.599, HELO_EQ_SE=0.35, RCVD_IN_DNSWL_MED=-4]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id l570kPtOuVs2 for <sip@core3.amsl.com>;
	Thu,  8 May 2008 08:22:13 -0700 (PDT)
Received: from mailgw4.ericsson.se (mailgw4.ericsson.se [193.180.251.62])
	by core3.amsl.com (Postfix) with ESMTP id DDEC528D6AE
	for <sip@ietf.org>; Thu,  8 May 2008 07:15:45 -0700 (PDT)
Received: from mailgw4.ericsson.se (unknown [127.0.0.1])
	by mailgw4.ericsson.se (Symantec Mail Security) with ESMTP id
	EC36C21211; Thu,  8 May 2008 11:51:12 +0200 (CEST)
X-AuditID: c1b4fb3e-ab192bb000004ec0-55-4822cd10e446
Received: from esealmw128.eemea.ericsson.se (unknown [153.88.254.121])
	by mailgw4.ericsson.se (Symantec Mail Security) with ESMTP id
	D127D21053; Thu,  8 May 2008 11:51:12 +0200 (CEST)
Received: from esealmw113.eemea.ericsson.se ([153.88.200.4]) by
	esealmw128.eemea.ericsson.se with Microsoft SMTPSVC(6.0.3790.1830); 
	Thu, 8 May 2008 11:51:12 +0200
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Thu, 8 May 2008 11:51:04 +0200
Message-ID: <CA9998CD4A020D418654FCDEF4E707DF046C7780@esealmw113.eemea.ericsson.se>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: VS: [Sip] Draft: draft-holmberg-sip-keep-00.txt
thread-index: Aciw7inxFob8Ku07Rzu4vMiEi9qp8AAAYbLL
References: <18465.17834.732392.527310@taimen.test.fi><CA9998CD4A020D418654FCDEF4E707DF046C776E@esealmw113.eemea.ericsson.se><18465.32545.345585.820414@taimen.test.fi><E6C2E8958BA59A4FB960963D475F7AC30BD8050F5A@mail.acmepacket.com><18465.55659.177188.471351@taimen.test.fi><1ECE0EB50388174790F9694F77522CCF16A01DDF@zrc2hxm0.corp.nortel.com><18466.880.342656.104598@taimen.test.fi><E6C2E8958BA59A4FB960963D475F7AC30BD80514C7@mail.acmepacket.com><48222D54.7020006@iptel.org><E6C2E8958BA59A4FB960963D475F7AC30BD8051669@mail.acmepacket.com><CA9998CD4A020D418654FCDEF4E707DF046C7775@esealmw113.eemea.ericsson.se><4822AB25.1070200@iptel.org><18466.43946.215481.520633@taimen.test.fi><CA9998CD4A020D418654FCDEF4E707DF046C777C@esealmw113.eemea.ericsson.se><18466.47567.16529.786896@taimen.test.fi><CA9998CD4A020D418654FCDEF4E707DF046C777E@esealmw113.eemea.ericsson.se>
	<18466.51093.171800.546399@taimen.test.fi>
From: "Christer Holmberg" <christer.holmberg@ericsson.com>
To: "Juha Heinanen" <jh@tutpro.com>
X-OriginalArrivalTime: 08 May 2008 09:51:12.0654 (UTC)
	FILETIME=[0CB032E0:01C8B0F1]
X-Brightmail-Tracker: AAAAAA==
Cc: sip@ietf.org, Francois Audet <audet@nortel.com>
Subject: Re: [Sip] Draft: draft-holmberg-sip-keep-00.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Hi,

>>So, you are saying the following: if the UA does not support CRLF the
>>UA itself will include a short registration interval in the REGISTER
>>request?
>
>yes.
>
>>That is not standardized behavior either, and I am not sure that is how UAs work.
>
>i didn't claim that it is standardized.  it is simply a practical UA implementers way to solve the problem without yet another addition to sip protocol, which we sick of.
 
I agree it's a prectial way, but is that how UAs work today?
 
I am happy if we can do things without yet another addition to the protocol, but doing things based on assumptions on how we THINK UAs should work isn't going to be very useful.

>>"you can write that if registration interval would be as short as default keepalive interval then it is not recommended to send keepalives."
>
>ok, looks like i tried something to make you happy, but i'll take that back, because the discussion has shown that nothing like that is
>needed.  i repeat, if UA is using TCP, your draft should clearly say that the keep stuff is NOT used.
 
If people agree that TCP is not a problem,  I can remove it.

Regards,
 
Christer

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu May  8 08:32:22 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id B338B28D1DD;
	Thu,  8 May 2008 08:32:21 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 7F6DD28D14C
	for <sip@core3.amsl.com>; Thu,  8 May 2008 08:32:12 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.499
X-Spam-Level: 
X-Spam-Status: No, score=-2.499 tagged_above=-999 required=5 tests=[AWL=0.100, 
	BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id Sw12MlPeYtQI for <sip@core3.amsl.com>;
	Thu,  8 May 2008 08:32:11 -0700 (PDT)
Received: from tutpro.com (lohi.tutpro.com [192.98.100.2])
	by core3.amsl.com (Postfix) with ESMTP id A740628DFB3
	for <sip@ietf.org>; Thu,  8 May 2008 08:10:31 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by tutpro.com (Postfix) with ESMTP id 2EE681EC25B;
	Thu,  8 May 2008 18:10:29 +0300 (EEST)
Received: from tutpro.com ([127.0.0.1])
	by localhost (tutpro.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id IMhN0PvqkAIy; Thu,  8 May 2008 18:10:22 +0300 (EEST)
Received: from taimen (h133186.gprs.dnafinland.fi [87.93.133.186])
	by tutpro.com (Postfix) with ESMTP;
	Thu,  8 May 2008 18:10:22 +0300 (EEST)
Received: by taimen (Postfix, from userid 1000)
	id 0395DAC070; Thu,  8 May 2008 18:10:17 +0300 (EEST)
MIME-Version: 1.0
Message-ID: <18467.6105.458368.430979@taimen.test.fi>
Date: Thu, 8 May 2008 18:10:17 +0300
To: Hadriel Kaplan <HKaplan@acmepacket.com>
In-Reply-To: <E6C2E8958BA59A4FB960963D475F7AC30BD8051BB8@mail.acmepacket.com>
References: <18465.17834.732392.527310@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C776E@esealmw113.eemea.ericsson.se>
	<18465.32545.345585.820414@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8050F5A@mail.acmepacket.com>
	<18465.55659.177188.471351@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A01DDF@zrc2hxm0.corp.nortel.com>
	<18466.880.342656.104598@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD80514C7@mail.acmepacket.com>
	<48222D54.7020006@iptel.org>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8051669@mail.acmepacket.com>
	<CA9998CD4A020D418654FCDEF4E707DF046C7775@esealmw113.eemea.ericsson.se>
	<18466.42180.621089.330513@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C7779@esealmw113.eemea.ericsson.se>
	<18466.43668.762998.312561@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C777B@esealmw113.eemea.ericsson.se>
	<18466.46859.952763.391029@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8051BB8@mail.acmepacket.com>
X-Mailer: VM 7.19 under Emacs 21.4.1
From: jh@tutpro.com (Juha Heinanen)
Cc: "sip@ietf.org" <sip@ietf.org>, Francois Audet <audet@nortel.com>,
	Christer Holmberg <christer.holmberg@ericsson.com>
Subject: Re: [Sip] Draft: draft-holmberg-sip-keep-00.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Hadriel Kaplan writes:

 > The draft should NOT recommend the UAC sends double-CRLF in such a
 > case, imo.  It should not recommend anything.  It's out of the scope
 > of the draft at that point.

fine if tcp ua is completely out of scope.  it make no sense to
introduce a new protocol function for the case where it is not needed.
ua vendors have better things to do that implement useless rfcs.

-- juha
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu May  8 08:32:33 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 0713E3A7296;
	Thu,  8 May 2008 08:32:30 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 0C53828D193
	for <sip@core3.amsl.com>; Thu,  8 May 2008 08:32:16 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -5.816
X-Spam-Level: 
X-Spam-Status: No, score=-5.816 tagged_above=-999 required=5
	tests=[AWL=-0.167, BAYES_00=-2.599, HELO_EQ_SE=0.35,
	J_CHICKENPOX_44=0.6, RCVD_IN_DNSWL_MED=-4]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id pStdkONdCmZX for <sip@core3.amsl.com>;
	Thu,  8 May 2008 08:32:14 -0700 (PDT)
Received: from mailgw4.ericsson.se (mailgw4.ericsson.se [193.180.251.62])
	by core3.amsl.com (Postfix) with ESMTP id DF2463A72BB
	for <sip@ietf.org>; Thu,  8 May 2008 07:00:43 -0700 (PDT)
Received: from mailgw4.ericsson.se (unknown [127.0.0.1])
	by mailgw4.ericsson.se (Symantec Mail Security) with ESMTP id
	E35A8220AC; Thu,  8 May 2008 10:22:15 +0200 (CEST)
X-AuditID: c1b4fb3e-ad196bb000004ec0-a8-4822b8373227
Received: from esealmw126.eemea.ericsson.se (unknown [153.88.254.123])
	by mailgw4.ericsson.se (Symantec Mail Security) with ESMTP id
	CCBDA201E0; Thu,  8 May 2008 10:22:15 +0200 (CEST)
Received: from esealmw113.eemea.ericsson.se ([153.88.200.4]) by
	esealmw126.eemea.ericsson.se with Microsoft SMTPSVC(6.0.3790.1830); 
	Thu, 8 May 2008 10:22:15 +0200
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Thu, 8 May 2008 10:17:16 +0200
Message-ID: <CA9998CD4A020D418654FCDEF4E707DF046C777C@esealmw113.eemea.ericsson.se>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: VS: [Sip] Draft: draft-holmberg-sip-keep-00.txt
thread-index: Aciw3S1faiFBUMuQSI2CRhJuLaTIFAABsAtL
References: <18465.17834.732392.527310@taimen.test.fi><CA9998CD4A020D418654FCDEF4E707DF046C776E@esealmw113.eemea.ericsson.se><18465.32545.345585.820414@taimen.test.fi><E6C2E8958BA59A4FB960963D475F7AC30BD8050F5A@mail.acmepacket.com><18465.55659.177188.471351@taimen.test.fi><1ECE0EB50388174790F9694F77522CCF16A01DDF@zrc2hxm0.corp.nortel.com><18466.880.342656.104598@taimen.test.fi><E6C2E8958BA59A4FB960963D475F7AC30BD80514C7@mail.acmepacket.com><48222D54.7020006@iptel.org><E6C2E8958BA59A4FB960963D475F7AC30BD8051669@mail.acmepacket.com><CA9998CD4A020D418654FCDEF4E707DF046C7775@esealmw113.eemea.ericsson.se><4822AB25.1070200@iptel.org>
	<18466.43946.215481.520633@taimen.test.fi>
From: "Christer Holmberg" <christer.holmberg@ericsson.com>
To: "Juha Heinanen" <jh@tutpro.com>,
	"Jiri Kuthan" <jiri@iptel.org>
X-OriginalArrivalTime: 08 May 2008 08:22:15.0752 (UTC)
	FILETIME=[9FA59480:01C8B0E4]
X-Brightmail-Tracker: AAAAAA==
Cc: sip@ietf.org, Francois Audet <audet@nortel.com>
Subject: Re: [Sip] Draft: draft-holmberg-sip-keep-00.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Hi,
 =

I am NOT arguing against the fact that you can use CRLF without negotation.
 =

But, again, HOW does the edge proxy know that the UA actually will use CRLF=
? If it doesn't know, it may use short registration timer.
 =

So, why don't we say something like:
 =

"It is RECOMMENDED that the UA uses CRLF for TCP keep-alive even if the UA =
doesn't receive keep=3Dtrue, unless the UA receives a registration refresh =
timer value which is equal or less than the UA's default keep-alive interva=
l in which case the registration refreshes will act as keep-alives."
 =

I think that is what Juha proposed some e-mails ago.
 =

Regards,
 =

Christer
 =

 =


________________________________

L=E4hett=E4j=E4: Juha Heinanen [mailto:jh@tutpro.com]
L=E4hetetty: to 8.5.2008 9:28
Vastaanottaja: Jiri Kuthan
Kopio: Christer Holmberg; Hadriel Kaplan; Francois Audet; sip@ietf.org
Aihe: Re: VS: [Sip] Draft: draft-holmberg-sip-keep-00.txt



Jiri Kuthan writes:

 > For which sake sending a CRLF seems perfectly sufficient to me, without
 > any additional negotiation stuff.

jiri,

thanks for your support.  i forgot to mention that credit to openser's
CRLF implementation belongs to your ser group.

-- juha


_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu May  8 08:32:51 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id EBA4628C1EB;
	Thu,  8 May 2008 08:32:41 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 10C9528D220
	for <sip@core3.amsl.com>; Thu,  8 May 2008 08:32:29 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.999
X-Spam-Level: 
X-Spam-Status: No, score=-2.999 tagged_above=-999 required=5
	tests=[BAYES_00=-2.599, J_CHICKENPOX_43=0.6, RCVD_IN_DNSWL_LOW=-1]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id cY23E+wEKu3O for <sip@core3.amsl.com>;
	Thu,  8 May 2008 08:32:26 -0700 (PDT)
Received: from submit01.sysedata.no (submit01.sysedata.no [195.159.29.244])
	by core3.amsl.com (Postfix) with ESMTP id 432283A6997
	for <sip@ietf.org>; Thu,  8 May 2008 06:19:41 -0700 (PDT)
Received: from [82.196.214.14] (helo=[192.168.1.133])
	by submit01.sysedata.no with esmtpsa (TLSv1:RC4-MD5:128) (Exim 4.62)
	(envelope-from <aeh@db.org>)
	id 1Ju4je-0000lO-6g; Thu, 08 May 2008 13:56:30 +0200
Message-ID: <4822EA70.90105@db.org>
Date: Thu, 08 May 2008 13:56:32 +0200
From: "Alfred E. Heggestad" <aeh@db.org>
User-Agent: Icedove 1.5.0.14pre (X11/20080305)
MIME-Version: 1.0
To: Juha Heinanen <jh@tutpro.com>
References: <18465.17834.732392.527310@taimen.test.fi>	<CA9998CD4A020D418654FCDEF4E707DF046C776E@esealmw113.eemea.ericsson.se>	<18465.32545.345585.820414@taimen.test.fi>	<E6C2E8958BA59A4FB960963D475F7AC30BD8050F5A@mail.acmepacket.com>
	<18465.55659.177188.471351@taimen.test.fi>
In-Reply-To: <18465.55659.177188.471351@taimen.test.fi>
X-Whitelisted: <jh@tutpro.com>
X-Whitelisted: <hkaplan@acmepacket.com>
X-Whitelisted: <sip@ietf.org>
X-Whitelisted: <christer.holmberg@ericsson.com>
Cc: "sip@ietf.org" <sip@ietf.org>,
	Christer Holmberg <christer.holmberg@ericsson.com>
Subject: Re: [Sip] Draft: draft-holmberg-sip-keep-00.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Juha Heinanen wrote:
> Hadriel Kaplan writes:
> 
>  > Openser will send back a CRLF when it gets a CRLF?  Interesting, but
>  > it's proprietary.  There is nothing in SIP to say "send back a CRLF
>  > when you get a CRLF".  This draft is proposing a standardized way to
>  > do that, for both transport types.
> 
> openser will send back back single CRLF later this week, it it receives
> double CRLF over tcp connection.  i have not claimed that this practise
> has been standardized somewhere.  the behavior is simply implemented,
> because several sip UAs, for example, all nokia ones, do send
> double-CRLFs without any negotiation if they are behind nats.  as i have
> told, i don't see any reason to negotiate this behavior at least when UA
> is using tcp.
> 

Double CRLF keepalive as specified in sip-outbound, has been added to
SER v2.1 development version - see the commit log here:

   http://lists.iptel.org/pipermail/serdev/2008-April/012253.html


/alfred

>  > See my other email - it was what I meant - not getting the keep=yes
>  > means the other end doesn't support this draft.
> 
> this is what you say now, not what you said yesterday.  as i said in my
> previous posts, what you say now is fine with me as long as the draft
> clearly says that if UA does not get back keep=yes, then this draft does
> not specify what the UA should do.  this allow current products keep on
> working without this (at least in tcp case) useless negotiation stuff
> that the draft is proposing.
> 
> -- juha
> _______________________________________________
> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu May  8 08:34:16 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id DC93C28CA49;
	Thu,  8 May 2008 08:33:48 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 2508F28C907
	for <sip@core3.amsl.com>; Thu,  8 May 2008 08:33:00 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.507
X-Spam-Level: 
X-Spam-Status: No, score=-2.507 tagged_above=-999 required=5 tests=[AWL=0.092, 
	BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id tHohDty512V4 for <sip@core3.amsl.com>;
	Thu,  8 May 2008 08:32:59 -0700 (PDT)
Received: from tutpro.com (lohi.tutpro.com [192.98.100.2])
	by core3.amsl.com (Postfix) with ESMTP id B9F8D28D98A
	for <sip@ietf.org>; Thu,  8 May 2008 07:35:21 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by tutpro.com (Postfix) with ESMTP id 895E21EC25B;
	Thu,  8 May 2008 09:59:29 +0300 (EEST)
Received: from tutpro.com ([127.0.0.1])
	by localhost (tutpro.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 4bJoSEuBIWjJ; Thu,  8 May 2008 09:59:22 +0300 (EEST)
Received: from taimen (h133186.gprs.dnafinland.fi [87.93.133.186])
	by tutpro.com (Postfix) with ESMTP;
	Thu,  8 May 2008 09:59:22 +0300 (EEST)
Received: by taimen (Postfix, from userid 1000)
	id A04DDAC070; Thu,  8 May 2008 09:59:16 +0300 (EEST)
MIME-Version: 1.0
Message-ID: <18466.42180.621089.330513@taimen.test.fi>
Date: Thu, 8 May 2008 09:59:16 +0300
To: "Christer Holmberg" <christer.holmberg@ericsson.com>
In-Reply-To: <CA9998CD4A020D418654FCDEF4E707DF046C7775@esealmw113.eemea.ericsson.se>
References: <18465.17834.732392.527310@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C776E@esealmw113.eemea.ericsson.se>
	<18465.32545.345585.820414@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8050F5A@mail.acmepacket.com>
	<18465.55659.177188.471351@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A01DDF@zrc2hxm0.corp.nortel.com>
	<18466.880.342656.104598@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD80514C7@mail.acmepacket.com>
	<48222D54.7020006@iptel.org>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8051669@mail.acmepacket.com>
	<CA9998CD4A020D418654FCDEF4E707DF046C7775@esealmw113.eemea.ericsson.se>
X-Mailer: VM 7.19 under Emacs 21.4.1
From: jh@tutpro.com (Juha Heinanen)
Cc: sip@ietf.org, Francois Audet <audet@nortel.com>
Subject: Re: [Sip] Draft: draft-holmberg-sip-keep-00.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Christer Holmberg writes:

 > I agree with Hadriel. The idea is to let the client do it, so that
 > the proxy doesn't need to handle it, e.g. by providing short
 > registration refresh timers etc in order to make sure the NAT
 > bindings stay open.

christer,

could you then, please, restrict the scope of your draft to udp
connected UAs, because if they are tcp connected, clients can keep
their nat binding open by simply sending double CRLFs.  if they get back
single CRLF, then fine, but if they don't, it is fine too.

-- juha
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu May  8 08:34:46 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id E429B28D25C;
	Thu,  8 May 2008 08:34:11 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id A8A0928C8C1
	for <sip@core3.amsl.com>; Thu,  8 May 2008 08:33:02 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.513
X-Spam-Level: 
X-Spam-Status: No, score=-2.513 tagged_above=-999 required=5 tests=[AWL=0.086, 
	BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id G+A6iglyED6w for <sip@core3.amsl.com>;
	Thu,  8 May 2008 08:33:01 -0700 (PDT)
Received: from tutpro.com (lohi.tutpro.com [192.98.100.2])
	by core3.amsl.com (Postfix) with ESMTP id B9FAD28D98B
	for <sip@ietf.org>; Thu,  8 May 2008 07:35:21 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by tutpro.com (Postfix) with ESMTP id 2557D1EC2A0;
	Thu,  8 May 2008 11:17:28 +0300 (EEST)
Received: from tutpro.com ([127.0.0.1])
	by localhost (tutpro.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id RDY3HbydHpYR; Thu,  8 May 2008 11:17:21 +0300 (EEST)
Received: from taimen (h133186.gprs.dnafinland.fi [87.93.133.186])
	by tutpro.com (Postfix) with ESMTP;
	Thu,  8 May 2008 11:17:21 +0300 (EEST)
Received: by taimen (Postfix, from userid 1000)
	id F0391AC070; Thu,  8 May 2008 11:17:15 +0300 (EEST)
MIME-Version: 1.0
Message-ID: <18466.46859.952763.391029@taimen.test.fi>
Date: Thu, 8 May 2008 11:17:15 +0300
To: "Christer Holmberg" <christer.holmberg@ericsson.com>
In-Reply-To: <CA9998CD4A020D418654FCDEF4E707DF046C777B@esealmw113.eemea.ericsson.se>
References: <18465.17834.732392.527310@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C776E@esealmw113.eemea.ericsson.se>
	<18465.32545.345585.820414@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8050F5A@mail.acmepacket.com>
	<18465.55659.177188.471351@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A01DDF@zrc2hxm0.corp.nortel.com>
	<18466.880.342656.104598@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD80514C7@mail.acmepacket.com>
	<48222D54.7020006@iptel.org>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8051669@mail.acmepacket.com>
	<CA9998CD4A020D418654FCDEF4E707DF046C7775@esealmw113.eemea.ericsson.se>
	<18466.42180.621089.330513@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C7779@esealmw113.eemea.ericsson.se>
	<18466.43668.762998.312561@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C777B@esealmw113.eemea.ericsson.se>
X-Mailer: VM 7.19 under Emacs 21.4.1
From: jh@tutpro.com (Juha Heinanen)
Cc: sip@ietf.org, Francois Audet <audet@nortel.com>
Subject: Re: [Sip] Draft: draft-holmberg-sip-keep-00.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Christer Holmberg writes:

 > >proxy NEVER needs to "provide" anything for tcp ua's nat problem.
 > >as i wrote already, if tcp ua is behind nat it simply sends CRLFs or
 > >(if it is not able to send CRLFs) uses short enough registration
 > >interval.

 > Where is that standardized? Is that how all UAs work? IF so,  we can
 > remove it...

christer,

UA vendors have read outbound draft and figured it out that sending
CRLFs is a good thing to do for tcp UAs and have ignored the rest if
outbound as crap.  

if you want to formalize sending of CRLFs in your draft, then please do it.
what we are opposing is the keep protocol that is totally unnecessary
for tcp UAs.

-- juha
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu May  8 08:42:40 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id B4B003A733E;
	Thu,  8 May 2008 08:42:40 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id B8F183A7333
	for <sip@core3.amsl.com>; Thu,  8 May 2008 08:42:38 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.449
X-Spam-Level: 
X-Spam-Status: No, score=-2.449 tagged_above=-999 required=5 tests=[AWL=0.150, 
	BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id YFgxSqBP3no1 for <sip@core3.amsl.com>;
	Thu,  8 May 2008 08:42:38 -0700 (PDT)
Received: from mail.iptel.org (smtp.iptel.org [213.192.59.67])
	by core3.amsl.com (Postfix) with ESMTP id B02AC28CBD8
	for <sip@ietf.org>; Thu,  8 May 2008 06:34:04 -0700 (PDT)
Received: from [127.0.0.1] (shell.iptel.org [213.192.59.74])
	by mail.iptel.org (Postfix) with ESMTP id 42B3C1812941;
	Thu,  8 May 2008 09:31:16 +0200 (CEST)
Message-ID: <4822AC76.8070707@iptel.org>
Date: Thu, 08 May 2008 09:32:06 +0200
From: Jiri Kuthan <jiri@iptel.org>
User-Agent: Thunderbird 2.0.0.14 (Macintosh/20080421)
MIME-Version: 1.0
To: Juha Heinanen <jh@tutpro.com>
References: <18465.17834.732392.527310@taimen.test.fi>	<CA9998CD4A020D418654FCDEF4E707DF046C776E@esealmw113.eemea.ericsson.se>	<18465.32545.345585.820414@taimen.test.fi>	<E6C2E8958BA59A4FB960963D475F7AC30BD8050F5A@mail.acmepacket.com>	<18465.55659.177188.471351@taimen.test.fi>	<1ECE0EB50388174790F9694F77522CCF16A01DDF@zrc2hxm0.corp.nortel.com>	<18466.880.342656.104598@taimen.test.fi>	<E6C2E8958BA59A4FB960963D475F7AC30BD80514C7@mail.acmepacket.com>	<48222D54.7020006@iptel.org>	<E6C2E8958BA59A4FB960963D475F7AC30BD8051669@mail.acmepacket.com>	<CA9998CD4A020D418654FCDEF4E707DF046C7775@esealmw113.eemea.ericsson.se>	<18466.42180.621089.330513@taimen.test.fi>	<CA9998CD4A020D418654FCDEF4E707DF046C7779@esealmw113.eemea.ericsson.se>
	<18466.43668.762998.312561@taimen.test.fi>
In-Reply-To: <18466.43668.762998.312561@taimen.test.fi>
Cc: sip@ietf.org, Francois Audet <audet@nortel.com>,
	Christer Holmberg <christer.holmberg@ericsson.com>
Subject: Re: [Sip] Draft: draft-holmberg-sip-keep-00.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Juha Heinanen wrote:
> Christer Holmberg writes:
> 
>  > The UA *CAN* send double CRLF, but the problem is that the edge proxy
>  > doesn't know whether the UA is going to do it, so it may provide
>  > short registration refreshes also for TCP connections.
> 
> christer,
> 
> this directly contradicts what you supported earlier today, i.e., that
> the responsibility to handle nat is in the ua.  proxy NEVER needs to
> "provide" anything for tcp ua's nat problem.  as i wrote already, if tcp
> ua is behind nat it simply sends CRLFs or (if it is not able to send
> CRLFs) uses short enough registration interval.

Absolutely -- that's the most elegant way of doing things which takes no 
support in server, no negotiation protocol, and is placed where it 
belongs, in the client.

I think specific action items that can be taken are:
- TCP-keep-alive as described above
- UDP-keep-alive taking some answer

Both IMO best placed in BEHAVE for reuse by other apps.

-jiri

> 
> -- juha
> 
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu May  8 08:43:00 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 11EBB3A7365;
	Thu,  8 May 2008 08:43:00 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id BD3E83A7363
	for <sip@core3.amsl.com>; Thu,  8 May 2008 08:42:54 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -5.649
X-Spam-Level: 
X-Spam-Status: No, score=-5.649 tagged_above=-999 required=5
	tests=[BAYES_00=-2.599, HELO_EQ_SE=0.35, J_CHICKENPOX_24=0.6,
	RCVD_IN_DNSWL_MED=-4]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id C1kV4B863Dj9 for <sip@core3.amsl.com>;
	Thu,  8 May 2008 08:42:49 -0700 (PDT)
Received: from smtp.su.se (smtp1.su.se [130.237.162.112])
	by core3.amsl.com (Postfix) with ESMTP id B50B728D3E1
	for <sip@ietf.org>; Thu,  8 May 2008 07:01:53 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by smtp.su.se (Postfix) with ESMTP id 03E5374EAD;
	Thu,  8 May 2008 16:01:51 +0200 (CEST)
Received: from smtp.su.se ([127.0.0.1])
	by localhost (smtp1.su.se [127.0.0.1]) (amavisd-new,
	port 10024) with LMTP
	id 24123-01-91; Thu,  8 May 2008 16:01:50 +0200 (CEST)
Received: from [192.168.0.38] (90-230-139-254-no45.tbcn.telia.com
	[90.230.139.254])
	(using TLSv1 with cipher DHE-RSA-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by smtp.su.se (Postfix) with ESMTP id CE7BC74EB1;
	Thu,  8 May 2008 16:01:49 +0200 (CEST)
Message-ID: <4823070C.9070106@it.su.se>
Date: Thu, 08 May 2008 15:58:36 +0200
From: Fredrik Thulin <ft@it.su.se>
User-Agent: Thunderbird 2.0.0.14 (Windows/20080421)
MIME-Version: 1.0
To: Hadriel Kaplan <HKaplan@acmepacket.com>
References: <CA9998CD4A020D418654FCDEF4E707DF046C7761@esealmw113.eemea.ericsson.se>	<18464.32846.367237.654872@taimen.test.fi>	<1ECE0EB50388174790F9694F77522CCF169722C3@zrc2hxm0.corp.nortel.com>	<18464.40898.695492.290843@taimen.test.fi>	<1ECE0EB50388174790F9694F77522CCF169723EE@zrc2hxm0.corp.nortel.com>	<18464.43200.840240.726767@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD7FD367F@mail.acmepacket.com>
	<4821636E.20303@it.su.se>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8050E17@mail.acmepacket.com>
In-Reply-To: <E6C2E8958BA59A4FB960963D475F7AC30BD8050E17@mail.acmepacket.com>
X-Virus-Scanned: by amavisd-new at smtp.su.se
Cc: "sip@ietf.org" <sip@ietf.org>, Francois Audet <audet@nortel.com>,
	Christer Holmberg <christer.holmberg@ericsson.com>
Subject: Re: [Sip] Draft: draft-holmberg-sip-keep-00.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Hadriel Kaplan wrote:
> 
>> -----Original Message-----
>> From: Fredrik Thulin [mailto:ft@it.su.se]
>>
>> Hadriel Kaplan wrote:
>>> Actually, it will cause problems for the device sending STUN, because
>> that next-hop proxy will (rightly) consider it a malformed attack and
>> blacklist the sender.
>>
>> It's not reasonable for a proxy to blacklist source IPs sending it stuff
>> it doesn't like.
> 
> Au contraire.
> 
>> If you receive a UDP packet, it's a really rare case that you can know
>> that the source IP wasn't spoofed.
> 
> I absolutely agree.  It is unknowable, sans some transport or IP level auth.
> 
>> If you blacklist based on source IP addresses, it will be very easy to
>> denial of service your proxy by getting it to blacklist real clients or
>> other SIP proxies for example.
> 
> If someone knows your IP+port and can successfully spoof it, they can DoS your service *anyway*.  That's the whole problem.  It's game over for your phone, period.  The goal of the proxy then is to stop that from impacting anyone _else_.
> 
> 
>> That will be a much bigger problem for
>> you than actually writing code that don't die when it receives unknown
>> data (which you should do anyway, of course).
> 
> This has nothing to do with writing code that won't die.

Ok, good. We agree that network servers should not die when receiving 
stuff it doesn't recognize.

However, I'm not sure I understand you fully - are you saying you 
_still_ think it is a good idea to blacklist source IPs sending you 
bogus stuff to your SIP proxy port 5060, because as long as I don't know 
your legitimate clients IP addresses this won't hurt anyone you care about?

What if someone send you spoofed packets from lots of well known SIP 
servers (future SIP hotmails and gmails for example)? Oh, right - you 
can whitelist those... perhaps.

What if someone sends you spoofed packets from five million different 
source IP addresses? Does blacklisting actually provide any value? One 
of those five million packets _might_ be the phone of one of your users.

If you were _not_ saying you still think it's a good idea to blacklist 
based on source IP, then please just disregard the above =).

/Fredrik
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu May  8 08:43:29 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 8E5703A73AB;
	Thu,  8 May 2008 08:43:29 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id B4A8E3A73A1
	for <sip@core3.amsl.com>; Thu,  8 May 2008 08:43:27 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.499
X-Spam-Level: 
X-Spam-Status: No, score=-2.499 tagged_above=-999 required=5 tests=[AWL=0.100, 
	BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id bZG87rNWzEZj for <sip@core3.amsl.com>;
	Thu,  8 May 2008 08:43:26 -0700 (PDT)
Received: from mail.iptel.org (smtp.iptel.org [213.192.59.67])
	by core3.amsl.com (Postfix) with ESMTP id 69E7128CBDB
	for <sip@ietf.org>; Thu,  8 May 2008 06:34:06 -0700 (PDT)
Received: from [127.0.0.1] (shell.iptel.org [213.192.59.74])
	by mail.iptel.org (Postfix) with ESMTP id B4DB81812940;
	Thu,  8 May 2008 09:27:05 +0200 (CEST)
Message-ID: <4822AB7C.9000108@iptel.org>
Date: Thu, 08 May 2008 09:27:56 +0200
From: Jiri Kuthan <jiri@iptel.org>
User-Agent: Thunderbird 2.0.0.14 (Macintosh/20080421)
MIME-Version: 1.0
To: Juha Heinanen <jh@tutpro.com>
References: <18465.17834.732392.527310@taimen.test.fi>	<CA9998CD4A020D418654FCDEF4E707DF046C776E@esealmw113.eemea.ericsson.se>	<18465.32545.345585.820414@taimen.test.fi>	<E6C2E8958BA59A4FB960963D475F7AC30BD8050F5A@mail.acmepacket.com>	<18465.55659.177188.471351@taimen.test.fi>	<1ECE0EB50388174790F9694F77522CCF16A01DDF@zrc2hxm0.corp.nortel.com>	<18466.880.342656.104598@taimen.test.fi>	<E6C2E8958BA59A4FB960963D475F7AC30BD80514C7@mail.acmepacket.com>	<48222D54.7020006@iptel.org>	<E6C2E8958BA59A4FB960963D475F7AC30BD8051669@mail.acmepacket.com>	<CA9998CD4A020D418654FCDEF4E707DF046C7775@esealmw113.eemea.ericsson.se>
	<18466.42180.621089.330513@taimen.test.fi>
In-Reply-To: <18466.42180.621089.330513@taimen.test.fi>
Cc: sip@ietf.org, Francois Audet <audet@nortel.com>,
	Christer Holmberg <christer.holmberg@ericsson.com>
Subject: Re: [Sip] Draft: draft-holmberg-sip-keep-00.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Juha Heinanen wrote:
> Christer Holmberg writes:
> 
>  > I agree with Hadriel. The idea is to let the client do it, so that
>  > the proxy doesn't need to handle it, e.g. by providing short
>  > registration refresh timers etc in order to make sure the NAT
>  > bindings stay open.
> 
> christer,
> 
> could you then, please, restrict the scope of your draft to udp
> connected UAs, because if they are tcp connected, clients can keep
> their nat binding open by simply sending double CRLFs.  if they get back
> single CRLF, then fine, but if they don't, it is fine too.

True, I didn't realize that, with TCP we don't even need the reverse CRLF.

-jiri

> 
> -- juha
> 
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu May  8 08:44:27 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 6226828C8B0;
	Thu,  8 May 2008 08:44:27 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id DC97928C8AD
	for <sip@core3.amsl.com>; Thu,  8 May 2008 08:44:25 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.524
X-Spam-Level: 
X-Spam-Status: No, score=-2.524 tagged_above=-999 required=5 tests=[AWL=0.075, 
	BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id oDPOxzLtrL5i for <sip@core3.amsl.com>;
	Thu,  8 May 2008 08:44:25 -0700 (PDT)
Received: from mail.iptel.org (smtp.iptel.org [213.192.59.67])
	by core3.amsl.com (Postfix) with ESMTP id 141C528CBDA
	for <sip@ietf.org>; Thu,  8 May 2008 06:34:06 -0700 (PDT)
Received: from [127.0.0.1] (shell.iptel.org [213.192.59.74])
	by mail.iptel.org (Postfix) with ESMTP id 90E3B181288F;
	Thu,  8 May 2008 09:25:38 +0200 (CEST)
Message-ID: <4822AB25.1070200@iptel.org>
Date: Thu, 08 May 2008 09:26:29 +0200
From: Jiri Kuthan <jiri@iptel.org>
User-Agent: Thunderbird 2.0.0.14 (Macintosh/20080421)
MIME-Version: 1.0
To: Christer Holmberg <christer.holmberg@ericsson.com>
References: <18465.17834.732392.527310@taimen.test.fi><CA9998CD4A020D418654FCDEF4E707DF046C776E@esealmw113.eemea.ericsson.se><18465.32545.345585.820414@taimen.test.fi><E6C2E8958BA59A4FB960963D475F7AC30BD8050F5A@mail.acmepacket.com><18465.55659.177188.471351@taimen.test.fi><1ECE0EB50388174790F9694F77522CCF16A01DDF@zrc2hxm0.corp.nortel.com><18466.880.342656.104598@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD80514C7@mail.acmepacket.com>
	<48222D54.7020006@iptel.org>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8051669@mail.acmepacket.com>
	<CA9998CD4A020D418654FCDEF4E707DF046C7775@esealmw113.eemea.ericsson.se>
In-Reply-To: <CA9998CD4A020D418654FCDEF4E707DF046C7775@esealmw113.eemea.ericsson.se>
Cc: sip@ietf.org, Francois Audet <audet@nortel.com>
Subject: Re: [Sip] Draft: draft-holmberg-sip-keep-00.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Christer Holmberg wrote:
> Hi,
> 
>> Obviously I'm not a client guy, but I've been told not all clients have the ability to set their sockets to do that, depending on the OS.
>>
>>> I think that's a bit network-centric viewpoint. I'm comfortable with
>>> leaving the NAT-traversal responsibility on the client. (which kind of
>>> gets to the root of the problem, which is NATs are client-server
>>> centric). Then some things (such as server's decision how to keep the
>>> connections alive) don't have to concern us.
>> Ironically I'm also trying to let the client do it - by having it tell the proxy "I'm smart enough to keep this connection alive by myself, if you're smart enough to use 
>> these mechanisms".
>  
> I agree with Hadriel. The idea is to let the client do it, so that the proxy doesn't need to handle it, e.g. by providing short registration refresh timers etc in order to make sure the NAT bindings stay open.


For which sake sending a CRLF seems perfectly sufficient to me, without 
any additional negotiation stuff.

-jiri

>  
> Regards,
>  
> Christer
>  
> 
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu May  8 08:44:36 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 3DA1A28C8FC;
	Thu,  8 May 2008 08:44:36 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id A028E28C8F2
	for <sip@core3.amsl.com>; Thu,  8 May 2008 08:44:34 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.539
X-Spam-Level: 
X-Spam-Status: No, score=-2.539 tagged_above=-999 required=5 tests=[AWL=0.060, 
	BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id frEtGeZ72Q5m for <sip@core3.amsl.com>;
	Thu,  8 May 2008 08:44:33 -0700 (PDT)
Received: from mail.iptel.org (smtp.iptel.org [213.192.59.67])
	by core3.amsl.com (Postfix) with ESMTP id 14E8728CBD7
	for <sip@ietf.org>; Thu,  8 May 2008 06:34:04 -0700 (PDT)
Received: from [127.0.0.1] (shell.iptel.org [213.192.59.74])
	by mail.iptel.org (Postfix) with ESMTP id 044A61810C13;
	Thu,  8 May 2008 09:24:14 +0200 (CEST)
Message-ID: <4822AAD1.6030200@iptel.org>
Date: Thu, 08 May 2008 09:25:05 +0200
From: Jiri Kuthan <jiri@iptel.org>
User-Agent: Thunderbird 2.0.0.14 (Macintosh/20080421)
MIME-Version: 1.0
To: Hadriel Kaplan <HKaplan@acmepacket.com>
References: <18465.17834.732392.527310@taimen.test.fi>	<CA9998CD4A020D418654FCDEF4E707DF046C776E@esealmw113.eemea.ericsson.se>	<18465.32545.345585.820414@taimen.test.fi>	<E6C2E8958BA59A4FB960963D475F7AC30BD8050F5A@mail.acmepacket.com>	<18465.55659.177188.471351@taimen.test.fi>	<1ECE0EB50388174790F9694F77522CCF16A01DDF@zrc2hxm0.corp.nortel.com>	<18466.880.342656.104598@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD80514C7@mail.acmepacket.com>
	<48222D54.7020006@iptel.org>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8051669@mail.acmepacket.com>
In-Reply-To: <E6C2E8958BA59A4FB960963D475F7AC30BD8051669@mail.acmepacket.com>
Cc: "sip@ietf.org" <sip@ietf.org>, Francois Audet <audet@nortel.com>,
	Christer Holmberg <christer.holmberg@ericsson.com>
Subject: Re: [Sip] Draft: draft-holmberg-sip-keep-00.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Hadriel Kaplan wrote:
> 
>> -----Original Message-----
>> From: Jiri Kuthan [mailto:jiri@iptel.org]
>>
>> Actually TCP keep-alive is even simpler, even though, alas, just
>> TCP-specific.
>> There are some rumours though that some NATs drop TCP keep-alives, even
>> though I have not witnessed that yet.
> 
> Obviously I'm not a client guy, but I've been told not all clients have the ability to set their sockets to do that, depending on the OS.

That's unfortunately true but I would not let myself distract by it in 
protocol design. There is however another issue -- the rumours are true 
that some NATs ignore TCP-keep-alives when refreshing their bindings. I 
made a bit of survey of a couple of home-routers and I found at least 
one that didn't honor it. This is IMO more concerning. So eventually 
CRLF^2 may be a better idea.

> 
> 
>> I think that's a bit network-centric viewpoint. I'm comfortable with
>> leaving the NAT-traversal responsibility on the client. (which kind of
>> gets to the root of the problem, which is NATs are client-server
>> centric). Then some things (such as server's decision how to keep the
>> connections alive) don't have to concern us.
> 
> Ironically I'm also trying to let the client do it - by having it tell the proxy "I'm smart enough to keep this connection alive by myself, if you're smart enough to use these mechanisms".


:-) well made point, it just occurs to me that lack of CRLFs can be used 
as signaling "I'm dumb enough to resort to your help", which is in 
negation exactly the same thing. Or without negation, "as I show using 
CRLF ..." and then as you wrote. In the end really I would like to have 
clients doing CRLF type-of-thing and servers responding to it, without 
all of this.

-jri



> 
> -hadriel
> 
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu May  8 08:44:44 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 11A7C28C94D;
	Thu,  8 May 2008 08:44:44 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id A3F5828C939
	for <sip@core3.amsl.com>; Thu,  8 May 2008 08:44:42 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.549
X-Spam-Level: 
X-Spam-Status: No, score=-2.549 tagged_above=-999 required=5 tests=[AWL=0.050, 
	BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id i8qmH1exbTWk for <sip@core3.amsl.com>;
	Thu,  8 May 2008 08:44:41 -0700 (PDT)
Received: from mail.iptel.org (smtp.iptel.org [213.192.59.67])
	by core3.amsl.com (Postfix) with ESMTP id 10F3228CBD9
	for <sip@ietf.org>; Thu,  8 May 2008 06:34:06 -0700 (PDT)
Received: from [127.0.0.1] (shell.iptel.org [213.192.59.74])
	by mail.iptel.org (Postfix) with ESMTP id 9D3521810C66;
	Thu,  8 May 2008 09:13:43 +0200 (CEST)
Message-ID: <4822A85A.8010106@iptel.org>
Date: Thu, 08 May 2008 09:14:34 +0200
From: Jiri Kuthan <jiri@iptel.org>
User-Agent: Thunderbird 2.0.0.14 (Macintosh/20080421)
MIME-Version: 1.0
To: Francois Audet <audet@nortel.com>
References: <18465.17834.732392.527310@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C776E@esealmw113.eemea.ericsson.se>
	<18465.32545.345585.820414@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8050F5A@mail.acmepacket.com>
	<48222B8C.6010601@iptel.org>
	<1ECE0EB50388174790F9694F77522CCF16A0247E@zrc2hxm0.corp.nortel.com>
In-Reply-To: <1ECE0EB50388174790F9694F77522CCF16A0247E@zrc2hxm0.corp.nortel.com>
Cc: sip@ietf.org, Christer Holmberg <christer.holmberg@ericsson.com>
Subject: Re: [Sip] Draft: draft-holmberg-sip-keep-00.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Francois Audet wrote:
>  
>> Then we may very well consider making "respond to CRLF with 
>> CRLF" a proposed standardized way too.
>> I mean it is simple and works. Which I prefer over 
>> negotiation protocols.
> 
> So, basically, you are proposing that for connection-oriented transport,
> we use "respond to double-CRLF with single-CRLF" instead of Christer's draft.
> 
> I assume that would mean that for UDP transport, we'd still be using
> Christer's draft.
> 
> Is this your proposal?

Hi Francois

quite so, even I'm still a bit uncertain about what the least evil is 
:-) I think it is suboptimal to negotiate transport characterictics 
using application-specific protocol. CRLF^2 seems almost the right thing 
for TCP. TCP/keepalive seems even better to me -- I mean we can use it 
for every single app without reinventing the wheel. However I'm afraid 
that even if "cleaner", it would not work quite so well.

The trouble with TCP/keepalive is twofold. One is, as Hadriel mentions, 
there are OSs that can't deal with it. The question is how serious shall 
be in protocol design about OSs whose TCP stack is not yet 
state-of-the-art. I'm inclined to be easy about it, this can be fixed. 
The other problem is very similar: there are NATs that ignore TCP 
keep-alives to extend bindings. The question is again how serious shall 
be in protocol design about software that could have been better. I'm 
actually worried more about the latter under the assumption that network 
is "imperfect" and end-devices better compensate for it. Thus I think 
CRLF^2 is the most preferable way for its robustness.

Regarding UDP -- is there anything speaking against CRLF^2 too? I mean 
keeping things simple and non-special-cased is a good thing and I don't 
realized why this should not work.

-jiri



_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu May  8 08:44:54 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id DA07028C9C4;
	Thu,  8 May 2008 08:44:54 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 366CC28C9B3
	for <sip@core3.amsl.com>; Thu,  8 May 2008 08:44:53 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.219
X-Spam-Level: 
X-Spam-Status: No, score=-2.219 tagged_above=-999 required=5
	tests=[AWL=-0.220, BAYES_00=-2.599, J_CHICKENPOX_44=0.6]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id NtNbjtDV7k5y for <sip@core3.amsl.com>;
	Thu,  8 May 2008 08:44:52 -0700 (PDT)
Received: from tutpro.com (lohi.tutpro.com [192.98.100.2])
	by core3.amsl.com (Postfix) with ESMTP id 35E3128D3F1
	for <sip@ietf.org>; Thu,  8 May 2008 07:02:02 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by tutpro.com (Postfix) with ESMTP id 218321EC2BC;
	Thu,  8 May 2008 11:29:15 +0300 (EEST)
Received: from tutpro.com ([127.0.0.1])
	by localhost (tutpro.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id ngzMtfP4AW-H; Thu,  8 May 2008 11:29:08 +0300 (EEST)
Received: from taimen (h133186.gprs.dnafinland.fi [87.93.133.186])
	by tutpro.com (Postfix) with ESMTP;
	Thu,  8 May 2008 11:29:08 +0300 (EEST)
Received: by taimen (Postfix, from userid 1000)
	id 7A769AC071; Thu,  8 May 2008 11:29:03 +0300 (EEST)
MIME-Version: 1.0
Message-ID: <18466.47567.16529.786896@taimen.test.fi>
Date: Thu, 8 May 2008 11:29:03 +0300
To: "Christer Holmberg" <christer.holmberg@ericsson.com>
In-Reply-To: <CA9998CD4A020D418654FCDEF4E707DF046C777C@esealmw113.eemea.ericsson.se>
References: <18465.17834.732392.527310@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C776E@esealmw113.eemea.ericsson.se>
	<18465.32545.345585.820414@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8050F5A@mail.acmepacket.com>
	<18465.55659.177188.471351@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A01DDF@zrc2hxm0.corp.nortel.com>
	<18466.880.342656.104598@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD80514C7@mail.acmepacket.com>
	<48222D54.7020006@iptel.org>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8051669@mail.acmepacket.com>
	<CA9998CD4A020D418654FCDEF4E707DF046C7775@esealmw113.eemea.ericsson.se>
	<4822AB25.1070200@iptel.org>
	<18466.43946.215481.520633@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C777C@esealmw113.eemea.ericsson.se>
X-Mailer: VM 7.19 under Emacs 21.4.1
From: jh@tutpro.com (Juha Heinanen)
Cc: sip@ietf.org, Francois Audet <audet@nortel.com>
Subject: Re: [Sip] Draft: draft-holmberg-sip-keep-00.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Christer Holmberg writes:

 > But, again, HOW does the edge proxy know that the UA actually will
 > use CRLF? If it doesn't know, it may use short registration timer.

it DOES NOT NEED KNOW, because the UA knows and uses short registration
interval.

 > "It is RECOMMENDED that the UA uses CRLF for TCP keep-alive even if
 > the UA doesn't receive keep=true, unless the UA receives a
 > registration refresh timer value which is equal or less than the UA's
 > default keep-alive interval in which case the registration refreshes
 > will act as keep-alives."
 >  
 > I think that is what Juha proposed some e-mails ago.

i didn't say anything about register timers.  i said that tcp UA should
send CRLFs even if it does not get back CRLF.  but now when we have
thought this more, because tcp UA anyway sends CRLFs, it makes no sense
to try to negotiate it.  so please limit your keep protocol to udp UAs
only.

-- juha

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu May  8 08:46:32 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 1196E28CAE4;
	Thu,  8 May 2008 08:46:32 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id BD33928CB76
	for <sip@core3.amsl.com>; Thu,  8 May 2008 08:46:29 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.505
X-Spam-Level: 
X-Spam-Status: No, score=-2.505 tagged_above=-999 required=5 tests=[AWL=0.094, 
	BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id M-+i0ZZVireb for <sip@core3.amsl.com>;
	Thu,  8 May 2008 08:46:29 -0700 (PDT)
Received: from tutpro.com (sip.tutpro.com [192.98.100.10])
	by core3.amsl.com (Postfix) with ESMTP id AFBEC28C97F
	for <sip@ietf.org>; Thu,  8 May 2008 06:28:42 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by tutpro.com (Postfix) with ESMTP id 6B8B41EC2E1;
	Thu,  8 May 2008 12:59:27 +0300 (EEST)
Received: from tutpro.com ([127.0.0.1])
	by localhost (tutpro.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id L80ayBn3alcI; Thu,  8 May 2008 12:59:20 +0300 (EEST)
Received: from taimen (h133186.gprs.dnafinland.fi [87.93.133.186])
	by tutpro.com (Postfix) with ESMTP;
	Thu,  8 May 2008 12:59:20 +0300 (EEST)
Received: by taimen (Postfix, from userid 1000)
	id 83A62AC070; Thu,  8 May 2008 12:59:15 +0300 (EEST)
MIME-Version: 1.0
Message-ID: <18466.52979.500607.146176@taimen.test.fi>
Date: Thu, 8 May 2008 12:59:15 +0300
To: "Christer Holmberg" <christer.holmberg@ericsson.com>
In-Reply-To: <CA9998CD4A020D418654FCDEF4E707DF046C7780@esealmw113.eemea.ericsson.se>
References: <18465.17834.732392.527310@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C776E@esealmw113.eemea.ericsson.se>
	<18465.32545.345585.820414@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8050F5A@mail.acmepacket.com>
	<18465.55659.177188.471351@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A01DDF@zrc2hxm0.corp.nortel.com>
	<18466.880.342656.104598@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD80514C7@mail.acmepacket.com>
	<48222D54.7020006@iptel.org>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8051669@mail.acmepacket.com>
	<CA9998CD4A020D418654FCDEF4E707DF046C7775@esealmw113.eemea.ericsson.se>
	<4822AB25.1070200@iptel.org>
	<18466.43946.215481.520633@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C777C@esealmw113.eemea.ericsson.se>
	<18466.47567.16529.786896@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C777E@esealmw113.eemea.ericsson.se>
	<18466.51093.171800.546399@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C7780@esealmw113.eemea.ericsson.se>
X-Mailer: VM 7.19 under Emacs 21.4.1
From: jh@tutpro.com (Juha Heinanen)
Cc: sip@ietf.org, Francois Audet <audet@nortel.com>
Subject: Re: [Sip] Draft: draft-holmberg-sip-keep-00.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Christer Holmberg writes:

 > I agree it's a prectial way, but is that how UAs work today?

some are able to send CRLFs and almost all allow the user to set the
registration interval.  i don't know if UAs automatically use short reg
int if behind nat.

 > I am happy if we can do things without yet another addition to the
 > protocol, but doing things based on assumptions on how we THINK UAs
 > should work isn't going to be very useful.

then write down the above, i.e., tcp UA behind nat should use crlf
(preferred) or short reg interval.

-- juha
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu May  8 08:46:47 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id D47E328C6D7;
	Thu,  8 May 2008 08:46:47 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id A29A93A6A2D
	for <sip@core3.amsl.com>; Thu,  8 May 2008 08:46:42 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.511
X-Spam-Level: 
X-Spam-Status: No, score=-2.511 tagged_above=-999 required=5 tests=[AWL=0.088, 
	BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id TlAIs58HzKJV for <sip@core3.amsl.com>;
	Thu,  8 May 2008 08:46:41 -0700 (PDT)
Received: from tutpro.com (sip.tutpro.com [192.98.100.10])
	by core3.amsl.com (Postfix) with ESMTP id AFC1E28C980
	for <sip@ietf.org>; Thu,  8 May 2008 06:28:42 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by tutpro.com (Postfix) with ESMTP id 15ED31EC2EF;
	Thu,  8 May 2008 13:04:26 +0300 (EEST)
Received: from tutpro.com ([127.0.0.1])
	by localhost (tutpro.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 9xkZSIBIShKe; Thu,  8 May 2008 13:04:19 +0300 (EEST)
Received: from taimen (h133186.gprs.dnafinland.fi [87.93.133.186])
	by tutpro.com (Postfix) with ESMTP;
	Thu,  8 May 2008 13:04:19 +0300 (EEST)
Received: by taimen (Postfix, from userid 1000)
	id CC239AC070; Thu,  8 May 2008 13:04:14 +0300 (EEST)
MIME-Version: 1.0
Message-ID: <18466.53278.799521.107107@taimen.test.fi>
Date: Thu, 8 May 2008 13:04:14 +0300
To: "Christer Holmberg" <christer.holmberg@ericsson.com>
In-Reply-To: <CA9998CD4A020D418654FCDEF4E707DF046C7781@esealmw113.eemea.ericsson.se>
References: <18465.17834.732392.527310@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C776E@esealmw113.eemea.ericsson.se>
	<18465.32545.345585.820414@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8050F5A@mail.acmepacket.com>
	<18465.55659.177188.471351@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A01DDF@zrc2hxm0.corp.nortel.com>
	<18466.880.342656.104598@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD80514C7@mail.acmepacket.com>
	<48222D54.7020006@iptel.org>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8051669@mail.acmepacket.com>
	<CA9998CD4A020D418654FCDEF4E707DF046C7775@esealmw113.eemea.ericsson.se>
	<4822AB25.1070200@iptel.org>
	<18466.43946.215481.520633@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C777C@esealmw113.eemea.ericsson.se>
	<18466.47567.16529.786896@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C777E@esealmw113.eemea.ericsson.se>
	<18466.51093.171800.546399@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C7780@esealmw113.eemea.ericsson.se>
	<CA9998CD4A020D418654FCDEF4E707DF046C7781@esealmw113.eemea.ericsson.se>
X-Mailer: VM 7.19 under Emacs 21.4.1
From: jh@tutpro.com (Juha Heinanen)
Cc: sip@ietf.org, Francois Audet <audet@nortel.com>
Subject: Re: [Sip] Draft: draft-holmberg-sip-keep-00.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Christer Holmberg writes:

 > Also keep in mind, that by removing TCP we would also remove the
 > possibility for the edge proxy to provide the keep-alive interval to
 > the UA,

the proxy has no way to figure out, which brand of nat the ua happens to
be behind and which kind of keep-alive interval would be best for the ua.


 > AND the possibility for the edge proxy to possibly do
 > something if it does not receive a keep-alive within that interval.

it can still do "something" if it wants to.

-- juha
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu May  8 08:52:44 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id F0D343A7342;
	Thu,  8 May 2008 08:52:43 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id AB9263A733E
	for <sip@core3.amsl.com>; Thu,  8 May 2008 08:52:42 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -6.249
X-Spam-Level: 
X-Spam-Status: No, score=-6.249 tagged_above=-999 required=5
	tests=[AWL=-0.250, BAYES_00=-2.599, J_CHICKENPOX_44=0.6,
	RCVD_IN_DNSWL_MED=-4]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id zbJND3HF+2lE for <sip@core3.amsl.com>;
	Thu,  8 May 2008 08:52:41 -0700 (PDT)
Received: from zrtps0kp.nortel.com (zrtps0kp.nortel.com [47.140.192.56])
	by core3.amsl.com (Postfix) with ESMTP id 1774F28C8BD
	for <sip@ietf.org>; Thu,  8 May 2008 08:44:30 -0700 (PDT)
Received: from zrc2hxm0.corp.nortel.com (zrc2hxm0.corp.nortel.com
	[47.103.123.71])
	by zrtps0kp.nortel.com (Switch-2.2.6/Switch-2.2.0) with ESMTP id
	m48FiOJ02609; Thu, 8 May 2008 15:44:24 GMT
X-MIMEOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Thu, 8 May 2008 10:44:05 -0500
Message-ID: <1ECE0EB50388174790F9694F77522CCF16A52F5D@zrc2hxm0.corp.nortel.com>
In-Reply-To: <CA9998CD4A020D418654FCDEF4E707DF046C777C@esealmw113.eemea.ericsson.se>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] Draft: draft-holmberg-sip-keep-00.txt
Thread-index: Aciw3S1faiFBUMuQSI2CRhJuLaTIFAABsAtLAA+X/UA=
References: <18465.17834.732392.527310@taimen.test.fi><CA9998CD4A020D418654FCDEF4E707DF046C776E@esealmw113.eemea.ericsson.se><18465.32545.345585.820414@taimen.test.fi><E6C2E8958BA59A4FB960963D475F7AC30BD8050F5A@mail.acmepacket.com><18465.55659.177188.471351@taimen.test.fi><1ECE0EB50388174790F9694F77522CCF16A01DDF@zrc2hxm0.corp.nortel.com><18466.880.342656.104598@taimen.test.fi><E6C2E8958BA59A4FB960963D475F7AC30BD80514C7@mail.acmepacket.com><48222D54.7020006@iptel.org><E6C2E8958BA59A4FB960963D475F7AC30BD8051669@mail.acmepacket.com><CA9998CD4A020D418654FCDEF4E707DF046C7775@esealmw113.eemea.ericsson.se><4822AB25.1070200@iptel.org>
	<18466.43946.215481.520633@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C777C@esealmw113.eemea.ericsson.se>
From: "Francois Audet" <audet@nortel.com>
To: "Christer Holmberg" <christer.holmberg@ericsson.com>,
	"Juha Heinanen" <jh@tutpro.com>, "Jiri Kuthan" <jiri@iptel.org>
Cc: sip@ietf.org
Subject: Re: [Sip] Draft: draft-holmberg-sip-keep-00.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

It will know because the UA send double-crlf. No? =


> -----Original Message-----
> From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On =

> Behalf Of Christer Holmberg
> Sent: Thursday, May 08, 2008 01:17
> To: Juha Heinanen; Jiri Kuthan
> Cc: sip@ietf.org; Audet, Francois (SC100:3055)
> Subject: Re: [Sip] Draft: draft-holmberg-sip-keep-00.txt
> =

> Hi,
>  =

> I am NOT arguing against the fact that you can use CRLF =

> without negotation.
>  =

> But, again, HOW does the edge proxy know that the UA actually =

> will use CRLF? If it doesn't know, it may use short =

> registration timer.
>  =

> So, why don't we say something like:
>  =

> "It is RECOMMENDED that the UA uses CRLF for TCP keep-alive =

> even if the UA doesn't receive keep=3Dtrue, unless the UA =

> receives a registration refresh timer value which is equal or =

> less than the UA's default keep-alive interval in which case =

> the registration refreshes will act as keep-alives."
>  =

> I think that is what Juha proposed some e-mails ago.
>  =

> Regards,
>  =

> Christer
>  =

>  =

> =

> ________________________________
> =

> L=E4hett=E4j=E4: Juha Heinanen [mailto:jh@tutpro.com]
> L=E4hetetty: to 8.5.2008 9:28
> Vastaanottaja: Jiri Kuthan
> Kopio: Christer Holmberg; Hadriel Kaplan; Francois Audet; sip@ietf.org
> Aihe: Re: VS: [Sip] Draft: draft-holmberg-sip-keep-00.txt
> =

> =

> =

> Jiri Kuthan writes:
> =

>  > For which sake sending a CRLF seems perfectly sufficient =

> to me, without  > any additional negotiation stuff.
> =

> jiri,
> =

> thanks for your support.  i forgot to mention that credit to =

> openser's CRLF implementation belongs to your ser group.
> =

> -- juha
> =

> =

> _______________________________________________
> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol Use =

> sip-implementors@cs.columbia.edu for questions on current sip =

> Use sipping@ietf.org for new developments on the application of sip
> =

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu May  8 08:54:31 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id B9BCD28C8AD;
	Thu,  8 May 2008 08:54:31 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 0935628C89B
	for <sip@core3.amsl.com>; Thu,  8 May 2008 08:54:30 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -6.099
X-Spam-Level: 
X-Spam-Status: No, score=-6.099 tagged_above=-999 required=5 tests=[AWL=0.150, 
	BAYES_00=-2.599, HELO_EQ_SE=0.35, RCVD_IN_DNSWL_MED=-4]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id f+0X6eIpnL-q for <sip@core3.amsl.com>;
	Thu,  8 May 2008 08:54:29 -0700 (PDT)
Received: from mailgw4.ericsson.se (mailgw4.ericsson.se [193.180.251.62])
	by core3.amsl.com (Postfix) with ESMTP id 2494D28D684
	for <sip@ietf.org>; Thu,  8 May 2008 07:15:10 -0700 (PDT)
Received: from mailgw4.ericsson.se (unknown [127.0.0.1])
	by mailgw4.ericsson.se (Symantec Mail Security) with ESMTP id
	6EBAF220CD; Thu,  8 May 2008 11:59:14 +0200 (CEST)
X-AuditID: c1b4fb3e-ac995bb000004ec0-7c-4822cef2ef05
Received: from esealmw128.eemea.ericsson.se (unknown [153.88.254.121])
	by mailgw4.ericsson.se (Symantec Mail Security) with ESMTP id
	4A2CF21736; Thu,  8 May 2008 11:59:14 +0200 (CEST)
Received: from esealmw113.eemea.ericsson.se ([153.88.200.4]) by
	esealmw128.eemea.ericsson.se with Microsoft SMTPSVC(6.0.3790.1830); 
	Thu, 8 May 2008 11:59:14 +0200
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Thu, 8 May 2008 11:55:38 +0200
Message-ID: <CA9998CD4A020D418654FCDEF4E707DF046C7781@esealmw113.eemea.ericsson.se>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: VS: [Sip] Draft: draft-holmberg-sip-keep-00.txt
thread-index: Aciw7inxFob8Ku07Rzu4vMiEi9qp8AAAYbLLAAB+j3s=
References: <18465.17834.732392.527310@taimen.test.fi><CA9998CD4A020D418654FCDEF4E707DF046C776E@esealmw113.eemea.ericsson.se><18465.32545.345585.820414@taimen.test.fi><E6C2E8958BA59A4FB960963D475F7AC30BD8050F5A@mail.acmepacket.com><18465.55659.177188.471351@taimen.test.fi><1ECE0EB50388174790F9694F77522CCF16A01DDF@zrc2hxm0.corp.nortel.com><18466.880.342656.104598@taimen.test.fi><E6C2E8958BA59A4FB960963D475F7AC30BD80514C7@mail.acmepacket.com><48222D54.7020006@iptel.org><E6C2E8958BA59A4FB960963D475F7AC30BD8051669@mail.acmepacket.com><CA9998CD4A020D418654FCDEF4E707DF046C7775@esealmw113.eemea.ericsson.se><4822AB25.1070200@iptel.org><18466.43946.215481.520633@taimen.test.fi><CA9998CD4A020D418654FCDEF4E707DF046C777C@esealmw113.eemea.ericsson.se><18466.47567.16529.786896@taimen.test.fi><CA9998CD4A020D418654FCDEF4E707DF046C777E@esealmw113.eemea.ericsson.se>
	<18466.51093.171800.546399@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C7780@esealmw113.eemea.ericsson.se>
From: "Christer Holmberg" <christer.holmberg@ericsson.com>
To: "Juha Heinanen" <jh@tutpro.com>
X-OriginalArrivalTime: 08 May 2008 09:59:14.0116 (UTC)
	FILETIME=[2BA97840:01C8B0F2]
X-Brightmail-Tracker: AAAAAA==
Cc: sip@ietf.org, Francois Audet <audet@nortel.com>
Subject: Re: [Sip] Draft: draft-holmberg-sip-keep-00.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Another thing:
 =

Also keep in mind, that by removing TCP we would also remove the possibilit=
y for the edge proxy to provide the keep-alive interval to the UA, AND the =
possibility for the edge proxy to possibly do something if it does not rece=
ive a keep-alive within that interval.
 =

But, again, I will do whatever we agree to do :)
 =

Regards,
 =

Christer

________________________________

L=E4hett=E4j=E4: Christer Holmberg
L=E4hetetty: to 8.5.2008 11:51
Vastaanottaja: Juha Heinanen
Kopio: Jiri Kuthan; Hadriel Kaplan; Francois Audet; sip@ietf.org
Aihe: VS: VS: [Sip] Draft: draft-holmberg-sip-keep-00.txt


Hi,

>>So, you are saying the following: if the UA does not support CRLF the
>>UA itself will include a short registration interval in the REGISTER
>>request?
>
>yes.
>
>>That is not standardized behavior either, and I am not sure that is how U=
As work.
>
>i didn't claim that it is standardized.  it is simply a practical UA imple=
menters way to solve the problem without yet another addition to sip protoc=
ol, which we sick of.
 =

I agree it's a prectial way, but is that how UAs work today?
 =

I am happy if we can do things without yet another addition to the protocol=
, but doing things based on assumptions on how we THINK UAs should work isn=
't going to be very useful.

>>"you can write that if registration interval would be as short as default=
 keepalive interval then it is not recommended to send keepalives."
>
>ok, looks like i tried something to make you happy, but i'll take that bac=
k, because the discussion has shown that nothing like that is
>needed.  i repeat, if UA is using TCP, your draft should clearly say that =
the keep stuff is NOT used.
 =

If people agree that TCP is not a problem,  I can remove it.

Regards,
 =

Christer

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu May  8 08:54:57 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 823F028C995;
	Thu,  8 May 2008 08:54:57 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id D1B9D28C97D
	for <sip@core3.amsl.com>; Thu,  8 May 2008 08:54:55 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.516
X-Spam-Level: 
X-Spam-Status: No, score=-2.516 tagged_above=-999 required=5 tests=[AWL=0.083, 
	BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id oCmVrlb859DD for <sip@core3.amsl.com>;
	Thu,  8 May 2008 08:54:55 -0700 (PDT)
Received: from tutpro.com (sip.tutpro.com [192.98.100.10])
	by core3.amsl.com (Postfix) with ESMTP id B8DFE28D06C
	for <sip@ietf.org>; Thu,  8 May 2008 06:45:21 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by tutpro.com (Postfix) with ESMTP id 3D2561EC2B8;
	Thu,  8 May 2008 10:28:54 +0300 (EEST)
Received: from tutpro.com ([127.0.0.1])
	by localhost (tutpro.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id WbP8u3F-cdc6; Thu,  8 May 2008 10:28:47 +0300 (EEST)
Received: from taimen (h133186.gprs.dnafinland.fi [87.93.133.186])
	by tutpro.com (Postfix) with ESMTP;
	Thu,  8 May 2008 10:28:47 +0300 (EEST)
Received: by taimen (Postfix, from userid 1000)
	id A200FAC070; Thu,  8 May 2008 10:28:42 +0300 (EEST)
MIME-Version: 1.0
Message-ID: <18466.43946.215481.520633@taimen.test.fi>
Date: Thu, 8 May 2008 10:28:42 +0300
To: Jiri Kuthan <jiri@iptel.org>
In-Reply-To: <4822AB25.1070200@iptel.org>
References: <18465.17834.732392.527310@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C776E@esealmw113.eemea.ericsson.se>
	<18465.32545.345585.820414@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8050F5A@mail.acmepacket.com>
	<18465.55659.177188.471351@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A01DDF@zrc2hxm0.corp.nortel.com>
	<18466.880.342656.104598@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD80514C7@mail.acmepacket.com>
	<48222D54.7020006@iptel.org>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8051669@mail.acmepacket.com>
	<CA9998CD4A020D418654FCDEF4E707DF046C7775@esealmw113.eemea.ericsson.se>
	<4822AB25.1070200@iptel.org>
X-Mailer: VM 7.19 under Emacs 21.4.1
From: jh@tutpro.com (Juha Heinanen)
Cc: sip@ietf.org, Francois Audet <audet@nortel.com>,
	Christer Holmberg <christer.holmberg@ericsson.com>
Subject: Re: [Sip] Draft: draft-holmberg-sip-keep-00.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Jiri Kuthan writes:

 > For which sake sending a CRLF seems perfectly sufficient to me, without 
 > any additional negotiation stuff.

jiri,

thanks for your support.  i forgot to mention that credit to openser's
CRLF implementation belongs to your ser group.

-- juha
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu May  8 08:55:14 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 6735E28CA3F;
	Thu,  8 May 2008 08:55:14 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 082D028CA26
	for <sip@core3.amsl.com>; Thu,  8 May 2008 08:55:13 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.52
X-Spam-Level: 
X-Spam-Status: No, score=-2.52 tagged_above=-999 required=5 tests=[AWL=0.079, 
	BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id uIyVSS0rfXFy for <sip@core3.amsl.com>;
	Thu,  8 May 2008 08:55:10 -0700 (PDT)
Received: from tutpro.com (sip.tutpro.com [192.98.100.10])
	by core3.amsl.com (Postfix) with ESMTP id B7B7A28D06B
	for <sip@ietf.org>; Thu,  8 May 2008 06:45:21 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by tutpro.com (Postfix) with ESMTP id 69E7E1EC291;
	Thu,  8 May 2008 10:24:16 +0300 (EEST)
Received: from tutpro.com ([127.0.0.1])
	by localhost (tutpro.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id vYB0gt-WssjW; Thu,  8 May 2008 10:24:09 +0300 (EEST)
Received: from taimen (h133186.gprs.dnafinland.fi [87.93.133.186])
	by tutpro.com (Postfix) with ESMTP;
	Thu,  8 May 2008 10:24:09 +0300 (EEST)
Received: by taimen (Postfix, from userid 1000)
	id C13E0AC070; Thu,  8 May 2008 10:24:04 +0300 (EEST)
MIME-Version: 1.0
Message-ID: <18466.43668.762998.312561@taimen.test.fi>
Date: Thu, 8 May 2008 10:24:04 +0300
To: "Christer Holmberg" <christer.holmberg@ericsson.com>
In-Reply-To: <CA9998CD4A020D418654FCDEF4E707DF046C7779@esealmw113.eemea.ericsson.se>
References: <18465.17834.732392.527310@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C776E@esealmw113.eemea.ericsson.se>
	<18465.32545.345585.820414@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8050F5A@mail.acmepacket.com>
	<18465.55659.177188.471351@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A01DDF@zrc2hxm0.corp.nortel.com>
	<18466.880.342656.104598@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD80514C7@mail.acmepacket.com>
	<48222D54.7020006@iptel.org>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8051669@mail.acmepacket.com>
	<CA9998CD4A020D418654FCDEF4E707DF046C7775@esealmw113.eemea.ericsson.se>
	<18466.42180.621089.330513@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C7779@esealmw113.eemea.ericsson.se>
X-Mailer: VM 7.19 under Emacs 21.4.1
From: jh@tutpro.com (Juha Heinanen)
Cc: sip@ietf.org, Francois Audet <audet@nortel.com>
Subject: Re: [Sip] Draft: draft-holmberg-sip-keep-00.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Christer Holmberg writes:

 > The UA *CAN* send double CRLF, but the problem is that the edge proxy
 > doesn't know whether the UA is going to do it, so it may provide
 > short registration refreshes also for TCP connections.

christer,

this directly contradicts what you supported earlier today, i.e., that
the responsibility to handle nat is in the ua.  proxy NEVER needs to
"provide" anything for tcp ua's nat problem.  as i wrote already, if tcp
ua is behind nat it simply sends CRLFs or (if it is not able to send
CRLFs) uses short enough registration interval.

-- juha
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu May  8 08:55:40 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id BCA1328CF62;
	Thu,  8 May 2008 08:55:40 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 3214028CF59
	for <sip@core3.amsl.com>; Thu,  8 May 2008 08:55:39 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -6.113
X-Spam-Level: 
X-Spam-Status: No, score=-6.113 tagged_above=-999 required=5 tests=[AWL=0.136, 
	BAYES_00=-2.599, HELO_EQ_SE=0.35, RCVD_IN_DNSWL_MED=-4]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 5iHGajiWnuo3 for <sip@core3.amsl.com>;
	Thu,  8 May 2008 08:55:38 -0700 (PDT)
Received: from mailgw4.ericsson.se (mailgw4.ericsson.se [193.180.251.62])
	by core3.amsl.com (Postfix) with ESMTP id 97A8128D071
	for <sip@ietf.org>; Thu,  8 May 2008 06:45:29 -0700 (PDT)
Received: from mailgw4.ericsson.se (unknown [127.0.0.1])
	by mailgw4.ericsson.se (Symantec Mail Security) with ESMTP id
	8B43C220E9; Thu,  8 May 2008 10:05:20 +0200 (CEST)
X-AuditID: c1b4fb3e-ac194bb000004ec0-b6-4822b44072ce
Received: from esealmw128.eemea.ericsson.se (unknown [153.88.254.121])
	by mailgw4.ericsson.se (Symantec Mail Security) with ESMTP id
	505BF20165; Thu,  8 May 2008 10:05:20 +0200 (CEST)
Received: from esealmw113.eemea.ericsson.se ([153.88.200.4]) by
	esealmw128.eemea.ericsson.se with Microsoft SMTPSVC(6.0.3790.1830); 
	Thu, 8 May 2008 10:05:17 +0200
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Thu, 8 May 2008 10:05:16 +0200
Message-ID: <CA9998CD4A020D418654FCDEF4E707DF046C777B@esealmw113.eemea.ericsson.se>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] Draft: draft-holmberg-sip-keep-00.txt
thread-index: Aciw3IhWD34j1f2tQSe53PnbvIet4AAAUQ+0
References: <18465.17834.732392.527310@taimen.test.fi><CA9998CD4A020D418654FCDEF4E707DF046C776E@esealmw113.eemea.ericsson.se><18465.32545.345585.820414@taimen.test.fi><E6C2E8958BA59A4FB960963D475F7AC30BD8050F5A@mail.acmepacket.com><18465.55659.177188.471351@taimen.test.fi><1ECE0EB50388174790F9694F77522CCF16A01DDF@zrc2hxm0.corp.nortel.com><18466.880.342656.104598@taimen.test.fi><E6C2E8958BA59A4FB960963D475F7AC30BD80514C7@mail.acmepacket.com><48222D54.7020006@iptel.org><E6C2E8958BA59A4FB960963D475F7AC30BD8051669@mail.acmepacket.com><CA9998CD4A020D418654FCDEF4E707DF046C7775@esealmw113.eemea.ericsson.se><18466.42180.621089.330513@taimen.test.fi><CA9998CD4A020D418654FCDEF4E707DF046C7779@esealmw113.eemea.ericsson.se>
	<18466.43668.762998.312561@taimen.test.fi>
From: "Christer Holmberg" <christer.holmberg@ericsson.com>
To: "Juha Heinanen" <jh@tutpro.com>
X-OriginalArrivalTime: 08 May 2008 08:05:17.0579 (UTC)
	FILETIME=[40C4B5B0:01C8B0E2]
X-Brightmail-Tracker: AAAAAA==
Cc: sip@ietf.org, Francois Audet <audet@nortel.com>
Subject: Re: [Sip] Draft: draft-holmberg-sip-keep-00.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Hi,

>> The UA *CAN* send double CRLF, but the problem is that the edge proxy
>> doesn't know whether the UA is going to do it, so it may provide
>> short registration refreshes also for TCP connections.
>
>christer,
>
>this directly contradicts what you supported earlier today, i.e., that the responsibility to handle nat is in the ua.  
 
What I meant by that was that the network doesn't need to make sure the NAT bindings are kept open by providing a short registration refresh timer.
 
>proxy NEVER needs to "provide" anything for tcp ua's nat problem.  as i wrote already, if tcp
>ua is behind nat it simply sends CRLFs or (if it is not able to send CRLFs) uses short enough registration interval.
 
Where is that standardized? Is that how all UAs work? IF so,  we can remove it...
 
Regards,
 
Christer
 
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu May  8 08:56:09 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id D794C28CFF2;
	Thu,  8 May 2008 08:56:09 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 6221E28CF40
	for <sip@core3.amsl.com>; Thu,  8 May 2008 08:56:08 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -5.824
X-Spam-Level: 
X-Spam-Status: No, score=-5.824 tagged_above=-999 required=5
	tests=[AWL=-0.175, BAYES_00=-2.599, HELO_EQ_SE=0.35,
	J_CHICKENPOX_43=0.6, RCVD_IN_DNSWL_MED=-4]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id elPzOpOEmGpz for <sip@core3.amsl.com>;
	Thu,  8 May 2008 08:56:04 -0700 (PDT)
Received: from mailgw3.ericsson.se (mailgw3.ericsson.se [193.180.251.60])
	by core3.amsl.com (Postfix) with ESMTP id 1586728D67D
	for <sip@ietf.org>; Thu,  8 May 2008 07:15:02 -0700 (PDT)
Received: from mailgw3.ericsson.se (unknown [127.0.0.1])
	by mailgw3.ericsson.se (Symantec Mail Security) with ESMTP id
	57B6C2119F; Thu,  8 May 2008 09:16:49 +0200 (CEST)
X-AuditID: c1b4fb3c-b009fbb00000193b-5a-4822a8e11dea
Received: from esealmw126.eemea.ericsson.se (unknown [153.88.254.123])
	by mailgw3.ericsson.se (Symantec Mail Security) with ESMTP id
	416B220646; Thu,  8 May 2008 09:16:49 +0200 (CEST)
Received: from esealmw113.eemea.ericsson.se ([153.88.200.4]) by
	esealmw126.eemea.ericsson.se with Microsoft SMTPSVC(6.0.3790.1830); 
	Thu, 8 May 2008 09:16:49 +0200
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Thu, 8 May 2008 09:16:48 +0200
Message-ID: <CA9998CD4A020D418654FCDEF4E707DF046C7779@esealmw113.eemea.ericsson.se>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] Draft: draft-holmberg-sip-keep-00.txt
thread-index: Aciw2RCD2bGDXLQkT5aVa6rBMzPC5QAAbRSo
References: <18465.17834.732392.527310@taimen.test.fi><CA9998CD4A020D418654FCDEF4E707DF046C776E@esealmw113.eemea.ericsson.se><18465.32545.345585.820414@taimen.test.fi><E6C2E8958BA59A4FB960963D475F7AC30BD8050F5A@mail.acmepacket.com><18465.55659.177188.471351@taimen.test.fi><1ECE0EB50388174790F9694F77522CCF16A01DDF@zrc2hxm0.corp.nortel.com><18466.880.342656.104598@taimen.test.fi><E6C2E8958BA59A4FB960963D475F7AC30BD80514C7@mail.acmepacket.com><48222D54.7020006@iptel.org><E6C2E8958BA59A4FB960963D475F7AC30BD8051669@mail.acmepacket.com><CA9998CD4A020D418654FCDEF4E707DF046C7775@esealmw113.eemea.ericsson.se>
	<18466.42180.621089.330513@taimen.test.fi>
From: "Christer Holmberg" <christer.holmberg@ericsson.com>
To: "Juha Heinanen" <jh@tutpro.com>
X-OriginalArrivalTime: 08 May 2008 07:16:49.0183 (UTC)
	FILETIME=[7B3AB2F0:01C8B0DB]
X-Brightmail-Tracker: AAAAAA==
Cc: sip@ietf.org, Francois Audet <audet@nortel.com>
Subject: Re: [Sip] Draft: draft-holmberg-sip-keep-00.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Hi,

>> I agree with Hadriel. The idea is to let the client do it, so that
>> the proxy doesn't need to handle it, e.g. by providing short
>> registration refresh timers etc in order to make sure the NAT
>> bindings stay open.
>
>christer,
>
>could you then, please, restrict the scope of your draft to udp
>connected UAs, because if they are tcp connected, clients can keep
>their nat binding open by simply sending double CRLFs.  if they get back
>single CRLF, then fine, but if they don't, it is fine too.
 
The UA *CAN* send double CRLF, but the problem is that the edge proxy doesn't know whether the UA is going to do it, so it may provide short registration refreshes also for TCP connections.
 
So, based on your previous request,  my intention is to do some re-wording and say that it is unspecified what the UA does if it doesn't receive keep=yes. So, that would not forbid the UA to use double CRLF even if it doesn't receive keep=yes.
 
Regards,
 
Christer

 
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu May  8 08:57:36 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 08EC428D2C5;
	Thu,  8 May 2008 08:57:36 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 7010628CF6F
	for <sip@core3.amsl.com>; Thu,  8 May 2008 08:57:34 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -6.111
X-Spam-Level: 
X-Spam-Status: No, score=-6.111 tagged_above=-999 required=5 tests=[AWL=0.138, 
	BAYES_00=-2.599, HELO_EQ_SE=0.35, RCVD_IN_DNSWL_MED=-4]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id JijJ2K4jV10Z for <sip@core3.amsl.com>;
	Thu,  8 May 2008 08:57:33 -0700 (PDT)
Received: from mailgw3.ericsson.se (mailgw3.ericsson.se [193.180.251.60])
	by core3.amsl.com (Postfix) with ESMTP id A145828D6A5
	for <sip@ietf.org>; Thu,  8 May 2008 07:15:35 -0700 (PDT)
Received: from mailgw3.ericsson.se (unknown [127.0.0.1])
	by mailgw3.ericsson.se (Symantec Mail Security) with ESMTP id
	B83B320C27; Thu,  8 May 2008 09:19:07 +0200 (CEST)
X-AuditID: c1b4fb3c-ae89cbb00000193b-a5-4822a96b697d
Received: from esealmw128.eemea.ericsson.se (unknown [153.88.254.121])
	by mailgw3.ericsson.se (Symantec Mail Security) with ESMTP id
	9A2EF203F6; Thu,  8 May 2008 09:19:07 +0200 (CEST)
Received: from esealmw113.eemea.ericsson.se ([153.88.200.4]) by
	esealmw128.eemea.ericsson.se with Microsoft SMTPSVC(6.0.3790.1830); 
	Thu, 8 May 2008 09:19:07 +0200
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Thu, 8 May 2008 09:17:06 +0200
Message-ID: <CA9998CD4A020D418654FCDEF4E707DF046C777A@esealmw113.eemea.ericsson.se>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] Draft: draft-holmberg-sip-keep-00.txt
thread-index: Aciwx0v+8yvl9F+JT1+hbH843oeLGAAFDmcW
References: <18465.17834.732392.527310@taimen.test.fi>	<CA9998CD4A020D418654FCDEF4E707DF046C776E@esealmw113.eemea.ericsson.se>	<18465.32545.345585.820414@taimen.test.fi>	<E6C2E8958BA59A4FB960963D475F7AC30BD8050F5A@mail.acmepacket.com>	<18465.55659.177188.471351@taimen.test.fi>	<1ECE0EB50388174790F9694F77522CCF16A01DDF@zrc2hxm0.corp.nortel.com>	<18466.880.342656.104598@taimen.test.fi>	<E6C2E8958BA59A4FB960963D475F7AC30BD80514C7@mail.acmepacket.com>
	<482218EC.30008@alcatel-lucent.com>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8051664@mail.acmepacket.com>
	<482286EA.4050301@alcatel-lucent.com>
From: "Christer Holmberg" <christer.holmberg@ericsson.com>
To: "Vijay K. Gurbani" <vkg@alcatel-lucent.com>,
	"Hadriel Kaplan" <HKaplan@acmepacket.com>
X-OriginalArrivalTime: 08 May 2008 07:19:07.0489 (UTC)
	FILETIME=[CDAA8510:01C8B0DB]
X-Brightmail-Tracker: AAAAAA==
Cc: sip@ietf.org
Subject: Re: [Sip] Draft: draft-holmberg-sip-keep-00.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Hi Vijay,
 =

I would be very thankful if you could provide some text.
 =

Thanks!
 =

Regards,
 =

Christer

________________________________

L=E4hett=E4j=E4: Vijay K. Gurbani [mailto:vkg@alcatel-lucent.com]
L=E4hetetty: to 8.5.2008 6:51
Vastaanottaja: Hadriel Kaplan
Kopio: sip@ietf.org; Christer Holmberg
Aihe: Re: [Sip] Draft: draft-holmberg-sip-keep-00.txt



Hadriel Kaplan wrote:
> I agree it should give such guidance.
>
> I believe your connect-reuse draft specifies re-using the TLS
> connection for upstream requests, but says nothing about a mechanism
> used to keep it open, right?  So I was assuming this draft-keep would
> be orthogonal and complimentary to connect-reuse: if the proxy wants
> to use one of the keepalive mechanisms, it could indicate such with
> keep; if it wanted to allow connection reuse, it would do such with
> alias; and it could do both if it wanted both. =


Hadriel: Great; thanks.  The above was my expectation as well
on how it should work.  You are correct in that connect-reuse
does not talk about any mechanism to keep the connection
"hot", so these drafts are orthogonal and complimentary.

Christer: As you move this forward, I can draft some text on
a guidance paragraph or so and send it to you.

Thanks,

- vijay
--
Vijay K. Gurbani, Bell Laboratories, Alcatel-Lucent
2701 Lucent Lane, Rm. 9F-546, Lisle, Illinois 60532 (USA)
Email: vkg@{alcatel-lucent.com,bell-labs.com,acm.org}
WWW:   http://www.alcatel-lucent.com/bell-labs


_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu May  8 09:06:41 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id A835828CB76;
	Thu,  8 May 2008 08:47:01 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 1FC0628CA36
	for <sip@core3.amsl.com>; Thu,  8 May 2008 08:46:59 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.556
X-Spam-Level: 
X-Spam-Status: No, score=-2.556 tagged_above=-999 required=5 tests=[AWL=0.043, 
	BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id Emo7IqWoJ316 for <sip@core3.amsl.com>;
	Thu,  8 May 2008 08:46:58 -0700 (PDT)
Received: from mail.iptel.org (smtp.iptel.org [213.192.59.67])
	by core3.amsl.com (Postfix) with ESMTP id 714B228CBDC
	for <sip@ietf.org>; Thu,  8 May 2008 06:34:06 -0700 (PDT)
Received: from [127.0.0.1] (shell.iptel.org [213.192.59.74])
	by mail.iptel.org (Postfix) with ESMTP id BBF14181296B;
	Thu,  8 May 2008 11:56:22 +0200 (CEST)
Message-ID: <4822CE79.6050904@iptel.org>
Date: Thu, 08 May 2008 11:57:13 +0200
From: Jiri Kuthan <jiri@iptel.org>
User-Agent: Thunderbird 2.0.0.14 (Macintosh/20080421)
MIME-Version: 1.0
To: Christer Holmberg <christer.holmberg@ericsson.com>
References: <18465.17834.732392.527310@taimen.test.fi><CA9998CD4A020D418654FCDEF4E707DF046C776E@esealmw113.eemea.ericsson.se><18465.32545.345585.820414@taimen.test.fi><E6C2E8958BA59A4FB960963D475F7AC30BD8050F5A@mail.acmepacket.com><18465.55659.177188.471351@taimen.test.fi><1ECE0EB50388174790F9694F77522CCF16A01DDF@zrc2hxm0.corp.nortel.com><18466.880.342656.104598@taimen.test.fi><E6C2E8958BA59A4FB960963D475F7AC30BD80514C7@mail.acmepacket.com><48222D54.7020006@iptel.org><E6C2E8958BA59A4FB960963D475F7AC30BD8051669@mail.acmepacket.com><CA9998CD4A020D418654FCDEF4E707DF046C7775@esealmw113.eemea.ericsson.se><4822AB25.1070200@iptel.org><18466.43946.215481.520633@taimen.test.fi><CA9998CD4A020D418654FCDEF4E707DF046C777C@esealmw113.eemea.ericsson.se><18466.47567.16529.786896@taimen.test.fi><CA9998CD4A020D418654FCDEF4E707DF046C777E@esealmw113.eemea.ericsson.se>
	<18466.51093.171800.546399@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C7780@esealmw113.eemea.ericsson.se>
In-Reply-To: <CA9998CD4A020D418654FCDEF4E707DF046C7780@esealmw113.eemea.ericsson.se>
Cc: sip@ietf.org, Francois Audet <audet@nortel.com>
Subject: Re: [Sip] Draft: draft-holmberg-sip-keep-00.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Christer Holmberg wrote:
> Hi,
> 
>>> So, you are saying the following: if the UA does not support CRLF the
>>> UA itself will include a short registration interval in the REGISTER
>>> request?
>> yes.
>>
>>> That is not standardized behavior either, and I am not sure that is how UAs work.
>> i didn't claim that it is standardized.  it is simply a practical UA implementers way to solve the problem without yet another addition to sip protocol, which we sick of.
>  
> I agree it's a prectial way, but is that how UAs work today?
>  
> I am happy if we can do things without yet another addition to the protocol, but doing things based on assumptions on how we THINK UAs should work isn't going to be very useful.

Then let's standardize as a BCP that UAs send CRLF.

> 
>>> "you can write that if registration interval would be as short as default keepalive interval then it is not recommended to send keepalives."
>> ok, looks like i tried something to make you happy, but i'll take that back, because the discussion has shown that nothing like that is
>> needed.  i repeat, if UA is using TCP, your draft should clearly say that the keep stuff is NOT used.
>  
> If people agree that TCP is not a problem,  I can remove it.

I violently agree.

-jiri

> 
> Regards,
>  
> Christer
> 
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu May  8 09:11:58 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 172423A7211;
	Thu,  8 May 2008 09:11:58 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id A3C0928C3E4
	for <sip@core3.amsl.com>; Thu,  8 May 2008 09:11:46 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.524
X-Spam-Level: 
X-Spam-Status: No, score=-2.524 tagged_above=-999 required=5 tests=[AWL=0.075, 
	BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id sdqgF0db+aEX for <sip@core3.amsl.com>;
	Thu,  8 May 2008 09:11:45 -0700 (PDT)
Received: from tutpro.com (sip.tutpro.com [192.98.100.10])
	by core3.amsl.com (Postfix) with ESMTP id A509728C75A
	for <sip@ietf.org>; Thu,  8 May 2008 08:53:57 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by tutpro.com (Postfix) with ESMTP id 328C81EC25B;
	Thu,  8 May 2008 18:53:55 +0300 (EEST)
Received: from tutpro.com ([127.0.0.1])
	by localhost (tutpro.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id ZP2aiEv1V7jO; Thu,  8 May 2008 18:53:48 +0300 (EEST)
Received: from taimen (h133186.gprs.dnafinland.fi [87.93.133.186])
	by tutpro.com (Postfix) with ESMTP;
	Thu,  8 May 2008 18:53:48 +0300 (EEST)
Received: by taimen (Postfix, from userid 1000)
	id 8C764AC071; Thu,  8 May 2008 18:53:44 +0300 (EEST)
MIME-Version: 1.0
Message-ID: <18467.8712.540473.285540@taimen.test.fi>
Date: Thu, 8 May 2008 18:53:44 +0300
To: "Francois Audet" <audet@nortel.com>
In-Reply-To: <1ECE0EB50388174790F9694F77522CCF16A52F5D@zrc2hxm0.corp.nortel.com>
References: <18465.17834.732392.527310@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C776E@esealmw113.eemea.ericsson.se>
	<18465.32545.345585.820414@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8050F5A@mail.acmepacket.com>
	<18465.55659.177188.471351@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A01DDF@zrc2hxm0.corp.nortel.com>
	<18466.880.342656.104598@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD80514C7@mail.acmepacket.com>
	<48222D54.7020006@iptel.org>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8051669@mail.acmepacket.com>
	<CA9998CD4A020D418654FCDEF4E707DF046C7775@esealmw113.eemea.ericsson.se>
	<4822AB25.1070200@iptel.org>
	<18466.43946.215481.520633@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C777C@esealmw113.eemea.ericsson.se>
	<1ECE0EB50388174790F9694F77522CCF16A52F5D@zrc2hxm0.corp.nortel.com>
X-Mailer: VM 7.19 under Emacs 21.4.1
From: jh@tutpro.com (Juha Heinanen)
Cc: sip@ietf.org, Christer Holmberg <christer.holmberg@ericsson.com>
Subject: Re: [Sip] Draft: draft-holmberg-sip-keep-00.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Francois Audet writes:

 > It will know because the UA send double-crlf. No? 

francois,

the point was that the proxy does not need do anything regarding
registration interval, because it cannot have any better knowledge about
the properties of UA's NAT than the UA has.  so it the responsibility of
the UA to use a short reg int if it is behind NAT and does not support
CRLF.

-- juha
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu May  8 09:19:13 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id D165F28C8D9;
	Thu,  8 May 2008 09:19:13 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 829023A6CE6
	for <sip@core3.amsl.com>; Thu,  8 May 2008 09:19:06 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -6.513
X-Spam-Level: 
X-Spam-Status: No, score=-6.513 tagged_above=-999 required=5 tests=[AWL=0.086, 
	BAYES_00=-2.599, RCVD_IN_DNSWL_MED=-4]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id XoFzvHh4EXb0 for <sip@core3.amsl.com>;
	Thu,  8 May 2008 09:19:05 -0700 (PDT)
Received: from zrtps0kn.nortel.com (zrtps0kn.nortel.com [47.140.192.55])
	by core3.amsl.com (Postfix) with ESMTP id 2976D3A6EFE
	for <sip@ietf.org>; Thu,  8 May 2008 09:02:39 -0700 (PDT)
Received: from zrc2hxm0.corp.nortel.com (zrc2hxm0.corp.nortel.com
	[47.103.123.71])
	by zrtps0kn.nortel.com (Switch-2.2.6/Switch-2.2.0) with ESMTP id
	m48G2Yv02747; Thu, 8 May 2008 16:02:34 GMT
X-MIMEOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Thu, 8 May 2008 11:02:12 -0500
Message-ID: <1ECE0EB50388174790F9694F77522CCF16A53030@zrc2hxm0.corp.nortel.com>
In-Reply-To: <18467.8712.540473.285540@taimen.test.fi>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] Draft: draft-holmberg-sip-keep-00.txt
Thread-index: AcixI7p4HGEtjnKtQG62uhEpF2xswgAAEhOA
References: <18465.17834.732392.527310@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C776E@esealmw113.eemea.ericsson.se>
	<18465.32545.345585.820414@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8050F5A@mail.acmepacket.com>
	<18465.55659.177188.471351@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A01DDF@zrc2hxm0.corp.nortel.com>
	<18466.880.342656.104598@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD80514C7@mail.acmepacket.com>
	<48222D54.7020006@iptel.org>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8051669@mail.acmepacket.com>
	<CA9998CD4A020D418654FCDEF4E707DF046C7775@esealmw113.eemea.ericsson.se>
	<4822AB25.1070200@iptel.org>	<18466.43946.215481.520633@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C777C@esealmw113.eemea.ericsson.se>
	<1ECE0EB50388174790F9694F77522CCF16A52F5D@zrc2hxm0.corp.nortel.com>
	<18467.8712.540473.285540@taimen.test.fi>
From: "Francois Audet" <audet@nortel.com>
To: "Juha Heinanen" <jh@tutpro.com>
Cc: sip@ietf.org, Christer Holmberg <christer.holmberg@ericsson.com>
Subject: Re: [Sip] Draft: draft-holmberg-sip-keep-00.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Hi Juha,

Yes, I understand that the proxy doesn't need to care. That's absolutely
correct. In fact, it should be the most common scenario.

I think the point is that some proxies WANT to know. They want to use
the keep-alive to keep tract of the availability of the UA without
waiting for a request to fail.

I don't want to debate if this is a good idea or not, but I believe this
is why they want this.


> -----Original Message-----
> From: Juha Heinanen [mailto:jh@tutpro.com] 
> Sent: Thursday, May 08, 2008 08:54
> To: Audet, Francois (SC100:3055)
> Cc: Christer Holmberg; Jiri Kuthan; sip@ietf.org
> Subject: RE: [Sip] Draft: draft-holmberg-sip-keep-00.txt
> 
> Francois Audet writes:
> 
>  > It will know because the UA send double-crlf. No? 
> 
> francois,
> 
> the point was that the proxy does not need do anything 
> regarding registration interval, because it cannot have any 
> better knowledge about the properties of UA's NAT than the UA 
> has.  so it the responsibility of the UA to use a short reg 
> int if it is behind NAT and does not support CRLF.
> 
> -- juha
> 
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu May  8 09:19:54 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 67F4028C713;
	Thu,  8 May 2008 09:19:53 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 347A628C0E6
	for <sip@core3.amsl.com>; Thu,  8 May 2008 09:19:39 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -6.524
X-Spam-Level: 
X-Spam-Status: No, score=-6.524 tagged_above=-999 required=5 tests=[AWL=0.075, 
	BAYES_00=-2.599, RCVD_IN_DNSWL_MED=-4]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id XdRcIMhyRChL for <sip@core3.amsl.com>;
	Thu,  8 May 2008 09:19:38 -0700 (PDT)
Received: from zrtps0kn.nortel.com (zrtps0kn.nortel.com [47.140.192.55])
	by core3.amsl.com (Postfix) with ESMTP id 5400528C9EB
	for <sip@ietf.org>; Thu,  8 May 2008 09:07:16 -0700 (PDT)
Received: from zrc2hxm0.corp.nortel.com (zrc2hxm0.corp.nortel.com
	[47.103.123.71])
	by zrtps0kn.nortel.com (Switch-2.2.6/Switch-2.2.0) with ESMTP id
	m48G7Bv03465; Thu, 8 May 2008 16:07:11 GMT
X-MIMEOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Thu, 8 May 2008 11:06:42 -0500
Message-ID: <1ECE0EB50388174790F9694F77522CCF16A5306F@zrc2hxm0.corp.nortel.com>
In-Reply-To: <4822AB7C.9000108@iptel.org>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] Draft: draft-holmberg-sip-keep-00.txt
Thread-index: AcixI97YjWZ1a+ZOTXC8gok7RBgRXwAARzpw
References: <18465.17834.732392.527310@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C776E@esealmw113.eemea.ericsson.se>
	<18465.32545.345585.820414@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8050F5A@mail.acmepacket.com>
	<18465.55659.177188.471351@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A01DDF@zrc2hxm0.corp.nortel.com>
	<18466.880.342656.104598@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD80514C7@mail.acmepacket.com>
	<48222D54.7020006@iptel.org>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8051669@mail.acmepacket.com>
	<CA9998CD4A020D418654FCDEF4E707DF046C7775@esealmw113.eemea.ericsson.se>
	<18466.42180.621089.330513@taimen.test.fi>
	<4822AB7C.9000108@iptel.org>
From: "Francois Audet" <audet@nortel.com>
To: "Jiri Kuthan" <jiri@iptel.org>, "Juha Heinanen" <jh@tutpro.com>
Cc: sip@ietf.org, Christer Holmberg <christer.holmberg@ericsson.com>
Subject: Re: [Sip] Draft: draft-holmberg-sip-keep-00.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

There is a difference however.

It is true that sending double-CRLF is sufficient to keep the NAT
binding alive, even without the CRLF back.

However, getting the CRLF back tells the UA that the proxy is alive.

Remember that outbound can be used for high-availability. The UA can use this
to switch to a backup proxy.

> -----Original Message-----
> From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On 
> Behalf Of Jiri Kuthan
> Sent: Thursday, May 08, 2008 00:28
> To: Juha Heinanen
> Cc: sip@ietf.org; Audet, Francois (SC100:3055); Christer Holmberg
> Subject: Re: [Sip] Draft: draft-holmberg-sip-keep-00.txt
> 
> Juha Heinanen wrote:
> > Christer Holmberg writes:
> > 
> >  > I agree with Hadriel. The idea is to let the client do 
> it, so that  
> > > the proxy doesn't need to handle it, e.g. by providing short  > 
> > registration refresh timers etc in order to make sure the NAT  > 
> > bindings stay open.
> > 
> > christer,
> > 
> > could you then, please, restrict the scope of your draft to udp 
> > connected UAs, because if they are tcp connected, clients can keep 
> > their nat binding open by simply sending double CRLFs.  if they get 
> > back single CRLF, then fine, but if they don't, it is fine too.
> 
> True, I didn't realize that, with TCP we don't even need the 
> reverse CRLF.
> 
> -jiri
> 
> > 
> > -- juha
> > 
> _______________________________________________
> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol Use 
> sip-implementors@cs.columbia.edu for questions on current sip 
> Use sipping@ietf.org for new developments on the application of sip
> 
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu May  8 09:20:55 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 25C7F3A72FC;
	Thu,  8 May 2008 09:20:55 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id A30853A72F3
	for <sip@core3.amsl.com>; Thu,  8 May 2008 09:20:53 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -6.532
X-Spam-Level: 
X-Spam-Status: No, score=-6.532 tagged_above=-999 required=5 tests=[AWL=0.067, 
	BAYES_00=-2.599, RCVD_IN_DNSWL_MED=-4]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id UvZSPU3CSH06 for <sip@core3.amsl.com>;
	Thu,  8 May 2008 09:20:52 -0700 (PDT)
Received: from zcars04f.nortel.com (zcars04f.nortel.com [47.129.242.57])
	by core3.amsl.com (Postfix) with ESMTP id 520AC28C849
	for <sip@ietf.org>; Thu,  8 May 2008 09:12:17 -0700 (PDT)
Received: from zrc2hxm0.corp.nortel.com (zrc2hxm0.corp.nortel.com
	[47.103.123.71])
	by zcars04f.nortel.com (Switch-2.2.6/Switch-2.2.0) with ESMTP id
	m48GCBq20316; Thu, 8 May 2008 16:12:11 GMT
X-MIMEOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Thu, 8 May 2008 11:11:46 -0500
Message-ID: <1ECE0EB50388174790F9694F77522CCF16A530A2@zrc2hxm0.corp.nortel.com>
In-Reply-To: <4822A85A.8010106@iptel.org>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] Draft: draft-holmberg-sip-keep-00.txt
Thread-index: AcixJDWgbIPMf4WfQ760FP3mIgLmYQAAYrtQ
References: <18465.17834.732392.527310@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C776E@esealmw113.eemea.ericsson.se>
	<18465.32545.345585.820414@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8050F5A@mail.acmepacket.com>
	<48222B8C.6010601@iptel.org>
	<1ECE0EB50388174790F9694F77522CCF16A0247E@zrc2hxm0.corp.nortel.com>
	<4822A85A.8010106@iptel.org>
From: "Francois Audet" <audet@nortel.com>
To: "Jiri Kuthan" <jiri@iptel.org>
Cc: sip@ietf.org, Christer Holmberg <christer.holmberg@ericsson.com>
Subject: Re: [Sip] Draft: draft-holmberg-sip-keep-00.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Jiri,

I think we are in 100% agreement then.

For UDP... I was certainly not a proponent of the STUN idea.
But after 6 months of arguing on the list and about 6000 postings, 
the group decided to use STUN.

I don't think we want to re-open that can of worms.

> -----Original Message-----
> From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On 
> Behalf Of Jiri Kuthan
> Sent: Thursday, May 08, 2008 00:15
> To: Audet, Francois (SC100:3055)
> Cc: sip@ietf.org; Christer Holmberg
> Subject: Re: [Sip] Draft: draft-holmberg-sip-keep-00.txt
> 
> Francois Audet wrote:
> >  
> >> Then we may very well consider making "respond to CRLF 
> with CRLF" a 
> >> proposed standardized way too.
> >> I mean it is simple and works. Which I prefer over negotiation 
> >> protocols.
> > 
> > So, basically, you are proposing that for connection-oriented 
> > transport, we use "respond to double-CRLF with single-CRLF" 
> instead of Christer's draft.
> > 
> > I assume that would mean that for UDP transport, we'd still 
> be using 
> > Christer's draft.
> > 
> > Is this your proposal?
> 
> Hi Francois
> 
> quite so, even I'm still a bit uncertain about what the least evil is
> :-) I think it is suboptimal to negotiate transport 
> characterictics using application-specific protocol. CRLF^2 
> seems almost the right thing for TCP. TCP/keepalive seems 
> even better to me -- I mean we can use it for every single 
> app without reinventing the wheel. However I'm afraid that 
> even if "cleaner", it would not work quite so well.
> 
> The trouble with TCP/keepalive is twofold. One is, as Hadriel 
> mentions, there are OSs that can't deal with it. The question 
> is how serious shall be in protocol design about OSs whose 
> TCP stack is not yet state-of-the-art. I'm inclined to be 
> easy about it, this can be fixed. 
> The other problem is very similar: there are NATs that ignore 
> TCP keep-alives to extend bindings. The question is again how 
> serious shall be in protocol design about software that could 
> have been better. I'm actually worried more about the latter 
> under the assumption that network is "imperfect" and 
> end-devices better compensate for it. Thus I think
> CRLF^2 is the most preferable way for its robustness.
> 
> Regarding UDP -- is there anything speaking against CRLF^2 
> too? I mean keeping things simple and non-special-cased is a 
> good thing and I don't realized why this should not work.
> 
> -jiri
> 
> 
> 
> _______________________________________________
> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol Use 
> sip-implementors@cs.columbia.edu for questions on current sip 
> Use sipping@ietf.org for new developments on the application of sip
> 
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu May  8 09:22:00 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id D4AC73A6E9A;
	Thu,  8 May 2008 09:22:00 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 66A0828C7C7
	for <sip@core3.amsl.com>; Thu,  8 May 2008 09:21:54 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.528
X-Spam-Level: 
X-Spam-Status: No, score=-2.528 tagged_above=-999 required=5 tests=[AWL=0.071, 
	BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id Ic7PVt6g1QMc for <sip@core3.amsl.com>;
	Thu,  8 May 2008 09:21:51 -0700 (PDT)
Received: from tutpro.com (sip.tutpro.com [192.98.100.10])
	by core3.amsl.com (Postfix) with ESMTP id 0AD5A3A7266
	for <sip@ietf.org>; Thu,  8 May 2008 09:14:43 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by tutpro.com (Postfix) with ESMTP id F2B371EC25B;
	Thu,  8 May 2008 19:14:40 +0300 (EEST)
Received: from tutpro.com ([127.0.0.1])
	by localhost (tutpro.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id HgODx-RS7GhG; Thu,  8 May 2008 19:14:33 +0300 (EEST)
Received: from taimen (h133186.gprs.dnafinland.fi [87.93.133.186])
	by tutpro.com (Postfix) with ESMTP;
	Thu,  8 May 2008 19:14:33 +0300 (EEST)
Received: by taimen (Postfix, from userid 1000)
	id 5F615AC071; Thu,  8 May 2008 19:14:29 +0300 (EEST)
MIME-Version: 1.0
Message-ID: <18467.9957.360558.903163@taimen.test.fi>
Date: Thu, 8 May 2008 19:14:29 +0300
To: "Francois Audet" <audet@nortel.com>
In-Reply-To: <1ECE0EB50388174790F9694F77522CCF16A53030@zrc2hxm0.corp.nortel.com>
References: <18465.17834.732392.527310@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C776E@esealmw113.eemea.ericsson.se>
	<18465.32545.345585.820414@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8050F5A@mail.acmepacket.com>
	<18465.55659.177188.471351@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A01DDF@zrc2hxm0.corp.nortel.com>
	<18466.880.342656.104598@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD80514C7@mail.acmepacket.com>
	<48222D54.7020006@iptel.org>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8051669@mail.acmepacket.com>
	<CA9998CD4A020D418654FCDEF4E707DF046C7775@esealmw113.eemea.ericsson.se>
	<4822AB25.1070200@iptel.org>
	<18466.43946.215481.520633@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C777C@esealmw113.eemea.ericsson.se>
	<1ECE0EB50388174790F9694F77522CCF16A52F5D@zrc2hxm0.corp.nortel.com>
	<18467.8712.540473.285540@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A53030@zrc2hxm0.corp.nortel.com>
X-Mailer: VM 7.19 under Emacs 21.4.1
From: jh@tutpro.com (Juha Heinanen)
Cc: sip@ietf.org, Christer Holmberg <christer.holmberg@ericsson.com>
Subject: Re: [Sip] Draft: draft-holmberg-sip-keep-00.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Francois Audet writes:

 > I think the point is that some proxies WANT to know. They want to use
 > the keep-alive to keep tract of the availability of the UA without
 > waiting for a request to fail.

then we are talking about a different application than keeping tcp NAT
binding alive.  was scope of christer's draft to define a general
purpose "is UA alive" detection protocol?

i don't think that existing UA implementations that support CRLF send
them if they are not behind NAT.  if proxy wants to know if UA is still
alive or not, then we need to mandate CRLF keepalive for all UAs whether
behind NAT or not.  in my opinion this would be a quite fundamental
addition to sip UA behavior.

but even in that case the proxy could measure the interval between
the first two CRLFs and thus auto-detect it.

-- juha
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu May  8 09:36:52 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 1268C3A67FF;
	Thu,  8 May 2008 09:36:39 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id DD2143A6AF3
	for <sip@core3.amsl.com>; Thu,  8 May 2008 09:36:31 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.531
X-Spam-Level: 
X-Spam-Status: No, score=-2.531 tagged_above=-999 required=5 tests=[AWL=0.068, 
	BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id EsheEeJa3uhV for <sip@core3.amsl.com>;
	Thu,  8 May 2008 09:36:28 -0700 (PDT)
Received: from tutpro.com (lohi.tutpro.com [192.98.100.2])
	by core3.amsl.com (Postfix) with ESMTP id D54733A6D86
	for <sip@ietf.org>; Thu,  8 May 2008 09:28:04 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by tutpro.com (Postfix) with ESMTP id 6C8E21EC25B;
	Thu,  8 May 2008 19:28:02 +0300 (EEST)
Received: from tutpro.com ([127.0.0.1])
	by localhost (tutpro.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id LtpejubtJuvD; Thu,  8 May 2008 19:27:55 +0300 (EEST)
Received: from taimen (h133186.gprs.dnafinland.fi [87.93.133.186])
	by tutpro.com (Postfix) with ESMTP;
	Thu,  8 May 2008 19:27:55 +0300 (EEST)
Received: by taimen (Postfix, from userid 1000)
	id 86C85AC071; Thu,  8 May 2008 19:27:51 +0300 (EEST)
MIME-Version: 1.0
Message-ID: <18467.10759.517606.958702@taimen.test.fi>
Date: Thu, 8 May 2008 19:27:51 +0300
To: "Francois Audet" <audet@nortel.com>
In-Reply-To: <1ECE0EB50388174790F9694F77522CCF16A5306F@zrc2hxm0.corp.nortel.com>
References: <18465.17834.732392.527310@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C776E@esealmw113.eemea.ericsson.se>
	<18465.32545.345585.820414@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8050F5A@mail.acmepacket.com>
	<18465.55659.177188.471351@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A01DDF@zrc2hxm0.corp.nortel.com>
	<18466.880.342656.104598@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD80514C7@mail.acmepacket.com>
	<48222D54.7020006@iptel.org>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8051669@mail.acmepacket.com>
	<CA9998CD4A020D418654FCDEF4E707DF046C7775@esealmw113.eemea.ericsson.se>
	<18466.42180.621089.330513@taimen.test.fi>
	<4822AB7C.9000108@iptel.org>
	<1ECE0EB50388174790F9694F77522CCF16A5306F@zrc2hxm0.corp.nortel.com>
X-Mailer: VM 7.19 under Emacs 22.1.1
From: jh@tutpro.com (Juha Heinanen)
Cc: sip@ietf.org, Christer Holmberg <christer.holmberg@ericsson.com>
Subject: Re: [Sip] Draft: draft-holmberg-sip-keep-00.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Francois Audet writes:

 > However, getting the CRLF back tells the UA that the proxy is alive.

yes, and if it gets one CRLF back, it can turn on the detection mode.
there is no need to introduce yet another sip protocol level feature
for that purpose.

 > Remember that outbound can be used for high-availability. The UA can use this
 > to switch to a backup proxy.

i would have very much liked that outbound would have supported high
availability.  unfortunately, features that would support ha are not
mandatory in outbound draft, which means that proxies cannot rely on
them.  this is the biggest reason why outbound is useless.

-- juha
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu May  8 09:37:33 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 5BD073A6982;
	Thu,  8 May 2008 09:37:29 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 0391428C8B1
	for <sip@core3.amsl.com>; Thu,  8 May 2008 09:36:59 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.562
X-Spam-Level: 
X-Spam-Status: No, score=-2.562 tagged_above=-999 required=5 tests=[AWL=0.038, 
	BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id AnWCo3coKt5s for <sip@core3.amsl.com>;
	Thu,  8 May 2008 09:36:57 -0700 (PDT)
Received: from mail.iptel.org (smtp.iptel.org [213.192.59.67])
	by core3.amsl.com (Postfix) with ESMTP id 331A228C957
	for <sip@ietf.org>; Thu,  8 May 2008 09:33:40 -0700 (PDT)
Received: from jiri-kuthans-macbook-pro-6.local (shell.iptel.org
	[213.192.59.74])
	by mail.iptel.org (Postfix) with ESMTP id 81A6A181297C;
	Thu,  8 May 2008 18:33:37 +0200 (CEST)
Message-ID: <48232B93.9030308@iptel.org>
Date: Thu, 08 May 2008 18:34:27 +0200
From: Jiri Kuthan <jiri@iptel.org>
User-Agent: Thunderbird 2.0.0.14 (Macintosh/20080421)
MIME-Version: 1.0
To: Francois Audet <audet@nortel.com>
References: <18465.17834.732392.527310@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C776E@esealmw113.eemea.ericsson.se>
	<18465.32545.345585.820414@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8050F5A@mail.acmepacket.com>
	<48222B8C.6010601@iptel.org>
	<1ECE0EB50388174790F9694F77522CCF16A0247E@zrc2hxm0.corp.nortel.com>
	<4822A85A.8010106@iptel.org>
	<1ECE0EB50388174790F9694F77522CCF16A530A2@zrc2hxm0.corp.nortel.com>
In-Reply-To: <1ECE0EB50388174790F9694F77522CCF16A530A2@zrc2hxm0.corp.nortel.com>
Cc: sip@ietf.org, Christer Holmberg <christer.holmberg@ericsson.com>
Subject: Re: [Sip] Draft: draft-holmberg-sip-keep-00.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Francois Audet wrote:
> Jiri,
> 
> I think we are in 100% agreement then.

great.

> 
> For UDP... I was certainly not a proponent of the STUN idea.
> But after 6 months of arguing on the list and about 6000 postings, 
> the group decided to use STUN.
> 
> I don't think we want to re-open that can of worms.

:-)

well perhaps having just a keep-alive app-indepednet document would be 
worth it, regardless what other combined work is going elsewhere :-) 
Anyhow, embedded STUN doesn't in fact appear so terrible to me.

So after all, what do we want to do for keeping bindings alive? a) BCP 
b) ignore c) sip-keep. (sorted in my strongly descending order of 
preference).

-jiri

> 
>> -----Original Message-----
>> From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On 
>> Behalf Of Jiri Kuthan
>> Sent: Thursday, May 08, 2008 00:15
>> To: Audet, Francois (SC100:3055)
>> Cc: sip@ietf.org; Christer Holmberg
>> Subject: Re: [Sip] Draft: draft-holmberg-sip-keep-00.txt
>>
>> Francois Audet wrote:
>>>  
>>>> Then we may very well consider making "respond to CRLF 
>> with CRLF" a 
>>>> proposed standardized way too.
>>>> I mean it is simple and works. Which I prefer over negotiation 
>>>> protocols.
>>> So, basically, you are proposing that for connection-oriented 
>>> transport, we use "respond to double-CRLF with single-CRLF" 
>> instead of Christer's draft.
>>> I assume that would mean that for UDP transport, we'd still 
>> be using 
>>> Christer's draft.
>>>
>>> Is this your proposal?
>> Hi Francois
>>
>> quite so, even I'm still a bit uncertain about what the least evil is
>> :-) I think it is suboptimal to negotiate transport 
>> characterictics using application-specific protocol. CRLF^2 
>> seems almost the right thing for TCP. TCP/keepalive seems 
>> even better to me -- I mean we can use it for every single 
>> app without reinventing the wheel. However I'm afraid that 
>> even if "cleaner", it would not work quite so well.
>>
>> The trouble with TCP/keepalive is twofold. One is, as Hadriel 
>> mentions, there are OSs that can't deal with it. The question 
>> is how serious shall be in protocol design about OSs whose 
>> TCP stack is not yet state-of-the-art. I'm inclined to be 
>> easy about it, this can be fixed. 
>> The other problem is very similar: there are NATs that ignore 
>> TCP keep-alives to extend bindings. The question is again how 
>> serious shall be in protocol design about software that could 
>> have been better. I'm actually worried more about the latter 
>> under the assumption that network is "imperfect" and 
>> end-devices better compensate for it. Thus I think
>> CRLF^2 is the most preferable way for its robustness.
>>
>> Regarding UDP -- is there anything speaking against CRLF^2 
>> too? I mean keeping things simple and non-special-cased is a 
>> good thing and I don't realized why this should not work.
>>
>> -jiri
>>
>>
>>
>> _______________________________________________
>> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
>> This list is for NEW development of the core SIP Protocol Use 
>> sip-implementors@cs.columbia.edu for questions on current sip 
>> Use sipping@ietf.org for new developments on the application of sip
>>
> 
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu May  8 09:48:34 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id C02293A6832;
	Thu,  8 May 2008 09:48:34 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id E1DA03A686F
	for <sip@core3.amsl.com>; Thu,  8 May 2008 09:48:29 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.599
X-Spam-Level: 
X-Spam-Status: No, score=-2.599 tagged_above=-999 required=5
	tests=[BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id hT+hDf6LmZea for <sip@core3.amsl.com>;
	Thu,  8 May 2008 09:48:27 -0700 (PDT)
Received: from ihemail4.lucent.com (ihemail4.lucent.com [135.245.0.39])
	by core3.amsl.com (Postfix) with ESMTP id 1ACFF3A6783
	for <sip@ietf.org>; Thu,  8 May 2008 09:48:26 -0700 (PDT)
Received: from umail.lucent.com (h135-3-40-61.lucent.com [135.3.40.61])
	by ihemail4.lucent.com (8.13.8/IER-o) with ESMTP id m48GmN5P024610
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO);
	Thu, 8 May 2008 11:48:23 -0500 (CDT)
Received: from [135.185.244.90] (il0015vkg1.ih.lucent.com [135.185.244.90])
	by umail.lucent.com (8.13.8/TPES) with ESMTP id m48GmL0J018023;
	Thu, 8 May 2008 11:48:21 -0500 (CDT)
Message-ID: <48232ED6.6010509@alcatel-lucent.com>
Date: Thu, 08 May 2008 11:48:22 -0500
From: "Vijay K. Gurbani" <vkg@alcatel-lucent.com>
Organization: Bell Labs Security Technology Research Group
User-Agent: Thunderbird 2.0.0.6 (Windows/20070728)
MIME-Version: 1.0
To: Jiri Kuthan <jiri@iptel.org>
References: <18465.17834.732392.527310@taimen.test.fi>	<CA9998CD4A020D418654FCDEF4E707DF046C776E@esealmw113.eemea.ericsson.se>	<18465.32545.345585.820414@taimen.test.fi>	<E6C2E8958BA59A4FB960963D475F7AC30BD8050F5A@mail.acmepacket.com>	<48222B8C.6010601@iptel.org>	<1ECE0EB50388174790F9694F77522CCF16A0247E@zrc2hxm0.corp.nortel.com>
	<4822A85A.8010106@iptel.org>
In-Reply-To: <4822A85A.8010106@iptel.org>
X-Scanned-By: MIMEDefang 2.57 on 135.245.2.39
Cc: sip@ietf.org
Subject: Re: [Sip] Draft: draft-holmberg-sip-keep-00.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Jiri Kuthan wrote:
> The trouble with TCP/keepalive is twofold. One is, as Hadriel mentions, 
> there are OSs that can't deal with it. [...]
> The other problem is very similar: there are NATs that ignore TCP 
> keep-alives to extend bindings.

There is one more problem in TCP keep-alives: they may cause an
otherwise perfect connection between two hosts to be disrupted if
some intermediary router connecting the two hosts hiccups
temporarily.

This is discussed to good length (including the pros and cons
of TCP keepalive) in Chapter 23 of [1].  The reference is old
enough (1994) that it does not contain discussion of NATs, but
the intermediary issue is valid and even mentioned in the more
recent book by Stevens, Fenner, and Rudoff [2]
(see discussion on pg. 201).

[1] W. Richard Stevens, "TCP/IP Illustrated, Volume 1: The Protocols,"
  Addison-Wesley, 1994.

[2] W. Richard Stevens,  Bill Fenner, and Andrew Rudoff,
  "Unix Network Programming: The Sockets Networking API," Addison-
  Wesley, 2004.

Ciao.

- vijay
-- 
Vijay K. Gurbani, Bell Laboratories, Alcatel-Lucent
2701 Lucent Lane, Rm. 9F-546, Lisle, Illinois 60532 (USA)
Email: vkg@{alcatel-lucent.com,bell-labs.com,acm.org}
WWW:   http://www.alcatel-lucent.com/bell-labs
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu May  8 09:51:44 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id E183A3A6783;
	Thu,  8 May 2008 09:51:44 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id D4BA43A686A
	for <sip@core3.amsl.com>; Thu,  8 May 2008 09:51:41 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -6.539
X-Spam-Level: 
X-Spam-Status: No, score=-6.539 tagged_above=-999 required=5 tests=[AWL=0.060, 
	BAYES_00=-2.599, RCVD_IN_DNSWL_MED=-4]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id teUDl-uZZuyy for <sip@core3.amsl.com>;
	Thu,  8 May 2008 09:51:41 -0700 (PDT)
Received: from zrtps0kn.nortel.com (zrtps0kn.nortel.com [47.140.192.55])
	by core3.amsl.com (Postfix) with ESMTP id CEFE63A6783
	for <sip@ietf.org>; Thu,  8 May 2008 09:51:40 -0700 (PDT)
Received: from zrc2hxm0.corp.nortel.com (zrc2hxm0.corp.nortel.com
	[47.103.123.71])
	by zrtps0kn.nortel.com (Switch-2.2.6/Switch-2.2.0) with ESMTP id
	m48GpZv09356; Thu, 8 May 2008 16:51:35 GMT
X-MIMEOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Thu, 8 May 2008 11:51:27 -0500
Message-ID: <1ECE0EB50388174790F9694F77522CCF16A5321E@zrc2hxm0.corp.nortel.com>
In-Reply-To: <18467.10759.517606.958702@taimen.test.fi>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] Draft: draft-holmberg-sip-keep-00.txt
Thread-index: AcixKH+gIJy1CA7KSNKBm6BD1CcODAAAwxwA
References: <18465.17834.732392.527310@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C776E@esealmw113.eemea.ericsson.se>
	<18465.32545.345585.820414@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8050F5A@mail.acmepacket.com>
	<18465.55659.177188.471351@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A01DDF@zrc2hxm0.corp.nortel.com>
	<18466.880.342656.104598@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD80514C7@mail.acmepacket.com>
	<48222D54.7020006@iptel.org>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8051669@mail.acmepacket.com>
	<CA9998CD4A020D418654FCDEF4E707DF046C7775@esealmw113.eemea.ericsson.se>
	<18466.42180.621089.330513@taimen.test.fi>	<4822AB7C.9000108@iptel.org>
	<1ECE0EB50388174790F9694F77522CCF16A5306F@zrc2hxm0.corp.nortel.com>
	<18467.10759.517606.958702@taimen.test.fi>
From: "Francois Audet" <audet@nortel.com>
To: "Juha Heinanen" <jh@tutpro.com>
Cc: sip@ietf.org, Christer Holmberg <christer.holmberg@ericsson.com>
Subject: Re: [Sip] Draft: draft-holmberg-sip-keep-00.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

I think that outbound in written in a way that High-availability could be 
added on top of it without requiring new changes on the clients. So one
could improve the servers and get HA without requiring new changes on the
UAs that support outbound.

You are welcome to make proposals on high-availability if you want. 

> -----Original Message-----
> From: Juha Heinanen [mailto:jh@tutpro.com] 
> Sent: Thursday, May 08, 2008 09:28
> To: Audet, Francois (SC100:3055)
> Cc: Jiri Kuthan; sip@ietf.org; Christer Holmberg
> Subject: RE: [Sip] Draft: draft-holmberg-sip-keep-00.txt
> 
> Francois Audet writes:
> 
>  > However, getting the CRLF back tells the UA that the proxy 
> is alive.
> 
> yes, and if it gets one CRLF back, it can turn on the detection mode.
> there is no need to introduce yet another sip protocol level 
> feature for that purpose.
> 
>  > Remember that outbound can be used for high-availability. 
> The UA can use this  > to switch to a backup proxy.
> 
> i would have very much liked that outbound would have 
> supported high availability.  unfortunately, features that 
> would support ha are not mandatory in outbound draft, which 
> means that proxies cannot rely on them.  this is the biggest 
> reason why outbound is useless.
> 
> -- juha
> 
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu May  8 10:04:34 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 600C43A6888;
	Thu,  8 May 2008 10:04:34 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id BAFDD3A6991
	for <sip@core3.amsl.com>; Thu,  8 May 2008 10:04:30 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.534
X-Spam-Level: 
X-Spam-Status: No, score=-2.534 tagged_above=-999 required=5 tests=[AWL=0.065, 
	BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id WhGIqPccocg0 for <sip@core3.amsl.com>;
	Thu,  8 May 2008 10:04:25 -0700 (PDT)
Received: from tutpro.com (lohi.tutpro.com [192.98.100.2])
	by core3.amsl.com (Postfix) with ESMTP id 705943A6783
	for <sip@ietf.org>; Thu,  8 May 2008 10:04:25 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by tutpro.com (Postfix) with ESMTP id 365F51EC25B;
	Thu,  8 May 2008 20:04:23 +0300 (EEST)
Received: from tutpro.com ([127.0.0.1])
	by localhost (tutpro.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id kEicVb6lfM2k; Thu,  8 May 2008 20:04:16 +0300 (EEST)
Received: from taimen (h133186.gprs.dnafinland.fi [87.93.133.186])
	by tutpro.com (Postfix) with ESMTP;
	Thu,  8 May 2008 20:04:16 +0300 (EEST)
Received: by taimen (Postfix, from userid 1000)
	id ED62DAC071; Thu,  8 May 2008 20:04:11 +0300 (EEST)
MIME-Version: 1.0
Message-ID: <18467.12939.938913.841738@taimen.test.fi>
Date: Thu, 8 May 2008 20:04:11 +0300
To: "Francois Audet" <audet@nortel.com>
In-Reply-To: <1ECE0EB50388174790F9694F77522CCF16A5321E@zrc2hxm0.corp.nortel.com>
References: <18465.17834.732392.527310@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C776E@esealmw113.eemea.ericsson.se>
	<18465.32545.345585.820414@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8050F5A@mail.acmepacket.com>
	<18465.55659.177188.471351@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A01DDF@zrc2hxm0.corp.nortel.com>
	<18466.880.342656.104598@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD80514C7@mail.acmepacket.com>
	<48222D54.7020006@iptel.org>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8051669@mail.acmepacket.com>
	<CA9998CD4A020D418654FCDEF4E707DF046C7775@esealmw113.eemea.ericsson.se>
	<18466.42180.621089.330513@taimen.test.fi>
	<4822AB7C.9000108@iptel.org>
	<1ECE0EB50388174790F9694F77522CCF16A5306F@zrc2hxm0.corp.nortel.com>
	<18467.10759.517606.958702@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A5321E@zrc2hxm0.corp.nortel.com>
X-Mailer: VM 7.19 under Emacs 22.1.1
From: jh@tutpro.com (Juha Heinanen)
Cc: sip@ietf.org, Christer Holmberg <christer.holmberg@ericsson.com>
Subject: Re: [Sip] Draft: draft-holmberg-sip-keep-00.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Francois Audet writes:

 > I think that outbound in written in a way that High-availability could be 
 > added on top of it without requiring new changes on the clients. 

the changes that would be needed are that outbound clients MUST try
another proxy in the set if one of them dies and MUST register with all
proxies in the set.  today there are no such MUSTs in the draft, which
makes outbound draft completely useless.

on the other hand, i have not heard of any UAs on the market that would
implement outbound, so in that sense, no changes would be needed in
current outbound UAs because such UAs don't exist.

-- juha
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu May  8 10:53:49 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id B8BAA3A69F3;
	Thu,  8 May 2008 10:53:49 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 1AF623A69F3
	for <sip@core3.amsl.com>; Thu,  8 May 2008 10:53:48 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.513
X-Spam-Level: 
X-Spam-Status: No, score=-2.513 tagged_above=-999 required=5 tests=[AWL=0.086, 
	BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id NQ9QVI6kVU8C for <sip@core3.amsl.com>;
	Thu,  8 May 2008 10:53:47 -0700 (PDT)
Received: from etmail.acmepacket.com (etmail.acmepacket.com [216.41.24.6])
	by core3.amsl.com (Postfix) with ESMTP id F3A933A67F5
	for <sip@ietf.org>; Thu,  8 May 2008 10:53:46 -0700 (PDT)
Received: from mail.acmepacket.com (216.41.24.7) by etmail.acmepacket.com
	(216.41.24.6) with Microsoft SMTP Server (TLS) id 8.1.263.0;
	Thu, 8 May 2008 13:53:09 -0400
Received: from mail.acmepacket.com ([216.41.24.7]) by mail.acmepacket.com
	([216.41.24.7]) with mapi; Thu, 8 May 2008 13:53:09 -0400
From: Hadriel Kaplan <HKaplan@acmepacket.com>
To: Francois Audet <audet@nortel.com>, Christer Holmberg
	<christer.holmberg@ericsson.com>, Juha Heinanen <jh@tutpro.com>,
	Jiri Kuthan <jiri@iptel.org>
Date: Thu, 8 May 2008 13:53:07 -0400
Thread-Topic: [Sip] Draft: draft-holmberg-sip-keep-00.txt
Thread-Index: Aciw3S1faiFBUMuQSI2CRhJuLaTIFAABsAtLAA+X/UAABFxE8A==
Message-ID: <E6C2E8958BA59A4FB960963D475F7AC30BD80C2A14@mail.acmepacket.com>
References: <18465.17834.732392.527310@taimen.test.fi><CA9998CD4A020D418654FCDEF4E707DF046C776E@esealmw113.eemea.ericsson.se><18465.32545.345585.820414@taimen.test.fi><E6C2E8958BA59A4FB960963D475F7AC30BD8050F5A@mail.acmepacket.com><18465.55659.177188.471351@taimen.test.fi><1ECE0EB50388174790F9694F77522CCF16A01DDF@zrc2hxm0.corp.nortel.com><18466.880.342656.104598@taimen.test.fi><E6C2E8958BA59A4FB960963D475F7AC30BD80514C7@mail.acmepacket.com><48222D54.7020006@iptel.org><E6C2E8958BA59A4FB960963D475F7AC30BD8051669@mail.acmepacket.com><CA9998CD4A020D418654FCDEF4E707DF046C7775@esealmw113.eemea.ericsson.se><4822AB25.1070200@iptel.org>
	<18466.43946.215481.520633@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C777C@esealmw113.eemea.ericsson.se>
	<1ECE0EB50388174790F9694F77522CCF16A52F5D@zrc2hxm0.corp.nortel.com>
In-Reply-To: <1ECE0EB50388174790F9694F77522CCF16A52F5D@zrc2hxm0.corp.nortel.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
acceptlanguage: en-US
MIME-Version: 1.0
Cc: "sip@ietf.org" <sip@ietf.org>
Subject: Re: [Sip] Draft: draft-holmberg-sip-keep-00.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org



> -----Original Message-----
> From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On Behalf Of
> Francois Audet
>
> It will know because the UA send double-crlf. No?

No, the proxy can't assume that.  If the proxy sets the Registration time to be low, it may stop the UAC from sending double-CRLF, even though the Proxy and UAC would have preferred to use double-CRLF.

For example, Juha mentioned that a Nokia phone sends double-CRLF, but it doesn't when it's connected to my proxy - I don't know if that's a config setting on the phone or because my proxy is making the nokia re-register frequently.  Either way, if the nokia simply told my proxy it could send such double-CRLF in its initial Register, we could avoid any such chicken-egg problem and avoid configuration and so on.

-hadriel
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu May  8 10:57:49 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id D0B3E3A6A3A;
	Thu,  8 May 2008 10:57:49 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id C72563A690E
	for <sip@core3.amsl.com>; Thu,  8 May 2008 10:57:47 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -6.264
X-Spam-Level: 
X-Spam-Status: No, score=-6.264 tagged_above=-999 required=5 tests=[AWL=0.335, 
	BAYES_00=-2.599, RCVD_IN_DNSWL_MED=-4]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id gV4JmgZY2-l8 for <sip@core3.amsl.com>;
	Thu,  8 May 2008 10:57:47 -0700 (PDT)
Received: from zcars04f.nortel.com (zcars04f.nortel.com [47.129.242.57])
	by core3.amsl.com (Postfix) with ESMTP id B83373A67F5
	for <sip@ietf.org>; Thu,  8 May 2008 10:57:46 -0700 (PDT)
Received: from zrc2hxm0.corp.nortel.com (zrc2hxm0.corp.nortel.com
	[47.103.123.71])
	by zcars04f.nortel.com (Switch-2.2.6/Switch-2.2.0) with ESMTP id
	m48Hveq06301; Thu, 8 May 2008 17:57:40 GMT
X-MIMEOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Thu, 8 May 2008 12:57:17 -0500
Message-ID: <1ECE0EB50388174790F9694F77522CCF16A53410@zrc2hxm0.corp.nortel.com>
In-Reply-To: <18467.12939.938913.841738@taimen.test.fi>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: draft-ietf-sip-outbound
Thread-index: AcixLZN+xmeLpRyjRduIWhdOhzJLmQABHyjA
References: <18465.17834.732392.527310@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C776E@esealmw113.eemea.ericsson.se>
	<18465.32545.345585.820414@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8050F5A@mail.acmepacket.com>
	<18465.55659.177188.471351@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A01DDF@zrc2hxm0.corp.nortel.com>
	<18466.880.342656.104598@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD80514C7@mail.acmepacket.com>
	<48222D54.7020006@iptel.org>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8051669@mail.acmepacket.com>
	<CA9998CD4A020D418654FCDEF4E707DF046C7775@esealmw113.eemea.ericsson.se>
	<18466.42180.621089.330513@taimen.test.fi>	<4822AB7C.9000108@iptel.org>
	<1ECE0EB50388174790F9694F77522CCF16A5306F@zrc2hxm0.corp.nortel.com>
	<18467.10759.517606.958702@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A5321E@zrc2hxm0.corp.nortel.com>
	<18467.12939.938913.841738@taimen.test.fi>
From: "Francois Audet" <audet@nortel.com>
To: "Juha Heinanen" <jh@tutpro.com>
Cc: sip@ietf.org, Christer Holmberg <christer.holmberg@ericsson.com>,
	drage@alcatel-lucent.com, dean.willis@softarmor.com
Subject: [Sip] draft-ietf-sip-outbound
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

(Changing the thread).

4.2.1 says "However, a UA MUST support sets with at least two outbound proxy URIs
and SHOULD support sets with up to four URIs.". This section makes it very clear that
you are supposed to support multiple proxies. There is some wording about limiting
it for battery life, etc., but it is pretty clear to me that's it is not optional.

Section 4.4 basically says that if a flow fails, you re-do 4.2. It says:

   The UA needs to detect when a specific flow fails.  The UA actively
   tries to detect failure by periodically sending keep alive messages
   using one of the techniques described in Section 4.4.1 or
   Section 4.4.2.  If a flow with a registration has failed, the UA
   follows the procedures in Section 4.2 to form a new flow to replace
   the failed one.

Are you saying that this paragraph should have mandatory language (i.e., 
replace "needs to" with "MUST" and "follows" with "MUST follow"?

If so, you should make this comment on the list. It would be much more 
productive to make a concrete proposal to address your concern instead of saying 
past WGLC that a document is "useless".


> -----Original Message-----
> From: Juha Heinanen [mailto:jh@tutpro.com] 
> Sent: Thursday, May 08, 2008 10:04
> To: Audet, Francois (SC100:3055)
> Cc: Jiri Kuthan; sip@ietf.org; Christer Holmberg
> Subject: RE: [Sip] Draft: draft-holmberg-sip-keep-00.txt
> 
> Francois Audet writes:
> 
>  > I think that outbound in written in a way that 
> High-availability could be  > added on top of it without 
> requiring new changes on the clients. 
> 
> the changes that would be needed are that outbound clients 
> MUST try another proxy in the set if one of them dies and 
> MUST register with all proxies in the set.  today there are 
> no such MUSTs in the draft, which makes outbound draft 
> completely useless.
> 
> on the other hand, i have not heard of any UAs on the market 
> that would implement outbound, so in that sense, no changes 
> would be needed in current outbound UAs because such UAs don't exist.
> 
> -- juha
> 
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu May  8 10:58:20 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id E0D6128C1E9;
	Thu,  8 May 2008 10:58:20 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 510423A6C85
	for <sip@core3.amsl.com>; Thu,  8 May 2008 10:58:19 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.537
X-Spam-Level: 
X-Spam-Status: No, score=-2.537 tagged_above=-999 required=5 tests=[AWL=0.063, 
	BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id UMYxhnWLmM1G for <sip@core3.amsl.com>;
	Thu,  8 May 2008 10:58:15 -0700 (PDT)
Received: from tutpro.com (lohi.tutpro.com [192.98.100.2])
	by core3.amsl.com (Postfix) with ESMTP id 753213A6AE3
	for <sip@ietf.org>; Thu,  8 May 2008 10:58:15 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by tutpro.com (Postfix) with ESMTP id 5B95C1EC25B;
	Thu,  8 May 2008 20:58:12 +0300 (EEST)
Received: from tutpro.com ([127.0.0.1])
	by localhost (tutpro.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id dWqXMQkLT7Eq; Thu,  8 May 2008 20:58:05 +0300 (EEST)
Received: from taimen (h133186.gprs.dnafinland.fi [87.93.133.186])
	by tutpro.com (Postfix) with ESMTP;
	Thu,  8 May 2008 20:58:05 +0300 (EEST)
Received: by taimen (Postfix, from userid 1000)
	id 433B2AC071; Thu,  8 May 2008 20:58:01 +0300 (EEST)
MIME-Version: 1.0
Message-ID: <18467.16169.243916.417456@taimen.test.fi>
Date: Thu, 8 May 2008 20:58:01 +0300
To: Hadriel Kaplan <HKaplan@acmepacket.com>
In-Reply-To: <E6C2E8958BA59A4FB960963D475F7AC30BD80C2A14@mail.acmepacket.com>
References: <18465.17834.732392.527310@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C776E@esealmw113.eemea.ericsson.se>
	<18465.32545.345585.820414@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8050F5A@mail.acmepacket.com>
	<18465.55659.177188.471351@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A01DDF@zrc2hxm0.corp.nortel.com>
	<18466.880.342656.104598@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD80514C7@mail.acmepacket.com>
	<48222D54.7020006@iptel.org>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8051669@mail.acmepacket.com>
	<CA9998CD4A020D418654FCDEF4E707DF046C7775@esealmw113.eemea.ericsson.se>
	<4822AB25.1070200@iptel.org>
	<18466.43946.215481.520633@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C777C@esealmw113.eemea.ericsson.se>
	<1ECE0EB50388174790F9694F77522CCF16A52F5D@zrc2hxm0.corp.nortel.com>
	<E6C2E8958BA59A4FB960963D475F7AC30BD80C2A14@mail.acmepacket.com>
X-Mailer: VM 7.19 under Emacs 22.1.1
From: jh@tutpro.com (Juha Heinanen)
Cc: "sip@ietf.org" <sip@ietf.org>, Francois Audet <audet@nortel.com>,
	Christer Holmberg <christer.holmberg@ericsson.com>
Subject: Re: [Sip] Draft: draft-holmberg-sip-keep-00.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Hadriel Kaplan writes:

 > For example, Juha mentioned that a Nokia phone sends double-CRLF, but
 > it doesn't when it's connected to my proxy - I don't know if that's a
 > config setting on the phone or because my proxy is making the nokia
 > re-register frequently.

it may be that you need to turn on CRLF using nokia's sip voip settings
tool, but if i remember correctly, it is automatically on if your phone
is behind nat.

-- juha
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu May  8 10:59:43 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id BB5343A6C73;
	Thu,  8 May 2008 10:59:43 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 9AA923A6AE3
	for <sip@core3.amsl.com>; Thu,  8 May 2008 10:59:42 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.524
X-Spam-Level: 
X-Spam-Status: No, score=-2.524 tagged_above=-999 required=5 tests=[AWL=0.075, 
	BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id IMMedLT6J-32 for <sip@core3.amsl.com>;
	Thu,  8 May 2008 10:59:42 -0700 (PDT)
Received: from etmail.acmepacket.com (etmail.acmepacket.com [216.41.24.6])
	by core3.amsl.com (Postfix) with ESMTP id CA6063A6C1E
	for <sip@ietf.org>; Thu,  8 May 2008 10:59:41 -0700 (PDT)
Received: from mail.acmepacket.com (216.41.24.7) by etmail.acmepacket.com
	(216.41.24.6) with Microsoft SMTP Server (TLS) id 8.1.263.0;
	Thu, 8 May 2008 13:59:04 -0400
Received: from mail.acmepacket.com ([216.41.24.7]) by mail.acmepacket.com
	([216.41.24.7]) with mapi; Thu, 8 May 2008 13:59:04 -0400
From: Hadriel Kaplan <HKaplan@acmepacket.com>
To: Juha Heinanen <jh@tutpro.com>, Francois Audet <audet@nortel.com>
Date: Thu, 8 May 2008 13:59:02 -0400
Thread-Topic: [Sip] Draft: draft-holmberg-sip-keep-00.txt
Thread-Index: AcixJ2sLm/C1ZF8KTf6OFF7M0LZwPQADTvDw
Message-ID: <E6C2E8958BA59A4FB960963D475F7AC30BD80C2A37@mail.acmepacket.com>
References: <18465.17834.732392.527310@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C776E@esealmw113.eemea.ericsson.se>
	<18465.32545.345585.820414@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8050F5A@mail.acmepacket.com>
	<18465.55659.177188.471351@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A01DDF@zrc2hxm0.corp.nortel.com>
	<18466.880.342656.104598@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD80514C7@mail.acmepacket.com>
	<48222D54.7020006@iptel.org>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8051669@mail.acmepacket.com>
	<CA9998CD4A020D418654FCDEF4E707DF046C7775@esealmw113.eemea.ericsson.se>
	<4822AB25.1070200@iptel.org>	<18466.43946.215481.520633@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C777C@esealmw113.eemea.ericsson.se>
	<1ECE0EB50388174790F9694F77522CCF16A52F5D@zrc2hxm0.corp.nortel.com>
	<18467.8712.540473.285540@taimen.test.fi>
In-Reply-To: <18467.8712.540473.285540@taimen.test.fi>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
acceptlanguage: en-US
MIME-Version: 1.0
Cc: "sip@ietf.org" <sip@ietf.org>,
	Christer Holmberg <christer.holmberg@ericsson.com>
Subject: Re: [Sip] Draft: draft-holmberg-sip-keep-00.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


> -----Original Message-----
> From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On Behalf Of Juha
> Heinanen
>
> the point was that the proxy does not need do anything regarding
> registration interval, because it cannot have any better knowledge about
> the properties of UA's NAT than the UA has.

As a matter of fact, the proxy can have knowledge about the properties of that NAT, but that's a separate topic and not related to this issue.


> so it the responsibility of
> the UA to use a short reg int if it is behind NAT and does not support
> CRLF.


I know in the prefect world all UA's are "smart" and up on the latest specs and do the right thing.  And that may be the world for you.  The fact that *some* UAC's are smarter is completely moot.  The fact is not *all* UAC's are smart, and there are some of us who have to make SIP service work with the dumber UAC's as well.  If you don't want to support them that's cool - no one's making you.  No one's making you implement anything, so I don't understand the consternation.(?)

-hadriel
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu May  8 11:03:36 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 35FE53A6A7D;
	Thu,  8 May 2008 11:03:36 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id EC09A3A6AF0
	for <sip@core3.amsl.com>; Thu,  8 May 2008 11:03:33 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.539
X-Spam-Level: 
X-Spam-Status: No, score=-2.539 tagged_above=-999 required=5 tests=[AWL=0.060, 
	BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id Bl3JmX6yHIzg for <sip@core3.amsl.com>;
	Thu,  8 May 2008 11:03:33 -0700 (PDT)
Received: from tutpro.com (lohi.tutpro.com [192.98.100.2])
	by core3.amsl.com (Postfix) with ESMTP id BCD183A6CAF
	for <sip@ietf.org>; Thu,  8 May 2008 11:03:32 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by tutpro.com (Postfix) with ESMTP id 768851EC25B;
	Thu,  8 May 2008 21:03:30 +0300 (EEST)
Received: from tutpro.com ([127.0.0.1])
	by localhost (tutpro.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id fQO+ADuNNWrS; Thu,  8 May 2008 21:03:23 +0300 (EEST)
Received: from taimen (h133186.gprs.dnafinland.fi [87.93.133.186])
	by tutpro.com (Postfix) with ESMTP;
	Thu,  8 May 2008 21:03:23 +0300 (EEST)
Received: by taimen (Postfix, from userid 1000)
	id 33D98AC071; Thu,  8 May 2008 21:03:19 +0300 (EEST)
MIME-Version: 1.0
Message-ID: <18467.16487.171324.508479@taimen.test.fi>
Date: Thu, 8 May 2008 21:03:19 +0300
To: "Francois Audet" <audet@nortel.com>
In-Reply-To: <1ECE0EB50388174790F9694F77522CCF16A53410@zrc2hxm0.corp.nortel.com>
References: <18465.17834.732392.527310@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C776E@esealmw113.eemea.ericsson.se>
	<18465.32545.345585.820414@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8050F5A@mail.acmepacket.com>
	<18465.55659.177188.471351@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A01DDF@zrc2hxm0.corp.nortel.com>
	<18466.880.342656.104598@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD80514C7@mail.acmepacket.com>
	<48222D54.7020006@iptel.org>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8051669@mail.acmepacket.com>
	<CA9998CD4A020D418654FCDEF4E707DF046C7775@esealmw113.eemea.ericsson.se>
	<18466.42180.621089.330513@taimen.test.fi>
	<4822AB7C.9000108@iptel.org>
	<1ECE0EB50388174790F9694F77522CCF16A5306F@zrc2hxm0.corp.nortel.com>
	<18467.10759.517606.958702@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A5321E@zrc2hxm0.corp.nortel.com>
	<18467.12939.938913.841738@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A53410@zrc2hxm0.corp.nortel.com>
X-Mailer: VM 7.19 under Emacs 22.1.1
From: jh@tutpro.com (Juha Heinanen)
Cc: sip@ietf.org, Christer Holmberg <christer.holmberg@ericsson.com>,
	drage@alcatel-lucent.com, dean.willis@softarmor.com
Subject: [Sip] draft-ietf-sip-outbound
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Francois Audet writes:

 > 4.2.1 says "However, a UA MUST support sets with at least two
 > outbound proxy URIs and SHOULD support sets with up to four
 > URIs.". This section makes it very clear that you are supposed to
 > support multiple proxies. There is some wording about limiting
 > it for battery life, etc., but it is pretty clear to me that's it is
 > not optional.

where does it say that the UA MUST register with all proxies in the set?
i fought a long battle on that one and lost.  may be a miracle has
happened and the issue has been revisited?

if there is any text left in the draft that you don't need to register
with all proxies in the set, for example, if you want to save battery
life, then the draft is useless, because proxies in the set cannot trust
that each outbound UA really registers with every proxy.

-- juha
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu May  8 11:07:58 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 356703A6D9B;
	Thu,  8 May 2008 11:07:58 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 7E3E53A6DB6
	for <sip@core3.amsl.com>; Thu,  8 May 2008 11:07:52 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.541
X-Spam-Level: 
X-Spam-Status: No, score=-2.541 tagged_above=-999 required=5 tests=[AWL=0.058, 
	BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id o2Cxo4A+z1lh for <sip@core3.amsl.com>;
	Thu,  8 May 2008 11:07:48 -0700 (PDT)
Received: from tutpro.com (lohi.tutpro.com [192.98.100.2])
	by core3.amsl.com (Postfix) with ESMTP id 6D46228C304
	for <sip@ietf.org>; Thu,  8 May 2008 11:07:13 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by tutpro.com (Postfix) with ESMTP id 2CA451EC25B;
	Thu,  8 May 2008 21:07:11 +0300 (EEST)
Received: from tutpro.com ([127.0.0.1])
	by localhost (tutpro.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id rBd7UtV-7rok; Thu,  8 May 2008 21:07:04 +0300 (EEST)
Received: from taimen (h133186.gprs.dnafinland.fi [87.93.133.186])
	by tutpro.com (Postfix) with ESMTP;
	Thu,  8 May 2008 21:07:04 +0300 (EEST)
Received: by taimen (Postfix, from userid 1000)
	id 70298AC071; Thu,  8 May 2008 21:07:01 +0300 (EEST)
MIME-Version: 1.0
Message-ID: <18467.16709.423752.484859@taimen.test.fi>
Date: Thu, 8 May 2008 21:07:01 +0300
To: Hadriel Kaplan <HKaplan@acmepacket.com>
In-Reply-To: <E6C2E8958BA59A4FB960963D475F7AC30BD80C2A37@mail.acmepacket.com>
References: <18465.17834.732392.527310@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C776E@esealmw113.eemea.ericsson.se>
	<18465.32545.345585.820414@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8050F5A@mail.acmepacket.com>
	<18465.55659.177188.471351@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A01DDF@zrc2hxm0.corp.nortel.com>
	<18466.880.342656.104598@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD80514C7@mail.acmepacket.com>
	<48222D54.7020006@iptel.org>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8051669@mail.acmepacket.com>
	<CA9998CD4A020D418654FCDEF4E707DF046C7775@esealmw113.eemea.ericsson.se>
	<4822AB25.1070200@iptel.org>
	<18466.43946.215481.520633@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C777C@esealmw113.eemea.ericsson.se>
	<1ECE0EB50388174790F9694F77522CCF16A52F5D@zrc2hxm0.corp.nortel.com>
	<18467.8712.540473.285540@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD80C2A37@mail.acmepacket.com>
X-Mailer: VM 7.19 under Emacs 22.1.1
From: jh@tutpro.com (Juha Heinanen)
Cc: "sip@ietf.org" <sip@ietf.org>, Francois Audet <audet@nortel.com>,
	Christer Holmberg <christer.holmberg@ericsson.com>
Subject: Re: [Sip] Draft: draft-holmberg-sip-keep-00.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Hadriel Kaplan writes:


 > > so it the responsibility of
 > > the UA to use a short reg int if it is behind NAT and does not support
 > > CRLF.
 > 
 > I know in the prefect world all UA's are "smart" and up on the latest
 > specs and do the right thing.

i didn't claim that all UAs are smart and implement latest specs.  but
in most UAs, even in very old ones, it is possible to manually configure
the reg int.  so if user's UA is behind nat, the user can usually
configure reg int and make it work from behind nat.  on the other hand,
very few old UAs support tcp.

-- juha
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu May  8 11:12:17 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 36E363A6D9D;
	Thu,  8 May 2008 11:12:17 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id ADE0C28C11B
	for <sip@core3.amsl.com>; Thu,  8 May 2008 11:12:14 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.532
X-Spam-Level: 
X-Spam-Status: No, score=-2.532 tagged_above=-999 required=5 tests=[AWL=0.067, 
	BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id UOFiIASlEabb for <sip@core3.amsl.com>;
	Thu,  8 May 2008 11:12:13 -0700 (PDT)
Received: from etmail.acmepacket.com (etmail.acmepacket.com [216.41.24.6])
	by core3.amsl.com (Postfix) with ESMTP id A03693A6CA9
	for <sip@ietf.org>; Thu,  8 May 2008 11:10:30 -0700 (PDT)
Received: from mail.acmepacket.com (216.41.24.7) by etmail.acmepacket.com
	(216.41.24.6) with Microsoft SMTP Server (TLS) id 8.1.263.0;
	Thu, 8 May 2008 14:09:53 -0400
Received: from mail.acmepacket.com ([216.41.24.7]) by mail.acmepacket.com
	([216.41.24.7]) with mapi; Thu, 8 May 2008 14:09:53 -0400
From: Hadriel Kaplan <HKaplan@acmepacket.com>
To: Juha Heinanen <jh@tutpro.com>, Francois Audet <audet@nortel.com>
Date: Thu, 8 May 2008 14:09:50 -0400
Thread-Topic: [Sip] draft-ietf-sip-outbound
Thread-Index: AcixNcLc+hLOLDe9RpS6TnfkVkoYpgAAG50A
Message-ID: <E6C2E8958BA59A4FB960963D475F7AC30BD80C2A8B@mail.acmepacket.com>
References: <18465.17834.732392.527310@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C776E@esealmw113.eemea.ericsson.se>
	<18465.32545.345585.820414@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8050F5A@mail.acmepacket.com>
	<18465.55659.177188.471351@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A01DDF@zrc2hxm0.corp.nortel.com>
	<18466.880.342656.104598@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD80514C7@mail.acmepacket.com>
	<48222D54.7020006@iptel.org>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8051669@mail.acmepacket.com>
	<CA9998CD4A020D418654FCDEF4E707DF046C7775@esealmw113.eemea.ericsson.se>
	<18466.42180.621089.330513@taimen.test.fi>	<4822AB7C.9000108@iptel.org>
	<1ECE0EB50388174790F9694F77522CCF16A5306F@zrc2hxm0.corp.nortel.com>
	<18467.10759.517606.958702@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A5321E@zrc2hxm0.corp.nortel.com>
	<18467.12939.938913.841738@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A53410@zrc2hxm0.corp.nortel.com>
	<18467.16487.171324.508479@taimen.test.fi>
In-Reply-To: <18467.16487.171324.508479@taimen.test.fi>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
acceptlanguage: en-US
MIME-Version: 1.0
Cc: "sip@ietf.org" <sip@ietf.org>,
	"dean.willis@softarmor.com" <dean.willis@softarmor.com>,
	"drage@alcatel-lucent.com" <drage@alcatel-lucent.com>,
	Christer Holmberg <christer.holmberg@ericsson.com>
Subject: Re: [Sip] draft-ietf-sip-outbound
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org



> -----Original Message-----
> From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On Behalf Of Juha
> Heinanen
>
> Francois Audet writes:
>
>  > 4.2.1 says "However, a UA MUST support sets with at least two
>  > outbound proxy URIs and SHOULD support sets with up to four
>  > URIs.". This section makes it very clear that you are supposed to
>  > support multiple proxies. There is some wording about limiting
>  > it for battery life, etc., but it is pretty clear to me that's it is
>  > not optional.
>
> where does it say that the UA MUST register with all proxies in the set?
> i fought a long battle on that one and lost.  may be a miracle has
> happened and the issue has been revisited?
>
> if there is any text left in the draft that you don't need to register
> with all proxies in the set, for example, if you want to save battery
> life, then the draft is useless, because proxies in the set cannot trust
> that each outbound UA really registers with every proxy.

Now I'm getting even more confused. :)
First you argue to let the UA's decide what's best for them, and now you're saying the proxy needs to trust/know that each UA registers with every proxy.  Why is that?  How does it change the behavior of the proxy?

-hadriel
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu May  8 11:14:19 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 9BA303A68A1;
	Thu,  8 May 2008 11:14:19 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id DF98B3A686A
	for <sip@core3.amsl.com>; Thu,  8 May 2008 11:14:17 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.543
X-Spam-Level: 
X-Spam-Status: No, score=-2.543 tagged_above=-999 required=5 tests=[AWL=0.056, 
	BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id YYCYnA6Q46eQ for <sip@core3.amsl.com>;
	Thu,  8 May 2008 11:14:17 -0700 (PDT)
Received: from tutpro.com (sip.tutpro.com [192.98.100.10])
	by core3.amsl.com (Postfix) with ESMTP id F266A3A67E3
	for <sip@ietf.org>; Thu,  8 May 2008 11:14:16 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by tutpro.com (Postfix) with ESMTP id 80A571EC25B;
	Thu,  8 May 2008 21:14:14 +0300 (EEST)
Received: from tutpro.com ([127.0.0.1])
	by localhost (tutpro.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id FziFUHasn2dt; Thu,  8 May 2008 21:14:07 +0300 (EEST)
Received: from taimen (h133186.gprs.dnafinland.fi [87.93.133.186])
	by tutpro.com (Postfix) with ESMTP;
	Thu,  8 May 2008 21:14:07 +0300 (EEST)
Received: by taimen (Postfix, from userid 1000)
	id C5393AC071; Thu,  8 May 2008 21:14:04 +0300 (EEST)
Message-ID: <18467.17132.777986.663966@taimen.test.fi>
Date: Thu, 8 May 2008 21:14:04 +0300
MIME-Version: 1.0
To: Hadriel Kaplan <HKaplan@acmepacket.com>
In-Reply-To: <E6C2E8958BA59A4FB960963D475F7AC30BD80C2A37@mail.acmepacket.com>
References: <18465.17834.732392.527310@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C776E@esealmw113.eemea.ericsson.se>
	<18465.32545.345585.820414@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8050F5A@mail.acmepacket.com>
	<18465.55659.177188.471351@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A01DDF@zrc2hxm0.corp.nortel.com>
	<18466.880.342656.104598@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD80514C7@mail.acmepacket.com>
	<48222D54.7020006@iptel.org>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8051669@mail.acmepacket.com>
	<CA9998CD4A020D418654FCDEF4E707DF046C7775@esealmw113.eemea.ericsson.se>
	<4822AB25.1070200@iptel.org>
	<18466.43946.215481.520633@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C777C@esealmw113.eemea.ericsson.se>
	<1ECE0EB50388174790F9694F77522CCF16A52F5D@zrc2hxm0.corp.nortel.com>
	<18467.8712.540473.285540@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD80C2A37@mail.acmepacket.com>
X-Mailer: VM 7.19 under Emacs 22.1.1
From: jh@tutpro.com (Juha Heinanen)
Cc: "sip@ietf.org" <sip@ietf.org>, Francois Audet <audet@nortel.com>,
	Christer Holmberg <christer.holmberg@ericsson.com>
Subject: Re: [Sip] Draft: draft-holmberg-sip-keep-00.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Hadriel Kaplan writes:

 > > so it the responsibility of
 > > the UA to use a short reg int if it is behind NAT and does not support
 > > CRLF.
 > 
 > I know in the prefect world all UA's are "smart" and up on the latest
 > specs and do the right thing.

i would like to add to this that in order for your proxy to be able to
do its "smarts" and reduce the reg int of the UA, the UA would first
need to implement this brand new keep draft (if you want to avoid
reducing reg int for vain).  it is easier for the UA to simply implement
CRLF capability without the keep draft like some and growing number are
already doing.

-- juha
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu May  8 11:21:09 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 9316428C226;
	Thu,  8 May 2008 11:21:09 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id B91DB28C24E
	for <sip@core3.amsl.com>; Thu,  8 May 2008 11:21:07 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.545
X-Spam-Level: 
X-Spam-Status: No, score=-2.545 tagged_above=-999 required=5 tests=[AWL=0.054, 
	BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id c1EoHLBjvpiv for <sip@core3.amsl.com>;
	Thu,  8 May 2008 11:21:06 -0700 (PDT)
Received: from tutpro.com (sip.tutpro.com [192.98.100.10])
	by core3.amsl.com (Postfix) with ESMTP id 93DB83A6896
	for <sip@ietf.org>; Thu,  8 May 2008 11:20:16 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by tutpro.com (Postfix) with ESMTP id 7992C1EC25B;
	Thu,  8 May 2008 21:20:14 +0300 (EEST)
Received: from tutpro.com ([127.0.0.1])
	by localhost (tutpro.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id IvOQCmow-720; Thu,  8 May 2008 21:20:07 +0300 (EEST)
Received: from taimen (h133186.gprs.dnafinland.fi [87.93.133.186])
	by tutpro.com (Postfix) with ESMTP;
	Thu,  8 May 2008 21:20:07 +0300 (EEST)
Received: by taimen (Postfix, from userid 1000)
	id 57352AC071; Thu,  8 May 2008 21:20:04 +0300 (EEST)
MIME-Version: 1.0
Message-ID: <18467.17492.323683.861768@taimen.test.fi>
Date: Thu, 8 May 2008 21:20:04 +0300
To: Hadriel Kaplan <HKaplan@acmepacket.com>
In-Reply-To: <E6C2E8958BA59A4FB960963D475F7AC30BD80C2A8B@mail.acmepacket.com>
References: <18465.17834.732392.527310@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C776E@esealmw113.eemea.ericsson.se>
	<18465.32545.345585.820414@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8050F5A@mail.acmepacket.com>
	<18465.55659.177188.471351@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A01DDF@zrc2hxm0.corp.nortel.com>
	<18466.880.342656.104598@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD80514C7@mail.acmepacket.com>
	<48222D54.7020006@iptel.org>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8051669@mail.acmepacket.com>
	<CA9998CD4A020D418654FCDEF4E707DF046C7775@esealmw113.eemea.ericsson.se>
	<18466.42180.621089.330513@taimen.test.fi>
	<4822AB7C.9000108@iptel.org>
	<1ECE0EB50388174790F9694F77522CCF16A5306F@zrc2hxm0.corp.nortel.com>
	<18467.10759.517606.958702@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A5321E@zrc2hxm0.corp.nortel.com>
	<18467.12939.938913.841738@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A53410@zrc2hxm0.corp.nortel.com>
	<18467.16487.171324.508479@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD80C2A8B@mail.acmepacket.com>
X-Mailer: VM 7.19 under Emacs 22.1.1
From: jh@tutpro.com (Juha Heinanen)
Cc: "sip@ietf.org" <sip@ietf.org>, Francois Audet <audet@nortel.com>,
	"dean.willis@softarmor.com" <dean.willis@softarmor.com>,
	"drage@alcatel-lucent.com" <drage@alcatel-lucent.com>,
	Christer Holmberg <christer.holmberg@ericsson.com>
Subject: Re: [Sip] draft-ietf-sip-outbound
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Hadriel Kaplan writes:

 > First you argue to let the UA's decide what's best for them, and now
 > you're saying the proxy needs to trust/know that each UA registers
 > with every proxy.  Why is that?  How does it change the behavior of
 > the proxy?

if every proxy knows that every UA always registers with every proxy in
the set, then implementing the proxy set becomes very simple.  if the
proxy set cannot trust that every ob UA registers with every proxy in
the set, then the proxy set needs to implement various complicated
mechanisms to ensure that every proxy in the set is aware of each
registration and is able to reach every UA even when the UA may be
behind NAT.  you will find lots of discussions about the problems on
various practical sip related mailing lists.

-- juha
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu May  8 11:21:43 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id DE20E3A6D7D;
	Thu,  8 May 2008 11:21:43 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 83D123A6CB5
	for <sip@core3.amsl.com>; Thu,  8 May 2008 11:21:42 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -6.29
X-Spam-Level: 
X-Spam-Status: No, score=-6.29 tagged_above=-999 required=5 tests=[AWL=0.309, 
	BAYES_00=-2.599, RCVD_IN_DNSWL_MED=-4]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id r5IKQ5lY3Wtc for <sip@core3.amsl.com>;
	Thu,  8 May 2008 11:21:41 -0700 (PDT)
Received: from zrtps0kn.nortel.com (zrtps0kn.nortel.com [47.140.192.55])
	by core3.amsl.com (Postfix) with ESMTP id B2D983A67E3
	for <sip@ietf.org>; Thu,  8 May 2008 11:21:26 -0700 (PDT)
Received: from zrc2hxm0.corp.nortel.com (zrc2hxm0.corp.nortel.com
	[47.103.123.71])
	by zrtps0kn.nortel.com (Switch-2.2.6/Switch-2.2.0) with ESMTP id
	m48ILKv20326; Thu, 8 May 2008 18:21:20 GMT
X-MIMEOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Thu, 8 May 2008 13:20:50 -0500
Message-ID: <1ECE0EB50388174790F9694F77522CCF16A534FA@zrc2hxm0.corp.nortel.com>
In-Reply-To: <18467.16487.171324.508479@taimen.test.fi>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: draft-ietf-sip-outbound
Thread-index: AcixNdSvYmdkkZnQR3ehjuXdPUh8yQAACZWg
References: <18465.17834.732392.527310@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C776E@esealmw113.eemea.ericsson.se>
	<18465.32545.345585.820414@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8050F5A@mail.acmepacket.com>
	<18465.55659.177188.471351@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A01DDF@zrc2hxm0.corp.nortel.com>
	<18466.880.342656.104598@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD80514C7@mail.acmepacket.com>
	<48222D54.7020006@iptel.org>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8051669@mail.acmepacket.com>
	<CA9998CD4A020D418654FCDEF4E707DF046C7775@esealmw113.eemea.ericsson.se>
	<18466.42180.621089.330513@taimen.test.fi>	<4822AB7C.9000108@iptel.org>
	<1ECE0EB50388174790F9694F77522CCF16A5306F@zrc2hxm0.corp.nortel.com>
	<18467.10759.517606.958702@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A5321E@zrc2hxm0.corp.nortel.com>
	<18467.12939.938913.841738@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A53410@zrc2hxm0.corp.nortel.com>
	<18467.16! 487.17132 4.508479@taimen.test.fi>
From: "Francois Audet" <audet@nortel.com>
To: "Juha Heinanen" <jh@tutpro.com>
Cc: sip@ietf.org, Christer Holmberg <christer.holmberg@ericsson.com>,
	drage@alcatel-lucent.com, dean.willis@softarmor.com
Subject: Re: [Sip] draft-ietf-sip-outbound
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

It says "you MUST support sets with a least 2".

If an implementor is dumb enough to not understand that "supporting a set" implies
registering and not just looking at it, maybe he shouldn't be writing software. What
else could it mean?

I don't think we can remove the battery life text. It's better to have
a single proxy (which may fail) than a dead phone when your battery is running low.

Again, if you think the text is not strong enough try to propose something concrete 
(i.e., TEXT).

 

> -----Original Message-----
> From: Juha Heinanen [mailto:jh@tutpro.com] 
> Sent: Thursday, May 08, 2008 11:03
> To: Audet, Francois (SC100:3055)
> Cc: Jiri Kuthan; sip@ietf.org; Christer Holmberg; 
> drage@alcatel-lucent.com; Rohan Mahy; dean.willis@softarmor.com
> Subject: draft-ietf-sip-outbound
> 
> Francois Audet writes:
> 
>  > 4.2.1 says "However, a UA MUST support sets with at least 
> two  > outbound proxy URIs and SHOULD support sets with up to 
> four  > URIs.". This section makes it very clear that you are 
> supposed to  > support multiple proxies. There is some 
> wording about limiting  > it for battery life, etc., but it 
> is pretty clear to me that's it is  > not optional.
> 
> where does it say that the UA MUST register with all proxies 
> in the set?
> i fought a long battle on that one and lost.  may be a 
> miracle has happened and the issue has been revisited?
> 
> if there is any text left in the draft that you don't need to 
> register with all proxies in the set, for example, if you 
> want to save battery life, then the draft is useless, because 
> proxies in the set cannot trust that each outbound UA really 
> registers with every proxy.
> 
> -- juha
> 
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu May  8 11:38:26 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 7CAC23A6BBC;
	Thu,  8 May 2008 11:38:26 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 32F723A6BBC
	for <sip@core3.amsl.com>; Thu,  8 May 2008 11:38:24 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.547
X-Spam-Level: 
X-Spam-Status: No, score=-2.547 tagged_above=-999 required=5 tests=[AWL=0.052, 
	BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id pw2jSRk5dSZR for <sip@core3.amsl.com>;
	Thu,  8 May 2008 11:38:23 -0700 (PDT)
Received: from tutpro.com (sip.tutpro.com [192.98.100.10])
	by core3.amsl.com (Postfix) with ESMTP id 21A3A3A66B4
	for <sip@ietf.org>; Thu,  8 May 2008 11:38:23 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by tutpro.com (Postfix) with ESMTP id 011361EC25B;
	Thu,  8 May 2008 21:38:20 +0300 (EEST)
Received: from tutpro.com ([127.0.0.1])
	by localhost (tutpro.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id T9hh6f5F0sDp; Thu,  8 May 2008 21:38:14 +0300 (EEST)
Received: from taimen (h133186.gprs.dnafinland.fi [87.93.133.186])
	by tutpro.com (Postfix) with ESMTP;
	Thu,  8 May 2008 21:38:14 +0300 (EEST)
Received: by taimen (Postfix, from userid 1000)
	id 5CAAEAC070; Thu,  8 May 2008 21:38:11 +0300 (EEST)
MIME-Version: 1.0
Message-ID: <18467.18579.341135.139011@taimen.test.fi>
Date: Thu, 8 May 2008 21:38:11 +0300
To: "Francois Audet" <audet@nortel.com>
In-Reply-To: <1ECE0EB50388174790F9694F77522CCF16A534FA@zrc2hxm0.corp.nortel.com>
References: <18465.17834.732392.527310@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C776E@esealmw113.eemea.ericsson.se>
	<18465.32545.345585.820414@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8050F5A@mail.acmepacket.com>
	<18465.55659.177188.471351@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A01DDF@zrc2hxm0.corp.nortel.com>
	<18466.880.342656.104598@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD80514C7@mail.acmepacket.com>
	<48222D54.7020006@iptel.org>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8051669@mail.acmepacket.com>
	<CA9998CD4A020D418654FCDEF4E707DF046C7775@esealmw113.eemea.ericsson.se>
	<18466.42180.621089.330513@taimen.test.fi>
	<4822AB7C.9000108@iptel.org>
	<1ECE0EB50388174790F9694F77522CCF16A5306F@zrc2hxm0.corp.nortel.com>
	<18467.10759.517606.958702@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A5321E@zrc2hxm0.corp.nortel.com>
	<18467.12939.938913.841738@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A53410@zrc2hxm0.corp.nortel.com>
	<18467.16! 487.17132 4.508479@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A534FA@zrc2hxm0.corp.nortel.com>
X-Mailer: VM 7.19 under Emacs 22.1.1
From: jh@tutpro.com (Juha Heinanen)
Cc: sip@ietf.org, Christer Holmberg <christer.holmberg@ericsson.com>,
	drage@alcatel-lucent.com, dean.willis@softarmor.com
Subject: Re: [Sip] draft-ietf-sip-outbound
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Francois Audet writes:

 > Again, if you think the text is not strong enough try to propose
 > something concrete (i.e., TEXT).

here comes the required change:

  For each outbound proxy URI in the set, the UAC SHOULD => MUST send a
  REGISTER request using this URI as the default outbound proxy.

and this must be removed:
 
  (The UA could limit the number of flows formed to conserve battery power,
   for example)

it is useless to register with only one proxy in order to save battery
life, because if the call comes via the other one, the phone will not
ring.  this is the very reason why ob as currently written is useless.

-- juha
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu May  8 21:30:39 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id B0A8B3A68B2;
	Thu,  8 May 2008 21:30:39 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 498B33A67B0
	for <sip@core3.amsl.com>; Thu,  8 May 2008 18:59:52 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.539
X-Spam-Level: 
X-Spam-Status: No, score=-2.539 tagged_above=-999 required=5 tests=[AWL=0.060, 
	BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id cLquSjktaGy5 for <sip@core3.amsl.com>;
	Thu,  8 May 2008 18:59:51 -0700 (PDT)
Received: from etmail.acmepacket.com (etmail.acmepacket.com [216.41.24.6])
	by core3.amsl.com (Postfix) with ESMTP id 5D1CD3A63CB
	for <sip@ietf.org>; Thu,  8 May 2008 18:59:51 -0700 (PDT)
Received: from mail.acmepacket.com (216.41.24.7) by etmail.acmepacket.com
	(216.41.24.6) with Microsoft SMTP Server (TLS) id 8.1.263.0;
	Thu, 8 May 2008 21:48:18 -0400
Received: from mail.acmepacket.com ([216.41.24.7]) by mail.acmepacket.com
	([216.41.24.7]) with mapi; Thu, 8 May 2008 21:48:18 -0400
From: Hadriel Kaplan <HKaplan@acmepacket.com>
To: Juha Heinanen <jh@tutpro.com>
Date: Thu, 8 May 2008 21:46:51 -0400
Thread-Topic: [Sip] Draft: draft-holmberg-sip-keep-00.txt
Thread-Index: AcixNz6qzOZeqKabTvmxEZM6xab/QwAFICMg
Message-ID: <E6C2E8958BA59A4FB960963D475F7AC30BD80C2FED@mail.acmepacket.com>
References: <18465.17834.732392.527310@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C776E@esealmw113.eemea.ericsson.se>
	<18465.32545.345585.820414@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8050F5A@mail.acmepacket.com>
	<18465.55659.177188.471351@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A01DDF@zrc2hxm0.corp.nortel.com>
	<18466.880.342656.104598@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD80514C7@mail.acmepacket.com>
	<48222D54.7020006@iptel.org>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8051669@mail.acmepacket.com>
	<CA9998CD4A020D418654FCDEF4E707DF046C7775@esealmw113.eemea.ericsson.se>
	<4822AB25.1070200@iptel.org>	<18466.43946.215481.520633@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C777C@esealmw113.eemea.ericsson.se>
	<1ECE0EB50388174790F9694F77522CCF16A52F5D@zrc2hxm0.corp.nortel.com>
	<18467.8712.540473.285540@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD80C2A37@mail.acmepacket.com>
	<18467.17132.777986.663966@taimen.test.fi>
In-Reply-To: <18467.17132.777986.663966@taimen.test.fi>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
acceptlanguage: en-US
MIME-Version: 1.0
Cc: "sip@ietf.org" <sip@ietf.org>, Francois Audet <audet@nortel.com>,
	Christer@core3.amsl.com, Holmberg <christer.holmberg@ericsson.com>
Subject: Re: [Sip] Draft: draft-holmberg-sip-keep-00.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


> -----Original Message-----
> From: Juha Heinanen [mailto:jh@tutpro.com]
> Sent: Thursday, May 08, 2008 2:14 PM
>
> Hadriel Kaplan writes:
>
>  > > so it the responsibility of
>  > > the UA to use a short reg int if it is behind NAT and does not
> support
>  > > CRLF.
>  >
>  > I know in the prefect world all UA's are "smart" and up on the latest
>  > specs and do the right thing.
>
> i would like to add to this that in order for your proxy to be able to
> do its "smarts" and reduce the reg int of the UA, the UA would first
> need to implement this brand new keep draft (if you want to avoid
> reducing reg int for vain).  it is easier for the UA to simply implement
> CRLF capability without the keep draft like some and growing number are
> already doing.

Yes, it is easier for a UAC to simply send double-CRLF than to also insert a semi-colon plus a 4-character string into its Via header.  I'm not arguing it isn't easier to avoid doing that.

All I'm saying is if the UA decides to avoid that huge computational overhead of sending a keep param, it may find itself sending SIP REGISTER requests far more often than it has to, or receiving SIP OPTIONS requests, or getting blacklisted, or whatever.  My simple cave-man brain tells me that may result in more work for the UA in the end than if it simply sent the incredibly complicated keep param to begin with, but I don't write clients so maybe not.

-hadriel
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu May  8 22:00:31 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id C9AE93A6818;
	Thu,  8 May 2008 22:00:31 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 950113A63CB
	for <sip@core3.amsl.com>; Thu,  8 May 2008 18:59:52 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.544
X-Spam-Level: 
X-Spam-Status: No, score=-2.544 tagged_above=-999 required=5 tests=[AWL=0.055, 
	BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id N6yVpcOfz5pF for <sip@core3.amsl.com>;
	Thu,  8 May 2008 18:59:51 -0700 (PDT)
Received: from etmail.acmepacket.com (etmail.acmepacket.com [216.41.24.6])
	by core3.amsl.com (Postfix) with ESMTP id A04273A67A4
	for <sip@ietf.org>; Thu,  8 May 2008 18:59:51 -0700 (PDT)
Received: from mail.acmepacket.com (216.41.24.7) by etmail.acmepacket.com
	(216.41.24.6) with Microsoft SMTP Server (TLS) id 8.1.263.0;
	Thu, 8 May 2008 21:49:19 -0400
Received: from mail.acmepacket.com ([216.41.24.7]) by mail.acmepacket.com
	([216.41.24.7]) with mapi; Thu, 8 May 2008 21:49:19 -0400
From: Hadriel Kaplan <HKaplan@acmepacket.com>
To: Juha Heinanen <jh@tutpro.com>
Date: Thu, 8 May 2008 21:47:52 -0400
Thread-Topic: [Sip] Draft: draft-holmberg-sip-keep-00.txt
Thread-Index: AcixNkJa3YtU2ji7SxO6iEfKIPqiqwAAHtyQ
Message-ID: <E6C2E8958BA59A4FB960963D475F7AC30BD80C2FEE@mail.acmepacket.com>
References: <18465.17834.732392.527310@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C776E@esealmw113.eemea.ericsson.se>
	<18465.32545.345585.820414@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8050F5A@mail.acmepacket.com>
	<18465.55659.177188.471351@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A01DDF@zrc2hxm0.corp.nortel.com>
	<18466.880.342656.104598@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD80514C7@mail.acmepacket.com>
	<48222D54.7020006@iptel.org>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8051669@mail.acmepacket.com>
	<CA9998CD4A020D418654FCDEF4E707DF046C7775@esealmw113.eemea.ericsson.se>
	<4822AB25.1070200@iptel.org>	<18466.43946.215481.520633@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C777C@esealmw113.eemea.ericsson.se>
	<1ECE0EB50388174790F9694F77522CCF16A52F5D@zrc2hxm0.corp.nortel.com>
	<18467.8712.540473.285540@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD80C2A37@mail.acmepacket.com>
	<18467.16709.423752.484859@taimen.test.fi>
In-Reply-To: <18467.16709.423752.484859@taimen.test.fi>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
acceptlanguage: en-US
MIME-Version: 1.0
Cc: "sip@ietf.org" <sip@ietf.org>, Francois Audet <audet@nortel.com>,
	Christer@core3.amsl.com, Holmberg <christer.holmberg@ericsson.com>
Subject: Re: [Sip] Draft: draft-holmberg-sip-keep-00.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


> -----Original Message-----
> From: Juha Heinanen [mailto:jh@tutpro.com]
>
> Hadriel Kaplan writes:
>  > I know in the prefect world all UA's are "smart" and up on the latest
>  > specs and do the right thing.
>
> i didn't claim that all UAs are smart and implement latest specs.  but
> in most UAs, even in very old ones, it is possible to manually configure
> the reg int.  so if user's UA is behind nat, the user can usually
> configure reg int and make it work from behind nat.  on the other hand,
> very few old UAs support tcp.

Again I think this is an example of the different worlds of SIP usage meeting each other. :)

In my world, humans aren't typically expected to configure anything on their UA; short of maybe their AoR, username, and password.  And even that is sometimes pre-installed on the UA.

Furthermore, the registration interval is actually set to varying numbers, for example depending on transport.  And there are some proxies which actually have a mechanism to dynamically determine how long that interval should be based on the UAC's specific NAT, such that one UA using UDP might get 30 seconds for example, while another UA gets 120 seconds for UDP.

On the flip side, for the UAC's which try to be smarter by themselves: some of them send proprietary SIP request methods when they detect they're behind a NAT, or send proprietary message formats altogether which do not even comply with SIP request formatting rules.  Although to be fair those proprietary hacks mostly happen when UA's detect the registrar to be one from their own manufacturer, which never took into account a possibility that there could be proxies in the path between.

-hadriel
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu May  8 23:15:37 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 7DCF43A6821;
	Thu,  8 May 2008 23:15:37 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id EE8C03A67A4
	for <sip@core3.amsl.com>; Thu,  8 May 2008 20:23:50 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.249
X-Spam-Level: 
X-Spam-Status: No, score=-2.249 tagged_above=-999 required=5
	tests=[AWL=-0.250, BAYES_00=-2.599, J_CHICKENPOX_24=0.6]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id dmE2nbpMSWjF for <sip@core3.amsl.com>;
	Thu,  8 May 2008 20:23:50 -0700 (PDT)
Received: from etmail.acmepacket.com (etmail.acmepacket.com [216.41.24.6])
	by core3.amsl.com (Postfix) with ESMTP id 9BD453A67A1
	for <sip@ietf.org>; Thu,  8 May 2008 20:23:48 -0700 (PDT)
Received: from mail.acmepacket.com (216.41.24.7) by etmail.acmepacket.com
	(216.41.24.6) with Microsoft SMTP Server (TLS) id 8.1.263.0;
	Thu, 8 May 2008 23:20:33 -0400
Received: from mail.acmepacket.com ([216.41.24.7]) by mail.acmepacket.com
	([216.41.24.7]) with mapi; Thu, 8 May 2008 23:20:34 -0400
From: Hadriel Kaplan <HKaplan@acmepacket.com>
To: Fredrik Thulin <ft@it.su.se>
Date: Thu, 8 May 2008 23:19:04 -0400
Thread-Topic: [Sip] Draft: draft-holmberg-sip-keep-00.txt
Thread-Index: AcixE/5RuaOBssVpR8qCmOsgJfFtjwAZuQJQ
Message-ID: <E6C2E8958BA59A4FB960963D475F7AC30BD80C3019@mail.acmepacket.com>
References: <CA9998CD4A020D418654FCDEF4E707DF046C7761@esealmw113.eemea.ericsson.se>
	<18464.32846.367237.654872@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF169722C3@zrc2hxm0.corp.nortel.com>
	<18464.40898.695492.290843@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF169723EE@zrc2hxm0.corp.nortel.com>
	<18464.43200.840240.726767@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD7FD367F@mail.acmepacket.com>
	<4821636E.20303@it.su.se>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8050E17@mail.acmepacket.com>
	<4823070C.9070106@it.su.se>
In-Reply-To: <4823070C.9070106@it.su.se>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
acceptlanguage: en-US
MIME-Version: 1.0
Cc: "sip@ietf.org" <sip@ietf.org>, Francois Audet <audet@nortel.com>,
	Christer Holmberg <christer.holmberg@ericsson.com>
Subject: Re: [Sip] Draft: draft-holmberg-sip-keep-00.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org



> -----Original Message-----
> From: Fredrik Thulin [mailto:ft@it.su.se]
>
> However, I'm not sure I understand you fully - are you saying you
> _still_ think it is a good idea to blacklist source IPs sending you
> bogus stuff to your SIP proxy port 5060, because as long as I don't know
> your legitimate clients IP addresses this won't hurt anyone you care
> about?

Yup.  Not for those reasons, but yes I still think it's a good idea, as do many of my customers.  It's not like they don't care about all their clients (they do), but they usually err on the side of caution to protect the many over the few.  Some of them only degrade the service of the offenders (graylist them), which I like better but is not as popular as blacklisting.


> What if someone send you spoofed packets from lots of well known SIP
> servers (future SIP hotmails and gmails for example)? Oh, right - you
> can whitelist those... perhaps.

Yup, they're typically white-listed.  And I would hope they'd use an auth mechanism too, such as TLS or IPSEC provide... or at least use TCP.


> What if someone sends you spoofed packets from five million different
> source IP addresses? Does blacklisting actually provide any value? One
> of those five million packets _might_ be the phone of one of your users.

Yup.  Most of the proxies I know of which do this don't blacklist on one bad packet alone - it would take a scanner spoofing the right ones for a while to get legit endpoints blacklisted. (and it would have to spoof more than just source IP typically, fwiw)

There are certain things the proxy can do to mitigate that for of attack.  And it's not like it goes unnoticed by the operator either.  And some operators also employ passive systems to detect and stop such scanner attacks.


> If you were _not_ saying you still think it's a good idea to blacklist
> based on source IP, then please just disregard the above =).

Well, blacklist the source IP+port and a couple other tuples, but essentially yes that is what I was saying.  What you're describing is essentially indistinguishable from malicious or broken endpoints, or a MitM attack for that matter.  And such defense tactics aren't just triggered by malformed messages either.  Similar tactics with different triggers are ultimately used as a last resort to stop DDoS by bot-nets, and SPIT by war-dialers, for example.

But this really shouldn't be a surprise - people have been doing this for several years (back in 2004 at least, maybe earlier).  The tactics and triggers have gotten smarter over the years, but operators don't upgrade very often.

-hadriel
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Fri May  9 01:01:02 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id F323F28C113;
	Fri,  9 May 2008 01:01:01 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 9403E3A67AC
	for <sip@core3.amsl.com>; Thu,  8 May 2008 22:07:27 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.599
X-Spam-Level: 
X-Spam-Status: No, score=-2.599 tagged_above=-999 required=5
	tests=[BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 5wGL0JUY6ihM for <sip@core3.amsl.com>;
	Thu,  8 May 2008 22:07:19 -0700 (PDT)
Received: from nylon.softarmor.com (nylon.softarmor.com [66.135.38.164])
	by core3.amsl.com (Postfix) with ESMTP id DBBEA3A67F3
	for <sip@ietf.org>; Thu,  8 May 2008 22:06:24 -0700 (PDT)
Received: from [192.168.2.103] (cpe-76-185-142-113.tx.res.rr.com
	[76.185.142.113]) (authenticated bits=0)
	by nylon.softarmor.com (8.13.8/8.13.8/Debian-3) with ESMTP id
	m495490s010115
	(version=TLSv1/SSLv3 cipher=AES128-SHA bits=128 verify=NOT);
	Fri, 9 May 2008 00:04:11 -0500
Message-Id: <8DB0CA8D-9AF4-468C-8C73-F74C466D5223@softarmor.com>
From: Dean Willis <dean.willis@softarmor.com>
To: Jiri Kuthan <jiri@iptel.org>
In-Reply-To: <4822AB7C.9000108@iptel.org>
Mime-Version: 1.0 (Apple Message framework v919.2)
Date: Fri, 9 May 2008 00:04:04 -0500
References: <18465.17834.732392.527310@taimen.test.fi>	<CA9998CD4A020D418654FCDEF4E707DF046C776E@esealmw113.eemea.ericsson.se>	<18465.32545.345585.820414@taimen.test.fi>	<E6C2E8958BA59A4FB960963D475F7AC30BD8050F5A@mail.acmepacket.com>	<18465.55659.177188.471351@taimen.test.fi>	<1ECE0EB50388174790F9694F77522CCF16A01DDF@zrc2hxm0.corp.nortel.com>	<18466.880.342656.104598@taimen.test.fi>	<E6C2E8958BA59A4FB960963D475F7AC30BD80514C7@mail.acmepacket.com>	<48222D54.7020006@iptel.org>	<E6C2E8958BA59A4FB960963D475F7AC30BD8051669@mail.acmepacket.com>	<CA9998CD4A020D418654FCDEF4E707DF046C7775@esealmw113.eemea.ericsson.se>
	<18466.42180.621089.330513@taimen.test.fi>
	<4822AB7C.9000108@iptel.org>
X-Mailer: Apple Mail (2.919.2)
Cc: sip@ietf.org, Francois Audet <audet@nortel.com>,
	Christer Holmberg <christer.holmberg@ericsson.com>
Subject: Re: [Sip] Draft: draft-holmberg-sip-keep-00.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


On May 8, 2008, at 2:27 AM, Jiri Kuthan wrote:

> Juha Heinanen wrote:
>> Christer Holmberg writes:
>>
>>> I agree with Hadriel. The idea is to let the client do it, so that
>>> the proxy doesn't need to handle it, e.g. by providing short
>>> registration refresh timers etc in order to make sure the NAT
>>> bindings stay open.
>>
>> christer,
>>
>> could you then, please, restrict the scope of your draft to udp
>> connected UAs, because if they are tcp connected, clients can keep
>> their nat binding open by simply sending double CRLFs.  if they get  
>> back
>> single CRLF, then fine, but if they don't, it is fine too.
>
> True, I didn't realize that, with TCP we don't even need the reverse  
> CRLF.

Well, without the reverse CRLF, you may not notice for 20 minutes that  
your connection is down. The TCP stack will take a while to timeout  
from SYN.

--
Dean
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Fri May  9 01:01:02 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 95E2128C11A;
	Fri,  9 May 2008 01:01:02 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id B51A73A67EE
	for <sip@core3.amsl.com>; Thu,  8 May 2008 22:13:44 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.599
X-Spam-Level: 
X-Spam-Status: No, score=-2.599 tagged_above=-999 required=5 tests=[AWL=0.000, 
	BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id ySkA5Fo2BHe0 for <sip@core3.amsl.com>;
	Thu,  8 May 2008 22:13:44 -0700 (PDT)
Received: from nylon.softarmor.com (nylon.softarmor.com [66.135.38.164])
	by core3.amsl.com (Postfix) with ESMTP id D8DDF3A67AC
	for <sip@ietf.org>; Thu,  8 May 2008 22:13:43 -0700 (PDT)
Received: from [192.168.2.103] (cpe-76-185-142-113.tx.res.rr.com
	[76.185.142.113]) (authenticated bits=0)
	by nylon.softarmor.com (8.13.8/8.13.8/Debian-3) with ESMTP id
	m495BYMB010148
	(version=TLSv1/SSLv3 cipher=AES128-SHA bits=128 verify=NOT);
	Fri, 9 May 2008 00:11:36 -0500
Message-Id: <970E914C-BEB3-49A3-A38C-CC393F417131@softarmor.com>
From: Dean Willis <dean.willis@softarmor.com>
To: jh@tutpro.com (Juha Heinanen)
In-Reply-To: <18467.9957.360558.903163@taimen.test.fi>
Mime-Version: 1.0 (Apple Message framework v919.2)
Date: Fri, 9 May 2008 00:11:28 -0500
References: <18465.17834.732392.527310@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C776E@esealmw113.eemea.ericsson.se>
	<18465.32545.345585.820414@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8050F5A@mail.acmepacket.com>
	<18465.55659.177188.471351@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A01DDF@zrc2hxm0.corp.nortel.com>
	<18466.880.342656.104598@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD80514C7@mail.acmepacket.com>
	<48222D54.7020006@iptel.org>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8051669@mail.acmepacket.com>
	<CA9998CD4A020D418654FCDEF4E707DF046C7775@esealmw113.eemea.ericsson.se>
	<4822AB25.1070200@iptel.org>
	<18466.43946.215481.520633@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C777C@esealmw113.eemea.ericsson.se>
	<1ECE0EB50388174790F9694F77522CCF16A52F5D@zrc2hxm0.corp.nortel.com>
	<18467.8712.540473.285540@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A53030@zrc2hxm0.corp.nortel.com>
	<18467.9957.360558.903163@taimen.test.fi>
X-Mailer: Apple Mail (2.919.2)
Cc: sip@ietf.org, Francois Audet <audet@nortel.com>,
	Christer Holmberg <christer.holmberg@ericsson.com>
Subject: Re: [Sip] Draft: draft-holmberg-sip-keep-00.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


On May 8, 2008, at 11:14 AM, Juha Heinanen wrote:

> Francois Audet writes:
>
>> I think the point is that some proxies WANT to know. They want to use
>> the keep-alive to keep tract of the availability of the UA without
>> waiting for a request to fail.
>
> then we are talking about a different application than keeping tcp NAT
> binding alive.  was scope of christer's draft to define a general
> purpose "is UA alive" detection protocol?

It's about keeping your NAT binding alive and KNOWING that it is  
alive, rather than just hoping. That requires bidirectional traffic.  
Ideally, it requires bidirectional traffic that changes with each  
operation and is not symmetric -- something different comes back than  
what was sent. Otherwise there are some weird "echo" failure scenarios  
where you think your NAT binding is alive but you're really just  
talking to yourself. And if this occurs in a CRLFCRLF->CRLF mode, then  
every "probe" sent by the UA doubles the "think it is alive" timer,  
and things get very strange.

>
>
> i don't think that existing UA implementations that support CRLF send
> them if they are not behind NAT.  if proxy wants to know if UA is  
> still
> alive or not, then we need to mandate CRLF keepalive for all UAs  
> whether
> behind NAT or not.  in my opinion this would be a quite fundamental
> addition to sip UA behavior.

Mostly it's about the UA knowing whether or not the proxy (or  the  
connection to that proxy)  is alive, and knowing it in a timely  
fashion so that it can re-establish the connection quickly if it fails.

--
Dean
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Fri May  9 01:16:03 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 2DB323A68D7;
	Fri,  9 May 2008 01:16:03 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 4B4423A67F3
	for <sip@core3.amsl.com>; Thu,  8 May 2008 22:21:38 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.599
X-Spam-Level: 
X-Spam-Status: No, score=-2.599 tagged_above=-999 required=5 tests=[AWL=0.000, 
	BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id Ohr7dTNRt0sR for <sip@core3.amsl.com>;
	Thu,  8 May 2008 22:21:37 -0700 (PDT)
Received: from nylon.softarmor.com (nylon.softarmor.com [66.135.38.164])
	by core3.amsl.com (Postfix) with ESMTP id B72933A67AC
	for <sip@ietf.org>; Thu,  8 May 2008 22:20:32 -0700 (PDT)
Received: from [192.168.2.103] (cpe-76-185-142-113.tx.res.rr.com
	[76.185.142.113]) (authenticated bits=0)
	by nylon.softarmor.com (8.13.8/8.13.8/Debian-3) with ESMTP id
	m495HJqf010165
	(version=TLSv1/SSLv3 cipher=AES128-SHA bits=128 verify=NOT);
	Fri, 9 May 2008 00:17:20 -0500
Message-Id: <B5A1C314-8D90-4DE5-8F16-A25443561506@softarmor.com>
From: Dean Willis <dean.willis@softarmor.com>
To: jh@tutpro.com (Juha Heinanen)
In-Reply-To: <18467.18579.341135.139011@taimen.test.fi>
Mime-Version: 1.0 (Apple Message framework v919.2)
Date: Fri, 9 May 2008 00:17:13 -0500
References: <18465.17834.732392.527310@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C776E@esealmw113.eemea.ericsson.se>
	<18465.32545.345585.820414@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8050F5A@mail.acmepacket.com>
	<18465.55659.177188.471351@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A01DDF@zrc2hxm0.corp.nortel.com>
	<18466.880.342656.104598@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD80514C7@mail.acmepacket.com>
	<48222D54.7020006@iptel.org>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8051669@mail.acmepacket.com>
	<CA9998CD4A020D418654FCDEF4E707DF046C7775@esealmw113.eemea.ericsson.se>
	<18466.42180.621089.330513@taimen.test.fi>
	<4822AB7C.9000108@iptel.org>
	<1ECE0EB50388174790F9694F77522CCF16A5306F@zrc2hxm0.corp.nortel.com>
	<18467.10759.517606.958702@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A5321E@zrc2hxm0.corp.nortel.com>
	<18467.12939.938913.841738@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A53410@zrc2hxm0.corp.nortel.com>
	<18467.16! ! 487.17132 4.508479@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A534FA@zrc2hxm0.corp.nortel.com>
	<18467.18579.341135.139011@taimen.test.fi>
X-Mailer: Apple Mail (2.919.2)
Cc: sip@ietf.org, Francois Audet <audet@nortel.com>, drage@alcatel-lucent.com,
	Christer Holmberg <christer.holmberg@ericsson.com>
Subject: Re: [Sip] draft-ietf-sip-outbound
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


On May 8, 2008, at 1:38 PM, Juha Heinanen wrote:

> Francois Audet writes:
>
>> Again, if you think the text is not strong enough try to propose
>> something concrete (i.e., TEXT).
>
> here comes the required change:
>
>  For each outbound proxy URI in the set, the UAC SHOULD => MUST send a
>  REGISTER request using this URI as the default outbound proxy.
>
> and this must be removed:
>
>  (The UA could limit the number of flows formed to conserve battery  
> power,
>   for example)
>
> it is useless to register with only one proxy in order to save battery
> life, because if the call comes via the other one, the phone will not
> ring.  this is the very reason why ob as currently written is useless.

Why would the call come via the other proxy if there's no registration  
there? Your proxies do have a shared statebase for sorting this stuff  
out, right? Or are they useless?

--
Dean

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Fri May  9 01:46:04 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id EF0A43A686B;
	Fri,  9 May 2008 01:46:04 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id A59773A6810
	for <sip@core3.amsl.com>; Thu,  8 May 2008 22:47:05 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.549
X-Spam-Level: 
X-Spam-Status: No, score=-2.549 tagged_above=-999 required=5 tests=[AWL=0.050, 
	BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id E6c2oL8dxWx2 for <sip@core3.amsl.com>;
	Thu,  8 May 2008 22:47:04 -0700 (PDT)
Received: from tutpro.com (sip.tutpro.com [192.98.100.10])
	by core3.amsl.com (Postfix) with ESMTP id 677793A67FB
	for <sip@ietf.org>; Thu,  8 May 2008 22:46:20 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by tutpro.com (Postfix) with ESMTP id 2A9031EC25B;
	Fri,  9 May 2008 08:44:16 +0300 (EEST)
Received: from tutpro.com ([127.0.0.1])
	by localhost (tutpro.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id ZilnIHmsCg7y; Fri,  9 May 2008 08:44:09 +0300 (EEST)
Received: from taimen (h13582.gprs.dnafinland.fi [87.93.135.82])
	by tutpro.com (Postfix) with ESMTP;
	Fri,  9 May 2008 08:44:09 +0300 (EEST)
Received: by taimen (Postfix, from userid 1000)
	id 1BD1FAC070; Fri,  9 May 2008 08:44:01 +0300 (EEST)
MIME-Version: 1.0
Message-ID: <18467.58528.985873.811583@taimen.test.fi>
Date: Fri, 9 May 2008 08:44:00 +0300
To: Hadriel Kaplan <HKaplan@acmepacket.com>
In-Reply-To: <E6C2E8958BA59A4FB960963D475F7AC30BD80C2FEE@mail.acmepacket.com>
References: <18465.17834.732392.527310@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C776E@esealmw113.eemea.ericsson.se>
	<18465.32545.345585.820414@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8050F5A@mail.acmepacket.com>
	<18465.55659.177188.471351@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A01DDF@zrc2hxm0.corp.nortel.com>
	<18466.880.342656.104598@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD80514C7@mail.acmepacket.com>
	<48222D54.7020006@iptel.org>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8051669@mail.acmepacket.com>
	<CA9998CD4A020D418654FCDEF4E707DF046C7775@esealmw113.eemea.ericsson.se>
	<4822AB25.1070200@iptel.org>
	<18466.43946.215481.520633@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C777C@esealmw113.eemea.ericsson.se>
	<1ECE0EB50388174790F9694F77522CCF16A52F5D@zrc2hxm0.corp.nortel.com>
	<18467.8712.540473.285540@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD80C2A37@mail.acmepacket.com>
	<18467.16709.423752.484859@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD80C2FEE@mail.acmepacket.com>
X-Mailer: VM 7.19 under Emacs 22.1.1
From: jh@tutpro.com (Juha Heinanen)
Cc: "sip@ietf.org" <sip@ietf.org>, Francois Audet <audet@nortel.com>,
	Christer@core3.amsl.com, Holmberg <christer.holmberg@ericsson.com>
Subject: Re: [Sip] Draft: draft-holmberg-sip-keep-00.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Hadriel Kaplan writes:

 > In my world, humans aren't typically expected to configure anything
 > on their UA; short of maybe their AoR, username, and password.  And
 > even that is sometimes pre-installed on the UA.

then you must really hate the outbound id that does not
provide any standard means for the UA to learns its ob proxy set!  that
is another reason why ob draft is useless.

my point is that tcp UA should just start sending LRLFs and use normal
reg int.  there is no need to implement the keep param, just a need to
implement CRLF.  that keeps the NAT open no matter if the proxy supports
it or not.

-- juha
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Fri May  9 01:46:05 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 567A728C0F3;
	Fri,  9 May 2008 01:46:05 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 6162A3A67B0
	for <sip@core3.amsl.com>; Thu,  8 May 2008 22:49:38 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.551
X-Spam-Level: 
X-Spam-Status: No, score=-2.551 tagged_above=-999 required=5 tests=[AWL=0.048, 
	BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id dZSsZeJc+3Az for <sip@core3.amsl.com>;
	Thu,  8 May 2008 22:49:37 -0700 (PDT)
Received: from tutpro.com (sip.tutpro.com [192.98.100.10])
	by core3.amsl.com (Postfix) with ESMTP id 7EE6B3A67AC
	for <sip@ietf.org>; Thu,  8 May 2008 22:49:37 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by tutpro.com (Postfix) with ESMTP id AC5B61EC25B;
	Fri,  9 May 2008 08:46:32 +0300 (EEST)
Received: from tutpro.com ([127.0.0.1])
	by localhost (tutpro.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id Qzw2Waj8ZrCh; Fri,  9 May 2008 08:46:25 +0300 (EEST)
Received: from taimen (h13582.gprs.dnafinland.fi [87.93.135.82])
	by tutpro.com (Postfix) with ESMTP;
	Fri,  9 May 2008 08:46:25 +0300 (EEST)
Received: by taimen (Postfix, from userid 1000)
	id CA870AC070; Fri,  9 May 2008 08:46:19 +0300 (EEST)
MIME-Version: 1.0
Message-ID: <18467.58667.802136.740285@taimen.test.fi>
Date: Fri, 9 May 2008 08:46:19 +0300
To: Dean Willis <dean.willis@softarmor.com>
In-Reply-To: <8DB0CA8D-9AF4-468C-8C73-F74C466D5223@softarmor.com>
References: <18465.17834.732392.527310@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C776E@esealmw113.eemea.ericsson.se>
	<18465.32545.345585.820414@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8050F5A@mail.acmepacket.com>
	<18465.55659.177188.471351@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A01DDF@zrc2hxm0.corp.nortel.com>
	<18466.880.342656.104598@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD80514C7@mail.acmepacket.com>
	<48222D54.7020006@iptel.org>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8051669@mail.acmepacket.com>
	<CA9998CD4A020D418654FCDEF4E707DF046C7775@esealmw113.eemea.ericsson.se>
	<18466.42180.621089.330513@taimen.test.fi>
	<4822AB7C.9000108@iptel.org>
	<8DB0CA8D-9AF4-468C-8C73-F74C466D5223@softarmor.com>
X-Mailer: VM 7.19 under Emacs 22.1.1
From: jh@tutpro.com (Juha Heinanen)
Cc: sip@ietf.org, Francois Audet <audet@nortel.com>,
	Christer Holmberg <christer.holmberg@ericsson.com>
Subject: Re: [Sip] Draft: draft-holmberg-sip-keep-00.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Dean Willis writes:

 > Well, without the reverse CRLF, you may not notice for 20 minutes that  
 > your connection is down. The TCP stack will take a while to timeout  
 > from SYN.

yes and for that reason it makes sense in the proxy to implement CRLF
capability as has been already done.

-- juha
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Fri May  9 01:46:05 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id C00723A688C;
	Fri,  9 May 2008 01:46:05 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 74A303A67B0
	for <sip@core3.amsl.com>; Thu,  8 May 2008 22:52:07 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.552
X-Spam-Level: 
X-Spam-Status: No, score=-2.552 tagged_above=-999 required=5 tests=[AWL=0.047, 
	BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id krQwy-dQ5phe for <sip@core3.amsl.com>;
	Thu,  8 May 2008 22:52:06 -0700 (PDT)
Received: from tutpro.com (sip.tutpro.com [192.98.100.10])
	by core3.amsl.com (Postfix) with ESMTP id 9B51F3A67AC
	for <sip@ietf.org>; Thu,  8 May 2008 22:52:06 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by tutpro.com (Postfix) with ESMTP id DC7F21EC29F;
	Fri,  9 May 2008 08:48:52 +0300 (EEST)
Received: from tutpro.com ([127.0.0.1])
	by localhost (tutpro.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id fNRIKckOb9OB; Fri,  9 May 2008 08:48:46 +0300 (EEST)
Received: from taimen (h13582.gprs.dnafinland.fi [87.93.135.82])
	by tutpro.com (Postfix) with ESMTP;
	Fri,  9 May 2008 08:48:46 +0300 (EEST)
Received: by taimen (Postfix, from userid 1000)
	id 3B519AC070; Fri,  9 May 2008 08:48:41 +0300 (EEST)
MIME-Version: 1.0
Message-ID: <18467.58809.210185.189951@taimen.test.fi>
Date: Fri, 9 May 2008 08:48:41 +0300
To: Dean Willis <dean.willis@softarmor.com>
In-Reply-To: <970E914C-BEB3-49A3-A38C-CC393F417131@softarmor.com>
References: <18465.17834.732392.527310@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C776E@esealmw113.eemea.ericsson.se>
	<18465.32545.345585.820414@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8050F5A@mail.acmepacket.com>
	<18465.55659.177188.471351@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A01DDF@zrc2hxm0.corp.nortel.com>
	<18466.880.342656.104598@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD80514C7@mail.acmepacket.com>
	<48222D54.7020006@iptel.org>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8051669@mail.acmepacket.com>
	<CA9998CD4A020D418654FCDEF4E707DF046C7775@esealmw113.eemea.ericsson.se>
	<4822AB25.1070200@iptel.org>
	<18466.43946.215481.520633@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C777C@esealmw113.eemea.ericsson.se>
	<1ECE0EB50388174790F9694F77522CCF16A52F5D@zrc2hxm0.corp.nortel.com>
	<18467.8712.540473.285540@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A53030@zrc2hxm0.corp.nortel.com>
	<18467.9957.360558.903163@taimen.test.fi>
	<970E914C-BEB3-49A3-A38C-CC393F417131@softarmor.com>
X-Mailer: VM 7.19 under Emacs 22.1.1
From: jh@tutpro.com (Juha Heinanen)
Cc: sip@ietf.org, Francois Audet <audet@nortel.com>,
	Christer Holmberg <christer.holmberg@ericsson.com>
Subject: Re: [Sip] Draft: draft-holmberg-sip-keep-00.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Dean Willis writes:

 > It's about keeping your NAT binding alive and KNOWING that it is  
 > alive, rather than just hoping. That requires bidirectional traffic.

yes and as i have said many times, CRLF has already been implemented in
ser and openser proxies.

-- juha
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Fri May  9 01:46:06 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 238D128C0FD;
	Fri,  9 May 2008 01:46:06 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id C5C483A67CE
	for <sip@core3.amsl.com>; Thu,  8 May 2008 22:54:40 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.554
X-Spam-Level: 
X-Spam-Status: No, score=-2.554 tagged_above=-999 required=5 tests=[AWL=0.045, 
	BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id Bv39gCUhfgLj for <sip@core3.amsl.com>;
	Thu,  8 May 2008 22:54:40 -0700 (PDT)
Received: from tutpro.com (sip.tutpro.com [192.98.100.10])
	by core3.amsl.com (Postfix) with ESMTP id DF5A43A67AC
	for <sip@ietf.org>; Thu,  8 May 2008 22:54:39 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by tutpro.com (Postfix) with ESMTP id 6D7081EC25B;
	Fri,  9 May 2008 08:52:59 +0300 (EEST)
Received: from tutpro.com ([127.0.0.1])
	by localhost (tutpro.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id ttsp5JQz7uOA; Fri,  9 May 2008 08:52:52 +0300 (EEST)
Received: from taimen (h13582.gprs.dnafinland.fi [87.93.135.82])
	by tutpro.com (Postfix) with ESMTP;
	Fri,  9 May 2008 08:52:52 +0300 (EEST)
Received: by taimen (Postfix, from userid 1000)
	id E2175AC070; Fri,  9 May 2008 08:52:44 +0300 (EEST)
MIME-Version: 1.0
Message-ID: <18467.59052.866097.283105@taimen.test.fi>
Date: Fri, 9 May 2008 08:52:44 +0300
To: Dean Willis <dean.willis@softarmor.com>
In-Reply-To: <B5A1C314-8D90-4DE5-8F16-A25443561506@softarmor.com>
References: <18465.17834.732392.527310@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C776E@esealmw113.eemea.ericsson.se>
	<18465.32545.345585.820414@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8050F5A@mail.acmepacket.com>
	<18465.55659.177188.471351@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A01DDF@zrc2hxm0.corp.nortel.com>
	<18466.880.342656.104598@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD80514C7@mail.acmepacket.com>
	<48222D54.7020006@iptel.org>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8051669@mail.acmepacket.com>
	<CA9998CD4A020D418654FCDEF4E707DF046C7775@esealmw113.eemea.ericsson.se>
	<18466.42180.621089.330513@taimen.test.fi>
	<4822AB7C.9000108@iptel.org>
	<1ECE0EB50388174790F9694F77522CCF16A5306F@zrc2hxm0.corp.nortel.com>
	<18467.10759.517606.958702@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A5321E@zrc2hxm0.corp.nortel.com>
	<18467.12939.938913.841738@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A53410@zrc2hxm0.corp.nortel.com>
	<18467.16! ! 487.17132 4.508479@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A534FA@zrc2hxm0.corp.nortel.com>
	<18467.18579.341135.139011@taimen.test.fi>
	<B5A1C314-8D90-4DE5-8F16-A25443561506@softarmor.com>
X-Mailer: VM 7.19 under Emacs 22.1.1
From: jh@tutpro.com (Juha Heinanen)
Cc: sip@ietf.org, Francois Audet <audet@nortel.com>, drage@alcatel-lucent.com,
	Christer Holmberg <christer.holmberg@ericsson.com>
Subject: Re: [Sip] draft-ietf-sip-outbound
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Dean Willis writes:

 > Why would the call come via the other proxy if there's no registration  
 > there? Your proxies do have a shared statebase for sorting this stuff  
 > out, right? Or are they useless?

yes we do have that, but if all UAs would register with all proxies,
there would be no need for a shared database which would greatly
simplify the implementation.  by the way, there is no good open source
shared database system available today.

it is not just about shared database, since if the UA is behind nat,
the other proxy is not able to reach the UA.  and if the proxy the ua
registered with is down, then ...

-- juha
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Fri May  9 03:01:18 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id B989328C120;
	Fri,  9 May 2008 03:01:18 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id DE4463A67DF
	for <sip@core3.amsl.com>; Fri,  9 May 2008 00:15:32 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -6.12
X-Spam-Level: 
X-Spam-Status: No, score=-6.12 tagged_above=-999 required=5 tests=[AWL=0.129, 
	BAYES_00=-2.599, HELO_EQ_SE=0.35, RCVD_IN_DNSWL_MED=-4]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id VX6Q-ZtXlT0m for <sip@core3.amsl.com>;
	Fri,  9 May 2008 00:15:31 -0700 (PDT)
Received: from mailgw3.ericsson.se (mailgw3.ericsson.se [193.180.251.60])
	by core3.amsl.com (Postfix) with ESMTP id 8AFC73A67B0
	for <sip@ietf.org>; Fri,  9 May 2008 00:15:31 -0700 (PDT)
Received: from mailgw3.ericsson.se (unknown [127.0.0.1])
	by mailgw3.ericsson.se (Symantec Mail Security) with ESMTP id
	E56DA20BFE; Fri,  9 May 2008 09:14:37 +0200 (CEST)
X-AuditID: c1b4fb3c-ac898bb00000193b-02-4823f9dd3f72
Received: from esealmw126.eemea.ericsson.se (unknown [153.88.254.123])
	by mailgw3.ericsson.se (Symantec Mail Security) with ESMTP id
	BB83620BFB; Fri,  9 May 2008 09:14:37 +0200 (CEST)
Received: from esealmw113.eemea.ericsson.se ([153.88.200.4]) by
	esealmw126.eemea.ericsson.se with Microsoft SMTPSVC(6.0.3790.1830); 
	Fri, 9 May 2008 09:14:37 +0200
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Fri, 9 May 2008 09:14:36 +0200
Message-ID: <CA9998CD4A020D418654FCDEF4E707DF05C0F825@esealmw113.eemea.ericsson.se>
In-Reply-To: <18467.17492.323683.861768@taimen.test.fi>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] draft-ietf-sip-outbound
thread-index: AcixOCn+QORMvAmHRdeYAmApRDDX2gAa5Bkw
References: <18465.17834.732392.527310@taimen.test.fi><CA9998CD4A020D418654FCDEF4E707DF046C776E@esealmw113.eemea.ericsson.se><18465.32545.345585.820414@taimen.test.fi><E6C2E8958BA59A4FB960963D475F7AC30BD8050F5A@mail.acmepacket.com><18465.55659.177188.471351@taimen.test.fi><1ECE0EB50388174790F9694F77522CCF16A01DDF@zrc2hxm0.corp.nortel.com><18466.880.342656.104598@taimen.test.fi><E6C2E8958BA59A4FB960963D475F7AC30BD80514C7@mail.acmepacket.com><48222D54.7020006@iptel.org><E6C2E8958BA59A4FB960963D475F7AC30BD8051669@mail.acmepacket.com><CA9998CD4A020D418654FCDEF4E707DF046C7775@esealmw113.eemea.ericsson.se><18466.42180.621089.330513@taimen.test.fi><4822AB7C.9000108@iptel.org><1ECE0EB50388174790F9694F77522CCF16A5306F@zrc2hxm0.corp.nortel.com><18467.10759.517606.958702@taimen.test.fi><1ECE0EB50388174790F9694F77522CCF16A5321E@zrc2hxm0.corp.nortel.com><18467.12939.938913.841738@taimen.test.fi><1ECE0EB50388174790F9694F77522CCF16A53410@zrc2hxm0.corp.nortel.com><18467.16487.171324.508479@t
	aimen.te st.fi><E6C2E
	8958BA59A4FB960963D475F7AC30BD80C2A8B@mail.acmepacket.com>
	<18467.17492.323683.861768@taimen.test.fi>
From: "Christer Holmberg" <christer.holmberg@ericsson.com>
To: "Juha Heinanen" <jh@tutpro.com>, "Hadriel Kaplan" <HKaplan@acmepacket.com>
X-OriginalArrivalTime: 09 May 2008 07:14:37.0822 (UTC)
	FILETIME=[575859E0:01C8B1A4]
X-Brightmail-Tracker: AAAAAA==
Cc: sip@ietf.org, Francois Audet <audet@nortel.com>, drage@alcatel-lucent.com,
	dean.willis@softarmor.com
Subject: Re: [Sip] draft-ietf-sip-outbound
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


I don't understand Juha's argument about proxies "knowing things".

If a UA does not register an outbound flow via a certain proxy that
proxy doesn't have to know anything about other proxies, because no call
to/from the UA will ever go through that proxy. 

Regards,

Christer 

-----Original Message-----
From: Juha Heinanen [mailto:jh@tutpro.com] 
Sent: 8. toukokuuta 2008 21:20
To: Hadriel Kaplan
Cc: Francois Audet; sip@ietf.org; Christer Holmberg;
drage@alcatel-lucent.com; dean.willis@softarmor.com
Subject: RE: [Sip] draft-ietf-sip-outbound

Hadriel Kaplan writes:

 > First you argue to let the UA's decide what's best for them, and now
> you're saying the proxy needs to trust/know that each UA registers  >
with every proxy.  Why is that?  How does it change the behavior of  >
the proxy?

if every proxy knows that every UA always registers with every proxy in
the set, then implementing the proxy set becomes very simple.  if the
proxy set cannot trust that every ob UA registers with every proxy in
the set, then the proxy set needs to implement various complicated
mechanisms to ensure that every proxy in the set is aware of each
registration and is able to reach every UA even when the UA may be
behind NAT.  you will find lots of discussions about the problems on
various practical sip related mailing lists.

-- juha
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Fri May  9 03:31:20 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 698A33A692F;
	Fri,  9 May 2008 03:31:20 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 0A4243A67DF
	for <sip@core3.amsl.com>; Fri,  9 May 2008 00:32:16 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.555
X-Spam-Level: 
X-Spam-Status: No, score=-2.555 tagged_above=-999 required=5 tests=[AWL=0.044, 
	BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id JP9sgZPNI1Uc for <sip@core3.amsl.com>;
	Fri,  9 May 2008 00:32:15 -0700 (PDT)
Received: from tutpro.com (sip.tutpro.com [192.98.100.10])
	by core3.amsl.com (Postfix) with ESMTP id BFFBD3A69B1
	for <sip@ietf.org>; Fri,  9 May 2008 00:31:07 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by tutpro.com (Postfix) with ESMTP id 135F71EC25B;
	Fri,  9 May 2008 10:29:21 +0300 (EEST)
Received: from tutpro.com ([127.0.0.1])
	by localhost (tutpro.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id XrlfiOmA3k4p; Fri,  9 May 2008 10:29:14 +0300 (EEST)
Received: from taimen (h13582.gprs.dnafinland.fi [87.93.135.82])
	by tutpro.com (Postfix) with ESMTP;
	Fri,  9 May 2008 10:29:14 +0300 (EEST)
Received: by taimen (Postfix, from userid 1000)
	id 5B447AC070; Fri,  9 May 2008 10:29:08 +0300 (EEST)
MIME-Version: 1.0
Message-ID: <18467.64835.889246.384158@taimen.test.fi>
Date: Fri, 9 May 2008 10:29:07 +0300
To: "Christer Holmberg" <christer.holmberg@ericsson.com>
In-Reply-To: <CA9998CD4A020D418654FCDEF4E707DF05C0F825@esealmw113.eemea.ericsson.se>
References: <18465.17834.732392.527310@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C776E@esealmw113.eemea.ericsson.se>
	<18465.32545.345585.820414@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8050F5A@mail.acmepacket.com>
	<18465.55659.177188.471351@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A01DDF@zrc2hxm0.corp.nortel.com>
	<18466.880.342656.104598@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD80514C7@mail.acmepacket.com>
	<48222D54.7020006@iptel.org>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8051669@mail.acmepacket.com>
	<CA9998CD4A020D418654FCDEF4E707DF046C7775@esealmw113.eemea.ericsson.se>
	<18466.42180.621089.330513@taimen.test.fi>
	<4822AB7C.9000108@iptel.org>
	<1ECE0EB50388174790F9694F77522CCF16A5306F@zrc2hxm0.corp.nortel.com>
	<18467.10759.517606.958702@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A5321E@zrc2hxm0.corp.nortel.com>
	<18467.12939.938913.841738@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A53410@zrc2hxm0.corp.nortel.com>
	<18467.16487.171324.508479@t aimen.te st.fi> <E6C2E
	8958BA59A4FB960963D475F7AC30BD80C2A8B@mail.acmepacket.com>
	<18467.17492.323683.861768@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF05C0F825@esealmw113.eemea.ericsson.se>
X-Mailer: VM 7.19 under Emacs 22.1.1
From: jh@tutpro.com (Juha Heinanen)
Cc: sip@ietf.org, Francois Audet <audet@nortel.com>, drage@alcatel-lucent.com,
	dean.willis@softarmor.com
Subject: Re: [Sip] draft-ietf-sip-outbound
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Christer Holmberg writes:

 > If a UA does not register an outbound flow via a certain proxy that
 > proxy doesn't have to know anything about other proxies, because no call
 > to/from the UA will ever go through that proxy. 

it would be nice if it would be easy implement a redundant, load
balancing sip proxy cluster, where each proxy would be able to serve any
UA.  if only one proxy is able to serve a particular UA, then the
implementation is not a high availability one.

-- juha
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Fri May  9 03:31:20 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id C9E863A681E;
	Fri,  9 May 2008 03:31:20 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id E54D33A67B0
	for <sip@core3.amsl.com>; Fri,  9 May 2008 00:41:52 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.556
X-Spam-Level: 
X-Spam-Status: No, score=-2.556 tagged_above=-999 required=5 tests=[AWL=0.043, 
	BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id lMOOiLcNa3YN for <sip@core3.amsl.com>;
	Fri,  9 May 2008 00:41:52 -0700 (PDT)
Received: from tutpro.com (sip.tutpro.com [192.98.100.10])
	by core3.amsl.com (Postfix) with ESMTP id 049273A67DF
	for <sip@ietf.org>; Fri,  9 May 2008 00:41:52 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by tutpro.com (Postfix) with ESMTP id AAF681EC25B;
	Fri,  9 May 2008 10:41:05 +0300 (EEST)
Received: from tutpro.com ([127.0.0.1])
	by localhost (tutpro.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id p1eWBRDJ6cWG; Fri,  9 May 2008 10:40:58 +0300 (EEST)
Received: from taimen (h13582.gprs.dnafinland.fi [87.93.135.82])
	by tutpro.com (Postfix) with ESMTP;
	Fri,  9 May 2008 10:40:58 +0300 (EEST)
Received: by taimen (Postfix, from userid 1000)
	id AE98AAC070; Fri,  9 May 2008 10:40:53 +0300 (EEST)
MIME-Version: 1.0
Message-ID: <18468.5.693161.719570@taimen.test.fi>
Date: Fri, 9 May 2008 10:40:53 +0300
To: "Christer Holmberg" <christer.holmberg@ericsson.com>
In-Reply-To: <CA9998CD4A020D418654FCDEF4E707DF05C0F827@esealmw113.eemea.ericsson.se>
References: <18465.17834.732392.527310@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C776E@esealmw113.eemea.ericsson.se>
	<18465.32545.345585.820414@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8050F5A@mail.acmepacket.com>
	<18465.55659.177188.471351@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A01DDF@zrc2hxm0.corp.nortel.com>
	<18466.880.342656.104598@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD80514C7@mail.acmepacket.com>
	<48222D54.7020006@iptel.org>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8051669@mail.acmepacket.com>
	<CA9998CD4A020D418654FCDEF4E707DF046C7775@esealmw113.eemea.ericsson.se>
	<18466.42180.621089.330513@taimen.test.fi>
	<4822AB7C.9000108@iptel.org>
	<1ECE0EB50388174790F9694F77522CCF16A5306F@zrc2hxm0.corp.nortel.com>
	<18467.10759.517606.958702@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A5321E@zrc2hxm0.corp.nortel.com>
	<18467.12939.938913.841738@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A53410@zrc2hxm0.corp.nortel.com>
	<18467.16487.171324.508479@t aimen.t est.fi> <E6C2
	E8958BA59A4FB960963D475F7AC30BD80C2A8B@mail.acmepacket.com>
	<18467.17492.323683.861768@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF05C0F825@esealmw113.eemea.ericsson.se>
	<18467.64835.889246.384158@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF05C0F827@esealmw113.eemea.ericsson.se>
X-Mailer: VM 7.19 under Emacs 22.1.1
From: jh@tutpro.com (Juha Heinanen)
Cc: sip@ietf.org, Francois Audet <audet@nortel.com>, drage@alcatel-lucent.com,
	dean.willis@softarmor.com
Subject: Re: [Sip] draft-ietf-sip-outbound
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Christer Holmberg writes:

 > I agree, but that doesn't mean you need to register to EVERY proxy you
 > are aware of.

then how would an UA calling you know which proxy you have registered
with?

-- juha
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Fri May  9 03:46:20 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id E837F3A6941;
	Fri,  9 May 2008 03:46:20 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 8C31C3A6810
	for <sip@core3.amsl.com>; Fri,  9 May 2008 00:55:48 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.599
X-Spam-Level: 
X-Spam-Status: No, score=-2.599 tagged_above=-999 required=5
	tests=[BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id G0l3G9SgD3Cd for <sip@core3.amsl.com>;
	Fri,  9 May 2008 00:55:47 -0700 (PDT)
Received: from nylon.softarmor.com (nylon.softarmor.com [66.135.38.164])
	by core3.amsl.com (Postfix) with ESMTP id C36AE3A67B0
	for <sip@ietf.org>; Fri,  9 May 2008 00:55:47 -0700 (PDT)
Received: from [192.168.2.103] (cpe-76-185-142-113.tx.res.rr.com
	[76.185.142.113]) (authenticated bits=0)
	by nylon.softarmor.com (8.13.8/8.13.8/Debian-3) with ESMTP id
	m497qdC2010824
	(version=TLSv1/SSLv3 cipher=AES128-SHA bits=128 verify=NOT);
	Fri, 9 May 2008 02:52:41 -0500
Message-Id: <6568E52B-6DE7-42EA-9F40-85AAEE24BAA7@softarmor.com>
From: Dean Willis <dean.willis@softarmor.com>
To: jh@tutpro.com (Juha Heinanen)
In-Reply-To: <18467.58809.210185.189951@taimen.test.fi>
Mime-Version: 1.0 (Apple Message framework v919.2)
Date: Fri, 9 May 2008 02:52:34 -0500
References: <18465.17834.732392.527310@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C776E@esealmw113.eemea.ericsson.se>
	<18465.32545.345585.820414@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8050F5A@mail.acmepacket.com>
	<18465.55659.177188.471351@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A01DDF@zrc2hxm0.corp.nortel.com>
	<18466.880.342656.104598@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD80514C7@mail.acmepacket.com>
	<48222D54.7020006@iptel.org>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8051669@mail.acmepacket.com>
	<CA9998CD4A020D418654FCDEF4E707DF046C7775@esealmw113.eemea.ericsson.se>
	<4822AB25.1070200@iptel.org>
	<18466.43946.215481.520633@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C777C@esealmw113.eemea.ericsson.se>
	<1ECE0EB50388174790F9694F77522CCF16A52F5D@zrc2hxm0.corp.nortel.com>
	<18467.8712.540473.285540@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A53030@zrc2hxm0.corp.nortel.com>
	<18467.9957.360558.903163@taimen.test.fi> <970E91!
	4C-BEB3-49A3-A38C-CC393F417131@softarmor.com>
	<18467.58809.210185.189951@taimen.test.fi>
X-Mailer: Apple Mail (2.919.2)
Cc: sip@ietf.org, Francois Audet <audet@nortel.com>,
	Christer Holmberg <christer.holmberg@ericsson.com>
Subject: Re: [Sip] Draft: draft-holmberg-sip-keep-00.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


On May 9, 2008, at 12:48 AM, Juha Heinanen wrote:

> Dean Willis writes:
>
>> It's about keeping your NAT binding alive and KNOWING that it is
>> alive, rather than just hoping. That requires bidirectional traffic.
>
> yes and as i have said many times, CRLF has already been implemented  
> in
> ser and openser proxies.

But how does a UA know in advance that a proxy is going to send it?  
And how does the UA know that it is coming from a proxy in response to  
its own CRLF stream, and is not an artifact of an echoing NAT or other  
weirdness?

--
Dean
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Fri May  9 04:16:27 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 7259428C11C;
	Fri,  9 May 2008 04:16:27 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 6F0143A6818
	for <sip@core3.amsl.com>; Fri,  9 May 2008 01:17:53 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.599
X-Spam-Level: 
X-Spam-Status: No, score=-2.599 tagged_above=-999 required=5
	tests=[BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id yPnS5nPPIOiT for <sip@core3.amsl.com>;
	Fri,  9 May 2008 01:17:52 -0700 (PDT)
Received: from nylon.softarmor.com (nylon.softarmor.com [66.135.38.164])
	by core3.amsl.com (Postfix) with ESMTP id 8C57D3A67B0
	for <sip@ietf.org>; Fri,  9 May 2008 01:17:52 -0700 (PDT)
Received: from [192.168.2.103] (cpe-76-185-142-113.tx.res.rr.com
	[76.185.142.113]) (authenticated bits=0)
	by nylon.softarmor.com (8.13.8/8.13.8/Debian-3) with ESMTP id
	m498FKsl010913
	(version=TLSv1/SSLv3 cipher=AES128-SHA bits=128 verify=NOT);
	Fri, 9 May 2008 03:15:22 -0500
Message-Id: <E470F14A-222C-4661-AF07-74645B7D15B1@softarmor.com>
From: Dean Willis <dean.willis@softarmor.com>
To: jh@tutpro.com (Juha Heinanen)
In-Reply-To: <18468.5.693161.719570@taimen.test.fi>
Mime-Version: 1.0 (Apple Message framework v919.2)
Date: Fri, 9 May 2008 03:15:15 -0500
References: <18465.17834.732392.527310@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C776E@esealmw113.eemea.ericsson.se>
	<18465.32545.345585.820414@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8050F5A@mail.acmepacket.com>
	<18465.55659.177188.471351@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A01DDF@zrc2hxm0.corp.nortel.com>
	<18466.880.342656.104598@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD80514C7@mail.acmepacket.com>
	<48222D54.7020006@iptel.org>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8051669@mail.acmepacket.com>
	<CA9998CD4A020D418654FCDEF4E707DF046C7775@esealmw113.eemea.ericsson.se>
	<18466.42180.621089.330513@taimen.test.fi>
	<4822AB7C.9000108@iptel.org>
	<1ECE0EB50388174790F9694F77522CCF16A5306F@zrc2hxm0.corp.nortel.com>
	<18467.10759.517606.958702@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A5321E@zrc2hxm0.corp.nortel.com>
	<18467.12939.938913.841738@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A53410@zrc2hxm0.corp.nortel.com>
	<18467.16! 487.171324.508479@t aimen.t est.fi> <E6C2
	E8958BA59A4FB960963D475F7AC30BD80C2A8B@mail.acmepacket.com>
	<18467.17492.323683.861768@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF05C0F825@esealmw113.eemea.ericsson.se>
	<18467.64835.889246.384158@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF05C0F827@esealmw113.eemea.ericsson.se>
	<18468.5.693161.719570@taimen.test.fi>
X-Mailer: Apple Mail (2.919.2)
Cc: sip@ietf.org, Francois Audet <audet@nortel.com>, drage@alcatel-lucent.com,
	Christer Holmberg <christer.holmberg@ericsson.com>
Subject: Re: [Sip] draft-ietf-sip-outbound
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


On May 9, 2008, at 2:40 AM, Juha Heinanen wrote:

> Christer Holmberg writes:
>
>> I agree, but that doesn't mean you need to register to EVERY proxy  
>> you
>> are aware of.
>
> then how would an UA calling you know which proxy you have registered
> with?
>

It doesn't. The proxies that you haven't registered with have to know  
which one(s) you have registered with or which one(s) you are supposed  
to register with.

So the UA calling you only has to get the request to a proxy that  
knows how to find a proxy that knows how to find you.

--
Dean
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Fri May  9 04:16:28 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 0D69128C127;
	Fri,  9 May 2008 04:16:28 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 06CF13A6818
	for <sip@core3.amsl.com>; Fri,  9 May 2008 01:23:44 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.599
X-Spam-Level: 
X-Spam-Status: No, score=-2.599 tagged_above=-999 required=5 tests=[AWL=0.000, 
	BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id aSJEyFcqjazH for <sip@core3.amsl.com>;
	Fri,  9 May 2008 01:23:43 -0700 (PDT)
Received: from nylon.softarmor.com (nylon.softarmor.com [66.135.38.164])
	by core3.amsl.com (Postfix) with ESMTP id B4F663A67B0
	for <sip@ietf.org>; Fri,  9 May 2008 01:23:42 -0700 (PDT)
Received: from [192.168.2.103] (cpe-76-185-142-113.tx.res.rr.com
	[76.185.142.113]) (authenticated bits=0)
	by nylon.softarmor.com (8.13.8/8.13.8/Debian-3) with ESMTP id
	m498CsbD010905
	(version=TLSv1/SSLv3 cipher=AES128-SHA bits=128 verify=NOT);
	Fri, 9 May 2008 03:12:55 -0500
Message-Id: <A8948F50-3BAC-4CA2-BA42-E2F4F9493BEF@softarmor.com>
From: Dean Willis <dean.willis@softarmor.com>
To: "Christer Holmberg" <christer.holmberg@ericsson.com>
In-Reply-To: <CA9998CD4A020D418654FCDEF4E707DF05C0F825@esealmw113.eemea.ericsson.se>
Mime-Version: 1.0 (Apple Message framework v919.2)
Date: Fri, 9 May 2008 03:12:48 -0500
References: <18465.17834.732392.527310@taimen.test.fi><CA9998CD4A020D418654FCDEF4E707DF046C776E@esealmw113.eemea.ericsson.se><18465.32545.345585.820414@taimen.test.fi><E6C2E8958BA59A4FB960963D475F7AC30BD8050F5A@mail.acmepacket.com><18465.55659.177188.471351@taimen.test.fi><1ECE0EB50388174790F9694F77522CCF16A01DDF@zrc2hxm0.corp.nortel.com><18466.880.342656.104598@taimen.test.fi><E6C2E8958BA59A4FB960963D475F7AC30BD80514C7@mail.acmepacket.com><48222D54.7020006@iptel.org><E6C2E8958BA59A4FB960963D475F7AC30BD8051669@mail.acmepacket.com><CA9998CD4A020D418654FCDEF4E707DF046C7775@esealmw113.eemea.ericsson.se><18466.42180.621089.330513@taimen.test.fi><4822AB7C.9000108@iptel.org><1ECE0EB50388174790F9694F77522CCF16A5306F@zrc2hxm0.corp.nortel.com><18467.10759.517606.958702@taimen.test.fi><1ECE0EB50388174790F9694F77522CCF16A5321E@zrc2hxm0.corp.nortel.com><18467.12939.938913.841738@taimen.test.fi><1ECE0EB50388174790F9694F77522CCF16A53410@zrc2hxm0.corp.nortel.com><18467.16487.171324.508479@!
	t aimen.te st.fi><E6C2E
	8958BA59A4FB960963D475F7AC30BD80C2A8B@mail.acmepacket.com>
	<18467.17492.323683.861768@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF05C0F825@esealmw113.eemea.ericsson.se>
X-Mailer: Apple Mail (2.919.2)
Cc: sip@ietf.org, drage@alcatel-lucent.com, Francois Audet <audet@nortel.com>
Subject: Re: [Sip] draft-ietf-sip-outbound
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


On May 9, 2008, at 2:14 AM, Christer Holmberg wrote:

>
> I don't understand Juha's argument about proxies "knowing things".
>
> If a UA does not register an outbound flow via a certain proxy that
> proxy doesn't have to know anything about other proxies, because no  
> call
> to/from the UA will ever go through that proxy.
>

The real question is to which proxy in a cluster of proxies should  
requests to you be sent?

Typically a cluster of proxies will be represented by multiple SRV  
records.

Assume there are N proxies in the cluster. If your UA is registered to  
all N, then any of them will work. It doesn't matter which SRV record  
gets picked.

Assume now that a flow drops between your UA and one of those N  
proxies.  However, according to the DNS, that proxy is still  
authoritative for your domain, and it might get a request meant for  
you. What does that proxy do if it gets a request for you? Returning a  
404 would be uncool. So it has to be able to figure out which of the  
other proxies in the pool have a flow with your UA.

In a shared-state system, some sort of database (which could be  
distributed, centralized, bus-multicast, whatever) informs every proxy  
in the cluster about your flow-bindings (either as they come and go,  
or on demand).  A proxy (like the one above) that has lost its flow  
for your UA uses this to find a proxy that has a flow with your UA in  
order to send a request.

There are all sorts of optimization hacks and approaches for making  
this work more efficiently or more manageably.

One nifty technique is to pair up the proxies, such that there are N/2  
pairs, then define a hash across the namespace that maps to each user  
ID to one of those pairs, Your UA will then end up registering to and  
forming a flow with both proxies in its assigned pair. Other proxies  
in the pool that receive a request for you can use the hash to find  
the right pair, and if either proxy in the pair has lost the flow, it  
knows to consult the other member of the pair. If a whole pair goes  
down for service (or a new pair gets brought on-line), the hash  
algorithm gets updated and the system rebalances.

Another approach is to consider the set of N proxies a ring, and  
define a hash on the namespace across the N proxies, where your UA  
ends up registered to the proxy to which it is hashed (call it M) and  
the (M+1)modN proxy. This gives a smoother distribution curve. Or one  
could use an even fancier hash (or pair of hashes) to pick two proxies  
that are not adjacent.  This buys some advantages if the allocation  
algorithm works to make a local proxy "preferred" and a non-local  
proxy "secondary" for each user -- this way, if one data center  
crashes, we don't have a real avalanche restart.

--
Dean

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Fri May  9 04:31:28 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 6396328C163;
	Fri,  9 May 2008 04:31:28 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id A6E573A67B0
	for <sip@core3.amsl.com>; Fri,  9 May 2008 01:37:22 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.557
X-Spam-Level: 
X-Spam-Status: No, score=-2.557 tagged_above=-999 required=5 tests=[AWL=0.042, 
	BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 83GZNukvY6Pm for <sip@core3.amsl.com>;
	Fri,  9 May 2008 01:37:21 -0700 (PDT)
Received: from tutpro.com (sip.tutpro.com [192.98.100.10])
	by core3.amsl.com (Postfix) with ESMTP id 9A9013A67A9
	for <sip@ietf.org>; Fri,  9 May 2008 01:37:21 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by tutpro.com (Postfix) with ESMTP id 424391EC27D;
	Fri,  9 May 2008 11:34:27 +0300 (EEST)
Received: from tutpro.com ([127.0.0.1])
	by localhost (tutpro.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id BJsV9HXJVM+7; Fri,  9 May 2008 11:34:20 +0300 (EEST)
Received: from taimen (h13582.gprs.dnafinland.fi [87.93.135.82])
	by tutpro.com (Postfix) with ESMTP;
	Fri,  9 May 2008 11:34:20 +0300 (EEST)
Received: by taimen (Postfix, from userid 1000)
	id B183EAC070; Fri,  9 May 2008 11:34:13 +0300 (EEST)
MIME-Version: 1.0
Message-ID: <18468.3205.702700.370660@taimen.test.fi>
Date: Fri, 9 May 2008 11:34:13 +0300
To: Dean Willis <dean.willis@softarmor.com>
In-Reply-To: <E470F14A-222C-4661-AF07-74645B7D15B1@softarmor.com>
References: <18465.17834.732392.527310@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C776E@esealmw113.eemea.ericsson.se>
	<18465.32545.345585.820414@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8050F5A@mail.acmepacket.com>
	<18465.55659.177188.471351@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A01DDF@zrc2hxm0.corp.nortel.com>
	<18466.880.342656.104598@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD80514C7@mail.acmepacket.com>
	<48222D54.7020006@iptel.org>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8051669@mail.acmepacket.com>
	<CA9998CD4A020D418654FCDEF4E707DF046C7775@esealmw113.eemea.ericsson.se>
	<18466.42180.621089.330513@taimen.test.fi>
	<4822AB7C.9000108@iptel.org>
	<1ECE0EB50388174790F9694F77522CCF16A5306F@zrc2hxm0.corp.nortel.com>
	<18467.10759.517606.958702@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A5321E@zrc2hxm0.corp.nortel.com>
	<18467.12939.938913.841738@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A53410@zrc2hxm0.corp.nortel.com>
	<18467.16! 487.171324.508479@t aimen.t est.fi>
	<E6C2 E8958BA59A4FB960963D475F7AC30BD80C2A8B@mail.acmepacket.com>
	<18467.17492.323683.861768@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF05C0F825@esealmw113.eemea.ericsson.se>
	<18467.64835.889246.384158@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF05C0F827@esealmw113.eemea.ericsson.se>
	<18468.5.693161.719570@taimen.test.fi>
	<E470F14A-222C-4661-AF07-74645B7D15B1@softarmor.com>
X-Mailer: VM 7.19 under Emacs 22.1.1
From: jh@tutpro.com (Juha Heinanen)
Cc: sip@ietf.org, Francois Audet <audet@nortel.com>, drage@alcatel-lucent.com,
	Christer Holmberg <christer.holmberg@ericsson.com>
Subject: Re: [Sip] draft-ietf-sip-outbound
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Dean Willis writes:

 > So the UA calling you only has to get the request to a proxy that  
 > knows how to find a proxy that knows how to find you.

i know all this.  the only thing i was trying to say is that things
would be much simpler and more efficient if there would not need to be
any inter-proxy communication.

if we take the case where a UA supports two ob proxies and only register
with one (as the draft currently allows), then the probability is 50%
that the request to the UA comes to the wrong proxy.  there is thus no
load balancing or availability advantage that the two proxies could
provide if the ob draft would not be brain damaged.

-- juha
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Fri May  9 04:46:27 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id E6AB328C15C;
	Fri,  9 May 2008 04:46:27 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id BD4BF3A67B0
	for <sip@core3.amsl.com>; Fri,  9 May 2008 01:57:48 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.558
X-Spam-Level: 
X-Spam-Status: No, score=-2.558 tagged_above=-999 required=5 tests=[AWL=0.041, 
	BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id AzRRSlGsCiXt for <sip@core3.amsl.com>;
	Fri,  9 May 2008 01:57:48 -0700 (PDT)
Received: from tutpro.com (lohi.tutpro.com [192.98.100.2])
	by core3.amsl.com (Postfix) with ESMTP id 860C83A67A9
	for <sip@ietf.org>; Fri,  9 May 2008 01:57:47 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by tutpro.com (Postfix) with ESMTP id F24E71EC25B;
	Fri,  9 May 2008 11:24:43 +0300 (EEST)
Received: from tutpro.com ([127.0.0.1])
	by localhost (tutpro.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id gJZaIkns07J1; Fri,  9 May 2008 11:24:29 +0300 (EEST)
Received: from taimen (h13582.gprs.dnafinland.fi [87.93.135.82])
	by tutpro.com (Postfix) with ESMTP;
	Fri,  9 May 2008 11:24:29 +0300 (EEST)
Received: by taimen (Postfix, from userid 1000)
	id C98ADAC070; Fri,  9 May 2008 11:24:24 +0300 (EEST)
MIME-Version: 1.0
Message-ID: <18468.2616.797353.239556@taimen.test.fi>
Date: Fri, 9 May 2008 11:24:24 +0300
To: Dean Willis <dean.willis@softarmor.com>
In-Reply-To: <6568E52B-6DE7-42EA-9F40-85AAEE24BAA7@softarmor.com>
References: <18465.17834.732392.527310@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C776E@esealmw113.eemea.ericsson.se>
	<18465.32545.345585.820414@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8050F5A@mail.acmepacket.com>
	<18465.55659.177188.471351@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A01DDF@zrc2hxm0.corp.nortel.com>
	<18466.880.342656.104598@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD80514C7@mail.acmepacket.com>
	<48222D54.7020006@iptel.org>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8051669@mail.acmepacket.com>
	<CA9998CD4A020D418654FCDEF4E707DF046C7775@esealmw113.eemea.ericsson.se>
	<4822AB25.1070200@iptel.org>
	<18466.43946.215481.520633@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C777C@esealmw113.eemea.ericsson.se>
	<1ECE0EB50388174790F9694F77522CCF16A52F5D@zrc2hxm0.corp.nortel.com>
	<18467.8712.540473.285540@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A53030@zrc2hxm0.corp.nortel.com>
	<18467.9957.360558.903163@taimen.test.fi> <970E91!
	4C-BEB3-49A3-A38C-CC393F417131@softarmor.com>
	<18467.58809.210185.189951@taimen.test.fi>
	<6568E52B-6DE7-42EA-9F40-85AAEE24BAA7@softarmor.com>
X-Mailer: VM 7.19 under Emacs 22.1.1
From: jh@tutpro.com (Juha Heinanen)
Cc: sip@ietf.org, Francois Audet <audet@nortel.com>,
	Christer Holmberg <christer.holmberg@ericsson.com>
Subject: Re: [Sip] Draft: draft-holmberg-sip-keep-00.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Dean Willis writes:

 > But how does a UA know in advance that a proxy is going to send it?  

it doesn't need to know in advance.

 > And how does the UA know that it is coming from a proxy in response to  
 > its own CRLF stream, and is not an artifact of an echoing NAT or other  
 > weirdness?

so you assume that nat or some other network box sends back on its own a
single CRLF when UA sends double CRLF to its proxy and in that response
all tcp layer stuff would match?  in my opinion trying to cope with that
kind of "weirdness" goes too far.  how do you know that your nat box
didn't generate on its own a 200 ok when you sent invite?

-- juha
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Fri May  9 05:16:34 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 234AC3A68D7;
	Fri,  9 May 2008 05:16:34 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 99A903A6988
	for <sip@core3.amsl.com>; Fri,  9 May 2008 02:16:17 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.56
X-Spam-Level: 
X-Spam-Status: No, score=-2.56 tagged_above=-999 required=5 tests=[AWL=0.039, 
	BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id Dp-SEpLFhIJt for <sip@core3.amsl.com>;
	Fri,  9 May 2008 02:16:16 -0700 (PDT)
Received: from tutpro.com (lohi.tutpro.com [192.98.100.2])
	by core3.amsl.com (Postfix) with ESMTP id 6A2593A67A9
	for <sip@ietf.org>; Fri,  9 May 2008 02:15:55 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by tutpro.com (Postfix) with ESMTP id D69A61EC27D;
	Fri,  9 May 2008 11:47:02 +0300 (EEST)
Received: from tutpro.com ([127.0.0.1])
	by localhost (tutpro.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id khMe0ED80Jw3; Fri,  9 May 2008 11:46:55 +0300 (EEST)
Received: from taimen (h13582.gprs.dnafinland.fi [87.93.135.82])
	by tutpro.com (Postfix) with ESMTP;
	Fri,  9 May 2008 11:46:55 +0300 (EEST)
Received: by taimen (Postfix, from userid 1000)
	id 05602AC070; Fri,  9 May 2008 11:46:51 +0300 (EEST)
MIME-Version: 1.0
Message-ID: <18468.3962.993600.980552@taimen.test.fi>
Date: Fri, 9 May 2008 11:46:50 +0300
To: Dean Willis <dean.willis@softarmor.com>
In-Reply-To: <A8948F50-3BAC-4CA2-BA42-E2F4F9493BEF@softarmor.com>
References: <18465.17834.732392.527310@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C776E@esealmw113.eemea.ericsson.se>
	<18465.32545.345585.820414@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8050F5A@mail.acmepacket.com>
	<18465.55659.177188.471351@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A01DDF@zrc2hxm0.corp.nortel.com>
	<18466.880.342656.104598@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD80514C7@mail.acmepacket.com>
	<48222D54.7020006@iptel.org>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8051669@mail.acmepacket.com>
	<CA9998CD4A020D418654FCDEF4E707DF046C7775@esealmw113.eemea.ericsson.se>
	<18466.42180.621089.330513@taimen.test.fi>
	<4822AB7C.9000108@iptel.org>
	<1ECE0EB50388174790F9694F77522CCF16A5306F@zrc2hxm0.corp.nortel.com>
	<18467.10759.517606.958702@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A5321E@zrc2hxm0.corp.nortel.com>
	<18467.12939.938913.841738@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A53410@zrc2hxm0.corp.nortel.com>
	<18467.16487.171324.508479@! t aimen.te st.fi>
	<E6C2E 8958BA59A4FB960963D475F7AC30BD80C2A8B@mail.acmepacket.com>
	<18467.17492.323683.861768@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF05C0F825@esealmw113.eemea.ericsson.se>
	<A8948F50-3BAC-4CA2-BA42-E2F4F9493BEF@softarmor.com>
X-Mailer: VM 7.19 under Emacs 22.1.1
From: jh@tutpro.com (Juha Heinanen)
Cc: sip@ietf.org, Francois Audet <audet@nortel.com>, drage@alcatel-lucent.com,
	Christer Holmberg <christer.holmberg@ericsson.com>
Subject: Re: [Sip] draft-ietf-sip-outbound
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Dean Willis writes:

 > One nifty technique is to pair up the proxies, such that there are N/2  
 > pairs, then define a hash across the namespace that maps to each user  
 > ID to one of those pairs, Your UA will then end up registering to and  
 > forming a flow with both proxies in its assigned pair. Other proxies  
 > in the pool that receive a request for you can use the hash to find  
 > the right pair, and if either proxy in the pair has lost the flow, it  
 > knows to consult the other member of the pair.

dean,

i would really love to implement something like this, but the problem is
that because of ob draft you cannot assume that "UA will then end up
registering to and forming a flow with both proxies in its assigned
pair".  

in order cope with proxy failure, you must then play with all kinds
tricks to make the still working proxy in the pair to assume the ip
address and (in case of tcp) the flows of the dead proxy, which is not
easy at all.

-- juha
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Fri May  9 07:03:22 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 36FC83A681A;
	Fri,  9 May 2008 07:03:22 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id F34843A686C
	for <sip@core3.amsl.com>; Fri,  9 May 2008 04:02:17 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -6.137
X-Spam-Level: 
X-Spam-Status: No, score=-6.137 tagged_above=-999 required=5 tests=[AWL=0.112, 
	BAYES_00=-2.599, HELO_EQ_SE=0.35, RCVD_IN_DNSWL_MED=-4]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 8M4DwrTNarB1 for <sip@core3.amsl.com>;
	Fri,  9 May 2008 04:02:16 -0700 (PDT)
Received: from mailgw3.ericsson.se (mailgw3.ericsson.se [193.180.251.60])
	by core3.amsl.com (Postfix) with ESMTP id D6BFF3A684B
	for <sip@ietf.org>; Fri,  9 May 2008 04:02:14 -0700 (PDT)
Received: from mailgw3.ericsson.se (unknown [127.0.0.1])
	by mailgw3.ericsson.se (Symantec Mail Security) with ESMTP id
	D8D4620608; Fri,  9 May 2008 09:33:13 +0200 (CEST)
X-AuditID: c1b4fb3c-aa894bb00000193b-5b-4823fe3975ad
Received: from esealmw128.eemea.ericsson.se (unknown [153.88.254.121])
	by mailgw3.ericsson.se (Symantec Mail Security) with ESMTP id
	B1310203D6; Fri,  9 May 2008 09:33:13 +0200 (CEST)
Received: from esealmw113.eemea.ericsson.se ([153.88.200.4]) by
	esealmw128.eemea.ericsson.se with Microsoft SMTPSVC(6.0.3790.1830); 
	Fri, 9 May 2008 09:33:13 +0200
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Fri, 9 May 2008 09:33:12 +0200
Message-ID: <CA9998CD4A020D418654FCDEF4E707DF05C0F827@esealmw113.eemea.ericsson.se>
In-Reply-To: <18467.64835.889246.384158@taimen.test.fi>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] draft-ietf-sip-outbound
thread-index: AcixpmjDtg3os16fQwC5PCtf8rEFCAAAC4KQ
References: <18465.17834.732392.527310@taimen.test.fi><CA9998CD4A020D418654FCDEF4E707DF046C776E@esealmw113.eemea.ericsson.se><18465.32545.345585.820414@taimen.test.fi><E6C2E8958BA59A4FB960963D475F7AC30BD8050F5A@mail.acmepacket.com><18465.55659.177188.471351@taimen.test.fi><1ECE0EB50388174790F9694F77522CCF16A01DDF@zrc2hxm0.corp.nortel.com><18466.880.342656.104598@taimen.test.fi><E6C2E8958BA59A4FB960963D475F7AC30BD80514C7@mail.acmepacket.com><48222D54.7020006@iptel.org><E6C2E8958BA59A4FB960963D475F7AC30BD8051669@mail.acmepacket.com><CA9998CD4A020D418654FCDEF4E707DF046C7775@esealmw113.eemea.ericsson.se><18466.42180.621089.330513@taimen.test.fi><4822AB7C.9000108@iptel.org><1ECE0EB50388174790F9694F77522CCF16A5306F@zrc2hxm0.corp.nortel.com><18467.10759.517606.958702@taimen.test.fi><1ECE0EB50388174790F9694F77522CCF16A5321E@zrc2hxm0.corp.nortel.com><18467.12939.938913.841738@taimen.test.fi><1ECE0EB50388174790F9694F77522CCF16A53410@zrc2hxm0.corp.nortel.com><18467.16487.171324.508479@t
	aimen.t est.fi><E6C2
	E8958BA59A4FB960963D475F7AC30BD80C2A8B@mail.acmepacket.com><18467.17492.323683.861768@taimen.test.fi><CA9998CD4A020D418654FCDEF4E707DF05C0F825@esealmw113.eemea.ericsson.se>
	<18467.64835.889246.384158@taimen.test.fi>
From: "Christer Holmberg" <christer.holmberg@ericsson.com>
To: "Juha Heinanen" <jh@tutpro.com>
X-OriginalArrivalTime: 09 May 2008 07:33:13.0500 (UTC)
	FILETIME=[F0574DC0:01C8B1A6]
X-Brightmail-Tracker: AAAAAA==
Cc: sip@ietf.org, Francois Audet <audet@nortel.com>, drage@alcatel-lucent.com,
	dean.willis@softarmor.com
Subject: Re: [Sip] draft-ietf-sip-outbound
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

 
>>If a UA does not register an outbound flow via a certain proxy that
>>proxy doesn't have to know anything about other proxies, because no
call
>>to/from the UA will ever go through that proxy. 
>
>it would be nice if it would be easy implement a redundant, load
balancing sip proxy cluster, where each proxy would be 
>able to serve any UA.  if only one proxy is able to serve a particular
UA, then the implementation is not a high 
>availability one.

I agree, but that doesn't mean you need to register to EVERY proxy you
are aware of.

Regards,

Christer
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Fri May  9 09:03:58 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 6405B3A6934;
	Fri,  9 May 2008 09:03:58 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id A8C363A67FA
	for <sip@core3.amsl.com>; Fri,  9 May 2008 06:14:49 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -6.599
X-Spam-Level: 
X-Spam-Status: No, score=-6.599 tagged_above=-999 required=5
	tests=[BAYES_00=-2.599, RCVD_IN_DNSWL_MED=-4]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id IEOH3w9DdwOr for <sip@core3.amsl.com>;
	Fri,  9 May 2008 06:14:48 -0700 (PDT)
Received: from exprod6og103.obsmtp.com (exprod6og103.obsmtp.com [64.18.1.185])
	by core3.amsl.com (Postfix) with ESMTP id 040A43A67B6
	for <sip@ietf.org>; Fri,  9 May 2008 06:14:47 -0700 (PDT)
Received: from source ([192.150.11.134]) by exprod6ob103.postini.com
	([64.18.5.12]) with SMTP; Fri, 09 May 2008 06:13:04 PDT
Received: from inner-relay-1.corp.adobe.com ([153.32.1.51])
	by outbound-smtp-1.corp.adobe.com (8.12.10/8.12.10) with ESMTP id
	m49D0jG3008815; Fri, 9 May 2008 06:00:45 -0700 (PDT)
Received: from fe2.corp.adobe.com (fe2.corp.adobe.com [10.8.192.72])
	by inner-relay-1.corp.adobe.com (8.12.10/8.12.10) with ESMTP id
	m49D3jI0013370; Fri, 9 May 2008 06:03:45 -0700 (PDT)
Received: from namail5.corp.adobe.com ([10.8.192.88]) by fe2.corp.adobe.com
	with Microsoft SMTPSVC(6.0.3790.1830); 
	Fri, 9 May 2008 06:03:45 -0700
Received: from 10.7.241.199 ([10.7.241.199]) by namail5.corp.adobe.com
	([10.8.192.88]) with Microsoft Exchange Server HTTP-DAV ; 
	Fri,  9 May 2008 13:03:44 +0000
User-Agent: Microsoft-Entourage/12.1.0.080305
Date: Fri, 09 May 2008 08:02:50 -0500
From: Henry Sinnreich <hsinnrei@adobe.com>
To: Juha Heinanen <jh@tutpro.com>, Dean Willis <dean.willis@softarmor.com>
Message-ID: <C449B5AA.43C3%hsinnrei@adobe.com>
Thread-Topic: No OS shared DB available?
Thread-Index: Acix1PwNahOc27hyvUWg2ifRacO2TA==
In-Reply-To: <18467.59052.866097.283105@taimen.test.fi>
Mime-version: 1.0
X-OriginalArrivalTime: 09 May 2008 13:03:45.0403 (UTC)
	FILETIME=[1D138CB0:01C8B1D5]
Cc: sip@ietf.org, Francois Audet <audet@nortel.com>, drage@alcatel-lucent.com,
	Christer Holmberg <christer.holmberg@ericsson.com>
Subject: [Sip] No OS shared DB available?
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Juha,

I agree with you, except on on this:

>there is no good open source
>shared database system available today.

Have you looked at the http://opendht.org/ ?

Henry


On 5/9/08 12:52 AM, "Juha Heinanen" <jh@tutpro.com> wrote:

> Dean Willis writes:
> 
>> Why would the call come via the other proxy if there's no registration
>> there? Your proxies do have a shared statebase for sorting this stuff
>> out, right? Or are they useless?
> 
> yes we do have that, but if all UAs would register with all proxies,
> there would be no need for a shared database which would greatly
> simplify the implementation.  by the way, there is no good open source
> shared database system available today.
> 
> it is not just about shared database, since if the UA is behind nat,
> the other proxy is not able to reach the UA.  and if the proxy the ua
> registered with is down, then ...
> 
> -- juha
> _______________________________________________
> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Fri May  9 11:08:22 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 8F9AB28C0EC;
	Fri,  9 May 2008 11:03:46 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 0D0433A687E
	for <sip@core3.amsl.com>; Fri,  9 May 2008 08:51:34 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.299
X-Spam-Level: 
X-Spam-Status: No, score=-2.299 tagged_above=-999 required=5
	tests=[AWL=-0.300, BAYES_00=-2.599, J_CHICKENPOX_45=0.6]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id DS1imxpEZ6fA for <sip@core3.amsl.com>;
	Fri,  9 May 2008 08:51:33 -0700 (PDT)
Received: from mailgate.siemenscomms.co.uk (mailgate.siemenscomms.co.uk
	[195.171.110.225])
	by core3.amsl.com (Postfix) with ESMTP id 0F1C23A68B0
	for <sip@ietf.org>; Fri,  9 May 2008 08:51:20 -0700 (PDT)
Received: from GBNTHT12009MSX.gb002.siemens.net ([137.223.219.235])
	by siemenscomms.co.uk (PMDF V6.3-x14 #31430)
	with ESMTP id <0K0L00F22YLI88@siemenscomms.co.uk> for sip@ietf.org; Fri,
	09 May 2008 16:48:54 +0100 (BST)
Date: Fri, 09 May 2008 16:48:56 +0100
From: "Elwell, John" <john.elwell@siemens.com>
To: SIP IETF <sip@ietf.org>
Message-id: <0D5F89FAC29E2C41B98A6A762007F5D0B436FD@GBNTHT12009MSX.gb002.siemens.net>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft Exchange V6.5
Thread-Topic: Number URIs in Contact of 302 response
Thread-Index: Acix7DDO/vFE/V7bSpS4cmgKRU8SJg==
Content-class: urn:content-classes:message
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Subject: [Sip] Number URIs in Contact of 302 response
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

In the recent enormous thread "E.164 - who owns it" there was a lot of
discussion on number URIs in 302 responses, and whether the UAS includes
a tel URI, a SIP URI with the destination domain (B.com) or a SIP URI
with the originating domain (A.com), and in the last two cases whether
it is with or without user=phone.

What that thread failed to capture was the user's involvement in
choosing the contact URI. Basically the UA either has to be
pre-configured with the redirection URI to use if certain conditions
apply to an incoming request, or the user takes some action when the
request arrives. In either case, the user has two ways of selecting the
URI:

1. From some sort of address book, call log or whatever. In this case
the user reuses some URI that has been received by some other means
(e.g., From URI from some previous communication, or vcard). Such a URI
could be in any of the forms that are valid for making a call, including
tel URI, email-style sip/sips URI, e.164-based SIP URI with/without
user=phone. In the last case, the domain part will be whatever was
received, which may be the local domain (B.com) but is unlikely to be
A.com. At least if it is B.com, the B.com proxy could, if necessary,
convert to something else (e.g., sip:number@A.com) before passing the
302 onwards.

2. By keying in the URI. The keying procedure is likely to be similar to
what is used for keying in a URI when making a call. On a device with
only a numeric keypad, the user will generally just enter a number, and
the UA will convert this to some URI. This typically results in a URI of
the form sip:number@B.com, where number presumably should have some
significance within domain B.com. In practice the number is probably a
dial string, which would suggest inclusion of user=dialstring, although
in practice this is probably rare. It probably doesn't matter. In any
case, before passing the 302 onwards, the B.com proxy would need to
covert this "dial string" URI into a URI meaningful outside its domain.
This could be a tel URI or a SIP URI, although it is unclear how it
could populate a SIP URI for passing to another domain.

My point is, the UAS is typically not in a position to choose the URI
format, but the B.com proxy, when passing the 302 onwards outside its
domain, will have to take care to use an appropriate format, i.e., it
would have to convert a SIP URI with the B.com domain into something
else, e.g., a TEL URI. Any other form of URI probably has to be passed
on unchanged by the B.com proxy.

John
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Fri May  9 11:09:16 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 460D328C119;
	Fri,  9 May 2008 11:03:48 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id C307E3A6822
	for <sip@core3.amsl.com>; Fri,  9 May 2008 09:09:27 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.561
X-Spam-Level: 
X-Spam-Status: No, score=-2.561 tagged_above=-999 required=5 tests=[AWL=0.038, 
	BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id xpMFxM4FoII2 for <sip@core3.amsl.com>;
	Fri,  9 May 2008 09:09:26 -0700 (PDT)
Received: from tutpro.com (sip.tutpro.com [192.98.100.10])
	by core3.amsl.com (Postfix) with ESMTP id AD0663A67FA
	for <sip@ietf.org>; Fri,  9 May 2008 09:09:26 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by tutpro.com (Postfix) with ESMTP id 8991C1EC25B;
	Fri,  9 May 2008 16:24:46 +0300 (EEST)
Received: from tutpro.com ([127.0.0.1])
	by localhost (tutpro.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id B-VgDXUyhzEi; Fri,  9 May 2008 16:24:37 +0300 (EEST)
Received: from taimen (h13582.gprs.dnafinland.fi [87.93.135.82])
	by tutpro.com (Postfix) with ESMTP;
	Fri,  9 May 2008 16:24:37 +0300 (EEST)
Received: by taimen (Postfix, from userid 1000)
	id A3685AC071; Fri,  9 May 2008 16:24:32 +0300 (EEST)
MIME-Version: 1.0
Message-ID: <18468.20624.637794.347144@taimen.test.fi>
Date: Fri, 9 May 2008 16:24:32 +0300
To: Henry Sinnreich <hsinnrei@adobe.com>
In-Reply-To: <C449B5AA.43C3%hsinnrei@adobe.com>
References: <18467.59052.866097.283105@taimen.test.fi>
	<C449B5AA.43C3%hsinnrei@adobe.com>
X-Mailer: VM 7.19 under Emacs 22.1.1
From: jh@tutpro.com (Juha Heinanen)
Cc: sip@ietf.org, Francois Audet <audet@nortel.com>,
	Christer Holmberg <christer.holmberg@ericsson.com>,
	drage@alcatel-lucent.com, Dean Willis <dean.willis@softarmor.com>
Subject: [Sip] No OS shared DB available?
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Henry Sinnreich writes:

 > >there is no good open source
 > >shared database system available today.
 > 
 > Have you looked at the http://opendht.org/ ?

no, i'll take a look.  i only have experience with mysql and postgre.

-- juha
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Fri May  9 12:44:30 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 421203A67C0;
	Fri,  9 May 2008 12:44:30 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id DB4CB3A67C0
	for <sip@core3.amsl.com>; Fri,  9 May 2008 12:44:27 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.599
X-Spam-Level: 
X-Spam-Status: No, score=-2.599 tagged_above=-999 required=5
	tests=[BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id FMRzWAt7vdpF for <sip@core3.amsl.com>;
	Fri,  9 May 2008 12:44:27 -0700 (PDT)
Received: from ihemail2.lucent.com (ihemail2.lucent.com [135.245.0.35])
	by core3.amsl.com (Postfix) with ESMTP id C9D723A67A2
	for <sip@ietf.org>; Fri,  9 May 2008 12:44:25 -0700 (PDT)
Received: from umail.lucent.com (h135-3-40-61.lucent.com [135.3.40.61])
	by ihemail2.lucent.com (8.13.8/IER-o) with ESMTP id m49JSuwu006245
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO);
	Fri, 9 May 2008 14:28:56 -0500 (CDT)
Received: from [135.112.131.41] (volker-hohpc.mh.lucent.com [135.112.131.41])
	by umail.lucent.com (8.13.8/TPES) with ESMTP id m49JSrbG003384;
	Fri, 9 May 2008 14:28:55 -0500 (CDT)
Message-ID: <4824A60E.5060903@bell-labs.com>
Date: Fri, 09 May 2008 15:29:18 -0400
From: Volker Hilt <volkerh@bell-labs.com>
User-Agent: Thunderbird 1.5.0.14 (Windows/20071210)
MIME-Version: 1.0
To: Michael <buptmj@yahoo.cn>
References: <681807.94326.qm@web92203.mail.cnh.yahoo.com>
In-Reply-To: <681807.94326.qm@web92203.mail.cnh.yahoo.com>
X-Scanned-By: MIMEDefang 2.57 on 135.245.2.35
Cc: sip@ietf.org
Subject: Re: [Sip] More security issues
	in	draft-ietf-sip-session-policy-framework
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Hi Michael,

> I've read sip-policy-framework draft recently
>  
> The "Security Consideration" part mainly talks about the confidentiality 
> issues . But I think there is one more security consideration which 
> isn't taken into account in this draft. As there is no mechanism helping 
> the proxy ensure the UA has changed the parameter of the request 
> according to the policy received from a policy server. Thus the UA or 
> attacker may change the policy for some malicious purposes, and proxy 
> will foward the session since there are already "Policy-Id" in place.
>  
You are talking about policy enforcement and not a security issue. In
the scenario you are describing, the UA ignores or only partially
applies a policy and tries to set up a session anyway. To prevent this
from happening a policy enforcement mechanism is needed as explained in
the draft.

> Do you think it's a security problem or not? Can anyone give some 
> suggest of how to solve it?
>  
To prevent UAs from setting up unauthorized sessions, a policy
enforcement mechanism is needed.

Thanks,

Volker



> 
> ------------------------------------------------------------------------
> 
> _______________________________________________
> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Fri May  9 16:09:10 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id CC93B3A67AE;
	Fri,  9 May 2008 16:09:10 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id B40443A67A8
	for <sip@core3.amsl.com>; Fri,  9 May 2008 16:09:08 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.599
X-Spam-Level: 
X-Spam-Status: No, score=-2.599 tagged_above=-999 required=5
	tests=[BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id nhSsrvffQu+F for <sip@core3.amsl.com>;
	Fri,  9 May 2008 16:09:07 -0700 (PDT)
Received: from QMTA10.emeryville.ca.mail.comcast.net
	(qmta10.emeryville.ca.mail.comcast.net [76.96.30.17])
	by core3.amsl.com (Postfix) with ESMTP id 882953A67AE
	for <sip@ietf.org>; Fri,  9 May 2008 16:09:07 -0700 (PDT)
Received: from OMTA12.emeryville.ca.mail.comcast.net ([76.96.30.44])
	by QMTA10.emeryville.ca.mail.comcast.net with comcast
	id PaHt1Z0030x6nqcAA04o00; Fri, 09 May 2008 23:03:48 +0000
Received: from dragon.ariadne.com ([76.19.174.1])
	by OMTA12.emeryville.ca.mail.comcast.net with comcast
	id Pb4r1Z00402AVH08Y00000; Fri, 09 May 2008 23:04:53 +0000
X-Authority-Analysis: v=1.0 c=1 a=XM2RNnw5AAAA:8 a=vVaEG_7ZAZ4CBCcP6tsA:9
	a=8xSuXKC3tKxZWqLVDSQMHOjE3LMA:4 a=YjF5NZnj_jQA:10 a=8y7tGHue6YMA:10
Received: from dragon.ariadne.com (dragon.ariadne.com [127.0.0.1])
	by dragon.ariadne.com (8.12.8/8.12.8) with ESMTP id m49N4oEA030870
	for <sip@ietf.org>; Fri, 9 May 2008 19:04:50 -0400
Received: (from worley@localhost)
	by dragon.ariadne.com (8.12.8/8.12.8/Submit) id m49N4o4X030866;
	Fri, 9 May 2008 19:04:50 -0400
Date: Fri, 9 May 2008 19:04:50 -0400
Message-Id: <200805092304.m49N4o4X030866@dragon.ariadne.com>
To: sip@ietf.org
From: Dale.Worley@comcast.net
In-reply-to: <18467.64835.889246.384158@taimen.test.fi> (jh@tutpro.com)
References: <18465.17834.732392.527310@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C776E@esealmw113.eemea.ericsson.se>
	<18465.32545.345585.820414@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8050F5A@mail.acmepacket.com>
	<18465.55659.177188.471351@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A01DDF@zrc2hxm0.corp.nortel.com>
	<18466.880.342656.104598@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD80514C7@mail.acmepacket.com>
	<48222D54.7020006@iptel.org>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8051669@mail.acmepacket.com>
	<CA9998CD4A020D418654FCDEF4E707DF046C7775@esealmw113.eemea.ericsson.se>
	<18466.42180.621089.330513@taimen.test.fi>
	<4822AB7C.9000108@iptel.org>
	<1ECE0EB50388174790F9694F77522CCF16A5306F@zrc2hxm0.corp.nortel.com>
	<18467.10759.517606.958702@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A5321E@zrc2hxm0.corp.nortel.com>
	<18467.12939.938913.841738@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A53410@zrc2hxm0.corp.nortel.com>
	<18467.16487.171324.508479@t aimen.te st.fi> <E6C2E
	8958BA59A4FB960963D475F7AC30BD80C2A8B@mail.acmepacket.com>
	<18467.17492.323683.861768@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF05C0F825@esealmw113.eemea.ericsson.se>
	<18467.64835.889246.384158@taimen.test.fi>
Subject: Re: [Sip] draft-ietf-sip-outbound
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
MIME-Version: 1.0
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

   From: jh@tutpro.com (Juha Heinanen)

   it would be nice if it would be easy implement a redundant, load
   balancing sip proxy cluster, where each proxy would be able to serve any
   UA.

Speaking as someone who has implemented a redundant, load-balancing
SIP proxy cluster:  It would be nice if it can be done easily, but
that isn't possible.  You need very disciplined inter-proxy
communication to allow the UA to "register against one proxy" and yet
be served by all proxies.

(See
http://sipxecs.sipfoundry.org/rep/sipXecs/main/sipXregistry/doc/SyncDesign.txt
for the details.)

   the only thing i was trying to say is that things would be much
   simpler and more efficient if there would not need to be any
   inter-proxy communication.

I don't see how you can avoid inter-proxy communication unless the UA
maintains a separate registration with each proxy.  And even if the UA
does maintain a separate registration with each proxy, since the
proxies are load-balancing, any proxy can receive a request, and if it
does not have a path to the destination UA, it needs to know how to
send the request to a proxy that does have a path to the destination
UA.

Dale
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Fri May  9 17:43:17 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 919853A683D;
	Fri,  9 May 2008 17:43:17 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 6D9983A683D
	for <sip@core3.amsl.com>; Fri,  9 May 2008 17:43:16 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.599
X-Spam-Level: 
X-Spam-Status: No, score=-2.599 tagged_above=-999 required=5 tests=[AWL=0.000, 
	BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id jOWcvFF+QeYV for <sip@core3.amsl.com>;
	Fri,  9 May 2008 17:43:15 -0700 (PDT)
Received: from nylon.softarmor.com (nylon.softarmor.com [66.135.38.164])
	by core3.amsl.com (Postfix) with ESMTP id 7109E3A67A8
	for <sip@ietf.org>; Fri,  9 May 2008 17:43:15 -0700 (PDT)
Received: from [192.168.2.103] (cpe-76-185-142-113.tx.res.rr.com
	[76.185.142.113]) (authenticated bits=0)
	by nylon.softarmor.com (8.13.8/8.13.8/Debian-3) with ESMTP id
	m4A0ebqL016172
	(version=TLSv1/SSLv3 cipher=AES128-SHA bits=128 verify=NOT);
	Fri, 9 May 2008 19:40:39 -0500
Message-Id: <6A699061-514E-40F9-8949-B44EF76D9A02@softarmor.com>
From: Dean Willis <dean.willis@softarmor.com>
To: jh@tutpro.com (Juha Heinanen)
In-Reply-To: <18468.3962.993600.980552@taimen.test.fi>
Mime-Version: 1.0 (Apple Message framework v919.2)
Date: Fri, 9 May 2008 19:40:32 -0500
References: <18465.17834.732392.527310@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C776E@esealmw113.eemea.ericsson.se>
	<18465.32545.345585.820414@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8050F5A@mail.acmepacket.com>
	<18465.55659.177188.471351@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A01DDF@zrc2hxm0.corp.nortel.com>
	<18466.880.342656.104598@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD80514C7@mail.acmepacket.com>
	<48222D54.7020006@iptel.org>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8051669@mail.acmepacket.com>
	<CA9998CD4A020D418654FCDEF4E707DF046C7775@esealmw113.eemea.ericsson.se>
	<18466.42180.621089.330513@taimen.test.fi>
	<4822AB7C.9000108@iptel.org>
	<1ECE0EB50388174790F9694F77522CCF16A5306F@zrc2hxm0.corp.nortel.com>
	<18467.10759.517606.958702@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A5321E@zrc2hxm0.corp.nortel.com>
	<18467.12939.938913.841738@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A53410@zrc2hxm0.corp.nortel.com>
	<18467.16! 487.171324.508479@! t aimen.te st.fi> <E6C2E
	8958BA59A4FB960963D475F7AC30BD80C2A8B@mail.acmepacket.com>
	<18467.17492.323683.861768@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF05C0F825@esealmw113.eemea.ericsson.se>
	<A8948F50-3BAC-4CA2-BA42-E2F4F9493BEF@softarmor.com>
	<18468.3962.993600.980552@taimen.test.fi>
X-Mailer: Apple Mail (2.919.2)
Cc: sip@ietf.org, Francois Audet <audet@nortel.com>, drage@alcatel-lucent.com,
	Christer Holmberg <christer.holmberg@ericsson.com>
Subject: Re: [Sip] draft-ietf-sip-outbound
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


On May 9, 2008, at 3:46 AM, Juha Heinanen wrote:

> Dean Willis writes:
>
>> One nifty technique is to pair up the proxies, such that there are  
>> N/2
>> pairs, then define a hash across the namespace that maps to each user
>> ID to one of those pairs, Your UA will then end up registering to and
>> forming a flow with both proxies in its assigned pair. Other proxies
>> in the pool that receive a request for you can use the hash to find
>> the right pair, and if either proxy in the pair has lost the flow, it
>> knows to consult the other member of the pair.
>
> dean,
>
> i would really love to implement something like this, but the  
> problem is
> that because of ob draft you cannot assume that "UA will then end up
> registering to and forming a flow with both proxies in its assigned
> pair".
>

Then you're reading a different outbound draft than I am, because as  
far as I know, enabling the UA to bind multiple proxies is what the  
outbound draft does. Without it, you have no real way to do this.

Yes, binding multiple proxies is optional with respect to the  
protocol. In general, UAs will be configured (and this draft doesn't  
specify configuration) to bind multiple proxies, but it's true that  
UAs do not absolutely have to bind multiple proxies in order to place  
and receive calls. Deployments just scale the number of proxies based  
on the desired reliability.

Since the mechanism works with a single binding, there's no rationale  
under RFC 2119 for making usage of multiple bindings a MUST.  If we  
did that , then we'd have to make it a MUST for proxies to always be  
deployed in pairs, and that clearly isn't going to happen in every  
deployment scenario. I can only afford one proxy!

> in order cope with proxy failure, you must then play with all kinds
> tricks to make the still working proxy in the pair to assume the ip
> address and (in case of tcp) the flows of the dead proxy, which is not
> easy at all.

No, in order to deal with proxy failure in a single proxy case, the  
easiest thing to do is wait for the UA to note that its flow has  
dropped (because its keepalive failed) and rebind. You could certainly  
do a state-transfer to the standby-router thing, but that probably  
costs more than just deploying dual proxies would have.

But if the UA used the optional multi-proxy binding then there would  
be no need to wait. This provides operational advantages, at cost, so  
it's up to each deployment to decide whether the advantages outweigh  
the costs.

--
Dean
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Fri May  9 17:49:48 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 364923A683D;
	Fri,  9 May 2008 17:49:48 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 26B0B3A683D
	for <sip@core3.amsl.com>; Fri,  9 May 2008 17:49:47 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.599
X-Spam-Level: 
X-Spam-Status: No, score=-2.599 tagged_above=-999 required=5 tests=[AWL=0.000, 
	BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 2U4MhaO57gbj for <sip@core3.amsl.com>;
	Fri,  9 May 2008 17:49:46 -0700 (PDT)
Received: from nylon.softarmor.com (nylon.softarmor.com [66.135.38.164])
	by core3.amsl.com (Postfix) with ESMTP id 4B9863A67A8
	for <sip@ietf.org>; Fri,  9 May 2008 17:49:46 -0700 (PDT)
Received: from [192.168.2.103] (cpe-76-185-142-113.tx.res.rr.com
	[76.185.142.113]) (authenticated bits=0)
	by nylon.softarmor.com (8.13.8/8.13.8/Debian-3) with ESMTP id
	m4A0k8eE016187
	(version=TLSv1/SSLv3 cipher=AES128-SHA bits=128 verify=NOT);
	Fri, 9 May 2008 19:46:10 -0500
Message-Id: <13BC6EEC-CA79-45EA-914D-5190424E3692@softarmor.com>
From: Dean Willis <dean.willis@softarmor.com>
To: jh@tutpro.com (Juha Heinanen)
In-Reply-To: <18468.2616.797353.239556@taimen.test.fi>
Mime-Version: 1.0 (Apple Message framework v919.2)
Date: Fri, 9 May 2008 19:46:03 -0500
References: <18465.17834.732392.527310@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C776E@esealmw113.eemea.ericsson.se>
	<18465.32545.345585.820414@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8050F5A@mail.acmepacket.com>
	<18465.55659.177188.471351@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A01DDF@zrc2hxm0.corp.nortel.com>
	<18466.880.342656.104598@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD80514C7@mail.acmepacket.com>
	<48222D54.7020006@iptel.org>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8051669@mail.acmepacket.com>
	<CA9998CD4A020D418654FCDEF4E707DF046C7775@esealmw113.eemea.ericsson.se>
	<4822AB25.1070200@iptel.org>
	<18466.43946.215481.520633@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C777C@esealmw113.eemea.ericsson.se>
	<1ECE0EB50388174790F9694F77522CCF16A52F5D@zrc2hxm0.corp.nortel.com>
	<18467.8712.540473.285540@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A53030@zrc2hxm0.corp.nortel.com>
	<18467.9957.360558.903163@taimen.test.fi> <970E91!
	! 4C-BEB3-49A3-A38C-CC393F417131@softarmor.com>
	<18467.58809.210185.189951@taimen.test.fi>
	<6568E52B-6DE7-42EA-9F40-85AAEE24BAA7@softarmor.com>
	<18468.2616.797353.239556@taimen.test.fi>
X-Mailer: Apple Mail (2.919.2)
Cc: sip@ietf.org, Francois Audet <audet@nortel.com>,
	Christer Holmberg <christer.holmberg@ericsson.com>
Subject: Re: [Sip] Draft: draft-holmberg-sip-keep-00.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


On May 9, 2008, at 3:24 AM, Juha Heinanen wrote:

> Dean Willis writes:
>
>> But how does a UA know in advance that a proxy is going to send it?
>
> it doesn't need to know in advance.
>
>> And how does the UA know that it is coming from a proxy in response  
>> to
>> its own CRLF stream, and is not an artifact of an echoing NAT or  
>> other
>> weirdness?
>
> so you assume that nat or some other network box sends back on its  
> own a
> single CRLF when UA sends double CRLF to its proxy and in that  
> response
> all tcp layer stuff would match?  in my opinion trying to cope with  
> that
> kind of "weirdness" goes too far.  how do you know that your nat box
> didn't generate on its own a 200 ok when you sent invite?


Barring very clever timing and counting, it's hard to tell whether a  
CRLF stream  coming back to a a UA is really single CRLFs in response  
to double CRLFs or is CRLFs being echoed from a broken firewall.

And yes, I have seen firewall boxes get confused and echo stuff back.  
I've also seen TCP stacks get in strange loopback states where the  
echo is "local" rather than coming from a NAT box. I've never yet seen  
one get confused enough to send a 200 OK that matches an INVITE, but I  
suppose somebody could make one that does someday. Never underestimate  
the power of stupid people in large numbers.

--
Dean

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Fri May  9 18:06:49 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 5D7933A67E5;
	Fri,  9 May 2008 18:06:49 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id CDF7E3A67EF
	for <sip@core3.amsl.com>; Fri,  9 May 2008 18:06:40 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.599
X-Spam-Level: 
X-Spam-Status: No, score=-2.599 tagged_above=-999 required=5 tests=[AWL=0.000, 
	BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id DpH6K5noy0QR for <sip@core3.amsl.com>;
	Fri,  9 May 2008 18:06:38 -0700 (PDT)
Received: from nylon.softarmor.com (nylon.softarmor.com [66.135.38.164])
	by core3.amsl.com (Postfix) with ESMTP id 3F1413A67A8
	for <sip@ietf.org>; Fri,  9 May 2008 18:06:38 -0700 (PDT)
Received: from [192.168.2.103] (cpe-76-185-142-113.tx.res.rr.com
	[76.185.142.113]) (authenticated bits=0)
	by nylon.softarmor.com (8.13.8/8.13.8/Debian-3) with ESMTP id
	m4A0pui2016214
	(version=TLSv1/SSLv3 cipher=AES128-SHA bits=128 verify=NOT);
	Fri, 9 May 2008 19:51:58 -0500
Message-Id: <A7A74B90-71E5-47D0-A635-3F84898BFD74@softarmor.com>
From: Dean Willis <dean.willis@softarmor.com>
To: jh@tutpro.com (Juha Heinanen)
In-Reply-To: <18467.64835.889246.384158@taimen.test.fi>
Mime-Version: 1.0 (Apple Message framework v919.2)
Date: Fri, 9 May 2008 19:51:50 -0500
References: <18465.17834.732392.527310@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C776E@esealmw113.eemea.ericsson.se>
	<18465.32545.345585.820414@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8050F5A@mail.acmepacket.com>
	<18465.55659.177188.471351@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A01DDF@zrc2hxm0.corp.nortel.com>
	<18466.880.342656.104598@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD80514C7@mail.acmepacket.com>
	<48222D54.7020006@iptel.org>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8051669@mail.acmepacket.com>
	<CA9998CD4A020D418654FCDEF4E707DF046C7775@esealmw113.eemea.ericsson.se>
	<18466.42180.621089.330513@taimen.test.fi>
	<4822AB7C.9000108@iptel.org>
	<1ECE0EB50388174790F9694F77522CCF16A5306F@zrc2hxm0.corp.nortel.com>
	<18467.10759.517606.958702@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A5321E@zrc2hxm0.corp.nortel.com>
	<18467.12939.938913.841738@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A53410@zrc2hxm0.corp.nortel.com>
	<18467.16! 487.171324.508479@t aimen.te st.fi> <E6C2E
	8958BA59A4FB960963D475F7AC30BD80C2A8B@mail.acmepacket.com>
	<18467.17492.323683.861768@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF05C0F825@esealmw113.eemea.ericsson.se>
	<18467.64835.889246.384158@taimen.test.fi>
X-Mailer: Apple Mail (2.919.2)
Cc: sip@ietf.org, Francois Audet <audet@nortel.com>, drage@alcatel-lucent.com,
	Christer Holmberg <christer.holmberg@ericsson.com>
Subject: Re: [Sip] draft-ietf-sip-outbound
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


On May 9, 2008, at 2:29 AM, Juha Heinanen wrote:

> Christer Holmberg writes:
>
>> If a UA does not register an outbound flow via a certain proxy that
>> proxy doesn't have to know anything about other proxies, because no  
>> call
>> to/from the UA will ever go through that proxy.
>
> it would be nice if it would be easy implement a redundant, load
> balancing sip proxy cluster, where each proxy would be able to serve  
> any
> UA.  if only one proxy is able to serve a particular UA, then the
> implementation is not a high availability one.

In the absence of the outbound draft (or something much like it) this  
sort of implementation is pretty much impossible. With the outbound  
draft, I believe it becomes a possibility.

It would be nice if it were easy too, but I feel the same way about  
mountain climbing.

--
Dean
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Fri May  9 18:06:50 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 4C2BC3A6862;
	Fri,  9 May 2008 18:06:50 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id D6C053A67A8
	for <sip@core3.amsl.com>; Fri,  9 May 2008 18:06:40 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.599
X-Spam-Level: 
X-Spam-Status: No, score=-2.599 tagged_above=-999 required=5 tests=[AWL=0.000, 
	BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id gMrxRSiOaP26 for <sip@core3.amsl.com>;
	Fri,  9 May 2008 18:06:39 -0700 (PDT)
Received: from nylon.softarmor.com (nylon.softarmor.com [66.135.38.164])
	by core3.amsl.com (Postfix) with ESMTP id DFFBA3A67E5
	for <sip@ietf.org>; Fri,  9 May 2008 18:06:38 -0700 (PDT)
Received: from [192.168.2.103] (cpe-76-185-142-113.tx.res.rr.com
	[76.185.142.113]) (authenticated bits=0)
	by nylon.softarmor.com (8.13.8/8.13.8/Debian-3) with ESMTP id
	m4A0nlqR016200
	(version=TLSv1/SSLv3 cipher=AES128-SHA bits=128 verify=NOT);
	Fri, 9 May 2008 19:49:48 -0500
Message-Id: <41D3163A-B648-4692-A1F1-8547A1623093@softarmor.com>
From: Dean Willis <dean.willis@softarmor.com>
To: jh@tutpro.com (Juha Heinanen)
In-Reply-To: <18467.58528.985873.811583@taimen.test.fi>
Mime-Version: 1.0 (Apple Message framework v919.2)
Date: Fri, 9 May 2008 19:49:41 -0500
References: <18465.17834.732392.527310@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C776E@esealmw113.eemea.ericsson.se>
	<18465.32545.345585.820414@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8050F5A@mail.acmepacket.com>
	<18465.55659.177188.471351@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A01DDF@zrc2hxm0.corp.nortel.com>
	<18466.880.342656.104598@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD80514C7@mail.acmepacket.com>
	<48222D54.7020006@iptel.org>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8051669@mail.acmepacket.com>
	<CA9998CD4A020D418654FCDEF4E707DF046C7775@esealmw113.eemea.ericsson.se>
	<4822AB25.1070200@iptel.org>
	<18466.43946.215481.520633@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C777C@esealmw113.eemea.ericsson.se>
	<1ECE0EB50388174790F9694F77522CCF16A52F5D@zrc2hxm0.corp.nortel.com>
	<18467.8712.540473.285540@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD80C2A37@mail.acmepacket.com>
	<18467.16709.423752.484859@taimen.test.fi> <E6C2E895!
	8BA59A4FB960963D475F7AC30BD80C2FEE@mail.acmepacket.com>
	<18467.58528.985873.811583@taimen.test.fi>
X-Mailer: Apple Mail (2.919.2)
Cc: "sip@ietf.org" <sip@ietf.org>, Christer@core3.amsl.com,
	Francois Audet <audet@nortel.com>,
	Holmberg <christer.holmberg@ericsson.com>
Subject: Re: [Sip] Draft: draft-holmberg-sip-keep-00.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


On May 9, 2008, at 12:44 AM, Juha Heinanen wrote:

> Hadriel Kaplan writes:
>
>> In my world, humans aren't typically expected to configure anything
>> on their UA; short of maybe their AoR, username, and password.  And
>> even that is sometimes pre-installed on the UA.
>
> then you must really hate the outbound id that does not
> provide any standard means for the UA to learns its ob proxy set!   
> that
> is another reason why ob draft is useless.

The outbound draft also doesn't include any discussion of how to  
configure the user ID and passwords to be used by a UA. And it failed  
to calculate my federal income tax correctly, too. Oh horrors! It must  
be really broken!

Or perhaps it is that both configuration discovery and income tax  
calculation are  out of scope for the outbound draft.

--
Dean
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Fri May  9 23:03:59 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id EBD233A67A1;
	Fri,  9 May 2008 23:03:58 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id EADA73A67A1
	for <sip@core3.amsl.com>; Fri,  9 May 2008 23:03:56 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.562
X-Spam-Level: 
X-Spam-Status: No, score=-2.562 tagged_above=-999 required=5 tests=[AWL=0.038, 
	BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 8FceH2hn4oS1 for <sip@core3.amsl.com>;
	Fri,  9 May 2008 23:03:56 -0700 (PDT)
Received: from tutpro.com (sip.tutpro.com [192.98.100.10])
	by core3.amsl.com (Postfix) with ESMTP id B7EB53A65A5
	for <sip@ietf.org>; Fri,  9 May 2008 23:03:55 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by tutpro.com (Postfix) with ESMTP id 608681EC25B;
	Sat, 10 May 2008 08:40:30 +0300 (EEST)
Received: from tutpro.com ([127.0.0.1])
	by localhost (tutpro.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id xXBpC9O7yxpI; Sat, 10 May 2008 08:40:23 +0300 (EEST)
Received: from taimen (h13336.gprs.dnafinland.fi [87.93.133.36])
	by tutpro.com (Postfix) with ESMTP;
	Sat, 10 May 2008 08:40:23 +0300 (EEST)
Received: by taimen (Postfix, from userid 1000)
	id 286E9AC06F; Sat, 10 May 2008 08:40:15 +0300 (EEST)
MIME-Version: 1.0
Message-ID: <18469.13630.852013.419236@taimen.test.fi>
Date: Sat, 10 May 2008 08:40:14 +0300
To: Dean Willis <dean.willis@softarmor.com>
In-Reply-To: <6A699061-514E-40F9-8949-B44EF76D9A02@softarmor.com>
References: <18465.17834.732392.527310@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C776E@esealmw113.eemea.ericsson.se>
	<18465.32545.345585.820414@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8050F5A@mail.acmepacket.com>
	<18465.55659.177188.471351@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A01DDF@zrc2hxm0.corp.nortel.com>
	<18466.880.342656.104598@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD80514C7@mail.acmepacket.com>
	<48222D54.7020006@iptel.org>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8051669@mail.acmepacket.com>
	<CA9998CD4A020D418654FCDEF4E707DF046C7775@esealmw113.eemea.ericsson.se>
	<18466.42180.621089.330513@taimen.test.fi>
	<4822AB7C.9000108@iptel.org>
	<1ECE0EB50388174790F9694F77522CCF16A5306F@zrc2hxm0.corp.nortel.com>
	<18467.10759.517606.958702@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A5321E@zrc2hxm0.corp.nortel.com>
	<18467.12939.938913.841738@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A53410@zrc2hxm0.corp.nortel.com>
	<18467.16! 487.171324.508479@! t aimen.te st.fi>
	<E6C2E 8958BA59A4FB960963D475F7AC30BD80C2A8B@mail.acmepacket.com>
	<18467.17492.323683.861768@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF05C0F825@esealmw113.eemea.ericsson.se>
	<A8948F50-3BAC-4CA2-BA42-E2F4F9493BEF@softarmor.com>
	<18468.3962.993600.980552@taimen.test.fi>
	<6A699061-514E-40F9-8949-B44EF76D9A02@softarmor.com>
X-Mailer: VM 7.19 under Emacs 22.1.1
From: jh@tutpro.com (Juha Heinanen)
Cc: sip@ietf.org, Francois Audet <audet@nortel.com>, drage@alcatel-lucent.com,
	Christer Holmberg <christer.holmberg@ericsson.com>
Subject: Re: [Sip] draft-ietf-sip-outbound
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Dean Willis writes:

 > Then you're reading a different outbound draft than I am, because as  
 > far as I know, enabling the UA to bind multiple proxies is what the  
 > outbound draft does. Without it, you have no real way to do this.

ob draft does not "anable UA to bind to multiple proxies".  rfc3261
already allows and enables UA to bind to multiple proxies.

 > Since the mechanism works with a single binding, there's no rationale  
 > under RFC 2119 for making usage of multiple bindings a MUST.  If we  
 > did that , then we'd have to make it a MUST for proxies to always be  
 > deployed in pairs, and that clearly isn't going to happen in every  
 > deployment scenario. I can only afford one proxy!

then the ob set that you tell to your UAs would consist of only one
proxy, which would be perfectly fine.

-- juha
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Sat May 10 00:51:19 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 1E5143A67EA;
	Sat, 10 May 2008 00:51:19 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 1AADE3A67A1
	for <sip@core3.amsl.com>; Sat, 10 May 2008 00:51:17 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.599
X-Spam-Level: 
X-Spam-Status: No, score=-2.599 tagged_above=-999 required=5
	tests=[BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id VLhclyaMcYvm for <sip@core3.amsl.com>;
	Sat, 10 May 2008 00:51:16 -0700 (PDT)
Received: from nylon.softarmor.com (nylon.softarmor.com [66.135.38.164])
	by core3.amsl.com (Postfix) with ESMTP id 587C73A67EA
	for <sip@ietf.org>; Sat, 10 May 2008 00:50:58 -0700 (PDT)
Received: from [192.168.2.103] (cpe-76-185-142-113.tx.res.rr.com
	[76.185.142.113]) (authenticated bits=0)
	by nylon.softarmor.com (8.13.8/8.13.8/Debian-3) with ESMTP id
	m4A7jBDc017566
	(version=TLSv1/SSLv3 cipher=AES128-SHA bits=128 verify=NOT);
	Sat, 10 May 2008 02:45:12 -0500
Message-Id: <B0CF5278-8A23-4033-A5AF-4924BA98B9B4@softarmor.com>
From: Dean Willis <dean.willis@softarmor.com>
To: jh@tutpro.com (Juha Heinanen)
In-Reply-To: <18469.13630.852013.419236@taimen.test.fi>
Mime-Version: 1.0 (Apple Message framework v919.2)
Date: Sat, 10 May 2008 02:45:05 -0500
References: <18465.17834.732392.527310@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C776E@esealmw113.eemea.ericsson.se>
	<18465.32545.345585.820414@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8050F5A@mail.acmepacket.com>
	<18465.55659.177188.471351@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A01DDF@zrc2hxm0.corp.nortel.com>
	<18466.880.342656.104598@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD80514C7@mail.acmepacket.com>
	<48222D54.7020006@iptel.org>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8051669@mail.acmepacket.com>
	<CA9998CD4A020D418654FCDEF4E707DF046C7775@esealmw113.eemea.ericsson.se>
	<18466.42180.621089.330513@taimen.test.fi>
	<4822AB7C.9000108@iptel.org>
	<1ECE0EB50388174790F9694F77522CCF16A5306F@zrc2hxm0.corp.nortel.com>
	<18467.10759.517606.958702@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A5321E@zrc2hxm0.corp.nortel.com>
	<18467.12939.938913.841738@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A53410@zrc2hxm0.corp.nortel.com>
	<18467.16! ! 487.171324.508479@! t aimen.te st.fi> <E6C2E
	8958BA59A4FB960963D475F7AC30BD80C2A8B@mail.acmepacket.com>
	<18467.17492.323683.861768@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF05C0F825@esealmw113.eemea.ericsson.se>
	<A8948F50-3BAC-4CA2-BA42-E2F4F9493BEF@softarmor.com>
	<18468.3962.993600.980552@taimen.test.fi>
	<6A699061-514E-40F9-8949-B44EF76D9A02@softarmor.com>
	<18469.13630.852013.419236@taimen.test.fi>
X-Mailer: Apple Mail (2.919.2)
Cc: sip@ietf.org, Francois Audet <audet@nortel.com>, drage@alcatel-lucent.com,
	Christer Holmberg <christer.holmberg@ericsson.com>
Subject: Re: [Sip] draft-ietf-sip-outbound
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


On May 10, 2008, at 12:40 AM, Juha Heinanen wrote:

> Dean Willis writes:
>
>> Then you're reading a different outbound draft than I am, because as
>> far as I know, enabling the UA to bind multiple proxies is what the
>> outbound draft does. Without it, you have no real way to do this.
>
> ob draft does not "anable UA to bind to multiple proxies".  rfc3261
> already allows and enables UA to bind to multiple proxies.

Not and detect when they've dropped and need to be re-connected, and  
not in a way that allows the proxies to reach the UAs back across a  
NAT reliably,
>
>
>> Since the mechanism works with a single binding, there's no rationale
>> under RFC 2119 for making usage of multiple bindings a MUST.  If we
>> did that , then we'd have to make it a MUST for proxies to always be
>> deployed in pairs, and that clearly isn't going to happen in every
>> deployment scenario. I can only afford one proxy!
>
> then the ob set that you tell to your UAs would consist of only one
> proxy, which would be perfectly fine.

Earlier, you were apparently arguing that having only one proxy  
configured should be a violation of the spec, and that Outbound is  
useless because it does not require a UA to register with multiple  
proxies. Now you're saying that this would be perfectly fine.

Are you saying that the configuration mechanism should have an  
indicator to tell a configured UA which or how many proxies it should  
bind to, out of a larger set of available proxies that it can choose  
from? For example, we might have a configuration that says "Here are  
the six proxies available for you to use. We expect you to register  
with at least two of them, and if you lose any bindings, please make a  
new one. Registering with only one is a violation of your terms of  
service and will force us to neuter your cat." Or perhaps another  
config that says "Here are four proxies. You must register with all of  
them."


--
Dean

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Sat May 10 05:51:16 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id C68853A679C;
	Sat, 10 May 2008 05:51:16 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 840CE3A65A5
	for <sip@core3.amsl.com>; Sat, 10 May 2008 05:51:14 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.562
X-Spam-Level: 
X-Spam-Status: No, score=-2.562 tagged_above=-999 required=5 tests=[AWL=0.037, 
	BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id RcMppXrx8fog for <sip@core3.amsl.com>;
	Sat, 10 May 2008 05:51:13 -0700 (PDT)
Received: from tutpro.com (lohi.tutpro.com [192.98.100.2])
	by core3.amsl.com (Postfix) with ESMTP id 9197F3A67F1
	for <sip@ietf.org>; Sat, 10 May 2008 05:51:04 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by tutpro.com (Postfix) with ESMTP id D0BA31EC25B;
	Sat, 10 May 2008 15:49:15 +0300 (EEST)
Received: from tutpro.com ([127.0.0.1])
	by localhost (tutpro.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id grcvzbeKEZEN; Sat, 10 May 2008 15:49:08 +0300 (EEST)
Received: from taimen (h13336.gprs.dnafinland.fi [87.93.133.36])
	by tutpro.com (Postfix) with ESMTP;
	Sat, 10 May 2008 15:49:08 +0300 (EEST)
Received: by taimen (Postfix, from userid 1000)
	id C642CAC06E; Sat, 10 May 2008 15:49:03 +0300 (EEST)
MIME-Version: 1.0
Message-ID: <18469.39359.781686.130823@taimen.test.fi>
Date: Sat, 10 May 2008 15:49:03 +0300
To: Dean Willis <dean.willis@softarmor.com>
In-Reply-To: <B0CF5278-8A23-4033-A5AF-4924BA98B9B4@softarmor.com>
References: <18465.17834.732392.527310@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C776E@esealmw113.eemea.ericsson.se>
	<18465.32545.345585.820414@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8050F5A@mail.acmepacket.com>
	<18465.55659.177188.471351@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A01DDF@zrc2hxm0.corp.nortel.com>
	<18466.880.342656.104598@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD80514C7@mail.acmepacket.com>
	<48222D54.7020006@iptel.org>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8051669@mail.acmepacket.com>
	<CA9998CD4A020D418654FCDEF4E707DF046C7775@esealmw113.eemea.ericsson.se>
	<18466.42180.621089.330513@taimen.test.fi>
	<4822AB7C.9000108@iptel.org>
	<1ECE0EB50388174790F9694F77522CCF16A5306F@zrc2hxm0.corp.nortel.com>
	<18467.10759.517606.958702@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A5321E@zrc2hxm0.corp.nortel.com>
	<18467.12939.938913.841738@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A53410@zrc2hxm0.corp.nortel.com>
	<18467.16! ! 487.171324.508479@! t aimen.te st.fi>
	<E6C2E 8958BA59A4FB960963D475F7AC30BD80C2A8B@mail.acmepacket.com>
	<18467.17492.323683.861768@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF05C0F825@esealmw113.eemea.ericsson.se>
	<A8948F50-3BAC-4CA2-BA42-E2F4F9493BEF@softarmor.com>
	<18468.3962.993600.980552@taimen.test.fi>
	<6A699061-514E-40F9-8949-B44EF76D9A02@softarmor.com>
	<18469.13630.852013.419236@taimen.test.fi>
	<B0CF5278-8A23-4033-A5AF-4924BA98B9B4@softarmor.com>
X-Mailer: VM 7.19 under Emacs 22.1.1
From: jh@tutpro.com (Juha Heinanen)
Cc: sip@ietf.org, Francois Audet <audet@nortel.com>, drage@alcatel-lucent.com,
	Christer Holmberg <christer.holmberg@ericsson.com>
Subject: Re: [Sip] draft-ietf-sip-outbound
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Dean Willis writes:

 > Earlier, you were apparently arguing that having only one proxy  
 > configured should be a violation of the spec, and that Outbound is  
 > useless because it does not require a UA to register with multiple  
 > proxies. Now you're saying that this would be perfectly fine.

i said that UA MUST register with EVERY proxy in its set.  if there is
only one in the set, then it is fine too.  

 > Are you saying that the configuration mechanism should have an  
 > indicator to tell a configured UA which or how many proxies it should  
 > bind to, out of a larger set of available proxies that it can choose  
 > from? 

no, see above.

-- juha
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Sat May 10 06:34:05 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 517153A67F1;
	Sat, 10 May 2008 06:34:05 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id B8E863A67F1
	for <sip@core3.amsl.com>; Sat, 10 May 2008 06:34:02 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.563
X-Spam-Level: 
X-Spam-Status: No, score=-2.563 tagged_above=-999 required=5 tests=[AWL=0.036, 
	BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id jE8umKidswKc for <sip@core3.amsl.com>;
	Sat, 10 May 2008 06:34:02 -0700 (PDT)
Received: from tutpro.com (sip.tutpro.com [192.98.100.10])
	by core3.amsl.com (Postfix) with ESMTP id D631E3A679C
	for <sip@ietf.org>; Sat, 10 May 2008 06:34:01 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by tutpro.com (Postfix) with ESMTP id 507511EC27D;
	Sat, 10 May 2008 16:06:16 +0300 (EEST)
Received: from tutpro.com ([127.0.0.1])
	by localhost (tutpro.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id c-QLx7vlx-VQ; Sat, 10 May 2008 16:06:09 +0300 (EEST)
Received: from taimen (h13336.gprs.dnafinland.fi [87.93.133.36])
	by tutpro.com (Postfix) with ESMTP;
	Sat, 10 May 2008 16:06:09 +0300 (EEST)
Received: by taimen (Postfix, from userid 1000)
	id 42A23AC06E; Sat, 10 May 2008 16:06:05 +0300 (EEST)
MIME-Version: 1.0
Message-ID: <18469.40381.4827.310717@taimen.test.fi>
Date: Sat, 10 May 2008 16:06:05 +0300
To: "Christer Holmberg" <christer.holmberg@ericsson.com>
In-Reply-To: <CA9998CD4A020D418654FCDEF4E707DF046C778C@esealmw113.eemea.ericsson.se>
References: <18465.17834.732392.527310@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C776E@esealmw113.eemea.ericsson.se>
	<18465.32545.345585.820414@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8050F5A@mail.acmepacket.com>
	<18465.55659.177188.471351@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A01DDF@zrc2hxm0.corp.nortel.com>
	<18466.880.342656.104598@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD80514C7@mail.acmepacket.com>
	<48222D54.7020006@iptel.org>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8051669@mail.acmepacket.com>
	<CA9998CD4A020D418654FCDEF4E707DF046C7775@esealmw113.eemea.ericsson.se>
	<4822AB25.1070200@iptel.org>
	<18466.43946.215481.520633@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C777C@esealmw113.eemea.ericsson.se>
	<1ECE0EB50388174790F9694F77522CCF16A52F5D@zrc2hxm0.corp.nortel.com>
	<18467.8712.540473.285540@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD80C2A37@mail.acmepacket.com>
	<18467.16709.423752.484859@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475 F7AC30BD 80C2FEE@mail.acmepacket.com>
	<18467.58528.985873.811583@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C778C@esealmw113.eemea.ericsson.se>
X-Mailer: VM 7.19 under Emacs 22.1.1
From: jh@tutpro.com (Juha Heinanen)
Cc: sip@ietf.org, Christer@core3.amsl.com, Francois Audet <audet@nortel.com>
Subject: Re: [Sip] Draft: draft-holmberg-sip-keep-00.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Christer Holmberg writes:

 > >my point is that tcp UA should just start sending LRLFs and use normal
 > >reg int. 
 > 
 > Yes, and it would have been great if RFC2543 would have mandated
 > that. But unfortunately it didn't.

i don't understand what rfc2543 has to do with this.  rfc2543 does not
have the keep param either.

-- juha
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Sat May 10 06:34:15 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id F2DA43A6880;
	Sat, 10 May 2008 06:34:14 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id F0CBD3A6880
	for <sip@core3.amsl.com>; Sat, 10 May 2008 06:34:12 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.564
X-Spam-Level: 
X-Spam-Status: No, score=-2.564 tagged_above=-999 required=5 tests=[AWL=0.035, 
	BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id a0J3Rlhe9WZn for <sip@core3.amsl.com>;
	Sat, 10 May 2008 06:34:12 -0700 (PDT)
Received: from tutpro.com (sip.tutpro.com [192.98.100.10])
	by core3.amsl.com (Postfix) with ESMTP id 0C50D3A687F
	for <sip@ietf.org>; Sat, 10 May 2008 06:34:12 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by tutpro.com (Postfix) with ESMTP id E62DD1EC25B;
	Sat, 10 May 2008 15:59:46 +0300 (EEST)
Received: from tutpro.com ([127.0.0.1])
	by localhost (tutpro.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id E91xL0lUsMMu; Sat, 10 May 2008 15:59:40 +0300 (EEST)
Received: from taimen (h13336.gprs.dnafinland.fi [87.93.133.36])
	by tutpro.com (Postfix) with ESMTP;
	Sat, 10 May 2008 15:59:40 +0300 (EEST)
Received: by taimen (Postfix, from userid 1000)
	id AD061AC06E; Sat, 10 May 2008 15:59:35 +0300 (EEST)
MIME-Version: 1.0
Message-ID: <18469.39991.678671.481517@taimen.test.fi>
Date: Sat, 10 May 2008 15:59:35 +0300
To: "Christer Holmberg" <christer.holmberg@ericsson.com>
In-Reply-To: <CA9998CD4A020D418654FCDEF4E707DF046C778B@esealmw113.eemea.ericsson.se>
References: <18465.17834.732392.527310@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C776E@esealmw113.eemea.ericsson.se>
	<18465.32545.345585.820414@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8050F5A@mail.acmepacket.com>
	<18465.55659.177188.471351@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A01DDF@zrc2hxm0.corp.nortel.com>
	<18466.880.342656.104598@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD80514C7@mail.acmepacket.com>
	<48222D54.7020006@iptel.org>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8051669@mail.acmepacket.com>
	<CA9998CD4A020D418654FCDEF4E707DF046C7775@esealmw113.eemea.ericsson.se>
	<18466.42180.621089.330513@taimen.test.fi>
	<4822AB7C.9000108@iptel.org>
	<1ECE0EB50388174790F9694F77522CCF16A5306F@zrc2hxm0.corp.nortel.com>
	<18467.10759.517606.958702@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A5321E@zrc2hxm0.corp.nortel.com>
	<18467.12939.938913.841738@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A53410@zrc2hxm0.corp.nortel.com>
	<18467.16487.171324.508479@t aimen. test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD80C2A8B@mail.acmepacket.com>
	<18467.17492.323683.861768@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF05C0F825@esealmw113.eemea.ericsson.se>
	<18467.64835.889246.384158@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF05C0F827@esealmw113.eemea.ericsson.se>
	<18468.5.693161.719570@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C778B@esealmw113.eemea.ericsson.se>
X-Mailer: VM 7.19 under Emacs 22.1.1
From: jh@tutpro.com (Juha Heinanen)
Cc: sip@ietf.org, Francois Audet <audet@nortel.com>, drage@alcatel-lucent.com,
	dean.willis@softarmor.com
Subject: Re: [Sip] draft-ietf-sip-outbound
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Christer Holmberg writes:

 > I have registered with my home registrar. My home registrar then
 > knows about the outbound flows towards me, and will choose one of
 > those.

if there is only one and this only one becomes unavailable, the proxy is
not able to reach the UA.  therefore it does not make much sense to
register with only one if the set consists of two.  and as i told
earlier, by registering with only one, you still consume resources of
both and thus loose load balancing advantage.

-- juha

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Sat May 10 06:35:32 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 990D33A687F;
	Sat, 10 May 2008 06:35:32 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 3AB413A687F
	for <sip@core3.amsl.com>; Sat, 10 May 2008 06:35:31 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.265
X-Spam-Level: 
X-Spam-Status: No, score=-2.265 tagged_above=-999 required=5
	tests=[AWL=-0.266, BAYES_00=-2.599, J_CHICKENPOX_43=0.6]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id Hg9ACm7sLHLE for <sip@core3.amsl.com>;
	Sat, 10 May 2008 06:35:30 -0700 (PDT)
Received: from tutpro.com (sip.tutpro.com [192.98.100.10])
	by core3.amsl.com (Postfix) with ESMTP id 55BCC3A679C
	for <sip@ietf.org>; Sat, 10 May 2008 06:35:30 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by tutpro.com (Postfix) with ESMTP id B83481EC2A0;
	Sat, 10 May 2008 16:03:55 +0300 (EEST)
Received: from tutpro.com ([127.0.0.1])
	by localhost (tutpro.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id c6+Ana4tbp7H; Sat, 10 May 2008 16:03:48 +0300 (EEST)
Received: from taimen (h13336.gprs.dnafinland.fi [87.93.133.36])
	by tutpro.com (Postfix) with ESMTP;
	Sat, 10 May 2008 16:03:48 +0300 (EEST)
Received: by taimen (Postfix, from userid 1000)
	id 7558BAC06E; Sat, 10 May 2008 16:03:34 +0300 (EEST)
MIME-Version: 1.0
Message-ID: <18469.40230.445844.587399@taimen.test.fi>
Date: Sat, 10 May 2008 16:03:34 +0300
To: "Christer Holmberg" <christer.holmberg@ericsson.com>
In-Reply-To: <CA9998CD4A020D418654FCDEF4E707DF046C778E@esealmw113.eemea.ericsson.se>
References: <18465.17834.732392.527310@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C776E@esealmw113.eemea.ericsson.se>
	<18465.32545.345585.820414@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8050F5A@mail.acmepacket.com>
	<18465.55659.177188.471351@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A01DDF@zrc2hxm0.corp.nortel.com>
	<18466.880.342656.104598@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD80514C7@mail.acmepacket.com>
	<48222D54.7020006@iptel.org>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8051669@mail.acmepacket.com>
	<CA9998CD4A020D418654FCDEF4E707DF046C7775@esealmw113.eemea.ericsson.se>
	<4822AB25.1070200@iptel.org>
	<18466.43946.215481.520633@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C777C@esealmw113.eemea.ericsson.se>
	<1ECE0EB50388174790F9694F77522CCF16A52F5D@zrc2hxm0.corp.nortel.com>
	<18467.8712.540473.285540@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A53030@zrc2hxm0.corp.nortel.com>
	<18467.9957.360558.903163@taimen.test.fi>
	<970E914C-BEB3-49A3-A38C-C C393F417 131@softarmor.com>
	<18467.58809.210185.189951@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C778E@esealmw113.eemea.ericsson.se>
X-Mailer: VM 7.19 under Emacs 22.1.1
From: jh@tutpro.com (Juha Heinanen)
Cc: sip@ietf.org, Francois Audet <audet@nortel.com>,
	Dean Willis <dean.willis@softarmor.com>
Subject: Re: [Sip] Draft: draft-holmberg-sip-keep-00.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Christer Holmberg writes:

 > Since there seems to be different opinions on whether CRLF has
 > already been implemented by everyone

i don't think that anyone has claimed that CRLF has been implemented by
EVERYONE.  it has been implemented by SOME UAs without keep param and
the number if growing.

 > whether an indication is needed etc, what is wrong with what you
 > proposed earlier, that the draft
 > would not explicitly forbid sending CRLF even if keep=yes is not
 > returned?

it should explicitly RECOMMEND it.

-- juha
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Sat May 10 09:58:31 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 1C3C63A687F;
	Sat, 10 May 2008 09:58:31 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 32ED13A687F
	for <sip@core3.amsl.com>; Sat, 10 May 2008 09:58:29 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.235
X-Spam-Level: 
X-Spam-Status: No, score=-2.235 tagged_above=-999 required=5
	tests=[AWL=-0.236, BAYES_00=-2.599, J_CHICKENPOX_43=0.6]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 17Tz-g-vvg6v for <sip@core3.amsl.com>;
	Sat, 10 May 2008 09:58:28 -0700 (PDT)
Received: from etmail.acmepacket.com (etmail.acmepacket.com [216.41.24.6])
	by core3.amsl.com (Postfix) with ESMTP id 5EED43A67E9
	for <sip@ietf.org>; Sat, 10 May 2008 09:58:28 -0700 (PDT)
Received: from mail.acmepacket.com (216.41.24.7) by etmail.acmepacket.com
	(216.41.24.6) with Microsoft SMTP Server (TLS) id 8.1.263.0;
	Sat, 10 May 2008 12:54:17 -0400
Received: from mail.acmepacket.com ([216.41.24.7]) by mail.acmepacket.com
	([216.41.24.7]) with mapi; Sat, 10 May 2008 12:54:18 -0400
From: Hadriel Kaplan <HKaplan@acmepacket.com>
To: Juha Heinanen <jh@tutpro.com>, Christer Holmberg
	<christer.holmberg@ericsson.com>
Date: Sat, 10 May 2008 12:52:24 -0400
Thread-Topic: [Sip] Draft: draft-holmberg-sip-keep-00.txt
Thread-Index: AciyoqY44uygOdMWROOJh6Cy85zhtgAGeCBw
Message-ID: <E6C2E8958BA59A4FB960963D475F7AC30BD926BA31@mail.acmepacket.com>
References: <18465.17834.732392.527310@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C776E@esealmw113.eemea.ericsson.se>
	<18465.32545.345585.820414@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8050F5A@mail.acmepacket.com>
	<18465.55659.177188.471351@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A01DDF@zrc2hxm0.corp.nortel.com>
	<18466.880.342656.104598@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD80514C7@mail.acmepacket.com>
	<48222D54.7020006@iptel.org>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8051669@mail.acmepacket.com>
	<CA9998CD4A020D418654FCDEF4E707DF046C7775@esealmw113.eemea.ericsson.se>
	<4822AB25.1070200@iptel.org>	<18466.43946.215481.520633@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C777C@esealmw113.eemea.ericsson.se>
	<1ECE0EB50388174790F9694F77522CCF16A52F5D@zrc2hxm0.corp.nortel.com>
	<18467.8712.540473.285540@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A53030@zrc2hxm0.corp.nortel.com>
	<18467.9957.360558.903163@taimen.test.fi>	<970E914C-BEB3-49A3-A38C-C
	C393F417 131@softarmor.com>	<18467.58809.210185.189951@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C778E@esealmw113.eemea.ericsson.se>
	<18469.40230.445844.587399@taimen.test.fi>
In-Reply-To: <18469.40230.445844.587399@taimen.test.fi>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
acceptlanguage: en-US
MIME-Version: 1.0
Cc: "sip@ietf.org" <sip@ietf.org>, Francois Audet <audet@nortel.com>,
	Dean@core3.amsl.com, Willis <dean.willis@softarmor.com>
Subject: Re: [Sip] Draft: draft-holmberg-sip-keep-00.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org



> -----Original Message-----
> From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On Behalf Of Juha
> Heinanen
>
> Christer Holmberg writes:
>
>  > Since there seems to be different opinions on whether CRLF has
>  > already been implemented by everyone
>
> i don't think that anyone has claimed that CRLF has been implemented by
> EVERYONE.  it has been implemented by SOME UAs without keep param and
> the number if growing.

And there's the rub.  The set of UA's which will send CRLF vs. not, and the set of Proxies which will handle it as a keepalive rather than nothingness, is a Venn diagram.  We have mechanisms in SIP to solve that and find out which portion of the diagram each party is in.  For some reason you don't want such mechanisms to be used.


>  > whether an indication is needed etc, what is wrong with what you
>  > proposed earlier, that the draft
>  > would not explicitly forbid sending CRLF even if keep=yes is not
>  > returned?
>
> it should explicitly RECOMMEND it.

No, it really shouldn't, imo.  It should say nothing about it.  If you support the draft, then use the keep.  If you don't support the draft, all bets are off and your mileage will vary on what will happen.  It's just local policy at that point, and you could guess wrong.

-hadriel
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Sat May 10 10:06:45 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 5BE6C3A67E9;
	Sat, 10 May 2008 10:06:45 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id A23C83A67E9
	for <sip@core3.amsl.com>; Sat, 10 May 2008 10:06:32 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.519
X-Spam-Level: 
X-Spam-Status: No, score=-2.519 tagged_above=-999 required=5 tests=[AWL=0.080, 
	BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id ggzD4Rdeulyi for <sip@core3.amsl.com>;
	Sat, 10 May 2008 10:06:30 -0700 (PDT)
Received: from etmail.acmepacket.com (etmail.acmepacket.com [216.41.24.6])
	by core3.amsl.com (Postfix) with ESMTP id 927893A6782
	for <sip@ietf.org>; Sat, 10 May 2008 10:06:30 -0700 (PDT)
Received: from mail.acmepacket.com (216.41.24.7) by etmail.acmepacket.com
	(216.41.24.6) with Microsoft SMTP Server (TLS) id 8.1.263.0;
	Sat, 10 May 2008 13:00:30 -0400
Received: from mail.acmepacket.com ([216.41.24.7]) by mail.acmepacket.com
	([216.41.24.7]) with mapi; Sat, 10 May 2008 13:00:29 -0400
From: Hadriel Kaplan <HKaplan@acmepacket.com>
To: Juha Heinanen <jh@tutpro.com>, Dean Willis <dean.willis@softarmor.com>
Date: Sat, 10 May 2008 12:58:34 -0400
Thread-Topic: [Sip] draft-ietf-sip-outbound
Thread-Index: AciyYEfixSpBhiXBSn+ageesauwDsgAXfe/Q
Message-ID: <E6C2E8958BA59A4FB960963D475F7AC30BD926BA37@mail.acmepacket.com>
References: <18465.17834.732392.527310@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C776E@esealmw113.eemea.ericsson.se>
	<18465.32545.345585.820414@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8050F5A@mail.acmepacket.com>
	<18465.55659.177188.471351@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A01DDF@zrc2hxm0.corp.nortel.com>
	<18466.880.342656.104598@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD80514C7@mail.acmepacket.com>
	<48222D54.7020006@iptel.org>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8051669@mail.acmepacket.com>
	<CA9998CD4A020D418654FCDEF4E707DF046C7775@esealmw113.eemea.ericsson.se>
	<18466.42180.621089.330513@taimen.test.fi>	<4822AB7C.9000108@iptel.org>
	<1ECE0EB50388174790F9694F77522CCF16A5306F@zrc2hxm0.corp.nortel.com>
	<18467.10759.517606.958702@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A5321E@zrc2hxm0.corp.nortel.com>
	<18467.12939.938913.841738@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A53410@zrc2hxm0.corp.nortel.com>
	<18467.16! 487.171324.508479@! t aimen.te st.fi>	<E6C2E
	8958BA59A4FB960963D475F7AC30BD80C2A8B@mail.acmepacket.com>
	<18467.17492.323683.861768@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF05C0F825@esealmw113.eemea.ericsson.se>
	<A8948F50-3BAC-4CA2-BA42-E2F4F9493BEF@softarmor.com>
	<18468.3962.993600.980552@taimen.test.fi>
	<6A699061-514E-40F9-8949-B44EF76D9A02@softarmor.com>
	<18469.13630.852013.419236@taimen.test.fi>
In-Reply-To: <18469.13630.852013.419236@taimen.test.fi>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
acceptlanguage: en-US
MIME-Version: 1.0
Cc: "sip@ietf.org" <sip@ietf.org>, Francois Audet <audet@nortel.com>,
	"drage@alcatel-lucent.com" <drage@alcatel-lucent.com>,
	Christer Holmberg <christer.holmberg@ericsson.com>
Subject: Re: [Sip] draft-ietf-sip-outbound
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org



> -----Original Message-----
> From: Juha Heinanen [mailto:jh@tutpro.com]
>
> ob draft does not "anable UA to bind to multiple proxies".  rfc3261
> already allows and enables UA to bind to multiple proxies.

But 3261 would sometimes make the registrar-proxy fork requests to those contacts through the multiple edge proxies, because as far as it knew they were unique instances.  Outbound would not.  3261 would also keep stale contacts (from dead flows) for the register lifetime, whereas outbound replaces them.  And 3261 did not have connect-reuse behavior for the endpoint-proxy flow, although obviously in practice many proxies did that anyway for endpoint flows.

-hadriel
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Sat May 10 10:46:26 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id D12F13A6945;
	Sat, 10 May 2008 10:46:26 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 1C9053A683B
	for <sip@core3.amsl.com>; Sat, 10 May 2008 10:46:25 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -5.843
X-Spam-Level: 
X-Spam-Status: No, score=-5.843 tagged_above=-999 required=5
	tests=[AWL=-0.194, BAYES_00=-2.599, HELO_EQ_SE=0.35,
	J_CHICKENPOX_43=0.6, RCVD_IN_DNSWL_MED=-4]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id IJNq6Zl6gmkM for <sip@core3.amsl.com>;
	Sat, 10 May 2008 10:46:24 -0700 (PDT)
Received: from mailgw4.ericsson.se (mailgw4.ericsson.se [193.180.251.62])
	by core3.amsl.com (Postfix) with ESMTP id F1ED83A68C0
	for <sip@ietf.org>; Sat, 10 May 2008 10:46:18 -0700 (PDT)
Received: from mailgw4.ericsson.se (unknown [127.0.0.1])
	by mailgw4.ericsson.se (Symantec Mail Security) with ESMTP id
	647302055E; Sat, 10 May 2008 12:59:16 +0200 (CEST)
X-AuditID: c1b4fb3e-ac194bb000004ec0-6d-482580045040
Received: from esealmw128.eemea.ericsson.se (unknown [153.88.254.121])
	by mailgw4.ericsson.se (Symantec Mail Security) with ESMTP id
	43BB320353; Sat, 10 May 2008 12:59:16 +0200 (CEST)
Received: from esealmw113.eemea.ericsson.se ([153.88.200.4]) by
	esealmw128.eemea.ericsson.se with Microsoft SMTPSVC(6.0.3790.1830); 
	Sat, 10 May 2008 12:59:15 +0200
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Sat, 10 May 2008 12:55:15 +0200
Message-ID: <CA9998CD4A020D418654FCDEF4E707DF046C778E@esealmw113.eemea.ericsson.se>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] Draft: draft-holmberg-sip-keep-00.txt
thread-index: Acix/6q7XA4+Fp+xRoexuVwKofej8AAjKlAL
References: <18465.17834.732392.527310@taimen.test.fi><CA9998CD4A020D418654FCDEF4E707DF046C776E@esealmw113.eemea.ericsson.se><18465.32545.345585.820414@taimen.test.fi><E6C2E8958BA59A4FB960963D475F7AC30BD8050F5A@mail.acmepacket.com><18465.55659.177188.471351@taimen.test.fi><1ECE0EB50388174790F9694F77522CCF16A01DDF@zrc2hxm0.corp.nortel.com><18466.880.342656.104598@taimen.test.fi><E6C2E8958BA59A4FB960963D475F7AC30BD80514C7@mail.acmepacket.com><48222D54.7020006@iptel.org><E6C2E8958BA59A4FB960963D475F7AC30BD8051669@mail.acmepacket.com><CA9998CD4A020D418654FCDEF4E707DF046C7775@esealmw113.eemea.ericsson.se><4822AB25.1070200@iptel.org><18466.43946.215481.520633@taimen.test.fi><CA9998CD4A020D418654FCDEF4E707DF046C777C@esealmw113.eemea.ericsson.se><1ECE0EB50388174790F9694F77522CCF16A52F5D@zrc2hxm0.corp.nortel.com><18467.8712.540473.285540@taimen.test.fi><1ECE0EB50388174790F9694F77522CCF16A53030@zrc2hxm0.corp.nortel.com><18467.9957.360558.903163@taimen.test.fi><970E914C-BEB3-49A3-A38C-C
	C393F417
	131@softarmor.com> <18467.58809.210185.189951@taimen.test.fi>
From: "Christer Holmberg" <christer.holmberg@ericsson.com>
To: "Juha Heinanen" <jh@tutpro.com>, "Dean Willis" <dean.willis@softarmor.com>
X-OriginalArrivalTime: 10 May 2008 10:59:15.0976 (UTC)
	FILETIME=[E35D3080:01C8B28C]
X-Brightmail-Tracker: AAAAAA==
Cc: sip@ietf.org, Francois Audet <audet@nortel.com>
Subject: Re: [Sip] Draft: draft-holmberg-sip-keep-00.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Hi Juha,
 
Since there seems to be different opinions on whether CRLF has already been implemented by everyone, whether an indication is needed etc, what is wrong with what you proposed earlier, that the draft would not explicitly forbid sending CRLF even if keep=yes is not returned? That would work both for those who think an indication is needed and those (including yourself) who don't think it's not needed.
 
Regards,
 
Christer

________________________________

From: sip-bounces@ietf.org on behalf of Juha Heinanen
Sent: Fri 09/05/2008 07:48
To: Dean Willis
Cc: sip@ietf.org; Francois Audet; Christer Holmberg
Subject: Re: [Sip] Draft: draft-holmberg-sip-keep-00.txt



Dean Willis writes:

 > It's about keeping your NAT binding alive and KNOWING that it is 
 > alive, rather than just hoping. That requires bidirectional traffic.

yes and as i have said many times, CRLF has already been implemented in
ser and openser proxies.

-- juha
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Sat May 10 11:15:14 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id E7AA53A6880;
	Sat, 10 May 2008 11:15:13 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 6730E3A6880
	for <sip@core3.amsl.com>; Sat, 10 May 2008 11:15:12 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -6.132
X-Spam-Level: 
X-Spam-Status: No, score=-6.132 tagged_above=-999 required=5 tests=[AWL=0.117, 
	BAYES_00=-2.599, HELO_EQ_SE=0.35, RCVD_IN_DNSWL_MED=-4]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id ts+VbL1KMMFV for <sip@core3.amsl.com>;
	Sat, 10 May 2008 11:15:11 -0700 (PDT)
Received: from mailgw4.ericsson.se (mailgw4.ericsson.se [193.180.251.62])
	by core3.amsl.com (Postfix) with ESMTP id 12FF43A6808
	for <sip@ietf.org>; Sat, 10 May 2008 11:15:10 -0700 (PDT)
Received: from mailgw4.ericsson.se (unknown [127.0.0.1])
	by mailgw4.ericsson.se (Symantec Mail Security) with ESMTP id
	338C9206C6; Sat, 10 May 2008 12:45:25 +0200 (CEST)
X-AuditID: c1b4fb3e-aa991bb000004ec0-0e-48257cc5a808
Received: from esealmw128.eemea.ericsson.se (unknown [153.88.254.121])
	by mailgw4.ericsson.se (Symantec Mail Security) with ESMTP id
	17DEA21159; Sat, 10 May 2008 12:45:25 +0200 (CEST)
Received: from esealmw113.eemea.ericsson.se ([153.88.200.4]) by
	esealmw128.eemea.ericsson.se with Microsoft SMTPSVC(6.0.3790.1830); 
	Sat, 10 May 2008 12:45:24 +0200
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Sat, 10 May 2008 12:43:26 +0200
Message-ID: <CA9998CD4A020D418654FCDEF4E707DF046C778B@esealmw113.eemea.ericsson.se>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] draft-ietf-sip-outbound
thread-index: AcixqArCd1y/tnR0Rm6pE7mlqR9S/gA4qLW7
References: <18465.17834.732392.527310@taimen.test.fi><CA9998CD4A020D418654FCDEF4E707DF046C776E@esealmw113.eemea.ericsson.se><18465.32545.345585.820414@taimen.test.fi><E6C2E8958BA59A4FB960963D475F7AC30BD8050F5A@mail.acmepacket.com><18465.55659.177188.471351@taimen.test.fi><1ECE0EB50388174790F9694F77522CCF16A01DDF@zrc2hxm0.corp.nortel.com><18466.880.342656.104598@taimen.test.fi><E6C2E8958BA59A4FB960963D475F7AC30BD80514C7@mail.acmepacket.com><48222D54.7020006@iptel.org><E6C2E8958BA59A4FB960963D475F7AC30BD8051669@mail.acmepacket.com><CA9998CD4A020D418654FCDEF4E707DF046C7775@esealmw113.eemea.ericsson.se><18466.42180.621089.330513@taimen.test.fi><4822AB7C.9000108@iptel.org><1ECE0EB50388174790F9694F77522CCF16A5306F@zrc2hxm0.corp.nortel.com><18467.10759.517606.958702@taimen.test.fi><1ECE0EB50388174790F9694F77522CCF16A5321E@zrc2hxm0.corp.nortel.com><18467.12939.938913.841738@taimen.test.fi><1ECE0EB50388174790F9694F77522CCF16A53410@zrc2hxm0.corp.nortel.com><18467.16487.171324.508479@t
	aimen.
	test.fi><E6C2E8958BA59A4FB960963D475F7AC30BD80C2A8B@mail.acmepacket.com><18467.17492.323683.861768@taimen.test.fi><CA9998CD4A020D418654FCDEF4E707DF05C0F825@esealmw113.eemea.ericsson.se><18467.64835.889246.384158@taimen.test.fi><CA9998CD4A020D418654FCDEF4E707DF05C0F827@esealmw113.eemea.ericsson.se>
	<18468.5.693161.719570@taimen.test.fi>
From: "Christer Holmberg" <christer.holmberg@ericsson.com>
To: "Juha Heinanen" <jh@tutpro.com>
X-OriginalArrivalTime: 10 May 2008 10:45:24.0846 (UTC)
	FILETIME=[F3F8D0E0:01C8B28A]
X-Brightmail-Tracker: AAAAAA==
Cc: sip@ietf.org, Francois Audet <audet@nortel.com>, drage@alcatel-lucent.com,
	dean.willis@softarmor.com
Subject: Re: [Sip] draft-ietf-sip-outbound
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Hi,

>>I agree, but that doesn't mean you need to register to EVERY proxy you are aware of.
>
>then how would an UA calling you know which proxy you have registered with?

I have registered with my home registrar. My home registrar then knows about the outbound flows towards me, and will choose one of those.

I think it is important to distinguish between edge proxy and registrar proxy.

Regards,

Christer

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Sat May 10 11:30:45 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 2D6FB3A69A8;
	Sat, 10 May 2008 11:30:45 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id BE4753A68B3
	for <sip@core3.amsl.com>; Sat, 10 May 2008 11:30:42 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -6.138
X-Spam-Level: 
X-Spam-Status: No, score=-6.138 tagged_above=-999 required=5 tests=[AWL=0.111, 
	BAYES_00=-2.599, HELO_EQ_SE=0.35, RCVD_IN_DNSWL_MED=-4]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id qCAMf82Mh4ki for <sip@core3.amsl.com>;
	Sat, 10 May 2008 11:30:42 -0700 (PDT)
Received: from mailgw4.ericsson.se (mailgw4.ericsson.se [193.180.251.62])
	by core3.amsl.com (Postfix) with ESMTP id B60C43A69A6
	for <sip@ietf.org>; Sat, 10 May 2008 11:30:41 -0700 (PDT)
Received: from mailgw4.ericsson.se (unknown [127.0.0.1])
	by mailgw4.ericsson.se (Symantec Mail Security) with ESMTP id
	905B521177; Sat, 10 May 2008 13:00:33 +0200 (CEST)
X-AuditID: c1b4fb3e-ae999bb000004ec0-9d-4825805155f8
Received: from esealmw128.eemea.ericsson.se (unknown [153.88.254.121])
	by mailgw4.ericsson.se (Symantec Mail Security) with ESMTP id
	6D75D2113F; Sat, 10 May 2008 13:00:33 +0200 (CEST)
Received: from esealmw113.eemea.ericsson.se ([153.88.200.4]) by
	esealmw128.eemea.ericsson.se with Microsoft SMTPSVC(6.0.3790.1830); 
	Sat, 10 May 2008 13:00:33 +0200
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Sat, 10 May 2008 13:00:32 +0200
Message-ID: <CA9998CD4A020D418654FCDEF4E707DF046C778C@esealmw113.eemea.ericsson.se>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] Draft: draft-holmberg-sip-keep-00.txt
thread-index: Acix/59bdd6LNHAwTrmYWlR/tu8fRwAjBEzg
References: <18465.17834.732392.527310@taimen.test.fi><CA9998CD4A020D418654FCDEF4E707DF046C776E@esealmw113.eemea.ericsson.se><18465.32545.345585.820414@taimen.test.fi><E6C2E8958BA59A4FB960963D475F7AC30BD8050F5A@mail.acmepacket.com><18465.55659.177188.471351@taimen.test.fi><1ECE0EB50388174790F9694F77522CCF16A01DDF@zrc2hxm0.corp.nortel.com><18466.880.342656.104598@taimen.test.fi><E6C2E8958BA59A4FB960963D475F7AC30BD80514C7@mail.acmepacket.com><48222D54.7020006@iptel.org><E6C2E8958BA59A4FB960963D475F7AC30BD8051669@mail.acmepacket.com><CA9998CD4A020D418654FCDEF4E707DF046C7775@esealmw113.eemea.ericsson.se><4822AB25.1070200@iptel.org><18466.43946.215481.520633@taimen.test.fi><CA9998CD4A020D418654FCDEF4E707DF046C777C@esealmw113.eemea.ericsson.se><1ECE0EB50388174790F9694F77522CCF16A52F5D@zrc2hxm0.corp.nortel.com><18467.8712.540473.285540@taimen.test.fi><E6C2E8958BA59A4FB960963D475F7AC30BD80C2A37@mail.acmepacket.com><18467.16709.423752.484859@taimen.test.fi><E6C2E8958BA59A4FB960963D475
	F7AC30BD
	80C2FEE@mail.acmepacket.com> <18467.58528.985873.811583@taimen.test.fi>
From: "Christer Holmberg" <christer.holmberg@ericsson.com>
To: "Juha Heinanen" <jh@tutpro.com>, "Hadriel Kaplan" <HKaplan@acmepacket.com>
X-OriginalArrivalTime: 10 May 2008 11:00:33.0193 (UTC)
	FILETIME=[11639190:01C8B28D]
X-Brightmail-Tracker: AAAAAA==
Cc: sip@ietf.org, Christer@core3.amsl.com, Francois Audet <audet@nortel.com>
Subject: Re: [Sip] Draft: draft-holmberg-sip-keep-00.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Hi,

>>In my world, humans aren't typically expected to configure anything
>>on their UA; short of maybe their AoR, username, and password.  And
>>even that is sometimes pre-installed on the UA.
>
>then you must really hate the outbound id that does not
>provide any standard means for the UA to learns its ob proxy set!  that
>is another reason why ob draft is useless.
>
>my point is that tcp UA should just start sending LRLFs and use normal
>reg int. 

Yes, and it would have been great if RFC2543 would have mandated that. But unfortunately it didn't.
 
Regards,
 
Christer

 

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Sat May 10 11:31:40 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id E4CAB3A6955;
	Sat, 10 May 2008 11:31:40 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id D7E2E3A6955
	for <sip@core3.amsl.com>; Sat, 10 May 2008 11:31:38 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.599
X-Spam-Level: 
X-Spam-Status: No, score=-2.599 tagged_above=-999 required=5 tests=[AWL=0.000, 
	BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id z8q1q7AdIB+3 for <sip@core3.amsl.com>;
	Sat, 10 May 2008 11:31:38 -0700 (PDT)
Received: from nylon.softarmor.com (nylon.softarmor.com [66.135.38.164])
	by core3.amsl.com (Postfix) with ESMTP id 1624D3A68B3
	for <sip@ietf.org>; Sat, 10 May 2008 11:31:38 -0700 (PDT)
Received: from [192.168.2.103] (cpe-76-185-142-113.tx.res.rr.com
	[76.185.142.113]) (authenticated bits=0)
	by nylon.softarmor.com (8.13.8/8.13.8/Debian-3) with ESMTP id
	m4AIVS4a020776
	(version=TLSv1/SSLv3 cipher=AES128-SHA bits=128 verify=NOT);
	Sat, 10 May 2008 13:31:30 -0500
Message-Id: <76B5F2B8-767C-473A-8A8C-FCD34EB92CA4@softarmor.com>
From: Dean Willis <dean.willis@softarmor.com>
To: "Christer Holmberg" <christer.holmberg@ericsson.com>
In-Reply-To: <CA9998CD4A020D418654FCDEF4E707DF046C778B@esealmw113.eemea.ericsson.se>
Mime-Version: 1.0 (Apple Message framework v919.2)
Date: Sat, 10 May 2008 13:31:21 -0500
References: <18465.17834.732392.527310@taimen.test.fi><CA9998CD4A020D418654FCDEF4E707DF046C776E@esealmw113.eemea.ericsson.se><18465.32545.345585.820414@taimen.test.fi><E6C2E8958BA59A4FB960963D475F7AC30BD8050F5A@mail.acmepacket.com><18465.55659.177188.471351@taimen.test.fi><1ECE0EB50388174790F9694F77522CCF16A01DDF@zrc2hxm0.corp.nortel.com><18466.880.342656.104598@taimen.test.fi><E6C2E8958BA59A4FB960963D475F7AC30BD80514C7@mail.acmepacket.com><48222D54.7020006@iptel.org><E6C2E8958BA59A4FB960963D475F7AC30BD8051669@mail.acmepacket.com><CA9998CD4A020D418654FCDEF4E707DF046C7775@esealmw113.eemea.ericsson.se><18466.42180.621089.330513@taimen.test.fi><4822AB7C.9000108@iptel.org><1ECE0EB50388174790F9694F77522CCF16A5306F@zrc2hxm0.corp.nortel.com><18467.10759.517606.958702@taimen.test.fi><1ECE0EB50388174790F9694F77522CCF16A5321E@zrc2hxm0.corp.nortel.com><18467.12939.938913.841738@taimen.test.fi><1ECE0EB50388174790F9694F77522CCF16A53410@zrc2hxm0.corp.nortel.com><18467.16487.171324.508479@!
	t aimen.
	test.fi><E6C2E8958BA59A4FB960963D475F7AC30BD80C2A8B@mail.acmepacket.com><18467.17492.323683.861768@taimen.test.fi><CA9998CD4A020D418654FCDEF4E707DF05C0F825@esealmw113.eemea.ericsson.se><18467.64835.889246.384158@taimen.test.fi><CA9998CD4A020D418654FCDEF4E707DF05C0F827@esealmw113.eemea.ericsson.se>
	<18468.5.693161.719570@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C778B@esealmw113.eemea.ericsson.se>
X-Mailer: Apple Mail (2.919.2)
Cc: sip@ietf.org, drage@alcatel-lucent.com, Francois Audet <audet@nortel.com>
Subject: Re: [Sip] draft-ietf-sip-outbound
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


On May 10, 2008, at 5:43 AM, Christer Holmberg wrote:

> Hi,
>
>>> I agree, but that doesn't mean you need to register to EVERY proxy  
>>> you are aware of.
>>
>> then how would an UA calling you know which proxy you have  
>> registered with?
>
> I have registered with my home registrar. My home registrar then  
> knows about the outbound flows towards me, and will choose one of  
> those.
>
> I think it is important to distinguish between edge proxy and  
> registrar proxy.
>

But what if your home registrar is also a cluster?

--
Dean
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Sat May 10 11:40:22 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 6B2A43A68A8;
	Sat, 10 May 2008 11:40:22 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 7FE943A68B3
	for <sip@core3.amsl.com>; Sat, 10 May 2008 11:40:20 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.599
X-Spam-Level: 
X-Spam-Status: No, score=-2.599 tagged_above=-999 required=5
	tests=[BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id LuvyuKXKXl24 for <sip@core3.amsl.com>;
	Sat, 10 May 2008 11:40:19 -0700 (PDT)
Received: from nylon.softarmor.com (nylon.softarmor.com [66.135.38.164])
	by core3.amsl.com (Postfix) with ESMTP id 96A763A69B7
	for <sip@ietf.org>; Sat, 10 May 2008 11:40:08 -0700 (PDT)
Received: from [192.168.2.103] (cpe-76-185-142-113.tx.res.rr.com
	[76.185.142.113]) (authenticated bits=0)
	by nylon.softarmor.com (8.13.8/8.13.8/Debian-3) with ESMTP id
	m4AIdx0t020831
	(version=TLSv1/SSLv3 cipher=AES128-SHA bits=128 verify=NOT);
	Sat, 10 May 2008 13:40:01 -0500
Message-Id: <E2F6C4B5-4A6A-44C1-B529-EFE9F3C4B611@softarmor.com>
From: Dean Willis <dean.willis@softarmor.com>
To: jh@tutpro.com (Juha Heinanen)
In-Reply-To: <18469.39359.781686.130823@taimen.test.fi>
Mime-Version: 1.0 (Apple Message framework v919.2)
Date: Sat, 10 May 2008 13:39:52 -0500
References: <18465.17834.732392.527310@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C776E@esealmw113.eemea.ericsson.se>
	<18465.32545.345585.820414@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8050F5A@mail.acmepacket.com>
	<18465.55659.177188.471351@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A01DDF@zrc2hxm0.corp.nortel.com>
	<18466.880.342656.104598@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD80514C7@mail.acmepacket.com>
	<48222D54.7020006@iptel.org>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8051669@mail.acmepacket.com>
	<CA9998CD4A020D418654FCDEF4E707DF046C7775@esealmw113.eemea.ericsson.se>
	<18466.42180.621089.330513@taimen.test.fi>
	<4822AB7C.9000108@iptel.org>
	<1ECE0EB50388174790F9694F77522CCF16A5306F@zrc2hxm0.corp.nortel.com>
	<18467.10759.517606.958702@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A5321E@zrc2hxm0.corp.nortel.com>
	<18467.12939.938913.841738@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A53410@zrc2hxm0.corp.nortel.com>
	<18467.16! ! ! 487.171324.508479@! t aimen.te st.fi> <E6C2E
	8958BA59A4FB960963D475F7AC30BD80C2A8B@mail.acmepacket.com>
	<18467.17492.323683.861768@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF05C0F825@esealmw113.eemea.ericsson.se>
	<A8948F50-3BAC-4CA2-BA42-E2F4F9493BEF@softarmor.com>
	<18468.3962.993600.980552@taimen.test.fi>
	<6A699061-514E-40F9-8949-B44EF76D9A02@softarmor.com>
	<18469.13630.852013.419236@taimen.test.fi>
	<B0CF5278-8A23-4033-A5AF-4924BA98B9B4@softarmor.com>
	<18469.39359.781686.130823@taimen.test.fi>
X-Mailer: Apple Mail (2.919.2)
Cc: sip@ietf.org, Francois Audet <audet@nortel.com>, drage@alcatel-lucent.com,
	Christer Holmberg <christer.holmberg@ericsson.com>
Subject: Re: [Sip] draft-ietf-sip-outbound
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Archive: <https://www.ietf.org/mailman/private/sip>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


On May 10, 2008, at 7:49 AM, Juha Heinanen wrote:

> Dean Willis writes:
>
>> Earlier, you were apparently arguing that having only one proxy
>> configured should be a violation of the spec, and that Outbound is
>> useless because it does not require a UA to register with multiple
>> proxies. Now you're saying that this would be perfectly fine.
>
> i said that UA MUST register with EVERY proxy in its set.  if there is
> only one in the set, then it is fine too.
>
>> Are you saying that the configuration mechanism should have an
>> indicator to tell a configured UA which or how many proxies it should
>> bind to, out of a larger set of available proxies that it can choose
>> from?
>
> no, see above.
>

So if, for example, there are 32 SRV records in the DNS for the proxy,  
then the UA would register with every one of them? While that might  
work, it also might be overkill for environments that have some state  
awareness in their proxies.

--
Dean
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Sat May 10 11:55:59 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id BAC233A68F0;
	Sat, 10 May 2008 11:55:59 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 6ECDC28C0EC
	for <sip@core3.amsl.com>; Sat, 10 May 2008 11:55:57 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.559
X-Spam-Level: 
X-Spam-Status: No, score=-2.559 tagged_above=-999 required=5 tests=[AWL=0.040, 
	BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id LjxCszJ9lPne for <sip@core3.amsl.com>;
	Sat, 10 May 2008 11:55:56 -0700 (PDT)
Received: from tutpro.com (lohi.tutpro.com [192.98.100.2])
	by core3.amsl.com (Postfix) with ESMTP id 478263A69D5
	for <sip@ietf.org>; Sat, 10 May 2008 11:55:40 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by tutpro.com (Postfix) with ESMTP id C72191EC25B;
	Sat, 10 May 2008 21:55:35 +0300 (EEST)
Received: from tutpro.com ([127.0.0.1])
	by localhost (tutpro.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id WnTvjh5kEZCs; Sat, 10 May 2008 21:55:28 +0300 (EEST)
Received: from taimen (h13336.gprs.dnafinland.fi [87.93.133.36])
	by tutpro.com (Postfix) with ESMTP;
	Sat, 10 May 2008 21:55:28 +0300 (EEST)
Received: by taimen (Postfix, from userid 1000)
	id C7629AC06E; Sat, 10 May 2008 21:55:23 +0300 (EEST)
MIME-Version: 1.0
Message-ID: <18469.61339.699429.549655@taimen.test.fi>
Date: Sat, 10 May 2008 21:55:23 +0300
To: Dean Willis <dean.willis@softarmor.com>
In-Reply-To: <E2F6C4B5-4A6A-44C1-B529-EFE9F3C4B611@softarmor.com>
References: <18465.17834.732392.527310@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C776E@esealmw113.eemea.ericsson.se>
	<18465.32545.345585.820414@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8050F5A@mail.acmepacket.com>
	<18465.55659.177188.471351@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A01DDF@zrc2hxm0.corp.nortel.com>
	<18466.880.342656.104598@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD80514C7@mail.acmepacket.com>
	<48222D54.7020006@iptel.org>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8051669@mail.acmepacket.com>
	<CA9998CD4A020D418654FCDEF4E707DF046C7775@esealmw113.eemea.ericsson.se>
	<18466.42180.621089.330513@taimen.test.fi>
	<4822AB7C.9000108@iptel.org>
	<1ECE0EB50388174790F9694F77522CCF16A5306F@zrc2hxm0.corp.nortel.com>
	<18467.10759.517606.958702@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A5321E@zrc2hxm0.corp.nortel.com>
	<18467.12939.938913.841738@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A53410@zrc2hxm0.corp.nortel.com>
	<18467.16! ! ! 487.171324.508479@! t aimen.te st.fi>
	<E6C2E 8958BA59A4FB960963D475F7AC30BD80C2A8B@mail.acmepacket.com>
	<18467.17492.323683.861768@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF05C0F825@esealmw113.eemea.ericsson.se>
	<A8948F50-3BAC-4CA2-BA42-E2F4F9493BEF@softarmor.com>
	<18468.3962.993600.980552@taimen.test.fi>
	<6A699061-514E-40F9-8949-B44EF76D9A02@softarmor.com>
	<18469.13630.852013.419236@taimen.test.fi>
	<B0CF5278-8A23-4033-A5AF-4924BA98B9B4@softarmor.com>
	<18469.39359.781686.130823@taimen.test.fi>
	<E2F6C4B5-4A6A-44C1-B529-EFE9F3C4B611@softarmor.com>
X-Mailer: VM 7.19 under Emacs 22.1.1
From: jh@tutpro.com (Juha Heinanen)
Cc: sip@ietf.org, Francois Audet <audet@nortel.com>, drage@alcatel-lucent.com,
	Christer Holmberg <christer.holmberg@ericsson.com>
Subject: Re: [Sip] draft-ietf-sip-outbound
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Archive: <https://www.ietf.org/mailman/private/sip>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Dean Willis writes:

 > So if, for example, there are 32 SRV records in the DNS for the proxy,  
 > then the UA would register with every one of them? While that might  
 > work, it also might be overkill for environments that have some state  
 > awareness in their proxies.

ob draft has this text:

   For each outbound proxy URI in the set, the UAC SHOULD send a
   REGISTER request using this URI as the default outbound proxy.

i understand this so that if one ob proxy uri maps to 32 srv records, it
will not send a successful register request to more than one of them.

-- juha
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Sun May 11 03:45:46 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id B66623A6A89;
	Sun, 11 May 2008 03:45:46 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 121623A6A8D
	for <sip@core3.amsl.com>; Sun, 11 May 2008 03:45:44 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -6.144
X-Spam-Level: 
X-Spam-Status: No, score=-6.144 tagged_above=-999 required=5 tests=[AWL=0.105, 
	BAYES_00=-2.599, HELO_EQ_SE=0.35, RCVD_IN_DNSWL_MED=-4]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id bpyg5muVGDwa for <sip@core3.amsl.com>;
	Sun, 11 May 2008 03:45:43 -0700 (PDT)
Received: from mailgw4.ericsson.se (mailgw4.ericsson.se [193.180.251.62])
	by core3.amsl.com (Postfix) with ESMTP id 114AD3A67AA
	for <sip@ietf.org>; Sun, 11 May 2008 03:45:42 -0700 (PDT)
Received: from mailgw4.ericsson.se (unknown [127.0.0.1])
	by mailgw4.ericsson.se (Symantec Mail Security) with ESMTP id
	BD4B7203FB; Sun, 11 May 2008 12:45:33 +0200 (CEST)
X-AuditID: c1b4fb3e-af19abb000004ec0-ef-4826ce4d8007
Received: from esealmw128.eemea.ericsson.se (unknown [153.88.254.121])
	by mailgw4.ericsson.se (Symantec Mail Security) with ESMTP id
	AEC3E203F9; Sun, 11 May 2008 12:45:33 +0200 (CEST)
Received: from esealmw113.eemea.ericsson.se ([153.88.200.4]) by
	esealmw128.eemea.ericsson.se with Microsoft SMTPSVC(6.0.3790.1830); 
	Sun, 11 May 2008 12:45:33 +0200
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Sun, 11 May 2008 12:45:32 +0200
Message-ID: <CA9998CD4A020D418654FCDEF4E707DF046C7790@esealmw113.eemea.ericsson.se>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] draft-ietf-sip-outbound
thread-index: Aciynbn6AU6SIoEuSpO/QtDxf8OxgAAtWuMb
References: <18465.17834.732392.527310@taimen.test.fi><CA9998CD4A020D418654FCDEF4E707DF046C776E@esealmw113.eemea.ericsson.se><18465.32545.345585.820414@taimen.test.fi><E6C2E8958BA59A4FB960963D475F7AC30BD8050F5A@mail.acmepacket.com><18465.55659.177188.471351@taimen.test.fi><1ECE0EB50388174790F9694F77522CCF16A01DDF@zrc2hxm0.corp.nortel.com><18466.880.342656.104598@taimen.test.fi><E6C2E8958BA59A4FB960963D475F7AC30BD80514C7@mail.acmepacket.com><48222D54.7020006@iptel.org><E6C2E8958BA59A4FB960963D475F7AC30BD8051669@mail.acmepacket.com><CA9998CD4A020D418654FCDEF4E707DF046C7775@esealmw113.eemea.ericsson.se><18466.42180.621089.330513@taimen.test.fi><4822AB7C.9000108@iptel.org><1ECE0EB50388174790F9694F77522CCF16A5306F@zrc2hxm0.corp.nortel.com><18467.10759.517606.958702@taimen.test.fi><1ECE0EB50388174790F9694F77522CCF16A5321E@zrc2hxm0.corp.nortel.com><18467.12939.938913.841738@taimen.test.fi><1ECE0EB50388174790F9694F77522CCF16A53410@zrc2hxm0.corp.nortel.com><18467.16487.171324.508479@t
	aimen
	.test.fi><E6C2E8958BA59A4FB960963D475F7AC30BD80C2A8B@mail.acmepacket.com><18467.17492.323683.861768@taimen.test.fi><CA9998CD4A020D418654FCDEF4E707DF05C0F825@esealmw113.eemea.ericsson.se><18467.64835.889246.384158@taimen.test.fi><CA9998CD4A020D418654FCDEF4E707DF05C0F827@esealmw113.eemea.ericsson.se><18468.5.693161.719570@taimen.test.fi><CA9998CD4A020D418654FCDEF4E707DF046C778B@esealmw113.eemea.ericsson.se>
	<18469.39991.678671.481517@taimen.test.fi>
From: "Christer Holmberg" <christer.holmberg@ericsson.com>
To: "Juha Heinanen" <jh@tutpro.com>
X-OriginalArrivalTime: 11 May 2008 10:45:33.0493 (UTC)
	FILETIME=[2389FE50:01C8B354]
X-Brightmail-Tracker: AAAAAA==
Cc: sip@ietf.org, Francois Audet <audet@nortel.com>, drage@alcatel-lucent.com,
	dean.willis@softarmor.com
Subject: Re: [Sip] draft-ietf-sip-outbound
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Archive: <https://www.ietf.org/mailman/private/sip>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Hi,

>> I have registered with my home registrar. My home registrar then
>> knows about the outbound flows towards me, and will choose one of
>> those.
>
>if there is only one and this only one becomes unavailable, the proxy is
>not able to reach the UA.  therefore it does not make much sense to
>register with only one if the set consists of two.
 
Again, I agree. The UA registers with X edge proxies, and the home registrar then has X different flows to choose between tp reach the UA.
 
But, that still doesn't mean that the UA has to register with every edge proxy it is aware of.
 
Regards,
 
Christer
 
 
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Sun May 11 03:55:49 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 9074828C10C;
	Sun, 11 May 2008 03:55:49 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 500BD3A6A94
	for <sip@core3.amsl.com>; Sun, 11 May 2008 03:55:47 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -5.849
X-Spam-Level: 
X-Spam-Status: No, score=-5.849 tagged_above=-999 required=5
	tests=[AWL=-0.200, BAYES_00=-2.599, HELO_EQ_SE=0.35,
	J_CHICKENPOX_43=0.6, RCVD_IN_DNSWL_MED=-4]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id doAY7Gj-CDsT for <sip@core3.amsl.com>;
	Sun, 11 May 2008 03:55:46 -0700 (PDT)
Received: from mailgw4.ericsson.se (mailgw4.ericsson.se [193.180.251.62])
	by core3.amsl.com (Postfix) with ESMTP id 462A83A67AA
	for <sip@ietf.org>; Sun, 11 May 2008 03:55:45 -0700 (PDT)
Received: from mailgw4.ericsson.se (unknown [127.0.0.1])
	by mailgw4.ericsson.se (Symantec Mail Security) with ESMTP id
	AED442009B; Sun, 11 May 2008 12:55:41 +0200 (CEST)
X-AuditID: c1b4fb3e-ab993bb000004ec0-54-4826d0adb2dd
Received: from esealmw128.eemea.ericsson.se (unknown [153.88.254.121])
	by mailgw4.ericsson.se (Symantec Mail Security) with ESMTP id
	8F2F6201E0; Sun, 11 May 2008 12:55:41 +0200 (CEST)
Received: from esealmw113.eemea.ericsson.se ([153.88.200.4]) by
	esealmw128.eemea.ericsson.se with Microsoft SMTPSVC(6.0.3790.1830); 
	Sun, 11 May 2008 12:55:41 +0200
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Sun, 11 May 2008 12:55:40 +0200
Message-ID: <CA9998CD4A020D418654FCDEF4E707DF046C7793@esealmw113.eemea.ericsson.se>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] Draft: draft-holmberg-sip-keep-00.txt
thread-index: AciyoqY44uygOdMWROOJh6Cy85zhtgAGeCBwACYMyhI=
References: <18465.17834.732392.527310@taimen.test.fi><CA9998CD4A020D418654FCDEF4E707DF046C776E@esealmw113.eemea.ericsson.se><18465.32545.345585.820414@taimen.test.fi><E6C2E8958BA59A4FB960963D475F7AC30BD8050F5A@mail.acmepacket.com><18465.55659.177188.471351@taimen.test.fi><1ECE0EB50388174790F9694F77522CCF16A01DDF@zrc2hxm0.corp.nortel.com><18466.880.342656.104598@taimen.test.fi><E6C2E8958BA59A4FB960963D475F7AC30BD80514C7@mail.acmepacket.com><48222D54.7020006@iptel.org><E6C2E8958BA59A4FB960963D475F7AC30BD8051669@mail.acmepacket.com><CA9998CD4A020D418654FCDEF4E707DF046C7775@esealmw113.eemea.ericsson.se><4822AB25.1070200@iptel.org>	<18466.43946.215481.520633@taimen.test.fi><CA9998CD4A020D418654FCDEF4E707DF046C777C@esealmw113.eemea.ericsson.se><1ECE0EB50388174790F9694F77522CCF16A52F5D@zrc2hxm0.corp.nortel.com><18467.8712.540473.285540@taimen.test.fi><1ECE0EB50388174790F9694F77522CCF16A53030@zrc2hxm0.corp.nortel.com><18467.9957.360558.903163@taimen.test.fi>	<970E914C-BEB3-49A3-A38C
	-C C393F 417
	131@softarmor.com>	<18467.58809.210185.189951@taimen.test.fi><CA9998CD4A020D418654FCDEF4E707DF046C778E@esealmw113.eemea.ericsson.se>
	<18469.40230.445844.587399@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD926BA31@mail.acmepacket.com>
From: "Christer Holmberg" <christer.holmberg@ericsson.com>
To: "Hadriel Kaplan" <HKaplan@acmepacket.com>, "Juha Heinanen" <jh@tutpro.com>
X-OriginalArrivalTime: 11 May 2008 10:55:41.0392 (UTC)
	FILETIME=[8DE00500:01C8B355]
X-Brightmail-Tracker: AAAAAA==
Cc: sip@ietf.org, Francois Audet <audet@nortel.com>,
	Dean Willis <dean.willis@softarmor.com>
Subject: Re: [Sip] Draft: draft-holmberg-sip-keep-00.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Archive: <https://www.ietf.org/mailman/private/sip>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

>>>Since there seems to be different opinions on whether CRLF has already been implemented by everyone
>
>>i don't think that anyone has claimed that CRLF has been implemented by EVERYONE.  it has been implemented by SOME UAs without keep param and the number if growing.
>
>And there's the rub.  The set of UA's which will send CRLF vs. not, and the set of Proxies which will handle it as a keepalive rather than nothingness, is a Venn diagram.  We have mechanisms in SIP to solve that and find out which portion of the diagram each party is in.  For some reason you don't want >such mechanisms to be used.
>
>
>>>whether an indication is needed etc, what is wrong with what you proposed earlier, that the draft would not explicitly forbid sending CRLF even if keep=yes is not returned?
>
>>it should explicitly RECOMMEND it.
>
>No, it really shouldn't, imo.  It should say nothing about it.  If you support the draft, then use the keep.  If you don't support the draft, all bets are off and your mileage will vary on what will happen.  It's just local policy at that point, and you could guess wrong.

I agree with Hadriel. It is very difficult to, in a spec, say what an entity not supporting the spec should do - because implementors may not even have read the spec. But, again, we can choose to not explicitly forbid sending CRLF, which means that people not supporting "keep" can continue sending CRLF without anyone being able to tell them that what they are doing goes against some spec etc.

Regards,

Christer

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Sun May 11 04:15:28 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 0D0283A6A94;
	Sun, 11 May 2008 04:15:28 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 7AFCD3A6A94
	for <sip@core3.amsl.com>; Sun, 11 May 2008 04:15:25 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -6.14
X-Spam-Level: 
X-Spam-Status: No, score=-6.14 tagged_above=-999 required=5 tests=[AWL=0.109, 
	BAYES_00=-2.599, HELO_EQ_SE=0.35, RCVD_IN_DNSWL_MED=-4]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id KijnFc8UktpP for <sip@core3.amsl.com>;
	Sun, 11 May 2008 04:15:24 -0700 (PDT)
Received: from mailgw4.ericsson.se (mailgw4.ericsson.se [193.180.251.62])
	by core3.amsl.com (Postfix) with ESMTP id 1056028C123
	for <sip@ietf.org>; Sun, 11 May 2008 04:15:11 -0700 (PDT)
Received: from mailgw4.ericsson.se (unknown [127.0.0.1])
	by mailgw4.ericsson.se (Symantec Mail Security) with ESMTP id
	20266203E4; Sun, 11 May 2008 12:45:29 +0200 (CEST)
X-AuditID: c1b4fb3e-aa991bb000004ec0-eb-4826ce4826e4
Received: from esealmw128.eemea.ericsson.se (unknown [153.88.254.121])
	by mailgw4.ericsson.se (Symantec Mail Security) with ESMTP id
	EF8D2201BE; Sun, 11 May 2008 12:45:28 +0200 (CEST)
Received: from esealmw113.eemea.ericsson.se ([153.88.200.4]) by
	esealmw128.eemea.ericsson.se with Microsoft SMTPSVC(6.0.3790.1830); 
	Sun, 11 May 2008 12:45:28 +0200
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Sun, 11 May 2008 12:42:46 +0200
Message-ID: <CA9998CD4A020D418654FCDEF4E707DF046C7791@esealmw113.eemea.ericsson.se>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] draft-ietf-sip-outbound
thread-index: AciyzBOolHgpXDjbTZOAheNwjp6ThwAh6xwb
References: <18465.17834.732392.527310@taimen.test.fi><CA9998CD4A020D418654FCDEF4E707DF046C776E@esealmw113.eemea.ericsson.se><18465.32545.345585.820414@taimen.test.fi><E6C2E8958BA59A4FB960963D475F7AC30BD8050F5A@mail.acmepacket.com><18465.55659.177188.471351@taimen.test.fi><1ECE0EB50388174790F9694F77522CCF16A01DDF@zrc2hxm0.corp.nortel.com><18466.880.342656.104598@taimen.test.fi><E6C2E8958BA59A4FB960963D475F7AC30BD80514C7@mail.acmepacket.com><48222D54.7020006@iptel.org><E6C2E8958BA59A4FB960963D475F7AC30BD8051669@mail.acmepacket.com><CA9998CD4A020D418654FCDEF4E707DF046C7775@esealmw113.eemea.ericsson.se><18466.42180.621089.330513@taimen.test.fi><4822AB7C.9000108@iptel.org><1ECE0EB50388174790F9694F77522CCF16A5306F@zrc2hxm0.corp.nortel.com><18467.10759.517606.958702@taimen.test.fi><1ECE0EB50388174790F9694F77522CCF16A5321E@zrc2hxm0.corp.nortel.com><18467.12939.938913.841738@taimen.test.fi><1ECE0EB50388174790F9694F77522CCF16A53410@zrc2hxm0.corp.nortel.com><18467.16487.171324.508479@!
	t aimen .
	test.fi><E6C2E8958BA59A4FB960963D475F7AC30BD80C2A8B@mail.acmepacket.com><18467.17492.323683.861768@taimen.test.fi><CA9998CD4A020D418654FCDEF4E707DF05C0F825@esealmw113.eemea.ericsson.se><18467.64835.889246.384158@taimen.test.fi><CA9998CD4A020D418654FCDEF4E707DF05C0F827@esealmw113.eemea.ericsson.se>
	<18468.5.693161.719570@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C778B@esealmw113.eemea.ericsson.se>
	<76B5F2B8-767C-473A-8A8C-FCD34EB92CA4@softarmor.com>
From: "Christer Holmberg" <christer.holmberg@ericsson.com>
To: "Dean Willis" <dean.willis@softarmor.com>
X-OriginalArrivalTime: 11 May 2008 10:45:28.0806 (UTC)
	FILETIME=[20BED060:01C8B354]
X-Brightmail-Tracker: AAAAAA==
Cc: sip@ietf.org, drage@alcatel-lucent.com, Francois Audet <audet@nortel.com>
Subject: Re: [Sip] draft-ietf-sip-outbound
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Archive: <https://www.ietf.org/mailman/private/sip>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Hi,

>>>>I agree, but that doesn't mean you need to register to EVERY proxy 
>>>>you are aware of.
>>>
>>>then how would an UA calling you know which proxy you have 
>>>registered with?
>>>
>>>I have registered with my home registrar. My home registrar then 
>>>knows about the outbound flows towards me, and will choose one of 
>>>those.
>>
>>I think it is important to distinguish between edge proxy and 
>>registrar proxy.
>
>
>But what if your home registrar is also a cluster?

That is beyond the scope of Outbound, I think.

Regards,

Christer

 
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Sun May 11 04:27:30 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id AF46E28C13E;
	Sun, 11 May 2008 04:27:30 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 2AC1D28C13E
	for <sip@core3.amsl.com>; Sun, 11 May 2008 04:27:28 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.26
X-Spam-Level: 
X-Spam-Status: No, score=-2.26 tagged_above=-999 required=5 tests=[AWL=-0.261, 
	BAYES_00=-2.599, J_CHICKENPOX_43=0.6]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id fLD81IgwK1S5 for <sip@core3.amsl.com>;
	Sun, 11 May 2008 04:27:27 -0700 (PDT)
Received: from tutpro.com (lohi.tutpro.com [192.98.100.2])
	by core3.amsl.com (Postfix) with ESMTP id 10C8928C12F
	for <sip@ietf.org>; Sun, 11 May 2008 04:27:26 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by tutpro.com (Postfix) with ESMTP id 21FC81EC27D;
	Sun, 11 May 2008 14:27:23 +0300 (EEST)
Received: from tutpro.com ([127.0.0.1])
	by localhost (tutpro.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id LVL9QNW0xcwr; Sun, 11 May 2008 14:27:15 +0300 (EEST)
Received: from taimen (h14575.gprs.dnafinland.fi [87.93.145.75])
	by tutpro.com (Postfix) with ESMTP;
	Sun, 11 May 2008 14:27:15 +0300 (EEST)
Received: by taimen (Postfix, from userid 1000)
	id C8047AC06E; Sun, 11 May 2008 14:27:06 +0300 (EEST)
MIME-Version: 1.0
Message-ID: <18470.55306.761420.384822@taimen.test.fi>
Date: Sun, 11 May 2008 14:27:06 +0300
To: "Christer Holmberg" <christer.holmberg@ericsson.com>
In-Reply-To: <CA9998CD4A020D418654FCDEF4E707DF046C7793@esealmw113.eemea.ericsson.se>
References: <18465.17834.732392.527310@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C776E@esealmw113.eemea.ericsson.se>
	<18465.32545.345585.820414@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8050F5A@mail.acmepacket.com>
	<18465.55659.177188.471351@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A01DDF@zrc2hxm0.corp.nortel.com>
	<18466.880.342656.104598@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD80514C7@mail.acmepacket.com>
	<48222D54.7020006@iptel.org>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8051669@mail.acmepacket.com>
	<CA9998CD4A020D418654FCDEF4E707DF046C7775@esealmw113.eemea.ericsson.se>
	<4822AB25.1070200@iptel.org>
	<18466.43946.215481.520633@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C777C@esealmw113.eemea.ericsson.se>
	<1ECE0EB50388174790F9694F77522CCF16A52F5D@zrc2hxm0.corp.nortel.com>
	<18467.8712.540473.285540@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A53030@zrc2hxm0.corp.nortel.com>
	<18467.9957.360558.903163@taimen.test.fi>
	<18467.58809.210185.189951@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C778E@esealmw113.eemea.ericsson.se>
	<18469.40230.445844.587399@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD926BA31@mail.acmepacket.com>
	<CA9998CD4A020D418654FCDEF4E707DF046C7793@esealmw113.eemea.ericsson.se>
X-Mailer: VM 7.19 under Emacs 22.1.1
From: jh@tutpro.com (Juha Heinanen)
Cc: sip@ietf.org, Francois Audet <audet@nortel.com>,
	Dean Willis <dean.willis@softarmor.com>
Subject: Re: [Sip] Draft: draft-holmberg-sip-keep-00.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Archive: <https://www.ietf.org/mailman/private/sip>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Christer Holmberg writes:

 > I agree with Hadriel. It is very difficult to, in a spec, say what an
 > entity not supporting the spec should do - because implementors may
 > not even have read the spec. 

i don't remember i have proposed saying something about an entity (UA)
not supporting the spec.  what i have proposed is that an UA supporting
the keep spec should still send CRLFs even it does not get back
keep=yes.

 > But, again, we can choose to not
 > explicitly forbid sending CRLF, which means that people not
 > supporting "keep" can continue sending CRLF without anyone being able
 > to tell them that what they are doing goes against some spec etc. 

i still don't understand why we need an addition to sip protocol for
CRLFs keepalives.

why can't you instead say in your draft that before sending a register
or any other sip request, UA sends double-CRLF to find out if ob proxy
supports CRLF keepalives.  it does, if UA gets back a single-CRLF and
otherwise not.  

in my opinion, it would be much simpler than inventing yet another
addition to sip protocol on top to the countless additions there already
exists and that no-one has implemented.

-- juha
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Sun May 11 04:57:47 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 8EEF23A6A8F;
	Sun, 11 May 2008 04:57:47 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 5A4933A6A8F
	for <sip@core3.amsl.com>; Sun, 11 May 2008 04:57:45 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.554
X-Spam-Level: 
X-Spam-Status: No, score=-2.554 tagged_above=-999 required=5 tests=[AWL=0.045, 
	BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id jVIg-Sh9PLZd for <sip@core3.amsl.com>;
	Sun, 11 May 2008 04:57:44 -0700 (PDT)
Received: from tutpro.com (sip.tutpro.com [192.98.100.10])
	by core3.amsl.com (Postfix) with ESMTP id 2754E3A6A8A
	for <sip@ietf.org>; Sun, 11 May 2008 04:57:44 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by tutpro.com (Postfix) with ESMTP id 793991EC27D;
	Sun, 11 May 2008 14:57:40 +0300 (EEST)
Received: from tutpro.com ([127.0.0.1])
	by localhost (tutpro.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 1KFjM+szLpqN; Sun, 11 May 2008 14:57:32 +0300 (EEST)
Received: from taimen (h14575.gprs.dnafinland.fi [87.93.145.75])
	by tutpro.com (Postfix) with ESMTP;
	Sun, 11 May 2008 14:57:32 +0300 (EEST)
Received: by taimen (Postfix, from userid 1000)
	id 318C5AC06E; Sun, 11 May 2008 14:57:28 +0300 (EEST)
MIME-Version: 1.0
Message-ID: <18470.57128.173863.130568@taimen.test.fi>
Date: Sun, 11 May 2008 14:57:28 +0300
To: "Christer Holmberg" <christer.holmberg@ericsson.com>
In-Reply-To: <CA9998CD4A020D418654FCDEF4E707DF046C7790@esealmw113.eemea.ericsson.se>
References: <18465.17834.732392.527310@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C776E@esealmw113.eemea.ericsson.se>
	<18465.32545.345585.820414@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8050F5A@mail.acmepacket.com>
	<18465.55659.177188.471351@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A01DDF@zrc2hxm0.corp.nortel.com>
	<18466.880.342656.104598@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD80514C7@mail.acmepacket.com>
	<48222D54.7020006@iptel.org>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8051669@mail.acmepacket.com>
	<CA9998CD4A020D418654FCDEF4E707DF046C7775@esealmw113.eemea.ericsson.se>
	<18466.42180.621089.330513@taimen.test.fi>
	<4822AB7C.9000108@iptel.org>
	<1ECE0EB50388174790F9694F77522CCF16A5306F@zrc2hxm0.corp.nortel.com>
	<18467.10759.517606.958702@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A5321E@zrc2hxm0.corp.nortel.com>
	<18467.12939.938913.841738@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A53410@zrc2hxm0.corp.nortel.com>
	<18467.16487.171324.508479@t aimen .test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD80C2A8B@mail.acmepacket.com>
	<18467.17492.323683.861768@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF05C0F825@esealmw113.eemea.ericsson.se>
	<18467.64835.889246.384158@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF05C0F827@esealmw113.eemea.ericsson.se>
	<18468.5.693161.719570@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C778B@esealmw113.eemea.ericsson.se>
	<18469.39991.678671.481517@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C7790@esealmw113.eemea.ericsson.se>
X-Mailer: VM 7.19 under Emacs 22.1.1
From: jh@tutpro.com (Juha Heinanen)
Cc: sip@ietf.org, Francois Audet <audet@nortel.com>, drage@alcatel-lucent.com,
	dean.willis@softarmor.com
Subject: Re: [Sip] draft-ietf-sip-outbound
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Archive: <https://www.ietf.org/mailman/private/sip>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Christer Holmberg writes:

 > But, that still doesn't mean that the UA has to register with every
 > edge proxy it is aware of.

i have been fighting this battle in order to make very simple
implementation possible of what i consider a COMMON case.  this common
case is the one where a SINGLE HOST has enough processing power to serve
as a sip proxy/registrar of the user community, such as a good size
enterprise or even a small voip provider.

the only problem with this single host implementation of proxy/registrar
is lack of redundancy.  this problem could be trivially solved by adding
a second sip/proxy registrar that could run independently from the first
if we could assume that each UA would setup flow and register with BOTH
of these proxy/registrars when configured with an ob proxy set
consisting of two URIs matching these two proxy/registrars.

so i would like to propose that ob draft mandates UA to set up flows and
register with AT LEAST TWO ob proxies if ob proxy set is bigger than
one.  second paragraph of 4.2.1. Initial Registrations could then go
like this:

  For each outbound proxy URI in the set, the UAC SHOULD send a
  REGISTER request using this URI as the default outbound proxy.  If the
  set has more than one URI, the UAC MUST send a REGISTER request using at
  least two of them as the default outbound proxy.

this would make the above described trial implementation of common case
possible and at the same time would support whatever more complicated
scenarios and also the simple scenario where there is only one ob proxy
in the set.

-- juha
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Sun May 11 19:35:47 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id A03D23A6B54;
	Sun, 11 May 2008 19:35:47 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 1F4903A66B4
	for <sip@core3.amsl.com>; Sun, 11 May 2008 19:35:45 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.599
X-Spam-Level: 
X-Spam-Status: No, score=-2.599 tagged_above=-999 required=5
	tests=[BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id FdZguOmrW+KN for <sip@core3.amsl.com>;
	Sun, 11 May 2008 19:35:44 -0700 (PDT)
Received: from QMTA04.westchester.pa.mail.comcast.net
	(qmta04.westchester.pa.mail.comcast.net [76.96.62.40])
	by core3.amsl.com (Postfix) with ESMTP id 182263A63CB
	for <sip@ietf.org>; Sun, 11 May 2008 19:35:43 -0700 (PDT)
Received: from OMTA05.westchester.pa.mail.comcast.net ([76.96.62.43])
	by QMTA04.westchester.pa.mail.comcast.net with comcast
	id QLKz1Z0090vyq2s540PY00; Mon, 12 May 2008 02:33:12 +0000
Received: from dragon.ariadne.com ([76.19.174.1])
	by OMTA05.westchester.pa.mail.comcast.net with comcast
	id QSbg1Z00102AVH03R00000; Mon, 12 May 2008 02:35:40 +0000
X-Authority-Analysis: v=1.0 c=1 a=5csQyu3HbrQkBWaYF2gA:9
	a=zJjT-gAt7wME4I5T9rFZCP1pjf4A:4 a=YjF5NZnj_jQA:10 a=8y7tGHue6YMA:10
Received: from dragon.ariadne.com (dragon.ariadne.com [127.0.0.1])
	by dragon.ariadne.com (8.12.8/8.12.8) with ESMTP id m4C2ZdEA006833
	for <sip@ietf.org>; Sun, 11 May 2008 22:35:39 -0400
Received: (from worley@localhost)
	by dragon.ariadne.com (8.12.8/8.12.8/Submit) id m4C2ZdAH006829;
	Sun, 11 May 2008 22:35:39 -0400
Date: Sun, 11 May 2008 22:35:39 -0400
Message-Id: <200805120235.m4C2ZdAH006829@dragon.ariadne.com>
To: sip@ietf.org
From: Dale.Worley@comcast.net
In-reply-to: <18470.57128.173863.130568@taimen.test.fi> (jh@tutpro.com)
References: <18465.17834.732392.527310@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C776E@esealmw113.eemea.ericsson.se>
	<18465.32545.345585.820414@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8050F5A@mail.acmepacket.com>
	<18465.55659.177188.471351@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A01DDF@zrc2hxm0.corp.nortel.com>
	<18466.880.342656.104598@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD80514C7@mail.acmepacket.com>
	<48222D54.7020006@iptel.org>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8051669@mail.acmepacket.com>
	<CA9998CD4A020D418654FCDEF4E707DF046C7775@esealmw113.eemea.ericsson.se>
	<18466.42180.621089.330513@taimen.test.fi>
	<4822AB7C.9000108@iptel.org>
	<1ECE0EB50388174790F9694F77522CCF16A5306F@zrc2hxm0.corp.nortel.com>
	<18467.10759.517606.958702@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A5321E@zrc2hxm0.corp.nortel.com>
	<18467.12939.938913.841738@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A53410@zrc2hxm0.corp.nortel.com>
	<18467.16487.171324.508479@t aimen .test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD80C2A8B@mail.acmepacket.com>
	<18467.17492.323683.861768@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF05C0F825@esealmw113.eemea.ericsson.se>
	<18467.64835.889246.384158@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF05C0F827@esealmw113.eemea.ericsson.se>
	<18468.5.693161.719570@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C778B@esealmw113.eemea.ericsson.se>
	<18469.39991.678671.481517@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C7790@esealmw113.eemea.ericsson.se>
	<18470.57128.173863.130568@taimen.test.fi>
Subject: Re: [Sip] draft-ietf-sip-outbound
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Archive: <https://www.ietf.org/mailman/private/sip>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
MIME-Version: 1.0
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

   From: jh@tutpro.com (Juha Heinanen)

   i have been fighting this battle in order to make very simple
   implementation possible of what i consider a COMMON case.  [...]

   so i would like to propose that ob draft mandates UA to set up flows and
   register with AT LEAST TWO ob proxies if ob proxy set is bigger than
   one.  [...]

I understand what you're saying with one exception:  Your first
statement is that you want to make this implementation *possible*, but
your second statement is that the implementation be *mandatory*.
Which are you advocating for?

Dale
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Sun May 11 22:46:23 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 6F41A28C21C;
	Sun, 11 May 2008 22:46:23 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 0B42C28C217
	for <sip@core3.amsl.com>; Sun, 11 May 2008 22:46:17 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.555
X-Spam-Level: 
X-Spam-Status: No, score=-2.555 tagged_above=-999 required=5 tests=[AWL=0.044, 
	BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 2CHzH8m6AvmR for <sip@core3.amsl.com>;
	Sun, 11 May 2008 22:46:15 -0700 (PDT)
Received: from tutpro.com (lohi.tutpro.com [192.98.100.2])
	by core3.amsl.com (Postfix) with ESMTP id 21D1928C21A
	for <sip@ietf.org>; Sun, 11 May 2008 22:46:15 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by tutpro.com (Postfix) with ESMTP id 3373B1EC27D;
	Mon, 12 May 2008 08:46:03 +0300 (EEST)
Received: from tutpro.com ([127.0.0.1])
	by localhost (tutpro.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id X4aqfBL1lYZI; Mon, 12 May 2008 08:45:55 +0300 (EEST)
Received: from taimen (h145207.gprs.dnafinland.fi [87.93.145.207])
	by tutpro.com (Postfix) with ESMTP;
	Mon, 12 May 2008 08:45:55 +0300 (EEST)
Received: by taimen (Postfix, from userid 1000)
	id 6FF3CAC06F; Mon, 12 May 2008 08:45:48 +0300 (EEST)
MIME-Version: 1.0
Message-ID: <18471.55691.947998.606806@taimen.test.fi>
Date: Mon, 12 May 2008 08:45:47 +0300
To: Dale.Worley@comcast.net
In-Reply-To: <200805120235.m4C2ZdAH006829@dragon.ariadne.com>
References: <18465.17834.732392.527310@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C776E@esealmw113.eemea.ericsson.se>
	<18465.32545.345585.820414@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8050F5A@mail.acmepacket.com>
	<18465.55659.177188.471351@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A01DDF@zrc2hxm0.corp.nortel.com>
	<18466.880.342656.104598@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD80514C7@mail.acmepacket.com>
	<48222D54.7020006@iptel.org>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8051669@mail.acmepacket.com>
	<CA9998CD4A020D418654FCDEF4E707DF046C7775@esealmw113.eemea.ericsson.se>
	<18466.42180.621089.330513@taimen.test.fi>
	<4822AB7C.9000108@iptel.org>
	<1ECE0EB50388174790F9694F77522CCF16A5306F@zrc2hxm0.corp.nortel.com>
	<18467.10759.517606.958702@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A5321E@zrc2hxm0.corp.nortel.com>
	<18467.12939.938913.841738@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A53410@zrc2hxm0.corp.nortel.com>
	<18467.16487.171324.508479@t aimen .test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD80C2A8B@mail.acmepacket.com>
	<18467.17492.323683.861768@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF05C0F825@esealmw113.eemea.ericsson.se>
	<18467.64835.889246.384158@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF05C0F827@esealmw113.eemea.ericsson.se>
	<18468.5.693161.719570@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C778B@esealmw113.eemea.ericsson.se>
	<18469.39991.678671.481517@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C7790@esealmw113.eemea.ericsson.se>
	<18470.57128.173863.130568@taimen.test.fi>
	<200805120235.m4C2ZdAH006829@dragon.ariadne.com>
X-Mailer: VM 7.19 under Emacs 22.1.1
From: jh@tutpro.com (Juha Heinanen)
Cc: sip@ietf.org
Subject: Re: [Sip] draft-ietf-sip-outbound
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Archive: <https://www.ietf.org/mailman/private/sip>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Dale.Worley@comcast.net writes:

 >    i have been fighting this battle in order to make very simple
 >    implementation possible of what i consider a COMMON case.  [...]
 > 
 >    so i would like to propose that ob draft mandates UA to set up flows and
 >    register with AT LEAST TWO ob proxies if ob proxy set is bigger than
 >    one.  [...]
 > 
 > I understand what you're saying with one exception:  Your first
 > statement is that you want to make this implementation *possible*, but
 > your second statement is that the implementation be *mandatory*.
 > Which are you advocating for?

simple implementation is not possible if it is not mandatory for UAs to
set up flows and register via at least two ob proxies (if more than one
is given).

-- juha
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Sun May 11 23:10:12 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 1A9BA28C218;
	Sun, 11 May 2008 23:10:12 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 78AAA3A6A2E
	for <sip@core3.amsl.com>; Sun, 11 May 2008 23:10:09 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -5.845
X-Spam-Level: 
X-Spam-Status: No, score=-5.845 tagged_above=-999 required=5
	tests=[AWL=-0.196, BAYES_00=-2.599, HELO_EQ_SE=0.35,
	J_CHICKENPOX_43=0.6, RCVD_IN_DNSWL_MED=-4]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id eA9wG91zFRAY for <sip@core3.amsl.com>;
	Sun, 11 May 2008 23:10:05 -0700 (PDT)
Received: from mailgw4.ericsson.se (mailgw4.ericsson.se [193.180.251.62])
	by core3.amsl.com (Postfix) with ESMTP id 32B083A6A51
	for <sip@ietf.org>; Sun, 11 May 2008 23:10:01 -0700 (PDT)
Received: from mailgw4.ericsson.se (unknown [127.0.0.1])
	by mailgw4.ericsson.se (Symantec Mail Security) with ESMTP id
	A9F9120543; Mon, 12 May 2008 08:09:56 +0200 (CEST)
X-AuditID: c1b4fb3e-ac995bb000004ec0-d3-4827df341ac9
Received: from esealmw128.eemea.ericsson.se (unknown [153.88.254.121])
	by mailgw4.ericsson.se (Symantec Mail Security) with ESMTP id
	81A5420514; Mon, 12 May 2008 08:09:56 +0200 (CEST)
Received: from esealmw113.eemea.ericsson.se ([153.88.200.4]) by
	esealmw128.eemea.ericsson.se with Microsoft SMTPSVC(6.0.3790.1830); 
	Mon, 12 May 2008 08:09:56 +0200
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Mon, 12 May 2008 08:09:55 +0200
Message-ID: <CA9998CD4A020D418654FCDEF4E707DF05C0F82A@esealmw113.eemea.ericsson.se>
In-Reply-To: <18470.55306.761420.384822@taimen.test.fi>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] Draft: draft-holmberg-sip-keep-00.txt
thread-index: AcizWfwUaGQk1ZsqQ8mOS7kkdT6bigAm2BAA
References: <18465.17834.732392.527310@taimen.test.fi><CA9998CD4A020D418654FCDEF4E707DF046C776E@esealmw113.eemea.ericsson.se><18465.32545.345585.820414@taimen.test.fi><E6C2E8958BA59A4FB960963D475F7AC30BD8050F5A@mail.acmepacket.com><18465.55659.177188.471351@taimen.test.fi><1ECE0EB50388174790F9694F77522CCF16A01DDF@zrc2hxm0.corp.nortel.com><18466.880.342656.104598@taimen.test.fi><E6C2E8958BA59A4FB960963D475F7AC30BD80514C7@mail.acmepacket.com><48222D54.7020006@iptel.org><E6C2E8958BA59A4FB960963D475F7AC30BD8051669@mail.acmepacket.com><CA9998CD4A020D418654FCDEF4E707DF046C7775@esealmw113.eemea.ericsson.se><4822AB25.1070200@iptel.org><18466.43946.215481.520633@taimen.test.fi><CA9998CD4A020D418654FCDEF4E707DF046C777C@esealmw113.eemea.ericsson.se><1ECE0EB50388174790F9694F77522CCF16A52F5D@zrc2hxm0.corp.nortel.com><18467.8712.540473.285540@taimen.test.fi><1ECE0EB50388174790F9694F77522CCF16A53030@zrc2hxm0.corp.nortel.com><18467.9957.360558.903163@taimen.test.fi><18467.58809.210185.189951
	@taimen. test.fi><CA9
	998CD4A020D418654FCDEF4E707DF046C778E@esealmw113.eemea.ericsson.se><18469.40230.445844.587399@taimen.test.fi><E6C2E8958BA59A4FB960963D475F7AC30BD926BA31@mail.acmepacket.com><CA9998CD4A020D418654FCDEF4E707DF046C7793@esealmw113.eemea.ericsson.se>
	<18470.55306.761420.384822@taimen.test.fi>
From: "Christer Holmberg" <christer.holmberg@ericsson.com>
To: "Juha Heinanen" <jh@tutpro.com>
X-OriginalArrivalTime: 12 May 2008 06:09:56.0328 (UTC)
	FILETIME=[CD089E80:01C8B3F6]
X-Brightmail-Tracker: AAAAAA==
Cc: sip@ietf.org, Francois Audet <audet@nortel.com>,
	Dean Willis <dean.willis@softarmor.com>
Subject: Re: [Sip] Draft: draft-holmberg-sip-keep-00.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Archive: <https://www.ietf.org/mailman/private/sip>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

 

>>I agree with Hadriel. It is very difficult to, in a spec, say what an
> entity not supporting the spec should do - because implementors may  >
not even have read the spec. 
>
>i don't remember i have proposed saying something about an entity (UA)
not supporting the spec.  what i have proposed is that an UA supporting
the keep spec should still send CRLFs even it does 
>not get back keep=yes.
>
>>But, again, we can choose to not explicitly forbid sending CRLF, which
means that people not  > supporting "keep" can continue sending CRLF
without anyone being able
>>to tell them that what they are doing goes against some spec etc. 
>
>i still don't understand why we need an addition to sip protocol for
CRLFs keepalives.
>
>why can't you instead say in your draft that before sending a register
or any other sip request, UA sends double-CRLF to find out if ob proxy
supports CRLF keepalives.  it does, if UA gets back 
>a single-CRLF and otherwise not.  
>
>in my opinion, it would be much simpler than inventing yet another
addition to sip protocol on top to the countless additions there already
exists and that no-one has implemented.

That still doesn't indicate to the edge proxy that the UA supports the
keep-alives. I don't think we can expect the edge proxy to remember
every IP address/port from where it has received a double-CRLF, before
it has received a SIP request from that same IP address/port. 

Regards,

Christer
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Sun May 11 23:13:02 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 5A11028C22D;
	Sun, 11 May 2008 23:13:02 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 906BF28C229
	for <sip@core3.amsl.com>; Sun, 11 May 2008 23:12:59 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -6.137
X-Spam-Level: 
X-Spam-Status: No, score=-6.137 tagged_above=-999 required=5 tests=[AWL=0.112, 
	BAYES_00=-2.599, HELO_EQ_SE=0.35, RCVD_IN_DNSWL_MED=-4]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id TVUUEOi+5v2q for <sip@core3.amsl.com>;
	Sun, 11 May 2008 23:12:58 -0700 (PDT)
Received: from mailgw4.ericsson.se (mailgw4.ericsson.se [193.180.251.62])
	by core3.amsl.com (Postfix) with ESMTP id 77BB928C228
	for <sip@ietf.org>; Sun, 11 May 2008 23:12:58 -0700 (PDT)
Received: from mailgw4.ericsson.se (unknown [127.0.0.1])
	by mailgw4.ericsson.se (Symantec Mail Security) with ESMTP id
	626FC205B8; Mon, 12 May 2008 08:12:54 +0200 (CEST)
X-AuditID: c1b4fb3e-ab192bb000004ec0-1d-4827dfe632a1
Received: from esealmw128.eemea.ericsson.se (unknown [153.88.254.121])
	by mailgw4.ericsson.se (Symantec Mail Security) with ESMTP id
	447B620594; Mon, 12 May 2008 08:12:54 +0200 (CEST)
Received: from esealmw113.eemea.ericsson.se ([153.88.200.4]) by
	esealmw128.eemea.ericsson.se with Microsoft SMTPSVC(6.0.3790.1830); 
	Mon, 12 May 2008 08:12:54 +0200
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Mon, 12 May 2008 08:12:53 +0200
Message-ID: <CA9998CD4A020D418654FCDEF4E707DF05C0F82B@esealmw113.eemea.ericsson.se>
In-Reply-To: <18471.55691.947998.606806@taimen.test.fi>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] draft-ietf-sip-outbound
thread-index: Aciz85txH17evNGMT9+qCUFa3z+d+wAA4gPg
References: <18465.17834.732392.527310@taimen.test.fi><CA9998CD4A020D418654FCDEF4E707DF046C776E@esealmw113.eemea.ericsson.se><18465.32545.345585.820414@taimen.test.fi><E6C2E8958BA59A4FB960963D475F7AC30BD8050F5A@mail.acmepacket.com><18465.55659.177188.471351@taimen.test.fi><1ECE0EB50388174790F9694F77522CCF16A01DDF@zrc2hxm0.corp.nortel.com><18466.880.342656.104598@taimen.test.fi><E6C2E8958BA59A4FB960963D475F7AC30BD80514C7@mail.acmepacket.com><48222D54.7020006@iptel.org><E6C2E8958BA59A4FB960963D475F7AC30BD8051669@mail.acmepacket.com><CA9998CD4A020D418654FCDEF4E707DF046C7775@esealmw113.eemea.ericsson.se><18466.42180.621089.330513@taimen.test.fi><4822AB7C.9000108@iptel.org><1ECE0EB50388174790F9694F77522CCF16A5306F@zrc2hxm0.corp.nortel.com><18467.10759.517606.958702@taimen.test.fi><1ECE0EB50388174790F9694F77522CCF16A5321E@zrc2hxm0.corp.nortel.com><18467.12939.938913.841738@taimen.test.fi><1ECE0EB50388174790F9694F77522CCF16A53410@zrc2hxm0.corp.nortel.com><18467.16487.171324.508479@t
	aimen . test.fi><E6C
	2E8958BA59A4FB960963D475F7AC30BD80C2A8B@mail.acmepacket.com><18467.17492.323683.861768@taimen.test.fi><CA9998CD4A020D418654FCDEF4E707DF05C0F825@esealmw113.eemea.ericsson.se><18467.64835.889246.384158@taimen.test.fi><CA9998CD4A020D418654FCDEF4E707DF05C0F827@esealmw113.eemea.ericsson.se><18468.5.693161.719570@taimen.test.fi><CA9998CD4A020D418654FCDEF4E707DF046C778B@esealmw113.eemea.ericsson.se><18469.39991.678671.481517@taimen.test.fi><CA9998CD4A020D418654FCDEF4E707DF046C7790@esealmw113.eemea.ericsson.se><18470.57128.173863.130568@taimen.test.fi><200805120235.m4C2ZdAH006829@dragon.ariadne.com>
	<18471.55691.947998.606806@taimen.test.fi>
From: "Christer Holmberg" <christer.holmberg@ericsson.com>
To: "Juha Heinanen" <jh@tutpro.com>,
	<Dale.Worley@comcast.net>
X-OriginalArrivalTime: 12 May 2008 06:12:54.0060 (UTC)
	FILETIME=[36F85EC0:01C8B3F7]
X-Brightmail-Tracker: AAAAAA==
Cc: sip@ietf.org
Subject: Re: [Sip] draft-ietf-sip-outbound
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Archive: <https://www.ietf.org/mailman/private/sip>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


Juha, just for my clarification: what do you mean by "ob proxy"? Edge
proxy, or registrar supporting Outbound?

Regards,

Christer 

-----Original Message-----
From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On Behalf Of
Juha Heinanen
Sent: 12. toukokuuta 2008 8:46
To: Dale.Worley@comcast.net
Cc: sip@ietf.org
Subject: Re: [Sip] draft-ietf-sip-outbound

Dale.Worley@comcast.net writes:

 >    i have been fighting this battle in order to make very simple
 >    implementation possible of what i consider a COMMON case.  [...]
 > 
 >    so i would like to propose that ob draft mandates UA to set up
flows and
 >    register with AT LEAST TWO ob proxies if ob proxy set is bigger
than
 >    one.  [...]
 >
 > I understand what you're saying with one exception:  Your first  >
statement is that you want to make this implementation *possible*, but
> your second statement is that the implementation be *mandatory*.
 > Which are you advocating for?

simple implementation is not possible if it is not mandatory for UAs to
set up flows and register via at least two ob proxies (if more than one
is given).

-- juha
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol Use
sip-implementors@cs.columbia.edu for questions on current sip Use
sipping@ietf.org for new developments on the application of sip
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Sun May 11 23:14:00 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 307C228C22E;
	Sun, 11 May 2008 23:14:00 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 425FE28C228
	for <sip@core3.amsl.com>; Sun, 11 May 2008 23:13:58 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.556
X-Spam-Level: 
X-Spam-Status: No, score=-2.556 tagged_above=-999 required=5 tests=[AWL=0.043, 
	BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 52wjoPWb1PMQ for <sip@core3.amsl.com>;
	Sun, 11 May 2008 23:13:57 -0700 (PDT)
Received: from tutpro.com (sip.tutpro.com [192.98.100.10])
	by core3.amsl.com (Postfix) with ESMTP id 241E428C22E
	for <sip@ietf.org>; Sun, 11 May 2008 23:13:57 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by tutpro.com (Postfix) with ESMTP id 2CC621EC27D;
	Mon, 12 May 2008 09:13:53 +0300 (EEST)
Received: from tutpro.com ([127.0.0.1])
	by localhost (tutpro.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id pc8kC1Jq5Yvn; Mon, 12 May 2008 09:13:46 +0300 (EEST)
Received: from taimen (h145207.gprs.dnafinland.fi [87.93.145.207])
	by tutpro.com (Postfix) with ESMTP;
	Mon, 12 May 2008 09:13:46 +0300 (EEST)
Received: by taimen (Postfix, from userid 1000)
	id 642FBAC06F; Mon, 12 May 2008 09:13:41 +0300 (EEST)
MIME-Version: 1.0
Message-ID: <18471.57365.379822.326568@taimen.test.fi>
Date: Mon, 12 May 2008 09:13:41 +0300
To: "Christer Holmberg" <christer.holmberg@ericsson.com>
In-Reply-To: <CA9998CD4A020D418654FCDEF4E707DF05C0F82A@esealmw113.eemea.ericsson.se>
References: <18465.17834.732392.527310@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C776E@esealmw113.eemea.ericsson.se>
	<18465.32545.345585.820414@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8050F5A@mail.acmepacket.com>
	<18465.55659.177188.471351@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A01DDF@zrc2hxm0.corp.nortel.com>
	<18466.880.342656.104598@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD80514C7@mail.acmepacket.com>
	<48222D54.7020006@iptel.org>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8051669@mail.acmepacket.com>
	<CA9998CD4A020D418654FCDEF4E707DF046C7775@esealmw113.eemea.ericsson.se>
	<4822AB25.1070200@iptel.org>
	<18466.43946.215481.520633@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C777C@esealmw113.eemea.ericsson.se>
	<1ECE0EB50388174790F9694F77522CCF16A52F5D@zrc2hxm0.corp.nortel.com>
	<18467.8712.540473.285540@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A53030@zrc2hxm0.corp.nortel.com>
	<18467.9957.360558.903163@taimen.test.fi>
	<18467.58809.210185.189951 @taimen. test.fi> <CA9
	998CD4A020D418654FCDEF4E707DF046C778E@esealmw113.eemea.ericsson.se>
	<18469.40230.445844.587399@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD926BA31@mail.acmepacket.com>
	<CA9998CD4A020D418654FCDEF4E707DF046C7793@esealmw113.eemea.ericsson.se>
	<18470.55306.761420.384822@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF05C0F82A@esealmw113.eemea.ericsson.se>
X-Mailer: VM 7.19 under Emacs 22.1.1
From: jh@tutpro.com (Juha Heinanen)
Cc: sip@ietf.org, Francois Audet <audet@nortel.com>,
	Dean Willis <dean.willis@softarmor.com>
Subject: Re: [Sip] Draft: draft-holmberg-sip-keep-00.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Archive: <https://www.ietf.org/mailman/private/sip>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Christer Holmberg writes:

 > That still doesn't indicate to the edge proxy that the UA supports the
 > keep-alives. 

why does the edge proxy need to know that a TCP UA supports keepalives?
openser does not keep track of that and everything works fine.

-- juha
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Sun May 11 23:21:09 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 0B04D28C236;
	Sun, 11 May 2008 23:21:09 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 3778828C234
	for <sip@core3.amsl.com>; Sun, 11 May 2008 23:21:07 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -6.141
X-Spam-Level: 
X-Spam-Status: No, score=-6.141 tagged_above=-999 required=5 tests=[AWL=0.108, 
	BAYES_00=-2.599, HELO_EQ_SE=0.35, RCVD_IN_DNSWL_MED=-4]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id tSyesj0qEB5M for <sip@core3.amsl.com>;
	Sun, 11 May 2008 23:21:06 -0700 (PDT)
Received: from mailgw4.ericsson.se (mailgw4.ericsson.se [193.180.251.62])
	by core3.amsl.com (Postfix) with ESMTP id 3192528C21E
	for <sip@ietf.org>; Sun, 11 May 2008 23:21:06 -0700 (PDT)
Received: from mailgw4.ericsson.se (unknown [127.0.0.1])
	by mailgw4.ericsson.se (Symantec Mail Security) with ESMTP id
	C26FD205B6; Mon, 12 May 2008 08:20:56 +0200 (CEST)
X-AuditID: c1b4fb3e-ad997bb000004ec0-27-4827e1c851bd
Received: from esealmw126.eemea.ericsson.se (unknown [153.88.254.123])
	by mailgw4.ericsson.se (Symantec Mail Security) with ESMTP id
	B032D205B4; Mon, 12 May 2008 08:20:56 +0200 (CEST)
Received: from esealmw113.eemea.ericsson.se ([153.88.200.4]) by
	esealmw126.eemea.ericsson.se with Microsoft SMTPSVC(6.0.3790.1830); 
	Mon, 12 May 2008 08:20:56 +0200
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Mon, 12 May 2008 08:20:55 +0200
Message-ID: <CA9998CD4A020D418654FCDEF4E707DF05C0F82D@esealmw113.eemea.ericsson.se>
In-Reply-To: <18471.57365.379822.326568@taimen.test.fi>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] Draft: draft-holmberg-sip-keep-00.txt
thread-index: Aciz91t4wKEP0L1bQCOb5E4xsAArCQAAJioQ
References: <18465.17834.732392.527310@taimen.test.fi><CA9998CD4A020D418654FCDEF4E707DF046C776E@esealmw113.eemea.ericsson.se><18465.32545.345585.820414@taimen.test.fi><E6C2E8958BA59A4FB960963D475F7AC30BD8050F5A@mail.acmepacket.com><18465.55659.177188.471351@taimen.test.fi><1ECE0EB50388174790F9694F77522CCF16A01DDF@zrc2hxm0.corp.nortel.com><18466.880.342656.104598@taimen.test.fi><E6C2E8958BA59A4FB960963D475F7AC30BD80514C7@mail.acmepacket.com><48222D54.7020006@iptel.org><E6C2E8958BA59A4FB960963D475F7AC30BD8051669@mail.acmepacket.com><CA9998CD4A020D418654FCDEF4E707DF046C7775@esealmw113.eemea.ericsson.se><4822AB25.1070200@iptel.org><18466.43946.215481.520633@taimen.test.fi><CA9998CD4A020D418654FCDEF4E707DF046C777C@esealmw113.eemea.ericsson.se><1ECE0EB50388174790F9694F77522CCF16A52F5D@zrc2hxm0.corp.nortel.com><18467.8712.540473.285540@taimen.test.fi><1ECE0EB50388174790F9694F77522CCF16A53030@zrc2hxm0.corp.nortel.com><18467.9957.360558.903163@taimen.test.fi><18467.58809.210185.189951
	@taimen .test.fi><CA
	9998CD4A020D418654FCDEF4E707DF046C778E@esealmw113.eemea.ericsson.se><18469.40230.445844.587399@taimen.test.fi><E6C2E8958BA59A4FB960963D475F7AC30BD926BA31@mail.acmepacket.com><CA9998CD4A020D418654FCDEF4E707DF046C7793@esealmw113.eemea.ericsson.se><18470.55306.761420.384822@taimen.test.fi><CA9998CD4A020D418654FCDEF4E707DF05C0F82A@esealmw113.eemea.ericsson.se>
	<18471.57365.379822.326568@taimen.test.fi>
From: "Christer Holmberg" <christer.holmberg@ericsson.com>
To: "Juha Heinanen" <jh@tutpro.com>
X-OriginalArrivalTime: 12 May 2008 06:20:56.0735 (UTC)
	FILETIME=[56AABAF0:01C8B3F8]
X-Brightmail-Tracker: AAAAAA==
Cc: sip@ietf.org, Francois Audet <audet@nortel.com>,
	Dean Willis <dean.willis@softarmor.com>
Subject: Re: [Sip] Draft: draft-holmberg-sip-keep-00.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Archive: <https://www.ietf.org/mailman/private/sip>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

 

>>That still doesn't indicate to the edge proxy that the UA supports the
> keep-alives. 
>
>why does the edge proxy need to know that a TCP UA supports keepalives?
>openser does not keep track of that and everything works fine.

I don't know what openser does, but I DO know about edge proxies that
set the registration timer to a short value in order to use the
registration requests as "keep-alives", which is a very "heavy" method.
Again, the idea is that they don't need to do that if they receive an
explicit indication that the UA supports double-CRLF (and STUN).

Regards,

Christer
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Sun May 11 23:23:45 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 7326E28C23E;
	Sun, 11 May 2008 23:23:45 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id ACDCC28C23E
	for <sip@core3.amsl.com>; Sun, 11 May 2008 23:23:43 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.557
X-Spam-Level: 
X-Spam-Status: No, score=-2.557 tagged_above=-999 required=5 tests=[AWL=0.042, 
	BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id HpJW3M9uXeMl for <sip@core3.amsl.com>;
	Sun, 11 May 2008 23:23:43 -0700 (PDT)
Received: from tutpro.com (sip.tutpro.com [192.98.100.10])
	by core3.amsl.com (Postfix) with ESMTP id 8ED5A28C23F
	for <sip@ietf.org>; Sun, 11 May 2008 23:23:42 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by tutpro.com (Postfix) with ESMTP id 9F2CF1EC27D;
	Mon, 12 May 2008 09:23:38 +0300 (EEST)
Received: from tutpro.com ([127.0.0.1])
	by localhost (tutpro.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id qYRSUWSsyCrx; Mon, 12 May 2008 09:23:31 +0300 (EEST)
Received: from taimen (h145207.gprs.dnafinland.fi [87.93.145.207])
	by tutpro.com (Postfix) with ESMTP;
	Mon, 12 May 2008 09:23:31 +0300 (EEST)
Received: by taimen (Postfix, from userid 1000)
	id 4CD111C8028; Mon, 12 May 2008 09:23:25 +0300 (EEST)
MIME-Version: 1.0
Message-ID: <18471.57948.844095.729012@taimen.test.fi>
Date: Mon, 12 May 2008 09:23:24 +0300
To: "Christer Holmberg" <christer.holmberg@ericsson.com>
In-Reply-To: <CA9998CD4A020D418654FCDEF4E707DF05C0F82B@esealmw113.eemea.ericsson.se>
References: <18465.17834.732392.527310@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C776E@esealmw113.eemea.ericsson.se>
	<18465.32545.345585.820414@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8050F5A@mail.acmepacket.com>
	<18465.55659.177188.471351@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A01DDF@zrc2hxm0.corp.nortel.com>
	<18466.880.342656.104598@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD80514C7@mail.acmepacket.com>
	<48222D54.7020006@iptel.org>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8051669@mail.acmepacket.com>
	<CA9998CD4A020D418654FCDEF4E707DF046C7775@esealmw113.eemea.ericsson.se>
	<18466.42180.621089.330513@taimen.test.fi>
	<4822AB7C.9000108@iptel.org>
	<1ECE0EB50388174790F9694F77522CCF16A5306F@zrc2hxm0.corp.nortel.com>
	<18467.10759.517606.958702@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A5321E@zrc2hxm0.corp.nortel.com>
	<18467.12939.938913.841738@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A53410@zrc2hxm0.corp.nortel.com>
	<18467.16487.171324.508479@t aimen . test.fi> <E6C
	2E8958BA59A4FB960963D475F7AC30BD80C2A8B@mail.acmepacket.com>
	<18467.17492.323683.861768@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF05C0F825@esealmw113.eemea.ericsson.se>
	<18467.64835.889246.384158@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF05C0F827@esealmw113.eemea.ericsson.se>
	<18468.5.693161.719570@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C778B@esealmw113.eemea.ericsson.se>
	<18469.39991.678671.481517@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C7790@esealmw113.eemea.ericsson.se>
	<18470.57128.173863.130568@taimen.test.fi>
	<200805120235.m4C2ZdAH006829@dragon.ariadne.com>
	<18471.55691.947998.606806@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF05C0F82B@esealmw113.eemea.ericsson.se>
X-Mailer: VM 7.19 under Emacs 22.1.1
From: jh@tutpro.com (Juha Heinanen)
Cc: sip@ietf.org
Subject: Re: [Sip] draft-ietf-sip-outbound
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Archive: <https://www.ietf.org/mailman/private/sip>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Christer Holmberg writes:

 > Juha, just for my clarification: what do you mean by "ob proxy"? Edge
 > proxy, or registrar supporting Outbound?

i mean what ob draft means with it when it says:

   For each outbound proxy URI in the set, the UAC SHOULD send a
   REGISTER request using this URI as the default outbound proxy.

if that is not clear then please fix the text and we'll after return to
this.

-- juha
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Sun May 11 23:25:43 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 5B9FB28C241;
	Sun, 11 May 2008 23:25:43 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 7B61128C241
	for <sip@core3.amsl.com>; Sun, 11 May 2008 23:25:41 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.558
X-Spam-Level: 
X-Spam-Status: No, score=-2.558 tagged_above=-999 required=5 tests=[AWL=0.041, 
	BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id iWnxN77CWik5 for <sip@core3.amsl.com>;
	Sun, 11 May 2008 23:25:40 -0700 (PDT)
Received: from tutpro.com (sip.tutpro.com [192.98.100.10])
	by core3.amsl.com (Postfix) with ESMTP id 5B9D428C23D
	for <sip@ietf.org>; Sun, 11 May 2008 23:25:40 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by tutpro.com (Postfix) with ESMTP id D40AE1EC27D;
	Mon, 12 May 2008 09:25:36 +0300 (EEST)
Received: from tutpro.com ([127.0.0.1])
	by localhost (tutpro.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id qAwdY+f3nFPY; Mon, 12 May 2008 09:25:30 +0300 (EEST)
Received: from taimen (h145207.gprs.dnafinland.fi [87.93.145.207])
	by tutpro.com (Postfix) with ESMTP;
	Mon, 12 May 2008 09:25:30 +0300 (EEST)
Received: by taimen (Postfix, from userid 1000)
	id BE98E1C8028; Mon, 12 May 2008 09:25:24 +0300 (EEST)
MIME-Version: 1.0
Message-ID: <18471.58068.662832.833609@taimen.test.fi>
Date: Mon, 12 May 2008 09:25:24 +0300
To: "Christer Holmberg" <christer.holmberg@ericsson.com>
In-Reply-To: <CA9998CD4A020D418654FCDEF4E707DF05C0F82D@esealmw113.eemea.ericsson.se>
References: <18465.17834.732392.527310@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C776E@esealmw113.eemea.ericsson.se>
	<18465.32545.345585.820414@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8050F5A@mail.acmepacket.com>
	<18465.55659.177188.471351@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A01DDF@zrc2hxm0.corp.nortel.com>
	<18466.880.342656.104598@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD80514C7@mail.acmepacket.com>
	<48222D54.7020006@iptel.org>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8051669@mail.acmepacket.com>
	<CA9998CD4A020D418654FCDEF4E707DF046C7775@esealmw113.eemea.ericsson.se>
	<4822AB25.1070200@iptel.org>
	<18466.43946.215481.520633@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C777C@esealmw113.eemea.ericsson.se>
	<1ECE0EB50388174790F9694F77522CCF16A52F5D@zrc2hxm0.corp.nortel.com>
	<18467.8712.540473.285540@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A53030@zrc2hxm0.corp.nortel.com>
	<18467.9957.360558.903163@taimen.test.fi>
	<18467.58809.210185.189951 @taimen .test.fi> <CA
	9998CD4A020D418654FCDEF4E707DF046C778E@esealmw113.eemea.ericsson.se>
	<18469.40230.445844.587399@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD926BA31@mail.acmepacket.com>
	<CA9998CD4A020D418654FCDEF4E707DF046C7793@esealmw113.eemea.ericsson.se>
	<18470.55306.761420.384822@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF05C0F82A@esealmw113.eemea.ericsson.se>
	<18471.57365.379822.326568@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF05C0F82D@esealmw113.eemea.ericsson.se>
X-Mailer: VM 7.19 under Emacs 22.1.1
From: jh@tutpro.com (Juha Heinanen)
Cc: sip@ietf.org, Francois Audet <audet@nortel.com>,
	Dean Willis <dean.willis@softarmor.com>
Subject: Re: [Sip] Draft: draft-holmberg-sip-keep-00.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Archive: <https://www.ietf.org/mailman/private/sip>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Christer Holmberg writes:

 > I don't know what openser does, but I DO know about edge proxies that
 > set the registration timer to a short value in order to use the
 > registration requests as "keep-alives", which is a very "heavy"
 > method.

we discussed this already.  it is the responsibility of the UA, not a
proxy, to use small reg int if ob proxy does not support CRLF
keepalives.

-- juha
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Sun May 11 23:31:05 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 08F9528C230;
	Sun, 11 May 2008 23:31:05 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 06DBF28C230
	for <sip@core3.amsl.com>; Sun, 11 May 2008 23:31:02 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -6.145
X-Spam-Level: 
X-Spam-Status: No, score=-6.145 tagged_above=-999 required=5 tests=[AWL=0.104, 
	BAYES_00=-2.599, HELO_EQ_SE=0.35, RCVD_IN_DNSWL_MED=-4]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id MP1DiSTANLp0 for <sip@core3.amsl.com>;
	Sun, 11 May 2008 23:31:00 -0700 (PDT)
Received: from mailgw3.ericsson.se (mailgw3.ericsson.se [193.180.251.60])
	by core3.amsl.com (Postfix) with ESMTP id 031D628C228
	for <sip@ietf.org>; Sun, 11 May 2008 23:30:58 -0700 (PDT)
Received: from mailgw3.ericsson.se (unknown [127.0.0.1])
	by mailgw3.ericsson.se (Symantec Mail Security) with ESMTP id
	B1D072062C; Mon, 12 May 2008 08:30:30 +0200 (CEST)
X-AuditID: c1b4fb3c-ad89abb00000193b-59-4827e40662ef
Received: from esealmw126.eemea.ericsson.se (unknown [153.88.254.123])
	by mailgw3.ericsson.se (Symantec Mail Security) with ESMTP id
	8F11E20246; Mon, 12 May 2008 08:30:30 +0200 (CEST)
Received: from esealmw113.eemea.ericsson.se ([153.88.200.4]) by
	esealmw126.eemea.ericsson.se with Microsoft SMTPSVC(6.0.3790.1830); 
	Mon, 12 May 2008 08:30:30 +0200
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Mon, 12 May 2008 08:30:29 +0200
Message-ID: <CA9998CD4A020D418654FCDEF4E707DF05C0F82E@esealmw113.eemea.ericsson.se>
In-Reply-To: <18471.57948.844095.729012@taimen.test.fi>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] draft-ietf-sip-outbound
thread-index: Aciz+L/XPNuGhxXoQia3rPcvKhF0QAAABX5Q
References: <18465.17834.732392.527310@taimen.test.fi><CA9998CD4A020D418654FCDEF4E707DF046C776E@esealmw113.eemea.ericsson.se><18465.32545.345585.820414@taimen.test.fi><E6C2E8958BA59A4FB960963D475F7AC30BD8050F5A@mail.acmepacket.com><18465.55659.177188.471351@taimen.test.fi><1ECE0EB50388174790F9694F77522CCF16A01DDF@zrc2hxm0.corp.nortel.com><18466.880.342656.104598@taimen.test.fi><E6C2E8958BA59A4FB960963D475F7AC30BD80514C7@mail.acmepacket.com><48222D54.7020006@iptel.org><E6C2E8958BA59A4FB960963D475F7AC30BD8051669@mail.acmepacket.com><CA9998CD4A020D418654FCDEF4E707DF046C7775@esealmw113.eemea.ericsson.se><18466.42180.621089.330513@taimen.test.fi><4822AB7C.9000108@iptel.org><1ECE0EB50388174790F9694F77522CCF16A5306F@zrc2hxm0.corp.nortel.com><18467.10759.517606.958702@taimen.test.fi><1ECE0EB50388174790F9694F77522CCF16A5321E@zrc2hxm0.corp.nortel.com><18467.12939.938913.841738@taimen.test.fi><1ECE0EB50388174790F9694F77522CCF16A53410@zrc2hxm0.corp.nortel.com><18467.16487.171324.508479@t
	aimen . test.fi> <E
	6C2E8958BA59A4FB960963D475F7AC30BD80C2A8B@mail.acmepacket.com><18467.17492.323683.861768@taimen.test.fi><CA9998CD4A020D418654FCDEF4E707DF05C0F825@esealmw113.eemea.ericsson.se><18467.64835.889246.384158@taimen.test.fi><CA9998CD4A020D418654FCDEF4E707DF05C0F827@esealmw113.eemea.ericsson.se><18468.5.693161.719570@taimen.test.fi><CA9998CD4A020D418654FCDEF4E707DF046C778B@esealmw113.eemea.ericsson.se><18469.39991.678671.481517@taimen.test.fi><CA9998CD4A020D418654FCDEF4E707DF046C7790@esealmw113.eemea.ericsson.se><18470.57128.173863.130568@taimen.test.fi><200805120235.m4C2ZdAH006829@dragon.ariadne.com><18471.55691.947998.606806@taimen.test.fi><CA9998CD4A020D418654FCDEF4E707DF05C0F82B@esealmw113.eemea.ericsson.se>
	<18471.57948.844095.729012@taimen.test.fi>
From: "Christer Holmberg" <christer.holmberg@ericsson.com>
To: "Juha Heinanen" <jh@tutpro.com>
X-OriginalArrivalTime: 12 May 2008 06:30:30.0638 (UTC)
	FILETIME=[ACBD60E0:01C8B3F9]
X-Brightmail-Tracker: AAAAAA==
Cc: sip@ietf.org
Subject: Re: [Sip] draft-ietf-sip-outbound
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Archive: <https://www.ietf.org/mailman/private/sip>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


Hi, 

>>Juha, just for my clarification: what do you mean by "ob proxy"? Edge
proxy, or registrar supporting Outbound?
>
>i mean what ob draft means with it when it says:
>
>   For each outbound proxy URI in the set, the UAC SHOULD send a
>   REGISTER request using this URI as the default outbound proxy.
>
>if that is not clear then please fix the text and we'll after return to
this.

My understanding is that it refers to the edge proxies. IF so, that says
nothing about which registrar you are going to reach.

So, if you want to register to different registrars Outbound is not
going to provide that functionality. You may use separate R-URIs in your
REGISTER request, or your home network will take care it.

So, without thinking about the draft text for a moment: let's focus on
what you want. 

Do you want to be able to 1) register via multiple edge proxies (which
Outbound allows you to do), or to 2) register with multiple registrars
(which, in my opinion, is outside the scope of Outbound)?

If 1), the following question is: do you want to 3) mandate that one
registers via AT LEAST 2 edge proxies, or do you want to 4) mandate that
one registers via ALL edge proxies it is aware of?

Regards,

Christer
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Sun May 11 23:37:22 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 264C628C22B;
	Sun, 11 May 2008 23:37:22 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 0A00328C22B
	for <sip@core3.amsl.com>; Sun, 11 May 2008 23:37:20 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -6.149
X-Spam-Level: 
X-Spam-Status: No, score=-6.149 tagged_above=-999 required=5 tests=[AWL=0.100, 
	BAYES_00=-2.599, HELO_EQ_SE=0.35, RCVD_IN_DNSWL_MED=-4]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id w3u+BJ3t+2BY for <sip@core3.amsl.com>;
	Sun, 11 May 2008 23:37:13 -0700 (PDT)
Received: from mailgw3.ericsson.se (mailgw3.ericsson.se [193.180.251.60])
	by core3.amsl.com (Postfix) with ESMTP id 740C128C228
	for <sip@ietf.org>; Sun, 11 May 2008 23:37:13 -0700 (PDT)
Received: from mailgw3.ericsson.se (unknown [127.0.0.1])
	by mailgw3.ericsson.se (Symantec Mail Security) with ESMTP id
	50C5D205BF; Mon, 12 May 2008 08:37:09 +0200 (CEST)
X-AuditID: c1b4fb3c-ac898bb00000193b-55-4827e595d193
Received: from esealmw126.eemea.ericsson.se (unknown [153.88.254.123])
	by mailgw3.ericsson.se (Symantec Mail Security) with ESMTP id
	2ACD6204D8; Mon, 12 May 2008 08:37:09 +0200 (CEST)
Received: from esealmw113.eemea.ericsson.se ([153.88.200.4]) by
	esealmw126.eemea.ericsson.se with Microsoft SMTPSVC(6.0.3790.1830); 
	Mon, 12 May 2008 08:37:09 +0200
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Mon, 12 May 2008 08:37:08 +0200
Message-ID: <CA9998CD4A020D418654FCDEF4E707DF05C0F82F@esealmw113.eemea.ericsson.se>
In-Reply-To: <18471.58068.662832.833609@taimen.test.fi>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] Draft: draft-holmberg-sip-keep-00.txt
thread-index: Aciz+P5osQZ9TcsQQ42g50IpNMV0dQAALeFQ
References: <18465.17834.732392.527310@taimen.test.fi><CA9998CD4A020D418654FCDEF4E707DF046C776E@esealmw113.eemea.ericsson.se><18465.32545.345585.820414@taimen.test.fi><E6C2E8958BA59A4FB960963D475F7AC30BD8050F5A@mail.acmepacket.com><18465.55659.177188.471351@taimen.test.fi><1ECE0EB50388174790F9694F77522CCF16A01DDF@zrc2hxm0.corp.nortel.com><18466.880.342656.104598@taimen.test.fi><E6C2E8958BA59A4FB960963D475F7AC30BD80514C7@mail.acmepacket.com><48222D54.7020006@iptel.org><E6C2E8958BA59A4FB960963D475F7AC30BD8051669@mail.acmepacket.com><CA9998CD4A020D418654FCDEF4E707DF046C7775@esealmw113.eemea.ericsson.se><4822AB25.1070200@iptel.org><18466.43946.215481.520633@taimen.test.fi><CA9998CD4A020D418654FCDEF4E707DF046C777C@esealmw113.eemea.ericsson.se><1ECE0EB50388174790F9694F77522CCF16A52F5D@zrc2hxm0.corp.nortel.com><18467.8712.540473.285540@taimen.test.fi><1ECE0EB50388174790F9694F77522CCF16A53030@zrc2hxm0.corp.nortel.com><18467.9957.360558.903163@taimen.test.fi><18467.58809.210185.189951
	@taime n.test.fi><C
	A9998CD4A020D418654FCDEF4E707DF046C778E@esealmw113.eemea.ericsson.se><18469.40230.445844.587399@taimen.test.fi><E6C2E8958BA59A4FB960963D475F7AC30BD926BA31@mail.acmepacket.com><CA9998CD4A020D418654FCDEF4E707DF046C7793@esealmw113.eemea.ericsson.se><18470.55306.761420.384822@taimen.test.fi><CA9998CD4A020D418654FCDEF4E707DF05C0F82A@esealmw113.eemea.ericsson.se><18471.57365.379822.326568@taimen.test.fi><CA9998CD4A020D418654FCDEF4E707DF05C0F82D@esealmw113.eemea.ericsson.se>
	<18471.58068.662832.833609@taimen.test.fi>
From: "Christer Holmberg" <christer.holmberg@ericsson.com>
To: "Juha Heinanen" <jh@tutpro.com>
X-OriginalArrivalTime: 12 May 2008 06:37:09.0198 (UTC)
	FILETIME=[9A4CCEE0:01C8B3FA]
X-Brightmail-Tracker: AAAAAA==
Cc: sip@ietf.org, Francois Audet <audet@nortel.com>,
	Dean Willis <dean.willis@softarmor.com>
Subject: Re: [Sip] Draft: draft-holmberg-sip-keep-00.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Archive: <https://www.ietf.org/mailman/private/sip>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

 
>>I don't know what openser does, but I DO know about edge proxies that
> set the registration timer to a short value in order to use the  >
registration requests as "keep-alives", which is a 
>>very "heavy" method.
>
>we discussed this already.  it is the responsibility of the UA, not a
proxy, to use small reg int if ob proxy does not support CRLF
keepalives.

That is not specified anywhere, and that is not general behavior. The
registration interval offered by the UA may be something which has been
provided by the operator/service provider/internet provider. And, the UA
may not even know whether it is behind a NAT or not - at least not
before it has sent some SIP request, after which it may check the Via
etc.

Also, please also remember that one use-case in the draft is
non-registration calls, in which case the register refresh method can't
be used in the first place.

Regards,

Christer
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Sun May 11 23:45:08 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 088EC3A6B76;
	Sun, 11 May 2008 23:45:07 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id D9E003A6A2E
	for <sip@core3.amsl.com>; Sun, 11 May 2008 23:44:51 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.559
X-Spam-Level: 
X-Spam-Status: No, score=-2.559 tagged_above=-999 required=5 tests=[AWL=0.040, 
	BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id CK1FN8VXg2t0 for <sip@core3.amsl.com>;
	Sun, 11 May 2008 23:44:49 -0700 (PDT)
Received: from tutpro.com (lohi.tutpro.com [192.98.100.2])
	by core3.amsl.com (Postfix) with ESMTP id 728433A6A51
	for <sip@ietf.org>; Sun, 11 May 2008 23:44:48 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by tutpro.com (Postfix) with ESMTP id 7FABF1EC27D;
	Mon, 12 May 2008 09:44:42 +0300 (EEST)
Received: from tutpro.com ([127.0.0.1])
	by localhost (tutpro.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 1C61Syp7-ONo; Mon, 12 May 2008 09:44:27 +0300 (EEST)
Received: from taimen (h145207.gprs.dnafinland.fi [87.93.145.207])
	by tutpro.com (Postfix) with ESMTP;
	Mon, 12 May 2008 09:44:27 +0300 (EEST)
Received: by taimen (Postfix, from userid 1000)
	id 7594EAC06F; Mon, 12 May 2008 09:44:22 +0300 (EEST)
MIME-Version: 1.0
Message-ID: <18471.59206.446430.825890@taimen.test.fi>
Date: Mon, 12 May 2008 09:44:22 +0300
To: "Christer Holmberg" <christer.holmberg@ericsson.com>
In-Reply-To: <CA9998CD4A020D418654FCDEF4E707DF05C0F82E@esealmw113.eemea.ericsson.se>
References: <18465.17834.732392.527310@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C776E@esealmw113.eemea.ericsson.se>
	<18465.32545.345585.820414@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8050F5A@mail.acmepacket.com>
	<18465.55659.177188.471351@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A01DDF@zrc2hxm0.corp.nortel.com>
	<18466.880.342656.104598@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD80514C7@mail.acmepacket.com>
	<48222D54.7020006@iptel.org>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8051669@mail.acmepacket.com>
	<CA9998CD4A020D418654FCDEF4E707DF046C7775@esealmw113.eemea.ericsson.se>
	<18466.42180.621089.330513@taimen.test.fi>
	<4822AB7C.9000108@iptel.org>
	<1ECE0EB50388174790F9694F77522CCF16A5306F@zrc2hxm0.corp.nortel.com>
	<18467.10759.517606.958702@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A5321E@zrc2hxm0.corp.nortel.com>
	<18467.12939.938913.841738@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A53410@zrc2hxm0.corp.nortel.com>
	<18467.16487.171324.508479@t aimen . test.fi> <E
	6C2E8958BA59A4FB960963D475F7AC30BD80C2A8B@mail.acmepacket.com>
	<18467.17492.323683.861768@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF05C0F825@esealmw113.eemea.ericsson.se>
	<18467.64835.889246.384158@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF05C0F827@esealmw113.eemea.ericsson.se>
	<18468.5.693161.719570@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C778B@esealmw113.eemea.ericsson.se>
	<18469.39991.678671.481517@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C7790@esealmw113.eemea.ericsson.se>
	<18470.57128.173863.130568@taimen.test.fi>
	<200805120235.m4C2ZdAH006829@dragon.ariadne.com>
	<18471.55691.947998.606806@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF05C0F82B@esealmw113.eemea.ericsson.se>
	<18471.57948.844095.729012@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF05C0F82E@esealmw113.eemea.ericsson.se>
X-Mailer: VM 7.19 under Emacs 22.1.1
From: jh@tutpro.com (Juha Heinanen)
Cc: sip@ietf.org
Subject: Re: [Sip] draft-ietf-sip-outbound
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Archive: <https://www.ietf.org/mailman/private/sip>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Christer Holmberg writes:

 > My understanding is that it refers to the edge proxies. IF so, that says
 > nothing about which registrar you are going to reach.

that is fine with me, because in the very common case that i outlined,
there are no edge proxies, just two proxy/registrars, for example,
p1.domain.com and p2.domain.com.  the ob proxy set configured in UAs
then is [sip:p1.domain.com, sip:p2.domain.com].  simple implementation
of the common case is possible if ob draft mandates UAs to register via
at least two ob proxies in the set (if more than one is given).

 > So, if you want to register to different registrars Outbound is not
 > going to provide that functionality. You may use separate R-URIs in your
 > REGISTER request, or your home network will take care it.

looks like you didn't read my email where i described the common case.

 > Do you want to be able to 1) register via multiple edge proxies (which
 > Outbound allows you to do), or to 2) register with multiple registrars
 > (which, in my opinion, is outside the scope of Outbound)?

see my common case description.

 > If 1), the following question is: do you want to 3) mandate that one
 > registers via AT LEAST 2 edge proxies, or do you want to 4) mandate that
 > one registers via ALL edge proxies it is aware of?

please read the exact text that i provided and let me know if there is
something unclear in it.  if there is something unclear then, in my
opinion, also the original text has had to be unclear and has to be
fixed before it makes sense to continue this discussion.

-- juha
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Sun May 11 23:49:30 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 8616E28C251;
	Sun, 11 May 2008 23:49:29 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 01A0528C25F
	for <sip@core3.amsl.com>; Sun, 11 May 2008 23:49:20 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.559
X-Spam-Level: 
X-Spam-Status: No, score=-2.559 tagged_above=-999 required=5 tests=[AWL=0.040, 
	BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id olluTA1WMbKf for <sip@core3.amsl.com>;
	Sun, 11 May 2008 23:49:18 -0700 (PDT)
Received: from tutpro.com (lohi.tutpro.com [192.98.100.2])
	by core3.amsl.com (Postfix) with ESMTP id 7C96228C242
	for <sip@ietf.org>; Sun, 11 May 2008 23:49:18 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by tutpro.com (Postfix) with ESMTP id C31BC1EC27D;
	Mon, 12 May 2008 09:49:14 +0300 (EEST)
Received: from tutpro.com ([127.0.0.1])
	by localhost (tutpro.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 7wFWXvOBWKXV; Mon, 12 May 2008 09:49:07 +0300 (EEST)
Received: from taimen (h145207.gprs.dnafinland.fi [87.93.145.207])
	by tutpro.com (Postfix) with ESMTP;
	Mon, 12 May 2008 09:49:07 +0300 (EEST)
Received: by taimen (Postfix, from userid 1000)
	id 18071AC06F; Mon, 12 May 2008 09:49:02 +0300 (EEST)
MIME-Version: 1.0
Message-ID: <18471.59485.916354.48728@taimen.test.fi>
Date: Mon, 12 May 2008 09:49:01 +0300
To: "Christer Holmberg" <christer.holmberg@ericsson.com>
In-Reply-To: <CA9998CD4A020D418654FCDEF4E707DF05C0F82F@esealmw113.eemea.ericsson.se>
References: <18465.17834.732392.527310@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C776E@esealmw113.eemea.ericsson.se>
	<18465.32545.345585.820414@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8050F5A@mail.acmepacket.com>
	<18465.55659.177188.471351@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A01DDF@zrc2hxm0.corp.nortel.com>
	<18466.880.342656.104598@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD80514C7@mail.acmepacket.com>
	<48222D54.7020006@iptel.org>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8051669@mail.acmepacket.com>
	<CA9998CD4A020D418654FCDEF4E707DF046C7775@esealmw113.eemea.ericsson.se>
	<4822AB25.1070200@iptel.org>
	<18466.43946.215481.520633@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C777C@esealmw113.eemea.ericsson.se>
	<1ECE0EB50388174790F9694F77522CCF16A52F5D@zrc2hxm0.corp.nortel.com>
	<18467.8712.540473.285540@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A53030@zrc2hxm0.corp.nortel.com>
	<18467.9957.360558.903163@taimen.test.fi>
	<18467.58809.210185.189951 @taime n.test.fi> <C
	A9998CD4A020D418654FCDEF4E707DF046C778E@esealmw113.eemea.ericsson.se>
	<18469.40230.445844.587399@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD926BA31@mail.acmepacket.com>
	<CA9998CD4A020D418654FCDEF4E707DF046C7793@esealmw113.eemea.ericsson.se>
	<18470.55306.761420.384822@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF05C0F82A@esealmw113.eemea.ericsson.se>
	<18471.57365.379822.326568@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF05C0F82D@esealmw113.eemea.ericsson.se>
	<18471.58068.662832.833609@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF05C0F82F@esealmw113.eemea.ericsson.se>
X-Mailer: VM 7.19 under Emacs 22.1.1
From: jh@tutpro.com (Juha Heinanen)
Cc: sip@ietf.org, Francois Audet <audet@nortel.com>,
	Dean Willis <dean.willis@softarmor.com>
Subject: Re: [Sip] Draft: draft-holmberg-sip-keep-00.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Archive: <https://www.ietf.org/mailman/private/sip>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Christer Holmberg writes:

 > That is not specified anywhere, and that is not general behavior. The
 > registration interval offered by the UA may be something which has been
 > provided by the operator/service provider/internet provider. And, the UA
 > may not even know whether it is behind a NAT or not - at least not
 > before it has sent some SIP request, after which it may check the Via
 > etc.

i have not followed, but isn't there a protocol called stun that an ua
should use to figure out it is behind nat or not?

-- juha
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Mon May 12 02:00:35 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 04B5C3A68E1;
	Mon, 12 May 2008 02:00:35 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id EFECA3A6879
	for <sip@core3.amsl.com>; Mon, 12 May 2008 02:00:25 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -6.153
X-Spam-Level: 
X-Spam-Status: No, score=-6.153 tagged_above=-999 required=5 tests=[AWL=0.096, 
	BAYES_00=-2.599, HELO_EQ_SE=0.35, RCVD_IN_DNSWL_MED=-4]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id OFKqSZ811tj3 for <sip@core3.amsl.com>;
	Mon, 12 May 2008 02:00:23 -0700 (PDT)
Received: from mailgw3.ericsson.se (mailgw3.ericsson.se [193.180.251.60])
	by core3.amsl.com (Postfix) with ESMTP id 65AA93A682B
	for <sip@ietf.org>; Mon, 12 May 2008 02:00:17 -0700 (PDT)
Received: from mailgw3.ericsson.se (unknown [127.0.0.1])
	by mailgw3.ericsson.se (Symantec Mail Security) with ESMTP id
	2722320679; Mon, 12 May 2008 09:02:14 +0200 (CEST)
X-AuditID: c1b4fb3c-aa894bb00000193b-ed-4827eb76a90f
Received: from esealmw126.eemea.ericsson.se (unknown [153.88.254.123])
	by mailgw3.ericsson.se (Symantec Mail Security) with ESMTP id
	085C520558; Mon, 12 May 2008 09:02:14 +0200 (CEST)
Received: from esealmw113.eemea.ericsson.se ([153.88.200.4]) by
	esealmw126.eemea.ericsson.se with Microsoft SMTPSVC(6.0.3790.1830); 
	Mon, 12 May 2008 09:02:13 +0200
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Mon, 12 May 2008 09:02:12 +0200
Message-ID: <CA9998CD4A020D418654FCDEF4E707DF05C0F834@esealmw113.eemea.ericsson.se>
In-Reply-To: <18471.59206.446430.825890@taimen.test.fi>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] draft-ietf-sip-outbound
thread-index: Aciz+6kZQUzM83msQqS+2idlm2/T4AAAkHSw
References: <18465.17834.732392.527310@taimen.test.fi><CA9998CD4A020D418654FCDEF4E707DF046C776E@esealmw113.eemea.ericsson.se><18465.32545.345585.820414@taimen.test.fi><E6C2E8958BA59A4FB960963D475F7AC30BD8050F5A@mail.acmepacket.com><18465.55659.177188.471351@taimen.test.fi><1ECE0EB50388174790F9694F77522CCF16A01DDF@zrc2hxm0.corp.nortel.com><18466.880.342656.104598@taimen.test.fi><E6C2E8958BA59A4FB960963D475F7AC30BD80514C7@mail.acmepacket.com><48222D54.7020006@iptel.org><E6C2E8958BA59A4FB960963D475F7AC30BD8051669@mail.acmepacket.com><CA9998CD4A020D418654FCDEF4E707DF046C7775@esealmw113.eemea.ericsson.se><18466.42180.621089.330513@taimen.test.fi><4822AB7C.9000108@iptel.org><1ECE0EB50388174790F9694F77522CCF16A5306F@zrc2hxm0.corp.nortel.com><18467.10759.517606.958702@taimen.test.fi><1ECE0EB50388174790F9694F77522CCF16A5321E@zrc2hxm0.corp.nortel.com><18467.12939.938913.841738@taimen.test.fi><1ECE0EB50388174790F9694F77522CCF16A53410@zrc2hxm0.corp.nortel.com><18467.16487.171324.508479@t
	aimen . test.fi><E
	6C2E8958BA59A4FB960963D475F7AC30BD80C2A8B@mail.acmepacket.com><18467.17492.323683.861768@taimen.test.fi><CA9998CD4A020D418654FCDEF4E707DF05C0F825@esealmw113.eemea.ericsson.se><18467.64835.889246.384158@taimen.test.fi><CA9998CD4A020D418654FCDEF4E707DF05C0F827@esealmw113.eemea.ericsson.se><18468.5.693161.719570@taimen.test.fi><CA9998CD4A020D418654FCDEF4E707DF046C778B@esealmw113.eemea.ericsson.se><18469.39991.678671.481517@taimen.test.fi><CA9998CD4A020D418654FCDEF4E707DF046C7790@esealmw113.eemea.ericsson.se><18470.57128.173863.130568@taimen.test.fi><200805120235.m4C2ZdAH006829@dragon.ariadne.com><18471.55691.947998.606806@taimen.test.fi><CA9998CD4A020D418654FCDEF4E707DF05C0F82B@esealmw113.eemea.ericsson.se><18471.57948.844095.729012@taimen.test.fi><CA9998CD4A020D418654FCDEF4E707DF05C0F82E@esealmw113.eemea.ericsson.se>
	<18471.59206.446430.825890@taimen.test.fi>
From: "Christer Holmberg" <christer.holmberg@ericsson.com>
To: "Juha Heinanen" <jh@tutpro.com>
X-OriginalArrivalTime: 12 May 2008 07:02:13.0548 (UTC)
	FILETIME=[1AF666C0:01C8B3FE]
X-Brightmail-Tracker: AAAAAA==
Cc: sip@ietf.org
Subject: Re: [Sip] draft-ietf-sip-outbound
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Archive: <https://www.ietf.org/mailman/private/sip>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


Juha, maybe the original text IS unclear. But, instead of trying to
figure out what the text means I try to figure out what you want :)

Ok, maybe I've missed/missunderstood your earlier description of what
you want. I will have to take a second look.

Regards,

Christer

 

-----Original Message-----
From: Juha Heinanen [mailto:jh@tutpro.com] 
Sent: 12. toukokuuta 2008 9:44
To: Christer Holmberg
Cc: sip@ietf.org
Subject: RE: [Sip] draft-ietf-sip-outbound

Christer Holmberg writes:

 > My understanding is that it refers to the edge proxies. IF so, that
says  > nothing about which registrar you are going to reach.

that is fine with me, because in the very common case that i outlined,
there are no edge proxies, just two proxy/registrars, for example,
p1.domain.com and p2.domain.com.  the ob proxy set configured in UAs
then is [sip:p1.domain.com, sip:p2.domain.com].  simple implementation
of the common case is possible if ob draft mandates UAs to register via
at least two ob proxies in the set (if more than one is given).

 > So, if you want to register to different registrars Outbound is not
> going to provide that functionality. You may use separate R-URIs in
your  > REGISTER request, or your home network will take care it.

looks like you didn't read my email where i described the common case.

 > Do you want to be able to 1) register via multiple edge proxies
(which  > Outbound allows you to do), or to 2) register with multiple
registrars  > (which, in my opinion, is outside the scope of Outbound)?

see my common case description.

 > If 1), the following question is: do you want to 3) mandate that one
> registers via AT LEAST 2 edge proxies, or do you want to 4) mandate
that  > one registers via ALL edge proxies it is aware of?

please read the exact text that i provided and let me know if there is
something unclear in it.  if there is something unclear then, in my
opinion, also the original text has had to be unclear and has to be
fixed before it makes sense to continue this discussion.

-- juha
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Mon May 12 02:03:41 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id C59103A67AA;
	Mon, 12 May 2008 02:03:41 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 255C83A67AA
	for <sip@core3.amsl.com>; Mon, 12 May 2008 02:03:40 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.599
X-Spam-Level: 
X-Spam-Status: No, score=-2.599 tagged_above=-999 required=5
	tests=[BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 9bH9x89V2cIJ for <sip@core3.amsl.com>;
	Mon, 12 May 2008 02:03:39 -0700 (PDT)
Received: from nylon.softarmor.com (nylon.softarmor.com [66.135.38.164])
	by core3.amsl.com (Postfix) with ESMTP id B89193A6782
	for <sip@ietf.org>; Mon, 12 May 2008 02:03:38 -0700 (PDT)
Received: from [192.168.2.103] (cpe-76-185-142-113.tx.res.rr.com
	[76.185.142.113]) (authenticated bits=0)
	by nylon.softarmor.com (8.13.8/8.13.8/Debian-3) with ESMTP id
	m4C6vLoQ029339
	(version=TLSv1/SSLv3 cipher=AES128-SHA bits=128 verify=NOT);
	Mon, 12 May 2008 01:57:22 -0500
Message-Id: <1FDBBD2E-1441-4535-BE1D-966B6CF5604F@softarmor.com>
From: Dean Willis <dean.willis@softarmor.com>
To: jh@tutpro.com (Juha Heinanen)
In-Reply-To: <18471.57365.379822.326568@taimen.test.fi>
Mime-Version: 1.0 (Apple Message framework v919.2)
Date: Mon, 12 May 2008 01:57:15 -0500
References: <18465.17834.732392.527310@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C776E@esealmw113.eemea.ericsson.se>
	<18465.32545.345585.820414@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8050F5A@mail.acmepacket.com>
	<18465.55659.177188.471351@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A01DDF@zrc2hxm0.corp.nortel.com>
	<18466.880.342656.104598@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD80514C7@mail.acmepacket.com>
	<48222D54.7020006@iptel.org>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8051669@mail.acmepacket.com>
	<CA9998CD4A020D418654FCDEF4E707DF046C7775@esealmw113.eemea.ericsson.se>
	<4822AB25.1070200@iptel.org>
	<18466.43946.215481.520633@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C777C@esealmw113.eemea.ericsson.se>
	<1ECE0EB50388174790F9694F77522CCF16A52F5D@zrc2hxm0.corp.nortel.com>
	<18467.8712.540473.285540@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A53030@zrc2hxm0.corp.nortel.com>
	<18467.9957.360558.903163@taimen.test.fi> <18467.!
	58809.210185.189951 @taimen. test.fi> <CA9
	998CD4A020D418654FCDEF4E707DF046C778E@esealmw113.eemea.ericsson.se>
	<18469.40230.445844.587399@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD926BA31@mail.acmepacket.com>
	<CA9998CD4A020D418654FCDEF4E707DF046C7793@esealmw113.eemea.ericsson.se>
	<18470.55306.761420.384822@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF05C0F82A@esealmw113.eemea.ericsson.se>
	<18471.57365.379822.326568@taimen.test.fi>
X-Mailer: Apple Mail (2.919.2)
Cc: sip@ietf.org, Francois Audet <audet@nortel.com>,
	Christer Holmberg <christer.holmberg@ericsson.com>
Subject: Re: [Sip] Draft: draft-holmberg-sip-keep-00.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Archive: <https://www.ietf.org/mailman/private/sip>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


On May 12, 2008, at 1:13 AM, Juha Heinanen wrote:

> Christer Holmberg writes:
>
>> That still doesn't indicate to the edge proxy that the UA supports  
>> the
>> keep-alives.
>
> why does the edge proxy need to know that a TCP UA supports  
> keepalives?
> openser does not keep track of that and everything works fine.

The edge proxy and registrar might collude to set a short registration  
interval if they don't know the UA supports keepalives and they know  
the UA is one the wrong side of a NAT.

--
Dean
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Mon May 12 02:31:17 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 0FCC628C253;
	Mon, 12 May 2008 02:31:17 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 0116128C254
	for <sip@core3.amsl.com>; Mon, 12 May 2008 02:31:15 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -6.156
X-Spam-Level: 
X-Spam-Status: No, score=-6.156 tagged_above=-999 required=5 tests=[AWL=0.093, 
	BAYES_00=-2.599, HELO_EQ_SE=0.35, RCVD_IN_DNSWL_MED=-4]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id yPSNTAsMD+Vp for <sip@core3.amsl.com>;
	Mon, 12 May 2008 02:31:14 -0700 (PDT)
Received: from mailgw3.ericsson.se (mailgw3.ericsson.se [193.180.251.60])
	by core3.amsl.com (Postfix) with ESMTP id 595B528C253
	for <sip@ietf.org>; Mon, 12 May 2008 02:31:13 -0700 (PDT)
Received: from mailgw3.ericsson.se (unknown [127.0.0.1])
	by mailgw3.ericsson.se (Symantec Mail Security) with ESMTP id
	403FD20695; Mon, 12 May 2008 09:16:17 +0200 (CEST)
X-AuditID: c1b4fb3c-ab896bb00000193b-5f-4827eec10848
Received: from esealmw128.eemea.ericsson.se (unknown [153.88.254.121])
	by mailgw3.ericsson.se (Symantec Mail Security) with ESMTP id
	0722720612; Mon, 12 May 2008 09:16:17 +0200 (CEST)
Received: from esealmw113.eemea.ericsson.se ([153.88.200.4]) by
	esealmw128.eemea.ericsson.se with Microsoft SMTPSVC(6.0.3790.1830); 
	Mon, 12 May 2008 09:16:16 +0200
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Mon, 12 May 2008 09:16:15 +0200
Message-ID: <CA9998CD4A020D418654FCDEF4E707DF05C0F836@esealmw113.eemea.ericsson.se>
In-Reply-To: <18471.60909.324483.578651@taimen.test.fi>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] Draft: draft-holmberg-sip-keep-00.txt
thread-index: Aciz/50vSw6iJkIyTyOHI/sXirkw2AAACHUw
References: <18465.17834.732392.527310@taimen.test.fi><CA9998CD4A020D418654FCDEF4E707DF046C776E@esealmw113.eemea.ericsson.se><18465.32545.345585.820414@taimen.test.fi><E6C2E8958BA59A4FB960963D475F7AC30BD8050F5A@mail.acmepacket.com><18465.55659.177188.471351@taimen.test.fi><1ECE0EB50388174790F9694F77522CCF16A01DDF@zrc2hxm0.corp.nortel.com><18466.880.342656.104598@taimen.test.fi><E6C2E8958BA59A4FB960963D475F7AC30BD80514C7@mail.acmepacket.com><48222D54.7020006@iptel.org><E6C2E8958BA59A4FB960963D475F7AC30BD8051669@mail.acmepacket.com><CA9998CD4A020D418654FCDEF4E707DF046C7775@esealmw113.eemea.ericsson.se><4822AB25.1070200@iptel.org><18466.43946.215481.520633@taimen.test.fi><CA9998CD4A020D418654FCDEF4E707DF046C777C@esealmw113.eemea.ericsson.se><1ECE0EB50388174790F9694F77522CCF16A52F5D@zrc2hxm0.corp.nortel.com><18467.8712.540473.285540@taimen.test.fi><1ECE0EB50388174790F9694F77522CCF16A53030@zrc2hxm0.corp.nortel.com><18467.9957.360558.903163@taimen.test.fi><18467.!
	58809.210185.1899 51 @taim en. test.fi> <CA9
	998CD4A020D418654FCDEF4E707DF046C778E@esealmw113.eemea.ericsson.se><18469.40230.445844.587399@taimen.test.fi><E6C2E8958BA59A4FB960963D475F7AC30BD926BA31@mail.acmepacket.com><CA9998CD4A020D418654FCDEF4E707DF046C7793@esealmw113.eemea.ericsson.se><18470.55306.761420.384822@taimen.test.fi><CA9998CD4A020D418654FCDEF4E707DF05C0F82A@esealmw113.eemea.ericsson.se><18471.57365.379822.326568@taimen.test.fi><1FDBBD2E-1441-4535-BE1D-966B6CF5604F@softarmor.com>
	<18471.60909.324483.578651@taimen.test.fi>
From: "Christer Holmberg" <christer.holmberg@ericsson.com>
To: "Juha Heinanen" <jh@tutpro.com>, "Dean Willis" <dean.willis@softarmor.com>
X-OriginalArrivalTime: 12 May 2008 07:16:16.0792 (UTC)
	FILETIME=[11933980:01C8B400]
X-Brightmail-Tracker: AAAAAA==
Cc: sip@ietf.org, Francois Audet <audet@nortel.com>
Subject: Re: [Sip] Draft: draft-holmberg-sip-keep-00.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Archive: <https://www.ietf.org/mailman/private/sip>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

 
Hi,


>>The edge proxy and registrar might collude to set a short registration
interval if they don't know the UA supports keepalives and they know the
UA is one the wrong side of a NAT.
> 
>this has been discussed at least three times already.  in my opinion,
it is UAs responsibility to choose a short reg int if it behind nat and
does not support CRLF keepalives.
>
>one more think.  if there is an edge proxy between UA and registrar,
isn't it the edge proxy that processes the keep param and not the
registrar?

Yes. The draft does talk about the edge proxy.

Regards,

Christer
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Mon May 12 02:35:42 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 11EC73A68D1;
	Mon, 12 May 2008 02:35:42 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id D731128C24D
	for <sip@core3.amsl.com>; Mon, 12 May 2008 02:35:39 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -6.159
X-Spam-Level: 
X-Spam-Status: No, score=-6.159 tagged_above=-999 required=5 tests=[AWL=0.090, 
	BAYES_00=-2.599, HELO_EQ_SE=0.35, RCVD_IN_DNSWL_MED=-4]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 0avtfAPliBt6 for <sip@core3.amsl.com>;
	Mon, 12 May 2008 02:35:39 -0700 (PDT)
Received: from mailgw4.ericsson.se (mailgw4.ericsson.se [193.180.251.62])
	by core3.amsl.com (Postfix) with ESMTP id ECBC028C268
	for <sip@ietf.org>; Mon, 12 May 2008 02:31:45 -0700 (PDT)
Received: from mailgw4.ericsson.se (unknown [127.0.0.1])
	by mailgw4.ericsson.se (Symantec Mail Security) with ESMTP id
	92D5220681; Mon, 12 May 2008 08:59:57 +0200 (CEST)
X-AuditID: c1b4fb3e-ad997bb000004ec0-dd-4827eaedd08e
Received: from esealmw128.eemea.ericsson.se (unknown [153.88.254.121])
	by mailgw4.ericsson.se (Symantec Mail Security) with ESMTP id
	709D82065B; Mon, 12 May 2008 08:59:57 +0200 (CEST)
Received: from esealmw113.eemea.ericsson.se ([153.88.200.4]) by
	esealmw128.eemea.ericsson.se with Microsoft SMTPSVC(6.0.3790.1830); 
	Mon, 12 May 2008 08:59:57 +0200
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Mon, 12 May 2008 08:59:56 +0200
Message-ID: <CA9998CD4A020D418654FCDEF4E707DF05C0F833@esealmw113.eemea.ericsson.se>
In-Reply-To: <18471.59485.916354.48728@taimen.test.fi>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] Draft: draft-holmberg-sip-keep-00.txt
thread-index: Aciz/EsvJocGLUO0SmKIV8z/PFqSTwAAQGfQ
References: <18465.17834.732392.527310@taimen.test.fi><CA9998CD4A020D418654FCDEF4E707DF046C776E@esealmw113.eemea.ericsson.se><18465.32545.345585.820414@taimen.test.fi><E6C2E8958BA59A4FB960963D475F7AC30BD8050F5A@mail.acmepacket.com><18465.55659.177188.471351@taimen.test.fi><1ECE0EB50388174790F9694F77522CCF16A01DDF@zrc2hxm0.corp.nortel.com><18466.880.342656.104598@taimen.test.fi><E6C2E8958BA59A4FB960963D475F7AC30BD80514C7@mail.acmepacket.com><48222D54.7020006@iptel.org><E6C2E8958BA59A4FB960963D475F7AC30BD8051669@mail.acmepacket.com><CA9998CD4A020D418654FCDEF4E707DF046C7775@esealmw113.eemea.ericsson.se><4822AB25.1070200@iptel.org><18466.43946.215481.520633@taimen.test.fi><CA9998CD4A020D418654FCDEF4E707DF046C777C@esealmw113.eemea.ericsson.se><1ECE0EB50388174790F9694F77522CCF16A52F5D@zrc2hxm0.corp.nortel.com><18467.8712.540473.285540@taimen.test.fi><1ECE0EB50388174790F9694F77522CCF16A53030@zrc2hxm0.corp.nortel.com><18467.9957.360558.903163@taimen.test.fi><18467.58809.210185.189951
	@taim en.test.fi><
	CA9998CD4A020D418654FCDEF4E707DF046C778E@esealmw113.eemea.ericsson.se><18469.40230.445844.587399@taimen.test.fi><E6C2E8958BA59A4FB960963D475F7AC30BD926BA31@mail.acmepacket.com><CA9998CD4A020D418654FCDEF4E707DF046C7793@esealmw113.eemea.ericsson.se><18470.55306.761420.384822@taimen.test.fi><CA9998CD4A020D418654FCDEF4E707DF05C0F82A@esealmw113.eemea.ericsson.se><18471.57365.379822.326568@taimen.test.fi><CA9998CD4A020D418654FCDEF4E707DF05C0F82D@esealmw113.eemea.ericsson.se><18471.58068.662832.833609@taimen.test.fi><CA9998CD4A020D418654FCDEF4E707DF05C0F82F@esealmw113.eemea.ericsson.se>
	<18471.59485.916354.48728@taimen.test.fi>
From: "Christer Holmberg" <christer.holmberg@ericsson.com>
To: "Juha Heinanen" <jh@tutpro.com>
X-OriginalArrivalTime: 12 May 2008 06:59:57.0242 (UTC)
	FILETIME=[C9B7C1A0:01C8B3FD]
X-Brightmail-Tracker: AAAAAA==
Cc: sip@ietf.org, Francois Audet <audet@nortel.com>,
	Dean Willis <dean.willis@softarmor.com>
Subject: Re: [Sip] Draft: draft-holmberg-sip-keep-00.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Archive: <https://www.ietf.org/mailman/private/sip>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

 

>>That is not specified anywhere, and that is not general behavior. The
registration interval offered by the UA may be something which has been
provided by the operator/service 
>>provider/internet provider. And, the UA may not even know whether it
is behind a NAT or not - at least not before it has sent some SIP
request, after which it may check the Via etc.
>
>i have not followed, but isn't there a protocol called stun that an ua
should use to figure out it is behind nat or not?

Sure, if the UA knows that the edge proxy supports STUN (I think we have
also said that one should not send STUN requests to entities without
knowing whether they support it or not), or the UA is aware of other
STUN servers.

Regards,

Christer

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Mon May 12 04:22:47 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 180693A6827;
	Mon, 12 May 2008 04:22:47 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id D86153A6827
	for <sip@core3.amsl.com>; Mon, 12 May 2008 04:22:44 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.56
X-Spam-Level: 
X-Spam-Status: No, score=-2.56 tagged_above=-999 required=5 tests=[AWL=0.039, 
	BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id U2K3un9I+O+t for <sip@core3.amsl.com>;
	Mon, 12 May 2008 04:22:44 -0700 (PDT)
Received: from tutpro.com (sip.tutpro.com [192.98.100.10])
	by core3.amsl.com (Postfix) with ESMTP id BFA073A67AC
	for <sip@ietf.org>; Mon, 12 May 2008 04:22:43 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by tutpro.com (Postfix) with ESMTP id 854021EC27D;
	Mon, 12 May 2008 10:12:58 +0300 (EEST)
Received: from tutpro.com ([127.0.0.1])
	by localhost (tutpro.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id qG6zxPagoH87; Mon, 12 May 2008 10:12:51 +0300 (EEST)
Received: from taimen (h145207.gprs.dnafinland.fi [87.93.145.207])
	by tutpro.com (Postfix) with ESMTP;
	Mon, 12 May 2008 10:12:51 +0300 (EEST)
Received: by taimen (Postfix, from userid 1000)
	id C4D0FAC06F; Mon, 12 May 2008 10:12:45 +0300 (EEST)
MIME-Version: 1.0
Message-ID: <18471.60909.324483.578651@taimen.test.fi>
Date: Mon, 12 May 2008 10:12:45 +0300
To: Dean Willis <dean.willis@softarmor.com>
In-Reply-To: <1FDBBD2E-1441-4535-BE1D-966B6CF5604F@softarmor.com>
References: <18465.17834.732392.527310@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C776E@esealmw113.eemea.ericsson.se>
	<18465.32545.345585.820414@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8050F5A@mail.acmepacket.com>
	<18465.55659.177188.471351@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A01DDF@zrc2hxm0.corp.nortel.com>
	<18466.880.342656.104598@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD80514C7@mail.acmepacket.com>
	<48222D54.7020006@iptel.org>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8051669@mail.acmepacket.com>
	<CA9998CD4A020D418654FCDEF4E707DF046C7775@esealmw113.eemea.ericsson.se>
	<4822AB25.1070200@iptel.org>
	<18466.43946.215481.520633@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C777C@esealmw113.eemea.ericsson.se>
	<1ECE0EB50388174790F9694F77522CCF16A52F5D@zrc2hxm0.corp.nortel.com>
	<18467.8712.540473.285540@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A53030@zrc2hxm0.corp.nortel.com>
	<18467.9957.360558.903163@taimen.test.fi> <18467.!
	58809.210185.189951 @taimen. test.fi> <CA9
	998CD4A020D418654FCDEF4E707DF046C778E@esealmw113.eemea.ericsson.se>
	<18469.40230.445844.587399@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD926BA31@mail.acmepacket.com>
	<CA9998CD4A020D418654FCDEF4E707DF046C7793@esealmw113.eemea.ericsson.se>
	<18470.55306.761420.384822@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF05C0F82A@esealmw113.eemea.ericsson.se>
	<18471.57365.379822.326568@taimen.test.fi>
	<1FDBBD2E-1441-4535-BE1D-966B6CF5604F@softarmor.com>
X-Mailer: VM 7.19 under Emacs 22.1.1
From: jh@tutpro.com (Juha Heinanen)
Cc: sip@ietf.org, Francois Audet <audet@nortel.com>,
	Christer Holmberg <christer.holmberg@ericsson.com>
Subject: Re: [Sip] Draft: draft-holmberg-sip-keep-00.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Archive: <https://www.ietf.org/mailman/private/sip>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Dean Willis writes:

 > The edge proxy and registrar might collude to set a short registration  
 > interval if they don't know the UA supports keepalives and they know  
 > the UA is one the wrong side of a NAT.
 
this has been discussed at least three times already.  in my opinion, it
is UAs responsibility to choose a short reg int if it behind nat and
does not support CRLF keepalives.

one more think.  if there is an edge proxy between UA and registrar,
isn't it the edge proxy that processes the keep param and not the
registrar?

-- juha
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Mon May 12 04:37:06 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 8DC333A6910;
	Mon, 12 May 2008 04:37:06 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 9B4393A6906
	for <sip@core3.amsl.com>; Mon, 12 May 2008 04:37:04 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.566
X-Spam-Level: 
X-Spam-Status: No, score=-2.566 tagged_above=-999 required=5 tests=[AWL=0.033, 
	BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id E54v8miVBk3T for <sip@core3.amsl.com>;
	Mon, 12 May 2008 04:37:03 -0700 (PDT)
Received: from mail.iptel.org (smtp.iptel.org [213.192.59.67])
	by core3.amsl.com (Postfix) with ESMTP id AB89E3A6910
	for <sip@ietf.org>; Mon, 12 May 2008 04:37:03 -0700 (PDT)
Received: from jiri-kuthans-macbook-pro-6.local (shell.iptel.org
	[213.192.59.74])
	by mail.iptel.org (Postfix) with ESMTP id 890F318111F4;
	Mon, 12 May 2008 13:36:58 +0200 (CEST)
Message-ID: <48282C0B.8090105@iptel.org>
Date: Mon, 12 May 2008 13:37:47 +0200
From: Jiri Kuthan <jiri@iptel.org>
User-Agent: Thunderbird 2.0.0.14 (Macintosh/20080421)
MIME-Version: 1.0
To: Dean Willis <dean.willis@softarmor.com>
References: <18465.17834.732392.527310@taimen.test.fi>	<CA9998CD4A020D418654FCDEF4E707DF046C776E@esealmw113.eemea.ericsson.se>	<18465.32545.345585.820414@taimen.test.fi>	<E6C2E8958BA59A4FB960963D475F7AC30BD8050F5A@mail.acmepacket.com>	<18465.55659.177188.471351@taimen.test.fi>	<1ECE0EB50388174790F9694F77522CCF16A01DDF@zrc2hxm0.corp.nortel.com>	<18466.880.342656.104598@taimen.test.fi>	<E6C2E8958BA59A4FB960963D475F7AC30BD80514C7@mail.acmepacket.com>	<48222D54.7020006@iptel.org>	<E6C2E8958BA59A4FB960963D475F7AC30BD8051669@mail.acmepacket.com>	<CA9998CD4A020D418654FCDEF4E707DF046C7775@esealmw113.eemea.ericsson.se>
	<18466.42180.621089.330513@taimen.test.fi>
	<4822AB7C.9000108@iptel.org>
	<8DB0CA8D-9AF4-468C-8C73-F74C466D5223@softarmor.com>
In-Reply-To: <8DB0CA8D-9AF4-468C-8C73-F74C466D5223@softarmor.com>
Cc: sip@ietf.org, Francois Audet <audet@nortel.com>,
	Christer Holmberg <christer.holmberg@ericsson.com>
Subject: Re: [Sip] Draft: draft-holmberg-sip-keep-00.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Archive: <https://www.ietf.org/mailman/private/sip>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Dean Willis wrote:
> 
> On May 8, 2008, at 2:27 AM, Jiri Kuthan wrote:
> 
>> Juha Heinanen wrote:
>>> Christer Holmberg writes:
>>>
>>>> I agree with Hadriel. The idea is to let the client do it, so that
>>>> the proxy doesn't need to handle it, e.g. by providing short
>>>> registration refresh timers etc in order to make sure the NAT
>>>> bindings stay open.
>>>
>>> christer,
>>>
>>> could you then, please, restrict the scope of your draft to udp
>>> connected UAs, because if they are tcp connected, clients can keep
>>> their nat binding open by simply sending double CRLFs.  if they get back
>>> single CRLF, then fine, but if they don't, it is fine too.
>>
>> True, I didn't realize that, with TCP we don't even need the reverse 
>> CRLF.
> 
> Well, without the reverse CRLF, you may not notice for 20 minutes that 
> your connection is down. The TCP stack will take a while to timeout from 
> SYN.

Well, that's compelling enough indeed to have CRLF back and forth.

-jiri


> 
> -- 
> Dean
> 
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Mon May 12 06:21:19 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 3BF3228C0EF;
	Mon, 12 May 2008 06:21:19 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 4BB7C28C0EF
	for <sip@core3.amsl.com>; Mon, 12 May 2008 06:21:17 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.576
X-Spam-Level: 
X-Spam-Status: No, score=-2.576 tagged_above=-999 required=5 tests=[AWL=0.023, 
	BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 234TW1HeeG74 for <sip@core3.amsl.com>;
	Mon, 12 May 2008 06:21:15 -0700 (PDT)
Received: from mailgate.siemenscomms.co.uk (mailgate.siemenscomms.co.uk
	[195.171.110.225])
	by core3.amsl.com (Postfix) with ESMTP id 525413A6863
	for <sip@ietf.org>; Mon, 12 May 2008 06:21:14 -0700 (PDT)
Received: from GBNTHT12009MSX.gb002.siemens.net ([137.223.219.235])
	by siemenscomms.co.uk (PMDF V6.3-x14 #31430)
	with ESMTP id <0K0R0082QBQPTF@siemenscomms.co.uk> for sip@ietf.org; Mon,
	12 May 2008 14:20:49 +0100 (BST)
Date: Mon, 12 May 2008 14:20:50 +0100
From: "Elwell, John" <john.elwell@siemens.com>
In-reply-to: A
	<CA9998CD4A020D418654FCDEF4E707DF05C0F834@esealmw113.eemea.ericsson.se>
To: Christer Holmberg <christer.holmberg@ericsson.com>,
	Juha Heinanen <jh@tutpro.com>
Message-id: <0D5F89FAC29E2C41B98A6A762007F5D0B83E6B@GBNTHT12009MSX.gb002.siemens.net>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft Exchange V6.5
Thread-Topic: [Sip] draft-ietf-sip-outbound
Thread-Index: Aciz+6kZQUzM83msQqS+2idlm2/T4AAAkHSwAAzwF+A=
Content-class: urn:content-classes:message
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
References: <18465.17834.732392.527310@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C776E@esealmw113.eemea.ericsson.se>
	<18465.32545.345585.820414@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8050F5A@mail.acmepacket.com>
	<18465.55659.177188.471351@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A01DDF@zrc2hxm0.corp.nortel.com>
	<18466.880.342656.104598@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD80514C7@mail.acmepacket.com>
	<48222D54.7020006@iptel.org>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8051669@mail.acmepacket.com>
	<CA9998CD4A020D418654FCDEF4E707DF046C7775@esealmw113.eemea.ericsson.se>
	<18466.42180.621089.330513@taimen.test.fi> <4822AB7C.9000108@iptel.org>
	<1ECE0EB50388174790F9694F77522CCF16A5306F@zrc2hxm0.corp.nortel.com>
	<18467.10759.517606.958702@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A5321E@zrc2hxm0.corp.nortel.com>
	<18467.12939.938913.841738@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A53410@zrc2hxm0.corp.nortel.com>
	<"E 6C2E8958BA59A4 FB960963D475 F7AC30BD80C2A8B"@mail.acmepacket.com>
	<18467.17492.323683.861768@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF05C0F825@esealmw113.eemea.ericsson.se>
	<18467.64835.889246.384158@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF05C0F827@esealmw113.eemea.ericsson.se>
	<18468.5.693161.719570@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C778B@esealmw113.eemea.ericsson.se>
	<18469.39991.678671.481517@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C7790@esealmw113.eemea.ericsson.se>
	<18470.57128.173863.130568@taimen.test.fi>
	<200805120235.m4C2ZdAH006829@dragon.ariadne.com>
	<18471.55691.947998.606806@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF05C0F82B@esealmw113.eemea.ericsson.se>
	<18471.57948.844095.729012@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF05C0F82E@esealmw113.eemea.ericsson.se>
	<18471.59206.446430.825890@taimen.test.fi> A
	<CA9998CD4A020D418654FCDEF4E707DF05C0F834@esealmw113.eemea.ericsson.se>
Cc: sip@ietf.org
Subject: Re: [Sip] draft-ietf-sip-outbound
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Archive: <https://www.ietf.org/mailman/private/sip>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Christer,

I think Juha's proposed text is clear - I will comment on it separately.
You and Juha seem to make a habit of talking past each other, both on
this thread and on the sip-keep thread. Perhaps the two of you should
have a phone call to sort things out, rather than continuing to
perpetuate these long threads.

John


> -----Original Message-----
> From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On 
> Behalf Of Christer Holmberg
> Sent: 12 May 2008 08:02
> To: Juha Heinanen
> Cc: sip@ietf.org
> Subject: Re: [Sip] draft-ietf-sip-outbound
> 
> 
> Juha, maybe the original text IS unclear. But, instead of trying to
> figure out what the text means I try to figure out what you want :)
> 
> Ok, maybe I've missed/missunderstood your earlier description of what
> you want. I will have to take a second look.
> 
> Regards,
> 
> Christer
> 
>  
> 
> -----Original Message-----
> From: Juha Heinanen [mailto:jh@tutpro.com] 
> Sent: 12. toukokuuta 2008 9:44
> To: Christer Holmberg
> Cc: sip@ietf.org
> Subject: RE: [Sip] draft-ietf-sip-outbound
> 
> Christer Holmberg writes:
> 
>  > My understanding is that it refers to the edge proxies. IF so, that
> says  > nothing about which registrar you are going to reach.
> 
> that is fine with me, because in the very common case that i outlined,
> there are no edge proxies, just two proxy/registrars, for example,
> p1.domain.com and p2.domain.com.  the ob proxy set configured in UAs
> then is [sip:p1.domain.com, sip:p2.domain.com].  simple implementation
> of the common case is possible if ob draft mandates UAs to 
> register via
> at least two ob proxies in the set (if more than one is given).
> 
>  > So, if you want to register to different registrars Outbound is not
> > going to provide that functionality. You may use separate R-URIs in
> your  > REGISTER request, or your home network will take care it.
> 
> looks like you didn't read my email where i described the common case.
> 
>  > Do you want to be able to 1) register via multiple edge proxies
> (which  > Outbound allows you to do), or to 2) register with multiple
> registrars  > (which, in my opinion, is outside the scope of 
> Outbound)?
> 
> see my common case description.
> 
>  > If 1), the following question is: do you want to 3) 
> mandate that one
> > registers via AT LEAST 2 edge proxies, or do you want to 4) mandate
> that  > one registers via ALL edge proxies it is aware of?
> 
> please read the exact text that i provided and let me know if there is
> something unclear in it.  if there is something unclear then, in my
> opinion, also the original text has had to be unclear and has to be
> fixed before it makes sense to continue this discussion.
> 
> -- juha
> _______________________________________________
> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
> 
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Mon May 12 06:21:32 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 0A8CE28C268;
	Mon, 12 May 2008 06:21:32 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id D0F1028C266
	for <sip@core3.amsl.com>; Mon, 12 May 2008 06:21:29 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.578
X-Spam-Level: 
X-Spam-Status: No, score=-2.578 tagged_above=-999 required=5 tests=[AWL=0.021, 
	BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 4255H7waF6x5 for <sip@core3.amsl.com>;
	Mon, 12 May 2008 06:21:28 -0700 (PDT)
Received: from mailgate.siemenscomms.co.uk (mailgate.siemenscomms.co.uk
	[195.171.110.225])
	by core3.amsl.com (Postfix) with ESMTP id 43FDD28C268
	for <sip@ietf.org>; Mon, 12 May 2008 06:21:28 -0700 (PDT)
Received: from GBNTHT12009MSX.gb002.siemens.net ([137.223.219.235])
	by siemenscomms.co.uk (PMDF V6.3-x14 #31430)
	with ESMTP id <0K0R00902BRM2I@siemenscomms.co.uk> for sip@ietf.org; Mon,
	12 May 2008 14:21:22 +0100 (BST)
Date: Mon, 12 May 2008 14:21:23 +0100
From: "Elwell, John" <john.elwell@siemens.com>
In-reply-to: <18470.57128.173863.130568@taimen.test.fi>
To: Juha Heinanen <jh@tutpro.com>,
	Christer Holmberg <christer.holmberg@ericsson.com>
Message-id: <0D5F89FAC29E2C41B98A6A762007F5D0B83E6C@GBNTHT12009MSX.gb002.siemens.net>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft Exchange V6.5
Thread-Topic: [Sip] draft-ietf-sip-outbound
Thread-Index: AcizXkHRW/HwlzioS7uEJDqzklJjiwA07eRA
Content-class: urn:content-classes:message
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
References: <18465.17834.732392.527310@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C776E@esealmw113.eemea.ericsson.se>
	<18465.32545.345585.820414@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8050F5A@mail.acmepacket.com>
	<18465.55659.177188.471351@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A01DDF@zrc2hxm0.corp.nortel.com>
	<18466.880.342656.104598@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD80514C7@mail.acmepacket.com>
	<48222D54.7020006@iptel.org>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8051669@mail.acmepacket.com>
	<CA9998CD4A020D418654FCDEF4E707DF046C7775@esealmw113.eemea.ericsson.se>
	<18466.42180.621089.330513@taimen.test.fi> <4822AB7C.9000108@iptel.org>
	<1ECE0EB50388174790F9694F77522CCF16A5306F@zrc2hxm0.corp.nortel.com>
	<18467.10759.517606.958702@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A5321E@zrc2hxm0.corp.nortel.com>
	<18467.12939.938913.841738@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A53410@zrc2hxm0.corp.nortel.com>
	<"E6C2E8958BA59A4FB 960963D475F7 AC30BD80C2A8B"@mail.acmepacket.com>
	<18467.17492.323683.861768@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF05C0F825@esealmw113.eemea.ericsson.se>
	<18467.64835.889246.384158@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF05C0F827@esealmw113.eemea.ericsson.se>
	<18468.5.693161.719570@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C778B@esealmw113.eemea.ericsson.se>
	<18469.39991.678671.481517@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C7790@esealmw113.eemea.ericsson.se>
	<18470.57128.173863.130568@taimen.test.fi>
Cc: sip@ietf.org, Francois Audet <audet@nortel.com>, drage@alcatel-lucent.com,
	dean.willis@softarmor.com
Subject: Re: [Sip] draft-ietf-sip-outbound
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Archive: <https://www.ietf.org/mailman/private/sip>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Juha,
 

> -----Original Message-----
> From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On 
> Behalf Of Juha Heinanen
> Sent: 11 May 2008 12:57
> To: Christer Holmberg
> Cc: sip@ietf.org; Francois Audet; drage@alcatel-lucent.com; 
> dean.willis@softarmor.com
> Subject: Re: [Sip] draft-ietf-sip-outbound
> 
> Christer Holmberg writes:
> 
>  > But, that still doesn't mean that the UA has to register with every
>  > edge proxy it is aware of.
> 
> i have been fighting this battle in order to make very simple
> implementation possible of what i consider a COMMON case.  this common
> case is the one where a SINGLE HOST has enough processing 
> power to serve
> as a sip proxy/registrar of the user community, such as a good size
> enterprise or even a small voip provider.
> 
> the only problem with this single host implementation of 
> proxy/registrar
> is lack of redundancy.  this problem could be trivially 
> solved by adding
> a second sip/proxy registrar that could run independently 
> from the first
> if we could assume that each UA would setup flow and register 
> with BOTH
> of these proxy/registrars when configured with an ob proxy set
> consisting of two URIs matching these two proxy/registrars.
> 
> so i would like to propose that ob draft mandates UA to set 
> up flows and
> register with AT LEAST TWO ob proxies if ob proxy set is bigger than
> one.  second paragraph of 4.2.1. Initial Registrations could then go
> like this:
> 
>   For each outbound proxy URI in the set, the UAC SHOULD send a
>   REGISTER request using this URI as the default outbound 
> proxy.  If the
>   set has more than one URI, the UAC MUST send a REGISTER 
> request using at
>   least two of them as the default outbound proxy.
[JRE] Or alternatively, why not mandate that a UA has to be able to be
configured with an outbound proxy set of between 1 and n entries, where
n must not be less than two, and that the UA must be able to register
with each of the outbound proxies in its configured set? I see no
purpose in a UA being able to be configured with 5, say, entries in its
set if it is never going to register with more than 2.

John


> 
> this would make the above described trial implementation of 
> common case
> possible and at the same time would support whatever more complicated
> scenarios and also the simple scenario where there is only 
> one ob proxy
> in the set.
> 
> -- juha
> _______________________________________________
> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
> 
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Mon May 12 06:24:55 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id D9F8D28C265;
	Mon, 12 May 2008 06:24:55 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 22CB628C274
	for <sip@core3.amsl.com>; Mon, 12 May 2008 06:24:53 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.561
X-Spam-Level: 
X-Spam-Status: No, score=-2.561 tagged_above=-999 required=5 tests=[AWL=0.038, 
	BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id goxTxjSYMKkG for <sip@core3.amsl.com>;
	Mon, 12 May 2008 06:24:52 -0700 (PDT)
Received: from tutpro.com (sip.tutpro.com [192.98.100.10])
	by core3.amsl.com (Postfix) with ESMTP id EC19E28C0EF
	for <sip@ietf.org>; Mon, 12 May 2008 06:24:51 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by tutpro.com (Postfix) with ESMTP id 79D901EC2A0;
	Mon, 12 May 2008 16:24:39 +0300 (EEST)
Received: from tutpro.com ([127.0.0.1])
	by localhost (tutpro.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id gX97SpACpCY9; Mon, 12 May 2008 16:24:32 +0300 (EEST)
Received: from taimen (h145207.gprs.dnafinland.fi [87.93.145.207])
	by tutpro.com (Postfix) with ESMTP;
	Mon, 12 May 2008 16:24:32 +0300 (EEST)
Received: by taimen (Postfix, from userid 1000)
	id AEB77AC06F; Mon, 12 May 2008 16:24:18 +0300 (EEST)
MIME-Version: 1.0
Message-ID: <18472.17666.685726.499484@taimen.test.fi>
Date: Mon, 12 May 2008 16:24:18 +0300
To: "Elwell, John" <john.elwell@siemens.com>
In-Reply-To: <0D5F89FAC29E2C41B98A6A762007F5D0B83E6B@GBNTHT12009MSX.gb002.siemens.net>
References: <18465.17834.732392.527310@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C776E@esealmw113.eemea.ericsson.se>
	<18465.32545.345585.820414@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8050F5A@mail.acmepacket.com>
	<18465.55659.177188.471351@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A01DDF@zrc2hxm0.corp.nortel.com>
	<18466.880.342656.104598@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD80514C7@mail.acmepacket.com>
	<48222D54.7020006@iptel.org>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8051669@mail.acmepacket.com>
	<CA9998CD4A020D418654FCDEF4E707DF046C7775@esealmw113.eemea.ericsson.se>
	<18466.42180.621089.330513@taimen.test.fi>
	<4822AB7C.9000108@iptel.org>
	<1ECE0EB50388174790F9694F77522CCF16A5306F@zrc2hxm0.corp.nortel.com>
	<18467.10759.517606.958702@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A5321E@zrc2hxm0.corp.nortel.com>
	<18467.12939.938913.841738@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A53410@zrc2hxm0.corp.nortel.com>
	<"E 6C2E8958BA59A4 FB960963D475 F7AC30BD80C2A8B"@mail.acmepacket.com>
	<18467.17492.323683.861768@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF05C0F825@esealmw113.eemea.ericsson.se>
	<18467.64835.889246.384158@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF05C0F827@esealmw113.eemea.ericsson.se>
	<18468.5.693161.719570@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C778B@esealmw113.eemea.ericsson.se>
	<18469.39991.678671.481517@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C7790@esealmw113.eemea.ericsson.se>
	<18470.57128.173863.130568@taimen.test.fi>
	<200805120235.m4C2ZdAH006829@dragon.ariadne.com>
	<18471.55691.947998.606806@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF05C0F82B@esealmw113.eemea.ericsson.se>
	<18471.57948.844095.729012@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF05C0F82E@esealmw113.eemea.ericsson.se>
	<18471.59206.446430.825890@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF05C0F834@esealmw113.eemea.ericsson.se>
	<0D5F89FAC29E2C41B98A6A762007F5D0B83E6B@GBNTHT12009MSX.gb002.siemens.net>
X-Mailer: VM 7.19 under Emacs 22.1.1
From: jh@tutpro.com (Juha Heinanen)
Cc: sip@ietf.org, Christer Holmberg <christer.holmberg@ericsson.com>
Subject: Re: [Sip] draft-ietf-sip-outbound
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Archive: <https://www.ietf.org/mailman/private/sip>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Elwell, John writes:

 > I think Juha's proposed text is clear - I will comment on it separately.
 > You and Juha seem to make a habit of talking past each other, both on
 > this thread and on the sip-keep thread. Perhaps the two of you should
 > have a phone call to sort things out, rather than continuing to
 > perpetuate these long threads.

i have made my opinions clear and will quick on both threads now.

-- juha
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Mon May 12 10:05:20 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id E3CC23A68DE;
	Mon, 12 May 2008 10:05:19 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id A2DB33A67EE
	for <sip@core3.amsl.com>; Mon, 12 May 2008 10:05:16 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.599
X-Spam-Level: 
X-Spam-Status: No, score=-2.599 tagged_above=-999 required=5 tests=[AWL=0.000, 
	BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id JzZEbl1jSCRK for <sip@core3.amsl.com>;
	Mon, 12 May 2008 10:05:15 -0700 (PDT)
Received: from nylon.softarmor.com (nylon.softarmor.com [66.135.38.164])
	by core3.amsl.com (Postfix) with ESMTP id F282F3A67C1
	for <sip@ietf.org>; Mon, 12 May 2008 10:05:14 -0700 (PDT)
Received: from [192.168.2.103] (cpe-76-185-142-113.tx.res.rr.com
	[76.185.142.113]) (authenticated bits=0)
	by nylon.softarmor.com (8.13.8/8.13.8/Debian-3) with ESMTP id
	m4CH4qbl000380
	(version=TLSv1/SSLv3 cipher=AES128-SHA bits=128 verify=NOT);
	Mon, 12 May 2008 12:04:54 -0500
Message-Id: <DB4EF5A0-4953-438C-B48A-6622483FFD4A@softarmor.com>
From: Dean Willis <dean.willis@softarmor.com>
To: Christer Holmberg <christer.holmberg@ericsson.com>
In-Reply-To: <CA9998CD4A020D418654FCDEF4E707DF05C0F833@esealmw113.eemea.ericsson.se>
Mime-Version: 1.0 (Apple Message framework v919.2)
Date: Mon, 12 May 2008 12:04:41 -0500
References: <18465.17834.732392.527310@taimen.test.fi><CA9998CD4A020D418654FCDEF4E707DF046C776E@esealmw113.eemea.ericsson.se><18465.32545.345585.820414@taimen.test.fi><E6C2E8958BA59A4FB960963D475F7AC30BD8050F5A@mail.acmepacket.com><18465.55659.177188.471351@taimen.test.fi><1ECE0EB50388174790F9694F77522CCF16A01DDF@zrc2hxm0.corp.nortel.com><18466.880.342656.104598@taimen.test.fi><E6C2E8958BA59A4FB960963D475F7AC30BD80514C7@mail.acmepacket.com><48222D54.7020006@iptel.org><E6C2E8958BA59A4FB960963D475F7AC30BD8051669@mail.acmepacket.com><CA9998CD4A020D418654FCDEF4E707DF046C7775@esealmw113.eemea.ericsson.se><4822AB25.1070200@iptel.org><18466.43946.215481.520633@taimen.test.fi><CA9998CD4A020D418654FCDEF4E707DF046C777C@esealmw113.eemea.ericsson.se><1ECE0EB50388174790F9694F77522CCF16A52F5D@zrc2hxm0.corp.nortel.com><18467.8712.540473.285540@taimen.test.fi><1ECE0EB50388174790F9694F77522CCF16A53030@zrc2hxm0.corp.nortel.com><18467.9957.360558.903163@taimen.test.fi><18467.58809.210185.18995!
	1 @taim en.test.fi><
	CA9998CD4A020D418654FCDEF4E707DF046C778E@esealmw113.eemea.ericsson.se><18469.40230.445844.587399@taimen.test.fi><E6C2E8958BA59A4FB960963D475F7AC30BD926BA31@mail.acmepacket.com><CA9998CD4A020D418654FCDEF4E707DF046C7793@esealmw113.eemea.ericsson.se><18470.55306.761420.384822@taimen.test.fi><CA9998CD4A020D418654FCDEF4E707DF05C0F82A@esealmw113.eemea.ericsson.se><18471.57365.379822.326568@taimen.test.fi><CA9998CD4A020D418654FCDEF4E707DF05C0F82D@esealmw113.eemea.ericsson.se><18471.58068.662832.833609@taimen.test.fi><CA9998CD4A020D418654FCDEF4E707DF05C0F82F@esealmw113.eemea.ericsson.se>
	<18471.59485.916354.48728@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF05C0F833@esealmw113.eemea.ericsson.se>
X-Mailer: Apple Mail (2.919.2)
Cc: sip@ietf.org, Francois Audet <audet@nortel.com>
Subject: Re: [Sip] Draft: draft-holmberg-sip-keep-00.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Archive: <https://www.ietf.org/mailman/private/sip>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


On May 12, 2008, at 1:59 AM, Christer Holmberg wrote:

>
>
>>> That is not specified anywhere, and that is not general behavior.  
>>> The
> registration interval offered by the UA may be something which has  
> been
> provided by the operator/service
>>> provider/internet provider. And, the UA may not even know whether it
> is behind a NAT or not - at least not before it has sent some SIP
> request, after which it may check the Via etc.
>>
>> i have not followed, but isn't there a protocol called stun that an  
>> ua
> should use to figure out it is behind nat or not?
>
> Sure, if the UA knows that the edge proxy supports STUN (I think we  
> have
> also said that one should not send STUN requests to entities without
> knowing whether they support it or not), or the UA is aware of other
> STUN servers.

We said one should not send STUN to the SIP port of a device without  
knowing whether it supports it or not. This is to keep from either  
breaking the device or having it blacklist you for sending malformed  
packets.

However, one can STUN the STUN port with less restraint. And that  
would be the usage of STUN we are talking about.

Of course, if we had sense enough to send signaling and media to/from  
the same ports, then media could act as a keepalive for the signaling  
while we're sending it.  But we're bellheads here and think of user-to- 
user traffic as somehow different from user-to-network traffic. That,  
I believe, was our first architectural mistake.

--
Dean
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Mon May 12 10:17:36 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 58A943A68C2;
	Mon, 12 May 2008 10:17:36 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id D5A953A688B
	for <sip@core3.amsl.com>; Mon, 12 May 2008 10:17:34 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.599
X-Spam-Level: 
X-Spam-Status: No, score=-2.599 tagged_above=-999 required=5
	tests=[BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id EX0If+9IFa2l for <sip@core3.amsl.com>;
	Mon, 12 May 2008 10:17:34 -0700 (PDT)
Received: from nylon.softarmor.com (nylon.softarmor.com [66.135.38.164])
	by core3.amsl.com (Postfix) with ESMTP id 097843A68C2
	for <sip@ietf.org>; Mon, 12 May 2008 10:17:33 -0700 (PDT)
Received: from [192.168.2.103] (cpe-76-185-142-113.tx.res.rr.com
	[76.185.142.113]) (authenticated bits=0)
	by nylon.softarmor.com (8.13.8/8.13.8/Debian-3) with ESMTP id
	m4CHGlSB000476
	(version=TLSv1/SSLv3 cipher=AES128-SHA bits=128 verify=NOT);
	Mon, 12 May 2008 12:16:48 -0500
Message-Id: <0C549B59-2980-4116-8C45-C5880A75D635@softarmor.com>
From: Dean Willis <dean.willis@softarmor.com>
To: Juha Heinanen <jh@tutpro.com>
In-Reply-To: <18471.60909.324483.578651@taimen.test.fi>
Mime-Version: 1.0 (Apple Message framework v919.2)
Date: Mon, 12 May 2008 12:16:41 -0500
References: <18465.17834.732392.527310@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C776E@esealmw113.eemea.ericsson.se>
	<18465.32545.345585.820414@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8050F5A@mail.acmepacket.com>
	<18465.55659.177188.471351@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A01DDF@zrc2hxm0.corp.nortel.com>
	<18466.880.342656.104598@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD80514C7@mail.acmepacket.com>
	<48222D54.7020006@iptel.org>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8051669@mail.acmepacket.com>
	<CA9998CD4A020D418654FCDEF4E707DF046C7775@esealmw113.eemea.ericsson.se>
	<4822AB25.1070200@iptel.org>
	<18466.43946.215481.520633@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C777C@esealmw113.eemea.ericsson.se>
	<1ECE0EB50388174790F9694F77522CCF16A52F5D@zrc2hxm0.corp.nortel.com>
	<18467.8712.540473.285540@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A53030@zrc2hxm0.corp.nortel.com>
	<18467.9957.360558.903163@taimen.test.fi> <18467.!
	! 58809.210185.189951 @taimen. test.fi> <CA9
	998CD4A020D418654FCDEF4E707DF046C778E@esealmw113.eemea.ericsson.se>
	<18469.40230.445844.587399@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD926BA31@mail.acmepacket.com>
	<CA9998CD4A020D418654FCDEF4E707DF046C7793@esealmw113.eemea.ericsson.se>
	<18470.55306.761420.384822@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF05C0F82A@esealmw113.eemea.ericsson.se>
	<18471.57365.379822.326568@taimen.test.fi>
	<1FDBBD2E-1441-4535-BE1D-966B6CF5604F@softarmor.com>
	<18471.60909.324483.578651@taimen.test.fi>
X-Mailer: Apple Mail (2.919.2)
Cc: sip@ietf.org, Francois Audet <audet@nortel.com>,
	Christer Holmberg <christer.holmberg@ericsson.com>
Subject: Re: [Sip] Draft: draft-holmberg-sip-keep-00.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Archive: <https://www.ietf.org/mailman/private/sip>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


On May 12, 2008, at 2:12 AM, Juha Heinanen wrote:

> Dean Willis writes:
>
>> The edge proxy and registrar might collude to set a short  
>> registration
>> interval if they don't know the UA supports keepalives and they know
>> the UA is one the wrong side of a NAT.
>
> this has been discussed at least three times already.  in my  
> opinion, it
> is UAs responsibility to choose a short reg int if it behind nat and
> does not support CRLF keepalives.

I respectfully disagree:  the registrar has control of setting the  
registration refresh under the protocol. UAs might send them more  
frequently. And they might get kicked off for generating excessive  
load on the proxy if they do so needlessly, or in other violation of  
the proxy's policy.

> one more think.  if there is an edge proxy between UA and registrar,
> isn't it the edge proxy that processes the keep param and not the
> registrar?

Yes, but nothing keeps the edge proxy from communicating with the  
registrar to help it set up policy.

Note also in the current draft  the registrar sees the "keep=yes" via  
parameter even if the edge proxy doesn't take further action to  
communicate what is happening with keepalive to the registrar.

--
Dean
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Mon May 12 10:19:41 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 3C5DC3A6834;
	Mon, 12 May 2008 10:19:41 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id B478D3A680A
	for <sip@core3.amsl.com>; Mon, 12 May 2008 10:19:38 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -6.599
X-Spam-Level: 
X-Spam-Status: No, score=-6.599 tagged_above=-999 required=5
	tests=[BAYES_00=-2.599, RCVD_IN_DNSWL_MED=-4]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id ZWiZ39x50t3c for <sip@core3.amsl.com>;
	Mon, 12 May 2008 10:19:37 -0700 (PDT)
Received: from exprod6og103.obsmtp.com (exprod6og103.obsmtp.com [64.18.1.185])
	by core3.amsl.com (Postfix) with ESMTP id 073AC3A6834
	for <sip@ietf.org>; Mon, 12 May 2008 10:19:32 -0700 (PDT)
Received: from source ([192.150.8.22]) by exprod6ob103.postini.com
	([64.18.5.12]) with SMTP; Mon, 12 May 2008 10:19:01 PDT
Received: from inner-relay-3.eur.adobe.com (inner-relay-3b [10.128.4.236])
	by outbound-smtp-2.corp.adobe.com (8.12.10/8.12.10) with ESMTP id
	m4CHIxJV017191; Mon, 12 May 2008 10:19:00 -0700 (PDT)
Received: from fe1.corp.adobe.com (fe1.corp.adobe.com [10.8.192.70])
	by inner-relay-3.eur.adobe.com (8.12.10/8.12.9) with ESMTP id
	m4CHIsqJ006226; Mon, 12 May 2008 10:18:55 -0700 (PDT)
Received: from namail5.corp.adobe.com ([10.8.192.88]) by fe1.corp.adobe.com
	with Microsoft SMTPSVC(6.0.3790.1830); 
	Mon, 12 May 2008 10:18:53 -0700
Received: from 10.7.242.91 ([10.7.242.91]) by namail5.corp.adobe.com
	([10.8.192.88]) with Microsoft Exchange Server HTTP-DAV ; 
	Mon, 12 May 2008 17:18:53 +0000
User-Agent: Microsoft-Entourage/12.1.0.080305
Date: Mon, 12 May 2008 10:18:52 -0700
From: Henry Sinnreich <hsinnrei@adobe.com>
To: Dean Willis <dean.willis@softarmor.com>,
	Christer Holmberg <christer.holmberg@ericsson.com>
Message-ID: <C44DCA0C.4569%hsinnrei@adobe.com>
Thread-Topic: [Sip] Draft: draft-holmberg-sip-keep-00.txt
Thread-Index: Aci0VD/CR7zZNC4yoUqBk9QVXFKztA==
In-Reply-To: <DB4EF5A0-4953-438C-B48A-6622483FFD4A@softarmor.com>
Mime-version: 1.0
X-OriginalArrivalTime: 12 May 2008 17:18:53.0717 (UTC)
	FILETIME=[40C82450:01C8B454]
Cc: sip@ietf.org, Francois Audet <audet@nortel.com>
Subject: Re: [Sip] Draft: draft-holmberg-sip-keep-00.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Archive: <https://www.ietf.org/mailman/private/sip>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

> But we're bellheads here and think of user-to-
> user traffic as somehow different from user-to-network traffic. That,
> I believe, was our first architectural mistake.

This is correct. The Internet does not have UNI and NNI but the e2e
principle. Forgetting or ignoring this leads to such intractable issues.

> But we're bellheads here and think of user-to-
> user traffic as somehow different from user-to-network traffic. That,
> I believe, was our first architectural mistake.

How is one supposed to know this?

Henry


On 5/12/08 10:04 AM, "Dean Willis" <dean.willis@softarmor.com> wrote:

> 
> On May 12, 2008, at 1:59 AM, Christer Holmberg wrote:
> 
>> 
>> 
>>>> That is not specified anywhere, and that is not general behavior.
>>>> The
>> registration interval offered by the UA may be something which has
>> been
>> provided by the operator/service
>>>> provider/internet provider. And, the UA may not even know whether it
>> is behind a NAT or not - at least not before it has sent some SIP
>> request, after which it may check the Via etc.
>>> 
>>> i have not followed, but isn't there a protocol called stun that an
>>> ua
>> should use to figure out it is behind nat or not?
>> 
>> Sure, if the UA knows that the edge proxy supports STUN (I think we
>> have
>> also said that one should not send STUN requests to entities without
>> knowing whether they support it or not), or the UA is aware of other
>> STUN servers.
> 
> We said one should not send STUN to the SIP port of a device without
> knowing whether it supports it or not. This is to keep from either
> breaking the device or having it blacklist you for sending malformed
> packets.
> 
> However, one can STUN the STUN port with less restraint. And that
> would be the usage of STUN we are talking about.
> 
> Of course, if we had sense enough to send signaling and media to/from
> the same ports, then media could act as a keepalive for the signaling
> while we're sending it.  But we're bellheads here and think of user-to-
> user traffic as somehow different from user-to-network traffic. That,
> I believe, was our first architectural mistake.
> 
> --
> Dean
> _______________________________________________
> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Mon May 12 10:22:55 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 023183A688B;
	Mon, 12 May 2008 10:22:55 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 1E2F53A6834
	for <sip@core3.amsl.com>; Mon, 12 May 2008 10:22:53 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.599
X-Spam-Level: 
X-Spam-Status: No, score=-2.599 tagged_above=-999 required=5 tests=[AWL=0.000, 
	BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id J8t2gBUWF9gQ for <sip@core3.amsl.com>;
	Mon, 12 May 2008 10:22:52 -0700 (PDT)
Received: from nylon.softarmor.com (nylon.softarmor.com [66.135.38.164])
	by core3.amsl.com (Postfix) with ESMTP id 3FE8A3A67EE
	for <sip@ietf.org>; Mon, 12 May 2008 10:22:52 -0700 (PDT)
Received: from [192.168.2.103] (cpe-76-185-142-113.tx.res.rr.com
	[76.185.142.113]) (authenticated bits=0)
	by nylon.softarmor.com (8.13.8/8.13.8/Debian-3) with ESMTP id
	m4CHMKvk000519
	(version=TLSv1/SSLv3 cipher=AES128-SHA bits=128 verify=NOT)
	for <sip@ietf.org>; Mon, 12 May 2008 12:22:22 -0500
Message-Id: <C749CD56-018A-4263-A3BC-9749F2216321@softarmor.com>
From: Dean Willis <dean.willis@softarmor.com>
To: "sip@ietf.org List" <sip@ietf.org>
Mime-Version: 1.0 (Apple Message framework v919.2)
Date: Mon, 12 May 2008 12:22:15 -0500
X-Mailer: Apple Mail (2.919.2)
Subject: [Sip] Keep draft and manipulation of Via header on-stack
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Archive: <https://www.ietf.org/mailman/private/sip>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

draft-holmberg-sip-keep-00 section 7 says:
When an edge proxy that supports the method defined in this  
specification recieves a SIP REGISTER request which contains a "keep"  
parameter in the topmost Via header the edge proxy MUST add a "yes"  
value to the "keep" parameter. In addition the edge proxy MAY include  
a Flow-Timer header field if the associated SIP REGISTER response.
I think this is the first time I've seen a specification that causes a  
proxy to modify a Via that was already in the request.
So we really want to do this, or do we want the proxy to be adding its  
own Via with "keep=yes"?

--
Dean
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Mon May 12 10:26:40 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 309283A680A;
	Mon, 12 May 2008 10:26:40 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id D39A73A67EE
	for <sip@core3.amsl.com>; Mon, 12 May 2008 10:26:38 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.599
X-Spam-Level: 
X-Spam-Status: No, score=-2.599 tagged_above=-999 required=5
	tests=[BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id lLCym7VzEa-X for <sip@core3.amsl.com>;
	Mon, 12 May 2008 10:26:38 -0700 (PDT)
Received: from nylon.softarmor.com (nylon.softarmor.com [66.135.38.164])
	by core3.amsl.com (Postfix) with ESMTP id 1AF6E3A676A
	for <sip@ietf.org>; Mon, 12 May 2008 10:26:38 -0700 (PDT)
Received: from [192.168.2.103] (cpe-76-185-142-113.tx.res.rr.com
	[76.185.142.113]) (authenticated bits=0)
	by nylon.softarmor.com (8.13.8/8.13.8/Debian-3) with ESMTP id
	m4CHPdht000530
	(version=TLSv1/SSLv3 cipher=AES128-SHA bits=128 verify=NOT);
	Mon, 12 May 2008 12:25:41 -0500
Message-Id: <9E14C5D8-4B98-4B40-9991-4DFF98E4A66C@softarmor.com>
From: Dean Willis <dean.willis@softarmor.com>
To: Henry Sinnreich <hsinnrei@adobe.com>
In-Reply-To: <C44DCA0C.4569%hsinnrei@adobe.com>
Mime-Version: 1.0 (Apple Message framework v919.2)
Date: Mon, 12 May 2008 12:25:33 -0500
References: <C44DCA0C.4569%hsinnrei@adobe.com>
X-Mailer: Apple Mail (2.919.2)
Cc: "sip@ietf.org List" <sip@ietf.org>
Subject: Re: [Sip] Draft: draft-holmberg-sip-keep-00.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Archive: <https://www.ietf.org/mailman/private/sip>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


On May 12, 2008, at 12:18 PM, Henry Sinnreich wrote:
>
>> But we're bellheads here and think of user-to-
>> user traffic as somehow different from user-to-network traffic. That,
>> I believe, was our first architectural mistake.
>
> How is one supposed to know this?

I don't know it. I merely believe it, and my beliefs are subject to  
change based on a shift in the preponderance of evidence presented.  
It's more like a civil trial than a criminal trial, except that the  
only final verdict is the last one reached before death.

--
Dean
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Mon May 12 10:46:16 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 3DDB83A68EC;
	Mon, 12 May 2008 10:46:16 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id AB6163A68EB
	for <sip@core3.amsl.com>; Mon, 12 May 2008 10:46:14 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -6.312
X-Spam-Level: 
X-Spam-Status: No, score=-6.312 tagged_above=-999 required=5 tests=[AWL=0.287, 
	BAYES_00=-2.599, RCVD_IN_DNSWL_MED=-4]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id RlGciaXgkRYx for <sip@core3.amsl.com>;
	Mon, 12 May 2008 10:46:13 -0700 (PDT)
Received: from zcars04f.nortel.com (zcars04f.nortel.com [47.129.242.57])
	by core3.amsl.com (Postfix) with ESMTP id 7A8AC3A67E1
	for <sip@ietf.org>; Mon, 12 May 2008 10:46:13 -0700 (PDT)
Received: from zrc2hxm0.corp.nortel.com (zrc2hxm0.corp.nortel.com
	[47.103.123.71])
	by zcars04f.nortel.com (Switch-2.2.6/Switch-2.2.0) with ESMTP id
	m4CHk5N27916; Mon, 12 May 2008 17:46:05 GMT
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Mon, 12 May 2008 12:46:01 -0500
Message-ID: <1ECE0EB50388174790F9694F77522CCF16B721A0@zrc2hxm0.corp.nortel.com>
In-Reply-To: <18469.39359.781686.130823@taimen.test.fi>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] draft-ietf-sip-outbound
Thread-Index: AciynETYaonEt/1yTC6+lj7GlCfrbABtlxxw
References: <18465.17834.732392.527310@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C776E@esealmw113.eemea.ericsson.se>
	<18465.32545.345585.820414@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8050F5A@mail.acmepacket.com>
	<18465.55659.177188.471351@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A01DDF@zrc2hxm0.corp.nortel.com>
	<18466.880.342656.104598@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD80514C7@mail.acmepacket.com>
	<48222D54.7020006@iptel.org>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8051669@mail.acmepacket.com>
	<CA9998CD4A020D418654FCDEF4E707DF046C7775@esealmw113.eemea.ericsson.se>
	<18466.42180.621089.330513@taimen.test.fi>	<4822AB7C.9000108@iptel.org>
	<1ECE0EB50388174790F9694F77522CCF16A5306F@zrc2hxm0.corp.nortel.com>
	<18467.10759.517606.958702@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A5321E@zrc2hxm0.corp.nortel.com>
	<18467.12939.938913.841738@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A53410@zrc2hxm0.corp.nortel.com>
	<18467.16! ! ! 487.1 71324.508479 @! t aimen.te st.fi>	<E6C2E
	8958BA59A4FB960963D475F7AC30BD80C2A8B@mail.acmepacket.com>
	<18467.17492.323683.861768@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF05C0F825@esealmw113.eemea.ericsson.se>
	<A8948F50-3BAC-4CA2-BA42-E2F4F9493BEF@softarmor.com>
	<18468.3962.993600.980552@taimen.test.fi>
	<6A699061-514E-40F9-8949-B44EF76D9A02@softarmor.com>
	<18469.13630.852013.419236@taimen.test.fi>
	<B0CF5278-8A23-4033-A5AF-4924BA98B9B4@softarmor.com>
	<18469.39359.781686.130823@taimen.test.fi>
From: "Francois Audet" <audet@nortel.com>
To: "Juha Heinanen" <jh@tutpro.com>, "Dean Willis" <dean.willis@softarmor.com>
Cc: sip@ietf.org, "Elwell, John" <john.elwell@siemens.com>,
	drage@alcatel-lucent.com,
	Christer Holmberg <christer.holmberg@ericsson.com>
Subject: Re: [Sip] draft-ietf-sip-outbound
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Archive: <https://www.ietf.org/mailman/private/sip>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Let me try to summarize where we are at with the draf-ietf-sip-outbound thread, and let's try
to conclude.

The current text says the following:

   At configuration time, UAs obtain one or more SIP URIs representing
   the default outbound-proxy-set.  This specification assumes the set
   is determined via any of a number of configuration mechanisms, and
   future specifications can define additional mechanisms such as using
   DNS to discover this set.  How the UA is configured is outside the
   scope of this specification.  However, a UA MUST support sets with at
   least two outbound proxy URIs and SHOULD support sets with up to four
   URIs.

   For each outbound proxy URI in the set, the UAC SHOULD send a
   REGISTER request using this URI as the default outbound proxy.
   (Alternatively, the UA could limit the number of flows formed to
   conserve battery power, for example).  UAs that support this
   specification MUST include the outbound option tag in a Supported
   header field in a REGISTER request.  Each of these REGISTER requests
   will use a unique Call-ID.  Forming the route set for the request is
   outside the scope of this document, but typically results in sending
   the REGISTER such that the topmost Route header field contains a
   loose route to the outbound proxy URI.

What Juha is worried about is that there is enough wiggle room in there
that some UAs will not register with the minimum of 2.  It is true
that it is unclear if the text about battery life was meant to allow
for not registering with all the entries in the route set, but still 
keep the minimum of two, or not.

I propose is that the text would look like this:

   At configuration time, UAs obtain one or more SIP URIs representing
   the default outbound-proxy-set.  This specification assumes the set
   is determined via any of a number of configuration mechanisms, and
   future specifications can define additional mechanisms such as using
   DNS to discover this set.  How the UA is configured is outside the
   scope of this specification.  However, a UA MUST support sets with at
   least two outbound proxy URIs and SHOULD support sets with up to four
   URIs.

   For each outbound proxy URI in the set, the UAC SHOULD send a
   REGISTER request using this URI as the default outbound proxy.  
   (Alternatively, the UA could limit the number of flows formed to 
   conserve battery power, for example).  If the set has more than one 
   URI, the UAC MUST send a REGISTER request to at least two of the 
   default outbound proxies from the set. UAs that support this specification 
   MUST include the outbound option tag in a Supported header field in a 
   REGISTER request.  Each of these REGISTER requests will use a unique 
   Call-ID. Forming the route set for the request is outside the scope of this
   document, but typically results in sending the REGISTER such that the
   topmost Route header field contains a loose route to the outbound
   proxy URI.

I think this is reasonable. Basically, what this boils down to is very simple: 
is the minimum number of registration for a proxy set that is bigger than one 2 or 1.
If you are against this proposal, it it is presumably because you believe
a UA should be allowed to use only ONE proxy from the set and ignore the 
second one.

I'd like to get opinions from the list, and close on the issue.



 
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Mon May 12 10:49:53 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 77C843A6B16;
	Mon, 12 May 2008 10:49:53 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 876E63A69E5
	for <sip@core3.amsl.com>; Mon, 12 May 2008 10:49:51 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.599
X-Spam-Level: 
X-Spam-Status: No, score=-2.599 tagged_above=-999 required=5
	tests=[BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id ANNlKgKrVuW5 for <sip@core3.amsl.com>;
	Mon, 12 May 2008 10:49:50 -0700 (PDT)
Received: from out002.iad.hostedmail.net (out002.iad.hostedmail.net
	[209.225.56.24])
	by core3.amsl.com (Postfix) with ESMTP id B76D93A680A
	for <sip@ietf.org>; Mon, 12 May 2008 10:49:50 -0700 (PDT)
Received: from ATL1VEXC020.usdom003.tco.tc ([10.158.7.31]) by
	out002.iad.hostedmail.net with Microsoft SMTPSVC(6.0.3790.3959);
	Mon, 12 May 2008 13:49:26 -0400
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Mon, 12 May 2008 13:49:24 -0400
Message-ID: <BBE61D1553D8A34F812FF87377B2935F036CE7EB@ATL1VEXC020.usdom003.tco.tc>
In-Reply-To: <C749CD56-018A-4263-A3BC-9749F2216321@softarmor.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] Keep draft and manipulation of Via header on-stack
Thread-Index: Aci0VNDjPJGKgMwsSG62oX0v+R6cFQAAD+6A
From: "Brett Tate" <brett@broadsoft.com>
To: "Dean Willis" <dean.willis@softarmor.com>,
	<sip@ietf.org>
X-OriginalArrivalTime: 12 May 2008 17:49:26.0517 (UTC)
	FILETIME=[85373A50:01C8B458]
Subject: Re: [Sip] Keep draft and manipulation of Via header on-stack
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Archive: <https://www.ietf.org/mailman/private/sip>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

> I think this is the first time I've seen a 
> specification that causes a proxy to modify 
> a Via that was already in the request.

RFC 3581 performs a similar modification concerning rport.


> So we really want to do this, or do we want 
> the proxy to be adding its own Via with "keep=yes"?

The draft's proposed mechanism allows support and desired use to be
clearly indicated by both sender and receiver at a hop level.  Such a
concept outbound/keepalive stuff was briefly discussed back in 2006:
http://www.ietf.org/mail-archive/web/sip/current/msg13733.html

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Mon May 12 11:01:25 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id A65743A67CE;
	Mon, 12 May 2008 11:01:25 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id EC2393A67CE
	for <sip@core3.amsl.com>; Mon, 12 May 2008 11:01:22 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.599
X-Spam-Level: 
X-Spam-Status: No, score=-2.599 tagged_above=-999 required=5
	tests=[BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id y5paZcQzlL9W for <sip@core3.amsl.com>;
	Mon, 12 May 2008 11:01:21 -0700 (PDT)
Received: from etmail.acmepacket.com (etmail.acmepacket.com [216.41.24.6])
	by core3.amsl.com (Postfix) with ESMTP id 8FA893A67A3
	for <sip@ietf.org>; Mon, 12 May 2008 11:01:21 -0700 (PDT)
Received: from mail.acmepacket.com (216.41.24.7) by etmail.acmepacket.com
	(216.41.24.6) with Microsoft SMTP Server (TLS) id 8.1.263.0;
	Mon, 12 May 2008 13:59:46 -0400
Received: from mail.acmepacket.com ([216.41.24.7]) by mail.acmepacket.com
	([216.41.24.7]) with mapi; Mon, 12 May 2008 13:59:47 -0400
From: Bob Penfield <BPenfield@acmepacket.com>
To: Dean Willis <dean.willis@softarmor.com>, "sip@ietf.org List" <sip@ietf.org>
Date: Mon, 12 May 2008 14:00:22 -0400
Thread-Topic: [Sip] Keep draft and manipulation of Via header on-stack
Thread-Index: Aci0VMaIrBeFuXNmQweEuYf3mFdFRAABHoCw
Message-ID: <E6C2E8958BA59A4FB960963D475F7AC30BD97463D3@mail.acmepacket.com>
References: <C749CD56-018A-4263-A3BC-9749F2216321@softarmor.com>
In-Reply-To: <C749CD56-018A-4263-A3BC-9749F2216321@softarmor.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
acceptlanguage: en-US
MIME-Version: 1.0
Subject: Re: [Sip] Keep draft and manipulation of Via header on-stack
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Archive: <https://www.ietf.org/mailman/private/sip>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Modifying the Via is not without precedent.

  RFC 3261 requires the "received=" parameter be added.

And modifying the value of a parameter in the Via is also  not without precedent.

  RFC 3581 defines this behavior for the "rport" parameter.

   When a server compliant to this specification (which can be a proxy
   or UAS) receives a request, it examines the topmost Via header field
   value.  If this Via header field value contains an "rport" parameter
   with no value, it MUST set the value of the parameter to the source
   port of the request.  This is analogous to the way in which a server
   will insert the "received" parameter into the topmost Via header
   field value.

cheers,
(-:bob

-----Original Message-----
From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On Behalf Of Dean Willis
Sent: Monday, May 12, 2008 1:22 PM
To: sip@ietf.org List
Subject: [Sip] Keep draft and manipulation of Via header on-stack

draft-holmberg-sip-keep-00 section 7 says:
When an edge proxy that supports the method defined in this
specification recieves a SIP REGISTER request which contains a "keep"
parameter in the topmost Via header the edge proxy MUST add a "yes"
value to the "keep" parameter. In addition the edge proxy MAY include
a Flow-Timer header field if the associated SIP REGISTER response.
I think this is the first time I've seen a specification that causes a
proxy to modify a Via that was already in the request.
So we really want to do this, or do we want the proxy to be adding its
own Via with "keep=yes"?

--
Dean
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Mon May 12 11:42:28 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id B476F28C20E;
	Mon, 12 May 2008 11:42:28 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id A48AC28C1C1
	for <sip@core3.amsl.com>; Mon, 12 May 2008 11:42:26 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.599
X-Spam-Level: 
X-Spam-Status: No, score=-2.599 tagged_above=-999 required=5
	tests=[BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id ioYLmxZxdDUF for <sip@core3.amsl.com>;
	Mon, 12 May 2008 11:42:25 -0700 (PDT)
Received: from bender-mail.tigertech.net (bender-mail.tigertech.net
	[64.62.209.30]) by core3.amsl.com (Postfix) with ESMTP id B328228C20E
	for <sip@ietf.org>; Mon, 12 May 2008 11:42:25 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by bender.tigertech.net (Postfix) with ESMTP id 2BBF87DE4;
	Mon, 12 May 2008 11:42:14 -0700 (PDT)
X-Virus-Scanned: Debian amavisd-new at bender.tigertech.net
Received: from [10.10.10.101] (pool-71-161-50-72.clppva.east.verizon.net
	[71.161.50.72])
	(using TLSv1 with cipher DHE-RSA-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by bender.tigertech.net (Postfix) with ESMTP id 2755D7DAD;
	Mon, 12 May 2008 11:42:11 -0700 (PDT)
Message-ID: <48288F72.4060503@joelhalpern.com>
Date: Mon, 12 May 2008 14:41:54 -0400
From: "Joel M. Halpern" <jmh@joelhalpern.com>
User-Agent: Thunderbird 2.0.0.14 (Windows/20080421)
MIME-Version: 1.0
To: Francois Audet <audet@nortel.com>
References: <18465.17834.732392.527310@taimen.test.fi>	<4822AB7C.9000108@iptel.org>	<1ECE0EB50388174790F9694F77522CCF16A5306F@zrc2hxm0.corp.nortel.com>	<18467.10759.517606.958702@taimen.test.fi>	<1ECE0EB50388174790F9694F77522CCF16A5321E@zrc2hxm0.corp.nortel.com>	<18467.12939.938913.841738@taimen.test.fi>	<1ECE0EB50388174790F9694F77522CCF16A53410@zrc2hxm0.corp.nortel.com>	<18467.16!
	! ! 487.1 71324.508479 @! t aimen.te
	st.fi>	<E6C2E	8958BA59A4FB960963D475F7AC30BD80C2A8B@mail.acmepacket.com>	<18467.17492.323683.861768@taimen.test.fi>	<CA9998CD4A020D418654FCDEF4E707DF05C0F825@esealmw113.eemea.ericsson.se>	<A8948F50-3BAC-4CA2-BA42-E2F4F9493BEF@softarmor.com>	<18468.3962.993600.980552@taimen.test.fi>	<6A699061-514E-40F9-8949-B44EF76D9A02@softarmor.com>	<18469.13630.852013.419236@taimen.test.fi>	<B0CF5278-8A23-4033-A5AF-4924BA98B9B4@softarmor.com>	<18469.39359.781686.130823@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16B721A0@zrc2hxm0.corp.nortel.com>
In-Reply-To: <1ECE0EB50388174790F9694F77522CCF16B721A0@zrc2hxm0.corp.nortel.com>
Cc: sip@ietf.org, Dean Willis <dean.willis@softarmor.com>,
	drage@alcatel-lucent.com, "Elwell, John" <john.elwell@siemens.com>,
	Christer Holmberg <christer.holmberg@ericsson.com>
Subject: Re: [Sip] draft-ietf-sip-outbound
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Archive: <https://www.ietf.org/mailman/private/sip>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

After talking with Juha, I think this is the best compromise.
I think an operator who really wants clients to connect with only one 
proxy can configure a single DNS name for the outbound proxy, and then 
give multiple DNS (SRV or A, depending upon how you want to play) 
records for the details of that single name.

Joel

Francois Audet wrote:
> Let me try to summarize where we are at with the draf-ietf-sip-outbound thread, and let's try
> to conclude.
> 
> The current text says the following:
> 
>    At configuration time, UAs obtain one or more SIP URIs representing
>    the default outbound-proxy-set.  This specification assumes the set
>    is determined via any of a number of configuration mechanisms, and
>    future specifications can define additional mechanisms such as using
>    DNS to discover this set.  How the UA is configured is outside the
>    scope of this specification.  However, a UA MUST support sets with at
>    least two outbound proxy URIs and SHOULD support sets with up to four
>    URIs.
> 
>    For each outbound proxy URI in the set, the UAC SHOULD send a
>    REGISTER request using this URI as the default outbound proxy.
>    (Alternatively, the UA could limit the number of flows formed to
>    conserve battery power, for example).  UAs that support this
>    specification MUST include the outbound option tag in a Supported
>    header field in a REGISTER request.  Each of these REGISTER requests
>    will use a unique Call-ID.  Forming the route set for the request is
>    outside the scope of this document, but typically results in sending
>    the REGISTER such that the topmost Route header field contains a
>    loose route to the outbound proxy URI.
> 
> What Juha is worried about is that there is enough wiggle room in there
> that some UAs will not register with the minimum of 2.  It is true
> that it is unclear if the text about battery life was meant to allow
> for not registering with all the entries in the route set, but still 
> keep the minimum of two, or not.
> 
> I propose is that the text would look like this:
> 
>    At configuration time, UAs obtain one or more SIP URIs representing
>    the default outbound-proxy-set.  This specification assumes the set
>    is determined via any of a number of configuration mechanisms, and
>    future specifications can define additional mechanisms such as using
>    DNS to discover this set.  How the UA is configured is outside the
>    scope of this specification.  However, a UA MUST support sets with at
>    least two outbound proxy URIs and SHOULD support sets with up to four
>    URIs.
> 
>    For each outbound proxy URI in the set, the UAC SHOULD send a
>    REGISTER request using this URI as the default outbound proxy.  
>    (Alternatively, the UA could limit the number of flows formed to 
>    conserve battery power, for example).  If the set has more than one 
>    URI, the UAC MUST send a REGISTER request to at least two of the 
>    default outbound proxies from the set. UAs that support this specification 
>    MUST include the outbound option tag in a Supported header field in a 
>    REGISTER request.  Each of these REGISTER requests will use a unique 
>    Call-ID. Forming the route set for the request is outside the scope of this
>    document, but typically results in sending the REGISTER such that the
>    topmost Route header field contains a loose route to the outbound
>    proxy URI.
> 
> I think this is reasonable. Basically, what this boils down to is very simple: 
> is the minimum number of registration for a proxy set that is bigger than one 2 or 1.
> If you are against this proposal, it it is presumably because you believe
> a UA should be allowed to use only ONE proxy from the set and ignore the 
> second one.
> 
> I'd like to get opinions from the list, and close on the issue.
> 
> 
> 
>  
> _______________________________________________
> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
> 
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Mon May 12 12:34:52 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 6E88F3A6AF3;
	Mon, 12 May 2008 12:34:52 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 78EE73A6AEA
	for <sip@core3.amsl.com>; Mon, 12 May 2008 12:34:50 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -6.162
X-Spam-Level: 
X-Spam-Status: No, score=-6.162 tagged_above=-999 required=5 tests=[AWL=0.087, 
	BAYES_00=-2.599, HELO_EQ_SE=0.35, RCVD_IN_DNSWL_MED=-4]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 3R2PyVt5rt+V for <sip@core3.amsl.com>;
	Mon, 12 May 2008 12:34:49 -0700 (PDT)
Received: from mailgw4.ericsson.se (mailgw4.ericsson.se [193.180.251.62])
	by core3.amsl.com (Postfix) with ESMTP id 3B37C3A67CE
	for <sip@ietf.org>; Mon, 12 May 2008 12:34:49 -0700 (PDT)
Received: from mailgw4.ericsson.se (unknown [127.0.0.1])
	by mailgw4.ericsson.se (Symantec Mail Security) with ESMTP id
	DAC4820266; Mon, 12 May 2008 21:33:52 +0200 (CEST)
X-AuditID: c1b4fb3e-ac995bb000004ec0-18-48289ba052c3
Received: from esealmw126.eemea.ericsson.se (unknown [153.88.254.123])
	by mailgw4.ericsson.se (Symantec Mail Security) with ESMTP id
	BCE2120083; Mon, 12 May 2008 21:33:52 +0200 (CEST)
Received: from esealmw113.eemea.ericsson.se ([153.88.200.4]) by
	esealmw126.eemea.ericsson.se with Microsoft SMTPSVC(6.0.3790.1830); 
	Mon, 12 May 2008 21:33:52 +0200
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Mon, 12 May 2008 21:31:15 +0200
Message-ID: <CA9998CD4A020D418654FCDEF4E707DF046C77A3@esealmw113.eemea.ericsson.se>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] draft-ietf-sip-outbound
thread-index: Aciz+6kZQUzM83msQqS+2idlm2/T4AAAkHSwAAzwF+AADUS+gg==
References: <18465.17834.732392.527310@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C776E@esealmw113.eemea.ericsson.se>
	<18465.32545.345585.820414@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8050F5A@mail.acmepacket.com>
	<18465.55659.177188.471351@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A01DDF@zrc2hxm0.corp.nortel.com>
	<18466.880.342656.104598@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD80514C7@mail.acmepacket.com>
	<48222D54.7020006@iptel.org>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8051669@mail.acmepacket.com>
	<CA9998CD4A020D418654FCDEF4E707DF046C7775@esealmw113.eemea.ericsson.se>
	<18466.42180.621089.330513@taimen.test.fi>
	<4822AB7C.9000108@iptel.org>
	<1ECE0EB50388174790F9694F77522CCF16A5306F@zrc2hxm0.corp.nortel.com>
	<18467.10759.517606.958702@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A5321E@zrc2hxm0.corp.nortel.com>
	<18467.12939.938913.841738@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A53410@zrc2hxm0.corp.nortel.com>
	<"E 6C2E89 58BA59A4
	FB960963D475 F7AC30BD80C2A8B"@mail.acmepacket.com>
	<18467.17492.323683.861768@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF05C0F825@esealmw113.eemea.ericsson.se>
	<18467.64835.889246.384158@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF05C0F827@esealmw113.eemea.ericsson.se>
	<18468.5.693161.719570@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C778B@esealmw113.eemea.ericsson.se>
	<18469.39991.678671.481517@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C7790@esealmw113.eemea.ericsson.se>
	<18470.57128.173863.130568@taimen.test.fi>
	<200805120235.m4C2ZdAH006829@dragon.ariadne.com>
	<18471.55691.947998.606806@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF05C0F82B@esealmw113.eemea.ericsson.se>
	<18471.57948.844095.729012@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF05C0F82E@esealmw113.eemea.ericsson.se>
	<18471.59206.446430.825890@taimen.test.fi> A
	<CA9998CD4A020D418654FCDEF4E707DF05C0F834@esealmw113.eemea.ericsson.se>
	<0D5F89FAC29E2C41B98A6A762007F5D0B83E6B@GB NTHT12009
	MSX.gb002.siemens.net>
From: "Christer Holmberg" <christer.holmberg@ericsson.com>
To: "Elwell, John" <john.elwell@siemens.com>, "Juha Heinanen" <jh@tutpro.com>
X-OriginalArrivalTime: 12 May 2008 19:33:52.0694 (UTC)
	FILETIME=[1C25F560:01C8B467]
X-Brightmail-Tracker: AAAAAA==
Cc: sip@ietf.org
Subject: Re: [Sip] draft-ietf-sip-outbound
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Archive: <https://www.ietf.org/mailman/private/sip>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

When it comes to the outbound thread, I agree that I may have missed Juha's point. I may have focused more on the what-does-the-text-in-the-draft really means issue more than on what-does-Juha-want.
 
When it comes to the keep thread, I think the issue is that Juha and I simply have different opinions. 

________________________________

From: Elwell, John [mailto:john.elwell@siemens.com]
Sent: Mon 12/05/2008 15:20
To: Christer Holmberg; Juha Heinanen
Cc: sip@ietf.org
Subject: RE: [Sip] draft-ietf-sip-outbound



Christer,

I think Juha's proposed text is clear - I will comment on it separately.
You and Juha seem to make a habit of talking past each other, both on
this thread and on the sip-keep thread. Perhaps the two of you should
have a phone call to sort things out, rather than continuing to
perpetuate these long threads.

John


> -----Original Message-----
> From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On
> Behalf Of Christer Holmberg
> Sent: 12 May 2008 08:02
> To: Juha Heinanen
> Cc: sip@ietf.org
> Subject: Re: [Sip] draft-ietf-sip-outbound
>
>
> Juha, maybe the original text IS unclear. But, instead of trying to
> figure out what the text means I try to figure out what you want :)
>
> Ok, maybe I've missed/missunderstood your earlier description of what
> you want. I will have to take a second look.
>
> Regards,
>
> Christer
>
> 
>
> -----Original Message-----
> From: Juha Heinanen [mailto:jh@tutpro.com]
> Sent: 12. toukokuuta 2008 9:44
> To: Christer Holmberg
> Cc: sip@ietf.org
> Subject: RE: [Sip] draft-ietf-sip-outbound
>
> Christer Holmberg writes:
>
>  > My understanding is that it refers to the edge proxies. IF so, that
> says  > nothing about which registrar you are going to reach.
>
> that is fine with me, because in the very common case that i outlined,
> there are no edge proxies, just two proxy/registrars, for example,
> p1.domain.com and p2.domain.com.  the ob proxy set configured in UAs
> then is [sip:p1.domain.com, sip:p2.domain.com].  simple implementation
> of the common case is possible if ob draft mandates UAs to
> register via
> at least two ob proxies in the set (if more than one is given).
>
>  > So, if you want to register to different registrars Outbound is not
> > going to provide that functionality. You may use separate R-URIs in
> your  > REGISTER request, or your home network will take care it.
>
> looks like you didn't read my email where i described the common case.
>
>  > Do you want to be able to 1) register via multiple edge proxies
> (which  > Outbound allows you to do), or to 2) register with multiple
> registrars  > (which, in my opinion, is outside the scope of
> Outbound)?
>
> see my common case description.
>
>  > If 1), the following question is: do you want to 3)
> mandate that one
> > registers via AT LEAST 2 edge proxies, or do you want to 4) mandate
> that  > one registers via ALL edge proxies it is aware of?
>
> please read the exact text that i provided and let me know if there is
> something unclear in it.  if there is something unclear then, in my
> opinion, also the original text has had to be unclear and has to be
> fixed before it makes sense to continue this discussion.
>
> -- juha
> _______________________________________________
> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
>


_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Mon May 12 13:15:51 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 5DC6128C20E;
	Mon, 12 May 2008 13:15:51 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 57D143A687E
	for <sip@core3.amsl.com>; Mon, 12 May 2008 13:15:49 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -6.165
X-Spam-Level: 
X-Spam-Status: No, score=-6.165 tagged_above=-999 required=5 tests=[AWL=0.084, 
	BAYES_00=-2.599, HELO_EQ_SE=0.35, RCVD_IN_DNSWL_MED=-4]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id tfd-k6B4jhU1 for <sip@core3.amsl.com>;
	Mon, 12 May 2008 13:15:47 -0700 (PDT)
Received: from mailgw3.ericsson.se (mailgw3.ericsson.se [193.180.251.60])
	by core3.amsl.com (Postfix) with ESMTP id 178613A67C1
	for <sip@ietf.org>; Mon, 12 May 2008 13:15:47 -0700 (PDT)
Received: from mailgw3.ericsson.se (unknown [127.0.0.1])
	by mailgw3.ericsson.se (Symantec Mail Security) with ESMTP id
	32556205B0; Mon, 12 May 2008 22:15:17 +0200 (CEST)
X-AuditID: c1b4fb3c-ad89abb00000193b-19-4828a555754a
Received: from esealmw126.eemea.ericsson.se (unknown [153.88.254.123])
	by mailgw3.ericsson.se (Symantec Mail Security) with ESMTP id
	0C730203FB; Mon, 12 May 2008 22:15:17 +0200 (CEST)
Received: from esealmw113.eemea.ericsson.se ([153.88.200.4]) by
	esealmw126.eemea.ericsson.se with Microsoft SMTPSVC(6.0.3790.1830); 
	Mon, 12 May 2008 22:15:16 +0200
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Mon, 12 May 2008 22:15:14 +0200
Message-ID: <CA9998CD4A020D418654FCDEF4E707DF046C77A5@esealmw113.eemea.ericsson.se>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] draft-ietf-sip-outbound
thread-index: AciynETYaonEt/1yTC6+lj7GlCfrbABtlxxwAAXDjQg=
References: <18465.17834.732392.527310@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C776E@esealmw113.eemea.ericsson.se>
	<18465.32545.345585.820414@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8050F5A@mail.acmepacket.com>
	<18465.55659.177188.471351@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A01DDF@zrc2hxm0.corp.nortel.com>
	<18466.880.342656.104598@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD80514C7@mail.acmepacket.com>
	<48222D54.7020006@iptel.org>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8051669@mail.acmepacket.com>
	<CA9998CD4A020D418654FCDEF4E707DF046C7775@esealmw113.eemea.ericsson.se>
	<18466.42180.621089.330513@taimen.test.fi>	<4822AB7C.9000108@iptel.org>
	<1ECE0EB50388174790F9694F77522CCF16A5306F@zrc2hxm0.corp.nortel.com>
	<18467.10759.517606.958702@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A5321E@zrc2hxm0.corp.nortel.com>
	<18467.12939.938913.841738@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A53410@zrc2hxm0.corp.nortel.com>
	<18467.16! ! ! 487 .1 71324.508479 @! t aimen.te st.fi>	<E6C2E
	8958BA59A4FB960963D475F7AC30BD80C2A8B@mail.acmepacket.com>
	<18467.17492.323683.861768@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF05C0F825@esealmw113.eemea.ericsson.se>
	<A8948F50-3BAC-4CA2-BA42-E2F4F9493BEF@softarmor.com>
	<18468.3962.993600.980552@taimen.test.fi>
	<6A699061-514E-40F9-8949-B44EF76D9A02@softarmor.com>
	<18469.13630.852013.419236@taimen.test.fi>
	<B0CF5278-8A23-4033-A5AF-4924BA98B9B4@softarmor.com>
	<18469.39359.781686.130823@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16B721A0@zrc2hxm0.corp.nortel.com>
From: "Christer Holmberg" <christer.holmberg@ericsson.com>
To: "Francois Audet" <audet@nortel.com>, "Juha Heinanen" <jh@tutpro.com>,
	"Dean Willis" <dean.willis@softarmor.com>
X-OriginalArrivalTime: 12 May 2008 20:15:16.0783 (UTC)
	FILETIME=[E4C7DBF0:01C8B46C]
X-Brightmail-Tracker: AAAAAA==
Cc: sip@ietf.org, "Elwell, John" <john.elwell@siemens.com>,
	drage@alcatel-lucent.com
Subject: Re: [Sip] draft-ietf-sip-outbound
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Archive: <https://www.ietf.org/mailman/private/sip>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Hi Francois,
 
If you, as you propose, say:
 
"If the set has more than one URI, the UAC MUST send a REGISTER request to at least two of the
 default outbound proxies from the set."
 
...do you then really need the sentence saying:
 
"For each outbound proxy URI in the set, the UAC SHOULD send a REGISTER request using this URI as the default outbound proxy."
 
Wouldn't it be enough to say that the UAC MUST register with at least two?
 
I guess the question is whether UACs "with battery life issues" want to be able to establish single flows or not. Since the current draft does seem to allow it (at least it doesn't explicitly forbid it) it could be rather unwise to remove that possibility at this point, because it COULD be seen as a rather big change. Maybe one solution would be to strongly recommend against it, and add some words about the lost functionality by doing so, but not explicitly forbid it.
 
On the other hand, assuming the keep-draft moves forward: if you are only going to establish a single flow I am not sure you would need Outbound in the first place - keep would be enough :)
 
Regards,
 
Christer 

 
 
 
 

________________________________

From: Francois Audet [mailto:audet@nortel.com]
Sent: Mon 12/05/2008 19:46
To: Juha Heinanen; Dean Willis
Cc: Christer Holmberg; Hadriel Kaplan; sip@ietf.org; drage@alcatel-lucent.com; Elwell, John
Subject: RE: [Sip] draft-ietf-sip-outbound



Let me try to summarize where we are at with the draf-ietf-sip-outbound thread, and let's try
to conclude.

The current text says the following:

   At configuration time, UAs obtain one or more SIP URIs representing
   the default outbound-proxy-set.  This specification assumes the set
   is determined via any of a number of configuration mechanisms, and
   future specifications can define additional mechanisms such as using
   DNS to discover this set.  How the UA is configured is outside the
   scope of this specification.  However, a UA MUST support sets with at
   least two outbound proxy URIs and SHOULD support sets with up to four
   URIs.

   For each outbound proxy URI in the set, the UAC SHOULD send a
   REGISTER request using this URI as the default outbound proxy.
   (Alternatively, the UA could limit the number of flows formed to
   conserve battery power, for example).  UAs that support this
   specification MUST include the outbound option tag in a Supported
   header field in a REGISTER request.  Each of these REGISTER requests
   will use a unique Call-ID.  Forming the route set for the request is
   outside the scope of this document, but typically results in sending
   the REGISTER such that the topmost Route header field contains a
   loose route to the outbound proxy URI.

What Juha is worried about is that there is enough wiggle room in there
that some UAs will not register with the minimum of 2.  It is true
that it is unclear if the text about battery life was meant to allow
for not registering with all the entries in the route set, but still
keep the minimum of two, or not.

I propose is that the text would look like this:

   At configuration time, UAs obtain one or more SIP URIs representing
   the default outbound-proxy-set.  This specification assumes the set
   is determined via any of a number of configuration mechanisms, and
   future specifications can define additional mechanisms such as using
   DNS to discover this set.  How the UA is configured is outside the
   scope of this specification.  However, a UA MUST support sets with at
   least two outbound proxy URIs and SHOULD support sets with up to four
   URIs.

   For each outbound proxy URI in the set, the UAC SHOULD send a
   REGISTER request using this URI as the default outbound proxy. 
   (Alternatively, the UA could limit the number of flows formed to
   conserve battery power, for example).  If the set has more than one
   URI, the UAC MUST send a REGISTER request to at least two of the
   default outbound proxies from the set. UAs that support this specification
   MUST include the outbound option tag in a Supported header field in a
   REGISTER request.  Each of these REGISTER requests will use a unique
   Call-ID. Forming the route set for the request is outside the scope of this
   document, but typically results in sending the REGISTER such that the
   topmost Route header field contains a loose route to the outbound
   proxy URI.

I think this is reasonable. Basically, what this boils down to is very simple:
is the minimum number of registration for a proxy set that is bigger than one 2 or 1.
If you are against this proposal, it it is presumably because you believe
a UA should be allowed to use only ONE proxy from the set and ignore the
second one.

I'd like to get opinions from the list, and close on the issue.






_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Mon May 12 13:39:40 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id A9E7E3A67C0;
	Mon, 12 May 2008 13:39:40 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id D77573A685B
	for <sip@core3.amsl.com>; Mon, 12 May 2008 13:39:38 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -6.331
X-Spam-Level: 
X-Spam-Status: No, score=-6.331 tagged_above=-999 required=5 tests=[AWL=0.268, 
	BAYES_00=-2.599, RCVD_IN_DNSWL_MED=-4]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id YEcG6p-+F7hV for <sip@core3.amsl.com>;
	Mon, 12 May 2008 13:39:37 -0700 (PDT)
Received: from zrtps0kn.nortel.com (zrtps0kn.nortel.com [47.140.192.55])
	by core3.amsl.com (Postfix) with ESMTP id 8F1023A67C0
	for <sip@ietf.org>; Mon, 12 May 2008 13:39:37 -0700 (PDT)
Received: from zrc2hxm0.corp.nortel.com (zrc2hxm0.corp.nortel.com
	[47.103.123.71])
	by zrtps0kn.nortel.com (Switch-2.2.6/Switch-2.2.0) with ESMTP id
	m4CKdVR11117; Mon, 12 May 2008 20:39:31 GMT
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Mon, 12 May 2008 15:39:24 -0500
Message-ID: <1ECE0EB50388174790F9694F77522CCF16B72794@zrc2hxm0.corp.nortel.com>
In-Reply-To: <CA9998CD4A020D418654FCDEF4E707DF046C77A5@esealmw113.eemea.ericsson.se>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] draft-ietf-sip-outbound
Thread-Index: AciynETYaonEt/1yTC6+lj7GlCfrbABtlxxwAAXDjQgAAPvGUA==
References: <18465.17834.732392.527310@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C776E@esealmw113.eemea.ericsson.se>
	<18465.32545.345585.820414@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8050F5A@mail.acmepacket.com>
	<18465.55659.177188.471351@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A01DDF@zrc2hxm0.corp.nortel.com>
	<18466.880.342656.104598@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD80514C7@mail.acmepacket.com>
	<48222D54.7020006@iptel.org>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8051669@mail.acmepacket.com>
	<CA9998CD4A020D418654FCDEF4E707DF046C7775@esealmw113.eemea.ericsson.se>
	<18466.42180.621089.330513@taimen.test.fi>	<4822AB7C.9000108@iptel.org>
	<1ECE0EB50388174790F9694F77522CCF16A5306F@zrc2hxm0.corp.nortel.com>
	<18467.10759.517606.958702@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A5321E@zrc2hxm0.corp.nortel.com>
	<18467.12939.938913.841738@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A53410@zrc2hxm0.corp.nortel.com>
	<18467.16! !  ! ! 48 7	.1 71324.5 08479 @! t aimen.te st.fi>	<E6C2E
	8958BA59A4FB960963D475F7AC30BD80C2A8B@mail.acmepacket.com>
	<18467.17492.323683.861768@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF05C0F825@esealmw113.eemea.ericsson.se>
	<A8948F50-3BAC-4CA2-BA42-E2F4F9493BEF@softarmor.com>
	<18468.3962.993600.980552@taimen.test.fi>
	<6A699061-514E-40F9-8949-B44EF76D9A02@softarmor.com>
	<18469.13630.852013.419236@taimen.test.fi>
	<B0CF5278-8A23-4033-A5AF-4924BA98B9B4@softarmor.com>
	<18469.39359.781686.130823@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16B721A0@zrc2hxm0.corp.nortel.com>
	<CA9998CD4A020D418654FCDEF4E707DF046C77A5@esealmw113.eemea.ericsson.se>
From: "Francois Audet" <audet@nortel.com>
To: "Christer Holmberg" <christer.holmberg@ericsson.com>,
	"Juha Heinanen" <jh@tutpro.com>, "Dean Willis" <dean.willis@softarmor.com>
Cc: sip@ietf.org, "Elwell, John" <john.elwell@siemens.com>,
	drage@alcatel-lucent.com
Subject: Re: [Sip] draft-ietf-sip-outbound
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Archive: <https://www.ietf.org/mailman/private/sip>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Again, this is very simple.

The questions is "is the mininum 1 or 2".

Juha is arguing for 2.
I'm fine with 2 also (in fact, that's how I read the spec in the first place).

Which minimum is acceptable to you:
a) 1
b) 2
c) Either but I prefer 1
d) Either but I prefer 2

> -----Original Message-----
> From: Christer Holmberg [mailto:christer.holmberg@ericsson.com] 
> Sent: Monday, May 12, 2008 13:15
> To: Audet, Francois (SC100:3055); Juha Heinanen; Dean Willis
> Cc: Hadriel Kaplan; sip@ietf.org; drage@alcatel-lucent.com; 
> Elwell, John
> Subject: RE: [Sip] draft-ietf-sip-outbound
> 
> Hi Francois,
>  
> If you, as you propose, say:
>  
> "If the set has more than one URI, the UAC MUST send a 
> REGISTER request to at least two of the  default outbound 
> proxies from the set."
>  
> ...do you then really need the sentence saying:
>  
> "For each outbound proxy URI in the set, the UAC SHOULD send 
> a REGISTER request using this URI as the default outbound proxy."
>  
> Wouldn't it be enough to say that the UAC MUST register with 
> at least two?
>  
> I guess the question is whether UACs "with battery life 
> issues" want to be able to establish single flows or not. 
> Since the current draft does seem to allow it (at least it 
> doesn't explicitly forbid it) it could be rather unwise to 
> remove that possibility at this point, because it COULD be 
> seen as a rather big change. Maybe one solution would be to 
> strongly recommend against it, and add some words about the 
> lost functionality by doing so, but not explicitly forbid it.
>  
> On the other hand, assuming the keep-draft moves forward: if 
> you are only going to establish a single flow I am not sure 
> you would need Outbound in the first place - keep would be enough :)
>  
> Regards,
>  
> Christer 
> 
>  
>  
>  
>  
> 
> ________________________________
> 
> From: Francois Audet [mailto:audet@nortel.com]
> Sent: Mon 12/05/2008 19:46
> To: Juha Heinanen; Dean Willis
> Cc: Christer Holmberg; Hadriel Kaplan; sip@ietf.org; 
> drage@alcatel-lucent.com; Elwell, John
> Subject: RE: [Sip] draft-ietf-sip-outbound
> 
> 
> 
> Let me try to summarize where we are at with the 
> draf-ietf-sip-outbound thread, and let's try to conclude.
> 
> The current text says the following:
> 
>    At configuration time, UAs obtain one or more SIP URIs representing
>    the default outbound-proxy-set.  This specification assumes the set
>    is determined via any of a number of configuration mechanisms, and
>    future specifications can define additional mechanisms 
> such as using
>    DNS to discover this set.  How the UA is configured is outside the
>    scope of this specification.  However, a UA MUST support 
> sets with at
>    least two outbound proxy URIs and SHOULD support sets with 
> up to four
>    URIs.
> 
>    For each outbound proxy URI in the set, the UAC SHOULD send a
>    REGISTER request using this URI as the default outbound proxy.
>    (Alternatively, the UA could limit the number of flows formed to
>    conserve battery power, for example).  UAs that support this
>    specification MUST include the outbound option tag in a Supported
>    header field in a REGISTER request.  Each of these 
> REGISTER requests
>    will use a unique Call-ID.  Forming the route set for the 
> request is
>    outside the scope of this document, but typically results 
> in sending
>    the REGISTER such that the topmost Route header field contains a
>    loose route to the outbound proxy URI.
> 
> What Juha is worried about is that there is enough wiggle 
> room in there that some UAs will not register with the 
> minimum of 2.  It is true that it is unclear if the text 
> about battery life was meant to allow for not registering 
> with all the entries in the route set, but still keep the 
> minimum of two, or not.
> 
> I propose is that the text would look like this:
> 
>    At configuration time, UAs obtain one or more SIP URIs representing
>    the default outbound-proxy-set.  This specification assumes the set
>    is determined via any of a number of configuration mechanisms, and
>    future specifications can define additional mechanisms 
> such as using
>    DNS to discover this set.  How the UA is configured is outside the
>    scope of this specification.  However, a UA MUST support 
> sets with at
>    least two outbound proxy URIs and SHOULD support sets with 
> up to four
>    URIs.
> 
>    For each outbound proxy URI in the set, the UAC SHOULD send a
>    REGISTER request using this URI as the default outbound proxy. 
>    (Alternatively, the UA could limit the number of flows formed to
>    conserve battery power, for example).  If the set has more than one
>    URI, the UAC MUST send a REGISTER request to at least two of the
>    default outbound proxies from the set. UAs that support 
> this specification
>    MUST include the outbound option tag in a Supported header 
> field in a
>    REGISTER request.  Each of these REGISTER requests will 
> use a unique
>    Call-ID. Forming the route set for the request is outside 
> the scope of this
>    document, but typically results in sending the REGISTER 
> such that the
>    topmost Route header field contains a loose route to the outbound
>    proxy URI.
> 
> I think this is reasonable. Basically, what this boils down 
> to is very simple:
> is the minimum number of registration for a proxy set that is 
> bigger than one 2 or 1.
> If you are against this proposal, it it is presumably because 
> you believe a UA should be allowed to use only ONE proxy from 
> the set and ignore the second one.
> 
> I'd like to get opinions from the list, and close on the issue.
> 
> 
> 
> 
> 
> 
> 
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Mon May 12 14:16:59 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 6C1D73A6BA3;
	Mon, 12 May 2008 14:16:59 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 3AC263A67C0
	for <sip@core3.amsl.com>; Mon, 12 May 2008 14:16:56 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -6.348
X-Spam-Level: 
X-Spam-Status: No, score=-6.348 tagged_above=-999 required=5 tests=[AWL=0.251, 
	BAYES_00=-2.599, RCVD_IN_DNSWL_MED=-4]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id JBax4AffHrfZ for <sip@core3.amsl.com>;
	Mon, 12 May 2008 14:16:55 -0700 (PDT)
Received: from zrtps0kn.nortel.com (zrtps0kn.nortel.com [47.140.192.55])
	by core3.amsl.com (Postfix) with ESMTP id 3ACA63A6838
	for <sip@ietf.org>; Mon, 12 May 2008 14:16:54 -0700 (PDT)
Received: from zrc2hxm0.corp.nortel.com (zrc2hxm0.corp.nortel.com
	[47.103.123.71])
	by zrtps0kn.nortel.com (Switch-2.2.6/Switch-2.2.0) with ESMTP id
	m4CLGmR14547; Mon, 12 May 2008 21:16:48 GMT
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Mon, 12 May 2008 16:16:43 -0500
Message-ID: <1ECE0EB50388174790F9694F77522CCF16B728DE@zrc2hxm0.corp.nortel.com>
In-Reply-To: <1ECE0EB50388174790F9694F77522CCF16B72794@zrc2hxm0.corp.nortel.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] draft-ietf-sip-outbound
Thread-Index: AciynETYaonEt/1yTC6+lj7GlCfrbABtlxxwAAXDjQgAAPvGUAABzRjQ
References: <18465.17834.732392.527310@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C776E@esealmw113.eemea.ericsson.se>
	<18465.32545.345585.820414@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8050F5A@mail.acmepacket.com>
	<18465.55659.177188.471351@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A01DDF@zrc2hxm0.corp.nortel.com>
	<18466.880.342656.104598@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD80514C7@mail.acmepacket.com>
	<48222D54.7020006@iptel.org>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8051669@mail.acmepacket.com>
	<CA9998CD4A020D418654FCDEF4E707DF046C7775@esealmw113.eemea.ericsson.se>
	<18466.42180.621089.330513@taimen.test.fi>	<4822AB7C.9000108@iptel.org>
	<1ECE0EB50388174790F9694F77522CCF16A5306F@zrc2hxm0.corp.nortel.com>
	<18467.10759.517606.958702@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A5321E@zrc2hxm0.corp.nortel.com>
	<18467.12939.938913.841738@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A53410@zrc2hxm0.corp.nortel.com>
	<18467.16! ! !  ! ! 48 7	.1 7132
	4.5 08479 @! t aimen.te st.fi>	<E6C2E
	8958BA59A4FB960963D475F7AC30BD80C2A8B@mail.acmepacket.com>
	<18467.17492.323683.861768@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF05C0F825@esealmw113.eemea.ericsson.se>
	<A8948F50-3BAC-4CA2-BA42-E2F4F9493BEF@softarmor.com>
	<18468.3962.993600.980552@taimen.test.fi>
	<6A699061-514E-40F9-8949-B44EF76D9A02@softarmor.com>
	<18469.13630.852013.419236@taimen.test.fi>
	<B0CF5278-8A23-4033-A5AF-4924BA98B9B4@softarmor.com>
	<18469.39359.781686.130823@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16B721A0@zrc2hxm0.corp.nortel.com>
	<CA9998CD4A020D418654FCDEF4E707DF046C77A5@esealmw113.eemea.ericsson.se>
	<1ECE0EB50388174790F9694F77522CCF16B72794@zrc2hxm0.corp.nortel.com>
From: "Francois Audet" <audet@nortel.com>
To: "Christer Holmberg" <christer.holmberg@ericsson.com>,
	"Juha Heinanen" <jh@tutpro.com>, "Dean Willis" <dean.willis@softarmor.com>
Cc: sip@ietf.org, drage@alcatel-lucent.com, "Elwell,
	John" <john.elwell@siemens.com>
Subject: Re: [Sip] draft-ietf-sip-outbound
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Archive: <https://www.ietf.org/mailman/private/sip>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Actually, let me ask an even simpler question.

Is anybody against the "2 minimum", i.e., that if there are more than one 
outbound proxies in the set, the the UA MUST use at least 2 of them.

So far, we have NOT heard anybody speak against this.

If not, then I think we should integrate Juha's comment.
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Mon May 12 14:29:13 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 0CE853A685B;
	Mon, 12 May 2008 14:29:13 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 4F3213A685B
	for <sip@core3.amsl.com>; Mon, 12 May 2008 14:29:11 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.599
X-Spam-Level: 
X-Spam-Status: No, score=-2.599 tagged_above=-999 required=5
	tests=[BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id j5+3165rtaEh for <sip@core3.amsl.com>;
	Mon, 12 May 2008 14:29:10 -0700 (PDT)
Received: from QMTA01.emeryville.ca.mail.comcast.net
	(qmta01.emeryville.ca.mail.comcast.net [76.96.30.16])
	by core3.amsl.com (Postfix) with ESMTP id 95A9F3A6BA9
	for <sip@ietf.org>; Mon, 12 May 2008 14:29:10 -0700 (PDT)
Received: from OMTA02.emeryville.ca.mail.comcast.net ([76.96.30.19])
	by QMTA01.emeryville.ca.mail.comcast.net with comcast
	id QlNm1Z0010QkzPwA101l00; Mon, 12 May 2008 21:29:08 +0000
Received: from dragon.ariadne.com ([76.19.174.1])
	by OMTA02.emeryville.ca.mail.comcast.net with comcast
	id QlV51Z00T02AVH08N00000; Mon, 12 May 2008 21:29:07 +0000
X-Authority-Analysis: v=1.0 c=1 a=7bLEtlRA5aTNT4iqh5gA:9
	a=SgE8KaOFoVxPvdY-oZ4_tjhQJ1IA:4 a=k4qQewaewV0A:10 a=8y7tGHue6YMA:10
Received: from dragon.ariadne.com (dragon.ariadne.com [127.0.0.1])
	by dragon.ariadne.com (8.12.8/8.12.8) with ESMTP id m4CLT5EA025418
	for <sip@ietf.org>; Mon, 12 May 2008 17:29:05 -0400
Received: (from worley@localhost)
	by dragon.ariadne.com (8.12.8/8.12.8/Submit) id m4CLT53n025414;
	Mon, 12 May 2008 17:29:05 -0400
Date: Mon, 12 May 2008 17:29:05 -0400
Message-Id: <200805122129.m4CLT53n025414@dragon.ariadne.com>
To: sip@ietf.org
From: Dale.Worley@comcast.net
In-reply-to: <0D5F89FAC29E2C41B98A6A762007F5D0B83E6C@GBNTHT12009MSX.gb002.siemens.net>
	(john.elwell@siemens.com)
References: <18465.17834.732392.527310@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C776E@esealmw113.eemea.ericsson.se>
	<18465.32545.345585.820414@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8050F5A@mail.acmepacket.com>
	<18465.55659.177188.471351@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A01DDF@zrc2hxm0.corp.nortel.com>
	<18466.880.342656.104598@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD80514C7@mail.acmepacket.com>
	<48222D54.7020006@iptel.org>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8051669@mail.acmepacket.com>
	<CA9998CD4A020D418654FCDEF4E707DF046C7775@esealmw113.eemea.ericsson.se>
	<18466.42180.621089.330513@taimen.test.fi> <4822AB7C.9000108@iptel.org>
	<1ECE0EB50388174790F9694F77522CCF16A5306F@zrc2hxm0.corp.nortel.com>
	<18467.10759.517606.958702@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A5321E@zrc2hxm0.corp.nortel.com>
	<18467.12939.938913.841738@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A53410@zrc2hxm0.corp.nortel.com>
	<"E6C2E8958BA59A4FB 960963D475F7 AC30BD80C2A8B"@mail.acmepacket.com>
	<18467.17492.323683.861768@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF05C0F825@esealmw113.eemea.ericsson.se>
	<18467.64835.889246.384158@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF05C0F827@esealmw113.eemea.ericsson.se>
	<18468.5.693161.719570@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C778B@esealmw113.eemea.ericsson.se>
	<18469.39991.678671.481517@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C7790@esealmw113.eemea.ericsson.se>
	<18470.57128.173863.130568@taimen.test.fi>
	<0D5F89FAC29E2C41B98A6A762007F5D0B83E6C@GBNTHT12009MSX.gb002.siemens.net>
Subject: Re: [Sip] draft-ietf-sip-outbound
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Archive: <https://www.ietf.org/mailman/private/sip>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
MIME-Version: 1.0
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

   From: "Elwell, John" <john.elwell@siemens.com>

   I see no purpose in a UA being able to be configured with 5, say,
   entries in its set if it is never going to register with more than
   2.

I assume the idea is that if 2 of the proxies are down or unreachable,
the UA will register with 2 of the remaining 3 proxies.  Presumably
the idea is that the proxies are not individually reliable, and the UA
will have to search through a set of them to find ones that it can
register with.

Dale
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Mon May 12 14:54:27 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id A8E1F3A67FC;
	Mon, 12 May 2008 14:54:27 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 7E0A73A6767
	for <sip@core3.amsl.com>; Mon, 12 May 2008 14:54:25 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.599
X-Spam-Level: 
X-Spam-Status: No, score=-2.599 tagged_above=-999 required=5 tests=[AWL=0.000, 
	BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id KE6WHeSQ94NH for <sip@core3.amsl.com>;
	Mon, 12 May 2008 14:54:24 -0700 (PDT)
Received: from QMTA02.emeryville.ca.mail.comcast.net
	(qmta02.emeryville.ca.mail.comcast.net [76.96.30.24])
	by core3.amsl.com (Postfix) with ESMTP id 747943A67B7
	for <sip@ietf.org>; Mon, 12 May 2008 14:54:24 -0700 (PDT)
Received: from OMTA02.emeryville.ca.mail.comcast.net ([76.96.30.19])
	by QMTA02.emeryville.ca.mail.comcast.net with comcast
	id QjuW1Z05W0QkzPwA203w00; Mon, 12 May 2008 21:52:12 +0000
Received: from dragon.ariadne.com ([76.19.174.1])
	by OMTA02.emeryville.ca.mail.comcast.net with comcast
	id QluK1Z00302AVH08N00000; Mon, 12 May 2008 21:54:20 +0000
X-Authority-Analysis: v=1.0 c=1 a=TSbVqHtbAAAA:8 a=tlXxdlDeZyYd8AzoZCkA:9
	a=HQqxWWuean40fVMhw4IA:7 a=ckfnAY-JZNkmGDp9DmtnEIMuLIIA:4
	a=MSl-tDqOz04A:10 a=8y7tGHue6YMA:10
Received: from dragon.ariadne.com (dragon.ariadne.com [127.0.0.1])
	by dragon.ariadne.com (8.12.8/8.12.8) with ESMTP id m4CLsIEA027276
	for <sip@ietf.org>; Mon, 12 May 2008 17:54:18 -0400
Received: (from worley@localhost)
	by dragon.ariadne.com (8.12.8/8.12.8/Submit) id m4CLsI52027272;
	Mon, 12 May 2008 17:54:18 -0400
Date: Mon, 12 May 2008 17:54:18 -0400
Message-Id: <200805122154.m4CLsI52027272@dragon.ariadne.com>
To: sip@ietf.org
From: Dale.Worley@comcast.net
In-reply-to: <abec1eb90804272354m7082a1dct9232d50e7184546b@mail.gmail.com>
	(thakur.ajay.ietf@gmail.com)
References: <abec1eb90804240204l22a62382nbb9dc7e59471c17b@mail.gmail.com>
	<XFE-SJC-211yAHi8St800004fc1@xfe-sjc-211.amer.cisco.com>
	<abec1eb90804242318h632c0b16xd8d0add6b525c1b8@mail.gmail.com>
	<b328ddbf0804250234y7c5d5a98tcf8f393a232c753d@mail.gmail.com>
	<XFE-SJC-211jCRGryWt000050ff@xfe-sjc-211.amer.cisco.com>
	<abec1eb90804272354m7082a1dct9232d50e7184546b@mail.gmail.com>
Subject: Re: [Sip] SIP refer method
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Archive: <https://www.ietf.org/mailman/private/sip>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
MIME-Version: 1.0
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

   From: "ajay thakur" <thakur.ajay.ietf@gmail.com>

   James,
   I will try to explain problem here.
   A---------|
	      |
	      |--------Router-----------------C
   B---------|
   On router access list is used to deny incoming calls from outside to
   internal network.
   A,B are internal network. And C is on WAN side.
   Outgoing calls are allowed through access lists.

   Now call from A to C works perfectly when A initiates call.
   Now when A wants to transfer call to other internal phone (B in this case),
   then A sends refer message to C.

   Now C tries to connect to B and C uses contact address of B to connect. But
   incoming calls from WAN side is not allowed. So what can be done to fix
   these kind of problems ?

This is the "transfer authorizaton" problem, where C is allowed to
contact B because A told it to.  A lot of effort in the sipX
open-source proxy has gone into solving this problem.  (You can search
at http://dir.gmane.org/gmane.comp.voip.sipx.devel.)  The general idea
is that when A sends its REFER to C, the proxy modifies the Refer-To
address to include a header-parameter.  This header parameter is
turned into a header in the INVITE from C to B, and the proxy (Router
in your scheme) ses that header as a signature that allows the call to
pass from C to B.  Of course, getting the details right is messy.

Dale
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Mon May 12 16:30:05 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 40E9228C2C1;
	Mon, 12 May 2008 16:30:05 -0700 (PDT)
X-Original-To: sip@ietf.org
Delivered-To: sip@core3.amsl.com
Received: by core3.amsl.com (Postfix, from userid 0)
	id 4332E3A6838; Mon, 12 May 2008 16:30:01 -0700 (PDT)
From: Internet-Drafts@ietf.org
To: i-d-announce@ietf.org
Content-Type: Multipart/Mixed; Boundary="NextPart"
Mime-Version: 1.0
Message-Id: <20080512233001.4332E3A6838@core3.amsl.com>
Date: Mon, 12 May 2008 16:30:01 -0700 (PDT)
Cc: sip@ietf.org
Subject: [Sip] I-D Action:draft-ietf-sip-media-security-requirements-06.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Archive: <https://www.ietf.org/mailman/private/sip>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


--NextPart

A New Internet-Draft is available from the on-line Internet-Drafts directories.
This draft is a work item of the Session Initiation Protocol Working Group of the IETF.


	Title           : Requirements and Analysis of Media Security Management Protocols
	Author(s)       : D. Wing, et al.
	Filename        : draft-ietf-sip-media-security-requirements-06.txt
	Pages           : 47
	Date            : 2008-05-12

This document describes requirements for a protocol to negotiate a
security context for SIP-signaled SRTP media.  In addition to the
natural security requirements, this negotiation protocol must
interoperate well with SIP in certain ways.  A number of proposals
have been published and a summary of these proposals is in the
appendix of this document.

A URL for this Internet-Draft is:
http://www.ietf.org/internet-drafts/draft-ietf-sip-media-security-requirements-06.txt

Internet-Drafts are also available by anonymous FTP at:
ftp://ftp.ietf.org/internet-drafts/

Below is the data which will enable a MIME compliant mail reader
implementation to automatically retrieve the ASCII version of the
Internet-Draft.

--NextPart
Content-Type: Message/External-body;
	name="draft-ietf-sip-media-security-requirements-06.txt";
	site="ftp.ietf.org";
	access-type="anon-ftp";
	directory="internet-drafts"

Content-Type: text/plain
Content-ID: <2008-05-12161729.I-D@ietf.org>


--NextPart
Content-Type: text/plain; charset="us-ascii"
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip
--NextPart--


From sip-bounces@ietf.org  Mon May 12 18:49:30 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 1ABF83A68EA;
	Mon, 12 May 2008 18:49:30 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 08A7B3A68EA
	for <sip@core3.amsl.com>; Mon, 12 May 2008 18:49:28 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -1.999
X-Spam-Level: 
X-Spam-Status: No, score=-1.999 tagged_above=-999 required=5
	tests=[BAYES_00=-2.599, J_CHICKENPOX_43=0.6]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id WHg2SyHCkA7T for <sip@core3.amsl.com>;
	Mon, 12 May 2008 18:49:27 -0700 (PDT)
Received: from sonussf2.sonusnet.com (sonussf2.sonusnet.com [208.45.178.27])
	by core3.amsl.com (Postfix) with ESMTP id 386913A687E
	for <sip@ietf.org>; Mon, 12 May 2008 18:49:27 -0700 (PDT)
Received: from sonusmail05.sonusnet.com (sonusmail05.sonusnet.com
	[10.128.32.155])
	by sonussf2.sonusnet.com (8.13.7/8.13.7) with ESMTP id m4D1nPkd018326; 
	Mon, 12 May 2008 21:49:25 -0400
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Mon, 12 May 2008 21:49:24 -0400
Message-ID: <637C77B6763BB54ABF989B6B21D5323509F609@sonusmail05.sonusnet.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] Keep draft and manipulation of Via header on-stack
Thread-Index: Aci0VNSFmy0t1UPtSq6Ecxt3ScPsnAARaqMj
References: <C749CD56-018A-4263-A3BC-9749F2216321@softarmor.com>
From: "Bharrat, Shaun" <SBharrat@sonusnet.com>
To: "Dean Willis" <dean.willis@softarmor.com>, <sip@ietf.org>
Subject: Re: [Sip] Keep draft and manipulation of Via header on-stack
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Archive: <https://www.ietf.org/mailman/private/sip>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

> draft-holmberg-sip-keep-00 section 7 says:
> When an edge proxy that supports the method defined in this  
> specification recieves a SIP REGISTER request which contains a "keep"  
> parameter in the topmost Via header the edge proxy MUST add a "yes"  
> value to the "keep" parameter. In addition the edge proxy MAY include  
> a Flow-Timer header field if the associated SIP REGISTER response.
> I think this is the first time I've seen a specification that causes a  
> proxy to modify a Via that was already in the request.
> So we really want to do this, or do we want the proxy to be adding its  
> own Via with "keep=yes"?

Aside from the received= counter example, I'm not sure that adding the keep=yes
to the proxy's via would even work. Isn't the keep=yes also used by the *client*
to know that STUN is allowed on the SIP port? If the keep=yes is only on
the proxy's via, that is not there in the response finally seen by the client.

Cheers,
Shaun



_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Mon May 12 22:16:41 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 444D03A6A29;
	Mon, 12 May 2008 22:16:41 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id BF3D23A6A29
	for <sip@core3.amsl.com>; Mon, 12 May 2008 22:16:38 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -5.867
X-Spam-Level: 
X-Spam-Status: No, score=-5.867 tagged_above=-999 required=5
	tests=[AWL=-0.218, BAYES_00=-2.599, HELO_EQ_SE=0.35,
	J_CHICKENPOX_43=0.6, RCVD_IN_DNSWL_MED=-4]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id aQU5G0VhpUSM for <sip@core3.amsl.com>;
	Mon, 12 May 2008 22:16:37 -0700 (PDT)
Received: from mailgw3.ericsson.se (mailgw3.ericsson.se [193.180.251.60])
	by core3.amsl.com (Postfix) with ESMTP id 929993A6803
	for <sip@ietf.org>; Mon, 12 May 2008 22:16:37 -0700 (PDT)
Received: from mailgw3.ericsson.se (unknown [127.0.0.1])
	by mailgw3.ericsson.se (Symantec Mail Security) with ESMTP id
	B699F204B5; Tue, 13 May 2008 07:16:34 +0200 (CEST)
X-AuditID: c1b4fb3c-ac898bb00000193b-84-48292432fa74
Received: from esealmw128.eemea.ericsson.se (unknown [153.88.254.121])
	by mailgw3.ericsson.se (Symantec Mail Security) with ESMTP id
	9D58820405; Tue, 13 May 2008 07:16:34 +0200 (CEST)
Received: from esealmw113.eemea.ericsson.se ([153.88.200.4]) by
	esealmw128.eemea.ericsson.se with Microsoft SMTPSVC(6.0.3790.1830); 
	Tue, 13 May 2008 07:16:34 +0200
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Tue, 13 May 2008 07:16:33 +0200
Message-ID: <CA9998CD4A020D418654FCDEF4E707DF05C0F84D@esealmw113.eemea.ericsson.se>
In-Reply-To: <637C77B6763BB54ABF989B6B21D5323509F609@sonusmail05.sonusnet.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] Keep draft and manipulation of Via header on-stack
thread-index: Aci0VNSFmy0t1UPtSq6Ecxt3ScPsnAARaqMjAAd3faA=
References: <C749CD56-018A-4263-A3BC-9749F2216321@softarmor.com>
	<637C77B6763BB54ABF989B6B21D5323509F609@sonusmail05.sonusnet.com>
From: "Christer Holmberg" <christer.holmberg@ericsson.com>
To: "Bharrat, Shaun" <SBharrat@sonusnet.com>,
	"Dean Willis" <dean.willis@softarmor.com>, <sip@ietf.org>
X-OriginalArrivalTime: 13 May 2008 05:16:34.0501 (UTC)
	FILETIME=[83025750:01C8B4B8]
X-Brightmail-Tracker: AAAAAA==
Subject: Re: [Sip] Keep draft and manipulation of Via header on-stack
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Archive: <https://www.ietf.org/mailman/private/sip>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


Correct. keep=yes must be in the client Via, in order for the client to
receive it.

Regards,

Christer 

-----Original Message-----
From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On Behalf Of
Bharrat, Shaun
Sent: 13. toukokuuta 2008 4:49
To: Dean Willis; sip@ietf.org
Subject: Re: [Sip] Keep draft and manipulation of Via header on-stack

> draft-holmberg-sip-keep-00 section 7 says:
> When an edge proxy that supports the method defined in this 
> specification recieves a SIP REGISTER request which contains a "keep"
> parameter in the topmost Via header the edge proxy MUST add a "yes"  
> value to the "keep" parameter. In addition the edge proxy MAY include 
> a Flow-Timer header field if the associated SIP REGISTER response.
> I think this is the first time I've seen a specification that causes a

> proxy to modify a Via that was already in the request.
> So we really want to do this, or do we want the proxy to be adding its

> own Via with "keep=yes"?

Aside from the received= counter example, I'm not sure that adding the
keep=yes to the proxy's via would even work. Isn't the keep=yes also
used by the *client* to know that STUN is allowed on the SIP port? If
the keep=yes is only on the proxy's via, that is not there in the
response finally seen by the client.

Cheers,
Shaun



_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol Use
sip-implementors@cs.columbia.edu for questions on current sip Use
sipping@ietf.org for new developments on the application of sip

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol Use
sip-implementors@cs.columbia.edu for questions on current sip Use
sipping@ietf.org for new developments on the application of sip
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Mon May 12 22:23:17 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 3E2E73A6BFC;
	Mon, 12 May 2008 22:23:17 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 957AD3A6BE8
	for <sip@core3.amsl.com>; Mon, 12 May 2008 22:23:15 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -6.161
X-Spam-Level: 
X-Spam-Status: No, score=-6.161 tagged_above=-999 required=5 tests=[AWL=0.088, 
	BAYES_00=-2.599, HELO_EQ_SE=0.35, RCVD_IN_DNSWL_MED=-4]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id efLNpeshD1pH for <sip@core3.amsl.com>;
	Mon, 12 May 2008 22:23:14 -0700 (PDT)
Received: from mailgw3.ericsson.se (mailgw3.ericsson.se [193.180.251.60])
	by core3.amsl.com (Postfix) with ESMTP id 42FD53A6BEE
	for <sip@ietf.org>; Mon, 12 May 2008 22:21:44 -0700 (PDT)
Received: from mailgw3.ericsson.se (unknown [127.0.0.1])
	by mailgw3.ericsson.se (Symantec Mail Security) with ESMTP id
	C84B720801; Tue, 13 May 2008 07:21:41 +0200 (CEST)
X-AuditID: c1b4fb3c-ae09bbb00000193b-cc-48292565ab89
Received: from esealmw126.eemea.ericsson.se (unknown [153.88.254.123])
	by mailgw3.ericsson.se (Symantec Mail Security) with ESMTP id
	B79762065E; Tue, 13 May 2008 07:21:41 +0200 (CEST)
Received: from esealmw113.eemea.ericsson.se ([153.88.200.4]) by
	esealmw126.eemea.ericsson.se with Microsoft SMTPSVC(6.0.3790.1830); 
	Tue, 13 May 2008 07:21:35 +0200
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Tue, 13 May 2008 07:21:34 +0200
Message-ID: <CA9998CD4A020D418654FCDEF4E707DF05C0F84E@esealmw113.eemea.ericsson.se>
In-Reply-To: <200805122129.m4CLT53n025414@dragon.ariadne.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] draft-ietf-sip-outbound
thread-index: Aci0d0DVjxWSuprbQ9qpQTafQe6lvwAQbDmQ
References: <18465.17834.732392.527310@taimen.test.fi><CA9998CD4A020D418654FCDEF4E707DF046C776E@esealmw113.eemea.ericsson.se><18465.32545.345585.820414@taimen.test.fi><E6C2E8958BA59A4FB960963D475F7AC30BD8050F5A@mail.acmepacket.com><18465.55659.177188.471351@taimen.test.fi><1ECE0EB50388174790F9694F77522CCF16A01DDF@zrc2hxm0.corp.nortel.com><18466.880.342656.104598@taimen.test.fi><E6C2E8958BA59A4FB960963D475F7AC30BD80514C7@mail.acmepacket.com><48222D54.7020006@iptel.org><E6C2E8958BA59A4FB960963D475F7AC30BD8051669@mail.acmepacket.com><CA9998CD4A020D418654FCDEF4E707DF046C7775@esealmw113.eemea.ericsson.se><18466.42180.621089.330513@taimen.test.fi>
	<4822AB7C.9000108@iptel.org><1ECE0EB50388174790F9694F77522CCF16A5306F@zrc2hxm0.corp.nortel.com><18467.10759.517606.958702@taimen.test.fi><1ECE0EB50388174790F9694F77522CCF16A5321E@zrc2hxm0.corp.nortel.com><18467.12939.938913.841738@taimen.test.fi><1ECE0EB50388174790F9694F77522CCF16A53410@zrc2hxm0.corp.nortel.com><"E6C2E8958BA59A4FB
	960963D 475F7 AC 30BD80C2A8B"
	@mail.acmepacket.com><18467.17492.323683.861768@taimen.test.fi><CA9998CD4A020D418654FCDEF4E707DF05C0F825@esealmw113.eemea.ericsson.se><18467.64835.889246.384158@taimen.test.fi><CA9998CD4A020D418654FCDEF4E707DF05C0F827@esealmw113.eemea.ericsson.se><18468.5.693161.719570@taimen.test.fi><CA9998CD4A020D418654FCDEF4E707DF046C778B@esealmw113.eemea.ericsson.se><18469.39991.678671.481517@taimen.test.fi><CA9998CD4A020D418654FCDEF4E707DF046C7790@esealmw113.eemea.ericsson.se><18470.57128.173863.130568@taimen.test.fi><0D5F89FAC29E2C41B98A6A762007F5D0B83E6C@GBNTHT12009MSX.gb002.siemens.net>
	<200805122129.m4CLT53n025414@dragon.ariadne.com>
From: "Christer Holmberg" <christer.holmberg@ericsson.com>
To: <Dale.Worley@comcast.net>,
	<sip@ietf.org>
X-OriginalArrivalTime: 13 May 2008 05:21:35.0070 (UTC)
	FILETIME=[362987E0:01C8B4B9]
X-Brightmail-Tracker: AAAAAA==
Subject: Re: [Sip] draft-ietf-sip-outbound
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Archive: <https://www.ietf.org/mailman/private/sip>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


Hi,

The UA can register with all 5 if it wants to. "At least two" allows for
as many as you want :)

Regards,

Christer 

-----Original Message-----
From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On Behalf Of
Dale.Worley@comcast.net
Sent: 13. toukokuuta 2008 0:29
To: sip@ietf.org
Subject: Re: [Sip] draft-ietf-sip-outbound

   From: "Elwell, John" <john.elwell@siemens.com>

   I see no purpose in a UA being able to be configured with 5, say,
   entries in its set if it is never going to register with more than
   2.

I assume the idea is that if 2 of the proxies are down or unreachable,
the UA will register with 2 of the remaining 3 proxies.  Presumably the
idea is that the proxies are not individually reliable, and the UA will
have to search through a set of them to find ones that it can register
with.

Dale
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol Use
sip-implementors@cs.columbia.edu for questions on current sip Use
sipping@ietf.org for new developments on the application of sip
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Tue May 13 05:39:47 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 22CD33A67EA;
	Tue, 13 May 2008 05:39:47 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 3984C28C15F
	for <sip@core3.amsl.com>; Tue, 13 May 2008 05:39:44 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.599
X-Spam-Level: 
X-Spam-Status: No, score=-2.599 tagged_above=-999 required=5
	tests=[BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id x8dRUXqWld5C for <sip@core3.amsl.com>;
	Tue, 13 May 2008 05:39:39 -0700 (PDT)
Received: from voxeo.com (mmail.voxeo.com [66.193.54.208])
	by core3.amsl.com (Postfix) with ESMTP id 898A03A67EA
	for <sip@ietf.org>; Tue, 13 May 2008 05:39:38 -0700 (PDT)
Received: from pc-00144.lodestar2.dyndns.org (account dyork [75.68.245.43]
	verified) by voxeo.com (CommuniGate Pro SMTP 5.1.14)
	with ESMTPSA id 31019976; Tue, 13 May 2008 12:38:35 +0000
Message-Id: <62CA37AF-C3DD-49BE-9128-057711C78E81@voxeo.com>
From: Dan York <dyork@voxeo.com>
To: Dan Wing <dwing@cisco.com>
In-Reply-To: <03f901c8afde$ee9398f0$c3f0200a@cisco.com>
Mime-Version: 1.0 (Apple Message framework v919.2)
Date: Tue, 13 May 2008 08:38:33 -0400
References: <066701c8af02$2445f8e0$c3f0200a@cisco.com>
	<20080506000110.499525081A@romeo.rtfm.com>
	<03f901c8afde$ee9398f0$c3f0200a@cisco.com>
X-Mailer: Apple Mail (2.919.2)
Cc: 'IETF SIP List' <sip@ietf.org>, "'Fries,
	Steffen \(CT\)'" <steffen.fries@siemens.com>,
	'Dean Willis' <dean.willis@softarmor.com>
Subject: Re: [Sip] draft-ietf-sip-media-security-requirements-05
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Archive: <https://www.ietf.org/mailman/private/sip>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

>
Dan,

> The wordsmithing task falls to me, I suppose.
>
> Here is another straw man, which I think captures your sentence
> above your signature and your [0] comment:
>
>      R-CERTS:
>
>      The media security key management protocol MUST NOT require
>      using a trust anchor to validate credentials (e.g., a
>      certificate) or to obtain credentials (e.g., a private key)
>      used in the protocol.

Your wordsmithing is fine by me.  I also liked the discussion you  
included in section 4.9 which explains the rationale for this  
requirement more.

  	4.9. Certificates	
				
			The discussion in this section relates to R-CERTS.	
				
			On the Internet and on some private networks, validating another	
			peer's certificate is often done through a trust anchor -- a list of	
			Certificate Authorities that are trusted. It can be difficult or	
			expensive for a peer to obtain these certificates. In all cases,	
			both parties to the call would need to trust the same trust anchor	
			(i.e., "certificate authority"). For these reasons, it is important	
			that authentication mechanisms that utilize trust anchors not rely	
			exclusively on such Certificate Authority-issued certificates, but  
to	
			also allow self-signed certificates. By allowing the use of such	
			self-signed certificates, an out-of-band mechanism (e.g., manual	
			configuration) can be used to trust a peer's certificate.

Regards,
Dan

-- 
Dan York, CISSP, Director of Emerging Communication Technology
Office of the CTO    Voxeo Corporation     dyork@voxeo.com
Phone: +1-407-455-5859  Skype: danyork  http://www.voxeo.com
Blogs: http://blogs.voxeo.com  http://www.disruptivetelephony.com

Build voice applications based on open standards.
Find out how at http://www.voxeo.com/free





_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Tue May 13 05:47:02 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id BE71A28C146;
	Tue, 13 May 2008 05:47:02 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 5A9A33A65A6
	for <sip@core3.amsl.com>; Tue, 13 May 2008 05:47:01 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.36
X-Spam-Level: 
X-Spam-Status: No, score=-2.36 tagged_above=-999 required=5 tests=[AWL=-0.239, 
	BAYES_00=-2.599, WHOIS_DMNBYPROXY=0.478]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id ouQvehigF0eI for <sip@core3.amsl.com>;
	Tue, 13 May 2008 05:46:54 -0700 (PDT)
Received: from voxeo.com (mmail.voxeo.com [66.193.54.208])
	by core3.amsl.com (Postfix) with ESMTP id 494C03A68B6
	for <sip@ietf.org>; Tue, 13 May 2008 05:46:54 -0700 (PDT)
Received: from pc-00144.lodestar2.dyndns.org (account dyork [75.68.245.43]
	verified) by voxeo.com (CommuniGate Pro SMTP 5.1.14)
	with ESMTPSA id 31020070; Tue, 13 May 2008 12:44:04 +0000
Message-Id: <3691989C-34B8-4D53-8ABD-38F82D58F70B@voxeo.com>
From: Dan York <dyork@voxeo.com>
To: Dean Willis <dean.willis@softarmor.com>
In-Reply-To: <524EE6A1-2FC5-4741-B542-84344B146FC1@softarmor.com>
Mime-Version: 1.0 (Apple Message framework v919.2)
Date: Tue, 13 May 2008 08:44:03 -0400
References: <066701c8af02$2445f8e0$c3f0200a@cisco.com>
	<524EE6A1-2FC5-4741-B542-84344B146FC1@softarmor.com>
X-Mailer: Apple Mail (2.919.2)
Cc: IETF SIP List <sip@ietf.org>, Dan Wing <dwing@cisco.com>
Subject: Re: [Sip] draft-ietf-sip-media-security-requirements-05
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Archive: <https://www.ietf.org/mailman/private/sip>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

To that end, the new URL for side-by-side differences with the -06  
draft is:

http://www.tools.ietf.org/rfcdiff?url1=http://tools.ietf.org/internet-drafts/draft-ietf-sip-media-security-requirements-04.txt&url2=http://www.ietf.org/internet-drafts/draft-ietf-sip-media-security-requirements-06.txt

or  in a shortened form:  http://snurl.com/28mtd

The link below to the diff with the -05 draft no longer works.

The document looks good to me,
Dan (Y. not W.)

On May 7, 2008, at 2:58 AM, Dean Willis wrote:

>
> Y'all make sure you're happy with this, as this draft supposedly
> addresses everything received in WGLC . . .
>
> so it's about ready to be a "done deal" and sent to the IESG.
>
> --
> Dean
>
> On May 5, 2008, at 5:48 PM, Dan Wing wrote:
>
>> I just checked in draft-ietf-sip-media-security-requirements-05 with
>> the
>> following changes:
>>
>> * moved 'shared keyed conferencing' section to Appendix B.
>>
>> * added motivation text for R-OTHER-SIGNALING (new Section 4.8)
>>   and R-CERTS (new Section 4.9)
>>
>> * R-CERTS now reads:
>>
>>     The media security key management protocol MUST NOT constrain	
>>     the set of trust anchors that a peer can use to validate	
>>     certificates used in the protocol.
>>
>> * other minor changes
>>
>> side-by-side differences are available at http://tinyurl.com/6hy85b
>>
>> http://www.ietf.org/internet-drafts/draft-ietf-sip-media-security-requirements
>> -05.txt
>>
>> -d
>>
>> _______________________________________________
>> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
>> This list is for NEW development of the core SIP Protocol
>> Use sip-implementors@cs.columbia.edu for questions on current sip
>> Use sipping@ietf.org for new developments on the application of sip
>>
>
> _______________________________________________
> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip

-- 
Dan York, CISSP, Director of Emerging Communication Technology
Office of the CTO    Voxeo Corporation     dyork@voxeo.com
Phone: +1-407-455-5859  Skype: danyork  http://www.voxeo.com
Blogs: http://blogs.voxeo.com  http://www.disruptivetelephony.com

Build voice applications based on open standards.
Find out how at http://www.voxeo.com/free





_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Tue May 13 10:21:05 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 51CF93A67D4;
	Tue, 13 May 2008 10:21:05 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 906CF3A67D4
	for <sip@core3.amsl.com>; Tue, 13 May 2008 10:21:02 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -1.598
X-Spam-Level: 
X-Spam-Status: No, score=-1.598 tagged_above=-999 required=5 tests=[AWL=1.001, 
	BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id tldKQ4MdKvG1 for <sip@core3.amsl.com>;
	Tue, 13 May 2008 10:21:01 -0700 (PDT)
Received: from romeo.rtfm.com (romeo.rtfm.com [74.95.2.173])
	by core3.amsl.com (Postfix) with ESMTP id 835983A67A4
	for <sip@ietf.org>; Tue, 13 May 2008 10:21:01 -0700 (PDT)
Received: from romeo.rtfm.com (localhost.rtfm.com [127.0.0.1])
	by romeo.rtfm.com (Postfix) with ESMTP id 4D4025081A;
	Tue, 13 May 2008 10:15:27 -0700 (PDT)
Date: Tue, 13 May 2008 10:15:27 -0700
From: Eric Rescorla <ekr@networkresonance.com>
To: Dan York <dyork@voxeo.com>
In-Reply-To: <62CA37AF-C3DD-49BE-9128-057711C78E81@voxeo.com>
References: <066701c8af02$2445f8e0$c3f0200a@cisco.com>
	<20080506000110.499525081A@romeo.rtfm.com>
	<03f901c8afde$ee9398f0$c3f0200a@cisco.com>
	<62CA37AF-C3DD-49BE-9128-057711C78E81@voxeo.com>
User-Agent: Wanderlust/2.14.0 (Africa) Emacs/21.3 Mule/5.0 (SAKAKI)
MIME-Version: 1.0 (generated by SEMI 1.14.6 - "Maruoka")
Message-Id: <20080513171527.4D4025081A@romeo.rtfm.com>
Cc: 'IETF SIP List' <sip@ietf.org>, "'Fries,
	Steffen \(CT\)'" <steffen.fries@siemens.com>, Dan Wing <dwing@cisco.com>,
	'Dean Willis' <dean.willis@softarmor.com>
Subject: Re: [Sip] draft-ietf-sip-media-security-requirements-05
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Archive: <https://www.ietf.org/mailman/private/sip>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

At Tue, 13 May 2008 08:38:33 -0400,
Dan York wrote:
> 
> >
> Dan,
> 
> > The wordsmithing task falls to me, I suppose.
> >
> > Here is another straw man, which I think captures your sentence
> > above your signature and your [0] comment:
> >
> >      R-CERTS:
> >
> >      The media security key management protocol MUST NOT require
> >      using a trust anchor to validate credentials (e.g., a
> >      certificate) or to obtain credentials (e.g., a private key)
> >      used in the protocol.
> 
> Your wordsmithing is fine by me.  I also liked the discussion you  
> included in section 4.9 which explains the rationale for this  
> requirement more.
> 
>   	4.9. Certificates	
> 				
> 			The discussion in this section relates to R-CERTS.	
> 				
> 			On the Internet and on some private networks, validating another	
> 			peer's certificate is often done through a trust anchor -- a list of	
> 			Certificate Authorities that are trusted. It can be difficult or	
> 			expensive for a peer to obtain these certificates. In all cases,	
> 			both parties to the call would need to trust the same trust anchor	
> 			(i.e., "certificate authority"). For these reasons, it is important	
> 			that authentication mechanisms that utilize trust anchors not rely	
> 			exclusively on such Certificate Authority-issued certificates, but  
> to	
> 			also allow self-signed certificates. By allowing the use of such	
> 			self-signed certificates, an out-of-band mechanism (e.g., manual	
> 			configuration) can be used to trust a peer's certificate.

I was sort of OK with Dan's original text, though I probably would have
wordsmithed it differently, but I don't agree with this discussion at all.
Any certificate system can in principle be used with self-signed certs
by doing SSH-style fingerprint exchange. The question is whether there
is a practical deployment model that actually supports this.


Consider two examples, both using TLS:

- HTTPS in the majority of cases is incompatible with manual establishment
  of peer credentials. You connect to a lot of different Web servers and
  it's not practical to obtain their certificates out of band.
- IMAP over TLS is compatible with manual establishment of peer credentials
  because you connect with only one or two servers and you already share
  a shared secret (the password) so it's at least in principle possible
  to record their cert fingerprint. This is also why SSH works.

So, this isn't fundamentally an issue of protocol encoding (as Richard
has observed) but rather of the context in which the protocol is embedded.


So, I would rewrite this section as follows:

     On the Internet and on some private networks, validating another
     peer's certificate is often done through a trust anchor -- a list
     of Certificate Authorities that are trusted. It can be difficult
     or expensive for a peer to obtain these certificates. In all
     cases, both parties to the call would need to trust the same
     trust anchor (i.e., "certificate authority"). For these reasons,
     it is important that the media plane key management protocol
     offer a mechanism that allows end-users who have no prior
     association to authenticate to each other without acquiring
     credentials from a third party trust point. Note that this does
     not rule out mechanisms in which servers have certificates and
     attest to the identities of end-users.

And since I'm in the writing business, I would adjust R-CERTS as follows:

      The media security key management protocol MUST NOT require
      that end-users obtain credentials (certificates or private
      keys) from a third-party trust anchor.
		 
-Ekr
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Tue May 13 10:32:59 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 04A5E3A6890;
	Tue, 13 May 2008 10:32:59 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 5B7BE3A6890
	for <sip@core3.amsl.com>; Tue, 13 May 2008 10:32:56 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -6.599
X-Spam-Level: 
X-Spam-Status: No, score=-6.599 tagged_above=-999 required=5
	tests=[BAYES_00=-2.599, RCVD_IN_DNSWL_MED=-4]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id driuWvLikehy for <sip@core3.amsl.com>;
	Tue, 13 May 2008 10:32:55 -0700 (PDT)
Received: from sj-iport-5.cisco.com (sj-iport-5.cisco.com [171.68.10.87])
	by core3.amsl.com (Postfix) with ESMTP id E022F3A6836
	for <sip@ietf.org>; Tue, 13 May 2008 10:32:54 -0700 (PDT)
X-IronPort-AV: E=Sophos;i="4.27,480,1204531200"; d="scan'208";a="26712508"
Received: from sj-dkim-1.cisco.com ([171.71.179.21])
	by sj-iport-5.cisco.com with ESMTP; 13 May 2008 10:29:49 -0700
Received: from sj-core-3.cisco.com (sj-core-3.cisco.com [171.68.223.137])
	by sj-dkim-1.cisco.com (8.12.11/8.12.11) with ESMTP id m4DHTni4009232; 
	Tue, 13 May 2008 10:29:49 -0700
Received: from dwingwxp01 ([10.32.240.195])
	by sj-core-3.cisco.com (8.13.8/8.13.8) with ESMTP id m4DHTmhC006357;
	Tue, 13 May 2008 17:29:48 GMT
From: "Dan Wing" <dwing@cisco.com>
To: "'Eric Rescorla'" <ekr@networkresonance.com>,
	"'Dan York'" <dyork@voxeo.com>
References: <066701c8af02$2445f8e0$c3f0200a@cisco.com><20080506000110.499525081A@romeo.rtfm.com><03f901c8afde$ee9398f0$c3f0200a@cisco.com><62CA37AF-C3DD-49BE-9128-057711C78E81@voxeo.com>
	<20080513171527.4D4025081A@romeo.rtfm.com>
Date: Tue, 13 May 2008 10:29:48 -0700
Message-ID: <035c01c8b51e$f1ac8200$c3f0200a@cisco.com>
MIME-Version: 1.0
X-Mailer: Microsoft Office Outlook 11
In-Reply-To: <20080513171527.4D4025081A@romeo.rtfm.com>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.3198
thread-index: Aci1HG/UW4o8SFMsR8yTeGTenmW0BwAAclNA
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; l=4706; t=1210699789;
	x=1211563789; c=relaxed/simple; s=sjdkim1004;
	h=Content-Type:From:Subject:Content-Transfer-Encoding:MIME-Version;
	d=cisco.com; i=dwing@cisco.com;
	z=From:=20=22Dan=20Wing=22=20<dwing@cisco.com>
	|Subject:=20RE=3A=20[Sip]=20draft-ietf-sip-media-security-r
	equirements-05 |Sender:=20;
	bh=5uo1NSRQhIwnM5BDyCYbLQ8+2YVQPC6wzNpsfc/FPLg=;
	b=LxDHE9Q36sRcRfK0rP/peKO5STrNVBi6BtLQvzSy/0+v9e/nbMMBJ6dnZG
	5BIEs9i3qdjEUZHZec+uW00UWQiB/sMVR5zzr01uosfcr3rZjYb9u/kK90gi
	29m4PBDWM9JVq1bu38ZylXiRAHHeH0nDB2CEJHpqcpRkTsZNCSETY=;
Authentication-Results: sj-dkim-1; header.From=dwing@cisco.com; dkim=pass (
	sig from cisco.com/sjdkim1004 verified; ); 
Cc: 'IETF SIP List' <sip@ietf.org>, "'Fries,
	Steffen \(CT\)'" <steffen.fries@siemens.com>,
	'Dean Willis' <dean.willis@softarmor.com>
Subject: Re: [Sip] draft-ietf-sip-media-security-requirements-05
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Archive: <https://www.ietf.org/mailman/private/sip>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

> -----Original Message-----
> From: Eric Rescorla [mailto:ekr@networkresonance.com] 
> Sent: Tuesday, May 13, 2008 10:15 AM
> To: Dan York
> Cc: Dan Wing; 'Eric Rescorla'; 'IETF SIP List'; 'Fries, 
> Steffen (CT)'; 'Dean Willis'
> Subject: Re: [Sip] draft-ietf-sip-media-security-requirements-05
> 
> At Tue, 13 May 2008 08:38:33 -0400,
> Dan York wrote:
> > 
> > >
> > Dan,
> > 
> > > The wordsmithing task falls to me, I suppose.
> > >
> > > Here is another straw man, which I think captures your sentence
> > > above your signature and your [0] comment:
> > >
> > >      R-CERTS:
> > >
> > >      The media security key management protocol MUST NOT require
> > >      using a trust anchor to validate credentials (e.g., a
> > >      certificate) or to obtain credentials (e.g., a private key)
> > >      used in the protocol.
> > 
> > Your wordsmithing is fine by me.  I also liked the discussion you  
> > included in section 4.9 which explains the rationale for this  
> > requirement more.
> > 
> >   	4.9. Certificates	
> > 				
> > 			The discussion in this section relates 
> to R-CERTS.	
> > 				
> > 			On the Internet and on some private 
> networks, validating another	
> > 			peer's certificate is often done 
> through a trust anchor -- a list of	
> > 			Certificate Authorities that are 
> trusted. It can be difficult or	
> > 			expensive for a peer to obtain these 
> certificates. In all cases,	
> > 			both parties to the call would need to 
> trust the same trust anchor	
> > 			(i.e., "certificate authority"). For 
> these reasons, it is important	
> > 			that authentication mechanisms that 
> utilize trust anchors not rely	
> > 			exclusively on such Certificate 
> Authority-issued certificates, but  
> > to	
> > 			also allow self-signed certificates. By 
> allowing the use of such	
> > 			self-signed certificates, an 
> out-of-band mechanism (e.g., manual	
> > 			configuration) can be used to trust a 
> peer's certificate.
> 
> I was sort of OK with Dan's original text, though I probably 
> would have
> wordsmithed it differently, but I don't agree with this 
> discussion at all.
> Any certificate system can in principle be used with self-signed certs
> by doing SSH-style fingerprint exchange. The question is whether there
> is a practical deployment model that actually supports this.
> 
> 
> Consider two examples, both using TLS:
> 
> - HTTPS in the majority of cases is incompatible with manual 
> establishment
>   of peer credentials. You connect to a lot of different Web 
> servers and
>   it's not practical to obtain their certificates out of band.

But sometimes you have to.  And, fortunately, almost every HTTPS-capable
client allows you to accept a certificate that isn't signed by a 
CA that the HTTPS client trusts.  

For example, Firefox 3.0b5 complains about both of these certificates 
for different reasons:

  https://www.softarmor.com
  https://www.verisign.net

> - IMAP over TLS is compatible with manual establishment of 
> peer credentials
>   because you connect with only one or two servers and you 
> already share
>   a shared secret (the password) so it's at least in 
> principle possible
>   to record their cert fingerprint. This is also why SSH works.
> 
> So, this isn't fundamentally an issue of protocol encoding (as Richard
> has observed) but rather of the context in which the protocol 
> is embedded.
> 
> 
> So, I would rewrite this section as follows:
> 
>      On the Internet and on some private networks, validating another
>      peer's certificate is often done through a trust anchor -- a list
>      of Certificate Authorities that are trusted. It can be difficult
>      or expensive for a peer to obtain these certificates. In all
>      cases, both parties to the call would need to trust the same
>      trust anchor (i.e., "certificate authority"). For these reasons,
>      it is important that the media plane key management protocol
>      offer a mechanism that allows end-users who have no prior
>      association to authenticate to each other without acquiring
>      credentials from a third party trust point. Note that this does
>      not rule out mechanisms in which servers have certificates and
>      attest to the identities of end-users.
> 
> And since I'm in the writing business, I would adjust R-CERTS 
> as follows:
> 
>       The media security key management protocol MUST NOT require
>       that end-users obtain credentials (certificates or private
>       keys) from a third-party trust anchor.

Thanks.  I will wait a few days for additional comments.

-d

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Tue May 13 11:21:24 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id F06B93A6847;
	Tue, 13 May 2008 11:21:23 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id D40F23A6847
	for <sip@core3.amsl.com>; Tue, 13 May 2008 11:21:21 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -1.709
X-Spam-Level: 
X-Spam-Status: No, score=-1.709 tagged_above=-999 required=5 tests=[AWL=0.890, 
	BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id RJUGSNUypmlB for <sip@core3.amsl.com>;
	Tue, 13 May 2008 11:21:20 -0700 (PDT)
Received: from romeo.rtfm.com (romeo.rtfm.com [74.95.2.173])
	by core3.amsl.com (Postfix) with ESMTP id D93003A67E9
	for <sip@ietf.org>; Tue, 13 May 2008 11:21:20 -0700 (PDT)
Received: from romeo.rtfm.com (localhost.rtfm.com [127.0.0.1])
	by romeo.rtfm.com (Postfix) with ESMTP id ABF085081A;
	Tue, 13 May 2008 11:13:37 -0700 (PDT)
Date: Tue, 13 May 2008 11:13:37 -0700
From: Eric Rescorla <ekr@networkresonance.com>
To: "Dan Wing" <dwing@cisco.com>
In-Reply-To: <035c01c8b51e$f1ac8200$c3f0200a@cisco.com>
References: <066701c8af02$2445f8e0$c3f0200a@cisco.com>
	<20080506000110.499525081A@romeo.rtfm.com>
	<03f901c8afde$ee9398f0$c3f0200a@cisco.com>
	<62CA37AF-C3DD-49BE-9128-057711C78E81@voxeo.com>
	<20080513171527.4D4025081A@romeo.rtfm.com>
	<035c01c8b51e$f1ac8200$c3f0200a@cisco.com>
User-Agent: Wanderlust/2.14.0 (Africa) Emacs/21.3 Mule/5.0 (SAKAKI)
MIME-Version: 1.0 (generated by SEMI 1.14.6 - "Maruoka")
Message-Id: <20080513181337.ABF085081A@romeo.rtfm.com>
Cc: 'IETF SIP List' <sip@ietf.org>, "'Fries,
	Steffen \(CT\)'" <steffen.fries@siemens.com>,
	'Dean Willis' <dean.willis@softarmor.com>
Subject: Re: [Sip] draft-ietf-sip-media-security-requirements-05
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Archive: <https://www.ietf.org/mailman/private/sip>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

At Tue, 13 May 2008 10:29:48 -0700,
Dan Wing wrote:
> > Consider two examples, both using TLS:
> > 
> > - HTTPS in the majority of cases is incompatible with manual 
> > establishment
> >   of peer credentials. You connect to a lot of different Web 
> > servers and
> >   it's not practical to obtain their certificates out of band.
> 
> But sometimes you have to.  And, fortunately, almost every HTTPS-capable
> client allows you to accept a certificate that isn't signed by a 
> CA that the HTTPS client trusts.  
> 
> For example, Firefox 3.0b5 complains about both of these certificates 
> for different reasons:
> 
>   https://www.softarmor.com
>   https://www.verisign.net

Agreed, which is why I said "a majority" instead of all.

There are certainly cases in which HTTPS can be safely used with
manually verified server credentials in the face of active attack, but
they're the exception, not the rule. The basic assumption of the
active attack protection in HTTPS is that the client can verify the
server's certificate based purely on the URI and a list of trust
anchors. Had it been suggested that the client had to get a
certificate out of band for every server he wanted to communicate
with, this would have been (rightly) criticized as unscalable.

-Ekr

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Tue May 13 12:51:01 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id D91473A68B3;
	Tue, 13 May 2008 12:51:01 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 892CB3A68B3
	for <sip@core3.amsl.com>; Tue, 13 May 2008 12:50:59 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -6.372
X-Spam-Level: 
X-Spam-Status: No, score=-6.372 tagged_above=-999 required=5 tests=[AWL=0.227, 
	BAYES_00=-2.599, RCVD_IN_DNSWL_MED=-4]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id Eg3mbRvNiFb3 for <sip@core3.amsl.com>;
	Tue, 13 May 2008 12:50:58 -0700 (PDT)
Received: from zcars04e.nortel.com (zcars04e.nortel.com [47.129.242.56])
	by core3.amsl.com (Postfix) with ESMTP id 73A083A6890
	for <sip@ietf.org>; Tue, 13 May 2008 12:50:58 -0700 (PDT)
Received: from zrc2hxm0.corp.nortel.com (zrc2hxm0.corp.nortel.com
	[47.103.123.71])
	by zcars04e.nortel.com (Switch-2.2.0/Switch-2.2.0) with ESMTP id
	m4DJ0Vg10127; Tue, 13 May 2008 19:00:31 GMT
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Tue, 13 May 2008 14:01:27 -0500
Message-ID: <1ECE0EB50388174790F9694F77522CCF16C1098C@zrc2hxm0.corp.nortel.com>
In-Reply-To: <CA9998CD4A020D418654FCDEF4E707DF046C77A5@esealmw113.eemea.ericsson.se>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] draft-ietf-sip-outbound
Thread-Index: AciynETYaonEt/1yTC6+lj7GlCfrbABtlxxwAAXDjQgALMjO0A==
References: <18465.17834.732392.527310@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C776E@esealmw113.eemea.ericsson.se>
	<18465.32545.345585.820414@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8050F5A@mail.acmepacket.com>
	<18465.55659.177188.471351@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A01DDF@zrc2hxm0.corp.nortel.com>
	<18466.880.342656.104598@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD80514C7@mail.acmepacket.com>
	<48222D54.7020006@iptel.org>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8051669@mail.acmepacket.com>
	<CA9998CD4A020D418654FCDEF4E707DF046C7775@esealmw113.eemea.ericsson.se>
	<18466.42180.621089.330513@taimen.test.fi>	<4822AB7C.9000108@iptel.org>
	<1ECE0EB50388174790F9694F77522CCF16A5306F@zrc2hxm0.corp.nortel.com>
	<18467.10759.517606.958702@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A5321E@zrc2hxm0.corp.nortel.com>
	<18467.12939.938913.841738@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A53410@zrc2hxm0.corp.nortel.com>
	<18467.16! ! ! ! 487 .1 71324.50 8479 @! t aimen.te st.fi>	<E6C2E
	8958BA59A4FB960963D475F7AC30BD80C2A8B@mail.acmepacket.com>
	<18467.17492.323683.861768@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF05C0F825@esealmw113.eemea.ericsson.se>
	<A8948F50-3BAC-4CA2-BA42-E2F4F9493BEF@softarmor.com>
	<18468.3962.993600.980552@taimen.test.fi>
	<6A699061-514E-40F9-8949-B44EF76D9A02@softarmor.com>
	<18469.13630.852013.419236@taimen.test.fi>
	<B0CF5278-8A23-4033-A5AF-4924BA98B9B4@softarmor.com>
	<18469.39359.781686.130823@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16B721A0@zrc2hxm0.corp.nortel.com>
	<CA9998CD4A020D418654FCDEF4E707DF046C77A5@esealmw113.eemea.ericsson.se>
From: "Francois Audet" <audet@nortel.com>
To: "Christer Holmberg" <christer.holmberg@ericsson.com>,
	"Juha Heinanen" <jh@tutpro.com>, "Dean Willis" <dean.willis@softarmor.com>
Cc: sip@ietf.org, drage@alcatel-lucent.com, "Elwell,
	John" <john.elwell@siemens.com>
Subject: Re: [Sip] draft-ietf-sip-outbound
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Archive: <https://www.ietf.org/mailman/private/sip>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

 

> -----Original Message-----
> From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On 
> Behalf Of Christer Holmberg
> Sent: Monday, May 12, 2008 13:15
> To: Audet, Francois (SC100:3055); Juha Heinanen; Dean Willis
> Cc: sip@ietf.org; Elwell, John; drage@alcatel-lucent.com
> Subject: Re: [Sip] draft-ietf-sip-outbound
> 
> Hi Francois,
>  
> If you, as you propose, say:
>  
> "If the set has more than one URI, the UAC MUST send a 
> REGISTER request to at least two of the  default outbound 
> proxies from the set."
>  
> ..do you then really need the sentence saying:
>  
> "For each outbound proxy URI in the set, the UAC SHOULD send 
> a REGISTER request using this URI as the default outbound proxy."

Well, yes: it says you SHOULD do them all (but MUST at least 2). The
battery life stuff is justification for the SHOULD (i.e., why it's not
a MUST).

 
> Wouldn't it be enough to say that the UAC MUST register with 
> at least two?
>

If it's clearer, I could do this instead:

   For each outbound proxy URI in the set, the UAC SHOULD send a
   REGISTER request using this URI as the default outbound proxy:
   however, if the set has more than one URI, the UAC MUST send a 
   REGISTER request to at least two of the default outbound proxies 
   from the set. The reason for not mandating all the proxies in
   the set is that the UA could limit the number of flows formed to 
   conserve battery power, for example. The reason for mandating at
   least two is ensure high-availability if available. UAs that [...]

> I guess the question is whether UACs "with battery life 
> issues" want to be able to establish single flows or not. 
> Since the current draft does seem to allow it (at least it 
> doesn't explicitly forbid it) it could be rather unwise to 
> remove that possibility at this point, because it COULD be 
> seen as a rather big change. Maybe one solution would be to 
> strongly recommend against it, and add some words about the 
> lost functionality by doing so, but not explicitly forbid it.

That's why we are asking for feedback. So far I have heard 
nobody saying that 2 as a minimum is not acceptable.

But we have one stong opinion that 1 is not good.

The draft is ambibuous about 2 or 1. I for one read it 
as saying that 2 was the minimum (because it says 
"However, a UA MUST support sets with at least two outbound 
 proxy URIs and SHOULD support sets with up to four URIs."

So it's very unclear to to me that we would be "changing" from
1 to 2 "late in the game".

So, let's wait for more opinions.

> On the other hand, assuming the keep-draft moves forward: if 
> you are only going to establish a single flow I am not sure 
> you would need Outbound in the first place - keep would be enough :)
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Tue May 13 13:02:25 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 8BCFD3A68DF;
	Tue, 13 May 2008 13:02:20 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 51A603A6890
	for <sip@core3.amsl.com>; Tue, 13 May 2008 13:02:17 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -6.176
X-Spam-Level: 
X-Spam-Status: No, score=-6.176 tagged_above=-999 required=5 tests=[AWL=0.073, 
	BAYES_00=-2.599, HELO_EQ_SE=0.35, RCVD_IN_DNSWL_MED=-4]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id NOMn8gDcajdC for <sip@core3.amsl.com>;
	Tue, 13 May 2008 13:02:00 -0700 (PDT)
Received: from mailgw4.ericsson.se (mailgw4.ericsson.se [193.180.251.62])
	by core3.amsl.com (Postfix) with ESMTP id F176C3A6901
	for <sip@ietf.org>; Tue, 13 May 2008 13:01:51 -0700 (PDT)
Received: from mailgw4.ericsson.se (unknown [127.0.0.1])
	by mailgw4.ericsson.se (Symantec Mail Security) with ESMTP id
	84B79212C1; Tue, 13 May 2008 21:41:32 +0200 (CEST)
X-AuditID: c1b4fb3e-ab993bb000004ec0-ea-4829eeec9fd9
Received: from esealmw128.eemea.ericsson.se (unknown [153.88.254.121])
	by mailgw4.ericsson.se (Symantec Mail Security) with ESMTP id
	53250200FE; Tue, 13 May 2008 21:41:32 +0200 (CEST)
Received: from esealmw113.eemea.ericsson.se ([153.88.200.4]) by
	esealmw128.eemea.ericsson.se with Microsoft SMTPSVC(6.0.3790.1830); 
	Tue, 13 May 2008 21:41:32 +0200
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Tue, 13 May 2008 21:40:48 +0200
Message-ID: <CA9998CD4A020D418654FCDEF4E707DF046C77AE@esealmw113.eemea.ericsson.se>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] draft-ietf-sip-outbound
thread-index: AciynETYaonEt/1yTC6+lj7GlCfrbABtlxxwAAXDjQgALMjO0AAEWAge
References: <18465.17834.732392.527310@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C776E@esealmw113.eemea.ericsson.se>
	<18465.32545.345585.820414@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8050F5A@mail.acmepacket.com>
	<18465.55659.177188.471351@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A01DDF@zrc2hxm0.corp.nortel.com>
	<18466.880.342656.104598@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD80514C7@mail.acmepacket.com>
	<48222D54.7020006@iptel.org>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8051669@mail.acmepacket.com>
	<CA9998CD4A020D418654FCDEF4E707DF046C7775@esealmw113.eemea.ericsson.se>
	<18466.42180.621089.330513@taimen.test.fi>	<4822AB7C.9000108@iptel.org>
	<1ECE0EB50388174790F9694F77522CCF16A5306F@zrc2hxm0.corp.nortel.com>
	<18467.10759.517606.958702@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A5321E@zrc2hxm0.corp.nortel.com>
	<18467.12939.938913.841738@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A53410@zrc2hxm0.corp.nortel.com>
	<18467.16! ! ! ! 4 87 .1 71324.50 8479 @! t aimen.te st.fi>	<E6C2E
	8958BA59A4FB960963D475F7AC30BD80C2A8B@mail.acmepacket.com>
	<18467.17492.323683.861768@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF05C0F825@esealmw113.eemea.ericsson.se>
	<A8948F50-3BAC-4CA2-BA42-E2F4F9493BEF@softarmor.com>
	<18468.3962.993600.980552@taimen.test.fi>
	<6A699061-514E-40F9-8949-B44EF76D9A02@softarmor.com>
	<18469.13630.852013.419236@taimen.test.fi>
	<B0CF5278-8A23-4033-A5AF-4924BA98B9B4@softarmor.com>
	<18469.39359.781686.130823@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16B721A0@zrc2hxm0.corp.nortel.com>
	<CA9998CD4A020D418654FCDEF4E707DF046C77A5@esealmw113.eemea.ericsson.se>
	<1ECE0EB50388174790F9694F77522CCF16C1098C@zrc2hxm0.corp.nortel.com>
From: "Christer Holmberg" <christer.holmberg@ericsson.com>
To: "Francois Audet" <audet@nortel.com>, "Juha Heinanen" <jh@tutpro.com>,
	"Dean Willis" <dean.willis@softarmor.com>
X-OriginalArrivalTime: 13 May 2008 19:41:32.0121 (UTC)
	FILETIME=[5866B490:01C8B531]
X-Brightmail-Tracker: AAAAAA==
Cc: sip@ietf.org, drage@alcatel-lucent.com, "Elwell,
	John" <john.elwell@siemens.com>
Subject: Re: [Sip] draft-ietf-sip-outbound
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Archive: <https://www.ietf.org/mailman/private/sip>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Hi,
 
>>If you, as you propose, say:
>> 
>>"If the set has more than one URI, the UAC MUST send a
>>REGISTER request to at least two of the  default outbound
>>proxies from the set."
>> 
>>..do you then really need the sentence saying:
>> 
>>"For each outbound proxy URI in the set, the UAC SHOULD send
>>a REGISTER request using this URI as the default outbound proxy."
>
>Well, yes: it says you SHOULD do them all (but MUST at least 2). The
>battery life stuff is justification for the SHOULD (i.e., why it's not
>a MUST).

There are other reasons than batterly life also, e.g. if the UA is able to choose between different access technologies and the outbound proxies are access technology dependent. Radio resources is also one issue.
 
And, in visited schenarios, the UA may be provided with a large number of outbound proxies in the visited network, but the home registrar still only wants to use a smaller number of flows, so the UA has been configured to not establish more than that.
 
I do NOT want to spend time on discussing all those use-case, whether they are valide etc, but the point is that there most likely will be a number of non-battery related use-cases where a UA would not want to register with all outbound proxies.


>>Wouldn't it be enough to say that the UAC MUST register with at least two?
>
>
>If it's clearer, I could do this instead:
>
>   For each outbound proxy URI in the set, the UAC SHOULD send a
>   REGISTER request using this URI as the default outbound proxy:
>   however, if the set has more than one URI, the UAC MUST send a
>   REGISTER request to at least two of the default outbound proxies
>   from the set. The reason for not mandating all the proxies in
>   the set is that the UA could limit the number of flows formed to
>   conserve battery power, for example. The reason for mandating at
>   least two is ensure high-availability if available. UAs that [...]
 
I think that looks good. You COULD add, after "battery power", ", access resources, or if the registrar only supports a certain number of flows". 
 
But, if you don't want to do that I will not insist. I do not want to delay the draft :)


>>I guess the question is whether UACs "with battery life
>>issues" want to be able to establish single flows or not.
>>Since the current draft does seem to allow it (at least it
>>doesn't explicitly forbid it) it could be rather unwise to
>>remove that possibility at this point, because it COULD be
>>seen as a rather big change. Maybe one solution would be to
>>strongly recommend against it, and add some words about the
>>lost functionality by doing so, but not explicitly forbid it.
>
>That's why we are asking for feedback. So far I have heard
>nobody saying that 2 as a minimum is not acceptable.
>
>But we have one stong opinion that 1 is not good.
 
I also agree that 1 is not good, because it basically removes most of the Outbound functionality. And, even if we would allow 1, I think it is important that the lost functionality is clearly indicated.

>The draft is ambibuous about 2 or 1. I for one read it as saying that 2 was the minimum (because it says "However, a UA MUST support sets with at least two outbound proxy URIs and SHOULD support sets with up to four URIs."
>
>So it's very unclear to to me that we would be "changing" from 1 to 2 "late in the game".
 
Support a set of two, and register with two, are two different things :)

Regards,
 
Christer
 
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Tue May 13 16:03:39 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id DA6FB3A693E;
	Tue, 13 May 2008 16:03:38 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id BF42A3A68B5
	for <sip@core3.amsl.com>; Tue, 13 May 2008 16:03:18 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.759
X-Spam-Level: 
X-Spam-Status: No, score=-2.759 tagged_above=-999 required=5
	tests=[AWL=-0.160, BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id Sii2AggSWG33 for <sip@core3.amsl.com>;
	Tue, 13 May 2008 16:03:09 -0700 (PDT)
Received: from mailgate.siemenscomms.co.uk (mailgate.siemenscomms.co.uk
	[195.171.110.225])
	by core3.amsl.com (Postfix) with ESMTP id 885303A683B
	for <sip@ietf.org>; Tue, 13 May 2008 16:03:08 -0700 (PDT)
Received: from GBNTHT12009MSX.gb002.siemens.net ([137.223.219.235])
	by siemenscomms.co.uk (PMDF V6.3-x14 #31430)
	with ESMTP id <0K0T00104NAI64@siemenscomms.co.uk> for sip@ietf.org; Tue,
	13 May 2008 20:25:30 +0100 (BST)
Date: Tue, 13 May 2008 20:25:25 +0100
From: "Elwell, John" <john.elwell@siemens.com>
In-reply-to: <20080513171527.4D4025081A@romeo.rtfm.com>
To: Eric Rescorla <ekr@networkresonance.com>, Dan York <dyork@voxeo.com>
Message-id: <0D5F89FAC29E2C41B98A6A762007F5D0B84582@GBNTHT12009MSX.gb002.siemens.net>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft Exchange V6.5
Thread-Topic: [Sip] draft-ietf-sip-media-security-requirements-05
Thread-Index: Aci1HdThts37pOe8RgSLbckLNpQGogAEOKuA
Content-class: urn:content-classes:message
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
References: <066701c8af02$2445f8e0$c3f0200a@cisco.com>
	<20080506000110.499525081A@romeo.rtfm.com>
	<03f901c8afde$ee9398f0$c3f0200a@cisco.com>
	<62CA37AF-C3DD-49BE-9128-057711C78E81@voxeo.com>
	<20080513171527.4D4025081A@romeo.rtfm.com>
Cc: IETF SIP List <sip@ietf.org>, Dan Wing <dwing@cisco.com>, "Fries,
	Steffen \(CT\)" <steffen.fries@siemens.com>,
	Dean Willis <dean.willis@softarmor.com>
Subject: Re: [Sip] draft-ietf-sip-media-security-requirements-05
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Archive: <https://www.ietf.org/mailman/private/sip>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Ekr,

Yes, I too was getting a little bit uncomfortable with saying you don't
need a trust anchor, because without some trust anchor (at least for the
server) authentication isn't achievable. So I like your proposed words.

John

> -----Original Message-----
> From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On 
> Behalf Of Eric Rescorla
> Sent: 13 May 2008 18:15
> To: Dan York
> Cc: 'IETF SIP List'; Fries, Steffen (CT); Dan Wing; 'Dean Willis'
> Subject: Re: [Sip] draft-ietf-sip-media-security-requirements-05
> 
> At Tue, 13 May 2008 08:38:33 -0400,
> Dan York wrote:
> > 
> > >
> > Dan,
> > 
> > > The wordsmithing task falls to me, I suppose.
> > >
> > > Here is another straw man, which I think captures your sentence
> > > above your signature and your [0] comment:
> > >
> > >      R-CERTS:
> > >
> > >      The media security key management protocol MUST NOT require
> > >      using a trust anchor to validate credentials (e.g., a
> > >      certificate) or to obtain credentials (e.g., a private key)
> > >      used in the protocol.
> > 
> > Your wordsmithing is fine by me.  I also liked the discussion you  
> > included in section 4.9 which explains the rationale for this  
> > requirement more.
> > 
> >   	4.9. Certificates	
> > 				
> > 			The discussion in this section relates 
> to R-CERTS.	
> > 				
> > 			On the Internet and on some private 
> networks, validating another	
> > 			peer's certificate is often done 
> through a trust anchor -- a list of	
> > 			Certificate Authorities that are 
> trusted. It can be difficult or	
> > 			expensive for a peer to obtain these 
> certificates. In all cases,	
> > 			both parties to the call would need to 
> trust the same trust anchor	
> > 			(i.e., "certificate authority"). For 
> these reasons, it is important	
> > 			that authentication mechanisms that 
> utilize trust anchors not rely	
> > 			exclusively on such Certificate 
> Authority-issued certificates, but  
> > to	
> > 			also allow self-signed certificates. By 
> allowing the use of such	
> > 			self-signed certificates, an 
> out-of-band mechanism (e.g., manual	
> > 			configuration) can be used to trust a 
> peer's certificate.
> 
> I was sort of OK with Dan's original text, though I probably 
> would have
> wordsmithed it differently, but I don't agree with this 
> discussion at all.
> Any certificate system can in principle be used with self-signed certs
> by doing SSH-style fingerprint exchange. The question is whether there
> is a practical deployment model that actually supports this.
> 
> 
> Consider two examples, both using TLS:
> 
> - HTTPS in the majority of cases is incompatible with manual 
> establishment
>   of peer credentials. You connect to a lot of different Web 
> servers and
>   it's not practical to obtain their certificates out of band.
> - IMAP over TLS is compatible with manual establishment of 
> peer credentials
>   because you connect with only one or two servers and you 
> already share
>   a shared secret (the password) so it's at least in 
> principle possible
>   to record their cert fingerprint. This is also why SSH works.
> 
> So, this isn't fundamentally an issue of protocol encoding (as Richard
> has observed) but rather of the context in which the protocol 
> is embedded.
> 
> 
> So, I would rewrite this section as follows:
> 
>      On the Internet and on some private networks, validating another
>      peer's certificate is often done through a trust anchor -- a list
>      of Certificate Authorities that are trusted. It can be difficult
>      or expensive for a peer to obtain these certificates. In all
>      cases, both parties to the call would need to trust the same
>      trust anchor (i.e., "certificate authority"). For these reasons,
>      it is important that the media plane key management protocol
>      offer a mechanism that allows end-users who have no prior
>      association to authenticate to each other without acquiring
>      credentials from a third party trust point. Note that this does
>      not rule out mechanisms in which servers have certificates and
>      attest to the identities of end-users.
> 
> And since I'm in the writing business, I would adjust R-CERTS 
> as follows:
> 
>       The media security key management protocol MUST NOT require
>       that end-users obtain credentials (certificates or private
>       keys) from a third-party trust anchor.
> 		 
> -Ekr
> _______________________________________________
> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
> 
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Wed May 14 01:34:10 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 34D3C3A6808;
	Wed, 14 May 2008 01:34:10 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 9AE033A67A2
	for <sip@core3.amsl.com>; Wed, 14 May 2008 01:34:07 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.598
X-Spam-Level: 
X-Spam-Status: No, score=-2.598 tagged_above=-999 required=5
	tests=[BAYES_00=-2.599, HTML_MESSAGE=0.001]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id uX7FLFNynPOc for <sip@core3.amsl.com>;
	Wed, 14 May 2008 01:34:06 -0700 (PDT)
Received: from rv-out-0506.google.com (rv-out-0506.google.com [209.85.198.224])
	by core3.amsl.com (Postfix) with ESMTP id 9C2963A6808
	for <sip@ietf.org>; Wed, 14 May 2008 01:34:06 -0700 (PDT)
Received: by rv-out-0506.google.com with SMTP id b25so3144588rvf.49
	for <sip@ietf.org>; Wed, 14 May 2008 01:33:15 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=gamma;
	h=domainkey-signature:received:received:message-id:date:from:to:subject:mime-version:content-type;
	bh=xz3xR4FQDwUq/1/GkBKxYDaItRgvWzsiBl6lwr4E8lo=;
	b=cF4iTl4KGS8B9mMjbM3qk0PMFaj5HCRaGOJy7hWbvHu3V8Ibci++MSXuwlfojZIf0oepTPbsllajKKaEvDGXwJ2TXnAi4vM++K8U7bvZvr329wEdisDZPzWWLrw47bIy8ARJXnRaCIN6+70Q/C0xmRcHW7NtDtvWGOw25hF2t7M=
DomainKey-Signature: a=rsa-sha1; c=nofws; d=gmail.com; s=gamma;
	h=message-id:date:from:to:subject:mime-version:content-type;
	b=RdusBWqNy1AONQ4nXK1Sv1q+x6ZZQ+orupLGsNUjmK2xSwxg680audj3MHfq3NtMPVUinuL86HwgnbXzDR0NjVynIuL5ntJ4au3wqlPJBhCHWW+I3kgIPruMuVm5hj7mHkSkVu4rhY2zG2jgWHAKG2Oe/SVFKqDQQLfy9No0tY4=
Received: by 10.141.74.17 with SMTP id b17mr341595rvl.234.1210753567661;
	Wed, 14 May 2008 01:26:07 -0700 (PDT)
Received: by 10.140.162.15 with HTTP; Wed, 14 May 2008 01:26:07 -0700 (PDT)
Message-ID: <abec1eb90805140126y514dce8dy92ad937cbd5d9bc6@mail.gmail.com>
Date: Wed, 14 May 2008 13:56:07 +0530
From: "ajay thakur" <thakur.ajay.ietf@gmail.com>
To: sip@ietf.org
MIME-Version: 1.0
Subject: [Sip] option packets
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Archive: <https://www.ietf.org/mailman/private/sip>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: multipart/mixed; boundary="===============1166193938=="
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

--===============1166193938==
Content-Type: multipart/alternative; 
	boundary="----=_Part_4503_25273780.1210753567653"

------=_Part_4503_25273780.1210753567653
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Hi all,
I have one doubt about SIP option packet processing.

Topology :

Ph1--------server--------ph2

When ph1 sends options request to ph2; Note that both phones are registered
to the same server. In this case my doubt is who responds to option request?

Is it like server responds to option request ?
or
Is it like ph2 responds to option request ?

Does this behaviour changes if we have proxy in place of server;
or how this behaviour is differnet in case of back-to-back-user-agent;


Thanks
Ajay

------=_Part_4503_25273780.1210753567653
Content-Type: text/html; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

<div>&nbsp;</div>
<div>Hi all,</div>
<div>I have one doubt about SIP option packet processing.</div>
<div>&nbsp;</div>
<div>Topology :</div>
<div>&nbsp;</div>
<div>Ph1--------server--------ph2</div>
<div>&nbsp;</div>
<div>When ph1 sends options request to ph2;&nbsp;Note that&nbsp;both phones are registered</div>
<div>to the same server. In this case my doubt is&nbsp;who responds to option request?</div>
<div>&nbsp;</div>
<div>Is it like server responds to option request ? </div>
<div>or </div>
<div>Is it like ph2 responds to option request ?</div>
<div>&nbsp;</div>
<div>Does this behaviour changes if we have proxy in place of server;</div>
<div>or how this behaviour is differnet in case of back-to-back-user-agent;</div>
<div>&nbsp;</div>
<div>&nbsp;</div>
<div>Thanks</div>
<div>Ajay</div>

------=_Part_4503_25273780.1210753567653--

--===============1166193938==
Content-Type: text/plain; charset="us-ascii"
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip
--===============1166193938==--


From sip-bounces@ietf.org  Wed May 14 03:36:59 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id DDC823A692C;
	Wed, 14 May 2008 03:36:59 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 6DFA13A67A2
	for <sip@core3.amsl.com>; Wed, 14 May 2008 03:36:55 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -3.449
X-Spam-Level: 
X-Spam-Status: No, score=-3.449 tagged_above=-999 required=5
	tests=[AWL=-1.200, BAYES_00=-2.599, HELO_EQ_DE=0.35]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id ZVSExjbIOT05 for <sip@core3.amsl.com>;
	Wed, 14 May 2008 03:36:54 -0700 (PDT)
Received: from thoth.sbs.de (thoth.sbs.de [192.35.17.2])
	by core3.amsl.com (Postfix) with ESMTP id 174553A697E
	for <sip@ietf.org>; Wed, 14 May 2008 03:36:33 -0700 (PDT)
Received: from mail3.siemens.de (localhost [127.0.0.1])
	by thoth.sbs.de (8.12.11.20060308/8.12.11) with ESMTP id m4EA5HIn006242;
	Wed, 14 May 2008 12:05:17 +0200
Received: from mchp771a.ww002.siemens.net (mchp771a.ww002.siemens.net
	[139.25.131.189])
	by mail3.siemens.de (8.12.11.20060308/8.12.11) with ESMTP id
	m4EA5HSd003210; Wed, 14 May 2008 12:05:17 +0200
Received: from MCHP7IEA.ww902.siemens.net ([139.25.131.146]) by
	mchp771a.ww002.siemens.net with Microsoft SMTPSVC(6.0.3790.3959); 
	Wed, 14 May 2008 12:05:16 +0200
Content-class: urn:content-classes:message
MIME-Version: 1.0
X-MimeOLE: Produced By Microsoft Exchange V6.5
Date: Wed, 14 May 2008 12:05:09 +0200
Message-ID: <B13E851D00E14E4F8B1C2750D952FD5B9D0A@MCHP7IEA.ww902.siemens.net>
In-Reply-To: <20080513171527.4D4025081A@romeo.rtfm.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] draft-ietf-sip-media-security-requirements-05
Thread-Index: Aci1HHMYvfKpCJJ1S0qciHZT+/WOkwAjK+Xw
References: <066701c8af02$2445f8e0$c3f0200a@cisco.com><20080506000110.499525081A@romeo.rtfm.com><03f901c8afde$ee9398f0$c3f0200a@cisco.com><62CA37AF-C3DD-49BE-9128-057711C78E81@voxeo.com>
	<20080513171527.4D4025081A@romeo.rtfm.com>
From: "Fries, Steffen (CT)" <steffen.fries@siemens.com>
To: "Eric Rescorla" <ekr@networkresonance.com>
X-OriginalArrivalTime: 14 May 2008 10:05:16.0122 (UTC)
	FILETIME=[01E9B3A0:01C8B5AA]
Cc: IETF SIP List <sip@ietf.org>, Dan Wing <dwing@cisco.com>,
	Dean Willis <dean.willis@softarmor.com>
Subject: Re: [Sip] draft-ietf-sip-media-security-requirements-05
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Archive: <https://www.ietf.org/mailman/private/sip>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Hi Eric,

your proposal is fine with me. I just have one point I would like to
change. Your current proposal is restricted to media plane key
management protocols. I think the text you proposed holds for both
(media and signaling) so I would suggest to just state "key management
protocol" instead of "media plane key management protocol" in section
4.9

Ciao
	Steffen

> -----Original Message-----
> From: Eric Rescorla [mailto:ekr@networkresonance.com] 
> Sent: Tuesday, May 13, 2008 7:15 PM
> To: Dan York
> Cc: Dan Wing; 'Eric Rescorla'; 'IETF SIP List'; Fries, 
> Steffen (CT); 'Dean Willis'
> Subject: Re: [Sip] draft-ietf-sip-media-security-requirements-05
> 
> At Tue, 13 May 2008 08:38:33 -0400,
> Dan York wrote:
> > 
> > >
> > Dan,
> > 
> > > The wordsmithing task falls to me, I suppose.
> > >
> > > Here is another straw man, which I think captures your sentence 
> > > above your signature and your [0] comment:
> > >
> > >      R-CERTS:
> > >
> > >      The media security key management protocol MUST NOT require
> > >      using a trust anchor to validate credentials (e.g., a
> > >      certificate) or to obtain credentials (e.g., a private key)
> > >      used in the protocol.
> > 
> > Your wordsmithing is fine by me.  I also liked the discussion you 
> > included in section 4.9 which explains the rationale for this 
> > requirement more.
> > 
> >   	4.9. Certificates	
> > 				
> > 			The discussion in this section relates 
> to R-CERTS.	
> > 				
> > 			On the Internet and on some private 
> networks, validating another	
> > 			peer's certificate is often done 
> through a trust anchor -- a list of	
> > 			Certificate Authorities that are 
> trusted. It can be difficult or	
> > 			expensive for a peer to obtain these 
> certificates. In all cases,	
> > 			both parties to the call would need to 
> trust the same trust anchor	
> > 			(i.e., "certificate authority"). For 
> these reasons, it is important	
> > 			that authentication mechanisms that 
> utilize trust anchors not rely	
> > 			exclusively on such Certificate 
> Authority-issued certificates, but  
> > to	
> > 			also allow self-signed certificates. By 
> allowing the use of such	
> > 			self-signed certificates, an 
> out-of-band mechanism (e.g., manual	
> > 			configuration) can be used to trust a 
> peer's certificate.
> 
> I was sort of OK with Dan's original text, though I probably 
> would have wordsmithed it differently, but I don't agree with 
> this discussion at all.
> Any certificate system can in principle be used with 
> self-signed certs by doing SSH-style fingerprint exchange. 
> The question is whether there is a practical deployment model 
> that actually supports this.
> 
> 
> Consider two examples, both using TLS:
> 
> - HTTPS in the majority of cases is incompatible with manual 
> establishment
>   of peer credentials. You connect to a lot of different Web 
> servers and
>   it's not practical to obtain their certificates out of band.
> - IMAP over TLS is compatible with manual establishment of 
> peer credentials
>   because you connect with only one or two servers and you 
> already share
>   a shared secret (the password) so it's at least in 
> principle possible
>   to record their cert fingerprint. This is also why SSH works.
> 
> So, this isn't fundamentally an issue of protocol encoding 
> (as Richard has observed) but rather of the context in which 
> the protocol is embedded.
> 
> 
> So, I would rewrite this section as follows:
> 
>      On the Internet and on some private networks, validating another
>      peer's certificate is often done through a trust anchor -- a list
>      of Certificate Authorities that are trusted. It can be difficult
>      or expensive for a peer to obtain these certificates. In all
>      cases, both parties to the call would need to trust the same
>      trust anchor (i.e., "certificate authority"). For these reasons,
>      it is important that the media plane key management protocol
>      offer a mechanism that allows end-users who have no prior
>      association to authenticate to each other without acquiring
>      credentials from a third party trust point. Note that this does
>      not rule out mechanisms in which servers have certificates and
>      attest to the identities of end-users.
> 
> And since I'm in the writing business, I would adjust R-CERTS 
> as follows:
> 
>       The media security key management protocol MUST NOT require
>       that end-users obtain credentials (certificates or private
>       keys) from a third-party trust anchor.
> 		 
> -Ekr
> 
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Wed May 14 12:30:06 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 0497F28C0FB;
	Wed, 14 May 2008 12:30:06 -0700 (PDT)
X-Original-To: sip@ietf.org
Delivered-To: sip@core3.amsl.com
Received: by core3.amsl.com (Postfix, from userid 0)
	id 87F3D3A6907; Wed, 14 May 2008 12:30:01 -0700 (PDT)
From: Internet-Drafts@ietf.org
To: i-d-announce@ietf.org
Content-Type: Multipart/Mixed; Boundary="NextPart"
Mime-Version: 1.0
Message-Id: <20080514193001.87F3D3A6907@core3.amsl.com>
Date: Wed, 14 May 2008 12:30:01 -0700 (PDT)
Cc: sip@ietf.org
Subject: [Sip] I-D Action:draft-ietf-sip-connect-reuse-10.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Archive: <https://www.ietf.org/mailman/private/sip>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


--NextPart

A New Internet-Draft is available from the on-line Internet-Drafts directories.
This draft is a work item of the Session Initiation Protocol Working Group of the IETF.


	Title           : Connection Reuse in the Session Initiation Protocol (SIP)
	Author(s)       : R. Mahy, et al.
	Filename        : draft-ietf-sip-connect-reuse-10.txt
	Pages           : 19
	Date            : 2008-05-14

This document enables a pair of communicating proxies to reuse a
congestion-controlled connection between themselves for sending
requests in the forward and backwards direction.  Because the
connection is essentially aliased for requests going in the backwards
direction, reuse should be predicated upon both the communicating
endpoints authenticating themselves using X.509 certificates through
TLS.  For this reason, we only consider connection reuse for TLS over
TCP and TLS over SCTP.  A single connection should not be reused for
the TCP or SCTP transport between two peers, and this document
provides insight into why this is the case.  As a remedy, it suggests
using two TCP connections (or two SCTP associations), each opened
pro-actively towards the recipient by the sender.  Finally, this
document also provides guidelines on connection reuse and virtual SIP
servers and the interaction of connection reuse and DNS SRV lookups
in SIP.

A URL for this Internet-Draft is:
http://www.ietf.org/internet-drafts/draft-ietf-sip-connect-reuse-10.txt

Internet-Drafts are also available by anonymous FTP at:
ftp://ftp.ietf.org/internet-drafts/

Below is the data which will enable a MIME compliant mail reader
implementation to automatically retrieve the ASCII version of the
Internet-Draft.

--NextPart
Content-Type: Message/External-body;
	name="draft-ietf-sip-connect-reuse-10.txt";
	site="ftp.ietf.org";
	access-type="anon-ftp";
	directory="internet-drafts"

Content-Type: text/plain
Content-ID: <2008-05-14121959.I-D@ietf.org>


--NextPart
Content-Type: text/plain; charset="us-ascii"
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip
--NextPart--


From sip-bounces@ietf.org  Thu May 15 00:32:17 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 453C43A6A24;
	Thu, 15 May 2008 00:32:17 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id BD0343A6A24
	for <sip@core3.amsl.com>; Thu, 15 May 2008 00:32:14 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.298
X-Spam-Level: 
X-Spam-Status: No, score=-2.298 tagged_above=-999 required=5
	tests=[BAYES_00=-2.599, HTML_MESSAGE=0.001, MIME_8BIT_HEADER=0.3]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 1CzwJJLaJ36N for <sip@core3.amsl.com>;
	Thu, 15 May 2008 00:32:13 -0700 (PDT)
Received: from wa-out-1112.google.com (wa-out-1112.google.com [209.85.146.183])
	by core3.amsl.com (Postfix) with ESMTP id 9BA3A3A6A1E
	for <sip@ietf.org>; Thu, 15 May 2008 00:32:10 -0700 (PDT)
Received: by wa-out-1112.google.com with SMTP id k34so392794wah.25
	for <sip@ietf.org>; Thu, 15 May 2008 00:32:13 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=gamma;
	h=domainkey-signature:received:received:message-id:date:from:to:subject:cc:in-reply-to:mime-version:content-type:references;
	bh=uQ+Ije/mqofHTGJP/oM7221w9nC5Iua8rp2JeiwsJYs=;
	b=BjALu6okGPpqhFUikZCiPz4ppICGTo38wn8pCJfOGy9nIJYSrTYQd+mft1+MT6+Zb5uLu9AZKk6enNl2nAt8fhBLqP1nupmLs+yq0FzgKGl9TBF/mww8E4qPh4b8xGv+J3iRZvsl9S0PC7J9915FtpLnHJyNwhkpPGYmatLeL0M=
DomainKey-Signature: a=rsa-sha1; c=nofws; d=gmail.com; s=gamma;
	h=message-id:date:from:to:subject:cc:in-reply-to:mime-version:content-type:references;
	b=j49P3fkvjQjHoIzX2nrpcLn9rFE3be3ykkdgQO47E4x1h+huF6KMb2TSf+u3gYC9tWdCEZe9pxUS0CmWgdBxkw+NvMygK0KKdZSZZK6gcHmq1DmZ75XJQP9V+7KsaDAv/DNYVlK30Npxpx8lfUx/2bwaLs7EJlXrGHIBx5ooqdU=
Received: by 10.114.148.2 with SMTP id v2mr2155643wad.173.1210836731827;
	Thu, 15 May 2008 00:32:11 -0700 (PDT)
Received: by 10.114.255.10 with HTTP; Thu, 15 May 2008 00:32:11 -0700 (PDT)
Message-ID: <1dae9d940805150032x7bda2211xb2a7793ecd8891e6@mail.gmail.com>
Date: Thu, 15 May 2008 09:32:11 +0200
From: "=?ISO-8859-1?Q?Xavi_Mil=E0?=" <xavi.mila@gmail.com>
To: "Haleem, Ambreen (UMKC-Student)" <Ambreen.Haleem@umkc.edu>
In-Reply-To: <C43E631D311B3247AE49DB0C78C086BF048AE3E6@KC-MSX1.kc.umkc.edu>
MIME-Version: 1.0
References: <AcifgwPa6d/b8cH8S7SrXFkYfpDW/w==>
	<C43E631D311B3247AE49DB0C78C086BF048AE3E6@KC-MSX1.kc.umkc.edu>
Cc: sip@ietf.org
Subject: Re: [Sip] SIP based VoIP in cellular network
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Archive: <https://www.ietf.org/mailman/private/sip>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: multipart/mixed; boundary="===============0209945136=="
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

--===============0209945136==
Content-Type: multipart/alternative; 
	boundary="----=_Part_4489_14711786.1210836731816"

------=_Part_4489_14711786.1210836731816
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Dear Ambreen,
since is not easy to clarify or justify here the convenience of doing one
thesis about this huge topic (I understand "SIP over cellular networks: an
analysis in terms of performance", isn't it?)
 I recommend you to take a look at some studies comparing one 3GPP IMS (IP
Multimedia Subsystem) platform (basically SIP based) with conventional
GSM/GPRS platforms (Release 99). For example in [1].
Or simply some VoIP information sources: [2] [3]

[1] Evaluation of signaling loads in 3GPP networks [accepted from open call=
]
http://ieeexplore.ieee.org/xpls/abs_all.jsp?isnumber=3D4454693&arnumber=3D4=
454709

[2] http://www.voip-info.org/wiki/

[3] http://www.tech-invite.com/

My two cents ;-)

Xavi Mil=E0
Research Engineer
Networking Technologies and Strategies Research Group (NeTS)
Pompeu Fabra University
Barcelona, SPAIN

On Wed, Apr 16, 2008 at 7:30 AM, Haleem, Ambreen (UMKC-Student) <
Ambreen.Haleem@umkc.edu> wrote:

> Hi,
>
> I'm doing MS in computer science and wants to do thesis on SIP based VoIP
> in cellular networks. The problem area I had selected is the overhead
> involved in SIP based VoIP, with and without compression, number of calls=
,
> and context transfers in the case of handoffs.
>
> I wanted opinion around this topic, how useful this would be and if anyon=
e
> can give me directions as how to go about it.
>
>
> Regards,
> Ambreen Haleem
> M.S. Computer Science Candidate
> School of Computing and EngineeringUniversity of Missouri, Kansas City
>
> _______________________________________________
> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
>



--=20
Xavi Mil=E0

------=_Part_4489_14711786.1210836731816
Content-Type: text/html; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Dear Ambreen,<br>since is not easy to clarify or justify here the convenien=
ce of doing one thesis about this huge topic (I understand &quot;SIP over c=
ellular networks: an analysis in terms of performance&quot;, isn&#39;t it?)=
 <br>
&nbsp;I recommend you to take a look at some studies comparing one 3GPP IMS=
 (IP Multimedia Subsystem) platform (basically SIP based) with conventional=
 GSM/GPRS platforms (Release 99). For example in [1]. <br>Or simply some Vo=
IP information sources: [2] [3]<br>
<br>[1] <span class=3D"headNavBlueXLarge2">Evaluation of signaling loads in=
 3GPP networks [accepted from open call]</span><br><a href=3D"http://ieeexp=
lore.ieee.org/xpls/abs_all.jsp?isnumber=3D4454693&amp;arnumber=3D4454709">h=
ttp://ieeexplore.ieee.org/xpls/abs_all.jsp?isnumber=3D4454693&amp;arnumber=
=3D4454709</a><br>
<br>[2] <a href=3D"http://www.voip-info.org/wiki/">http://www.voip-info.org=
/wiki/</a><br><br>[3] <a href=3D"http://www.tech-invite.com/">http://www.te=
ch-invite.com/</a><br><br>My two cents ;-)<br><br>Xavi Mil=E0<br>Research E=
ngineer<br>
Networking Technologies and Strategies Research Group (NeTS)<br>Pompeu Fabr=
a University<br>Barcelona, SPAIN<br><br><div class=3D"gmail_quote">On Wed, =
Apr 16, 2008 at 7:30 AM, Haleem, Ambreen (UMKC-Student) &lt;<a href=3D"mail=
to:Ambreen.Haleem@umkc.edu">Ambreen.Haleem@umkc.edu</a>&gt; wrote:<br>
<blockquote class=3D"gmail_quote" style=3D"border-left: 1px solid rgb(204, =
204, 204); margin: 0pt 0pt 0pt 0.8ex; padding-left: 1ex;">Hi,<br>
<br>
I&#39;m doing MS in computer science and wants to do thesis on SIP based Vo=
IP in cellular networks. The problem area I had selected is the overhead in=
volved in SIP based VoIP, with and without compression, number of calls, an=
d context transfers in the case of handoffs.<br>

<br>
I wanted opinion around this topic, how useful this would be and if anyone =
can give me directions as how to go about it.<br>
<br>
<br>
Regards,<br>
Ambreen Haleem<br>
M.S. Computer Science Candidate<br>
School of Computing and EngineeringUniversity of Missouri, Kansas City<br>
<br>
_______________________________________________<br>
Sip mailing list &nbsp;<a href=3D"https://www.ietf.org/mailman/listinfo/sip=
" target=3D"_blank">https://www.ietf.org/mailman/listinfo/sip</a><br>
This list is for NEW development of the core SIP Protocol<br>
Use <a href=3D"mailto:sip-implementors@cs.columbia.edu">sip-implementors@cs=
.columbia.edu</a> for questions on current sip<br>
Use <a href=3D"mailto:sipping@ietf.org">sipping@ietf.org</a> for new develo=
pments on the application of sip<br>
</blockquote></div><br><br clear=3D"all"><br>-- <br>Xavi Mil=E0

------=_Part_4489_14711786.1210836731816--

--===============0209945136==
Content-Type: text/plain; charset="us-ascii"
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip
--===============0209945136==--


From sip-bounces@ietf.org  Thu May 15 00:45:33 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 4E95B3A6A4B;
	Thu, 15 May 2008 00:45:33 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 184583A6A4B
	for <sip@core3.amsl.com>; Thu, 15 May 2008 00:45:31 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -4.805
X-Spam-Level: 
X-Spam-Status: No, score=-4.805 tagged_above=-999 required=5
	tests=[BAYES_00=-2.599, MIME_BASE64_BLANKS=0.041,
	MIME_BASE64_TEXT=1.753, RCVD_IN_DNSWL_MED=-4]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id X81iZwH4JPqC for <sip@core3.amsl.com>;
	Thu, 15 May 2008 00:45:29 -0700 (PDT)
Received: from smtp04.bis.na.blackberry.com (smtp04.bis.na.blackberry.com
	[216.9.248.51]) by core3.amsl.com (Postfix) with ESMTP id BF74B3A6A18
	for <sip@ietf.org>; Thu, 15 May 2008 00:45:24 -0700 (PDT)
Received: from bda381.bisx.prod.on.blackberry (bda381.bisx.prod.on.blackberry
	[172.20.234.81])
	by srs.bis.na.blackberry.com (8.13.7 TEAMON/8.13.7) with ESMTP id
	m4F7jOYd031820; Thu, 15 May 2008 07:45:24 GMT
Received: from bda381.bisx.prod.on.blackberry (localhost.localdomain
	[127.0.0.1])
	by bda381.bisx.prod.on.blackberry (8.13.4 TEAMON/8.13.4) with ESMTP id
	m4F7jNqL012941; Thu, 15 May 2008 07:45:23 GMT
X-rim-org-msg-ref-id: 1765320013
Message-ID: <1765320013-1210837522-cardhu_decombobulator_blackberry.rim.net-398370983-@bxe033.bisx.prod.on.blackberry>
X-Priority: Normal
References: <AcifgwPa6d/b8cH8S7SrXFkYfpDW/w==><C43E631D311B3247AE49DB0C78C086BF048AE3E6@KC-MSX1.kc.umkc.edu><1dae9d940805150032x7bda2211xb2a7793ecd8891e6@mail.gmail.com>
In-Reply-To: <1dae9d940805150032x7bda2211xb2a7793ecd8891e6@mail.gmail.com>
Sensitivity: Normal
Importance: Normal
To: xavi.mila@gmail.com,
	"Haleem, Ambreen (UMKC-Student)" <Ambreen.Haleem@umkc.edu>
From: eburger@standardstrack.com
Date: Thu, 15 May 2008 07:45:19 +0000
MIME-Version: 1.0
Cc: sip@ietf.org
Subject: Re: [Sip] SIP based VoIP in cellular network
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
Reply-To: eburger@standardstrack.com
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Archive: <https://www.ietf.org/mailman/private/sip>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="windows-1252"
Content-Transfer-Encoding: quoted-printable
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

I would take questions like this to the SIP Forum discussion list.
Sent from my Verizon Wireless BlackBerry

-----Original Message-----
From: "Xavi Mil=E0" <xavi.mila@gmail.com>

Date: Thu, 15 May 2008 09:32:11 =

To:"Haleem, Ambreen (UMKC-Student)" <Ambreen.Haleem@umkc.edu>
Cc:sip@ietf.org
Subject: Re: [Sip] SIP based VoIP in cellular network


Dear Ambreen,
since is not easy to clarify or justify here the convenience of doing one t=
hesis about this huge topic (I understand "SIP over cellular networks: an a=
nalysis in terms of performance", isn't it?) =

 =A0I recommend you to take a look at some studies comparing one 3GPP IMS (=
IP Multimedia Subsystem) platform (basically SIP based) with conventional G=
SM/GPRS platforms (Release 99). For example in [1]. =

Or simply some VoIP information sources: [2] [3]
 =

[1] Evaluation of signaling loads in 3GPP networks [accepted from open call]
http://ieeexplore.ieee.org/xpls/abs_all.jsp?isnumber=3D4454693&amp;arnumber=
=3D4454709 <http://ieeexplore.ieee.org/xpls/abs_all.jsp?isnumber=3D4454693&=
amp;arnumber=3D4454709> =

 =

[2] http://www.voip-info.org/wiki/ <http://www.voip-info.org/wiki/> =


[3] http://www.tech-invite.com/ <http://www.tech-invite.com/> =


My two cents ;-)

Xavi Mil=E0
Research Engineer
 Networking Technologies and Strategies Research Group (NeTS)
Pompeu Fabra University
Barcelona, SPAIN


On Wed, Apr 16, 2008 at 7:30 AM, Haleem, Ambreen (UMKC-Student) <Ambreen.Ha=
leem@umkc.edu <mailto:Ambreen.Haleem@umkc.edu> > wrote:
 Hi,
 =

 I'm doing MS in computer science and wants to do thesis on SIP based VoIP =
in cellular networks. The problem area I had selected is the overhead invol=
ved in SIP based VoIP, with and without compression, number of calls, and c=
ontext transfers in the case of handoffs.
 =

 I wanted opinion around this topic, how useful this would be and if anyone=
 can give me directions as how to go about it.
 =

 =

 Regards,
 Ambreen Haleem
 M.S. Computer Science Candidate
 School of Computing and EngineeringUniversity of Missouri, Kansas City
 =

 _______________________________________________
 Sip mailing list =A0https://www.ietf.org/mailman/listinfo/sip <https://www=
.ietf.org/mailman/listinfo/sip> =

 This list is for NEW development of the core SIP Protocol
 Use sip-implementors@cs.columbia.edu <mailto:sip-implementors@cs.columbia.=
edu>  for questions on current sip
 Use sipping@ietf.org <mailto:sipping@ietf.org>  for new developments on th=
e application of sip
 =



-- =

Xavi Mil=E0 _______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From c0ld@c0ldvengeance.com  Sun May 18 13:00:56 2008
Return-Path: <c0ld@c0ldvengeance.com>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id C39993A6DBE;
	Sun, 18 May 2008 13:00:56 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -65.253
X-Spam-Level: 
X-Spam-Status: No, score=-65.253 tagged_above=-999 required=5
	tests=[FB_QUALITY_REPLICA=10.357, FH_HOST_EQ_D_D_D_D=0.765,
	FH_HOST_EQ_D_D_D_DB=0.888, HELO_DYNAMIC_IPADDR2=4.395,
	HELO_DYNAMIC_SPLIT_IP=4.199, HELO_EQ_IP_ADDR=1.119,
	HOST_EQ_USERONOCOM=1.444, RCVD_IN_PBL=0.509, RCVD_IN_SORBS_DUL=1.615,
	RCVD_NUMERIC_HELO=2.599, RDNS_DYNAMIC=0.1, SARE_BAYES_5x7=0.6,
	SARE_SPEC_REPLICA_OBFU=1.812, SARE_SPEC_ROLEX_HIQLT=1.666,
	SARE_SPEC_ROLEX_NOV5A=1.062, TVD_RCVD_IP=1.617,
	USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id DVpALkWZwg3G; Sun, 18 May 2008 13:00:56 -0700 (PDT)
Received: from 82.159.123.0.dyn.user.ono.com (82.159.123.0.dyn.user.ono.com [82.159.123.0])
	by core3.amsl.com (Postfix) with SMTP id CBCA23A6DCF;
	Sun, 18 May 2008 13:00:47 -0700 (PDT)
X-Originating-IP: 52.104.38.160 by smtp.82.159.123.0;  Sun, 18 May 2008 16:00:46 -0500
Message-ID: <hiavhavOZKPKDFsip@ietf.org>
From: "Andrea English" <sip@ietf.org>
Reply-To: "Andrea English" <sip@ietf.org>
To: sip@ietf.org
Subject: Watches for him, her and you
Date: Sun, 18 May 2008 16:00:46 -0500
Content-Type: text/plain;
Content-Transfer-Encoding: 7Bit


Prestige Replicas is a one of a kind store: the online place where you can find the highest quality replica watches at the best prices in the world! Forget about flying to China to get a mockup Cartier watch... You can now get European quality Cartier replicas at deeply discounted prices at Prestige Replicas! The best part is that our watches are so finely crafted that even the most experienced connoisseur would have a hard time telling our watches from the real deal.
http://xetacafa05884.blogspot.com/

Visit Prestige Replicas today and discover a wide range of top quality Cartier replica watches offered at unbelievable prices, with a 15% discount when you buy two! 
http://xetacafa05884.blogspot.com/






From c.pouw@topselectgroep.nl  Sun May 18 13:02:48 2008
Return-Path: <c.pouw@topselectgroep.nl>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 1853D3A6DD6;
	Sun, 18 May 2008 13:02:43 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -72.808
X-Spam-Level: 
X-Spam-Status: No, score=-72.808 tagged_above=-999 required=5
	tests=[FB_REPLICA_ROLEX=3.157, FH_RELAY_NODNS=1.451, FS_REPLICA=0.994,
	GB_ROLEX=5, HELO_DYNAMIC_DHCP=1.52, HELO_EQ_DSL=1.129,
	RAZOR2_CF_RANGE_51_100=0.5, RAZOR2_CF_RANGE_E4_51_100=1.5,
	RAZOR2_CHECK=0.5, RCVD_IN_PBL=0.509, RCVD_IN_XBL=2.896, RDNS_NONE=0.1,
	REPLICA_WATCH=3.396, SARE_SPEC_REPLICA_OBFU=1.812,
	SARE_SPEC_ROLEX_NOV5A=1.062, SARE_SPEC_ROLEX_REP=1.666,
	USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id gCKMkJ3dXyNH; Sun, 18 May 2008 13:02:40 -0700 (PDT)
Received: from adsl190-26129088.dyn.etb.net.co (unknown [190.26.129.88])
	by core3.amsl.com (Postfix) with SMTP id 74CD93A6DCE;
	Sun, 18 May 2008 13:02:29 -0700 (PDT)
X-Originating-IP: 61.20.254.148 by smtp.190.26.129.88;  Sun, 18 May 2008 16:02:30 -0500
Message-ID: <msztfmPAKLTsherri.hilton@ietf.org>
From: "Leola Conner" <sherri.hilton@ietf.org>
Reply-To: "Leola Conner" <sherri.hilton@ietf.org>
To: sherri.hilton@ietf.org
Subject: The discreet replica store
Date: Sun, 18 May 2008 16:02:30 -0500
Content-Type: text/plain;
Content-Transfer-Encoding: 7Bit


When it comes down to getting a replica Rolex watch, there is just one place that offers its visitors and customers the highest quality available: Prestige Replicas. This unparalleled online store specializes in top of the line replica watches with unsurpassed performance, and bearing every marking that the genuine timepieces have. Every replica watch that Prestige Replicas carries, is made of solid stainless steel and features a sapphire crystal glass. What's more, every Rolex in store displays the green Rolex sticker with model number and logo on it. Just because you're buying a replica, don't settle for a low quality product. There are only a handful of online stores that offer the highest quality Rolex replica watches and Prestige Replicas is among them, and with the lowest available prices!
http://duxuvupu46741.blogspot.com/





From c.inema@rennweg8.ch  Mon May 19 04:49:06 2008
Return-Path: <c.inema@rennweg8.ch>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id EE6953A6B27;
	Mon, 19 May 2008 04:49:06 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -6.597
X-Spam-Level: 
X-Spam-Status: No, score=-6.597 tagged_above=-999 required=5
	tests=[BAYES_99=3.5, FH_HELO_EQ_D_D_D_D=1.597, FH_RELAY_NODNS=1.451,
	HELO_DYNAMIC_IPADDR2=4.395, J_CHICKENPOX_24=0.6,
	RAZOR2_CF_RANGE_51_100=0.5, RAZOR2_CF_RANGE_E4_51_100=1.5,
	RAZOR2_CF_RANGE_E8_51_100=1.5, RAZOR2_CHECK=0.5, RCVD_IN_PBL=0.905,
	RCVD_IN_XBL=3.033, RDNS_NONE=0.1, SARE_RECV_SPEEDY_AR=0.808,
	TVD_RCVD_IP=1.931, URIBL_BLACK=20, URIBL_JP_SURBL=10,
	URIBL_OB_SURBL=10, URIBL_RHS_DOB=1.083, URIBL_SBL=20,
	URIBL_SC_SURBL=10, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id v5UsDg-s+Z79; Mon, 19 May 2008 04:49:06 -0700 (PDT)
Received: from 190-172-186-45.speedy.com.ar (unknown [190.172.186.45])
	by core3.amsl.com (Postfix) with SMTP id EC39A28C5EF;
	Mon, 19 May 2008 04:46:59 -0700 (PDT)
X-Originating-IP: 198.238.6.154 by smtp.190.172.186.45;  Mon, 19 May 2008 07:46:57 -0500
Message-ID: <hyozteqDPVGYsip@ietf.org>
From: "Johnny Waddell" <sip@ietf.org>
Reply-To: "Johnny Waddell" <sip@ietf.org>
To: sip@ietf.org
Subject: Get your watch now
Date: Mon, 19 May 2008 07:46:57 -0500
Content-Type: text/plain;
Content-Transfer-Encoding: 7Bit


A Bvlgari watch is an extraordinary masterpiece that is born from the marriage of watch making and jewelry expertise. Only the most discriminating and sophisticated watch users dare put a Bv1gari on their wrists, but once the metal touches their skin, they are bound forever... How would you like to become one of the lucky few that have experienced the pleasure of sporting a Bvlgari timepiece? Now you can, and at a very reduced cost! Prestige Replicas offers a tremendous collection of Bvlgari replicas starting just a little above $200... So now there is no reason why you can't have your very own Bvlgari today!
http://detylune43327.shheus.com/





From sip-bounces@ietf.org  Mon May 19 12:08:40 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id B9C153A6ABF;
	Mon, 19 May 2008 12:08:40 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id D20A03A6B83
	for <sip@core3.amsl.com>; Mon, 19 May 2008 12:08:25 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: 0.001
X-Spam-Level: 
X-Spam-Status: No, score=0.001 tagged_above=-999 required=5 tests=[AWL=-0.001, 
	BAYES_50=0.001]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 9LyuKn-6W1lZ for <sip@core3.amsl.com>;
	Mon, 19 May 2008 12:08:12 -0700 (PDT)
Received: from mx12.bbn.com (mx12.bbn.com [128.33.0.81])
	by core3.amsl.com (Postfix) with ESMTP id AF6D428C17E
	for <sip@ietf.org>; Mon, 19 May 2008 12:04:07 -0700 (PDT)
Received: from dhcp89-089-033.bbn.com ([128.89.89.33] helo=[127.0.0.1])
	by mx12.bbn.com with esmtp (Exim 4.60)
	(envelope-from <rbarnes@bbn.com>)
	id 1JyAeP-0006Mf-3r; Mon, 19 May 2008 15:04:01 -0400
Message-ID: <4831CF20.3070203@bbn.com>
Date: Mon, 19 May 2008 15:04:00 -0400
From: Richard Barnes <rbarnes@bbn.com>
User-Agent: Thunderbird 2.0.0.14 (Windows/20080421)
MIME-Version: 1.0
To: Eric Rescorla <ekr@networkresonance.com>
References: <066701c8af02$2445f8e0$c3f0200a@cisco.com>	<20080506000110.499525081A@romeo.rtfm.com>	<03f901c8afde$ee9398f0$c3f0200a@cisco.com>	<62CA37AF-C3DD-49BE-9128-057711C78E81@voxeo.com>
	<20080513171527.4D4025081A@romeo.rtfm.com>
In-Reply-To: <20080513171527.4D4025081A@romeo.rtfm.com>
Cc: 'IETF SIP List' <sip@ietf.org>, Dan Wing <dwing@cisco.com>, "'Fries,
	Steffen \(CT\)'" <steffen.fries@siemens.com>,
	'Dean Willis' <dean.willis@softarmor.com>
Subject: Re: [Sip] draft-ietf-sip-media-security-requirements-05
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Archive: <https://www.ietf.org/mailman/private/sip>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

With respect to the proposed text for R-CERTS, I agree with Dean that 
this doesn't seem like a requirement on protocols, but on how protocols 
are operated.  The set of trust anchors that peers choose is an 
operating policy choice of those peers, not an issue of protocol. 
Perhaps you could put some operating recommendations in the explanatory 
section, but I don't think this issue belongs in the requirements for 
the protocol.

One minor technical issue with the explanatory text: Both parties don't 
need to trust the same trust anchor, but each peer has to have a trust 
anchor that can be used to validate the other.

--RLB




Eric Rescorla wrote:
> At Tue, 13 May 2008 08:38:33 -0400,
> Dan York wrote:
>> Dan,
>>
>>> The wordsmithing task falls to me, I suppose.
>>>
>>> Here is another straw man, which I think captures your sentence
>>> above your signature and your [0] comment:
>>>
>>>      R-CERTS:
>>>
>>>      The media security key management protocol MUST NOT require
>>>      using a trust anchor to validate credentials (e.g., a
>>>      certificate) or to obtain credentials (e.g., a private key)
>>>      used in the protocol.
>> Your wordsmithing is fine by me.  I also liked the discussion you  
>> included in section 4.9 which explains the rationale for this  
>> requirement more.
>>
>>   	4.9. Certificates	
>> 				
>> 			The discussion in this section relates to R-CERTS.	
>> 				
>> 			On the Internet and on some private networks, validating another	
>> 			peer's certificate is often done through a trust anchor -- a list of	
>> 			Certificate Authorities that are trusted. It can be difficult or	
>> 			expensive for a peer to obtain these certificates. In all cases,	
>> 			both parties to the call would need to trust the same trust anchor	
>> 			(i.e., "certificate authority"). For these reasons, it is important	
>> 			that authentication mechanisms that utilize trust anchors not rely	
>> 			exclusively on such Certificate Authority-issued certificates, but  
>> to	
>> 			also allow self-signed certificates. By allowing the use of such	
>> 			self-signed certificates, an out-of-band mechanism (e.g., manual	
>> 			configuration) can be used to trust a peer's certificate.
> 
> I was sort of OK with Dan's original text, though I probably would have
> wordsmithed it differently, but I don't agree with this discussion at all.
> Any certificate system can in principle be used with self-signed certs
> by doing SSH-style fingerprint exchange. The question is whether there
> is a practical deployment model that actually supports this.
> 
> 
> Consider two examples, both using TLS:
> 
> - HTTPS in the majority of cases is incompatible with manual establishment
>   of peer credentials. You connect to a lot of different Web servers and
>   it's not practical to obtain their certificates out of band.
> - IMAP over TLS is compatible with manual establishment of peer credentials
>   because you connect with only one or two servers and you already share
>   a shared secret (the password) so it's at least in principle possible
>   to record their cert fingerprint. This is also why SSH works.
> 
> So, this isn't fundamentally an issue of protocol encoding (as Richard
> has observed) but rather of the context in which the protocol is embedded.
> 
> 
> So, I would rewrite this section as follows:
> 
>      On the Internet and on some private networks, validating another
>      peer's certificate is often done through a trust anchor -- a list
>      of Certificate Authorities that are trusted. It can be difficult
>      or expensive for a peer to obtain these certificates. In all
>      cases, both parties to the call would need to trust the same
>      trust anchor (i.e., "certificate authority"). For these reasons,
>      it is important that the media plane key management protocol
>      offer a mechanism that allows end-users who have no prior
>      association to authenticate to each other without acquiring
>      credentials from a third party trust point. Note that this does
>      not rule out mechanisms in which servers have certificates and
>      attest to the identities of end-users.
> 
> And since I'm in the writing business, I would adjust R-CERTS as follows:
> 
>       The media security key management protocol MUST NOT require
>       that end-users obtain credentials (certificates or private
>       keys) from a third-party trust anchor.
> 		 
> -Ekr
> _______________________________________________
> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
> 
> 

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Mon May 19 14:28:13 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id C49AC3A6B1E;
	Mon, 19 May 2008 14:28:12 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 296EC3A6B8F
	for <sip@core3.amsl.com>; Mon, 19 May 2008 14:28:08 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -1.67
X-Spam-Level: 
X-Spam-Status: No, score=-1.67 tagged_above=-999 required=5 tests=[AWL=-0.930, 
	BAYES_20=-0.74]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id seSn6OkUIrjA for <sip@core3.amsl.com>;
	Mon, 19 May 2008 14:28:05 -0700 (PDT)
Received: from out001.iad.hostedmail.net (out001.iad.hostedmail.net
	[209.225.56.23])
	by core3.amsl.com (Postfix) with ESMTP id 3F2F73A6B7C
	for <sip@ietf.org>; Mon, 19 May 2008 14:27:32 -0700 (PDT)
Received: from ATL1VEXC020.usdom003.tco.tc ([10.158.7.31]) by
	out001.iad.hostedmail.net with Microsoft SMTPSVC(6.0.3790.3959);
	Mon, 19 May 2008 17:27:33 -0400
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Mon, 19 May 2008 17:27:32 -0400
Message-ID: <BBE61D1553D8A34F812FF87377B2935F037CD869@ATL1VEXC020.usdom003.tco.tc>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: draft-sparks-sip-invfix-01: comments and questions
Thread-Index: Aci59yWuc44JaeQsTbWzrbRtQO5G4g==
From: "Brett Tate" <brett@broadsoft.com>
To: "Robert Sparks" <rjsparks@nostrum.com>,
	<sip@ietf.org>
X-OriginalArrivalTime: 19 May 2008 21:27:33.0366 (UTC)
	FILETIME=[267A2960:01C8B9F7]
Subject: [Sip] draft-sparks-sip-invfix-01: comments and questions
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Archive: <https://www.ietf.org/mailman/private/sip>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

The following are few comments and questions concerning
draft-sparks-sip-invfix-01.


Section 8.2: 

The "MUST NOT" is rather strict.  Depending upon interpretation, it can
interfere with a stateful proxy choosing to temporarily act like a
stateless proxy for a short interval after a restart.


Section 8.4:

Concerning timer D and "zero seconds for reliable transports", is
"reliable" obtained from INVITE or ACK.

Concerning timer D being zero, at first glance it looks like the state
machine text no longer ensures ACK will be sent for extra 2xx or
300-699.  The same applies, to ensuring ACK resent in situations where
transport not reliable end-to-end.  Per 7.2 paragraph 2, this might be
intentional; if so, the motivation and flexibility in handling from
section 7.2 should potentially also be included within 8.4.  If I'm
misinterpreting the fix, where does it say the ACK MUST, SHOULD, or MAY
still be (re-)sent for the extra responses when timer D is 0?


Thanks,
Brett
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From c.sohail@ndy.co.uk  Mon May 19 16:54:57 2008
Return-Path: <c.sohail@ndy.co.uk>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 8390F3A693F;
	Mon, 19 May 2008 16:54:57 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -59.627
X-Spam-Level: 
X-Spam-Status: No, score=-59.627 tagged_above=-999 required=5
	tests=[BAYES_80=2, FB_QUALITY_REPLICA=10.357, FH_RELAY_NODNS=1.451,
	FS_REPLICA=0.994, HELO_DYNAMIC_IPADDR2=4.395,
	HELO_DYNAMIC_SPLIT_IP=3.493, HELO_EQ_IP_ADDR=1.119,
	HELO_MISMATCH_NET=0.611, RAZOR2_CF_RANGE_51_100=0.5,
	RAZOR2_CF_RANGE_E4_51_100=1.5, RAZOR2_CHECK=0.5, RCVD_IN_PBL=0.905,
	RCVD_IN_SORBS_DUL=0.877, RCVD_IN_XBL=3.033, RCVD_NUMERIC_HELO=2.067,
	RDNS_NONE=0.1, SARE_SPEC_REPLICA_OBFU=1.812,
	SARE_SPEC_ROLEX_HIQLT=1.666, SARE_SPEC_ROLEX_NOV5A=1.062,
	TVD_RCVD_IP=1.931, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id g5hQO77dcEUc; Mon, 19 May 2008 16:54:56 -0700 (PDT)
Received: from 200.79.152.27.dial.dyn.telnor.net (unknown [200.79.152.27])
	by core3.amsl.com (Postfix) with SMTP id 281C23A67ED;
	Mon, 19 May 2008 16:54:44 -0700 (PDT)
X-Originating-IP: 201.162.198.22 by smtp.200.79.152.27;  Mon, 19 May 2008 19:54:42 -0500
Message-ID: <cfpzuPOICYTOsip@ietf.org>
From: "Charlotte Hammer" <sip@ietf.org>
Reply-To: "Charlotte Hammer" <sip@ietf.org>
To: sip@ietf.org
Subject: One of a kind replicas
Date: Mon, 19 May 2008 19:54:42 -0500
Content-Type: text/plain;
Content-Transfer-Encoding: 7Bit


Prestige Replicas is now bigger and better than ever before! I'm sure you're familiar with this popular replica store, so I'm glad to announce that Prestige Replicas has been completely redesigned and now offers not only the highest quality replica watches but also handbags and jewelry! In addition, they're running a 15% special these days when you buy two watches! There's never been a better time to buy a replica watch, especially a Tag Heuer!  With prices as low as $200, and the store unmatched privacy assurance guarantee, I'm sure you won't want to wait to get your superior quality Tag Heuer replica!
http://pawibyxagil12.blogspot.com/






From sip-bounces@ietf.org  Mon May 19 18:07:17 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id BE4D13A6952;
	Mon, 19 May 2008 18:07:17 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id AF1BA3A69C0
	for <sip@core3.amsl.com>; Mon, 19 May 2008 18:07:15 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -6.599
X-Spam-Level: 
X-Spam-Status: No, score=-6.599 tagged_above=-999 required=5
	tests=[BAYES_00=-2.599, RCVD_IN_DNSWL_MED=-4]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 3Oixiln+52ru for <sip@core3.amsl.com>;
	Mon, 19 May 2008 18:07:10 -0700 (PDT)
Received: from sj-iport-3.cisco.com (sj-iport-3.cisco.com [171.71.176.72])
	by core3.amsl.com (Postfix) with ESMTP id 7284A3A685D
	for <sip@ietf.org>; Mon, 19 May 2008 18:07:02 -0700 (PDT)
X-IronPort-AV: E=Sophos;i="4.27,512,1204531200"; d="scan'208";a="69905202"
Received: from sj-dkim-1.cisco.com ([171.71.179.21])
	by sj-iport-3.cisco.com with ESMTP; 19 May 2008 18:07:03 -0700
Received: from sj-core-5.cisco.com (sj-core-5.cisco.com [171.71.177.238])
	by sj-dkim-1.cisco.com (8.12.11/8.12.11) with ESMTP id m4K173Nj026648; 
	Mon, 19 May 2008 18:07:03 -0700
Received: from dwingwxp01 (sjc-vpn2-579.cisco.com [10.21.114.67])
	by sj-core-5.cisco.com (8.13.8/8.13.8) with ESMTP id m4K172IX005350;
	Tue, 20 May 2008 01:07:02 GMT
From: "Dan Wing" <dwing@cisco.com>
To: "'Richard Barnes'" <rbarnes@bbn.com>,
	"'Eric Rescorla'" <ekr@networkresonance.com>
References: <066701c8af02$2445f8e0$c3f0200a@cisco.com>	<20080506000110.499525081A@romeo.rtfm.com>	<03f901c8afde$ee9398f0$c3f0200a@cisco.com>	<62CA37AF-C3DD-49BE-9128-057711C78E81@voxeo.com>
	<20080513171527.4D4025081A@romeo.rtfm.com>
	<4831CF20.3070203@bbn.com>
Date: Mon, 19 May 2008 15:07:00 -1000
Message-ID: <000001c8ba15$d08b2a80$4372150a@cisco.com>
MIME-Version: 1.0
X-Mailer: Microsoft Office Outlook 11
Thread-Index: Aci54yM9vPp5NKSjSZiSzWv+wGzBCgAMl0Hg
In-Reply-To: <4831CF20.3070203@bbn.com>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.3198
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; l=5644; t=1211245623;
	x=1212109623; c=relaxed/simple; s=sjdkim1004;
	h=Content-Type:From:Subject:Content-Transfer-Encoding:MIME-Version;
	d=cisco.com; i=dwing@cisco.com;
	z=From:=20=22Dan=20Wing=22=20<dwing@cisco.com>
	|Subject:=20RE=3A=20[Sip]=20draft-ietf-sip-media-security-r
	equirements-05 |Sender:=20;
	bh=3eWG8UgY3/VJbDfTL+eJpyKU2uvaRd8w/Yzlkm2A4Ak=;
	b=QrhmPlm4sszq7eEFZWbdjtlDkdDN/PVo5lkSNzl1lacMUu4Jqh6c5eQruu
	RtF07TDV6DGRPx509FxiWvqfhELUAub2UP0RFY7WEY6ceVfjZqVGG70aQCb2
	OXetQFFPvOx3LjbaV2Q8nrwRDYalCNQThzb0CnZbUFS3assWiImrY=;
Authentication-Results: sj-dkim-1; header.From=dwing@cisco.com; dkim=pass (
	sig from cisco.com/sjdkim1004 verified; ); 
Cc: 'IETF SIP List' <sip@ietf.org>, "'Fries,
	Steffen \(CT\)'" <steffen.fries@siemens.com>,
	'Dean Willis' <dean.willis@softarmor.com>
Subject: Re: [Sip] draft-ietf-sip-media-security-requirements-05
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Archive: <https://www.ietf.org/mailman/private/sip>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

 

> -----Original Message-----
> From: Richard Barnes [mailto:rbarnes@bbn.com] 
> Sent: Monday, May 19, 2008 9:04 AM
> To: Eric Rescorla
> Cc: Dan York; 'IETF SIP List'; 'Fries, Steffen (CT)'; Dan 
> Wing; 'Dean Willis'
> Subject: Re: [Sip] draft-ietf-sip-media-security-requirements-05
> 
> With respect to the proposed text for R-CERTS, I agree with Dean that 
> this doesn't seem like a requirement on protocols, but on how 
> protocols 
> are operated.  The set of trust anchors that peers choose is an 
> operating policy choice of those peers, not an issue of protocol. 

It is possible to have a protocol without a trust anchor.  MIKEY-PSK and ZRTP
are two examples of protocols without trust anchors.

-d

> Perhaps you could put some operating recommendations in the 
> explanatory 
> section, but I don't think this issue belongs in the requirements for 
> the protocol.
> 
> One minor technical issue with the explanatory text: Both 
> parties don't 
> need to trust the same trust anchor, but each peer has to 
> have a trust 
> anchor that can be used to validate the other.
> 
> --RLB
> 
> 
> 
> 
> Eric Rescorla wrote:
> > At Tue, 13 May 2008 08:38:33 -0400,
> > Dan York wrote:
> >> Dan,
> >>
> >>> The wordsmithing task falls to me, I suppose.
> >>>
> >>> Here is another straw man, which I think captures your sentence
> >>> above your signature and your [0] comment:
> >>>
> >>>      R-CERTS:
> >>>
> >>>      The media security key management protocol MUST NOT require
> >>>      using a trust anchor to validate credentials (e.g., a
> >>>      certificate) or to obtain credentials (e.g., a private key)
> >>>      used in the protocol.
> >> Your wordsmithing is fine by me.  I also liked the discussion you  
> >> included in section 4.9 which explains the rationale for this  
> >> requirement more.
> >>
> >>   	4.9. Certificates	
> >> 				
> >> 			The discussion in this section relates 
> to R-CERTS.	
> >> 				
> >> 			On the Internet and on some private 
> networks, validating another	
> >> 			peer's certificate is often done 
> through a trust anchor -- a list of	
> >> 			Certificate Authorities that are 
> trusted. It can be difficult or	
> >> 			expensive for a peer to obtain these 
> certificates. In all cases,	
> >> 			both parties to the call would need to 
> trust the same trust anchor	
> >> 			(i.e., "certificate authority"). For 
> these reasons, it is important	
> >> 			that authentication mechanisms that 
> utilize trust anchors not rely	
> >> 			exclusively on such Certificate 
> Authority-issued certificates, but  
> >> to	
> >> 			also allow self-signed certificates. By 
> allowing the use of such	
> >> 			self-signed certificates, an 
> out-of-band mechanism (e.g., manual	
> >> 			configuration) can be used to trust a 
> peer's certificate.
> > 
> > I was sort of OK with Dan's original text, though I 
> probably would have
> > wordsmithed it differently, but I don't agree with this 
> discussion at all.
> > Any certificate system can in principle be used with 
> self-signed certs
> > by doing SSH-style fingerprint exchange. The question is 
> whether there
> > is a practical deployment model that actually supports this.
> > 
> > 
> > Consider two examples, both using TLS:
> > 
> > - HTTPS in the majority of cases is incompatible with 
> manual establishment
> >   of peer credentials. You connect to a lot of different 
> Web servers and
> >   it's not practical to obtain their certificates out of band.
> > - IMAP over TLS is compatible with manual establishment of 
> peer credentials
> >   because you connect with only one or two servers and you 
> already share
> >   a shared secret (the password) so it's at least in 
> principle possible
> >   to record their cert fingerprint. This is also why SSH works.
> > 
> > So, this isn't fundamentally an issue of protocol encoding 
> (as Richard
> > has observed) but rather of the context in which the 
> protocol is embedded.
> > 
> > 
> > So, I would rewrite this section as follows:
> > 
> >      On the Internet and on some private networks, 
> validating another
> >      peer's certificate is often done through a trust 
> anchor -- a list
> >      of Certificate Authorities that are trusted. It can be 
> difficult
> >      or expensive for a peer to obtain these certificates. In all
> >      cases, both parties to the call would need to trust the same
> >      trust anchor (i.e., "certificate authority"). For 
> these reasons,
> >      it is important that the media plane key management protocol
> >      offer a mechanism that allows end-users who have no prior
> >      association to authenticate to each other without acquiring
> >      credentials from a third party trust point. Note that this does
> >      not rule out mechanisms in which servers have certificates and
> >      attest to the identities of end-users.
> > 
> > And since I'm in the writing business, I would adjust 
> R-CERTS as follows:
> > 
> >       The media security key management protocol MUST NOT require
> >       that end-users obtain credentials (certificates or private
> >       keys) from a third-party trust anchor.
> > 		 
> > -Ekr
> > _______________________________________________
> > Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> > This list is for NEW development of the core SIP Protocol
> > Use sip-implementors@cs.columbia.edu for questions on current sip
> > Use sipping@ietf.org for new developments on the application of sip
> > 
> > 
> 

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Mon May 19 23:27:25 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id CCDAD3A6994;
	Mon, 19 May 2008 23:27:25 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 5E2F83A694B
	for <sip@core3.amsl.com>; Mon, 19 May 2008 23:27:24 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.599
X-Spam-Level: 
X-Spam-Status: No, score=-2.599 tagged_above=-999 required=5
	tests=[BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 8cpKUyHrzQud for <sip@core3.amsl.com>;
	Mon, 19 May 2008 23:27:23 -0700 (PDT)
Received: from fg-out-1718.google.com (fg-out-1718.google.com [72.14.220.154])
	by core3.amsl.com (Postfix) with ESMTP id 2A59F3A685B
	for <sip@ietf.org>; Mon, 19 May 2008 23:27:22 -0700 (PDT)
Received: by fg-out-1718.google.com with SMTP id d23so2006319fga.41
	for <sip@ietf.org>; Mon, 19 May 2008 23:27:23 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=gamma;
	h=domainkey-signature:received:received:message-id:date:from:to:subject:mime-version:content-type:content-transfer-encoding:content-disposition;
	bh=RKd9KHg3/IqNm980avgmzvZ9GoEodFghr+XHxLxFUrM=;
	b=srNSSQLDzjmpVqksQllP0yupNQpJwfaEI6WJIrFYP9LVy6ORtH65Vdaum5BtOpi7//dhiTb9b2a0mJIw7pniByA/SXZLcZbR5npjdaIhzZ2nAVvvf+u3ik0WicNzcSWY3dzPpBa1fSIDOXjyAdwSNbsQB1gPShMOxwpwjx6DQew=
DomainKey-Signature: a=rsa-sha1; c=nofws; d=gmail.com; s=gamma;
	h=message-id:date:from:to:subject:mime-version:content-type:content-transfer-encoding:content-disposition;
	b=BailKMx8OLJDHNCj7pVU1ZiVJf8H5mDfIL6iP91LrJbaNvlbVaQArJqsIkKgU9u2RJoWAU4cxnIlkXwPBnFBte3G/Bl3IgdFMLoQ2RTDEHwIH35r3ZGl1u/sceg39hW9w2CfH4lnMLoyumeN02XjJl4vLpWETXZ/nkCmOgVRA2A=
Received: by 10.82.107.15 with SMTP id f15mr1090796buc.86.1211264843113;
	Mon, 19 May 2008 23:27:23 -0700 (PDT)
Received: by 10.82.147.11 with HTTP; Mon, 19 May 2008 23:27:23 -0700 (PDT)
Message-ID: <ac8baa2c0805192327p31bd780du8997c11e9e9dbc78@mail.gmail.com>
Date: Tue, 20 May 2008 11:57:23 +0530
From: "Vikram Chhibber" <vikram.chhibber@gmail.com>
To: sip@ietf.org
MIME-Version: 1.0
Content-Disposition: inline
Subject: [Sip] Unsolicited NOTIFY needs format acceptance
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Archive: <https://www.ietf.org/mailman/private/sip>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Hi All,

I would like to emphasize the need for adapting unsolicited NOTIFY as
a standard. We all are aware of so many commercial applications using
this mechanism. Also, for typical features of presence and
call-processing, user-agents make subscriptions for sip-profile, reg
event, presence/RLS, watcher-info, message waiting indication,
xcap-diff events etc.

There are overheads on both the network and UA for maintaining the
dialog states for all these subscriptions, excessive SIP messaging and
not to mention the high-availability complexities where a network node
has to mirror the dialog information on its peer.

There are many optimizations like multi dialog usage (RFC 5057) etc
but these lead to inter-operation issues as their implementation
varies vendor to vendor.

I would like to ask whether there is an effort to address these issues.

~Vikram
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Mon May 19 23:33:14 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 07FF13A685B;
	Mon, 19 May 2008 23:33:14 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 971213A67A4
	for <sip@core3.amsl.com>; Mon, 19 May 2008 23:33:12 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.599
X-Spam-Level: 
X-Spam-Status: No, score=-2.599 tagged_above=-999 required=5
	tests=[BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 8IYvFv1iQfFQ for <sip@core3.amsl.com>;
	Mon, 19 May 2008 23:33:11 -0700 (PDT)
Received: from fg-out-1718.google.com (fg-out-1718.google.com [72.14.220.156])
	by core3.amsl.com (Postfix) with ESMTP id 63BFC3A67FA
	for <sip@ietf.org>; Mon, 19 May 2008 23:33:11 -0700 (PDT)
Received: by fg-out-1718.google.com with SMTP id d23so2007472fga.41
	for <sip@ietf.org>; Mon, 19 May 2008 23:33:10 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=gamma;
	h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
	bh=i+ukXOrDXikw14r9VQAhUFAdb2CtmFYBcz70KGU5U7w=;
	b=UJSXyAFZ5ZQmTKyKZfcA8i+3+wNFTPi78M86R5LULDYjOFCWB0E1KKFJG3nZuKfssCeekk2T4XY5V2IcLbHc0x2LreX454RJ/FdedEvLeIpnK8jMAPLe5E3dmazVNfWKjYIzpAlVLND0sjRm6YQ+RP6pfv2SEi6stYJPkt42Pts=
DomainKey-Signature: a=rsa-sha1; c=nofws; d=gmail.com; s=gamma;
	h=message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
	b=gdhIbmwZl/A4omBp68cHir1+luP/WCCy22HG0RbXHVKwELy7Pmzs65ah4sf8uvC+N6CbaCeTOux6C2lIKsb4/BhygEp3XiHuNuh8932P7g+vrO7zsjShQ/6C8ZhCVaClUn8nEF8rFNCC+oykQTOrOOLI08Hvw18vlapeCfRaPoA=
Received: by 10.82.153.12 with SMTP id a12mr1085030bue.2.1211265189861;
	Mon, 19 May 2008 23:33:09 -0700 (PDT)
Received: by 10.82.147.11 with HTTP; Mon, 19 May 2008 23:33:09 -0700 (PDT)
Message-ID: <ac8baa2c0805192333p7b8240aamc22f2bb2f0e7fa22@mail.gmail.com>
Date: Tue, 20 May 2008 12:03:09 +0530
From: "Vikram Chhibber" <vikram.chhibber@gmail.com>
To: sip@ietf.org
In-Reply-To: <ac8baa2c0805192327p31bd780du8997c11e9e9dbc78@mail.gmail.com>
MIME-Version: 1.0
Content-Disposition: inline
References: <ac8baa2c0805192327p31bd780du8997c11e9e9dbc78@mail.gmail.com>
Subject: Re: [Sip] Unsolicited NOTIFY needs format acceptance
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Archive: <https://www.ietf.org/mailman/private/sip>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Definitely, unsolicited NOTIFY can not be substituted for presence
event where it would make watcher info. subscription to presence event
useless but it makes sense of using it for reg, sip-profile or message
waiting.

On Tue, May 20, 2008 at 11:57 AM, Vikram Chhibber
<vikram.chhibber@gmail.com> wrote:
> Hi All,
>
> I would like to emphasize the need for adapting unsolicited NOTIFY as
> a standard. We all are aware of so many commercial applications using
> this mechanism. Also, for typical features of presence and
> call-processing, user-agents make subscriptions for sip-profile, reg
> event, presence/RLS, watcher-info, message waiting indication,
> xcap-diff events etc.
>
> There are overheads on both the network and UA for maintaining the
> dialog states for all these subscriptions, excessive SIP messaging and
> not to mention the high-availability complexities where a network node
> has to mirror the dialog information on its peer.
>
> There are many optimizations like multi dialog usage (RFC 5057) etc
> but these lead to inter-operation issues as their implementation
> varies vendor to vendor.
>
> I would like to ask whether there is an effort to address these issues.
>
> ~Vikram
>
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Tue May 20 01:08:08 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 9CCC63A68C1;
	Tue, 20 May 2008 01:08:06 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 5AEA43A6BC7
	for <sip@core3.amsl.com>; Tue, 20 May 2008 01:07:31 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -5.505
X-Spam-Level: 
X-Spam-Status: No, score=-5.505 tagged_above=-999 required=5 tests=[AWL=0.744, 
	BAYES_00=-2.599, HELO_EQ_SE=0.35, RCVD_IN_DNSWL_MED=-4]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id SFepJZgwDFnC for <sip@core3.amsl.com>;
	Tue, 20 May 2008 01:06:55 -0700 (PDT)
Received: from mailgw3.ericsson.se (mailgw3.ericsson.se [193.180.251.60])
	by core3.amsl.com (Postfix) with ESMTP id 1145128C1A9
	for <sip@ietf.org>; Tue, 20 May 2008 01:06:47 -0700 (PDT)
Received: from mailgw3.ericsson.se (unknown [127.0.0.1])
	by mailgw3.ericsson.se (Symantec Mail Security) with ESMTP id
	48E6620F35; Tue, 20 May 2008 10:05:38 +0200 (CEST)
X-AuditID: c1b4fb3c-ae89cbb00000193b-1f-48328652a59b
Received: from esealmw129.eemea.ericsson.se (unknown [153.88.254.124])
	by mailgw3.ericsson.se (Symantec Mail Security) with ESMTP id
	2AE9720F31; Tue, 20 May 2008 10:05:38 +0200 (CEST)
Received: from esealmw129.eemea.ericsson.se ([153.88.254.177]) by
	esealmw129.eemea.ericsson.se with Microsoft SMTPSVC(6.0.3790.1830); 
	Tue, 20 May 2008 10:05:37 +0200
Received: from [131.160.37.21] ([131.160.37.21]) by
	esealmw129.eemea.ericsson.se with Microsoft SMTPSVC(6.0.3790.1830); 
	Tue, 20 May 2008 10:05:37 +0200
Message-ID: <48328651.3050409@ericsson.com>
Date: Tue, 20 May 2008 11:05:37 +0300
From: Gonzalo Camarillo <Gonzalo.Camarillo@ericsson.com>
User-Agent: Thunderbird 2.0.0.14 (Windows/20080421)
MIME-Version: 1.0
To: Paul Kyzivat <pkyzivat@cisco.com>
References: <47979565.2050700@ericsson.com> <47980C64.2070801@cisco.com>
In-Reply-To: <47980C64.2070801@cisco.com>
X-OriginalArrivalTime: 20 May 2008 08:05:37.0624 (UTC)
	FILETIME=[49AC5580:01C8BA50]
X-Brightmail-Tracker: AAAAAA==
Cc: sip <sip@ietf.org>
Subject: Re: [Sip] New version of draft-ietf-sip-body-handling-01.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Archive: <https://www.ietf.org/mailman/private/sip>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Hi Paul,

with respect to sipfrag, it is true that somebody could generate a 
sipfrag with a body without including the header that referenced that 
body. However, I believe that should be clarified in a revision of the 
sipfrag spec, and not in this one. Therefore, I will consider it out of 
the scope of this document.

Thanks for the comments,

Cheers,

Gonzalo

Paul Kyzivat wrote:
> Gonzalo,
> 
> This is *much* improved! (Not that it was bad before.) It is very 
> straightforward and clear. I like it a lot.
> 
> I was only thinking about one use case that may, or may not, warrant 
> some special explanation - the use of sipfrag.
> 
> A sipfrag is allowed to contain any subset of initial lines, headers, 
> and body from a sip message. This could for instance lead to unsatisfied 
> references to body parts, or to body parts that were intended to be 
> referenced, but whose references have been elided. As a result it may 
> not be possible to properly process the body parts of a sipfrag.
> 
> I think this this is pretty much intended behavior and so it should be 
> ok to send such ill-constructed things. But it might be good, here or 
> somewhere else, to clarify the construction and usage of sipfrags - what 
> makes sense and what does not.
> 
>     Thanks,
>     Paul
> 
> Gonzalo Camarillo wrote:
>> Folks,
>>
>> I have put together a new version of the body handling draft:
>>
>> http://www.ietf.org/internet-drafts/draft-ietf-sip-body-handling-01.txt
>>
>> This version addresses all the comments we got in its APPS review, 
>> which included modifying the structure of the document. With respect 
>> to references to body parts, per the guidelines we got from the APPS 
>> people, the document now only allows forward references.
>>
>> Comments are welcome.
>>
>> Cheers,
>>
>> Gonzalo
>>
>>
>>
>> _______________________________________________
>> Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
>> This list is for NEW development of the core SIP Protocol
>> Use sip-implementors@cs.columbia.edu for questions on current sip
>> Use sipping@ietf.org for new developments on the application of sip
>>
> 

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Tue May 20 01:35:58 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 0DCB93A6BC2;
	Tue, 20 May 2008 01:35:58 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 7722A3A6880
	for <sip@core3.amsl.com>; Tue, 20 May 2008 01:35:56 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -5.877
X-Spam-Level: 
X-Spam-Status: No, score=-5.877 tagged_above=-999 required=5 tests=[AWL=0.372, 
	BAYES_00=-2.599, HELO_EQ_SE=0.35, RCVD_IN_DNSWL_MED=-4]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id s6-7pdSXHHdJ for <sip@core3.amsl.com>;
	Tue, 20 May 2008 01:35:52 -0700 (PDT)
Received: from mailgw4.ericsson.se (mailgw4.ericsson.se [193.180.251.62])
	by core3.amsl.com (Postfix) with ESMTP id 7E8A928C1C3
	for <sip@ietf.org>; Tue, 20 May 2008 01:35:48 -0700 (PDT)
Received: from mailgw4.ericsson.se (unknown [127.0.0.1])
	by mailgw4.ericsson.se (Symantec Mail Security) with ESMTP id
	673AF216C3; Tue, 20 May 2008 10:35:48 +0200 (CEST)
X-AuditID: c1b4fb3e-ad196bb000004ec0-4e-48328d64106d
Received: from esealmw128.eemea.ericsson.se (unknown [153.88.254.121])
	by mailgw4.ericsson.se (Symantec Mail Security) with ESMTP id
	3F6F32101B; Tue, 20 May 2008 10:35:48 +0200 (CEST)
Received: from esealmw128.eemea.ericsson.se ([153.88.254.176]) by
	esealmw128.eemea.ericsson.se with Microsoft SMTPSVC(6.0.3790.1830); 
	Tue, 20 May 2008 10:35:47 +0200
Received: from [131.160.37.21] ([131.160.37.21]) by
	esealmw128.eemea.ericsson.se with Microsoft SMTPSVC(6.0.3790.1830); 
	Tue, 20 May 2008 10:35:47 +0200
Message-ID: <48328D63.9010408@ericsson.com>
Date: Tue, 20 May 2008 11:35:47 +0300
From: Gonzalo Camarillo <Gonzalo.Camarillo@ericsson.com>
User-Agent: Thunderbird 2.0.0.14 (Windows/20080421)
MIME-Version: 1.0
To: Eric Tremblay <etremblay@m5t.com>
References: <6EF4CC794ECF2B409390605FDEA90122452E3B@m5tmail1.m5t.com>
In-Reply-To: <6EF4CC794ECF2B409390605FDEA90122452E3B@m5tmail1.m5t.com>
X-OriginalArrivalTime: 20 May 2008 08:35:47.0853 (UTC)
	FILETIME=[80A75BD0:01C8BA54]
X-Brightmail-Tracker: AAAAAA==
Cc: IETF SIP List <sip@ietf.org>
Subject: Re: [Sip] Clarification for multipart/alternative handling
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Archive: <https://www.ietf.org/mailman/private/sip>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="windows-1252"
Content-Transfer-Encoding: quoted-printable
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Hi Eric,

yes, making the last one required was an error. The intention was to =

make the first one required. In any case, after some conversation with a =

few people, the best way forward seems to be processing the =

multipart/alternative base on its handling parameter and ignoring the =

handling parameters of the body parts within the multipart/alternative.

Specification wise, this would mean that the sender SHOULD set the =

handling parameter of all the body parts to optional and the receiver =

MUST ignore them.

I will make the following changes to the draft:

In Section 6.2:

OLD:
    If the handling of a 'multipart/alternative' body is required, the UA
    MUST set the 'handling' parameter of the 'multipart/alternative' body
    to 'required'.  The UA MUST also set the 'handling' parameter of the
    last body part within the 'multipart/alternative' to 'required'.

    Additionally, the UA MUST set the 'handling' parameter of all body
    parts within the 'multipart/alternative' except the last one to
    'optional'.  The UA MUST use the same disposition type for the
    'multipart/alternative' body and all its body parts.

NEW:
    If the handling of a 'multipart/alternative' body is required, the UA
    MUST set the 'handling' parameter of the 'multipart/alternative' body
    to 'required'.  The UA SHOULD also set the 'handling' parameter of
    all the body part within the 'multipart/alternative' to 'optional' =

(the receiver will process the body parts based on the handling =

parameter of the 'multipart/alternative' body; the receiver will ignore =

the handling parameters of the body parts). The UA MUST use the same =

disposition type for the 'multipart/alternative' body and all its body =

parts.

   6.3.  UA Behavior to Process 'multipart/alternative'

The receiver of 'multipart/alternative' body MUST process it based on =

its handling parameter. The receiver SHOULD ignore the handling =

parameters of the body parts within the 'multipart/alternative'.


Cheers,

Gonzalo


Eric Tremblay wrote:
> Hi Gonzalo,
> =

> I have been going through draft-ietf-sip-body-handling-01 and noticed =

> something that is either en error or counter-intuitive.
> =

> Section 5.1 states:
>    The body parts are
>    ordered so that the last one is the richest representation of the
>    information.  This way, the recipient of a 'multipart/alternative'
>    body chooses the last body part it understands.
> =

> Section 6.2 states:
>    If the handling of a 'multipart/alternative' body is required, the UA
>    MUST set the 'handling' parameter of the 'multipart/alternative' body
>    to 'required'.  The UA MUST also set the 'handling' parameter of the
>    last body part within the 'multipart/alternative' to 'required'.
> =

> Why the last body part? Somehow, I would have expected that the =

> 'handling' parameter of first body part to be set to 'required', not the =

> last one, as the last one should hold the richest representation of the =

> information, and possibly the one most difficult to understand/implement=
=85
> =

> And thinking about it a little bit more, I think that an application =

> should always set the 'handling' parameter in the internal parts of a =

> 'multipart/alternative' to 'optional', as this is pretty much what =

> 'multipart/alternative' is. If 'multipart/alternative' itself is has its =

> 'handling' set to 'required', then it means at least one of its internal =

> part must be understood and handled. The sender cannot really decide =

> which one has to be understood.
> =

> Maybe my suggestion is going against things already defined in MIME or =

> somewhere else. If this is the case, I think a simple clarification in =

> the draft would do, something in the line:
> =

> Even though the last part of the 'multipart/alternative' has its =

> 'handling' parameter set to 'required', the receiving UA (or UAS) does =

> not necessarly have to be able to handle this specific body part, it =

> only has to be able to handle any body part within the =

> 'multipart/alternative' body parts.
> =

> Best Regards,
> =

> EricT
> =

> =

> ------------------------------------------------------------------------
> =

> _______________________________________________
> Sip mailing list  http://www.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Tue May 20 04:11:24 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id BCBC628C0EB;
	Tue, 20 May 2008 04:11:22 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 2ACE13A6BD4
	for <sip@core3.amsl.com>; Tue, 20 May 2008 04:10:51 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: 0.903
X-Spam-Level: 
X-Spam-Status: No, score=0.903 tagged_above=-999 required=5
	tests=[BAYES_00=-2.599, CHARSET_FARAWAY_HEADER=3.2,
	HTML_MESSAGE=0.001, MIME_8BIT_HEADER=0.3, NORMAL_HTTP_TO_IP=0.001]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id xTe42R6kc7H7 for <sip@core3.amsl.com>;
	Tue, 20 May 2008 04:10:43 -0700 (PDT)
Received: from fg-out-1718.google.com (fg-out-1718.google.com [72.14.220.155])
	by core3.amsl.com (Postfix) with ESMTP id 9780928C0F7
	for <sip@ietf.org>; Tue, 20 May 2008 04:10:35 -0700 (PDT)
Received: by fg-out-1718.google.com with SMTP id d23so2074445fga.41
	for <sip@ietf.org>; Tue, 20 May 2008 04:10:35 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=gamma;
	h=domainkey-signature:received:received:message-id:date:from:to:subject:mime-version:content-type;
	bh=TgbJwpzwxLF7FkMOmPxXg6CXLAyjEf0aOyfQZuANlr0=;
	b=LhMB8ipywR2UJkGQDHgWFSssnCc6buaegZLtmb13dOL0/7BJRUpgi42MteZ3vk7WZ1SO0TLXxMAaSc92nmlifmPa9kkKYvtuOjMiIoboHNorh585iJVUhuT9PSot1Lq5MPh2HpgBJhfUlfUwNGF/ocC7frCDoH4p1EwItlv0vfo=
DomainKey-Signature: a=rsa-sha1; c=nofws; d=gmail.com; s=gamma;
	h=message-id:date:from:to:subject:mime-version:content-type;
	b=nsALdCVMl4TWgblKP5JgqZ9XUt4XV4myyKt0Gt8/FdqRinMv2pJ9WJ0eYKwThtcBWd2QQq5UbjL0YqH0gs6QOuxItPZvxWcsC8kfbv4yRJLBDvCwq8d6FVa0qxzqAkrdjsSSsWYiP+L8GwiizXKxrytf+RI+tNYXE/O9EIAIlKg=
Received: by 10.82.124.10 with SMTP id w10mr1102877buc.18.1211281835579;
	Tue, 20 May 2008 04:10:35 -0700 (PDT)
Received: by 10.82.149.12 with HTTP; Tue, 20 May 2008 04:10:35 -0700 (PDT)
Message-ID: <2374a5fb0805200410o66a6674avfbf3fd0c3a71c702@mail.gmail.com>
Date: Tue, 20 May 2008 19:10:35 +0800
From: "=?GB2312?B?y+/TwLni?=" <sammanengineer@gmail.com>
To: sip@ietf.org, "IETF Sipping List" <sipping@ietf.org>
MIME-Version: 1.0
Subject: [Sip] SIP one DNS domain much IP
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Archive: <https://www.ietf.org/mailman/private/sip>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: multipart/mixed; boundary="===============1003890927=="
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

--===============1003890927==
Content-Type: multipart/alternative; 
	boundary="----=_Part_16985_21927007.1211281835567"

------=_Part_16985_21927007.1211281835567
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Hi Guys:

     I have a question about DNS
it is that one DNS domain has much IP Addrs , eg: as.test.net=>(
192.168.2.1/192.168.2.2)
and "as.test.net: is B2B server
1) A INVITE B , A resolves the DNS "as.test.net" 192.168.2.1,then A sends
INVITE request to
   192.168.2.1
2) A receives 200 response with contact "as.test.net" and no record route
3)A resolves the DNS "as.test.net" again, it gets 192.16.2.2 and sends ACK
to 192.168.2.2

now the 192.16.2.1 can't recieve the ACK request , so the session can't be
created

Anyone can give me any advice, or some RFC/draft about it

Thanks in advance

Samman
2008-5-20

------=_Part_16985_21927007.1211281835567
Content-Type: text/html; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

<p>Hi Guys:</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp; I have a question about DNS<br>it is that one DNS domain has much IP Addrs , eg: <a href="http://as.test.net">as.test.net</a>=&gt;(<a href="http://192.168.2.1/192.168.2.2">192.168.2.1/192.168.2.2</a>)<br>and &quot;<a href="http://as.test.net">as.test.net</a>: is B2B server<br>
1) A INVITE B , A resolves the DNS &quot;<a href="http://as.test.net">as.test.net</a>&quot; <a href="http://192.168.2.1">192.168.2.1</a>,then A sends INVITE request to<br>&nbsp;&nbsp; <a href="http://192.168.2.1">192.168.2.1</a><br>
2) A receives 200 response with contact &quot;<a href="http://as.test.net">as.test.net</a>&quot; and no record route<br>3)A resolves the DNS &quot;<a href="http://as.test.net">as.test.net</a>&quot; again, it gets <a href="http://192.16.2.2">192.16.2.2</a> and sends ACK to <a href="http://192.168.2.2">192.168.2.2</a></p>

<p>now the <a href="http://192.16.2.1">192.16.2.1</a> can&#39;t recieve the ACK request , so the session can&#39;t be created</p>
<p>Anyone can give me any advice, or some RFC/draft about it</p>
<p>Thanks in advance</p>
<p>Samman <br>2008-5-20</p>
<p><br>&nbsp;</p>

------=_Part_16985_21927007.1211281835567--

--===============1003890927==
Content-Type: text/plain; charset="us-ascii"
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip
--===============1003890927==--


From sip-bounces@ietf.org  Tue May 20 04:24:00 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id CE1A03A6BCA;
	Tue, 20 May 2008 04:24:00 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 5C43C3A6BCA
	for <sip@core3.amsl.com>; Tue, 20 May 2008 04:24:00 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -6.599
X-Spam-Level: 
X-Spam-Status: No, score=-6.599 tagged_above=-999 required=5
	tests=[BAYES_00=-2.599, RCVD_IN_DNSWL_MED=-4]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id OdZtiDyvKLpK for <sip@core3.amsl.com>;
	Tue, 20 May 2008 04:23:59 -0700 (PDT)
Received: from rtp-iport-2.cisco.com (rtp-iport-2.cisco.com [64.102.122.149])
	by core3.amsl.com (Postfix) with ESMTP id 367EA3A6AC1
	for <sip@ietf.org>; Tue, 20 May 2008 04:23:58 -0700 (PDT)
X-IronPort-AV: E=Sophos;i="4.27,515,1204520400"; 
   d="scan'208";a="8743359"
Received: from rtp-dkim-2.cisco.com ([64.102.121.159])
	by rtp-iport-2.cisco.com with ESMTP; 20 May 2008 07:23:59 -0400
Received: from rtp-core-2.cisco.com (rtp-core-2.cisco.com [64.102.124.13])
	by rtp-dkim-2.cisco.com (8.12.11/8.12.11) with ESMTP id m4KBNxJ5021437; 
	Tue, 20 May 2008 07:23:59 -0400
Received: from xbh-rtp-211.amer.cisco.com (xbh-rtp-211.cisco.com
	[64.102.31.102])
	by rtp-core-2.cisco.com (8.13.8/8.13.8) with ESMTP id m4KBNxvY016080;
	Tue, 20 May 2008 11:23:59 GMT
Received: from xmb-rtp-201.amer.cisco.com ([64.102.31.13]) by
	xbh-rtp-211.amer.cisco.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Tue, 20 May 2008 07:23:59 -0400
X-MIMEOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Tue, 20 May 2008 07:23:33 -0400
Message-ID: <C7FFFFDD779F2047A0FBAC811C5C5A00060AF2DE@xmb-rtp-201.amer.cisco.com>
In-Reply-To: <ac8baa2c0805192333p7b8240aamc22f2bb2f0e7fa22@mail.gmail.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] Unsolicited NOTIFY needs format acceptance
Thread-Index: Aci6Q2yZqHAdu1V+Sj6zha3J3VcirAAJ1Ugw
From: "Sanjay Sinha (sanjsinh)" <sanjsinh@cisco.com>
To: "Vikram Chhibber" <vikram.chhibber@gmail.com>, <sip@ietf.org>
X-OriginalArrivalTime: 20 May 2008 11:23:59.0621 (UTC)
	FILETIME=[FFD0F350:01C8BA6B]
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; l=2144; t=1211282639;
	x=1212146639; c=relaxed/simple; s=rtpdkim2001;
	h=Content-Type:From:Subject:Content-Transfer-Encoding:MIME-Version;
	d=cisco.com; i=sanjsinh@cisco.com;
	z=From:=20=22Sanjay=20Sinha=20(sanjsinh)=22=20<sanjsinh@cisc
	o.com>
	|Subject:=20RE=3A=20[Sip]=20Unsolicited=20NOTIFY=20needs=20
	format=20acceptance |Sender:=20
	|To:=20=22Vikram=20Chhibber=22=20<vikram.chhibber@gmail.com
	>,=20<sip@ietf.org>;
	bh=7phqu+pr1aLO3EDOPWPqoGfiEU6XdIB+BLynmJHtILM=;
	b=NRl5DaTTIHjTvlp3SSjyAtpWHQOr6LSmavCak0ZbPxiO5gtjZUkgeMmHEk
	58GRe4DkbybSgwrNUpXYk15RrMf2wS3MQPj22KJuJCj/LqtD+CdmxH2XmJS/
	9avhZfVz3o;
Authentication-Results: rtp-dkim-2; header.From=sanjsinh@cisco.com; dkim=pass (
	sig from cisco.com/rtpdkim2001 verified; ); 
Subject: Re: [Sip] Unsolicited NOTIFY needs format acceptance
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Archive: <https://www.ietf.org/mailman/private/sip>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

You can use INFO event package to negotiate events in context of a
dialog and use INFO for exchanging the events. For presence related
features related to configuration, I think it's better to use Publish
than unsolicited Notify.

Sanjay


>-----Original Message-----
>From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On 
>Behalf Of Vikram Chhibber
>Sent: Tuesday, May 20, 2008 2:33 AM
>To: sip@ietf.org
>Subject: Re: [Sip] Unsolicited NOTIFY needs format acceptance
>
>Definitely, unsolicited NOTIFY can not be substituted for 
>presence event where it would make watcher info. subscription 
>to presence event useless but it makes sense of using it for 
>reg, sip-profile or message waiting.
>
>On Tue, May 20, 2008 at 11:57 AM, Vikram Chhibber 
><vikram.chhibber@gmail.com> wrote:
>> Hi All,
>>
>> I would like to emphasize the need for adapting unsolicited 
>NOTIFY as 
>> a standard. We all are aware of so many commercial 
>applications using 
>> this mechanism. Also, for typical features of presence and 
>> call-processing, user-agents make subscriptions for sip-profile, reg 
>> event, presence/RLS, watcher-info, message waiting indication, 
>> xcap-diff events etc.
>>
>> There are overheads on both the network and UA for maintaining the 
>> dialog states for all these subscriptions, excessive SIP 
>messaging and 
>> not to mention the high-availability complexities where a 
>network node 
>> has to mirror the dialog information on its peer.
>>
>> There are many optimizations like multi dialog usage (RFC 5057) etc 
>> but these lead to inter-operation issues as their implementation 
>> varies vendor to vendor.
>>
>> I would like to ask whether there is an effort to address 
>these issues.
>>
>> ~Vikram
>>
>_______________________________________________
>Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
>This list is for NEW development of the core SIP Protocol Use 
>sip-implementors@cs.columbia.edu for questions on current sip 
>Use sipping@ietf.org for new developments on the application of sip
>
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Tue May 20 05:41:41 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 912133A69C4;
	Tue, 20 May 2008 05:41:41 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 16C1C3A6B3E
	for <sip@core3.amsl.com>; Tue, 20 May 2008 05:41:37 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -1.984
X-Spam-Level: 
X-Spam-Status: No, score=-1.984 tagged_above=-999 required=5 tests=[AWL=0.315, 
	BAYES_00=-2.599, MIME_8BIT_HEADER=0.3]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 4spR7W8sIYtz for <sip@core3.amsl.com>;
	Tue, 20 May 2008 05:41:36 -0700 (PDT)
Received: from out002.iad.hostedmail.net (out002.iad.hostedmail.net
	[209.225.56.24])
	by core3.amsl.com (Postfix) with ESMTP id D67803A6B20
	for <sip@ietf.org>; Tue, 20 May 2008 05:41:35 -0700 (PDT)
Received: from ATL1VEXC020.usdom003.tco.tc ([10.158.7.31]) by
	out002.iad.hostedmail.net with Microsoft SMTPSVC(6.0.3790.3959);
	Tue, 20 May 2008 08:41:37 -0400
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Tue, 20 May 2008 08:41:36 -0400
Message-ID: <BBE61D1553D8A34F812FF87377B2935F037CDAB3@ATL1VEXC020.usdom003.tco.tc>
In-Reply-To: <2374a5fb0805200410o66a6674avfbf3fd0c3a71c702@mail.gmail.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] SIP one DNS domain much IP
Thread-Index: Aci6akMrC1RQmTNoT5qBXmqLT71NVgAA1VpA
From: "Brett Tate" <brett@broadsoft.com>
To: =?gb2312?B?y+/TwLni?= <sammanengineer@gmail.com>,
	<sip@ietf.org>
X-OriginalArrivalTime: 20 May 2008 12:41:37.0373 (UTC)
	FILETIME=[D80D80D0:01C8BA76]
Subject: Re: [Sip] SIP one DNS domain much IP
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Archive: <https://www.ietf.org/mailman/private/sip>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Because of potential load-balancing (as you are observing), solely using A records within primary/secondary configurations should be avoided unless additional agreements or configuration has been made to avoid the situation you are describing concerning in dialog requests.  The additional agreements override typical rfc3263 behavior by applying local policy (potentially non compliant) to remain stateful within dialog.  The potential additional configuration (to avoid the mentioned override) is to have DNS control to avoid automatic load-balancing/iterating concerning A records so that the A record query/handling can always result in the same ordered list.

RFC 3263 discusses using DNS SRV records to more clearly indicate prioritization and load-balancing.  If SRV records not supported, the Contact should reflect a single AS unless the alternative locations can accommodate the situation (or additional agreements or configuration has been made to avoid trying the alternative locations first).


________________________________

	From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On Behalf Of ???
	Sent: Tuesday, May 20, 2008 7:11 AM
	To: sip@ietf.org; IETF Sipping List
	Subject: [Sip] SIP one DNS domain much IP
	
	

	Hi Guys:

	     I have a question about DNS
	it is that one DNS domain has much IP Addrs , eg: as.test.net=>(192.168.2.1/192.168.2.2)
	and "as.test.net: is B2B server
	1) A INVITE B , A resolves the DNS "as.test.net" 192.168.2.1,then A sends INVITE request to
	   192.168.2.1
	2) A receives 200 response with contact "as.test.net" and no record route
	3)A resolves the DNS "as.test.net" again, it gets 192.16.2.2 and sends ACK to 192.168.2.2

	now the 192.16.2.1 can't recieve the ACK request , so the session can't be created

	Anyone can give me any advice, or some RFC/draft about it

	Thanks in advance

	Samman 
	2008-5-20

	
	 

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Tue May 20 20:40:11 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 0C3333A6A0B;
	Tue, 20 May 2008 20:40:11 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 48CF73A6BE6
	for <sip@core3.amsl.com>; Tue, 20 May 2008 20:40:08 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -3.299
X-Spam-Level: 
X-Spam-Status: No, score=-3.299 tagged_above=-999 required=5
	tests=[BAYES_00=-2.599, MIME_8BIT_HEADER=0.3, RCVD_IN_DNSWL_LOW=-1]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id yxa8aG-Hx7aH for <sip@core3.amsl.com>;
	Tue, 20 May 2008 20:40:06 -0700 (PDT)
Received: from cluster-f.mailcontrol.com (cluster-f.mailcontrol.com
	[85.119.2.190]) by core3.amsl.com (Postfix) with ESMTP id F29A828C8FA
	for <sip@ietf.org>; Tue, 20 May 2008 07:17:07 -0700 (PDT)
Received: from rly34f.srv.mailcontrol.com (localhost.localdomain [127.0.0.1])
	by rly34f.srv.mailcontrol.com (MailControl) with ESMTP id
	m4KEH0Tr015936 for <sip@ietf.org>; Tue, 20 May 2008 15:17:00 +0100
Received: from submission.mailcontrol.com (submission.mailcontrol.com
	[86.111.216.190])
	by rly34f.srv.mailcontrol.com (MailControl) id m4KEGSbg012983
	for sip@ietf.org; Tue, 20 May 2008 15:16:28 +0100
Received: from exsmtp01.nasstar-t1.net (exsmtp01.nasstar-t1.net [89.28.233.12])
	by rly34f-eth0.srv.mailcontrol.com (envelope-sender
	attila.sipos@vegastream.com) (MIMEDefang) with ESMTP id
	m4KEET7h004469; Tue, 20 May 2008 15:16:28 +0100 (BST)
Received: from EXVS02.nasstar-t1.net ([10.2.10.104]) by
	exsmtp01.nasstar-t1.net with Microsoft SMTPSVC(6.0.3790.1830); 
	Tue, 20 May 2008 15:17:45 +0100
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Tue, 20 May 2008 15:16:22 +0100
Message-ID: <680808427CF931459462C3D78CB5EC60021BBDC0@EXVS02.nasstar-t1.net>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] SIP one DNS domain much IP
Thread-Index: Aci6akMrC1RQmTNoT5qBXmqLT71NVgAA1VpAAAMgbrAAAByuEAACNJnw
From: "Attila Sipos" <attila.sipos@vegastream.com>
To: "Brett Tate" <brett@broadsoft.com>,
	=?utf-8?B?5a2Z5rC45YWJ?= <sammanengineer@gmail.com>, <sip@ietf.org>
X-OriginalArrivalTime: 20 May 2008 14:17:45.0000 (UTC)
	FILETIME=[45D38A80:01C8BA84]
X-Scanned-By: MailControl A-08-50-03 (www.mailcontrol.com) on 10.70.1.144
Subject: Re: [Sip] SIP one DNS domain much IP
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Archive: <https://www.ietf.org/mailman/private/sip>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

DQpIaSBCcmV0dCwNCg0KVGhhbmtzIGZvciB5b3VyIHJlc3BvbnNlIC0gdG8gbWUgaXQgaGlnaGxp
Z2h0cyBzb21ldGhpbmcNCnRoYXQgSSBkb24ndCB1bmRlcnN0YW5kIGluIFJGQyAzMjYzOg0KDQog
ICBCZWNhdXNlIHRoZSBBQ0sgcmVxdWVzdCBmb3IgMnh4IHJlc3BvbnNlcyB0byBJTlZJVEUgY29u
c3RpdHV0ZXMgYQ0KICAgZGlmZmVyZW50IHRyYW5zYWN0aW9uLCB0aGVyZSBpcyBubyByZXF1aXJl
bWVudCB0aGF0IGl0IGJlIGRlbGl2ZXJlZA0KICAgdG8gdGhlIHNhbWUgc2VydmVyIHRoYXQgcmVj
ZWl2ZWQgdGhlIG9yaWdpbmFsIHJlcXVlc3QgKGluZGVlZCwgaWYNCiAgIHRoYXQgc2VydmVyIGRp
ZCBub3QgcmVjb3JkLXJvdXRlLCBpdCB3aWxsIG5vdCBnZXQgdGhlIEFDSykuDQoNClNvIGlmIGl0
IGRvZXNuJ3QgZ2V0IHRoZSBBQ0ssIHRoZSAyeHggcmVzcG9uc2Ugd2lsbCBiZSByZXRyYW5zbWl0
dGVkDQpvdmVyIGFuZCBvdmVyIC0gd29uJ3QgaXQ/DQoNClRoaXMgaXMgd2hhdCBJIGRvbid0IHVu
ZGVyc3RhbmQgLSB1bmRlciB3aGF0IGNvbmRpdGlvbiBpcyBpdCBkZXNpcmVkDQp0aGF0IHRoZSAy
eHggQUNLIGdvZXMgdG8gYSBkaWZmZXJlbnQgZGVzdGluYXRpb24gdGhhbiB0aGUgb3JpZ2luYWwg
SU5WSVRFPw0KDQpDaGVlcnMsDQpBdHRpbGENCg0KDQotLS0tLU9yaWdpbmFsIE1lc3NhZ2UtLS0t
LQ0KRnJvbTogQnJldHQgVGF0ZSBbbWFpbHRvOmJyZXR0QGJyb2Fkc29mdC5jb21dIA0KU2VudDog
MjAgTWF5IDIwMDggMTQ6MzQNClRvOiBBdHRpbGEgU2lwb3M7IOWtmeawuOWFiTsgc2lwQGlldGYu
b3JnDQpTdWJqZWN0OiBSRTogW1NpcF0gU0lQIG9uZSBETlMgZG9tYWluIG11Y2ggSVANCg0KPiA+
IElmIFNSViByZWNvcmRzIG5vdCBzdXBwb3J0ZWQsIHRoZSBDb250YWN0IHNob3VsZCByZWZsZWN0
IGEgc2luZ2xlIEFTDQo+IA0KPiBEaWQgeW91IG1lYW4gdGhhdCBpZiBTUlYgcmVjb3JkcyBBUkUg
c3VwcG9ydGVkPw0KDQpIaSBBdHRpbGEsDQoNCk5vcGUuICBJZiBTUlYgc3VwcG9ydGVkIGFuZCBi
ZWluZyB1c2VkLCB0aGUgU1JWIHJlY29yZHMgYWxsb3cgdGhlIGRlc2lyZWQgb3JkZXIgdG8gYmUg
Y2xlYXJseSBpbmRpY2F0ZWQuDQoNCg0KPiBJc24ndCB0aGUgcHJvYmxlbSB0aGF0IHRoZSBDb250
YWN0IGluIHRoZSAyeHggZGlkbid0IGNvbnRhaW4gc29tZXRoaW5nIA0KPiB0aGF0IG1hcHMgdG8g
YSBzaW5nbGUgZGV2aWNlPw0KDQpEZXBlbmRzIHVwb24gaW50ZW50Lg0KDQpJIGFzc3VtZSB0aGF0
IHRoZSBwZXJzb24gY29uZmlndXJpbmcgdGhlIENvbnRhY3QgaGFkIHJlYXNvbiB0byBzdXBwbHkg
YSBDb250YWN0IGFibGUgdG8gcmVzb2x2ZSB0byBtb3JlIHRoYW4gMSBsb2NhdGlvbi4gIEkgYXNz
dW1lIHRoZSByZWFzb24gaXMgdGhhdCB0aGUgYWx0ZXJuYXRpdmUgbG9jYXRpb24gY2FuIG9jY2Fz
aW9uYWxseSAob2J2aW91c2x5IG5vdCBhbHdheXMgYmVjYXVzZSBxdWVzdGlvbiBwb3N0ZWQpIGJl
IGFibGUgdG8gaGFuZGxlIHRoZSBpbi1kaWFsb2cgcmVxdWVzdHMuICBJZiB0aGUgYWx0ZXJuYXRp
dmUgbG9jYXRpb24gY2FuIG5ldmVyIGhhbmRsZSB0aGUgaW4tZGlhbG9nIHJlcXVlc3RzLCBJIGFn
cmVlIHRoYXQgaXQgd291bGQgYmUgYW4gaW5hcHByb3ByaWF0ZSBjb25maWd1cmF0aW9uLg0KDQpD
aGVlcnMsDQpCcmV0dA0KDQoNCj4gLS0tLS1PcmlnaW5hbCBNZXNzYWdlLS0tLS0NCj4gRnJvbTog
c2lwLWJvdW5jZXNAaWV0Zi5vcmcgW21haWx0bzpzaXAtYm91bmNlc0BpZXRmLm9yZ10gT24gQmVo
YWxmIE9mIA0KPiBCcmV0dCBUYXRlDQo+IFNlbnQ6IDIwIE1heSAyMDA4IDEzOjQyDQo+IFRvOiDl
rZnmsLjlhYk7IHNpcEBpZXRmLm9yZw0KPiBTdWJqZWN0OiBSZTogW1NpcF0gU0lQIG9uZSBETlMg
ZG9tYWluIG11Y2ggSVANCj4gDQo+IEJlY2F1c2Ugb2YgcG90ZW50aWFsIGxvYWQtYmFsYW5jaW5n
IChhcyB5b3UgYXJlIG9ic2VydmluZyksIHNvbGVseSANCj4gdXNpbmcgQSByZWNvcmRzIHdpdGhp
biBwcmltYXJ5L3NlY29uZGFyeSBjb25maWd1cmF0aW9ucyBzaG91bGQgYmUgDQo+IGF2b2lkZWQg
dW5sZXNzIGFkZGl0aW9uYWwgYWdyZWVtZW50cyBvciBjb25maWd1cmF0aW9uIGhhcyBiZWVuIG1h
ZGUgdG8gDQo+IGF2b2lkIHRoZSBzaXR1YXRpb24geW91IGFyZSBkZXNjcmliaW5nIGNvbmNlcm5p
bmcgaW4gZGlhbG9nIHJlcXVlc3RzLiAgDQo+IFRoZSBhZGRpdGlvbmFsIGFncmVlbWVudHMgb3Zl
cnJpZGUgdHlwaWNhbCByZmMzMjYzIGJlaGF2aW9yIGJ5IA0KPiBhcHBseWluZyBsb2NhbCBwb2xp
Y3kgKHBvdGVudGlhbGx5IG5vbiBjb21wbGlhbnQpIHRvIHJlbWFpbiBzdGF0ZWZ1bCANCj4gd2l0
aGluIGRpYWxvZy4gIFRoZSBwb3RlbnRpYWwgYWRkaXRpb25hbCBjb25maWd1cmF0aW9uICh0byBh
dm9pZCB0aGUgDQo+IG1lbnRpb25lZCBvdmVycmlkZSkgaXMgdG8gaGF2ZSBETlMgY29udHJvbCB0
byBhdm9pZCBhdXRvbWF0aWMgDQo+IGxvYWQtYmFsYW5jaW5nL2l0ZXJhdGluZyBjb25jZXJuaW5n
IEEgcmVjb3JkcyBzbyB0aGF0IHRoZSBBIHJlY29yZCANCj4gcXVlcnkvaGFuZGxpbmcgY2FuIGFs
d2F5cyByZXN1bHQgaW4gdGhlIHNhbWUgb3JkZXJlZCBsaXN0Lg0KPiANCj4gUkZDIDMyNjMgZGlz
Y3Vzc2VzIHVzaW5nIEROUyBTUlYgcmVjb3JkcyB0byBtb3JlIGNsZWFybHkgaW5kaWNhdGUgDQo+
IHByaW9yaXRpemF0aW9uIGFuZCBsb2FkLWJhbGFuY2luZy4gIElmIFNSViByZWNvcmRzIG5vdCBz
dXBwb3J0ZWQsIHRoZSANCj4gQ29udGFjdCBzaG91bGQgcmVmbGVjdCBhIHNpbmdsZSBBUyB1bmxl
c3MgdGhlIGFsdGVybmF0aXZlIGxvY2F0aW9ucyANCj4gY2FuIGFjY29tbW9kYXRlIHRoZSBzaXR1
YXRpb24gKG9yIGFkZGl0aW9uYWwgYWdyZWVtZW50cyBvciANCj4gY29uZmlndXJhdGlvbiBoYXMg
YmVlbiBtYWRlIHRvIGF2b2lkIHRyeWluZyB0aGUgYWx0ZXJuYXRpdmUgbG9jYXRpb25zIA0KPiBm
aXJzdCkuDQo+IA0KCgouCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fClNpcCBtYWlsaW5nIGxpc3QgIGh0dHBzOi8vd3d3LmlldGYub3JnL21haWxtYW4vbGlz
dGluZm8vc2lwClRoaXMgbGlzdCBpcyBmb3IgTkVXIGRldmVsb3BtZW50IG9mIHRoZSBjb3JlIFNJ
UCBQcm90b2NvbApVc2Ugc2lwLWltcGxlbWVudG9yc0Bjcy5jb2x1bWJpYS5lZHUgZm9yIHF1ZXN0
aW9ucyBvbiBjdXJyZW50IHNpcApVc2Ugc2lwcGluZ0BpZXRmLm9yZyBmb3IgbmV3IGRldmVsb3Bt
ZW50cyBvbiB0aGUgYXBwbGljYXRpb24gb2Ygc2lw


From sip-bounces@ietf.org  Tue May 20 20:54:07 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 9734128C6E2;
	Tue, 20 May 2008 20:54:07 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id A880E3A6F5A
	for <sip@core3.amsl.com>; Tue, 20 May 2008 20:54:06 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -3.299
X-Spam-Level: 
X-Spam-Status: No, score=-3.299 tagged_above=-999 required=5
	tests=[BAYES_00=-2.599, MIME_8BIT_HEADER=0.3, RCVD_IN_DNSWL_LOW=-1]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id XpdEjSnLzONt for <sip@core3.amsl.com>;
	Tue, 20 May 2008 20:54:05 -0700 (PDT)
Received: from cluster-f.mailcontrol.com (cluster-f.mailcontrol.com
	[85.119.2.190]) by core3.amsl.com (Postfix) with ESMTP id 87C8A28C834
	for <sip@ietf.org>; Tue, 20 May 2008 07:07:43 -0700 (PDT)
Received: from rly38f.srv.mailcontrol.com (localhost.localdomain [127.0.0.1])
	by rly38f.srv.mailcontrol.com (MailControl) with ESMTP id
	m4KD7Fme007818 for <sip@ietf.org>; Tue, 20 May 2008 14:07:23 +0100
Received: from submission.mailcontrol.com (submission.mailcontrol.com
	[86.111.216.190])
	by rly38f.srv.mailcontrol.com (MailControl) id m4KD6sFU006544
	for sip@ietf.org; Tue, 20 May 2008 14:06:54 +0100
Received: from exsmtp01.nasstar-t1.net (exsmtp01.nasstar-t1.net [89.28.233.12])
	by rly38f-eth0.srv.mailcontrol.com (envelope-sender
	attila.sipos@vegastream.com) (MIMEDefang) with ESMTP id
	m4KD69ww003704; Tue, 20 May 2008 14:06:54 +0100 (BST)
Received: from EXVS02.nasstar-t1.net ([10.2.10.104]) by
	exsmtp01.nasstar-t1.net with Microsoft SMTPSVC(6.0.3790.1830); 
	Tue, 20 May 2008 14:08:11 +0100
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Tue, 20 May 2008 14:06:59 +0100
Message-ID: <680808427CF931459462C3D78CB5EC60021BBD40@EXVS02.nasstar-t1.net>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] SIP one DNS domain much IP
Thread-Index: Aci6akMrC1RQmTNoT5qBXmqLT71NVgAA1VpAAAMgbrA=
From: "Attila Sipos" <attila.sipos@vegastream.com>
To: "Brett Tate" <brett@broadsoft.com>,
	=?utf-8?B?5a2Z5rC45YWJ?= <sammanengineer@gmail.com>, <sip@ietf.org>
X-OriginalArrivalTime: 20 May 2008 13:08:11.0647 (UTC)
	FILETIME=[8E5068F0:01C8BA7A]
X-Scanned-By: MailControl A-08-50-03 (www.mailcontrol.com) on 10.70.1.148
Subject: Re: [Sip] SIP one DNS domain much IP
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Archive: <https://www.ietf.org/mailman/private/sip>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

DQoNCj4+IElmIFNSViByZWNvcmRzIG5vdCBzdXBwb3J0ZWQsIHRoZSBDb250YWN0IHNob3VsZCBy
ZWZsZWN0IGEgc2luZ2xlIEFTDQoNCkRpZCB5b3UgbWVhbiB0aGF0IGlmIFNSViByZWNvcmRzIEFS
RSBzdXBwb3J0ZWQ/DQoNCklzbid0IHRoZSBwcm9ibGVtIHRoYXQgdGhlIENvbnRhY3QgaW4gdGhl
IDJ4eA0KZGlkbid0IGNvbnRhaW4gc29tZXRoaW5nIHRoYXQgbWFwcyB0byBhIHNpbmdsZSBkZXZp
Y2U/DQoNCg0KDQoNCi0tLS0tT3JpZ2luYWwgTWVzc2FnZS0tLS0tDQpGcm9tOiBzaXAtYm91bmNl
c0BpZXRmLm9yZyBbbWFpbHRvOnNpcC1ib3VuY2VzQGlldGYub3JnXSBPbiBCZWhhbGYgT2YgQnJl
dHQgVGF0ZQ0KU2VudDogMjAgTWF5IDIwMDggMTM6NDINClRvOiDlrZnmsLjlhYk7IHNpcEBpZXRm
Lm9yZw0KU3ViamVjdDogUmU6IFtTaXBdIFNJUCBvbmUgRE5TIGRvbWFpbiBtdWNoIElQDQoNCkJl
Y2F1c2Ugb2YgcG90ZW50aWFsIGxvYWQtYmFsYW5jaW5nIChhcyB5b3UgYXJlIG9ic2VydmluZyks
IHNvbGVseSB1c2luZyBBIHJlY29yZHMgd2l0aGluIHByaW1hcnkvc2Vjb25kYXJ5IGNvbmZpZ3Vy
YXRpb25zIHNob3VsZCBiZSBhdm9pZGVkIHVubGVzcyBhZGRpdGlvbmFsIGFncmVlbWVudHMgb3Ig
Y29uZmlndXJhdGlvbiBoYXMgYmVlbiBtYWRlIHRvIGF2b2lkIHRoZSBzaXR1YXRpb24geW91IGFy
ZSBkZXNjcmliaW5nIGNvbmNlcm5pbmcgaW4gZGlhbG9nIHJlcXVlc3RzLiAgVGhlIGFkZGl0aW9u
YWwgYWdyZWVtZW50cyBvdmVycmlkZSB0eXBpY2FsIHJmYzMyNjMgYmVoYXZpb3IgYnkgYXBwbHlp
bmcgbG9jYWwgcG9saWN5IChwb3RlbnRpYWxseSBub24gY29tcGxpYW50KSB0byByZW1haW4gc3Rh
dGVmdWwgd2l0aGluIGRpYWxvZy4gIFRoZSBwb3RlbnRpYWwgYWRkaXRpb25hbCBjb25maWd1cmF0
aW9uICh0byBhdm9pZCB0aGUgbWVudGlvbmVkIG92ZXJyaWRlKSBpcyB0byBoYXZlIEROUyBjb250
cm9sIHRvIGF2b2lkIGF1dG9tYXRpYyBsb2FkLWJhbGFuY2luZy9pdGVyYXRpbmcgY29uY2Vybmlu
ZyBBIHJlY29yZHMgc28gdGhhdCB0aGUgQSByZWNvcmQgcXVlcnkvaGFuZGxpbmcgY2FuIGFsd2F5
cyByZXN1bHQgaW4gdGhlIHNhbWUgb3JkZXJlZCBsaXN0Lg0KDQpSRkMgMzI2MyBkaXNjdXNzZXMg
dXNpbmcgRE5TIFNSViByZWNvcmRzIHRvIG1vcmUgY2xlYXJseSBpbmRpY2F0ZSBwcmlvcml0aXph
dGlvbiBhbmQgbG9hZC1iYWxhbmNpbmcuICBJZiBTUlYgcmVjb3JkcyBub3Qgc3VwcG9ydGVkLCB0
aGUgQ29udGFjdCBzaG91bGQgcmVmbGVjdCBhIHNpbmdsZSBBUyB1bmxlc3MgdGhlIGFsdGVybmF0
aXZlIGxvY2F0aW9ucyBjYW4gYWNjb21tb2RhdGUgdGhlIHNpdHVhdGlvbiAob3IgYWRkaXRpb25h
bCBhZ3JlZW1lbnRzIG9yIGNvbmZpZ3VyYXRpb24gaGFzIGJlZW4gbWFkZSB0byBhdm9pZCB0cnlp
bmcgdGhlIGFsdGVybmF0aXZlIGxvY2F0aW9ucyBmaXJzdCkuDQoNCg0KX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX18NCg0KCUZyb206IHNpcC1ib3VuY2VzQGlldGYub3JnIFttYWlsdG86
c2lwLWJvdW5jZXNAaWV0Zi5vcmddIE9uIEJlaGFsZiBPZiA/Pz8NCglTZW50OiBUdWVzZGF5LCBN
YXkgMjAsIDIwMDggNzoxMSBBTQ0KCVRvOiBzaXBAaWV0Zi5vcmc7IElFVEYgU2lwcGluZyBMaXN0
DQoJU3ViamVjdDogW1NpcF0gU0lQIG9uZSBETlMgZG9tYWluIG11Y2ggSVANCgkNCgkNCg0KCUhp
IEd1eXM6DQoNCgkgICAgIEkgaGF2ZSBhIHF1ZXN0aW9uIGFib3V0IEROUw0KCWl0IGlzIHRoYXQg
b25lIEROUyBkb21haW4gaGFzIG11Y2ggSVAgQWRkcnMgLCBlZzogYXMudGVzdC5uZXQ9PigxOTIu
MTY4LjIuMS8xOTIuMTY4LjIuMikNCglhbmQgImFzLnRlc3QubmV0OiBpcyBCMkIgc2VydmVyDQoJ
MSkgQSBJTlZJVEUgQiAsIEEgcmVzb2x2ZXMgdGhlIEROUyAiYXMudGVzdC5uZXQiIDE5Mi4xNjgu
Mi4xLHRoZW4gQSBzZW5kcyBJTlZJVEUgcmVxdWVzdCB0bw0KCSAgIDE5Mi4xNjguMi4xDQoJMikg
QSByZWNlaXZlcyAyMDAgcmVzcG9uc2Ugd2l0aCBjb250YWN0ICJhcy50ZXN0Lm5ldCIgYW5kIG5v
IHJlY29yZCByb3V0ZQ0KCTMpQSByZXNvbHZlcyB0aGUgRE5TICJhcy50ZXN0Lm5ldCIgYWdhaW4s
IGl0IGdldHMgMTkyLjE2LjIuMiBhbmQgc2VuZHMgQUNLIHRvIDE5Mi4xNjguMi4yDQoNCglub3cg
dGhlIDE5Mi4xNi4yLjEgY2FuJ3QgcmVjaWV2ZSB0aGUgQUNLIHJlcXVlc3QgLCBzbyB0aGUgc2Vz
c2lvbiBjYW4ndCBiZSBjcmVhdGVkDQoNCglBbnlvbmUgY2FuIGdpdmUgbWUgYW55IGFkdmljZSwg
b3Igc29tZSBSRkMvZHJhZnQgYWJvdXQgaXQNCg0KCVRoYW5rcyBpbiBhZHZhbmNlDQoNCglTYW1t
YW4gDQoJMjAwOC01LTIwDQoNCgkNCgkgDQoNCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fDQpTaXAgbWFpbGluZyBsaXN0ICBodHRwczovL3d3dy5pZXRmLm9y
Zy9tYWlsbWFuL2xpc3RpbmZvL3NpcA0KVGhpcyBsaXN0IGlzIGZvciBORVcgZGV2ZWxvcG1lbnQg
b2YgdGhlIGNvcmUgU0lQIFByb3RvY29sIFVzZSBzaXAtaW1wbGVtZW50b3JzQGNzLmNvbHVtYmlh
LmVkdSBmb3IgcXVlc3Rpb25zIG9uIGN1cnJlbnQgc2lwIFVzZSBzaXBwaW5nQGlldGYub3JnIGZv
ciBuZXcgZGV2ZWxvcG1lbnRzIG9uIHRoZSBhcHBsaWNhdGlvbiBvZiBzaXANCgoKLgpfX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpTaXAgbWFpbGluZyBsaXN0
ICBodHRwczovL3d3dy5pZXRmLm9yZy9tYWlsbWFuL2xpc3RpbmZvL3NpcApUaGlzIGxpc3QgaXMg
Zm9yIE5FVyBkZXZlbG9wbWVudCBvZiB0aGUgY29yZSBTSVAgUHJvdG9jb2wKVXNlIHNpcC1pbXBs
ZW1lbnRvcnNAY3MuY29sdW1iaWEuZWR1IGZvciBxdWVzdGlvbnMgb24gY3VycmVudCBzaXAKVXNl
IHNpcHBpbmdAaWV0Zi5vcmcgZm9yIG5ldyBkZXZlbG9wbWVudHMgb24gdGhlIGFwcGxpY2F0aW9u
IG9mIHNpcA==


From sip-bounces@ietf.org  Tue May 20 20:55:26 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id C722428C5B0;
	Tue, 20 May 2008 20:55:25 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id CB22D3A6FFF
	for <sip@core3.amsl.com>; Tue, 20 May 2008 20:55:23 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -1.299
X-Spam-Level: 
X-Spam-Status: No, score=-1.299 tagged_above=-999 required=5 tests=[AWL=1.300, 
	BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id EJaq-UwO8gqx for <sip@core3.amsl.com>;
	Tue, 20 May 2008 20:55:22 -0700 (PDT)
Received: from nylon.softarmor.com (nylon.softarmor.com [66.135.38.164])
	by core3.amsl.com (Postfix) with ESMTP id A148528CA0B
	for <sip@ietf.org>; Tue, 20 May 2008 07:29:31 -0700 (PDT)
Received: from [192.168.2.103] (cpe-76-185-142-113.tx.res.rr.com
	[76.185.142.113]) (authenticated bits=0)
	by nylon.softarmor.com (8.13.8/8.13.8/Debian-3) with ESMTP id
	m4KETMVm010360
	(version=TLSv1/SSLv3 cipher=AES128-SHA bits=128 verify=NOT);
	Tue, 20 May 2008 09:29:26 -0500
Message-Id: <85D54D2D-2947-470A-A069-2EC5C6D19FDB@softarmor.com>
From: Dean Willis <dean.willis@softarmor.com>
To: Vikram Chhibber <vikram.chhibber@gmail.com>
In-Reply-To: <ac8baa2c0805192327p31bd780du8997c11e9e9dbc78@mail.gmail.com>
Mime-Version: 1.0 (Apple Message framework v919.2)
Date: Tue, 20 May 2008 09:29:17 -0500
References: <ac8baa2c0805192327p31bd780du8997c11e9e9dbc78@mail.gmail.com>
X-Mailer: Apple Mail (2.919.2)
Cc: sip@ietf.org
Subject: Re: [Sip] Unsolicited NOTIFY needs format acceptance
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Archive: <https://www.ietf.org/mailman/private/sip>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


On May 20, 2008, at 1:27 AM, Vikram Chhibber wrote:

> Hi All,
>
> I would like to emphasize the need for adapting unsolicited NOTIFY as
> a standard. We all are aware of so many commercial applications using
> this mechanism. Also, for typical features of presence and
> call-processing, user-agents make subscriptions for sip-profile, reg
> event, presence/RLS, watcher-info, message waiting indication,
> xcap-diff events etc.
>
> ...
> I would like to ask whether there is an effort to address these  
> issues.

I believe that standardization of unsolicited NOTIFY for the use cases  
you seem to be considering would have to occur "over the dead bodies"   
of a large proportion of this working group. They seem to feel very  
strongly about it. The one case where we used NOTIFY without SUBSCRIBE  
was REFER, and we ended up having to go back and work around that  
(norefersub).

There have been suggestions to develop a "compound subscription" that  
might allow a UA to solicit multiple sets of events using a single  
SUBSCRIBE. I believe this has some potential. The specification  
process would probably not be straightforward, however, due to the  
syntax involved.

It might also be possible to get the side effect of REGISTER from a  
SUBSCRIBE, thereby allowing a single compound SUBSCRIBE transaction to  
replace a REGISTER transaction and multiple SUBSCRIBE transactions.  
This would also be a non-trivial standardization effort, as it would  
require absorbing all of the functionality of draft-ietf-sip-outbound  
into the SUBSCRIBE transaction.

--
Dean
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Tue May 20 20:57:06 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 345863A7128;
	Tue, 20 May 2008 20:57:06 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id F3A873A71E5
	for <sip@core3.amsl.com>; Tue, 20 May 2008 20:57:03 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: 0.151
X-Spam-Level: 
X-Spam-Status: No, score=0.151 tagged_above=-999 required=5
	tests=[BAYES_00=-2.599, MIME_8BIT_HEADER=0.3,
	MIME_CHARSET_FARAWAY=2.45]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id oUfvgCbda2mQ for <sip@core3.amsl.com>;
	Tue, 20 May 2008 20:57:03 -0700 (PDT)
Received: from mail.alcatel-sbell.com.cn (cnrelay03.alcatel-sbell.com.cn
	[211.144.215.19])
	by core3.amsl.com (Postfix) with ESMTP id 77B58293AAD
	for <sip@ietf.org>; Tue, 20 May 2008 18:49:43 -0700 (PDT)
Received: from cnshgsbhs01.ad4.ad.alcatel.com (localhost [127.0.0.1])
	by mail.alcatel-sbell.com.cn (8.13.8/8.13.8/Alcanet1.0) with ESMTP id
	m4L1mYJI021268; Wed, 21 May 2008 09:48:34 +0800
Received: from CNSHGSMBS05.ad4.ad.alcatel.com ([172.24.146.176]) by 
	cnshgsbhs01.ad4.ad.alcatel.com with Microsoft SMTPSVC(6.0.3790.2499);
	Wed, 21 May 2008 09:49:34 +0800
Content-class: urn:content-classes:message
MIME-Version: 1.0
X-MimeOLE: Produced By Microsoft Exchange V6.5
Date: Wed, 21 May 2008 09:49:34 +0800
Message-ID: <1BE4F568A2FBC04ABDCF612202EAF5D21F602E@CNSHGSMBS05.ad4.ad.alcatel.com>
In-Reply-To: <BBE61D1553D8A34F812FF87377B2935F037CDAB3@ATL1VEXC020.usdom003.
	tco.tc>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] SIP one DNS domain much IP
Thread-Index: Aci6akMrC1RQmTNoT5qBXmqLT71NVgAA1VpAAB24DbA=
From: "DING Derrick" <dingzheng@alcatel-lucent.com>
To: "Brett Tate" <brett@broadsoft.com>,
	=?gb2312?B?y+/TwLni?= <sammanengineer@gmail.com>, <sip@ietf.org>
X-OriginalArrivalTime: 21 May 2008 01:49:34.0768 (UTC) 
	FILETIME=[EB937B00:01C8BAE4]
X-imss-version: 2.050
X-imss-result: Passed
X-imss-scores: Clean:99.90000 C:2 M:3 S:5 R:5
X-imss-settings: Baseline:2 C:1 M:1 S:1 R:1 (0.1500 0.1500)
Subject: Re: [Sip] SIP one DNS domain much IP
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Archive: <https://www.ietf.org/mailman/private/sip>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="gb2312"
Content-Transfer-Encoding: base64
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

QXMgbXkgdW5kZXJzdGFuZGluZywgQSBzaG91bGQgbm90IGRvIEROUyBxdWVyeSB3aXRob3V0IGFu
eSBleGNlcHRpb24sIHN1Y2ggYXMgNDA4IHRpbWVvdXQuCgpTbyB5b3Ugc2hvdWxkIGRlZmluZSB0
aGUgY29uZGl0aW9uIGZvciBETlMgcXVlcnkgaW4gb3JkZXIgdG8gYXZvaWQgdGhlIGNhc2UgeW91
IGRlc2NyaWJlLgoKRGVycmljawoKLS0tLS1PcmlnaW5hbCBNZXNzYWdlLS0tLS0KRnJvbTogc2lw
LWJvdW5jZXNAaWV0Zi5vcmcgW21haWx0bzpzaXAtYm91bmNlc0BpZXRmLm9yZ10gT24gQmVoYWxm
IE9mIEJyZXR0IFRhdGUKU2VudDogMjAwOMTqNdTCMjDI1SAyMDo0MgpUbzogy+/TwLniOyBzaXBA
aWV0Zi5vcmcKU3ViamVjdDogUmU6IFtTaXBdIFNJUCBvbmUgRE5TIGRvbWFpbiBtdWNoIElQCgpC
ZWNhdXNlIG9mIHBvdGVudGlhbCBsb2FkLWJhbGFuY2luZyAoYXMgeW91IGFyZSBvYnNlcnZpbmcp
LCBzb2xlbHkgdXNpbmcgQSByZWNvcmRzIHdpdGhpbiBwcmltYXJ5L3NlY29uZGFyeSBjb25maWd1
cmF0aW9ucyBzaG91bGQgYmUgYXZvaWRlZCB1bmxlc3MgYWRkaXRpb25hbCBhZ3JlZW1lbnRzIG9y
IGNvbmZpZ3VyYXRpb24gaGFzIGJlZW4gbWFkZSB0byBhdm9pZCB0aGUgc2l0dWF0aW9uIHlvdSBh
cmUgZGVzY3JpYmluZyBjb25jZXJuaW5nIGluIGRpYWxvZyByZXF1ZXN0cy4gIFRoZSBhZGRpdGlv
bmFsIGFncmVlbWVudHMgb3ZlcnJpZGUgdHlwaWNhbCByZmMzMjYzIGJlaGF2aW9yIGJ5IGFwcGx5
aW5nIGxvY2FsIHBvbGljeSAocG90ZW50aWFsbHkgbm9uIGNvbXBsaWFudCkgdG8gcmVtYWluIHN0
YXRlZnVsIHdpdGhpbiBkaWFsb2cuICBUaGUgcG90ZW50aWFsIGFkZGl0aW9uYWwgY29uZmlndXJh
dGlvbiAodG8gYXZvaWQgdGhlIG1lbnRpb25lZCBvdmVycmlkZSkgaXMgdG8gaGF2ZSBETlMgY29u
dHJvbCB0byBhdm9pZCBhdXRvbWF0aWMgbG9hZC1iYWxhbmNpbmcvaXRlcmF0aW5nIGNvbmNlcm5p
bmcgQSByZWNvcmRzIHNvIHRoYXQgdGhlIEEgcmVjb3JkIHF1ZXJ5L2hhbmRsaW5nIGNhbiBhbHdh
eXMgcmVzdWx0IGluIHRoZSBzYW1lIG9yZGVyZWQgbGlzdC4KClJGQyAzMjYzIGRpc2N1c3NlcyB1
c2luZyBETlMgU1JWIHJlY29yZHMgdG8gbW9yZSBjbGVhcmx5IGluZGljYXRlIHByaW9yaXRpemF0
aW9uIGFuZCBsb2FkLWJhbGFuY2luZy4gIElmIFNSViByZWNvcmRzIG5vdCBzdXBwb3J0ZWQsIHRo
ZSBDb250YWN0IHNob3VsZCByZWZsZWN0IGEgc2luZ2xlIEFTIHVubGVzcyB0aGUgYWx0ZXJuYXRp
dmUgbG9jYXRpb25zIGNhbiBhY2NvbW1vZGF0ZSB0aGUgc2l0dWF0aW9uIChvciBhZGRpdGlvbmFs
IGFncmVlbWVudHMgb3IgY29uZmlndXJhdGlvbiBoYXMgYmVlbiBtYWRlIHRvIGF2b2lkIHRyeWlu
ZyB0aGUgYWx0ZXJuYXRpdmUgbG9jYXRpb25zIGZpcnN0KS4KCgpfX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fXwoKCUZyb206IHNpcC1ib3VuY2VzQGlldGYub3JnIFttYWlsdG86c2lwLWJv
dW5jZXNAaWV0Zi5vcmddIE9uIEJlaGFsZiBPZiA/Pz8KCVNlbnQ6IFR1ZXNkYXksIE1heSAyMCwg
MjAwOCA3OjExIEFNCglUbzogc2lwQGlldGYub3JnOyBJRVRGIFNpcHBpbmcgTGlzdAoJU3ViamVj
dDogW1NpcF0gU0lQIG9uZSBETlMgZG9tYWluIG11Y2ggSVAKCQoJCgoJSGkgR3V5czoKCgkgICAg
IEkgaGF2ZSBhIHF1ZXN0aW9uIGFib3V0IEROUwoJaXQgaXMgdGhhdCBvbmUgRE5TIGRvbWFpbiBo
YXMgbXVjaCBJUCBBZGRycyAsIGVnOiBhcy50ZXN0Lm5ldD0+KDE5Mi4xNjguMi4xLzE5Mi4xNjgu
Mi4yKQoJYW5kICJhcy50ZXN0Lm5ldDogaXMgQjJCIHNlcnZlcgoJMSkgQSBJTlZJVEUgQiAsIEEg
cmVzb2x2ZXMgdGhlIEROUyAiYXMudGVzdC5uZXQiIDE5Mi4xNjguMi4xLHRoZW4gQSBzZW5kcyBJ
TlZJVEUgcmVxdWVzdCB0bwoJICAgMTkyLjE2OC4yLjEKCTIpIEEgcmVjZWl2ZXMgMjAwIHJlc3Bv
bnNlIHdpdGggY29udGFjdCAiYXMudGVzdC5uZXQiIGFuZCBubyByZWNvcmQgcm91dGUKCTMpQSBy
ZXNvbHZlcyB0aGUgRE5TICJhcy50ZXN0Lm5ldCIgYWdhaW4sIGl0IGdldHMgMTkyLjE2LjIuMiBh
bmQgc2VuZHMgQUNLIHRvIDE5Mi4xNjguMi4yCgoJbm93IHRoZSAxOTIuMTYuMi4xIGNhbid0IHJl
Y2lldmUgdGhlIEFDSyByZXF1ZXN0ICwgc28gdGhlIHNlc3Npb24gY2FuJ3QgYmUgY3JlYXRlZAoK
CUFueW9uZSBjYW4gZ2l2ZSBtZSBhbnkgYWR2aWNlLCBvciBzb21lIFJGQy9kcmFmdCBhYm91dCBp
dAoKCVRoYW5rcyBpbiBhZHZhbmNlCgoJU2FtbWFuIAoJMjAwOC01LTIwCgoJCgkgCgpfX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpTaXAgbWFpbGluZyBsaXN0
ICBodHRwczovL3d3dy5pZXRmLm9yZy9tYWlsbWFuL2xpc3RpbmZvL3NpcApUaGlzIGxpc3QgaXMg
Zm9yIE5FVyBkZXZlbG9wbWVudCBvZiB0aGUgY29yZSBTSVAgUHJvdG9jb2wKVXNlIHNpcC1pbXBs
ZW1lbnRvcnNAY3MuY29sdW1iaWEuZWR1IGZvciBxdWVzdGlvbnMgb24gY3VycmVudCBzaXAKVXNl
IHNpcHBpbmdAaWV0Zi5vcmcgZm9yIG5ldyBkZXZlbG9wbWVudHMgb24gdGhlIGFwcGxpY2F0aW9u
IG9mIHNpcApfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpT
aXAgbWFpbGluZyBsaXN0ICBodHRwczovL3d3dy5pZXRmLm9yZy9tYWlsbWFuL2xpc3RpbmZvL3Np
cApUaGlzIGxpc3QgaXMgZm9yIE5FVyBkZXZlbG9wbWVudCBvZiB0aGUgY29yZSBTSVAgUHJvdG9j
b2wKVXNlIHNpcC1pbXBsZW1lbnRvcnNAY3MuY29sdW1iaWEuZWR1IGZvciBxdWVzdGlvbnMgb24g
Y3VycmVudCBzaXAKVXNlIHNpcHBpbmdAaWV0Zi5vcmcgZm9yIG5ldyBkZXZlbG9wbWVudHMgb24g
dGhlIGFwcGxpY2F0aW9uIG9mIHNpcA==


From sip-bounces@ietf.org  Tue May 20 20:57:52 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 269DB3A730B;
	Tue, 20 May 2008 20:57:52 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id F14DE3A730E
	for <sip@core3.amsl.com>; Tue, 20 May 2008 20:57:49 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.599
X-Spam-Level: 
X-Spam-Status: No, score=-2.599 tagged_above=-999 required=5
	tests=[BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id vw70nq-80GH9 for <sip@core3.amsl.com>;
	Tue, 20 May 2008 20:57:49 -0700 (PDT)
Received: from QMTA06.emeryville.ca.mail.comcast.net
	(qmta06.emeryville.ca.mail.comcast.net [76.96.30.56])
	by core3.amsl.com (Postfix) with ESMTP id 70DF028DF57
	for <sip@ietf.org>; Tue, 20 May 2008 12:36:58 -0700 (PDT)
Received: from OMTA09.emeryville.ca.mail.comcast.net ([76.96.30.20])
	by QMTA06.emeryville.ca.mail.comcast.net with comcast
	id TvQ21Z0080S2fkCA603100; Tue, 20 May 2008 19:36:58 +0000
Received: from dragon.ariadne.com ([76.19.174.1])
	by OMTA09.emeryville.ca.mail.comcast.net with comcast
	id Tvcn1Z00G02AVH08V00000; Tue, 20 May 2008 19:36:50 +0000
X-Authority-Analysis: v=1.0 c=1 a=0ntXwKxdGDQA:10 a=nlEUh8-JIRNCcRLBjOkA:9
	a=rQ7pAZkzx7QWi4m3-NcdrOD_nG4A:4 a=MSl-tDqOz04A:10 a=8y7tGHue6YMA:10
Received: from dragon.ariadne.com (dragon.ariadne.com [127.0.0.1])
	by dragon.ariadne.com (8.12.8/8.12.8) with ESMTP id m4KJalEA008949
	for <sip@ietf.org>; Tue, 20 May 2008 15:36:47 -0400
Received: (from worley@localhost)
	by dragon.ariadne.com (8.12.8/8.12.8/Submit) id m4KJaiKN008945;
	Tue, 20 May 2008 15:36:44 -0400
Date: Tue, 20 May 2008 15:36:44 -0400
Message-Id: <200805201936.m4KJaiKN008945@dragon.ariadne.com>
To: sip@ietf.org
From: Dale.Worley@comcast.net
In-reply-to: <2374a5fb0805200410o66a6674avfbf3fd0c3a71c702@mail.gmail.com>
	(sammanengineer@gmail.com)
References: <2374a5fb0805200410o66a6674avfbf3fd0c3a71c702@mail.gmail.com>
Subject: Re: [Sip] SIP one DNS domain much IP
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Archive: <https://www.ietf.org/mailman/private/sip>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
MIME-Version: 1.0
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

   From: "=?GB2312?B?y+/TwLni?=" <sammanengineer@gmail.com>

	I have a question about DNS
   it is that one DNS domain has much IP Addrs , eg: as.test.net=>(
   192.168.2.1/192.168.2.2)
   and "as.test.net: is B2B server
   1) A INVITE B , A resolves the DNS "as.test.net" 192.168.2.1,then A sends
   INVITE request to
      192.168.2.1
   2) A receives 200 response with contact "as.test.net" and no record route
   3)A resolves the DNS "as.test.net" again, it gets 192.16.2.2 and sends ACK
   to 192.168.2.2

   now the 192.16.2.1 can't recieve the ACK request , so the session can't be
   created

   Anyone can give me any advice, or some RFC/draft about it

"A" has behaved correctly.  When "B" provides "as.test.net" as its
contact, it is stating that it is OK for "A" to send further requests
to any IP address for "as.test.net".  If further requests must be sent
to 192.168.2.1, then "B" must use "192.168.2.1" as its contact
address.

Dale
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Tue May 20 20:59:27 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 7BD183A74F3;
	Tue, 20 May 2008 20:59:27 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 63DCE3A74D3
	for <sip@core3.amsl.com>; Tue, 20 May 2008 20:59:25 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.599
X-Spam-Level: 
X-Spam-Status: No, score=-2.599 tagged_above=-999 required=5
	tests=[BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id M4c9FoDkaJkl for <sip@core3.amsl.com>;
	Tue, 20 May 2008 20:59:23 -0700 (PDT)
Received: from QMTA03.westchester.pa.mail.comcast.net
	(qmta03.westchester.pa.mail.comcast.net [76.96.62.32])
	by core3.amsl.com (Postfix) with ESMTP id D9C6428E247
	for <sip@ietf.org>; Tue, 20 May 2008 13:11:15 -0700 (PDT)
Received: from OMTA13.westchester.pa.mail.comcast.net ([76.96.62.52])
	by QMTA03.westchester.pa.mail.comcast.net with comcast
	id Tw5L1Z00F17dt5G5300J00; Tue, 20 May 2008 20:10:48 +0000
Received: from dragon.ariadne.com ([76.19.174.1])
	by OMTA13.westchester.pa.mail.comcast.net with comcast
	id TwBE1Z00902AVH03Z00000; Tue, 20 May 2008 20:11:15 +0000
X-Authority-Analysis: v=1.0 c=1 a=w-me8_V9w2UA:10 a=abyd7boo2pUA:10
	a=T79xzuVrz4w0Y5nlRF4A:9 a=ezeaUHE952UCcf5Js9gA:7
	a=X2MJ8WBwuexigdlviiLArypPpN4A:4 a=MSl-tDqOz04A:10 a=8y7tGHue6YMA:10
Received: from dragon.ariadne.com (dragon.ariadne.com [127.0.0.1])
	by dragon.ariadne.com (8.12.8/8.12.8) with ESMTP id m4KKBEEA011527
	for <sip@ietf.org>; Tue, 20 May 2008 16:11:14 -0400
Received: (from worley@localhost)
	by dragon.ariadne.com (8.12.8/8.12.8/Submit) id m4KKBEtP011523;
	Tue, 20 May 2008 16:11:14 -0400
Date: Tue, 20 May 2008 16:11:14 -0400
Message-Id: <200805202011.m4KKBEtP011523@dragon.ariadne.com>
To: sip@ietf.org
From: Dale.Worley@comcast.net
In-reply-to: <ac8baa2c0805192327p31bd780du8997c11e9e9dbc78@mail.gmail.com>
	(vikram.chhibber@gmail.com)
References: <ac8baa2c0805192327p31bd780du8997c11e9e9dbc78@mail.gmail.com>
Subject: Re: [Sip] Unsolicited NOTIFY needs format acceptance
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Archive: <https://www.ietf.org/mailman/private/sip>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
MIME-Version: 1.0
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

   From: "Vikram Chhibber" <vikram.chhibber@gmail.com>

   I would like to emphasize the need for adapting unsolicited NOTIFY as
   a standard.

There is a rather strong consensus that unsolicited NOTIFYs are a bad
idea.  If you would like to make the case that unsolicited NOTIFY
should be used as a technique, please do so.  But I doubt that the
working group will address issues regarding unsolicited NOTIFY as long
as it considers them to be intrinsically harmful.

Dale
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Tue May 20 20:59:43 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 03E5B3A7531;
	Tue, 20 May 2008 20:59:43 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id E8CEF3A74FD
	for <sip@core3.amsl.com>; Tue, 20 May 2008 20:59:36 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -0.864
X-Spam-Level: 
X-Spam-Status: No, score=-0.864 tagged_above=-999 required=5
	tests=[AWL=-1.015, BAYES_00=-2.599, MIME_8BIT_HEADER=0.3,
	MIME_CHARSET_FARAWAY=2.45]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id J-IATunLzQbe for <sip@core3.amsl.com>;
	Tue, 20 May 2008 20:59:35 -0700 (PDT)
Received: from out003.iad.hostedmail.net (out003.iad.hostedmail.net
	[209.225.56.66])
	by core3.amsl.com (Postfix) with ESMTP id DCB9728C37D
	for <sip@ietf.org>; Tue, 20 May 2008 06:34:08 -0700 (PDT)
Received: from ATL1VEXC020.usdom003.tco.tc ([10.158.7.31]) by
	out003.iad.hostedmail.net with Microsoft SMTPSVC(6.0.3790.3959);
	Tue, 20 May 2008 09:34:08 -0400
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Tue, 20 May 2008 09:34:07 -0400
Message-ID: <BBE61D1553D8A34F812FF87377B2935F037CDB4A@ATL1VEXC020.usdom003.tco.tc>
In-Reply-To: <680808427CF931459462C3D78CB5EC60021BBD40@EXVS02.nasstar-t1.net>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] SIP one DNS domain much IP
Thread-Index: Aci6akMrC1RQmTNoT5qBXmqLT71NVgAA1VpAAAMgbrAAAByuEA==
From: "Brett Tate" <brett@broadsoft.com>
To: "Attila Sipos" <attila.sipos@vegastream.com>,
	=?gb2312?B?y+/TwLni?= <sammanengineer@gmail.com>, <sip@ietf.org>
X-OriginalArrivalTime: 20 May 2008 13:34:08.0878 (UTC)
	FILETIME=[2E7F00E0:01C8BA7E]
Subject: Re: [Sip] SIP one DNS domain much IP
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Archive: <https://www.ietf.org/mailman/private/sip>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="gb2312"
Content-Transfer-Encoding: base64
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

PiA+IElmIFNSViByZWNvcmRzIG5vdCBzdXBwb3J0ZWQsIHRoZSBDb250YWN0IHNob3VsZCAKPiA+
IHJlZmxlY3QgYSBzaW5nbGUgQVMKPiAKPiBEaWQgeW91IG1lYW4gdGhhdCBpZiBTUlYgcmVjb3Jk
cyBBUkUgc3VwcG9ydGVkPwoKSGkgQXR0aWxhLAoKTm9wZS4gIElmIFNSViBzdXBwb3J0ZWQgYW5k
IGJlaW5nIHVzZWQsIHRoZSBTUlYgcmVjb3JkcyBhbGxvdyB0aGUgZGVzaXJlZCBvcmRlciB0byBi
ZSBjbGVhcmx5IGluZGljYXRlZC4KCgo+IElzbid0IHRoZSBwcm9ibGVtIHRoYXQgdGhlIENvbnRh
Y3QgaW4gdGhlIDJ4eCBkaWRuJ3QgCj4gY29udGFpbiBzb21ldGhpbmcgdGhhdCBtYXBzIHRvIGEg
c2luZ2xlIGRldmljZT8KCkRlcGVuZHMgdXBvbiBpbnRlbnQuCgpJIGFzc3VtZSB0aGF0IHRoZSBw
ZXJzb24gY29uZmlndXJpbmcgdGhlIENvbnRhY3QgaGFkIHJlYXNvbiB0byBzdXBwbHkgYSBDb250
YWN0IGFibGUgdG8gcmVzb2x2ZSB0byBtb3JlIHRoYW4gMSBsb2NhdGlvbi4gIEkgYXNzdW1lIHRo
ZSByZWFzb24gaXMgdGhhdCB0aGUgYWx0ZXJuYXRpdmUgbG9jYXRpb24gY2FuIG9jY2FzaW9uYWxs
eSAob2J2aW91c2x5IG5vdCBhbHdheXMgYmVjYXVzZSBxdWVzdGlvbiBwb3N0ZWQpIGJlIGFibGUg
dG8gaGFuZGxlIHRoZSBpbi1kaWFsb2cgcmVxdWVzdHMuICBJZiB0aGUgYWx0ZXJuYXRpdmUgbG9j
YXRpb24gY2FuIG5ldmVyIGhhbmRsZSB0aGUgaW4tZGlhbG9nIHJlcXVlc3RzLCBJIGFncmVlIHRo
YXQgaXQgd291bGQgYmUgYW4gaW5hcHByb3ByaWF0ZSBjb25maWd1cmF0aW9uLgoKQ2hlZXJzLApC
cmV0dAoKCj4gLS0tLS1PcmlnaW5hbCBNZXNzYWdlLS0tLS0KPiBGcm9tOiBzaXAtYm91bmNlc0Bp
ZXRmLm9yZyBbbWFpbHRvOnNpcC1ib3VuY2VzQGlldGYub3JnXSBPbiAKPiBCZWhhbGYgT2YgQnJl
dHQgVGF0ZQo+IFNlbnQ6IDIwIE1heSAyMDA4IDEzOjQyCj4gVG86IMvv08C54jsgc2lwQGlldGYu
b3JnCj4gU3ViamVjdDogUmU6IFtTaXBdIFNJUCBvbmUgRE5TIGRvbWFpbiBtdWNoIElQCj4gCj4g
QmVjYXVzZSBvZiBwb3RlbnRpYWwgbG9hZC1iYWxhbmNpbmcgKGFzIHlvdSBhcmUgb2JzZXJ2aW5n
KSwgCj4gc29sZWx5IHVzaW5nIEEgcmVjb3JkcyB3aXRoaW4gcHJpbWFyeS9zZWNvbmRhcnkgCj4g
Y29uZmlndXJhdGlvbnMgc2hvdWxkIGJlIGF2b2lkZWQgdW5sZXNzIGFkZGl0aW9uYWwgYWdyZWVt
ZW50cyAKPiBvciBjb25maWd1cmF0aW9uIGhhcyBiZWVuIG1hZGUgdG8gYXZvaWQgdGhlIHNpdHVh
dGlvbiB5b3UgYXJlIAo+IGRlc2NyaWJpbmcgY29uY2VybmluZyBpbiBkaWFsb2cgcmVxdWVzdHMu
ICBUaGUgYWRkaXRpb25hbCAKPiBhZ3JlZW1lbnRzIG92ZXJyaWRlIHR5cGljYWwgcmZjMzI2MyBi
ZWhhdmlvciBieSBhcHBseWluZyAKPiBsb2NhbCBwb2xpY3kgKHBvdGVudGlhbGx5IG5vbiBjb21w
bGlhbnQpIHRvIHJlbWFpbiBzdGF0ZWZ1bCAKPiB3aXRoaW4gZGlhbG9nLiAgVGhlIHBvdGVudGlh
bCBhZGRpdGlvbmFsIGNvbmZpZ3VyYXRpb24gKHRvIAo+IGF2b2lkIHRoZSBtZW50aW9uZWQgb3Zl
cnJpZGUpIGlzIHRvIGhhdmUgRE5TIGNvbnRyb2wgdG8gYXZvaWQgCj4gYXV0b21hdGljIGxvYWQt
YmFsYW5jaW5nL2l0ZXJhdGluZyBjb25jZXJuaW5nIEEgcmVjb3JkcyBzbyAKPiB0aGF0IHRoZSBB
IHJlY29yZCBxdWVyeS9oYW5kbGluZyBjYW4gYWx3YXlzIHJlc3VsdCBpbiB0aGUgCj4gc2FtZSBv
cmRlcmVkIGxpc3QuCj4gCj4gUkZDIDMyNjMgZGlzY3Vzc2VzIHVzaW5nIEROUyBTUlYgcmVjb3Jk
cyB0byBtb3JlIGNsZWFybHkgCj4gaW5kaWNhdGUgcHJpb3JpdGl6YXRpb24gYW5kIGxvYWQtYmFs
YW5jaW5nLiAgSWYgU1JWIHJlY29yZHMgCj4gbm90IHN1cHBvcnRlZCwgdGhlIENvbnRhY3Qgc2hv
dWxkIHJlZmxlY3QgYSBzaW5nbGUgQVMgdW5sZXNzIAo+IHRoZSBhbHRlcm5hdGl2ZSBsb2NhdGlv
bnMgY2FuIGFjY29tbW9kYXRlIHRoZSBzaXR1YXRpb24gKG9yIAo+IGFkZGl0aW9uYWwgYWdyZWVt
ZW50cyBvciBjb25maWd1cmF0aW9uIGhhcyBiZWVuIG1hZGUgdG8gYXZvaWQgCj4gdHJ5aW5nIHRo
ZSBhbHRlcm5hdGl2ZSBsb2NhdGlvbnMgZmlyc3QpLgo+IApfX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fXwpTaXAgbWFpbGluZyBsaXN0ICBodHRwczovL3d3dy5p
ZXRmLm9yZy9tYWlsbWFuL2xpc3RpbmZvL3NpcApUaGlzIGxpc3QgaXMgZm9yIE5FVyBkZXZlbG9w
bWVudCBvZiB0aGUgY29yZSBTSVAgUHJvdG9jb2wKVXNlIHNpcC1pbXBsZW1lbnRvcnNAY3MuY29s
dW1iaWEuZWR1IGZvciBxdWVzdGlvbnMgb24gY3VycmVudCBzaXAKVXNlIHNpcHBpbmdAaWV0Zi5v
cmcgZm9yIG5ldyBkZXZlbG9wbWVudHMgb24gdGhlIGFwcGxpY2F0aW9uIG9mIHNpcA==


From sip-bounces@ietf.org  Tue May 20 20:59:57 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 3CA6B3A6F34;
	Tue, 20 May 2008 20:59:57 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id F35A03A759D
	for <sip@core3.amsl.com>; Tue, 20 May 2008 20:59:53 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -5.648
X-Spam-Level: 
X-Spam-Status: No, score=-5.648 tagged_above=-999 required=5 tests=[AWL=0.600, 
	BAYES_00=-2.599, HELO_EQ_SE=0.35, HTML_MESSAGE=0.001,
	RCVD_IN_DNSWL_MED=-4]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id n3pKI1ph9hQz for <sip@core3.amsl.com>;
	Tue, 20 May 2008 20:59:52 -0700 (PDT)
Received: from mailgw4.ericsson.se (mailgw4.ericsson.se [193.180.251.62])
	by core3.amsl.com (Postfix) with ESMTP id D55AE28C3B3
	for <sip@ietf.org>; Tue, 20 May 2008 06:36:14 -0700 (PDT)
Received: from mailgw4.ericsson.se (unknown [127.0.0.1])
	by mailgw4.ericsson.se (Symantec Mail Security) with ESMTP id
	3FA4D214DC for <sip@ietf.org>; Tue, 20 May 2008 15:06:23 +0200 (CEST)
X-AuditID: c1b4fb3e-ab993bb000004ec0-3d-4832cccf62c8
Received: from esealmw128.eemea.ericsson.se (unknown [153.88.254.121])
	by mailgw4.ericsson.se (Symantec Mail Security) with ESMTP id
	0AF4021129 for <sip@ietf.org>; Tue, 20 May 2008 15:06:23 +0200 (CEST)
Received: from esealmw113.eemea.ericsson.se ([153.88.200.4]) by
	esealmw128.eemea.ericsson.se with Microsoft SMTPSVC(6.0.3790.1830); 
	Tue, 20 May 2008 15:06:22 +0200
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Tue, 20 May 2008 15:06:21 +0200
Message-ID: <CA9998CD4A020D418654FCDEF4E707DF06435093@esealmw113.eemea.ericsson.se>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Draft submission: draft-ietf-sip-199-00
thread-index: Aci6ekzq1rbUQCi7QROj2PhQ9KG+VA==
From: "Christer Holmberg" <christer.holmberg@ericsson.com>
To: <sip@ietf.org>
X-OriginalArrivalTime: 20 May 2008 13:06:22.0807 (UTC)
	FILETIME=[4D70BE70:01C8BA7A]
X-Brightmail-Tracker: AAAAAA==
Subject: [Sip] Draft submission: draft-ietf-sip-199-00
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Archive: <https://www.ietf.org/mailman/private/sip>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: multipart/mixed; boundary="===============0757085297=="
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

This is a multi-part message in MIME format.

--===============0757085297==
Content-class: urn:content-classes:message
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C8BA7A.4D355076"

This is a multi-part message in MIME format.

------_=_NextPart_001_01C8BA7A.4D355076
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable


Hi,

I've submitted the first version of the SIP WG 199 draft.

It can also be found at:

http://users.piuha.net/cholmber/drafts/draft-ietf-sip-199-00.txt

Regards,

Christer

------_=_NextPart_001_01C8BA7A.4D355076
Content-Type: text/html;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV=3D"Content-Type" CONTENT=3D"text/html; =
charset=3Dus-ascii">
<META NAME=3D"Generator" CONTENT=3D"MS Exchange Server version =
6.5.7652.24">
<TITLE>Draft submission: draft-ietf-sip-199-00</TITLE>
</HEAD>
<BODY>
<!-- Converted from text/rtf format -->
<BR>

<P><FONT SIZE=3D2 FACE=3D"Arial">Hi,</FONT>
</P>

<P><FONT SIZE=3D2 FACE=3D"Arial">I've submitted the first version of the =
SIP WG 199 draft.</FONT>
</P>

<P><FONT SIZE=3D2 FACE=3D"Arial">It can also be found at:</FONT>
</P>

<P><A =
HREF=3D"http://users.piuha.net/cholmber/drafts/draft-ietf-sip-199-00.txt"=
><U><FONT COLOR=3D"#0000FF" SIZE=3D2 =
FACE=3D"Arial">http://users.piuha.net/cholmber/drafts/draft-ietf-sip-199-=
00.txt</FONT></U></A>
</P>

<P><FONT SIZE=3D2 FACE=3D"Arial">Regards,</FONT>
</P>

<P><FONT SIZE=3D2 FACE=3D"Arial">Christer</FONT>
</P>

</BODY>
</HTML>
------_=_NextPart_001_01C8BA7A.4D355076--

--===============0757085297==
Content-Type: text/plain; charset="us-ascii"
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip
--===============0757085297==--


From sip-bounces@ietf.org  Tue May 20 21:02:06 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 2B75828C69D;
	Tue, 20 May 2008 21:02:06 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id DD00928C67F
	for <sip@core3.amsl.com>; Tue, 20 May 2008 21:02:03 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -3.299
X-Spam-Level: 
X-Spam-Status: No, score=-3.299 tagged_above=-999 required=5
	tests=[BAYES_00=-2.599, MIME_8BIT_HEADER=0.3, RCVD_IN_DNSWL_LOW=-1]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id lHq4AsVWZ-Df for <sip@core3.amsl.com>;
	Tue, 20 May 2008 21:02:02 -0700 (PDT)
Received: from cluster-f.mailcontrol.com (cluster-f.mailcontrol.com
	[85.119.2.190]) by core3.amsl.com (Postfix) with ESMTP id DEC3F28CA83
	for <sip@ietf.org>; Tue, 20 May 2008 07:33:23 -0700 (PDT)
Received: from rly08f.srv.mailcontrol.com (localhost.localdomain [127.0.0.1])
	by rly08f.srv.mailcontrol.com (MailControl) with ESMTP id
	m4KEXBwU022413 for <sip@ietf.org>; Tue, 20 May 2008 15:33:16 +0100
Received: from submission.mailcontrol.com (submission.mailcontrol.com
	[86.111.216.190])
	by rly08f.srv.mailcontrol.com (MailControl) id m4KEWxCX021922
	for sip@ietf.org; Tue, 20 May 2008 15:32:59 +0100
Received: from exsmtp01.nasstar-t1.net (exsmtp01.nasstar-t1.net [89.28.233.12])
	by rly08f-eth0.srv.mailcontrol.com (envelope-sender
	attila.sipos@vegastream.com) (MIMEDefang) with ESMTP id
	m4KEWorg021242; Tue, 20 May 2008 15:32:58 +0100 (BST)
Received: from EXVS02.nasstar-t1.net ([10.2.10.104]) by
	exsmtp01.nasstar-t1.net with Microsoft SMTPSVC(6.0.3790.1830); 
	Tue, 20 May 2008 15:34:09 +0100
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Tue, 20 May 2008 15:32:44 +0100
Message-ID: <680808427CF931459462C3D78CB5EC60021BBDE4@EXVS02.nasstar-t1.net>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] SIP one DNS domain much IP
Thread-Index: Aci6akMrC1RQmTNoT5qBXmqLT71NVgAA1VpAAAMgbrAAAByuEAACNJnwAACVzCA=
From: "Attila Sipos" <attila.sipos@vegastream.com>
To: "Brett Tate" <brett@broadsoft.com>,
	=?utf-8?B?5a2Z5rC45YWJ?= <sammanengineer@gmail.com>, <sip@ietf.org>
X-OriginalArrivalTime: 20 May 2008 14:34:09.0268 (UTC)
	FILETIME=[907EEB40:01C8BA86]
X-Scanned-By: MailControl A-08-50-03 (www.mailcontrol.com) on 10.70.1.118
Subject: Re: [Sip] SIP one DNS domain much IP
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Archive: <https://www.ietf.org/mailman/private/sip>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

DQo+PlRoaXMgaXMgd2hhdCBJIGRvbid0IHVuZGVyc3RhbmQgLSB1bmRlciB3aGF0IGNvbmRpdGlv
biBpcyBpdCBkZXNpcmVkIHRoYXQNCj4+dGhlIDJ4eCBBQ0sgZ29lcyB0byBhIGRpZmZlcmVudCBk
ZXN0aW5hdGlvbiB0aGFuIHRoZSBvcmlnaW5hbCBJTlZJVEU/DQoNCkluIGFuIGF0dGVtcHQgdG8g
YW5zd2VyIG15IG93biBxdWVzdGlvbi4uLg0KSSBndWVzcyBpdCdzIE9LIHByb3ZpZGVkIHRoYXQg
dGhlIGFsbCBzZXJ2ZXJzIG9mIHRoZSBETlMgU1JWIGdyb3VwDQpyZXNvbHZlIHRoZSBBQ0sncyBV
UkkgdG8gdGhlIHNhbWUgU0lQIGVuZHBvaW50Lg0KDQpJIHRoaW5rIEkgYW0gY29uZnVzaW5nIFNJ
UCBzZXJ2ZXJzIGFuZCBTSVAgVUFzIC0gdGhlIFVBDQpyZXF1aXJlcyB0aGUgQUNLIHRvIGNvbWUg
YmFjayB0byBpdCBidXQgdGhlIHNlcnZlciBkb2VzIG5vdC4NCg0KDQoNCg0KDQotLS0tLU9yaWdp
bmFsIE1lc3NhZ2UtLS0tLQ0KRnJvbTogQXR0aWxhIFNpcG9zIA0KU2VudDogMjAgTWF5IDIwMDgg
MTU6MTYNClRvOiAnQnJldHQgVGF0ZSc7IOWtmeawuOWFiTsgc2lwQGlldGYub3JnDQpTdWJqZWN0
OiBSRTogW1NpcF0gU0lQIG9uZSBETlMgZG9tYWluIG11Y2ggSVANCg0KDQpIaSBCcmV0dCwNCg0K
VGhhbmtzIGZvciB5b3VyIHJlc3BvbnNlIC0gdG8gbWUgaXQgaGlnaGxpZ2h0cyBzb21ldGhpbmcg
dGhhdCBJIGRvbid0IHVuZGVyc3RhbmQgaW4gUkZDIDMyNjM6DQoNCiAgIEJlY2F1c2UgdGhlIEFD
SyByZXF1ZXN0IGZvciAyeHggcmVzcG9uc2VzIHRvIElOVklURSBjb25zdGl0dXRlcyBhDQogICBk
aWZmZXJlbnQgdHJhbnNhY3Rpb24sIHRoZXJlIGlzIG5vIHJlcXVpcmVtZW50IHRoYXQgaXQgYmUg
ZGVsaXZlcmVkDQogICB0byB0aGUgc2FtZSBzZXJ2ZXIgdGhhdCByZWNlaXZlZCB0aGUgb3JpZ2lu
YWwgcmVxdWVzdCAoaW5kZWVkLCBpZg0KICAgdGhhdCBzZXJ2ZXIgZGlkIG5vdCByZWNvcmQtcm91
dGUsIGl0IHdpbGwgbm90IGdldCB0aGUgQUNLKS4NCg0KU28gaWYgaXQgZG9lc24ndCBnZXQgdGhl
IEFDSywgdGhlIDJ4eCByZXNwb25zZSB3aWxsIGJlIHJldHJhbnNtaXR0ZWQgb3ZlciBhbmQgb3Zl
ciAtIHdvbid0IGl0Pw0KDQpUaGlzIGlzIHdoYXQgSSBkb24ndCB1bmRlcnN0YW5kIC0gdW5kZXIg
d2hhdCBjb25kaXRpb24gaXMgaXQgZGVzaXJlZCB0aGF0IHRoZSAyeHggQUNLIGdvZXMgdG8gYSBk
aWZmZXJlbnQgZGVzdGluYXRpb24gdGhhbiB0aGUgb3JpZ2luYWwgSU5WSVRFPw0KDQpDaGVlcnMs
DQpBdHRpbGENCg0KDQotLS0tLU9yaWdpbmFsIE1lc3NhZ2UtLS0tLQ0KRnJvbTogQnJldHQgVGF0
ZSBbbWFpbHRvOmJyZXR0QGJyb2Fkc29mdC5jb21dDQpTZW50OiAyMCBNYXkgMjAwOCAxNDozNA0K
VG86IEF0dGlsYSBTaXBvczsg5a2Z5rC45YWJOyBzaXBAaWV0Zi5vcmcNClN1YmplY3Q6IFJFOiBb
U2lwXSBTSVAgb25lIEROUyBkb21haW4gbXVjaCBJUA0KDQo+ID4gSWYgU1JWIHJlY29yZHMgbm90
IHN1cHBvcnRlZCwgdGhlIENvbnRhY3Qgc2hvdWxkIHJlZmxlY3QgYSBzaW5nbGUgQVMNCj4gDQo+
IERpZCB5b3UgbWVhbiB0aGF0IGlmIFNSViByZWNvcmRzIEFSRSBzdXBwb3J0ZWQ/DQoNCkhpIEF0
dGlsYSwNCg0KTm9wZS4gIElmIFNSViBzdXBwb3J0ZWQgYW5kIGJlaW5nIHVzZWQsIHRoZSBTUlYg
cmVjb3JkcyBhbGxvdyB0aGUgZGVzaXJlZCBvcmRlciB0byBiZSBjbGVhcmx5IGluZGljYXRlZC4N
Cg0KDQo+IElzbid0IHRoZSBwcm9ibGVtIHRoYXQgdGhlIENvbnRhY3QgaW4gdGhlIDJ4eCBkaWRu
J3QgY29udGFpbiBzb21ldGhpbmcgDQo+IHRoYXQgbWFwcyB0byBhIHNpbmdsZSBkZXZpY2U/DQoN
CkRlcGVuZHMgdXBvbiBpbnRlbnQuDQoNCkkgYXNzdW1lIHRoYXQgdGhlIHBlcnNvbiBjb25maWd1
cmluZyB0aGUgQ29udGFjdCBoYWQgcmVhc29uIHRvIHN1cHBseSBhIENvbnRhY3QgYWJsZSB0byBy
ZXNvbHZlIHRvIG1vcmUgdGhhbiAxIGxvY2F0aW9uLiAgSSBhc3N1bWUgdGhlIHJlYXNvbiBpcyB0
aGF0IHRoZSBhbHRlcm5hdGl2ZSBsb2NhdGlvbiBjYW4gb2NjYXNpb25hbGx5IChvYnZpb3VzbHkg
bm90IGFsd2F5cyBiZWNhdXNlIHF1ZXN0aW9uIHBvc3RlZCkgYmUgYWJsZSB0byBoYW5kbGUgdGhl
IGluLWRpYWxvZyByZXF1ZXN0cy4gIElmIHRoZSBhbHRlcm5hdGl2ZSBsb2NhdGlvbiBjYW4gbmV2
ZXIgaGFuZGxlIHRoZSBpbi1kaWFsb2cgcmVxdWVzdHMsIEkgYWdyZWUgdGhhdCBpdCB3b3VsZCBi
ZSBhbiBpbmFwcHJvcHJpYXRlIGNvbmZpZ3VyYXRpb24uDQoNCkNoZWVycywNCkJyZXR0DQoNCg0K
PiAtLS0tLU9yaWdpbmFsIE1lc3NhZ2UtLS0tLQ0KPiBGcm9tOiBzaXAtYm91bmNlc0BpZXRmLm9y
ZyBbbWFpbHRvOnNpcC1ib3VuY2VzQGlldGYub3JnXSBPbiBCZWhhbGYgT2YgDQo+IEJyZXR0IFRh
dGUNCj4gU2VudDogMjAgTWF5IDIwMDggMTM6NDINCj4gVG86IOWtmeawuOWFiTsgc2lwQGlldGYu
b3JnDQo+IFN1YmplY3Q6IFJlOiBbU2lwXSBTSVAgb25lIEROUyBkb21haW4gbXVjaCBJUA0KPiAN
Cj4gQmVjYXVzZSBvZiBwb3RlbnRpYWwgbG9hZC1iYWxhbmNpbmcgKGFzIHlvdSBhcmUgb2JzZXJ2
aW5nKSwgc29sZWx5IA0KPiB1c2luZyBBIHJlY29yZHMgd2l0aGluIHByaW1hcnkvc2Vjb25kYXJ5
IGNvbmZpZ3VyYXRpb25zIHNob3VsZCBiZSANCj4gYXZvaWRlZCB1bmxlc3MgYWRkaXRpb25hbCBh
Z3JlZW1lbnRzIG9yIGNvbmZpZ3VyYXRpb24gaGFzIGJlZW4gbWFkZSB0byANCj4gYXZvaWQgdGhl
IHNpdHVhdGlvbiB5b3UgYXJlIGRlc2NyaWJpbmcgY29uY2VybmluZyBpbiBkaWFsb2cgcmVxdWVz
dHMuDQo+IFRoZSBhZGRpdGlvbmFsIGFncmVlbWVudHMgb3ZlcnJpZGUgdHlwaWNhbCByZmMzMjYz
IGJlaGF2aW9yIGJ5IA0KPiBhcHBseWluZyBsb2NhbCBwb2xpY3kgKHBvdGVudGlhbGx5IG5vbiBj
b21wbGlhbnQpIHRvIHJlbWFpbiBzdGF0ZWZ1bCANCj4gd2l0aGluIGRpYWxvZy4gIFRoZSBwb3Rl
bnRpYWwgYWRkaXRpb25hbCBjb25maWd1cmF0aW9uICh0byBhdm9pZCB0aGUgDQo+IG1lbnRpb25l
ZCBvdmVycmlkZSkgaXMgdG8gaGF2ZSBETlMgY29udHJvbCB0byBhdm9pZCBhdXRvbWF0aWMgDQo+
IGxvYWQtYmFsYW5jaW5nL2l0ZXJhdGluZyBjb25jZXJuaW5nIEEgcmVjb3JkcyBzbyB0aGF0IHRo
ZSBBIHJlY29yZCANCj4gcXVlcnkvaGFuZGxpbmcgY2FuIGFsd2F5cyByZXN1bHQgaW4gdGhlIHNh
bWUgb3JkZXJlZCBsaXN0Lg0KPiANCj4gUkZDIDMyNjMgZGlzY3Vzc2VzIHVzaW5nIEROUyBTUlYg
cmVjb3JkcyB0byBtb3JlIGNsZWFybHkgaW5kaWNhdGUgDQo+IHByaW9yaXRpemF0aW9uIGFuZCBs
b2FkLWJhbGFuY2luZy4gIElmIFNSViByZWNvcmRzIG5vdCBzdXBwb3J0ZWQsIHRoZSANCj4gQ29u
dGFjdCBzaG91bGQgcmVmbGVjdCBhIHNpbmdsZSBBUyB1bmxlc3MgdGhlIGFsdGVybmF0aXZlIGxv
Y2F0aW9ucyANCj4gY2FuIGFjY29tbW9kYXRlIHRoZSBzaXR1YXRpb24gKG9yIGFkZGl0aW9uYWwg
YWdyZWVtZW50cyBvciANCj4gY29uZmlndXJhdGlvbiBoYXMgYmVlbiBtYWRlIHRvIGF2b2lkIHRy
eWluZyB0aGUgYWx0ZXJuYXRpdmUgbG9jYXRpb25zIA0KPiBmaXJzdCkuDQo+IA0KCgouCl9fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fClNpcCBtYWlsaW5nIGxp
c3QgIGh0dHBzOi8vd3d3LmlldGYub3JnL21haWxtYW4vbGlzdGluZm8vc2lwClRoaXMgbGlzdCBp
cyBmb3IgTkVXIGRldmVsb3BtZW50IG9mIHRoZSBjb3JlIFNJUCBQcm90b2NvbApVc2Ugc2lwLWlt
cGxlbWVudG9yc0Bjcy5jb2x1bWJpYS5lZHUgZm9yIHF1ZXN0aW9ucyBvbiBjdXJyZW50IHNpcApV
c2Ugc2lwcGluZ0BpZXRmLm9yZyBmb3IgbmV3IGRldmVsb3BtZW50cyBvbiB0aGUgYXBwbGljYXRp
b24gb2Ygc2lw


From sip-bounces@ietf.org  Tue May 20 21:06:35 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 29FEA3A7187;
	Tue, 20 May 2008 21:06:35 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id EDD6F3A6F16
	for <sip@core3.amsl.com>; Tue, 20 May 2008 21:06:30 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -1.835
X-Spam-Level: 
X-Spam-Status: No, score=-1.835 tagged_above=-999 required=5 tests=[AWL=0.464, 
	BAYES_00=-2.599, MIME_8BIT_HEADER=0.3]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 7aj9OJxk8ahF for <sip@core3.amsl.com>;
	Tue, 20 May 2008 21:06:29 -0700 (PDT)
Received: from out001.iad.hostedmail.net (out001.iad.hostedmail.net
	[209.225.56.23])
	by core3.amsl.com (Postfix) with ESMTP id 4798E28DAFC
	for <sip@ietf.org>; Tue, 20 May 2008 10:44:58 -0700 (PDT)
Received: from ATL1VEXC020.usdom003.tco.tc ([10.158.7.31]) by
	out001.iad.hostedmail.net with Microsoft SMTPSVC(6.0.3790.3959);
	Tue, 20 May 2008 13:44:59 -0400
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Tue, 20 May 2008 13:44:58 -0400
Message-ID: <BBE61D1553D8A34F812FF87377B2935F038609AC@ATL1VEXC020.usdom003.tco.tc>
In-Reply-To: <680808427CF931459462C3D78CB5EC60021BBDC0@EXVS02.nasstar-t1.net>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] SIP one DNS domain much IP
Thread-Index: Aci6akMrC1RQmTNoT5qBXmqLT71NVgAA1VpAAAMgbrAAAByuEAACNJnwAABPzuA=
From: "Brett Tate" <brett@broadsoft.com>
To: "Attila Sipos" <attila.sipos@vegastream.com>,
	=?gb2312?B?y+/TwLni?= <sammanengineer@gmail.com>, <sip@ietf.org>
X-OriginalArrivalTime: 20 May 2008 17:44:59.0067 (UTC)
	FILETIME=[391B98B0:01C8BAA1]
Subject: Re: [Sip] SIP one DNS domain much IP
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Archive: <https://www.ietf.org/mailman/private/sip>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

> So if it doesn't get the ACK, the 2xx response 
> will be retransmitted over and over - won't it?

It depends upon how "redundant" the cluster actually is.  If fully redundant, an ACK or PRACK received on one server can stop response retries on the other.  

Similarly rfc3263 section 5, allows responses to "forked" upon failure to deliver.  If a proxy/UAC truly that redundant, a response received on one server can stop request retries on the other.


> This is what I don't understand - under what 
> condition is it desired that the 2xx ACK goes 
> to a different destination than the original INVITE?

Concerning ACK and PRACK, usually never unless truly that flexible.  Concerning other requests, it may or may not prefer it but might allow it.
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Wed May 21 06:40:40 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id CE9703A6A51;
	Wed, 21 May 2008 06:40:40 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id F0F513A6A51
	for <sip@core3.amsl.com>; Wed, 21 May 2008 06:40:39 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -0.853
X-Spam-Level: 
X-Spam-Status: No, score=-0.853 tagged_above=-999 required=5
	tests=[AWL=-0.704, BAYES_00=-2.599, MIME_CHARSET_FARAWAY=2.45]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id v1j0eDN6YklB for <sip@core3.amsl.com>;
	Wed, 21 May 2008 06:40:37 -0700 (PDT)
Received: from out001.iad.hostedmail.net (out001.iad.hostedmail.net
	[209.225.56.23])
	by core3.amsl.com (Postfix) with ESMTP id B35BD3A6823
	for <sip@ietf.org>; Wed, 21 May 2008 06:40:37 -0700 (PDT)
Received: from ATL1VEXC020.usdom003.tco.tc ([10.158.7.31]) by
	out001.iad.hostedmail.net with Microsoft SMTPSVC(6.0.3790.3959);
	Wed, 21 May 2008 09:40:40 -0400
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Wed, 21 May 2008 09:40:40 -0400
Message-ID: <BBE61D1553D8A34F812FF87377B2935F03860E9E@ATL1VEXC020.usdom003.tco.tc>
In-Reply-To: <1BE4F568A2FBC04ABDCF612202EAF5D21F602E@CNSHGSMBS05.ad4.ad.alcatel.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] SIP one DNS domain much IP
Thread-Index: Aci6akMrC1RQmTNoT5qBXmqLT71NVgAA1VpAAB24DbAAGIb2wA==
From: "Brett Tate" <brett@broadsoft.com>
To: "DING Derrick" <dingzheng@alcatel-lucent.com>
X-OriginalArrivalTime: 21 May 2008 13:40:40.0518 (UTC)
	FILETIME=[42584660:01C8BB48]
Cc: sip@ietf.org
Subject: Re: [Sip] SIP one DNS domain much IP
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Archive: <https://www.ietf.org/mailman/private/sip>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="gb2312"
Content-Transfer-Encoding: base64
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

WW91ciB1bmRlcnN0YW5kaW5nIGNvcnJlc3BvbmRzIHRvIGEgImxvY2FsIHBvbGljeSIgb3ZlcnJp
ZGluZyB0aGUgcnVsZXMgb2YgZm9sbG93aW5nIFJGQyAzMjYzLiAgWW91ciBtZW50aW9uZWQgImxv
Y2FsIHBvbGljeSIgaGFzIG5vdCBiZWVuIHByZXNlbnRlZCB3aXRoaW4gYW4gUkZDLgoKUkZDIDMy
NjEgc2VjdGlvbiAxMi4yLjEuMTogIk9uY2UgdGhlIHJlcXVlc3QgaGFzIGJlZW4gY29uc3RydWN0
ZWQsIHRoZSBhZGRyZXNzIG9mIHRoZSBzZXJ2ZXIgaXMgY29tcHV0ZWQgYW5kIHRoZSByZXF1ZXN0
IGlzIHNlbnQsIHVzaW5nIHRoZSBzYW1lIHByb2NlZHVyZXMgZm9yIHJlcXVlc3RzIG91dHNpZGUg
b2YgYSBkaWFsb2cgKFNlY3Rpb24gOC4xLjIpLiIKClJGQyAzMjYxIHNlY3Rpb24gOC4xLjI6ICJU
aGUgZGVzdGluYXRpb24gZm9yIHRoZSByZXF1ZXN0IGlzIHRoZW4gY29tcHV0ZWQuICBVbmxlc3Mg
dGhlcmUgaXMgbG9jYWwgcG9saWN5IHNwZWNpZnlpbmcgb3RoZXJ3aXNlLCB0aGUgZGVzdGluYXRp
b24gTVVTVCBiZSBkZXRlcm1pbmVkIGJ5IGFwcGx5aW5nIHRoZSBETlMgcHJvY2VkdXJlcyBkZXNj
cmliZWQgaW4gWzRdIGFzIGZvbGxvd3MuIgoKCj4gLS0tLS1PcmlnaW5hbCBNZXNzYWdlLS0tLS0K
PiBGcm9tOiBzaXAtYm91bmNlc0BpZXRmLm9yZyBbbWFpbHRvOnNpcC1ib3VuY2VzQGlldGYub3Jn
XSBPbiAKPiBCZWhhbGYgT2YgRElORyBEZXJyaWNrCj4gU2VudDogVHVlc2RheSwgTWF5IDIwLCAy
MDA4IDk6NTAgUE0KPiBUbzogQnJldHQgVGF0ZTsgy+/TwLniOyBzaXBAaWV0Zi5vcmcKPiBTdWJq
ZWN0OiBSZTogW1NpcF0gU0lQIG9uZSBETlMgZG9tYWluIG11Y2ggSVAKPiAKPiBBcyBteSB1bmRl
cnN0YW5kaW5nLCBBIHNob3VsZCBub3QgZG8gRE5TIHF1ZXJ5IHdpdGhvdXQgYW55IAo+IGV4Y2Vw
dGlvbiwgc3VjaCBhcyA0MDggdGltZW91dC4KPiAKPiBTbyB5b3Ugc2hvdWxkIGRlZmluZSB0aGUg
Y29uZGl0aW9uIGZvciBETlMgcXVlcnkgaW4gb3JkZXIgdG8gCj4gYXZvaWQgdGhlIGNhc2UgeW91
IGRlc2NyaWJlLgo+IAo+IERlcnJpY2sKPiAKPiAtLS0tLU9yaWdpbmFsIE1lc3NhZ2UtLS0tLQo+
IEZyb206IHNpcC1ib3VuY2VzQGlldGYub3JnIFttYWlsdG86c2lwLWJvdW5jZXNAaWV0Zi5vcmdd
IE9uIAo+IEJlaGFsZiBPZiBCcmV0dCBUYXRlCj4gU2VudDogMjAwOMTqNdTCMjDI1SAyMDo0Mgo+
IFRvOiDL79PAueI7IHNpcEBpZXRmLm9yZwo+IFN1YmplY3Q6IFJlOiBbU2lwXSBTSVAgb25lIERO
UyBkb21haW4gbXVjaCBJUAo+IAo+IEJlY2F1c2Ugb2YgcG90ZW50aWFsIGxvYWQtYmFsYW5jaW5n
IChhcyB5b3UgYXJlIG9ic2VydmluZyksIAo+IHNvbGVseSB1c2luZyBBIHJlY29yZHMgd2l0aGlu
IHByaW1hcnkvc2Vjb25kYXJ5IAo+IGNvbmZpZ3VyYXRpb25zIHNob3VsZCBiZSBhdm9pZGVkIHVu
bGVzcyBhZGRpdGlvbmFsIGFncmVlbWVudHMgCj4gb3IgY29uZmlndXJhdGlvbiBoYXMgYmVlbiBt
YWRlIHRvIGF2b2lkIHRoZSBzaXR1YXRpb24geW91IGFyZSAKPiBkZXNjcmliaW5nIGNvbmNlcm5p
bmcgaW4gZGlhbG9nIHJlcXVlc3RzLiAgVGhlIGFkZGl0aW9uYWwgCj4gYWdyZWVtZW50cyBvdmVy
cmlkZSB0eXBpY2FsIHJmYzMyNjMgYmVoYXZpb3IgYnkgYXBwbHlpbmcgCj4gbG9jYWwgcG9saWN5
IChwb3RlbnRpYWxseSBub24gY29tcGxpYW50KSB0byByZW1haW4gc3RhdGVmdWwgCj4gd2l0aGlu
IGRpYWxvZy4gIFRoZSBwb3RlbnRpYWwgYWRkaXRpb25hbCBjb25maWd1cmF0aW9uICh0byAKPiBh
dm9pZCB0aGUgbWVudGlvbmVkIG92ZXJyaWRlKSBpcyB0byBoYXZlIEROUyBjb250cm9sIHRvIGF2
b2lkIAo+IGF1dG9tYXRpYyBsb2FkLWJhbGFuY2luZy9pdGVyYXRpbmcgY29uY2VybmluZyBBIHJl
Y29yZHMgc28gCj4gdGhhdCB0aGUgQSByZWNvcmQgcXVlcnkvaGFuZGxpbmcgY2FuIGFsd2F5cyBy
ZXN1bHQgaW4gdGhlIAo+IHNhbWUgb3JkZXJlZCBsaXN0Lgo+IAo+IFJGQyAzMjYzIGRpc2N1c3Nl
cyB1c2luZyBETlMgU1JWIHJlY29yZHMgdG8gbW9yZSBjbGVhcmx5IAo+IGluZGljYXRlIHByaW9y
aXRpemF0aW9uIGFuZCBsb2FkLWJhbGFuY2luZy4gIElmIFNSViByZWNvcmRzIAo+IG5vdCBzdXBw
b3J0ZWQsIHRoZSBDb250YWN0IHNob3VsZCByZWZsZWN0IGEgc2luZ2xlIEFTIHVubGVzcyAKPiB0
aGUgYWx0ZXJuYXRpdmUgbG9jYXRpb25zIGNhbiBhY2NvbW1vZGF0ZSB0aGUgc2l0dWF0aW9uIChv
ciAKPiBhZGRpdGlvbmFsIGFncmVlbWVudHMgb3IgY29uZmlndXJhdGlvbiBoYXMgYmVlbiBtYWRl
IHRvIGF2b2lkIAo+IHRyeWluZyB0aGUgYWx0ZXJuYXRpdmUgbG9jYXRpb25zIGZpcnN0KS4KPiAK
PiAKPiBfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwo+IAo+IAlGcm9tOiBzaXAtYm91
bmNlc0BpZXRmLm9yZyAKPiBbbWFpbHRvOnNpcC1ib3VuY2VzQGlldGYub3JnXSBPbiBCZWhhbGYg
T2YgPz8/Cj4gCVNlbnQ6IFR1ZXNkYXksIE1heSAyMCwgMjAwOCA3OjExIEFNCj4gCVRvOiBzaXBA
aWV0Zi5vcmc7IElFVEYgU2lwcGluZyBMaXN0Cj4gCVN1YmplY3Q6IFtTaXBdIFNJUCBvbmUgRE5T
IGRvbWFpbiBtdWNoIElQCj4gCQo+IAkKPiAKPiAJSGkgR3V5czoKPiAKPiAJICAgICBJIGhhdmUg
YSBxdWVzdGlvbiBhYm91dCBETlMKPiAJaXQgaXMgdGhhdCBvbmUgRE5TIGRvbWFpbiBoYXMgbXVj
aCBJUCBBZGRycyAsIGVnOiAKPiBhcy50ZXN0Lm5ldD0+KDE5Mi4xNjguMi4xLzE5Mi4xNjguMi4y
KQo+IAlhbmQgImFzLnRlc3QubmV0OiBpcyBCMkIgc2VydmVyCj4gCTEpIEEgSU5WSVRFIEIgLCBB
IHJlc29sdmVzIHRoZSBETlMgImFzLnRlc3QubmV0IiAKPiAxOTIuMTY4LjIuMSx0aGVuIEEgc2Vu
ZHMgSU5WSVRFIHJlcXVlc3QgdG8KPiAJICAgMTkyLjE2OC4yLjEKPiAJMikgQSByZWNlaXZlcyAy
MDAgcmVzcG9uc2Ugd2l0aCBjb250YWN0ICJhcy50ZXN0Lm5ldCIgCj4gYW5kIG5vIHJlY29yZCBy
b3V0ZQo+IAkzKUEgcmVzb2x2ZXMgdGhlIEROUyAiYXMudGVzdC5uZXQiIGFnYWluLCBpdCBnZXRz
IAo+IDE5Mi4xNi4yLjIgYW5kIHNlbmRzIEFDSyB0byAxOTIuMTY4LjIuMgo+IAo+IAlub3cgdGhl
IDE5Mi4xNi4yLjEgY2FuJ3QgcmVjaWV2ZSB0aGUgQUNLIHJlcXVlc3QgLCBzbyAKPiB0aGUgc2Vz
c2lvbiBjYW4ndCBiZSBjcmVhdGVkCj4gCj4gCUFueW9uZSBjYW4gZ2l2ZSBtZSBhbnkgYWR2aWNl
LCBvciBzb21lIFJGQy9kcmFmdCBhYm91dCBpdAo+IAo+IAlUaGFua3MgaW4gYWR2YW5jZQo+IAo+
IAlTYW1tYW4gCj4gCTIwMDgtNS0yMAo+IApfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fXwpTaXAgbWFpbGluZyBsaXN0ICBodHRwczovL3d3dy5pZXRmLm9yZy9t
YWlsbWFuL2xpc3RpbmZvL3NpcApUaGlzIGxpc3QgaXMgZm9yIE5FVyBkZXZlbG9wbWVudCBvZiB0
aGUgY29yZSBTSVAgUHJvdG9jb2wKVXNlIHNpcC1pbXBsZW1lbnRvcnNAY3MuY29sdW1iaWEuZWR1
IGZvciBxdWVzdGlvbnMgb24gY3VycmVudCBzaXAKVXNlIHNpcHBpbmdAaWV0Zi5vcmcgZm9yIG5l
dyBkZXZlbG9wbWVudHMgb24gdGhlIGFwcGxpY2F0aW9uIG9mIHNpcA==


From c.ruckendorfer@auxgazelles.at  Wed May 21 09:20:27 2008
Return-Path: <c.ruckendorfer@auxgazelles.at>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id BAD3B28C208;
	Wed, 21 May 2008 09:20:27 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -20.527
X-Spam-Level: 
X-Spam-Status: No, score=-20.527 tagged_above=-999 required=5
	tests=[BAYES_99=3.5, FH_RELAY_NODNS=1.451, HELO_DYNAMIC_DHCP=1.398,
	HELO_EQ_DSL=1.129, RAZOR2_CF_RANGE_51_100=0.5,
	RAZOR2_CF_RANGE_E4_51_100=1.5, RAZOR2_CF_RANGE_E8_51_100=1.5,
	RAZOR2_CHECK=0.5, RCVD_IN_PBL=0.905, RCVD_IN_XBL=3.033, RDNS_NONE=0.1,
	SARE_SPEC_REPLICA_OBFU=1.812, SARE_SPEC_ROLEX_NOV5A=1.062,
	URIBL_BLACK=20, URIBL_JP_SURBL=10, URIBL_RHS_DOB=1.083, URIBL_SBL=20,
	URIBL_SC_SURBL=10, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id BjV4I+J9XuHI; Wed, 21 May 2008 09:20:27 -0700 (PDT)
Received: from adsl190-26162070.dyn.etb.net.co (unknown [190.26.162.70])
	by core3.amsl.com (Postfix) with SMTP id D2AE928C217;
	Wed, 21 May 2008 09:20:13 -0700 (PDT)
X-Originating-IP: 163.142.41.48 by smtp.190.26.162.70;  Wed, 21 May 2008 12:20:12 -0500
Message-ID: <ksxceezZJQKGsip@ietf.org>
From: "Johnny Hampton" <sip@ietf.org>
Reply-To: "Johnny Hampton" <sip@ietf.org>
To: sip@ietf.org
Subject: Get 15% off these watches
Date: Wed, 21 May 2008 12:20:12 -0500
Content-Type: text/plain;
Content-Transfer-Encoding: 7Bit


An IWC watch is a uniquely handcrafted time piece that combines a classical element with a timeless elegance. Its appeal comes from their traditional beauty and their superb performance. But this sophistication has always come with a high price tag. Except of course, when you buy an IWC replica. And Prestige Replicas has dozens of IWC replica watches at prices so incredibly low that you can rest assured they won't last long! So, why not head over to Prestige Replicas right now and take a look at their IWC watches? After all, isn't it time you wore a splendid wristwatch without having to spend a fortune?
http://www.adieks.com/





From sip-bounces@ietf.org  Wed May 21 13:40:06 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id B752C3A6975;
	Wed, 21 May 2008 13:40:06 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 6DBA93A68DC
	for <sip@core3.amsl.com>; Wed, 21 May 2008 13:40:05 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -6.449
X-Spam-Level: 
X-Spam-Status: No, score=-6.449 tagged_above=-999 required=5 tests=[AWL=0.150, 
	BAYES_00=-2.599, RCVD_IN_DNSWL_MED=-4]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id aXR53kpcSnkN for <sip@core3.amsl.com>;
	Wed, 21 May 2008 13:40:04 -0700 (PDT)
Received: from zcars04e.nortel.com (zcars04e.nortel.com [47.129.242.56])
	by core3.amsl.com (Postfix) with ESMTP id 6BC8B3A6975
	for <sip@ietf.org>; Wed, 21 May 2008 13:40:04 -0700 (PDT)
Received: from zrc2hxm0.corp.nortel.com (zrc2hxm0.corp.nortel.com
	[47.103.123.71])
	by zcars04e.nortel.com (Switch-2.2.0/Switch-2.2.0) with ESMTP id
	m4LKcuj21078; Wed, 21 May 2008 20:38:56 GMT
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Wed, 21 May 2008 15:39:29 -0500
Message-ID: <1ECE0EB50388174790F9694F77522CCF16EBBC3F@zrc2hxm0.corp.nortel.com>
In-Reply-To: <CA9998CD4A020D418654FCDEF4E707DF046C77AE@esealmw113.eemea.ericsson.se>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] draft-ietf-sip-outbound
Thread-Index: AciynETYaonEt/1yTC6+lj7GlCfrbABtlxxwAAXDjQgALMjO0AAEWAgeAZUP5sA=
References: <18465.17834.732392.527310@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF046C776E@esealmw113.eemea.ericsson.se>
	<18465.32545.345585.820414@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8050F5A@mail.acmepacket.com>
	<18465.55659.177188.471351@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A01DDF@zrc2hxm0.corp.nortel.com>
	<18466.880.342656.104598@taimen.test.fi>
	<E6C2E8958BA59A4FB960963D475F7AC30BD80514C7@mail.acmepacket.com>
	<48222D54.7020006@iptel.org>
	<E6C2E8958BA59A4FB960963D475F7AC30BD8051669@mail.acmepacket.com>
	<CA9998CD4A020D418654FCDEF4E707DF046C7775@esealmw113.eemea.ericsson.se>
	<18466.42180.621089.330513@taimen.test.fi>	<4822AB7C.9000108@iptel.org>
	<1ECE0EB50388174790F9694F77522CCF16A5306F@zrc2hxm0.corp.nortel.com>
	<18467.10759.517606.958702@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A5321E@zrc2hxm0.corp.nortel.com>
	<18467.12939.938913.841738@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16A53410@zrc2hxm0.corp.nortel.com>
	<18467.16! !  ! ! ! 4	87 .1 7132
	4.50 8479 @! t aimen.te st.fi>	<E6C2E
	8958BA59A4FB960963D475F7AC30BD80C2A8B@mail.acmepacket.com>
	<18467.17492.323683.861768@taimen.test.fi>
	<CA9998CD4A020D418654FCDEF4E707DF05C0F825@esealmw113.eemea.ericsson.se>
	<A8948F50-3BAC-4CA2-BA42-E2F4F9493BEF@softarmor.com>
	<18468.3962.993600.980552@taimen.test.fi>
	<6A699061-514E-40F9-8949-B44EF76D9A02@softarmor.com>
	<18469.13630.852013.419236@taimen.test.fi>
	<B0CF5278-8A23-4033-A5AF-4924BA98B9B4@softarmor.com>
	<18469.39359.781686.130823@taimen.test.fi>
	<1ECE0EB50388174790F9694F77522CCF16B721A0@zrc2hxm0.corp.nortel.com>
	<CA9998CD4A020D418654FCDEF4E707DF046C77A5@esealmw113.eemea.ericsson.se>
	<1ECE0EB50388174790F9694F77522CCF16C1098C@zrc2hxm0.corp.nortel.com>
	<CA9998CD4A020D418654FCDEF4E707DF046C77AE@esealmw113.eemea.ericsson.se>
From: "Francois Audet" <audet@nortel.com>
To: "Christer Holmberg" <christer.holmberg@ericsson.com>,
	"Juha Heinanen" <jh@tutpro.com>, "Dean Willis" <dean.willis@softarmor.com>
Cc: sip@ietf.org, drage@alcatel-lucent.com, "Elwell,
	John" <john.elwell@siemens.com>, Cullen Jennings <fluffy@cisco.com>
Subject: Re: [Sip] draft-ietf-sip-outbound
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Archive: <https://www.ietf.org/mailman/private/sip>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Ok, I have confirmed with the author of that part of the spec (Cullen), that
the intent of the wording was that the UA supporting 2 absolutely meant that
it would register with two. So I was right.

That settles the issue and I will clarify the document accordingly.

> -----Original Message-----
> From: Christer Holmberg [mailto:christer.holmberg@ericsson.com] 
> Sent: Tuesday, May 13, 2008 12:41
> To: Audet, Francois (SC100:3055); Juha Heinanen; Dean Willis
> Cc: sip@ietf.org; Elwell, John; drage@alcatel-lucent.com
> Subject: RE: [Sip] draft-ietf-sip-outbound
> 
> Support a set of two, and register with two, are two 
> different things :)
> 
> Regards,
>  
> Christer
>  
> 
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Wed May 21 18:59:48 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 736E428C14F;
	Wed, 21 May 2008 18:59:48 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 7CDB63A6A52
	for <sip@core3.amsl.com>; Wed, 21 May 2008 18:59:47 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: 0.001
X-Spam-Level: 
X-Spam-Status: No, score=0.001 tagged_above=-999 required=5 tests=[AWL=0.150, 
	BAYES_00=-2.599, MIME_CHARSET_FARAWAY=2.45]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id Tyzak1UcDjOh for <sip@core3.amsl.com>;
	Wed, 21 May 2008 18:59:45 -0700 (PDT)
Received: from mail.alcatel-sbell.com.cn (cnrelay03.alcatel-sbell.com.cn
	[211.144.215.19])
	by core3.amsl.com (Postfix) with ESMTP id 61BBF3A6A7D
	for <sip@ietf.org>; Wed, 21 May 2008 18:59:45 -0700 (PDT)
Received: from cnshgsbhs01.ad4.ad.alcatel.com (localhost [127.0.0.1])
	by mail.alcatel-sbell.com.cn (8.13.8/8.13.8/Alcanet1.0) with ESMTP id
	m4M1wcRE018051; Thu, 22 May 2008 09:58:39 +0800
Received: from CNSHGSMBS05.ad4.ad.alcatel.com ([172.24.146.176]) by 
	cnshgsbhs01.ad4.ad.alcatel.com with Microsoft SMTPSVC(6.0.3790.2499);
	Thu, 22 May 2008 09:59:39 +0800
Content-class: urn:content-classes:message
MIME-Version: 1.0
X-MimeOLE: Produced By Microsoft Exchange V6.5
Date: Thu, 22 May 2008 09:59:38 +0800
Message-ID: <1BE4F568A2FBC04ABDCF612202EAF5D21F6032@CNSHGSMBS05.ad4.ad.alcatel.com>
In-Reply-To: <BBE61D1553D8A34F812FF87377B2935F03860E9E@ATL1VEXC020.usdom003.
	tco.tc>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] SIP one DNS domain much IP
Thread-Index: Aci6akMrC1RQmTNoT5qBXmqLT71NVgAA1VpAAB24DbAAGIb2wAAaHSvg
From: "DING Derrick" <dingzheng@alcatel-lucent.com>
To: "Brett Tate" <brett@broadsoft.com>
X-OriginalArrivalTime: 22 May 2008 01:59:39.0222 (UTC) 
	FILETIME=[7E459760:01C8BBAF]
X-imss-version: 2.050
X-imss-result: Passed
X-imss-scores: Clean:99.90000 C:2 M:3 S:5 R:5
X-imss-settings: Baseline:2 C:1 M:1 S:1 R:1 (0.1500 0.1500)
Cc: sip@ietf.org
Subject: Re: [Sip] SIP one DNS domain much IP
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Archive: <https://www.ietf.org/mailman/private/sip>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="gb2312"
Content-Transfer-Encoding: base64
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

CiBCdXQgeW91IGNhbiBzZWUsIHdoYXQgdGhlIGd1eSBkZXNjcmliZWQgaXMgaW4gYSBkaWFsb2cg
aW5zdGVhZCBvZiAib3V0c2lkZSBvZiBhIGRpYWxvZyIuClBsZWFzZSBwb2ludCBvdXQgaWYgSSBk
b24ndCB1bmRlcnN0YW5kIGNvcnJlY3RseS4KClRoYW5rcwoKRGVycmljawoKLS0tLS1PcmlnaW5h
bCBNZXNzYWdlLS0tLS0KRnJvbTogQnJldHQgVGF0ZSBbbWFpbHRvOmJyZXR0QGJyb2Fkc29mdC5j
b21dIApTZW50OiAyMDA4xOo11MIyMcjVIDIxOjQxClRvOiBESU5HIERlcnJpY2sKQ2M6IHNpcEBp
ZXRmLm9yZwpTdWJqZWN0OiBSRTogW1NpcF0gU0lQIG9uZSBETlMgZG9tYWluIG11Y2ggSVAKCllv
dXIgdW5kZXJzdGFuZGluZyBjb3JyZXNwb25kcyB0byBhICJsb2NhbCBwb2xpY3kiIG92ZXJyaWRp
bmcgdGhlIHJ1bGVzIG9mIGZvbGxvd2luZyBSRkMgMzI2My4gIFlvdXIgbWVudGlvbmVkICJsb2Nh
bCBwb2xpY3kiIGhhcyBub3QgYmVlbiBwcmVzZW50ZWQgd2l0aGluIGFuIFJGQy4KClJGQyAzMjYx
IHNlY3Rpb24gMTIuMi4xLjE6ICJPbmNlIHRoZSByZXF1ZXN0IGhhcyBiZWVuIGNvbnN0cnVjdGVk
LCB0aGUgYWRkcmVzcyBvZiB0aGUgc2VydmVyIGlzIGNvbXB1dGVkIGFuZCB0aGUgcmVxdWVzdCBp
cyBzZW50LCB1c2luZyB0aGUgc2FtZSBwcm9jZWR1cmVzIGZvciByZXF1ZXN0cyBvdXRzaWRlIG9m
IGEgZGlhbG9nIChTZWN0aW9uIDguMS4yKS4iCgpSRkMgMzI2MSBzZWN0aW9uIDguMS4yOiAiVGhl
IGRlc3RpbmF0aW9uIGZvciB0aGUgcmVxdWVzdCBpcyB0aGVuIGNvbXB1dGVkLiAgVW5sZXNzIHRo
ZXJlIGlzIGxvY2FsIHBvbGljeSBzcGVjaWZ5aW5nIG90aGVyd2lzZSwgdGhlIGRlc3RpbmF0aW9u
IE1VU1QgYmUgZGV0ZXJtaW5lZCBieSBhcHBseWluZyB0aGUgRE5TIHByb2NlZHVyZXMgZGVzY3Jp
YmVkIGluIFs0XSBhcyBmb2xsb3dzLiIKCgo+IC0tLS0tT3JpZ2luYWwgTWVzc2FnZS0tLS0tCj4g
RnJvbTogc2lwLWJvdW5jZXNAaWV0Zi5vcmcgW21haWx0bzpzaXAtYm91bmNlc0BpZXRmLm9yZ10g
T24gCj4gQmVoYWxmIE9mIERJTkcgRGVycmljawo+IFNlbnQ6IFR1ZXNkYXksIE1heSAyMCwgMjAw
OCA5OjUwIFBNCj4gVG86IEJyZXR0IFRhdGU7IMvv08C54jsgc2lwQGlldGYub3JnCj4gU3ViamVj
dDogUmU6IFtTaXBdIFNJUCBvbmUgRE5TIGRvbWFpbiBtdWNoIElQCj4gCj4gQXMgbXkgdW5kZXJz
dGFuZGluZywgQSBzaG91bGQgbm90IGRvIEROUyBxdWVyeSB3aXRob3V0IGFueSAKPiBleGNlcHRp
b24sIHN1Y2ggYXMgNDA4IHRpbWVvdXQuCj4gCj4gU28geW91IHNob3VsZCBkZWZpbmUgdGhlIGNv
bmRpdGlvbiBmb3IgRE5TIHF1ZXJ5IGluIG9yZGVyIHRvIAo+IGF2b2lkIHRoZSBjYXNlIHlvdSBk
ZXNjcmliZS4KPiAKPiBEZXJyaWNrCj4gCj4gLS0tLS1PcmlnaW5hbCBNZXNzYWdlLS0tLS0KPiBG
cm9tOiBzaXAtYm91bmNlc0BpZXRmLm9yZyBbbWFpbHRvOnNpcC1ib3VuY2VzQGlldGYub3JnXSBP
biAKPiBCZWhhbGYgT2YgQnJldHQgVGF0ZQo+IFNlbnQ6IDIwMDjE6jXUwjIwyNUgMjA6NDIKPiBU
bzogy+/TwLniOyBzaXBAaWV0Zi5vcmcKPiBTdWJqZWN0OiBSZTogW1NpcF0gU0lQIG9uZSBETlMg
ZG9tYWluIG11Y2ggSVAKPiAKPiBCZWNhdXNlIG9mIHBvdGVudGlhbCBsb2FkLWJhbGFuY2luZyAo
YXMgeW91IGFyZSBvYnNlcnZpbmcpLCAKPiBzb2xlbHkgdXNpbmcgQSByZWNvcmRzIHdpdGhpbiBw
cmltYXJ5L3NlY29uZGFyeSAKPiBjb25maWd1cmF0aW9ucyBzaG91bGQgYmUgYXZvaWRlZCB1bmxl
c3MgYWRkaXRpb25hbCBhZ3JlZW1lbnRzIAo+IG9yIGNvbmZpZ3VyYXRpb24gaGFzIGJlZW4gbWFk
ZSB0byBhdm9pZCB0aGUgc2l0dWF0aW9uIHlvdSBhcmUgCj4gZGVzY3JpYmluZyBjb25jZXJuaW5n
IGluIGRpYWxvZyByZXF1ZXN0cy4gIFRoZSBhZGRpdGlvbmFsIAo+IGFncmVlbWVudHMgb3ZlcnJp
ZGUgdHlwaWNhbCByZmMzMjYzIGJlaGF2aW9yIGJ5IGFwcGx5aW5nIAo+IGxvY2FsIHBvbGljeSAo
cG90ZW50aWFsbHkgbm9uIGNvbXBsaWFudCkgdG8gcmVtYWluIHN0YXRlZnVsIAo+IHdpdGhpbiBk
aWFsb2cuICBUaGUgcG90ZW50aWFsIGFkZGl0aW9uYWwgY29uZmlndXJhdGlvbiAodG8gCj4gYXZv
aWQgdGhlIG1lbnRpb25lZCBvdmVycmlkZSkgaXMgdG8gaGF2ZSBETlMgY29udHJvbCB0byBhdm9p
ZCAKPiBhdXRvbWF0aWMgbG9hZC1iYWxhbmNpbmcvaXRlcmF0aW5nIGNvbmNlcm5pbmcgQSByZWNv
cmRzIHNvIAo+IHRoYXQgdGhlIEEgcmVjb3JkIHF1ZXJ5L2hhbmRsaW5nIGNhbiBhbHdheXMgcmVz
dWx0IGluIHRoZSAKPiBzYW1lIG9yZGVyZWQgbGlzdC4KPiAKPiBSRkMgMzI2MyBkaXNjdXNzZXMg
dXNpbmcgRE5TIFNSViByZWNvcmRzIHRvIG1vcmUgY2xlYXJseSAKPiBpbmRpY2F0ZSBwcmlvcml0
aXphdGlvbiBhbmQgbG9hZC1iYWxhbmNpbmcuICBJZiBTUlYgcmVjb3JkcyAKPiBub3Qgc3VwcG9y
dGVkLCB0aGUgQ29udGFjdCBzaG91bGQgcmVmbGVjdCBhIHNpbmdsZSBBUyB1bmxlc3MgCj4gdGhl
IGFsdGVybmF0aXZlIGxvY2F0aW9ucyBjYW4gYWNjb21tb2RhdGUgdGhlIHNpdHVhdGlvbiAob3Ig
Cj4gYWRkaXRpb25hbCBhZ3JlZW1lbnRzIG9yIGNvbmZpZ3VyYXRpb24gaGFzIGJlZW4gbWFkZSB0
byBhdm9pZCAKPiB0cnlpbmcgdGhlIGFsdGVybmF0aXZlIGxvY2F0aW9ucyBmaXJzdCkuCj4gCj4g
Cj4gX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KPiAKPiAJRnJvbTogc2lwLWJvdW5j
ZXNAaWV0Zi5vcmcgCj4gW21haWx0bzpzaXAtYm91bmNlc0BpZXRmLm9yZ10gT24gQmVoYWxmIE9m
ID8/Pwo+IAlTZW50OiBUdWVzZGF5LCBNYXkgMjAsIDIwMDggNzoxMSBBTQo+IAlUbzogc2lwQGll
dGYub3JnOyBJRVRGIFNpcHBpbmcgTGlzdAo+IAlTdWJqZWN0OiBbU2lwXSBTSVAgb25lIEROUyBk
b21haW4gbXVjaCBJUAo+IAkKPiAJCj4gCj4gCUhpIEd1eXM6Cj4gCj4gCSAgICAgSSBoYXZlIGEg
cXVlc3Rpb24gYWJvdXQgRE5TCj4gCWl0IGlzIHRoYXQgb25lIEROUyBkb21haW4gaGFzIG11Y2gg
SVAgQWRkcnMgLCBlZzogCj4gYXMudGVzdC5uZXQ9PigxOTIuMTY4LjIuMS8xOTIuMTY4LjIuMikK
PiAJYW5kICJhcy50ZXN0Lm5ldDogaXMgQjJCIHNlcnZlcgo+IAkxKSBBIElOVklURSBCICwgQSBy
ZXNvbHZlcyB0aGUgRE5TICJhcy50ZXN0Lm5ldCIgCj4gMTkyLjE2OC4yLjEsdGhlbiBBIHNlbmRz
IElOVklURSByZXF1ZXN0IHRvCj4gCSAgIDE5Mi4xNjguMi4xCj4gCTIpIEEgcmVjZWl2ZXMgMjAw
IHJlc3BvbnNlIHdpdGggY29udGFjdCAiYXMudGVzdC5uZXQiIAo+IGFuZCBubyByZWNvcmQgcm91
dGUKPiAJMylBIHJlc29sdmVzIHRoZSBETlMgImFzLnRlc3QubmV0IiBhZ2FpbiwgaXQgZ2V0cyAK
PiAxOTIuMTYuMi4yIGFuZCBzZW5kcyBBQ0sgdG8gMTkyLjE2OC4yLjIKPiAKPiAJbm93IHRoZSAx
OTIuMTYuMi4xIGNhbid0IHJlY2lldmUgdGhlIEFDSyByZXF1ZXN0ICwgc28gCj4gdGhlIHNlc3Np
b24gY2FuJ3QgYmUgY3JlYXRlZAo+IAo+IAlBbnlvbmUgY2FuIGdpdmUgbWUgYW55IGFkdmljZSwg
b3Igc29tZSBSRkMvZHJhZnQgYWJvdXQgaXQKPiAKPiAJVGhhbmtzIGluIGFkdmFuY2UKPiAKPiAJ
U2FtbWFuIAo+IAkyMDA4LTUtMjAKPiAKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX18KU2lwIG1haWxpbmcgbGlzdCAgaHR0cHM6Ly93d3cuaWV0Zi5vcmcvbWFp
bG1hbi9saXN0aW5mby9zaXAKVGhpcyBsaXN0IGlzIGZvciBORVcgZGV2ZWxvcG1lbnQgb2YgdGhl
IGNvcmUgU0lQIFByb3RvY29sClVzZSBzaXAtaW1wbGVtZW50b3JzQGNzLmNvbHVtYmlhLmVkdSBm
b3IgcXVlc3Rpb25zIG9uIGN1cnJlbnQgc2lwClVzZSBzaXBwaW5nQGlldGYub3JnIGZvciBuZXcg
ZGV2ZWxvcG1lbnRzIG9uIHRoZSBhcHBsaWNhdGlvbiBvZiBzaXA=


From sip-bounces@ietf.org  Thu May 22 01:55:35 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 6D1FC28C0FF;
	Thu, 22 May 2008 01:55:35 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 86AA43A6B06
	for <sip@core3.amsl.com>; Thu, 22 May 2008 01:55:34 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -5.713
X-Spam-Level: 
X-Spam-Status: No, score=-5.713 tagged_above=-999 required=5 tests=[AWL=0.535, 
	BAYES_00=-2.599, HELO_EQ_SE=0.35, HTML_MESSAGE=0.001,
	RCVD_IN_DNSWL_MED=-4]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id rxqloqItZsUI for <sip@core3.amsl.com>;
	Thu, 22 May 2008 01:55:31 -0700 (PDT)
Received: from mailgw4.ericsson.se (mailgw4.ericsson.se [193.180.251.62])
	by core3.amsl.com (Postfix) with ESMTP id 2DBCB3A6ADE
	for <sip@ietf.org>; Thu, 22 May 2008 01:55:30 -0700 (PDT)
Received: from mailgw4.ericsson.se (unknown [127.0.0.1])
	by mailgw4.ericsson.se (Symantec Mail Security) with ESMTP id
	4C1DC20350 for <sip@ietf.org>; Thu, 22 May 2008 10:55:36 +0200 (CEST)
X-AuditID: c1b4fb3e-aa991bb000004ec0-39-48353508b4a2
Received: from esealmw128.eemea.ericsson.se (unknown [153.88.254.121])
	by mailgw4.ericsson.se (Symantec Mail Security) with ESMTP id
	1F40021191 for <sip@ietf.org>; Thu, 22 May 2008 10:55:36 +0200 (CEST)
Received: from esealmw128.eemea.ericsson.se ([153.88.254.176]) by
	esealmw128.eemea.ericsson.se with Microsoft SMTPSVC(6.0.3790.1830); 
	Thu, 22 May 2008 10:55:35 +0200
Received: from emyklmw103.eapac.ericsson.se ([150.236.92.103]) by
	esealmw128.eemea.ericsson.se with Microsoft SMTPSVC(6.0.3790.1830); 
	Thu, 22 May 2008 10:55:35 +0200
Received: from ecnbjmw513.eapac.ericsson.se ([150.236.34.26]) by
	emyklmw103.eapac.ericsson.se with Microsoft SMTPSVC(6.0.3790.1830); 
	Thu, 22 May 2008 16:54:47 +0800
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Thu, 22 May 2008 16:54:46 +0800
Message-ID: <BAF5F619287DFA4F8BE069A8198CBBB201CA6559@ecnbjmw513.eapac.ericsson.se>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: MUST 200 OK contain SDP? Thanks
Thread-Index: Aci7y8Ccu2ENUpcER8SVd+I4biihjwAHYouw
From: "Yuantao Zhang" <yuantao.zhang@ericsson.com>
To: <sip@ietf.org>
X-OriginalArrivalTime: 22 May 2008 08:54:47.0523 (UTC)
	FILETIME=[7CC6B330:01C8BBE9]
X-Brightmail-Tracker: AAAAAA==
Subject: [Sip] MUST 200 OK contain SDP? Thanks
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Archive: <https://www.ietf.org/mailman/private/sip>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: multipart/mixed; boundary="===============1830965413=="
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

This is a multi-part message in MIME format.

--===============1830965413==
Content-class: urn:content-classes:message
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C8BBE9.7C373FD6"

This is a multi-part message in MIME format.

------_=_NextPart_001_01C8BBE9.7C373FD6
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

Dear all

I am really confused by the following part in RFC_3261. Could you please
help us to explain it? Thank you very much.
"
13.2.1 Creating the Initial INVITE
.
.
.
      o  If the initial offer is in an INVITE, the answer MUST be in a
         reliable non-failure message from UAS back to UAC which is
         correlated to that INVITE.  For this specification, that is
         only the final 2xx response to that INVITE.  That same exact
         answer MAY also be placed in any provisional responses sent
         prior to the answer.  The UAC MUST treat the first session
         description it receives as the answer, and MUST ignore any
         session descriptions in subsequent responses to the initial
         INVITE.
.
.
."

Let's break it into 2 parts, in part 1,=20
         "If the initial offer is in an INVITE, the answer MUST be in a
         reliable non-failure message from UAS back to UAC which is
         correlated to that INVITE.  For this specification, that is
         only the final 2xx response to that INVITE. "
Does that mean if "Invite" contains SDP offer, "200 OK" MUST contain SDP
answer.

In part 2,
         "That same exact answer MAY also be placed in any provisional
responses sent
         prior to the answer.  The UAC MUST treat the first session
         description it receives as the answer, and MUST ignore any
         session descriptions in subsequent responses to the initial
         INVITE."
Does that mean if "Invite" contains SDP offer, the answer SDP MAY be in
"180 ring" and not in "200 OK"? I think part 1 and part 2 are
inconsistent.

The attached sequence chart is the real problem we meet. Sx1 sends "bye"
to sx2 after the "200 OK" because there is no SDP answer in "200 OK".
But the producer of sx2 argues that the SDP answer is in "180 ring"
already. No need to repeat it in "200 OK". Could you please tell me who
is right? MUST 200 OK contain SDP? Thank you very much.



Sx1                              xs2
   =3D=3D=3D=3D1   invite(SDP)    =3D=3D=3D=3D>=20
  <=3D=3D=3D=3D2   100 trying     =3D=3D=3D=3D
  <=3D=3D=3D=3D3   180 ringing(SDP)=3D=3D=3D=3D=20
   =3D=3D=3D=3D4   prack          =3D=3D=3D=3D>=20
  <=3D=3D=3D=3D5   200 ack        =3D=3D=3D=3D>=20
  <=3D=3D=3D=3D6   200 OK (no SDP)=3D=3D=3D=3D>
	=09
Best Regards
Yuantao Zhang


------_=_NextPart_001_01C8BBE9.7C373FD6
Content-Type: text/html;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV=3D"Content-Type" CONTENT=3D"text/html; =
charset=3Dus-ascii">
<META NAME=3D"Generator" CONTENT=3D"MS Exchange Server version =
6.5.7652.24">
<TITLE>MUST 200 OK contain SDP? Thanks</TITLE>
</HEAD>
<BODY>
<!-- Converted from text/rtf format -->

<P DIR=3DLTR><SPAN LANG=3D"en-us"></SPAN><SPAN LANG=3D"en-us"><FONT =
SIZE=3D2 FACE=3D"Arial">Dear all</FONT></SPAN></P>

<P DIR=3DLTR><SPAN LANG=3D"en-us"></SPAN><SPAN LANG=3D"en-us"><FONT =
SIZE=3D2 FACE=3D"Arial">I am</FONT> <FONT SIZE=3D2 FACE=3D"Arial">really =
confused by the following part in RFC_3261. Could you please help us to =
explain it? Thank you very much.</FONT></SPAN></P>

<P DIR=3DLTR><SPAN LANG=3D"en-us"></SPAN><SPAN LANG=3D"en-us"><FONT =
SIZE=3D2 FACE=3D"Arial">&#8220;</FONT></SPAN></P>

<P DIR=3DLTR><SPAN LANG=3D"en-us"><FONT SIZE=3D2 FACE=3D"Arial">13.2.1 =
Creating the Initial INVITE</FONT></SPAN></P>

<P DIR=3DLTR><SPAN LANG=3D"en-us"><FONT SIZE=3D2 =
FACE=3D"Arial">.</FONT></SPAN></P>

<P DIR=3DLTR><SPAN LANG=3D"en-us"><FONT SIZE=3D2 =
FACE=3D"Arial">.</FONT></SPAN></P>

<P DIR=3DLTR><SPAN LANG=3D"en-us"><FONT SIZE=3D2 =
FACE=3D"Arial">.</FONT></SPAN></P>

<P DIR=3DLTR><SPAN LANG=3D"en-us"></SPAN><SPAN LANG=3D"en-us"><FONT =
COLOR=3D"#3366FF" SIZE=3D2 FACE=3D"Arial">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
o&nbsp; If the initial offer is in an INVITE, the answer MUST =
b</FONT><FONT COLOR=3D"#3366FF" SIZE=3D2 FACE=3D"Arial">e in =
a</FONT></SPAN></P>

<P DIR=3DLTR><SPAN LANG=3D"en-us"><FONT COLOR=3D"#3366FF" SIZE=3D2 =
FACE=3D"Arial">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; reliable =
non-failure message from UAS back to UAC which is</FONT></SPAN></P>

<P DIR=3DLTR><SPAN LANG=3D"en-us"><FONT COLOR=3D"#3366FF" SIZE=3D2 =
FACE=3D"Arial">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
correlated to that INVITE.&nbsp; For this specification, that =
is</FONT></SPAN></P>

<P DIR=3DLTR><SPAN LANG=3D"en-us"><FONT COLOR=3D"#3366FF" SIZE=3D2 =
FACE=3D"Arial">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; only the =
final 2xx response to that INVITE.</FONT></SPAN><SPAN =
LANG=3D"en-us"></SPAN><SPAN LANG=3D"en-us"><FONT SIZE=3D2 =
FACE=3D"Arial">&nbsp;</FONT></SPAN><SPAN LANG=3D"en-us"></SPAN><SPAN =
LANG=3D"en-us"> <FONT COLOR=3D"#FF0000" SIZE=3D2 FACE=3D"Arial">That =
same exact</FONT></SPAN></P>

<P DIR=3DLTR><SPAN LANG=3D"en-us"><FONT COLOR=3D"#FF0000" SIZE=3D2 =
FACE=3D"Arial">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; answer =
MAY also be placed in any</FONT> <FONT COLOR=3D"#FF0000" SIZE=3D2 =
FACE=3D"Arial">provisional responses sent</FONT></SPAN></P>

<P DIR=3DLTR><SPAN LANG=3D"en-us"><FONT COLOR=3D"#FF0000" SIZE=3D2 =
FACE=3D"Arial">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; prior to =
the answer.&nbsp; The UAC MUST treat the first session</FONT></SPAN></P>

<P DIR=3DLTR><SPAN LANG=3D"en-us"><FONT COLOR=3D"#FF0000" SIZE=3D2 =
FACE=3D"Arial">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
description it receives as the answer, and MUST ignore =
any</FONT></SPAN></P>

<P DIR=3DLTR><SPAN LANG=3D"en-us"><FONT COLOR=3D"#FF0000" SIZE=3D2 =
FACE=3D"Arial">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; session =
descriptions in subsequent responses to the initial</FONT></SPAN></P>

<P DIR=3DLTR><SPAN LANG=3D"en-us"><FONT COLOR=3D"#FF0000" SIZE=3D2 =
FACE=3D"Arial">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
INVITE.</FONT></SPAN></P>

<P DIR=3DLTR><SPAN LANG=3D"en-us"></SPAN><SPAN LANG=3D"en-us"><FONT =
SIZE=3D2 FACE=3D"Arial">.</FONT></SPAN></P>

<P DIR=3DLTR><SPAN LANG=3D"en-us"><FONT SIZE=3D2 =
FACE=3D"Arial">.</FONT></SPAN></P>

<P DIR=3DLTR><SPAN LANG=3D"en-us"><FONT SIZE=3D2 =
FACE=3D"Arial">.&#8221;</FONT></SPAN></P>

<P DIR=3DLTR><SPAN LANG=3D"en-us"><FONT SIZE=3D2 =
FACE=3D"Arial">Let</FONT><FONT SIZE=3D2 =
FACE=3D"Arial">&#8217;</FONT><FONT SIZE=3D2 FACE=3D"Arial">s break it =
into 2 parts, in part 1, </FONT></SPAN></P>

<P DIR=3DLTR><SPAN LANG=3D"en-us"><FONT SIZE=3D2 =
FACE=3D"Arial">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
&#8220;</FONT></SPAN><SPAN LANG=3D"en-us"></SPAN><SPAN =
LANG=3D"en-us"><FONT COLOR=3D"#3366FF" SIZE=3D2 FACE=3D"Arial">If the =
initial offer is in an INVITE, the answer MUST be in a</FONT></SPAN></P>

<P DIR=3DLTR><SPAN LANG=3D"en-us"><FONT COLOR=3D"#3366FF" SIZE=3D2 =
FACE=3D"Arial">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; reliable =
non-failure message from UAS back to UAC which is</FONT></SPAN></P>

<P DIR=3DLTR><SPAN LANG=3D"en-us"><FONT COLOR=3D"#3366FF" SIZE=3D2 =
FACE=3D"Arial">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
correlated to that INVITE.&nbsp; For this specification, that =
is</FONT></SPAN></P>

<P DIR=3DLTR><SPAN LANG=3D"en-us"><FONT COLOR=3D"#3366FF" SIZE=3D2 =
FACE=3D"Arial">&nbsp;&nbsp;&nbsp;&nbsp;</FONT> <FONT COLOR=3D"#3366FF" =
SIZE=3D2 FACE=3D"Arial">&nbsp;&nbsp;&nbsp; only the final 2xx response =
to that INVITE.</FONT></SPAN><SPAN LANG=3D"en-us"></SPAN><SPAN =
LANG=3D"en-us"> <FONT SIZE=3D2 FACE=3D"Arial">&#8220;</FONT></SPAN></P>

<P DIR=3DLTR><SPAN LANG=3D"en-us"><FONT SIZE=3D2 FACE=3D"Arial">Does =
that mean if &#8220;</FONT><FONT SIZE=3D2 =
FACE=3D"Arial">Invite&#8221;</FONT><FONT SIZE=3D2 FACE=3D"Arial"> =
contains SDP offer, &#8220;</FONT><FONT SIZE=3D2 FACE=3D"Arial">200 =
OK&#8221;</FONT><FONT SIZE=3D2 FACE=3D"Arial"> MUST contain SDP =
answer.</FONT></SPAN></P>

<P DIR=3DLTR><SPAN LANG=3D"en-us"><FONT SIZE=3D2 FACE=3D"Arial">In part =
2,</FONT></SPAN></P>

<P DIR=3DLTR><SPAN LANG=3D"en-us"><FONT SIZE=3D2 =
FACE=3D"Arial">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
&#8220;</FONT></SPAN><SPAN LANG=3D"en-us"></SPAN><SPAN =
LANG=3D"en-us"><FONT COLOR=3D"#FF0000" SIZE=3D2 FACE=3D"Arial">That same =
exact answer MAY also be placed in any provisional responses =
sent</FONT></SPAN></P>

<P DIR=3DLTR><SPAN LANG=3D"en-us"><FONT COLOR=3D"#FF0000" SIZE=3D2 =
FACE=3D"Arial">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; prior to =
the answer.&nbsp; The UAC MUST treat the first session</FONT></SPAN></P>

<P DIR=3DLTR><SPAN LANG=3D"en-us"><FONT COLOR=3D"#FF0000" SIZE=3D2 =
FACE=3D"Arial">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
description it receives as the answer, and MUST ignore =
any</FONT></SPAN></P>

<P DIR=3DLTR><SPAN LANG=3D"en-us"><FONT COLOR=3D"#FF0000" SIZE=3D2 =
FACE=3D"Arial">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; session =
descriptions in subsequent responses to the initial</FONT></SPAN></P>

<P DIR=3DLTR><SPAN LANG=3D"en-us"><FONT COLOR=3D"#FF0000" SIZE=3D2 =
FACE=3D"Arial">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
INVITE.&#8221;</FONT></SPAN></P>

<P DIR=3DLTR><SPAN LANG=3D"en-us"></SPAN><SPAN LANG=3D"en-us"><FONT =
SIZE=3D2 FACE=3D"Arial">Does that mean if &#8220;</FONT><FONT SIZE=3D2 =
FACE=3D"Arial">Invite&#8221;</FONT><FONT SIZE=3D2 FACE=3D"Arial"> =
contai</FONT><FONT SIZE=3D2 FACE=3D"Arial">ns SDP offer, the answer SDP =
MAY be in &#8220;</FONT><FONT SIZE=3D2 FACE=3D"Arial">180 =
ring&#8221;</FONT><FONT SIZE=3D2 FACE=3D"Arial"> and not in =
&#8220;</FONT><FONT SIZE=3D2 FACE=3D"Arial">200 OK&#8221;</FONT><FONT =
SIZE=3D2 FACE=3D"Arial">? I think part 1 and part 2 are =
inconsistent.</FONT></SPAN></P>

<P DIR=3DLTR><SPAN LANG=3D"en-us"><FONT SIZE=3D2 FACE=3D"Arial">The =
attached sequence chart is the real problem we meet. Sx1 sends =
&#8220;</FONT><FONT SIZE=3D2 FACE=3D"Arial">bye&#8221;</FONT><FONT =
SIZE=3D2 FACE=3D"Arial"> to sx2 after the &#8220;</FONT><FONT SIZE=3D2 =
FACE=3D"Arial">200 OK&#8221;</FONT><FONT SIZE=3D2 FACE=3D"Arial"> =
because there is no SDP answer in &#8220;</FONT><FONT SIZE=3D2 =
FACE=3D"Arial">200 OK</FONT><FONT SIZE=3D2 =
FACE=3D"Arial">&#8221;</FONT><FONT SIZE=3D2 FACE=3D"Arial">. But the =
producer of sx2 argues that the SDP answer is in &#8220;</FONT><FONT =
SIZE=3D2 FACE=3D"Arial">180 ring&#8221;</FONT><FONT SIZE=3D2 =
FACE=3D"Arial"> already. No need to repeat it in &#8220;</FONT><FONT =
SIZE=3D2 FACE=3D"Arial">200 OK&#8221;</FONT><FONT SIZE=3D2 =
FACE=3D"Arial">. Could you please tell me who is right? MUST 200 OK =
contain SDP? Thank you very much.</FONT></SPAN></P>

<P DIR=3DLTR><SPAN LANG=3D"en-us"></SPAN><SPAN =
LANG=3D"en-us"></SPAN><SPAN LANG=3D"en-us"></SPAN><SPAN =
LANG=3D"en-us"></SPAN></P>

<P DIR=3DLTR><SPAN LANG=3D"en-us"></SPAN><SPAN =
LANG=3D"en-us"></SPAN></P>

<P DIR=3DLTR><SPAN LANG=3D"en-us"></SPAN><SPAN LANG=3D"en-us"><FONT =
SIZE=3D2 =
FACE=3D"Arial">Sx1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&=
nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&n=
bsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; xs2</FONT></SPAN></P>

<P DIR=3DLTR><SPAN LANG=3D"en-us"><FONT SIZE=3D2 =
FACE=3D"Arial">&nbsp;&nbsp; =3D=3D=3D=3D1&nbsp;&nbsp; =
invite(SDP)&nbsp;&nbsp;&nbsp; =3D=3D=3D=3D&gt; </FONT></SPAN></P>

<P DIR=3DLTR><SPAN LANG=3D"en-us"><FONT SIZE=3D2 FACE=3D"Arial">&nbsp; =
&lt;=3D=3D=3D=3D2&nbsp;&nbsp; 100 trying&nbsp;&nbsp;&nbsp;&nbsp; =
=3D=3D=3D=3D</FONT></SPAN></P>

<P DIR=3DLTR><SPAN LANG=3D"en-us"><FONT SIZE=3D2 FACE=3D"Arial">&nbsp; =
&lt;=3D=3D=3D=3D3&nbsp;&nbsp; 180 ringing(SDP)=3D=3D=3D=3D =
</FONT></SPAN></P>

<P DIR=3DLTR><SPAN LANG=3D"en-us"><FONT SIZE=3D2 =
FACE=3D"Arial">&nbsp;&nbsp; =3D=3D=3D=3D4&nbsp;&nbsp; =
prack&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
=3D=3D=3D=3D&gt; </FONT></SPAN></P>

<P DIR=3DLTR><SPAN LANG=3D"en-us"><FONT SIZE=3D2 FACE=3D"Arial">&nbsp; =
&lt;=3D=3D=3D=3D5&nbsp;&nbsp; 200 =
ack&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =3D=3D=3D=3D&gt; =
</FONT></SPAN></P>

<P DIR=3DLTR><SPAN LANG=3D"en-us"></SPAN><SPAN LANG=3D"en-us"><FONT =
SIZE=3D2 FACE=3D"Arial">&nbsp; &lt;=3D=3D=3D=3D6&nbsp;&nbsp; 200 OK (no =
SDP)=3D=3D=3D=3D&gt;</FONT></SPAN><SPAN LANG=3D"en-us"></SPAN><SPAN =
LANG=3D"en-us"></SPAN></P>
<UL DIR=3DLTR><UL DIR=3DLTR>
<P DIR=3DLTR><SPAN LANG=3D"en-us"></SPAN><SPAN =
LANG=3D"en-us"></SPAN><SPAN LANG=3D"en-us"></SPAN></P>
</UL></UL>
<P DIR=3DLTR><SPAN LANG=3D"en-us"></SPAN><SPAN =
LANG=3D"en-us"></SPAN><SPAN LANG=3D"en-us"></SPAN><SPAN =
LANG=3D"en-us"><FONT COLOR=3D"#000080" SIZE=3D2 FACE=3D"Arial">Best =
Reg</FONT><FONT COLOR=3D"#000080" SIZE=3D2 =
FACE=3D"Arial">ards</FONT></SPAN><SPAN =
LANG=3D"en-us"><B></B></SPAN><SPAN LANG=3D"en-us"><B></B></SPAN><B><SPAN =
LANG=3D"en-us"></SPAN></B></P>

<P DIR=3DLTR><SPAN LANG=3D"en-us"></SPAN><SPAN =
LANG=3D"en-us"></SPAN><SPAN LANG=3D"en-us"></SPAN><SPAN =
LANG=3D"en-us"><FONT COLOR=3D"#000080" SIZE=3D2 FACE=3D"Arial">Yuantao =
Zhang</FONT></SPAN></P>

<P DIR=3DLTR><SPAN LANG=3D"en-us"></SPAN></P>

</BODY>
</HTML>
------_=_NextPart_001_01C8BBE9.7C373FD6--

--===============1830965413==
Content-Type: text/plain; charset="us-ascii"
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip
--===============1830965413==--


From sip-bounces@ietf.org  Thu May 22 01:55:39 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 40F7628C273;
	Thu, 22 May 2008 01:55:39 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 3B04828C273
	for <sip@core3.amsl.com>; Thu, 22 May 2008 01:55:38 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -4.965
X-Spam-Level: 
X-Spam-Status: No, score=-4.965 tagged_above=-999 required=5
	tests=[AWL=-0.321, BAYES_00=-2.599, DEAR_SOMETHING=1.605,
	HELO_EQ_SE=0.35, RCVD_IN_DNSWL_MED=-4]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id azO2ZNYSatKU for <sip@core3.amsl.com>;
	Thu, 22 May 2008 01:55:37 -0700 (PDT)
Received: from mailgw4.ericsson.se (mailgw4.ericsson.se [193.180.251.62])
	by core3.amsl.com (Postfix) with ESMTP id 6906028C270
	for <sip@ietf.org>; Thu, 22 May 2008 01:55:37 -0700 (PDT)
Received: from mailgw4.ericsson.se (unknown [127.0.0.1])
	by mailgw4.ericsson.se (Symantec Mail Security) with ESMTP id
	CE3362036B for <sip@ietf.org>; Thu, 22 May 2008 10:55:42 +0200 (CEST)
X-AuditID: c1b4fb3e-b019cbb000004ec0-51-4835350e3476
Received: from esealmw128.eemea.ericsson.se (unknown [153.88.254.121])
	by mailgw4.ericsson.se (Symantec Mail Security) with ESMTP id
	BBFF1200A4 for <sip@ietf.org>; Thu, 22 May 2008 10:55:42 +0200 (CEST)
Received: from esealmw126.eemea.ericsson.se ([153.88.254.170]) by
	esealmw128.eemea.ericsson.se with Microsoft SMTPSVC(6.0.3790.1830); 
	Thu, 22 May 2008 10:55:42 +0200
Received: from emyklmw103.eapac.ericsson.se ([150.236.92.103]) by
	esealmw126.eemea.ericsson.se with Microsoft SMTPSVC(6.0.3790.1830); 
	Thu, 22 May 2008 10:55:41 +0200
Received: from ecnbjmw513.eapac.ericsson.se ([150.236.34.26]) by
	emyklmw103.eapac.ericsson.se with Microsoft SMTPSVC(6.0.3790.1830); 
	Thu, 22 May 2008 16:55:39 +0800
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Thu, 22 May 2008 16:55:37 +0800
Message-ID: <BAF5F619287DFA4F8BE069A8198CBBB201CA655D@ecnbjmw513.eapac.ericsson.se>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: What are heart beat messages in VOIP via SIP calls? Thanks
Thread-Index: Aci2SakGEerMadAGSxWo9UrPVWU8kAEz15vwAC30U6AAACpsQAAAQR9AAAVOnnAAAHH4wA==
From: "Yuantao Zhang" <yuantao.zhang@ericsson.com>
To: <sip@ietf.org>
X-OriginalArrivalTime: 22 May 2008 08:55:39.0365 (UTC)
	FILETIME=[9BAD2950:01C8BBE9]
X-Brightmail-Tracker: AAAAAA==
Subject: Re: [Sip] What are heart beat messages in VOIP via SIP calls? Thanks
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Archive: <https://www.ietf.org/mailman/private/sip>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Dear Sir or Madam

What are heart beat messages in VOIP via SIP calls? What is the
standard? Thanks

Steven
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu May 22 01:59:20 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id A8B473A6A05;
	Thu, 22 May 2008 01:59:20 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 1CE463A68DA
	for <sip@core3.amsl.com>; Thu, 22 May 2008 01:59:19 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.599
X-Spam-Level: 
X-Spam-Status: No, score=-2.599 tagged_above=-999 required=5
	tests=[BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id FIGiCNuCl+GL for <sip@core3.amsl.com>;
	Thu, 22 May 2008 01:59:18 -0700 (PDT)
Received: from fg-out-1718.google.com (fg-out-1718.google.com [72.14.220.154])
	by core3.amsl.com (Postfix) with ESMTP id A48563A6B12
	for <sip@ietf.org>; Thu, 22 May 2008 01:59:17 -0700 (PDT)
Received: by fg-out-1718.google.com with SMTP id d23so2715091fga.41
	for <sip@ietf.org>; Thu, 22 May 2008 01:59:23 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=gamma;
	h=domainkey-signature:received:received:message-id:date:from:to:subject:cc:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
	bh=PYHLYQt4w8sjls8vB+o26lI/zrUcdZUeR8VWsfKhqVY=;
	b=pqVo3xKOXTiYYUUtLCcFae1bap6nUxDNB1SGXjkuw3naLh59TV8j+Md0wJAcWzXHiv/g7hD5cJ17aHcN3UlwBAzAZqLAZYe8xyt3GUbq9FixgX/PVwFwFtWWKs5EtQBbrdtg9ds5a14sRybjeMUYJiCAl78kP368VpXVqtdSP24=
DomainKey-Signature: a=rsa-sha1; c=nofws; d=gmail.com; s=gamma;
	h=message-id:date:from:to:subject:cc:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
	b=adY/d3AjsNgFAQYcQDezUgFrZAnY09j3blvJyeZLN5Km4kLDaU681ig9cwdH992gfj5Ok2Rd+18U/HqXvNYv3sZzzzhoyhvJUkHlNyWawjpj9AiprYxWCa/nSRjwEaSf/1ae7QpbBnHvzjwsGaC2PCuXEsuNOuxv991Q1ZVTNrE=
Received: by 10.82.107.3 with SMTP id f3mr1417971buc.87.1211446763392;
	Thu, 22 May 2008 01:59:23 -0700 (PDT)
Received: by 10.82.147.11 with HTTP; Thu, 22 May 2008 01:59:23 -0700 (PDT)
Message-ID: <ac8baa2c0805220159y5ece2f7as58dadc294ff709df@mail.gmail.com>
Date: Thu, 22 May 2008 14:29:23 +0530
From: "Vikram Chhibber" <vikram.chhibber@gmail.com>
To: "Christer Holmberg" <christer.holmberg@ericsson.com>
In-Reply-To: <CA9998CD4A020D418654FCDEF4E707DF06435093@esealmw113.eemea.ericsson.se>
MIME-Version: 1.0
Content-Disposition: inline
References: <CA9998CD4A020D418654FCDEF4E707DF06435093@esealmw113.eemea.ericsson.se>
Cc: sip@ietf.org
Subject: Re: [Sip] Draft submission: draft-ietf-sip-199-00
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Archive: <https://www.ietf.org/mailman/private/sip>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Hi Christer,

Besides conveying the indication for terminated early dialog, this
response can also carry additional information of the reason of
termination as indicated by Warning, Reason or History-Info header
received in the final failure response from UAS to the forking proxy.

I think it is worth mentioning the rules of creating this 199 response
by forking proxy which includes preserving these headers from the
actual final failure response.

Earlier, all this information was lost as the forking proxy had to
suppress the final failure response and had to forward the most
appropriate final response back.

Thanks,
~Vikram

On Tue, May 20, 2008 at 6:36 PM, Christer Holmberg
<christer.holmberg@ericsson.com> wrote:
>
> Hi,
>
> I've submitted the first version of the SIP WG 199 draft.
>
> It can also be found at:
>
> http://users.piuha.net/cholmber/drafts/draft-ietf-sip-199-00.txt
>
> Regards,
>
> Christer
>
> _______________________________________________
> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
>
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu May 22 02:02:49 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 9D31128C270;
	Thu, 22 May 2008 02:02:48 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 4DD073A6ADB
	for <sip@core3.amsl.com>; Thu, 22 May 2008 02:02:44 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -5.785
X-Spam-Level: 
X-Spam-Status: No, score=-5.785 tagged_above=-999 required=5 tests=[AWL=0.463, 
	BAYES_00=-2.599, HELO_EQ_SE=0.35, HTML_MESSAGE=0.001,
	RCVD_IN_DNSWL_MED=-4]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id Lf-7f2tBGYdT for <sip@core3.amsl.com>;
	Thu, 22 May 2008 02:02:25 -0700 (PDT)
Received: from mailgw4.ericsson.se (mailgw4.ericsson.se [193.180.251.62])
	by core3.amsl.com (Postfix) with ESMTP id E2EEA28C27D
	for <sip@ietf.org>; Thu, 22 May 2008 02:02:24 -0700 (PDT)
Received: from mailgw4.ericsson.se (unknown [127.0.0.1])
	by mailgw4.ericsson.se (Symantec Mail Security) with ESMTP id
	1D0702046C for <sip@ietf.org>; Thu, 22 May 2008 11:02:24 +0200 (CEST)
X-AuditID: c1b4fb3e-ae198bb000004ec0-e1-4835369f06ba
Received: from esealmw126.eemea.ericsson.se (unknown [153.88.254.123])
	by mailgw4.ericsson.se (Symantec Mail Security) with ESMTP id
	E6D47204A5 for <sip@ietf.org>; Thu, 22 May 2008 11:02:23 +0200 (CEST)
Received: from esealmw113.eemea.ericsson.se ([153.88.200.4]) by
	esealmw126.eemea.ericsson.se with Microsoft SMTPSVC(6.0.3790.1830); 
	Thu, 22 May 2008 11:02:23 +0200
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Thu, 22 May 2008 11:02:22 +0200
Message-ID: <CA9998CD4A020D418654FCDEF4E707DF064E2D35@esealmw113.eemea.ericsson.se>
In-Reply-To: <BAF5F619287DFA4F8BE069A8198CBBB201CA6559@ecnbjmw513.eapac.ericsson.se>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] MUST 200 OK contain SDP? Thanks
thread-index: Aci7y8Ccu2ENUpcER8SVd+I4biihjwAHYouwAABEjdA=
References: <BAF5F619287DFA4F8BE069A8198CBBB201CA6559@ecnbjmw513.eapac.ericsson.se>
From: "Christer Holmberg" <christer.holmberg@ericsson.com>
To: "Yuantao Zhang" <yuantao.zhang@ericsson.com>,
	<sip@ietf.org>
X-OriginalArrivalTime: 22 May 2008 09:02:23.0734 (UTC)
	FILETIME=[8CB2F960:01C8BBEA]
X-Brightmail-Tracker: AAAAAA==
Subject: Re: [Sip] MUST 200 OK contain SDP? Thanks
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Archive: <https://www.ietf.org/mailman/private/sip>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: multipart/mixed; boundary="===============0093339409=="
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

This is a multi-part message in MIME format.

--===============0093339409==
Content-class: urn:content-classes:message
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C8BBEA.8C6E042A"

This is a multi-part message in MIME format.

------_=_NextPart_001_01C8BBEA.8C6E042A
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

Hi,
=20
Please take a look at the draft-ietf-sipping-sip-offeranswer draft.
=20
Regards,
=20
Christer

________________________________

From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On Behalf Of
Yuantao Zhang
Sent: 22. toukokuuta 2008 11:55
To: sip@ietf.org
Subject: [Sip] MUST 200 OK contain SDP? Thanks



Dear all

I am really confused by the following part in RFC_3261. Could you please
help us to explain it? Thank you very much.

"

13.2.1 Creating the Initial INVITE

.

.

.

      o  If the initial offer is in an INVITE, the answer MUST be in a

         reliable non-failure message from UAS back to UAC which is

         correlated to that INVITE.  For this specification, that is

         only the final 2xx response to that INVITE.  That same exact

         answer MAY also be placed in any provisional responses sent

         prior to the answer.  The UAC MUST treat the first session

         description it receives as the answer, and MUST ignore any

         session descriptions in subsequent responses to the initial

         INVITE.

.

.

."

Let's break it into 2 parts, in part 1,=20

         "If the initial offer is in an INVITE, the answer MUST be in a

         reliable non-failure message from UAS back to UAC which is

         correlated to that INVITE.  For this specification, that is

         only the final 2xx response to that INVITE. "

Does that mean if "Invite" contains SDP offer, "200 OK" MUST contain SDP
answer.

In part 2,

         "That same exact answer MAY also be placed in any provisional
responses sent

         prior to the answer.  The UAC MUST treat the first session

         description it receives as the answer, and MUST ignore any

         session descriptions in subsequent responses to the initial

         INVITE."

Does that mean if "Invite" contains SDP offer, the answer SDP MAY be in
"180 ring" and not in "200 OK"? I think part 1 and part 2 are
inconsistent.

The attached sequence chart is the real problem we meet. Sx1 sends "bye"
to sx2 after the "200 OK" because there is no SDP answer in "200 OK".
But the producer of sx2 argues that the SDP answer is in "180 ring"
already. No need to repeat it in "200 OK". Could you please tell me who
is right? MUST 200 OK contain SDP? Thank you very much.

Sx1                              xs2

   =3D=3D=3D=3D1   invite(SDP)    =3D=3D=3D=3D>=20

  <=3D=3D=3D=3D2   100 trying     =3D=3D=3D=3D

  <=3D=3D=3D=3D3   180 ringing(SDP)=3D=3D=3D=3D=20

   =3D=3D=3D=3D4   prack          =3D=3D=3D=3D>=20

  <=3D=3D=3D=3D5   200 ack        =3D=3D=3D=3D>=20

  <=3D=3D=3D=3D6   200 OK (no SDP)=3D=3D=3D=3D>

	=09

Best Regards

Yuantao Zhang


------_=_NextPart_001_01C8BBEA.8C6E042A
Content-Type: text/html;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML><HEAD><TITLE>MUST 200 OK contain SDP? Thanks</TITLE>
<META http-equiv=3DContent-Type content=3D"text/html; =
charset=3Dus-ascii">
<META content=3D"MSHTML 6.00.2800.1609" name=3DGENERATOR></HEAD>
<BODY>
<DIV><SPAN class=3D695030109-22052008><FONT face=3DArial color=3D#0000ff =

size=3D2>Hi,</FONT></SPAN></DIV>
<DIV><SPAN class=3D695030109-22052008><FONT face=3DArial color=3D#0000ff =

size=3D2></FONT></SPAN>&nbsp;</DIV>
<DIV><SPAN class=3D695030109-22052008><FONT face=3DArial color=3D#0000ff =
size=3D2>Please=20
take a look at the draft-ietf-sipping-sip-offeranswer =
draft.</FONT></SPAN></DIV>
<DIV><SPAN class=3D695030109-22052008><FONT face=3DArial color=3D#0000ff =

size=3D2></FONT></SPAN>&nbsp;</DIV>
<DIV><SPAN class=3D695030109-22052008><FONT face=3DArial color=3D#0000ff =

size=3D2>Regards,</FONT></SPAN></DIV>
<DIV><SPAN class=3D695030109-22052008><FONT face=3DArial color=3D#0000ff =

size=3D2></FONT></SPAN>&nbsp;</DIV>
<DIV><SPAN class=3D695030109-22052008><FONT face=3DArial color=3D#0000ff =

size=3D2>Christer</FONT></SPAN></DIV><BR>
<DIV class=3DOutlookMessageHeader lang=3Den-us dir=3Dltr align=3Dleft>
<HR tabIndex=3D-1>
<FONT face=3DTahoma size=3D2><B>From:</B> sip-bounces@ietf.org=20
[mailto:sip-bounces@ietf.org] <B>On Behalf Of </B>Yuantao =
Zhang<BR><B>Sent:</B>=20
22. toukokuuta 2008 11:55<BR><B>To:</B> sip@ietf.org<BR><B>Subject:</B> =
[Sip]=20
MUST 200 OK contain SDP? Thanks<BR></FONT><BR></DIV>
<DIV></DIV><!-- Converted from text/rtf format -->
<P dir=3Dltr><SPAN lang=3Den-us></SPAN><SPAN lang=3Den-us><FONT =
face=3DArial size=3D2>Dear=20
all</FONT></SPAN></P>
<P dir=3Dltr><SPAN lang=3Den-us></SPAN><SPAN lang=3Den-us><FONT =
face=3DArial size=3D2>I=20
am</FONT> <FONT face=3DArial size=3D2>really confused by the following =
part in=20
RFC_3261. Could you please help us to explain it? Thank you very=20
much.</FONT></SPAN></P>
<P dir=3Dltr><SPAN lang=3Den-us></SPAN><SPAN lang=3Den-us><FONT =
face=3DArial=20
size=3D2>&#8220;</FONT></SPAN></P>
<P dir=3Dltr><SPAN lang=3Den-us><FONT face=3DArial size=3D2>13.2.1 =
Creating the Initial=20
INVITE</FONT></SPAN></P>
<P dir=3Dltr><SPAN lang=3Den-us><FONT face=3DArial =
size=3D2>.</FONT></SPAN></P>
<P dir=3Dltr><SPAN lang=3Den-us><FONT face=3DArial =
size=3D2>.</FONT></SPAN></P>
<P dir=3Dltr><SPAN lang=3Den-us><FONT face=3DArial =
size=3D2>.</FONT></SPAN></P>
<P dir=3Dltr><SPAN lang=3Den-us></SPAN><SPAN lang=3Den-us><FONT =
face=3DArial=20
color=3D#3366ff size=3D2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; o&nbsp; If the =
initial offer=20
is in an INVITE, the answer MUST b</FONT><FONT face=3DArial =
color=3D#3366ff size=3D2>e=20
in a</FONT></SPAN></P>
<P dir=3Dltr><SPAN lang=3Den-us><FONT face=3DArial color=3D#3366ff=20
size=3D2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; reliable =
non-failure=20
message from UAS back to UAC which is</FONT></SPAN></P>
<P dir=3Dltr><SPAN lang=3Den-us><FONT face=3DArial color=3D#3366ff=20
size=3D2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; correlated to =
that=20
INVITE.&nbsp; For this specification, that is</FONT></SPAN></P>
<P dir=3Dltr><SPAN lang=3Den-us><FONT face=3DArial color=3D#3366ff=20
size=3D2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; only the final =
2xx=20
response to that INVITE.</FONT></SPAN><SPAN lang=3Den-us></SPAN><SPAN=20
lang=3Den-us><FONT face=3DArial size=3D2>&nbsp;</FONT></SPAN><SPAN=20
lang=3Den-us></SPAN><SPAN lang=3Den-us> <FONT face=3DArial =
color=3D#ff0000 size=3D2>That=20
same exact</FONT></SPAN></P>
<P dir=3Dltr><SPAN lang=3Den-us><FONT face=3DArial color=3D#ff0000=20
size=3D2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; answer MAY =
also be=20
placed in any</FONT> <FONT face=3DArial color=3D#ff0000 =
size=3D2>provisional responses=20
sent</FONT></SPAN></P>
<P dir=3Dltr><SPAN lang=3Den-us><FONT face=3DArial color=3D#ff0000=20
size=3D2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; prior to the=20
answer.&nbsp; The UAC MUST treat the first session</FONT></SPAN></P>
<P dir=3Dltr><SPAN lang=3Den-us><FONT face=3DArial color=3D#ff0000=20
size=3D2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; description it =
receives=20
as the answer, and MUST ignore any</FONT></SPAN></P>
<P dir=3Dltr><SPAN lang=3Den-us><FONT face=3DArial color=3D#ff0000=20
size=3D2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; session =
descriptions in=20
subsequent responses to the initial</FONT></SPAN></P>
<P dir=3Dltr><SPAN lang=3Den-us><FONT face=3DArial color=3D#ff0000=20
size=3D2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=20
INVITE.</FONT></SPAN></P>
<P dir=3Dltr><SPAN lang=3Den-us></SPAN><SPAN lang=3Den-us><FONT =
face=3DArial=20
size=3D2>.</FONT></SPAN></P>
<P dir=3Dltr><SPAN lang=3Den-us><FONT face=3DArial =
size=3D2>.</FONT></SPAN></P>
<P dir=3Dltr><SPAN lang=3Den-us><FONT face=3DArial =
size=3D2>.&#8221;</FONT></SPAN></P>
<P dir=3Dltr><SPAN lang=3Den-us><FONT face=3DArial =
size=3D2>Let</FONT><FONT face=3DArial=20
size=3D2>&#8217;</FONT><FONT face=3DArial size=3D2>s break it into 2 =
parts, in part 1,=20
</FONT></SPAN></P>
<P dir=3Dltr><SPAN lang=3Den-us><FONT face=3DArial=20
size=3D2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
&#8220;</FONT></SPAN><SPAN=20
lang=3Den-us></SPAN><SPAN lang=3Den-us><FONT face=3DArial =
color=3D#3366ff size=3D2>If the=20
initial offer is in an INVITE, the answer MUST be in a</FONT></SPAN></P>
<P dir=3Dltr><SPAN lang=3Den-us><FONT face=3DArial color=3D#3366ff=20
size=3D2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; reliable =
non-failure=20
message from UAS back to UAC which is</FONT></SPAN></P>
<P dir=3Dltr><SPAN lang=3Den-us><FONT face=3DArial color=3D#3366ff=20
size=3D2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; correlated to =
that=20
INVITE.&nbsp; For this specification, that is</FONT></SPAN></P>
<P dir=3Dltr><SPAN lang=3Den-us><FONT face=3DArial color=3D#3366ff=20
size=3D2>&nbsp;&nbsp;&nbsp;&nbsp;</FONT> <FONT face=3DArial =
color=3D#3366ff=20
size=3D2>&nbsp;&nbsp;&nbsp; only the final 2xx response to that=20
INVITE.</FONT></SPAN><SPAN lang=3Den-us></SPAN><SPAN lang=3Den-us> <FONT =
face=3DArial=20
size=3D2>&#8220;</FONT></SPAN></P>
<P dir=3Dltr><SPAN lang=3Den-us><FONT face=3DArial size=3D2>Does that =
mean if=20
&#8220;</FONT><FONT face=3DArial size=3D2>Invite&#8221;</FONT><FONT =
face=3DArial size=3D2> contains=20
SDP offer, &#8220;</FONT><FONT face=3DArial size=3D2>200 =
OK&#8221;</FONT><FONT face=3DArial=20
size=3D2> MUST contain SDP answer.</FONT></SPAN></P>
<P dir=3Dltr><SPAN lang=3Den-us><FONT face=3DArial size=3D2>In part =
2,</FONT></SPAN></P>
<P dir=3Dltr><SPAN lang=3Den-us><FONT face=3DArial=20
size=3D2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
&#8220;</FONT></SPAN><SPAN=20
lang=3Den-us></SPAN><SPAN lang=3Den-us><FONT face=3DArial =
color=3D#ff0000 size=3D2>That=20
same exact answer MAY also be placed in any provisional responses=20
sent</FONT></SPAN></P>
<P dir=3Dltr><SPAN lang=3Den-us><FONT face=3DArial color=3D#ff0000=20
size=3D2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; prior to the=20
answer.&nbsp; The UAC MUST treat the first session</FONT></SPAN></P>
<P dir=3Dltr><SPAN lang=3Den-us><FONT face=3DArial color=3D#ff0000=20
size=3D2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; description it =
receives=20
as the answer, and MUST ignore any</FONT></SPAN></P>
<P dir=3Dltr><SPAN lang=3Den-us><FONT face=3DArial color=3D#ff0000=20
size=3D2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; session =
descriptions in=20
subsequent responses to the initial</FONT></SPAN></P>
<P dir=3Dltr><SPAN lang=3Den-us><FONT face=3DArial color=3D#ff0000=20
size=3D2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=20
INVITE.&#8221;</FONT></SPAN></P>
<P dir=3Dltr><SPAN lang=3Den-us></SPAN><SPAN lang=3Den-us><FONT =
face=3DArial size=3D2>Does=20
that mean if &#8220;</FONT><FONT face=3DArial =
size=3D2>Invite&#8221;</FONT><FONT face=3DArial=20
size=3D2> contai</FONT><FONT face=3DArial size=3D2>ns SDP offer, the =
answer SDP MAY be=20
in &#8220;</FONT><FONT face=3DArial size=3D2>180 ring&#8221;</FONT><FONT =
face=3DArial size=3D2> and=20
not in &#8220;</FONT><FONT face=3DArial size=3D2>200 =
OK&#8221;</FONT><FONT face=3DArial size=3D2>? I=20
think part 1 and part 2 are inconsistent.</FONT></SPAN></P>
<P dir=3Dltr><SPAN lang=3Den-us><FONT face=3DArial size=3D2>The attached =
sequence chart=20
is the real problem we meet. Sx1 sends &#8220;</FONT><FONT face=3DArial=20
size=3D2>bye&#8221;</FONT><FONT face=3DArial size=3D2> to sx2 after the =
&#8220;</FONT><FONT=20
face=3DArial size=3D2>200 OK&#8221;</FONT><FONT face=3DArial size=3D2> =
because there is no SDP=20
answer in &#8220;</FONT><FONT face=3DArial size=3D2>200 OK</FONT><FONT =
face=3DArial=20
size=3D2>&#8221;</FONT><FONT face=3DArial size=3D2>. But the producer of =
sx2 argues that the=20
SDP answer is in &#8220;</FONT><FONT face=3DArial size=3D2>180 =
ring&#8221;</FONT><FONT=20
face=3DArial size=3D2> already. No need to repeat it in =
&#8220;</FONT><FONT face=3DArial=20
size=3D2>200 OK&#8221;</FONT><FONT face=3DArial size=3D2>. Could you =
please tell me who is=20
right? MUST 200 OK contain SDP? Thank you very much.</FONT></SPAN></P>
<P dir=3Dltr><SPAN lang=3Den-us></SPAN><SPAN lang=3Den-us></SPAN><SPAN=20
lang=3Den-us></SPAN><SPAN lang=3Den-us></SPAN></P>
<P dir=3Dltr><SPAN lang=3Den-us></SPAN><SPAN lang=3Den-us></SPAN></P>
<P dir=3Dltr><SPAN lang=3Den-us></SPAN><SPAN lang=3Den-us><FONT =
face=3DArial=20
size=3D2>Sx1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&=
nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&n=
bsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=20
xs2</FONT></SPAN></P>
<P dir=3Dltr><SPAN lang=3Den-us><FONT face=3DArial size=3D2>&nbsp;&nbsp; =

=3D=3D=3D=3D1&nbsp;&nbsp; invite(SDP)&nbsp;&nbsp;&nbsp; =3D=3D=3D=3D&gt; =
</FONT></SPAN></P>
<P dir=3Dltr><SPAN lang=3Den-us><FONT face=3DArial size=3D2>&nbsp; =
&lt;=3D=3D=3D=3D2&nbsp;&nbsp;=20
100 trying&nbsp;&nbsp;&nbsp;&nbsp; =3D=3D=3D=3D</FONT></SPAN></P>
<P dir=3Dltr><SPAN lang=3Den-us><FONT face=3DArial size=3D2>&nbsp; =
&lt;=3D=3D=3D=3D3&nbsp;&nbsp;=20
180 ringing(SDP)=3D=3D=3D=3D </FONT></SPAN></P>
<P dir=3Dltr><SPAN lang=3Den-us><FONT face=3DArial size=3D2>&nbsp;&nbsp; =

=3D=3D=3D=3D4&nbsp;&nbsp; =
prack&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=20
=3D=3D=3D=3D&gt; </FONT></SPAN></P>
<P dir=3Dltr><SPAN lang=3Den-us><FONT face=3DArial size=3D2>&nbsp; =
&lt;=3D=3D=3D=3D5&nbsp;&nbsp;=20
200 ack&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =3D=3D=3D=3D&gt; =
</FONT></SPAN></P>
<P dir=3Dltr><SPAN lang=3Den-us></SPAN><SPAN lang=3Den-us><FONT =
face=3DArial=20
size=3D2>&nbsp; &lt;=3D=3D=3D=3D6&nbsp;&nbsp; 200 OK (no =
SDP)=3D=3D=3D=3D&gt;</FONT></SPAN><SPAN=20
lang=3Den-us></SPAN><SPAN lang=3Den-us></SPAN></P>
<UL dir=3Dltr>
  <UL dir=3Dltr>
    <P dir=3Dltr><SPAN lang=3Den-us></SPAN><SPAN =
lang=3Den-us></SPAN><SPAN=20
    lang=3Den-us></SPAN></P></UL></UL>
<P dir=3Dltr><SPAN lang=3Den-us></SPAN><SPAN lang=3Den-us></SPAN><SPAN=20
lang=3Den-us></SPAN><SPAN lang=3Den-us><FONT face=3DArial =
color=3D#000080 size=3D2>Best=20
Reg</FONT><FONT face=3DArial color=3D#000080 =
size=3D2>ards</FONT></SPAN><SPAN=20
lang=3Den-us><B></B></SPAN><SPAN lang=3Den-us><B></B></SPAN><B><SPAN=20
lang=3Den-us></SPAN></B></P>
<P dir=3Dltr><SPAN lang=3Den-us></SPAN><SPAN lang=3Den-us></SPAN><SPAN=20
lang=3Den-us></SPAN><SPAN lang=3Den-us><FONT face=3DArial =
color=3D#000080 size=3D2>Yuantao=20
Zhang</FONT></SPAN></P>
<P dir=3Dltr><SPAN lang=3Den-us></SPAN></P></BODY></HTML>

------_=_NextPart_001_01C8BBEA.8C6E042A--

--===============0093339409==
Content-Type: text/plain; charset="us-ascii"
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip
--===============0093339409==--


From sip-bounces@ietf.org  Thu May 22 02:14:25 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 384743A6B06;
	Thu, 22 May 2008 02:14:25 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 714E73A6AD9
	for <sip@core3.amsl.com>; Thu, 22 May 2008 02:14:23 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -5.863
X-Spam-Level: 
X-Spam-Status: No, score=-5.863 tagged_above=-999 required=5 tests=[AWL=0.386, 
	BAYES_00=-2.599, HELO_EQ_SE=0.35, RCVD_IN_DNSWL_MED=-4]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id Lit72grqUlh5 for <sip@core3.amsl.com>;
	Thu, 22 May 2008 02:14:22 -0700 (PDT)
Received: from mailgw3.ericsson.se (mailgw3.ericsson.se [193.180.251.60])
	by core3.amsl.com (Postfix) with ESMTP id 1CF4B3A6B12
	for <sip@ietf.org>; Thu, 22 May 2008 02:14:22 -0700 (PDT)
Received: from mailgw3.ericsson.se (unknown [127.0.0.1])
	by mailgw3.ericsson.se (Symantec Mail Security) with ESMTP id
	70F2220CA8; Thu, 22 May 2008 11:14:27 +0200 (CEST)
X-AuditID: c1b4fb3c-ad89abb00000193b-16-483539733092
Received: from esealmw128.eemea.ericsson.se (unknown [153.88.254.121])
	by mailgw3.ericsson.se (Symantec Mail Security) with ESMTP id
	5178520627; Thu, 22 May 2008 11:14:27 +0200 (CEST)
Received: from esealmw113.eemea.ericsson.se ([153.88.200.4]) by
	esealmw128.eemea.ericsson.se with Microsoft SMTPSVC(6.0.3790.1830); 
	Thu, 22 May 2008 11:14:27 +0200
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Thu, 22 May 2008 11:14:26 +0200
Message-ID: <CA9998CD4A020D418654FCDEF4E707DF064E2DF1@esealmw113.eemea.ericsson.se>
In-Reply-To: <ac8baa2c0805220159y5ece2f7as58dadc294ff709df@mail.gmail.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] Draft submission: draft-ietf-sip-199-00
thread-index: Aci76iJJxAS6PaIQS3epjiFbswCezAAAMDVg
References: <CA9998CD4A020D418654FCDEF4E707DF06435093@esealmw113.eemea.ericsson.se>
	<ac8baa2c0805220159y5ece2f7as58dadc294ff709df@mail.gmail.com>
From: "Christer Holmberg" <christer.holmberg@ericsson.com>
To: "Vikram Chhibber" <vikram.chhibber@gmail.com>
X-OriginalArrivalTime: 22 May 2008 09:14:27.0158 (UTC)
	FILETIME=[3BE4B760:01C8BBEC]
X-Brightmail-Tracker: AAAAAA==
Cc: sip@ietf.org
Subject: Re: [Sip] Draft submission: draft-ietf-sip-199-00
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Archive: <https://www.ietf.org/mailman/private/sip>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


Hi, 

>Besides conveying the indication for terminated early dialog, this
response can also carry additional information of the 
>reason of termination as indicated by Warning, Reason or History-Info
header received in the final failure response from 
>UAS to the forking proxy.
>
>I think it is worth mentioning the rules of creating this 199 response
by forking proxy which includes preserving these 
>headers from the actual final failure response.

We need to be a little careful here. 

There were long discussions on what the scope of this draft was going to
be: simply to indicate that an early dialog has been terminated, or to
go further and solve the whole so called HERPF problem. The agreement
was that the scope is to indicate than an early dialog has been
terminated.

Now, the draft DOES say the following:

"The UAC MAY use additional information (for example the final response
which triggered the 199 response) received in the 199 response when
initiating new sessions, if it is possible to avoid the new session
initation request to be rejected."

So, that doesn't forbid sending of header information etc, but I am not
sure that we want to start specifying rules about that - at least not in
this draft.

>Earlier, all this information was lost as the forking proxy had to
suppress the final failure response and had to forward 
>the most appropriate final response back.

I agree. But, again, the question is whether that is within the scope of
the draft or not.

Regards,

Christer




>
> Hi,
>
> I've submitted the first version of the SIP WG 199 draft.
>
> It can also be found at:
>
> http://users.piuha.net/cholmber/drafts/draft-ietf-sip-199-00.txt
>
> Regards,
>
> Christer
>
> _______________________________________________
> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol Use 
> sip-implementors@cs.columbia.edu for questions on current sip Use 
> sipping@ietf.org for new developments on the application of sip
>
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu May 22 02:58:04 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id A3B9B28C15D;
	Thu, 22 May 2008 02:58:04 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id EE1D028C23A
	for <sip@core3.amsl.com>; Thu, 22 May 2008 02:58:02 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.647
X-Spam-Level: 
X-Spam-Status: No, score=-2.647 tagged_above=-999 required=5
	tests=[AWL=-0.652, BAYES_00=-2.599, DEAR_SOMETHING=1.605,
	RCVD_IN_DNSWL_LOW=-1]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id DLViDqihro6O for <sip@core3.amsl.com>;
	Thu, 22 May 2008 02:58:02 -0700 (PDT)
Received: from cluster-f.mailcontrol.com (cluster-f.mailcontrol.com
	[85.119.2.190]) by core3.amsl.com (Postfix) with ESMTP id EC54A28C15D
	for <sip@ietf.org>; Thu, 22 May 2008 02:58:01 -0700 (PDT)
Received: from rly34f.srv.mailcontrol.com (localhost.localdomain [127.0.0.1])
	by rly34f.srv.mailcontrol.com (MailControl) with ESMTP id
	m4M9vwxs009819 for <sip@ietf.org>; Thu, 22 May 2008 10:57:59 +0100
Received: from submission.mailcontrol.com (submission.mailcontrol.com
	[86.111.216.190])
	by rly34f.srv.mailcontrol.com (MailControl) id m4M9vfeT008704
	for sip@ietf.org; Thu, 22 May 2008 10:57:41 +0100
Received: from exsmtp01.nasstar-t1.net (exsmtp01.nasstar-t1.net [89.28.233.12])
	by rly34f-eth0.srv.mailcontrol.com (envelope-sender
	attila.sipos@vegastream.com) (MIMEDefang) with ESMTP id
	m4M9us2r004823; Thu, 22 May 2008 10:57:41 +0100 (BST)
Received: from EXVS02.nasstar-t1.net ([10.2.10.104]) by
	exsmtp01.nasstar-t1.net with Microsoft SMTPSVC(6.0.3790.1830); 
	Thu, 22 May 2008 10:58:41 +0100
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Thu, 22 May 2008 10:57:31 +0100
Message-ID: <680808427CF931459462C3D78CB5EC6002274B74@EXVS02.nasstar-t1.net>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] What are heart beat messages in VOIP via SIP calls? Thanks
Thread-Index: Aci2SakGEerMadAGSxWo9UrPVWU8kAEz15vwAC30U6AAACpsQAAAQR9AAAVOnnAAAHH4wAACJi6w
From: "Attila Sipos" <attila.sipos@vegastream.com>
To: "Yuantao Zhang" <yuantao.zhang@ericsson.com>, <sip@ietf.org>
X-OriginalArrivalTime: 22 May 2008 09:58:41.0966 (UTC)
	FILETIME=[6A4844E0:01C8BBF2]
X-Scanned-By: MailControl A-08-50-03 (www.mailcontrol.com) on 10.70.1.144
Subject: Re: [Sip] What are heart beat messages in VOIP via SIP calls? Thanks
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Archive: <https://www.ietf.org/mailman/private/sip>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

This might help...
http://www.ietf.org/rfc/rfc4028.txt

 

-----Original Message-----
From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On Behalf Of
Yuantao Zhang
Sent: 22 May 2008 09:56
To: sip@ietf.org
Subject: Re: [Sip] What are heart beat messages in VOIP via SIP calls?
Thanks

Dear Sir or Madam

What are heart beat messages in VOIP via SIP calls? What is the
standard? Thanks

Steven
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol Use
sip-implementors@cs.columbia.edu for questions on current sip Use
sipping@ietf.org for new developments on the application of sip
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu May 22 03:36:40 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 6EB6E3A697C;
	Thu, 22 May 2008 03:36:40 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 27B0A3A68A9
	for <sip@core3.amsl.com>; Thu, 22 May 2008 03:36:39 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.598
X-Spam-Level: 
X-Spam-Status: No, score=-2.598 tagged_above=-999 required=5
	tests=[BAYES_00=-2.599, HTML_MESSAGE=0.001]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id v8jZnvscrIy6 for <sip@core3.amsl.com>;
	Thu, 22 May 2008 03:36:37 -0700 (PDT)
Received: from yw-out-2324.google.com (yw-out-2324.google.com [74.125.46.30])
	by core3.amsl.com (Postfix) with ESMTP id 31F403A6BAD
	for <sip@ietf.org>; Thu, 22 May 2008 03:36:04 -0700 (PDT)
Received: by yw-out-2324.google.com with SMTP id 3so1928141ywj.49
	for <sip@ietf.org>; Thu, 22 May 2008 03:36:10 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=gamma;
	h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
	bh=2BoI4zDCwo1s8HcZJTtVubzRq1Qg+IKzpF/7e4Rmr9o=;
	b=i+UgNkzFMzWwGHQYqLbXtjP9KJXM6nZXTQKHg/le6n9WZBMuxnUga0T5t1/yloks4z1DRXxZsDGMwmgGT6ttNSQZOKkrFRC4iXJtfU4Ql7CfYYXqWspQ16IaZ5RAaAJa3EubEPxjHUPICE6JtDupLsHLVFcea124fTvo57OfBqE=
DomainKey-Signature: a=rsa-sha1; c=nofws; d=gmail.com; s=gamma;
	h=message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
	b=OM117yn5ouwk5al661J22WdZ7iSibYd/jITKYfox0hyiqtOBUf9lkUjZnv/BORod5xxdnOPJNghI5hoLwvNqudEJjF7yJreHc3LojeU9uvxcpNtMqYVyWCBPjHHlzecDeQfBOcp4IRjr2IWhbUHWU1WLOQwxDSo9emfD7zi3roU=
Received: by 10.150.50.3 with SMTP id x3mr1743899ybx.33.1211452152399;
	Thu, 22 May 2008 03:29:12 -0700 (PDT)
Received: by 10.151.147.11 with HTTP; Thu, 22 May 2008 03:29:12 -0700 (PDT)
Message-ID: <1ac609990805220329o16ec77a2qfce51abe84afc63b@mail.gmail.com>
Date: Thu, 22 May 2008 15:59:12 +0530
From: "Aditya Sehgal" <adi.aquarian@gmail.com>
To: sip@ietf.org, yuantao.zhang@ericsson.com
In-Reply-To: <CA9998CD4A020D418654FCDEF4E707DF064E2D35@esealmw113.eemea.ericsson.se>
MIME-Version: 1.0
References: <BAF5F619287DFA4F8BE069A8198CBBB201CA6559@ecnbjmw513.eapac.ericsson.se>
	<CA9998CD4A020D418654FCDEF4E707DF064E2D35@esealmw113.eemea.ericsson.se>
Subject: Re: [Sip] MUST 200 OK contain SDP? Thanks
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Archive: <https://www.ietf.org/mailman/private/sip>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: multipart/mixed; boundary="===============0617274888=="
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

--===============0617274888==
Content-Type: multipart/alternative; 
	boundary="----=_Part_10615_3052781.1211452152423"

------=_Part_10615_3052781.1211452152423
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Hi,
180 can contain a SDP. However, not every message that contains an SDP is an
answer to the initial offer. 180 are un-reliable messages (without 100 rel
supported).

Anyways, there are far too many combinations to put here.
In short, if you support 100 rel (which based on your callflow you do), the
producer of sx2 is correct.
For a detailed analysis, please give heed to Christer's advice.

Thanks & Regards,
Aditya Sehgal

On Thu, May 22, 2008 at 2:32 PM, Christer Holmberg <
christer.holmberg@ericsson.com> wrote:

>  Hi,
>
> Please take a look at the draft-ietf-sipping-sip-offeranswer draft.
>
> Regards,
>
> Christer
>
>  ------------------------------
> *From:* sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] *On Behalf Of *Yuantao
> Zhang
> *Sent:* 22. toukokuuta 2008 11:55
> *To:* sip@ietf.org
> *Subject:* [Sip] MUST 200 OK contain SDP? Thanks
>
>  Dear all
>
> I am really confused by the following part in RFC_3261. Could you please
> help us to explain it? Thank you very much.
>
> "
>
> 13.2.1 Creating the Initial INVITE
>
> .
>
> .
>
> .
>
>       o  If the initial offer is in an INVITE, the answer MUST be in a
>
>          reliable non-failure message from UAS back to UAC which is
>
>          correlated to that INVITE.  For this specification, that is
>
>          only the final 2xx response to that INVITE.  That same exact
>
>          answer MAY also be placed in any provisional responses sent
>
>          prior to the answer.  The UAC MUST treat the first session
>
>          description it receives as the answer, and MUST ignore any
>
>          session descriptions in subsequent responses to the initial
>
>          INVITE.
>
> .
>
> .
>
> ."
>
> Let's break it into 2 parts, in part 1,
>
>          "If the initial offer is in an INVITE, the answer MUST be in a
>
>          reliable non-failure message from UAS back to UAC which is
>
>          correlated to that INVITE.  For this specification, that is
>
>          only the final 2xx response to that INVITE. "
>
> Does that mean if "Invite" contains SDP offer, "200 OK" MUST contain SDP
> answer.
>
> In part 2,
>
>          "That same exact answer MAY also be placed in any provisional
> responses sent
>
>          prior to the answer.  The UAC MUST treat the first session
>
>          description it receives as the answer, and MUST ignore any
>
>          session descriptions in subsequent responses to the initial
>
>          INVITE."
>
> Does that mean if "Invite" contains SDP offer, the answer SDP MAY be in "180
> ring" and not in "200 OK"? I think part 1 and part 2 are inconsistent.
>
> The attached sequence chart is the real problem we meet. Sx1 sends "bye"to sx2 after the "200
> OK" because there is no SDP answer in "200 OK". But the producer of sx2
> argues that the SDP answer is in "180 ring" already. No need to repeat it
> in "200 OK". Could you please tell me who is right? MUST 200 OK contain
> SDP? Thank you very much.
>
>  Sx1                              xs2
>
>    ====1   invite(SDP)    ====>
>
>   <====2   100 trying     ====
>
>   <====3   180 ringing(SDP)====
>
>    ====4   prack          ====>
>
>   <====5   200 ack        ====>
>
>   <====6   200 OK (no SDP)====>
>
>
> Best Regards******
>
> Yuantao Zhang
>
>
> _______________________________________________
> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
>



-- 
Don't take life too seriously....Nobody comes out alive anyway

------=_Part_10615_3052781.1211452152423
Content-Type: text/html; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Hi,<br>180 can contain a SDP. However, not every message that contains an SDP is an answer to the initial offer. 180 are un-reliable messages (without 100 rel supported). <br><br>Anyways, there are far too many combinations to put here. <br>
In short, if you support 100 rel (which based on your callflow you do), the producer of sx2 is correct.<br>For a detailed analysis, please give heed to Christer&#39;s advice.<br><br>Thanks &amp; Regards,<br>Aditya Sehgal<br>
<br><div class="gmail_quote">On Thu, May 22, 2008 at 2:32 PM, Christer Holmberg &lt;<a href="mailto:christer.holmberg@ericsson.com">christer.holmberg@ericsson.com</a>&gt; wrote:<br><blockquote class="gmail_quote" style="border-left: 1px solid rgb(204, 204, 204); margin: 0pt 0pt 0pt 0.8ex; padding-left: 1ex;">




<div>
<div><span><font color="#0000ff" face="Arial" size="2">Hi,</font></span></div>
<div><span><font color="#0000ff" face="Arial" size="2"></font></span>&nbsp;</div>
<div><span><font color="#0000ff" face="Arial" size="2">Please 
take a look at the draft-ietf-sipping-sip-offeranswer draft.</font></span></div>
<div><span><font color="#0000ff" face="Arial" size="2"></font></span>&nbsp;</div>
<div><span><font color="#0000ff" face="Arial" size="2">Regards,</font></span></div>
<div><span><font color="#0000ff" face="Arial" size="2"></font></span>&nbsp;</div>
<div><span><font color="#0000ff" face="Arial" size="2">Christer</font></span></div><br>
<div dir="ltr" align="left" lang="en-us">
<hr>
<font face="Tahoma" size="2"><b>From:</b> <a href="mailto:sip-bounces@ietf.org" target="_blank">sip-bounces@ietf.org</a> 
[mailto:<a href="mailto:sip-bounces@ietf.org" target="_blank">sip-bounces@ietf.org</a>] <b>On Behalf Of </b>Yuantao Zhang<br><b>Sent:</b> 
22. toukokuuta 2008 11:55<br><b>To:</b> <a href="mailto:sip@ietf.org" target="_blank">sip@ietf.org</a><br><b>Subject:</b> [Sip] 
MUST 200 OK contain SDP? Thanks<br></font><br></div><div><div></div><div class="Wj3C7c">
<div></div>
<p dir="ltr"><span lang="en-us"></span><span lang="en-us"><font face="Arial" size="2">Dear 
all</font></span></p>
<p dir="ltr"><span lang="en-us"></span><span lang="en-us"><font face="Arial" size="2">I 
am</font> <font face="Arial" size="2">really confused by the following part in 
RFC_3261. Could you please help us to explain it? Thank you very 
much.</font></span></p>
<p dir="ltr"><span lang="en-us"></span><span lang="en-us"><font face="Arial" size="2">"</font></span></p>
<p dir="ltr"><span lang="en-us"><font face="Arial" size="2">13.2.1 Creating the Initial 
INVITE</font></span></p>
<p dir="ltr"><span lang="en-us"><font face="Arial" size="2">.</font></span></p>
<p dir="ltr"><span lang="en-us"><font face="Arial" size="2">.</font></span></p>
<p dir="ltr"><span lang="en-us"><font face="Arial" size="2">.</font></span></p>
<p dir="ltr"><span lang="en-us"></span><span lang="en-us"><font color="#3366ff" face="Arial" size="2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; o&nbsp; If the initial offer 
is in an INVITE, the answer MUST b</font><font color="#3366ff" face="Arial" size="2">e 
in a</font></span></p>
<p dir="ltr"><span lang="en-us"><font color="#3366ff" face="Arial" size="2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; reliable non-failure 
message from UAS back to UAC which is</font></span></p>
<p dir="ltr"><span lang="en-us"><font color="#3366ff" face="Arial" size="2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; correlated to that 
INVITE.&nbsp; For this specification, that is</font></span></p>
<p dir="ltr"><span lang="en-us"><font color="#3366ff" face="Arial" size="2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; only the final 2xx 
response to that INVITE.</font></span><span lang="en-us"></span><span lang="en-us"><font face="Arial" size="2">&nbsp;</font></span><span lang="en-us"></span><span lang="en-us"> <font color="#ff0000" face="Arial" size="2">That 
same exact</font></span></p>
<p dir="ltr"><span lang="en-us"><font color="#ff0000" face="Arial" size="2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; answer MAY also be 
placed in any</font> <font color="#ff0000" face="Arial" size="2">provisional responses 
sent</font></span></p>
<p dir="ltr"><span lang="en-us"><font color="#ff0000" face="Arial" size="2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; prior to the 
answer.&nbsp; The UAC MUST treat the first session</font></span></p>
<p dir="ltr"><span lang="en-us"><font color="#ff0000" face="Arial" size="2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; description it receives 
as the answer, and MUST ignore any</font></span></p>
<p dir="ltr"><span lang="en-us"><font color="#ff0000" face="Arial" size="2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; session descriptions in 
subsequent responses to the initial</font></span></p>
<p dir="ltr"><span lang="en-us"><font color="#ff0000" face="Arial" size="2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
INVITE.</font></span></p>
<p dir="ltr"><span lang="en-us"></span><span lang="en-us"><font face="Arial" size="2">.</font></span></p>
<p dir="ltr"><span lang="en-us"><font face="Arial" size="2">.</font></span></p>
<p dir="ltr"><span lang="en-us"><font face="Arial" size="2">."</font></span></p>
<p dir="ltr"><span lang="en-us"><font face="Arial" size="2">Let</font><font face="Arial" size="2">'</font><font face="Arial" size="2">s break it into 2 parts, in part 1, 
</font></span></p>
<p dir="ltr"><span lang="en-us"><font face="Arial" size="2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "</font></span><span lang="en-us"></span><span lang="en-us"><font color="#3366ff" face="Arial" size="2">If the 
initial offer is in an INVITE, the answer MUST be in a</font></span></p>
<p dir="ltr"><span lang="en-us"><font color="#3366ff" face="Arial" size="2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; reliable non-failure 
message from UAS back to UAC which is</font></span></p>
<p dir="ltr"><span lang="en-us"><font color="#3366ff" face="Arial" size="2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; correlated to that 
INVITE.&nbsp; For this specification, that is</font></span></p>
<p dir="ltr"><span lang="en-us"><font color="#3366ff" face="Arial" size="2">&nbsp;&nbsp;&nbsp;&nbsp;</font> <font color="#3366ff" face="Arial" size="2">&nbsp;&nbsp;&nbsp; only the final 2xx response to that 
INVITE.</font></span><span lang="en-us"></span><span lang="en-us"> <font face="Arial" size="2">"</font></span></p>
<p dir="ltr"><span lang="en-us"><font face="Arial" size="2">Does that mean if 
"</font><font face="Arial" size="2">Invite"</font><font face="Arial" size="2"> contains 
SDP offer, "</font><font face="Arial" size="2">200 OK"</font><font face="Arial" size="2"> MUST contain SDP answer.</font></span></p>
<p dir="ltr"><span lang="en-us"><font face="Arial" size="2">In part 2,</font></span></p>
<p dir="ltr"><span lang="en-us"><font face="Arial" size="2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "</font></span><span lang="en-us"></span><span lang="en-us"><font color="#ff0000" face="Arial" size="2">That 
same exact answer MAY also be placed in any provisional responses 
sent</font></span></p>
<p dir="ltr"><span lang="en-us"><font color="#ff0000" face="Arial" size="2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; prior to the 
answer.&nbsp; The UAC MUST treat the first session</font></span></p>
<p dir="ltr"><span lang="en-us"><font color="#ff0000" face="Arial" size="2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; description it receives 
as the answer, and MUST ignore any</font></span></p>
<p dir="ltr"><span lang="en-us"><font color="#ff0000" face="Arial" size="2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; session descriptions in 
subsequent responses to the initial</font></span></p>
<p dir="ltr"><span lang="en-us"><font color="#ff0000" face="Arial" size="2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
INVITE."</font></span></p>
<p dir="ltr"><span lang="en-us"></span><span lang="en-us"><font face="Arial" size="2">Does 
that mean if "</font><font face="Arial" size="2">Invite"</font><font face="Arial" size="2"> contai</font><font face="Arial" size="2">ns SDP offer, the answer SDP MAY be 
in "</font><font face="Arial" size="2">180 ring"</font><font face="Arial" size="2"> and 
not in "</font><font face="Arial" size="2">200 OK"</font><font face="Arial" size="2">? I 
think part 1 and part 2 are inconsistent.</font></span></p>
<p dir="ltr"><span lang="en-us"><font face="Arial" size="2">The attached sequence chart 
is the real problem we meet. Sx1 sends "</font><font face="Arial" size="2">bye"</font><font face="Arial" size="2"> to sx2 after the "</font><font face="Arial" size="2">200 OK"</font><font face="Arial" size="2"> because there is no SDP 
answer in "</font><font face="Arial" size="2">200 OK</font><font face="Arial" size="2">"</font><font face="Arial" size="2">. But the producer of sx2 argues that the 
SDP answer is in "</font><font face="Arial" size="2">180 ring"</font><font face="Arial" size="2"> already. No need to repeat it in "</font><font face="Arial" size="2">200 OK"</font><font face="Arial" size="2">. Could you please tell me who is 
right? MUST 200 OK contain SDP? Thank you very much.</font></span></p>
<p dir="ltr"><span lang="en-us"></span><span lang="en-us"></span><span lang="en-us"></span><span lang="en-us"></span></p>
<p dir="ltr"><span lang="en-us"></span><span lang="en-us"></span></p>
<p dir="ltr"><span lang="en-us"></span><span lang="en-us"><font face="Arial" size="2">Sx1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
xs2</font></span></p>
<p dir="ltr"><span lang="en-us"><font face="Arial" size="2">&nbsp;&nbsp; 
====1&nbsp;&nbsp; invite(SDP)&nbsp;&nbsp;&nbsp; ====&gt; </font></span></p>
<p dir="ltr"><span lang="en-us"><font face="Arial" size="2">&nbsp; &lt;====2&nbsp;&nbsp; 
100 trying&nbsp;&nbsp;&nbsp;&nbsp; ====</font></span></p>
<p dir="ltr"><span lang="en-us"><font face="Arial" size="2">&nbsp; &lt;====3&nbsp;&nbsp; 
180 ringing(SDP)==== </font></span></p>
<p dir="ltr"><span lang="en-us"><font face="Arial" size="2">&nbsp;&nbsp; 
====4&nbsp;&nbsp; prack&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
====&gt; </font></span></p>
<p dir="ltr"><span lang="en-us"><font face="Arial" size="2">&nbsp; &lt;====5&nbsp;&nbsp; 
200 ack&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ====&gt; </font></span></p>
<p dir="ltr"><span lang="en-us"></span><span lang="en-us"><font face="Arial" size="2">&nbsp; &lt;====6&nbsp;&nbsp; 200 OK (no SDP)====&gt;</font></span><span lang="en-us"></span><span lang="en-us"></span></p>
<ul dir="ltr">
  <ul dir="ltr">
    <p dir="ltr"><span lang="en-us"></span><span lang="en-us"></span><span lang="en-us"></span></p></ul></ul>
<p dir="ltr"><span lang="en-us"></span><span lang="en-us"></span><span lang="en-us"></span><span lang="en-us"><font color="#000080" face="Arial" size="2">Best 
Reg</font><font color="#000080" face="Arial" size="2">ards</font></span><span lang="en-us"><b></b></span><span lang="en-us"><b></b></span><b><span lang="en-us"></span></b></p>
<p dir="ltr"><span lang="en-us"></span><span lang="en-us"></span><span lang="en-us"></span><span lang="en-us"><font color="#000080" face="Arial" size="2">Yuantao 
Zhang</font></span></p>
<p dir="ltr"><span lang="en-us"></span></p></div></div></div>
<br>_______________________________________________<br>
Sip mailing list &nbsp;<a href="https://www.ietf.org/mailman/listinfo/sip" target="_blank">https://www.ietf.org/mailman/listinfo/sip</a><br>
This list is for NEW development of the core SIP Protocol<br>
Use <a href="mailto:sip-implementors@cs.columbia.edu">sip-implementors@cs.columbia.edu</a> for questions on current sip<br>
Use <a href="mailto:sipping@ietf.org">sipping@ietf.org</a> for new developments on the application of sip<br></blockquote></div><br><br clear="all"><br>-- <br>Don&#39;t take life too seriously....Nobody comes out alive anyway

------=_Part_10615_3052781.1211452152423--

--===============0617274888==
Content-Type: text/plain; charset="us-ascii"
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip
--===============0617274888==--


From sip-bounces@ietf.org  Thu May 22 03:38:06 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 1343228C14B;
	Thu, 22 May 2008 03:38:06 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id A9FA53A6B57
	for <sip@core3.amsl.com>; Thu, 22 May 2008 03:38:04 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.599
X-Spam-Level: 
X-Spam-Status: No, score=-2.599 tagged_above=-999 required=5 tests=[AWL=0.000, 
	BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 5DMSeaApp+Yz for <sip@core3.amsl.com>;
	Thu, 22 May 2008 03:38:03 -0700 (PDT)
Received: from fg-out-1718.google.com (fg-out-1718.google.com [72.14.220.159])
	by core3.amsl.com (Postfix) with ESMTP id 272513A6AF4
	for <sip@ietf.org>; Thu, 22 May 2008 03:38:02 -0700 (PDT)
Received: by fg-out-1718.google.com with SMTP id d23so2735667fga.41
	for <sip@ietf.org>; Thu, 22 May 2008 03:38:09 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=gamma;
	h=domainkey-signature:received:received:message-id:date:from:to:subject:cc:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
	bh=+Wb98CkZBVyDCCn72H6KjJPb0GodotK7p8faHfb4peY=;
	b=aflab5q0jJiCJOVqyx7oEJeaLXbuZZKbhoiakFcjg8A+dq0xD0sXU6dCX8xoKfm41XRbNnpRhtmq0Li+n9Pux5X8DBRkTmIrPnb+SFeuSWtgbN+38X9RF+etYVaXG8nK7OnEHZGQ+Jrv+eW3mtQaS4bXl329tiEmWExzvcYJ5Dg=
DomainKey-Signature: a=rsa-sha1; c=nofws; d=gmail.com; s=gamma;
	h=message-id:date:from:to:subject:cc:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
	b=xecx5CMIHOEXAvROUtEtcPSE8tnBXmiQWVD0D3QJHL1sJLoSQnn7p/uVdhXjRsVxAI4ADz5uWqOOlAXtyRWZ/TTFLtg+bFJWrQRIM1AnuB4A3JliQyRXsxuo1/IWvPu5wN7tHZsCYt7gUJDWGt/JD6YH0LCxEiohZAtYHwqzUqg=
Received: by 10.82.186.19 with SMTP id j19mr1415748buf.60.1211452688947;
	Thu, 22 May 2008 03:38:08 -0700 (PDT)
Received: by 10.82.147.11 with HTTP; Thu, 22 May 2008 03:38:08 -0700 (PDT)
Message-ID: <ac8baa2c0805220338g4609d34dl2f475750f639925a@mail.gmail.com>
Date: Thu, 22 May 2008 16:08:08 +0530
From: "Vikram Chhibber" <vikram.chhibber@gmail.com>
To: "Christer Holmberg" <christer.holmberg@ericsson.com>
In-Reply-To: <CA9998CD4A020D418654FCDEF4E707DF064E2DF1@esealmw113.eemea.ericsson.se>
MIME-Version: 1.0
Content-Disposition: inline
References: <CA9998CD4A020D418654FCDEF4E707DF06435093@esealmw113.eemea.ericsson.se>
	<ac8baa2c0805220159y5ece2f7as58dadc294ff709df@mail.gmail.com>
	<CA9998CD4A020D418654FCDEF4E707DF064E2DF1@esealmw113.eemea.ericsson.se>
Cc: sip@ietf.org
Subject: Re: [Sip] Draft submission: draft-ietf-sip-199-00
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Archive: <https://www.ietf.org/mailman/private/sip>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Thanks Christer.

Yes, I agree that the draft should avoid such rules. My observation
was specifically in the the "Proxy Behavior" section which mentions
only about To header tag creation identifying the terminated early
dialog.

 "The  199 provisional response MUST contain a To header tag parameter,
 which identifies the early dialog that has been terminated."

It is still worth mentioning about the other informational headers
that the proxy may propagate from received final failure response
towards UAC in 199 response.

~Vikram
On Thu, May 22, 2008 at 2:44 PM, Christer Holmberg
<christer.holmberg@ericsson.com> wrote:
>
> Hi,
>
>>Besides conveying the indication for terminated early dialog, this
> response can also carry additional information of the
>>reason of termination as indicated by Warning, Reason or History-Info
> header received in the final failure response from
>>UAS to the forking proxy.
>>
>>I think it is worth mentioning the rules of creating this 199 response
> by forking proxy which includes preserving these
>>headers from the actual final failure response.
>
> We need to be a little careful here.
>
> There were long discussions on what the scope of this draft was going to
> be: simply to indicate that an early dialog has been terminated, or to
> go further and solve the whole so called HERPF problem. The agreement
> was that the scope is to indicate than an early dialog has been
> terminated.
>
> Now, the draft DOES say the following:
>
> "The UAC MAY use additional information (for example the final response
> which triggered the 199 response) received in the 199 response when
> initiating new sessions, if it is possible to avoid the new session
> initation request to be rejected."
>
> So, that doesn't forbid sending of header information etc, but I am not
> sure that we want to start specifying rules about that - at least not in
> this draft.
>
>>Earlier, all this information was lost as the forking proxy had to
> suppress the final failure response and had to forward
>>the most appropriate final response back.
>
> I agree. But, again, the question is whether that is within the scope of
> the draft or not.
>
> Regards,
>
> Christer
>
>
>
>
>>
>> Hi,
>>
>> I've submitted the first version of the SIP WG 199 draft.
>>
>> It can also be found at:
>>
>> http://users.piuha.net/cholmber/drafts/draft-ietf-sip-199-00.txt
>>
>> Regards,
>>
>> Christer
>>
>> _______________________________________________
>> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
>> This list is for NEW development of the core SIP Protocol Use
>> sip-implementors@cs.columbia.edu for questions on current sip Use
>> sipping@ietf.org for new developments on the application of sip
>>
>
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu May 22 05:31:40 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 5C1BB28C264;
	Thu, 22 May 2008 05:31:40 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id C2C9E28C0E9
	for <sip@core3.amsl.com>; Thu, 22 May 2008 05:31:38 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -0.736
X-Spam-Level: 
X-Spam-Status: No, score=-0.736 tagged_above=-999 required=5
	tests=[AWL=-0.587, BAYES_00=-2.599, MIME_CHARSET_FARAWAY=2.45]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id GR7kS0FCMl4a for <sip@core3.amsl.com>;
	Thu, 22 May 2008 05:31:37 -0700 (PDT)
Received: from out001.iad.hostedmail.net (out001.iad.hostedmail.net
	[209.225.56.23])
	by core3.amsl.com (Postfix) with ESMTP id 8487D3A6A7A
	for <sip@ietf.org>; Thu, 22 May 2008 05:31:37 -0700 (PDT)
Received: from ATL1VEXC020.usdom003.tco.tc ([10.158.7.31]) by
	out001.iad.hostedmail.net with Microsoft SMTPSVC(6.0.3790.3959);
	Thu, 22 May 2008 08:31:39 -0400
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Thu, 22 May 2008 08:31:40 -0400
Message-ID: <BBE61D1553D8A34F812FF87377B2935F038615F0@ATL1VEXC020.usdom003.tco.tc>
In-Reply-To: <1BE4F568A2FBC04ABDCF612202EAF5D21F6032@CNSHGSMBS05.ad4.ad.alcatel.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] SIP one DNS domain much IP
Thread-Index: Aci6akMrC1RQmTNoT5qBXmqLT71NVgAA1VpAAB24DbAAGIb2wAAaHSvgABXgLSA=
From: "Brett Tate" <brett@broadsoft.com>
To: "DING Derrick" <dingzheng@alcatel-lucent.com>
X-OriginalArrivalTime: 22 May 2008 12:31:39.0192 (UTC)
	FILETIME=[C855D380:01C8BC07]
Cc: sip@ietf.org
Subject: Re: [Sip] SIP one DNS domain much IP
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Archive: <https://www.ietf.org/mailman/private/sip>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="gb2312"
Content-Transfer-Encoding: base64
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

VGhlIHByb3ZpZGVkIHNlY3Rpb24gMTIuMi4xLjEgcXVvdGUgaXMgZnJvbSB0aGUgVUFDIHN1YnNl
Y3Rpb24gb2YgIlJlcXVlc3RzIHdpdGhpbiBhIERpYWxvZyIgc2VjdGlvbi4gIFBsZWFzZSByZXJl
YWQgdGhlIHR3byBxdW90ZXMuCgotYnJldHQKCj4gLS0tLS1PcmlnaW5hbCBNZXNzYWdlLS0tLS0K
PiBGcm9tOiBESU5HIERlcnJpY2sgW21haWx0bzpkaW5nemhlbmdAYWxjYXRlbC1sdWNlbnQuY29t
XSAKPiBTZW50OiBXZWRuZXNkYXksIE1heSAyMSwgMjAwOCAxMDowMCBQTQo+IFRvOiBCcmV0dCBU
YXRlCj4gQ2M6IHNpcEBpZXRmLm9yZwo+IFN1YmplY3Q6IFJFOiBbU2lwXSBTSVAgb25lIEROUyBk
b21haW4gbXVjaCBJUAo+IAo+IAo+ICBCdXQgeW91IGNhbiBzZWUsIHdoYXQgdGhlIGd1eSBkZXNj
cmliZWQgaXMgaW4gYSBkaWFsb2cgCj4gaW5zdGVhZCBvZiAib3V0c2lkZSBvZiBhIGRpYWxvZyIu
Cj4gUGxlYXNlIHBvaW50IG91dCBpZiBJIGRvbid0IHVuZGVyc3RhbmQgY29ycmVjdGx5Lgo+IAo+
IFRoYW5rcwo+IAo+IERlcnJpY2sKPiAKPiAtLS0tLU9yaWdpbmFsIE1lc3NhZ2UtLS0tLQo+IEZy
b206IEJyZXR0IFRhdGUgW21haWx0bzpicmV0dEBicm9hZHNvZnQuY29tXQo+IFNlbnQ6IDIwMDjE
6jXUwjIxyNUgMjE6NDEKPiBUbzogRElORyBEZXJyaWNrCj4gQ2M6IHNpcEBpZXRmLm9yZwo+IFN1
YmplY3Q6IFJFOiBbU2lwXSBTSVAgb25lIEROUyBkb21haW4gbXVjaCBJUAo+IAo+IFlvdXIgdW5k
ZXJzdGFuZGluZyBjb3JyZXNwb25kcyB0byBhICJsb2NhbCBwb2xpY3kiIG92ZXJyaWRpbmcgCj4g
dGhlIHJ1bGVzIG9mIGZvbGxvd2luZyBSRkMgMzI2My4gIFlvdXIgbWVudGlvbmVkICJsb2NhbCAK
PiBwb2xpY3kiIGhhcyBub3QgYmVlbiBwcmVzZW50ZWQgd2l0aGluIGFuIFJGQy4KPiAKPiBSRkMg
MzI2MSBzZWN0aW9uIDEyLjIuMS4xOiAiT25jZSB0aGUgcmVxdWVzdCBoYXMgYmVlbiAKPiBjb25z
dHJ1Y3RlZCwgdGhlIGFkZHJlc3Mgb2YgdGhlIHNlcnZlciBpcyBjb21wdXRlZCBhbmQgdGhlIAo+
IHJlcXVlc3QgaXMgc2VudCwgdXNpbmcgdGhlIHNhbWUgcHJvY2VkdXJlcyBmb3IgcmVxdWVzdHMg
Cj4gb3V0c2lkZSBvZiBhIGRpYWxvZyAoU2VjdGlvbiA4LjEuMikuIgo+IAo+IFJGQyAzMjYxIHNl
Y3Rpb24gOC4xLjI6ICJUaGUgZGVzdGluYXRpb24gZm9yIHRoZSByZXF1ZXN0IGlzIAo+IHRoZW4g
Y29tcHV0ZWQuICBVbmxlc3MgdGhlcmUgaXMgbG9jYWwgcG9saWN5IHNwZWNpZnlpbmcgCj4gb3Ro
ZXJ3aXNlLCB0aGUgZGVzdGluYXRpb24gTVVTVCBiZSBkZXRlcm1pbmVkIGJ5IGFwcGx5aW5nIHRo
ZSAKPiBETlMgcHJvY2VkdXJlcyBkZXNjcmliZWQgaW4gWzRdIGFzIGZvbGxvd3MuIgo+IAo+IAo+
ID4gLS0tLS1PcmlnaW5hbCBNZXNzYWdlLS0tLS0KPiA+IEZyb206IHNpcC1ib3VuY2VzQGlldGYu
b3JnIFttYWlsdG86c2lwLWJvdW5jZXNAaWV0Zi5vcmddIE9uIAo+IEJlaGFsZiBPZiAKPiA+IERJ
TkcgRGVycmljawo+ID4gU2VudDogVHVlc2RheSwgTWF5IDIwLCAyMDA4IDk6NTAgUE0KPiA+IFRv
OiBCcmV0dCBUYXRlOyDL79PAueI7IHNpcEBpZXRmLm9yZwo+ID4gU3ViamVjdDogUmU6IFtTaXBd
IFNJUCBvbmUgRE5TIGRvbWFpbiBtdWNoIElQCj4gPiAKPiA+IEFzIG15IHVuZGVyc3RhbmRpbmcs
IEEgc2hvdWxkIG5vdCBkbyBETlMgcXVlcnkgd2l0aG91dCBhbnkgCj4gZXhjZXB0aW9uLCAKPiA+
IHN1Y2ggYXMgNDA4IHRpbWVvdXQuCj4gPiAKPiA+IFNvIHlvdSBzaG91bGQgZGVmaW5lIHRoZSBj
b25kaXRpb24gZm9yIEROUyBxdWVyeSBpbiBvcmRlciAKPiB0byBhdm9pZCB0aGUgCj4gPiBjYXNl
IHlvdSBkZXNjcmliZS4KPiA+IAo+ID4gRGVycmljawo+ID4gCj4gPiAtLS0tLU9yaWdpbmFsIE1l
c3NhZ2UtLS0tLQo+ID4gRnJvbTogc2lwLWJvdW5jZXNAaWV0Zi5vcmcgW21haWx0bzpzaXAtYm91
bmNlc0BpZXRmLm9yZ10gT24gCj4gQmVoYWxmIE9mIAo+ID4gQnJldHQgVGF0ZQo+ID4gU2VudDog
MjAwOMTqNdTCMjDI1SAyMDo0Mgo+ID4gVG86IMvv08C54jsgc2lwQGlldGYub3JnCj4gPiBTdWJq
ZWN0OiBSZTogW1NpcF0gU0lQIG9uZSBETlMgZG9tYWluIG11Y2ggSVAKPiA+IAo+ID4gQmVjYXVz
ZSBvZiBwb3RlbnRpYWwgbG9hZC1iYWxhbmNpbmcgKGFzIHlvdSBhcmUgb2JzZXJ2aW5nKSwgc29s
ZWx5IAo+ID4gdXNpbmcgQSByZWNvcmRzIHdpdGhpbiBwcmltYXJ5L3NlY29uZGFyeSBjb25maWd1
cmF0aW9ucyBzaG91bGQgYmUgCj4gPiBhdm9pZGVkIHVubGVzcyBhZGRpdGlvbmFsIGFncmVlbWVu
dHMgb3IgY29uZmlndXJhdGlvbiBoYXMgCj4gYmVlbiBtYWRlIHRvIAo+ID4gYXZvaWQgdGhlIHNp
dHVhdGlvbiB5b3UgYXJlIGRlc2NyaWJpbmcgY29uY2VybmluZyBpbiBkaWFsb2cgCj4gcmVxdWVz
dHMuICAKPiA+IFRoZSBhZGRpdGlvbmFsIGFncmVlbWVudHMgb3ZlcnJpZGUgdHlwaWNhbCByZmMz
MjYzIGJlaGF2aW9yIGJ5IAo+ID4gYXBwbHlpbmcgbG9jYWwgcG9saWN5IChwb3RlbnRpYWxseSBu
b24gY29tcGxpYW50KSB0byByZW1haW4gCj4gc3RhdGVmdWwgCj4gPiB3aXRoaW4gZGlhbG9nLiAg
VGhlIHBvdGVudGlhbCBhZGRpdGlvbmFsIGNvbmZpZ3VyYXRpb24gKHRvIAo+IGF2b2lkIHRoZSAK
PiA+IG1lbnRpb25lZCBvdmVycmlkZSkgaXMgdG8gaGF2ZSBETlMgY29udHJvbCB0byBhdm9pZCBh
dXRvbWF0aWMgCj4gPiBsb2FkLWJhbGFuY2luZy9pdGVyYXRpbmcgY29uY2VybmluZyBBIHJlY29y
ZHMgc28gdGhhdCB0aGUgQSByZWNvcmQgCj4gPiBxdWVyeS9oYW5kbGluZyBjYW4gYWx3YXlzIHJl
c3VsdCBpbiB0aGUgc2FtZSBvcmRlcmVkIGxpc3QuCj4gPiAKPiA+IFJGQyAzMjYzIGRpc2N1c3Nl
cyB1c2luZyBETlMgU1JWIHJlY29yZHMgdG8gbW9yZSBjbGVhcmx5IGluZGljYXRlIAo+ID4gcHJp
b3JpdGl6YXRpb24gYW5kIGxvYWQtYmFsYW5jaW5nLiAgSWYgU1JWIHJlY29yZHMgbm90IAo+IHN1
cHBvcnRlZCwgdGhlIAo+ID4gQ29udGFjdCBzaG91bGQgcmVmbGVjdCBhIHNpbmdsZSBBUyB1bmxl
c3MgdGhlIGFsdGVybmF0aXZlIGxvY2F0aW9ucyAKPiA+IGNhbiBhY2NvbW1vZGF0ZSB0aGUgc2l0
dWF0aW9uIChvciBhZGRpdGlvbmFsIGFncmVlbWVudHMgb3IgCj4gPiBjb25maWd1cmF0aW9uIGhh
cyBiZWVuIG1hZGUgdG8gYXZvaWQgdHJ5aW5nIHRoZSBhbHRlcm5hdGl2ZSAKPiBsb2NhdGlvbnMg
Cj4gPiBmaXJzdCkuCj4gPiAKPiA+IAo+ID4gX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X18KPiA+IAo+ID4gCUZyb206IHNpcC1ib3VuY2VzQGlldGYub3JnCj4gPiBbbWFpbHRvOnNpcC1i
b3VuY2VzQGlldGYub3JnXSBPbiBCZWhhbGYgT2YgPz8/Cj4gPiAJU2VudDogVHVlc2RheSwgTWF5
IDIwLCAyMDA4IDc6MTEgQU0KPiA+IAlUbzogc2lwQGlldGYub3JnOyBJRVRGIFNpcHBpbmcgTGlz
dAo+ID4gCVN1YmplY3Q6IFtTaXBdIFNJUCBvbmUgRE5TIGRvbWFpbiBtdWNoIElQCj4gPiAJCj4g
PiAJCj4gPiAKPiA+IAlIaSBHdXlzOgo+ID4gCj4gPiAJICAgICBJIGhhdmUgYSBxdWVzdGlvbiBh
Ym91dCBETlMKPiA+IAlpdCBpcyB0aGF0IG9uZSBETlMgZG9tYWluIGhhcyBtdWNoIElQIEFkZHJz
ICwgZWc6IAo+ID4gYXMudGVzdC5uZXQ9PigxOTIuMTY4LjIuMS8xOTIuMTY4LjIuMikKPiA+IAlh
bmQgImFzLnRlc3QubmV0OiBpcyBCMkIgc2VydmVyCj4gPiAJMSkgQSBJTlZJVEUgQiAsIEEgcmVz
b2x2ZXMgdGhlIEROUyAiYXMudGVzdC5uZXQiIAo+ID4gMTkyLjE2OC4yLjEsdGhlbiBBIHNlbmRz
IElOVklURSByZXF1ZXN0IHRvCj4gPiAJICAgMTkyLjE2OC4yLjEKPiA+IAkyKSBBIHJlY2VpdmVz
IDIwMCByZXNwb25zZSB3aXRoIGNvbnRhY3QgImFzLnRlc3QubmV0IiAKPiA+IGFuZCBubyByZWNv
cmQgcm91dGUKPiA+IAkzKUEgcmVzb2x2ZXMgdGhlIEROUyAiYXMudGVzdC5uZXQiIGFnYWluLCBp
dCBnZXRzCj4gPiAxOTIuMTYuMi4yIGFuZCBzZW5kcyBBQ0sgdG8gMTkyLjE2OC4yLjIKPiA+IAo+
ID4gCW5vdyB0aGUgMTkyLjE2LjIuMSBjYW4ndCByZWNpZXZlIHRoZSBBQ0sgcmVxdWVzdCAsIHNv
IAo+IHRoZSBzZXNzaW9uIAo+ID4gY2FuJ3QgYmUgY3JlYXRlZAo+ID4gCj4gPiAJQW55b25lIGNh
biBnaXZlIG1lIGFueSBhZHZpY2UsIG9yIHNvbWUgUkZDL2RyYWZ0IGFib3V0IGl0Cj4gPiAKPiA+
IAlUaGFua3MgaW4gYWR2YW5jZQo+ID4gCj4gPiAJU2FtbWFuIAo+ID4gCTIwMDgtNS0yMAo+ID4g
Cj4gCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fClNpcCBt
YWlsaW5nIGxpc3QgIGh0dHBzOi8vd3d3LmlldGYub3JnL21haWxtYW4vbGlzdGluZm8vc2lwClRo
aXMgbGlzdCBpcyBmb3IgTkVXIGRldmVsb3BtZW50IG9mIHRoZSBjb3JlIFNJUCBQcm90b2NvbApV
c2Ugc2lwLWltcGxlbWVudG9yc0Bjcy5jb2x1bWJpYS5lZHUgZm9yIHF1ZXN0aW9ucyBvbiBjdXJy
ZW50IHNpcApVc2Ugc2lwcGluZ0BpZXRmLm9yZyBmb3IgbmV3IGRldmVsb3BtZW50cyBvbiB0aGUg
YXBwbGljYXRpb24gb2Ygc2lw


From sip-bounces@ietf.org  Thu May 22 05:35:46 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 860EE28C277;
	Thu, 22 May 2008 05:35:46 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id C97DA28C275
	for <sip@core3.amsl.com>; Thu, 22 May 2008 05:35:43 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -5.918
X-Spam-Level: 
X-Spam-Status: No, score=-5.918 tagged_above=-999 required=5 tests=[AWL=0.331, 
	BAYES_00=-2.599, HELO_EQ_SE=0.35, RCVD_IN_DNSWL_MED=-4]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id upQ2RPWPIpaL for <sip@core3.amsl.com>;
	Thu, 22 May 2008 05:35:42 -0700 (PDT)
Received: from mailgw3.ericsson.se (mailgw3.ericsson.se [193.180.251.60])
	by core3.amsl.com (Postfix) with ESMTP id 0E01A28C0DE
	for <sip@ietf.org>; Thu, 22 May 2008 05:35:41 -0700 (PDT)
Received: from mailgw3.ericsson.se (unknown [127.0.0.1])
	by mailgw3.ericsson.se (Symantec Mail Security) with ESMTP id
	AB53A213FD; Thu, 22 May 2008 14:35:47 +0200 (CEST)
X-AuditID: c1b4fb3c-af09dbb00000193b-19-483568a335ce
Received: from esealmw126.eemea.ericsson.se (unknown [153.88.254.123])
	by mailgw3.ericsson.se (Symantec Mail Security) with ESMTP id
	8198F20533; Thu, 22 May 2008 14:35:47 +0200 (CEST)
Received: from esealmw113.eemea.ericsson.se ([153.88.200.4]) by
	esealmw126.eemea.ericsson.se with Microsoft SMTPSVC(6.0.3790.1830); 
	Thu, 22 May 2008 14:35:47 +0200
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Thu, 22 May 2008 14:35:46 +0200
Message-ID: <CA9998CD4A020D418654FCDEF4E707DF064E3905@esealmw113.eemea.ericsson.se>
In-Reply-To: <ac8baa2c0805220338g4609d34dl2f475750f639925a@mail.gmail.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] Draft submission: draft-ietf-sip-199-00
thread-index: Aci79+8UITjIA/UXSPSRQz4Vth8PigAEBD/Q
References: <CA9998CD4A020D418654FCDEF4E707DF06435093@esealmw113.eemea.ericsson.se>
	<ac8baa2c0805220159y5ece2f7as58dadc294ff709df@mail.gmail.com>
	<CA9998CD4A020D418654FCDEF4E707DF064E2DF1@esealmw113.eemea.ericsson.se>
	<ac8baa2c0805220338g4609d34dl2f475750f639925a@mail.gmail.com>
From: "Christer Holmberg" <christer.holmberg@ericsson.com>
To: "Vikram Chhibber" <vikram.chhibber@gmail.com>
X-OriginalArrivalTime: 22 May 2008 12:35:47.0270 (UTC)
	FILETIME=[5C338660:01C8BC08]
X-Brightmail-Tracker: AAAAAA==
Cc: sip@ietf.org
Subject: Re: [Sip] Draft submission: draft-ietf-sip-199-00
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Archive: <https://www.ietf.org/mailman/private/sip>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


Hi, 

>Yes, I agree that the draft should avoid such rules. My observation was
specifically in the the "Proxy Behavior" section 
>which mentions only about To header tag creation identifying the
terminated early dialog.
>
>"The  199 provisional response MUST contain a To header tag parameter,
which identifies the early dialog that has been 
>terminated."

Yes. But, that is required in order to identity which early dialog is
terminated.

>It is still worth mentioning about the other informational headers that
the proxy may propagate from received final 
>failure response towards UAC in 199 response.

I guess I could add, to the proxy section, a note saying that the proxy
may include information (including response codes and header values)
from the message which triggered the 199 response.

Regards,

Christer


~Vikram
On Thu, May 22, 2008 at 2:44 PM, Christer Holmberg
<christer.holmberg@ericsson.com> wrote:
>
> Hi,
>
>>Besides conveying the indication for terminated early dialog, this
> response can also carry additional information of the
>>reason of termination as indicated by Warning, Reason or History-Info
> header received in the final failure response from
>>UAS to the forking proxy.
>>
>>I think it is worth mentioning the rules of creating this 199 response
> by forking proxy which includes preserving these
>>headers from the actual final failure response.
>
> We need to be a little careful here.
>
> There were long discussions on what the scope of this draft was going 
> to
> be: simply to indicate that an early dialog has been terminated, or to

> go further and solve the whole so called HERPF problem. The agreement 
> was that the scope is to indicate than an early dialog has been 
> terminated.
>
> Now, the draft DOES say the following:
>
> "The UAC MAY use additional information (for example the final 
> response which triggered the 199 response) received in the 199 
> response when initiating new sessions, if it is possible to avoid the 
> new session initation request to be rejected."
>
> So, that doesn't forbid sending of header information etc, but I am 
> not sure that we want to start specifying rules about that - at least 
> not in this draft.
>
>>Earlier, all this information was lost as the forking proxy had to
> suppress the final failure response and had to forward
>>the most appropriate final response back.
>
> I agree. But, again, the question is whether that is within the scope 
> of the draft or not.
>
> Regards,
>
> Christer
>
>
>
>
>>
>> Hi,
>>
>> I've submitted the first version of the SIP WG 199 draft.
>>
>> It can also be found at:
>>
>> http://users.piuha.net/cholmber/drafts/draft-ietf-sip-199-00.txt
>>
>> Regards,
>>
>> Christer
>>
>> _______________________________________________
>> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
>> This list is for NEW development of the core SIP Protocol Use 
>> sip-implementors@cs.columbia.edu for questions on current sip Use 
>> sipping@ietf.org for new developments on the application of sip
>>
>
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu May 22 16:12:17 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 1A5293A6804;
	Thu, 22 May 2008 16:12:17 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 9C85B3A63CB
	for <sip@core3.amsl.com>; Thu, 22 May 2008 16:12:16 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.6
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 tagged_above=-999 required=5
	tests=[BAYES_00=-2.599, SPF_PASS=-0.001]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 33X3r-8RB7e7 for <sip@core3.amsl.com>;
	Thu, 22 May 2008 16:12:15 -0700 (PDT)
Received: from nostrum.com (nostrum-pt.tunnel.tserv2.fmt.ipv6.he.net
	[IPv6:2001:470:1f03:267::2])
	by core3.amsl.com (Postfix) with ESMTP id 9CDF43A6A05
	for <sip@ietf.org>; Thu, 22 May 2008 16:11:59 -0700 (PDT)
Received: from [192.168.2.6] (pool-71-164-142-12.dllstx.fios.verizon.net
	[71.164.142.12]) (authenticated bits=0)
	by nostrum.com (8.14.2/8.14.1) with ESMTP id m4MNBs6B050124
	(version=TLSv1/SSLv3 cipher=AES128-SHA bits=128 verify=NO);
	Thu, 22 May 2008 18:11:55 -0500 (CDT)
	(envelope-from rjsparks@nostrum.com)
Message-Id: <4CF736A4-616A-4F37-8578-093071B3E763@nostrum.com>
From: Robert Sparks <rjsparks@nostrum.com>
To: Brett Tate <brett@broadsoft.com>
In-Reply-To: <BBE61D1553D8A34F812FF87377B2935F037CD869@ATL1VEXC020.usdom003.tco.tc>
Mime-Version: 1.0 (Apple Message framework v919.2)
Date: Thu, 22 May 2008 18:11:54 -0500
References: <BBE61D1553D8A34F812FF87377B2935F037CD869@ATL1VEXC020.usdom003.tco.tc>
X-Mailer: Apple Mail (2.919.2)
Received-SPF: pass (nostrum.com: 71.164.142.12 is authenticated by a trusted
	mechanism)
X-Virus-Scanned: ClamAV 0.93/6802/Wed Apr 16 12:35:44 2008 on
	shaman.nostrum.com
X-Virus-Status: Clean
Cc: sip@ietf.org
Subject: Re: [Sip] draft-sparks-sip-invfix-01: comments and questions
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Archive: <https://www.ietf.org/mailman/private/sip>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


On May 19, 2008, at 4:27 PM, Brett Tate wrote:

> The following are few comments and questions concerning
> draft-sparks-sip-invfix-01.
>
>
> Section 8.2:
>
> The "MUST NOT" is rather strict.  Depending upon interpretation, it  
> can
> interfere with a stateful proxy choosing to temporarily act like a
> stateless proxy for a short interval after a restart.
>
It's that strong on purpose - it's closing a fairly large security hole.
16.7 in 3261 (which is what this section is touching) is explicitly  
about transaction stateful proxies.
If a proxy is being transaction stateless, it does not apply.

>
> Section 8.4:
>
> Concerning timer D and "zero seconds for reliable transports", is
> "reliable" obtained from INVITE or ACK.
>
> Concerning timer D being zero, at first glance it looks like the state
> machine text no longer ensures ACK will be sent for extra 2xx or
> 300-699.  The same applies, to ensuring ACK resent in situations where
> transport not reliable end-to-end.  Per 7.2 paragraph 2, this might be
> intentional; if so, the motivation and flexibility in handling from
> section 7.2 should potentially also be included within 8.4.  If I'm
> misinterpreting the fix, where does it say the ACK MUST, SHOULD, or  
> MAY
> still be (re-)sent for the extra responses when timer D is 0?

Well, the main requirement you're looking for is (still) on the TU.  
But I see your point in wondering if a retransmitted 200 will still  
_get_ to the TU if it came over UDP. Let me look at it for awhile.

To carve that away from some of the other questions you ask above:

You're talking about receiving a response over a reliable transport  
(like TCP).

Over such a transport, there won't _be_ any additional 300-699  
responses unless the thing on the other end is violating the  
specification - remember those are hop-by-hop messages, and the thing  
sending them is required to hand reliability to the reliable transport  
(it won't retransmit - timer G is not set for reliable transports).  
The path through the machines when a 300-699 occurs hasn't changed  
from 3261.

For a 200 class response, the transaction state machine doesn't send  
the ACK - that is still the TU's job and this draft doesn't change  
that. What we need to make sure is that we're leaving the path for a  
retransmitted (or a 200 from another branch) to _get_ to the TU. I  
thought we had, but its possible that's messed up. I'll look at it  
some more.

RjS



>
>
>
> Thanks,
> Brett

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Fri May 23 09:51:39 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id E52AB3A6C97;
	Fri, 23 May 2008 09:51:39 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 03D3B28C2B4
	for <sip@core3.amsl.com>; Fri, 23 May 2008 09:51:36 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -0.741
X-Spam-Level: 
X-Spam-Status: No, score=-0.741 tagged_above=-999 required=5
	tests=[BAYES_20=-0.74, NO_RELAYS=-0.001]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id bvq9w8lYNF3W for <sip@core3.amsl.com>;
	Fri, 23 May 2008 09:51:35 -0700 (PDT)
Received: from smtp.cnr.it (unknown [IPv6:2001:760:4000:60:202:55ff:fe9d:132f])
	by core3.amsl.com (Postfix) with ESMTP id 3760E3A6CAA
	for <sip@ietf.org>; Fri, 23 May 2008 09:51:34 -0700 (PDT)
Received: by smtp.cnr.it (Postfix, from userid 1000)
	id 1C697ACE2E; Fri, 23 May 2008 18:51:32 +0200 (CEST)
From: ".:: Francesco la Torre ::." <francesco.latorre@studenti.ing.unipi.it>
To: sip@ietf.org
Date: Fri, 23 May 2008 18:51:32 +0200
Message-Id: <1211561492.6036.13.camel@ubuntu-ser>
Mime-Version: 1.0
X-Mailer: Evolution 2.22.1 
Subject: [Sip] SAML-SIP_draft-ietf-sip-saml-03
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Archive: <https://www.ietf.org/mailman/private/sip>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

This draft has the expire date on 21th May 2008.
Which is the future of this work ?

Thanks,
Francesco la Torre
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Fri May 23 10:15:03 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id E13C83A6CA5;
	Fri, 23 May 2008 10:15:03 -0700 (PDT)
X-Original-To: sip@ietf.org
Delivered-To: sip@core3.amsl.com
Received: by core3.amsl.com (Postfix, from userid 0)
	id 3779528C27B; Fri, 23 May 2008 10:15:01 -0700 (PDT)
From: Internet-Drafts@ietf.org
To: i-d-announce@ietf.org
Content-Type: Multipart/Mixed; Boundary="NextPart"
Mime-Version: 1.0
Message-Id: <20080523171502.3779528C27B@core3.amsl.com>
Date: Fri, 23 May 2008 10:15:02 -0700 (PDT)
Cc: sip@ietf.org
Subject: [Sip] I-D ACTION:draft-ietf-sip-199-00.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Archive: <https://www.ietf.org/mailman/private/sip>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

--NextPart

A New Internet-Draft is available from the on-line Internet-Drafts 
directories.
This draft is a work item of the Session Initiation Protocol Working Group of the IETF.

	Title		: Response Code for Indication of Terminated Dialog
	Author(s)	: C. Holmberg
	Filename	: draft-ietf-sip-199-00.txt
	Pages		: 9
	Date		: 2008-5-15
	
This specification defines a new SIP response code, 199 Early Dialog
   Terminated, which a SIP entity can use to indicate upstream that an
   early dialog has been terminated.  The response code can be used by a
   SIP entity, normally a forking SIP proxy, to allow the UAC to know
   that an early dialog has been terminated before it a final response
   is sent to the request.

A URL for this Internet-Draft is:
http://www.ietf.org/internet-drafts/draft-ietf-sip-199-00.txt

Internet-Drafts are also available by anonymous FTP at:
ftp://ftp.ietf.org/internet-drafts/

Below is the data which will enable a MIME compliant mail reader
implementation to automatically retrieve the ASCII version of the
Internet-Draft.

--NextPart
Content-Type: Message/External-body;
	name="draft-ietf-sip-199-00.txt";
	site="ftp.ietf.org";
	access-type="anon-ftp";
	directory="internet-drafts"

Content-Type: text/plain
Content-ID: <2008-5-23100014.I-D@ietf.org>


--NextPart
Content-Type: text/plain; charset="us-ascii"
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip
--NextPart--



From sip-bounces@ietf.org  Sun May 25 06:24:09 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id B10253A6984;
	Sun, 25 May 2008 06:24:09 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id F0FB03A684C
	for <sip@core3.amsl.com>; Sun, 25 May 2008 06:24:07 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.599
X-Spam-Level: 
X-Spam-Status: No, score=-2.599 tagged_above=-999 required=5
	tests=[BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id bvSs0hBG1p4h for <sip@core3.amsl.com>;
	Sun, 25 May 2008 06:24:07 -0700 (PDT)
Received: from mail.gmx.net (mail.gmx.net [213.165.64.20])
	by core3.amsl.com (Postfix) with SMTP id BCCD33A6808
	for <sip@ietf.org>; Sun, 25 May 2008 06:24:06 -0700 (PDT)
Received: (qmail invoked by alias); 25 May 2008 13:24:03 -0000
Received: from a91-154-105-144.elisa-laajakaista.fi (EHLO [192.168.255.3])
	[91.154.105.144]
	by mail.gmx.net (mp012) with SMTP; 25 May 2008 15:24:03 +0200
X-Authenticated: #29516787
X-Provags-ID: V01U2FsdGVkX192DGwjLnV2YJp8MjlWIG6QXw3+qDw3018aEUnuo2
	uWmI/DOX+1EvXI
Message-ID: <48396873.4050402@gmx.net>
Date: Sun, 25 May 2008 16:24:03 +0300
From: Hannes Tschofenig <Hannes.Tschofenig@gmx.net>
User-Agent: Thunderbird 2.0.0.14 (Windows/20080421)
MIME-Version: 1.0
To: ".:: Francesco la Torre ::." <francesco.latorre@studenti.ing.unipi.it>
References: <1211561492.6036.13.camel@ubuntu-ser>
In-Reply-To: <1211561492.6036.13.camel@ubuntu-ser>
X-Y-GMX-Trusted: 0
Cc: sip@ietf.org
Subject: Re: [Sip] SAML-SIP_draft-ietf-sip-saml-03
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Archive: <https://www.ietf.org/mailman/private/sip>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

We will submit an updated version before the next IETF meeting.
The next version will address some of the open issues and feedback we 
received.


.:: Francesco la Torre ::. wrote:
> This draft has the expire date on 21th May 2008.
> Which is the future of this work ?
>
> Thanks,
> Francesco la Torre
> _______________________________________________
> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
>   

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From c.voelker@knebb.de  Sun May 25 17:01:43 2008
Return-Path: <c.voelker@knebb.de>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 2FAA73A67B3;
	Sun, 25 May 2008 17:01:43 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -16.669
X-Spam-Level: 
X-Spam-Status: No, score=-16.669 tagged_above=-999 required=5
	tests=[BAYES_99=3.5, FH_HELO_EQ_D_D_D_D=1.597, FH_RELAY_NODNS=1.451,
	HELO_DYNAMIC_IPADDR2=4.395, HTTP_ESCAPED_HOST=0.134,
	J_CHICKENPOX_24=0.6, RAZOR2_CF_RANGE_51_100=0.5,
	RAZOR2_CF_RANGE_E4_51_100=1.5, RAZOR2_CF_RANGE_E8_51_100=1.5,
	RAZOR2_CHECK=0.5, RCVD_IN_PBL=0.905, RCVD_IN_SORBS_DUL=0.877,
	RCVD_IN_XBL=3.033, RDNS_NONE=0.1, SARE_RECV_SPEEDY_AR=0.808,
	TVD_RCVD_IP=1.931, URIBL_BLACK=20, URIBL_JP_SURBL=10,
	URIBL_OB_SURBL=10, URIBL_SC_SURBL=10, URIBL_WS_SURBL=10,
	USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id VAsRKWz+5D2L; Sun, 25 May 2008 17:01:37 -0700 (PDT)
Received: from 190-48-137-165.speedy.com.ar (unknown [190.48.137.165])
	by core3.amsl.com (Postfix) with SMTP id 022FA3A6A48;
	Sun, 25 May 2008 17:01:22 -0700 (PDT)
X-Originating-IP: 190.229.51.134 by smtp.190.48.137.165;  Sun, 25 May 2008 20:01:32 -0500
Message-ID: <dtgvftXZPWNsip@ietf.org>
From: "Refugio Villa" <sip@ietf.org>
Reply-To: "Refugio Villa" <sip@ietf.org>
To: sip@ietf.org
Subject: April promo on watches
Date: Sun, 25 May 2008 20:01:32 -0500
Content-Type: text/plain;
Content-Transfer-Encoding: 7Bit


A Bvlgari watch is an extraordinary masterpiece that is born from the marriage of watch making and jewelry expertise. Only the most discriminating and sophisticated watch users dare put a Bv1gari on their wrists, but once the metal touches their skin, they are bound forever... How would you like to become one of the lucky few that have experienced the pleasure of sporting a Bvlgari timepiece? Now you can, and at a very reduced cost! Prestige Replicas offers a tremendous collection of Bvlgari replicas starting just a little above $200... So now there is no reason why you can't have your very own Bvlgari today!
http://www%2Eassieyyu%2Ecom/





From sip-bounces@ietf.org  Sun May 25 18:15:03 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id DC9273A6AFD;
	Sun, 25 May 2008 18:15:03 -0700 (PDT)
X-Original-To: sip@ietf.org
Delivered-To: sip@core3.amsl.com
Received: by core3.amsl.com (Postfix, from userid 0)
	id 6E63F3A6AFD; Sun, 25 May 2008 18:15:02 -0700 (PDT)
From: Internet-Drafts@ietf.org
To: i-d-announce@ietf.org
Content-Type: Multipart/Mixed; Boundary="NextPart"
Mime-Version: 1.0
Message-Id: <20080526011502.6E63F3A6AFD@core3.amsl.com>
Date: Sun, 25 May 2008 18:15:02 -0700 (PDT)
Cc: sip@ietf.org
Subject: [Sip] I-D Action:draft-ietf-sip-outbound-14.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Archive: <https://www.ietf.org/mailman/private/sip>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


--NextPart

A New Internet-Draft is available from the on-line Internet-Drafts directories.
This draft is a work item of the Session Initiation Protocol Working Group of the IETF.


	Title           : Managing Client Initiated Connections in the Session Initiation Protocol (SIP)
	Author(s)       : C. Jennings, R. Mahy
	Filename        : draft-ietf-sip-outbound-14.txt
	Pages           : 52
	Date            : 2008-05-25

The Session Initiation Protocol (SIP) allows proxy servers to
initiate TCP connections and send asynchronous UDP datagrams to User
Agents in order to deliver requests.  However, many practical
considerations, such as the existence of firewalls and Network
Address Translators (NATs), prevent servers from connecting to User
Agents in this way.  This specification defines behaviors for User
Agents, registrars and proxy servers that allow requests to be
delivered on existing connections established by the User Agent.  It
also defines keep alive behaviors needed to keep NAT bindings open
and specifies the usage of multiple connections from the User Agent
to its Registrar.

A URL for this Internet-Draft is:
http://www.ietf.org/internet-drafts/draft-ietf-sip-outbound-14.txt

Internet-Drafts are also available by anonymous FTP at:
ftp://ftp.ietf.org/internet-drafts/

Below is the data which will enable a MIME compliant mail reader
implementation to automatically retrieve the ASCII version of the
Internet-Draft.

--NextPart
Content-Type: Message/External-body;
	name="draft-ietf-sip-outbound-14.txt";
	site="ftp.ietf.org";
	access-type="anon-ftp";
	directory="internet-drafts"

Content-Type: text/plain
Content-ID: <2008-05-25180521.I-D@ietf.org>


--NextPart
Content-Type: text/plain; charset="us-ascii"
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip
--NextPart--


From sip-bounces@ietf.org  Mon May 26 01:47:52 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 985A63A69FC;
	Mon, 26 May 2008 01:47:52 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 1A43B3A6B77
	for <sip@core3.amsl.com>; Mon, 26 May 2008 01:47:51 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -6.125
X-Spam-Level: 
X-Spam-Status: No, score=-6.125 tagged_above=-999 required=5 tests=[AWL=0.124, 
	BAYES_00=-2.599, HELO_EQ_SE=0.35, RCVD_IN_DNSWL_MED=-4]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id cIfVUGied4z6 for <sip@core3.amsl.com>;
	Mon, 26 May 2008 01:47:50 -0700 (PDT)
Received: from mailgw3.ericsson.se (mailgw3.ericsson.se [193.180.251.60])
	by core3.amsl.com (Postfix) with ESMTP id 3F9FA3A69FC
	for <sip@ietf.org>; Mon, 26 May 2008 01:47:50 -0700 (PDT)
Received: from mailgw3.ericsson.se (unknown [127.0.0.1])
	by mailgw3.ericsson.se (Symantec Mail Security) with ESMTP id
	1A2EE20673 for <sip@ietf.org>; Mon, 26 May 2008 10:47:51 +0200 (CEST)
X-AuditID: c1b4fb3c-ae89cbb00000193b-44-483a79367073
Received: from esealmw128.eemea.ericsson.se (unknown [153.88.254.121])
	by mailgw3.ericsson.se (Symantec Mail Security) with ESMTP id
	004EA20405 for <sip@ietf.org>; Mon, 26 May 2008 10:47:50 +0200 (CEST)
Received: from esealmw126.eemea.ericsson.se ([153.88.254.170]) by
	esealmw128.eemea.ericsson.se with Microsoft SMTPSVC(6.0.3790.1830); 
	Mon, 26 May 2008 10:47:50 +0200
Received: from [131.160.37.21] ([131.160.37.21]) by
	esealmw126.eemea.ericsson.se with Microsoft SMTPSVC(6.0.3790.1830); 
	Mon, 26 May 2008 10:47:50 +0200
Message-ID: <483A7936.2070404@ericsson.com>
Date: Mon, 26 May 2008 11:47:50 +0300
From: Gonzalo Camarillo <Gonzalo.Camarillo@ericsson.com>
User-Agent: Thunderbird 2.0.0.14 (Windows/20080421)
MIME-Version: 1.0
To: sip <sip@ietf.org>
X-OriginalArrivalTime: 26 May 2008 08:47:50.0330 (UTC)
	FILETIME=[2DC319A0:01C8BF0D]
X-Brightmail-Tracker: AAAAAA==
Subject: [Sip] Body Handling draft
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Archive: <https://www.ietf.org/mailman/private/sip>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Folks,

I have just submitted the following revision of the body handling draft:

http://www.ietf.org/internet-drafts/draft-ietf-sip-body-handling-02.txt

This revision addresses all the comments received so far.

Cheers,

Gonzalo
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Mon May 26 02:00:04 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id E778528C11A;
	Mon, 26 May 2008 02:00:03 -0700 (PDT)
X-Original-To: sip@ietf.org
Delivered-To: sip@core3.amsl.com
Received: by core3.amsl.com (Postfix, from userid 0)
	id A96AB3A6A9B; Mon, 26 May 2008 02:00:01 -0700 (PDT)
From: Internet-Drafts@ietf.org
To: i-d-announce@ietf.org
Content-Type: Multipart/Mixed; Boundary="NextPart"
Mime-Version: 1.0
Message-Id: <20080526090001.A96AB3A6A9B@core3.amsl.com>
Date: Mon, 26 May 2008 02:00:01 -0700 (PDT)
Cc: sip@ietf.org
Subject: [Sip] I-D Action:draft-ietf-sip-body-handling-02.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Archive: <https://www.ietf.org/mailman/private/sip>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


--NextPart

A New Internet-Draft is available from the on-line Internet-Drafts directories.
This draft is a work item of the Session Initiation Protocol Working Group of the IETF.


	Title           : Message Body Handling in the Session Initiation Protocol (SIP)
	Author(s)       : G. Camarillo
	Filename        : draft-ietf-sip-body-handling-02.txt
	Pages           : 17
	Date            : 2008-05-26

This document specifies how message bodies are handled in SIP.
Additionally, it specifies SIP user agent support for MIME
(Multipurpose Internet Mail Extensions) in message bodies.

A URL for this Internet-Draft is:
http://www.ietf.org/internet-drafts/draft-ietf-sip-body-handling-02.txt

Internet-Drafts are also available by anonymous FTP at:
ftp://ftp.ietf.org/internet-drafts/

Below is the data which will enable a MIME compliant mail reader
implementation to automatically retrieve the ASCII version of the
Internet-Draft.

--NextPart
Content-Type: Message/External-body;
	name="draft-ietf-sip-body-handling-02.txt";
	site="ftp.ietf.org";
	access-type="anon-ftp";
	directory="internet-drafts"

Content-Type: text/plain
Content-ID: <2008-05-26014715.I-D@ietf.org>


--NextPart
Content-Type: text/plain; charset="us-ascii"
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip
--NextPart--


From sip-bounces@ietf.org  Mon May 26 03:54:50 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 7E95C3A6A37;
	Mon, 26 May 2008 03:54:50 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 5D6E23A68B9
	for <sip@core3.amsl.com>; Mon, 26 May 2008 03:54:49 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -1.671
X-Spam-Level: 
X-Spam-Status: No, score=-1.671 tagged_above=-999 required=5 tests=[AWL=0.929, 
	BAYES_00=-2.599, NO_RELAYS=-0.001]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id WzwU5bqVFXJn for <sip@core3.amsl.com>;
	Mon, 26 May 2008 03:54:44 -0700 (PDT)
Received: from smtp.cnr.it (unknown [IPv6:2001:760:4000:60:202:55ff:fe9d:132f])
	by core3.amsl.com (Postfix) with ESMTP id 9608C3A685B
	for <sip@ietf.org>; Mon, 26 May 2008 03:54:43 -0700 (PDT)
Received: by smtp.cnr.it (Postfix, from userid 1000)
	id 68F6CACE37; Mon, 26 May 2008 12:54:44 +0200 (CEST)
From: ".:: Francesco la Torre ::." <francesco.latorre@studenti.ing.unipi.it>
To: Hannes Tschofenig <Hannes.Tschofenig@gmx.net>
In-Reply-To: <48396873.4050402@gmx.net>
References: <1211561492.6036.13.camel@ubuntu-ser> <48396873.4050402@gmx.net>
Date: Mon, 26 May 2008 12:54:43 +0200
Message-Id: <1211799283.6036.5.camel@ubuntu-ser>
Mime-Version: 1.0
X-Mailer: Evolution 2.22.1 
Cc: sip@ietf.org
Subject: Re: [Sip] SAML-SIP_draft-ietf-sip-saml-03
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Archive: <https://www.ietf.org/mailman/private/sip>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

The next IETF meeting is planned on 27th July ... I suppose there is no
way to have a preview of this document ... :-)
I'm working on an implementation of this RFC and I'm (obviously) really
interested on the improvements introduced in a new version.

Thanks,
Francesco la Torre
IIT-CNR/Pisa

Il giorno dom, 25/05/2008 alle 16.24 +0300, Hannes Tschofenig ha
scritto:
> We will submit an updated version before the next IETF meeting.
> The next version will address some of the open issues and feedback we 
> received.
> 
> 
> .:: Francesco la Torre ::. wrote:
> > This draft has the expire date on 21th May 2008.
> > Which is the future of this work ?
> >
> > Thanks,
> > Francesco la Torre
> > _______________________________________________
> > Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> > This list is for NEW development of the core SIP Protocol
> > Use sip-implementors@cs.columbia.edu for questions on current sip
> > Use sipping@ietf.org for new developments on the application of sip
> >   
> 
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From caalvarezn@ici.ulr.cl  Mon May 26 08:50:10 2008
Return-Path: <caalvarezn@ici.ulr.cl>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 2546B3A69FC;
	Mon, 26 May 2008 08:50:10 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: 2.187
X-Spam-Level: **
X-Spam-Status: No, score=2.187 tagged_above=-999 required=5
	tests=[BAYES_99=3.5, FH_HELO_EQ_D_D_D_D=1.597,
	FH_HOST_EQ_D_D_D_D=0.765, FH_HOST_EQ_D_D_D_DB=0.888,
	FM_DDDD_TIMES_2=1.999, HELO_DYNAMIC_HCC=4.295,
	HELO_DYNAMIC_IPADDR2=4.395, HELO_EQ_BR=0.955, HELO_EQ_DSL=1.129,
	HOST_EQ_BR=1.295, HTTP_ESCAPED_HOST=0.134, J_CHICKENPOX_24=0.6,
	RAZOR2_CF_RANGE_51_100=0.5, RAZOR2_CF_RANGE_E4_51_100=1.5,
	RAZOR2_CF_RANGE_E8_51_100=1.5, RAZOR2_CHECK=0.5, RCVD_IN_PBL=0.905,
	RCVD_IN_XBL=3.033, RDNS_DYNAMIC=0.1, SARE_SPEC_ROLEX_NOV5F=0.666,
	TVD_RCVD_IP=1.931, URIBL_AB_SURBL=10, URIBL_BLACK=20,
	URIBL_JP_SURBL=10, URIBL_OB_SURBL=10, URIBL_SC_SURBL=10,
	URIBL_WS_SURBL=10, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id r0AXWVNBtsg4; Mon, 26 May 2008 08:50:04 -0700 (PDT)
Received: from 200-140-111-164.gnace704.dsl.brasiltelecom.net.br (200-140-111-164.gnace704.dsl.brasiltelecom.net.br [200.140.111.164])
	by core3.amsl.com (Postfix) with SMTP id E16A23A695C;
	Mon, 26 May 2008 08:49:49 -0700 (PDT)
X-Originating-IP: 82.187.204.108 by smtp.200.24.114.53;  Mon, 26 May 2008 11:49:19 -0500
Message-ID: <nsplgbqGVLTWsip@ietf.org>
From: "Rosalind Goodrich" <sip@ietf.org>
Reply-To: "Rosalind Goodrich" <sip@ietf.org>
To: sip@ietf.org
Subject: Affordable brand name watches
Date: Mon, 26 May 2008 11:49:19 -0500
Content-Type: text/plain;
Content-Transfer-Encoding: 7Bit


A Bvlgari watch is an extraordinary masterpiece that is born from the marriage of watch making and jewelry expertise. Only the most discriminating and sophisticated watch users dare put a Bv1gari on their wrists, but once the metal touches their skin, they are bound forever... How would you like to become one of the lucky few that have experienced the pleasure of sporting a Bvlgari timepiece? Now you can, and at a very reduced cost! Prestige Replicas offers a tremendous collection of Bvlgari replicas starting just a little above $200... So now there is no reason why you can't have your very own Bvlgari today!
http://www%2Eannsidn%2Ecom/





From c.stavroff@rubinrealestate.com  Mon May 26 21:52:50 2008
Return-Path: <c.stavroff@rubinrealestate.com>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 16A3C3A6AEC;
	Mon, 26 May 2008 21:52:50 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -15.713
X-Spam-Level: 
X-Spam-Status: No, score=-15.713 tagged_above=-999 required=5
	tests=[BAYES_99=3.5, FH_HELO_EQ_D_D_D_D=1.597,
	FH_HOST_EQ_D_D_D_D=0.765, FM_DDDD_TIMES_2=1.999, FS_REPLICA=0.994,
	HELO_DYNAMIC_IPADDR=2.426, HTTP_ESCAPED_HOST=0.134,
	RAZOR2_CF_RANGE_51_100=0.5, RAZOR2_CF_RANGE_E4_51_100=1.5,
	RAZOR2_CF_RANGE_E8_51_100=1.5, RAZOR2_CHECK=0.5,
	RCVD_IN_BL_SPAMCOP_NET=1.96, RCVD_IN_PBL=0.905, RCVD_IN_XBL=3.033,
	RDNS_DYNAMIC=0.1, SARE_SPEC_REPLICA_OBFU=1.812,
	SARE_SPEC_ROLEX_NOV5A=1.062, URIBL_BLACK=20, URIBL_JP_SURBL=10,
	URIBL_OB_SURBL=10, URIBL_SC_SURBL=10, URIBL_WS_SURBL=10,
	USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id seZjDiypJVFy; Mon, 26 May 2008 21:52:44 -0700 (PDT)
Received: from pc-195-145-47-190.cm.vtr.net (pc-195-145-47-190.cm.vtr.net [190.47.145.195])
	by core3.amsl.com (Postfix) with SMTP id A63DC3A6846;
	Mon, 26 May 2008 21:51:54 -0700 (PDT)
X-Originating-IP: 182.132.200.204 by smtp.190.47.145.195;  Tue, 27 May 2008 00:52:07 -0500
Message-ID: <adsaauvIFDJLBsip@ietf.org>
From: "Mickey Villarreal" <sip@ietf.org>
Reply-To: "Mickey Villarreal" <sip@ietf.org>
To: sip@ietf.org
Subject: The discreet replica store
Date: Tue, 27 May 2008 00:52:07 -0500
Content-Type: text/plain;
Content-Transfer-Encoding: 7Bit


An IWC watch is a uniquely handcrafted time piece that combines a classical element with a timeless elegance. Its appeal comes from their traditional beauty and their superb performance. But this sophistication has always come with a high price tag. Except of course, when you buy an IWC replica. And Prestige Replicas has dozens of IWC replica watches at prices so incredibly low that you can rest assured they won't last long! So, why not head over to Prestige Replicas right now and take a look at their IWC watches? After all, isn't it time you wore a splendid wristwatch without having to spend a fortune?
http://www%2Esuppoenn%2Ecom/





From sip-bounces@ietf.org  Tue May 27 04:12:23 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 27E103A68B3;
	Tue, 27 May 2008 04:12:23 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id B93BC3A6A51
	for <sip@core3.amsl.com>; Thu, 22 May 2008 01:43:18 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -4.988
X-Spam-Level: 
X-Spam-Status: No, score=-4.988 tagged_above=-999 required=5
	tests=[AWL=-0.344, BAYES_00=-2.599, DEAR_SOMETHING=1.605,
	HELO_EQ_SE=0.35, RCVD_IN_DNSWL_MED=-4]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id OI9Z5FyHg26I for <sip@core3.amsl.com>;
	Thu, 22 May 2008 01:43:17 -0700 (PDT)
Received: from mailgw4.ericsson.se (mailgw4.ericsson.se [193.180.251.62])
	by core3.amsl.com (Postfix) with ESMTP id A24753A682F
	for <sip@ietf.org>; Thu, 22 May 2008 01:43:17 -0700 (PDT)
Received: from mailgw4.ericsson.se (unknown [127.0.0.1])
	by mailgw4.ericsson.se (Symantec Mail Security) with ESMTP id
	D91D4215F8 for <sip@ietf.org>; Thu, 22 May 2008 10:43:22 +0200 (CEST)
X-AuditID: c1b4fb3e-ad997bb000004ec0-2c-4835322a3d90
Received: from esealmw128.eemea.ericsson.se (unknown [153.88.254.121])
	by mailgw4.ericsson.se (Symantec Mail Security) with ESMTP id
	C04F1215E9 for <sip@ietf.org>; Thu, 22 May 2008 10:43:22 +0200 (CEST)
Received: from esealmw128.eemea.ericsson.se ([153.88.254.176]) by
	esealmw128.eemea.ericsson.se with Microsoft SMTPSVC(6.0.3790.1830); 
	Thu, 22 May 2008 10:43:22 +0200
Received: from emyklmw103.eapac.ericsson.se ([150.236.92.103]) by
	esealmw128.eemea.ericsson.se with Microsoft SMTPSVC(6.0.3790.1830); 
	Thu, 22 May 2008 10:43:21 +0200
Received: from ecnbjmw513.eapac.ericsson.se ([150.236.34.26]) by
	emyklmw103.eapac.ericsson.se with Microsoft SMTPSVC(6.0.3790.1830); 
	Thu, 22 May 2008 16:43:07 +0800
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Thu, 22 May 2008 16:43:05 +0800
Message-ID: <BAF5F619287DFA4F8BE069A8198CBBB201CA6518@ecnbjmw513.eapac.ericsson.se>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: What are heart beat messages in VOIP via SIP calls? Thanks
Thread-Index: Aci2SakGEerMadAGSxWo9UrPVWU8kAEz15vwAC30U6AAACpsQAAAQR9AAAVOnnA=
From: "Yuantao Zhang" <yuantao.zhang@ericsson.com>
To: <sip@ietf.org>
X-OriginalArrivalTime: 22 May 2008 08:43:07.0432 (UTC)
	FILETIME=[DB7D4A80:01C8BBE7]
X-Brightmail-Tracker: AAAAAA==
X-Mailman-Approved-At: Tue, 27 May 2008 04:12:20 -0700
Subject: [Sip] What are heart beat messages in VOIP via SIP calls? Thanks
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Archive: <https://www.ietf.org/mailman/private/sip>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Dear Sir or Madam

What are heart beat messages in VOIP via SIP calls? What is the
standard? Thanks

Steven
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Tue May 27 04:15:50 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id BEACD3A69E4;
	Tue, 27 May 2008 04:15:50 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 827E23A6BC1
	for <sip@core3.amsl.com>; Thu, 22 May 2008 01:44:51 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -4.945
X-Spam-Level: 
X-Spam-Status: No, score=-4.945 tagged_above=-999 required=5
	tests=[AWL=-0.301, BAYES_00=-2.599, DEAR_SOMETHING=1.605,
	HELO_EQ_SE=0.35, RCVD_IN_DNSWL_MED=-4]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id GGz58jiVgbP2 for <sip@core3.amsl.com>;
	Thu, 22 May 2008 01:44:48 -0700 (PDT)
Received: from mailgw4.ericsson.se (mailgw4.ericsson.se [193.180.251.62])
	by core3.amsl.com (Postfix) with ESMTP id C16C03A6BC4
	for <sip@ietf.org>; Thu, 22 May 2008 01:44:46 -0700 (PDT)
Received: from mailgw4.ericsson.se (unknown [127.0.0.1])
	by mailgw4.ericsson.se (Symantec Mail Security) with ESMTP id
	2C9C3200DE for <sip@ietf.org>; Thu, 22 May 2008 10:44:52 +0200 (CEST)
X-AuditID: c1b4fb3e-ac995bb000004ec0-1e-48353284da5b
Received: from esealmw127.eemea.ericsson.se (unknown [153.88.254.122])
	by mailgw4.ericsson.se (Symantec Mail Security) with ESMTP id
	073712046C for <sip@ietf.org>; Thu, 22 May 2008 10:44:52 +0200 (CEST)
Received: from esealmw127.eemea.ericsson.se ([153.88.254.175]) by
	esealmw127.eemea.ericsson.se with Microsoft SMTPSVC(6.0.3790.1830); 
	Thu, 22 May 2008 10:44:51 +0200
Received: from emyklmw103.eapac.ericsson.se ([150.236.92.103]) by
	esealmw127.eemea.ericsson.se with Microsoft SMTPSVC(6.0.3790.1830); 
	Thu, 22 May 2008 10:44:50 +0200
Received: from ecnbjmw513.eapac.ericsson.se ([150.236.34.26]) by
	emyklmw103.eapac.ericsson.se with Microsoft SMTPSVC(6.0.3790.1830); 
	Thu, 22 May 2008 16:44:20 +0800
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Thu, 22 May 2008 16:44:18 +0800
Message-ID: <BAF5F619287DFA4F8BE069A8198CBBB201CA651F@ecnbjmw513.eapac.ericsson.se>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: MUST 200 OK contain SDP? Thanks
Thread-Index: Aci7y8Ccu2ENUpcER8SVd+I4biihjwABt+ygAAVSjbA=
From: "Yuantao Zhang" <yuantao.zhang@ericsson.com>
To: <sip@ietf.org>
X-OriginalArrivalTime: 22 May 2008 08:44:20.0070 (UTC)
	FILETIME=[06C8F860:01C8BBE8]
X-Brightmail-Tracker: AAAAAA==
X-Mailman-Approved-At: Tue, 27 May 2008 04:15:46 -0700
Subject: [Sip] MUST 200 OK contain SDP? Thanks
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Archive: <https://www.ietf.org/mailman/private/sip>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Dear Sir or Madam

I am an R&D engineer in Ericsson and really confused by the following
part in RFC_3261. Could you please help us to explain it? Thank you very
much.
"
13.2.1 Creating the Initial INVITE
.
.
.
        If the initial offer is in an INVITE, the answer MUST be in a
         reliable non-failure message from UAS back to UAC which is
         correlated to that INVITE.  For this specification, that is
         only the final 2xx response to that INVITE.  That same exact
         answer MAY also be placed in any provisional responses sent
         prior to the answer.  The UAC MUST treat the first session
         description it receives as the answer, and MUST ignore any
         session descriptions in subsequent responses to the initial
         INVITE.
.
.
."

Let's break it into 2 parts, in part 1, 
         "If the initial offer is in an INVITE, the answer MUST be in a
         reliable non-failure message from UAS back to UAC which is
         correlated to that INVITE.  For this specification, that is
         only the final 2xx response to that INVITE. "
Does that mean if "Invite" contains SDP offer, "200 OK" MUST contain SDP
answer.

In part 2,
         "That same exact answer MAY also be placed in any provisional
responses sent
         prior to the answer.  The UAC MUST treat the first session
         description it receives as the answer, and MUST ignore any
         session descriptions in subsequent responses to the initial
         INVITE."
Does that mean if "Invite" contains SDP offer, the answer SDP MAY be in
"180 ring" and not in "200 OK"? I think part 1 and part 2 are
inconsistent.

The attached sequence chart is the real problem we meet. Sx1 sends "bye"
to sx2 after the "200 OK" because there is no SDP answer in "200 OK".
But the producer of sx2 argues that the SDP answer is in "180 ring"
already. No need to repeat it in "200 OK". Could you please tell me who
is right? MUST 200 OK contain SDP? Thank you very much.

Sx1                              xs2
   ====1   invite(SDP)    ====> 
  <====2   100 trying     ====
  <====3   180 ringing(SDP)==== 
   ====4   prack          ====> 
  <====5   200 ack        ====> 
  <====6   200 OK (no SDP)====> 



Best Regards
Yuantao Zhang

I&V Engineer 
Broadband Networks R&D Center
Ericsson (China) Company Ltd.	
Ericsson Tower 		Phone :+86 10 8476 7240
No. 5 Lize East Street		Internal:11240
Chaoyang District		Fax     :+86 10 8476 7738
Beijing 100102		Mobile :+86 13911606213
P.R. China
http://www.ericsson.com	     e-mail :yuantao.zhang@ericsson.com

______________________________________________ 
This communication is confidential and intended solely for the
addressee(s). Any unauthorized review, use, disclosure or distribution
is prohibited. If you believe this message has been sent to you in
error, please notify the sender by replying to this transmission and
delete the message without disclosing it. Thank you.
E-mail including attachments is susceptible to data corruption,
interruption, unauthorized amendment, tampering and viruses, and we only
send and receive e-mails on the basis that we are not liable for any
such corruption, interception, amendment, tampering or viruses or any
consequences thereof.

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From c.fournis-vit@mjassocies.com  Tue May 27 07:34:17 2008
Return-Path: <c.fournis-vit@mjassocies.com>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 939133A6C49;
	Tue, 27 May 2008 07:34:17 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: 3.601
X-Spam-Level: ***
X-Spam-Status: No, score=3.601 tagged_above=-999 required=5
	tests=[BAYES_99=3.5, FH_HOST_EQ_D_D_D_D=0.765,
	FH_HOST_EQ_D_D_D_DB=0.888, FS_REPLICA=0.994, FS_REPLICAWATCH=10.357,
	HELO_DYNAMIC_IPADDR2=4.395, HELO_DYNAMIC_SPLIT_IP=3.493,
	HELO_EQ_IP_ADDR=1.119, HOST_EQ_USERONOCOM=1.444,
	HTTP_ESCAPED_HOST=0.134, RAZOR2_CF_RANGE_51_100=0.5,
	RAZOR2_CF_RANGE_E4_51_100=1.5, RAZOR2_CF_RANGE_E8_51_100=1.5,
	RAZOR2_CHECK=0.5, RCVD_IN_PBL=0.905, RCVD_IN_SORBS_DUL=0.877,
	RCVD_IN_XBL=3.033, RCVD_NUMERIC_HELO=2.067, RDNS_DYNAMIC=0.1,
	SARE_SPEC_REPLICA_OBFU=1.812, SARE_SPEC_ROLEX_NOV5A=1.062,
	SARE_SUB_PERFECT=0.725, TVD_RCVD_IP=1.931, URIBL_BLACK=20,
	URIBL_JP_SURBL=10, URIBL_OB_SURBL=10, URIBL_SC_SURBL=10,
	URIBL_WS_SURBL=10, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id iOzE6Pl+0tNm; Tue, 27 May 2008 07:34:10 -0700 (PDT)
Received: from 84.122.134.204.dyn.user.ono.com (84.122.134.204.dyn.user.ono.com [84.122.134.204])
	by core3.amsl.com (Postfix) with SMTP id BDB523A6C2D;
	Tue, 27 May 2008 07:33:55 -0700 (PDT)
X-Originating-IP: 72.112.116.71 by smtp.84.122.134.204;  Tue, 27 May 2008 10:34:00 -0500
Message-ID: <uhhyccuZDZCKPAsherri.hilton@ietf.org>
From: "Vern Coker" <sherri.hilton@ietf.org>
Reply-To: "Vern Coker" <sherri.hilton@ietf.org>
To: sherri.hilton@ietf.org
Subject: Replica watch is a perfect gift
Date: Tue, 27 May 2008 10:34:00 -0500
Content-Type: text/plain;
Content-Transfer-Encoding: 7Bit


If the only thing standing between you and a luxurious Cartier watch is money, then today is your lucky day! Prestige Replicas, the world-famous replica watches dealer, is offering a 15% discount during these spring months for two or more watches, making their whole Cartier collection even more affordable.
http://www%2Esuppoenn%2Ecom/

As you are probably aware of, Prestige Replicas has one of the most extensive collections of Cartier replica watches in the whole wide web. Who cares if they are not legitimate? These replicas are of such high quality that not even a connoisseur would be able to distinguish them from an original Cartier. And with their online delivery guarantee you will be enjoying your new watch in just a couple of days! So, what are you waiting for? Visit Prestige Replicas today!
http://www%2Esuppoenn%2Ecom/






From sip-bounces@ietf.org  Tue May 27 08:01:55 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 13F043A698F;
	Tue, 27 May 2008 08:01:55 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 9BB723A689D
	for <sip@core3.amsl.com>; Tue, 27 May 2008 08:01:53 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -1.877
X-Spam-Level: 
X-Spam-Status: No, score=-1.877 tagged_above=-999 required=5 tests=[AWL=0.722, 
	BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 3M5yTisFFkpA for <sip@core3.amsl.com>;
	Tue, 27 May 2008 08:01:48 -0700 (PDT)
Received: from out002.iad.hostedmail.net (out002.iad.hostedmail.net
	[209.225.56.24])
	by core3.amsl.com (Postfix) with ESMTP id AA08F3A69F0
	for <sip@ietf.org>; Tue, 27 May 2008 08:01:48 -0700 (PDT)
Received: from ATL1VEXC020.usdom003.tco.tc ([10.158.7.31]) by
	out002.iad.hostedmail.net with Microsoft SMTPSVC(6.0.3790.3959);
	Tue, 27 May 2008 11:01:47 -0400
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Tue, 27 May 2008 11:01:53 -0400
Message-ID: <BBE61D1553D8A34F812FF87377B2935F038F0F73@ATL1VEXC020.usdom003.tco.tc>
In-Reply-To: <4CF736A4-616A-4F37-8578-093071B3E763@nostrum.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: draft-sparks-sip-invfix-01: comments and questions
Thread-Index: Aci8YTo+mjVFp4VcQm21CmongA3RhgDm6HsA
From: "Brett Tate" <brett@broadsoft.com>
To: "Robert Sparks" <rjsparks@nostrum.com>
X-OriginalArrivalTime: 27 May 2008 15:01:47.0829 (UTC)
	FILETIME=[95F77E50:01C8C00A]
Cc: sip@ietf.org
Subject: Re: [Sip] draft-sparks-sip-invfix-01: comments and questions
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Archive: <https://www.ietf.org/mailman/private/sip>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Thanks for the response.  Reply inline.

> > Section 8.4:
> >
> > Concerning timer D and "zero seconds for reliable 
> > transports", is "reliable" obtained from INVITE 
> > or ACK.
> >
> > Concerning timer D being zero, at first glance 
> > it looks like the state machine text no longer 
> > ensures ACK will be sent for extra 2xx or
> > 300-699.  The same applies, to ensuring ACK resent 
> > in situations where transport not reliable 
> > end-to-end.  Per 7.2 paragraph 2, this might be
> > intentional; if so, the motivation and flexibility 
> > in handling from section 7.2 should potentially 
> > also be included within 8.4.  If I'm misinterpreting 
> > the fix, where does it say the ACK MUST, SHOULD, or  
> > MAY still be (re-)sent for the extra responses when 
> > timer D is 0?
> 
> Well, the main requirement you're looking for is 
> (still) on the TU.  But I see your point in wondering 
> if a retransmitted 200 will still  _get_ to the TU if 
> it came over UDP. Let me look at it for awhile.

Okay.


> To carve that away from some of the other questions 
> you ask above:
> 
> You're talking about receiving a response over a 
> reliable transport  (like TCP).
> 
> Over such a transport, there won't _be_ any 
> additional 300-699 responses unless the thing on the 
> other end is violating the specification - remember 
> those are hop-by-hop messages, and the thing sending 
> them is required to hand reliability to the reliable 
> transport (it won't retransmit - timer G is not set 
> for reliable transports).  The path through the machines 
> when a 300-699 occurs hasn't changed from 3261.

By extra 300-699, I was mainly referring to 1) race conditions with 2xx
and 2) interoperability with pre-rfc3261 devices.

1) This should be rare since usually only results from connection
issues, threading issues, or stateless proxy issues causing the
reordering.

2) Unfortunately this is not as rare as everyone would like.  However it
is likely not much of an issue if the invfix chooses not to remain
backwards compatible with rfc2543 concerning resending the ACK.


> For a 200 class response, the transaction state machine doesn't send  
> the ACK - that is still the TU's job and this draft doesn't change  
> that. What we need to make sure is that we're leaving the path for a  
> retransmitted (or a 200 from another branch) to _get_ to the TU. I  
> thought we had, but its possible that's messed up. I'll look at it  
> some more.

Okay.
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Tue May 27 17:34:16 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 5FEA73A6A20;
	Tue, 27 May 2008 17:34:16 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id D89B33A6894
	for <sip@core3.amsl.com>; Tue, 27 May 2008 17:34:14 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: 2.507
X-Spam-Level: **
X-Spam-Status: No, score=2.507 tagged_above=-999 required=5
	tests=[BAYES_00=-2.599, CHARSET_FARAWAY_HEADER=3.2,
	DEAR_SOMETHING=1.605, HTML_MESSAGE=0.001, MIME_8BIT_HEADER=0.3]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id OAmVHd1RQOWK for <sip@core3.amsl.com>;
	Tue, 27 May 2008 17:34:13 -0700 (PDT)
Received: from fk-out-0910.google.com (fk-out-0910.google.com [209.85.128.188])
	by core3.amsl.com (Postfix) with ESMTP id DB1943A6A10
	for <sip@ietf.org>; Tue, 27 May 2008 17:34:09 -0700 (PDT)
Received: by fk-out-0910.google.com with SMTP id 18so2457374fkq.5
	for <sip@ietf.org>; Tue, 27 May 2008 17:34:15 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=gamma;
	h=domainkey-signature:received:received:message-id:date:from:to:subject:cc:in-reply-to:mime-version:content-type:references;
	bh=Vr4ZdclEG03GIAgfBelNxXb1qhStY2t7V4AO7U/ufFo=;
	b=MjgILZx7UL8KRwCZOBpwBrqoP9jnf6lHvMgSa7tYSA7eoqecmOLDUcHruGbnk6hRj7k56qUAdgUBCZWjDe1qV2v+uNl+PuMWM9ORE27EpmB4UDLIc58FVefhnLON3cGMDUx0MJ4VwcubutWMDJENMa8xI+zBYgZvgaH4AoJIAKE=
DomainKey-Signature: a=rsa-sha1; c=nofws; d=gmail.com; s=gamma;
	h=message-id:date:from:to:subject:cc:in-reply-to:mime-version:content-type:references;
	b=F4cSCIxga5ZIjCO6WZrgZ7QfUxNCUF9lr3nJUKhGYtK+3wuoF6YHKkYN9uUV8rIkvaeoO7BUeysaPjsifdPgLk9UOb+B1CCSNZ2q4MQnSwwQdiEMJwDmvONbk/or+ZRyTT1QzkO3ioLeL0WQPd69LeK6wO9LYbAfnaGEJGRLeww=
Received: by 10.82.148.7 with SMTP id v7mr311009bud.4.1211934855669;
	Tue, 27 May 2008 17:34:15 -0700 (PDT)
Received: by 10.82.149.18 with HTTP; Tue, 27 May 2008 17:34:15 -0700 (PDT)
Message-ID: <2374a5fb0805271734h3df5f8ebu97273056293f8591@mail.gmail.com>
Date: Wed, 28 May 2008 08:34:15 +0800
From: "=?GB2312?B?y+/TwLni?=" <sammanengineer@gmail.com>
To: "Yuantao Zhang" <yuantao.zhang@ericsson.com>
In-Reply-To: <BAF5F619287DFA4F8BE069A8198CBBB201CA651F@ecnbjmw513.eapac.ericsson.se>
MIME-Version: 1.0
References: <BAF5F619287DFA4F8BE069A8198CBBB201CA651F@ecnbjmw513.eapac.ericsson.se>
Cc: sip@ietf.org
Subject: Re: [Sip] MUST 200 OK contain SDP? Thanks
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Archive: <https://www.ietf.org/mailman/private/sip>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: multipart/mixed; boundary="===============0533666888=="
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

--===============0533666888==
Content-Type: multipart/alternative; 
	boundary="----=_Part_17297_20952287.1211934855681"

------=_Part_17297_20952287.1211934855681
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Hi Yuantao
   I'm SunYongGuang, my msn is yongguangsun@hotmail.com

it is ok,

        "If the initial offer is in an INVITE, the answer MUST be in a
        reliable non-failure message from UAS back to UAC which is
        correlated to that INVITE.  For this specification, that is
        only the final 2xx response to that INVITE. "
Does that mean if "Invite" contains SDP offer, "200 OK" MUST contain SDP
answer.
"the answer MUST be in a reliable non-failure message from UAS back to UAC
which is
  correlated to that INVITE" in your scenario  , the 180 with 100rel  is
reliable non-failure message and it includes SDP, the offer/answer is
completed, so the 200 response may include SDP or not, please refer RFC3262


2008/5/22, Yuantao Zhang <yuantao.zhang@ericsson.com>:
>
> Dear Sir or Madam
>
> I am an R&D engineer in Ericsson and really confused by the following
> part in RFC_3261. Could you please help us to explain it? Thank you very
> much.
> "
> 13.2.1 Creating the Initial INVITE
> .
> .
> .
>        If the initial offer is in an INVITE, the answer MUST be in a
>         reliable non-failure message from UAS back to UAC which is
>         correlated to that INVITE.  For this specification, that is
>         only the final 2xx response to that INVITE.  That same exact
>         answer MAY also be placed in any provisional responses sent
>         prior to the answer.  The UAC MUST treat the first session
>         description it receives as the answer, and MUST ignore any
>         session descriptions in subsequent responses to the initial
>         INVITE.
> .
> .
> ."
>
> Let's break it into 2 parts, in part 1,
>         "If the initial offer is in an INVITE, the answer MUST be in a
>         reliable non-failure message from UAS back to UAC which is
>         correlated to that INVITE.  For this specification, that is
>         only the final 2xx response to that INVITE. "
> Does that mean if "Invite" contains SDP offer, "200 OK" MUST contain SDP
> answer.
>
> In part 2,
>         "That same exact answer MAY also be placed in any provisional
> responses sent
>         prior to the answer.  The UAC MUST treat the first session
>         description it receives as the answer, and MUST ignore any
>         session descriptions in subsequent responses to the initial
>         INVITE."
> Does that mean if "Invite" contains SDP offer, the answer SDP MAY be in
> "180 ring" and not in "200 OK"? I think part 1 and part 2 are
> inconsistent.
>
> The attached sequence chart is the real problem we meet. Sx1 sends "bye"
> to sx2 after the "200 OK" because there is no SDP answer in "200 OK".
> But the producer of sx2 argues that the SDP answer is in "180 ring"
> already. No need to repeat it in "200 OK". Could you please tell me who
> is right? MUST 200 OK contain SDP? Thank you very much.
>
> Sx1                              xs2
>   ====1   invite(SDP)    ====>
> <====2   100 trying     ====
> <====3   180 ringing(SDP)====
>   ====4   prack          ====>
> <====5   200 ack        ====>
> <====6   200 OK (no SDP)====>
>
>
>
> Best Regards
> Yuantao Zhang
>
> I&V Engineer
> Broadband Networks R&D Center
> Ericsson (China) Company Ltd.
> Ericsson Tower          Phone :+86 10 8476 7240
> No. 5 Lize East Street          Internal:11240
> Chaoyang District               Fax     :+86 10 8476 7738
> Beijing 100102          Mobile :+86 13911606213
> P.R. China
> http://www.ericsson.com      e-mail :yuantao.zhang@ericsson.com
>
> ______________________________________________
> This communication is confidential and intended solely for the
> addressee(s). Any unauthorized review, use, disclosure or distribution
> is prohibited. If you believe this message has been sent to you in
> error, please notify the sender by replying to this transmission and
> delete the message without disclosing it. Thank you.
> E-mail including attachments is susceptible to data corruption,
> interruption, unauthorized amendment, tampering and viruses, and we only
> send and receive e-mails on the basis that we are not liable for any
> such corruption, interception, amendment, tampering or viruses or any
> consequences thereof.
>
> _______________________________________________
> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
>

------=_Part_17297_20952287.1211934855681
Content-Type: text/html; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

<div>Hi Yuantao</div>
<div>&nbsp;&nbsp; I&#39;m SunYongGuang, my msn is <a href="mailto:yongguangsun@hotmail.com">yongguangsun@hotmail.com</a></div>
<div>&nbsp;</div>
<div>it is ok, </div>
<div><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;If the initial offer is in an INVITE, the answer MUST be in a<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;reliable non-failure message from UAS back to UAC which is<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;correlated to that INVITE.&nbsp;&nbsp;For this specification, that is<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;only the final 2xx response to that INVITE. &quot;<br>Does that mean if &quot;Invite&quot; contains SDP offer, &quot;200 OK&quot; MUST contain SDP<br>answer.<br>&quot;the answer MUST be in a&nbsp;reliable non-failure message from UAS back to UAC which is<br>
&nbsp;&nbsp;correlated to that INVITE&quot; in your scenario&nbsp; , the 180 with 100rel&nbsp; is reliable non-failure message and it includes SDP, the offer/answer is completed, so the 200 response&nbsp;may include SDP or not, please refer RFC3262</div>

<div>&nbsp;<br>&nbsp;</div>
<div><span class="gmail_quote">2008/5/22, Yuantao Zhang &lt;<a href="mailto:yuantao.zhang@ericsson.com">yuantao.zhang@ericsson.com</a>&gt;:</span>
<blockquote class="gmail_quote" style="PADDING-LEFT: 1ex; MARGIN: 0px 0px 0px 0.8ex; BORDER-LEFT: #ccc 1px solid">Dear Sir or Madam<br><br>I am an R&amp;D engineer in Ericsson and really confused by the following<br>part in RFC_3261. Could you please help us to explain it? Thank you very<br>
much.<br>&quot;<br>13.2.1 Creating the Initial INVITE<br>.<br>.<br>.<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; If the initial offer is in an INVITE, the answer MUST be in a<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;reliable non-failure message from UAS back to UAC which is<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;correlated to that INVITE.&nbsp;&nbsp;For this specification, that is<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;only the final 2xx response to that INVITE.&nbsp;&nbsp;That same exact<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;answer MAY also be placed in any provisional responses sent<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prior to the answer.&nbsp;&nbsp;The UAC MUST treat the first session<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;description it receives as the answer, and MUST ignore any<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;session descriptions in subsequent responses to the initial<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;INVITE.<br>.<br>.<br>.&quot;<br><br>Let&#39;s break it into 2 parts, in part 1,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;If the initial offer is in an INVITE, the answer MUST be in a<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;reliable non-failure message from UAS back to UAC which is<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;correlated to that INVITE.&nbsp;&nbsp;For this specification, that is<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;only the final 2xx response to that INVITE. &quot;<br>Does that mean if &quot;Invite&quot; contains SDP offer, &quot;200 OK&quot; MUST contain SDP<br>
answer.<br><br>In part 2,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;That same exact answer MAY also be placed in any provisional<br>responses sent<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prior to the answer.&nbsp;&nbsp;The UAC MUST treat the first session<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;description it receives as the answer, and MUST ignore any<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;session descriptions in subsequent responses to the initial<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;INVITE.&quot;<br>Does that mean if &quot;Invite&quot; contains SDP offer, the answer SDP MAY be in<br>&quot;180 ring&quot; and not in &quot;200 OK&quot;? I think part 1 and part 2 are<br>
inconsistent.<br><br>The attached sequence chart is the real problem we meet. Sx1 sends &quot;bye&quot;<br>to sx2 after the &quot;200 OK&quot; because there is no SDP answer in &quot;200 OK&quot;.<br>But the producer of sx2 argues that the SDP answer is in &quot;180 ring&quot;<br>
already. No need to repeat it in &quot;200 OK&quot;. Could you please tell me who<br>is right? MUST 200 OK contain SDP? Thank you very much.<br><br>Sx1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;xs2<br>&nbsp;&nbsp;====1&nbsp;&nbsp; invite(SDP)&nbsp;&nbsp;&nbsp;&nbsp;====&gt;<br>
&lt;====2&nbsp;&nbsp; 100 trying&nbsp;&nbsp;&nbsp;&nbsp; ====<br>&lt;====3&nbsp;&nbsp; 180 ringing(SDP)====<br>&nbsp;&nbsp;====4&nbsp;&nbsp; prack&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;====&gt;<br>&lt;====5&nbsp;&nbsp; 200 ack&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;====&gt;<br>&lt;====6&nbsp;&nbsp; 200 OK (no SDP)====&gt;<br><br><br><br>Best Regards<br>Yuantao Zhang<br>
<br>I&amp;V Engineer<br>Broadband Networks R&amp;D Center<br>Ericsson (China) Company Ltd.<br>Ericsson Tower&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Phone :+86 10 8476 7240<br>No. 5 Lize East Street&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Internal:11240<br>Chaoyang District&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Fax&nbsp;&nbsp;&nbsp;&nbsp; :+86 10 8476 7738<br>
Beijing 100102&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Mobile :+86 13911606213<br>P.R. China<br><a href="http://www.ericsson.com">http://www.ericsson.com</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e-mail :<a href="mailto:yuantao.zhang@ericsson.com">yuantao.zhang@ericsson.com</a><br><br>
______________________________________________<br>This communication is confidential and intended solely for the<br>addressee(s). Any unauthorized review, use, disclosure or distribution<br>is prohibited. If you believe this message has been sent to you in<br>
error, please notify the sender by replying to this transmission and<br>delete the message without disclosing it. Thank you.<br>E-mail including attachments is susceptible to data corruption,<br>interruption, unauthorized amendment, tampering and viruses, and we only<br>
send and receive e-mails on the basis that we are not liable for any<br>such corruption, interception, amendment, tampering or viruses or any<br>consequences thereof.<br><br>_______________________________________________<br>
Sip mailing list&nbsp;&nbsp;<a href="https://www.ietf.org/mailman/listinfo/sip">https://www.ietf.org/mailman/listinfo/sip</a><br>This list is for NEW development of the core SIP Protocol<br>Use <a href="mailto:sip-implementors@cs.columbia.edu">sip-implementors@cs.columbia.edu</a> for questions on current sip<br>
Use <a href="mailto:sipping@ietf.org">sipping@ietf.org</a> for new developments on the application of sip<br></blockquote></div><br>

------=_Part_17297_20952287.1211934855681--

--===============0533666888==
Content-Type: text/plain; charset="us-ascii"
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip
--===============0533666888==--


From sip-bounces@ietf.org  Tue May 27 18:12:02 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 8C4CC3A6992;
	Tue, 27 May 2008 18:12:02 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 864AF3A6892
	for <sip@core3.amsl.com>; Tue, 27 May 2008 18:11:57 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: 1.704
X-Spam-Level: *
X-Spam-Status: No, score=1.704 tagged_above=-999 required=5 tests=[AWL=0.802, 
	BAYES_00=-2.599, CHARSET_FARAWAY_HEADER=3.2, HTML_MESSAGE=0.001,
	MIME_8BIT_HEADER=0.3]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id ju0RVyQpzy+8 for <sip@core3.amsl.com>;
	Tue, 27 May 2008 18:11:53 -0700 (PDT)
Received: from fk-out-0910.google.com (fk-out-0910.google.com [209.85.128.186])
	by core3.amsl.com (Postfix) with ESMTP id 2FE5A3A6B59
	for <sip@ietf.org>; Tue, 27 May 2008 18:11:48 -0700 (PDT)
Received: by fk-out-0910.google.com with SMTP id 18so2467149fkq.5
	for <sip@ietf.org>; Tue, 27 May 2008 18:11:49 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=gamma;
	h=domainkey-signature:received:received:message-id:date:from:to:subject:cc:in-reply-to:mime-version:content-type:references;
	bh=36AA+Erys4jVj6/b2P0INQWQzhUM1PNoUBwy4G03efU=;
	b=oHv9J8b8qitge7CJNvMRvL9CtRPPkOOO26TWlco7dlgOCkuFJvqXZSQ2WuHvLwkA+Y6csvNAB2dKuwOxX/Zv06Uti8QwHOIgvvomQ1sMPlG6JlDc0kC8UemeMzESctoqbv0A+NMCtDIYqqByfjfmPgQ/zg17tF388kNAaZlMfPQ=
DomainKey-Signature: a=rsa-sha1; c=nofws; d=gmail.com; s=gamma;
	h=message-id:date:from:to:subject:cc:in-reply-to:mime-version:content-type:references;
	b=C6P8P+U/Z1GBBO0G/17XFJZ3fNBjBBZJNH+Cd37AaTZWI/Rkwqj7Vs1Vzkvd/f/TZTFdUm0CHGG2QvVc2jYZfoONxhGSTilN16EwJ9RkIzGy0H1rufPjZYyFBGTbVHDp21qzIJXuLEzAx9s/BpzS2SS125xCd6U7fXnNQN68GLU=
Received: by 10.82.126.1 with SMTP id y1mr315581buc.20.1211937109065;
	Tue, 27 May 2008 18:11:49 -0700 (PDT)
Received: by 10.82.149.18 with HTTP; Tue, 27 May 2008 18:11:48 -0700 (PDT)
Message-ID: <2374a5fb0805271811m2cdbeee1k32ec26145054bbf@mail.gmail.com>
Date: Wed, 28 May 2008 09:11:48 +0800
From: "=?GB2312?B?y+/TwLni?=" <sammanengineer@gmail.com>
To: "Brett Tate" <brett@broadsoft.com>
In-Reply-To: <BBE61D1553D8A34F812FF87377B2935F038F0F73@ATL1VEXC020.usdom003.tco.tc>
MIME-Version: 1.0
References: <4CF736A4-616A-4F37-8578-093071B3E763@nostrum.com>
	<BBE61D1553D8A34F812FF87377B2935F038F0F73@ATL1VEXC020.usdom003.tco.tc>
Cc: sip@ietf.org
Subject: Re: [Sip] draft-sparks-sip-invfix-01: comments and questions
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Archive: <https://www.ietf.org/mailman/private/sip>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: multipart/mixed; boundary="===============0989859761=="
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

--===============0989859761==
Content-Type: multipart/alternative; 
	boundary="----=_Part_17311_11402901.1211937109030"

------=_Part_17311_11402901.1211937109030
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

H i All

7.1.  UAS Impacts

 If the *UAC's *TU issues a 2xx response for this transaction while the
   state machine is in the "Proceeding" state, it MUST transisition to
   the "Accepted" state and set Timer L to 64*T1.

the UAC should be UAS

2008/5/27, Brett Tate <brett@broadsoft.com>:
>
> Thanks for the response.  Reply inline.
>
> > > Section 8.4:
> > >
> > > Concerning timer D and "zero seconds for reliable
> > > transports", is "reliable" obtained from INVITE
> > > or ACK.
> > >
> > > Concerning timer D being zero, at first glance
> > > it looks like the state machine text no longer
> > > ensures ACK will be sent for extra 2xx or
> > > 300-699.  The same applies, to ensuring ACK resent
> > > in situations where transport not reliable
> > > end-to-end.  Per 7.2 paragraph 2, this might be
> > > intentional; if so, the motivation and flexibility
> > > in handling from section 7.2 should potentially
> > > also be included within 8.4.  If I'm misinterpreting
> > > the fix, where does it say the ACK MUST, SHOULD, or
> > > MAY still be (re-)sent for the extra responses when
> > > timer D is 0?
> >
> > Well, the main requirement you're looking for is
> > (still) on the TU.  But I see your point in wondering
> > if a retransmitted 200 will still  _get_ to the TU if
> > it came over UDP. Let me look at it for awhile.
>
> Okay.
>
>
> > To carve that away from some of the other questions
> > you ask above:
> >
> > You're talking about receiving a response over a
> > reliable transport  (like TCP).
> >
> > Over such a transport, there won't _be_ any
> > additional 300-699 responses unless the thing on the
> > other end is violating the specification - remember
> > those are hop-by-hop messages, and the thing sending
> > them is required to hand reliability to the reliable
> > transport (it won't retransmit - timer G is not set
> > for reliable transports).  The path through the machines
> > when a 300-699 occurs hasn't changed from 3261.
>
> By extra 300-699, I was mainly referring to 1) race conditions with 2xx
> and 2) interoperability with pre-rfc3261 devices.
>
> 1) This should be rare since usually only results from connection
> issues, threading issues, or stateless proxy issues causing the
> reordering.
>
> 2) Unfortunately this is not as rare as everyone would like.  However it
> is likely not much of an issue if the invfix chooses not to remain
> backwards compatible with rfc2543 concerning resending the ACK.
>
>
> > For a 200 class response, the transaction state machine doesn't send
> > the ACK - that is still the TU's job and this draft doesn't change
> > that. What we need to make sure is that we're leaving the path for a
> > retransmitted (or a 200 from another branch) to _get_ to the TU. I
> > thought we had, but its possible that's messed up. I'll look at it
> > some more.
>
> Okay.
> _______________________________________________
> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
>

------=_Part_17311_11402901.1211937109030
Content-Type: text/html; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

<div>H i All</div>
<div>&nbsp;</div>
<div>7.1.&nbsp; UAS Impacts<br><br>&nbsp;If the <strong>UAC&#39;s </strong>TU issues a 2xx response for this transaction while the<br>&nbsp;&nbsp; state machine is in the &quot;Proceeding&quot; state, it MUST transisition to<br>&nbsp;&nbsp; the &quot;Accepted&quot; state and set Timer L to 64*T1.<br>
&nbsp;</div>
<div>the UAC should be UAS<br>&nbsp;</div>
<div><span class="gmail_quote">2008/5/27, Brett Tate &lt;<a href="mailto:brett@broadsoft.com">brett@broadsoft.com</a>&gt;:</span>
<blockquote class="gmail_quote" style="PADDING-LEFT: 1ex; MARGIN: 0px 0px 0px 0.8ex; BORDER-LEFT: #ccc 1px solid">Thanks for the response.&nbsp;&nbsp;Reply inline.<br><br>&gt; &gt; Section 8.4:<br>&gt; &gt;<br>&gt; &gt; Concerning timer D and &quot;zero seconds for reliable<br>
&gt; &gt; transports&quot;, is &quot;reliable&quot; obtained from INVITE<br>&gt; &gt; or ACK.<br>&gt; &gt;<br>&gt; &gt; Concerning timer D being zero, at first glance<br>&gt; &gt; it looks like the state machine text no longer<br>
&gt; &gt; ensures ACK will be sent for extra 2xx or<br>&gt; &gt; 300-699.&nbsp;&nbsp;The same applies, to ensuring ACK resent<br>&gt; &gt; in situations where transport not reliable<br>&gt; &gt; end-to-end.&nbsp;&nbsp;Per 7.2 paragraph 2, this might be<br>
&gt; &gt; intentional; if so, the motivation and flexibility<br>&gt; &gt; in handling from section 7.2 should potentially<br>&gt; &gt; also be included within 8.4.&nbsp;&nbsp;If I&#39;m misinterpreting<br>&gt; &gt; the fix, where does it say the ACK MUST, SHOULD, or<br>
&gt; &gt; MAY still be (re-)sent for the extra responses when<br>&gt; &gt; timer D is 0?<br>&gt;<br>&gt; Well, the main requirement you&#39;re looking for is<br>&gt; (still) on the TU.&nbsp;&nbsp;But I see your point in wondering<br>
&gt; if a retransmitted 200 will still&nbsp;&nbsp;_get_ to the TU if<br>&gt; it came over UDP. Let me look at it for awhile.<br><br>Okay.<br><br><br>&gt; To carve that away from some of the other questions<br>&gt; you ask above:<br>
&gt;<br>&gt; You&#39;re talking about receiving a response over a<br>&gt; reliable transport&nbsp;&nbsp;(like TCP).<br>&gt;<br>&gt; Over such a transport, there won&#39;t _be_ any<br>&gt; additional 300-699 responses unless the thing on the<br>
&gt; other end is violating the specification - remember<br>&gt; those are hop-by-hop messages, and the thing sending<br>&gt; them is required to hand reliability to the reliable<br>&gt; transport (it won&#39;t retransmit - timer G is not set<br>
&gt; for reliable transports).&nbsp;&nbsp;The path through the machines<br>&gt; when a 300-699 occurs hasn&#39;t changed from 3261.<br><br>By extra 300-699, I was mainly referring to 1) race conditions with 2xx<br>and 2) interoperability with pre-rfc3261 devices.<br>
<br>1) This should be rare since usually only results from connection<br>issues, threading issues, or stateless proxy issues causing the<br>reordering.<br><br>2) Unfortunately this is not as rare as everyone would like.&nbsp;&nbsp;However it<br>
is likely not much of an issue if the invfix chooses not to remain<br>backwards compatible with rfc2543 concerning resending the ACK.<br><br><br>&gt; For a 200 class response, the transaction state machine doesn&#39;t send<br>
&gt; the ACK - that is still the TU&#39;s job and this draft doesn&#39;t change<br>&gt; that. What we need to make sure is that we&#39;re leaving the path for a<br>&gt; retransmitted (or a 200 from another branch) to _get_ to the TU. I<br>
&gt; thought we had, but its possible that&#39;s messed up. I&#39;ll look at it<br>&gt; some more.<br><br>Okay.<br>_______________________________________________<br>Sip mailing list&nbsp;&nbsp;<a href="https://www.ietf.org/mailman/listinfo/sip">https://www.ietf.org/mailman/listinfo/sip</a><br>
This list is for NEW development of the core SIP Protocol<br>Use <a href="mailto:sip-implementors@cs.columbia.edu">sip-implementors@cs.columbia.edu</a> for questions on current sip<br>Use <a href="mailto:sipping@ietf.org">sipping@ietf.org</a> for new developments on the application of sip<br>
</blockquote></div><br>

------=_Part_17311_11402901.1211937109030--

--===============0989859761==
Content-Type: text/plain; charset="us-ascii"
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip
--===============0989859761==--


From sip-bounces@ietf.org  Tue May 27 20:09:57 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id C8B6B3A6868;
	Tue, 27 May 2008 20:09:56 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 621883A6C43
	for <sip@core3.amsl.com>; Tue, 27 May 2008 20:09:53 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -5.646
X-Spam-Level: 
X-Spam-Status: No, score=-5.646 tagged_above=-999 required=5
	tests=[AWL=-0.953, BAYES_00=-2.599, DEAR_SOMETHING=1.605,
	MIME_8BIT_HEADER=0.3, RCVD_IN_DNSWL_MED=-4]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id qRAfWwwFfklA for <sip@core3.amsl.com>;
	Tue, 27 May 2008 20:09:41 -0700 (PDT)
Received: from rtp-iport-1.cisco.com (rtp-iport-1.cisco.com [64.102.122.148])
	by core3.amsl.com (Postfix) with ESMTP id D44813A699E
	for <sip@ietf.org>; Tue, 27 May 2008 20:09:38 -0700 (PDT)
X-IronPort-AV: E=Sophos;i="4.27,552,1204520400"; 
   d="scan'208";a="9408275"
Received: from rtp-dkim-1.cisco.com ([64.102.121.158])
	by rtp-iport-1.cisco.com with ESMTP; 27 May 2008 23:09:44 -0400
Received: from rtp-core-2.cisco.com (rtp-core-2.cisco.com [64.102.124.13])
	by rtp-dkim-1.cisco.com (8.12.11/8.12.11) with ESMTP id m4S39ii4027471; 
	Tue, 27 May 2008 23:09:44 -0400
Received: from xbh-rtp-211.amer.cisco.com (xbh-rtp-211.cisco.com
	[64.102.31.102])
	by rtp-core-2.cisco.com (8.13.8/8.13.8) with ESMTP id m4S39i48016771;
	Wed, 28 May 2008 03:09:44 GMT
Received: from xfe-rtp-201.amer.cisco.com ([64.102.31.38]) by
	xbh-rtp-211.amer.cisco.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Tue, 27 May 2008 23:09:44 -0400
Received: from [10.86.248.92] ([10.86.248.92]) by xfe-rtp-201.amer.cisco.com
	with Microsoft SMTPSVC(6.0.3790.1830); 
	Tue, 27 May 2008 23:09:44 -0400
Message-ID: <483CCD1E.7070600@cisco.com>
Date: Tue, 27 May 2008 23:10:22 -0400
From: Paul Kyzivat <pkyzivat@cisco.com>
User-Agent: Thunderbird 2.0.0.14 (Windows/20080421)
MIME-Version: 1.0
To: =?UTF-8?B?5a2Z5rC45YWJ?= <sammanengineer@gmail.com>
References: <BAF5F619287DFA4F8BE069A8198CBBB201CA651F@ecnbjmw513.eapac.ericsson.se>
	<2374a5fb0805271734h3df5f8ebu97273056293f8591@mail.gmail.com>
In-Reply-To: <2374a5fb0805271734h3df5f8ebu97273056293f8591@mail.gmail.com>
X-OriginalArrivalTime: 28 May 2008 03:09:44.0444 (UTC)
	FILETIME=[47420BC0:01C8C070]
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; l=5733; t=1211944184;
	x=1212808184; c=relaxed/simple; s=rtpdkim1001;
	h=Content-Type:From:Subject:Content-Transfer-Encoding:MIME-Version;
	d=cisco.com; i=pkyzivat@cisco.com;
	z=From:=20Paul=20Kyzivat=20<pkyzivat@cisco.com>
	|Subject:=20Re=3A=20[Sip]=20MUST=20200=20OK=20contain=20SDP
	?=20Thanks |Sender:=20
	|To:=20=3D?UTF-8?B?5a2Z5rC45YWJ?=3D=20<sammanengineer@gmail
	.com>; bh=QSJS6UaaeaOacPjYv/UGpELw62F/2sJMxcAT2kT452E=;
	b=Z/lyXpr6v4/NQlElhMCNXE9iD9YQSJbxXwrpDbvLPkOA1tiibiN3EL//++
	dUBT8VgqhvEuA2mZ4wjWNm//Ziz4ZoFSb/EPs7Z/xZfhYE7/aP/rkA/UZKOu
	VsJ07yrm+q;
Authentication-Results: rtp-dkim-1; header.From=pkyzivat@cisco.com; dkim=pass (
	sig from cisco.com/rtpdkim1001 verified; ); 
Cc: sip@ietf.org, Yuantao Zhang <yuantao.zhang@ericsson.com>
Subject: Re: [Sip] MUST 200 OK contain SDP? Thanks
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Archive: <https://www.ietf.org/mailman/private/sip>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

VGFrZSBhIGxvb2sgYXQKCmh0dHA6Ly93d3cuaWV0Zi5vcmcvaW50ZXJuZXQtZHJhZnRzL2RyYWZ0
LWlldGYtc2lwcGluZy1zaXAtb2ZmZXJhbnN3ZXItMDgudHh0CgpJdCBzaG91bGQgYW5zd2VyIHlv
dXIgcXVlc3Rpb25zLgoKCVRoYW5rcywKCVBhdWwKCuWtmeawuOWFiSB3cm90ZToKPiBIaSBZdWFu
dGFvCj4gICAgSSdtIFN1bllvbmdHdWFuZywgbXkgbXNuIGlzIHlvbmdndWFuZ3N1bkBob3RtYWls
LmNvbSAKPiA8bWFpbHRvOnlvbmdndWFuZ3N1bkBob3RtYWlsLmNvbT4KPiAgCj4gaXQgaXMgb2ss
Cj4gCj4gICAgICAgICAiSWYgdGhlIGluaXRpYWwgb2ZmZXIgaXMgaW4gYW4gSU5WSVRFLCB0aGUg
YW5zd2VyIE1VU1QgYmUgaW4gYQo+ICAgICAgICAgcmVsaWFibGUgbm9uLWZhaWx1cmUgbWVzc2Fn
ZSBmcm9tIFVBUyBiYWNrIHRvIFVBQyB3aGljaCBpcwo+ICAgICAgICAgY29ycmVsYXRlZCB0byB0
aGF0IElOVklURS4gIEZvciB0aGlzIHNwZWNpZmljYXRpb24sIHRoYXQgaXMKPiAgICAgICAgIG9u
bHkgdGhlIGZpbmFsIDJ4eCByZXNwb25zZSB0byB0aGF0IElOVklURS4gIgo+IERvZXMgdGhhdCBt
ZWFuIGlmICJJbnZpdGUiIGNvbnRhaW5zIFNEUCBvZmZlciwgIjIwMCBPSyIgTVVTVCBjb250YWlu
IFNEUAo+IGFuc3dlci4KPiAidGhlIGFuc3dlciBNVVNUIGJlIGluIGEgcmVsaWFibGUgbm9uLWZh
aWx1cmUgbWVzc2FnZSBmcm9tIFVBUyBiYWNrIHRvIAo+IFVBQyB3aGljaCBpcwo+ICAgY29ycmVs
YXRlZCB0byB0aGF0IElOVklURSIgaW4geW91ciBzY2VuYXJpbyAgLCB0aGUgMTgwIHdpdGggMTAw
cmVsICBpcyAKPiByZWxpYWJsZSBub24tZmFpbHVyZSBtZXNzYWdlIGFuZCBpdCBpbmNsdWRlcyBT
RFAsIHRoZSBvZmZlci9hbnN3ZXIgaXMgCj4gY29tcGxldGVkLCBzbyB0aGUgMjAwIHJlc3BvbnNl
IG1heSBpbmNsdWRlIFNEUCBvciBub3QsIHBsZWFzZSByZWZlciBSRkMzMjYyCj4gIAo+ICAKPiAy
MDA4LzUvMjIsIFl1YW50YW8gWmhhbmcgPHl1YW50YW8uemhhbmdAZXJpY3Nzb24uY29tIAo+IDxt
YWlsdG86eXVhbnRhby56aGFuZ0Blcmljc3Nvbi5jb20+PjoKPiAKPiAgICAgRGVhciBTaXIgb3Ig
TWFkYW0KPiAKPiAgICAgSSBhbSBhbiBSJkQgZW5naW5lZXIgaW4gRXJpY3Nzb24gYW5kIHJlYWxs
eSBjb25mdXNlZCBieSB0aGUgZm9sbG93aW5nCj4gICAgIHBhcnQgaW4gUkZDXzMyNjEuIENvdWxk
IHlvdSBwbGVhc2UgaGVscCB1cyB0byBleHBsYWluIGl0PyBUaGFuayB5b3UgdmVyeQo+ICAgICBt
dWNoLgo+ICAgICAiCj4gICAgIDEzLjIuMSBDcmVhdGluZyB0aGUgSW5pdGlhbCBJTlZJVEUKPiAg
ICAgLgo+ICAgICAuCj4gICAgIC4KPiAgICAgICAgICAgIElmIHRoZSBpbml0aWFsIG9mZmVyIGlz
IGluIGFuIElOVklURSwgdGhlIGFuc3dlciBNVVNUIGJlIGluIGEKPiAgICAgICAgICAgICByZWxp
YWJsZSBub24tZmFpbHVyZSBtZXNzYWdlIGZyb20gVUFTIGJhY2sgdG8gVUFDIHdoaWNoIGlzCj4g
ICAgICAgICAgICAgY29ycmVsYXRlZCB0byB0aGF0IElOVklURS4gIEZvciB0aGlzIHNwZWNpZmlj
YXRpb24sIHRoYXQgaXMKPiAgICAgICAgICAgICBvbmx5IHRoZSBmaW5hbCAyeHggcmVzcG9uc2Ug
dG8gdGhhdCBJTlZJVEUuICBUaGF0IHNhbWUgZXhhY3QKPiAgICAgICAgICAgICBhbnN3ZXIgTUFZ
IGFsc28gYmUgcGxhY2VkIGluIGFueSBwcm92aXNpb25hbCByZXNwb25zZXMgc2VudAo+ICAgICAg
ICAgICAgIHByaW9yIHRvIHRoZSBhbnN3ZXIuICBUaGUgVUFDIE1VU1QgdHJlYXQgdGhlIGZpcnN0
IHNlc3Npb24KPiAgICAgICAgICAgICBkZXNjcmlwdGlvbiBpdCByZWNlaXZlcyBhcyB0aGUgYW5z
d2VyLCBhbmQgTVVTVCBpZ25vcmUgYW55Cj4gICAgICAgICAgICAgc2Vzc2lvbiBkZXNjcmlwdGlv
bnMgaW4gc3Vic2VxdWVudCByZXNwb25zZXMgdG8gdGhlIGluaXRpYWwKPiAgICAgICAgICAgICBJ
TlZJVEUuCj4gICAgIC4KPiAgICAgLgo+ICAgICAuIgo+IAo+ICAgICBMZXQncyBicmVhayBpdCBp
bnRvIDIgcGFydHMsIGluIHBhcnQgMSwKPiAgICAgICAgICAgICAiSWYgdGhlIGluaXRpYWwgb2Zm
ZXIgaXMgaW4gYW4gSU5WSVRFLCB0aGUgYW5zd2VyIE1VU1QgYmUgaW4gYQo+ICAgICAgICAgICAg
IHJlbGlhYmxlIG5vbi1mYWlsdXJlIG1lc3NhZ2UgZnJvbSBVQVMgYmFjayB0byBVQUMgd2hpY2gg
aXMKPiAgICAgICAgICAgICBjb3JyZWxhdGVkIHRvIHRoYXQgSU5WSVRFLiAgRm9yIHRoaXMgc3Bl
Y2lmaWNhdGlvbiwgdGhhdCBpcwo+ICAgICAgICAgICAgIG9ubHkgdGhlIGZpbmFsIDJ4eCByZXNw
b25zZSB0byB0aGF0IElOVklURS4gIgo+ICAgICBEb2VzIHRoYXQgbWVhbiBpZiAiSW52aXRlIiBj
b250YWlucyBTRFAgb2ZmZXIsICIyMDAgT0siIE1VU1QgY29udGFpbiBTRFAKPiAgICAgYW5zd2Vy
Lgo+IAo+ICAgICBJbiBwYXJ0IDIsCj4gICAgICAgICAgICAgIlRoYXQgc2FtZSBleGFjdCBhbnN3
ZXIgTUFZIGFsc28gYmUgcGxhY2VkIGluIGFueSBwcm92aXNpb25hbAo+ICAgICByZXNwb25zZXMg
c2VudAo+ICAgICAgICAgICAgIHByaW9yIHRvIHRoZSBhbnN3ZXIuICBUaGUgVUFDIE1VU1QgdHJl
YXQgdGhlIGZpcnN0IHNlc3Npb24KPiAgICAgICAgICAgICBkZXNjcmlwdGlvbiBpdCByZWNlaXZl
cyBhcyB0aGUgYW5zd2VyLCBhbmQgTVVTVCBpZ25vcmUgYW55Cj4gICAgICAgICAgICAgc2Vzc2lv
biBkZXNjcmlwdGlvbnMgaW4gc3Vic2VxdWVudCByZXNwb25zZXMgdG8gdGhlIGluaXRpYWwKPiAg
ICAgICAgICAgICBJTlZJVEUuIgo+ICAgICBEb2VzIHRoYXQgbWVhbiBpZiAiSW52aXRlIiBjb250
YWlucyBTRFAgb2ZmZXIsIHRoZSBhbnN3ZXIgU0RQIE1BWSBiZSBpbgo+ICAgICAiMTgwIHJpbmci
IGFuZCBub3QgaW4gIjIwMCBPSyI/IEkgdGhpbmsgcGFydCAxIGFuZCBwYXJ0IDIgYXJlCj4gICAg
IGluY29uc2lzdGVudC4KPiAKPiAgICAgVGhlIGF0dGFjaGVkIHNlcXVlbmNlIGNoYXJ0IGlzIHRo
ZSByZWFsIHByb2JsZW0gd2UgbWVldC4gU3gxIHNlbmRzICJieWUiCj4gICAgIHRvIHN4MiBhZnRl
ciB0aGUgIjIwMCBPSyIgYmVjYXVzZSB0aGVyZSBpcyBubyBTRFAgYW5zd2VyIGluICIyMDAgT0si
Lgo+ICAgICBCdXQgdGhlIHByb2R1Y2VyIG9mIHN4MiBhcmd1ZXMgdGhhdCB0aGUgU0RQIGFuc3dl
ciBpcyBpbiAiMTgwIHJpbmciCj4gICAgIGFscmVhZHkuIE5vIG5lZWQgdG8gcmVwZWF0IGl0IGlu
ICIyMDAgT0siLiBDb3VsZCB5b3UgcGxlYXNlIHRlbGwgbWUgd2hvCj4gICAgIGlzIHJpZ2h0PyBN
VVNUIDIwMCBPSyBjb250YWluIFNEUD8gVGhhbmsgeW91IHZlcnkgbXVjaC4KPiAKPiAgICAgU3gx
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeHMyCj4gICAgICAgPT09PTEgICBpbnZpdGUo
U0RQKSAgICA9PT09Pgo+ICAgICA8PT09PTIgICAxMDAgdHJ5aW5nICAgICA9PT09Cj4gICAgIDw9
PT09MyAgIDE4MCByaW5naW5nKFNEUCk9PT09Cj4gICAgICAgPT09PTQgICBwcmFjayAgICAgICAg
ICA9PT09Pgo+ICAgICA8PT09PTUgICAyMDAgYWNrICAgICAgICA9PT09Pgo+ICAgICA8PT09PTYg
ICAyMDAgT0sgKG5vIFNEUCk9PT09Pgo+IAo+IAo+IAo+ICAgICBCZXN0IFJlZ2FyZHMKPiAgICAg
WXVhbnRhbyBaaGFuZwo+IAo+ICAgICBJJlYgRW5naW5lZXIKPiAgICAgQnJvYWRiYW5kIE5ldHdv
cmtzIFImRCBDZW50ZXIKPiAgICAgRXJpY3Nzb24gKENoaW5hKSBDb21wYW55IEx0ZC4KPiAgICAg
RXJpY3Nzb24gVG93ZXIgICAgICAgICAgUGhvbmUgOis4NiAxMCA4NDc2IDcyNDAKPiAgICAgTm8u
IDUgTGl6ZSBFYXN0IFN0cmVldCAgICAgICAgICBJbnRlcm5hbDoxMTI0MAo+ICAgICBDaGFveWFu
ZyBEaXN0cmljdCAgICAgICAgICAgICAgIEZheCAgICAgOis4NiAxMCA4NDc2IDc3MzgKPiAgICAg
QmVpamluZyAxMDAxMDIgICAgICAgICAgTW9iaWxlIDorODYgMTM5MTE2MDYyMTMKPiAgICAgUC5S
LiBDaGluYQo+ICAgICBodHRwOi8vd3d3LmVyaWNzc29uLmNvbSAgICAgIGUtbWFpbCA6eXVhbnRh
by56aGFuZ0Blcmljc3Nvbi5jb20KPiAgICAgPG1haWx0bzp5dWFudGFvLnpoYW5nQGVyaWNzc29u
LmNvbT4KPiAKPiAgICAgX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fXwo+ICAgICBUaGlzIGNvbW11bmljYXRpb24gaXMgY29uZmlkZW50aWFsIGFuZCBpbnRlbmRl
ZCBzb2xlbHkgZm9yIHRoZQo+ICAgICBhZGRyZXNzZWUocykuIEFueSB1bmF1dGhvcml6ZWQgcmV2
aWV3LCB1c2UsIGRpc2Nsb3N1cmUgb3IgZGlzdHJpYnV0aW9uCj4gICAgIGlzIHByb2hpYml0ZWQu
IElmIHlvdSBiZWxpZXZlIHRoaXMgbWVzc2FnZSBoYXMgYmVlbiBzZW50IHRvIHlvdSBpbgo+ICAg
ICBlcnJvciwgcGxlYXNlIG5vdGlmeSB0aGUgc2VuZGVyIGJ5IHJlcGx5aW5nIHRvIHRoaXMgdHJh
bnNtaXNzaW9uIGFuZAo+ICAgICBkZWxldGUgdGhlIG1lc3NhZ2Ugd2l0aG91dCBkaXNjbG9zaW5n
IGl0LiBUaGFuayB5b3UuCj4gICAgIEUtbWFpbCBpbmNsdWRpbmcgYXR0YWNobWVudHMgaXMgc3Vz
Y2VwdGlibGUgdG8gZGF0YSBjb3JydXB0aW9uLAo+ICAgICBpbnRlcnJ1cHRpb24sIHVuYXV0aG9y
aXplZCBhbWVuZG1lbnQsIHRhbXBlcmluZyBhbmQgdmlydXNlcywgYW5kIHdlIG9ubHkKPiAgICAg
c2VuZCBhbmQgcmVjZWl2ZSBlLW1haWxzIG9uIHRoZSBiYXNpcyB0aGF0IHdlIGFyZSBub3QgbGlh
YmxlIGZvciBhbnkKPiAgICAgc3VjaCBjb3JydXB0aW9uLCBpbnRlcmNlcHRpb24sIGFtZW5kbWVu
dCwgdGFtcGVyaW5nIG9yIHZpcnVzZXMgb3IgYW55Cj4gICAgIGNvbnNlcXVlbmNlcyB0aGVyZW9m
Lgo+IAo+ICAgICBfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
Xwo+ICAgICBTaXAgbWFpbGluZyBsaXN0ICBodHRwczovL3d3dy5pZXRmLm9yZy9tYWlsbWFuL2xp
c3RpbmZvL3NpcAo+ICAgICBUaGlzIGxpc3QgaXMgZm9yIE5FVyBkZXZlbG9wbWVudCBvZiB0aGUg
Y29yZSBTSVAgUHJvdG9jb2wKPiAgICAgVXNlIHNpcC1pbXBsZW1lbnRvcnNAY3MuY29sdW1iaWEu
ZWR1Cj4gICAgIDxtYWlsdG86c2lwLWltcGxlbWVudG9yc0Bjcy5jb2x1bWJpYS5lZHU+IGZvciBx
dWVzdGlvbnMgb24gY3VycmVudCBzaXAKPiAgICAgVXNlIHNpcHBpbmdAaWV0Zi5vcmcgPG1haWx0
bzpzaXBwaW5nQGlldGYub3JnPiBmb3IgbmV3IGRldmVsb3BtZW50cwo+ICAgICBvbiB0aGUgYXBw
bGljYXRpb24gb2Ygc2lwCj4gCj4gCj4gCj4gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCj4gCj4gX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KPiBTaXAgbWFpbGluZyBsaXN0
ICBodHRwczovL3d3dy5pZXRmLm9yZy9tYWlsbWFuL2xpc3RpbmZvL3NpcAo+IFRoaXMgbGlzdCBp
cyBmb3IgTkVXIGRldmVsb3BtZW50IG9mIHRoZSBjb3JlIFNJUCBQcm90b2NvbAo+IFVzZSBzaXAt
aW1wbGVtZW50b3JzQGNzLmNvbHVtYmlhLmVkdSBmb3IgcXVlc3Rpb25zIG9uIGN1cnJlbnQgc2lw
Cj4gVXNlIHNpcHBpbmdAaWV0Zi5vcmcgZm9yIG5ldyBkZXZlbG9wbWVudHMgb24gdGhlIGFwcGxp
Y2F0aW9uIG9mIHNpcApfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fXwpTaXAgbWFpbGluZyBsaXN0ICBodHRwczovL3d3dy5pZXRmLm9yZy9tYWlsbWFuL2xpc3Rp
bmZvL3NpcApUaGlzIGxpc3QgaXMgZm9yIE5FVyBkZXZlbG9wbWVudCBvZiB0aGUgY29yZSBTSVAg
UHJvdG9jb2wKVXNlIHNpcC1pbXBsZW1lbnRvcnNAY3MuY29sdW1iaWEuZWR1IGZvciBxdWVzdGlv
bnMgb24gY3VycmVudCBzaXAKVXNlIHNpcHBpbmdAaWV0Zi5vcmcgZm9yIG5ldyBkZXZlbG9wbWVu
dHMgb24gdGhlIGFwcGxpY2F0aW9uIG9mIHNpcA==


From info@ukl.co.uk  Tue May 27 23:37:30 2008
Return-Path: <info@ukl.co.uk>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id B312D3A6C6B
	for <ietfarch-sip-archive@core3.amsl.com>; Tue, 27 May 2008 23:37:30 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -1.365
X-Spam-Level: 
X-Spam-Status: No, score=-1.365 tagged_above=-999 required=5 tests=[AWL=1.143,
	BAYES_00=-2.599, LOTTERY_PH_004470=2.015, RCVD_IN_DNSWL_MED=-4,
	SUBJ_ALL_CAPS=2.077]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id tig7TskYJZTk for <ietfarch-sip-archive@core3.amsl.com>;
	Tue, 27 May 2008 23:37:29 -0700 (PDT)
Received: from mtsu133.mtsu.edu (mtsu133.mtsu.edu [161.45.193.133])
	by core3.amsl.com (Postfix) with ESMTP id 9BC4328C153
	for <sip-archive@ietf.org>; Tue, 27 May 2008 23:35:26 -0700 (PDT)
Received: from mtsu130.mtsu.edu (EHLO MTSU130.mtsu.edu) ([161.45.193.130])
	by mtsu133.mtsu.edu (MOS 3.8.5-GA FastPath queued)
	with ESMTP id BRB19111;
	Wed, 28 May 2008 01:33:32 -0500 (CDT)
Received: from mtsu126.mtsu.edu ([161.45.193.126]) by MTSU130.mtsu.edu with InterScan Message Security Suite; Tue, 27 May 2008 23:28:07 -0500
Received: (from mtsu126.mtsu.edu [161.45.193.133])
	by mtsu126.mtsu.edu (MOS 3.8.5-GA)
	with HTTPS/1.1 id CMO76908 (AUTH csc2w);
	Tue, 27 May 2008 23:26:03 -0500 (CDT)
From: uk national lottery <info@ukl.co.uk>
Subject: CONGRATULATION YOUR EMAIL HAVE WON 1,000,000.00
 POUNDS STERLING
Reply-To: pg_claimsagent@yahoo.com.hk
X-Mailer: Mirapoint Webmail Direct 3.8.5-GA
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-Id: <20080527232603.CMO76908@mtsu126.mtsu.edu>
Date: Tue, 27 May 2008 23:26:03 -0500 (CDT)
X-Junkmail-Status: score=50/100, host=mtsu133.mtsu.edu
X-Junkmail-SD-Raw: score=bulk(0),
	refid=str=0001.0A090202.483CEE39.01BB,ss=3,sh,pt=45842,fgs=0,
	ip=161.45.193.130,
	so=2007-07-31 18:51:00,
	dmn=5.4.3/2008-02-01
To: undisclosed-recipients:;

UK NATIONAL LOTTERY HEADQUARTERS
P O Box 1010 Liverpool, L70 1NL
UNITED KINGDOM (Customer Services)

PRIZE AWARD WINNER 2008 EDITION,

We are pleased to inform you of the final
announcement that you are one of our
first quarter winners of the UNITED
KINGDOM NATIONAL LOTTERY,international
Lottery programs. held today the  27th
of May,2008.

The selection was made from the list of over
21,000 e-mail addresses of individual and
corporate bodies picked by an advanced
automated random computer search from the
internet, no tickets were sold.

After this automated computer ballot, your e-
mail address emerged as one of three winners
in the category \"A\" with the following
winning informations: You have therefore
  been approved to claim a total sum of
One million pounds sterling.

REF No: L/200-26937
BATCH No: 2007MJL-01

To file for your claim, Contact the processing
Consultant:

Dr.Pinkett Griffin
TEL:+44-704-571-1414
Email: pg_claimsagent@yahoo.com.hk

Do fill out the claims form to Dr.Pinkett Griffin
in other to processthe claims of your prize without delay.

Payment Processing Form:

1.Full names:____________________
2.Address:_______________________
3.Sex:___________________________
4.Age:___________________________
5.Marital status:________________
6.Occupation:____________________
7.E-mail address:________________
8.Telephone number:_________Fax__
9.Country________________________

Sincerely,
Mrs. Rose Wood.


From sip-bounces@ietf.org  Wed May 28 18:45:27 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id E177B28C222;
	Wed, 28 May 2008 18:45:26 -0700 (PDT)
X-Original-To: sip@ietf.org
Delivered-To: sip@core3.amsl.com
Received: by core3.amsl.com (Postfix, from userid 0)
	id DAC3228C1A8; Wed, 28 May 2008 18:45:01 -0700 (PDT)
From: Internet-Drafts@ietf.org
To: i-d-announce@ietf.org
Content-Type: Multipart/Mixed; Boundary="NextPart"
Mime-Version: 1.0
Message-Id: <20080529014501.DAC3228C1A8@core3.amsl.com>
Date: Wed, 28 May 2008 18:45:01 -0700 (PDT)
Cc: sip@ietf.org
Subject: [Sip] I-D Action:draft-ietf-sip-answermode-07.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Archive: <https://www.ietf.org/mailman/private/sip>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


--NextPart

A New Internet-Draft is available from the on-line Internet-Drafts directories.
This draft is a work item of the Session Initiation Protocol Working Group of the IETF.


	Title           : Requesting Answering Modes for the Session Initiation Protocol (SIP)
	Author(s)       : D. Willis, A. Allen
	Filename        : draft-ietf-sip-answermode-07.txt
	Pages           : 27
	Date            : 2008-05-28

This document extends SIP with two header fields and associated
option tags that can be used in INVITE requests to convey the
requester's preference for user-interface handling related to
answering of that request.  The first header, "Answer-Mode",
expresses a preference as to whether the target node's user interface
waits for user input before accepting the request or instead accepts
the request without waiting on user input.  The second header, "Priv-
Answer-Mode" is similar to the first, except that it requests
administrative-level access and has consequent additional
authentication and authorization requirements.  These behaviors have
applicability to applications such as Push-to-Talk and to diagnostics
like loop-back.  Usage of each header field in a response to indicate
how the request was handled is also defined.

A URL for this Internet-Draft is:
http://www.ietf.org/internet-drafts/draft-ietf-sip-answermode-07.txt

Internet-Drafts are also available by anonymous FTP at:
ftp://ftp.ietf.org/internet-drafts/

Below is the data which will enable a MIME compliant mail reader
implementation to automatically retrieve the ASCII version of the
Internet-Draft.

--NextPart
Content-Type: Message/External-body;
	name="draft-ietf-sip-answermode-07.txt";
	site="ftp.ietf.org";
	access-type="anon-ftp";
	directory="internet-drafts"

Content-Type: text/plain
Content-ID: <2008-05-28184447.I-D@ietf.org>


--NextPart
Content-Type: text/plain; charset="us-ascii"
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip
--NextPart--


From sip-bounces@ietf.org  Thu May 29 09:20:24 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id EFF643A6B29;
	Thu, 29 May 2008 09:20:23 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 0A9B53A6B1B
	for <sip@core3.amsl.com>; Thu, 29 May 2008 09:20:23 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: 0.001
X-Spam-Level: 
X-Spam-Status: No, score=0.001 tagged_above=-999 required=5
	tests=[BAYES_50=0.001]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id hxgzqptHY1TD for <sip@core3.amsl.com>;
	Thu, 29 May 2008 09:20:17 -0700 (PDT)
Received: from nylon.softarmor.com (nylon.softarmor.com [66.135.38.164])
	by core3.amsl.com (Postfix) with ESMTP id DD4193A6B57
	for <sip@ietf.org>; Thu, 29 May 2008 09:20:16 -0700 (PDT)
Received: from [192.168.2.103] (cpe-76-185-142-113.tx.res.rr.com
	[76.185.142.113]) (authenticated bits=0)
	by nylon.softarmor.com (8.13.8/8.13.8/Debian-3) with ESMTP id
	m4TGKDKc028949
	(version=TLSv1/SSLv3 cipher=AES128-SHA bits=128 verify=NOT)
	for <sip@ietf.org>; Thu, 29 May 2008 11:20:15 -0500
Message-Id: <8DEF8D14-8BD9-4354-8A18-9E890A97A12F@softarmor.com>
From: Dean Willis <dean.willis@softarmor.com>
To: sip@ietf.org
Mime-Version: 1.0 (Apple Message framework v924)
Date: Thu, 29 May 2008 11:20:07 -0500
X-Mailer: Apple Mail (2.924)
Subject: [Sip] test, please ignore
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Archive: <https://www.ietf.org/mailman/private/sip>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

There are rumours of a mail loop, and so I'm testing for it.

If you aren't me, please ignore this message.

--
Dean
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu May 29 17:16:29 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 4957928C15E;
	Thu, 29 May 2008 17:16:29 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 3E1783A6B79
	for <sip@core3.amsl.com>; Thu, 29 May 2008 17:16:28 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -6.599
X-Spam-Level: 
X-Spam-Status: No, score=-6.599 tagged_above=-999 required=5
	tests=[BAYES_00=-2.599, RCVD_IN_DNSWL_MED=-4]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id WnG+SDHQRe1w for <sip@core3.amsl.com>;
	Thu, 29 May 2008 17:16:26 -0700 (PDT)
Received: from zrtps0kn.nortel.com (zrtps0kn.nortel.com [47.140.192.55])
	by core3.amsl.com (Postfix) with ESMTP id 776D23A6B61
	for <sip@ietf.org>; Thu, 29 May 2008 17:16:26 -0700 (PDT)
Received: from zrc2hxm0.corp.nortel.com (zrc2hxm0.corp.nortel.com
	[47.103.123.71])
	by zrtps0kn.nortel.com (Switch-2.2.6/Switch-2.2.0) with ESMTP id
	m4U0GM425323; Fri, 30 May 2008 00:16:23 GMT
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Thu, 29 May 2008 19:16:19 -0500
Message-ID: <1ECE0EB50388174790F9694F77522CCF1715753D@zrc2hxm0.corp.nortel.com>
In-Reply-To: <20080523171502.3779528C27B@core3.amsl.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] I-D ACTION:draft-ietf-sip-199-00.txt
Thread-Index: Aci8+K2DyPRCly6PSV2gFPDoOw2pJgE8AlrA
References: <20080523171502.3779528C27B@core3.amsl.com>
From: "Francois Audet" <audet@nortel.com>
To: <christer.holmberg@ericsson.com>, <sip@ietf.org>
Subject: Re: [Sip] I-D ACTION:draft-ietf-sip-199-00.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Archive: <https://www.ietf.org/mailman/private/sip>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

I really think that this draft should make the inclusion of the original 
non-2XX final response in the 199 MANDATORY by the forking proxy. This would
be in a message/sip body as described in sectin 23.4/RFC 3261.

It should even include the Message body of the original
response if present (some error codes have SDP bodies for example).
Again, this would be embedded in the message/sip MIME.

Otherwise, this ambiguity will sabotage potential use of this
draft to solve wider problems such as HERFP.

> -----Original Message-----
> From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On 
> Behalf Of Internet-Drafts@ietf.org
> Sent: Friday, May 23, 2008 10:15
> To: i-d-announce@ietf.org
> Cc: sip@ietf.org
> Subject: [Sip] I-D ACTION:draft-ietf-sip-199-00.txt
> 
> A New Internet-Draft is available from the on-line 
> Internet-Drafts directories.
> This draft is a work item of the Session Initiation Protocol 
> Working Group of the IETF.
> 
> 	Title		: Response Code for Indication of 
> Terminated Dialog
> 	Author(s)	: C. Holmberg
> 	Filename	: draft-ietf-sip-199-00.txt
> 	Pages		: 9
> 	Date		: 2008-5-15
> 	
> This specification defines a new SIP response code, 199 Early Dialog
>    Terminated, which a SIP entity can use to indicate upstream that an
>    early dialog has been terminated.  The response code can 
> be used by a
>    SIP entity, normally a forking SIP proxy, to allow the UAC to know
>    that an early dialog has been terminated before it a final response
>    is sent to the request.
> 
> A URL for this Internet-Draft is:
> http://www.ietf.org/internet-drafts/draft-ietf-sip-199-00.txt
> 
> Internet-Drafts are also available by anonymous FTP at:
> ftp://ftp.ietf.org/internet-drafts/
> 
> Below is the data which will enable a MIME compliant mail 
> reader implementation to automatically retrieve the ASCII 
> version of the Internet-Draft.
> 
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Fri May 30 03:10:52 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id D82CC3A6CEC;
	Fri, 30 May 2008 03:10:52 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 1A8FB3A6CE7
	for <sip@core3.amsl.com>; Fri, 30 May 2008 03:10:52 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -6.249
X-Spam-Level: 
X-Spam-Status: No, score=-6.249 tagged_above=-999 required=5
	tests=[BAYES_00=-2.599, HELO_EQ_SE=0.35, RCVD_IN_DNSWL_MED=-4]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id zX7dMQMYVTZl for <sip@core3.amsl.com>;
	Fri, 30 May 2008 03:10:50 -0700 (PDT)
Received: from mailgw3.ericsson.se (mailgw3.ericsson.se [193.180.251.60])
	by core3.amsl.com (Postfix) with ESMTP id 5FA1B3A6CD2
	for <sip@ietf.org>; Fri, 30 May 2008 03:10:50 -0700 (PDT)
Received: from mailgw3.ericsson.se (unknown [127.0.0.1])
	by mailgw3.ericsson.se (Symantec Mail Security) with ESMTP id
	73D6B20ABB; Fri, 30 May 2008 12:10:48 +0200 (CEST)
X-AuditID: c1b4fb3c-ad099bb00000193b-a2-483fd2a84c59
Received: from esealmw128.eemea.ericsson.se (unknown [153.88.254.121])
	by mailgw3.ericsson.se (Symantec Mail Security) with ESMTP id
	46A9420BFF; Fri, 30 May 2008 12:10:48 +0200 (CEST)
Received: from esealmw113.eemea.ericsson.se ([153.88.200.4]) by
	esealmw128.eemea.ericsson.se with Microsoft SMTPSVC(6.0.3790.1830); 
	Fri, 30 May 2008 12:10:48 +0200
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Fri, 30 May 2008 12:10:46 +0200
Message-ID: <CA9998CD4A020D418654FCDEF4E707DF06702515@esealmw113.eemea.ericsson.se>
In-Reply-To: <1ECE0EB50388174790F9694F77522CCF1715753D@zrc2hxm0.corp.nortel.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] I-D ACTION:draft-ietf-sip-199-00.txt
Thread-Index: Aci8+K2DyPRCly6PSV2gFPDoOw2pJgE8AlrAABUYuXA=
References: <20080523171502.3779528C27B@core3.amsl.com>
	<1ECE0EB50388174790F9694F77522CCF1715753D@zrc2hxm0.corp.nortel.com>
From: "Christer Holmberg" <christer.holmberg@ericsson.com>
To: "Francois Audet" <audet@nortel.com>,
	<sip@ietf.org>
X-OriginalArrivalTime: 30 May 2008 10:10:48.0161 (UTC)
	FILETIME=[6E6ED510:01C8C23D]
X-Brightmail-Tracker: AAAAAA==
Subject: Re: [Sip] I-D ACTION:draft-ietf-sip-199-00.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Archive: <https://www.ietf.org/mailman/private/sip>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


Hi, 

>I really think that this draft should make the inclusion of the
original non-2XX final response in the 199 MANDATORY by the forking
proxy. This would be in a message/sip body as described in 
>sectin 23.4/RFC 3261.
>
>It should even include the Message body of the original response if
present (some error codes have SDP bodies for example).
>Again, this would be embedded in the message/sip MIME.

I guess this would also apply to the case when the UAS sends the 199
(the draft currently allows it).

>Otherwise, this ambiguity will sabotage potential use of this draft to
solve wider problems such as HERFP.

I have no problem to add what you propose, but what the UAC then does
with the information is in my opinion outside the scope of the document.
Ie we are not going to describe a solution to the HERFP problem.

Do you propose to MUST include error code, and SHOULD include message
body?

Regards,

Christer




> -----Original Message-----
> From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On Behalf Of 
> Internet-Drafts@ietf.org
> Sent: Friday, May 23, 2008 10:15
> To: i-d-announce@ietf.org
> Cc: sip@ietf.org
> Subject: [Sip] I-D ACTION:draft-ietf-sip-199-00.txt
> 
> A New Internet-Draft is available from the on-line Internet-Drafts 
> directories.
> This draft is a work item of the Session Initiation Protocol Working 
> Group of the IETF.
> 
> 	Title		: Response Code for Indication of 
> Terminated Dialog
> 	Author(s)	: C. Holmberg
> 	Filename	: draft-ietf-sip-199-00.txt
> 	Pages		: 9
> 	Date		: 2008-5-15
> 	
> This specification defines a new SIP response code, 199 Early Dialog
>    Terminated, which a SIP entity can use to indicate upstream that an
>    early dialog has been terminated.  The response code can be used by

> a
>    SIP entity, normally a forking SIP proxy, to allow the UAC to know
>    that an early dialog has been terminated before it a final response
>    is sent to the request.
> 
> A URL for this Internet-Draft is:
> http://www.ietf.org/internet-drafts/draft-ietf-sip-199-00.txt
> 
> Internet-Drafts are also available by anonymous FTP at:
> ftp://ftp.ietf.org/internet-drafts/
> 
> Below is the data which will enable a MIME compliant mail reader 
> implementation to automatically retrieve the ASCII version of the 
> Internet-Draft.
> 
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Fri May 30 15:38:33 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 3630F3A6C40;
	Fri, 30 May 2008 15:38:33 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 8459C3A6855
	for <sip@core3.amsl.com>; Fri, 30 May 2008 15:38:32 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -6.599
X-Spam-Level: 
X-Spam-Status: No, score=-6.599 tagged_above=-999 required=5
	tests=[BAYES_00=-2.599, RCVD_IN_DNSWL_MED=-4]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id wbUCvW39ds9L for <sip@core3.amsl.com>;
	Fri, 30 May 2008 15:38:30 -0700 (PDT)
Received: from zrtps0kp.nortel.com (zrtps0kp.nortel.com [47.140.192.56])
	by core3.amsl.com (Postfix) with ESMTP id CDA823A6C53
	for <sip@ietf.org>; Fri, 30 May 2008 15:35:04 -0700 (PDT)
Received: from zrc2hxm0.corp.nortel.com (zrc2hxm0.corp.nortel.com
	[47.103.123.71])
	by zrtps0kp.nortel.com (Switch-2.2.6/Switch-2.2.0) with ESMTP id
	m4UMZ0609550; Fri, 30 May 2008 22:35:01 GMT
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Fri, 30 May 2008 17:34:42 -0500
Message-ID: <1ECE0EB50388174790F9694F77522CCF1719E35C@zrc2hxm0.corp.nortel.com>
In-Reply-To: <CA9998CD4A020D418654FCDEF4E707DF06702515@esealmw113.eemea.ericsson.se>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] I-D ACTION:draft-ietf-sip-199-00.txt
Thread-Index: Aci8+K2DyPRCly6PSV2gFPDoOw2pJgE8AlrAABUYuXAAGeYKEA==
References: <20080523171502.3779528C27B@core3.amsl.com>
	<1ECE0EB50388174790F9694F77522CCF1715753D@zrc2hxm0.corp.nortel.com>
	<CA9998CD4A020D418654FCDEF4E707DF06702515@esealmw113.eemea.ericsson.se>
From: "Francois Audet" <audet@nortel.com>
To: "Christer Holmberg" <christer.holmberg@ericsson.com>, <sip@ietf.org>
Subject: Re: [Sip] I-D ACTION:draft-ietf-sip-199-00.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Archive: <https://www.ietf.org/mailman/private/sip>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

 
I think we are in agreement. 

See below.

> -----Original Message-----
> From: Christer Holmberg [mailto:christer.holmberg@ericsson.com] 
> Sent: Friday, May 30, 2008 03:11
> To: Audet, Francois (SC100:3055); sip@ietf.org
> Subject: RE: [Sip] I-D ACTION:draft-ietf-sip-199-00.txt
> 
> 
> Hi, 
> 
> >I really think that this draft should make the inclusion of the
> original non-2XX final response in the 199 MANDATORY by the 
> forking proxy. This would be in a message/sip body as described in 
> >sectin 23.4/RFC 3261.
> >
> >It should even include the Message body of the original response if
> present (some error codes have SDP bodies for example).
> >Again, this would be embedded in the message/sip MIME.
> 
> I guess this would also apply to the case when the UAS sends 
> the 199 (the draft currently allows it).

I guess so. However, I don't understand why a UAS would send a 199.
Section 5 provides no justification for it. I'd like to see an explanation
of why it's useful.

> >Otherwise, this ambiguity will sabotage potential use of 
> this draft to
> solve wider problems such as HERFP.
> 
> I have no problem to add what you propose, but what the UAC 
> then does with the information is in my opinion outside the 
> scope of the document.
> Ie we are not going to describe a solution to the HERFP problem.

That is perfect with me. Just state it as outside the scope of this
document.

I think this is a pragmatic way to allow progress on it.

> Do you propose to MUST include error code, and SHOULD include 
> message body?

I think the whole response (include error code and rest of the message,
including message body in the few cases where it exist) should be
included in a message/sip body, yes. As per section 23.4/RFC 3261
(just put a pointer to it). 

> Regards,
> 
> Christer
> 
> 
> 
> 
> > -----Original Message-----
> > From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On 
> Behalf Of 
> > Internet-Drafts@ietf.org
> > Sent: Friday, May 23, 2008 10:15
> > To: i-d-announce@ietf.org
> > Cc: sip@ietf.org
> > Subject: [Sip] I-D ACTION:draft-ietf-sip-199-00.txt
> > 
> > A New Internet-Draft is available from the on-line Internet-Drafts 
> > directories.
> > This draft is a work item of the Session Initiation 
> Protocol Working 
> > Group of the IETF.
> > 
> > 	Title		: Response Code for Indication of 
> > Terminated Dialog
> > 	Author(s)	: C. Holmberg
> > 	Filename	: draft-ietf-sip-199-00.txt
> > 	Pages		: 9
> > 	Date		: 2008-5-15
> > 	
> > This specification defines a new SIP response code, 199 Early Dialog
> >    Terminated, which a SIP entity can use to indicate 
> upstream that an
> >    early dialog has been terminated.  The response code can 
> be used by
> 
> > a
> >    SIP entity, normally a forking SIP proxy, to allow the 
> UAC to know
> >    that an early dialog has been terminated before it a 
> final response
> >    is sent to the request.
> > 
> > A URL for this Internet-Draft is:
> > http://www.ietf.org/internet-drafts/draft-ietf-sip-199-00.txt
> > 
> > Internet-Drafts are also available by anonymous FTP at:
> > ftp://ftp.ietf.org/internet-drafts/
> > 
> > Below is the data which will enable a MIME compliant mail reader 
> > implementation to automatically retrieve the ASCII version of the 
> > Internet-Draft.
> > 
> 
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


