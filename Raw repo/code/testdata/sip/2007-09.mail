From sip-bounces@ietf.org Mon Sep 03 03:55:20 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1IS6kG-0005cp-BZ; Mon, 03 Sep 2007 03:53:16 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1IS6kE-0005Y1-Cw
	for sip-confirm+ok@megatron.ietf.org; Mon, 03 Sep 2007 03:53:14 -0400
Received: from [10.91.34.44] (helo=ietf-mx.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1IS6kA-0005ST-DJ
	for sip@ietf.org; Mon, 03 Sep 2007 03:53:10 -0400
Received: from mailgw4.ericsson.se ([193.180.251.62])
	by ietf-mx.ietf.org with esmtp (Exim 4.43) id 1IS6k8-00037I-T5
	for sip@ietf.org; Mon, 03 Sep 2007 03:53:10 -0400
Received: from mailgw4.ericsson.se (unknown [127.0.0.1])
	by mailgw4.ericsson.se (Symantec Mail Security) with ESMTP id
	B7E8A219C4; Mon,  3 Sep 2007 09:48:55 +0200 (CEST)
X-AuditID: c1b4fb3e-b0034bb0000007e1-a8-46dbbc673662
Received: from esealmw126.eemea.ericsson.se (unknown [153.88.254.123])
	by mailgw4.ericsson.se (Symantec Mail Security) with ESMTP id
	6F1C5219BF; Mon,  3 Sep 2007 09:48:55 +0200 (CEST)
Received: from esealmw126.eemea.ericsson.se ([153.88.254.174]) by
	esealmw126.eemea.ericsson.se with Microsoft SMTPSVC(6.0.3790.1830); 
	Mon, 3 Sep 2007 09:48:54 +0200
Received: from mail.lmf.ericsson.se ([131.160.11.50]) by
	esealmw126.eemea.ericsson.se with Microsoft SMTPSVC(6.0.3790.1830); 
	Mon, 3 Sep 2007 09:48:54 +0200
Received: from [131.160.36.58] (E000FB0F665DD.lmf.ericsson.se [131.160.36.58])
	by mail.lmf.ericsson.se (Postfix) with ESMTP id 8B0DD246A;
	Mon,  3 Sep 2007 10:48:54 +0300 (EEST)
Message-ID: <46DBBC66.8060404@ericsson.com>
Date: Mon, 03 Sep 2007 10:48:54 +0300
From: Gonzalo Camarillo <Gonzalo.Camarillo@ericsson.com>
User-Agent: Thunderbird 2.0.0.6 (Windows/20070728)
MIME-Version: 1.0
To: Paul Kyzivat <pkyzivat@cisco.com>
Subject: Re: [Sip] New revision of draft-ietf-sip-body-handling-00.txt
References: <46D555BD.4010400@ericsson.com> <46D56325.7080704@cisco.com>
	<46D56D39.6030300@cisco.com>
In-Reply-To: <46D56D39.6030300@cisco.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-OriginalArrivalTime: 03 Sep 2007 07:48:54.0455 (UTC)
	FILETIME=[E055E470:01C7EDFE]
X-Brightmail-Tracker: AAAAAA==
X-Spam-Score: 0.0 (/)
X-Scan-Signature: c54bc2f42d02429833c0ca4b8725abd7
Cc: sip <sip@ietf.org>
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

Hi Paul,

thanks for your comments. Yes, this is the open issue we need to close 
in order to move forward. We have really two issues:

1) In Chicago, people talked about multipart/related and the possibility 
of restricting references between body parts to bodies within a 
multipart/related. The current revision of the draft specifies that so 
that we can discuss whether or not it is what we want to do.

Another way of restricting which bodies can reference other bodies would 
be to only allow forward references. That is, a body can only reference 
another body if the latter body appears after the former. Do we have 
examples where a body would like to reference another one that is not 
part of the same multipart/related?

2) Then, we have the issue of what happens when the receiver does not 
understand the reference. Right now the draft says that extensions 
should take care of this case. However, we could say something more 
about that. For example, multipart/related addresses this issue saying 
that if the receiver understands multipart/related, it ignores the 
disposition types of the body parts within it. However, if the received 
does not understand multipart/related, it will treat it as 
multipart/mixed and, thus, will process the body parts based on their 
disposition types.

Defining a disposition type that means "don't process me unless you find 
a reference to me" would be a good way to have receivers ignore body 
parts. It works better than an option tag because the sender does not 
need to resend its request. It would be good to get more opinions on this...

Cheers,

Gonzalo


Paul Kyzivat wrote:
> To clarify futher my last point below...
> 
> What I am saying is that IMO body parts must always be processed
> according to their type and disposition, whether there are references to
> them or not. If there is a reference, and it is understood, then it can
> modify or supplement the processing, but if the reference is not
> recognized or understood then the other processing still occurs.
> 
> If we want to support the possibility of a reference to a body part,
> where there is to be no processing of the body part when the reference
> is not understood, then we need a content-disposition that says "don't
> do anything with this unless you process a reference to it."
> 
> An alternative is to simply assume there are no such cases, and warn
> people that use references to select a C-D for the referenced part that
> will have an appropriate result if the reference is not understood.
> 
> For instance, we have both the Alert-Info header and the "alert" C-D. If
> you use an A-I with a CID reference, then you can use "alert" as the C-D
> of that part. In that case, the A-I header is redundant unless it
> contains something that modifies the processing.
> 
> An example where the problem I am concerned about may exist is in
> draft-ietf-sip-location-conveyance-08. It has an example of a
> Geolocation header referencing a body part. There is no C-D header in
> the example, so by default it is "render;handling=required". And its C-T
> is application/pidf+xml. If a recipient of this message didn't
> understand the Geolocation header it would reach the conclusion that it
> should render the pidf. Its debatable whether that is the desired
> conclusion - I think not. IMO the intent is that if the Geolocation
> header isn't processed then the pidf should be ignored. So, IMO this
> body part ought to contain:
>     Content-Disposition: by-reference;handling=optional
> 
> (I don't care what name we use for the disposition, just that we have one.)
> 
>         Thanks,
>         Paul
> 
> Paul Kyzivat wrote:
>  > Gonzalo,
>  >
>  > Obviously we allow a "forward" reference from the sip message itself
>  > (which from a mime perspective are just a bunch of mime headers.)
>  >
>  > I think that establishes a precedent that needs to be continued. An
>  > example of why can be seen in sipfrag:
>  >
>  > If we had a valid sip response that had a reference into one of its body
>  > parts, then if that was turned into a sipfrag and stuffed into the body
>  > of a NOTIFY, then it must still be valid.
>  >
>  > I just did a quick scan of the new draft, so the following is a
>  > tentative comment, until I can read it more carefully:
>  >
>  > I think the draft is now saying that the decision about whether to
>  > process a body part according to a reference to it, or process
>  > independently, is decided based on whether a reference is found. We had
>  > this discussion before, and I think we agreed that wouldn't work well,
>  > and that instead we would have a special C-D type for body parts that
>  > are disposed of based on a reference.
>  >
>  > I don't think the introduction of issues related to multipart/related
>  > changes this. The obvious cases are when there is a single
>  > multipart/mixed containing some body parts. Some of those may be
>  > referenced from CID URIs in sip headers, and others (e.g. SDP) may stand
>  > on their own. It is entirely possible that a body part might be
>  > referenced from some extension header that the recipient doesn't
>  > understand. In that case it may erroneously decide to process the body
>  > part on its own, when it should instead have ignored it because the
>  > header isn't being processed.
>  >
>  >     Thanks,
>  >     Paul
>  >
>  > Gonzalo Camarillo wrote:
>  >> Folks,
>  >>
>  >> I have just submitted a new revision of the body handling draft. Until
>  >> it appears on the archives, you can fetch it from:
>  >>
>  >> http://users.piuha.net/gonzalo/temp/draft-ietf-sip-body-handling-00.txt
>  >>
>  >> Per our discussions in Chicago, the draft now states that only body
>  >> parts within the same 'multipart/related' can reference each other
>  >> using cid URIs.
>  >>
>  >> If this is too restrictive, we could also allow using forward
>  >> references in any context (with no 'multipart/related' at all).
>  >>
>  >> Comments?
>  >>
>  >> Thanks,
>  >>
>  >> Gonzalo
>  >>
>  >>
>  >>
>  >> _______________________________________________
>  >> Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
>  >> This list is for NEW development of the core SIP Protocol
>  >> Use sip-implementors@cs.columbia.edu for questions on current sip
>  >> Use sipping@ietf.org for new developments on the application of sip
>  >>
>  >
>  >
>  > _______________________________________________
>  > Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
>  > This list is for NEW development of the core SIP Protocol
>  > Use sip-implementors@cs.columbia.edu for questions on current sip
>  > Use sipping@ietf.org for new developments on the application of sip
>  >
> 



_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Mon Sep 03 11:58:14 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1ISEHe-0006kh-Ji; Mon, 03 Sep 2007 11:56:14 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1ISEHd-0006hq-KR
	for sip-confirm+ok@megatron.ietf.org; Mon, 03 Sep 2007 11:56:13 -0400
Received: from [10.91.34.44] (helo=ietf-mx.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1ISEHd-0006gr-AC
	for sip@ietf.org; Mon, 03 Sep 2007 11:56:13 -0400
Received: from rtp-iport-1.cisco.com ([64.102.122.148])
	by ietf-mx.ietf.org with esmtp (Exim 4.43) id 1ISEHc-00072d-00
	for sip@ietf.org; Mon, 03 Sep 2007 11:56:13 -0400
Received: from rtp-dkim-1.cisco.com ([64.102.121.158])
	by rtp-iport-1.cisco.com with ESMTP; 03 Sep 2007 11:56:12 -0400
X-IronPort-AV: i="4.20,202,1186372800"; 
	d="scan'208"; a="69912592:sNHT69451568"
Received: from rtp-core-1.cisco.com (rtp-core-1.cisco.com [64.102.124.12])
	by rtp-dkim-1.cisco.com (8.12.11/8.12.11) with ESMTP id l83FuBIe019626; 
	Mon, 3 Sep 2007 11:56:11 -0400
Received: from xbh-rtp-211.amer.cisco.com (xbh-rtp-211.cisco.com
	[64.102.31.102])
	by rtp-core-1.cisco.com (8.12.10/8.12.6) with ESMTP id l83Fu7pu024195; 
	Mon, 3 Sep 2007 15:56:11 GMT
Received: from xfe-rtp-201.amer.cisco.com ([64.102.31.38]) by
	xbh-rtp-211.amer.cisco.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Mon, 3 Sep 2007 11:56:08 -0400
Received: from [10.86.240.13] ([10.86.240.13]) by xfe-rtp-201.amer.cisco.com
	with Microsoft SMTPSVC(6.0.3790.1830); 
	Mon, 3 Sep 2007 11:56:08 -0400
Message-ID: <46DC2E97.5000509@cisco.com>
Date: Mon, 03 Sep 2007 11:56:07 -0400
From: Paul Kyzivat <pkyzivat@cisco.com>
User-Agent: Thunderbird 2.0.0.6 (Windows/20070728)
MIME-Version: 1.0
To: Gonzalo Camarillo <Gonzalo.Camarillo@ericsson.com>
Subject: Re: [Sip] New revision of draft-ietf-sip-body-handling-00.txt
References: <46D555BD.4010400@ericsson.com> <46D56325.7080704@cisco.com>
	<46D56D39.6030300@cisco.com> <46DBBC66.8060404@ericsson.com>
In-Reply-To: <46DBBC66.8060404@ericsson.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-OriginalArrivalTime: 03 Sep 2007 15:56:08.0458 (UTC)
	FILETIME=[F128BEA0:01C7EE42]
DKIM-Signature: v=0.5; a=rsa-sha256; q=dns/txt; l=7888; t=1188834971;
	x=1189698971; c=relaxed/simple; s=rtpdkim1001;
	h=Content-Type:From:Subject:Content-Transfer-Encoding:MIME-Version;
	d=cisco.com; i=pkyzivat@cisco.com;
	z=From:=20Paul=20Kyzivat=20<pkyzivat@cisco.com>
	|Subject:=20Re=3A=20[Sip]=20New=20revision=20of=20draft-ietf-sip-body-han
	dling-00.txt |Sender:=20
	|To:=20Gonzalo=20Camarillo=20<Gonzalo.Camarillo@ericsson.com>;
	bh=nvNIgABJjnwnFL2FNYvRjARTebhrWcNDb5sffANKHOk=;
	b=laFz4e4FaMP1ufXy33HLkP0hf65zTmQ6l70UBPZIKvtZvTu7rKdlDLyXphhxV0ayW2I+lF1P
	JPNwEk34iykG2LbAXfAyUo6KlAYmAECvp7EP1WUgG2MAVUEjouTDerW9;
Authentication-Results: rtp-dkim-1; header.From=pkyzivat@cisco.com; dkim=pass (
	sig from cisco.com/rtpdkim1001 verified; ); 
X-Spam-Score: -4.0 (----)
X-Scan-Signature: 48472a944c87678fcfe8db15ffecdfff
Cc: sip <sip@ietf.org>
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

Eric - we need your input here as our mime guru.

	Paul

Gonzalo Camarillo wrote:
> Hi Paul,
> 
> thanks for your comments. Yes, this is the open issue we need to close 
> in order to move forward. We have really two issues:
> 
> 1) In Chicago, people talked about multipart/related and the possibility 
> of restricting references between body parts to bodies within a 
> multipart/related. The current revision of the draft specifies that so 
> that we can discuss whether or not it is what we want to do.

It seems that multipart/related has some role to play. I am not entirely 
clear what that is. I think it clearly isn't enough by itself.

> Another way of restricting which bodies can reference other bodies would 
> be to only allow forward references. That is, a body can only reference 
> another body if the latter body appears after the former. Do we have 
> examples where a body would like to reference another one that is not 
> part of the same multipart/related?

Well, we clearly have a need for references from the sip message itself 
to body parts that it contains. I guess that is a restricted form of 
forward reference. Perhaps it, plus the usage within multipart/related, 
is sufficient.

This reference into a contained body part does need to apply even when 
the reference itself is in a body part. An example of this is to take a 
sip message that uses this form and put the whole thing into a sipfrag.

> 2) Then, we have the issue of what happens when the receiver does not 
> understand the reference. Right now the draft says that extensions 
> should take care of this case. However, we could say something more 
> about that. For example, multipart/related addresses this issue saying 
> that if the receiver understands multipart/related, it ignores the 
> disposition types of the body parts within it. However, if the received 
> does not understand multipart/related, it will treat it as 
> multipart/mixed and, thus, will process the body parts based on their 
> disposition types.
> 
> Defining a disposition type that means "don't process me unless you find 
> a reference to me" would be a good way to have receivers ignore body 
> parts. It works better than an option tag because the sender does not 
> need to resend its request. It would be good to get more opinions on 
> this...

I do think we need input from a mime guru. Eric: please guide us on how 
to do this in a mime-compatible way.

	Paul

> Cheers,
> 
> Gonzalo
> 
> 
> Paul Kyzivat wrote:
>> To clarify futher my last point below...
>>
>> What I am saying is that IMO body parts must always be processed
>> according to their type and disposition, whether there are references to
>> them or not. If there is a reference, and it is understood, then it can
>> modify or supplement the processing, but if the reference is not
>> recognized or understood then the other processing still occurs.
>>
>> If we want to support the possibility of a reference to a body part,
>> where there is to be no processing of the body part when the reference
>> is not understood, then we need a content-disposition that says "don't
>> do anything with this unless you process a reference to it."
>>
>> An alternative is to simply assume there are no such cases, and warn
>> people that use references to select a C-D for the referenced part that
>> will have an appropriate result if the reference is not understood.
>>
>> For instance, we have both the Alert-Info header and the "alert" C-D. If
>> you use an A-I with a CID reference, then you can use "alert" as the C-D
>> of that part. In that case, the A-I header is redundant unless it
>> contains something that modifies the processing.
>>
>> An example where the problem I am concerned about may exist is in
>> draft-ietf-sip-location-conveyance-08. It has an example of a
>> Geolocation header referencing a body part. There is no C-D header in
>> the example, so by default it is "render;handling=required". And its C-T
>> is application/pidf+xml. If a recipient of this message didn't
>> understand the Geolocation header it would reach the conclusion that it
>> should render the pidf. Its debatable whether that is the desired
>> conclusion - I think not. IMO the intent is that if the Geolocation
>> header isn't processed then the pidf should be ignored. So, IMO this
>> body part ought to contain:
>>     Content-Disposition: by-reference;handling=optional
>>
>> (I don't care what name we use for the disposition, just that we have 
>> one.)
>>
>>         Thanks,
>>         Paul
>>
>> Paul Kyzivat wrote:
>>  > Gonzalo,
>>  >
>>  > Obviously we allow a "forward" reference from the sip message itself
>>  > (which from a mime perspective are just a bunch of mime headers.)
>>  >
>>  > I think that establishes a precedent that needs to be continued. An
>>  > example of why can be seen in sipfrag:
>>  >
>>  > If we had a valid sip response that had a reference into one of its 
>> body
>>  > parts, then if that was turned into a sipfrag and stuffed into the 
>> body
>>  > of a NOTIFY, then it must still be valid.
>>  >
>>  > I just did a quick scan of the new draft, so the following is a
>>  > tentative comment, until I can read it more carefully:
>>  >
>>  > I think the draft is now saying that the decision about whether to
>>  > process a body part according to a reference to it, or process
>>  > independently, is decided based on whether a reference is found. We 
>> had
>>  > this discussion before, and I think we agreed that wouldn't work well,
>>  > and that instead we would have a special C-D type for body parts that
>>  > are disposed of based on a reference.
>>  >
>>  > I don't think the introduction of issues related to multipart/related
>>  > changes this. The obvious cases are when there is a single
>>  > multipart/mixed containing some body parts. Some of those may be
>>  > referenced from CID URIs in sip headers, and others (e.g. SDP) may 
>> stand
>>  > on their own. It is entirely possible that a body part might be
>>  > referenced from some extension header that the recipient doesn't
>>  > understand. In that case it may erroneously decide to process the body
>>  > part on its own, when it should instead have ignored it because the
>>  > header isn't being processed.
>>  >
>>  >     Thanks,
>>  >     Paul
>>  >
>>  > Gonzalo Camarillo wrote:
>>  >> Folks,
>>  >>
>>  >> I have just submitted a new revision of the body handling draft. 
>> Until
>>  >> it appears on the archives, you can fetch it from:
>>  >>
>>  >> 
>> http://users.piuha.net/gonzalo/temp/draft-ietf-sip-body-handling-00.txt
>>  >>
>>  >> Per our discussions in Chicago, the draft now states that only body
>>  >> parts within the same 'multipart/related' can reference each other
>>  >> using cid URIs.
>>  >>
>>  >> If this is too restrictive, we could also allow using forward
>>  >> references in any context (with no 'multipart/related' at all).
>>  >>
>>  >> Comments?
>>  >>
>>  >> Thanks,
>>  >>
>>  >> Gonzalo
>>  >>
>>  >>
>>  >>
>>  >> _______________________________________________
>>  >> Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
>>  >> This list is for NEW development of the core SIP Protocol
>>  >> Use sip-implementors@cs.columbia.edu for questions on current sip
>>  >> Use sipping@ietf.org for new developments on the application of sip
>>  >>
>>  >
>>  >
>>  > _______________________________________________
>>  > Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
>>  > This list is for NEW development of the core SIP Protocol
>>  > Use sip-implementors@cs.columbia.edu for questions on current sip
>>  > Use sipping@ietf.org for new developments on the application of sip
>>  >
>>
> 


_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Mon Sep 03 16:01:30 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1ISI5C-0006Rn-Vq; Mon, 03 Sep 2007 15:59:38 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1ISI5B-0006MJ-F3
	for sip-confirm+ok@megatron.ietf.org; Mon, 03 Sep 2007 15:59:37 -0400
Received: from [10.90.34.44] (helo=chiedprmail1.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1ISI5B-0006Lq-4K
	for sip@ietf.org; Mon, 03 Sep 2007 15:59:37 -0400
Received: from mail.gmx.net ([213.165.64.20])
	by chiedprmail1.ietf.org with smtp (Exim 4.43) id 1ISI5A-0004r7-Ia
	for sip@ietf.org; Mon, 03 Sep 2007 15:59:37 -0400
Received: (qmail invoked by alias); 03 Sep 2007 19:59:34 -0000
Received: from p54985118.dip.t-dialin.net (EHLO [192.168.1.4]) [84.152.81.24]
	by mail.gmx.net (mp057) with SMTP; 03 Sep 2007 21:59:34 +0200
X-Authenticated: #29516787
X-Provags-ID: V01U2FsdGVkX18FoQY9PVgFObf5aK0K2LUFT+7tkjljMq2K9k0jNp
	u953W5TjIj/s/m
Message-ID: <46DC67A0.60809@gmx.net>
Date: Mon, 03 Sep 2007 21:59:28 +0200
From: Hannes Tschofenig <Hannes.Tschofenig@gmx.net>
User-Agent: Thunderbird 2.0.0.6 (Windows/20070728)
MIME-Version: 1.0
To: Dean Willis <dean.willis@softarmor.com>
Subject: Re: [Ecrit] Re: [Sip] draft-rosenberg-sip-ua-loose-route-01.txt
References: <46CAE441.8080504@gmx.net> <46D1C942.7010501@gmx.net>
	<46D264F9.6080101@softarmor.com>
In-Reply-To: <46D264F9.6080101@softarmor.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Y-GMX-Trusted: 0
X-Spam-Score: 0.0 (/)
X-Scan-Signature: 21c69d3cfc2dd19218717dbe1d974352
Cc: IETF SIP List <sip@ietf.org>, ECRIT <ecrit@ietf.org>
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

Hi Dean,

in ECRIT we assumed that the Request URI contains the service URN. We 
put that stuff into the Phone BCP document (which unfortunately still 
contains an error I just noticed).
That's what we told the 3GPP in the past as well. Hence, they wrote it 
in their specs. See TS 24.229, Section 5.1.6.8.3, bullet (1).

Within the ECRIT group we weren't aware that this issue has not been 
decided and hence we are a bit concerned about the recent change given 
that other SDOs followed our suggestion already.

Do you have an idea what we should do now?

Ciao
Hannes


Dean Willis wrote:
> Hannes Tschofenig wrote:
>> No response received -- resend.
>>
>> Hannes Tschofenig wrote:
>>
>>> Dear SIP WG members,
>>>
>>> during the ECRIT meeting we learned that the SIP working group 
>>> "rejected" the concept described in 
>>> draft-rosenberg-sip-ua-loose-route-01.txt.
>>>
>>> Could someone please give us more information about this decision as 
>>> it impacts the work we do in ECRIT?
>
> I wouldn't say that UA Loose Route was "rejected" so much as "does not 
> yet have consensus".
>
> This is in part influenced by "WG doesn't seem to have a compelling 
> reason to make such a significant change."
>
> Perhaps ECRIT has a compelling reason?
>
> -- 
> Dean



_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Tue Sep 04 03:09:06 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1ISSV2-0003Ls-8o; Tue, 04 Sep 2007 03:07:00 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1ISSV1-0003JK-Da
	for sip-confirm+ok@megatron.ietf.org; Tue, 04 Sep 2007 03:06:59 -0400
Received: from [10.90.34.44] (helo=chiedprmail1.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1ISSUx-0003Ir-DF; Tue, 04 Sep 2007 03:06:55 -0400
Received: from mailgw3.ericsson.se ([193.180.251.60])
	by chiedprmail1.ietf.org with esmtp (Exim 4.43)
	id 1ISSUw-0005Y5-P8; Tue, 04 Sep 2007 03:06:55 -0400
Received: from mailgw3.ericsson.se (unknown [127.0.0.1])
	by mailgw3.ericsson.se (Symantec Mail Security) with ESMTP id
	5901B208BE; Tue,  4 Sep 2007 09:06:52 +0200 (CEST)
X-AuditID: c1b4fb3c-ae67bbb0000007e1-29-46dd040cba19
Received: from esealmw128.eemea.ericsson.se (unknown [153.88.254.121])
	by mailgw3.ericsson.se (Symantec Mail Security) with ESMTP id
	47FC0206D5; Tue,  4 Sep 2007 09:06:52 +0200 (CEST)
Received: from esealmw113.eemea.ericsson.se ([153.88.200.4]) by
	esealmw128.eemea.ericsson.se with Microsoft SMTPSVC(6.0.3790.1830); 
	Tue, 4 Sep 2007 09:06:51 +0200
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: [Ecrit] Re: [Sip] draft-rosenberg-sip-ua-loose-route-01.txt
Date: Tue, 4 Sep 2007 09:06:48 +0200
Message-ID: <CA9998CD4A020D418654FCDEF4E707DF013FD64F@esealmw113.eemea.ericsson.se>
In-Reply-To: <46DC67A0.60809@gmx.net>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Ecrit] Re: [Sip] draft-rosenberg-sip-ua-loose-route-01.txt
Thread-Index: AcfuZQh02UCGfG/vT4y2cNY6Kdzh6wAXJe8Q
References: <46CAE441.8080504@gmx.net>
	<46D1C942.7010501@gmx.net><46D264F9.6080101@softarmor.com>
	<46DC67A0.60809@gmx.net>
From: "Christer Holmberg (JO/LMF)" <christer.holmberg@ericsson.com>
To: "Hannes Tschofenig" <Hannes.Tschofenig@gmx.net>,
	"Dean Willis" <dean.willis@softarmor.com>
X-OriginalArrivalTime: 04 Sep 2007 07:06:51.0618 (UTC)
	FILETIME=[2B054420:01C7EEC2]
X-Brightmail-Tracker: AAAAAA==
X-Spam-Score: 0.0 (/)
X-Scan-Signature: 6cca30437e2d04f45110f2ff8dc1b1d5
Cc: IETF SIP List <sip@ietf.org>, ECRIT <ecrit@ietf.org>
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org


Hi,

In 3GPP, it is true that the UE inserts the service URN into the
Request-URI.

But, in the current specification the E-CSCF converts the URN into a
routable PSAP address, i.e. the mechanism in the loose-route draft is
not used.

Regards,

Christer



> -----Original Message-----
> From: Hannes Tschofenig [mailto:Hannes.Tschofenig@gmx.net]=20
> Sent: 3. syyskuuta 2007 22:59
> To: Dean Willis
> Cc: IETF SIP List; ECRIT
> Subject: Re: [Ecrit] Re: [Sip]=20
> draft-rosenberg-sip-ua-loose-route-01.txt
>=20
> Hi Dean,
>=20
> in ECRIT we assumed that the Request URI contains the service=20
> URN. We put that stuff into the Phone BCP document (which=20
> unfortunately still contains an error I just noticed).
> That's what we told the 3GPP in the past as well. Hence, they=20
> wrote it in their specs. See TS 24.229, Section 5.1.6.8.3, bullet (1).
>=20
> Within the ECRIT group we weren't aware that this issue has=20
> not been decided and hence we are a bit concerned about the=20
> recent change given that other SDOs followed our suggestion already.
>=20
> Do you have an idea what we should do now?
>=20
> Ciao
> Hannes
>=20
>=20
> Dean Willis wrote:
> > Hannes Tschofenig wrote:
> >> No response received -- resend.
> >>
> >> Hannes Tschofenig wrote:
> >>
> >>> Dear SIP WG members,
> >>>
> >>> during the ECRIT meeting we learned that the SIP working group=20
> >>> "rejected" the concept described in=20
> >>> draft-rosenberg-sip-ua-loose-route-01.txt.
> >>>
> >>> Could someone please give us more information about this=20
> decision as=20
> >>> it impacts the work we do in ECRIT?
> >
> > I wouldn't say that UA Loose Route was "rejected" so much=20
> as "does not=20
> > yet have consensus".
> >
> > This is in part influenced by "WG doesn't seem to have a compelling=20
> > reason to make such a significant change."
> >
> > Perhaps ECRIT has a compelling reason?
> >
> > --
> > Dean
>=20
>=20
>=20
> _______________________________________________
> Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
>=20


_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Tue Sep 04 03:19:53 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1ISSfo-0003cn-KT; Tue, 04 Sep 2007 03:18:08 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1ISSfn-0003cd-55
	for sip-confirm+ok@megatron.ietf.org; Tue, 04 Sep 2007 03:18:07 -0400
Received: from [10.90.34.44] (helo=chiedprmail1.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1ISSfm-0003cV-QU
	for sip@ietf.org; Tue, 04 Sep 2007 03:18:06 -0400
Received: from mail.gmx.net ([213.165.64.20])
	by chiedprmail1.ietf.org with smtp (Exim 4.43) id 1ISSfm-0005nW-5w
	for sip@ietf.org; Tue, 04 Sep 2007 03:18:06 -0400
Received: (qmail invoked by alias); 04 Sep 2007 07:18:05 -0000
Received: from socks1.netz.sbs.de (EHLO [192.35.17.26]) [192.35.17.26]
	by mail.gmx.net (mp042) with SMTP; 04 Sep 2007 09:18:05 +0200
X-Authenticated: #29516787
X-Provags-ID: V01U2FsdGVkX1+pBCgvMOyp1MKQI/zaVWMMxScNAOICusH16y3aXn
	H2GL55k9XWJEPF
Message-ID: <46DD06A4.2080000@gmx.net>
Date: Tue, 04 Sep 2007 09:17:56 +0200
From: Hannes Tschofenig <Hannes.Tschofenig@gmx.net>
User-Agent: Thunderbird 2.0.0.6 (Windows/20070728)
MIME-Version: 1.0
To: "Christer Holmberg (JO/LMF)" <christer.holmberg@ericsson.com>
Subject: Re: [Ecrit] Re: [Sip] draft-rosenberg-sip-ua-loose-route-01.txt
References: <46CAE441.8080504@gmx.net>
	<46D1C942.7010501@gmx.net><46D264F9.6080101@softarmor.com>
	<46DC67A0.60809@gmx.net>
	<CA9998CD4A020D418654FCDEF4E707DF013FD64F@esealmw113.eemea.ericsson.se>
In-Reply-To: <CA9998CD4A020D418654FCDEF4E707DF013FD64F@esealmw113.eemea.ericsson.se>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Y-GMX-Trusted: 0
X-Spam-Score: 0.0 (/)
X-Scan-Signature: cf3becbbd6d1a45acbe2ffd4ab88bdc2
Cc: IETF SIP List <sip@ietf.org>, ECRIT <ecrit@ietf.org>,
	Dean Willis <dean.willis@softarmor.com>
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

Hi Christer,

Christer Holmberg (JO/LMF) wrote:
> Hi,
>
> In 3GPP, it is true that the UE inserts the service URN into the
> Request-URI.
>
> But, in the current specification the E-CSCF converts the URN into a
> routable PSAP address, i.e. the mechanism in the loose-route draft is
> not used.
>
>   
Why was this done? Do you expect that the call uses a different 
emergency call marking technique went it enters the PSAP operator network?
Do you expect that the call is directly sent from the E-CSCF to the PSAP 
and that there are no other hops in between?

> Regards,
>
> Christer
>
>   
Ciao
Hannes

>
>   
>> -----Original Message-----
>> From: Hannes Tschofenig [mailto:Hannes.Tschofenig@gmx.net] 
>> Sent: 3. syyskuuta 2007 22:59
>> To: Dean Willis
>> Cc: IETF SIP List; ECRIT
>> Subject: Re: [Ecrit] Re: [Sip] 
>> draft-rosenberg-sip-ua-loose-route-01.txt
>>
>> Hi Dean,
>>
>> in ECRIT we assumed that the Request URI contains the service 
>> URN. We put that stuff into the Phone BCP document (which 
>> unfortunately still contains an error I just noticed).
>> That's what we told the 3GPP in the past as well. Hence, they 
>> wrote it in their specs. See TS 24.229, Section 5.1.6.8.3, bullet (1).
>>
>> Within the ECRIT group we weren't aware that this issue has 
>> not been decided and hence we are a bit concerned about the 
>> recent change given that other SDOs followed our suggestion already.
>>
>> Do you have an idea what we should do now?
>>
>> Ciao
>> Hannes
>>
>>
>> Dean Willis wrote:
>>     
>>> Hannes Tschofenig wrote:
>>>       
>>>> No response received -- resend.
>>>>
>>>> Hannes Tschofenig wrote:
>>>>
>>>>         
>>>>> Dear SIP WG members,
>>>>>
>>>>> during the ECRIT meeting we learned that the SIP working group 
>>>>> "rejected" the concept described in 
>>>>> draft-rosenberg-sip-ua-loose-route-01.txt.
>>>>>
>>>>> Could someone please give us more information about this 
>>>>>           
>> decision as 
>>     
>>>>> it impacts the work we do in ECRIT?
>>>>>           
>>> I wouldn't say that UA Loose Route was "rejected" so much 
>>>       
>> as "does not 
>>     
>>> yet have consensus".
>>>
>>> This is in part influenced by "WG doesn't seem to have a compelling 
>>> reason to make such a significant change."
>>>
>>> Perhaps ECRIT has a compelling reason?
>>>
>>> --
>>> Dean
>>>       
>>
>> _______________________________________________
>> Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
>> This list is for NEW development of the core SIP Protocol
>> Use sip-implementors@cs.columbia.edu for questions on current sip
>> Use sipping@ietf.org for new developments on the application of sip
>>
>>     



_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Tue Sep 04 05:29:31 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1ISUhB-0007OH-8J; Tue, 04 Sep 2007 05:27:41 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1ISUh8-0007O2-Td
	for sip-confirm+ok@megatron.ietf.org; Tue, 04 Sep 2007 05:27:38 -0400
Received: from [10.91.34.44] (helo=ietf-mx.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1ISUh8-0007Nu-K7
	for sip@ietf.org; Tue, 04 Sep 2007 05:27:38 -0400
Received: from ihemail1.lucent.com ([135.245.0.33])
	by ietf-mx.ietf.org with esmtp (Exim 4.43) id 1ISUh7-0002un-Bz
	for sip@ietf.org; Tue, 04 Sep 2007 05:27:38 -0400
Received: from ilexp02.ndc.lucent.com (h135-3-39-2.lucent.com [135.3.39.2])
	by ihemail1.lucent.com (8.13.8/IER-o) with ESMTP id l849RWNL016310
	for <sip@ietf.org>; Tue, 4 Sep 2007 04:27:32 -0500 (CDT)
Received: from DEEXP01.de.lucent.com ([135.248.187.65]) by
	ilexp02.ndc.lucent.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Tue, 4 Sep 2007 04:27:32 -0500
Received: from DEEXC1U01.de.lucent.com ([135.248.187.29]) by
	DEEXP01.de.lucent.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Tue, 4 Sep 2007 11:27:31 +0200
x-mimeole: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Date: Tue, 4 Sep 2007 11:27:32 +0200
Message-ID: <5D1A7985295922448D5550C94DE2918001636AF1@DEEXC1U01.de.lucent.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: WGLC for draft-ietf-sip-subnot-etags-01
Thread-Index: Acfu1dIrsaaCSebQRbSdGL0iVypPsQ==
From: "DRAGE, Keith \(Keith\)" <drage@alcatel-lucent.com>
To: <sip@ietf.org>
X-OriginalArrivalTime: 04 Sep 2007 09:27:31.0731 (UTC)
	FILETIME=[D1B84E30:01C7EED5]
X-Scanned-By: MIMEDefang 2.57 on 135.245.2.33
X-Spam-Score: 0.0 (/)
X-Scan-Signature: ffa9dfbbe7cc58b3fa6b8ae3e57b0aa3
Subject: [Sip] WGLC for draft-ietf-sip-subnot-etags-01
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

(As WG chair)

This is to announce a Working Group Last Call for=20

http://www.ietf.org/internet-drafts/draft-ietf-sip-subnot-etags-01.txt

This is a two week last call. Please provide comments and review of this
document by Tuesday 18th September 2007.=20

Ideally please try to identify for each comment=20

-	the precise point in the text where the comment applies (copying
the text and quoting the section number may help here),=20

-	the nature of the comment (NIT, minor technical, major
technical),

-	if possible a proposed solution to the comment.

Please send comments to the SIP WG list, and also to the editor listed
in the document.

Regards

Keith



_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Tue Sep 04 08:02:22 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1ISX4a-0004rv-48; Tue, 04 Sep 2007 08:00:00 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1ISX4Y-0004rg-6x
	for sip-confirm+ok@megatron.ietf.org; Tue, 04 Sep 2007 07:59:58 -0400
Received: from [10.90.34.44] (helo=chiedprmail1.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1ISX4X-0004rY-SI; Tue, 04 Sep 2007 07:59:57 -0400
Received: from mailgw4.ericsson.se ([193.180.251.62])
	by chiedprmail1.ietf.org with esmtp (Exim 4.43)
	id 1ISX4X-0006l0-2o; Tue, 04 Sep 2007 07:59:57 -0400
Received: from mailgw4.ericsson.se (unknown [127.0.0.1])
	by mailgw4.ericsson.se (Symantec Mail Security) with ESMTP id
	C75D520F8B; Tue,  4 Sep 2007 13:59:55 +0200 (CEST)
X-AuditID: c1b4fb3e-ae831bb0000007e1-9d-46dd48bb1e0a
Received: from esealmw128.eemea.ericsson.se (unknown [153.88.254.121])
	by mailgw4.ericsson.se (Symantec Mail Security) with ESMTP id
	946AA20526; Tue,  4 Sep 2007 13:59:55 +0200 (CEST)
Received: from esealmw113.eemea.ericsson.se ([153.88.200.4]) by
	esealmw128.eemea.ericsson.se with Microsoft SMTPSVC(6.0.3790.1830); 
	Tue, 4 Sep 2007 13:59:55 +0200
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: [Ecrit] Re: [Sip] draft-rosenberg-sip-ua-loose-route-01.txt
Date: Tue, 4 Sep 2007 13:59:54 +0200
Message-ID: <CA9998CD4A020D418654FCDEF4E707DF01431EB9@esealmw113.eemea.ericsson.se>
In-Reply-To: <46DD06A4.2080000@gmx.net>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Ecrit] Re: [Sip] draft-rosenberg-sip-ua-loose-route-01.txt
Thread-Index: Acfuw70diwY/GuHHQOGgmm2anxo1/QACAr2g
References: <46CAE441.8080504@gmx.net>
	<46D1C942.7010501@gmx.net><46D264F9.6080101@softarmor.com>
	<46DC67A0.60809@gmx.net>
	<CA9998CD4A020D418654FCDEF4E707DF013FD64F@esealmw113.eemea.ericsson.se>
	<46DD06A4.2080000@gmx.net>
From: "Christer Holmberg (JO/LMF)" <christer.holmberg@ericsson.com>
To: "Hannes Tschofenig" <Hannes.Tschofenig@gmx.net>
X-OriginalArrivalTime: 04 Sep 2007 11:59:55.0404 (UTC)
	FILETIME=[1BC614C0:01C7EEEB]
X-Brightmail-Tracker: AAAAAA==
X-Spam-Score: 0.0 (/)
X-Scan-Signature: 1676547e4f33b5e63227e9c02bd359e3
Cc: IETF SIP List <sip@ietf.org>, ECRIT <ecrit@ietf.org>,
	Dean Willis <dean.willis@softarmor.com>
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org


Hi,=20

>>In 3GPP, it is true that the UE inserts the service URN into the
Request-URI.
>>
>>But, in the current specification the E-CSCF converts the URN into a=20
>>routable PSAP address, i.e. the mechanism in the loose-route draft is=20
>>not used.
>>
>>  =20
>Why was this done?

I don't have all the details, but one reason was that the same
procedures were wanted towards a PSAP and an MGCF, and at least in the
previous 3GPP releases the MGCF does the called party number mapping
based on the Request-URI value. Also, since this was done a while ago,
the loose-route draft mechanism wasn't even discussed. Also, since
neither the PSAP or MGCF registers themselves to the E-CSCF, the
loose-route draft mechanism wouldn't be used towards those entities even
if adopted by IMS.

>Do you expect that the call uses a different emergency call marking
technique went it enters the PSAP operator network?

I think it is up to each operator to decide how the marking is done.
There will always be agreements between the PSAP operators and the other
("public") operators using them. I guess it would also be possible to
put the original service URN into the P-Called-Party-Id header (as for
normal calls), eventhough I don't think it's currently specified.

>Do you expect that the call is directly sent from the E-CSCF to the
PSAP and that there are no other hops in between?

I think both cases are applicable.

Regards,

Christer





> >> -----Original Message-----
> >> From: Hannes Tschofenig [mailto:Hannes.Tschofenig@gmx.net]
> >> Sent: 3. syyskuuta 2007 22:59
> >> To: Dean Willis
> >> Cc: IETF SIP List; ECRIT
> >> Subject: Re: [Ecrit] Re: [Sip]
> >> draft-rosenberg-sip-ua-loose-route-01.txt
> >>
> >> Hi Dean,
> >>
> >> in ECRIT we assumed that the Request URI contains the=20
> service URN. We=20
> >> put that stuff into the Phone BCP document (which=20
> unfortunately still=20
> >> contains an error I just noticed).
> >> That's what we told the 3GPP in the past as well. Hence,=20
> they wrote=20
> >> it in their specs. See TS 24.229, Section 5.1.6.8.3, bullet (1).
> >>
> >> Within the ECRIT group we weren't aware that this issue=20
> has not been=20
> >> decided and hence we are a bit concerned about the recent change=20
> >> given that other SDOs followed our suggestion already.
> >>
> >> Do you have an idea what we should do now?
> >>
> >> Ciao
> >> Hannes
> >>
> >>
> >> Dean Willis wrote:
> >>    =20
> >>> Hannes Tschofenig wrote:
> >>>      =20
> >>>> No response received -- resend.
> >>>>
> >>>> Hannes Tschofenig wrote:
> >>>>
> >>>>        =20
> >>>>> Dear SIP WG members,
> >>>>>
> >>>>> during the ECRIT meeting we learned that the SIP working group=20
> >>>>> "rejected" the concept described in=20
> >>>>> draft-rosenberg-sip-ua-loose-route-01.txt.
> >>>>>
> >>>>> Could someone please give us more information about this
> >>>>>          =20
> >> decision as
> >>    =20
> >>>>> it impacts the work we do in ECRIT?
> >>>>>          =20
> >>> I wouldn't say that UA Loose Route was "rejected" so much
> >>>      =20
> >> as "does not
> >>    =20
> >>> yet have consensus".
> >>>
> >>> This is in part influenced by "WG doesn't seem to have a=20
> compelling=20
> >>> reason to make such a significant change."
> >>>
> >>> Perhaps ECRIT has a compelling reason?
> >>>
> >>> --
> >>> Dean
> >>>      =20
> >>
> >> _______________________________________________
> >> Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
> >> This list is for NEW development of the core SIP Protocol Use=20
> >> sip-implementors@cs.columbia.edu for questions on current sip Use=20
> >> sipping@ietf.org for new developments on the application of sip
> >>
> >>    =20
>=20
>=20


_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Tue Sep 04 08:07:49 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1ISXAS-0008IO-I1; Tue, 04 Sep 2007 08:06:04 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1ISXAR-0008IE-Lz
	for sip-confirm+ok@megatron.ietf.org; Tue, 04 Sep 2007 08:06:03 -0400
Received: from [10.90.34.44] (helo=chiedprmail1.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1ISXAR-0008I6-Ab; Tue, 04 Sep 2007 08:06:03 -0400
Received: from david.siemens.de ([192.35.17.14])
	by chiedprmail1.ietf.org with esmtp (Exim 4.43)
	id 1ISXAQ-0006zM-Do; Tue, 04 Sep 2007 08:06:03 -0400
Received: from mail1.siemens.de (localhost [127.0.0.1])
	by david.siemens.de (8.12.6/8.12.6) with ESMTP id l84C60t0009031;
	Tue, 4 Sep 2007 14:06:00 +0200
Received: from demuprx017.emea.nsn-intra.net (demuprx017.emea.nsn-intra.net
	[10.150.129.56])
	by mail1.siemens.de (8.12.6/8.12.6) with ESMTP id l84C5xqL022702;
	Tue, 4 Sep 2007 14:05:59 +0200
Received: from demuexc023.nsn-intra.net ([10.150.128.36])
	by demuprx017.emea.nsn-intra.net (8.12.11.20060308/8.12.11) with ESMTP
	id l84C5v9n030850; Tue, 4 Sep 2007 14:05:59 +0200
Received: from DEMUEXC012.nsn-intra.net ([10.150.128.23]) by
	demuexc023.nsn-intra.net with Microsoft SMTPSVC(6.0.3790.1830); 
	Tue, 4 Sep 2007 14:05:57 +0200
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: AW: [Ecrit] Re: [Sip] draft-rosenberg-sip-ua-loose-route-01.txt
Date: Tue, 4 Sep 2007 14:05:57 +0200
Message-ID: <5FB585F183235B42A9E70095055136FB0555C4@DEMUEXC012.nsn-intra.net>
In-Reply-To: <CA9998CD4A020D418654FCDEF4E707DF01431EB9@esealmw113.eemea.ericsson.se>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Ecrit] Re: [Sip] draft-rosenberg-sip-ua-loose-route-01.txt
Thread-Index: Acfuw70diwY/GuHHQOGgmm2anxo1/QACAr2gAAfgDNA=
References: <46CAE441.8080504@gmx.net><46D1C942.7010501@gmx.net><46D264F9.6080101@softarmor.com><46DC67A0.60809@gmx.net><CA9998CD4A020D418654FCDEF4E707DF013FD64F@esealmw113.eemea.ericsson.se><46DD06A4.2080000@gmx.net>
	<CA9998CD4A020D418654FCDEF4E707DF01431EB9@esealmw113.eemea.ericsson.se>
From: "Tschofenig,
	Hannes (NSN - DE/Germany - MiniMD)" <hannes.tschofenig@nsn.com>
To: "ext Christer Holmberg (JO/LMF)" <christer.holmberg@ericsson.com>,
	"Hannes Tschofenig" <Hannes.Tschofenig@gmx.net>
X-OriginalArrivalTime: 04 Sep 2007 12:05:57.0740 (UTC)
	FILETIME=[F3BE2AC0:01C7EEEB]
X-Spam-Score: 0.0 (/)
X-Scan-Signature: ded6070f7eed56e10c4f4d0d5043d9c7
Cc: IETF SIP List <sip@ietf.org>, ECRIT <ecrit@ietf.org>,
	Dean Willis <dean.willis@softarmor.com>
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

Hi Christer,=20

Thanks for your quick response.=20
Please find a few comments below:=20

> -----Urspr=FCngliche Nachricht-----
> Von: ext Christer Holmberg (JO/LMF)=20
> [mailto:christer.holmberg@ericsson.com]=20
> Gesendet: Dienstag, 4. September 2007 14:00
> An: Hannes Tschofenig
> Cc: IETF SIP List; ECRIT; Dean Willis
> Betreff: RE: [Ecrit] Re: [Sip]=20
> draft-rosenberg-sip-ua-loose-route-01.txt
>=20
>=20
> Hi,=20
>=20
> >>In 3GPP, it is true that the UE inserts the service URN into the
> Request-URI.
> >>
> >>But, in the current specification the E-CSCF converts the=20
> URN into a=20
> >>routable PSAP address, i.e. the mechanism in the=20
> loose-route draft is=20
> >>not used.
> >>
> >>  =20
> >Why was this done?
>=20
> I don't have all the details, but one reason was that the same
> procedures were wanted towards a PSAP and an MGCF, and at least in the
> previous 3GPP releases the MGCF does the called party number mapping
> based on the Request-URI value.

You mean that the MGCF wouldn't know what todo with the Request URI.=20
This sounds like a backwards compatibility aspect.

> Also, since this was done a while ago,
> the loose-route draft mechanism wasn't even discussed.
That's probably true.=20

 Also, since
> neither the PSAP or MGCF registers themselves to the E-CSCF, the
> loose-route draft mechanism wouldn't be used towards those=20
> entities even
> if adopted by IMS.

I don't think that the Request URI has anything todo with registrations. =


>=20
> >Do you expect that the call uses a different emergency call marking
> technique went it enters the PSAP operator network?
>=20
> I think it is up to each operator to decide how the marking is done.


In the 3GPP model with the E-CSCF and the PSAP having a close =
relationship you could leave this issue open. It would, however, make =
their life easier.=20

> There will always be agreements between the PSAP operators=20
> and the other
> ("public") operators using them.

Only in the 3GPP IMS alike architecture. The IETF emergency services =
architecture is a bit different.=20

 I guess it would also be possible to
> put the original service URN into the P-Called-Party-Id header (as for
> normal calls), eventhough I don't think it's currently specified.

I am not sure whether this is a good solution.=20

>=20
> >Do you expect that the call is directly sent from the E-CSCF to the
> PSAP and that there are no other hops in between?
>=20
> I think both cases are applicable.
When you have intermediate entities that need to recognize emergency =
calls and need to treat the call differently then you might want to =
define the procedures since otherwise there is a chance that things =
don't work as expected.=20

Ciao
Hannes

>=20
> Regards,
>=20
> Christer
>=20
>=20
>=20
>=20
>=20
> > >> -----Original Message-----
> > >> From: Hannes Tschofenig [mailto:Hannes.Tschofenig@gmx.net]
> > >> Sent: 3. syyskuuta 2007 22:59
> > >> To: Dean Willis
> > >> Cc: IETF SIP List; ECRIT
> > >> Subject: Re: [Ecrit] Re: [Sip]
> > >> draft-rosenberg-sip-ua-loose-route-01.txt
> > >>
> > >> Hi Dean,
> > >>
> > >> in ECRIT we assumed that the Request URI contains the=20
> > service URN. We=20
> > >> put that stuff into the Phone BCP document (which=20
> > unfortunately still=20
> > >> contains an error I just noticed).
> > >> That's what we told the 3GPP in the past as well. Hence,=20
> > they wrote=20
> > >> it in their specs. See TS 24.229, Section 5.1.6.8.3, bullet (1).
> > >>
> > >> Within the ECRIT group we weren't aware that this issue=20
> > has not been=20
> > >> decided and hence we are a bit concerned about the recent change=20
> > >> given that other SDOs followed our suggestion already.
> > >>
> > >> Do you have an idea what we should do now?
> > >>
> > >> Ciao
> > >> Hannes
> > >>
> > >>
> > >> Dean Willis wrote:
> > >>    =20
> > >>> Hannes Tschofenig wrote:
> > >>>      =20
> > >>>> No response received -- resend.
> > >>>>
> > >>>> Hannes Tschofenig wrote:
> > >>>>
> > >>>>        =20
> > >>>>> Dear SIP WG members,
> > >>>>>
> > >>>>> during the ECRIT meeting we learned that the SIP=20
> working group=20
> > >>>>> "rejected" the concept described in=20
> > >>>>> draft-rosenberg-sip-ua-loose-route-01.txt.
> > >>>>>
> > >>>>> Could someone please give us more information about this
> > >>>>>          =20
> > >> decision as
> > >>    =20
> > >>>>> it impacts the work we do in ECRIT?
> > >>>>>          =20
> > >>> I wouldn't say that UA Loose Route was "rejected" so much
> > >>>      =20
> > >> as "does not
> > >>    =20
> > >>> yet have consensus".
> > >>>
> > >>> This is in part influenced by "WG doesn't seem to have a=20
> > compelling=20
> > >>> reason to make such a significant change."
> > >>>
> > >>> Perhaps ECRIT has a compelling reason?
> > >>>
> > >>> --
> > >>> Dean
> > >>>      =20
> > >>
> > >> _______________________________________________
> > >> Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
> > >> This list is for NEW development of the core SIP Protocol Use=20
> > >> sip-implementors@cs.columbia.edu for questions on=20
> current sip Use=20
> > >> sipping@ietf.org for new developments on the application of sip
> > >>
> > >>    =20
> >=20
> >=20
>=20
>=20
> _______________________________________________
> Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
>=20


_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Tue Sep 04 08:53:05 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1ISXrO-0006NJ-HF; Tue, 04 Sep 2007 08:50:26 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1ISXrN-0006NB-G7
	for sip-confirm+ok@megatron.ietf.org; Tue, 04 Sep 2007 08:50:25 -0400
Received: from [10.91.34.44] (helo=ietf-mx.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1ISXrN-0006N3-6K; Tue, 04 Sep 2007 08:50:25 -0400
Received: from ebru.winwebhosting.com ([74.52.236.50])
	by ietf-mx.ietf.org with esmtp (Exim 4.43)
	id 1ISXrL-0000Bk-RF; Tue, 04 Sep 2007 08:50:25 -0400
Received: from [209.173.53.233] (helo=BROSLT41xp)
	by ebru.winwebhosting.com with esmtpa (Exim 4.66)
	(envelope-from <br@brianrosen.net>)
	id 1ISXrC-0005Y4-Gu; Tue, 04 Sep 2007 07:50:14 -0500
From: "Brian Rosen" <br@brianrosen.net>
To: "'Tschofenig,
	Hannes \(NSN - DE/Germany - MiniMD\)'" <hannes.tschofenig@nsn.com>,
	"'ext Christer Holmberg \(JO/LMF\)'" <christer.holmberg@ericsson.com>, 
	"'Hannes Tschofenig'" <Hannes.Tschofenig@gmx.net>
References: <46CAE441.8080504@gmx.net><46D1C942.7010501@gmx.net><46D264F9.6080101@softarmor.com><46DC67A0.60809@gmx.net><CA9998CD4A020D418654FCDEF4E707DF013FD64F@esealmw113.eemea.ericsson.se><46DD06A4.2080000@gmx.net><CA9998CD4A020D418654FCDEF4E707DF01431EB9@esealmw113.eemea.ericsson.se>
	<5FB585F183235B42A9E70095055136FB0555C4@DEMUEXC012.nsn-intra.net>
Subject: RE: [Ecrit] Re: [Sip] draft-rosenberg-sip-ua-loose-route-01.txt
Date: Tue, 4 Sep 2007 08:50:18 -0400
Message-ID: <06d601c7eef2$27ba3700$640fa8c0@cis.neustar.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-Mailer: Microsoft Office Outlook 11
x-mimeole: Produced By Microsoft MimeOLE V6.00.2900.3028
In-Reply-To: <5FB585F183235B42A9E70095055136FB0555C4@DEMUEXC012.nsn-intra.net>
Thread-Index: Acfuw70diwY/GuHHQOGgmm2anxo1/QACAr2gAAfgDNAAAZdBoA==
X-AntiAbuse: This header was added to track abuse,
	please include it with any abuse report
X-AntiAbuse: Primary Hostname - ebru.winwebhosting.com
X-AntiAbuse: Original Domain - ietf.org
X-AntiAbuse: Originator/Caller UID/GID - [0 0] / [47 12]
X-AntiAbuse: Sender Address Domain - brianrosen.net
X-Source: 
X-Source-Args: 
X-Source-Dir: 
X-Spam-Score: 0.0 (/)
X-Scan-Signature: 17e5edc4dfd335965c1d21372171c01c
Cc: 'IETF SIP List' <sip@ietf.org>, 'ECRIT' <ecrit@ietf.org>
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

Just FYI, NENA is likely to require what ecrit decides, assuming that =
there
does not appear to be a large burden on carriers.

This is one of the areas where it would appear there could be gratuitous
differences between the IETF architecture and the IMS architecture which
need to be addressed.

Brian

> -----Original Message-----
> From: Tschofenig,Hannes (NSN - DE/Germany - MiniMD)
> [mailto:hannes.tschofenig@nsn.com]
> Sent: Tuesday, September 04, 2007 8:06 AM
> To: ext Christer Holmberg (JO/LMF); Hannes Tschofenig
> Cc: IETF SIP List; ECRIT
> Subject: AW: [Ecrit] Re: [Sip] =
draft-rosenberg-sip-ua-loose-route-01.txt
>=20
> Hi Christer,
>=20
> Thanks for your quick response.
> Please find a few comments below:
>=20
> > -----Urspr=FCngliche Nachricht-----
> > Von: ext Christer Holmberg (JO/LMF)
> > [mailto:christer.holmberg@ericsson.com]
> > Gesendet: Dienstag, 4. September 2007 14:00
> > An: Hannes Tschofenig
> > Cc: IETF SIP List; ECRIT; Dean Willis
> > Betreff: RE: [Ecrit] Re: [Sip]
> > draft-rosenberg-sip-ua-loose-route-01.txt
> >
> >
> > Hi,
> >
> > >>In 3GPP, it is true that the UE inserts the service URN into the
> > Request-URI.
> > >>
> > >>But, in the current specification the E-CSCF converts the
> > URN into a
> > >>routable PSAP address, i.e. the mechanism in the
> > loose-route draft is
> > >>not used.
> > >>
> > >>
> > >Why was this done?
> >
> > I don't have all the details, but one reason was that the same
> > procedures were wanted towards a PSAP and an MGCF, and at least in =
the
> > previous 3GPP releases the MGCF does the called party number mapping
> > based on the Request-URI value.
>=20
> You mean that the MGCF wouldn't know what todo with the Request URI.
> This sounds like a backwards compatibility aspect.
>=20
> > Also, since this was done a while ago,
> > the loose-route draft mechanism wasn't even discussed.
> That's probably true.
>=20
>  Also, since
> > neither the PSAP or MGCF registers themselves to the E-CSCF, the
> > loose-route draft mechanism wouldn't be used towards those
> > entities even
> > if adopted by IMS.
>=20
> I don't think that the Request URI has anything todo with =
registrations.
>=20
> >
> > >Do you expect that the call uses a different emergency call marking
> > technique went it enters the PSAP operator network?
> >
> > I think it is up to each operator to decide how the marking is done.
>=20
>=20
> In the 3GPP model with the E-CSCF and the PSAP having a close =
relationship
> you could leave this issue open. It would, however, make their life
> easier.
>=20
> > There will always be agreements between the PSAP operators
> > and the other
> > ("public") operators using them.
>=20
> Only in the 3GPP IMS alike architecture. The IETF emergency services
> architecture is a bit different.
>=20
>  I guess it would also be possible to
> > put the original service URN into the P-Called-Party-Id header (as =
for
> > normal calls), eventhough I don't think it's currently specified.
>=20
> I am not sure whether this is a good solution.
>=20
> >
> > >Do you expect that the call is directly sent from the E-CSCF to the
> > PSAP and that there are no other hops in between?
> >
> > I think both cases are applicable.
> When you have intermediate entities that need to recognize emergency =
calls
> and need to treat the call differently then you might want to define =
the
> procedures since otherwise there is a chance that things don't work as
> expected.
>=20
> Ciao
> Hannes
>=20
> >
> > Regards,
> >
> > Christer
> >
> >
> >
> >
> >
> > > >> -----Original Message-----
> > > >> From: Hannes Tschofenig [mailto:Hannes.Tschofenig@gmx.net]
> > > >> Sent: 3. syyskuuta 2007 22:59
> > > >> To: Dean Willis
> > > >> Cc: IETF SIP List; ECRIT
> > > >> Subject: Re: [Ecrit] Re: [Sip]
> > > >> draft-rosenberg-sip-ua-loose-route-01.txt
> > > >>
> > > >> Hi Dean,
> > > >>
> > > >> in ECRIT we assumed that the Request URI contains the
> > > service URN. We
> > > >> put that stuff into the Phone BCP document (which
> > > unfortunately still
> > > >> contains an error I just noticed).
> > > >> That's what we told the 3GPP in the past as well. Hence,
> > > they wrote
> > > >> it in their specs. See TS 24.229, Section 5.1.6.8.3, bullet =
(1).
> > > >>
> > > >> Within the ECRIT group we weren't aware that this issue
> > > has not been
> > > >> decided and hence we are a bit concerned about the recent =
change
> > > >> given that other SDOs followed our suggestion already.
> > > >>
> > > >> Do you have an idea what we should do now?
> > > >>
> > > >> Ciao
> > > >> Hannes
> > > >>
> > > >>
> > > >> Dean Willis wrote:
> > > >>
> > > >>> Hannes Tschofenig wrote:
> > > >>>
> > > >>>> No response received -- resend.
> > > >>>>
> > > >>>> Hannes Tschofenig wrote:
> > > >>>>
> > > >>>>
> > > >>>>> Dear SIP WG members,
> > > >>>>>
> > > >>>>> during the ECRIT meeting we learned that the SIP
> > working group
> > > >>>>> "rejected" the concept described in
> > > >>>>> draft-rosenberg-sip-ua-loose-route-01.txt.
> > > >>>>>
> > > >>>>> Could someone please give us more information about this
> > > >>>>>
> > > >> decision as
> > > >>
> > > >>>>> it impacts the work we do in ECRIT?
> > > >>>>>
> > > >>> I wouldn't say that UA Loose Route was "rejected" so much
> > > >>>
> > > >> as "does not
> > > >>
> > > >>> yet have consensus".
> > > >>>
> > > >>> This is in part influenced by "WG doesn't seem to have a
> > > compelling
> > > >>> reason to make such a significant change."
> > > >>>
> > > >>> Perhaps ECRIT has a compelling reason?
> > > >>>
> > > >>> --
> > > >>> Dean
> > > >>>
> > > >>
> > > >> _______________________________________________
> > > >> Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
> > > >> This list is for NEW development of the core SIP Protocol Use
> > > >> sip-implementors@cs.columbia.edu for questions on
> > current sip Use
> > > >> sipping@ietf.org for new developments on the application of sip
> > > >>
> > > >>
> > >
> > >
> >
> >
> > _______________________________________________
> > Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
> > This list is for NEW development of the core SIP Protocol
> > Use sip-implementors@cs.columbia.edu for questions on current sip
> > Use sipping@ietf.org for new developments on the application of sip
> >
>=20
> _______________________________________________
> Ecrit mailing list
> Ecrit@ietf.org
> https://www1.ietf.org/mailman/listinfo/ecrit



_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Tue Sep 04 09:08:57 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1ISY7a-0003Pl-NW; Tue, 04 Sep 2007 09:07:10 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1ISY7Z-0003Pc-N3
	for sip-confirm+ok@megatron.ietf.org; Tue, 04 Sep 2007 09:07:09 -0400
Received: from [10.90.34.44] (helo=chiedprmail1.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1ISY7Z-0003PR-C6; Tue, 04 Sep 2007 09:07:09 -0400
Received: from mailgw4.ericsson.se ([193.180.251.62])
	by chiedprmail1.ietf.org with esmtp (Exim 4.43)
	id 1ISY7Y-0000Dv-Df; Tue, 04 Sep 2007 09:07:09 -0400
Received: from mailgw4.ericsson.se (unknown [127.0.0.1])
	by mailgw4.ericsson.se (Symantec Mail Security) with ESMTP id
	0DA2D205A4; Tue,  4 Sep 2007 15:07:07 +0200 (CEST)
X-AuditID: c1b4fb3e-b2038bb0000007e1-39-46dd587a9aee
Received: from esealmw128.eemea.ericsson.se (unknown [153.88.254.121])
	by mailgw4.ericsson.se (Symantec Mail Security) with ESMTP id
	B2E1A2102C; Tue,  4 Sep 2007 15:07:06 +0200 (CEST)
Received: from esealmw113.eemea.ericsson.se ([153.88.200.4]) by
	esealmw128.eemea.ericsson.se with Microsoft SMTPSVC(6.0.3790.1830); 
	Tue, 4 Sep 2007 15:07:06 +0200
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: [Ecrit] Re: [Sip] draft-rosenberg-sip-ua-loose-route-01.txt
Date: Tue, 4 Sep 2007 15:07:05 +0200
Message-ID: <CA9998CD4A020D418654FCDEF4E707DF014321C3@esealmw113.eemea.ericsson.se>
In-Reply-To: <5FB585F183235B42A9E70095055136FB0555C4@DEMUEXC012.nsn-intra.net>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Ecrit] Re: [Sip] draft-rosenberg-sip-ua-loose-route-01.txt
Thread-Index: Acfuw70diwY/GuHHQOGgmm2anxo1/QACAr2gAAfgDNAAAh5zIA==
References: <46CAE441.8080504@gmx.net><46D1C942.7010501@gmx.net><46D264F9.6080101@softarmor.com><46DC67A0.60809@gmx.net><CA9998CD4A020D418654FCDEF4E707DF013FD64F@esealmw113.eemea.ericsson.se><46DD06A4.2080000@gmx.net>
	<CA9998CD4A020D418654FCDEF4E707DF01431EB9@esealmw113.eemea.ericsson.se>
	<5FB585F183235B42A9E70095055136FB0555C4@DEMUEXC012.nsn-intra.net>
From: "Christer Holmberg (JO/LMF)" <christer.holmberg@ericsson.com>
To: "Tschofenig,
	Hannes (NSN - DE/Germany - MiniMD)" <hannes.tschofenig@nsn.com>,
	"Hannes Tschofenig" <Hannes.Tschofenig@gmx.net>
X-OriginalArrivalTime: 04 Sep 2007 13:07:06.0468 (UTC)
	FILETIME=[7E79A240:01C7EEF4]
X-Brightmail-Tracker: AAAAAA==
X-Spam-Score: 0.0 (/)
X-Scan-Signature: 20f22c03b5c66958bff5ef54fcda6e48
Cc: IETF SIP List <sip@ietf.org>, ECRIT <ecrit@ietf.org>,
	Dean Willis <dean.willis@softarmor.com>
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org


Hi,=20

>>I don't have all the details, but one reason was that the same
>>procedures were wanted towards a PSAP and an MGCF, and at=20
>>least in the previous 3GPP releases the MGCF does the called party
number mapping
>>based on the Request-URI value.
>=20
>You mean that the MGCF wouldn't know what todo with the Request URI.=20
>This sounds like a backwards compatibility aspect.

Correct.

>>Also, since neither the PSAP or MGCF registers themselves to the
E-CSCF, the
>>loose-route draft mechanism wouldn't be used towards those=20
>>entities even if adopted by IMS.
>=20
>I don't think that the Request URI has anything todo with
registrations.=20

The mechanism in the draft is only used towards users that in the
registration have indicated support for it.
=20
>>>Do you expect that the call uses a different emergency call marking
>>>technique went it enters the PSAP operator network?
>>I think it is up to each operator to decide how the marking is done.
> =20
>In the 3GPP model with the E-CSCF and the PSAP having a close=20
>relationship you could leave this issue open. It would,=20
>however, make their life easier.=20
>=20
>>There will always be agreements between the PSAP operators and the
other
>>("public") operators using them.
>=20
>Only in the 3GPP IMS alike architecture. The IETF emergency services
architecture is a bit different.=20

Well, you asked how it works in IMS :)
=20
>>I guess it would also be possible to put the original service URN into
the P-Called-Party-Id=20
>>header (as for normal calls), eventhough I don't think it's currently
specified.
>=20
>I am not sure whether this is a good solution.=20

Why not?

>>>Do you expect that the call is directly sent from the E-CSCF to the
PSAP and that there are no other hops in between?
>>=20
>>I think both cases are applicable.
>When you have intermediate entities that need to recognize=20
>emergency calls and need to treat the call differently then=20
>you might want to define the procedures since otherwise there=20
>is a chance that things don't work as expected.=20

Yes.

Regards,

Christer











> > > >> -----Original Message-----
> > > >> From: Hannes Tschofenig [mailto:Hannes.Tschofenig@gmx.net]
> > > >> Sent: 3. syyskuuta 2007 22:59
> > > >> To: Dean Willis
> > > >> Cc: IETF SIP List; ECRIT
> > > >> Subject: Re: [Ecrit] Re: [Sip]
> > > >> draft-rosenberg-sip-ua-loose-route-01.txt
> > > >>
> > > >> Hi Dean,
> > > >>
> > > >> in ECRIT we assumed that the Request URI contains the=20
> > > service URN. We=20
> > > >> put that stuff into the Phone BCP document (which=20
> > > unfortunately still=20
> > > >> contains an error I just noticed).
> > > >> That's what we told the 3GPP in the past as well. Hence,=20
> > > they wrote=20
> > > >> it in their specs. See TS 24.229, Section 5.1.6.8.3,=20
> bullet (1).
> > > >>
> > > >> Within the ECRIT group we weren't aware that this issue=20
> > > has not been=20
> > > >> decided and hence we are a bit concerned about the=20
> recent change=20
> > > >> given that other SDOs followed our suggestion already.
> > > >>
> > > >> Do you have an idea what we should do now?
> > > >>
> > > >> Ciao
> > > >> Hannes
> > > >>
> > > >>
> > > >> Dean Willis wrote:
> > > >>    =20
> > > >>> Hannes Tschofenig wrote:
> > > >>>      =20
> > > >>>> No response received -- resend.
> > > >>>>
> > > >>>> Hannes Tschofenig wrote:
> > > >>>>
> > > >>>>        =20
> > > >>>>> Dear SIP WG members,
> > > >>>>>
> > > >>>>> during the ECRIT meeting we learned that the SIP=20
> > working group=20
> > > >>>>> "rejected" the concept described in=20
> > > >>>>> draft-rosenberg-sip-ua-loose-route-01.txt.
> > > >>>>>
> > > >>>>> Could someone please give us more information about this
> > > >>>>>          =20
> > > >> decision as
> > > >>    =20
> > > >>>>> it impacts the work we do in ECRIT?
> > > >>>>>          =20
> > > >>> I wouldn't say that UA Loose Route was "rejected" so much
> > > >>>      =20
> > > >> as "does not
> > > >>    =20
> > > >>> yet have consensus".
> > > >>>
> > > >>> This is in part influenced by "WG doesn't seem to have a=20
> > > compelling=20
> > > >>> reason to make such a significant change."
> > > >>>
> > > >>> Perhaps ECRIT has a compelling reason?
> > > >>>
> > > >>> --
> > > >>> Dean
> > > >>>      =20
> > > >>
> > > >> _______________________________________________
> > > >> Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
> > > >> This list is for NEW development of the core SIP Protocol Use=20
> > > >> sip-implementors@cs.columbia.edu for questions on=20
> > current sip Use=20
> > > >> sipping@ietf.org for new developments on the application of sip
> > > >>
> > > >>    =20
> > >=20
> > >=20
> >=20
> >=20
> > _______________________________________________
> > Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
> > This list is for NEW development of the core SIP Protocol
> > Use sip-implementors@cs.columbia.edu for questions on current sip
> > Use sipping@ietf.org for new developments on the application of sip
> >=20
>=20


_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Tue Sep 04 09:39:19 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1ISYb8-0003JT-LC; Tue, 04 Sep 2007 09:37:42 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1ISYb7-0003Ic-5i
	for sip-confirm+ok@megatron.ietf.org; Tue, 04 Sep 2007 09:37:41 -0400
Received: from [10.91.34.44] (helo=ietf-mx.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1ISYb6-0003IT-ST
	for sip@ietf.org; Tue, 04 Sep 2007 09:37:40 -0400
Received: from mail.gmx.net ([213.165.64.20])
	by ietf-mx.ietf.org with smtp (Exim 4.43) id 1ISYb5-0001Vg-9Z
	for sip@ietf.org; Tue, 04 Sep 2007 09:37:40 -0400
Received: (qmail invoked by alias); 04 Sep 2007 13:37:35 -0000
Received: from socks1.netz.sbs.de (EHLO [192.35.17.26]) [192.35.17.26]
	by mail.gmx.net (mp056) with SMTP; 04 Sep 2007 15:37:35 +0200
X-Authenticated: #29516787
X-Provags-ID: V01U2FsdGVkX19kLOM1SodkhDRJz/Mg/PkqNrNCtjTabRV2Cv/gqm
	OL0TyZ1WkfGIY5
Message-ID: <46DD5F9F.1040409@gmx.net>
Date: Tue, 04 Sep 2007 15:37:35 +0200
From: Hannes Tschofenig <Hannes.Tschofenig@gmx.net>
User-Agent: Thunderbird 2.0.0.6 (Windows/20070728)
MIME-Version: 1.0
To: "Christer Holmberg (JO/LMF)" <christer.holmberg@ericsson.com>
Subject: Re: [Ecrit] Re: [Sip] draft-rosenberg-sip-ua-loose-route-01.txt
References: <46CAE441.8080504@gmx.net><46D1C942.7010501@gmx.net><46D264F9.6080101@softarmor.com><46DC67A0.60809@gmx.net><CA9998CD4A020D418654FCDEF4E707DF013FD64F@esealmw113.eemea.ericsson.se><46DD06A4.2080000@gmx.net>
	<CA9998CD4A020D418654FCDEF4E707DF01431EB9@esealmw113.eemea.ericsson.se>
	<5FB585F183235B42A9E70095055136FB0555C4@DEMUEXC012.nsn-intra.net>
	<CA9998CD4A020D418654FCDEF4E707DF014321C3@esealmw113.eemea.ericsson.se>
In-Reply-To: <CA9998CD4A020D418654FCDEF4E707DF014321C3@esealmw113.eemea.ericsson.se>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Y-GMX-Trusted: 0
X-Spam-Score: 0.0 (/)
X-Scan-Signature: d185fa790257f526fedfd5d01ed9c976
Cc: IETF SIP List <sip@ietf.org>, ECRIT <ecrit@ietf.org>,
	Dean Willis <dean.willis@softarmor.com>
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

Hi Christer,

>>> Also, since neither the PSAP or MGCF registers themselves to the
>>>       
> E-CSCF, the
>   
>>> loose-route draft mechanism wouldn't be used towards those 
>>> entities even if adopted by IMS.
>>>       
>> I don't think that the Request URI has anything todo with
>>     
> registrations. 
>
> The mechanism in the draft is only used towards users that in the
> registration have indicated support for it.
>   

This seems to be a "capability discovery" approach.
Since the PSAP does not register at the E-CSCF the "capability 
discovery" would not work.

>  
>   
>>>> Do you expect that the call uses a different emergency call marking
>>>> technique went it enters the PSAP operator network?
>>>>         
>>> I think it is up to each operator to decide how the marking is done.
>>>       
>>  
>> In the 3GPP model with the E-CSCF and the PSAP having a close 
>> relationship you could leave this issue open. It would, 
>> however, make their life easier. 
>>
>>     
>>> There will always be agreements between the PSAP operators and the
>>>       
> other
>   
>>> ("public") operators using them.
>>>       
>> Only in the 3GPP IMS alike architecture. The IETF emergency services
>>     
> architecture is a bit different. 
>
> Well, you asked how it works in IMS :)
>   
Correct. I asked for the IMS description.

But you understand that we would like to use mechanisms in a generic way 
whenever possible regardless whether the call starts in a 3GPP, Wimax, 
DSL, WLAN or enterprise network.

>  
>   
>>> I guess it would also be possible to put the original service URN into
>>>       
> the P-Called-Party-Id 
>   
>>> header (as for normal calls), eventhough I don't think it's currently
>>>       
> specified.
>   
>> I am not sure whether this is a good solution. 
>>     
>
> Why not?
>
>   
I read through 
http://tools.ietf.org/wg/sip/draft-rosenberg-sip-ua-loose-route-01.txt 
and I got the impression that Jonathan has encountered a generic problem 
and the description he provided looked reasonable to me to argue for the 
Request URI to remains unchanged end-to-end and not to use other 
solutions. He listed two other solutions and the P- header approach does 
not look generic to me.

Ciao
Hannes





_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Tue Sep 04 15:15:24 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1ISdqE-0006zo-Py; Tue, 04 Sep 2007 15:13:38 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1ISdqC-0006zf-Pk
	for sip-confirm+ok@megatron.ietf.org; Tue, 04 Sep 2007 15:13:36 -0400
Received: from [10.91.34.44] (helo=ietf-mx.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1ISdqC-0006zX-GI; Tue, 04 Sep 2007 15:13:36 -0400
Received: from nylon.softarmor.com ([66.135.38.164])
	by ietf-mx.ietf.org with esmtp (Exim 4.43)
	id 1ISdqB-0000i8-7p; Tue, 04 Sep 2007 15:13:36 -0400
Received: from [192.168.2.101] (cpe-76-185-142-113.tx.res.rr.com
	[76.185.142.113]) (authenticated bits=0)
	by nylon.softarmor.com (8.13.8/8.13.8/Debian-3) with ESMTP id
	l84JDUQs027716
	(version=TLSv1/SSLv3 cipher=AES128-SHA bits=128 verify=NOT);
	Tue, 4 Sep 2007 14:13:32 -0500
In-Reply-To: <46DC67A0.60809@gmx.net>
References: <46CAE441.8080504@gmx.net> <46D1C942.7010501@gmx.net>
	<46D264F9.6080101@softarmor.com> <46DC67A0.60809@gmx.net>
Mime-Version: 1.0 (Apple Message framework v752.3)
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <50E0593E-BCE3-4725-A85B-49A6F5F37900@softarmor.com>
Content-Transfer-Encoding: 7bit
From: Dean Willis <dean.willis@softarmor.com>
Subject: Re: [Ecrit] Re: [Sip] draft-rosenberg-sip-ua-loose-route-01.txt
Date: Tue, 4 Sep 2007 14:13:21 -0500
To: Hannes Tschofenig <Hannes.Tschofenig@gmx.net>
X-Mailer: Apple Mail (2.752.3)
X-Spam-Score: 0.0 (/)
X-Scan-Signature: ea4ac80f790299f943f0a53be7e1a21a
Cc: IETF SIP List <sip@ietf.org>, ECRIT <ecrit@ietf.org>
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org


On Sep 3, 2007, at 2:59 PM, Hannes Tschofenig wrote:

> Hi Dean,
>
> in ECRIT we assumed that the Request URI contains the service URN.  
> We put that stuff into the Phone BCP document (which unfortunately  
> still contains an error I just noticed).
> That's what we told the 3GPP in the past as well. Hence, they wrote  
> it in their specs. See TS 24.229, Section 5.1.6.8.3, bullet (1).
>
> Within the ECRIT group we weren't aware that this issue has not  
> been decided and hence we are a bit concerned about the recent  
> change given that other SDOs followed our suggestion already.
>
> Do you have an idea what we should do now?

Tell them not to translate the emergency service URN into something  
that doesn't preserve the requisite information?

In IMS that should be easy, even if the CSCF is translating into a  
routable PSAP entry.

In the broader IETF case, I suspect it means "NEVER retarget a  
request URI that contains a service URN unless you're the terminating  
PSAP's proxy, and then do so very carefully."

--
Dean



_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Tue Sep 04 17:05:08 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1ISfYJ-00007u-4u; Tue, 04 Sep 2007 17:03:15 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1ISfYI-00007p-9D
	for sip-confirm+ok@megatron.ietf.org; Tue, 04 Sep 2007 17:03:14 -0400
Received: from [10.90.34.44] (helo=chiedprmail1.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1ISfYH-00007f-Ry
	for sip@ietf.org; Tue, 04 Sep 2007 17:03:13 -0400
Received: from repmmg02.bea.com ([66.248.192.39])
	by chiedprmail1.ietf.org with esmtp (Exim 4.43) id 1ISfYF-0005F5-Uu
	for sip@ietf.org; Tue, 04 Sep 2007 17:03:13 -0400
Received: from repmmr01.bea.com (repmmr01.bea.com [10.160.29.71])
	by repmmg02.bea.com (Switch-3.2.7/Switch-3.2.7) with ESMTP id
	l84L38Am021684; Tue, 4 Sep 2007 14:03:08 -0700
Received: from repbex01.amer.bea.com (repbex01.bea.com [10.160.26.98])
	by repmmr01.bea.com (Switch-3.2.7/Switch-3.2.7) with ESMTP id
	l84L35Rr008075; Tue, 4 Sep 2007 14:03:06 -0700
Received: from 172.24.28.147 ([172.24.28.147]) by repbex01.amer.bea.com
	([10.160.26.98]) with Microsoft Exchange Server HTTP-DAV ; 
	Tue,  4 Sep 2007 21:03:06 +0000
User-Agent: Microsoft-Entourage/11.3.6.070618
Date: Tue, 04 Sep 2007 10:59:31 -0700
Subject: Re: AW: AW: [Sip] Extension of conference procedures
From: Eric Burger <eburger@bea.com>
To: "Huelsemann, Martin" <Martin.Huelsemann@t-com.net>
Message-ID: <C302EB13.A82F%eburger@bea.com>
Thread-Topic: AW: AW: [Sip] Extension of conference procedures
Thread-Index: AcfqRhEX/Me4/dQsRM+wdqt5zk7CTAAhfFiAAAFj5gAAAntFIAEQdiz+
In-Reply-To: <CCA850DCD3FBE2479D5076C5C1873222029F5081@S4DE9JSAAHW.ost.t-com.de>
Mime-version: 1.0
Content-type: text/plain; charset=ISO-8859-1
Content-transfer-encoding: quoted-printable
x-BEA-PMX-Instructions: AV
x-BEA-MM: Internal-To-External
X-Spam-Score: 1.4 (+)
X-Scan-Signature: dd055ca905b7a8538e016a7989511901
Cc: sip@ietf.org
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

I must be missing an important point.  To me, right now, this whole thread,
besides being 11 pages long, seems pointless.

Either a phone knows about REFER or the phone does 3261.  Adding something
new to 3261 means the phone needs to know about it means it might as well
know about REFER.

Hacking 3261 to enable a man-in-the-middle attack, where the conference
server or PSAP can take over a call (good thing) enables a nasty device to
take over a call (bad thing) is not a good idea.


On 8/30/07 4:37 AM, "Huelsemann, Martin" <Martin.Huelsemann@t-com.net>
wrote:

> Hi,
>=20
> I think especially for the case where A has several ongoing dialogs with =
B and
> A wants only to include a certain of the dialogs into the conference, he =
has
> to give some information in which of the dialogs the AS shall start 3pcc
> procedures.
>=20
>=20
> Regards, Martin
>=20
>=20
>=20
>> -----Urspr=FCngliche Nachricht-----
>> Von: Peili Xu [mailto:xupeili@huawei.com]
>> Gesendet: Donnerstag, 30. August 2007 08:53
>> An: 'Even, Roni'
>> Cc: sip@ietf.org
>> Betreff: RE: AW: [Sip] Extension of conference procedures
>>=20
>>=20
>>=20
>> Hi Roni,
>>=20
>> Your case is even "smarter" than mine ;-)  that's OK for
>> me.
>>=20
>> But, I'm just wondering whether there is case that A has
>> multiple on going dialogs with say B, C, D and only want
>> to turn A-B and A-C to a conference then dialog
>> information maybe needed.
>>=20
>> I'd happy to hear clarification for this point from whom
>> raise the requirements.
>>=20
>> Peili
>>=20
>> -----Original Message-----
>> From: Even, Roni [mailto:roni.even@polycom.co.il]
>> Sent: Thursday, August 30, 2007 2:09 PM
>> To: Peili Xu
>> Cc: sip@ietf.org
>> Subject: RE: AW: [Sip] Extension of conference
>> procedures
>>=20
>>=20
>>=20
>> Hi,
>> I think you misunderstood what I menat by "smart". If
>> there is a softyswitch acting as a 3PCC, it controls the
>> dialogs and can redirect the media to the media server
>> suppling the conference function.
>> There is no need for A to give information about the
>> dialog
>>=20
>> Roni Even
>>=20
>>> -----Original Message-----
>>> From: Peili Xu [mailto:xupeili@gmail.com]
>>> Sent: Wednesday, August 29, 2007 5:08 PM
>>> To: Even, Roni
>>> Cc: Huelsemann, Martin; sip@ietf.org
>>> Subject: Re: AW: [Sip] Extension of conference
>> procedures
>>>=20
>>> Hi Martin, Denis,
>>>=20
>>> I agree with Roni that you may need to decide who is
>> "smart".
>>>=20
>>> I guess you want to simulate the 3PTY services in
>> PSTN, A make call to
>>> B, then A Hold B, then A Make Call to C, then A could
>> do sth like hook
>>> flash to turn the call between A-B and A-C to an 3pty
>> conference.
>>> later, A could still turn the conferece back to 2
>> independant call.
>>>=20
>>> You have some assumption that the AS who performs
>> conference is on the
>>> path between A-B and A-C. And A could inform the AS to
>> turn the call=20
>>> between A-B and A-C to a conference.
>>>=20
>>> If the assumption is correct, what you want is just to
>> tell the AS=20
>>> which dialogs should be turned to conference by
>> sending an INVITE with
>>> the related dialog information.
>>>=20
>>> If the above understanding is correct, I'd agree with
>> the initial=20
>>> proposal from Denis.
>>> Just to convey the dialog information along with the
>> URI-List.
>>>=20
>>> Peili
>>>=20
>>>=20
>>>=20
>>> 2007/8/29, Even, Roni <roni.even@polycom.co.il>:
>>>>=20
>>>> Hi,
>>>> In this case, like in PSTN the switch does it. You
>> have to decide=20
>>>> who is
>>> "smart" the network or the end device.
>>>> A "simple" RFC 3261 only phone relies on a 3PCC or
>> softswitch to=20
>>>> manage
>>> telephony services (not only conferencing)
>>>>=20
>>>> Roni Even
>>>>=20
>>>>> -----Original Message-----
>>>>> From: Huelsemann, Martin
>> [mailto:Martin.Huelsemann@t-com.net]
>>>>> Sent: Wednesday, August 29, 2007 1:05 PM
>>>>> To: Even, Roni
>>>>> Cc: sip@ietf.org; jbemmel@zonnet.nl
>>>>> Subject: AW: AW: [Sip] Extension of conference
>> procedures
>>>>>=20
>>>>> Hi,
>>>>>=20
>>>>> also for the scenario where A refers B to dial
>> into a conference,
>>>>> the problem is when B has a terminal not
>> supporting REFER (or just
>>>>> doesn't want to accept the REFER for some
>> reasons), A cannot use
>>>>> the
>>> conference
>>>>> service.
>>>>>=20
>>>>> Of course these simple terminals are not the
>> desired use-case and
>>> there
>>>>> will be limitations. But if there is a possible
>> fallback solution
>>>>> that
>>> at
>>>>> least increases the chance that A can use the
>> service despite the
>>>>> fact that B does not fulfill all the requirements
>> for the service,
>>>>> I think
>>> we
>>>>> should try to figure it out.
>>>>>=20
>>>>> Regards, Martin
>>>>>=20
>>>>>=20
>>>>>=20
>>>>>=20
>>>>>=20
>>>>>> -----Urspr=FCngliche Nachricht-----
>>>>>> Von: Even, Roni [mailto:roni.even@polycom.co.il]
>>>>>> Gesendet: Montag, 27. August 2007 12:16
>>>>>> An: H=FClsemann, Martin; jbemmel@zonnet.nl
>>>>>> Cc: sip@ietf.org
>>>>>> Betreff: RE: AW: [Sip] Extension of conference
>> procedures
>>>>>>=20
>>>>>>=20
>>>>>> Hi,
>>>>>> My view is that every solution where you only
>> have A, B and a=20
>>>>>> conference server and B only supports RFC 3261
>> will have some=20
>>>>>> limitation and will be a hack.
>>>>>>=20
>>>>>> The recommended way to do it is for A to send a
>> Refer to B to=20
>>>>>> the focus.
>>>>>>=20
>>>>>> Also asking that B supporting only RFC 3261 will
>> support=20
>>>>>> conference event package is contradictory. B
>> will not even be
>>>>>> aware that it is in a conference.
>>>>>>=20
>>>>>> Roni Even
>>>>>>=20
>>>>>> !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
>>>>>> A consensus means that everyone agrees to say
>> collectively what
>>>>>> no one believes individually
>> !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
>>>>>>=20
>>>>>>> -----Original Message-----
>>>>>>> From: Huelsemann, Martin
>> [mailto:Martin.Huelsemann@t-com.net]
>>>>>>> Sent: Monday, August 27, 2007 12:59 PM
>>>>>>> To: jbemmel@zonnet.nl
>>>>>>> Cc: sip@ietf.org
>>>>>>> Subject: AW: AW: [Sip] Extension of conference
>> procedures
>>>>>>>=20
>>>>>>> Hi,
>>>>>>>=20
>>>>>>> the pure RFC 3261 client won't be the normal
>> case, of
>>>>>> course. But there
>>>>>>> might be networks with which you want to
>> interwork where
>>>>>> those simple
>>>>>>> clients are existing.
>>>>>>> Okay, you got me, it's again the PSTN
>> interworking. So
>>>>>> let's say what is
>>>>>>> needed is a fallback solution for this case.
>>>>>>> On the other hand, this fallback might be
>> useful for a
>>>>>> normal SIP client
>>>>>>> which supports RFC3891, too, e.g. if there are
>> problems with=20
>>>>>>> authorization.
>>>>>>>=20
>>>>>>> The user experience of the invitee should be
>> exactly as you
>>>>>> describe.
>>>>>>>=20
>>>>>>> If A sends the reINVITE / UPDATE himself that
>> could be a
>>>>>> solution, too.
>>>>>>> The only thing is, can B then use all the
>> conference features (e.
>>> g.
>>>>>>> conference event package), when the focus has
>> no knowledge on=20
>>>>>>> the signalling level that B is connected to
>> the conference bridge?
>>>>>>>=20
>>>>>>> Regards, Martin
>>>>>>>=20
>>>>>>>=20
>>>>>>>=20
>>>>>>>=20
>>>>>>>=20
>>>>>>>> -----Urspr=FCngliche Nachricht-----
>>>>>>>> Von: Jeroen van Bemmel
>> [mailto:jbemmel@zonnet.nl]
>>>>>>>> Gesendet: Sonntag, 26. August 2007 15:24
>>>>>>>> An: H=FClsemann, Martin
>>>>>>>> Cc: Alexeitsev, Denis; sip@ietf.org
>>>>>>>> Betreff: Re: AW: [Sip] Extension of
>> conference procedures
>>>>>>>>=20
>>>>>>>>=20
>>>>>>>> Martin,
>>>>>>>>=20
>>>>>>>> Now it becomes more clear. So the
>> requirement is to
>>>>>> enable a scenario
>>>>>>>> where a regular call is transformed into a
>> conference
>>>>>> call, assuming
>>>>>>>> that the invitee only has a "pure RFC3261"
>> client.
>>>>>>>> More specifically:
>>>>>>>>=20
>>>>>>>> - to get a smooth user experience, the
>> scenario must not
>>>>>>>> cause
>>> the
>>>>>>>> invitee's phone to ring, and/or ask the
>> invitee for=20
>>>>>>>> permission (acceptance is assumed to be
>> implied)
>>>>>>>>=20
>>>>>>>> What if A would send the reINVITE (or
>> UPDATE) itself, while
>>>>>>>> filling in the SDP according to the media
>> provided by the=20
>>>>>>>> conference server (i.e.
>>>>>>>> use codecs, media ports as received from the
>> focus)? (trying=20
>>>>>>>> to get the requirements more clear here)
>>>>>>>>=20
>>>>>>>> In practice, it may still be a challenge to
>> get such "very
>>> simple
>>>>>>>> terminals" to properly handle a change of
>> media (i.e. new
>>>>>> destination
>>>>>>>> ip/port for sending, new source ip/port and
>> RTP src id,
>>>>>> and possibly
>>>>>>>> different codecs)
>>>>>>>>=20
>>>>>>>> Regards,
>>>>>>>> Jeroen
>>>>>>>>=20
>>>>>>>>=20
>>>>>>>> Huelsemann, Martin wrote:
>>>>>>>>> Hi Jeroen,
>>>>>>>>>=20
>>>>>>>>> the usage of the Replaces header is of
>> course the best
>>>>>>>> solution, it's also described in the
>> regarding 3GPP=20
>>>>>>>> conferencing spec.
>>>>>>>>> The disadvantage of the usage of the
>> Repaces header is,
>>>>>>>> that it puts requirements on the UE of the
>> invited user, it
>>>>>>>> would have to support RFC 3891. And if it
>> supports, it=20
>>>>>>>> really would have to accept the 2nd INVITE,
>> which is not=20
>>>>>>>> mandatory according to RFC 3891 I think.
>>>>>>>>> Anyway what is needed in addition is a
>> solution how also
>>>>>>>> very simple terminals (e. g. only supporting
>> RFC 3261) can=20
>>>>>>>> be invited to an ad-hoc conference, whithout
>> having to say=20
>>>>>>>> to the invited user to please hang up
>> because there will be
>>>>>>>> a call from the focus shortly.
>>>>>>>>>=20
>>>>>>>>> Re-using an already established dialog at
>> least at the
>>>>>>>> first glance seems to be a simply and
>> invited UE independent
>>>>>>>> solution. And as this re-INVITE it wanted by
>> at least one of=20
>>>>>>>> the involved user, I would more compare it
>> to some kind of=20
>>>>>>>> triggered 3rd party call control than to
>> spoofing.
>>>>>>>>>=20
>>>>>>>>> Of course as you said it would have to be
>> made clear that
>>>>>>>> the focus is able to collect all the
>> information needed for
>>>>>>>> sending re-INVITEs (proposed "?" mechanism
>> usage, dialog=20
>>>>>>>> event package, etc.).
>>>>>>>>>=20
>>>>>>>>>=20
>>>>>>>>> Regards, Martin
>>>>>>>>>=20
>>>>>>>>>=20
>>>>>>>>>=20
>>>>>>>>>=20
>>>>>>>>>=20
>>>>>>>>>=20
>>>>>>>>>> -----Urspr=FCngliche Nachricht-----
>>>>>>>>>> Von: Jeroen van Bemmel
>> [mailto:jbemmel@zonnet.nl]
>>>>>>>>>> Gesendet: Freitag, 24. August 2007 17:06
>>>>>>>>>> An: Alexeitsev, Denis; sip@ietf.org
>>>>>>>>>> Betreff: Re: [Sip] Extension of
>> conference procedures
>>>>>>>>>>=20
>>>>>>>>>>=20
>>>>>>>>>> Denis,
>>>>>>>>>>=20
>>>>>>>>>> If I understand your scenario, "focus" is
>> a third party=20
>>>>>>>>>> separate from A and B, right? (e.g. a
>> conference server)
>>>>>>>>>>=20
>>>>>>>>>> In that case the focus is not a party in
>> the A-B dialog,=20
>>>>>>>>>> and would need more than Call-ID, From
>> and To to be able
>>>>>>>>>> to construct a reINVITE that B would
>> accept as coming
>>>>>>>>>> from A (e.g. CSeq). In any case, this
>> looks like a very
>>>>>>>>>> inelegant, hacked solution (as the
>> conference server is
>>>>>>>>>> basically spoofing)
>>>>>>>>>>=20
>>>>>>>>>> RFC4579 section 5.10 provides some
>> insipration, as well
>>>>>>>>>> as
>>>>>>>>>>=20
>> http://www.ietf.org/internet-drafts/draft-ietf-sipping-
>>> service
>>>>>>>>>> -examples-13.txt
>>>>>>>>>> scenario 2.5
>>>>>>>>>>=20
>>>>>>>>>> For example, A could include a 'Replaces'
>> header in the=20
>>>>>>>>>> URI it includes in its conference URI
>> list. Then the=20
>>>>>>>>>> conference server would
>>>>>>>> send a new
>>>>>>>>>> (out-of-dialog) INVITE to B containing
>> this Replaces=20
>>>>>>>>>> header, and B would know that it is
>> associated with the
>>>>>>>>>> dialog it has with A (and can replace it,
>> without ringing=20
>>>>>>>>>> if the UA is constructed like that)
>>>>>>>>>>=20
>>>>>>>>>> The conference server should probably
>> also include a=20
>>>>>>>>>> Referred-By containing A's AoR, either
>> automatically=20
>>>>>>>>>> (i.e. copy from From header in
>>>>>>>>>> INVITE) or
>>>>>>>>>> included by A in the URI (former is
>> better)
>>>>>>>>>>=20
>>>>>>>>>> Regards,
>>>>>>>>>> Jeroen
>>>>>>>>>>=20
>>>>>>>>>> Alexeitsev, D wrote:
>>>>>>>>>>=20
>>>>>>>>>>> I'd like to discuss the extension of the
>> current=20
>>>>>>>>>>> conference
>>>>>>>>>>>=20
>>>>>>>>>> procedures
>>>>>>>>>>=20
>>>>>>>>>>> with the following functionality.
>>>>>>>>>>>=20
>>>>>>>>>>> 3GPP conference specifications are
>> basing generally on
>>>>>>>>>>> the Conferencing Framework (RFC 4353)
>> and for one=20
>>>>>>>>>>> possibility
>>>>>>>>>>>=20
>>>>>>>>>> of inviting
>>>>>>>>>>=20
>>>>>>>>>>> users to the confrence on
>>>>>> draft-ietf-sip-uri-list-conferencing.
>>>>>>>>>>>=20
>>>>>>>>>>> Using the conferencing framework, the
>> following=20
>>>>>>>>>>> situation
>>>>>>>> can occur
>>>>>>>>>>> when a user is invited to an ad-hoc
>> conference:
>>>>>>>>>>> User A is in a dialog with user B, and
>> decides to start
>>>>>>>>>>> a
>>>>>>>>>>>=20
>>>>>>>>>> conference,
>>>>>>>>>>=20
>>>>>>>>>>> for example using an INVITE request to
>> the focus which
>>>>>>>>>>>=20
>>>>>>>>>> includes a URI
>>>>>>>>>>=20
>>>>>>>>>>> list with the URIs of the users which
>> shall be added to
>>>>>>>>>>> the conference, incl. B. So when the
>> INVITE request from
>>>>>>>>>>> the
>>> focus
>>>>>>>>>>> arrives at B, he is still in the
>> original dialog with
>>>>>> A, and so it
>>>>>>>>>>> depends on B if he accepts the 2nd
>> INVITE and the
>>>>>>>> conference can be
>>>>>>>>>>> established.
>>>>>>>>>>>=20
>>>>>>>>>>> At the last 3GPP CT1 meeting the idea of
>> transporting=20
>>>>>>>>>>> dialog identifiers together with the
>> URIs was introduced
>>>>>>>>>>> to
>>>>>> solve this
>>>>>>>>>>> problem. Basing on the idea that the
>> procedures at
>>>>>> the conference
>>>>>>>>>>> server are extended in that way, that
>> the conference
>>>>>>>> server is aware
>>>>>>>>>>> of already established dialogs, the
>> focus then has the
>>>>>>>>>>>=20
>>>>>>>>>> possibility to
>>>>>>>>>>=20
>>>>>>>>>>> send re-INVITES in the indicated dialogs
>> and connect the
>>>>>>>> media from
>>>>>>>>>>> the invited users to the conference
>> bridge.
>>>>>>>>>>> In the URI list the dialogs can be
>> indicated using the
>>>>>>>> "?" mechanism
>>>>>>>>>>> according to subclause 19.1.1 of RFC
>> 3261.
>>>>>>>>>>>=20
>>>>>>>>>>> Following example shows the proposed
>> mechanism:
>>>>>>>>>>>=20
>>>>>>>>>>> INVITE Conference
>>>>>>>>>>> To: Conference
>>>>>>>>>>> From: A
>>>>>>>>>>> Require: recipient-list-invite
>>>>>>>>>>>=20
>>>>>>>>>>> Content-Type:
>> application/resource-lists+xml
>>>>>>>>>>> Content-Disposition: recipient-list
>>>>>>>>>>>=20
>>>>>>>>>>> <?xml version=3D"1.0" encoding=3D"UTF-8"?>
>> <resource-lists=20
>>>>>>>>>>> xmlns=3D"urn:ietf:params:xml:ns:resource-
>>> lists"
>>>>>>>>>>>=20
>> xmlns:cp=3D"urn:ietf:params:xml:ns:copyControl">
>>>>>>>>>>>   <list>
>>>>>>>>>>>    <entry
>> uri=3D"B?Call-ID=3D1&From=3DA%3Btag%3Da&To=3DB%3Btag%3Db"
>>>>>>>>>>> cp:copyControl=3D"to"/>
>>>>>>>>>>>    <entry
>> uri=3D"C?Call-ID=3D2&From=3DA%3Btag%3Da&To=3DC%3btag%3Dc"
>>>>>>>>>>> cp:copyControl=3D"to"/>
>>>>>>>>>>>   </list>
>>>>>>>>>>>  </resource-lists>
>>>>>>>>>>>=20
>>>>>>>>>>> Greetings,
>>>>>>>>>>> Denis Alexeitsev
>>>>>>>>>>>=20
>>>>>>>>>>>=20
>>>>>>>>>>>=20
>> _______________________________________________
>>>>>>>>>>> Sip mailing list
>>>>>>>>>>>=20
>> https://www1.ietf.org/mailman/listinfo/sip
>>>>>>>>>>> This list is for NEW development of the
>> core SIP=20
>>>>>>>>>>> Protocol Use
>> sip-implementors@cs.columbia.edu for
>>>>>>>>>>> questions on
>>>>>> current sip
>>>>>>>>>>> Use sipping@ietf.org for new
>> developments on the
>>>>>>>> application of sip
>>>>>>>>>>>=20
>>>>>>>>>>=20
>>>>>>>>>>=20
>> _______________________________________________
>>>>>>>>>> Sip mailing list
>>>>>>>>>>=20
>> https://www1.ietf.org/mailman/listinfo/sip
>>>>>>>>>> This list is for NEW development of the
>> core SIP Protocol
>>>>>>>>>> Use sip-implementors@cs.columbia.edu for
>> questions on
>>>>>> current sip
>>>>>>>>>> Use sipping@ietf.org for new developments
>> on the
>>>>>> application of sip
>>>>>>>>>>=20
>>>>>>>>>>=20
>>>>>>>>>=20
>>>>>>>>>=20
>>>>>>>>=20
>>>>>>>=20
>>>>>>>=20
>>>>>>>=20
>> _______________________________________________
>>>>>>> Sip mailing list
>> https://www1.ietf.org/mailman/listinfo/sip
>>>>>>> This list is for NEW development of the core
>> SIP Protocol Use
>>>>>>> sip-implementors@cs.columbia.edu for questions
>> on current sip=20
>>>>>>> Use sipping@ietf.org for new developments on
>> the application=20
>>>>>>> of
>>> sip
>>>>>>=20
>>>>=20
>>>>=20
>>>> _______________________________________________
>>>> Sip mailing list
>> https://www1.ietf.org/mailman/listinfo/sip
>>>> This list is for NEW development of the core SIP
>> Protocol Use=20
>>>> sip-implementors@cs.columbia.edu for questions on
>> current sip Use=20
>>>> sipping@ietf.org for new developments on the
>> application of sip
>>>>=20
>>=20
>>=20
>> _______________________________________________
>> Sip mailing list
>> https://www1.ietf.org/mailman/listinfo/sip
>> This list is for NEW development of the core SIP
>> Protocol Use sip-implementors@cs.columbia.edu for
>> questions on current sip Use sipping@ietf.org for new
>> developments on the application of sip
>>=20
>>=20
>>=20
>>=20
>> _______________________________________________
>> Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
>> This list is for NEW development of the core SIP Protocol
>> Use sip-implementors@cs.columbia.edu for questions on current sip
>> Use sipping@ietf.org for new developments on the application of sip
>>=20
>=20
>=20
> _______________________________________________
> Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip


Notice:  This email message, together with any attachments, may contain inf=
ormation  of  BEA Systems,  Inc.,  its subsidiaries  and  affiliated entiti=
es,  that may be confidential,  proprietary,  copyrighted  and/or legally p=
rivileged, and is intended solely for the use of the individual or entity n=
amed in this message. If you are not the intended recipient, and have recei=
ved this message in error, please immediately return this by email and then=
 delete it.


_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip

From sip-bounces@ietf.org Tue Sep 04 17:05:08 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1ISfYU-0000IO-GV; Tue, 04 Sep 2007 17:03:26 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1ISfYS-0000CD-C4
	for sip-confirm+ok@megatron.ietf.org; Tue, 04 Sep 2007 17:03:24 -0400
Received: from [10.91.34.44] (helo=ietf-mx.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1ISfYR-0000Bx-UH
	for sip@ietf.org; Tue, 04 Sep 2007 17:03:23 -0400
Received: from repmmg02.bea.com ([66.248.192.39])
	by ietf-mx.ietf.org with esmtp (Exim 4.43) id 1ISfYQ-00053i-KA
	for sip@ietf.org; Tue, 04 Sep 2007 17:03:23 -0400
Received: from repmmr01.bea.com (repmmr01.bea.com [10.160.29.71])
	by repmmg02.bea.com (Switch-3.2.7/Switch-3.2.7) with ESMTP id
	l84L39om021744; Tue, 4 Sep 2007 14:03:09 -0700
Received: from repbex01.amer.bea.com (repbex01.bea.com [10.160.26.98])
	by repmmr01.bea.com (Switch-3.2.7/Switch-3.2.7) with ESMTP id
	l84L35Rt008075; Tue, 4 Sep 2007 14:03:08 -0700
Received: from 172.24.28.147 ([172.24.28.147]) by repbex01.amer.bea.com
	([10.160.26.98]) with Microsoft Exchange Server HTTP-DAV ; 
	Tue,  4 Sep 2007 21:03:07 +0000
User-Agent: Microsoft-Entourage/11.3.6.070618
Date: Tue, 04 Sep 2007 10:59:48 -0700
Subject: Re: [Sip] INFO
From: Eric Burger <eburger@bea.com>
To: Hadriel Kaplan <HKaplan@acmepacket.com>,
	Jeroen van Bemmel <jbemmel@zonnet.nl>, Peili Xu <xupeili@huawei.com>
Message-ID: <C302EB24.A82F%eburger@bea.com>
Thread-Topic: [Sip] INFO
Thread-Index: AcfvHWH2oEs7+lsQEdyaaQAWy4mm/w==
In-Reply-To: <012801c7ebe8$34150000$6401a8c0@acmepacket.com>
Mime-version: 1.0
Content-type: text/plain; charset=US-ASCII
Content-transfer-encoding: 7bit
x-BEA-PMX-Instructions: AV
x-BEA-MM: Internal-To-External
X-Spam-Score: 1.4 (+)
X-Scan-Signature: 057ebe9b96adec30a7efb2aeda4c26a4
Cc: sip <sip@ietf.org>
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

Quite true.  As I recall, sentiment in the room in Chicago was not to "fix"
INFO.  This was because we now have SUBSCRIBE/NOTIFY and control channels.
In fact, one could offer we really should deprecate SIP-T, as a control
channel would be a MUCH better mechanism for transporting Q.931, Q.sig,
DPNSS, etc.  Why?  Because you can put your stack directly on top of a TCP
channel, instead of having to deal with hacking it into SIP messages.


On 8/31/07 12:01 PM, "Hadriel Kaplan" <HKaplan@acmepacket.com> wrote:

> I think he's saying it's something that could be resolved by
> standardization. (maybe)
> 
> At least the way I read your draft, the draft makes arguments against INFO
> of two different types, as if they were of similar weight and impact - but
> that's not really the case.  There is one set of problems with INFO that
> exist because of architectural issues, which are probably not fixable, and
> are generally damning.  There is a separate set which are problems merely
> because no standard exists for how to address them, but they could be
> resolved.  This latter type is not really a "Why INFO is bad in general", as
> much as a "what the current problems are with INFO that we should fix if we
> want to keep using INFO".
> 
> -hadriel
> 
>> -----Original Message-----
>> From: Eric Burger [mailto:eburger@bea.com]
>> Sent: Friday, August 31, 2007 11:33 AM
>> To: Jeroen van Bemmel; Peili Xu
>> Cc: sip
>> Subject: RE: [Sip] INFO
>> 
>> *How* do they signal what they support?  In an INFO?  <jk>
>> 
>> -----Original Message-----
>> From: Jeroen van Bemmel [mailto:jbemmel@zonnet.nl]
>> Sent: Friday, August 31, 2007 11:29 AM
>> To: Eric Burger; Peili Xu
>> Cc: sip
>> Subject: RE: [Sip] INFO
>> 
>> Since INFO is mid-dialog, the endpoints can signal what they support. It
>> does not need to be known a priori
>> 
>> Regards,
>> Jeroen
>> 
>> -----Oorspronkelijk bericht -----
>> Van: "Eric Burger" <eburger@bea.com>
>> Aan: "Peili Xu" <xupeili@huawei.com>
>> CC: "sip" <sip@ietf.org>
>> Verzonden: 31-8-07 00:03
>> Onderwerp: Re: [Sip] INFO
>> 
>> Saying, "OK for interworking" does not really say anything.  If I come
>> up with a really broken method for interworking, saying that it is for
>> interworking does not make it correct.
>> 
>> The problem is, how do the endpoints know they will be able to
>> communicate?
>> For the ISUP/Q.sig/DPNSS/mumble case, the endpoints know they will be
>> able to interoperate because they know a'priori: they are configured to
>> work.
>> However, this means that the devices must be in the same administrative
>> domain and configured properly.
>> 
>> Said in a different manner, INFO works fine for non-inter-network use.
>> It would be hard for the IETF to say, "Here is a non-IETF use.  We will
>> not use it.  You cannot use it with anyone else.  You cannot use it
>> between manufacturers, unless you get them to agree to this use."  That
>> is a bit more of what we call the toxic waste warning that accompanies
>> 3GPP specifications...
>> 
>> 
>> On 8/27/07 8:35 AM, "Peili Xu" <xupeili@huawei.com> wrote:
>> 
>>> Hi Eric,
>>> 
>>> Several cases I encounter to use INFO is for interworking with PSTN
>>> signaling, or simulate PSTN services at SIP entities such as SIP UA or
>> 
>>> SIP GW, which require mid-dialog information change.
>>> 
>> 
>> 
>> Notice:  This email message, together with any attachments, may contain
>> information  of  BEA Systems,  Inc.,  its subsidiaries  and  affiliated
>> entities,  that may be confidential,  proprietary,  copyrighted  and/or
>> legally privileged, and is intended solely for the use of the individual
>> or entity named in this message. If you are not the intended recipient,
>> and have received this message in error, please immediately return this by
>> email and then delete it.
>> 
>> 
>> _______________________________________________
>> Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
>> This list is for NEW development of the core SIP Protocol
>> Use sip-implementors@cs.columbia.edu for questions on current sip
>> Use sipping@ietf.org for new developments on the application of sip
> 
> 



Notice:  This email message, together with any attachments, may contain information  of  BEA Systems,  Inc.,  its subsidiaries  and  affiliated entities,  that may be confidential,  proprietary,  copyrighted  and/or legally privileged, and is intended solely for the use of the individual or entity named in this message. If you are not the intended recipient, and have received this message in error, please immediately return this by email and then delete it.


_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip





From sip-bounces@ietf.org Tue Sep 04 17:05:08 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1ISfYJ-00007u-4u; Tue, 04 Sep 2007 17:03:15 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1ISfYI-00007p-9D
	for sip-confirm+ok@megatron.ietf.org; Tue, 04 Sep 2007 17:03:14 -0400
Received: from [10.90.34.44] (helo=chiedprmail1.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1ISfYH-00007f-Ry
	for sip@ietf.org; Tue, 04 Sep 2007 17:03:13 -0400
Received: from repmmg02.bea.com ([66.248.192.39])
	by chiedprmail1.ietf.org with esmtp (Exim 4.43) id 1ISfYF-0005F5-Uu
	for sip@ietf.org; Tue, 04 Sep 2007 17:03:13 -0400
Received: from repmmr01.bea.com (repmmr01.bea.com [10.160.29.71])
	by repmmg02.bea.com (Switch-3.2.7/Switch-3.2.7) with ESMTP id
	l84L38Am021684; Tue, 4 Sep 2007 14:03:08 -0700
Received: from repbex01.amer.bea.com (repbex01.bea.com [10.160.26.98])
	by repmmr01.bea.com (Switch-3.2.7/Switch-3.2.7) with ESMTP id
	l84L35Rr008075; Tue, 4 Sep 2007 14:03:06 -0700
Received: from 172.24.28.147 ([172.24.28.147]) by repbex01.amer.bea.com
	([10.160.26.98]) with Microsoft Exchange Server HTTP-DAV ; 
	Tue,  4 Sep 2007 21:03:06 +0000
User-Agent: Microsoft-Entourage/11.3.6.070618
Date: Tue, 04 Sep 2007 10:59:31 -0700
Subject: Re: AW: AW: [Sip] Extension of conference procedures
From: Eric Burger <eburger@bea.com>
To: "Huelsemann, Martin" <Martin.Huelsemann@t-com.net>
Message-ID: <C302EB13.A82F%eburger@bea.com>
Thread-Topic: AW: AW: [Sip] Extension of conference procedures
Thread-Index: AcfqRhEX/Me4/dQsRM+wdqt5zk7CTAAhfFiAAAFj5gAAAntFIAEQdiz+
In-Reply-To: <CCA850DCD3FBE2479D5076C5C1873222029F5081@S4DE9JSAAHW.ost.t-com.de>
Mime-version: 1.0
Content-type: text/plain; charset=ISO-8859-1
Content-transfer-encoding: quoted-printable
x-BEA-PMX-Instructions: AV
x-BEA-MM: Internal-To-External
X-Spam-Score: 1.4 (+)
X-Scan-Signature: dd055ca905b7a8538e016a7989511901
Cc: sip@ietf.org
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

I must be missing an important point.  To me, right now, this whole thread,
besides being 11 pages long, seems pointless.

Either a phone knows about REFER or the phone does 3261.  Adding something
new to 3261 means the phone needs to know about it means it might as well
know about REFER.

Hacking 3261 to enable a man-in-the-middle attack, where the conference
server or PSAP can take over a call (good thing) enables a nasty device to
take over a call (bad thing) is not a good idea.


On 8/30/07 4:37 AM, "Huelsemann, Martin" <Martin.Huelsemann@t-com.net>
wrote:

> Hi,
>=20
> I think especially for the case where A has several ongoing dialogs with =
B and
> A wants only to include a certain of the dialogs into the conference, he =
has
> to give some information in which of the dialogs the AS shall start 3pcc
> procedures.
>=20
>=20
> Regards, Martin
>=20
>=20
>=20
>> -----Urspr=FCngliche Nachricht-----
>> Von: Peili Xu [mailto:xupeili@huawei.com]
>> Gesendet: Donnerstag, 30. August 2007 08:53
>> An: 'Even, Roni'
>> Cc: sip@ietf.org
>> Betreff: RE: AW: [Sip] Extension of conference procedures
>>=20
>>=20
>>=20
>> Hi Roni,
>>=20
>> Your case is even "smarter" than mine ;-)  that's OK for
>> me.
>>=20
>> But, I'm just wondering whether there is case that A has
>> multiple on going dialogs with say B, C, D and only want
>> to turn A-B and A-C to a conference then dialog
>> information maybe needed.
>>=20
>> I'd happy to hear clarification for this point from whom
>> raise the requirements.
>>=20
>> Peili
>>=20
>> -----Original Message-----
>> From: Even, Roni [mailto:roni.even@polycom.co.il]
>> Sent: Thursday, August 30, 2007 2:09 PM
>> To: Peili Xu
>> Cc: sip@ietf.org
>> Subject: RE: AW: [Sip] Extension of conference
>> procedures
>>=20
>>=20
>>=20
>> Hi,
>> I think you misunderstood what I menat by "smart". If
>> there is a softyswitch acting as a 3PCC, it controls the
>> dialogs and can redirect the media to the media server
>> suppling the conference function.
>> There is no need for A to give information about the
>> dialog
>>=20
>> Roni Even
>>=20
>>> -----Original Message-----
>>> From: Peili Xu [mailto:xupeili@gmail.com]
>>> Sent: Wednesday, August 29, 2007 5:08 PM
>>> To: Even, Roni
>>> Cc: Huelsemann, Martin; sip@ietf.org
>>> Subject: Re: AW: [Sip] Extension of conference
>> procedures
>>>=20
>>> Hi Martin, Denis,
>>>=20
>>> I agree with Roni that you may need to decide who is
>> "smart".
>>>=20
>>> I guess you want to simulate the 3PTY services in
>> PSTN, A make call to
>>> B, then A Hold B, then A Make Call to C, then A could
>> do sth like hook
>>> flash to turn the call between A-B and A-C to an 3pty
>> conference.
>>> later, A could still turn the conferece back to 2
>> independant call.
>>>=20
>>> You have some assumption that the AS who performs
>> conference is on the
>>> path between A-B and A-C. And A could inform the AS to
>> turn the call=20
>>> between A-B and A-C to a conference.
>>>=20
>>> If the assumption is correct, what you want is just to
>> tell the AS=20
>>> which dialogs should be turned to conference by
>> sending an INVITE with
>>> the related dialog information.
>>>=20
>>> If the above understanding is correct, I'd agree with
>> the initial=20
>>> proposal from Denis.
>>> Just to convey the dialog information along with the
>> URI-List.
>>>=20
>>> Peili
>>>=20
>>>=20
>>>=20
>>> 2007/8/29, Even, Roni <roni.even@polycom.co.il>:
>>>>=20
>>>> Hi,
>>>> In this case, like in PSTN the switch does it. You
>> have to decide=20
>>>> who is
>>> "smart" the network or the end device.
>>>> A "simple" RFC 3261 only phone relies on a 3PCC or
>> softswitch to=20
>>>> manage
>>> telephony services (not only conferencing)
>>>>=20
>>>> Roni Even
>>>>=20
>>>>> -----Original Message-----
>>>>> From: Huelsemann, Martin
>> [mailto:Martin.Huelsemann@t-com.net]
>>>>> Sent: Wednesday, August 29, 2007 1:05 PM
>>>>> To: Even, Roni
>>>>> Cc: sip@ietf.org; jbemmel@zonnet.nl
>>>>> Subject: AW: AW: [Sip] Extension of conference
>> procedures
>>>>>=20
>>>>> Hi,
>>>>>=20
>>>>> also for the scenario where A refers B to dial
>> into a conference,
>>>>> the problem is when B has a terminal not
>> supporting REFER (or just
>>>>> doesn't want to accept the REFER for some
>> reasons), A cannot use
>>>>> the
>>> conference
>>>>> service.
>>>>>=20
>>>>> Of course these simple terminals are not the
>> desired use-case and
>>> there
>>>>> will be limitations. But if there is a possible
>> fallback solution
>>>>> that
>>> at
>>>>> least increases the chance that A can use the
>> service despite the
>>>>> fact that B does not fulfill all the requirements
>> for the service,
>>>>> I think
>>> we
>>>>> should try to figure it out.
>>>>>=20
>>>>> Regards, Martin
>>>>>=20
>>>>>=20
>>>>>=20
>>>>>=20
>>>>>=20
>>>>>> -----Urspr=FCngliche Nachricht-----
>>>>>> Von: Even, Roni [mailto:roni.even@polycom.co.il]
>>>>>> Gesendet: Montag, 27. August 2007 12:16
>>>>>> An: H=FClsemann, Martin; jbemmel@zonnet.nl
>>>>>> Cc: sip@ietf.org
>>>>>> Betreff: RE: AW: [Sip] Extension of conference
>> procedures
>>>>>>=20
>>>>>>=20
>>>>>> Hi,
>>>>>> My view is that every solution where you only
>> have A, B and a=20
>>>>>> conference server and B only supports RFC 3261
>> will have some=20
>>>>>> limitation and will be a hack.
>>>>>>=20
>>>>>> The recommended way to do it is for A to send a
>> Refer to B to=20
>>>>>> the focus.
>>>>>>=20
>>>>>> Also asking that B supporting only RFC 3261 will
>> support=20
>>>>>> conference event package is contradictory. B
>> will not even be
>>>>>> aware that it is in a conference.
>>>>>>=20
>>>>>> Roni Even
>>>>>>=20
>>>>>> !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
>>>>>> A consensus means that everyone agrees to say
>> collectively what
>>>>>> no one believes individually
>> !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
>>>>>>=20
>>>>>>> -----Original Message-----
>>>>>>> From: Huelsemann, Martin
>> [mailto:Martin.Huelsemann@t-com.net]
>>>>>>> Sent: Monday, August 27, 2007 12:59 PM
>>>>>>> To: jbemmel@zonnet.nl
>>>>>>> Cc: sip@ietf.org
>>>>>>> Subject: AW: AW: [Sip] Extension of conference
>> procedures
>>>>>>>=20
>>>>>>> Hi,
>>>>>>>=20
>>>>>>> the pure RFC 3261 client won't be the normal
>> case, of
>>>>>> course. But there
>>>>>>> might be networks with which you want to
>> interwork where
>>>>>> those simple
>>>>>>> clients are existing.
>>>>>>> Okay, you got me, it's again the PSTN
>> interworking. So
>>>>>> let's say what is
>>>>>>> needed is a fallback solution for this case.
>>>>>>> On the other hand, this fallback might be
>> useful for a
>>>>>> normal SIP client
>>>>>>> which supports RFC3891, too, e.g. if there are
>> problems with=20
>>>>>>> authorization.
>>>>>>>=20
>>>>>>> The user experience of the invitee should be
>> exactly as you
>>>>>> describe.
>>>>>>>=20
>>>>>>> If A sends the reINVITE / UPDATE himself that
>> could be a
>>>>>> solution, too.
>>>>>>> The only thing is, can B then use all the
>> conference features (e.
>>> g.
>>>>>>> conference event package), when the focus has
>> no knowledge on=20
>>>>>>> the signalling level that B is connected to
>> the conference bridge?
>>>>>>>=20
>>>>>>> Regards, Martin
>>>>>>>=20
>>>>>>>=20
>>>>>>>=20
>>>>>>>=20
>>>>>>>=20
>>>>>>>> -----Urspr=FCngliche Nachricht-----
>>>>>>>> Von: Jeroen van Bemmel
>> [mailto:jbemmel@zonnet.nl]
>>>>>>>> Gesendet: Sonntag, 26. August 2007 15:24
>>>>>>>> An: H=FClsemann, Martin
>>>>>>>> Cc: Alexeitsev, Denis; sip@ietf.org
>>>>>>>> Betreff: Re: AW: [Sip] Extension of
>> conference procedures
>>>>>>>>=20
>>>>>>>>=20
>>>>>>>> Martin,
>>>>>>>>=20
>>>>>>>> Now it becomes more clear. So the
>> requirement is to
>>>>>> enable a scenario
>>>>>>>> where a regular call is transformed into a
>> conference
>>>>>> call, assuming
>>>>>>>> that the invitee only has a "pure RFC3261"
>> client.
>>>>>>>> More specifically:
>>>>>>>>=20
>>>>>>>> - to get a smooth user experience, the
>> scenario must not
>>>>>>>> cause
>>> the
>>>>>>>> invitee's phone to ring, and/or ask the
>> invitee for=20
>>>>>>>> permission (acceptance is assumed to be
>> implied)
>>>>>>>>=20
>>>>>>>> What if A would send the reINVITE (or
>> UPDATE) itself, while
>>>>>>>> filling in the SDP according to the media
>> provided by the=20
>>>>>>>> conference server (i.e.
>>>>>>>> use codecs, media ports as received from the
>> focus)? (trying=20
>>>>>>>> to get the requirements more clear here)
>>>>>>>>=20
>>>>>>>> In practice, it may still be a challenge to
>> get such "very
>>> simple
>>>>>>>> terminals" to properly handle a change of
>> media (i.e. new
>>>>>> destination
>>>>>>>> ip/port for sending, new source ip/port and
>> RTP src id,
>>>>>> and possibly
>>>>>>>> different codecs)
>>>>>>>>=20
>>>>>>>> Regards,
>>>>>>>> Jeroen
>>>>>>>>=20
>>>>>>>>=20
>>>>>>>> Huelsemann, Martin wrote:
>>>>>>>>> Hi Jeroen,
>>>>>>>>>=20
>>>>>>>>> the usage of the Replaces header is of
>> course the best
>>>>>>>> solution, it's also described in the
>> regarding 3GPP=20
>>>>>>>> conferencing spec.
>>>>>>>>> The disadvantage of the usage of the
>> Repaces header is,
>>>>>>>> that it puts requirements on the UE of the
>> invited user, it
>>>>>>>> would have to support RFC 3891. And if it
>> supports, it=20
>>>>>>>> really would have to accept the 2nd INVITE,
>> which is not=20
>>>>>>>> mandatory according to RFC 3891 I think.
>>>>>>>>> Anyway what is needed in addition is a
>> solution how also
>>>>>>>> very simple terminals (e. g. only supporting
>> RFC 3261) can=20
>>>>>>>> be invited to an ad-hoc conference, whithout
>> having to say=20
>>>>>>>> to the invited user to please hang up
>> because there will be
>>>>>>>> a call from the focus shortly.
>>>>>>>>>=20
>>>>>>>>> Re-using an already established dialog at
>> least at the
>>>>>>>> first glance seems to be a simply and
>> invited UE independent
>>>>>>>> solution. And as this re-INVITE it wanted by
>> at least one of=20
>>>>>>>> the involved user, I would more compare it
>> to some kind of=20
>>>>>>>> triggered 3rd party call control than to
>> spoofing.
>>>>>>>>>=20
>>>>>>>>> Of course as you said it would have to be
>> made clear that
>>>>>>>> the focus is able to collect all the
>> information needed for
>>>>>>>> sending re-INVITEs (proposed "?" mechanism
>> usage, dialog=20
>>>>>>>> event package, etc.).
>>>>>>>>>=20
>>>>>>>>>=20
>>>>>>>>> Regards, Martin
>>>>>>>>>=20
>>>>>>>>>=20
>>>>>>>>>=20
>>>>>>>>>=20
>>>>>>>>>=20
>>>>>>>>>=20
>>>>>>>>>> -----Urspr=FCngliche Nachricht-----
>>>>>>>>>> Von: Jeroen van Bemmel
>> [mailto:jbemmel@zonnet.nl]
>>>>>>>>>> Gesendet: Freitag, 24. August 2007 17:06
>>>>>>>>>> An: Alexeitsev, Denis; sip@ietf.org
>>>>>>>>>> Betreff: Re: [Sip] Extension of
>> conference procedures
>>>>>>>>>>=20
>>>>>>>>>>=20
>>>>>>>>>> Denis,
>>>>>>>>>>=20
>>>>>>>>>> If I understand your scenario, "focus" is
>> a third party=20
>>>>>>>>>> separate from A and B, right? (e.g. a
>> conference server)
>>>>>>>>>>=20
>>>>>>>>>> In that case the focus is not a party in
>> the A-B dialog,=20
>>>>>>>>>> and would need more than Call-ID, From
>> and To to be able
>>>>>>>>>> to construct a reINVITE that B would
>> accept as coming
>>>>>>>>>> from A (e.g. CSeq). In any case, this
>> looks like a very
>>>>>>>>>> inelegant, hacked solution (as the
>> conference server is
>>>>>>>>>> basically spoofing)
>>>>>>>>>>=20
>>>>>>>>>> RFC4579 section 5.10 provides some
>> insipration, as well
>>>>>>>>>> as
>>>>>>>>>>=20
>> http://www.ietf.org/internet-drafts/draft-ietf-sipping-
>>> service
>>>>>>>>>> -examples-13.txt
>>>>>>>>>> scenario 2.5
>>>>>>>>>>=20
>>>>>>>>>> For example, A could include a 'Replaces'
>> header in the=20
>>>>>>>>>> URI it includes in its conference URI
>> list. Then the=20
>>>>>>>>>> conference server would
>>>>>>>> send a new
>>>>>>>>>> (out-of-dialog) INVITE to B containing
>> this Replaces=20
>>>>>>>>>> header, and B would know that it is
>> associated with the
>>>>>>>>>> dialog it has with A (and can replace it,
>> without ringing=20
>>>>>>>>>> if the UA is constructed like that)
>>>>>>>>>>=20
>>>>>>>>>> The conference server should probably
>> also include a=20
>>>>>>>>>> Referred-By containing A's AoR, either
>> automatically=20
>>>>>>>>>> (i.e. copy from From header in
>>>>>>>>>> INVITE) or
>>>>>>>>>> included by A in the URI (former is
>> better)
>>>>>>>>>>=20
>>>>>>>>>> Regards,
>>>>>>>>>> Jeroen
>>>>>>>>>>=20
>>>>>>>>>> Alexeitsev, D wrote:
>>>>>>>>>>=20
>>>>>>>>>>> I'd like to discuss the extension of the
>> current=20
>>>>>>>>>>> conference
>>>>>>>>>>>=20
>>>>>>>>>> procedures
>>>>>>>>>>=20
>>>>>>>>>>> with the following functionality.
>>>>>>>>>>>=20
>>>>>>>>>>> 3GPP conference specifications are
>> basing generally on
>>>>>>>>>>> the Conferencing Framework (RFC 4353)
>> and for one=20
>>>>>>>>>>> possibility
>>>>>>>>>>>=20
>>>>>>>>>> of inviting
>>>>>>>>>>=20
>>>>>>>>>>> users to the confrence on
>>>>>> draft-ietf-sip-uri-list-conferencing.
>>>>>>>>>>>=20
>>>>>>>>>>> Using the conferencing framework, the
>> following=20
>>>>>>>>>>> situation
>>>>>>>> can occur
>>>>>>>>>>> when a user is invited to an ad-hoc
>> conference:
>>>>>>>>>>> User A is in a dialog with user B, and
>> decides to start
>>>>>>>>>>> a
>>>>>>>>>>>=20
>>>>>>>>>> conference,
>>>>>>>>>>=20
>>>>>>>>>>> for example using an INVITE request to
>> the focus which
>>>>>>>>>>>=20
>>>>>>>>>> includes a URI
>>>>>>>>>>=20
>>>>>>>>>>> list with the URIs of the users which
>> shall be added to
>>>>>>>>>>> the conference, incl. B. So when the
>> INVITE request from
>>>>>>>>>>> the
>>> focus
>>>>>>>>>>> arrives at B, he is still in the
>> original dialog with
>>>>>> A, and so it
>>>>>>>>>>> depends on B if he accepts the 2nd
>> INVITE and the
>>>>>>>> conference can be
>>>>>>>>>>> established.
>>>>>>>>>>>=20
>>>>>>>>>>> At the last 3GPP CT1 meeting the idea of
>> transporting=20
>>>>>>>>>>> dialog identifiers together with the
>> URIs was introduced
>>>>>>>>>>> to
>>>>>> solve this
>>>>>>>>>>> problem. Basing on the idea that the
>> procedures at
>>>>>> the conference
>>>>>>>>>>> server are extended in that way, that
>> the conference
>>>>>>>> server is aware
>>>>>>>>>>> of already established dialogs, the
>> focus then has the
>>>>>>>>>>>=20
>>>>>>>>>> possibility to
>>>>>>>>>>=20
>>>>>>>>>>> send re-INVITES in the indicated dialogs
>> and connect the
>>>>>>>> media from
>>>>>>>>>>> the invited users to the conference
>> bridge.
>>>>>>>>>>> In the URI list the dialogs can be
>> indicated using the
>>>>>>>> "?" mechanism
>>>>>>>>>>> according to subclause 19.1.1 of RFC
>> 3261.
>>>>>>>>>>>=20
>>>>>>>>>>> Following example shows the proposed
>> mechanism:
>>>>>>>>>>>=20
>>>>>>>>>>> INVITE Conference
>>>>>>>>>>> To: Conference
>>>>>>>>>>> From: A
>>>>>>>>>>> Require: recipient-list-invite
>>>>>>>>>>>=20
>>>>>>>>>>> Content-Type:
>> application/resource-lists+xml
>>>>>>>>>>> Content-Disposition: recipient-list
>>>>>>>>>>>=20
>>>>>>>>>>> <?xml version=3D"1.0" encoding=3D"UTF-8"?>
>> <resource-lists=20
>>>>>>>>>>> xmlns=3D"urn:ietf:params:xml:ns:resource-
>>> lists"
>>>>>>>>>>>=20
>> xmlns:cp=3D"urn:ietf:params:xml:ns:copyControl">
>>>>>>>>>>>   <list>
>>>>>>>>>>>    <entry
>> uri=3D"B?Call-ID=3D1&From=3DA%3Btag%3Da&To=3DB%3Btag%3Db"
>>>>>>>>>>> cp:copyControl=3D"to"/>
>>>>>>>>>>>    <entry
>> uri=3D"C?Call-ID=3D2&From=3DA%3Btag%3Da&To=3DC%3btag%3Dc"
>>>>>>>>>>> cp:copyControl=3D"to"/>
>>>>>>>>>>>   </list>
>>>>>>>>>>>  </resource-lists>
>>>>>>>>>>>=20
>>>>>>>>>>> Greetings,
>>>>>>>>>>> Denis Alexeitsev
>>>>>>>>>>>=20
>>>>>>>>>>>=20
>>>>>>>>>>>=20
>> _______________________________________________
>>>>>>>>>>> Sip mailing list
>>>>>>>>>>>=20
>> https://www1.ietf.org/mailman/listinfo/sip
>>>>>>>>>>> This list is for NEW development of the
>> core SIP=20
>>>>>>>>>>> Protocol Use
>> sip-implementors@cs.columbia.edu for
>>>>>>>>>>> questions on
>>>>>> current sip
>>>>>>>>>>> Use sipping@ietf.org for new
>> developments on the
>>>>>>>> application of sip
>>>>>>>>>>>=20
>>>>>>>>>>=20
>>>>>>>>>>=20
>> _______________________________________________
>>>>>>>>>> Sip mailing list
>>>>>>>>>>=20
>> https://www1.ietf.org/mailman/listinfo/sip
>>>>>>>>>> This list is for NEW development of the
>> core SIP Protocol
>>>>>>>>>> Use sip-implementors@cs.columbia.edu for
>> questions on
>>>>>> current sip
>>>>>>>>>> Use sipping@ietf.org for new developments
>> on the
>>>>>> application of sip
>>>>>>>>>>=20
>>>>>>>>>>=20
>>>>>>>>>=20
>>>>>>>>>=20
>>>>>>>>=20
>>>>>>>=20
>>>>>>>=20
>>>>>>>=20
>> _______________________________________________
>>>>>>> Sip mailing list
>> https://www1.ietf.org/mailman/listinfo/sip
>>>>>>> This list is for NEW development of the core
>> SIP Protocol Use
>>>>>>> sip-implementors@cs.columbia.edu for questions
>> on current sip=20
>>>>>>> Use sipping@ietf.org for new developments on
>> the application=20
>>>>>>> of
>>> sip
>>>>>>=20
>>>>=20
>>>>=20
>>>> _______________________________________________
>>>> Sip mailing list
>> https://www1.ietf.org/mailman/listinfo/sip
>>>> This list is for NEW development of the core SIP
>> Protocol Use=20
>>>> sip-implementors@cs.columbia.edu for questions on
>> current sip Use=20
>>>> sipping@ietf.org for new developments on the
>> application of sip
>>>>=20
>>=20
>>=20
>> _______________________________________________
>> Sip mailing list
>> https://www1.ietf.org/mailman/listinfo/sip
>> This list is for NEW development of the core SIP
>> Protocol Use sip-implementors@cs.columbia.edu for
>> questions on current sip Use sipping@ietf.org for new
>> developments on the application of sip
>>=20
>>=20
>>=20
>>=20
>> _______________________________________________
>> Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
>> This list is for NEW development of the core SIP Protocol
>> Use sip-implementors@cs.columbia.edu for questions on current sip
>> Use sipping@ietf.org for new developments on the application of sip
>>=20
>=20
>=20
> _______________________________________________
> Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip


Notice:  This email message, together with any attachments, may contain inf=
ormation  of  BEA Systems,  Inc.,  its subsidiaries  and  affiliated entiti=
es,  that may be confidential,  proprietary,  copyrighted  and/or legally p=
rivileged, and is intended solely for the use of the individual or entity n=
amed in this message. If you are not the intended recipient, and have recei=
ved this message in error, please immediately return this by email and then=
 delete it.


_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip

From sip-bounces@ietf.org Tue Sep 04 17:05:08 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1ISfYU-0000IO-GV; Tue, 04 Sep 2007 17:03:26 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1ISfYS-0000CD-C4
	for sip-confirm+ok@megatron.ietf.org; Tue, 04 Sep 2007 17:03:24 -0400
Received: from [10.91.34.44] (helo=ietf-mx.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1ISfYR-0000Bx-UH
	for sip@ietf.org; Tue, 04 Sep 2007 17:03:23 -0400
Received: from repmmg02.bea.com ([66.248.192.39])
	by ietf-mx.ietf.org with esmtp (Exim 4.43) id 1ISfYQ-00053i-KA
	for sip@ietf.org; Tue, 04 Sep 2007 17:03:23 -0400
Received: from repmmr01.bea.com (repmmr01.bea.com [10.160.29.71])
	by repmmg02.bea.com (Switch-3.2.7/Switch-3.2.7) with ESMTP id
	l84L39om021744; Tue, 4 Sep 2007 14:03:09 -0700
Received: from repbex01.amer.bea.com (repbex01.bea.com [10.160.26.98])
	by repmmr01.bea.com (Switch-3.2.7/Switch-3.2.7) with ESMTP id
	l84L35Rt008075; Tue, 4 Sep 2007 14:03:08 -0700
Received: from 172.24.28.147 ([172.24.28.147]) by repbex01.amer.bea.com
	([10.160.26.98]) with Microsoft Exchange Server HTTP-DAV ; 
	Tue,  4 Sep 2007 21:03:07 +0000
User-Agent: Microsoft-Entourage/11.3.6.070618
Date: Tue, 04 Sep 2007 10:59:48 -0700
Subject: Re: [Sip] INFO
From: Eric Burger <eburger@bea.com>
To: Hadriel Kaplan <HKaplan@acmepacket.com>,
	Jeroen van Bemmel <jbemmel@zonnet.nl>, Peili Xu <xupeili@huawei.com>
Message-ID: <C302EB24.A82F%eburger@bea.com>
Thread-Topic: [Sip] INFO
Thread-Index: AcfvHWH2oEs7+lsQEdyaaQAWy4mm/w==
In-Reply-To: <012801c7ebe8$34150000$6401a8c0@acmepacket.com>
Mime-version: 1.0
Content-type: text/plain; charset=US-ASCII
Content-transfer-encoding: 7bit
x-BEA-PMX-Instructions: AV
x-BEA-MM: Internal-To-External
X-Spam-Score: 1.4 (+)
X-Scan-Signature: 057ebe9b96adec30a7efb2aeda4c26a4
Cc: sip <sip@ietf.org>
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

Quite true.  As I recall, sentiment in the room in Chicago was not to "fix"
INFO.  This was because we now have SUBSCRIBE/NOTIFY and control channels.
In fact, one could offer we really should deprecate SIP-T, as a control
channel would be a MUCH better mechanism for transporting Q.931, Q.sig,
DPNSS, etc.  Why?  Because you can put your stack directly on top of a TCP
channel, instead of having to deal with hacking it into SIP messages.


On 8/31/07 12:01 PM, "Hadriel Kaplan" <HKaplan@acmepacket.com> wrote:

> I think he's saying it's something that could be resolved by
> standardization. (maybe)
> 
> At least the way I read your draft, the draft makes arguments against INFO
> of two different types, as if they were of similar weight and impact - but
> that's not really the case.  There is one set of problems with INFO that
> exist because of architectural issues, which are probably not fixable, and
> are generally damning.  There is a separate set which are problems merely
> because no standard exists for how to address them, but they could be
> resolved.  This latter type is not really a "Why INFO is bad in general", as
> much as a "what the current problems are with INFO that we should fix if we
> want to keep using INFO".
> 
> -hadriel
> 
>> -----Original Message-----
>> From: Eric Burger [mailto:eburger@bea.com]
>> Sent: Friday, August 31, 2007 11:33 AM
>> To: Jeroen van Bemmel; Peili Xu
>> Cc: sip
>> Subject: RE: [Sip] INFO
>> 
>> *How* do they signal what they support?  In an INFO?  <jk>
>> 
>> -----Original Message-----
>> From: Jeroen van Bemmel [mailto:jbemmel@zonnet.nl]
>> Sent: Friday, August 31, 2007 11:29 AM
>> To: Eric Burger; Peili Xu
>> Cc: sip
>> Subject: RE: [Sip] INFO
>> 
>> Since INFO is mid-dialog, the endpoints can signal what they support. It
>> does not need to be known a priori
>> 
>> Regards,
>> Jeroen
>> 
>> -----Oorspronkelijk bericht -----
>> Van: "Eric Burger" <eburger@bea.com>
>> Aan: "Peili Xu" <xupeili@huawei.com>
>> CC: "sip" <sip@ietf.org>
>> Verzonden: 31-8-07 00:03
>> Onderwerp: Re: [Sip] INFO
>> 
>> Saying, "OK for interworking" does not really say anything.  If I come
>> up with a really broken method for interworking, saying that it is for
>> interworking does not make it correct.
>> 
>> The problem is, how do the endpoints know they will be able to
>> communicate?
>> For the ISUP/Q.sig/DPNSS/mumble case, the endpoints know they will be
>> able to interoperate because they know a'priori: they are configured to
>> work.
>> However, this means that the devices must be in the same administrative
>> domain and configured properly.
>> 
>> Said in a different manner, INFO works fine for non-inter-network use.
>> It would be hard for the IETF to say, "Here is a non-IETF use.  We will
>> not use it.  You cannot use it with anyone else.  You cannot use it
>> between manufacturers, unless you get them to agree to this use."  That
>> is a bit more of what we call the toxic waste warning that accompanies
>> 3GPP specifications...
>> 
>> 
>> On 8/27/07 8:35 AM, "Peili Xu" <xupeili@huawei.com> wrote:
>> 
>>> Hi Eric,
>>> 
>>> Several cases I encounter to use INFO is for interworking with PSTN
>>> signaling, or simulate PSTN services at SIP entities such as SIP UA or
>> 
>>> SIP GW, which require mid-dialog information change.
>>> 
>> 
>> 
>> Notice:  This email message, together with any attachments, may contain
>> information  of  BEA Systems,  Inc.,  its subsidiaries  and  affiliated
>> entities,  that may be confidential,  proprietary,  copyrighted  and/or
>> legally privileged, and is intended solely for the use of the individual
>> or entity named in this message. If you are not the intended recipient,
>> and have received this message in error, please immediately return this by
>> email and then delete it.
>> 
>> 
>> _______________________________________________
>> Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
>> This list is for NEW development of the core SIP Protocol
>> Use sip-implementors@cs.columbia.edu for questions on current sip
>> Use sipping@ietf.org for new developments on the application of sip
> 
> 



Notice:  This email message, together with any attachments, may contain information  of  BEA Systems,  Inc.,  its subsidiaries  and  affiliated entities,  that may be confidential,  proprietary,  copyrighted  and/or legally privileged, and is intended solely for the use of the individual or entity named in this message. If you are not the intended recipient, and have received this message in error, please immediately return this by email and then delete it.


_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip





From sip-bounces@ietf.org Tue Sep 04 17:05:08 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1ISfYL-00008h-VQ; Tue, 04 Sep 2007 17:03:17 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1ISfYJ-00008C-LW
	for sip-confirm+ok@megatron.ietf.org; Tue, 04 Sep 2007 17:03:15 -0400
Received: from [10.91.34.44] (helo=ietf-mx.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1ISfYJ-000080-Ao
	for sip@ietf.org; Tue, 04 Sep 2007 17:03:15 -0400
Received: from repmmg02.bea.com ([66.248.192.39])
	by ietf-mx.ietf.org with esmtp (Exim 4.43) id 1ISfYH-00053O-Rj
	for sip@ietf.org; Tue, 04 Sep 2007 17:03:15 -0400
Received: from repmmr01.bea.com (repmmr01.bea.com [10.160.29.71])
	by repmmg02.bea.com (Switch-3.2.7/Switch-3.2.7) with ESMTP id
	l84L3BI2021755; Tue, 4 Sep 2007 14:03:11 -0700
Received: from repbex01.amer.bea.com (repbex01.bea.com [10.160.26.98])
	by repmmr01.bea.com (Switch-3.2.7/Switch-3.2.7) with ESMTP id
	l84L35Rv008075; Tue, 4 Sep 2007 14:03:09 -0700
Received: from 172.24.28.147 ([172.24.28.147]) by repbex01.amer.bea.com
	([10.160.26.98]) with Microsoft Exchange Server HTTP-DAV ; 
	Tue,  4 Sep 2007 21:03:09 +0000
User-Agent: Microsoft-Entourage/11.3.6.070618
Date: Tue, 04 Sep 2007 13:23:12 -0700
Subject: Re: [Sip] INFO
From: Eric Burger <eburger@bea.com>
To: Hadriel Kaplan <HKaplan@acmepacket.com>
Message-ID: <C3030CC0.A821%eburger@bea.com>
Thread-Topic: [Sip] INFO
Thread-Index: AcfkO3T4s2cG+lAuEdy/WQAWy4mm/wHUBx+wAOMs5Uk=
In-Reply-To: <006e01c7eb91$9290b1d0$6401a8c0@acmepacket.com>
Mime-version: 1.0
Content-type: text/plain; charset=US-ASCII
Content-transfer-encoding: 7bit
x-BEA-PMX-Instructions: AV
x-BEA-MM: Internal-To-External
X-Spam-Score: 0.0 (/)
X-Scan-Signature: 287c806b254c6353fcb09ee0e53bbc5e
Cc: sip <sip@ietf.org>
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

I have not checked, but I think IEEE journal papers run about US $5.  You
can get a monthly subscription that makes the rate way lower.  Your company
probably has a corporate subscription, or someone there most likely has an
IEEE Digital Library subscription, so again, the papers should be paid for.

Since the IEEE has a serious self-plagiarism policy, here is a *different*
way for seeing how KPML wins.

The vast bulk of a SIP message in a non-trivial network (i.e., with one or
more proxies) is the routing information (URI's, Via's, Route's, etc.).
Sure, a Zebarth INFO (the absolute smallest encoding for a DTMF digit) of 2
bytes is much smaller than a KPML NOTIFY, which can easily be 70 bytes.
However, when you have 1000 bytes of headers, 1002 and 1070 are pretty much
the same.

Given that, let us look at the counts.

KPML:
SUBSCRIBE (SIP Message)
Immediate NOTIFY (SIP Message)
Digit NOTIFY's...

DTMF:
Digit INFO's...

What does this mean?  It means that if you are on a shared media network
(wireless or 5BaseT), where each direction counts, we have:

               DTMF          KPML
# digits    # packets     # packets
    1            1            3
    2            2            3
    3            3            3       Common Star Codes (e.g., *69)
    4            4            3       Common PINs
    5            5            3
    6            6            3       Also common PINs
    7            7            3
    8            8            3
    9            9            3
   10           10            3       Common Supplementary Phone Number
   11           11            3       Common Supplementary Phone Number

One can quibble as to whether the cross over is at 3 or 4 digits, since KPML
packets are slightly larger than INFO packets.  However, at 3 digits the
argument goes in favor of a mechanism with negotiation, content security,
dialog security, works for HERFP, etc., etc.

At 4 digits, KPML unquestionably uses less bandwidth.

Of course, the numbers are even better for KPML on non-shared media
networks.


On 8/31/07 1:41 AM, "Hadriel Kaplan" <HKaplan@acmepacket.com> wrote:

> Hey Eric,
> I read the draft and was especially interested in the claim that KPML
> consumed less bandwidth than INFO for DTMF.  You cite an IEEE paper, but I
> don't think that's freely available.  Can you summarize how you came to such
> a conclusion?  When I do the numbers, KPML often loses... in some scenarios
> by a LOT.  And it's not even just the extra bandwidth/messages, but also the
> state and processing horsepower.  There is one scenario where KPML wins, for
> some SIP boxes but not others.
> Although that could all be because I either don't correctly understand the
> actual way KPML would be used, or because the use cases I am concerned with
> are not the same as those in your paper's analysis.
> 
> -hadriel
> 
> 
>> -----Original Message-----
>> From: Eric Burger [mailto:eburger@bea.com]
>> Sent: Tuesday, August 21, 2007 5:37 PM
>> To: 'sip'
>> Subject: [Sip] INFO
>> 
>> Since list traffic is down, how about something to spice things up?
>> 
>> 
>> Any thoughts on
>> 
>> http://www.ietf.org/internet-drafts/draft-burger-sip-info-01.txt
>> 
>> ???
>> 
>> If you like it, say so.  If you hate it, say so.
>> 
>> Text welcome.
>> 
>> 
>> Notice:  This email message, together with any attachments, may contain
>> information  of  BEA Systems,  Inc.,  its subsidiaries  and  affiliated
>> entities,  that may be confidential,  proprietary,  copyrighted  and/or
>> legally privileged, and is intended solely for the use of the individual
>> or entity named in this message. If you are not the intended recipient,
>> and have received this message in error, please immediately return this by
>> email and then delete it.
>> 
>> 
>> _______________________________________________
>> Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
>> This list is for NEW development of the core SIP Protocol
>> Use sip-implementors@cs.columbia.edu for questions on current sip
>> Use sipping@ietf.org for new developments on the application of sip
> 
> 



Notice:  This email message, together with any attachments, may contain information  of  BEA Systems,  Inc.,  its subsidiaries  and  affiliated entities,  that may be confidential,  proprietary,  copyrighted  and/or legally privileged, and is intended solely for the use of the individual or entity named in this message. If you are not the intended recipient, and have received this message in error, please immediately return this by email and then delete it.


_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip

From sip-bounces@ietf.org Tue Sep 04 17:05:08 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1ISfYM-00008q-K2; Tue, 04 Sep 2007 17:03:18 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1ISfYK-00008V-KH
	for sip-confirm+ok@megatron.ietf.org; Tue, 04 Sep 2007 17:03:16 -0400
Received: from [10.90.34.44] (helo=chiedprmail1.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1ISfYK-00008M-8X
	for sip@ietf.org; Tue, 04 Sep 2007 17:03:16 -0400
Received: from repmmg02.bea.com ([66.248.192.39])
	by chiedprmail1.ietf.org with esmtp (Exim 4.43) id 1ISfYJ-0005FH-6v
	for sip@ietf.org; Tue, 04 Sep 2007 17:03:16 -0400
Received: from repmmr01.bea.com (repmmr01.bea.com [10.160.29.71])
	by repmmg02.bea.com (Switch-3.2.7/Switch-3.2.7) with ESMTP id
	l84L36RO021669; Tue, 4 Sep 2007 14:03:06 -0700
Received: from repbex01.amer.bea.com (repbex01.bea.com [10.160.26.98])
	by repmmr01.bea.com (Switch-3.2.7/Switch-3.2.7) with ESMTP id
	l84L35Rp008075; Tue, 4 Sep 2007 14:03:05 -0700
Received: from 172.24.28.147 ([172.24.28.147]) by repbex01.amer.bea.com
	([10.160.26.98]) with Microsoft Exchange Server HTTP-DAV ; 
	Tue,  4 Sep 2007 21:03:04 +0000
User-Agent: Microsoft-Entourage/11.3.6.070618
Date: Tue, 04 Sep 2007 10:56:15 -0700
Subject: Re: [Sip] New revision of draft-ietf-sip-body-handling-00.txt
From: Eric Burger <eburger@bea.com>
To: Paul Kyzivat <pkyzivat@cisco.com>,
	Gonzalo Camarillo <Gonzalo.Camarillo@ericsson.com>
Message-ID: <C302EA4F.A82D%eburger@bea.com>
Thread-Topic: [Sip] New revision of draft-ietf-sip-body-handling-00.txt
Thread-Index: AcfvHOMBIbHqElsQEdyaaQAWy4mm/w==
In-Reply-To: <46D56D39.6030300@cisco.com>
Mime-version: 1.0
Content-type: text/plain; charset=US-ASCII
Content-transfer-encoding: 7bit
x-BEA-PMX-Instructions: AV
x-BEA-MM: Internal-To-External
X-Spam-Score: 1.4 (+)
X-Scan-Signature: 200d029292fbb60d25b263122ced50fc
Cc: sip <sip@ietf.org>
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

I agree 100% with Paul.  However, one thing I would like to hear opinions on
is the following:

Do we way body parts are always processed, no matter what?

It would be convenient to say body parts get processed as needed.  If there
is a related part that never gets referenced, then a conforming processor
might not process that part, as an optimization.

However, one thing we need to be mindful of are side effects.  MIME body
parts can make external references.  Those external references (to
http/https URI's) may hit application servers.  Those application servers
may do something based on the receipt of the URI.  It could be as simple as
recording the fact the body part was read (like a web beacon), or it could
be as complex as changing application state.

What do people think of this?  Do we say that SIP engines are opportunistic,
and the side effect MUST happen if the body gets used, buy the side effect
MAY happen if the body does not get used?  That would be my vote, as the
alternative, that all side effects (external references get resolved) happen
puts a pretty big burden on User Agents.


On 8/29/07 8:57 AM, "Paul Kyzivat" <pkyzivat@cisco.com> wrote:

> To clarify futher my last point below...
> 
> What I am saying is that IMO body parts must always be processed
> according to their type and disposition, whether there are references to
> them or not. If there is a reference, and it is understood, then it can
> modify or supplement the processing, but if the reference is not
> recognized or understood then the other processing still occurs.
> 
> If we want to support the possibility of a reference to a body part,
> where there is to be no processing of the body part when the reference
> is not understood, then we need a content-disposition that says "don't
> do anything with this unless you process a reference to it."
> 
> An alternative is to simply assume there are no such cases, and warn
> people that use references to select a C-D for the referenced part that
> will have an appropriate result if the reference is not understood.
> 
> For instance, we have both the Alert-Info header and the "alert" C-D. If
> you use an A-I with a CID reference, then you can use "alert" as the C-D
> of that part. In that case, the A-I header is redundant unless it
> contains something that modifies the processing.
> 
> An example where the problem I am concerned about may exist is in
> draft-ietf-sip-location-conveyance-08. It has an example of a
> Geolocation header referencing a body part. There is no C-D header in
> the example, so by default it is "render;handling=required". And its C-T
> is application/pidf+xml. If a recipient of this message didn't
> understand the Geolocation header it would reach the conclusion that it
> should render the pidf. Its debatable whether that is the desired
> conclusion - I think not. IMO the intent is that if the Geolocation
> header isn't processed then the pidf should be ignored. So, IMO this
> body part ought to contain:
>     Content-Disposition: by-reference;handling=optional
> 
> (I don't care what name we use for the disposition, just that we have one.)
> 
> Thanks,
> Paul
> 
> Paul Kyzivat wrote:
>> Gonzalo,
>> 
>> Obviously we allow a "forward" reference from the sip message itself
>> (which from a mime perspective are just a bunch of mime headers.)
>> 
>> I think that establishes a precedent that needs to be continued. An
>> example of why can be seen in sipfrag:
>> 
>> If we had a valid sip response that had a reference into one of its body
>> parts, then if that was turned into a sipfrag and stuffed into the body
>> of a NOTIFY, then it must still be valid.
>> 
>> I just did a quick scan of the new draft, so the following is a
>> tentative comment, until I can read it more carefully:
>> 
>> I think the draft is now saying that the decision about whether to
>> process a body part according to a reference to it, or process
>> independently, is decided based on whether a reference is found. We had
>> this discussion before, and I think we agreed that wouldn't work well,
>> and that instead we would have a special C-D type for body parts that
>> are disposed of based on a reference.
>> 
>> I don't think the introduction of issues related to multipart/related
>> changes this. The obvious cases are when there is a single
>> multipart/mixed containing some body parts. Some of those may be
>> referenced from CID URIs in sip headers, and others (e.g. SDP) may stand
>> on their own. It is entirely possible that a body part might be
>> referenced from some extension header that the recipient doesn't
>> understand. In that case it may erroneously decide to process the body
>> part on its own, when it should instead have ignored it because the
>> header isn't being processed.
>> 
>>     Thanks,
>>     Paul
>> 
>> Gonzalo Camarillo wrote:
>>> Folks,
>>> 
>>> I have just submitted a new revision of the body handling draft. Until
>>> it appears on the archives, you can fetch it from:
>>> 
>>> http://users.piuha.net/gonzalo/temp/draft-ietf-sip-body-handling-00.txt
>>> 
>>> Per our discussions in Chicago, the draft now states that only body
>>> parts within the same 'multipart/related' can reference each other
>>> using cid URIs.
>>> 
>>> If this is too restrictive, we could also allow using forward
>>> references in any context (with no 'multipart/related' at all).
>>> 
>>> Comments?
>>> 
>>> Thanks,
>>> 
>>> Gonzalo
>>> 
>>> 
>>> 
>>> _______________________________________________
>>> Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
>>> This list is for NEW development of the core SIP Protocol
>>> Use sip-implementors@cs.columbia.edu for questions on current sip
>>> Use sipping@ietf.org for new developments on the application of sip
>>> 
>> 
>> 
>> _______________________________________________
>> Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
>> This list is for NEW development of the core SIP Protocol
>> Use sip-implementors@cs.columbia.edu for questions on current sip
>> Use sipping@ietf.org for new developments on the application of sip
>> 
> 
> 
> _______________________________________________
> Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip


Notice:  This email message, together with any attachments, may contain information  of  BEA Systems,  Inc.,  its subsidiaries  and  affiliated entities,  that may be confidential,  proprietary,  copyrighted  and/or legally privileged, and is intended solely for the use of the individual or entity named in this message. If you are not the intended recipient, and have received this message in error, please immediately return this by email and then delete it.


_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip





From sip-bounces@ietf.org Tue Sep 04 17:05:08 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1ISfYL-00008h-VQ; Tue, 04 Sep 2007 17:03:17 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1ISfYJ-00008C-LW
	for sip-confirm+ok@megatron.ietf.org; Tue, 04 Sep 2007 17:03:15 -0400
Received: from [10.91.34.44] (helo=ietf-mx.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1ISfYJ-000080-Ao
	for sip@ietf.org; Tue, 04 Sep 2007 17:03:15 -0400
Received: from repmmg02.bea.com ([66.248.192.39])
	by ietf-mx.ietf.org with esmtp (Exim 4.43) id 1ISfYH-00053O-Rj
	for sip@ietf.org; Tue, 04 Sep 2007 17:03:15 -0400
Received: from repmmr01.bea.com (repmmr01.bea.com [10.160.29.71])
	by repmmg02.bea.com (Switch-3.2.7/Switch-3.2.7) with ESMTP id
	l84L3BI2021755; Tue, 4 Sep 2007 14:03:11 -0700
Received: from repbex01.amer.bea.com (repbex01.bea.com [10.160.26.98])
	by repmmr01.bea.com (Switch-3.2.7/Switch-3.2.7) with ESMTP id
	l84L35Rv008075; Tue, 4 Sep 2007 14:03:09 -0700
Received: from 172.24.28.147 ([172.24.28.147]) by repbex01.amer.bea.com
	([10.160.26.98]) with Microsoft Exchange Server HTTP-DAV ; 
	Tue,  4 Sep 2007 21:03:09 +0000
User-Agent: Microsoft-Entourage/11.3.6.070618
Date: Tue, 04 Sep 2007 13:23:12 -0700
Subject: Re: [Sip] INFO
From: Eric Burger <eburger@bea.com>
To: Hadriel Kaplan <HKaplan@acmepacket.com>
Message-ID: <C3030CC0.A821%eburger@bea.com>
Thread-Topic: [Sip] INFO
Thread-Index: AcfkO3T4s2cG+lAuEdy/WQAWy4mm/wHUBx+wAOMs5Uk=
In-Reply-To: <006e01c7eb91$9290b1d0$6401a8c0@acmepacket.com>
Mime-version: 1.0
Content-type: text/plain; charset=US-ASCII
Content-transfer-encoding: 7bit
x-BEA-PMX-Instructions: AV
x-BEA-MM: Internal-To-External
X-Spam-Score: 0.0 (/)
X-Scan-Signature: 287c806b254c6353fcb09ee0e53bbc5e
Cc: sip <sip@ietf.org>
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

I have not checked, but I think IEEE journal papers run about US $5.  You
can get a monthly subscription that makes the rate way lower.  Your company
probably has a corporate subscription, or someone there most likely has an
IEEE Digital Library subscription, so again, the papers should be paid for.

Since the IEEE has a serious self-plagiarism policy, here is a *different*
way for seeing how KPML wins.

The vast bulk of a SIP message in a non-trivial network (i.e., with one or
more proxies) is the routing information (URI's, Via's, Route's, etc.).
Sure, a Zebarth INFO (the absolute smallest encoding for a DTMF digit) of 2
bytes is much smaller than a KPML NOTIFY, which can easily be 70 bytes.
However, when you have 1000 bytes of headers, 1002 and 1070 are pretty much
the same.

Given that, let us look at the counts.

KPML:
SUBSCRIBE (SIP Message)
Immediate NOTIFY (SIP Message)
Digit NOTIFY's...

DTMF:
Digit INFO's...

What does this mean?  It means that if you are on a shared media network
(wireless or 5BaseT), where each direction counts, we have:

               DTMF          KPML
# digits    # packets     # packets
    1            1            3
    2            2            3
    3            3            3       Common Star Codes (e.g., *69)
    4            4            3       Common PINs
    5            5            3
    6            6            3       Also common PINs
    7            7            3
    8            8            3
    9            9            3
   10           10            3       Common Supplementary Phone Number
   11           11            3       Common Supplementary Phone Number

One can quibble as to whether the cross over is at 3 or 4 digits, since KPML
packets are slightly larger than INFO packets.  However, at 3 digits the
argument goes in favor of a mechanism with negotiation, content security,
dialog security, works for HERFP, etc., etc.

At 4 digits, KPML unquestionably uses less bandwidth.

Of course, the numbers are even better for KPML on non-shared media
networks.


On 8/31/07 1:41 AM, "Hadriel Kaplan" <HKaplan@acmepacket.com> wrote:

> Hey Eric,
> I read the draft and was especially interested in the claim that KPML
> consumed less bandwidth than INFO for DTMF.  You cite an IEEE paper, but I
> don't think that's freely available.  Can you summarize how you came to such
> a conclusion?  When I do the numbers, KPML often loses... in some scenarios
> by a LOT.  And it's not even just the extra bandwidth/messages, but also the
> state and processing horsepower.  There is one scenario where KPML wins, for
> some SIP boxes but not others.
> Although that could all be because I either don't correctly understand the
> actual way KPML would be used, or because the use cases I am concerned with
> are not the same as those in your paper's analysis.
> 
> -hadriel
> 
> 
>> -----Original Message-----
>> From: Eric Burger [mailto:eburger@bea.com]
>> Sent: Tuesday, August 21, 2007 5:37 PM
>> To: 'sip'
>> Subject: [Sip] INFO
>> 
>> Since list traffic is down, how about something to spice things up?
>> 
>> 
>> Any thoughts on
>> 
>> http://www.ietf.org/internet-drafts/draft-burger-sip-info-01.txt
>> 
>> ???
>> 
>> If you like it, say so.  If you hate it, say so.
>> 
>> Text welcome.
>> 
>> 
>> Notice:  This email message, together with any attachments, may contain
>> information  of  BEA Systems,  Inc.,  its subsidiaries  and  affiliated
>> entities,  that may be confidential,  proprietary,  copyrighted  and/or
>> legally privileged, and is intended solely for the use of the individual
>> or entity named in this message. If you are not the intended recipient,
>> and have received this message in error, please immediately return this by
>> email and then delete it.
>> 
>> 
>> _______________________________________________
>> Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
>> This list is for NEW development of the core SIP Protocol
>> Use sip-implementors@cs.columbia.edu for questions on current sip
>> Use sipping@ietf.org for new developments on the application of sip
> 
> 



Notice:  This email message, together with any attachments, may contain information  of  BEA Systems,  Inc.,  its subsidiaries  and  affiliated entities,  that may be confidential,  proprietary,  copyrighted  and/or legally privileged, and is intended solely for the use of the individual or entity named in this message. If you are not the intended recipient, and have received this message in error, please immediately return this by email and then delete it.


_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip

From sip-bounces@ietf.org Tue Sep 04 17:05:08 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1ISfYM-00008q-K2; Tue, 04 Sep 2007 17:03:18 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1ISfYK-00008V-KH
	for sip-confirm+ok@megatron.ietf.org; Tue, 04 Sep 2007 17:03:16 -0400
Received: from [10.90.34.44] (helo=chiedprmail1.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1ISfYK-00008M-8X
	for sip@ietf.org; Tue, 04 Sep 2007 17:03:16 -0400
Received: from repmmg02.bea.com ([66.248.192.39])
	by chiedprmail1.ietf.org with esmtp (Exim 4.43) id 1ISfYJ-0005FH-6v
	for sip@ietf.org; Tue, 04 Sep 2007 17:03:16 -0400
Received: from repmmr01.bea.com (repmmr01.bea.com [10.160.29.71])
	by repmmg02.bea.com (Switch-3.2.7/Switch-3.2.7) with ESMTP id
	l84L36RO021669; Tue, 4 Sep 2007 14:03:06 -0700
Received: from repbex01.amer.bea.com (repbex01.bea.com [10.160.26.98])
	by repmmr01.bea.com (Switch-3.2.7/Switch-3.2.7) with ESMTP id
	l84L35Rp008075; Tue, 4 Sep 2007 14:03:05 -0700
Received: from 172.24.28.147 ([172.24.28.147]) by repbex01.amer.bea.com
	([10.160.26.98]) with Microsoft Exchange Server HTTP-DAV ; 
	Tue,  4 Sep 2007 21:03:04 +0000
User-Agent: Microsoft-Entourage/11.3.6.070618
Date: Tue, 04 Sep 2007 10:56:15 -0700
Subject: Re: [Sip] New revision of draft-ietf-sip-body-handling-00.txt
From: Eric Burger <eburger@bea.com>
To: Paul Kyzivat <pkyzivat@cisco.com>,
	Gonzalo Camarillo <Gonzalo.Camarillo@ericsson.com>
Message-ID: <C302EA4F.A82D%eburger@bea.com>
Thread-Topic: [Sip] New revision of draft-ietf-sip-body-handling-00.txt
Thread-Index: AcfvHOMBIbHqElsQEdyaaQAWy4mm/w==
In-Reply-To: <46D56D39.6030300@cisco.com>
Mime-version: 1.0
Content-type: text/plain; charset=US-ASCII
Content-transfer-encoding: 7bit
x-BEA-PMX-Instructions: AV
x-BEA-MM: Internal-To-External
X-Spam-Score: 1.4 (+)
X-Scan-Signature: 200d029292fbb60d25b263122ced50fc
Cc: sip <sip@ietf.org>
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

I agree 100% with Paul.  However, one thing I would like to hear opinions on
is the following:

Do we way body parts are always processed, no matter what?

It would be convenient to say body parts get processed as needed.  If there
is a related part that never gets referenced, then a conforming processor
might not process that part, as an optimization.

However, one thing we need to be mindful of are side effects.  MIME body
parts can make external references.  Those external references (to
http/https URI's) may hit application servers.  Those application servers
may do something based on the receipt of the URI.  It could be as simple as
recording the fact the body part was read (like a web beacon), or it could
be as complex as changing application state.

What do people think of this?  Do we say that SIP engines are opportunistic,
and the side effect MUST happen if the body gets used, buy the side effect
MAY happen if the body does not get used?  That would be my vote, as the
alternative, that all side effects (external references get resolved) happen
puts a pretty big burden on User Agents.


On 8/29/07 8:57 AM, "Paul Kyzivat" <pkyzivat@cisco.com> wrote:

> To clarify futher my last point below...
> 
> What I am saying is that IMO body parts must always be processed
> according to their type and disposition, whether there are references to
> them or not. If there is a reference, and it is understood, then it can
> modify or supplement the processing, but if the reference is not
> recognized or understood then the other processing still occurs.
> 
> If we want to support the possibility of a reference to a body part,
> where there is to be no processing of the body part when the reference
> is not understood, then we need a content-disposition that says "don't
> do anything with this unless you process a reference to it."
> 
> An alternative is to simply assume there are no such cases, and warn
> people that use references to select a C-D for the referenced part that
> will have an appropriate result if the reference is not understood.
> 
> For instance, we have both the Alert-Info header and the "alert" C-D. If
> you use an A-I with a CID reference, then you can use "alert" as the C-D
> of that part. In that case, the A-I header is redundant unless it
> contains something that modifies the processing.
> 
> An example where the problem I am concerned about may exist is in
> draft-ietf-sip-location-conveyance-08. It has an example of a
> Geolocation header referencing a body part. There is no C-D header in
> the example, so by default it is "render;handling=required". And its C-T
> is application/pidf+xml. If a recipient of this message didn't
> understand the Geolocation header it would reach the conclusion that it
> should render the pidf. Its debatable whether that is the desired
> conclusion - I think not. IMO the intent is that if the Geolocation
> header isn't processed then the pidf should be ignored. So, IMO this
> body part ought to contain:
>     Content-Disposition: by-reference;handling=optional
> 
> (I don't care what name we use for the disposition, just that we have one.)
> 
> Thanks,
> Paul
> 
> Paul Kyzivat wrote:
>> Gonzalo,
>> 
>> Obviously we allow a "forward" reference from the sip message itself
>> (which from a mime perspective are just a bunch of mime headers.)
>> 
>> I think that establishes a precedent that needs to be continued. An
>> example of why can be seen in sipfrag:
>> 
>> If we had a valid sip response that had a reference into one of its body
>> parts, then if that was turned into a sipfrag and stuffed into the body
>> of a NOTIFY, then it must still be valid.
>> 
>> I just did a quick scan of the new draft, so the following is a
>> tentative comment, until I can read it more carefully:
>> 
>> I think the draft is now saying that the decision about whether to
>> process a body part according to a reference to it, or process
>> independently, is decided based on whether a reference is found. We had
>> this discussion before, and I think we agreed that wouldn't work well,
>> and that instead we would have a special C-D type for body parts that
>> are disposed of based on a reference.
>> 
>> I don't think the introduction of issues related to multipart/related
>> changes this. The obvious cases are when there is a single
>> multipart/mixed containing some body parts. Some of those may be
>> referenced from CID URIs in sip headers, and others (e.g. SDP) may stand
>> on their own. It is entirely possible that a body part might be
>> referenced from some extension header that the recipient doesn't
>> understand. In that case it may erroneously decide to process the body
>> part on its own, when it should instead have ignored it because the
>> header isn't being processed.
>> 
>>     Thanks,
>>     Paul
>> 
>> Gonzalo Camarillo wrote:
>>> Folks,
>>> 
>>> I have just submitted a new revision of the body handling draft. Until
>>> it appears on the archives, you can fetch it from:
>>> 
>>> http://users.piuha.net/gonzalo/temp/draft-ietf-sip-body-handling-00.txt
>>> 
>>> Per our discussions in Chicago, the draft now states that only body
>>> parts within the same 'multipart/related' can reference each other
>>> using cid URIs.
>>> 
>>> If this is too restrictive, we could also allow using forward
>>> references in any context (with no 'multipart/related' at all).
>>> 
>>> Comments?
>>> 
>>> Thanks,
>>> 
>>> Gonzalo
>>> 
>>> 
>>> 
>>> _______________________________________________
>>> Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
>>> This list is for NEW development of the core SIP Protocol
>>> Use sip-implementors@cs.columbia.edu for questions on current sip
>>> Use sipping@ietf.org for new developments on the application of sip
>>> 
>> 
>> 
>> _______________________________________________
>> Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
>> This list is for NEW development of the core SIP Protocol
>> Use sip-implementors@cs.columbia.edu for questions on current sip
>> Use sipping@ietf.org for new developments on the application of sip
>> 
> 
> 
> _______________________________________________
> Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip


Notice:  This email message, together with any attachments, may contain information  of  BEA Systems,  Inc.,  its subsidiaries  and  affiliated entities,  that may be confidential,  proprietary,  copyrighted  and/or legally privileged, and is intended solely for the use of the individual or entity named in this message. If you are not the intended recipient, and have received this message in error, please immediately return this by email and then delete it.


_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip





From sip-bounces@ietf.org Tue Sep 04 17:05:08 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1ISfYV-0000JN-Iy; Tue, 04 Sep 2007 17:03:27 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1ISfYT-0000EK-6a
	for sip-confirm+ok@megatron.ietf.org; Tue, 04 Sep 2007 17:03:25 -0400
Received: from [10.91.34.44] (helo=ietf-mx.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1ISfYS-0000CI-Pp
	for sip@ietf.org; Tue, 04 Sep 2007 17:03:24 -0400
Received: from repmmg02.bea.com ([66.248.192.39])
	by ietf-mx.ietf.org with esmtp (Exim 4.43) id 1ISfYQ-00053j-Mf
	for sip@ietf.org; Tue, 04 Sep 2007 17:03:24 -0400
Received: from repmmr01.bea.com (repmmr01.bea.com [10.160.29.71])
	by repmmg02.bea.com (Switch-3.2.7/Switch-3.2.7) with ESMTP id
	l84L3GYO021842; Tue, 4 Sep 2007 14:03:16 -0700
Received: from repbex01.amer.bea.com (repbex01.bea.com [10.160.26.98])
	by repmmr01.bea.com (Switch-3.2.7/Switch-3.2.7) with ESMTP id
	l84L35S5008075; Tue, 4 Sep 2007 14:03:15 -0700
Received: from 172.24.28.147 ([172.24.28.147]) by repbex01.amer.bea.com
	([10.160.26.98]) with Microsoft Exchange Server HTTP-DAV ; 
	Tue,  4 Sep 2007 21:03:10 +0000
User-Agent: Microsoft-Entourage/11.3.6.070618
Date: Tue, 04 Sep 2007 13:34:07 -0700
Subject: Re: [Sip] INFO
From: Eric Burger <eburger@bea.com>
To: Peili Xu <xupeili@huawei.com>
Message-ID: <C3030F4F.A824%eburger@bea.com>
Thread-Topic: [Sip] INFO
Thread-Index: AcfopsS6ijL/eVSeR7OkrFxhvjEZ1wCqsuc+ABF4AvAA4JbFsw==
In-Reply-To: <000601c7eb98$86b9fa40$ee1c550a@china.huawei.com>
Mime-version: 1.0
Content-type: text/plain; charset=US-ASCII
Content-transfer-encoding: 7bit
x-BEA-PMX-Instructions: AV
x-BEA-MM: Internal-To-External
X-Spam-Score: 0.0 (/)
X-Scan-Signature: ded6070f7eed56e10c4f4d0d5043d9c7
Cc: sip <sip@ietf.org>
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

That is the point of the draft.  All of the uses of INFO today have
alternatives that do not have the same problems.

In fact, I am really thinking the draft should point out the use of INFO for
SIP-T is also incorrect.  SIP-T should use a control channel, not the "SIP"
channel, for transporting proprietary signaling.  The only thing SIP-T does
is re-create TCP over SIP.  Not a very useful use of SIP.

That said, if this is to be a work group draft, I would sure appreciate the
work group's opinion here.  Do we:

[1] Deprecate SIP-T, indicating the flaw of using INFO for transporting
Q.931/Q.sig/DPNSS/telco foobar, as well as writing a new draft to replace
SIP-T?  Downside is no one will care and it will be ignored.

[2] Ignore the issue and hope people do not notice the hypocrisy of saying
"do not use INFO, but we have this use that we are afraid to admit we have
learned from experience this was a mistake"?

[3] Mention the SIP-T issue, point out that it may have been a Best Current
Practice in 2002, but that it is no longer the best practice.  However, it
is what it is.

To be clear, the "SIP-T issue" is really the INFO issue: the endpoint has no
idea why they are getting an INFO nor what it means.  The approach in this
draft is to say the INFO means SIP-T and only SIP-T.  I am getting less and
less enamored with keeping the SIP-T use, as people keep piling on yet one
more "kind of like Q.931" signaling on INFO.  Before we know it, we get to
"UserInputIndication", which is simply DTMF in ASN.1.


On 8/31/07 2:31 AM, "Peili Xu" <xupeili@huawei.com> wrote:

> 
> 
> 
> I fully understand your concern. But just to forbidden
> using INFO does not
> solve the "how do the endpoints know they will be able
> to communicate?" problem/requirement either.
> 
> I'd suggest we first consider to find solution for the
> prolem
> then after that we can say "Don't use INFO for this, Use
> that solution."
> 
> Do you think this is a more convising way?
> 
> Peili
> 
> 
> -----Original Message-----
> From: Eric Burger [mailto:eburger@bea.com]
> Sent: Friday, August 31, 2007 6:03 AM
> To: Peili Xu
> Cc: sip
> Subject: Re: [Sip] INFO
> 
> Saying, "OK for interworking" does not really say
> anything.  If I come up with a really broken method for
> interworking, saying that it is for interworking does
> not make it correct.
> 
> The problem is, how do the endpoints know they will be
> able to communicate?
> For the ISUP/Q.sig/DPNSS/mumble case, the endpoints know
> they will be able to interoperate because they know
> a'priori: they are configured to work.
> However, this means that the devices must be in the same
> administrative domain and configured properly.
> 
> Said in a different manner, INFO works fine for
> non-inter-network use.  It would be hard for the IETF to
> say, "Here is a non-IETF use.  We will not use it.  You
> cannot use it with anyone else.  You cannot use it
> between manufacturers, unless you get them to agree to
> this use."  That is a bit more of what we call the toxic
> waste warning that accompanies 3GPP specifications...
> 
> 
> On 8/27/07 8:35 AM, "Peili Xu" <xupeili@huawei.com>
> wrote:
> 
>> Hi Eric,
>> 
>> Several cases I encounter to use INFO is for
> interworking with PSTN
>> signaling, or simulate PSTN services at SIP entities
> such as SIP UA or
>> SIP GW, which require mid-dialog information change.
>> 
>> For such SIP entities, It's not always possible or
> required to support
>> encapsulation of ISUP or QSIG package. Just some XML
> body with
>> application info is enough and light-weight for this
> purpose.
>> 
>> 
>> INFO is not an ideal tool for everything, but is an
> ideal tool for some thing.
>> 
>> I'd prpose to at lease allow using INFO for
> interworking or simulation
>> purpose with legacy system.
>> 
>> Regards.
>> Peili
>> 
>> 2007/8/22, Eric Burger <eburger@bea.com>:
>>> Since list traffic is down, how about something to
> spice things up?
>>> 
>>> 
>>> Any thoughts on
>>> 
>>> 
> http://www.ietf.org/internet-drafts/draft-burger-sip-inf
> o-01.txt
>>> 
>>> ???
>>> 
>>> If you like it, say so.  If you hate it, say so.
>>> 
>>> Text welcome.
>>> 
>>> 
>>> Notice:  This email message, together with any
> attachments, may
>>> contain information  of  BEA Systems,  Inc.,  its
> subsidiaries  and
>>> affiliated entities,  that may be confidential,
> proprietary, 
>>> copyrighted  and/or legally privileged, and is
> intended solely for
>>> the use of the individual or entity named in this
> message. If you are
>>> not the intended recipient, and have received this
> message in error,
>>> please immediately return this by email and then
> delete it.
>>> 
>>> 
>>> _______________________________________________
>>> Sip mailing list
> https://www1.ietf.org/mailman/listinfo/sip
>>> This list is for NEW development of the core SIP
> Protocol Use
>>> sip-implementors@cs.columbia.edu for questions on
> current sip Use
>>> sipping@ietf.org for new developments on the
> application of sip
>>> 
>> 
> 
> 
> 
> Notice:  This email message, together with any
> attachments, may contain information  of  BEA Systems,
> Inc.,  its subsidiaries  and  affiliated entities,  that
> may be confidential,  proprietary,  copyrighted  and/or
> legally privileged, and is intended solely for the use
> of the individual or entity named in this message. If
> you are not the intended recipient, and have received
> this message in error, please immediately return this by
> email and then delete it.
> 
> 
> _______________________________________________
> Sip mailing list
> https://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP
> Protocol Use sip-implementors@cs.columbia.edu for
> questions on current sip Use sipping@ietf.org for new
> developments on the application of sip
> 
> 
> 



Notice:  This email message, together with any attachments, may contain information  of  BEA Systems,  Inc.,  its subsidiaries  and  affiliated entities,  that may be confidential,  proprietary,  copyrighted  and/or legally privileged, and is intended solely for the use of the individual or entity named in this message. If you are not the intended recipient, and have received this message in error, please immediately return this by email and then delete it.


_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip

From sip-bounces@ietf.org Tue Sep 04 17:05:13 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1ISfYL-00008h-VQ; Tue, 04 Sep 2007 17:03:17 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1ISfYJ-00008C-LW
	for sip-confirm+ok@megatron.ietf.org; Tue, 04 Sep 2007 17:03:15 -0400
Received: from [10.91.34.44] (helo=ietf-mx.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1ISfYJ-000080-Ao
	for sip@ietf.org; Tue, 04 Sep 2007 17:03:15 -0400
Received: from repmmg02.bea.com ([66.248.192.39])
	by ietf-mx.ietf.org with esmtp (Exim 4.43) id 1ISfYH-00053O-Rj
	for sip@ietf.org; Tue, 04 Sep 2007 17:03:15 -0400
Received: from repmmr01.bea.com (repmmr01.bea.com [10.160.29.71])
	by repmmg02.bea.com (Switch-3.2.7/Switch-3.2.7) with ESMTP id
	l84L3BI2021755; Tue, 4 Sep 2007 14:03:11 -0700
Received: from repbex01.amer.bea.com (repbex01.bea.com [10.160.26.98])
	by repmmr01.bea.com (Switch-3.2.7/Switch-3.2.7) with ESMTP id
	l84L35Rv008075; Tue, 4 Sep 2007 14:03:09 -0700
Received: from 172.24.28.147 ([172.24.28.147]) by repbex01.amer.bea.com
	([10.160.26.98]) with Microsoft Exchange Server HTTP-DAV ; 
	Tue,  4 Sep 2007 21:03:09 +0000
User-Agent: Microsoft-Entourage/11.3.6.070618
Date: Tue, 04 Sep 2007 13:23:12 -0700
Subject: Re: [Sip] INFO
From: Eric Burger <eburger@bea.com>
To: Hadriel Kaplan <HKaplan@acmepacket.com>
Message-ID: <C3030CC0.A821%eburger@bea.com>
Thread-Topic: [Sip] INFO
Thread-Index: AcfkO3T4s2cG+lAuEdy/WQAWy4mm/wHUBx+wAOMs5Uk=
In-Reply-To: <006e01c7eb91$9290b1d0$6401a8c0@acmepacket.com>
Mime-version: 1.0
Content-type: text/plain; charset=US-ASCII
Content-transfer-encoding: 7bit
x-BEA-PMX-Instructions: AV
x-BEA-MM: Internal-To-External
X-Spam-Score: 0.0 (/)
X-Scan-Signature: 287c806b254c6353fcb09ee0e53bbc5e
Cc: sip <sip@ietf.org>
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

I have not checked, but I think IEEE journal papers run about US $5.  You
can get a monthly subscription that makes the rate way lower.  Your company
probably has a corporate subscription, or someone there most likely has an
IEEE Digital Library subscription, so again, the papers should be paid for.

Since the IEEE has a serious self-plagiarism policy, here is a *different*
way for seeing how KPML wins.

The vast bulk of a SIP message in a non-trivial network (i.e., with one or
more proxies) is the routing information (URI's, Via's, Route's, etc.).
Sure, a Zebarth INFO (the absolute smallest encoding for a DTMF digit) of 2
bytes is much smaller than a KPML NOTIFY, which can easily be 70 bytes.
However, when you have 1000 bytes of headers, 1002 and 1070 are pretty much
the same.

Given that, let us look at the counts.

KPML:
SUBSCRIBE (SIP Message)
Immediate NOTIFY (SIP Message)
Digit NOTIFY's...

DTMF:
Digit INFO's...

What does this mean?  It means that if you are on a shared media network
(wireless or 5BaseT), where each direction counts, we have:

               DTMF          KPML
# digits    # packets     # packets
    1            1            3
    2            2            3
    3            3            3       Common Star Codes (e.g., *69)
    4            4            3       Common PINs
    5            5            3
    6            6            3       Also common PINs
    7            7            3
    8            8            3
    9            9            3
   10           10            3       Common Supplementary Phone Number
   11           11            3       Common Supplementary Phone Number

One can quibble as to whether the cross over is at 3 or 4 digits, since KPML
packets are slightly larger than INFO packets.  However, at 3 digits the
argument goes in favor of a mechanism with negotiation, content security,
dialog security, works for HERFP, etc., etc.

At 4 digits, KPML unquestionably uses less bandwidth.

Of course, the numbers are even better for KPML on non-shared media
networks.


On 8/31/07 1:41 AM, "Hadriel Kaplan" <HKaplan@acmepacket.com> wrote:

> Hey Eric,
> I read the draft and was especially interested in the claim that KPML
> consumed less bandwidth than INFO for DTMF.  You cite an IEEE paper, but I
> don't think that's freely available.  Can you summarize how you came to such
> a conclusion?  When I do the numbers, KPML often loses... in some scenarios
> by a LOT.  And it's not even just the extra bandwidth/messages, but also the
> state and processing horsepower.  There is one scenario where KPML wins, for
> some SIP boxes but not others.
> Although that could all be because I either don't correctly understand the
> actual way KPML would be used, or because the use cases I am concerned with
> are not the same as those in your paper's analysis.
> 
> -hadriel
> 
> 
>> -----Original Message-----
>> From: Eric Burger [mailto:eburger@bea.com]
>> Sent: Tuesday, August 21, 2007 5:37 PM
>> To: 'sip'
>> Subject: [Sip] INFO
>> 
>> Since list traffic is down, how about something to spice things up?
>> 
>> 
>> Any thoughts on
>> 
>> http://www.ietf.org/internet-drafts/draft-burger-sip-info-01.txt
>> 
>> ???
>> 
>> If you like it, say so.  If you hate it, say so.
>> 
>> Text welcome.
>> 
>> 
>> Notice:  This email message, together with any attachments, may contain
>> information  of  BEA Systems,  Inc.,  its subsidiaries  and  affiliated
>> entities,  that may be confidential,  proprietary,  copyrighted  and/or
>> legally privileged, and is intended solely for the use of the individual
>> or entity named in this message. If you are not the intended recipient,
>> and have received this message in error, please immediately return this by
>> email and then delete it.
>> 
>> 
>> _______________________________________________
>> Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
>> This list is for NEW development of the core SIP Protocol
>> Use sip-implementors@cs.columbia.edu for questions on current sip
>> Use sipping@ietf.org for new developments on the application of sip
> 
> 



Notice:  This email message, together with any attachments, may contain information  of  BEA Systems,  Inc.,  its subsidiaries  and  affiliated entities,  that may be confidential,  proprietary,  copyrighted  and/or legally privileged, and is intended solely for the use of the individual or entity named in this message. If you are not the intended recipient, and have received this message in error, please immediately return this by email and then delete it.


_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Tue Sep 04 17:05:08 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1ISfYJ-00007u-4u; Tue, 04 Sep 2007 17:03:15 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1ISfYI-00007p-9D
	for sip-confirm+ok@megatron.ietf.org; Tue, 04 Sep 2007 17:03:14 -0400
Received: from [10.90.34.44] (helo=chiedprmail1.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1ISfYH-00007f-Ry
	for sip@ietf.org; Tue, 04 Sep 2007 17:03:13 -0400
Received: from repmmg02.bea.com ([66.248.192.39])
	by chiedprmail1.ietf.org with esmtp (Exim 4.43) id 1ISfYF-0005F5-Uu
	for sip@ietf.org; Tue, 04 Sep 2007 17:03:13 -0400
Received: from repmmr01.bea.com (repmmr01.bea.com [10.160.29.71])
	by repmmg02.bea.com (Switch-3.2.7/Switch-3.2.7) with ESMTP id
	l84L38Am021684; Tue, 4 Sep 2007 14:03:08 -0700
Received: from repbex01.amer.bea.com (repbex01.bea.com [10.160.26.98])
	by repmmr01.bea.com (Switch-3.2.7/Switch-3.2.7) with ESMTP id
	l84L35Rr008075; Tue, 4 Sep 2007 14:03:06 -0700
Received: from 172.24.28.147 ([172.24.28.147]) by repbex01.amer.bea.com
	([10.160.26.98]) with Microsoft Exchange Server HTTP-DAV ; 
	Tue,  4 Sep 2007 21:03:06 +0000
User-Agent: Microsoft-Entourage/11.3.6.070618
Date: Tue, 04 Sep 2007 10:59:31 -0700
Subject: Re: AW: AW: [Sip] Extension of conference procedures
From: Eric Burger <eburger@bea.com>
To: "Huelsemann, Martin" <Martin.Huelsemann@t-com.net>
Message-ID: <C302EB13.A82F%eburger@bea.com>
Thread-Topic: AW: AW: [Sip] Extension of conference procedures
Thread-Index: AcfqRhEX/Me4/dQsRM+wdqt5zk7CTAAhfFiAAAFj5gAAAntFIAEQdiz+
In-Reply-To: <CCA850DCD3FBE2479D5076C5C1873222029F5081@S4DE9JSAAHW.ost.t-com.de>
Mime-version: 1.0
Content-type: text/plain; charset=ISO-8859-1
Content-transfer-encoding: quoted-printable
x-BEA-PMX-Instructions: AV
x-BEA-MM: Internal-To-External
X-Spam-Score: 1.4 (+)
X-Scan-Signature: dd055ca905b7a8538e016a7989511901
Cc: sip@ietf.org
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

I must be missing an important point.  To me, right now, this whole thread,
besides being 11 pages long, seems pointless.

Either a phone knows about REFER or the phone does 3261.  Adding something
new to 3261 means the phone needs to know about it means it might as well
know about REFER.

Hacking 3261 to enable a man-in-the-middle attack, where the conference
server or PSAP can take over a call (good thing) enables a nasty device to
take over a call (bad thing) is not a good idea.


On 8/30/07 4:37 AM, "Huelsemann, Martin" <Martin.Huelsemann@t-com.net>
wrote:

> Hi,
>=20
> I think especially for the case where A has several ongoing dialogs with =
B and
> A wants only to include a certain of the dialogs into the conference, he =
has
> to give some information in which of the dialogs the AS shall start 3pcc
> procedures.
>=20
>=20
> Regards, Martin
>=20
>=20
>=20
>> -----Urspr=FCngliche Nachricht-----
>> Von: Peili Xu [mailto:xupeili@huawei.com]
>> Gesendet: Donnerstag, 30. August 2007 08:53
>> An: 'Even, Roni'
>> Cc: sip@ietf.org
>> Betreff: RE: AW: [Sip] Extension of conference procedures
>>=20
>>=20
>>=20
>> Hi Roni,
>>=20
>> Your case is even "smarter" than mine ;-)  that's OK for
>> me.
>>=20
>> But, I'm just wondering whether there is case that A has
>> multiple on going dialogs with say B, C, D and only want
>> to turn A-B and A-C to a conference then dialog
>> information maybe needed.
>>=20
>> I'd happy to hear clarification for this point from whom
>> raise the requirements.
>>=20
>> Peili
>>=20
>> -----Original Message-----
>> From: Even, Roni [mailto:roni.even@polycom.co.il]
>> Sent: Thursday, August 30, 2007 2:09 PM
>> To: Peili Xu
>> Cc: sip@ietf.org
>> Subject: RE: AW: [Sip] Extension of conference
>> procedures
>>=20
>>=20
>>=20
>> Hi,
>> I think you misunderstood what I menat by "smart". If
>> there is a softyswitch acting as a 3PCC, it controls the
>> dialogs and can redirect the media to the media server
>> suppling the conference function.
>> There is no need for A to give information about the
>> dialog
>>=20
>> Roni Even
>>=20
>>> -----Original Message-----
>>> From: Peili Xu [mailto:xupeili@gmail.com]
>>> Sent: Wednesday, August 29, 2007 5:08 PM
>>> To: Even, Roni
>>> Cc: Huelsemann, Martin; sip@ietf.org
>>> Subject: Re: AW: [Sip] Extension of conference
>> procedures
>>>=20
>>> Hi Martin, Denis,
>>>=20
>>> I agree with Roni that you may need to decide who is
>> "smart".
>>>=20
>>> I guess you want to simulate the 3PTY services in
>> PSTN, A make call to
>>> B, then A Hold B, then A Make Call to C, then A could
>> do sth like hook
>>> flash to turn the call between A-B and A-C to an 3pty
>> conference.
>>> later, A could still turn the conferece back to 2
>> independant call.
>>>=20
>>> You have some assumption that the AS who performs
>> conference is on the
>>> path between A-B and A-C. And A could inform the AS to
>> turn the call=20
>>> between A-B and A-C to a conference.
>>>=20
>>> If the assumption is correct, what you want is just to
>> tell the AS=20
>>> which dialogs should be turned to conference by
>> sending an INVITE with
>>> the related dialog information.
>>>=20
>>> If the above understanding is correct, I'd agree with
>> the initial=20
>>> proposal from Denis.
>>> Just to convey the dialog information along with the
>> URI-List.
>>>=20
>>> Peili
>>>=20
>>>=20
>>>=20
>>> 2007/8/29, Even, Roni <roni.even@polycom.co.il>:
>>>>=20
>>>> Hi,
>>>> In this case, like in PSTN the switch does it. You
>> have to decide=20
>>>> who is
>>> "smart" the network or the end device.
>>>> A "simple" RFC 3261 only phone relies on a 3PCC or
>> softswitch to=20
>>>> manage
>>> telephony services (not only conferencing)
>>>>=20
>>>> Roni Even
>>>>=20
>>>>> -----Original Message-----
>>>>> From: Huelsemann, Martin
>> [mailto:Martin.Huelsemann@t-com.net]
>>>>> Sent: Wednesday, August 29, 2007 1:05 PM
>>>>> To: Even, Roni
>>>>> Cc: sip@ietf.org; jbemmel@zonnet.nl
>>>>> Subject: AW: AW: [Sip] Extension of conference
>> procedures
>>>>>=20
>>>>> Hi,
>>>>>=20
>>>>> also for the scenario where A refers B to dial
>> into a conference,
>>>>> the problem is when B has a terminal not
>> supporting REFER (or just
>>>>> doesn't want to accept the REFER for some
>> reasons), A cannot use
>>>>> the
>>> conference
>>>>> service.
>>>>>=20
>>>>> Of course these simple terminals are not the
>> desired use-case and
>>> there
>>>>> will be limitations. But if there is a possible
>> fallback solution
>>>>> that
>>> at
>>>>> least increases the chance that A can use the
>> service despite the
>>>>> fact that B does not fulfill all the requirements
>> for the service,
>>>>> I think
>>> we
>>>>> should try to figure it out.
>>>>>=20
>>>>> Regards, Martin
>>>>>=20
>>>>>=20
>>>>>=20
>>>>>=20
>>>>>=20
>>>>>> -----Urspr=FCngliche Nachricht-----
>>>>>> Von: Even, Roni [mailto:roni.even@polycom.co.il]
>>>>>> Gesendet: Montag, 27. August 2007 12:16
>>>>>> An: H=FClsemann, Martin; jbemmel@zonnet.nl
>>>>>> Cc: sip@ietf.org
>>>>>> Betreff: RE: AW: [Sip] Extension of conference
>> procedures
>>>>>>=20
>>>>>>=20
>>>>>> Hi,
>>>>>> My view is that every solution where you only
>> have A, B and a=20
>>>>>> conference server and B only supports RFC 3261
>> will have some=20
>>>>>> limitation and will be a hack.
>>>>>>=20
>>>>>> The recommended way to do it is for A to send a
>> Refer to B to=20
>>>>>> the focus.
>>>>>>=20
>>>>>> Also asking that B supporting only RFC 3261 will
>> support=20
>>>>>> conference event package is contradictory. B
>> will not even be
>>>>>> aware that it is in a conference.
>>>>>>=20
>>>>>> Roni Even
>>>>>>=20
>>>>>> !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
>>>>>> A consensus means that everyone agrees to say
>> collectively what
>>>>>> no one believes individually
>> !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
>>>>>>=20
>>>>>>> -----Original Message-----
>>>>>>> From: Huelsemann, Martin
>> [mailto:Martin.Huelsemann@t-com.net]
>>>>>>> Sent: Monday, August 27, 2007 12:59 PM
>>>>>>> To: jbemmel@zonnet.nl
>>>>>>> Cc: sip@ietf.org
>>>>>>> Subject: AW: AW: [Sip] Extension of conference
>> procedures
>>>>>>>=20
>>>>>>> Hi,
>>>>>>>=20
>>>>>>> the pure RFC 3261 client won't be the normal
>> case, of
>>>>>> course. But there
>>>>>>> might be networks with which you want to
>> interwork where
>>>>>> those simple
>>>>>>> clients are existing.
>>>>>>> Okay, you got me, it's again the PSTN
>> interworking. So
>>>>>> let's say what is
>>>>>>> needed is a fallback solution for this case.
>>>>>>> On the other hand, this fallback might be
>> useful for a
>>>>>> normal SIP client
>>>>>>> which supports RFC3891, too, e.g. if there are
>> problems with=20
>>>>>>> authorization.
>>>>>>>=20
>>>>>>> The user experience of the invitee should be
>> exactly as you
>>>>>> describe.
>>>>>>>=20
>>>>>>> If A sends the reINVITE / UPDATE himself that
>> could be a
>>>>>> solution, too.
>>>>>>> The only thing is, can B then use all the
>> conference features (e.
>>> g.
>>>>>>> conference event package), when the focus has
>> no knowledge on=20
>>>>>>> the signalling level that B is connected to
>> the conference bridge?
>>>>>>>=20
>>>>>>> Regards, Martin
>>>>>>>=20
>>>>>>>=20
>>>>>>>=20
>>>>>>>=20
>>>>>>>=20
>>>>>>>> -----Urspr=FCngliche Nachricht-----
>>>>>>>> Von: Jeroen van Bemmel
>> [mailto:jbemmel@zonnet.nl]
>>>>>>>> Gesendet: Sonntag, 26. August 2007 15:24
>>>>>>>> An: H=FClsemann, Martin
>>>>>>>> Cc: Alexeitsev, Denis; sip@ietf.org
>>>>>>>> Betreff: Re: AW: [Sip] Extension of
>> conference procedures
>>>>>>>>=20
>>>>>>>>=20
>>>>>>>> Martin,
>>>>>>>>=20
>>>>>>>> Now it becomes more clear. So the
>> requirement is to
>>>>>> enable a scenario
>>>>>>>> where a regular call is transformed into a
>> conference
>>>>>> call, assuming
>>>>>>>> that the invitee only has a "pure RFC3261"
>> client.
>>>>>>>> More specifically:
>>>>>>>>=20
>>>>>>>> - to get a smooth user experience, the
>> scenario must not
>>>>>>>> cause
>>> the
>>>>>>>> invitee's phone to ring, and/or ask the
>> invitee for=20
>>>>>>>> permission (acceptance is assumed to be
>> implied)
>>>>>>>>=20
>>>>>>>> What if A would send the reINVITE (or
>> UPDATE) itself, while
>>>>>>>> filling in the SDP according to the media
>> provided by the=20
>>>>>>>> conference server (i.e.
>>>>>>>> use codecs, media ports as received from the
>> focus)? (trying=20
>>>>>>>> to get the requirements more clear here)
>>>>>>>>=20
>>>>>>>> In practice, it may still be a challenge to
>> get such "very
>>> simple
>>>>>>>> terminals" to properly handle a change of
>> media (i.e. new
>>>>>> destination
>>>>>>>> ip/port for sending, new source ip/port and
>> RTP src id,
>>>>>> and possibly
>>>>>>>> different codecs)
>>>>>>>>=20
>>>>>>>> Regards,
>>>>>>>> Jeroen
>>>>>>>>=20
>>>>>>>>=20
>>>>>>>> Huelsemann, Martin wrote:
>>>>>>>>> Hi Jeroen,
>>>>>>>>>=20
>>>>>>>>> the usage of the Replaces header is of
>> course the best
>>>>>>>> solution, it's also described in the
>> regarding 3GPP=20
>>>>>>>> conferencing spec.
>>>>>>>>> The disadvantage of the usage of the
>> Repaces header is,
>>>>>>>> that it puts requirements on the UE of the
>> invited user, it
>>>>>>>> would have to support RFC 3891. And if it
>> supports, it=20
>>>>>>>> really would have to accept the 2nd INVITE,
>> which is not=20
>>>>>>>> mandatory according to RFC 3891 I think.
>>>>>>>>> Anyway what is needed in addition is a
>> solution how also
>>>>>>>> very simple terminals (e. g. only supporting
>> RFC 3261) can=20
>>>>>>>> be invited to an ad-hoc conference, whithout
>> having to say=20
>>>>>>>> to the invited user to please hang up
>> because there will be
>>>>>>>> a call from the focus shortly.
>>>>>>>>>=20
>>>>>>>>> Re-using an already established dialog at
>> least at the
>>>>>>>> first glance seems to be a simply and
>> invited UE independent
>>>>>>>> solution. And as this re-INVITE it wanted by
>> at least one of=20
>>>>>>>> the involved user, I would more compare it
>> to some kind of=20
>>>>>>>> triggered 3rd party call control than to
>> spoofing.
>>>>>>>>>=20
>>>>>>>>> Of course as you said it would have to be
>> made clear that
>>>>>>>> the focus is able to collect all the
>> information needed for
>>>>>>>> sending re-INVITEs (proposed "?" mechanism
>> usage, dialog=20
>>>>>>>> event package, etc.).
>>>>>>>>>=20
>>>>>>>>>=20
>>>>>>>>> Regards, Martin
>>>>>>>>>=20
>>>>>>>>>=20
>>>>>>>>>=20
>>>>>>>>>=20
>>>>>>>>>=20
>>>>>>>>>=20
>>>>>>>>>> -----Urspr=FCngliche Nachricht-----
>>>>>>>>>> Von: Jeroen van Bemmel
>> [mailto:jbemmel@zonnet.nl]
>>>>>>>>>> Gesendet: Freitag, 24. August 2007 17:06
>>>>>>>>>> An: Alexeitsev, Denis; sip@ietf.org
>>>>>>>>>> Betreff: Re: [Sip] Extension of
>> conference procedures
>>>>>>>>>>=20
>>>>>>>>>>=20
>>>>>>>>>> Denis,
>>>>>>>>>>=20
>>>>>>>>>> If I understand your scenario, "focus" is
>> a third party=20
>>>>>>>>>> separate from A and B, right? (e.g. a
>> conference server)
>>>>>>>>>>=20
>>>>>>>>>> In that case the focus is not a party in
>> the A-B dialog,=20
>>>>>>>>>> and would need more than Call-ID, From
>> and To to be able
>>>>>>>>>> to construct a reINVITE that B would
>> accept as coming
>>>>>>>>>> from A (e.g. CSeq). In any case, this
>> looks like a very
>>>>>>>>>> inelegant, hacked solution (as the
>> conference server is
>>>>>>>>>> basically spoofing)
>>>>>>>>>>=20
>>>>>>>>>> RFC4579 section 5.10 provides some
>> insipration, as well
>>>>>>>>>> as
>>>>>>>>>>=20
>> http://www.ietf.org/internet-drafts/draft-ietf-sipping-
>>> service
>>>>>>>>>> -examples-13.txt
>>>>>>>>>> scenario 2.5
>>>>>>>>>>=20
>>>>>>>>>> For example, A could include a 'Replaces'
>> header in the=20
>>>>>>>>>> URI it includes in its conference URI
>> list. Then the=20
>>>>>>>>>> conference server would
>>>>>>>> send a new
>>>>>>>>>> (out-of-dialog) INVITE to B containing
>> this Replaces=20
>>>>>>>>>> header, and B would know that it is
>> associated with the
>>>>>>>>>> dialog it has with A (and can replace it,
>> without ringing=20
>>>>>>>>>> if the UA is constructed like that)
>>>>>>>>>>=20
>>>>>>>>>> The conference server should probably
>> also include a=20
>>>>>>>>>> Referred-By containing A's AoR, either
>> automatically=20
>>>>>>>>>> (i.e. copy from From header in
>>>>>>>>>> INVITE) or
>>>>>>>>>> included by A in the URI (former is
>> better)
>>>>>>>>>>=20
>>>>>>>>>> Regards,
>>>>>>>>>> Jeroen
>>>>>>>>>>=20
>>>>>>>>>> Alexeitsev, D wrote:
>>>>>>>>>>=20
>>>>>>>>>>> I'd like to discuss the extension of the
>> current=20
>>>>>>>>>>> conference
>>>>>>>>>>>=20
>>>>>>>>>> procedures
>>>>>>>>>>=20
>>>>>>>>>>> with the following functionality.
>>>>>>>>>>>=20
>>>>>>>>>>> 3GPP conference specifications are
>> basing generally on
>>>>>>>>>>> the Conferencing Framework (RFC 4353)
>> and for one=20
>>>>>>>>>>> possibility
>>>>>>>>>>>=20
>>>>>>>>>> of inviting
>>>>>>>>>>=20
>>>>>>>>>>> users to the confrence on
>>>>>> draft-ietf-sip-uri-list-conferencing.
>>>>>>>>>>>=20
>>>>>>>>>>> Using the conferencing framework, the
>> following=20
>>>>>>>>>>> situation
>>>>>>>> can occur
>>>>>>>>>>> when a user is invited to an ad-hoc
>> conference:
>>>>>>>>>>> User A is in a dialog with user B, and
>> decides to start
>>>>>>>>>>> a
>>>>>>>>>>>=20
>>>>>>>>>> conference,
>>>>>>>>>>=20
>>>>>>>>>>> for example using an INVITE request to
>> the focus which
>>>>>>>>>>>=20
>>>>>>>>>> includes a URI
>>>>>>>>>>=20
>>>>>>>>>>> list with the URIs of the users which
>> shall be added to
>>>>>>>>>>> the conference, incl. B. So when the
>> INVITE request from
>>>>>>>>>>> the
>>> focus
>>>>>>>>>>> arrives at B, he is still in the
>> original dialog with
>>>>>> A, and so it
>>>>>>>>>>> depends on B if he accepts the 2nd
>> INVITE and the
>>>>>>>> conference can be
>>>>>>>>>>> established.
>>>>>>>>>>>=20
>>>>>>>>>>> At the last 3GPP CT1 meeting the idea of
>> transporting=20
>>>>>>>>>>> dialog identifiers together with the
>> URIs was introduced
>>>>>>>>>>> to
>>>>>> solve this
>>>>>>>>>>> problem. Basing on the idea that the
>> procedures at
>>>>>> the conference
>>>>>>>>>>> server are extended in that way, that
>> the conference
>>>>>>>> server is aware
>>>>>>>>>>> of already established dialogs, the
>> focus then has the
>>>>>>>>>>>=20
>>>>>>>>>> possibility to
>>>>>>>>>>=20
>>>>>>>>>>> send re-INVITES in the indicated dialogs
>> and connect the
>>>>>>>> media from
>>>>>>>>>>> the invited users to the conference
>> bridge.
>>>>>>>>>>> In the URI list the dialogs can be
>> indicated using the
>>>>>>>> "?" mechanism
>>>>>>>>>>> according to subclause 19.1.1 of RFC
>> 3261.
>>>>>>>>>>>=20
>>>>>>>>>>> Following example shows the proposed
>> mechanism:
>>>>>>>>>>>=20
>>>>>>>>>>> INVITE Conference
>>>>>>>>>>> To: Conference
>>>>>>>>>>> From: A
>>>>>>>>>>> Require: recipient-list-invite
>>>>>>>>>>>=20
>>>>>>>>>>> Content-Type:
>> application/resource-lists+xml
>>>>>>>>>>> Content-Disposition: recipient-list
>>>>>>>>>>>=20
>>>>>>>>>>> <?xml version=3D"1.0" encoding=3D"UTF-8"?>
>> <resource-lists=20
>>>>>>>>>>> xmlns=3D"urn:ietf:params:xml:ns:resource-
>>> lists"
>>>>>>>>>>>=20
>> xmlns:cp=3D"urn:ietf:params:xml:ns:copyControl">
>>>>>>>>>>>   <list>
>>>>>>>>>>>    <entry
>> uri=3D"B?Call-ID=3D1&From=3DA%3Btag%3Da&To=3DB%3Btag%3Db"
>>>>>>>>>>> cp:copyControl=3D"to"/>
>>>>>>>>>>>    <entry
>> uri=3D"C?Call-ID=3D2&From=3DA%3Btag%3Da&To=3DC%3btag%3Dc"
>>>>>>>>>>> cp:copyControl=3D"to"/>
>>>>>>>>>>>   </list>
>>>>>>>>>>>  </resource-lists>
>>>>>>>>>>>=20
>>>>>>>>>>> Greetings,
>>>>>>>>>>> Denis Alexeitsev
>>>>>>>>>>>=20
>>>>>>>>>>>=20
>>>>>>>>>>>=20
>> _______________________________________________
>>>>>>>>>>> Sip mailing list
>>>>>>>>>>>=20
>> https://www1.ietf.org/mailman/listinfo/sip
>>>>>>>>>>> This list is for NEW development of the
>> core SIP=20
>>>>>>>>>>> Protocol Use
>> sip-implementors@cs.columbia.edu for
>>>>>>>>>>> questions on
>>>>>> current sip
>>>>>>>>>>> Use sipping@ietf.org for new
>> developments on the
>>>>>>>> application of sip
>>>>>>>>>>>=20
>>>>>>>>>>=20
>>>>>>>>>>=20
>> _______________________________________________
>>>>>>>>>> Sip mailing list
>>>>>>>>>>=20
>> https://www1.ietf.org/mailman/listinfo/sip
>>>>>>>>>> This list is for NEW development of the
>> core SIP Protocol
>>>>>>>>>> Use sip-implementors@cs.columbia.edu for
>> questions on
>>>>>> current sip
>>>>>>>>>> Use sipping@ietf.org for new developments
>> on the
>>>>>> application of sip
>>>>>>>>>>=20
>>>>>>>>>>=20
>>>>>>>>>=20
>>>>>>>>>=20
>>>>>>>>=20
>>>>>>>=20
>>>>>>>=20
>>>>>>>=20
>> _______________________________________________
>>>>>>> Sip mailing list
>> https://www1.ietf.org/mailman/listinfo/sip
>>>>>>> This list is for NEW development of the core
>> SIP Protocol Use
>>>>>>> sip-implementors@cs.columbia.edu for questions
>> on current sip=20
>>>>>>> Use sipping@ietf.org for new developments on
>> the application=20
>>>>>>> of
>>> sip
>>>>>>=20
>>>>=20
>>>>=20
>>>> _______________________________________________
>>>> Sip mailing list
>> https://www1.ietf.org/mailman/listinfo/sip
>>>> This list is for NEW development of the core SIP
>> Protocol Use=20
>>>> sip-implementors@cs.columbia.edu for questions on
>> current sip Use=20
>>>> sipping@ietf.org for new developments on the
>> application of sip
>>>>=20
>>=20
>>=20
>> _______________________________________________
>> Sip mailing list
>> https://www1.ietf.org/mailman/listinfo/sip
>> This list is for NEW development of the core SIP
>> Protocol Use sip-implementors@cs.columbia.edu for
>> questions on current sip Use sipping@ietf.org for new
>> developments on the application of sip
>>=20
>>=20
>>=20
>>=20
>> _______________________________________________
>> Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
>> This list is for NEW development of the core SIP Protocol
>> Use sip-implementors@cs.columbia.edu for questions on current sip
>> Use sipping@ietf.org for new developments on the application of sip
>>=20
>=20
>=20
> _______________________________________________
> Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip


Notice:  This email message, together with any attachments, may contain inf=
ormation  of  BEA Systems,  Inc.,  its subsidiaries  and  affiliated entiti=
es,  that may be confidential,  proprietary,  copyrighted  and/or legally p=
rivileged, and is intended solely for the use of the individual or entity n=
amed in this message. If you are not the intended recipient, and have recei=
ved this message in error, please immediately return this by email and then=
 delete it.


_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip





From sip-bounces@ietf.org Tue Sep 04 17:41:10 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1ISg7F-0005W0-2l; Tue, 04 Sep 2007 17:39:21 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1ISg7D-0005QG-Us
	for sip-confirm+ok@megatron.ietf.org; Tue, 04 Sep 2007 17:39:19 -0400
Received: from [10.90.34.44] (helo=chiedprmail1.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1ISg7D-0005Pw-Ih
	for sip@ietf.org; Tue, 04 Sep 2007 17:39:19 -0400
Received: from rtp-iport-2.cisco.com ([64.102.122.149])
	by chiedprmail1.ietf.org with esmtp (Exim 4.43) id 1ISg7C-0006Ey-Hg
	for sip@ietf.org; Tue, 04 Sep 2007 17:39:19 -0400
Received: from rtp-dkim-1.cisco.com ([64.102.121.158])
	by rtp-iport-2.cisco.com with ESMTP; 04 Sep 2007 17:39:19 -0400
X-IronPort-AV: i="4.20,208,1186372800"; 
	d="scan'208"; a="130924287:sNHT74340944"
Received: from rtp-core-2.cisco.com (rtp-core-2.cisco.com [64.102.124.13])
	by rtp-dkim-1.cisco.com (8.12.11/8.12.11) with ESMTP id l84LdIuZ021001; 
	Tue, 4 Sep 2007 17:39:18 -0400
Received: from xbh-rtp-211.amer.cisco.com (xbh-rtp-211.cisco.com
	[64.102.31.102])
	by rtp-core-2.cisco.com (8.12.10/8.12.6) with ESMTP id l84LcxKp017258; 
	Tue, 4 Sep 2007 21:39:13 GMT
Received: from xfe-rtp-202.amer.cisco.com ([64.102.31.21]) by
	xbh-rtp-211.amer.cisco.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Tue, 4 Sep 2007 17:39:11 -0400
Received: from [161.44.174.118] ([161.44.174.118]) by
	xfe-rtp-202.amer.cisco.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Tue, 4 Sep 2007 17:39:11 -0400
Message-ID: <46DDD081.9030900@cisco.com>
Date: Tue, 04 Sep 2007 17:39:13 -0400
From: Paul Kyzivat <pkyzivat@cisco.com>
User-Agent: Thunderbird 2.0.0.6 (Windows/20070728)
MIME-Version: 1.0
To: Eric Burger <eburger@bea.com>
Subject: Re: [Sip] New revision of draft-ietf-sip-body-handling-00.txt
References: <C302EA4F.A82D%eburger@bea.com>
In-Reply-To: <C302EA4F.A82D%eburger@bea.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-OriginalArrivalTime: 04 Sep 2007 21:39:11.0411 (UTC)
	FILETIME=[07F7E030:01C7EF3C]
DKIM-Signature: v=0.5; a=rsa-sha256; q=dns/txt; l=9488; t=1188941958;
	x=1189805958; c=relaxed/simple; s=rtpdkim1001;
	h=Content-Type:From:Subject:Content-Transfer-Encoding:MIME-Version;
	d=cisco.com; i=pkyzivat@cisco.com;
	z=From:=20Paul=20Kyzivat=20<pkyzivat@cisco.com>
	|Subject:=20Re=3A=20[Sip]=20New=20revision=20of=20draft-ietf-sip-body-han
	dling-00.txt |Sender:=20
	|To:=20Eric=20Burger=20<eburger@bea.com>;
	bh=Iz7JE89S/pxI7YDkp6dQTi9K/FT15ZMIMW9RvcCv/4M=;
	b=Lnx4w2MnCCaXWsWWYVDRIWCGLSW2Rj///nI85G/rG6cDsE0cq+20sw9JsluXWFCajUdA0oAT
	ZyJUjxJBQ6umfkcSZxoMJX0DaMFX7c9+m/LVP0qwq1HtStOJAVrmT0Tt;
Authentication-Results: rtp-dkim-1; header.From=pkyzivat@cisco.com; dkim=pass (
	sig from cisco.com/rtpdkim1001 verified; ); 
X-Spam-Score: 0.0 (/)
X-Scan-Signature: 97c820c82c68af374c4e382a80dc5017
Cc: sip <sip@ietf.org>, Gonzalo Camarillo <Gonzalo.Camarillo@ericsson.com>
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org



Eric Burger wrote:
> I agree 100% with Paul.  However, one thing I would like to hear opinions on
> is the following:
> 
> Do we way body parts are always processed, no matter what?
> 
> It would be convenient to say body parts get processed as needed.  If there
> is a related part that never gets referenced, then a conforming processor
> might not process that part, as an optimization.

This gets into semantics...

For one thing, I guess we should talk about "handling" rather than 
"processing" - this is tied to the C-D "handling=" parameter.

But the key thing is what does it *mean* to say you have handled 
something? Its one thing to understand the meaning of the type and 
disposition. What you actually *do* once that is understood is something 
else entirely.

I would expect that somewhere there would be a normative specification 
for each C-D of what it means to *handle* body parts with that 
disposition. This is where we get into trouble with "render", where we 
need a different definition for SIP than is used for email.

I presume that if we had such normative definitions, then that would 
determine what sort of optimizations, such as lazy processing, are allowed.

For example, 3261 defines (barely) the C-D "alert". It says this 
"should" (lower case) be rendered. Together with some words elsewhere 
about Alert-Info that warn of security issues, its seems clear that the 
UA is given discretion about actually rendering this. (But it is not a 
stellar example of clarity.) I would interpret this to mean that you can 
consider the "alert" body part to have been "handled" if you have indeed 
understood it and then *either* rendered it or made an explicit not to 
render it.

> However, one thing we need to be mindful of are side effects.  MIME body
> parts can make external references.  Those external references (to
> http/https URI's) may hit application servers.  Those application servers
> may do something based on the receipt of the URI.  It could be as simple as
> recording the fact the body part was read (like a web beacon), or it could
> be as complex as changing application state.

We have similar issues with headers that contain URL references, that 
might or might not be resolved. E.g. Call-Info.

Again, I don't see any general answer better than the specification of 
the particular header or C-D.

Based on this discussion I am beginning to conclude that we might as 
well treat each body part almost as if it were a header whose name is 
its C-D.

> What do people think of this?  Do we say that SIP engines are opportunistic,
> and the side effect MUST happen if the body gets used, buy the side effect
> MAY happen if the body does not get used?  That would be my vote, as the
> alternative, that all side effects (external references get resolved) happen
> puts a pretty big burden on User Agents.

This is further complicated by intermediate nodes. They are *permitted* 
to look at body parts. If, as a result, an intermediate node 
dereferences a reference within a body part, you will potentially have 
another side effect.

I also agree that we should give the UA latitude in what processing it 
does. For example, even though a request has a geopriv header with a 
body part containing location data, and has specified 
"handling=required", the UAS may have no use for the location. If it 
doesn't intend to use it then why should it process it?

	Paul

> On 8/29/07 8:57 AM, "Paul Kyzivat" <pkyzivat@cisco.com> wrote:
> 
>> To clarify futher my last point below...
>>
>> What I am saying is that IMO body parts must always be processed
>> according to their type and disposition, whether there are references to
>> them or not. If there is a reference, and it is understood, then it can
>> modify or supplement the processing, but if the reference is not
>> recognized or understood then the other processing still occurs.
>>
>> If we want to support the possibility of a reference to a body part,
>> where there is to be no processing of the body part when the reference
>> is not understood, then we need a content-disposition that says "don't
>> do anything with this unless you process a reference to it."
>>
>> An alternative is to simply assume there are no such cases, and warn
>> people that use references to select a C-D for the referenced part that
>> will have an appropriate result if the reference is not understood.
>>
>> For instance, we have both the Alert-Info header and the "alert" C-D. If
>> you use an A-I with a CID reference, then you can use "alert" as the C-D
>> of that part. In that case, the A-I header is redundant unless it
>> contains something that modifies the processing.
>>
>> An example where the problem I am concerned about may exist is in
>> draft-ietf-sip-location-conveyance-08. It has an example of a
>> Geolocation header referencing a body part. There is no C-D header in
>> the example, so by default it is "render;handling=required". And its C-T
>> is application/pidf+xml. If a recipient of this message didn't
>> understand the Geolocation header it would reach the conclusion that it
>> should render the pidf. Its debatable whether that is the desired
>> conclusion - I think not. IMO the intent is that if the Geolocation
>> header isn't processed then the pidf should be ignored. So, IMO this
>> body part ought to contain:
>>     Content-Disposition: by-reference;handling=optional
>>
>> (I don't care what name we use for the disposition, just that we have one.)
>>
>> Thanks,
>> Paul
>>
>> Paul Kyzivat wrote:
>>> Gonzalo,
>>>
>>> Obviously we allow a "forward" reference from the sip message itself
>>> (which from a mime perspective are just a bunch of mime headers.)
>>>
>>> I think that establishes a precedent that needs to be continued. An
>>> example of why can be seen in sipfrag:
>>>
>>> If we had a valid sip response that had a reference into one of its body
>>> parts, then if that was turned into a sipfrag and stuffed into the body
>>> of a NOTIFY, then it must still be valid.
>>>
>>> I just did a quick scan of the new draft, so the following is a
>>> tentative comment, until I can read it more carefully:
>>>
>>> I think the draft is now saying that the decision about whether to
>>> process a body part according to a reference to it, or process
>>> independently, is decided based on whether a reference is found. We had
>>> this discussion before, and I think we agreed that wouldn't work well,
>>> and that instead we would have a special C-D type for body parts that
>>> are disposed of based on a reference.
>>>
>>> I don't think the introduction of issues related to multipart/related
>>> changes this. The obvious cases are when there is a single
>>> multipart/mixed containing some body parts. Some of those may be
>>> referenced from CID URIs in sip headers, and others (e.g. SDP) may stand
>>> on their own. It is entirely possible that a body part might be
>>> referenced from some extension header that the recipient doesn't
>>> understand. In that case it may erroneously decide to process the body
>>> part on its own, when it should instead have ignored it because the
>>> header isn't being processed.
>>>
>>>     Thanks,
>>>     Paul
>>>
>>> Gonzalo Camarillo wrote:
>>>> Folks,
>>>>
>>>> I have just submitted a new revision of the body handling draft. Until
>>>> it appears on the archives, you can fetch it from:
>>>>
>>>> http://users.piuha.net/gonzalo/temp/draft-ietf-sip-body-handling-00.txt
>>>>
>>>> Per our discussions in Chicago, the draft now states that only body
>>>> parts within the same 'multipart/related' can reference each other
>>>> using cid URIs.
>>>>
>>>> If this is too restrictive, we could also allow using forward
>>>> references in any context (with no 'multipart/related' at all).
>>>>
>>>> Comments?
>>>>
>>>> Thanks,
>>>>
>>>> Gonzalo
>>>>
>>>>
>>>>
>>>> _______________________________________________
>>>> Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
>>>> This list is for NEW development of the core SIP Protocol
>>>> Use sip-implementors@cs.columbia.edu for questions on current sip
>>>> Use sipping@ietf.org for new developments on the application of sip
>>>>
>>>
>>> _______________________________________________
>>> Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
>>> This list is for NEW development of the core SIP Protocol
>>> Use sip-implementors@cs.columbia.edu for questions on current sip
>>> Use sipping@ietf.org for new developments on the application of sip
>>>
>>
>> _______________________________________________
>> Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
>> This list is for NEW development of the core SIP Protocol
>> Use sip-implementors@cs.columbia.edu for questions on current sip
>> Use sipping@ietf.org for new developments on the application of sip
> 
> 
> Notice:  This email message, together with any attachments, may contain information  of  BEA Systems,  Inc.,  its subsidiaries  and  affiliated entities,  that may be confidential,  proprietary,  copyrighted  and/or legally privileged, and is intended solely for the use of the individual or entity named in this message. If you are not the intended recipient, and have received this message in error, please immediately return this by email and then delete it.
> 


_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Tue Sep 04 20:32:06 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1ISimX-0005aA-IX; Tue, 04 Sep 2007 20:30:09 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1ISimW-0005WA-Ac
	for sip-confirm+ok@megatron.ietf.org; Tue, 04 Sep 2007 20:30:08 -0400
Received: from [10.91.34.44] (helo=ietf-mx.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1ISimW-0005Vf-0Y
	for sip@ietf.org; Tue, 04 Sep 2007 20:30:08 -0400
Received: from zcars04e.nortel.com ([47.129.242.56])
	by ietf-mx.ietf.org with esmtp (Exim 4.43) id 1ISimU-0001Vy-PY
	for sip@ietf.org; Tue, 04 Sep 2007 20:30:07 -0400
Received: from zrc2hxm0.corp.nortel.com (zrc2hxm0.corp.nortel.com
	[47.103.123.71])
	by zcars04e.nortel.com (Switch-2.2.0/Switch-2.2.0) with ESMTP id
	l850RpR05648; Wed, 5 Sep 2007 00:27:51 GMT
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: [Sip] INFO
Date: Tue, 4 Sep 2007 19:30:01 -0500
Message-ID: <1ECE0EB50388174790F9694F77522CCF11DF8FEF@zrc2hxm0.corp.nortel.com>
In-Reply-To: <C3030CC0.A821%eburger@bea.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] INFO
Thread-Index: AcfkO3T4s2cG+lAuEdy/WQAWy4mm/wHUBx+wAOMs5UkADqmUsA==
References: <006e01c7eb91$9290b1d0$6401a8c0@acmepacket.com>
	<C3030CC0.A821%eburger@bea.com>
From: "Francois Audet" <audet@nortel.com>
To: "Eric Burger" <eburger@bea.com>, "Hadriel Kaplan" <HKaplan@acmepacket.com>
X-Spam-Score: 0.0 (/)
X-Scan-Signature: 2a76bcd37b1c8a21336eb0a1ea6bbf48
Cc: sip <sip@ietf.org>
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

Well, that's because you use the worst-case for INFO, and the best case
for=20
KPML. Namely:

- Your example uses 1 message per digit for INFO. There is nothing that
  prevents you from sending *69 in one INFO message.

- Your example also uses the pattern mapping feature of KPML to
"optimize"
  the number of message.

My best guess is that in common deployment, what people are likely to
use is:

- INFO with 1 digit per message (as per your example)

- KPML with reporting of every digit pressed (unlike your example)

So in this case INFO actually wins in all cases.

Now, don't get me wrong: I'm not advocating the use of INFO for digit
mapping. I just
think this analysis is more theoretical than real.

And I'm quite unconvinced that digit pressing is a big factor in=20
"computing power requirement" for the servers providing those services.

In short, I don't think "efficiency" is the main factor here.

> -----Original Message-----
> From: Eric Burger [mailto:eburger@bea.com]=20
> Sent: Tuesday, September 04, 2007 13:23
> To: Hadriel Kaplan
> Cc: sip
> Subject: Re: [Sip] INFO
>=20
> I have not checked, but I think IEEE journal papers run about=20
> US $5.  You can get a monthly subscription that makes the=20
> rate way lower.  Your company probably has a corporate=20
> subscription, or someone there most likely has an IEEE=20
> Digital Library subscription, so again, the papers should be paid for.
>=20
> Since the IEEE has a serious self-plagiarism policy, here is=20
> a *different* way for seeing how KPML wins.
>=20
> The vast bulk of a SIP message in a non-trivial network=20
> (i.e., with one or more proxies) is the routing information=20
> (URI's, Via's, Route's, etc.).
> Sure, a Zebarth INFO (the absolute smallest encoding for a=20
> DTMF digit) of 2 bytes is much smaller than a KPML NOTIFY,=20
> which can easily be 70 bytes.
> However, when you have 1000 bytes of headers, 1002 and 1070=20
> are pretty much the same.
>=20
> Given that, let us look at the counts.
>=20
> KPML:
> SUBSCRIBE (SIP Message)
> Immediate NOTIFY (SIP Message)
> Digit NOTIFY's...
>=20
> DTMF:
> Digit INFO's...
>=20
> What does this mean?  It means that if you are on a shared=20
> media network (wireless or 5BaseT), where each direction=20
> counts, we have:
>=20
>                DTMF          KPML
> # digits    # packets     # packets
>     1            1            3
>     2            2            3
>     3            3            3       Common Star Codes (e.g., *69)
>     4            4            3       Common PINs
>     5            5            3
>     6            6            3       Also common PINs
>     7            7            3
>     8            8            3
>     9            9            3
>    10           10            3       Common Supplementary=20
> Phone Number
>    11           11            3       Common Supplementary=20
> Phone Number
>=20
> One can quibble as to whether the cross over is at 3 or 4=20
> digits, since KPML packets are slightly larger than INFO=20
> packets.  However, at 3 digits the argument goes in favor of=20
> a mechanism with negotiation, content security, dialog=20
> security, works for HERFP, etc., etc.
>=20
> At 4 digits, KPML unquestionably uses less bandwidth.
>=20
> Of course, the numbers are even better for KPML on non-shared=20
> media networks.
>=20
>=20
> On 8/31/07 1:41 AM, "Hadriel Kaplan" <HKaplan@acmepacket.com> wrote:
>=20
> > Hey Eric,
> > I read the draft and was especially interested in the claim=20
> that KPML=20
> > consumed less bandwidth than INFO for DTMF.  You cite an=20
> IEEE paper,=20
> > but I don't think that's freely available.  Can you=20
> summarize how you=20
> > came to such a conclusion?  When I do the numbers, KPML=20
> often loses...=20
> > in some scenarios by a LOT.  And it's not even just the extra=20
> > bandwidth/messages, but also the state and processing horsepower. =20
> > There is one scenario where KPML wins, for some SIP boxes=20
> but not others.
> > Although that could all be because I either don't correctly=20
> understand=20
> > the actual way KPML would be used, or because the use cases I am=20
> > concerned with are not the same as those in your paper's analysis.
> >=20
> > -hadriel
> >=20
> >=20
> >> -----Original Message-----
> >> From: Eric Burger [mailto:eburger@bea.com]
> >> Sent: Tuesday, August 21, 2007 5:37 PM
> >> To: 'sip'
> >> Subject: [Sip] INFO
> >>=20
> >> Since list traffic is down, how about something to spice things up?
> >>=20
> >>=20
> >> Any thoughts on
> >>=20
> >> http://www.ietf.org/internet-drafts/draft-burger-sip-info-01.txt
> >>=20
> >> ???
> >>=20
> >> If you like it, say so.  If you hate it, say so.
> >>=20
> >> Text welcome.
> >>=20
> >>=20
> >> Notice:  This email message, together with any attachments, may=20
> >> contain information  of  BEA Systems,  Inc.,  its=20
> subsidiaries  and =20
> >> affiliated entities,  that may be confidential,  proprietary, =20
> >> copyrighted  and/or legally privileged, and is intended solely for=20
> >> the use of the individual or entity named in this message.=20
> If you are=20
> >> not the intended recipient, and have received this message=20
> in error,=20
> >> please immediately return this by email and then delete it.
> >>=20
> >>=20
> >> _______________________________________________
> >> Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
> >> This list is for NEW development of the core SIP Protocol Use=20
> >> sip-implementors@cs.columbia.edu for questions on current sip Use=20
> >> sipping@ietf.org for new developments on the application of sip
> >=20
> >=20
>=20
>=20
>=20
> Notice:  This email message, together with any attachments,=20
> may contain information  of  BEA Systems,  Inc.,  its=20
> subsidiaries  and  affiliated entities,  that may be=20
> confidential,  proprietary,  copyrighted  and/or legally=20
> privileged, and is intended solely for the use of the=20
> individual or entity named in this message. If you are not=20
> the intended recipient, and have received this message in=20
> error, please immediately return this by email and then delete it.
>=20
>=20
> _______________________________________________
> Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol Use=20
> sip-implementors@cs.columbia.edu for questions on current sip=20
> Use sipping@ietf.org for new developments on the application of sip
>=20


_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Wed Sep 05 01:20:26 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1ISnGa-0005Fa-7D; Wed, 05 Sep 2007 01:17:28 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1ISnGY-0005De-EJ
	for sip-confirm+ok@megatron.ietf.org; Wed, 05 Sep 2007 01:17:26 -0400
Received: from [10.90.34.44] (helo=chiedprmail1.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1ISnGX-0005DW-WE
	for sip@ietf.org; Wed, 05 Sep 2007 01:17:26 -0400
Received: from repmmg02.bea.com ([66.248.192.39])
	by chiedprmail1.ietf.org with esmtp (Exim 4.43) id 1ISnGW-0008Fx-Kj
	for sip@ietf.org; Wed, 05 Sep 2007 01:17:25 -0400
Received: from repmmr01.bea.com (repmmr01.bea.com [10.160.29.71])
	by repmmg02.bea.com (Switch-3.2.7/Switch-3.2.7) with ESMTP id
	l855HKfD014027; Tue, 4 Sep 2007 22:17:20 -0700
Received: from repbex01.amer.bea.com (repbex01.bea.com [10.160.26.98])
	by repmmr01.bea.com (Switch-3.2.7/Switch-3.2.7) with ESMTP id
	l855HJeV031564; Tue, 4 Sep 2007 22:17:19 -0700
Received: from 172.24.28.119 ([172.24.28.119]) by repbex01.amer.bea.com
	([10.160.26.98]) with Microsoft Exchange Server HTTP-DAV ; 
	Wed,  5 Sep 2007 05:17:19 +0000
User-Agent: Microsoft-Entourage/11.3.6.070618
Date: Tue, 04 Sep 2007 22:17:17 -0700
Subject: Re: [Sip] INFO
From: Eric Burger <eburger@bea.com>
To: Francois Audet <audet@nortel.com>
Message-ID: <C30389ED.A8BE%eburger@bea.com>
Thread-Topic: [Sip] INFO
Thread-Index: AcfkO3T4s2cG+lAuEdy/WQAWy4mm/wHUBx+wAOMs5UkADqmUsAAKRtNu
In-Reply-To: <1ECE0EB50388174790F9694F77522CCF11DF8FEF@zrc2hxm0.corp.nortel.com>
Mime-version: 1.0
Content-type: text/plain; charset=US-ASCII
Content-transfer-encoding: 7bit
x-BEA-PMX-Instructions: AV
x-BEA-MM: Internal-To-External
X-Spam-Score: 0.0 (/)
X-Scan-Signature: 311e798ce51dbeacf5cdfcc8e9fda21b
Cc: sip <sip@ietf.org>
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

I would offer this is "apples-to-apples":

If INFO is buffering digits, you have to tell it to, e.g., register a digit
map.  In that case, INFO loses a packet round-trip, KPML is all of one extra
round trip.  Small price to pay for interoperability.

If one uses the pattern <regex>.</regex>, then KPML is all of two extra
round trips.  I agree, that could be "bad" if you have a VERY large volume
of instances where one is polling for a single digit.  However, if you do
not have a large volume of instances of a single digit, the overhead is
insignificant.  On the contrary, if you have any decent number of digits
being collected one-by-one, then I would offer the two subscription
round-trips get swamped by the number of digit reports, and the fact a KPML
digit report is 7% larger than the most ideal INFO message (which, by the
way, I don't think anyone has implemented), that is noise, as well.


On 9/4/07 5:30 PM, "Francois Audet" <audet@nortel.com> wrote:

> Well, that's because you use the worst-case for INFO, and the best case
> for
> KPML. Namely:
> 
> - Your example uses 1 message per digit for INFO. There is nothing that
>   prevents you from sending *69 in one INFO message.
> 
> - Your example also uses the pattern mapping feature of KPML to
> "optimize"
>   the number of message.
> 
> My best guess is that in common deployment, what people are likely to
> use is:
> 
> - INFO with 1 digit per message (as per your example)
> 
> - KPML with reporting of every digit pressed (unlike your example)
> 
> So in this case INFO actually wins in all cases.
> 
> Now, don't get me wrong: I'm not advocating the use of INFO for digit
> mapping. I just
> think this analysis is more theoretical than real.
> 
> And I'm quite unconvinced that digit pressing is a big factor in
> "computing power requirement" for the servers providing those services.
> 
> In short, I don't think "efficiency" is the main factor here.
> 
>> -----Original Message-----
>> From: Eric Burger [mailto:eburger@bea.com]
>> Sent: Tuesday, September 04, 2007 13:23
>> To: Hadriel Kaplan
>> Cc: sip
>> Subject: Re: [Sip] INFO
>> 
>> I have not checked, but I think IEEE journal papers run about
>> US $5.  You can get a monthly subscription that makes the
>> rate way lower.  Your company probably has a corporate
>> subscription, or someone there most likely has an IEEE
>> Digital Library subscription, so again, the papers should be paid for.
>> 
>> Since the IEEE has a serious self-plagiarism policy, here is
>> a *different* way for seeing how KPML wins.
>> 
>> The vast bulk of a SIP message in a non-trivial network
>> (i.e., with one or more proxies) is the routing information
>> (URI's, Via's, Route's, etc.).
>> Sure, a Zebarth INFO (the absolute smallest encoding for a
>> DTMF digit) of 2 bytes is much smaller than a KPML NOTIFY,
>> which can easily be 70 bytes.
>> However, when you have 1000 bytes of headers, 1002 and 1070
>> are pretty much the same.
>> 
>> Given that, let us look at the counts.
>> 
>> KPML:
>> SUBSCRIBE (SIP Message)
>> Immediate NOTIFY (SIP Message)
>> Digit NOTIFY's...
>> 
>> DTMF:
>> Digit INFO's...
>> 
>> What does this mean?  It means that if you are on a shared
>> media network (wireless or 5BaseT), where each direction
>> counts, we have:
>> 
>>                DTMF          KPML
>> # digits    # packets     # packets
>>     1            1            3
>>     2            2            3
>>     3            3            3       Common Star Codes (e.g., *69)
>>     4            4            3       Common PINs
>>     5            5            3
>>     6            6            3       Also common PINs
>>     7            7            3
>>     8            8            3
>>     9            9            3
>>    10           10            3       Common Supplementary
>> Phone Number
>>    11           11            3       Common Supplementary
>> Phone Number
>> 
>> One can quibble as to whether the cross over is at 3 or 4
>> digits, since KPML packets are slightly larger than INFO
>> packets.  However, at 3 digits the argument goes in favor of
>> a mechanism with negotiation, content security, dialog
>> security, works for HERFP, etc., etc.
>> 
>> At 4 digits, KPML unquestionably uses less bandwidth.
>> 
>> Of course, the numbers are even better for KPML on non-shared
>> media networks.
>> 
>> 
>> On 8/31/07 1:41 AM, "Hadriel Kaplan" <HKaplan@acmepacket.com> wrote:
>> 
>>> Hey Eric,
>>> I read the draft and was especially interested in the claim
>> that KPML
>>> consumed less bandwidth than INFO for DTMF.  You cite an
>> IEEE paper,
>>> but I don't think that's freely available.  Can you
>> summarize how you
>>> came to such a conclusion?  When I do the numbers, KPML
>> often loses...
>>> in some scenarios by a LOT.  And it's not even just the extra
>>> bandwidth/messages, but also the state and processing horsepower.
>>> There is one scenario where KPML wins, for some SIP boxes
>> but not others.
>>> Although that could all be because I either don't correctly
>> understand
>>> the actual way KPML would be used, or because the use cases I am
>>> concerned with are not the same as those in your paper's analysis.
>>> 
>>> -hadriel
>>> 
>>> 
>>>> -----Original Message-----
>>>> From: Eric Burger [mailto:eburger@bea.com]
>>>> Sent: Tuesday, August 21, 2007 5:37 PM
>>>> To: 'sip'
>>>> Subject: [Sip] INFO
>>>> 
>>>> Since list traffic is down, how about something to spice things up?
>>>> 
>>>> 
>>>> Any thoughts on
>>>> 
>>>> http://www.ietf.org/internet-drafts/draft-burger-sip-info-01.txt
>>>> 
>>>> ???
>>>> 
>>>> If you like it, say so.  If you hate it, say so.
>>>> 
>>>> Text welcome.
>>>> 
>>>> 
>>>> Notice:  This email message, together with any attachments, may
>>>> contain information  of  BEA Systems,  Inc.,  its
>> subsidiaries  and
>>>> affiliated entities,  that may be confidential,  proprietary,
>>>> copyrighted  and/or legally privileged, and is intended solely for
>>>> the use of the individual or entity named in this message.
>> If you are
>>>> not the intended recipient, and have received this message
>> in error,
>>>> please immediately return this by email and then delete it.
>>>> 
>>>> 
>>>> _______________________________________________
>>>> Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
>>>> This list is for NEW development of the core SIP Protocol Use
>>>> sip-implementors@cs.columbia.edu for questions on current sip Use
>>>> sipping@ietf.org for new developments on the application of sip
>>> 
>>> 
>> 
>> 
>> 
>> Notice:  This email message, together with any attachments,
>> may contain information  of  BEA Systems,  Inc.,  its
>> subsidiaries  and  affiliated entities,  that may be
>> confidential,  proprietary,  copyrighted  and/or legally
>> privileged, and is intended solely for the use of the
>> individual or entity named in this message. If you are not
>> the intended recipient, and have received this message in
>> error, please immediately return this by email and then delete it.
>> 
>> 
>> _______________________________________________
>> Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
>> This list is for NEW development of the core SIP Protocol Use
>> sip-implementors@cs.columbia.edu for questions on current sip
>> Use sipping@ietf.org for new developments on the application of sip
>> 
> 



Notice:  This email message, together with any attachments, may contain information  of  BEA Systems,  Inc.,  its subsidiaries  and  affiliated entities,  that may be confidential,  proprietary,  copyrighted  and/or legally privileged, and is intended solely for the use of the individual or entity named in this message. If you are not the intended recipient, and have received this message in error, please immediately return this by email and then delete it.


_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Wed Sep 05 03:38:10 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1ISpQ4-0002mH-Oc; Wed, 05 Sep 2007 03:35:24 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1ISpQ3-0002m8-Mg
	for sip-confirm+ok@megatron.ietf.org; Wed, 05 Sep 2007 03:35:23 -0400
Received: from [10.90.34.44] (helo=chiedprmail1.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1ISpQ3-0002m0-9l; Wed, 05 Sep 2007 03:35:23 -0400
Received: from mailgw3.ericsson.se ([193.180.251.60])
	by chiedprmail1.ietf.org with esmtp (Exim 4.43)
	id 1ISpQ2-0003Xq-Na; Wed, 05 Sep 2007 03:35:23 -0400
Received: from mailgw3.ericsson.se (unknown [127.0.0.1])
	by mailgw3.ericsson.se (Symantec Mail Security) with ESMTP id
	85AB520AB3; Wed,  5 Sep 2007 09:35:21 +0200 (CEST)
X-AuditID: c1b4fb3c-b0e80bb0000007e1-b0-46de5c39c29d
Received: from esealmw128.eemea.ericsson.se (unknown [153.88.254.121])
	by mailgw3.ericsson.se (Symantec Mail Security) with ESMTP id
	702CB209DF; Wed,  5 Sep 2007 09:35:21 +0200 (CEST)
Received: from esealmw113.eemea.ericsson.se ([153.88.200.4]) by
	esealmw128.eemea.ericsson.se with Microsoft SMTPSVC(6.0.3790.1830); 
	Wed, 5 Sep 2007 09:35:21 +0200
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: [Ecrit] Re: [Sip] draft-rosenberg-sip-ua-loose-route-01.txt
Date: Wed, 5 Sep 2007 09:35:20 +0200
Message-ID: <CA9998CD4A020D418654FCDEF4E707DF014643A7@esealmw113.eemea.ericsson.se>
In-Reply-To: <46DD5F9F.1040409@gmx.net>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Ecrit] Re: [Sip] draft-rosenberg-sip-ua-loose-route-01.txt
Thread-Index: Acfu+MYFNqx+nDtWQryzDZUefy5nFgAlUP2g
References: <46CAE441.8080504@gmx.net><46D1C942.7010501@gmx.net><46D264F9.6080101@softarmor.com><46DC67A0.60809@gmx.net><CA9998CD4A020D418654FCDEF4E707DF013FD64F@esealmw113.eemea.ericsson.se><46DD06A4.2080000@gmx.net>
	<CA9998CD4A020D418654FCDEF4E707DF01431EB9@esealmw113.eemea.ericsson.se>
	<5FB585F183235B42A9E70095055136FB0555C4@DEMUEXC012.nsn-intra.net>
	<CA9998CD4A020D418654FCDEF4E707DF014321C3@esealmw113.eemea.ericsson.se>
	<46DD5F9F.1040409@gmx.net>
From: "Christer Holmberg (JO/LMF)" <christer.holmberg@ericsson.com>
To: "Hannes Tschofenig" <Hannes.Tschofenig@gmx.net>
X-OriginalArrivalTime: 05 Sep 2007 07:35:21.0173 (UTC)
	FILETIME=[50686850:01C7EF8F]
X-Brightmail-Tracker: AAAAAA==
X-Spam-Score: 0.0 (/)
X-Scan-Signature: 97adf591118a232206bdb5a27b217034
Cc: IETF SIP List <sip@ietf.org>, ECRIT <ecrit@ietf.org>,
	Dean Willis <dean.willis@softarmor.com>
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org


Hi Hannes,=20

>>>>I guess it would also be possible to put the original service URN
into the P-Called-Party-Id
>>>>header (as for normal calls), eventhough I don't think it's
currently specified.
>>>I am not sure whether this is a good solution.=20
>>Why not?
>I read through
>http://tools.ietf.org/wg/sip/draft-rosenberg-sip-ua-loose-route-01.txt
>and I got the impression that Jonathan has encountered a=20
>generic problem and the description he provided looked=20
>reasonable to me to argue for the Request URI to remains=20
>unchanged end-to-end and not to use other solutions. He=20
>listed two other solutions and the P- header approach does=20
>not look generic to me.

Well, that is what the discussion about the draft pretty much is all
about. I think that the P- header approach works. You can use it without
capability discovery (if the receiver does not support it he will simply
discard it) and it does not have the possible backward compability
issues with the other solution. And, the P- header has been part of IMS
for a long time now (since release 5).

There were been some discussions that the P- header is not "standards
track" etc, and that something would have to be done regarding that if
we want to make it more "generic". But, that should not affect existing
deployments/usages of the header.

Regards,

Christer



_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Wed Sep 05 06:12:39 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1ISrqE-00071j-FO; Wed, 05 Sep 2007 06:10:34 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1ISrqC-00071d-N2
	for sip-confirm+ok@megatron.ietf.org; Wed, 05 Sep 2007 06:10:32 -0400
Received: from [10.91.34.44] (helo=ietf-mx.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1ISrqC-00071V-C7
	for sip@ietf.org; Wed, 05 Sep 2007 06:10:32 -0400
Received: from mailgw3.ericsson.se ([193.180.251.60])
	by ietf-mx.ietf.org with esmtp (Exim 4.43) id 1ISrqA-0006eV-Ob
	for sip@ietf.org; Wed, 05 Sep 2007 06:10:32 -0400
Received: from mailgw3.ericsson.se (unknown [127.0.0.1])
	by mailgw3.ericsson.se (Symantec Mail Security) with ESMTP id
	ED84720729; Wed,  5 Sep 2007 12:10:29 +0200 (CEST)
X-AuditID: c1b4fb3c-b1681bb0000007e1-55-46de80959da2
Received: from esealmw126.eemea.ericsson.se (unknown [153.88.254.123])
	by mailgw3.ericsson.se (Symantec Mail Security) with ESMTP id
	CEF0E20BD4; Wed,  5 Sep 2007 12:10:29 +0200 (CEST)
Received: from esealmw128.eemea.ericsson.se ([153.88.254.172]) by
	esealmw126.eemea.ericsson.se with Microsoft SMTPSVC(6.0.3790.1830); 
	Wed, 5 Sep 2007 12:10:29 +0200
Received: from mail.lmf.ericsson.se ([131.160.11.50]) by
	esealmw128.eemea.ericsson.se with Microsoft SMTPSVC(6.0.3790.1830); 
	Wed, 5 Sep 2007 12:10:28 +0200
Received: from [131.160.36.58] (E000FB0F665DD.lmf.ericsson.se [131.160.36.58])
	by mail.lmf.ericsson.se (Postfix) with ESMTP id 17B362442;
	Wed,  5 Sep 2007 13:10:29 +0300 (EEST)
Message-ID: <46DE8094.8060807@ericsson.com>
Date: Wed, 05 Sep 2007 13:10:28 +0300
From: Gonzalo Camarillo <Gonzalo.Camarillo@ericsson.com>
User-Agent: Thunderbird 2.0.0.6 (Windows/20070728)
MIME-Version: 1.0
To: Paul Kyzivat <pkyzivat@cisco.com>
Subject: Re: [Sip] New revision of draft-ietf-sip-body-handling-00.txt
References: <C302EA4F.A82D%eburger@bea.com> <46DDD081.9030900@cisco.com>
In-Reply-To: <46DDD081.9030900@cisco.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-OriginalArrivalTime: 05 Sep 2007 10:10:29.0088 (UTC)
	FILETIME=[FC5B8600:01C7EFA4]
X-Brightmail-Tracker: AAAAAA==
X-Spam-Score: 0.0 (/)
X-Scan-Signature: 223e3c753032a50d5dc4443c921c3fcd
Cc: sip <sip@ietf.org>
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

Hi,

to be more concrete in our discussions, we need to make decisions on the 
following two issues:

1) Where in a SIP message is it allowed to reference a body part?

a) in header fields and body parts within the same multipart/related as 
the referenced body part
b) in header fields and body parts that appear before the referenced 
body part
c) in header fields and any body part

We discussed that doing c) would require to parse SIP messages twice to 
look for potential references. Therefore, we decided to do a) or b). The 
current draft specifies a), we doing b) might make sense as well (it 
would be less restrictive).


2) If a receiver does not understand a reference to a body part:

a) it should process (handle) it solely based on its disposition type 
(as a fall-back mechanism). If the sender does not want this to happen, 
it can use an option tag.

b) the body part will have a disposition type of "only-by-reference". 
This way, since the receiver did not understand the reference, it knows 
it should not process the body.

The current draft specifies a), but b) would be an interesting 
optimization (no need to use option tags and reissue requests). However, 
we would need to get the opinion of a MIME person on b).

Cheers,

Gonzalo



Paul Kyzivat wrote:
> 
> 
> Eric Burger wrote:
>> I agree 100% with Paul.  However, one thing I would like to hear 
>> opinions on
>> is the following:
>>
>> Do we way body parts are always processed, no matter what?
>>
>> It would be convenient to say body parts get processed as needed.  If 
>> there
>> is a related part that never gets referenced, then a conforming processor
>> might not process that part, as an optimization.
> 
> This gets into semantics...
> 
> For one thing, I guess we should talk about "handling" rather than 
> "processing" - this is tied to the C-D "handling=" parameter.
> 
> But the key thing is what does it *mean* to say you have handled 
> something? Its one thing to understand the meaning of the type and 
> disposition. What you actually *do* once that is understood is something 
> else entirely.
> 
> I would expect that somewhere there would be a normative specification 
> for each C-D of what it means to *handle* body parts with that 
> disposition. This is where we get into trouble with "render", where we 
> need a different definition for SIP than is used for email.
> 
> I presume that if we had such normative definitions, then that would 
> determine what sort of optimizations, such as lazy processing, are allowed.
> 
> For example, 3261 defines (barely) the C-D "alert". It says this 
> "should" (lower case) be rendered. Together with some words elsewhere 
> about Alert-Info that warn of security issues, its seems clear that the 
> UA is given discretion about actually rendering this. (But it is not a 
> stellar example of clarity.) I would interpret this to mean that you can 
> consider the "alert" body part to have been "handled" if you have indeed 
> understood it and then *either* rendered it or made an explicit not to 
> render it.
> 
>> However, one thing we need to be mindful of are side effects.  MIME body
>> parts can make external references.  Those external references (to
>> http/https URI's) may hit application servers.  Those application servers
>> may do something based on the receipt of the URI.  It could be as 
>> simple as
>> recording the fact the body part was read (like a web beacon), or it 
>> could
>> be as complex as changing application state.
> 
> We have similar issues with headers that contain URL references, that 
> might or might not be resolved. E.g. Call-Info.
> 
> Again, I don't see any general answer better than the specification of 
> the particular header or C-D.
> 
> Based on this discussion I am beginning to conclude that we might as 
> well treat each body part almost as if it were a header whose name is 
> its C-D.
> 
>> What do people think of this?  Do we say that SIP engines are 
>> opportunistic,
>> and the side effect MUST happen if the body gets used, buy the side 
>> effect
>> MAY happen if the body does not get used?  That would be my vote, as the
>> alternative, that all side effects (external references get resolved) 
>> happen
>> puts a pretty big burden on User Agents.
> 
> This is further complicated by intermediate nodes. They are *permitted* 
> to look at body parts. If, as a result, an intermediate node 
> dereferences a reference within a body part, you will potentially have 
> another side effect.
> 
> I also agree that we should give the UA latitude in what processing it 
> does. For example, even though a request has a geopriv header with a 
> body part containing location data, and has specified 
> "handling=required", the UAS may have no use for the location. If it 
> doesn't intend to use it then why should it process it?
> 
>     Paul
> 
>> On 8/29/07 8:57 AM, "Paul Kyzivat" <pkyzivat@cisco.com> wrote:
>>
>>> To clarify futher my last point below...
>>>
>>> What I am saying is that IMO body parts must always be processed
>>> according to their type and disposition, whether there are references to
>>> them or not. If there is a reference, and it is understood, then it can
>>> modify or supplement the processing, but if the reference is not
>>> recognized or understood then the other processing still occurs.
>>>
>>> If we want to support the possibility of a reference to a body part,
>>> where there is to be no processing of the body part when the reference
>>> is not understood, then we need a content-disposition that says "don't
>>> do anything with this unless you process a reference to it."
>>>
>>> An alternative is to simply assume there are no such cases, and warn
>>> people that use references to select a C-D for the referenced part that
>>> will have an appropriate result if the reference is not understood.
>>>
>>> For instance, we have both the Alert-Info header and the "alert" C-D. If
>>> you use an A-I with a CID reference, then you can use "alert" as the C-D
>>> of that part. In that case, the A-I header is redundant unless it
>>> contains something that modifies the processing.
>>>
>>> An example where the problem I am concerned about may exist is in
>>> draft-ietf-sip-location-conveyance-08. It has an example of a
>>> Geolocation header referencing a body part. There is no C-D header in
>>> the example, so by default it is "render;handling=required". And its C-T
>>> is application/pidf+xml. If a recipient of this message didn't
>>> understand the Geolocation header it would reach the conclusion that it
>>> should render the pidf. Its debatable whether that is the desired
>>> conclusion - I think not. IMO the intent is that if the Geolocation
>>> header isn't processed then the pidf should be ignored. So, IMO this
>>> body part ought to contain:
>>>     Content-Disposition: by-reference;handling=optional
>>>
>>> (I don't care what name we use for the disposition, just that we have 
>>> one.)
>>>
>>> Thanks,
>>> Paul
>>>
>>> Paul Kyzivat wrote:
>>>> Gonzalo,
>>>>
>>>> Obviously we allow a "forward" reference from the sip message itself
>>>> (which from a mime perspective are just a bunch of mime headers.)
>>>>
>>>> I think that establishes a precedent that needs to be continued. An
>>>> example of why can be seen in sipfrag:
>>>>
>>>> If we had a valid sip response that had a reference into one of its 
>>>> body
>>>> parts, then if that was turned into a sipfrag and stuffed into the body
>>>> of a NOTIFY, then it must still be valid.
>>>>
>>>> I just did a quick scan of the new draft, so the following is a
>>>> tentative comment, until I can read it more carefully:
>>>>
>>>> I think the draft is now saying that the decision about whether to
>>>> process a body part according to a reference to it, or process
>>>> independently, is decided based on whether a reference is found. We had
>>>> this discussion before, and I think we agreed that wouldn't work well,
>>>> and that instead we would have a special C-D type for body parts that
>>>> are disposed of based on a reference.
>>>>
>>>> I don't think the introduction of issues related to multipart/related
>>>> changes this. The obvious cases are when there is a single
>>>> multipart/mixed containing some body parts. Some of those may be
>>>> referenced from CID URIs in sip headers, and others (e.g. SDP) may 
>>>> stand
>>>> on their own. It is entirely possible that a body part might be
>>>> referenced from some extension header that the recipient doesn't
>>>> understand. In that case it may erroneously decide to process the body
>>>> part on its own, when it should instead have ignored it because the
>>>> header isn't being processed.
>>>>
>>>>     Thanks,
>>>>     Paul
>>>>
>>>> Gonzalo Camarillo wrote:
>>>>> Folks,
>>>>>
>>>>> I have just submitted a new revision of the body handling draft. Until
>>>>> it appears on the archives, you can fetch it from:
>>>>>
>>>>> http://users.piuha.net/gonzalo/temp/draft-ietf-sip-body-handling-00.txt 
>>>>>
>>>>>
>>>>> Per our discussions in Chicago, the draft now states that only body
>>>>> parts within the same 'multipart/related' can reference each other
>>>>> using cid URIs.
>>>>>
>>>>> If this is too restrictive, we could also allow using forward
>>>>> references in any context (with no 'multipart/related' at all).
>>>>>
>>>>> Comments?
>>>>>
>>>>> Thanks,
>>>>>
>>>>> Gonzalo
>>>>>
>>>>>
>>>>>
>>>>> _______________________________________________
>>>>> Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
>>>>> This list is for NEW development of the core SIP Protocol
>>>>> Use sip-implementors@cs.columbia.edu for questions on current sip
>>>>> Use sipping@ietf.org for new developments on the application of sip
>>>>>
>>>>
>>>> _______________________________________________
>>>> Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
>>>> This list is for NEW development of the core SIP Protocol
>>>> Use sip-implementors@cs.columbia.edu for questions on current sip
>>>> Use sipping@ietf.org for new developments on the application of sip
>>>>
>>>
>>> _______________________________________________
>>> Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
>>> This list is for NEW development of the core SIP Protocol
>>> Use sip-implementors@cs.columbia.edu for questions on current sip
>>> Use sipping@ietf.org for new developments on the application of sip
>>
>>
>> Notice:  This email message, together with any attachments, may 
>> contain information  of  BEA Systems,  Inc.,  its subsidiaries  and  
>> affiliated entities,  that may be confidential,  proprietary,  
>> copyrighted  and/or legally privileged, and is intended solely for the 
>> use of the individual or entity named in this message. If you are not 
>> the intended recipient, and have received this message in error, 
>> please immediately return this by email and then delete it.
>>



_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Wed Sep 05 07:01:09 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1ISsbO-0001fJ-BI; Wed, 05 Sep 2007 06:59:18 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1ISsbM-0001ZX-FR
	for sip-confirm+ok@megatron.ietf.org; Wed, 05 Sep 2007 06:59:16 -0400
Received: from [10.90.34.44] (helo=chiedprmail1.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1ISsbM-0001ZP-2L
	for sip@ietf.org; Wed, 05 Sep 2007 06:59:16 -0400
Received: from tcmail23.telekom.de ([217.6.95.237])
	by chiedprmail1.ietf.org with esmtp (Exim 4.43) id 1ISsbK-0001LM-14
	for sip@ietf.org; Wed, 05 Sep 2007 06:59:15 -0400
Received: from S4DE9JSAANM.ost.t-com.de (S4DE9JSAANM.ost.t-com.de
	[10.125.177.122]) by tcmail21.telekom.de with ESMTP;
	Wed, 5 Sep 2007 12:58:59 +0200
Received: from S4DE9JSAAHW.ost.t-com.de ([10.125.177.160]) by
	S4DE9JSAANM.ost.t-com.de with Microsoft SMTPSVC(6.0.3790.3959); 
	Wed, 5 Sep 2007 12:58:59 +0200
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-MimeOLE: Produced By Microsoft Exchange V6.5
Subject: AW: AW: AW: [Sip] Extension of conference procedures
Date: Wed, 5 Sep 2007 12:58:58 +0200
Message-Id: <CCA850DCD3FBE2479D5076C5C1873222029F50B6@S4DE9JSAAHW.ost.t-com.de>
In-Reply-To: <C302EB13.A82F%eburger@bea.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: AW: AW: [Sip] Extension of conference procedures
Thread-Index: AcfqRhEX/Me4/dQsRM+wdqt5zk7CTAAhfFiAAAFj5gAAAntFIAEQdiz+ACLladA=
From: "Huelsemann, Martin" <Martin.Huelsemann@t-com.net>
To: <eburger@bea.com>
X-OriginalArrivalTime: 05 Sep 2007 10:58:59.0229 (UTC)
	FILETIME=[C2EFCCD0:01C7EFAB]
X-Spam-Score: 0.0 (/)
X-Scan-Signature: 06321bb70e4329e24fb56a67c5eca3a0
Cc: sip@ietf.org
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

Hi Eric,

there is nothing new added to RFC 3261, only perhaps some new semantics =
to subclause 19.1.1. The conference user would have to know about this, =
but that's okay, there are always some requirements if you want to use a =
service (REFER as default, proposed "?" usage as fallback).

What are the additions the user who's added to the conference would have =
to support? The added user would receive basically just a reINVITE, so =
in principal support of 3261 would be sufficient.=20


basically, in principal: the intention to minimize the requirements on B =
for a service which A uses, in order to maximize the chance this ad-hoc =
conference will work; perhaps there will be no 100% guarantee for this.


BR, Martin









> -----Urspr=FCngliche Nachricht-----
> Von: Eric Burger [mailto:eburger@bea.com]=20
> Gesendet: Dienstag, 4. September 2007 20:00
> An: H=FClsemann, Martin
> Cc: sip@ietf.org
> Betreff: Re: AW: AW: [Sip] Extension of conference procedures
>=20
>=20
> I must be missing an important point.  To me, right now, this=20
> whole thread,
> besides being 11 pages long, seems pointless.
>=20
> Either a phone knows about REFER or the phone does 3261. =20
> Adding something
> new to 3261 means the phone needs to know about it means it=20
> might as well
> know about REFER.
>=20
> Hacking 3261 to enable a man-in-the-middle attack, where the=20
> conference
> server or PSAP can take over a call (good thing) enables a=20
> nasty device to
> take over a call (bad thing) is not a good idea.
>=20
>=20
> On 8/30/07 4:37 AM, "Huelsemann, Martin" <Martin.Huelsemann@t-com.net>
> wrote:
>=20
> > Hi,
> >=20
> > I think especially for the case where A has several ongoing=20
> dialogs with B and
> > A wants only to include a certain of the dialogs into the=20
> conference, he has
> > to give some information in which of the dialogs the AS=20
> shall start 3pcc
> > procedures.
> >=20
> >=20
> > Regards, Martin
> >=20
> >=20
> >=20
> >> -----Urspr=FCngliche Nachricht-----
> >> Von: Peili Xu [mailto:xupeili@huawei.com]
> >> Gesendet: Donnerstag, 30. August 2007 08:53
> >> An: 'Even, Roni'
> >> Cc: sip@ietf.org
> >> Betreff: RE: AW: [Sip] Extension of conference procedures
> >>=20
> >>=20
> >>=20
> >> Hi Roni,
> >>=20
> >> Your case is even "smarter" than mine ;-)  that's OK for
> >> me.
> >>=20
> >> But, I'm just wondering whether there is case that A has
> >> multiple on going dialogs with say B, C, D and only want
> >> to turn A-B and A-C to a conference then dialog
> >> information maybe needed.
> >>=20
> >> I'd happy to hear clarification for this point from whom
> >> raise the requirements.
> >>=20
> >> Peili
> >>=20
> >> -----Original Message-----
> >> From: Even, Roni [mailto:roni.even@polycom.co.il]
> >> Sent: Thursday, August 30, 2007 2:09 PM
> >> To: Peili Xu
> >> Cc: sip@ietf.org
> >> Subject: RE: AW: [Sip] Extension of conference
> >> procedures
> >>=20
> >>=20
> >>=20
> >> Hi,
> >> I think you misunderstood what I menat by "smart". If
> >> there is a softyswitch acting as a 3PCC, it controls the
> >> dialogs and can redirect the media to the media server
> >> suppling the conference function.
> >> There is no need for A to give information about the
> >> dialog
> >>=20
> >> Roni Even
> >>=20
> >>> -----Original Message-----
> >>> From: Peili Xu [mailto:xupeili@gmail.com]
> >>> Sent: Wednesday, August 29, 2007 5:08 PM
> >>> To: Even, Roni
> >>> Cc: Huelsemann, Martin; sip@ietf.org
> >>> Subject: Re: AW: [Sip] Extension of conference
> >> procedures
> >>>=20
> >>> Hi Martin, Denis,
> >>>=20
> >>> I agree with Roni that you may need to decide who is
> >> "smart".
> >>>=20
> >>> I guess you want to simulate the 3PTY services in
> >> PSTN, A make call to
> >>> B, then A Hold B, then A Make Call to C, then A could
> >> do sth like hook
> >>> flash to turn the call between A-B and A-C to an 3pty
> >> conference.
> >>> later, A could still turn the conferece back to 2
> >> independant call.
> >>>=20
> >>> You have some assumption that the AS who performs
> >> conference is on the
> >>> path between A-B and A-C. And A could inform the AS to
> >> turn the call=20
> >>> between A-B and A-C to a conference.
> >>>=20
> >>> If the assumption is correct, what you want is just to
> >> tell the AS=20
> >>> which dialogs should be turned to conference by
> >> sending an INVITE with
> >>> the related dialog information.
> >>>=20
> >>> If the above understanding is correct, I'd agree with
> >> the initial=20
> >>> proposal from Denis.
> >>> Just to convey the dialog information along with the
> >> URI-List.
> >>>=20
> >>> Peili
> >>>=20
> >>>=20
> >>>=20
> >>> 2007/8/29, Even, Roni <roni.even@polycom.co.il>:
> >>>>=20
> >>>> Hi,
> >>>> In this case, like in PSTN the switch does it. You
> >> have to decide=20
> >>>> who is
> >>> "smart" the network or the end device.
> >>>> A "simple" RFC 3261 only phone relies on a 3PCC or
> >> softswitch to=20
> >>>> manage
> >>> telephony services (not only conferencing)
> >>>>=20
> >>>> Roni Even
> >>>>=20
> >>>>> -----Original Message-----
> >>>>> From: Huelsemann, Martin
> >> [mailto:Martin.Huelsemann@t-com.net]
> >>>>> Sent: Wednesday, August 29, 2007 1:05 PM
> >>>>> To: Even, Roni
> >>>>> Cc: sip@ietf.org; jbemmel@zonnet.nl
> >>>>> Subject: AW: AW: [Sip] Extension of conference
> >> procedures
> >>>>>=20
> >>>>> Hi,
> >>>>>=20
> >>>>> also for the scenario where A refers B to dial
> >> into a conference,
> >>>>> the problem is when B has a terminal not
> >> supporting REFER (or just
> >>>>> doesn't want to accept the REFER for some
> >> reasons), A cannot use
> >>>>> the
> >>> conference
> >>>>> service.
> >>>>>=20
> >>>>> Of course these simple terminals are not the
> >> desired use-case and
> >>> there
> >>>>> will be limitations. But if there is a possible
> >> fallback solution
> >>>>> that
> >>> at
> >>>>> least increases the chance that A can use the
> >> service despite the
> >>>>> fact that B does not fulfill all the requirements
> >> for the service,
> >>>>> I think
> >>> we
> >>>>> should try to figure it out.
> >>>>>=20
> >>>>> Regards, Martin
> >>>>>=20
> >>>>>=20
> >>>>>=20
> >>>>>=20
> >>>>>=20
> >>>>>> -----Urspr=FCngliche Nachricht-----
> >>>>>> Von: Even, Roni [mailto:roni.even@polycom.co.il]
> >>>>>> Gesendet: Montag, 27. August 2007 12:16
> >>>>>> An: H=FClsemann, Martin; jbemmel@zonnet.nl
> >>>>>> Cc: sip@ietf.org
> >>>>>> Betreff: RE: AW: [Sip] Extension of conference
> >> procedures
> >>>>>>=20
> >>>>>>=20
> >>>>>> Hi,
> >>>>>> My view is that every solution where you only
> >> have A, B and a=20
> >>>>>> conference server and B only supports RFC 3261
> >> will have some=20
> >>>>>> limitation and will be a hack.
> >>>>>>=20
> >>>>>> The recommended way to do it is for A to send a
> >> Refer to B to=20
> >>>>>> the focus.
> >>>>>>=20
> >>>>>> Also asking that B supporting only RFC 3261 will
> >> support=20
> >>>>>> conference event package is contradictory. B
> >> will not even be
> >>>>>> aware that it is in a conference.
> >>>>>>=20
> >>>>>> Roni Even
> >>>>>>=20
> >>>>>> !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
> >>>>>> A consensus means that everyone agrees to say
> >> collectively what
> >>>>>> no one believes individually
> >> !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
> >>>>>>=20
> >>>>>>> -----Original Message-----
> >>>>>>> From: Huelsemann, Martin
> >> [mailto:Martin.Huelsemann@t-com.net]
> >>>>>>> Sent: Monday, August 27, 2007 12:59 PM
> >>>>>>> To: jbemmel@zonnet.nl
> >>>>>>> Cc: sip@ietf.org
> >>>>>>> Subject: AW: AW: [Sip] Extension of conference
> >> procedures
> >>>>>>>=20
> >>>>>>> Hi,
> >>>>>>>=20
> >>>>>>> the pure RFC 3261 client won't be the normal
> >> case, of
> >>>>>> course. But there
> >>>>>>> might be networks with which you want to
> >> interwork where
> >>>>>> those simple
> >>>>>>> clients are existing.
> >>>>>>> Okay, you got me, it's again the PSTN
> >> interworking. So
> >>>>>> let's say what is
> >>>>>>> needed is a fallback solution for this case.
> >>>>>>> On the other hand, this fallback might be
> >> useful for a
> >>>>>> normal SIP client
> >>>>>>> which supports RFC3891, too, e.g. if there are
> >> problems with=20
> >>>>>>> authorization.
> >>>>>>>=20
> >>>>>>> The user experience of the invitee should be
> >> exactly as you
> >>>>>> describe.
> >>>>>>>=20
> >>>>>>> If A sends the reINVITE / UPDATE himself that
> >> could be a
> >>>>>> solution, too.
> >>>>>>> The only thing is, can B then use all the
> >> conference features (e.
> >>> g.
> >>>>>>> conference event package), when the focus has
> >> no knowledge on=20
> >>>>>>> the signalling level that B is connected to
> >> the conference bridge?
> >>>>>>>=20
> >>>>>>> Regards, Martin
> >>>>>>>=20
> >>>>>>>=20
> >>>>>>>=20
> >>>>>>>=20
> >>>>>>>=20
> >>>>>>>> -----Urspr=FCngliche Nachricht-----
> >>>>>>>> Von: Jeroen van Bemmel
> >> [mailto:jbemmel@zonnet.nl]
> >>>>>>>> Gesendet: Sonntag, 26. August 2007 15:24
> >>>>>>>> An: H=FClsemann, Martin
> >>>>>>>> Cc: Alexeitsev, Denis; sip@ietf.org
> >>>>>>>> Betreff: Re: AW: [Sip] Extension of
> >> conference procedures
> >>>>>>>>=20
> >>>>>>>>=20
> >>>>>>>> Martin,
> >>>>>>>>=20
> >>>>>>>> Now it becomes more clear. So the
> >> requirement is to
> >>>>>> enable a scenario
> >>>>>>>> where a regular call is transformed into a
> >> conference
> >>>>>> call, assuming
> >>>>>>>> that the invitee only has a "pure RFC3261"
> >> client.
> >>>>>>>> More specifically:
> >>>>>>>>=20
> >>>>>>>> - to get a smooth user experience, the
> >> scenario must not
> >>>>>>>> cause
> >>> the
> >>>>>>>> invitee's phone to ring, and/or ask the
> >> invitee for=20
> >>>>>>>> permission (acceptance is assumed to be
> >> implied)
> >>>>>>>>=20
> >>>>>>>> What if A would send the reINVITE (or
> >> UPDATE) itself, while
> >>>>>>>> filling in the SDP according to the media
> >> provided by the=20
> >>>>>>>> conference server (i.e.
> >>>>>>>> use codecs, media ports as received from the
> >> focus)? (trying=20
> >>>>>>>> to get the requirements more clear here)
> >>>>>>>>=20
> >>>>>>>> In practice, it may still be a challenge to
> >> get such "very
> >>> simple
> >>>>>>>> terminals" to properly handle a change of
> >> media (i.e. new
> >>>>>> destination
> >>>>>>>> ip/port for sending, new source ip/port and
> >> RTP src id,
> >>>>>> and possibly
> >>>>>>>> different codecs)
> >>>>>>>>=20
> >>>>>>>> Regards,
> >>>>>>>> Jeroen
> >>>>>>>>=20
> >>>>>>>>=20
> >>>>>>>> Huelsemann, Martin wrote:
> >>>>>>>>> Hi Jeroen,
> >>>>>>>>>=20
> >>>>>>>>> the usage of the Replaces header is of
> >> course the best
> >>>>>>>> solution, it's also described in the
> >> regarding 3GPP=20
> >>>>>>>> conferencing spec.
> >>>>>>>>> The disadvantage of the usage of the
> >> Repaces header is,
> >>>>>>>> that it puts requirements on the UE of the
> >> invited user, it
> >>>>>>>> would have to support RFC 3891. And if it
> >> supports, it=20
> >>>>>>>> really would have to accept the 2nd INVITE,
> >> which is not=20
> >>>>>>>> mandatory according to RFC 3891 I think.
> >>>>>>>>> Anyway what is needed in addition is a
> >> solution how also
> >>>>>>>> very simple terminals (e. g. only supporting
> >> RFC 3261) can=20
> >>>>>>>> be invited to an ad-hoc conference, whithout
> >> having to say=20
> >>>>>>>> to the invited user to please hang up
> >> because there will be
> >>>>>>>> a call from the focus shortly.
> >>>>>>>>>=20
> >>>>>>>>> Re-using an already established dialog at
> >> least at the
> >>>>>>>> first glance seems to be a simply and
> >> invited UE independent
> >>>>>>>> solution. And as this re-INVITE it wanted by
> >> at least one of=20
> >>>>>>>> the involved user, I would more compare it
> >> to some kind of=20
> >>>>>>>> triggered 3rd party call control than to
> >> spoofing.
> >>>>>>>>>=20
> >>>>>>>>> Of course as you said it would have to be
> >> made clear that
> >>>>>>>> the focus is able to collect all the
> >> information needed for
> >>>>>>>> sending re-INVITEs (proposed "?" mechanism
> >> usage, dialog=20
> >>>>>>>> event package, etc.).
> >>>>>>>>>=20
> >>>>>>>>>=20
> >>>>>>>>> Regards, Martin
> >>>>>>>>>=20
> >>>>>>>>>=20
> >>>>>>>>>=20
> >>>>>>>>>=20
> >>>>>>>>>=20
> >>>>>>>>>=20
> >>>>>>>>>> -----Urspr=FCngliche Nachricht-----
> >>>>>>>>>> Von: Jeroen van Bemmel
> >> [mailto:jbemmel@zonnet.nl]
> >>>>>>>>>> Gesendet: Freitag, 24. August 2007 17:06
> >>>>>>>>>> An: Alexeitsev, Denis; sip@ietf.org
> >>>>>>>>>> Betreff: Re: [Sip] Extension of
> >> conference procedures
> >>>>>>>>>>=20
> >>>>>>>>>>=20
> >>>>>>>>>> Denis,
> >>>>>>>>>>=20
> >>>>>>>>>> If I understand your scenario, "focus" is
> >> a third party=20
> >>>>>>>>>> separate from A and B, right? (e.g. a
> >> conference server)
> >>>>>>>>>>=20
> >>>>>>>>>> In that case the focus is not a party in
> >> the A-B dialog,=20
> >>>>>>>>>> and would need more than Call-ID, From
> >> and To to be able
> >>>>>>>>>> to construct a reINVITE that B would
> >> accept as coming
> >>>>>>>>>> from A (e.g. CSeq). In any case, this
> >> looks like a very
> >>>>>>>>>> inelegant, hacked solution (as the
> >> conference server is
> >>>>>>>>>> basically spoofing)
> >>>>>>>>>>=20
> >>>>>>>>>> RFC4579 section 5.10 provides some
> >> insipration, as well
> >>>>>>>>>> as
> >>>>>>>>>>=20
> >> http://www.ietf.org/internet-drafts/draft-ietf-sipping-
> >>> service
> >>>>>>>>>> -examples-13.txt
> >>>>>>>>>> scenario 2.5
> >>>>>>>>>>=20
> >>>>>>>>>> For example, A could include a 'Replaces'
> >> header in the=20
> >>>>>>>>>> URI it includes in its conference URI
> >> list. Then the=20
> >>>>>>>>>> conference server would
> >>>>>>>> send a new
> >>>>>>>>>> (out-of-dialog) INVITE to B containing
> >> this Replaces=20
> >>>>>>>>>> header, and B would know that it is
> >> associated with the
> >>>>>>>>>> dialog it has with A (and can replace it,
> >> without ringing=20
> >>>>>>>>>> if the UA is constructed like that)
> >>>>>>>>>>=20
> >>>>>>>>>> The conference server should probably
> >> also include a=20
> >>>>>>>>>> Referred-By containing A's AoR, either
> >> automatically=20
> >>>>>>>>>> (i.e. copy from From header in
> >>>>>>>>>> INVITE) or
> >>>>>>>>>> included by A in the URI (former is
> >> better)
> >>>>>>>>>>=20
> >>>>>>>>>> Regards,
> >>>>>>>>>> Jeroen
> >>>>>>>>>>=20
> >>>>>>>>>> Alexeitsev, D wrote:
> >>>>>>>>>>=20
> >>>>>>>>>>> I'd like to discuss the extension of the
> >> current=20
> >>>>>>>>>>> conference
> >>>>>>>>>>>=20
> >>>>>>>>>> procedures
> >>>>>>>>>>=20
> >>>>>>>>>>> with the following functionality.
> >>>>>>>>>>>=20
> >>>>>>>>>>> 3GPP conference specifications are
> >> basing generally on
> >>>>>>>>>>> the Conferencing Framework (RFC 4353)
> >> and for one=20
> >>>>>>>>>>> possibility
> >>>>>>>>>>>=20
> >>>>>>>>>> of inviting
> >>>>>>>>>>=20
> >>>>>>>>>>> users to the confrence on
> >>>>>> draft-ietf-sip-uri-list-conferencing.
> >>>>>>>>>>>=20
> >>>>>>>>>>> Using the conferencing framework, the
> >> following=20
> >>>>>>>>>>> situation
> >>>>>>>> can occur
> >>>>>>>>>>> when a user is invited to an ad-hoc
> >> conference:
> >>>>>>>>>>> User A is in a dialog with user B, and
> >> decides to start
> >>>>>>>>>>> a
> >>>>>>>>>>>=20
> >>>>>>>>>> conference,
> >>>>>>>>>>=20
> >>>>>>>>>>> for example using an INVITE request to
> >> the focus which
> >>>>>>>>>>>=20
> >>>>>>>>>> includes a URI
> >>>>>>>>>>=20
> >>>>>>>>>>> list with the URIs of the users which
> >> shall be added to
> >>>>>>>>>>> the conference, incl. B. So when the
> >> INVITE request from
> >>>>>>>>>>> the
> >>> focus
> >>>>>>>>>>> arrives at B, he is still in the
> >> original dialog with
> >>>>>> A, and so it
> >>>>>>>>>>> depends on B if he accepts the 2nd
> >> INVITE and the
> >>>>>>>> conference can be
> >>>>>>>>>>> established.
> >>>>>>>>>>>=20
> >>>>>>>>>>> At the last 3GPP CT1 meeting the idea of
> >> transporting=20
> >>>>>>>>>>> dialog identifiers together with the
> >> URIs was introduced
> >>>>>>>>>>> to
> >>>>>> solve this
> >>>>>>>>>>> problem. Basing on the idea that the
> >> procedures at
> >>>>>> the conference
> >>>>>>>>>>> server are extended in that way, that
> >> the conference
> >>>>>>>> server is aware
> >>>>>>>>>>> of already established dialogs, the
> >> focus then has the
> >>>>>>>>>>>=20
> >>>>>>>>>> possibility to
> >>>>>>>>>>=20
> >>>>>>>>>>> send re-INVITES in the indicated dialogs
> >> and connect the
> >>>>>>>> media from
> >>>>>>>>>>> the invited users to the conference
> >> bridge.
> >>>>>>>>>>> In the URI list the dialogs can be
> >> indicated using the
> >>>>>>>> "?" mechanism
> >>>>>>>>>>> according to subclause 19.1.1 of RFC
> >> 3261.
> >>>>>>>>>>>=20
> >>>>>>>>>>> Following example shows the proposed
> >> mechanism:
> >>>>>>>>>>>=20
> >>>>>>>>>>> INVITE Conference
> >>>>>>>>>>> To: Conference
> >>>>>>>>>>> From: A
> >>>>>>>>>>> Require: recipient-list-invite
> >>>>>>>>>>>=20
> >>>>>>>>>>> Content-Type:
> >> application/resource-lists+xml
> >>>>>>>>>>> Content-Disposition: recipient-list
> >>>>>>>>>>>=20
> >>>>>>>>>>> <?xml version=3D"1.0" encoding=3D"UTF-8"?>
> >> <resource-lists=20
> >>>>>>>>>>> xmlns=3D"urn:ietf:params:xml:ns:resource-
> >>> lists"
> >>>>>>>>>>>=20
> >> xmlns:cp=3D"urn:ietf:params:xml:ns:copyControl">
> >>>>>>>>>>>   <list>
> >>>>>>>>>>>    <entry
> >> uri=3D"B?Call-ID=3D1&From=3DA%3Btag%3Da&To=3DB%3Btag%3Db"
> >>>>>>>>>>> cp:copyControl=3D"to"/>
> >>>>>>>>>>>    <entry
> >> uri=3D"C?Call-ID=3D2&From=3DA%3Btag%3Da&To=3DC%3btag%3Dc"
> >>>>>>>>>>> cp:copyControl=3D"to"/>
> >>>>>>>>>>>   </list>
> >>>>>>>>>>>  </resource-lists>
> >>>>>>>>>>>=20
> >>>>>>>>>>> Greetings,
> >>>>>>>>>>> Denis Alexeitsev
> >>>>>>>>>>>=20
> >>>>>>>>>>>=20
> >>>>>>>>>>>=20
> >> _______________________________________________
> >>>>>>>>>>> Sip mailing list
> >>>>>>>>>>>=20
> >> https://www1.ietf.org/mailman/listinfo/sip
> >>>>>>>>>>> This list is for NEW development of the
> >> core SIP=20
> >>>>>>>>>>> Protocol Use
> >> sip-implementors@cs.columbia.edu for
> >>>>>>>>>>> questions on
> >>>>>> current sip
> >>>>>>>>>>> Use sipping@ietf.org for new
> >> developments on the
> >>>>>>>> application of sip
> >>>>>>>>>>>=20
> >>>>>>>>>>=20
> >>>>>>>>>>=20
> >> _______________________________________________
> >>>>>>>>>> Sip mailing list
> >>>>>>>>>>=20
> >> https://www1.ietf.org/mailman/listinfo/sip
> >>>>>>>>>> This list is for NEW development of the
> >> core SIP Protocol
> >>>>>>>>>> Use sip-implementors@cs.columbia.edu for
> >> questions on
> >>>>>> current sip
> >>>>>>>>>> Use sipping@ietf.org for new developments
> >> on the
> >>>>>> application of sip
> >>>>>>>>>>=20
> >>>>>>>>>>=20
> >>>>>>>>>=20
> >>>>>>>>>=20
> >>>>>>>>=20
> >>>>>>>=20
> >>>>>>>=20
> >>>>>>>=20
> >> _______________________________________________
> >>>>>>> Sip mailing list
> >> https://www1.ietf.org/mailman/listinfo/sip
> >>>>>>> This list is for NEW development of the core
> >> SIP Protocol Use
> >>>>>>> sip-implementors@cs.columbia.edu for questions
> >> on current sip=20
> >>>>>>> Use sipping@ietf.org for new developments on
> >> the application=20
> >>>>>>> of
> >>> sip
> >>>>>>=20
> >>>>=20
> >>>>=20
> >>>> _______________________________________________
> >>>> Sip mailing list
> >> https://www1.ietf.org/mailman/listinfo/sip
> >>>> This list is for NEW development of the core SIP
> >> Protocol Use=20
> >>>> sip-implementors@cs.columbia.edu for questions on
> >> current sip Use=20
> >>>> sipping@ietf.org for new developments on the
> >> application of sip
> >>>>=20
> >>=20
> >>=20
> >> _______________________________________________
> >> Sip mailing list
> >> https://www1.ietf.org/mailman/listinfo/sip
> >> This list is for NEW development of the core SIP
> >> Protocol Use sip-implementors@cs.columbia.edu for
> >> questions on current sip Use sipping@ietf.org for new
> >> developments on the application of sip
> >>=20
> >>=20
> >>=20
> >>=20
> >> _______________________________________________
> >> Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
> >> This list is for NEW development of the core SIP Protocol
> >> Use sip-implementors@cs.columbia.edu for questions on current sip
> >> Use sipping@ietf.org for new developments on the application of sip
> >>=20
> >=20
> >=20
> > _______________________________________________
> > Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
> > This list is for NEW development of the core SIP Protocol
> > Use sip-implementors@cs.columbia.edu for questions on current sip
> > Use sipping@ietf.org for new developments on the application of sip
>=20
>=20
> Notice:  This email message, together with any attachments,=20
> may contain information  of  BEA Systems,  Inc.,  its=20
> subsidiaries  and  affiliated entities,  that may be=20
> confidential,  proprietary,  copyrighted  and/or legally=20
> privileged, and is intended solely for the use of the=20
> individual or entity named in this message. If you are not=20
> the intended recipient, and have received this message in=20
> error, please immediately return this by email and then delete it.
>=20


_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Wed Sep 05 07:12:31 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1ISsmS-00020f-Gw; Wed, 05 Sep 2007 07:10:44 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1ISsmQ-00020Z-Iw
	for sip-confirm+ok@megatron.ietf.org; Wed, 05 Sep 2007 07:10:42 -0400
Received: from [10.91.34.44] (helo=ietf-mx.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1ISsmQ-00020R-6n
	for sip@ietf.org; Wed, 05 Sep 2007 07:10:42 -0400
Received: from ihemail4.lucent.com ([135.245.0.39])
	by ietf-mx.ietf.org with esmtp (Exim 4.43) id 1ISsmO-0008C1-Qh
	for sip@ietf.org; Wed, 05 Sep 2007 07:10:42 -0400
Received: from ilexp01.ndc.lucent.com (h135-3-39-1.lucent.com [135.3.39.1])
	by ihemail4.lucent.com (8.13.8/IER-o) with ESMTP id l85BAFRl005930;
	Wed, 5 Sep 2007 06:10:25 -0500 (CDT)
Received: from DEEXP01.de.lucent.com ([135.248.187.65]) by
	ilexp01.ndc.lucent.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Wed, 5 Sep 2007 06:10:15 -0500
Received: from DEEXC1U01.de.lucent.com ([135.248.187.29]) by
	DEEXP01.de.lucent.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Wed, 5 Sep 2007 13:10:12 +0200
x-mimeole: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: RE: AW: AW: [Sip] Extension of conference procedures
Date: Wed, 5 Sep 2007 13:10:07 +0200
Message-ID: <5D1A7985295922448D5550C94DE2918001636EF9@DEEXC1U01.de.lucent.com>
In-Reply-To: <CCA850DCD3FBE2479D5076C5C1873222029F50B6@S4DE9JSAAHW.ost.t-com.de>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: AW: AW: [Sip] Extension of conference procedures
Thread-Index: AcfqRhEX/Me4/dQsRM+wdqt5zk7CTAAhfFiAAAFj5gAAAntFIAEQdiz+ACLladAAANV4YA==
References: <C302EB13.A82F%eburger@bea.com>
	<CCA850DCD3FBE2479D5076C5C1873222029F50B6@S4DE9JSAAHW.ost.t-com.de>
From: "DRAGE, Keith \(Keith\)" <drage@alcatel-lucent.com>
To: "Huelsemann, Martin" <Martin.Huelsemann@t-com.net>, <eburger@bea.com>
X-OriginalArrivalTime: 05 Sep 2007 11:10:12.0765 (UTC)
	FILETIME=[54653CD0:01C7EFAD]
X-Scanned-By: MIMEDefang 2.57 on 135.245.2.39
X-Spam-Score: 0.0 (/)
X-Scan-Signature: a83e8b750067501be8b56bf02fb6582d
Cc: sip@ietf.org
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

So this is a convenient way to bring us back to the other half of the =
issue which we do not seem to have discussed yet. When the syntax was =
defined that allowed ?headers:

      Headers: Header fields to be included in a request constructed
         from the URI.

         Headers fields in the SIP request can be specified with the "?"
         mechanism within a URI.  The header names and values are
         encoded in ampersand separated hname =3D hvalue pairs.  The
         special hname "body" indicates that the associated hvalue is
         the message-body of the SIP request.

What usage did the SIP WG envisage for this, and thus what semantics did =
they define for that usage.

Is it appropriate to assign new semantics to such usage?

Regards

Keith

> -----Original Message-----
> From: Huelsemann, Martin [mailto:Martin.Huelsemann@t-com.net]=20
> Sent: Wednesday, September 05, 2007 11:59 AM
> To: eburger@bea.com
> Cc: sip@ietf.org
> Subject: AW: AW: AW: [Sip] Extension of conference procedures
>=20
> Hi Eric,
>=20
> there is nothing new added to RFC 3261, only perhaps some new=20
> semantics to subclause 19.1.1. The conference user would have=20
> to know about this, but that's okay, there are always some=20
> requirements if you want to use a service (REFER as default,=20
> proposed "?" usage as fallback).
>=20
> What are the additions the user who's added to the conference=20
> would have to support? The added user would receive basically=20
> just a reINVITE, so in principal support of 3261 would be sufficient.=20
>=20
>=20
> basically, in principal: the intention to minimize the=20
> requirements on B for a service which A uses, in order to=20
> maximize the chance this ad-hoc conference will work; perhaps=20
> there will be no 100% guarantee for this.
>=20
>=20
> BR, Martin
>=20
>=20
>=20
>=20
>=20
>=20
>=20
>=20
>=20
> > -----Urspr=FCngliche Nachricht-----
> > Von: Eric Burger [mailto:eburger@bea.com]
> > Gesendet: Dienstag, 4. September 2007 20:00
> > An: H=FClsemann, Martin
> > Cc: sip@ietf.org
> > Betreff: Re: AW: AW: [Sip] Extension of conference procedures
> >=20
> >=20
> > I must be missing an important point.  To me, right now, this whole=20
> > thread, besides being 11 pages long, seems pointless.
> >=20
> > Either a phone knows about REFER or the phone does 3261. =20
> > Adding something
> > new to 3261 means the phone needs to know about it means it=20
> might as=20
> > well know about REFER.
> >=20
> > Hacking 3261 to enable a man-in-the-middle attack, where the=20
> > conference server or PSAP can take over a call (good thing)=20
> enables a=20
> > nasty device to take over a call (bad thing) is not a good idea.
> >=20
> >=20
> > On 8/30/07 4:37 AM, "Huelsemann, Martin"=20
> <Martin.Huelsemann@t-com.net>
> > wrote:
> >=20
> > > Hi,
> > >=20
> > > I think especially for the case where A has several ongoing
> > dialogs with B and
> > > A wants only to include a certain of the dialogs into the
> > conference, he has
> > > to give some information in which of the dialogs the AS
> > shall start 3pcc
> > > procedures.
> > >=20
> > >=20
> > > Regards, Martin
> > >=20
> > >=20
> > >=20
> > >> -----Urspr=FCngliche Nachricht-----
> > >> Von: Peili Xu [mailto:xupeili@huawei.com]
> > >> Gesendet: Donnerstag, 30. August 2007 08:53
> > >> An: 'Even, Roni'
> > >> Cc: sip@ietf.org
> > >> Betreff: RE: AW: [Sip] Extension of conference procedures
> > >>=20
> > >>=20
> > >>=20
> > >> Hi Roni,
> > >>=20
> > >> Your case is even "smarter" than mine ;-)  that's OK for me.
> > >>=20
> > >> But, I'm just wondering whether there is case that A has=20
> multiple=20
> > >> on going dialogs with say B, C, D and only want to turn=20
> A-B and A-C=20
> > >> to a conference then dialog information maybe needed.
> > >>=20
> > >> I'd happy to hear clarification for this point from whom=20
> raise the=20
> > >> requirements.
> > >>=20
> > >> Peili
> > >>=20
> > >> -----Original Message-----
> > >> From: Even, Roni [mailto:roni.even@polycom.co.il]
> > >> Sent: Thursday, August 30, 2007 2:09 PM
> > >> To: Peili Xu
> > >> Cc: sip@ietf.org
> > >> Subject: RE: AW: [Sip] Extension of conference procedures
> > >>=20
> > >>=20
> > >>=20
> > >> Hi,
> > >> I think you misunderstood what I menat by "smart". If there is a=20
> > >> softyswitch acting as a 3PCC, it controls the dialogs and can=20
> > >> redirect the media to the media server suppling the conference=20
> > >> function.
> > >> There is no need for A to give information about the dialog
> > >>=20
> > >> Roni Even
> > >>=20
> > >>> -----Original Message-----
> > >>> From: Peili Xu [mailto:xupeili@gmail.com]
> > >>> Sent: Wednesday, August 29, 2007 5:08 PM
> > >>> To: Even, Roni
> > >>> Cc: Huelsemann, Martin; sip@ietf.org
> > >>> Subject: Re: AW: [Sip] Extension of conference
> > >> procedures
> > >>>=20
> > >>> Hi Martin, Denis,
> > >>>=20
> > >>> I agree with Roni that you may need to decide who is
> > >> "smart".
> > >>>=20
> > >>> I guess you want to simulate the 3PTY services in
> > >> PSTN, A make call to
> > >>> B, then A Hold B, then A Make Call to C, then A could
> > >> do sth like hook
> > >>> flash to turn the call between A-B and A-C to an 3pty
> > >> conference.
> > >>> later, A could still turn the conferece back to 2
> > >> independant call.
> > >>>=20
> > >>> You have some assumption that the AS who performs
> > >> conference is on the
> > >>> path between A-B and A-C. And A could inform the AS to
> > >> turn the call
> > >>> between A-B and A-C to a conference.
> > >>>=20
> > >>> If the assumption is correct, what you want is just to
> > >> tell the AS
> > >>> which dialogs should be turned to conference by
> > >> sending an INVITE with
> > >>> the related dialog information.
> > >>>=20
> > >>> If the above understanding is correct, I'd agree with
> > >> the initial
> > >>> proposal from Denis.
> > >>> Just to convey the dialog information along with the
> > >> URI-List.
> > >>>=20
> > >>> Peili
> > >>>=20
> > >>>=20
> > >>>=20
> > >>> 2007/8/29, Even, Roni <roni.even@polycom.co.il>:
> > >>>>=20
> > >>>> Hi,
> > >>>> In this case, like in PSTN the switch does it. You
> > >> have to decide
> > >>>> who is
> > >>> "smart" the network or the end device.
> > >>>> A "simple" RFC 3261 only phone relies on a 3PCC or
> > >> softswitch to
> > >>>> manage
> > >>> telephony services (not only conferencing)
> > >>>>=20
> > >>>> Roni Even
> > >>>>=20
> > >>>>> -----Original Message-----
> > >>>>> From: Huelsemann, Martin
> > >> [mailto:Martin.Huelsemann@t-com.net]
> > >>>>> Sent: Wednesday, August 29, 2007 1:05 PM
> > >>>>> To: Even, Roni
> > >>>>> Cc: sip@ietf.org; jbemmel@zonnet.nl
> > >>>>> Subject: AW: AW: [Sip] Extension of conference
> > >> procedures
> > >>>>>=20
> > >>>>> Hi,
> > >>>>>=20
> > >>>>> also for the scenario where A refers B to dial
> > >> into a conference,
> > >>>>> the problem is when B has a terminal not
> > >> supporting REFER (or just
> > >>>>> doesn't want to accept the REFER for some
> > >> reasons), A cannot use
> > >>>>> the
> > >>> conference
> > >>>>> service.
> > >>>>>=20
> > >>>>> Of course these simple terminals are not the
> > >> desired use-case and
> > >>> there
> > >>>>> will be limitations. But if there is a possible
> > >> fallback solution
> > >>>>> that
> > >>> at
> > >>>>> least increases the chance that A can use the
> > >> service despite the
> > >>>>> fact that B does not fulfill all the requirements
> > >> for the service,
> > >>>>> I think
> > >>> we
> > >>>>> should try to figure it out.
> > >>>>>=20
> > >>>>> Regards, Martin
> > >>>>>=20
> > >>>>>=20
> > >>>>>=20
> > >>>>>=20
> > >>>>>=20
> > >>>>>> -----Urspr=FCngliche Nachricht-----
> > >>>>>> Von: Even, Roni [mailto:roni.even@polycom.co.il]
> > >>>>>> Gesendet: Montag, 27. August 2007 12:16
> > >>>>>> An: H=FClsemann, Martin; jbemmel@zonnet.nl
> > >>>>>> Cc: sip@ietf.org
> > >>>>>> Betreff: RE: AW: [Sip] Extension of conference
> > >> procedures
> > >>>>>>=20
> > >>>>>>=20
> > >>>>>> Hi,
> > >>>>>> My view is that every solution where you only
> > >> have A, B and a
> > >>>>>> conference server and B only supports RFC 3261
> > >> will have some
> > >>>>>> limitation and will be a hack.
> > >>>>>>=20
> > >>>>>> The recommended way to do it is for A to send a
> > >> Refer to B to
> > >>>>>> the focus.
> > >>>>>>=20
> > >>>>>> Also asking that B supporting only RFC 3261 will
> > >> support
> > >>>>>> conference event package is contradictory. B
> > >> will not even be
> > >>>>>> aware that it is in a conference.
> > >>>>>>=20
> > >>>>>> Roni Even
> > >>>>>>=20
> > >>>>>> !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
> > >>>>>> A consensus means that everyone agrees to say
> > >> collectively what
> > >>>>>> no one believes individually
> > >> !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
> > >>>>>>=20
> > >>>>>>> -----Original Message-----
> > >>>>>>> From: Huelsemann, Martin
> > >> [mailto:Martin.Huelsemann@t-com.net]
> > >>>>>>> Sent: Monday, August 27, 2007 12:59 PM
> > >>>>>>> To: jbemmel@zonnet.nl
> > >>>>>>> Cc: sip@ietf.org
> > >>>>>>> Subject: AW: AW: [Sip] Extension of conference
> > >> procedures
> > >>>>>>>=20
> > >>>>>>> Hi,
> > >>>>>>>=20
> > >>>>>>> the pure RFC 3261 client won't be the normal
> > >> case, of
> > >>>>>> course. But there
> > >>>>>>> might be networks with which you want to
> > >> interwork where
> > >>>>>> those simple
> > >>>>>>> clients are existing.
> > >>>>>>> Okay, you got me, it's again the PSTN
> > >> interworking. So
> > >>>>>> let's say what is
> > >>>>>>> needed is a fallback solution for this case.
> > >>>>>>> On the other hand, this fallback might be
> > >> useful for a
> > >>>>>> normal SIP client
> > >>>>>>> which supports RFC3891, too, e.g. if there are
> > >> problems with
> > >>>>>>> authorization.
> > >>>>>>>=20
> > >>>>>>> The user experience of the invitee should be
> > >> exactly as you
> > >>>>>> describe.
> > >>>>>>>=20
> > >>>>>>> If A sends the reINVITE / UPDATE himself that
> > >> could be a
> > >>>>>> solution, too.
> > >>>>>>> The only thing is, can B then use all the
> > >> conference features (e.
> > >>> g.
> > >>>>>>> conference event package), when the focus has
> > >> no knowledge on
> > >>>>>>> the signalling level that B is connected to
> > >> the conference bridge?
> > >>>>>>>=20
> > >>>>>>> Regards, Martin
> > >>>>>>>=20
> > >>>>>>>=20
> > >>>>>>>=20
> > >>>>>>>=20
> > >>>>>>>=20
> > >>>>>>>> -----Urspr=FCngliche Nachricht-----
> > >>>>>>>> Von: Jeroen van Bemmel
> > >> [mailto:jbemmel@zonnet.nl]
> > >>>>>>>> Gesendet: Sonntag, 26. August 2007 15:24
> > >>>>>>>> An: H=FClsemann, Martin
> > >>>>>>>> Cc: Alexeitsev, Denis; sip@ietf.org
> > >>>>>>>> Betreff: Re: AW: [Sip] Extension of
> > >> conference procedures
> > >>>>>>>>=20
> > >>>>>>>>=20
> > >>>>>>>> Martin,
> > >>>>>>>>=20
> > >>>>>>>> Now it becomes more clear. So the
> > >> requirement is to
> > >>>>>> enable a scenario
> > >>>>>>>> where a regular call is transformed into a
> > >> conference
> > >>>>>> call, assuming
> > >>>>>>>> that the invitee only has a "pure RFC3261"
> > >> client.
> > >>>>>>>> More specifically:
> > >>>>>>>>=20
> > >>>>>>>> - to get a smooth user experience, the
> > >> scenario must not
> > >>>>>>>> cause
> > >>> the
> > >>>>>>>> invitee's phone to ring, and/or ask the
> > >> invitee for
> > >>>>>>>> permission (acceptance is assumed to be
> > >> implied)
> > >>>>>>>>=20
> > >>>>>>>> What if A would send the reINVITE (or
> > >> UPDATE) itself, while
> > >>>>>>>> filling in the SDP according to the media
> > >> provided by the
> > >>>>>>>> conference server (i.e.
> > >>>>>>>> use codecs, media ports as received from the
> > >> focus)? (trying
> > >>>>>>>> to get the requirements more clear here)
> > >>>>>>>>=20
> > >>>>>>>> In practice, it may still be a challenge to
> > >> get such "very
> > >>> simple
> > >>>>>>>> terminals" to properly handle a change of
> > >> media (i.e. new
> > >>>>>> destination
> > >>>>>>>> ip/port for sending, new source ip/port and
> > >> RTP src id,
> > >>>>>> and possibly
> > >>>>>>>> different codecs)
> > >>>>>>>>=20
> > >>>>>>>> Regards,
> > >>>>>>>> Jeroen
> > >>>>>>>>=20
> > >>>>>>>>=20
> > >>>>>>>> Huelsemann, Martin wrote:
> > >>>>>>>>> Hi Jeroen,
> > >>>>>>>>>=20
> > >>>>>>>>> the usage of the Replaces header is of
> > >> course the best
> > >>>>>>>> solution, it's also described in the
> > >> regarding 3GPP
> > >>>>>>>> conferencing spec.
> > >>>>>>>>> The disadvantage of the usage of the
> > >> Repaces header is,
> > >>>>>>>> that it puts requirements on the UE of the
> > >> invited user, it
> > >>>>>>>> would have to support RFC 3891. And if it
> > >> supports, it
> > >>>>>>>> really would have to accept the 2nd INVITE,
> > >> which is not
> > >>>>>>>> mandatory according to RFC 3891 I think.
> > >>>>>>>>> Anyway what is needed in addition is a
> > >> solution how also
> > >>>>>>>> very simple terminals (e. g. only supporting
> > >> RFC 3261) can
> > >>>>>>>> be invited to an ad-hoc conference, whithout
> > >> having to say
> > >>>>>>>> to the invited user to please hang up
> > >> because there will be
> > >>>>>>>> a call from the focus shortly.
> > >>>>>>>>>=20
> > >>>>>>>>> Re-using an already established dialog at
> > >> least at the
> > >>>>>>>> first glance seems to be a simply and
> > >> invited UE independent
> > >>>>>>>> solution. And as this re-INVITE it wanted by
> > >> at least one of
> > >>>>>>>> the involved user, I would more compare it
> > >> to some kind of
> > >>>>>>>> triggered 3rd party call control than to
> > >> spoofing.
> > >>>>>>>>>=20
> > >>>>>>>>> Of course as you said it would have to be
> > >> made clear that
> > >>>>>>>> the focus is able to collect all the
> > >> information needed for
> > >>>>>>>> sending re-INVITEs (proposed "?" mechanism
> > >> usage, dialog
> > >>>>>>>> event package, etc.).
> > >>>>>>>>>=20
> > >>>>>>>>>=20
> > >>>>>>>>> Regards, Martin
> > >>>>>>>>>=20
> > >>>>>>>>>=20
> > >>>>>>>>>=20
> > >>>>>>>>>=20
> > >>>>>>>>>=20
> > >>>>>>>>>=20
> > >>>>>>>>>> -----Urspr=FCngliche Nachricht-----
> > >>>>>>>>>> Von: Jeroen van Bemmel
> > >> [mailto:jbemmel@zonnet.nl]
> > >>>>>>>>>> Gesendet: Freitag, 24. August 2007 17:06
> > >>>>>>>>>> An: Alexeitsev, Denis; sip@ietf.org
> > >>>>>>>>>> Betreff: Re: [Sip] Extension of
> > >> conference procedures
> > >>>>>>>>>>=20
> > >>>>>>>>>>=20
> > >>>>>>>>>> Denis,
> > >>>>>>>>>>=20
> > >>>>>>>>>> If I understand your scenario, "focus" is
> > >> a third party
> > >>>>>>>>>> separate from A and B, right? (e.g. a
> > >> conference server)
> > >>>>>>>>>>=20
> > >>>>>>>>>> In that case the focus is not a party in
> > >> the A-B dialog,
> > >>>>>>>>>> and would need more than Call-ID, From
> > >> and To to be able
> > >>>>>>>>>> to construct a reINVITE that B would
> > >> accept as coming
> > >>>>>>>>>> from A (e.g. CSeq). In any case, this
> > >> looks like a very
> > >>>>>>>>>> inelegant, hacked solution (as the
> > >> conference server is
> > >>>>>>>>>> basically spoofing)
> > >>>>>>>>>>=20
> > >>>>>>>>>> RFC4579 section 5.10 provides some
> > >> insipration, as well
> > >>>>>>>>>> as
> > >>>>>>>>>>=20
> > >> http://www.ietf.org/internet-drafts/draft-ietf-sipping-
> > >>> service
> > >>>>>>>>>> -examples-13.txt
> > >>>>>>>>>> scenario 2.5
> > >>>>>>>>>>=20
> > >>>>>>>>>> For example, A could include a 'Replaces'
> > >> header in the
> > >>>>>>>>>> URI it includes in its conference URI
> > >> list. Then the
> > >>>>>>>>>> conference server would
> > >>>>>>>> send a new
> > >>>>>>>>>> (out-of-dialog) INVITE to B containing
> > >> this Replaces
> > >>>>>>>>>> header, and B would know that it is
> > >> associated with the
> > >>>>>>>>>> dialog it has with A (and can replace it,
> > >> without ringing
> > >>>>>>>>>> if the UA is constructed like that)
> > >>>>>>>>>>=20
> > >>>>>>>>>> The conference server should probably
> > >> also include a
> > >>>>>>>>>> Referred-By containing A's AoR, either
> > >> automatically
> > >>>>>>>>>> (i.e. copy from From header in
> > >>>>>>>>>> INVITE) or
> > >>>>>>>>>> included by A in the URI (former is
> > >> better)
> > >>>>>>>>>>=20
> > >>>>>>>>>> Regards,
> > >>>>>>>>>> Jeroen
> > >>>>>>>>>>=20
> > >>>>>>>>>> Alexeitsev, D wrote:
> > >>>>>>>>>>=20
> > >>>>>>>>>>> I'd like to discuss the extension of the
> > >> current
> > >>>>>>>>>>> conference
> > >>>>>>>>>>>=20
> > >>>>>>>>>> procedures
> > >>>>>>>>>>=20
> > >>>>>>>>>>> with the following functionality.
> > >>>>>>>>>>>=20
> > >>>>>>>>>>> 3GPP conference specifications are
> > >> basing generally on
> > >>>>>>>>>>> the Conferencing Framework (RFC 4353)
> > >> and for one
> > >>>>>>>>>>> possibility
> > >>>>>>>>>>>=20
> > >>>>>>>>>> of inviting
> > >>>>>>>>>>=20
> > >>>>>>>>>>> users to the confrence on
> > >>>>>> draft-ietf-sip-uri-list-conferencing.
> > >>>>>>>>>>>=20
> > >>>>>>>>>>> Using the conferencing framework, the
> > >> following
> > >>>>>>>>>>> situation
> > >>>>>>>> can occur
> > >>>>>>>>>>> when a user is invited to an ad-hoc
> > >> conference:
> > >>>>>>>>>>> User A is in a dialog with user B, and
> > >> decides to start
> > >>>>>>>>>>> a
> > >>>>>>>>>>>=20
> > >>>>>>>>>> conference,
> > >>>>>>>>>>=20
> > >>>>>>>>>>> for example using an INVITE request to
> > >> the focus which
> > >>>>>>>>>>>=20
> > >>>>>>>>>> includes a URI
> > >>>>>>>>>>=20
> > >>>>>>>>>>> list with the URIs of the users which
> > >> shall be added to
> > >>>>>>>>>>> the conference, incl. B. So when the
> > >> INVITE request from
> > >>>>>>>>>>> the
> > >>> focus
> > >>>>>>>>>>> arrives at B, he is still in the
> > >> original dialog with
> > >>>>>> A, and so it
> > >>>>>>>>>>> depends on B if he accepts the 2nd
> > >> INVITE and the
> > >>>>>>>> conference can be
> > >>>>>>>>>>> established.
> > >>>>>>>>>>>=20
> > >>>>>>>>>>> At the last 3GPP CT1 meeting the idea of
> > >> transporting
> > >>>>>>>>>>> dialog identifiers together with the
> > >> URIs was introduced
> > >>>>>>>>>>> to
> > >>>>>> solve this
> > >>>>>>>>>>> problem. Basing on the idea that the
> > >> procedures at
> > >>>>>> the conference
> > >>>>>>>>>>> server are extended in that way, that
> > >> the conference
> > >>>>>>>> server is aware
> > >>>>>>>>>>> of already established dialogs, the
> > >> focus then has the
> > >>>>>>>>>>>=20
> > >>>>>>>>>> possibility to
> > >>>>>>>>>>=20
> > >>>>>>>>>>> send re-INVITES in the indicated dialogs
> > >> and connect the
> > >>>>>>>> media from
> > >>>>>>>>>>> the invited users to the conference
> > >> bridge.
> > >>>>>>>>>>> In the URI list the dialogs can be
> > >> indicated using the
> > >>>>>>>> "?" mechanism
> > >>>>>>>>>>> according to subclause 19.1.1 of RFC
> > >> 3261.
> > >>>>>>>>>>>=20
> > >>>>>>>>>>> Following example shows the proposed
> > >> mechanism:
> > >>>>>>>>>>>=20
> > >>>>>>>>>>> INVITE Conference
> > >>>>>>>>>>> To: Conference
> > >>>>>>>>>>> From: A
> > >>>>>>>>>>> Require: recipient-list-invite
> > >>>>>>>>>>>=20
> > >>>>>>>>>>> Content-Type:
> > >> application/resource-lists+xml
> > >>>>>>>>>>> Content-Disposition: recipient-list
> > >>>>>>>>>>>=20
> > >>>>>>>>>>> <?xml version=3D"1.0" encoding=3D"UTF-8"?>
> > >> <resource-lists
> > >>>>>>>>>>> xmlns=3D"urn:ietf:params:xml:ns:resource-
> > >>> lists"
> > >>>>>>>>>>>=20
> > >> xmlns:cp=3D"urn:ietf:params:xml:ns:copyControl">
> > >>>>>>>>>>>   <list>
> > >>>>>>>>>>>    <entry
> > >> uri=3D"B?Call-ID=3D1&From=3DA%3Btag%3Da&To=3DB%3Btag%3Db"
> > >>>>>>>>>>> cp:copyControl=3D"to"/>
> > >>>>>>>>>>>    <entry
> > >> uri=3D"C?Call-ID=3D2&From=3DA%3Btag%3Da&To=3DC%3btag%3Dc"
> > >>>>>>>>>>> cp:copyControl=3D"to"/>
> > >>>>>>>>>>>   </list>
> > >>>>>>>>>>>  </resource-lists>
> > >>>>>>>>>>>=20
> > >>>>>>>>>>> Greetings,
> > >>>>>>>>>>> Denis Alexeitsev
> > >>>>>>>>>>>=20
> > >>>>>>>>>>>=20
> > >>>>>>>>>>>=20
> > >> _______________________________________________
> > >>>>>>>>>>> Sip mailing list
> > >>>>>>>>>>>=20
> > >> https://www1.ietf.org/mailman/listinfo/sip
> > >>>>>>>>>>> This list is for NEW development of the
> > >> core SIP
> > >>>>>>>>>>> Protocol Use
> > >> sip-implementors@cs.columbia.edu for
> > >>>>>>>>>>> questions on
> > >>>>>> current sip
> > >>>>>>>>>>> Use sipping@ietf.org for new
> > >> developments on the
> > >>>>>>>> application of sip
> > >>>>>>>>>>>=20
> > >>>>>>>>>>=20
> > >>>>>>>>>>=20
> > >> _______________________________________________
> > >>>>>>>>>> Sip mailing list
> > >>>>>>>>>>=20
> > >> https://www1.ietf.org/mailman/listinfo/sip
> > >>>>>>>>>> This list is for NEW development of the
> > >> core SIP Protocol
> > >>>>>>>>>> Use sip-implementors@cs.columbia.edu for
> > >> questions on
> > >>>>>> current sip
> > >>>>>>>>>> Use sipping@ietf.org for new developments
> > >> on the
> > >>>>>> application of sip
> > >>>>>>>>>>=20
> > >>>>>>>>>>=20
> > >>>>>>>>>=20
> > >>>>>>>>>=20
> > >>>>>>>>=20
> > >>>>>>>=20
> > >>>>>>>=20
> > >>>>>>>=20
> > >> _______________________________________________
> > >>>>>>> Sip mailing list
> > >> https://www1.ietf.org/mailman/listinfo/sip
> > >>>>>>> This list is for NEW development of the core
> > >> SIP Protocol Use
> > >>>>>>> sip-implementors@cs.columbia.edu for questions
> > >> on current sip
> > >>>>>>> Use sipping@ietf.org for new developments on
> > >> the application
> > >>>>>>> of
> > >>> sip
> > >>>>>>=20
> > >>>>=20
> > >>>>=20
> > >>>> _______________________________________________
> > >>>> Sip mailing list
> > >> https://www1.ietf.org/mailman/listinfo/sip
> > >>>> This list is for NEW development of the core SIP
> > >> Protocol Use
> > >>>> sip-implementors@cs.columbia.edu for questions on
> > >> current sip Use
> > >>>> sipping@ietf.org for new developments on the
> > >> application of sip
> > >>>>=20
> > >>=20
> > >>=20
> > >> _______________________________________________
> > >> Sip mailing list
> > >> https://www1.ietf.org/mailman/listinfo/sip
> > >> This list is for NEW development of the core SIP Protocol Use=20
> > >> sip-implementors@cs.columbia.edu for questions on=20
> current sip Use=20
> > >> sipping@ietf.org for new developments on the application of sip
> > >>=20
> > >>=20
> > >>=20
> > >>=20
> > >> _______________________________________________
> > >> Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
> > >> This list is for NEW development of the core SIP Protocol Use=20
> > >> sip-implementors@cs.columbia.edu for questions on=20
> current sip Use=20
> > >> sipping@ietf.org for new developments on the application of sip
> > >>=20
> > >=20
> > >=20
> > > _______________________________________________
> > > Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
> > > This list is for NEW development of the core SIP Protocol Use=20
> > > sip-implementors@cs.columbia.edu for questions on current sip Use=20
> > > sipping@ietf.org for new developments on the application of sip
> >=20
> >=20
> > Notice:  This email message, together with any attachments, may=20
> > contain information  of  BEA Systems,  Inc.,  its=20
> subsidiaries  and =20
> > affiliated entities,  that may be confidential,  proprietary, =20
> > copyrighted  and/or legally privileged, and is intended=20
> solely for the=20
> > use of the individual or entity named in this message. If=20
> you are not=20
> > the intended recipient, and have received this message in error,=20
> > please immediately return this by email and then delete it.
> >=20
>=20
>=20
> _______________________________________________
> Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol Use=20
> sip-implementors@cs.columbia.edu for questions on current sip=20
> Use sipping@ietf.org for new developments on the application of sip
>=20


_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Wed Sep 05 07:58:02 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1IStUG-0003AP-Qq; Wed, 05 Sep 2007 07:56:00 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1IStUF-0003AB-CK
	for sip-confirm+ok@megatron.ietf.org; Wed, 05 Sep 2007 07:55:59 -0400
Received: from [10.90.34.44] (helo=chiedprmail1.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1IStUE-0003A3-W5
	for sip@ietf.org; Wed, 05 Sep 2007 07:55:59 -0400
Received: from owa.tdsoft.com ([212.143.64.50] helo=mailserver.vocaltec.co.il)
	by chiedprmail1.ietf.org with esmtp (Exim 4.43) id 1IStUE-0002mf-HC
	for sip@ietf.org; Wed, 05 Sep 2007 07:55:58 -0400
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: [Sip] INFO
Date: Wed, 5 Sep 2007 14:56:58 +0300
Message-ID: <431F3BDE11BF2F42A22CBEFA36BD88A401774AA9@mailserver.vocaltec.local>
In-Reply-To: <C3030F4F.A824%eburger@bea.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] INFO
Thread-Index: AcfopsS6ijL/eVSeR7OkrFxhvjEZ1wCqsuc+ABF4AvAA4JbFswAlLCkA
References: <000601c7eb98$86b9fa40$ee1c550a@china.huawei.com>
	<C3030F4F.A824%eburger@bea.com>
From: "Bram Verburg" <bram@vocaltec.com>
To: "Eric Burger" <eburger@bea.com>
X-Spam-Score: 0.0 (/)
X-Scan-Signature: e5ba305d0e64821bf3d8bc5d3bb07228
Cc: sip <sip@ietf.org>
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

> That is the point of the draft.  All of the uses of INFO=20
> today have alternatives that do not have the same problems.
>=20
> In fact, I am really thinking the draft should point out the=20
> use of INFO for SIP-T is also incorrect.  SIP-T should use a=20
> control channel, not the "SIP"
> channel, for transporting proprietary signaling.  The only=20
> thing SIP-T does is re-create TCP over SIP.  Not a very=20
> useful use of SIP.

I don't think that's a fair assessment of SIP-T, since you seem to be
ignoring the fact that SIP-T also (primarily) uses other methods than
INFO.

The encapsulation of 'proprietary' signaling is done to convey
information that cannot currently be conveyed in pure SIP. But other
than that, within the VoIP domain the regular SIP dialog model is used
to establish and tear down sessions. SIP headers take precedence over
the contents of the ISUP/Q.931 message, so the 'tunneled' message is
only used to fill in some blanks at the receiving end. For the most part
proxies and even user agents can safely ignore the message body and
still participate in the SIP dialog.

Some ISUP/Q.931 messages arrive at a stage in the session where SIP
doesn't define any interaction between UAs, so currently INFO is used as
a tunnel. If you believe it should be replaced by something less
ambiguous, that won't be abused outside the scope of SIP-T the same way
INFO is today, I guess that's fair enough. But saying that SIP-T should
use TCP tunnels instead seems a bit harsh.

Bram


_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Wed Sep 05 09:10:29 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1ISuca-0004Fw-6t; Wed, 05 Sep 2007 09:08:40 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1ISucY-0004Fq-UN
	for sip-confirm+ok@megatron.ietf.org; Wed, 05 Sep 2007 09:08:38 -0400
Received: from [10.90.34.44] (helo=chiedprmail1.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1ISucY-0004Fi-IC
	for sip@ietf.org; Wed, 05 Sep 2007 09:08:38 -0400
Received: from repmmg02.bea.com ([66.248.192.39])
	by chiedprmail1.ietf.org with esmtp (Exim 4.43) id 1ISucY-000597-0i
	for sip@ietf.org; Wed, 05 Sep 2007 09:08:38 -0400
Received: from repmmr01.bea.com (repmmr01.bea.com [10.160.29.71])
	by repmmg02.bea.com (Switch-3.2.7/Switch-3.2.7) with ESMTP id
	l85D8Yq0015545; Wed, 5 Sep 2007 06:08:34 -0700
Received: from repbex01.amer.bea.com (repbex01.bea.com [10.160.26.98])
	by repmmr01.bea.com (Switch-3.2.7/Switch-3.2.7) with ESMTP id
	l85D8WWc027042; Wed, 5 Sep 2007 06:08:32 -0700
Received: from 172.24.28.226 ([172.24.28.226]) by repbex01.amer.bea.com
	([10.160.26.98]) with Microsoft Exchange Server HTTP-DAV ; 
	Wed,  5 Sep 2007 13:08:32 +0000
User-Agent: Microsoft-Entourage/11.3.6.070618
Date: Wed, 05 Sep 2007 06:08:30 -0700
Subject: Re: [Sip] INFO
From: Eric Burger <eburger@bea.com>
To: Bram Verburg <bram@vocaltec.com>
Message-ID: <C303F85E.A902%eburger@bea.com>
Thread-Topic: [Sip] INFO
Thread-Index: AcfopsS6ijL/eVSeR7OkrFxhvjEZ1wCqsuc+ABF4AvAA4JbFswAlLCkAAAPXpb8=
In-Reply-To: <431F3BDE11BF2F42A22CBEFA36BD88A401774AA9@mailserver.vocaltec.local>
Mime-version: 1.0
Content-type: text/plain; charset=US-ASCII
Content-transfer-encoding: 7bit
x-BEA-PMX-Instructions: AV
x-BEA-MM: Internal-To-External
X-Spam-Score: 0.0 (/)
X-Scan-Signature: 0ddefe323dd869ab027dbfff7eff0465
Cc: sip <sip@ietf.org>
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

SIP-T suffers *all* of the issues with INFO.

Read section 3.3 for the 'right' way of doing SIP-T.

That said, let's be real: I don't think anyone will abandon SIP-T at this
late date.  Although this really is a counter example, I would liken this to
the story in:
http://www.snopes.com/history/american/gauge.htm




On 9/5/07 4:56 AM, "Bram Verburg" <bram@vocaltec.com> wrote:

>> That is the point of the draft.  All of the uses of INFO
>> today have alternatives that do not have the same problems.
>> 
>> In fact, I am really thinking the draft should point out the
>> use of INFO for SIP-T is also incorrect.  SIP-T should use a
>> control channel, not the "SIP"
>> channel, for transporting proprietary signaling.  The only
>> thing SIP-T does is re-create TCP over SIP.  Not a very
>> useful use of SIP.
> 
> I don't think that's a fair assessment of SIP-T, since you seem to be
> ignoring the fact that SIP-T also (primarily) uses other methods than
> INFO.
> 
> The encapsulation of 'proprietary' signaling is done to convey
> information that cannot currently be conveyed in pure SIP. But other
> than that, within the VoIP domain the regular SIP dialog model is used
> to establish and tear down sessions. SIP headers take precedence over
> the contents of the ISUP/Q.931 message, so the 'tunneled' message is
> only used to fill in some blanks at the receiving end. For the most part
> proxies and even user agents can safely ignore the message body and
> still participate in the SIP dialog.
> 
> Some ISUP/Q.931 messages arrive at a stage in the session where SIP
> doesn't define any interaction between UAs, so currently INFO is used as
> a tunnel. If you believe it should be replaced by something less
> ambiguous, that won't be abused outside the scope of SIP-T the same way
> INFO is today, I guess that's fair enough. But saying that SIP-T should
> use TCP tunnels instead seems a bit harsh.
> 
> Bram
> 



Notice:  This email message, together with any attachments, may contain information  of  BEA Systems,  Inc.,  its subsidiaries  and  affiliated entities,  that may be confidential,  proprietary,  copyrighted  and/or legally privileged, and is intended solely for the use of the individual or entity named in this message. If you are not the intended recipient, and have received this message in error, please immediately return this by email and then delete it.


_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Wed Sep 05 09:47:47 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1ISvCg-0007b4-Dq; Wed, 05 Sep 2007 09:45:58 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1ISvCe-0007ZD-Ra
	for sip-confirm+ok@megatron.ietf.org; Wed, 05 Sep 2007 09:45:56 -0400
Received: from [10.91.34.44] (helo=ietf-mx.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1ISvCe-0007Z5-Hx
	for sip@ietf.org; Wed, 05 Sep 2007 09:45:56 -0400
Received: from owa.tdsoft.com ([212.143.64.50] helo=mailserver.vocaltec.co.il)
	by ietf-mx.ietf.org with esmtp (Exim 4.43) id 1ISvCc-0003vv-PT
	for sip@ietf.org; Wed, 05 Sep 2007 09:45:56 -0400
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: [Sip] INFO
Date: Wed, 5 Sep 2007 16:46:57 +0300
Message-ID: <431F3BDE11BF2F42A22CBEFA36BD88A401774AF7@mailserver.vocaltec.local>
In-Reply-To: <C303F85E.A902%eburger@bea.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] INFO
Thread-Index: AcfopsS6ijL/eVSeR7OkrFxhvjEZ1wCqsuc+ABF4AvAA4JbFswAlLCkAAAPXpb8AAFTEcA==
References: <431F3BDE11BF2F42A22CBEFA36BD88A401774AA9@mailserver.vocaltec.local>
	<C303F85E.A902%eburger@bea.com>
From: "Bram Verburg" <bram@vocaltec.com>
To: "Eric Burger" <eburger@bea.com>
X-Spam-Score: 0.0 (/)
X-Scan-Signature: 386e0819b1192672467565a524848168
Cc: sip <sip@ietf.org>
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

OK, SIP-T is not going away, but I'm still not sure whether you are
trying to say that all of SIP-T is bad, or only its use of INFO? If all
of SIP-T is bad, then let's not fix it and wait till it does go away
eventually. If the problem is specifically with INFO, then let's define
an event package that allows endpoints to request mid-call 'proprietary'
signaling events, and then we can deprecate INFO altogether.

My point was that SIP-T is not simply a tunnel that could be replaced by
any other transport layer, which is what section 3.3 seems to describe.
It is a 'session initiation protocol' that does exactly what SIP is
designed to do: initiate sessions. The fact that the INFO method has a
problem doesn't mean that SIP-T is an inappropriate use of SIP.

Bram


> -----Original Message-----
> From: Eric Burger [mailto:eburger@bea.com]=20
> Sent: 05 September 2007 16:09
> To: Bram Verburg
> Cc: sip
> Subject: Re: [Sip] INFO
>=20
> SIP-T suffers *all* of the issues with INFO.
>=20
> Read section 3.3 for the 'right' way of doing SIP-T.
>=20
> That said, let's be real: I don't think anyone will abandon=20
> SIP-T at this late date.  Although this really is a counter=20
> example, I would liken this to the story in:
> http://www.snopes.com/history/american/gauge.htm
>=20
>=20
>=20
>=20
> On 9/5/07 4:56 AM, "Bram Verburg" <bram@vocaltec.com> wrote:
>=20
> >> That is the point of the draft.  All of the uses of INFO=20
> today have=20
> >> alternatives that do not have the same problems.
> >>=20
> >> In fact, I am really thinking the draft should point out=20
> the use of=20
> >> INFO for SIP-T is also incorrect.  SIP-T should use a control=20
> >> channel, not the "SIP"
> >> channel, for transporting proprietary signaling.  The only thing=20
> >> SIP-T does is re-create TCP over SIP.  Not a very useful=20
> use of SIP.
> >=20
> > I don't think that's a fair assessment of SIP-T, since you=20
> seem to be=20
> > ignoring the fact that SIP-T also (primarily) uses other=20
> methods than=20
> > INFO.
> >=20
> > The encapsulation of 'proprietary' signaling is done to convey=20
> > information that cannot currently be conveyed in pure SIP.=20
> But other=20
> > than that, within the VoIP domain the regular SIP dialog=20
> model is used=20
> > to establish and tear down sessions. SIP headers take=20
> precedence over=20
> > the contents of the ISUP/Q.931 message, so the 'tunneled'=20
> message is=20
> > only used to fill in some blanks at the receiving end. For the most=20
> > part proxies and even user agents can safely ignore the=20
> message body=20
> > and still participate in the SIP dialog.
> >=20
> > Some ISUP/Q.931 messages arrive at a stage in the session where SIP=20
> > doesn't define any interaction between UAs, so currently=20
> INFO is used=20
> > as a tunnel. If you believe it should be replaced by something less=20
> > ambiguous, that won't be abused outside the scope of SIP-T the same=20
> > way INFO is today, I guess that's fair enough. But saying=20
> that SIP-T=20
> > should use TCP tunnels instead seems a bit harsh.
> >=20
> > Bram
> >=20
>=20
>=20
>=20
> Notice:  This email message, together with any attachments,=20
> may contain information  of  BEA Systems,  Inc.,  its=20
> subsidiaries  and  affiliated entities,  that may be=20
> confidential,  proprietary,  copyrighted  and/or legally=20
> privileged, and is intended solely for the use of the=20
> individual or entity named in this message. If you are not=20
> the intended recipient, and have received this message in=20
> error, please immediately return this by email and then delete it.
>=20


_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Wed Sep 05 10:13:03 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1ISvb8-0002oG-Jl; Wed, 05 Sep 2007 10:11:14 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1ISvb7-0002o7-1J
	for sip-confirm+ok@megatron.ietf.org; Wed, 05 Sep 2007 10:11:13 -0400
Received: from [10.91.34.44] (helo=ietf-mx.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1ISvb6-0002nz-Nb
	for sip@ietf.org; Wed, 05 Sep 2007 10:11:12 -0400
Received: from rtp-iport-1.cisco.com ([64.102.122.148])
	by ietf-mx.ietf.org with esmtp (Exim 4.43) id 1ISvb4-0004lO-TA
	for sip@ietf.org; Wed, 05 Sep 2007 10:11:12 -0400
Received: from rtp-dkim-1.cisco.com ([64.102.121.158])
	by rtp-iport-1.cisco.com with ESMTP; 05 Sep 2007 09:38:58 -0400
X-IronPort-AV: i="unknown";  a="70123636:sNHT0"
Received: from rtp-core-2.cisco.com (rtp-core-2.cisco.com [64.102.124.13])
	by rtp-dkim-1.cisco.com (8.12.11/8.12.11) with ESMTP id l85Dcwbs021844; 
	Wed, 5 Sep 2007 09:38:58 -0400
Received: from xbh-rtp-201.amer.cisco.com (xbh-rtp-201.cisco.com
	[64.102.31.12])
	by rtp-core-2.cisco.com (8.12.10/8.12.6) with ESMTP id l85DcKKp005394; 
	Wed, 5 Sep 2007 13:38:54 GMT
Received: from xfe-rtp-201.amer.cisco.com ([64.102.31.38]) by
	xbh-rtp-201.amer.cisco.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Wed, 5 Sep 2007 09:38:34 -0400
Received: from [161.44.174.118] ([161.44.174.118]) by
	xfe-rtp-201.amer.cisco.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Wed, 5 Sep 2007 09:38:33 -0400
Message-ID: <46DEB158.10101@cisco.com>
Date: Wed, 05 Sep 2007 09:38:32 -0400
From: Paul Kyzivat <pkyzivat@cisco.com>
User-Agent: Thunderbird 2.0.0.6 (Windows/20070728)
MIME-Version: 1.0
To: Gonzalo Camarillo <Gonzalo.Camarillo@ericsson.com>
Subject: Re: [Sip] New revision of draft-ietf-sip-body-handling-00.txt
References: <C302EA4F.A82D%eburger@bea.com> <46DDD081.9030900@cisco.com>
	<46DE8094.8060807@ericsson.com>
In-Reply-To: <46DE8094.8060807@ericsson.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-OriginalArrivalTime: 05 Sep 2007 13:38:33.0790 (UTC)
	FILETIME=[0DD1DDE0:01C7EFC2]
DKIM-Signature: v=0.5; a=rsa-sha256; q=dns/txt; l=13441; t=1188999538;
	x=1189863538; c=relaxed/simple; s=rtpdkim1001;
	h=Content-Type:From:Subject:Content-Transfer-Encoding:MIME-Version;
	d=cisco.com; i=pkyzivat@cisco.com;
	z=From:=20Paul=20Kyzivat=20<pkyzivat@cisco.com>
	|Subject:=20Re=3A=20[Sip]=20New=20revision=20of=20draft-ietf-sip-body-han
	dling-00.txt |Sender:=20
	|To:=20Gonzalo=20Camarillo=20<Gonzalo.Camarillo@ericsson.com>;
	bh=2COBTLKhJRsWFZlUYv6a1ux/91bImr7KnNhKwTFEYiw=;
	b=T8+m7kv659YcniI5a7ZUZt6VmRzaCof1KyKeDIxbRgyG1k2piKWipvRHL3bkYkQewgvYJai2
	2Ls/4Uzj5NS7VNGEGGyPX52A1Y6u+m6tvvK0bmclY9NZYMRIkO+AKiF7;
Authentication-Results: rtp-dkim-1; header.From=pkyzivat@cisco.com; dkim=pass (
	sig from cisco.com/rtpdkim1001 verified; ); 
X-Spam-Score: -4.0 (----)
X-Scan-Signature: 7e267523e0685e5aa2dbbdde4b659686
Cc: sip <sip@ietf.org>
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org



Gonzalo Camarillo wrote:
> Hi,
> 
> to be more concrete in our discussions, we need to make decisions on the 
> following two issues:
> 
> 1) Where in a SIP message is it allowed to reference a body part?
> 
> a) in header fields and body parts within the same multipart/related as 
> the referenced body part
> b) in header fields and body parts that appear before the referenced 
> body part
> c) in header fields and any body part
> 
> We discussed that doing c) would require to parse SIP messages twice to 
> look for potential references.

It is only necessary to parse twice if you can't decide what to do with 
the body part without finding the reference first.

If the rule is that you *always* process a body part based on its type 
and disposition, and that references provide *additional* behavior, then 
you can do an initial parsing and processing without regard to 
references. If the processing in that pass happens to yield references 
that cannot yet be resolved, then the processing of those needs to be 
deferred.

> Therefore, we decided to do a) or b). The 
> current draft specifies a), we doing b) might make sense as well (it 
> would be less restrictive).

We have plenty of counterexamples that (a) is insufficient. Any case 
where a header field in the sip message references a body part (e.g. 
GeoLocation) is a counterexample. So I think we must exclude (a) from 
consideration.

This can be solved by (b). But it can also be solved by a weaker 
condition (call it (d)) - allowing references from one part to any parts 
contained within it. This would include a direct reference to *the* 
immediate body, or if the body is a multipart then to any immediate 
child of the multipart. Its  unclear to me whether reference to a more 
deeply nested part is needed, but to be safe lets say that should also 
be permitted.

But (b) or this weaker condition (d) doesn't cover the cross references 
among related parts covered by (a). I don't know where that usage comes 
from, but we probably need to allow it, since if it is needed for mail 
then it is probably needed for MESSAGE too.

So, I think the minimal sufficient requirement is for (a)+(b), (a)+(d), 
or (c).

I'm inclined to say we should just go with (c), plus the specification 
that body parts are *always* processed according to their type and 
disposition, and that references simply add additional processing on top 
of that. In turn, *that* leads to the need for a C-D that means "do 
nothing" for those cases when the reference defines the only intended usage.

> 2) If a receiver does not understand a reference to a body part:
> 
> a) it should process (handle) it solely based on its disposition type 
> (as a fall-back mechanism). If the sender does not want this to happen, 
> it can use an option tag.
> 
> b) the body part will have a disposition type of "only-by-reference". 
> This way, since the receiver did not understand the reference, it knows 
> it should not process the body.
> 
> The current draft specifies a), but b) would be an interesting 
> optimization (no need to use option tags and reissue requests). However, 
> we would need to get the opinion of a MIME person on b).

Eric???

> Cheers,
> 
> Gonzalo
> 
> 
> 
> Paul Kyzivat wrote:
>>
>>
>> Eric Burger wrote:
>>> I agree 100% with Paul.  However, one thing I would like to hear 
>>> opinions on
>>> is the following:
>>>
>>> Do we way body parts are always processed, no matter what?
>>>
>>> It would be convenient to say body parts get processed as needed.  If 
>>> there
>>> is a related part that never gets referenced, then a conforming 
>>> processor
>>> might not process that part, as an optimization.
>>
>> This gets into semantics...
>>
>> For one thing, I guess we should talk about "handling" rather than 
>> "processing" - this is tied to the C-D "handling=" parameter.
>>
>> But the key thing is what does it *mean* to say you have handled 
>> something? Its one thing to understand the meaning of the type and 
>> disposition. What you actually *do* once that is understood is 
>> something else entirely.
>>
>> I would expect that somewhere there would be a normative specification 
>> for each C-D of what it means to *handle* body parts with that 
>> disposition. This is where we get into trouble with "render", where we 
>> need a different definition for SIP than is used for email.
>>
>> I presume that if we had such normative definitions, then that would 
>> determine what sort of optimizations, such as lazy processing, are 
>> allowed.
>>
>> For example, 3261 defines (barely) the C-D "alert". It says this 
>> "should" (lower case) be rendered. Together with some words elsewhere 
>> about Alert-Info that warn of security issues, its seems clear that 
>> the UA is given discretion about actually rendering this. (But it is 
>> not a stellar example of clarity.) I would interpret this to mean that 
>> you can consider the "alert" body part to have been "handled" if you 
>> have indeed understood it and then *either* rendered it or made an 
>> explicit not to render it.
>>
>>> However, one thing we need to be mindful of are side effects.  MIME body
>>> parts can make external references.  Those external references (to
>>> http/https URI's) may hit application servers.  Those application 
>>> servers
>>> may do something based on the receipt of the URI.  It could be as 
>>> simple as
>>> recording the fact the body part was read (like a web beacon), or it 
>>> could
>>> be as complex as changing application state.
>>
>> We have similar issues with headers that contain URL references, that 
>> might or might not be resolved. E.g. Call-Info.
>>
>> Again, I don't see any general answer better than the specification of 
>> the particular header or C-D.
>>
>> Based on this discussion I am beginning to conclude that we might as 
>> well treat each body part almost as if it were a header whose name is 
>> its C-D.
>>
>>> What do people think of this?  Do we say that SIP engines are 
>>> opportunistic,
>>> and the side effect MUST happen if the body gets used, buy the side 
>>> effect
>>> MAY happen if the body does not get used?  That would be my vote, as the
>>> alternative, that all side effects (external references get resolved) 
>>> happen
>>> puts a pretty big burden on User Agents.
>>
>> This is further complicated by intermediate nodes. They are 
>> *permitted* to look at body parts. If, as a result, an intermediate 
>> node dereferences a reference within a body part, you will potentially 
>> have another side effect.
>>
>> I also agree that we should give the UA latitude in what processing it 
>> does. For example, even though a request has a geopriv header with a 
>> body part containing location data, and has specified 
>> "handling=required", the UAS may have no use for the location. If it 
>> doesn't intend to use it then why should it process it?
>>
>>     Paul
>>
>>> On 8/29/07 8:57 AM, "Paul Kyzivat" <pkyzivat@cisco.com> wrote:
>>>
>>>> To clarify futher my last point below...
>>>>
>>>> What I am saying is that IMO body parts must always be processed
>>>> according to their type and disposition, whether there are 
>>>> references to
>>>> them or not. If there is a reference, and it is understood, then it can
>>>> modify or supplement the processing, but if the reference is not
>>>> recognized or understood then the other processing still occurs.
>>>>
>>>> If we want to support the possibility of a reference to a body part,
>>>> where there is to be no processing of the body part when the reference
>>>> is not understood, then we need a content-disposition that says "don't
>>>> do anything with this unless you process a reference to it."
>>>>
>>>> An alternative is to simply assume there are no such cases, and warn
>>>> people that use references to select a C-D for the referenced part that
>>>> will have an appropriate result if the reference is not understood.
>>>>
>>>> For instance, we have both the Alert-Info header and the "alert" 
>>>> C-D. If
>>>> you use an A-I with a CID reference, then you can use "alert" as the 
>>>> C-D
>>>> of that part. In that case, the A-I header is redundant unless it
>>>> contains something that modifies the processing.
>>>>
>>>> An example where the problem I am concerned about may exist is in
>>>> draft-ietf-sip-location-conveyance-08. It has an example of a
>>>> Geolocation header referencing a body part. There is no C-D header in
>>>> the example, so by default it is "render;handling=required". And its 
>>>> C-T
>>>> is application/pidf+xml. If a recipient of this message didn't
>>>> understand the Geolocation header it would reach the conclusion that it
>>>> should render the pidf. Its debatable whether that is the desired
>>>> conclusion - I think not. IMO the intent is that if the Geolocation
>>>> header isn't processed then the pidf should be ignored. So, IMO this
>>>> body part ought to contain:
>>>>     Content-Disposition: by-reference;handling=optional
>>>>
>>>> (I don't care what name we use for the disposition, just that we 
>>>> have one.)
>>>>
>>>> Thanks,
>>>> Paul
>>>>
>>>> Paul Kyzivat wrote:
>>>>> Gonzalo,
>>>>>
>>>>> Obviously we allow a "forward" reference from the sip message itself
>>>>> (which from a mime perspective are just a bunch of mime headers.)
>>>>>
>>>>> I think that establishes a precedent that needs to be continued. An
>>>>> example of why can be seen in sipfrag:
>>>>>
>>>>> If we had a valid sip response that had a reference into one of its 
>>>>> body
>>>>> parts, then if that was turned into a sipfrag and stuffed into the 
>>>>> body
>>>>> of a NOTIFY, then it must still be valid.
>>>>>
>>>>> I just did a quick scan of the new draft, so the following is a
>>>>> tentative comment, until I can read it more carefully:
>>>>>
>>>>> I think the draft is now saying that the decision about whether to
>>>>> process a body part according to a reference to it, or process
>>>>> independently, is decided based on whether a reference is found. We 
>>>>> had
>>>>> this discussion before, and I think we agreed that wouldn't work well,
>>>>> and that instead we would have a special C-D type for body parts that
>>>>> are disposed of based on a reference.
>>>>>
>>>>> I don't think the introduction of issues related to multipart/related
>>>>> changes this. The obvious cases are when there is a single
>>>>> multipart/mixed containing some body parts. Some of those may be
>>>>> referenced from CID URIs in sip headers, and others (e.g. SDP) may 
>>>>> stand
>>>>> on their own. It is entirely possible that a body part might be
>>>>> referenced from some extension header that the recipient doesn't
>>>>> understand. In that case it may erroneously decide to process the body
>>>>> part on its own, when it should instead have ignored it because the
>>>>> header isn't being processed.
>>>>>
>>>>>     Thanks,
>>>>>     Paul
>>>>>
>>>>> Gonzalo Camarillo wrote:
>>>>>> Folks,
>>>>>>
>>>>>> I have just submitted a new revision of the body handling draft. 
>>>>>> Until
>>>>>> it appears on the archives, you can fetch it from:
>>>>>>
>>>>>> http://users.piuha.net/gonzalo/temp/draft-ietf-sip-body-handling-00.txt 
>>>>>>
>>>>>>
>>>>>> Per our discussions in Chicago, the draft now states that only body
>>>>>> parts within the same 'multipart/related' can reference each other
>>>>>> using cid URIs.
>>>>>>
>>>>>> If this is too restrictive, we could also allow using forward
>>>>>> references in any context (with no 'multipart/related' at all).
>>>>>>
>>>>>> Comments?
>>>>>>
>>>>>> Thanks,
>>>>>>
>>>>>> Gonzalo
>>>>>>
>>>>>>
>>>>>>
>>>>>> _______________________________________________
>>>>>> Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
>>>>>> This list is for NEW development of the core SIP Protocol
>>>>>> Use sip-implementors@cs.columbia.edu for questions on current sip
>>>>>> Use sipping@ietf.org for new developments on the application of sip
>>>>>>
>>>>>
>>>>> _______________________________________________
>>>>> Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
>>>>> This list is for NEW development of the core SIP Protocol
>>>>> Use sip-implementors@cs.columbia.edu for questions on current sip
>>>>> Use sipping@ietf.org for new developments on the application of sip
>>>>>
>>>>
>>>> _______________________________________________
>>>> Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
>>>> This list is for NEW development of the core SIP Protocol
>>>> Use sip-implementors@cs.columbia.edu for questions on current sip
>>>> Use sipping@ietf.org for new developments on the application of sip
>>>
>>>
>>> Notice:  This email message, together with any attachments, may 
>>> contain information  of  BEA Systems,  Inc.,  its subsidiaries  and  
>>> affiliated entities,  that may be confidential,  proprietary,  
>>> copyrighted  and/or legally privileged, and is intended solely for 
>>> the use of the individual or entity named in this message. If you are 
>>> not the intended recipient, and have received this message in error, 
>>> please immediately return this by email and then delete it.
>>>
> 


_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Wed Sep 05 10:14:28 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1ISvca-0004xy-40; Wed, 05 Sep 2007 10:12:44 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1ISvcX-0004nZ-Um
	for sip-confirm+ok@megatron.ietf.org; Wed, 05 Sep 2007 10:12:41 -0400
Received: from [10.90.34.44] (helo=chiedprmail1.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1ISvcX-0004kC-G5
	for sip@ietf.org; Wed, 05 Sep 2007 10:12:41 -0400
Received: from repmmg02.bea.com ([66.248.192.39])
	by chiedprmail1.ietf.org with esmtp (Exim 4.43) id 1ISvcW-00077q-P4
	for sip@ietf.org; Wed, 05 Sep 2007 10:12:41 -0400
Received: from repmmr01.bea.com (repmmr01.bea.com [10.160.29.71])
	by repmmg02.bea.com (Switch-3.2.7/Switch-3.2.7) with ESMTP id
	l85ECaFs023545; Wed, 5 Sep 2007 07:12:36 -0700
Received: from repbex01.amer.bea.com (repbex01.bea.com [10.160.26.98])
	by repmmr01.bea.com (Switch-3.2.7/Switch-3.2.7) with ESMTP id
	l85EB5k2025775; Wed, 5 Sep 2007 07:12:35 -0700
Received: from 172.24.28.226 ([172.24.28.226]) by repbex01.amer.bea.com
	([10.160.26.98]) with Microsoft Exchange Server HTTP-DAV ; 
	Wed,  5 Sep 2007 14:11:07 +0000
User-Agent: Microsoft-Entourage/11.3.6.070618
Date: Wed, 05 Sep 2007 07:11:06 -0700
Subject: Re: [Sip] INFO
From: Eric Burger <eburger@bea.com>
To: Bram Verburg <bram@vocaltec.com>
Message-ID: <C304070A.A91A%eburger@bea.com>
Thread-Topic: [Sip] INFO
Thread-Index: AcfopsS6ijL/eVSeR7OkrFxhvjEZ1wCqsuc+ABF4AvAA4JbFswAlLCkAAAPXpb8AAFTEcAAB2uzr
In-Reply-To: <431F3BDE11BF2F42A22CBEFA36BD88A401774AF7@mailserver.vocaltec.local>
Mime-version: 1.0
Content-type: text/plain; charset=US-ASCII
Content-transfer-encoding: 7bit
x-BEA-PMX-Instructions: AV
x-BEA-MM: Internal-To-External
X-Spam-Score: 0.0 (/)
X-Scan-Signature: a7d2e37451f7f22841e3b6f40c67db0f
Cc: sip <sip@ietf.org>
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

The use of INFO part.  Hey, I'm not totally Henry - I do see a place for
communications service providers and I recognize the importance of
interworking with the PSTN for the next 15 years.

SIP-T is not a session initiation protocol.  It is a set of conventions for
TUNNELING proprietary signaling events over SIP.  Key word there is
TUNNELING.  That is the clue that section 3.3 applies.


On 9/5/07 6:46 AM, "Bram Verburg" <bram@vocaltec.com> wrote:

> OK, SIP-T is not going away, but I'm still not sure whether you are
> trying to say that all of SIP-T is bad, or only its use of INFO? If all
> of SIP-T is bad, then let's not fix it and wait till it does go away
> eventually. If the problem is specifically with INFO, then let's define
> an event package that allows endpoints to request mid-call 'proprietary'
> signaling events, and then we can deprecate INFO altogether.
> 
> My point was that SIP-T is not simply a tunnel that could be replaced by
> any other transport layer, which is what section 3.3 seems to describe.
> It is a 'session initiation protocol' that does exactly what SIP is
> designed to do: initiate sessions. The fact that the INFO method has a
> problem doesn't mean that SIP-T is an inappropriate use of SIP.
> 
> Bram
> 
> 
>> -----Original Message-----
>> From: Eric Burger [mailto:eburger@bea.com]
>> Sent: 05 September 2007 16:09
>> To: Bram Verburg
>> Cc: sip
>> Subject: Re: [Sip] INFO
>> 
>> SIP-T suffers *all* of the issues with INFO.
>> 
>> Read section 3.3 for the 'right' way of doing SIP-T.
>> 
>> That said, let's be real: I don't think anyone will abandon
>> SIP-T at this late date.  Although this really is a counter
>> example, I would liken this to the story in:
>> http://www.snopes.com/history/american/gauge.htm
>> 
>> 
>> 
>> 
>> On 9/5/07 4:56 AM, "Bram Verburg" <bram@vocaltec.com> wrote:
>> 
>>>> That is the point of the draft.  All of the uses of INFO
>> today have
>>>> alternatives that do not have the same problems.
>>>> 
>>>> In fact, I am really thinking the draft should point out
>> the use of
>>>> INFO for SIP-T is also incorrect.  SIP-T should use a control
>>>> channel, not the "SIP"
>>>> channel, for transporting proprietary signaling.  The only thing
>>>> SIP-T does is re-create TCP over SIP.  Not a very useful
>> use of SIP.
>>> 
>>> I don't think that's a fair assessment of SIP-T, since you
>> seem to be
>>> ignoring the fact that SIP-T also (primarily) uses other
>> methods than
>>> INFO.
>>> 
>>> The encapsulation of 'proprietary' signaling is done to convey
>>> information that cannot currently be conveyed in pure SIP.
>> But other
>>> than that, within the VoIP domain the regular SIP dialog
>> model is used
>>> to establish and tear down sessions. SIP headers take
>> precedence over
>>> the contents of the ISUP/Q.931 message, so the 'tunneled'
>> message is
>>> only used to fill in some blanks at the receiving end. For the most
>>> part proxies and even user agents can safely ignore the
>> message body
>>> and still participate in the SIP dialog.
>>> 
>>> Some ISUP/Q.931 messages arrive at a stage in the session where SIP
>>> doesn't define any interaction between UAs, so currently
>> INFO is used
>>> as a tunnel. If you believe it should be replaced by something less
>>> ambiguous, that won't be abused outside the scope of SIP-T the same
>>> way INFO is today, I guess that's fair enough. But saying
>> that SIP-T
>>> should use TCP tunnels instead seems a bit harsh.
>>> 
>>> Bram
>>> 
>> 
>> 
>> 
>> Notice:  This email message, together with any attachments,
>> may contain information  of  BEA Systems,  Inc.,  its
>> subsidiaries  and  affiliated entities,  that may be
>> confidential,  proprietary,  copyrighted  and/or legally
>> privileged, and is intended solely for the use of the
>> individual or entity named in this message. If you are not
>> the intended recipient, and have received this message in
>> error, please immediately return this by email and then delete it.
>> 
> 



Notice:  This email message, together with any attachments, may contain information  of  BEA Systems,  Inc.,  its subsidiaries  and  affiliated entities,  that may be confidential,  proprietary,  copyrighted  and/or legally privileged, and is intended solely for the use of the individual or entity named in this message. If you are not the intended recipient, and have received this message in error, please immediately return this by email and then delete it.


_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Wed Sep 05 11:20:31 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1ISweM-00030g-Px; Wed, 05 Sep 2007 11:18:38 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1ISweL-00030a-7V
	for sip-confirm+ok@megatron.ietf.org; Wed, 05 Sep 2007 11:18:37 -0400
Received: from [10.90.34.44] (helo=chiedprmail1.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1ISweK-00030N-SB
	for sip@ietf.org; Wed, 05 Sep 2007 11:18:36 -0400
Received: from exprod6og52.obsmtp.com ([64.18.1.185])
	by chiedprmail1.ietf.org with esmtp (Exim 4.43) id 1ISweK-0008Q5-0p
	for sip@ietf.org; Wed, 05 Sep 2007 11:18:36 -0400
Received: from source ([192.150.20.142]) by exprod6ob52.postini.com
	([64.18.5.12]) with SMTP; Wed, 05 Sep 2007 08:18:19 PDT
Received: from inner-relay-3.eur.adobe.com (inner-relay-3b [10.128.4.236])
	by outbound-smtp-2.corp.adobe.com (8.12.10/8.12.10) with ESMTP id
	l85FIDKd025867; Wed, 5 Sep 2007 08:18:17 -0700 (PDT)
Received: from fe1.corp.adobe.com (fe1.corp.adobe.com [10.8.192.70])
	by inner-relay-3.eur.adobe.com (8.12.10/8.12.9) with ESMTP id
	l85FICFV009070; Wed, 5 Sep 2007 08:18:12 -0700 (PDT)
Received: from namail5.corp.adobe.com ([10.8.192.88]) by fe1.corp.adobe.com
	with Microsoft SMTPSVC(6.0.3790.1830); 
	Wed, 5 Sep 2007 08:18:11 -0700
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: [Sip] INFO
Date: Wed, 5 Sep 2007 08:18:06 -0700
Message-ID: <24CCCC428EFEA2469BF046DB3C7A8D223AE070@namail5.corp.adobe.com>
In-Reply-To: <C304070A.A91A%eburger@bea.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] INFO
Thread-Index: AcfopsS6ijL/eVSeR7OkrFxhvjEZ1wCqsuc+ABF4AvAA4JbFswAlLCkAAAPXpb8AAFTEcAAB2uzrAAHmHCA=
References: <431F3BDE11BF2F42A22CBEFA36BD88A401774AF7@mailserver.vocaltec.local>
	<C304070A.A91A%eburger@bea.com>
From: "Henry Sinnreich" <hsinnrei@adobe.com>
To: "Eric Burger" <eburger@bea.com>, "Bram Verburg" <bram@vocaltec.com>
X-OriginalArrivalTime: 05 Sep 2007 15:18:11.0876 (UTC)
	FILETIME=[F9096640:01C7EFCF]
X-Spam-Score: 0.0 (/)
X-Scan-Signature: 2e8fc473f5174be667965460bd5288ba
Cc: sip <sip@ietf.org>
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

Thanks Eric! :-)

The guidelines for the usage of SIP don't have as far as I remember any
recommendation for SIP to be used as a tunneling protocol. In this
respect, the use of SIP for a "tunneling convention" is non-truth in
advertising.

As for the most effective way of carrying SS7 over IP networks, I would
be interested to hear how VoIP providers are actually doing it. Can
anyone share such information?

Oh yes,...
> I do see a place for communications service providers
So do I. Aren't we all here in the IETF to communicate over the Internet
or in private IP networks?

>> The fact that the INFO method has a
>> problem doesn't mean that SIP-T is an inappropriate use of SIP.

Yes, it is inappropriate since people attempting to connect with a SIP
end device such as a SIP phone or PSTN gateway on the SIP side will
fail.

Henry

-----Original Message-----
From: Eric Burger [mailto:eburger@bea.com]=20
Sent: Wednesday, September 05, 2007 9:11 AM
To: Bram Verburg
Cc: sip
Subject: Re: [Sip] INFO

The use of INFO part.  Hey, I'm not totally Henry - I do see a place for
communications service providers and I recognize the importance of
interworking with the PSTN for the next 15 years.

SIP-T is not a session initiation protocol.  It is a set of conventions
for
TUNNELING proprietary signaling events over SIP.  Key word there is
TUNNELING.  That is the clue that section 3.3 applies.


On 9/5/07 6:46 AM, "Bram Verburg" <bram@vocaltec.com> wrote:

> OK, SIP-T is not going away, but I'm still not sure whether you are
> trying to say that all of SIP-T is bad, or only its use of INFO? If
all
> of SIP-T is bad, then let's not fix it and wait till it does go away
> eventually. If the problem is specifically with INFO, then let's
define
> an event package that allows endpoints to request mid-call
'proprietary'
> signaling events, and then we can deprecate INFO altogether.
>=20
> My point was that SIP-T is not simply a tunnel that could be replaced
by
> any other transport layer, which is what section 3.3 seems to
describe.
> It is a 'session initiation protocol' that does exactly what SIP is
> designed to do: initiate sessions. The fact that the INFO method has a
> problem doesn't mean that SIP-T is an inappropriate use of SIP.
>=20
> Bram
>=20
>=20
>> -----Original Message-----
>> From: Eric Burger [mailto:eburger@bea.com]
>> Sent: 05 September 2007 16:09
>> To: Bram Verburg
>> Cc: sip
>> Subject: Re: [Sip] INFO
>>=20
>> SIP-T suffers *all* of the issues with INFO.
>>=20
>> Read section 3.3 for the 'right' way of doing SIP-T.
>>=20
>> That said, let's be real: I don't think anyone will abandon
>> SIP-T at this late date.  Although this really is a counter
>> example, I would liken this to the story in:
>> http://www.snopes.com/history/american/gauge.htm
>>=20
>>=20
>>=20
>>=20
>> On 9/5/07 4:56 AM, "Bram Verburg" <bram@vocaltec.com> wrote:
>>=20
>>>> That is the point of the draft.  All of the uses of INFO
>> today have
>>>> alternatives that do not have the same problems.
>>>>=20
>>>> In fact, I am really thinking the draft should point out
>> the use of
>>>> INFO for SIP-T is also incorrect.  SIP-T should use a control
>>>> channel, not the "SIP"
>>>> channel, for transporting proprietary signaling.  The only thing
>>>> SIP-T does is re-create TCP over SIP.  Not a very useful
>> use of SIP.
>>>=20
>>> I don't think that's a fair assessment of SIP-T, since you
>> seem to be
>>> ignoring the fact that SIP-T also (primarily) uses other
>> methods than
>>> INFO.
>>>=20
>>> The encapsulation of 'proprietary' signaling is done to convey
>>> information that cannot currently be conveyed in pure SIP.
>> But other
>>> than that, within the VoIP domain the regular SIP dialog
>> model is used
>>> to establish and tear down sessions. SIP headers take
>> precedence over
>>> the contents of the ISUP/Q.931 message, so the 'tunneled'
>> message is
>>> only used to fill in some blanks at the receiving end. For the most
>>> part proxies and even user agents can safely ignore the
>> message body
>>> and still participate in the SIP dialog.
>>>=20
>>> Some ISUP/Q.931 messages arrive at a stage in the session where SIP
>>> doesn't define any interaction between UAs, so currently
>> INFO is used
>>> as a tunnel. If you believe it should be replaced by something less
>>> ambiguous, that won't be abused outside the scope of SIP-T the same
>>> way INFO is today, I guess that's fair enough. But saying
>> that SIP-T
>>> should use TCP tunnels instead seems a bit harsh.
>>>=20
>>> Bram
>>>=20
>>=20
>>=20
>>=20
>> Notice:  This email message, together with any attachments,
>> may contain information  of  BEA Systems,  Inc.,  its
>> subsidiaries  and  affiliated entities,  that may be
>> confidential,  proprietary,  copyrighted  and/or legally
>> privileged, and is intended solely for the use of the
>> individual or entity named in this message. If you are not
>> the intended recipient, and have received this message in
>> error, please immediately return this by email and then delete it.
>>=20
>=20



Notice:  This email message, together with any attachments, may contain
information  of  BEA Systems,  Inc.,  its subsidiaries  and  affiliated
entities,  that may be confidential,  proprietary,  copyrighted  and/or
legally privileged, and is intended solely for the use of the individual
or entity named in this message. If you are not the intended recipient,
and have received this message in error, please immediately return this
by email and then delete it.


_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Wed Sep 05 11:36:52 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1ISwuR-0005qe-2C; Wed, 05 Sep 2007 11:35:15 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1ISwuP-0005qX-Fr
	for sip-confirm+ok@megatron.ietf.org; Wed, 05 Sep 2007 11:35:13 -0400
Received: from [10.91.34.44] (helo=ietf-mx.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1ISwuP-0005qO-6G
	for sip@ietf.org; Wed, 05 Sep 2007 11:35:13 -0400
Received: from exprod6og54.obsmtp.com ([64.18.1.189])
	by ietf-mx.ietf.org with esmtp (Exim 4.43) id 1ISwuN-0006Rr-9N
	for sip@ietf.org; Wed, 05 Sep 2007 11:35:13 -0400
Received: from source ([192.150.20.142]) by exprod6ob54.postini.com
	([64.18.5.12]) with SMTP; Wed, 05 Sep 2007 08:35:06 PDT
Received: from inner-relay-1.corp.adobe.com ([153.32.1.51])
	by outbound-smtp-2.corp.adobe.com (8.12.10/8.12.10) with ESMTP id
	l85FZ4Kd000049; Wed, 5 Sep 2007 08:35:05 -0700 (PDT)
Received: from fe1.corp.adobe.com (fe1.corp.adobe.com [10.8.192.70])
	by inner-relay-1.corp.adobe.com (8.12.10/8.12.10) with ESMTP id
	l85FZ3RC021427; Wed, 5 Sep 2007 08:35:03 -0700 (PDT)
Received: from namail5.corp.adobe.com ([10.8.192.88]) by fe1.corp.adobe.com
	with Microsoft SMTPSVC(6.0.3790.1830); 
	Wed, 5 Sep 2007 08:35:03 -0700
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: [Sip] INFO - more on SIP-T
Date: Wed, 5 Sep 2007 08:34:52 -0700
Message-ID: <24CCCC428EFEA2469BF046DB3C7A8D223AE071@namail5.corp.adobe.com>
In-Reply-To: <C304070A.A91A%eburger@bea.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] INFO - more on SIP-T
Thread-Index: AcfopsS6ijL/eVSeR7OkrFxhvjEZ1wCqsuc+ABF4AvAA4JbFswAlLCkAAAPXpb8AAFTEcAAB2uzrAAHmHCA=
References: <431F3BDE11BF2F42A22CBEFA36BD88A401774AF7@mailserver.vocaltec.local>
	<C304070A.A91A%eburger@bea.com>
From: "Henry Sinnreich" <hsinnrei@adobe.com>
To: "Eric Burger" <eburger@bea.com>, "Bram Verburg" <bram@vocaltec.com>
X-OriginalArrivalTime: 05 Sep 2007 15:35:03.0502 (UTC)
	FILETIME=[540346E0:01C7EFD2]
X-Spam-Score: -4.0 (----)
X-Scan-Signature: ee80a2074afbfe28d15369f4e74e579d
Cc: sip <sip@ietf.org>
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org


Actually, using the SIP-T protocol for tunneling SS7 is a designer
choice, though I would be interested to hear what other options there
are and what may be the best option. Are there reasons for SIP-T to be
the best option?

I still dislike to the use of "SIP" in the "SIP-T" name as mentioned
below.

Thanks, Henry=20

=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
Thanks Eric! :-)

The guidelines for the usage of SIP don't have as far as I remember any
recommendation for SIP to be used as a tunneling protocol. In this
respect, the use of SIP for a "tunneling convention" is non-truth in
advertising.

As for the most effective way of carrying SS7 over IP networks, I would
be interested to hear how VoIP providers are actually doing it. Can
anyone share such information?

Oh yes,...
> I do see a place for communications service providers
So do I. Aren't we all here in the IETF to communicate over the Internet
or in private IP networks?

>> The fact that the INFO method has a
>> problem doesn't mean that SIP-T is an inappropriate use of SIP.

Yes, it is inappropriate since people attempting to connect with a SIP
end device such as a SIP phone or PSTN gateway on the SIP side will
fail.

Henry

-----Original Message-----
From: Eric Burger [mailto:eburger@bea.com]=20
Sent: Wednesday, September 05, 2007 9:11 AM
To: Bram Verburg
Cc: sip
Subject: Re: [Sip] INFO

The use of INFO part.  Hey, I'm not totally Henry - I do see a place for
communications service providers and I recognize the importance of
interworking with the PSTN for the next 15 years.

SIP-T is not a session initiation protocol.  It is a set of conventions
for
TUNNELING proprietary signaling events over SIP.  Key word there is
TUNNELING.  That is the clue that section 3.3 applies.


On 9/5/07 6:46 AM, "Bram Verburg" <bram@vocaltec.com> wrote:

> OK, SIP-T is not going away, but I'm still not sure whether you are
> trying to say that all of SIP-T is bad, or only its use of INFO? If
all
> of SIP-T is bad, then let's not fix it and wait till it does go away
> eventually. If the problem is specifically with INFO, then let's
define
> an event package that allows endpoints to request mid-call
'proprietary'
> signaling events, and then we can deprecate INFO altogether.
>=20
> My point was that SIP-T is not simply a tunnel that could be replaced
by
> any other transport layer, which is what section 3.3 seems to
describe.
> It is a 'session initiation protocol' that does exactly what SIP is
> designed to do: initiate sessions. The fact that the INFO method has a
> problem doesn't mean that SIP-T is an inappropriate use of SIP.
>=20
> Bram
>=20
>=20
>> -----Original Message-----
>> From: Eric Burger [mailto:eburger@bea.com]
>> Sent: 05 September 2007 16:09
>> To: Bram Verburg
>> Cc: sip
>> Subject: Re: [Sip] INFO
>>=20
>> SIP-T suffers *all* of the issues with INFO.
>>=20
>> Read section 3.3 for the 'right' way of doing SIP-T.
>>=20
>> That said, let's be real: I don't think anyone will abandon
>> SIP-T at this late date.  Although this really is a counter
>> example, I would liken this to the story in:
>> http://www.snopes.com/history/american/gauge.htm
>>=20
>>=20
>>=20
>>=20
>> On 9/5/07 4:56 AM, "Bram Verburg" <bram@vocaltec.com> wrote:
>>=20
>>>> That is the point of the draft.  All of the uses of INFO
>> today have
>>>> alternatives that do not have the same problems.
>>>>=20
>>>> In fact, I am really thinking the draft should point out
>> the use of
>>>> INFO for SIP-T is also incorrect.  SIP-T should use a control
>>>> channel, not the "SIP"
>>>> channel, for transporting proprietary signaling.  The only thing
>>>> SIP-T does is re-create TCP over SIP.  Not a very useful
>> use of SIP.
>>>=20
>>> I don't think that's a fair assessment of SIP-T, since you
>> seem to be
>>> ignoring the fact that SIP-T also (primarily) uses other
>> methods than
>>> INFO.
>>>=20
>>> The encapsulation of 'proprietary' signaling is done to convey
>>> information that cannot currently be conveyed in pure SIP.
>> But other
>>> than that, within the VoIP domain the regular SIP dialog
>> model is used
>>> to establish and tear down sessions. SIP headers take
>> precedence over
>>> the contents of the ISUP/Q.931 message, so the 'tunneled'
>> message is
>>> only used to fill in some blanks at the receiving end. For the most
>>> part proxies and even user agents can safely ignore the
>> message body
>>> and still participate in the SIP dialog.
>>>=20
>>> Some ISUP/Q.931 messages arrive at a stage in the session where SIP
>>> doesn't define any interaction between UAs, so currently
>> INFO is used
>>> as a tunnel. If you believe it should be replaced by something less
>>> ambiguous, that won't be abused outside the scope of SIP-T the same
>>> way INFO is today, I guess that's fair enough. But saying
>> that SIP-T
>>> should use TCP tunnels instead seems a bit harsh.
>>>=20
>>> Bram
>>>=20
>>=20
>>=20
>>=20
>> Notice:  This email message, together with any attachments,
>> may contain information  of  BEA Systems,  Inc.,  its
>> subsidiaries  and  affiliated entities,  that may be
>> confidential,  proprietary,  copyrighted  and/or legally
>> privileged, and is intended solely for the use of the
>> individual or entity named in this message. If you are not
>> the intended recipient, and have received this message in
>> error, please immediately return this by email and then delete it.
>>=20
>=20



Notice:  This email message, together with any attachments, may contain
information  of  BEA Systems,  Inc.,  its subsidiaries  and  affiliated
entities,  that may be confidential,  proprietary,  copyrighted  and/or
legally privileged, and is intended solely for the use of the individual
or entity named in this message. If you are not the intended recipient,
and have received this message in error, please immediately return this
by email and then delete it.


_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Wed Sep 05 11:43:18 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1ISx0X-0003IM-RJ; Wed, 05 Sep 2007 11:41:33 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1ISx0V-0003ID-M1
	for sip-confirm+ok@megatron.ietf.org; Wed, 05 Sep 2007 11:41:31 -0400
Received: from [10.91.34.44] (helo=ietf-mx.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1ISx0V-0003I3-CI
	for sip@ietf.org; Wed, 05 Sep 2007 11:41:31 -0400
Received: from nf-out-0910.google.com ([64.233.182.185])
	by ietf-mx.ietf.org with esmtp (Exim 4.43) id 1ISx0T-0006ZK-Hb
	for sip@ietf.org; Wed, 05 Sep 2007 11:41:31 -0400
Received: by nf-out-0910.google.com with SMTP id d3so1975443nfc
	for <sip@ietf.org>; Wed, 05 Sep 2007 08:41:28 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed; d=gmail.com; s=beta;
	h=domainkey-signature:received:received:message-id:date:from:to:subject:cc:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
	b=AD7LSFcFCzA/3wfxQS8+3u4Qj7m59dp7wzBnMdj19Y7Ds+g1VjJaZgIDN+Nw4vkIJgpgvDTvDOaV2lx+VqZ2n4z8SOKrzPQBc65ewYNKaBgQ+tJc/1UkzIYV1EBt166ExN1m3lB2iCjm/20yJWhqzHgbYPVtcxyulurxPaL9Jcs=
DomainKey-Signature: a=rsa-sha1; c=nofws; d=gmail.com; s=beta;
	h=received:message-id:date:from:to:subject:cc:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
	b=LdaOZGruGdqitZjC6bAlIGQM+L61QHFDzvIpFTmuncLSJM8hmy5NR1FoLGMJ0rXM93JkK2zxN6e7nk5+7iFoEYlgxeLVV5tD7BCoeuIzsvaZHj3N8EavPlCiYZycPTtigmEB9l06GweeD/F4zqNl8ag4D8DKQ0xklXPejHCLbuw=
Received: by 10.82.156.12 with SMTP id d12mr9251109bue.1189006888183;
	Wed, 05 Sep 2007 08:41:28 -0700 (PDT)
Received: by 10.82.108.10 with HTTP; Wed, 5 Sep 2007 08:41:28 -0700 (PDT)
Message-ID: <317ceda50709050841r15b0b828hdccaee3486ff9531@mail.gmail.com>
Date: Wed, 5 Sep 2007 23:41:28 +0800
From: "Peili Xu" <xupeili@gmail.com>
To: "DRAGE, Keith (Keith)" <drage@alcatel-lucent.com>
Subject: Re: AW: AW: [Sip] Extension of conference procedures
In-Reply-To: <5D1A7985295922448D5550C94DE2918001636EF9@DEEXC1U01.de.lucent.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <C302EB13.A82F%eburger@bea.com>
	<CCA850DCD3FBE2479D5076C5C1873222029F50B6@S4DE9JSAAHW.ost.t-com.de>
	<5D1A7985295922448D5550C94DE2918001636EF9@DEEXC1U01.de.lucent.com>
X-Spam-Score: 0.0 (/)
X-Scan-Signature: f65f15b96906f68e00334add0569fcf4
Cc: sip@ietf.org
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

Yes, It's vague in RFC3261.  I'm only aware of the usage in REFER now.
It'll be good to clarify the semantics in the usage in url-list.

2007/9/5, DRAGE, Keith (Keith) <drage@alcatel-lucent.com>:
> So this is a convenient way to bring us back to the other half of the iss=
ue which we do not seem to have discussed yet. When the syntax was defined =
that allowed ?headers:
>
>       Headers: Header fields to be included in a request constructed
>          from the URI.
>
>          Headers fields in the SIP request can be specified with the "?"
>          mechanism within a URI.  The header names and values are
>          encoded in ampersand separated hname =3D hvalue pairs.  The
>          special hname "body" indicates that the associated hvalue is
>          the message-body of the SIP request.
>
> What usage did the SIP WG envisage for this, and thus what semantics did =
they define for that usage.
>
> Is it appropriate to assign new semantics to such usage?
>
> Regards
>
> Keith
>
> > -----Original Message-----
> > From: Huelsemann, Martin [mailto:Martin.Huelsemann@t-com.net]
> > Sent: Wednesday, September 05, 2007 11:59 AM
> > To: eburger@bea.com
> > Cc: sip@ietf.org
> > Subject: AW: AW: AW: [Sip] Extension of conference procedures
> >
> > Hi Eric,
> >
> > there is nothing new added to RFC 3261, only perhaps some new
> > semantics to subclause 19.1.1. The conference user would have
> > to know about this, but that's okay, there are always some
> > requirements if you want to use a service (REFER as default,
> > proposed "?" usage as fallback).
> >
> > What are the additions the user who's added to the conference
> > would have to support? The added user would receive basically
> > just a reINVITE, so in principal support of 3261 would be sufficient.
> >
> >
> > basically, in principal: the intention to minimize the
> > requirements on B for a service which A uses, in order to
> > maximize the chance this ad-hoc conference will work; perhaps
> > there will be no 100% guarantee for this.
> >
> >
> > BR, Martin
> >
> >
> >
> >
> >
> >
> >
> >
> >
> > > -----Urspr=FCngliche Nachricht-----
> > > Von: Eric Burger [mailto:eburger@bea.com]
> > > Gesendet: Dienstag, 4. September 2007 20:00
> > > An: H=FClsemann, Martin
> > > Cc: sip@ietf.org
> > > Betreff: Re: AW: AW: [Sip] Extension of conference procedures
> > >
> > >
> > > I must be missing an important point.  To me, right now, this whole
> > > thread, besides being 11 pages long, seems pointless.
> > >
> > > Either a phone knows about REFER or the phone does 3261.
> > > Adding something
> > > new to 3261 means the phone needs to know about it means it
> > might as
> > > well know about REFER.
> > >
> > > Hacking 3261 to enable a man-in-the-middle attack, where the
> > > conference server or PSAP can take over a call (good thing)
> > enables a
> > > nasty device to take over a call (bad thing) is not a good idea.
> > >
> > >
> > > On 8/30/07 4:37 AM, "Huelsemann, Martin"
> > <Martin.Huelsemann@t-com.net>
> > > wrote:
> > >
> > > > Hi,
> > > >
> > > > I think especially for the case where A has several ongoing
> > > dialogs with B and
> > > > A wants only to include a certain of the dialogs into the
> > > conference, he has
> > > > to give some information in which of the dialogs the AS
> > > shall start 3pcc
> > > > procedures.
> > > >
> > > >
> > > > Regards, Martin
> > > >
> > > >
> > > >
> > > >> -----Urspr=FCngliche Nachricht-----
> > > >> Von: Peili Xu [mailto:xupeili@huawei.com]
> > > >> Gesendet: Donnerstag, 30. August 2007 08:53
> > > >> An: 'Even, Roni'
> > > >> Cc: sip@ietf.org
> > > >> Betreff: RE: AW: [Sip] Extension of conference procedures
> > > >>
> > > >>
> > > >>
> > > >> Hi Roni,
> > > >>
> > > >> Your case is even "smarter" than mine ;-)  that's OK for me.
> > > >>
> > > >> But, I'm just wondering whether there is case that A has
> > multiple
> > > >> on going dialogs with say B, C, D and only want to turn
> > A-B and A-C
> > > >> to a conference then dialog information maybe needed.
> > > >>
> > > >> I'd happy to hear clarification for this point from whom
> > raise the
> > > >> requirements.
> > > >>
> > > >> Peili
> > > >>
> > > >> -----Original Message-----
> > > >> From: Even, Roni [mailto:roni.even@polycom.co.il]
> > > >> Sent: Thursday, August 30, 2007 2:09 PM
> > > >> To: Peili Xu
> > > >> Cc: sip@ietf.org
> > > >> Subject: RE: AW: [Sip] Extension of conference procedures
> > > >>
> > > >>
> > > >>
> > > >> Hi,
> > > >> I think you misunderstood what I menat by "smart". If there is a
> > > >> softyswitch acting as a 3PCC, it controls the dialogs and can
> > > >> redirect the media to the media server suppling the conference
> > > >> function.
> > > >> There is no need for A to give information about the dialog
> > > >>
> > > >> Roni Even
> > > >>
> > > >>> -----Original Message-----
> > > >>> From: Peili Xu [mailto:xupeili@gmail.com]
> > > >>> Sent: Wednesday, August 29, 2007 5:08 PM
> > > >>> To: Even, Roni
> > > >>> Cc: Huelsemann, Martin; sip@ietf.org
> > > >>> Subject: Re: AW: [Sip] Extension of conference
> > > >> procedures
> > > >>>
> > > >>> Hi Martin, Denis,
> > > >>>
> > > >>> I agree with Roni that you may need to decide who is
> > > >> "smart".
> > > >>>
> > > >>> I guess you want to simulate the 3PTY services in
> > > >> PSTN, A make call to
> > > >>> B, then A Hold B, then A Make Call to C, then A could
> > > >> do sth like hook
> > > >>> flash to turn the call between A-B and A-C to an 3pty
> > > >> conference.
> > > >>> later, A could still turn the conferece back to 2
> > > >> independant call.
> > > >>>
> > > >>> You have some assumption that the AS who performs
> > > >> conference is on the
> > > >>> path between A-B and A-C. And A could inform the AS to
> > > >> turn the call
> > > >>> between A-B and A-C to a conference.
> > > >>>
> > > >>> If the assumption is correct, what you want is just to
> > > >> tell the AS
> > > >>> which dialogs should be turned to conference by
> > > >> sending an INVITE with
> > > >>> the related dialog information.
> > > >>>
> > > >>> If the above understanding is correct, I'd agree with
> > > >> the initial
> > > >>> proposal from Denis.
> > > >>> Just to convey the dialog information along with the
> > > >> URI-List.
> > > >>>
> > > >>> Peili
> > > >>>
> > > >>>
> > > >>>
> > > >>> 2007/8/29, Even, Roni <roni.even@polycom.co.il>:
> > > >>>>
> > > >>>> Hi,
> > > >>>> In this case, like in PSTN the switch does it. You
> > > >> have to decide
> > > >>>> who is
> > > >>> "smart" the network or the end device.
> > > >>>> A "simple" RFC 3261 only phone relies on a 3PCC or
> > > >> softswitch to
> > > >>>> manage
> > > >>> telephony services (not only conferencing)
> > > >>>>
> > > >>>> Roni Even
> > > >>>>
> > > >>>>> -----Original Message-----
> > > >>>>> From: Huelsemann, Martin
> > > >> [mailto:Martin.Huelsemann@t-com.net]
> > > >>>>> Sent: Wednesday, August 29, 2007 1:05 PM
> > > >>>>> To: Even, Roni
> > > >>>>> Cc: sip@ietf.org; jbemmel@zonnet.nl
> > > >>>>> Subject: AW: AW: [Sip] Extension of conference
> > > >> procedures
> > > >>>>>
> > > >>>>> Hi,
> > > >>>>>
> > > >>>>> also for the scenario where A refers B to dial
> > > >> into a conference,
> > > >>>>> the problem is when B has a terminal not
> > > >> supporting REFER (or just
> > > >>>>> doesn't want to accept the REFER for some
> > > >> reasons), A cannot use
> > > >>>>> the
> > > >>> conference
> > > >>>>> service.
> > > >>>>>
> > > >>>>> Of course these simple terminals are not the
> > > >> desired use-case and
> > > >>> there
> > > >>>>> will be limitations. But if there is a possible
> > > >> fallback solution
> > > >>>>> that
> > > >>> at
> > > >>>>> least increases the chance that A can use the
> > > >> service despite the
> > > >>>>> fact that B does not fulfill all the requirements
> > > >> for the service,
> > > >>>>> I think
> > > >>> we
> > > >>>>> should try to figure it out.
> > > >>>>>
> > > >>>>> Regards, Martin
> > > >>>>>
> > > >>>>>
> > > >>>>>
> > > >>>>>
> > > >>>>>
> > > >>>>>> -----Urspr=FCngliche Nachricht-----
> > > >>>>>> Von: Even, Roni [mailto:roni.even@polycom.co.il]
> > > >>>>>> Gesendet: Montag, 27. August 2007 12:16
> > > >>>>>> An: H=FClsemann, Martin; jbemmel@zonnet.nl
> > > >>>>>> Cc: sip@ietf.org
> > > >>>>>> Betreff: RE: AW: [Sip] Extension of conference
> > > >> procedures
> > > >>>>>>
> > > >>>>>>
> > > >>>>>> Hi,
> > > >>>>>> My view is that every solution where you only
> > > >> have A, B and a
> > > >>>>>> conference server and B only supports RFC 3261
> > > >> will have some
> > > >>>>>> limitation and will be a hack.
> > > >>>>>>
> > > >>>>>> The recommended way to do it is for A to send a
> > > >> Refer to B to
> > > >>>>>> the focus.
> > > >>>>>>
> > > >>>>>> Also asking that B supporting only RFC 3261 will
> > > >> support
> > > >>>>>> conference event package is contradictory. B
> > > >> will not even be
> > > >>>>>> aware that it is in a conference.
> > > >>>>>>
> > > >>>>>> Roni Even
> > > >>>>>>
> > > >>>>>> !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
> > > >>>>>> A consensus means that everyone agrees to say
> > > >> collectively what
> > > >>>>>> no one believes individually
> > > >> !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
> > > >>>>>>
> > > >>>>>>> -----Original Message-----
> > > >>>>>>> From: Huelsemann, Martin
> > > >> [mailto:Martin.Huelsemann@t-com.net]
> > > >>>>>>> Sent: Monday, August 27, 2007 12:59 PM
> > > >>>>>>> To: jbemmel@zonnet.nl
> > > >>>>>>> Cc: sip@ietf.org
> > > >>>>>>> Subject: AW: AW: [Sip] Extension of conference
> > > >> procedures
> > > >>>>>>>
> > > >>>>>>> Hi,
> > > >>>>>>>
> > > >>>>>>> the pure RFC 3261 client won't be the normal
> > > >> case, of
> > > >>>>>> course. But there
> > > >>>>>>> might be networks with which you want to
> > > >> interwork where
> > > >>>>>> those simple
> > > >>>>>>> clients are existing.
> > > >>>>>>> Okay, you got me, it's again the PSTN
> > > >> interworking. So
> > > >>>>>> let's say what is
> > > >>>>>>> needed is a fallback solution for this case.
> > > >>>>>>> On the other hand, this fallback might be
> > > >> useful for a
> > > >>>>>> normal SIP client
> > > >>>>>>> which supports RFC3891, too, e.g. if there are
> > > >> problems with
> > > >>>>>>> authorization.
> > > >>>>>>>
> > > >>>>>>> The user experience of the invitee should be
> > > >> exactly as you
> > > >>>>>> describe.
> > > >>>>>>>
> > > >>>>>>> If A sends the reINVITE / UPDATE himself that
> > > >> could be a
> > > >>>>>> solution, too.
> > > >>>>>>> The only thing is, can B then use all the
> > > >> conference features (e.
> > > >>> g.
> > > >>>>>>> conference event package), when the focus has
> > > >> no knowledge on
> > > >>>>>>> the signalling level that B is connected to
> > > >> the conference bridge?
> > > >>>>>>>
> > > >>>>>>> Regards, Martin
> > > >>>>>>>
> > > >>>>>>>
> > > >>>>>>>
> > > >>>>>>>
> > > >>>>>>>
> > > >>>>>>>> -----Urspr=FCngliche Nachricht-----
> > > >>>>>>>> Von: Jeroen van Bemmel
> > > >> [mailto:jbemmel@zonnet.nl]
> > > >>>>>>>> Gesendet: Sonntag, 26. August 2007 15:24
> > > >>>>>>>> An: H=FClsemann, Martin
> > > >>>>>>>> Cc: Alexeitsev, Denis; sip@ietf.org
> > > >>>>>>>> Betreff: Re: AW: [Sip] Extension of
> > > >> conference procedures
> > > >>>>>>>>
> > > >>>>>>>>
> > > >>>>>>>> Martin,
> > > >>>>>>>>
> > > >>>>>>>> Now it becomes more clear. So the
> > > >> requirement is to
> > > >>>>>> enable a scenario
> > > >>>>>>>> where a regular call is transformed into a
> > > >> conference
> > > >>>>>> call, assuming
> > > >>>>>>>> that the invitee only has a "pure RFC3261"
> > > >> client.
> > > >>>>>>>> More specifically:
> > > >>>>>>>>
> > > >>>>>>>> - to get a smooth user experience, the
> > > >> scenario must not
> > > >>>>>>>> cause
> > > >>> the
> > > >>>>>>>> invitee's phone to ring, and/or ask the
> > > >> invitee for
> > > >>>>>>>> permission (acceptance is assumed to be
> > > >> implied)
> > > >>>>>>>>
> > > >>>>>>>> What if A would send the reINVITE (or
> > > >> UPDATE) itself, while
> > > >>>>>>>> filling in the SDP according to the media
> > > >> provided by the
> > > >>>>>>>> conference server (i.e.
> > > >>>>>>>> use codecs, media ports as received from the
> > > >> focus)? (trying
> > > >>>>>>>> to get the requirements more clear here)
> > > >>>>>>>>
> > > >>>>>>>> In practice, it may still be a challenge to
> > > >> get such "very
> > > >>> simple
> > > >>>>>>>> terminals" to properly handle a change of
> > > >> media (i.e. new
> > > >>>>>> destination
> > > >>>>>>>> ip/port for sending, new source ip/port and
> > > >> RTP src id,
> > > >>>>>> and possibly
> > > >>>>>>>> different codecs)
> > > >>>>>>>>
> > > >>>>>>>> Regards,
> > > >>>>>>>> Jeroen
> > > >>>>>>>>
> > > >>>>>>>>
> > > >>>>>>>> Huelsemann, Martin wrote:
> > > >>>>>>>>> Hi Jeroen,
> > > >>>>>>>>>
> > > >>>>>>>>> the usage of the Replaces header is of
> > > >> course the best
> > > >>>>>>>> solution, it's also described in the
> > > >> regarding 3GPP
> > > >>>>>>>> conferencing spec.
> > > >>>>>>>>> The disadvantage of the usage of the
> > > >> Repaces header is,
> > > >>>>>>>> that it puts requirements on the UE of the
> > > >> invited user, it
> > > >>>>>>>> would have to support RFC 3891. And if it
> > > >> supports, it
> > > >>>>>>>> really would have to accept the 2nd INVITE,
> > > >> which is not
> > > >>>>>>>> mandatory according to RFC 3891 I think.
> > > >>>>>>>>> Anyway what is needed in addition is a
> > > >> solution how also
> > > >>>>>>>> very simple terminals (e. g. only supporting
> > > >> RFC 3261) can
> > > >>>>>>>> be invited to an ad-hoc conference, whithout
> > > >> having to say
> > > >>>>>>>> to the invited user to please hang up
> > > >> because there will be
> > > >>>>>>>> a call from the focus shortly.
> > > >>>>>>>>>
> > > >>>>>>>>> Re-using an already established dialog at
> > > >> least at the
> > > >>>>>>>> first glance seems to be a simply and
> > > >> invited UE independent
> > > >>>>>>>> solution. And as this re-INVITE it wanted by
> > > >> at least one of
> > > >>>>>>>> the involved user, I would more compare it
> > > >> to some kind of
> > > >>>>>>>> triggered 3rd party call control than to
> > > >> spoofing.
> > > >>>>>>>>>
> > > >>>>>>>>> Of course as you said it would have to be
> > > >> made clear that
> > > >>>>>>>> the focus is able to collect all the
> > > >> information needed for
> > > >>>>>>>> sending re-INVITEs (proposed "?" mechanism
> > > >> usage, dialog
> > > >>>>>>>> event package, etc.).
> > > >>>>>>>>>
> > > >>>>>>>>>
> > > >>>>>>>>> Regards, Martin
> > > >>>>>>>>>
> > > >>>>>>>>>
> > > >>>>>>>>>
> > > >>>>>>>>>
> > > >>>>>>>>>
> > > >>>>>>>>>
> > > >>>>>>>>>> -----Urspr=FCngliche Nachricht-----
> > > >>>>>>>>>> Von: Jeroen van Bemmel
> > > >> [mailto:jbemmel@zonnet.nl]
> > > >>>>>>>>>> Gesendet: Freitag, 24. August 2007 17:06
> > > >>>>>>>>>> An: Alexeitsev, Denis; sip@ietf.org
> > > >>>>>>>>>> Betreff: Re: [Sip] Extension of
> > > >> conference procedures
> > > >>>>>>>>>>
> > > >>>>>>>>>>
> > > >>>>>>>>>> Denis,
> > > >>>>>>>>>>
> > > >>>>>>>>>> If I understand your scenario, "focus" is
> > > >> a third party
> > > >>>>>>>>>> separate from A and B, right? (e.g. a
> > > >> conference server)
> > > >>>>>>>>>>
> > > >>>>>>>>>> In that case the focus is not a party in
> > > >> the A-B dialog,
> > > >>>>>>>>>> and would need more than Call-ID, From
> > > >> and To to be able
> > > >>>>>>>>>> to construct a reINVITE that B would
> > > >> accept as coming
> > > >>>>>>>>>> from A (e.g. CSeq). In any case, this
> > > >> looks like a very
> > > >>>>>>>>>> inelegant, hacked solution (as the
> > > >> conference server is
> > > >>>>>>>>>> basically spoofing)
> > > >>>>>>>>>>
> > > >>>>>>>>>> RFC4579 section 5.10 provides some
> > > >> insipration, as well
> > > >>>>>>>>>> as
> > > >>>>>>>>>>
> > > >> http://www.ietf.org/internet-drafts/draft-ietf-sipping-
> > > >>> service
> > > >>>>>>>>>> -examples-13.txt
> > > >>>>>>>>>> scenario 2.5
> > > >>>>>>>>>>
> > > >>>>>>>>>> For example, A could include a 'Replaces'
> > > >> header in the
> > > >>>>>>>>>> URI it includes in its conference URI
> > > >> list. Then the
> > > >>>>>>>>>> conference server would
> > > >>>>>>>> send a new
> > > >>>>>>>>>> (out-of-dialog) INVITE to B containing
> > > >> this Replaces
> > > >>>>>>>>>> header, and B would know that it is
> > > >> associated with the
> > > >>>>>>>>>> dialog it has with A (and can replace it,
> > > >> without ringing
> > > >>>>>>>>>> if the UA is constructed like that)
> > > >>>>>>>>>>
> > > >>>>>>>>>> The conference server should probably
> > > >> also include a
> > > >>>>>>>>>> Referred-By containing A's AoR, either
> > > >> automatically
> > > >>>>>>>>>> (i.e. copy from From header in
> > > >>>>>>>>>> INVITE) or
> > > >>>>>>>>>> included by A in the URI (former is
> > > >> better)
> > > >>>>>>>>>>
> > > >>>>>>>>>> Regards,
> > > >>>>>>>>>> Jeroen
> > > >>>>>>>>>>
> > > >>>>>>>>>> Alexeitsev, D wrote:
> > > >>>>>>>>>>
> > > >>>>>>>>>>> I'd like to discuss the extension of the
> > > >> current
> > > >>>>>>>>>>> conference
> > > >>>>>>>>>>>
> > > >>>>>>>>>> procedures
> > > >>>>>>>>>>
> > > >>>>>>>>>>> with the following functionality.
> > > >>>>>>>>>>>
> > > >>>>>>>>>>> 3GPP conference specifications are
> > > >> basing generally on
> > > >>>>>>>>>>> the Conferencing Framework (RFC 4353)
> > > >> and for one
> > > >>>>>>>>>>> possibility
> > > >>>>>>>>>>>
> > > >>>>>>>>>> of inviting
> > > >>>>>>>>>>
> > > >>>>>>>>>>> users to the confrence on
> > > >>>>>> draft-ietf-sip-uri-list-conferencing.
> > > >>>>>>>>>>>
> > > >>>>>>>>>>> Using the conferencing framework, the
> > > >> following
> > > >>>>>>>>>>> situation
> > > >>>>>>>> can occur
> > > >>>>>>>>>>> when a user is invited to an ad-hoc
> > > >> conference:
> > > >>>>>>>>>>> User A is in a dialog with user B, and
> > > >> decides to start
> > > >>>>>>>>>>> a
> > > >>>>>>>>>>>
> > > >>>>>>>>>> conference,
> > > >>>>>>>>>>
> > > >>>>>>>>>>> for example using an INVITE request to
> > > >> the focus which
> > > >>>>>>>>>>>
> > > >>>>>>>>>> includes a URI
> > > >>>>>>>>>>
> > > >>>>>>>>>>> list with the URIs of the users which
> > > >> shall be added to
> > > >>>>>>>>>>> the conference, incl. B. So when the
> > > >> INVITE request from
> > > >>>>>>>>>>> the
> > > >>> focus
> > > >>>>>>>>>>> arrives at B, he is still in the
> > > >> original dialog with
> > > >>>>>> A, and so it
> > > >>>>>>>>>>> depends on B if he accepts the 2nd
> > > >> INVITE and the
> > > >>>>>>>> conference can be
> > > >>>>>>>>>>> established.
> > > >>>>>>>>>>>
> > > >>>>>>>>>>> At the last 3GPP CT1 meeting the idea of
> > > >> transporting
> > > >>>>>>>>>>> dialog identifiers together with the
> > > >> URIs was introduced
> > > >>>>>>>>>>> to
> > > >>>>>> solve this
> > > >>>>>>>>>>> problem. Basing on the idea that the
> > > >> procedures at
> > > >>>>>> the conference
> > > >>>>>>>>>>> server are extended in that way, that
> > > >> the conference
> > > >>>>>>>> server is aware
> > > >>>>>>>>>>> of already established dialogs, the
> > > >> focus then has the
> > > >>>>>>>>>>>
> > > >>>>>>>>>> possibility to
> > > >>>>>>>>>>
> > > >>>>>>>>>>> send re-INVITES in the indicated dialogs
> > > >> and connect the
> > > >>>>>>>> media from
> > > >>>>>>>>>>> the invited users to the conference
> > > >> bridge.
> > > >>>>>>>>>>> In the URI list the dialogs can be
> > > >> indicated using the
> > > >>>>>>>> "?" mechanism
> > > >>>>>>>>>>> according to subclause 19.1.1 of RFC
> > > >> 3261.
> > > >>>>>>>>>>>
> > > >>>>>>>>>>> Following example shows the proposed
> > > >> mechanism:
> > > >>>>>>>>>>>
> > > >>>>>>>>>>> INVITE Conference
> > > >>>>>>>>>>> To: Conference
> > > >>>>>>>>>>> From: A
> > > >>>>>>>>>>> Require: recipient-list-invite
> > > >>>>>>>>>>>
> > > >>>>>>>>>>> Content-Type:
> > > >> application/resource-lists+xml
> > > >>>>>>>>>>> Content-Disposition: recipient-list
> > > >>>>>>>>>>>
> > > >>>>>>>>>>> <?xml version=3D"1.0" encoding=3D"UTF-8"?>
> > > >> <resource-lists
> > > >>>>>>>>>>> xmlns=3D"urn:ietf:params:xml:ns:resource-
> > > >>> lists"
> > > >>>>>>>>>>>
> > > >> xmlns:cp=3D"urn:ietf:params:xml:ns:copyControl">
> > > >>>>>>>>>>>   <list>
> > > >>>>>>>>>>>    <entry
> > > >> uri=3D"B?Call-ID=3D1&From=3DA%3Btag%3Da&To=3DB%3Btag%3Db"
> > > >>>>>>>>>>> cp:copyControl=3D"to"/>
> > > >>>>>>>>>>>    <entry
> > > >> uri=3D"C?Call-ID=3D2&From=3DA%3Btag%3Da&To=3DC%3btag%3Dc"
> > > >>>>>>>>>>> cp:copyControl=3D"to"/>
> > > >>>>>>>>>>>   </list>
> > > >>>>>>>>>>>  </resource-lists>
> > > >>>>>>>>>>>
> > > >>>>>>>>>>> Greetings,
> > > >>>>>>>>>>> Denis Alexeitsev
> > > >>>>>>>>>>>
> > > >>>>>>>>>>>
> > > >>>>>>>>>>>
> > > >> _______________________________________________
> > > >>>>>>>>>>> Sip mailing list
> > > >>>>>>>>>>>
> > > >> https://www1.ietf.org/mailman/listinfo/sip
> > > >>>>>>>>>>> This list is for NEW development of the
> > > >> core SIP
> > > >>>>>>>>>>> Protocol Use
> > > >> sip-implementors@cs.columbia.edu for
> > > >>>>>>>>>>> questions on
> > > >>>>>> current sip
> > > >>>>>>>>>>> Use sipping@ietf.org for new
> > > >> developments on the
> > > >>>>>>>> application of sip
> > > >>>>>>>>>>>
> > > >>>>>>>>>>
> > > >>>>>>>>>>
> > > >> _______________________________________________
> > > >>>>>>>>>> Sip mailing list
> > > >>>>>>>>>>
> > > >> https://www1.ietf.org/mailman/listinfo/sip
> > > >>>>>>>>>> This list is for NEW development of the
> > > >> core SIP Protocol
> > > >>>>>>>>>> Use sip-implementors@cs.columbia.edu for
> > > >> questions on
> > > >>>>>> current sip
> > > >>>>>>>>>> Use sipping@ietf.org for new developments
> > > >> on the
> > > >>>>>> application of sip
> > > >>>>>>>>>>
> > > >>>>>>>>>>
> > > >>>>>>>>>
> > > >>>>>>>>>
> > > >>>>>>>>
> > > >>>>>>>
> > > >>>>>>>
> > > >>>>>>>
> > > >> _______________________________________________
> > > >>>>>>> Sip mailing list
> > > >> https://www1.ietf.org/mailman/listinfo/sip
> > > >>>>>>> This list is for NEW development of the core
> > > >> SIP Protocol Use
> > > >>>>>>> sip-implementors@cs.columbia.edu for questions
> > > >> on current sip
> > > >>>>>>> Use sipping@ietf.org for new developments on
> > > >> the application
> > > >>>>>>> of
> > > >>> sip
> > > >>>>>>
> > > >>>>
> > > >>>>
> > > >>>> _______________________________________________
> > > >>>> Sip mailing list
> > > >> https://www1.ietf.org/mailman/listinfo/sip
> > > >>>> This list is for NEW development of the core SIP
> > > >> Protocol Use
> > > >>>> sip-implementors@cs.columbia.edu for questions on
> > > >> current sip Use
> > > >>>> sipping@ietf.org for new developments on the
> > > >> application of sip
> > > >>>>
> > > >>
> > > >>
> > > >> _______________________________________________
> > > >> Sip mailing list
> > > >> https://www1.ietf.org/mailman/listinfo/sip
> > > >> This list is for NEW development of the core SIP Protocol Use
> > > >> sip-implementors@cs.columbia.edu for questions on
> > current sip Use
> > > >> sipping@ietf.org for new developments on the application of sip
> > > >>
> > > >>
> > > >>
> > > >>
> > > >> _______________________________________________
> > > >> Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
> > > >> This list is for NEW development of the core SIP Protocol Use
> > > >> sip-implementors@cs.columbia.edu for questions on
> > current sip Use
> > > >> sipping@ietf.org for new developments on the application of sip
> > > >>
> > > >
> > > >
> > > > _______________________________________________
> > > > Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
> > > > This list is for NEW development of the core SIP Protocol Use
> > > > sip-implementors@cs.columbia.edu for questions on current sip Use
> > > > sipping@ietf.org for new developments on the application of sip
> > >
> > >
> > > Notice:  This email message, together with any attachments, may
> > > contain information  of  BEA Systems,  Inc.,  its
> > subsidiaries  and
> > > affiliated entities,  that may be confidential,  proprietary,
> > > copyrighted  and/or legally privileged, and is intended
> > solely for the
> > > use of the individual or entity named in this message. If
> > you are not
> > > the intended recipient, and have received this message in error,
> > > please immediately return this by email and then delete it.
> > >
> >
> >
> > _______________________________________________
> > Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
> > This list is for NEW development of the core SIP Protocol Use
> > sip-implementors@cs.columbia.edu for questions on current sip
> > Use sipping@ietf.org for new developments on the application of sip
> >
>
>
> _______________________________________________
> Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
>


_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Wed Sep 05 11:51:00 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1ISx87-0000Xo-OT; Wed, 05 Sep 2007 11:49:23 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1ISx86-0000Xj-Br
	for sip-confirm+ok@megatron.ietf.org; Wed, 05 Sep 2007 11:49:22 -0400
Received: from [10.91.34.44] (helo=ietf-mx.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1ISx86-0000Xb-2Q
	for sip@ietf.org; Wed, 05 Sep 2007 11:49:22 -0400
Received: from nostrum-pt.tunnel.tserv2.fmt.ipv6.he.net
	([2001:470:1f03:267::2] helo=nostrum.com)
	by ietf-mx.ietf.org with esmtp (Exim 4.43) id 1ISx85-0006k3-IM
	for sip@ietf.org; Wed, 05 Sep 2007 11:49:22 -0400
Received: from orthrus.local (vicuna-alt.estacado.net [75.53.54.121])
	(authenticated bits=0)
	by nostrum.com (8.14.1/8.14.1) with ESMTP id l85Fn57S073269
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO);
	Wed, 5 Sep 2007 10:49:05 -0500 (CDT) (envelope-from adam@nostrum.com)
Message-ID: <46DECFF9.5040604@nostrum.com>
Date: Wed, 05 Sep 2007 10:49:13 -0500
From: Adam Roach <adam@nostrum.com>
User-Agent: Thunderbird 2.0.0.6 (Macintosh/20070728)
MIME-Version: 1.0
To: Eric Burger <eburger@bea.com>
Subject: Re: [Sip] New revision of draft-ietf-sip-body-handling-00.txt
References: <C302EA4F.A82D%eburger@bea.com>
In-Reply-To: <C302EA4F.A82D%eburger@bea.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Received-SPF: pass (nostrum.com: 75.53.54.121 is authenticated by a trusted
	mechanism)
X-Virus-Scanned: ClamAV 0.91.2/4165/Wed Sep 5 09:25:06 2007 on
	shaman.nostrum.com
X-Virus-Status: Clean
X-Spam-Score: -1.4 (-)
X-Scan-Signature: 2409bba43e9c8d580670fda8b695204a
Cc: sip <sip@ietf.org>, Paul Kyzivat <pkyzivat@cisco.com>,
	Gonzalo Camarillo <Gonzalo.Camarillo@ericsson.com>
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

On 9/4/07 12:56 PM, Eric Burger wrote:
> However, one thing we need to be mindful of are side effects.  MIME body
> parts can make external references.  Those external references (to
> http/https URI's) may hit application servers.  Those application servers
> may do something based on the receipt of the URI.  It could be as simple as
> recording the fact the body part was read (like a web beacon), or it could
> be as complex as changing application state.
>   

We can't count on such side-effects being activated -- whether external 
references are acted upon is a policy choice that the client can make 
unilaterally. For example, to prevent beacon-tracking of emails, many 
email clients allow suppression of embedded remote images.

> What do people think of this?  Do we say that SIP engines are opportunistic,
> and the side effect MUST happen if the body gets used, buy the side effect
> MAY happen if the body does not get used?  That would be my vote, as the
> alternative, that all side effects (external references get resolved) happen
> puts a pretty big burden on User Agents.
>   

I think that such a MUST is overly-restrictive. For security and privacy 
reasons, I believe it is important for clients to be able to make 
policy-related decisions regarding external references, even in the case 
that the body containing such references is otherwise used by the client.

/a


_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Wed Sep 05 11:54:42 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1ISxBd-0003xM-Sp; Wed, 05 Sep 2007 11:53:01 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1ISxBR-0003oI-Li
	for sip-confirm+ok@megatron.ietf.org; Wed, 05 Sep 2007 11:52:49 -0400
Received: from [10.90.34.44] (helo=chiedprmail1.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1ISxBP-0003o1-28
	for sip@ietf.org; Wed, 05 Sep 2007 11:52:49 -0400
Received: from shaman.nostrum.com ([72.232.15.10] helo=nostrum.com)
	by chiedprmail1.ietf.org with esmtp (Exim 4.43) id 1ISxBO-0000lE-Kg
	for sip@ietf.org; Wed, 05 Sep 2007 11:52:46 -0400
Received: from orthrus.local (vicuna-alt.estacado.net [75.53.54.121])
	(authenticated bits=0)
	by nostrum.com (8.14.1/8.14.1) with ESMTP id l85FqhBt073496
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO);
	Wed, 5 Sep 2007 10:52:43 -0500 (CDT) (envelope-from adam@nostrum.com)
Message-ID: <46DED0D3.2020902@nostrum.com>
Date: Wed, 05 Sep 2007 10:52:51 -0500
From: Adam Roach <adam@nostrum.com>
User-Agent: Thunderbird 2.0.0.6 (Macintosh/20070728)
MIME-Version: 1.0
To: Gonzalo Camarillo <Gonzalo.Camarillo@ericsson.com>
Subject: Re: [Sip] New revision of draft-ietf-sip-body-handling-00.txt
References: <C302EA4F.A82D%eburger@bea.com> <46DDD081.9030900@cisco.com>
	<46DE8094.8060807@ericsson.com>
In-Reply-To: <46DE8094.8060807@ericsson.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Received-SPF: pass (nostrum.com: 75.53.54.121 is authenticated by a trusted
	mechanism)
X-Virus-Scanned: ClamAV 0.91.2/4165/Wed Sep 5 09:25:06 2007 on
	shaman.nostrum.com
X-Virus-Status: Clean
X-Spam-Score: 0.0 (/)
X-Scan-Signature: 9ed51c9d1356100bce94f1ae4ec616a9
Cc: sip <sip@ietf.org>, Paul Kyzivat <pkyzivat@cisco.com>
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

On 9/5/07 5:10 AM, Gonzalo Camarillo wrote:
>
> to be more concrete in our discussions, we need to make decisions on 
> the following two issues:
>
> 1) Where in a SIP message is it allowed to reference a body part?
>
> a) in header fields and body parts within the same multipart/related 
> as the referenced body part
> b) in header fields and body parts that appear before the referenced 
> body part
> c) in header fields and any body part
>
> We discussed that doing c) would require to parse SIP messages twice 
> to look for potential references. Therefore, we decided to do a) or 
> b). The current draft specifies a), we doing b) might make sense as 
> well (it would be less restrictive).

I think a) is correct. If you have a body-part referencing another 
body-part, they are (by definition) related. Specifying b) does nothing 
but encourage extensions to specify illegal MIME handling (e.g., using 
"multipart/mixed" when the body parts are actually related).

> 2) If a receiver does not understand a reference to a body part:
>
> a) it should process (handle) it solely based on its disposition type 
> (as a fall-back mechanism). If the sender does not want this to 
> happen, it can use an option tag.
>
> b) the body part will have a disposition type of "only-by-reference". 
> This way, since the receiver did not understand the reference, it 
> knows it should not process the body.
>
> The current draft specifies a), but b) would be an interesting 
> optimization (no need to use option tags and reissue requests). 
> However, we would need to get the opinion of a MIME person on b).


I like the properties of b) -- it gets you the same place as a), but 
without the occasional round-trip. If the MIME folks think that such a 
Content-Disposition is kosher, I think it's worth specifying it.

/a


_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Wed Sep 05 11:58:45 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1ISxFU-0007Oj-HM; Wed, 05 Sep 2007 11:57:00 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1ISxFS-0007KV-DZ
	for sip-confirm+ok@megatron.ietf.org; Wed, 05 Sep 2007 11:56:58 -0400
Received: from [10.91.34.44] (helo=ietf-mx.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1ISxFS-0007Hx-2H
	for sip@ietf.org; Wed, 05 Sep 2007 11:56:58 -0400
Received: from nostrum-pt.tunnel.tserv2.fmt.ipv6.he.net
	([2001:470:1f03:267::2] helo=nostrum.com)
	by ietf-mx.ietf.org with esmtp (Exim 4.43) id 1ISxFR-0007CN-Ek
	for sip@ietf.org; Wed, 05 Sep 2007 11:56:58 -0400
Received: from orthrus.local (vicuna-alt.estacado.net [75.53.54.121])
	(authenticated bits=0)
	by nostrum.com (8.14.1/8.14.1) with ESMTP id l85Furlb073796
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO);
	Wed, 5 Sep 2007 10:56:54 -0500 (CDT) (envelope-from adam@nostrum.com)
Message-ID: <46DED1CD.4060409@nostrum.com>
Date: Wed, 05 Sep 2007 10:57:01 -0500
From: Adam Roach <adam@nostrum.com>
User-Agent: Thunderbird 2.0.0.6 (Macintosh/20070728)
MIME-Version: 1.0
To: Paul Kyzivat <pkyzivat@cisco.com>
Subject: Re: [Sip] New revision of draft-ietf-sip-body-handling-00.txt
References: <C302EA4F.A82D%eburger@bea.com>
	<46DDD081.9030900@cisco.com>	<46DE8094.8060807@ericsson.com>
	<46DEB158.10101@cisco.com>
In-Reply-To: <46DEB158.10101@cisco.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Received-SPF: pass (nostrum.com: 75.53.54.121 is authenticated by a trusted
	mechanism)
X-Virus-Scanned: ClamAV 0.91.2/4165/Wed Sep 5 09:25:06 2007 on
	shaman.nostrum.com
X-Virus-Status: Clean
X-Spam-Score: -1.4 (-)
X-Scan-Signature: 7aafa0432175920a4b3e118e16c5cb64
Cc: sip <sip@ietf.org>, Gonzalo Camarillo <Gonzalo.Camarillo@ericsson.com>
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

On 9/5/07 8:38 AM, Paul Kyzivat wrote:
>
>
> Gonzalo Camarillo wrote:
>> Hi,
>>
>> to be more concrete in our discussions, we need to make decisions on 
>> the following two issues:
>>
>> 1) Where in a SIP message is it allowed to reference a body part?
>>
>> a) in header fields and body parts within the same multipart/related 
>> as the referenced body part
>> b) in header fields and body parts that appear before the referenced 
>> body part
>> c) in header fields and any body part
>>
>> We discussed that doing c) would require to parse SIP messages twice 
>> to look for potential references.
>
> It is only necessary to parse twice if you can't decide what to do 
> with the body part without finding the reference first.
>
> If the rule is that you *always* process a body part based on its type 
> and disposition, and that references provide *additional* behavior, 
> then you can do an initial parsing and processing without regard to 
> references. If the processing in that pass happens to yield references 
> that cannot yet be resolved, then the processing of those needs to be 
> deferred.
>
>> Therefore, we decided to do a) or b). The current draft specifies a), 
>> we doing b) might make sense as well (it would be less restrictive).
>
> We have plenty of counterexamples that (a) is insufficient. Any case 
> where a header field in the sip message references a body part (e.g. 
> GeoLocation) is a counterexample. So I think we must exclude (a) from 
> consideration.

I think you're misreading a).  What Gonzalo proposes in a) is "IN HEADER 
FIELDS and body parts within the same multipart/related as the 
referenced body part"

Perhaps there's some ambiguity in the grammatical construction here. If 
you read this as "(in header fields and body parts) within the same 
multipart/related as the referenced body part" then you're right: this 
won't work. It also makes little sense. I think that the grouping was 
meant as: "(in header fields) and (body parts within the same 
multipart/related as the referenced body part)".

That seems to satisfy all the existing use cases. It also prevents the 
accidental specification of extensions that erroneously try to specify 
related body parts without using multipart/related.

/a


_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Wed Sep 05 12:08:54 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1ISxPI-0007Zs-2P; Wed, 05 Sep 2007 12:07:08 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1ISxPG-0007ZV-UT
	for sip-confirm+ok@megatron.ietf.org; Wed, 05 Sep 2007 12:07:06 -0400
Received: from [10.91.34.44] (helo=ietf-mx.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1ISxPG-0007ZN-KP
	for sip@ietf.org; Wed, 05 Sep 2007 12:07:06 -0400
Received: from zrtps0kn.nortel.com ([47.140.192.55])
	by ietf-mx.ietf.org with esmtp (Exim 4.43) id 1ISxPF-0007PV-8Q
	for sip@ietf.org; Wed, 05 Sep 2007 12:07:06 -0400
Received: from zrc2hxm1.corp.nortel.com (zrc2hxm1.corp.nortel.com
	[47.103.123.72])
	by zrtps0kn.nortel.com (Switch-2.2.6/Switch-2.2.0) with ESMTP id
	l85G72l20312; Wed, 5 Sep 2007 16:07:02 GMT
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: ?headers ( was RE: AW: AW: [Sip] Extension of conference procedures
Date: Wed, 5 Sep 2007 11:05:09 -0500
Message-ID: <E3F9D87C63E2774390FE67C924EC99BB1C1409D2@zrc2hxm1.corp.nortel.com>
In-Reply-To: <317ceda50709050841r15b0b828hdccaee3486ff9531@mail.gmail.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: ?headers ( was RE: AW: AW: [Sip] Extension of conference
	procedures
Thread-Index: Acfv00nNNmh4f8cHRKO55i+pNUmv9wAAjgig
References: <C302EB13.A82F%eburger@bea.com>
	<CCA850DCD3FBE2479D5076C5C1873222029F50B6@S4DE9JSAAHW.ost.t-com.de>
	<5D1A7985295922448D5550C94DE2918001636EF9@DEEXC1U01.de.lucent.com>
	<317ceda50709050841r15b0b828hdccaee3486ff9531@mail.gmail.com>
From: "Mary Barnes" <mary.barnes@nortel.com>
To: "Peili Xu" <xupeili@gmail.com>,
	"DRAGE, Keith (Keith)" <drage@alcatel-lucent.com>
X-Spam-Score: 0.0 (/)
X-Scan-Signature: 769a46790fb42fbb0b0cc700c82f7081
Cc: sip@ietf.org
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

RFC 4244 (History-Info) also uses this mechanism to capture the Reason
and Privacy associated with the URIs that are included as part of the
History-Info header.  My understanding is that it's really just a nifty
way to compactly reuse existing headers (i.e., it makes the History-Info
much more compact as I didn't need to define additional parameters for
the header, but could rather reuse the existing ones, whose existing
semantics perfectly applicable).  I do think that the use of the headers
that might be escaped using this mechanism should be explained,
particularly in cases where you might be extending the use of existing
headers as I did for the Privacy header. =20

Mary. =20

-----Original Message-----
From: Peili Xu [mailto:xupeili@gmail.com]=20
Sent: Wednesday, September 05, 2007 10:41 AM
To: DRAGE, Keith (Keith)
Cc: sip@ietf.org
Subject: Re: AW: AW: [Sip] Extension of conference procedures

Yes, It's vague in RFC3261.  I'm only aware of the usage in REFER now.
It'll be good to clarify the semantics in the usage in url-list.

2007/9/5, DRAGE, Keith (Keith) <drage@alcatel-lucent.com>:
> So this is a convenient way to bring us back to the other half of the
issue which we do not seem to have discussed yet. When the syntax was
defined that allowed ?headers:
>
>       Headers: Header fields to be included in a request constructed
>          from the URI.
>
>          Headers fields in the SIP request can be specified with the
"?"
>          mechanism within a URI.  The header names and values are
>          encoded in ampersand separated hname =3D hvalue pairs.  The
>          special hname "body" indicates that the associated hvalue is
>          the message-body of the SIP request.
>
> What usage did the SIP WG envisage for this, and thus what semantics
did they define for that usage.
>
> Is it appropriate to assign new semantics to such usage?
>
> Regards
>
> Keith
>
Note: I snipped the rest of this thread as it was getting really LONG.


_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Wed Sep 05 12:37:58 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1ISxrF-0007Bh-Gr; Wed, 05 Sep 2007 12:36:01 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1ISxrE-0007BR-J0
	for sip-confirm+ok@megatron.ietf.org; Wed, 05 Sep 2007 12:36:00 -0400
Received: from [10.90.34.44] (helo=chiedprmail1.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1ISxrE-0007BJ-7l
	for sip@ietf.org; Wed, 05 Sep 2007 12:36:00 -0400
Received: from owa.tdsoft.com ([212.143.64.50] helo=mailserver.vocaltec.co.il)
	by chiedprmail1.ietf.org with esmtp (Exim 4.43) id 1ISxrD-000275-9C
	for sip@ietf.org; Wed, 05 Sep 2007 12:36:00 -0400
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: [Sip] INFO
Date: Wed, 5 Sep 2007 19:37:02 +0300
Message-ID: <431F3BDE11BF2F42A22CBEFA36BD88A401774B46@mailserver.vocaltec.local>
In-Reply-To: <C304070A.A91A%eburger@bea.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] INFO
Thread-Index: AcfopsS6ijL/eVSeR7OkrFxhvjEZ1wCqsuc+ABF4AvAA4JbFswAlLCkAAAPXpb8AAFTEcAAB2uzrAABnB8A=
References: <431F3BDE11BF2F42A22CBEFA36BD88A401774AF7@mailserver.vocaltec.local>
	<C304070A.A91A%eburger@bea.com>
From: "Bram Verburg" <bram@vocaltec.com>
To: "Eric Burger" <eburger@bea.com>
X-Spam-Score: 0.0 (/)
X-Scan-Signature: 3d7f2f6612d734db849efa86ea692407
Cc: sip <sip@ietf.org>
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

I don't think you can really decouple the SIP layer and the encapsulated
ISUP/Q.931 body like that, and say that SIP-T is just the tunneling
part.

The fact that SIP-T says that SIP headers take precedence over the
ISUP/Q.931 means you can't send the INVITE and the IAM over separate
channels (for example a TCP or Sigtran tunnel for ISUP) without opening
a big can of worms. How do you synchronize those messages at the
receiving end; you'd need both the INVITE and the tunneled IAM before
you can send something out on the PSTN side. How do you even make sure
those two channels reach the same destination after passing through
proxies, NATs, SBCs, load balancers, etc.?

A proper SIP-T implementation can be fully SIP compliant, it's just that
it currently uses a somewhat controversial SIP method. If that
particular issue needs to be addressed, let's address it.

Bram


> -----Original Message-----
> From: Eric Burger [mailto:eburger@bea.com]=20
> Sent: 05 September 2007 17:11
> To: Bram Verburg
> Cc: sip
> Subject: Re: [Sip] INFO
>=20
> The use of INFO part.  Hey, I'm not totally Henry - I do see=20
> a place for communications service providers and I recognize=20
> the importance of interworking with the PSTN for the next 15 years.
>=20
> SIP-T is not a session initiation protocol.  It is a set of=20
> conventions for TUNNELING proprietary signaling events over=20
> SIP.  Key word there is TUNNELING.  That is the clue that=20
> section 3.3 applies.
>=20
>=20
> On 9/5/07 6:46 AM, "Bram Verburg" <bram@vocaltec.com> wrote:
>=20
> > OK, SIP-T is not going away, but I'm still not sure whether you are=20
> > trying to say that all of SIP-T is bad, or only its use of INFO? If=20
> > all of SIP-T is bad, then let's not fix it and wait till it does go=20
> > away eventually. If the problem is specifically with INFO,=20
> then let's=20
> > define an event package that allows endpoints to request=20
> mid-call 'proprietary'
> > signaling events, and then we can deprecate INFO altogether.
> >=20
> > My point was that SIP-T is not simply a tunnel that could=20
> be replaced=20
> > by any other transport layer, which is what section 3.3=20
> seems to describe.
> > It is a 'session initiation protocol' that does exactly what SIP is=20
> > designed to do: initiate sessions. The fact that the INFO=20
> method has a=20
> > problem doesn't mean that SIP-T is an inappropriate use of SIP.
> >=20
> > Bram
> >=20
> >=20
> >> -----Original Message-----
> >> From: Eric Burger [mailto:eburger@bea.com]
> >> Sent: 05 September 2007 16:09
> >> To: Bram Verburg
> >> Cc: sip
> >> Subject: Re: [Sip] INFO
> >>=20
> >> SIP-T suffers *all* of the issues with INFO.
> >>=20
> >> Read section 3.3 for the 'right' way of doing SIP-T.
> >>=20
> >> That said, let's be real: I don't think anyone will=20
> abandon SIP-T at=20
> >> this late date.  Although this really is a counter=20
> example, I would=20
> >> liken this to the story in:
> >> http://www.snopes.com/history/american/gauge.htm
> >>=20
> >>=20
> >>=20
> >>=20
> >> On 9/5/07 4:56 AM, "Bram Verburg" <bram@vocaltec.com> wrote:
> >>=20
> >>>> That is the point of the draft.  All of the uses of INFO
> >> today have
> >>>> alternatives that do not have the same problems.
> >>>>=20
> >>>> In fact, I am really thinking the draft should point out
> >> the use of
> >>>> INFO for SIP-T is also incorrect.  SIP-T should use a control=20
> >>>> channel, not the "SIP"
> >>>> channel, for transporting proprietary signaling.  The only thing=20
> >>>> SIP-T does is re-create TCP over SIP.  Not a very useful
> >> use of SIP.
> >>>=20
> >>> I don't think that's a fair assessment of SIP-T, since you
> >> seem to be
> >>> ignoring the fact that SIP-T also (primarily) uses other
> >> methods than
> >>> INFO.
> >>>=20
> >>> The encapsulation of 'proprietary' signaling is done to convey=20
> >>> information that cannot currently be conveyed in pure SIP.
> >> But other
> >>> than that, within the VoIP domain the regular SIP dialog
> >> model is used
> >>> to establish and tear down sessions. SIP headers take
> >> precedence over
> >>> the contents of the ISUP/Q.931 message, so the 'tunneled'
> >> message is
> >>> only used to fill in some blanks at the receiving end.=20
> For the most=20
> >>> part proxies and even user agents can safely ignore the
> >> message body
> >>> and still participate in the SIP dialog.
> >>>=20
> >>> Some ISUP/Q.931 messages arrive at a stage in the session=20
> where SIP=20
> >>> doesn't define any interaction between UAs, so currently
> >> INFO is used
> >>> as a tunnel. If you believe it should be replaced by=20
> something less=20
> >>> ambiguous, that won't be abused outside the scope of=20
> SIP-T the same=20
> >>> way INFO is today, I guess that's fair enough. But saying
> >> that SIP-T
> >>> should use TCP tunnels instead seems a bit harsh.
> >>>=20
> >>> Bram
> >>>=20
> >>=20
> >>=20
> >>=20
> >> Notice:  This email message, together with any attachments, may=20
> >> contain information  of  BEA Systems,  Inc.,  its=20
> subsidiaries  and =20
> >> affiliated entities,  that may be confidential,  proprietary, =20
> >> copyrighted  and/or legally privileged, and is intended solely for=20
> >> the use of the individual or entity named in this message.=20
> If you are=20
> >> not the intended recipient, and have received this message=20
> in error,=20
> >> please immediately return this by email and then delete it.
> >>=20
> >=20
>=20
>=20
>=20
> Notice:  This email message, together with any attachments,=20
> may contain information  of  BEA Systems,  Inc.,  its=20
> subsidiaries  and  affiliated entities,  that may be=20
> confidential,  proprietary,  copyrighted  and/or legally=20
> privileged, and is intended solely for the use of the=20
> individual or entity named in this message. If you are not=20
> the intended recipient, and have received this message in=20
> error, please immediately return this by email and then delete it.
>=20


_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Wed Sep 05 13:21:53 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1ISyXr-0006l5-CV; Wed, 05 Sep 2007 13:20:03 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1ISyXq-0006ky-8D
	for sip-confirm+ok@megatron.ietf.org; Wed, 05 Sep 2007 13:20:02 -0400
Received: from [10.90.34.44] (helo=chiedprmail1.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1ISyXp-0006kq-SW
	for sip@ietf.org; Wed, 05 Sep 2007 13:20:01 -0400
Received: from rtp-iport-2.cisco.com ([64.102.122.149])
	by chiedprmail1.ietf.org with esmtp (Exim 4.43) id 1ISyXp-00039P-Cv
	for sip@ietf.org; Wed, 05 Sep 2007 13:20:01 -0400
Received: from rtp-dkim-1.cisco.com ([64.102.121.158])
	by rtp-iport-2.cisco.com with ESMTP; 05 Sep 2007 13:19:57 -0400
X-IronPort-AV: i="4.20,211,1186372800"; 
	d="scan'208"; a="131028758:sNHT68185922"
Received: from rtp-core-1.cisco.com (rtp-core-1.cisco.com [64.102.124.12])
	by rtp-dkim-1.cisco.com (8.12.11/8.12.11) with ESMTP id l85HJvtQ003045; 
	Wed, 5 Sep 2007 13:19:57 -0400
Received: from xbh-rtp-201.amer.cisco.com (xbh-rtp-201.cisco.com
	[64.102.31.12])
	by rtp-core-1.cisco.com (8.12.10/8.12.6) with ESMTP id l85HJtZE006645; 
	Wed, 5 Sep 2007 17:19:56 GMT
Received: from xfe-rtp-202.amer.cisco.com ([64.102.31.21]) by
	xbh-rtp-201.amer.cisco.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Wed, 5 Sep 2007 13:19:54 -0400
Received: from [161.44.174.118] ([161.44.174.118]) by
	xfe-rtp-202.amer.cisco.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Wed, 5 Sep 2007 13:19:54 -0400
Message-ID: <46DEE537.2000709@cisco.com>
Date: Wed, 05 Sep 2007 13:19:51 -0400
From: Paul Kyzivat <pkyzivat@cisco.com>
User-Agent: Thunderbird 2.0.0.6 (Windows/20070728)
MIME-Version: 1.0
To: Adam Roach <adam@nostrum.com>
Subject: Re: [Sip] New revision of draft-ietf-sip-body-handling-00.txt
References: <C302EA4F.A82D%eburger@bea.com>
	<46DDD081.9030900@cisco.com>	<46DE8094.8060807@ericsson.com>
	<46DEB158.10101@cisco.com> <46DED1CD.4060409@nostrum.com>
In-Reply-To: <46DED1CD.4060409@nostrum.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-OriginalArrivalTime: 05 Sep 2007 17:19:54.0377 (UTC)
	FILETIME=[F9AA9F90:01C7EFE0]
DKIM-Signature: v=0.5; a=rsa-sha256; q=dns/txt; l=3554; t=1189012797;
	x=1189876797; c=relaxed/simple; s=rtpdkim1001;
	h=Content-Type:From:Subject:Content-Transfer-Encoding:MIME-Version;
	d=cisco.com; i=pkyzivat@cisco.com;
	z=From:=20Paul=20Kyzivat=20<pkyzivat@cisco.com>
	|Subject:=20Re=3A=20[Sip]=20New=20revision=20of=20draft-ietf-sip-body-han
	dling-00.txt |Sender:=20
	|To:=20Adam=20Roach=20<adam@nostrum.com>;
	bh=/DXtxV//o37yaL0MwdQlj1C3yMABI+LxKVZdabzLJTo=;
	b=Sd5GL0f4vdfUJ9Hx2RDSh6mW+J13wbHrhqc/Rrm7Bsku+cPsnnHYr9q6kep8FVN9jGywTC/t
	1SietU46XHpINamLl1Nch2u7OcaO+PnLbb3+V1kAPNaWbw6mhcyLLn89;
Authentication-Results: rtp-dkim-1; header.From=pkyzivat@cisco.com; dkim=pass (
	sig from cisco.com/rtpdkim1001 verified; ); 
X-Spam-Score: 0.0 (/)
X-Scan-Signature: 944ecb6e61f753561f559a497458fb4f
Cc: sip <sip@ietf.org>, Gonzalo Camarillo <Gonzalo.Camarillo@ericsson.com>
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org



Adam Roach wrote:

>> We have plenty of counterexamples that (a) is insufficient. Any case 
>> where a header field in the sip message references a body part (e.g. 
>> GeoLocation) is a counterexample. So I think we must exclude (a) from 
>> consideration.
> 
> I think you're misreading a).  What Gonzalo proposes in a) is "IN HEADER 
> FIELDS and body parts within the same multipart/related as the 
> referenced body part"
> 
> Perhaps there's some ambiguity in the grammatical construction here. If 
> you read this as "(in header fields and body parts) within the same 
> multipart/related as the referenced body part" then you're right: this 
> won't work.

That indeed is the way I was reading it. At the least it needs to be 
clarified

> It also makes little sense. I think that the grouping was 
> meant as: "(in header fields) and (body parts within the same 
> multipart/related as the referenced body part)".
> 
> That seems to satisfy all the existing use cases. It also prevents the 
> accidental specification of extensions that erroneously try to specify 
> related body parts without using multipart/related.

I'm still not sure that covers all the valid cases, though again it may 
be a matter of parsing the words.

Lets take a concrete example:

1) A usage for location-convenance (trimmed for readability):

    INVITE sips:bob@biloxi.example.com SIP/2.0
    To: Bob <sips:bob@biloxi.example.com>
    From: Alice <sips:alice@atlanta.example.com>;tag=9fxced76sl
    Call-ID: 3848276298220188511@atlanta.example.com
    Geolocation: <cid:target123@atlanta.example.com>
      ;inserted-by=alice@atlanta.example.com ;recipient=endpoint
    Supported: geolocation
    Accept: application/sdp, application/pidf+xml
    CSeq: 31862 INVITE
    Contact: <sip:alice@atlanta.example.com>
    Content-Type: multipart/mixed; boundary=boundary1
    Content-Length: ...

    --boundary1

    Content-Type: application/sdp

    ...SDP goes here

    --boundary1

    Content-Type: application/pidf+xml
    Content-ID: target123@atlanta.example.com

    <?xml version="1.0" encoding="UTF-8"?>
    ... bunch of presence stuff
    --boundary1--

2) Alice sends a REFER to Bob. As a result, Bob sends an
    INVITE to Charlie. Charlie's response contains an
    Alert-Info header with a CID URL. Bob wants Alice to
    know about this, so he sends the entire response in
    the NOTIFY for the refer event package:

    NOTIFY sip:alice.atlanta.example.com SIP/2.0
    To: <sip:alice@atlanta.com>;tag=193402342
    From: <sip:bob@biloxy.com>;tag=4992881234
    Event: refer
    Subscription-State: active;expires=600
    Content-Type: message/sipfrag;version=2.0
    Content-Length: ...

    SIP/2.0 200 OK
    To: <sip:charlie@chicago.com>;tag=876402342
    From: <sip:bob@biloxy.com>;tag=4992881235
    Alert-Info: <CID:target123@charlie.chicago.com>
    Call-ID: 123456@bob.biloxi.com
    CSeq: 182 INVITE
    Content-Type: multipart/mixed; boundary=boundary1
    Content-Length: ...

    --boundary1

    Content-Type: application/sdp

    ...SDP goes here

    --boundary1

    Content-Type: audio/mpeg
    Content-ID: target123@charlie.chicago.com

    ... bunch of mpeg stuff here
    --boundary1--

I think your interpretation covers (1). But in (2) it is a header in the 
*body* of the notify that contains a reference to one of the parts of 
the multipart body of that body. I don't think the existing words cover 
that case.

	Paul


_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Wed Sep 05 13:31:03 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1ISygo-0006K3-5A; Wed, 05 Sep 2007 13:29:18 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1ISygm-0006Jp-8o
	for sip-confirm+ok@megatron.ietf.org; Wed, 05 Sep 2007 13:29:16 -0400
Received: from [10.90.34.44] (helo=chiedprmail1.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1ISygl-0006Jh-T1
	for sip@ietf.org; Wed, 05 Sep 2007 13:29:15 -0400
Received: from zcars04e.nortel.com ([47.129.242.56])
	by chiedprmail1.ietf.org with esmtp (Exim 4.43) id 1ISygl-0003Lb-2K
	for sip@ietf.org; Wed, 05 Sep 2007 13:29:15 -0400
Received: from zrc2hxm1.corp.nortel.com (zrc2hxm1.corp.nortel.com
	[47.103.123.72])
	by zcars04e.nortel.com (Switch-2.2.0/Switch-2.2.0) with ESMTP id
	l85HQwx20855; Wed, 5 Sep 2007 17:26:58 GMT
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Date: Wed, 5 Sep 2007 12:26:57 -0500
Message-ID: <E3F9D87C63E2774390FE67C924EC99BB1C1905CF@zrc2hxm1.corp.nortel.com>
In-Reply-To: <5D1A7985295922448D5550C94DE29180015F4C10@DEEXC1U01.de.lucent.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Post-WGLC review: draft-ietf-sip-session-policy-framework-02.txt
Thread-Index: Acfme0bWZ8jR/4dWR7S4r3LSpYtMhQBlO7LQAfIMlPA=
References: <E1IOdgT-0003ii-OR@stiedprstage1.ietf.org>
	<5D1A7985295922448D5550C94DE29180015F4C10@DEEXC1U01.de.lucent.com>
From: "Mary Barnes" <mary.barnes@nortel.com>
To: "DRAGE, Keith (Keith)" <drage@alcatel-lucent.com>, <sip@ietf.org>
X-Spam-Score: 0.0 (/)
X-Scan-Signature: a92270ba83d7ead10c5001bb42ec3221
Cc: Volker Hilt <volkerh@bell-labs.com>
Subject: [Sip] Post-WGLC review:
	draft-ietf-sip-session-policy-framework-02.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

Keith,

Here's my review of the updated document.  I do encourage past reviewers
to also re-review, as there have been chunks of normative text added.
Also, note that the diff is a bit difficult to totally use in places due
to the addition/deletion sections and text being re-arranged.

Mary.

=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D


Draft:  draft-ietf-sip-session-policy-framework-02
Reviewer: Mary Barnes
Review Date: 5 Sept 2007
Review Deadline: 9 Sept 2007
Status: Post-WGLC

Summary: This draft is ready for publication.  There are a few nits
which are detailed below, most of which could just be left for the RFC
editor to fix.=20

Comments:
----------
I reviewed the diff for this document as compared to the version=20
I previously reviewed. All my previous concerns have been addressed.

I also reviewed the new text and overall it seems okay and definitely
helps clarify and add precision to the document.   However, as is the
case anytime you edit a document, there were a few editorial nits
introduced in the newer text.


Nits:
------
- Section 4.4.1., 3rd para, 1st sentence: resent -> resend (this is a
subtle grammar nit and it was actually I that suggested the change from
"resend" to "resent" in another sentence, but since the stucture of the
sentence is different in this case, the form of the verb changes. I can
go on an on about the grammatical differences between these two
sentences and the use "resend" vs "resent" - it's basically that
"resend" is considered an irregular verb, thus, it doesn't follow normal
rules for the past, past participle, or adverb forms which is "resent".
The present tense should follow the "MAY" for this sentence and in the
other sentence, the adverb form is used due to the "can be").=20

OLD:
  The UAC MAY resent the unchanged request if it cannot setup a policy =20
  channel to the policy server, =20
NEW:
  The UAC MAY resend the unchanged request if it cannot setup a policy=20
              ^^^^^^=20
  channel to the policy server, =20

- Section 4.5.1, 4th paragraph, 6th sentence: servers -> server

OLD: =20
  The UAC MUST set up a policy channel to each new policy servers.

NEW:
  The UAC MUST set up a policy channel to each new policy server.=20
                                                               ^=20
- Section 4.5.2, 1st paragraph, 2nd sentence: server -> servers (or
"they were" -> "it was")

OLD:
  The UA MUST contact the policy server in the order in which they were
discovered most recently.=20
NEW:
  The UA MUST contact the policy servers in the order in which they were
discovered most recently.=20

- Section 6.3. in the table for the "Reference", it lists "This
document", however, it really should be the published RFC. In the past,
I've seen the notation: "RFCxxxx", with a note to the RFC-Editor to
replace the "RFCxxx" with the assigned RFC number.  Now, I'm assuming
that just makes it slightly easier and that even without this, they
would enter the correct RFC number.=20
 =20
-----Original Message-----
From: DRAGE, Keith (Keith) [mailto:drage@alcatel-lucent.com]=20
Sent: Sunday, August 26, 2007 1:40 PM
To: sip@ietf.org
Subject: RE: [Sip] I-D
ACTION:draft-ietf-sip-session-policy-framework-02.txt

(As SIP WG co-chair)

This version of the document would claim to address all the WGLC
comments, and should therefore be ready for publication.

Could I ask all people that addressed WGLC comments on this document to
check that their comments have been addressed. If anyone else out there
has a chance for a reread of the document, that would also be
appropriate.

Assuming that all is OK, we will be progressing the publication request
for this document in a week or two.

Regards

Keith

> -----Original Message-----
> From: Internet-Drafts@ietf.org [mailto:Internet-Drafts@ietf.org]
> Sent: Friday, August 24, 2007 7:15 PM
> To: i-d-announce@ietf.org
> Cc: sip@ietf.org
> Subject: [Sip] I-D
> ACTION:draft-ietf-sip-session-policy-framework-02.txt
>=20
> A New Internet-Draft is available from the on-line Internet-Drafts=20
> directories.
> This draft is a work item of the Session Initiation Protocol Working=20
> Group of the IETF.
>=20
> 	Title		: A Framework for Session Initiation=20
> Protocol (SIP) Session Policies
> 	Author(s)	: V. Hilt, et al.
> 	Filename	: draft-ietf-sip-session-policy-framework-02.txt
> 	Pages		: 33
> 	Date		: 2007-8-24
> =09
> Proxy servers play a central role as an intermediary in the Session
>    Initiation Protocol (SIP) as they define and impact policies on=20
> call
>    routing, rendezvous, and other call features.  This document
>    specifies a framework for SIP session policies that provides a
>    standard mechanism by which a proxy can define or influence=20
> policies
>    on sessions, such as the codecs or media types to be used.  It
>    defines a model, an overall architecture and new protocol=20
> mechanisms
>    for session policies.
>=20
> A URL for this Internet-Draft is:
> http://www.ietf.org/internet-drafts/draft-ietf-sip-session-pol
> icy-framework-02.txt
>=20
> To remove yourself from the I-D Announcement list, send a message to=20
> i-d-announce-request@ietf.org with the word unsubscribe in the body of

> the message.
> You can also visit https://www1.ietf.org/mailman/listinfo/I-D-announce
> to change your subscription settings.
>=20
> Internet-Drafts are also available by anonymous FTP. Login with the=20
> username "anonymous" and a password of your e-mail address. After=20
> logging in, type "cd internet-drafts" and then "get=20
> draft-ietf-sip-session-policy-framework-02.txt".
>=20
> A list of Internet-Drafts directories can be found in=20
> http://www.ietf.org/shadow.html or=20
> ftp://ftp.ietf.org/ietf/1shadow-sites.txt
>=20
> Internet-Drafts can also be obtained by e-mail.
>=20
> Send a message to:
> 	mailserv@ietf.org.
> In the body type:
> 	"FILE
> /internet-drafts/draft-ietf-sip-session-policy-framework-02.txt".
> =09
> NOTE:	The mail server at ietf.org can return the document in
> 	MIME-encoded form by using the "mpack" utility.  To use this
> 	feature, insert the command "ENCODING mime" before the "FILE"
> 	command.  To decode the response(s), you will need "munpack" or
> 	a MIME-compliant mail reader.  Different MIME-compliant mail
readers
> 	exhibit different behavior, especially when dealing with
> 	"multipart" MIME messages (i.e. documents which have been split
> 	up into multiple messages), so check your local documentation on
> 	how to manipulate these messages.
>=20
> Below is the data which will enable a MIME compliant mail reader=20
> implementation to automatically retrieve the ASCII version of the=20
> Internet-Draft.
>=20


_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol Use
sip-implementors@cs.columbia.edu for questions on current sip Use
sipping@ietf.org for new developments on the application of sip


_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Wed Sep 05 14:03:20 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1ISzBv-0005x2-0I; Wed, 05 Sep 2007 14:01:27 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1ISzBu-0005wu-AH
	for sip-confirm+ok@megatron.ietf.org; Wed, 05 Sep 2007 14:01:26 -0400
Received: from [10.90.34.44] (helo=chiedprmail1.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1ISzBt-0005wi-Uw
	for sip@ietf.org; Wed, 05 Sep 2007 14:01:26 -0400
Received: from empbedex1.empirix.com ([12.38.203.54])
	by chiedprmail1.ietf.org with esmtp (Exim 4.43) id 1ISzBs-00044N-UP
	for sip@ietf.org; Wed, 05 Sep 2007 14:01:25 -0400
Received: from EMPBEDEX.empirix.com ([10.16.0.92]) by empbedex1.empirix.com
	with Microsoft SMTPSVC(6.0.3790.1830); 
	Wed, 5 Sep 2007 14:01:22 -0400
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: [Sip] INFO - more on SIP-T
Date: Wed, 5 Sep 2007 14:00:59 -0400
Message-ID: <BD261180E6D35F4D9D32F3E44FD3D901095BF116@EMPBEDEX.empirix.com>
In-Reply-To: <317ceda50709050852q66f53abbl1e550c13a21990bf@mail.gmail.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] INFO - more on SIP-T
Thread-Index: Acfv1ORmjDtx82Q+RAmBPum7SDIwhAAEUKTA
References: <431F3BDE11BF2F42A22CBEFA36BD88A401774AF7@mailserver.vocaltec.local><C304070A.A91A%eburger@bea.com><24CCCC428EFEA2469BF046DB3C7A8D223AE071@namail5.corp.adobe.com>
	<317ceda50709050852q66f53abbl1e550c13a21990bf@mail.gmail.com>
From: "Beith, Gordon" <GBeith@empirix.com>
To: "Peili Xu" <xupeili@gmail.com>,
	"Henry Sinnreich" <hsinnrei@adobe.com>
X-OriginalArrivalTime: 05 Sep 2007 18:01:22.0582 (UTC)
	FILETIME=[C4C09360:01C7EFE6]
X-Spam-Score: 0.0 (/)
X-Scan-Signature: b045c2b078f76b9f842d469de8a32de3
Cc: sip <sip@ietf.org>
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

I agree with Peili here.

And regarding the other question, Sigtran (e.g. M3UA, M2PA) is used as
an alternative IP-based transport for SS7 on the PSTN (i.e.
interconnect) side of the network.
I don't think Sigtran is a good replacement for SIP-T between
"SIP-T"-aware devices across the SIP VoIP network.

/Gordon

-----Original Message-----
From: Peili Xu [mailto:xupeili@gmail.com]=20
Sent: Wednesday, September 05, 2007 11:53 AM
To: Henry Sinnreich
Cc: sip
Subject: Re: [Sip] INFO - more on SIP-T

Hi,

I would rather treat SIP-T (ISUP encapsulation) as an enhancement for
SIP in case of interworking.

Basically, it's a SIP session which route the call to the destination
(GW) and carry out SDP offer/answer negotiation. The reason why
encapsulation is just to guarantee minimum information lost.

I don't think the control channel concept for SIP is proper to replace
SIP-T, because we need SIP to do SDP exchange and most of the ISUP
information is semantically related to SIP dialog setup messages.

Peili

2007/9/5, Henry Sinnreich <hsinnrei@adobe.com>:
>
> Actually, using the SIP-T protocol for tunneling SS7 is a designer
> choice, though I would be interested to hear what other options there
> are and what may be the best option. Are there reasons for SIP-T to be
> the best option?
>
> I still dislike to the use of "SIP" in the "SIP-T" name as mentioned
> below.
>
> Thanks, Henry
>
> =
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
> Thanks Eric! :-)
>
> The guidelines for the usage of SIP don't have as far as I remember
any
> recommendation for SIP to be used as a tunneling protocol. In this
> respect, the use of SIP for a "tunneling convention" is non-truth in
> advertising.
>
> As for the most effective way of carrying SS7 over IP networks, I
would
> be interested to hear how VoIP providers are actually doing it. Can
> anyone share such information?
>
> Oh yes,...
> > I do see a place for communications service providers
> So do I. Aren't we all here in the IETF to communicate over the
Internet
> or in private IP networks?
>
> >> The fact that the INFO method has a
> >> problem doesn't mean that SIP-T is an inappropriate use of SIP.
>
> Yes, it is inappropriate since people attempting to connect with a SIP
> end device such as a SIP phone or PSTN gateway on the SIP side will
> fail.
>
> Henry
>
> -----Original Message-----
> From: Eric Burger [mailto:eburger@bea.com]
> Sent: Wednesday, September 05, 2007 9:11 AM
> To: Bram Verburg
> Cc: sip
> Subject: Re: [Sip] INFO
>
> The use of INFO part.  Hey, I'm not totally Henry - I do see a place
for
> communications service providers and I recognize the importance of
> interworking with the PSTN for the next 15 years.
>
> SIP-T is not a session initiation protocol.  It is a set of
conventions
> for
> TUNNELING proprietary signaling events over SIP.  Key word there is
> TUNNELING.  That is the clue that section 3.3 applies.
>
>
> On 9/5/07 6:46 AM, "Bram Verburg" <bram@vocaltec.com> wrote:
>
> > OK, SIP-T is not going away, but I'm still not sure whether you are
> > trying to say that all of SIP-T is bad, or only its use of INFO? If
> all
> > of SIP-T is bad, then let's not fix it and wait till it does go away
> > eventually. If the problem is specifically with INFO, then let's
> define
> > an event package that allows endpoints to request mid-call
> 'proprietary'
> > signaling events, and then we can deprecate INFO altogether.
> >
> > My point was that SIP-T is not simply a tunnel that could be
replaced
> by
> > any other transport layer, which is what section 3.3 seems to
> describe.
> > It is a 'session initiation protocol' that does exactly what SIP is
> > designed to do: initiate sessions. The fact that the INFO method has
a
> > problem doesn't mean that SIP-T is an inappropriate use of SIP.
> >
> > Bram
> >
> >
> >> -----Original Message-----
> >> From: Eric Burger [mailto:eburger@bea.com]
> >> Sent: 05 September 2007 16:09
> >> To: Bram Verburg
> >> Cc: sip
> >> Subject: Re: [Sip] INFO
> >>
> >> SIP-T suffers *all* of the issues with INFO.
> >>
> >> Read section 3.3 for the 'right' way of doing SIP-T.
> >>
> >> That said, let's be real: I don't think anyone will abandon
> >> SIP-T at this late date.  Although this really is a counter
> >> example, I would liken this to the story in:
> >> http://www.snopes.com/history/american/gauge.htm
> >>
> >>
> >>
> >>
> >> On 9/5/07 4:56 AM, "Bram Verburg" <bram@vocaltec.com> wrote:
> >>
> >>>> That is the point of the draft.  All of the uses of INFO
> >> today have
> >>>> alternatives that do not have the same problems.
> >>>>
> >>>> In fact, I am really thinking the draft should point out
> >> the use of
> >>>> INFO for SIP-T is also incorrect.  SIP-T should use a control
> >>>> channel, not the "SIP"
> >>>> channel, for transporting proprietary signaling.  The only thing
> >>>> SIP-T does is re-create TCP over SIP.  Not a very useful
> >> use of SIP.
> >>>
> >>> I don't think that's a fair assessment of SIP-T, since you
> >> seem to be
> >>> ignoring the fact that SIP-T also (primarily) uses other
> >> methods than
> >>> INFO.
> >>>
> >>> The encapsulation of 'proprietary' signaling is done to convey
> >>> information that cannot currently be conveyed in pure SIP.
> >> But other
> >>> than that, within the VoIP domain the regular SIP dialog
> >> model is used
> >>> to establish and tear down sessions. SIP headers take
> >> precedence over
> >>> the contents of the ISUP/Q.931 message, so the 'tunneled'
> >> message is
> >>> only used to fill in some blanks at the receiving end. For the
most
> >>> part proxies and even user agents can safely ignore the
> >> message body
> >>> and still participate in the SIP dialog.
> >>>
> >>> Some ISUP/Q.931 messages arrive at a stage in the session where
SIP
> >>> doesn't define any interaction between UAs, so currently
> >> INFO is used
> >>> as a tunnel. If you believe it should be replaced by something
less
> >>> ambiguous, that won't be abused outside the scope of SIP-T the
same
> >>> way INFO is today, I guess that's fair enough. But saying
> >> that SIP-T
> >>> should use TCP tunnels instead seems a bit harsh.
> >>>
> >>> Bram
> >>>
> >>
> >>
> >>
> >> Notice:  This email message, together with any attachments,
> >> may contain information  of  BEA Systems,  Inc.,  its
> >> subsidiaries  and  affiliated entities,  that may be
> >> confidential,  proprietary,  copyrighted  and/or legally
> >> privileged, and is intended solely for the use of the
> >> individual or entity named in this message. If you are not
> >> the intended recipient, and have received this message in
> >> error, please immediately return this by email and then delete it.
> >>
> >
>
>
>
> Notice:  This email message, together with any attachments, may
contain
> information  of  BEA Systems,  Inc.,  its subsidiaries  and
affiliated
> entities,  that may be confidential,  proprietary,  copyrighted
and/or
> legally privileged, and is intended solely for the use of the
individual
> or entity named in this message. If you are not the intended
recipient,
> and have received this message in error, please immediately return
this
> by email and then delete it.
>
>
> _______________________________________________
> Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
>
>
> _______________________________________________
> Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
>


_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Wed Sep 05 14:10:36 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1ISzJ5-00032r-Li; Wed, 05 Sep 2007 14:08:51 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1ISzJ4-00032h-Du
	for sip-confirm+ok@megatron.ietf.org; Wed, 05 Sep 2007 14:08:50 -0400
Received: from [10.91.34.44] (helo=ietf-mx.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1ISzJ4-00032Y-43
	for sip@ietf.org; Wed, 05 Sep 2007 14:08:50 -0400
Received: from mailgw4.ericsson.se ([193.180.251.62])
	by ietf-mx.ietf.org with esmtp (Exim 4.43) id 1ISzJ2-0001kL-IO
	for sip@ietf.org; Wed, 05 Sep 2007 14:08:50 -0400
Received: from mailgw4.ericsson.se (unknown [127.0.0.1])
	by mailgw4.ericsson.se (Symantec Mail Security) with ESMTP id
	C75CD205B8; Wed,  5 Sep 2007 20:08:47 +0200 (CEST)
X-AuditID: c1b4fb3e-b2038bb0000007e1-5f-46def0afef5d
Received: from esealmw128.eemea.ericsson.se (unknown [153.88.254.121])
	by mailgw4.ericsson.se (Symantec Mail Security) with ESMTP id
	9837820180; Wed,  5 Sep 2007 20:08:47 +0200 (CEST)
Received: from esealmw126.eemea.ericsson.se ([153.88.254.170]) by
	esealmw128.eemea.ericsson.se with Microsoft SMTPSVC(6.0.3790.1830); 
	Wed, 5 Sep 2007 20:08:47 +0200
Received: from mail.lmf.ericsson.se ([131.160.11.50]) by
	esealmw126.eemea.ericsson.se with Microsoft SMTPSVC(6.0.3790.1830); 
	Wed, 5 Sep 2007 20:08:46 +0200
Received: from [131.160.126.178] (rvi2-126-178.lmf.ericsson.se
	[131.160.126.178])
	by mail.lmf.ericsson.se (Postfix) with ESMTP id 9DE3A2336;
	Wed,  5 Sep 2007 21:08:46 +0300 (EEST)
Message-ID: <46DEF0AE.6080400@ericsson.com>
Date: Wed, 05 Sep 2007 21:08:46 +0300
From: Gonzalo Camarillo <Gonzalo.Camarillo@ericsson.com>
User-Agent: Thunderbird 2.0.0.6 (Windows/20070728)
MIME-Version: 1.0
To: Adam Roach <adam@nostrum.com>
Subject: Re: [Sip] New revision of draft-ietf-sip-body-handling-00.txt
References: <C302EA4F.A82D%eburger@bea.com>
	<46DDD081.9030900@cisco.com>	<46DE8094.8060807@ericsson.com>
	<46DEB158.10101@cisco.com> <46DED1CD.4060409@nostrum.com>
In-Reply-To: <46DED1CD.4060409@nostrum.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-OriginalArrivalTime: 05 Sep 2007 18:08:46.0872 (UTC)
	FILETIME=[CD91D980:01C7EFE7]
X-Brightmail-Tracker: AAAAAA==
X-Spam-Score: 0.0 (/)
X-Scan-Signature: 52f7a77164458f8c7b36b66787c853da
Cc: sip <sip@ietf.org>, Paul Kyzivat <pkyzivat@cisco.com>
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

Hi,

yes, the sentence should be read as Adam points out. After sending the 
email I noticed that adding a comma may have helped...

Thanks for the clarification,

Gonzalo

Adam Roach wrote:
> On 9/5/07 8:38 AM, Paul Kyzivat wrote:
>>
>>
>> Gonzalo Camarillo wrote:
>>> Hi,
>>>
>>> to be more concrete in our discussions, we need to make decisions on 
>>> the following two issues:
>>>
>>> 1) Where in a SIP message is it allowed to reference a body part?
>>>
>>> a) in header fields and body parts within the same multipart/related 
>>> as the referenced body part
>>> b) in header fields and body parts that appear before the referenced 
>>> body part
>>> c) in header fields and any body part
>>>
>>> We discussed that doing c) would require to parse SIP messages twice 
>>> to look for potential references.
>>
>> It is only necessary to parse twice if you can't decide what to do 
>> with the body part without finding the reference first.
>>
>> If the rule is that you *always* process a body part based on its type 
>> and disposition, and that references provide *additional* behavior, 
>> then you can do an initial parsing and processing without regard to 
>> references. If the processing in that pass happens to yield references 
>> that cannot yet be resolved, then the processing of those needs to be 
>> deferred.
>>
>>> Therefore, we decided to do a) or b). The current draft specifies a), 
>>> we doing b) might make sense as well (it would be less restrictive).
>>
>> We have plenty of counterexamples that (a) is insufficient. Any case 
>> where a header field in the sip message references a body part (e.g. 
>> GeoLocation) is a counterexample. So I think we must exclude (a) from 
>> consideration.
> 
> I think you're misreading a).  What Gonzalo proposes in a) is "IN HEADER 
> FIELDS and body parts within the same multipart/related as the 
> referenced body part"
> 
> Perhaps there's some ambiguity in the grammatical construction here. If 
> you read this as "(in header fields and body parts) within the same 
> multipart/related as the referenced body part" then you're right: this 
> won't work. It also makes little sense. I think that the grouping was 
> meant as: "(in header fields) and (body parts within the same 
> multipart/related as the referenced body part)".
> 
> That seems to satisfy all the existing use cases. It also prevents the 
> accidental specification of extensions that erroneously try to specify 
> related body parts without using multipart/related.
> 
> /a



_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Wed Sep 05 15:40:47 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1IT0iG-0001hh-6F; Wed, 05 Sep 2007 15:38:56 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1IT0iF-0001hJ-Bo
	for sip-confirm+ok@megatron.ietf.org; Wed, 05 Sep 2007 15:38:55 -0400
Received: from [10.91.34.44] (helo=ietf-mx.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1IT0iF-0001h9-2J
	for sip@ietf.org; Wed, 05 Sep 2007 15:38:55 -0400
Received: from smtp1.versatel.nl ([62.58.50.88])
	by ietf-mx.ietf.org with esmtp (Exim 4.43) id 1IT0iD-0004uf-Hq
	for sip@ietf.org; Wed, 05 Sep 2007 15:38:55 -0400
Received: (qmail 1405 invoked by uid 0); 5 Sep 2007 19:39:54 -0000
Received: from ip198-11-212-87.adsl2.versatel.nl (HELO [192.168.1.6])
	([87.212.11.198]) (envelope-sender <jbemmel@zonnet.nl>)
	by smtp1.versatel.nl (qmail-ldap-1.03) with SMTP
	for < >; 5 Sep 2007 19:39:54 -0000
Message-ID: <46DF05BF.8080007@zonnet.nl>
Date: Wed, 05 Sep 2007 21:38:39 +0200
From: Jeroen van Bemmel <jbemmel@zonnet.nl>
User-Agent: Thunderbird 2.0.0.6 (Windows/20070728)
MIME-Version: 1.0
To: Mary Barnes <mary.barnes@nortel.com>
Subject: Re: ?headers ( was RE: AW: AW: [Sip] Extension of conference
	procedures
References: <C302EB13.A82F%eburger@bea.com>	<CCA850DCD3FBE2479D5076C5C1873222029F50B6@S4DE9JSAAHW.ost.t-com.de>	<5D1A7985295922448D5550C94DE2918001636EF9@DEEXC1U01.de.lucent.com>	<317ceda50709050841r15b0b828hdccaee3486ff9531@mail.gmail.com>
	<E3F9D87C63E2774390FE67C924EC99BB1C1409D2@zrc2hxm1.corp.nortel.com>
In-Reply-To: <E3F9D87C63E2774390FE67C924EC99BB1C1409D2@zrc2hxm1.corp.nortel.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Score: 0.0 (/)
X-Scan-Signature: a2c12dacc0736f14d6b540e805505a86
Cc: sip@ietf.org, "DRAGE, Keith \(Keith\)" <drage@alcatel-lucent.com>
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

Concretely, would we be looking at something like

sip:b-party@provider.com?From=sip%3ca-party@provider.com;tag=x&To=sip:b-party@provider.com;tag=y&Call-ID=i&CSeq=1234&Route=rrr&body=<SDP 
with proper session versions etc>

in order to help the conference server fake a reINVITE towards B?

RFC3261 provides some guidance on the types of headers that elements 
might accept as part of a URI. Specifically, it states in 19.1.5:
"An implementation SHOULD NOT honor these obviously dangerous header 
fields: From, Call-ID, CSeq, Via, and Record-Route."

I believe the usage that was foreseen for this mechanism (as illustrated 
by some of the examples in RFC3261) was to provide some context for the 
request, such as Subject and Priority fields. In other words, optional 
information that might help the receiver understand the context.

The above are not different semantics for headers in a URI (concept 
remains: form a new request based on the URI, inserting the headers), 
but it does imply a deviation from the basic SIP call model (basically a 
way of encoding dialog state in a SIP URI, and sending that to another 
element such that it can reconstruct that state and assume the role of 
the party which shared the state).

Apart from the fact that this approach will fall short for SDP related 
state: is this desirable?

Regards,
Jeroen

Mary Barnes wrote:
> RFC 4244 (History-Info) also uses this mechanism to capture the Reason
> and Privacy associated with the URIs that are included as part of the
> History-Info header.  My understanding is that it's really just a nifty
> way to compactly reuse existing headers (i.e., it makes the History-Info
> much more compact as I didn't need to define additional parameters for
> the header, but could rather reuse the existing ones, whose existing
> semantics perfectly applicable).  I do think that the use of the headers
> that might be escaped using this mechanism should be explained,
> particularly in cases where you might be extending the use of existing
> headers as I did for the Privacy header.  
>
> Mary.  
>
> -----Original Message-----
> From: Peili Xu [mailto:xupeili@gmail.com] 
> Sent: Wednesday, September 05, 2007 10:41 AM
> To: DRAGE, Keith (Keith)
> Cc: sip@ietf.org
> Subject: Re: AW: AW: [Sip] Extension of conference procedures
>
> Yes, It's vague in RFC3261.  I'm only aware of the usage in REFER now.
> It'll be good to clarify the semantics in the usage in url-list.
>
> 2007/9/5, DRAGE, Keith (Keith) <drage@alcatel-lucent.com>:
>   
>> So this is a convenient way to bring us back to the other half of the
>>     
> issue which we do not seem to have discussed yet. When the syntax was
> defined that allowed ?headers:
>   
>>       Headers: Header fields to be included in a request constructed
>>          from the URI.
>>
>>          Headers fields in the SIP request can be specified with the
>>     
> "?"
>   
>>          mechanism within a URI.  The header names and values are
>>          encoded in ampersand separated hname = hvalue pairs.  The
>>          special hname "body" indicates that the associated hvalue is
>>          the message-body of the SIP request.
>>
>> What usage did the SIP WG envisage for this, and thus what semantics
>>     
> did they define for that usage.
>   
>> Is it appropriate to assign new semantics to such usage?
>>
>> Regards
>>
>> Keith
>>
>>     
> Note: I snipped the rest of this thread as it was getting really LONG.
>
>
> _______________________________________________
> Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
>
>   


_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Wed Sep 05 16:17:30 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1IT1Hr-0003rp-KZ; Wed, 05 Sep 2007 16:15:43 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1IT1Hi-0003fq-U4
	for sip-confirm+ok@megatron.ietf.org; Wed, 05 Sep 2007 16:15:34 -0400
Received: from [10.91.34.44] (helo=ietf-mx.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1IT1Hi-0003fc-ED; Wed, 05 Sep 2007 16:15:34 -0400
Received: from ns0.neustar.com ([156.154.16.158])
	by ietf-mx.ietf.org with esmtp (Exim 4.43)
	id 1IT1Hg-0006gk-R8; Wed, 05 Sep 2007 16:15:34 -0400
Received: from stiedprstage1.ietf.org (stiedprstage1.va.neustar.com
	[10.31.47.10]) by ns0.neustar.com (Postfix) with ESMTP id 67AC5328A1;
	Wed,  5 Sep 2007 20:15:02 +0000 (GMT)
Received: from ietf by stiedprstage1.ietf.org with local (Exim 4.43)
	id 1IT1HC-00041o-A2; Wed, 05 Sep 2007 16:15:02 -0400
Content-Type: Multipart/Mixed; Boundary="NextPart"
Mime-Version: 1.0
To: i-d-announce@ietf.org
From: Internet-Drafts@ietf.org
Message-Id: <E1IT1HC-00041o-A2@stiedprstage1.ietf.org>
Date: Wed, 05 Sep 2007 16:15:02 -0400
X-Spam-Score: 0.0 (/)
X-Scan-Signature: b5d20af10c334b36874c0264b10f59f1
Cc: sip@ietf.org
Subject: [Sip] I-D ACTION:draft-ietf-sip-answermode-05.txt 
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

--NextPart

A New Internet-Draft is available from the on-line Internet-Drafts 
directories.
This draft is a work item of the Session Initiation Protocol Working Group of the IETF.

	Title		: Requesting Answering Modes for the Session Initiation Protocol (SIP)
	Author(s)	: D. Willis, A. Allen
	Filename	: draft-ietf-sip-answermode-05.txt
	Pages		: 26
	Date		: 2007-9-5
	
This document defines extends SIP with two header fields and
   associated option tags that can be used in INVITE requests to convey
   the requester's preference for user-interface handling related to
   answering of that request.  The first header, "Answer-Mode",
   expresses a preference as to whether the target node's user interface
   waits for user input before accepting the request or instead accepts
   the request without waiting on user input.  The second header, "Priv-
   Answer-Mode" is similar to the first, except that it requests
   administrative-level access and has consequent additional
   authentication and authorization requirements.  These behaviors have
   applicability to applications such as Push-to-Talk and to diagnostics
   like loop-back.  Usage of each header field in a response to indicate
   how the request was handled is also defined.

A URL for this Internet-Draft is:
http://www.ietf.org/internet-drafts/draft-ietf-sip-answermode-05.txt

To remove yourself from the I-D Announcement list, send a message to 
i-d-announce-request@ietf.org with the word unsubscribe in the body of 
the message. 
You can also visit https://www1.ietf.org/mailman/listinfo/I-D-announce 
to change your subscription settings.

Internet-Drafts are also available by anonymous FTP. Login with the 
username "anonymous" and a password of your e-mail address. After 
logging in, type "cd internet-drafts" and then 
"get draft-ietf-sip-answermode-05.txt".

A list of Internet-Drafts directories can be found in
http://www.ietf.org/shadow.html 
or ftp://ftp.ietf.org/ietf/1shadow-sites.txt

Internet-Drafts can also be obtained by e-mail.

Send a message to:
	mailserv@ietf.org.
In the body type:
	"FILE /internet-drafts/draft-ietf-sip-answermode-05.txt".
	
NOTE:	The mail server at ietf.org can return the document in
	MIME-encoded form by using the "mpack" utility.  To use this
	feature, insert the command "ENCODING mime" before the "FILE"
	command.  To decode the response(s), you will need "munpack" or
	a MIME-compliant mail reader.  Different MIME-compliant mail readers
	exhibit different behavior, especially when dealing with
	"multipart" MIME messages (i.e. documents which have been split
	up into multiple messages), so check your local documentation on
	how to manipulate these messages.

Below is the data which will enable a MIME compliant mail reader
implementation to automatically retrieve the ASCII version of the
Internet-Draft.

--NextPart
Content-Type: Multipart/Alternative; Boundary="OtherAccess"

--OtherAccess
Content-Type: Message/External-body; access-type="mail-server";
	server="mailserv@ietf.org"

Content-Type: text/plain
Content-ID: <2007-9-5151458.I-D@ietf.org>

ENCODING mime
FILE /internet-drafts/draft-ietf-sip-answermode-05.txt

--OtherAccess
Content-Type: Message/External-body; name="draft-ietf-sip-answermode-05.txt";
	site="ftp.ietf.org"; access-type="anon-ftp";
	directory="internet-drafts"

Content-Type: text/plain
Content-ID: <2007-9-5151458.I-D@ietf.org>


--OtherAccess--

--NextPart
Content-Type: text/plain; charset="us-ascii"
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip
--NextPart--






From sip-bounces@ietf.org Wed Sep 05 16:29:03 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1IT1T3-0000W3-Rm; Wed, 05 Sep 2007 16:27:17 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1IT1T2-0000VS-ME
	for sip-confirm+ok@megatron.ietf.org; Wed, 05 Sep 2007 16:27:16 -0400
Received: from [10.90.34.44] (helo=chiedprmail1.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1IT1T2-0000V9-Bg; Wed, 05 Sep 2007 16:27:16 -0400
Received: from rwcrmhc13.comcast.net ([204.127.192.83])
	by chiedprmail1.ietf.org with esmtp (Exim 4.43)
	id 1IT1T1-0001qj-Vy; Wed, 05 Sep 2007 16:27:16 -0400
Received: from dragon.ariadne.com (dworley.hsd1.ma.comcast.net[24.34.79.42])
	by comcast.net (rwcrmhc13) with ESMTP
	id <20070905202714m13003h0m4e>; Wed, 5 Sep 2007 20:27:14 +0000
Received: from dragon.ariadne.com (dragon.ariadne.com [127.0.0.1])
	by dragon.ariadne.com (8.12.8/8.12.8) with ESMTP id l85KRD4p004436;
	Wed, 5 Sep 2007 16:27:13 -0400
Received: (from worley@localhost)
	by dragon.ariadne.com (8.12.8/8.12.8/Submit) id l85KRDTt004432;
	Wed, 5 Sep 2007 16:27:13 -0400
Date: Wed, 5 Sep 2007 16:27:13 -0400
Message-Id: <200709052027.l85KRDTt004432@dragon.ariadne.com>
To: sip@ietf.org, ecrit@ietf.org
From: Dale.Worley@comcast.net
In-reply-to: <46DC67A0.60809@gmx.net> (Hannes.Tschofenig@gmx.net)
Subject: Re: [Ecrit] Re: [Sip] draft-rosenberg-sip-ua-loose-route-01.txt
References: <46CAE441.8080504@gmx.net> <46D1C942.7010501@gmx.net>
	<46D264F9.6080101@softarmor.com> <46DC67A0.60809@gmx.net>
X-Spam-Score: 0.0 (/)
X-Scan-Signature: 0bc60ec82efc80c84b8d02f4b0e4de22
Cc: 
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

   From: Hannes Tschofenig <Hannes.Tschofenig@gmx.net>

   in ECRIT we assumed that the Request URI contains the service URN. We 
   put that stuff into the Phone BCP document (which unfortunately still 
   contains an error I just noticed).
   That's what we told the 3GPP in the past as well. Hence, they wrote it 
   in their specs. See TS 24.229, Section 5.1.6.8.3, bullet (1).

   Within the ECRIT group we weren't aware that this issue has not been 
   decided and hence we are a bit concerned about the recent change given 
   that other SDOs followed our suggestion already.

   Do you have an idea what we should do now?

I suspect there is a misunderstanding here:  There was some lengthy
discussion of a generalized "UA loose routing" (using URNs as
request-URIs) mechanism on the SIP mailing list, which discussion did
not result in a consensus.  However, in the course of the discussion,
the use of "loose routing" for emergency calls was mentioned, and I
believe that a consensus in favor of that technique was expressed.

The criticial differentiations between the emergency case and the
general case seem to be (1) a small number (possibly 1) of very
standardized URNs would be used, and (2) the ability of "loose
routing" to prevent fradulient usage of priority service without the
prior exchange of authentication information.

Dale


_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Wed Sep 05 20:22:45 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1IT571-0005Pg-PH; Wed, 05 Sep 2007 20:20:47 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1IT570-0005My-9J
	for sip-confirm+ok@megatron.ietf.org; Wed, 05 Sep 2007 20:20:46 -0400
Received: from [10.91.34.44] (helo=ietf-mx.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1IT56z-0005Kf-UW
	for sip@ietf.org; Wed, 05 Sep 2007 20:20:45 -0400
Received: from nylon.softarmor.com ([66.135.38.164])
	by ietf-mx.ietf.org with esmtp (Exim 4.43) id 1IT56y-0005E1-Kw
	for sip@ietf.org; Wed, 05 Sep 2007 20:20:45 -0400
Received: from [206.176.144.212] (206-176-144-212.waymark.net
	[206.176.144.212]) (authenticated bits=0)
	by nylon.softarmor.com (8.13.8/8.13.8/Debian-3) with ESMTP id
	l860K5IW008459
	(version=TLSv1/SSLv3 cipher=AES128-SHA bits=128 verify=NOT);
	Wed, 5 Sep 2007 19:20:07 -0500
In-Reply-To: <5D1A7985295922448D5550C94DE2918001636EF9@DEEXC1U01.de.lucent.com>
References: <C302EB13.A82F%eburger@bea.com>
	<CCA850DCD3FBE2479D5076C5C1873222029F50B6@S4DE9JSAAHW.ost.t-com.de>
	<5D1A7985295922448D5550C94DE2918001636EF9@DEEXC1U01.de.lucent.com>
Mime-Version: 1.0 (Apple Message framework v752.3)
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <CC302A9F-2D8A-4EE6-837F-7347971362AD@softarmor.com>
Content-Transfer-Encoding: 7bit
From: Dean Willis <dean.willis@softarmor.com>
Subject: Re: AW: AW: [Sip] Extension of conference procedures
Date: Wed, 5 Sep 2007 19:19:52 -0500
To: "DRAGE, Keith ((Keith))" <drage@alcatel-lucent.com>
X-Mailer: Apple Mail (2.752.3)
X-Spam-Score: 0.0 (/)
X-Scan-Signature: 39bd8f8cbb76cae18b7e23f7cf6b2b9f
Cc: sip@ietf.org
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org


On Sep 5, 2007, at 6:10 AM, DRAGE, Keith ((Keith)) wrote:

> So this is a convenient way to bring us back to the other half of  
> the issue which we do not seem to have discussed yet. When the  
> syntax was defined that allowed ?headers:
>
>       Headers: Header fields to be included in a request constructed
>          from the URI.
>
>          Headers fields in the SIP request can be specified with  
> the "?"
>          mechanism within a URI.  The header names and values are
>          encoded in ampersand separated hname = hvalue pairs.  The
>          special hname "body" indicates that the associated hvalue is
>          the message-body of the SIP request.
>
> What usage did the SIP WG envisage for this, and thus what  
> semantics did they define for that usage.
>
> Is it appropriate to assign new semantics to such usage?
>

I believe we were confused about the differences between headers and  
URI parameters and didn't quite get the "?" notation used with HTTP  
cgi-bin.

But that's just where it started. "?" notation has since been fairly  
widely used as a way to "flatten" elements of a SIP request for  
expression on a single (if somewhat long) line, which has been shown  
to be somewhat useful in both REFER and in retargeting proxies that  
allow one-line configuration of a target URL.


--
Dean



_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Wed Sep 05 20:25:36 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1IT59z-0003Bl-MN; Wed, 05 Sep 2007 20:23:51 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1IT59y-0003Bf-Ve
	for sip-confirm+ok@megatron.ietf.org; Wed, 05 Sep 2007 20:23:50 -0400
Received: from [10.90.34.44] (helo=chiedprmail1.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1IT59y-0003BL-L1; Wed, 05 Sep 2007 20:23:50 -0400
Received: from nylon.softarmor.com ([66.135.38.164])
	by chiedprmail1.ietf.org with esmtp (Exim 4.43)
	id 1IT59y-0006kl-9Q; Wed, 05 Sep 2007 20:23:50 -0400
Received: from [206.176.144.212] (206-176-144-212.waymark.net
	[206.176.144.212]) (authenticated bits=0)
	by nylon.softarmor.com (8.13.8/8.13.8/Debian-3) with ESMTP id
	l860Nl75008495
	(version=TLSv1/SSLv3 cipher=AES128-SHA bits=128 verify=NOT);
	Wed, 5 Sep 2007 19:23:49 -0500
In-Reply-To: <E1IT1HC-00041o-A2@stiedprstage1.ietf.org>
References: <E1IT1HC-00041o-A2@stiedprstage1.ietf.org>
Mime-Version: 1.0 (Apple Message framework v752.3)
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <06D6A63C-043D-4C62-87D3-3B10CB7B034C@softarmor.com>
Content-Transfer-Encoding: 7bit
From: Dean Willis <dean.willis@softarmor.com>
Date: Wed, 5 Sep 2007 19:23:35 -0500
To: internet-drafts@ietf.org
X-Mailer: Apple Mail (2.752.3)
X-Spam-Score: 0.0 (/)
X-Scan-Signature: 7655788c23eb79e336f5f8ba8bce7906
Cc: IETF SIP List <sip@ietf.org>
Subject: [Sip] Re: I-D ACTION:draft-ietf-sip-answermode-05.txt 
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org




On Sep 5, 2007, at 3:15 PM, Internet-Drafts@ietf.org wrote:

> A New Internet-Draft is available from the on-line Internet-Drafts
> directories.
> This draft is a work item of the Session Initiation Protocol  
> Working Group of the IETF.
>
> 	Title		: Requesting Answering Modes for the Session Initiation  
> Protocol (SIP)
> 	Author(s)	: D. Willis, A. Allen
> 	Filename	: draft-ietf-sip-answermode-05.txt
> 	Pages		: 26
> 	Date		: 2007-9-5

Note that I had an accident with a xml editor that rewrapped all the  
SIP examples that I didn't notice until after sending -05, so I've  
fixed it up and sent -06.

--
Dean


_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Thu Sep 06 04:36:58 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1ITCpG-0003xf-Th; Thu, 06 Sep 2007 04:34:58 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1IT1MB-0006HR-2S
	for sip-confirm+ok@megatron.ietf.org; Wed, 05 Sep 2007 16:20:11 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1IT1MA-0006HE-P0 for sip@ietf.org; Wed, 05 Sep 2007 16:20:10 -0400
Received: from [10.91.34.44] (helo=ietf-mx.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1IT1LH-0005AI-Aw
	for sip@ietf.org; Wed, 05 Sep 2007 16:19:15 -0400
Received: from rv-out-0910.google.com ([209.85.198.187])
	by ietf-mx.ietf.org with esmtp (Exim 4.43) id 1IT1LF-0007Gf-I7
	for sip@ietf.org; Wed, 05 Sep 2007 16:19:15 -0400
Received: by rv-out-0910.google.com with SMTP id l15so1469196rvb
	for <sip@ietf.org>; Wed, 05 Sep 2007 13:19:12 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; c=relaxed/relaxed; d=gmail.com; s=beta;
	h=domainkey-signature:received:received:message-id:date:from:to:subject:mime-version:content-type;
	b=kBLRHZBxNcIEdlgFpbZn8HQOn/OPcUvYSmj5V0R+Yt3DL883pmgXlPuQSNjnvXdEjK9u1SPCZrkqqS6P2NIXFUHxx4NKlWaA/oguPyBOLOl65wMtjx7JyVPSlSaKd65BN99lDhbBZlIo+PjhKExdizUd9kL/01XRNCDvEnN2SPs=
DomainKey-Signature: a=rsa-sha1; c=nofws; d=gmail.com; s=beta;
	h=received:message-id:date:from:to:subject:mime-version:content-type;
	b=H2FA5j/BVBaHWCD26MTMJ7TgkFZ1pKRR6d2ql6PDW92RgtA2bHsn7qI3Vq01rYHdCLWEKS5kUebnCjo8679OSdgCdBC9oP0Gkn/O5EJHYMiEjectQ6AeFMrrlwOlCv+GtEHHT+mXEiahfmOCUoJ4ar0Oz5wYp/je/hbrdJjrIEE=
Received: by 10.141.203.12 with SMTP id f12mr2999013rvq.1189023552179;
	Wed, 05 Sep 2007 13:19:12 -0700 (PDT)
Received: by 10.141.91.19 with HTTP; Wed, 5 Sep 2007 13:19:12 -0700 (PDT)
Message-ID: <26c6d6b10709051319p54a294cfy577acf3274704a92@mail.gmail.com>
Date: Wed, 5 Sep 2007 16:19:12 -0400
From: "Nicholas Mattiello" <nicholas.mattiello@gmail.com>
To: sip@ietf.org
MIME-Version: 1.0
X-Spam-Score: 0.0 (/)
X-Scan-Signature: 52f7a77164458f8c7b36b66787c853da
X-TMDA-Confirmed: Wed, 05 Sep 2007 16:20:10 -0400
X-Mailman-Approved-At: Thu, 06 Sep 2007 04:34:57 -0400
Subject: [Sip] Possible problem (?) regarding SUBSCRIBE
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: multipart/mixed; boundary="===============0413408429=="
Errors-To: sip-bounces@ietf.org

--===============0413408429==
Content-Type: multipart/alternative; 
	boundary="----=_Part_21262_11005467.1189023552134"

------=_Part_21262_11005467.1189023552134
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Hello,

Let me begin by saying I am relatively new to SIP.  I graduated 2 years ago
and since worked for a VoIP provider.  I am not a SIP expert, but I came
across some funky behavior and decided I should look into it.  I apologize
in advance if this has been addressed or if its not a problem.

I am currently working on presence event stuff for the SIP client I am
working on.  I recently noticed my Linux machine, which houses a proxy, was
constantly writing/reading from the hard drive at short regular intervals.
I did an ethereal trace and my client was sending SUBSCRIBEs at an ungodly
rate, causing the proxy to constantly write new subscription information to
the database.  I also noticed that my initial Expires header value was
different from the SUBSCRIBEs being sent (it defaults to 180, but the
Expires value i was seeing was now at 10).   I then noticed that the new
Expires value matched that of an expires parameter within the
Subscription-State header of a NOTIFY.

After looking into it, this is desired behavior according to RFC3265.  It
says:

If the value of the "Subscription-State" header is "active" or
"pending", the notifier SHOULD also include in the "Subscription-
State" header an "expires" parameter which indicates the time
remaining on the subscription.
...
If the "Subscription-State" header value is "active", it means that
the subscription has been accepted and (in general) has been
authorized.  If the header also contains an "expires" parameter, the
subscriber SHOULD take it as the authoritative subscription duration
and adjust accordingly.


So if there is 5 seconds left on a subscription, and a client receives a
NOTIFY, the client changes the Expires of any subsequent SUBSCRIBEs for that
event to 5 seconds, and requires a refresh at less than 5 second intervals.
The longer the client runs, the smaller this value will become.

This sounds like a problem to me, as a compliant client can start to flood a
compliant proxy.  Again I apologize if this has already been taken care of,
or if I am just reading this wrong, but the behavior within my compliant
proxy/compliant SIP API backs it up.

Thanks for your time.
-Nick

------=_Part_21262_11005467.1189023552134
Content-Type: text/html; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Hello,<br><br>Let me begin by saying I am relatively new to SIP.&nbsp; I graduated 2 years ago and since worked for a VoIP provider.&nbsp; I am not a SIP expert, but I came across some funky behavior and decided I should look into it.&nbsp; I apologize in advance if this has been addressed or if its not a problem.
<br><br>I am currently working on presence event stuff for the SIP client I am working on.&nbsp; I recently noticed my Linux machine, which houses a proxy, was constantly writing/reading from the hard drive at short regular intervals.&nbsp; I did an ethereal trace and my client was sending SUBSCRIBEs at an ungodly rate, causing the proxy to constantly write new subscription information to the database.&nbsp; I also noticed that my initial Expires header value was different from the SUBSCRIBEs being sent (it defaults to 180, but the Expires value i was seeing was now at 10).&nbsp;&nbsp; I then noticed that the new Expires value matched that of an expires parameter within the Subscription-State header of a NOTIFY.
<br><br>After looking into it, this is desired behavior according to RFC3265.&nbsp; It says:<br><br><pre>If the value of the &quot;Subscription-State&quot; header is &quot;active&quot; or<br>&quot;pending&quot;, the notifier SHOULD also include in the &quot;Subscription-
<br>State&quot; header an &quot;expires&quot; parameter which indicates the time<br>remaining on the subscription.<br>...<br>If the &quot;Subscription-State&quot; header value is &quot;active&quot;, it means that<br>the subscription has been accepted and (in general) has been
<br>authorized.  If the header also contains an &quot;expires&quot; parameter, the<br>subscriber SHOULD take it as the authoritative subscription duration<br>and adjust accordingly.<br></pre><br>So if there is 5 seconds left on a subscription, and a client receives a NOTIFY, the client changes the Expires of any subsequent SUBSCRIBEs for that event to 5 seconds, and requires a refresh at less than 5 second intervals.&nbsp; The longer the client runs, the smaller this value will become.
<br><br>This sounds like a problem to me, as a compliant client can start to flood a compliant proxy.&nbsp; Again I apologize if this has already been taken care of, or if I am just reading this wrong, but the behavior within my compliant proxy/compliant SIP API backs it up.
<br><br>Thanks for your time.<br>-Nick<br>

------=_Part_21262_11005467.1189023552134--




--===============0413408429==
Content-Type: text/plain; charset="us-ascii"
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip
--===============0413408429==--






From sip-bounces@ietf.org Thu Sep 06 04:54:22 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1ITD6M-0000Cr-VO; Thu, 06 Sep 2007 04:52:38 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1ITD6L-0000Cl-Dl
	for sip-confirm+ok@megatron.ietf.org; Thu, 06 Sep 2007 04:52:37 -0400
Received: from [10.91.34.44] (helo=ietf-mx.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1ITD6K-0000Cd-SR
	for sip@ietf.org; Thu, 06 Sep 2007 04:52:36 -0400
Received: from wa-out-1112.google.com ([209.85.146.179])
	by ietf-mx.ietf.org with esmtp (Exim 4.43) id 1ITD6J-0008MB-J9
	for sip@ietf.org; Thu, 06 Sep 2007 04:52:36 -0400
Received: by wa-out-1112.google.com with SMTP id k40so174790wah
	for <sip@ietf.org>; Thu, 06 Sep 2007 01:52:35 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=beta;
	h=domainkey-signature:received:received:message-id:date:from:to:subject:cc:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
	bh=8pj8oVBwfj9uEyb7TSQqe3LyZsaAzCr9nFHfhAXUbd0=;
	b=pVEefySX0f8iJAHFCrWBdCdHQXqp+clsO9oyIy2TCpkCS+tMuEMlVUYIjE8RUiJ25sc9KYoMtTzFDwDFEPlSrmIYn8W1PLwQtX9kBuPXcH95EqjdrTy5WvbUZ9kziUTPaX96bGUi/PkoRXD2blb5Y8piYEX/PP5hPL+QMHIjkc8=
DomainKey-Signature: a=rsa-sha1; c=nofws; d=gmail.com; s=beta;
	h=received:message-id:date:from:to:subject:cc:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
	b=Xjv1FOOd9wpk5i5UQdHGghHgoIxHogQIZ9KY+7oFbknKkKs3OLaWb9WgL6MS5PxyC7B2DU4WutrUcKFhWbX3yR62PjJMx7zXYdsz3XFaOzZWoIfT6AH5FFk2Sq51THYeUbY6NwR21jG9GATjUUVKCXUQD6uG9PqHPIekQERT2w0=
Received: by 10.114.135.1 with SMTP id i1mr268675wad.1189068754833;
	Thu, 06 Sep 2007 01:52:34 -0700 (PDT)
Received: by 10.114.185.6 with HTTP; Thu, 6 Sep 2007 01:52:34 -0700 (PDT)
Message-ID: <ac8baa2c0709060152j1b48a658nea95f6f4f7b7d73b@mail.gmail.com>
Date: Thu, 6 Sep 2007 14:22:34 +0530
From: "Vikram Chhibber" <vikram.chhibber@gmail.com>
To: "Nicholas Mattiello" <nicholas.mattiello@gmail.com>
Subject: Re: [Sip] Possible problem (?) regarding SUBSCRIBE
In-Reply-To: <26c6d6b10709051319p54a294cfy577acf3274704a92@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
References: <26c6d6b10709051319p54a294cfy577acf3274704a92@mail.gmail.com>
X-Spam-Score: 0.0 (/)
X-Scan-Signature: 25620135586de10c627e3628c432b04a
Cc: sip@ietf.org
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

To teach your client a lesson, you need to configure your notifier
application to reject SUBSCRIBE if expires is lower that its
configured acceptable value. You need to investigate on how to
configure this in your notifier.

3.1.6.1. Initial SUBSCRIBE Transaction Processing
   The notifier MAY also check that the duration in the "Expires" header
   is not too small.  If and only if the expiration interval is greater
   than zero AND smaller than one hour AND less than a notifier-
   configured minimum, the notifier MAY return a "423 Interval too
   small" error which contains a "Min-Expires" header field.  The "Min-
   Expires" header field is described in SIP [1].

Hope this will help you.
Also, use sip-implementors@cs.columbia.edu for questions on current sip

~Vikram
On 9/6/07, Nicholas Mattiello <nicholas.mattiello@gmail.com> wrote:
> Hello,
>
> Let me begin by saying I am relatively new to SIP.  I graduated 2 years ago
> and since worked for a VoIP provider.  I am not a SIP expert, but I came
> across some funky behavior and decided I should look into it.  I apologize
> in advance if this has been addressed or if its not a problem.
>
> I am currently working on presence event stuff for the SIP client I am
> working on.  I recently noticed my Linux machine, which houses a proxy, was
> constantly writing/reading from the hard drive at short regular intervals.
> I did an ethereal trace and my client was sending SUBSCRIBEs at an ungodly
> rate, causing the proxy to constantly write new subscription information to
> the database.  I also noticed that my initial Expires header value was
> different from the SUBSCRIBEs being sent (it defaults to 180, but the
> Expires value i was seeing was now at 10).   I then noticed that the new
> Expires value matched that of an expires parameter within the
> Subscription-State header of a NOTIFY.
>
> After looking into it, this is desired behavior according to RFC3265.  It
> says:
>
> If the value of the "Subscription-State" header is "active" or
> "pending", the notifier SHOULD also include in the "Subscription-
>
> State" header an "expires" parameter which indicates the time
> remaining on the subscription.
> ...
> If the "Subscription-State" header value is "active", it means that
> the subscription has been accepted and (in general) has been
>
> authorized. If the header also contains an "expires" parameter, the
> subscriber SHOULD take it as the authoritative subscription duration
> and adjust accordingly.
>
>
> So if there is 5 seconds left on a subscription, and a client receives a
> NOTIFY, the client changes the Expires of any subsequent SUBSCRIBEs for that
> event to 5 seconds, and requires a refresh at less than 5 second intervals.
> The longer the client runs, the smaller this value will become.
>
> This sounds like a problem to me, as a compliant client can start to flood a
> compliant proxy.  Again I apologize if this has already been taken care of,
> or if I am just reading this wrong, but the behavior within my compliant
> proxy/compliant SIP API backs it up.
>
> Thanks for your time.
> -Nick
>
> _______________________________________________
> Sip mailing list
> https://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on
> current sip
> Use sipping@ietf.org for new developments on the application of sip
>


_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Thu Sep 06 04:57:42 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1ITD9Y-0000rp-Cz; Thu, 06 Sep 2007 04:55:56 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1ITD9X-0000re-61
	for sip-confirm+ok@megatron.ietf.org; Thu, 06 Sep 2007 04:55:55 -0400
Received: from [10.90.34.44] (helo=chiedprmail1.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1ITD9W-0000rW-Qt
	for sip@ietf.org; Thu, 06 Sep 2007 04:55:54 -0400
Received: from cluster-b.mailcontrol.com ([217.68.146.190])
	by chiedprmail1.ietf.org with esmtp (Exim 4.43) id 1ITD9W-0002ul-8s
	for sip@ietf.org; Thu, 06 Sep 2007 04:55:54 -0400
Received: from rly21b.srv.mailcontrol.com (localhost.localdomain [127.0.0.1])
	by rly21b.srv.mailcontrol.com (MailControl) with ESMTP id
	l868tPZZ008434
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO)
	for <sip@ietf.org>; Thu, 6 Sep 2007 09:55:34 +0100
Received: from submission.mailcontrol.com (submission.mailcontrol.com
	[86.111.216.190])
	by rly21b.srv.mailcontrol.com (MailControl) id l868t8Sn007127
	for sip@ietf.org; Thu, 6 Sep 2007 09:55:08 +0100
Received: from GBNEWP0758M.eu.ubiquity.net ([62.172.205.164])
	by rly21b-eth0.srv.mailcontrol.com (envelope-sender
	cboulton@ubiquity.net) (MIMEDefang) with ESMTP id
	l868sraA006208; Thu, 06 Sep 2007 09:55:07 +0100 (BST)
X-MimeOLE: Produced By Microsoft Exchange V6.0.6603.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Subject: RE: [Sip] INFO
Date: Thu, 6 Sep 2007 09:54:52 +0100
Message-ID: <D8A411E49D63A648BFA87E44904FEDCF033C91@gbnewp0758m.eu.ubiquity.net>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] INFO
Thread-Index: AcfopsS6ijL/eVSeR7OkrFxhvjEZ1wCqsuc+ABF4AvAA4JbFswAlLCkAAAPXpb8AAFTEcAAB2uzrAABnB8AAJi02QA==
References: <431F3BDE11BF2F42A22CBEFA36BD88A401774AF7@mailserver.vocaltec.local><C304070A.A91A%eburger@bea.com>
	<431F3BDE11BF2F42A22CBEFA36BD88A401774B46@mailserver.vocaltec.local>
From: "Chris Boulton" <cboulton@ubiquity.net>
To: "Bram Verburg" <bram@vocaltec.com>, "Eric Burger" <eburger@bea.com>
X-Scanned-By: MailControl A-07-08-10 (www.mailcontrol.com) on 10.66.1.131
Content-Transfer-Encoding: quoted-printable
X-Spam-Score: 0.0 (/)
X-Scan-Signature: 39bd8f8cbb76cae18b7e23f7cf6b2b9f
Cc: sip <sip@ietf.org>
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

The fact that SIP-T says that SIP headers take precedence over the
ISUP/Q.931 means you can't send the INVITE and the IAM over separate
channels (for example a TCP or Sigtran tunnel for ISUP) without opening
a big can of worms. How do you synchronize those messages at the
receiving end; you'd need both the INVITE and the tunneled IAM before
you can send something out on the PSTN side.

[Chris Boulton] I am struggling to see what the difference is between
passing SIP-T using a potentially un-reliable INFO and using a reliable
channel.  You synchronize the messages in the same way you synchronize
receiving the INFO.=20

 How do you even make sure
those two channels reach the same destination after passing through
proxies, NATs, SBCs, load balancers, etc.?

[Chris Boulton] These are all issues that are (and will be) considered
in the MediaCtrl work in drafts like
http://tools.ietf.org/html/draft-boulton-sip-control-framework-05 (*note
- new WG version to be submitted this week).  It is already understood
that the solution MUST work in these cases.

Chris.





Information contained in this e-mail and any attachments are intended for t=
he use of the addressee only, and may contain confidential information of U=
biquity Software Corporation. All unauthorized use, disclosure or distribut=
ion is strictly prohibited.  If you are not the addressee, please notify th=
e sender immediately and destroy all copies of this email. Ubiquity Softwar=
e Corporation plc, a company registered under the laws of England and Wales=
, Registration 2719723, registered offices at Eastern Business Park, Buildi=
ng 3, Wern Fawr Lane, St. Mellons, Cardiff CF3 5EA, Wales, United Kingdom.



_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Thu Sep 06 05:01:21 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1ITDD6-0004KX-CA; Thu, 06 Sep 2007 04:59:36 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1ITDD5-0004Gz-Lv
	for sip-confirm+ok@megatron.ietf.org; Thu, 06 Sep 2007 04:59:35 -0400
Received: from [10.90.34.44] (helo=chiedprmail1.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1ITDD5-0004E0-8k
	for sip@ietf.org; Thu, 06 Sep 2007 04:59:35 -0400
Received: from cluster-b.mailcontrol.com ([217.68.146.190])
	by chiedprmail1.ietf.org with esmtp (Exim 4.43) id 1ITDD4-0002yn-Ni
	for sip@ietf.org; Thu, 06 Sep 2007 04:59:35 -0400
Received: from rly12b.srv.mailcontrol.com (localhost.localdomain [127.0.0.1])
	by rly12b.srv.mailcontrol.com (MailControl) with ESMTP id
	l868xTAh004180
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO)
	for <sip@ietf.org>; Thu, 6 Sep 2007 09:59:29 +0100
Received: from submission.mailcontrol.com (submission.mailcontrol.com
	[86.111.216.190])
	by rly12b.srv.mailcontrol.com (MailControl) id l868woCf000959
	for sip@ietf.org; Thu, 6 Sep 2007 09:58:50 +0100
Received: from GBNEWP0758M.eu.ubiquity.net ([62.172.205.164])
	by rly12b-eth0.srv.mailcontrol.com (envelope-sender
	cboulton@ubiquity.net) (MIMEDefang) with ESMTP id
	l868wm1v000759; Thu, 06 Sep 2007 09:58:50 +0100 (BST)
X-MimeOLE: Produced By Microsoft Exchange V6.0.6603.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Subject: RE: [Sip] INFO - more on SIP-T
Date: Thu, 6 Sep 2007 09:58:48 +0100
Message-ID: <D8A411E49D63A648BFA87E44904FEDCF033C92@gbnewp0758m.eu.ubiquity.net>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] INFO - more on SIP-T
Thread-Index: Acfv1SDTxQqOkwU2SzGE/LyI0fFQngAjrcZQ
References: <431F3BDE11BF2F42A22CBEFA36BD88A401774AF7@mailserver.vocaltec.local><C304070A.A91A%eburger@bea.com><24CCCC428EFEA2469BF046DB3C7A8D223AE071@namail5.corp.adobe.com>
	<317ceda50709050852q66f53abbl1e550c13a21990bf@mail.gmail.com>
From: "Chris Boulton" <cboulton@ubiquity.net>
To: "Peili Xu" <xupeili@gmail.com>, "Henry Sinnreich" <hsinnrei@adobe.com>
X-Scanned-By: MailControl A-07-08-10 (www.mailcontrol.com) on 10.66.1.122
Content-Transfer-Encoding: quoted-printable
X-Spam-Score: 0.0 (/)
X-Scan-Signature: 93238566e09e6e262849b4f805833007
Cc: sip <sip@ietf.org>
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

I don't think the control channel concept for SIP is proper to replace
SIP-T, because we need SIP to do SDP exchange and most of the ISUP
information is semantically related to SIP dialog setup messages.

[Chris Boulton] Sorry - this doesn't fly for me.  The Control channel
being developed in MediaCtrl has a strong requirement to explicitly
'relate' its primitives and commands to a SIP dialog (as it needs to
work for IVR commands to a SIP dialog).

Chris.





Information contained in this e-mail and any attachments are intended for t=
he use of the addressee only, and may contain confidential information of U=
biquity Software Corporation. All unauthorized use, disclosure or distribut=
ion is strictly prohibited.  If you are not the addressee, please notify th=
e sender immediately and destroy all copies of this email. Ubiquity Softwar=
e Corporation plc, a company registered under the laws of England and Wales=
, Registration 2719723, registered offices at Eastern Business Park, Buildi=
ng 3, Wern Fawr Lane, St. Mellons, Cardiff CF3 5EA, Wales, United Kingdom.



_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Thu Sep 06 05:53:38 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1ITE1V-00047S-UN; Thu, 06 Sep 2007 05:51:41 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1ITE1U-00047A-0W
	for sip-confirm+ok@megatron.ietf.org; Thu, 06 Sep 2007 05:51:40 -0400
Received: from [10.91.34.44] (helo=ietf-mx.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1ITE1T-000470-Hh
	for sip@ietf.org; Thu, 06 Sep 2007 05:51:39 -0400
Received: from sea02-mxf01.citel.com ([205.234.66.116])
	by ietf-mx.ietf.org with esmtp (Exim 4.43) id 1ITE1S-0001BZ-94
	for sip@ietf.org; Thu, 06 Sep 2007 05:51:39 -0400
Received: from [10.8.50.21] (helo=sea02-mxc01.citel.com)
	by sea02-mxf01.citel.com with smtp (Exim 4.43)
	id 1ITE2W-0005NN-HA; Thu, 06 Sep 2007 02:52:44 -0700
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: RE: [Sip] Possible problem (?) regarding SUBSCRIBE
Date: Thu, 6 Sep 2007 02:51:36 -0700
Message-ID: <0D4E483A0E6E0A46861409E5D6C2011CA13E7B@sea02-mxc01.citel.com>
In-Reply-To: <26c6d6b10709051319p54a294cfy577acf3274704a92@mail.gmail.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] Possible problem (?) regarding SUBSCRIBE
Thread-Index: AcfwYOokl3EMMcb5QWedsoxR3X3gYwABhMQg
References: <26c6d6b10709051319p54a294cfy577acf3274704a92@mail.gmail.com>
From: "Michael Procter" <michael.procter@citel.com>
To: "Nicholas Mattiello" <nicholas.mattiello@gmail.com>,
	<sip@ietf.org>
X-Spam-Score: 0.0 (/)
X-Scan-Signature: 0ddefe323dd869ab027dbfff7eff0465
Cc: 
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

Hi Nicholas,

[RFC3265 extracts]
> If the value of the "Subscription-State" header is "active" or
> "pending", the notifier SHOULD also include in the "Subscription-
> State" header an "expires" parameter which indicates the time
> remaining on the subscription.
> ...
> If the "Subscription-State" header value is "active", it means that
> the subscription has been accepted and (in general) has been
> authorized.  If the header also contains an "expires" parameter, the
> subscriber SHOULD take it as the authoritative subscription duration
> and adjust accordingly.

> So if there is 5 seconds left on a subscription, and a client receives =

> a NOTIFY, the client changes the Expires of any subsequent SUBSCRIBEs=20
> for that event to 5 seconds, and requires a refresh at less than 5
> second intervals.=A0 The longer the client runs, the smaller this =
value
> will become.=20

I think you have misunderstood RFC3265 in this matter.  If the client =
receives a NOTIFY with "Expires: 5", it should infer that the current =
subscription will expire in 5 seconds.  If it wishes to extend the =
subscription, it will need to send a reSUBSCRIBE.  It does not need to =
resubscribe with an expiry of 5 seconds!  Instead, it may choose a =
different one (whatever worked the first time would be a good choice).

So, a typical flow could look something like this:

SUBSCRIBE (Expires:180) --->    # Initial subscribe requesting 180 secs
<--- 200
<--- NOTIFY (Expires: 180)	  # Note need to resubscribe in 180 secs
200 --->

(time passes (137 secs), something happens)
<--- NOTIFY (Expires: 43)	  # Note need to resubscribe in 43 secs
200 --->

(another 23 seconds pass, client decides to extend subscription, as only
20 seconds remain)
SUBSCRIBE (Expires: 180) --->
<--- 200
<--- NOTIFY (Expires: 180)	  # Subscription extended for 3 mins
200 --->

I hope this clarifies things,

Michael


_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Thu Sep 06 07:38:36 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1ITFew-0003gG-6r; Thu, 06 Sep 2007 07:36:30 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1ITFev-0003g6-8F
	for sip-confirm+ok@megatron.ietf.org; Thu, 06 Sep 2007 07:36:29 -0400
Received: from [10.91.34.44] (helo=ietf-mx.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1ITFeu-0003fy-U2
	for sip@ietf.org; Thu, 06 Sep 2007 07:36:28 -0400
Received: from szxga01-in.huawei.com ([61.144.161.53])
	by ietf-mx.ietf.org with esmtp (Exim 4.43) id 1ITFes-0003ky-O2
	for sip@ietf.org; Thu, 06 Sep 2007 07:36:28 -0400
Received: from huawei.com (szxga01-in [172.24.2.3])
	by szxga01-in.huawei.com (iPlanet Messaging Server 5.2 HotFix 2.14
	(built Aug
	8 2006)) with ESMTP id <0JNY00LEZ2VIJ0@szxga01-in.huawei.com> for
	sip@ietf.org; Thu, 06 Sep 2007 19:35:42 +0800 (CST)
Received: from huawei.com ([172.24.1.24])
	by szxga01-in.huawei.com (iPlanet Messaging Server 5.2 HotFix 2.14
	(built Aug
	8 2006)) with ESMTP id <0JNY002E92VI73@szxga01-in.huawei.com> for
	sip@ietf.org; Thu, 06 Sep 2007 19:35:42 +0800 (CST)
Received: from x18916 ([10.85.28.238])
	by szxml04-in.huawei.com (iPlanet Messaging Server 5.2 HotFix 2.14
	(built Aug
	8 2006)) with ESMTPA id <0JNY00ABB2VF91@szxml04-in.huawei.com> for
	sip@ietf.org; Thu, 06 Sep 2007 19:35:41 +0800 (CST)
Date: Thu, 06 Sep 2007 19:35:35 +0800
From: Peili Xu <xupeili@huawei.com>
Subject: RE: [Sip] INFO - more on SIP-T
In-reply-to: <D8A411E49D63A648BFA87E44904FEDCF033C92@gbnewp0758m.eu.ubiquity.net>
To: 'Chris Boulton' <cboulton@ubiquity.net>,
	'Henry Sinnreich' <hsinnrei@adobe.com>
Message-id: <007b01c7f07a$0a588c00$ee1c550a@china.huawei.com>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2800.1409
X-Mailer: Microsoft Office Outlook 11
Content-type: text/plain; charset=us-ascii
Content-transfer-encoding: 7BIT
Thread-index: Acfv1SDTxQqOkwU2SzGE/LyI0fFQngAjrcZQAAV5O7A=
X-Spam-Score: 0.0 (/)
X-Scan-Signature: f607d15ccc2bc4eaf3ade8ffa8af02a0
Cc: 'sip' <sip@ietf.org>
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org


SIP-T talks about mapping between different session
setup protocols. It's very different from requirements
in MediaCtrl.

Please don't mix them together just because INFO is
used.  8-)

Peili

-----Original Message-----
From: Chris Boulton [mailto:cboulton@ubiquity.net] 
Sent: Thursday, September 06, 2007 4:59 PM
To: Peili Xu; Henry Sinnreich
Cc: sip
Subject: RE: [Sip] INFO - more on SIP-T

I don't think the control channel concept for SIP is
proper to replace SIP-T, because we need SIP to do SDP
exchange and most of the ISUP information is
semantically related to SIP dialog setup messages.

[Chris Boulton] Sorry - this doesn't fly for me.  The
Control channel being developed in MediaCtrl has a
strong requirement to explicitly 'relate' its primitives
and commands to a SIP dialog (as it needs to work for
IVR commands to a SIP dialog).



Chris.





Information contained in this e-mail and any attachments
are intended for the use of the addressee only, and may
contain confidential information of Ubiquity Software
Corporation. All unauthorized use, disclosure or
distribution is strictly prohibited.  If you are not the
addressee, please notify the sender immediately and
destroy all copies of this email. Ubiquity Software
Corporation plc, a company registered under the laws of
England and Wales, Registration 2719723, registered
offices at Eastern Business Park, Building 3, Wern Fawr
Lane, St. Mellons, Cardiff CF3 5EA, Wales, United
Kingdom.



_______________________________________________
Sip mailing list
https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP
Protocol Use sip-implementors@cs.columbia.edu for
questions on current sip Use sipping@ietf.org for new
developments on the application of sip




_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Thu Sep 06 07:42:41 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1ITFjE-00068c-Hs; Thu, 06 Sep 2007 07:40:56 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1ITFjC-00068Q-P8
	for sip-confirm+ok@megatron.ietf.org; Thu, 06 Sep 2007 07:40:54 -0400
Received: from [10.91.34.44] (helo=ietf-mx.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1ITFjC-00068I-Ff
	for sip@ietf.org; Thu, 06 Sep 2007 07:40:54 -0400
Received: from szxga01-in.huawei.com ([61.144.161.53])
	by ietf-mx.ietf.org with esmtp (Exim 4.43) id 1ITFj9-0003rv-EB
	for sip@ietf.org; Thu, 06 Sep 2007 07:40:54 -0400
Received: from huawei.com (szxga01-in [172.24.2.3])
	by szxga01-in.huawei.com (iPlanet Messaging Server 5.2 HotFix 2.14
	(built Aug
	8 2006)) with ESMTP id <0JNY00LMB32VJ0@szxga01-in.huawei.com> for
	sip@ietf.org; Thu, 06 Sep 2007 19:40:08 +0800 (CST)
Received: from huawei.com ([172.24.1.18])
	by szxga01-in.huawei.com (iPlanet Messaging Server 5.2 HotFix 2.14
	(built Aug
	8 2006)) with ESMTP id <0JNY00G8832V53@szxga01-in.huawei.com> for
	sip@ietf.org; Thu, 06 Sep 2007 19:40:07 +0800 (CST)
Received: from x18916 ([10.85.28.238])
	by szxml03-in.huawei.com (iPlanet Messaging Server 5.2 HotFix 2.14
	(built Aug
	8 2006)) with ESMTPA id <0JNY0098Y32SQK@szxml03-in.huawei.com> for
	sip@ietf.org; Thu, 06 Sep 2007 19:40:07 +0800 (CST)
Date: Thu, 06 Sep 2007 19:40:00 +0800
From: Peili Xu <xupeili@huawei.com>
Subject: RE: [Sip] INFO
In-reply-to: <D8A411E49D63A648BFA87E44904FEDCF033C91@gbnewp0758m.eu.ubiquity.net>
To: 'Chris Boulton' <cboulton@ubiquity.net>,
	'Bram Verburg' <bram@vocaltec.com>, 'Eric Burger' <eburger@bea.com>
Message-id: <007c01c7f07a$a868df30$ee1c550a@china.huawei.com>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2800.1409
X-Mailer: Microsoft Office Outlook 11
Content-type: text/plain; charset=us-ascii
Content-transfer-encoding: 7BIT
Thread-index: AcfopsS6ijL/eVSeR7OkrFxhvjEZ1wCqsuc+ABF4AvAA4JbFswAlLCkAAAPXpb8AAFTEcAAB2uzrAABnB8AAJi02QAAGSUxQ
X-Spam-Score: 0.0 (/)
X-Scan-Signature: 0fa76816851382eb71b0a882ccdc29ac
Cc: 'sip' <sip@ietf.org>
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

 

-----Original Message-----
From: Chris Boulton [mailto:cboulton@ubiquity.net] 
Sent: Thursday, September 06, 2007 4:55 PM
To: Bram Verburg; Eric Burger
Cc: sip
Subject: RE: [Sip] INFO

The fact that SIP-T says that SIP headers take
precedence over the
ISUP/Q.931 means you can't send the INVITE and the IAM
over separate channels (for example a TCP or Sigtran
tunnel for ISUP) without opening a big can of worms. How
do you synchronize those messages at the receiving end;
you'd need both the INVITE and the tunneled IAM before
you can send something out on the PSTN side.

[Chris Boulton] I am struggling to see what the
difference is between passing SIP-T using a potentially
un-reliable INFO and using a reliable channel.  You
synchronize the messages in the same way you synchronize
receiving the INFO. 

// Peili: using INFO to rarelly transfer some
un-mappable mid-dialog messages is just a small part of
SIP-T.
// SIP-T talks about mapping between ISUP-SIP, and
possibly try to minimize information lost by tunneling
the message.

 How do you even make sure
those two channels reach the same destination after
passing through proxies, NATs, SBCs, load balancers,
etc.?

[Chris Boulton] These are all issues that are (and will
be) considered in the MediaCtrl work in drafts like
http://tools.ietf.org/html/draft-boulton-sip-control-fra
mework-05 (*note
- new WG version to be submitted this week).  It is
already understood that the solution MUST work in these
cases.

// Peili: This cover's different requirments from SIP-T,
I don't see any relationship.

Chris.





Information contained in this e-mail and any attachments
are intended for the use of the addressee only, and may
contain confidential information of Ubiquity Software
Corporation. All unauthorized use, disclosure or
distribution is strictly prohibited.  If you are not the
addressee, please notify the sender immediately and
destroy all copies of this email. Ubiquity Software
Corporation plc, a company registered under the laws of
England and Wales, Registration 2719723, registered
offices at Eastern Business Park, Building 3, Wern Fawr
Lane, St. Mellons, Cardiff CF3 5EA, Wales, United
Kingdom.



_______________________________________________
Sip mailing list
https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP
Protocol Use sip-implementors@cs.columbia.edu for
questions on current sip Use sipping@ietf.org for new
developments on the application of sip




_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Thu Sep 06 07:55:57 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1ITFw1-0001Q4-JQ; Thu, 06 Sep 2007 07:54:09 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1ITFw0-0001Mo-An
	for sip-confirm+ok@megatron.ietf.org; Thu, 06 Sep 2007 07:54:08 -0400
Received: from [10.90.34.44] (helo=chiedprmail1.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1ITFw0-0001Mg-04
	for sip@ietf.org; Thu, 06 Sep 2007 07:54:08 -0400
Received: from mailgw3.ericsson.se ([193.180.251.60])
	by chiedprmail1.ietf.org with esmtp (Exim 4.43) id 1ITFvz-0007KC-8b
	for sip@ietf.org; Thu, 06 Sep 2007 07:54:07 -0400
Received: from mailgw3.ericsson.se (unknown [127.0.0.1])
	by mailgw3.ericsson.se (Symantec Mail Security) with ESMTP id
	9E740207D6; Thu,  6 Sep 2007 13:54:06 +0200 (CEST)
X-AuditID: c1b4fb3c-af67dbb0000007e1-d3-46dfea5e49b9
Received: from esealmw126.eemea.ericsson.se (unknown [153.88.254.123])
	by mailgw3.ericsson.se (Symantec Mail Security) with ESMTP id
	7AD3320907; Thu,  6 Sep 2007 13:54:06 +0200 (CEST)
Received: from esealmw113.eemea.ericsson.se ([153.88.200.4]) by
	esealmw126.eemea.ericsson.se with Microsoft SMTPSVC(6.0.3790.1830); 
	Thu, 6 Sep 2007 13:54:06 +0200
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: [Sip] INFO
Date: Thu, 6 Sep 2007 13:54:05 +0200
Message-ID: <CA9998CD4A020D418654FCDEF4E707DF01501FD6@esealmw113.eemea.ericsson.se>
In-Reply-To: <D8A411E49D63A648BFA87E44904FEDCF033C91@gbnewp0758m.eu.ubiquity.net>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] INFO
Thread-Index: AcfopsS6ijL/eVSeR7OkrFxhvjEZ1wCqsuc+ABF4AvAA4JbFswAlLCkAAAPXpb8AAFTEcAAB2uzrAABnB8AAJi02QAAGYN8g
References: <431F3BDE11BF2F42A22CBEFA36BD88A401774AF7@mailserver.vocaltec.local><C304070A.A91A%eburger@bea.com><431F3BDE11BF2F42A22CBEFA36BD88A401774B46@mailserver.vocaltec.local>
	<D8A411E49D63A648BFA87E44904FEDCF033C91@gbnewp0758m.eu.ubiquity.net>
From: "Christer Holmberg (JO/LMF)" <christer.holmberg@ericsson.com>
To: "Chris Boulton" <cboulton@ubiquity.net>,
	"Bram Verburg" <bram@vocaltec.com>, "Eric Burger" <eburger@bea.com>
X-OriginalArrivalTime: 06 Sep 2007 11:54:06.0308 (UTC)
	FILETIME=[A085C240:01C7F07C]
X-Brightmail-Tracker: AAAAAA==
X-Spam-Score: 0.0 (/)
X-Scan-Signature: b280b4db656c3ca28dd62e5e0b03daa8
Cc: sip <sip@ietf.org>
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org


Hi,

In ETSI TISPAN, there is work on something called IMS based PSTN/ISDN
emulation. In that network, the ISUP information can actually be
originated/terminated inside the network (i.e. it's not simply tunneled
through the IP network between the MGCs, or something like that),
normally by an application server understanding the ISUP information.
There are also rules about proxies removing ISUP information before
forwarding messages to UAs and/or other networks.

My point is that the entities using the ISUP information may not have
"media access", so in case a separate channel is used they would have to
make sure that tunnel is relayed through those entities (in some cases
they would have to terminate the channel, if the ISUP content is not
meant to be forwarded), meaning they would have to modify SDPs etc.

Regards,

Christer




=20

> -----Original Message-----
> From: Chris Boulton [mailto:cboulton@ubiquity.net]=20
> Sent: 6. syyskuuta 2007 11:55
> To: Bram Verburg; Eric Burger
> Cc: sip
> Subject: RE: [Sip] INFO
>=20
> The fact that SIP-T says that SIP headers take precedence over the
> ISUP/Q.931 means you can't send the INVITE and the IAM over=20
> separate channels (for example a TCP or Sigtran tunnel for=20
> ISUP) without opening a big can of worms. How do you=20
> synchronize those messages at the receiving end; you'd need=20
> both the INVITE and the tunneled IAM before you can send=20
> something out on the PSTN side.
>=20
> [Chris Boulton] I am struggling to see what the difference is=20
> between passing SIP-T using a potentially un-reliable INFO=20
> and using a reliable channel.  You synchronize the messages=20
> in the same way you synchronize receiving the INFO.=20
>=20
>  How do you even make sure
> those two channels reach the same destination after passing=20
> through proxies, NATs, SBCs, load balancers, etc.?
>=20
> [Chris Boulton] These are all issues that are (and will be)=20
> considered in the MediaCtrl work in drafts like
> http://tools.ietf.org/html/draft-boulton-sip-control-framework
> -05 (*note
> - new WG version to be submitted this week).  It is already=20
> understood that the solution MUST work in these cases.
>=20
> Chris.
>=20
>=20
>=20
>=20
>=20
> Information contained in this e-mail and any attachments are=20
> intended for the use of the addressee only, and may contain=20
> confidential information of Ubiquity Software Corporation.=20
> All unauthorized use, disclosure or distribution is strictly=20
> prohibited.  If you are not the addressee, please notify the=20
> sender immediately and destroy all copies of this email.=20
> Ubiquity Software Corporation plc, a company registered under=20
> the laws of England and Wales, Registration 2719723,=20
> registered offices at Eastern Business Park, Building 3, Wern=20
> Fawr Lane, St. Mellons, Cardiff CF3 5EA, Wales, United Kingdom.
>=20
>=20
>=20
> _______________________________________________
> Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol Use=20
> sip-implementors@cs.columbia.edu for questions on current sip=20
> Use sipping@ietf.org for new developments on the application of sip
>=20


_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Thu Sep 06 08:03:58 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1ITG3p-0001FG-A2; Thu, 06 Sep 2007 08:02:13 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1ITG3m-0001Ek-SP
	for sip-confirm+ok@megatron.ietf.org; Thu, 06 Sep 2007 08:02:10 -0400
Received: from [10.90.34.44] (helo=chiedprmail1.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1ITG3m-0001EZ-HB
	for sip@ietf.org; Thu, 06 Sep 2007 08:02:10 -0400
Received: from cluster-b.mailcontrol.com ([217.68.146.190])
	by chiedprmail1.ietf.org with esmtp (Exim 4.43) id 1ITG3m-0007yw-0n
	for sip@ietf.org; Thu, 06 Sep 2007 08:02:10 -0400
Received: from rly36b.srv.mailcontrol.com (localhost.localdomain [127.0.0.1])
	by rly36b.srv.mailcontrol.com (MailControl) with ESMTP id
	l86C1tdv032575
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO)
	for <sip@ietf.org>; Thu, 6 Sep 2007 13:02:02 +0100
Received: from submission.mailcontrol.com (submission.mailcontrol.com
	[86.111.216.190])
	by rly36b.srv.mailcontrol.com (MailControl) id l86C1qHA032461
	for sip@ietf.org; Thu, 6 Sep 2007 13:01:52 +0100
Received: from GBNEWP0758M.eu.ubiquity.net ([62.172.205.164])
	by rly36b-eth0.srv.mailcontrol.com (envelope-sender
	cboulton@ubiquity.net) (MIMEDefang) with ESMTP id
	l86C1kUQ032135; Thu, 06 Sep 2007 13:01:52 +0100 (BST)
X-MimeOLE: Produced By Microsoft Exchange V6.0.6603.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Subject: RE: [Sip] INFO - more on SIP-T
Date: Thu, 6 Sep 2007 13:01:45 +0100
Message-ID: <D8A411E49D63A648BFA87E44904FEDCF033CA9@gbnewp0758m.eu.ubiquity.net>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] INFO - more on SIP-T
Thread-Index: Acfv1SDTxQqOkwU2SzGE/LyI0fFQngAjrcZQAAV5O7AAANf98A==
References: <007b01c7f07a$0a588c00$ee1c550a@china.huawei.com>
From: "Chris Boulton" <cboulton@ubiquity.net>
To: "Peili Xu" <xupeili@huawei.com>, "Henry Sinnreich" <hsinnrei@adobe.com>
X-Scanned-By: MailControl A-07-08-10 (www.mailcontrol.com) on 10.66.1.146
Content-Transfer-Encoding: quoted-printable
X-Spam-Score: 0.0 (/)
X-Scan-Signature: e5ba305d0e64821bf3d8bc5d3bb07228
Cc: sip <sip@ietf.org>
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

SIP-T talks about mapping between different session
setup protocols.

[Chris Boulton] Yes - fully understood.

 It's very different from requirements
in MediaCtrl.

Please don't mix them together just because INFO is
used.  8-)

[Chris Boulton] I can assure that I am not mixing up the base
requirements of the Control Framework - which is actually MediaCtrl
agnostic.  The concept has been designed specifically with this in mind.
I am still waiting for concrete reasons why it is not a good match.

Chris.
=20




Information contained in this e-mail and any attachments are intended for t=
he use of the addressee only, and may contain confidential information of U=
biquity Software Corporation. All unauthorized use, disclosure or distribut=
ion is strictly prohibited.  If you are not the addressee, please notify th=
e sender immediately and destroy all copies of this email. Ubiquity Softwar=
e Corporation plc, a company registered under the laws of England and Wales=
, Registration 2719723, registered offices at Eastern Business Park, Buildi=
ng 3, Wern Fawr Lane, St. Mellons, Cardiff CF3 5EA, Wales, United Kingdom.



_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Thu Sep 06 08:15:42 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1ITGF9-00031W-UH; Thu, 06 Sep 2007 08:13:55 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1ITGF8-00030K-6w
	for sip-confirm+ok@megatron.ietf.org; Thu, 06 Sep 2007 08:13:54 -0400
Received: from [10.90.34.44] (helo=chiedprmail1.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1ITGF7-000303-Qp
	for sip@ietf.org; Thu, 06 Sep 2007 08:13:53 -0400
Received: from szxga04-in.huawei.com ([61.144.161.7])
	by chiedprmail1.ietf.org with esmtp (Exim 4.43) id 1ITGF7-0008Gc-0V
	for sip@ietf.org; Thu, 06 Sep 2007 08:13:53 -0400
Received: from huawei.com (szxga04-in [172.24.2.12])
	by szxga04-in.huawei.com (iPlanet Messaging Server 5.2 HotFix 2.14
	(built Aug
	8 2006)) with ESMTP id <0JNY007DI4LVTO@szxga04-in.huawei.com> for
	sip@ietf.org; Thu, 06 Sep 2007 20:13:07 +0800 (CST)
Received: from huawei.com ([172.24.1.18])
	by szxga04-in.huawei.com (iPlanet Messaging Server 5.2 HotFix 2.14
	(built Aug
	8 2006)) with ESMTP id <0JNY00HDU4LVY6@szxga04-in.huawei.com> for
	sip@ietf.org; Thu, 06 Sep 2007 20:13:07 +0800 (CST)
Received: from x18916 ([10.85.28.238])
	by szxml03-in.huawei.com (iPlanet Messaging Server 5.2 HotFix 2.14
	(built Aug
	8 2006)) with ESMTPA id <0JNY00EK14LS0M@szxml03-in.huawei.com> for
	sip@ietf.org; Thu, 06 Sep 2007 20:13:07 +0800 (CST)
Date: Thu, 06 Sep 2007 20:13:00 +0800
From: Peili Xu <xupeili@huawei.com>
Subject: RE: [Sip] INFO - more on SIP-T
In-reply-to: <D8A411E49D63A648BFA87E44904FEDCF033CA9@gbnewp0758m.eu.ubiquity.net>
To: 'Chris Boulton' <cboulton@ubiquity.net>,
	'Henry Sinnreich' <hsinnrei@adobe.com>
Message-id: <00a001c7f07f$448c80c0$ee1c550a@china.huawei.com>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2800.1409
X-Mailer: Microsoft Office Outlook 11
Content-type: text/plain; charset=us-ascii
Content-transfer-encoding: 7BIT
Thread-index: Acfv1SDTxQqOkwU2SzGE/LyI0fFQngAjrcZQAAV5O7AAANf98AAAU2qg
X-Spam-Score: 0.0 (/)
X-Scan-Signature: 5a9a1bd6c2d06a21d748b7d0070ddcb8
Cc: 'sip' <sip@ietf.org>
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

Hi,

Encapsulation could be optional for mapping between SIP
& ISUP network.
That means, you could send INVITE with IAM  but receive
200 without ANM.
In this case only SIP dialog is setup.  I can't imagine
how this will be supported by control framework.

Peili

-----Original Message-----
From: Chris Boulton [mailto:cboulton@ubiquity.net] 
Sent: Thursday, September 06, 2007 8:02 PM
To: Peili Xu; Henry Sinnreich
Cc: sip
Subject: RE: [Sip] INFO - more on SIP-T

SIP-T talks about mapping between different session
setup protocols.

[Chris Boulton] Yes - fully understood.

 It's very different from requirements
in MediaCtrl.

Please don't mix them together just because INFO is
used.  8-)

[Chris Boulton] I can assure that I am not mixing up the
base requirements of the Control Framework - which is
actually MediaCtrl agnostic.  The concept has been
designed specifically with this in mind.
I am still waiting for concrete reasons why it is not a
good match.

Chris.
 




Information contained in this e-mail and any attachments
are intended for the use of the addressee only, and may
contain confidential information of Ubiquity Software
Corporation. All unauthorized use, disclosure or
distribution is strictly prohibited.  If you are not the
addressee, please notify the sender immediately and
destroy all copies of this email. Ubiquity Software
Corporation plc, a company registered under the laws of
England and Wales, Registration 2719723, registered
offices at Eastern Business Park, Building 3, Wern Fawr
Lane, St. Mellons, Cardiff CF3 5EA, Wales, United
Kingdom.





_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Thu Sep 06 11:16:56 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1ITJ4K-0005lt-Ll; Thu, 06 Sep 2007 11:14:56 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1ITIq9-0005dX-2m
	for sip-confirm+ok@megatron.ietf.org; Thu, 06 Sep 2007 11:00:17 -0400
Received: from [10.90.34.44] (helo=chiedprmail1.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1ITIq8-0005aE-Mu
	for sip@ietf.org; Thu, 06 Sep 2007 11:00:16 -0400
Received: from outbound-nd.cantata.com ([204.176.74.8])
	by chiedprmail1.ietf.org with esmtp (Exim 4.43) id 1ITIq7-0005QN-NQ
	for sip@ietf.org; Thu, 06 Sep 2007 11:00:16 -0400
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: [Sip] INFO - more on SIP-T
Date: Thu, 6 Sep 2007 11:00:14 -0400
Message-ID: <CAF25E0F3A66D9439590FA6BA2FC5A1F9A8A49@MA02EXCH01.Cantata.com>
In-Reply-To: <24CCCC428EFEA2469BF046DB3C7A8D223AE071@namail5.corp.adobe.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] INFO - more on SIP-T
Thread-Index: AcfopsS6ijL/eVSeR7OkrFxhvjEZ1wCqsuc+ABF4AvAA4JbFswAlLCkAAAPXpb8AAFTEcAAB2uzrAAHmHCAAMf4tkA==
From: "Rafferty, James" <jrafferty@cantata.com>
To: "Henry Sinnreich" <hsinnrei@adobe.com>, "Eric Burger" <eburger@bea.com>,
	"Bram Verburg" <bram@vocaltec.com>
X-Spam-Score: 0.0 (/)
X-Scan-Signature: 97c820c82c68af374c4e382a80dc5017
X-Mailman-Approved-At: Thu, 06 Sep 2007 11:14:55 -0400
Cc: sip <sip@ietf.org>
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

Henry,=20

Our company can either map SS7 to SIP, or use SIP-T in our gateways.
The main reason to use SIP-T (or what the ITU-T/3GPP calls SIP-I) is to
more completely preserve the SS7 parameter information for SS7 bridging
applications.  If the desire is to cut over completely to SIP, then the
direct mapping approach works, but much of the SS7 semantics are lost.
We see more of the SS7 to SIP mapping than the use of SIP-T these days.


James

-----Original Message-----
From: Henry Sinnreich [mailto:hsinnrei@adobe.com]=20
Sent: Wednesday, September 05, 2007 11:35 AM
To: Eric Burger; Bram Verburg
Cc: sip
Subject: RE: [Sip] INFO - more on SIP-T


Actually, using the SIP-T protocol for tunneling SS7 is a designer
choice, though I would be interested to hear what other options there
are and what may be the best option. Are there reasons for SIP-T to be
the best option?

I still dislike to the use of "SIP" in the "SIP-T" name as mentioned
below.

Thanks, Henry=20

=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
Thanks Eric! :-)

The guidelines for the usage of SIP don't have as far as I remember any
recommendation for SIP to be used as a tunneling protocol. In this
respect, the use of SIP for a "tunneling convention" is non-truth in
advertising.

As for the most effective way of carrying SS7 over IP networks, I would
be interested to hear how VoIP providers are actually doing it. Can
anyone share such information?

Oh yes,...
> I do see a place for communications service providers
So do I. Aren't we all here in the IETF to communicate over the Internet
or in private IP networks?

>> The fact that the INFO method has a
>> problem doesn't mean that SIP-T is an inappropriate use of SIP.

Yes, it is inappropriate since people attempting to connect with a SIP
end device such as a SIP phone or PSTN gateway on the SIP side will
fail.

Henry

-----Original Message-----
From: Eric Burger [mailto:eburger@bea.com]
Sent: Wednesday, September 05, 2007 9:11 AM
To: Bram Verburg
Cc: sip
Subject: Re: [Sip] INFO

The use of INFO part.  Hey, I'm not totally Henry - I do see a place for
communications service providers and I recognize the importance of
interworking with the PSTN for the next 15 years.

SIP-T is not a session initiation protocol.  It is a set of conventions
for TUNNELING proprietary signaling events over SIP.  Key word there is
TUNNELING.  That is the clue that section 3.3 applies.


On 9/5/07 6:46 AM, "Bram Verburg" <bram@vocaltec.com> wrote:

> OK, SIP-T is not going away, but I'm still not sure whether you are=20
> trying to say that all of SIP-T is bad, or only its use of INFO? If
all
> of SIP-T is bad, then let's not fix it and wait till it does go away=20
> eventually. If the problem is specifically with INFO, then let's
define
> an event package that allows endpoints to request mid-call
'proprietary'
> signaling events, and then we can deprecate INFO altogether.
>=20
> My point was that SIP-T is not simply a tunnel that could be replaced
by
> any other transport layer, which is what section 3.3 seems to
describe.
> It is a 'session initiation protocol' that does exactly what SIP is=20
> designed to do: initiate sessions. The fact that the INFO method has a

> problem doesn't mean that SIP-T is an inappropriate use of SIP.
>=20
> Bram
>=20
>=20
>> -----Original Message-----
>> From: Eric Burger [mailto:eburger@bea.com]
>> Sent: 05 September 2007 16:09
>> To: Bram Verburg
>> Cc: sip
>> Subject: Re: [Sip] INFO
>>=20
>> SIP-T suffers *all* of the issues with INFO.
>>=20
>> Read section 3.3 for the 'right' way of doing SIP-T.
>>=20
>> That said, let's be real: I don't think anyone will abandon SIP-T at=20
>> this late date.  Although this really is a counter example, I would=20
>> liken this to the story in:
>> http://www.snopes.com/history/american/gauge.htm
>>=20
>>=20
>>=20
>>=20
>> On 9/5/07 4:56 AM, "Bram Verburg" <bram@vocaltec.com> wrote:
>>=20
>>>> That is the point of the draft.  All of the uses of INFO
>> today have
>>>> alternatives that do not have the same problems.
>>>>=20
>>>> In fact, I am really thinking the draft should point out
>> the use of
>>>> INFO for SIP-T is also incorrect.  SIP-T should use a control=20
>>>> channel, not the "SIP"
>>>> channel, for transporting proprietary signaling.  The only thing=20
>>>> SIP-T does is re-create TCP over SIP.  Not a very useful
>> use of SIP.
>>>=20
>>> I don't think that's a fair assessment of SIP-T, since you
>> seem to be
>>> ignoring the fact that SIP-T also (primarily) uses other
>> methods than
>>> INFO.
>>>=20
>>> The encapsulation of 'proprietary' signaling is done to convey=20
>>> information that cannot currently be conveyed in pure SIP.
>> But other
>>> than that, within the VoIP domain the regular SIP dialog
>> model is used
>>> to establish and tear down sessions. SIP headers take
>> precedence over
>>> the contents of the ISUP/Q.931 message, so the 'tunneled'
>> message is
>>> only used to fill in some blanks at the receiving end. For the most=20
>>> part proxies and even user agents can safely ignore the
>> message body
>>> and still participate in the SIP dialog.
>>>=20
>>> Some ISUP/Q.931 messages arrive at a stage in the session where SIP=20
>>> doesn't define any interaction between UAs, so currently
>> INFO is used
>>> as a tunnel. If you believe it should be replaced by something less=20
>>> ambiguous, that won't be abused outside the scope of SIP-T the same=20
>>> way INFO is today, I guess that's fair enough. But saying
>> that SIP-T
>>> should use TCP tunnels instead seems a bit harsh.
>>>=20
>>> Bram
>>>=20
>>=20
>>=20
>>=20
>> Notice:  This email message, together with any attachments, may=20
>> contain information  of  BEA Systems,  Inc.,  its subsidiaries  and =20
>> affiliated entities,  that may be confidential,  proprietary, =20
>> copyrighted  and/or legally privileged, and is intended solely for=20
>> the use of the individual or entity named in this message. If you are

>> not From sip-bounces@ietf.org Thu Sep 06 11:16:56 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1ITJ4K-0005lt-Ll; Thu, 06 Sep 2007 11:14:56 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1ITIq9-0005dX-2m
	for sip-confirm+ok@megatron.ietf.org; Thu, 06 Sep 2007 11:00:17 -0400
Received: from [10.90.34.44] (helo=chiedprmail1.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1ITIq8-0005aE-Mu
	for sip@ietf.org; Thu, 06 Sep 2007 11:00:16 -0400
Received: from outbound-nd.cantata.com ([204.176.74.8])
	by chiedprmail1.ietf.org with esmtp (Exim 4.43) id 1ITIq7-0005QN-NQ
	for sip@ietf.org; Thu, 06 Sep 2007 11:00:16 -0400
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: [Sip] INFO - more on SIP-T
Date: Thu, 6 Sep 2007 11:00:14 -0400
Message-ID: <CAF25E0F3A66D9439590FA6BA2FC5A1F9A8A49@MA02EXCH01.Cantata.com>
In-Reply-To: <24CCCC428EFEA2469BF046DB3C7A8D223AE071@namail5.corp.adobe.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] INFO - more on SIP-T
Thread-Index: AcfopsS6ijL/eVSeR7OkrFxhvjEZ1wCqsuc+ABF4AvAA4JbFswAlLCkAAAPXpb8AAFTEcAAB2uzrAAHmHCAAMf4tkA==
From: "Rafferty, James" <jrafferty@cantata.com>
To: "Henry Sinnreich" <hsinnrei@adobe.com>, "Eric Burger" <eburger@bea.com>,
	"Bram Verburg" <bram@vocaltec.com>
X-Spam-Score: 0.0 (/)
X-Scan-Signature: 97c820c82c68af374c4e382a80dc5017
X-Mailman-Approved-At: Thu, 06 Sep 2007 11:14:55 -0400
Cc: sip <sip@ietf.org>
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

Henry,=20

Our company can either map SS7 to SIP, or use SIP-T in our gateways.
The main reason to use SIP-T (or what the ITU-T/3GPP calls SIP-I) is to
more completely preserve the SS7 parameter information for SS7 bridging
applications.  If the desire is to cut over completely to SIP, then the
direct mapping approach works, but much of the SS7 semantics are lost.
We see more of the SS7 to SIP mapping than the use of SIP-T these days.


James

-----Original Message-----
From: Henry Sinnreich [mailto:hsinnrei@adobe.com]=20
Sent: Wednesday, September 05, 2007 11:35 AM
To: Eric Burger; Bram Verburg
Cc: sip
Subject: RE: [Sip] INFO - more on SIP-T


Actually, using the SIP-T protocol for tunneling SS7 is a designer
choice, though I would be interested to hear what other options there
are and what may be the best option. Are there reasons for SIP-T to be
the best option?

I still dislike to the use of "SIP" in the "SIP-T" name as mentioned
below.

Thanks, Henry=20

=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
Thanks Eric! :-)

The guidelines for the usage of SIP don't have as far as I remember any
recommendation for SIP to be used as a tunneling protocol. In this
respect, the use of SIP for a "tunneling convention" is non-truth in
advertising.

As for the most effective way of carrying SS7 over IP networks, I would
be interested to hear how VoIP providers are actually doing it. Can
anyone share such information?

Oh yes,...
> I do see a place for communications service providers
So do I. Aren't we all here in the IETF to communicate over the Internet
or in private IP networks?

>> The fact that the INFO method has a
>> problem doesn't mean that SIP-T is an inappropriate use of SIP.

Yes, it is inappropriate since people attempting to connect with a SIP
end device such as a SIP phone or PSTN gateway on the SIP side will
fail.

Henry

-----Original Messagthe intended recipient, and have received this message in error,=20
>> please immediately return this by email and then delete it.
>>=20
>=20



Notice:  This email message, together with any attachments, may contain
information  of  BEA Systems,  Inc.,  its subsidiaries  and  affiliated
entities,  that may be confidential,  proprietary,  copyrighted  and/or
legally privileged, and is intended solely for the use of the individual
or entity named in this message. If you are not the intended recipient,
and have received this message in error, please immediately return this
by email and then delete it.


_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol Use
sip-implementors@cs.columbia.edu for questions on current sip Use
sipping@ietf.org for new developments on the application of sip


_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol Use
sip-implementors@cs.columbia.edu for questions on current sip Use
sipping@ietf.org for new developments on the application of sip


_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip

From sip-bounces@ietf.org Thu Sep 06 11:16:56 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1ITJ4d-0005p0-Hh; Thu, 06 Sep 2007 11:15:15 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1ITIdI-0004x8-F6
	for sip-confirm+ok@megatron.ietf.org; Thu, 06 Sep 2007 10:47:00 -0400
Received: from [10.91.34.44] (helo=ietf-mx.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1ITIdI-0004x0-5c
	for sip@ietf.org; Thu, 06 Sep 2007 10:47:00 -0400
Received: from rv-out-0910.google.com ([209.85.198.188])
	by ietf-mx.ietf.org with esmtp (Exim 4.43) id 1ITIdG-0000vT-PQ
	for sip@ietf.org; Thu, 06 Sep 2007 10:47:00 -0400
Received: by rv-out-0910.google.com with SMTP id l15so146902rvb
	for <sip@ietf.org>; Thu, 06 Sep 2007 07:46:57 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=beta;
	h=domainkey-signature:received:received:message-id:date:from:to:subject:cc:in-reply-to:mime-version:content-type:references;
	bh=jJ7F4UjpuRPk/oRr+JHi4tLw4bG+iOVvvf4abgIwISo=;
	b=sNcmFvhM5dwZySd0xcAoycdwB+KQD18SU8Flxb4bulUKWJ/kZt+LLkIKVlEjQkauG+GQlNaKKEl+HOAiz1hfAMfqF69izJvPmlQDSEAaEyjrLSJnuz7CK8Bu3oRTl9TACyrkd+LXxmiyG/JdZOKDqhI+JGrKyFC6R1irmYugxKo=
DomainKey-Signature: a=rsa-sha1; c=nofws; d=gmail.com; s=beta;
	h=received:message-id:date:from:to:subject:cc:in-reply-to:mime-version:content-type:references;
	b=Vj85/3VsqBp6PqjojoZ+ZLPnPXHp7RjctYB0PwnJQh/mddOxQPB26Wz+yHIqbWHjIj8K5TGTHpX2YLJbdpP2AeRgDYab0QIpDVa1/crmr8zsz+5RbM33GInqPZFFXWj4KOa31HzDanEHCLMamKQYF5HOlAD78lMNZzgEt51jgqc=
Received: by 10.141.23.7 with SMTP id a7mr281420rvj.1189090016799;
	Thu, 06 Sep 2007 07:46:56 -0700 (PDT)
Received: by 10.141.91.19 with HTTP; Thu, 6 Sep 2007 07:46:56 -0700 (PDT)
Message-ID: <26c6d6b10709060746o454036f4ja7a1857a916a96d8@mail.gmail.com>
Date: Thu, 6 Sep 2007 10:46:56 -0400
From: "Nicholas Mattiello" <nicholas.mattiello@gmail.com>
To: "Michael Procter" <michael.procter@citel.com>
Subject: Re: [Sip] Possible problem (?) regarding SUBSCRIBE
In-Reply-To: <0D4E483A0E6E0A46861409E5D6C2011CA13E7B@sea02-mxc01.citel.com>
MIME-Version: 1.0
References: <26c6d6b10709051319p54a294cfy577acf3274704a92@mail.gmail.com>
	<0D4E483A0E6E0A46861409E5D6C2011CA13E7B@sea02-mxc01.citel.com>
X-Spam-Score: 0.0 (/)
X-Scan-Signature: b280b4db656c3ca28dd62e5e0b03daa8
X-Mailman-Approved-At: Thu, 06 Sep 2007 11:15:14 -0400
Cc: sip@ietf.org
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.iete-----
From: Eric Burger [mailto:eburger@bea.com]
Sent: Wednesday, September 05, 2007 9:11 AM
To: Bram Verburg
Cc: sip
Subject: Re: [Sip] INFO

The use of INFO part.  Hey, I'm not totally Henry - I do see a place for
communications service providers and I recognize the importance of
interworking with the PSTN for the next 15 years.

SIP-T is not a session initiation protocol.  It is a set of conventions
for TUNNELING proprietary signaling events over SIP.  Key word there is
TUNNELING.  That is the clue that section 3.3 applies.


On 9/5/07 6:46 AM, "Bram Verburg" <bram@vocaltec.com> wrote:

> OK, SIP-T is not going away, but I'm still not sure whether you are=20
> trying to say that all of SIP-T is bad, or only its use of INFO? If
all
> of SIP-T is bad, then let's not fix it and wait till it does go away=20
> eventually. If the problem is specifically with INFO, then let's
define
> an event package that allows endpoints to request mid-call
'proprietary'
> signaling events, and then we can deprecate INFO altogether.
>=20
> My point was that SIP-T is not simply a tunnel that could be replaced
by
> any other transport layer, which is what section 3.3 seems to
describe.
> It is a 'session initiation protocol' that does exactly what SIP is=20
> designed to do: initiate sessions. The fact that the INFO method has a

> problem doesn't mean that SIP-T is an inappropriate use of SIP.
>=20
> Bram
>=20
>=20
>> -----Original Message-----
>> From: Eric Burger [mailto:eburger@bea.com]
>> Sent: 05 September 2007 16:09
>> To: Bram Verburg
>> Cc: sip
>> Subject: Re: [Sip] INFO
>>=20
>> SIP-T suffers *all* of the issues with INFO.
>>=20
>> Read section 3.3 for the 'right' way of doing SIP-T.
>>=20
>> That said, let's be real: I don't think anyone will abandon SIP-T at=20
>> this late date.  Although this really is a counter example, I would=20
>> liken this to the story in:
>> http://www.snopes.com/history/american/gauge.htm
>>=20
>>=20
>>=20
>>=20
>> On 9/5/07 4:56 AM, "Bram Verburg" <bram@vocaltec.com> wrote:
>>=20
>>>> That is the point of the draft.  All of the uses of INFO
>> today have
>>>> alternatives that do not have the same problems.
>>>>=20
>>>> In fact, I am really thinking the draft should point out
>> the use of
>>>> INFO for SIP-T is also incorrect.  SIP-T should use a control=20
>>>> channel, not the "SIP"
>>>> channel, for transporting proprietary signaling.  The only thing=20
>>>> SIP-T does is re-create TCP over SIP.  Not a very useful
>> use of SIP.
>>>=20
>>> I don't think that's a fair assessment of SIP-T, since you
>> seem to be
>>> ignoring the fact that SIP-T also (primarily) uses other
>> methods than
>>> INFO.
>>>=20
>>> The encapsulation of 'proprietary' signaling is done to convey=20
>>> information that cannot currently be conveyed in pure SIP.
>> But other
>>> than that, within the VoIP domain the regular SIP dialog
>> model is used
>>> to establish and tear down sessions. SIP headers take
>> precedence over
>>> the contents of the ISUP/Q.931 message, so the 'tunneled'
>> message is
>>> only used to fill in some blanks at the receiving end. For the most=20
>>> part proxies and even user agents can safely ignore the
>> message body
>>> and still participate in the SIP dialog.
>>>=20
>>> Some ISUP/Q.931 messages arrive at a stage in the session where SIP=20
>>> doesn't define any interaction between UAs, so currently
>> INFO is used
>>> as a tunnel. If you believe it should be replaced by something less=20
>>> ambiguous, that won't be abused outside the scope of SIP-T the same=20
>>> way INFO is today, I guess that's fair enough. But saying
>> that SIP-T
>>> should use TCP tunnels instead seems a bit harsh.
>>>=20
>>> Bram
>>>=20
>>=20
>>=20
>>=20
>> Notice:  This email message, together with any attachments, may=20
>> contain information  of  BEA Systems,  Inc.,  its subsidiaries  and =20
>> affiliated entities,  that may be confidential,  proprietary, =20
>> copyrighted  and/or legally privileged, and is intended solely for=20
>> the use of the individual or entity named in this message. If you are

>> not f.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: multipart/mixed; boundary="===============1383148730=="
Errors-To: sip-bounces@ietf.org

--===============1383148730==
Content-Type: multipart/alternative; 
	boundary="----=_Part_26783_31114857.1189090016770"

------=_Part_26783_31114857.1189090016770
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Thank you, it does shed a little bit of light.  I had since changed the API
to use the previous value of the Expires header rather than insert the
parameter from the notify.  It seems whoever wrote that section of the API
also misunderstood the RFC.

Thanks again.

On 9/6/07, Michael Procter <michael.procter@citel.com> wrote:
>
> Hi Nicholas,
>
> [RFC3265 extracts]
> > If the value of the "Subscription-State" header is "active" or
> > "pending", the notifier SHOULD also include in the "Subscription-
> > State" header an "expires" parameter which indicates the time
> > remaining on the subscription.
> > ...
> > If the "Subscription-State" header value is "active", it means that
> > the subscription has been accepted and (in general) has been
> > authorized.  If the header also contains an "expires" parameter, the
> > subscriber SHOULD take it as the authoritative subscription duration
> > and adjust accordingly.
>
> > So if there is 5 seconds left on a subscription, and a client receives
> > a NOTIFY, the client changes the Expires of any subsequent SUBSCRIBEs
> > for that event to 5 seconds, and requires a refresh at less than 5
> > second intervals. The longer the client runs, the smaller this value
> > will become.
>
> I think you have misunderstood RFC3265 in this matter.  If the client
> receives a NOTIFY with "Expires: 5", it should infer that the current
> subscription will expire in 5 seconds.  If it wishes to extend the
> subscription, it will need to send a reSUBSCRIBE.  It does not need to
> resubscribe with an expiry of 5 seconds!  Instead, it may choose a different
> one (whatever worked the first time would be a good choice).
>
> So, a typical flow could look something like this:
>
> SUBSCRIBE (Expires:180) --->    # Initial subscribe requesting 180 secs
> <--- 200
> <--- NOTIFY (Expires: 180)        # Note need to resubscribe in 180 secs
> 200 --->
>
> (time passes (137 secs), something happens)
> <--- NOTIFY (Expires: 43)         # Note need to resubscribe in 43 secs
> 200 --->
>
> (another 23 seconds pass, client decides to extend subscription, as only
> 20 seconds remain)
> SUBSCRIBE (Expires: 180) --->
> <--- 200
> <--- NOTIFY (Expires: 180)        # Subscription extended for 3 mins
> 200 --->
>
> I hope this clarifies things,
>
> Michael
>

------=_Part_26783_31114857.1189090016770
Content-Type: text/html; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Thank you, it does shed a little bit of light.&nbsp; I had since changed the API to use the previous value of the Expires header rather than insert the parameter from the notify.&nbsp; It seems whoever wrote that section of the API also misunderstood the RFC.
<br><br>Thanks again.<br><br><div><span class="gmail_quote">On 9/6/07, <b class="gmail_sendername">Michael Procter</b> &lt;<a href="mailto:michael.procter@citel.com">michael.procter@citel.com</a>&gt; wrote:</span><blockquote class="gmail_quote" style="border-left: 1px solid rgb(204, 204, 204); margin: 0pt 0pt 0pt 0.8ex; padding-left: 1ex;">
Hi Nicholas,<br><br>[RFC3265 extracts]<br>&gt; If the value of the &quot;Subscription-State&quot; header is &quot;active&quot; or<br>&gt; &quot;pending&quot;, the notifier SHOULD also include in the &quot;Subscription-<br>
&gt; State&quot; header an &quot;expires&quot; parameter which indicates the time<br>&gt; remaining on the subscription.<br>&gt; ..the intended recipient, and have received this message in error,=20
>> please immediately return this by email and then delete it.
>>=20
>=20



Notice:  This email message, together with any attachments, may contain
information  of  BEA Systems,  Inc.,  its subsidiaries  and  affiliated
entities,  that may be confidential,  proprietary,  copyrighted  and/or
legally privileged, and is intended solely for the use of the individual
or entity named in this message. If you are not the intended recipient,
and have received this message in error, please immediately return this
by email and then delete it.


_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol Use
sip-implementors@cs.columbia.edu for questions on current sip Use
sipping@ietf.org for new developments on the application of sip


_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol Use
sip-implementors@cs.columbia.edu for questions on current sip Use
sipping@ietf.org for new developments on the application of sip


_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip

From sip-bounces@ietf.org Thu Sep 06 11:16:56 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1ITJ4d-0005p0-Hh; Thu, 06 Sep 2007 11:15:15 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1ITIdI-0004x8-F6
	for sip-confirm+ok@megatron.ietf.org; Thu, 06 Sep 2007 10:47:00 -0400
Received: from [10.91.34.44] (helo=ietf-mx.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1ITIdI-0004x0-5c
	for sip@ietf.org; Thu, 06 Sep 2007 10:47:00 -0400
Received: from rv-out-0910.google.com ([209.85.198.188])
	by ietf-mx.ietf.org with esmtp (Exim 4.43) id 1ITIdG-0000vT-PQ
	for sip@ietf.org; Thu, 06 Sep 2007 10:47:00 -0400
Received: by rv-out-0910.google.com with SMTP id l15so146902rvb
	for <sip@ietf.org>; Thu, 06 Sep 2007 07:46:57 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=beta;
	h=domainkey-signature:received:received:message-id:date:from:to:subject:cc:in-reply-to:mime-version:content-type:references;
	bh=jJ7F4UjpuRPk/oRr+JHi4tLw4bG+iOVvvf4abgIwISo=;
	b=sNcmFvhM5dwZySd0xcAoycdwB+KQD18SU8Flxb4bulUKWJ/kZt+LLkIKVlEjQkauG+GQlNaKKEl+HOAiz1hfAMfqF69izJvPmlQDSEAaEyjrLSJnuz7CK8Bu3oRTl9TACyrkd+LXxmiyG/JdZOKDqhI+JGrKyFC6R1irmYugxKo=
DomainKey-Signature: a=rsa-sha1; c=nofws; d=gmail.com; s=beta;
	h=received:message-id:date:from:to:subject:cc:in-reply-to:mime-version:content-type:references;
	b=Vj85/3VsqBp6PqjojoZ+ZLPnPXHp7RjctYB0PwnJQh/mddOxQPB26Wz+yHIqbWHjIj8K5TGTHpX2YLJbdpP2AeRgDYab0QIpDVa1/crmr8zsz+5RbM33GInqPZFFXWj4KOa31HzDanEHCLMamKQYF5HOlAD78lMNZzgEt51jgqc=
Received: by 10.141.23.7 with SMTP id a7mr281420rvj.1189090016799;
	Thu, 06 Sep 2007 07:46:56 -0700 (PDT)
Received: by 10.141.91.19 with HTTP; Thu, 6 Sep 2007 07:46:56 -0700 (PDT)
Message-ID: <26c6d6b10709060746o454036f4ja7a1857a916a96d8@mail.gmail.com>
Date: Thu, 6 Sep 2007 10:46:56 -0400
From: "Nicholas Mattiello" <nicholas.mattiello@gmail.com>
To: "Michael Procter" <michael.procter@citel.com>
Subject: Re: [Sip] Possible problem (?) regarding SUBSCRIBE
In-Reply-To: <0D4E483A0E6E0A46861409E5D6C2011CA13E7B@sea02-mxc01.citel.com>
MIME-Version: 1.0
References: <26c6d6b10709051319p54a294cfy577acf3274704a92@mail.gmail.com>
	<0D4E483A0E6E0A46861409E5D6C2011CA13E7B@sea02-mxc01.citel.com>
X-Spam-Score: 0.0 (/)
X-Scan-Signature: b280b4db656c3ca28dd62e5e0b03daa8
X-Mailman-Approved-At: Thu, 06 Sep 2007 11:15:14 -0400
Cc: sip@ietf.org
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.iet.<br>&gt; If the &quot;Subscription-State&quot; header value is &quot;active&quot;, it means that
<br>&gt; the subscription has been accepted and (in general) has been<br>&gt; authorized.&nbsp;&nbsp;If the header also contains an &quot;expires&quot; parameter, the<br>&gt; subscriber SHOULD take it as the authoritative subscription duration
<br>&gt; and adjust accordingly.<br><br>&gt; So if there is 5 seconds left on a subscription, and a client receives<br>&gt; a NOTIFY, the client changes the Expires of any subsequent SUBSCRIBEs<br>&gt; for that event to 5 seconds, and requires a refresh at less than 5
<br>&gt; second intervals. The longer the client runs, the smaller this value<br>&gt; will become.<br><br>I think you have misunderstood RFC3265 in this matter.&nbsp;&nbsp;If the client receives a NOTIFY with &quot;Expires: 5&quot;, it should infer that the current subscription will expire in 5 seconds.&nbsp;&nbsp;If it wishes to extend the subscription, it will need to send a reSUBSCRIBE.&nbsp;&nbsp;It does not need to resubscribe with an expiry of 5 seconds!&nbsp;&nbsp;Instead, it may choose a different one (whatever worked the first time would be a good choice).
<br><br>So, a typical flow could look something like this:<br><br>SUBSCRIBE (Expires:180) ---&gt;&nbsp;&nbsp;&nbsp;&nbsp;# Initial subscribe requesting 180 secs<br>&lt;--- 200<br>&lt;--- NOTIFY (Expires: 180)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Note need to resubscribe in 180 secs
<br>200 ---&gt;<br><br>(time passes (137 secs), something happens)<br>&lt;--- NOTIFY (Expires: 43)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # Note need to resubscribe in 43 secs<br>200 ---&gt;<br><br>(another 23 seconds pass, client decides to extend subscription, as only
<br>20 seconds remain)<br>SUBSCRIBE (Expires: 180) ---&gt;<br>&lt;--- 200<br>&lt;--- NOTIFY (Expires: 180)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Subscription extended for 3 mins<br>200 ---&gt;<br><br>I hope this clarifies things,<br><br>Michael<br></blockquote>
</div><br>

------=_Part_26783_31114857.1189090016770--



--===============1383148730==
Content-Type: text/plain; charset="us-ascii"
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip
--===============1383148730==--







f.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: multipart/mixed; boundary="===============1383148730=="
Errors-To: sip-bounces@ietf.org

--===============1383148730==
Content-Type: multipart/alternative; 
	boundary="----=_Part_26783_31114857.1189090016770"

------=_Part_26783_31114857.1189090016770
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Thank you, it does shed a little bit of light.  I had since changed the API
to use the previous value of the Expires header rather than insert the
parameter from the notify.  It seems whoever wrote that section of the API
also misunderstood the RFC.

Thanks again.

On 9/6/07, Michael Procter <michael.procter@citel.com> wrote:
>
> Hi Nicholas,
>
> [RFC3265 extracts]
> > If the value of the "Subscription-State" header is "active" or
> > "pending", the notifier SHOULD also include in the "Subscription-
> > State" header an "expires" parameter which indicates the time
> > remaining on the subscription.
> > ...
> > If the "Subscription-State" header value is "active", it means that
> > the subscription has been accepted and (in general) has been
> > authorized.  If the header also contains an "expires" parameter, the
> > subscriber SHOULD take it as the authoritative subscription duration
> > and adjust accordingly.
>
> > So if there is 5 seconds left on a subscription, and a client receives
> > a NOTIFY, the client changes the Expires of any subsequent SUBSCRIBEs
> > for that event to 5 seconds, and requires a refresh at less than 5
> > second intervals. The longer the client runs, the smaller this value
> > will become.
>
> I think you have misunderstood RFC3265 in this matter.  If the client
> receives a NOTIFY with "Expires: 5", it should infer that the current
> subscription will expire in 5 seconds.  If it wishes to extend the
> subscription, it will need to send a reSUBSCRIBE.  It does not need to
> resubscribe with an expiry of 5 seconds!  Instead, it may choose a different
> one (whatever worked the first time would be a good choice).
>
> So, a typical flow could look something like this:
>
> SUBSCRIBE (Expires:180) --->    # Initial subscribe requesting 180 secs
> <--- 200
> <--- NOTIFY (Expires: 180)        # Note need to resubscribe in 180 secs
> 200 --->
>
> (time passes (137 secs), something happens)
> <--- NOTIFY (Expires: 43)         # Note need to resubscribe in 43 secs
> 200 --->
>
> (another 23 seconds pass, client decides to extend subscription, as only
> 20 seconds remain)
> SUBSCRIBE (Expires: 180) --->
> <--- 200
> <--- NOTIFY (Expires: 180)        # Subscription extended for 3 mins
> 200 --->
>
> I hope this clarifies things,
>
> Michael
>

------=_Part_26783_31114857.1189090016770
Content-Type: text/html; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Thank you, it does shed a little bit of light.&nbsp; I had since changed the API to use the previous value of the Expires header rather than insert the parameter from the notify.&nbsp; It seems whoever wrote that section of the API also misunderstood the RFC.
<br><br>Thanks again.<br><br><div><span class="gmail_quote">On 9/6/07, <b class="gmail_sendername">Michael Procter</b> &lt;<a href="mailto:michael.procter@citel.com">michael.procter@citel.com</a>&gt; wrote:</span><blockquote class="gmail_quote" style="border-left: 1px solid rgb(204, 204, 204); margin: 0pt 0pt 0pt 0.8ex; padding-left: 1ex;">
Hi Nicholas,<br><br>[RFC3265 extracts]<br>&gt; If the value of the &quot;Subscription-State&quot; header is &quot;active&quot; or<br>&gt; &quot;pending&quot;, the notifier SHOULD also include in the &quot;Subscription-<br>
&gt; State&quot; header an &quot;expires&quot; parameter which indicates the time<br>&gt; remaining on the subscription.<br>&gt; ...<br>&gt; If the &quot;Subscription-State&quot; header value is &quot;active&quot;, it means that
<br>&gt; the subscription has been accepted and (in general) has been<br>&gt; authorized.&nbsp;&nbsp;If the header also contains an &quot;expires&quot; parameter, the<br>&gt; subscriber SHOULD take it as the authoritative subscription duration
<br>&gt; and adjust accordingly.<br><br>&gt; So if there is 5 seconds left on a subscription, and a client receives<br>&gt; a NOTIFY, the client changes the Expires of any subsequent SUBSCRIBEs<br>&gt; for that event to 5 seconds, and requires a refresh at less than 5
<br>&gt; second intervals. The longer the client runs, the smaller this value<br>&gt; will become.<br><br>I think you have misunderstood RFC3265 in this matter.&nbsp;&nbsp;If the client receives a NOTIFY with &quot;Expires: 5&quot;, it should infer that the current subscription will expire in 5 seconds.&nbsp;&nbsp;If it wishes to extend the subscription, it will need to send a reSUBSCRIBE.&nbsp;&nbsp;It does not need to resubscribe with an expiry of 5 seconds!&nbsp;&nbsp;Instead, it may choose a different one (whatever worked the first time would be a good choice).
<br><br>So, a typical flow could look something like this:<br><br>SUBSCRIBE (Expires:180) ---&gt;&nbsp;&nbsp;&nbsp;&nbsp;# Initial subscribe requesting 180 secs<br>&lt;--- 200<br>&lt;--- NOTIFY (Expires: 180)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Note need to resubscribe in 180 secs
<br>200 ---&gt;<br><br>(time passes (137 secs), something happens)<br>&lt;--- NOTIFY (Expires: 43)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # Note need to resubscribe in 43 secs<br>200 ---&gt;<br><br>(another 23 seconds pass, client decides to extend subscription, as only
<br>20 seconds remain)<br>SUBSCRIBE (Expires: 180) ---&gt;<br>&lt;--- 200<br>&lt;--- NOTIFY (Expires: 180)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Subscription extended for 3 mins<br>200 ---&gt;<br><br>I hope this clarifies things,<br><br>Michael<br></blockquote>
</div><br>

------=_Part_26783_31114857.1189090016770--



--===============1383148730==
Content-Type: text/plain; charset="us-ascii"
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip
--===============1383148730==--







From sip-bounces@ietf.org Thu Sep 06 15:17:37 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1ITMpE-0004gx-It; Thu, 06 Sep 2007 15:15:36 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1ITMpB-0004fh-2n
	for sip-confirm+ok@megatron.ietf.org; Thu, 06 Sep 2007 15:15:33 -0400
Received: from [10.90.34.44] (helo=chiedprmail1.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1ITMpA-0004fT-ND; Thu, 06 Sep 2007 15:15:32 -0400
Received: from ns4.neustar.com ([156.154.24.139])
	by chiedprmail1.ietf.org with esmtp (Exim 4.43)
	id 1ITMpA-0003UD-8g; Thu, 06 Sep 2007 15:15:32 -0400
Received: from stiedprstage1.ietf.org (stiedprstage1.va.neustar.com
	[10.31.47.10]) by ns4.neustar.com (Postfix) with ESMTP id 2BD962AC64;
	Thu,  6 Sep 2007 19:15:02 +0000 (GMT)
Received: from ietf by stiedprstage1.ietf.org with local (Exim 4.43)
	id 1ITMof-00083B-T7; Thu, 06 Sep 2007 15:15:01 -0400
Content-Type: Multipart/Mixed; Boundary="NextPart"
Mime-Version: 1.0
To: i-d-announce@ietf.org
From: Internet-Drafts@ietf.org
Message-Id: <E1ITMof-00083B-T7@stiedprstage1.ietf.org>
Date: Thu, 06 Sep 2007 15:15:01 -0400
X-Spam-Score: 0.0 (/)
X-Scan-Signature: a2c12dacc0736f14d6b540e805505a86
Cc: sip@ietf.org
Subject: [Sip] I-D ACTION:draft-ietf-sip-answermode-06.txt 
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

--NextPart

A New Internet-Draft is available from the on-line Internet-Drafts 
directories.
This draft is a work item of the Session Initiation Protocol Working Group of the IETF.

	Title		: Requesting Answering Modes for the Session Initiation Protocol (SIP)
	Author(s)	: D. Willis, A. Allen
	Filename	: draft-ietf-sip-answermode-06.txt
	Pages		: 26
	Date		: 2007-9-6
	
This document defines extends SIP with two header fields and
   associated option tags that can be used in INVITE requests to convey
   the requester's preference for user-interface handling related to
   answering of that request.  The first header, "Answer-Mode",
   expresses a preference as to whether the target node's user interface
   waits for user input before accepting the request or instead accepts
   the request without waiting on user input.  The second header, "Priv-

   Answer-Mode" is similar to the first, except that it requests
   administrative-level access and has consequent additional
   authentication and authorization requirements.  These behaviors have
   applicability to applications such as Push-to-Talk and to diagnostics
   like loop-back.  Usage of each header field in a response to indicate
   how the request was handled is also defined.

A URL for this Internet-Draft is:
http://www.ietf.org/internet-drafts/draft-ietf-sip-answermode-06.txt

To remove yourself from the I-D Announcement list, send a message to 
i-d-announce-request@ietf.org with the word unsubscribe in the body of 
the message. 
You can also visit https://www1.ietf.org/mailman/listinfo/I-D-announce 
to change your subscription settings.

Internet-Drafts are also available by anonymous FTP. Login with the 
username "anonymous" and a password of your e-mail address. After 
logging in, type "cd internet-drafts" and then 
"get draft-ietf-sip-answermode-06.txt".

A list of Internet-Drafts directories can be found in
http://www.ietf.org/shadow.html 
or ftp://ftp.ietf.org/ietf/1shadow-sites.txt

Internet-Drafts can also be obtained by e-mail.

Send a message to:
	mailserv@ietf.org.
In the body type:
	"FILE /internet-drafts/draft-ietf-sip-answermode-06.txt".
	
NOTE:	The mail server at ietf.org can return the document in
	MIME-encoded form by using the "mpack" utility.  To use this
	feature, insert the command "ENCODING mime" before the "FILE"
	command.  To decode the response(s), you will need "munpack" or
	a MIME-compliant mail reader.  Different MIME-compliant mail readers
	exhibit different behavior, especially when dealing with
	"multipart" MIME messages (i.e. documents which have been split
	up into multiple messages), so check your local documentation on
	how to manipulate these messages.

Below is the data which will enable a MIME compliant mail reader
implementation to automatically retrieve the ASCII version of the
Internet-Draft.

--NextPart
Content-Type: Multipart/Alternative; Boundary="OtherAccess"

--OtherAccess
Content-Type: Message/External-body; access-type="mail-server";
	server="mailserv@ietf.org"

Content-Type: text/plain
Content-ID: <2007-9-6145635.I-D@ietf.org>

ENCODING mime
FILE /internet-drafts/draft-ietf-sip-answermode-06.txt

--OtherAccess
Content-Type: Message/External-body; name="draft-ietf-sip-answermode-06.txt";
	site="ftp.ietf.org"; access-type="anon-ftp";
	directory="internet-drafts"

Content-Type: text/plain
Content-ID: <2007-9-6145635.I-D@ietf.org>


--OtherAccess--

--NextPart
Content-Type: text/plain; charset="us-ascii"
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip
--NextPart--






From sip-bounces@ietf.org Thu Sep 06 15:39:47 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1ITNAu-00054A-TQ; Thu, 06 Sep 2007 15:38:00 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1ITNAs-000541-U3
	for sip-confirm+ok@megatron.ietf.org; Thu, 06 Sep 2007 15:37:58 -0400
Received: from [10.91.34.44] (helo=ietf-mx.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1ITNAs-00053p-K5
	for sip@ietf.org; Thu, 06 Sep 2007 15:37:58 -0400
Received: from exprod6og53.obsmtp.com ([64.18.1.187])
	by ietf-mx.ietf.org with esmtp (Exim 4.43) id 1ITNAr-0000Lh-4d
	for sip@ietf.org; Thu, 06 Sep 2007 15:37:58 -0400
Received: from source ([192.150.11.134]) by exprod6ob53.postini.com
	([64.18.5.12]) with SMTP; Thu, 06 Sep 2007 12:37:24 PDT
Received: from inner-relay-3.eur.adobe.com (inner-relay-3.adobe.com
	[192.150.20.198] (may be forged))
	by outbound-smtp-1.corp.adobe.com (8.12.10/8.12.10) with ESMTP id
	l86JZXIQ003009; Thu, 6 Sep 2007 12:35:38 -0700 (PDT)
Received: from fe2.corp.adobe.com (fe2.corp.adobe.com [10.8.192.72])
	by inner-relay-3.eur.adobe.com (8.12.10/8.12.9) with ESMTP id
	l86JaJFb027095; Thu, 6 Sep 2007 12:37:09 -0700 (PDT)
Received: from namail5.corp.adobe.com ([10.8.192.88]) by fe2.corp.adobe.com
	with Microsoft SMTPSVC(6.0.3790.1830); 
	Thu, 6 Sep 2007 12:36:55 -0700
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: [Sip] INFO - more on SIP-T
Date: Thu, 6 Sep 2007 12:36:55 -0700
Message-ID: <24CCCC428EFEA2469BF046DB3C7A8D223AE080@namail5.corp.adobe.com>
In-Reply-To: <CAF25E0F3A66D9439590FA6BA2FC5A1F9A8A49@MA02EXCH01.Cantata.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] INFO - more on SIP-T
Thread-Index: AcfopsS6ijL/eVSeR7OkrFxhvjEZ1wCqsuc+ABF4AvAA4JbFswAlLCkAAAPXpb8AAFTEcAAB2uzrAAHmHCAAMf4tkAAGSrWA
References: <24CCCC428EFEA2469BF046DB3C7A8D223AE071@namail5.corp.adobe.com>
	<CAF25E0F3A66D9439590FA6BA2FC5A1F9A8A49@MA02EXCH01.Cantata.com>
From: "Henry Sinnreich" <hsinnrei@adobe.com>
To: "Rafferty, James" <jrafferty@cantata.com>, "Eric Burger" <eburger@bea.com>,
	"Bram Verburg" <bram@vocaltec.com>
X-OriginalArrivalTime: 06 Sep 2007 19:36:55.0862 (UTC)
	FILETIME=[48776D60:01C7F0BD]
X-Spam-Score: -4.0 (----)
X-Scan-Signature: a4a24b484706be629f915bfb1a3e4771
Cc: sip <sip@ietf.org>
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

James,

Thanks for the useful data.

> We see more of the SS7 to SIP mapping than the use of SIP-T these
days.

This makes sense since given the large number of SS7 variants; it is a
flexible solution that keeps the SS7 variant complexity at the edge of
the IP network.

SIP-T for bridging applications would probably make sense in a
homogeneous network, but given the almost weekly merger and acquisition
stories and the probably 100 SS7 variants, this does not seem a flexible
solution without some SS7-SS7 converters at some endpoints :-)

SIP in the middle is indeed the best choice.

Any comments?

Thanks again, Henry

-----Original Message-----
From: Rafferty, James [mailto:jrafferty@cantata.com]=20
Sent: Thursday, September 06, 2007 10:00 AM
To: Henry Sinnreich; Eric Burger; Bram Verburg
Cc: sip
Subject: RE: [Sip] INFO - more on SIP-T

Henry,=20

Our company can either map SS7 to SIP, or use SIP-T in our gateways.
The main reason to use SIP-T (or what the ITU-T/3GPP calls SIP-I) is to
more completely preserve the SS7 parameter information for SS7 bridging
applications.  If the desire is to cut over completely to SIP, then the
direct mapping approach works, but much of the SS7 semantics are lost.
We see more of the SS7 to SIP mapping than the use of SIP-T these days.


James

-----Original Message-----
From: Henry Sinnreich [mailto:hsinnrei@adobe.com]=20
Sent: Wednesday, September 05, 2007 11:35 AM
To: Eric Burger; Bram Verburg
Cc: sip
Subject: RE: [Sip] INFO - more on SIP-T


Actually, using the SIP-T protocol for tunneling SS7 is a designer
choice, though I would be interested to hear what other options there
are and what may be the best option. Are there reasons for SIP-T to be
the best option?

I still dislike to the use of "SIP" in the "SIP-T" name as mentioned
below.

Thanks, Henry=20

=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
Thanks Eric! :-)

The guidelines for the usage of SIP don't have as far as I remember any
recommendation for SIP to be used as a tunneling protocol. In this
respect, the use of SIP for a "tunneling convention" is non-truth in
advertising.

As for the most effective way of carrying SS7 over IP networks, I would
be interested to hear how VoIP providers are actually doing it. Can
anyone share such information?

Oh yes,...
> I do see a place for communications service providers
So do I. Aren't we all here in the IETF to communicate over the Internet
or in private IP networks?

>> The fact that the INFO method has a
>> problem doesn't mean that SIP-T is an inappropriate use of SIP.

Yes, it is inappropriate since people attempting to connect with a SIP
end device such as a SIP phone or PSTN gateway on the SIP side will
fail.

Henry

-----Original Message-----
From: Eric Burger [mailto:eburger@bea.com]
Sent: Wednesday, September 05, 2007 9:11 AM
To: Bram Verburg
Cc: sip
Subject: Re: [Sip] INFO

The use of INFO part.  Hey, I'm not totally Henry - I do see a place for
communications service providers and I recognize the importance of
interworking with the PSTN for the next 15 years.

SIP-T is not a session initiation protocol.  It is a set of conventions
for TUNNELING proprietary signaling events over SIP.  Key word there is
TUNNELING.  That is the clue that section 3.3 applies.


On 9/5/07 6:46 AM, "Bram Verburg" <bram@vocaltec.com> wrote:

> OK, SIP-T is not going away, but I'm still not sure whether you are=20
> trying to say that all of SIP-T is bad, or only its use of INFO? If
all
> of SIP-T is bad, then let's not fix it and wait till it does go away=20
> eventually. If the problem is specifically with INFO, then let's
define
> an event package that allows endpoints to request mid-call
'proprietary'
> signaling events, and then we can deprecate INFO altogether.
>=20
> My point was that SIP-T is not simply a tunnel that could be replaced
by
> any other transport layer, which is what section 3.3 seems to
describe.
> It is a 'session initiation protocol' that does exactly what SIP is=20
> designed to do: initiate sessions. The fact that the INFO method has a

> problem doesn't mean that SIP-T is an inappropriate use of SIP.
>=20
> Bram
>=20
>=20
>> -----Original Message-----
>> From: Eric Burger [mailto:eburger@bea.com]
>> Sent: 05 September 2007 16:09
>> To: Bram Verburg
>> Cc: sip
>> Subject: Re: [Sip] INFO
>>=20
>> SIP-T suffers *all* of the issues with INFO.
>>=20
>> Read section 3.3 for the 'right' way of doing SIP-T.
>>=20
>> That said, let's be real: I don't think anyone will abandon SIP-T at=20
>> this late date.  Although this really is a counter example, I would=20
>> liken this to the story in:
>> http://www.snopes.com/history/american/gauge.htm
>>=20
>>=20
>>=20
>>=20
>> On 9/5/07 4:56 AM, "Bram Verburg" <bram@vocaltec.com> wrote:
>>=20
>>>> That is the point of the draft.  All of the uses of INFO
>> today have
>>>> alternatives that do not have the same problems.
>>>>=20
>>>> In fact, I am really thinking the draft should point out
>> the use of
>>>> INFO for SIP-T is also incorrect.  SIP-T should use a control=20
>>>> channel, not the "SIP"
>>>> channel, for transporting proprietary signaling.  The only thing=20
>>>> SIP-T does is re-create TCP over SIP.  Not a very useful
>> use of SIP.
>>>=20
>>> I don't think that's a fair assessment of SIP-T, since you
>> seem to be
>>> ignoring the fact that SIP-T also (primarily) uses other
>> methods than
>>> INFO.
>>>=20
>>> The encapsulation of 'proprietary' signaling is done to convey=20
>>> information that cannot currently be conveyed in pure SIP.
>> But other
>>> than that, within the VoIP domain the regular SIP dialog
>> model is used
>>> to establish and tear down sessions. SIP headers take
>> precedence over
>>> the contents of the ISUP/Q.931 message, so the 'tunneled'
>> message is
>>> only used to fill in some blanks at the receiving end. For the most=20
>>> part proxies and even user agents can safely ignore the
>> message body
>>> and still participate in the SIP dialog.
>>>=20
>>> Some ISUP/Q.931 messages arrive at a stage in the session where SIP=20
>>> doesn't define any interaction between UAs, so currently
>> INFO is used
>>> as a tunnel. If you believe it should be replaced by something less=20
>>> ambiguous, that won't be abused outside the scope of SIP-T the same=20
>>> way INFO is today, I guess that's fair enough. But saying
>> that SIP-T
>>> should use TCP tunnels instead seems a bit harsh.
>>>=20
>>> Bram
>>>=20
>>=20
>>=20
>>=20
>> Notice:  This email message, together with any attachments, may=20
>> contain information  of  BEA Systems,  Inc.,  its subsidiaries  and =20
>> affiliated entities,  that may be confidential,  proprietary, =20
>> copyrighted  and/or legally privileged, and is intended solely for=20
>> the use of the individual or entity named in this message. If you are

>> not the intended recipient, and have received this message in error,=20
>> please immediately return this by email and then delete it.
>>=20
>=20



Notice:  This email message, together with any attachments, may contain
information  of  BEA Systems,  Inc.,  its subsidiaries  and  affiliated
entities,  that may be confidential,  proprietary,  copyrighted  and/or
legally privileged, and is intended solely for the use of the individual
or entity named in this message. If you are not the intended recipient,
and have received this message in error, please immediately return this
by email and then delete it.


_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol Use
sip-implementors@cs.columbia.edu for questions on current sip Use
sipping@ietf.org for new developments on the application of sip


_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol Use
sip-implementors@cs.columbia.edu for questions on current sip Use
sipping@ietf.org for new developments on the application of sip


_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Fri Sep 07 14:35:20 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1ITidq-0000e7-HT; Fri, 07 Sep 2007 14:33:18 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1ITidp-0000Yi-In
	for sip-confirm+ok@megatron.ietf.org; Fri, 07 Sep 2007 14:33:17 -0400
Received: from [10.91.34.44] (helo=ietf-mx.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1ITidp-0000Y1-7f
	for sip@ietf.org; Fri, 07 Sep 2007 14:33:17 -0400
Received: from zcars04e.nortel.com ([47.129.242.56])
	by ietf-mx.ietf.org with esmtp (Exim 4.43) id 1ITido-00008g-1B
	for sip@ietf.org; Fri, 07 Sep 2007 14:33:17 -0400
Received: from zrc2hxm0.corp.nortel.com (zrc2hxm0.corp.nortel.com
	[47.103.123.71])
	by zcars04e.nortel.com (Switch-2.2.0/Switch-2.2.0) with ESMTP id
	l87IUpo01590; Fri, 7 Sep 2007 18:30:51 GMT
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: [Sip] INFO - more on SIP-T
Date: Fri, 7 Sep 2007 13:32:55 -0500
Message-ID: <1ECE0EB50388174790F9694F77522CCF11E86D38@zrc2hxm0.corp.nortel.com>
In-Reply-To: <24CCCC428EFEA2469BF046DB3C7A8D223AE080@namail5.corp.adobe.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] INFO - more on SIP-T
Thread-Index: AcfopsS6ijL/eVSeR7OkrFxhvjEZ1wCqsuc+ABF4AvAA4JbFswAlLCkAAAPXpb8AAFTEcAAB2uzrAAHmHCAAMf4tkAAGSrWAADN4TMA=
References: <24CCCC428EFEA2469BF046DB3C7A8D223AE071@namail5.corp.adobe.com>
	<CAF25E0F3A66D9439590FA6BA2FC5A1F9A8A49@MA02EXCH01.Cantata.com>
	<24CCCC428EFEA2469BF046DB3C7A8D223AE080@namail5.corp.adobe.com>
From: "Francois Audet" <audet@nortel.com>
To: "Henry Sinnreich" <hsinnrei@adobe.com>,
	"Rafferty, James" <jrafferty@cantata.com>,
	"Eric Burger" <eburger@bea.com>, "Bram Verburg" <bram@vocaltec.com>
X-Spam-Score: 0.0 (/)
X-Scan-Signature: 82c9bddb247d9ba4471160a9a865a5f3
Cc: sip <sip@ietf.org>
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

Agreed.

For what it's worth, I see the same thing in the Enteprise space where
there is a move to mapping and native SIP, away from various
"tunnelling"
techniques.

Tunnelling is sooooo 1998 :^)

> -----Original Message-----
> From: Henry Sinnreich [mailto:hsinnrei@adobe.com]=20
> Sent: Thursday, September 06, 2007 12:37
> To: Rafferty, James; Eric Burger; Bram Verburg
> Cc: sip
> Subject: RE: [Sip] INFO - more on SIP-T
>=20
> James,
>=20
> Thanks for the useful data.
>=20
> > We see more of the SS7 to SIP mapping than the use of SIP-T these
> days.
>=20
> This makes sense since given the large number of SS7=20
> variants; it is a flexible solution that keeps the SS7=20
> variant complexity at the edge of the IP network.
>=20
> SIP-T for bridging applications would probably make sense in=20
> a homogeneous network, but given the almost weekly merger and=20
> acquisition stories and the probably 100 SS7 variants, this=20
> does not seem a flexible solution without some SS7-SS7=20
> converters at some endpoints :-)
>=20
> SIP in the middle is indeed the best choice.
>=20
> Any comments?
>=20
> Thanks again, Henry
>=20
> -----Original Message-----
> From: Rafferty, James [mailto:jrafferty@cantata.com]
> Sent: Thursday, September 06, 2007 10:00 AM
> To: Henry Sinnreich; Eric Burger; Bram Verburg
> Cc: sip
> Subject: RE: [Sip] INFO - more on SIP-T
>=20
> Henry,=20
>=20
> Our company can either map SS7 to SIP, or use SIP-T in our gateways.
> The main reason to use SIP-T (or what the ITU-T/3GPP calls=20
> SIP-I) is to more completely preserve the SS7 parameter=20
> information for SS7 bridging applications.  If the desire is=20
> to cut over completely to SIP, then the direct mapping=20
> approach works, but much of the SS7 semantics are lost.
> We see more of the SS7 to SIP mapping than the use of SIP-T=20
> these days.


_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Fri Sep 07 16:38:12 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1ITkZ3-0000qd-Dr; Fri, 07 Sep 2007 16:36:29 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1ITkZ1-0000qU-JY
	for sip-confirm+ok@megatron.ietf.org; Fri, 07 Sep 2007 16:36:27 -0400
Received: from [10.90.34.44] (helo=chiedprmail1.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1ITkZ1-0000q7-7N
	for sip@ietf.org; Fri, 07 Sep 2007 16:36:27 -0400
Received: from host10.216.41.24.conversent.net ([216.41.24.10]
	helo=acmepacket.com) by chiedprmail1.ietf.org with esmtp (Exim 4.43)
	id 1ITkZ0-0007kb-2R for sip@ietf.org; Fri, 07 Sep 2007 16:36:27 -0400
Received: from hkaplan [75.205.230.186] by acmepacket.com with ESMTP
	(SMTPD-9.10) id A6350388; Fri, 07 Sep 2007 16:36:05 -0400
From: "Hadriel Kaplan" <HKaplan@acmepacket.com>
To: "'Eric Burger'" <eburger@bea.com>,
	"'Francois Audet'" <audet@nortel.com>
References: <1ECE0EB50388174790F9694F77522CCF11DF8FEF@zrc2hxm0.corp.nortel.com>
	<C30389ED.A8BE%eburger@bea.com>
Subject: RE: [Sip] INFO
Date: Fri, 7 Sep 2007 16:21:32 -0400
Message-ID: <000c01c7f18c$b0723a60$800101df@acmepacket.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook 11
In-Reply-To: <C30389ED.A8BE%eburger@bea.com>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.3138
Thread-Index: AcfkO3T4s2cG+lAuEdy/WQAWy4mm/wHUBx+wAOMs5UkADqmUsAAKRtNuAIKOB0A=
X-Spam-Score: 0.0 (/)
X-Scan-Signature: 71f780ffdd80c541d3e75aa5f2710d3d
Cc: 'sip' <sip@ietf.org>
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

But there are cases where the KPML model is vastly greater overhead.  

Consider a typical voicemail server.  For calls to the voicemail server to
retrieve messages, KPML is probably good because you can define a digit map
for the mailbox number and password which would reduce overall message
counts.  But for calls to leave a voicemail (which I assume greatly
outnumber those to retrieve them, but you would know more about that than
I), KPML has to create a subscription for every single call, just in case
the caller happens to press some optional dtmf that the voicemail app
supports.  For each and every call, a subscription has to be routed and its
state saved by stateful proxies along the path to the UAs, even though only
a small fraction of the calls ever press a DTMF button.  

But of course that voicemail server could just do 2833/4733 instead, if the
UA's supported it.  So then consider a SIP to PSTN or H.323 gateway.  The
PSTN or H.323 gateway has no knowledge that one call needs DTMF vs. another
- it has to send and receive them for all calls.  It could use 2833/4733,
but very few H.323 devices support 2833, and for whatever reason some PSTN
gateways don't either. (MGCP-controlled ones I think)  So the gateway or its
controller would have to KPML-subscribe for every single call from SIP to
the PSTN or H.323 side, with no real digit map possible.  The amount of
dialog state and messaging for DTMF would actually get somewhere near that
required for the actual call signaling, and yet only a fraction of the calls
would ever send a single DTMF tone!

And that's the basic issue.  For applications where the probability of DTMF
actually being sent is very high, and for which digit mapping can save
messages, KPML makes sense (if everyone supported it).  But those are the
kind of applications where the extra cost of additional messaging caused by
INFO is actually warranted - you have an app that needs a lot of messaging,
then you pay the price for it.  But conversely for other apps, ones which
don't need much dtmf, expecting them to pay the overhead penalty for a KPML
model makes no sense. 

-hadriel

> -----Original Message-----
> From: Eric Burger [mailto:eburger@bea.com]
> Sent: Wednesday, September 05, 2007 1:17 AM
> To: Francois Audet
> Cc: sip
> Subject: Re: [Sip] INFO
> 
> I would offer this is "apples-to-apples":
> 
> If INFO is buffering digits, you have to tell it to, e.g., register a
> digit
> map.  In that case, INFO loses a packet round-trip, KPML is all of one
> extra
> round trip.  Small price to pay for interoperability.
> 
> If one uses the pattern <regex>.</regex>, then KPML is all of two extra
> round trips.  I agree, that could be "bad" if you have a VERY large volume
> of instances where one is polling for a single digit.  However, if you do
> not have a large volume of instances of a single digit, the overhead is
> insignificant.  On the contrary, if you have any decent number of digits
> being collected one-by-one, then I would offer the two subscription
> round-trips get swamped by the number of digit reports, and the fact a
> KPML
> digit report is 7% larger than the most ideal INFO message (which, by the
> way, I don't think anyone has implemented), that is noise, as well.
> 
> 
> On 9/4/07 5:30 PM, "Francois Audet" <audet@nortel.com> wrote:
> 
> > Well, that's because you use the worst-case for INFO, and the best case
> > for
> > KPML. Namely:
> >
> > - Your example uses 1 message per digit for INFO. There is nothing that
> >   prevents you from sending *69 in one INFO message.
> >
> > - Your example also uses the pattern mapping feature of KPML to
> > "optimize"
> >   the number of message.
> >
> > My best guess is that in common deployment, what people are likely to
> > use is:
> >
> > - INFO with 1 digit per message (as per your example)
> >
> > - KPML with reporting of every digit pressed (unlike your example)
> >
> > So in this case INFO actually wins in all cases.
> >
> > Now, don't get me wrong: I'm not advocating the use of INFO for digit
> > mapping. I just
> > think this analysis is more theoretical than real.
> >
> > And I'm quite unconvinced that digit pressing is a big factor in
> > "computing power requirement" for the servers providing those services.
> >
> > In short, I don't think "efficiency" is the main factor here.
> >
> >> -----Original Message-----
> >> From: Eric Burger [mailto:eburger@bea.com]
> >> Sent: Tuesday, September 04, 2007 13:23
> >> To: Hadriel Kaplan
> >> Cc: sip
> >> Subject: Re: [Sip] INFO
> >>
> >> I have not checked, but I think IEEE journal papers run about
> >> US $5.  You can get a monthly subscription that makes the
> >> rate way lower.  Your company probably has a corporate
> >> subscription, or someone there most likely has an IEEE
> >> Digital Library subscription, so again, the papers should be paid for.
> >>
> >> Since the IEEE has a serious self-plagiarism policy, here is
> >> a *different* way for seeing how KPML wins.
> >>
> >> The vast bulk of a SIP message in a non-trivial network
> >> (i.e., with one or more proxies) is the routing information
> >> (URI's, Via's, Route's, etc.).
> >> Sure, a Zebarth INFO (the absolute smallest encoding for a
> >> DTMF digit) of 2 bytes is much smaller than a KPML NOTIFY,
> >> which can easily be 70 bytes.
> >> However, when you have 1000 bytes of headers, 1002 and 1070
> >> are pretty much the same.
> >>
> >> Given that, let us look at the counts.
> >>
> >> KPML:
> >> SUBSCRIBE (SIP Message)
> >> Immediate NOTIFY (SIP Message)
> >> Digit NOTIFY's...
> >>
> >> DTMF:
> >> Digit INFO's...
> >>
> >> What does this mean?  It means that if you are on a shared
> >> media network (wireless or 5BaseT), where each direction
> >> counts, we have:
> >>
> >>                DTMF          KPML
> >> # digits    # packets     # packets
> >>     1            1            3
> >>     2            2            3
> >>     3            3            3       Common Star Codes (e.g., *69)
> >>     4            4            3       Common PINs
> >>     5            5            3
> >>     6            6            3       Also common PINs
> >>     7            7            3
> >>     8            8            3
> >>     9            9            3
> >>    10           10            3       Common Supplementary
> >> Phone Number
> >>    11           11            3       Common Supplementary
> >> Phone Number
> >>
> >> One can quibble as to whether the cross over is at 3 or 4
> >> digits, since KPML packets are slightly larger than INFO
> >> packets.  However, at 3 digits the argument goes in favor of
> >> a mechanism with negotiation, content security, dialog
> >> security, works for HERFP, etc., etc.
> >>
> >> At 4 digits, KPML unquestionably uses less bandwidth.
> >>
> >> Of course, the numbers are even better for KPML on non-shared
> >> media networks.
> >>
> >>
> >> On 8/31/07 1:41 AM, "Hadriel Kaplan" <HKaplan@acmepacket.com> wrote:
> >>
> >>> Hey Eric,
> >>> I read the draft and was especially interested in the claim
> >> that KPML
> >>> consumed less bandwidth than INFO for DTMF.  You cite an
> >> IEEE paper,
> >>> but I don't think that's freely available.  Can you
> >> summarize how you
> >>> came to such a conclusion?  When I do the numbers, KPML
> >> often loses...
> >>> in some scenarios by a LOT.  And it's not even just the extra
> >>> bandwidth/messages, but also the state and processing horsepower.
> >>> There is one scenario where KPML wins, for some SIP boxes
> >> but not others.
> >>> Although that could all be because I either don't correctly
> >> understand
> >>> the actual way KPML would be used, or because the use cases I am
> >>> concerned with are not the same as those in your paper's analysis.
> >>>
> >>> -hadriel
> >>>
> >>>
> >>>> -----Original Message-----
> >>>> From: Eric Burger [mailto:eburger@bea.com]
> >>>> Sent: Tuesday, August 21, 2007 5:37 PM
> >>>> To: 'sip'
> >>>> Subject: [Sip] INFO
> >>>>
> >>>> Since list traffic is down, how about something to spice things up?
> >>>>
> >>>>
> >>>> Any thoughts on
> >>>>
> >>>> http://www.ietf.org/internet-drafts/draft-burger-sip-info-01.txt
> >>>>
> >>>> ???
> >>>>
> >>>> If you like it, say so.  If you hate it, say so.
> >>>>
> >>>> Text welcome.
> >>>>
> >>>>
> >>>> Notice:  This email message, together with any attachments, may
> >>>> contain information  of  BEA Systems,  Inc.,  its
> >> subsidiaries  and
> >>>> affiliated entities,  that may be confidential,  proprietary,
> >>>> copyrighted  and/or legally privileged, and is intended solely for
> >>>> the use of the individual or entity named in this message.
> >> If you are
> >>>> not the intended recipient, and have received this message
> >> in error,
> >>>> please immediately return this by email and then delete it.
> >>>>
> >>>>
> >>>> _______________________________________________
> >>>> Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
> >>>> This list is for NEW development of the core SIP Protocol Use
> >>>> sip-implementors@cs.columbia.edu for questions on current sip Use
> >>>> sipping@ietf.org for new developments on the application of sip
> >>>
> >>>
> >>
> >>
> >>
> >> Notice:  This email message, together with any attachments,
> >> may contain information  of  BEA Systems,  Inc.,  its
> >> subsidiaries  and  affiliated entities,  that may be
> >> confidential,  proprietary,  copyrighted  and/or legally
> >> privileged, and is intended solely for the use of the
> >> individual or entity named in this message. If you are not
> >> the intended recipient, and have received this message in
> >> error, please immediately return this by email and then delete it.
> >>
> >>
> >> _______________________________________________
> >> Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
> >> This list is for NEW development of the core SIP Protocol Use
> >> sip-implementors@cs.columbia.edu for questions on current sip
> >> Use sipping@ietf.org for new developments on the application of sip
> >>
> >
> 
> 
> 
> Notice:  This email message, together with any attachments, may contain
> information  of  BEA Systems,  Inc.,  its subsidiaries  and  affiliated
> entities,  that may be confidential,  proprietary,  copyrighted  and/or
> legally privileged, and is intended solely for the use of the individual
> or entity named in this message. If you are not the intended recipient,
> and have received this message in error, please immediately return this by
> email and then delete it.
> 
> 
> _______________________________________________
> Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip



_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Fri Sep 07 16:53:35 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1ITkns-0006ob-Pj; Fri, 07 Sep 2007 16:51:48 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1ITknr-0006oT-7S
	for sip-confirm+ok@megatron.ietf.org; Fri, 07 Sep 2007 16:51:47 -0400
Received: from [10.90.34.44] (helo=chiedprmail1.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1ITknq-0006oL-Rb
	for sip@ietf.org; Fri, 07 Sep 2007 16:51:46 -0400
Received: from zcars04f.nortel.com ([47.129.242.57])
	by chiedprmail1.ietf.org with esmtp (Exim 4.43) id 1ITknp-0008An-Ml
	for sip@ietf.org; Fri, 07 Sep 2007 16:51:46 -0400
Received: from zrc2hxm0.corp.nortel.com (zrc2hxm0.corp.nortel.com
	[47.103.123.71])
	by zcars04f.nortel.com (Switch-2.2.6/Switch-2.2.0) with ESMTP id
	l87Kpgw06803; Fri, 7 Sep 2007 20:51:42 GMT
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: [Sip] INFO
Date: Fri, 7 Sep 2007 15:51:39 -0500
Message-ID: <1ECE0EB50388174790F9694F77522CCF11E86FC2@zrc2hxm0.corp.nortel.com>
In-Reply-To: <000c01c7f18c$b0723a60$800101df@acmepacket.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] INFO
Thread-Index: AcfkO3T4s2cG+lAuEdy/WQAWy4mm/wHUBx+wAOMs5UkADqmUsAAKRtNuAIKOB0AAAqaxgA==
References: <1ECE0EB50388174790F9694F77522CCF11DF8FEF@zrc2hxm0.corp.nortel.com>
	<C30389ED.A8BE%eburger@bea.com>
	<000c01c7f18c$b0723a60$800101df@acmepacket.com>
From: "Francois Audet" <audet@nortel.com>
To: "Hadriel Kaplan" <HKaplan@acmepacket.com>, "Eric Burger" <eburger@bea.com>
X-Spam-Score: 0.0 (/)
X-Scan-Signature: 7e267523e0685e5aa2dbbdde4b659686
Cc: sip <sip@ietf.org>
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

Exactly.

Or almost any Enteprise scenario.=20

> -----Original Message-----
> From: Hadriel Kaplan [mailto:HKaplan@acmepacket.com]=20
> Sent: Friday, September 07, 2007 13:22
> To: 'Eric Burger'; Audet, Francois (SC100:3055)
> Cc: 'sip'
> Subject: RE: [Sip] INFO
>=20
> But there are cases where the KPML model is vastly greater overhead. =20
>=20
> Consider a typical voicemail server.  For calls to the=20
> voicemail server to retrieve messages, KPML is probably good=20
> because you can define a digit map for the mailbox number and=20
> password which would reduce overall message counts.  But for=20
> calls to leave a voicemail (which I assume greatly outnumber=20
> those to retrieve them, but you would know more about that=20
> than I), KPML has to create a subscription for every single=20
> call, just in case the caller happens to press some optional=20
> dtmf that the voicemail app supports.  For each and every=20
> call, a subscription has to be routed and its state saved by=20
> stateful proxies along the path to the UAs, even though only=20
> a small fraction of the calls ever press a DTMF button. =20
>=20
> But of course that voicemail server could just do 2833/4733=20
> instead, if the UA's supported it.  So then consider a SIP to=20
> PSTN or H.323 gateway.  The PSTN or H.323 gateway has no=20
> knowledge that one call needs DTMF vs. another
> - it has to send and receive them for all calls.  It could=20
> use 2833/4733, but very few H.323 devices support 2833, and=20
> for whatever reason some PSTN gateways don't either.=20
> (MGCP-controlled ones I think)  So the gateway or its=20
> controller would have to KPML-subscribe for every single call=20
> from SIP to the PSTN or H.323 side, with no real digit map=20
> possible.  The amount of dialog state and messaging for DTMF=20
> would actually get somewhere near that required for the=20
> actual call signaling, and yet only a fraction of the calls=20
> would ever send a single DTMF tone!
>=20
> And that's the basic issue.  For applications where the=20
> probability of DTMF actually being sent is very high, and for=20
> which digit mapping can save messages, KPML makes sense (if=20
> everyone supported it).  But those are the kind of=20
> applications where the extra cost of additional messaging=20
> caused by INFO is actually warranted - you have an app that=20
> needs a lot of messaging, then you pay the price for it.  But=20
> conversely for other apps, ones which don't need much dtmf,=20
> expecting them to pay the overhead penalty for a KPML model=20
> makes no sense.=20
>=20
> -hadriel
>=20
> > -----Original Message-----
> > From: Eric Burger [mailto:eburger@bea.com]
> > Sent: Wednesday, September 05, 2007 1:17 AM
> > To: Francois Audet
> > Cc: sip
> > Subject: Re: [Sip] INFO
> >=20
> > I would offer this is "apples-to-apples":
> >=20
> > If INFO is buffering digits, you have to tell it to, e.g.,=20
> register a=20
> > digit map.  In that case, INFO loses a packet round-trip,=20
> KPML is all=20
> > of one extra round trip.  Small price to pay for interoperability.
> >=20
> > If one uses the pattern <regex>.</regex>, then KPML is all of two=20
> > extra round trips.  I agree, that could be "bad" if you have a VERY=20
> > large volume of instances where one is polling for a single digit. =20
> > However, if you do not have a large volume of instances of a single=20
> > digit, the overhead is insignificant.  On the contrary, if you have=20
> > any decent number of digits being collected one-by-one,=20
> then I would=20
> > offer the two subscription round-trips get swamped by the number of=20
> > digit reports, and the fact a KPML digit report is 7%=20
> larger than the=20
> > most ideal INFO message (which, by the way, I don't think=20
> anyone has=20
> > implemented), that is noise, as well.
> >=20
> >=20
> > On 9/4/07 5:30 PM, "Francois Audet" <audet@nortel.com> wrote:
> >=20
> > > Well, that's because you use the worst-case for INFO, and=20
> the best=20
> > > case for KPML. Namely:
> > >
> > > - Your example uses 1 message per digit for INFO. There=20
> is nothing that
> > >   prevents you from sending *69 in one INFO message.
> > >
> > > - Your example also uses the pattern mapping feature of KPML to=20
> > > "optimize"
> > >   the number of message.
> > >
> > > My best guess is that in common deployment, what people=20
> are likely=20
> > > to use is:
> > >
> > > - INFO with 1 digit per message (as per your example)
> > >
> > > - KPML with reporting of every digit pressed (unlike your example)
> > >
> > > So in this case INFO actually wins in all cases.
> > >
> > > Now, don't get me wrong: I'm not advocating the use of INFO for=20
> > > digit mapping. I just think this analysis is more=20
> theoretical than=20
> > > real.
> > >
> > > And I'm quite unconvinced that digit pressing is a big factor in=20
> > > "computing power requirement" for the servers providing=20
> those services.
> > >
> > > In short, I don't think "efficiency" is the main factor here.
> > >
> > >> -----Original Message-----
> > >> From: Eric Burger [mailto:eburger@bea.com]
> > >> Sent: Tuesday, September 04, 2007 13:23
> > >> To: Hadriel Kaplan
> > >> Cc: sip
> > >> Subject: Re: [Sip] INFO
> > >>
> > >> I have not checked, but I think IEEE journal papers run about US=20
> > >> $5.  You can get a monthly subscription that makes the rate way=20
> > >> lower.  Your company probably has a corporate subscription, or=20
> > >> someone there most likely has an IEEE Digital Library=20
> subscription,=20
> > >> so again, the papers should be paid for.
> > >>
> > >> Since the IEEE has a serious self-plagiarism policy, here is a=20
> > >> *different* way for seeing how KPML wins.
> > >>
> > >> The vast bulk of a SIP message in a non-trivial network=20
> (i.e., with=20
> > >> one or more proxies) is the routing information (URI's, Via's,=20
> > >> Route's, etc.).
> > >> Sure, a Zebarth INFO (the absolute smallest encoding for a DTMF=20
> > >> digit) of 2 bytes is much smaller than a KPML NOTIFY, which can=20
> > >> easily be 70 bytes.
> > >> However, when you have 1000 bytes of headers, 1002 and 1070 are=20
> > >> pretty much the same.
> > >>
> > >> Given that, let us look at the counts.
> > >>
> > >> KPML:
> > >> SUBSCRIBE (SIP Message)
> > >> Immediate NOTIFY (SIP Message)
> > >> Digit NOTIFY's...
> > >>
> > >> DTMF:
> > >> Digit INFO's...
> > >>
> > >> What does this mean?  It means that if you are on a shared media=20
> > >> network (wireless or 5BaseT), where each direction=20
> counts, we have:
> > >>
> > >>                DTMF          KPML
> > >> # digits    # packets     # packets
> > >>     1            1            3
> > >>     2            2            3
> > >>     3            3            3       Common Star Codes=20
> (e.g., *69)
> > >>     4            4            3       Common PINs
> > >>     5            5            3
> > >>     6            6            3       Also common PINs
> > >>     7            7            3
> > >>     8            8            3
> > >>     9            9            3
> > >>    10           10            3       Common Supplementary
> > >> Phone Number
> > >>    11           11            3       Common Supplementary
> > >> Phone Number
> > >>
> > >> One can quibble as to whether the cross over is at 3 or=20
> 4 digits,=20
> > >> since KPML packets are slightly larger than INFO=20
> packets.  However,=20
> > >> at 3 digits the argument goes in favor of a mechanism with=20
> > >> negotiation, content security, dialog security, works for HERFP,=20
> > >> etc., etc.
> > >>
> > >> At 4 digits, KPML unquestionably uses less bandwidth.
> > >>
> > >> Of course, the numbers are even better for KPML on=20
> non-shared media=20
> > >> networks.
> > >>
> > >>
> > >> On 8/31/07 1:41 AM, "Hadriel Kaplan"=20
> <HKaplan@acmepacket.com> wrote:
> > >>
> > >>> Hey Eric,
> > >>> I read the draft and was especially interested in the claim
> > >> that KPML
> > >>> consumed less bandwidth than INFO for DTMF.  You cite an
> > >> IEEE paper,
> > >>> but I don't think that's freely available.  Can you
> > >> summarize how you
> > >>> came to such a conclusion?  When I do the numbers, KPML
> > >> often loses...
> > >>> in some scenarios by a LOT.  And it's not even just the extra=20
> > >>> bandwidth/messages, but also the state and processing=20
> horsepower.
> > >>> There is one scenario where KPML wins, for some SIP boxes
> > >> but not others.
> > >>> Although that could all be because I either don't correctly
> > >> understand
> > >>> the actual way KPML would be used, or because the use=20
> cases I am=20
> > >>> concerned with are not the same as those in your=20
> paper's analysis.
> > >>>
> > >>> -hadriel
> > >>>
> > >>>
> > >>>> -----Original Message-----
> > >>>> From: Eric Burger [mailto:eburger@bea.com]
> > >>>> Sent: Tuesday, August 21, 2007 5:37 PM
> > >>>> To: 'sip'
> > >>>> Subject: [Sip] INFO
> > >>>>
> > >>>> Since list traffic is down, how about something to=20
> spice things up?
> > >>>>
> > >>>>
> > >>>> Any thoughts on
> > >>>>
> > >>>>=20
> http://www.ietf.org/internet-drafts/draft-burger-sip-info-01.txt
> > >>>>
> > >>>> ???
> > >>>>
> > >>>> If you like it, say so.  If you hate it, say so.
> > >>>>
> > >>>> Text welcome.
> > >>>>
> > >>>>
> > >>>> Notice:  This email message, together with any=20
> attachments, may=20
> > >>>> contain information  of  BEA Systems,  Inc.,  its
> > >> subsidiaries  and
> > >>>> affiliated entities,  that may be confidential,  proprietary,=20
> > >>>> copyrighted  and/or legally privileged, and is intended solely=20
> > >>>> for the use of the individual or entity named in this message.
> > >> If you are
> > >>>> not the intended recipient, and have received this message
> > >> in error,
> > >>>> please immediately return this by email and then delete it.
> > >>>>
> > >>>>
> > >>>> _______________________________________________
> > >>>> Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
> > >>>> This list is for NEW development of the core SIP Protocol Use=20
> > >>>> sip-implementors@cs.columbia.edu for questions on=20
> current sip Use=20
> > >>>> sipping@ietf.org for new developments on the application of sip
> > >>>
> > >>>
> > >>
> > >>
> > >>
> > >> Notice:  This email message, together with any attachments, may=20
> > >> contain information  of  BEA Systems,  Inc.,  its=20
> subsidiaries  and =20
> > >> affiliated entities,  that may be confidential,  proprietary, =20
> > >> copyrighted  and/or legally privileged, and is intended=20
> solely for=20
> > >> the use of the individual or entity named in this=20
> message. If you=20
> > >> are not the intended recipient, and have received this=20
> message in=20
> > >> error, please immediately return this by email and then=20
> delete it.
> > >>
> > >>
> > >> _______________________________________________
> > >> Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
> > >> This list is for NEW development of the core SIP Protocol Use=20
> > >> sip-implementors@cs.columbia.edu for questions on=20
> current sip Use=20
> > >> sipping@ietf.org for new developments on the application of sip
> > >>
> > >
> >=20
> >=20
> >=20
> > Notice:  This email message, together with any attachments, may=20
> > contain information  of  BEA Systems,  Inc.,  its=20
> subsidiaries  and =20
> > affiliated entities,  that may be confidential,  proprietary, =20
> > copyrighted  and/or legally privileged, and is intended=20
> solely for the=20
> > use of the individual or entity named in this message. If=20
> you are not=20
> > the intended recipient, and have received this message in error,=20
> > please immediately return this by email and then delete it.
> >=20
> >=20
> > _______________________________________________
> > Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
> > This list is for NEW development of the core SIP Protocol Use=20
> > sip-implementors@cs.columbia.edu for questions on current sip Use=20
> > sipping@ietf.org for new developments on the application of sip
>=20
>=20


_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Fri Sep 07 16:55:47 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1ITkq2-0001gn-A1; Fri, 07 Sep 2007 16:54:02 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1ITkq0-0001gh-F4
	for sip-confirm+ok@megatron.ietf.org; Fri, 07 Sep 2007 16:54:00 -0400
Received: from [10.91.34.44] (helo=ietf-mx.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1ITkq0-0001gZ-5R
	for sip@ietf.org; Fri, 07 Sep 2007 16:54:00 -0400
Received: from ext-sendmail1.labs.att.com ([205.173.58.19]
	helo=sendmail1.labs.att.com)
	by ietf-mx.ietf.org with esmtp (Exim 4.43) id 1ITkpy-0003kF-PD
	for sip@ietf.org; Fri, 07 Sep 2007 16:54:00 -0400
Received: from labs.att.com (internet-austin-webdmz.labs.sbc.com
	[144.60.9.139])
	by sendmail1.labs.att.com (8.14.1/8.13.1) with ESMTP id l87KrodT006700; 
	Fri, 7 Sep 2007 15:53:50 -0500
Received: from TSMAIL.ad.tri.sbc.com (tsmail [144.60.55.228])
	by labs.att.com (8.14.1/8.13.1) with ESMTP id l87KroL0002423;
	Fri, 7 Sep 2007 15:53:50 -0500
Received: from TSMAIL2.ad.tri.sbc.com ([144.60.55.226]) by
	TSMAIL.ad.tri.sbc.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Fri, 7 Sep 2007 15:53:49 -0500
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: [Sip] INFO
Date: Fri, 7 Sep 2007 15:53:49 -0500
Message-ID: <0CED449E95A92A42991EB71B778C17BF05F40C09@TSMAIL2.ad.tri.sbc.com>
In-Reply-To: <000c01c7f18c$b0723a60$800101df@acmepacket.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] INFO
Thread-Index: AcfkO3T4s2cG+lAuEdy/WQAWy4mm/wHUBx+wAOMs5UkADqmUsAAKRtNuAIKOB0AAAmanQA==
References: <1ECE0EB50388174790F9694F77522CCF11DF8FEF@zrc2hxm0.corp.nortel.com><C30389ED.A8BE%eburger@bea.com>
	<000c01c7f18c$b0723a60$800101df@acmepacket.com>
From: "Jackson, James" <james_jackson@labs.att.com>
To: "Hadriel Kaplan" <HKaplan@acmepacket.com>, "Eric Burger" <eburger@bea.com>,
	"Francois Audet" <audet@nortel.com>
X-OriginalArrivalTime: 07 Sep 2007 20:53:49.0557 (UTC)
	FILETIME=[30DB2A50:01C7F191]
X-Spam-Score: 0.0 (/)
X-Scan-Signature: 2b3349545af520ba354ccdc9e1a03fc1
Cc: sip <sip@ietf.org>
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org


For the majority of call flows, I would expect RFC2833/4733 to be
sufficient, especially for applications like voicemail. However, it is
insufficient when you get into more complex scenarios like attended call
transfers where the media is ideally released but the App must still
process DTMF (ex. transferee hits key to disconnect transfer target and
return to menu). It seems that the best solution would be to use RFC2833
and only subscribe to KPML as needed.

James

-----Original Message-----
From: Hadriel Kaplan [mailto:HKaplan@acmepacket.com]=20
Sent: Friday, September 07, 2007 3:22 PM
To: 'Eric Burger'; 'Francois Audet'
Cc: 'sip'
Subject: RE: [Sip] INFO

But there are cases where the KPML model is vastly greater overhead. =20

Consider a typical voicemail server.  For calls to the voicemail server
to
retrieve messages, KPML is probably good because you can define a digit
map
for the mailbox number and password which would reduce overall message
counts.  But for calls to leave a voicemail (which I assume greatly
outnumber those to retrieve them, but you would know more about that
than
I), KPML has to create a subscription for every single call, just in
case
the caller happens to press some optional dtmf that the voicemail app
supports.  For each and every call, a subscription has to be routed and
its
state saved by stateful proxies along the path to the UAs, even though
only
a small fraction of the calls ever press a DTMF button. =20

But of course that voicemail server could just do 2833/4733 instead, if
the
UA's supported it.  So then consider a SIP to PSTN or H.323 gateway.
The
PSTN or H.323 gateway has no knowledge that one call needs DTMF vs.
another
- it has to send and receive them for all calls.  It could use
2833/4733,
but very few H.323 devices support 2833, and for whatever reason some
PSTN
gateways don't either. (MGCP-controlled ones I think)  So the gateway or
its
controller would have to KPML-subscribe for every single call from SIP
to
the PSTN or H.323 side, with no real digit map possible.  The amount of
dialog state and messaging for DTMF would actually get somewhere near
that
required for the actual call signaling, and yet only a fraction of the
calls
would ever send a single DTMF tone!

And that's the basic issue.  For applications where the probability of
DTMF
actually being sent is very high, and for which digit mapping can save
messages, KPML makes sense (if everyone supported it).  But those are
the
kind of applications where the extra cost of additional messaging caused
by
INFO is actually warranted - you have an app that needs a lot of
messaging,
then you pay the price for it.  But conversely for other apps, ones
which
don't need much dtmf, expecting them to pay the overhead penalty for a
KPML
model makes no sense.=20

-hadriel

> -----Original Message-----
> From: Eric Burger [mailto:eburger@bea.com]
> Sent: Wednesday, September 05, 2007 1:17 AM
> To: Francois Audet
> Cc: sip
> Subject: Re: [Sip] INFO
>=20
> I would offer this is "apples-to-apples":
>=20
> If INFO is buffering digits, you have to tell it to, e.g., register a
> digit
> map.  In that case, INFO loses a packet round-trip, KPML is all of one
> extra
> round trip.  Small price to pay for interoperability.
>=20
> If one uses the pattern <regex>.</regex>, then KPML is all of two
extra
> round trips.  I agree, that could be "bad" if you have a VERY large
volume
> of instances where one is polling for a single digit.  However, if you
do
> not have a large volume of instances of a single digit, the overhead
is
> insignificant.  On the contrary, if you have any decent number of
digits
> being collected one-by-one, then I would offer the two subscription
> round-trips get swamped by the number of digit reports, and the fact a
> KPML
> digit report is 7% larger than the most ideal INFO message (which, by
the
> way, I don't think anyone has implemented), that is noise, as well.
>=20
>=20
> On 9/4/07 5:30 PM, "Francois Audet" <audet@nortel.com> wrote:
>=20
> > Well, that's because you use the worst-case for INFO, and the best
case
> > for
> > KPML. Namely:
> >
> > - Your example uses 1 message per digit for INFO. There is nothing
that
> >   prevents you from sending *69 in one INFO message.
> >
> > - Your example also uses the pattern mapping feature of KPML to
> > "optimize"
> >   the number of message.
> >
> > My best guess is that in common deployment, what people are likely
to
> > use is:
> >
> > - INFO with 1 digit per message (as per your example)
> >
> > - KPML with reporting of every digit pressed (unlike your example)
> >
> > So in this case INFO actually wins in all cases.
> >
> > Now, don't get me wrong: I'm not advocating the use of INFO for
digit
> > mapping. I just
> > think this analysis is more theoretical than real.
> >
> > And I'm quite unconvinced that digit pressing is a big factor in
> > "computing power requirement" for the servers providing those
services.
> >
> > In short, I don't think "efficiency" is the main factor here.
> >
> >> -----Original Message-----
> >> From: Eric Burger [mailto:eburger@bea.com]
> >> Sent: Tuesday, September 04, 2007 13:23
> >> To: Hadriel Kaplan
> >> Cc: sip
> >> Subject: Re: [Sip] INFO
> >>
> >> I have not checked, but I think IEEE journal papers run about
> >> US $5.  You can get a monthly subscription that makes the
> >> rate way lower.  Your company probably has a corporate
> >> subscription, or someone there most likely has an IEEE
> >> Digital Library subscription, so again, the papers should be paid
for.
> >>
> >> Since the IEEE has a serious self-plagiarism policy, here is
> >> a *different* way for seeing how KPML wins.
> >>
> >> The vast bulk of a SIP message in a non-trivial network
> >> (i.e., with one or more proxies) is the routing information
> >> (URI's, Via's, Route's, etc.).
> >> Sure, a Zebarth INFO (the absolute smallest encoding for a
> >> DTMF digit) of 2 bytes is much smaller than a KPML NOTIFY,
> >> which can easily be 70 bytes.
> >> However, when you have 1000 bytes of headers, 1002 and 1070
> >> are pretty much the same.
> >>
> >> Given that, let us look at the counts.
> >>
> >> KPML:
> >> SUBSCRIBE (SIP Message)
> >> Immediate NOTIFY (SIP Message)
> >> Digit NOTIFY's...
> >>
> >> DTMF:
> >> Digit INFO's...
> >>
> >> What does this mean?  It means that if you are on a shared
> >> media network (wireless or 5BaseT), where each direction
> >> counts, we have:
> >>
> >>                DTMF          KPML
> >> # digits    # packets     # packets
> >>     1            1            3
> >>     2            2            3
> >>     3            3            3       Common Star Codes (e.g., *69)
> >>     4            4            3       Common PINs
> >>     5            5            3
> >>     6            6            3       Also common PINs
> >>     7            7            3
> >>     8            8            3
> >>     9            9            3
> >>    10           10            3       Common Supplementary
> >> Phone Number
> >>    11           11            3       Common Supplementary
> >> Phone Number
> >>
> >> One can quibble as to whether the cross over is at 3 or 4
> >> digits, since KPML packets are slightly larger than INFO
> >> packets.  However, at 3 digits the argument goes in favor of
> >> a mechanism with negotiation, content security, dialog
> >> security, works for HERFP, etc., etc.
> >>
> >> At 4 digits, KPML unquestionably uses less bandwidth.
> >>
> >> Of course, the numbers are even better for KPML on non-shared
> >> media networks.
> >>
> >>
> >> On 8/31/07 1:41 AM, "Hadriel Kaplan" <HKaplan@acmepacket.com>
wrote:
> >>
> >>> Hey Eric,
> >>> I read the draft and was especially interested in the claim
> >> that KPML
> >>> consumed less bandwidth than INFO for DTMF.  You cite an
> >> IEEE paper,
> >>> but I don't think that's freely available.  Can you
> >> summarize how you
> >>> came to such a conclusion?  When I do the numbers, KPML
> >> often loses...
> >>> in some scenarios by a LOT.  And it's not even just the extra
> >>> bandwidth/messages, but also the state and processing horsepower.
> >>> There is one scenario where KPML wins, for some SIP boxes
> >> but not others.
> >>> Although that could all be because I either don't correctly
> >> understand
> >>> the actual way KPML would be used, or because the use cases I am
> >>> concerned with are not the same as those in your paper's analysis.
> >>>
> >>> -hadriel
> >>>
> >>>
> >>>> -----Original Message-----
> >>>> From: Eric Burger [mailto:eburger@bea.com]
> >>>> Sent: Tuesday, August 21, 2007 5:37 PM
> >>>> To: 'sip'
> >>>> Subject: [Sip] INFO
> >>>>
> >>>> Since list traffic is down, how about something to spice things
up?
> >>>>
> >>>>
> >>>> Any thoughts on
> >>>>
> >>>> http://www.ietf.org/internet-drafts/draft-burger-sip-info-01.txt
> >>>>
> >>>> ???
> >>>>
> >>>> If you like it, say so.  If you hate it, say so.
> >>>>
> >>>> Text welcome.
> >>>>
> >>>>
> >>>> Notice:  This email message, together with any attachments, may
> >>>> contain information  of  BEA Systems,  Inc.,  its
> >> subsidiaries  and
> >>>> affiliated entities,  that may be confidential,  proprietary,
> >>>> copyrighted  and/or legally privileged, and is intended solely
for
> >>>> the use of the individual or entity named in this message.
> >> If you are
> >>>> not the intended recipient, and have received this message
> >> in error,
> >>>> please immediately return this by email and then delete it.
> >>>>
> >>>>
> >>>> _______________________________________________
> >>>> Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
> >>>> This list is for NEW development of the core SIP Protocol Use
> >>>> sip-implementors@cs.columbia.edu for questions on current sip Use
> >>>> sipping@ietf.org for new developments on the application of sip
> >>>
> >>>
> >>
> >>
> >>
> >> Notice:  This email message, together with any attachments,
> >> may contain information  of  BEA Systems,  Inc.,  its
> >> subsidiaries  and  affiliated entities,  that may be
> >> confidential,  proprietary,  copyrighted  and/or legally
> >> privileged, and is intended solely for the use of the
> >> individual or entity named in this message. If you are not
> >> the intended recipient, and have received this message in
> >> error, please immediately return this by email and then delete it.
> >>
> >>
> >> _______________________________________________
> >> Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
> >> This list is for NEW development of the core SIP Protocol Use
> >> sip-implementors@cs.columbia.edu for questions on current sip
> >> Use sipping@ietf.org for new developments on the application of sip
> >>
> >
>=20
>=20
>=20
> Notice:  This email message, together with any attachments, may
contain
> information  of  BEA Systems,  Inc.,  its subsidiaries  and
affiliated
> entities,  that may be confidential,  proprietary,  copyrighted
and/or
> legally privileged, and is intended solely for the use of the
individual
> or entity named in this message. If you are not the intended
recipient,
> and have received this message in error, please immediately return
this by
> email and then delete it.
>=20
>=20
> _______________________________________________
> Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip



_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Fri Sep 07 17:02:24 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1ITkwQ-0000Cf-8L; Fri, 07 Sep 2007 17:00:38 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1ITkwN-0008Uh-MD
	for sip-confirm+ok@megatron.ietf.org; Fri, 07 Sep 2007 17:00:35 -0400
Received: from [10.90.34.44] (helo=chiedprmail1.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1ITkwN-0008SF-95
	for sip@ietf.org; Fri, 07 Sep 2007 17:00:35 -0400
Received: from repmmg02.bea.com ([66.248.192.39])
	by chiedprmail1.ietf.org with esmtp (Exim 4.43) id 1ITkwL-0008ME-R7
	for sip@ietf.org; Fri, 07 Sep 2007 17:00:35 -0400
Received: from repmmr01.bea.com (repmmr01.bea.com [10.160.29.71])
	by repmmg02.bea.com (Switch-3.2.7/Switch-3.2.7) with ESMTP id
	l87L0SsS003569; Fri, 7 Sep 2007 14:00:28 -0700
Received: from repbex01.amer.bea.com (repbex01.bea.com [10.160.26.98])
	by repmmr01.bea.com (Switch-3.2.7/Switch-3.2.7) with ESMTP id
	l87L0MQA026271; Fri, 7 Sep 2007 14:00:27 -0700
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Subject: RE: [Sip] INFO
Date: Fri, 7 Sep 2007 13:59:58 -0700
Message-ID: <A5E9CBACB726CB4BAA3DAFF0925C188F01810329@repbex01.amer.bea.com>
In-Reply-To: <000c01c7f18c$b0723a60$800101df@acmepacket.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] INFO
Thread-Index: AcfkO3T4s2cG+lAuEdy/WQAWy4mm/wHUBx+wAOMs5UkADqmUsAAKRtNuAIKOB0AAAqJ7AA==
References: <1ECE0EB50388174790F9694F77522CCF11DF8FEF@zrc2hxm0.corp.nortel.com>
	<C30389ED.A8BE%eburger@bea.com>
	<000c01c7f18c$b0723a60$800101df@acmepacket.com>
From: "Eric Burger" <eburger@bea.com>
To: "Hadriel Kaplan" <HKaplan@acmepacket.com>
x-BEA-PMX-Instructions: AV
x-BEA-MM: Internal-To-External
X-Spam-Score: 0.0 (/)
X-Scan-Signature: 3f2cf88677bfbdeff30feb2c80e2257d
Cc: sip <sip@ietf.org>
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

Ding, ding, ding!!!

KPML is NOT for IVR.  INFO and KMPL lose terribly to VoiceXML (or MSCML
or MSML).

However, if you really want to recreate the PSTN...

Consider a PSTN call.  The call goes from the gateway to softswitch /
Proxy.  Proxy routes to VM App Server.  INFO has to pass through
softswitch / Proxy.  In KPML-land, VM App Server *directly* subscribes
to UAC key press state, bypassing the softswitch.  KPML and INFO have
the same number of messages for a SINGLE digit; KPML wins hands-down for
multiple digits or reports.

More importantly, let's take a Call Management (CM) application that
calls a VM application when they cannot find the subscriber.  INFO has
to pass through the softswitch / Proxy to the CM application.  Cool - it
is a proxy, so it knows to relay.  But OOPS!  The CM application has to
proxy the INFOs to the VM application.  Yes - you could be a good
programmer and remember to do that EVERYWHERE you place an outbound
call, but it is really easy to get wrong.  In KPML-land, the VM
application server not only *directly* subscribes to the UAC key press
state, but it will NOT get the key presses (like the ubiquitous long-#)
that are for the CM application.  Likewise, the CM application, which is
ONLY looking for long-#, won't get all of the VM key presses.  That
scenario is where KPML really kicks-butt.

By the way, I am deliberately using the provocative "softswitch" term
:-)

-----Original Message-----
From: Hadriel Kaplan [mailto:HKaplan@acmepacket.com] 
Sent: Friday, September 07, 2007 4:22 PM
To: Eric Burger; 'Francois Audet'
Cc: 'sip'
Subject: RE: [Sip] INFO

But there are cases where the KPML model is vastly greater overhead.  

Consider a typical voicemail server.  For calls to the voicemail server
to retrieve messages, KPML is probably good because you can define a
digit map for the mailbox number and password which would reduce overall
message counts.  But for calls to leave a voicemail (which I assume
greatly outnumber those to retrieve them, but you would know more about
that than I), KPML has to create a subscription for every single call,
just in case the caller happens to press some optional dtmf that the
voicemail app supports.  For each and every call, a subscription has to
be routed and its state saved by stateful proxies along the path to the
UAs, even though only a small fraction of the calls ever press a DTMF
button.  

But of course that voicemail server could just do 2833/4733 instead, if
the UA's supported it.  So then consider a SIP to PSTN or H.323 gateway.
The PSTN or H.323 gateway has no knowledge that one call needs DTMF vs.
another
- it has to send and receive them for all calls.  It could use
2833/4733, but very few H.323 devices support 2833, and for whatever
reason some PSTN gateways don't either. (MGCP-controlled ones I think)
So the gateway or its controller would have to KPML-subscribe for every
single call from SIP to the PSTN or H.323 side, with no real digit map
possible.  The amount of dialog state and messaging for DTMF would
actually get somewhere near that required for the actual call signaling,
and yet only a fraction of the calls would ever send a single DTMF tone!

And that's the basic issue.  For applications where the probability of
DTMF actually being sent is very high, and for which digit mapping can
save messages, KPML makes sense (if everyone supported it).  But those
are the kind of applications where the extra cost of additional
messaging caused by INFO is actually warranted - you have an app that
needs a lot of messaging, then you pay the price for it.  But conversely
for other apps, ones which don't need much dtmf, expecting them to pay
the overhead penalty for a KPML model makes no sense. 

-hadriel

> -----Original Message-----
> From: Eric Burger [mailto:eburger@bea.com]
> Sent: Wednesday, September 05, 2007 1:17 AM
> To: Francois Audet
> Cc: sip
> Subject: Re: [Sip] INFO
> 
> I would offer this is "apples-to-apples":
> 
> If INFO is buffering digits, you have to tell it to, e.g., register a 
> digit map.  In that case, INFO loses a packet round-trip, KPML is all 
> of one extra round trip.  Small price to pay for interoperability.
> 
> If one uses the pattern <regex>.</regex>, then KPML is all of two 
> extra round trips.  I agree, that could be "bad" if you have a VERY 
> large volume of instances where one is polling for a single digit.  
> However, if you do not have a large volume of instances of a single 
> digit, the overhead is insignificant.  On the contrary, if you have 
> any decent number of digits being collected one-by-one, then I would 
> offer the two subscription round-trips get swamped by the number of 
> digit reports, and the fact a KPML digit report is 7% larger than the 
> most ideal INFO message (which, by the way, I don't think anyone has 
> implemented), that is noise, as well.
> 
> 
> On 9/4/07 5:30 PM, "Francois Audet" <audet@nortel.com> wrote:
> 
> > Well, that's because you use the worst-case for INFO, and the best 
> > case for KPML. Namely:
> >
> > - Your example uses 1 message per digit for INFO. There is nothing
that
> >   prevents you from sending *69 in one INFO message.
> >
> > - Your example also uses the pattern mapping feature of KPML to 
> > "optimize"
> >   the number of message.
> >
> > My best guess is that in common deployment, what people are likely 
> > to use is:
> >
> > - INFO with 1 digit per message (as per your example)
> >
> > - KPML with reporting of every digit pressed (unlike your example)
> >
> > So in this case INFO actually wins in all cases.
> >
> > Now, don't get me wrong: I'm not advocating the use of INFO for 
> > digit mapping. I just think this analysis is more theoretical than 
> > real.
> >
> > And I'm quite unconvinced that digit pressing is a big factor in 
> > "computing power requirement" for the servers providing those
services.
> >
> > In short, I don't think "efficiency" is the main factor here.
> >
> >> -----Original Message-----
> >> From: Eric Burger [mailto:eburger@bea.com]
> >> Sent: Tuesday, September 04, 2007 13:23
> >> To: Hadriel Kaplan
> >> Cc: sip
> >> Subject: Re: [Sip] INFO
> >>
> >> I have not checked, but I think IEEE journal papers run about US 
> >> $5.  You can get a monthly subscription that makes the rate way 
> >> lower.  Your company probably has a corporate subscription, or 
> >> someone there most likely has an IEEE Digital Library subscription,

> >> so again, the papers should be paid for.
> >>
> >> Since the IEEE has a serious self-plagiarism policy, here is a 
> >> *different* way for seeing how KPML wins.
> >>
> >> The vast bulk of a SIP message in a non-trivial network (i.e., with

> >> one or more proxies) is the routing information (URI's, Via's, 
> >> Route's, etc.).
> >> Sure, a Zebarth INFO (the absolute smallest encoding for a DTMF 
> >> digit) of 2 bytes is much smaller than a KPML NOTIFY, which can 
> >> easily be 70 bytes.
> >> However, when you have 1000 bytes of headers, 1002 and 1070 are 
> >> pretty much the same.
> >>
> >> Given that, let us look at the counts.
> >>
> >> KPML:
> >> SUBSCRIBE (SIP Message)
> >> Immediate NOTIFY (SIP Message)
> >> Digit NOTIFY's...
> >>
> >> DTMF:
> >> Digit INFO's...
> >>
> >> What does this mean?  It means that if you are on a shared media 
> >> network (wireless or 5BaseT), where each direction counts, we have:
> >>
> >>                DTMF          KPML
> >> # digits    # packets     # packets
> >>     1            1            3
> >>     2            2            3
> >>     3            3            3       Common Star Codes (e.g., *69)
> >>     4            4            3       Common PINs
> >>     5            5            3
> >>     6            6            3       Also common PINs
> >>     7            7            3
> >>     8            8            3
> >>     9            9            3
> >>    10           10            3       Common Supplementary
> >> Phone Number
> >>    11           11            3       Common Supplementary
> >> Phone Number
> >>
> >> One can quibble as to whether the cross over is at 3 or 4 digits, 
> >> since KPML packets are slightly larger than INFO packets.  However,

> >> at 3 digits the argument goes in favor of a mechanism with 
> >> negotiation, content security, dialog security, works for HERFP, 
> >> etc., etc.
> >>
> >> At 4 digits, KPML unquestionably uses less bandwidth.
> >>
> >> Of course, the numbers are even better for KPML on non-shared media

> >> networks.
> >>
> >>
> >> On 8/31/07 1:41 AM, "Hadriel Kaplan" <HKaplan@acmepacket.com>
wrote:
> >>
> >>> Hey Eric,
> >>> I read the draft and was especially interested in the claim
> >> that KPML
> >>> consumed less bandwidth than INFO for DTMF.  You cite an
> >> IEEE paper,
> >>> but I don't think that's freely available.  Can you
> >> summarize how you
> >>> came to such a conclusion?  When I do the numbers, KPML
> >> often loses...
> >>> in some scenarios by a LOT.  And it's not even just the extra 
> >>> bandwidth/messages, but also the state and processing horsepower.
> >>> There is one scenario where KPML wins, for some SIP boxes
> >> but not others.
> >>> Although that could all be because I either don't correctly
> >> understand
> >>> the actual way KPML would be used, or because the use cases I am 
> >>> concerned with are not the same as those in your paper's analysis.
> >>>
> >>> -hadriel
> >>>
> >>>
> >>>> -----Original Message-----
> >>>> From: Eric Burger [mailto:eburger@bea.com]
> >>>> Sent: Tuesday, August 21, 2007 5:37 PM
> >>>> To: 'sip'
> >>>> Subject: [Sip] INFO
> >>>>
> >>>> Since list traffic is down, how about something to spice things
up?
> >>>>
> >>>>
> >>>> Any thoughts on
> >>>>
> >>>> http://www.ietf.org/internet-drafts/draft-burger-sip-info-01.txt
> >>>>
> >>>> ???
> >>>>
> >>>> If you like it, say so.  If you hate it, say so.
> >>>>
> >>>> Text welcome.
> >>>>
> >>>>
> >>>> Notice:  This email message, together with any attachments, may 
> >>>> contain information  of  BEA Systems,  Inc.,  its
> >> subsidiaries  and
> >>>> affiliated entities,  that may be confidential,  proprietary, 
> >>>> copyrighted  and/or legally privileged, and is intended solely 
> >>>> for the use of the individual or entity named in this message.
> >> If you are
> >>>> not the intended recipient, and have received this message
> >> in error,
> >>>> please immediately return this by email and then delete it.
> >>>>
> >>>>
> >>>> _______________________________________________
> >>>> Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
> >>>> This list is for NEW development of the core SIP Protocol Use 
> >>>> sip-implementors@cs.columbia.edu for questions on current sip Use

> >>>> sipping@ietf.org for new developments on the application of sip
> >>>
> >>>
> >>
> >>
> >>
> >> Notice:  This email message, together with any attachments, may 
> >> contain information  of  BEA Systems,  Inc.,  its subsidiaries  and

> >> affiliated entities,  that may be confidential,  proprietary,  
> >> copyrighted  and/or legally privileged, and is intended solely for 
> >> the use of the individual or entity named in this message. If you 
> >> are not the intended recipient, and have received this message in 
> >> error, please immediately return this by email and then delete it.
> >>
> >>
> >> _______________________________________________
> >> Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
> >> This list is for NEW development of the core SIP Protocol Use 
> >> sip-implementors@cs.columbia.edu for questions on current sip Use 
> >> sipping@ietf.org for new developments on the application of sip
> >>
> >
> 
> 
> 
> Notice:  This email message, together with any attachments, may 
> contain information  of  BEA Systems,  Inc.,  its subsidiaries  and  
> affiliated entities,  that may be confidential,  proprietary,  
> copyrighted  and/or legally privileged, and is intended solely for the

> use of the individual or entity named in this message. If you are not 
> the intended recipient, and have received this message in error, 
> please immediately return this by email and then delete it.
> 
> 
> _______________________________________________
> Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol Use 
> sip-implementors@cs.columbia.edu for questions on current sip Use 
> sipping@ietf.org for new developments on the application of sip


Notice:  This email message, together with any attachments, may contain information  of  BEA Systems,  Inc.,  its subsidiaries  and  affiliated entities,  that may be confidential,  proprietary,  copyrighted  and/or legally privileged, and is intended solely for the use of the individual or entity named in this message. If you are not the intended recipient, and have received this message in error, please immediately return this by email and then delete it.


_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Fri Sep 07 17:03:42 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1ITkxg-0001fm-Nr; Fri, 07 Sep 2007 17:01:56 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1ITkxe-0001aK-ON
	for sip-confirm+ok@megatron.ietf.org; Fri, 07 Sep 2007 17:01:54 -0400
Received: from [10.91.34.44] (helo=ietf-mx.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1ITkxe-0001aB-Ef
	for sip@ietf.org; Fri, 07 Sep 2007 17:01:54 -0400
Received: from repmmg02.bea.com ([66.248.192.39])
	by ietf-mx.ietf.org with esmtp (Exim 4.43) id 1ITkxc-0003v5-Ph
	for sip@ietf.org; Fri, 07 Sep 2007 17:01:54 -0400
Received: from repmmr01.bea.com (repmmr01.bea.com [10.160.29.71])
	by repmmg02.bea.com (Switch-3.2.7/Switch-3.2.7) with ESMTP id
	l87L1pSh005805; Fri, 7 Sep 2007 14:01:51 -0700
Received: from repbex01.amer.bea.com (repbex01.bea.com [10.160.26.98])
	by repmmr01.bea.com (Switch-3.2.7/Switch-3.2.7) with ESMTP id
	l87L1fqf028243; Fri, 7 Sep 2007 14:01:50 -0700
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Subject: RE: [Sip] INFO
Date: Fri, 7 Sep 2007 14:01:27 -0700
Message-ID: <A5E9CBACB726CB4BAA3DAFF0925C188F01810333@repbex01.amer.bea.com>
In-Reply-To: <0CED449E95A92A42991EB71B778C17BF05F40C09@TSMAIL2.ad.tri.sbc.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] INFO
Thread-Index: AcfkO3T4s2cG+lAuEdy/WQAWy4mm/wHUBx+wAOMs5UkADqmUsAAKRtNuAIKOB0AAAmanQAAAj49g
References: <1ECE0EB50388174790F9694F77522CCF11DF8FEF@zrc2hxm0.corp.nortel.com><C30389ED.A8BE%eburger@bea.com>
	<000c01c7f18c$b0723a60$800101df@acmepacket.com>
	<0CED449E95A92A42991EB71B778C17BF05F40C09@TSMAIL2.ad.tri.sbc.com>
From: "Eric Burger" <eburger@bea.com>
To: "Jackson, James" <james_jackson@labs.att.com>
x-BEA-PMX-Instructions: AV
x-BEA-MM: Internal-To-External
X-Spam-Score: 0.0 (/)
X-Scan-Signature: 3b8eea209b62bd15620865bc4fbef8cd
Cc: sip <sip@ietf.org>
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

RFC 4733 requires a media path to the application.  As a former Media
Server vendor, I think that is a great idea.  However, as a current
Application Server vendor, I am not looking to raise the cost of
deployment. 

-----Original Message-----
From: Jackson, James [mailto:james_jackson@labs.att.com] 
Sent: Friday, September 07, 2007 4:54 PM
To: Hadriel Kaplan; Eric Burger; Francois Audet
Cc: sip
Subject: RE: [Sip] INFO


For the majority of call flows, I would expect RFC2833/4733 to be
sufficient, especially for applications like voicemail. However, it is
insufficient when you get into more complex scenarios like attended call
transfers where the media is ideally released but the App must still
process DTMF (ex. transferee hits key to disconnect transfer target and
return to menu). It seems that the best solution would be to use RFC2833
and only subscribe to KPML as needed.

James

-----Original Message-----
From: Hadriel Kaplan [mailto:HKaplan@acmepacket.com]
Sent: Friday, September 07, 2007 3:22 PM
To: 'Eric Burger'; 'Francois Audet'
Cc: 'sip'
Subject: RE: [Sip] INFO

But there are cases where the KPML model is vastly greater overhead.  

Consider a typical voicemail server.  For calls to the voicemail server
to retrieve messages, KPML is probably good because you can define a
digit map for the mailbox number and password which would reduce overall
message counts.  But for calls to leave a voicemail (which I assume
greatly outnumber those to retrieve them, but you would know more about
that than I), KPML has to create a subscription for every single call,
just in case the caller happens to press some optional dtmf that the
voicemail app supports.  For each and every call, a subscription has to
be routed and its state saved by stateful proxies along the path to the
UAs, even though only a small fraction of the calls ever press a DTMF
button.  

But of course that voicemail server could just do 2833/4733 instead, if
the UA's supported it.  So then consider a SIP to PSTN or H.323 gateway.
The
PSTN or H.323 gateway has no knowledge that one call needs DTMF vs.
another
- it has to send and receive them for all calls.  It could use
2833/4733, but very few H.323 devices support 2833, and for whatever
reason some PSTN gateways don't either. (MGCP-controlled ones I think)
So the gateway or its controller would have to KPML-subscribe for every
single call from SIP to the PSTN or H.323 side, with no real digit map
possible.  The amount of dialog state and messaging for DTMF would
actually get somewhere near that required for the actual call signaling,
and yet only a fraction of the calls would ever send a single DTMF tone!

And that's the basic issue.  For applications where the probability of
DTMF actually being sent is very high, and for which digit mapping can
save messages, KPML makes sense (if everyone supported it).  But those
are the kind of applications where the extra cost of additional
messaging caused by INFO is actually warranted - you have an app that
needs a lot of messaging, then you pay the price for it.  But conversely
for other apps, ones which don't need much dtmf, expecting them to pay
the overhead penalty for a KPML model makes no sense. 

-hadriel

> -----Original Message-----
> From: Eric Burger [mailto:eburger@bea.com]
> Sent: Wednesday, September 05, 2007 1:17 AM
> To: Francois Audet
> Cc: sip
> Subject: Re: [Sip] INFO
> 
> I would offer this is "apples-to-apples":
> 
> If INFO is buffering digits, you have to tell it to, e.g., register a 
> digit map.  In that case, INFO loses a packet round-trip, KPML is all 
> of one extra round trip.  Small price to pay for interoperability.
> 
> If one uses the pattern <regex>.</regex>, then KPML is all of two
extra
> round trips.  I agree, that could be "bad" if you have a VERY large
volume
> of instances where one is polling for a single digit.  However, if you
do
> not have a large volume of instances of a single digit, the overhead
is
> insignificant.  On the contrary, if you have any decent number of
digits
> being collected one-by-one, then I would offer the two subscription 
> round-trips get swamped by the number of digit reports, and the fact a

> KPML digit report is 7% larger than the most ideal INFO message 
> (which, by
the
> way, I don't think anyone has implemented), that is noise, as well.
> 
> 
> On 9/4/07 5:30 PM, "Francois Audet" <audet@nortel.com> wrote:
> 
> > Well, that's because you use the worst-case for INFO, and the best
case
> > for
> > KPML. Namely:
> >
> > - Your example uses 1 message per digit for INFO. There is nothing
that
> >   prevents you from sending *69 in one INFO message.
> >
> > - Your example also uses the pattern mapping feature of KPML to 
> > "optimize"
> >   the number of message.
> >
> > My best guess is that in common deployment, what people are likely
to
> > use is:
> >
> > - INFO with 1 digit per message (as per your example)
> >
> > - KPML with reporting of every digit pressed (unlike your example)
> >
> > So in this case INFO actually wins in all cases.
> >
> > Now, don't get me wrong: I'm not advocating the use of INFO for
digit
> > mapping. I just
> > think this analysis is more theoretical than real.
> >
> > And I'm quite unconvinced that digit pressing is a big factor in 
> > "computing power requirement" for the servers providing those
services.
> >
> > In short, I don't think "efficiency" is the main factor here.
> >
> >> -----Original Message-----
> >> From: Eric Burger [mailto:eburger@bea.com]
> >> Sent: Tuesday, September 04, 2007 13:23
> >> To: Hadriel Kaplan
> >> Cc: sip
> >> Subject: Re: [Sip] INFO
> >>
> >> I have not checked, but I think IEEE journal papers run about US 
> >> $5.  You can get a monthly subscription that makes the rate way 
> >> lower.  Your company probably has a corporate subscription, or 
> >> someone there most likely has an IEEE Digital Library subscription,

> >> so again, the papers should be paid
for.
> >>
> >> Since the IEEE has a serious self-plagiarism policy, here is a 
> >> *different* way for seeing how KPML wins.
> >>
> >> The vast bulk of a SIP message in a non-trivial network (i.e., with

> >> one or more proxies) is the routing information (URI's, Via's, 
> >> Route's, etc.).
> >> Sure, a Zebarth INFO (the absolute smallest encoding for a DTMF 
> >> digit) of 2 bytes is much smaller than a KPML NOTIFY, which can 
> >> easily be 70 bytes.
> >> However, when you have 1000 bytes of headers, 1002 and 1070 are 
> >> pretty much the same.
> >>
> >> Given that, let us look at the counts.
> >>
> >> KPML:
> >> SUBSCRIBE (SIP Message)
> >> Immediate NOTIFY (SIP Message)
> >> Digit NOTIFY's...
> >>
> >> DTMF:
> >> Digit INFO's...
> >>
> >> What does this mean?  It means that if you are on a shared media 
> >> network (wireless or 5BaseT), where each direction counts, we have:
> >>
> >>                DTMF          KPML
> >> # digits    # packets     # packets
> >>     1            1            3
> >>     2            2            3
> >>     3            3            3       Common Star Codes (e.g., *69)
> >>     4            4            3       Common PINs
> >>     5            5            3
> >>     6            6            3       Also common PINs
> >>     7            7            3
> >>     8            8            3
> >>     9            9            3
> >>    10           10            3       Common Supplementary
> >> Phone Number
> >>    11           11            3       Common Supplementary
> >> Phone Number
> >>
> >> One can quibble as to whether the cross over is at 3 or 4 digits, 
> >> since KPML packets are slightly larger than INFO packets.  However,

> >> at 3 digits the argument goes in favor of a mechanism with 
> >> negotiation, content security, dialog security, works for HERFP, 
> >> etc., etc.
> >>
> >> At 4 digits, KPML unquestionably uses less bandwidth.
> >>
> >> Of course, the numbers are even better for KPML on non-shared media

> >> networks.
> >>
> >>
> >> On 8/31/07 1:41 AM, "Hadriel Kaplan" <HKaplan@acmepacket.com>
wrote:
> >>
> >>> Hey Eric,
> >>> I read the draft and was especially interested in the claim
> >> that KPML
> >>> consumed less bandwidth than INFO for DTMF.  You cite an
> >> IEEE paper,
> >>> but I don't think that's freely available.  Can you
> >> summarize how you
> >>> came to such a conclusion?  When I do the numbers, KPML
> >> often loses...
> >>> in some scenarios by a LOT.  And it's not even just the extra 
> >>> bandwidth/messages, but also the state and processing horsepower.
> >>> There is one scenario where KPML wins, for some SIP boxes
> >> but not others.
> >>> Although that could all be because I either don't correctly
> >> understand
> >>> the actual way KPML would be used, or because the use cases I am 
> >>> concerned with are not the same as those in your paper's analysis.
> >>>
> >>> -hadriel
> >>>
> >>>
> >>>> -----Original Message-----
> >>>> From: Eric Burger [mailto:eburger@bea.com]
> >>>> Sent: Tuesday, August 21, 2007 5:37 PM
> >>>> To: 'sip'
> >>>> Subject: [Sip] INFO
> >>>>
> >>>> Since list traffic is down, how about something to spice things
up?
> >>>>
> >>>>
> >>>> Any thoughts on
> >>>>
> >>>> http://www.ietf.org/internet-drafts/draft-burger-sip-info-01.txt
> >>>>
> >>>> ???
> >>>>
> >>>> If you like it, say so.  If you hate it, say so.
> >>>>
> >>>> Text welcome.
> >>>>
> >>>>
> >>>> Notice:  This email message, together with any attachments, may 
> >>>> contain information  of  BEA Systems,  Inc.,  its
> >> subsidiaries  and
> >>>> affiliated entities,  that may be confidential,  proprietary, 
> >>>> copyrighted  and/or legally privileged, and is intended solely
for
> >>>> the use of the individual or entity named in this message.
> >> If you are
> >>>> not the intended recipient, and have received this message
> >> in error,
> >>>> please immediately return this by email and then delete it.
> >>>>
> >>>>
> >>>> _______________________________________________
> >>>> Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
> >>>> This list is for NEW development of the core SIP Protocol Use 
> >>>> sip-implementors@cs.columbia.edu for questions on current sip Use

> >>>> sipping@ietf.org for new developments on the application of sip
> >>>
> >>>
> >>
> >>
> >>
> >> Notice:  This email message, together with any attachments, may 
> >> contain information  of  BEA Systems,  Inc.,  its subsidiaries  and

> >> affiliated entities,  that may be confidential,  proprietary,  
> >> copyrighted  and/or legally privileged, and is intended solely for 
> >> the use of the individual or entity named in this message. If you 
> >> are not the intended recipient, and have received this message in 
> >> error, please immediately return this by email and then delete it.
> >>
> >>
> >> _______________________________________________
> >> Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
> >> This list is for NEW development of the core SIP Protocol Use 
> >> sip-implementors@cs.columbia.edu for questions on current sip Use 
> >> sipping@ietf.org for new developments on the application of sip
> >>
> >
> 
> 
> 
> Notice:  This email message, together with any attachments, may
contain
> information  of  BEA Systems,  Inc.,  its subsidiaries  and
affiliated
> entities,  that may be confidential,  proprietary,  copyrighted
and/or
> legally privileged, and is intended solely for the use of the
individual
> or entity named in this message. If you are not the intended
recipient,
> and have received this message in error, please immediately return
this by
> email and then delete it.
> 
> 
> _______________________________________________
> Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol Use 
> sip-implementors@cs.columbia.edu for questions on current sip Use 
> sipping@ietf.org for new developments on the application of sip



_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol Use
sip-implementors@cs.columbia.edu for questions on current sip Use
sipping@ietf.org for new developments on the application of sip

Notice:  This email message, together with any attachments, may contain information  of  BEA Systems,  Inc.,  its subsidiaries  and  affiliated entities,  that may be confidential,  proprietary,  copyrighted  and/or legally privileged, and is intended solely for the use of the individual or entity named in this message. If you are not the intended recipient, and have received this message in error, please immediately return this by email and then delete it.


_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Sat Sep 08 07:36:10 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1ITyZp-0000hK-OZ; Sat, 08 Sep 2007 07:34:13 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1ITyZo-0000hF-6a
	for sip-confirm+ok@megatron.ietf.org; Sat, 08 Sep 2007 07:34:12 -0400
Received: from [10.90.34.44] (helo=chiedprmail1.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1ITyZn-0000h6-Ry
	for sip@ietf.org; Sat, 08 Sep 2007 07:34:11 -0400
Received: from ihemail1.lucent.com ([135.245.0.33])
	by chiedprmail1.ietf.org with esmtp (Exim 4.43) id 1ITyZn-0004jy-E9
	for sip@ietf.org; Sat, 08 Sep 2007 07:34:11 -0400
Received: from ilexp01.ndc.lucent.com (h135-3-39-1.lucent.com [135.3.39.1])
	by ihemail1.lucent.com (8.13.8/IER-o) with ESMTP id l88BY749001424
	for <sip@ietf.org>; Sat, 8 Sep 2007 06:34:07 -0500 (CDT)
Received: from DEEXP01.de.lucent.com ([135.248.187.65]) by
	ilexp01.ndc.lucent.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Sat, 8 Sep 2007 06:34:07 -0500
Received: from DEEXC1U01.de.lucent.com ([135.248.187.27]) by
	DEEXP01.de.lucent.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Sat, 8 Sep 2007 13:34:05 +0200
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="ISO-8859-15"
Content-Transfer-Encoding: quoted-printable
Date: Sat, 8 Sep 2007 13:34:05 +0200
Message-ID: <5D1A7985295922448D5550C94DE291800167900B@DEEXC1U01.de.lucent.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Nomcom 2007-8: Nominations Close on Sep 10, 2007
Thread-Index: AcfxiKvwf3EU9VgiRXiYplWy7C/a7AAfxqaQ
From: "DRAGE, Keith \(Keith\)" <drage@alcatel-lucent.com>
To: <sip@ietf.org>
X-OriginalArrivalTime: 08 Sep 2007 11:34:05.0079 (UTC)
	FILETIME=[295C4270:01C7F20C]
X-Scanned-By: MIMEDefang 2.57 on 135.245.2.33
X-Spam-Score: 0.0 (/)
X-Scan-Signature: 3e15cc4fdc61d7bce84032741d11c8e5
Subject: [Sip] FW: Nomcom 2007-8: Nominations Close on Sep 10, 2007
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

Please give due consideration to nominating people who you think would =
be good for the IESG and IAB.

You do not have to gain acceptance of the candidate - that is the =
function of the nomcom to do that.

Remember, these are the people who have to steer your favourite drafts =
through the final approval process before publication. You want the =
right people in these jobs.

Regards

Keith=20

-----Original Message-----
From: Lakshminath Dondeti [mailto:ldondeti@qualcomm.com]=20
Sent: Friday, September 07, 2007 8:53 PM
To: ietf-announce@ietf.org; wgchairs@ietf.org; IESG IESG; IAB IAB
Subject: Nomcom 2007-8: Nominations Close on Sep 10, 2007

WGchairs, IESG and IAB members

Please forward this request to the lists you manage and request feedback =
and nominations.

All,

Here is the link to nominate:=20
https://tools.ietf.org/group/nomcom/07/nominate

You may also send nominations or comments via email to nomcom07@ietf.org =
or ldondeti@qualcomm.com.

We have received very few nominations (1, 2, 2, 2, 3, 4, 8, 8, 19) and =
even fewer accepted (1-2 people in each area, IAB acceptances is 4 at =
last count).

I request the community to provide feedback on the incumbents (send =
email or send notes via the web page).

1) If you think that the incumbent is doing a good job
     a) provide feedback AND
     b) nominate similar people just in case there is strong negative =
feedback on the incumbent

2) If you think the incumbent can do somethings better
    a) provide feedback AND
    b) nominate someone who you think might do better

Candidates, if time commitment is the only issue, please indicate that =
to the nomcom and accept the nominations.

thanks,
Lakshminath



_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Sun Sep 09 03:19:04 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1IUH2O-0004Lh-0P; Sun, 09 Sep 2007 03:16:56 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1IUH2M-0004Gh-KO
	for sip-confirm+ok@megatron.ietf.org; Sun, 09 Sep 2007 03:16:54 -0400
Received: from [10.90.34.44] (helo=chiedprmail1.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1IUH2I-0004BS-In
	for sip@ietf.org; Sun, 09 Sep 2007 03:16:50 -0400
Received: from owa.vocaltec.com ([212.143.64.50]
	helo=mailserver.vocaltec.co.il)
	by chiedprmail1.ietf.org with esmtp (Exim 4.43) id 1IUH2I-00044S-2f
	for sip@ietf.org; Sun, 09 Sep 2007 03:16:50 -0400
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: [Sip] INFO / SIP-T / MediaCtrl
Date: Sun, 9 Sep 2007 10:17:54 +0300
Message-ID: <431F3BDE11BF2F42A22CBEFA36BD88A401774DE2@mailserver.vocaltec.local>
In-Reply-To: <D8A411E49D63A648BFA87E44904FEDCF033C91@gbnewp0758m.eu.ubiquity.net>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] INFO / SIP-T / MediaCtrl
Thread-Index: AcfopsS6ijL/eVSeR7OkrFxhvjEZ1wCqsuc+ABF4AvAA4JbFswAlLCkAAAPXpb8AAFTEcAAB2uzrAABnB8AAJi02QACTpiyA
References: <431F3BDE11BF2F42A22CBEFA36BD88A401774AF7@mailserver.vocaltec.local><C304070A.A91A%eburger@bea.com>
	<431F3BDE11BF2F42A22CBEFA36BD88A401774B46@mailserver.vocaltec.local>
	<D8A411E49D63A648BFA87E44904FEDCF033C91@gbnewp0758m.eu.ubiquity.net>
From: "Bram Verburg" <bram@vocaltec.com>
To: "Chris Boulton" <cboulton@ubiquity.net>
X-Spam-Score: 0.0 (/)
X-Scan-Signature: 21c69d3cfc2dd19218717dbe1d974352
Cc: sip <sip@ietf.org>
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

=20
> The fact that SIP-T says that SIP headers take precedence over the
> ISUP/Q.931 means you can't send the INVITE and the IAM over=20
> separate channels (for example a TCP or Sigtran tunnel for=20
> ISUP) without opening a big can of worms. How do you=20
> synchronize those messages at the receiving end; you'd need=20
> both the INVITE and the tunneled IAM before you can send=20
> something out on the PSTN side.
>=20
> [Chris Boulton] I am struggling to see what the difference is=20
> between passing SIP-T using a potentially un-reliable INFO=20
> and using a reliable channel.  You synchronize the messages=20
> in the same way you synchronize receiving the INFO.=20

For those messages that are today sent using INFO there is no
difference. I was referring to messages being sent in
INVITE/BYE/CANCEL/...

>  How do you even make sure
> those two channels reach the same destination after passing=20
> through proxies, NATs, SBCs, load balancers, etc.?
>=20
> [Chris Boulton] These are all issues that are (and will be)=20
> considered in the MediaCtrl work in drafts like
> http://tools.ietf.org/html/draft-boulton-sip-control-framework
-05 (*note
- new WG version to be submitted this week).  It is already understood
that the solution MUST work in these cases.

I can't help feeling this would be a step back, in a way. I like to
think of SIP-T as an interim solution to speed up the deployment of SIP
technology by service providers who still have one leg (or two,
actually) in the old SS7 world. Over time, as more and more core
networks are migrated to SIP (IMS/TISPAN/...), the need for SIP-T will
disappear.

Apart from the infamous INFO method, I'm still not convinced anything is
'wrong' with SIP-T, and that it needs to be replaced. Especially since,
as others have pointed out, it already seems to be on its way out.

But I must admit that I haven't had a chance yet to read your draft
thoroughly. I'll do that now...

Bram


_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Mon Sep 10 00:19:08 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1IUagr-0003ft-Po; Mon, 10 Sep 2007 00:16:01 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1IUagq-0003fo-Ca
	for sip-confirm+ok@megatron.ietf.org; Mon, 10 Sep 2007 00:16:00 -0400
Received: from [10.90.34.44] (helo=chiedprmail1.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1IUagq-0003fg-1i
	for sip@ietf.org; Mon, 10 Sep 2007 00:16:00 -0400
Received: from zcars04f.nortel.com ([47.129.242.57])
	by chiedprmail1.ietf.org with esmtp (Exim 4.43) id 1IUagp-0007i5-LG
	for sip@ietf.org; Mon, 10 Sep 2007 00:15:59 -0400
Received: from zrc2hxm2.corp.nortel.com (zrc2hxm2.corp.nortel.com
	[47.103.123.73])
	by zcars04f.nortel.com (Switch-2.2.6/Switch-2.2.0) with ESMTP id
	l8A4Fuw02616; Mon, 10 Sep 2007 04:15:56 GMT
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: [Sip] INFO
Date: Sun, 9 Sep 2007 23:15:38 -0500
Message-ID: <6FC4416DDE56C44DA0AEE67BC7CA4371169E8AE8@zrc2hxm2.corp.nortel.com>
In-Reply-To: <000c01c7f18c$b0723a60$800101df@acmepacket.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] INFO
Thread-Index: AcfkO3T4s2cG+lAuEdy/WQAWy4mm/wHUBx+wAOMs5UkADqmUsAAKRtNuAIKOB0AAdotb4A==
References: <1ECE0EB50388174790F9694F77522CCF11DF8FEF@zrc2hxm0.corp.nortel.com>
	<C30389ED.A8BE%eburger@bea.com>
	<000c01c7f18c$b0723a60$800101df@acmepacket.com>
From: "Brian Stucker" <bstucker@nortel.com>
To: "Hadriel Kaplan" <HKaplan@acmepacket.com>, "Eric Burger" <eburger@bea.com>,
	"Francois Audet" <audet@nortel.com>
X-Spam-Score: 0.0 (/)
X-Scan-Signature: bb8f917bb6b8da28fc948aeffb74aa17
Cc: sip <sip@ietf.org>
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

=20

> -----Original Message-----
> From: Hadriel Kaplan [mailto:HKaplan@acmepacket.com]=20
> Sent: Friday, September 07, 2007 3:22 PM
> To: 'Eric Burger'; Audet, Francois (SC100:3055)
> Cc: 'sip'
> Subject: RE: [Sip] INFO
>=20
> But there are cases where the KPML model is vastly greater overhead. =20
>=20
> Consider a typical voicemail server.  For calls to the=20
> voicemail server to retrieve messages, KPML is probably good=20
> because you can define a digit map for the mailbox number and=20
> password which would reduce overall message counts.  But for=20
> calls to leave a voicemail (which I assume greatly outnumber=20
> those to retrieve them, but you would know more about that=20
> than I), KPML has to create a subscription for every single=20
> call, just in case the caller happens to press some optional=20
> dtmf that the voicemail app supports.  For each and every=20
> call, a subscription has to be routed and its state saved by=20
> stateful proxies along the path to the UAs, even though only=20
> a small fraction of the calls ever press a DTMF button.=20

Unless your voicemail users have a severe case of obsessive-compulsive
voicemailbox checking syndrome, and the users aren't checking their
mailboxes when they have no MWI indication, the number of deposits is
guaranteed to at least equal, and certainly exceed the number of
retrievals for any non-trivial population of subscribers. Otherwise,
you'd only need space for one voicemail in your mailbox. The fact that I
doubt anyone has ever heard of such a ridiculous voicemail limit seems
to confirm my assumptions.

Regards,
Brian


_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Mon Sep 10 00:46:04 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1IUb7N-0002sV-UA; Mon, 10 Sep 2007 00:43:25 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1IUb7M-0002sQ-JO
	for sip-confirm+ok@megatron.ietf.org; Mon, 10 Sep 2007 00:43:24 -0400
Received: from [10.91.34.44] (helo=ietf-mx.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1IUb7M-0002sI-9u
	for sip@ietf.org; Mon, 10 Sep 2007 00:43:24 -0400
Received: from zcars04f.nortel.com ([47.129.242.57])
	by ietf-mx.ietf.org with esmtp (Exim 4.43) id 1IUb7L-0008S2-3f
	for sip@ietf.org; Mon, 10 Sep 2007 00:43:24 -0400
Received: from zrc2hxm2.corp.nortel.com (zrc2hxm2.corp.nortel.com
	[47.103.123.73])
	by zcars04f.nortel.com (Switch-2.2.6/Switch-2.2.0) with ESMTP id
	l8A4hJw03775; Mon, 10 Sep 2007 04:43:20 GMT
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: [Sip] INFO
Date: Sun, 9 Sep 2007 23:43:18 -0500
Message-ID: <6FC4416DDE56C44DA0AEE67BC7CA4371169E8AFE@zrc2hxm2.corp.nortel.com>
In-Reply-To: <C2FCB6E3.A2D9%eburger@bea.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] INFO
Thread-Index: AcfopsS6ijL/eVSeR7OkrFxhvjEZ1wCqsuc+AgRJN7A=
References: <317ceda50708270535i290e54c8m6966ba15c1ace89e@mail.gmail.com>
	<C2FCB6E3.A2D9%eburger@bea.com>
From: "Brian Stucker" <bstucker@nortel.com>
To: "Eric Burger" <eburger@bea.com>, "Peili Xu" <xupeili@huawei.com>
X-Spam-Score: 0.0 (/)
X-Scan-Signature: b4a0a5f5992e2a4954405484e7717d8c
Cc: sip <sip@ietf.org>
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

=20

> -----Original Message-----
> From: Eric Burger [mailto:eburger@bea.com]=20
> Sent: Thursday, August 30, 2007 5:03 PM
> To: Peili Xu
> Cc: sip
> Subject: Re: [Sip] INFO
>=20
> Saying, "OK for interworking" does not really say anything. =20
> If I come up with a really broken method for interworking,=20
> saying that it is for interworking does not make it correct.
>=20
> The problem is, how do the endpoints know they will be able=20
> to communicate?
> For the ISUP/Q.sig/DPNSS/mumble case, the endpoints know they=20
> will be able to interoperate because they know a'priori: they=20
> are configured to work.
> However, this means that the devices must be in the same=20
> administrative domain and configured properly.

...or all of your UAs come from the same vendor or set of vendors that
have agreed previously to support said mechanism, or you buy one of
Hadriel's magic boxes to fix it for you.

I realize the same could be said for any protocol scheme, but it's a
very real fact in the case of how INFO works today, especially for DTMF.
There's really only a few widely deployed schemes running around out
there for DTMF via INFO. If we're complaining about using INFO for DTMF
because of negotiation issues, I think that's a very solvable problem
without deprecating INFO.

>=20
> Said in a different manner, INFO works fine for=20
> non-inter-network use. =20

It works fine for inter-network use as well depending upon what you are
trying to use it for. Take for instance trying to figure out if a
session is still alive by periodically sending an INFO to the other
endpoint. I know we have a session timer mechanism defined, but many
endpoints don't support it (yet). Even getting back an error response,
depending upon the response code, may mean that the session is still
alive (success). The point of the usage wasn't to convey anything, and
so no negotiation was necessary. SIP was all you needed.

> It would be hard for the IETF to say,=20
> "Here is a non-IETF use.  We will not use it.  You cannot use=20
> it with anyone else.  You cannot use it between=20
> manufacturers, unless you get them to agree to this use." =20
> That is a bit more of what we call the toxic waste warning=20
> that accompanies 3GPP specifications...
>=20
>=20

You could say this for a lot of things. For instance, point me to the
IETF use of SIP to do call forwarding.

You can't use SIP between manufacturers unless you get them to agree to
implement it correctly either. I'm not really sure what your point was
here unless you are against people writing down a common way of using a
protocol amongst themselves.

:)

Regards,
Brian


_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Mon Sep 10 03:23:43 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1IUdac-0005fG-P3; Mon, 10 Sep 2007 03:21:46 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1IUdab-0005f7-Ih
	for sip-confirm+ok@megatron.ietf.org; Mon, 10 Sep 2007 03:21:45 -0400
Received: from [10.91.34.44] (helo=ietf-mx.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1IUdaX-0005ef-HM
	for sip@ietf.org; Mon, 10 Sep 2007 03:21:41 -0400
Received: from mail.gmx.net ([213.165.64.20])
	by ietf-mx.ietf.org with smtp (Exim 4.43) id 1IUdaV-0003nx-Ve
	for sip@ietf.org; Mon, 10 Sep 2007 03:21:41 -0400
Received: (qmail invoked by alias); 10 Sep 2007 07:21:38 -0000
Received: from socks1.netz.sbs.de (EHLO [192.35.17.26]) [192.35.17.26]
	by mail.gmx.net (mp048) with SMTP; 10 Sep 2007 09:21:38 +0200
X-Authenticated: #29516787
X-Provags-ID: V01U2FsdGVkX1/70up0yav7Vhz2yvi/d7h2vZD6HWSUD3k4kiMtLE
	OAJeyhH2h6hmtP
Message-ID: <46E4F078.4070402@gmx.net>
Date: Mon, 10 Sep 2007 09:21:28 +0200
From: Hannes Tschofenig <Hannes.Tschofenig@gmx.net>
User-Agent: Thunderbird 2.0.0.6 (Windows/20070728)
MIME-Version: 1.0
To: IETF SIP List <sip@ietf.org>, ECRIT <ecrit@ietf.org>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Y-GMX-Trusted: 0
X-Spam-Score: 0.0 (/)
X-Scan-Signature: 25620135586de10c627e3628c432b04a
Cc: 
Subject: [Sip] Service URN Usage (UA Loose Routing)
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

Hi all,

after some discussions on the usage of the Service URN it seems that 
most people in ECRIT agreed to move forward with the initially planned 
approach. Below, you can find a description of how the Service URN would 
be used in various scenarios.

Are there any objections?

Ciao
Hannes

---------------------

== End Host Procedures ==

* UA does not recognize the emergency call.

To: Dial String
Request URI: Dial String
No Route header

* UA runs LoST and determines the PSAP URI:

Request URI: Service URN
To: Service URN
Route Header: PSAP URI

* UA does not run LoST but recognizes the emergency call.

Request URI: Service URN
To: Service URN
No Route header


== Proxy Procedures ==

* Incoming request contains Service URN; Proxy runs LoST

and determines the PSAP URI

--- Input:

Request URI: Service URN
To: Service URN
No Route header

--- Output:

Request URI: Service URN
To: Service URN
Route Header: PSAP URI

* Incoming request contains Dial String; Proxy runs LoST

and determines the PSAP URI:

--- Input:

Request URI: Dial String
To: Dial String
No Route header

--- Output:

Request URI: Service URN
To: Dial String
Route Header: PSAP URI



Remark: "Dial String" refers to http://tools.ietf.org/html/rfc4967




_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Mon Sep 10 07:54:11 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1IUhnJ-0000Jg-4b; Mon, 10 Sep 2007 07:51:09 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1IUhnH-0000EY-1x
	for sip-confirm+ok@megatron.ietf.org; Mon, 10 Sep 2007 07:51:07 -0400
Received: from [10.90.34.44] (helo=chiedprmail1.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1IUhnG-0000C6-KV; Mon, 10 Sep 2007 07:51:06 -0400
Received: from rtp-iport-1.cisco.com ([64.102.122.148])
	by chiedprmail1.ietf.org with esmtp (Exim 4.43)
	id 1IUhnG-0002m6-6u; Mon, 10 Sep 2007 07:51:06 -0400
X-IronPort-AV: E=Sophos;i="4.20,230,1186372800"; d="scan'208";a="70607102"
Received: from rtp-dkim-1.cisco.com ([64.102.121.158])
	by rtp-iport-1.cisco.com with ESMTP; 10 Sep 2007 07:51:07 -0400
Received: from rtp-core-2.cisco.com (rtp-core-2.cisco.com [64.102.124.13])
	by rtp-dkim-1.cisco.com (8.12.11/8.12.11) with ESMTP id l8ABp58R026017; 
	Mon, 10 Sep 2007 07:51:05 -0400
Received: from xbh-rtp-211.amer.cisco.com (xbh-rtp-211.cisco.com
	[64.102.31.102])
	by rtp-core-2.cisco.com (8.12.10/8.12.6) with ESMTP id l8ABooBg017455; 
	Mon, 10 Sep 2007 11:51:05 GMT
Received: from xfe-rtp-202.amer.cisco.com ([64.102.31.21]) by
	xbh-rtp-211.amer.cisco.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Mon, 10 Sep 2007 07:51:02 -0400
Received: from [10.86.243.72] ([10.86.243.72]) by xfe-rtp-202.amer.cisco.com
	with Microsoft SMTPSVC(6.0.3790.1830); 
	Mon, 10 Sep 2007 07:51:01 -0400
Message-ID: <46E52FA5.8000605@cisco.com>
Date: Mon, 10 Sep 2007 07:51:01 -0400
From: Paul Kyzivat <pkyzivat@cisco.com>
User-Agent: Thunderbird 2.0.0.6 (Windows/20070728)
MIME-Version: 1.0
To: Hannes Tschofenig <Hannes.Tschofenig@gmx.net>
Subject: Re: [Sip] Service URN Usage (UA Loose Routing)
References: <46E4F078.4070402@gmx.net>
In-Reply-To: <46E4F078.4070402@gmx.net>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-OriginalArrivalTime: 10 Sep 2007 11:51:01.0987 (UTC)
	FILETIME=[DC4F9B30:01C7F3A0]
DKIM-Signature: v=0.5; a=rsa-sha256; q=dns/txt; l=2568; t=1189425065;
	x=1190289065; c=relaxed/simple; s=rtpdkim1001;
	h=Content-Type:From:Subject:Content-Transfer-Encoding:MIME-Version;
	d=cisco.com; i=pkyzivat@cisco.com;
	z=From:=20Paul=20Kyzivat=20<pkyzivat@cisco.com>
	|Subject:=20Re=3A=20[Sip]=20Service=20URN=20Usage=20(UA=20Loose=20Routing
	) |Sender:=20
	|To:=20Hannes=20Tschofenig=20<Hannes.Tschofenig@gmx.net>;
	bh=Pjch5ifsrjecbTLdBkSw3+ADg/tUds1xOMCeQozWAoU=;
	b=LrSmPu8ocGyyrcP7jrFgsvV9tGMBUFncZt4ox197zb1ciz2Qc0Se73JHMhDsZnySt2gfiV6R
	E8yx2Va6F05Ni23FEvWbZEjfSeSLIyXAo5psa6VVh90zaAOQdka4QyBy;
Authentication-Results: rtp-dkim-1; header.From=pkyzivat@cisco.com; dkim=pass (
	sig from cisco.com/rtpdkim1001 verified; ); 
X-Spam-Score: 0.0 (/)
X-Scan-Signature: 6e922792024732fb1bb6f346e63517e4
Cc: IETF SIP List <sip@ietf.org>, ECRIT <ecrit@ietf.org>
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

Hannes,

The scenarios seem pretty reasonable to me, with one qualification on 
the last one:

If the R-URI contains a "dial string" then the proxy may replace it with 
a Service URN if the proxy is responsible for the domain of the service 
URN. That of course assumes that the "dial string" is encoded as a SIP 
URI, rather than a TEL URI. (But that seems most likely since there is 
no standard way to encode a dial string as a TEL URI.)

If the proxy is not responsible for the domain of the dial string then 
it can't relace the R-URI. That is a rule that I think we *must* 
preserve. Only a node responsible for the domain is allowed to interpret 
the user part, including determining that it is an emergency number.

	Paul

Hannes Tschofenig wrote:
> Hi all,
> 
> after some discussions on the usage of the Service URN it seems that 
> most people in ECRIT agreed to move forward with the initially planned 
> approach. Below, you can find a description of how the Service URN would 
> be used in various scenarios.
> 
> Are there any objections?
> 
> Ciao
> Hannes
> 
> ---------------------
> 
> == End Host Procedures ==
> 
> * UA does not recognize the emergency call.
> 
> To: Dial String
> Request URI: Dial String
> No Route header
> 
> * UA runs LoST and determines the PSAP URI:
> 
> Request URI: Service URN
> To: Service URN
> Route Header: PSAP URI
> 
> * UA does not run LoST but recognizes the emergency call.
> 
> Request URI: Service URN
> To: Service URN
> No Route header
> 
> 
> == Proxy Procedures ==
> 
> * Incoming request contains Service URN; Proxy runs LoST
> 
> and determines the PSAP URI
> 
> --- Input:
> 
> Request URI: Service URN
> To: Service URN
> No Route header
> 
> --- Output:
> 
> Request URI: Service URN
> To: Service URN
> Route Header: PSAP URI
> 
> * Incoming request contains Dial String; Proxy runs LoST
> 
> and determines the PSAP URI:
> 
> --- Input:
> 
> Request URI: Dial String
> To: Dial String
> No Route header
> 
> --- Output:
> 
> Request URI: Service URN
> To: Dial String
> Route Header: PSAP URI
> 
> 
> 
> Remark: "Dial String" refers to http://tools.ietf.org/html/rfc4967
> 
> 
> 
> 
> _______________________________________________
> Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
> 


_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Mon Sep 10 08:37:04 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1IUiSi-0003I0-Gh; Mon, 10 Sep 2007 08:33:56 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1IUiSg-0003Hr-VZ
	for sip-confirm+ok@megatron.ietf.org; Mon, 10 Sep 2007 08:33:54 -0400
Received: from [10.91.34.44] (helo=ietf-mx.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1IUiSg-0003H0-La; Mon, 10 Sep 2007 08:33:54 -0400
Received: from mailgw4.ericsson.se ([193.180.251.62])
	by ietf-mx.ietf.org with esmtp (Exim 4.43)
	id 1IUiSf-0003bq-AE; Mon, 10 Sep 2007 08:33:54 -0400
Received: from mailgw4.ericsson.se (unknown [127.0.0.1])
	by mailgw4.ericsson.se (Symantec Mail Security) with ESMTP id
	0FD52205B7; Mon, 10 Sep 2007 14:33:52 +0200 (CEST)
X-AuditID: c1b4fb3e-b0034bb0000007e1-24-46e539af52e8
Received: from esealmw128.eemea.ericsson.se (unknown [153.88.254.121])
	by mailgw4.ericsson.se (Symantec Mail Security) with ESMTP id
	DD9252054F; Mon, 10 Sep 2007 14:33:51 +0200 (CEST)
Received: from esealmw113.eemea.ericsson.se ([153.88.200.4]) by
	esealmw128.eemea.ericsson.se with Microsoft SMTPSVC(6.0.3790.1830); 
	Mon, 10 Sep 2007 14:33:51 +0200
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Date: Mon, 10 Sep 2007 14:33:50 +0200
Message-ID: <CA9998CD4A020D418654FCDEF4E707DF0162CE3E@esealmw113.eemea.ericsson.se>
In-Reply-To: <46E4F078.4070402@gmx.net>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Ecrit] Service URN Usage (UA Loose Routing)
Thread-Index: Acfze0Gs7n/4Pb2BRh2HaEE//sjZHgAK3L3w
References: <46E4F078.4070402@gmx.net>
From: "Christer Holmberg (JO/LMF)" <christer.holmberg@ericsson.com>
To: "Hannes Tschofenig" <Hannes.Tschofenig@gmx.net>,
	"IETF SIP List" <sip@ietf.org>, "ECRIT" <ecrit@ietf.org>
X-OriginalArrivalTime: 10 Sep 2007 12:33:51.0728 (UTC)
	FILETIME=[D7FEF700:01C7F3A6]
X-Brightmail-Tracker: AAAAAA==
X-Spam-Score: 0.0 (/)
X-Scan-Signature: 944ecb6e61f753561f559a497458fb4f
Cc: 
Subject: [Sip] RE: [Ecrit] Service URN Usage (UA Loose Routing)
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org


Hi,

I don't have any objections. I have only clarified how it works in IMS,
and why. It's up to you to decide what/if to do with that information.

Also, in the ECRIT documentation, I think you should indicate that your
solution does not work with MGCs that route the destination number based
on the Request-URI (that is not an IMS specific MGC behavior).

I do have one question for clarification, though: in the examples there
is only one Route header, pointing towards the PSAP. IF there are
intermediate entities that also need to be in the path, is it assumed
that the one inserting the PSAP Route has information about those, in
order to insert Route headers also for those entities if needed?

Regards,

Christer
=20

> -----Original Message-----
> From: Hannes Tschofenig [mailto:Hannes.Tschofenig@gmx.net]=20
> Sent: 10. syyskuuta 2007 10:21
> To: IETF SIP List; ECRIT
> Subject: [Ecrit] Service URN Usage (UA Loose Routing)
>=20
> Hi all,
>=20
> after some discussions on the usage of the Service URN it=20
> seems that most people in ECRIT agreed to move forward with=20
> the initially planned approach. Below, you can find a=20
> description of how the Service URN would be used in various scenarios.
>=20
> Are there any objections?
>=20
> Ciao
> Hannes
>=20
> ---------------------
>=20
> =3D=3D End Host Procedures =3D=3D
>=20
> * UA does not recognize the emergency call.
>=20
> To: Dial String
> Request URI: Dial String
> No Route header
>=20
> * UA runs LoST and determines the PSAP URI:
>=20
> Request URI: Service URN
> To: Service URN
> Route Header: PSAP URI
>=20
> * UA does not run LoST but recognizes the emergency call.
>=20
> Request URI: Service URN
> To: Service URN
> No Route header
>=20
>=20
> =3D=3D Proxy Procedures =3D=3D
>=20
> * Incoming request contains Service URN; Proxy runs LoST
>=20
> and determines the PSAP URI
>=20
> --- Input:
>=20
> Request URI: Service URN
> To: Service URN
> No Route header
>=20
> --- Output:
>=20
> Request URI: Service URN
> To: Service URN
> Route Header: PSAP URI
>=20
> * Incoming request contains Dial String; Proxy runs LoST
>=20
> and determines the PSAP URI:
>=20
> --- Input:
>=20
> Request URI: Dial String
> To: Dial String
> No Route header
>=20
> --- Output:
>=20
> Request URI: Service URN
> To: Dial String
> Route Header: PSAP URI
>=20
>=20
>=20
> Remark: "Dial String" refers to http://tools.ietf.org/html/rfc4967
>=20
>=20
>=20
> _______________________________________________
> Ecrit mailing list
> Ecrit@ietf.org
> https://www1.ietf.org/mailman/listinfo/ecrit
>=20


_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Mon Sep 10 08:44:10 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1IUiaq-0001zU-LM; Mon, 10 Sep 2007 08:42:20 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1IUiao-0001yt-QD
	for sip-confirm+ok@megatron.ietf.org; Mon, 10 Sep 2007 08:42:18 -0400
Received: from [10.90.34.44] (helo=chiedprmail1.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1IUiao-0001yl-FK; Mon, 10 Sep 2007 08:42:18 -0400
Received: from mx11.bbn.com ([128.33.0.80])
	by chiedprmail1.ietf.org with esmtp (Exim 4.43)
	id 1IUiao-0004e8-0s; Mon, 10 Sep 2007 08:42:18 -0400
Received: from mail.bbn.com ([128.33.1.19])
	by mx11.bbn.com with esmtp (Exim 4.60)
	(envelope-from <rbarnes@bbn.com>)
	id 1IUian-00022W-4G; Mon, 10 Sep 2007 08:42:17 -0400
Received: from col-dhcp33-244-152.bbn.com ([128.33.244.152] helo=[127.0.0.1])
	by mail.bbn.com with esmtp (Exim 4.67)
	(envelope-from <rbarnes@bbn.com>)
	id 1IUiam-00043u-1r; Mon, 10 Sep 2007 08:42:16 -0400
Message-ID: <46E53BA5.4080903@bbn.com>
Date: Mon, 10 Sep 2007 08:42:13 -0400
From: Richard Barnes <rbarnes@bbn.com>
User-Agent: Thunderbird 2.0.0.6 (Windows/20070728)
MIME-Version: 1.0
To: Hannes Tschofenig <Hannes.Tschofenig@gmx.net>
References: <46E4F078.4070402@gmx.net>
In-Reply-To: <46E4F078.4070402@gmx.net>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Score: 0.0 (/)
X-Scan-Signature: 287c806b254c6353fcb09ee0e53bbc5e
Cc: IETF SIP List <sip@ietf.org>, ECRIT <ecrit@ietf.org>
Subject: [Sip] Re: [Ecrit] Service URN Usage (UA Loose Routing)
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

Hannes,

I'm still worried that because we're using the routing fields for 
marking, there's a risk that proxies will do things to those headers 
that will remove the marking and cause the emergency call to fail.

For instance, I've heard tell that some proxies like to strip all Route 
headers from INVITE messages passing through them.  In your example 
below, that would cause the call to need another LoST lookup, which may 
be impossible if no subsequent proxy supports LoST, or if there's no 
proxy-readable location in the INVITE.  Moreover, if a proxy changes the 
To field or the Request URI, then downstream proxies might not even 
recognize that a LoST lookup is required and thus would cause the call 
to fail.

I don't disagree with the three abstract states you've defined 
(unrecognized, recognized but not routed, and routed), but I would 
prefer that (1) The Service URN were carried in an explicit marking 
field even if a new one has to be created (say, Requested-Service), and 
that (2) after routing (LoST) a call looks like any other call to a PSAP 
URI, but with an explicit marking.  I think this would be much more in 
the spirit of minimal surprise.

--Richard



Hannes Tschofenig wrote:
> Hi all,
> 
> after some discussions on the usage of the Service URN it seems that 
> most people in ECRIT agreed to move forward with the initially planned 
> approach. Below, you can find a description of how the Service URN would 
> be used in various scenarios.
> 
> Are there any objections?
> 
> Ciao
> Hannes
> 
> ---------------------
> 
> == End Host Procedures ==
> 
> * UA does not recognize the emergency call.
> 
> To: Dial String
> Request URI: Dial String
> No Route header
> 
> * UA runs LoST and determines the PSAP URI:
> 
> Request URI: Service URN
> To: Service URN
> Route Header: PSAP URI
> 
> * UA does not run LoST but recognizes the emergency call.
> 
> Request URI: Service URN
> To: Service URN
> No Route header
> 
> 
> == Proxy Procedures ==
> 
> * Incoming request contains Service URN; Proxy runs LoST
> 
> and determines the PSAP URI
> 
> --- Input:
> 
> Request URI: Service URN
> To: Service URN
> No Route header
> 
> --- Output:
> 
> Request URI: Service URN
> To: Service URN
> Route Header: PSAP URI
> 
> * Incoming request contains Dial String; Proxy runs LoST
> 
> and determines the PSAP URI:
> 
> --- Input:
> 
> Request URI: Dial String
> To: Dial String
> No Route header
> 
> --- Output:
> 
> Request URI: Service URN
> To: Dial String
> Route Header: PSAP URI
> 
> 
> 
> Remark: "Dial String" refers to http://tools.ietf.org/html/rfc4967
> 
> 
> 
> _______________________________________________
> Ecrit mailing list
> Ecrit@ietf.org
> https://www1.ietf.org/mailman/listinfo/ecrit
> 
> 



_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Mon Sep 10 08:53:09 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1IUijc-0007dY-V2; Mon, 10 Sep 2007 08:51:24 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1IUijc-0007cO-00
	for sip-confirm+ok@megatron.ietf.org; Mon, 10 Sep 2007 08:51:24 -0400
Received: from [10.91.34.44] (helo=ietf-mx.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1IUijb-0007cG-Mg; Mon, 10 Sep 2007 08:51:23 -0400
Received: from ebru.winwebhosting.com ([74.52.236.50])
	by ietf-mx.ietf.org with esmtp (Exim 4.43)
	id 1IUija-00043O-EC; Mon, 10 Sep 2007 08:51:23 -0400
Received: from [24.154.127.115] (helo=BROSLT41xp)
	by ebru.winwebhosting.com with esmtpa (Exim 4.68)
	(envelope-from <br@brianrosen.net>)
	id 1IUijR-0004S7-Qy; Mon, 10 Sep 2007 07:51:14 -0500
From: "Brian Rosen" <br@brianrosen.net>
To: "'Christer Holmberg \(JO/LMF\)'" <christer.holmberg@ericsson.com>,
	"'Hannes Tschofenig'" <Hannes.Tschofenig@gmx.net>,
	"'IETF SIP List'" <sip@ietf.org>, "'ECRIT'" <ecrit@ietf.org>
References: <46E4F078.4070402@gmx.net>
	<CA9998CD4A020D418654FCDEF4E707DF0162CE3E@esealmw113.eemea.ericsson.se>
Date: Mon, 10 Sep 2007 08:51:18 -0400
Message-ID: <020501c7f3a9$495b6ee0$640fa8c0@cis.neustar.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook 11
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.3028
Thread-Index: Acfze0Gs7n/4Pb2BRh2HaEE//sjZHgAK3L3wAABIN/A=
In-Reply-To: <CA9998CD4A020D418654FCDEF4E707DF0162CE3E@esealmw113.eemea.ericsson.se>
X-AntiAbuse: This header was added to track abuse,
	please include it with any abuse report
X-AntiAbuse: Primary Hostname - ebru.winwebhosting.com
X-AntiAbuse: Original Domain - ietf.org
X-AntiAbuse: Originator/Caller UID/GID - [47 12] / [47 12]
X-AntiAbuse: Sender Address Domain - brianrosen.net
X-Source: 
X-Source-Args: 
X-Source-Dir: 
X-Spam-Score: 0.0 (/)
X-Scan-Signature: b19722fc8d3865b147c75ae2495625f2
Cc: 
Subject: [Sip] RE: [Ecrit] Service URN Usage (UA Loose Routing)
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

> I don't have any objections. I have only clarified how it works in IMS,
> and why. It's up to you to decide what/if to do with that information.
I think we understand that.  It may be that the PSAPs will require one or
the other solution in calls placed towards them, but I don't see a big
problem dealing with that.

As I pointed out, the proposed IMS solution does not even meet the existing
specification, let alone anything new.

> 
> Also, in the ECRIT documentation, I think you should indicate that your
> solution does not work with MGCs that route the destination number based
> on the Request-URI (that is not an IMS specific MGC behavior).
That is correct.  None of ecrit works with TN based routing.  In the U.S. i3
system, it would be required that the MGC arrange a TN to location
translation, followed by a LoST query to obtain a PSAP URI and routing per
normal SIP standards towards the PSAP.

The incoming SIP call will need the Route header in i3 unless we decide to
accept the IMS alternative.  The current version of the i3 specification
does not.

> 
> I do have one question for clarification, though: in the examples there
> is only one Route header, pointing towards the PSAP. IF there are
> intermediate entities that also need to be in the path, is it assumed
> that the one inserting the PSAP Route has information about those, in
> order to insert Route headers also for those entities if needed?
I would expect that the ESRP could replace the Route header if it needed to.
It could indeed put more than one Route header on the call.

Brian



_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Mon Sep 10 08:59:32 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1IUipZ-0004OG-B7; Mon, 10 Sep 2007 08:57:33 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1IUipX-0004O7-FQ
	for sip-confirm+ok@megatron.ietf.org; Mon, 10 Sep 2007 08:57:31 -0400
Received: from [10.91.34.44] (helo=ietf-mx.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1IUipX-0004Nz-5g; Mon, 10 Sep 2007 08:57:31 -0400
Received: from ebru.winwebhosting.com ([74.52.236.50])
	by ietf-mx.ietf.org with esmtp (Exim 4.43)
	id 1IUipV-0004Ed-Uz; Mon, 10 Sep 2007 08:57:31 -0400
Received: from [24.154.127.115] (helo=BROSLT41xp)
	by ebru.winwebhosting.com with esmtpa (Exim 4.68)
	(envelope-from <br@brianrosen.net>)
	id 1IUipO-00059t-4q; Mon, 10 Sep 2007 07:57:22 -0500
From: "Brian Rosen" <br@brianrosen.net>
To: "'Richard Barnes'" <rbarnes@bbn.com>,
	"'Hannes Tschofenig'" <Hannes.Tschofenig@gmx.net>
References: <46E4F078.4070402@gmx.net> <46E53BA5.4080903@bbn.com>
Subject: RE: [Sip] Re: [Ecrit] Service URN Usage (UA Loose Routing)
Date: Mon, 10 Sep 2007 08:57:26 -0400
Message-ID: <020d01c7f3aa$24efe580$640fa8c0@cis.neustar.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook 11
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.3028
Thread-Index: AcfzqEyv8DZjtM+VSpOrYYGiRZz+aAAATpXw
In-Reply-To: <46E53BA5.4080903@bbn.com>
X-AntiAbuse: This header was added to track abuse,
	please include it with any abuse report
X-AntiAbuse: Primary Hostname - ebru.winwebhosting.com
X-AntiAbuse: Original Domain - ietf.org
X-AntiAbuse: Originator/Caller UID/GID - [47 12] / [47 12]
X-AntiAbuse: Sender Address Domain - brianrosen.net
X-Source: 
X-Source-Args: 
X-Source-Dir: 
X-Spam-Score: 0.0 (/)
X-Scan-Signature: 36b1f8810cb91289d885dc8ab4fc8172
Cc: 'IETF SIP List' <sip@ietf.org>, 'ECRIT' <ecrit@ietf.org>
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

I think that if you look, you can find proxies that will break anything we
can define.  No matter what we specify, there is sure to be a proxy out
there that breaks it.  For example, there are proxies that strip any header
they don't recognize.  They aren't supposed to, but they do.

It's futile to try and define any new behavior based on what non standard
existing proxies will do.  In this case, they will have to recognize
emergency calls and do the appropriate processing of them.

The test function would find these things, of course.

Brian


> -----Original Message-----
> From: Richard Barnes [mailto:rbarnes@bbn.com]
> Sent: Monday, September 10, 2007 8:42 AM
> To: Hannes Tschofenig
> Cc: IETF SIP List; ECRIT
> Subject: [Sip] Re: [Ecrit] Service URN Usage (UA Loose Routing)
> 
> Hannes,
> 
> I'm still worried that because we're using the routing fields for
> marking, there's a risk that proxies will do things to those headers
> that will remove the marking and cause the emergency call to fail.
> 
> For instance, I've heard tell that some proxies like to strip all Route
> headers from INVITE messages passing through them.  In your example
> below, that would cause the call to need another LoST lookup, which may
> be impossible if no subsequent proxy supports LoST, or if there's no
> proxy-readable location in the INVITE.  Moreover, if a proxy changes the
> To field or the Request URI, then downstream proxies might not even
> recognize that a LoST lookup is required and thus would cause the call
> to fail.
> 
> I don't disagree with the three abstract states you've defined
> (unrecognized, recognized but not routed, and routed), but I would
> prefer that (1) The Service URN were carried in an explicit marking
> field even if a new one has to be created (say, Requested-Service), and
> that (2) after routing (LoST) a call looks like any other call to a PSAP
> URI, but with an explicit marking.  I think this would be much more in
> the spirit of minimal surprise.
> 
> --Richard
> 
> 
> 
> Hannes Tschofenig wrote:
> > Hi all,
> >
> > after some discussions on the usage of the Service URN it seems that
> > most people in ECRIT agreed to move forward with the initially planned
> > approach. Below, you can find a description of how the Service URN would
> > be used in various scenarios.
> >
> > Are there any objections?
> >
> > Ciao
> > Hannes
> >
> > ---------------------
> >
> > == End Host Procedures ==
> >
> > * UA does not recognize the emergency call.
> >
> > To: Dial String
> > Request URI: Dial String
> > No Route header
> >
> > * UA runs LoST and determines the PSAP URI:
> >
> > Request URI: Service URN
> > To: Service URN
> > Route Header: PSAP URI
> >
> > * UA does not run LoST but recognizes the emergency call.
> >
> > Request URI: Service URN
> > To: Service URN
> > No Route header
> >
> >
> > == Proxy Procedures ==
> >
> > * Incoming request contains Service URN; Proxy runs LoST
> >
> > and determines the PSAP URI
> >
> > --- Input:
> >
> > Request URI: Service URN
> > To: Service URN
> > No Route header
> >
> > --- Output:
> >
> > Request URI: Service URN
> > To: Service URN
> > Route Header: PSAP URI
> >
> > * Incoming request contains Dial String; Proxy runs LoST
> >
> > and determines the PSAP URI:
> >
> > --- Input:
> >
> > Request URI: Dial String
> > To: Dial String
> > No Route header
> >
> > --- Output:
> >
> > Request URI: Service URN
> > To: Dial String
> > Route Header: PSAP URI
> >
> >
> >
> > Remark: "Dial String" refers to http://tools.ietf.org/html/rfc4967
> >
> >
> >
> > _______________________________________________
> > Ecrit mailing list
> > Ecrit@ietf.org
> > https://www1.ietf.org/mailman/listinfo/ecrit
> >
> >
> 
> 
> 
> _______________________________________________
> Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip



_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Mon Sep 10 09:10:21 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1IUj0D-00055c-DR; Mon, 10 Sep 2007 09:08:33 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1IUj0B-00055W-CP
	for sip-confirm+ok@megatron.ietf.org; Mon, 10 Sep 2007 09:08:31 -0400
Received: from [10.91.34.44] (helo=ietf-mx.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1IUj0B-00055O-2t
	for sip@ietf.org; Mon, 10 Sep 2007 09:08:31 -0400
Received: from repmmg02.bea.com ([66.248.192.39])
	by ietf-mx.ietf.org with esmtp (Exim 4.43) id 1IUj09-0004Xy-Af
	for sip@ietf.org; Mon, 10 Sep 2007 09:08:31 -0400
Received: from repmmr01.bea.com (repmmr01.bea.com [10.160.29.71])
	by repmmg02.bea.com (Switch-3.2.7/Switch-3.2.7) with ESMTP id
	l8AD8PCd022740; Mon, 10 Sep 2007 06:08:25 -0700
Received: from repbex01.amer.bea.com (repbex01.bea.com [10.160.26.98])
	by repmmr01.bea.com (Switch-3.2.7/Switch-3.2.7) with ESMTP id
	l8AD8N4G031282; Mon, 10 Sep 2007 06:08:24 -0700
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
Subject: Re: [Sip] INFO
Date: Mon, 10 Sep 2007 06:08:23 -0700
Message-ID: <A5E9CBACB726CB4BAA3DAFF0925C188F129D4D@repbex01.amer.bea.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] INFO
Thread-Index: AcfopsS6ijL/eVSeR7OkrFxhvjEZ1wCqsuc+AgRJN7AAEj1plg==
From: "Eric Burger" <eburger@bea.com>
To: <bstucker@nortel.com>
x-BEA-PMX-Instructions: AV
x-BEA-MM: Internal-To-External
X-Spam-Score: 0.4 (/)
X-Scan-Signature: b5d20af10c334b36874c0264b10f59f1
Cc: sip@ietf.org
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

Brian Stucker Says:
   I'm not really sure what your point was
   here unless you are against people
   writing down a common way of using
   a protocol amongst themselves

Actually, I have no problem with "people writing down a common way of using a protocol". One would offer that is the work of the IETF. However, the key phrase I have a problem with is, "amongst themselves." The IETF makes protocols for everybody, not just members of the garden club. The garden club can do whatever they want inside their garden. The IETF has no right nor interest in mandating what goes on inside their garden.

Some gardeners ask the IETF for advice. Some do not. Sometimes, when the IETF sees a gardener about to spray a known, highly toxic poison, that is likely to spray outside the garden and harm innocent children, then the IETF does have the obligation to step up.

In my mind, INFO for DTMF falls into the, "it is not an Internet protocol, but you can do whatever you want in your playground, so long as your fences are good and you will still play with me. P.S., do not claim you are using Internet protocols, because you are not."

P-Preferred-Service is an example of something that falls into "the toxic substance that will bleed through, so do not even think of using it" category.


--
Sent from my wireless e-mail device. Sorry if terse.  We all need lemonade: see <http://www.standardstrack.com/ietf/lemonade> for what lemonade is.

----- Original Message -----
From: Brian Stucker <bstucker@nortel.com>
To: Eric Burger; Peili Xu <xupeili@huawei.com>
Cc: sip <sip@ietf.org>
Sent: Sun Sep 09 21:43:18 2007
Subject: RE: [Sip] INFO

 

> -----Original Message-----
> From: Eric Burger [mailto:eburger@bea.com] 
> Sent: Thursday, August 30, 2007 5:03 PM
> To: Peili Xu
> Cc: sip
> Subject: Re: [Sip] INFO
> 
> Saying, "OK for interworking" does not really say anything.  
> If I come up with a really broken method for interworking, 
> saying that it is for interworking does not make it correct.
> 
> The problem is, how do the endpoints know they will be able 
> to communicate?
> For the ISUP/Q.sig/DPNSS/mumble case, the endpoints know they 
> will be able to interoperate because they know a'priori: they 
> are configured to work.
> However, this means that the devices must be in the same 
> administrative domain and configured properly.

...or all of your UAs come from the same vendor or set of vendors that
have agreed previously to support said mechanism, or you buy one of
Hadriel's magic boxes to fix it for you.

I realize the same could be said for any protocol scheme, but it's a
very real fact in the case of how INFO works today, especially for DTMF.
There's really only a few widely deployed schemes running around out
there for DTMF via INFO. If we're complaining about using INFO for DTMF
because of negotiation issues, I think that's a very solvable problem
without deprecating INFO.

> 
> Said in a different manner, INFO works fine for 
> non-inter-network use.  

It works fine for inter-network use as well depending upon what you are
trying to use it for. Take for instance trying to figure out if a
session is still alive by periodically sending an INFO to the other
endpoint. I know we have a session timer mechanism defined, but many
endpoints don't support it (yet). Even getting back an error response,
depending upon the response code, may mean that the session is still
alive (success). The point of the usage wasn't to convey anything, and
so no negotiation was necessary. SIP was all you needed.

> It would be hard for the IETF to say, 
> "Here is a non-IETF use.  We will not use it.  You cannot use 
> it with anyone else.  You cannot use it between 
> manufacturers, unless you get them to agree to this use."  
> That is a bit more of what we call the toxic waste warning 
> that accompanies 3GPP specifications...
> 
> 

You could say this for a lot of things. For instance, point me to the
IETF use of SIP to do call forwarding.

You can't use SIP between manufacturers unless you get them to agree to
implement it correctly either. I'm not really sure what your point was
here unless you are against people writing down a common way of using a
protocol amongst themselves.

:)

Regards,
Brian

Notice:  This email message, together with any attachments, may contain information  of  BEA Systems,  Inc.,  its subsidiaries  and  affiliated entities,  that may be confidential,  proprietary,  copyrighted  and/or legally privileged, and is intended solely for the use of the individual or entity named in this message. If you are not the intended recipient, and have received this message in error, please immediately return this by email and then delete it.


_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Mon Sep 10 09:37:22 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1IUjQM-0004uI-Cp; Mon, 10 Sep 2007 09:35:34 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1IUjQL-0004u9-BS
	for sip-confirm+ok@megatron.ietf.org; Mon, 10 Sep 2007 09:35:33 -0400
Received: from [10.91.34.44] (helo=ietf-mx.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1IUjQL-0004u0-1R; Mon, 10 Sep 2007 09:35:33 -0400
Received: from mx11.bbn.com ([128.33.0.80])
	by ietf-mx.ietf.org with esmtp (Exim 4.43)
	id 1IUjQJ-0005IJ-Q9; Mon, 10 Sep 2007 09:35:33 -0400
Received: from mail.bbn.com ([128.33.1.19])
	by mx11.bbn.com with esmtp (Exim 4.60)
	(envelope-from <rbarnes@bbn.com>)
	id 1IUjQJ-0002om-4B; Mon, 10 Sep 2007 09:35:31 -0400
Received: from col-dhcp33-244-152.bbn.com ([128.33.244.152] helo=[127.0.0.1])
	by mail.bbn.com with esmtp (Exim 4.67)
	(envelope-from <rbarnes@bbn.com>)
	id 1IUjQJ-0007tu-6h; Mon, 10 Sep 2007 09:35:31 -0400
Message-ID: <46E54822.8010306@bbn.com>
Date: Mon, 10 Sep 2007 09:35:30 -0400
From: Richard Barnes <rbarnes@bbn.com>
User-Agent: Thunderbird 2.0.0.6 (Windows/20070728)
MIME-Version: 1.0
To: Brian Rosen <br@brianrosen.net>
Subject: Re: [Sip] Re: [Ecrit] Service URN Usage (UA Loose Routing)
References: <46E4F078.4070402@gmx.net> <46E53BA5.4080903@bbn.com>
	<020d01c7f3aa$24efe580$640fa8c0@cis.neustar.com>
In-Reply-To: <020d01c7f3aa$24efe580$640fa8c0@cis.neustar.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Score: 0.0 (/)
X-Scan-Signature: 7e439b86d3292ef5adf93b694a43a576
Cc: 'IETF SIP List' <sip@ietf.org>, 'ECRIT' <ecrit@ietf.org>
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

> I think that if you look, you can find proxies that will break anything we
> can define.  ...   For example, there are proxies that strip any header
> they don't recognize.  They aren't supposed to, but they do.

Sure, but we should try to look at likely failure modes and mitigate 
their impact on emergency calls.  It's in the interest of VSPs to route 
calls to the correct destination (so that their service actually works), 
but it's often not in their interest to route it via the path specified 
in the Route header fields.

So if the PSAP URI were carried in the R-URI/To, and the Service URN 
were carried in another header (even Route), then even a proxy that 
stripped out every header it doesn't like or recognize would still get 
the call to the PSAP (even if the PSAP wouldn't know which service was 
requested).

I thought that this was the point of keeping emergency calling as close 
as possible to normal calling -- that in spite of whatever pathological 
things proxies might do, the call would get through.

> The test function would find these things, of course.

That's true of whatever we define.  For that argument to be applicable 
to a given emergency call, you also need to assume that the UA does 
tests every time the proxy path between it and the PSAP changes.  Of 
course, this could happen without the UA knowing it, so the UA would 
have to be frequently testing.

--Richard




> 
> Brian
> 
> 
>> -----Original Message-----
>> From: Richard Barnes [mailto:rbarnes@bbn.com]
>> Sent: Monday, September 10, 2007 8:42 AM
>> To: Hannes Tschofenig
>> Cc: IETF SIP List; ECRIT
>> Subject: [Sip] Re: [Ecrit] Service URN Usage (UA Loose Routing)
>>
>> Hannes,
>>
>> I'm still worried that because we're using the routing fields for
>> marking, there's a risk that proxies will do things to those headers
>> that will remove the marking and cause the emergency call to fail.
>>
>> For instance, I've heard tell that some proxies like to strip all Route
>> headers from INVITE messages passing through them.  In your example
>> below, that would cause the call to need another LoST lookup, which may
>> be impossible if no subsequent proxy supports LoST, or if there's no
>> proxy-readable location in the INVITE.  Moreover, if a proxy changes the
>> To field or the Request URI, then downstream proxies might not even
>> recognize that a LoST lookup is required and thus would cause the call
>> to fail.
>>
>> I don't disagree with the three abstract states you've defined
>> (unrecognized, recognized but not routed, and routed), but I would
>> prefer that (1) The Service URN were carried in an explicit marking
>> field even if a new one has to be created (say, Requested-Service), and
>> that (2) after routing (LoST) a call looks like any other call to a PSAP
>> URI, but with an explicit marking.  I think this would be much more in
>> the spirit of minimal surprise.
>>
>> --Richard
>>
>>
>>
>> Hannes Tschofenig wrote:
>>> Hi all,
>>>
>>> after some discussions on the usage of the Service URN it seems that
>>> most people in ECRIT agreed to move forward with the initially planned
>>> approach. Below, you can find a description of how the Service URN would
>>> be used in various scenarios.
>>>
>>> Are there any objections?
>>>
>>> Ciao
>>> Hannes
>>>
>>> ---------------------
>>>
>>> == End Host Procedures ==
>>>
>>> * UA does not recognize the emergency call.
>>>
>>> To: Dial String
>>> Request URI: Dial String
>>> No Route header
>>>
>>> * UA runs LoST and determines the PSAP URI:
>>>
>>> Request URI: Service URN
>>> To: Service URN
>>> Route Header: PSAP URI
>>>
>>> * UA does not run LoST but recognizes the emergency call.
>>>
>>> Request URI: Service URN
>>> To: Service URN
>>> No Route header
>>>
>>>
>>> == Proxy Procedures ==
>>>
>>> * Incoming request contains Service URN; Proxy runs LoST
>>>
>>> and determines the PSAP URI
>>>
>>> --- Input:
>>>
>>> Request URI: Service URN
>>> To: Service URN
>>> No Route header
>>>
>>> --- Output:
>>>
>>> Request URI: Service URN
>>> To: Service URN
>>> Route Header: PSAP URI
>>>
>>> * Incoming request contains Dial String; Proxy runs LoST
>>>
>>> and determines the PSAP URI:
>>>
>>> --- Input:
>>>
>>> Request URI: Dial String
>>> To: Dial String
>>> No Route header
>>>
>>> --- Output:
>>>
>>> Request URI: Service URN
>>> To: Dial String
>>> Route Header: PSAP URI
>>>
>>>
>>>
>>> Remark: "Dial String" refers to http://tools.ietf.org/html/rfc4967
>>>
>>>
>>>
>>> _______________________________________________
>>> Ecrit mailing list
>>> Ecrit@ietf.org
>>> https://www1.ietf.org/mailman/listinfo/ecrit
>>>
>>>
>>
>>
>> _______________________________________________
>> Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
>> This list is for NEW development of the core SIP Protocol
>> Use sip-implementors@cs.columbia.edu for questions on current sip
>> Use sipping@ietf.org for new developments on the application of sip
> 
> 
> 



_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Mon Sep 10 10:00:25 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1IUjmH-0007ap-Bp; Mon, 10 Sep 2007 09:58:13 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1IUjmF-0007Wg-TA
	for sip-confirm+ok@megatron.ietf.org; Mon, 10 Sep 2007 09:58:11 -0400
Received: from [10.91.34.44] (helo=ietf-mx.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1IUjmF-0007Vw-J0; Mon, 10 Sep 2007 09:58:11 -0400
Received: from ebru.winwebhosting.com ([74.52.236.50])
	by ietf-mx.ietf.org with esmtp (Exim 4.43)
	id 1IUjmE-00069Y-AO; Mon, 10 Sep 2007 09:58:11 -0400
Received: from [24.154.127.115] (helo=BROSLT41xp)
	by ebru.winwebhosting.com with esmtpa (Exim 4.68)
	(envelope-from <br@brianrosen.net>)
	id 1IUjm5-0005jR-KM; Mon, 10 Sep 2007 08:58:01 -0500
From: "Brian Rosen" <br@brianrosen.net>
To: "'Richard Barnes'" <rbarnes@bbn.com>
References: <46E4F078.4070402@gmx.net> <46E53BA5.4080903@bbn.com>
	<020d01c7f3aa$24efe580$640fa8c0@cis.neustar.com>
	<46E54822.8010306@bbn.com>
Subject: RE: [Sip] Re: [Ecrit] Service URN Usage (UA Loose Routing)
Date: Mon, 10 Sep 2007 09:58:06 -0400
Message-ID: <021e01c7f3b2$9ea28dd0$640fa8c0@cis.neustar.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook 11
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.3028
Thread-Index: Acfzr3pMXUI7yOFMSdqUIdJ5H7AVlwAAQ2Hg
In-Reply-To: <46E54822.8010306@bbn.com>
X-AntiAbuse: This header was added to track abuse,
	please include it with any abuse report
X-AntiAbuse: Primary Hostname - ebru.winwebhosting.com
X-AntiAbuse: Original Domain - ietf.org
X-AntiAbuse: Originator/Caller UID/GID - [47 12] / [47 12]
X-AntiAbuse: Sender Address Domain - brianrosen.net
X-Source: 
X-Source-Args: 
X-Source-Dir: 
X-Spam-Score: 0.0 (/)
X-Scan-Signature: a492040269d440726bfd84680622cee7
Cc: 'IETF SIP List' <sip@ietf.org>, 'ECRIT' <ecrit@ietf.org>
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

Most carriers have pretty closed systems.  They only route within their own
domain.  Some are now doing inter-carrier routing, but generally that is
with gateway nodes within the domain which connect to some kind of peering
system.  It's not really clear how they will modify this for emergency
calls.  IMS has a separate proxy (E-CSCF) that would handle it.  Others may
make it a function of their gateway proxies.

The Route stripping can happen in a couple of places.  The most common is
the SBC that protects the network from wayward user devices.  The way most
SBCs are set up, I think they will have to be changed for any emergency call
processing; they often don't pass anything that isn't a TN in the R-URI, and
that's where headers not understood in the network are often dropped.

I think the SBC issues are pretty straightforward; some changes are going to
be needed, and if there is a spec, the spec can be accommodated.

Then it depends on how the network is configured.  In my experience, the
next hop routing proxy does most of the work; from there, it's mostly
special processing the nhrp invokes, or the call is on a gateway node next.
Most routing proxies don't drop Route headers, but some that I know of don't
pay any attention to them.  I'd worry a little about those.  The SBC can
preroute (which may be a good idea anyway), or the nhrp element may need an
update.  The call is then probably on some kind of gateway element, which
also can be an SBC.  Again, I don't think any of these drop Route headers,
but some may ignore them.  Whatever it is, it will need at least some
configuration work to get the call out of the carrier domain into the
emergency services domain.

I guess my bottom line is that the networks are going to need some set of
changes to deal with emergency calls at all, and when those changes are
done, the whole thing will work.  I suspect most of this really is
configuration, but if there are code updates needed, I think they will be
needed regardless of which solution we choose.

Brian

> -----Original Message-----
> From: Richard Barnes [mailto:rbarnes@bbn.com]
> Sent: Monday, September 10, 2007 9:36 AM
> To: Brian Rosen
> Cc: 'Hannes Tschofenig'; 'IETF SIP List'; 'ECRIT'
> Subject: Re: [Sip] Re: [Ecrit] Service URN Usage (UA Loose Routing)
> 
> > I think that if you look, you can find proxies that will break anything
> we
> > can define.  ...   For example, there are proxies that strip any header
> > they don't recognize.  They aren't supposed to, but they do.
> 
> Sure, but we should try to look at likely failure modes and mitigate
> their impact on emergency calls.  It's in the interest of VSPs to route
> calls to the correct destination (so that their service actually works),
> but it's often not in their interest to route it via the path specified
> in the Route header fields.
> 
> So if the PSAP URI were carried in the R-URI/To, and the Service URN
> were carried in another header (even Route), then even a proxy that
> stripped out every header it doesn't like or recognize would still get
> the call to the PSAP (even if the PSAP wouldn't know which service was
> requested).
> 
> I thought that this was the point of keeping emergency calling as close
> as possible to normal calling -- that in spite of whatever pathological
> things proxies might do, the call would get through.
> 
> > The test function would find these things, of course.
> 
> That's true of whatever we define.  For that argument to be applicable
> to a given emergency call, you also need to assume that the UA does
> tests every time the proxy path between it and the PSAP changes.  Of
> course, this could happen without the UA knowing it, so the UA would
> have to be frequently testing.
> 
> --Richard
> 
> 
> 
> 
> >
> > Brian
> >
> >
> >> -----Original Message-----
> >> From: Richard Barnes [mailto:rbarnes@bbn.com]
> >> Sent: Monday, September 10, 2007 8:42 AM
> >> To: Hannes Tschofenig
> >> Cc: IETF SIP List; ECRIT
> >> Subject: [Sip] Re: [Ecrit] Service URN Usage (UA Loose Routing)
> >>
> >> Hannes,
> >>
> >> I'm still worried that because we're using the routing fields for
> >> marking, there's a risk that proxies will do things to those headers
> >> that will remove the marking and cause the emergency call to fail.
> >>
> >> For instance, I've heard tell that some proxies like to strip all Route
> >> headers from INVITE messages passing through them.  In your example
> >> below, that would cause the call to need another LoST lookup, which may
> >> be impossible if no subsequent proxy supports LoST, or if there's no
> >> proxy-readable location in the INVITE.  Moreover, if a proxy changes
> the
> >> To field or the Request URI, then downstream proxies might not even
> >> recognize that a LoST lookup is required and thus would cause the call
> >> to fail.
> >>
> >> I don't disagree with the three abstract states you've defined
> >> (unrecognized, recognized but not routed, and routed), but I would
> >> prefer that (1) The Service URN were carried in an explicit marking
> >> field even if a new one has to be created (say, Requested-Service), and
> >> that (2) after routing (LoST) a call looks like any other call to a
> PSAP
> >> URI, but with an explicit marking.  I think this would be much more in
> >> the spirit of minimal surprise.
> >>
> >> --Richard
> >>
> >>
> >>
> >> Hannes Tschofenig wrote:
> >>> Hi all,
> >>>
> >>> after some discussions on the usage of the Service URN it seems that
> >>> most people in ECRIT agreed to move forward with the initially planned
> >>> approach. Below, you can find a description of how the Service URN
> would
> >>> be used in various scenarios.
> >>>
> >>> Are there any objections?
> >>>
> >>> Ciao
> >>> Hannes
> >>>
> >>> ---------------------
> >>>
> >>> == End Host Procedures ==
> >>>
> >>> * UA does not recognize the emergency call.
> >>>
> >>> To: Dial String
> >>> Request URI: Dial String
> >>> No Route header
> >>>
> >>> * UA runs LoST and determines the PSAP URI:
> >>>
> >>> Request URI: Service URN
> >>> To: Service URN
> >>> Route Header: PSAP URI
> >>>
> >>> * UA does not run LoST but recognizes the emergency call.
> >>>
> >>> Request URI: Service URN
> >>> To: Service URN
> >>> No Route header
> >>>
> >>>
> >>> == Proxy Procedures ==
> >>>
> >>> * Incoming request contains Service URN; Proxy runs LoST
> >>>
> >>> and determines the PSAP URI
> >>>
> >>> --- Input:
> >>>
> >>> Request URI: Service URN
> >>> To: Service URN
> >>> No Route header
> >>>
> >>> --- Output:
> >>>
> >>> Request URI: Service URN
> >>> To: Service URN
> >>> Route Header: PSAP URI
> >>>
> >>> * Incoming request contains Dial String; Proxy runs LoST
> >>>
> >>> and determines the PSAP URI:
> >>>
> >>> --- Input:
> >>>
> >>> Request URI: Dial String
> >>> To: Dial String
> >>> No Route header
> >>>
> >>> --- Output:
> >>>
> >>> Request URI: Service URN
> >>> To: Dial String
> >>> Route Header: PSAP URI
> >>>
> >>>
> >>>
> >>> Remark: "Dial String" refers to http://tools.ietf.org/html/rfc4967
> >>>
> >>>
> >>>
> >>> _______________________________________________
> >>> Ecrit mailing list
> >>> Ecrit@ietf.org
> >>> https://www1.ietf.org/mailman/listinfo/ecrit
> >>>
> >>>
> >>
> >>
> >> _______________________________________________
> >> Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
> >> This list is for NEW development of the core SIP Protocol
> >> Use sip-implementors@cs.columbia.edu for questions on current sip
> >> Use sipping@ietf.org for new developments on the application of sip
> >
> >
> >



_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Mon Sep 10 10:21:30 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1IUk70-0000Sr-96; Mon, 10 Sep 2007 10:19:38 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1IUk6y-0000Sa-H4
	for sip-confirm+ok@megatron.ietf.org; Mon, 10 Sep 2007 10:19:36 -0400
Received: from [10.90.34.44] (helo=chiedprmail1.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1IUk6y-0000SM-6n
	for sip@ietf.org; Mon, 10 Sep 2007 10:19:36 -0400
Received: from sea02-mxf01.citel.com ([205.234.66.116])
	by chiedprmail1.ietf.org with esmtp (Exim 4.43) id 1IUk6x-0007vF-Pw
	for sip@ietf.org; Mon, 10 Sep 2007 10:19:36 -0400
Received: from [10.8.50.21] (helo=sea02-mxc01.citel.com)
	by sea02-mxf01.citel.com with smtp (Exim 4.43) id 1IUk7W-0004cS-Sr
	for sip@ietf.org; Mon, 10 Sep 2007 07:20:10 -0700
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: [Sip] I-D ACTION:draft-ietf-sip-answermode-06.txt 
Date: Mon, 10 Sep 2007 07:19:31 -0700
Message-ID: <0D4E483A0E6E0A46861409E5D6C2011CAF56D4@sea02-mxc01.citel.com>
In-Reply-To: <E1IT1HC-00041o-A2@stiedprstage1.ietf.org>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] I-D ACTION:draft-ietf-sip-answermode-06.txt 
Thread-Index: Acfv+Y6i+G392FlWRVa+hld0iwUSXQDu+YcQ
References: <E1IT1HC-00041o-A2@stiedprstage1.ietf.org>
From: "Steve Langstaff" <steve.langstaff@citel.com>
To: <sip@ietf.org>
X-Spam-Score: 0.0 (/)
X-Scan-Signature: cab78e1e39c4b328567edb48482b6a69
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

At the last call of this document I raised the following issues:

SRL> Section 4.3.2 states:
SRL>
SRL>    The Answer-Mode and Priv-Answer-Mode header fields have
equivalent
SRL>    functions, except that Priv-Answer-Mode requests a higher level
of
SRL>    privilege in granting the answering mode specified by the
request.
SRL>=20
SRL> Would it not make sense to have a single header that performs both=20
SRL> of these equivalent functions, using a parameter (e.g. 'high' or
'level=3Dhigh') to distinguish between the two?
SRL>=20
SRL> This might have the following benefits:
SRL>=20
SRL> 1) The document would be smaller.
SRL> 2) The implementation may be simpler.
SRL> 3) If the need for more than just two levels of privilege were
found in the future then this could be easily extended, rather than
following the current pattern of needing another header, e.g.
Really-High-Priv-Answer-Mode:


My questions were answered by Dean, but I now notice the following in
the current draft:

   "4.1.  Procedures at User Agent Clients (UAC)

    4.1.1.  All Requests

       A UA supporting the Answer-Mode and Priv-Answer-Mode header
fields
       SHOULD indicate its support by including an option tag of
       "answermode" in the Supported header field of all requests it
sends."

Other sections also mention this single option tag.
=20
Would it not make more sense to use two separate option tags, e.g.
"answer-mode" and "priv-answer-mode"? That would seem to be more
orthogonal to me if this scheme were to be open to extension in the
future?=20



_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Mon Sep 10 10:31:41 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1IUkGu-0001NQ-FB; Mon, 10 Sep 2007 10:29:52 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1IUkGt-0001NH-24
	for sip-confirm+ok@megatron.ietf.org; Mon, 10 Sep 2007 10:29:51 -0400
Received: from [10.91.34.44] (helo=ietf-mx.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1IUkGs-0001N9-Og; Mon, 10 Sep 2007 10:29:50 -0400
Received: from rtp-iport-1.cisco.com ([64.102.122.148])
	by ietf-mx.ietf.org with esmtp (Exim 4.43)
	id 1IUkGr-0007FT-Fg; Mon, 10 Sep 2007 10:29:50 -0400
X-IronPort-AV: E=Sophos;i="4.20,231,1186372800"; d="scan'208";a="70624773"
Received: from rtp-dkim-2.cisco.com ([64.102.121.159])
	by rtp-iport-1.cisco.com with ESMTP; 10 Sep 2007 10:29:50 -0400
Received: from rtp-core-2.cisco.com (rtp-core-2.cisco.com [64.102.124.13])
	by rtp-dkim-2.cisco.com (8.12.11/8.12.11) with ESMTP id l8AETmXT008061; 
	Mon, 10 Sep 2007 10:29:48 -0400
Received: from xbh-rtp-211.amer.cisco.com (xbh-rtp-211.cisco.com
	[64.102.31.102])
	by rtp-core-2.cisco.com (8.12.10/8.12.6) with ESMTP id l8AETNBu016908; 
	Mon, 10 Sep 2007 14:29:36 GMT
Received: from xfe-rtp-202.amer.cisco.com ([64.102.31.21]) by
	xbh-rtp-211.amer.cisco.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Mon, 10 Sep 2007 10:29:15 -0400
Received: from [161.44.174.118] ([161.44.174.118]) by
	xfe-rtp-202.amer.cisco.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Mon, 10 Sep 2007 10:29:14 -0400
Message-ID: <46E554BA.2050701@cisco.com>
Date: Mon, 10 Sep 2007 10:29:14 -0400
From: Paul Kyzivat <pkyzivat@cisco.com>
User-Agent: Thunderbird 2.0.0.6 (Windows/20070728)
MIME-Version: 1.0
To: Brian Rosen <br@brianrosen.net>
Subject: Re: [Sip] Re: [Ecrit] Service URN Usage (UA Loose Routing)
References: <46E4F078.4070402@gmx.net> <46E53BA5.4080903@bbn.com>
	<020d01c7f3aa$24efe580$640fa8c0@cis.neustar.com>
In-Reply-To: <020d01c7f3aa$24efe580$640fa8c0@cis.neustar.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-OriginalArrivalTime: 10 Sep 2007 14:29:14.0738 (UTC)
	FILETIME=[F66E7520:01C7F3B6]
DKIM-Signature: v=0.5; a=rsa-sha256; q=dns/txt; l=6069; t=1189434588;
	x=1190298588; c=relaxed/simple; s=rtpdkim2001;
	h=Content-Type:From:Subject:Content-Transfer-Encoding:MIME-Version;
	d=cisco.com; i=pkyzivat@cisco.com;
	z=From:=20Paul=20Kyzivat=20<pkyzivat@cisco.com>
	|Subject:=20Re=3A=20[Sip]=20Re=3A=20[Ecrit]=20Service=20URN=20Usage=20(UA
	=20Loose=20Routing) |Sender:=20
	|To:=20Brian=20Rosen=20<br@brianrosen.net>;
	bh=1hCG/WMQfuloI0gnlFLdHJ9dLK73t+jAISiBiV6MWoM=;
	b=aKOv8dGmseNgSQ/tmaD8l9TRlw4yz4O5/MgHBtNgCUfAtTYQdfj0k74hvOnoor6OyIaZfvi6
	/aPcQ/a7M0k1jI5A+RGM/VN1qrSZuch7o5pMEG1V37R+6kSWf52RZJCi;
Authentication-Results: rtp-dkim-2; header.From=pkyzivat@cisco.com; dkim=pass (
	sig from cisco.com/rtpdkim2001 verified; ); 
X-Spam-Score: -4.0 (----)
X-Scan-Signature: 33cc095b503da4365ce57c727e553cf1
Cc: 'IETF SIP List' <sip@ietf.org>, 'ECRIT' <ecrit@ietf.org>
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

Brian,

I agree that there will be implementations that break whatever rules we 
make. But does that mean we should make no rules?

In this case it isn't even a matter of making a new rule - it is an old 
one I am talking about.

But the key here is to ensure that when we develop use cases, examples, 
etc. they don't break this rule. If a practical system will require 
breaking the rule then IMO another mechanism is needed.

The case that concerns me most here is when a UA is connected through an 
access network that is different from its home network. Then the access 
network preemptively decides that a particular R-URI looks like an 
emergency number in its domain, and acts accordingly, even though the 
R-URI isn't within the domain of the access network.

The point here of course is that there are no universal standards for 
the user part of SIP URIs. So there is no way that a proxy not 
responsible for the domain of the URI to decide that the user part is a 
dial string at all, and not something else. (Well, user=dialstring *is* 
a standard for the user part, but it *explicitly* is intended only for 
use within the responsible domain.)

In such a case, either the UA should be using the domain of the access 
network when constructing dial strings, or else the access network 
should have a business relationship with the home network that is 
sufficient for the access network to claim responsibility for the domain 
of the R-URI.

	Paul

Brian Rosen wrote:
> I think that if you look, you can find proxies that will break anything we
> can define.  No matter what we specify, there is sure to be a proxy out
> there that breaks it.  For example, there are proxies that strip any header
> they don't recognize.  They aren't supposed to, but they do.
> 
> It's futile to try and define any new behavior based on what non standard
> existing proxies will do.  In this case, they will have to recognize
> emergency calls and do the appropriate processing of them.
> 
> The test function would find these things, of course.
> 
> Brian
> 
> 
>> -----Original Message-----
>> From: Richard Barnes [mailto:rbarnes@bbn.com]
>> Sent: Monday, September 10, 2007 8:42 AM
>> To: Hannes Tschofenig
>> Cc: IETF SIP List; ECRIT
>> Subject: [Sip] Re: [Ecrit] Service URN Usage (UA Loose Routing)
>>
>> Hannes,
>>
>> I'm still worried that because we're using the routing fields for
>> marking, there's a risk that proxies will do things to those headers
>> that will remove the marking and cause the emergency call to fail.
>>
>> For instance, I've heard tell that some proxies like to strip all Route
>> headers from INVITE messages passing through them.  In your example
>> below, that would cause the call to need another LoST lookup, which may
>> be impossible if no subsequent proxy supports LoST, or if there's no
>> proxy-readable location in the INVITE.  Moreover, if a proxy changes the
>> To field or the Request URI, then downstream proxies might not even
>> recognize that a LoST lookup is required and thus would cause the call
>> to fail.
>>
>> I don't disagree with the three abstract states you've defined
>> (unrecognized, recognized but not routed, and routed), but I would
>> prefer that (1) The Service URN were carried in an explicit marking
>> field even if a new one has to be created (say, Requested-Service), and
>> that (2) after routing (LoST) a call looks like any other call to a PSAP
>> URI, but with an explicit marking.  I think this would be much more in
>> the spirit of minimal surprise.
>>
>> --Richard
>>
>>
>>
>> Hannes Tschofenig wrote:
>>> Hi all,
>>>
>>> after some discussions on the usage of the Service URN it seems that
>>> most people in ECRIT agreed to move forward with the initially planned
>>> approach. Below, you can find a description of how the Service URN would
>>> be used in various scenarios.
>>>
>>> Are there any objections?
>>>
>>> Ciao
>>> Hannes
>>>
>>> ---------------------
>>>
>>> == End Host Procedures ==
>>>
>>> * UA does not recognize the emergency call.
>>>
>>> To: Dial String
>>> Request URI: Dial String
>>> No Route header
>>>
>>> * UA runs LoST and determines the PSAP URI:
>>>
>>> Request URI: Service URN
>>> To: Service URN
>>> Route Header: PSAP URI
>>>
>>> * UA does not run LoST but recognizes the emergency call.
>>>
>>> Request URI: Service URN
>>> To: Service URN
>>> No Route header
>>>
>>>
>>> == Proxy Procedures ==
>>>
>>> * Incoming request contains Service URN; Proxy runs LoST
>>>
>>> and determines the PSAP URI
>>>
>>> --- Input:
>>>
>>> Request URI: Service URN
>>> To: Service URN
>>> No Route header
>>>
>>> --- Output:
>>>
>>> Request URI: Service URN
>>> To: Service URN
>>> Route Header: PSAP URI
>>>
>>> * Incoming request contains Dial String; Proxy runs LoST
>>>
>>> and determines the PSAP URI:
>>>
>>> --- Input:
>>>
>>> Request URI: Dial String
>>> To: Dial String
>>> No Route header
>>>
>>> --- Output:
>>>
>>> Request URI: Service URN
>>> To: Dial String
>>> Route Header: PSAP URI
>>>
>>>
>>>
>>> Remark: "Dial String" refers to http://tools.ietf.org/html/rfc4967
>>>
>>>
>>>
>>> _______________________________________________
>>> Ecrit mailing list
>>> Ecrit@ietf.org
>>> https://www1.ietf.org/mailman/listinfo/ecrit
>>>
>>>
>>
>>
>> _______________________________________________
>> Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
>> This list is for NEW development of the core SIP Protocol
>> Use sip-implementors@cs.columbia.edu for questions on current sip
>> Use sipping@ietf.org for new developments on the application of sip
> 
> 
> 
> _______________________________________________
> Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
> 


_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Mon Sep 10 10:44:13 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1IUkT5-00041Z-ID; Mon, 10 Sep 2007 10:42:27 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1IUkT4-0003vW-GE
	for sip-confirm+ok@megatron.ietf.org; Mon, 10 Sep 2007 10:42:26 -0400
Received: from [10.90.34.44] (helo=chiedprmail1.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1IUkT4-0003rl-2P; Mon, 10 Sep 2007 10:42:26 -0400
Received: from ebru.winwebhosting.com ([74.52.236.50])
	by chiedprmail1.ietf.org with esmtp (Exim 4.43)
	id 1IUkT3-0000Kd-65; Mon, 10 Sep 2007 10:42:25 -0400
Received: from dynamic-acs-24-154-127-115.zoominternet.net ([24.154.127.115]
	helo=BROSLT41xp) by ebru.winwebhosting.com with esmtpa (Exim 4.68)
	(envelope-from <br@brianrosen.net>)
	id 1IUkSu-0002uX-7L; Mon, 10 Sep 2007 09:42:16 -0500
From: "Brian Rosen" <br@brianrosen.net>
To: "'Paul Kyzivat'" <pkyzivat@cisco.com>
References: <46E4F078.4070402@gmx.net> <46E53BA5.4080903@bbn.com>
	<020d01c7f3aa$24efe580$640fa8c0@cis.neustar.com>
	<46E554BA.2050701@cisco.com>
Subject: RE: [Sip] Re: [Ecrit] Service URN Usage (UA Loose Routing)
Date: Mon, 10 Sep 2007 10:42:24 -0400
Message-ID: <023501c7f3b8$cd2c8f10$640fa8c0@cis.neustar.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook 11
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.3028
Thread-Index: Acfztwyk5VMi+Z4ITbWrzoUTPXzlKgAATJSw
In-Reply-To: <46E554BA.2050701@cisco.com>
X-AntiAbuse: This header was added to track abuse,
	please include it with any abuse report
X-AntiAbuse: Primary Hostname - ebru.winwebhosting.com
X-AntiAbuse: Original Domain - ietf.org
X-AntiAbuse: Originator/Caller UID/GID - [47 12] / [47 12]
X-AntiAbuse: Sender Address Domain - brianrosen.net
X-Source: 
X-Source-Args: 
X-Source-Dir: 
X-Spam-Score: 0.0 (/)
X-Scan-Signature: df9edf1223802dd4cf213867a3af6121
Cc: 'IETF SIP List' <sip@ietf.org>, 'ECRIT' <ecrit@ietf.org>
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

I agree with your sentiment.

I don't see how the access network is in the calling path at all unless it's
an IMS-like system where that is the agreement.  In that case, by
definition, the access network has a relationship with the calling network.
Normally, the UA's proxy discovery mechanism leads it to its calling
network, not anything in the access network.

I think if it happened accidently, it would work; no matter who routes it,
the PSAP URI leads to the right place.

Brian

> -----Original Message-----
> From: Paul Kyzivat [mailto:pkyzivat@cisco.com]
> Sent: Monday, September 10, 2007 10:29 AM
> To: Brian Rosen
> Cc: 'Richard Barnes'; 'Hannes Tschofenig'; 'IETF SIP List'; 'ECRIT'
> Subject: Re: [Sip] Re: [Ecrit] Service URN Usage (UA Loose Routing)
> 
> Brian,
> 
> I agree that there will be implementations that break whatever rules we
> make. But does that mean we should make no rules?
> 
> In this case it isn't even a matter of making a new rule - it is an old
> one I am talking about.
> 
> But the key here is to ensure that when we develop use cases, examples,
> etc. they don't break this rule. If a practical system will require
> breaking the rule then IMO another mechanism is needed.
> 
> The case that concerns me most here is when a UA is connected through an
> access network that is different from its home network. Then the access
> network preemptively decides that a particular R-URI looks like an
> emergency number in its domain, and acts accordingly, even though the
> R-URI isn't within the domain of the access network.
> 
> The point here of course is that there are no universal standards for
> the user part of SIP URIs. So there is no way that a proxy not
> responsible for the domain of the URI to decide that the user part is a
> dial string at all, and not something else. (Well, user=dialstring *is*
> a standard for the user part, but it *explicitly* is intended only for
> use within the responsible domain.)
> 
> In such a case, either the UA should be using the domain of the access
> network when constructing dial strings, or else the access network
> should have a business relationship with the home network that is
> sufficient for the access network to claim responsibility for the domain
> of the R-URI.
> 
> 	Paul
> 
> Brian Rosen wrote:
> > I think that if you look, you can find proxies that will break anything
> we
> > can define.  No matter what we specify, there is sure to be a proxy out
> > there that breaks it.  For example, there are proxies that strip any
> header
> > they don't recognize.  They aren't supposed to, but they do.
> >
> > It's futile to try and define any new behavior based on what non
> standard
> > existing proxies will do.  In this case, they will have to recognize
> > emergency calls and do the appropriate processing of them.
> >
> > The test function would find these things, of course.
> >
> > Brian
> >
> >
> >> -----Original Message-----
> >> From: Richard Barnes [mailto:rbarnes@bbn.com]
> >> Sent: Monday, September 10, 2007 8:42 AM
> >> To: Hannes Tschofenig
> >> Cc: IETF SIP List; ECRIT
> >> Subject: [Sip] Re: [Ecrit] Service URN Usage (UA Loose Routing)
> >>
> >> Hannes,
> >>
> >> I'm still worried that because we're using the routing fields for
> >> marking, there's a risk that proxies will do things to those headers
> >> that will remove the marking and cause the emergency call to fail.
> >>
> >> For instance, I've heard tell that some proxies like to strip all Route
> >> headers from INVITE messages passing through them.  In your example
> >> below, that would cause the call to need another LoST lookup, which may
> >> be impossible if no subsequent proxy supports LoST, or if there's no
> >> proxy-readable location in the INVITE.  Moreover, if a proxy changes
> the
> >> To field or the Request URI, then downstream proxies might not even
> >> recognize that a LoST lookup is required and thus would cause the call
> >> to fail.
> >>
> >> I don't disagree with the three abstract states you've defined
> >> (unrecognized, recognized but not routed, and routed), but I would
> >> prefer that (1) The Service URN were carried in an explicit marking
> >> field even if a new one has to be created (say, Requested-Service), and
> >> that (2) after routing (LoST) a call looks like any other call to a
> PSAP
> >> URI, but with an explicit marking.  I think this would be much more in
> >> the spirit of minimal surprise.
> >>
> >> --Richard
> >>
> >>
> >>
> >> Hannes Tschofenig wrote:
> >>> Hi all,
> >>>
> >>> after some discussions on the usage of the Service URN it seems that
> >>> most people in ECRIT agreed to move forward with the initially planned
> >>> approach. Below, you can find a description of how the Service URN
> would
> >>> be used in various scenarios.
> >>>
> >>> Are there any objections?
> >>>
> >>> Ciao
> >>> Hannes
> >>>
> >>> ---------------------
> >>>
> >>> == End Host Procedures ==
> >>>
> >>> * UA does not recognize the emergency call.
> >>>
> >>> To: Dial String
> >>> Request URI: Dial String
> >>> No Route header
> >>>
> >>> * UA runs LoST and determines the PSAP URI:
> >>>
> >>> Request URI: Service URN
> >>> To: Service URN
> >>> Route Header: PSAP URI
> >>>
> >>> * UA does not run LoST but recognizes the emergency call.
> >>>
> >>> Request URI: Service URN
> >>> To: Service URN
> >>> No Route header
> >>>
> >>>
> >>> == Proxy Procedures ==
> >>>
> >>> * Incoming request contains Service URN; Proxy runs LoST
> >>>
> >>> and determines the PSAP URI
> >>>
> >>> --- Input:
> >>>
> >>> Request URI: Service URN
> >>> To: Service URN
> >>> No Route header
> >>>
> >>> --- Output:
> >>>
> >>> Request URI: Service URN
> >>> To: Service URN
> >>> Route Header: PSAP URI
> >>>
> >>> * Incoming request contains Dial String; Proxy runs LoST
> >>>
> >>> and determines the PSAP URI:
> >>>
> >>> --- Input:
> >>>
> >>> Request URI: Dial String
> >>> To: Dial String
> >>> No Route header
> >>>
> >>> --- Output:
> >>>
> >>> Request URI: Service URN
> >>> To: Dial String
> >>> Route Header: PSAP URI
> >>>
> >>>
> >>>
> >>> Remark: "Dial String" refers to http://tools.ietf.org/html/rfc4967
> >>>
> >>>
> >>>
> >>> _______________________________________________
> >>> Ecrit mailing list
> >>> Ecrit@ietf.org
> >>> https://www1.ietf.org/mailman/listinfo/ecrit
> >>>
> >>>
> >>
> >>
> >> _______________________________________________
> >> Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
> >> This list is for NEW development of the core SIP Protocol
> >> Use sip-implementors@cs.columbia.edu for questions on current sip
> >> Use sipping@ietf.org for new developments on the application of sip
> >
> >
> >
> > _______________________________________________
> > Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
> > This list is for NEW development of the core SIP Protocol
> > Use sip-implementors@cs.columbia.edu for questions on current sip
> > Use sipping@ietf.org for new developments on the application of sip
> >



_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Mon Sep 10 11:33:29 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1IUlEG-000538-6B; Mon, 10 Sep 2007 11:31:12 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1IUlEE-000508-Ns
	for sip-confirm+ok@megatron.ietf.org; Mon, 10 Sep 2007 11:31:10 -0400
Received: from [10.90.34.44] (helo=chiedprmail1.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1IUlEE-000500-Bn; Mon, 10 Sep 2007 11:31:10 -0400
Received: from rtp-iport-1.cisco.com ([64.102.122.148])
	by chiedprmail1.ietf.org with esmtp (Exim 4.43)
	id 1IUlED-0002EX-Dz; Mon, 10 Sep 2007 11:31:10 -0400
X-IronPort-AV: E=Sophos;i="4.20,231,1186372800"; d="scan'208";a="70631851"
Received: from rtp-dkim-2.cisco.com ([64.102.121.159])
	by rtp-iport-1.cisco.com with ESMTP; 10 Sep 2007 11:31:10 -0400
Received: from rtp-core-1.cisco.com (rtp-core-1.cisco.com [64.102.124.12])
	by rtp-dkim-2.cisco.com (8.12.11/8.12.11) with ESMTP id l8AFV8eZ007141; 
	Mon, 10 Sep 2007 11:31:08 -0400
Received: from xbh-rtp-201.amer.cisco.com (xbh-rtp-201.cisco.com
	[64.102.31.12])
	by rtp-core-1.cisco.com (8.12.10/8.12.6) with ESMTP id l8AFUxEA025262; 
	Mon, 10 Sep 2007 15:31:04 GMT
Received: from xfe-rtp-201.amer.cisco.com ([64.102.31.38]) by
	xbh-rtp-201.amer.cisco.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Mon, 10 Sep 2007 11:30:57 -0400
Received: from [161.44.174.118] ([161.44.174.118]) by
	xfe-rtp-201.amer.cisco.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Mon, 10 Sep 2007 11:30:56 -0400
Message-ID: <46E5632F.9070003@cisco.com>
Date: Mon, 10 Sep 2007 11:30:55 -0400
From: Paul Kyzivat <pkyzivat@cisco.com>
User-Agent: Thunderbird 2.0.0.6 (Windows/20070728)
MIME-Version: 1.0
To: Brian Rosen <br@brianrosen.net>
Subject: Re: [Sip] Re: [Ecrit] Service URN Usage (UA Loose Routing)
References: <46E4F078.4070402@gmx.net> <46E53BA5.4080903@bbn.com>
	<020d01c7f3aa$24efe580$640fa8c0@cis.neustar.com>
	<46E554BA.2050701@cisco.com>
	<023501c7f3b8$cd2c8f10$640fa8c0@cis.neustar.com>
In-Reply-To: <023501c7f3b8$cd2c8f10$640fa8c0@cis.neustar.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-OriginalArrivalTime: 10 Sep 2007 15:30:56.0857 (UTC)
	FILETIME=[9510FC90:01C7F3BF]
DKIM-Signature: v=0.5; a=rsa-sha256; q=dns/txt; l=8058; t=1189438268;
	x=1190302268; c=relaxed/simple; s=rtpdkim2001;
	h=Content-Type:From:Subject:Content-Transfer-Encoding:MIME-Version;
	d=cisco.com; i=pkyzivat@cisco.com;
	z=From:=20Paul=20Kyzivat=20<pkyzivat@cisco.com>
	|Subject:=20Re=3A=20[Sip]=20Re=3A=20[Ecrit]=20Service=20URN=20Usage=20(UA
	=20Loose=20Routing) |Sender:=20
	|To:=20Brian=20Rosen=20<br@brianrosen.net>;
	bh=+SyB6QLinTWJTWFY+aqXcwDn39pgqVlvMfwy+51dcRU=;
	b=QbVDUDHBnSi5rGzl8brR+L1KeQCkTaFInopJkHOeq9zCvJFnX7+uZZkFaEABz/568XWwcBIB
	ehMvtTsfP1k6JzfWsAIoaJ7rdAJXyLFnVnRB8LUNITTPut8Oy6a/gXQs;
Authentication-Results: rtp-dkim-2; header.From=pkyzivat@cisco.com; dkim=pass (
	sig from cisco.com/rtpdkim2001 verified; ); 
X-Spam-Score: 0.0 (/)
X-Scan-Signature: 36fb765c89ed47dab364ab702a78e8fd
Cc: 'IETF SIP List' <sip@ietf.org>, 'ECRIT' <ecrit@ietf.org>
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org



Brian Rosen wrote:
> I agree with your sentiment.
> 
> I don't see how the access network is in the calling path at all

There have been a lot of topologies discussed from time to time. Who 
knows what might be out there?

> unless it's
> an IMS-like system where that is the agreement. 

Even in IMS I wonder if there is that level of agreement, about dial 
strings. I haven't seen much evidence of that.

> In that case, by
> definition, the access network has a relationship with the calling network.
> Normally, the UA's proxy discovery mechanism leads it to its calling
> network, not anything in the access network.
> 
> I think if it happened accidently, it would work; no matter who routes it,
> the PSAP URI leads to the right place.

If the UAC has detected the emergency call and put in the Route headers, 
or even just put in the service URN, then there isn't a problem. It is 
when that isn't the case that is the issue.

IMO, if the UAC wants to have the access proxy second guessing whether 
its dial strings are emergency numbers in the access network then it 
should be using the domain of the access network to represent its dial 
strings. (Then the access network can translate to something in the home 
network based on some agreement.)

	Paul

> Brian
> 
>> -----Original Message-----
>> From: Paul Kyzivat [mailto:pkyzivat@cisco.com]
>> Sent: Monday, September 10, 2007 10:29 AM
>> To: Brian Rosen
>> Cc: 'Richard Barnes'; 'Hannes Tschofenig'; 'IETF SIP List'; 'ECRIT'
>> Subject: Re: [Sip] Re: [Ecrit] Service URN Usage (UA Loose Routing)
>>
>> Brian,
>>
>> I agree that there will be implementations that break whatever rules we
>> make. But does that mean we should make no rules?
>>
>> In this case it isn't even a matter of making a new rule - it is an old
>> one I am talking about.
>>
>> But the key here is to ensure that when we develop use cases, examples,
>> etc. they don't break this rule. If a practical system will require
>> breaking the rule then IMO another mechanism is needed.
>>
>> The case that concerns me most here is when a UA is connected through an
>> access network that is different from its home network. Then the access
>> network preemptively decides that a particular R-URI looks like an
>> emergency number in its domain, and acts accordingly, even though the
>> R-URI isn't within the domain of the access network.
>>
>> The point here of course is that there are no universal standards for
>> the user part of SIP URIs. So there is no way that a proxy not
>> responsible for the domain of the URI to decide that the user part is a
>> dial string at all, and not something else. (Well, user=dialstring *is*
>> a standard for the user part, but it *explicitly* is intended only for
>> use within the responsible domain.)
>>
>> In such a case, either the UA should be using the domain of the access
>> network when constructing dial strings, or else the access network
>> should have a business relationship with the home network that is
>> sufficient for the access network to claim responsibility for the domain
>> of the R-URI.
>>
>> 	Paul
>>
>> Brian Rosen wrote:
>>> I think that if you look, you can find proxies that will break anything
>> we
>>> can define.  No matter what we specify, there is sure to be a proxy out
>>> there that breaks it.  For example, there are proxies that strip any
>> header
>>> they don't recognize.  They aren't supposed to, but they do.
>>>
>>> It's futile to try and define any new behavior based on what non
>> standard
>>> existing proxies will do.  In this case, they will have to recognize
>>> emergency calls and do the appropriate processing of them.
>>>
>>> The test function would find these things, of course.
>>>
>>> Brian
>>>
>>>
>>>> -----Original Message-----
>>>> From: Richard Barnes [mailto:rbarnes@bbn.com]
>>>> Sent: Monday, September 10, 2007 8:42 AM
>>>> To: Hannes Tschofenig
>>>> Cc: IETF SIP List; ECRIT
>>>> Subject: [Sip] Re: [Ecrit] Service URN Usage (UA Loose Routing)
>>>>
>>>> Hannes,
>>>>
>>>> I'm still worried that because we're using the routing fields for
>>>> marking, there's a risk that proxies will do things to those headers
>>>> that will remove the marking and cause the emergency call to fail.
>>>>
>>>> For instance, I've heard tell that some proxies like to strip all Route
>>>> headers from INVITE messages passing through them.  In your example
>>>> below, that would cause the call to need another LoST lookup, which may
>>>> be impossible if no subsequent proxy supports LoST, or if there's no
>>>> proxy-readable location in the INVITE.  Moreover, if a proxy changes
>> the
>>>> To field or the Request URI, then downstream proxies might not even
>>>> recognize that a LoST lookup is required and thus would cause the call
>>>> to fail.
>>>>
>>>> I don't disagree with the three abstract states you've defined
>>>> (unrecognized, recognized but not routed, and routed), but I would
>>>> prefer that (1) The Service URN were carried in an explicit marking
>>>> field even if a new one has to be created (say, Requested-Service), and
>>>> that (2) after routing (LoST) a call looks like any other call to a
>> PSAP
>>>> URI, but with an explicit marking.  I think this would be much more in
>>>> the spirit of minimal surprise.
>>>>
>>>> --Richard
>>>>
>>>>
>>>>
>>>> Hannes Tschofenig wrote:
>>>>> Hi all,
>>>>>
>>>>> after some discussions on the usage of the Service URN it seems that
>>>>> most people in ECRIT agreed to move forward with the initially planned
>>>>> approach. Below, you can find a description of how the Service URN
>> would
>>>>> be used in various scenarios.
>>>>>
>>>>> Are there any objections?
>>>>>
>>>>> Ciao
>>>>> Hannes
>>>>>
>>>>> ---------------------
>>>>>
>>>>> == End Host Procedures ==
>>>>>
>>>>> * UA does not recognize the emergency call.
>>>>>
>>>>> To: Dial String
>>>>> Request URI: Dial String
>>>>> No Route header
>>>>>
>>>>> * UA runs LoST and determines the PSAP URI:
>>>>>
>>>>> Request URI: Service URN
>>>>> To: Service URN
>>>>> Route Header: PSAP URI
>>>>>
>>>>> * UA does not run LoST but recognizes the emergency call.
>>>>>
>>>>> Request URI: Service URN
>>>>> To: Service URN
>>>>> No Route header
>>>>>
>>>>>
>>>>> == Proxy Procedures ==
>>>>>
>>>>> * Incoming request contains Service URN; Proxy runs LoST
>>>>>
>>>>> and determines the PSAP URI
>>>>>
>>>>> --- Input:
>>>>>
>>>>> Request URI: Service URN
>>>>> To: Service URN
>>>>> No Route header
>>>>>
>>>>> --- Output:
>>>>>
>>>>> Request URI: Service URN
>>>>> To: Service URN
>>>>> Route Header: PSAP URI
>>>>>
>>>>> * Incoming request contains Dial String; Proxy runs LoST
>>>>>
>>>>> and determines the PSAP URI:
>>>>>
>>>>> --- Input:
>>>>>
>>>>> Request URI: Dial String
>>>>> To: Dial String
>>>>> No Route header
>>>>>
>>>>> --- Output:
>>>>>
>>>>> Request URI: Service URN
>>>>> To: Dial String
>>>>> Route Header: PSAP URI
>>>>>
>>>>>
>>>>>
>>>>> Remark: "Dial String" refers to http://tools.ietf.org/html/rfc4967
>>>>>
>>>>>
>>>>>
>>>>> _______________________________________________
>>>>> Ecrit mailing list
>>>>> Ecrit@ietf.org
>>>>> https://www1.ietf.org/mailman/listinfo/ecrit
>>>>>
>>>>>
>>>>
>>>> _______________________________________________
>>>> Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
>>>> This list is for NEW development of the core SIP Protocol
>>>> Use sip-implementors@cs.columbia.edu for questions on current sip
>>>> Use sipping@ietf.org for new developments on the application of sip
>>>
>>>
>>> _______________________________________________
>>> Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
>>> This list is for NEW development of the core SIP Protocol
>>> Use sip-implementors@cs.columbia.edu for questions on current sip
>>> Use sipping@ietf.org for new developments on the application of sip
>>>
> 


_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Mon Sep 10 13:02:00 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1IUmbl-0003Vw-L9; Mon, 10 Sep 2007 12:59:33 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1IUmbk-0003Vq-0w
	for sip-confirm+ok@megatron.ietf.org; Mon, 10 Sep 2007 12:59:32 -0400
Received: from [10.91.34.44] (helo=ietf-mx.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1IUmbj-0003Vi-Nj
	for sip@ietf.org; Mon, 10 Sep 2007 12:59:31 -0400
Received: from zrtps0kp.nortel.com ([47.140.192.56])
	by ietf-mx.ietf.org with esmtp (Exim 4.43) id 1IUmbi-00037t-Hf
	for sip@ietf.org; Mon, 10 Sep 2007 12:59:31 -0400
Received: from zrc2hxm0.corp.nortel.com (zrc2hxm0.corp.nortel.com
	[47.103.123.71])
	by zrtps0kp.nortel.com (Switch-2.2.6/Switch-2.2.0) with ESMTP id
	l8AGxPb07713; Mon, 10 Sep 2007 16:59:25 GMT
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: [Sip] INFO
Date: Mon, 10 Sep 2007 11:59:02 -0500
Message-ID: <1ECE0EB50388174790F9694F77522CCF11ED8025@zrc2hxm0.corp.nortel.com>
In-Reply-To: <6FC4416DDE56C44DA0AEE67BC7CA4371169E8AE8@zrc2hxm2.corp.nortel.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] INFO
Thread-Index: AcfkO3T4s2cG+lAuEdy/WQAWy4mm/wHUBx+wAOMs5UkADqmUsAAKRtNuAIKOB0AAdotb4AAa0MKA
References: <1ECE0EB50388174790F9694F77522CCF11DF8FEF@zrc2hxm0.corp.nortel.com>
	<C30389ED.A8BE%eburger@bea.com>
	<000c01c7f18c$b0723a60$800101df@acmepacket.com>
	<6FC4416DDE56C44DA0AEE67BC7CA4371169E8AE8@zrc2hxm2.corp.nortel.com>
From: "Francois Audet" <audet@nortel.com>
To: "Brian Stucker" <bstucker@nortel.com>,
	"Hadriel Kaplan" <HKaplan@acmepacket.com>, "Eric Burger" <eburger@bea.com>
X-Spam-Score: 0.0 (/)
X-Scan-Signature: 82c9bddb247d9ba4471160a9a865a5f3
Cc: sip <sip@ietf.org>
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

Hadriel, I don't get your example.

You would only get a KPML subscription for calls that actually terminate
to=20
the voicemail server. And I would imagine that MOST calls to a voicemail
server
would actually use DTMF and therefore require a subscription.=20

> -----Original Message-----
> From: Stucker, Brian (RICH1:AR00)=20
> Sent: Sunday, September 09, 2007 21:16
> To: Hadriel Kaplan; 'Eric Burger'; Audet, Francois (SC100:3055)
> Cc: 'sip'
> Subject: RE: [Sip] INFO
>=20
> =20
>=20
> > -----Original Message-----
> > From: Hadriel Kaplan [mailto:HKaplan@acmepacket.com]
> > Sent: Friday, September 07, 2007 3:22 PM
> > To: 'Eric Burger'; Audet, Francois (SC100:3055)
> > Cc: 'sip'
> > Subject: RE: [Sip] INFO
> >=20
> > But there are cases where the KPML model is vastly greater=20
> overhead. =20
> >=20
> > Consider a typical voicemail server.  For calls to the voicemail=20
> > server to retrieve messages, KPML is probably good because you can=20
> > define a digit map for the mailbox number and password which would=20
> > reduce overall message counts.  But for calls to leave a voicemail=20
> > (which I assume greatly outnumber those to retrieve them, but you=20
> > would know more about that than I), KPML has to create a=20
> subscription=20
> > for every single call, just in case the caller happens to=20
> press some=20
> > optional dtmf that the voicemail app supports.  For each and every=20
> > call, a subscription has to be routed and its state saved=20
> by stateful=20
> > proxies along the path to the UAs, even though only a small=20
> fraction=20
> > of the calls ever press a DTMF button.
>=20
> Unless your voicemail users have a severe case of=20
> obsessive-compulsive voicemailbox checking syndrome, and the=20
> users aren't checking their mailboxes when they have no MWI=20
> indication, the number of deposits is guaranteed to at least=20
> equal, and certainly exceed the number of retrievals for any=20
> non-trivial population of subscribers. Otherwise, you'd only=20
> need space for one voicemail in your mailbox. The fact that I=20
> doubt anyone has ever heard of such a ridiculous voicemail=20
> limit seems to confirm my assumptions.
>=20
> Regards,
> Brian
>=20


_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Mon Sep 10 14:48:27 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1IUoH5-0000St-Bw; Mon, 10 Sep 2007 14:46:19 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1IUoH3-0000S2-US
	for sip-confirm+ok@megatron.ietf.org; Mon, 10 Sep 2007 14:46:17 -0400
Received: from [10.91.34.44] (helo=ietf-mx.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1IUoH3-0000Rk-KU
	for sip@ietf.org; Mon, 10 Sep 2007 14:46:17 -0400
Received: from zrtps0kp.nortel.com ([47.140.192.56])
	by ietf-mx.ietf.org with esmtp (Exim 4.43) id 1IUoH2-0007uR-Db
	for sip@ietf.org; Mon, 10 Sep 2007 14:46:17 -0400
Received: from zrc2hxm2.corp.nortel.com (zrc2hxm2.corp.nortel.com
	[47.103.123.73])
	by zrtps0kp.nortel.com (Switch-2.2.6/Switch-2.2.0) with ESMTP id
	l8AIkDb27821; Mon, 10 Sep 2007 18:46:13 GMT
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: [Sip] INFO
Date: Mon, 10 Sep 2007 13:46:00 -0500
Message-ID: <6FC4416DDE56C44DA0AEE67BC7CA437116A57D59@zrc2hxm2.corp.nortel.com>
In-Reply-To: <A5E9CBACB726CB4BAA3DAFF0925C188F129D4D@repbex01.amer.bea.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] INFO
Thread-Index: AcfopsS6ijL/eVSeR7OkrFxhvjEZ1wCqsuc+AgRJN7AAEj1plgAJzfOg
References: <A5E9CBACB726CB4BAA3DAFF0925C188F129D4D@repbex01.amer.bea.com>
From: "Brian Stucker" <bstucker@nortel.com>
To: "Eric Burger" <eburger@bea.com>
X-Spam-Score: 0.0 (/)
X-Scan-Signature: b5d20af10c334b36874c0264b10f59f1
Cc: sip@ietf.org
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

=20

> -----Original Message-----
> From: Eric Burger [mailto:eburger@bea.com]=20
> Sent: Monday, September 10, 2007 8:08 AM
> To: Stucker, Brian (RICH1:AR00)
> Cc: sip@ietf.org
> Subject: Re: [Sip] INFO
>=20
> Brian Stucker Says:
>    I'm not really sure what your point was
>    here unless you are against people
>    writing down a common way of using
>    a protocol amongst themselves
>=20
> Actually, I have no problem with "people writing down a=20
> common way of using a protocol". One would offer that is the=20
> work of the IETF. However, the key phrase I have a problem=20
> with is, "amongst themselves." The IETF makes protocols for=20
> everybody, not just members of the garden club. The garden=20
> club can do whatever they want inside their garden. The IETF=20
> has no right nor interest in mandating what goes on inside=20
> their garden.

True, but it's not a club. Those disclaimers are to limit reproduction
of the material by other SDOs without permission. You don't have to be a
member of the garden club to use the protocols written by the garden
club, such as they are. Whether you want to or not is another matter
entirely.

[SNIP]

> In my mind, INFO for DTMF falls into the, "it is not an=20
> Internet protocol, but you can do whatever you want in your=20
> playground, so long as your fences are good and you will=20
> still play with me. P.S., do not claim you are using Internet=20
> protocols, because you are not."

Only because they happen to not be written down as an IETF document,
which, as I suggested earlier, may be the solution to the problem.

>=20
> P-Preferred-Service is an example of something that falls=20
> into "the toxic substance that will bleed through, so do not=20
> even think of using it" category.

So then I would be most interested to hear your thoughts on the
following:

The first sentence in section 2 in your draft states:

	"There is no programmatic way of determining what the content of
an INFO request means."

You could say the same is true for an INVITE. To the 'User-Agent's point
of view, an [INVITE] just appears'. Without a negotiation mechanism such
as SDP, is this INVITE conveying an conference call, a user-to-user
gaming session, or what? We can't programmatically determine what an
INVITE with no SDP means. So if I'm following your argument here wrt
INFO, the analogous solution would be to deprecate INVITE unless it
always has SDP.

But wait, there's more... Again, using your line of thought for INFO,
SDP may not be good enough:

	"However, as we learned in the messaging community [7], relying
upon the MIME type alone is not sufficient to determine the context of
the message. Clearly, as shown in the previous paragraph [which
describes using the MIME type of an INFO as a negotiation mechanism],
the message content relates to the message context. However, it is quite
easy to imagine situations where the same content type has multiple
meanings for a User Agent."

So if the content relates to the message context, and the content and
type can be ambiguous, such as the INVITE contains SDP, or the SDP
contains an audio stream (is it a conference or is it a podcast or what)
or worse, SDP that contains content types that are not well-known, then
clearly SIP and SDP are not enough to correctly identify what the User
Agent is to do with this request. Hence, a mechanism such as
P-Preferred-Service rears it's ugly head.

As a result, if I understand you correctly, rather than correct the
negotiation problem (more like just write it down because it's already
being neogitated out there in the wild in many cases) and let the UAs
deal with it, you'd rather deprecate the whole thing in favor of
something else. Correct?

Also, your list of examples is missing one usecase that KPML definitely
does not address (but session timers does): INFO is used to detect if a
call is still alive.

Cheers,
Brian


_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Mon Sep 10 15:02:28 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1IUoUz-0003Nc-M7; Mon, 10 Sep 2007 15:00:41 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1IUoUy-0003NO-A5
	for sip-confirm+ok@megatron.ietf.org; Mon, 10 Sep 2007 15:00:40 -0400
Received: from [10.91.34.44] (helo=ietf-mx.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1IUoUy-0003NA-0J
	for sip@ietf.org; Mon, 10 Sep 2007 15:00:40 -0400
Received: from imr1.ericy.com ([198.24.6.9])
	by ietf-mx.ietf.org with esmtp (Exim 4.43) id 1IUoUw-0000Kx-Lv
	for sip@ietf.org; Mon, 10 Sep 2007 15:00:39 -0400
Received: from eusrcmw750.eamcs.ericsson.se (eusrcmw750.exu.ericsson.se
	[138.85.77.50])
	by imr1.ericy.com (8.13.1/8.13.1) with ESMTP id l8AJ7JdL005582;
	Mon, 10 Sep 2007 14:07:19 -0500
Received: from eusrcmw751.eamcs.ericsson.se ([138.85.77.51]) by
	eusrcmw750.eamcs.ericsson.se with Microsoft SMTPSVC(6.0.3790.1830); 
	Mon, 10 Sep 2007 14:00:32 -0500
Received: from esealmw129.eemea.ericsson.se ([153.88.254.177]) by
	eusrcmw751.eamcs.ericsson.se with Microsoft SMTPSVC(6.0.3790.1830); 
	Mon, 10 Sep 2007 14:00:32 -0500
Received: from esealmw113.eemea.ericsson.se ([153.88.200.4]) by
	esealmw129.eemea.ericsson.se with Microsoft SMTPSVC(6.0.3790.1830); 
	Mon, 10 Sep 2007 21:00:29 +0200
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: RE: [Sip] INFO
Date: Mon, 10 Sep 2007 21:00:28 +0200
Message-ID: <7A875FE512FD074BBD289B8F21D8F1F301F3F981C8@esealmw113.eemea.ericsson.se>
In-Reply-To: <C303F85E.A902%eburger@bea.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] INFO
Thread-Index: AcfopsS6ijL/eVSeR7OkrFxhvjEZ1wCqsuc+ABF4AvAA4JbFswAlLCkAAAPXpb8A/NglkA==
References: <431F3BDE11BF2F42A22CBEFA36BD88A401774AA9@mailserver.vocaltec.local>
	<C303F85E.A902%eburger@bea.com>
From: "Christer Holmberg (JO/LMF)" <christer.holmberg@ericsson.com>
To: "Eric Burger" <eburger@bea.com>, "Bram Verburg" <bram@vocaltec.com>
X-OriginalArrivalTime: 10 Sep 2007 19:00:29.0870 (UTC)
	FILETIME=[DB2A84E0:01C7F3DC]
X-Spam-Score: 0.0 (/)
X-Scan-Signature: 10d3e4e3c32e363f129e380e644649be
Cc: sip <sip@ietf.org>
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org


I don't think those (and there are quite a few of them) doing DTMF with =
INFO will abandon it at this late date...

> -----Original Message-----
> From: Eric Burger [mailto:eburger@bea.com]
> Sent: 5. syyskuuta 2007 16:09
> To: Bram Verburg
> Cc: sip
> Subject: Re: [Sip] INFO
>
> SIP-T suffers *all* of the issues with INFO.
>
> Read section 3.3 for the 'right' way of doing SIP-T.
>
> That said, let's be real: I don't think anyone will abandon
> SIP-T at this late date.  Although this really is a counter
> example, I would liken this to the story in:
> http://www.snopes.com/history/american/gauge.htm
>
>
>
>
> On 9/5/07 4:56 AM, "Bram Verburg" <bram@vocaltec.com> wrote:
>
> >> That is the point of the draft.  All of the uses of INFO
> today have
> >> alternatives that do not have the same problems.
> >>
> >> In fact, I am really thinking the draft should point out
> the use of
> >> INFO for SIP-T is also incorrect.  SIP-T should use a control
> >> channel, not the "SIP"
> >> channel, for transporting proprietary signaling.  The only thing
> >> SIP-T does is re-create TCP over SIP.  Not a very useful
> use of SIP.
> >
> > I don't think that's a fair assessment of SIP-T, since you
> seem to be
> > ignoring the fact that SIP-T also (primarily) uses other
> methods than
> > INFO.
> >
> > The encapsulation of 'proprietary' signaling is done to convey
> > information that cannot currently be conveyed in pure SIP.
> But other
> > than that, within the VoIP domain the regular SIP dialog
> model is used
> > to establish and tear down sessions. SIP headers take
> precedence over
> > the contents of the ISUP/Q.931 message, so the 'tunneled'
> message is
> > only used to fill in some blanks at the receiving end. For the most
> > part proxies and even user agents can safely ignore the
> message body
> > and still participate in the SIP dialog.
> >
> > Some ISUP/Q.931 messages arrive at a stage in the session where SIP
> > doesn't define any interaction between UAs, so currently
> INFO is used
> > as a tunnel. If you believe it should be replaced by something less
> > ambiguous, that won't be abused outside the scope of SIP-T the same
> > way INFO is today, I guess that's fair enough. But saying
> that SIP-T
> > should use TCP tunnels instead seems a bit harsh.
> >
> > Bram
> >
>
>
>
> Notice:  This email message, together with any attachments,
> may contain information  of  BEA Systems,  Inc.,  its
> subsidiaries  and  affiliated entities,  that may be
> confidential,  proprietary,  copyrighted  and/or legally
> privileged, and is intended solely for the use of the
> individual or entity named in this message. If you are not
> the intended recipient, and have received this message in
> error, please immediately return this by email and then delete it.
>
>
> _______________________________________________
> Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol Use
> sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
>=20



_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Mon Sep 10 15:06:03 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1IUoYT-0000uu-SR; Mon, 10 Sep 2007 15:04:17 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1IUoYR-0000lx-V8
	for sip-confirm+ok@megatron.ietf.org; Mon, 10 Sep 2007 15:04:15 -0400
Received: from [10.90.34.44] (helo=chiedprmail1.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1IUoYR-0000j8-JH
	for sip@ietf.org; Mon, 10 Sep 2007 15:04:15 -0400
Received: from zrtps0kn.nortel.com ([47.140.192.55])
	by chiedprmail1.ietf.org with esmtp (Exim 4.43) id 1IUoYQ-00022Y-T9
	for sip@ietf.org; Mon, 10 Sep 2007 15:04:15 -0400
Received: from zrc2hxm2.corp.nortel.com (zrc2hxm2.corp.nortel.com
	[47.103.123.73])
	by zrtps0kn.nortel.com (Switch-2.2.6/Switch-2.2.0) with ESMTP id
	l8AJ4AX04251; Mon, 10 Sep 2007 19:04:11 GMT
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: [Sip] INFO
Date: Mon, 10 Sep 2007 14:03:53 -0500
Message-ID: <6FC4416DDE56C44DA0AEE67BC7CA437116A57DDB@zrc2hxm2.corp.nortel.com>
In-Reply-To: <7A875FE512FD074BBD289B8F21D8F1F301F3F981C8@esealmw113.eemea.ericsson.se>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] INFO
Thread-Index: AcfopsS6ijL/eVSeR7OkrFxhvjEZ1wCqsuc+ABF4AvAA4JbFswAlLCkAAAPXpb8A/NglkAAK+pvQ
References: <431F3BDE11BF2F42A22CBEFA36BD88A401774AA9@mailserver.vocaltec.local>
	<C303F85E.A902%eburger@bea.com>
	<7A875FE512FD074BBD289B8F21D8F1F301F3F981C8@esealmw113.eemea.ericsson.se>
From: "Brian Stucker" <bstucker@nortel.com>
To: "Christer Holmberg (JO/LMF)" <christer.holmberg@ericsson.com>,
	"Eric Burger" <eburger@bea.com>, "Bram Verburg" <bram@vocaltec.com>
X-Spam-Score: 0.0 (/)
X-Scan-Signature: 1676547e4f33b5e63227e9c02bd359e3
Cc: sip <sip@ietf.org>
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

Which is to say that you don't have to do DTMF exclusively with INFO.
You could use 2833/4733 in conjunction or exclusion to INFO depending
upon your needs. It becomes messy when nobody wants to acknowledge and
describe these mechanisms (with the goal of coming up with something
coherent as a means of using them).

Regards,
Brian=20

> -----Original Message-----
> From: Christer Holmberg (JO/LMF)=20
> [mailto:christer.holmberg@ericsson.com]=20
> Sent: Monday, September 10, 2007 2:00 PM
> To: Eric Burger; Bram Verburg
> Cc: sip
> Subject: RE: [Sip] INFO
>=20
>=20
> I don't think those (and there are quite a few of them) doing=20
> DTMF with INFO will abandon it at this late date...
>=20
> > -----Original Message-----
> > From: Eric Burger [mailto:eburger@bea.com]
> > Sent: 5. syyskuuta 2007 16:09
> > To: Bram Verburg
> > Cc: sip
> > Subject: Re: [Sip] INFO
> >
> > SIP-T suffers *all* of the issues with INFO.
> >
> > Read section 3.3 for the 'right' way of doing SIP-T.
> >
> > That said, let's be real: I don't think anyone will abandon=20
> SIP-T at=20
> > this late date.  Although this really is a counter example, I would=20
> > liken this to the story in:
> > http://www.snopes.com/history/american/gauge.htm
> >
> >
> >
> >
> > On 9/5/07 4:56 AM, "Bram Verburg" <bram@vocaltec.com> wrote:
> >
> > >> That is the point of the draft.  All of the uses of INFO
> > today have
> > >> alternatives that do not have the same problems.
> > >>
> > >> In fact, I am really thinking the draft should point out
> > the use of
> > >> INFO for SIP-T is also incorrect.  SIP-T should use a control=20
> > >> channel, not the "SIP"
> > >> channel, for transporting proprietary signaling.  The only thing=20
> > >> SIP-T does is re-create TCP over SIP.  Not a very useful
> > use of SIP.
> > >
> > > I don't think that's a fair assessment of SIP-T, since you
> > seem to be
> > > ignoring the fact that SIP-T also (primarily) uses other
> > methods than
> > > INFO.
> > >
> > > The encapsulation of 'proprietary' signaling is done to convey=20
> > > information that cannot currently be conveyed in pure SIP.
> > But other
> > > than that, within the VoIP domain the regular SIP dialog
> > model is used
> > > to establish and tear down sessions. SIP headers take
> > precedence over
> > > the contents of the ISUP/Q.931 message, so the 'tunneled'
> > message is
> > > only used to fill in some blanks at the receiving end.=20
> For the most=20
> > > part proxies and even user agents can safely ignore the
> > message body
> > > and still participate in the SIP dialog.
> > >
> > > Some ISUP/Q.931 messages arrive at a stage in the session=20
> where SIP=20
> > > doesn't define any interaction between UAs, so currently
> > INFO is used
> > > as a tunnel. If you believe it should be replaced by=20
> something less=20
> > > ambiguous, that won't be abused outside the scope of=20
> SIP-T the same=20
> > > way INFO is today, I guess that's fair enough. But saying
> > that SIP-T
> > > should use TCP tunnels instead seems a bit harsh.
> > >
> > > Bram
> > >
> >
> >
> >
> > Notice:  This email message, together with any attachments, may=20
> > contain information  of  BEA Systems,  Inc.,  its=20
> subsidiaries  and =20
> > affiliated entities,  that may be confidential,  proprietary, =20
> > copyrighted  and/or legally privileged, and is intended=20
> solely for the=20
> > use of the individual or entity named in this message. If=20
> you are not=20
> > the intended recipient, and have received this message in error,=20
> > please immediately return this by email and then delete it.
> >
> >
> > _______________________________________________
> > Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
> > This list is for NEW development of the core SIP Protocol Use=20
> > sip-implementors@cs.columbia.edu for questions on current sip Use=20
> > sipping@ietf.org for new developments on the application of sip
> >=20
>=20
>=20
>=20
> _______________________________________________
> Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol Use=20
> sip-implementors@cs.columbia.edu for questions on current sip=20
> Use sipping@ietf.org for new developments on the application of sip
>=20


_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Mon Sep 10 15:21:38 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1IUonY-0001ZN-DY; Mon, 10 Sep 2007 15:19:52 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1IUonX-0001WY-8X
	for sip-confirm+ok@megatron.ietf.org; Mon, 10 Sep 2007 15:19:51 -0400
Received: from [10.90.34.44] (helo=chiedprmail1.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1IUonW-0001W6-Th
	for sip@ietf.org; Mon, 10 Sep 2007 15:19:50 -0400
Received: from mail.gmx.net ([213.165.64.20])
	by chiedprmail1.ietf.org with smtp (Exim 4.43) id 1IUonW-0002jR-Di
	for sip@ietf.org; Mon, 10 Sep 2007 15:19:50 -0400
Received: (qmail 31405 invoked by uid 0); 10 Sep 2007 19:19:48 -0000
Received: from 194.208.83.124 by www148.gmx.net with HTTP;
	Mon, 10 Sep 2007 21:19:47 +0200 (CEST)
Content-Type: text/plain; charset="us-ascii"
Date: Mon, 10 Sep 2007 21:19:47 +0200
From: "Guenther Sohler" <guenther.sohler@gmx.at>
Message-ID: <20070910191947.322010@gmx.net>
MIME-Version: 1.0
To: sip@ietf.org
X-Authenticated: #18210244
X-Flags: 0001
X-Mailer: WWW-Mail 6100 (Global Message Exchange)
X-Priority: 3
X-Provags-ID: V01U2FsdGVkX1+b8kUoDimbguOqdU3oc2a1sZ82TDRE0pD64KLBSn
	ktsEJKt+jzdMJi+FTOZgb2oinvwgKcrvB/rQ== 
Content-Transfer-Encoding: 7bit
X-GMX-UID: 4K/Xd/1VIydmaeG4YWZrCwRSa2FkZpUO
X-Spam-Score: 0.0 (/)
X-Scan-Signature: 7655788c23eb79e336f5f8ba8bce7906
Subject: [Sip] RTP Endpoint mediatement
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

Dear Group,

I also try to code sip.

The registrar is happy with my code, and a have started an INVITE
which is already ringing - the call is taken.
But now my next task is the RTP Endpoint mediatement!

I have started a udp "listening" socket at a random port.
Where do i exaclty have to tell my decision and which endpoint(ip and port)
do i exactly have to send my rtp data to ?

there are so many differnt ip adresses mentioned in the protocoll and 
i dont know which are the correct ones ?

Can somebody send me sample "logs" and point out the correct portion ?

Thanx in advance!


-- 
GMX FreeMail: 1 GB Postfach, 5 E-Mail-Adressen, 10 Free SMS.
Alle Infos und kostenlose Anmeldung: http://www.gmx.net/de/go/freemail


_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Mon Sep 10 16:00:29 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1IUpOm-0002Hr-Vs; Mon, 10 Sep 2007 15:58:20 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1IUpOl-0002H9-9Y
	for sip-confirm+ok@megatron.ietf.org; Mon, 10 Sep 2007 15:58:19 -0400
Received: from [10.91.34.44] (helo=ietf-mx.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1IUpOk-0002Gq-Tg
	for sip@ietf.org; Mon, 10 Sep 2007 15:58:18 -0400
Received: from host10.216.41.24.conversent.net ([216.41.24.10]
	helo=acmepacket.com) by ietf-mx.ietf.org with esmtp (Exim 4.43)
	id 1IUpOj-00025U-MI for sip@ietf.org; Mon, 10 Sep 2007 15:58:18 -0400
Received: from hkaplan [70.209.0.85] by acmepacket.com with ESMTP
	(SMTPD-9.10) id A1D60140; Mon, 10 Sep 2007 15:58:14 -0400
From: "Hadriel Kaplan" <HKaplan@acmepacket.com>
To: "'Francois Audet'" <audet@nortel.com>,
	"'Brian Stucker'" <bstucker@nortel.com>, "'Eric Burger'" <eburger@bea.com>
References: <1ECE0EB50388174790F9694F77522CCF11DF8FEF@zrc2hxm0.corp.nortel.com>
	<C30389ED.A8BE%eburger@bea.com>
	<000c01c7f18c$b0723a60$800101df@acmepacket.com>
	<6FC4416DDE56C44DA0AEE67BC7CA4371169E8AE8@zrc2hxm2.corp.nortel.com>
	<1ECE0EB50388174790F9694F77522CCF11ED8025@zrc2hxm0.corp.nortel.com>
Subject: RE: [Sip] INFO
Date: Mon, 10 Sep 2007 15:42:12 -0400
Message-ID: <01a701c7f3e2$b2419770$800101df@acmepacket.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook 11
In-Reply-To: <1ECE0EB50388174790F9694F77522CCF11ED8025@zrc2hxm0.corp.nortel.com>
Thread-Index: AcfkO3T4s2cG+lAuEdy/WQAWy4mm/wHUBx+wAOMs5UkADqmUsAAKRtNuAIKOB0AAdotb4AAa0MKAAAScW8A=
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.3138
X-Spam-Score: 0.0 (/)
X-Scan-Signature: 00e94c813bef7832af255170dca19e36
Cc: 'sip' <sip@ietf.org>
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

But most calls to a voicemail server DON'T actually use DTMF, I've been told
- since most calls to a vmail server are to leave messages.  Calls to
retrieve voicemail do always use dtmf, but calls to leave voicemail don't.
However calls to leave voicemail usually have the optional ability for the
caller to send DTMF - for example pressing "*" and then the passcode to
retrieve voicemail, or "0" to reach an attendant, or some button to cancel
the recording, etc.  Only a fraction of those calls actually end up with
someone pressing a dtmf button, but because you *could* press dtmf, the
vmail server would have to KPML subscribe for all calls.

-hadriel

> -----Original Message-----
> From: Francois Audet [mailto:audet@nortel.com]
> Sent: Monday, September 10, 2007 12:59 PM
> To: Brian Stucker; Hadriel Kaplan; Eric Burger
> Cc: sip
> Subject: RE: [Sip] INFO
> 
> Hadriel, I don't get your example.
> 
> You would only get a KPML subscription for calls that actually terminate
> to
> the voicemail server. And I would imagine that MOST calls to a voicemail
> server
> would actually use DTMF and therefore require a subscription.
> 
> > -----Original Message-----
> > From: Stucker, Brian (RICH1:AR00)
> > Sent: Sunday, September 09, 2007 21:16
> > To: Hadriel Kaplan; 'Eric Burger'; Audet, Francois (SC100:3055)
> > Cc: 'sip'
> > Subject: RE: [Sip] INFO
> >
> >
> >
> > > -----Original Message-----
> > > From: Hadriel Kaplan [mailto:HKaplan@acmepacket.com]
> > > Sent: Friday, September 07, 2007 3:22 PM
> > > To: 'Eric Burger'; Audet, Francois (SC100:3055)
> > > Cc: 'sip'
> > > Subject: RE: [Sip] INFO
> > >
> > > But there are cases where the KPML model is vastly greater
> > overhead.
> > >
> > > Consider a typical voicemail server.  For calls to the voicemail
> > > server to retrieve messages, KPML is probably good because you can
> > > define a digit map for the mailbox number and password which would
> > > reduce overall message counts.  But for calls to leave a voicemail
> > > (which I assume greatly outnumber those to retrieve them, but you
> > > would know more about that than I), KPML has to create a
> > subscription
> > > for every single call, just in case the caller happens to
> > press some
> > > optional dtmf that the voicemail app supports.  For each and every
> > > call, a subscription has to be routed and its state saved
> > by stateful
> > > proxies along the path to the UAs, even though only a small
> > fraction
> > > of the calls ever press a DTMF button.
> >
> > Unless your voicemail users have a severe case of
> > obsessive-compulsive voicemailbox checking syndrome, and the
> > users aren't checking their mailboxes when they have no MWI
> > indication, the number of deposits is guaranteed to at least
> > equal, and certainly exceed the number of retrievals for any
> > non-trivial population of subscribers. Otherwise, you'd only
> > need space for one voicemail in your mailbox. The fact that I
> > doubt anyone has ever heard of such a ridiculous voicemail
> > limit seems to confirm my assumptions.
> >
> > Regards,
> > Brian
> >



_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Mon Sep 10 16:10:52 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1IUpZC-00061L-Ht; Mon, 10 Sep 2007 16:09:06 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1IUpZA-00061E-VW
	for sip-confirm+ok@megatron.ietf.org; Mon, 10 Sep 2007 16:09:04 -0400
Received: from [10.91.34.44] (helo=ietf-mx.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1IUpZA-000615-Ls
	for sip@ietf.org; Mon, 10 Sep 2007 16:09:04 -0400
Received: from zcars04e.nortel.com ([47.129.242.56])
	by ietf-mx.ietf.org with esmtp (Exim 4.43) id 1IUpZ9-0002KH-EQ
	for sip@ietf.org; Mon, 10 Sep 2007 16:09:04 -0400
Received: from zrc2hxm0.corp.nortel.com (zrc2hxm0.corp.nortel.com
	[47.103.123.71])
	by zcars04e.nortel.com (Switch-2.2.0/Switch-2.2.0) with ESMTP id
	l8AK6gA26170; Mon, 10 Sep 2007 20:06:42 GMT
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: [Sip] INFO
Date: Mon, 10 Sep 2007 15:08:58 -0500
Message-ID: <1ECE0EB50388174790F9694F77522CCF11ED8413@zrc2hxm0.corp.nortel.com>
In-Reply-To: <01a701c7f3e2$b2419770$800101df@acmepacket.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] INFO
Thread-Index: AcfkO3T4s2cG+lAuEdy/WQAWy4mm/wHUBx+wAOMs5UkADqmUsAAKRtNuAIKOB0AAdotb4AAa0MKAAAScW8AAAeUoQA==
References: <1ECE0EB50388174790F9694F77522CCF11DF8FEF@zrc2hxm0.corp.nortel.com>
	<C30389ED.A8BE%eburger@bea.com>
	<000c01c7f18c$b0723a60$800101df@acmepacket.com>
	<6FC4416DDE56C44DA0AEE67BC7CA4371169E8AE8@zrc2hxm2.corp.nortel.com>
	<1ECE0EB50388174790F9694F77522CCF11ED8025@zrc2hxm0.corp.nortel.com>
	<01a701c7f3e2$b2419770$800101df@acmepacket.com>
From: "Francois Audet" <audet@nortel.com>
To: "Hadriel Kaplan" <HKaplan@acmepacket.com>,
	"Brian Stucker" <bstucker@nortel.com>, "Eric Burger" <eburger@bea.com>
X-Spam-Score: 0.0 (/)
X-Scan-Signature: b19722fc8d3865b147c75ae2495625f2
Cc: sip <sip@ietf.org>
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

Ah.... Good point. Hadn't tought of that.

In any case, I'm not sure voicemail is the best example. Seems to me
you are more likely to use RFC 2833 for voicemail, since it's a=20
media server. Furthermore, you'll for sure be dealing with people=20
leaving voicemails that are NOT SIP users and would be going through
a generic PSTN-SIP gateway (which would do RFC 2833).

I'd think that KPML is more useful for features that don't terminate
media, like the Calling card example, or *gasp* invocation of feature=20
codes, and where the end-user device is known to be a SIP phone.


> -----Original Message-----
> From: Hadriel Kaplan [mailto:HKaplan@acmepacket.com]=20
> Sent: Monday, September 10, 2007 12:42
> To: Audet, Francois (SC100:3055); Stucker, Brian=20
> (RICH1:AR00); 'Eric Burger'
> Cc: 'sip'
> Subject: RE: [Sip] INFO
>=20
> But most calls to a voicemail server DON'T actually use DTMF,=20
> I've been told
> - since most calls to a vmail server are to leave messages. =20
> Calls to retrieve voicemail do always use dtmf, but calls to=20
> leave voicemail don't.
> However calls to leave voicemail usually have the optional=20
> ability for the caller to send DTMF - for example pressing=20
> "*" and then the passcode to retrieve voicemail, or "0" to=20
> reach an attendant, or some button to cancel the recording,=20
> etc.  Only a fraction of those calls actually end up with=20
> someone pressing a dtmf button, but because you *could* press=20
> dtmf, the vmail server would have to KPML subscribe for all calls.


_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Mon Sep 10 16:23:49 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1IUplq-0006R8-5c; Mon, 10 Sep 2007 16:22:10 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1IUplp-0006Qo-05
	for sip-confirm+ok@megatron.ietf.org; Mon, 10 Sep 2007 16:22:09 -0400
Received: from [10.91.34.44] (helo=ietf-mx.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1IUplo-0006Qe-Mb
	for sip@ietf.org; Mon, 10 Sep 2007 16:22:08 -0400
Received: from host10.216.41.24.conversent.net ([216.41.24.10]
	helo=acmepacket.com) by ietf-mx.ietf.org with esmtp (Exim 4.43)
	id 1IUpln-0002aK-G8 for sip@ietf.org; Mon, 10 Sep 2007 16:22:08 -0400
Received: from hkaplan [70.209.0.85] by acmepacket.com with ESMTP
	(SMTPD-9.10) id A76D0348; Mon, 10 Sep 2007 16:22:05 -0400
From: "Hadriel Kaplan" <HKaplan@acmepacket.com>
To: "'Eric Burger'" <eburger@bea.com>
References: <1ECE0EB50388174790F9694F77522CCF11DF8FEF@zrc2hxm0.corp.nortel.com>
	<C30389ED.A8BE%eburger@bea.com>
	<000c01c7f18c$b0723a60$800101df@acmepacket.com>
	<A5E9CBACB726CB4BAA3DAFF0925C188F01810329@repbex01.amer.bea.com>
Subject: RE: [Sip] INFO
Date: Mon, 10 Sep 2007 16:06:04 -0400
Message-ID: <01c301c7f3e6$06b08d90$800101df@acmepacket.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook 11
In-Reply-To: <A5E9CBACB726CB4BAA3DAFF0925C188F01810329@repbex01.amer.bea.com>
Thread-Index: AcfkO3T4s2cG+lAuEdy/WQAWy4mm/wHUBx+wAOMs5UkADqmUsAAKRtNuAIKOB0AAAqJ7AAAUMvLQ
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.3138
X-Spam-Score: 0.0 (/)
X-Scan-Signature: 52f7a77164458f8c7b36b66787c853da
Cc: 'sip' <sip@ietf.org>
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

Inline...

> -----Original Message-----
> From: Eric Burger [mailto:eburger@bea.com]
> Sent: Friday, September 07, 2007 5:00 PM
> 
> Consider a PSTN call.  The call goes from the gateway to softswitch /
> Proxy.  Proxy routes to VM App Server.  INFO has to pass through
> softswitch / Proxy.  In KPML-land, VM App Server *directly* subscribes
> to UAC key press state, bypassing the softswitch.  KPML and INFO have
> the same number of messages for a SINGLE digit; KPML wins hands-down for
> multiple digits or reports.

Not exactly - for a single digit, KPML would generate a
Subscribe/200/Notify/200 before the single DTMF was even pressed - before
the actual Notify with the digits in it.  And of course there is now also a
subscribe dialog involved.  Assuming a one-shot single digit type, then,
we're talking 6 SIP messages for KPML vs. 2 for Info.  


> More importantly, let's take a Call Management (CM) application that
> calls a VM application when they cannot find the subscriber.  INFO has
> to pass through the softswitch / Proxy to the CM application.  Cool - it
> is a proxy, so it knows to relay.  But OOPS!  The CM application has to
> proxy the INFOs to the VM application.  Yes - you could be a good
> programmer and remember to do that EVERYWHERE you place an outbound
> call, but it is really easy to get wrong.  

I'm not sure I understand the scenario.  The VM learned about this call how?
By being in the signaling path, no?  So why wouldn't the CM forward INFO
along the path? (I mean it is in the same dialog, after all)  Now I don't
doubt it could screw that up, and eat the info thinking it was for itself,
but lots of things can get screwed up - my guess is KPML will not be
impervious to screw ups.


> In KPML-land, the VM
> application server not only *directly* subscribes to the UAC key press
> state, but it will NOT get the key presses (like the ubiquitous long-#)
> that are for the CM application.  Likewise, the CM application, which is
> ONLY looking for long-#, won't get all of the VM key presses.  That
> scenario is where KPML really kicks-butt.

The VM will probably NOT *directly* subscribe to the UAC.  It will need to
go through the UAC's outbound proxy.  And if the VM is outside the UAC's
enterprise or service provider domain, my guess is the VM will need to go
through some other boxes too.  A stand-alone UAC has virtually no way to
verify the identity of a subscribing VM, so I hope they don't just accept
direct subscriptions.

Also, this only works if the UAC supports multiple KPML subscribes, right?
Which were only optional in the spec, no?

 
> By the way, I am deliberately using the provocative "softswitch" term
> :-)

Well, I'm not sure how the "softswitch" term makes a difference - I would
think a "softswitch" would need to be in the path for all signaling, and
will not be bypassed even by KPML.  But then "softswitch" is an ambiguous
term.  :)

-hadriel




_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Mon Sep 10 16:28:20 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1IUpq4-000321-RX; Mon, 10 Sep 2007 16:26:32 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1IUpq2-00031u-TG
	for sip-confirm+ok@megatron.ietf.org; Mon, 10 Sep 2007 16:26:30 -0400
Received: from [10.90.34.44] (helo=chiedprmail1.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1IUpq2-00031m-Id
	for sip@ietf.org; Mon, 10 Sep 2007 16:26:30 -0400
Received: from repmmg02.bea.com ([66.248.192.39])
	by chiedprmail1.ietf.org with esmtp (Exim 4.43) id 1IUpq1-0004Qr-W2
	for sip@ietf.org; Mon, 10 Sep 2007 16:26:30 -0400
Received: from repmmr02.bea.com (repmmr02.bea.com [10.160.30.72])
	by repmmg02.bea.com (Switch-3.2.7/Switch-3.2.7) with ESMTP id
	l8AKQQqX013856; Mon, 10 Sep 2007 13:26:27 -0700
Received: from repbex01.amer.bea.com (repbex01.bea.com [10.160.26.98])
	by repmmr02.bea.com (Switch-3.2.7/Switch-3.2.7) with ESMTP id
	l8AKQNJl009127; Mon, 10 Sep 2007 13:26:25 -0700
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
Subject: Re: [Sip] INFO
Date: Mon, 10 Sep 2007 13:26:23 -0700
Message-ID: <A5E9CBACB726CB4BAA3DAFF0925C188F129D56@repbex01.amer.bea.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] INFO
Thread-Index: AcfkO3T4s2cG+lAuEdy/WQAWy4mm/wHUBx+wAOMs5UkADqmUsAAKRtNuAIKOB0AAdotb4AAa0MKAAAScW8AAAeUoQAAAyXTj
From: "Eric Burger" <eburger@bea.com>
To: <audet@nortel.com>, <HKaplan@acmepacket.com>, <bstucker@nortel.com>
x-BEA-PMX-Instructions: AV
x-BEA-MM: Internal-To-External
X-Spam-Score: 0.0 (/)
X-Scan-Signature: 538aad3a3c4f01d8b6a6477ca4248793
Cc: sip@ietf.org
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

Precisely. To be blunt, one would be "less than smart" to use either KPML or INFO for any interactive voice response application.

INFO doesn't route by default. You have to *hope* your softswitch, SBC, or other B2BUA in the way knows to relay the INFO. At least most of those elements knows to relay pub/sub.

Both KPML and INFO have the proxy latency penalty, making for a piss-poor user experience.  

While we're at it, let's transport voice in SIP ;-)

--
Sent from my wireless e-mail device. Sorry if terse.  We all need lemonade: see <http://www.standardstrack.com/ietf/lemonade> for what lemonade is.

----- Original Message -----
From: Francois Audet <audet@nortel.com>
To: Hadriel Kaplan <HKaplan@acmepacket.com>; Brian Stucker <bstucker@nortel.com>; Eric Burger
Cc: sip <sip@ietf.org>
Sent: Mon Sep 10 13:08:58 2007
Subject: RE: [Sip] INFO

Ah.... Good point. Hadn't tought of that.

In any case, I'm not sure voicemail is the best example. Seems to me
you are more likely to use RFC 2833 for voicemail, since it's a 
media server. Furthermore, you'll for sure be dealing with people 
leaving voicemails that are NOT SIP users and would be going through
a generic PSTN-SIP gateway (which would do RFC 2833).

I'd think that KPML is more useful for features that don't terminate
media, like the Calling card example, or *gasp* invocation of feature 
codes, and where the end-user device is known to be a SIP phone.


> -----Original Message-----
> From: Hadriel Kaplan [mailto:HKaplan@acmepacket.com] 
> Sent: Monday, September 10, 2007 12:42
> To: Audet, Francois (SC100:3055); Stucker, Brian 
> (RICH1:AR00); 'Eric Burger'
> Cc: 'sip'
> Subject: RE: [Sip] INFO
> 
> But most calls to a voicemail server DON'T actually use DTMF, 
> I've been told
> - since most calls to a vmail server are to leave messages.  
> Calls to retrieve voicemail do always use dtmf, but calls to 
> leave voicemail don't.
> However calls to leave voicemail usually have the optional 
> ability for the caller to send DTMF - for example pressing 
> "*" and then the passcode to retrieve voicemail, or "0" to 
> reach an attendant, or some button to cancel the recording, 
> etc.  Only a fraction of those calls actually end up with 
> someone pressing a dtmf button, but because you *could* press 
> dtmf, the vmail server would have to KPML subscribe for all calls.

Notice:  This email message, together with any attachments, may contain information  of  BEA Systems,  Inc.,  its subsidiaries  and  affiliated entities,  that may be confidential,  proprietary,  copyrighted  and/or legally privileged, and is intended solely for the use of the individual or entity named in this message. If you are not the intended recipient, and have received this message in error, please immediately return this by email and then delete it.


_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Mon Sep 10 16:40:50 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1IUq2D-00065f-93; Mon, 10 Sep 2007 16:39:05 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1IUq2C-00065a-4q
	for sip-confirm+ok@megatron.ietf.org; Mon, 10 Sep 2007 16:39:04 -0400
Received: from [10.90.34.44] (helo=chiedprmail1.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1IUq2B-00065S-QO
	for sip@ietf.org; Mon, 10 Sep 2007 16:39:03 -0400
Received: from zcars04f.nortel.com ([47.129.242.57])
	by chiedprmail1.ietf.org with esmtp (Exim 4.43) id 1IUq2B-0004gk-A8
	for sip@ietf.org; Mon, 10 Sep 2007 16:39:03 -0400
Received: from zrc2hxm2.corp.nortel.com (zrc2hxm2.corp.nortel.com
	[47.103.123.73])
	by zcars04f.nortel.com (Switch-2.2.6/Switch-2.2.0) with ESMTP id
	l8AKd0e27212; Mon, 10 Sep 2007 20:39:00 GMT
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: [Sip] INFO
Date: Mon, 10 Sep 2007 15:38:53 -0500
Message-ID: <6FC4416DDE56C44DA0AEE67BC7CA437116A580F0@zrc2hxm2.corp.nortel.com>
In-Reply-To: <A5E9CBACB726CB4BAA3DAFF0925C188F129D56@repbex01.amer.bea.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] INFO
Thread-Index: AcfkO3T4s2cG+lAuEdy/WQAWy4mm/wHUBx+wAOMs5UkADqmUsAAKRtNuAIKOB0AAdotb4AAa0MKAAAScW8AAAeUoQAAAyXTjAABmuAA=
References: <A5E9CBACB726CB4BAA3DAFF0925C188F129D56@repbex01.amer.bea.com>
From: "Brian Stucker" <bstucker@nortel.com>
To: "Eric Burger" <eburger@bea.com>, "Francois Audet" <audet@nortel.com>,
	<HKaplan@acmepacket.com>
X-Spam-Score: 0.0 (/)
X-Scan-Signature: b7b9551d71acde901886cc48bfc088a6
Cc: sip@ietf.org
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

=20

> -----Original Message-----
> From: Eric Burger [mailto:eburger@bea.com]=20
> Sent: Monday, September 10, 2007 3:26 PM
> To: Audet, Francois (SC100:3055); HKaplan@acmepacket.com;=20
> Stucker, Brian (RICH1:AR00)
> Cc: sip@ietf.org
> Subject: Re: [Sip] INFO
>=20
> Precisely. To be blunt, one would be "less than smart" to use=20
> either KPML or INFO for any interactive voice response application.
>=20
> INFO doesn't route by default. You have to *hope* your=20
> softswitch, SBC, or other B2BUA in the way knows to relay the=20
> INFO. At least most of those elements knows to relay pub/sub.
>=20
> Both KPML and INFO have the proxy latency penalty, making for=20
> a piss-poor user experience. =20

Can you idenitfy ANY IVR application that people didn't think it was a
poor user experience? Yeah, IVR jail. Wheee...

>=20
> While we're at it, let's transport voice in SIP ;-)
>=20
> --
> Sent from my wireless e-mail device. Sorry if terse.  We all=20
> need lemonade: see=20
> <http://www.standardstrack.com/ietf/lemonade> for what lemonade is.
>=20
> ----- Original Message -----
> From: Francois Audet <audet@nortel.com>
> To: Hadriel Kaplan <HKaplan@acmepacket.com>; Brian Stucker=20
> <bstucker@nortel.com>; Eric Burger
> Cc: sip <sip@ietf.org>
> Sent: Mon Sep 10 13:08:58 2007
> Subject: RE: [Sip] INFO
>=20
> Ah.... Good point. Hadn't tought of that.
>=20
> In any case, I'm not sure voicemail is the best example.=20
> Seems to me you are more likely to use RFC 2833 for=20
> voicemail, since it's a media server. Furthermore, you'll for=20
> sure be dealing with people leaving voicemails that are NOT=20
> SIP users and would be going through a generic PSTN-SIP=20
> gateway (which would do RFC 2833).
>=20
> I'd think that KPML is more useful for features that don't=20
> terminate media, like the Calling card example, or *gasp*=20
> invocation of feature codes, and where the end-user device is=20
> known to be a SIP phone.
>=20
>=20
> > -----Original Message-----
> > From: Hadriel Kaplan [mailto:HKaplan@acmepacket.com]=20
> > Sent: Monday, September 10, 2007 12:42
> > To: Audet, Francois (SC100:3055); Stucker, Brian=20
> > (RICH1:AR00); 'Eric Burger'
> > Cc: 'sip'
> > Subject: RE: [Sip] INFO
> >=20
> > But most calls to a voicemail server DON'T actually use DTMF,=20
> > I've been told
> > - since most calls to a vmail server are to leave messages. =20
> > Calls to retrieve voicemail do always use dtmf, but calls to=20
> > leave voicemail don't.
> > However calls to leave voicemail usually have the optional=20
> > ability for the caller to send DTMF - for example pressing=20
> > "*" and then the passcode to retrieve voicemail, or "0" to=20
> > reach an attendant, or some button to cancel the recording,=20
> > etc.  Only a fraction of those calls actually end up with=20
> > someone pressing a dtmf button, but because you *could* press=20
> > dtmf, the vmail server would have to KPML subscribe for all calls.
>=20
> Notice:  This email message, together with any attachments,=20
> may contain information  of  BEA Systems,  Inc.,  its=20
> subsidiaries  and  affiliated entities,  that may be=20
> confidential,  proprietary,  copyrighted  and/or legally=20
> privileged, and is intended solely for the use of the=20
> individual or entity named in this message. If you are not=20
> the intended recipient, and have received this message in=20
> error, please immediately return this by email and then delete it.
>=20


_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Mon Sep 10 16:49:15 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1IUqAL-0001Jc-FF; Mon, 10 Sep 2007 16:47:29 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1IUqAK-0001JN-0W
	for sip-confirm+ok@megatron.ietf.org; Mon, 10 Sep 2007 16:47:28 -0400
Received: from [10.91.34.44] (helo=ietf-mx.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1IUqAJ-0001JF-NL
	for sip@ietf.org; Mon, 10 Sep 2007 16:47:27 -0400
Received: from host10.216.41.24.conversent.net ([216.41.24.10]
	helo=acmepacket.com) by ietf-mx.ietf.org with esmtp (Exim 4.43)
	id 1IUqAI-00045t-HX for sip@ietf.org; Mon, 10 Sep 2007 16:47:27 -0400
Received: from hkaplan [70.209.0.85] by acmepacket.com with ESMTP
	(SMTPD-9.10) id AD5B0280; Mon, 10 Sep 2007 16:47:23 -0400
From: "Hadriel Kaplan" <HKaplan@acmepacket.com>
To: "'Francois Audet'" <audet@nortel.com>,
	"'Brian Stucker'" <bstucker@nortel.com>, "'Eric Burger'" <eburger@bea.com>
References: <1ECE0EB50388174790F9694F77522CCF11DF8FEF@zrc2hxm0.corp.nortel.com>
	<C30389ED.A8BE%eburger@bea.com>
	<000c01c7f18c$b0723a60$800101df@acmepacket.com>
	<6FC4416DDE56C44DA0AEE67BC7CA4371169E8AE8@zrc2hxm2.corp.nortel.com>
	<1ECE0EB50388174790F9694F77522CCF11ED8025@zrc2hxm0.corp.nortel.com>
	<01a701c7f3e2$b2419770$800101df@acmepacket.com>
	<1ECE0EB50388174790F9694F77522CCF11ED8413@zrc2hxm0.corp.nortel.com>
Subject: RE: [Sip] INFO
Date: Mon, 10 Sep 2007 16:31:21 -0400
Message-ID: <01c701c7f3e9$901010d0$800101df@acmepacket.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook 11
In-Reply-To: <1ECE0EB50388174790F9694F77522CCF11ED8413@zrc2hxm0.corp.nortel.com>
Thread-Index: AcfkO3T4s2cG+lAuEdy/WQAWy4mm/wHUBx+wAOMs5UkADqmUsAAKRtNuAIKOB0AAdotb4AAa0MKAAAScW8AAAeUoQAAAMZAw
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.3138
X-Spam-Score: 0.0 (/)
X-Scan-Signature: 5a9a1bd6c2d06a21d748b7d0070ddcb8
Cc: 'sip' <sip@ietf.org>
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

Ya, voicemail isn't the strongest - I noted in that email that a VM would
probably (hopefully) do 2833.  But there are plenty of PSTN gateways which
don't do 2833.  In fact I've heard that's where the INFO usage for dtmf got
born.  There are also plenty of Enterprise hard-phones that apparently don't
do 2833.  Nor do most H.323 devices.  Considering how much INFO-dtmf is
demanded and used, I assume it must be a large set of devices or apps that
don't do 2833.

But yeah the credit-card-style apps are the obvious users.  For some of them
KPML could save a lot, for example to reduce a 16-digit credit card number
to one Notify.  Ironically KPML rewards apps which use a lot of DTMF digits
all the time, and penalizes those that use only a few or uses them
infrequently. 

-hadriel

> -----Original Message-----
> From: Francois Audet [mailto:audet@nortel.com]
> Sent: Monday, September 10, 2007 4:09 PM
> To: Hadriel Kaplan; Brian Stucker; Eric Burger
> Cc: sip
> Subject: RE: [Sip] INFO
> 
> Ah.... Good point. Hadn't tought of that.
> 
> In any case, I'm not sure voicemail is the best example. Seems to me
> you are more likely to use RFC 2833 for voicemail, since it's a
> media server. Furthermore, you'll for sure be dealing with people
> leaving voicemails that are NOT SIP users and would be going through
> a generic PSTN-SIP gateway (which would do RFC 2833).
> 
> I'd think that KPML is more useful for features that don't terminate
> media, like the Calling card example, or *gasp* invocation of feature
> codes, and where the end-user device is known to be a SIP phone.
> 
> 
> > -----Original Message-----
> > From: Hadriel Kaplan [mailto:HKaplan@acmepacket.com]
> > Sent: Monday, September 10, 2007 12:42
> > To: Audet, Francois (SC100:3055); Stucker, Brian
> > (RICH1:AR00); 'Eric Burger'
> > Cc: 'sip'
> > Subject: RE: [Sip] INFO
> >
> > But most calls to a voicemail server DON'T actually use DTMF,
> > I've been told
> > - since most calls to a vmail server are to leave messages.
> > Calls to retrieve voicemail do always use dtmf, but calls to
> > leave voicemail don't.
> > However calls to leave voicemail usually have the optional
> > ability for the caller to send DTMF - for example pressing
> > "*" and then the passcode to retrieve voicemail, or "0" to
> > reach an attendant, or some button to cancel the recording,
> > etc.  Only a fraction of those calls actually end up with
> > someone pressing a dtmf button, but because you *could* press
> > dtmf, the vmail server would have to KPML subscribe for all calls.



_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Mon Sep 10 16:52:34 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1IUqDX-0006Ly-Hj; Mon, 10 Sep 2007 16:50:47 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1IUqDV-0006In-H2
	for sip-confirm+ok@megatron.ietf.org; Mon, 10 Sep 2007 16:50:45 -0400
Received: from [10.90.34.44] (helo=chiedprmail1.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1IUqDV-0006If-6p
	for sip@ietf.org; Mon, 10 Sep 2007 16:50:45 -0400
Received: from zrtps0kp.nortel.com ([47.140.192.56])
	by chiedprmail1.ietf.org with esmtp (Exim 4.43) id 1IUqDU-0004xi-SE
	for sip@ietf.org; Mon, 10 Sep 2007 16:50:45 -0400
Received: from zrc2hxm0.corp.nortel.com (zrc2hxm0.corp.nortel.com
	[47.103.123.71])
	by zrtps0kp.nortel.com (Switch-2.2.6/Switch-2.2.0) with ESMTP id
	l8AKofb26629; Mon, 10 Sep 2007 20:50:41 GMT
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: [Sip] INFO
Date: Mon, 10 Sep 2007 15:50:41 -0500
Message-ID: <1ECE0EB50388174790F9694F77522CCF11ED84E3@zrc2hxm0.corp.nortel.com>
In-Reply-To: <01c701c7f3e9$901010d0$800101df@acmepacket.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] INFO
Thread-Index: AcfkO3T4s2cG+lAuEdy/WQAWy4mm/wHUBx+wAOMs5UkADqmUsAAKRtNuAIKOB0AAdotb4AAa0MKAAAScW8AAAeUoQAAAMZAwAAFhR+A=
References: <1ECE0EB50388174790F9694F77522CCF11DF8FEF@zrc2hxm0.corp.nortel.com>
	<C30389ED.A8BE%eburger@bea.com>
	<000c01c7f18c$b0723a60$800101df@acmepacket.com>
	<6FC4416DDE56C44DA0AEE67BC7CA4371169E8AE8@zrc2hxm2.corp.nortel.com>
	<1ECE0EB50388174790F9694F77522CCF11ED8025@zrc2hxm0.corp.nortel.com>
	<01a701c7f3e2$b2419770$800101df@acmepacket.com>
	<1ECE0EB50388174790F9694F77522CCF11ED8413@zrc2hxm0.corp.nortel.com>
	<01c701c7f3e9$901010d0$800101df@acmepacket.com>
From: "Francois Audet" <audet@nortel.com>
To: "Hadriel Kaplan" <HKaplan@acmepacket.com>,
	"Brian Stucker" <bstucker@nortel.com>, "Eric Burger" <eburger@bea.com>
X-Spam-Score: 0.0 (/)
X-Scan-Signature: 93238566e09e6e262849b4f805833007
Cc: sip <sip@ietf.org>
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

=20

> -----Original Message-----
> From: Hadriel Kaplan [mailto:HKaplan@acmepacket.com]=20
> Sent: Monday, September 10, 2007 13:31
> To: Audet, Francois (SC100:3055); Stucker, Brian=20
> (RICH1:AR00); 'Eric Burger'
> Cc: 'sip'
> Subject: RE: [Sip] INFO
>=20
> Ya, voicemail isn't the strongest - I noted in that email=20
> that a VM would probably (hopefully) do 2833.  But there are=20
> plenty of PSTN gateways which don't do 2833.  In fact I've=20
> heard that's where the INFO usage for dtmf got born.  There=20
> are also plenty of Enterprise hard-phones that apparently=20
> don't do 2833.  Nor do most H.323 devices.  Considering how=20
> much INFO-dtmf is demanded and used, I assume it must be a=20
> large set of devices or apps that don't do 2833.

My expectation is that most systems have (or will soon) support
RFC 2833, and be migrating to it soon.

INFO worked relatively well in a single-vendor network, but it really
was pretty useless when trying to interoperate with other vendors.


_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Mon Sep 10 16:58:31 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1IUqJJ-00081C-Nf; Mon, 10 Sep 2007 16:56:45 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1IUqJI-000817-Fu
	for sip-confirm+ok@megatron.ietf.org; Mon, 10 Sep 2007 16:56:44 -0400
Received: from [10.91.34.44] (helo=ietf-mx.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1IUqJI-00080z-6J
	for sip@ietf.org; Mon, 10 Sep 2007 16:56:44 -0400
Received: from repmmg02.bea.com ([66.248.192.39])
	by ietf-mx.ietf.org with esmtp (Exim 4.43) id 1IUqJG-0004Pw-OV
	for sip@ietf.org; Mon, 10 Sep 2007 16:56:44 -0400
Received: from repmmr01.bea.com (repmmr01.bea.com [10.160.29.71])
	by repmmg02.bea.com (Switch-3.2.7/Switch-3.2.7) with ESMTP id
	l8AKudR7030062; Mon, 10 Sep 2007 13:56:39 -0700
Received: from repbex01.amer.bea.com (repbex01.bea.com [10.160.26.98])
	by repmmr01.bea.com (Switch-3.2.7/Switch-3.2.7) with ESMTP id
	l8AKubQi022384; Mon, 10 Sep 2007 13:56:38 -0700
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
Subject: Re: [Sip] INFO
Date: Mon, 10 Sep 2007 13:56:37 -0700
Message-ID: <A5E9CBACB726CB4BAA3DAFF0925C188F129D57@repbex01.amer.bea.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] INFO
Thread-Index: AcfkO3T4s2cG+lAuEdy/WQAWy4mm/wHUBx+wAOMs5UkADqmUsAAKRtNuAIKOB0AAdotb4AAa0MKAAAScW8AAAeUoQAAAMZAwAAFhR+AAAETtEg==
From: "Eric Burger" <eburger@bea.com>
To: <audet@nortel.com>, <HKaplan@acmepacket.com>, <bstucker@nortel.com>
x-BEA-PMX-Instructions: AV
x-BEA-MM: Internal-To-External
X-Spam-Score: 0.0 (/)
X-Scan-Signature: 69a74e02bbee44ab4f8eafdbcedd94a1
Cc: sip@ietf.org
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

+1

--
Sent from my wireless e-mail device. Sorry if terse.  We all need lemonade: see <http://www.standardstrack.com/ietf/lemonade> for what lemonade is.

----- Original Message -----
From: Francois Audet <audet@nortel.com>
To: Hadriel Kaplan <HKaplan@acmepacket.com>; Brian Stucker <bstucker@nortel.com>; Eric Burger
Cc: sip <sip@ietf.org>
Sent: Mon Sep 10 13:50:41 2007
Subject: RE: [Sip] INFO

 

> -----Original Message-----
> From: Hadriel Kaplan [mailto:HKaplan@acmepacket.com] 
> Sent: Monday, September 10, 2007 13:31
> To: Audet, Francois (SC100:3055); Stucker, Brian 
> (RICH1:AR00); 'Eric Burger'
> Cc: 'sip'
> Subject: RE: [Sip] INFO
> 
> Ya, voicemail isn't the strongest - I noted in that email 
> that a VM would probably (hopefully) do 2833.  But there are 
> plenty of PSTN gateways which don't do 2833.  In fact I've 
> heard that's where the INFO usage for dtmf got born.  There 
> are also plenty of Enterprise hard-phones that apparently 
> don't do 2833.  Nor do most H.323 devices.  Considering how 
> much INFO-dtmf is demanded and used, I assume it must be a 
> large set of devices or apps that don't do 2833.

My expectation is that most systems have (or will soon) support
RFC 2833, and be migrating to it soon.

INFO worked relatively well in a single-vendor network, but it really
was pretty useless when trying to interoperate with other vendors.

Notice:  This email message, together with any attachments, may contain information  of  BEA Systems,  Inc.,  its subsidiaries  and  affiliated entities,  that may be confidential,  proprietary,  copyrighted  and/or legally privileged, and is intended solely for the use of the individual or entity named in this message. If you are not the intended recipient, and have received this message in error, please immediately return this by email and then delete it.


_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Mon Sep 10 17:14:46 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1IUqYc-0002Ie-OR; Mon, 10 Sep 2007 17:12:34 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1IUqYb-0002HY-Lh
	for sip-confirm+ok@megatron.ietf.org; Mon, 10 Sep 2007 17:12:33 -0400
Received: from [10.91.34.44] (helo=ietf-mx.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1IUqYb-0002HK-BZ
	for sip@ietf.org; Mon, 10 Sep 2007 17:12:33 -0400
Received: from host10.216.41.24.conversent.net ([216.41.24.10]
	helo=acmepacket.com) by ietf-mx.ietf.org with esmtp (Exim 4.43)
	id 1IUqYa-0004vE-5s for sip@ietf.org; Mon, 10 Sep 2007 17:12:33 -0400
Received: from hkaplan [70.209.0.85] by acmepacket.com with ESMTP
	(SMTPD-9.10) id A33B0120; Mon, 10 Sep 2007 17:12:27 -0400
From: "Hadriel Kaplan" <HKaplan@acmepacket.com>
To: "'Francois Audet'" <audet@nortel.com>,
	"'Brian Stucker'" <bstucker@nortel.com>, "'Eric Burger'" <eburger@bea.com>
References: <1ECE0EB50388174790F9694F77522CCF11DF8FEF@zrc2hxm0.corp.nortel.com>
	<C30389ED.A8BE%eburger@bea.com>
	<000c01c7f18c$b0723a60$800101df@acmepacket.com>
	<6FC4416DDE56C44DA0AEE67BC7CA4371169E8AE8@zrc2hxm2.corp.nortel.com>
	<1ECE0EB50388174790F9694F77522CCF11ED8025@zrc2hxm0.corp.nortel.com>
	<01a701c7f3e2$b2419770$800101df@acmepacket.com>
	<1ECE0EB50388174790F9694F77522CCF11ED8413@zrc2hxm0.corp.nortel.com>
	<01c701c7f3e9$901010d0$800101df@acmepacket.com>
	<1ECE0EB50388174790F9694F77522CCF11ED84E3@zrc2hxm0.corp.nortel.com>
Subject: RE: [Sip] INFO
Date: Mon, 10 Sep 2007 16:56:26 -0400
Message-ID: <01c801c7f3ed$107e9b80$800101df@acmepacket.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook 11
In-Reply-To: <1ECE0EB50388174790F9694F77522CCF11ED84E3@zrc2hxm0.corp.nortel.com>
Thread-Index: AcfkO3T4s2cG+lAuEdy/WQAWy4mm/wHUBx+wAOMs5UkADqmUsAAKRtNuAIKOB0AAdotb4AAa0MKAAAScW8AAAeUoQAAAMZAwAAFhR+AAAGP/QA==
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.3138
X-Spam-Score: 0.0 (/)
X-Scan-Signature: 7655788c23eb79e336f5f8ba8bce7906
Cc: 'sip' <sip@ietf.org>
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org



> -----Original Message-----
> From: Francois Audet [mailto:audet@nortel.com]
> Sent: Monday, September 10, 2007 4:51 PM
> To: Hadriel Kaplan; Brian Stucker; Eric Burger
> Cc: sip
> Subject: RE: [Sip] INFO
> 
> My expectation is that most systems have (or will soon) support
> RFC 2833, and be migrating to it soon.

I would hope so.  Then we can get back to arguing about sips on this mailing
list... I'm starting to get withdrawal symptoms. :)

> INFO worked relatively well in a single-vendor network, but it really
> was pretty useless when trying to interoperate with other vendors.

It works better than KPML so far.  ;)

-hadriel




_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Mon Sep 10 17:30:23 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1IUqo8-0006cr-Vi; Mon, 10 Sep 2007 17:28:36 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1IUqo8-0006cj-0U
	for sip-confirm+ok@megatron.ietf.org; Mon, 10 Sep 2007 17:28:36 -0400
Received: from [10.90.34.44] (helo=chiedprmail1.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1IUqo7-0006cb-Lx
	for sip@ietf.org; Mon, 10 Sep 2007 17:28:35 -0400
Received: from zcars04f.nortel.com ([47.129.242.57])
	by chiedprmail1.ietf.org with esmtp (Exim 4.43) id 1IUqo7-00060O-9h
	for sip@ietf.org; Mon, 10 Sep 2007 17:28:35 -0400
Received: from zrc2hxm2.corp.nortel.com (zrc2hxm2.corp.nortel.com
	[47.103.123.73])
	by zcars04f.nortel.com (Switch-2.2.6/Switch-2.2.0) with ESMTP id
	l8ALSWe13623; Mon, 10 Sep 2007 21:28:32 GMT
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: [Sip] INFO
Date: Mon, 10 Sep 2007 16:28:30 -0500
Message-ID: <6FC4416DDE56C44DA0AEE67BC7CA437116A5826B@zrc2hxm2.corp.nortel.com>
In-Reply-To: <01c801c7f3ed$107e9b80$800101df@acmepacket.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] INFO
Thread-Index: AcfkO3T4s2cG+lAuEdy/WQAWy4mm/wHUBx+wAOMs5UkADqmUsAAKRtNuAIKOB0AAdotb4AAa0MKAAAScW8AAAeUoQAAAMZAwAAFhR+AAAGP/QAAA66Lw
References: <1ECE0EB50388174790F9694F77522CCF11DF8FEF@zrc2hxm0.corp.nortel.com>
	<C30389ED.A8BE%eburger@bea.com>
	<000c01c7f18c$b0723a60$800101df@acmepacket.com>
	<6FC4416DDE56C44DA0AEE67BC7CA4371169E8AE8@zrc2hxm2.corp.nortel.com>
	<1ECE0EB50388174790F9694F77522CCF11ED8025@zrc2hxm0.corp.nortel.com>
	<01a701c7f3e2$b2419770$800101df@acmepacket.com>
	<1ECE0EB50388174790F9694F77522CCF11ED8413@zrc2hxm0.corp.nortel.com>
	<01c701c7f3e9$901010d0$800101df@acmepacket.com>
	<1ECE0EB50388174790F9694F77522CCF11ED84E3@zrc2hxm0.corp.nortel.com>
	<01c801c7f3ed$107e9b80$800101df@acmepacket.com>
From: "Brian Stucker" <bstucker@nortel.com>
To: "Hadriel Kaplan" <HKaplan@acmepacket.com>,
	"Francois Audet" <audet@nortel.com>, "Eric Burger" <eburger@bea.com>
X-Spam-Score: 0.0 (/)
X-Scan-Signature: 4d87d2aa806f79fed918a62e834505ca
Cc: sip <sip@ietf.org>
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

=20

> -----Original Message-----
> From: Hadriel Kaplan [mailto:HKaplan@acmepacket.com]=20
> Sent: Monday, September 10, 2007 3:56 PM
> To: Audet, Francois (SC100:3055); Stucker, Brian=20
> (RICH1:AR00); 'Eric Burger'
> Cc: 'sip'
> Subject: RE: [Sip] INFO
>=20
>=20
>=20
> > -----Original Message-----
> > From: Francois Audet [mailto:audet@nortel.com]
> > Sent: Monday, September 10, 2007 4:51 PM
> > To: Hadriel Kaplan; Brian Stucker; Eric Burger
> > Cc: sip
> > Subject: RE: [Sip] INFO
> >=20
> > My expectation is that most systems have (or will soon) support RFC=20
> > 2833, and be migrating to it soon.
>=20
> I would hope so.  Then we can get back to arguing about sips=20
> on this mailing list... I'm starting to get withdrawal symptoms. :)

Except 2833 doesn't go to all those lovely application servers we keep
talking about that want to see what the digits are. :(

Since they're typically BBUAs anyhow, maybe we could define an extension
to SDP that application servers can say "send me KPML" or "send me INFO
with this MIME type" should the media path receive a digit. Then the
media server can battle to the death with the application servers as to
whom the digit was intended for.

>=20
> > INFO worked relatively well in a single-vendor network, but=20
> it really=20
> > was pretty useless when trying to interoperate with other vendors.
>=20
> It works better than KPML so far.  ;)
>=20
> -hadriel
>=20
>=20
>=20
>=20
> _______________________________________________
> Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol Use=20
> sip-implementors@cs.columbia.edu for questions on current sip=20
> Use sipping@ietf.org for new developments on the application of sip
>=20


_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Tue Sep 11 01:30:32 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1IUyIT-0007z5-8v; Tue, 11 Sep 2007 01:28:25 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1IUyIQ-0007un-OP
	for sip-confirm+ok@megatron.ietf.org; Tue, 11 Sep 2007 01:28:22 -0400
Received: from [10.91.34.44] (helo=ietf-mx.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1IUyIP-0007sk-QG
	for sip@ietf.org; Tue, 11 Sep 2007 01:28:21 -0400
Received: from lohi.tutpro.com ([192.98.100.2] helo=tutpro.com)
	by ietf-mx.ietf.org with esmtp (Exim 4.43) id 1IUyIO-0007EP-6V
	for sip@ietf.org; Tue, 11 Sep 2007 01:28:21 -0400
Received: from localhost (localhost [127.0.0.1])
	by tutpro.com (Postfix) with ESMTP id 9D1F81EC6B3;
	Tue, 11 Sep 2007 08:28:18 +0300 (EEST)
Received: from tutpro.com ([127.0.0.1])
	by localhost (tutpro.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id kk4tMgBhJxyM; Tue, 11 Sep 2007 08:28:15 +0300 (EEST)
Received: from taimen (anneal20.gprs.dnafinland.fi [62.78.105.20])
	by tutpro.com (Postfix) with ESMTP;
	Tue, 11 Sep 2007 08:28:15 +0300 (EEST)
Received: by taimen (Postfix, from userid 1000)
	id 5E0E3AC050; Tue, 11 Sep 2007 08:28:10 +0300 (EEST)
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <18150.10090.259047.457556@tutpro.com>
Date: Tue, 11 Sep 2007 08:28:10 +0300
To: "Hadriel Kaplan" <HKaplan@acmepacket.com>
Subject: RE: [Sip] INFO
In-Reply-To: <01c701c7f3e9$901010d0$800101df@acmepacket.com>
References: <1ECE0EB50388174790F9694F77522CCF11DF8FEF@zrc2hxm0.corp.nortel.com>
	<C30389ED.A8BE%eburger@bea.com>
	<000c01c7f18c$b0723a60$800101df@acmepacket.com>
	<6FC4416DDE56C44DA0AEE67BC7CA4371169E8AE8@zrc2hxm2.corp.nortel.com>
	<1ECE0EB50388174790F9694F77522CCF11ED8025@zrc2hxm0.corp.nortel.com>
	<01a701c7f3e2$b2419770$800101df@acmepacket.com>
	<1ECE0EB50388174790F9694F77522CCF11ED8413@zrc2hxm0.corp.nortel.com>
	<01c701c7f3e9$901010d0$800101df@acmepacket.com>
X-Mailer: VM 7.19 under Emacs 21.4.1
From: jh@tutpro.com (Juha Heinanen)
X-Spam-Score: 0.0 (/)
X-Scan-Signature: 7bac9cb154eb5790ae3b2913587a40de
Cc: 'sip' <sip@ietf.org>, 'Francois Audet' <audet@nortel.com>,
	'Brian Stucker' <bstucker@nortel.com>
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

Hadriel Kaplan writes:

 > Ya, voicemail isn't the strongest - I noted in that email that a VM would
 > probably (hopefully) do 2833.  But there are plenty of PSTN gateways which
 > don't do 2833.  

then you don't buy such a gw.  in my gws 2833 works fine and there is no
need for yet another protocol for this purpose.

-- juha


_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Tue Sep 11 05:30:03 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1IV22D-00056E-Ut; Tue, 11 Sep 2007 05:27:53 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1IV22C-000568-OT
	for sip-confirm+ok@megatron.ietf.org; Tue, 11 Sep 2007 05:27:52 -0400
Received: from [10.91.34.44] (helo=ietf-mx.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1IV22C-000560-F0
	for sip@ietf.org; Tue, 11 Sep 2007 05:27:52 -0400
Received: from mailgw4.ericsson.se ([193.180.251.62])
	by ietf-mx.ietf.org with esmtp (Exim 4.43) id 1IV22B-0005AM-1L
	for sip@ietf.org; Tue, 11 Sep 2007 05:27:52 -0400
Received: from mailgw4.ericsson.se (unknown [127.0.0.1])
	by mailgw4.ericsson.se (Symantec Mail Security) with ESMTP id
	00BFD21279; Tue, 11 Sep 2007 11:27:02 +0200 (CEST)
X-AuditID: c1b4fb3e-b2038bb0000007e1-05-46e65f659108
Received: from esealmw126.eemea.ericsson.se (unknown [153.88.254.123])
	by mailgw4.ericsson.se (Symantec Mail Security) with ESMTP id
	BC90A21287; Tue, 11 Sep 2007 11:27:01 +0200 (CEST)
Received: from esealmw113.eemea.ericsson.se ([153.88.200.4]) by
	esealmw126.eemea.ericsson.se with Microsoft SMTPSVC(6.0.3790.1830); 
	Tue, 11 Sep 2007 11:27:01 +0200
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: [Sip] INFO
Date: Tue, 11 Sep 2007 11:27:00 +0200
Message-ID: <CA9998CD4A020D418654FCDEF4E707DF017D5605@esealmw113.eemea.ericsson.se>
In-Reply-To: <01c301c7f3e6$06b08d90$800101df@acmepacket.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] INFO
Thread-Index: AcfkO3T4s2cG+lAuEdy/WQAWy4mm/wHUBx+wAOMs5UkADqmUsAAKRtNuAIKOB0AAAqJ7AAAUMvLQAJzElcA=
References: <1ECE0EB50388174790F9694F77522CCF11DF8FEF@zrc2hxm0.corp.nortel.com><C30389ED.A8BE%eburger@bea.com><000c01c7f18c$b0723a60$800101df@acmepacket.com><A5E9CBACB726CB4BAA3DAFF0925C188F01810329@repbex01.amer.bea.com>
	<01c301c7f3e6$06b08d90$800101df@acmepacket.com>
From: "Christer Holmberg (JO/LMF)" <christer.holmberg@ericsson.com>
To: "Hadriel Kaplan" <HKaplan@acmepacket.com>, "Eric Burger" <eburger@bea.com>
X-OriginalArrivalTime: 11 Sep 2007 09:27:01.0601 (UTC)
	FILETIME=[E8A71510:01C7F455]
X-Brightmail-Tracker: AAAAAA==
X-Spam-Score: 0.0 (/)
X-Scan-Signature: 3e15cc4fdc61d7bce84032741d11c8e5
Cc: sip <sip@ietf.org>
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org


Hi,=20

>>Consider a PSTN call.  The call goes from the gateway to softswitch /=20
>>Proxy.  Proxy routes to VM App Server.  INFO has to pass through=20
>>softswitch / Proxy.=20
>>In KPML-land, VM App Server *directly* subscribes to UAC key press
state, bypassing the softswitch.

[Christer] As I've said before, there are environments where some
proxies must (for whatever reason) be passed through. I guess an
outbound proxy is a good example.

>>KPML and INFO have the same number of messages for a SINGLE digit;
KPML wins=20
>>hands-down for multiple digits or reports.
>=20
>Not exactly - for a single digit, KPML would generate a=20
>Subscribe/200/Notify/200 before the single DTMF was even=20
>pressed - before the actual Notify with the digits in it. =20
>And of course there is now also a subscribe dialog involved. =20
>Assuming a one-shot single digit type, then, we're talking 6=20
>SIP messages for KPML vs. 2 for Info. =20

[Christer] And, in cases where you need to send DTMFs (or whatever
information) in both directions you actually need 2 subscription dialogs
- one in each direction, and maintaining dialog state also consumes
resources. And, in some cases you may not even know whether you will
ever have to use the dialog.


>>More importantly, let's take a Call Management (CM) application that=20
>>calls a VM application when they cannot find the subscriber.  INFO has

>>to pass through the softswitch / Proxy to the CM application.  Cool -=20
>>it is a proxy, so it knows to relay.  But OOPS!  The CM application=20
>>has to proxy the INFOs to the VM application.  Yes - you could be a=20
>>good programmer and remember to do that EVERYWHERE you place an=20
>>outbound call, but it is really easy to get wrong.
>=20
>I'm not sure I understand the scenario.  The VM learned about=20
>this call how?
>By being in the signaling path, no?  So why wouldn't the CM=20
>forward INFO along the path? (I mean it is in the same=20
>dialog, after all)  Now I don't doubt it could screw that up,=20
>and eat the info thinking it was for itself, but lots of=20
>things can get screwed up - my guess is KPML will not be=20
>impervious to screw ups.

[Christer] I also have problems understanding the scenario. INFO is
routed to wherever the INVITE that initiated the dialog was routed...

Regards,

Christer


_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Tue Sep 11 05:32:26 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1IV24v-0007ZX-9E; Tue, 11 Sep 2007 05:30:41 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1IV24t-0007ZS-GK
	for sip-confirm+ok@megatron.ietf.org; Tue, 11 Sep 2007 05:30:39 -0400
Received: from [10.90.34.44] (helo=chiedprmail1.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1IV24t-0007ZK-5f
	for sip@ietf.org; Tue, 11 Sep 2007 05:30:39 -0400
Received: from mailgw3.ericsson.se ([193.180.251.60])
	by chiedprmail1.ietf.org with esmtp (Exim 4.43) id 1IV24s-0006Y3-EL
	for sip@ietf.org; Tue, 11 Sep 2007 05:30:39 -0400
Received: from mailgw3.ericsson.se (unknown [127.0.0.1])
	by mailgw3.ericsson.se (Symantec Mail Security) with ESMTP id
	806BC2066F; Tue, 11 Sep 2007 11:30:37 +0200 (CEST)
X-AuditID: c1b4fb3c-afe7ebb0000007e1-ed-46e6603db98a
Received: from esealmw126.eemea.ericsson.se (unknown [153.88.254.123])
	by mailgw3.ericsson.se (Symantec Mail Security) with ESMTP id
	66B88204A3; Tue, 11 Sep 2007 11:30:37 +0200 (CEST)
Received: from esealmw113.eemea.ericsson.se ([153.88.200.4]) by
	esealmw126.eemea.ericsson.se with Microsoft SMTPSVC(6.0.3790.1830); 
	Tue, 11 Sep 2007 11:30:37 +0200
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: [Sip] INFO
Date: Tue, 11 Sep 2007 11:30:36 +0200
Message-ID: <CA9998CD4A020D418654FCDEF4E707DF017D5637@esealmw113.eemea.ericsson.se>
In-Reply-To: <CA9998CD4A020D418654FCDEF4E707DF017D5605@esealmw113.eemea.ericsson.se>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] INFO
Thread-Index: AcfkO3T4s2cG+lAuEdy/WQAWy4mm/wHUBx+wAOMs5UkADqmUsAAKRtNuAIKOB0AAAqJ7AAAUMvLQAJzElcAAAF9YEA==
References: <1ECE0EB50388174790F9694F77522CCF11DF8FEF@zrc2hxm0.corp.nortel.com><C30389ED.A8BE%eburger@bea.com><000c01c7f18c$b0723a60$800101df@acmepacket.com><A5E9CBACB726CB4BAA3DAFF0925C188F01810329@repbex01.amer.bea.com><01c301c7f3e6$06b08d90$800101df@acmepacket.com>
	<CA9998CD4A020D418654FCDEF4E707DF017D5605@esealmw113.eemea.ericsson.se>
From: "Christer Holmberg (JO/LMF)" <christer.holmberg@ericsson.com>
To: "Hadriel Kaplan" <HKaplan@acmepacket.com>, "Eric Burger" <eburger@bea.com>
X-OriginalArrivalTime: 11 Sep 2007 09:30:37.0289 (UTC)
	FILETIME=[69367590:01C7F456]
X-Brightmail-Tracker: AAAAAA==
X-Spam-Score: 0.0 (/)
X-Scan-Signature: 10d3e4e3c32e363f129e380e644649be
Cc: sip <sip@ietf.org>
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org


Hi,

Let's also keep in mind that DTMF may not be the only information users
want to send to each other during a session. So, you will need to
establish subscription dialogs for every type of event that the users
may want to send during the session...

Regards,

Christer=20

> -----Original Message-----
> From: Christer Holmberg (JO/LMF)=20
> [mailto:christer.holmberg@ericsson.com]=20
> Sent: 11. syyskuuta 2007 12:27
> To: Hadriel Kaplan; Eric Burger
> Cc: sip
> Subject: RE: [Sip] INFO
>=20
>=20
> Hi,=20
>=20
> >>Consider a PSTN call.  The call goes from the gateway to=20
> softswitch /=20
> >>Proxy.  Proxy routes to VM App Server.  INFO has to pass through=20
> >>softswitch / Proxy.
> >>In KPML-land, VM App Server *directly* subscribes to UAC key press
> state, bypassing the softswitch.
>=20
> [Christer] As I've said before, there are environments where some
> proxies must (for whatever reason) be passed through. I guess an
> outbound proxy is a good example.
>=20
> >>KPML and INFO have the same number of messages for a SINGLE digit;
> KPML wins=20
> >>hands-down for multiple digits or reports.
> >=20
> >Not exactly - for a single digit, KPML would generate a=20
> >Subscribe/200/Notify/200 before the single DTMF was even=20
> >pressed - before the actual Notify with the digits in it. =20
> >And of course there is now also a subscribe dialog involved. =20
> >Assuming a one-shot single digit type, then, we're talking 6=20
> >SIP messages for KPML vs. 2 for Info. =20
>=20
> [Christer] And, in cases where you need to send DTMFs (or whatever
> information) in both directions you actually need 2=20
> subscription dialogs
> - one in each direction, and maintaining dialog state also consumes
> resources. And, in some cases you may not even know whether you will
> ever have to use the dialog.
>=20
>=20
> >>More importantly, let's take a Call Management (CM)=20
> application that=20
> >>calls a VM application when they cannot find the=20
> subscriber.  INFO has
>=20
> >>to pass through the softswitch / Proxy to the CM=20
> application.  Cool -=20
> >>it is a proxy, so it knows to relay.  But OOPS!  The CM application=20
> >>has to proxy the INFOs to the VM application.  Yes - you could be a=20
> >>good programmer and remember to do that EVERYWHERE you place an=20
> >>outbound call, but it is really easy to get wrong.
> >=20
> >I'm not sure I understand the scenario.  The VM learned about=20
> >this call how?
> >By being in the signaling path, no?  So why wouldn't the CM=20
> >forward INFO along the path? (I mean it is in the same=20
> >dialog, after all)  Now I don't doubt it could screw that up,=20
> >and eat the info thinking it was for itself, but lots of=20
> >things can get screwed up - my guess is KPML will not be=20
> >impervious to screw ups.
>=20
> [Christer] I also have problems understanding the scenario. INFO is
> routed to wherever the INVITE that initiated the dialog was routed...
>=20
> Regards,
>=20
> Christer
>=20
>=20
> _______________________________________________
> Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
>=20


_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Tue Sep 11 05:40:10 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1IV2CO-0006zI-3J; Tue, 11 Sep 2007 05:38:24 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1IV2CN-0006yf-6G
	for sip-confirm+ok@megatron.ietf.org; Tue, 11 Sep 2007 05:38:23 -0400
Received: from [10.91.34.44] (helo=ietf-mx.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1IV2CM-0006wL-S9
	for sip@ietf.org; Tue, 11 Sep 2007 05:38:22 -0400
Received: from mailgw3.ericsson.se ([193.180.251.60])
	by ietf-mx.ietf.org with esmtp (Exim 4.43) id 1IV2CL-0005Qp-Dw
	for sip@ietf.org; Tue, 11 Sep 2007 05:38:22 -0400
Received: from mailgw3.ericsson.se (unknown [127.0.0.1])
	by mailgw3.ericsson.se (Symantec Mail Security) with ESMTP id
	D18C520403; Tue, 11 Sep 2007 11:38:20 +0200 (CEST)
X-AuditID: c1b4fb3c-b1e82bb0000007e1-16-46e6620cb103
Received: from esealmw128.eemea.ericsson.se (unknown [153.88.254.121])
	by mailgw3.ericsson.se (Symantec Mail Security) with ESMTP id
	A6CA1203D9; Tue, 11 Sep 2007 11:38:20 +0200 (CEST)
Received: from esealmw113.eemea.ericsson.se ([153.88.200.4]) by
	esealmw128.eemea.ericsson.se with Microsoft SMTPSVC(6.0.3790.1830); 
	Tue, 11 Sep 2007 11:38:20 +0200
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: [Sip] INFO
Date: Tue, 11 Sep 2007 11:38:17 +0200
Message-ID: <CA9998CD4A020D418654FCDEF4E707DF017D569D@esealmw113.eemea.ericsson.se>
In-Reply-To: <012801c7ebe8$34150000$6401a8c0@acmepacket.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] INFO
Thread-Index: Acfr46MgNk1GgFw7TiWLqdE1WfghRgAAJShwAACqRlACHAxv8A==
References: <0JNN004WJ9NJLK40@jes-fe2.zx.nl><A5E9CBACB726CB4BAA3DAFF0925C188F016BB994@repbex01.amer.bea.com>
	<012801c7ebe8$34150000$6401a8c0@acmepacket.com>
From: "Christer Holmberg (JO/LMF)" <christer.holmberg@ericsson.com>
To: "Hadriel Kaplan" <HKaplan@acmepacket.com>, "Eric Burger" <eburger@bea.com>,
	"Jeroen van Bemmel" <jbemmel@zonnet.nl>, "Peili Xu" <xupeili@huawei.com>
X-OriginalArrivalTime: 11 Sep 2007 09:38:20.0129 (UTC)
	FILETIME=[7D163D10:01C7F457]
X-Brightmail-Tracker: AAAAAA==
X-Spam-Score: -1.0 (-)
X-Scan-Signature: 093efd19b5f651b2707595638f6c4003
Cc: sip <sip@ietf.org>
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org


Hi,

I agree with Hadriel. Just because we may have to work on something
("what are the current problems"), e.g. ragarding indication of support,
it doesn't mean we shouldn't do it.

Regards,

Christer

>I think he's saying it's something that could be resolved by=20
>standardization. (maybe)
>=20
>At least the way I read your draft, the draft makes arguments=20
>against INFO of two different types, as if they were of=20
>similar weight and impact - but that's not really the case. =20
>There is one set of problems with INFO that exist because of=20
>architectural issues, which are probably not fixable, and are=20
>generally damning.  There is a separate set which are=20
>problems merely because no standard exists for how to address=20
>them, but they could be resolved.  This latter type is not=20
>really a "Why INFO is bad in general", as much as a "what the=20
>current problems are with INFO that we should fix if we want=20
>to keep using INFO".
>=20
> -hadriel
>=20
> > -----Original Message-----
> > From: Eric Burger [mailto:eburger@bea.com]
> > Sent: Friday, August 31, 2007 11:33 AM
> > To: Jeroen van Bemmel; Peili Xu
> > Cc: sip
> > Subject: RE: [Sip] INFO
> >=20
> > *How* do they signal what they support?  In an INFO?  <jk>
> >=20
> > -----Original Message-----
> > From: Jeroen van Bemmel [mailto:jbemmel@zonnet.nl]
> > Sent: Friday, August 31, 2007 11:29 AM
> > To: Eric Burger; Peili Xu
> > Cc: sip
> > Subject: RE: [Sip] INFO
> >=20
> > Since INFO is mid-dialog, the endpoints can signal what=20
> they support.=20
> > It does not need to be known a priori
> >=20
> > Regards,
> > Jeroen
> >=20
> > -----Oorspronkelijk bericht -----
> > Van: "Eric Burger" <eburger@bea.com>
> > Aan: "Peili Xu" <xupeili@huawei.com>
> > CC: "sip" <sip@ietf.org>
> > Verzonden: 31-8-07 00:03
> > Onderwerp: Re: [Sip] INFO
> >=20
> > Saying, "OK for interworking" does not really say anything.=20
>  If I come=20
> > up with a really broken method for interworking, saying=20
> that it is for=20
> > interworking does not make it correct.
> >=20
> > The problem is, how do the endpoints know they will be able to=20
> > communicate?
> > For the ISUP/Q.sig/DPNSS/mumble case, the endpoints know=20
> they will be=20
> > able to interoperate because they know a'priori: they are=20
> configured=20
> > to work.
> > However, this means that the devices must be in the same=20
> > administrative domain and configured properly.
> >=20
> > Said in a different manner, INFO works fine for=20
> non-inter-network use.
> > It would be hard for the IETF to say, "Here is a non-IETF use.  We=20
> > will not use it.  You cannot use it with anyone else.  You=20
> cannot use=20
> > it between manufacturers, unless you get them to agree to=20
> this use." =20
> > That is a bit more of what we call the toxic waste warning that=20
> > accompanies 3GPP specifications...
> >=20
> >=20
> > On 8/27/07 8:35 AM, "Peili Xu" <xupeili@huawei.com> wrote:
> >=20
> > > Hi Eric,
> > >
> > > Several cases I encounter to use INFO is for interworking=20
> with PSTN=20
> > > signaling, or simulate PSTN services at SIP entities such=20
> as SIP UA=20
> > > or
> >=20
> > > SIP GW, which require mid-dialog information change.
> > >
> >=20
> >=20
> > Notice:  This email message, together with any attachments, may=20
> > contain information  of  BEA Systems,  Inc.,  its=20
> subsidiaries  and =20
> > affiliated entities,  that may be confidential,  proprietary, =20
> > copyrighted  and/or legally privileged, and is intended=20
> solely for the=20
> > use of the individual or entity named in this message. If=20
> you are not=20
> > the intended recipient, and have received this message in error,=20
> > please immediately return this by email and then delete it.
> >=20
> >=20
> > _______________________________________________
> > Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
> > This list is for NEW development of the core SIP Protocol Use=20
> > sip-implementors@cs.columbia.edu for questions on current sip Use=20
> > sipping@ietf.org for new developments on the application of sip
>=20
>=20
>=20
> _______________________________________________
> Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol Use=20
> sip-implementors@cs.columbia.edu for questions on current sip=20
> Use sipping@ietf.org for new developments on the application of sip
>=20


_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Tue Sep 11 09:15:18 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1IV5YE-000567-PH; Tue, 11 Sep 2007 09:13:10 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1IV5YD-00054V-F8
	for sip-confirm+ok@megatron.ietf.org; Tue, 11 Sep 2007 09:13:09 -0400
Received: from [10.90.34.44] (helo=chiedprmail1.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1IV5YD-00054M-3e
	for sip@ietf.org; Tue, 11 Sep 2007 09:13:09 -0400
Received: from tcmail23.telekom.de ([217.6.95.237])
	by chiedprmail1.ietf.org with esmtp (Exim 4.43) id 1IV5YC-000423-6q
	for sip@ietf.org; Tue, 11 Sep 2007 09:13:09 -0400
Received: from S4DE9JSAANO.ost.t-com.de (S4DE9JSAANO.ost.t-com.de
	[10.125.177.105]) by tcmail21.telekom.de with ESMTP;
	Tue, 11 Sep 2007 15:13:03 +0200
Received: from S4DE9JSAAHW.ost.t-com.de ([10.125.177.160]) by
	S4DE9JSAANO.ost.t-com.de with Microsoft SMTPSVC(6.0.3790.3959); 
	Tue, 11 Sep 2007 15:13:02 +0200
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-MimeOLE: Produced By Microsoft Exchange V6.5
Subject: AW: ?headers ( was RE: AW: AW: [Sip] Extension of conferenceprocedures
Date: Tue, 11 Sep 2007 15:13:02 +0200
Message-Id: <CCA850DCD3FBE2479D5076C5C1873222029F50E2@S4DE9JSAAHW.ost.t-com.de>
In-Reply-To: <46DF05BF.8080007@zonnet.nl>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: ?headers ( was RE: AW: AW: [Sip] Extension of
	conferenceprocedures
Thread-Index: Acfv9Kv+6KTcnOzwS5i8Ezfc7iue7AEe/6vA
From: "Huelsemann, Martin" <Martin.Huelsemann@t-com.net>
To: <jbemmel@zonnet.nl>, <mary.barnes@nortel.com>,
	"Alexeitsev, D" <D.Alexeitsev@t-com.net>
X-OriginalArrivalTime: 11 Sep 2007 13:13:02.0995 (UTC)
	FILETIME=[7BDF9630:01C7F475]
X-Spam-Score: 0.0 (/)
X-Scan-Signature: 0770535483960d190d4a0d020e7060bd
Cc: sip@ietf.org, drage@alcatel-lucent.com, Gonzalo.Camarillo@ericsson.com
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

Yes, that would be the way the reINVITE could look like. For the SDP I =
think a new offer from the focus is needed.

It's the question if this is desirable, but if it works and we can =
handle the security aspects, I think it's at least not completely =
undesirable as a fallback solution for a conference. Of course this =
should not be the normal way of activating the ad-hoc conference.

If we agree on the usage, where could this usage of the regarding =
headers be documented? Would it make necessary a new I-D? Or could this =
also be described in existing drafts related to this topic, e. g. =
draft-ietf-sip-uri-list-conferencing?=20


BR, Martin




> -----Urspr=FCngliche Nachricht-----
> Von: Jeroen van Bemmel [mailto:jbemmel@zonnet.nl]=20
> Gesendet: Mittwoch, 5. September 2007 21:39
> An: Mary Barnes
> Cc: sip@ietf.org; DRAGE, Keith (Keith)
> Betreff: Re: ?headers ( was RE: AW: AW: [Sip] Extension of=20
> conferenceprocedures
>=20
>=20
> Concretely, would we be looking at something like
>=20
> sip:b-party@provider.com?From=3Dsip%3ca-party@provider.com;tag=3Dx
> =
&To=3Dsip:b-party@provider.com;tag=3Dy&Call-ID=3Di&CSeq=3D1234&Route=3Dr
> rr&body=3D<SDP=20
> with proper session versions etc>
>=20
> in order to help the conference server fake a reINVITE towards B?
>=20
> RFC3261 provides some guidance on the types of headers that elements=20
> might accept as part of a URI. Specifically, it states in 19.1.5:
> "An implementation SHOULD NOT honor these obviously dangerous header=20
> fields: From, Call-ID, CSeq, Via, and Record-Route."
>=20
> I believe the usage that was foreseen for this mechanism (as=20
> illustrated=20
> by some of the examples in RFC3261) was to provide some=20
> context for the=20
> request, such as Subject and Priority fields. In other words,=20
> optional=20
> information that might help the receiver understand the context.
>=20
> The above are not different semantics for headers in a URI (concept=20
> remains: form a new request based on the URI, inserting the headers),=20
> but it does imply a deviation from the basic SIP call model=20
> (basically a=20
> way of encoding dialog state in a SIP URI, and sending that=20
> to another=20
> element such that it can reconstruct that state and assume=20
> the role of=20
> the party which shared the state).
>=20
> Apart from the fact that this approach will fall short for=20
> SDP related=20
> state: is this desirable?
>=20
> Regards,
> Jeroen
>=20
> Mary Barnes wrote:
> > RFC 4244 (History-Info) also uses this mechanism to capture=20
> the Reason
> > and Privacy associated with the URIs that are included as=20
> part of the
> > History-Info header.  My understanding is that it's really=20
> just a nifty
> > way to compactly reuse existing headers (i.e., it makes the=20
> History-Info
> > much more compact as I didn't need to define additional=20
> parameters for
> > the header, but could rather reuse the existing ones, whose existing
> > semantics perfectly applicable).  I do think that the use=20
> of the headers
> > that might be escaped using this mechanism should be explained,
> > particularly in cases where you might be extending the use=20
> of existing
> > headers as I did for the Privacy header. =20
> >
> > Mary. =20
> >
> > -----Original Message-----
> > From: Peili Xu [mailto:xupeili@gmail.com]=20
> > Sent: Wednesday, September 05, 2007 10:41 AM
> > To: DRAGE, Keith (Keith)
> > Cc: sip@ietf.org
> > Subject: Re: AW: AW: [Sip] Extension of conference procedures
> >
> > Yes, It's vague in RFC3261.  I'm only aware of the usage in=20
> REFER now.
> > It'll be good to clarify the semantics in the usage in url-list.
> >
> > 2007/9/5, DRAGE, Keith (Keith) <drage@alcatel-lucent.com>:
> >  =20
> >> So this is a convenient way to bring us back to the other=20
> half of the
> >>    =20
> > issue which we do not seem to have discussed yet. When the=20
> syntax was
> > defined that allowed ?headers:
> >  =20
> >>       Headers: Header fields to be included in a request=20
> constructed
> >>          from the URI.
> >>
> >>          Headers fields in the SIP request can be=20
> specified with the
> >>    =20
> > "?"
> >  =20
> >>          mechanism within a URI.  The header names and values are
> >>          encoded in ampersand separated hname =3D hvalue pairs.  =
The
> >>          special hname "body" indicates that the=20
> associated hvalue is
> >>          the message-body of the SIP request.
> >>
> >> What usage did the SIP WG envisage for this, and thus what=20
> semantics
> >>    =20
> > did they define for that usage.
> >  =20
> >> Is it appropriate to assign new semantics to such usage?
> >>
> >> Regards
> >>
> >> Keith
> >>
> >>    =20
> > Note: I snipped the rest of this thread as it was getting=20
> really LONG.
> >
> >
> > _______________________________________________
> > Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
> > This list is for NEW development of the core SIP Protocol
> > Use sip-implementors@cs.columbia.edu for questions on current sip
> > Use sipping@ietf.org for new developments on the application of sip
> >
> >  =20
>=20
>=20
> _______________________________________________
> Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
>=20


_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Tue Sep 11 18:13:50 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1IVDxe-0003tQ-1S; Tue, 11 Sep 2007 18:11:58 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1IVDxc-0003tL-7l
	for sip-confirm+ok@megatron.ietf.org; Tue, 11 Sep 2007 18:11:56 -0400
Received: from [10.91.34.44] (helo=ietf-mx.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1IVDxb-0003se-Se
	for sip@ietf.org; Tue, 11 Sep 2007 18:11:55 -0400
Received: from web63212.mail.re1.yahoo.com ([69.147.97.22])
	by ietf-mx.ietf.org with smtp (Exim 4.43) id 1IVDxa-0008Ry-IT
	for sip@ietf.org; Tue, 11 Sep 2007 18:11:55 -0400
Received: (qmail 78514 invoked by uid 60001); 11 Sep 2007 22:11:54 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws; s=s1024; d=yahoo.com;
	h=X-YMail-OSG:Received:Date:From:Subject:To:Cc:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding:Message-ID;
	b=JdAzpAhBFUVPXctnPotEA2VtHFoobX4rm/yGmW4zYWqSW1ZWCMAsM6+Ikx37e/9dOcUL9n20ZvACqCDZ6i5xDGYPngZVbhwDj6EBC7lpUP1L7dDjQqxVzoTXg1MdxeoJXYhSLPn0AY+q4gJ3QcMO3ezPJp5iGIsC5G0ClOLedu4=;
X-YMail-OSG: BWVDKQsVM1lSRRtdsY1EcZ_T_eSpSYlDN90HHcFlUfl_ELE.tWMcwNGVKLCl1NgEyUwxYMmeSZba2roLZST.uZ6jvYIeksMx5Ol5
Received: from [216.191.234.70] by web63212.mail.re1.yahoo.com via HTTP;
	Tue, 11 Sep 2007 15:11:54 PDT
Date: Tue, 11 Sep 2007 15:11:54 -0700 (PDT)
From: Jerry Yin <jerry.yin@yahoo.com>
Subject: RE: AW: AW: [Sip] Extension of conference procedures
To: Jeroen van Bemmel <jbemmel@zonnet.nl>, Mary Barnes <mary.barnes@nortel.com>
In-Reply-To: <46DF05BF.8080007@zonnet.nl>
MIME-Version: 1.0
Message-ID: <412678.76904.qm@web63212.mail.re1.yahoo.com>
X-Spam-Score: 0.0 (/)
X-Scan-Signature: dbb8771284c7a36189745aa720dc20ab
Cc: sip@ietf.org, "DRAGE, Keith \(Keith\)" <drage@alcatel-lucent.com>
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: multipart/mixed; boundary="===============0115771887=="
Errors-To: sip-bounces@ietf.org

--===============0115771887==
Content-Type: multipart/alternative; boundary="0-993888202-1189548714=:76904"
Content-Transfer-Encoding: 8bit

--0-993888202-1189548714=:76904
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

  I think there are two ways to invoke a conference. One is to invoke the conference by the conference server. The other is ad-hoc conference invoked by the participants. The draft-ietf-sip-uri-list-conferencing was trying to solve the problem by initiating a conference from the server. 
  Here's what I think for the ad-hoc conference.
  Participants: A calls B (a UA or a conference room) and put B on-hold, and then A calls C. Now A presses the conf button.
  1. If B has a conference room url, A will transfer C to B (by REFER), as some of you discussed already. It actually is supported by some companies already as I know.
  2. But if B is a UA, when the conf button is pressed, the only SIP messages send out by A is the re-Invite (off-hold) to B since most SIP phones support 3-way conference locally. Then A will do the audio mixing locally. So far I didn't find any solution to transfer the local 3-way conference to a centralized conference yet. Currently in our system, we adopted the "Join" header (RFC3911). When A sends the re-Invite to B, it also includes a Join header contains the C's dialog info. The B2B server will translate the Join to a centralized conference. It will Invite C with a Replace header to replace the session between A and C. C will sends a BYE to A. The server will update the media to A and B (reInvite). Then all three parties are in the centralized conference room.
  I hope the new RFC for conference also capture the behavior described in 2. Whether it's Join header or something else. The user should be able to call someone first and then decided to setup a conference.
Jerry

Jeroen van Bemmel <jbemmel@zonnet.nl> wrote:  Concretely, would we be looking at something like

sip:b-party@provider.com?From=sip%3ca-party@provider.com;tag=x&To=sip:b-party@provider.com;tag=y&Call-ID=i&CSeq=1234&Route=rrr&body=with proper session versions etc>

in order to help the conference server fake a reINVITE towards B?

RFC3261 provides some guidance on the types of headers that elements 
might accept as part of a URI. Specifically, it states in 19.1.5:
"An implementation SHOULD NOT honor these obviously dangerous header 
fields: From, Call-ID, CSeq, Via, and Record-Route."

I believe the usage that was foreseen for this mechanism (as illustrated 
by some of the examples in RFC3261) was to provide some context for the 
request, such as Subject and Priority fields. In other words, optional 
information that might help the receiver understand the context.

The above are not different semantics for headers in a URI (concept 
remains: form a new request based on the URI, inserting the headers), 
but it does imply a deviation from the basic SIP call model (basically a 
way of encoding dialog state in a SIP URI, and sending that to another 
element such that it can reconstruct that state and assume the role of 
the party which shared the state).

Apart from the fact that this approach will fall short for SDP related 
state: is this desirable?

Regards,
Jeroen

Mary Barnes wrote:
> RFC 4244 (History-Info) also uses this mechanism to capture the Reason
> and Privacy associated with the URIs that are included as part of the
> History-Info header. My understanding is that it's really just a nifty
> way to compactly reuse existing headers (i.e., it makes the History-Info
> much more compact as I didn't need to define additional parameters for
> the header, but could rather reuse the existing ones, whose existing
> semantics perfectly applicable). I do think that the use of the headers
> that might be escaped using this mechanism should be explained,
> particularly in cases where you might be extending the use of existing
> headers as I did for the Privacy header. 
>
> Mary. 
>
> -----Original Message-----
> From: Peili Xu [mailto:xupeili@gmail.com] 
> Sent: Wednesday, September 05, 2007 10:41 AM
> To: DRAGE, Keith (Keith)
> Cc: sip@ietf.org
> Subject: Re: AW: AW: [Sip] Extension of conference procedures
>
> Yes, It's vague in RFC3261. I'm only aware of the usage in REFER now.
> It'll be good to clarify the semantics in the usage in url-list.
>
> 2007/9/5, DRAGE, Keith (Keith) :
> 
>> So this is a convenient way to bring us back to the other half of the
>> 
> issue which we do not seem to have discussed yet. When the syntax was
> defined that allowed ?headers:
> 
>> Headers: Header fields to be included in a request constructed
>> from the URI.
>>
>> Headers fields in the SIP request can be specified with the
>> 
> "?"
> 
>> mechanism within a URI. The header names and values are
>> encoded in ampersand separated hname = hvalue pairs. The
>> special hname "body" indicates that the associated hvalue is
>> the message-body of the SIP request.
>>
>> What usage did the SIP WG envisage for this, and thus what semantics
>> 
> did they define for that usage.
> 
>> Is it appropriate to assign new semantics to such usage?
>>
>> Regards
>>
>> Keith
>>
>> 
> Note: I snipped the rest of this thread as it was getting really LONG.
>
>
> _______________________________________________
> Sip mailing list https://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
>
> 


_______________________________________________
Sip mailing list https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


       
---------------------------------
 Check out  the hottest 2008 models today at Yahoo! Autos.
--0-993888202-1189548714=:76904
Content-Type: text/html; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

<FONT size=2>  <div>I think there are two ways to invoke a conference. One is to invoke the conference by the conference server. The other is ad-hoc conference invoked by the participants. The draft-ietf-sip-uri-list-conferencing was trying to solve the problem by initiating a conference from the server. </div>  <div>Here's what I think for the ad-hoc conference.</div>  <div>Participants: A calls B (a UA or a conference room) and put B on-hold, and then A calls C. Now A presses the conf button.</div>  <div>1. If B has a conference room url, A will transfer C to B (by REFER), as some of you discussed already. It actually is supported by some companies already as I know.</div>  <div>2. But if B is a UA, when the conf button is pressed, the only SIP messages send out by A is the re-Invite (off-hold) to B since most SIP phones support 3-way conference locally. Then A will do the audio mixing locally. So far I didn't find any solution to transfer the local 3-way conference to a
 centralized conference yet. Currently in our system, we adopted the "Join" header (RFC3911). When A sends the re-Invite to B, it also includes a Join header contains the C's dialog info. The B2B server will translate the Join to a centralized conference. It will Invite C with a Replace header to replace the session between A and C. C will sends a BYE to A. The server will update the media to A and B (reInvite). Then all three parties are in the centralized conference room.</div>  <div>I hope the new RFC for conference also capture the behavior described in 2. Whether it's Join header or something else. The user should be able to call someone first and then decided to setup a conference.</div></FONT>Jerry<BR><BR><B><I>Jeroen van Bemmel &lt;jbemmel@zonnet.nl&gt;</I></B> wrote:  <BLOCKQUOTE class=replbq style="PADDING-LEFT: 5px; MARGIN-LEFT: 5px; BORDER-LEFT: #1010ff 2px solid">Concretely, would we be looking at something
 like<BR><BR>sip:b-party@provider.com?From=sip%3ca-party@provider.com;tag=x&amp;To=sip:b-party@provider.com;tag=y&amp;Call-ID=i&amp;CSeq=1234&amp;Route=rrr&amp;body=<SDP <br>with proper session versions etc&gt;<BR><BR>in order to help the conference server fake a reINVITE towards B?<BR><BR>RFC3261 provides some guidance on the types of headers that elements <BR>might accept as part of a URI. Specifically, it states in 19.1.5:<BR>"An implementation SHOULD NOT honor these obviously dangerous header <BR>fields: From, Call-ID, CSeq, Via, and Record-Route."<BR><BR>I believe the usage that was foreseen for this mechanism (as illustrated <BR>by some of the examples in RFC3261) was to provide some context for the <BR>request, such as Subject and Priority fields. In other words, optional <BR>information that might help the receiver understand the context.<BR><BR>The above are not different semantics for headers in a URI (concept <BR>remains: form a new request based on the URI,
 inserting the headers), <BR>but it does imply a deviation from the basic SIP call model (basically a <BR>way of encoding dialog state in a SIP URI, and sending that to another <BR>element such that it can reconstruct that state and assume the role of <BR>the party which shared the state).<BR><BR>Apart from the fact that this approach will fall short for SDP related <BR>state: is this desirable?<BR><BR>Regards,<BR>Jeroen<BR><BR>Mary Barnes wrote:<BR>&gt; RFC 4244 (History-Info) also uses this mechanism to capture the Reason<BR>&gt; and Privacy associated with the URIs that are included as part of the<BR>&gt; History-Info header. My understanding is that it's really just a nifty<BR>&gt; way to compactly reuse existing headers (i.e., it makes the History-Info<BR>&gt; much more compact as I didn't need to define additional parameters for<BR>&gt; the header, but could rather reuse the existing ones, whose existing<BR>&gt; semantics perfectly applicable). I do think that the use
 of the headers<BR>&gt; that might be escaped using this mechanism should be explained,<BR>&gt; particularly in cases where you might be extending the use of existing<BR>&gt; headers as I did for the Privacy header. <BR>&gt;<BR>&gt; Mary. <BR>&gt;<BR>&gt; -----Original Message-----<BR>&gt; From: Peili Xu [mailto:xupeili@gmail.com] <BR>&gt; Sent: Wednesday, September 05, 2007 10:41 AM<BR>&gt; To: DRAGE, Keith (Keith)<BR>&gt; Cc: sip@ietf.org<BR>&gt; Subject: Re: AW: AW: [Sip] Extension of conference procedures<BR>&gt;<BR>&gt; Yes, It's vague in RFC3261. I'm only aware of the usage in REFER now.<BR>&gt; It'll be good to clarify the semantics in the usage in url-list.<BR>&gt;<BR>&gt; 2007/9/5, DRAGE, Keith (Keith) <DRAGE@ALCATEL-LUCENT.COM>:<BR>&gt; <BR>&gt;&gt; So this is a convenient way to bring us back to the other half of the<BR>&gt;&gt; <BR>&gt; issue which we do not seem to have discussed yet. When the syntax was<BR>&gt; defined that allowed ?headers:<BR>&gt;
 <BR>&gt;&gt; Headers: Header fields to be included in a request constructed<BR>&gt;&gt; from the URI.<BR>&gt;&gt;<BR>&gt;&gt; Headers fields in the SIP request can be specified with the<BR>&gt;&gt; <BR>&gt; "?"<BR>&gt; <BR>&gt;&gt; mechanism within a URI. The header names and values are<BR>&gt;&gt; encoded in ampersand separated hname = hvalue pairs. The<BR>&gt;&gt; special hname "body" indicates that the associated hvalue is<BR>&gt;&gt; the message-body of the SIP request.<BR>&gt;&gt;<BR>&gt;&gt; What usage did the SIP WG envisage for this, and thus what semantics<BR>&gt;&gt; <BR>&gt; did they define for that usage.<BR>&gt; <BR>&gt;&gt; Is it appropriate to assign new semantics to such usage?<BR>&gt;&gt;<BR>&gt;&gt; Regards<BR>&gt;&gt;<BR>&gt;&gt; Keith<BR>&gt;&gt;<BR>&gt;&gt; <BR>&gt; Note: I snipped the rest of this thread as it was getting really LONG.<BR>&gt;<BR>&gt;<BR>&gt; _______________________________________________<BR>&gt; Sip mailing list
 https://www1.ietf.org/mailman/listinfo/sip<BR>&gt; This list is for NEW development of the core SIP Protocol<BR>&gt; Use sip-implementors@cs.columbia.edu for questions on current sip<BR>&gt; Use sipping@ietf.org for new developments on the application of sip<BR>&gt;<BR>&gt; <BR><BR><BR>_______________________________________________<BR>Sip mailing list https://www1.ietf.org/mailman/listinfo/sip<BR>This list is for NEW development of the core SIP Protocol<BR>Use sip-implementors@cs.columbia.edu for questions on current sip<BR>Use sipping@ietf.org for new developments on the application of sip<BR></BLOCKQUOTE><BR><p>&#32;
      <hr size=1> <a href="http://us.rd.yahoo.com/evt=51201/*http://autos.yahoo.com/new_cars.html;_ylc=X3oDMTE5NWVzZGVyBF9TAzk3MTA3MDc2BHNlYwNtYWlsdGFncwRzbGsDYXV0b3MtbmV3Y2Fy
">Check out </a> the hottest 2008 models today at Yahoo! Autos.




--0-993888202-1189548714=:76904--



--===============0115771887==
Content-Type: text/plain; charset="us-ascii"
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip
--===============0115771887==--





From sip-bounces@ietf.org Wed Sep 12 10:17:16 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1IVSzY-0002p0-MU; Wed, 12 Sep 2007 10:14:56 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1IVSzX-0002ot-2c
	for sip-confirm+ok@megatron.ietf.org; Wed, 12 Sep 2007 10:14:55 -0400
Received: from [10.91.34.44] (helo=ietf-mx.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1IVSzW-0002ol-P9
	for sip@ietf.org; Wed, 12 Sep 2007 10:14:54 -0400
Received: from fk-out-0910.google.com ([209.85.128.188])
	by ietf-mx.ietf.org with esmtp (Exim 4.43) id 1IVSzV-00083W-H4
	for sip@ietf.org; Wed, 12 Sep 2007 10:14:54 -0400
Received: by fk-out-0910.google.com with SMTP id z23so190185fkz
	for <sip@ietf.org>; Wed, 12 Sep 2007 07:14:52 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=beta;
	h=domainkey-signature:received:received:message-id:date:from:to:subject:cc:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
	bh=zM8JQhCuP7RC9rUJyJBnHiFYip8ReAsEJWMQRNEj+DM=;
	b=MQqlslxtuEw/+oInVbb1ZLf2IyRVgCFCTpoqqbMW9QqTjqLyu66UyoUp2S0aZeq8OkcU4VunPJr5uZKWtTRIhoSspmc5ki5BSIYm+eFB30PvYCEjn0p2r+5PNMYqXxgzPe7LrafQ8zfxvHA6UZY3jp+wU/k5MBp/8HYfR5jrb1I=
DomainKey-Signature: a=rsa-sha1; c=nofws; d=gmail.com; s=beta;
	h=received:message-id:date:from:to:subject:cc:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
	b=k+CBOrD3q9fVuE8TM+4g04MgH/O9vev3WGOxDktI9cfV9HccKKLKPSJZcw19GD2AFcZwktGFY9aBOqf337HbLbaOJPU+MVYXrefTH/plE4nwKrarnk1niQEHCNFoAlTs/lTVq5Ed4oqHa5iug3K8aa/yxfOfIadFj/FpSTXTv7A=
Received: by 10.82.100.1 with SMTP id x1mr7742337bub.1189606492514;
	Wed, 12 Sep 2007 07:14:52 -0700 (PDT)
Received: by 10.82.107.19 with HTTP; Wed, 12 Sep 2007 07:14:52 -0700 (PDT)
Message-ID: <317ceda50709120714y2f17422dxbb49cb943d1928b4@mail.gmail.com>
Date: Wed, 12 Sep 2007 22:14:52 +0800
From: "Peili Xu" <xupeili@gmail.com>
To: "Jerry Yin" <jerry.yin@yahoo.com>
Subject: Re: AW: AW: [Sip] Extension of conference procedures
In-Reply-To: <412678.76904.qm@web63212.mail.re1.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
References: <46DF05BF.8080007@zonnet.nl>
	<412678.76904.qm@web63212.mail.re1.yahoo.com>
X-Spam-Score: 0.0 (/)
X-Scan-Signature: 8b30eb7682a596edff707698f4a80f7d
Cc: sip@ietf.org
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

Hi Jerry,

please see my comments in line.

2007/9/12, Jerry Yin <jerry.yin@yahoo.com>:
>
> I think there are two ways to invoke a conference. One is to invoke the
> conference by the conference server. The other is ad-hoc conference invoked
> by the participants. The
> draft-ietf-sip-uri-list-conferencing was trying to solve
> the problem by initiating a conference from the server.
> Here's what I think for the ad-hoc conference.
> Participants: A calls B (a UA or a conference room) and put B on-hold, and
> then A calls C. Now A presses the conf button.
> 1. If B has a conference room url, A will transfer C to B (by REFER), as
> some of you discussed already. It actually is supported by some companies
> already as I know.
> 2. But if B is a UA, when the conf button is pressed, the only SIP messages
> send out by A is the re-Invite (off-hold) to B since most SIP phones support
> 3-way conference locally. Then A will do the audio mixing locally. So far I
> didn't find any solution to transfer the local 3-way conference to a
> centralized conference yet. Currently in our system, we adopted the "Join"
> header (RFC3911). When A sends the re-Invite to B, it also includes a Join
> header contains the C's dialog info. The B2B server will translate the Join
> to a centralized conference. It will Invite C with a Replace header to

[Peili] Solution 2 is interesting, but as my interpretation of
RFC3911, it seems join header should only be added in a new INVITE. I
copy the text here "The UAC places the Call-ID, to-tag, and from-tag
information for the target dialog in a single Join  header field and
sends the new INVITE to the target."

> replace the session between A and C. C will sends a BYE to A. The server
> will update the media to A and B (reInvite). Then all three parties are in
> the centralized conference room.
> I hope the new RFC for conference also capture the behavior described in 2.
> Whether it's Join header or something else. The user should be able to call
> someone first and then decided to setup a conference.Jerry
>


_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Wed Sep 12 10:50:40 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1IVTWO-0005Mi-B7; Wed, 12 Sep 2007 10:48:52 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1IVTWM-0005Mb-PU
	for sip-confirm+ok@megatron.ietf.org; Wed, 12 Sep 2007 10:48:50 -0400
Received: from [10.90.34.44] (helo=chiedprmail1.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1IVTWM-0005MT-Dy
	for sip@ietf.org; Wed, 12 Sep 2007 10:48:50 -0400
Received: from outbound.mailhop.org ([63.208.196.171])
	by chiedprmail1.ietf.org with esmtp (Exim 4.43) id 1IVTWL-000699-JY
	for sip@ietf.org; Wed, 12 Sep 2007 10:48:50 -0400
Received: from 71-10-166-214.dhcp.stls.mo.charter.com ([71.10.166.214]
	helo=alan-johnstons-powerbook-g4-17.local)
	by outbound.mailhop.org with esmtpsa (TLSv1:AES256-SHA:256)
	(Exim 4.68) (envelope-from <alan@sipstation.com>)
	id 1IVTWI-000ACN-Ui; Wed, 12 Sep 2007 10:48:47 -0400
X-MHO-User: U2FsdGVkX18YbIf2gmRVy6inq2XorC67wBzV+7nBL54=
X-MHO-User: U2FsdGVkX1/s8+9OMhxgE/i3S7OcASE+mzvSZIWFfkg=
X-MHO-User: U2FsdGVkX1/MkG/+B8PA2Tk1yxoASVRlsvXwgpAvRQk=
X-MHO-User: U2FsdGVkX1/DT88/C3BgfdejHdbcz0xhiCCiY5+Dk/Y=
X-Mail-Handler: MailHop Outbound by DynDNS
X-Originating-IP: 71.10.166.214
X-Report-Abuse-To: abuse@dyndns.com (see
	http://www.mailhop.org/outbound/abuse.html for abuse reporting
	information)
X-MHO-User: U2FsdGVkX1885aYQ35Yjl3tdWigCfVSfMgNqFdcn46o=
Message-ID: <46E7FC4E.50206@sipstation.com>
Date: Wed, 12 Sep 2007 09:48:46 -0500
From: Alan Johnston <alan@sipstation.com>
User-Agent: Thunderbird 2.0.0.6 (Macintosh/20070728)
MIME-Version: 1.0
To: Jerry Yin <jerry.yin@yahoo.com>
Subject: Re: AW: AW: [Sip] Extension of conference procedures
References: <412678.76904.qm@web63212.mail.re1.yahoo.com>
In-Reply-To: <412678.76904.qm@web63212.mail.re1.yahoo.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Score: 0.0 (/)
X-Scan-Signature: 48472a944c87678fcfe8db15ffecdfff
Cc: sip@ietf.org, "DRAGE, Keith \(Keith\)" <drage@alcatel-lucent.com>,
	Mary Barnes <mary.barnes@nortel.com>
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

Hi Jerry,

The use of a Join header field in a re-INVITE in your system is 
problematic.  RFC 3911 does not seem to specifically rule it out but 
implies that it can only be used in a initial (dialog creating) INVITE.  
Also, the error response generation described in RFC 3911 can not be 
applied to a re-INVITE scenario, so I'm curious what you do if the Join 
does not match an existing one.

There are solutions in RFC 4579 for transitioning conferences to and 
from point to point sessions that may be of use to you.

Thanks,
Alan


Jerry Yin wrote:
> I think there are two ways to invoke a conference. One is to invoke 
> the conference by the conference server. The other is ad-hoc 
> conference invoked by the participants. The 
> draft-ietf-sip-uri-list-conferencing was trying to solve the problem 
> by initiating a conference from the server.
> Here's what I think for the ad-hoc conference.
> Participants: A calls B (a UA or a conference room) and put B on-hold, 
> and then A calls C. Now A presses the conf button.
> 1. If B has a conference room url, A will transfer C to B (by REFER), 
> as some of you discussed already. It actually is supported by some 
> companies already as I know.
> 2. But if B is a UA, when the conf button is pressed, the only SIP 
> messages send out by A is the re-Invite (off-hold) to B since most SIP 
> phones support 3-way conference locally. Then A will do the audio 
> mixing locally. So far I didn't find any solution to transfer the 
> local 3-way conference to a centralized conference yet. Currently in 
> our system, we adopted the "Join" header (RFC3911). When A sends the 
> re-Invite to B, it also includes a Join header contains the C's dialog 
> info. The B2B server will translate the Join to a centralized 
> conference. It will Invite C with a Replace header to replace the 
> session between A and C. C will sends a BYE to A. The server will 
> update the media to A and B (reInvite). Then all three parties are in 
> the centralized conference room.
> I hope the new RFC for conference also capture the behavior described 
> in 2. Whether it's Join header or something else. The user should be 
> able to call someone first and then decided to setup a conference.
> Jerry
>
> */Jeroen van Bemmel <jbemmel@zonnet.nl>/* wrote:
>
>     Concretely, would we be looking at something like
>
>     sip:b-party@provider.com?From=sip%3ca-party@provider.com;tag=x&To=sip:b-party@provider.com;tag=y&Call-ID=i&CSeq=1234&Route=rrr&body=
>     with proper session versions etc>
>
>     in order to help the conference server fake a reINVITE towards B?
>
>     RFC3261 provides some guidance on the types of headers that elements
>     might accept as part of a URI. Specifically, it states in 19.1.5:
>     "An implementation SHOULD NOT honor these obviously dangerous header
>     fields: From, Call-ID, CSeq, Via, and Record-Route."
>
>     I believe the usage that was foreseen for this mechanism (as
>     illustrated
>     by some of the examples in RFC3261) was to provide some context
>     for the
>     request, such as Subject and Priority fields. In other words,
>     optional
>     information that might help the receiver understand the context.
>
>     The above are not different semantics for headers in a URI (concept
>     remains: form a new request based on the URI, inserting the headers),
>     but it does imply a deviation from the basic SIP call model
>     (basically a
>     way of encoding dialog state in a SIP URI, and sending that to
>     another
>     element such that it can reconstruct that state and assume the
>     role of
>     the party which shared the state).
>
>     Apart from the fact that this approach will fall short for SDP
>     related
>     state: is this desirable?
>
>     Regards,
>     Jeroen
>
>     Mary Barnes wrote:
>     > RFC 4244 (History-Info) also uses this mechanism to capture the
>     Reason
>     > and Privacy associated with the URIs that are included as part
>     of the
>     > History-Info header. My understanding is that it's really just a
>     nifty
>     > way to compactly reuse existing headers (i.e., it makes the
>     History-Info
>     > much more compact as I didn't need to define additional
>     parameters for
>     > the header, but could rather reuse the existing ones, whose existing
>     > semantics perfectly applicable). I do think that the use of the
>     headers
>     > that might be escaped using this mechanism should be explained,
>     > particularly in cases where you might be extending the use of
>     existing
>     > headers as I did for the Privacy header.
>     >
>     > Mary.
>     >
>     > -----Original Message-----
>     > From: Peili Xu [mailto:xupeili@gmail.com]
>     > Sent: Wednesday, September 05, 2007 10:41 AM
>     > To: DRAGE, Keith (Keith)
>     > Cc: sip@ietf.org
>     > Subject: Re: AW: AW: [Sip] Extension of conference procedures
>     >
>     > Yes, It's vague in RFC3261. I'm only aware of the usage in REFER
>     now.
>     > It'll be good to clarify the semantics in the usage in url-list.
>     >
>     > 2007/9/5, DRAGE, Keith (Keith) :
>     >
>     >> So this is a convenient way to bring us back to the other half
>     of the
>     >>
>     > issue which we do not seem to have discussed yet. When the
>     syntax was
>     > defined that allowed ?headers:
>     >
>     >> Headers: Header fields to be included in a request constructed
>     >> from the URI.
>     >>
>     >> Headers fields in the SIP request can be specified with the
>     >>
>     > "?"
>     >
>     >> mechanism within a URI. The header names and values are
>     >> encoded in ampersand separated hname = hvalue pairs. The
>     >> special hname "body" indicates that the associated hvalue is
>     >> the message-body of the SIP request.
>     >>
>     >> What usage did the SIP WG envisage for this, and thus what
>     semantics
>     >>
>     > did they define for that usage.
>     >
>     >> Is it appropriate to assign new semantics to such usage?
>     >>
>     >> Regards
>     >>
>     >> Keith
>     >>
>     >>
>     > Note: I snipped the rest of this thread as it was getting really
>     LONG.
>     >
>     >
>     > _______________________________________________
>     > Sip mailing list https://www1.ietf.org/mailman/listinfo/sip
>     > This list is for NEW development of the core SIP Protocol
>     > Use sip-implementors@cs.columbia.edu for questions on current sip
>     > Use sipping@ietf.org for new developments on the application of sip
>     >
>     >
>
>
>     _______________________________________________
>     Sip mailing list https://www1.ietf.org/mailman/listinfo/sip
>     This list is for NEW development of the core SIP Protocol
>     Use sip-implementors@cs.columbia.edu for questions on current sip
>     Use sipping@ietf.org for new developments on the application of sip
>
>
> ------------------------------------------------------------------------
> Check out 
> <http://us.rd.yahoo.com/evt=51201/*http://autos.yahoo.com/new_cars.html;_ylc=X3oDMTE5NWVzZGVyBF9TAzk3MTA3MDc2BHNlYwNtYWlsdGFncwRzbGsDYXV0b3MtbmV3Y2Fy> 
> the hottest 2008 models today at Yahoo! Autos.
> ------------------------------------------------------------------------
>
> _______________________________________________
> Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip



_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Wed Sep 12 16:15:59 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1IVYar-0000Ce-Tl; Wed, 12 Sep 2007 16:13:49 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1IVYaq-0000CQ-AM
	for sip-confirm+ok@megatron.ietf.org; Wed, 12 Sep 2007 16:13:48 -0400
Received: from [10.90.34.44] (helo=chiedprmail1.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1IVYap-0000CI-Tl
	for sip@ietf.org; Wed, 12 Sep 2007 16:13:48 -0400
Received: from web63203.mail.re1.yahoo.com ([69.147.97.13])
	by chiedprmail1.ietf.org with smtp (Exim 4.43) id 1IVYao-0006ou-5D
	for sip@ietf.org; Wed, 12 Sep 2007 16:13:47 -0400
Received: (qmail 56410 invoked by uid 60001); 12 Sep 2007 20:13:45 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws; s=s1024; d=yahoo.com;
	h=X-YMail-OSG:Received:Date:From:Subject:To:Cc:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding:Message-ID;
	b=NgKuHI9WiGJWka+cKGanPN5Ahn/nPF7XQfWMWJJ5D8dyp3LJlT1slxmy4TJLPQdhHyjD3H5nJCYBAJw2kRD47EyljFvPufKX9P796A0BfNo0dDjnhx918PgJyNylPM5YkDvPUbJ9piM5+l+XCuq7Ibaw9nlebxLR8xzniE7fBzU=;
X-YMail-OSG: .YBp884VM1nTg5KAAqECs5Tmp7cMzS0nQdZ.Jgydvyt7yCkJ_EU8v7BLLFtdCedyf6mJaIwM4nvwZGa61hWRm0wD0VjQFd6ctBPv_JtFw9ekrBvDfekBJ.AWqahkrshU
Received: from [216.191.234.70] by web63203.mail.re1.yahoo.com via HTTP;
	Wed, 12 Sep 2007 13:13:45 PDT
Date: Wed, 12 Sep 2007 13:13:45 -0700 (PDT)
From: Jerry Yin <jerry.yin@yahoo.com>
Subject: Re: AW: AW: [Sip] Extension of conference procedures
To: Alan Johnston <alan@sipstation.com>
In-Reply-To: <46E7FC4E.50206@sipstation.com>
MIME-Version: 1.0
Message-ID: <645081.56274.qm@web63203.mail.re1.yahoo.com>
X-Spam-Score: 0.0 (/)
X-Scan-Signature: a4a24b484706be629f915bfb1a3e4771
Cc: sip@ietf.org, "DRAGE, Keith \(Keith\)" <drage@alcatel-lucent.com>,
	Mary Barnes <mary.barnes@nortel.com>
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: multipart/mixed; boundary="===============0013910788=="
Errors-To: sip-bounces@ietf.org

--===============0013910788==
Content-Type: multipart/alternative; boundary="0-13170392-1189628025=:56274"
Content-Transfer-Encoding: 8bit

--0-13170392-1189628025=:56274
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

  Hi Alan and Peili,
   
  Thanks for your responses. I saw Alan's RFC before. I revisited it today briefly. But I still can't find the solution I am looking for. Basically in your RFC, even for the ad-hoc conference, the user always starts with calling the conference server first. What I am looking for is that the user puts two (or more) lines on hold, then he decides to conference them together in a conference room.
   
  The solution I proposed will allow user to have a smooth experience to conduct a conference in a conference room, if the server supports this feature. If server does not support it then it will be a local 3way conference on the phone that most SIP phones support. The UI design and user experience will be exactly the same in both the cases.
   
  As to the RFC3911, I agree that it didn't say explicitly that the Join header can be used in a re-Invite. I also admit that my proposal does not interpret the Join header as the RFC defines. But if it works, then we might want to re-interpret the defintion of Join header? Or we might want to consider introducing a new header for this purpose!
   
  To answer your question, if the join does not match an existing dialog, then according to the RFC 3911, it will be ignored. 
   
  BTW, I saw the RFC 4579 depends on out-dialog REFER. Would it be a security concern?
   
  thanks,
  Jerry
  

Alan Johnston <alan@sipstation.com> wrote:
  Hi Jerry,

The use of a Join header field in a re-INVITE in your system is 
problematic. RFC 3911 does not seem to specifically rule it out but 
implies that it can only be used in a initial (dialog creating) INVITE. 
Also, the error response generation described in RFC 3911 can not be 
applied to a re-INVITE scenario, so I'm curious what you do if the Join 
does not match an existing one.

There are solutions in RFC 4579 for transitioning conferences to and 
from point to point sessions that may be of use to you.

Thanks,
Alan


Jerry Yin wrote:
> I think there are two ways to invoke a conference. One is to invoke 
> the conference by the conference server. The other is ad-hoc 
> conference invoked by the participants. The 
> draft-ietf-sip-uri-list-conferencing was trying to solve the problem 
> by initiating a conference from the server.
> Here's what I think for the ad-hoc conference.
> Participants: A calls B (a UA or a conference room) and put B on-hold, 
> and then A calls C. Now A presses the conf button.
> 1. If B has a conference room url, A will transfer C to B (by REFER), 
> as some of you discussed already. It actually is supported by some 
> companies already as I know.
> 2. But if B is a UA, when the conf button is pressed, the only SIP 
> messages send out by A is the re-Invite (off-hold) to B since most SIP 
> phones support 3-way conference locally. Then A will do the audio 
> mixing locally. So far I didn't find any solution to transfer the 
> local 3-way conference to a centralized conference yet. Currently in 
> our system, we adopted the "Join" header (RFC3911). When A sends the 
> re-Invite to B, it also includes a Join header contains the C's dialog 
> info. The B2B server will translate the Join to a centralized 
> conference. It will Invite C with a Replace header to replace the 
> session between A and C. C will sends a BYE to A. The server will 
> update the media to A and B (reInvite). Then all three parties are in 
> the centralized conference room.
> I hope the new RFC for conference also capture the behavior described 
> in 2. Whether it's Join header or something else. The user should be 
> able to call someone first and then decided to setup a conference.
> Jerry
>
> */Jeroen van Bemmel /* wrote:
>
> Concretely, would we be looking at something like
>
> sip:b-party@provider.com?From=sip%3ca-party@provider.com;tag=x&To=sip:b-party@provider.com;tag=y&Call-ID=i&CSeq=1234&Route=rrr&body=
> with proper session versions etc>
>
> in order to help the conference server fake a reINVITE towards B?
>
> RFC3261 provides some guidance on the types of headers that elements
> might accept as part of a URI. Specifically, it states in 19.1.5:
> "An implementation SHOULD NOT honor these obviously dangerous header
> fields: From, Call-ID, CSeq, Via, and Record-Route."
>
> I believe the usage that was foreseen for this mechanism (as
> illustrated
> by some of the examples in RFC3261) was to provide some context
> for the
> request, such as Subject and Priority fields. In other words,
> optional
> information that might help the receiver understand the context.
>
> The above are not different semantics for headers in a URI (concept
> remains: form a new request based on the URI, inserting the headers),
> but it does imply a deviation from the basic SIP call model
> (basically a
> way of encoding dialog state in a SIP URI, and sending that to
> another
> element such that it can reconstruct that state and assume the
> role of
> the party which shared the state).
>
> Apart from the fact that this approach will fall short for SDP
> related
> state: is this desirable?
>
> Regards,
> Jeroen
>
> Mary Barnes wrote:
> > RFC 4244 (History-Info) also uses this mechanism to capture the
> Reason
> > and Privacy associated with the URIs that are included as part
> of the
> > History-Info header. My understanding is that it's really just a
> nifty
> > way to compactly reuse existing headers (i.e., it makes the
> History-Info
> > much more compact as I didn't need to define additional
> parameters for
> > the header, but could rather reuse the existing ones, whose existing
> > semantics perfectly applicable). I do think that the use of the
> headers
> > that might be escaped using this mechanism should be explained,
> > particularly in cases where you might be extending the use of
> existing
> > headers as I did for the Privacy header.
> >
> > Mary.
> >
> > -----Original Message-----
> > From: Peili Xu [mailto:xupeili@gmail.com]
> > Sent: Wednesday, September 05, 2007 10:41 AM
> > To: DRAGE, Keith (Keith)
> > Cc: sip@ietf.org
> > Subject: Re: AW: AW: [Sip] Extension of conference procedures
> >
> > Yes, It's vague in RFC3261. I'm only aware of the usage in REFER
> now.
> > It'll be good to clarify the semantics in the usage in url-list.
> >
> > 2007/9/5, DRAGE, Keith (Keith) :
> >
> >> So this is a convenient way to bring us back to the other half
> of the
> >>
> > issue which we do not seem to have discussed yet. When the
> syntax was
> > defined that allowed ?headers:
> >
> >> Headers: Header fields to be included in a request constructed
> >> from the URI.
> >>
> >> Headers fields in the SIP request can be specified with the
> >>
> > "?"
> >
> >> mechanism within a URI. The header names and values are
> >> encoded in ampersand separated hname = hvalue pairs. The
> >> special hname "body" indicates that the associated hvalue is
> >> the message-body of the SIP request.
> >>
> >> What usage did the SIP WG envisage for this, and thus what
> semantics
> >>
> > did they define for that usage.
> >
> >> Is it appropriate to assign new semantics to such usage?
> >>
> >> Regards
> >>
> >> Keith
> >>
> >>
> > Note: I snipped the rest of this thread as it was getting really
> LONG.
> >
> >
> > _______________________________________________
> > Sip mailing list https://www1.ietf.org/mailman/listinfo/sip
> > This list is for NEW development of the core SIP Protocol
> > Use sip-implementors@cs.columbia.edu for questions on current sip
> > Use sipping@ietf.org for new developments on the application of sip
> >
> >
>
>
> _______________________________________________
> Sip mailing list https://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
>
>
> ------------------------------------------------------------------------
> Check out 
> 
> the hottest 2008 models today at Yahoo! Autos.
> ------------------------------------------------------------------------
>
> _______________________________________________
> Sip mailing list https://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip



       
---------------------------------
Be a better Globetrotter. Get better travel answers from someone who knows.
Yahoo! Answers - Check it out.
--0-13170392-1189628025=:56274
Content-Type: text/html; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

<FONT size=2>  <div>Hi Alan and Peili,</div>  <div>&nbsp;</div>  <div>Thanks for your responses. I saw Alan's RFC before. I revisited it today briefly. But I still can't find the solution I am looking for. Basically in your RFC, even for the ad-hoc conference, the user always starts with calling the conference server first. What I am looking for is that the user puts two (or more) lines on hold, then he decides to conference them together in a conference room.</div>  <div>&nbsp;</div>  <div>The solution I proposed will allow user to have a smooth experience to conduct a conference in a conference room, if the server supports this feature. If server does not support it then it will be a local 3way conference on the phone that most SIP phones support. The UI design and user experience will be exactly the same in both the cases.</div>  <div>&nbsp;</div>  <div>As to the RFC3911, I agree that it didn't say explicitly that the Join header can be used in a re-Invite. I also admit
 that my proposal does not interpret the Join header as the RFC defines. But if it works, then we might want to re-interpret the defintion of Join header? Or we might want to consider introducing a new header for this purpose!</div>  <div>&nbsp;</div>  <div>To answer your question, if the join does not match an existing dialog, then according to the RFC 3911, it will be ignored. </div>  <div>&nbsp;</div>  <div>BTW, I saw the RFC 4579 depends on out-dialog REFER. Would it be a security concern?</div>  <div>&nbsp;</div>  <div></FONT>thanks,</div>  <div>Jerry</div>  <div><BR><BR><B><I>Alan Johnston &lt;alan@sipstation.com&gt;</I></B> wrote:</div>  <BLOCKQUOTE class=replbq style="PADDING-LEFT: 5px; MARGIN-LEFT: 5px; BORDER-LEFT: #1010ff 2px solid">Hi Jerry,<BR><BR>The use of a Join header field in a re-INVITE in your system is <BR>problematic. RFC 3911 does not seem to specifically rule it out but <BR>implies that it can only be used in a initial (dialog creating) INVITE.
 <BR>Also, the error response generation described in RFC 3911 can not be <BR>applied to a re-INVITE scenario, so I'm curious what you do if the Join <BR>does not match an existing one.<BR><BR>There are solutions in RFC 4579 for transitioning conferences to and <BR>from point to point sessions that may be of use to you.<BR><BR>Thanks,<BR>Alan<BR><BR><BR>Jerry Yin wrote:<BR>&gt; I think there are two ways to invoke a conference. One is to invoke <BR>&gt; the conference by the conference server. The other is ad-hoc <BR>&gt; conference invoked by the participants. The <BR>&gt; draft-ietf-sip-uri-list-conferencing was trying to solve the problem <BR>&gt; by initiating a conference from the server.<BR>&gt; Here's what I think for the ad-hoc conference.<BR>&gt; Participants: A calls B (a UA or a conference room) and put B on-hold, <BR>&gt; and then A calls C. Now A presses the conf button.<BR>&gt; 1. If B has a conference room url, A will transfer C to B (by REFER), <BR>&gt; as
 some of you discussed already. It actually is supported by some <BR>&gt; companies already as I know.<BR>&gt; 2. But if B is a UA, when the conf button is pressed, the only SIP <BR>&gt; messages send out by A is the re-Invite (off-hold) to B since most SIP <BR>&gt; phones support 3-way conference locally. Then A will do the audio <BR>&gt; mixing locally. So far I didn't find any solution to transfer the <BR>&gt; local 3-way conference to a centralized conference yet. Currently in <BR>&gt; our system, we adopted the "Join" header (RFC3911). When A sends the <BR>&gt; re-Invite to B, it also includes a Join header contains the C's dialog <BR>&gt; info. The B2B server will translate the Join to a centralized <BR>&gt; conference. It will Invite C with a Replace header to replace the <BR>&gt; session between A and C. C will sends a BYE to A. The server will <BR>&gt; update the media to A and B (reInvite). Then all three parties are in <BR>&gt; the centralized conference
 room.<BR>&gt; I hope the new RFC for conference also capture the behavior described <BR>&gt; in 2. Whether it's Join header or something else. The user should be <BR>&gt; able to call someone first and then decided to setup a conference.<BR>&gt; Jerry<BR>&gt;<BR>&gt; */Jeroen van Bemmel <JBEMMEL@ZONNET.NL>/* wrote:<BR>&gt;<BR>&gt; Concretely, would we be looking at something like<BR>&gt;<BR>&gt; sip:b-party@provider.com?From=sip%3ca-party@provider.com;tag=x&amp;To=sip:b-party@provider.com;tag=y&amp;Call-ID=i&amp;CSeq=1234&amp;Route=rrr&amp;body=<BR>&gt; with proper session versions etc&gt;<BR>&gt;<BR>&gt; in order to help the conference server fake a reINVITE towards B?<BR>&gt;<BR>&gt; RFC3261 provides some guidance on the types of headers that elements<BR>&gt; might accept as part of a URI. Specifically, it states in 19.1.5:<BR>&gt; "An implementation SHOULD NOT honor these obviously dangerous header<BR>&gt; fields: From, Call-ID, CSeq, Via, and
 Record-Route."<BR>&gt;<BR>&gt; I believe the usage that was foreseen for this mechanism (as<BR>&gt; illustrated<BR>&gt; by some of the examples in RFC3261) was to provide some context<BR>&gt; for the<BR>&gt; request, such as Subject and Priority fields. In other words,<BR>&gt; optional<BR>&gt; information that might help the receiver understand the context.<BR>&gt;<BR>&gt; The above are not different semantics for headers in a URI (concept<BR>&gt; remains: form a new request based on the URI, inserting the headers),<BR>&gt; but it does imply a deviation from the basic SIP call model<BR>&gt; (basically a<BR>&gt; way of encoding dialog state in a SIP URI, and sending that to<BR>&gt; another<BR>&gt; element such that it can reconstruct that state and assume the<BR>&gt; role of<BR>&gt; the party which shared the state).<BR>&gt;<BR>&gt; Apart from the fact that this approach will fall short for SDP<BR>&gt; related<BR>&gt; state: is this desirable?<BR>&gt;<BR>&gt;
 Regards,<BR>&gt; Jeroen<BR>&gt;<BR>&gt; Mary Barnes wrote:<BR>&gt; &gt; RFC 4244 (History-Info) also uses this mechanism to capture the<BR>&gt; Reason<BR>&gt; &gt; and Privacy associated with the URIs that are included as part<BR>&gt; of the<BR>&gt; &gt; History-Info header. My understanding is that it's really just a<BR>&gt; nifty<BR>&gt; &gt; way to compactly reuse existing headers (i.e., it makes the<BR>&gt; History-Info<BR>&gt; &gt; much more compact as I didn't need to define additional<BR>&gt; parameters for<BR>&gt; &gt; the header, but could rather reuse the existing ones, whose existing<BR>&gt; &gt; semantics perfectly applicable). I do think that the use of the<BR>&gt; headers<BR>&gt; &gt; that might be escaped using this mechanism should be explained,<BR>&gt; &gt; particularly in cases where you might be extending the use of<BR>&gt; existing<BR>&gt; &gt; headers as I did for the Privacy header.<BR>&gt; &gt;<BR>&gt; &gt; Mary.<BR>&gt; &gt;<BR>&gt; &gt;
 -----Original Message-----<BR>&gt; &gt; From: Peili Xu [mailto:xupeili@gmail.com]<BR>&gt; &gt; Sent: Wednesday, September 05, 2007 10:41 AM<BR>&gt; &gt; To: DRAGE, Keith (Keith)<BR>&gt; &gt; Cc: sip@ietf.org<BR>&gt; &gt; Subject: Re: AW: AW: [Sip] Extension of conference procedures<BR>&gt; &gt;<BR>&gt; &gt; Yes, It's vague in RFC3261. I'm only aware of the usage in REFER<BR>&gt; now.<BR>&gt; &gt; It'll be good to clarify the semantics in the usage in url-list.<BR>&gt; &gt;<BR>&gt; &gt; 2007/9/5, DRAGE, Keith (Keith) :<BR>&gt; &gt;<BR>&gt; &gt;&gt; So this is a convenient way to bring us back to the other half<BR>&gt; of the<BR>&gt; &gt;&gt;<BR>&gt; &gt; issue which we do not seem to have discussed yet. When the<BR>&gt; syntax was<BR>&gt; &gt; defined that allowed ?headers:<BR>&gt; &gt;<BR>&gt; &gt;&gt; Headers: Header fields to be included in a request constructed<BR>&gt; &gt;&gt; from the URI.<BR>&gt; &gt;&gt;<BR>&gt; &gt;&gt; Headers fields in the SIP request can be
 specified with the<BR>&gt; &gt;&gt;<BR>&gt; &gt; "?"<BR>&gt; &gt;<BR>&gt; &gt;&gt; mechanism within a URI. The header names and values are<BR>&gt; &gt;&gt; encoded in ampersand separated hname = hvalue pairs. The<BR>&gt; &gt;&gt; special hname "body" indicates that the associated hvalue is<BR>&gt; &gt;&gt; the message-body of the SIP request.<BR>&gt; &gt;&gt;<BR>&gt; &gt;&gt; What usage did the SIP WG envisage for this, and thus what<BR>&gt; semantics<BR>&gt; &gt;&gt;<BR>&gt; &gt; did they define for that usage.<BR>&gt; &gt;<BR>&gt; &gt;&gt; Is it appropriate to assign new semantics to such usage?<BR>&gt; &gt;&gt;<BR>&gt; &gt;&gt; Regards<BR>&gt; &gt;&gt;<BR>&gt; &gt;&gt; Keith<BR>&gt; &gt;&gt;<BR>&gt; &gt;&gt;<BR>&gt; &gt; Note: I snipped the rest of this thread as it was getting really<BR>&gt; LONG.<BR>&gt; &gt;<BR>&gt; &gt;<BR>&gt; &gt; _______________________________________________<BR>&gt; &gt; Sip mailing list https://www1.ietf.org/mailman/listinfo/sip<BR>&gt; &gt;
 This list is for NEW development of the core SIP Protocol<BR>&gt; &gt; Use sip-implementors@cs.columbia.edu for questions on current sip<BR>&gt; &gt; Use sipping@ietf.org for new developments on the application of sip<BR>&gt; &gt;<BR>&gt; &gt;<BR>&gt;<BR>&gt;<BR>&gt; _______________________________________________<BR>&gt; Sip mailing list https://www1.ietf.org/mailman/listinfo/sip<BR>&gt; This list is for NEW development of the core SIP Protocol<BR>&gt; Use sip-implementors@cs.columbia.edu for questions on current sip<BR>&gt; Use sipping@ietf.org for new developments on the application of sip<BR>&gt;<BR>&gt;<BR>&gt; ------------------------------------------------------------------------<BR>&gt; Check out <BR>&gt; <HTTP: evt="51201/*http://autos.yahoo.com/new_cars.html;_ylc=X3oDMTE5NWVzZGVyBF9TAzk3MTA3MDc2BHNlYwNtYWlsdGFncwRzbGsDYXV0b3MtbmV3Y2Fy" us.rd.yahoo.com><BR>&gt; the hottest 2008 models today at Yahoo! Autos.<BR>&gt;
 ------------------------------------------------------------------------<BR>&gt;<BR>&gt; _______________________________________________<BR>&gt; Sip mailing list https://www1.ietf.org/mailman/listinfo/sip<BR>&gt; This list is for NEW development of the core SIP Protocol<BR>&gt; Use sip-implementors@cs.columbia.edu for questions on current sip<BR>&gt; Use sipping@ietf.org for new developments on the application of sip<BR><BR></BLOCKQUOTE><BR><p>&#32;
      <hr size=1>Be a better Globetrotter. <a href="http://us.rd.yahoo.com/evt=48254/*http://answers.yahoo.com/dir/_ylc=X3oDMTI5MGx2aThyBF9TAzIxMTU1MDAzNTIEX3MDMzk2NTQ1MTAzBHNlYwNCQUJwaWxsYXJfTklfMzYwBHNsawNQcm9kdWN0X3F1ZXN0aW9uX3BhZ2U-?link=list&sid=396545469">Get better travel answers </a>from someone who knows.<br>Yahoo! Answers - Check it out.


--0-13170392-1189628025=:56274--



--===============0013910788==
Content-Type: text/plain; charset="us-ascii"
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip
--===============0013910788==--





From sip-bounces@ietf.org Wed Sep 12 23:16:30 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1IVf9n-00031x-F6; Wed, 12 Sep 2007 23:14:19 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1IVf9m-00031r-Db
	for sip-confirm+ok@megatron.ietf.org; Wed, 12 Sep 2007 23:14:18 -0400
Received: from [10.90.34.44] (helo=chiedprmail1.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1IVf9l-00031j-P0
	for sip@ietf.org; Wed, 12 Sep 2007 23:14:18 -0400
Received: from sj-iport-5.cisco.com ([171.68.10.87])
	by chiedprmail1.ietf.org with esmtp (Exim 4.43) id 1IVf9l-0006q1-Dp
	for sip@ietf.org; Wed, 12 Sep 2007 23:14:17 -0400
X-IronPort-AV: E=Sophos;i="4.20,248,1186383600"; d="scan'208";a="175753091"
Received: from sj-dkim-1.cisco.com ([171.71.179.21])
	by sj-iport-5.cisco.com with ESMTP; 12 Sep 2007 20:14:16 -0700
Received: from sj-core-2.cisco.com (sj-core-2.cisco.com [171.71.177.254])
	by sj-dkim-1.cisco.com (8.12.11/8.12.11) with ESMTP id l8D3EGxx026543; 
	Wed, 12 Sep 2007 20:14:16 -0700
Received: from [192.168.4.177] (sjc-fluffy-vpn1.cisco.com [10.25.236.82])
	by sj-core-2.cisco.com (8.12.10/8.12.6) with SMTP id l8D3E6au023893;
	Thu, 13 Sep 2007 03:14:06 GMT
In-Reply-To: <9857.1187188777@cornfed.com>
References: <9857.1187188777@cornfed.com>
Impp: xmpp:cullenfluffyjennings@jabber.org
Mime-Version: 1.0 (Apple Message framework v752.3)
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <FA0B004E-FA89-4984-AB64-0B13A18F7BC7@cisco.com>
Content-Transfer-Encoding: 7bit
From: Cullen Jennings <fluffy@cisco.com>
Subject: Re: [Sip] Question on SIP Security considerations for
	future	extensions
Date: Wed, 12 Sep 2007 20:12:33 -0700
To: fwmiller@cornfed.com
X-Mailer: Apple Mail (2.752.3)
DKIM-Signature: v=0.5; a=rsa-sha256; q=dns/txt; l=1266; t=1189653256;
	x=1190517256; c=relaxed/simple; s=sjdkim1004;
	h=Content-Type:From:Subject:Content-Transfer-Encoding:MIME-Version;
	d=cisco.com; i=fluffy@cisco.com;
	z=From:=20Cullen=20Jennings=20<fluffy@cisco.com>
	|Subject:=20Re=3A=20[Sip]=20Question=20on=20SIP=20Security=20consideratio
	ns=20for=20future=09extensions |Sender:=20;
	bh=l06aIVvhjSBDaZNmdaq8bahri3Jz5IibAcgzPVrQRYU=;
	b=OD/6cBorDT52cBdNYy8NR3URpsgBozujQei66E+cqDIHQFFsJgIYe0LsOJ19aWGRQxLQWPa/
	L5AQyZIobkEPY9tWajqoxXRM2cz7Q1fHp/bMP3gYXsRCOtGBSplf+tg7V7eZx+uzkQsMWhc1U5
	BbVFHcQiLwVBTcS9rSvNpOuVc=;
Authentication-Results: sj-dkim-1; header.From=fluffy@cisco.com; dkim=pass (
	sig from cisco.com/sjdkim1004 verified; ); 
X-Spam-Score: 0.0 (/)
X-Scan-Signature: 93238566e09e6e262849b4f805833007
Cc: sip List <sip@ietf.org>
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org


On Aug 15, 2007, at 7:39 AM, fwmiller@cornfed.com wrote:

> The idea is simple, rather than having the CONNECT message  
> establish a "tunnel" through a series of proxies, CONNECT is used  
> to trade addressing information between the UAs that then signal  
> each other directly.  This proposal was made as modifications to  
> the sipsec draft.  The draft is available as a standalone and as a  
> diff to the current sipsec draft at the following links.  Comments  
> are hoped for...

Frank, I'm not putting in an argument one way or the other about if  
the following is a good or bad idea but I thought you might find it  
interesting to consider either way. The CONNECT idea you have above  
works in environments where all the SIP proxy would do is blindly  
forward the messages - I have seen multiple SIP UA products that do  
something similar to what you are suggesting here by just using SOCKS  
and running SIP over that. I think it was primarily used by some  
financial companies that wanted any SIP traffic going in our out of  
the firewall to go through a SOCKS server. I've also heard people  
sagest running SIP over TURN to provide relays in places where a  
proxy was not needed.

Cullen <with my individual hat on>


_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Thu Sep 13 07:31:17 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1IVmuN-0007lu-R5; Thu, 13 Sep 2007 07:30:55 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1IVmuL-0007lp-W8
	for sip-confirm+ok@megatron.ietf.org; Thu, 13 Sep 2007 07:30:53 -0400
Received: from [10.91.34.44] (helo=ietf-mx.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1IVmuL-0007lh-LJ
	for sip@ietf.org; Thu, 13 Sep 2007 07:30:53 -0400
Received: from web50308.mail.re2.yahoo.com ([206.190.38.62])
	by ietf-mx.ietf.org with smtp (Exim 4.43) id 1IVmuK-0001TT-Gr
	for sip@ietf.org; Thu, 13 Sep 2007 07:30:53 -0400
Received: (qmail 5858 invoked by uid 60001); 13 Sep 2007 11:30:52 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws; s=s1024; d=yahoo.com;
	h=X-YMail-OSG:Received:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding:Message-ID;
	b=AJLrZ8O+Ig3RfR+KfkYy6oxNNg14/QvsF6U3zUYAUIGRyD3iF5F2syw0geRPukyptJd3iy6GK9Y+bxmWb1CA1m8xJMaUUa8hQ9ORF8yuPCeQyl0+w2X19u1tXThmtPch8KW3qBIVtgqT9UPmm2i66D+H3hhGembokM5RbmPBJmA=;
X-YMail-OSG: MkfbhVYVM1lmFPw06lBVPANq4JNIYNTQRkaUHLYhPErs1CBPY2EGw.YF2BBfnMUdu4oXc0l67wBj2CI_MTwh3VU_VP4VkpqgNNvugtgHwsXmVGKS0.GKfp4hWb4vow--
Received: from [125.63.78.3] by web50308.mail.re2.yahoo.com via HTTP;
	Thu, 13 Sep 2007 04:30:52 PDT
Date: Thu, 13 Sep 2007 04:30:52 -0700 (PDT)
From: viswaraj <visu_raji2002@yahoo.com>
To: sip@ietf.org
MIME-Version: 1.0
Message-ID: <283511.5096.qm@web50308.mail.re2.yahoo.com>
X-Spam-Score: 0.0 (/)
X-Scan-Signature: ffa9dfbbe7cc58b3fa6b8ae3e57b0aa3
Subject: [Sip] problem with Avaya IPPhone
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: multipart/mixed; boundary="===============1105615505=="
Errors-To: sip-bounces@ietf.org

--===============1105615505==
Content-Type: multipart/alternative; boundary="0-230664448-1189683052=:5096"
Content-Transfer-Encoding: 8bit

--0-230664448-1189683052=:5096
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

Hi,
We are facing problem with call forward in Avaya 4620 IPPhone. 
Scenario is : IP Phone 1 and IP Phone 2 are registered with a redirect server.
IPP1 sends an INVITE to RServer. It sends 302 with IPP2 details in contact header. This means contact IPP2 but IPP1 keeps calling RServer.
Anyways to make it work ? Any configuration is required to be changed ?
PLease help us out.
   
  Thanks and regards,
  Viswaraj.

       
---------------------------------
Pinpoint customers who are looking for what you sell. 
--0-230664448-1189683052=:5096
Content-Type: text/html; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

<DIV id=post_message_30015>Hi,<BR>We are facing problem with call forward in Avaya 4620 IPPhone. <BR>Scenario is : IP Phone 1 and IP Phone 2 are registered with a redirect server.<BR>IPP1 sends an INVITE to RServer. It sends 302 with IPP2 details in contact header. This means contact IPP2 but IPP1 keeps calling RServer.<BR>Anyways to make it work ? Any configuration is required to be changed ?<BR>PLease help us out.</DIV>  <DIV>&nbsp;</DIV>  <DIV>Thanks and regards,</DIV>  <DIV>Viswaraj.</DIV><!-- / message --><p>&#32;
      <hr size=1><a href="http://us.rd.yahoo.com/evt=48250/*http://searchmarketing.yahoo.com/arp/sponsoredsearch_v9.php?o=US2226&cmp=Yahoo&ctv=AprNI&s=Y&s2=EM&b=50">Pinpoint customers </a>who are looking for what you sell. 


--0-230664448-1189683052=:5096--



--===============1105615505==
Content-Type: text/plain; charset="us-ascii"
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip
--===============1105615505==--





From sip-bounces@ietf.org Thu Sep 13 08:42:18 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1IVo18-0006vh-OX; Thu, 13 Sep 2007 08:41:58 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1IVo17-0006pY-55
	for sip-confirm+ok@megatron.ietf.org; Thu, 13 Sep 2007 08:41:57 -0400
Received: from [10.91.34.44] (helo=ietf-mx.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1IVo16-0006pQ-Q3
	for sip@ietf.org; Thu, 13 Sep 2007 08:41:56 -0400
Received: from tcmail23.telekom.de ([217.6.95.237])
	by ietf-mx.ietf.org with esmtp (Exim 4.43) id 1IVo14-0003RR-P8
	for sip@ietf.org; Thu, 13 Sep 2007 08:41:56 -0400
Received: from S4DE9JSAANO.ost.t-com.de (S4DE9JSAANO.ost.t-com.de
	[10.125.177.105]) by tcmail21.telekom.de with ESMTP;
	Thu, 13 Sep 2007 14:41:47 +0200
Received: from S4DE9JSAAHW.ost.t-com.de ([10.125.177.160]) by
	S4DE9JSAANO.ost.t-com.de with Microsoft SMTPSVC(6.0.3790.3959); 
	Thu, 13 Sep 2007 14:41:46 +0200
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Subject: AW: AW: AW: [Sip] Extension of conference procedures
Date: Thu, 13 Sep 2007 14:41:45 +0200
Message-Id: <CCA850DCD3FBE2479D5076C5C1873222029F5102@S4DE9JSAAHW.ost.t-com.de>
In-Reply-To: <645081.56274.qm@web63203.mail.re1.yahoo.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: AW: AW: [Sip] Extension of conference procedures
Thread-Index: Acf1ecCOAGNOlkPnTJKPWFoERpi4LgAhSyjA
From: "Huelsemann, Martin" <Martin.Huelsemann@t-com.net>
To: <jerry.yin@yahoo.com>,
    <alan@sipstation.com>
X-OriginalArrivalTime: 13 Sep 2007 12:41:46.0426 (UTC)
	FILETIME=[722D61A0:01C7F603]
X-Spam-Score: -1.0 (-)
X-Scan-Signature: 38a35b5fc88e9b9a2affced027b040a4
Cc: sip@ietf.org, drage@alcatel-lucent.com, mary.barnes@nortel.com
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: multipart/mixed; boundary="===============0059876671=="
Errors-To: sip-bounces@ietf.org

This is a multi-part message in MIME format.

--===============0059876671==
Content-class: urn:content-classes:message
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C7F603.719CC870"

This is a multi-part message in MIME format.

------_=_NextPart_001_01C7F603.719CC870
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Hi all,
=20
thanks for your interest in this, but I think my question pointed in a =
littlebit different direction.
=20
I think the procedures to start a centralized ad-hoc dial-out conference =
are fine, you send an INVITE to the conference factory to start the =
conference, and then you send REFERS to the focus referring INVITEs to =
the other participants. Even better is an INVITE to the confernce with a =
URI list of the participants who shall be invited to the conference, =
because this needs lees messages.
=20
The problem is the INVITE from the focus to the participants. As this is =
an ad-hoc conference, it's clear that the invited user is already in a =
dialog with the inviting user, and because of this it depends on the =
invited user if he accepts the invitation to the conference, or if he =
e.g. just answers with a 486. The proposal is to trigger a re-INVITE in =
the original dialog by using the "?" mechanism to transfer the dialog ID =
of the original dialog to the focus, as this wouldn't cause a 2nd dialog =
at the invited UE and therefore means the fewest requirements on the =
invited user.
=20
To mee it seems that the Join header cannot solve this problem. If you =
include the Join header in the INVITE to the focus, that means you want =
to join some dialog at the focus which doesn't exist.=20
If you include the Join header also using "?" in the header portion in =
the Refer-to header of a REFER or in the header protions in the URI =
list, this means the focus shall generate an INVITE including a Join =
header and sends this to the invited user. The invited user then would =
have to start the procedures to include the focus in the original =
dialog. If he accepts the 2nd INVITE and is compatible to RFC3911.
Triggering a re-INVITE because of the Join header part in the Refer-to =
header to me seems to be not in accordance with RFC3911.
Because of this I don't think the usage of the Join header can solve the =
problem of 2 dialogs at the invited user in case of an ad-hoc dial-out =
conference.
=20
BR, Martin
=20
=20
=20

-----Urspr=FCngliche Nachricht-----
Von: Jerry Yin [mailto:jerry.yin@yahoo.com]=20
Gesendet: Mittwoch, 12. September 2007 22:14
An: Alan Johnston
Cc: sip@ietf.org; DRAGE, Keith (Keith); Mary Barnes
Betreff: Re: AW: AW: [Sip] Extension of conference procedures



Hi Alan and Peili,
=20
Thanks for your responses. I saw Alan's RFC before. I revisited it today =
briefly. But I still can't find the solution I am looking for. Basically =
in your RFC, even for the ad-hoc conference, the user always starts with =
calling the conference server first. What I am looking for is that the =
user puts two (or more) lines on hold, then he decides to conference =
them together in a conference room.
=20
The solution I proposed will allow user to have a smooth experience to =
conduct a conference in a conference room, if the server supports this =
feature. If server does not support it then it will be a local 3way =
conference on the phone that most SIP phones support. The UI design and =
user experience will be exactly the same in both the cases.
=20
As to the RFC3911, I agree that it didn't say explicitly that the Join =
header can be used in a re-Invite. I also admit that my proposal does =
not interpret the Join header as the RFC defines. But if it works, then =
we might want to re-interpret the defintion of Join header? Or we might =
want to consider introducing a new header for this purpose!
=20
To answer your question, if the join does not match an existing dialog, =
then according to the RFC 3911, it will be ignored.=20
=20
BTW, I saw the RFC 4579 depends on out-dialog REFER. Would it be a =
security concern?
=20
thanks,
Jerry


Alan Johnston <alan@sipstation.com> wrote:

Hi Jerry,

The use of a Join header field in a re-INVITE in your system is=20
problematic. RFC 3911 does not seem to specifically rule it out but=20
implies that it can only be used in a initial (dialog creating) INVITE.=20
Also, the error response generation described in RFC 3911 can not be=20
applied to a re-INVITE scenario, so I'm curious what you do if the Join=20
does not match an existing one.

There are solutions in RFC 4579 for transitioning conferences to and=20
from point to point sessions that may be of use to you.

Thanks,
Alan


Jerry Yin wrote:
> I think there are two ways to invoke a conference. One is to invoke=20
> the conference by the conference server. The other is ad-hoc=20
> conference invoked by the participants. The=20
> draft-ietf-sip-uri-list-conferencing was trying to solve the problem=20
> by initiating a conference from the server.
> Here's what I think for the ad-hoc conference.
> Participants: A calls B (a UA or a conference room) and put B on-hold, =

> and then A calls C. Now A presses the conf button.
> 1. If B has a conference room url, A will transfer C to B (by REFER),=20
> as some of you discussed already. It actually is supported by some=20
> companies already as I know.
> 2. But if B is a UA, when the conf button is pressed, the only SIP=20
> messages send out by A is the re-Invite (off-hold) to B since most SIP =

> phones support 3-way conference locally. Then A will do the audio=20
> mixing locally. So far I didn't find any solution to transfer the=20
> local 3-way conference to a centralized conference yet. Currently in=20
> our system, we adopted the "Join" header (RFC3911). When A sends the=20
> re-Invite to B, it also includes a Join header contains the C's dialog =

> info. The B2B server will translate the Join to a centralized=20
> conference. It will Invite C with a Replace header to replace the=20
> session between A and C. C will sends a BYE to A. The server will=20
> update the media to A and B (reInvite). Then all three parties are in=20
> the centralized conference room.
> I hope the new RFC for conference also capture the behavior described=20
> in 2. Whether it's Join header or something else. The user should be=20
> able to call someone first and then decided to setup a conference.
> Jerry
>
> */Jeroen van Bemmel /* wrote:
>
> Concretely, would we be looking at something like
>
> =
sip:b-party@provider.com?From=3Dsip%3ca-party@provider.com;tag=3Dx&To=3Ds=
ip:b-party@provider.com;tag=3Dy&Call-ID=3Di&CSeq=3D1234&Route=3Drrr&body=3D=

> with proper session versions etc>
>
> in order to help the conference server fake a reINVITE towards B?
>
> RFC3261 provides some guidance on the types of headers that elements
> might accept as part of a URI. Specifically, it states in 19.1.5:
> "An implementation SHOULD NOT honor these obviously dangerous header
> fields: From, Call-ID, CSeq, Via, and Record-Route."
>
> I believe the usage that was foreseen for this mechanism (as
> illustrated
> by some of the examples in RFC3261) was to provide some context
> for the
> request, such as Subject and Priority fields. In other words,
> optional
> information that might help the receiver understand the context.
>
> The above are not different semantics for headers in a URI (concept
> remains: form a new request based on the URI, inserting the headers),
> but it does imply a deviation from the basic SIP call model
> (basically a
> way of encoding dialog state in a SIP URI, and sending that to
> another
> element such that it can reconstruct that state and assume the
> role of
> the party which shared the state).
>
> Apart from the fact that this approach will fall short for SDP
> related
> state: is this desirable?
>
> Regards,
> Jeroen
>
> Mary Barnes wrote:
> > RFC 4244 (History-Info) also uses this mechanism to capture the
> Reason
> > and Privacy associated with the URIs that are included as part
> of the
> > History-Info header. My understanding is that it's really just a
> nifty
> > way to compactly reuse existing headers (i.e., it makes the
> History-Info
> > much more compact as I didn't need to define additional
> parameters for
> > the header, but could rather reuse the existing ones, whose existing
> > semantics perfectly applicable). I do think that the use of the
> headers
> > that might be escaped using this mechanism should be explained,
> > particularly in cases where you might be extending the use of
> existing
> > headers as I did for the Privacy header.
> >
> > Mary.
> >
> > -----Original Message-----
> > From: Peili Xu [mailto:xupeili@gmail.com]
> > Sent: Wednesday, September 05, 2007 10:41 AM
> > To: DRAGE, Keith (Keith)
> > Cc: sip@ietf.org
> > Subject: Re: AW: AW: [Sip] Extension of conference procedures
> >
> > Yes, It's vague in RFC3261. I'm only aware of the usage in REFER
> now.
> > It'll be good to clarify the semantics in the usage in url-list.
> >
> > 2007/9/5, DRAGE, Keith (Keith) :
> >
> >> So this is a convenient way to bring us back to the other half
> of the
> >>
> > issue which we do not seem to have discussed yet. When the
> syntax was
> > defined that allowed ?headers:
> >
> >> Headers: Header fields to be included in a request constructed
> >> from the URI.
> >>
> >> Headers fields in the SIP request can be specified with the
> >>
> > "?"
> >
> >> mechanism within a URI. The header names and values are
> >> encoded in ampersand separated hname =3D hvalue pairs. The
> >> special hname "body" indicates that the associated hvalue is
> >> the message-body of the SIP request.
> >>
> >> What usage did the SIP WG envisage for this, and thus what
> semantics
> >>
> > did they define for that usage.
> >
> >> Is it appropriate to assign new semantics to such usage?
> >>
> >> Regards
> >>
> >> Keith
> >>
> >>
> > Note: I snipped the rest of this thread as it was getting really
> LONG.
> >
> >
> > _______________________________________________
> > Sip mailing list https://www1.ietf.org/mailman/listinfo/sip
> > This list is for NEW development of the core SIP Protocol
> > Use sip-implementors@cs.columbia.edu for questions on current sip
> > Use sipping@ietf.org for new developments on the application of sip
> >
> >
>
>
> _______________________________________________
> Sip mailing list https://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
>
>
> =
------------------------------------------------------------------------
> Check out=20
>=20
> the hottest 2008 models today at Yahoo! Autos.
> =
------------------------------------------------------------------------
>
> _______________________________________________
> Sip mailing list https://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip






  _____ =20

Be a better Globetrotter. Get  =
<http://us.rd.yahoo.com/evt=3D48254/*http://answers.yahoo.com/dir/_ylc=3D=
X3oDMTI5MGx2aThyBF9TAzIxMTU1MDAzNTIEX3MDMzk2NTQ1MTAzBHNlYwNCQUJwaWxsYXJfT=
klfMzYwBHNsawNQcm9kdWN0X3F1ZXN0aW9uX3BhZ2U-?link=3Dlist&sid=3D396545469> =
better travel answers from someone who knows.
Yahoo! Answers - Check it out.=20


------_=_NextPart_001_01C7F603.719CC870
Content-Type: text/html;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML><HEAD>
<META HTTP-EQUIV=3D"Content-Type" CONTENT=3D"text/html; =
charset=3Diso-8859-1">
<TITLE>Nachricht</TITLE>

<META content=3D"MSHTML 6.00.2900.3086" name=3DGENERATOR></HEAD>
<BODY>
<DIV><SPAN class=3D791250912-13092007><FONT face=3DArial color=3D#0000ff =
size=3D2>Hi=20
all,</FONT></SPAN></DIV>
<DIV><SPAN class=3D791250912-13092007><FONT face=3DArial color=3D#0000ff =

size=3D2></FONT></SPAN>&nbsp;</DIV>
<DIV><SPAN class=3D791250912-13092007><FONT face=3DArial color=3D#0000ff =
size=3D2>thanks=20
for your interest in this, but I think my question pointed in a =
littlebit=20
different direction.</FONT></SPAN></DIV>
<DIV><SPAN class=3D791250912-13092007><FONT face=3DArial color=3D#0000ff =

size=3D2></FONT></SPAN>&nbsp;</DIV>
<DIV><SPAN class=3D791250912-13092007><FONT face=3DArial color=3D#0000ff =
size=3D2>I=20
think the procedures to start a centralized ad-hoc dial-out conference =
are fine,=20
you send an INVITE to the conference factory to start the conference, =
and then=20
you send REFERS to the focus referring INVITEs to the other =
participants. Even=20
better is an INVITE to the confernce with a URI list of the participants =
who=20
shall be invited to the conference, because this needs lees=20
messages.</FONT></SPAN></DIV>
<DIV><SPAN class=3D791250912-13092007><FONT face=3DArial color=3D#0000ff =

size=3D2></FONT></SPAN>&nbsp;</DIV>
<DIV><SPAN class=3D791250912-13092007><FONT face=3DArial color=3D#0000ff =
size=3D2>The=20
problem is the INVITE from the focus to the participants. As this is an =
ad-hoc=20
conference, it's clear that the invited user is already in a dialog with =
the=20
inviting user, and because of this it depends on the invited user if he =
accepts=20
the invitation to the conference, or if he e.g. just answers with a 486. =
The=20
proposal is to trigger a re-INVITE in the original dialog by using the =
"?"=20
mechanism to transfer the dialog ID of the original dialog to the focus, =
as this=20
wouldn't cause a 2nd dialog at the invited UE and therefore means the =
fewest=20
requirements on the invited user.</FONT></SPAN></DIV>
<DIV><SPAN class=3D791250912-13092007><FONT face=3DArial color=3D#0000ff =

size=3D2></FONT></SPAN>&nbsp;</DIV>
<DIV><SPAN class=3D791250912-13092007><FONT face=3DArial color=3D#0000ff =
size=3D2>To mee=20
it seems that&nbsp;the Join header cannot solve this problem. If you =
include the=20
Join header in the INVITE to the focus, that means you want to join some =
dialog=20
at the focus which doesn't exist. </FONT></SPAN></DIV>
<DIV><SPAN class=3D791250912-13092007><FONT face=3DArial color=3D#0000ff =
size=3D2>If you=20
include the Join header also using "?" in the header portion in the =
Refer-to=20
header of a REFER or in the header protions in the URI list, this means =
the=20
focus shall generate an INVITE including a Join header and sends this to =
the=20
invited user. The invited user then would have to start the procedures =
to=20
include the focus in the original dialog. If he accepts the 2nd INVITE =
and is=20
compatible to RFC3911.</FONT></SPAN></DIV>
<DIV><SPAN class=3D791250912-13092007><FONT face=3DArial color=3D#0000ff =

size=3D2>Triggering a re-INVITE because of the Join header part in the =
Refer-to=20
header to me seems to be not in accordance with =
RFC3911.</FONT></SPAN></DIV>
<DIV><SPAN class=3D791250912-13092007><FONT face=3DArial color=3D#0000ff =

size=3D2>Because of this&nbsp;I don't think the usage of the Join header =
can solve=20
the problem of 2 dialogs at the invited user in case of an ad-hoc =
dial-out=20
conference.</FONT></SPAN></DIV>
<DIV><SPAN class=3D791250912-13092007><FONT face=3DArial color=3D#0000ff =

size=3D2></FONT></SPAN>&nbsp;</DIV>
<DIV><SPAN class=3D791250912-13092007><FONT face=3DArial color=3D#0000ff =
size=3D2>BR,=20
Martin</FONT></SPAN></DIV>
<DIV><SPAN class=3D791250912-13092007><FONT face=3DArial color=3D#0000ff =

size=3D2></FONT></SPAN>&nbsp;</DIV>
<DIV><SPAN class=3D791250912-13092007></SPAN>&nbsp;</DIV>
<DIV><SPAN class=3D791250912-13092007><FONT face=3DArial color=3D#0000ff =

size=3D2></FONT></SPAN>&nbsp;</DIV>
<BLOCKQUOTE=20
style=3D"PADDING-LEFT: 5px; MARGIN-LEFT: 5px; BORDER-LEFT: #0000ff 2px =
solid; MARGIN-RIGHT: 0px">
  <DIV></DIV>
  <DIV class=3DOutlookMessageHeader lang=3Dde dir=3Dltr =
align=3Dleft><FONT face=3DTahoma=20
  size=3D2>-----Urspr=FCngliche Nachricht-----<BR><B>Von:</B> Jerry Yin=20
  [mailto:jerry.yin@yahoo.com] <BR><B>Gesendet:</B> Mittwoch, 12. =
September 2007=20
  22:14<BR><B>An:</B> Alan Johnston<BR><B>Cc:</B> sip@ietf.org; DRAGE, =
Keith=20
  (Keith); Mary Barnes<BR><B>Betreff:</B> Re: AW: AW: [Sip] Extension of =

  conference procedures<BR><BR></FONT></DIV><FONT size=3D2>
  <DIV>Hi Alan and Peili,</DIV>
  <DIV>&nbsp;</DIV>
  <DIV>Thanks for your responses. I saw Alan's RFC before. I revisited =
it today=20
  briefly. But I still can't find the solution I am looking for. =
Basically in=20
  your RFC, even for the ad-hoc conference, the user always starts with =
calling=20
  the conference server first. What I am looking for is that the user =
puts two=20
  (or more) lines on hold, then he decides to conference them together =
in a=20
  conference room.</DIV>
  <DIV>&nbsp;</DIV>
  <DIV>The solution I proposed will allow user to have a smooth =
experience to=20
  conduct a conference in a conference room, if the server supports this =

  feature. If server does not support it then it will be a local 3way =
conference=20
  on the phone that most SIP phones support. The UI design and user =
experience=20
  will be exactly the same in both the cases.</DIV>
  <DIV>&nbsp;</DIV>
  <DIV>As to the RFC3911, I agree that it didn't say explicitly that the =
Join=20
  header can be used in a re-Invite. I also admit that my proposal does =
not=20
  interpret the Join header as the RFC defines. But if it works, then we =
might=20
  want to re-interpret the defintion of Join header? Or we might want to =

  consider introducing a new header for this purpose!</DIV>
  <DIV>&nbsp;</DIV>
  <DIV>To answer your question, if the join does not match an existing =
dialog,=20
  then according to the RFC 3911, it will be ignored. </DIV>
  <DIV>&nbsp;</DIV>
  <DIV>BTW, I saw the RFC 4579 depends on out-dialog REFER. Would it be =
a=20
  security concern?</DIV>
  <DIV>&nbsp;</DIV>
  <DIV></FONT>thanks,</DIV>
  <DIV>Jerry</DIV>
  <DIV><BR><BR><B><I>Alan Johnston &lt;alan@sipstation.com&gt;</I></B>=20
  wrote:</DIV>
  <BLOCKQUOTE class=3Dreplbq=20
  style=3D"PADDING-LEFT: 5px; MARGIN-LEFT: 5px; BORDER-LEFT: #1010ff 2px =
solid">Hi=20
    Jerry,<BR><BR>The use of a Join header field in a re-INVITE in your =
system=20
    is <BR>problematic. RFC 3911 does not seem to specifically rule it =
out but=20
    <BR>implies that it can only be used in a initial (dialog creating) =
INVITE.=20
    <BR>Also, the error response generation described in RFC 3911 can =
not be=20
    <BR>applied to a re-INVITE scenario, so I'm curious what you do if =
the Join=20
    <BR>does not match an existing one.<BR><BR>There are solutions in =
RFC 4579=20
    for transitioning conferences to and <BR>from point to point =
sessions that=20
    may be of use to you.<BR><BR>Thanks,<BR>Alan<BR><BR><BR>Jerry Yin=20
    wrote:<BR>&gt; I think there are two ways to invoke a conference. =
One is to=20
    invoke <BR>&gt; the conference by the conference server. The other =
is ad-hoc=20
    <BR>&gt; conference invoked by the participants. The <BR>&gt;=20
    draft-ietf-sip-uri-list-conferencing was trying to solve the problem =

    <BR>&gt; by initiating a conference from the server.<BR>&gt; Here's =
what I=20
    think for the ad-hoc conference.<BR>&gt; Participants: A calls B (a =
UA or a=20
    conference room) and put B on-hold, <BR>&gt; and then A calls C. Now =
A=20
    presses the conf button.<BR>&gt; 1. If B has a conference room url, =
A will=20
    transfer C to B (by REFER), <BR>&gt; as some of you discussed =
already. It=20
    actually is supported by some <BR>&gt; companies already as I =
know.<BR>&gt;=20
    2. But if B is a UA, when the conf button is pressed, the only SIP =
<BR>&gt;=20
    messages send out by A is the re-Invite (off-hold) to B since most =
SIP=20
    <BR>&gt; phones support 3-way conference locally. Then A will do the =
audio=20
    <BR>&gt; mixing locally. So far I didn't find any solution to =
transfer the=20
    <BR>&gt; local 3-way conference to a centralized conference yet. =
Currently=20
    in <BR>&gt; our system, we adopted the "Join" header (RFC3911). When =
A sends=20
    the <BR>&gt; re-Invite to B, it also includes a Join header contains =
the C's=20
    dialog <BR>&gt; info. The B2B server will translate the Join to a=20
    centralized <BR>&gt; conference. It will Invite C with a Replace =
header to=20
    replace the <BR>&gt; session between A and C. C will sends a BYE to =
A. The=20
    server will <BR>&gt; update the media to A and B (reInvite). Then =
all three=20
    parties are in <BR>&gt; the centralized conference room.<BR>&gt; I =
hope the=20
    new RFC for conference also capture the behavior described <BR>&gt; =
in 2.=20
    Whether it's Join header or something else. The user should be =
<BR>&gt; able=20
    to call someone first and then decided to setup a =
conference.<BR>&gt;=20
    Jerry<BR>&gt;<BR>&gt; */Jeroen van Bemmel <JBEMMEL@ZONNET.NL>/*=20
    wrote:<BR>&gt;<BR>&gt; Concretely, would we be looking at something=20
    like<BR>&gt;<BR>&gt;=20
    =
sip:b-party@provider.com?From=3Dsip%3ca-party@provider.com;tag=3Dx&amp;To=
=3Dsip:b-party@provider.com;tag=3Dy&amp;Call-ID=3Di&amp;CSeq=3D1234&amp;R=
oute=3Drrr&amp;body=3D<BR>&gt;=20
    with proper session versions etc&gt;<BR>&gt;<BR>&gt; in order to =
help the=20
    conference server fake a reINVITE towards B?<BR>&gt;<BR>&gt; RFC3261 =

    provides some guidance on the types of headers that elements<BR>&gt; =
might=20
    accept as part of a URI. Specifically, it states in 19.1.5:<BR>&gt; =
"An=20
    implementation SHOULD NOT honor these obviously dangerous =
header<BR>&gt;=20
    fields: From, Call-ID, CSeq, Via, and Record-Route."<BR>&gt;<BR>&gt; =
I=20
    believe the usage that was foreseen for this mechanism (as<BR>&gt;=20
    illustrated<BR>&gt; by some of the examples in RFC3261) was to =
provide some=20
    context<BR>&gt; for the<BR>&gt; request, such as Subject and =
Priority=20
    fields. In other words,<BR>&gt; optional<BR>&gt; information that =
might help=20
    the receiver understand the context.<BR>&gt;<BR>&gt; The above are =
not=20
    different semantics for headers in a URI (concept<BR>&gt; remains: =
form a=20
    new request based on the URI, inserting the headers),<BR>&gt; but it =
does=20
    imply a deviation from the basic SIP call model<BR>&gt; (basically =
a<BR>&gt;=20
    way of encoding dialog state in a SIP URI, and sending that =
to<BR>&gt;=20
    another<BR>&gt; element such that it can reconstruct that state and =
assume=20
    the<BR>&gt; role of<BR>&gt; the party which shared the=20
    state).<BR>&gt;<BR>&gt; Apart from the fact that this approach will =
fall=20
    short for SDP<BR>&gt; related<BR>&gt; state: is this=20
    desirable?<BR>&gt;<BR>&gt; Regards,<BR>&gt; Jeroen<BR>&gt;<BR>&gt; =
Mary=20
    Barnes wrote:<BR>&gt; &gt; RFC 4244 (History-Info) also uses this =
mechanism=20
    to capture the<BR>&gt; Reason<BR>&gt; &gt; and Privacy associated =
with the=20
    URIs that are included as part<BR>&gt; of the<BR>&gt; &gt; =
History-Info=20
    header. My understanding is that it's really just a<BR>&gt; =
nifty<BR>&gt;=20
    &gt; way to compactly reuse existing headers (i.e., it makes =
the<BR>&gt;=20
    History-Info<BR>&gt; &gt; much more compact as I didn't need to =
define=20
    additional<BR>&gt; parameters for<BR>&gt; &gt; the header, but could =
rather=20
    reuse the existing ones, whose existing<BR>&gt; &gt; semantics =
perfectly=20
    applicable). I do think that the use of the<BR>&gt; headers<BR>&gt; =
&gt;=20
    that might be escaped using this mechanism should be =
explained,<BR>&gt; &gt;=20
    particularly in cases where you might be extending the use =
of<BR>&gt;=20
    existing<BR>&gt; &gt; headers as I did for the Privacy =
header.<BR>&gt;=20
    &gt;<BR>&gt; &gt; Mary.<BR>&gt; &gt;<BR>&gt; &gt; -----Original=20
    Message-----<BR>&gt; &gt; From: Peili Xu =
[mailto:xupeili@gmail.com]<BR>&gt;=20
    &gt; Sent: Wednesday, September 05, 2007 10:41 AM<BR>&gt; &gt; To: =
DRAGE,=20
    Keith (Keith)<BR>&gt; &gt; Cc: sip@ietf.org<BR>&gt; &gt; Subject: =
Re: AW:=20
    AW: [Sip] Extension of conference procedures<BR>&gt; &gt;<BR>&gt; =
&gt; Yes,=20
    It's vague in RFC3261. I'm only aware of the usage in REFER<BR>&gt;=20
    now.<BR>&gt; &gt; It'll be good to clarify the semantics in the =
usage in=20
    url-list.<BR>&gt; &gt;<BR>&gt; &gt; 2007/9/5, DRAGE, Keith (Keith) =
:<BR>&gt;=20
    &gt;<BR>&gt; &gt;&gt; So this is a convenient way to bring us back =
to the=20
    other half<BR>&gt; of the<BR>&gt; &gt;&gt;<BR>&gt; &gt; issue which =
we do=20
    not seem to have discussed yet. When the<BR>&gt; syntax was<BR>&gt; =
&gt;=20
    defined that allowed ?headers:<BR>&gt; &gt;<BR>&gt; &gt;&gt; =
Headers: Header=20
    fields to be included in a request constructed<BR>&gt; &gt;&gt; from =
the=20
    URI.<BR>&gt; &gt;&gt;<BR>&gt; &gt;&gt; Headers fields in the SIP =
request can=20
    be specified with the<BR>&gt; &gt;&gt;<BR>&gt; &gt; "?"<BR>&gt; =
&gt;<BR>&gt;=20
    &gt;&gt; mechanism within a URI. The header names and values =
are<BR>&gt;=20
    &gt;&gt; encoded in ampersand separated hname =3D hvalue pairs. =
The<BR>&gt;=20
    &gt;&gt; special hname "body" indicates that the associated hvalue=20
    is<BR>&gt; &gt;&gt; the message-body of the SIP request.<BR>&gt;=20
    &gt;&gt;<BR>&gt; &gt;&gt; What usage did the SIP WG envisage for =
this, and=20
    thus what<BR>&gt; semantics<BR>&gt; &gt;&gt;<BR>&gt; &gt; did they =
define=20
    for that usage.<BR>&gt; &gt;<BR>&gt; &gt;&gt; Is it appropriate to =
assign=20
    new semantics to such usage?<BR>&gt; &gt;&gt;<BR>&gt; &gt;&gt;=20
    Regards<BR>&gt; &gt;&gt;<BR>&gt; &gt;&gt; Keith<BR>&gt; =
&gt;&gt;<BR>&gt;=20
    &gt;&gt;<BR>&gt; &gt; Note: I snipped the rest of this thread as it =
was=20
    getting really<BR>&gt; LONG.<BR>&gt; &gt;<BR>&gt; &gt;<BR>&gt; &gt;=20
    _______________________________________________<BR>&gt; &gt; Sip =
mailing=20
    list https://www1.ietf.org/mailman/listinfo/sip<BR>&gt; &gt; This =
list is=20
    for NEW development of the core SIP Protocol<BR>&gt; &gt; Use=20
    sip-implementors@cs.columbia.edu for questions on current =
sip<BR>&gt; &gt;=20
    Use sipping@ietf.org for new developments on the application of =
sip<BR>&gt;=20
    &gt;<BR>&gt; &gt;<BR>&gt;<BR>&gt;<BR>&gt;=20
    _______________________________________________<BR>&gt; Sip mailing =
list=20
    https://www1.ietf.org/mailman/listinfo/sip<BR>&gt; This list is for =
NEW=20
    development of the core SIP Protocol<BR>&gt; Use=20
    sip-implementors@cs.columbia.edu for questions on current =
sip<BR>&gt; Use=20
    sipping@ietf.org for new developments on the application of=20
    sip<BR>&gt;<BR>&gt;<BR>&gt;=20
    =
------------------------------------------------------------------------<=
BR>&gt;=20
    Check out <BR>&gt; <HTTP: us.rd.yahoo.com=20
    =
evt=3D"51201/*http://autos.yahoo.com/new_cars.html;_ylc=3DX3oDMTE5NWVzZGV=
yBF9TAzk3MTA3MDc2BHNlYwNtYWlsdGFncwRzbGsDYXV0b3MtbmV3Y2Fy"><BR>&gt;=20
    the hottest 2008 models today at Yahoo! Autos.<BR>&gt;=20
    =
------------------------------------------------------------------------<=
BR>&gt;<BR>&gt;=20
    _______________________________________________<BR>&gt; Sip mailing =
list=20
    https://www1.ietf.org/mailman/listinfo/sip<BR>&gt; This list is for =
NEW=20
    development of the core SIP Protocol<BR>&gt; Use=20
    sip-implementors@cs.columbia.edu for questions on current =
sip<BR>&gt; Use=20
    sipping@ietf.org for new developments on the application of=20
  sip<BR><BR></BLOCKQUOTE><BR>
  <P>
  <HR SIZE=3D1>
  Be a better Globetrotter. <A=20
  =
href=3D"http://us.rd.yahoo.com/evt=3D48254/*http://answers.yahoo.com/dir/=
_ylc=3DX3oDMTI5MGx2aThyBF9TAzIxMTU1MDAzNTIEX3MDMzk2NTQ1MTAzBHNlYwNCQUJwaW=
xsYXJfTklfMzYwBHNsawNQcm9kdWN0X3F1ZXN0aW9uX3BhZ2U-?link=3Dlist&amp;sid=3D=
396545469">Get=20
  better travel answers </A>from someone who knows.<BR>Yahoo! Answers - =
Check it=20
  out. </BLOCKQUOTE></BODY></HTML>

------_=_NextPart_001_01C7F603.719CC870--



--===============0059876671==
Content-Type: text/plain; charset="us-ascii"
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip
--===============0059876671==--





From sip-bounces@ietf.org Thu Sep 13 10:00:53 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1IVpFE-0007oW-4u; Thu, 13 Sep 2007 10:00:36 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1IVpFC-0007oO-Dz
	for sip-confirm+ok@megatron.ietf.org; Thu, 13 Sep 2007 10:00:34 -0400
Received: from [10.91.34.44] (helo=ietf-mx.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1IVpFC-0007oG-3M
	for sip@ietf.org; Thu, 13 Sep 2007 10:00:34 -0400
Received: from rtp-iport-1.cisco.com ([64.102.122.148])
	by ietf-mx.ietf.org with esmtp (Exim 4.43) id 1IVpFA-0005Tu-Op
	for sip@ietf.org; Thu, 13 Sep 2007 10:00:34 -0400
X-IronPort-AV: E=Sophos;i="4.20,250,1186372800"; d="scan'208";a="70950670"
Received: from rtp-dkim-1.cisco.com ([64.102.121.158])
	by rtp-iport-1.cisco.com with ESMTP; 13 Sep 2007 10:00:33 -0400
Received: from rtp-core-2.cisco.com (rtp-core-2.cisco.com [64.102.124.13])
	by rtp-dkim-1.cisco.com (8.12.11/8.12.11) with ESMTP id l8DE0Wg3024923; 
	Thu, 13 Sep 2007 10:00:32 -0400
Received: from xbh-rtp-201.amer.cisco.com (xbh-rtp-201.cisco.com
	[64.102.31.12])
	by rtp-core-2.cisco.com (8.12.10/8.12.6) with ESMTP id l8DE0SBY026987; 
	Thu, 13 Sep 2007 14:00:28 GMT
Received: from xfe-rtp-202.amer.cisco.com ([64.102.31.21]) by
	xbh-rtp-201.amer.cisco.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Thu, 13 Sep 2007 10:00:28 -0400
Received: from [161.44.174.118] ([161.44.174.118]) by
	xfe-rtp-202.amer.cisco.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Thu, 13 Sep 2007 10:00:27 -0400
Message-ID: <46E9427B.7020101@cisco.com>
Date: Thu, 13 Sep 2007 10:00:27 -0400
From: Paul Kyzivat <pkyzivat@cisco.com>
User-Agent: Thunderbird 2.0.0.6 (Windows/20070728)
MIME-Version: 1.0
To: "Huelsemann, Martin" <Martin.Huelsemann@t-com.net>
Subject: Re: AW: AW: AW: [Sip] Extension of conference procedures
References: <CCA850DCD3FBE2479D5076C5C1873222029F5102@S4DE9JSAAHW.ost.t-com.de>
In-Reply-To: <CCA850DCD3FBE2479D5076C5C1873222029F5102@S4DE9JSAAHW.ost.t-com.de>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 8bit
X-OriginalArrivalTime: 13 Sep 2007 14:00:27.0555 (UTC)
	FILETIME=[70307F30:01C7F60E]
DKIM-Signature: v=0.5; a=rsa-sha256; q=dns/txt; l=14505; t=1189692032;
	x=1190556032; c=relaxed/simple; s=rtpdkim1001;
	h=Content-Type:From:Subject:Content-Transfer-Encoding:MIME-Version;
	d=cisco.com; i=pkyzivat@cisco.com;
	z=From:=20Paul=20Kyzivat=20<pkyzivat@cisco.com>
	|Subject:=20Re=3A=20AW=3A=20AW=3A=20AW=3A=20[Sip]=20Extension=20of=20conf
	erence=20procedures |Sender:=20
	|To:=20=22Huelsemann,=20Martin=22=20<Martin.Huelsemann@t-com.net>;
	bh=6yKG9A0ImjbbP7ZZDTzFfHqrccEFt+DWCaBSWEQi7R0=;
	b=angHj76JG4nM0PMXiCUGRc86hkbPlxZ+SOkaE7zFWotfgkheBlS292AU+PQZt6KxHuZs62hb
	m5tbSqfG4oHVK0SakN8Bx0cb5hieyqnuVqrUONZSl7oAwci2GCUhH4zo;
Authentication-Results: rtp-dkim-1; header.From=pkyzivat@cisco.com; dkim=pass (
	sig from cisco.com/rtpdkim1001 verified; ); 
X-Spam-Score: -4.0 (----)
X-Scan-Signature: 5ba9b8496764663b12c333825fbf6b3d
Cc: sip@ietf.org, drage@alcatel-lucent.com, alan@sipstation.com,
	mary.barnes@nortel.com
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

Why not simply REFER the focus to send an INVITE/Replaces to the calls 
with existing dialogs?

	Paul


Huelsemann, Martin wrote:
> Hi all,
>  
> thanks for your interest in this, but I think my question pointed in a 
> littlebit different direction.
>  
> I think the procedures to start a centralized ad-hoc dial-out conference 
> are fine, you send an INVITE to the conference factory to start the 
> conference, and then you send REFERS to the focus referring INVITEs to 
> the other participants. Even better is an INVITE to the confernce with a 
> URI list of the participants who shall be invited to the conference, 
> because this needs lees messages.
>  
> The problem is the INVITE from the focus to the participants. As this is 
> an ad-hoc conference, it's clear that the invited user is already in a 
> dialog with the inviting user, and because of this it depends on the 
> invited user if he accepts the invitation to the conference, or if he 
> e.g. just answers with a 486. The proposal is to trigger a re-INVITE in 
> the original dialog by using the "?" mechanism to transfer the dialog ID 
> of the original dialog to the focus, as this wouldn't cause a 2nd dialog 
> at the invited UE and therefore means the fewest requirements on the 
> invited user.


> To mee it seems that the Join header cannot solve this problem. If you 
> include the Join header in the INVITE to the focus, that means you want 
> to join some dialog at the focus which doesn't exist.
> If you include the Join header also using "?" in the header portion in 
> the Refer-to header of a REFER or in the header protions in the URI 
> list, this means the focus shall generate an INVITE including a Join 
> header and sends this to the invited user. The invited user then would 
> have to start the procedures to include the focus in the original 
> dialog. If he accepts the 2nd INVITE and is compatible to RFC3911.
> Triggering a re-INVITE because of the Join header part in the Refer-to 
> header to me seems to be not in accordance with RFC3911.
> Because of this I don't think the usage of the Join header can solve the 
> problem of 2 dialogs at the invited user in case of an ad-hoc dial-out 
> conference.
>  
> BR, Martin
>  
>  
>  
> 
>     -----Ursprngliche Nachricht-----
>     *Von:* Jerry Yin [mailto:jerry.yin@yahoo.com]
>     *Gesendet:* Mittwoch, 12. September 2007 22:14
>     *An:* Alan Johnston
>     *Cc:* sip@ietf.org; DRAGE, Keith (Keith); Mary Barnes
>     *Betreff:* Re: AW: AW: [Sip] Extension of conference procedures
> 
>     Hi Alan and Peili,
>      
>     Thanks for your responses. I saw Alan's RFC before. I revisited it
>     today briefly. But I still can't find the solution I am looking for.
>     Basically in your RFC, even for the ad-hoc conference, the user
>     always starts with calling the conference server first. What I am
>     looking for is that the user puts two (or more) lines on hold, then
>     he decides to conference them together in a conference room.
>      
>     The solution I proposed will allow user to have a smooth experience
>     to conduct a conference in a conference room, if the server supports
>     this feature. If server does not support it then it will be a local
>     3way conference on the phone that most SIP phones support. The UI
>     design and user experience will be exactly the same in both the cases.
>      
>     As to the RFC3911, I agree that it didn't say explicitly that the
>     Join header can be used in a re-Invite. I also admit that my
>     proposal does not interpret the Join header as the RFC defines. But
>     if it works, then we might want to re-interpret the defintion of
>     Join header? Or we might want to consider introducing a new header
>     for this purpose!
>      
>     To answer your question, if the join does not match an existing
>     dialog, then according to the RFC 3911, it will be ignored.
>      
>     BTW, I saw the RFC 4579 depends on out-dialog REFER. Would it be a
>     security concern?
>      
>     thanks,
>     Jerry
> 
> 
>     */Alan Johnston <alan@sipstation.com>/* wrote:
> 
>         Hi Jerry,
> 
>         The use of a Join header field in a re-INVITE in your system is
>         problematic. RFC 3911 does not seem to specifically rule it out but
>         implies that it can only be used in a initial (dialog creating)
>         INVITE.
>         Also, the error response generation described in RFC 3911 can
>         not be
>         applied to a re-INVITE scenario, so I'm curious what you do if
>         the Join
>         does not match an existing one.
> 
>         There are solutions in RFC 4579 for transitioning conferences to
>         and
>         from point to point sessions that may be of use to you.
> 
>         Thanks,
>         Alan
> 
> 
>         Jerry Yin wrote:
>          > I think there are two ways to invoke a conference. One is to
>         invoke
>          > the conference by the conference server. The other is ad-hoc
>          > conference invoked by the participants. The
>          > draft-ietf-sip-uri-list-conferencing was trying to solve the
>         problem
>          > by initiating a conference from the server.
>          > Here's what I think for the ad-hoc conference.
>          > Participants: A calls B (a UA or a conference room) and put B
>         on-hold,
>          > and then A calls C. Now A presses the conf button.
>          > 1. If B has a conference room url, A will transfer C to B (by
>         REFER),
>          > as some of you discussed already. It actually is supported by
>         some
>          > companies already as I know.
>          > 2. But if B is a UA, when the conf button is pressed, the
>         only SIP
>          > messages send out by A is the re-Invite (off-hold) to B since
>         most SIP
>          > phones support 3-way conference locally. Then A will do the
>         audio
>          > mixing locally. So far I didn't find any solution to transfer
>         the
>          > local 3-way conference to a centralized conference yet.
>         Currently in
>          > our system, we adopted the "Join" header (RFC3911). When A
>         sends the
>          > re-Invite to B, it also includes a Join header contains the
>         C's dialog
>          > info. The B2B server will translate the Join to a centralized
>          > conference. It will Invite C with a Replace header to replace
>         the
>          > session between A and C. C will sends a BYE to A. The server
>         will
>          > update the media to A and B (reInvite). Then all three
>         parties are in
>          > the centralized conference room.
>          > I hope the new RFC for conference also capture the behavior
>         described
>          > in 2. Whether it's Join header or something else. The user
>         should be
>          > able to call someone first and then decided to setup a
>         conference.
>          > Jerry
>          >
>          > */Jeroen van Bemmel /* wrote:
>          >
>          > Concretely, would we be looking at something like
>          >
>          >
>         sip:b-party@provider.com?From=sip%3ca-party@provider.com;tag=x&To=sip:b-party@provider.com;tag=y&Call-ID=i&CSeq=1234&Route=rrr&body=
>          > with proper session versions etc>
>          >
>          > in order to help the conference server fake a reINVITE towards B?
>          >
>          > RFC3261 provides some guidance on the types of headers that
>         elements
>          > might accept as part of a URI. Specifically, it states in 19.1.5:
>          > "An implementation SHOULD NOT honor these obviously dangerous
>         header
>          > fields: From, Call-ID, CSeq, Via, and Record-Route."
>          >
>          > I believe the usage that was foreseen for this mechanism (as
>          > illustrated
>          > by some of the examples in RFC3261) was to provide some context
>          > for the
>          > request, such as Subject and Priority fields. In other words,
>          > optional
>          > information that might help the receiver understand the context.
>          >
>          > The above are not different semantics for headers in a URI
>         (concept
>          > remains: form a new request based on the URI, inserting the
>         headers),
>          > but it does imply a deviation from the basic SIP call model
>          > (basically a
>          > way of encoding dialog state in a SIP URI, and sending that to
>          > another
>          > element such that it can reconstruct that state and assume the
>          > role of
>          > the party which shared the state).
>          >
>          > Apart from the fact that this approach will fall short for SDP
>          > related
>          > state: is this desirable?
>          >
>          > Regards,
>          > Jeroen
>          >
>          > Mary Barnes wrote:
>          > > RFC 4244 (History-Info) also uses this mechanism to capture the
>          > Reason
>          > > and Privacy associated with the URIs that are included as part
>          > of the
>          > > History-Info header. My understanding is that it's really
>         just a
>          > nifty
>          > > way to compactly reuse existing headers (i.e., it makes the
>          > History-Info
>          > > much more compact as I didn't need to define additional
>          > parameters for
>          > > the header, but could rather reuse the existing ones, whose
>         existing
>          > > semantics perfectly applicable). I do think that the use of the
>          > headers
>          > > that might be escaped using this mechanism should be explained,
>          > > particularly in cases where you might be extending the use of
>          > existing
>          > > headers as I did for the Privacy header.
>          > >
>          > > Mary.
>          > >
>          > > -----Original Message-----
>          > > From: Peili Xu [mailto:xupeili@gmail.com]
>          > > Sent: Wednesday, September 05, 2007 10:41 AM
>          > > To: DRAGE, Keith (Keith)
>          > > Cc: sip@ietf.org
>          > > Subject: Re: AW: AW: [Sip] Extension of conference procedures
>          > >
>          > > Yes, It's vague in RFC3261. I'm only aware of the usage in
>         REFER
>          > now.
>          > > It'll be good to clarify the semantics in the usage in
>         url-list.
>          > >
>          > > 2007/9/5, DRAGE, Keith (Keith) :
>          > >
>          > >> So this is a convenient way to bring us back to the other half
>          > of the
>          > >>
>          > > issue which we do not seem to have discussed yet. When the
>          > syntax was
>          > > defined that allowed ?headers:
>          > >
>          > >> Headers: Header fields to be included in a request constructed
>          > >> from the URI.
>          > >>
>          > >> Headers fields in the SIP request can be specified with the
>          > >>
>          > > "?"
>          > >
>          > >> mechanism within a URI. The header names and values are
>          > >> encoded in ampersand separated hname = hvalue pairs. The
>          > >> special hname "body" indicates that the associated hvalue is
>          > >> the message-body of the SIP request.
>          > >>
>          > >> What usage did the SIP WG envisage for this, and thus what
>          > semantics
>          > >>
>          > > did they define for that usage.
>          > >
>          > >> Is it appropriate to assign new semantics to such usage?
>          > >>
>          > >> Regards
>          > >>
>          > >> Keith
>          > >>
>          > >>
>          > > Note: I snipped the rest of this thread as it was getting
>         really
>          > LONG.
>          > >
>          > >
>          > > _______________________________________________
>          > > Sip mailing list https://www1.ietf.org/mailman/listinfo/sip
>          > > This list is for NEW development of the core SIP Protocol
>          > > Use sip-implementors@cs.columbia.edu for questions on
>         current sip
>          > > Use sipping@ietf.org for new developments on the
>         application of sip
>          > >
>          > >
>          >
>          >
>          > _______________________________________________
>          > Sip mailing list https://www1.ietf.org/mailman/listinfo/sip
>          > This list is for NEW development of the core SIP Protocol
>          > Use sip-implementors@cs.columbia.edu for questions on current sip
>          > Use sipping@ietf.org for new developments on the application
>         of sip
>          >
>          >
>          >
>         ------------------------------------------------------------------------
>          > Check out
>          >
>          > the hottest 2008 models today at Yahoo! Autos.
>          >
>         ------------------------------------------------------------------------
>          >
>          > _______________________________________________
>          > Sip mailing list https://www1.ietf.org/mailman/listinfo/sip
>          > This list is for NEW development of the core SIP Protocol
>          > Use sip-implementors@cs.columbia.edu for questions on current sip
>          > Use sipping@ietf.org for new developments on the application
>         of sip
> 
> 
>     ------------------------------------------------------------------------
>     Be a better Globetrotter. Get better travel answers
>     <http://us.rd.yahoo.com/evt=48254/*http://answers.yahoo.com/dir/_ylc=X3oDMTI5MGx2aThyBF9TAzIxMTU1MDAzNTIEX3MDMzk2NTQ1MTAzBHNlYwNCQUJwaWxsYXJfTklfMzYwBHNsawNQcm9kdWN0X3F1ZXN0aW9uX3BhZ2U-?link=list&sid=396545469>from
>     someone who knows.
>     Yahoo! Answers - Check it out. 
> 
> 
> ------------------------------------------------------------------------
> 
> _______________________________________________
> Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip


_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Thu Sep 13 11:11:10 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1IVqKX-0001ty-C5; Thu, 13 Sep 2007 11:10:09 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1IVqKV-0001tl-NW
	for sip-confirm+ok@megatron.ietf.org; Thu, 13 Sep 2007 11:10:07 -0400
Received: from [10.91.34.44] (helo=ietf-mx.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1IVqKV-0001tb-DX
	for sip@ietf.org; Thu, 13 Sep 2007 11:10:07 -0400
Received: from tcmail23.telekom.de ([217.6.95.237])
	by ietf-mx.ietf.org with esmtp (Exim 4.43) id 1IVqKP-0006ps-Pz
	for sip@ietf.org; Thu, 13 Sep 2007 11:10:07 -0400
Received: from S4DE9JSAANM.ost.t-com.de (S4DE9JSAANM.ost.t-com.de
	[10.125.177.122]) by tcmail21.telekom.de with ESMTP;
	Thu, 13 Sep 2007 17:08:53 +0200
Received: from S4DE9JSAAHW.ost.t-com.de ([10.125.177.160]) by
	S4DE9JSAANM.ost.t-com.de with Microsoft SMTPSVC(6.0.3790.3959); 
	Thu, 13 Sep 2007 17:08:53 +0200
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: AW: AW: AW: AW: [Sip] Extension of conference procedures
Date: Thu, 13 Sep 2007 17:08:52 +0200
Message-Id: <CCA850DCD3FBE2479D5076C5C1873222029F5109@S4DE9JSAAHW.ost.t-com.de>
In-Reply-To: <46E9427B.7020101@cisco.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: AW: AW: AW: [Sip] Extension of conference procedures
Thread-Index: Acf2DnqyhVW8vFnxRKCTsTTX2gxrSgABhhhQ
From: "Huelsemann, Martin" <Martin.Huelsemann@t-com.net>
To: <pkyzivat@cisco.com>
X-OriginalArrivalTime: 13 Sep 2007 15:08:53.0189 (UTC)
	FILETIME=[FF568750:01C7F617]
X-Spam-Score: -1.0 (-)
X-Scan-Signature: ba9cd4f9acda58dbe142afff7265daff
Cc: sip@ietf.org, drage@alcatel-lucent.com, alan@sipstation.com,
	mary.barnes@nortel.com
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

Yes, that is of course the prefered solution and this are the normal =
procedure how this ad-hoc conference will be activated..=20
But like in the other thread we discuss in also here is the problem with =
a dumb phone, in the worst case only compliant to RFC 3261 and only able =
to handle 1 dialog at the same time. And for this our proposal is, to =
develop a fallback basing on sending a re-INVITE in the original dialog. =
That minimizes the requirements on the invited user and maximizes the =
chance the conference will be established.
Of course the normal case is that there are smart phones compliant to =
all RFCs needed for the service. But I think it's useful to have at =
least a fallback for the case that B does not fulfil all the =
requirements needed for a service you're providing to A. Or simply =
doesn't want to accept a 2nd INVITE.

BR, Martin



> -----Urspr=FCngliche Nachricht-----
> Von: Paul Kyzivat [mailto:pkyzivat@cisco.com]=20
> Gesendet: Donnerstag, 13. September 2007 16:00
> An: H=FClsemann, Martin
> Cc: jerry.yin@yahoo.com; alan@sipstation.com; sip@ietf.org;=20
> drage@alcatel-lucent.com; mary.barnes@nortel.com
> Betreff: Re: AW: AW: AW: [Sip] Extension of conference procedures
>=20
>=20
> Why not simply REFER the focus to send an INVITE/Replaces to=20
> the calls=20
> with existing dialogs?
>=20
> 	Paul
>=20
>=20
> Huelsemann, Martin wrote:
> > Hi all,
> > =20
> > thanks for your interest in this, but I think my question=20
> pointed in a=20
> > littlebit different direction.
> > =20
> > I think the procedures to start a centralized ad-hoc=20
> dial-out conference=20
> > are fine, you send an INVITE to the conference factory to start the=20
> > conference, and then you send REFERS to the focus referring=20
> INVITEs to=20
> > the other participants. Even better is an INVITE to the=20
> confernce with a=20
> > URI list of the participants who shall be invited to the=20
> conference,=20
> > because this needs lees messages.
> > =20
> > The problem is the INVITE from the focus to the=20
> participants. As this is=20
> > an ad-hoc conference, it's clear that the invited user is=20
> already in a=20
> > dialog with the inviting user, and because of this it=20
> depends on the=20
> > invited user if he accepts the invitation to the=20
> conference, or if he=20
> > e.g. just answers with a 486. The proposal is to trigger a=20
> re-INVITE in=20
> > the original dialog by using the "?" mechanism to transfer=20
> the dialog ID=20
> > of the original dialog to the focus, as this wouldn't cause=20
> a 2nd dialog=20
> > at the invited UE and therefore means the fewest=20
> requirements on the=20
> > invited user.
>=20
>=20
> > To mee it seems that the Join header cannot solve this=20
> problem. If you=20
> > include the Join header in the INVITE to the focus, that=20
> means you want=20
> > to join some dialog at the focus which doesn't exist.
> > If you include the Join header also using "?" in the header=20
> portion in=20
> > the Refer-to header of a REFER or in the header protions in the URI=20
> > list, this means the focus shall generate an INVITE=20
> including a Join=20
> > header and sends this to the invited user. The invited user=20
> then would=20
> > have to start the procedures to include the focus in the original=20
> > dialog. If he accepts the 2nd INVITE and is compatible to RFC3911.
> > Triggering a re-INVITE because of the Join header part in=20
> the Refer-to=20
> > header to me seems to be not in accordance with RFC3911.
> > Because of this I don't think the usage of the Join header=20
> can solve the=20
> > problem of 2 dialogs at the invited user in case of an=20
> ad-hoc dial-out=20
> > conference.
> > =20
> > BR, Martin
> > =20
> > =20
> > =20
> >=20
> >     -----Urspr=FCngliche Nachricht-----
> >     *Von:* Jerry Yin [mailto:jerry.yin@yahoo.com]
> >     *Gesendet:* Mittwoch, 12. September 2007 22:14
> >     *An:* Alan Johnston
> >     *Cc:* sip@ietf.org; DRAGE, Keith (Keith); Mary Barnes
> >     *Betreff:* Re: AW: AW: [Sip] Extension of conference procedures
> >=20
> >     Hi Alan and Peili,
> >     =20
> >     Thanks for your responses. I saw Alan's RFC before. I=20
> revisited it
> >     today briefly. But I still can't find the solution I am=20
> looking for.
> >     Basically in your RFC, even for the ad-hoc conference, the user
> >     always starts with calling the conference server first.=20
> What I am
> >     looking for is that the user puts two (or more) lines=20
> on hold, then
> >     he decides to conference them together in a conference room.
> >     =20
> >     The solution I proposed will allow user to have a=20
> smooth experience
> >     to conduct a conference in a conference room, if the=20
> server supports
> >     this feature. If server does not support it then it=20
> will be a local
> >     3way conference on the phone that most SIP phones=20
> support. The UI
> >     design and user experience will be exactly the same in=20
> both the cases.
> >     =20
> >     As to the RFC3911, I agree that it didn't say=20
> explicitly that the
> >     Join header can be used in a re-Invite. I also admit that my
> >     proposal does not interpret the Join header as the RFC=20
> defines. But
> >     if it works, then we might want to re-interpret the defintion of
> >     Join header? Or we might want to consider introducing a=20
> new header
> >     for this purpose!
> >     =20
> >     To answer your question, if the join does not match an existing
> >     dialog, then according to the RFC 3911, it will be ignored.
> >     =20
> >     BTW, I saw the RFC 4579 depends on out-dialog REFER.=20
> Would it be a
> >     security concern?
> >     =20
> >     thanks,
> >     Jerry
> >=20
> >=20
> >     */Alan Johnston <alan@sipstation.com>/* wrote:
> >=20
> >         Hi Jerry,
> >=20
> >         The use of a Join header field in a re-INVITE in=20
> your system is
> >         problematic. RFC 3911 does not seem to specifically=20
> rule it out but
> >         implies that it can only be used in a initial=20
> (dialog creating)
> >         INVITE.
> >         Also, the error response generation described in=20
> RFC 3911 can
> >         not be
> >         applied to a re-INVITE scenario, so I'm curious=20
> what you do if
> >         the Join
> >         does not match an existing one.
> >=20
> >         There are solutions in RFC 4579 for transitioning=20
> conferences to
> >         and
> >         from point to point sessions that may be of use to you.
> >=20
> >         Thanks,
> >         Alan
> >=20
> >=20
> >         Jerry Yin wrote:
> >          > I think there are two ways to invoke a=20
> conference. One is to
> >         invoke
> >          > the conference by the conference server. The=20
> other is ad-hoc
> >          > conference invoked by the participants. The
> >          > draft-ietf-sip-uri-list-conferencing was trying=20
> to solve the
> >         problem
> >          > by initiating a conference from the server.
> >          > Here's what I think for the ad-hoc conference.
> >          > Participants: A calls B (a UA or a conference=20
> room) and put B
> >         on-hold,
> >          > and then A calls C. Now A presses the conf button.
> >          > 1. If B has a conference room url, A will=20
> transfer C to B (by
> >         REFER),
> >          > as some of you discussed already. It actually is=20
> supported by
> >         some
> >          > companies already as I know.
> >          > 2. But if B is a UA, when the conf button is pressed, the
> >         only SIP
> >          > messages send out by A is the re-Invite=20
> (off-hold) to B since
> >         most SIP
> >          > phones support 3-way conference locally. Then A=20
> will do the
> >         audio
> >          > mixing locally. So far I didn't find any=20
> solution to transfer
> >         the
> >          > local 3-way conference to a centralized conference yet.
> >         Currently in
> >          > our system, we adopted the "Join" header=20
> (RFC3911). When A
> >         sends the
> >          > re-Invite to B, it also includes a Join header=20
> contains the
> >         C's dialog
> >          > info. The B2B server will translate the Join to=20
> a centralized
> >          > conference. It will Invite C with a Replace=20
> header to replace
> >         the
> >          > session between A and C. C will sends a BYE to=20
> A. The server
> >         will
> >          > update the media to A and B (reInvite). Then all three
> >         parties are in
> >          > the centralized conference room.
> >          > I hope the new RFC for conference also capture=20
> the behavior
> >         described
> >          > in 2. Whether it's Join header or something=20
> else. The user
> >         should be
> >          > able to call someone first and then decided to setup a
> >         conference.
> >          > Jerry
> >          >
> >          > */Jeroen van Bemmel /* wrote:
> >          >
> >          > Concretely, would we be looking at something like
> >          >
> >          >
> >        =20
> sip:b-party@provider.com?From=3Dsip%3ca-party@provider.com;tag=3Dx
> =
&To=3Dsip:b-party@provider.com;tag=3Dy&Call-ID=3Di&CSeq=3D1234&Route=3Drr=
r&body=3D
> >          > with proper session versions etc>
> >          >
> >          > in order to help the conference server fake a=20
> reINVITE towards B?
> >          >
> >          > RFC3261 provides some guidance on the types of=20
> headers that
> >         elements
> >          > might accept as part of a URI. Specifically, it=20
> states in 19.1.5:
> >          > "An implementation SHOULD NOT honor these=20
> obviously dangerous
> >         header
> >          > fields: From, Call-ID, CSeq, Via, and Record-Route."
> >          >
> >          > I believe the usage that was foreseen for this=20
> mechanism (as
> >          > illustrated
> >          > by some of the examples in RFC3261) was to=20
> provide some context
> >          > for the
> >          > request, such as Subject and Priority fields. In=20
> other words,
> >          > optional
> >          > information that might help the receiver=20
> understand the context.
> >          >
> >          > The above are not different semantics for=20
> headers in a URI
> >         (concept
> >          > remains: form a new request based on the URI,=20
> inserting the
> >         headers),
> >          > but it does imply a deviation from the basic SIP=20
> call model
> >          > (basically a
> >          > way of encoding dialog state in a SIP URI, and=20
> sending that to
> >          > another
> >          > element such that it can reconstruct that state=20
> and assume the
> >          > role of
> >          > the party which shared the state).
> >          >
> >          > Apart from the fact that this approach will fall=20
> short for SDP
> >          > related
> >          > state: is this desirable?
> >          >
> >          > Regards,
> >          > Jeroen
> >          >
> >          > Mary Barnes wrote:
> >          > > RFC 4244 (History-Info) also uses this=20
> mechanism to capture the
> >          > Reason
> >          > > and Privacy associated with the URIs that are=20
> included as part
> >          > of the
> >          > > History-Info header. My understanding is that=20
> it's really
> >         just a
> >          > nifty
> >          > > way to compactly reuse existing headers (i.e.,=20
> it makes the
> >          > History-Info
> >          > > much more compact as I didn't need to define additional
> >          > parameters for
> >          > > the header, but could rather reuse the=20
> existing ones, whose
> >         existing
> >          > > semantics perfectly applicable). I do think=20
> that the use of the
> >          > headers
> >          > > that might be escaped using this mechanism=20
> should be explained,
> >          > > particularly in cases where you might be=20
> extending the use of
> >          > existing
> >          > > headers as I did for the Privacy header.
> >          > >
> >          > > Mary.
> >          > >
> >          > > -----Original Message-----
> >          > > From: Peili Xu [mailto:xupeili@gmail.com]
> >          > > Sent: Wednesday, September 05, 2007 10:41 AM
> >          > > To: DRAGE, Keith (Keith)
> >          > > Cc: sip@ietf.org
> >          > > Subject: Re: AW: AW: [Sip] Extension of=20
> conference procedures
> >          > >
> >          > > Yes, It's vague in RFC3261. I'm only aware of=20
> the usage in
> >         REFER
> >          > now.
> >          > > It'll be good to clarify the semantics in the usage in
> >         url-list.
> >          > >
> >          > > 2007/9/5, DRAGE, Keith (Keith) :
> >          > >
> >          > >> So this is a convenient way to bring us back=20
> to the other half
> >          > of the
> >          > >>
> >          > > issue which we do not seem to have discussed=20
> yet. When the
> >          > syntax was
> >          > > defined that allowed ?headers:
> >          > >
> >          > >> Headers: Header fields to be included in a=20
> request constructed
> >          > >> from the URI.
> >          > >>
> >          > >> Headers fields in the SIP request can be=20
> specified with the
> >          > >>
> >          > > "?"
> >          > >
> >          > >> mechanism within a URI. The header names and=20
> values are
> >          > >> encoded in ampersand separated hname =3D hvalue=20
> pairs. The
> >          > >> special hname "body" indicates that the=20
> associated hvalue is
> >          > >> the message-body of the SIP request.
> >          > >>
> >          > >> What usage did the SIP WG envisage for this,=20
> and thus what
> >          > semantics
> >          > >>
> >          > > did they define for that usage.
> >          > >
> >          > >> Is it appropriate to assign new semantics to=20
> such usage?
> >          > >>
> >          > >> Regards
> >          > >>
> >          > >> Keith
> >          > >>
> >          > >>
> >          > > Note: I snipped the rest of this thread as it=20
> was getting
> >         really
> >          > LONG.
> >          > >
> >          > >
> >          > > _______________________________________________
> >          > > Sip mailing list=20
> https://www1.ietf.org/mailman/listinfo/sip
> >          > > This list is for NEW development of the core=20
> SIP Protocol
> >          > > Use sip-implementors@cs.columbia.edu for questions on
> >         current sip
> >          > > Use sipping@ietf.org for new developments on the
> >         application of sip
> >          > >
> >          > >
> >          >
> >          >
> >          > _______________________________________________
> >          > Sip mailing list=20
> https://www1.ietf.org/mailman/listinfo/sip
> >          > This list is for NEW development of the core SIP Protocol
> >          > Use sip-implementors@cs.columbia.edu for=20
> questions on current sip
> >          > Use sipping@ietf.org for new developments on the=20
> application
> >         of sip
> >          >
> >          >
> >          >
> >        =20
> --------------------------------------------------------------
> ----------
> >          > Check out
> >          >
> >          > the hottest 2008 models today at Yahoo! Autos.
> >          >
> >        =20
> --------------------------------------------------------------
> ----------
> >          >
> >          > _______________________________________________
> >          > Sip mailing list=20
> https://www1.ietf.org/mailman/listinfo/sip
> >          > This list is for NEW development of the core SIP Protocol
> >          > Use sip-implementors@cs.columbia.edu for=20
> questions on current sip
> >          > Use sipping@ietf.org for new developments on the=20
> application
> >         of sip
> >=20
> >=20
> >    =20
> --------------------------------------------------------------
> ----------
> >     Be a better Globetrotter. Get better travel answers
> >    =20
> <http://us.rd.yahoo.com/evt=3D48254/*http://answers.yahoo.com/di
> r/_ylc=3DX3oDMTI5MGx2aThyBF9TAzIxMTU1MDAzNTIEX3MDMzk2NTQ1MTAzBHN
> lYwNCQUJwaWxsYXJfTklfMzYwBHNsawNQcm9kdWN0X3F1ZXN0aW9uX3BhZ2U-?
> link=3Dlist&sid=3D396545469>from
> >     someone who knows.
> >     Yahoo! Answers - Check it out.=20
> >=20
> >=20
> >=20
> --------------------------------------------------------------
> ----------
> >=20
> > _______________________________________________
> > Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
> > This list is for NEW development of the core SIP Protocol
> > Use sip-implementors@cs.columbia.edu for questions on current sip
> > Use sipping@ietf.org for new developments on the application of sip
>=20


_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Thu Sep 13 13:39:11 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1IVseQ-0007bY-Qv; Thu, 13 Sep 2007 13:38:50 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1IVseO-0007bS-RR
	for sip-confirm+ok@megatron.ietf.org; Thu, 13 Sep 2007 13:38:48 -0400
Received: from [10.91.34.44] (helo=ietf-mx.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1IVseO-0007bK-Hc
	for sip@ietf.org; Thu, 13 Sep 2007 13:38:48 -0400
Received: from mail.gmx.net ([213.165.64.20])
	by ietf-mx.ietf.org with smtp (Exim 4.43) id 1IVseM-0002Rz-SQ
	for sip@ietf.org; Thu, 13 Sep 2007 13:38:48 -0400
Received: (qmail 10396 invoked by uid 0); 13 Sep 2007 17:38:45 -0000
Received: from 194.208.83.124 by www107.gmx.net with HTTP;
	Thu, 13 Sep 2007 19:38:45 +0200 (CEST)
Content-Type: multipart/mixed; boundary="========GMX174431189705124980912"
Date: Thu, 13 Sep 2007 19:38:44 +0200
From: "Guenther Sohler" <guenther.sohler@gmx.at>
Message-ID: <20070913173844.174430@gmx.net>
MIME-Version: 1.0
To: sip@ietf.org
X-Authenticated: #18210244
X-Flags: 0001
X-Mailer: WWW-Mail 6100 (Global Message Exchange)
X-Priority: 3
X-Provags-ID: V01U2FsdGVkX18KMttdiIEKLviz6FvDQ6s0W3yEBSN4d1jDcOLjmX
	T9IwVzqwray7Jckna1KR73ksnlN08HDWEW5Q== 
X-GMX-UID: lkzafhZwMmA6Iq+xfmBnvFQ5MjQ1N11/
X-Spam-Score: 0.0 (/)
X-Scan-Signature: 2a76bcd37b1c8a21336eb0a1ea6bbf48
Subject: [Sip] No RTP Data receiving
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

--========GMX174431189705124980912
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: 8bit

Dear Group!

I have been programming a state machine to register and call somebody(the test account of my sip provider)

But it does not send me RTP Data

Please find attached the log. Remarkable the proxy does send me the SIP 200 OK repeatedly. it seems it is not happy with my ACK Statement.

If i manually create udp packets with "nc -u" to  192.168.10.2 it works out!

I have got an internet connection with a small server which does nat to an internal network. in this internal network, there is a Hardware SIP Phone, which completely works, and my PC where i try to code this SIP Sample.

Can anybody inspect the log and tell me if there are errors.

Thank you in advance!




-- 
Der GMX SmartSurfer hilft bis zu 70% Ihrer Onlinekosten zu sparen! 
Ideal fr Modem und ISDN: http://www.gmx.net/de/go/smartsurfer

--========GMX174431189705124980912
Content-Type: application/octet-stream; name="log"
Content-Transfer-Encoding: base64
Content-Disposition: attachment; filename="log"

c3RhdGU9MApvcGVuIFVEUCBjb25uZWN0aW9uIQpzdGF0ZT0xClJlZ2lzdGVyIQooUkVHSVNURVIg
c2lwOnNpcGdhdGUuYXQ6NTA2MCBTSVAvMi4wDQpWaWE6IFNJUC8yLjAvVURQIDE5Mi4xNjguMTAu
Mjo1MDYwO2JyYW5jaD16OWhHNGJLXzAwMEZDOTAxNTU2Ql9UNTNDQkY1RTENCk1heC1Gb3J3YXJk
czogNzANCkZyb206IDxzaXA6MTczNDM2NUBzaXBnYXRlLmF0OjUwNjA+O3RhZz0wMDBGQzkwMTU1
NkJfVDIwODIzNzk0NjINClRvOiA8c2lwOjE3MzQzNjVAc2lwZ2F0ZS5hdDo1MDYwPg0KQ2FsbC1J
RDogUkVHSVNURVJfMDAwRkM5MDE1NTZCX1QxODkyMjYyOTg2QDE5Mi4xNjguMTAuMg0KQ1NlcTog
MTE4OTcwNDc1NiBSRUdJU1RFUg0KQ29udGFjdDogPHNpcDoxNzM0MzY1QDE5Mi4xNjguMTAuMjo1
MDYwPg0KRXhwaXJlczogMzYwMA0KVXNlci1BZ2VudDogQUxMNzk1MCAwMi4wOS4yMw0KQ29udGVu
dC1MZW5ndGg6IDANCg0KKVNJUC8yLjAgNDAxIFVuYXV0aG9yaXplZA0KVmlhOiBTSVAvMi4wL1VE
UCAxOTIuMTY4LjEwLjI6NTA2MDtycG9ydD0zMjc4NjtyZWNlaXZlZD0xOTQuMjA4LjgzLjEyNDti
cmFuY2g9ejloRzRiS18wMDBGQzkwMTU1NkJfVDUzQ0JGNUUxDQpGcm9tOiA8c2lwOjE3MzQzNjVA
c2lwZ2F0ZS5hdDo1MDYwPjt0YWc9MDAwRkM5MDE1NTZCX1QyMDgyMzc5NDYyDQpUbzogPHNpcDox
NzM0MzY1QHNpcGdhdGUuYXQ6NTA2MD47dGFnPWZlMTcyMTE0MWYwNWJkMzBkNGI1MGM3MGRhM2Fl
MjI4LjczOTUNCkNhbGwtSUQ6IFJFR0lTVEVSXzAwMEZDOTAxNTU2Ql9UMTg5MjI2Mjk4NkAxOTIu
MTY4LjEwLjINCkNTZXE6IDExODk3MDQ3NTYgUkVHSVNURVINCldXVy1BdXRoZW50aWNhdGU6IERp
Z2VzdCByZWFsbT0ic2lwZ2F0ZS5hdCIsIG5vbmNlPSI0NmU5NzRlOWNhYWIyOWU2NmZiMWRlZDMw
ZThkNDM5ZDIzNzAwOWQxIg0KQ29udGVudC1MZW5ndGg6IDANCg0KCnN0YXRlPTIKUmVnaXN0ZXIg
QVVUSCEKKFJFR0lTVEVSIHNpcDpzaXBnYXRlLmF0OjUwNjAgU0lQLzIuMA0KVmlhOiBTSVAvMi4w
L1VEUCAxOTIuMTY4LjEwLjI6NTA2MDticmFuY2g9ejloRzRiS18wMDBGQzkwMTU1NkJfVDUzQ0JG
NUUxDQpNYXgtRm9yd2FyZHM6IDcwDQpGcm9tOiA8c2lwOjE3MzQzNjVAc2lwZ2F0ZS5hdDo1MDYw
Pjt0YWc9MDAwRkM5MDE1NTZCX1QyMDgyMzc5NDYyDQpUbzogPHNpcDoxNzM0MzY1QHNpcGdhdGUu
YXQ6NTA2MD4NCkNhbGwtSUQ6IFJFR0lTVEVSXzAwMEZDOTAxNTU2Ql9UMTg5MjI2Mjk4NkAxOTIu
MTY4LjEwLjINCkNTZXE6IDExODk3MDQ3NTYgUkVHSVNURVINCkNvbnRhY3Q6IDxzaXA6MTczNDM2
NUAxOTIuMTY4LjEwLjI6NTA2MD4NCkV4cGlyZXM6IDM2MDANClVzZXItQWdlbnQ6IEFMTDc5NTAg
MDIuMDkuMjMNCkF1dGhvcml6YXRpb246IERpZ2VzdCB1c2VybmFtZT0iMTczNDM2NSIsIHJlYWxt
PSJzaXBnYXRlLmF0Iiwgbm9uY2U9IjQ2ZTk3NGU5Y2FhYjI5ZTY2ZmIxZGVkMzBlOGQ0MzlkMjM3
MDA5ZDEiLCBhbGdvcml0aG09bWQ1LCBvcGFxdWU9IiIsIHVyaT0ic2lwOnNpcGdhdGUuYXQ6NTA2
MCIsIHJlc3BvbnNlPSIxMjU3OGJmZTI0YTg1YzQyMTIzMWU3MTlkMjNjNTc3ZCINCkNvbnRlbnQt
TGVuZ3RoOiAwDQoNCilTSVAvMi4wIDIwMCBPSw0KVmlhOiBTSVAvMi4wL1VEUCAxOTIuMTY4LjEw
LjI6NTA2MDtycG9ydD0zMjc4NjtyZWNlaXZlZD0xOTQuMjA4LjgzLjEyNDticmFuY2g9ejloRzRi
S18wMDBGQzkwMTU1NkJfVDUzQ0JGNUUxDQpGcm9tOiA8c2lwOjE3MzQzNjVAc2lwZ2F0ZS5hdDo1
MDYwPjt0YWc9MDAwRkM5MDE1NTZCX1QyMDgyMzc5NDYyDQpUbzogPHNpcDoxNzM0MzY1QHNpcGdh
dGUuYXQ6NTA2MD47dGFnPWZlMTcyMTE0MWYwNWJkMzBkNGI1MGM3MGRhM2FlMjI4LjczOTUNCkNh
bGwtSUQ6IFJFR0lTVEVSXzAwMEZDOTAxNTU2Ql9UMTg5MjI2Mjk4NkAxOTIuMTY4LjEwLjINCkNT
ZXE6IDExODk3MDQ3NTYgUkVHSVNURVINCkNvbnRhY3Q6IDxzaXA6MTczNDM2NUAxOTIuMTY4LjEw
LjI6NTA2MD47ZXhwaXJlcz0zNjAwO3JlY2VpdmVkPSJzaXA6MTk0LjIwOC44My4xMjQ6MzI3ODYi
DQpDb250ZW50LUxlbmd0aDogMA0KDQoKc3RhdGU9MwpXaWxsIGNhbGwgaW4gMiBzZWNvbmRzIQpz
dGF0ZT00CnN0YXRlPTUKKElOVklURSBzaXA6MTAwMDVAc2lwZ2F0ZS5hdDo1MDYwIFNJUC8yLjAN
ClZpYTogU0lQLzIuMC9VRFAgMTkyLjE2OC4xMC4yOjUwNjANClNlc3Npb24tRXhwaXJlczogMTgw
MA0KRnJvbTogIjE3MzQzNjUiIDxzaXA6MTczNDM2NUBzaXBnYXRlLmF0OjUwNjA+O3RhZz0wMDBG
QzkwMTU1NkJfVDE4NzIyMTEyOA0KVG86IDxzaXA6MTAwMDVAc2lwZ2F0ZS5hdDo1MDYwPg0KQ2Fs
bC1JRDogQ0FMTF9JRDFfMDAwRkM5MDE1NTZCX1QxMzU1NDgxOTcxQDE5Mi4xNjguMTAuMg0KQ1Nl
cTogMTE4OTcwNDc1OCBJTlZJVEUNCkNvbnRhY3Q6IDxzaXA6MTczNDM2NUAxOTIuMTY4LjEwLjI6
NTA2MD4NCk1heC1Gb3J3YXJkczogNzANCkFsbG93OiBBQ0ssQllFLENBTkNFTCxJTlZJVEUsTk9U
SUZZLFJFRkVSLERPLFVQREFURSxPUFRJT05TLFNVQlNDUklCRSxQUkFDSyxJTkZPDQpTdXBwb3J0
ZWQ6IDEwMHJlbCx0aW1lcixyZXBsYWNlcw0KVXNlci1BZ2VudDogQUxMNzk1MCAwMi4wOS4yMw0K
Q29udGVudC1UeXBlOiBhcHBsaWNhdGlvbi9zZHANCkNvbnRlbnQtTGVuZ3RoOiAxNjYNCg0Kdj0w
DQpvPTE3MzQzNjUgMjc0NDEzOTQ1IDI3NDQxMzk0NSBJTiBJUDQgMTkyLjE2OC4xMC4yDQpzPUFM
TDc5NTAgMDIuMDkuMjMNCmM9SU4gSVA0IDE5Mi4xNjguMTAuMg0KdD0wIDANCm09YXVkaW8gMjM5
NCBSVFAvQVZQIDANCmE9cnRwbWFwOjAgUENNVS84MDAwLzENCmE9c2VuZHJlY3YNCilTSVAvMi4w
IDQwNyBQcm94eSBBdXRoZW50aWNhdGlvbiBSZXF1aXJlZA0KVmlhOiBTSVAvMi4wL1VEUCAxOTIu
MTY4LjEwLjI6NTA2MDtycG9ydD0zMjc4NjtyZWNlaXZlZD0xOTQuMjA4LjgzLjEyNA0KRnJvbTog
IjE3MzQzNjUiIDxzaXA6MTczNDM2NUBzaXBnYXRlLmF0OjUwNjA+O3RhZz0wMDBGQzkwMTU1NkJf
VDE4NzIyMTEyOA0KVG86IDxzaXA6MTAwMDVAc2lwZ2F0ZS5hdDo1MDYwPjt0YWc9ZTYzMTIxODZi
ZDVjMmViNDU3MWY2NTUwMjQzY2ZhY2MuNDQyYw0KQ2FsbC1JRDogQ0FMTF9JRDFfMDAwRkM5MDE1
NTZCX1QxMzU1NDgxOTcxQDE5Mi4xNjguMTAuMg0KQ1NlcTogMTE4OTcwNDc1OCBJTlZJVEUNClBy
b3h5LUF1dGhlbnRpY2F0ZTogRGlnZXN0IHJlYWxtPSJzaXBnYXRlLmF0Iiwgbm9uY2U9IjQ2ZTk3
NGViMmM1YzU1ZDVkYTEyMzExMmI1MWRkYmNhNzY4NTAxN2QiDQpDb250ZW50LUxlbmd0aDogMA0K
DQoKc3RhdGU9NgooQUNLIHNpcDoxMDAwNUBzaXBnYXRlLmF0OjUwNjAgU0lQLzIuMA0KVmlhOiBT
SVAvMi4wL1VEUCAxOTIuMTY4LjEwLjI6NTA2MA0KRnJvbTogIjE3MzQzNjUiIDxzaXA6MTczNDM2
NUBzaXBnYXRlLmF0OjUwNjA+O3RhZz0wMDBGQzkwMTU1NkJfVDE4NzIyMTEyOA0KVG86IDxzaXA6
MTAwMDVAc2lwZ2F0ZS5hdDo1MDYwPg0KQ2FsbC1JRDogQ0FMTF9JRDFfMDAwRkM5MDE1NTZCX1Qx
MzU1NDgxOTcxQDE5Mi4xNjguMTAuMg0KQ1NlcTogMTE4OTcwNDc1OCBBQ0sNClVzZXItQWdlbnQ6
IEFMTDc5NTAgMDIuMDkuMjMNCkNvbnRhY3Q6IDxzaXA6MTczNDM2NUAxOTIuMTY4LjEwLjI6NTA2
MD4NCk1heC1Gb3J3YXJkczogNzANCkNvbnRlbnQtTGVuZ3RoOiAwDQoNCilzdGF0ZT03Ckludml0
ZSBBVVRIIQooSU5WSVRFIHNpcDoxMDAwNUBzaXBnYXRlLmF0OjUwNjAgU0lQLzIuMA0KVmlhOiBT
SVAvMi4wL1VEUCAxOTIuMTY4LjEwLjI6NTA2MA0KU2Vzc2lvbi1FeHBpcmVzOiAxODAwDQpGcm9t
OiAiMTczNDM2NSIgPHNpcDoxNzM0MzY1QHNpcGdhdGUuYXQ6NTA2MD47dGFnPTAwMEZDOTAxNTU2
Ql9UMTg3MjIxMTI4DQpUbzogPHNpcDoxMDAwNUBzaXBnYXRlLmF0OjUwNjA+DQpDYWxsLUlEOiBD
QUxMX0lEMV8wMDBGQzkwMTU1NkJfVDEzNTU0ODE5NzFAMTkyLjE2OC4xMC4yDQpDU2VxOiAxMTg5
NzA0NzU4IElOVklURQ0KQ29udGFjdDogPHNpcDoxNzM0MzY1QDE5Mi4xNjguMTAuMjo1MDYwPg0K
TWF4LUZvcndhcmRzOiA3MA0KQWxsb3c6IEFDSyxCWUUsQ0FOQ0VMLElOVklURSxOT1RJRlksUkVG
RVIsRE8sVVBEQVRFLE9QVElPTlMsU1VCU0NSSUJFLFBSQUNLLElORk8NClN1cHBvcnRlZDogMTAw
cmVsLHRpbWVyLHJlcGxhY2VzDQpVc2VyLUFnZW50OiBBTEw3OTUwIDAyLjA5LjIzDQpQcm94eS1B
dXRob3JpemF0aW9uOiBEaWdlc3QgdXNlcm5hbWU9IjE3MzQzNjUiLCByZWFsbT0ic2lwZ2F0ZS5h
dCIsIG5vbmNlPSI0NmU5NzRlYjJjNWM1NWQ1ZGExMjMxMTJiNTFkZGJjYTc2ODUwMTdkIiwgYWxn
b3JpdGhtPW1kNSwgb3BhcXVlPSIiLCB1cmk9InNpcDpzaXBnYXRlLmF0OjUwNjAiLCByZXNwb25z
ZT0iZTBhNjU3ZDkyNGZiMzE2NmU5M2YxOTVhYjQwMWE1MTciDQpDb250ZW50LVR5cGU6IGFwcGxp
Y2F0aW9uL3NkcA0KQ29udGVudC1MZW5ndGg6IDE2Ng0KDQp2PTANCm89MTczNDM2NSAyNzQ0MTM5
NDUgMjc0NDEzOTQ1IElOIElQNCAxOTIuMTY4LjEwLjINCnM9QUxMNzk1MCAwMi4wOS4yMw0KYz1J
TiBJUDQgMTkyLjE2OC4xMC4yDQp0PTAgMA0KbT1hdWRpbyAyMzk0IFJUUC9BVlAgMA0KYT1ydHBt
YXA6MCBQQ01VLzgwMDAvMQ0KYT1zZW5kcmVjdg0KKVNJUC8yLjAgMTAwIEdpdmluZyBhIHRyeQ0K
VmlhOiBTSVAvMi4wL1VEUCAxOTIuMTY4LjEwLjI6NTA2MDtycG9ydD0zMjc4NjtyZWNlaXZlZD0x
OTQuMjA4LjgzLjEyNA0KRnJvbTogIjE3MzQzNjUiIDxzaXA6MTczNDM2NUBzaXBnYXRlLmF0OjUw
NjA+O3RhZz0wMDBGQzkwMTU1NkJfVDE4NzIyMTEyOA0KVG86IDxzaXA6MTAwMDVAc2lwZ2F0ZS5h
dDo1MDYwPg0KQ2FsbC1JRDogQ0FMTF9JRDFfMDAwRkM5MDE1NTZCX1QxMzU1NDgxOTcxQDE5Mi4x
NjguMTAuMg0KQ1NlcTogMTE4OTcwNDc1OCBJTlZJVEUNCkNvbnRlbnQtTGVuZ3RoOiAwDQoNCgpT
SVAvMi4wIDIwMCBPSw0KVmlhOiBTSVAvMi4wL1VEUCAxOTIuMTY4LjEwLjI6NTA2MDtycG9ydD0z
Mjc4NjtyZWNlaXZlZD0xOTQuMjA4LjgzLjEyNA0KUmVjb3JkLVJvdXRlOiA8c2lwOjE3Mi4yMC40
MC4xO2xyPW9uPg0KUmVjb3JkLVJvdXRlOiA8c2lwOjIxNy4xMTYuMTE5LjI1Mjtscj1vbjtmdGFn
PTAwMEZDOTAxNTU2Ql9UMTg3MjIxMTI4Pg0KRnJvbTogIjE3MzQzNjUiIDxzaXA6MTczNDM2NUBz
aXBnYXRlLmF0OjUwNjA+O3RhZz0wMDBGQzkwMTU1NkJfVDE4NzIyMTEyOA0KVG86IDxzaXA6MTAw
MDVAc2lwZ2F0ZS5hdDo1MDYwPjt0YWc9YXM2Zjg2ZDYxZA0KQ2FsbC1JRDogQ0FMTF9JRDFfMDAw
RkM5MDE1NTZCX1QxMzU1NDgxOTcxQDE5Mi4xNjguMTAuMg0KQ1NlcTogMTE4OTcwNDc1OCBJTlZJ
VEUNCkFsbG93OiBJTlZJVEUsIEFDSywgQ0FOQ0VMLCBPUFRJT05TLCBCWUUsIFJFRkVSLCBTVUJT
Q1JJQkUsIE5PVElGWQ0KU3VwcG9ydGVkOiByZXBsYWNlcw0KQ29udGFjdDogPHNpcDoxMDAwNUAy
MTcuMTAuNzkuMzA+DQpDb250ZW50LVR5cGU6IGFwcGxpY2F0aW9uL3NkcA0KQ29udGVudC1MZW5n
dGg6IDI1OA0KDQp2PTANCm89cm9vdCAyNTYxNyAyNTYxNyBJTiBJUDQgMjE3LjEwLjc5LjMwDQpz
PXNlc3Npb24NCmM9SU4gSVA0IDIxNy4xMC42OC43Mw0KdD0wIDANCm09YXVkaW8gNTk3NjAgUlRQ
L0FWUCAwIDEwMQ0KYT1ydHBtYXA6MCBQQ01VLzgwMDANCmE9cnRwbWFwOjEwMSB0ZWxlcGhvbmUt
ZXZlbnQvODAwMA0KYT1mbXRwOjEwMSAwLTE2DQphPXNpbGVuY2VTdXBwOm9mZiAtIC0gLSAtDQph
PQphClNlbmRpbmcgdG8gMjE3LjEwLjc5LjMwIDU5NzYwCnN0YXRlPTgKKEFDSyBzaXA6MTAwMDVA
MjE3LjEwLjc5LjMwIFNJUC8yLjANClZpYTogU0lQLzIuMC9VRFAgMTkyLjE2OC4xMC4yOjUwNjAN
CkZyb206ICIxNzM0MzY1IiA8c2lwOjE3MzQzNjVAc2lwZ2F0ZS5hdDo1MDYwPg0KVG86IDxzaXA6
MTAwMDVAc2lwZ2F0ZS5hdDo1MDYwPg0KQ2FsbC1JRDogQ0FMTF9JRDVfMDAwRkM5MDE1NTZCX1Qy
OTQ2Mjc0NzFAMTkyLjE2OC4xMC4yDQpDU2VxOiAxMTg5NzA0NzU4IEFDSw0KVXNlci1BZ2VudDog
QUxMNzk1MCAwMi4wOS4yMw0KQ29udGFjdDogPHNpcDoxNzM0MzY1QDE5Mi4xNjguMTAuMjo1MDYw
Pg0KTWF4LUZvcndhcmRzOiA3MA0KQ29udGVudC1MZW5ndGg6IDANCilzdGF0ZT05ClNJUC8yLjAg
MjAwIE9LDQpWaWE6IFNJUC8yLjAvVURQIDE5Mi4xNjguMTAuMjo1MDYwO3Jwb3J0PTMyNzg2O3Jl
Y2VpdmVkPTE5NC4yMDguODMuMTI0DQpSZWNvcmQtUm91dGU6IDxzaXA6MTcyLjIwLjQwLjE7bHI9
b24+DQpSZWNvcmQtUm91dGU6IDxzaXA6MjE3LjExNi4xMTkuMjUyO2xyPW9uO2Z0YWc9MDAwRkM5
MDE1NTZCX1QxODcyMjExMjg+DQpGcm9tOiAiMTczNDM2NSIgPHNpcDoxNzM0MzY1QHNpcGdhdGUu
YXQ6NTA2MD47dGFnPTAwMEZDOTAxNTU2Ql9UMTg3MjIxMTI4DQpUbzogPHNpcDoxMDAwNUBzaXBn
YXRlLmF0OjUwNjA+O3RhZz1hczZmODZkNjFkDQpDYWxsLUlEOiBDQUxMX0lEMV8wMDBGQzkwMTU1
NkJfVDEzNTU0ODE5NzFAMTkyLjE2OC4xMC4yDQpDU2VxOiAxMTg5NzA0NzU4IElOVklURQ0KQWxs
b3c6IElOVklURSwgQUNLLCBDQU5DRUwsIE9QVElPTlMsIEJZRSwgUkVGRVIsIFNVQlNDUklCRSwg
Tk9USUZZDQpTdXBwb3J0ZWQ6IHJlcGxhY2VzDQpDb250YWN0OiA8c2lwOjEwMDA1QDIxNy4xMC43
OS4zMD4NCkNvbnRlbnQtVHlwZTogYXBwbGljYXRpb24vc2RwDQpDb250ZW50LUxlbmd0aDogMjU4
DQoNCnY9MA0Kbz1yb290IDI1NjE3IDI1NjE3IElOIElQNCAyMTcuMTAuNzkuMzANCnM9c2Vzc2lv
bg0KYz1JTiBJUDQgMjE3LjEwLjY4LjczDQp0PTAgMA0KbT1hdWRpbyA1OTc2MCBSVFAvQVZQIDAg
MTAxDQphPXJ0cG1hcDowIFBDTVUvODAwMA0KYT1ydHBtYXA6MTAxIHRlbGVwaG9uZS1ldmVudC84
MDAwDQphPWZtdHA6MTAxIDAtMTYNCmE9c2lsZW5jZVN1cHA6b2ZmIC0gLSAtIC0NCmE9CgpTSVAv
Mi4wIDIwMCBPSw0KVmlhOiBTSVAvMi4wL1VEUCAxOTIuMTY4LjEwLjI6NTA2MDtycG9ydD0zMjc4
NjtyZWNlaXZlZD0xOTQuMjA4LjgzLjEyNA0KUmVjb3JkLVJvdXRlOiA8c2lwOjE3Mi4yMC40MC4x
O2xyPW9uPg0KUmVjb3JkLVJvdXRlOiA8c2lwOjIxNy4xMTYuMTE5LjI1Mjtscj1vbjtmdGFnPTAw
MEZDOTAxNTU2Ql9UMTg3MjIxMTI4Pg0KRnJvbTogIjE3MzQzNjUiIDxzaXA6MTczNDM2NUBzaXBn
YXRlLmF0OjUwNjA+O3RhZz0wMDBGQzkwMTU1NkJfVDE4NzIyMTEyOA0KVG86IDxzaXA6MTAwMDVA
c2lwZ2F0ZS5hdDo1MDYwPjt0YWc9YXM2Zjg2ZDYxZA0KQ2FsbC1JRDogQ0FMTF9JRDFfMDAwRkM5
MDE1NTZCX1QxMzU1NDgxOTcxQDE5Mi4xNjguMTAuMg0KQ1NlcTogMTE4OTcwNDc1OCBJTlZJVEUN
CkFsbG93OiBJTlZJVEUsIEFDSywgQ0FOQ0VMLCBPUFRJT05TLCBCWUUsIFJFRkVSLCBTVUJTQ1JJ
QkUsIE5PVElGWQ0KU3VwcG9ydGVkOiByZXBsYWNlcw0KQ29udGFjdDogPHNpcDoxMDAwNUAyMTcu
MTAuNzkuMzA+DQpDb250ZW50LVR5cGU6IGFwcGxpY2F0aW9uL3NkcA0KQ29udGVudC1MZW5ndGg6
IDI1OA0KDQp2PTANCm89cm9vdCAyNTYxNyAyNTYxNyBJTiBJUDQgMjE3LjEwLjc5LjMwDQpzPXNl
c3Npb24NCmM9SU4gSVA0IDIxNy4xMC42OC43Mw0KdD0wIDANCm09YXVkaW8gNTk3NjAgUlRQL0FW
UCAwIDEwMQ0KYT1ydHBtYXA6MCBQQ01VLzgwMDANCmE9cnRwbWFwOjEwMSB0ZWxlcGhvbmUtZXZl
bnQvODAwMA0KYT1mbXRwOjEwMSAwLTE2DQphPXNpbGVuY2VTdXBwOm9mZiAtIC0gLSAtDQphPQIK
U0lQLzIuMCAyMDAgT0sNClZpYTogU0lQLzIuMC9VRFAgMTkyLjE2OC4xMC4yOjUwNjA7cnBvcnQ9
MzI3ODY7cmVjZWl2ZWQ9MTk0LjIwOC44My4xMjQNClJlY29yZC1Sb3V0ZTogPHNpcDoxNzIuMjAu
NDAuMTtscj1vbj4NClJlY29yZC1Sb3V0ZTogPHNpcDoyMTcuMTE2LjExOS4yNTI7bHI9b247ZnRh
Zz0wMDBGQzkwMTU1NkJfVDE4NzIyMTEyOD4NCkZyb206ICIxNzM0MzY1IiA8c2lwOjE3MzQzNjVA
c2lwZ2F0ZS5hdDo1MDYwPjt0YWc9MDAwRkM5MDE1NTZCX1QxODcyMjExMjgNClRvOiA8c2lwOjEw
MDA1QHNpcGdhdGUuYXQ6NTA2MD47dGFnPWFzNmY4NmQ2MWQNCkNhbGwtSUQ6IENBTExfSUQxXzAw
MEZDOTAxNTU2Ql9UMTM1NTQ4MTk3MUAxOTIuMTY4LjEwLjINCkNTZXE6IDExODk3MDQ3NTggSU5W
SVRFDQpBbGxvdzogSU5WSVRFLCBBQ0ssIENBTkNFTCwgT1BUSU9OUyw=
--========GMX174431189705124980912
Content-Type: text/plain; charset="us-ascii"
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip
--========GMX174431189705124980912--





From sip-bounces@ietf.org Thu Sep 13 17:04:16 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1IVvqz-0006hp-2L; Thu, 13 Sep 2007 17:04:01 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1IVvqx-0006ga-Lv
	for sip-confirm+ok@megatron.ietf.org; Thu, 13 Sep 2007 17:03:59 -0400
Received: from [10.91.34.44] (helo=ietf-mx.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1IVvqx-0006gR-Bs
	for sip@ietf.org; Thu, 13 Sep 2007 17:03:59 -0400
Received: from nostrum-pt.tunnel.tserv2.fmt.ipv6.he.net
	([2001:470:1f03:267::2] helo=nostrum.com)
	by ietf-mx.ietf.org with esmtp (Exim 4.43) id 1IVvqw-0007bi-OG
	for sip@ietf.org; Thu, 13 Sep 2007 17:03:59 -0400
Received: from [172.17.1.65] (vicuna-alt.estacado.net [75.53.54.121])
	(authenticated bits=0)
	by nostrum.com (8.14.1/8.14.1) with ESMTP id l8DL3bo8030748
	(version=TLSv1/SSLv3 cipher=AES128-SHA bits=128 verify=NO)
	for <sip@ietf.org>; Thu, 13 Sep 2007 16:03:53 -0500 (CDT)
	(envelope-from rjsparks@nostrum.com)
Mime-Version: 1.0 (Apple Message framework v752.3)
In-Reply-To: <456B9FDA-0E25-4257-B946-FE5291216F0C@nostrum.com>
References: <456B9FDA-0E25-4257-B946-FE5291216F0C@nostrum.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <6FB85547-98DA-4253-B3D2-EC6A747D67E7@nostrum.com>
Content-Transfer-Encoding: 7bit
From: Robert Sparks <rjsparks@nostrum.com>
Subject: Re: [Sip] SIPit 21 registration is open.
Date: Thu, 13 Sep 2007 16:03:52 -0500
To: IETF SIP List <sip@ietf.org>
X-Mailer: Apple Mail (2.752.3)
Received-SPF: pass (nostrum.com: 75.53.54.121 is authenticated by a trusted
	mechanism)
X-Virus-Scanned: ClamAV 0.91.2/4264/Thu Sep 13 01:06:05 2007 on
	shaman.nostrum.com
X-Virus-Status: Clean
X-Spam-Score: -1.4 (-)
X-Scan-Signature: ea4ac80f790299f943f0a53be7e1a21a
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

This is a reminder that registration for SIPit 21 is open and the  
event is rapidly filling.

If you're planning to attend, please remember to obtain your entry  
visa to China early!

RjS

On Aug 20, 2007, at 5:31 PM, Robert Sparks wrote:

> SIPit 21 will take place November 5 through 9, 2007 in Beijing, China.
>
> The event will be hosted by the BII Group and the Beijing  
> University of Posts and Telecommunications.
>
> Registration will be $575 US Dollars per participant.
>
> See http://www.sipit.net for more information and to register.
>
> See you in Beijing!
>
> RjS
>
>
> _______________________________________________
> Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip



_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Fri Sep 14 03:14:45 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1IW5Nw-00022O-U9; Fri, 14 Sep 2007 03:14:40 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1IW5Nv-0001sk-4C
	for sip-confirm+ok@megatron.ietf.org; Fri, 14 Sep 2007 03:14:39 -0400
Received: from [10.91.34.44] (helo=ietf-mx.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1IW5Nu-0001sc-QX
	for sip@ietf.org; Fri, 14 Sep 2007 03:14:38 -0400
Received: from smail5.alcatel.fr ([62.23.212.27])
	by ietf-mx.ietf.org with esmtp (Exim 4.43) id 1IW5Nt-00048P-B2
	for sip@ietf.org; Fri, 14 Sep 2007 03:14:38 -0400
Received: from FRVELSBHS07.ad2.ad.alcatel.com (frvelsbhs07.ad2.ad.alcatel.com
	[155.132.6.79])
	by smail5.alcatel.fr (8.13.4/8.13.4/ICT) with ESMTP id l8E7DrwQ023901; 
	Fri, 14 Sep 2007 09:13:58 +0200
Received: from FRVELSMBS22.ad2.ad.alcatel.com ([155.132.6.56]) by
	FRVELSBHS07.ad2.ad.alcatel.com with Microsoft
	SMTPSVC(6.0.3790.2499); Fri, 14 Sep 2007 09:13:28 +0200
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: RE: [Sip] No RTP Data receiving
Date: Fri, 14 Sep 2007 09:13:27 +0200
Message-ID: <7A6D4815C5E8F74988784FEBD50F2F1EA47E41@FRVELSMBS22.ad2.ad.alcatel.com>
In-Reply-To: <20070913173844.174430@gmx.net>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] No RTP Data receiving
thread-index: Acf2LRWxci+x5VavT9q+iLbX5dR4jAAcWfsg
References: <20070913173844.174430@gmx.net>
From: "STAELENS Nadine" <nadine.staelens@alcatel-lucent.be>
To: "Guenther Sohler" <guenther.sohler@gmx.at>, <sip@ietf.org>
X-OriginalArrivalTime: 14 Sep 2007 07:13:28.0030 (UTC)
	FILETIME=[BF6E6FE0:01C7F69E]
X-Scanned-By: MIMEDefang 2.51 on 155.132.188.13
X-Spam-Score: 0.0 (/)
X-Scan-Signature: 9ed51c9d1356100bce94f1ae4ec616a9
Cc: 
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

Hi,

This is a question for the sip-implementors list.

Have a look at your Call-Id in the ACK!

Regards,
  Nadine.

-----Original Message-----
From: Guenther Sohler [mailto:guenther.sohler@gmx.at]=20
Sent: donderdag 13 september 2007 19:39
To: sip@ietf.org
Subject: [Sip] No RTP Data receiving

Dear Group!

I have been programming a state machine to register and call =
somebody(the test account of my sip provider)

But it does not send me RTP Data

Please find attached the log. Remarkable the proxy does send me the SIP =
200 OK repeatedly. it seems it is not happy with my ACK Statement.

If i manually create udp packets with "nc -u" to  192.168.10.2 it works =
out!

I have got an internet connection with a small server which does nat to =
an internal network. in this internal network, there is a Hardware SIP =
Phone, which completely works, and my PC where i try to code this SIP =
Sample.

Can anybody inspect the log and tell me if there are errors.

Thank you in advance!




--
Der GMX SmartSurfer hilft bis zu 70% Ihrer Onlinekosten zu sparen!=20
Ideal f=FCr Modem und ISDN: http://www.gmx.net/de/go/smartsurfer


_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Tue Sep 18 11:12:21 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1IXeej-0001bK-4k; Tue, 18 Sep 2007 11:06:29 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1IXeei-0001b7-3m
	for sip-confirm+ok@megatron.ietf.org; Tue, 18 Sep 2007 11:06:28 -0400
Received: from [10.90.34.44] (helo=chiedprmail1.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1IXeeh-0001Up-OZ
	for sip@ietf.org; Tue, 18 Sep 2007 11:06:27 -0400
Received: from sccrmhc15.comcast.net ([63.240.77.85])
	by chiedprmail1.ietf.org with esmtp (Exim 4.43) id 1IXeeX-0005JK-83
	for sip@ietf.org; Tue, 18 Sep 2007 11:06:17 -0400
Received: from dragon.ariadne.com (dworley.hsd1.ma.comcast.net[24.34.79.42])
	by comcast.net (sccrmhc15) with ESMTP
	id <200709181506160150065aave>; Tue, 18 Sep 2007 15:06:16 +0000
Received: from dragon.ariadne.com (dragon.ariadne.com [127.0.0.1])
	by dragon.ariadne.com (8.12.8/8.12.8) with ESMTP id l8IF6G4p007757;
	Tue, 18 Sep 2007 11:06:16 -0400
Received: (from worley@localhost)
	by dragon.ariadne.com (8.12.8/8.12.8/Submit) id l8IF6Bmp007748;
	Tue, 18 Sep 2007 11:06:11 -0400
Date: Tue, 18 Sep 2007 11:06:11 -0400
Message-Id: <200709181506.l8IF6Bmp007748@dragon.ariadne.com>
To: sip@ietf.org, aki.niemi@nokia.com
From: Dale.Worley@comcast.net
In-reply-to: <5D1A7985295922448D5550C94DE2918001636AF1@DEEXC1U01.de.lucent.com>
	(drage@alcatel-lucent.com)
Subject: Re: [Sip] WGLC for draft-ietf-sip-subnot-etags-01
References: <5D1A7985295922448D5550C94DE2918001636AF1@DEEXC1U01.de.lucent.com>
X-Spam-Score: 0.0 (/)
X-Scan-Signature: e1b0e72ff1bbd457ceef31828f216a86
Cc: 
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

   From: "DRAGE, Keith \(Keith\)" <drage@alcatel-lucent.com>

   This is to announce a Working Group Last Call for 

   http://www.ietf.org/internet-drafts/draft-ietf-sip-subnot-etags-01.txt

Comments on draft-ietf-sip-subnot-etags-01.

Overall, a very well-written document!

I have one technical issue (which is probably insoluble and can only
be documented) and a number of nits.

* Section 4 specifies that a resource is identified by one or more
URIs.  It seems to be implicit that one URI always identifies the same
resource.  Without that, it would be difficult to use ETags
effectively, since ETags are only unique for a single resource.

In the general case, the mapping from URIs to resources involves the
full complexity of SIP routing.  This means that without additional
information, the subscriber does not know that request-URI that it
uses always maps into the same resource URI, and so has no absolute
guarantee that the space of ETags it is working with does not change
over time.

One assumes that all SUBSCRIBEs within a subscription are routed to
the same destination URI because the refresh SUBSCRIBEs are sent using
the route-set and contact.  But a "resumed" subscription does not have
this protection.

It is not clear that there is any solution to these problems, and we
may only be able to document that the subscriber is responsible for
assuring that successive subscription requests are delivered to the
same resource.

* Section 3 contains the line:

   notification, and attaches includes it in a SIP-ETag header field of

The words "attaches includes" seem to be incorrect.  Perhaps only
"includes" was intended?

* In section 3, it is emphasized that ETags are only unique "for a
resource and event package".  Checking RFC 3265, "event-package"
explicitly excludes any parameters attached to the event package name
in the "Event" header.

* Section 3 and other sections contain examples of SUBSCRIBE requests
which receive a 202 response.  It may be worth mentioning that 200
responses are also possible (if the notifier can determine without
delay that the request is authorized).

* Section 5.2 contains the statement:

   Unlike the condition introduced for the SIP PUBLISH [1] method, these
   conditions do not apply to the SUBSCRIBE request itself, but to the
   resulting NOTIFY request.

This is not strictly true, as success of the Suppress-Notify-If-Match
condition causes the SUBSCRIBE to receive a 204 response.
  
* Section 5.3 states:

   When a subscriber receives a NOTIFY request that contains a SIP-ETag
   header field, it MUST store the entity-tag.

This seems to be an awkward description.  The subscriber only needs to
store the entity-tag if it wishes to avail itself of the subnot-etags
mechanism later.  I think it would be clearer to say something like:

   In order for a subscriber to use this mechanism, when it receives a
   NOTIFY request that contains a SIP-ETag header field, it must store
   the entity-tag for later use.

* Section 5.7 shows a subscription being terminated:

          Subscriber                               Notifier
          ----------                               --------

          (1) SUBSCRIBE       -------->
              Suppress-Notify-If-Match: ega23
              Expires: 0

But it seems to me that most subscribers will only terminate a
subscription when they are no longer interested in the state of the
resource, and so it would be more straightforward to use "*" to ensure
that they do not receive a NOTIFY that they are not interested in:

          (1) SUBSCRIBE       -------->
              Suppress-Notify-If-Match: *
              Expires: 0

* In sections 7.2 and 7.3, "it's" is used where "its" should be used.
(That is one of the irregularities of English -- "it's" is reserved as
the contraction of "it is".)

   This header field is allowed to appear in any request, but [its]
   behavior is only defined for the SUBSCRIBE request.

Dale


_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Tue Sep 18 14:47:17 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1IXi0w-00052G-Hg; Tue, 18 Sep 2007 14:41:38 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1IXi0u-0004zL-M3
	for sip-confirm+ok@megatron.ietf.org; Tue, 18 Sep 2007 14:41:36 -0400
Received: from [10.91.34.44] (helo=ietf-mx.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1IXi0t-0004yk-Pa
	for sip@ietf.org; Tue, 18 Sep 2007 14:41:36 -0400
Received: from ihemail1.lucent.com ([135.245.0.33])
	by ietf-mx.ietf.org with esmtp (Exim 4.43) id 1IXi0m-0006dc-Pe
	for sip@ietf.org; Tue, 18 Sep 2007 14:41:35 -0400
Received: from ilexp03.ndc.lucent.com (h135-3-39-50.lucent.com [135.3.39.50])
	by ihemail1.lucent.com (8.13.8/IER-o) with ESMTP id l8IIf9Qe009535
	for <sip@ietf.org>; Tue, 18 Sep 2007 13:41:28 -0500 (CDT)
Received: from DEEXP01.de.lucent.com ([135.248.187.65]) by
	ilexp03.ndc.lucent.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Tue, 18 Sep 2007 13:41:27 -0500
Received: from DEEXC1U01.de.lucent.com ([135.248.187.27]) by
	DEEXP01.de.lucent.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Tue, 18 Sep 2007 20:41:25 +0200
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Date: Tue, 18 Sep 2007 20:41:23 +0200
Message-ID: <5D1A7985295922448D5550C94DE29180016B8DDA@DEEXC1U01.de.lucent.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: DTLS-SRTP - more work for the SIP group
Thread-Index: Acf6I4MrWDTcLlO+SJSadDEjUFPpiA==
From: "DRAGE, Keith \(Keith\)" <drage@alcatel-lucent.com>
To: <sip@ietf.org>
X-OriginalArrivalTime: 18 Sep 2007 18:41:25.0013 (UTC)
	FILETIME=[84153450:01C7FA23]
X-Scanned-By: MIMEDefang 2.57 on 135.245.2.33
X-Spam-Score: 0.0 (/)
X-Scan-Signature: b4a0a5f5992e2a4954405484e7717d8c
Subject: [Sip] DTLS-SRTP - more work for the SIP group
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

(As WG co-chair)

You may remember that some time ago some work was identified that
crossed multiple working groups in the RAI area on the above subject.
Cullen took this ball away and played with it in a RAI BOF and there
came to some consensus on the way forward and what documentation was
required.

However we now need to put that work through real working groups to get
it to IESG so we are reallocating it to working groups.

I have requested milestones as follows:

Sep 2007	Requirements for media keying to WGLC (Informational)
Nov 2007	Requirements for media keying to IESG (Informational)

This will be WG milestones in support of progressing
http://www.ietf.org/internet-drafts/draft-wing-media-security-requiremen
ts-04.txt
And incorporating
draft-wing-rtpsec-keying-eval

This charter item will essentially be a discussion of how we got where
we are now. It is therefore not the most earthshattering document, but
it has been considered valuable to retain some permanent record and an
informational RFC is the way to do this.

Dec 2007	Establishment of secure media sessions using DTLS-SRTP
to WGLC (PS)
Feb 2008	Establishment of secure media sessions using DTLS-SRTP
to IESG (PS)

This will be WG milestones in support of progressing
http://www.ietf.org/internet-drafts/draft-fischl-sipping-media-dtls-03.t
xt

This charter item goes to SIP because it is security related, rather
than to SIPPING. This is one deliverable out of a package of 3, the
other two being:

http://www.ietf.org/internet-drafts/draft-ietf-avt-dtls-srtp-00.txt
http://www.ietf.org/internet-drafts/draft-fischl-mmusic-sdp-dtls-03.txt

Which will be handled by AVT and MMUSIC respectively.

What do you need to do as SIP WG members
----------------------------------------

Provide consensus or not to move these drafts forward.

Do you agree with the identified author drafts above forming the basis
of these charter items listed above? If not please express your
objections to the list, with appropriate technical considerations.
Indications of support are appropriate as well, particularly if you have
a technical point you wish to make (alternatively address the WG chairs
with just "Yes I support").

Responses please within a calendar week, i.e. by Tuesday 25th September
2007, unless there is a feeling that more time and discussion are
needed.


Regards

Keith



_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Wed Sep 19 09:54:05 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1IXzuZ-0002Z6-Ii; Wed, 19 Sep 2007 09:48:15 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1IXzuX-0002XH-1a
	for sip-confirm+ok@megatron.ietf.org; Wed, 19 Sep 2007 09:48:13 -0400
Received: from [10.91.34.44] (helo=ietf-mx.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1IXzuW-0002Vu-A9
	for sip@ietf.org; Wed, 19 Sep 2007 09:48:12 -0400
Received: from ihemail1.lucent.com ([135.245.0.33])
	by ietf-mx.ietf.org with esmtp (Exim 4.43) id 1IXzuH-0002E1-Vh
	for sip@ietf.org; Wed, 19 Sep 2007 09:48:04 -0400
Received: from ilexp01.ndc.lucent.com (h135-3-39-1.lucent.com [135.3.39.1])
	by ihemail1.lucent.com (8.13.8/IER-o) with ESMTP id l8JDleTi027938
	for <sip@ietf.org>; Wed, 19 Sep 2007 08:47:40 -0500 (CDT)
Received: from DEEXP02.DE.lucent.com ([135.248.187.66]) by
	ilexp01.ndc.lucent.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Wed, 19 Sep 2007 08:47:40 -0500
Received: from DEEXC1U01.de.lucent.com ([135.248.187.27]) by
	DEEXP02.DE.lucent.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Wed, 19 Sep 2007 15:47:34 +0200
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: [Sip] WGLC for draft-ietf-sip-subnot-etags-01
Date: Wed, 19 Sep 2007 15:47:32 +0200
Message-ID: <5D1A7985295922448D5550C94DE29180016F5EC3@DEEXC1U01.de.lucent.com>
In-Reply-To: <5D1A7985295922448D5550C94DE2918001636AF1@DEEXC1U01.de.lucent.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] WGLC for draft-ietf-sip-subnot-etags-01
Thread-Index: Acfu1dIrsaaCSebQRbSdGL0iVypPsQL7UEsA
References: <5D1A7985295922448D5550C94DE2918001636AF1@DEEXC1U01.de.lucent.com>
From: "DRAGE, Keith \(Keith\)" <drage@alcatel-lucent.com>
To: <sip@ietf.org>
X-OriginalArrivalTime: 19 Sep 2007 13:47:34.0738 (UTC)
	FILETIME=[A2087B20:01C7FAC3]
X-Scanned-By: MIMEDefang 2.57 on 135.245.2.33
X-Spam-Score: 0.0 (/)
X-Scan-Signature: 082a9cbf4d599f360ac7f815372a6a15
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

(As WG chair)

This was a response to say that there had been no comments at all on
this WGLC - however Dale Worley successfully precluded me saying that
(thanks Dale).

Just to make sure, I would like to extend the WGLC by a week to
Wednesday September 26th just in case it is still sitting in your pile
of documents to read. Instructions for response as below.

Now I know that we had some comments from people that indicated that
they were pretty happy with previous versions. Just in case the document
is now so perfect that there are no WGLC comments to make, please send
the SIP WG chairs if you have read the document and believe this to be
the case!

Otherwise get out there and read it.

Regards

Keith

> -----Original Message-----
> From: DRAGE, Keith (Keith) [mailto:drage@alcatel-lucent.com]=20
> Sent: Tuesday, September 04, 2007 10:28 AM
> To: sip@ietf.org
> Subject: [Sip] WGLC for draft-ietf-sip-subnot-etags-01
>=20
> (As WG chair)
>=20
> This is to announce a Working Group Last Call for=20
>=20
> http://www.ietf.org/internet-drafts/draft-ietf-sip-subnot-etags-01.txt
>=20
> This is a two week last call. Please provide comments and=20
> review of this document by Tuesday 18th September 2007.=20
>=20
> Ideally please try to identify for each comment=20
>=20
> -	the precise point in the text where the comment applies (copying
> the text and quoting the section number may help here),=20
>=20
> -	the nature of the comment (NIT, minor technical, major
> technical),
>=20
> -	if possible a proposed solution to the comment.
>=20
> Please send comments to the SIP WG list, and also to the=20
> editor listed in the document.
>=20
> Regards
>=20
> Keith
>=20
>=20
>=20
> _______________________________________________
> Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol Use=20
> sip-implementors@cs.columbia.edu for questions on current sip=20
> Use sipping@ietf.org for new developments on the application of sip
>=20


_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Wed Sep 19 16:45:03 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1IY6ML-0007Su-2t; Wed, 19 Sep 2007 16:41:21 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1IY6MJ-0007So-MF
	for sip-confirm+ok@megatron.ietf.org; Wed, 19 Sep 2007 16:41:19 -0400
Received: from [10.91.34.44] (helo=ietf-mx.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1IY6MJ-0007Sf-CX
	for sip@ietf.org; Wed, 19 Sep 2007 16:41:19 -0400
Received: from web63205.mail.re1.yahoo.com ([69.147.97.15])
	by ietf-mx.ietf.org with smtp (Exim 4.43) id 1IY6MD-0005tM-5B
	for sip@ietf.org; Wed, 19 Sep 2007 16:41:19 -0400
Received: (qmail 23134 invoked by uid 60001); 19 Sep 2007 20:40:59 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws; s=s1024; d=yahoo.com;
	h=X-YMail-OSG:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding:Message-ID;
	b=AnewyHg++96QRPeXfkHvEi/TfK7ThmclRQgTQYv2yw99LC/pR6TfkWtosA+5q+ekwiUTsqM23oN5fw4tvpa0ZoPLuuAzSM0WyPTwPTVzzO8EJt4vRkuSvMFFMl0ACb57pTb3Jw56qls5nWu2DPTtycKbaO5x5uVx+A+Z0bmder0=;
X-YMail-OSG: atRNw2YVM1kwmFEIRriFBRp75yH5npqLJyZO0cMZ5Q9KfYDnWaERXRHCuGA8t2fcIAjyWxtoxhL35WJVw1_MG_b64w9bdGjiJdTDwjA44ufhNOUjJt8jobxBAsQCjEM_
Received: from [216.191.234.70] by web63205.mail.re1.yahoo.com via HTTP;
	Wed, 19 Sep 2007 13:40:59 PDT
Date: Wed, 19 Sep 2007 13:40:59 -0700 (PDT)
From: Jerry Yin <jerry.yin@yahoo.com>
To: sip@ietf.org, fluffy@cisco.com, rohan@ekabal.com
In-Reply-To: <5D1A7985295922448D5550C94DE29180016F5EC3@DEEXC1U01.de.lucent.com>
MIME-Version: 1.0
Message-ID: <920188.21386.qm@web63205.mail.re1.yahoo.com>
X-Spam-Score: 0.0 (/)
X-Scan-Signature: 39bd8f8cbb76cae18b7e23f7cf6b2b9f
Cc: 
Subject: [Sip] Outbound-10 comments
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: multipart/mixed; boundary="===============0555622359=="
Errors-To: sip-bounces@ietf.org

--===============0555622359==
Content-Type: multipart/alternative; boundary="0-1126855784-1190234459=:21386"
Content-Transfer-Encoding: 8bit

--0-1126855784-1190234459=:21386
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

  Hi Cullen and Rohan,
   
  In the draft, it requires the UA configure the next hop route header with "keep-stun", "keep-crlf", or "timed-keepalive" tags. This would cause some problems.
   
  1. As an example, the route-set contains this route header as indicated in section 9 example: 
  Route: <sip:pri.example.com;lr;keep-stun>
  If the DNS NAPTR resolution for pri.example.com is TCP, SCTP or TLS, the keep-stun will be useless. Vice versa, if the pri.example.com is resolved as UDP, and if "keep-crlf" was manually configured, it is not working either.
   
  2. Before sending the REGISTER request, the admin/or user does not know what keep-alive mechanism the proxy (or edge proxy) supports. Blindly configure the keep-stun, or keep-crlf would cause the problem that the draft indicated itself in section 8: "the node could be blacklisted for UDP traffic".
  The better approach is to let the UA and the proxy to negotiate, not manually configure from UA side. 
  a. UA sends REGISTER to the proxy with a "outbound" tag in the Supported header.
  b. Proxy insert the "outbound" tag in the 200 OK, if the UA indicated that it supports the outbound.
  c. If the "outbound" tag is present in the 200 OK, and if the transport is UDP, using the STUN keep alive, other connection based transport using crlf keep alive.
  There would be no way to mass up by configurations with this approach. Let me know if I missed something.
   
  Regards,
  Jerry Yin
   

       
---------------------------------
Yahoo! oneSearch: Finally,  mobile search that gives answers, not web links. 
--0-1126855784-1190234459=:21386
Content-Type: text/html; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

<FONT size=2>  <div>Hi Cullen and Rohan,</div>  <div>&nbsp;</div>  <div>In the draft, it requires the UA configure the next hop route header with "keep-stun", "keep-crlf", or "timed-keepalive" tags. This would cause some problems.</div>  <div>&nbsp;</div>  <div>1. As an example, the route-set contains this route header as indicated in section 9 example: </div>  <div>Route: &lt;sip:pri.example.com;lr;keep-stun&gt;</div>  <div>If the DNS NAPTR resolution for pri.example.com is TCP, SCTP or TLS, the keep-stun will be useless. Vice versa, if the pri.example.com is resolved as UDP, and if "keep-crlf" was manually configured, it is not working either.</div>  <div>&nbsp;</div>  <div>2. Before sending the REGISTER request, the admin/or user does not know what keep-alive mechanism the proxy (or edge proxy) supports. Blindly configure the keep-stun, or keep-crlf would cause the problem that the draft indicated itself in section 8: "the node could be blacklisted for UDP
 traffic".</div>  <div>The better approach is to let the UA and the proxy to negotiate, not manually configure from UA side. </div>  <div>a. UA sends REGISTER to the proxy with a "outbound" tag in the Supported header.</div>  <div>b. Proxy insert the "outbound" tag in the 200 OK, if the UA indicated that it supports the outbound.</div>  <div>c. If the "outbound" tag is present in the 200 OK, and if the transport is UDP, using the STUN keep alive, other connection based transport using crlf keep alive.</div>  <div>There would be no way to mass up by configurations with this approach. Let me know if I missed something.</div>  <div>&nbsp;</div>  <div>Regards,</div>  <div>Jerry Yin</div>  <div>&nbsp;</div></FONT><p>&#32;
      <hr size=1>Yahoo! oneSearch: Finally, <a href="http://us.rd.yahoo.com/evt=48252/*http://mobile.yahoo.com/mobileweb/onesearch?refer=1ONXIC"> mobile search 
that gives answers</a>, not web links. 


--0-1126855784-1190234459=:21386--



--===============0555622359==
Content-Type: text/plain; charset="us-ascii"
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip
--===============0555622359==--





From sip-bounces@ietf.org Thu Sep 20 04:46:20 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1IYHcl-0004Ei-KQ; Thu, 20 Sep 2007 04:43:03 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1IYHck-0004DU-DR
	for sip-confirm+ok@megatron.ietf.org; Thu, 20 Sep 2007 04:43:02 -0400
Received: from [10.91.34.44] (helo=ietf-mx.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1IYHcj-0004CG-Vj
	for sip@ietf.org; Thu, 20 Sep 2007 04:43:01 -0400
Received: from ihemail2.lucent.com ([135.245.0.35])
	by ietf-mx.ietf.org with esmtp (Exim 4.43) id 1IYHca-0006aa-MN
	for sip@ietf.org; Thu, 20 Sep 2007 04:42:57 -0400
Received: from ilexp01.ndc.lucent.com (h135-3-39-1.lucent.com [135.3.39.1])
	by ihemail2.lucent.com (8.13.8/IER-o) with ESMTP id l8K8g2QS024404
	for <sip@ietf.org>; Thu, 20 Sep 2007 03:42:05 -0500 (CDT)
Received: from DEEXP01.de.lucent.com ([135.248.187.65]) by
	ilexp01.ndc.lucent.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Thu, 20 Sep 2007 03:42:01 -0500
Received: from DEEXC1U01.de.lucent.com ([135.248.187.27]) by
	DEEXP01.de.lucent.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Thu, 20 Sep 2007 10:41:58 +0200
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Thu, 20 Sep 2007 10:41:59 +0200
Message-ID: <5D1A7985295922448D5550C94DE29180016F60DE@DEEXC1U01.de.lucent.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Deployment of the Internet-Draft Submission Tool 
Thread-Index: Acf69DhbxjxEyjh9SnyxnAm742wBIwAa96sQ
From: "DRAGE, Keith \(Keith\)" <drage@alcatel-lucent.com>
To: <sip@ietf.org>
X-OriginalArrivalTime: 20 Sep 2007 08:41:58.0718 (UTC)
	FILETIME=[1B539DE0:01C7FB62]
X-Scanned-By: MIMEDefang 2.57 on 135.245.2.35
X-Spam-Score: 0.0 (/)
X-Scan-Signature: 0bc60ec82efc80c84b8d02f4b0e4de22
Subject: [Sip] FW: Deployment of the Internet-Draft Submission Tool 
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: multipart/mixed; boundary="===============1505702373=="
Errors-To: sip-bounces@ietf.org

--===============1505702373==
Content-class: urn:content-classes:message
Content-Type: text/plain;
	charset="utf-8"
Content-Transfer-Encoding: base64

KEFzIFdHIGNvLWNoYWlyKQ0KDQpJIGFtIHJlbGlhYmx5IGFzc3VyZWQgdGhpcyB3b3Jrcy4NCg0K
QXMgc3VjaCwgaXQgcHJvdmlkZXMgdGhlIHF1aWNrZXN0IHdheSBvZiBnZXR0aW5nIHlvdXIgZHJh
ZnRzIHBvc3RlZCwgYW5kIHlvdSBrbm93aW5nIHRoYXQgdGhleSBoYXZlIGJlZW4gYWNjZXB0ZWQu
DQoNClRoZXJlZm9yZSBpZiB5b3UgdXNlIGl0LCB5b3UgcHJvdmlkZSBhIHNlcnZpY2UgdG8gdGhl
IGNvbW11bml0eSwgYW5kIGxlc3MgaGFzc2xlIHRvIHlvdXJzZWx2ZXMuDQoNClJlZ2FyZHMNCg0K
S2VpdGggDQoNCi0tLS0tT3JpZ2luYWwgTWVzc2FnZS0tLS0tDQpGcm9tOiBJRVRGIFNlY3JldGFy
aWF0IFttYWlsdG86aWV0Zi1zZWNyZXRhcmlhdEBpZXRmLm9yZ10gDQpTZW50OiBXZWRuZXNkYXks
IFNlcHRlbWJlciAxOSwgMjAwNyA4OjMyIFBNDQpUbzogSUVURiBBbm5vdW5jZW1lbnQgbGlzdA0K
Q2M6IHdnY2hhaXJzQGlldGYub3JnDQpTdWJqZWN0OiBEZXBsb3ltZW50IG9mIHRoZSBJbnRlcm5l
dC1EcmFmdCBTdWJtaXNzaW9uIFRvb2wgDQoNClRoZSBJRVRGIFNlY3JldGFyaWF0IGlzIHBsZWFz
ZWQgdG8gYW5ub3VuY2UgdGhlIGRlcGxveW1lbnQgb2YgdGhlIEludGVybmV0LURyYWZ0IFN1Ym1p
c3Npb24gVG9vbCAoSURTVCktUGhhc2UgSS4gIFRoZSBJRFNUIGlzIGEgV2ViLWJhc2VkIGFwcGxp
Y2F0aW9uIHRoYXQgd2lsbCBhbGxvdyBhbiBJRVRGIHBhcnRpY2lwYW50IHRvIHN1Ym1pdCBhbiBJ
bnRlcm5ldC1EcmFmdCBvbmxpbmUsIG9idGFpbiBhcHByb3ZhbCB0byBwb3N0IHRoZSBkcmFmdCAo
aWYgbmVjZXNzYXJ5KSwgYW5kIG1ha2UgdGhlIGRyYWZ0IGltbWVkaWF0ZWx5IGF2YWlsYWJsZSB0
byB0aGUgY29tbXVuaXR5IG9uIHRoZSBJRVRGIFdlYiBzaXRlIHdpdGhvdXQgdGhlIGFzc2lzdGFu
Y2Ugb2YgdGhlIFNlY3JldGFyaWF0IChpbiBtb3N0IGNhc2VzKS4NCg0KVGhlIFVSTCBmb3IgdGhl
IElEU1QgaXM6DQpodHRwczovL2RhdGF0cmFja2VyLmlldGYub3JnL2lkc3QvdXBsb2FkLmNnaQ0K
DQpUaGUgVVJMIGZvciBpbnN0cnVjdGlvbnMgZm9yIHVzaW5nIHRoZSBJRFNUIGlzOg0KaHR0cDov
L3d3dy5pZXRmLm9yZy9pZHN1Ym1pdF9pbnN0cnVjdGlvbnMuaHRtbA0KDQpBbHRob3VnaCBpdCB3
aWxsIHN0aWxsIGJlIHBvc3NpYmxlIHRvIHN1Ym1pdCB5b3VyIGRyYWZ0cyBieSBlLW1haWwgKGku
ZS4sIGJ5IHNlbmRpbmcgdGhlbSB0byBpbnRlcm5ldC1kcmFmdHNAaWV0Zi5vcmcpLCB0aGUgdG9v
bCBpcyBhdmFpbGFibGUgZm9yIHVzZSBlZmZlY3RpdmUgaW1tZWRpYXRlbHksIGFuZCB3ZSBlbmNv
dXJhZ2UgeW91IHRvIHN1Ym1pdCB5b3VyIGRyYWZ0cyB2aWEgdGhlIHRvb2wgc3RhcnRpbmcgdG9k
YXkuDQoNCklmIHlvdSBoYXZlIGFueSBxdWVzdGlvbnMgYWJvdXQgdXNpbmcgdGhlIHRvb2wgb3Ig
d2lzaCB0byByZXBvcnQgYSBidWcsIHRoZW4gcGxlYXNlIHNlbmQgYSBtZXNzYWdlIHRvIGlkc3Qt
ZGV2ZWxvcGVyc0BpZXRmLm9yZy4NCg0KRW5qb3khIQ0KDQpUaGUgSUVURiBTZWNyZXRhcmlhdA0K
DQo=



--===============1505702373==
Content-Type: text/plain; charset="us-ascii"
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip
--===============1505702373==--



From sip-bounces@ietf.org Thu Sep 20 08:40:02 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1IYLF0-0000tI-Jt; Thu, 20 Sep 2007 08:34:46 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1IYLEx-0000rW-Le
	for sip-confirm+ok@megatron.ietf.org; Thu, 20 Sep 2007 08:34:44 -0400
Received: from [10.91.34.44] (helo=ietf-mx.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1IYLEw-0000rM-Mn
	for sip@ietf.org; Thu, 20 Sep 2007 08:34:43 -0400
Received: from ihemail1.lucent.com ([135.245.0.33])
	by ietf-mx.ietf.org with esmtp (Exim 4.43) id 1IYLEq-0003a3-Gp
	for sip@ietf.org; Thu, 20 Sep 2007 08:34:42 -0400
Received: from ilexp03.ndc.lucent.com (h135-3-39-50.lucent.com [135.3.39.50])
	by ihemail1.lucent.com (8.13.8/IER-o) with ESMTP id l8KCYH6R025155
	for <sip@ietf.org>; Thu, 20 Sep 2007 07:34:18 -0500 (CDT)
Received: from DEEXP01.de.lucent.com ([135.248.187.65]) by
	ilexp03.ndc.lucent.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Thu, 20 Sep 2007 07:34:17 -0500
Received: from DEEXC1U01.de.lucent.com ([135.248.187.27]) by
	DEEXP01.de.lucent.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Thu, 20 Sep 2007 14:34:15 +0200
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: [Sip] WGLC for draft-ietf-sip-subnot-etags-01
Date: Thu, 20 Sep 2007 14:34:14 +0200
Message-ID: <5D1A7985295922448D5550C94DE29180016F6250@DEEXC1U01.de.lucent.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] WGLC for draft-ietf-sip-subnot-etags-01
Thread-Index: Acfu1dIrsaaCSebQRbSdGL0iVypPsQL7UEsAAC++86A=
References: <5D1A7985295922448D5550C94DE2918001636AF1@DEEXC1U01.de.lucent.com>
From: "DRAGE, Keith \(Keith\)" <drage@alcatel-lucent.com>
To: <sip@ietf.org>
X-OriginalArrivalTime: 20 Sep 2007 12:34:15.0305 (UTC)
	FILETIME=[8E2E0790:01C7FB82]
X-Scanned-By: MIMEDefang 2.57 on 135.245.2.33
X-Spam-Score: 0.0 (/)
X-Scan-Signature: 3002fc2e661cd7f114cb6bae92fe88f1
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

My efforts, independently of the WGLC, to find reviewers of this
document have met with insufficient support.

Are there a couple of people out there in the SIP community, who are
familiar with the requirements of RFC 3265, who are prepared to look at
this draft with a new pair of eyes (figuratively speaking), and
essentially pull the document apart from one end to the other.

Please send me a mail directly if you consider you can do this within a
reasonable short timescale (2 or 3 weeks).

Regards

Keith

> -----Original Message-----
> From: DRAGE, Keith (Keith)=20
> Sent: Wednesday, September 19, 2007 2:48 PM
> To: sip@ietf.org
> Subject: RE: [Sip] WGLC for draft-ietf-sip-subnot-etags-01
>=20
> (As WG chair)
>=20
> This was a response to say that there had been no comments at=20
> all on this WGLC - however Dale Worley successfully precluded=20
> me saying that (thanks Dale).
>=20
> Just to make sure, I would like to extend the WGLC by a week=20
> to Wednesday September 26th just in case it is still sitting=20
> in your pile of documents to read. Instructions for response as below.
>=20
> Now I know that we had some comments from people that=20
> indicated that they were pretty happy with previous versions.=20
> Just in case the document is now so perfect that there are no=20
> WGLC comments to make, please send the SIP WG chairs if you=20
> have read the document and believe this to be the case!
>=20
> Otherwise get out there and read it.
>=20
> Regards
>=20
> Keith
>=20
> > -----Original Message-----
> > From: DRAGE, Keith (Keith) [mailto:drage@alcatel-lucent.com]
> > Sent: Tuesday, September 04, 2007 10:28 AM
> > To: sip@ietf.org
> > Subject: [Sip] WGLC for draft-ietf-sip-subnot-etags-01
> >=20
> > (As WG chair)
> >=20
> > This is to announce a Working Group Last Call for
> >=20
> >=20
> http://www.ietf.org/internet-drafts/draft-ietf-sip-subnot-etags-01.txt
> >=20
> > This is a two week last call. Please provide comments and review of=20
> > this document by Tuesday 18th September 2007.
> >=20
> > Ideally please try to identify for each comment
> >=20
> > -	the precise point in the text where the comment applies (copying
> > the text and quoting the section number may help here),
> >=20
> > -	the nature of the comment (NIT, minor technical, major
> > technical),
> >=20
> > -	if possible a proposed solution to the comment.
> >=20
> > Please send comments to the SIP WG list, and also to the=20
> editor listed=20
> > in the document.
> >=20
> > Regards
> >=20
> > Keith
> >=20
> >=20
> >=20
> > _______________________________________________
> > Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
> > This list is for NEW development of the core SIP Protocol Use=20
> > sip-implementors@cs.columbia.edu for questions on current sip Use=20
> > sipping@ietf.org for new developments on the application of sip
> >=20


_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Thu Sep 20 11:10:58 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1IYNcI-000356-LU; Thu, 20 Sep 2007 11:06:58 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1IYNcH-000332-8M
	for sip-confirm+ok@megatron.ietf.org; Thu, 20 Sep 2007 11:06:57 -0400
Received: from [10.91.34.44] (helo=ietf-mx.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1IYNcG-000327-U4
	for sip@ietf.org; Thu, 20 Sep 2007 11:06:56 -0400
Received: from smtp.mitel.com ([216.191.234.102])
	by ietf-mx.ietf.org with esmtp (Exim 4.43) id 1IYNcA-0007bI-LM
	for sip@ietf.org; Thu, 20 Sep 2007 11:06:56 -0400
Received: from localhost (smtp.mitel.com [127.0.0.1])
	by smtp.mitel.com (Postfix) with ESMTP id 6222E2C098;
	Thu, 20 Sep 2007 11:06:40 -0400 (EDT)
X-Virus-Scanned: by amavisd-new (virusonly) at mitel.com
Received: from smtp.mitel.com ([127.0.0.1])
	by localhost (smtp.mitel.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 0Wvli7BWzO1m; Thu, 20 Sep 2007 11:06:37 -0400 (EDT)
Received: from kanmta01.mitel.com (kanmta01 [134.199.37.58])
	by smtp.mitel.com (Postfix) with ESMTP id B597E2C094;
	Thu, 20 Sep 2007 11:06:37 -0400 (EDT)
In-Reply-To: <920188.21386.qm@web63205.mail.re1.yahoo.com>
To: Jerry Yin <jerry.yin@yahoo.com>
Subject: Re: [Sip] Outbound-10 comments
MIME-Version: 1.0
X-Mailer: Lotus Notes Release 6.5.5 November 30, 2005
Message-ID: <OFE1CA518D.694C1DC5-ON8525735C.0051D9FD-8525735C.0052F88C@mitel.com>
From: peter_blatherwick@mitel.com
Date: Thu, 20 Sep 2007 11:06:16 -0400
X-MIMETrack: Serialize by Router on kanmta01/Mitel(Release 5.0.12 |February 13,
	2003) at 09/20/2007 11:06:36 AM,
	Serialize complete at 09/20/2007 11:06:36 AM
X-Spam-Score: 0.0 (/)
X-Scan-Signature: e472ca43d56132790a46d9eefd95f0a5
Cc: fluffy@cisco.com, rohan@ekabal.com, sip@ietf.org
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: multipart/mixed; boundary="===============1360882886=="
Errors-To: sip-bounces@ietf.org

This is a multipart message in MIME format.
--===============1360882886==
Content-Type: multipart/alternative;
	boundary="=_alternative 0052F88B8525735C_="

This is a multipart message in MIME format.
--=_alternative 0052F88B8525735C_=
Content-Type: text/plain; charset="US-ASCII"

I agree with Jerry here, and believe this has come up before (?).  It is 
pointless for the originating UA to try to impose, or infer, the keepalive 
mechanism before it can know what is applicable. 

An additional comment along these lines. 
> a. UA sends REGISTER to the proxy with a "outbound" tag in the Supported 
header.
...
> c. If the "outbound" tag is present in the 200 OK, and if the transport 
is UDP, using the STUN keep alive, other connection based transport using 
crlf keep alive.

Step a) would really imply the originating UA MUST support both keepalive 
mechanisms, and c) implies it MUST begin using the appropriate one after 
200 OK.  The usage is implied, not explicit, which I believe is sufficient 
in this case.  Alternatively, the usage could be made more explicit by 
listing the supported k-a mechanisms in Supported exchange, or some such. 
This should be spelled out either way. 

-- Peter Blatherwick






Jerry Yin <jerry.yin@yahoo.com>
19.09.07 16:40
 
        To:     sip@ietf.org, fluffy@cisco.com, rohan@ekabal.com
        cc: 
        Subject:        [Sip] Outbound-10 comments


Hi Cullen and Rohan,
 
In the draft, it requires the UA configure the next hop route header with 
"keep-stun", "keep-crlf", or "timed-keepalive" tags. This would cause some 
problems.
 
1. As an example, the route-set contains this route header as indicated in 
section 9 example: 
Route: <sip:pri.example.com;lr;keep-stun>
If the DNS NAPTR resolution for pri.example.com is TCP, SCTP or TLS, the 
keep-stun will be useless. Vice versa, if the pri.example.com is resolved 
as UDP, and if "keep-crlf" was manually configured, it is not working 
either.
 
2. Before sending the REGISTER request, the admin/or user does not know 
what keep-alive mechanism the proxy (or edge proxy) supports. Blindly 
configure the keep-stun, or keep-crlf would cause the problem that the 
draft indicated itself in section 8: "the node could be blacklisted for 
UDP traffic".
The better approach is to let the UA and the proxy to negotiate, not 
manually configure from UA side. 
a. UA sends REGISTER to the proxy with a "outbound" tag in the Supported 
header.
b. Proxy insert the "outbound" tag in the 200 OK, if the UA indicated that 
it supports the outbound.
c. If the "outbound" tag is present in the 200 OK, and if the transport is 
UDP, using the STUN keep alive, other connection based transport using 
crlf keep alive.
There would be no way to mass up by configurations with this approach. Let 
me know if I missed something.
 
Regards,
Jerry Yin
 
 Yahoo! oneSearch: Finally, mobile search that gives answers, not web 
links. _______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip

--=_alternative 0052F88B8525735C_=
Content-Type: text/html; charset="US-ASCII"


<br><font size=2 face="sans-serif">I agree with Jerry here, and believe
this has come up before (?). &nbsp;It is pointless for the originating
UA to try to impose, or infer, the keepalive mechanism before it can know
what is applicable. &nbsp;</font>
<br>
<br><font size=2 face="sans-serif">An additional comment along these lines.
</font>
<br><font size=2>&gt; a. UA sends REGISTER to the proxy with a &quot;outbound&quot;
tag in the Supported header.</font>
<br><font size=2>...</font>
<br><font size=2>&gt; c. If the &quot;outbound&quot; tag is present in
the 200 OK, and if the transport is UDP, using the STUN keep alive, other
connection based transport using crlf keep alive.</font>
<br>
<br><font size=2 face="sans-serif">Step a) would really imply the originating
UA MUST support both keepalive mechanisms, and c) implies it MUST begin
using the appropriate one after 200 OK. &nbsp;The usage is implied, not
explicit, which I believe is sufficient in this case. &nbsp;Alternatively,
the usage could be made more explicit by listing the supported k-a mechanisms
in Supported exchange, or some such. &nbsp;This should be spelled out either
way. &nbsp;</font>
<br>
<br><font size=2 face="sans-serif">-- Peter Blatherwick</font>
<br>
<br>
<br>
<br>
<br>
<table width=100%>
<tr valign=top>
<td>
<td><font size=1 face="sans-serif"><b>Jerry Yin &lt;jerry.yin@yahoo.com&gt;</b></font>
<p><font size=1 face="sans-serif">19.09.07 16:40</font>
<td><font size=1 face="Arial">&nbsp; &nbsp; &nbsp; &nbsp; </font>
<br><font size=1 face="sans-serif">&nbsp; &nbsp; &nbsp; &nbsp; To:
&nbsp; &nbsp; &nbsp; &nbsp;sip@ietf.org, fluffy@cisco.com, rohan@ekabal.com</font>
<br><font size=1 face="sans-serif">&nbsp; &nbsp; &nbsp; &nbsp; cc:
&nbsp; &nbsp; &nbsp; &nbsp;</font>
<br><font size=1 face="sans-serif">&nbsp; &nbsp; &nbsp; &nbsp; Subject:
&nbsp; &nbsp; &nbsp; &nbsp;[Sip] Outbound-10 comments</font></table>
<br>
<br>
<br><font size=2>Hi Cullen and Rohan,</font>
<br><font size=2>&nbsp;</font>
<br><font size=2>In the draft, it requires the UA configure the next hop
route header with &quot;keep-stun&quot;, &quot;keep-crlf&quot;, or &quot;timed-keepalive&quot;
tags. This would cause some problems.</font>
<br><font size=2>&nbsp;</font>
<br><font size=2>1. As an example, the route-set contains this route header
as indicated in section 9 example: </font>
<br><font size=2>Route: &lt;sip:pri.example.com;lr;keep-stun&gt;</font>
<br><font size=2>If the DNS NAPTR resolution for pri.example.com is TCP,
SCTP or TLS, the keep-stun will be useless. Vice versa, if the pri.example.com
is resolved as UDP, and if &quot;keep-crlf&quot; was manually configured,
it is not working either.</font>
<br><font size=2>&nbsp;</font>
<br><font size=2>2. Before sending the REGISTER request, the admin/or user
does not know what keep-alive mechanism the proxy (or edge proxy) supports.
Blindly configure the keep-stun, or keep-crlf would cause the problem that
the draft indicated itself in section 8: &quot;the node could be blacklisted
for UDP traffic&quot;.</font>
<br><font size=2>The better approach is to let the UA and the proxy to
negotiate, not manually configure from UA side. </font>
<br><font size=2>a. UA sends REGISTER to the proxy with a &quot;outbound&quot;
tag in the Supported header.</font>
<br><font size=2>b. Proxy insert the &quot;outbound&quot; tag in the 200
OK, if the UA indicated that it supports the outbound.</font>
<br><font size=2>c. If the &quot;outbound&quot; tag is present in the 200
OK, and if the transport is UDP, using the STUN keep alive, other connection
based transport using crlf keep alive.</font>
<br><font size=2>There would be no way to mass up by configurations with
this approach. Let me know if I missed something.</font>
<br><font size=2>&nbsp;</font>
<br><font size=2>Regards,</font>
<br><font size=2>Jerry Yin</font>
<br><font size=2>&nbsp;</font>
<p><font size=3>&nbsp;</font>
<hr><font size=3>Yahoo! oneSearch: Finally, </font><a href="http://us.rd.yahoo.com/evt=48252/*http://mobile.yahoo.com/mobileweb/onesearch?refer=1ONXIC"><font size=3 color=blue><u>mobile
search that gives answers</u></font></a><font size=3>, not web links. </font><tt><font size=2>_______________________________________________<br>
Sip mailing list &nbsp;https://www1.ietf.org/mailman/listinfo/sip<br>
This list is for NEW development of the core SIP Protocol<br>
Use sip-implementors@cs.columbia.edu for questions on current sip<br>
Use sipping@ietf.org for new developments on the application of sip</font></tt>
<p>
--=_alternative 0052F88B8525735C_=--



--===============1360882886==
Content-Type: text/plain; charset="us-ascii"
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip
--===============1360882886==--





From sip-bounces@ietf.org Thu Sep 20 12:26:20 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1IYOmT-0007RE-U3; Thu, 20 Sep 2007 12:21:33 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1IYOmS-0007Qz-As
	for sip-confirm+ok@megatron.ietf.org; Thu, 20 Sep 2007 12:21:32 -0400
Received: from [10.90.34.44] (helo=chiedprmail1.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1IYOmR-0007Qp-Sj
	for sip@ietf.org; Thu, 20 Sep 2007 12:21:32 -0400
Received: from zrtps0kp.nortel.com ([47.140.192.56])
	by chiedprmail1.ietf.org with esmtp (Exim 4.43) id 1IYOmR-0003qZ-7f
	for sip@ietf.org; Thu, 20 Sep 2007 12:21:31 -0400
Received: from zrc2hxm0.corp.nortel.com (zrc2hxm0.corp.nortel.com
	[47.103.123.71])
	by zrtps0kp.nortel.com (Switch-2.2.6/Switch-2.2.0) with ESMTP id
	l8KGLSf09370 for <sip@ietf.org>; Thu, 20 Sep 2007 16:21:28 GMT
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: [Sip] DTLS-SRTP - more work for the SIP group
Date: Thu, 20 Sep 2007 11:21:27 -0500
Message-ID: <1ECE0EB50388174790F9694F77522CCF120DDF92@zrc2hxm0.corp.nortel.com>
In-Reply-To: <5D1A7985295922448D5550C94DE29180016B8DDA@DEEXC1U01.de.lucent.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] DTLS-SRTP - more work for the SIP group
Thread-Index: Acf6I4MrWDTcLlO+SJSadDEjUFPpiABfq7Sw
References: <5D1A7985295922448D5550C94DE29180016B8DDA@DEEXC1U01.de.lucent.com>
From: "Francois Audet" <audet@nortel.com>
To: "DRAGE, Keith (Keith)" <drage@alcatel-lucent.com>, <sip@ietf.org>
X-Spam-Score: 0.0 (/)
X-Scan-Signature: 10d3e4e3c32e363f129e380e644649be
Cc: 
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

Yes, I support the plan.=20

> -----Original Message-----
> From: DRAGE, Keith (Keith) [mailto:drage@alcatel-lucent.com]=20
> Sent: Tuesday, September 18, 2007 11:41
> To: sip@ietf.org
> Subject: [Sip] DTLS-SRTP - more work for the SIP group
>=20
> (As WG co-chair)
>=20
> You may remember that some time ago some work was identified=20
> that crossed multiple working groups in the RAI area on the=20
> above subject.
> Cullen took this ball away and played with it in a RAI BOF=20
> and there came to some consensus on the way forward and what=20
> documentation was required.
>=20
> However we now need to put that work through real working=20
> groups to get it to IESG so we are reallocating it to working groups.
>=20
> I have requested milestones as follows:
>=20
> Sep 2007	Requirements for media keying to WGLC (Informational)
> Nov 2007	Requirements for media keying to IESG (Informational)
>=20
> This will be WG milestones in support of progressing=20
> http://www.ietf.org/internet-drafts/draft-wing-media-security-
> requiremen
> ts-04.txt
> And incorporating
> draft-wing-rtpsec-keying-eval
>=20
> This charter item will essentially be a discussion of how we=20
> got where we are now. It is therefore not the most=20
> earthshattering document, but it has been considered valuable=20
> to retain some permanent record and an informational RFC is=20
> the way to do this.
>=20
> Dec 2007	Establishment of secure media sessions using DTLS-SRTP
> to WGLC (PS)
> Feb 2008	Establishment of secure media sessions using DTLS-SRTP
> to IESG (PS)
>=20
> This will be WG milestones in support of progressing=20
> http://www.ietf.org/internet-drafts/draft-fischl-sipping-media
> -dtls-03.t
> xt
>=20
> This charter item goes to SIP because it is security related,=20
> rather than to SIPPING. This is one deliverable out of a=20
> package of 3, the other two being:
>=20
> http://www.ietf.org/internet-drafts/draft-ietf-avt-dtls-srtp-00.txt
> http://www.ietf.org/internet-drafts/draft-fischl-mmusic-sdp-dt
> ls-03.txt
>=20
> Which will be handled by AVT and MMUSIC respectively.
>=20
> What do you need to do as SIP WG members
> ----------------------------------------
>=20
> Provide consensus or not to move these drafts forward.
>=20
> Do you agree with the identified author drafts above forming=20
> the basis of these charter items listed above? If not please=20
> express your objections to the list, with appropriate=20
> technical considerations.
> Indications of support are appropriate as well, particularly=20
> if you have a technical point you wish to make (alternatively=20
> address the WG chairs with just "Yes I support").
>=20
> Responses please within a calendar week, i.e. by Tuesday 25th=20
> September 2007, unless there is a feeling that more time and=20
> discussion are needed.
>=20
>=20
> Regards
>=20
> Keith
>=20
>=20
>=20
> _______________________________________________
> Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol Use=20
> sip-implementors@cs.columbia.edu for questions on current sip=20
> Use sipping@ietf.org for new developments on the application of sip
>=20


_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Thu Sep 20 14:29:42 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1IYQi4-0004o4-80; Thu, 20 Sep 2007 14:25:08 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1IYQi2-0004mY-2H
	for sip-confirm+ok@megatron.ietf.org; Thu, 20 Sep 2007 14:25:06 -0400
Received: from [10.91.34.44] (helo=ietf-mx.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1IYQi1-0004l0-NI
	for sip@ietf.org; Thu, 20 Sep 2007 14:25:05 -0400
Received: from sj-iport-3-in.cisco.com ([171.71.176.72]
	helo=sj-iport-3.cisco.com) by ietf-mx.ietf.org with esmtp (Exim 4.43)
	id 1IYQi0-0005w5-E8 for sip@ietf.org; Thu, 20 Sep 2007 14:25:05 -0400
X-IronPort-AV: E=Sophos;i="4.20,279,1186383600"; d="scan'208";a="526280463"
Received: from sj-dkim-2.cisco.com ([171.71.179.186])
	by sj-iport-3.cisco.com with ESMTP; 20 Sep 2007 11:25:04 -0700
Received: from sj-core-5.cisco.com (sj-core-5.cisco.com [171.71.177.238])
	by sj-dkim-2.cisco.com (8.12.11/8.12.11) with ESMTP id l8KIP2O9006998; 
	Thu, 20 Sep 2007 11:25:02 -0700
Received: from dwingwxp01 ([10.32.240.198])
	by sj-core-5.cisco.com (8.12.10/8.12.6) with ESMTP id l8KIP0Dr000652;
	Thu, 20 Sep 2007 18:25:01 GMT
From: "Dan Wing" <dwing@cisco.com>
To: "'DRAGE, Keith \(Keith\)'" <drage@alcatel-lucent.com>, <sip@ietf.org>
References: <5D1A7985295922448D5550C94DE29180016B8DDA@DEEXC1U01.de.lucent.com>
Subject: RE: [Sip] DTLS-SRTP - more work for the SIP group
Date: Thu, 20 Sep 2007 11:25:00 -0700
Message-ID: <019101c7fbb3$8ef33610$c6f0200a@cisco.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook 11
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.3138
In-Reply-To: <5D1A7985295922448D5550C94DE29180016B8DDA@DEEXC1U01.de.lucent.com>
Thread-Index: Acf6I4MrWDTcLlO+SJSadDEjUFPpiABj3Ojw
DKIM-Signature: v=0.5; a=rsa-sha256; q=dns/txt; l=4021; t=1190312702;
	x=1191176702; c=relaxed/simple; s=sjdkim2002;
	h=Content-Type:From:Subject:Content-Transfer-Encoding:MIME-Version;
	d=cisco.com; i=dwing@cisco.com;
	z=From:=20=22Dan=20Wing=22=20<dwing@cisco.com>
	|Subject:=20RE=3A=20[Sip]=20DTLS-SRTP=20-=20more=20work=20for=20the=20SIP
	=20group |Sender:=20;
	bh=nOZ0/8GOqxXLsxUu2me9AJzcZCKY/6XJd1UxAwilV5U=;
	b=sEeszwTaxkiB4pTL/GG6BP12v7AdmpWfZphBp+L3VrCinODQAmhuXTrF5R7BwUEzJIxUtU6R
	sQuj9LHqcbdU3YrjS2+A9OU8aTC36i/SRFqIGBydkxWMjE2HYryxwgXo;
Authentication-Results: sj-dkim-2; header.From=dwing@cisco.com; dkim=pass (s
	ig from cisco.com/sjdkim2002 verified; ); 
X-Spam-Score: -4.0 (----)
X-Scan-Signature: a7d2e37451f7f22841e3b6f40c67db0f
Cc: ietf-rtpsec@imc.org
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

I support this plan.  

To that end, the authors of draft-wing-media-security-requirements and
draft-wing-rtpsec-keying-eval have combined the documents into one document,
and added Brian Stucker as another co-author of this joint document,

 
http://www.ietf.org/internet-drafts/draft-wing-media-security-requirements-05.
txt
  "Requirements and Analysis of Media Security Key Management Protocols"

   Abstract:
   A number of proposals have been published to address the need of
   securing media traffic.  A summary of the proposals available at that
   time is available in the appendix of this document.  Different
   assumptions, requirements, and usage environments justify every one
   of them.  This document aims to summarize the discussed media
   security requirements.  A comparison of the requirements against the
   individual proposals is provided.

-d

> -----Original Message-----
> From: DRAGE, Keith (Keith) [mailto:drage@alcatel-lucent.com] 
> Sent: Tuesday, September 18, 2007 11:41 AM
> To: sip@ietf.org
> Subject: [Sip] DTLS-SRTP - more work for the SIP group
> 
> (As WG co-chair)
> 
> You may remember that some time ago some work was identified that
> crossed multiple working groups in the RAI area on the above subject.
> Cullen took this ball away and played with it in a RAI BOF and there
> came to some consensus on the way forward and what documentation was
> required.
> 
> However we now need to put that work through real working 
> groups to get
> it to IESG so we are reallocating it to working groups.
> 
> I have requested milestones as follows:
> 
> Sep 2007	Requirements for media keying to WGLC (Informational)
> Nov 2007	Requirements for media keying to IESG (Informational)
> 
> This will be WG milestones in support of progressing
> http://www.ietf.org/internet-drafts/draft-wing-media-security-
> requiremen
> ts-04.txt
> And incorporating
> draft-wing-rtpsec-keying-eval
> 
> This charter item will essentially be a discussion of how we got where
> we are now. It is therefore not the most earthshattering document, but
> it has been considered valuable to retain some permanent record and an
> informational RFC is the way to do this.
> 
> Dec 2007	Establishment of secure media sessions using DTLS-SRTP
> to WGLC (PS)
> Feb 2008	Establishment of secure media sessions using DTLS-SRTP
> to IESG (PS)
> 
> This will be WG milestones in support of progressing
> http://www.ietf.org/internet-drafts/draft-fischl-sipping-media
> -dtls-03.t
> xt
> 
> This charter item goes to SIP because it is security related, rather
> than to SIPPING. This is one deliverable out of a package of 3, the
> other two being:
> 
> http://www.ietf.org/internet-drafts/draft-ietf-avt-dtls-srtp-00.txt
> http://www.ietf.org/internet-drafts/draft-fischl-mmusic-sdp-dt
> ls-03.txt
> 
> Which will be handled by AVT and MMUSIC respectively.
> 
> What do you need to do as SIP WG members
> ----------------------------------------
> 
> Provide consensus or not to move these drafts forward.
> 
> Do you agree with the identified author drafts above forming the basis
> of these charter items listed above? If not please express your
> objections to the list, with appropriate technical considerations.
> Indications of support are appropriate as well, particularly 
> if you have
> a technical point you wish to make (alternatively address the 
> WG chairs
> with just "Yes I support").
> 
> Responses please within a calendar week, i.e. by Tuesday 25th 
> September
> 2007, unless there is a feeling that more time and discussion are
> needed.
> 
> 
> Regards
> 
> Keith
> 
> 
> 
> _______________________________________________
> Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip


_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Thu Sep 20 14:45:40 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1IYQzI-0002dn-JC; Thu, 20 Sep 2007 14:42:56 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1IYQzG-0002Wx-VT
	for sip-confirm+ok@megatron.ietf.org; Thu, 20 Sep 2007 14:42:54 -0400
Received: from [10.91.34.44] (helo=ietf-mx.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1IYQzG-0002PM-39
	for sip@ietf.org; Thu, 20 Sep 2007 14:42:54 -0400
Received: from mail.gmx.net ([213.165.64.20])
	by ietf-mx.ietf.org with smtp (Exim 4.43) id 1IYQz8-0006n0-Ov
	for sip@ietf.org; Thu, 20 Sep 2007 14:42:48 -0400
Received: (qmail invoked by alias); 20 Sep 2007 18:42:30 -0000
Received: from p54985A96.dip.t-dialin.net (EHLO [192.168.1.4]) [84.152.90.150]
	by mail.gmx.net (mp048) with SMTP; 20 Sep 2007 20:42:30 +0200
X-Authenticated: #29516787
X-Provags-ID: V01U2FsdGVkX1+3LoFJbWq3YkMEzFkbS8rwrKinQsJ9VXTW57BGr3
	TTR0qpt3DBt7gA
Message-ID: <46F2BF16.2070207@gmx.net>
Date: Thu, 20 Sep 2007 20:42:30 +0200
From: Hannes Tschofenig <Hannes.Tschofenig@gmx.net>
User-Agent: Thunderbird 2.0.0.6 (Windows/20070728)
MIME-Version: 1.0
To: "DRAGE, Keith \(Keith\)" <drage@alcatel-lucent.com>
Subject: Re: [Sip] DTLS-SRTP - more work for the SIP group
References: <5D1A7985295922448D5550C94DE29180016B8DDA@DEEXC1U01.de.lucent.com>
In-Reply-To: <5D1A7985295922448D5550C94DE29180016B8DDA@DEEXC1U01.de.lucent.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Y-GMX-Trusted: 0
X-Spam-Score: 0.0 (/)
X-Scan-Signature: bdc523f9a54890b8a30dd6fd53d5d024
Cc: sip@ietf.org
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

Good plan.

Great to see some progress. Thanks to you and Cullen.

DRAGE, Keith (Keith) wrote:
> (As WG co-chair)
>
> You may remember that some time ago some work was identified that
> crossed multiple working groups in the RAI area on the above subject.
> Cullen took this ball away and played with it in a RAI BOF and there
> came to some consensus on the way forward and what documentation was
> required.
>
> However we now need to put that work through real working groups to get
> it to IESG so we are reallocating it to working groups.
>
> I have requested milestones as follows:
>
> Sep 2007	Requirements for media keying to WGLC (Informational)
> Nov 2007	Requirements for media keying to IESG (Informational)
>
> This will be WG milestones in support of progressing
> http://www.ietf.org/internet-drafts/draft-wing-media-security-requiremen
> ts-04.txt
> And incorporating
> draft-wing-rtpsec-keying-eval
>
> This charter item will essentially be a discussion of how we got where
> we are now. It is therefore not the most earthshattering document, but
> it has been considered valuable to retain some permanent record and an
> informational RFC is the way to do this.
>
> Dec 2007	Establishment of secure media sessions using DTLS-SRTP
> to WGLC (PS)
> Feb 2008	Establishment of secure media sessions using DTLS-SRTP
> to IESG (PS)
>
> This will be WG milestones in support of progressing
> http://www.ietf.org/internet-drafts/draft-fischl-sipping-media-dtls-03.t
> xt
>
> This charter item goes to SIP because it is security related, rather
> than to SIPPING. This is one deliverable out of a package of 3, the
> other two being:
>
> http://www.ietf.org/internet-drafts/draft-ietf-avt-dtls-srtp-00.txt
> http://www.ietf.org/internet-drafts/draft-fischl-mmusic-sdp-dtls-03.txt
>
> Which will be handled by AVT and MMUSIC respectively.
>
> What do you need to do as SIP WG members
> ----------------------------------------
>
> Provide consensus or not to move these drafts forward.
>
> Do you agree with the identified author drafts above forming the basis
> of these charter items listed above? If not please express your
> objections to the list, with appropriate technical considerations.
> Indications of support are appropriate as well, particularly if you have
> a technical point you wish to make (alternatively address the WG chairs
> with just "Yes I support").
>
> Responses please within a calendar week, i.e. by Tuesday 25th September
> 2007, unless there is a feeling that more time and discussion are
> needed.
>
>
> Regards
>
> Keith
>
>
>
> _______________________________________________
> Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
>   



_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Thu Sep 20 15:00:18 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1IYRDg-00089F-Es; Thu, 20 Sep 2007 14:57:48 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1IYRDf-00088W-GS
	for sip-confirm+ok@megatron.ietf.org; Thu, 20 Sep 2007 14:57:47 -0400
Received: from [10.90.34.44] (helo=chiedprmail1.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1IYRDe-0007hi-UZ
	for sip@ietf.org; Thu, 20 Sep 2007 14:57:47 -0400
Received: from ihemail1.lucent.com ([135.245.0.33])
	by chiedprmail1.ietf.org with esmtp (Exim 4.43) id 1IYRD6-00019b-1m
	for sip@ietf.org; Thu, 20 Sep 2007 14:57:12 -0400
Received: from ilexp02.ndc.lucent.com (h135-3-39-2.lucent.com [135.3.39.2])
	by ihemail1.lucent.com (8.13.8/IER-o) with ESMTP id l8KIvAV5019654
	for <sip@ietf.org>; Thu, 20 Sep 2007 13:57:11 -0500 (CDT)
Received: from DEEXP01.de.lucent.com ([135.248.187.65]) by
	ilexp02.ndc.lucent.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Thu, 20 Sep 2007 13:56:35 -0500
Received: from DEEXC1U01.de.lucent.com ([135.248.187.27]) by
	DEEXP01.de.lucent.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Thu, 20 Sep 2007 20:56:32 +0200
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Date: Thu, 20 Sep 2007 20:56:31 +0200
Message-ID: <5D1A7985295922448D5550C94DE29180016F63C7@DEEXC1U01.de.lucent.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Progression of draft-polk-sip-rph-in-responses-00
Thread-Index: Acf7t/VzCNcjo2g3RAukPHJiav01Fg==
From: "DRAGE, Keith \(Keith\)" <drage@alcatel-lucent.com>
To: <sip@ietf.org>
X-OriginalArrivalTime: 20 Sep 2007 18:56:32.0255 (UTC)
	FILETIME=[F5AAD8F0:01C7FBB7]
X-Scanned-By: MIMEDefang 2.57 on 135.245.2.33
X-Spam-Score: 0.0 (/)
X-Scan-Signature: 7aafa0432175920a4b3e118e16c5cb64
Subject: [Sip] Progression of draft-polk-sip-rph-in-responses-00
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

(As WG chair)

Dean attempted to get this one started a while back and it fell on stony
ground.

We have now set charter milestones for all the documents we agreed to
progress at the last IETF meeting except for the draft above.

The reason for this absence is that after discussion with the AD, we are
not convinced that doing this provides a significant benefit. Part of
this may be clarified by revising the draft as an author draft but...

The essence of the problem is that the application is to that of a
transaction stateless proxy. Of the list of activities specified by RFC
4412:

   1.  The request can be given elevated priority for access to PSTN
       gateway resources, such as trunk circuits.

   2.  The request can interrupt lower-priority requests at a user
       terminal, such as an IP phone.

   3.  The request can carry information from one multi-level priority
       domain in the telephone network (e.g., using the facilities of
       Q.735.3 [Q.735.3]) to another, without the SIP proxies themselves
       inspecting or modifying the header field.

   4.  In SIP proxies and back-to-back user agents, requests of higher
       priorities may displace existing signaling requests or bypass
       PSTN gateway capacity limits in effect for lower priorities.

The only reason for including a Resource-Priority header in a response
for use in a transaction stateless proxy is item 4 above. This means
that a response for (namespace x, priority 5) could be handled ahead of
a response for (namespace x, priority 4).

The question is what is the impact of such handling on an overloaded
system, where such priority handling could have a benefit (we assume
that in a system that is not overloaded then responses can be pushed
back pretty much as fast as they are received). If a response processing
gets delayed according to some queueing mechanism, then eventually
timers related to the request at the entity before this proxy will time
out, and the request will be repeated. This increases the processing
load on an overloaded system.=20

So in terms of resource priority, is the appropriate model that
responses should always be handled immediately and before the request
queues are handled, or is there a justification for some other model.

Please respond and tell us we have got it wrong.

Regards

Keith


_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Thu Sep 20 17:40:32 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1IYTgc-0005pL-ID; Thu, 20 Sep 2007 17:35:50 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1IYTga-0005oD-PN
	for sip-confirm+ok@megatron.ietf.org; Thu, 20 Sep 2007 17:35:48 -0400
Received: from [10.90.34.44] (helo=chiedprmail1.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1IYTgZ-0005o4-NJ
	for sip@ietf.org; Thu, 20 Sep 2007 17:35:48 -0400
Received: from smtp1.versatel.nl ([62.58.50.88])
	by chiedprmail1.ietf.org with esmtp (Exim 4.43) id 1IYTgY-0005b3-R0
	for sip@ietf.org; Thu, 20 Sep 2007 17:35:47 -0400
Received: (qmail 3990 invoked by uid 0); 20 Sep 2007 21:36:56 -0000
Received: from ip198-11-212-87.adsl2.versatel.nl (HELO [192.168.1.6])
	([87.212.11.198]) (envelope-sender <jbemmel@zonnet.nl>)
	by smtp1.versatel.nl (qmail-ldap-1.03) with SMTP
	for < >; 20 Sep 2007 21:36:56 -0000
Message-ID: <46F2E7AD.6040101@zonnet.nl>
Date: Thu, 20 Sep 2007 23:35:41 +0200
From: Jeroen van Bemmel <jbemmel@zonnet.nl>
User-Agent: Thunderbird 2.0.0.6 (Windows/20070728)
MIME-Version: 1.0
To: "DRAGE, Keith \(Keith\)" <drage@alcatel-lucent.com>
Subject: Re: [Sip] Progression of draft-polk-sip-rph-in-responses-00
References: <5D1A7985295922448D5550C94DE29180016F63C7@DEEXC1U01.de.lucent.com>
In-Reply-To: <5D1A7985295922448D5550C94DE29180016F63C7@DEEXC1U01.de.lucent.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Score: 0.0 (/)
X-Scan-Signature: 14582b0692e7f70ce7111d04db3781c8
Cc: sip@ietf.org
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

Keith,

I agree with your assessment, there is little benefit and several 
drawbacks in adding a Resource-Priority header to responses.

- for proxies there is no benefit in processing one response before 
another (at least of the same type, i.e. INVITE or non-INVITE) that was 
received earlier. Both free up memory resources, take about the same CPU 
time and prevent retransmissions in the same way, so all other things 
being equal FIFO processing is preferable (because statistically it 
avoids more retransmissions and achieves a lower memory*time product)
- dropping non-provisional responses is a bad idea, especially in overload
- queuing such responses for too long: idem

One could perhaps argue that provisional responses could be treated with 
lower priority than final responses, but if so this is better 
implemented as a local policy; no need to mark individual responses for 
this.

Some additional points:
- responses cannot be challenged, so responders could claim any priority 
they feel appropriate
- a R-P header would add quite some bytes to the response size, filling 
the network buffers sooner which makes overload situations worse
- is there / should there be a relationship between the priority of the 
request and that of its associated responses? if so, the proxy has 
better ways of achieving this (i.e. encoding an integrity protected 
value in the request, no need for standardization here)

Regards,
Jeroen

DRAGE, Keith (Keith) wrote:
> (As WG chair)
>
> Dean attempted to get this one started a while back and it fell on stony
> ground.
>
> We have now set charter milestones for all the documents we agreed to
> progress at the last IETF meeting except for the draft above.
>
> The reason for this absence is that after discussion with the AD, we are
> not convinced that doing this provides a significant benefit. Part of
> this may be clarified by revising the draft as an author draft but...
>
> The essence of the problem is that the application is to that of a
> transaction stateless proxy. Of the list of activities specified by RFC
> 4412:
>
>    1.  The request can be given elevated priority for access to PSTN
>        gateway resources, such as trunk circuits.
>
>    2.  The request can interrupt lower-priority requests at a user
>        terminal, such as an IP phone.
>
>    3.  The request can carry information from one multi-level priority
>        domain in the telephone network (e.g., using the facilities of
>        Q.735.3 [Q.735.3]) to another, without the SIP proxies themselves
>        inspecting or modifying the header field.
>
>    4.  In SIP proxies and back-to-back user agents, requests of higher
>        priorities may displace existing signaling requests or bypass
>        PSTN gateway capacity limits in effect for lower priorities.
>
> The only reason for including a Resource-Priority header in a response
> for use in a transaction stateless proxy is item 4 above. This means
> that a response for (namespace x, priority 5) could be handled ahead of
> a response for (namespace x, priority 4).
>
> The question is what is the impact of such handling on an overloaded
> system, where such priority handling could have a benefit (we assume
> that in a system that is not overloaded then responses can be pushed
> back pretty much as fast as they are received). If a response processing
> gets delayed according to some queueing mechanism, then eventually
> timers related to the request at the entity before this proxy will time
> out, and the request will be repeated. This increases the processing
> load on an overloaded system. 
>
> So in terms of resource priority, is the appropriate model that
> responses should always be handled immediately and before the request
> queues are handled, or is there a justification for some other model.
>
> Please respond and tell us we have got it wrong.
>
> Regards
>
> Keith
>
>
> _______________________________________________
> Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
>
>   


_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Thu Sep 20 18:31:14 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1IYUTx-0004ao-Am; Thu, 20 Sep 2007 18:26:49 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1IYUTv-0004Rz-QK
	for sip-confirm+ok@megatron.ietf.org; Thu, 20 Sep 2007 18:26:47 -0400
Received: from [10.91.34.44] (helo=ietf-mx.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1IYUTv-0004Nx-5d
	for sip@ietf.org; Thu, 20 Sep 2007 18:26:47 -0400
Received: from smtp-1.hut.fi ([130.233.228.91])
	by ietf-mx.ietf.org with esmtp (Exim 4.43) id 1IYUTl-0003zG-PZ
	for sip@ietf.org; Thu, 20 Sep 2007 18:26:44 -0400
Received: from localhost (katosiko.hut.fi [130.233.228.115])
	by smtp-1.hut.fi (8.13.6/8.12.10) with ESMTP id l8KMQ45W004177;
	Fri, 21 Sep 2007 01:26:04 +0300
Received: from smtp-1.hut.fi ([130.233.228.91])
	by localhost (katosiko.hut.fi [130.233.228.115]) (amavisd-new,
	port 10024)
	with LMTP id 07183-08-6; Fri, 21 Sep 2007 01:26:03 +0300 (EEST)
Received: from mail.tml.hut.fi (mail.tml.hut.fi [130.233.47.34])
	by smtp-1.hut.fi (8.13.6/8.12.10) with ESMTP id l8KMOKrP003713;
	Fri, 21 Sep 2007 01:24:20 +0300
Received: from localhost (localhost.tml.hut.fi [127.0.0.1])
	by mail.tml.hut.fi (Postfix) with ESMTP id BB2973A2CD9;
	Fri, 21 Sep 2007 01:24:19 +0300 (EEST)
Received: from mail.tml.hut.fi ([127.0.0.1])
	by localhost (mail.tml.hut.fi [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 03036-07; Fri, 21 Sep 2007 01:24:15 +0300 (EEST)
Received: from localhost (newhorde.tml.hut.fi [130.233.45.225])
	by mail.tml.hut.fi (Postfix) with ESMTP id 76D5D3A2CD8;
	Fri, 21 Sep 2007 01:24:15 +0300 (EEST)
Received: from tltpc77.hut.fi (tltpc77.hut.fi [130.233.158.137]) by
	horde.tml.hut.fi (Horde MIME library) with HTTP;
	Fri, 21 Sep 2007 01:22:59 +0300
Message-ID: <20070921012259.39rpqki5cg84c4wg@horde-intra.tml.hut.fi>
Date: Fri, 21 Sep 2007 01:22:59 +0300
From: sergiole@tml.hut.fi
To: sip@ietf.org
Subject: Re: [Sip] Outbound-10 comments
References: <OFE1CA518D.694C1DC5-ON8525735C.0051D9FD-8525735C.0052F88C@mitel.com>
In-Reply-To: <OFE1CA518D.694C1DC5-ON8525735C.0051D9FD-8525735C.0052F88C@mitel.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset=ISO-8859-1;
	DelSp="Yes";
	format="flowed"
Content-Disposition: inline
Content-Transfer-Encoding: quoted-printable
User-Agent: Internet Messaging Program (IMP) H3 (4.1.3)
X-TML-Virus-Scanned: amavisd-new-2.3.2-tml at tml.hut.fi
X-Spam-Checker-Version: SpamAssassin 2.64 (2004-01-11) on katosiko.hut.fi
X-TKK-Virus-Scanned: by amavisd-new-2.1.2-hutcc at katosiko.hut.fi
X-Spam-Score: 1.8 (+)
X-Scan-Signature: 0cff8c3ec906d056784362c06f5f88c1
Cc: fluffy@cisco.com, sip@ietf.org, peter_blatherwick@mitel.com,
	rohan@ekabal.com
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org



Hi,


  I composed the email below a month ago related to this thread and =20
thought that I was missing something so I did not posted it, but it =20
seems that there are some issues pending with the keepalive label and =20
processing.

  Sorry to introduce more questions:

--

  My comments are about the keep-stun label.

  It is not very clear how the UA discovers that the Edge Proxy supports STU=
N.


In section 8 (keepalive processing). I read

"   When a URI is created that refers to a SIP node that supports STUN as
    described in this section, the 'keep-stun' URI parameter, as defined
    in Section 12 MUST be added to the URI.  This allows a UA to inspect
    the URI to decide if it should attempt to send STUN requests to this
    location.  For example, an edge proxy could insert this parameter
    into its Path URI so that the registering UA can discover the edge
    proxy supports STUN keepalives."


Q1. Why "an edge proxy COULD insert this parameter into its Path URI" =20
and not MUST ? (considering that the UA supports STUN)


Q2. In what other header can I also add the keep-stun, so that it will =20
be still present when I get back a response?


Note that in the example of section 9 the responses 200-OK haven't any =20
keep-stun

(Also mentioned in =20
http://www1.ietf.org/mail-archive/web/sip/current/msg20295.html)


Q3. For the case in this example, How will the Callee know that it is =20
allowed to send STUN keepalives? (no keep-stun present)

For the case in the example, and considering:

       "Typically, a SIP node first sends a SIP request and waits to
       receive a final response (other than a 408 response) over a flow
       to a new target destination, before sending any STUN messages."

The callee will never send the keepalives...

--
Part II


  In my opinion, the edge proxy MUST add a list of the supported =20
mechanisms for keepalive in the 200-OK response to REGISTER. The list =20
MUST include ALL the supported mechanisms (so the UA can for example =20
know that if some mechanism is not available for the transport it used =20
to register there are other mechanisms for other protocols. In this =20
case the UA will form a new flow by registering using another protocol.)

Example 1:

UA sends REGISTER over UDP.
It gets back a 200 OK with only keep-crlf.
UA recognizes that STUN is not available, so a UDP flow can not =20
succeed. Then it sends a REGISTER over TCP.

Example 2:

UA sends REGISTER over UDP.
It gets back a 200 OK with keep-crlf and keep-stun.
UA recognizes that keep-crlf is present so (its logic) can judge that =20
TCP is a better choice.
Then the UA forgets using UDP and switches to TCP: sends a REGISTER over TCP=
.

Q: Should not be handy to have something like keep-Scrlf so the UA can =20
knows that TLS is also supported? The same for DTLS.




Sergio


Quoting peter_blatherwick@mitel.com:

> I agree with Jerry here, and believe this has come up before (?).  It is
> pointless for the originating UA to try to impose, or infer, the keepalive
> mechanism before it can know what is applicable.
>
> An additional comment along these lines.
>> a. UA sends REGISTER to the proxy with a "outbound" tag in the Supported
> header.
> ...
>> c. If the "outbound" tag is present in the 200 OK, and if the transport
> is UDP, using the STUN keep alive, other connection based transport using
> crlf keep alive.
>
> Step a) would really imply the originating UA MUST support both keepalive
> mechanisms, and c) implies it MUST begin using the appropriate one after
> 200 OK.  The usage is implied, not explicit, which I believe is sufficient
> in this case.  Alternatively, the usage could be made more explicit by
> listing the supported k-a mechanisms in Supported exchange, or some such.
> This should be spelled out either way.
>
> -- Peter Blatherwick
>
>
>
>
>
>
> Jerry Yin <jerry.yin@yahoo.com>
> 19.09.07 16:40
>
>         To:     sip@ietf.org, fluffy@cisco.com, rohan@ekabal.com
>         cc:
>         Subject:        [Sip] Outbound-10 comments
>
>
> Hi Cullen and Rohan,
>
> In the draft, it requires the UA configure the next hop route header with
> "keep-stun", "keep-crlf", or "timed-keepalive" tags. This would cause some
> problems.
>
> 1. As an example, the route-set contains this route header as indicated in
> section 9 example:
> Route: <sip:pri.example.com;lr;keep-stun>
> If the DNS NAPTR resolution for pri.example.com is TCP, SCTP or TLS, the
> keep-stun will be useless. Vice versa, if the pri.example.com is resolved
> as UDP, and if "keep-crlf" was manually configured, it is not working
> either.
>
> 2. Before sending the REGISTER request, the admin/or user does not know
> what keep-alive mechanism the proxy (or edge proxy) supports. Blindly
> configure the keep-stun, or keep-crlf would cause the problem that the
> draft indicated itself in section 8: "the node could be blacklisted for
> UDP traffic".
> The better approach is to let the UA and the proxy to negotiate, not
> manually configure from UA side.
> a. UA sends REGISTER to the proxy with a "outbound" tag in the Supported
> header.
> b. Proxy insert the "outbound" tag in the 200 OK, if the UA indicated that
> it supports the outbound.
> c. If the "outbound" tag is present in the 200 OK, and if the transport is
> UDP, using the STUN keep alive, other connection based transport using
> crlf keep alive.
> There would be no way to mass up by configurations with this approach. Let
> me know if I missed something.
>
> Regards,
> Jerry Yin
>
>  Yahoo! oneSearch: Finally, mobile search that gives answers, not web
> links. _______________________________________________
> Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
>





_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Thu Sep 20 19:54:35 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1IYVmy-0000Um-2A; Thu, 20 Sep 2007 19:50:32 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1IYVmx-0000Uh-0c
	for sip-confirm+ok@megatron.ietf.org; Thu, 20 Sep 2007 19:50:31 -0400
Received: from [10.91.34.44] (helo=ietf-mx.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1IYVmw-0000QP-My
	for sip@ietf.org; Thu, 20 Sep 2007 19:50:30 -0400
Received: from repmmg02.bea.com ([66.248.192.39])
	by ietf-mx.ietf.org with esmtp (Exim 4.43) id 1IYVmo-0005dJ-Dv
	for sip@ietf.org; Thu, 20 Sep 2007 19:50:28 -0400
Received: from repmmr02.bea.com (repmmr02.bea.com [10.160.30.72])
	by repmmg02.bea.com (Switch-3.3.0/Switch-3.2.7) with ESMTP id
	l8KNo0UW007332; Thu, 20 Sep 2007 16:50:00 -0700
Received: from repbex01.amer.bea.com (repbex01.bea.com [10.160.26.98])
	by repmmr02.bea.com (Switch-3.3.0/Switch-3.2.7) with ESMTP id
	l8KNnpe6021175; Thu, 20 Sep 2007 16:49:59 -0700
Received: from 172.24.28.14 ([172.24.28.14]) by repbex01.amer.bea.com
	([10.160.26.98]) with Microsoft Exchange Server HTTP-DAV ; 
	Thu, 20 Sep 2007 23:49:57 +0000
User-Agent: Microsoft-Entourage/11.3.6.070618
Date: Thu, 20 Sep 2007 16:14:36 -0400
Subject: Re: [Sip] INFO
From: Eric Burger <eburger@bea.com>
To: Brian Stucker <bstucker@nortel.com>
Message-ID: <C3184CEC.B881%eburger@bea.com>
Thread-Topic: [Sip] INFO
Thread-Index: AcfopsS6ijL/eVSeR7OkrFxhvjEZ1wCqsuc+AgRJN7AAEj1plgAJzfOgAfv+sL8=
In-Reply-To: <6FC4416DDE56C44DA0AEE67BC7CA437116A57D59@zrc2hxm2.corp.nortel.com>
Mime-version: 1.0
Content-type: text/plain; charset=ISO-8859-1
Content-transfer-encoding: quoted-printable
x-BEA-PMX-Instructions: AV
x-BEA-MM: Internal-To-External
X-Spam-Score: 1.4 (+)
X-Scan-Signature: 2ed806e2f53ff1a061ad4f97e00345ac
Cc: sip@ietf.org
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

1. INFO for keep alive? That=B9s a new one. Everyone I know uses OPTIONS. O=
h
well. Maybe we should resurrect the PING method.

2. INVITE discussion is a non-sequitur.  INVITE fully specifies a
negotiation framework.  INVITE without SDP is an invitation for you to star=
t
the negotiation.

3. The semantics of the media are totally orthogonal to the INVITE
negotiation.  C.f. the LONG discussion on P-Asserted-Service.

4. The semantics of an INFO body is critical.  The stack needs to know how
to process the body or where to pass the message to.  Right now, there is n=
o
mechanism for doing that.  Content-type does not work.

5. "Just write it down": Agreed, and there has already been a framework for
doing INFO negotiation (Dean's document).  I was about to go there, until I
realized that it would be identical to SUB/NOT.

6. Rough work group consensus was NOT to create an INFO negotiation
mechanism.  If you can convince the chairs otherwise, I'd be happy to submi=
t
a negotiation mechanism.

7. The argument that we have to extend INFO to do negotiation because we
need to protect the existing INFO-based DTMF implementations is totally
bogus.  If we create a negotiation mechanism, those existing implementation=
s
have to be fixed.  If they have to be fixed, any reason not to fix them wit=
h
something that already works and won't suck down work group and RFC Editor
time?

8. Who in their right mind would use KPML for keep alive?  You can always
subscribe to anything with an expires of zero.  It is still silly in any
event [sic].


On 9/10/07 11:46 AM, "Brian Stucker" <bstucker@nortel.com> wrote:

>=20
>=20
>> -----Original Message-----
>> From: Eric Burger [mailto:eburger@bea.com]
>> Sent: Monday, September 10, 2007 8:08 AM
>> To: Stucker, Brian (RICH1:AR00)
>> Cc: sip@ietf.org
>> Subject: Re: [Sip] INFO
>>=20
>> Brian Stucker Says:
>>    I'm not really sure what your point was
>>    here unless you are against people
>>    writing down a common way of using
>>    a protocol amongst themselves
>>=20
>> Actually, I have no problem with "people writing down a
>> common way of using a protocol". One would offer that is the
>> work of the IETF. However, the key phrase I have a problem
>> with is, "amongst themselves." The IETF makes protocols for
>> everybody, not just members of the garden club. The garden
>> club can do whatever they want inside their garden. The IETF
>> has no right nor interest in mandating what goes on inside
>> their garden.
>=20
> True, but it's not a club. Those disclaimers are to limit reproduction
> of the material by other SDOs without permission. You don't have to be a
> member of the garden club to use the protocols written by the garden
> club, such as they are. Whether you want to or not is another matter
> entirely.
>=20
> [SNIP]
>=20
>> In my mind, INFO for DTMF falls into the, "it is not an
>> Internet protocol, but you can do whatever you want in your
>> playground, so long as your fences are good and you will
>> still play with me. P.S., do not claim you are using Internet
>> protocols, because you are not."
>=20
> Only because they happen to not be written down as an IETF document,
> which, as I suggested earlier, may be the solution to the problem.
>=20
>>=20
>> P-Preferred-Service is an example of something that falls
>> into "the toxic substance that will bleed through, so do not
>> even think of using it" category.
>=20
> So then I would be most interested to hear your thoughts on the
> following:
>=20
> The first sentence in section 2 in your draft states:
>=20
>         "There is no programmatic way of determining what the content of
> an INFO request means."
>=20
> You could say the same is true for an INVITE. To the 'User-Agent's point
> of view, an [INVITE] just appears'. Without a negotiation mechanism such
> as SDP, is this INVITE conveying an conference call, a user-to-user
> gaming session, or what? We can't programmatically determine what an
> INVITE with no SDP means. So if I'm following your argument here wrt
> INFO, the analogous solution would be to deprecate INVITE unless it
> always has SDP.
>=20
> But wait, there's more... Again, using your line of thought for INFO,
> SDP may not be good enough:
>=20
>         "However, as we learned in the messaging community [7], relying
> upon the MIME type alone is not sufficient to determine the context of
> the message. Clearly, as shown in the previous paragraph [which
> describes using the MIME type of an INFO as a negotiation mechanism],
> the message content relates to the message context. However, it is quite
> easy to imagine situations where the same content type has multiple
> meanings for a User Agent."
>=20
> So if the content relates to the message context, and the content and
> type can be ambiguous, such as the INVITE contains SDP, or the SDP
> contains an audio stream (is it a conference or is it a podcast or what)
> or worse, SDP that contains content types that are not well-known, then
> clearly SIP and SDP are not enough to correctly identify what the User
> Agent is to do with this request. Hence, a mechanism such as
> P-Preferred-Service rears it's ugly head.
>=20
> As a result, if I understand you correctly, rather than correct the
> negotiation problem (more like just write it down because it's already
> being neogitated out there in the wild in many cases) and let the UAs
> deal with it, you'd rather deprecate the whole thing in favor of
> something else. Correct?
>=20
> Also, your list of examples is missing one usecase that KPML definitely
> does not address (but session timers does): INFO is used to detect if a
> call is still alive.
>=20
> Cheers,
> Brian
>=20



Notice:  This email message, together with any attachments, may contain inf=
ormation  of  BEA Systems,  Inc.,  its subsidiaries  and  affiliated entiti=
es,  that may be confidential,  proprietary,  copyrighted  and/or legally p=
rivileged, and is intended solely for the use of the individual or entity n=
amed in this message. If you are not the intended recipient, and have recei=
ved this message in error, please immediately return this by email and then=
 delete it.


_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Fri Sep 21 00:07:00 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1IYZfZ-0002Fs-FA; Thu, 20 Sep 2007 23:59:09 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1IYZfX-0002EZ-P4
	for sip-confirm+ok@megatron.ietf.org; Thu, 20 Sep 2007 23:59:07 -0400
Received: from [10.91.34.44] (helo=ietf-mx.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1IYZfX-0002EQ-FK
	for sip@ietf.org; Thu, 20 Sep 2007 23:59:07 -0400
Received: from zrtps0kn.nortel.com ([47.140.192.55])
	by ietf-mx.ietf.org with esmtp (Exim 4.43) id 1IYZfS-0002o5-8Y
	for sip@ietf.org; Thu, 20 Sep 2007 23:59:07 -0400
Received: from zrc2hxm2.corp.nortel.com (zrc2hxm2.corp.nortel.com
	[47.103.123.73])
	by zrtps0kn.nortel.com (Switch-2.2.6/Switch-2.2.0) with ESMTP id
	l8L3wes15408; Fri, 21 Sep 2007 03:58:40 GMT
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: RE: [Sip] INFO
Date: Thu, 20 Sep 2007 22:58:39 -0500
Message-ID: <6FC4416DDE56C44DA0AEE67BC7CA437116DFF008@zrc2hxm2.corp.nortel.com>
In-Reply-To: <C3184CEC.B881%eburger@bea.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] INFO
Thread-Index: AcfopsS6ijL/eVSeR7OkrFxhvjEZ1wCqsuc+AgRJN7AAEj1plgAJzfOgAfv+sL8ADxvDAA==
References: <6FC4416DDE56C44DA0AEE67BC7CA437116A57D59@zrc2hxm2.corp.nortel.com>
	<C3184CEC.B881%eburger@bea.com>
From: "Brian Stucker" <bstucker@nortel.com>
To: "Eric Burger" <eburger@bea.com>
X-Spam-Score: 0.0 (/)
X-Scan-Signature: 223e3c753032a50d5dc4443c921c3fcd
Cc: sip@ietf.org
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

=20

> -----Original Message-----
> From: Eric Burger [mailto:eburger@bea.com]=20
> Sent: Thursday, September 20, 2007 3:15 PM
> To: Stucker, Brian (RICH1:AR00)
> Cc: sip@ietf.org
> Subject: Re: [Sip] INFO
>=20
> 1. INFO for keep alive? That=B9s a new one. Everyone I know=20
> uses OPTIONS. Oh well. Maybe we should resurrect the PING method.

Well, you don't know Jack then. Jack uses INFO. :P

Seriously, there are people out there using it this way. No negotiation =
is required. I'm not defending it, I'm just letting you know that there =
are a number boxes out there hammering away with INFO requests to see if =
a dialog is still active. Ask around and I'm sure you'll find people who =
have at least seen this done even if they don't generate the requests =
themselves.

Honestly, I think we should all be using RFC-4028 and not OPTIONS or =
INFO for this purpose. If you want to put that in your draft, I'll =
happily support that.

>=20
> 2. INVITE discussion is a non-sequitur.  INVITE fully=20
> specifies a negotiation framework.  INVITE without SDP is an=20
> invitation for you to start the negotiation.

Ok, so I send you an OPTIONS or an INVITE first to see what =
content-types/mechanisms you might support for DTMF transport. You tell =
me what you support, and then I use that mechanism (might be INFO =
digits). What's the difference? If I send you something you don't like =
or understand you can reject it. Sounds like a negotiation framework =
already exists.

>=20
> 3. The semantics of the media are totally orthogonal to the=20
> INVITE negotiation.  C.f. the LONG discussion on P-Asserted-Service.
>=20
> 4. The semantics of an INFO body is critical.  The stack=20
> needs to know how to process the body or where to pass the=20
> message to.  Right now, there is no mechanism for doing that.=20
>  Content-type does not work.

So where do you think the stack sends SDP content types? You're making =
the claim here that the content-type can't be used to determine the =
semantics, or that the stack can't figure out how to handle it and must =
just simply choke and die because it was conveyed in an INFO instead of =
an INVITE. I'm probing to find the justification for that assertion.

>=20
> 5. "Just write it down": Agreed, and there has already been a=20
> framework for doing INFO negotiation (Dean's document).  I=20
> was about to go there, until I realized that it would be=20
> identical to SUB/NOT.
>=20
> 6. Rough work group consensus was NOT to create an INFO=20
> negotiation mechanism.  If you can convince the chairs=20
> otherwise, I'd be happy to submit a negotiation mechanism.

I don't remember it going down quite that way and I was at the mic =
expressing support. Perhaps I misunderstood the question that prompted =
the vote, but I interpreted it as meaning we didn't think one was =
NECESSARY. Big difference in my mind. Acknowledge the uses as they exist =
today, encourage people to look elsewhere for the future. I thought that =
was what we said at the last meeting. You're arguing that INFO w/ DTMF =
is broken because there's no negotiation mechanism. Sending DTMF with a =
given content-type and expecting the other side to reject that content =
type if it does not understand it is a basic tenet of SIP. You can =
clearly tell if the other side understands or not unless it is not =
paying attention to what it's being sent.

>=20
> 7. The argument that we have to extend INFO to do negotiation=20
> because we need to protect the existing INFO-based DTMF=20
> implementations is totally bogus.  If we create a negotiation=20
> mechanism, those existing implementations have to be fixed. =20
> If they have to be fixed, any reason not to fix them with=20
> something that already works and won't suck down work group=20
> and RFC Editor time?

I'm not asking to fix anything. Honestly, I think the vast majority of =
implementations are moving on to 2833/4733 to convey DTMF digits and to =
a great extent that makes the discussion somewhat moot in my mind.

Whether this document exists or not will not affect INFO-based DTMF =
implementations. The horse is out of the barn and way down the road on =
that one. You've made some assertions in your arguments that I believe =
need some substantiation. You've said that the content-type is not =
enough to figure out what is going on at all. I disagee. I think a =
content type that says "I'm sending you DTMF digits in a particular =
format" is every bit as robust as the content-type that conveys MWI for =
instance, and a heck of a lot more specific than SDP is. We have done =
quite well with SDP for some time in getting things to work, so I don't =
understand why simply writing down: hey, this content-type means DTMF =
digits is not a valid way forward to closing the books on that =
implementation. We can even say things like "please don't do this in the =
future" but unless we can clearly show WHY people shouldn't do this in =
the future that uses logic that can also clarify the things that we DO =
want them to do in the future, I don't see how this can be successful.

It appears arbitrary to say DTMF in INFO is bad because it relies on =
content-type settings to identify it as such when we do not require a =
P-Asserted-Service header in every INVITE to clarify the SDP that lies =
within.

I think you may be confusing my questioning of your arguments as a =
declaration of support for using INFO for a particular purpose. I =
honestly don't care if another INFO is ever generated by any SIP stack =
anywhere ever again for any purpose personally. I'm looking for =
consistent arguments that can be applied to problems outside of INFO so =
when the next bad idea (tm) comes along we can clearly point to this =
document and say "you're trying to do X which we can clearly show is bad =
and does not align to the things we think are good." I haven't read such =
an argument yet.

>=20
> 8. Who in their right mind would use KPML for keep alive? =20
> You can always subscribe to anything with an expires of zero.=20
>  It is still silly in any event [sic].

True. I completely agree. I didn't write that last statement correctly. =
I was intending to point out that INFO was being used this way. KPML has =
nothing to do with it.

>=20
>=20
> On 9/10/07 11:46 AM, "Brian Stucker" <bstucker@nortel.com> wrote:
>=20
> >=20
> >=20
> >> -----Original Message-----
> >> From: Eric Burger [mailto:eburger@bea.com]
> >> Sent: Monday, September 10, 2007 8:08 AM
> >> To: Stucker, Brian (RICH1:AR00)
> >> Cc: sip@ietf.org
> >> Subject: Re: [Sip] INFO
> >>=20
> >> Brian Stucker Says:
> >>    I'm not really sure what your point was
> >>    here unless you are against people
> >>    writing down a common way of using
> >>    a protocol amongst themselves
> >>=20
> >> Actually, I have no problem with "people writing down a=20
> common way of=20
> >> using a protocol". One would offer that is the work of the IETF.=20
> >> However, the key phrase I have a problem with is, "amongst=20
> >> themselves." The IETF makes protocols for everybody, not=20
> just members=20
> >> of the garden club. The garden club can do whatever they=20
> want inside=20
> >> their garden. The IETF has no right nor interest in mandating what=20
> >> goes on inside their garden.
> >=20
> > True, but it's not a club. Those disclaimers are to limit=20
> reproduction=20
> > of the material by other SDOs without permission. You don't=20
> have to be=20
> > a member of the garden club to use the protocols written by=20
> the garden=20
> > club, such as they are. Whether you want to or not is=20
> another matter=20
> > entirely.
> >=20
> > [SNIP]
> >=20
> >> In my mind, INFO for DTMF falls into the, "it is not an Internet=20
> >> protocol, but you can do whatever you want in your playground, so=20
> >> long as your fences are good and you will still play with=20
> me. P.S.,=20
> >> do not claim you are using Internet protocols, because you=20
> are not."
> >=20
> > Only because they happen to not be written down as an IETF=20
> document,=20
> > which, as I suggested earlier, may be the solution to the problem.
> >=20
> >>=20
> >> P-Preferred-Service is an example of something that falls=20
> into "the=20
> >> toxic substance that will bleed through, so do not even think of=20
> >> using it" category.
> >=20
> > So then I would be most interested to hear your thoughts on the
> > following:
> >=20
> > The first sentence in section 2 in your draft states:
> >=20
> >         "There is no programmatic way of determining what=20
> the content=20
> > of an INFO request means."
> >=20
> > You could say the same is true for an INVITE. To the 'User-Agent's=20
> > point of view, an [INVITE] just appears'. Without a negotiation=20
> > mechanism such as SDP, is this INVITE conveying an=20
> conference call, a=20
> > user-to-user gaming session, or what? We can't programmatically=20
> > determine what an INVITE with no SDP means. So if I'm=20
> following your=20
> > argument here wrt INFO, the analogous solution would be to=20
> deprecate=20
> > INVITE unless it always has SDP.
> >=20
> > But wait, there's more... Again, using your line of thought=20
> for INFO,=20
> > SDP may not be good enough:
> >=20
> >         "However, as we learned in the messaging community [7],=20
> > relying upon the MIME type alone is not sufficient to determine the=20
> > context of the message. Clearly, as shown in the previous paragraph=20
> > [which describes using the MIME type of an INFO as a negotiation=20
> > mechanism], the message content relates to the message context.=20
> > However, it is quite easy to imagine situations where the=20
> same content=20
> > type has multiple meanings for a User Agent."
> >=20
> > So if the content relates to the message context, and the=20
> content and=20
> > type can be ambiguous, such as the INVITE contains SDP, or the SDP=20
> > contains an audio stream (is it a conference or is it a podcast or=20
> > what) or worse, SDP that contains content types that are not=20
> > well-known, then clearly SIP and SDP are not enough to correctly=20
> > identify what the User Agent is to do with this request. Hence, a=20
> > mechanism such as P-Preferred-Service rears it's ugly head.
> >=20
> > As a result, if I understand you correctly, rather than correct the=20
> > negotiation problem (more like just write it down because=20
> it's already=20
> > being neogitated out there in the wild in many cases) and=20
> let the UAs=20
> > deal with it, you'd rather deprecate the whole thing in favor of=20
> > something else. Correct?
> >=20
> > Also, your list of examples is missing one usecase that KPML=20
> > definitely does not address (but session timers does): INFO=20
> is used to=20
> > detect if a call is still alive.
> >=20
> > Cheers,
> > Brian
> >=20
>=20
>=20
>=20
> Notice:  This email message, together with any attachments,=20
> may contain information  of  BEA Systems,  Inc.,  its=20
> subsidiaries  and  affiliated entities,  that may be=20
> confidential,  proprietary,  copyrighted  and/or legally=20
> privileged, and is intended solely for the use of the=20
> individual or entity named in this message. If you are not=20
> the intended recipient, and have received this message in=20
> error, please immediately return this by email and then delete it.
>=20


_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Fri Sep 21 03:08:12 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1IYcUa-0006ph-BC; Fri, 21 Sep 2007 03:00:00 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1IYcUX-0006nt-Qn
	for sip-confirm+ok@megatron.ietf.org; Fri, 21 Sep 2007 02:59:57 -0400
Received: from [10.90.34.44] (helo=chiedprmail1.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1IYcUS-0006jA-Or
	for sip@ietf.org; Fri, 21 Sep 2007 02:59:52 -0400
Received: from gecko.sbs.de ([194.138.37.40])
	by chiedprmail1.ietf.org with esmtp (Exim 4.43) id 1IYcUR-00022q-TC
	for sip@ietf.org; Fri, 21 Sep 2007 02:59:52 -0400
Received: from mail2.sbs.de (localhost [127.0.0.1])
	by gecko.sbs.de (8.12.6/8.12.6) with ESMTP id l8L6xj7t002832;
	Fri, 21 Sep 2007 08:59:45 +0200
Received: from fthw9xoa.ww002.siemens.net (fthw9xoa.ww002.siemens.net
	[157.163.133.201])
	by mail2.sbs.de (8.12.6/8.12.6) with ESMTP id l8L6xcLY003533;
	Fri, 21 Sep 2007 08:59:45 +0200
Received: from MCHP7I7A.ww002.siemens.net ([139.25.131.138]) by
	fthw9xoa.ww002.siemens.net with Microsoft SMTPSVC(6.0.3790.1830); 
	Fri, 21 Sep 2007 08:59:40 +0200
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: [Sip] DTLS-SRTP - more work for the SIP group
Date: Fri, 21 Sep 2007 08:59:22 +0200
Message-ID: <454C097A8CB3F14BB73494D0CE053DBE279366@MCHP7I7A.ww002.siemens.net>
In-Reply-To: <5D1A7985295922448D5550C94DE29180016B8DDA@DEEXC1U01.de.lucent.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] DTLS-SRTP - more work for the SIP group
Thread-Index: Acf6I4MrWDTcLlO+SJSadDEjUFPpiAB+Wbqg
References: <5D1A7985295922448D5550C94DE29180016B8DDA@DEEXC1U01.de.lucent.com>
From: "Fries, Steffen" <steffen.fries@siemens.com>
To: "DRAGE, Keith (Keith)" <drage@alcatel-lucent.com>, <sip@ietf.org>
X-OriginalArrivalTime: 21 Sep 2007 06:59:40.0127 (UTC)
	FILETIME=[FADAB6F0:01C7FC1C]
X-Spam-Score: 0.0 (/)
X-Scan-Signature: 32b73d73e8047ed17386f9799119ce43
Cc: 
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

Good to see the way forward, we need to get the requiremens fixed before
fixing the solution.

Steffen =20

> -----Original Message-----
> From: DRAGE, Keith (Keith) [mailto:drage@alcatel-lucent.com]=20
> Sent: Tuesday, September 18, 2007 8:41 PM
> To: sip@ietf.org
> Subject: [Sip] DTLS-SRTP - more work for the SIP group
>=20
> (As WG co-chair)
>=20
> You may remember that some time ago some work was identified=20
> that crossed multiple working groups in the RAI area on the=20
> above subject.
> Cullen took this ball away and played with it in a RAI BOF=20
> and there came to some consensus on the way forward and what=20
> documentation was required.
>=20
> However we now need to put that work through real working=20
> groups to get it to IESG so we are reallocating it to working groups.
>=20
> I have requested milestones as follows:
>=20
> Sep 2007	Requirements for media keying to WGLC (Informational)
> Nov 2007	Requirements for media keying to IESG (Informational)
>=20
> This will be WG milestones in support of progressing=20
> http://www.ietf.org/internet-drafts/draft-wing-media-security-
> requiremen
> ts-04.txt
> And incorporating
> draft-wing-rtpsec-keying-eval
>=20
> This charter item will essentially be a discussion of how we=20
> got where we are now. It is therefore not the most=20
> earthshattering document, but it has been considered valuable=20
> to retain some permanent record and an informational RFC is=20
> the way to do this.
>=20
> Dec 2007	Establishment of secure media sessions using DTLS-SRTP
> to WGLC (PS)
> Feb 2008	Establishment of secure media sessions using DTLS-SRTP
> to IESG (PS)
>=20
> This will be WG milestones in support of progressing=20
> http://www.ietf.org/internet-drafts/draft-fischl-sipping-media
> -dtls-03.t
> xt
>=20
> This charter item goes to SIP because it is security related,=20
> rather than to SIPPING. This is one deliverable out of a=20
> package of 3, the other two being:
>=20
> http://www.ietf.org/internet-drafts/draft-ietf-avt-dtls-srtp-00.txt
> http://www.ietf.org/internet-drafts/draft-fischl-mmusic-sdp-dt
> ls-03.txt
>=20
> Which will be handled by AVT and MMUSIC respectively.
>=20
> What do you need to do as SIP WG members
> ----------------------------------------
>=20
> Provide consensus or not to move these drafts forward.
>=20
> Do you agree with the identified author drafts above forming=20
> the basis of these charter items listed above? If not please=20
> express your objections to the list, with appropriate=20
> technical considerations.
> Indications of support are appropriate as well, particularly=20
> if you have a technical point you wish to make (alternatively=20
> address the WG chairs with just "Yes I support").
>=20
> Responses please within a calendar week, i.e. by Tuesday 25th=20
> September 2007, unless there is a feeling that more time and=20
> discussion are needed.
>=20
>=20
> Regards
>=20
> Keith
>=20
>=20
>=20
> _______________________________________________
> Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol Use=20
> sip-implementors@cs.columbia.edu for questions on current sip=20
> Use sipping@ietf.org for new developments on the application of sip
>=20


_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Fri Sep 21 05:04:27 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1IYeKi-0008V6-OZ; Fri, 21 Sep 2007 04:57:56 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1IYeKg-0008Pk-N6
	for sip-confirm+ok@megatron.ietf.org; Fri, 21 Sep 2007 04:57:54 -0400
Received: from [10.91.34.44] (helo=ietf-mx.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1IYeKg-0008LT-DY
	for sip@ietf.org; Fri, 21 Sep 2007 04:57:54 -0400
Received: from ihemail1.lucent.com ([135.245.0.33])
	by ietf-mx.ietf.org with esmtp (Exim 4.43) id 1IYeKZ-0001H8-5C
	for sip@ietf.org; Fri, 21 Sep 2007 04:57:52 -0400
Received: from ilexp01.ndc.lucent.com (h135-3-39-1.lucent.com [135.3.39.1])
	by ihemail1.lucent.com (8.13.8/IER-o) with ESMTP id l8L8uKSe014601
	for <sip@ietf.org>; Fri, 21 Sep 2007 03:56:53 -0500 (CDT)
Received: from DEEXP01.de.lucent.com ([135.248.187.65]) by
	ilexp01.ndc.lucent.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Fri, 21 Sep 2007 03:56:49 -0500
Received: from DEEXC1U01.de.lucent.com ([135.248.187.27]) by
	DEEXP01.de.lucent.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Fri, 21 Sep 2007 10:56:39 +0200
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: [Sip] WGLC for draft-ietf-sip-subnot-etags-01
Date: Fri, 21 Sep 2007 10:56:30 +0200
Message-ID: <5D1A7985295922448D5550C94DE29180016F64E4@DEEXC1U01.de.lucent.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] WGLC for draft-ietf-sip-subnot-etags-01
Thread-Index: Acfu1dIrsaaCSebQRbSdGL0iVypPsQL7UEsAAC++86AAKrXvMA==
References: <5D1A7985295922448D5550C94DE2918001636AF1@DEEXC1U01.de.lucent.com>
From: "DRAGE, Keith \(Keith\)" <drage@alcatel-lucent.com>
To: <sip@ietf.org>
X-OriginalArrivalTime: 21 Sep 2007 08:56:39.0812 (UTC)
	FILETIME=[52E9A440:01C7FC2D]
X-Scanned-By: MIMEDefang 2.57 on 135.245.2.33
X-Spam-Score: 0.0 (/)
X-Scan-Signature: 36c793b20164cfe75332aa66ddb21196
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

I now have some volunteers to do reviews:

Avshalom Houri
Tolga Asveren
Brian Stucker

Thanks in aniticipation.

While we don't need additional formal reviews, this does not preclude
comments under the WGLC, so if you think there is a problem in the text
there somewhere, please get your comments on the list.

Regards

Keith=20

> -----Original Message-----
> From: DRAGE, Keith (Keith)=20
> Sent: Thursday, September 20, 2007 1:34 PM
> To: 'sip@ietf.org'
> Subject: RE: [Sip] WGLC for draft-ietf-sip-subnot-etags-01
>=20
> My efforts, independently of the WGLC, to find reviewers of=20
> this document have met with insufficient support.
>=20
> Are there a couple of people out there in the SIP community,=20
> who are familiar with the requirements of RFC 3265, who are=20
> prepared to look at this draft with a new pair of eyes=20
> (figuratively speaking), and essentially pull the document=20
> apart from one end to the other.
>=20
> Please send me a mail directly if you consider you can do=20
> this within a reasonable short timescale (2 or 3 weeks).
>=20
> Regards
>=20
> Keith
>=20
> > -----Original Message-----
> > From: DRAGE, Keith (Keith)
> > Sent: Wednesday, September 19, 2007 2:48 PM
> > To: sip@ietf.org
> > Subject: RE: [Sip] WGLC for draft-ietf-sip-subnot-etags-01
> >=20
> > (As WG chair)
> >=20
> > This was a response to say that there had been no comments=20
> at all on=20
> > this WGLC - however Dale Worley successfully precluded me=20
> saying that=20
> > (thanks Dale).
> >=20
> > Just to make sure, I would like to extend the WGLC by a week to=20
> > Wednesday September 26th just in case it is still sitting=20
> in your pile=20
> > of documents to read. Instructions for response as below.
> >=20
> > Now I know that we had some comments from people that=20
> indicated that=20
> > they were pretty happy with previous versions.
> > Just in case the document is now so perfect that there are no WGLC=20
> > comments to make, please send the SIP WG chairs if you have=20
> read the=20
> > document and believe this to be the case!
> >=20
> > Otherwise get out there and read it.
> >=20
> > Regards
> >=20
> > Keith
> >=20
> > > -----Original Message-----
> > > From: DRAGE, Keith (Keith) [mailto:drage@alcatel-lucent.com]
> > > Sent: Tuesday, September 04, 2007 10:28 AM
> > > To: sip@ietf.org
> > > Subject: [Sip] WGLC for draft-ietf-sip-subnot-etags-01
> > >=20
> > > (As WG chair)
> > >=20
> > > This is to announce a Working Group Last Call for
> > >=20
> > >=20
> >=20
> http://www.ietf.org/internet-drafts/draft-ietf-sip-subnot-etags-01.txt
> > >=20
> > > This is a two week last call. Please provide comments and=20
> review of=20
> > > this document by Tuesday 18th September 2007.
> > >=20
> > > Ideally please try to identify for each comment
> > >=20
> > > -	the precise point in the text where the comment applies (copying
> > > the text and quoting the section number may help here),
> > >=20
> > > -	the nature of the comment (NIT, minor technical, major
> > > technical),
> > >=20
> > > -	if possible a proposed solution to the comment.
> > >=20
> > > Please send comments to the SIP WG list, and also to the
> > editor listed
> > > in the document.
> > >=20
> > > Regards
> > >=20
> > > Keith
> > >=20
> > >=20
> > >=20
> > > _______________________________________________
> > > Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
> > > This list is for NEW development of the core SIP Protocol Use=20
> > > sip-implementors@cs.columbia.edu for questions on current sip Use=20
> > > sipping@ietf.org for new developments on the application of sip
> > >=20


_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Fri Sep 21 06:57:21 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1IYg5s-0006vU-Ru; Fri, 21 Sep 2007 06:50:44 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1IYg5r-0006si-6r
	for sip-confirm+ok@megatron.ietf.org; Fri, 21 Sep 2007 06:50:43 -0400
Received: from [10.91.34.44] (helo=ietf-mx.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1IYg5q-0006sa-TI
	for sip@ietf.org; Fri, 21 Sep 2007 06:50:42 -0400
Received: from py-out-1112.google.com ([64.233.166.182])
	by ietf-mx.ietf.org with esmtp (Exim 4.43) id 1IYg5l-0003Vm-LA
	for sip@ietf.org; Fri, 21 Sep 2007 06:50:42 -0400
Received: by py-out-1112.google.com with SMTP id d32so2771318pye
	for <sip@ietf.org>; Fri, 21 Sep 2007 03:50:23 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=beta;
	h=domainkey-signature:received:received:from:to:cc:subject:date:mime-version:content-type:content-transfer-encoding:x-mailer:in-reply-to:thread-index:x-mimeole:message-id;
	bh=pDuJq+UlYOOh+P3+YvFqYU/ETfxRUX2zpbs07X6Nx4Q=;
	b=W26AHCVX02bal9ktMThJTg2yQVGTFVA4qcOkLnYMcKFf3GoXFvcSMK6tXOb6EoeMbpDZuLp21VrCdxWVXDu59yP1PyMZNzKM9ILMJ47HorZrv8xrUFxVMS/ot0S2hCXickiLRm8zz31fn5LgHKlclpjRxd8+ZFMmCeDtq1DlCrA=
DomainKey-Signature: a=rsa-sha1; c=nofws; d=gmail.com; s=beta;
	h=received:from:to:cc:subject:date:mime-version:content-type:content-transfer-encoding:x-mailer:in-reply-to:thread-index:x-mimeole:message-id;
	b=k1wT9S6ltwri6zbX9NgMl+hN7aBHZBTpGBH6BhA5ErfgYymKO6uI3DFsWxIVd5vihx5yvf3AfOf5E34ajoN1tCGKc9jrsGXqaZ8MK6O6njj2F/8Pee632CacxK67d3U0HW2LweFVLhbNxdrmfWRCZhyEfW/B/ZYPnPP8f6zdUHk=
Received: by 10.65.210.18 with SMTP id m18mr479908qbq.1190371823068;
	Fri, 21 Sep 2007 03:50:23 -0700 (PDT)
Received: from rjpc ( [69.121.205.12])
	by mx.google.com with ESMTPS id p4sm359985qba.2007.09.21.03.50.20
	(version=SSLv3 cipher=RC4-MD5); Fri, 21 Sep 2007 03:50:21 -0700 (PDT)
From: "Raj Jain" <rj2807@gmail.com>
To: "'Brian Stucker'" <bstucker@nortel.com>, "'Eric Burger'" <eburger@bea.com>
Subject: RE: [Sip] INFO
Date: Fri, 21 Sep 2007 06:50:26 -0400
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
In-Reply-To: <6FC4416DDE56C44DA0AEE67BC7CA437116DFF008@zrc2hxm2.corp.nortel.com>
thread-index: AcfopsS6ijL/eVSeR7OkrFxhvjEZ1wCqsuc+AgRJN7AAEj1plgAJzfOgAfv+sL8ADxvDAAAOqKog
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.3138
Message-ID: <46f3a1ed.0443400a.6e18.79d6@mx.google.com>
X-Spam-Score: 0.0 (/)
X-Scan-Signature: a1dc446dc7ac353b90b60743d0e479e3
Cc: sip@ietf.org
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

Regarding usage of INFO for keep-alive, below is trace captured on a =
machine
running a very popular IM/voice client. This client sends an INFO to its
server every 3 minutes.=20

The funny thing is that the client supports session-timers (notice
Supported: timer in the trace) but it still uses INFO instead of =
reINVITE or
UPDATE for keep-alive :-)=20


Transmission Control Protocol, Src Port: 1571 (1571), Dst Port: 5061 =
(5061),
Seq: 3269, Ack: 3321, Len: 384
Session Initiation Protocol
    Request-Line: INFO sip:XXX.XXX.XXX.XXX:5061;transport=3Dtcp SIP/2.0
    Message Header
        From:
<sip:YYYYY@XXX.XXX.XXX.XXX:5061>;tag=3D71c0d48-0-13bb-28cd57-3284bd2c-28c=
d57
        To: <sip:YYYYY@XXX.XXX.XXX.XXX:5061>
        Call-ID: 71c0d48-0-13bb-28cd57-51c7c502-28cd57@XXX.XXX.XXX.XXX
        CSeq: 3 INFO
        Via: SIP/2.0/TCP
XXX.XXX.XXX.XXX:5051;branch=3Dz9hG4bK-28cd57-9f621dd0-31f65a45
        Max-Forwards: 70
        Supported: timer
        Content-Length: 0


Thanks,
Raj

=20

> -----Original Message-----
> From: Brian Stucker [mailto:bstucker@nortel.com]=20
> Sent: Thursday, September 20, 2007 11:59 PM
> To: Eric Burger
> Cc: sip@ietf.org
> Subject: RE: [Sip] INFO
>=20
> =20
>=20
> > -----Original Message-----
> > From: Eric Burger [mailto:eburger@bea.com]
> > Sent: Thursday, September 20, 2007 3:15 PM
> > To: Stucker, Brian (RICH1:AR00)
> > Cc: sip@ietf.org
> > Subject: Re: [Sip] INFO
> >=20
> > 1. INFO for keep alive? That=B9s a new one. Everyone I know uses=20
> > OPTIONS. Oh well. Maybe we should resurrect the PING method.
>=20
> Well, you don't know Jack then. Jack uses INFO. :P
>=20
> Seriously, there are people out there using it this way. No=20
> negotiation is required. I'm not defending it, I'm just=20
> letting you know that there are a number boxes out there=20
> hammering away with INFO requests to see if a dialog is still=20
> active. Ask around and I'm sure you'll find people who have=20
> at least seen this done even if they don't generate the=20
> requests themselves.
>=20
> Honestly, I think we should all be using RFC-4028 and not=20
> OPTIONS or INFO for this purpose. If you want to put that in=20
> your draft, I'll happily support that.
>=20
> >=20
> > 2. INVITE discussion is a non-sequitur.  INVITE fully specifies a=20
> > negotiation framework.  INVITE without SDP is an invitation=20
> for you to=20
> > start the negotiation.
>=20
> Ok, so I send you an OPTIONS or an INVITE first to see what=20
> content-types/mechanisms you might support for DTMF=20
> transport. You tell me what you support, and then I use that=20
> mechanism (might be INFO digits). What's the difference? If I=20
> send you something you don't like or understand you can=20
> reject it. Sounds like a negotiation framework already exists.
>=20
> >=20
> > 3. The semantics of the media are totally orthogonal to the INVITE=20
> > negotiation.  C.f. the LONG discussion on P-Asserted-Service.
> >=20
> > 4. The semantics of an INFO body is critical.  The stack=20
> needs to know=20
> > how to process the body or where to pass the message to. =20
> Right now,=20
> > there is no mechanism for doing that.
> >  Content-type does not work.
>=20
> So where do you think the stack sends SDP content types?=20
> You're making the claim here that the content-type can't be=20
> used to determine the semantics, or that the stack can't=20
> figure out how to handle it and must just simply choke and=20
> die because it was conveyed in an INFO instead of an INVITE.=20
> I'm probing to find the justification for that assertion.
>=20
> >=20
> > 5. "Just write it down": Agreed, and there has already been a=20
> > framework for doing INFO negotiation (Dean's document).  I=20
> was about=20
> > to go there, until I realized that it would be identical to SUB/NOT.
> >=20
> > 6. Rough work group consensus was NOT to create an INFO negotiation=20
> > mechanism.  If you can convince the chairs otherwise, I'd=20
> be happy to=20
> > submit a negotiation mechanism.
>=20
> I don't remember it going down quite that way and I was at=20
> the mic expressing support. Perhaps I misunderstood the=20
> question that prompted the vote, but I interpreted it as=20
> meaning we didn't think one was NECESSARY. Big difference in=20
> my mind. Acknowledge the uses as they exist today, encourage=20
> people to look elsewhere for the future. I thought that was=20
> what we said at the last meeting. You're arguing that INFO w/=20
> DTMF is broken because there's no negotiation mechanism.=20
> Sending DTMF with a given content-type and expecting the=20
> other side to reject that content type if it does not=20
> understand it is a basic tenet of SIP. You can clearly tell=20
> if the other side understands or not unless it is not paying=20
> attention to what it's being sent.
>=20
> >=20
> > 7. The argument that we have to extend INFO to do=20
> negotiation because=20
> > we need to protect the existing INFO-based DTMF implementations is=20
> > totally bogus.  If we create a negotiation mechanism, those=20
> existing=20
> > implementations have to be fixed.
> > If they have to be fixed, any reason not to fix them with something=20
> > that already works and won't suck down work group and RFC=20
> Editor time?
>=20
> I'm not asking to fix anything. Honestly, I think the vast=20
> majority of implementations are moving on to 2833/4733 to=20
> convey DTMF digits and to a great extent that makes the=20
> discussion somewhat moot in my mind.
>=20
> Whether this document exists or not will not affect=20
> INFO-based DTMF implementations. The horse is out of the barn=20
> and way down the road on that one. You've made some=20
> assertions in your arguments that I believe need some=20
> substantiation. You've said that the content-type is not=20
> enough to figure out what is going on at all. I disagee. I=20
> think a content type that says "I'm sending you DTMF digits=20
> in a particular format" is every bit as robust as the=20
> content-type that conveys MWI for instance, and a heck of a=20
> lot more specific than SDP is. We have done quite well with=20
> SDP for some time in getting things to work, so I don't=20
> understand why simply writing down: hey, this content-type=20
> means DTMF digits is not a valid way forward to closing the=20
> books on that implementation. We can even say things like=20
> "please don't do this in the future" but unless we can=20
> clearly show WHY people shouldn't do this in the future that=20
> uses logic that can also clarify the things that we DO want=20
> them to do in the future, I don't see how this can be successful.
>=20
> It appears arbitrary to say DTMF in INFO is bad because it=20
> relies on content-type settings to identify it as such when=20
> we do not require a P-Asserted-Service header in every INVITE=20
> to clarify the SDP that lies within.
>=20
> I think you may be confusing my questioning of your arguments=20
> as a declaration of support for using INFO for a particular=20
> purpose. I honestly don't care if another INFO is ever=20
> generated by any SIP stack anywhere ever again for any=20
> purpose personally. I'm looking for consistent arguments that=20
> can be applied to problems outside of INFO so when the next=20
> bad idea (tm) comes along we can clearly point to this=20
> document and say "you're trying to do X which we can clearly=20
> show is bad and does not align to the things we think are=20
> good." I haven't read such an argument yet.
>=20
> >=20
> > 8. Who in their right mind would use KPML for keep alive? =20
> > You can always subscribe to anything with an expires of zero.=20
> >  It is still silly in any event [sic].
>=20
> True. I completely agree. I didn't write that last statement=20
> correctly. I was intending to point out that INFO was being=20
> used this way. KPML has nothing to do with it.
>=20
> >=20
> >=20
> > On 9/10/07 11:46 AM, "Brian Stucker" <bstucker@nortel.com> wrote:
> >=20
> > >=20
> > >=20
> > >> -----Original Message-----
> > >> From: Eric Burger [mailto:eburger@bea.com]
> > >> Sent: Monday, September 10, 2007 8:08 AM
> > >> To: Stucker, Brian (RICH1:AR00)
> > >> Cc: sip@ietf.org
> > >> Subject: Re: [Sip] INFO
> > >>=20
> > >> Brian Stucker Says:
> > >>    I'm not really sure what your point was
> > >>    here unless you are against people
> > >>    writing down a common way of using
> > >>    a protocol amongst themselves
> > >>=20
> > >> Actually, I have no problem with "people writing down a
> > common way of
> > >> using a protocol". One would offer that is the work of the IETF.=20
> > >> However, the key phrase I have a problem with is, "amongst=20
> > >> themselves." The IETF makes protocols for everybody, not
> > just members
> > >> of the garden club. The garden club can do whatever they
> > want inside
> > >> their garden. The IETF has no right nor interest in=20
> mandating what=20
> > >> goes on inside their garden.
> > >=20
> > > True, but it's not a club. Those disclaimers are to limit
> > reproduction
> > > of the material by other SDOs without permission. You don't
> > have to be
> > > a member of the garden club to use the protocols written by
> > the garden
> > > club, such as they are. Whether you want to or not is
> > another matter
> > > entirely.
> > >=20
> > > [SNIP]
> > >=20
> > >> In my mind, INFO for DTMF falls into the, "it is not an Internet=20
> > >> protocol, but you can do whatever you want in your=20
> playground, so=20
> > >> long as your fences are good and you will still play with
> > me. P.S.,
> > >> do not claim you are using Internet protocols, because you
> > are not."
> > >=20
> > > Only because they happen to not be written down as an IETF
> > document,
> > > which, as I suggested earlier, may be the solution to the problem.
> > >=20
> > >>=20
> > >> P-Preferred-Service is an example of something that falls
> > into "the
> > >> toxic substance that will bleed through, so do not even think of=20
> > >> using it" category.
> > >=20
> > > So then I would be most interested to hear your thoughts on the
> > > following:
> > >=20
> > > The first sentence in section 2 in your draft states:
> > >=20
> > >         "There is no programmatic way of determining what
> > the content
> > > of an INFO request means."
> > >=20
> > > You could say the same is true for an INVITE. To the=20
> 'User-Agent's=20
> > > point of view, an [INVITE] just appears'. Without a negotiation=20
> > > mechanism such as SDP, is this INVITE conveying an
> > conference call, a
> > > user-to-user gaming session, or what? We can't programmatically=20
> > > determine what an INVITE with no SDP means. So if I'm
> > following your
> > > argument here wrt INFO, the analogous solution would be to
> > deprecate
> > > INVITE unless it always has SDP.
> > >=20
> > > But wait, there's more... Again, using your line of thought
> > for INFO,
> > > SDP may not be good enough:
> > >=20
> > >         "However, as we learned in the messaging community [7],=20
> > > relying upon the MIME type alone is not sufficient to=20
> determine the=20
> > > context of the message. Clearly, as shown in the previous=20
> paragraph=20
> > > [which describes using the MIME type of an INFO as a negotiation=20
> > > mechanism], the message content relates to the message context.
> > > However, it is quite easy to imagine situations where the
> > same content
> > > type has multiple meanings for a User Agent."
> > >=20
> > > So if the content relates to the message context, and the
> > content and
> > > type can be ambiguous, such as the INVITE contains SDP,=20
> or the SDP=20
> > > contains an audio stream (is it a conference or is it a podcast or
> > > what) or worse, SDP that contains content types that are not=20
> > > well-known, then clearly SIP and SDP are not enough to correctly=20
> > > identify what the User Agent is to do with this request. Hence, a=20
> > > mechanism such as P-Preferred-Service rears it's ugly head.
> > >=20
> > > As a result, if I understand you correctly, rather than=20
> correct the=20
> > > negotiation problem (more like just write it down because
> > it's already
> > > being neogitated out there in the wild in many cases) and
> > let the UAs
> > > deal with it, you'd rather deprecate the whole thing in favor of=20
> > > something else. Correct?
> > >=20
> > > Also, your list of examples is missing one usecase that KPML=20
> > > definitely does not address (but session timers does): INFO
> > is used to
> > > detect if a call is still alive.
> > >=20
> > > Cheers,
> > > Brian
> > >=20
> >=20
> >=20
> >=20
> > Notice:  This email message, together with any attachments, may=20
> > contain information  of  BEA Systems,  Inc.,  its=20
> subsidiaries  and =20
> > affiliated entities,  that may be confidential,  proprietary, =20
> > copyrighted  and/or legally privileged, and is intended=20
> solely for the=20
> > use of the individual or entity named in this message. If=20
> you are not=20
> > the intended recipient, and have received this message in error,=20
> > please immediately return this by email and then delete it.
> >=20
>=20
>=20
> _______________________________________________
> Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol Use=20
> sip-implementors@cs.columbia.edu for questions on current sip=20
> Use sipping@ietf.org for new developments on the application of sip
>=20



_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Fri Sep 21 12:13:52 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1IYl2y-0000rs-R5; Fri, 21 Sep 2007 12:08:04 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1IYl2x-0000qC-CL
	for sip-confirm+ok@megatron.ietf.org; Fri, 21 Sep 2007 12:08:03 -0400
Received: from [10.90.34.44] (helo=chiedprmail1.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1IYl2w-0000q4-UZ
	for sip@ietf.org; Fri, 21 Sep 2007 12:08:03 -0400
Received: from ebru.winwebhosting.com ([74.52.236.50])
	by chiedprmail1.ietf.org with esmtp (Exim 4.43) id 1IYl2w-00005C-9J
	for sip@ietf.org; Fri, 21 Sep 2007 12:08:02 -0400
Received: from [209.173.53.233] (helo=BROSLT41xp)
	by ebru.winwebhosting.com with esmtpa (Exim 4.68)
	(envelope-from <br@brianrosen.net>)
	id 1IYl2l-0007Dy-Ps; Fri, 21 Sep 2007 11:07:51 -0500
From: "Brian Rosen" <br@brianrosen.net>
To: "'DRAGE, Keith \(Keith\)'" <drage@alcatel-lucent.com>,
	<sip@ietf.org>
References: <5D1A7985295922448D5550C94DE2918001636AF1@DEEXC1U01.de.lucent.com>
	<5D1A7985295922448D5550C94DE29180016F5EC3@DEEXC1U01.de.lucent.com>
Subject: RE: [Sip] WGLC for draft-ietf-sip-subnot-etags-01
Date: Fri, 21 Sep 2007 12:07:58 -0400
Message-ID: <147e01c7fc69$959bcd90$640fa8c0@cis.neustar.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook 11
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.3028
Thread-Index: Acfu1dIrsaaCSebQRbSdGL0iVypPsQL7UEsAAGlS7gA=
In-Reply-To: <5D1A7985295922448D5550C94DE29180016F5EC3@DEEXC1U01.de.lucent.com>
X-AntiAbuse: This header was added to track abuse,
	please include it with any abuse report
X-AntiAbuse: Primary Hostname - ebru.winwebhosting.com
X-AntiAbuse: Original Domain - ietf.org
X-AntiAbuse: Originator/Caller UID/GID - [47 12] / [47 12]
X-AntiAbuse: Sender Address Domain - brianrosen.net
X-Source: 
X-Source-Args: 
X-Source-Dir: 
X-Spam-Score: 0.0 (/)
X-Scan-Signature: bdc523f9a54890b8a30dd6fd53d5d024
Cc: 
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

Yeah, seems like the best way forward.  Glad to see we have a real plan.

Brian

> -----Original Message-----
> From: DRAGE, Keith (Keith) [mailto:drage@alcatel-lucent.com]
> Sent: Wednesday, September 19, 2007 9:48 AM
> To: sip@ietf.org
> Subject: RE: [Sip] WGLC for draft-ietf-sip-subnot-etags-01
> 
> (As WG chair)
> 
> This was a response to say that there had been no comments at all on
> this WGLC - however Dale Worley successfully precluded me saying that
> (thanks Dale).
> 
> Just to make sure, I would like to extend the WGLC by a week to
> Wednesday September 26th just in case it is still sitting in your pile
> of documents to read. Instructions for response as below.
> 
> Now I know that we had some comments from people that indicated that
> they were pretty happy with previous versions. Just in case the document
> is now so perfect that there are no WGLC comments to make, please send
> the SIP WG chairs if you have read the document and believe this to be
> the case!
> 
> Otherwise get out there and read it.
> 
> Regards
> 
> Keith
> 
> > -----Original Message-----
> > From: DRAGE, Keith (Keith) [mailto:drage@alcatel-lucent.com]
> > Sent: Tuesday, September 04, 2007 10:28 AM
> > To: sip@ietf.org
> > Subject: [Sip] WGLC for draft-ietf-sip-subnot-etags-01
> >
> > (As WG chair)
> >
> > This is to announce a Working Group Last Call for
> >
> > http://www.ietf.org/internet-drafts/draft-ietf-sip-subnot-etags-01.txt
> >
> > This is a two week last call. Please provide comments and
> > review of this document by Tuesday 18th September 2007.
> >
> > Ideally please try to identify for each comment
> >
> > -	the precise point in the text where the comment applies (copying
> > the text and quoting the section number may help here),
> >
> > -	the nature of the comment (NIT, minor technical, major
> > technical),
> >
> > -	if possible a proposed solution to the comment.
> >
> > Please send comments to the SIP WG list, and also to the
> > editor listed in the document.
> >
> > Regards
> >
> > Keith
> >
> >
> >
> > _______________________________________________
> > Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
> > This list is for NEW development of the core SIP Protocol Use
> > sip-implementors@cs.columbia.edu for questions on current sip
> > Use sipping@ietf.org for new developments on the application of sip
> >
> 
> 
> _______________________________________________
> Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip



_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Fri Sep 21 12:34:48 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1IYlRC-00013w-2Z; Fri, 21 Sep 2007 12:33:06 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1IYlRA-00013M-4h
	for sip-confirm+ok@megatron.ietf.org; Fri, 21 Sep 2007 12:33:04 -0400
Received: from [10.91.34.44] (helo=ietf-mx.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1IYlR9-000139-PR
	for sip@ietf.org; Fri, 21 Sep 2007 12:33:03 -0400
Received: from ebru.winwebhosting.com ([74.52.236.50])
	by ietf-mx.ietf.org with esmtp (Exim 4.43) id 1IYlR8-0006ck-Iy
	for sip@ietf.org; Fri, 21 Sep 2007 12:33:03 -0400
Received: from [209.173.53.233] (helo=BROSLT41xp)
	by ebru.winwebhosting.com with esmtpa (Exim 4.68)
	(envelope-from <br@brianrosen.net>)
	id 1IYlQv-0000V5-R6; Fri, 21 Sep 2007 11:32:50 -0500
From: "Brian Rosen" <br@brianrosen.net>
To: "'DRAGE, Keith \(Keith\)'" <drage@alcatel-lucent.com>,
	<sip@ietf.org>
References: <5D1A7985295922448D5550C94DE29180016F63C7@DEEXC1U01.de.lucent.com>
Subject: RE: [Sip] Progression of draft-polk-sip-rph-in-responses-00
Date: Fri, 21 Sep 2007 12:32:56 -0400
Message-ID: <149901c7fc6d$12a88fa0$640fa8c0@cis.neustar.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook 11
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.3028
Thread-Index: Acf7t/VzCNcjo2g3RAukPHJiav01FgAsJ44Q
In-Reply-To: <5D1A7985295922448D5550C94DE29180016F63C7@DEEXC1U01.de.lucent.com>
X-AntiAbuse: This header was added to track abuse,
	please include it with any abuse report
X-AntiAbuse: Primary Hostname - ebru.winwebhosting.com
X-AntiAbuse: Original Domain - ietf.org
X-AntiAbuse: Originator/Caller UID/GID - [47 12] / [47 12]
X-AntiAbuse: Sender Address Domain - brianrosen.net
X-Source: 
X-Source-Args: 
X-Source-Dir: 
X-Spam-Score: 0.0 (/)
X-Scan-Signature: b7b9551d71acde901886cc48bfc088a6
Cc: 
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

Gee, I think you have it wrong.

In MLPP systems priority is absolute.  The overall effect on work done is
not interesting.  It does not matter that you generate more messages by
delaying responses to low priority tasks.  You MUST process the high
priority requests before you process any low priority responses.

I also think you are incorrect in your assumption that delaying responses
for low priority sessions will in fact cause more congestion.  I'm sure
there are circumstances where it does occur, but if you are in serious
overload (9/11 events) then the traffic for the retries is going to happen
no matter what you do, and you have to get the high priority traffic
through.

Brian

> -----Original Message-----
> From: DRAGE, Keith (Keith) [mailto:drage@alcatel-lucent.com]
> Sent: Thursday, September 20, 2007 2:57 PM
> To: sip@ietf.org
> Subject: [Sip] Progression of draft-polk-sip-rph-in-responses-00
> 
> (As WG chair)
> 
> Dean attempted to get this one started a while back and it fell on stony
> ground.
> 
> We have now set charter milestones for all the documents we agreed to
> progress at the last IETF meeting except for the draft above.
> 
> The reason for this absence is that after discussion with the AD, we are
> not convinced that doing this provides a significant benefit. Part of
> this may be clarified by revising the draft as an author draft but...
> 
> The essence of the problem is that the application is to that of a
> transaction stateless proxy. Of the list of activities specified by RFC
> 4412:
> 
>    1.  The request can be given elevated priority for access to PSTN
>        gateway resources, such as trunk circuits.
> 
>    2.  The request can interrupt lower-priority requests at a user
>        terminal, such as an IP phone.
> 
>    3.  The request can carry information from one multi-level priority
>        domain in the telephone network (e.g., using the facilities of
>        Q.735.3 [Q.735.3]) to another, without the SIP proxies themselves
>        inspecting or modifying the header field.
> 
>    4.  In SIP proxies and back-to-back user agents, requests of higher
>        priorities may displace existing signaling requests or bypass
>        PSTN gateway capacity limits in effect for lower priorities.
> 
> The only reason for including a Resource-Priority header in a response
> for use in a transaction stateless proxy is item 4 above. This means
> that a response for (namespace x, priority 5) could be handled ahead of
> a response for (namespace x, priority 4).
> 
> The question is what is the impact of such handling on an overloaded
> system, where such priority handling could have a benefit (we assume
> that in a system that is not overloaded then responses can be pushed
> back pretty much as fast as they are received). If a response processing
> gets delayed according to some queueing mechanism, then eventually
> timers related to the request at the entity before this proxy will time
> out, and the request will be repeated. This increases the processing
> load on an overloaded system.
> 
> So in terms of resource priority, is the appropriate model that
> responses should always be handled immediately and before the request
> queues are handled, or is there a justification for some other model.
> 
> Please respond and tell us we have got it wrong.
> 
> Regards
> 
> Keith
> 
> 
> _______________________________________________
> Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip



_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Fri Sep 21 12:47:21 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1IYlcM-0005Ia-Oj; Fri, 21 Sep 2007 12:44:38 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1IYlcL-0005Hk-BI
	for sip-confirm+ok@megatron.ietf.org; Fri, 21 Sep 2007 12:44:37 -0400
Received: from [10.90.34.44] (helo=chiedprmail1.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1IYlcK-0005HY-Tc
	for sip@ietf.org; Fri, 21 Sep 2007 12:44:37 -0400
Received: from ebru.winwebhosting.com ([74.52.236.50])
	by chiedprmail1.ietf.org with esmtp (Exim 4.43) id 1IYlcK-0001uK-6c
	for sip@ietf.org; Fri, 21 Sep 2007 12:44:36 -0400
Received: from [209.173.53.233] (helo=BROSLT41xp)
	by ebru.winwebhosting.com with esmtpa (Exim 4.68)
	(envelope-from <br@brianrosen.net>)
	id 1IYlc7-0006sc-LA; Fri, 21 Sep 2007 11:44:23 -0500
From: "Brian Rosen" <br@brianrosen.net>
To: "'Jeroen van Bemmel'" <jbemmel@zonnet.nl>,
	"'DRAGE, Keith \(Keith\)'" <drage@alcatel-lucent.com>
References: <5D1A7985295922448D5550C94DE29180016F63C7@DEEXC1U01.de.lucent.com>
	<46F2E7AD.6040101@zonnet.nl>
Subject: RE: [Sip] Progression of draft-polk-sip-rph-in-responses-00
Date: Fri, 21 Sep 2007 12:44:30 -0400
Message-ID: <14f601c7fc6e$b046a390$640fa8c0@cis.neustar.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook 11
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.3028
Thread-Index: Acf7zt6cSmPrwk7sQmKOHvD4Nq3/gAAmcksA
In-Reply-To: <46F2E7AD.6040101@zonnet.nl>
X-AntiAbuse: This header was added to track abuse,
	please include it with any abuse report
X-AntiAbuse: Primary Hostname - ebru.winwebhosting.com
X-AntiAbuse: Original Domain - ietf.org
X-AntiAbuse: Originator/Caller UID/GID - [47 12] / [47 12]
X-AntiAbuse: Sender Address Domain - brianrosen.net
X-Source: 
X-Source-Args: 
X-Source-Dir: 
X-Spam-Score: 0.0 (/)
X-Scan-Signature: b4a0a5f5992e2a4954405484e7717d8c
Cc: sip@ietf.org
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

Hmmm.  You must have different implementation experience than I do, and you
must not have talked to any MLPP folks.

Inline for more

> -----Original Message-----
> From: Jeroen van Bemmel [mailto:jbemmel@zonnet.nl]
> Sent: Thursday, September 20, 2007 5:36 PM
> To: DRAGE, Keith (Keith)
> Cc: sip@ietf.org
> Subject: Re: [Sip] Progression of draft-polk-sip-rph-in-responses-00
> 
> Keith,
> 
> I agree with your assessment, there is little benefit and several
> drawbacks in adding a Resource-Priority header to responses.
> 
> - for proxies there is no benefit in processing one response before
> another (at least of the same type, i.e. INVITE or non-INVITE) that was
> received earlier. Both free up memory resources, take about the same CPU
> time and prevent retransmissions in the same way, so all other things
> being equal FIFO processing is preferable (because statistically it
> avoids more retransmissions and achieves a lower memory*time product)
But that is not the goal of the RPH.  At least with classic MLPP type
systems, the goal is to make sure that the priority calls go through.  It
doesn't matter what happens to the low priority calls.  It doesn't matter if
the proxy resource is used efficiently.  It doesn't matter that, let's say,
you got 10,000 low priority calls through at the expense of dropping one
high priority call; you should have gotten the one high priority call
through.
  
> - dropping non-provisional responses is a bad idea, especially in overload
Only from an overall load point of view.  Not from the point of view that
the priority is absolute, which for some uses, it is.

> - queuing such responses for too long: idem
As above, no

> 
> One could perhaps argue that provisional responses could be treated with
> lower priority than final responses, but if so this is better
> implemented as a local policy; no need to mark individual responses for
> this.
Well, you must process the one high priority request/provisional
response/final response before you process any low priority final response.

> 
> Some additional points:
> - responses cannot be challenged, so responders could claim any priority
> they feel appropriate
Policing of R-P-H is a problem, and it's true that policing the response is
harder than policing the request.

> - a R-P header would add quite some bytes to the response size, filling
> the network buffers sooner which makes overload situations worse
I think this is a red herring.  Memory size is usually not the problem.

> - is there / should there be a relationship between the priority of the
> request and that of its associated responses? if so, the proxy has
> better ways of achieving this (i.e. encoding an integrity protected
> value in the request, no need for standardization here)
This is for a stateless proxy, right?  I don't think that works.
 
> 
Brian



_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Fri Sep 21 13:31:10 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1IYmHq-0000lT-6T; Fri, 21 Sep 2007 13:27:30 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1IYmHo-0000l0-O1
	for sip-confirm+ok@megatron.ietf.org; Fri, 21 Sep 2007 13:27:28 -0400
Received: from [10.90.34.44] (helo=chiedprmail1.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1IYmHo-0000hC-9j
	for sip@ietf.org; Fri, 21 Sep 2007 13:27:28 -0400
Received: from pmesmtp04.mci.com ([199.249.20.36])
	by chiedprmail1.ietf.org with esmtp (Exim 4.43) id 1IYmHk-0003JP-Hq
	for sip@ietf.org; Fri, 21 Sep 2007 13:27:25 -0400
Received: from dgismtp02.mcilink.com ([166.38.58.142])
	by firewall.verizonbusiness.com (Iplanet MTA 5.2)
	with ESMTP id <0JOQ00A4AB5NEE@firewall.verizonbusiness.com> for
	sip@ietf.org; Fri, 21 Sep 2007 17:27:24 +0000 (GMT)
Received: from dgismtp02.mcilink.com ([127.0.0.1])
	by dgismtp02.mcilink.com (iPlanet Messaging Server 5.2 HotFix 2.08
	(built Sep
	22 2005)) with SMTP id <0JOQ009F4B5N5Y@dgismtp02.mcilink.com> for
	sip@ietf.org; Fri, 21 Sep 2007 17:27:23 +0000 (GMT)
Received: from ASHSRV142.mcilink.com ([153.39.68.168])
	by dgismtp02.mcilink.com (iPlanet Messaging Server 5.2 HotFix 2.08
	(built Sep
	22 2005)) with ESMTP id <0JOQ00932B5NBB@dgismtp02.mcilink.com> for
	sip@ietf.org; Fri, 21 Sep 2007 17:27:23 +0000 (GMT)
Received: from ASHEVS012.mcilink.com ([153.39.69.141])
	by ASHSRV142.mcilink.com with Microsoft SMTPSVC(6.0.3790.1830); Fri,
	21 Sep 2007 17:27:22 +0000
Date: Fri, 21 Sep 2007 17:27:15 +0000
From: "Dwight, Timothy M (Tim)" <timothy.dwight@verizon.com>
Subject: RE: [Sip] Progression of draft-polk-sip-rph-in-responses-00
In-reply-to: <14f601c7fc6e$b046a390$640fa8c0@cis.neustar.com>
To: Brian Rosen <br@brianrosen.net>, Jeroen van Bemmel <jbemmel@zonnet.nl>,
	"DRAGE, Keith (Keith)" <drage@alcatel-lucent.com>
Message-id: <7F047EBCFA8C2E499C2A2EF234ABFB3EDB65D4@ASHEVS012.mcilink.com>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft Exchange V6.5
Content-type: text/plain; charset=us-ascii
Content-transfer-encoding: quoted-printable
Content-class: urn:content-classes:message
Thread-topic: [Sip] Progression of draft-polk-sip-rph-in-responses-00
Thread-index: Acf7zt6cSmPrwk7sQmKOHvD4Nq3/gAAmcksAAAK7uCA=
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
References: <5D1A7985295922448D5550C94DE29180016F63C7@DEEXC1U01.de.lucent.com>
	<46F2E7AD.6040101@zonnet.nl>
	<14f601c7fc6e$b046a390$640fa8c0@cis.neustar.com>
X-OriginalArrivalTime: 21 Sep 2007 17:27:22.0974 (UTC)
	FILETIME=[ABA917E0:01C7FC74]
X-Spam-Score: 0.0 (/)
X-Scan-Signature: c83ccb5cc10e751496398f1233ca9c3a
Cc: sip@ietf.org
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

I agree with Brian.  Though I'm not completely comfortable with equating
ETS and MLPP, I think his main point is right on.  The purpose of RPH is
not to improve the efficiency of the network.  It is to provide
certainty of service to a specific community of users.  As long as the
network is operational, their calls must go through.  If that makes the
network less available to others, so be it.  Whether it provides benefit
to proxies or whatever, isn't relevant since it isn't intended to
provide such benefits.=20

Tim


> -----Original Message-----
> From: Brian Rosen [mailto:br@brianrosen.net]=20
> Sent: Friday, September 21, 2007 11:45 AM
> To: 'Jeroen van Bemmel'; 'DRAGE, Keith (Keith)'
> Cc: sip@ietf.org
> Subject: RE: [Sip] Progression of draft-polk-sip-rph-in-responses-00
>=20
> Hmmm.  You must have different implementation experience than=20
> I do, and you
> must not have talked to any MLPP folks.
>=20
> Inline for more
>=20
> > -----Original Message-----
> > From: Jeroen van Bemmel [mailto:jbemmel@zonnet.nl]
> > Sent: Thursday, September 20, 2007 5:36 PM
> > To: DRAGE, Keith (Keith)
> > Cc: sip@ietf.org
> > Subject: Re: [Sip] Progression of draft-polk-sip-rph-in-responses-00
> >=20
> > Keith,
> >=20
> > I agree with your assessment, there is little benefit and several
> > drawbacks in adding a Resource-Priority header to responses.
> >=20
> > - for proxies there is no benefit in processing one response before
> > another (at least of the same type, i.e. INVITE or=20
> non-INVITE) that was
> > received earlier. Both free up memory resources, take about=20
> the same CPU
> > time and prevent retransmissions in the same way, so all=20
> other things
> > being equal FIFO processing is preferable (because statistically it
> > avoids more retransmissions and achieves a lower=20
> memory*time product)
> But that is not the goal of the RPH.  At least with classic MLPP type
> systems, the goal is to make sure that the priority calls go=20
> through.  It
> doesn't matter what happens to the low priority calls.  It=20
> doesn't matter if
> the proxy resource is used efficiently.  It doesn't matter=20
> that, let's say,
> you got 10,000 low priority calls through at the expense of=20
> dropping one
> high priority call; you should have gotten the one high priority call
> through.
>  =20
> > - dropping non-provisional responses is a bad idea,=20
> especially in overload
> Only from an overall load point of view.  Not from the point=20
> of view that
> the priority is absolute, which for some uses, it is.
>=20
> > - queuing such responses for too long: idem
> As above, no
>=20
> >=20
> > One could perhaps argue that provisional responses could be=20
> treated with
> > lower priority than final responses, but if so this is better
> > implemented as a local policy; no need to mark individual=20
> responses for
> > this.
> Well, you must process the one high priority request/provisional
> response/final response before you process any low priority=20
> final response.
>=20
> >=20
> > Some additional points:
> > - responses cannot be challenged, so responders could claim=20
> any priority
> > they feel appropriate
> Policing of R-P-H is a problem, and it's true that policing=20
> the response is
> harder than policing the request.
>=20
> > - a R-P header would add quite some bytes to the response=20
> size, filling
> > the network buffers sooner which makes overload situations worse
> I think this is a red herring.  Memory size is usually not=20
> the problem.
>=20
> > - is there / should there be a relationship between the=20
> priority of the
> > request and that of its associated responses? if so, the proxy has
> > better ways of achieving this (i.e. encoding an integrity protected
> > value in the request, no need for standardization here)
> This is for a stateless proxy, right?  I don't think that works.
> =20
> >=20
> Brian
>=20
>=20
>=20
> _______________________________________________
> Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
>=20


_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Fri Sep 21 15:28:27 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1IYo28-0007Fr-Dm; Fri, 21 Sep 2007 15:19:24 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1IYo26-0007Do-K8
	for sip-confirm+ok@megatron.ietf.org; Fri, 21 Sep 2007 15:19:22 -0400
Received: from [10.90.34.44] (helo=chiedprmail1.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1IYo26-0007AX-64
	for sip@ietf.org; Fri, 21 Sep 2007 15:19:22 -0400
Received: from smtp1.versatel.nl ([62.58.50.88])
	by chiedprmail1.ietf.org with esmtp (Exim 4.43) id 1IYo20-00071r-Tl
	for sip@ietf.org; Fri, 21 Sep 2007 15:19:17 -0400
Received: (qmail 15987 invoked by uid 0); 21 Sep 2007 19:20:26 -0000
Received: from ip198-11-212-87.adsl2.versatel.nl (HELO [192.168.1.6])
	([87.212.11.198]) (envelope-sender <jbemmel@zonnet.nl>)
	by smtp1.versatel.nl (qmail-ldap-1.03) with SMTP
	for < >; 21 Sep 2007 19:20:26 -0000
Message-ID: <46F4192D.4050209@zonnet.nl>
Date: Fri, 21 Sep 2007 21:19:09 +0200
From: Jeroen van Bemmel <jbemmel@zonnet.nl>
User-Agent: Thunderbird 2.0.0.6 (Windows/20070728)
MIME-Version: 1.0
To: "Dwight, Timothy M (Tim)" <timothy.dwight@verizon.com>
Subject: Re: [Sip] Progression of draft-polk-sip-rph-in-responses-00
References: <5D1A7985295922448D5550C94DE29180016F63C7@DEEXC1U01.de.lucent.com>
	<46F2E7AD.6040101@zonnet.nl>
	<14f601c7fc6e$b046a390$640fa8c0@cis.neustar.com>
	<7F047EBCFA8C2E499C2A2EF234ABFB3EDB65D4@ASHEVS012.mcilink.com>
In-Reply-To: <7F047EBCFA8C2E499C2A2EF234ABFB3EDB65D4@ASHEVS012.mcilink.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Score: 0.0 (/)
X-Scan-Signature: ccfb4541e989aa743998098cd315d0fd
Cc: sip@ietf.org, "DRAGE, Keith \(Keith\)" <drage@alcatel-lucent.com>
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

Tim, Brian,

First of all a question to clarify the requirements further: is it 
possible/valid for the request to have no specific priority while its 
response does, or should the RPH headers in a response always be the 
same or a subset of those in the request (i.e. copied)? I assume the latter

RFC4412 mostly discusses RPH in the context of endpoints, it states that 
proxies MAY ignore it. It does mention the possibility for a proxy to 
provide differentiated treatment for "responses containing resource 
priority levels", so apparently it was foreseen but omitted from section 3.1

Even if RPH is intended to provide certainty of service, then still I 
think there are other, IMHO better ways to implement this requirement 
without additional standardization. A stateless proxy could send 
priority requests out on a different port (or ports, e.g. 1 per level) 
than ordinary requests, and treat messages received on the priority 
port(s) with the associated priority. There is of course still a risk 
for abuse (which can be mitigated, ports could be random or proxy could 
encode a magic integrity-protected token). The appropriate Diffserv bits 
could be set on each port, and such a scheme enables determining the 
priority even before parsing the message.

If abuse is considered likely and a potential problem, the proxy could 
always revert to stateful behavior for priority requests (in combination 
with the priority port approach for best effect under high load)

My reasoning is as follows: RPH in responses without additional 
mechanisms is not acceptable, as it provides an obvious security hole 
(DoS opportunity). So some additional mechanism is required, e.g. 
stateful operation to remember the authorised level, or some stateless 
mechanism (e.g. as described above). In both cases, the proxy does not 
need (and MUST NOT trust) the RPH header in responses to determine the 
priority level. So why include it?

So even though I may have misinterpreted the purpose of RPH in my 
previous posting, do you agree with the above conclusion?

Regards,
Jeroen

Dwight, Timothy M (Tim) wrote:
> I agree with Brian.  Though I'm not completely comfortable with equating
> ETS and MLPP, I think his main point is right on.  The purpose of RPH is
> not to improve the efficiency of the network.  It is to provide
> certainty of service to a specific community of users.  As long as the
> network is operational, their calls must go through.  If that makes the
> network less available to others, so be it.  Whether it provides benefit
> to proxies or whatever, isn't relevant since it isn't intended to
> provide such benefits. 
>
> Tim
>
>
>   
>> -----Original Message-----
>> From: Brian Rosen [mailto:br@brianrosen.net] 
>> Sent: Friday, September 21, 2007 11:45 AM
>> To: 'Jeroen van Bemmel'; 'DRAGE, Keith (Keith)'
>> Cc: sip@ietf.org
>> Subject: RE: [Sip] Progression of draft-polk-sip-rph-in-responses-00
>>
>> Hmmm.  You must have different implementation experience than 
>> I do, and you
>> must not have talked to any MLPP folks.
>>
>> Inline for more
>>
>>     
>>> -----Original Message-----
>>> From: Jeroen van Bemmel [mailto:jbemmel@zonnet.nl]
>>> Sent: Thursday, September 20, 2007 5:36 PM
>>> To: DRAGE, Keith (Keith)
>>> Cc: sip@ietf.org
>>> Subject: Re: [Sip] Progression of draft-polk-sip-rph-in-responses-00
>>>
>>> Keith,
>>>
>>> I agree with your assessment, there is little benefit and several
>>> drawbacks in adding a Resource-Priority header to responses.
>>>
>>> - for proxies there is no benefit in processing one response before
>>> another (at least of the same type, i.e. INVITE or 
>>>       
>> non-INVITE) that was
>>     
>>> received earlier. Both free up memory resources, take about 
>>>       
>> the same CPU
>>     
>>> time and prevent retransmissions in the same way, so all 
>>>       
>> other things
>>     
>>> being equal FIFO processing is preferable (because statistically it
>>> avoids more retransmissions and achieves a lower 
>>>       
>> memory*time product)
>> But that is not the goal of the RPH.  At least with classic MLPP type
>> systems, the goal is to make sure that the priority calls go 
>> through.  It
>> doesn't matter what happens to the low priority calls.  It 
>> doesn't matter if
>> the proxy resource is used efficiently.  It doesn't matter 
>> that, let's say,
>> you got 10,000 low priority calls through at the expense of 
>> dropping one
>> high priority call; you should have gotten the one high priority call
>> through.
>>   
>>     
>>> - dropping non-provisional responses is a bad idea, 
>>>       
>> especially in overload
>> Only from an overall load point of view.  Not from the point 
>> of view that
>> the priority is absolute, which for some uses, it is.
>>
>>     
>>> - queuing such responses for too long: idem
>>>       
>> As above, no
>>
>>     
>>> One could perhaps argue that provisional responses could be 
>>>       
>> treated with
>>     
>>> lower priority than final responses, but if so this is better
>>> implemented as a local policy; no need to mark individual 
>>>       
>> responses for
>>     
>>> this.
>>>       
>> Well, you must process the one high priority request/provisional
>> response/final response before you process any low priority 
>> final response.
>>
>>     
>>> Some additional points:
>>> - responses cannot be challenged, so responders could claim 
>>>       
>> any priority
>>     
>>> they feel appropriate
>>>       
>> Policing of R-P-H is a problem, and it's true that policing 
>> the response is
>> harder than policing the request.
>>
>>     
>>> - a R-P header would add quite some bytes to the response 
>>>       
>> size, filling
>>     
>>> the network buffers sooner which makes overload situations worse
>>>       
>> I think this is a red herring.  Memory size is usually not 
>> the problem.
>>
>>     
>>> - is there / should there be a relationship between the 
>>>       
>> priority of the
>>     
>>> request and that of its associated responses? if so, the proxy has
>>> better ways of achieving this (i.e. encoding an integrity protected
>>> value in the request, no need for standardization here)
>>>       
>> This is for a stateless proxy, right?  I don't think that works.
>>  
>>     
>> Brian
>>
>>
>>
>> _______________________________________________
>> Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
>> This list is for NEW development of the core SIP Protocol
>> Use sip-implementors@cs.columbia.edu for questions on current sip
>> Use sipping@ietf.org for new developments on the application of sip
>>
>>     
>
>   


_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Fri Sep 21 16:43:01 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1IYpI7-0006rm-2M; Fri, 21 Sep 2007 16:39:59 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1IYpI5-0006n5-Hj
	for sip-confirm+ok@megatron.ietf.org; Fri, 21 Sep 2007 16:39:57 -0400
Received: from [10.91.34.44] (helo=ietf-mx.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1IYpI5-0006mH-7b
	for sip@ietf.org; Fri, 21 Sep 2007 16:39:57 -0400
Received: from ebru.winwebhosting.com ([74.52.236.50])
	by ietf-mx.ietf.org with esmtp (Exim 4.43) id 1IYpHz-00068c-U7
	for sip@ietf.org; Fri, 21 Sep 2007 16:39:57 -0400
Received: from [209.173.53.233] (helo=BROSLT41xp)
	by ebru.winwebhosting.com with esmtpa (Exim 4.68)
	(envelope-from <br@brianrosen.net>)
	id 1IYpHl-0007no-0a; Fri, 21 Sep 2007 15:39:37 -0500
From: "Brian Rosen" <br@brianrosen.net>
To: "'Jeroen van Bemmel'" <jbemmel@zonnet.nl>,
	"'Dwight, Timothy M \(Tim\)'" <timothy.dwight@verizon.com>
References: <5D1A7985295922448D5550C94DE29180016F63C7@DEEXC1U01.de.lucent.com>
	<46F2E7AD.6040101@zonnet.nl>
	<14f601c7fc6e$b046a390$640fa8c0@cis.neustar.com>
	<7F047EBCFA8C2E499C2A2EF234ABFB3EDB65D4@ASHEVS012.mcilink.com>
	<46F4192D.4050209@zonnet.nl>
Subject: RE: [Sip] Progression of draft-polk-sip-rph-in-responses-00
Date: Fri, 21 Sep 2007 16:39:46 -0400
Message-ID: <15c001c7fc8f$8df3b370$640fa8c0@cis.neustar.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook 11
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.3028
Thread-Index: Acf8hE659pNkJ0AlQka4sdJWFGNkJAACNLhQ
In-Reply-To: <46F4192D.4050209@zonnet.nl>
X-AntiAbuse: This header was added to track abuse,
	please include it with any abuse report
X-AntiAbuse: Primary Hostname - ebru.winwebhosting.com
X-AntiAbuse: Original Domain - ietf.org
X-AntiAbuse: Originator/Caller UID/GID - [47 12] / [47 12]
X-AntiAbuse: Sender Address Domain - brianrosen.net
X-Source: 
X-Source-Args: 
X-Source-Dir: 
X-Spam-Score: 0.0 (/)
X-Scan-Signature: b4a0a5f5992e2a4954405484e7717d8c
Cc: sip@ietf.org, "'DRAGE, Keith \(Keith\)'" <drage@alcatel-lucent.com>
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

> First of all a question to clarify the requirements further: is it
> possible/valid for the request to have no specific priority while its
> response does, or should the RPH headers in a response always be the
> same or a subset of those in the request (i.e. copied)? I assume the
> latter
Yes, it should be the latter

> 
> RFC4412 mostly discusses RPH in the context of endpoints, it states that
> proxies MAY ignore it. It does mention the possibility for a proxy to
> provide differentiated treatment for "responses containing resource
> priority levels", so apparently it was foreseen but omitted from section
> 3.1
Yeah, looks like it.  Maybe James would comment on this

> 
> Even if RPH is intended to provide certainty of service, then still I
> think there are other, IMHO better ways to implement this requirement
> without additional standardization. A stateless proxy could send
> priority requests out on a different port (or ports, e.g. 1 per level)
> than ordinary requests, and treat messages received on the priority
> port(s) with the associated priority. There is of course still a risk
> for abuse (which can be mitigated, ports could be random or proxy could
> encode a magic integrity-protected token). The appropriate Diffserv bits
> could be set on each port, and such a scheme enables determining the
> priority even before parsing the message.
I am sure there are several ways to get the effect of a classic MLPP or ETS
system.  There was however, a lot of effort put into RPH and as I recall
there were quite a few suggestions along the line you propose, but the
people working on the problem did not feel they offered a complete solution.
Again, my memory is a bit fuzzy on this, and perhaps James could help.  One
obvious issue is that RPH is standardized, there are implementations here
and coming, and changing mechanisms in the absence of evidence that a change
is needed may not be wise.  We all know about marking the packets.  It's
highly likely in networks that support DiffServ that the packets will be
marked.  However, it's real hard to infer the priority of the signaling from
the priority of the packets.  Some things are impossible (pre-emption as an
example).

> 
> If abuse is considered likely and a potential problem, the proxy could
> always revert to stateful behavior for priority requests (in combination
> with the priority port approach for best effect under high load)
Yes, I suppose, but a lot of the networks that will use RPH will have some
reasonable ways to police RPH.  Those mechanisms probably would work with
the response. 

> 
> My reasoning is as follows: RPH in responses without additional
> mechanisms is not acceptable, as it provides an obvious security hole
> (DoS opportunity). So some additional mechanism is required, e.g.
> stateful operation to remember the authorised level, or some stateless
> mechanism (e.g. as described above). In both cases, the proxy does not
> need (and MUST NOT trust) the RPH header in responses to determine the
> priority level. So why include it?
While policing RPH in the request is somewhat easier than in the response,
it's not that much different.  I do agree that the security situation is
worse enough that it deserves mention in the text, but I don't think the
problem is significant enough to warrant discarding the whole idea.
Specifically, I don't think you need to outlaw stateless proxies.  As an
example, an SBC could police RPH at the edge.  It may be stateful, it may
use some kind of identity mechanism to check authorization...  Having
policed at the edge, the proxies in the middle may be okay in accepting the
RPH.  Wouldn't want to put too much trust in that, but it may be sufficient.




_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Fri Sep 21 17:57:25 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1IYqPV-0001zp-2N; Fri, 21 Sep 2007 17:51:41 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1IYqPS-0001zD-66
	for sip-confirm+ok@megatron.ietf.org; Fri, 21 Sep 2007 17:51:38 -0400
Received: from [10.90.34.44] (helo=chiedprmail1.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1IYqPR-0001ns-D3
	for sip@ietf.org; Fri, 21 Sep 2007 17:51:37 -0400
Received: from mail171.messagelabs.com ([216.82.253.243])
	by chiedprmail1.ietf.org with smtp (Exim 4.43) id 1IYqPH-0003fI-Ic
	for sip@ietf.org; Fri, 21 Sep 2007 17:51:28 -0400
X-VirusChecked: Checked
X-Env-Sender: jgunn6@csc.com
X-Msg-Ref: server-11.tower-171.messagelabs.com!1190411484!9541359!1
X-StarScan-Version: 5.5.12.14.2; banners=-,-,-
X-Originating-IP: [20.137.52.151]
Received: (qmail 15256 invoked from network); 21 Sep 2007 21:51:25 -0000
Received: from amer-mta07.csc.com (HELO amer-mta07.csc.com) (20.137.52.151)
	by server-11.tower-171.messagelabs.com with AES256-SHA encrypted SMTP;
	21 Sep 2007 21:51:25 -0000
Received: from amer-gw09.amer.csc.com (amer-gw09.amer.csc.com [20.6.39.245])
	by amer-mta07.csc.com (Switch-3.1.6/Switch-3.1.7) with ESMTP id
	l8LLpRXs024713; Fri, 21 Sep 2007 17:51:43 -0400 (EDT)
In-Reply-To: <46F4192D.4050209@zonnet.nl>
To: Jeroen van Bemmel <jbemmel@zonnet.nl>
Subject: Re: [Sip] Progression of draft-polk-sip-rph-in-responses-00
MIME-Version: 1.0
X-Mailer: Lotus Notes 652HF83 November 04, 2004
From: Janet P Gunn <jgunn6@csc.com>
Message-ID: <OF32839DD9.407394E9-ON8525735D.0074F6CA-8525735D.007785D2@csc.com>
Date: Fri, 21 Sep 2007 17:45:30 -0400
X-MIMETrack: Serialize by Router on AMER-GW09/SRV/CSC(Release 7.0.2FP1
	HF180|March 29, 2007) at 09/21/2007 05:49:58 PM,
	Serialize complete at 09/21/2007 05:49:58 PM
X-Spam-Score: 0.0 (/)
X-Scan-Signature: c3a18ef96977fc9bcc21a621cbf1174b
Cc: sip@ietf.org, "DRAGE, Keith \(Keith\)" <drage@alcatel-lucent.com>
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: multipart/mixed; boundary="===============1095431832=="
Errors-To: sip-bounces@ietf.org

This is a multipart message in MIME format.
--===============1095431832==
Content-Type: multipart/alternative;
	boundary="=_alternative 007785518525735D_="

This is a multipart message in MIME format.
--=_alternative 007785518525735D_=
Content-Type: text/plain; charset="US-ASCII"

Jeroen van Bemmel <jbemmel@zonnet.nl> wrote on 09/21/2007 03:19:09 PM:

> Tim, Brian,
> 
> First of all a question to clarify the requirements further: is it 
> possible/valid for the request to have no specific priority while its 
> response does, or should the RPH headers in a response always be the 
> same or a subset of those in the request (i.e. copied)? I assume the 
latter
>
No, not a valid assumption. 

In order to support legacy applications, priority markings (e.g. RPH) may 
be set based on the "dialed number"- e.g., by parsing the Request URI.

In some architectures (e.g. IMS) there may be RPH-capable SIP actors (Type 
A) which do not parse the Request URI looking for the key strings.  Such a 
SIP actor would send a SIP Invite WITHOUT RPH.  However, a subsequent 
RPH-capable SIP actor (which DOES parse the Request URI looking for the 
key strings) (Type B) would set RPH, both in Invites sent forward, and in 
responses sent back.

So the "Type A" SIP actor could send out an Invite without RPH, but get 
back a response WITH RPH.

I have oversimplified, but the point is that it is not a valid assumption.

Janet 
> _______________________________________________
> Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip

--=_alternative 007785518525735D_=
Content-Type: text/html; charset="US-ASCII"


<br><font size=2 face="sans-serif"><br>
</font>
<br>
<br><font size=2><tt>Jeroen van Bemmel &lt;jbemmel@zonnet.nl&gt; wrote
on 09/21/2007 03:19:09 PM:<br>
<br>
&gt; Tim, Brian,<br>
&gt; <br>
&gt; First of all a question to clarify the requirements further: is it
<br>
&gt; possible/valid for the request to have no specific priority while
its <br>
&gt; response does, or should the RPH headers in a response always be the
<br>
&gt; same or a subset of those in the request (i.e. copied)? I assume the
latter<br>
&gt;</tt></font>
<br><font size=2><tt>No, not a valid assumption. &nbsp;</tt></font>
<br>
<br><font size=2><tt>In order to support legacy applications, priority
markings (e.g. RPH) may be set based on the &quot;dialed number&quot;-
e.g., by parsing the Request URI.</tt></font>
<br>
<br><font size=2><tt>In some architectures (e.g. IMS) there may be RPH-capable
SIP actors &nbsp;(Type A) which do not parse the Request URI looking for
the key strings. &nbsp;Such a SIP actor would send a SIP Invite WITHOUT
RPH. &nbsp;However, a subsequent &nbsp;RPH-capable SIP actor (which DOES
parse the Request URI looking for the key strings) (Type B) would set RPH,
both in Invites sent forward, and in responses sent back.</tt></font>
<br>
<br><font size=2><tt>So the &quot;Type A&quot; SIP actor could send out
an Invite without RPH, but get back a response WITH RPH.</tt></font>
<br>
<br><font size=2><tt>I have oversimplified, but the point is that it is
not a valid assumption.</tt></font>
<br>
<br><font size=2><tt>Janet <br>
&gt; _______________________________________________<br>
&gt; Sip mailing list &nbsp;https://www1.ietf.org/mailman/listinfo/sip<br>
&gt; This list is for NEW development of the core SIP Protocol<br>
&gt; Use sip-implementors@cs.columbia.edu for questions on current sip<br>
&gt; Use sipping@ietf.org for new developments on the application of sip<br>
</tt></font>
--=_alternative 007785518525735D_=--



--===============1095431832==
Content-Type: text/plain; charset="us-ascii"
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip
--===============1095431832==--





From sip-bounces@ietf.org Fri Sep 21 18:05:38 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1IYqbF-00034K-Fy; Fri, 21 Sep 2007 18:03:49 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1IYqbE-00033z-F7
	for sip-confirm+ok@megatron.ietf.org; Fri, 21 Sep 2007 18:03:48 -0400
Received: from [10.91.34.44] (helo=ietf-mx.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1IYqbE-00030K-5O
	for sip@ietf.org; Fri, 21 Sep 2007 18:03:48 -0400
Received: from omzesmtp01.mci.com ([199.249.17.7])
	by ietf-mx.ietf.org with esmtp (Exim 4.43) id 1IYqb4-00005P-Up
	for sip@ietf.org; Fri, 21 Sep 2007 18:03:45 -0400
Received: from dgismtp02.mcilink.com ([166.38.58.142])
	by firewall.verizonbusiness.com (Iplanet MTA 5.2)
	with ESMTP id <0JOQ00FH2NV5NI@firewall.verizonbusiness.com> for
	sip@ietf.org; Fri, 21 Sep 2007 22:01:53 +0000 (GMT)
Received: from dgismtp02.mcilink.com ([127.0.0.1])
	by dgismtp02.mcilink.com (iPlanet Messaging Server 5.2 HotFix 2.08
	(built Sep
	22 2005)) with SMTP id <0JOQ00CGCNV50B@dgismtp02.mcilink.com> for
	sip@ietf.org; Fri, 21 Sep 2007 22:01:53 +0000 (GMT)
Received: from ASHSRV139.mcilink.com ([153.39.68.165])
	by dgismtp02.mcilink.com (iPlanet Messaging Server 5.2 HotFix 2.08
	(built Sep
	22 2005)) with ESMTP id <0JOQ00AETNV4MZ@dgismtp02.mcilink.com> for
	sip@ietf.org; Fri, 21 Sep 2007 22:01:53 +0000 (GMT)
Received: from ASHEVS012.mcilink.com ([153.39.69.141])
	by ASHSRV139.mcilink.com with Microsoft SMTPSVC(6.0.3790.1830); Fri,
	21 Sep 2007 22:01:45 +0000
Date: Fri, 21 Sep 2007 22:01:35 +0000
From: "Dwight, Timothy M (Tim)" <timothy.dwight@verizon.com>
Subject: RE: [Sip] Progression of draft-polk-sip-rph-in-responses-00
In-reply-to: <5D1A7985295922448D5550C94DE29180016F63C7@DEEXC1U01.de.lucent.com>
To: "DRAGE, Keith (Keith)" <drage@alcatel-lucent.com>, sip@ietf.org
Message-id: <7F047EBCFA8C2E499C2A2EF234ABFB3EDB65E2@ASHEVS012.mcilink.com>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft Exchange V6.5
Content-type: text/plain; charset=us-ascii
Content-transfer-encoding: quoted-printable
Content-class: urn:content-classes:message
Thread-topic: [Sip] Progression of draft-polk-sip-rph-in-responses-00
Thread-index: Acf7t/VzCNcjo2g3RAukPHJiav01FgA31cag
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
References: <5D1A7985295922448D5550C94DE29180016F63C7@DEEXC1U01.de.lucent.com>
X-OriginalArrivalTime: 21 Sep 2007 22:01:45.0031 (UTC)
	FILETIME=[FFCFA570:01C7FC9A]
X-Spam-Score: 0.0 (/)
X-Scan-Signature: b2809b6f39decc6de467dcf252f42af1
Cc: 
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

OK, you've got it wrong.  ("be careful what you ask for, because you may
get it...").

The capability supported by the Resource Priority Header is not meant,
or anticipated, to be "good for" the network.  Its intent is to support
a higher-then-normal level of certainty that service will be
expeditiously provided, to a "special" community of users.  In this case
"service delayed is service denied", i.e., if it takes an hour for the
fire department to get through to the police department your house is
probably toast.  So it's not good enough that these calls eventually go
through,

The issue to debate is whether the inclusion of RPH in response
messages, serves that objective.  If it does, and in so doing it makes
certain network elements work harder or congest worse or in general
results in degradation of service to servers not in the "special"
community, so be it.

Other comments below.

Best regards,

tim

> -----Original Message-----
> From: DRAGE, Keith (Keith) [mailto:drage@alcatel-lucent.com]=20
> Sent: Thursday, September 20, 2007 1:57 PM
> To: sip@ietf.org
> Subject: [Sip] Progression of draft-polk-sip-rph-in-responses-00
>=20
> (As WG chair)
>=20
> Dean attempted to get this one started a while back and it=20
> fell on stony
> ground.
>=20
> We have now set charter milestones for all the documents we agreed to
> progress at the last IETF meeting except for the draft above.
>=20
> The reason for this absence is that after discussion with the=20
> AD, we are
> not convinced that doing this provides a significant benefit. Part of
> this may be clarified by revising the draft as an author draft but...
>=20
> The essence of the problem is that the application is to that of a
> transaction stateless proxy. Of the list of activities=20
> specified by RFC
> 4412:
>=20
>    1.  The request can be given elevated priority for access to PSTN
>        gateway resources, such as trunk circuits.
>=20
>    2.  The request can interrupt lower-priority requests at a user
>        terminal, such as an IP phone.
>=20
>    3.  The request can carry information from one multi-level priority
>        domain in the telephone network (e.g., using the facilities of
>        Q.735.3 [Q.735.3]) to another, without the SIP proxies
themselves
>        inspecting or modifying the header field.
>=20
>    4.  In SIP proxies and back-to-back user agents, requests of higher
>        priorities may displace existing signaling requests or bypass
>        PSTN gateway capacity limits in effect for lower priorities.
>=20
> The only reason for including a Resource-Priority header in a response
> for use in a transaction stateless proxy is item 4 above. This means
> that a response for (namespace x, priority 5) could be handled ahead
of
> a response for (namespace x, priority 4).
>=20
> The question is what is the impact of such handling on an overloaded
> system, where such priority handling could have a benefit (we assume
> that in a system that is not overloaded then responses can be pushed
> back pretty much as fast as they are received).

With respect, that is not the most relevant question.  If inclusion of
RPH in response messages serves the end of increasing the certainty that
priority requests expeditiously obtain service, it is in principle worth
doing.  Certainly it is prudent to ask what the side effects would be
(e.g., increased congestion), and in principle they might impact the
desirability of this enhancement; but the bar for them to do so needs to
be set very high.  If an airplane hits an office building, it is much,
much more important that the agencies tasked with providing emergency
services be able to communicate with one another, than it is for
everyone who knows anyone that lives in that area to be able to call
their friend.


> If a response processing
> gets delayed according to some queueing mechanism, then eventually
> timers related to the request at the entity before this proxy will
time
> out, and the request will be repeated. This increases the processing
> load on an overloaded system.=20

Of course.  But the relevant issue is again not the impact on the
overloaded system, it is the impact on the certainty that service will
be expeditiously provided to priority requests.


>=20
> So in terms of resource priority, is the appropriate model that
> responses should always be handled immediately and before the request
> queues are handled, or is there a justification for some other model.

Some variant of that model (prioritizing responses over requests) seems
likely to already in use.  The question on the table is whether it
should be augmented such that responses associated with priority calls
are prioritized higher than other sorts of responses.  If doing so
increases either the certainty or the speed with which service is
provided to priority calls, then it seems the enhancement is justified.


>=20
> Please respond and tell us we have got it wrong.
>=20
> Regards
>=20
> Keith
>=20
>=20
> _______________________________________________
> Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
>=20


_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Sun Sep 23 03:15:15 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1IZLXT-0000Ai-F8; Sun, 23 Sep 2007 03:05:59 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1IZLXR-0000Ad-VE
	for sip-confirm+ok@megatron.ietf.org; Sun, 23 Sep 2007 03:05:57 -0400
Received: from [10.90.34.44] (helo=chiedprmail1.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1IZLXM-000081-Kh
	for sip@ietf.org; Sun, 23 Sep 2007 03:05:52 -0400
Received: from omzesmtp03.mci.com ([199.249.17.11])
	by chiedprmail1.ietf.org with esmtp (Exim 4.43) id 1IZLXG-0002JK-CI
	for sip@ietf.org; Sun, 23 Sep 2007 03:05:47 -0400
Received: from dgismtp04.wcomnet.com ([166.38.58.144])
	by firewall.verizonbusiness.com (Iplanet MTA 5.2)
	with ESMTP id <0JOT00F5W7PE37@firewall.verizonbusiness.com> for
	sip@ietf.org; Sun, 23 Sep 2007 07:05:38 +0000 (GMT)
Received: from dgismtp04.wcomnet.com ([127.0.0.1])
	by dgismtp04.mcilink.com (iPlanet Messaging Server 5.2 HotFix 2.08
	(built Sep
	22 2005)) with SMTP id <0JOT00I0F7PDDF@dgismtp04.mcilink.com> for
	sip@ietf.org; Sun, 23 Sep 2007 07:05:38 +0000 (GMT)
Received: from ASHSRV140.mcilink.com ([153.39.68.166])
	by dgismtp04.mcilink.com (iPlanet Messaging Server 5.2 HotFix 2.08
	(built Sep
	22 2005)) with ESMTP id <0JOT00FCG7PD2P@dgismtp04.mcilink.com> for
	sip@ietf.org; Sun, 23 Sep 2007 07:05:37 +0000 (GMT)
Received: from ASHEVS012.mcilink.com ([153.39.69.141])
	by ASHSRV140.mcilink.com with Microsoft SMTPSVC(6.0.3790.1830); Sun,
	23 Sep 2007 07:05:37 +0000
Date: Sun, 23 Sep 2007 07:05:25 +0000
From: "Dwight, Timothy M (Tim)" <timothy.dwight@verizon.com>
Subject: RE: [Sip] Progression of draft-polk-sip-rph-in-responses-00
In-reply-to: <46F4192D.4050209@zonnet.nl>
To: Jeroen van Bemmel <jbemmel@zonnet.nl>
Message-id: <7F047EBCFA8C2E499C2A2EF234ABFB3EDB65E3@ASHEVS012.mcilink.com>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft Exchange V6.5
Content-type: text/plain; charset=us-ascii
Content-transfer-encoding: quoted-printable
Content-class: urn:content-classes:message
Thread-topic: [Sip] Progression of draft-polk-sip-rph-in-responses-00
Thread-index: Acf8slbZkVIyfiFwSu6PlqiAr9MMSwA+APoA
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
References: <5D1A7985295922448D5550C94DE29180016F63C7@DEEXC1U01.de.lucent.com>
	<46F2E7AD.6040101@zonnet.nl>
	<14f601c7fc6e$b046a390$640fa8c0@cis.neustar.com>
	<7F047EBCFA8C2E499C2A2EF234ABFB3EDB65D4@ASHEVS012.mcilink.com>
	<46F4192D.4050209@zonnet.nl>
X-OriginalArrivalTime: 23 Sep 2007 07:05:37.0543 (UTC)
	FILETIME=[24B79170:01C7FDB0]
X-Spam-Score: 0.0 (/)
X-Scan-Signature: cdeeb24e6b743a852c396a4af0e53c8f
Cc: sip@ietf.org, "DRAGE, Keith \(Keith\)" <drage@alcatel-lucent.com>
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

Jeroen,

I noted previously that "if it helps the application then we should do
it".  Your comments are quite helpful as they address directly the
question of how/whether appending of RPH to responses would help
applications using this mechanism, and how doing so might harm them.

I understand your conclusion to be that [stateful] devices will
"remember" the priority of the request and apply it to the response, and
that stateless devices may effectively be rendered stateful with respect
to the priority applied to responses; therefore it is unnecessary to
signal the priority of the response explicitly.  Moreover, doing so
creates potential for abuse.  Is that a fair summary?

I think there are a couple of small issues with that, but basically I
think it's sound.

1. As Ms. Gunn has pointed out, there are cases where the request is not
marked for priority treatment until it gets some ways into the network.
In principle the originating UA should append RPH but in reality some
won't.  If the network element that appends RPH, generates a response,
it might be helpful that that response contain an RPH.  I would like to
understand "might be helpful" better though.

2. Although I agree that a stateful device should remember the request's
priority (I think 4412 mandates this to prevent colluding end systems
from raising their priority) I'm not sure you want a congested network
element to have to fetch the session state information in order to
decide whether to drop or queue a response.  This is an implementation
issue that I'm not in a position to state with authority, so comments
would be helpful on this point as well.  Certainly I recognize that by
acting upon the RPH received in the response message without validating
it, the device might be more vulnerable to abuse.

I think your scheme for how a stateless device could effectively be
stateful with respect to response priority (by sending requests, and
therefore receiving responses, associated with different priorities,
through different ports) is clever, and probably less vulnerable to
abuse than explicitly signaling priority in responses.

tim


> -----Original Message-----
> From: Jeroen van Bemmel [mailto:jbemmel@zonnet.nl]=20
> Sent: Friday, September 21, 2007 2:19 PM
> To: Dwight, Timothy M (Tim)
> Cc: Brian Rosen; DRAGE, Keith (Keith); sip@ietf.org
> Subject: Re: [Sip] Progression of draft-polk-sip-rph-in-responses-00
>=20
> Tim, Brian,
>=20
> First of all a question to clarify the requirements further: is it=20
> possible/valid for the request to have no specific priority while its=20
> response does, or should the RPH headers in a response always be the=20
> same or a subset of those in the request (i.e. copied)? I=20
> assume the latter
>=20
> RFC4412 mostly discusses RPH in the context of endpoints, it=20
> states that=20
> proxies MAY ignore it. It does mention the possibility for a proxy to=20
> provide differentiated treatment for "responses containing resource=20
> priority levels", so apparently it was foreseen but omitted=20
> from section 3.1
>=20
> Even if RPH is intended to provide certainty of service, then still I=20
> think there are other, IMHO better ways to implement this requirement=20
> without additional standardization. A stateless proxy could send=20
> priority requests out on a different port (or ports, e.g. 1=20
> per level)=20
> than ordinary requests, and treat messages received on the priority=20
> port(s) with the associated priority. There is of course still a risk=20
> for abuse (which can be mitigated, ports could be random or=20
> proxy could=20
> encode a magic integrity-protected token). The appropriate=20
> Diffserv bits=20
> could be set on each port, and such a scheme enables determining the=20
> priority even before parsing the message.
>=20
> If abuse is considered likely and a potential problem, the=20
> proxy could=20
> always revert to stateful behavior for priority requests (in=20
> combination=20
> with the priority port approach for best effect under high load)
>=20
> My reasoning is as follows: RPH in responses without additional=20
> mechanisms is not acceptable, as it provides an obvious security hole=20
> (DoS opportunity). So some additional mechanism is required, e.g.=20
> stateful operation to remember the authorised level, or some=20
> stateless=20
> mechanism (e.g. as described above). In both cases, the proxy=20
> does not=20
> need (and MUST NOT trust) the RPH header in responses to=20
> determine the=20
> priority level. So why include it?
>=20
> So even though I may have misinterpreted the purpose of RPH in my=20
> previous posting, do you agree with the above conclusion?
>=20
> Regards,
> Jeroen
>=20
> Dwight, Timothy M (Tim) wrote:
> > I agree with Brian.  Though I'm not completely comfortable=20
> with equating
> > ETS and MLPP, I think his main point is right on.  The=20
> purpose of RPH is
> > not to improve the efficiency of the network.  It is to provide
> > certainty of service to a specific community of users.  As=20
> long as the
> > network is operational, their calls must go through.  If=20
> that makes the
> > network less available to others, so be it.  Whether it=20
> provides benefit
> > to proxies or whatever, isn't relevant since it isn't intended to
> > provide such benefits.=20
> >
> > Tim
> >
> >
> >  =20
> >> -----Original Message-----
> >> From: Brian Rosen [mailto:br@brianrosen.net]=20
> >> Sent: Friday, September 21, 2007 11:45 AM
> >> To: 'Jeroen van Bemmel'; 'DRAGE, Keith (Keith)'
> >> Cc: sip@ietf.org
> >> Subject: RE: [Sip] Progression of=20
> draft-polk-sip-rph-in-responses-00
> >>
> >> Hmmm.  You must have different implementation experience than=20
> >> I do, and you
> >> must not have talked to any MLPP folks.
> >>
> >> Inline for more
> >>
> >>    =20
> >>> -----Original Message-----
> >>> From: Jeroen van Bemmel [mailto:jbemmel@zonnet.nl]
> >>> Sent: Thursday, September 20, 2007 5:36 PM
> >>> To: DRAGE, Keith (Keith)
> >>> Cc: sip@ietf.org
> >>> Subject: Re: [Sip] Progression of=20
> draft-polk-sip-rph-in-responses-00
> >>>
> >>> Keith,
> >>>
> >>> I agree with your assessment, there is little benefit and several
> >>> drawbacks in adding a Resource-Priority header to responses.
> >>>
> >>> - for proxies there is no benefit in processing one=20
> response before
> >>> another (at least of the same type, i.e. INVITE or=20
> >>>      =20
> >> non-INVITE) that was
> >>    =20
> >>> received earlier. Both free up memory resources, take about=20
> >>>      =20
> >> the same CPU
> >>    =20
> >>> time and prevent retransmissions in the same way, so all=20
> >>>      =20
> >> other things
> >>    =20
> >>> being equal FIFO processing is preferable (because=20
> statistically it
> >>> avoids more retransmissions and achieves a lower=20
> >>>      =20
> >> memory*time product)
> >> But that is not the goal of the RPH.  At least with=20
> classic MLPP type
> >> systems, the goal is to make sure that the priority calls go=20
> >> through.  It
> >> doesn't matter what happens to the low priority calls.  It=20
> >> doesn't matter if
> >> the proxy resource is used efficiently.  It doesn't matter=20
> >> that, let's say,
> >> you got 10,000 low priority calls through at the expense of=20
> >> dropping one
> >> high priority call; you should have gotten the one high=20
> priority call
> >> through.
> >>  =20
> >>    =20
> >>> - dropping non-provisional responses is a bad idea,=20
> >>>      =20
> >> especially in overload
> >> Only from an overall load point of view.  Not from the point=20
> >> of view that
> >> the priority is absolute, which for some uses, it is.
> >>
> >>    =20
> >>> - queuing such responses for too long: idem
> >>>      =20
> >> As above, no
> >>
> >>    =20
> >>> One could perhaps argue that provisional responses could be=20
> >>>      =20
> >> treated with
> >>    =20
> >>> lower priority than final responses, but if so this is better
> >>> implemented as a local policy; no need to mark individual=20
> >>>      =20
> >> responses for
> >>    =20
> >>> this.
> >>>      =20
> >> Well, you must process the one high priority request/provisional
> >> response/final response before you process any low priority=20
> >> final response.
> >>
> >>    =20
> >>> Some additional points:
> >>> - responses cannot be challenged, so responders could claim=20
> >>>      =20
> >> any priority
> >>    =20
> >>> they feel appropriate
> >>>      =20
> >> Policing of R-P-H is a problem, and it's true that policing=20
> >> the response is
> >> harder than policing the request.
> >>
> >>    =20
> >>> - a R-P header would add quite some bytes to the response=20
> >>>      =20
> >> size, filling
> >>    =20
> >>> the network buffers sooner which makes overload situations worse
> >>>      =20
> >> I think this is a red herring.  Memory size is usually not=20
> >> the problem.
> >>
> >>    =20
> >>> - is there / should there be a relationship between the=20
> >>>      =20
> >> priority of the
> >>    =20
> >>> request and that of its associated responses? if so, the proxy has
> >>> better ways of achieving this (i.e. encoding an integrity=20
> protected
> >>> value in the request, no need for standardization here)
> >>>      =20
> >> This is for a stateless proxy, right?  I don't think that works.
> >> =20
> >>    =20
> >> Brian
> >>
> >>
> >>
> >> _______________________________________________
> >> Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
> >> This list is for NEW development of the core SIP Protocol
> >> Use sip-implementors@cs.columbia.edu for questions on current sip
> >> Use sipping@ietf.org for new developments on the application of sip
> >>
> >>    =20
> >
> >  =20
>=20


_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Sun Sep 23 16:08:12 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1IZXas-0005ZO-0Z; Sun, 23 Sep 2007 15:58:18 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1IZXaq-0005Z8-VW
	for sip-confirm+ok@megatron.ietf.org; Sun, 23 Sep 2007 15:58:16 -0400
Received: from [10.91.34.44] (helo=ietf-mx.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1IZXaq-0005XC-Lr
	for sip@ietf.org; Sun, 23 Sep 2007 15:58:16 -0400
Received: from e23smtp03.au.ibm.com ([202.81.18.172])
	by ietf-mx.ietf.org with esmtp (Exim 4.43) id 1IZXag-00005k-IQ
	for sip@ietf.org; Sun, 23 Sep 2007 15:58:14 -0400
Received: from sd0109e.au.ibm.com (d23rh905.au.ibm.com [202.81.18.225])
	by e23smtp03.au.ibm.com (8.13.1/8.13.1) with ESMTP id l8NJvGbv005737
	for <sip@ietf.org>; Mon, 24 Sep 2007 05:57:16 +1000
Received: from d23av03.au.ibm.com (d23av03.au.ibm.com [9.190.234.97])
	by sd0109e.au.ibm.com (8.13.8/8.13.8/NCO v8.5) with ESMTP id
	l8NK0l9K096196 for <sip@ietf.org>; Mon, 24 Sep 2007 06:00:50 +1000
Received: from d23av03.au.ibm.com (loopback [127.0.0.1])
	by d23av03.au.ibm.com (8.12.11.20060308/8.13.3) with ESMTP id
	l8NJuv3K020151 for <sip@ietf.org>; Mon, 24 Sep 2007 05:56:57 +1000
X-Authentication-Warning: d23av03.au.ibm.com: Processed from queue
	/var/spool/mqueue/active*
X-Authentication-Warning: d23av03.au.ibm.com: Processed by postman with -C
	/relay/etc/sendmail.cf-deliver
Received: from d23m0037.cn.ibm.com (d23m0037.cn.ibm.com [9.181.2.105])
	by d23av03.au.ibm.com (8.12.11.20060308/8.12.11) with ESMTP id
	l8NJuvnO020033 for <sip@ietf.org>; Mon, 24 Sep 2007 05:56:57 +1000
From: Xin Sheng Mao <maoxs@cn.ibm.com>
To: sip@ietf.org
Message-ID: <OF38678E22.64C12836-ON4825735F.006E4D5F-4825735F.006E4D5F@cn.ibm.com>
Date: Mon, 24 Sep 2007 04:04:47 +0800
X-MIMETrack: Serialize by Router on D23M0037/23/M/IBM(Release 7.0.2HF32 |
	October 17, 2006) at 09/24/2007 04:05:05
MIME-Version: 1.0
X-Spam-Score: 0.0 (/)
X-Scan-Signature: 856eb5f76e7a34990d1d457d8e8e5b7f
Subject: [Sip] Xin Sheng Mao/China/IBM is out of the office.
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: multipart/mixed; boundary="===============1406403686=="
Errors-To: sip-bounces@ietf.org

--===============1406403686==
Content-type: multipart/alternative; 
	Boundary="0__=C7BBF9CCDFFDCBCF8f9e8a93df938690918cC7BBF9CCDFFDCBCF"
Content-Disposition: inline

--0__=C7BBF9CCDFFDCBCF8f9e8a93df938690918cC7BBF9CCDFFDCBCF
Content-type: text/plain; charset=US-ASCII


I will be out of the office starting  2007-09-24 and will not return until
2007-09-30.

I am out of office in this week (0924~0930) for personal enagements...
--0__=C7BBF9CCDFFDCBCF8f9e8a93df938690918cC7BBF9CCDFFDCBCF
Content-type: text/html; charset=US-ASCII
Content-Disposition: inline

<html><body>
<p>I will be out of the office starting  2007-09-24 and will not return until 2007-09-30.<br>
<br>
I am out of office in this week (0924~0930) for personal enagements...</body></html>
--0__=C7BBF9CCDFFDCBCF8f9e8a93df938690918cC7BBF9CCDFFDCBCF--




--===============1406403686==
Content-Type: text/plain; charset="us-ascii"
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip
--===============1406403686==--






From sip-bounces@ietf.org Mon Sep 24 04:40:59 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1IZjQU-0005eh-1u; Mon, 24 Sep 2007 04:36:22 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1IZjQS-0005eS-AM
	for sip-confirm+ok@megatron.ietf.org; Mon, 24 Sep 2007 04:36:20 -0400
Received: from [10.90.34.44] (helo=chiedprmail1.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1IZjQQ-0005d7-2o
	for sip@ietf.org; Mon, 24 Sep 2007 04:36:19 -0400
Received: from ihemail1.lucent.com ([135.245.0.33])
	by chiedprmail1.ietf.org with esmtp (Exim 4.43) id 1IZjQP-0001OQ-Fn
	for sip@ietf.org; Mon, 24 Sep 2007 04:36:17 -0400
Received: from ilexp01.ndc.lucent.com (h135-3-39-1.lucent.com [135.3.39.1])
	by ihemail1.lucent.com (8.13.8/IER-o) with ESMTP id l8O8a6wc003836;
	Mon, 24 Sep 2007 03:36:14 -0500 (CDT)
Received: from DEEXP01.de.lucent.com ([135.248.187.65]) by
	ilexp01.ndc.lucent.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Mon, 24 Sep 2007 03:35:47 -0500
Received: from DEEXC1U01.de.lucent.com ([135.248.187.26]) by
	DEEXP01.de.lucent.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Mon, 24 Sep 2007 10:35:45 +0200
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
X-MimeOLE: Produced By Microsoft Exchange V6.5
Subject: RE: AW: AW: [Sip] Extension of conference procedures
Date: Mon, 24 Sep 2007 10:35:44 +0200
Message-ID: <5D1A7985295922448D5550C94DE29180016F685B@DEEXC1U01.de.lucent.com>
In-Reply-To: <CC302A9F-2D8A-4EE6-837F-7347971362AD@softarmor.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: AW: AW: [Sip] Extension of conference procedures
Thread-Index: AcfwG8P6KI8JpnWTRo++z0pjPNU1lgM3xvWQ
References: <C302EB13.A82F%eburger@bea.com>
	<CCA850DCD3FBE2479D5076C5C1873222029F50B6@S4DE9JSAAHW.ost.t-com.de>
	<5D1A7985295922448D5550C94DE2918001636EF9@DEEXC1U01.de.lucent.com>
	<CC302A9F-2D8A-4EE6-837F-7347971362AD@softarmor.com>
From: "DRAGE, Keith \(Keith\)" <drage@alcatel-lucent.com>
To: "Dean Willis" <dean.willis@softarmor.com>
X-OriginalArrivalTime: 24 Sep 2007 08:35:45.0643 (UTC)
	FILETIME=[E69BE3B0:01C7FE85]
X-Scanned-By: MIMEDefang 2.57 on 135.245.2.33
X-Spam-Score: 0.0 (/)
X-Scan-Signature: e8a67952aa972b528dd04570d58ad8fe
Cc: sip@ietf.org
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

It looks to me like we could usefully have some informational text
drafted on the usage of "?", i.e. what it can be used for and what it
cannot.

Further, can any implementation use it, or does it need specification=20

Any volunteers.

Regards

Keith=20

> -----Original Message-----
> From: Dean Willis [mailto:dean.willis@softarmor.com]=20
> Sent: Thursday, September 06, 2007 1:20 AM
> To: DRAGE, Keith (Keith)
> Cc: Huelsemann, Martin; eburger@bea.com; sip@ietf.org
> Subject: Re: AW: AW: [Sip] Extension of conference procedures
>=20
>=20
> On Sep 5, 2007, at 6:10 AM, DRAGE, Keith ((Keith)) wrote:
>=20
> > So this is a convenient way to bring us back to the other=20
> half of the=20
> > issue which we do not seem to have discussed yet. When the=20
> syntax was=20
> > defined that allowed ?headers:
> >
> >       Headers: Header fields to be included in a request constructed
> >          from the URI.
> >
> >          Headers fields in the SIP request can be specified=20
> with the=20
> > "?"
> >          mechanism within a URI.  The header names and values are
> >          encoded in ampersand separated hname =3D hvalue pairs.  The
> >          special hname "body" indicates that the associated=20
> hvalue is
> >          the message-body of the SIP request.
> >
> > What usage did the SIP WG envisage for this, and thus what=20
> semantics=20
> > did they define for that usage.
> >
> > Is it appropriate to assign new semantics to such usage?
> >
>=20
> I believe we were confused about the differences between=20
> headers and URI parameters and didn't quite get the "?"=20
> notation used with HTTP cgi-bin.
>=20
> But that's just where it started. "?" notation has since been=20
> fairly widely used as a way to "flatten" elements of a SIP=20
> request for expression on a single (if somewhat long) line,=20
> which has been shown to be somewhat useful in both REFER and=20
> in retargeting proxies that allow one-line configuration of a=20
> target URL.
>=20
>=20
> --
> Dean
>=20
>=20


_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Mon Sep 24 11:11:36 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1IZpVj-0008Gb-Vv; Mon, 24 Sep 2007 11:06:11 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1IZpVi-0008Fm-G3
	for sip-confirm+ok@megatron.ietf.org; Mon, 24 Sep 2007 11:06:10 -0400
Received: from [10.90.34.44] (helo=chiedprmail1.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1IZpVi-00089T-27
	for sip@ietf.org; Mon, 24 Sep 2007 11:06:10 -0400
Received: from shaman.nostrum.com ([72.232.15.10] helo=nostrum.com)
	by chiedprmail1.ietf.org with esmtp (Exim 4.43) id 1IZpVX-0003hg-CF
	for sip@ietf.org; Mon, 24 Sep 2007 11:05:59 -0400
Received: from orthrus.local (vicuna-alt.estacado.net [75.53.54.121])
	(authenticated bits=0)
	by nostrum.com (8.14.1/8.14.1) with ESMTP id l8OF5mwe047706
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO);
	Mon, 24 Sep 2007 10:05:52 -0500 (CDT)
	(envelope-from adam@nostrum.com)
Message-ID: <46F7D253.7000405@nostrum.com>
Date: Mon, 24 Sep 2007 10:05:55 -0500
From: Adam Roach <adam@nostrum.com>
User-Agent: Thunderbird 2.0.0.6 (Macintosh/20070728)
MIME-Version: 1.0
To: Dean Willis <dean.willis@softarmor.com>
Subject: Re: AW: AW: [Sip] Extension of conference procedures
References: <C302EB13.A82F%eburger@bea.com>	<CCA850DCD3FBE2479D5076C5C1873222029F50B6@S4DE9JSAAHW.ost.t-com.de>	<5D1A7985295922448D5550C94DE2918001636EF9@DEEXC1U01.de.lucent.com>
	<CC302A9F-2D8A-4EE6-837F-7347971362AD@softarmor.com>
In-Reply-To: <CC302A9F-2D8A-4EE6-837F-7347971362AD@softarmor.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Received-SPF: pass (nostrum.com: 75.53.54.121 is authenticated by a trusted
	mechanism)
X-Virus-Scanned: ClamAV 0.91.2/4378/Mon Sep 24 07:25:35 2007 on
	shaman.nostrum.com
X-Virus-Status: Clean
X-Spam-Score: 0.0 (/)
X-Scan-Signature: 69a74e02bbee44ab4f8eafdbcedd94a1
Cc: sip@ietf.org, "DRAGE, Keith \(\(Keith\)\)" <drage@alcatel-lucent.com>
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

On 9/5/07 7:19 PM, Dean Willis wrote:
>
> On Sep 5, 2007, at 6:10 AM, DRAGE, Keith ((Keith)) wrote:
>
>> So this is a convenient way to bring us back to the other half of the 
>> issue which we do not seem to have discussed yet. When the syntax was 
>> defined that allowed ?headers:
>>
>>       Headers: Header fields to be included in a request constructed
>>          from the URI.
>>
>>          Headers fields in the SIP request can be specified with the "?"
>>          mechanism within a URI.  The header names and values are
>>          encoded in ampersand separated hname = hvalue pairs.  The
>>          special hname "body" indicates that the associated hvalue is
>>          the message-body of the SIP request.
>>
>> What usage did the SIP WG envisage for this, and thus what semantics 
>> did they define for that usage.
>>
>> Is it appropriate to assign new semantics to such usage?
>>
>
> I believe we were confused about the differences between headers and 
> URI parameters and didn't quite get the "?" notation used with HTTP 
> cgi-bin.

I'm not certain there was any actual confusion here when we settled on 
that syntax originally. RFC 2396 (which was current at the time, 
although it has been superseded by RFC 3986) describes this portion of a 
URI as nothing more than: "The query component is a string of 
information to be interpreted by the resource." I think SIP's use is 
consistent with that.

Additionally, RFC 2368 gives clear and strong precedent for precisely 
this interpretation of the query component of URIs.

/a


_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Mon Sep 24 11:29:13 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1IZppB-000363-L6; Mon, 24 Sep 2007 11:26:17 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1IZppA-00035P-9j
	for sip-confirm+ok@megatron.ietf.org; Mon, 24 Sep 2007 11:26:16 -0400
Received: from [10.90.34.44] (helo=chiedprmail1.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1IZpp9-00035G-S6
	for sip@ietf.org; Mon, 24 Sep 2007 11:26:16 -0400
Received: from shaman.nostrum.com ([72.232.15.10] helo=nostrum.com)
	by chiedprmail1.ietf.org with esmtp (Exim 4.43) id 1IZpp9-0004F7-7T
	for sip@ietf.org; Mon, 24 Sep 2007 11:26:15 -0400
Received: from orthrus.local (vicuna-alt.estacado.net [75.53.54.121])
	(authenticated bits=0)
	by nostrum.com (8.14.1/8.14.1) with ESMTP id l8OFQ98g048774
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO);
	Mon, 24 Sep 2007 10:26:09 -0500 (CDT)
	(envelope-from adam@nostrum.com)
Message-ID: <46F7D719.2070004@nostrum.com>
Date: Mon, 24 Sep 2007 10:26:17 -0500
From: Adam Roach <adam@nostrum.com>
User-Agent: Thunderbird 2.0.0.6 (Macintosh/20070728)
MIME-Version: 1.0
To: Brian Stucker <bstucker@nortel.com>
Subject: Re: [Sip] INFO
References: <6FC4416DDE56C44DA0AEE67BC7CA437116A57D59@zrc2hxm2.corp.nortel.com>	<C3184CEC.B881%eburger@bea.com>
	<6FC4416DDE56C44DA0AEE67BC7CA437116DFF008@zrc2hxm2.corp.nortel.com>
In-Reply-To: <6FC4416DDE56C44DA0AEE67BC7CA437116DFF008@zrc2hxm2.corp.nortel.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Received-SPF: pass (nostrum.com: 75.53.54.121 is authenticated by a trusted
	mechanism)
X-Virus-Scanned: ClamAV 0.91.2/4378/Mon Sep 24 07:25:35 2007 on
	shaman.nostrum.com
X-Virus-Status: Clean
X-Spam-Score: 0.0 (/)
X-Scan-Signature: 39bd8f8cbb76cae18b7e23f7cf6b2b9f
Cc: sip@ietf.org
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

On 9/20/07 10:58 PM, Brian Stucker wrote:
> You've made some assertions in your arguments that I believe need some substantiation. You've said that the content-type is not enough to figure out what is going on at all. I disagee. I think a content type that says "I'm sending you DTMF digits in a particular format" is every bit as robust as the content-type that conveys MWI for instance, and a heck of a lot more specific than SDP is. 

The problem isn't _in_ that direction. The problem is: how do I say "I 
am capable of receiving DTMF digits in an INFO message"?

The "Accept" header-field lets you say you understand the syntax, but 
doesn't convey what contexts it makes sense in.

The "Allow" header-field lets you say you can process INFO for some 
mime-types, but doesn't let you say which ones.

There is no current mechanism that lets you tie the semantics together, 
the way that event packages do. I've shown, in previous messages, how 
this can lead to ambiguity and consequent interoperability failure.

To be clear: I don't really care much whether we come up with INFO 
packages or whether we formally deprecate INFO, but the current 
situation is untenable.

> I'm looking for consistent arguments that can be applied to problems outside of INFO so when the next bad idea (tm) comes along we can clearly point to this document and say "you're trying to do X which we can clearly show is bad and does not align to the things we think are good." I haven't read such an argument yet.
>   

The argument you're looking for is part of Jonathan's service 
identification draft -- INFO, as currently defined, is a "Do What I 
Mean" method. For proper behavior, it requires either a closed-garden 
approach or implementations that can perform mind reading.

INFO with packages is a "Do What I Say" method. The arguments against it 
are weaker, but mostly resolve to this: Why would you send INFO, a 
message with no inherent semantics, with a package header that gives the 
intended meaning? The method itself is ostensibly what gives the message 
its intended meaning. These cases all cry out for a new method, and the 
IANA charges the same amount to register a new SIP method as they would 
to register a new INFO package. ;)

/a


_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Mon Sep 24 12:43:40 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1IZqxD-0003iz-PW; Mon, 24 Sep 2007 12:38:39 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1IZqxC-0003ik-Ky
	for sip-confirm+ok@megatron.ietf.org; Mon, 24 Sep 2007 12:38:38 -0400
Received: from [10.90.34.44] (helo=chiedprmail1.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1IZqxC-0003ib-6z
	for sip@ietf.org; Mon, 24 Sep 2007 12:38:38 -0400
Received: from rtp-iport-2.cisco.com ([64.102.122.149])
	by chiedprmail1.ietf.org with esmtp (Exim 4.43) id 1IZqxB-0007Mz-K1
	for sip@ietf.org; Mon, 24 Sep 2007 12:38:37 -0400
X-IronPort-AV: E=Sophos;i="4.20,292,1186372800"; d="scan'208";a="132840982"
Received: from rtp-dkim-2.cisco.com ([64.102.121.159])
	by rtp-iport-2.cisco.com with ESMTP; 24 Sep 2007 12:38:36 -0400
Received: from rtp-core-2.cisco.com (rtp-core-2.cisco.com [64.102.124.13])
	by rtp-dkim-2.cisco.com (8.12.11/8.12.11) with ESMTP id l8OGcaJY028108; 
	Mon, 24 Sep 2007 12:38:36 -0400
Received: from xbh-rtp-211.amer.cisco.com (xbh-rtp-211.cisco.com
	[64.102.31.102])
	by rtp-core-2.cisco.com (8.12.10/8.12.6) with ESMTP id l8OGc0ZE012384; 
	Mon, 24 Sep 2007 16:38:28 GMT
Received: from xfe-rtp-201.amer.cisco.com ([64.102.31.38]) by
	xbh-rtp-211.amer.cisco.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Mon, 24 Sep 2007 12:38:24 -0400
Received: from [161.44.174.118] ([161.44.174.118]) by
	xfe-rtp-201.amer.cisco.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Mon, 24 Sep 2007 12:38:23 -0400
Message-ID: <46F7E7FF.9050100@cisco.com>
Date: Mon, 24 Sep 2007 12:38:23 -0400
From: Paul Kyzivat <pkyzivat@cisco.com>
User-Agent: Thunderbird 2.0.0.6 (Windows/20070728)
MIME-Version: 1.0
To: Adam Roach <adam@nostrum.com>
Subject: Re: AW: AW: [Sip] Extension of conference procedures
References: <C302EB13.A82F%eburger@bea.com>	<CCA850DCD3FBE2479D5076C5C1873222029F50B6@S4DE9JSAAHW.ost.t-com.de>	<5D1A7985295922448D5550C94DE2918001636EF9@DEEXC1U01.de.lucent.com>	<CC302A9F-2D8A-4EE6-837F-7347971362AD@softarmor.com>
	<46F7D253.7000405@nostrum.com>
In-Reply-To: <46F7D253.7000405@nostrum.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-OriginalArrivalTime: 24 Sep 2007 16:38:23.0861 (UTC)
	FILETIME=[530D4A50:01C7FEC9]
DKIM-Signature: v=0.5; a=rsa-sha256; q=dns/txt; l=2591; t=1190651916;
	x=1191515916; c=relaxed/simple; s=rtpdkim2001;
	h=Content-Type:From:Subject:Content-Transfer-Encoding:MIME-Version;
	d=cisco.com; i=pkyzivat@cisco.com;
	z=From:=20Paul=20Kyzivat=20<pkyzivat@cisco.com>
	|Subject:=20Re=3A=20AW=3A=20AW=3A=20[Sip]=20Extension=20of=20conference=2
	0procedures |Sender:=20
	|To:=20Adam=20Roach=20<adam@nostrum.com>;
	bh=1hmv6kgyaXZFcK3QNq3ne0zAEgns3bN/7pQJCYw76ug=;
	b=cgRDV6YAEROsBGxWnur+Ub2qUPj3mUpTgO3BFER0QJtcOjbAQo0Crw/7T0kH3dROenIPIX6o
	ZtzysNJ7zk6Bwvckh0CmmFONiARsZZuPcoeCZP5ZrI24XTNkBFzKxnC2;
Authentication-Results: rtp-dkim-2; header.From=pkyzivat@cisco.com; dkim=pass (
	sig from cisco.com/rtpdkim2001 verified; ); 
X-Spam-Score: 0.0 (/)
X-Scan-Signature: 082a9cbf4d599f360ac7f815372a6a15
Cc: sip@ietf.org, "DRAGE, Keith \(\(Keith\)\)" <drage@alcatel-lucent.com>,
	Dean Willis <dean.willis@softarmor.com>
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

Adam,

I agree with you that the interpretation as sip headers is clear.

What is not so clear is which sip headers should be honored in which 
contexts of use for the URL. Most of the uses (with the exception of 
H-I) will not work unless the recipient actually incorporates certain of 
the headers into the resulting request. But the UA is given a lot of 
discretion regarding inclusion of headers and is warned that some are 
dangerous. AFAIK there is no requirement that certain headers be 
honored, in general or in conjunction with support of particular options.

	Thanks,
	Paul

Adam Roach wrote:
> On 9/5/07 7:19 PM, Dean Willis wrote:
>>
>> On Sep 5, 2007, at 6:10 AM, DRAGE, Keith ((Keith)) wrote:
>>
>>> So this is a convenient way to bring us back to the other half of the 
>>> issue which we do not seem to have discussed yet. When the syntax was 
>>> defined that allowed ?headers:
>>>
>>>       Headers: Header fields to be included in a request constructed
>>>          from the URI.
>>>
>>>          Headers fields in the SIP request can be specified with the "?"
>>>          mechanism within a URI.  The header names and values are
>>>          encoded in ampersand separated hname = hvalue pairs.  The
>>>          special hname "body" indicates that the associated hvalue is
>>>          the message-body of the SIP request.
>>>
>>> What usage did the SIP WG envisage for this, and thus what semantics 
>>> did they define for that usage.
>>>
>>> Is it appropriate to assign new semantics to such usage?
>>>
>>
>> I believe we were confused about the differences between headers and 
>> URI parameters and didn't quite get the "?" notation used with HTTP 
>> cgi-bin.
> 
> I'm not certain there was any actual confusion here when we settled on 
> that syntax originally. RFC 2396 (which was current at the time, 
> although it has been superseded by RFC 3986) describes this portion of a 
> URI as nothing more than: "The query component is a string of 
> information to be interpreted by the resource." I think SIP's use is 
> consistent with that.
> 
> Additionally, RFC 2368 gives clear and strong precedent for precisely 
> this interpretation of the query component of URIs.
> 
> /a
> 
> 
> _______________________________________________
> Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
> 


_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Mon Sep 24 13:09:35 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1IZrO7-0003sx-Fj; Mon, 24 Sep 2007 13:06:27 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1IZrO5-0003sg-Hh
	for sip-confirm+ok@megatron.ietf.org; Mon, 24 Sep 2007 13:06:25 -0400
Received: from [10.91.34.44] (helo=ietf-mx.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1IZrO5-0003rK-7Y
	for sip@ietf.org; Mon, 24 Sep 2007 13:06:25 -0400
Received: from nylon.softarmor.com ([66.135.38.164])
	by ietf-mx.ietf.org with esmtp (Exim 4.43) id 1IZrNz-0006Aj-S8
	for sip@ietf.org; Mon, 24 Sep 2007 13:06:25 -0400
Received: from [206.176.144.210] (206-176-144-210.waymark.net
	[206.176.144.210]) (authenticated bits=0)
	by nylon.softarmor.com (8.13.8/8.13.8/Debian-3) with ESMTP id
	l8OH5Nb8010414
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NOT);
	Mon, 24 Sep 2007 12:05:25 -0500
Message-ID: <46F7F011.1030607@softarmor.com>
Date: Mon, 24 Sep 2007 12:12:49 -0500
From: Dean Willis <dean.willis@softarmor.com>
User-Agent: Icedove 1.5.0.12 (X11/20070607)
MIME-Version: 1.0
To: Janet P Gunn <jgunn6@csc.com>
Subject: Re: [Sip] Progression of draft-polk-sip-rph-in-responses-00
References: <OF32839DD9.407394E9-ON8525735D.0074F6CA-8525735D.007785D2@csc.com>
In-Reply-To: <OF32839DD9.407394E9-ON8525735D.0074F6CA-8525735D.007785D2@csc.com>
X-Enigmail-Version: 0.94.2.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
X-Spam-Score: 0.0 (/)
X-Scan-Signature: c1c65599517f9ac32519d043c37c5336
Cc: sip@ietf.org, "DRAGE, Keith \(Keith\)" <drage@alcatel-lucent.com>
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

Janet P Gunn wrote:
> Jeroen van Bemmel <jbemmel@zonnet.nl> wrote on 09/21/2007 03:19:09 PM:
> 
>> Tim, Brian,
>>
>> First of all a question to clarify the requirements further: is it 
>> possible/valid for the request to have no specific priority while its 
>> response does, or should the RPH headers in a response always be the 
>> same or a subset of those in the request (i.e. copied)? I assume the 
> latter
> No, not a valid assumption. 
> 
> In order to support legacy applications, priority markings (e.g. RPH) may 
> be set based on the "dialed number"- e.g., by parsing the Request URI.
> 
> In some architectures (e.g. IMS) there may be RPH-capable SIP actors (Type 
> A) which do not parse the Request URI looking for the key strings.  Such a 
> SIP actor would send a SIP Invite WITHOUT RPH.  However, a subsequent 
> RPH-capable SIP actor (which DOES parse the Request URI looking for the 
> key strings) (Type B) would set RPH, both in Invites sent forward, and in 
> responses sent back.
> 
> So the "Type A" SIP actor could send out an Invite without RPH, but get 
> back a response WITH RPH.
> 
> I have oversimplified, but the point is that it is not a valid assumption.
>

Ok, so what keeps me as a Joe End User from putting a "higher priority
than the president" marking on every response I send? You can't
challenge a response or send me an error code if you don't like my
priority. Does every response require authentication of priority level?

Do we also have a new requirement for a node to "learn" the priority
level of a dialog from a response, and then include that priority level
in future requests on that dialog?

It seems like this mechanism could be used to "jack up" the priority
level of a dialog:

1) Alice sends a low priority request to Bob.
2) Bob replies with a high-priority marking in the response.
3) Alice marks all future requests and responses in this dialog high
priority.

--
Dean


_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Mon Sep 24 14:25:02 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1IZsY5-0005ql-Ty; Mon, 24 Sep 2007 14:20:49 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1IZsY5-0005qc-1I
	for sip-confirm+ok@megatron.ietf.org; Mon, 24 Sep 2007 14:20:49 -0400
Received: from [10.90.34.44] (helo=chiedprmail1.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1IZsY4-0005X0-JE
	for sip@ietf.org; Mon, 24 Sep 2007 14:20:48 -0400
Received: from mail145.messagelabs.com ([216.82.245.115])
	by chiedprmail1.ietf.org with smtp (Exim 4.43) id 1IZsXm-0002LG-MZ
	for sip@ietf.org; Mon, 24 Sep 2007 14:20:31 -0400
X-VirusChecked: Checked
X-Env-Sender: jgunn6@csc.com
X-Msg-Ref: server-6.tower-145.messagelabs.com!1190658025!6661979!1
X-StarScan-Version: 5.5.12.14.2; banners=-,-,-
X-Originating-IP: [20.137.52.151]
Received: (qmail 18905 invoked from network); 24 Sep 2007 18:20:27 -0000
Received: from amer-mta07.csc.com (HELO amer-mta07.csc.com) (20.137.52.151)
	by server-6.tower-145.messagelabs.com with AES256-SHA encrypted SMTP;
	24 Sep 2007 18:20:27 -0000
Received: from amer-gw09.amer.csc.com (amer-gw09.amer.csc.com [20.6.39.245])
	by amer-mta07.csc.com (Switch-3.1.6/Switch-3.1.7) with ESMTP id
	l8OIKjs1026194; Mon, 24 Sep 2007 14:20:46 -0400 (EDT)
In-Reply-To: <46F7F011.1030607@softarmor.com>
To: Dean Willis <dean.willis@softarmor.com>
Subject: Re: [Sip] Progression of draft-polk-sip-rph-in-responses-00
MIME-Version: 1.0
X-Mailer: Lotus Notes 652HF83 November 04, 2004
From: Janet P Gunn <jgunn6@csc.com>
Message-ID: <OF94E18986.2377A62E-ON85257360.006463C8-85257360.0064BB69@csc.com>
Date: Mon, 24 Sep 2007 14:20:15 -0400
X-MIMETrack: Serialize by Router on AMER-GW09/SRV/CSC(Release 7.0.2FP1
	HF180|March 29, 2007) at 09/24/2007 02:18:59 PM,
	Serialize complete at 09/24/2007 02:18:59 PM
X-Spam-Score: 0.0 (/)
X-Scan-Signature: 2e8fc473f5174be667965460bd5288ba
Cc: sip@ietf.org, "DRAGE, Keith \(Keith\)" <drage@alcatel-lucent.com>
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: multipart/mixed; boundary="===============1856453112=="
Errors-To: sip-bounces@ietf.org

This is a multipart message in MIME format.
--===============1856453112==
Content-Type: multipart/alternative;
	boundary="=_alternative 0064BB2285257360_="

This is a multipart message in MIME format.
--=_alternative 0064BB2285257360_=
Content-Type: text/plain; charset="US-ASCII"

Those are valid concerns.  I said that I was oversimplifying, and some of 
the oversimplification involves mechanisms to addresses some of those 
concerns.

But we DO need to allow the situation where the first "hop" of a 
"priority" call does not have RPH, but RPH is added for later hops.

Janet


Dean Willis <dean.willis@softarmor.com> wrote on 09/24/2007 01:12:49 PM:

> Janet P Gunn wrote:
> > Jeroen van Bemmel <jbemmel@zonnet.nl> wrote on 09/21/2007 03:19:09 PM:
> > 
> >> Tim, Brian,
> >>
> >> First of all a question to clarify the requirements further: is it 
> >> possible/valid for the request to have no specific priority while its 

> >> response does, or should the RPH headers in a response always be the 
> >> same or a subset of those in the request (i.e. copied)? I assume the 
> > latter
> > No, not a valid assumption. 
> > 
> > In order to support legacy applications, priority markings (e.g. RPH) 
may 
> > be set based on the "dialed number"- e.g., by parsing the Request URI.
> > 
> > In some architectures (e.g. IMS) there may be RPH-capable SIP actors 
(Type 
> > A) which do not parse the Request URI looking for the key strings. 
Such a 
> > SIP actor would send a SIP Invite WITHOUT RPH.  However, a subsequent 
> > RPH-capable SIP actor (which DOES parse the Request URI looking for 
the 
> > key strings) (Type B) would set RPH, both in Invites sent forward, and 
in 
> > responses sent back.
> > 
> > So the "Type A" SIP actor could send out an Invite without RPH, but 
get 
> > back a response WITH RPH.
> > 
> > I have oversimplified, but the point is that it is not a valid 
assumption.
> >
> 
> Ok, so what keeps me as a Joe End User from putting a "higher priority
> than the president" marking on every response I send? You can't
> challenge a response or send me an error code if you don't like my
> priority. Does every response require authentication of priority level?
> 
> Do we also have a new requirement for a node to "learn" the priority
> level of a dialog from a response, and then include that priority level
> in future requests on that dialog?
> 
> It seems like this mechanism could be used to "jack up" the priority
> level of a dialog:
> 
> 1) Alice sends a low priority request to Bob.
> 2) Bob replies with a high-priority marking in the response.
> 3) Alice marks all future requests and responses in this dialog high
> priority.
> 
> --
> Dean

--=_alternative 0064BB2285257360_=
Content-Type: text/html; charset="US-ASCII"


<br><font size=2 face="sans-serif"><br>
<br>
Those are valid concerns. &nbsp;I said that I was oversimplifying, and
some of the oversimplification involves mechanisms to addresses some of
those concerns.</font>
<br>
<br><font size=2 face="sans-serif">But we DO need to allow the situation
where the first &quot;hop&quot; of a &quot;priority&quot; call does not
have RPH, but RPH is added for later hops.</font>
<br>
<br><font size=2 face="sans-serif">Janet<br>
</font>
<br>
<br><font size=2><tt>Dean Willis &lt;dean.willis@softarmor.com&gt; wrote
on 09/24/2007 01:12:49 PM:<br>
<br>
&gt; Janet P Gunn wrote:<br>
&gt; &gt; Jeroen van Bemmel &lt;jbemmel@zonnet.nl&gt; wrote on 09/21/2007
03:19:09 PM:<br>
&gt; &gt; <br>
&gt; &gt;&gt; Tim, Brian,<br>
&gt; &gt;&gt;<br>
&gt; &gt;&gt; First of all a question to clarify the requirements further:
is it <br>
&gt; &gt;&gt; possible/valid for the request to have no specific priority
while its <br>
&gt; &gt;&gt; response does, or should the RPH headers in a response always
be the <br>
&gt; &gt;&gt; same or a subset of those in the request (i.e. copied)? I
assume the <br>
&gt; &gt; latter<br>
&gt; &gt; No, not a valid assumption. <br>
&gt; &gt; <br>
&gt; &gt; In order to support legacy applications, priority markings (e.g.
RPH) may <br>
&gt; &gt; be set based on the &quot;dialed number&quot;- e.g., by parsing
the Request URI.<br>
&gt; &gt; <br>
&gt; &gt; In some architectures (e.g. IMS) there may be RPH-capable SIP
actors (Type <br>
&gt; &gt; A) which do not parse the Request URI looking for the key strings.
&nbsp;Such a <br>
&gt; &gt; SIP actor would send a SIP Invite WITHOUT RPH. &nbsp;However,
a subsequent <br>
&gt; &gt; RPH-capable SIP actor (which DOES parse the Request URI looking
for the <br>
&gt; &gt; key strings) (Type B) would set RPH, both in Invites sent forward,
and in <br>
&gt; &gt; responses sent back.<br>
&gt; &gt; <br>
&gt; &gt; So the &quot;Type A&quot; SIP actor could send out an Invite
without RPH, but get <br>
&gt; &gt; back a response WITH RPH.<br>
&gt; &gt; <br>
&gt; &gt; I have oversimplified, but the point is that it is not a valid
assumption.<br>
&gt; &gt;<br>
&gt; <br>
&gt; Ok, so what keeps me as a Joe End User from putting a &quot;higher
priority<br>
&gt; than the president&quot; marking on every response I send? You can't<br>
&gt; challenge a response or send me an error code if you don't like my<br>
&gt; priority. Does every response require authentication of priority level?<br>
&gt; <br>
&gt; Do we also have a new requirement for a node to &quot;learn&quot;
the priority<br>
&gt; level of a dialog from a response, and then include that priority
level<br>
&gt; in future requests on that dialog?<br>
&gt; <br>
&gt; It seems like this mechanism could be used to &quot;jack up&quot;
the priority<br>
&gt; level of a dialog:<br>
&gt; <br>
&gt; 1) Alice sends a low priority request to Bob.<br>
&gt; 2) Bob replies with a high-priority marking in the response.<br>
&gt; 3) Alice marks all future requests and responses in this dialog high<br>
&gt; priority.<br>
&gt; <br>
&gt; --<br>
&gt; Dean<br>
</tt></font>
--=_alternative 0064BB2285257360_=--



--===============1856453112==
Content-Type: text/plain; charset="us-ascii"
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip
--===============1856453112==--





From sip-bounces@ietf.org Mon Sep 24 17:28:36 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1IZvPe-00066F-IX; Mon, 24 Sep 2007 17:24:18 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1IZvPd-00064m-4Z
	for sip-confirm+ok@megatron.ietf.org; Mon, 24 Sep 2007 17:24:17 -0400
Received: from [10.91.34.44] (helo=ietf-mx.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1IZvPc-0005yv-RC
	for sip@ietf.org; Mon, 24 Sep 2007 17:24:16 -0400
Received: from exprod6og51.obsmtp.com ([64.18.1.183])
	by ietf-mx.ietf.org with esmtp (Exim 4.43) id 1IZvPS-0006JT-Ff
	for sip@ietf.org; Mon, 24 Sep 2007 17:24:12 -0400
Received: from source ([192.150.11.134]) by exprod6ob51.postini.com
	([64.18.5.12]) with SMTP; Mon, 24 Sep 2007 14:23:26 PDT
Received: from inner-relay-3.eur.adobe.com (inner-relay-3.adobe.com
	[192.150.20.198] (may be forged))
	by outbound-smtp-1.corp.adobe.com (8.12.10/8.12.10) with ESMTP id
	l8OLLgIQ008350; Mon, 24 Sep 2007 14:21:42 -0700 (PDT)
Received: from apacmail.pac.adobe.com (apacmail.pac.adobe.com [130.248.36.99])
	by inner-relay-3.eur.adobe.com (8.12.10/8.12.9) with ESMTP id
	l8OLNIFb022341; Mon, 24 Sep 2007 14:23:24 -0700 (PDT)
Received: from namail5.corp.adobe.com ([10.8.192.88]) by
	apacmail.pac.adobe.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Tue, 25 Sep 2007 06:23:18 +0900
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: [Sip] Progression of draft-polk-sip-rph-in-responses-00
Date: Mon, 24 Sep 2007 14:23:11 -0700
Message-ID: <24CCCC428EFEA2469BF046DB3C7A8D22E5A677@namail5.corp.adobe.com>
In-Reply-To: <7F047EBCFA8C2E499C2A2EF234ABFB3EDB65E2@ASHEVS012.mcilink.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] Progression of draft-polk-sip-rph-in-responses-00
Thread-Index: Acf7t/VzCNcjo2g3RAukPHJiav01FgA31cagAJSfbSA=
References: <5D1A7985295922448D5550C94DE29180016F63C7@DEEXC1U01.de.lucent.com>
	<7F047EBCFA8C2E499C2A2EF234ABFB3EDB65E2@ASHEVS012.mcilink.com>
From: "Henry Sinnreich" <hsinnrei@adobe.com>
To: "Dwight, Timothy M (Tim)" <timothy.dwight@verizon.com>,
	"DRAGE, Keith (Keith)" <drage@alcatel-lucent.com>, <sip@ietf.org>
X-OriginalArrivalTime: 24 Sep 2007 21:23:18.0211 (UTC)
	FILETIME=[20141930:01C7FEF1]
X-Spam-Score: -4.0 (----)
X-Scan-Signature: 03169bfe4792634a390035a01a6c6d2f
Cc: 
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

The resource priority header is only useful for getting priority in
resource constrained gateways to the PSTN (not enough TDM lines
available in a crisis). The solution to this is really to put emergency
centers on the Internet with adequate broadband and avoid the PSTN
altogether.

Priority on the Internet at large gets us into the issue of Internet
Neutrality and yours truly believes priorities are evil.=20
We can discuss offline why priorities in the Internet are evil.

In short: The Co-Chair is right :-)

Henry

-----Original Message-----
From: Dwight, Timothy M (Tim) [mailto:timothy.dwight@verizon.com]=20
Sent: Saturday, September 22, 2007 12:02 AM
To: DRAGE, Keith (Keith); sip@ietf.org
Subject: RE: [Sip] Progression of draft-polk-sip-rph-in-responses-00

OK, you've got it wrong.  ("be careful what you ask for, because you may
get it...").

The capability supported by the Resource Priority Header is not meant,
or anticipated, to be "good for" the network.  Its intent is to support
a higher-then-normal level of certainty that service will be
expeditiously provided, to a "special" community of users.  In this case
"service delayed is service denied", i.e., if it takes an hour for the
fire department to get through to the police department your house is
probably toast.  So it's not good enough that these calls eventually go
through,

The issue to debate is whether the inclusion of RPH in response
messages, serves that objective.  If it does, and in so doing it makes
certain network elements work harder or congest worse or in general
results in degradation of service to servers not in the "special"
community, so be it.

Other comments below.

Best regards,

tim

> -----Original Message-----
> From: DRAGE, Keith (Keith) [mailto:drage@alcatel-lucent.com]=20
> Sent: Thursday, September 20, 2007 1:57 PM
> To: sip@ietf.org
> Subject: [Sip] Progression of draft-polk-sip-rph-in-responses-00
>=20
> (As WG chair)
>=20
> Dean attempted to get this one started a while back and it=20
> fell on stony
> ground.
>=20
> We have now set charter milestones for all the documents we agreed to
> progress at the last IETF meeting except for the draft above.
>=20
> The reason for this absence is that after discussion with the=20
> AD, we are
> not convinced that doing this provides a significant benefit. Part of
> this may be clarified by revising the draft as an author draft but...
>=20
> The essence of the problem is that the application is to that of a
> transaction stateless proxy. Of the list of activities=20
> specified by RFC
> 4412:
>=20
>    1.  The request can be given elevated priority for access to PSTN
>        gateway resources, such as trunk circuits.
>=20
>    2.  The request can interrupt lower-priority requests at a user
>        terminal, such as an IP phone.
>=20
>    3.  The request can carry information from one multi-level priority
>        domain in the telephone network (e.g., using the facilities of
>        Q.735.3 [Q.735.3]) to another, without the SIP proxies
themselves
>        inspecting or modifying the header field.
>=20
>    4.  In SIP proxies and back-to-back user agents, requests of higher
>        priorities may displace existing signaling requests or bypass
>        PSTN gateway capacity limits in effect for lower priorities.
>=20
> The only reason for including a Resource-Priority header in a response
> for use in a transaction stateless proxy is item 4 above. This means
> that a response for (namespace x, priority 5) could be handled ahead
of
> a response for (namespace x, priority 4).
>=20
> The question is what is the impact of such handling on an overloaded
> system, where such priority handling could have a benefit (we assume
> that in a system that is not overloaded then responses can be pushed
> back pretty much as fast as they are received).

With respect, that is not the most relevant question.  If inclusion of
RPH in response messages serves the end of increasing the certainty that
priority requests expeditiously obtain service, it is in principle worth
doing.  Certainly it is prudent to ask what the side effects would be
(e.g., increased congestion), and in principle they might impact the
desirability of this enhancement; but the bar for them to do so needs to
be set very high.  If an airplane hits an office building, it is much,
much more important that the agencies tasked with providing emergency
services be able to communicate with one another, than it is for
everyone who knows anyone that lives in that area to be able to call
their friend.


> If a response processing
> gets delayed according to some queueing mechanism, then eventually
> timers related to the request at the entity before this proxy will
time
> out, and the request will be repeated. This increases the processing
> load on an overloaded system.=20

Of course.  But the relevant issue is again not the impact on the
overloaded system, it is the impact on the certainty that service will
be expeditiously provided to priority requests.


>=20
> So in terms of resource priority, is the appropriate model that
> responses should always be handled immediately and before the request
> queues are handled, or is there a justification for some other model.

Some variant of that model (prioritizing responses over requests) seems
likely to already in use.  The question on the table is whether it
should be augmented such that responses associated with priority calls
are prioritized higher than other sorts of responses.  If doing so
increases either the certainty or the speed with which service is
provided to priority calls, then it seems the enhancement is justified.


>=20
> Please respond and tell us we have got it wrong.
>=20
> Regards
>=20
> Keith
>=20
>=20
> _______________________________________________
> Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
>=20


_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Tue Sep 25 02:40:08 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1Ia3w5-0007ml-U5; Tue, 25 Sep 2007 02:30:21 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1Ia3w4-0007bM-5P
	for sip-confirm+ok@megatron.ietf.org; Tue, 25 Sep 2007 02:30:20 -0400
Received: from [10.91.34.44] (helo=ietf-mx.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1Ia3w3-0007Tz-Rm
	for sip@ietf.org; Tue, 25 Sep 2007 02:30:19 -0400
Received: from mailgate.siemenscomms.co.uk ([195.171.110.225]
	helo=bemg01.siemenscomms.co.uk)
	by ietf-mx.ietf.org with esmtp (Exim 4.43) id 1Ia3vv-0002CK-DZ
	for sip@ietf.org; Tue, 25 Sep 2007 02:30:17 -0400
Received: from GBNTHT12009MSX.gb002.siemens.net ([137.223.219.235])
	by siemenscomms.co.uk (PMDF V6.0-24 #40642)
	with ESMTP id <0JOW0080WVD5S0@siemenscomms.co.uk> for sip@ietf.org; Tue,
	25 Sep 2007 07:29:29 +0100 (BST)
Date: Tue, 25 Sep 2007 07:29:48 +0100
From: "Elwell, John" <john.elwell@siemens.com>
Subject: RE: [Sip] Progression of draft-polk-sip-rph-in-responses-00
In-reply-to: <OF94E18986.2377A62E-ON85257360.006463C8-85257360.0064BB69@csc.com>
To: Janet P Gunn <jgunn6@csc.com>, Dean Willis <dean.willis@softarmor.com>
Message-id: <0D5F89FAC29E2C41B98A6A762007F5D0324FCE@GBNTHT12009MSX.gb002.siemens.net>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft Exchange V6.5
Thread-Topic: [Sip] Progression of draft-polk-sip-rph-in-responses-00
Thread-Index: Acf+2L4m2Bw1nlhWRIuBMbacdgs5WgAZHBeA
Content-class: urn:content-classes:message
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
References: <46F7F011.1030607@softarmor.com>
	<OF94E18986.2377A62E-ON85257360.006463C8-85257360.0064BB69@csc.com>
X-Spam-Score: 0.0 (/)
X-Scan-Signature: a92270ba83d7ead10c5001bb42ec3221
Cc: sip@ietf.org, "DRAGE, Keith \(Keith\)" <drage@alcatel-lucent.com>
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: multipart/mixed; boundary="===============0571984115=="
Errors-To: sip-bounces@ietf.org

This is a multi-part message in MIME format.

--===============0571984115==
Content-type: multipart/alternative;
	boundary="Boundary_(ID_UUaI0vM7XwvIpaJkZmc1iw)"
Content-class: urn:content-classes:message

This is a multi-part message in MIME format.

--Boundary_(ID_UUaI0vM7XwvIpaJkZmc1iw)
Content-type: text/plain; charset=US-ASCII
Content-transfer-encoding: 7BIT

Janet,
 
If there really is a need for the callee to jack up the priority of a
dialog (I don't have a view on that), then a mechanism similar to
connected-identity should be used, i.e., a mid-dialog request in the
reverse direction, which can therefore be challenged and authenticated
in the normal manner.
 
John


________________________________

	From: Janet P Gunn [mailto:jgunn6@csc.com] 
	Sent: 24 September 2007 19:20
	To: Dean Willis
	Cc: sip@ietf.org; DRAGE, Keith (Keith)
	Subject: Re: [Sip] Progression of
draft-polk-sip-rph-in-responses-00
	
	

	
	
	Those are valid concerns.  I said that I was oversimplifying,
and some of the oversimplification involves mechanisms to addresses some
of those concerns. 
	
	But we DO need to allow the situation where the first "hop" of a
"priority" call does not have RPH, but RPH is added for later hops. 
	
	Janet
	
	
	Dean Willis <dean.willis@softarmor.com> wrote on 09/24/2007
01:12:49 PM:
	
	> Janet P Gunn wrote:
	> > Jeroen van Bemmel <jbemmel@zonnet.nl> wrote on 09/21/2007
03:19:09 PM:
	> > 
	> >> Tim, Brian,
	> >>
	> >> First of all a question to clarify the requirements
further: is it 
	> >> possible/valid for the request to have no specific priority
while its 
	> >> response does, or should the RPH headers in a response
always be the 
	> >> same or a subset of those in the request (i.e. copied)? I
assume the 
	> > latter
	> > No, not a valid assumption. 
	> > 
	> > In order to support legacy applications, priority markings
(e.g. RPH) may 
	> > be set based on the "dialed number"- e.g., by parsing the
Request URI.
	> > 
	> > In some architectures (e.g. IMS) there may be RPH-capable
SIP actors (Type 
	> > A) which do not parse the Request URI looking for the key
strings.  Such a 
	> > SIP actor would send a SIP Invite WITHOUT RPH.  However, a
subsequent 
	> > RPH-capable SIP actor (which DOES parse the Request URI
looking for the 
	> > key strings) (Type B) would set RPH, both in Invites sent
forward, and in 
	> > responses sent back.
	> > 
	> > So the "Type A" SIP actor could send out an Invite without
RPH, but get 
	> > back a response WITH RPH.
	> > 
	> > I have oversimplified, but the point is that it is not a
valid assumption.
	> >
	> 
	> Ok, so what keeps me as a Joe End User from putting a "higher
priority
	> than the president" marking on every response I send? You
can't
	> challenge a response or send me an error code if you don't
like my
	> priority. Does every response require authentication of
priority level?
	> 
	> Do we also have a new requirement for a node to "learn" the
priority
	> level of a dialog from a response, and then include that
priority level
	> in future requests on that dialog?
	> 
	> It seems like this mechanism could be used to "jack up" the
priority
	> level of a dialog:
	> 
	> 1) Alice sends a low priority request to Bob.
	> 2) Bob replies with a high-priority marking in the response.
	> 3) Alice marks all future requests and responses in this
dialog high
	> priority.
	> 
	> --
	> Dean
	


--Boundary_(ID_UUaI0vM7XwvIpaJkZmc1iw)
Content-type: text/html; charset=US-ASCII
Content-transfer-encoding: 7BIT

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML><HEAD>
<META http-equiv=Content-Type content="text/html; charset=us-ascii">
<META content="MSHTML 6.00.2900.3157" name=GENERATOR></HEAD>
<BODY>
<DIV dir=ltr align=left><SPAN class=221442706-25092007><FONT face=Arial 
color=#0000ff size=2>Janet,</FONT></SPAN></DIV>
<DIV dir=ltr align=left><SPAN class=221442706-25092007><FONT face=Arial 
color=#0000ff size=2></FONT></SPAN>&nbsp;</DIV>
<DIV dir=ltr align=left><SPAN class=221442706-25092007><FONT face=Arial 
color=#0000ff size=2>If there really is a need for the callee to jack up the 
priority of a dialog (I don't have a view on that), then a mechanism similar to 
connected-identity should be used, i.e., a mid-dialog request in the reverse 
direction, which can therefore be challenged and authenticated in the normal 
manner.</FONT></SPAN></DIV>
<DIV dir=ltr align=left><SPAN class=221442706-25092007><FONT face=Arial 
color=#0000ff size=2></FONT></SPAN>&nbsp;</DIV>
<DIV dir=ltr align=left><SPAN class=221442706-25092007><FONT face=Arial 
color=#0000ff size=2>John</FONT></SPAN></DIV><BR>
<BLOCKQUOTE 
style="PADDING-LEFT: 5px; MARGIN-LEFT: 5px; BORDER-LEFT: #0000ff 2px solid; MARGIN-RIGHT: 0px">
  <DIV class=OutlookMessageHeader lang=en-us dir=ltr align=left>
  <HR tabIndex=-1>
  <FONT face=Tahoma size=2><B>From:</B> Janet P Gunn [mailto:jgunn6@csc.com] 
  <BR><B>Sent:</B> 24 September 2007 19:20<BR><B>To:</B> Dean 
  Willis<BR><B>Cc:</B> sip@ietf.org; DRAGE, Keith (Keith)<BR><B>Subject:</B> Re: 
  [Sip] Progression of draft-polk-sip-rph-in-responses-00<BR></FONT><BR></DIV>
  <DIV></DIV><BR><FONT face=sans-serif size=2><BR><BR>Those are valid concerns. 
  &nbsp;I said that I was oversimplifying, and some of the oversimplification 
  involves mechanisms to addresses some of those concerns.</FONT> <BR><BR><FONT 
  face=sans-serif size=2>But we DO need to allow the situation where the first 
  "hop" of a "priority" call does not have RPH, but RPH is added for later 
  hops.</FONT> <BR><BR><FONT face=sans-serif 
  size=2>Janet<BR></FONT><BR><BR><FONT size=2><TT>Dean Willis 
  &lt;dean.willis@softarmor.com&gt; wrote on 09/24/2007 01:12:49 PM:<BR><BR>&gt; 
  Janet P Gunn wrote:<BR>&gt; &gt; Jeroen van Bemmel &lt;jbemmel@zonnet.nl&gt; 
  wrote on 09/21/2007 03:19:09 PM:<BR>&gt; &gt; <BR>&gt; &gt;&gt; Tim, 
  Brian,<BR>&gt; &gt;&gt;<BR>&gt; &gt;&gt; First of all a question to clarify 
  the requirements further: is it <BR>&gt; &gt;&gt; possible/valid for the 
  request to have no specific priority while its <BR>&gt; &gt;&gt; response 
  does, or should the RPH headers in a response always be the <BR>&gt; &gt;&gt; 
  same or a subset of those in the request (i.e. copied)? I assume the <BR>&gt; 
  &gt; latter<BR>&gt; &gt; No, not a valid assumption. <BR>&gt; &gt; <BR>&gt; 
  &gt; In order to support legacy applications, priority markings (e.g. RPH) may 
  <BR>&gt; &gt; be set based on the "dialed number"- e.g., by parsing the 
  Request URI.<BR>&gt; &gt; <BR>&gt; &gt; In some architectures (e.g. IMS) there 
  may be RPH-capable SIP actors (Type <BR>&gt; &gt; A) which do not parse the 
  Request URI looking for the key strings. &nbsp;Such a <BR>&gt; &gt; SIP actor 
  would send a SIP Invite WITHOUT RPH. &nbsp;However, a subsequent <BR>&gt; &gt; 
  RPH-capable SIP actor (which DOES parse the Request URI looking for the 
  <BR>&gt; &gt; key strings) (Type B) would set RPH, both in Invites sent 
  forward, and in <BR>&gt; &gt; responses sent back.<BR>&gt; &gt; <BR>&gt; &gt; 
  So the "Type A" SIP actor could send out an Invite without RPH, but get 
  <BR>&gt; &gt; back a response WITH RPH.<BR>&gt; &gt; <BR>&gt; &gt; I have 
  oversimplified, but the point is that it is not a valid assumption.<BR>&gt; 
  &gt;<BR>&gt; <BR>&gt; Ok, so what keeps me as a Joe End User from putting a 
  "higher priority<BR>&gt; than the president" marking on every response I send? 
  You can't<BR>&gt; challenge a response or send me an error code if you don't 
  like my<BR>&gt; priority. Does every response require authentication of 
  priority level?<BR>&gt; <BR>&gt; Do we also have a new requirement for a node 
  to "learn" the priority<BR>&gt; level of a dialog from a response, and then 
  include that priority level<BR>&gt; in future requests on that dialog?<BR>&gt; 
  <BR>&gt; It seems like this mechanism could be used to "jack up" the 
  priority<BR>&gt; level of a dialog:<BR>&gt; <BR>&gt; 1) Alice sends a low 
  priority request to Bob.<BR>&gt; 2) Bob replies with a high-priority marking 
  in the response.<BR>&gt; 3) Alice marks all future requests and responses in 
  this dialog high<BR>&gt; priority.<BR>&gt; <BR>&gt; --<BR>&gt; 
Dean<BR></BLOCKQUOTE></TT></FONT></BODY></HTML>

--Boundary_(ID_UUaI0vM7XwvIpaJkZmc1iw)--



--===============0571984115==
Content-Type: text/plain; charset="us-ascii"
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip
--===============0571984115==--





From sip-bounces@ietf.org Tue Sep 25 04:22:12 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1Ia5cw-0005w4-N9; Tue, 25 Sep 2007 04:18:42 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1Ia5cu-0005i1-Hr
	for sip-confirm+ok@megatron.ietf.org; Tue, 25 Sep 2007 04:18:40 -0400
Received: from [10.90.34.44] (helo=chiedprmail1.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1Ia5cu-0005L4-7z
	for sip@ietf.org; Tue, 25 Sep 2007 04:18:40 -0400
Received: from nylon.softarmor.com ([66.135.38.164])
	by chiedprmail1.ietf.org with esmtp (Exim 4.43) id 1Ia5cq-0007fT-A3
	for sip@ietf.org; Tue, 25 Sep 2007 04:18:36 -0400
Received: from [192.168.2.100] (cpe-76-185-142-113.tx.res.rr.com
	[76.185.142.113]) (authenticated bits=0)
	by nylon.softarmor.com (8.13.8/8.13.8/Debian-3) with ESMTP id
	l8P8IUoG005221
	(version=TLSv1/SSLv3 cipher=AES128-SHA bits=128 verify=NOT);
	Tue, 25 Sep 2007 03:18:32 -0500
In-Reply-To: <46C948F1.7000503@nokia.com>
References: <46C948F1.7000503@nokia.com>
Mime-Version: 1.0 (Apple Message framework v752.3)
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <156FE001-F0E1-4C11-9B60-42E0912C83F8@softarmor.com>
Content-Transfer-Encoding: 7bit
From: Dean Willis <dean.willis@softarmor.com>
Subject: Re: [Sip] draft-urpalainen-sip-xcap-diff-event-02
Date: Tue, 25 Sep 2007 03:18:16 -0500
To: IETF SIP List <sip@ietf.org>
X-Mailer: Apple Mail (2.752.3)
X-Spam-Score: 0.0 (/)
X-Scan-Signature: 8b30eb7682a596edff707698f4a80f7d
Cc: Ingemar Lindgren <ingemar.lindgren@ericsson.com>
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org


On Aug 20, 2007, at 2:55 AM, Jari Urpalainen wrote:

> Hi all!
>
> I've updated <http://www.ietf.org/internet-drafts/draft-urpalainen- 
> sip-xcap-diff-event-02.txt>. Element & attribute subscriptions were  
> moved to i-d: <http://www.ietf.org/internet-drafts/draft-ietf- 
> simple-xcap-diff-06.txt>. Resource selections are done by a flat  
> URI list with the XCAP resource list format instead of the "path"  
> header parameter, and some text nits have been done. The somewhat  
> controversial initial sync problem still exists when patches are  
> aggregated. It is however, proposed that we live with that now as  
> it is a corner case which still can be handled with the proposed  
> approach,
> any comments ?
> br, Jari


C'mon kids, OMA is quite reasonably busting my chops because the lack  
of an xcap-diff-event is mangling their schedule for XDM, and we're a  
bit late on our July milestone for WGLC here. Let's pick up the pace,  
ok?

I'd like to ask the OMA to double-check that they are OK with the  
current draft.

Anybody else got anything to say about this draft? Can we live with  
the initial sync issue as documented? I think I'm okay with it, but  
I've been reasonably happy for the last couple of revs, so it's other  
people that we need to hear from.

If we're all happy, I'd like to get this renamed as a WG draft and on  
the working-group last-call schedule ASAP.

--
Dean




_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Tue Sep 25 07:18:10 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1Ia8K0-0003RZ-RM; Tue, 25 Sep 2007 07:11:20 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1Ia8Jz-0003LL-KF
	for sip-confirm+ok@megatron.ietf.org; Tue, 25 Sep 2007 07:11:19 -0400
Received: from [10.91.34.44] (helo=ietf-mx.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1Ia8Jz-0003JU-9K
	for sip@ietf.org; Tue, 25 Sep 2007 07:11:19 -0400
Received: from mailgw4.ericsson.se ([193.180.251.62])
	by ietf-mx.ietf.org with esmtp (Exim 4.43) id 1Ia8Js-00021j-9p
	for sip@ietf.org; Tue, 25 Sep 2007 07:11:19 -0400
Received: from mailgw4.ericsson.se (unknown [127.0.0.1])
	by mailgw4.ericsson.se (Symantec Mail Security) with ESMTP id
	7C413216C8; Tue, 25 Sep 2007 13:10:39 +0200 (CEST)
X-AuditID: c1b4fb3e-b0034bb0000007e1-ba-46f8ecaf7bc7
Received: from esealmw126.eemea.ericsson.se (unknown [153.88.254.123])
	by mailgw4.ericsson.se (Symantec Mail Security) with ESMTP id
	623E621650; Tue, 25 Sep 2007 13:10:39 +0200 (CEST)
Received: from esealmw113.eemea.ericsson.se ([153.88.200.4]) by
	esealmw126.eemea.ericsson.se with Microsoft SMTPSVC(6.0.3790.1830); 
	Tue, 25 Sep 2007 13:10:39 +0200
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: RE: [Sip] INFO
Date: Tue, 25 Sep 2007 13:10:38 +0200
Message-ID: <CA9998CD4A020D418654FCDEF4E707DF02298677@esealmw113.eemea.ericsson.se>
In-Reply-To: <6FC4416DDE56C44DA0AEE67BC7CA437116DFF008@zrc2hxm2.corp.nortel.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] INFO
Thread-Index: AcfopsS6ijL/eVSeR7OkrFxhvjEZ1wCqsuc+AgRJN7AAEj1plgAJzfOgAfv+sL8ADxvDAADY9Aig
References: <6FC4416DDE56C44DA0AEE67BC7CA437116A57D59@zrc2hxm2.corp.nortel.com><C3184CEC.B881%eburger@bea.com>
	<6FC4416DDE56C44DA0AEE67BC7CA437116DFF008@zrc2hxm2.corp.nortel.com>
From: "Christer Holmberg" <christer.holmberg@ericsson.com>
To: "Brian Stucker" <bstucker@nortel.com>,
	"Eric Burger" <eburger@bea.com>
X-OriginalArrivalTime: 25 Sep 2007 11:10:39.0212 (UTC)
	FILETIME=[B46BBAC0:01C7FF64]
X-Brightmail-Tracker: AAAAAA==
X-Spam-Score: -1.0 (-)
X-Scan-Signature: 7fa173a723009a6ca8ce575a65a5d813
Cc: sip@ietf.org
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org


Hi,=20

>>1. INFO for keep alive? That=B9s a new one. Everyone I know uses=20
>>OPTIONS. Oh well. Maybe we should resurrect the PING method.
>=20
>Well, you don't know Jack then. Jack uses INFO. :P
>=20
>Seriously, there are people out there using it this way. No=20
>negotiation is required. I'm not defending it, I'm just=20
>letting you know that there are a number boxes out there=20
>hammering away with INFO requests to see if a dialog is still=20
>active. Ask around and I'm sure you'll find people who have=20
>at least seen this done even if they don't generate the=20
>requests themselves.
>=20
>Honestly, I think we should all be using RFC-4028 and not=20
>OPTIONS or INFO for this purpose. If you want to put that in=20
>your draft, I'll happily support that.

I am not defending the usage of INFO for this either, but I see no =
reason why we should forbid things which are absolutely harmless. Let's =
focus on real issues instead.

=20
>>2. INVITE discussion is a non-sequitur.  INVITE fully specifies a =
negotiation framework.  INVITE without SDP is an invitation=20
>>for you to start the negotiation.
>=20
>Ok, so I send you an OPTIONS or an INVITE first to see what=20
>content-types/mechanisms you might support for DTMF=20
>transport. You tell me what you support, and then I use that=20
>mechanism (might be INFO digits). What's the difference? If I=20
>send you something you don't like or understand you can=20
>reject it. Sounds like a negotiation framework already exists.
>=20
>>=20
>>3. The semantics of the media are totally orthogonal to the INVITE =
negotiation.  C.f. the LONG discussion on P-Asserted-Service.
>>=20
>>4. The semantics of an INFO body is critical.  The stack needs to know =
how to process the body or where to pass the message to. =20
>>Right now, there is no mechanism for doing that. Content-type does not =
work.
>=20
>So where do you think the stack sends SDP content types?=20
>You're making the claim here that the content-type can't be=20
>used to determine the semantics, or that the stack can't=20
>figure out how to handle it and must just simply choke and=20
>die because it was conveyed in an INFO instead of an INVITE.=20
>I'm probing to find the justification for that assertion.

I agree.

Regarding the question how to know where to pass the message internally. =
I think that is an implementation issue, and you have to deal with that =
also if using other mechanisms.

>>5. "Just write it down": Agreed, and there has already been a =
framework for doing INFO negotiation (Dean's document).  I=20
>>was about to go there, until I realized that it would be identical to =
SUB/NOT.
>>=20
>>6. Rough work group consensus was NOT to create an INFO negotiation =
mechanism.  If you can convince the chairs otherwise, I'd=20
>>be happy to submit a negotiation mechanism.
>=20
>I don't remember it going down quite that way and I was at=20
>the mic expressing support. Perhaps I misunderstood the=20
>question that prompted the vote, but I interpreted it as=20
>meaning we didn't think one was NECESSARY. Big difference in=20
>my mind. Acknowledge the uses as they exist today, encourage=20
>people to look elsewhere for the future. I thought that was=20
>what we said at the last meeting. You're arguing that INFO w/=20
>DTMF is broken because there's no negotiation mechanism.=20
>Sending DTMF with a given content-type and expecting the=20
>other side to reject that content type if it does not=20
>understand it is a basic tenet of SIP. You can clearly tell=20
>if the other side understands or not unless it is not paying=20
>attention to what it's being sent.

My understanding of what was decided at the mic was that we were going =
to continue the discussions. Eric's draft was going to be used as base =
for the work, but that does not mean we agreed to everything which is =
said in the draft.

>>7. The argument that we have to extend INFO to do negotiation because=20
>>we need to protect the existing INFO-based DTMF implementations is=20
>>totally bogus.  If we create a negotiation mechanism, those existing=20
>>implementations have to be fixed.
>>If they have to be fixed, any reason not to fix them with something=20
>>that already works and won't suck down work group and RFC Editor time?
>=20
>I'm not asking to fix anything. Honestly, I think the vast=20
>majority of implementations are moving on to 2833/4733 to=20
>convey DTMF digits and to a great extent that makes the=20
>discussion somewhat moot in my mind.

We seem to be concentrating on DTMF, but I think we should be more =
generic.

The question is whether we should allow INFO as a mechanism (limited, =
maybe) to transport information. The answer seems to be "No, you can use =
subscription events.". But, there are reasons why people don't want to =
use that.

Regards,

Christer




_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Tue Sep 25 08:58:19 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1Ia9vd-0008Lb-O1; Tue, 25 Sep 2007 08:54:17 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1Ia9vc-0008LT-Or
	for sip-confirm+ok@megatron.ietf.org; Tue, 25 Sep 2007 08:54:16 -0400
Received: from [10.90.34.44] (helo=chiedprmail1.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1Ia9vc-0008KH-D9
	for sip@ietf.org; Tue, 25 Sep 2007 08:54:16 -0400
Received: from ihemail1.lucent.com ([135.245.0.33])
	by chiedprmail1.ietf.org with esmtp (Exim 4.43) id 1Ia9vU-00073u-AS
	for sip@ietf.org; Tue, 25 Sep 2007 08:54:09 -0400
Received: from ilexp01.ndc.lucent.com (h135-3-39-1.lucent.com [135.3.39.1])
	by ihemail1.lucent.com (8.13.8/IER-o) with ESMTP id l8PCs2VD022246;
	Tue, 25 Sep 2007 07:54:02 -0500 (CDT)
Received: from DEEXP02.DE.lucent.com ([135.248.187.66]) by
	ilexp01.ndc.lucent.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Tue, 25 Sep 2007 07:54:01 -0500
Received: from DEEXC1U01.de.lucent.com ([135.248.187.26]) by
	DEEXP02.DE.lucent.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Tue, 25 Sep 2007 14:54:00 +0200
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: [Sip] Progression of draft-polk-sip-rph-in-responses-00
Date: Tue, 25 Sep 2007 14:53:58 +0200
Message-ID: <5D1A7985295922448D5550C94DE291800172F772@DEEXC1U01.de.lucent.com>
In-Reply-To: <0D5F89FAC29E2C41B98A6A762007F5D0324FCE@GBNTHT12009MSX.gb002.siemens.net>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] Progression of draft-polk-sip-rph-in-responses-00
Thread-Index: Acf+2L4m2Bw1nlhWRIuBMbacdgs5WgAZHBeAAAuK8cA=
References: <46F7F011.1030607@softarmor.com><OF94E18986.2377A62E-ON85257360.006463C8-85257360.0064BB69@csc.com>
	<0D5F89FAC29E2C41B98A6A762007F5D0324FCE@GBNTHT12009MSX.gb002.siemens.net>
From: "DRAGE, Keith \(Keith\)" <drage@alcatel-lucent.com>
To: "Janet P Gunn" <jgunn6@csc.com>, "Dean Willis" <dean.willis@softarmor.com>
X-OriginalArrivalTime: 25 Sep 2007 12:54:00.0460 (UTC)
	FILETIME=[24A714C0:01C7FF73]
X-Scanned-By: MIMEDefang 2.57 on 135.245.2.33
X-Spam-Score: 0.0 (/)
X-Scan-Signature: f0b5a4216bfa030ed8a6f68d1833f8ae
Cc: sip@ietf.org
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

So the list discussion seem to have diverged into issues that relate to
RFC 4412 rather than the real issue under discussion. I'll work through
the issues raised I currently see them and try and get back on track to
the understanding we need to charter this. In terms of chartering, it is
not just a matter of saying to the Area Director that we need this, we
need to rationally explain a number of things including why it is
needed.

I thought I made clear in my initial mail that in my understanding there
would be no change between the namespace and priority levels of response
and the request. This needs to be more accurately specified in the draft
but certainly that was my understanding from the author, and what was
stated in IETF#69 SIP WG. No one seems to have disagreed with this from
the supporting side.

Therefore change of namespace and/or priority during a dialog would
become a separate issue for discussion in terms of RFC 4412 enhancement,
if it needed extra documentation. I tend to agree with John that using a
response is not the correct way to do this.

In terms of misuse, RFC 4412 section 1 states:

   Since gaining prioritized access to resources offers opportunities to
   deny service to others, it is expected that all such prioritized
   calls are subject to authentication and authorization, using standard
   SIP security (Section 11) or other appropriate mechanisms.

And section 4.2

   2.  It ascertains that the request is authorized according to local
       policy to use the priority levels indicated.  If the request is
       not authorized, it rejects it.  Examples of authorization
       policies are discussed in Security Considerations (Section 11).

My understanding of the model used here is that some sort of trust model
applies. Some edge proxy determines whether the user is allowed to use a
certain level of priority (either from an included RPH or from some
other conditions), and either therefore includes or relays a RPH header.
>From that proxy onwards within the same trust area, that RPH is assumed
to be authenticated for use. If the trust are is exited, the RPH is
removed.

In terms of a valid architecture for use in responses, the one I have
certainly been considering has been the one where we have a stateful
proxy serving both the called and calling user, forming the edge of this
trust area. Other proxies providing routeing functionality between these
two edges could be stateless.

In this architecture, the originating edge proxy authorises the request
as indicated in RFC 4412. This makes its way to the terminating side. At
the terminating side either the terminating user or terminating proxy
puts the RPH in the response with the same value as in the request. If
this is performed by the terminating user, the terminating proxy checks
it (all proper walled garden stuff).

In this case, there does not seem to be any real function performed by
the need to reject a response with a 403, and it seems to be entirely
consistent with RFC 4412 section 4.7.3

   SIP proxies MAY ignore the 'Resource-Priority' header field.  SIP
   proxies MAY reject any unauthenticated request bearing that header
   field.

The stateless proxies that need the RPH header in this architecture
therefore get an authorised one, and only an authorised one. I am
assuming that stateful proxies would in anycase use the RPH from the
request - does this need to be stated?

Now whether there are other valid architectures that work could probably
be discussed in the draft if they are desired, but this seems to be the
main one, and seems to be valid, in terms of getting the information to
a stateless proxy that may need it.

But the real question I asked is that given this scenario, are there
valid things the stateless proxy can do with it. There seems to be no
dispute that for a stateless proxy it only applies to the SIP
processing, and therefore the treatment of the SIP response in
relationship to other requests and responses.

However, the only responses I have been given are of the "if its there
you have to do it" rather than "these are the reasons for doing it".
This does not lead us to a discussion which we need to have of whether
it is of benefit, might give improvements in certain circumstances, or
of no benefit whatsoever. Do we need it as a mandatory extension to RFC
4412, optional and used in some cases, or don't need the extension at
all?

If it does convey benefits, I think we also need to discuss whether the
requests and responses are placed in the same queue for each namespace,
priority level pair, or whether separate queues are needed for each.

To also explain further the linkage I made with overload control, it is
not that they form part and parcel of the same function, but rather that
in an overloaded network, we presumably see the end user seeing benefit
from RPH header usage. Do we expend more network resources on proxies
relaying responses into queues and then processing those queues, such
that the delay to the responses with RPH is greater than if we had just
proxied all responses on a first come first served basis without even
looking at the RPH issues (bearing in mind that transaction stateless
proxy processing of responses is simpler that stateful), i.e.=20

   Response processing as described in Section 16.7 does not apply to a
   proxy behaving statelessly.  When a response arrives at a stateless
   proxy, the proxy MUST inspect the sent-by value in the first
   (topmost) Via header field value.  If that address matches the proxy,
   (it equals a value this proxy has inserted into previous requests)
   the proxy MUST remove that header field value from the response and
   forward the result to the location indicated in the next Via header
   field value.  The proxy MUST NOT add to, modify, or remove the
   message body.  Unless specified otherwise, the proxy MUST NOT remove
   any other header field values.  If the address does not match the
   proxy, the message MUST be silently discarded.

Any modelling out there to prove one thing or the other.

Independently of getting these answered, I think there is value in the
author revising the draft to make the usage scenarios clearer.

Regards

Keith


________________________________

	From: Elwell, John [mailto:john.elwell@siemens.com]=20
	Sent: Tuesday, September 25, 2007 7:30 AM
	To: Janet P Gunn; Dean Willis
	Cc: sip@ietf.org; DRAGE, Keith (Keith)
	Subject: RE: [Sip] Progression of
draft-polk-sip-rph-in-responses-00
=09
=09
	Janet,
	=20
	If there really is a need for the callee to jack up the priority
of a dialog (I don't have a view on that), then a mechanism similar to
connected-identity should be used, i.e., a mid-dialog request in the
reverse direction, which can therefore be challenged and authenticated
in the normal manner.
	=20
	John


________________________________

		From: Janet P Gunn [mailto:jgunn6@csc.com]=20
		Sent: 24 September 2007 19:20
		To: Dean Willis
		Cc: sip@ietf.org; DRAGE, Keith (Keith)
		Subject: Re: [Sip] Progression of
draft-polk-sip-rph-in-responses-00
	=09
	=09

	=09
	=09
		Those are valid concerns.  I said that I was
oversimplifying, and some of the oversimplification involves mechanisms
to addresses some of those concerns.=20
	=09
		But we DO need to allow the situation where the first
"hop" of a "priority" call does not have RPH, but RPH is added for later
hops.=20
	=09
		Janet
	=09
	=09
		Dean Willis <dean.willis@softarmor.com> wrote on
09/24/2007 01:12:49 PM:
	=09
		> Janet P Gunn wrote:
		> > Jeroen van Bemmel <jbemmel@zonnet.nl> wrote on
09/21/2007 03:19:09 PM:
		> >=20
		> >> Tim, Brian,
		> >>
		> >> First of all a question to clarify the requirements
further: is it=20
		> >> possible/valid for the request to have no specific
priority while its=20
		> >> response does, or should the RPH headers in a
response always be the=20
		> >> same or a subset of those in the request (i.e.
copied)? I assume the=20
		> > latter
		> > No, not a valid assumption.=20
		> >=20
		> > In order to support legacy applications, priority
markings (e.g. RPH) may=20
		> > be set based on the "dialed number"- e.g., by
parsing the Request URI.
		> >=20
		> > In some architectures (e.g. IMS) there may be
RPH-capable SIP actors (Type=20
		> > A) which do not parse the Request URI looking for
the key strings.  Such a=20
		> > SIP actor would send a SIP Invite WITHOUT RPH.
However, a subsequent=20
		> > RPH-capable SIP actor (which DOES parse the Request
URI looking for the=20
		> > key strings) (Type B) would set RPH, both in Invites
sent forward, and in=20
		> > responses sent back.
		> >=20
		> > So the "Type A" SIP actor could send out an Invite
without RPH, but get=20
		> > back a response WITH RPH.
		> >=20
		> > I have oversimplified, but the point is that it is
not a valid assumption.
		> >
		>=20
		> Ok, so what keeps me as a Joe End User from putting a
"higher priority
		> than the president" marking on every response I send?
You can't
		> challenge a response or send me an error code if you
don't like my
		> priority. Does every response require authentication
of priority level?
		>=20
		> Do we also have a new requirement for a node to
"learn" the priority
		> level of a dialog from a response, and then include
that priority level
		> in future requests on that dialog?
		>=20
		> It seems like this mechanism could be used to "jack
up" the priority
		> level of a dialog:
		>=20
		> 1) Alice sends a low priority request to Bob.
		> 2) Bob replies with a high-priority marking in the
response.
		> 3) Alice marks all future requests and responses in
this dialog high
		> priority.
		>=20
		> --
		> Dean
	=09



_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Tue Sep 25 11:39:02 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1IaCQI-0008Ht-M6; Tue, 25 Sep 2007 11:34:06 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1IaCQG-0008H8-EN
	for sip-confirm+ok@megatron.ietf.org; Tue, 25 Sep 2007 11:34:04 -0400
Received: from [10.91.34.44] (helo=ietf-mx.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1IaCQG-0008Gy-4f
	for sip@ietf.org; Tue, 25 Sep 2007 11:34:04 -0400
Received: from ebru.winwebhosting.com ([74.52.236.50])
	by ietf-mx.ietf.org with esmtp (Exim 4.43) id 1IaCQ9-00005E-Sh
	for sip@ietf.org; Tue, 25 Sep 2007 11:34:04 -0400
Received: from [209.173.53.233] (helo=BROSLT41xp)
	by ebru.winwebhosting.com with esmtpa (Exim 4.68)
	(envelope-from <br@brianrosen.net>)
	id 1IaCPo-0001rr-Rx; Tue, 25 Sep 2007 10:33:37 -0500
From: "Brian Rosen" <br@brianrosen.net>
To: "'Henry Sinnreich'" <hsinnrei@adobe.com>,
	"'Dwight, Timothy M \(Tim\)'" <timothy.dwight@verizon.com>,
	"'DRAGE, Keith \(Keith\)'" <drage@alcatel-lucent.com>, <sip@ietf.org>
References: <5D1A7985295922448D5550C94DE29180016F63C7@DEEXC1U01.de.lucent.com><7F047EBCFA8C2E499C2A2EF234ABFB3EDB65E2@ASHEVS012.mcilink.com>
	<24CCCC428EFEA2469BF046DB3C7A8D22E5A677@namail5.corp.adobe.com>
Subject: RE: [Sip] Progression of draft-polk-sip-rph-in-responses-00
Date: Tue, 25 Sep 2007 11:33:35 -0400
Message-ID: <1b7801c7ff89$73e30a10$640fa8c0@cis.neustar.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook 11
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.3028
Thread-Index: Acf7t/VzCNcjo2g3RAukPHJiav01FgA31cagAJSfbSAAJ5o+0A==
In-Reply-To: <24CCCC428EFEA2469BF046DB3C7A8D22E5A677@namail5.corp.adobe.com>
X-AntiAbuse: This header was added to track abuse,
	please include it with any abuse report
X-AntiAbuse: Primary Hostname - ebru.winwebhosting.com
X-AntiAbuse: Original Domain - ietf.org
X-AntiAbuse: Originator/Caller UID/GID - [47 12] / [47 12]
X-AntiAbuse: Sender Address Domain - brianrosen.net
X-Source: 
X-Source-Args: 
X-Source-Dir: 
X-Spam-Score: 0.0 (/)
X-Scan-Signature: 7a0494a0224ca59418dd8f92694c1fdb
Cc: 
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

RPH is useful in many contexts.

One is a network where it is essential to have priority, both for signaling
and for packets.  These may not be walled gardens, but they are not the open
Internet.  The example in the Emergency Services IP Network that comes to
mind is the "evacuate" message sent from the command center to every
responder in the building which is about to collapse.  The likelihood that
the network serving the responders is overloaded is very high.  Voice
chatter between, say two fireman is important, but the "evacuate" is more
important, and in fact will absolutely preempt everything else.  On that
network, it makes a whole lot of sense.

The "GETS" example is probably more what you were thinking of.  Imagine that
we're talking about the data network in a public wireless network near
ground zero.  It is completely overloaded. There is not enough capacity to
serve the demands being put on it.  A responder with a GETS SIM should be
able to get a call through, assuming that there are not enough such people
that they overload the network.  This is a SIP problem: there are more calls
being attempted then the network can handle.  It cannot treat them in a fair
way; there is no fair here.  The responder gets through, the random caller
may not.

That has nothing to do with gateways.

Brian

> -----Original Message-----
> From: Henry Sinnreich [mailto:hsinnrei@adobe.com]
> Sent: Monday, September 24, 2007 5:23 PM
> To: Dwight, Timothy M (Tim); DRAGE, Keith (Keith); sip@ietf.org
> Subject: RE: [Sip] Progression of draft-polk-sip-rph-in-responses-00
> 
> The resource priority header is only useful for getting priority in
> resource constrained gateways to the PSTN (not enough TDM lines
> available in a crisis). The solution to this is really to put emergency
> centers on the Internet with adequate broadband and avoid the PSTN
> altogether.
> 
> Priority on the Internet at large gets us into the issue of Internet
> Neutrality and yours truly believes priorities are evil.
> We can discuss offline why priorities in the Internet are evil.
> 
> In short: The Co-Chair is right :-)
> 
> Henry
> 
> -----Original Message-----
> From: Dwight, Timothy M (Tim) [mailto:timothy.dwight@verizon.com]
> Sent: Saturday, September 22, 2007 12:02 AM
> To: DRAGE, Keith (Keith); sip@ietf.org
> Subject: RE: [Sip] Progression of draft-polk-sip-rph-in-responses-00
> 
> OK, you've got it wrong.  ("be careful what you ask for, because you may
> get it...").
> 
> The capability supported by the Resource Priority Header is not meant,
> or anticipated, to be "good for" the network.  Its intent is to support
> a higher-then-normal level of certainty that service will be
> expeditiously provided, to a "special" community of users.  In this case
> "service delayed is service denied", i.e., if it takes an hour for the
> fire department to get through to the police department your house is
> probably toast.  So it's not good enough that these calls eventually go
> through,
> 
> The issue to debate is whether the inclusion of RPH in response
> messages, serves that objective.  If it does, and in so doing it makes
> certain network elements work harder or congest worse or in general
> results in degradation of service to servers not in the "special"
> community, so be it.
> 
> Other comments below.
> 
> Best regards,
> 
> tim
> 
> > -----Original Message-----
> > From: DRAGE, Keith (Keith) [mailto:drage@alcatel-lucent.com]
> > Sent: Thursday, September 20, 2007 1:57 PM
> > To: sip@ietf.org
> > Subject: [Sip] Progression of draft-polk-sip-rph-in-responses-00
> >
> > (As WG chair)
> >
> > Dean attempted to get this one started a while back and it
> > fell on stony
> > ground.
> >
> > We have now set charter milestones for all the documents we agreed to
> > progress at the last IETF meeting except for the draft above.
> >
> > The reason for this absence is that after discussion with the
> > AD, we are
> > not convinced that doing this provides a significant benefit. Part of
> > this may be clarified by revising the draft as an author draft but...
> >
> > The essence of the problem is that the application is to that of a
> > transaction stateless proxy. Of the list of activities
> > specified by RFC
> > 4412:
> >
> >    1.  The request can be given elevated priority for access to PSTN
> >        gateway resources, such as trunk circuits.
> >
> >    2.  The request can interrupt lower-priority requests at a user
> >        terminal, such as an IP phone.
> >
> >    3.  The request can carry information from one multi-level priority
> >        domain in the telephone network (e.g., using the facilities of
> >        Q.735.3 [Q.735.3]) to another, without the SIP proxies
> themselves
> >        inspecting or modifying the header field.
> >
> >    4.  In SIP proxies and back-to-back user agents, requests of higher
> >        priorities may displace existing signaling requests or bypass
> >        PSTN gateway capacity limits in effect for lower priorities.
> >
> > The only reason for including a Resource-Priority header in a response
> > for use in a transaction stateless proxy is item 4 above. This means
> > that a response for (namespace x, priority 5) could be handled ahead
> of
> > a response for (namespace x, priority 4).
> >
> > The question is what is the impact of such handling on an overloaded
> > system, where such priority handling could have a benefit (we assume
> > that in a system that is not overloaded then responses can be pushed
> > back pretty much as fast as they are received).
> 
> With respect, that is not the most relevant question.  If inclusion of
> RPH in response messages serves the end of increasing the certainty that
> priority requests expeditiously obtain service, it is in principle worth
> doing.  Certainly it is prudent to ask what the side effects would be
> (e.g., increased congestion), and in principle they might impact the
> desirability of this enhancement; but the bar for them to do so needs to
> be set very high.  If an airplane hits an office building, it is much,
> much more important that the agencies tasked with providing emergency
> services be able to communicate with one another, than it is for
> everyone who knows anyone that lives in that area to be able to call
> their friend.
> 
> 
> > If a response processing
> > gets delayed according to some queueing mechanism, then eventually
> > timers related to the request at the entity before this proxy will
> time
> > out, and the request will be repeated. This increases the processing
> > load on an overloaded system.
> 
> Of course.  But the relevant issue is again not the impact on the
> overloaded system, it is the impact on the certainty that service will
> be expeditiously provided to priority requests.
> 
> 
> >
> > So in terms of resource priority, is the appropriate model that
> > responses should always be handled immediately and before the request
> > queues are handled, or is there a justification for some other model.
> 
> Some variant of that model (prioritizing responses over requests) seems
> likely to already in use.  The question on the table is whether it
> should be augmented such that responses associated with priority calls
> are prioritized higher than other sorts of responses.  If doing so
> increases either the certainty or the speed with which service is
> provided to priority calls, then it seems the enhancement is justified.
> 
> 
> >
> > Please respond and tell us we have got it wrong.
> >
> > Regards
> >
> > Keith
> >
> >
> > _______________________________________________
> > Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
> > This list is for NEW development of the core SIP Protocol
> > Use sip-implementors@cs.columbia.edu for questions on current sip
> > Use sipping@ietf.org for new developments on the application of sip
> >
> 
> 
> _______________________________________________
> Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
> 
> 
> _______________________________________________
> Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip



_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Tue Sep 25 15:10:38 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1IaFjh-0003uK-LF; Tue, 25 Sep 2007 15:06:21 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1IaFjg-0003u4-B6
	for sip-confirm+ok@megatron.ietf.org; Tue, 25 Sep 2007 15:06:20 -0400
Received: from [10.91.34.44] (helo=ietf-mx.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1IaFjg-0003tv-1Q
	for sip@ietf.org; Tue, 25 Sep 2007 15:06:20 -0400
Received: from nylon.softarmor.com ([66.135.38.164])
	by ietf-mx.ietf.org with esmtp (Exim 4.43) id 1IaFjZ-0006o9-R7
	for sip@ietf.org; Tue, 25 Sep 2007 15:06:20 -0400
Received: from [192.168.2.100] (cpe-76-185-142-113.tx.res.rr.com
	[76.185.142.113]) (authenticated bits=0)
	by nylon.softarmor.com (8.13.8/8.13.8/Debian-3) with ESMTP id
	l8PJ62Sa010084
	(version=TLSv1/SSLv3 cipher=AES128-SHA bits=128 verify=NOT)
	for <sip@ietf.org>; Tue, 25 Sep 2007 14:06:03 -0500
Mime-Version: 1.0 (Apple Message framework v752.3)
Content-Transfer-Encoding: 7bit
Message-Id: <0F38B81E-EF54-468A-8ECD-6F91069BA251@softarmor.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
To: IETF SIP List <sip@ietf.org>
From: Dean Willis <dean.willis@softarmor.com>
Date: Tue, 25 Sep 2007 14:05:47 -0500
X-Mailer: Apple Mail (2.752.3)
X-Spam-Score: 0.0 (/)
X-Scan-Signature: 00e94c813bef7832af255170dca19e36
Subject: [Sip] What does draft-polk-sip-rph-in-responses-00 get us? Is that
	what we want?
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org


It seems like there's more motivating draft-polk-sip-rph-in- 
responses-00 than just the need to prioritize access to scarce  
gateway resources. A lot of the people I've talked to are thinking  
that it is also useful for prioritizing message processing in  
congested proxies or other SIP nodes (like B2BUAs, call center  
queues, whatever).

It has even been suggested that the RPH value might be used by a  
congested node for selective discard of responses, which has some  
interesting impacts on the overload queueing model.

An unstated goal here is that even if proxy-like resources are  
operating at a totally saturated level they MUST still be able to  
process messages with a high RPH value, even if it means totally  
disrupting lower-priority traffic and creating cascade collapse and  
link saturation with message retransmissions. It seems to me that  
this would require very careful collaboration with a diffserv layer  
to make work, but that's just one of the open questions.

The other open questions I think I see are  a) how to allow a  
priority determination to be made by a node on the "response" side of  
the loop, and b) how to deal with authentication and authorization  
for priority levels requested in a response. This raises a couple of  
state-management questions, and two big thorny architectural questions.

The state bits are easy, I think -- Having learned of a priority  
established "somewhere along the line", each statefully participating  
SIP node must continue to add an equivalent priority header in future  
messages. Unless of course the node has reason to be changing the  
priority level, which of course raises all sorts of questions about  
who is allowed to change a value, how we can tell it has been  
changed, whether or not we decide to honor the change, and so on.

The more fundamental architectural questions are 1) How do we change  
anything in a response that can't be challenged, and 2) how do we  
authenticate changes introduced by non-terminal nodes?

The first problem we've traditionally addressed by a reverse- 
direction request, as noted by John Elwell. That might work here.

The second problem is a much bigger mess, one that we've categorized  
as "middle-to-middle" and/or "middle-to-end". This is a big open  
problem in the SIP space, one that we don't even have a charter item  
to address. We bogged down on the simpler end-to-middle problem,  
which we managed to document as a more-or-less experimental document  
pending better understanding of the problem.

Consequently, I think we're asking RPH to do a lot of things for us  
that it really can't do in the general case.

The only solution that comes to mind is to simplify the problem  
scope. Perhaps if we started from a really concise statement of what  
we can reasonably do with a mechanism like RPH, we'd make more  
headway in understanding the problem.

A short list to work from:

1) RPH can only be set by a request-originating UA. Consequently, any  
intermediary node that is changing RPH MUST be a B2BUA.

2) Like other dialog attributes, changes of RPH require modification  
of the dialog via UPDATE or reINVITE.

These two constraints are driven by the request-authentication model  
and the like of m2m authentication in SIP.

Given these constraints, can we meed the needs of the community? Now  
the "how they want things to work" needs, but the real required  
functionality for prioritization?

Do we need to add RPH negotiation to the session-policy mechanism?

--
Dean



_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Tue Sep 25 15:37:52 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1IaGCJ-0007xj-Mu; Tue, 25 Sep 2007 15:35:55 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1IaGCI-0007rX-45
	for sip-confirm+ok@megatron.ietf.org; Tue, 25 Sep 2007 15:35:54 -0400
Received: from [10.90.34.44] (helo=chiedprmail1.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1IaGCH-0007rJ-NL
	for sip@ietf.org; Tue, 25 Sep 2007 15:35:53 -0400
Received: from mail86.messagelabs.com ([216.82.244.115])
	by chiedprmail1.ietf.org with smtp (Exim 4.43) id 1IaGCH-0002uG-4z
	for sip@ietf.org; Tue, 25 Sep 2007 15:35:53 -0400
X-VirusChecked: Checked
X-Env-Sender: jgunn6@csc.com
X-Msg-Ref: server-4.tower-86.messagelabs.com!1190748951!34748113!1
X-StarScan-Version: 5.5.12.14.2; banners=-,-,-
X-Originating-IP: [20.137.52.151]
Received: (qmail 6732 invoked from network); 25 Sep 2007 19:35:51 -0000
Received: from amer-mta07.csc.com (HELO amer-mta07.csc.com) (20.137.52.151)
	by server-4.tower-86.messagelabs.com with AES256-SHA encrypted SMTP;
	25 Sep 2007 19:35:51 -0000
Received: from amer-gw09.amer.csc.com (amer-gw09.amer.csc.com [20.6.39.245])
	by amer-mta07.csc.com (Switch-3.1.6/Switch-3.1.7) with ESMTP id
	l8PJaCNs021128
	for <sip@ietf.org>; Tue, 25 Sep 2007 15:36:12 -0400 (EDT)
In-Reply-To: <0F38B81E-EF54-468A-8ECD-6F91069BA251@softarmor.com>
To: Dean Willis <dean.willis@softarmor.com>
Subject: Re: [Sip] What does draft-polk-sip-rph-in-responses-00 get us? Is
	that	what we want?
MIME-Version: 1.0
X-Mailer: Lotus Notes 652HF83 November 04, 2004
From: Janet P Gunn <jgunn6@csc.com>
Message-ID: <OF665FF40A.3E41693D-ON85257361.006B4E44-85257361.006BA688@csc.com>
Date: Tue, 25 Sep 2007 15:35:49 -0400
X-MIMETrack: Serialize by Router on AMER-GW09/SRV/CSC(Release 7.0.2FP1
	HF180|March 29, 2007) at 09/25/2007 03:34:25 PM,
	Serialize complete at 09/25/2007 03:34:25 PM
X-Spam-Score: 0.0 (/)
X-Scan-Signature: 73734d43604d52d23b3eba644a169745
Cc: IETF SIP List <sip@ietf.org>
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: multipart/mixed; boundary="===============2114613875=="
Errors-To: sip-bounces@ietf.org

This is a multipart message in MIME format.
--===============2114613875==
Content-Type: multipart/alternative;
	boundary="=_alternative 006BA63B85257361_="

This is a multipart message in MIME format.
--=_alternative 006BA63B85257361_=
Content-Type: text/plain; charset="US-ASCII"

Dean Willis <dean.willis@softarmor.com> wrote on 09/25/2007 03:05:47 PM:

> 
> It seems like there's more motivating draft-polk-sip-rph-in- 
> responses-00 than just the need to prioritize access to scarce 
> gateway resources. A lot of the people I've talked to are thinking 
> that it is also useful for prioritizing message processing in 
> congested proxies or other SIP nodes (like B2BUAs, call center 
> queues, whatever).
> 
> It has even been suggested that the RPH value might be used by a 
> congested node for selective discard of responses, which has some 
> interesting impacts on the overload queueing model.
> 
> 
Req 13 in  draft-ietf-sipping-overload-reqs already provides for this

   REQ 13: The mechanism must not dictate a specific algorithm for
      prioritizing the processing of work within a proxy during times of
      overload.  It must permit a proxy to prioritize requests based on
      any local policy, so that certain ones (such as a call for
      emergency services or a call with a specific value of of the
      Resource-Priority header field [3]) are processed ahead of others.

Janet

> _______________________________________________
> Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip

--=_alternative 006BA63B85257361_=
Content-Type: text/html; charset="US-ASCII"


<br><font size=2 face="sans-serif"><br>
<br>
</font>
<br>
<br><font size=2><tt>Dean Willis &lt;dean.willis@softarmor.com&gt; wrote
on 09/25/2007 03:05:47 PM:<br>
<br>
&gt; <br>
&gt; It seems like there's more motivating draft-polk-sip-rph-in- <br>
&gt; responses-00 than just the need to prioritize access to scarce &nbsp;<br>
&gt; gateway resources. A lot of the people I've talked to are thinking
&nbsp;<br>
&gt; that it is also useful for prioritizing message processing in &nbsp;<br>
&gt; congested proxies or other SIP nodes (like B2BUAs, call center &nbsp;<br>
&gt; queues, whatever).<br>
&gt; <br>
&gt; It has even been suggested that the RPH value might be used by a &nbsp;<br>
&gt; congested node for selective discard of responses, which has some
&nbsp;<br>
&gt; interesting impacts on the overload queueing model.<br>
&gt; <br>
&gt; </tt></font>
<br><font size=2><tt>Req 13 in &nbsp;draft-ietf-sipping-overload-reqs already
provides for this</tt></font>
<br>
<br><font size=2><tt>&nbsp; &nbsp;REQ 13: The mechanism must not dictate
a specific algorithm for</tt></font>
<br><font size=2><tt>&nbsp; &nbsp; &nbsp; prioritizing the processing of
work within a proxy during times of</tt></font>
<br><font size=2><tt>&nbsp; &nbsp; &nbsp; overload. &nbsp;It must permit
a proxy to prioritize requests based on</tt></font>
<br><font size=2><tt>&nbsp; &nbsp; &nbsp; any local policy, so that certain
ones (such as a call for</tt></font>
<br><font size=2><tt>&nbsp; &nbsp; &nbsp; emergency services or a call
with a specific value of of the</tt></font>
<br><font size=2><tt>&nbsp; &nbsp; &nbsp; Resource-Priority header field
[3]) are processed ahead of others.</tt></font>
<br>
<br><font size=2><tt>Janet</tt></font>
<br><font size=2><tt><br>
&gt; _______________________________________________<br>
&gt; Sip mailing list &nbsp;https://www1.ietf.org/mailman/listinfo/sip<br>
&gt; This list is for NEW development of the core SIP Protocol<br>
&gt; Use sip-implementors@cs.columbia.edu for questions on current sip<br>
&gt; Use sipping@ietf.org for new developments on the application of sip<br>
</tt></font>
--=_alternative 006BA63B85257361_=--



--===============2114613875==
Content-Type: text/plain; charset="us-ascii"
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip
--===============2114613875==--





From sip-bounces@ietf.org Tue Sep 25 18:14:55 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1IaIaA-0006Uc-Lf; Tue, 25 Sep 2007 18:08:42 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1IaIa9-0006UR-Om
	for sip-confirm+ok@megatron.ietf.org; Tue, 25 Sep 2007 18:08:41 -0400
Received: from [10.91.34.44] (helo=ietf-mx.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1IaIa9-0006TR-FA
	for sip@ietf.org; Tue, 25 Sep 2007 18:08:41 -0400
Received: from nylon.softarmor.com ([66.135.38.164])
	by ietf-mx.ietf.org with esmtp (Exim 4.43) id 1IaIa1-0003qw-8S
	for sip@ietf.org; Tue, 25 Sep 2007 18:08:39 -0400
Received: from [192.168.2.100] (cpe-76-185-142-113.tx.res.rr.com
	[76.185.142.113]) (authenticated bits=0)
	by nylon.softarmor.com (8.13.8/8.13.8/Debian-3) with ESMTP id
	l8PM8KgJ011468
	(version=TLSv1/SSLv3 cipher=AES128-SHA bits=128 verify=NOT);
	Tue, 25 Sep 2007 17:08:21 -0500
In-Reply-To: <OF665FF40A.3E41693D-ON85257361.006B4E44-85257361.006BA688@csc.com>
References: <OF665FF40A.3E41693D-ON85257361.006B4E44-85257361.006BA688@csc.com>
Mime-Version: 1.0 (Apple Message framework v752.3)
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <2A5813B8-524A-4587-ADF1-B84255AE234C@softarmor.com>
Content-Transfer-Encoding: 7bit
From: Dean Willis <dean.willis@softarmor.com>
Subject: Re: [Sip] What does draft-polk-sip-rph-in-responses-00 get us? Is
	that	what we want?
Date: Tue, 25 Sep 2007 17:08:05 -0500
To: Janet P Gunn <jgunn6@csc.com>
X-Mailer: Apple Mail (2.752.3)
X-Spam-Score: 0.0 (/)
X-Scan-Signature: b7b9551d71acde901886cc48bfc088a6
Cc: IETF SIP List <sip@ietf.org>
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org


On Sep 25, 2007, at 2:35 PM, Janet P Gunn wrote:

> Dean Willis <dean.willis@softarmor.com> wrote on 09/25/2007  
> 03:05:47 PM:
>
> >
> > It seems like there's more motivating draft-polk-sip-rph-in-
> > responses-00 than just the need to prioritize access to scarce
> > gateway resources. A lot of the people I've talked to are thinking
> > that it is also useful for prioritizing message processing in
> > congested proxies or other SIP nodes (like B2BUAs, call center
> > queues, whatever).
> >
> > It has even been suggested that the RPH value might be used by a
> > congested node for selective discard of responses, which has some
> > interesting impacts on the overload queueing model.
> >
> >
> Req 13 in  draft-ietf-sipping-overload-reqs already provides for this
>
>    REQ 13: The mechanism must not dictate a specific algorithm for
>       prioritizing the processing of work within a proxy during  
> times of
>       overload.  It must permit a proxy to prioritize requests  
> based on
>       any local policy, so that certain ones (such as a call for
>       emergency services or a call with a specific value of of the
>       Resource-Priority header field [3]) are processed ahead of  
> others.
>

I'm far more concerned with what it does to the mathematics of the  
overload model than what it does to the protocol specification.

SIP, in my experience, is sensitive to what I call "cascade  
failures". One element suffers a delay (overload, garbage collection,  
whatever) thereby causing a message (request or response) to get  
delayed. This delayed message adds enough latency to pop a retransmit  
timer, causing a request to get retransmitted (even though the first  
message may still be "in-flight"). This additional message adds to  
the workload on the already delayed node (possibly incurring also  
additional responses), causing further delays and further  
retransmissions. At certain thresholds, this can suddenly load the  
network with messages, such that a "melt-down" occurs wherein all  
requests time out and are retransmitted the maximum number of times  
before failing. If the request arrival rate (new users who haven't  
yet noted the congestion, or old ones who are just "trying again")  
exceeds the clearing rate of the network, the whole thing can  
basically stay locked up indefinitely. Remember, you have to parse a  
message to see its RPH, and if you're overloaded trying to parse a  
message flood you're not going to meet your delivery requirements on  
high-priority messages.

Most modeling work I know of has proceeded under the pattern that  
requests can be delayed (or "pushed back" on like a retry-after), but  
that responses move with all available speed and are never  
deliberately discarded. This is consistent with SIP's authentication  
model that allows challenging a request but not a response.

When we start discarding the responses, the queueing model gets a lot  
more complicated. Not only do we have the same retransmission  
cascade, but we add a possible confounding of the states at the end  
points. While SIP UAs should of course handle repeated requests, it's  
certainly more complex for them to see a request again to which they  
have already responded than it is for them to see a request they've  
never seen before. More state stacks up, more strange things can  
happen, and I don't know what it will do to the resultant system.

Notice that this thinking is evident even in the section from  
overload-reqs you quote, which talks only about prioritization of  
requests, not prioritization of responses.

Consequently, adding text that seems to facilitate and encourage  
discarding or deferral (or, I suppose, prioritization in general) of  
responses makes me queasy. It might turn out ok, but it certainly  
sets my spider-senses to tingling, and makes me want to understand  
the risks better before I suggest it to anybody.

For you students out there looking for a modeling project,  
quantifying the impact of this would make a great thesis effort.

--
Dean


_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Wed Sep 26 11:31:45 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1IaYli-0000ai-ML; Wed, 26 Sep 2007 11:25:42 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1IaYli-0000ad-6a
	for sip-confirm+ok@megatron.ietf.org; Wed, 26 Sep 2007 11:25:42 -0400
Received: from [10.91.34.44] (helo=ietf-mx.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1IaYlh-0000a1-TG
	for sip@ietf.org; Wed, 26 Sep 2007 11:25:41 -0400
Received: from ebru.winwebhosting.com ([74.52.236.50])
	by ietf-mx.ietf.org with esmtp (Exim 4.43) id 1IaYld-000593-9Q
	for sip@ietf.org; Wed, 26 Sep 2007 11:25:38 -0400
Received: from [209.173.53.233] (helo=BROSLT41xp)
	by ebru.winwebhosting.com with esmtpa (Exim 4.68)
	(envelope-from <br@brianrosen.net>)
	id 1IaYlL-0007z5-4L; Wed, 26 Sep 2007 10:25:19 -0500
From: "Brian Rosen" <br@brianrosen.net>
To: "'Dean Willis'" <dean.willis@softarmor.com>,
	"'Janet P Gunn'" <jgunn6@csc.com>
References: <OF665FF40A.3E41693D-ON85257361.006B4E44-85257361.006BA688@csc.com>
	<2A5813B8-524A-4587-ADF1-B84255AE234C@softarmor.com>
Subject: RE: [Sip] What does draft-polk-sip-rph-in-responses-00 get us?
	Isthat	what we want?
Date: Wed, 26 Sep 2007 11:25:25 -0400
Message-ID: <01cc01c80051$77a879a0$640fa8c0@cis.neustar.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook 11
In-Reply-To: <2A5813B8-524A-4587-ADF1-B84255AE234C@softarmor.com>
Thread-Index: Acf/wYp0sLn6XVAAT1Swf3XH3tAamAAjf0cQ
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.3028
X-AntiAbuse: This header was added to track abuse,
	please include it with any abuse report
X-AntiAbuse: Primary Hostname - ebru.winwebhosting.com
X-AntiAbuse: Original Domain - ietf.org
X-AntiAbuse: Originator/Caller UID/GID - [47 12] / [47 12]
X-AntiAbuse: Sender Address Domain - brianrosen.net
X-Source: 
X-Source-Args: 
X-Source-Dir: 
X-Spam-Score: 0.0 (/)
X-Scan-Signature: 093efd19b5f651b2707595638f6c4003
Cc: 'IETF SIP List' <sip@ietf.org>
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

Yeah, but I think you are starting with an incorrect assumption that if you
improve the average response, you will get a better global result.  The
assumption usually made in these systems is that the network is horribly
overloaded; nearly all low priority messages are timing out and the system
is choked.  You are way past the point where anything like what you are
talking about can help.

In that scenario, you pick out the high priority messages, get them through,
and the rest of the users are hosed.  They were hosed to begin with.

I suspect that you could model well enough and discover that the difference
between the work of parsing messages to find high priority responses and
fully handling all responses in a stateless proxy is pretty much don't care.
I think though that the priority people would be very suspicious of the
model.  I don't think you could show that handling priority responses behind
non priority requests would have that characteristic.  Then you get to
talking about designing proxies so that they handle all responses before any
requests.

But I think it would take some seriously difficult modeling to show that it
worked well, and you could always find corner cases where it didn't.  That
may mean GETS-like services could reasonably work that way.  MLPP systems
would not; priority is absolute.

Brian
> -----Original Message-----
> From: Dean Willis [mailto:dean.willis@softarmor.com]
> Sent: Tuesday, September 25, 2007 6:08 PM
> To: Janet P Gunn
> Cc: IETF SIP List
> Subject: Re: [Sip] What does draft-polk-sip-rph-in-responses-00 get us?
> Isthat what we want?
> 
> 
> On Sep 25, 2007, at 2:35 PM, Janet P Gunn wrote:
> 
> > Dean Willis <dean.willis@softarmor.com> wrote on 09/25/2007
> > 03:05:47 PM:
> >
> > >
> > > It seems like there's more motivating draft-polk-sip-rph-in-
> > > responses-00 than just the need to prioritize access to scarce
> > > gateway resources. A lot of the people I've talked to are thinking
> > > that it is also useful for prioritizing message processing in
> > > congested proxies or other SIP nodes (like B2BUAs, call center
> > > queues, whatever).
> > >
> > > It has even been suggested that the RPH value might be used by a
> > > congested node for selective discard of responses, which has some
> > > interesting impacts on the overload queueing model.
> > >
> > >
> > Req 13 in  draft-ietf-sipping-overload-reqs already provides for this
> >
> >    REQ 13: The mechanism must not dictate a specific algorithm for
> >       prioritizing the processing of work within a proxy during
> > times of
> >       overload.  It must permit a proxy to prioritize requests
> > based on
> >       any local policy, so that certain ones (such as a call for
> >       emergency services or a call with a specific value of of the
> >       Resource-Priority header field [3]) are processed ahead of
> > others.
> >
> 
> I'm far more concerned with what it does to the mathematics of the
> overload model than what it does to the protocol specification.
> 
> SIP, in my experience, is sensitive to what I call "cascade
> failures". One element suffers a delay (overload, garbage collection,
> whatever) thereby causing a message (request or response) to get
> delayed. This delayed message adds enough latency to pop a retransmit
> timer, causing a request to get retransmitted (even though the first
> message may still be "in-flight"). This additional message adds to
> the workload on the already delayed node (possibly incurring also
> additional responses), causing further delays and further
> retransmissions. At certain thresholds, this can suddenly load the
> network with messages, such that a "melt-down" occurs wherein all
> requests time out and are retransmitted the maximum number of times
> before failing. If the request arrival rate (new users who haven't
> yet noted the congestion, or old ones who are just "trying again")
> exceeds the clearing rate of the network, the whole thing can
> basically stay locked up indefinitely. Remember, you have to parse a
> message to see its RPH, and if you're overloaded trying to parse a
> message flood you're not going to meet your delivery requirements on
> high-priority messages.
> 
> Most modeling work I know of has proceeded under the pattern that
> requests can be delayed (or "pushed back" on like a retry-after), but
> that responses move with all available speed and are never
> deliberately discarded. This is consistent with SIP's authentication
> model that allows challenging a request but not a response.
> 
> When we start discarding the responses, the queueing model gets a lot
> more complicated. Not only do we have the same retransmission
> cascade, but we add a possible confounding of the states at the end
> points. While SIP UAs should of course handle repeated requests, it's
> certainly more complex for them to see a request again to which they
> have already responded than it is for them to see a request they've
> never seen before. More state stacks up, more strange things can
> happen, and I don't know what it will do to the resultant system.
> 
> Notice that this thinking is evident even in the section from
> overload-reqs you quote, which talks only about prioritization of
> requests, not prioritization of responses.
> 
> Consequently, adding text that seems to facilitate and encourage
> discarding or deferral (or, I suppose, prioritization in general) of
> responses makes me queasy. It might turn out ok, but it certainly
> sets my spider-senses to tingling, and makes me want to understand
> the risks better before I suggest it to anybody.
> 
> For you students out there looking for a modeling project,
> quantifying the impact of this would make a great thesis effort.
> 
> --
> Dean
> 
> 
> _______________________________________________
> Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip



_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Wed Sep 26 12:48:34 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1Iaa1P-0007kI-4s; Wed, 26 Sep 2007 12:45:59 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1Iaa1N-0007jn-Nx
	for sip-confirm+ok@megatron.ietf.org; Wed, 26 Sep 2007 12:45:57 -0400
Received: from [10.91.34.44] (helo=ietf-mx.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1Iaa1N-0007QX-Dy
	for sip@ietf.org; Wed, 26 Sep 2007 12:45:57 -0400
Received: from host10.216.41.24.conversent.net ([216.41.24.10]
	helo=acmepacket.com) by ietf-mx.ietf.org with esmtp (Exim 4.43)
	id 1Iaa1E-0007uV-0j for sip@ietf.org; Wed, 26 Sep 2007 12:45:53 -0400
Received: from hkaplan [10.0.200.241] by acmepacket.com with ESMTP
	(SMTPD-9.10) id ACAD019C; Wed, 26 Sep 2007 12:45:33 -0400
From: "Hadriel Kaplan" <HKaplan@acmepacket.com>
To: "'Adam Roach'" <adam@nostrum.com>, "'Brian Stucker'" <bstucker@nortel.com>
References: <6FC4416DDE56C44DA0AEE67BC7CA437116A57D59@zrc2hxm2.corp.nortel.com>	<C3184CEC.B881%eburger@bea.com><6FC4416DDE56C44DA0AEE67BC7CA437116DFF008@zrc2hxm2.corp.nortel.com>
	<46F7D719.2070004@nostrum.com>
Subject: RE: [Sip] INFO
Date: Wed, 26 Sep 2007 12:45:33 -0400
Message-ID: <0a5401c8005c$a80fad10$800101df@acmepacket.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook 11
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2900.3138
thread-index: Acf+v9dwUqCm58UWREyjbmqWfNVRewBk4Ygg
In-Reply-To: <46F7D719.2070004@nostrum.com>
X-Spam-Score: 1.2 (+)
X-Scan-Signature: e8a67952aa972b528dd04570d58ad8fe
Cc: sip@ietf.org
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

Hey Adam,
Comments inline...

> -----Original Message-----
> From: Adam Roach [mailto:adam@nostrum.com]
> Sent: Monday, September 24, 2007 11:26 AM
> 
> The problem isn't _in_ that direction. The problem is: how do I say "I
> am capable of receiving DTMF digits in an INFO message"?
>
> The "Accept" header-field lets you say you understand the syntax, but
> doesn't convey what contexts it makes sense in.

When you say "doesn't convey what contexts it makes sense in", in what way
do you mean that if the topic is DTMF?  Do you mean because it doesn't
specify which methods it's acceptable in (e.g., INFO)?  Or do you mean
because it won't indicate that an INFO with DTMF is only acceptable in the
context of an Invite-based dialog, for example?  

I ask because the argument of "not conveying context semantics" has come up
a few times, and I'm trying to figure out if the problem is one that can be
solved by standardization, or if the problem is something bigger.  When I
think of "context", I think of it in a bigger sense than protocol syntax,
and more of application semantics.  But DTMF has no such semantics at the
UAC.  The UAC has no idea what a button push means from an application
perspective, beyond just "the user pressed #".  There is a protocol issue,
though, in terms of "if and how do I tell someone the user pressed #".  But
I think that's something that can be solved.


> The "Allow" header-field lets you say you can process INFO for some
> mime-types, but doesn't let you say which ones.
> There is no current mechanism that lets you tie the semantics together,
> the way that event packages do. I've shown, in previous messages, how
> this can lead to ambiguity and consequent interoperability failure.

I agree with you, but that problem already exists today.  There are plenty
of cases where there are constraints on the combination of method+mime that
cannot be described with Accept and Allow headers.  There are devices which
won't accept Invites or re-Invites without application/sdp, and there are
devices which don't accept Options with mime types they do accept Invites
with, etc.  (You can call them broken I guess)  What does it mean for an
application/sdp mime body to be in a Message method, or in a Bye?

I also think for this dtmf case, we can define the usage for
application/dtmf such that it is tied to a specific method, in specific
session contexts. (or not) 


> To be clear: I don't really care much whether we come up with INFO
> packages or whether we formally deprecate INFO, but the current
> situation is untenable.

I guess that's the $64k question: is the current situation untenable?  If we
think rfc2833 will ultimately become ubiquitous and address the application
needs, then we don't need to worry about this.  There are devices that
already convert 2833 to Info and vice versa, and they'll be happy to keep
doing so for the short term.  If we think 2833 is not going to solve this
problem ultimately, or the application usage for dtmf is not possible by
2833 for all cases, then I think we need a solution.  KPML isn't it, IMHO.

-hadriel



_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Wed Sep 26 14:39:48 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1Iabjo-0008Kc-LN; Wed, 26 Sep 2007 14:35:56 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1Iabjn-0008IR-0h
	for sip-confirm+ok@megatron.ietf.org; Wed, 26 Sep 2007 14:35:55 -0400
Received: from [10.90.34.44] (helo=chiedprmail1.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1Iabjm-0008IJ-La
	for sip@ietf.org; Wed, 26 Sep 2007 14:35:54 -0400
Received: from shaman.nostrum.com ([72.232.15.10] helo=nostrum.com)
	by chiedprmail1.ietf.org with esmtp (Exim 4.43) id 1Iabjl-0001u9-VO
	for sip@ietf.org; Wed, 26 Sep 2007 14:35:54 -0400
Received: from orthrus.local (vicuna-alt.estacado.net [75.53.54.121])
	(authenticated bits=0)
	by nostrum.com (8.14.1/8.14.1) with ESMTP id l8QIZq6O015245
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO);
	Wed, 26 Sep 2007 13:35:52 -0500 (CDT)
	(envelope-from adam@nostrum.com)
Message-ID: <46FAA68A.1090408@nostrum.com>
Date: Wed, 26 Sep 2007 13:35:54 -0500
From: Adam Roach <adam@nostrum.com>
User-Agent: Thunderbird 2.0.0.6 (Macintosh/20070728)
MIME-Version: 1.0
To: Hadriel Kaplan <HKaplan@acmepacket.com>
Subject: Re: [Sip] INFO
References: <6FC4416DDE56C44DA0AEE67BC7CA437116A57D59@zrc2hxm2.corp.nortel.com>	<C3184CEC.B881%eburger@bea.com><6FC4416DDE56C44DA0AEE67BC7CA437116DFF008@zrc2hxm2.corp.nortel.com>
	<46F7D719.2070004@nostrum.com>
	<0a5401c8005c$a80fad10$800101df@acmepacket.com>
In-Reply-To: <0a5401c8005c$a80fad10$800101df@acmepacket.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Received-SPF: pass (nostrum.com: 75.53.54.121 is authenticated by a trusted
	mechanism)
X-Virus-Scanned: ClamAV 0.91.2/4405/Wed Sep 26 11:29:18 2007 on
	shaman.nostrum.com
X-Virus-Status: Clean
X-Spam-Score: 0.0 (/)
X-Scan-Signature: 057ebe9b96adec30a7efb2aeda4c26a4
Cc: sip@ietf.org, 'Brian Stucker' <bstucker@nortel.com>
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

On 9/26/07 11:45 AM, Hadriel Kaplan wrote:
>> -----Original Message-----
>> From: Adam Roach [mailto:adam@nostrum.com]
>> Sent: Monday, September 24, 2007 11:26 AM
>>
>> The problem isn't _in_ that direction. The problem is: how do I say "I
>> am capable of receiving DTMF digits in an INFO message"?
>>
>> The "Accept" header-field lets you say you understand the syntax, but
>> doesn't convey what contexts it makes sense in.
>>     
>
> When you say "doesn't convey what contexts it makes sense in", in what way
> do you mean that if the topic is DTMF?

This isn't just about DTMF; it's about INFO in general.

>   Do you mean because it doesn't
> specify which methods it's acceptable in (e.g., INFO)? 

That's the symptom I'm trying to illustrate, yes. Note that this isn't 
the underlying cause per se; it's a symptom of the cause. The root cause 
is that one must infer intention from an INFO, and Content-Type isn't 
sufficient for this purpose.

> I ask because the argument of "not conveying context semantics" has come up
> a few times, and I'm trying to figure out if the problem is one that can be
> solved by standardization, or if the problem is something bigger.

I think it can be solved by standardization -- however, I'm not sure 
that standardization within the framework of INFO is the right approach.

>> The "Allow" header-field lets you say you can process INFO for some
>> mime-types, but doesn't let you say which ones.
>> There is no current mechanism that lets you tie the semantics together,
>> the way that event packages do. I've shown, in previous messages, how
>> this can lead to ambiguity and consequent interoperability failure.
>>     
>
> I agree with you, but that problem already exists today.  There are plenty
> of cases where there are constraints on the combination of method+mime that
> cannot be described with Accept and Allow headers.

But the difference is that those methods have inherent semantics that 
constrain things in a way that avoids the problem. "INVITE" means "I'm 
trying to start a session." The MIME types that make sense in this 
context are only those which support description of a session. "MESSAGE" 
means "I'm sending content for rendering." Only those MIME types which 
can be rendered make sense in a MESSAGE. SUBSCRIBE and NOTIFY have 
inherent semantics, and the only MIME types that make sense are those 
which describe resource state.

Note that all of those MIME types are completely disjoint. There is no 
overlap, because the methods mean radically different things. So, for 
example, if a UA advertises support for INVITE and for 
"application/pidf+xml", it's trivial to figure out that they cannot go 
together -- there is a semantic mismatch.

"INFO" means... well... it doesn't mean *ANY*thing. It means "here's 
some stuff, now you guess what you're supposed to do with it." So, it is 
conceivable that INFO could carry content that describes a session, or 
contains renderable content (DTMF!), or describes the state of a 
resource. Because these content types necessarily make sense in the 
context of other methods that may be supported, it is impossible to tell 
whether they make sense in an INFO. So, if a UA advertises support for 
INFO and for "image/jpeg", it's not as clear whether they support them 
in conjunction with each other. Maybe you think you can use this to 
update your user icon in my buddy list... maybe it's just there because 
I can receive them in MESSAGE requests. It's impossible to tell, because 
INFO *has* *no* *inherent* *meaning*. In theory, every MIME type 
imaginable "makes sense" in an INFO.

> I also think for this dtmf case, we can define the usage for
> application/dtmf such that it is tied to a specific method, in specific
> session contexts. (or not)

I'll concede that there *might* be ways to band-aid the situation for 
DTMF as a point solution, but it's not obvious that all the problems can 
be worked around. No one has even put enough thought into the issues to 
put together an internet-draft describing an INFO DTMF solution (at 
least, as far as I can recall). (n.b.: I'm not encouraging such a draft; 
I'm just saying that proponents of what you're proposing has been 
profoundly apathetic about it for nearly a decade).

However, the problems with INFO in general -- that is, when looking at 
the problem without DTMF blinders on -- are intractable without some 
kind of explicit indication of intended meaning. And, at the risk of 
sounding like a broken record, intended meaning should be conveyed by 
method type; that's what the method type is for.

>> To be clear: I don't really care much whether we come up with INFO
>> packages or whether we formally deprecate INFO, but the current
>> situation is untenable.
>>     
>
> I guess that's the $64k question: is the current situation untenable?  If we
> think rfc2833 will ultimately become ubiquitous and address the application
> needs, then we don't need to worry about this.

Again, this isn't solely about DTMF. It's about INFO. The underlying 
problem is that INFO doesn't mean anything, and overloading Content-Type 
in an attempt to give it meaning causes ambiguity.


/a


_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Wed Sep 26 14:59:59 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1Iac5a-0005gp-HJ; Wed, 26 Sep 2007 14:58:26 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1Iac5Z-0005f5-53
	for sip-confirm+ok@megatron.ietf.org; Wed, 26 Sep 2007 14:58:25 -0400
Received: from [10.91.34.44] (helo=ietf-mx.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1Iac5Y-0005es-Rb
	for sip@ietf.org; Wed, 26 Sep 2007 14:58:24 -0400
Received: from nylon.softarmor.com ([66.135.38.164])
	by ietf-mx.ietf.org with esmtp (Exim 4.43) id 1Iac5S-0004Sw-LR
	for sip@ietf.org; Wed, 26 Sep 2007 14:58:24 -0400
Received: from [206.176.144.212] (206-176-144-212.waymark.net
	[206.176.144.212]) (authenticated bits=0)
	by nylon.softarmor.com (8.13.8/8.13.8/Debian-3) with ESMTP id
	l8QIvoAk025762
	(version=TLSv1/SSLv3 cipher=AES128-SHA bits=128 verify=NOT);
	Wed, 26 Sep 2007 13:57:52 -0500
In-Reply-To: <01cc01c80051$77a879a0$640fa8c0@cis.neustar.com>
References: <OF665FF40A.3E41693D-ON85257361.006B4E44-85257361.006BA688@csc.com>
	<2A5813B8-524A-4587-ADF1-B84255AE234C@softarmor.com>
	<01cc01c80051$77a879a0$640fa8c0@cis.neustar.com>
Mime-Version: 1.0 (Apple Message framework v752.3)
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <C2466B7D-F703-4372-8E4C-E3CA994B2D4B@softarmor.com>
Content-Transfer-Encoding: 7bit
From: Dean Willis <dean.willis@softarmor.com>
Subject: Re: [Sip] What does draft-polk-sip-rph-in-responses-00 get us?
	Isthat	what we want?
Date: Wed, 26 Sep 2007 13:57:35 -0500
To: Brian Rosen <br@brianrosen.net>
X-Mailer: Apple Mail (2.752.3)
X-Spam-Score: 0.0 (/)
X-Scan-Signature: cab78e1e39c4b328567edb48482b6a69
Cc: 'IETF SIP List' <sip@ietf.org>, 'Janet P Gunn' <jgunn6@csc.com>
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org


On Sep 26, 2007, at 10:25 AM, Brian Rosen wrote:

> Yeah, but I think you are starting with an incorrect assumption  
> that if you
> improve the average response, you will get a better global result.   
> The
> assumption usually made in these systems is that the network is  
> horribly
> overloaded; nearly all low priority messages are timing out and the  
> system
> is choked.  You are way past the point where anything like what you  
> are
> talking about can help.

Perhaps. But if you have to receive, enqueue, and parse the messages  
to find out they have high priority or not, and if that's a  
substantial part of the workload, and NOT forwarding the low-priority  
responses is going to dramatically increase your workload (due to  
cascade), then you gain nothing and lose much by using RPH to  
prioritize responses. This needs to be tied to some lower-layer  
mechanism (like a diffserv marking) that can allow for discard  
without so much parsing.

Or it needs to be tied to a pushback "congestion notification" kind  
of approach, and we have SIP set up with no way to push back against  
responses, just against requests. So if a proxy is having to discard  
a response because of congestion, the proxy needs to inform the  
sender of the request that generated the response to back off.

Perhaps a proxy could MODIFY a response, turning it into a terminal  
"retry after" or something like that. Of course, then it wouldn't be  
a proxy -- it would be a B2BUA.

Maybe a header that says "I don't care if this looks like a 200 OK,  
but some proxy in the path has decided an overload applies, so  
abandon this request and don't retry" would work, but then we're in  
the middle-to-end authentication realm, and that's a mess all on its  
own.

Nope, I think SIP is just set up where trying to prioritize responses  
doesn't work.

--
Dean


_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Wed Sep 26 15:25:46 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1IacRC-0004mf-47; Wed, 26 Sep 2007 15:20:46 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1IacRB-0004ja-2t
	for sip-confirm+ok@megatron.ietf.org; Wed, 26 Sep 2007 15:20:45 -0400
Received: from [10.91.34.44] (helo=ietf-mx.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1IacRA-0004Xf-OX
	for sip@ietf.org; Wed, 26 Sep 2007 15:20:44 -0400
Received: from mail130.messagelabs.com ([216.82.250.163])
	by ietf-mx.ietf.org with smtp (Exim 4.43) id 1IacQy-0005kD-Qb
	for sip@ietf.org; Wed, 26 Sep 2007 15:20:39 -0400
X-VirusChecked: Checked
X-Env-Sender: jgunn6@csc.com
X-Msg-Ref: server-13.tower-130.messagelabs.com!1190834403!434747!1
X-StarScan-Version: 5.5.12.14.2; banners=-,-,-
X-Originating-IP: [20.137.52.151]
Received: (qmail 27986 invoked from network); 26 Sep 2007 19:20:03 -0000
Received: from amer-mta07.csc.com (HELO amer-mta07.csc.com) (20.137.52.151)
	by server-13.tower-130.messagelabs.com with AES256-SHA encrypted SMTP;
	26 Sep 2007 19:20:03 -0000
Received: from amer-gw09.amer.csc.com (amer-gw09.amer.csc.com [20.6.39.245])
	by amer-mta07.csc.com (Switch-3.1.6/Switch-3.1.7) with ESMTP id
	l8QJKNbL008743
	for <sip@ietf.org>; Wed, 26 Sep 2007 15:20:24 -0400 (EDT)
In-Reply-To: <C2466B7D-F703-4372-8E4C-E3CA994B2D4B@softarmor.com>
To: Dean Willis <dean.willis@softarmor.com>
Subject: Re: [Sip] What does draft-polk-sip-rph-in-responses-00 get us?
	Isthat	what we want?
MIME-Version: 1.0
X-Mailer: Lotus Notes 652HF83 November 04, 2004
From: Janet P Gunn <jgunn6@csc.com>
Message-ID: <OFCEF5A335.F0DB0579-ON85257362.006A119F-85257362.006A32D3@csc.com>
Date: Wed, 26 Sep 2007 15:19:58 -0400
X-MIMETrack: Serialize by Router on AMER-GW09/SRV/CSC(Release 7.0.2FP1
	HF180|March 29, 2007) at 09/26/2007 03:18:36 PM,
	Serialize complete at 09/26/2007 03:18:36 PM
X-Spam-Score: 0.0 (/)
X-Scan-Signature: 82c9bddb247d9ba4471160a9a865a5f3
Cc: 'IETF SIP List' <sip@ietf.org>
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: multipart/mixed; boundary="===============0996843638=="
Errors-To: sip-bounces@ietf.org

This is a multipart message in MIME format.
--===============0996843638==
Content-Type: multipart/alternative;
	boundary="=_alternative 006A315F85257362_="

This is a multipart message in MIME format.
--=_alternative 006A315F85257362_=
Content-Type: text/plain; charset="US-ASCII"

--


Dean Willis <dean.willis@softarmor.com> wrote on 09/26/2007 02:57:35 PM:


> Perhaps. But if you have to receive, enqueue, and parse the messages 
> to find out they have high priority or not, and if that's a 
> substantial part of the workload, and NOT forwarding the low-priority 
> responses is going to dramatically increase your workload (due to 
> cascade), then you gain nothing and lose much by using RPH to 
> prioritize responses. This needs to be tied to some lower-layer 
> mechanism (like a diffserv marking) that can allow for discard 
> without so much parsing.
> 
I would like to hear more on this approach.
 
> --
> Dean

--=_alternative 006A315F85257362_=
Content-Type: text/html; charset="US-ASCII"


<br><font size=2 face="sans-serif"><br>
<br>
<br>
--<br>
</font>
<br>
<br><font size=2><tt>Dean Willis &lt;dean.willis@softarmor.com&gt; wrote
on 09/26/2007 02:57:35 PM:<br>
<br>
<br>
&gt; Perhaps. But if you have to receive, enqueue, and parse the messages
&nbsp;<br>
&gt; to find out they have high priority or not, and if that's a &nbsp;<br>
&gt; substantial part of the workload, and NOT forwarding the low-priority
&nbsp;<br>
&gt; responses is going to dramatically increase your workload (due to
&nbsp;<br>
&gt; cascade), then you gain nothing and lose much by using RPH to &nbsp;<br>
&gt; prioritize responses. This needs to be tied to some lower-layer &nbsp;<br>
&gt; mechanism (like a diffserv marking) that can allow for discard &nbsp;<br>
&gt; without so much parsing.<br>
&gt; </tt></font>
<br><font size=2><tt>I would like to hear more on this approach.</tt></font>
<br><font size=2><tt>&nbsp;<br>
&gt; --<br>
&gt; Dean<br>
</tt></font>
--=_alternative 006A315F85257362_=--



--===============0996843638==
Content-Type: text/plain; charset="us-ascii"
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip
--===============0996843638==--





From sip-bounces@ietf.org Wed Sep 26 16:03:27 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1Iad1Q-00067C-Kg; Wed, 26 Sep 2007 15:58:12 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1Iad1N-00060B-Sz
	for sip-confirm+ok@megatron.ietf.org; Wed, 26 Sep 2007 15:58:09 -0400
Received: from [10.90.34.44] (helo=chiedprmail1.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1Iad1N-0005yA-H3
	for sip@ietf.org; Wed, 26 Sep 2007 15:58:09 -0400
Received: from nylon.softarmor.com ([66.135.38.164])
	by chiedprmail1.ietf.org with esmtp (Exim 4.43) id 1Iad1K-0005b5-U6
	for sip@ietf.org; Wed, 26 Sep 2007 15:58:07 -0400
Received: from [206.176.144.212] (206-176-144-212.waymark.net
	[206.176.144.212]) (authenticated bits=0)
	by nylon.softarmor.com (8.13.8/8.13.8/Debian-3) with ESMTP id
	l8QJvmCn026465
	(version=TLSv1/SSLv3 cipher=AES128-SHA bits=128 verify=NOT);
	Wed, 26 Sep 2007 14:57:51 -0500
In-Reply-To: <OFCEF5A335.F0DB0579-ON85257362.006A119F-85257362.006A32D3@csc.com>
References: <OFCEF5A335.F0DB0579-ON85257362.006A119F-85257362.006A32D3@csc.com>
Mime-Version: 1.0 (Apple Message framework v752.3)
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <32B0AE8B-C3A1-4869-81C3-150BEC48AFE2@softarmor.com>
Content-Transfer-Encoding: 7bit
From: Dean Willis <dean.willis@softarmor.com>
Subject: Re: [Sip] What does draft-polk-sip-rph-in-responses-00 get us?
	Isthat	what we want?
Date: Wed, 26 Sep 2007 14:57:33 -0500
To: Janet P Gunn <jgunn6@csc.com>
X-Mailer: Apple Mail (2.752.3)
X-Spam-Score: 0.0 (/)
X-Scan-Signature: 25620135586de10c627e3628c432b04a
Cc: 'IETF SIP List' <sip@ietf.org>
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org


On Sep 26, 2007, at 2:19 PM, Janet P Gunn wrote:
>
> > Perhaps. But if you have to receive, enqueue, and parse the messages
> > to find out they have high priority or not, and if that's a
> > substantial part of the workload, and NOT forwarding the low- 
> priority
> > responses is going to dramatically increase your workload (due to
> > cascade), then you gain nothing and lose much by using RPH to
> > prioritize responses. This needs to be tied to some lower-layer
> > mechanism (like a diffserv marking) that can allow for discard
> > without so much parsing.
> >
> I would like to hear more on this approach.
>

Well, I'm no expert on diffserv . . .

But it seems to me that if we diffserv-marked SIP messages in a  
manner that correlates to the RPH value, then a SIP forwarding  
element (aka proxy) could discard or defer those messages based on an  
examination of the diffserv marking (which is in a relatively fixed  
location in the packet) without having to text-parse the whole SIP  
message. Since the main threat of the cascade is the increased CPU  
load for parsing the retransmitted lower-priority messages, we could  
ostensibly gain a large (several orders of magnitude, IMHO) increase  
in performance.

This would seem to only work for SIP over connectionless datagram  
transports. If multiple priority levels were to be muxed on a single  
TCP connection, then it wouldn't work.

I believe others have suggested using different ports or different  
shared connections for each priority level as a means to work around  
this limitation.

Let's go back to the basic mechanics of cascade failure:

1) It takes a reasonably large amount of time to parse a SIP message  
and decide what to do with it.

2) Discarding messages (as opposed to pushing back on the sender)  
cause the requests to be retransmitted. And we can only push back on  
requests, not responses.

3) If the message arrival rate is such that the processor cannot  
parse its way through the queue to reach a high-priority message  
before the timers on that high-priority message expire, then the  
transaction that created that high-priority message will time out and  
re-send the message, moving it to the back of the queue.  
Consequently, the high-priority transaction will never complete.

4) Once we hit this sort of stage, we're gridlocked and NO  
transactions will complete until the message arrival rate drops. If  
the pool of participants is constant, then SIP's backoff timers will  
eventually reduce the arrival rate. However, large-scale crises tend  
to induce a ramping-up of the participant pool, thereby continually  
increasing message arrival rates. Failure of communication tends to  
induce even more attempts at communication, until the back-off timers  
in the human psyche kick in, and they're pretty darned slow. We could  
stay gridlocked for hours or days.

Consequently, I'd argue that it is not effective to discard responses  
UNLESS there is also a mechanism to push back against further  
requests AND a mechanism for discarding new requests (first and  
second level overload controls), and that discarding responses can  
only be effective if this discard can be done without the penalty of  
parsing the request. Once the response has been parsed, discarding it  
is likely do more harm to the system load level than processing it  
will, because each discard of a response (absent a pushback on new  
requests) simply assures that a new request will be sent.

--
Dean


_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Wed Sep 26 16:36:28 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1IadaF-0003pI-F8; Wed, 26 Sep 2007 16:34:11 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1IadaD-0003XN-7Q
	for sip-confirm+ok@megatron.ietf.org; Wed, 26 Sep 2007 16:34:09 -0400
Received: from [10.90.34.44] (helo=chiedprmail1.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1IadaC-000368-Ay
	for sip@ietf.org; Wed, 26 Sep 2007 16:34:08 -0400
Received: from host10.216.41.24.conversent.net ([216.41.24.10]
	helo=acmepacket.com) by chiedprmail1.ietf.org with esmtp (Exim 4.43)
	id 1Iada9-00072u-Rd for sip@ietf.org; Wed, 26 Sep 2007 16:34:06 -0400
Received: from hkaplan [10.0.200.241] by acmepacket.com with ESMTP
	(SMTPD-9.10) id A23D02F4; Wed, 26 Sep 2007 16:34:05 -0400
From: "Hadriel Kaplan" <HKaplan@acmepacket.com>
To: "'Adam Roach'" <adam@nostrum.com>
References: <6FC4416DDE56C44DA0AEE67BC7CA437116A57D59@zrc2hxm2.corp.nortel.com>	<C3184CEC.B881%eburger@bea.com><6FC4416DDE56C44DA0AEE67BC7CA437116DFF008@zrc2hxm2.corp.nortel.com>
	<46F7D719.2070004@nostrum.com>
	<0a5401c8005c$a80fad10$800101df@acmepacket.com>
	<46FAA68A.1090408@nostrum.com>
Subject: RE: [Sip] INFO
Date: Wed, 26 Sep 2007 16:34:05 -0400
Message-ID: <0af301c8007c$94d37590$800101df@acmepacket.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook 11
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2900.3138
thread-index: AcgAbBF+iHkD+uuxQhiSxlDQrAOEOAAA1xpg
In-Reply-To: <46FAA68A.1090408@nostrum.com>
X-Spam-Score: 0.0 (/)
X-Scan-Signature: 4d87d2aa806f79fed918a62e834505ca
Cc: sip@ietf.org, 'Brian Stucker' <bstucker@nortel.com>
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org



> -----Original Message-----
> From: Adam Roach [mailto:adam@nostrum.com]
> Sent: Wednesday, September 26, 2007 2:36 PM
> 
> "INFO" means... well... it doesn't mean *ANY*thing. It means "here's
> some stuff, now you guess what you're supposed to do with it." So, it is
> conceivable that INFO could carry content that describes a session, or
> contains renderable content (DTMF!), or describes the state of a
> resource. Because these content types necessarily make sense in the
> context of other methods that may be supported, it is impossible to tell
> whether they make sense in an INFO. So, if a UA advertises support for
> INFO and for "image/jpeg", it's not as clear whether they support them
> in conjunction with each other. Maybe you think you can use this to
> update your user icon in my buddy list... maybe it's just there because
> I can receive them in MESSAGE requests. It's impossible to tell, because
> INFO *has* *no* *inherent* *meaning*. In theory, every MIME type
> imaginable "makes sense" in an INFO.

Well, the way I read the INFO rfc would make application/sdp inappropriate
for INFO.  But there's no question it's a catch-all method.  But that's the
*point* of INFO I thought - it was going to leave the semantics up to future
headers or bodies to define.  But it did not have the full notion of event
packages.


> However, the problems with INFO in general -- that is, when looking at
> the problem without DTMF blinders on -- are intractable without some
> kind of explicit indication of intended meaning. And, at the risk of
> sounding like a broken record, intended meaning should be conveyed by
> method type; that's what the method type is for.

But it is and it isn't.  I send you an Invite because I want to create a
session with you, but the type of session is in the body.  I Subscribe for
event/state change information from you, but the details about what-for are
in the event package.  Subscribe as a method doesn't tell you squat really.
So I want to send you Info relating to a session but the details about what
info are in the content-type.  Now I agree that content-type is really not
the appropriate header for such generically, specifically because it
describes the body content, which may be ambiguous with usage of the body.
"application/dtmf" I do NOT think is ambiguous, but "image/jpeg" sure would
be.

But I think that is something that could be standardized away if we needed
to.  One way could be to define an Event package type model for it.  One
could argue Info is essentially a Notify, except in a subscription
implicitly created by, and tied to the dialog from, an Invite.

-hadriel




_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Wed Sep 26 16:55:20 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1IadsE-0007vH-6q; Wed, 26 Sep 2007 16:52:46 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1IadsC-0007u3-T6
	for sip-confirm+ok@megatron.ietf.org; Wed, 26 Sep 2007 16:52:44 -0400
Received: from [10.90.34.44] (helo=chiedprmail1.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1IadsC-0007tn-Ia
	for sip@ietf.org; Wed, 26 Sep 2007 16:52:44 -0400
Received: from shaman.nostrum.com ([72.232.15.10] helo=nostrum.com)
	by chiedprmail1.ietf.org with esmtp (Exim 4.43) id 1IadsC-0007lH-7X
	for sip@ietf.org; Wed, 26 Sep 2007 16:52:44 -0400
Received: from orthrus.local (vicuna-alt.estacado.net [75.53.54.121])
	(authenticated bits=0)
	by nostrum.com (8.14.1/8.14.1) with ESMTP id l8QKqgKK022387
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO);
	Wed, 26 Sep 2007 15:52:42 -0500 (CDT)
	(envelope-from adam@nostrum.com)
Message-ID: <46FAC69C.4070402@nostrum.com>
Date: Wed, 26 Sep 2007 15:52:44 -0500
From: Adam Roach <adam@nostrum.com>
User-Agent: Thunderbird 2.0.0.6 (Macintosh/20070728)
MIME-Version: 1.0
To: Hadriel Kaplan <HKaplan@acmepacket.com>
Subject: Re: [Sip] INFO
References: <6FC4416DDE56C44DA0AEE67BC7CA437116A57D59@zrc2hxm2.corp.nortel.com>	<C3184CEC.B881%eburger@bea.com><6FC4416DDE56C44DA0AEE67BC7CA437116DFF008@zrc2hxm2.corp.nortel.com>
	<46F7D719.2070004@nostrum.com>
	<0a5401c8005c$a80fad10$800101df@acmepacket.com>
	<46FAA68A.1090408@nostrum.com>
	<0af301c8007c$94d37590$800101df@acmepacket.com>
In-Reply-To: <0af301c8007c$94d37590$800101df@acmepacket.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Received-SPF: pass (nostrum.com: 75.53.54.121 is authenticated by a trusted
	mechanism)
X-Virus-Scanned: ClamAV 0.91.2/4409/Wed Sep 26 15:17:09 2007 on
	shaman.nostrum.com
X-Virus-Status: Clean
X-Spam-Score: 0.0 (/)
X-Scan-Signature: ffa9dfbbe7cc58b3fa6b8ae3e57b0aa3
Cc: sip@ietf.org, 'Brian Stucker' <bstucker@nortel.com>
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

On 9/26/07 3:34 PM, Hadriel Kaplan wrote:
> So I want to send you Info relating to a session but the details about what
> info are in the content-type.  Now I agree that content-type is really not
> the appropriate header for such generically, specifically because it
> describes the body content, which may be ambiguous with usage of the body.
>   

Thank you! That's the key point I'm trying to make.

> One
> could argue Info is essentially a Notify, except in a subscription
> implicitly created by, and tied to the dialog from, an Invite.
>   

Now you're just *trying* to push my buttons. :)

There are certain predictable objections that I would raise to such a 
characterization; take them as given.

The key point here is that NOTIFY will inherently be associated with an 
event package, which provides enough information for the recipient to 
know what to do with the body. INFO, lacking such information, is 
ambiguous. And, as before, the hardest problem isn't interpreting what 
is sent to you; it is indicating what *can* be sent to you.

/a


_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Wed Sep 26 17:01:15 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1Iadxw-00017u-S3; Wed, 26 Sep 2007 16:58:40 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1Iadxw-00017A-2s
	for sip-confirm+ok@megatron.ietf.org; Wed, 26 Sep 2007 16:58:40 -0400
Received: from [10.90.34.44] (helo=chiedprmail1.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1Iadxv-00016Z-NO
	for sip@ietf.org; Wed, 26 Sep 2007 16:58:39 -0400
Received: from ebru.winwebhosting.com ([74.52.236.50])
	by chiedprmail1.ietf.org with esmtp (Exim 4.43) id 1Iadxv-0007sY-0k
	for sip@ietf.org; Wed, 26 Sep 2007 16:58:39 -0400
Received: from [209.173.53.233] (helo=BROSLT41xp)
	by ebru.winwebhosting.com with esmtpa (Exim 4.68)
	(envelope-from <br@brianrosen.net>)
	id 1Iadxf-0005sD-JR; Wed, 26 Sep 2007 15:58:23 -0500
From: "Brian Rosen" <br@brianrosen.net>
To: "'Dean Willis'" <dean.willis@softarmor.com>,
	"'Janet P Gunn'" <jgunn6@csc.com>
References: <OFCEF5A335.F0DB0579-ON85257362.006A119F-85257362.006A32D3@csc.com>
	<32B0AE8B-C3A1-4869-81C3-150BEC48AFE2@softarmor.com>
Subject: RE: [Sip] What does draft-polk-sip-rph-in-responses-00 get us?
	Isthat	what we want?
Date: Wed, 26 Sep 2007 16:58:33 -0400
Message-ID: <02c001c80080$01a7b0c0$640fa8c0@cis.neustar.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook 11
In-Reply-To: <32B0AE8B-C3A1-4869-81C3-150BEC48AFE2@softarmor.com>
Thread-Index: AcgAd4OoTfPUAkCwQeeNJ5Kklh2//AABtagw
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.3028
X-AntiAbuse: This header was added to track abuse,
	please include it with any abuse report
X-AntiAbuse: Primary Hostname - ebru.winwebhosting.com
X-AntiAbuse: Original Domain - ietf.org
X-AntiAbuse: Originator/Caller UID/GID - [47 12] / [47 12]
X-AntiAbuse: Sender Address Domain - brianrosen.net
X-Source: 
X-Source-Args: 
X-Source-Dir: 
X-Spam-Score: 0.0 (/)
X-Scan-Signature: 944ecb6e61f753561f559a497458fb4f
Cc: 'IETF SIP List' <sip@ietf.org>
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

I think it may be true that a classical SIP stack used to build a plain old
stateless proxy server that doesn't do any work on a response other than
pass it along could have most, or at least a large part of the work in the
parsing of the messages and managing queues.

If however, you were building a proxy that was supposed to implement RPH in
the face of the kinds of problems we are talking about, I think your
assumption would not hold.  For example, you can trivially parse requests
from responses, and you can with a little more work find those with an RPH
or a facsimile thereof.  The amount of work needed for that is small
compared to the entire processing time of a response.

Once separating requests from responses and non priority from priority is a
small part of the processing, then your subsequent arguments don't hold.

In any system, the packet arrival rate ultimately limits what you can
handle.  I think DiffServ marking helps any form of priority system.  At
some rate of message arrival, the trivial parsing I'm thinking about will
fail, although I suspect it will be packet handling that chews up the CPU
and not the parsing and sorting.

Brian


> -----Original Message-----
> From: Dean Willis [mailto:dean.willis@softarmor.com]
> Sent: Wednesday, September 26, 2007 3:58 PM
> To: Janet P Gunn
> Cc: Brian Rosen; 'IETF SIP List'
> Subject: Re: [Sip] What does draft-polk-sip-rph-in-responses-00 get us?
> Isthat what we want?
> 
> 
> On Sep 26, 2007, at 2:19 PM, Janet P Gunn wrote:
> >
> > > Perhaps. But if you have to receive, enqueue, and parse the messages
> > > to find out they have high priority or not, and if that's a
> > > substantial part of the workload, and NOT forwarding the low-
> > priority
> > > responses is going to dramatically increase your workload (due to
> > > cascade), then you gain nothing and lose much by using RPH to
> > > prioritize responses. This needs to be tied to some lower-layer
> > > mechanism (like a diffserv marking) that can allow for discard
> > > without so much parsing.
> > >
> > I would like to hear more on this approach.
> >
> 
> Well, I'm no expert on diffserv . . .
> 
> But it seems to me that if we diffserv-marked SIP messages in a
> manner that correlates to the RPH value, then a SIP forwarding
> element (aka proxy) could discard or defer those messages based on an
> examination of the diffserv marking (which is in a relatively fixed
> location in the packet) without having to text-parse the whole SIP
> message. Since the main threat of the cascade is the increased CPU
> load for parsing the retransmitted lower-priority messages, we could
> ostensibly gain a large (several orders of magnitude, IMHO) increase
> in performance.
> 
> This would seem to only work for SIP over connectionless datagram
> transports. If multiple priority levels were to be muxed on a single
> TCP connection, then it wouldn't work.
> 
> I believe others have suggested using different ports or different
> shared connections for each priority level as a means to work around
> this limitation.
> 
> Let's go back to the basic mechanics of cascade failure:
> 
> 1) It takes a reasonably large amount of time to parse a SIP message
> and decide what to do with it.
> 
> 2) Discarding messages (as opposed to pushing back on the sender)
> cause the requests to be retransmitted. And we can only push back on
> requests, not responses.
> 
> 3) If the message arrival rate is such that the processor cannot
> parse its way through the queue to reach a high-priority message
> before the timers on that high-priority message expire, then the
> transaction that created that high-priority message will time out and
> re-send the message, moving it to the back of the queue.
> Consequently, the high-priority transaction will never complete.
> 
> 4) Once we hit this sort of stage, we're gridlocked and NO
> transactions will complete until the message arrival rate drops. If
> the pool of participants is constant, then SIP's backoff timers will
> eventually reduce the arrival rate. However, large-scale crises tend
> to induce a ramping-up of the participant pool, thereby continually
> increasing message arrival rates. Failure of communication tends to
> induce even more attempts at communication, until the back-off timers
> in the human psyche kick in, and they're pretty darned slow. We could
> stay gridlocked for hours or days.
> 
> Consequently, I'd argue that it is not effective to discard responses
> UNLESS there is also a mechanism to push back against further
> requests AND a mechanism for discarding new requests (first and
> second level overload controls), and that discarding responses can
> only be effective if this discard can be done without the penalty of
> parsing the request. Once the response has been parsed, discarding it
> is likely do more harm to the system load level than processing it
> will, because each discard of a response (absent a pushback on new
> requests) simply assures that a new request will be sent.
> 
> --
> Dean



_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Wed Sep 26 18:42:56 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1IafUj-0002bh-7s; Wed, 26 Sep 2007 18:36:37 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1IafUg-0002Ya-Vy
	for sip-confirm+ok@megatron.ietf.org; Wed, 26 Sep 2007 18:36:35 -0400
Received: from [10.91.34.44] (helo=ietf-mx.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1IafUg-0002Xt-MA
	for sip@ietf.org; Wed, 26 Sep 2007 18:36:34 -0400
Received: from zrtps0kn.nortel.com ([47.140.192.55])
	by ietf-mx.ietf.org with esmtp (Exim 4.43) id 1IafUa-0002jE-HE
	for sip@ietf.org; Wed, 26 Sep 2007 18:36:34 -0400
Received: from zrc2hxm2.corp.nortel.com (zrc2hxm2.corp.nortel.com
	[47.103.123.73])
	by zrtps0kn.nortel.com (Switch-2.2.6/Switch-2.2.0) with ESMTP id
	l8QMa2V01478; Wed, 26 Sep 2007 22:36:02 GMT
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: [Sip] INFO
Date: Wed, 26 Sep 2007 17:35:32 -0500
Message-ID: <6FC4416DDE56C44DA0AEE67BC7CA437116FF8169@zrc2hxm2.corp.nortel.com>
In-Reply-To: <46FAC69C.4070402@nostrum.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] INFO
Thread-Index: AcgAfzG/5uo2ircBRFud92IcVqdU2QADUmbg
References: <6FC4416DDE56C44DA0AEE67BC7CA437116A57D59@zrc2hxm2.corp.nortel.com>
	<C3184CEC.B881%eburger@bea.com><6FC4416DDE56C44DA0AEE67BC7CA437116DFF008@zrc2hxm2.corp.nortel.com>
	<46F7D719.2070004@nostrum.com>
	<0a5401c8005c$a80fad10$800101df@acmepacket.com>
	<46FAA68A.1090408@nostrum.com>
	<0af301c8007c$94d37590$800101df@acmepacket.com>
	<46FAC69C.4070402@nostrum.com>
From: "Brian Stucker" <bstucker@nortel.com>
To: "Adam Roach" <adam@nostrum.com>, "Hadriel Kaplan" <HKaplan@acmepacket.com>
X-Spam-Score: 0.0 (/)
X-Scan-Signature: f607d15ccc2bc4eaf3ade8ffa8af02a0
Cc: sip@ietf.org
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

=20

> -----Original Message-----
> From: Adam Roach [mailto:adam@nostrum.com]=20
> Sent: Wednesday, September 26, 2007 3:53 PM
> To: Hadriel Kaplan
> Cc: Stucker, Brian (RICH1:AR00); sip@ietf.org
> Subject: Re: [Sip] INFO
>=20
> On 9/26/07 3:34 PM, Hadriel Kaplan wrote:
> > So I want to send you Info relating to a session but the=20
> details about=20
> > what info are in the content-type.  Now I agree that=20
> content-type is=20
> > really not the appropriate header for such generically,=20
> specifically=20
> > because it describes the body content, which may be=20
> ambiguous with usage of the body.
> >  =20
>=20
> Thank you! That's the key point I'm trying to make.

And I agree with your key point then if this is what you were trying to
draw out earlier to me.
>=20
> > One
> > could argue Info is essentially a Notify, except in a subscription=20
> > implicitly created by, and tied to the dialog from, an Invite.
> >  =20
>=20
> Now you're just *trying* to push my buttons. :)
>=20
> There are certain predictable objections that I would raise=20
> to such a characterization; take them as given.

Noted.

>=20
> The key point here is that NOTIFY will inherently be=20
> associated with an event package, which provides enough=20
> information for the recipient to know what to do with the=20
> body. INFO, lacking such information, is ambiguous. And, as=20
> before, the hardest problem isn't interpreting what is sent=20
> to you; it is indicating what *can* be sent to you.

Yes, INFO is different in that respect from NOTIFY. You don't expect a
NOTIFY for something you never explicitly sent a request for that scoped
it to an event package...except REFER. But the semantics of REFER are
such that it's implied.

I think the key point being made on the other side is that there's
nothing special about an event package. It is an identifier that
disambiguates the NOTIFY. In some cases other header values could serve
the same purpose (i.e. content-type w/ DTMF).=20



>=20
> /a
>=20


_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Wed Sep 26 18:52:34 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1Iafi4-0007WJ-Kw; Wed, 26 Sep 2007 18:50:24 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1Iafi3-0007TT-Lq
	for sip-confirm+ok@megatron.ietf.org; Wed, 26 Sep 2007 18:50:23 -0400
Received: from [10.90.34.44] (helo=chiedprmail1.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1Iafi3-0007TL-Bd
	for sip@ietf.org; Wed, 26 Sep 2007 18:50:23 -0400
Received: from shaman.nostrum.com ([72.232.15.10] helo=nostrum.com)
	by chiedprmail1.ietf.org with esmtp (Exim 4.43) id 1Iafi2-00028h-WF
	for sip@ietf.org; Wed, 26 Sep 2007 18:50:23 -0400
Received: from orthrus.local (vicuna-alt.estacado.net [75.53.54.121])
	(authenticated bits=0)
	by nostrum.com (8.14.1/8.14.1) with ESMTP id l8QMoLxR028306
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO);
	Wed, 26 Sep 2007 17:50:21 -0500 (CDT)
	(envelope-from adam@nostrum.com)
Message-ID: <46FAE230.1070807@nostrum.com>
Date: Wed, 26 Sep 2007 17:50:24 -0500
From: Adam Roach <adam@nostrum.com>
User-Agent: Thunderbird 2.0.0.6 (Macintosh/20070728)
MIME-Version: 1.0
To: Brian Stucker <bstucker@nortel.com>
Subject: Re: [Sip] INFO
References: <6FC4416DDE56C44DA0AEE67BC7CA437116A57D59@zrc2hxm2.corp.nortel.com>
	<C3184CEC.B881%eburger@bea.com><6FC4416DDE56C44DA0AEE67BC7CA437116DFF008@zrc2hxm2.corp.nortel.com>
	<46F7D719.2070004@nostrum.com>
	<0a5401c8005c$a80fad10$800101df@acmepacket.com>
	<46FAA68A.1090408@nostrum.com>
	<0af301c8007c$94d37590$800101df@acmepacket.com>
	<46FAC69C.4070402@nostrum.com>
	<6FC4416DDE56C44DA0AEE67BC7CA437116FF8169@zrc2hxm2.corp.nortel.com>
In-Reply-To: <6FC4416DDE56C44DA0AEE67BC7CA437116FF8169@zrc2hxm2.corp.nortel.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Received-SPF: pass (nostrum.com: 75.53.54.121 is authenticated by a trusted
	mechanism)
X-Virus-Scanned: ClamAV 0.91.2/4411/Wed Sep 26 16:43:35 2007 on
	shaman.nostrum.com
X-Virus-Status: Clean
X-Spam-Score: 0.0 (/)
X-Scan-Signature: ffa9dfbbe7cc58b3fa6b8ae3e57b0aa3
Cc: sip@ietf.org
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

On 9/26/07 5:35 PM, Brian Stucker wrote:
> I think the key point being made on the other side is that there's
> nothing special about an event package. It is an identifier that
> disambiguates the NOTIFY. In some cases other header values could serve
> the same purpose (i.e. content-type w/ DTMF). 
>   

But that's a point solution that puts a band-aid on INFO for precisely 
one use case and leaves it broken for others. It doesn't scale to other 
uses for INFO.

That points to really only two sane approaches: either (a) come up with 
an unambiguous differentiator for various INFO usages (in the style of 
event packages), or (b) grandfather current approaches (band-aids and 
all) and forbid any other applications of INFO.

Eric's document basically takes the second approach, grandfathering all 
uses of INFO that are currently published in an RFC or an active 
internet-draft, and forbidding any others. The list is not long; I'll 
replicate it here:

  1. RFC 3372

You want more than that, you really need packages.

/a


_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Wed Sep 26 21:59:44 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1Iaic2-0008Pd-PF; Wed, 26 Sep 2007 21:56:22 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1Iaic0-0008PG-V7
	for sip-confirm+ok@megatron.ietf.org; Wed, 26 Sep 2007 21:56:20 -0400
Received: from [10.90.34.44] (helo=chiedprmail1.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1Iaic0-0008P8-KN
	for sip@ietf.org; Wed, 26 Sep 2007 21:56:20 -0400
Received: from rtp-iport-1.cisco.com ([64.102.122.148])
	by chiedprmail1.ietf.org with esmtp (Exim 4.43) id 1Iaic0-0006cO-9c
	for sip@ietf.org; Wed, 26 Sep 2007 21:56:20 -0400
X-IronPort-AV: E=Sophos;i="4.21,200,1188792000"; d="scan'208";a="72235577"
Received: from rtp-dkim-2.cisco.com ([64.102.121.159])
	by rtp-iport-1.cisco.com with ESMTP; 26 Sep 2007 21:56:19 -0400
Received: from rtp-core-1.cisco.com (rtp-core-1.cisco.com [64.102.124.12])
	by rtp-dkim-2.cisco.com (8.12.11/8.12.11) with ESMTP id l8R1uJwl025640; 
	Wed, 26 Sep 2007 21:56:19 -0400
Received: from xbh-rtp-201.amer.cisco.com (xbh-rtp-201.cisco.com
	[64.102.31.12])
	by rtp-core-1.cisco.com (8.12.10/8.12.6) with ESMTP id l8R1uFPA014173; 
	Thu, 27 Sep 2007 01:56:15 GMT
Received: from xfe-rtp-201.amer.cisco.com ([64.102.31.38]) by
	xbh-rtp-201.amer.cisco.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Wed, 26 Sep 2007 21:55:39 -0400
Received: from [10.86.241.53] ([10.86.241.53]) by xfe-rtp-201.amer.cisco.com
	with Microsoft SMTPSVC(6.0.3790.1830); 
	Wed, 26 Sep 2007 21:55:38 -0400
Message-ID: <46FB0D96.4010907@cisco.com>
Date: Wed, 26 Sep 2007 21:55:34 -0400
From: Paul Kyzivat <pkyzivat@cisco.com>
User-Agent: Thunderbird 2.0.0.6 (Windows/20070728)
MIME-Version: 1.0
To: Hadriel Kaplan <HKaplan@acmepacket.com>
Subject: Re: [Sip] INFO
References: <6FC4416DDE56C44DA0AEE67BC7CA437116A57D59@zrc2hxm2.corp.nortel.com>	<C3184CEC.B881%eburger@bea.com><6FC4416DDE56C44DA0AEE67BC7CA437116DFF008@zrc2hxm2.corp.nortel.com>	<46F7D719.2070004@nostrum.com>
	<0a5401c8005c$a80fad10$800101df@acmepacket.com>
In-Reply-To: <0a5401c8005c$a80fad10$800101df@acmepacket.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-OriginalArrivalTime: 27 Sep 2007 01:55:38.0141 (UTC)
	FILETIME=[80430CD0:01C800A9]
DKIM-Signature: v=0.5; a=rsa-sha256; q=dns/txt; l=1956; t=1190858179;
	x=1191722179; c=relaxed/simple; s=rtpdkim2001;
	h=Content-Type:From:Subject:Content-Transfer-Encoding:MIME-Version;
	d=cisco.com; i=pkyzivat@cisco.com;
	z=From:=20Paul=20Kyzivat=20<pkyzivat@cisco.com>
	|Subject:=20Re=3A=20[Sip]=20INFO |Sender:=20
	|To:=20Hadriel=20Kaplan=20<HKaplan@acmepacket.com>;
	bh=fqaKBl8VFOlgM0nx86btU9lU32Cr0r1DdmxCMKYvYjA=;
	b=AQRw9EN12au1dQLf9RQyST5HcTPc3Zr6pEymFhyDclCJjMsUbbP9wCsNdkJMxok4oGdfl00s
	4LGdl3WUGhNvmC99tRA0BK4qezwNgPSc6gG2gIrbf94eZx5JUrHk3j0e;
Authentication-Results: rtp-dkim-2; header.From=pkyzivat@cisco.com; dkim=pass (
	sig from cisco.com/rtpdkim2001 verified; ); 
X-Spam-Score: 0.0 (/)
X-Scan-Signature: 7baded97d9887f7a0c7e8a33c2e3ea1b
Cc: sip@ietf.org, 'Adam Roach' <adam@nostrum.com>,
	'Brian Stucker' <bstucker@nortel.com>
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

First, I agree 100% with what Adam has said.

I just wanted to comment on one issue which is peripheral to the 
discussion of INFO but is directly relevant to the issue of semantics of 
sip messages in general.

Hadriel Kaplan wrote:

> I agree with you, but that problem already exists today.  There are plenty
> of cases where there are constraints on the combination of method+mime that
> cannot be described with Accept and Allow headers.  There are devices which
> won't accept Invites or re-Invites without application/sdp, and there are
> devices which don't accept Options with mime types they do accept Invites
> with, etc.  (You can call them broken I guess)  What does it mean for an
> application/sdp mime body to be in a Message method, or in a Bye?

To the last question, it first depends on what the Content-Disposition 
is. In spite of Gonzalo's draft on the subject, most people continue to 
ignore this. But it really needs to be a key part of decision about the 
semantics of message bodies.

If an application/sdp body has content-disposition of "session", and it 
is in an INVITE, UPDATE, PRACK, or responses to those, then it is the 
description of the session for this invite, subject to the offer/answer 
rules.

Note that the *default* content-disposition for a body of type 
application/sdp is "session" if it is found in one of the above 
contexts. Otherwise the normal default disposition of "render" applies.

So an application/sdp body without a content-disposition in a MESSAGE 
should be rendered. Of course there are issues of how or if it can be 
rendered, but that is what it should mean.

If you put an application/sdp body in a MESSAGE and explicitly specified 
a disposition of "session" then of course it shouldn't be rendered. 
There is no defined meaning for a body with disposition of session in a 
MESSAGE, so presumably it should be considered an error or ignored.

	Paul


_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Wed Sep 26 21:59:44 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1IaiYH-0001sS-7O; Wed, 26 Sep 2007 21:52:29 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1IaiYG-0001qM-19
	for sip-confirm+ok@megatron.ietf.org; Wed, 26 Sep 2007 21:52:28 -0400
Received: from [10.91.34.44] (helo=ietf-mx.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1IaiYF-0001qC-O0
	for sip@ietf.org; Wed, 26 Sep 2007 21:52:27 -0400
Received: from host10.216.41.24.conversent.net ([216.41.24.10]
	helo=acmepacket.com) by ietf-mx.ietf.org with esmtp (Exim 4.43)
	id 1IaiY8-0006y6-Eh for sip@ietf.org; Wed, 26 Sep 2007 21:52:25 -0400
Received: from hkaplan [75.68.59.21] by acmepacket.com with ESMTP
	(SMTPD-9.10) id ACC9037C; Wed, 26 Sep 2007 21:52:09 -0400
From: "Hadriel Kaplan" <HKaplan@acmepacket.com>
To: "'Adam Roach'" <adam@nostrum.com>
References: <6FC4416DDE56C44DA0AEE67BC7CA437116A57D59@zrc2hxm2.corp.nortel.com>	<C3184CEC.B881%eburger@bea.com><6FC4416DDE56C44DA0AEE67BC7CA437116DFF008@zrc2hxm2.corp.nortel.com>
	<46F7D719.2070004@nostrum.com>
	<0a5401c8005c$a80fad10$800101df@acmepacket.com>
	<46FAA68A.1090408@nostrum.com>
	<0af301c8007c$94d37590$800101df@acmepacket.com>
	<46FAC69C.4070402@nostrum.com>
Subject: RE: [Sip] INFO
Date: Wed, 26 Sep 2007 21:51:32 -0400
Message-ID: <0b4001c800a8$ee2f4480$800101df@acmepacket.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook 11
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2900.3138
thread-index: AcgAfy8IDXn+gQWKRKe7felNoT3wzAAAFKFA
In-Reply-To: <46FAC69C.4070402@nostrum.com>
X-Spam-Score: 0.0 (/)
X-Scan-Signature: 769a46790fb42fbb0b0cc700c82f7081
Cc: sip@ietf.org, 'Brian Stucker' <bstucker@nortel.com>
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org



> -----Original Message-----
> From: Adam Roach [mailto:adam@nostrum.com]
> Sent: Wednesday, September 26, 2007 4:53 PM
> To: Hadriel Kaplan
> Cc: 'Brian Stucker'; sip@ietf.org
> Subject: Re: [Sip] INFO
> 
> On 9/26/07 3:34 PM, Hadriel Kaplan wrote:
> > So I want to send you Info relating to a session but the details about
> what
> > info are in the content-type.  Now I agree that content-type is really
> not
> > the appropriate header for such generically, specifically because it
> > describes the body content, which may be ambiguous with usage of the
> body.
> >
> 
> Thank you! That's the key point I'm trying to make.

Ahh, but the key point I was trying to make is for the one use case I care
about, namely application/dtmf, it is not ambiguous.  It is no more
ambiguous than kpml.  The only ambiguity right now is I can't tell if you'll
accept it and want it.  That's a solvable problem. :)


> > One
> > could argue Info is essentially a Notify, except in a subscription
> > implicitly created by, and tied to the dialog from, an Invite.
> >
> 
> Now you're just *trying* to push my buttons. :)

dtmf buttons? :)  But, no, I wasn't trying to push your buttons.

 
> The key point here is that NOTIFY will inherently be associated with an
> event package, which provides enough information for the recipient to
> know what to do with the body. INFO, lacking such information, is
> ambiguous. And, as before, the hardest problem isn't interpreting what
> is sent to you; it is indicating what *can* be sent to you.

Sure, but we could (if we had to) define the same concept for INFO as
sub-not has in that regard.

-hadriel



_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Thu Sep 27 00:37:08 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1Ial1U-0006Lf-MC; Thu, 27 Sep 2007 00:30:48 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1Ial1S-0006IG-SX
	for sip-confirm+ok@megatron.ietf.org; Thu, 27 Sep 2007 00:30:46 -0400
Received: from [10.91.34.44] (helo=ietf-mx.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1Ial1S-000663-F2
	for sip@ietf.org; Thu, 27 Sep 2007 00:30:46 -0400
Received: from nostrum-pt.tunnel.tserv2.fmt.ipv6.he.net
	([2001:470:1f03:267::2] helo=nostrum.com)
	by ietf-mx.ietf.org with esmtp (Exim 4.43) id 1Ial1I-0001bI-14
	for sip@ietf.org; Thu, 27 Sep 2007 00:30:38 -0400
Received: from localhost.localdomain (ppp-70-242-124-197.dsl.rcsntx.swbell.net
	[70.242.124.197]) (authenticated bits=0)
	by nostrum.com (8.14.1/8.14.1) with ESMTP id l8R4U5DM044928
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO);
	Wed, 26 Sep 2007 23:30:08 -0500 (CDT)
	(envelope-from adam@nostrum.com)
Message-ID: <46FB31C8.2090203@nostrum.com>
Date: Wed, 26 Sep 2007 23:30:00 -0500
From: Adam Roach <adam@nostrum.com>
User-Agent: Thunderbird 2.0.0.0 (X11/20070326)
MIME-Version: 1.0
To: Hadriel Kaplan <HKaplan@acmepacket.com>
Subject: Re: [Sip] INFO
References: <6FC4416DDE56C44DA0AEE67BC7CA437116A57D59@zrc2hxm2.corp.nortel.com>	<C3184CEC.B881%eburger@bea.com><6FC4416DDE56C44DA0AEE67BC7CA437116DFF008@zrc2hxm2.corp.nortel.com>
	<46F7D719.2070004@nostrum.com>
	<0a5401c8005c$a80fad10$800101df@acmepacket.com>
	<46FAA68A.1090408@nostrum.com>
	<0af301c8007c$94d37590$800101df@acmepacket.com>
	<46FAC69C.4070402@nostrum.com>
	<0b4001c800a8$ee2f4480$800101df@acmepacket.com>
In-Reply-To: <0b4001c800a8$ee2f4480$800101df@acmepacket.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
Received-SPF: pass (nostrum.com: 70.242.124.197 is authenticated by a trusted
	mechanism)
X-Virus-Scanned: ClamAV 0.91.2/4411/Wed Sep 26 16:43:35 2007 on
	shaman.nostrum.com
X-Virus-Status: Clean
X-Spam-Score: -1.4 (-)
X-Scan-Signature: 7d33c50f3756db14428398e2bdedd581
Cc: sip@ietf.org, 'Brian Stucker' <bstucker@nortel.com>
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

Hadriel Kaplan wrote:
>
>> The key point here is that NOTIFY will inherently be associated with an
>> event package, which provides enough information for the recipient to
>> know what to do with the body. INFO, lacking such information, is
>> ambiguous. And, as before, the hardest problem isn't interpreting what
>> is sent to you; it is indicating what *can* be sent to you.
>>     
>
> Sure, but we could (if we had to) define the same concept for INFO as
> sub-not has in that regard.
>   

Which is what. I've been saying. This. Whole. Time.

Perhaps the confusion here arises because I've _also_ been pointing out 
why this is Bad Idea for a _different_ set of reasons (which are 
admittedly more philosophical than practical), but at least it makes the 
INFO situation tenable.

/a


_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Thu Sep 27 05:39:40 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1IapkS-00044U-4w; Thu, 27 Sep 2007 05:33:32 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1IapkR-0003yp-23
	for sip-confirm+ok@megatron.ietf.org; Thu, 27 Sep 2007 05:33:31 -0400
Received: from [10.90.34.44] (helo=chiedprmail1.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1IapkP-0003jV-V4
	for sip@ietf.org; Thu, 27 Sep 2007 05:33:30 -0400
Received: from sea02-mxf01.citel.com ([205.234.66.116])
	by chiedprmail1.ietf.org with esmtp (Exim 4.43) id 1IapkH-0001dK-MA
	for sip@ietf.org; Thu, 27 Sep 2007 05:33:21 -0400
Received: from [10.8.50.21] (helo=sea02-mxc01.citel.com)
	by sea02-mxf01.citel.com with smtp (Exim 4.43)
	id 1IapkK-00077e-He; Thu, 27 Sep 2007 02:33:24 -0700
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: [Sip] INFO
Date: Thu, 27 Sep 2007 02:33:14 -0700
Message-ID: <0D4E483A0E6E0A46861409E5D6C2011CBC2333@sea02-mxc01.citel.com>
In-Reply-To: <6FC4416DDE56C44DA0AEE67BC7CA437116FF8169@zrc2hxm2.corp.nortel.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] INFO
Thread-Index: AcgAfzG/5uo2ircBRFud92IcVqdU2QADUmbgABahsMA=
References: <6FC4416DDE56C44DA0AEE67BC7CA437116A57D59@zrc2hxm2.corp.nortel.com><C3184CEC.B881%eburger@bea.com><6FC4416DDE56C44DA0AEE67BC7CA437116DFF008@zrc2hxm2.corp.nortel.com><46F7D719.2070004@nostrum.com><0a5401c8005c$a80fad10$800101df@acmepacket.com><46FAA68A.1090408@nostrum.com><0af301c8007c$94d37590$800101df@acmepacket.com><46FAC69C.4070402@nostrum.com>
	<6FC4416DDE56C44DA0AEE67BC7CA437116FF8169@zrc2hxm2.corp.nortel.com>
From: "Steve Langstaff" <steve.langstaff@citel.com>
To: "Brian Stucker" <bstucker@nortel.com>, "Adam Roach" <adam@nostrum.com>,
	"Hadriel Kaplan" <HKaplan@acmepacket.com>
X-Spam-Score: 0.0 (/)
X-Scan-Signature: 08e48e05374109708c00c6208b534009
Cc: sip@ietf.org
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

> From: Brian Stucker [mailto:bstucker@nortel.com]=20

> You don't=20
> expect a NOTIFY for something you never explicitly sent a=20
> request for that scoped it to an event package...except=20
> REFER.

Unsolicited simple message summary?=20


_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Thu Sep 27 07:53:15 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1Iarsb-0004b1-Ja; Thu, 27 Sep 2007 07:50:05 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1IarsZ-0004W7-SI
	for sip-confirm+ok@megatron.ietf.org; Thu, 27 Sep 2007 07:50:03 -0400
Received: from [10.90.34.44] (helo=chiedprmail1.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1IarsZ-0004Vq-GZ
	for sip@ietf.org; Thu, 27 Sep 2007 07:50:03 -0400
Received: from zrtps0kp.nortel.com ([47.140.192.56])
	by chiedprmail1.ietf.org with esmtp (Exim 4.43) id 1IarsZ-0005YB-6W
	for sip@ietf.org; Thu, 27 Sep 2007 07:50:03 -0400
Received: from zrc2hxm2.corp.nortel.com (zrc2hxm2.corp.nortel.com
	[47.103.123.73])
	by zrtps0kp.nortel.com (Switch-2.2.6/Switch-2.2.0) with ESMTP id
	l8RBnkS00404; Thu, 27 Sep 2007 11:49:46 GMT
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: [Sip] INFO
Date: Thu, 27 Sep 2007 06:49:20 -0500
Message-ID: <6FC4416DDE56C44DA0AEE67BC7CA437116FF8415@zrc2hxm2.corp.nortel.com>
In-Reply-To: <0D4E483A0E6E0A46861409E5D6C2011CBC2333@sea02-mxc01.citel.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] INFO
Thread-Index: AcgAfzG/5uo2ircBRFud92IcVqdU2QADUmbgABahsMAABUQK0A==
References: <6FC4416DDE56C44DA0AEE67BC7CA437116A57D59@zrc2hxm2.corp.nortel.com><C3184CEC.B881%eburger@bea.com><6FC4416DDE56C44DA0AEE67BC7CA437116DFF008@zrc2hxm2.corp.nortel.com><46F7D719.2070004@nostrum.com><0a5401c8005c$a80fad10$800101df@acmepacket.com><46FAA68A.1090408@nostrum.com><0af301c8007c$94d37590$800101df@acmepacket.com><46FAC69C.4070402@nostrum.com>
	<6FC4416DDE56C44DA0AEE67BC7CA437116FF8169@zrc2hxm2.corp.nortel.com>
	<0D4E483A0E6E0A46861409E5D6C2011CBC2333@sea02-mxc01.citel.com>
From: "Brian Stucker" <bstucker@nortel.com>
To: "Steve Langstaff" <steve.langstaff@citel.com>,
	"Adam Roach" <adam@nostrum.com>, "Hadriel Kaplan" <HKaplan@acmepacket.com>
X-Spam-Score: 0.0 (/)
X-Scan-Signature: 2409bba43e9c8d580670fda8b695204a
Cc: sip@ietf.org
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

=20

> -----Original Message-----
> From: Steve Langstaff [mailto:steve.langstaff@citel.com]=20
> Sent: Thursday, September 27, 2007 4:33 AM
> To: Stucker, Brian (RICH1:AR00); Adam Roach; Hadriel Kaplan
> Cc: sip@ietf.org
> Subject: RE: [Sip] INFO
>=20
> > From: Brian Stucker [mailto:bstucker@nortel.com]
>=20
> > You don't
> > expect a NOTIFY for something you never explicitly sent a=20
> request for=20
> > that scoped it to an event package...except REFER.
>=20
> Unsolicited simple message summary?=20
>=20

Those are a bad idea (tm). I'll have my handy unsolicited MWI script
ready to send those notifications to phones to make their MWI lights on
blink like christmas tree lights. I've done it before to prove my point
to people that implicit subscriptions that are not associated with any
existing dialog are not good.

Regards,
Brian


_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Thu Sep 27 07:53:15 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1Iarqu-0003PO-M0; Thu, 27 Sep 2007 07:48:20 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1Iarqs-0003Ng-Ai
	for sip-confirm+ok@megatron.ietf.org; Thu, 27 Sep 2007 07:48:18 -0400
Received: from [10.91.34.44] (helo=ietf-mx.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1Iarqs-0003NX-16
	for sip@ietf.org; Thu, 27 Sep 2007 07:48:18 -0400
Received: from zrtps0kn.nortel.com ([47.140.192.55])
	by ietf-mx.ietf.org with esmtp (Exim 4.43) id 1Iarql-0003Om-Rw
	for sip@ietf.org; Thu, 27 Sep 2007 07:48:18 -0400
Received: from zrc2hxm2.corp.nortel.com (zrc2hxm2.corp.nortel.com
	[47.103.123.73])
	by zrtps0kn.nortel.com (Switch-2.2.6/Switch-2.2.0) with ESMTP id
	l8RBldW09054; Thu, 27 Sep 2007 11:47:40 GMT
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: [Sip] INFO
Date: Thu, 27 Sep 2007 06:46:09 -0500
Message-ID: <6FC4416DDE56C44DA0AEE67BC7CA437116FF8412@zrc2hxm2.corp.nortel.com>
In-Reply-To: <46FAE230.1070807@nostrum.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] INFO
Thread-Index: AcgAj6C+3EdbVcb/THiWRimK3AMBXwAbDhVw
References: <6FC4416DDE56C44DA0AEE67BC7CA437116A57D59@zrc2hxm2.corp.nortel.com>
	<C3184CEC.B881%eburger@bea.com><6FC4416DDE56C44DA0AEE67BC7CA437116DFF008@zrc2hxm2.corp.nortel.com>
	<46F7D719.2070004@nostrum.com>
	<0a5401c8005c$a80fad10$800101df@acmepacket.com>
	<46FAA68A.1090408@nostrum.com>
	<0af301c8007c$94d37590$800101df@acmepacket.com>
	<46FAC69C.4070402@nostrum.com>
	<6FC4416DDE56C44DA0AEE67BC7CA437116FF8169@zrc2hxm2.corp.nortel.com>
	<46FAE230.1070807@nostrum.com>
From: "Brian Stucker" <bstucker@nortel.com>
To: "Adam Roach" <adam@nostrum.com>
X-Spam-Score: 0.0 (/)
X-Scan-Signature: e1e48a527f609d1be2bc8d8a70eb76cb
Cc: sip@ietf.org
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

=20

> -----Original Message-----
> From: Adam Roach [mailto:adam@nostrum.com]=20
> Sent: Wednesday, September 26, 2007 5:50 PM
> To: Stucker, Brian (RICH1:AR00)
> Cc: Hadriel Kaplan; sip@ietf.org
> Subject: Re: [Sip] INFO
>=20
> On 9/26/07 5:35 PM, Brian Stucker wrote:
> > I think the key point being made on the other side is that there's=20
> > nothing special about an event package. It is an identifier that=20
> > disambiguates the NOTIFY. In some cases other header values could=20
> > serve the same purpose (i.e. content-type w/ DTMF).
> >  =20
>=20
> But that's a point solution that puts a band-aid on INFO for=20
> precisely one use case and leaves it broken for others. It=20
> doesn't scale to other uses for INFO.
>=20
> That points to really only two sane approaches: either (a)=20
> come up with an unambiguous differentiator for various INFO=20
> usages (in the style of event packages), or (b) grandfather=20
> current approaches (band-aids and
> all) and forbid any other applications of INFO.
>=20
> Eric's document basically takes the second approach,=20
> grandfathering all uses of INFO that are currently published=20
> in an RFC or an active internet-draft, and forbidding any=20
> others. The list is not long; I'll replicate it here:
>=20
>   1. RFC 3372
>=20
> You want more than that, you really need packages.

Expand that list to include application/dtmf and I think you'll largely
end the debate.

>=20
> /a
>=20


_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Thu Sep 27 09:20:59 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1IatEd-0007U5-6t; Thu, 27 Sep 2007 09:16:55 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1IatEb-0007PR-H8
	for sip-confirm+ok@megatron.ietf.org; Thu, 27 Sep 2007 09:16:53 -0400
Received: from [10.90.34.44] (helo=chiedprmail1.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1IatEb-0007Mc-5Z
	for sip@ietf.org; Thu, 27 Sep 2007 09:16:53 -0400
Received: from shaman.nostrum.com ([72.232.15.10] helo=nostrum.com)
	by chiedprmail1.ietf.org with esmtp (Exim 4.43) id 1IatEa-00088X-Qq
	for sip@ietf.org; Thu, 27 Sep 2007 09:16:53 -0400
Received: from localhost.localdomain (ppp-70-242-124-197.dsl.rcsntx.swbell.net
	[70.242.124.197]) (authenticated bits=0)
	by nostrum.com (8.14.1/8.14.1) with ESMTP id l8RDGoUD073719
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO);
	Thu, 27 Sep 2007 08:16:51 -0500 (CDT)
	(envelope-from adam@nostrum.com)
Message-ID: <46FBAD3D.3090109@nostrum.com>
Date: Thu, 27 Sep 2007 08:16:45 -0500
From: Adam Roach <adam@nostrum.com>
User-Agent: Thunderbird 2.0.0.0 (X11/20070326)
MIME-Version: 1.0
To: Brian Stucker <bstucker@nortel.com>
Subject: Re: [Sip] INFO
References: <6FC4416DDE56C44DA0AEE67BC7CA437116A57D59@zrc2hxm2.corp.nortel.com>
	<C3184CEC.B881%eburger@bea.com><6FC4416DDE56C44DA0AEE67BC7CA437116DFF008@zrc2hxm2.corp.nortel.com>
	<46F7D719.2070004@nostrum.com>
	<0a5401c8005c$a80fad10$800101df@acmepacket.com>
	<46FAA68A.1090408@nostrum.com>
	<0af301c8007c$94d37590$800101df@acmepacket.com>
	<46FAC69C.4070402@nostrum.com>
	<6FC4416DDE56C44DA0AEE67BC7CA437116FF8169@zrc2hxm2.corp.nortel.com>
	<46FAE230.1070807@nostrum.com>
	<6FC4416DDE56C44DA0AEE67BC7CA437116FF8412@zrc2hxm2.corp.nortel.com>
In-Reply-To: <6FC4416DDE56C44DA0AEE67BC7CA437116FF8412@zrc2hxm2.corp.nortel.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
Received-SPF: pass (nostrum.com: 70.242.124.197 is authenticated by a trusted
	mechanism)
X-Virus-Scanned: ClamAV 0.91.2/4411/Wed Sep 26 16:43:35 2007 on
	shaman.nostrum.com
X-Virus-Status: Clean
X-Spam-Score: 0.0 (/)
X-Scan-Signature: ffa9dfbbe7cc58b3fa6b8ae3e57b0aa3
Cc: sip@ietf.org
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

Brian Stucker wrote:
>> Eric's document basically takes the second approach, 
>> grandfathering all uses of INFO that are currently published 
>> in an RFC or an active internet-draft, and forbidding any 
>> others. The list is not long; I'll replicate it here:
>>
>>   1. RFC 3372
>>
>> You want more than that, you really need packages.
>>     
>
> Expand that list to include application/dtmf and I think you'll largely
> end the debate.
>   

It wouldn't be fair to ask you to show me the IANA registration for that 
MIME type, so I won't -- but the practical problem here is that no one 
has even *tried* formalizing this mechanism.

To be clear, I would argue against standardizing such an approach (but 
that discussion is tangential to this one, and would only distract). My 
point is: even if someone wants to support your position, there's 
nothing for them to support; there's not even an individual draft -- not 
even an *expired* one -- documenting the INFO usage you're promoting.

/a


_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Thu Sep 27 09:43:34 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1IatcL-0003De-8E; Thu, 27 Sep 2007 09:41:25 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1IatcJ-00033S-3b
	for sip-confirm+ok@megatron.ietf.org; Thu, 27 Sep 2007 09:41:23 -0400
Received: from [10.91.34.44] (helo=ietf-mx.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1IatcI-00032o-9M
	for sip@ietf.org; Thu, 27 Sep 2007 09:41:22 -0400
Received: from mailgw3.ericsson.se ([193.180.251.60])
	by ietf-mx.ietf.org with esmtp (Exim 4.43) id 1IatcB-0006U0-VQ
	for sip@ietf.org; Thu, 27 Sep 2007 09:41:22 -0400
Received: from mailgw3.ericsson.se (unknown [127.0.0.1])
	by mailgw3.ericsson.se (Symantec Mail Security) with ESMTP id
	691EA20789; Thu, 27 Sep 2007 15:41:10 +0200 (CEST)
X-AuditID: c1b4fb3c-b1e82bb0000007e1-76-46fbb2f68492
Received: from esealmw126.eemea.ericsson.se (unknown [153.88.254.123])
	by mailgw3.ericsson.se (Symantec Mail Security) with ESMTP id
	49CA9203CE; Thu, 27 Sep 2007 15:41:10 +0200 (CEST)
Received: from esealmw113.eemea.ericsson.se ([153.88.200.4]) by
	esealmw126.eemea.ericsson.se with Microsoft SMTPSVC(6.0.3790.1830); 
	Thu, 27 Sep 2007 15:40:55 +0200
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: [Sip] INFO
Date: Thu, 27 Sep 2007 15:40:54 +0200
Message-ID: <CA9998CD4A020D418654FCDEF4E707DF0237D9B1@esealmw113.eemea.ericsson.se>
In-Reply-To: <46FBAD3D.3090109@nostrum.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] INFO
Thread-Index: AcgBC0GtnDQzdrvbTGOkG5a7fi+9eQAAEGzw
References: <6FC4416DDE56C44DA0AEE67BC7CA437116A57D59@zrc2hxm2.corp.nortel.com><C3184CEC.B881%eburger@bea.com><6FC4416DDE56C44DA0AEE67BC7CA437116DFF008@zrc2hxm2.corp.nortel.com><46F7D719.2070004@nostrum.com><0a5401c8005c$a80fad10$800101df@acmepacket.com><46FAA68A.1090408@nostrum.com><0af301c8007c$94d37590$800101df@acmepacket.com><46FAC69C.4070402@nostrum.com><6FC4416DDE56C44DA0AEE67BC7CA437116FF8169@zrc2hxm2.corp.nortel.com><46FAE230.1070807@nostrum.com><6FC4416DDE56C44DA0AEE67BC7CA437116FF8412@zrc2hxm2.corp.nortel.com>
	<46FBAD3D.3090109@nostrum.com>
From: "Christer Holmberg" <christer.holmberg@ericsson.com>
To: "Adam Roach" <adam@nostrum.com>,
	"Brian Stucker" <bstucker@nortel.com>
X-OriginalArrivalTime: 27 Sep 2007 13:40:55.0201 (UTC)
	FILETIME=[0731F910:01C8010C]
X-Brightmail-Tracker: AAAAAA==
X-Spam-Score: -1.0 (-)
X-Scan-Signature: 7aafa0432175920a4b3e118e16c5cb64
Cc: sip@ietf.org
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org


Hi,

> -----Original Message-----
> From: Adam Roach [mailto:adam@nostrum.com]=20
> Sent: 27. syyskuuta 2007 16:17
> To: Brian Stucker
> Cc: sip@ietf.org
> Subject: Re: [Sip] INFO
>=20
> Brian Stucker wrote:
> >> Eric's document basically takes the second approach,=20
> grandfathering=20
> >> all uses of INFO that are currently published in an RFC or=20
> an active=20
> >> internet-draft, and forbidding any others. The list is not=20
> long; I'll=20
> >> replicate it here:
> >>
> >>   1. RFC 3372
> >>
> >> You want more than that, you really need packages.
> >>    =20
> >
> > Expand that list to include application/dtmf and I think you'll=20
> > largely end the debate.
> >  =20
>=20
> It wouldn't be fair to ask you to show me the IANA=20
> registration for that MIME type, so I won't -- but the=20
> practical problem here is that no one has even *tried*=20
> formalizing this mechanism.
>=20
> To be clear, I would argue against standardizing such an=20
> approach (but that discussion is tangential to this one, and=20
> would only distract). My point is: even if someone wants to=20
> support your position, there's nothing for them to support;=20
> there's not even an individual draft -- not even an *expired*=20
> one -- documenting the INFO usage you're promoting.

I actually DO think there was a DTMF-using-INFO draft at some point - a
long time ago.

Now, that draft probably did not address all the issues we have
discussed, so I am pretty sure it wouldn't be very useful at this point.

In any case, I still wonder whether writing a DTMF-using-INFO draft is a
good starting point. I still think we should look at the whole thing
from a more generic perspective first: what are the issues we would need
to work on in order to make the usage of INFO better.

Regards,

Christer


_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Thu Sep 27 09:51:38 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1IatkV-0000vD-Uy; Thu, 27 Sep 2007 09:49:51 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1IatkT-0000rS-8k
	for sip-confirm+ok@megatron.ietf.org; Thu, 27 Sep 2007 09:49:49 -0400
Received: from [10.91.34.44] (helo=ietf-mx.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1IatkS-0000r8-Kd
	for sip@ietf.org; Thu, 27 Sep 2007 09:49:48 -0400
Received: from nf-out-0910.google.com ([64.233.182.188])
	by ietf-mx.ietf.org with esmtp (Exim 4.43) id 1IatkM-0006ir-8k
	for sip@ietf.org; Thu, 27 Sep 2007 09:49:48 -0400
Received: by nf-out-0910.google.com with SMTP id d21so1853722nfb
	for <sip@ietf.org>; Thu, 27 Sep 2007 06:49:13 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=beta;
	h=domainkey-signature:received:received:message-id:date:from:to:subject:mime-version:content-type;
	bh=0lBQxFvmGvK/jfuTDD/ZiBFcEHhtvxEmwBsLS60P+H0=;
	b=tHzYlrz9fdinr2Oy0RRW9AiS2NHWfS9UNunI6PSZxoaxI7a93SAwWr+44tBXMdWgTT968n3hijfJToctYgvu6hRDIUn16dZarvHhmkN0qiglw1hUJtKsY7tNJUZthVAeVORSM7hPNu7NE5kvSie9HfwV2aYRLfDuDmfdqM+0JRg=
DomainKey-Signature: a=rsa-sha1; c=nofws; d=gmail.com; s=beta;
	h=received:message-id:date:from:to:subject:mime-version:content-type;
	b=OUA/kQkbG/metpnholMx0u9xJ/t9Ko0lHGEXjeZ+TQAy7yesORXvoqVvVw5M8YhDo1Qrged1TT5CaIKXx29HDausm+J1w23L8dcisr7S3nJmtfqleoPewYm9PCHnNnSubQ/fu4MGrqIZ/hfVR8Y9Fwh6NDMu6Hywco2MV/gY2FA=
Received: by 10.78.177.3 with SMTP id z3mr1791437hue.1190900953104;
	Thu, 27 Sep 2007 06:49:13 -0700 (PDT)
Received: by 10.70.22.4 with HTTP; Thu, 27 Sep 2007 06:49:13 -0700 (PDT)
Message-ID: <18a603a60709270649j2f6b19d3w77cc244f8403bd6c@mail.gmail.com>
Date: Thu, 27 Sep 2007 15:49:13 +0200
From: "Pars Mutaf" <pars.mutaf@gmail.com>
To: sip@ietf.org, p2psip@ietf.org
MIME-Version: 1.0
X-Spam-Score: 0.0 (/)
X-Scan-Signature: e1b0e72ff1bbd457ceef31828f216a86
Cc: 
Subject: [Sip] IETF solution for pairing cellular hosts
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: multipart/mixed; boundary="===============1739867692=="
Errors-To: sip-bounces@ietf.org

--===============1739867692==
Content-Type: multipart/alternative; 
	boundary="----=_Part_636_19625904.1190900953040"

------=_Part_636_19625904.1190900953040
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

[sorry for cross posting. this is an invitation]


Pairing Cellular Hosts

https://www1.ietf.org/mailman/listinfo/humanresolvers

Currently there are two approaches for obtaining contact information for a
target cell phone: (i) consulting a phonebook, (ii) manually exchanging
phone numbers upon face-to-face user contact. Both approaches have
their own limitations.

The following is a new abstract solution, a third alternative, a protocol
for "pairing" two cellular hosts:

Model of operation

1. The querier user types the target user's "human name" (as if he were
   consulting a phonebook), or a pseudoynm.
2. The pairing request is forwarded to the target phone.
3. The query, along with the querier user's name, are displayed on the
   target phone's screen.
4. The target user approves the request in real-time by pushing on the YES
   button of the phone.
5. The two phones exchange their Mobile IPv6 home addresses, SIP URIs, and
   establish an IPsec security association (using IKEv2).

The target user does not need to publish his/her private SIP URI and home
address (as recommended in [1] in SIP context). Cell phone users do not
publish their phone numbers today.

The users do not need to manually exchange their SIP URIs and home
addresses which are too long (an IPv6 address is 16 bytes long and random
looking, a SIP URI can be very long e.g. up to 30 characters and even more
with a random part for privacy).

The protocol also works in the absence of user contact, for example when
the target user's SIP URI is lost (loss of state, new phone), or this is
the user's first phone, and hence his/her contact list is initially empty.
Thousands of cell phones are sold everyday..

[1] Peterson, J., "A Privacy Mechanism for the Session Initiation Protocol",

    RFC3323, November 2002.


=======================

Interested folks could you please subscribe to the mailing list created
for this discussion:

https://www1.ietf.org/mailman/listinfo/humanresolvers



We already had some discussions on the IETF list recently.
You may want to take a look at the archives for an introduction:

http://www1.ietf.org/mail-archive/web/ietf/current/msg48129.html

There is also a side discussion on CAPTCHAs:

http://www1.ietf.org/mail-archive/web/ietf/current/msg48172.html


Regards,
pars mutaf

------=_Part_636_19625904.1190900953040
Content-Type: text/html; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

[sorry for cross posting. this is an invitation]<br><br><br>Pairing Cellular Hosts<br><br><a href="https://www1.ietf.org/mailman/listinfo/humanresolvers" target="_blank" onclick="return top.js.OpenExtLink(window,event,this)">
https://www1.ietf.org/mailman/listinfo/humanresolvers
</a><br>
<br>Currently there are two approaches for obtaining contact information for a <br>target cell phone: (i) consulting a phonebook, (ii) manually exchanging <br>phone numbers upon face-to-face user contact. Both approaches have 
<br>their own limitations. <br><br>The following is a new abstract solution, a third alternative, a protocol<br>for &quot;pairing&quot; two cellular hosts:<br><br>Model of operation<br><br>1. The querier user types the target user&#39;s &quot;human name&quot; (as if he were
<br>&nbsp;&nbsp; consulting a phonebook), or a pseudoynm.<br>2. The pairing request is forwarded to the target phone.<br>3. The query, along with the querier user&#39;s name, are displayed on the <br>&nbsp;&nbsp; target phone&#39;s screen.<br>


4. The target user approves the request in real-time by pushing on the YES<br>&nbsp;&nbsp; button of the phone.<br>5. The two phones exchange their Mobile IPv6 home addresses, SIP URIs, and<br>&nbsp;&nbsp; establish an IPsec security association (using IKEv2). 
<br><br>The target user does not need to publish his/her private SIP URI and home <br>address (as recommended in [1] in SIP context). Cell phone users do not<br>publish their phone numbers today.<br><br>The users do not need to manually exchange their SIP URIs and home 
<br>addresses which are too long (an IPv6 address is 16 bytes long and random <br>looking, a SIP URI can be very long e.g. up to 30 characters and even more <br>with a random part for privacy). <br><br>The protocol also works in the absence of user contact, for example when 
<br>the target user&#39;s SIP URI is lost (loss of state, new phone), or this is <br>the user&#39;s first phone, and hence his/her contact list is initially empty.<br>Thousands of cell phones are sold everyday..<br><br>[1] Peterson, J., &quot;A Privacy Mechanism for the Session Initiation Protocol&quot;,
<br>&nbsp;&nbsp;&nbsp; RFC3323, November 2002.<br><br><br>=======================<br><br>Interested folks could you please subscribe to the mailing list created<br>for this discussion:<br><br><a href="https://www1.ietf.org/mailman/listinfo/humanresolvers" target="_blank" onclick="return top.js.OpenExtLink(window,event,this)">

https://www1.ietf.org/mailman/listinfo/humanresolvers
</a><br><br><br><br>We already had some discussions on the IETF list recently. <br>You may want to take a look at the archives for an introduction:<br><br><a href="http://www1.ietf.org/mail-archive/web/ietf/current/msg48129.html" target="_blank" onclick="return top.js.OpenExtLink(window,event,this)">
http://www1.ietf.org/mail-archive/web/ietf/current/msg48129.html
</a><br><br>There is also a side discussion on CAPTCHAs:<br><br><a href="http://www1.ietf.org/mail-archive/web/ietf/current/msg48172.html" target="_blank" onclick="return top.js.OpenExtLink(window,event,this)">http://www1.ietf.org/mail-archive/web/ietf/current/msg48172.html
</a><br><br><br>Regards,
<br>pars mutaf<br><br><br><br>

------=_Part_636_19625904.1190900953040--



--===============1739867692==
Content-Type: text/plain; charset="us-ascii"
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip
--===============1739867692==--





From sip-bounces@ietf.org Thu Sep 27 10:18:25 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1Iau7a-0002Mr-Qh; Thu, 27 Sep 2007 10:13:42 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1Iau7Z-0002LT-7k
	for sip-confirm+ok@megatron.ietf.org; Thu, 27 Sep 2007 10:13:41 -0400
Received: from [10.91.34.44] (helo=ietf-mx.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1Iau7Y-00021H-TO
	for sip@ietf.org; Thu, 27 Sep 2007 10:13:40 -0400
Received: from nostrum-pt.tunnel.tserv2.fmt.ipv6.he.net
	([2001:470:1f03:267::2] helo=nostrum.com)
	by ietf-mx.ietf.org with esmtp (Exim 4.43) id 1Iau7N-0007bN-JS
	for sip@ietf.org; Thu, 27 Sep 2007 10:13:30 -0400
Received: from orthrus.local (vicuna-alt.estacado.net [75.53.54.121])
	(authenticated bits=0)
	by nostrum.com (8.14.1/8.14.1) with ESMTP id l8RED7Md076629
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO);
	Thu, 27 Sep 2007 09:13:07 -0500 (CDT)
	(envelope-from adam@nostrum.com)
Message-ID: <46FBBA78.7070903@nostrum.com>
Date: Thu, 27 Sep 2007 09:13:12 -0500
From: Adam Roach <adam@nostrum.com>
User-Agent: Thunderbird 2.0.0.6 (Macintosh/20070728)
MIME-Version: 1.0
To: Christer Holmberg <christer.holmberg@ericsson.com>
Subject: Re: [Sip] INFO
References: <6FC4416DDE56C44DA0AEE67BC7CA437116A57D59@zrc2hxm2.corp.nortel.com><C3184CEC.B881%eburger@bea.com><6FC4416DDE56C44DA0AEE67BC7CA437116DFF008@zrc2hxm2.corp.nortel.com><46F7D719.2070004@nostrum.com><0a5401c8005c$a80fad10$800101df@acmepacket.com><46FAA68A.1090408@nostrum.com><0af301c8007c$94d37590$800101df@acmepacket.com><46FAC69C.4070402@nostrum.com><6FC4416DDE56C44DA0AEE67BC7CA437116FF8169@zrc2hxm2.corp.nortel.com><46FAE230.1070807@nostrum.com><6FC4416DDE56C44DA0AEE67BC7CA437116FF8412@zrc2hxm2.corp.nortel.com>
	<46FBAD3D.3090109@nostrum.com>
	<CA9998CD4A020D418654FCDEF4E707DF0237D9B1@esealmw113.eemea.ericsson.se>
In-Reply-To: <CA9998CD4A020D418654FCDEF4E707DF0237D9B1@esealmw113.eemea.ericsson.se>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Received-SPF: pass (nostrum.com: 75.53.54.121 is authenticated by a trusted
	mechanism)
X-Virus-Scanned: ClamAV 0.91.2/4411/Wed Sep 26 16:43:35 2007 on
	shaman.nostrum.com
X-Virus-Status: Clean
X-Spam-Score: -1.4 (-)
X-Scan-Signature: cf4fa59384e76e63313391b70cd0dd25
Cc: sip@ietf.org, Brian Stucker <bstucker@nortel.com>
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

On 9/27/07 8:40 AM, Christer Holmberg wrote:
> I actually DO think there was a DTMF-using-INFO draft at some point - a
> long time ago.
>   

Really?

    
http://www.google.com/search?q=site%3Atools.ietf.org+%22application%2Fdtmf%22

...and, lest there be any confusion about how far back that archive goes:

    http://tools.ietf.org/html/draft-ietf-mmusic-sip-01

/a



_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Thu Sep 27 10:42:39 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1IauWJ-0002Vr-0S; Thu, 27 Sep 2007 10:39:15 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1IauWH-0002Rx-DD
	for sip-confirm+ok@megatron.ietf.org; Thu, 27 Sep 2007 10:39:13 -0400
Received: from [10.90.34.44] (helo=chiedprmail1.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1IauWG-0002Bu-TQ
	for sip@ietf.org; Thu, 27 Sep 2007 10:39:12 -0400
Received: from alnrmhc11.comcast.net ([206.18.177.51])
	by chiedprmail1.ietf.org with esmtp (Exim 4.43) id 1IauWA-00037t-FX
	for sip@ietf.org; Thu, 27 Sep 2007 10:39:06 -0400
Received: from dragon.ariadne.com (dworley.hsd1.ma.comcast.net[24.34.79.42])
	by comcast.net (alnrmhc11) with ESMTP
	id <20070927143905b1100og00me>; Thu, 27 Sep 2007 14:39:05 +0000
Received: from dragon.ariadne.com (dragon.ariadne.com [127.0.0.1])
	by dragon.ariadne.com (8.12.8/8.12.8) with ESMTP id l8REd429030669
	for <sip@ietf.org>; Thu, 27 Sep 2007 10:39:04 -0400
Received: (from worley@localhost)
	by dragon.ariadne.com (8.12.8/8.12.8/Submit) id l8REd4LE030665;
	Thu, 27 Sep 2007 10:39:04 -0400
Date: Thu, 27 Sep 2007 10:39:04 -0400
Message-Id: <200709271439.l8REd4LE030665@dragon.ariadne.com>
To: sip@ietf.org
From: Dale.Worley@comcast.net
In-reply-to: <46FBBA78.7070903@nostrum.com> (adam@nostrum.com)
Subject: Re: [Sip] INFO
References: <6FC4416DDE56C44DA0AEE67BC7CA437116A57D59@zrc2hxm2.corp.nortel.com><C3184CEC.B881%eburger@bea.com><6FC4416DDE56C44DA0AEE67BC7CA437116DFF008@zrc2hxm2.corp.nortel.com><46F7D719.2070004@nostrum.com><0a5401c8005c$a80fad10$800101df@acmepacket.com><46FAA68A.1090408@nostrum.com><0af301c8007c$94d37590$800101df@acmepacket.com><46FAC69C.4070402@nostrum.com><6FC4416DDE56C44DA0AEE67BC7CA437116FF8169@zrc2hxm2.corp.nortel.com><46FAE230.1070807@nostrum.com><6FC4416DDE56C44DA0AEE67BC7CA437116FF8412@zrc2hxm2.corp.nortel.com>
	<46FBAD3D.3090109@nostrum.com>
	<CA9998CD4A020D418654FCDEF4E707DF0237D9B1@esealmw113.eemea.ericsson.se>
	<46FBBA78.7070903@nostrum.com>
X-Spam-Score: 0.0 (/)
X-Scan-Signature: 8abaac9e10c826e8252866cbe6766464
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

   From: Adam Roach <adam@nostrum.com>

   On 9/27/07 8:40 AM, Christer Holmberg wrote:
   > I actually DO think there was a DTMF-using-INFO draft at some point - a
   > long time ago.

   Really?

ORLY?

   http://www.google.com/search?q=site%3Atools.ietf.org+%22application%2Fdtmf%22

   ...and, lest there be any confusion about how far back that archive goes:

       http://tools.ietf.org/html/draft-ietf-mmusic-sip-01

I'm not sure what that search does, but it doesn't turn up the
document you're looking for, viz.:
http://tools.ietf.org/html/draft-ietf-mmusic-sip-info-method-00, which
proposed a new SIP method "INFO" to carry DTMF digits and such
information:

    Abstract

    This document proposes an extension to the Session Initiation
    Protocol.  This extension adds the INFO method to the SIP protocol.
    The intent of the INFO method is to allow for the carrying of session
    related control information that is generated during a session.
    Examples of such session control information are ISUP/ISDN signaling
    messages and DTMF digits used to control telephony services.

Dale


_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Thu Sep 27 11:02:43 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1IauqH-0006xe-Fe; Thu, 27 Sep 2007 10:59:53 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1IauqG-0006vG-8C
	for sip-confirm+ok@megatron.ietf.org; Thu, 27 Sep 2007 10:59:52 -0400
Received: from [10.90.34.44] (helo=chiedprmail1.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1IauqF-0006v8-S4
	for sip@ietf.org; Thu, 27 Sep 2007 10:59:51 -0400
Received: from shaman.nostrum.com ([72.232.15.10] helo=nostrum.com)
	by chiedprmail1.ietf.org with esmtp (Exim 4.43) id 1IauqF-0003xq-EZ
	for sip@ietf.org; Thu, 27 Sep 2007 10:59:51 -0400
Received: from orthrus.local (vicuna-alt.estacado.net [75.53.54.121])
	(authenticated bits=0)
	by nostrum.com (8.14.1/8.14.1) with ESMTP id l8RExoBI079128
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO);
	Thu, 27 Sep 2007 09:59:50 -0500 (CDT)
	(envelope-from adam@nostrum.com)
Message-ID: <46FBC56B.6000505@nostrum.com>
Date: Thu, 27 Sep 2007 09:59:55 -0500
From: Adam Roach <adam@nostrum.com>
User-Agent: Thunderbird 2.0.0.6 (Macintosh/20070728)
MIME-Version: 1.0
To: Dale.Worley@comcast.net
Subject: Re: [Sip] INFO
References: <6FC4416DDE56C44DA0AEE67BC7CA437116A57D59@zrc2hxm2.corp.nortel.com><C3184CEC.B881%eburger@bea.com><6FC4416DDE56C44DA0AEE67BC7CA437116DFF008@zrc2hxm2.corp.nortel.com><46F7D719.2070004@nostrum.com><0a5401c8005c$a80fad10$800101df@acmepacket.com><46FAA68A.1090408@nostrum.com><0af301c8007c$94d37590$800101df@acmepacket.com><46FAC69C.4070402@nostrum.com><6FC4416DDE56C44DA0AEE67BC7CA437116FF8169@zrc2hxm2.corp.nortel.com><46FAE230.1070807@nostrum.com><6FC4416DDE56C44DA0AEE67BC7CA437116FF8412@zrc2hxm2.corp.nortel.com>	<46FBAD3D.3090109@nostrum.com>	<CA9998CD4A020D418654FCDEF4E707DF0237D9B1@esealmw113.eemea.ericsson.se>	<46FBBA78.7070903@nostrum.com>
	<200709271439.l8REd4LE030665@dragon.ariadne.com>
In-Reply-To: <200709271439.l8REd4LE030665@dragon.ariadne.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Received-SPF: pass (nostrum.com: 75.53.54.121 is authenticated by a trusted
	mechanism)
X-Virus-Scanned: ClamAV 0.91.2/4411/Wed Sep 26 16:43:35 2007 on
	shaman.nostrum.com
X-Virus-Status: Clean
X-Spam-Score: 0.0 (/)
X-Scan-Signature: 7655788c23eb79e336f5f8ba8bce7906
Cc: sip@ietf.org
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

On 9/27/07 9:39 AM, Dale.Worley@comcast.net wrote:
> I'm not sure what that search does, but it doesn't turn up the
> document you're looking for, viz.:
> http://tools.ietf.org/html/draft-ietf-mmusic-sip-info-method-00, which
> proposed a new SIP method "INFO" to carry DTMF digits and such
> information:
>   

It gives DTMF as an _example_ of the kind of information that might be 
carried by INFO. It doesn't give even the remotest amount of technical 
detail about how one might do so.

At the time, there was an ensuing debate about the appropriateness of 
using INFO in this way, in which we developed a consensus that INFO 
really isn't the right tool for the job.

Unfortunately, when the naive answer is also the wrong answer, it seems 
impossible to ever put a decision to bed -- which is why we now hear the 
slow "clack... clack... clack" of the whole working group going up the 
initial slope of the "DTMF in INFO argument" roller coaster for the 
hojillionth time. Hold on tightly; it's not a fun ride...

/a


_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Thu Sep 27 11:03:57 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1Iauti-0005EB-KE; Thu, 27 Sep 2007 11:03:26 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1Iautg-0005Dx-8t
	for sip-confirm+ok@megatron.ietf.org; Thu, 27 Sep 2007 11:03:24 -0400
Received: from [10.91.34.44] (helo=ietf-mx.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1Iautf-0005Dp-VN
	for sip@ietf.org; Thu, 27 Sep 2007 11:03:23 -0400
Received: from usaga01-in.huawei.com ([206.16.17.211])
	by ietf-mx.ietf.org with esmtp (Exim 4.43) id 1Iaute-0000yd-QX
	for sip@ietf.org; Thu, 27 Sep 2007 11:03:23 -0400
Received: from huawei.com (usaga01-in [172.18.4.6])
	by usaga01-in.huawei.com (iPlanet Messaging Server 5.2 HotFix 2.14
	(built Aug
	8 2006)) with ESMTP id <0JP100E898HJKY@usaga01-in.huawei.com> for
	sip@ietf.org; Thu, 27 Sep 2007 08:03:20 -0700 (PDT)
Received: from s73602 (cpe-72-190-0-23.tx.res.rr.com [72.190.0.23])
	by usaga01-in.huawei.com
	(iPlanet Messaging Server 5.2 HotFix 2.14 (built Aug  8 2006))
	with ESMTPA id <0JP1005WH8HI4C@usaga01-in.huawei.com> for sip@ietf.org;
	Thu, 27 Sep 2007 08:03:19 -0700 (PDT)
Date: Thu, 27 Sep 2007 10:03:05 -0500
From: Spencer Dawkins <spencer@mcsr-labs.org>
Subject: Re: [Sip] INFO
To: sip@ietf.org
Message-id: <03a701c80117$81c8df80$6901a8c0@china.huawei.com>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2900.3138
X-Mailer: Microsoft Outlook Express 6.00.2900.3138
Content-type: text/plain; format=flowed; charset=iso-8859-1;
	reply-type=original
Content-transfer-encoding: 7BIT
X-Priority: 3
X-MSMail-priority: Normal
References: <6FC4416DDE56C44DA0AEE67BC7CA437116A57D59@zrc2hxm2.corp.nortel.com>
	<C3184CEC.B881%eburger@bea.com>
	<6FC4416DDE56C44DA0AEE67BC7CA437116DFF008@zrc2hxm2.corp.nortel.com>
	<46F7D719.2070004@nostrum.com>
	<0a5401c8005c$a80fad10$800101df@acmepacket.com>
	<46FAA68A.1090408@nostrum.com>
	<0af301c8007c$94d37590$800101df@acmepacket.com>
	<46FAC69C.4070402@nostrum.com>
	<6FC4416DDE56C44DA0AEE67BC7CA437116FF8169@zrc2hxm2.corp.nortel.com>
	<46FAE230.1070807@nostrum.com>
	<6FC4416DDE56C44DA0AEE67BC7CA437116FF8412@zrc2hxm2.corp.nortel.com>
X-Spam-Score: 0.0 (/)
X-Scan-Signature: 5a9a1bd6c2d06a21d748b7d0070ddcb8
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

>> Eric's document basically takes the second approach,
>> grandfathering all uses of INFO that are currently published
>> in an RFC or an active internet-draft, and forbidding any
>> others. The list is not long; I'll replicate it here:
>>
>>   1. RFC 3372
>>
>> You want more than that, you really need packages.
>
> Expand that list to include application/dtmf and I think you'll
> largely end the debate.

It would be a lovely thing for this debate to end. Perhaps we could refocus 
with that aim in mind. Since I'm Eric's instigator, I'm asking that we 
remember how we got here.

In MEDIACTRL, we found ourselves Yet Again Explaining The Non-Use of INFO, 
with general handwaving based on Jonathan's long-expired individual draft. 
Jonathan is a smart guy, but One Long-Expired Individual Draft Does Not 
Equal Consensus In SIP.

I asked about advancing the long-expired draft, but it's old enough that we 
couldn't just WGLC it in SIP without changes. Eric took the lead on writing 
a draft that COULD (in theory) be WGLCed in SIP - that's what's under 
discussion.

>From the Abstract

   The purpose of the INFO request for the Session Initiation Protocol
   (SIP), as described by RFC 2976, is to provide mid-session SIP User
   Agent (UA)-to-SIP UA application data transport.  In the years since
   the introduction of the INFO request, experience with the use of the
   INFO request indicates a number of problems.  This document explains
   why there are INFO-based, proprietary protocols in the wild; the
   flaws of using INFO; and explains why it is not possible to create a
   framework to rescue INFO for general purpose use.  Thus, this
   document restricts the use of INFO to call establishment signaling,
   as described in RFC 3372 (SIP-T).

If we could focus on Eric's draft, which does not deprecate existing 
standards-track uses of INFO, that might get us to publication of a draft 
that would discourage additional uses of INFO, and provide the explanation 
for this, so that random RAI-area drafts (which aren't even in the SIP 
working group) stop including text that explains Why We Aren't Using INFO - 
text that may or may not reflect SIP working group consensus.

If someone wants to generate a draft on application/dtmf, and there is SIP 
consensus to publish that draft, and to add application/dtmf to the 
grandfathered list in Eric's draft, MEDIACTRL would still have a SIP 
consensus draft that gets the INFO-or-not-INFO discussion out of the 
MEDIACTRL draft, where it does not belong. IMO.

Thanks,

Spencer 




_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Thu Sep 27 11:26:22 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1IavCM-0004Z8-1T; Thu, 27 Sep 2007 11:22:42 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1IavCL-0004Y1-8k
	for sip-confirm+ok@megatron.ietf.org; Thu, 27 Sep 2007 11:22:41 -0400
Received: from [10.90.34.44] (helo=chiedprmail1.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1IavCK-0004Xl-SQ
	for sip@ietf.org; Thu, 27 Sep 2007 11:22:40 -0400
Received: from zcars04f.nortel.com ([47.129.242.57])
	by chiedprmail1.ietf.org with esmtp (Exim 4.43) id 1IavCK-0004m8-EQ
	for sip@ietf.org; Thu, 27 Sep 2007 11:22:40 -0400
Received: from zrc2hxm1.corp.nortel.com (zrc2hxm1.corp.nortel.com
	[47.103.123.72])
	by zcars04f.nortel.com (Switch-2.2.6/Switch-2.2.0) with ESMTP id
	l8RFMaH15216; Thu, 27 Sep 2007 15:22:37 GMT
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: [Sip] INFO
Date: Thu, 27 Sep 2007 10:22:32 -0500
Message-ID: <E3F9D87C63E2774390FE67C924EC99BB16E79B0D@zrc2hxm1.corp.nortel.com>
In-Reply-To: <200709271439.l8REd4LE030665@dragon.ariadne.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] INFO
Thread-Index: AcgBFSkGtuyinwebSd+74aovhDsCwAAAgT3Q
References: <6FC4416DDE56C44DA0AEE67BC7CA437116A57D59@zrc2hxm2.corp.nortel.com><C3184CEC.B881%eburger@bea.com><6FC4416DDE56C44DA0AEE67BC7CA437116DFF008@zrc2hxm2.corp.nortel.com><46F7D719.2070004@nostrum.com><0a5401c8005c$a80fad10$800101df@acmepacket.com><46FAA68A.1090408@nostrum.com><0af301c8007c$94d37590$800101df@acmepacket.com><46FAC69C.4070402@nostrum.com><6FC4416DDE56C44DA0AEE67BC7CA437116FF8169@zrc2hxm2.corp.nortel.com><46FAE230.1070807@nostrum.com><6FC4416DDE56C44DA0AEE67BC7CA437116FF8412@zrc2hxm2.corp.nortel.com>
	<46FBAD3D.3090109@nostrum.com>
	<CA9998CD4A020D418654FCDEF4E707DF0237D9B1@esealmw113.eemea.ericsson.se>
	<46FBBA78.7070903@nostrum.com>
	<200709271439.l8REd4LE030665@dragon.ariadne.com>
From: "Mary Barnes" <mary.barnes@nortel.com>
To: <Dale.Worley@comcast.net>, <sip@ietf.org>
X-Spam-Score: 0.0 (/)
X-Scan-Signature: 52f7a77164458f8c7b36b66787c853da
Cc: 
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

And, here's another very old one:

http://quimby.gnus.org/internet-drafts/draft-choudhuri-sip-info-digit-00
.txt

Abstract:
   This document describes the mechanism how SIP INFO method can be used
   by applications that require mid session signaling for transport and=20
   collection of DTMF digits.


Regards,
Mary.=20

-----Original Message-----
From: Dale.Worley@comcast.net [mailto:Dale.Worley@comcast.net]=20
Sent: Thursday, September 27, 2007 9:39 AM
To: sip@ietf.org
Subject: Re: [Sip] INFO

   From: Adam Roach <adam@nostrum.com>

   On 9/27/07 8:40 AM, Christer Holmberg wrote:
   > I actually DO think there was a DTMF-using-INFO draft at some point
- a
   > long time ago.

   Really?

ORLY?

=20
http://www.google.com/search?q=3Dsite%3Atools.ietf.org+%22application%2Fd=
t
mf%22

   ...and, lest there be any confusion about how far back that archive
goes:

       http://tools.ietf.org/html/draft-ietf-mmusic-sip-01

I'm not sure what that search does, but it doesn't turn up the document
you're looking for, viz.:
http://tools.ietf.org/html/draft-ietf-mmusic-sip-info-method-00, which
proposed a new SIP method "INFO" to carry DTMF digits and such
information:

    Abstract

    This document proposes an extension to the Session Initiation
    Protocol.  This extension adds the INFO method to the SIP protocol.
    The intent of the INFO method is to allow for the carrying of
session
    related control information that is generated during a session.
    Examples of such session control information are ISUP/ISDN signaling
    messages and DTMF digits used to control telephony services.

Dale


_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol Use
sip-implementors@cs.columbia.edu for questions on current sip Use
sipping@ietf.org for new developments on the application of sip


_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Thu Sep 27 12:08:41 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1IavrZ-00080O-W1; Thu, 27 Sep 2007 12:05:17 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1IavrZ-00080G-Gg
	for sip-confirm+ok@megatron.ietf.org; Thu, 27 Sep 2007 12:05:17 -0400
Received: from [10.90.34.44] (helo=chiedprmail1.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1IavrZ-0007z2-3o
	for sip@ietf.org; Thu, 27 Sep 2007 12:05:17 -0400
Received: from shaman.nostrum.com ([72.232.15.10] helo=nostrum.com)
	by chiedprmail1.ietf.org with esmtp (Exim 4.43) id 1IavrY-00069v-Mm
	for sip@ietf.org; Thu, 27 Sep 2007 12:05:16 -0400
Received: from orthrus.local (vicuna-alt.estacado.net [75.53.54.121])
	(authenticated bits=0)
	by nostrum.com (8.14.1/8.14.1) with ESMTP id l8RG5FJN082807
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO);
	Thu, 27 Sep 2007 11:05:15 -0500 (CDT)
	(envelope-from adam@nostrum.com)
Message-ID: <46FBD4C0.30601@nostrum.com>
Date: Thu, 27 Sep 2007 11:05:20 -0500
From: Adam Roach <adam@nostrum.com>
User-Agent: Thunderbird 2.0.0.6 (Macintosh/20070728)
MIME-Version: 1.0
To: Mary Barnes <mary.barnes@nortel.com>
Subject: Re: [Sip] INFO
References: <6FC4416DDE56C44DA0AEE67BC7CA437116A57D59@zrc2hxm2.corp.nortel.com><C3184CEC.B881%eburger@bea.com><6FC4416DDE56C44DA0AEE67BC7CA437116DFF008@zrc2hxm2.corp.nortel.com><46F7D719.2070004@nostrum.com><0a5401c8005c$a80fad10$800101df@acmepacket.com><46FAA68A.1090408@nostrum.com><0af301c8007c$94d37590$800101df@acmepacket.com><46FAC69C.4070402@nostrum.com><6FC4416DDE56C44DA0AEE67BC7CA437116FF8169@zrc2hxm2.corp.nortel.com><46FAE230.1070807@nostrum.com><6FC4416DDE56C44DA0AEE67BC7CA437116FF8412@zrc2hxm2.corp.nortel.com>	<46FBAD3D.3090109@nostrum.com>	<CA9998CD4A020D418654FCDEF4E707DF0237D9B1@esealmw113.eemea.ericsson.se>	<46FBBA78.7070903@nostrum.com>	<200709271439.l8REd4LE030665@dragon.ariadne.com>
	<E3F9D87C63E2774390FE67C924EC99BB16E79B0D@zrc2hxm1.corp.nortel.com>
In-Reply-To: <E3F9D87C63E2774390FE67C924EC99BB16E79B0D@zrc2hxm1.corp.nortel.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
Received-SPF: pass (nostrum.com: 75.53.54.121 is authenticated by a trusted
	mechanism)
X-Virus-Scanned: ClamAV 0.91.2/4411/Wed Sep 26 16:43:35 2007 on
	shaman.nostrum.com
X-Virus-Status: Clean
X-Spam-Score: 0.0 (/)
X-Scan-Signature: 93238566e09e6e262849b4f805833007
Cc: sip@ietf.org
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

On 9/27/07 10:22 AM, Mary Barnes wrote:
> And, here's another very old one:
>
> http://quimby.gnus.org/internet-drafts/draft-choudhuri-sip-info-digit-00
> .txt
>   

Aha! Thanks. I conflated "using application/dtmf" with "transporting 
DTMF in info", which is a somewhat broader category. My read is that 
Hadriel and Brian were promoting a specific solution (application/dtmf), 
which may well not be the case.

So, plodding down that path (and going through the old arguments 
regarding DTMF in INFO), I am reminded that Jiri had a draft proposing 
DTMF in INFO using MGCP; and Bert Culpepper mentions this same approach 
in a later draft.

But, going back to the discussion at hand: Brian and Hadriel seem to be 
specifically promoting carrying "appliction/dtmf" in INFO. Since I can 
only guess at their motiviations, I'll leave it to them to indicate 
whether an "application/vnd.nortelnetworks.digits" or "message/mgcp" 
approach would make them happy.

/a


_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Thu Sep 27 12:31:51 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1IawC2-0006QL-M8; Thu, 27 Sep 2007 12:26:26 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1IawC0-0006Iz-3i
	for sip-confirm+ok@megatron.ietf.org; Thu, 27 Sep 2007 12:26:24 -0400
Received: from [10.90.34.44] (helo=chiedprmail1.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1IawBz-0005Ex-Ns
	for sip@ietf.org; Thu, 27 Sep 2007 12:26:23 -0400
Received: from zcars04e.nortel.com ([47.129.242.56])
	by chiedprmail1.ietf.org with esmtp (Exim 4.43) id 1IawBq-0006wi-7g
	for sip@ietf.org; Thu, 27 Sep 2007 12:26:14 -0400
Received: from zrc2hxm2.corp.nortel.com (zrc2hxm2.corp.nortel.com
	[47.103.123.73])
	by zcars04e.nortel.com (Switch-2.2.0/Switch-2.2.0) with ESMTP id
	l8RGNbe05778; Thu, 27 Sep 2007 16:23:37 GMT
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: [Sip] INFO
Date: Thu, 27 Sep 2007 11:26:03 -0500
Message-ID: <6FC4416DDE56C44DA0AEE67BC7CA437116FF8C31@zrc2hxm2.corp.nortel.com>
In-Reply-To: <46FBAD3D.3090109@nostrum.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] INFO
Thread-Index: AcgBCK77uihf188dSJC7/9u8rBh/6wAGWXnQ
References: <6FC4416DDE56C44DA0AEE67BC7CA437116A57D59@zrc2hxm2.corp.nortel.com>
	<C3184CEC.B881%eburger@bea.com><6FC4416DDE56C44DA0AEE67BC7CA437116DFF008@zrc2hxm2.corp.nortel.com>
	<46F7D719.2070004@nostrum.com>
	<0a5401c8005c$a80fad10$800101df@acmepacket.com>
	<46FAA68A.1090408@nostrum.com>
	<0af301c8007c$94d37590$800101df@acmepacket.com>
	<46FAC69C.4070402@nostrum.com>
	<6FC4416DDE56C44DA0AEE67BC7CA437116FF8169@zrc2hxm2.corp.nortel.com>
	<46FAE230.1070807@nostrum.com>
	<6FC4416DDE56C44DA0AEE67BC7CA437116FF8412@zrc2hxm2.corp.nortel.com>
	<46FBAD3D.3090109@nostrum.com>
From: "Brian Stucker" <bstucker@nortel.com>
To: "Adam Roach" <adam@nostrum.com>
X-Spam-Score: 0.0 (/)
X-Scan-Signature: 02ec665d00de228c50c93ed6b5e4fc1a
Cc: sip@ietf.org
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

=20

> -----Original Message-----
> From: Adam Roach [mailto:adam@nostrum.com]=20
> Sent: Thursday, September 27, 2007 8:17 AM
> To: Stucker, Brian (RICH1:AR00)
> Cc: Hadriel Kaplan; sip@ietf.org
> Subject: Re: [Sip] INFO
>=20
> Brian Stucker wrote:
> >> Eric's document basically takes the second approach,=20
> grandfathering=20
> >> all uses of INFO that are currently published in an RFC or=20
> an active=20
> >> internet-draft, and forbidding any others. The list is not=20
> long; I'll=20
> >> replicate it here:
> >>
> >>   1. RFC 3372
> >>
> >> You want more than that, you really need packages.
> >>    =20
> >
> > Expand that list to include application/dtmf and I think you'll=20
> > largely end the debate.
> >  =20
>=20
> It wouldn't be fair to ask you to show me the IANA=20
> registration for that MIME type, so I won't -- but the=20
> practical problem here is that no one has even *tried*=20
> formalizing this mechanism.
>=20
> To be clear, I would argue against standardizing such an=20
> approach (but that discussion is tangential to this one, and=20
> would only distract). My point is: even if someone wants to=20
> support your position, there's nothing for them to support;=20
> there's not even an individual draft -- not even an *expired*=20
> one -- documenting the INFO usage you're promoting.

I'm not promoting anything, I think the issue is fairly moot as many
devices support 2833/4733.

I'm trying to be practical here.

I wasn't aware that nobody had even bothered to register for the MIME
type, that's pretty sad. I just don't buy the argument that you can't
figure out what to do with this usage based on the information sent.
Getting an INFO you don't understand is no worse than getting any other
message or content type you don't understand. Plus, if you don't
understand it, the guy sending it (in this case) is clearly going to get
the angry call from the customer because they can't get their DTMF
buttons to work on their device.

Not having any documentation for it, in a very twisted (and not
recommended) way, even further proves this point because folks are using
it without having to be told much about how it works!

Not the way we want to operate though.

Regards,
Brian


_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Thu Sep 27 12:41:36 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1IawOm-0004K7-FM; Thu, 27 Sep 2007 12:39:36 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1IawOk-0004K2-Va
	for sip-confirm+ok@megatron.ietf.org; Thu, 27 Sep 2007 12:39:35 -0400
Received: from [10.91.34.44] (helo=ietf-mx.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1IawOk-0004Jk-94
	for sip@ietf.org; Thu, 27 Sep 2007 12:39:34 -0400
Received: from pmesmtp01.wcom.com ([199.249.20.1] helo=pmesmtp01.mci.com)
	by ietf-mx.ietf.org with esmtp (Exim 4.43) id 1IawOZ-0003tC-2N
	for sip@ietf.org; Thu, 27 Sep 2007 12:39:29 -0400
Received: from dgismtp02.mcilink.com ([166.38.58.142])
	by firewall.verizonbusiness.com (Iplanet MTA 5.2)
	with ESMTP id <0JP10000CCS230@firewall.verizonbusiness.com> for
	sip@ietf.org; Thu, 27 Sep 2007 16:38:53 +0000 (GMT)
Received: from dgismtp02.mcilink.com ([127.0.0.1])
	by dgismtp02.mcilink.com (iPlanet Messaging Server 5.2 HotFix 2.08
	(built Sep
	22 2005)) with SMTP id <0JP100I1MCUBRZ@dgismtp02.mcilink.com> for
	sip@ietf.org; Thu, 27 Sep 2007 16:37:23 +0000 (GMT)
Received: from ASHSRV139.mcilink.com ([153.39.68.165])
	by dgismtp02.mcilink.com (iPlanet Messaging Server 5.2 HotFix 2.08
	(built Sep
	22 2005)) with ESMTP id <0JP100HJ4CUBXJ@dgismtp02.mcilink.com> for
	sip@ietf.org; Thu, 27 Sep 2007 16:37:23 +0000 (GMT)
Received: from ASHEVS012.mcilink.com ([153.39.69.141])
	by ASHSRV139.mcilink.com with Microsoft SMTPSVC(6.0.3790.1830); Thu,
	27 Sep 2007 16:37:22 +0000
Date: Thu, 27 Sep 2007 16:37:11 +0000
From: "Dwight, Timothy M (Tim)" <timothy.dwight@verizon.com>
Subject: RE: [Sip] What does draft-polk-sip-rph-in-responses-00 get us?
	Isthatwhat we want?
In-reply-to: <OFCEF5A335.F0DB0579-ON85257362.006A119F-85257362.006A32D3@csc.com>
To: Janet P Gunn <jgunn6@csc.com>, Dean Willis <dean.willis@softarmor.com>
Message-id: <7F047EBCFA8C2E499C2A2EF234ABFB3EDB6622@ASHEVS012.mcilink.com>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
Thread-topic: [Sip] What does draft-polk-sip-rph-in-responses-00 get us?
	Isthatwhat we want?
Thread-index: AcgAcubrliCzJz4+Reiyt1NHidFDFQAAOVIg
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
References: <C2466B7D-F703-4372-8E4C-E3CA994B2D4B@softarmor.com>
	<OFCEF5A335.F0DB0579-ON85257362.006A119F-85257362.006A32D3@csc.com>
X-OriginalArrivalTime: 27 Sep 2007 16:37:22.0775 (UTC)
	FILETIME=[ADE18E70:01C80124]
X-Spam-Score: 0.0 (/)
X-Scan-Signature: 33cc095b503da4365ce57c727e553cf1
Cc: IETF SIP List <sip@ietf.org>
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: multipart/mixed; boundary="===============0344114689=="
Errors-To: sip-bounces@ietf.org

This is a multi-part message in MIME format.

--===============0344114689==
Content-type: multipart/alternative;
	boundary="----_=_NextPart_001_01C80124.AD8748CC"
Content-class: urn:content-classes:message

This is a multi-part message in MIME format.

------_=_NextPart_001_01C80124.AD8748CC
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

I have the same concern with suggestions that we "infer" the priority of
responses from the cached state of the associated request - the issue
being that you have to parse the response, then fetch the state info, to
decide its disposition.  The extent to which that is a concern is of
course implementation specific.
=20
In response Jeroen suggested an idea similar to Dean's.  He suggested
sending requests (hence, receiving the associated responses) on
different ports, based on priority.  You could then, under congestion,
make congestion -related decisions (which could include but are not
necessarily limited to, drop vs. enqueue decisions) based on the port on
which responses are received.
=20
Works for me, as might a diffserv tie-in.  I don't know that any
mechanism needs to be mandated, but I think it would be useful to
document the expectation that responses are handled with priority
equivalent to that with which the associated request was handled.  I
think wording like that could support also the case that the element
(e.g., proxy) handles all requests with the same priority.
=20
tim
=20
=20


________________________________

	From: Janet P Gunn [mailto:jgunn6@csc.com]=20
	Sent: Wednesday, September 26, 2007 2:20 PM
	To: Dean Willis
	Cc: 'IETF SIP List'
	Subject: Re: [Sip] What does draft-polk-sip-rph-in-responses-00
get us? Isthatwhat we want?
=09
=09

=09
=09
=09
	--
=09
=09
	Dean Willis <dean.willis@softarmor.com> wrote on 09/26/2007
02:57:35 PM:
=09
=09
	> Perhaps. But if you have to receive, enqueue, and parse the
messages =20
	> to find out they have high priority or not, and if that's a =20
	> substantial part of the workload, and NOT forwarding the
low-priority =20
	> responses is going to dramatically increase your workload (due
to =20
	> cascade), then you gain nothing and lose much by using RPH to

	> prioritize responses. This needs to be tied to some
lower-layer =20
	> mechanism (like a diffserv marking) that can allow for discard

	> without so much parsing.
	>=20
	I would like to hear more on this approach.=20
	=20
	> --
	> Dean
=09


------_=_NextPart_001_01C80124.AD8748CC
Content-Type: text/html;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML><HEAD>
<META http-equiv=3DContent-Type content=3D"text/html; =
charset=3Dus-ascii">
<META content=3D"MSHTML 6.00.2900.3157" name=3DGENERATOR></HEAD>
<BODY>
<DIV dir=3Dltr align=3Dleft><SPAN class=3D740123119-26092007><FONT =
face=3D"Courier New"=20
color=3D#0000ff size=3D2>I have the same concern with suggestions that =
we "infer"=20
the priority of responses from the cached state of the associated =
request - the=20
issue being that you have to parse the response, then fetch the state =
info, to=20
decide its disposition.&nbsp; The extent to which that is a concern is =
of course=20
implementation specific.</FONT></SPAN></DIV>
<DIV dir=3Dltr align=3Dleft><SPAN class=3D740123119-26092007><FONT =
face=3D"Courier New"=20
color=3D#0000ff size=3D2></FONT></SPAN>&nbsp;</DIV>
<DIV dir=3Dltr align=3Dleft><SPAN class=3D740123119-26092007><FONT =
face=3D"Courier New"=20
color=3D#0000ff size=3D2>In response Jeroen suggested an idea similar to =

Dean's.&nbsp; He suggested sending requests (hence, receiving the =
associated=20
responses) on different ports, based on priority.&nbsp; You could then, =
under=20
congestion, make congestion -related decisions (which could include but =
are not=20
necessarily limited to, drop vs. enqueue decisions) based on the =
port&nbsp;on=20
which responses are received.</FONT></SPAN></DIV>
<DIV dir=3Dltr align=3Dleft><SPAN class=3D740123119-26092007><FONT =
face=3D"Courier New"=20
color=3D#0000ff size=3D2></FONT></SPAN>&nbsp;</DIV>
<DIV dir=3Dltr align=3Dleft><SPAN class=3D740123119-26092007><FONT =
face=3D"Courier New"=20
color=3D#0000ff size=3D2>Works for me, as might a diffserv tie-in.&nbsp; =
I don't=20
know that any mechanism needs to be mandated, but I think it would be =
useful to=20
document the expectation that responses are handled with priority =
equivalent to=20
that with which the associated request was handled.&nbsp; I think =
wording like=20
that could support also the case that the element (e.g., proxy) handles =
all=20
requests with the same priority.</FONT></SPAN></DIV>
<DIV dir=3Dltr align=3Dleft><SPAN class=3D740123119-26092007><FONT =
face=3D"Courier New"=20
color=3D#0000ff size=3D2></FONT></SPAN>&nbsp;</DIV>
<DIV dir=3Dltr align=3Dleft><SPAN class=3D740123119-26092007><FONT =
face=3D"Courier New"=20
color=3D#0000ff size=3D2>tim</FONT></SPAN></DIV>
<DIV dir=3Dltr align=3Dleft><SPAN class=3D740123119-26092007><FONT =
face=3D"Courier New"=20
color=3D#0000ff size=3D2></FONT></SPAN>&nbsp;</DIV>
<DIV dir=3Dltr align=3Dleft><SPAN class=3D740123119-26092007><FONT =
face=3D"Courier New"=20
color=3D#0000ff size=3D2></FONT></SPAN>&nbsp;</DIV><BR>
<BLOCKQUOTE=20
style=3D"PADDING-LEFT: 5px; MARGIN-LEFT: 5px; BORDER-LEFT: #0000ff 2px =
solid; MARGIN-RIGHT: 0px">
  <DIV class=3DOutlookMessageHeader lang=3Den-us dir=3Dltr align=3Dleft>
  <HR tabIndex=3D-1>
  <FONT face=3DTahoma size=3D2><B>From:</B> Janet P Gunn =
[mailto:jgunn6@csc.com]=20
  <BR><B>Sent:</B> Wednesday, September 26, 2007 2:20 PM<BR><B>To:</B> =
Dean=20
  Willis<BR><B>Cc:</B> 'IETF SIP List'<BR><B>Subject:</B> Re: [Sip] What =
does=20
  draft-polk-sip-rph-in-responses-00 get us? Isthatwhat we=20
  want?<BR></FONT><BR></DIV>
  <DIV></DIV><BR><FONT face=3Dsans-serif=20
  size=3D2><BR><BR><BR>--<BR></FONT><BR><BR><FONT size=3D2><TT>Dean =
Willis=20
  &lt;dean.willis@softarmor.com&gt; wrote on 09/26/2007 02:57:35=20
  PM:<BR><BR><BR>&gt; Perhaps. But if you have to receive, enqueue, and =
parse=20
  the messages &nbsp;<BR>&gt; to find out they have high priority or =
not, and if=20
  that's a &nbsp;<BR>&gt; substantial part of the workload, and NOT =
forwarding=20
  the low-priority &nbsp;<BR>&gt; responses is going to dramatically =
increase=20
  your workload (due to &nbsp;<BR>&gt; cascade), then you gain nothing =
and lose=20
  much by using RPH to &nbsp;<BR>&gt; prioritize responses. This needs =
to be=20
  tied to some lower-layer &nbsp;<BR>&gt; mechanism (like a diffserv =
marking)=20
  that can allow for discard &nbsp;<BR>&gt; without so much =
parsing.<BR>&gt;=20
  </TT></FONT><BR><FONT size=3D2><TT>I would like to hear more on this=20
  approach.</TT></FONT> <BR><FONT size=3D2><TT>&nbsp;<BR>&gt; --<BR>&gt; =

Dean<BR></BLOCKQUOTE></TT></FONT></BODY></HTML>

------_=_NextPart_001_01C80124.AD8748CC--



--===============0344114689==
Content-Type: text/plain; charset="us-ascii"
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip
--===============0344114689==--





From sip-bounces@ietf.org Thu Sep 27 14:07:30 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1IaxgM-0000zi-2x; Thu, 27 Sep 2007 14:01:50 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1IaxgK-0000wr-9D
	for sip-confirm+ok@megatron.ietf.org; Thu, 27 Sep 2007 14:01:48 -0400
Received: from [10.91.34.44] (helo=ietf-mx.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1IaxgJ-0000wj-Vy
	for sip@ietf.org; Thu, 27 Sep 2007 14:01:47 -0400
Received: from nylon.softarmor.com ([66.135.38.164])
	by ietf-mx.ietf.org with esmtp (Exim 4.43) id 1IaxgD-0005uW-Os
	for sip@ietf.org; Thu, 27 Sep 2007 14:01:47 -0400
Received: from [192.168.2.100] (cpe-76-185-142-113.tx.res.rr.com
	[76.185.142.113]) (authenticated bits=0)
	by nylon.softarmor.com (8.13.8/8.13.8/Debian-3) with ESMTP id
	l8RI1Nmq005543
	(version=TLSv1/SSLv3 cipher=AES128-SHA bits=128 verify=NOT);
	Thu, 27 Sep 2007 13:01:24 -0500
In-Reply-To: <18a603a60709270649j2f6b19d3w77cc244f8403bd6c@mail.gmail.com>
References: <18a603a60709270649j2f6b19d3w77cc244f8403bd6c@mail.gmail.com>
Mime-Version: 1.0 (Apple Message framework v752.3)
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <F2D31068-F3C7-47B7-B948-8B00F8891DB4@softarmor.com>
Content-Transfer-Encoding: 7bit
From: Dean Willis <dean.willis@softarmor.com>
Date: Thu, 27 Sep 2007 13:01:02 -0500
To: Pars Mutaf <pars.mutaf@gmail.com>
X-Mailer: Apple Mail (2.752.3)
X-Spam-Score: 0.0 (/)
X-Scan-Signature: 08170828343bcf1325e4a0fb4584481c
Cc: IETF SIP List <sip@ietf.org>
Subject: [Sip] Re: [P2PSIP] IETF solution for pairing cellular hosts
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org


On Sep 27, 2007, at 8:49 AM, Pars Mutaf wrote:
> The following is a new abstract solution, a third alternative, a  
> protocol
> for "pairing" two cellular hosts:
>

This, I believe, is an obvious combination of directory lookup and  
the SIP CONSENT framework.

Doesn't mean it isn't useful.

--
Dean



_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Thu Sep 27 14:40:42 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1IayFl-0007Cf-RX; Thu, 27 Sep 2007 14:38:25 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1IayFk-0007CV-Hg
	for sip-confirm+ok@megatron.ietf.org; Thu, 27 Sep 2007 14:38:24 -0400
Received: from [10.90.34.44] (helo=chiedprmail1.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1IayFk-0006wY-6u
	for sip@ietf.org; Thu, 27 Sep 2007 14:38:24 -0400
Received: from alnrmhc14.comcast.net ([204.127.225.94])
	by chiedprmail1.ietf.org with esmtp (Exim 4.43) id 1IayFb-0002oa-SA
	for sip@ietf.org; Thu, 27 Sep 2007 14:38:16 -0400
Received: from dragon.ariadne.com (dworley.hsd1.ma.comcast.net[24.34.79.42])
	by comcast.net (alnrmhc14) with ESMTP
	id <20070927183814b1400onqute>; Thu, 27 Sep 2007 18:38:15 +0000
Received: from dragon.ariadne.com (dragon.ariadne.com [127.0.0.1])
	by dragon.ariadne.com (8.12.8/8.12.8) with ESMTP id l8RIcE29015649
	for <sip@ietf.org>; Thu, 27 Sep 2007 14:38:14 -0400
Received: (from worley@localhost)
	by dragon.ariadne.com (8.12.8/8.12.8/Submit) id l8RIcELF015645;
	Thu, 27 Sep 2007 14:38:14 -0400
Date: Thu, 27 Sep 2007 14:38:14 -0400
Message-Id: <200709271838.l8RIcELF015645@dragon.ariadne.com>
From: Dale.Worley@comcast.net
To: sip@ietf.org
In-reply-to: <46D555BD.4010400@ericsson.com> (Gonzalo.Camarillo@ericsson.com)
Subject: Re: [Sip] New revision of draft-ietf-sip-body-handling-00.txt
References: <46D555BD.4010400@ericsson.com>
X-Spam-Score: 0.0 (/)
X-Scan-Signature: de4f315c9369b71d7dd5909b42224370
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

   From: Gonzalo Camarillo <Gonzalo.Camarillo@ericsson.com>

   http://users.piuha.net/gonzalo/temp/draft-ietf-sip-body-handling-00.txt

Reading this draft I was struck by:

   UAs MUST use the binary transfer encoding for binary payloads in SIP.

Firstly, this specification is orthogonal to everything else in the
I-D.  Nonetheless, it is an important point.

Secondly, what about non-binary payloads, etc.?  Don't you really
mean:

   UAs MUST use only the "binary" content transfer encoding in SIP.

Dale


_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Thu Sep 27 15:25:17 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1Iayvf-0006da-Qt; Thu, 27 Sep 2007 15:21:43 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1Iayve-0006bZ-4p
	for sip-confirm+ok@megatron.ietf.org; Thu, 27 Sep 2007 15:21:42 -0400
Received: from [10.90.34.44] (helo=chiedprmail1.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1Iayvd-0006TI-O4
	for sip@ietf.org; Thu, 27 Sep 2007 15:21:41 -0400
Received: from host10.216.41.24.conversent.net ([216.41.24.10]
	helo=acmepacket.com) by chiedprmail1.ietf.org with esmtp (Exim 4.43)
	id 1IayvY-000414-AL for sip@ietf.org; Thu, 27 Sep 2007 15:21:36 -0400
Received: from hkaplan [10.0.200.241] by acmepacket.com with ESMTP
	(SMTPD-9.10) id A2A802B4; Thu, 27 Sep 2007 15:21:12 -0400
From: "Hadriel Kaplan" <HKaplan@acmepacket.com>
To: "'Adam Roach'" <adam@nostrum.com>
References: <6FC4416DDE56C44DA0AEE67BC7CA437116A57D59@zrc2hxm2.corp.nortel.com><C3184CEC.B881%eburger@bea.com><6FC4416DDE56C44DA0AEE67BC7CA437116DFF008@zrc2hxm2.corp.nortel.com><46F7D719.2070004@nostrum.com><0a5401c8005c$a80fad10$800101df@acmepacket.com><46FAA68A.1090408@nostrum.com><0af301c8007c$94d37590$800101df@acmepacket.com><46FAC69C.4070402@nostrum.com><6FC4416DDE56C44DA0AEE67BC7CA437116FF8169@zrc2hxm2.corp.nortel.com><46FAE230.1070807@nostrum.com><6FC4416DDE56C44DA0AEE67BC7CA437116FF8412@zrc2hxm2.corp.nortel.com><46FBAD3D.3090109@nostrum.com><CA9998CD4A020D418654FCDEF4E707DF0237D9B1@esealmw113.eemea.ericsson.se>
	<46FBBA78.7070903@nostrum.com>
Subject: RE: [Sip] INFO
Date: Thu, 27 Sep 2007 15:21:09 -0400
Message-ID: <000001c8013b$9e675710$800101df@acmepacket.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook 11
Thread-Index: AcgBEZlqR+kW+eFnR8K1kkBtxwUAmwAH35Bg
In-Reply-To: <46FBBA78.7070903@nostrum.com>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.3138
X-Spam-Score: 0.0 (/)
X-Scan-Signature: e1e48a527f609d1be2bc8d8a70eb76cb
Cc: sip@ietf.org, 'Brian Stucker' <bstucker@nortel.com>
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

Wow, that is sad.  I was sure there was some draft somewhere.
To be clear, though, it's not literally "application/dtmf" that I'm talking
about - that's just an example I was using to encompass the concept.  The
most popular one is "application/dtmf-relay" I think, but there are like at
least 4 different mime types for dtmf out there.

-hadriel


> -----Original Message-----
> From: Adam Roach [mailto:adam@nostrum.com]
> Sent: Thursday, September 27, 2007 10:13 AM
> To: Christer Holmberg
> Cc: sip@ietf.org; Brian Stucker
> Subject: Re: [Sip] INFO
> 
> On 9/27/07 8:40 AM, Christer Holmberg wrote:
> > I actually DO think there was a DTMF-using-INFO draft at some point - a
> > long time ago.
> >
> 
> Really?
> 
> 
> http://www.google.com/search?q=site%3Atools.ietf.org+%22application%2Fdtmf
> %22
> 
> ...and, lest there be any confusion about how far back that archive goes:
> 
>     http://tools.ietf.org/html/draft-ietf-mmusic-sip-01
> 
> /a
> 
> 
> 
> _______________________________________________
> Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip



_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip

From sip-bounces@ietf.org Thu Sep 27 15:25:17 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1Iayvm-000709-TX; Thu, 27 Sep 2007 15:21:50 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1Iayvl-000704-7p
	for sip-confirm+ok@megatron.ietf.org; Thu, 27 Sep 2007 15:21:49 -0400
Received: from [10.90.34.44] (helo=chiedprmail1.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1Iayvk-0006zw-Rj
	for sip@ietf.org; Thu, 27 Sep 2007 15:21:48 -0400
Received: from host10.216.41.24.conversent.net ([216.41.24.10]
	helo=acmepacket.com) by chiedprmail1.ietf.org with esmtp (Exim 4.43)
	id 1Iayvk-00041M-Ec for sip@ietf.org; Thu, 27 Sep 2007 15:21:48 -0400
Received: from hkaplan [10.0.200.241] by acmepacket.com with ESMTP
	(SMTPD-9.10) id A2CB0230; Thu, 27 Sep 2007 15:21:47 -0400
Message-Id: <200709271521760.SM00376@hkaplan>
From: "Hadriel Kaplan" <HKaplan@acmepacket.com>
To: "'Adam Roach'" <adam@nostrum.com>, "'Mary Barnes'" <mary.barnes@nortel.com>
References: <6FC4416DDE56C44DA0AEE67BC7CA437116A57D59@zrc2hxm2.corp.nortel.com><C3184CEC.B881%eburger@bea.com><6FC4416DDE56C44DA0AEE67BC7CA437116DFF008@zrc2hxm2.corp.nortel.com><46F7D719.2070004@nostrum.com><0a5401c8005c$a80fad10$800101df@acmepacket.com><46FAA68A.1090408@nostrum.com><0af301c8007c$94d37590$800101df@acmepacket.com><46FAC69C.4070402@nostrum.com><6FC4416DDE56C44DA0AEE67BC7CA437116FF8169@zrc2hxm2.corp.nortel.com><46FAE230.1070807@nostrum.com><6FC4416DDE56C44DA0AEE67BC7CA437116FF8412@zrc2hxm2.corp.nortel.com>	<46FBAD3D.3090109@nostrum.com>	<CA9998CD4A020D418654FCDEF4E707DF0237D9B1@esealmw113.eemea.ericsson.se>	<46FBBA78.7070903@nostrum.com>	<200709271439.l8REd4LE030665@dragon.ariadne.com><E3F9D87C63E2774390FE67C924EC99BB16E79B0D@zrc2hxm1.corp.nortel.com>
	<46FBD4C0.30601@nostrum.com>
Subject: RE: [Sip] INFO
Date: Thu, 27 Sep 2007 15:21:10 -0400
Message-ID: <000601c8013b$a617b950$800101df@acmepacket.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook 11
Thread-Index: AcgBIQibbLpqMb+qTfiU7B3oa2gV3gABpP3A
In-Reply-To: <46FBD4C0.30601@nostrum.com>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.3138
X-Spam-Score: 0.0 (/)
X-Scan-Signature: 0bc60ec82efc80c84b8d02f4b0e4de22
Cc: sip@ietf.org
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org



> -----Original Message-----
> From: Adam Roach [mailto:adam@nostrum.com]
> Sent: Thursday, September 27, 2007 12:05 PM
> 
> But, going back to the discussion at hand: Brian and Hadriel seem to be
> specifically promoting carrying "appliction/dtmf" in INFO. Since I can
> only guess at their motiviations, I'll leave it to them to indicate
> whether an "application/vnd.nortelnetworks.digits" or "message/mgcp"
> approach would make them happy.

I'm not advocating anything (yet).  Eric's draft makes the case that Info is
bad for several reasons, one of which is that the message has no context and
no negotiation mechanism.  I'm saying that's fixable.  I am only thinking of
dtmf, because that's the most common use case I see of Info (other than
sip-t), and it was the main use case example in Eric's draft.

At the last IETF meeting the question was raised (by Jonathan I think) along
the lines of "is there a real-world reason INFO keeps getting used, as
opposed to the already standardized approaches?"  I think there are
real-world reasons people use Info vs. KPML.  As far as I can see, KPML is a
rarity.  Obviously there's also 2833/4733.  Plenty of devices do 2833.
Unfortunately, plenty of devices don't too, and there are apps which can't
use 2833 architecturally and need dtmf in SIP.  

-hadriel



_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip





From sip-bounces@ietf.org Thu Sep 27 15:25:17 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1Iayvf-0006da-Qt; Thu, 27 Sep 2007 15:21:43 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1Iayve-0006bZ-4p
	for sip-confirm+ok@megatron.ietf.org; Thu, 27 Sep 2007 15:21:42 -0400
Received: from [10.90.34.44] (helo=chiedprmail1.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1Iayvd-0006TI-O4
	for sip@ietf.org; Thu, 27 Sep 2007 15:21:41 -0400
Received: from host10.216.41.24.conversent.net ([216.41.24.10]
	helo=acmepacket.com) by chiedprmail1.ietf.org with esmtp (Exim 4.43)
	id 1IayvY-000414-AL for sip@ietf.org; Thu, 27 Sep 2007 15:21:36 -0400
Received: from hkaplan [10.0.200.241] by acmepacket.com with ESMTP
	(SMTPD-9.10) id A2A802B4; Thu, 27 Sep 2007 15:21:12 -0400
From: "Hadriel Kaplan" <HKaplan@acmepacket.com>
To: "'Adam Roach'" <adam@nostrum.com>
References: <6FC4416DDE56C44DA0AEE67BC7CA437116A57D59@zrc2hxm2.corp.nortel.com><C3184CEC.B881%eburger@bea.com><6FC4416DDE56C44DA0AEE67BC7CA437116DFF008@zrc2hxm2.corp.nortel.com><46F7D719.2070004@nostrum.com><0a5401c8005c$a80fad10$800101df@acmepacket.com><46FAA68A.1090408@nostrum.com><0af301c8007c$94d37590$800101df@acmepacket.com><46FAC69C.4070402@nostrum.com><6FC4416DDE56C44DA0AEE67BC7CA437116FF8169@zrc2hxm2.corp.nortel.com><46FAE230.1070807@nostrum.com><6FC4416DDE56C44DA0AEE67BC7CA437116FF8412@zrc2hxm2.corp.nortel.com><46FBAD3D.3090109@nostrum.com><CA9998CD4A020D418654FCDEF4E707DF0237D9B1@esealmw113.eemea.ericsson.se>
	<46FBBA78.7070903@nostrum.com>
Subject: RE: [Sip] INFO
Date: Thu, 27 Sep 2007 15:21:09 -0400
Message-ID: <000001c8013b$9e675710$800101df@acmepacket.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook 11
Thread-Index: AcgBEZlqR+kW+eFnR8K1kkBtxwUAmwAH35Bg
In-Reply-To: <46FBBA78.7070903@nostrum.com>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.3138
X-Spam-Score: 0.0 (/)
X-Scan-Signature: e1e48a527f609d1be2bc8d8a70eb76cb
Cc: sip@ietf.org, 'Brian Stucker' <bstucker@nortel.com>
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

Wow, that is sad.  I was sure there was some draft somewhere.
To be clear, though, it's not literally "application/dtmf" that I'm talking
about - that's just an example I was using to encompass the concept.  The
most popular one is "application/dtmf-relay" I think, but there are like at
least 4 different mime types for dtmf out there.

-hadriel


> -----Original Message-----
> From: Adam Roach [mailto:adam@nostrum.com]
> Sent: Thursday, September 27, 2007 10:13 AM
> To: Christer Holmberg
> Cc: sip@ietf.org; Brian Stucker
> Subject: Re: [Sip] INFO
> 
> On 9/27/07 8:40 AM, Christer Holmberg wrote:
> > I actually DO think there was a DTMF-using-INFO draft at some point - a
> > long time ago.
> >
> 
> Really?
> 
> 
> http://www.google.com/search?q=site%3Atools.ietf.org+%22application%2Fdtmf
> %22
> 
> ...and, lest there be any confusion about how far back that archive goes:
> 
>     http://tools.ietf.org/html/draft-ietf-mmusic-sip-01
> 
> /a
> 
> 
> 
> _______________________________________________
> Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip



_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip

From sip-bounces@ietf.org Thu Sep 27 15:25:17 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1Iayvm-000709-TX; Thu, 27 Sep 2007 15:21:50 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1Iayvl-000704-7p
	for sip-confirm+ok@megatron.ietf.org; Thu, 27 Sep 2007 15:21:49 -0400
Received: from [10.90.34.44] (helo=chiedprmail1.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1Iayvk-0006zw-Rj
	for sip@ietf.org; Thu, 27 Sep 2007 15:21:48 -0400
Received: from host10.216.41.24.conversent.net ([216.41.24.10]
	helo=acmepacket.com) by chiedprmail1.ietf.org with esmtp (Exim 4.43)
	id 1Iayvk-00041M-Ec for sip@ietf.org; Thu, 27 Sep 2007 15:21:48 -0400
Received: from hkaplan [10.0.200.241] by acmepacket.com with ESMTP
	(SMTPD-9.10) id A2CB0230; Thu, 27 Sep 2007 15:21:47 -0400
Message-Id: <200709271521760.SM00376@hkaplan>
From: "Hadriel Kaplan" <HKaplan@acmepacket.com>
To: "'Adam Roach'" <adam@nostrum.com>, "'Mary Barnes'" <mary.barnes@nortel.com>
References: <6FC4416DDE56C44DA0AEE67BC7CA437116A57D59@zrc2hxm2.corp.nortel.com><C3184CEC.B881%eburger@bea.com><6FC4416DDE56C44DA0AEE67BC7CA437116DFF008@zrc2hxm2.corp.nortel.com><46F7D719.2070004@nostrum.com><0a5401c8005c$a80fad10$800101df@acmepacket.com><46FAA68A.1090408@nostrum.com><0af301c8007c$94d37590$800101df@acmepacket.com><46FAC69C.4070402@nostrum.com><6FC4416DDE56C44DA0AEE67BC7CA437116FF8169@zrc2hxm2.corp.nortel.com><46FAE230.1070807@nostrum.com><6FC4416DDE56C44DA0AEE67BC7CA437116FF8412@zrc2hxm2.corp.nortel.com>	<46FBAD3D.3090109@nostrum.com>	<CA9998CD4A020D418654FCDEF4E707DF0237D9B1@esealmw113.eemea.ericsson.se>	<46FBBA78.7070903@nostrum.com>	<200709271439.l8REd4LE030665@dragon.ariadne.com><E3F9D87C63E2774390FE67C924EC99BB16E79B0D@zrc2hxm1.corp.nortel.com>
	<46FBD4C0.30601@nostrum.com>
Subject: RE: [Sip] INFO
Date: Thu, 27 Sep 2007 15:21:10 -0400
Message-ID: <000601c8013b$a617b950$800101df@acmepacket.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook 11
Thread-Index: AcgBIQibbLpqMb+qTfiU7B3oa2gV3gABpP3A
In-Reply-To: <46FBD4C0.30601@nostrum.com>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.3138
X-Spam-Score: 0.0 (/)
X-Scan-Signature: 0bc60ec82efc80c84b8d02f4b0e4de22
Cc: sip@ietf.org
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org



> -----Original Message-----
> From: Adam Roach [mailto:adam@nostrum.com]
> Sent: Thursday, September 27, 2007 12:05 PM
> 
> But, going back to the discussion at hand: Brian and Hadriel seem to be
> specifically promoting carrying "appliction/dtmf" in INFO. Since I can
> only guess at their motiviations, I'll leave it to them to indicate
> whether an "application/vnd.nortelnetworks.digits" or "message/mgcp"
> approach would make them happy.

I'm not advocating anything (yet).  Eric's draft makes the case that Info is
bad for several reasons, one of which is that the message has no context and
no negotiation mechanism.  I'm saying that's fixable.  I am only thinking of
dtmf, because that's the most common use case I see of Info (other than
sip-t), and it was the main use case example in Eric's draft.

At the last IETF meeting the question was raised (by Jonathan I think) along
the lines of "is there a real-world reason INFO keeps getting used, as
opposed to the already standardized approaches?"  I think there are
real-world reasons people use Info vs. KPML.  As far as I can see, KPML is a
rarity.  Obviously there's also 2833/4733.  Plenty of devices do 2833.
Unfortunately, plenty of devices don't too, and there are apps which can't
use 2833 architecturally and need dtmf in SIP.  

-hadriel



_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip





From sip-bounces@ietf.org Thu Sep 27 17:44:58 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1Ib13u-0002Ix-Gx; Thu, 27 Sep 2007 17:38:22 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1Ib13s-0002Ck-Pc
	for sip-confirm+ok@megatron.ietf.org; Thu, 27 Sep 2007 17:38:20 -0400
Received: from [10.90.34.44] (helo=chiedprmail1.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1Ib13s-0001y4-D2
	for sip@ietf.org; Thu, 27 Sep 2007 17:38:20 -0400
Received: from rwcrmhc13.comcast.net ([204.127.192.83])
	by chiedprmail1.ietf.org with esmtp (Exim 4.43) id 1Ib13m-0007cc-0U
	for sip@ietf.org; Thu, 27 Sep 2007 17:38:14 -0400
Received: from dragon.ariadne.com (dworley.hsd1.ma.comcast.net[24.34.79.42])
	by comcast.net (rwcrmhc13) with ESMTP
	id <20070927213812m13000lh8oe>; Thu, 27 Sep 2007 21:38:12 +0000
Received: from dragon.ariadne.com (dragon.ariadne.com [127.0.0.1])
	by dragon.ariadne.com (8.12.8/8.12.8) with ESMTP id l8RLcB29028715;
	Thu, 27 Sep 2007 17:38:11 -0400
Received: (from worley@localhost)
	by dragon.ariadne.com (8.12.8/8.12.8/Submit) id l8RLcBLC028711;
	Thu, 27 Sep 2007 17:38:11 -0400
Date: Thu, 27 Sep 2007 17:38:11 -0400
Message-Id: <200709272138.l8RLcBLC028711@dragon.ariadne.com>
To: sip@ietf.org
From: Dale.Worley@comcast.net
In-reply-to: <18a603a60709270649j2f6b19d3w77cc244f8403bd6c@mail.gmail.com>
	(pars.mutaf@gmail.com)
Subject: Re: [Sip] IETF solution for pairing cellular hosts
References: <18a603a60709270649j2f6b19d3w77cc244f8403bd6c@mail.gmail.com>
X-Spam-Score: 0.0 (/)
X-Scan-Signature: 798b2e660f1819ae38035ac1d8d5e3ab
Cc: 
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

   From: "Pars Mutaf" <pars.mutaf@gmail.com>

   The following is a new abstract solution, a third alternative, a protocol
   for "pairing" two cellular hosts:

   Model of operation

   1. The querier user types the target user's "human name" (as if he were
      consulting a phonebook), or a pseudoynm.
   2. The pairing request is forwarded to the target phone.
   3. The query, along with the querier user's name, are displayed on the
      target phone's screen.
   4. The target user approves the request in real-time by pushing on the YES
      button of the phone.
   5. The two phones exchange their Mobile IPv6 home addresses, SIP URIs, and
      establish an IPsec security association (using IKEv2).

How do you make this work?  Step 2 seems to require that you have
already located the target phone, whereas the protocol's *purpose* is
to locate the target phone.

Dale


_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Thu Sep 27 20:28:58 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1Ib3e6-0003Ra-5Y; Thu, 27 Sep 2007 20:23:54 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1Ib3e3-0003Qp-Cq
	for sip-confirm+ok@megatron.ietf.org; Thu, 27 Sep 2007 20:23:51 -0400
Received: from [10.91.34.44] (helo=ietf-mx.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1Ib3e3-0003QC-2x
	for sip@ietf.org; Thu, 27 Sep 2007 20:23:51 -0400
Received: from nylon.softarmor.com ([66.135.38.164])
	by ietf-mx.ietf.org with esmtp (Exim 4.43) id 1Ib3dw-0006bo-T5
	for sip@ietf.org; Thu, 27 Sep 2007 20:23:51 -0400
Received: from [192.168.2.100] (cpe-76-185-142-113.tx.res.rr.com
	[76.185.142.113]) (authenticated bits=0)
	by nylon.softarmor.com (8.13.8/8.13.8/Debian-3) with ESMTP id
	l8S0NbH1008064
	(version=TLSv1/SSLv3 cipher=AES128-SHA bits=128 verify=NOT);
	Thu, 27 Sep 2007 19:23:39 -0500
In-Reply-To: <200709272138.l8RLcBLC028711@dragon.ariadne.com>
References: <18a603a60709270649j2f6b19d3w77cc244f8403bd6c@mail.gmail.com>
	<200709272138.l8RLcBLC028711@dragon.ariadne.com>
Mime-Version: 1.0 (Apple Message framework v752.3)
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <F6FDE115-CA0D-496E-90E0-59A62183C546@softarmor.com>
Content-Transfer-Encoding: 7bit
From: Dean Willis <dean.willis@softarmor.com>
Subject: Re: [Sip] IETF solution for pairing cellular hosts
Date: Thu, 27 Sep 2007 19:23:16 -0500
To: Dale.Worley@comcast.net
X-Mailer: Apple Mail (2.752.3)
X-Spam-Score: 0.0 (/)
X-Scan-Signature: 50a516d93fd399dc60588708fd9a3002
Cc: sip@ietf.org
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org


On Sep 27, 2007, at 4:38 PM, Dale.Worley@comcast.net wrote:

>    From: "Pars Mutaf" <pars.mutaf@gmail.com>
>
>    The following is a new abstract solution, a third alternative, a  
> protocol
>    for "pairing" two cellular hosts:
>
>    Model of operation
>
>    1. The querier user types the target user's "human name" (as if  
> he were
>       consulting a phonebook), or a pseudoynm.
>    2. The pairing request is forwarded to the target phone.
>    3. The query, along with the querier user's name, are displayed  
> on the
>       target phone's screen.
>    4. The target user approves the request in real-time by pushing  
> on the YES
>       button of the phone.
>    5. The two phones exchange their Mobile IPv6 home addresses, SIP  
> URIs, and
>       establish an IPsec security association (using IKEv2).
>
> How do you make this work?  Step 2 seems to require that you have
> already located the target phone, whereas the protocol's *purpose* is
> to locate the target phone.
>


One possibility is that the directory service is operating on behalf  
of the target, not the searcher. As such, the directory service is  
trusted to know the display name to userID binding. When it receives  
a query, the directory service uses the target's SIP contact  
registration to send a consent request to the target user. If the  
target user response positively, then the directory service returns  
the directory's query result to the searcher.

Basically, another layer of indirection (directory) in front of a  
watcher pattern.

There are probably other embodiments, but that's the obvious one.

--
Dean





_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Fri Sep 28 07:26:00 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1IbDrW-0003oZ-SH; Fri, 28 Sep 2007 07:18:26 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1IbDrU-0003V9-GA
	for sip-confirm+ok@megatron.ietf.org; Fri, 28 Sep 2007 07:18:24 -0400
Received: from [10.90.34.44] (helo=chiedprmail1.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1IbDrT-0000vl-VG
	for sip@ietf.org; Fri, 28 Sep 2007 07:18:24 -0400
Received: from fk-out-0910.google.com ([209.85.128.190])
	by chiedprmail1.ietf.org with esmtp (Exim 4.43) id 1IbDr8-0002z0-V1
	for sip@ietf.org; Fri, 28 Sep 2007 07:18:03 -0400
Received: by fk-out-0910.google.com with SMTP id z23so3029423fkz
	for <sip@ietf.org>; Fri, 28 Sep 2007 04:18:00 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=beta;
	h=domainkey-signature:received:received:message-id:date:from:to:subject:cc:in-reply-to:mime-version:content-type:references;
	bh=cMILQ40zaiPGDHQSyGUUXI8AIdPRqzeOz/RSVJfmQWY=;
	b=urvK3VZ22/jCfeNrWVY05qB+TBjqnaNxb7Oazg0wOUUMfjgt1FzBF293/f+FUqGhUr7DVZ7NnlJcJMpLck3cy2JYFI/NDPZSv2r3lqcUvjgb4cMSATdtRePGPNK02yxths4L++cOMpG9G4Ebz8QSo83o2yfoJCKZYTZTYGeeX+Q=
DomainKey-Signature: a=rsa-sha1; c=nofws; d=gmail.com; s=beta;
	h=received:message-id:date:from:to:subject:cc:in-reply-to:mime-version:content-type:references;
	b=tRyMLUTMctXmoE67u//T4Na9JanjOxRg2NavlZre/8Ol8gMdiwL237Y7BGr5AlLp9n5fylkrKMZVGMTUIzGWXWnjc//wxyEWrsr2nmCEjAGWRIhj2vNJq9JOqbVJ021MY2rACsreO/c4OUmwO2uYCj+Ety+jUG2Momq+2GfvsSU=
Received: by 10.82.186.5 with SMTP id j5mr7066166buf.1190978276580;
	Fri, 28 Sep 2007 04:17:56 -0700 (PDT)
Received: by 10.82.169.20 with HTTP; Fri, 28 Sep 2007 04:17:56 -0700 (PDT)
Message-ID: <18a603a60709280417x75a7e937y55254def4491496a@mail.gmail.com>
Date: Fri, 28 Sep 2007 13:17:56 +0200
From: "Pars Mutaf" <pars.mutaf@gmail.com>
To: "Dean Willis" <dean.willis@softarmor.com>
Subject: Re: [Sip] IETF solution for pairing cellular hosts
In-Reply-To: <F6FDE115-CA0D-496E-90E0-59A62183C546@softarmor.com>
MIME-Version: 1.0
References: <18a603a60709270649j2f6b19d3w77cc244f8403bd6c@mail.gmail.com>
	<200709272138.l8RLcBLC028711@dragon.ariadne.com>
	<F6FDE115-CA0D-496E-90E0-59A62183C546@softarmor.com>
X-Spam-Score: 0.0 (/)
X-Scan-Signature: c83ccb5cc10e751496398f1233ca9c3a
Cc: sip@ietf.org, humanresolvers@ietf.org
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: multipart/mixed; boundary="===============0734387152=="
Errors-To: sip-bounces@ietf.org

--===============0734387152==
Content-Type: multipart/alternative; 
	boundary="----=_Part_971_29153070.1190978276569"

------=_Part_971_29153070.1190978276569
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Hello,

Thanx for the message, I hope you and (other SIP experts)
subscribe to the ML:

https://www1.ietf.org/mailman/listinfo/humanresolvers

Personally, I'm not sure if we need a store/forward
solution. We probably don't want to store a pairing
request message while the user is off-line. Because
the request message itself can be used for SPAM.

Maybe a real-time solution is preferable. I.e., if
the target user is off-line we don't care. The querier
needs to try later to get the user's consent.

Personally, I'm also against a SIP-based solution.
This is my personal opinion and of course open to
discussion.

I really hope we can talk about these issues.

Thanks,
pars

On 9/28/07, Dean Willis <dean.willis@softarmor.com> wrote:
>
>
> On Sep 27, 2007, at 4:38 PM, Dale.Worley@comcast.net wrote:
>
> >    From: "Pars Mutaf" <pars.mutaf@gmail.com>
> >
> >    The following is a new abstract solution, a third alternative, a
> > protocol
> >    for "pairing" two cellular hosts:
> >
> >    Model of operation
> >
> >    1. The querier user types the target user's "human name" (as if
> > he were
> >       consulting a phonebook), or a pseudoynm.
> >    2. The pairing request is forwarded to the target phone.
> >    3. The query, along with the querier user's name, are displayed
> > on the
> >       target phone's screen.
> >    4. The target user approves the request in real-time by pushing
> > on the YES
> >       button of the phone.
> >    5. The two phones exchange their Mobile IPv6 home addresses, SIP
> > URIs, and
> >       establish an IPsec security association (using IKEv2).
> >
> > How do you make this work?  Step 2 seems to require that you have
> > already located the target phone, whereas the protocol's *purpose* is
> > to locate the target phone.
> >
>
>
> One possibility is that the directory service is operating on behalf
> of the target, not the searcher. As such, the directory service is
> trusted to know the display name to userID binding. When it receives
> a query, the directory service uses the target's SIP contact
> registration to send a consent request to the target user. If the
> target user response positively, then the directory service returns
> the directory's query result to the searcher.
>
> Basically, another layer of indirection (directory) in front of a
> watcher pattern.
>
> There are probably other embodiments, but that's the obvious one.
>
> --
> Dean
>
>
>
>
>
> _______________________________________________
> Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
>

------=_Part_971_29153070.1190978276569
Content-Type: text/html; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Hello, <br><br>Thanx for the message, I hope you and (other SIP experts)<br>subscribe to the ML:<br><br><a href="https://www1.ietf.org/mailman/listinfo/humanresolvers">https://www1.ietf.org/mailman/listinfo/humanresolvers</a>
<br><br>Personally, I&#39;m not sure if we need a store/forward<br>solution. We probably don&#39;t want to store a pairing<br>request message while the user is off-line. Because<br>the request message itself can be used for SPAM.
<br><br>Maybe a real-time solution is preferable. I.e., if <br>the target user is off-line we don&#39;t care. The querier <br>needs to try later to get the user&#39;s consent. <br><br>Personally, I&#39;m also against a SIP-based solution.
<br>This is my personal opinion and of course open to <br>discussion.<br><br>I really hope we can talk about these issues.<br><br>Thanks,<br>pars<br><br><div><span class="gmail_quote">On 9/28/07, <b class="gmail_sendername">
Dean Willis</b> &lt;<a href="mailto:dean.willis@softarmor.com">dean.willis@softarmor.com</a>&gt; wrote:</span><blockquote class="gmail_quote" style="border-left: 1px solid rgb(204, 204, 204); margin: 0pt 0pt 0pt 0.8ex; padding-left: 1ex;">
<br>On Sep 27, 2007, at 4:38 PM, <a href="mailto:Dale.Worley@comcast.net">Dale.Worley@comcast.net</a> wrote:<br><br>&gt;&nbsp;&nbsp;&nbsp;&nbsp;From: &quot;Pars Mutaf&quot; &lt;<a href="mailto:pars.mutaf@gmail.com">pars.mutaf@gmail.com</a>&gt;
<br>&gt;<br>&gt;&nbsp;&nbsp;&nbsp;&nbsp;The following is a new abstract solution, a third alternative, a<br>&gt; protocol<br>&gt;&nbsp;&nbsp;&nbsp;&nbsp;for &quot;pairing&quot; two cellular hosts:<br>&gt;<br>&gt;&nbsp;&nbsp;&nbsp;&nbsp;Model of operation<br>&gt;<br>&gt;&nbsp;&nbsp;&nbsp;&nbsp;1. The querier user types the target user&#39;s &quot;human name&quot; (as if
<br>&gt; he were<br>&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; consulting a phonebook), or a pseudoynm.<br>&gt;&nbsp;&nbsp;&nbsp;&nbsp;2. The pairing request is forwarded to the target phone.<br>&gt;&nbsp;&nbsp;&nbsp;&nbsp;3. The query, along with the querier user&#39;s name, are displayed<br>
&gt; on the<br>&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; target phone&#39;s screen.<br>&gt;&nbsp;&nbsp;&nbsp;&nbsp;4. The target user approves the request in real-time by pushing<br>&gt; on the YES<br>&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; button of the phone.<br>&gt;&nbsp;&nbsp;&nbsp;&nbsp;5. The two phones exchange their Mobile IPv6 home addresses, SIP
<br>&gt; URIs, and<br>&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; establish an IPsec security association (using IKEv2).<br>&gt;<br>&gt; How do you make this work?&nbsp;&nbsp;Step 2 seems to require that you have<br>&gt; already located the target phone, whereas the protocol&#39;s *purpose* is
<br>&gt; to locate the target phone.<br>&gt;<br><br><br>One possibility is that the directory service is operating on behalf<br>of the target, not the searcher. As such, the directory service is<br>trusted to know the display name to userID binding. When it receives
<br>a query, the directory service uses the target&#39;s SIP contact<br>registration to send a consent request to the target user. If the<br>target user response positively, then the directory service returns<br>the directory&#39;s query result to the searcher.
<br><br>Basically, another layer of indirection (directory) in front of a<br>watcher pattern.<br><br>There are probably other embodiments, but that&#39;s the obvious one.<br><br>--<br>Dean<br><br><br><br><br><br>_______________________________________________
<br>Sip mailing list&nbsp;&nbsp;<a href="https://www1.ietf.org/mailman/listinfo/sip">https://www1.ietf.org/mailman/listinfo/sip</a><br>This list is for NEW development of the core SIP Protocol<br>Use <a href="mailto:sip-implementors@cs.columbia.edu">
sip-implementors@cs.columbia.edu</a> for questions on current sip<br>Use <a href="mailto:sipping@ietf.org">sipping@ietf.org</a> for new developments on the application of sip<br></blockquote></div><br>

------=_Part_971_29153070.1190978276569--



--===============0734387152==
Content-Type: text/plain; charset="us-ascii"
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip
--===============0734387152==--





From sip-bounces@ietf.org Fri Sep 28 08:34:13 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1IbEw9-0006Jy-23; Fri, 28 Sep 2007 08:27:17 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1IbEw7-0006JK-FS
	for sip-confirm+ok@megatron.ietf.org; Fri, 28 Sep 2007 08:27:15 -0400
Received: from [10.90.34.44] (helo=chiedprmail1.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1IbEw6-0006GD-P3
	for sip@ietf.org; Fri, 28 Sep 2007 08:27:14 -0400
Received: from smail5.alcatel.fr ([62.23.212.27])
	by chiedprmail1.ietf.org with esmtp (Exim 4.43) id 1IbEw6-0004YL-2q
	for sip@ietf.org; Fri, 28 Sep 2007 08:27:14 -0400
Received: from FRVELSBHS02.ad2.ad.alcatel.com (frvelsbhs02.ad2.ad.alcatel.com
	[155.132.6.74])
	by smail5.alcatel.fr (8.13.4/8.13.4/ICT) with ESMTP id l8SCQPI9007901
	for <sip@ietf.org>; Fri, 28 Sep 2007 14:26:25 +0200
Received: from [139.54.131.75] ([139.54.131.75]) by
	FRVELSBHS02.ad2.ad.alcatel.com over TLS secured channel with
	Microsoft SMTPSVC(6.0.3790.2499); Fri, 28 Sep 2007 14:27:12 +0200
Message-ID: <46FCF307.30402@alcatel-lucent.fr>
Date: Fri, 28 Sep 2007 14:26:47 +0200
From: Thomas Froment <Thomas.Froment@alcatel-lucent.fr>
User-Agent: Thunderbird 2.0.0.6 (X11/20070728)
MIME-Version: 1.0
To: IETF SIP List <sip@ietf.org>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-OriginalArrivalTime: 28 Sep 2007 12:27:12.0803 (UTC)
	FILETIME=[E5A75730:01C801CA]
X-Scanned-By: MIMEDefang 2.51 on 155.132.188.13
X-Spam-Score: 0.0 (/)
X-Scan-Signature: 8b30eb7682a596edff707698f4a80f7d
Subject: [Sip] RR-fix: open issue on transport protocol parameter
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

Before issuing a new version, draft 
http://www.ietf.org/internet-drafts/draft-ietf-sip-record-route-fix-00.txt 
still contains (at least) one open issue deserving the WG attention:

It is located in section "6. Usage of transport parameter", and question 
is marked as "[Note: these two suggestions have to be discussed]" at the 
end of this section.

I will still try to summarize the problem:
This is related to a common practice in proxy implementors to support  
double Record-Route AND put the transport protocol parameters. This 
practice is acceptable as long as all SIP elements that MAY be in the 
path of subsequent requests support that transport. 
This "restriction" needs  an explanation: let's imagine you have two 
proxies "P1" and "P2" on  the path of an initial request. P1 is 
record-route and changes the  transport from UDP to SCTP because P2 URI 
resolves to SCTP transport  applying [RFC3263], and consequently decides 
to put two Record-Route,  one with P1;transport=UDP, another one with 
P1;transport=SCTP. The  problem arises if P2 is not record-route, 
because the next SIP  element after P2 will be asked to reach P1 using 
SCTP transport for any subsequent request from callee, and this SIP 
element MAY NOT support that transport.

Today, two propositions have been identified to handle this situation:

- The first solution is to add to section 4.1 "Selecting a transport  protocol" of [RFC3263] which states that "If the URI specifies a transport protocol in the transport parameter, that transport  protocol SHOULD be used.", the following statement: "if this protocol  is not supported the procedures described in this document SHOULD be
   followed as if the transport parameter was not set on URI".

- Another solution is to RECOMMEND to NOT put any transport parameter  on Record-Route URI if the transport is a a transport protocol not mandated by RFC3261 (i.e. a transport different from UDP, TCP or
   TLS).


Are any of these propositions considered as acceptable? preferences? 
better suggestions? any help is very welcome,

Thomas





_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Fri Sep 28 08:56:59 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1IbFK7-0006jV-TB; Fri, 28 Sep 2007 08:52:03 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1IbFK6-0006f8-0w
	for sip-confirm+ok@megatron.ietf.org; Fri, 28 Sep 2007 08:52:02 -0400
Received: from [10.90.34.44] (helo=chiedprmail1.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1IbFK5-0006f0-Md
	for sip@ietf.org; Fri, 28 Sep 2007 08:52:01 -0400
Received: from lohi.tutpro.com ([192.98.100.2] helo=tutpro.com)
	by chiedprmail1.ietf.org with esmtp (Exim 4.43) id 1IbFK5-0005Vc-8q
	for sip@ietf.org; Fri, 28 Sep 2007 08:52:01 -0400
Received: from localhost (localhost [127.0.0.1])
	by tutpro.com (Postfix) with ESMTP id F227A1EC63A;
	Fri, 28 Sep 2007 15:51:59 +0300 (EEST)
Received: from tutpro.com ([127.0.0.1])
	by localhost (tutpro.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id rMLNm1tVu3OE; Fri, 28 Sep 2007 15:51:45 +0300 (EEST)
Received: from taimen (polymer105.gprs.dnafinland.fi [62.78.110.105])
	by tutpro.com (Postfix) with ESMTP;
	Fri, 28 Sep 2007 15:51:45 +0300 (EEST)
Received: by taimen (Postfix, from userid 1000)
	id C0195AC06D; Fri, 28 Sep 2007 15:51:39 +0300 (EEST)
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <18172.63707.246371.319945@taimen.test.fi>
Date: Fri, 28 Sep 2007 15:51:39 +0300
To: Thomas Froment <Thomas.Froment@alcatel-lucent.fr>
Subject: [Sip] RR-fix: open issue on transport protocol parameter
In-Reply-To: <46FCF307.30402@alcatel-lucent.fr>
References: <46FCF307.30402@alcatel-lucent.fr>
X-Mailer: VM 7.19 under Emacs 21.4.1
From: jh@tutpro.com (Juha Heinanen)
X-Spam-Score: 0.0 (/)
X-Scan-Signature: 68c8cc8a64a9d0402e43b8eee9fc4199
Cc: IETF SIP List <sip@ietf.org>
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

Thomas Froment writes:

 > - Another solution is to RECOMMEND to NOT put any transport parameter
 > on Record-Route URI if the transport is a a transport protocol not
 > mandated by RFC3261 (i.e. a transport different from UDP, TCP or
 >    TLS).

those transports are mandated by ietf, but not in practice widely
implemented.  so a solution cannot make an assumption that all mandated
transports are always supported.

-- juha


_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Fri Sep 28 09:07:52 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1IbFWe-0001HQ-VG; Fri, 28 Sep 2007 09:05:00 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1IbFWd-0001HH-5w
	for sip-confirm+ok@megatron.ietf.org; Fri, 28 Sep 2007 09:04:59 -0400
Received: from [10.91.34.44] (helo=ietf-mx.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1IbFWc-0001H7-SY
	for sip@ietf.org; Fri, 28 Sep 2007 09:04:58 -0400
Received: from gc-na5.alcatel.fr ([64.208.49.5] helo=smail6.alcatel.fr)
	by ietf-mx.ietf.org with esmtp (Exim 4.43) id 1IbFWW-0007jh-IY
	for sip@ietf.org; Fri, 28 Sep 2007 09:04:58 -0400
Received: from FRVELSBHS02.ad2.ad.alcatel.com (frvelsbhs02.ad2.ad.alcatel.com
	[155.132.6.74])
	by smail6.alcatel.fr (8.13.4/8.13.4/ICT) with ESMTP id l8SD3p3T021497; 
	Fri, 28 Sep 2007 15:03:51 +0200
Received: from [139.54.131.75] ([139.54.131.75]) by
	FRVELSBHS02.ad2.ad.alcatel.com over TLS secured channel with
	Microsoft SMTPSVC(6.0.3790.2499); Fri, 28 Sep 2007 15:04:36 +0200
Message-ID: <46FCFBCB.3080404@alcatel-lucent.fr>
Date: Fri, 28 Sep 2007 15:04:11 +0200
From: Thomas Froment <Thomas.Froment@alcatel-lucent.fr>
User-Agent: Thunderbird 2.0.0.6 (X11/20070728)
MIME-Version: 1.0
To: Juha Heinanen <jh@tutpro.com>
Subject: Re: [Sip] RR-fix: open issue on transport protocol parameter
References: <46FCF307.30402@alcatel-lucent.fr>
	<18172.63707.246371.319945@taimen.test.fi>
In-Reply-To: <18172.63707.246371.319945@taimen.test.fi>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-OriginalArrivalTime: 28 Sep 2007 13:04:36.0642 (UTC)
	FILETIME=[1F160020:01C801D0]
X-Scanned-By: MIMEDefang 2.51 on 155.132.188.84
X-Spam-Score: 0.0 (/)
X-Scan-Signature: 08170828343bcf1325e4a0fb4584481c
Cc: IETF SIP List <sip@ietf.org>
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

Juha Heinanen wrote:
> Thomas Froment writes:
>
>  > - Another solution is to RECOMMEND to NOT put any transport parameter
>  > on Record-Route URI if the transport is a a transport protocol not
>  > mandated by RFC3261 (i.e. a transport different from UDP, TCP or
>  >    TLS).
>
> those transports are mandated by ietf, but not in practice widely
> implemented.  so a solution cannot make an assumption that all mandated
> transports are always supported.
So well, I assume we don't try to specify a standard for those who don't 
support it, so what is your proposal?




_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Fri Sep 28 09:15:21 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1IbFeU-00060z-6F; Fri, 28 Sep 2007 09:13:06 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1IbFeT-0005rv-1A
	for sip-confirm+ok@megatron.ietf.org; Fri, 28 Sep 2007 09:13:05 -0400
Received: from [10.91.34.44] (helo=ietf-mx.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1IbFeS-0005pn-Mj
	for sip@ietf.org; Fri, 28 Sep 2007 09:13:04 -0400
Received: from sip.tutpro.com ([192.98.100.10] helo=tutpro.com)
	by ietf-mx.ietf.org with esmtp (Exim 4.43) id 1IbFeN-0008Gq-5a
	for sip@ietf.org; Fri, 28 Sep 2007 09:13:04 -0400
Received: from localhost (localhost [127.0.0.1])
	by tutpro.com (Postfix) with ESMTP id 2F4B71EC63A;
	Fri, 28 Sep 2007 16:12:43 +0300 (EEST)
Received: from tutpro.com ([127.0.0.1])
	by localhost (tutpro.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id cntaGr22irOu; Fri, 28 Sep 2007 16:12:36 +0300 (EEST)
Received: from taimen (polymer105.gprs.dnafinland.fi [62.78.110.105])
	by tutpro.com (Postfix) with ESMTP;
	Fri, 28 Sep 2007 16:12:36 +0300 (EEST)
Received: by taimen (Postfix, from userid 1000)
	id 708ACAC06D; Fri, 28 Sep 2007 16:12:31 +0300 (EEST)
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <18172.64959.424395.780992@taimen.test.fi>
Date: Fri, 28 Sep 2007 16:12:31 +0300
To: Thomas Froment <Thomas.Froment@alcatel-lucent.fr>
Subject: Re: [Sip] RR-fix: open issue on transport protocol parameter
In-Reply-To: <46FCFBCB.3080404@alcatel-lucent.fr>
References: <46FCF307.30402@alcatel-lucent.fr>
	<18172.63707.246371.319945@taimen.test.fi>
	<46FCFBCB.3080404@alcatel-lucent.fr>
X-Mailer: VM 7.19 under Emacs 21.4.1
From: jh@tutpro.com (Juha Heinanen)
X-Spam-Score: 0.0 (/)
X-Scan-Signature: 08e48e05374109708c00c6208b534009
Cc: IETF SIP List <sip@ietf.org>
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

Thomas Froment writes:

 > So well, I assume we don't try to specify a standard for those who don't 
 > support it, so what is your proposal?

ask alcatel-lucent, cisco, etc., who make and sell such equipment.

-- juha


_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From sip-bounces@ietf.org Sun Sep 30 14:32:30 2007
Return-path: <sip-bounces@ietf.org>
Received: from [127.0.0.1] (helo=stiedprmman1.va.neustar.com)
	by megatron.ietf.org with esmtp (Exim 4.43)
	id 1Ic3T4-0002pQ-54; Sun, 30 Sep 2007 14:24:38 -0400
Received: from sip by megatron.ietf.org with local (Exim 4.43)
	id 1Ic3T2-0002pJ-U0
	for sip-confirm+ok@megatron.ietf.org; Sun, 30 Sep 2007 14:24:36 -0400
Received: from [10.91.34.44] (helo=ietf-mx.ietf.org)
	by megatron.ietf.org with esmtp (Exim 4.43) id 1Ic3T2-0002pA-KR
	for sip@ietf.org; Sun, 30 Sep 2007 14:24:36 -0400
Received: from smtp.iptel.org ([213.192.59.67] helo=mail.iptel.org)
	by ietf-mx.ietf.org with esmtp (Exim 4.43) id 1Ic3Sw-0005nO-CH
	for sip@ietf.org; Sun, 30 Sep 2007 14:24:36 -0400
Received: from uk1lt10071.iptel.org (shell.iptel.org [213.192.59.74])
	by mail.iptel.org (Postfix) with ESMTP id A7B8B18111FB;
	Sun, 30 Sep 2007 20:24:19 +0200 (CEST)
X-Mailer: QUALCOMM Windows Eudora Version 7.1.0.9
Date: Sun, 30 Sep 2007 20:24:00 +0200
To: Thomas Froment <Thomas.Froment@alcatel-lucent.fr>,
	Juha Heinanen <jh@tutpro.com>
From: Jiri Kuthan <jiri@iptel.org>
Subject: Re: [Sip] RR-fix: open issue on transport protocol parameter
In-Reply-To: <46FCFBCB.3080404@alcatel-lucent.fr>
References: <46FCF307.30402@alcatel-lucent.fr>
	<18172.63707.246371.319945@taimen.test.fi>
	<46FCFBCB.3080404@alcatel-lucent.fr>
Mime-Version: 1.0
Content-Type: text/plain; charset="us-ascii"
Message-Id: <20070930182419.A7B8B18111FB@mail.iptel.org>
X-Spam-Score: 0.0 (/)
X-Scan-Signature: 8b30eb7682a596edff707698f4a80f7d
Cc: IETF SIP List <sip@ietf.org>
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.5
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www1.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Errors-To: sip-bounces@ietf.org

At 15:04 28/09/2007, Thomas Froment wrote:
>Juha Heinanen wrote:
>>Thomas Froment writes:
>>
>> > - Another solution is to RECOMMEND to NOT put any transport parameter
>> > on Record-Route URI if the transport is a a transport protocol not
>> > mandated by RFC3261 (i.e. a transport different from UDP, TCP or
>> >    TLS).
>>
>>those transports are mandated by ietf, but not in practice widely
>>implemented.  so a solution cannot make an assumption that all mandated
>>transports are always supported.
>So well, I assume we don't try to specify a standard for those who don't support it, so what is your proposal?

IMO, a clean solution to that is to have record-routing as SHOULD for proxies. 

For a variety of reasons, record-routing is used almost everywhere, and
there are like troubles if it is not. It should be disabled only for
a good reason, and in such case whoever does so should be careful 
about side-effects.

-jiri






>_______________________________________________
>Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
>This list is for NEW development of the core SIP Protocol
>Use sip-implementors@cs.columbia.edu for questions on current sip
>Use sipping@ietf.org for new developments on the application of sip



--
Jiri Kuthan            http://iptel.org/~jiri/



_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



