From daemon@optimus.ietf.org  Sun Dec  2 13:14:10 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id NAA26293
	for <sip-archive@odin.ietf.org>; Sun, 2 Dec 2001 13:14:10 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id NAA18837
	for sip-archive@odin.ietf.org; Sun, 2 Dec 2001 13:14:11 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA18056;
	Sun, 2 Dec 2001 12:42:35 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA18025
	for <sip@optimus.ietf.org>; Sun, 2 Dec 2001 12:42:32 -0500 (EST)
Received: from sj-msg-core-1.cisco.com (sj-msg-core-1.cisco.com [171.71.163.11])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA25274
	for <sip@ietf.org>; Sun, 2 Dec 2001 12:42:30 -0500 (EST)
Received: from imop.cisco.com (imop.cisco.com [171.69.11.44])
	by sj-msg-core-1.cisco.com (8.11.3/8.9.1) with ESMTP id fB2Hfsc05029;
	Sun, 2 Dec 2001 09:41:54 -0800 (PST)
Received: from rmahy-home-nt (ssh-sj1.cisco.com [171.68.225.134])
	by imop.cisco.com (Mirapoint)
	with ESMTP id ACC65397;
	Sun, 2 Dec 2001 09:41:53 -0800 (PST)
Message-Id: <4.2.0.58.20011202092658.03a61e80@lint.cisco.com>
X-Sender: rmahy@lint.cisco.com (Unverified)
X-Mailer: QUALCOMM Windows Eudora Pro Version 4.2.0.58 
Date: Sun, 02 Dec 2001 09:42:18 -0800
To: sip@ietf.org
From: Rohan Mahy <rohan@cisco.com>
Cc: Mpierce1@aol.com, jdrosen@dynamicsoft.com
Mime-Version: 1.0
Content-Type: text/plain; charset="us-ascii"; format=flowed
Subject: [Sip] re: the future of call control
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

 >To: sip@ietf.org
 >Subject: Re: [Sip] The Future of SIP Call Control
 >From: Mpierce1@aol.com
 >Date: Wed, 28 Nov 2001 15:53:56 EST
 >CC: jdrosen@dynamicsoft.com
 >List-Id: Session Initiation Protocol <sip.ietf.org>
 >Sender: sip-admin@ietf.org
[snip]
 >In a message dated 11/28/01 12:45:57 AM Eastern Standard Time,
 >jdrosen@dynamicsoft.com writes: > > -----Original Message-----
 >> Many services are
 >>  "one-sided", in that they require the invoker to understand the semantics
 >of
 >>  the service, but require the other side to only follow a particular
 >protocol
 >>  primitive. Thus, with a sufficiently generaly set of primitives, you can
 >>  make many more of these services work in this fashion. Certainly that is
 >the
 >>  case, for example, with transfer. There are many variants on it, and the
 >>  exact variant (bridged, blind, consulutation, etc.) need ONLY be known by
 >>  the UA invoking the service. If, however, we did as you propose, we would
 >>  need to write a separate draft for each of these variants, and the result
 >of
 >>  that is painfully slow deployment of services, lack of innnovation in
 >>  services, and limited set of standardized services. I do not believe that
 >>  this is the right route, and it has been fairly fundamental to sip that
 >this
 >>  remain the case.
 >>
 >>  Now, this same one-sidedness, with the proper primitives and general,
 >>  service independent components (like the ones described in
 >>  http://www.jdrosen.net/papers/draft-rosenberg-sip-app-components-01.txt),
 >>  you can pretty much nail everything in this way. Conferencing, hold, mute,
 >>  transfer, and with
 >>  http://www.jdrosen.net/papers/draft-rosenberg-sip-call-package-00.txt, 
park
 >>  and pickup, all as these "one-sided services".
 >>
 >>  I've been meaning to write a draft that discusses this stuff in more
 >detail,
 >>  along with how it relates to the user interface problem. Seems like that
 >>  draft is becoming timely...
 >>
 >>  -Jonathan R.
 >>
Mike Pierce then replied:
 >I agree that many services are "one-sided" in that one of the end points
 >involved just responds to messages that are a part of the simple call setup
 >procedures. But that doesn't obviate the need for a "standard". Taking Call
 >Transfer as an example - yes, there are many variants, which is complicating
 >all the discussion of REFER and other protocol elements. But what it all
 >comes down to in the end is, if you want to sell thousands of
 >IP telephones for use in a real network, they will have to be
 >tested/certified as complying with some standard. Currently, with H.323
 >(which I understand is virtually the only IP phones in real use)

No,  For folks to deploy thousands of IP phones, the services merely need 
to work.  Standardization and certification of "blind transfer" (for 
example) is not necessary to sell phones.  As proof of this I will point 
out that there are many more thousands of proprietary IP phones than there 
are H.323 or SIP phones.  This is a regretable situation, but 
understandable since we have not put sufficient protocol primitives in the 
hands of developers to build some of these "one-sided" services.

 >, the
 >question can be "Does your product comply with H.323, H.225, H.425, and
 >H450.2 for Call Transfer?" If anyone tries to sell SIP phones for use in real
 >networks, what would the equivalent question be for compliance?

What you are talking about standardizing is basically user interface 
dependent.  who gets to define the interface for call park?  This isn't 
consistent on Centrex services with analog phones, and it isn't consistent 
across PBX and key systems.

 >Unfortunately, I was previously involved with several standardization efforts
 >that attempted to do exactly what you said - define a set of protocol
 >primitives which the user could then string together any way they wanted to
 >create services. It didn't work then, and I don't think it will now. Mike
 >Pierce

I'll bet you a Cisco SIP Phone it will work this time.  ;-)

thanks,
-rohan

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Sun Dec  2 13:18:54 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id NAA26355
	for <sip-archive@odin.ietf.org>; Sun, 2 Dec 2001 13:18:54 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id NAA18891
	for sip-archive@odin.ietf.org; Sun, 2 Dec 2001 13:18:56 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA18173;
	Sun, 2 Dec 2001 12:51:24 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA18142
	for <sip@optimus.ietf.org>; Sun, 2 Dec 2001 12:51:22 -0500 (EST)
Received: from sj-msg-core-2.cisco.com (sj-msg-core-2.cisco.com [171.69.24.11])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA25373
	for <sip@ietf.org>; Sun, 2 Dec 2001 12:51:19 -0500 (EST)
Received: from imop.cisco.com (imop.cisco.com [171.69.11.44])
	by sj-msg-core-2.cisco.com (8.11.3/8.9.1) with ESMTP id fB2HopD03534
	for <sip@ietf.org>; Sun, 2 Dec 2001 09:50:51 -0800 (PST)
Received: from rmahy-home-nt (ssh-sj1.cisco.com [171.68.225.134])
	by imop.cisco.com (Mirapoint)
	with ESMTP id ACC65421;
	Sun, 2 Dec 2001 09:50:49 -0800 (PST)
Message-Id: <4.2.0.58.20011202094737.03a64310@lint.cisco.com>
X-Sender: rmahy@lint.cisco.com (Unverified)
X-Mailer: QUALCOMM Windows Eudora Pro Version 4.2.0.58 
Date: Sun, 02 Dec 2001 09:51:15 -0800
To: sip@ietf.org
From: Rohan Mahy <rohan@cisco.com>
Mime-Version: 1.0
Content-Type: text/plain; charset="us-ascii"; format=flowed
Subject: [Sip] re: refer-to header
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

Hi,

I think the "right way" to distingish a "voice" INVITE from a "game" INVITE 
is with the caller preferences extensions.

for example:

Refer-To: <sip:rohan@cisco.com?Accept-Contact=*;media="application/game">


 >To: "'Hisham Khartabil'" <hisham.khartabil@hotsip.com>, sip@ietf.org
 >Subject: RE: [Sip] Refer-To header and method-param
 >From: Robert Sparks <rsparks@dynamicsoft.com>
 >Date: Thu, 29 Nov 2001 12:25:57 -0500
 >List-Id: Session Initiation Protocol <sip.ietf.org>
 >Sender: sip-admin@ietf.org > -----Original Message-----
 >> From: Hisham Khartabil [mailto:hisham.khartabil@hotsip.com]
 >> Sent: Thursday, November 29, 2001 3:38 AM
 >> To: sip@ietf.org
 >> Subject: [Sip] Refer-To header and method-param
 >>
 >>
 >> Hi,
 >>
 >> Section 3.5.1 of draft-ietf-sip-refer-02 states:
 >>
 >>    "The resource identified by the Refer-To: URL is contacted
 >> using the
 >>    normal mechanisms for that URL type.  For example, if the URL is a
 >>    SIP INVITE URL, the UA would issue a new INVITE using all of the
 >>    normal rules for sending an INVITE defined in [1]."
 >>
 >> My question is: How can I determine is the URL is indeed an
 >> INVITE URL? What
 >> does an "INVITE URL" mean?
 >>
 >> The only thing I can relate to this is the method-param in a SIP URL.
 >Which is exactly the thing. INVITE is the default value of that method
 >parameter. so sip:foo@bar.com and sip:foo@bar.com;method=INVITE are INVITE
 >URIs. sip:foo@bar.com;method=SUBSCRIBE is a SUBSCRIBE URI >
 >> The other question is: If a UAC has the capabilities to REFER
 >> someone to a
 >> voice session as well as some other session like a Game
 >> session. How does it
 >> tell the referee what type of INVITE it is.
 >>
 >> E.g.
 >>
 >> - A is in a voice session with B
 >> - A is in a game session with C
 >> - A wants to refer D to join the voice with B and game with
 >> C. How would the
 >> Refer-To header differ in that scenario? This is a good question, but its
 >not REFER specific. To put it another way, suppose you want to put a URI that
 >someone can use to join your game on a business card or
 >on a web page. What does it look like? I've heard a number of possible
 >answers for this
 >(and I don't claim this is an exhaustive list) 1) The game URI looks exactly
 >like the voice URI, but you
 >   use different clients to play games and have voice
 >   conversations, so the intent is inferred from which
 >   client you handed the URI too.      This has tons of problems, starting
 >with the assumption
 >     of different clients. 2) The URIs look exactly the same, and agents
 >always include
 >   every kind of session they support in every offer.      Think of video vs
 >audio for a minute. How do you know from
 >     a SIP URI on a business card that someone supports both?
 >     The discussion I've heard to date indicates that you don't -
 >     you just include a video m= line if you want to use it and
 >     if the other side supports it, great! You could take the
 >     same approach with game streams. The downside of this is that
 >     D above may end up in both a voice and game session (think
 >     voice and video if you think that's bad) with C. Now if D is
 >     joining an existing dialog at C (which is managing only a
 >     game session), C can just decline the voice part of the offer.      The
 >downside with this approach is having to include an offer
 >     for everything you support - resource acquisition at the client
 >     may be prohibitive, and the messaging can get huge. What if
 >     you support 30 different games? Are those games only distinguished
 >     by SDP? Do you have 30 sets of m= lines in your offer matching
 >     them? 3) The URIs differ by some parameter, header, or body content.
 >  This path has the most promise, but there needs to be
 >     much discussion about what the difference is. The examples
 >     of games sessions we've seen before use INVITEs that differ
 >     only in their SDP - do we include SDP or some subset of it
 >     in the URI? That way is filled with security and interop
 >     peril.
 >
 >4) You just have a different URI for games, video and voice.      This is a
 >workaround - not a solution.


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Sun Dec  2 17:27:21 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id RAA29647
	for <sip-archive@odin.ietf.org>; Sun, 2 Dec 2001 17:27:20 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id RAA23447
	for sip-archive@odin.ietf.org; Sun, 2 Dec 2001 17:27:23 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id RAA23312;
	Sun, 2 Dec 2001 17:10:19 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id RAA23281
	for <sip@optimus.ietf.org>; Sun, 2 Dec 2001 17:10:16 -0500 (EST)
Received: from mail3.dynamicsoft.com (foo.dynamicsoft.com [63.113.44.69] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id RAA29526
	for <sip@ietf.org>; Sun, 2 Dec 2001 17:10:13 -0500 (EST)
Received: from DYN-VA-EXCH-001.dynamicsoft.com ([63.114.208.70])
	by mail3.dynamicsoft.com (8.12.1/8.12.1) with ESMTP id fB2M9wVZ003110;
	Sun, 2 Dec 2001 17:09:58 -0500 (EST)
Received: by DYN-VA-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.1960.3)
	id <X18HTG33>; Sun, 2 Dec 2001 17:09:43 -0500
Message-ID: <9BF66EBF6BEFD942915B4D4D45C051F338E85E@DYN-TX-EXCH-001.dynamicsoft.com>
From: Robert Sparks <rsparks@dynamicsoft.com>
To: "'Rohan Mahy'" <rohan@cisco.com>, sip@ietf.org
Subject: RE: [Sip] re: refer-to header
Date: Sun, 2 Dec 2001 17:09:40 -0500 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.1960.3)
Content-Type: text/plain
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

Casting it back to what I put on a business card/web page,
how would I distinguish the URL used to enter a quake game
with me from the one used to enter a chess game?

RjS

> -----Original Message-----
> From: Rohan Mahy [mailto:rohan@cisco.com]
> Sent: Sunday, December 02, 2001 11:51 AM
> To: sip@ietf.org
> Subject: [Sip] re: refer-to header
> 
> 
> Hi,
> 
> I think the "right way" to distingish a "voice" INVITE from a 
> "game" INVITE 
> is with the caller preferences extensions.
> 
> for example:
> 
> Refer-To: 
> <sip:rohan@cisco.com?Accept-Contact=*;media="application/game">
> 
> 
>  >To: "'Hisham Khartabil'" <hisham.khartabil@hotsip.com>, sip@ietf.org
>  >Subject: RE: [Sip] Refer-To header and method-param
>  >From: Robert Sparks <rsparks@dynamicsoft.com>
>  >Date: Thu, 29 Nov 2001 12:25:57 -0500
>  >List-Id: Session Initiation Protocol <sip.ietf.org>
>  >Sender: sip-admin@ietf.org > -----Original Message-----
>  >> From: Hisham Khartabil [mailto:hisham.khartabil@hotsip.com]
>  >> Sent: Thursday, November 29, 2001 3:38 AM
>  >> To: sip@ietf.org
>  >> Subject: [Sip] Refer-To header and method-param
>  >>
>  >>
>  >> Hi,
>  >>
>  >> Section 3.5.1 of draft-ietf-sip-refer-02 states:
>  >>
>  >>    "The resource identified by the Refer-To: URL is contacted
>  >> using the
>  >>    normal mechanisms for that URL type.  For example, if 
> the URL is a
>  >>    SIP INVITE URL, the UA would issue a new INVITE using 
> all of the
>  >>    normal rules for sending an INVITE defined in [1]."
>  >>
>  >> My question is: How can I determine is the URL is indeed an
>  >> INVITE URL? What
>  >> does an "INVITE URL" mean?
>  >>
>  >> The only thing I can relate to this is the method-param 
> in a SIP URL.
>  >Which is exactly the thing. INVITE is the default value of 
> that method
>  >parameter. so sip:foo@bar.com and 
> sip:foo@bar.com;method=INVITE are INVITE
>  >URIs. sip:foo@bar.com;method=SUBSCRIBE is a SUBSCRIBE URI >
>  >> The other question is: If a UAC has the capabilities to REFER
>  >> someone to a
>  >> voice session as well as some other session like a Game
>  >> session. How does it
>  >> tell the referee what type of INVITE it is.
>  >>
>  >> E.g.
>  >>
>  >> - A is in a voice session with B
>  >> - A is in a game session with C
>  >> - A wants to refer D to join the voice with B and game with
>  >> C. How would the
>  >> Refer-To header differ in that scenario? This is a good 
> question, but its
>  >not REFER specific. To put it another way, suppose you want 
> to put a URI that
>  >someone can use to join your game on a business card or
>  >on a web page. What does it look like? I've heard a number 
> of possible
>  >answers for this
>  >(and I don't claim this is an exhaustive list) 1) The game 
> URI looks exactly
>  >like the voice URI, but you
>  >   use different clients to play games and have voice
>  >   conversations, so the intent is inferred from which
>  >   client you handed the URI too.      This has tons of 
> problems, starting
>  >with the assumption
>  >     of different clients. 2) The URIs look exactly the 
> same, and agents
>  >always include
>  >   every kind of session they support in every offer.      
> Think of video vs
>  >audio for a minute. How do you know from
>  >     a SIP URI on a business card that someone supports both?
>  >     The discussion I've heard to date indicates that you don't -
>  >     you just include a video m= line if you want to use it and
>  >     if the other side supports it, great! You could take the
>  >     same approach with game streams. The downside of this is that
>  >     D above may end up in both a voice and game session (think
>  >     voice and video if you think that's bad) with C. Now if D is
>  >     joining an existing dialog at C (which is managing only a
>  >     game session), C can just decline the voice part of 
> the offer.      The
>  >downside with this approach is having to include an offer
>  >     for everything you support - resource acquisition at the client
>  >     may be prohibitive, and the messaging can get huge. What if
>  >     you support 30 different games? Are those games only 
> distinguished
>  >     by SDP? Do you have 30 sets of m= lines in your offer matching
>  >     them? 3) The URIs differ by some parameter, header, or 
> body content.
>  >  This path has the most promise, but there needs to be
>  >     much discussion about what the difference is. The examples
>  >     of games sessions we've seen before use INVITEs that differ
>  >     only in their SDP - do we include SDP or some subset of it
>  >     in the URI? That way is filled with security and interop
>  >     peril.
>  >
>  >4) You just have a different URI for games, video and 
> voice.      This is a
>  >workaround - not a solution.
> 
> 
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
> 

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Sun Dec  2 18:11:09 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id SAA29998
	for <sip-archive@odin.ietf.org>; Sun, 2 Dec 2001 18:11:09 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id SAA24564
	for sip-archive@odin.ietf.org; Sun, 2 Dec 2001 18:11:12 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id RAA23956;
	Sun, 2 Dec 2001 17:50:23 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id RAA23927
	for <sip@optimus.ietf.org>; Sun, 2 Dec 2001 17:50:21 -0500 (EST)
Received: from bdsl.66.12.12.130.gte.net (bdsl.66.12.12.130.gte.net [66.12.12.130])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id RAA29753
	for <sip@ietf.org>; Sun, 2 Dec 2001 17:50:17 -0500 (EST)
Received: from blazer (localhost.localdomain [127.0.0.1])
	by bdsl.66.12.12.130.gte.net (8.11.2/8.11.2) with SMTP id fB2Nr1e04114;
	Sun, 2 Dec 2001 17:53:01 -0600
Message-ID: <005901c17b83$741dd950$54fa403f@blazer>
From: "Dean Willis" <dean.willis@softarmor.com>
To: "Robert Sparks" <rsparks@dynamicsoft.com>,
        "'Rohan Mahy'" <rohan@cisco.com>, <sip@ietf.org>
References: <9BF66EBF6BEFD942915B4D4D45C051F338E85E@DYN-TX-EXCH-001.dynamicsoft.com>
Subject: Re: [Sip] re: refer-to header
Date: Sun, 2 Dec 2001 16:48:24 -0600
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2600.0000
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

How does one distinguish an HTTP URL that enters a sex site from one that
retrieves info on a Disney character? I recall that there was some
excitement a few years ago when http://www.bambi.com/ retrieved information
on "wild life" not usually considered suitable for children . . .

In  short, the URL is just an entry point. How that entry point responds is
up to the application behind it. This is not a standardizable thing. The
application MAY base its response on the parametrs of the request as well as
on the body of the request.

In the case posed by Robert, my business card might say:

Voice: sip:dean.willis@softarmor.com
Quake: sip:dw@quakewar.org

Or, it might say:

Voice: sip:dean.willis@softarmor.com
Quake: sip:dean.willis@softarmor.com

(or maybe not even need seperate listsing)

because my proxy should be smart enough to route Quake invites (remember,
it's in the BODY of the INVITE) to my quakebot and not to my phone.

But hey, if my phone can handle Quake, maybe my proxy will route it there .
. . cool phone.

--
Dean

----- Original Message -----
From: "Robert Sparks" <rsparks@dynamicsoft.com>
To: "'Rohan Mahy'" <rohan@cisco.com>; <sip@ietf.org>
Sent: Sunday, December 02, 2001 4:09 PM
Subject: RE: [Sip] re: refer-to header


> Casting it back to what I put on a business card/web page,
> how would I distinguish the URL used to enter a quake game
> with me from the one used to enter a chess game?
>
> RjS
>
> > -----Original Message-----
> > From: Rohan Mahy [mailto:rohan@cisco.com]
> > Sent: Sunday, December 02, 2001 11:51 AM
> > To: sip@ietf.org
> > Subject: [Sip] re: refer-to header
> >
> >
> > Hi,
> >
> > I think the "right way" to distingish a "voice" INVITE from a
> > "game" INVITE
> > is with the caller preferences extensions.
> >
> > for example:
> >
> > Refer-To:
> > <sip:rohan@cisco.com?Accept-Contact=*;media="application/game">
> >
> >
> >  >To: "'Hisham Khartabil'" <hisham.khartabil@hotsip.com>, sip@ietf.org
> >  >Subject: RE: [Sip] Refer-To header and method-param
> >  >From: Robert Sparks <rsparks@dynamicsoft.com>
> >  >Date: Thu, 29 Nov 2001 12:25:57 -0500
> >  >List-Id: Session Initiation Protocol <sip.ietf.org>
> >  >Sender: sip-admin@ietf.org > -----Original Message-----
> >  >> From: Hisham Khartabil [mailto:hisham.khartabil@hotsip.com]
> >  >> Sent: Thursday, November 29, 2001 3:38 AM
> >  >> To: sip@ietf.org
> >  >> Subject: [Sip] Refer-To header and method-param
> >  >>
> >  >>
> >  >> Hi,
> >  >>
> >  >> Section 3.5.1 of draft-ietf-sip-refer-02 states:
> >  >>
> >  >>    "The resource identified by the Refer-To: URL is contacted
> >  >> using the
> >  >>    normal mechanisms for that URL type.  For example, if
> > the URL is a
> >  >>    SIP INVITE URL, the UA would issue a new INVITE using
> > all of the
> >  >>    normal rules for sending an INVITE defined in [1]."
> >  >>
> >  >> My question is: How can I determine is the URL is indeed an
> >  >> INVITE URL? What
> >  >> does an "INVITE URL" mean?
> >  >>
> >  >> The only thing I can relate to this is the method-param
> > in a SIP URL.
> >  >Which is exactly the thing. INVITE is the default value of
> > that method
> >  >parameter. so sip:foo@bar.com and
> > sip:foo@bar.com;method=INVITE are INVITE
> >  >URIs. sip:foo@bar.com;method=SUBSCRIBE is a SUBSCRIBE URI >
> >  >> The other question is: If a UAC has the capabilities to REFER
> >  >> someone to a
> >  >> voice session as well as some other session like a Game
> >  >> session. How does it
> >  >> tell the referee what type of INVITE it is.
> >  >>
> >  >> E.g.
> >  >>
> >  >> - A is in a voice session with B
> >  >> - A is in a game session with C
> >  >> - A wants to refer D to join the voice with B and game with
> >  >> C. How would the
> >  >> Refer-To header differ in that scenario? This is a good
> > question, but its
> >  >not REFER specific. To put it another way, suppose you want
> > to put a URI that
> >  >someone can use to join your game on a business card or
> >  >on a web page. What does it look like? I've heard a number
> > of possible
> >  >answers for this
> >  >(and I don't claim this is an exhaustive list) 1) The game
> > URI looks exactly
> >  >like the voice URI, but you
> >  >   use different clients to play games and have voice
> >  >   conversations, so the intent is inferred from which
> >  >   client you handed the URI too.      This has tons of
> > problems, starting
> >  >with the assumption
> >  >     of different clients. 2) The URIs look exactly the
> > same, and agents
> >  >always include
> >  >   every kind of session they support in every offer.
> > Think of video vs
> >  >audio for a minute. How do you know from
> >  >     a SIP URI on a business card that someone supports both?
> >  >     The discussion I've heard to date indicates that you don't -
> >  >     you just include a video m= line if you want to use it and
> >  >     if the other side supports it, great! You could take the
> >  >     same approach with game streams. The downside of this is that
> >  >     D above may end up in both a voice and game session (think
> >  >     voice and video if you think that's bad) with C. Now if D is
> >  >     joining an existing dialog at C (which is managing only a
> >  >     game session), C can just decline the voice part of
> > the offer.      The
> >  >downside with this approach is having to include an offer
> >  >     for everything you support - resource acquisition at the client
> >  >     may be prohibitive, and the messaging can get huge. What if
> >  >     you support 30 different games? Are those games only
> > distinguished
> >  >     by SDP? Do you have 30 sets of m= lines in your offer matching
> >  >     them? 3) The URIs differ by some parameter, header, or
> > body content.
> >  >  This path has the most promise, but there needs to be
> >  >     much discussion about what the difference is. The examples
> >  >     of games sessions we've seen before use INVITEs that differ
> >  >     only in their SDP - do we include SDP or some subset of it
> >  >     in the URI? That way is filled with security and interop
> >  >     peril.
> >  >
> >  >4) You just have a different URI for games, video and
> > voice.      This is a
> >  >workaround - not a solution.
> >
> >
> > _______________________________________________
> > Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> > This list is for NEW development of the core SIP Protocol
> > Use sip-implementors@cs.columbia.edu for questions on current sip
> > Use sipping@ietf.org for new developments on the application of sip
> >
>
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
>
>


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Sun Dec  2 18:26:44 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id SAA00117
	for <sip-archive@odin.ietf.org>; Sun, 2 Dec 2001 18:26:39 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id SAA24781
	for sip-archive@odin.ietf.org; Sun, 2 Dec 2001 18:26:42 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id SAA24458;
	Sun, 2 Dec 2001 18:04:51 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id SAA24427
	for <sip@optimus.ietf.org>; Sun, 2 Dec 2001 18:04:48 -0500 (EST)
Received: from mail1.dynamicsoft.com (mail1.dynamicsoft.com [63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id SAA29869
	for <sip@ietf.org>; Sun, 2 Dec 2001 18:04:45 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fB2N2m7x006628;
	Sun, 2 Dec 2001 18:02:49 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <YAN9YWNL>; Sun, 2 Dec 2001 18:04:17 -0500
Message-ID: <9BF66EBF6BEFD942915B4D4D45C051F338E861@DYN-TX-EXCH-001.dynamicsoft.com>
From: Robert Sparks <rsparks@dynamicsoft.com>
To: "'Dean Willis'" <dean.willis@softarmor.com>,
        Robert Sparks
	 <rsparks@dynamicsoft.com>,
        "'Rohan Mahy'" <rohan@cisco.com>, sip@ietf.org
Subject: RE: [Sip] re: refer-to header
Date: Sun, 2 Dec 2001 18:04:13 -0500 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

inline

> -----Original Message-----
> From: Dean Willis [mailto:dean.willis@softarmor.com]
> Sent: Sunday, December 02, 2001 4:48 PM
> To: Robert Sparks; 'Rohan Mahy'; sip@ietf.org
> Subject: Re: [Sip] re: refer-to header
> 
> 
> How does one distinguish an HTTP URL that enters a sex site 
> from one that
> retrieves info on a Disney character? I recall that there was some
> excitement a few years ago when http://www.bambi.com/ 
> retrieved information
> on "wild life" not usually considered suitable for children . . .
> 
> In  short, the URL is just an entry point. How that entry 
> point responds is
> up to the application behind it. This is not a standardizable 
> thing. The
> application MAY base its response on the parametrs of the 
> request as well as
> on the body of the request.
> 
> In the case posed by Robert, my business card might say:
> 
> Voice: sip:dean.willis@softarmor.com
> Quake: sip:dw@quakewar.org
> 
> Or, it might say:
> 
> Voice: sip:dean.willis@softarmor.com
> Quake: sip:dean.willis@softarmor.com

If you do this and you put these on a web page, not
a business card, how does your web browser know which
application to launch to generate the associated INVITE?

If happen to have one application that can deal with
both types, how does your app know what kind of SDP
to include in its INVITE (assuming the signalling
distinction between game and voice is in the SDP).

RjS


> 
> (or maybe not even need seperate listsing)
> 
> because my proxy should be smart enough to route Quake 
> invites (remember,
> it's in the BODY of the INVITE) to my quakebot and not to my phone.
> 
> But hey, if my phone can handle Quake, maybe my proxy will 
> route it there .
> . . cool phone.
> 
> --
> Dean
> 
> ----- Original Message -----
> From: "Robert Sparks" <rsparks@dynamicsoft.com>
> To: "'Rohan Mahy'" <rohan@cisco.com>; <sip@ietf.org>
> Sent: Sunday, December 02, 2001 4:09 PM
> Subject: RE: [Sip] re: refer-to header
> 
> 
> > Casting it back to what I put on a business card/web page,
> > how would I distinguish the URL used to enter a quake game
> > with me from the one used to enter a chess game?
> >
> > RjS
> >
> > > -----Original Message-----
> > > From: Rohan Mahy [mailto:rohan@cisco.com]
> > > Sent: Sunday, December 02, 2001 11:51 AM
> > > To: sip@ietf.org
> > > Subject: [Sip] re: refer-to header
> > >
> > >
> > > Hi,
> > >
> > > I think the "right way" to distingish a "voice" INVITE from a
> > > "game" INVITE
> > > is with the caller preferences extensions.
> > >
> > > for example:
> > >
> > > Refer-To:
> > > <sip:rohan@cisco.com?Accept-Contact=*;media="application/game">
> > >
> > >
> > >  >To: "'Hisham Khartabil'" <hisham.khartabil@hotsip.com>, 
> sip@ietf.org
> > >  >Subject: RE: [Sip] Refer-To header and method-param
> > >  >From: Robert Sparks <rsparks@dynamicsoft.com>
> > >  >Date: Thu, 29 Nov 2001 12:25:57 -0500
> > >  >List-Id: Session Initiation Protocol <sip.ietf.org>
> > >  >Sender: sip-admin@ietf.org > -----Original Message-----
> > >  >> From: Hisham Khartabil [mailto:hisham.khartabil@hotsip.com]
> > >  >> Sent: Thursday, November 29, 2001 3:38 AM
> > >  >> To: sip@ietf.org
> > >  >> Subject: [Sip] Refer-To header and method-param
> > >  >>
> > >  >>
> > >  >> Hi,
> > >  >>
> > >  >> Section 3.5.1 of draft-ietf-sip-refer-02 states:
> > >  >>
> > >  >>    "The resource identified by the Refer-To: URL is contacted
> > >  >> using the
> > >  >>    normal mechanisms for that URL type.  For example, if
> > > the URL is a
> > >  >>    SIP INVITE URL, the UA would issue a new INVITE using
> > > all of the
> > >  >>    normal rules for sending an INVITE defined in [1]."
> > >  >>
> > >  >> My question is: How can I determine is the URL is indeed an
> > >  >> INVITE URL? What
> > >  >> does an "INVITE URL" mean?
> > >  >>
> > >  >> The only thing I can relate to this is the method-param
> > > in a SIP URL.
> > >  >Which is exactly the thing. INVITE is the default value of
> > > that method
> > >  >parameter. so sip:foo@bar.com and
> > > sip:foo@bar.com;method=INVITE are INVITE
> > >  >URIs. sip:foo@bar.com;method=SUBSCRIBE is a SUBSCRIBE URI >
> > >  >> The other question is: If a UAC has the capabilities to REFER
> > >  >> someone to a
> > >  >> voice session as well as some other session like a Game
> > >  >> session. How does it
> > >  >> tell the referee what type of INVITE it is.
> > >  >>
> > >  >> E.g.
> > >  >>
> > >  >> - A is in a voice session with B
> > >  >> - A is in a game session with C
> > >  >> - A wants to refer D to join the voice with B and game with
> > >  >> C. How would the
> > >  >> Refer-To header differ in that scenario? This is a good
> > > question, but its
> > >  >not REFER specific. To put it another way, suppose you want
> > > to put a URI that
> > >  >someone can use to join your game on a business card or
> > >  >on a web page. What does it look like? I've heard a number
> > > of possible
> > >  >answers for this
> > >  >(and I don't claim this is an exhaustive list) 1) The game
> > > URI looks exactly
> > >  >like the voice URI, but you
> > >  >   use different clients to play games and have voice
> > >  >   conversations, so the intent is inferred from which
> > >  >   client you handed the URI too.      This has tons of
> > > problems, starting
> > >  >with the assumption
> > >  >     of different clients. 2) The URIs look exactly the
> > > same, and agents
> > >  >always include
> > >  >   every kind of session they support in every offer.
> > > Think of video vs
> > >  >audio for a minute. How do you know from
> > >  >     a SIP URI on a business card that someone supports both?
> > >  >     The discussion I've heard to date indicates that 
> you don't -
> > >  >     you just include a video m= line if you want to use it and
> > >  >     if the other side supports it, great! You could take the
> > >  >     same approach with game streams. The downside of 
> this is that
> > >  >     D above may end up in both a voice and game session (think
> > >  >     voice and video if you think that's bad) with C. 
> Now if D is
> > >  >     joining an existing dialog at C (which is managing only a
> > >  >     game session), C can just decline the voice part of
> > > the offer.      The
> > >  >downside with this approach is having to include an offer
> > >  >     for everything you support - resource acquisition 
> at the client
> > >  >     may be prohibitive, and the messaging can get huge. What if
> > >  >     you support 30 different games? Are those games only
> > > distinguished
> > >  >     by SDP? Do you have 30 sets of m= lines in your 
> offer matching
> > >  >     them? 3) The URIs differ by some parameter, header, or
> > > body content.
> > >  >  This path has the most promise, but there needs to be
> > >  >     much discussion about what the difference is. The examples
> > >  >     of games sessions we've seen before use INVITEs that differ
> > >  >     only in their SDP - do we include SDP or some subset of it
> > >  >     in the URI? That way is filled with security and interop
> > >  >     peril.
> > >  >
> > >  >4) You just have a different URI for games, video and
> > > voice.      This is a
> > >  >workaround - not a solution.
> > >
> > >
> > > _______________________________________________
> > > Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> > > This list is for NEW development of the core SIP Protocol
> > > Use sip-implementors@cs.columbia.edu for questions on current sip
> > > Use sipping@ietf.org for new developments on the 
> application of sip
> > >
> >
> > _______________________________________________
> > Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> > This list is for NEW development of the core SIP Protocol
> > Use sip-implementors@cs.columbia.edu for questions on current sip
> > Use sipping@ietf.org for new developments on the application of sip
> >
> >
> 

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Sun Dec  2 21:21:13 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id VAA01670
	for <sip-archive@odin.ietf.org>; Sun, 2 Dec 2001 21:21:12 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id VAA28731
	for sip-archive@odin.ietf.org; Sun, 2 Dec 2001 21:21:15 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id VAA28169;
	Sun, 2 Dec 2001 21:00:15 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id VAA28078
	for <sip@optimus.ietf.org>; Sun, 2 Dec 2001 21:00:10 -0500 (EST)
Received: from cyberpackets.com (www.cyberpackets.com [64.85.4.11] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id VAA01512
	for <sip@ietf.org>; Sun, 2 Dec 2001 21:00:06 -0500 (EST)
Received: from myg [200.81.10.25] by cyberpackets.com
  (SMTPD32-6.00) id AFC517D90100; Sun, 02 Dec 2001 18:13:25 -0800
From: "Gabriel Velo" <gvelo@astartec.com>
To: <sip@ietf.org>
Date: Mon, 3 Dec 2001 06:46:10 -0300
Message-ID: <MABBLHAMFMJBNDFLPFBGAEOMCBAA.gvelo@astartec.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4522.1200
Importance: Normal
Content-Transfer-Encoding: 7bit
Subject: [Sip] Missing Call-ID header
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Dear All,

I have a question regarding chapter 23.4.1
the paragraph state that....

"The request could not be understood due to malformed syntax. The
Reason-Phrase SHOULD identify the syntax problem in more detail, e.g.,
"Missing Call-ID header". "


Must a UA send a 400 response to a request that have missing mandatory
headers ?
If this is right , how a UA match this response to the corresponding
request?.

Apologies if this has already been discussed.

thanks.
Gabriel Velo.


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Mon Dec  3 00:48:46 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id AAA05194
	for <sip-archive@odin.ietf.org>; Mon, 3 Dec 2001 00:48:45 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id AAA03847
	for sip-archive@odin.ietf.org; Mon, 3 Dec 2001 00:48:45 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id AAA03327;
	Mon, 3 Dec 2001 00:37:17 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id AAA03297
	for <sip@optimus.ietf.org>; Mon, 3 Dec 2001 00:37:13 -0500 (EST)
Received: from mail.datang.com (2108.ddn.xaonline.com [202.100.9.68] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id AAA05087
	for <sip@ietf.org>; Mon, 3 Dec 2001 00:37:11 -0500 (EST)
Received: from chenshx (2158.ddn.xaonline.com [202.100.9.118] (may be forged))
	by mail.datang.com (8.11.0/8.11.0) with SMTP id fB35XKB21882
	for <sip@ietf.org>; Mon, 3 Dec 2001 13:33:20 +0800
Message-ID: <004c01c17bbc$479834f0$2f19a8c0@chenshx>
From: =?gb2312?B?s8LJxtGn?= <chenshx@mail.datang.com>
To: <sip@ietf.org>
Date: Mon, 3 Dec 2001 13:35:07 +0800
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0045_01C17BFF.52748750"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2600.0000
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
Subject: [Sip] question about stateful proxy and TCP
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

This is a multi-part message in MIME format.

------=_NextPart_000_0045_01C17BFF.52748750
Content-Type: text/plain;
	charset="gb2312"
Content-Transfer-Encoding: base64

V2h5IHdlIG11c3QgdXMgc3RhdGVmdWwgcHJveHkgc2VydmVyIHdoZW4gdGhlIA0KdHJhbnNwb3J0
IGxheWVyJ3MgcHJvdG9jb2wgaXMgVENQPw0KDQogICAgdGhhbmsgdQ0KICAgIHNoYW54dWUuY2hl
bg0K

------=_NextPart_000_0045_01C17BFF.52748750
Content-Type: text/html;
	charset="gb2312"
Content-Transfer-Encoding: base64

PCFET0NUWVBFIEhUTUwgUFVCTElDICItLy9XM0MvL0RURCBIVE1MIDQuMCBUcmFuc2l0aW9uYWwv
L0VOIj4NCjxIVE1MPjxIRUFEPg0KPE1FVEEgaHR0cC1lcXVpdj1Db250ZW50LVR5cGUgY29udGVu
dD0idGV4dC9odG1sOyBjaGFyc2V0PWdiMjMxMiI+DQo8TUVUQSBjb250ZW50PSJNU0hUTUwgNi4w
MC4yNjAwLjAiIG5hbWU9R0VORVJBVE9SPg0KPFNUWUxFPjwvU1RZTEU+DQo8L0hFQUQ+DQo8Qk9E
WSBiZ0NvbG9yPSNmZmZmZmY+DQo8RElWPjxGT05UIHNpemU9Mj5XaHkgd2UgbXVzdCB1cyBzdGF0
ZWZ1bCBwcm94eSBzZXJ2ZXIgd2hlbiB0aGUgPC9GT05UPjwvRElWPg0KPERJVj48Rk9OVCBzaXpl
PTI+dHJhbnNwb3J0IGxheWVyJ3MgcHJvdG9jb2wgaXMgVENQPzwvRk9OVD48L0RJVj4NCjxESVY+
PEZPTlQgc2l6ZT0yPjwvRk9OVD4mbmJzcDs8L0RJVj4NCjxESVY+PEZPTlQgc2l6ZT0yPiZuYnNw
OyZuYnNwOyZuYnNwOyB0aGFuayB1PC9GT05UPjwvRElWPg0KPERJVj48Rk9OVCBzaXplPTI+Jm5i
c3A7Jm5ic3A7Jm5ic3A7IHNoYW54dWUuY2hlbjwvRk9OVD48L0RJVj48L0JPRFk+PC9IVE1MPg0K

------=_NextPart_000_0045_01C17BFF.52748750--


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Mon Dec  3 00:53:40 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id AAA05257
	for <sip-archive@odin.ietf.org>; Mon, 3 Dec 2001 00:53:40 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id AAA04006
	for sip-archive@odin.ietf.org; Mon, 3 Dec 2001 00:53:37 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id AAA03277;
	Mon, 3 Dec 2001 00:34:46 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id AAA03245
	for <sip@optimus.ietf.org>; Mon, 3 Dec 2001 00:34:43 -0500 (EST)
Received: from mail.datang.com (2108.ddn.xaonline.com [202.100.9.68] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id AAA05082
	for <sip@ietf.org>; Mon, 3 Dec 2001 00:34:37 -0500 (EST)
Received: from chenshx (2158.ddn.xaonline.com [202.100.9.118] (may be forged))
	by mail.datang.com (8.11.0/8.11.0) with SMTP id fB35UjB21776
	for <sip@ietf.org>; Mon, 3 Dec 2001 13:30:45 +0800
Message-ID: <003f01c17bbb$eaf2dc50$2f19a8c0@chenshx>
From: =?gb2312?B?s8LJxtGn?= <chenshx@mail.datang.com>
To: <sip@ietf.org>
Date: Mon, 3 Dec 2001 13:32:31 +0800
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_003C_01C17BFE.F58F1870"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2600.0000
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
Subject: [Sip] question about 180 Ringing
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

This is a multi-part message in MIME format.

------=_NextPart_000_003C_01C17BFE.F58F1870
Content-Type: text/plain;
	charset="gb2312"
Content-Transfer-Encoding: base64

RGVhciBhbGwNCkkgaGF2ZSBhIHF1ZXN0aW9uIGFzIGZvbGxvdy5UaGUgZmlndXJlIGV4aXN0cyBp
biBiaXMtMDUuDQpJIGhhdmUgY2hhbmdlICIxODAgUmluaW5nIg0KTXkgZmlndXJlOg0KICAgICAg
ICAgICAgICAgICBhdGxhbnRhLmNvbSAgLiAuIC4gYmlsb3hpLmNvbQ0KICAgICAgICAgICAgIC4g
ICAgICBwcm94eSAgICAgICAgICAgICAgcHJveHkgICAgIC4NCiAgICAgICAgICAgLiAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4NCiAgIEFsaWNlJ3MgIC4gLiAuIC4gLiAu
IC4gLiAuIC4gLiAuIC4gLiAuIC4gLiAuIC4gLiAgQm9iJ3MNCiAgc29mdHBob25lICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNJUCBQaG9uZQ0KICAgICB8ICAgICAgICAg
ICAgICAgIHwgICAgICAgICAgICAgICAgfCAgICAgICAgICAgICAgICB8DQogICAgIHwgICAgSU5W
SVRFIEYxICAgfCAgICAgICAgICAgICAgICB8ICAgICAgICAgICAgICAgIHwNCiAgICAgfC0tLS0t
LS0tLS0tLS0tLT58ICAgIElOVklURSBGMyAgIHwgICAgICAgICAgICAgICAgfA0KICAgICB8ICAx
MDAgVHJ5aW5nIEYyIHwtLS0tLS0tLS0tLS0tLS0+fCAgICBJTlZJVEUgRjUgICB8DQogICAgIHw8
LS0tLS0tLS0tLS0tLS0tfCAgMTAwIFRyeWluZyBGNCB8LS0tLS0tLS0tLS0tLS0tPnwNCiAgICAg
fCAgICAgICAgICAgICAgICB8PC0tLS0tLS0tLS0tLS0tIHwgICAgICAgICAgICAgICAgfA0KICAg
ICB8ICAgICAgICAgICAgICAgICAgMTgwIFJpbmdpbmcgRjcgICAgICAgICAgICAgICAgICB8DQog
ICAgIHw8LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLXwN
CiAgICAgfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDIwMCBPSyBGOSAg
fA0KICAgICB8ICAgICAgICAgICAgICAgIHwgICAgMjAwIE9LIEYxMCAgfDwtLS0tLS0tLS0tLS0t
LS18DQogICAgIHwgICAgMjAwIE9LIEYxMSAgfDwtLS0tLS0tLS0tLS0tLS18ICAgICAgICAgICAg
ICAgIHwNCiAgICAgfDwtLS0tLS0tLS0tLS0tLS18ICAgICAgICAgICAgICAgIHwgICAgICAgICAg
ICAgICAgfA0KICAgICB8ICAgICAgICAgICAgICAgICAgICAgICBBQ0sgRjEyICAgICAgICAgICAg
ICAgICAgICB8DQogICAgIHwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tPnwNCiAgICAgfCAgICAgICAgICAgICAgICAgICBNZWRpYSBTZXNzaW9uICAgICAg
ICAgICAgICAgICAgfA0KICAgICB8PD09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT58DQogICAgIHwgICAgICAgICAgICAgICAgICAgICAgIEJZRSBGMTMgICAg
ICAgICAgICAgICAgICAgIHwNCiAgICAgfDwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tfA0KICAgICB8ICAgICAgICAgICAgICAgICAgICAgMjAwIE9LIEYx
NCAgICAgICAgICAgICAgICAgICB8DQogICAgIHwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tPnwNCiAgICAgfCAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgfA0KSSBjb25zaWRlcmVkIHRoYXQgdGhlIG1pZGRsZSBz
dGF0ZSBpcyBub3QgaW1wb3J0YW50LGFuZCB0aGUNCmVuZHBvaW50ICJ0aGUgYm9iJ3Mgc2lwcGhv
bmUiIGhhcyBrbm93biB0aGUgImNvbnRhY3QiIGFib3V0DQpBbGljZSdzIGRpcmVjdCBhZHJlc3Mu
U28gYm9iIGNhbiBzZW5kICIxODAgUmluZ2luZyIgZGlyZWN0bHkNCnRvIGFsaWNlIHJhdGhlciB0
aGFuIHBhc3NlZCBob3AgYnkgaG9wLg0KDQpUaGUgb3JpZ2luYWwgZmlndXJlOg0KICAgICAgICAg
ICAgICAgICBhdGxhbnRhLmNvbSAgLiAuIC4gYmlsb3hpLmNvbQ0KICAgICAgICAgICAgIC4gICAg
ICBwcm94eSAgICAgICAgICAgICAgcHJveHkgICAgIC4NCiAgICAgICAgICAgLiAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4NCiAgIEFsaWNlJ3MgIC4gLiAuIC4gLiAuIC4g
LiAuIC4gLiAuIC4gLiAuIC4gLiAuIC4gLiAgQm9iJ3MNCiAgc29mdHBob25lICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNJUCBQaG9uZQ0KICAgICB8ICAgICAgICAgICAg
ICAgIHwgICAgICAgICAgICAgICAgfCAgICAgICAgICAgICAgICB8DQogICAgIHwgICAgSU5WSVRF
IEYxICAgfCAgICAgICAgICAgICAgICB8ICAgICAgICAgICAgICAgIHwNCiAgICAgfC0tLS0tLS0t
LS0tLS0tLT58ICAgIElOVklURSBGMyAgIHwgICAgICAgICAgICAgICAgfA0KICAgICB8ICAxMDAg
VHJ5aW5nIEYyIHwtLS0tLS0tLS0tLS0tLS0+fCAgICBJTlZJVEUgRjUgICB8DQogICAgIHw8LS0t
LS0tLS0tLS0tLS0tfCAgMTAwIFRyeWluZyBGNCB8LS0tLS0tLS0tLS0tLS0tPnwNCiAgICAgfCAg
ICAgICAgICAgICAgICB8PC0tLS0tLS0tLS0tLS0tIHwgMTgwIFJpbmdpbmcgRjYgfA0KICAgICB8
ICAgICAgICAgICAgICAgIHwgMTgwIFJpbmdpbmcgRjcgfDwtLS0tLS0tLS0tLS0tLS18DQogICAg
IHwgMTgwIFJpbmdpbmcgRjggfDwtLS0tLS0tLS0tLS0tLS18ICAgICAyMDAgT0sgRjkgIHwNCiAg
ICAgfDwtLS0tLS0tLS0tLS0tLS18ICAgIDIwMCBPSyBGMTAgIHw8LS0tLS0tLS0tLS0tLS0tfA0K
ICAgICB8ICAgIDIwMCBPSyBGMTEgIHw8LS0tLS0tLS0tLS0tLS0tfCAgICAgICAgICAgICAgICB8
DQogICAgIHw8LS0tLS0tLS0tLS0tLS0tfCAgICAgICAgICAgICAgICB8ICAgICAgICAgICAgICAg
IHwNCiAgICAgfCAgICAgICAgICAgICAgICAgICAgICAgQUNLIEYxMiAgICAgICAgICAgICAgICAg
ICAgfA0KICAgICB8LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLT58DQogICAgIHwgICAgICAgICAgICAgICAgICAgTWVkaWEgU2Vzc2lvbiAgICAgICAgICAg
ICAgICAgIHwNCiAgICAgfDw9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT0+fA0KICAgICB8ICAgICAgICAgICAgICAgICAgICAgICBCWUUgRjEzICAgICAgICAg
ICAgICAgICAgICB8DQogICAgIHw8LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLXwNCiAgICAgfCAgICAgICAgICAgICAgICAgICAgIDIwMCBPSyBGMTQgICAg
ICAgICAgICAgICAgICAgfA0KICAgICB8LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLT58DQogICAgIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgIHwNCg0K

------=_NextPart_000_003C_01C17BFE.F58F1870
Content-Type: text/html;
	charset="gb2312"
Content-Transfer-Encoding: base64

PCFET0NUWVBFIEhUTUwgUFVCTElDICItLy9XM0MvL0RURCBIVE1MIDQuMCBUcmFuc2l0aW9uYWwv
L0VOIj4NCjxIVE1MPjxIRUFEPg0KPE1FVEEgaHR0cC1lcXVpdj1Db250ZW50LVR5cGUgY29udGVu
dD0idGV4dC9odG1sOyBjaGFyc2V0PWdiMjMxMiI+DQo8TUVUQSBjb250ZW50PSJNU0hUTUwgNi4w
MC4yNjAwLjAiIG5hbWU9R0VORVJBVE9SPg0KPFNUWUxFPjwvU1RZTEU+DQo8L0hFQUQ+DQo8Qk9E
WSBiZ0NvbG9yPSNmZmZmZmY+DQo8RElWPjxGT05UIHNpemU9Mj5EZWFyIGFsbDwvRk9OVD48L0RJ
Vj4NCjxESVY+PEZPTlQgc2l6ZT0yPkkgaGF2ZSBhIHF1ZXN0aW9uIGFzIGZvbGxvdy5UaGUgZmln
dXJlIGV4aXN0cyBpbiANCmJpcy0wNS48L0ZPTlQ+PC9ESVY+DQo8RElWPjxGT05UIHNpemU9Mj5J
IGhhdmUgY2hhbmdlICIxODAgUmluaW5nIjwvRk9OVD48L0RJVj4NCjxESVY+PEZPTlQgc2l6ZT0y
Pk15IGZpZ3VyZTo8L0ZPTlQ+PC9ESVY+DQo8RElWPg0KPERJVj48Rk9OVCANCnNpemU9Mj4mbmJz
cDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsm
bmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsgDQphdGxhbnRhLmNvbSZuYnNwOyAu
IC4gLiANCmJpbG94aS5jb208QlI+Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7
Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7IA0KLiZuYnNwOyZuYnNwOyZuYnNw
OyZuYnNwOyZuYnNwOyANCnByb3h5Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7
Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7IA0KcHJveHkmbmJzcDsm
bmJzcDsmbmJzcDsmbmJzcDsgDQouPEJSPiZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZu
YnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyANCi4mbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsm
bmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJz
cDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsm
bmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJz
cDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsgDQouPEJSPiZuYnNwOyZuYnNwOyBBbGlj
ZSdzJm5ic3A7IC4gLiAuIC4gLiAuIC4gLiAuIC4gLiAuIC4gLiAuIC4gLiAuIC4gLiZuYnNwOyAN
CkJvYidzPEJSPiZuYnNwOyANCnNvZnRwaG9uZSZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNw
OyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZu
YnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNw
OyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZu
YnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyANClNJUCBQaG9uZTxCUj4mbmJzcDsm
bmJzcDsmbmJzcDsmbmJzcDsgDQp8Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7
Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7IA0K
fCZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZu
YnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyANCnwmbmJzcDsmbmJzcDsmbmJzcDsm
bmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJz
cDsmbmJzcDsmbmJzcDsgDQp8PEJSPiZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyB8Jm5ic3A7Jm5i
c3A7Jm5ic3A7IElOVklURSBGMSZuYnNwOyZuYnNwOyANCnwmbmJzcDsmbmJzcDsmbmJzcDsmbmJz
cDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsm
bmJzcDsmbmJzcDsgDQp8Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7
Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7IA0KfDxCUj4m
bmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsgfC0tLS0tLS0tLS0tLS0tLSZndDt8Jm5ic3A7Jm5ic3A7
Jm5ic3A7IElOVklURSANCkYzJm5ic3A7Jm5ic3A7IA0KfCZuYnNwOyZuYnNwOyZuYnNwOyZuYnNw
OyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZu
YnNwOyZuYnNwOyANCnw8QlI+Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7IHwmbmJzcDsgMTAwIFRy
eWluZyBGMiANCnwtLS0tLS0tLS0tLS0tLS0mZ3Q7fCZuYnNwOyZuYnNwOyZuYnNwOyBJTlZJVEUg
RjUmbmJzcDsmbmJzcDsgDQp8PEJSPiZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyB8Jmx0Oy0tLS0t
LS0tLS0tLS0tLXwmbmJzcDsgMTAwIFRyeWluZyBGNCANCnwtLS0tLS0tLS0tLS0tLS0mZ3Q7fDxC
Uj4mbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsgDQp8Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5i
c3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7
Jm5ic3A7IA0KfCZsdDstLS0tLS0tLS0tLS0tLSANCnwmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsm
bmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJz
cDsmbmJzcDsgDQp8PEJSPiZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyANCnwmbmJzcDsmbmJzcDsm
bmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJz
cDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsgDQombmJzcDsxODAgUmluZ2luZyANCkY3Jm5ic3A7
Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5i
c3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7IA0KfDxCUj4mbmJzcDsmbmJz
cDsmbmJzcDsmbmJzcDsgDQp8Jmx0Oy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS18PC9GT05UPjwvRElWPg0KPERJVj48Rk9OVCBzaXplPTI+Jm5ic3A7Jm5i
c3A7Jm5ic3A7Jm5ic3A7IA0KfCZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZu
YnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNw
OyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZu
YnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNw
OyZuYnNwOyZuYnNwOyZuYnNwOyANCjIwMCBPSyBGOSZuYnNwOyZuYnNwO3w8QlI+Jm5ic3A7Jm5i
c3A7Jm5ic3A7Jm5ic3A7IA0KfCZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZu
YnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyANCnwm
bmJzcDsmbmJzcDsmbmJzcDsgMjAwIE9LIEYxMCZuYnNwOyANCnwmbHQ7LS0tLS0tLS0tLS0tLS0t
fDxCUj4mbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsgfCZuYnNwOyZuYnNwOyZuYnNwOyAyMDAgT0sg
DQpGMTEmbmJzcDsgDQp8Jmx0Oy0tLS0tLS0tLS0tLS0tLXwmbmJzcDsmbmJzcDsmbmJzcDsmbmJz
cDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsm
bmJzcDsmbmJzcDsgDQp8PEJSPiZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyANCnwmbHQ7LS0tLS0t
LS0tLS0tLS0tfCZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNw
OyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyANCnwmbmJzcDsmbmJz
cDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsm
bmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsgDQp8PEJSPiZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyAN
CnwmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsm
bmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJz
cDsmbmJzcDsmbmJzcDsmbmJzcDsgDQpBQ0sgDQpGMTImbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsm
bmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJz
cDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsgDQp8PEJSPiZuYnNwOyZuYnNwOyZuYnNw
OyZuYnNwOyANCnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tJmd0O3w8QlI+Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7IA0KfCZuYnNwOyZuYnNwOyZuYnNw
OyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZu
YnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyANCk1lZGlhIA0KU2Vzc2lvbiZuYnNw
OyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZu
YnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyANCnw8QlI+Jm5ic3A7Jm5i
c3A7Jm5ic3A7Jm5ic3A7IA0KfCZsdDs9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT0mZ3Q7fDxCUj4mbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsgDQp8Jm5ic3A7
Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5i
c3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7
Jm5ic3A7Jm5ic3A7IA0KQllFIA0KRjEzJm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5i
c3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7
Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7IA0KfDxCUj4mbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsg
DQp8Jmx0Oy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS18
PEJSPiZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyANCnwmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsm
bmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJz
cDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsgDQoyMDAgT0sgDQpGMTQmbmJz
cDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsm
bmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsgDQp8PEJSPiZu
YnNwOyZuYnNwOyZuYnNwOyZuYnNwOyANCnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tJmd0O3w8QlI+Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7IA0KfCZu
YnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNw
OyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZu
YnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNw
OyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZu
YnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNw
OyZuYnNwOyANCnw8QlI+SSBjb25zaWRlcmVkIHRoYXQgdGhlIG1pZGRsZSBzdGF0ZSBpcyBub3Qg
aW1wb3J0YW50LGFuZCB0aGU8L0ZPTlQ+PC9ESVY+DQo8RElWPjxGT05UIHNpemU9Mj5lbmRwb2lu
dCAidGhlIGJvYidzIHNpcHBob25lIiBoYXMga25vd24gdGhlICJjb250YWN0IiANCmFib3V0PC9G
T05UPjwvRElWPg0KPERJVj48Rk9OVCBzaXplPTI+QWxpY2UncyBkaXJlY3QgYWRyZXNzLlNvIGJv
YiBjYW4gc2VuZCAiMTgwIFJpbmdpbmciIA0KZGlyZWN0bHk8L0ZPTlQ+PC9ESVY+DQo8RElWPjxG
T05UIHNpemU9Mj50byBhbGljZSByYXRoZXIgdGhhbiBwYXNzZWQgaG9wIGJ5IGhvcC48L0ZPTlQ+
PC9ESVY+DQo8RElWPjxGT05UIHNpemU9Mj4mbmJzcDs8L0RJVj48L0ZPTlQ+PC9ESVY+DQo8RElW
PjxGT05UIHNpemU9Mj5UaGUgb3JpZ2luYWwgZmlndXJlOjwvRk9OVD48L0RJVj4NCjxESVY+PEZP
TlQgDQpzaXplPTI+Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5i
c3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7IA0KYXRs
YW50YS5jb20mbmJzcDsgLiAuIC4gDQpiaWxveGkuY29tPEJSPiZuYnNwOyZuYnNwOyZuYnNwOyZu
YnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyANCi4m
bmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsgDQpwcm94eSZuYnNwOyZuYnNwOyZuYnNwOyZu
YnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNw
OyANCnByb3h5Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7IA0KLjxCUj4mbmJzcDsmbmJzcDsmbmJz
cDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsgDQouJm5ic3A7Jm5i
c3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7
Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5i
c3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7
Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7IA0KLjxCUj4m
bmJzcDsmbmJzcDsgQWxpY2UncyZuYnNwOyAuIC4gLiAuIC4gLiAuIC4gLiAuIC4gLiAuIC4gLiAu
IC4gLiAuIC4mbmJzcDsgDQpCb2InczxCUj4mbmJzcDsgDQpzb2Z0cGhvbmUmbmJzcDsmbmJzcDsm
bmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJz
cDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsm
bmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJz
cDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsgDQpTSVAg
UGhvbmU8QlI+Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7IA0KfCZuYnNwOyZuYnNwOyZuYnNwOyZu
YnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNw
OyZuYnNwOyZuYnNwOyANCnwmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJz
cDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsgDQp8Jm5i
c3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7
Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7IA0KfDxCUj4mbmJzcDsmbmJzcDsmbmJzcDsm
bmJzcDsgfCZuYnNwOyZuYnNwOyZuYnNwOyBJTlZJVEUgRjEmbmJzcDsmbmJzcDsgDQp8Jm5ic3A7
Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5i
c3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7IA0KfCZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZu
YnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNw
OyZuYnNwOyANCnw8QlI+Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7IHwtLS0tLS0tLS0tLS0tLS0m
Z3Q7fCZuYnNwOyZuYnNwOyZuYnNwOyBJTlZJVEUgDQpGMyZuYnNwOyZuYnNwOyANCnwmbmJzcDsm
bmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJz
cDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsgDQp8PEJSPiZuYnNwOyZuYnNwOyZuYnNwOyZuYnNw
OyB8Jm5ic3A7IDEwMCBUcnlpbmcgRjIgDQp8LS0tLS0tLS0tLS0tLS0tJmd0O3wmbmJzcDsmbmJz
cDsmbmJzcDsgSU5WSVRFIEY1Jm5ic3A7Jm5ic3A7IA0KfDxCUj4mbmJzcDsmbmJzcDsmbmJzcDsm
bmJzcDsgfCZsdDstLS0tLS0tLS0tLS0tLS18Jm5ic3A7IDEwMCBUcnlpbmcgRjQgDQp8LS0tLS0t
LS0tLS0tLS0tJmd0O3w8QlI+Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7IA0KfCZuYnNwOyZuYnNw
OyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZu
YnNwOyZuYnNwOyZuYnNwOyZuYnNwOyANCnwmbHQ7LS0tLS0tLS0tLS0tLS0gfCAxODAgUmluZ2lu
ZyBGNiB8PEJSPiZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyANCnwmbmJzcDsmbmJzcDsmbmJzcDsm
bmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJz
cDsmbmJzcDsmbmJzcDsgDQp8IDE4MCBSaW5naW5nIEY3IHwmbHQ7LS0tLS0tLS0tLS0tLS0tfDxC
Uj4mbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsgfCAxODAgUmluZ2luZyANCkY4IHwmbHQ7LS0tLS0t
LS0tLS0tLS0tfCZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyAyMDAgT0sgRjkmbmJzcDsgDQp8PEJS
PiZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyB8Jmx0Oy0tLS0tLS0tLS0tLS0tLXwmbmJzcDsmbmJz
cDsmbmJzcDsgMjAwIE9LIA0KRjEwJm5ic3A7IHwmbHQ7LS0tLS0tLS0tLS0tLS0tfDxCUj4mbmJz
cDsmbmJzcDsmbmJzcDsmbmJzcDsgfCZuYnNwOyZuYnNwOyZuYnNwOyANCjIwMCBPSyBGMTEmbmJz
cDsgDQp8Jmx0Oy0tLS0tLS0tLS0tLS0tLXwmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsm
bmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJz
cDsgDQp8PEJSPiZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyANCnwmbHQ7LS0tLS0tLS0tLS0tLS0t
fCZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZu
YnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyANCnwmbmJzcDsmbmJzcDsmbmJzcDsm
bmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJz
cDsmbmJzcDsmbmJzcDsgDQp8PEJSPiZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyANCnwmbmJzcDsm
bmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJz
cDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsm
bmJzcDsmbmJzcDsgDQpBQ0sgDQpGMTImbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJz
cDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsm
bmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsgDQp8PEJSPiZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyAN
CnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tJmd0O3w8
QlI+Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7IA0KfCZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZu
YnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNw
OyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyANCk1lZGlhIA0KU2Vzc2lvbiZuYnNwOyZuYnNwOyZu
YnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNw
OyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyANCnw8QlI+Jm5ic3A7Jm5ic3A7Jm5ic3A7
Jm5ic3A7IA0KfCZsdDs9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT0mZ3Q7fDxCUj4mbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsgDQp8Jm5ic3A7Jm5ic3A7Jm5i
c3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7
Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5i
c3A7IA0KQllFIA0KRjEzJm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7
Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5i
c3A7Jm5ic3A7Jm5ic3A7IA0KfDxCUj4mbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsgDQp8Jmx0Oy0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS18PEJSPiZuYnNw
OyZuYnNwOyZuYnNwOyZuYnNwOyANCnwmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJz
cDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsm
bmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsgDQoyMDAgT0sgDQpGMTQmbmJzcDsmbmJzcDsm
bmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJz
cDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsgDQp8PEJSPiZuYnNwOyZuYnNw
OyZuYnNwOyZuYnNwOyANCnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tJmd0O3w8QlI+Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7IA0KfCZuYnNwOyZuYnNw
OyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZu
YnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNw
OyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZu
YnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNw
OyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyAN
Cnw8QlI+PC9ESVY+PC9GT05UPjwvQk9EWT48L0hUTUw+DQo=

------=_NextPart_000_003C_01C17BFE.F58F1870--


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Mon Dec  3 01:01:19 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id BAA05330
	for <sip-archive@odin.ietf.org>; Mon, 3 Dec 2001 01:01:18 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id BAA04577
	for sip-archive@odin.ietf.org; Mon, 3 Dec 2001 01:01:18 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id AAA03731;
	Mon, 3 Dec 2001 00:45:01 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id AAA03609
	for <sip@optimus.ietf.org>; Mon, 3 Dec 2001 00:44:54 -0500 (EST)
Received: from hssblrmail.hss.hns.com ([164.164.94.118])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id AAA05155
	for <sip@ietf.org>; Mon, 3 Dec 2001 00:44:49 -0500 (EST)
From: pkamath@hss.hns.com
Received: from sampark.hss.hns.com ([192.168.17.10])
	by hssblrmail.hss.hns.com (8.11.2/8.11.2) with SMTP id fB35e0918719;
	Mon, 3 Dec 2001 11:10:00 +0530
Received: by sampark.hss.hns.com(Lotus SMTP MTA Internal build v4.6.2  (651.2 6-10-1998))  id 65256B17.001ECB7F ; Mon, 3 Dec 2001 11:06:21 +0530
X-Lotus-FromDomain: HSSBLR
To: =?iso-2022-jp?B?GyRCQTEzWBsoQg==?= <chenshx@mail.datang.com>
cc: sip@ietf.org
Message-ID: <65256B17.001ECB3A.00@sampark.hss.hns.com>
Date: Mon, 3 Dec 2001 11:06:00 +0530
Subject: Re: [Sip] question about 180 Ringing
Mime-Version: 1.0
Content-type: multipart/mixed; 
	Boundary="0__=T5dlbs1Mgcm9CFOGKDz8bZRhe4nIzNN3RMXGLwRAiVS8CIbT5uumixDx"
Content-Disposition: inline
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

--0__=T5dlbs1Mgcm9CFOGKDz8bZRhe4nIzNN3RMXGLwRAiVS8CIbT5uumixDx
Content-type: text/plain; charset=us-ascii
Content-Disposition: inline



Hi,

But I guess the figure in bis05 assumes that we have a Via header in the
requests that makes it necessary for responses to be sent hop by hop.

-Regards
R.Kamath






--0__=T5dlbs1Mgcm9CFOGKDz8bZRhe4nIzNN3RMXGLwRAiVS8CIbT5uumixDx
Content-type: text/plain; charset=gb2312
Content-Disposition: inline


--0__=T5dlbs1Mgcm9CFOGKDz8bZRhe4nIzNN3RMXGLwRAiVS8CIbT5uumixDx
Content-type: text/plain; charset=iso-2022-jp
Content-Disposition: inline

$BA13X(B <chenshx@mail.datang.com> on 12/03/2001 05:32:31 AM

To:   sip@ietf.org
cc:    (bcc: P Raghavendra Kamath/HSSBLR)

Subject:  [Sip] question about 180 Ringing



--0__=T5dlbs1Mgcm9CFOGKDz8bZRhe4nIzNN3RMXGLwRAiVS8CIbT5uumixDx
Content-type: text/plain; charset=us-ascii
Content-Disposition: inline


Dear all
I have a question as follow.The figure exists in bis-05.
I have change "180 Rining"
My figure:
                 atlanta.com  . . . biloxi.com
             .      proxy              proxy     .
           .                                       .
   Alice's  . . . . . . . . . . . . . . . . . . . .  Bob's
  softphone                                        SIP Phone
     |                |                |                |
     |    INVITE F1   |                |                |
     |--------------->|    INVITE F3   |                |
     |  100 Trying F2 |--------------->|    INVITE F5   |
     |<---------------|  100 Trying F4 |--------------->|
     |                |<-------------- |                |
     |                  180 Ringing F7                  |
     |<-------------------------------------------------|
     |                                       200 OK F9  |
     |                |    200 OK F10  |<---------------|
     |    200 OK F11  |<---------------|                |
     |<---------------|                |                |
     |                       ACK F12                    |
     |------------------------------------------------->|
     |                   Media Session                  |
     |<================================================>|
     |                       BYE F13                    |
     |<-------------------------------------------------|
     |                     200 OK F14                   |
     |------------------------------------------------->|
     |                                                  |
I considered that the middle state is not important,and the
endpoint "the bob's sipphone" has known the "contact" about
Alice's direct adress.So bob can send "180 Ringing" directly
to alice rather than passed hop by hop.

The original figure:
                 atlanta.com  . . . biloxi.com
             .      proxy              proxy     .
           .                                       .
   Alice's  . . . . . . . . . . . . . . . . . . . .  Bob's
  softphone                                        SIP Phone
     |                |                |                |
     |    INVITE F1   |                |                |
     |--------------->|    INVITE F3   |                |
     |  100 Trying F2 |--------------->|    INVITE F5   |
     |<---------------|  100 Trying F4 |--------------->|
     |                |<-------------- | 180 Ringing F6 |
     |                | 180 Ringing F7 |<---------------|
     | 180 Ringing F8 |<---------------|     200 OK F9  |
     |<---------------|    200 OK F10  |<---------------|
     |    200 OK F11  |<---------------|                |
     |<---------------|                |                |
     |                       ACK F12                    |
     |------------------------------------------------->|
     |                   Media Session                  |
     |<================================================>|
     |                       BYE F13                    |
     |<-------------------------------------------------|
     |                     200 OK F14                   |
     |------------------------------------------------->|
     |                                                  |


--0__=T5dlbs1Mgcm9CFOGKDz8bZRhe4nIzNN3RMXGLwRAiVS8CIbT5uumixDx
Content-type: text/html; 
	name="att-1.htm"
Content-Disposition: attachment; filename="att-1.htm"
Content-Description: Internet HTML
Content-Transfer-Encoding: base64

PCFET0NUWVBFIEhUTUwgUFVCTElDICItLy9XM0MvL0RURCBIVE1MIDQuMCBUcmFuc2l0aW9uYWwv
L0VOIj4NCjxIVE1MPjxIRUFEPg0KPE1FVEEgaHR0cC1lcXVpdj1Db250ZW50LVR5cGUgY29udGVu
dD0idGV4dC9odG1sOyBjaGFyc2V0PWdiMjMxMiI+DQo8TUVUQSBjb250ZW50PSJNU0hUTUwgNi4w
MC4yNjAwLjAiIG5hbWU9R0VORVJBVE9SPg0KPFNUWUxFPjwvU1RZTEU+DQo8L0hFQUQ+DQo8Qk9E
WSBiZ0NvbG9yPSNmZmZmZmY+DQo8RElWPjxGT05UIHNpemU9Mj5EZWFyIGFsbDwvRk9OVD48L0RJ
Vj4NCjxESVY+PEZPTlQgc2l6ZT0yPkkgaGF2ZSBhIHF1ZXN0aW9uIGFzIGZvbGxvdy5UaGUgZmln
dXJlIGV4aXN0cyBpbiANCmJpcy0wNS48L0ZPTlQ+PC9ESVY+DQo8RElWPjxGT05UIHNpemU9Mj5J
IGhhdmUgY2hhbmdlICIxODAgUmluaW5nIjwvRk9OVD48L0RJVj4NCjxESVY+PEZPTlQgc2l6ZT0y
Pk15IGZpZ3VyZTo8L0ZPTlQ+PC9ESVY+DQo8RElWPg0KPERJVj48Rk9OVCANCnNpemU9Mj4mbmJz
cDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsm
bmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsgDQphdGxhbnRhLmNvbSZuYnNwOyAu
IC4gLiANCmJpbG94aS5jb208QlI+Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7
Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7IA0KLiZuYnNwOyZuYnNwOyZuYnNw
OyZuYnNwOyZuYnNwOyANCnByb3h5Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7
Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7IA0KcHJveHkmbmJzcDsm
bmJzcDsmbmJzcDsmbmJzcDsgDQouPEJSPiZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZu
YnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyANCi4mbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsm
bmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJz
cDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsm
bmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJz
cDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsgDQouPEJSPiZuYnNwOyZuYnNwOyBBbGlj
ZSdzJm5ic3A7IC4gLiAuIC4gLiAuIC4gLiAuIC4gLiAuIC4gLiAuIC4gLiAuIC4gLiZuYnNwOyAN
CkJvYidzPEJSPiZuYnNwOyANCnNvZnRwaG9uZSZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNw
OyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZu
YnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNw
OyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZu
YnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyANClNJUCBQaG9uZTxCUj4mbmJzcDsm
bmJzcDsmbmJzcDsmbmJzcDsgDQp8Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7
Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7IA0K
fCZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZu
YnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyANCnwmbmJzcDsmbmJzcDsmbmJzcDsm
bmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJz
cDsmbmJzcDsmbmJzcDsgDQp8PEJSPiZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyB8Jm5ic3A7Jm5i
c3A7Jm5ic3A7IElOVklURSBGMSZuYnNwOyZuYnNwOyANCnwmbmJzcDsmbmJzcDsmbmJzcDsmbmJz
cDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsm
bmJzcDsmbmJzcDsgDQp8Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7
Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7IA0KfDxCUj4m
bmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsgfC0tLS0tLS0tLS0tLS0tLSZndDt8Jm5ic3A7Jm5ic3A7
Jm5ic3A7IElOVklURSANCkYzJm5ic3A7Jm5ic3A7IA0KfCZuYnNwOyZuYnNwOyZuYnNwOyZuYnNw
OyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZu
YnNwOyZuYnNwOyANCnw8QlI+Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7IHwmbmJzcDsgMTAwIFRy
eWluZyBGMiANCnwtLS0tLS0tLS0tLS0tLS0mZ3Q7fCZuYnNwOyZuYnNwOyZuYnNwOyBJTlZJVEUg
RjUmbmJzcDsmbmJzcDsgDQp8PEJSPiZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyB8Jmx0Oy0tLS0t
LS0tLS0tLS0tLXwmbmJzcDsgMTAwIFRyeWluZyBGNCANCnwtLS0tLS0tLS0tLS0tLS0mZ3Q7fDxC
Uj4mbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsgDQp8Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5i
c3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7
Jm5ic3A7IA0KfCZsdDstLS0tLS0tLS0tLS0tLSANCnwmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsm
bmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJz
cDsmbmJzcDsgDQp8PEJSPiZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyANCnwmbmJzcDsmbmJzcDsm
bmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJz
cDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsgDQombmJzcDsxODAgUmluZ2luZyANCkY3Jm5ic3A7
Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5i
c3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7IA0KfDxCUj4mbmJzcDsmbmJz
cDsmbmJzcDsmbmJzcDsgDQp8Jmx0Oy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS18PC9GT05UPjwvRElWPg0KPERJVj48Rk9OVCBzaXplPTI+Jm5ic3A7Jm5i
c3A7Jm5ic3A7Jm5ic3A7IA0KfCZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZu
YnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNw
OyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZu
YnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNw
OyZuYnNwOyZuYnNwOyZuYnNwOyANCjIwMCBPSyBGOSZuYnNwOyZuYnNwO3w8QlI+Jm5ic3A7Jm5i
c3A7Jm5ic3A7Jm5ic3A7IA0KfCZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZu
YnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyANCnwm
bmJzcDsmbmJzcDsmbmJzcDsgMjAwIE9LIEYxMCZuYnNwOyANCnwmbHQ7LS0tLS0tLS0tLS0tLS0t
fDxCUj4mbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsgfCZuYnNwOyZuYnNwOyZuYnNwOyAyMDAgT0sg
DQpGMTEmbmJzcDsgDQp8Jmx0Oy0tLS0tLS0tLS0tLS0tLXwmbmJzcDsmbmJzcDsmbmJzcDsmbmJz
cDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsm
bmJzcDsmbmJzcDsgDQp8PEJSPiZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyANCnwmbHQ7LS0tLS0t
LS0tLS0tLS0tfCZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNw
OyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyANCnwmbmJzcDsmbmJz
cDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsm
bmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsgDQp8PEJSPiZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyAN
CnwmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsm
bmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJz
cDsmbmJzcDsmbmJzcDsmbmJzcDsgDQpBQ0sgDQpGMTImbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsm
bmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJz
cDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsgDQp8PEJSPiZuYnNwOyZuYnNwOyZuYnNw
OyZuYnNwOyANCnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tJmd0O3w8QlI+Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7IA0KfCZuYnNwOyZuYnNwOyZuYnNw
OyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZu
YnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyANCk1lZGlhIA0KU2Vzc2lvbiZuYnNw
OyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZu
YnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyANCnw8QlI+Jm5ic3A7Jm5i
c3A7Jm5ic3A7Jm5ic3A7IA0KfCZsdDs9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT0mZ3Q7fDxCUj4mbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsgDQp8Jm5ic3A7
Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5i
c3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7
Jm5ic3A7Jm5ic3A7IA0KQllFIA0KRjEzJm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5i
c3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7
Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7IA0KfDxCUj4mbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsg
DQp8Jmx0Oy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS18
PEJSPiZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyANCnwmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsm
bmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJz
cDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsgDQoyMDAgT0sgDQpGMTQmbmJz
cDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsm
bmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsgDQp8PEJSPiZu
YnNwOyZuYnNwOyZuYnNwOyZuYnNwOyANCnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tJmd0O3w8QlI+Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7IA0KfCZu
YnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNw
OyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZu
YnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNw
OyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZu
YnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNw
OyZuYnNwOyANCnw8QlI+SSBjb25zaWRlcmVkIHRoYXQgdGhlIG1pZGRsZSBzdGF0ZSBpcyBub3Qg
aW1wb3J0YW50LGFuZCB0aGU8L0ZPTlQ+PC9ESVY+DQo8RElWPjxGT05UIHNpemU9Mj5lbmRwb2lu
dCAidGhlIGJvYidzIHNpcHBob25lIiBoYXMga25vd24gdGhlICJjb250YWN0IiANCmFib3V0PC9G
T05UPjwvRElWPg0KPERJVj48Rk9OVCBzaXplPTI+QWxpY2UncyBkaXJlY3QgYWRyZXNzLlNvIGJv
YiBjYW4gc2VuZCAiMTgwIFJpbmdpbmciIA0KZGlyZWN0bHk8L0ZPTlQ+PC9ESVY+DQo8RElWPjxG
T05UIHNpemU9Mj50byBhbGljZSByYXRoZXIgdGhhbiBwYXNzZWQgaG9wIGJ5IGhvcC48L0ZPTlQ+
PC9ESVY+DQo8RElWPjxGT05UIHNpemU9Mj4mbmJzcDs8L0RJVj48L0ZPTlQ+PC9ESVY+DQo8RElW
PjxGT05UIHNpemU9Mj5UaGUgb3JpZ2luYWwgZmlndXJlOjwvRk9OVD48L0RJVj4NCjxESVY+PEZP
TlQgDQpzaXplPTI+Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5i
c3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7IA0KYXRs
YW50YS5jb20mbmJzcDsgLiAuIC4gDQpiaWxveGkuY29tPEJSPiZuYnNwOyZuYnNwOyZuYnNwOyZu
YnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyANCi4m
bmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsgDQpwcm94eSZuYnNwOyZuYnNwOyZuYnNwOyZu
YnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNw
OyANCnByb3h5Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7IA0KLjxCUj4mbmJzcDsmbmJzcDsmbmJz
cDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsgDQouJm5ic3A7Jm5i
c3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7
Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5i
c3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7
Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7IA0KLjxCUj4m
bmJzcDsmbmJzcDsgQWxpY2UncyZuYnNwOyAuIC4gLiAuIC4gLiAuIC4gLiAuIC4gLiAuIC4gLiAu
IC4gLiAuIC4mbmJzcDsgDQpCb2InczxCUj4mbmJzcDsgDQpzb2Z0cGhvbmUmbmJzcDsmbmJzcDsm
bmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJz
cDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsm
bmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJz
cDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsgDQpTSVAg
UGhvbmU8QlI+Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7IA0KfCZuYnNwOyZuYnNwOyZuYnNwOyZu
YnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNw
OyZuYnNwOyZuYnNwOyANCnwmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJz
cDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsgDQp8Jm5i
c3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7
Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7IA0KfDxCUj4mbmJzcDsmbmJzcDsmbmJzcDsm
bmJzcDsgfCZuYnNwOyZuYnNwOyZuYnNwOyBJTlZJVEUgRjEmbmJzcDsmbmJzcDsgDQp8Jm5ic3A7
Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5i
c3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7IA0KfCZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZu
YnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNw
OyZuYnNwOyANCnw8QlI+Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7IHwtLS0tLS0tLS0tLS0tLS0m
Z3Q7fCZuYnNwOyZuYnNwOyZuYnNwOyBJTlZJVEUgDQpGMyZuYnNwOyZuYnNwOyANCnwmbmJzcDsm
bmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJz
cDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsgDQp8PEJSPiZuYnNwOyZuYnNwOyZuYnNwOyZuYnNw
OyB8Jm5ic3A7IDEwMCBUcnlpbmcgRjIgDQp8LS0tLS0tLS0tLS0tLS0tJmd0O3wmbmJzcDsmbmJz
cDsmbmJzcDsgSU5WSVRFIEY1Jm5ic3A7Jm5ic3A7IA0KfDxCUj4mbmJzcDsmbmJzcDsmbmJzcDsm
bmJzcDsgfCZsdDstLS0tLS0tLS0tLS0tLS18Jm5ic3A7IDEwMCBUcnlpbmcgRjQgDQp8LS0tLS0t
LS0tLS0tLS0tJmd0O3w8QlI+Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7IA0KfCZuYnNwOyZuYnNw
OyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZu
YnNwOyZuYnNwOyZuYnNwOyZuYnNwOyANCnwmbHQ7LS0tLS0tLS0tLS0tLS0gfCAxODAgUmluZ2lu
ZyBGNiB8PEJSPiZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyANCnwmbmJzcDsmbmJzcDsmbmJzcDsm
bmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJz
cDsmbmJzcDsmbmJzcDsgDQp8IDE4MCBSaW5naW5nIEY3IHwmbHQ7LS0tLS0tLS0tLS0tLS0tfDxC
Uj4mbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsgfCAxODAgUmluZ2luZyANCkY4IHwmbHQ7LS0tLS0t
LS0tLS0tLS0tfCZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyAyMDAgT0sgRjkmbmJzcDsgDQp8PEJS
PiZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyB8Jmx0Oy0tLS0tLS0tLS0tLS0tLXwmbmJzcDsmbmJz
cDsmbmJzcDsgMjAwIE9LIA0KRjEwJm5ic3A7IHwmbHQ7LS0tLS0tLS0tLS0tLS0tfDxCUj4mbmJz
cDsmbmJzcDsmbmJzcDsmbmJzcDsgfCZuYnNwOyZuYnNwOyZuYnNwOyANCjIwMCBPSyBGMTEmbmJz
cDsgDQp8Jmx0Oy0tLS0tLS0tLS0tLS0tLXwmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsm
bmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJz
cDsgDQp8PEJSPiZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyANCnwmbHQ7LS0tLS0tLS0tLS0tLS0t
fCZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZu
YnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyANCnwmbmJzcDsmbmJzcDsmbmJzcDsm
bmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJz
cDsmbmJzcDsmbmJzcDsgDQp8PEJSPiZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyANCnwmbmJzcDsm
bmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJz
cDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsm
bmJzcDsmbmJzcDsgDQpBQ0sgDQpGMTImbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJz
cDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsm
bmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsgDQp8PEJSPiZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyAN
CnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tJmd0O3w8
QlI+Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7IA0KfCZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZu
YnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNw
OyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyANCk1lZGlhIA0KU2Vzc2lvbiZuYnNwOyZuYnNwOyZu
YnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNw
OyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyANCnw8QlI+Jm5ic3A7Jm5ic3A7Jm5ic3A7
Jm5ic3A7IA0KfCZsdDs9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT0mZ3Q7fDxCUj4mbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsgDQp8Jm5ic3A7Jm5ic3A7Jm5i
c3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7
Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5i
c3A7IA0KQllFIA0KRjEzJm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7
Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5i
c3A7Jm5ic3A7Jm5ic3A7IA0KfDxCUj4mbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsgDQp8Jmx0Oy0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS18PEJSPiZuYnNw
OyZuYnNwOyZuYnNwOyZuYnNwOyANCnwmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJz
cDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsm
bmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsgDQoyMDAgT0sgDQpGMTQmbmJzcDsmbmJzcDsm
bmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJz
cDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsgDQp8PEJSPiZuYnNwOyZuYnNw
OyZuYnNwOyZuYnNwOyANCnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tJmd0O3w8QlI+Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7IA0KfCZuYnNwOyZuYnNw
OyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZu
YnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNw
OyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZu
YnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNw
OyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyAN
Cnw8QlI+PC9ESVY+PC9GT05UPjwvQk9EWT48L0hUTUw+DQo=

--0__=T5dlbs1Mgcm9CFOGKDz8bZRhe4nIzNN3RMXGLwRAiVS8CIbT5uumixDx--


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Mon Dec  3 09:06:51 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id JAA00561
	for <sip-archive@odin.ietf.org>; Mon, 3 Dec 2001 09:06:50 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id JAA26856
	for sip-archive@odin.ietf.org; Mon, 3 Dec 2001 09:06:51 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id IAA25406;
	Mon, 3 Dec 2001 08:37:09 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id IAA25374
	for <sip@optimus.ietf.org>; Mon, 3 Dec 2001 08:37:04 -0500 (EST)
Received: from CNRI.Reston.VA.US (localhost [127.0.0.1])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id IAA28930;
	Mon, 3 Dec 2001 08:37:04 -0500 (EST)
Message-Id: <200112031337.IAA28930@ietf.org>
Mime-Version: 1.0
Content-Type: Multipart/Mixed; Boundary="NextPart"
To: IETF-Announce: ;
Cc: sip@ietf.org
From: Internet-Drafts@ietf.org
Reply-to: Internet-Drafts@ietf.org
Date: Mon, 03 Dec 2001 08:37:03 -0500
Subject: [Sip] I-D ACTION:draft-ietf-sip-nat-01.txt
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

--NextPart

A New Internet-Draft is available from the on-line Internet-Drafts directories.
This draft is a work item of the Session Initiation Protocol Working Group of the IETF.

	Title		: SIP Extensions for NAT Traversal
	Author(s)	: J. Rosenberg, J. Weinberger, H. Schulzrinne
	Filename	: draft-ietf-sip-nat-01.txt
	Pages		: 14
	Date		: 30-Nov-01
	
In this draft, we discuss how SIP can traverse existing, non-SIP
aware NATs. Our approach is to make SIP 'NAT friendly' with two minor
extensions. The first allows for responses to UDP requests to go back
to the source port of the request. The second allows a registrar to
use the source IP address and port instead of the Contact in a REGIS-
TER.

A URL for this Internet-Draft is:
http://www.ietf.org/internet-drafts/draft-ietf-sip-nat-01.txt

To remove yourself from the IETF Announcement list, send a message to 
ietf-announce-request with the word unsubscribe in the body of the message.

Internet-Drafts are also available by anonymous FTP. Login with the username
"anonymous" and a password of your e-mail address. After logging in,
type "cd internet-drafts" and then
	"get draft-ietf-sip-nat-01.txt".

A list of Internet-Drafts directories can be found in
http://www.ietf.org/shadow.html 
or ftp://ftp.ietf.org/ietf/1shadow-sites.txt


Internet-Drafts can also be obtained by e-mail.

Send a message to:
	mailserv@ietf.org.
In the body type:
	"FILE /internet-drafts/draft-ietf-sip-nat-01.txt".
	
NOTE:	The mail server at ietf.org can return the document in
	MIME-encoded form by using the "mpack" utility.  To use this
	feature, insert the command "ENCODING mime" before the "FILE"
	command.  To decode the response(s), you will need "munpack" or
	a MIME-compliant mail reader.  Different MIME-compliant mail readers
	exhibit different behavior, especially when dealing with
	"multipart" MIME messages (i.e. documents which have been split
	up into multiple messages), so check your local documentation on
	how to manipulate these messages.
		
		
Below is the data which will enable a MIME compliant mail reader
implementation to automatically retrieve the ASCII version of the
Internet-Draft.

--NextPart
Content-Type: Multipart/Alternative; Boundary="OtherAccess"

--OtherAccess
Content-Type: Message/External-body;
	access-type="mail-server";
	server="mailserv@ietf.org"

Content-Type: text/plain
Content-ID:	<20011130133712.I-D@ietf.org>

ENCODING mime
FILE /internet-drafts/draft-ietf-sip-nat-01.txt

--OtherAccess
Content-Type: Message/External-body;
	name="draft-ietf-sip-nat-01.txt";
	site="ftp.ietf.org";
	access-type="anon-ftp";
	directory="internet-drafts"

Content-Type: text/plain
Content-ID:	<20011130133712.I-D@ietf.org>

--OtherAccess--

--NextPart--



_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Mon Dec  3 09:10:30 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id JAA00733
	for <sip-archive@odin.ietf.org>; Mon, 3 Dec 2001 09:10:30 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id JAA26976
	for sip-archive@odin.ietf.org; Mon, 3 Dec 2001 09:10:30 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id IAA25372;
	Mon, 3 Dec 2001 08:37:03 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id IAA25340
	for <sip@optimus.ietf.org>; Mon, 3 Dec 2001 08:37:00 -0500 (EST)
Received: from CNRI.Reston.VA.US (localhost [127.0.0.1])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id IAA28917;
	Mon, 3 Dec 2001 08:36:59 -0500 (EST)
Message-Id: <200112031336.IAA28917@ietf.org>
Mime-Version: 1.0
Content-Type: Multipart/Mixed; Boundary="NextPart"
To: IETF-Announce: ;
Cc: sip@ietf.org
From: Internet-Drafts@ietf.org
Reply-to: Internet-Drafts@ietf.org
Date: Mon, 03 Dec 2001 08:36:59 -0500
Subject: [Sip] I-D ACTION:draft-ietf-sip-message-00.txt
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

--NextPart

A New Internet-Draft is available from the on-line Internet-Drafts directories.
This draft is a work item of the Session Initiation Protocol Working Group of the IETF.

	Title		: SIP Extensions for Instant Messaging
	Author(s)	: J. Rosenberg et al.
	Filename	: draft-ietf-sip-message-00.txt
	Pages		: 24
	Date		: 30-Nov-01
	
This document defines a SIP extension (a single new method) that
supports Instant Messaging (IM).

A URL for this Internet-Draft is:
http://www.ietf.org/internet-drafts/draft-ietf-sip-message-00.txt

To remove yourself from the IETF Announcement list, send a message to 
ietf-announce-request with the word unsubscribe in the body of the message.

Internet-Drafts are also available by anonymous FTP. Login with the username
"anonymous" and a password of your e-mail address. After logging in,
type "cd internet-drafts" and then
	"get draft-ietf-sip-message-00.txt".

A list of Internet-Drafts directories can be found in
http://www.ietf.org/shadow.html 
or ftp://ftp.ietf.org/ietf/1shadow-sites.txt


Internet-Drafts can also be obtained by e-mail.

Send a message to:
	mailserv@ietf.org.
In the body type:
	"FILE /internet-drafts/draft-ietf-sip-message-00.txt".
	
NOTE:	The mail server at ietf.org can return the document in
	MIME-encoded form by using the "mpack" utility.  To use this
	feature, insert the command "ENCODING mime" before the "FILE"
	command.  To decode the response(s), you will need "munpack" or
	a MIME-compliant mail reader.  Different MIME-compliant mail readers
	exhibit different behavior, especially when dealing with
	"multipart" MIME messages (i.e. documents which have been split
	up into multiple messages), so check your local documentation on
	how to manipulate these messages.
		
		
Below is the data which will enable a MIME compliant mail reader
implementation to automatically retrieve the ASCII version of the
Internet-Draft.

--NextPart
Content-Type: Multipart/Alternative; Boundary="OtherAccess"

--OtherAccess
Content-Type: Message/External-body;
	access-type="mail-server";
	server="mailserv@ietf.org"

Content-Type: text/plain
Content-ID:	<20011130133659.I-D@ietf.org>

ENCODING mime
FILE /internet-drafts/draft-ietf-sip-message-00.txt

--OtherAccess
Content-Type: Message/External-body;
	name="draft-ietf-sip-message-00.txt";
	site="ftp.ietf.org";
	access-type="anon-ftp";
	directory="internet-drafts"

Content-Type: text/plain
Content-ID:	<20011130133659.I-D@ietf.org>

--OtherAccess--

--NextPart--



_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Mon Dec  3 10:05:06 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id KAA03326
	for <sip-archive@odin.ietf.org>; Mon, 3 Dec 2001 10:05:06 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id KAA28631
	for sip-archive@odin.ietf.org; Mon, 3 Dec 2001 10:05:07 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id JAA27728;
	Mon, 3 Dec 2001 09:38:11 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id JAA27698
	for <sip@optimus.ietf.org>; Mon, 3 Dec 2001 09:38:08 -0500 (EST)
Received: from imo-r03.mx.aol.com (imo-r03.mx.aol.com [152.163.225.99])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id JAA01906
	for <sip@ietf.org>; Mon, 3 Dec 2001 09:38:07 -0500 (EST)
From: Mpierce1@aol.com
Received: from Mpierce1@aol.com
	by imo-r03.mx.aol.com (mail_out_v31_r1.9.) id l.39.1eb34216 (4198)
	 for <sip@ietf.org>; Mon, 3 Dec 2001 09:37:56 -0500 (EST)
Message-ID: <39.1eb34216.293ce84b@aol.com>
Date: Mon, 3 Dec 2001 09:38:03 EST
Subject: Re: [Sip] re: the future of call control
To: sip@ietf.org
MIME-Version: 1.0
Content-Type: text/plain; charset="US-ASCII"
Content-Transfer-Encoding: 7bit
X-Mailer: AOL 5.0 for Windows sub 42
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

In a message dated 12/2/01 12:45:42 PM Eastern Standard Time, rohan@cisco.com 
writes:

>  [snip]
>   >In a message dated 11/28/01 12:45:57 AM Eastern Standard Time,
>   >jdrosen@dynamicsoft.com writes: > > -----Original Message-----
>   >>  Many services are
>   >>  "one-sided", in that they require the invoker to understand the 
semantics of
>   >>  the service, but require the other side to only follow a particular 
protocol
>   >>  primitive. Thus, with a sufficiently generaly set of primitives, you 
can
>   >>  make many more of these services work in this fashion. Certainly that 
is the
>   >>  case, for example, with transfer. There are many variants on it, and 
the
>   >>  exact variant (bridged, blind, consulutation, etc.) need ONLY be 
known by
>   >>  the UA invoking the service. If, however, we did as you propose, we 
would
>   >>  need to write a separate draft for each of these variants, and the 
result of
>   >>  that is painfully slow deployment of services, lack of innnovation in
>   >>  services, and limited set of standardized services. I do not believe 
that
>   >>  this is the right route, and it has been fairly fundamental to sip 
that this
>   >>  remain the case.
>   >>
>   >> <snip>
>   >>  -Jonathan R.
>   >>
>  Mike Pierce then replied:
>   >I agree that many services are "one-sided" in that one of the end points
>   >involved just responds to messages that are a part of the simple call 
setup
>   >procedures. But that doesn't obviate the need for a "standard". Taking 
Call
>   >Transfer as an example - yes, there are many variants, which is 
complicating
>   >all the discussion of REFER and other protocol elements. But what it all
>   >comes down to in the end is, if you want to sell thousands of
>   >IP telephones for use in a real network, they will have to be
>   >tested/certified as complying with some standard. Currently, with H.323
>   >(which I understand is virtually the only IP phones in real use)
>  
>  No,  For folks to deploy thousands of IP phones, the services merely need 
>  to work.  Standardization and certification of "blind transfer" (for 
>  example) is not necessary to sell phones.  As proof of this I will point 
>  out that there are many more thousands of proprietary IP phones than there 
>  are H.323 or SIP phones.  This is a regretable situation, but 
>  understandable since we have not put sufficient protocol primitives in the 
>  hands of developers to build some of these "one-sided" services.
>  
I understand that there are thousands of proprietary IP phones now. The 
organization I represent may want 10's of thousands of IP phones, but will 
not touch proprietary ones. They must be "standard". The point I made was 
about what was required to use them in real networks, not for thousands of 
home hobbyists whose major concern (to judge by some of the recent e-mails on 
this list) is how to distinguish between voice calls and requests to play 
"Quake". As you said, for "folks" to deploy, they merely need to work. But 
for "organizations" to deploy, they need to be standard. If "proprietary" was 
okay, the SIP WG, and maybe the whole IETF, would not be needed.

>   >, the
>   >question can be "Does your product comply with H.323, H.225, H.425, and
>   >H450.2 for Call Transfer?" If anyone tries to sell SIP phones for use in 
real
>   >networks, what would the equivalent question be for compliance?
>  
>  What you are talking about standardizing is basically user interface 
>  dependent.  who gets to define the interface for call park?  This isn't 
>  consistent on Centrex services with analog phones, and it isn't consistent 
>  across PBX and key systems.
>  
I ceratainly agree that we would not be standardizing the user interface. As 
in all other telecommunications standards activities, the "network interface" 
needs to be standardized. Many of the examples drawn have included 
interactions with a Proxy. This interface can not be proprietary. If some 
services work without the intervention of a Proxy (direct user-to-user 
messages), then they should be easy to standardize, but it still must be done 
in order to define the interaction of these simple services with those that 
require the use of a Proxy. Otherwise, we can't be sure that "blind transfer" 
will work correctly with, say, Call Forwarding on No Answer.

>  thanks,
>  -rohan
>  
Mike

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Mon Dec  3 13:17:56 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id NAA18780
	for <sip-archive@odin.ietf.org>; Mon, 3 Dec 2001 13:17:56 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id NAA05415
	for sip-archive@odin.ietf.org; Mon, 3 Dec 2001 13:17:57 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA04500;
	Mon, 3 Dec 2001 12:52:13 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA04468
	for <sip@optimus.ietf.org>; Mon, 3 Dec 2001 12:52:10 -0500 (EST)
Received: from almso1.proxy.att.com (almso1.att.com [192.128.167.69])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA17344
	for <sip@ietf.org>; Mon, 3 Dec 2001 12:52:09 -0500 (EST)
Received: from gab200r1.ems.att.com ([135.37.94.32])
	by almso1.proxy.att.com (AT&T IPNS/MSO-3.0) with ESMTP id fB3HpcW08882;
	Mon, 3 Dec 2001 12:51:38 -0500 (EST)
Received: from njb140bh2.ems.att.com by gab200r1.ems.att.com (8.8.8+Sun/ATTEMS-1.4.1 sol2)
	id MAA15308; Mon, 3 Dec 2001 12:52:06 -0500 (EST)
Received: by NJB140BH2 with Internet Mail Service (5.5.2653.19)
	id <XJG1DXVA>; Mon, 3 Dec 2001 12:51:27 -0500
Message-ID: <62DA45D4963FA747BA1B253E266760F96BE004@OCCLUST04EVS1.ugd.att.com>
From: "Roy, Radhika R, ALCTA" <rrroy@att.com>
To: Mpierce1@aol.com, sip@ietf.org
Subject: RE: [Sip] re: the future of call control
Date: Mon, 3 Dec 2001 11:56:00 -0500 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

Comments are inline [RRR].

-----Original Message-----
From: Mpierce1@aol.com [mailto:Mpierce1@aol.com]
Sent: Monday, December 03, 2001 9:38 AM
To: sip@ietf.org
Subject: Re: [Sip] re: the future of call control



>   >, the
>   >question can be "Does your product comply with H.323, H.225, H.425, and
>   >H450.2 for Call Transfer?" If anyone tries to sell SIP phones for use
in 
real
>   >networks, what would the equivalent question be for compliance?
>  
>  What you are talking about standardizing is basically user interface 
>  dependent.  who gets to define the interface for call park?  This isn't 
>  consistent on Centrex services with analog phones, and it isn't
consistent 
>  across PBX and key systems.
>  
I ceratainly agree that we would not be standardizing the user interface. As

in all other telecommunications standards activities, the "network
interface" 
needs to be standardized. Many of the examples drawn have included 
interactions with a Proxy. This interface can not be proprietary. 

[RRR] This is a very important point that Mike has mentioned. I can extend
the example to interfaces of SIP proxies to location servers, policy
servers, security servers, and many others.

If some services work without the intervention of a Proxy (direct
user-to-user 
messages), then they should be easy to standardize, but it still must be
done 
in order to define the interaction of these simple services with those that 
require the use of a Proxy. Otherwise, we can't be sure that "blind
transfer" 
will work correctly with, say, Call Forwarding on No Answer.

[RRR] I agree with Mike that the interactions of proxies to provide services
are also very important and, standard interfaces need to be developed
especially for service providers to execute and create network-based
services. My hope is that we will be moving in that direction (e.g., CPL,
SIP services examples, etc. are just the start). In any event, SIP call
services are very important for standardization (e.g., functional
requirements, new SIP primitives if any, RFCs for SIP call services,
interfaces, etc.).

>  thanks,
>  -rohan
>  
Mike


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Mon Dec  3 18:44:33 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id SAA12883
	for <sip-archive@odin.ietf.org>; Mon, 3 Dec 2001 18:44:33 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id SAA14850
	for sip-archive@odin.ietf.org; Mon, 3 Dec 2001 18:44:35 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id SAA14194;
	Mon, 3 Dec 2001 18:23:10 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id SAA14163
	for <sip@optimus.ietf.org>; Mon, 3 Dec 2001 18:23:04 -0500 (EST)
Received: from excalibur.santera.com (exchange.santera.com [4.22.157.11])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id SAA11680;
	Mon, 3 Dec 2001 18:23:01 -0500 (EST)
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
X-MimeOLE: Produced By Microsoft Exchange V6.0.4712.0
Date: Mon, 3 Dec 2001 17:22:34 -0600
Message-ID: <CD110021698980419241042CF576B8F27D81E0@EXCALIBUR.santera.com>
Thread-Topic: comment on SIP draft " draft-agrawal-sip-H.323-Interworking-01.txt "
Thread-Index: AcF8UWIdxineZrBvQyKxALHjHlEbig==
From: "Chiou, Mark" <MChiou@Santera.com>
To: <sip@ietf.org>, <ietf@ietf.org>
Cc: "Li, San-Qi" <sanqi@Santera.com>, "Grove, Kevin" <KGrove@Santera.com>,
        "Mart Nurmet" <mnurmet@ev1.net>
Content-Transfer-Encoding: 8bit
X-MIME-Autoconverted: from quoted-printable to 8bit by optimus.ietf.org id SAA14164
Subject: [Sip] comment on SIP draft " draft-agrawal-sip-H.323-Interworking-01.txt "
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 8bit

Hi ietf group,

The following are comments and recommended changes to the proposed
SIP-H.323 interworking definition as defined in the Internet draft,
draft-agrawal-sip-H.323-Interworking-01.txt. Other specifications
referenced as the basis for some of these recommendations include:

- ITU H.323, Packet-based multimedia communications systems, 09/99
- ITU H.225, Call signalling protocols and media stream packetization
for packet-based multimedia communication systems, 11/00
- ITU Q.850, usage of cause and location in the Digital Subscriber
Signalling System No.1 and the Signalling System No. 7 ISDN user Part,
05/98
- RFC 2543, SIP: Session Initiation Protocol, 03/99
- Draft-ietf-sip-rfc2543bis-03.txt, SIP: Session Initiation Protocol,
05/01

Recommended Changes:
------------------------------------
1. Typo on Page 7, Scenario 3 should be "IWF with SIP Server and without
H.323 GK" instead of "IWF with SIP Server and without SIP Server".

2. Typo on page 23, 9.2 explanation of CallerNotRegistered. ... it may
send a 400 (Caller not register) response to the SIP entity. It should
be " 401 (Unauthorized)" to synchronize with  8.2 message mapping.

3. The Draft ( in 8.2 section message mapping) does not cover all the
H323 reject Reasons as the following:
   
- For ReleaseCompleteReason,
newConnectionNeeded,nonStandardReason,replaceWithConferenceInvite,
genericdatareason, neededFeatureNotSupported,
tunnelledsignallingRejected are missing.

- For AdmissionRejectReason, exceedsCallCapacity, collectDestination,
collectPIN, genericDataReason are missing.

- For RegistrationRejectReason, UnregRequestReason, UnregRejectReason,
the draft does not address it at all.
    
4. The following changes are recommended when mapping the SIP status
code to H323 releaseCompleteReason.
    
- 406 Not Acceptable  ---> map to noPermission instead of
undefinedReason. The comment on H225 specification (page 171) indicates
"Called Party's Gatekeeper rejects" for noPermission. On RFC 2543 (page
87), it also indicates " content characteristics not acceptable
according to the accept headers sent in the request" for 406 Not
acceptable

- 488 Not Acceptable Here  ---> map to noPermission instead of
undefinedReason. The explanation for "488 Not Acceptable Here" is the
same meaning as 606, but only applies to the specific entity addressed
by the request-URL and the same request may succeed elsewhere.

- 600 Busy Everywhere ---> map to inConf instead of adaptiveBusy. The
explanation for "600 Busy Everywhere" is due to no other end point, such
as a voice mail system, will answer the request. It is the same meaning
as "no address in Alternative Address" defined for "inconf". Also, in
H.225, it maps inconf to 17 User Busy of Q.931/Q.850. (see page 26 of
Recommendation H.225 in section 7.2.2.8 Cause)

- 606 Not Acceptable	---> map to noPermission instead of
undefinedReason. The explanation for "606 Not Acceptable" is due to
requested media, bandwidth, or addressing style.

5. The following changes are recommended when mapping
ReleaseCompleteReason to SIP status code.
    
- noPermission  ---> map to 606 Not Acceptable instead of 401
Unauthorized. In H.323, it is mapped to "111 Protocol error,
unspecified" for Q.931/Q.850, such that noPermission is better to map to
606 Not Acceptable than 401 Unauthorized.

- unreachableDestination  ---> 488 Not Accept instead of 503 Service
Unavailable. In H.323, it is mapped to "38 Network out of order" for
Q.931/Q.850. Please see the above "488 Not Acceptable here" explanation
for SIP.

- UnreachableGatekeeper  ---> 502 Bad Gateway instead of 503 Service
Unavailable. In H.323, it is mapped to "38 Network out of order" for
Q.931/Q.850

- badFormatAddress ---> 484 Address Incomplete instead of 400 Bad
Request. It is inline with the SIP to H.323 mapping.

- adaptiveBusy ---> 480 Temporarily not available in stead of 486 Busy
Here. In H.323, it is mapped to "41 Temporary Failure" for Q.931/Q.850.
AdaptiveBusy is a network busy. It is not a user busy as the definition
of "486 Busy Here". Also, in H.225, it maps adaptiveBusy to 41 Temporary
failure of Q.931/Q.850. (see page 26 of Recommendation H.225 in section
7.2.2.8  Cause)

- UndefinedReason ---> 400 Bad Request instead of 500 Server Internal
Error. In H.323, it is mapped to "31 Normal, unspecified" for
Q.931/Q.850

- facilityCalledDeflection ---> 380 Alternative Service in stead of 486
Busy Here. In H.323, it is mapped to "16 Normal call clearing" for
Q.931/Q.850 (note, SIP 380 Alternative Service is mapped to H.225
Facility in this draft). The comments on H.225 (page 171) indicates "
call was deflected using a Facility message". The "380 Alternative
Service" is a better choice than "486 Busy Here".

6.  The following changes are recommended when mapping
AdmissionRejectReason to SIP status code.
    
- requestDenied  ---> map to 403 Forbidden instead of 503 Service
Unavailable. 403 Forbidden indicates the request is rejected. For 503
Service Unavailable, the Client may allow to try it later.

-  invalidEndpointIdentifier ---> map to 604 Does not Exist Anywhere
instead of 500 Server Internal Error. 604 Does not Exist Anywhere
indicates the To request field does not exist anywhere. For 500 Server
Internal Error indicates that the Server has unexpected condition
occurred.

7. The following changes are recommended when mapping
LocationRejectReason to SIP status code.
    
- requestDenied  ---> map to 403 Forbidden instead of 503 Service
Unavailable. 403 Forbidden indicates the request is rejected. For 503
Service Unavailable, the Client may allow to try it later.

8. On page 25, 4th paragraph, "If, at any time, the IWF receives a Q.931
ReleaseComplete message, a H.323 call could not be established, the IWF
sends a 400 (bad Request) for the request failure with reason phrase
"H.323 call failed"" --- It should be based on the
releaseCompleteReason parameter containing in the ReleaseComplete
message to map a proper SIP status code for the SIP response message.

9. On page 25, 6th paragraph,  ... the IWF sends a 501 (Not Implemented)
response to SIP entity. --- for un-resolved SIP address, it should send
a 404 Not found instead.

10. In section 10 (page 26), un-register interworking scenario between
H.323 and SIP should be addressed.

11. Typo, on page 27, section 10.1.2, 3rd and 4th paragraph, register
shall be registrar. - Occurs in three places.

12. On page 29, section 10.2, the call flow diagram is missing
converting "100 trying" SIP response message to Q.931 Call proceeding
message on the H.323 side. (See description on page  21, 2nd paragraph
for call proceeding.). For a normal H.323 call setup, the caller's SDP
on the SIP ACK message should be sent instead of sending the caller's
SDP on the SIP re-INVITE. If the ACK F9 is moved down until after OLC
Ack F20 is received, then there is no need for an INVITE F21, 200 OK
F22, and ACK F23 at all. By the way, I did not see any SIP phone handle
a complete transaction for a call without the caller's SDP. After ACK is
received, the Caller  is connected to Callee's IP address but not the
other way around. (i.e. the Callee does not  have an IP address to
connect). The retransmit the 200 OK addressed might occur and shall be
acceptable for this kind of interworking.

13. On page 32, e) Call from H.323 terminal to SIP terminal using
Overlapped sending.
First all, In SIP protocol, there is no such concept as an overlapping.
Based on the RFC 2543, a call leg is defined as the combination of
Call-ID, the local address of the  participant (i.e. From (may include
Tag)), the remote address of the other participant (i.e.  To). Any
change in one of the three fields is treated as a new call, such that
when a 484  Address Incomplete is responded from the SIP side and an ACK
is received, the transaction is over. There is no association between
the first INVITE (i.e. F3) and the next INVITE (i.e.  F7) received. The
INVITE F7 is a brand new request message to the SIP. We should address
that the IWF shall suspend the H.323 side in case of overlapping, then
resume and launch the INVITE request message when all the digits are
received. In this case,  the overlapping is on the H.323 side and is
transparent to the SIP side. 

14. On page 33, it indicates " The detail of call flow messages are
given in Appendix C.4."  But the Appendix C.4 does not address e) call
scenario at all.

15. On page 35, j) Call from SIP terminal to H.323 terminal using
overlapped sending.
For the same reason as described on page 32's comment, the call scenario
is not feasible. All  the INVITE request messages, which contain
incomplete addresses, shall be ended by the ReleaseComplete message
indicating "badFormatAddress" in the ReleaseCompleteReason parameter.

16. On page 41, ii) with SIP Redirect call flow, 180 ring between SIP
redirect and IWF shall be removed. The 180 ring message shall be sent
from IWF to SIP EP directly.

17. Need to address how to utilize SIP Route and Record-Route headers to
ensure the SIP endpoint behavior in the IWF functionality.

18. On page 75, F21 INVITE is a re-INVITE request message such that the
Cseq shall be greater than 1024 as the initial INVITE (i.e. F2). It is
the same for all subsequent response (F22)  and request (F23) messages.
In addition, the 200 OK shall not include SDP again. Otherwise, the IWF
shall re-pass the SDP to the H.323 side to modify the received callee's
SDP setting on the caller side even it is no change.

19. On Page 99, the C.4 does not apply to any call flow depicted on
section 10.2 at all.

20. On page 113, F6 INVITE request message shall have higher number Cseq
value. It is the same Cseq comment for the page 75.

21. On page D.3.5, requirement for overlapped sending should be
re-considered.

The above comments are contributed by Mark Chiou and Kevin Grove of
Santera Systems Inc.

Regards,
s
Mark Chiou					Kevin Grove
System Architect				Director, Partner
Development
Santera Systems Inc.				Santera Systems Inc.
e-mail address: mark.chiou@santera.com	kevin.grove@santera.com
Work phone # : (972) 461-6474			(972) 461-6308

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Mon Dec  3 20:13:00 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id UAA18044
	for <sip-archive@odin.ietf.org>; Mon, 3 Dec 2001 20:12:59 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id UAA17765
	for sip-archive@odin.ietf.org; Mon, 3 Dec 2001 20:13:01 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id TAA16694;
	Mon, 3 Dec 2001 19:40:20 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id TAA16665
	for <sip@optimus.ietf.org>; Mon, 3 Dec 2001 19:40:18 -0500 (EST)
Received: from bdsl.66.12.12.130.gte.net (bdsl.66.12.12.130.gte.net [66.12.12.130])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id TAA16342
	for <sip@ietf.org>; Mon, 3 Dec 2001 19:40:16 -0500 (EST)
Received: from blazer (localhost.localdomain [127.0.0.1])
	by bdsl.66.12.12.130.gte.net (8.11.2/8.11.2) with SMTP id fB41h3e06693;
	Mon, 3 Dec 2001 19:43:03 -0600
Message-ID: <014d01c17c5b$eba19d30$54fa403f@blazer>
From: "Dean Willis" <dean.willis@softarmor.com>
To: "Robert Sparks" <rsparks@dynamicsoft.com>
Cc: <sip@ietf.org>
References: <9BF66EBF6BEFD942915B4D4D45C051F338E861@DYN-TX-EXCH-001.dynamicsoft.com>
Subject: Re: [Sip] re: refer-to header
Date: Mon, 3 Dec 2001 18:37:57 -0600
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2600.0000
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Robert posed:
> Dean posutured:
> > In the case posed by Robert, my business card might say:
> >
> > Voice: sip:dean.willis@softarmor.com
> > Quake: sip:dw@quakewar.org
> >
> > Or, it might say:
> >
> > Voice: sip:dean.willis@softarmor.com
> > Quake: sip:dean.willis@softarmor.com
>
> If you do this and you put these on a web page, not
> a business card, how does your web browser know which
> application to launch to generate the associated INVITE?
>
> If happen to have one application that can deal with
> both types, how does your app know what kind of SDP
> to include in its INVITE (assuming the signalling
> distinction between game and voice is in the SDP).

I pick 'em off a menu?

HotSip's nifty little gui does something like pop-up a sub-menu with voice,
chat, and game options when one hits the INVITE menu.

--
Dean


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Mon Dec  3 20:19:51 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id UAA18414
	for <sip-archive@odin.ietf.org>; Mon, 3 Dec 2001 20:19:51 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id UAA17872
	for sip-archive@odin.ietf.org; Mon, 3 Dec 2001 20:19:52 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id UAA17480;
	Mon, 3 Dec 2001 20:01:07 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id UAA17449
	for <sip@optimus.ietf.org>; Mon, 3 Dec 2001 20:01:05 -0500 (EST)
Received: from bdsl.66.12.12.130.gte.net (bdsl.66.12.12.130.gte.net [66.12.12.130])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id UAA17346
	for <sip@ietf.org>; Mon, 3 Dec 2001 20:01:03 -0500 (EST)
Received: from blazer (localhost.localdomain [127.0.0.1])
	by bdsl.66.12.12.130.gte.net (8.11.2/8.11.2) with SMTP id fB423pe06795
	for <sip@ietf.org>; Mon, 3 Dec 2001 20:03:51 -0600
Message-ID: <024601c17c5e$d3af5de0$54fa403f@blazer>
From: "Dean Willis" <dean.willis@softarmor.com>
To: <sip@ietf.org>
Date: Mon, 3 Dec 2001 18:58:45 -0600
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2600.0000
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
Content-Transfer-Encoding: 7bit
Subject: [Sip] Draft Agenda SIP WG at IETF 52
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

I've posted the first draft agenda along with other planning stuff at:

http://www.softarmor.com/sipwg/meets/ietf52/

Please comment ASAP. I will need to  lock this down during the evening of
Dec4, GMT-6.

Note that the only proposed ad-hoc so far is Security, currently proposed
for Monday night at 2100.

--
Dean


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Mon Dec  3 20:52:13 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id UAA20224
	for <sip-archive@odin.ietf.org>; Mon, 3 Dec 2001 20:52:13 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id UAA18907
	for sip-archive@odin.ietf.org; Mon, 3 Dec 2001 20:52:15 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id UAA18455;
	Mon, 3 Dec 2001 20:33:45 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id UAA18424
	for <sip@optimus.ietf.org>; Mon, 3 Dec 2001 20:33:42 -0500 (EST)
Received: from mail1.dynamicsoft.com (mail1.dynamicsoft.com [63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id UAA19207
	for <sip@ietf.org>; Mon, 3 Dec 2001 20:33:40 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fB41Vd4I005178;
	Mon, 3 Dec 2001 20:31:39 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <YAN9YZGB>; Mon, 3 Dec 2001 20:33:09 -0500
Message-ID: <9BF66EBF6BEFD942915B4D4D45C051F338E870@DYN-TX-EXCH-001.dynamicsoft.com>
From: Robert Sparks <rsparks@dynamicsoft.com>
To: "'Mpierce1@aol.com'" <Mpierce1@aol.com>, sip@ietf.org
Subject: RE: [Sip] re: the future of call control
Date: Mon, 3 Dec 2001 20:33:00 -0500 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

> I understand that there are thousands of proprietary IP 
> phones now. The 
> organization I represent may want 10's of thousands of IP 
> phones, but will 
> not touch proprietary ones. They must be "standard". The 
> point I made was 
> about what was required to use them in real networks, not for 
> thousands of 
> home hobbyists whose major concern (to judge by some of the 
> recent e-mails on 
> this list) is how to distinguish between voice calls and 
> requests to play 
> "Quake". As you said, for "folks" to deploy, they merely need 
> to work. But 
> for "organizations" to deploy, they need to be standard. If 
> "proprietary" was 
> okay, the SIP WG, and maybe the whole IETF, would not be needed.

You don't seriously believe that thread was all about hobbiests
trying to play Quake? 

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Tue Dec  4 11:12:22 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id LAA29945
	for <sip-archive@odin.ietf.org>; Tue, 4 Dec 2001 11:12:22 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id LAA20648
	for sip-archive@odin.ietf.org; Tue, 4 Dec 2001 11:12:24 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id KAA18460;
	Tue, 4 Dec 2001 10:30:30 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id KAA18413
	for <sip@optimus.ietf.org>; Tue, 4 Dec 2001 10:30:28 -0500 (EST)
Received: from zcars0m9.nortelnetworks.com (zcars0m9.nortelnetworks.com [47.129.242.157])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id KAA28371
	for <sip@ietf.org>; Tue, 4 Dec 2001 10:30:24 -0500 (EST)
Received: from znsgs01r.europe.nortel.com (znsgs01r.europe.nortel.com [47.137.129.92])
	by zcars0m9.nortelnetworks.com (8.11.0/8.11.0) with ESMTP id fB4FTGd19795
	for <sip@ietf.org>; Tue, 4 Dec 2001 10:29:16 -0500 (EST)
Received: from zwcwc012.europe.nortel.com (zwcwc012.europe.nortel.com [47.73.112.187])
	by znsgs01r.europe.nortel.com (Switch-2.2.0/Switch-2.2.0) with ESMTP id fB4FTnW08323
	for <sip@ietf.org>; Tue, 4 Dec 2001 15:29:49 GMT
Received: by zwcwc012.europe.nortel.com with Internet Mail Service (5.5.2653.19)
	id <YH6L42HX>; Tue, 4 Dec 2001 15:28:32 -0000
Message-ID: <588B15E2E2B1D41180B800508BF934F2984F97@bmdhd6.europe.nortel.com>
From: "Chris Mills" <chrmills@nortelnetworks.com>
To: "'sip@ietf.org'" <sip@ietf.org>
Date: Tue, 4 Dec 2001 15:21:34 -0000 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C17CD7.5C15F400"
Subject: [Sip] Problem with bis05 state machine
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

This message is in MIME format. Since your mail reader does not understand
this format, some or all of this message may not be legible.

------_=_NextPart_001_01C17CD7.5C15F400
Content-Type: text/plain;
	charset="iso-8859-1"

I have seen a potential problem in the bis05 state machine. This problem is
specifically in the INVITE client transaction state machine. It is stated
that if a 2xx is received in the 'calling' or 'proceeding' states that the
UAC core will automatically generate an ACK in response. This causes a
problem when the session offer has been sent in the 2xx (as opposed to in
the INVITE) in such a case the TU needs to answer this offer, and therefore
it must generate the ACK. A corresponding potential problem is found in the
INVITE server transaction state machine, where if a 2xx is sent from the TU
the state machine transitions directly to the terminated state. This
suggests that the TU never sees the ACK, and consequently would never see
the answer part of any session description contained in the 2xx-ACK pair.

Chris Mills 


------_=_NextPart_001_01C17CD7.5C15F400
Content-Type: text/html;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV=3D"Content-Type" CONTENT=3D"text/html; =
charset=3Diso-8859-1">
<META NAME=3D"Generator" CONTENT=3D"MS Exchange Server version =
5.5.2654.89">
<TITLE>Problem with bis05 state machine</TITLE>
</HEAD>
<BODY>

<P><FONT SIZE=3D2>I have seen a potential problem in the bis05 state =
machine. This problem is specifically in the INVITE client transaction =
state machine. It is stated that if a 2xx is received in the 'calling' =
or 'proceeding' states that the UAC core will automatically generate an =
ACK in response. This causes a problem when the session offer has been =
sent in the 2xx (as opposed to in the INVITE) in such a case the TU =
needs to answer this offer, and therefore it must generate the ACK. A =
corresponding potential problem is found in the INVITE server =
transaction state machine, where if a 2xx is sent from the TU the state =
machine transitions directly to the terminated state. This suggests =
that the TU never sees the ACK, and consequently would never see the =
answer part of any session description contained in the 2xx-ACK =
pair.</FONT></P>

<P><FONT SIZE=3D2>Chris Mills </FONT>
</P>

</BODY>
</HTML>
------_=_NextPart_001_01C17CD7.5C15F400--

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Tue Dec  4 12:34:08 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA03028
	for <sip-archive@odin.ietf.org>; Tue, 4 Dec 2001 12:34:08 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id MAA27125
	for sip-archive@odin.ietf.org; Tue, 4 Dec 2001 12:34:10 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id LAA24127;
	Tue, 4 Dec 2001 11:33:34 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id LAA24096
	for <sip@optimus.ietf.org>; Tue, 4 Dec 2001 11:33:31 -0500 (EST)
Received: from hotsip.com ([212.28.214.249])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id LAA00633
	for <sip@ietf.org>; Tue, 4 Dec 2001 11:33:27 -0500 (EST)
Received: from HASH ([195.238.204.173]) by hotsip.com with Microsoft SMTPSVC(5.0.2195.2966);
	 Tue, 4 Dec 2001 17:32:54 +0100
From: "Hisham Khartabil" <hisham.khartabil@hotsip.com>
To: "Dean Willis" <dean.willis@softarmor.com>,
        "Robert Sparks" <rsparks@dynamicsoft.com>
Cc: <sip@ietf.org>
Subject: RE: [Sip] re: refer-to header
Date: Tue, 4 Dec 2001 18:31:11 +0200
Message-ID: <GEEMIMOPEJGBIEGHJBHDKEEHCMAA.hisham.khartabil@hotsip.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2911.0)
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
Importance: Normal
In-Reply-To: <014d01c17c5b$eba19d30$54fa403f@blazer>
X-OriginalArrivalTime: 04 Dec 2001 16:32:54.0545 (UTC) FILETIME=[5305A810:01C17CE1]
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

This brings me back to my original question ?

I pasted my earlier example here:

If a UAC has the capabilities to REFER someone to a
voice session as well as some other session like a Game session. How does it
tell the referee what type of INVITE it is. (assuming the referee has one
SIP address to identify him/her, not services the client is capable of)

E.g.

- A is in a voice session with B
- A is in a game session with C
- A wants to refer D to join the voice with B and game with C. How would the
Refer-To header differ in that scenario? Do we include something from SDP in
there?

Now, the issue that Robert and Dean are talking about is initiating an
INVITE, not referring, so Hotsip's nifty little gui would work then.

Regards,
Hisham
www.hotsip.com

> -----Original Message-----
> From: sip-admin@ietf.org [mailto:sip-admin@ietf.org]On Behalf Of Dean
> Willis
> Sent: Tuesday, 4 December 2001 2:38 AM
> To: Robert Sparks
> Cc: sip@ietf.org
> Subject: Re: [Sip] re: refer-to header
>
>
> Robert posed:
> > Dean posutured:
> > > In the case posed by Robert, my business card might say:
> > >
> > > Voice: sip:dean.willis@softarmor.com
> > > Quake: sip:dw@quakewar.org
> > >
> > > Or, it might say:
> > >
> > > Voice: sip:dean.willis@softarmor.com
> > > Quake: sip:dean.willis@softarmor.com
> >
> > If you do this and you put these on a web page, not
> > a business card, how does your web browser know which
> > application to launch to generate the associated INVITE?
> >
> > If happen to have one application that can deal with
> > both types, how does your app know what kind of SDP
> > to include in its INVITE (assuming the signalling
> > distinction between game and voice is in the SDP).
>
> I pick 'em off a menu?
>
> HotSip's nifty little gui does something like pop-up a sub-menu
> with voice,
> chat, and game options when one hits the INVITE menu.
>
> --
> Dean
>
>
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Tue Dec  4 13:18:57 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id NAA05069
	for <sip-archive@odin.ietf.org>; Tue, 4 Dec 2001 13:18:57 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id NAA28435
	for sip-archive@odin.ietf.org; Tue, 4 Dec 2001 13:18:59 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA27291;
	Tue, 4 Dec 2001 12:38:40 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA27261
	for <sip@optimus.ietf.org>; Tue, 4 Dec 2001 12:38:38 -0500 (EST)
Received: from zrc2s03g.us.nortel.com (h66s122a103n47.user.nortelnetworks.com [47.103.122.66])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA03221
	for <sip@ietf.org>; Tue, 4 Dec 2001 12:38:35 -0500 (EST)
Received: from smtprch1.nortel.com (erchg0j.us.nortel.com [47.113.64.103])
	by zrc2s03g.us.nortel.com (8.9.3+Sun/8.9.1) with ESMTP id LAA09287
	for <sip@ietf.org>; Tue, 4 Dec 2001 11:38:07 -0600 (CST)
Received: from zrchb200.us.nortel.com by smtprch1.nortel.com;
          Tue, 4 Dec 2001 11:32:49 -0600
Received: by zrchb200.us.nortel.com with Internet Mail Service (5.5.2653.19) 
          id <X6VLACWT>; Tue, 4 Dec 2001 11:36:36 -0600
Message-ID: <FB4781AB3309D5118DCD00508BF93CA2027FFF46@zrc2c001.us.nortel.com>
From: "Mary Barnes" <mbarnes@nortelnetworks.com>
To: "'Dean Willis'" <dean.willis@softarmor.com>, sip <sip@ietf.org>
Subject: RE: [Sip] Draft Agenda SIP WG at IETF 52
Date: Tue, 4 Dec 2001 11:36:29 -0600
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: multipart/alternative;
              boundary="----_=_NextPart_001_01C17CEA.34B0D480"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

This message is in MIME format. Since your mail reader does not understand
this format, some or all of this message may not be legible.

------_=_NextPart_001_01C17CEA.34B0D480
Content-Type: text/plain;
	charset="iso-8859-1"

Dean,

Is the start time for the Security adhoc correct (2100)? It appears from the
main agenda that the regular evening WG sessions don't complete until 2200.
This would be a problem for those of us that also are participating in
MIDCOM.  Although, I do recognize that a 2200 start time on the first day
for folks that have traveled from the East will be grueling.  Is it possible
to move this adhoc to Tuesday evening?

Regards,
Mary H. Barnes
mbarnes@nortelnetworks.com
972-684-5432

-----Original Message-----
From: Dean Willis [mailto:dean.willis@softarmor.com]
Sent: Monday, December 03, 2001 6:59 PM
To: sip
Subject: [Sip] Draft Agenda SIP WG at IETF 52


I've posted the first draft agenda along with other planning stuff at:

http://www.softarmor.com/sipwg/meets/ietf52/

Please comment ASAP. I will need to  lock this down during the evening of
Dec4, GMT-6.

Note that the only proposed ad-hoc so far is Security, currently proposed
for Monday night at 2100.

--
Dean


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip

------_=_NextPart_001_01C17CEA.34B0D480
Content-Type: text/html;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV=3D"Content-Type" CONTENT=3D"text/html; =
charset=3Diso-8859-1">
<META NAME=3D"Generator" CONTENT=3D"MS Exchange Server version =
5.5.2654.89">
<TITLE>RE: [Sip] Draft Agenda SIP WG at IETF 52</TITLE>
</HEAD>
<BODY>

<P><FONT SIZE=3D2>Dean,</FONT>
</P>

<P><FONT SIZE=3D2>Is the start time for the Security adhoc correct =
(2100)? It appears from the main agenda that the regular evening WG =
sessions don't complete until 2200.&nbsp; This would be a problem for =
those of us that also are participating in MIDCOM.&nbsp; Although, I do =
recognize that a 2200 start time on the first day for folks that have =
traveled from the East will be grueling.&nbsp; Is it possible to move =
this adhoc to Tuesday evening?</FONT></P>

<P><FONT SIZE=3D2>Regards,</FONT>
<BR><FONT SIZE=3D2>Mary H. Barnes</FONT>
<BR><FONT SIZE=3D2>mbarnes@nortelnetworks.com</FONT>
<BR><FONT SIZE=3D2>972-684-5432</FONT>
</P>

<P><FONT SIZE=3D2>-----Original Message-----</FONT>
<BR><FONT SIZE=3D2>From: Dean Willis [<A =
HREF=3D"mailto:dean.willis@softarmor.com">mailto:dean.willis@softarmor.c=
om</A>]</FONT>
<BR><FONT SIZE=3D2>Sent: Monday, December 03, 2001 6:59 PM</FONT>
<BR><FONT SIZE=3D2>To: sip</FONT>
<BR><FONT SIZE=3D2>Subject: [Sip] Draft Agenda SIP WG at IETF 52</FONT>
</P>
<BR>

<P><FONT SIZE=3D2>I've posted the first draft agenda along with other =
planning stuff at:</FONT>
</P>

<P><FONT SIZE=3D2><A =
HREF=3D"http://www.softarmor.com/sipwg/meets/ietf52/" =
TARGET=3D"_blank">http://www.softarmor.com/sipwg/meets/ietf52/</A></FONT=
>
</P>

<P><FONT SIZE=3D2>Please comment ASAP. I will need to&nbsp; lock this =
down during the evening of</FONT>
<BR><FONT SIZE=3D2>Dec4, GMT-6.</FONT>
</P>

<P><FONT SIZE=3D2>Note that the only proposed ad-hoc so far is =
Security, currently proposed</FONT>
<BR><FONT SIZE=3D2>for Monday night at 2100.</FONT>
</P>

<P><FONT SIZE=3D2>--</FONT>
<BR><FONT SIZE=3D2>Dean</FONT>
</P>
<BR>

<P><FONT =
SIZE=3D2>_______________________________________________</FONT>
<BR><FONT SIZE=3D2>Sip mailing list&nbsp; <A =
HREF=3D"http://www1.ietf.org/mailman/listinfo/sip" =
TARGET=3D"_blank">http://www1.ietf.org/mailman/listinfo/sip</A></FONT>
<BR><FONT SIZE=3D2>This list is for NEW development of the core SIP =
Protocol</FONT>
<BR><FONT SIZE=3D2>Use sip-implementors@cs.columbia.edu for questions =
on current sip</FONT>
<BR><FONT SIZE=3D2>Use sipping@ietf.org for new developments on the =
application of sip</FONT>
</P>

</BODY>
</HTML>
------_=_NextPart_001_01C17CEA.34B0D480--

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Tue Dec  4 16:54:40 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id QAA14108
	for <sip-archive@odin.ietf.org>; Tue, 4 Dec 2001 16:54:40 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id QAA05461
	for sip-archive@odin.ietf.org; Tue, 4 Dec 2001 16:54:42 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id QAA04151;
	Tue, 4 Dec 2001 16:26:27 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id QAA04119
	for <sip@optimus.ietf.org>; Tue, 4 Dec 2001 16:26:24 -0500 (EST)
Received: from bdsl.66.12.12.130.gte.net (bdsl.66.12.12.130.gte.net [66.12.12.130])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id QAA13061
	for <sip@ietf.org>; Tue, 4 Dec 2001 16:26:21 -0500 (EST)
Received: from cowboys (localhost.localdomain [127.0.0.1])
	by bdsl.66.12.12.130.gte.net (8.11.2/8.11.2) with SMTP id fB4MT5e08881;
	Tue, 4 Dec 2001 16:29:05 -0600
Message-ID: <005d01c17d0a$d96bcc30$01000001@dynamicsoft.com>
From: "Dean Willis" <dean.willis@softarmor.com>
To: "Dean Willis" <dean.willis@softarmor.com>,
        "Jari Arkko" <jari.arkko@kolumbus.fi>,
        "Mary Barnes" <mbarnes@nortelnetworks.com>, <sip@ietf.org>
Date: Tue, 4 Dec 2001 15:30:08 -0600
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_005A_01C17CD8.8E6AF940"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2600.0000
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
Subject: [Sip] Proposed Change to Security adhoc timing
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

This is a multi-part message in MIME format.

------=_NextPart_000_005A_01C17CD8.8E6AF940
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

RE: [Sip] Draft Agenda SIP WG at IETF 52Even better, how about Tuesday =
at 2030 for Security? The last scheduled meeting of the day runs until =
1800, so 2.5 hours should let us eat then meet. . . .

--
Dean
  ----- Original Message -----=20
  From: Dean Willis=20
  To: Jari Arkko ; Mary Barnes ; sip@ietf.org=20
  Sent: Tuesday, December 04, 2001 3:27 PM
  Subject: Re: [Sip] Draft Agenda SIP WG at IETF 52


  How would people feel about 2130 Tuesday for SIP Security AD-Hoc?

  I've also received a request for a 3G-related adhoc. Schedule ideas? =
Thursday 2200?

  --
  Dean
    ----- Original Message -----=20
    From: Jari Arkko=20
    To: Mary Barnes ; 'Dean Willis'=20
    Sent: Tuesday, December 04, 2001 2:42 PM
    Subject: Re: [Sip] Draft Agenda SIP WG at IETF 52



    I just wanted to comment as someone who indeed comes from the east =
;-) that
    I'm quite fine with either Monday 21 or Tuesday after the regular =
sessions end.
    If we need to collide with some other sessions then I think Monday =
last session
    (what you have now proposed) is propably the best choice...

    Jari
      ----- Original Message -----=20
      From: Mary Barnes=20
      To: 'Dean Willis' ; sip=20
      Sent: 4. joulukuuta 2001 19:36
      Subject: RE: [Sip] Draft Agenda SIP WG at IETF 52


      Dean,=20

      Is the start time for the Security adhoc correct (2100)? It =
appears from the main agenda that the regular evening WG sessions don't =
complete until 2200.  This would be a problem for those of us that also =
are participating in MIDCOM.  Although, I do recognize that a 2200 start =
time on the first day for folks that have traveled from the East will be =
grueling.  Is it possible to move this adhoc to Tuesday evening?

      Regards,=20
      Mary H. Barnes=20
      mbarnes@nortelnetworks.com=20
      972-684-5432=20

      -----Original Message-----=20
      From: Dean Willis [mailto:dean.willis@softarmor.com]=20
      Sent: Monday, December 03, 2001 6:59 PM=20
      To: sip=20
      Subject: [Sip] Draft Agenda SIP WG at IETF 52=20



      I've posted the first draft agenda along with other planning stuff =
at:=20

      http://www.softarmor.com/sipwg/meets/ietf52/=20

      Please comment ASAP. I will need to  lock this down during the =
evening of=20
      Dec4, GMT-6.=20

      Note that the only proposed ad-hoc so far is Security, currently =
proposed=20
      for Monday night at 2100.=20

      --=20
      Dean=20



      _______________________________________________=20
      Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip=20
      This list is for NEW development of the core SIP Protocol=20
      Use sip-implementors@cs.columbia.edu for questions on current sip=20
      Use sipping@ietf.org for new developments on the application of =
sip=20


------=_NextPart_000_005A_01C17CD8.8E6AF940
Content-Type: text/html;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML><HEAD><TITLE>RE: [Sip] Draft Agenda SIP WG at IETF 52</TITLE>
<META http-equiv=3DContent-Type content=3D"text/html; =
charset=3Diso-8859-1">
<META content=3D"MSHTML 6.00.2600.0" name=3DGENERATOR>
<STYLE></STYLE>
</HEAD>
<BODY bgColor=3D#ffffff>
<DIV><FONT face=3DArial size=3D2>Even better, how about Tuesday at 2030 =
for=20
Security? The last scheduled meeting of the day runs until 1800, so 2.5 =
hours=20
should let us eat then meet. . . .</FONT></DIV>
<DIV><FONT face=3DArial size=3D2></FONT>&nbsp;</DIV>
<DIV><FONT face=3DArial size=3D2>--<BR>Dean</FONT></DIV>
<BLOCKQUOTE dir=3Dltr=20
style=3D"PADDING-RIGHT: 0px; PADDING-LEFT: 5px; MARGIN-LEFT: 5px; =
BORDER-LEFT: #000000 2px solid; MARGIN-RIGHT: 0px">
  <DIV style=3D"FONT: 10pt arial">----- Original Message ----- </DIV>
  <DIV=20
  style=3D"BACKGROUND: #e4e4e4; FONT: 10pt arial; font-color: =
black"><B>From:</B>=20
  <A title=3Ddean.willis@softarmor.com=20
  href=3D"mailto:dean.willis@softarmor.com">Dean Willis</A> </DIV>
  <DIV style=3D"FONT: 10pt arial"><B>To:</B> <A =
title=3Djari.arkko@kolumbus.fi=20
  href=3D"mailto:jari.arkko@kolumbus.fi">Jari Arkko</A> ; <A=20
  title=3Dmbarnes@nortelnetworks.com =
href=3D"mailto:mbarnes@nortelnetworks.com">Mary=20
  Barnes</A> ; <A title=3Dsip@ietf.org =
href=3D"mailto:sip@ietf.org">sip@ietf.org</A>=20
  </DIV>
  <DIV style=3D"FONT: 10pt arial"><B>Sent:</B> Tuesday, December 04, =
2001 3:27=20
  PM</DIV>
  <DIV style=3D"FONT: 10pt arial"><B>Subject:</B> Re: [Sip] Draft Agenda =
SIP WG at=20
  IETF 52</DIV>
  <DIV><BR></DIV>
  <DIV><FONT face=3DArial size=3D2>How would people feel about 2130 =
Tuesday for SIP=20
  Security AD-Hoc?</FONT></DIV>
  <DIV><FONT face=3DArial size=3D2></FONT>&nbsp;</DIV>
  <DIV><FONT face=3DArial size=3D2>I've also received a request for a =
3G-related=20
  adhoc. Schedule ideas? Thursday 2200?</FONT></DIV>
  <DIV><FONT face=3DArial size=3D2></FONT>&nbsp;</DIV>
  <DIV><FONT face=3DArial size=3D2>--</FONT></DIV>
  <DIV><FONT face=3DArial size=3D2>Dean</FONT></DIV>
  <BLOCKQUOTE dir=3Dltr=20
  style=3D"PADDING-RIGHT: 0px; PADDING-LEFT: 5px; MARGIN-LEFT: 5px; =
BORDER-LEFT: #000000 2px solid; MARGIN-RIGHT: 0px">
    <DIV style=3D"FONT: 10pt arial">----- Original Message ----- </DIV>
    <DIV=20
    style=3D"BACKGROUND: #e4e4e4; FONT: 10pt arial; font-color: =
black"><B>From:</B>=20
    <A title=3Djari.arkko@kolumbus.fi =
href=3D"mailto:jari.arkko@kolumbus.fi">Jari=20
    Arkko</A> </DIV>
    <DIV style=3D"FONT: 10pt arial"><B>To:</B> <A =
title=3Dmbarnes@nortelnetworks.com=20
    href=3D"mailto:mbarnes@nortelnetworks.com">Mary Barnes</A> ; <A=20
    title=3Ddean.willis@softarmor.com=20
    href=3D"mailto:dean.willis@softarmor.com">'Dean Willis'</A> </DIV>
    <DIV style=3D"FONT: 10pt arial"><B>Sent:</B> Tuesday, December 04, =
2001 2:42=20
    PM</DIV>
    <DIV style=3D"FONT: 10pt arial"><B>Subject:</B> Re: [Sip] Draft =
Agenda SIP WG=20
    at IETF 52</DIV>
    <DIV><BR></DIV>
    <DIV><FONT size=3D2></FONT>&nbsp;</DIV>
    <DIV><FONT size=3D2>I just wanted to comment as someone who indeed =
comes from=20
    the east ;-) that</FONT></DIV>
    <DIV><FONT size=3D2>I'm quite fine with either Monday 21 or Tuesday =
after the=20
    regular sessions end.</FONT></DIV>
    <DIV><FONT size=3D2>If we need to collide with some other sessions =
then I=20
    think Monday last session</FONT></DIV>
    <DIV><FONT size=3D2>(what you have now proposed) is propably the =
best=20
    choice...</FONT></DIV>
    <DIV><FONT size=3D2></FONT>&nbsp;</DIV>
    <DIV><FONT size=3D2>Jari</FONT></DIV>
    <BLOCKQUOTE dir=3Dltr=20
    style=3D"PADDING-RIGHT: 0px; PADDING-LEFT: 5px; MARGIN-LEFT: 5px; =
BORDER-LEFT: #000000 2px solid; MARGIN-RIGHT: 0px">
      <DIV style=3D"FONT: 10pt arial">----- Original Message ----- =
</DIV>
      <DIV=20
      style=3D"BACKGROUND: #e4e4e4; FONT: 10pt arial; font-color: =
black"><B>From:</B>=20
      <A title=3Dmbarnes@nortelnetworks.com=20
      href=3D"mailto:mbarnes@nortelnetworks.com">Mary Barnes</A> </DIV>
      <DIV style=3D"FONT: 10pt arial"><B>To:</B> <A=20
      title=3Ddean.willis@softarmor.com=20
      href=3D"mailto:dean.willis@softarmor.com">'Dean Willis'</A> ; <A=20
      title=3Dsip@ietf.org href=3D"mailto:sip@ietf.org">sip</A> </DIV>
      <DIV style=3D"FONT: 10pt arial"><B>Sent:</B> 4. joulukuuta 2001 =
19:36</DIV>
      <DIV style=3D"FONT: 10pt arial"><B>Subject:</B> RE: [Sip] Draft =
Agenda SIP=20
      WG at IETF 52</DIV>
      <DIV><BR></DIV>
      <P><FONT size=3D2>Dean,</FONT> </P>
      <P><FONT size=3D2>Is the start time for the Security adhoc correct =
(2100)?=20
      It appears from the main agenda that the regular evening WG =
sessions don't=20
      complete until 2200.&nbsp; This would be a problem for those of us =
that=20
      also are participating in MIDCOM.&nbsp; Although, I do recognize =
that a=20
      2200 start time on the first day for folks that have traveled from =
the=20
      East will be grueling.&nbsp; Is it possible to move this adhoc to =
Tuesday=20
      evening?</FONT></P>
      <P><FONT size=3D2>Regards,</FONT> <BR><FONT size=3D2>Mary H. =
Barnes</FONT>=20
      <BR><FONT size=3D2>mbarnes@nortelnetworks.com</FONT> <BR><FONT=20
      size=3D2>972-684-5432</FONT> </P>
      <P><FONT size=3D2>-----Original Message-----</FONT> <BR><FONT =
size=3D2>From:=20
      Dean Willis [<A=20
      =
href=3D"mailto:dean.willis@softarmor.com">mailto:dean.willis@softarmor.co=
m</A>]</FONT>=20
      <BR><FONT size=3D2>Sent: Monday, December 03, 2001 6:59 PM</FONT> =
<BR><FONT=20
      size=3D2>To: sip</FONT> <BR><FONT size=3D2>Subject: [Sip] Draft =
Agenda SIP WG=20
      at IETF 52</FONT> </P><BR>
      <P><FONT size=3D2>I've posted the first draft agenda along with =
other=20
      planning stuff at:</FONT> </P>
      <P><FONT size=3D2><A =
href=3D"http://www.softarmor.com/sipwg/meets/ietf52/"=20
      =
target=3D_blank>http://www.softarmor.com/sipwg/meets/ietf52/</A></FONT> =
</P>
      <P><FONT size=3D2>Please comment ASAP. I will need to&nbsp; lock =
this down=20
      during the evening of</FONT> <BR><FONT size=3D2>Dec4, =
GMT-6.</FONT> </P>
      <P><FONT size=3D2>Note that the only proposed ad-hoc so far is =
Security,=20
      currently proposed</FONT> <BR><FONT size=3D2>for Monday night at=20
      2100.</FONT> </P>
      <P><FONT size=3D2>--</FONT> <BR><FONT size=3D2>Dean</FONT> =
</P><BR>
      <P><FONT =
size=3D2>_______________________________________________</FONT>=20
      <BR><FONT size=3D2>Sip mailing list&nbsp; <A=20
      href=3D"http://www1.ietf.org/mailman/listinfo/sip"=20
      =
target=3D_blank>http://www1.ietf.org/mailman/listinfo/sip</A></FONT>=20
      <BR><FONT size=3D2>This list is for NEW development of the core =
SIP=20
      Protocol</FONT> <BR><FONT size=3D2>Use =
sip-implementors@cs.columbia.edu for=20
      questions on current sip</FONT> <BR><FONT size=3D2>Use =
sipping@ietf.org for=20
      new developments on the application of sip</FONT>=20
  </P></BLOCKQUOTE></BLOCKQUOTE></BLOCKQUOTE></BODY></HTML>

------=_NextPart_000_005A_01C17CD8.8E6AF940--


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Tue Dec  4 16:59:45 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id QAA14240
	for <sip-archive@odin.ietf.org>; Tue, 4 Dec 2001 16:59:44 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id QAA05625
	for sip-archive@odin.ietf.org; Tue, 4 Dec 2001 16:59:47 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id QAA04772;
	Tue, 4 Dec 2001 16:33:53 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id QAA04740
	for <sip@optimus.ietf.org>; Tue, 4 Dec 2001 16:33:50 -0500 (EST)
Received: from bdsl.66.12.12.130.gte.net (bdsl.66.12.12.130.gte.net [66.12.12.130])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id QAA13299
	for <sip@ietf.org>; Tue, 4 Dec 2001 16:33:47 -0500 (EST)
Received: from cowboys (localhost.localdomain [127.0.0.1])
	by bdsl.66.12.12.130.gte.net (8.11.2/8.11.2) with SMTP id fB4Mabe08930
	for <sip@ietf.org>; Tue, 4 Dec 2001 16:36:37 -0600
Message-ID: <008b01c17d0b$e6d278f0$01000001@dynamicsoft.com>
From: "Dean Willis" <dean.willis@softarmor.com>
To: <sip@ietf.org>
Date: Tue, 4 Dec 2001 15:37:40 -0600
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2600.0000
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
Content-Transfer-Encoding: 7bit
Subject: [Sip] Revised SIP WG draft agenda posted for IETF52
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

I have revised the draft agenda for IETF 52 based on comments received so
far.


See:  http://www.softarmor.com/sipwg/meets/ietf52/draftagenda.html

Minor reordering of a couple of things, a few names added, and a couple of
minor changes to reading lists.

I'll submit the final to IETF tonight, so speak up if there are any
requests.

--
Dean



_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Tue Dec  4 17:00:00 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id RAA14260
	for <sip-archive@odin.ietf.org>; Tue, 4 Dec 2001 17:00:00 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id RAA05682
	for sip-archive@odin.ietf.org; Tue, 4 Dec 2001 17:00:02 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id QAA03997;
	Tue, 4 Dec 2001 16:24:03 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id QAA03966
	for <sip@optimus.ietf.org>; Tue, 4 Dec 2001 16:24:01 -0500 (EST)
Received: from bdsl.66.12.12.130.gte.net (bdsl.66.12.12.130.gte.net [66.12.12.130])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id QAA12911
	for <sip@ietf.org>; Tue, 4 Dec 2001 16:23:58 -0500 (EST)
Received: from cowboys (localhost.localdomain [127.0.0.1])
	by bdsl.66.12.12.130.gte.net (8.11.2/8.11.2) with SMTP id fB4MQge08869;
	Tue, 4 Dec 2001 16:26:42 -0600
Message-ID: <005201c17d0a$845fcb60$01000001@dynamicsoft.com>
From: "Dean Willis" <dean.willis@softarmor.com>
To: "Jari Arkko" <jari.arkko@kolumbus.fi>,
        "Mary Barnes" <mbarnes@nortelnetworks.com>, <sip@ietf.org>
References: <FB4781AB3309D5118DCD00508BF93CA2027FFF46@zrc2c001.us.nortel.com> <004c01c17d04$225324e0$8a1b6e0a@arenanet.fi>
Subject: Re: [Sip] Draft Agenda SIP WG at IETF 52
Date: Tue, 4 Dec 2001 15:27:46 -0600
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_004F_01C17CD8.39607F10"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2600.0000
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

This is a multi-part message in MIME format.

------=_NextPart_000_004F_01C17CD8.39607F10
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

RE: [Sip] Draft Agenda SIP WG at IETF 52How would people feel about 2130 =
Tuesday for SIP Security AD-Hoc?

I've also received a request for a 3G-related adhoc. Schedule ideas? =
Thursday 2200?

--
Dean
  ----- Original Message -----=20
  From: Jari Arkko=20
  To: Mary Barnes ; 'Dean Willis'=20
  Sent: Tuesday, December 04, 2001 2:42 PM
  Subject: Re: [Sip] Draft Agenda SIP WG at IETF 52



  I just wanted to comment as someone who indeed comes from the east ;-) =
that
  I'm quite fine with either Monday 21 or Tuesday after the regular =
sessions end.
  If we need to collide with some other sessions then I think Monday =
last session
  (what you have now proposed) is propably the best choice...

  Jari
    ----- Original Message -----=20
    From: Mary Barnes=20
    To: 'Dean Willis' ; sip=20
    Sent: 4. joulukuuta 2001 19:36
    Subject: RE: [Sip] Draft Agenda SIP WG at IETF 52


    Dean,=20

    Is the start time for the Security adhoc correct (2100)? It appears =
from the main agenda that the regular evening WG sessions don't complete =
until 2200.  This would be a problem for those of us that also are =
participating in MIDCOM.  Although, I do recognize that a 2200 start =
time on the first day for folks that have traveled from the East will be =
grueling.  Is it possible to move this adhoc to Tuesday evening?

    Regards,=20
    Mary H. Barnes=20
    mbarnes@nortelnetworks.com=20
    972-684-5432=20

    -----Original Message-----=20
    From: Dean Willis [mailto:dean.willis@softarmor.com]=20
    Sent: Monday, December 03, 2001 6:59 PM=20
    To: sip=20
    Subject: [Sip] Draft Agenda SIP WG at IETF 52=20



    I've posted the first draft agenda along with other planning stuff =
at:=20

    http://www.softarmor.com/sipwg/meets/ietf52/=20

    Please comment ASAP. I will need to  lock this down during the =
evening of=20
    Dec4, GMT-6.=20

    Note that the only proposed ad-hoc so far is Security, currently =
proposed=20
    for Monday night at 2100.=20

    --=20
    Dean=20



    _______________________________________________=20
    Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip=20
    This list is for NEW development of the core SIP Protocol=20
    Use sip-implementors@cs.columbia.edu for questions on current sip=20
    Use sipping@ietf.org for new developments on the application of sip=20


------=_NextPart_000_004F_01C17CD8.39607F10
Content-Type: text/html;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML><HEAD><TITLE>RE: [Sip] Draft Agenda SIP WG at IETF 52</TITLE>
<META http-equiv=3DContent-Type content=3D"text/html; =
charset=3Diso-8859-1">
<META content=3D"MSHTML 6.00.2600.0" name=3DGENERATOR>
<STYLE></STYLE>
</HEAD>
<BODY bgColor=3D#ffffff>
<DIV><FONT face=3DArial size=3D2>How would people feel about 2130 =
Tuesday for SIP=20
Security AD-Hoc?</FONT></DIV>
<DIV><FONT face=3DArial size=3D2></FONT>&nbsp;</DIV>
<DIV><FONT face=3DArial size=3D2>I've also received a request for a =
3G-related=20
adhoc. Schedule ideas? Thursday 2200?</FONT></DIV>
<DIV><FONT face=3DArial size=3D2></FONT>&nbsp;</DIV>
<DIV><FONT face=3DArial size=3D2>--</FONT></DIV>
<DIV><FONT face=3DArial size=3D2>Dean</FONT></DIV>
<BLOCKQUOTE dir=3Dltr=20
style=3D"PADDING-RIGHT: 0px; PADDING-LEFT: 5px; MARGIN-LEFT: 5px; =
BORDER-LEFT: #000000 2px solid; MARGIN-RIGHT: 0px">
  <DIV style=3D"FONT: 10pt arial">----- Original Message ----- </DIV>
  <DIV=20
  style=3D"BACKGROUND: #e4e4e4; FONT: 10pt arial; font-color: =
black"><B>From:</B>=20
  <A title=3Djari.arkko@kolumbus.fi =
href=3D"mailto:jari.arkko@kolumbus.fi">Jari=20
  Arkko</A> </DIV>
  <DIV style=3D"FONT: 10pt arial"><B>To:</B> <A =
title=3Dmbarnes@nortelnetworks.com=20
  href=3D"mailto:mbarnes@nortelnetworks.com">Mary Barnes</A> ; <A=20
  title=3Ddean.willis@softarmor.com =
href=3D"mailto:dean.willis@softarmor.com">'Dean=20
  Willis'</A> </DIV>
  <DIV style=3D"FONT: 10pt arial"><B>Sent:</B> Tuesday, December 04, =
2001 2:42=20
  PM</DIV>
  <DIV style=3D"FONT: 10pt arial"><B>Subject:</B> Re: [Sip] Draft Agenda =
SIP WG at=20
  IETF 52</DIV>
  <DIV><BR></DIV>
  <DIV><FONT size=3D2></FONT>&nbsp;</DIV>
  <DIV><FONT size=3D2>I just wanted to comment as someone who indeed =
comes from=20
  the east ;-) that</FONT></DIV>
  <DIV><FONT size=3D2>I'm quite fine with either Monday 21 or Tuesday =
after the=20
  regular sessions end.</FONT></DIV>
  <DIV><FONT size=3D2>If we need to collide with some other sessions =
then I think=20
  Monday last session</FONT></DIV>
  <DIV><FONT size=3D2>(what you have now proposed) is propably the best=20
  choice...</FONT></DIV>
  <DIV><FONT size=3D2></FONT>&nbsp;</DIV>
  <DIV><FONT size=3D2>Jari</FONT></DIV>
  <BLOCKQUOTE dir=3Dltr=20
  style=3D"PADDING-RIGHT: 0px; PADDING-LEFT: 5px; MARGIN-LEFT: 5px; =
BORDER-LEFT: #000000 2px solid; MARGIN-RIGHT: 0px">
    <DIV style=3D"FONT: 10pt arial">----- Original Message ----- </DIV>
    <DIV=20
    style=3D"BACKGROUND: #e4e4e4; FONT: 10pt arial; font-color: =
black"><B>From:</B>=20
    <A title=3Dmbarnes@nortelnetworks.com=20
    href=3D"mailto:mbarnes@nortelnetworks.com">Mary Barnes</A> </DIV>
    <DIV style=3D"FONT: 10pt arial"><B>To:</B> <A =
title=3Ddean.willis@softarmor.com=20
    href=3D"mailto:dean.willis@softarmor.com">'Dean Willis'</A> ; <A=20
    title=3Dsip@ietf.org href=3D"mailto:sip@ietf.org">sip</A> </DIV>
    <DIV style=3D"FONT: 10pt arial"><B>Sent:</B> 4. joulukuuta 2001 =
19:36</DIV>
    <DIV style=3D"FONT: 10pt arial"><B>Subject:</B> RE: [Sip] Draft =
Agenda SIP WG=20
    at IETF 52</DIV>
    <DIV><BR></DIV>
    <P><FONT size=3D2>Dean,</FONT> </P>
    <P><FONT size=3D2>Is the start time for the Security adhoc correct =
(2100)? It=20
    appears from the main agenda that the regular evening WG sessions =
don't=20
    complete until 2200.&nbsp; This would be a problem for those of us =
that also=20
    are participating in MIDCOM.&nbsp; Although, I do recognize that a =
2200=20
    start time on the first day for folks that have traveled from the =
East will=20
    be grueling.&nbsp; Is it possible to move this adhoc to Tuesday=20
    evening?</FONT></P>
    <P><FONT size=3D2>Regards,</FONT> <BR><FONT size=3D2>Mary H. =
Barnes</FONT>=20
    <BR><FONT size=3D2>mbarnes@nortelnetworks.com</FONT> <BR><FONT=20
    size=3D2>972-684-5432</FONT> </P>
    <P><FONT size=3D2>-----Original Message-----</FONT> <BR><FONT =
size=3D2>From:=20
    Dean Willis [<A=20
    =
href=3D"mailto:dean.willis@softarmor.com">mailto:dean.willis@softarmor.co=
m</A>]</FONT>=20
    <BR><FONT size=3D2>Sent: Monday, December 03, 2001 6:59 PM</FONT> =
<BR><FONT=20
    size=3D2>To: sip</FONT> <BR><FONT size=3D2>Subject: [Sip] Draft =
Agenda SIP WG at=20
    IETF 52</FONT> </P><BR>
    <P><FONT size=3D2>I've posted the first draft agenda along with =
other planning=20
    stuff at:</FONT> </P>
    <P><FONT size=3D2><A =
href=3D"http://www.softarmor.com/sipwg/meets/ietf52/"=20
    =
target=3D_blank>http://www.softarmor.com/sipwg/meets/ietf52/</A></FONT> =
</P>
    <P><FONT size=3D2>Please comment ASAP. I will need to&nbsp; lock =
this down=20
    during the evening of</FONT> <BR><FONT size=3D2>Dec4, GMT-6.</FONT> =
</P>
    <P><FONT size=3D2>Note that the only proposed ad-hoc so far is =
Security,=20
    currently proposed</FONT> <BR><FONT size=3D2>for Monday night at =
2100.</FONT>=20
    </P>
    <P><FONT size=3D2>--</FONT> <BR><FONT size=3D2>Dean</FONT> </P><BR>
    <P><FONT =
size=3D2>_______________________________________________</FONT>=20
    <BR><FONT size=3D2>Sip mailing list&nbsp; <A=20
    href=3D"http://www1.ietf.org/mailman/listinfo/sip"=20
    target=3D_blank>http://www1.ietf.org/mailman/listinfo/sip</A></FONT> =
<BR><FONT=20
    size=3D2>This list is for NEW development of the core SIP =
Protocol</FONT>=20
    <BR><FONT size=3D2>Use sip-implementors@cs.columbia.edu for =
questions on=20
    current sip</FONT> <BR><FONT size=3D2>Use sipping@ietf.org for new=20
    developments on the application of sip</FONT>=20
</P></BLOCKQUOTE></BLOCKQUOTE></BODY></HTML>

------=_NextPart_000_004F_01C17CD8.39607F10--


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Tue Dec  4 17:11:09 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id RAA14688
	for <sip-archive@odin.ietf.org>; Tue, 4 Dec 2001 17:11:08 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id RAA06221
	for sip-archive@odin.ietf.org; Tue, 4 Dec 2001 17:11:11 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id QAA05070;
	Tue, 4 Dec 2001 16:43:01 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id QAA04969
	for <sip@optimus.ietf.org>; Tue, 4 Dec 2001 16:42:56 -0500 (EST)
Received: from zrc2s03g.us.nortel.com (h66s122a103n47.user.nortelnetworks.com [47.103.122.66])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id QAA13622
	for <sip@ietf.org>; Tue, 4 Dec 2001 16:42:52 -0500 (EST)
Received: from smtprch1.nortel.com (erchg0j.us.nortel.com [47.113.64.103])
	by zrc2s03g.us.nortel.com (8.9.3+Sun/8.9.1) with ESMTP id PAA22399
	for <sip@ietf.org>; Tue, 4 Dec 2001 15:42:25 -0600 (CST)
Received: from zrchb200.us.nortel.com by smtprch1.nortel.com;
          Tue, 4 Dec 2001 15:37:01 -0600
Received: by zrchb200.us.nortel.com with Internet Mail Service (5.5.2653.19) 
          id <X6VLA2W5>; Tue, 4 Dec 2001 15:40:48 -0600
Message-ID: <FB4781AB3309D5118DCD00508BF93CA2027FFF4F@zrc2c001.us.nortel.com>
From: "Mary Barnes" <mbarnes@nortelnetworks.com>
To: "'Dean Willis'" <dean.willis@softarmor.com>,
        Jari Arkko <jari.arkko@kolumbus.fi>, sip <sip@ietf.org>
Date: Tue, 4 Dec 2001 15:40:43 -0600
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: multipart/alternative;
              boundary="----_=_NextPart_001_01C17D0C.539A3860"
Subject: [Sip] RE: Proposed Change to Security adhoc timing
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

This message is in MIME format. Since your mail reader does not understand
this format, some or all of this message may not be legible.

------_=_NextPart_001_01C17D0C.539A3860
Content-Type: text/plain;
	charset="iso-8859-1"

Dean,
 
2030 on Tuesday for Security looks good.  I wonder if it wouldn't be
reasonable to run back-to-back adhocs on Tuesday evening and cover off the
3G then OR was the idea to have the 3G adhoc after the main WG discussions
on this topic? In that case, 2200 on Thursday would be fine. 
 
Is there a detailed agenda for the security adhoc available or being
proposed?  In London, the security adhoc was not extremely productive as the
discussion was quite broad and open-ended (although, perhaps that's the
nature of this topic).  
 
Mary. 

-----Original Message-----
From: Dean Willis [mailto:dean.willis@softarmor.com]
Sent: Tuesday, December 04, 2001 3:30 PM
To: Dean Willis; Jari Arkko; Barnes, Mary [NGC:B601:EXCH]; sip
Subject: Proposed Change to Security adhoc timing


Even better, how about Tuesday at 2030 for Security? The last scheduled
meeting of the day runs until 1800, so 2.5 hours should let us eat then
meet. . . .
 
--
Dean

----- Original Message ----- 
From: Dean Willis <mailto:dean.willis@softarmor.com>  
To: Jari  <mailto:jari.arkko@kolumbus.fi> Arkko ; Mary Barnes
<mailto:mbarnes@nortelnetworks.com>  ; sip@ietf.org <mailto:sip@ietf.org>  
Sent: Tuesday, December 04, 2001 3:27 PM
Subject: Re: [Sip] Draft Agenda SIP WG at IETF 52

How would people feel about 2130 Tuesday for SIP Security AD-Hoc?
 
I've also received a request for a 3G-related adhoc. Schedule ideas?
Thursday 2200?
 
--
Dean

----- Original Message ----- 
From: Jari  <mailto:jari.arkko@kolumbus.fi> Arkko 
To: Mary Barnes <mailto:mbarnes@nortelnetworks.com>  ; 'Dean Willis'
<mailto:dean.willis@softarmor.com>  
Sent: Tuesday, December 04, 2001 2:42 PM
Subject: Re: [Sip] Draft Agenda SIP WG at IETF 52

 
I just wanted to comment as someone who indeed comes from the east ;-) that
I'm quite fine with either Monday 21 or Tuesday after the regular sessions
end.
If we need to collide with some other sessions then I think Monday last
session
(what you have now proposed) is propably the best choice...
 
Jari

----- Original Message ----- 
From: Mary Barnes <mailto:mbarnes@nortelnetworks.com>  
To: 'Dean Willis' <mailto:dean.willis@softarmor.com>  ; sip
<mailto:sip@ietf.org>  
Sent: 4. joulukuuta 2001 19:36
Subject: RE: [Sip] Draft Agenda SIP WG at IETF 52


Dean, 

Is the start time for the Security adhoc correct (2100)? It appears from the
main agenda that the regular evening WG sessions don't complete until 2200.
This would be a problem for those of us that also are participating in
MIDCOM.  Although, I do recognize that a 2200 start time on the first day
for folks that have traveled from the East will be grueling.  Is it possible
to move this adhoc to Tuesday evening?

Regards, 
Mary H. Barnes 
mbarnes@nortelnetworks.com 
972-684-5432 

-----Original Message----- 
From: Dean Willis [ mailto:dean.willis@softarmor.com
<mailto:dean.willis@softarmor.com> ] 
Sent: Monday, December 03, 2001 6:59 PM 
To: sip 
Subject: [Sip] Draft Agenda SIP WG at IETF 52 


I've posted the first draft agenda along with other planning stuff at: 

http://www.softarmor.com/sipwg/meets/ietf52/
<http://www.softarmor.com/sipwg/meets/ietf52/>  

Please comment ASAP. I will need to  lock this down during the evening of 
Dec4, GMT-6. 

Note that the only proposed ad-hoc so far is Security, currently proposed 
for Monday night at 2100. 

-- 
Dean 


_______________________________________________ 
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
<http://www1.ietf.org/mailman/listinfo/sip>  
This list is for NEW development of the core SIP Protocol 
Use sip-implementors@cs.columbia.edu for questions on current sip 
Use sipping@ietf.org for new developments on the application of sip 


------_=_NextPart_001_01C17D0C.539A3860
Content-Type: text/html;
	charset="iso-8859-1"

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML><HEAD>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
<TITLE>RE: [Sip] Draft Agenda SIP WG at IETF 52</TITLE>

<META content="MSHTML 5.00.3103.1000" name=GENERATOR>
<STYLE></STYLE>
</HEAD>
<BODY bgColor=#ffffff>
<DIV><FONT color=#0000ff face=Arial size=2><SPAN 
class=557534121-04122001>Dean,</SPAN></FONT></DIV>
<DIV><FONT color=#0000ff face=Arial size=2><SPAN 
class=557534121-04122001></SPAN></FONT>&nbsp;</DIV>
<DIV><FONT color=#0000ff face=Arial size=2><SPAN class=557534121-04122001>2030 
on Tuesday for Security looks good.&nbsp; I wonder if it wouldn't be reasonable 
to run back-to-back adhocs on Tuesday evening and cover off the 3G then OR was 
the idea to have the 3G adhoc after the main WG discussions on this topic? In 
that case, 2200 on Thursday would be fine. </SPAN></FONT></DIV>
<DIV><FONT color=#0000ff face=Arial size=2><SPAN 
class=557534121-04122001></SPAN></FONT>&nbsp;</DIV>
<DIV><FONT color=#0000ff face=Arial size=2><SPAN class=557534121-04122001>Is 
there a detailed agenda for the security adhoc available or being 
proposed?&nbsp; In London, the security adhoc was not extremely productive as 
the discussion was quite broad and open-ended (although, perhaps that's the 
nature of this topic).&nbsp; </SPAN></FONT></DIV>
<DIV><FONT color=#0000ff face=Arial size=2><SPAN 
class=557534121-04122001></SPAN></FONT><FONT color=#0000ff face=Arial 
size=2><SPAN class=557534121-04122001></SPAN></FONT>&nbsp;</DIV>
<DIV><FONT color=#0000ff face=Arial size=2><SPAN class=557534121-04122001>Mary. 
</SPAN></FONT></DIV>
<BLOCKQUOTE dir=ltr style="MARGIN-RIGHT: 0px">
  <DIV align=left class=OutlookMessageHeader dir=ltr><FONT face=Tahoma 
  size=2>-----Original Message-----<BR><B>From:</B> Dean Willis 
  [mailto:dean.willis@softarmor.com]<BR><B>Sent:</B> Tuesday, December 04, 2001 
  3:30 PM<BR><B>To:</B> Dean Willis; Jari Arkko; Barnes, Mary [NGC:B601:EXCH]; 
  sip<BR><B>Subject:</B> Proposed Change to Security adhoc 
  timing<BR><BR></DIV></FONT>
  <DIV><FONT face=Arial size=2>Even better, how about Tuesday at 2030 for 
  Security? The last scheduled meeting of the day runs until 1800, so 2.5 hours 
  should let us eat then meet. . . .</FONT></DIV>
  <DIV><FONT face=Arial size=2></FONT>&nbsp;</DIV>
  <DIV><FONT face=Arial size=2>--<BR>Dean</FONT></DIV>
  <BLOCKQUOTE dir=ltr 
  style="BORDER-LEFT: #000000 2px solid; MARGIN-LEFT: 5px; MARGIN-RIGHT: 0px; PADDING-LEFT: 5px; PADDING-RIGHT: 0px">
    <DIV style="FONT: 10pt arial">----- Original Message ----- </DIV>
    <DIV 
    style="BACKGROUND: #e4e4e4; FONT: 10pt arial; font-color: black"><B>From:</B> 
    <A href="mailto:dean.willis@softarmor.com" 
    title=dean.willis@softarmor.com>Dean Willis</A> </DIV>
    <DIV style="FONT: 10pt arial"><B>To:</B> <A 
    href="mailto:jari.arkko@kolumbus.fi" title=jari.arkko@kolumbus.fi>Jari 
    Arkko</A> ; <A href="mailto:mbarnes@nortelnetworks.com" 
    title=mbarnes@nortelnetworks.com>Mary Barnes</A> ; <A 
    href="mailto:sip@ietf.org" title=sip@ietf.org>sip@ietf.org</A> </DIV>
    <DIV style="FONT: 10pt arial"><B>Sent:</B> Tuesday, December 04, 2001 3:27 
    PM</DIV>
    <DIV style="FONT: 10pt arial"><B>Subject:</B> Re: [Sip] Draft Agenda SIP WG 
    at IETF 52</DIV>
    <DIV><BR></DIV>
    <DIV><FONT face=Arial size=2>How would people feel about 2130 Tuesday for 
    SIP Security AD-Hoc?</FONT></DIV>
    <DIV><FONT face=Arial size=2></FONT>&nbsp;</DIV>
    <DIV><FONT face=Arial size=2>I've also received a request for a 3G-related 
    adhoc. Schedule ideas? Thursday 2200?</FONT></DIV>
    <DIV><FONT face=Arial size=2></FONT>&nbsp;</DIV>
    <DIV><FONT face=Arial size=2>--</FONT></DIV>
    <DIV><FONT face=Arial size=2>Dean</FONT></DIV>
    <BLOCKQUOTE dir=ltr 
    style="BORDER-LEFT: #000000 2px solid; MARGIN-LEFT: 5px; MARGIN-RIGHT: 0px; PADDING-LEFT: 5px; PADDING-RIGHT: 0px">
      <DIV style="FONT: 10pt arial">----- Original Message ----- </DIV>
      <DIV 
      style="BACKGROUND: #e4e4e4; FONT: 10pt arial; font-color: black"><B>From:</B> 
      <A href="mailto:jari.arkko@kolumbus.fi" title=jari.arkko@kolumbus.fi>Jari 
      Arkko</A> </DIV>
      <DIV style="FONT: 10pt arial"><B>To:</B> <A 
      href="mailto:mbarnes@nortelnetworks.com" 
      title=mbarnes@nortelnetworks.com>Mary Barnes</A> ; <A 
      href="mailto:dean.willis@softarmor.com" 
      title=dean.willis@softarmor.com>'Dean Willis'</A> </DIV>
      <DIV style="FONT: 10pt arial"><B>Sent:</B> Tuesday, December 04, 2001 2:42 
      PM</DIV>
      <DIV style="FONT: 10pt arial"><B>Subject:</B> Re: [Sip] Draft Agenda SIP 
      WG at IETF 52</DIV>
      <DIV><BR></DIV>
      <DIV><FONT size=2></FONT>&nbsp;</DIV>
      <DIV><FONT size=2>I just wanted to comment as someone who indeed comes 
      from the east ;-) that</FONT></DIV>
      <DIV><FONT size=2>I'm quite fine with either Monday 21 or Tuesday after 
      the regular sessions end.</FONT></DIV>
      <DIV><FONT size=2>If we need to collide with some other sessions then I 
      think Monday last session</FONT></DIV>
      <DIV><FONT size=2>(what you have now proposed) is propably the best 
      choice...</FONT></DIV>
      <DIV><FONT size=2></FONT>&nbsp;</DIV>
      <DIV><FONT size=2>Jari</FONT></DIV>
      <BLOCKQUOTE dir=ltr 
      style="BORDER-LEFT: #000000 2px solid; MARGIN-LEFT: 5px; MARGIN-RIGHT: 0px; PADDING-LEFT: 5px; PADDING-RIGHT: 0px">
        <DIV style="FONT: 10pt arial">----- Original Message ----- </DIV>
        <DIV 
        style="BACKGROUND: #e4e4e4; FONT: 10pt arial; font-color: black"><B>From:</B> 
        <A href="mailto:mbarnes@nortelnetworks.com" 
        title=mbarnes@nortelnetworks.com>Mary Barnes</A> </DIV>
        <DIV style="FONT: 10pt arial"><B>To:</B> <A 
        href="mailto:dean.willis@softarmor.com" 
        title=dean.willis@softarmor.com>'Dean Willis'</A> ; <A 
        href="mailto:sip@ietf.org" title=sip@ietf.org>sip</A> </DIV>
        <DIV style="FONT: 10pt arial"><B>Sent:</B> 4. joulukuuta 2001 
19:36</DIV>
        <DIV style="FONT: 10pt arial"><B>Subject:</B> RE: [Sip] Draft Agenda SIP 
        WG at IETF 52</DIV>
        <DIV><BR></DIV>
        <P><FONT size=2>Dean,</FONT> </P>
        <P><FONT size=2>Is the start time for the Security adhoc correct (2100)? 
        It appears from the main agenda that the regular evening WG sessions 
        don't complete until 2200.&nbsp; This would be a problem for those of us 
        that also are participating in MIDCOM.&nbsp; Although, I do recognize 
        that a 2200 start time on the first day for folks that have traveled 
        from the East will be grueling.&nbsp; Is it possible to move this adhoc 
        to Tuesday evening?</FONT></P>
        <P><FONT size=2>Regards,</FONT> <BR><FONT size=2>Mary H. Barnes</FONT> 
        <BR><FONT size=2>mbarnes@nortelnetworks.com</FONT> <BR><FONT 
        size=2>972-684-5432</FONT> </P>
        <P><FONT size=2>-----Original Message-----</FONT> <BR><FONT size=2>From: 
        Dean Willis [<A 
        href="mailto:dean.willis@softarmor.com">mailto:dean.willis@softarmor.com</A>]</FONT> 
        <BR><FONT size=2>Sent: Monday, December 03, 2001 6:59 PM</FONT> 
        <BR><FONT size=2>To: sip</FONT> <BR><FONT size=2>Subject: [Sip] Draft 
        Agenda SIP WG at IETF 52</FONT> </P><BR>
        <P><FONT size=2>I've posted the first draft agenda along with other 
        planning stuff at:</FONT> </P>
        <P><FONT size=2><A href="http://www.softarmor.com/sipwg/meets/ietf52/" 
        target=_blank>http://www.softarmor.com/sipwg/meets/ietf52/</A></FONT> 
        </P>
        <P><FONT size=2>Please comment ASAP. I will need to&nbsp; lock this down 
        during the evening of</FONT> <BR><FONT size=2>Dec4, GMT-6.</FONT> </P>
        <P><FONT size=2>Note that the only proposed ad-hoc so far is Security, 
        currently proposed</FONT> <BR><FONT size=2>for Monday night at 
        2100.</FONT> </P>
        <P><FONT size=2>--</FONT> <BR><FONT size=2>Dean</FONT> </P><BR>
        <P><FONT size=2>_______________________________________________</FONT> 
        <BR><FONT size=2>Sip mailing list&nbsp; <A 
        href="http://www1.ietf.org/mailman/listinfo/sip" 
        target=_blank>http://www1.ietf.org/mailman/listinfo/sip</A></FONT> 
        <BR><FONT size=2>This list is for NEW development of the core SIP 
        Protocol</FONT> <BR><FONT size=2>Use sip-implementors@cs.columbia.edu 
        for questions on current sip</FONT> <BR><FONT size=2>Use 
        sipping@ietf.org for new developments on the application of sip</FONT> 
        </P></BLOCKQUOTE></BLOCKQUOTE></BLOCKQUOTE></BLOCKQUOTE></BODY></HTML>

------_=_NextPart_001_01C17D0C.539A3860--

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Tue Dec  4 17:25:03 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id RAA15142
	for <sip-archive@odin.ietf.org>; Tue, 4 Dec 2001 17:25:02 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id RAA06548
	for sip-archive@odin.ietf.org; Tue, 4 Dec 2001 17:25:05 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id QAA05552;
	Tue, 4 Dec 2001 16:57:32 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id QAA05521
	for <sip@optimus.ietf.org>; Tue, 4 Dec 2001 16:57:29 -0500 (EST)
Received: from fep01-app.kolumbus.fi (fep01-0.kolumbus.fi [193.229.0.41])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id QAA14163
	for <sip@ietf.org>; Tue, 4 Dec 2001 16:57:26 -0500 (EST)
Received: from jariws1 ([62.248.238.66]) by fep01-app.kolumbus.fi
          (InterMail vM.5.01.03.08 201-253-122-118-108-20010628) with SMTP
          id <20011204215728.JRBK2704.fep01-app.kolumbus.fi@jariws1>;
          Tue, 4 Dec 2001 23:57:28 +0200
Message-ID: <00b301c17d0e$af491120$8a1b6e0a@arenanet.fi>
From: "Jari Arkko" <jari.arkko@kolumbus.fi>
To: "Mary Barnes" <mbarnes@nortelnetworks.com>,
        "'Dean Willis'" <dean.willis@softarmor.com>, "sip" <sip@ietf.org>
References: <FB4781AB3309D5118DCD00508BF93CA2027FFF4F@zrc2c001.us.nortel.com>
Date: Tue, 4 Dec 2001 23:57:36 +0200
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 5.50.4133.2400
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4133.2400
Content-Transfer-Encoding: 7bit
Subject: [Sip] Re: Proposed Change to Security adhoc timing
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

RE: [Sip] Draft Agenda SIP WG at IETF 52>Is there a detailed agenda for the security adhoc available or being proposed?  In London,
the
>security adhoc was not extremely productive as the discussion was quite broad and open-ended
>(although, perhaps that's the nature of this topic).

I don't think it is the nature of the topic. We need an agenda to focus the
discussion, and propably also some additional work before the meeting
to analyze where we stand on requirements, frameworks, and how the
proposed pieces fit or don't fit together. It would be really good also
if we could somehow agree on how we see SIP security developing
in the future. (As an example, I think we need more emphasis on e2m and
e2e because sooner or later various folks building systems are going to
realize they didn't want to trust their proxies after all; yet even the h2h
SIP security is useful and we shouldn't delay the Bis RFC for instance
even if we see that we will have to develop some additional security
stuff in the future.)

I sent some proposed items for the agenda to Dean. I think he put
the list to the web site, but further input is certainly needed.

Jari




_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Tue Dec  4 18:00:16 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id SAA16517
	for <sip-archive@odin.ietf.org>; Tue, 4 Dec 2001 18:00:12 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id SAA09985
	for sip-archive@odin.ietf.org; Tue, 4 Dec 2001 18:00:15 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id RAA07697;
	Tue, 4 Dec 2001 17:30:53 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id RAA07637
	for <sip@optimus.ietf.org>; Tue, 4 Dec 2001 17:30:49 -0500 (EST)
Received: from 02 ([61.79.230.210])
	by ietf.org (8.9.1a/8.9.1a) with SMTP id RAA15470
	for <sip@ietf.org>; Tue, 4 Dec 2001 17:30:43 -0500 (EST)
Message-Id: <200112042230.RAA15470@ietf.org>
From: =?ks_c_5601-1987?B?x9HAz7/s?= <hanil@hanmail.net>
To: sip@ietf.org
Date: Wed, 05 Dec 2001 07:32:13 +0900
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0077_01C0F05A.93A32C00"
X-Priority: 3
Subject: [Sip] =?ks_c_5601-1987?B?W8GkurjBprD4IF0godoguau34bfOIMbIvsYgteW4s7TPtNkuLg==?=
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

This is a multi-part message in MIME format.

------=_NextPart_000_0077_01C0F05A.93A32C00
Content-Type: text/plain;
	charset="ks_c_5601-1987"
Content-Transfer-Encoding: base64

Ojo6IMbEtvPB1rbzILjewM8gud+82yA6Ojo6Ojo6Ojo6Ojo6Ojo6Ojo6ICAgICAgICAgICAg
ICAgICAgICAgICAguNXA+iC758D8IL7nx9i++MDMILjewM/AuyC6uLO7teW3wSDBy7zbx9W0
z7TZLg0KILq7ILjewM/AuiDBpMXrus4gscew7bvnx9e/oSDAx7DFIMGmuPG/oSixpLDtKbbz
IMelvcO1yCCxpLDtILjewM/A1LTPtNkuDQogtPXAzLvzILjewM/AuyC53rDtvc3B9iC+ysC4
vcO46SBbvPa9xbDFus5duKYgtK23r8HWvLy/5C4NCiDBy7zbx9W0z7TZLg0KICAgICAgICAg
ICAgICAgICA=

------=_NextPart_000_0077_01C0F05A.93A32C00
Content-Type: text/html;
	charset="ks_c_5601-1987"
Content-Transfer-Encoding: base64

PGh0bWw+DQo8aGVhZD4NCjx0aXRsZT46OjogxsS288HWtvMguN7AzyC537zbIDo6Ojo6Ojo6
Ojo6Ojo6Ojo6Ojo8L3RpdGxlPg0KPG1ldGEgaHR0cC1lcXVpdj0iQ29udGVudC1UeXBlIiBj
b250ZW50PSJ0ZXh0L2h0bWw7IGNoYXJzZXQ9ZXVjLWtyIj4NCjxzdHlsZSB0eXBlPSJ0ZXh0
L2NzcyI+DQo8IS0tDQphOmxpbmssYTphY3RpdmUsYTp2aXNpdGVke3RleHQtZGVjb3JhdGlv
bjpub25lOyBjb2xvcjojMDAwMDAwfQ0KYTpob3Zlcnt0ZXh0LWRlY29yYXRpb246dW5kZXJs
aW5lOyBjb2xvcjojMDI1YTk3fQ0KDQphLjE6bGluayxhLjE6YWN0aXZlLGEuMTp2aXNpdGVk
e3RleHQtZGVjb3JhdGlvbjpub25lOyBjb2xvcjojQzYwMDAwfQ0KYS4xOmhvdmVye3RleHQt
ZGVjb3JhdGlvbjp1bmRlcmxpbmU7IGNvbG9yOiMzMzMzMzN9DQoNCnRke2ZvbnQtc2l6ZTo5
cHR9DQpkaXZ7Zm9udC1zaXplOjlwdH0NCg0KYm9keSB7DQogICAgICAgIHNjcm9sbGJhci1m
YWNlLWNvbG9yOiNmZmZmZmY7DQogICAgICAgIHNjcm9sbGJhci1zaGFkb3ctY29sb3I6Izc4
Nzg3ODsNCiAgICAgICAgc2Nyb2xsYmFyLWhpZ2hsaWdodC1jb2xvcjojZjNmM2YzOw0KICAg
ICAgICBzY3JvbGxiYXItM2RsaWdodC1jb2xvcjojZmZmZmZmOw0KICAgICAgICBzY3JvbGxi
YXItZGFya3NoYWRvdy1jb2xvcjojZmZmZmZmOw0KICAgICAgICBzY3JvbGxiYXItdHJhY2st
Y29sb3I6I2ZmZmZmZjsNCiAgICAgICAgc2Nyb2xsYmFyLWFycm93LWNvbG9yOiM3ODc4NzgN
Cn0NCi0tPg0KPC9oZWFkPg0KDQo8Ym9keSBiZ2NvbG9yPSIjRkZGRkZGIj4NCg0KPC9ib2R5
Pg0KPC9odG1sPg0KPGJvZHkgYmdjb2xvcj0iI0ZGRkZGRiIgbGVmdG1hcmdpbj0iMCIgdG9w
bWFyZ2luPSIwIiBtYXJnaW53aWR0aD0iMCIgbWFyZ2luaGVpZ2h0PSIwIiBiYWNrZ3JvdW5k
PSJpbWFnZS9iZy5naWYiPg0KPC9zdHlsZT4NCjxzY3JpcHQgbGFuZ3VhZ2U9IkphdmFTY3Jp
cHQiPg0KPCEtLQ0KZnVuY3Rpb24gTU1fb3BlbkJyV2luZG93KHRoZVVSTCx3aW5OYW1lLGZl
YXR1cmVzKSB7IC8vdjIuMA0KICB3aW5kb3cub3Blbih0aGVVUkwsd2luTmFtZSxmZWF0dXJl
cyk7DQp9DQovLy0tPg0KPC9zY3JpcHQ+DQo8Ym9keSBiYWNrZ3JvdW5kPSJpbWFnZS9iZy5n
aWYiIGxlZnRtYXJnaW49IjAiIHRvcG1hcmdpbj0iMCIgbWFyZ2lud2lkdGg9IjAiIG1hcmdp
bmhlaWdodD0iMCI+DQo8dGFibGUgd2lkdGg9IjYzNSIgYm9yZGVyPSIwIiBjZWxsc3BhY2lu
Zz0iMCIgY2VsbHBhZGRpbmc9IjAiIGFsaWduPSJjZW50ZXIiPg0KICA8dHI+IA0KICAgIDx0
ZCBoZWlnaHQ9IjIzIj48aW1nIHNyYz0iaHR0cDovL3BhcmFqdXJhLmNvbS9tYWlsMDIvaW1h
Z2UvbWFpbF8wMS5naWYiIHdpZHRoPSI2MzUiIGhlaWdodD0iNjYiIHVzZW1hcD0iI01hcCIg
Ym9yZGVyPSIwIj48L3RkPg0KICA8L3RyPg0KICA8dHI+IA0KICAgIDx0ZCBoZWlnaHQ9IjU4
Ij48aW1nIHNyYz0iaHR0cDovL3BhcmFqdXJhLmNvbS9tYWlsMDIvaW1hZ2UvbWFpbF8wMi5n
aWYiIHdpZHRoPSI2MzUiIGhlaWdodD0iNTgiPjwvdGQ+DQogIDwvdHI+DQogIDx0cj4gDQog
ICAgPHRkIGhlaWdodD0iNzEiPjxpbWcgc3JjPSJodHRwOi8vcGFyYWp1cmEuY29tL21haWww
Mi9pbWFnZS9tYWlsXzAzLmdpZiIgd2lkdGg9IjYzNSIgaGVpZ2h0PSI3MSIgdXNlbWFwPSIj
TWFwMiIgYm9yZGVyPSIwIj48L3RkPg0KICA8L3RyPg0KICA8dHI+IA0KICAgIDx0ZD48aW1n
IHNyYz0iaHR0cDovL3BhcmFqdXJhLmNvbS9tYWlsMDIvaW1hZ2UvbWFpbF8wNC5naWYiIHdp
ZHRoPSI2MzUiIGhlaWdodD0iNzAiIHVzZW1hcD0iI01hcDMiIGJvcmRlcj0iMCI+PC90ZD4N
CiAgPC90cj4NCiAgPHRyPiANCiAgICA8dGQ+PGltZyBzcmM9Imh0dHA6Ly9wYXJhanVyYS5j
b20vbWFpbDAyL2ltYWdlL21haWxfMDUuZ2lmIiB3aWR0aD0iNjM1IiBoZWlnaHQ9IjY5IiB1
c2VtYXA9IiNNYXA0IiBib3JkZXI9IjAiPjwvdGQ+DQogIDwvdHI+DQogIDx0cj4gDQogICAg
PHRkIGhlaWdodD0iMzgiPjxpbWcgc3JjPSJodHRwOi8vcGFyYWp1cmEuY29tL21haWwwMi9p
bWFnZS9tYWlsXzA2LmdpZiIgd2lkdGg9IjYzNSIgaGVpZ2h0PSI3MSIgdXNlbWFwPSIjTWFw
NSIgYm9yZGVyPSIwIj48L3RkPg0KICA8L3RyPg0KICA8dHI+IA0KICAgIDx0ZCBoZWlnaHQ9
Ijc1Ij48aW1nIHNyYz0iaHR0cDovL3BhcmFqdXJhLmNvbS9tYWlsMDIvaW1hZ2UvbWFpbF8w
Ny5naWYiIHdpZHRoPSI2MzUiIGhlaWdodD0iMTg4IiB1c2VtYXA9IiNNYXA2IiBib3JkZXI9
IjAiPjwvdGQ+DQogIDwvdHI+DQogIDx0cj4gDQogICAgPHRkIGhlaWdodD0iMTA3IiBiYWNr
Z3JvdW5kPSJodHRwOi8vcGFyYWp1cmEuY29tL21haWwwMi9pbWFnZS9tYWlsXzA4LmdpZiI+
DQogICAgICA8ZGl2IGFsaWduPSJjZW50ZXIiPrjVwPogu+fA/CC+58fYvvjAzCC43sDPwLsg
urizu7Xlt8Egwcu828fVtM+02S48YnI+DQogICAgICAgILq7ILjewM/AuiDBpMXrus4gscew
7bvnx9e/oSDAx7DFIMGmuPG/oSixpLDtKbbzIMelvcO1yCCxpLDtILjewM/A1LTPtNkuPGJy
Pg0KICAgICAgICC09cDMu/MguN7Az8C7ILnesO29zcH2IL7KwLi9w7jpIDxiPls8YSBocmVm
PSJtYWlsdG86cGFyYWp1cmFAcGFyYWp1cmEuY29tIj689r3FsMW6zjwvYT5dPC9iPrimILSt
t6/B1ry8v+QuPGJyPg0KICAgICAgICDBy7zbx9W0z7TZLjwvZGl2Pg0KICAgIDwvdGQ+DQog
IDwvdHI+DQo8L3RhYmxlPg0KPG1hcCBuYW1lPSJNYXAiPiANCiAgPGFyZWEgc2hhcGU9InJl
Y3QiIGNvb3Jkcz0iNyw3LDE4MSw1MSIgaHJlZj0iaHR0cDovL3d3dy5wYXJhanVyYS5jb20i
IHRhcmdldD0iX2JsYW5rIiBhbHQ9IsbEtvPB1rbztOXExMC4t84iIHRpdGxlPSLGxLbzwda2
87TlxMTAuLfOIj4NCiAgICAgIDwvbWFwPg0KPG1hcCBuYW1lPSJNYXAyIj4gDQogIDxhcmVh
IHNoYXBlPSJwb2x5IiBjb29yZHM9IjQ1MywyNyw0NTQsNDgsNTMxLDQ5LDUzMiw2Miw1OTks
MzcsNTMzLDE0LDUzMiwyOSw0NTEsMjYiIGhyZWY9Imh0dHA6Ly93d3cucGFyYWp1cmEuY29t
IiB0YXJnZXQ9Il9ibGFuayIgYWx0PSLB97DFt6HA5cXNIiB0aXRsZT0iwfewxbehwOXFzSI+
DQo8L21hcD4NCjxtYXAgbmFtZT0iTWFwMyI+IA0KICA8YXJlYSBzaGFwZT0icG9seSIgY29v
cmRzPSI0NTMsMjYsNDUzLDQ2LDUzMiw0OSw1MzIsNjIsNTk5LDM4LDUzMiwxNSw1MzEsMjgs
NDU1LDI2IiBocmVmPSJodHRwOi8vd3d3LnBhcmFqdXJhLmNvbSIgdGFyZ2V0PSJfYmxhbmsi
IGFsdD0ius61v7vqwPy5rrj0IiB0aXRsZT0ius61v7vqwPy5rrj0Ij4NCjwvbWFwPg0KPG1h
cCBuYW1lPSJNYXA0Ij4gDQogIDxhcmVhIHNoYXBlPSJwb2x5IiBjb29yZHM9IjQ1NCwyNiw1
MzMsMjYsNTMzLDE2LDYwMCwzOCw1MzQsNjAsNTMyLDQ5LDQ1NCw1MCw0NTMsMjYiIGhyZWY9
Imh0dHA6Ly93d3cucGFyYWp1cmEuY29tIiB0YXJnZXQ9Il9ibGFuayIgYWx0PSLIuL/4sKHA
1CIgdGl0bGU9Isi4v/iwocDUIiBvbkNsaWNrPSJNTV9vcGVuQnJXaW5kb3coJ2h0dHA6Ly93
d3cucGFyYWp1cmEuY29tL21lbWJlcnNoaXAvbWVtYmVyX2dhaXAuaHRtJywnJywnc2Nyb2xs
YmFycz15ZXMsd2lkdGg9NjIwLGhlaWdodD01MDAnKSI+DQo8L21hcD4NCjxtYXAgbmFtZT0i
TWFwNSI+IA0KICA8YXJlYSBzaGFwZT0icG9seSIgY29vcmRzPSI0NTMsMjcsNDUyLDQ5LDUz
MCw1MCw1MzIsNjIsNTk4LDM4LDUzMiwxNSw1MzEsMjcsNDU0LDI2IiBocmVmPSJodHRwOi8v
d3d3LnBhcmFqdXJhLmNvbS9wYXJ0bmVyL3BhcnRlcl9kZWZhdWx0Lmh0bSIgdGFyZ2V0PSJf
YmxhbmsiIGFsdD0iu/nHw7q4seIiIHRpdGxlPSK7+cfDurix4iI+DQo8L21hcD4NCjxtYXAg
bmFtZT0iTWFwNiI+IA0KICA8YXJlYSBzaGFwZT0icmVjdCIgY29vcmRzPSIxMCw2LDIxMCwx
ODIiIGhyZWY9Imh0dHA6Ly93d3cucGFyYWp1cmEuY29tL2hvbWVwYWdlL2hvbWVwYWdlLmh0
bSIgdGFyZ2V0PSJfYmxhbmsiIGFsdD0iu/nHwzEiIHRpdGxlPSK7+cfDMSI+DQogIDxhcmVh
IHNoYXBlPSJyZWN0IiBjb29yZHM9IjIxNyw1LDQxNiwxNzgiIGhyZWY9Imh0dHA6Ly93d3cu
cGFyYWp1cmEuY29tL2hvbWVwYWdlL2hvbWVwYWdlLmh0bSIgdGFyZ2V0PSJfYmxhbmsiIGFs
dD0iu/nHwzIiIHRpdGxlPSK7+cfDMiI+DQogIDxhcmVhIHNoYXBlPSJyZWN0IiBjb29yZHM9
IjQyNCw1LDYyNCwxNzkiIGhyZWY9Imh0dHA6Ly93d3cucGFyYWp1cmEuY29tL2hvbWVwYWdl
L2hvbWVwYWdlLmh0bSIgdGFyZ2V0PSJfYmxhbmsiIGFsdD0iu/nHwzMiIHRpdGxlPSK7+cfD
MyI+DQo8L21hcD4NCg==

------=_NextPart_000_0077_01C0F05A.93A32C00--


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Tue Dec  4 18:12:51 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id SAA17139
	for <sip-archive@odin.ietf.org>; Tue, 4 Dec 2001 18:12:51 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id SAA10543
	for sip-archive@odin.ietf.org; Tue, 4 Dec 2001 18:12:54 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id RAA09451;
	Tue, 4 Dec 2001 17:52:10 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id RAA09422
	for <sip@optimus.ietf.org>; Tue, 4 Dec 2001 17:52:08 -0500 (EST)
Received: from web21006.mail.yahoo.com (web21006.mail.yahoo.com [216.136.227.60])
	by ietf.org (8.9.1a/8.9.1a) with SMTP id RAA16380
	for <sip@ietf.org>; Tue, 4 Dec 2001 17:52:04 -0500 (EST)
Message-ID: <20011204225206.63918.qmail@web21006.mail.yahoo.com>
Received: from [208.7.47.70] by web21006.mail.yahoo.com via HTTP; Tue, 04 Dec 2001 14:52:06 PST
Date: Tue, 4 Dec 2001 14:52:06 -0800 (PST)
From: Mohamed Elsewe <melsewe@yahoo.com>
Subject: Re: [Sip] Missing Call-ID header
To: Gabriel Velo <gvelo@astartec.com>, sip@ietf.org
In-Reply-To: <MABBLHAMFMJBNDFLPFBGAEOMCBAA.gvelo@astartec.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

the from-tag, should be used to match the 400 Bad
Request to the corresponding caller since the from-tag
or to-tag serve as unique identifiers for each user in
the SIP session.

--- Gabriel Velo <gvelo@astartec.com> wrote:
> Dear All,
> 
> I have a question regarding chapter 23.4.1
> the paragraph state that....
> 
> "The request could not be understood due to
> malformed syntax. The
> Reason-Phrase SHOULD identify the syntax problem in
> more detail, e.g.,
> "Missing Call-ID header". "
> 
> 
> Must a UA send a 400 response to a request that have
> missing mandatory
> headers ?
> If this is right , how a UA match this response to
> the corresponding
> request?.
> 
> Apologies if this has already been discussed.
> 
> thanks.
> Gabriel Velo.
> 
> 
> _______________________________________________
> Sip mailing list 
> http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP
> Protocol
> Use sip-implementors@cs.columbia.edu for questions
> on current sip
> Use sipping@ietf.org for new developments on the
> application of sip


__________________________________________________
Do You Yahoo!?
Buy the perfect holiday gifts at Yahoo! Shopping.
http://shopping.yahoo.com

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Tue Dec  4 18:25:37 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id SAA17382
	for <sip-archive@odin.ietf.org>; Tue, 4 Dec 2001 18:25:37 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id SAA10824
	for sip-archive@odin.ietf.org; Tue, 4 Dec 2001 18:25:40 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id RAA09360;
	Tue, 4 Dec 2001 17:51:17 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id RAA09329
	for <sip@optimus.ietf.org>; Tue, 4 Dec 2001 17:51:14 -0500 (EST)
Received: from web21008.mail.yahoo.com (web21008.mail.yahoo.com [216.136.227.62])
	by ietf.org (8.9.1a/8.9.1a) with SMTP id RAA16359
	for <sip@ietf.org>; Tue, 4 Dec 2001 17:51:10 -0500 (EST)
Message-ID: <20011204225113.16276.qmail@web21008.mail.yahoo.com>
Received: from [208.7.47.70] by web21008.mail.yahoo.com via HTTP; Tue, 04 Dec 2001 14:51:13 PST
Date: Tue, 4 Dec 2001 14:51:13 -0800 (PST)
From: Mohamed Elsewe <melsewe@yahoo.com>
Subject: Re: [Sip] Missing Call-ID header
To: Gabriel Velo <gvelo@astartec.com>, sip@ietf.org
In-Reply-To: <MABBLHAMFMJBNDFLPFBGAEOMCBAA.gvelo@astartec.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

the from-tag, should be used to match the 400 Bad
Request to the corresponding caller since the from-tag
or to-tag serve as unique identifiers for each user in
the SIP session.

--- Gabriel Velo <gvelo@astartec.com> wrote:
> Dear All,
> 
> I have a question regarding chapter 23.4.1
> the paragraph state that....
> 
> "The request could not be understood due to
> malformed syntax. The
> Reason-Phrase SHOULD identify the syntax problem in
> more detail, e.g.,
> "Missing Call-ID header". "
> 
> 
> Must a UA send a 400 response to a request that have
> missing mandatory
> headers ?
> If this is right , how a UA match this response to
> the corresponding
> request?.
> 
> Apologies if this has already been discussed.
> 
> thanks.
> Gabriel Velo.
> 
> 
> _______________________________________________
> Sip mailing list 
> http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP
> Protocol
> Use sip-implementors@cs.columbia.edu for questions
> on current sip
> Use sipping@ietf.org for new developments on the
> application of sip


__________________________________________________
Do You Yahoo!?
Buy the perfect holiday gifts at Yahoo! Shopping.
http://shopping.yahoo.com

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Tue Dec  4 21:53:52 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id VAA23107
	for <sip-archive@odin.ietf.org>; Tue, 4 Dec 2001 21:53:52 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id VAA16769
	for sip-archive@odin.ietf.org; Tue, 4 Dec 2001 21:53:55 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id VAA16416;
	Tue, 4 Dec 2001 21:35:39 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id VAA16385
	for <sip@optimus.ietf.org>; Tue, 4 Dec 2001 21:35:36 -0500 (EST)
Received: from hssblrmail.hss.hns.com ([164.164.94.118])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id VAA22911
	for <sip@ietf.org>; Tue, 4 Dec 2001 21:35:29 -0500 (EST)
From: pkamath@hss.hns.com
Received: from sampark.hss.hns.com ([192.168.17.10])
	by hssblrmail.hss.hns.com (8.11.2/8.11.2) with SMTP id fB52VR925044;
	Wed, 5 Dec 2001 08:01:28 +0530
Received: by sampark.hss.hns.com(Lotus SMTP MTA Internal build v4.6.2  (651.2 6-10-1998))  id 65256B19.000D77AD ; Wed, 5 Dec 2001 07:57:06 +0530
X-Lotus-FromDomain: HSSBLR
To: "Chris Mills" <chrmills@nortelnetworks.com>
cc: "'sip@ietf.org'" <sip@ietf.org>
Message-ID: <65256B19.000D7641.00@sampark.hss.hns.com>
Date: Wed, 5 Dec 2001 07:57:02 +0530
Subject: Re: [Sip] Problem with bis05 state machine
Mime-Version: 1.0
Content-type: multipart/mixed; 
	Boundary="0__=ahA45yAuKhK3KGgpkqQZDjYxLmZJDIsdy0QLaM2XZj8hIwgl3XrbEyRI"
Content-Disposition: inline
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

--0__=ahA45yAuKhK3KGgpkqQZDjYxLmZJDIsdy0QLaM2XZj8hIwgl3XrbEyRI
Content-type: text/plain; charset=us-ascii
Content-Disposition: inline



Hi,

There are two points you had raised and I have attempted to clarify those:-

1>TU and the UAC Core are one and the same thing. Pl correct me if I am
wrong guys. So when the state machine says that UAC Core generates the ACK
it actually means that the 2xx response received bypassed  thru the txn
layer and went straight to the next layer, which is the TU or the UAC Core.
It is this layer that automatically generated the ACK.

2>If a 2xx is sent from the TU then the txn is terminated. According to the
bis05 in case a request is received for which no transaction exists it is
passed straight to the core. Thus even if the txn is terminated , the TU
would get to see the ACK since that is the highe entity to which the ACK
would be passed forward to.


-Regards
R.Kamath







"Chris Mills" <chrmills@nortelnetworks.com> on 12/04/2001 03:21:34 PM

To:   "'sip@ietf.org'" <sip@ietf.org>
cc:    (bcc: P Raghavendra Kamath/HSSBLR)

Subject:  [Sip] Problem with bis05 state machine




I have seen a potential problem in the bis05 state machine. This problem is
specifically in the INVITE client transaction state machine. It is stated
that if a 2xx is received in the 'calling' or 'proceeding' states that the
UAC core will automatically generate an ACK in response. This causes a
problem when the session offer has been sent in the 2xx (as opposed to in
the INVITE) in such a case the TU needs to answer this offer, and therefore
it must generate the ACK. A corresponding potential problem is found in the
INVITE server transaction state machine, where if a 2xx is sent from the TU
the state machine transitions directly to the terminated state. This
suggests that the TU never sees the ACK, and consequently would never see
the answer part of any session description contained in the 2xx-ACK pair.

Chris Mills



--0__=ahA45yAuKhK3KGgpkqQZDjYxLmZJDIsdy0QLaM2XZj8hIwgl3XrbEyRI
Content-type: text/html; 
	name="att-1.htm"
Content-Disposition: attachment; filename="att-1.htm"
Content-Description: Internet HTML
Content-Transfer-Encoding: base64

PCFET0NUWVBFIEhUTUwgUFVCTElDICItLy9XM0MvL0RURCBIVE1MIDMuMi8vRU4iPg0KPEhUTUw+
DQo8SEVBRD4NCjxNRVRBIEhUVFAtRVFVSVY9IkNvbnRlbnQtVHlwZSIgQ09OVEVOVD0idGV4dC9o
dG1sOyBjaGFyc2V0PWlzby04ODU5LTEiPg0KPE1FVEEgTkFNRT0iR2VuZXJhdG9yIiBDT05URU5U
PSJNUyBFeGNoYW5nZSBTZXJ2ZXIgdmVyc2lvbiA1LjUuMjY1NC44OSI+DQo8VElUTEU+UHJvYmxl
bSB3aXRoIGJpczA1IHN0YXRlIG1hY2hpbmU8L1RJVExFPg0KPC9IRUFEPg0KPEJPRFk+DQoNCjxQ
PjxGT05UIFNJWkU9Mj5JIGhhdmUgc2VlbiBhIHBvdGVudGlhbCBwcm9ibGVtIGluIHRoZSBiaXMw
NSBzdGF0ZSBtYWNoaW5lLiBUaGlzIHByb2JsZW0gaXMgc3BlY2lmaWNhbGx5IGluIHRoZSBJTlZJ
VEUgY2xpZW50IHRyYW5zYWN0aW9uIHN0YXRlIG1hY2hpbmUuIEl0IGlzIHN0YXRlZCB0aGF0IGlm
IGEgMnh4IGlzIHJlY2VpdmVkIGluIHRoZSAnY2FsbGluZycgb3IgJ3Byb2NlZWRpbmcnIHN0YXRl
cyB0aGF0IHRoZSBVQUMgY29yZSB3aWxsIGF1dG9tYXRpY2FsbHkgZ2VuZXJhdGUgYW4gQUNLIGlu
IHJlc3BvbnNlLiBUaGlzIGNhdXNlcyBhIHByb2JsZW0gd2hlbiB0aGUgc2Vzc2lvbiBvZmZlciBo
YXMgYmVlbiBzZW50IGluIHRoZSAyeHggKGFzIG9wcG9zZWQgdG8gaW4gdGhlIElOVklURSkgaW4g
c3VjaCBhIGNhc2UgdGhlIFRVIG5lZWRzIHRvIGFuc3dlciB0aGlzIG9mZmVyLCBhbmQgdGhlcmVm
b3JlIGl0IG11c3QgZ2VuZXJhdGUgdGhlIEFDSy4gQSBjb3JyZXNwb25kaW5nIHBvdGVudGlhbCBw
cm9ibGVtIGlzIGZvdW5kIGluIHRoZSBJTlZJVEUgc2VydmVyIHRyYW5zYWN0aW9uIHN0YXRlIG1h
Y2hpbmUsIHdoZXJlIGlmIGEgMnh4IGlzIHNlbnQgZnJvbSB0aGUgVFUgdGhlIHN0YXRlIG1hY2hp
bmUgdHJhbnNpdGlvbnMgZGlyZWN0bHkgdG8gdGhlIHRlcm1pbmF0ZWQgc3RhdGUuIFRoaXMgc3Vn
Z2VzdHMgdGhhdCB0aGUgVFUgbmV2ZXIgc2VlcyB0aGUgQUNLLCBhbmQgY29uc2VxdWVudGx5IHdv
dWxkIG5ldmVyIHNlZSB0aGUgYW5zd2VyIHBhcnQgb2YgYW55IHNlc3Npb24gZGVzY3JpcHRpb24g
Y29udGFpbmVkIGluIHRoZSAyeHgtQUNLIHBhaXIuPC9GT05UPjwvUD4NCg0KPFA+PEZPTlQgU0la
RT0yPkNocmlzIE1pbGxzIDwvRk9OVD4NCjwvUD4NCg0KPC9CT0RZPg0KPC9IVE1MPg==

--0__=ahA45yAuKhK3KGgpkqQZDjYxLmZJDIsdy0QLaM2XZj8hIwgl3XrbEyRI--


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Tue Dec  4 23:56:40 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id XAA26776
	for <sip-archive@odin.ietf.org>; Tue, 4 Dec 2001 23:56:40 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id XAA21372
	for sip-archive@odin.ietf.org; Tue, 4 Dec 2001 23:56:42 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id XAA21011;
	Tue, 4 Dec 2001 23:38:50 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id XAA20980
	for <sip@optimus.ietf.org>; Tue, 4 Dec 2001 23:38:47 -0500 (EST)
Received: from bdsl.66.12.12.130.gte.net (bdsl.66.12.12.130.gte.net [66.12.12.130])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id XAA26382;
	Tue, 4 Dec 2001 23:38:44 -0500 (EST)
Received: from blazer (localhost.localdomain [127.0.0.1])
	by bdsl.66.12.12.130.gte.net (8.11.2/8.11.2) with SMTP id fB55fWe09926;
	Tue, 4 Dec 2001 23:41:32 -0600
Message-ID: <00a301c17d46$62b0a110$54fa403f@blazer>
From: "Dean Willis" <dean.willis@softarmor.com>
To: <agenda@ietf.org>, <sip@ietf.org>
Cc: "Brian Rosen" <Brian.Rosen@marconi.com>, "Joerg Ott" <jo@ipdialog.com>,
        "Allison Mankin" <mankin@isi.edu>
Date: Tue, 4 Dec 2001 22:36:16 -0600
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2600.0000
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
Content-Transfer-Encoding: 7bit
Subject: [Sip] Agenda, SIP WG, IETF 52
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Agenda, SIP WG, IETF 52

An HTML-formatted and hyper-text version is available at:
http://www.softarmor.com/sipwg/meets/ietf52/agenda.html

For status and text of drafts, see: http://www.softarmor.com/sipwg/drafts/
Format:

"Change" sessions are brief reports on changes since last draft version,
discussion of any open issues, and work planning for future efforts on this
topic.

"Discussion" sessions will run as panel/open-mic discussions of the given
topic. This format is generally applied where there are multiple drafts or
approaches to the topic, and we need to refine consensus for additional
work.

Times are, of course, only approximate. Please be as brief as reasonably
possible.

Session 1: Wednesday December 12, 2001 1530-1730 Room Grand A

1530 Agenda Bash
    Chairs
1535 Status and Work Plan Discussion
    Chairs, ADs
    Read:
    draft-tsvarea-sipchange-00.txt
    http://www.ietf.org/html.charters/sip-charter.html
    http://www.softarmor.com/sipwg/drafts/
1555 Changes in SIP bis-05
    Jonathan Rosenberg
    Read:
    draft-ietf-sip-rfc2543bis-05.txt
1640 SIP Specification Open Issues Discussion
    Jonathan Rosenberg
    Read:
    http://www.sipwg.org/bugzilla/openissue.cgi
1715 SIP Routing Operations, Policy, and Request-URI Discussion
    Robert Sparks, Sean Olson
    Read:
    draft-ietf-sip-rfc2543bis-05.txt
    draft-bjorkner-sip-serviceroute-00.txt
    draft-garcia-sipping-3gpp-reqs-02.txt
1730 Close

Session2: Thursday December 12, 2001, 1530-1730 Room Grand A

1530 Agenda Bash
    Chairs
1535 SIP Security Frameworks Discussion
    Micahel Thomas, Henning Schulzrinne and Others
    Read:
    draft-thomas-sip-sec-req-00.txt
    draft-thomas-sip-sec-framework-00.txt
    draft-schulzrinne-sip-security-00.txt
    draft-arkko-sip-sec-agree-00.txt
1555 Enhancements to Digest Authentication Discussion
    Barnes, Arkko, Undery, Rosenberg, etc.
    Read:
    draft-sen-sipping-onehop-digest-00.txt
    draft-undery-sip-digest-00.txt
    draft-rosenberg-sip-http-pnonce-00.txt
    draft-torvinen-http-eap-01.txt
1605 Changes in SIP Events
    Adam Roach
    Read:
    draft-ietf-sip-events-01.txt
1615 Changes to Caller Preferences Draft
    Jonathan Rosenberg
    Read:
    draft-ietf-sip-callerprefs-05.txt
1620 Changes to Guidelines for Authors of SIP Extensions
    Jonathan Rosenberg
    Read:
    draft-ietf-sip-guidelines-03.txt
1625 Changes in SIP NAT Draft
    Jonathan Rosenberg
    Read:
    draft-ietf-sip-nat-01.txt
1630 Changes in SIP-SCTP Draft
    Gonzalo Camarillo
    Read:
    draft-ietf-sip-sctp-01.txt
1635 Changes in SIP Privacy Draft
    Bill Marshall, Flemming Andreasen
    Read:
    draft-ietf-sip-privacy-03.txt
1640 Changes in Manyfolks Resource Preconditions Draft
    Bill Marshall
    Read:
    draft-ietf-sip-manyfolks-resource-03.txt
1645 Changes in Call Authorization Draft
    Bill Marshall
    Read:
    draft-ietf-sip-call-auth-03.txt
1650 Further Work with Early Media Discussion
    Jonathan Rosenberg, Jayshree Bharatia
    Read:
    draft-rosenberg-sip-early-media-00.txt
    draft-sen-sip-earlymedia-00.txt




_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Wed Dec  5 06:58:05 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id GAA18714
	for <sip-archive@odin.ietf.org>; Wed, 5 Dec 2001 06:58:05 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id GAA14407
	for sip-archive@odin.ietf.org; Wed, 5 Dec 2001 06:58:06 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id GAA13435;
	Wed, 5 Dec 2001 06:15:31 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id GAA13403
	for <sip@optimus.ietf.org>; Wed, 5 Dec 2001 06:15:29 -0500 (EST)
Received: from dmz-ns.duolog.ie (ns.duolog.ie [213.190.132.179])
	by ietf.org (8.9.1a/8.9.1a) with SMTP id GAA18313
	for <sip@ietf.org>; Wed, 5 Dec 2001 06:15:24 -0500 (EST)
Received: (qmail 3544 invoked by uid 102); 5 Dec 2001 11:15:46 -0000
Received: from int-mail.duolog.ie (HELO int-ns.duolog.ie) (10.1.1.10)
  by dmz-ns.duolog.ie with SMTP; 5 Dec 2001 11:15:46 -0000
Received: from dub1106 (dub1-106.duolog.ie [10.1.1.120])
	by int-ns.duolog.ie (8.11.3/8.11.3) with SMTP id fB5BEKs20596;
	Wed, 5 Dec 2001 11:14:28 GMT
From: "Brian Quinlan" <Brian.Quinlan@duolog.com>
To: "Chris Mills" <chrmills@nortelnetworks.com>, <sip@ietf.org>
Subject: RE: [Sip] Problem with bis05 state machine
Date: Wed, 5 Dec 2001 11:15:08 -0000
Message-ID: <DKEDLGELNJHPOBGHNNGNIEBECDAA.Brian.Quinlan@duolog.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 8bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V5.00.2919.6700
In-Reply-To: <588B15E2E2B1D41180B800508BF934F2984F97@bmdhd6.europe.nortel.com>
Content-Transfer-Encoding: 8bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 8bit

Hi,
In the INVITE client transaction state machine ACK is only generated by the
transaction layer for 300-699 responses (in states Calling, Proceeding and
Completed), i.e., not for 2xx.

From bis-05:

When in either the calling or proceeding states, reception of a 2xx
response MUST cause the client transaction to enter the terminated state,
and the response MUST be passed up to the TU. The handling of 2599
this response depends on whether the TU is a proxy core or a UAC core. A UAC
core will handle generation 2600
of the ACK for this response, while a proxy core will always forward the 200
OK upstream. The differing 2601
treatment of 200 OK between proxy and UAC is the reason that handling of it
does not take place in the 2602
transaction layer. 2603

This allows for the situation you describe where "TU needs to answer this
offer, and therefore it must generate the ACK".

As for the server, I had been assuming that an ACK received after the
corresponding transaction had terminated would be passed straight to the TU,
though having looked I concede that I don't see this explicitly stated in
section 17. Any pointers?

Which leads neatly on to the following from section 13.4.1.4 in bis-05:

Once the response has been constructed it is passed to the INVITE server
transaction. Note, however, that the INVITE server transaction does not
retransmit 2xx responses to an INVITE. Therefore, it is neces- 1879
sary to pass periodically the response to the server transaction until the
ACK arrives. 1880

If a 2xx has been sent, then the server transaction state would have changed
to Terminated and the transaction would have been destroyed, so there isn't
any longer a transaction to which one can "pass periodically the response".

My apologies if this issue has already been pointed out on the list.

Bye,
Brian

-----Original Message-----
From: sip-admin@ietf.org [mailto:sip-admin@ietf.org]On Behalf Of Chris Mills
Sent: 04 December 2001 15:22
To: 'sip@ietf.org'
Subject: [Sip] Problem with bis05 state machine


I have seen a potential problem in the bis05 state machine. This problem is
specifically in the INVITE client transaction state machine. It is stated
that if a 2xx is received in the 'calling' or 'proceeding' states that the
UAC core will automatically generate an ACK in response. This causes a
problem when the session offer has been sent in the 2xx (as opposed to in
the INVITE) in such a case the TU needs to answer this offer, and therefore
it must generate the ACK. A corresponding potential problem is found in the
INVITE server transaction state machine, where if a 2xx is sent from the TU
the state machine transitions directly to the terminated state. This
suggests that the TU never sees the ACK, and consequently would never see
the answer part of any session description contained in the 2xx-ACK pair.
Chris Mills


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Wed Dec  5 10:31:12 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id KAA23943
	for <sip-archive@odin.ietf.org>; Wed, 5 Dec 2001 10:31:12 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id KAA21094
	for sip-archive@odin.ietf.org; Wed, 5 Dec 2001 10:31:13 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id JAA19444;
	Wed, 5 Dec 2001 09:45:54 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id JAA19411
	for <sip@optimus.ietf.org>; Wed, 5 Dec 2001 09:45:52 -0500 (EST)
Received: from motgate2.mot.com (motgate2.mot.com [136.182.1.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id JAA21955
	for <sip@ietf.org>; Wed, 5 Dec 2001 09:45:50 -0500 (EST)
Received: [from pobox.mot.com (pobox.mot.com [129.188.137.100]) by motgate2.mot.com (motgate2 2.1) with ESMTP id HAA19504 for <sip@ietf.org>; Wed, 5 Dec 2001 07:45:32 -0700 (MST)]
Received: [from az33exi01.corp.mot.com (az33exi01.corp.mot.com [199.2.84.10]) by pobox.mot.com (MOT-pobox 2.0) with ESMTP id HAA12053 for <sip@ietf.org>; Wed, 5 Dec 2001 07:45:31 -0700 (MST)]
Received: by az33exi01.corp.mot.com with Internet Mail Service (5.5.2654.52)
	id <42YQQ8LW>; Wed, 5 Dec 2001 07:45:30 -0700
Message-ID: <A3072CA86761D511899F009027E796D2013A92A1@az33exm04.corp.mot.com>
From: Purcell Michael-QA3001 <QA3001@motorola.com>
To: "'sip@ietf.org'" <sip@ietf.org>
Cc: Purcell Michael-QA3001 <QA3001@motorola.com>
Date: Wed, 5 Dec 2001 07:45:30 -0700 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2654.52)
Content-Type: text/plain;
	charset="iso-8859-1"
Subject: [Sip] bis: A draft standard version of SIP.
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

Is there a time lime when the rfc2543bis will be formalized into an RFC the replaces RFC2543?

		Thanks Mike Purcell

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Wed Dec  5 11:05:56 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id LAA25658
	for <sip-archive@odin.ietf.org>; Wed, 5 Dec 2001 11:05:56 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id LAA22350
	for sip-archive@odin.ietf.org; Wed, 5 Dec 2001 11:05:58 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id KAA21627;
	Wed, 5 Dec 2001 10:49:00 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id KAA21599
	for <sip@optimus.ietf.org>; Wed, 5 Dec 2001 10:48:57 -0500 (EST)
Received: from ftpbox.mot.com (ftpbox.mot.com [129.188.136.101])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id KAA24654
	for <sip@ietf.org>; Wed, 5 Dec 2001 10:48:55 -0500 (EST)
Received: [from pobox.mot.com (pobox.mot.com [129.188.137.100]) by ftpbox.mot.com (ftpbox 2.1) with ESMTP id IAA29844 for <sip@ietf.org>; Wed, 5 Dec 2001 08:48:57 -0700 (MST)]
Received: [from az33exi01.corp.mot.com (az33exi01.corp.mot.com [199.2.84.10]) by pobox.mot.com (MOT-pobox 2.0) with ESMTP id IAA02188 for <sip@ietf.org>; Wed, 5 Dec 2001 08:48:57 -0700 (MST)]
Received: by az33exi01.corp.mot.com with Internet Mail Service (5.5.2654.52)
	id <42YQRAP6>; Wed, 5 Dec 2001 08:48:52 -0700
Message-ID: <A3072CA86761D511899F009027E796D2013A92A2@az33exm04.corp.mot.com>
From: Purcell Michael-QA3001 <QA3001@motorola.com>
To: "'sip@ietf.org'" <sip@ietf.org>
Cc: Purcell Michael-QA3001 <QA3001@motorola.com>
Date: Wed, 5 Dec 2001 08:48:52 -0700 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2654.52)
Content-Type: text/plain;
	charset="iso-8859-1"
Subject: [Sip] Multi-Media SIP Scenario
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

I cannot discover from the existing standards or drafts if the following Multi-Media Scenario is to the SIP Standard:


Successful SIP to SIP with two Media

   User A          Proxy 1/User B    User C
     |                |                | 
     | INVITE(M1,M2)  |                | 
     |--------------->|    User B      |
     |                |--| Setup       |
     |                |<-|  M1         |
     |     OK(M1)     |                | 
     |<---------------|  INVITE(M2)    |
     |     ACK(M1)    |--------------->|    User C
     |--------------->|                |--| Setup       
     | RTP Media M1   |                |<-|  M2
     |<==============>|    OK(M2)      | 
     |     OK(M2)     |<---------------|
     |<---------------|                |        
     |     ACK(M2)    |                |
     |-------------------------------->|
     |                |                |
     |        RTP Media M2             |
     |<===============================>|
     

In this scenario, there are two media streams (M1, M2) connecting User A to from two separate sources User B and User C. From User As perspective, both media streams could be originating from the same source. 
  So the INVITE goes out asking for both media streams. The Proxy and User B are co-located. User B forwards an INVITE for M2 to User C through it's proxy interface and returns the OK for just M1. A Separate OK message for M2 is returned from User C to User A. The ACK for the second media stream (M2) bypasses the proxy.

		Thanks Mike Purcell

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Wed Dec  5 12:47:23 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA28981
	for <sip-archive@odin.ietf.org>; Wed, 5 Dec 2001 12:47:22 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id MAA27109
	for sip-archive@odin.ietf.org; Wed, 5 Dec 2001 12:47:23 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA25729;
	Wed, 5 Dec 2001 12:12:03 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA25695
	for <sip@optimus.ietf.org>; Wed, 5 Dec 2001 12:12:00 -0500 (EST)
Received: from mail1.dynamicsoft.com (mail1.dynamicsoft.com [63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA28022
	for <sip@ietf.org>; Wed, 5 Dec 2001 12:11:56 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fB5H9x4I015290;
	Wed, 5 Dec 2001 12:09:59 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <YAN9Y84L>; Wed, 5 Dec 2001 12:11:29 -0500
Message-ID: <B65B4F8437968F488A01A940B21982BF020D7115@DYN-EXCH-001.dynamicsoft.com>
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: "'confctrl@isi.edu'" <confctrl@isi.edu>
Cc: "'sip@ietf.org'" <sip@ietf.org>
Date: Wed, 5 Dec 2001 12:11:28 -0500 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Subject: [Sip] changing of media types allowed in offer/answer and SIP open issu
 e #24
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

Folks,

draft-rosenberg-mmusic-sdp-offer-answer-00.txt currently says:

 The media type (audio, video, etc.) for a stream MAY be changed. This
   is particularly useful for changing between voice and fax in a single
   stream, which are both separate media types. To do this, the offerer
   creates a new media description, with a new media type, in place of
   the description in the previous SDP which is to be changed. The IP
   address and port for the stream MAY change, or MAY remain the same.
   However, the list of payload type numbers for the new codecs MUST be
   different than any used previously for this stream.

This is somewhat linked to the current sip open issue #24 about whether or
not you can reuse a media stream "slot" which has been previously disabled
with port=0. After all, changing the media type is really the same, more or
less, as using a new media stream in place of where an old one was. I think
leaning of consensus in the sip group was to disallow such reuse (although I
can't remember at this moment what the reasoning was), and that would argue
for removing the above capability. 

Comments or thoughts on this?

-Jonathan R.

---
Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
Chief Scientist                             First Floor
dynamicsoft                                 East Hanover, NJ 07936
jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
http://www.jdrosen.net                      PHONE: (973) 952-5000
http://www.dynamicsoft.com
 

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Wed Dec  5 12:47:24 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA29000
	for <sip-archive@odin.ietf.org>; Wed, 5 Dec 2001 12:47:23 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id MAA27133
	for sip-archive@odin.ietf.org; Wed, 5 Dec 2001 12:47:24 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA26050;
	Wed, 5 Dec 2001 12:23:41 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA26020
	for <sip@optimus.ietf.org>; Wed, 5 Dec 2001 12:23:39 -0500 (EST)
Received: from mail1.dynamicsoft.com (mail1.dynamicsoft.com [63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA28363
	for <sip@ietf.org>; Wed, 5 Dec 2001 12:23:35 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fB5HLb4I015345;
	Wed, 5 Dec 2001 12:21:37 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <YAN9Y8VF>; Wed, 5 Dec 2001 12:23:07 -0500
Message-ID: <B65B4F8437968F488A01A940B21982BF020D7116@DYN-EXCH-001.dynamicsoft.com>
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: "'Purcell Michael-QA3001'" <QA3001@motorola.com>,
        "'sip@ietf.org'"
	 <sip@ietf.org>
Subject: RE: [Sip] bis: A draft standard version of SIP.
Date: Wed, 5 Dec 2001 12:23:07 -0500 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

The aim is to have this as an RFC in time to meet the 3gpp requirements for
a completed specification. 3gpp R5 freezes in March, so the RFC should be
available at that time. In order to make that, we need to hand SIP off to
IESG in fairly short order.

Thanks,
Jonathan R.

 

> -----Original Message-----
> From: Purcell Michael-QA3001 [mailto:QA3001@motorola.com]
> Sent: Wednesday, December 05, 2001 9:46 AM
> To: 'sip@ietf.org'
> Cc: Purcell Michael-QA3001
> Subject: [Sip] bis: A draft standard version of SIP.
> 
> 
> Is there a time lime when the rfc2543bis will be formalized 
> into an RFC the replaces RFC2543?
> 
> 		Thanks Mike Purcell
> 
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
> 

---
Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
Chief Scientist                             First Floor
dynamicsoft                                 East Hanover, NJ 07936
jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
http://www.jdrosen.net                      PHONE: (973) 952-5000
http://www.dynamicsoft.com

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Wed Dec  5 13:05:05 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id NAA29800
	for <sip-archive@odin.ietf.org>; Wed, 5 Dec 2001 13:05:04 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id NAA28241
	for sip-archive@odin.ietf.org; Wed, 5 Dec 2001 13:05:06 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA26968;
	Wed, 5 Dec 2001 12:43:45 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA26937
	for <sip@optimus.ietf.org>; Wed, 5 Dec 2001 12:43:42 -0500 (EST)
Received: from mail1.dynamicsoft.com (mail1.dynamicsoft.com [63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA28869
	for <sip@ietf.org>; Wed, 5 Dec 2001 12:43:40 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fB5Hfe4I015457;
	Wed, 5 Dec 2001 12:41:40 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <YAN9Y8W0>; Wed, 5 Dec 2001 12:43:11 -0500
Message-ID: <B65B4F8437968F488A01A940B21982BF020D7118@DYN-EXCH-001.dynamicsoft.com>
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: "'Gabriel Velo'" <gvelo@astartec.com>, sip@ietf.org
Subject: RE: [Sip] Missing Call-ID header
Date: Wed, 5 Dec 2001 12:43:10 -0500 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

If we needed to specify rules for handling every possible unusual failure
case, the spec would be much larger. Generally, when things break badly,
like a missing call-id, the handling is at the discretion of the
implementation, and there are no normative recommendations.

-Jonathan R.

---
Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
Chief Scientist                             First Floor
dynamicsoft                                 East Hanover, NJ 07936
jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
http://www.jdrosen.net                      PHONE: (973) 952-5000
http://www.dynamicsoft.com
 

> -----Original Message-----
> From: Gabriel Velo [mailto:gvelo@astartec.com]
> Sent: Monday, December 03, 2001 4:46 AM
> To: sip@ietf.org
> Subject: [Sip] Missing Call-ID header
> 
> 
> Dear All,
> 
> I have a question regarding chapter 23.4.1
> the paragraph state that....
> 
> "The request could not be understood due to malformed syntax. The
> Reason-Phrase SHOULD identify the syntax problem in more detail, e.g.,
> "Missing Call-ID header". "
> 
> 
> Must a UA send a 400 response to a request that have missing mandatory
> headers ?
> If this is right , how a UA match this response to the corresponding
> request?.
> 
> Apologies if this has already been discussed.
> 
> thanks.
> Gabriel Velo.
> 
> 
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
> 

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Wed Dec  5 13:14:44 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id NAA00182
	for <sip-archive@odin.ietf.org>; Wed, 5 Dec 2001 13:14:43 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id NAA28604
	for sip-archive@odin.ietf.org; Wed, 5 Dec 2001 13:14:45 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA27514;
	Wed, 5 Dec 2001 12:54:54 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA27484
	for <sip@optimus.ietf.org>; Wed, 5 Dec 2001 12:54:51 -0500 (EST)
Received: from mail1.dynamicsoft.com (mail1.dynamicsoft.com [63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA29409
	for <sip@ietf.org>; Wed, 5 Dec 2001 12:54:50 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fB5Hdo4I015438;
	Wed, 5 Dec 2001 12:39:51 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <YAN9Y8WX>; Wed, 5 Dec 2001 12:41:21 -0500
Message-ID: <B65B4F8437968F488A01A940B21982BF020D7117@DYN-EXCH-001.dynamicsoft.com>
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: "'Brian Quinlan'" <Brian.Quinlan@duolog.com>,
        Chris Mills
	 <chrmills@nortelnetworks.com>, sip@ietf.org
Subject: RE: [Sip] Problem with bis05 state machine
Date: Wed, 5 Dec 2001 12:41:20 -0500 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org



 

> -----Original Message-----
> From: Brian Quinlan [mailto:Brian.Quinlan@duolog.com]
> Sent: Wednesday, December 05, 2001 6:15 AM
> To: Chris Mills; sip@ietf.org
> Subject: RE: [Sip] Problem with bis05 state machine
> 
> This allows for the situation you describe where "TU needs to 
> answer this
> offer, and therefore it must generate the ACK".

Correct.

> 
> As for the server, I had been assuming that an ACK received after the
> corresponding transaction had terminated would be passed 
> straight to the TU,
> though having looked I concede that I don't see this 
> explicitly stated in
> section 17. Any pointers?

Lines 2878-2881. When the server transaction sends the 2xx, the server
transaction is destroyed. As a result, when the ACK arrives, there is no
matching server transaction, so the transport passes it up to the core. Its
worth adding a note here to explicitly say that this is how ACK for 2xx are
passed up to the UAS core after the transaction is done.


> 
> Which leads neatly on to the following from section 13.4.1.4 
> in bis-05:

I think you mean 13.3.1.4.

> 
> Once the response has been constructed it is passed to the 
> INVITE server
> transaction. Note, however, that the INVITE server 
> transaction does not
> retransmit 2xx responses to an INVITE. Therefore, it is neces- 1879
> sary to pass periodically the response to the server 
> transaction until the
> ACK arrives. 1880
> 
> If a 2xx has been sent, then the server transaction state 
> would have changed
> to Terminated and the transaction would have been destroyed, 
> so there isn't
> any longer a transaction to which one can "pass periodically 
> the response".

Excellent point. It is passed directly to transport after the first. We will
fix.

-Jonathan R.


> -----Original Message-----
> From: sip-admin@ietf.org [mailto:sip-admin@ietf.org]On Behalf 
> Of Chris Mills
> Sent: 04 December 2001 15:22
> To: 'sip@ietf.org'
> Subject: [Sip] Problem with bis05 state machine
> 
> 
> I have seen a potential problem in the bis05 state machine. 
> This problem is
> specifically in the INVITE client transaction state machine. 
> It is stated
> that if a 2xx is received in the 'calling' or 'proceeding' 
> states that the
> UAC core will automatically generate an ACK in response. This causes a
> problem when the session offer has been sent in the 2xx (as 
> opposed to in
> the INVITE) in such a case the TU needs to answer this offer, 
> and therefore
> it must generate the ACK. A corresponding potential problem 
> is found in the
> INVITE server transaction state machine, where if a 2xx is 
> sent from the TU
> the state machine transitions directly to the terminated state. This
> suggests that the TU never sees the ACK, and consequently 
> would never see
> the answer part of any session description contained in the 
> 2xx-ACK pair.
> Chris Mills
> 
> 
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
> 

---
Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
Chief Scientist                             First Floor
dynamicsoft                                 East Hanover, NJ 07936
jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
http://www.jdrosen.net                      PHONE: (973) 952-5000
http://www.dynamicsoft.com

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Wed Dec  5 13:29:52 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id NAA01138
	for <sip-archive@odin.ietf.org>; Wed, 5 Dec 2001 13:29:52 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id NAA28910
	for sip-archive@odin.ietf.org; Wed, 5 Dec 2001 13:29:53 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id NAA28442;
	Wed, 5 Dec 2001 13:09:06 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id NAA28411
	for <sip@optimus.ietf.org>; Wed, 5 Dec 2001 13:09:03 -0500 (EST)
Received: from mail1.dynamicsoft.com (mail1.dynamicsoft.com [63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id NAA29951
	for <sip@ietf.org>; Wed, 5 Dec 2001 13:09:01 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fB5I714I015611;
	Wed, 5 Dec 2001 13:07:01 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <YAN9Y8ZM>; Wed, 5 Dec 2001 13:08:32 -0500
Message-ID: <B65B4F8437968F488A01A940B21982BF020D711A@DYN-EXCH-001.dynamicsoft.com>
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: "'William Marshall'" <wtm@research.att.com>, sip@ietf.org
Subject: RE: [Sip] The Future of SIP Call Control
Date: Wed, 5 Dec 2001 13:08:31 -0500 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org



 

> -----Original Message-----
> From: William Marshall [mailto:wtm@research.att.com]
> Sent: Wednesday, November 28, 2001 4:45 PM
> To: sip@ietf.org
> Subject: Re: [Sip] The Future of SIP Call Control
> 
> 
> Many of the services are definitely "one-sided", where the other just
> does as it is told.
> 
> But, the discussion on REFER is leaving the "policy decision" to the
> subscriber/vendor/user as to whether they actually do as they are
> told or ignore it.
> 
> This is the combination that will NOT produce interoperable services.

If a phone has a policy that says to refuse all calls today for a meeting,
then that will prevent services from functioning, and I think that is what
you want in that case.

What you need is that the manufacturers of phones to understand how the
policy decisions will affect their ability to receive services. To that end,
I would argue that the REFER spec, for example, should have some discussion
on the implications of certain policies on classes of services, to make sure
that an implementor can make an appropriate choice. This is not normative
text, just discussion. If its clear that refusing REFER within a call leg
will prevent a broad class of transfer related servces, its the right of the
user/implementor to refuse them anyway, but they should be aware that
transfer won't work in that case.

-Jonathan R.

---
Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
Chief Scientist                             First Floor
dynamicsoft                                 East Hanover, NJ 07936
jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
http://www.jdrosen.net                      PHONE: (973) 952-5000
http://www.dynamicsoft.com

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Wed Dec  5 13:37:29 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id NAA01505
	for <sip-archive@odin.ietf.org>; Wed, 5 Dec 2001 13:37:29 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id NAA29358
	for sip-archive@odin.ietf.org; Wed, 5 Dec 2001 13:37:30 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id NAA28310;
	Wed, 5 Dec 2001 13:05:16 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id NAA28277
	for <sip@optimus.ietf.org>; Wed, 5 Dec 2001 13:05:13 -0500 (EST)
Received: from mail1.dynamicsoft.com (mail1.dynamicsoft.com [63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id NAA29812
	for <sip@ietf.org>; Wed, 5 Dec 2001 13:05:07 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fB5I2v4I015601;
	Wed, 5 Dec 2001 13:02:57 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <YAN9Y8ZJ>; Wed, 5 Dec 2001 13:04:28 -0500
Message-ID: <B65B4F8437968F488A01A940B21982BF020D7119@DYN-EXCH-001.dynamicsoft.com>
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: "'Mpierce1@aol.com'" <Mpierce1@aol.com>, sip@ietf.org
Subject: RE: [Sip] re: the future of call control
Date: Wed, 5 Dec 2001 13:04:27 -0500 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org



 

> -----Original Message-----
> From: Mpierce1@aol.com [mailto:Mpierce1@aol.com]
> Sent: Monday, December 03, 2001 9:38 AM
> To: sip@ietf.org
> Subject: Re: [Sip] re: the future of call control
> 
> >  No,  For folks to deploy thousands of IP phones, the 
> services merely need 
> >  to work.  Standardization and certification of "blind 
> transfer" (for 
> >  example) is not necessary to sell phones.  As proof of 
> this I will point 
> >  out that there are many more thousands of proprietary IP 
> phones than there 
> >  are H.323 or SIP phones.  This is a regretable situation, but 
> >  understandable since we have not put sufficient protocol 
> primitives in the 
> >  hands of developers to build some of these "one-sided" services.
> >  
> I understand that there are thousands of proprietary IP 
> phones now. The 
> organization I represent may want 10's of thousands of IP 
> phones, but will 
> not touch proprietary ones. They must be "standard". The 
> point I made was 
> about what was required to use them in real networks, not for 
> thousands of 
> home hobbyists whose major concern (to judge by some of the 
> recent e-mails on 
> this list) is how to distinguish between voice calls and 
> requests to play 
> "Quake". 

Mike - condescending comments like this do little to further discussion in
this group. If you are looking for a fora to insult participants in SIP and
IETF, please look elsewhere. People on this list take this technology
seriously, but they are interested in services that are broader than just
POTS. If you think network gaming isn't important to communications, you
should talk to the wireless providers who are making big bucks on such
things and tell them that they are really just hobbyists. I'm sure they
would find your perspective amusing.

Mike previously wrote:
>But what it all comes down to in the end is, if you want to sell thousands
of 
>IP telephones for use in a real network, they will have to be 
>tested/certified as complying with some standard. Currently, with H.323 
>(which I understand is virtually the only IP phones in real use), the 
>question can be "Does your product comply with H.323, H.225, H.425, and 
>H450.2 for Call Transfer?" If anyone tries to sell SIP phones for use in
real 
>networks, what would the equivalent question be for compliance?
>
>Unfortunately, I was previously involved with several standardization
efforts 
>that attempted to do exactly what you said - define a set of protocol 
>primitives which the user could then string together any way they wanted to

>create services. It didn't work then, and I don't think it will now.

A single anecdote is hardly enough to prove anything, especially without any
details about why it didn't work there.

And I can point to real examples where the opposite is true. As a somewhat
ironic example, the concept of a mgcp/megaco phone is based ENTIRELY on the
concept that services are not standardized; rather, primitives from the
server to the phone instruct the phone to do things that result in services
being delivered. The web is also built entirely on the same model, where
services are not standardized, only protocol primitives (fetching and
rendering of content). SIP services are meant to work in a similar way, but
with a more distributed model about where the intelligence for the services
resides.

-Jonathan R.

---
Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
Chief Scientist                             First Floor
dynamicsoft                                 East Hanover, NJ 07936
jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
http://www.jdrosen.net                      PHONE: (973) 952-5000
http://www.dynamicsoft.com

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Wed Dec  5 14:13:27 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id OAA03948
	for <sip-archive@odin.ietf.org>; Wed, 5 Dec 2001 14:13:27 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id OAA00702
	for sip-archive@odin.ietf.org; Wed, 5 Dec 2001 14:13:29 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id NAA29757;
	Wed, 5 Dec 2001 13:59:08 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id NAA29730
	for <sip@optimus.ietf.org>; Wed, 5 Dec 2001 13:59:06 -0500 (EST)
Received: from mail1.dynamicsoft.com (mail1.dynamicsoft.com [63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id NAA02615
	for <sip@ietf.org>; Wed, 5 Dec 2001 13:59:04 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fB5Iun4I015814;
	Wed, 5 Dec 2001 13:56:49 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <YAN9Y87V>; Wed, 5 Dec 2001 13:58:20 -0500
Message-ID: <B65B4F8437968F488A01A940B21982BF020D711E@DYN-EXCH-001.dynamicsoft.com>
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: "'Hisham Khartabil'" <hisham.khartabil@hotsip.com>, sip@ietf.org
Subject: RE: [Sip] Clarification on methods-param in caller preferences
Date: Wed, 5 Dec 2001 13:58:19 -0500 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org



 

> -----Original Message-----
> From: Hisham Khartabil [mailto:hisham.khartabil@hotsip.com]
> Sent: Thursday, November 29, 2001 10:16 AM
> To: sip@ietf.org
> Subject: [Sip] Clarification on methods-param in caller preferences
> 
> 
> Hi,
> 
> The example in mind is as follows
> 
> 2 contacts registered
> 
> 
>    sip:pager@service;methods="MESSAGE"
>    sip:user@host
> 
> The draft says, if the proxy (Registrar) get an INVITE 
> request, then the
> first contact above is eliminated.
> 
> My question is: If the proxy gets a MESSAGE request, does the 
> methods-param
> in the first contact force the proxy to use that contact? 

No.

> or 
> are the two
> contacts of equal weight? (i.e. fork the request or something)

Based on section 6.4.2, the processing would not eliminate either URL, and
the processing from there on in would use the q-value merging processing
based on Accept-Contact headers. If there were none, the result would be
both contacts having the default q value of 1.0. Whether the proxy would
then fork or not is a policy decision; caller preferneces recommends it in
this case.

-Jonathan R.
---
Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
Chief Scientist                             First Floor
dynamicsoft                                 East Hanover, NJ 07936
jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
http://www.jdrosen.net                      PHONE: (973) 952-5000
http://www.dynamicsoft.com

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Wed Dec  5 14:19:35 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id OAA04226
	for <sip-archive@odin.ietf.org>; Wed, 5 Dec 2001 14:19:35 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id OAA00854
	for sip-archive@odin.ietf.org; Wed, 5 Dec 2001 14:19:37 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id OAA00460;
	Wed, 5 Dec 2001 14:05:01 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id OAA00428
	for <sip@optimus.ietf.org>; Wed, 5 Dec 2001 14:04:58 -0500 (EST)
Received: from mail1.dynamicsoft.com (mail1.dynamicsoft.com [63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id OAA03046
	for <sip@ietf.org>; Wed, 5 Dec 2001 14:04:56 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fB5J2p4I015849;
	Wed, 5 Dec 2001 14:02:51 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <YAN9Y88H>; Wed, 5 Dec 2001 14:04:22 -0500
Message-ID: <B65B4F8437968F488A01A940B21982BF020D711F@DYN-EXCH-001.dynamicsoft.com>
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: "'brett@broadsoft.com'" <brett@broadsoft.com>, sip@ietf.org
Subject: RE: [Sip] Session Timer - Timeout on Refresh
Date: Wed, 5 Dec 2001 14:04:21 -0500 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org



 

> -----Original Message-----
> From: Brett Tate [mailto:brett@broadsoft.com]
> Sent: Wednesday, November 28, 2001 4:44 PM
> To: sip@ietf.org
> Subject: RE: [Sip] Session Timer - Timeout on Refresh
> 
> 
> > > > The bis-03 draft of SIP states under Reliability
> > > > for INVITE Requests:
> > > > "If no response is received after sending seven packet
> > > > requests, processing continues as if a 481 response was
> > > > received for that request."
> > > 
> > > Would a 408 be more appropriate than a 481?
> > > This would allow the UAC to decide the 
> > > importance of the re-invite.
> > 
> > bis-05 doesn't actually have this above text 
> > anymore; it talks about client
> > transactions sending timeouts to the TU, 
> > but I couldn't find any matching
> > text that describes how the ua core or 
> > proxy cores handle the timeouts.
> > Thats a bug.
> > 
> > Assuming it generates either a 408 or 481, 
> > the spec is clear that both
> > terminate a dialog anyway, so there is no 
> > difference.
> 
> Thanks for pointing out the change in bis-05.
> Why should a 408 automatically terminate a 
> dialog?

Well, like 481, you'd send a BYE to actually terminate. But, the idea is
that something has failed badly, so you clean up.

> 
> This change will result in proxy failure 
> causing a call to be released after 
> approximately half Session-Expires instead 
> of allowing approximately half Session-Expires 
> for the proxy to recover.

What if the INVITE was needed to convey something important? Or you tried to
transfer? You can't afford to wait for an hour for the proxies to recover in
these cases. In any case, a robust system would ensure that a request was
routed to an available proxy in the event one failed, instead of waiting for
the failed proxy to come back. This is why we have SRV records. So, I don't
see this as a real problem.

-Jonathan R.
---
Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
Chief Scientist                             First Floor
dynamicsoft                                 East Hanover, NJ 07936
jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
http://www.jdrosen.net                      PHONE: (973) 952-5000
http://www.dynamicsoft.com

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Wed Dec  5 14:20:20 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id OAA04305
	for <sip-archive@odin.ietf.org>; Wed, 5 Dec 2001 14:20:20 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id OAA00876
	for sip-archive@odin.ietf.org; Wed, 5 Dec 2001 14:20:22 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id NAA29648;
	Wed, 5 Dec 2001 13:54:32 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id NAA29619
	for <sip@optimus.ietf.org>; Wed, 5 Dec 2001 13:54:29 -0500 (EST)
Received: from mail1.dynamicsoft.com (mail1.dynamicsoft.com [63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id NAA02417
	for <sip@ietf.org>; Wed, 5 Dec 2001 13:54:27 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fB5IqS4I015789;
	Wed, 5 Dec 2001 13:52:28 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <YAN9Y872>; Wed, 5 Dec 2001 13:53:59 -0500
Message-ID: <B65B4F8437968F488A01A940B21982BF020D711D@DYN-EXCH-001.dynamicsoft.com>
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: "'Paul Kyzivat'" <pkyzivat@cisco.com>,
        Jonathan Rosenberg
	 <jdrosen@dynamicsoft.com>
Cc: "'sip@ietf.org'" <sip@ietf.org>,
        Ben Campbell
	 <bcampbell@dynamicsoft.com>,
        "'confctrl@isi.edu'" <confctrl@isi.edu>
Date: Wed, 5 Dec 2001 13:53:58 -0500 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain
Subject: [Sip] RE: [Simple] New I-D on IM transport
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org


(cc'ing mmusic since there is a comedia issue in here, and trimming simple)
 

> -----Original Message-----
> From: Paul Kyzivat [mailto:pkyzivat@cisco.com]
> Sent: Thursday, November 29, 2001 3:01 PM
> To: Jonathan Rosenberg
> Cc: 'sip@ietf.org'; Ben Campbell; simple@mailman.dynamicsoft.com
> Subject: Re: [Simple] New I-D on IM transport
> 
> 
> > > - what if there is no problem with signalling but there 
> is a problem
> > > with the media stream? Then the reinvite will reach the original
> > > endpoint rather than a backup. It will not be able to 
> distinguish this
> > > reinvite from one for some other purpose, like session timer
> > > refresh. It
> > > will note that the sdp has not changed, and may choose to
> > > simply return
> > > the last sdp it sent. (This could happen if the sip and media
> > > travel on
> > > different network connections to the same host, or if the
> > > media is on a
> > > separate device with its own network connection.)
> > 
> > I guess this seems to me to be the right behavior. What 
> would you want to
> > happen in this case?
> 
> Doing nothing in response to the problem seems wrong to me.
> But clearly it is difficult to figure out the right thing to do.
> Possible actions:
> - switch to a different port. See if that helps.
> - switch to a different media server, if it is independent of the 
>   sip UA itself
> - record the fact that a caller reinvited because of presumed media
>   problems at this end. Eventually an accumulation of these might lead
>   to taking this box out of service.

The assumption in the reconstitute draft is that a re-invite is generally
only going to be useful to fix the problem where a UA failed, and thus we
need to reconstruct state at a backup. If its a network problem, its not
clear to me that changing ports or servers will fix those problems. Indeed,
one might argue that if there is a network problem, the SIP messaging is not
likely to get through either...


> > > - in a separate mail thread on the comedia draft, we 
> identified some
> > > added problems with reinvites and connection oriented 
> media. In that
> > > case, what is negotiated in the sdp is used to establish a media
> > > connection, so it isn't idempotent to subsequent 
> invitations. There is
> > > need to indicate in the sdp whether to renegotiate the 
> connection or
> > > not. I don't think we ever fully resolved that. But I 
> believe it is
> > > important that something in the sdp be changed to 
> indicate a desire to
> > > renegotiate the connection. The same kind of scenario 
> applies here.
> > 
> > This is a good point. I think its a pure co-media issue, 
> though, and that
> > needs to be addressed in that draft.
> 
> Fair enough, as long as the rules you are trying to craft 
> dovetail with
> that. It may not be sufficient to simply reinvite with same old SDP;
> it may be required to do something slightly different on a per-media
> basis.

Right; you likely need to use a=reuse. One thing that is missing from
comedia, though, is what to do if no existing connection exists. This would
be an issue for the reconstitute draft, since it would send a re-invite with
a=reuse, which might arrive at a new server that doesn't have a connection.
Indeed, one might argue that reuse is orthogonal to a=active/passive/both.
a=reuse would say what to do if the connection exists, the rest would say
what to do when it doesn't.


> 
> > > All of these issues suggest to me that some explicit 
> information needs
> > > to be conveyed indicating what is being attempted. Part of
> > > this might be
> > > a Reason header indicating that the reinvite is being 
> sent to recover
> > > from a perceived problem.
> > 
> > I'm still not convinced, so long as the comedia issue is handled.
> 
> You may be right, but I have the feeling the problem is bigger than
> just comedia. Reinvites can be sent for many reasons, and errors can
> show their symptoms in many ways. The assumption you are 
> making is that
> the reinvite will always induce another problem, 

induce another problem? No - the reinvite would get routed to another box
that is up.

-Jonathan R.

---
Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
Chief Scientist                             First Floor
dynamicsoft                                 East Hanover, NJ 07936
jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
http://www.jdrosen.net                      PHONE: (973) 952-5000
http://www.dynamicsoft.com

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Wed Dec  5 15:25:30 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA09171
	for <sip-archive@odin.ietf.org>; Wed, 5 Dec 2001 15:25:30 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id PAA03106
	for sip-archive@odin.ietf.org; Wed, 5 Dec 2001 15:25:33 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id PAA02608;
	Wed, 5 Dec 2001 15:09:10 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id PAA02503
	for <sip@optimus.ietf.org>; Wed, 5 Dec 2001 15:09:01 -0500 (EST)
Received: from mail1.dynamicsoft.com (mail1.dynamicsoft.com [63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA07925
	for <sip@ietf.org>; Wed, 5 Dec 2001 15:08:57 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fB5JvT4I016058;
	Wed, 5 Dec 2001 14:57:30 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <YAN9Y80M>; Wed, 5 Dec 2001 14:59:00 -0500
Message-ID: <B65B4F8437968F488A01A940B21982BF020D7120@DYN-EXCH-001.dynamicsoft.com>
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: "'Fairlie-Cuninghame, Robert'" <rfairlie@nuera.com>,
        "'Brian Stucker'"
	 <bstucker@nortelnetworks.com>,
        Jonathan Rosenberg
	 <jdrosen@dynamicsoft.com>,
        "'Bert Culpepper'"
	 <bert.culpepper@intervoice-brite.com>,
        adam.roach@ericsson.com
Cc: "'sip@ietf.org'" <sip@ietf.org>,
        "'simple@mailman.dynamicsoft.com'"
	 <simple@mailman.dynamicsoft.com>
Date: Wed, 5 Dec 2001 14:58:59 -0500 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Subject: [Sip] RE: [Sipping] Immediate NOTIFIES change in sip-events-01
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org


I'm cc'ing SIMPLE since this is a joint issue that affects both the
watcherinfo work and sip-events. Also, sip-events is a sip work item, not
sipping, so I am changing the list to sip.
 

> -----Original Message-----
> From: Fairlie-Cuninghame, Robert [mailto:rfairlie@nuera.com]
> Sent: Wednesday, November 28, 2001 2:00 PM
> To: 'Brian Stucker'; Jonathan Rosenberg; 'Bert Culpepper';
> adam.roach@ericsson.com
> Cc: sipping@ietf.org
> Subject: RE: [Sipping] Immediate NOTIFIES change in sip-events-01
> 
> 
> This sounds like a good suggestion to me Brian.
> 
> I would like to suggest the watherinfo reason codes are 
> expanded a little.
> For instance, the watcherinfo assumes that the pending states 
> is waiting for
> authorization. It could however be pending while waiting for 
> the subscribed
> object to become active (note: I am not referring to the 
> subscribed Event
> package here). This sort of behavior may be typical/useful 
> when you are
> trying to subscribe to an event that has not started yet (and 
> yet you desire
> to have the subscription in place _before_ the event begins). 

OK, but in this case, the subscription itself is not pending, its the state
of the object that is effectively "TBD". This should be reflected in the
presence document delivered in the first NOTIFY, not in the state of the
subscription, IMHO.


> I also think
> the rejection/termination reasons could be expanded a little more.

Suggestions?


Brian Stucker wrote:
> 
> I can't see much use in including the 
> event field since
> (presumably) the watcher will know what event triggered the 
> NOTIFY, and if
> they can't, they can use watcherinfo to get it.

No, these are not events of the presentity, they are events of the
subscription. These events correspond quite closely to the "reason"
parameters Adam has currently specified. In fact, for the rejecttion events,
here is the mapping:

sip-events      watcherinfo
----------      -----------
migration  <->   deactivated
maint      <->    ?
refused    <->   rejected
timeout    <->   expired
 ?         <->   timeout

Clearly, these should be aligned, and should be present in both the
SUbscription-Expires and the watcherinfo format. 

Its not clear to me what the semantics of maint are; should the client retry
after some period? Presuming we can define it conciesely, we should add it
to the watcherinfo package. 

So, here would be my proposal for the unified set:

deactivated: subscription is terminated, but client SHOULD retry immediately
with a new subscription. This handles migration plus other cases
potentially.

probation: subscription is terminated; but client SHOULD retry at some later
time (we could include a Retry-After header in the case of presence in the
Subscription-Expires header)

rejected: subscription terminated due to change in authorization policy.
Retrying will not help.

timeout: subscription terminated because it was not refreshed. 

giveup: could not obtain authorization in a timely fashion, and so the
pending subscription is being terminated. The client can retry and will
likely get put back into pending state.

THanks,
Jonathan R.


---
Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
Chief Scientist                             First Floor
dynamicsoft                                 East Hanover, NJ 07936
jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
http://www.jdrosen.net                      PHONE: (973) 952-5000
http://www.dynamicsoft.com

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Wed Dec  5 15:28:03 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA09289
	for <sip-archive@odin.ietf.org>; Wed, 5 Dec 2001 15:28:03 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id PAA03195
	for sip-archive@odin.ietf.org; Wed, 5 Dec 2001 15:28:05 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id PAA02481;
	Wed, 5 Dec 2001 15:07:48 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id PAA02391
	for <sip@optimus.ietf.org>; Wed, 5 Dec 2001 15:07:43 -0500 (EST)
Received: from mail1.dynamicsoft.com (mail1.dynamicsoft.com [63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA07825
	for <sip@ietf.org>; Wed, 5 Dec 2001 15:07:40 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fB5K5f4I016157;
	Wed, 5 Dec 2001 15:05:42 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <YAN9Y9BB>; Wed, 5 Dec 2001 15:07:12 -0500
Message-ID: <B65B4F8437968F488A01A940B21982BF020D7121@DYN-EXCH-001.dynamicsoft.com>
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: "'Paul Kyzivat'" <pkyzivat@cisco.com>,
        Jonathan Rosenberg
	 <jdrosen@dynamicsoft.com>
Cc: sip@ietf.org
Date: Wed, 5 Dec 2001 15:07:12 -0500 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain
Subject: [Sip] RE: Comment on draft-ietf-sip-rfc2543bis-05
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org



 

> -----Original Message-----
> From: Paul Kyzivat [mailto:pkyzivat@cisco.com]
> Sent: Wednesday, November 28, 2001 8:50 AM
> To: Jonathan Rosenberg
> Cc: sip@ietf.org
> Subject: Re: Comment on draft-ietf-sip-rfc2543bis-05
> 
> 
> I didn't mean to imply that zero media lines are no longer legal.
> But they now mean something different. Bis-04, section 5.1, says 
> 
>   "The caller MAY choose to omit the request
>   body (i.e., not send a session description) OR SEND A SESSION
>   DESCRIPTION THAT DOES NOT LIST ANY MEDIA TYPES. This
>   indicates that the caller does not know its desired media 
>   characteristics until the call has been accepted."
> 
> The way I read that, in an invite an SDP body with no media lines 
> is equivalent to no body at all - not considered an offer.
> With bis-05 it is considered an offer for a session with no media.

Actually, that wasn't my reading. The interpretation depends on what "this"
refers to. I thought it referred to the latter part of the previous sentence
- sending a session description that does not list any media types. I have
no idea whether there is an English language rule that defines what "this"
refers to in these cases. Either way, its irrelevant; the new specs are much
clearer in this regard and we seem to agree what is specified now is right.

-Jonathan R.
---
Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
Chief Scientist                             First Floor
dynamicsoft                                 East Hanover, NJ 07936
jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
http://www.jdrosen.net                      PHONE: (973) 952-5000
http://www.dynamicsoft.com

> Jonathan Rosenberg wrote:
> > 
> > Cleaning up old threads...
> > 
> > 
> > > -----Original Message-----
> > > From: Paul Kyzivat [mailto:pkyzivat@cisco.com]
> > > Sent: Friday, October 26, 2001 4:34 PM
> > > To: Jonathan Rosenberg
> > > Cc: sip@ietf.org
> > > Subject: Comment on draft-ietf-sip-rfc2543bis-05
> > >
> > >
> > > I haven't read the whole draft yet, but I did read
> > > draft-rosenberg-mmusic-sdp-offer-answer-00, and found 
> something there
> > > that needs to be addressed in the bis. I just want to 
> post it before I
> > > forget.
> > >
> > > You have now introduced the notion of an offer and an 
> answer, that get
> > > mapped onto SDP via
> > > draft-rosenberg-mmusic-sdp-offer-answer-00. However
> > > in splitting the documents I think you have introduced a
> > > subtle change.
> > > This has to do with how to determine if the INVITE 
> contains an offer.
> > >
> > > Bis-04, section 5.1, says "The caller MAY choose to omit 
> the request
> > > body (i.e., not send a session description) OR SEND A SESSION
> > > DESCRIPTION THAT DOES NOT LIST ANY MEDIA TYPES. This
> > > indicates that the
> > > caller does not know its desired media characteristics 
> until the call
> > > has been accepted."
> > >
> > > When I read this in the past I concluded that it meant it is
> > > permissible
> > > to send an SDP body containing a description without any 
> m lines, and
> > > this should not be considered to be an offer. Now bis-05 
> (based on a
> > > quick search) no longer says this. In section 13.2.1 it says
> > > "The first,
> > > ... is that the INVITE contains the offer. ... A second 
> model is that
> > > the INVITE contains no session description, the 2xx 
> response contains
> > > the offer, and the ACK contains the answer."
> > >
> > > This no longer permits an SDP body without m lines, that
> > > isn't an offer.
> > 
> > Oh? offer-answer still permits the offer to have zero media lines:
> > 
> > 2.1 Unicast
> > 
> >    The offer MUST contain zero or more media sections. Zero media
> >    sessions implies that the offerer wishes to communicate, 
> but that the
> >    streams for the session will be added at a later time through re-
> >    INVITEs.
> > 
> > So, the offer has zero media lines. The answer will come in 
> the 2xx, and it
> > also has zero. We then do a re-invite to add more lines as normal.
> > 
> > Can you clarify what text led you to the conclusion that 
> zero m lines are no
> > longer allowed?
> > 
> > Thanks,
> > Jonathan R.
> > ---
> > Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
> > Chief Scientist                             First Floor
> > dynamicsoft                                 East Hanover, NJ 07936
> > jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
> > http://www.jdrosen.net                      PHONE: (973) 952-5000
> > http://www.dynamicsoft.com
> 

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Wed Dec  5 15:34:08 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA09737
	for <sip-archive@odin.ietf.org>; Wed, 5 Dec 2001 15:34:08 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id PAA03660
	for sip-archive@odin.ietf.org; Wed, 5 Dec 2001 15:34:11 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id PAA02944;
	Wed, 5 Dec 2001 15:20:28 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id PAA02912
	for <sip@optimus.ietf.org>; Wed, 5 Dec 2001 15:20:24 -0500 (EST)
Received: from mail1.dynamicsoft.com (mail1.dynamicsoft.com [63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA08804
	for <sip@ietf.org>; Wed, 5 Dec 2001 15:20:20 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fB5KIK4I016361;
	Wed, 5 Dec 2001 15:18:20 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <YAN9Y9D7>; Wed, 5 Dec 2001 15:19:50 -0500
Message-ID: <B65B4F8437968F488A01A940B21982BF020D7122@DYN-EXCH-001.dynamicsoft.com>
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: "'zeren@pobox.com'" <zeren@pobox.com>, sip@ietf.org
Cc: "'confctrl@isi.edu'" <confctrl@isi.edu>
Subject: RE: [Sip] Negotiating audio mixing capabilities
Date: Wed, 5 Dec 2001 15:19:49 -0500 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org



 

> -----Original Message-----
> From: Mark Zeren [mailto:markzeren@mediaone.net]
> Sent: Saturday, November 17, 2001 11:22 AM
> To: sip@ietf.org
> Subject: [Sip] Negotiating audio mixing capabilities
> 
> 
> 
> I have several questions regarding the negotiation of audio mixing
> capabilities.
> 
> The recent "draft-rosenberg-mmusic-sdp-offer-answer-00.txt," 
> states: "when
> receiving multiple streams of the same type, the streams MUST be mixed
> before playing them out."
> 
> If the answerer cannot mix multiple streams (for example because of a
> hardware limitation) how should it indicate this information 
> to the offerer?

Presumably it would refuse all of the streams but one. If you want to
indicate that these streams don't need to be mixed, and that playing one at
a time is reasonable, I think the fid specification
(http://www.ietf.org/internet-drafts/draft-ietf-mmusic-fid-05.txt) would
allow you to declare that by defining each as its own group. However, this
is unclear from the fid specification, which really only covers how to send
to a group of streams, not the interpretation of receiving media from a
group of streams. That should probably be addressed.


> 
> If the offerer is optionally capable of mixing to one m line (e.g. by
> acquiring an external conferencing resource), how should that 
> capability be
> communicated to and allocated by the answerer?

There is no capability for that. These things can get really complicated.
You have to weight those complexities against those of doing mixing, which
is really not that complex for a small number of streams. The bigger problem
may be the lack of availability of access bandwidth (wireless handsets, for
example).

> 
> These questions also bear on the "Centralized Signaling, 
> Distributed Media"
> conferencing model recently described in
> "draft-ietf-sipping-conferencing-models-00.txt". In that 
> model a central
> controller would send an invite with multiple m lines, one 
> for each other
> participant in the call. How can a controller indicate that 
> it is also able
> to allocate a conferencing resource to mix the media for a 
> less capable
> terminal?

Same answer as above - there is no capability for that at this time.

Its not clear whether this is an SDP issue or a SIP issue; one approach
could be to add a warning header of sorts into a 4xx to indicate this (we do
that for other SDP related incompatibilities)


> Additionally, once the controller has allocated a 
> conferencing
> resource it may want to offer the resource to the other 
> participants in the
> call. A re-invite could be used to force all other parties to use the
> conferencing resource, but I see no way to offer the 
> conferencing resource
> as an "option" to the other participants.

I think this is an fid issue; you are offering a set of streams that are
grouped together, such that you want to choose one group or the other. I'd
welcome inputs from mmusic folks on whether something like this is in the
scope of fid.

-Jonathan R.
---
Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
Chief Scientist                             First Floor
dynamicsoft                                 East Hanover, NJ 07936
jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
http://www.jdrosen.net                      PHONE: (973) 952-5000
http://www.dynamicsoft.com

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Wed Dec  5 15:39:06 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA10184
	for <sip-archive@odin.ietf.org>; Wed, 5 Dec 2001 15:39:06 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id PAA03718
	for sip-archive@odin.ietf.org; Wed, 5 Dec 2001 15:39:09 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id PAA03033;
	Wed, 5 Dec 2001 15:22:56 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id PAA03002
	for <sip@optimus.ietf.org>; Wed, 5 Dec 2001 15:22:53 -0500 (EST)
Received: from bdsl.66.12.12.130.gte.net (bdsl.66.12.12.130.gte.net [66.12.12.130])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA08981
	for <sip@ietf.org>; Wed, 5 Dec 2001 15:22:49 -0500 (EST)
Received: from cowboys (localhost.localdomain [127.0.0.1])
	by bdsl.66.12.12.130.gte.net (8.11.2/8.11.2) with SMTP id fB5LLbe11763;
	Wed, 5 Dec 2001 15:21:37 -0600
Message-ID: <00dc01c17dca$97fcafb0$01000001@dynamicsoft.com>
From: "Dean Willis" <dean.willis@softarmor.com>
To: "Jayshree Bharatia" <jayshree@nortelnetworks.com>, <sip@ietf.org>
Cc: "Mary Barnes" <mbarnes@nortelnetworks.com>,
        "Chris Hogg" <chogg@nortelnetworks.com>
References: <FB4781AB3309D5118DCD00508BF93CA201BDDD7A@zrc2c001.us.nortel.com>
Date: Wed, 5 Dec 2001 14:22:42 -0600
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_00D9_01C17D98.4D0838D0"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2600.0000
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
Subject: [Sip] Reading list error in published agenda -- draft-sen-sip-earlymedia
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

This is a multi-part message in MIME format.

------=_NextPart_000_00D9_01C17D98.4D0838D0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

FW: Request for Presentation Slot: Early Media (v1)Jayshreee and friends =
spotted a version number error.=20

I have updated the web-version of the agenda and will notify the =
secretariat.

It's possible that I might have missed a couple of the drafts that came =
through late in November -- there was something odd with the =
notification process, I think. If you updated a draft in that period =
which should be reflected on the agenda, please check.=20

Thanks,

--
Dean

  ----- Original Message -----=20
  From: Jayshree Bharatia=20
  To: 'dean.willis@softarmor.com'=20
  Cc: Mary Barnes ; Chris Hogg=20
  Sent: Wednesday, December 05, 2001 12:35 PM
  Subject: FW: Request for Presentation Slot: Early Media (v1)


  Hi Dean,=20

  We notice in the draft agenda of SIP WG that the draft version for =
Early media draft is not correct. Appreciate if you can update the =
agenda to refer =
http://search.ietf.org/internet-drafts/draft-sen-sip-earlymedia-01.txt =
(instead of version 00 draft).=20

  Thanks,=20
  Jayshree


------=_NextPart_000_00D9_01C17D98.4D0838D0
Content-Type: text/html;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML><HEAD><TITLE>FW: Request for Presentation Slot: Early Media =
(v1)</TITLE>
<META http-equiv=3DContent-Type content=3D"text/html; =
charset=3Diso-8859-1">
<META content=3D"MSHTML 6.00.2600.0" name=3DGENERATOR>
<STYLE></STYLE>
</HEAD>
<BODY bgColor=3D#ffffff>
<DIV><FONT face=3DArial size=3D2>Jayshreee and friends spotted a version =
number=20
error. </FONT></DIV>
<DIV><FONT face=3DArial size=3D2></FONT>&nbsp;</DIV>
<DIV><FONT face=3DArial size=3D2>I have updated the web-version of the =
agenda and=20
will notify the secretariat.</FONT></DIV>
<DIV><FONT face=3DArial size=3D2></FONT>&nbsp;</DIV>
<DIV><FONT face=3DArial size=3D2>It's possible that I might have missed =
a couple of=20
the drafts that came through&nbsp;late in&nbsp;November -- there was =
something=20
odd with the notification process, I think. If you updated a draft in =
that=20
period which should be reflected on the agenda, please check. =
</FONT></DIV>
<DIV><FONT face=3DArial size=3D2></FONT>&nbsp;</DIV>
<DIV><FONT face=3DArial size=3D2>Thanks,</FONT></DIV>
<DIV><FONT face=3DArial size=3D2></FONT>&nbsp;</DIV>
<DIV><FONT face=3DArial size=3D2>--<BR>Dean</FONT></DIV>
<DIV><FONT face=3DArial size=3D2></FONT>&nbsp;</DIV>
<BLOCKQUOTE=20
style=3D"PADDING-RIGHT: 0px; PADDING-LEFT: 5px; MARGIN-LEFT: 5px; =
BORDER-LEFT: #000000 2px solid; MARGIN-RIGHT: 0px">
  <DIV style=3D"FONT: 10pt arial">----- Original Message ----- </DIV>
  <DIV=20
  style=3D"BACKGROUND: #e4e4e4; FONT: 10pt arial; font-color: =
black"><B>From:</B>=20
  <A title=3Djayshree@nortelnetworks.com=20
  href=3D"mailto:jayshree@nortelnetworks.com">Jayshree Bharatia</A> =
</DIV>
  <DIV style=3D"FONT: 10pt arial"><B>To:</B> <A =
title=3Ddean.willis@softarmor.com=20
  =
href=3D"mailto:'dean.willis@softarmor.com'">'dean.willis@softarmor.com'</=
A>=20
  </DIV>
  <DIV style=3D"FONT: 10pt arial"><B>Cc:</B> <A =
title=3Dmbarnes@nortelnetworks.com=20
  href=3D"mailto:mbarnes@nortelnetworks.com">Mary Barnes</A> ; <A=20
  title=3Dchogg@nortelnetworks.com =
href=3D"mailto:chogg@nortelnetworks.com">Chris=20
  Hogg</A> </DIV>
  <DIV style=3D"FONT: 10pt arial"><B>Sent:</B> Wednesday, December 05, =
2001 12:35=20
  PM</DIV>
  <DIV style=3D"FONT: 10pt arial"><B>Subject:</B> FW: Request for =
Presentation=20
  Slot: Early Media (v1)</DIV>
  <DIV><FONT face=3DArial size=3D2></FONT><FONT face=3DArial =
size=3D2></FONT><BR></DIV>
  <P><FONT face=3DArial color=3D#0000ff size=3D2>Hi Dean,</FONT> </P>
  <P><FONT face=3DArial color=3D#0000ff size=3D2>We notice in the draft =
agenda of SIP=20
  WG that the draft version for Early media draft is not correct. =
Appreciate if=20
  you can update the agenda to refer <A=20
  =
href=3D"http://search.ietf.org/internet-drafts/draft-sen-sip-earlymedia-0=
1.txt"=20
  =
target=3D_blank>http://search.ietf.org/internet-drafts/draft-sen-sip-earl=
ymedia-01.txt</A>=20
  (instead of version 00 draft). </FONT></P>
  <P><FONT face=3DArial color=3D#0000ff size=3D2>Thanks,</FONT> =
<BR><FONT face=3DArial=20
  color=3D#0000ff =
size=3D2>Jayshree</FONT></P></BLOCKQUOTE></BODY></HTML>

------=_NextPart_000_00D9_01C17D98.4D0838D0--


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Wed Dec  5 16:17:09 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id QAA12586
	for <sip-archive@odin.ietf.org>; Wed, 5 Dec 2001 16:17:09 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id QAA05150
	for sip-archive@odin.ietf.org; Wed, 5 Dec 2001 16:17:13 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id QAA04796;
	Wed, 5 Dec 2001 16:05:29 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id QAA04726
	for <sip@optimus.ietf.org>; Wed, 5 Dec 2001 16:05:22 -0500 (EST)
Received: from bdsl.66.12.12.130.gte.net (bdsl.66.12.12.130.gte.net [66.12.12.130])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id QAA11869;
	Wed, 5 Dec 2001 16:05:18 -0500 (EST)
Received: from cowboys (localhost.localdomain [127.0.0.1])
	by bdsl.66.12.12.130.gte.net (8.11.2/8.11.2) with SMTP id fB5M88e11945;
	Wed, 5 Dec 2001 16:08:08 -0600
Message-ID: <015501c17dd1$177a1c40$01000001@dynamicsoft.com>
From: "Dean Willis" <dean.willis@softarmor.com>
To: <sip@ietf.org>, "Sipping \(E-mail\)" <sipping@ietf.org>
Date: Wed, 5 Dec 2001 15:09:13 -0600
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2600.0000
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
Content-Transfer-Encoding: 7bit
Subject: [Sip] More on meeting formats for SIP and SIPPING at IETF 52.
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

The ADs have been very firm in reminding us not to do "presentations of
drafts". Meeting time is for resolving open issues.

However, very brief presentations of changes in drafts based on previously
open issues is a helpful way to jumpstart discussion of the current open
issues.

We also have a farliy large number of tasks where there are either a bunch
of open issues requiring discussion, or multiple conflicting or
complementary documents have been published.


So, we're using a slightly different format for IETF 52. There are basically
two types of activities on the agenda -- what  I call "changes in"
discussions, and "topic discussions".

The "Changes in" segments are titled something like "Changes in FuBar Draft"
on the agenda. I expect these to be led by the draft author or a designated
representative, who will probably use a slide deck to start things. The
slides SHOULD cover (in the minimal appropriate detail) changes made to the
document since its last revision or the last time it was discussed in a
meeting. The slides SHOULD also recap any issues currently believed open.
Discussion SHOULD focus on whether the changes have resolved the issues
and/or opened any new ones, and on closing open issues. The slides MAY also
address workplanning -- as in "how are we going to resolve the open issues",
but SHOULD NOT be focused on this aspect.

The topic discussions are titled something like "FuBar discussion" on the
agenda. These will probably be led by one or more of the individuals whose
names are associated with that segment on the agenda. These individuals MAY
have prepared slides to assist with the discussion. These slides MUST NOT be
general tutorials or introductions of a specific draft. When there are
multiple individuals covering a topic, those individuals SHOULD coordinate
their slides and overage of the topic.

Please note that some topics will have linkages to topics outside of SIP and
SIPPING. You MAY mention the linkage, but in general, we MUST NOT go outside
of the appropriate scpe of our WGs.

And, when it's all over with, all slides MUST be sent to me for inclusion in
the proceedings. They MAY be sent to me before the meeting, in which case
I'll TRY (hey, TRY isn't in RFC 2026, must be a bug) to get them posted
before the meeting.

If you have any questions, please contact me as early as possible. I'll be
arriving Sunday night around2300, am styaing in Lttle America (as Dean
Willis or possibly Edward Willis name) and my US mobile +1 2214 244 3703
should work in Utah.

Thank you all, and may this be the best organized chaos we've had yet!

--
Dean Willis


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Wed Dec  5 16:17:33 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id QAA12620
	for <sip-archive@odin.ietf.org>; Wed, 5 Dec 2001 16:17:32 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id QAA05173
	for sip-archive@odin.ietf.org; Wed, 5 Dec 2001 16:17:36 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id QAA04849;
	Wed, 5 Dec 2001 16:06:29 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id QAA04820
	for <sip@optimus.ietf.org>; Wed, 5 Dec 2001 16:06:26 -0500 (EST)
Received: from mail1.dynamicsoft.com (mail1.dynamicsoft.com [63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id QAA11932
	for <sip@ietf.org>; Wed, 5 Dec 2001 16:06:22 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fB5L4O4I016845
	for <sip@ietf.org>; Wed, 5 Dec 2001 16:04:24 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <YAN9Y9LR>; Wed, 5 Dec 2001 16:05:54 -0500
Message-ID: <B65B4F8437968F488A01A940B21982BF020D7124@DYN-EXCH-001.dynamicsoft.com>
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: "'sip@ietf.org'" <sip@ietf.org>
Date: Wed, 5 Dec 2001 16:05:54 -0500 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Subject: [Sip] Open Issue #146: reuse of disabled media streams
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

Issue:

Bis currently specifies that if a client disables a media stream (by setting
its port to zero), it cannot remove that stream from the SDP. As such, a UA
which constantly adds/removes media streams will cause the SDP to
continually grow, and never shrink. You definitely cannot remove them (since
the ordering is needed to match up streams between the offer/answer), but it
can work for a client to re-use a disabled stream. That is, when it wants to
add a new stream, it uses the "placeholder" held by the disabled stream. So,
instead of adding a new m line, the disabled m line is replaced with the m
line of the stream you want to add.

This works because there is never any confusion about which streams
correspond to which. Think of the sequence of m lines in an SDP as a TDM
system, with each stream a "channel". Streams in the offer and answer are
correlated when they sit in the same channel. Once a stream is in a channel,
it can't move to another one, since then you lose correlation. When a stream
is disabled, its channel becomes empty. You can then insert a new stream
into that channel later on, and its clear that this is a new one (because it
replaces a disabled stream).

So, the question is this: do we allow reuse of disabled streams in this
fashion?

Points of discussion:

Why do this at all? The only real reason is savings of bandwidth, since you
can reduce the size of the SDP. This is not a very common case for general
usage. However, the 3gpp guys are thinking about having the proxy disable
streams (egads!) based on some network policy about what codecs to use. They
don't want to be carrying around these zeroed out media streams. However,
our recommended approach with issues like this has been compression (ala the
signaling compression work in rohc). These streams will likely be compressed
very well, so the overhead may be moot.

Gonzalo pointed out that an alternative is to use FID, since that could
provide a way to correlate the streams. In that case, you can remove
disabled streams altogether if they can be correlated. However, it wasn't
clear that FID actually allows for correlation of streams between offer and
answer. Rather, its meant for association of streams within the same SDP.

Subsequent discussion on the list, in a long twisted and tedious thread
resulted in the conclusion that fid doesn't solve this problem.

There was one comment advocating reuse if it doesn't break any
implementations, and another advocating it generally. I personally am on the
fence. We need to make a decision. So, I propose:

Proposal:
---------

Allow reuse.


Thanks,
Jonathan R.
---
Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
Chief Scientist                             First Floor
dynamicsoft                                 East Hanover, NJ 07936
jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
http://www.jdrosen.net                      PHONE: (973) 952-5000
http://www.dynamicsoft.com
 

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Wed Dec  5 16:21:15 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id QAA12862
	for <sip-archive@odin.ietf.org>; Wed, 5 Dec 2001 16:21:14 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id QAA05230
	for sip-archive@odin.ietf.org; Wed, 5 Dec 2001 16:21:18 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id QAA04707;
	Wed, 5 Dec 2001 16:04:59 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id QAA04674
	for <sip@optimus.ietf.org>; Wed, 5 Dec 2001 16:04:57 -0500 (EST)
Received: from mail1.dynamicsoft.com (mail1.dynamicsoft.com [63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id QAA11863
	for <sip@ietf.org>; Wed, 5 Dec 2001 16:04:53 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fB5L2t4I016824
	for <sip@ietf.org>; Wed, 5 Dec 2001 16:02:55 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <YAN9Y9LH>; Wed, 5 Dec 2001 16:04:25 -0500
Message-ID: <B65B4F8437968F488A01A940B21982BF020D7123@DYN-EXCH-001.dynamicsoft.com>
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: "'sip@ietf.org'" <sip@ietf.org>
Date: Wed, 5 Dec 2001 16:04:24 -0500 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Subject: [Sip] resolving open issues in bis!
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

Folks,

The clock is ticking on the 3gpp R5 freeze date, and much remains to be done
to resolve the open issues in the bis spec. Fortunately, the vast majority
are relatively minor, and it is my hope to wrap these up in short order. So,
I will be doing a few things:

1. sending out a series of notes on the list, covering each open issue and
where we stand, along with a proposal for a resolution. I did some of this
in the past, and will now focus on that once more to get these resolved.

2. We will be discussing these issues at the sip meeting as well during SLC


I would STRONGLY ENCOURAGE participants to keep these threads focused. There
are some on this list that tend to pull discussions in various unrelated
directions, to the detrement of forward progress. With these threads, my
tolerance for that will be low, and I will do whatever needs to be done to
ensure focus and forward progress on these issues. I also encourage people
to comment on these issues if they have input. Even a simple "I agree with
the proposed resolution" would help in gauging consensus.

Thanks,
Jonathan R.

---
Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
Chief Scientist                             First Floor
dynamicsoft                                 East Hanover, NJ 07936
jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
http://www.jdrosen.net                      PHONE: (973) 952-5000
http://www.dynamicsoft.com
 

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Wed Dec  5 16:54:53 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id QAA14729
	for <sip-archive@odin.ietf.org>; Wed, 5 Dec 2001 16:54:53 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id QAA06265
	for sip-archive@odin.ietf.org; Wed, 5 Dec 2001 16:54:55 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id QAA05769;
	Wed, 5 Dec 2001 16:34:32 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id QAA05738
	for <sip@optimus.ietf.org>; Wed, 5 Dec 2001 16:34:30 -0500 (EST)
Received: from ihemail2.firewall.lucent.com (ihemail2.lucent.com [192.11.222.163])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id QAA13569
	for <sip@ietf.org>; Wed, 5 Dec 2001 16:34:24 -0500 (EST)
Received: from teton.mh.lucent.com (h135-3-130-2.lucent.com [135.3.130.2])
	by ihemail2.firewall.lucent.com (Switch-2.1.3/Switch-2.1.0) with ESMTP id fB5LYQF02893
	for <sip@ietf.org>; Wed, 5 Dec 2001 16:34:26 -0500 (EST)
Received: from lucent.com (tla.lra.lucent.com [192.11.63.49])
	by teton.mh.lucent.com (8.8.8+Sun/8.8.8) with ESMTP id QAA03187
	for <sip@ietf.org>; Wed, 5 Dec 2001 16:34:23 -0500 (EST)
Message-ID: <3C0E9232.79BFCC21@lucent.com>
Date: Wed, 05 Dec 2001 16:31:30 -0500
From: Terry L Anderson <tla@lucent.com>
Organization: Lucent Technologies
X-Mailer: Mozilla 4.79 [en] (Win95; U)
X-Accept-Language: en
MIME-Version: 1.0
To: SIP Mailing List <sip@ietf.org>
Subject: [Sip] Some comments on rfc2543bis-05 - RESEND
Content-Type: multipart/mixed;
 boundary="------------77A24909467777B29A0FFE54"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

This is a multi-part message in MIME format.
--------------77A24909467777B29A0FFE54
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

I am resending this since I have gotten no comments in a week.

--

------------------------------------------------------------
Terry L Anderson              mailto:tla@lucent.com
Tel:908.582.7013   Fax:908.582.6729
Lucent Technologies/INS/Voice Over IP Access Networks
Rm 2B-121, 600 Mountain Av, Murray Hill, NJ 07974
http://its.lucent.com/~tla (Lucent internal) http://www.gti.net/tla


--------------77A24909467777B29A0FFE54
Content-Type: message/rfc822
Content-Disposition: inline

Received: from horh2.emsr.lucent.com (horh2.emsr.lucent.com [135.17.1.19])
	by teton.mh.lucent.com (8.8.8+Sun/8.8.8) with ESMTP id RAA26260
	for <tla@teton.mh.lucent.com>; Thu, 29 Nov 2001 17:19:29 -0500 (EST)
Received: from auemail1.firewall.lucent.com by horh2.emsr.lucent.com (8.9.3+Sun/EMS-1.5 Solaris/emsr)
	id RAA17153 for ; Thu, 29 Nov 2001 17:19:27 -0500 (EST)
Received: from optimus.ietf.org (ietf.org [132.151.1.19])
	by auemail1.firewall.lucent.com (Switch-2.1.3/Switch-2.1.0) with ESMTP id fATMJ0T13440;
	Thu, 29 Nov 2001 17:19:00 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id RAA01149;
	Thu, 29 Nov 2001 17:17:06 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id RAA01074
	for <sip@ns.ietf.org>; Thu, 29 Nov 2001 17:17:02 -0500 (EST)
Received: from ihemail1.firewall.lucent.com (ihemail1.lucent.com [192.11.222.161])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id RAA16999
	for <sip@ietf.org>; Thu, 29 Nov 2001 17:16:58 -0500 (EST)
Received: from teton.mh.lucent.com (h135-3-130-2.lucent.com [135.3.130.2])
	by ihemail1.firewall.lucent.com (Switch-2.1.3/Switch-2.1.0) with ESMTP id fATMH0119484
	for <sip@ietf.org>; Thu, 29 Nov 2001 17:17:00 -0500 (EST)
Received: from lucent.com (pctla2 [135.3.130.26])
	by teton.mh.lucent.com (8.8.8+Sun/8.8.8) with ESMTP id RAA26034
	for <sip@ietf.org>; Thu, 29 Nov 2001 17:12:09 -0500 (EST)
Message-ID: <3C06B20F.F51FC408@lucent.com>
Date: Thu, 29 Nov 2001 17:09:20 -0500
From: Terry L Anderson <tla@lucent.com>
Organization: Lucent Technologies
X-Mailer: Mozilla 4.79 [en] (Win95; U)
X-Accept-Language: en
MIME-Version: 1.0
To: SIP Mailing List <sip@ietf.org>
Content-Type: multipart/mixed;
 boundary="------------3695E2572993C39553DA1AE0"
Subject: [Sip] Some comments on rfc2543bis-05
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

This is a multi-part message in MIME format.
--------------3695E2572993C39553DA1AE0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

Some comments on rfc2543bis-05.  Most are minor editorial issues (I
believe).  Perhaps, some have been discuss earlier but I could not find
them.

Issue 1:     Section 6 Definitions
It might be nice to define "Request" and "Response" here.  "Message"
appears to be used occasionally and I believe means either Request or
Response but maybe "Message" should also be defined.  And 12.2 defines
"Refresh Request".  It would be nice to have it included here as well,
for convenient reference.

Issue 2: Section 8.2.3.2 Require
I just want to confirm that the intention is that even an ACK, BYE or
CANCEL containing a Require header with option tags that the recipient
does not support should be rejected with a 420 response.  I would assume
that Require would most often be used in INVITE or REGISTER, but is
allowed in ACK, BYE and CANCEL.   Should we refuse to BYE or CANCEL the
call?  I guess this requires the sender to resend without the option tag
in Require or the call will not be cleaned up.

What is the behavior when receiving an ACK with an unsupported option
tag in Require.  There is no response to an ACK so there is no way to
indicate that the tag is unsupported.  Does one ignore the ACK and thus
consider the INVITE response un-ACKed and so close the call? or accept
in spite of the unsupported option?  Perhaps, this should be specified
here.

Issue 3: Section 23 Header Fields: Table 3
Require has a 'g' in the where column and To has a 'gc(1)'.  I believe
that the 'g's are left over from bis-04; the meaning for this and the
other instances have been removed in bis-05.

Issue 4: Section 8.2.7
The last paragraph states: "The same tag MUST be used for all responses
to that request, both provisional and final".  But since the tag is used
as part of the dialog ID, isn't it required to be used in subsequent
requests in the dialog?  This is probably clear from statements
elsewhere, but since this sentence could be read as implying the
lifetime of the tag it might be clearer if it read something like "...
all responses to that request, both provisional and final (and any later
requests in the same dialog)."

Issue 5: Section 9.2
Related to my issue 2 above.  The last paragraph of 9.2 states that "The
CANCEL request itself is answered with a 200 (OK) in either case."  This
might be read to mean in "every" case, but might the response be 420 if
the CANCEL contained an unsupported option tag in Require?

Issue 6: Section 15.1.2
Similar to issue 5, this section states that "The UAS core MUST generate
a 2xx response to the BYE", but should it rather generate a 420 if the
BYE contained an unsupported option tag in Require?

Issue 7: Section 16.1, 16.6 and 8.2.7
I am trying to understand if there are cases where a final, non-200
response received by UAC might contain NO To-tag.  Section 8.2.7 appears
to require a UAS to add a To-tag to ALL responses.  Section 16.6 appears
to states that a proxy MUST NOT insert a To-tag into a forwarded
response that does not have one, but from 8.2.7, it must always have one
(unless it is received from a non-complying UAS).  I assume that the
proxy is NOT permitted to remove the tag.  Section 16.1 requires that a
proxy that is responding directly (generates a response rather than
forwards one) must behave as a UAS including section 8.2 and so
apparently must add a To-tag.  So it would seem that a response received
by the UAC will always have one, except for the case there the UAS in
non-complying.  Am I missing a case?  (We have seen 4xx's from proxies
with no To-tag and am trying to determine if this should be expected in
some cases).

Issue 8:  Section 15
If I understand this section, a caller should use a BYE to terminate an
early dialog (rather than a CANCEL) but must not use a CANCEL until some
response is received.  Since UAS must add a To-tag to all responses, any
provisional response other than 100, received by UAC should contain a
To-tag and hence establish a dialog.  So it appears that UAC will only
use CANCEL between receipt of 100 (if received) and some other 1xx.  Is
this correct?  Perhaps, stating that here would make it clearer.

Issue 9: Early media
If a proxy forks an INVITE containing SDP, the UAC may receive
provisional responses from more than one UAS, establishing more than one
dialog.  If more than one of these contains SDP this would appear to
establish more than one media stream that might be used to send early
media to the UAC on the same port.  For example, more than one UAS may
be sending ringback tones in a media stream and one or more may contain
a special information tone or voice message.  The RTP packets can be
distinguished by the source addresses in the headers, but is it stated
anywhere what the expected behavior of the UAC is?  Should it mix these
and play all of these to the calling party?  If not, how can it choose
which to present to the calling party?  Or is early media outside the
scope of 2543bis?






--

------------------------------------------------------------
Terry L Anderson              mailto:tla@lucent.com
Tel:908.582.7013   Fax:908.582.6729
Lucent Technologies/INS/Voice Over IP Access Networks
Rm 2B-121, 600 Mountain Av, Murray Hill, NJ 07974
http://its.lucent.com/~tla (Lucent internal) http://www.gti.net/tla


--------------3695E2572993C39553DA1AE0
Content-Type: text/x-vcard; charset=us-ascii;
 name="tla.vcf"
Content-Description: Card for Terry L Anderson
Content-Disposition: attachment;
 filename="tla.vcf"
Content-Transfer-Encoding: 7bit

begin:vcard 
n:Anderson;Terry L
tel;fax:908.582.6729
tel;work:908.582.7013
x-mozilla-html:TRUE
url:http://its.lucent.com/~tla
org:Lucent / Integrated Network Solutions;VoIP Access Networks
version:2.1
email;internet:tla@lucent.com
title:DMTS
note:http://www.gti.net/tla  or http://teton.mh.lucent.com/~tla (Lucent internal)
adr;quoted-printable:;;Rm 2B-121=0D=0A600 Mountain Ave;Murray Hill;NJ;07974;USA
x-mozilla-cpt:;-4752
fn:Terry L Anderson
end:vcard

--------------3695E2572993C39553DA1AE0--


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip

--------------77A24909467777B29A0FFE54
Content-Type: text/x-vcard; charset=us-ascii;
 name="tla.vcf"
Content-Transfer-Encoding: 7bit
Content-Description: Card for Terry L Anderson
Content-Disposition: attachment;
 filename="tla.vcf"
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit

begin:vcard 
n:Anderson;Terry L
tel;fax:908.582.6729
tel;work:908.582.7013
x-mozilla-html:TRUE
url:http://its.lucent.com/~tla
org:Lucent / Integrated Network Solutions;VoIP Access Networks
version:2.1
email;internet:tla@lucent.com
title:DMTS
note:http://www.gti.net/tla  or http://teton.mh.lucent.com/~tla (Lucent internal)
adr;quoted-printable:;;Rm 2B-121=0D=0A600 Mountain Ave;Murray Hill;NJ;07974;USA
x-mozilla-cpt:;-4752
fn:Terry L Anderson
end:vcard

--------------77A24909467777B29A0FFE54--


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Wed Dec  5 17:01:48 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id RAA15138
	for <sip-archive@odin.ietf.org>; Wed, 5 Dec 2001 17:01:48 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id RAA06907
	for sip-archive@odin.ietf.org; Wed, 5 Dec 2001 17:01:49 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id QAA05995;
	Wed, 5 Dec 2001 16:44:07 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id QAA05899
	for <sip@optimus.ietf.org>; Wed, 5 Dec 2001 16:43:58 -0500 (EST)
Received: from mail1.dynamicsoft.com (mail1.dynamicsoft.com [63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id QAA14110
	for <sip@ietf.org>; Wed, 5 Dec 2001 16:43:54 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fB5Lfu4I017120
	for <sip@ietf.org>; Wed, 5 Dec 2001 16:41:56 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <YAN9Y9PV>; Wed, 5 Dec 2001 16:43:27 -0500
Message-ID: <B65B4F8437968F488A01A940B21982BF020D7126@DYN-EXCH-001.dynamicsoft.com>
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: "'sip@ietf.org'" <sip@ietf.org>
Date: Wed, 5 Dec 2001 16:43:27 -0500 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Subject: [Sip] Open Issue #81: caching of proxy credentials
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

Issue:

The spec talks about caching of proxy-authorization credentials. However,
the 
wording is really vague about how a proxy would know whether or not a given 
request should use a specific credential. We need to give a concise, 
algorithmic formula for a UA to determine which credentials to place into a 
request. 

Points of discussion:

Even if its not done correctly, things still work; it just may take some
time to go through the challenges again. As such, it is worthwhile to come
up with a solution that covers the most common cases. The most common cases
where caching will be useful are (1) requests within a dialog, where you
want to reuse the credentials for proxies along the chain of proxies in the
route set, and (2) local outbound proxies, where you want to use credentials
for your local outbound proxy even for requests for a new dialog.

Its worth noting that we have a similar issue with the session timer in
dealing with issue (1). The Min-SE header is cached for the duration of a
dialog. Things get complex in that case, and here too, since the set of
proxies which see the initial INVITE might not be the same set which are on
the route set for the established dialog. As a result of that, session timer
recommends effectively flushing your cache once the dialog is established,
so you get a fresh Min-SE. However, in the case here, the odds of being
rejected without this cache are 100%, as opposed to there, where its much
smaller. So, I am not sure we can afford this luxury.

Now, the complexity with (2) is knowing WHICH credential corresponds to the
one for your local outbound proxy. This can either be configured, or it will
generally be the first challenge you receive.

Of course, UA's could even be smart about guessing which credentials to
include; the penalty for including the wrong ones is not high, I don't
think, unless you are trying to maintain privacy, in which case they do
reveal your username. But, thats an issue for the privacy specs to worry
about.

Proposal:

UA MAY cache credentials in any way it likes.

The following rule, however, is RECOMMENDED:

   * If a UA receives a Proxy-Authenticate in a 401/407 to a request with a
particular Call-ID, it includes credentials for that realm in all subsequent
requests that contain the same Call-ID. By definition of the Call-ID, these
won't be cached across dialogs. However, this does mean a request could
contain credentials that are not needed at any proxy along the path.

The following rules MAY be followed as a simple but reasonable approach:

   * The UA is configured with the realm of its local outbound proxy, when
one exists, and the UA caches credentials for that realm across dialogs. 

   * If a UA receives a WWW-Authenticate in a 401/407 to a request with a
particular To URI, it reuses that credential in any subsequent request to
the same To URI.



-Jonathan R.

---
Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
Chief Scientist                             First Floor
dynamicsoft                                 East Hanover, NJ 07936
jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
http://www.jdrosen.net                      PHONE: (973) 952-5000
http://www.dynamicsoft.com
 

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Wed Dec  5 17:33:52 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id RAA17187
	for <sip-archive@odin.ietf.org>; Wed, 5 Dec 2001 17:33:52 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id RAA07890
	for sip-archive@odin.ietf.org; Wed, 5 Dec 2001 17:33:51 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id RAA07250;
	Wed, 5 Dec 2001 17:18:20 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id RAA07218
	for <sip@optimus.ietf.org>; Wed, 5 Dec 2001 17:18:17 -0500 (EST)
Received: from mail1.dynamicsoft.com (mail1.dynamicsoft.com [63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id RAA16129
	for <sip@ietf.org>; Wed, 5 Dec 2001 17:18:14 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fB5MGG4I017380
	for <sip@ietf.org>; Wed, 5 Dec 2001 17:16:16 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <YAN9Y94J>; Wed, 5 Dec 2001 17:17:47 -0500
Message-ID: <B65B4F8437968F488A01A940B21982BF020D7127@DYN-EXCH-001.dynamicsoft.com>
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: "'sip@ietf.org'" <sip@ietf.org>
Date: Wed, 5 Dec 2001 17:17:47 -0500 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Subject: [Sip] Open Issue #88: Addressing OPTIONS to a proxy/redirect server
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

Issue:

How do you address an OPTIONS to a specific proxy/redirect server? The spec
simply says that the R-URI indicates the server, but doesn't say how to do
it.

Discussion:

This is a fairly minor issue. Given the infrequency of OPTIONS in general,
and the even more infrequency of OPTIONS to servers, its not a big deal. But
its an easy one anyway.

Proposal:

The domain in the request-URI would look like it does for REGISTER. So, if
you want to get the extensions supported by the proxy for foo.com:

OPTIONS sip:foo.com SIP/2.0

The mechanism of using Max-Forwards to query a specific proxy on the path
would also remain.

-Jonathan R.

---
Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
Chief Scientist                             First Floor
dynamicsoft                                 East Hanover, NJ 07936
jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
http://www.jdrosen.net                      PHONE: (973) 952-5000
http://www.dynamicsoft.com
 

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Wed Dec  5 17:47:06 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id RAA18025
	for <sip-archive@odin.ietf.org>; Wed, 5 Dec 2001 17:47:06 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id RAA08353
	for sip-archive@odin.ietf.org; Wed, 5 Dec 2001 17:47:08 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id RAA07999;
	Wed, 5 Dec 2001 17:36:50 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id RAA07968
	for <sip@optimus.ietf.org>; Wed, 5 Dec 2001 17:36:48 -0500 (EST)
Received: from imo-m08.mx.aol.com (imo-m08.mx.aol.com [64.12.136.163])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id RAA17365
	for <sip@ietf.org>; Wed, 5 Dec 2001 17:36:46 -0500 (EST)
From: Mpierce1@aol.com
Received: from Mpierce1@aol.com
	by imo-m08.mx.aol.com (mail_out_v31_r1.9.) id l.90.1e18a08d (3936);
	Wed, 5 Dec 2001 17:36:10 -0500 (EST)
Message-ID: <90.1e18a08d.293ffb5a@aol.com>
Date: Wed, 5 Dec 2001 17:36:10 EST
To: sip@ietf.org
CC: Gonzalo.Camarillo@ericsson.com, Adam.Roach@ericsson.com,
        jon.peterson@neustar.com, lyOng@ciena.com
MIME-Version: 1.0
Content-Type: text/plain; charset="US-ASCII"
Content-Transfer-Encoding: 7bit
X-Mailer: AOL 5.0 for Windows sub 42
Content-Transfer-Encoding: 7bit
Subject: [Sip] (no subject)
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Following are some comments on draft-ietf-sip-overlap-01

Sorry if these issues have been discussed, but I could not find evidence on 
the list of any recent discussion.

I believe it is the right approach to avoid overlap signaling. It might be 
possible to completely rule it out, given that the areas of the world with 
non-uniform length numbers are being reduced and the originating side can 
have the ability to make more intelligent decisions about how many digits are 
needed in special cases and to apply timeouts only in a few cases.

Section 3.2 (Nit)

2nd paragraph is worded wrong. Should be: "In this case, when T10 expires, an 
INVITE with ..."" 

Section 3.3

In the 3rd paragraph, when a SAM is received, it should be made clear that 
the new INVITE contains all received digits, not just the new ones.

Section 3.4

In the second paragraph, the reference to en-bloc is confusing. En-bloc 
requires that the full number contained in the signaling identify exactly one 
destination, therefore, this situation (one number being a prefix of another) 
could not occur. Overlap, as dialed by the originating party, has this 
problem. For example, in the past, some areas of the US used a dialing plan 
that required a timeout after the 1+7-digit dialing to distinguish between a 
7-digit number and a 1+10-digit number. In fact, this dialing plan is being 
abandoned (or maybe all gone). In any case, it should be the responsibility 
of the initial network element (or the originating IP device) to resolve this 
type ambiguity since it is part of the local dialing plan, not a function of 
the destination numbering. One destination number can never be a "prefix" of 
another. True, a private number could be part of (or same as) a E.164 number, 
but they are always differentiated in other ways.

Suggest the paragraph to be:

"Within some dialing plans in the PSTN, a phone number might be a prefix of 
another one. This situation is not common, but it can certainly occur. Where 
en-bloc signaling is used, this ambiguity must be resolved before the digits 
are placed in the en-bloc signaling. If overlap signaling is used in this 
situation, a different user than the one the caller intended to call might be 
contacted if the timer expires when not intended."

In fact, this issue would seem to invalidate the statement in Section 3.7 
about multiple INVITEs that says that "one of the IAMs has an incomplete 
number". If one number really could be the prefix of another, both IAMs might 
have a complete (but different) number. This better not be possible.

On the other hand, the procedures for multiple INVITEs needs to deal with the 
case in which the earlier INVITE with fewer digits is the right one and the 
latter INVITE simply has extra unneeded digits dialed in error. The 
destination interworking would likely result in receiving a 200 OK for both 
IAMs.

Section 3.6

It isn't clear how the CANCEL of other INVITEs should occur when a 200 OF is 
received. The gateway doesn't really know which ones "did not contain enough 
digits". If it did, it should not have sent them. Also, it needs to CANCEL 
all other INVITEs, not just all "previous" ones.

Section 3.7

The 2nd paragraph addresses why the INVITEs should not be forced to all 
follow the same path. The desire is to allow different "routing" to possibly 
activate different services. However,  as described in Section 3.1, overlap 
always begins by waiting for "the minimum amount of digits to route". Because 
of this, and the apparent minimal use of overlap within SIP, it should be 
acceptable to force all INVITEs containing more than this minimum to follow 
the same route if this simplifies the operation.

Section 4.1

The procedure in the last paragraph of releasing one IAM and sending another 
when each additional digit is received is not a good procedure. If this 
situation is thought to be real, then it should be addressed in a better 
manner. Since the ingress side that sent the INVITE set a timer and expected 
more digits, it should certainly be possible to include that information in 
the INVITE.

It would also be possible for the egress gateway, besides knowing that 
en-bloc signaling is used, to know that it does not have a complete number. 
In fact, it requires this information in order to correctly format the IAM 
for en-bloc. It can not send an IAM with an incomplete number. If not, the 
egress gateway would have to apply the timeout mechanism to determine when 
the number was complete. In any case, there is only one IAM.

Mike Pierce
Artel



_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Wed Dec  5 18:18:45 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id SAA19920
	for <sip-archive@odin.ietf.org>; Wed, 5 Dec 2001 18:18:45 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id SAA09152
	for sip-archive@odin.ietf.org; Wed, 5 Dec 2001 18:18:48 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id SAA08913;
	Wed, 5 Dec 2001 18:05:17 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id SAA08885
	for <sip@optimus.ietf.org>; Wed, 5 Dec 2001 18:05:15 -0500 (EST)
Received: from hoemail1.firewall.lucent.com (hoemail1.lucent.com [192.11.226.161])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id SAA19083
	for <sip@ietf.org>; Wed, 5 Dec 2001 18:05:12 -0500 (EST)
Received: from uk0006exch001h.wins.lucent.com (h135-86-160-150.lucent.com [135.86.160.150])
	by hoemail1.firewall.lucent.com (Switch-2.1.3/Switch-2.1.0) with ESMTP id fB5N4ie01387
	for <sip@ietf.org>; Wed, 5 Dec 2001 18:04:44 -0500 (EST)
Received: by uk0006exch001h.uk.lucent.com with Internet Mail Service (5.5.2650.21)
	id <XK63DZXY>; Wed, 5 Dec 2001 23:04:43 -0000
Message-ID: <475FF955A05DD411980D00508B6D5FB001AC34E6@en0033exch001u.uk.lucent.com>
From: "Drage, Keith (Keith)" <drage@lucent.com>
To: "'sip@ietf.org'" <sip@ietf.org>
Date: Wed, 5 Dec 2001 23:04:36 -0000 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2650.21)
Content-Type: text/plain
Subject: [Sip] bis-05: transport mechanisms
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

Line 2813 of the bis draft states:

All SIP elements MUST support UDP at a minimum.

When we get to the definition of URL parameters in 3216-3218 we have the
following:

The transport parameter determines the transport mechanism to be used for
sending SIP messages. SIP can use any network transport protocol. Parameter
names are defined for UDP [30], TCP [31], TLS [25], and SCTP [32].

I have seen some readers using the text in 3216-3218 to argue that receivers
must support all four transport mechanisms (or at least TCP as well), and
that the option of supporting only the minimum exists at the sender only. I
am not sure how they think to make this work when they come to provide a
response to a request sent using a transport mechanism they do not support
for sending, but still.

My assumption is that the option exists at both sender and receiver.

If my assumption is correct, can we add some more text around line 2813 to
state that, so that everything is clear. Something along the lines of: 

"SIP implementations MAY support any other defined network transport
protocol, and NEED NOT react to messages received on transport mechanisms
which are not supported."

Keith
Keith Drage
Lucent Technologies
Tel: +44 1793 776249
Email: drage@lucent.com

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Wed Dec  5 18:36:04 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id SAA20895
	for <sip-archive@odin.ietf.org>; Wed, 5 Dec 2001 18:36:04 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id SAA09797
	for sip-archive@odin.ietf.org; Wed, 5 Dec 2001 18:36:07 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id SAA09254;
	Wed, 5 Dec 2001 18:23:31 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id SAA09223
	for <sip@optimus.ietf.org>; Wed, 5 Dec 2001 18:23:28 -0500 (EST)
Received: from sj-msg-core-1.cisco.com (sj-msg-core-1.cisco.com [171.71.163.11])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id SAA20152
	for <sip@ietf.org>; Wed, 5 Dec 2001 18:23:25 -0500 (EST)
Received: from mira-sjc5-7.cisco.com (mira-sjc5-7.cisco.com [171.71.163.27])
	by sj-msg-core-1.cisco.com (8.11.3/8.9.1) with ESMTP id fB5NMuV18890;
	Wed, 5 Dec 2001 15:22:57 -0800 (PST)
Received: from thomasm-u1.cisco.com (thomasm-u1.cisco.com [128.107.140.53])
	by mira-sjc5-7.cisco.com (Mirapoint)
	with ESMTP id AAL59827;
	Wed, 5 Dec 2001 15:22:17 -0800 (PST)
Received: (thomasm@localhost) by thomasm-u1.cisco.com (8.8.8-Cisco List Logging/CISCO.WS.1.2) id PAA00384; Wed, 5 Dec 2001 15:22:52 -0800 (PST)
From: Michael Thomas <mat@cisco.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <15374.44107.962032.957222@thomasm-u1.cisco.com>
Date: Wed, 5 Dec 2001 15:22:51 -0800 (PST)
To: "Drage, Keith (Keith)" <drage@lucent.com>
Cc: "'sip@ietf.org'" <sip@ietf.org>
Subject: [Sip] bis-05: transport mechanisms
In-Reply-To: <475FF955A05DD411980D00508B6D5FB001AC34E6@en0033exch001u.uk.lucent.com>
References: <475FF955A05DD411980D00508B6D5FB001AC34E6@en0033exch001u.uk.lucent.com>
X-Mailer: VM 6.72 under 21.1 (patch 6) "Big Bend" XEmacs Lucid
X-Face: &,heK/V66p?[2!i|tVn,9lN0TUvEv7:9FzXREj/AuzN4m<D]vnFJ>u!4x[/Z4t{V}~L]+Sk
 @RFNnJEg~WZ/(8<`5a),-7ukALWa^&?&D2R0CSG3kO5~#6JxLF\d,g">$%B!0w{W)qIhmwhye104zd
 bUcI'1!
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Drage, Keith (Keith) writes:
 > Line 2813 of the bis draft states:
 > 
 > All SIP elements MUST support UDP at a minimum.
 > 
 > When we get to the definition of URL parameters in 3216-3218 we have the
 > following:
 > 
 > The transport parameter determines the transport mechanism to be used for
 > sending SIP messages. SIP can use any network transport protocol. Parameter
 > names are defined for UDP [30], TCP [31], TLS [25], and SCTP [32].

I think that placing TLS in the same level of
naming hierarchy as "transport" is asking for
trouble. If we must, we should append the security
layer to the actual L4 transport, as in TCP/TLS or
UDP/IPsec, etc.

		Mike

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Wed Dec  5 18:52:26 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id SAA21598
	for <sip-archive@odin.ietf.org>; Wed, 5 Dec 2001 18:52:25 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id SAA10049
	for sip-archive@odin.ietf.org; Wed, 5 Dec 2001 18:52:28 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id SAA09879;
	Wed, 5 Dec 2001 18:37:44 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id SAA09852
	for <sip@optimus.ietf.org>; Wed, 5 Dec 2001 18:37:42 -0500 (EST)
Received: from bdsl.66.12.12.130.gte.net (bdsl.66.12.12.130.gte.net [66.12.12.130])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id SAA21002
	for <sip@ietf.org>; Wed, 5 Dec 2001 18:37:37 -0500 (EST)
Received: from cowboys (localhost.localdomain [127.0.0.1])
	by bdsl.66.12.12.130.gte.net (8.11.2/8.11.2) with SMTP id fB60eRe12561;
	Wed, 5 Dec 2001 18:40:27 -0600
Message-ID: <027401c17de6$5da8faf0$01000001@dynamicsoft.com>
From: "Dean Willis" <dean.willis@softarmor.com>
To: "Drage, Keith \(Keith\)" <drage@lucent.com>, <sip@ietf.org>
References: <475FF955A05DD411980D00508B6D5FB001AC34E6@en0033exch001u.uk.lucent.com>
Subject: Re: [Sip] bis-05: transport mechanisms
Date: Wed, 5 Dec 2001 17:41:30 -0600
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2600.0000
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

logged as bug 279 in bugzilla.

--
Dean

----- Original Message -----
From: "Drage, Keith (Keith)" <drage@lucent.com>
To: <sip@ietf.org>
Sent: Wednesday, December 05, 2001 5:04 PM
Subject: [Sip] bis-05: transport mechanisms


> Line 2813 of the bis draft states:
>
> All SIP elements MUST support UDP at a minimum.
>
> When we get to the definition of URL parameters in 3216-3218 we have the
> following:
>
> The transport parameter determines the transport mechanism to be used for
> sending SIP messages. SIP can use any network transport protocol.
Parameter
> names are defined for UDP [30], TCP [31], TLS [25], and SCTP [32].
>
> I have seen some readers using the text in 3216-3218 to argue that
receivers
> must support all four transport mechanisms (or at least TCP as well), and
> that the option of supporting only the minimum exists at the sender only.
I
> am not sure how they think to make this work when they come to provide a
> response to a request sent using a transport mechanism they do not support
> for sending, but still.
>
> My assumption is that the option exists at both sender and receiver.
>
> If my assumption is correct, can we add some more text around line 2813 to
> state that, so that everything is clear. Something along the lines of:
>
> "SIP implementations MAY support any other defined network transport
> protocol, and NEED NOT react to messages received on transport mechanisms
> which are not supported."
>
> Keith
> Keith Drage
> Lucent Technologies
> Tel: +44 1793 776249
> Email: drage@lucent.com
>
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
>
>


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Wed Dec  5 19:13:15 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id TAA22269
	for <sip-archive@odin.ietf.org>; Wed, 5 Dec 2001 19:13:15 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id TAA10790
	for sip-archive@odin.ietf.org; Wed, 5 Dec 2001 19:12:32 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id SAA10141;
	Wed, 5 Dec 2001 18:58:58 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id SAA10110
	for <sip@optimus.ietf.org>; Wed, 5 Dec 2001 18:58:56 -0500 (EST)
Received: from excalibur.santera.com (exchange.santera.com [4.22.157.11])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id SAA21856
	for <sip@ietf.org>; Wed, 5 Dec 2001 18:58:54 -0500 (EST)
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Date: Wed, 5 Dec 2001 17:58:22 -0600
content-class: urn:content-classes:message
Message-ID: <CD110021698980419241042CF576B8F28431F0@EXCALIBUR.santera.com>
X-MimeOLE: Produced By Microsoft Exchange V6.0.4712.0
Thread-Topic: [SIP}: Comments on draft-ietf-sip-overlap-01
Thread-Index: AcF96Ld6EmOZaX1/Q3icu/ibCjnCPQ==
From: "Chiou, Mark" <MChiou@santera.com>
To: <sip@ietf.org>
Content-Transfer-Encoding: 8bit
X-MIME-Autoconverted: from quoted-printable to 8bit by optimus.ietf.org id SAA10111
Subject: [Sip] [SIP}: Comments on draft-ietf-sip-overlap-01
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 8bit

1. Section 3.3 Sending overlap signalling to the SIP network

I don't understand the desire at all. As addressed in the introduction
of this draft SIP uses en-bloc dialing approach, then any incomplete
address call will be failed with a status code indicating "484 Address
Incomplete". I did not see the desire for the MGC/MG to send overlap
signalling to the SIP network.

2. Section 4 SIP to ISUP

The whole paragraph does not make sense at all. 

I would suggest put down " It is not applicable."

In SIP, every INVITE request message MUST have a unique CSeq number
unless it is a re-transmission message. Plus, a call-leg is a
combination of a CSeq number, Call-ID, local (i.e. From address) and
remote (To address). Any content changed in any of the four fields is a
brand new call. So an incomplete address for To field shall be resulted
a failure, such that overlapping is not applicable to SIP at all.

By the way, so far I used Cisco and 3Com's SIP phones, both of them are
changing the Call-ID for every new call (i.e. any new INVITE request
message).


Mark Chiou
Santera Systems Inc.

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Wed Dec  5 19:13:27 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id TAA22286
	for <sip-archive@odin.ietf.org>; Wed, 5 Dec 2001 19:13:27 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id TAA10818
	for sip-archive@odin.ietf.org; Wed, 5 Dec 2001 19:13:28 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id TAA10579;
	Wed, 5 Dec 2001 19:04:04 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id TAA10553
	for <sip@optimus.ietf.org>; Wed, 5 Dec 2001 19:04:02 -0500 (EST)
Received: from bdsl.66.12.12.130.gte.net (bdsl.66.12.12.130.gte.net [66.12.12.130])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id TAA21998
	for <sip@ietf.org>; Wed, 5 Dec 2001 19:04:00 -0500 (EST)
Received: from cowboys (localhost.localdomain [127.0.0.1])
	by bdsl.66.12.12.130.gte.net (8.11.2/8.11.2) with SMTP id fB616oe12694
	for <sip@ietf.org>; Wed, 5 Dec 2001 19:06:50 -0600
Message-ID: <02db01c17dea$0d2ce5b0$01000001@dynamicsoft.com>
From: "Dean Willis" <dean.willis@softarmor.com>
To: <sip@ietf.org>
Date: Wed, 5 Dec 2001 18:07:53 -0600
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2600.0000
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
Content-Transfer-Encoding: 7bit
Subject: [Sip] Room assigment for SIP Security ad-hoc -- Murano
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

We have a tentative (hey, it's tentative until after we've finished the
meeting, then it doesn't matter anymore right?) reservation for the Murano
room for the Tuesday 2030 sip-sec ad-hoc.

Say Thanks to Marcia when you see her!

--
Dean



_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Wed Dec  5 19:28:19 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id TAA22646
	for <sip-archive@odin.ietf.org>; Wed, 5 Dec 2001 19:28:18 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id TAA11006
	for sip-archive@odin.ietf.org; Wed, 5 Dec 2001 19:28:20 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id TAA10752;
	Wed, 5 Dec 2001 19:10:26 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id TAA10723
	for <sip@optimus.ietf.org>; Wed, 5 Dec 2001 19:10:24 -0500 (EST)
Received: from excalibur.santera.com (exchange.santera.com [4.22.157.11])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id TAA22158
	for <sip@ietf.org>; Wed, 5 Dec 2001 19:10:22 -0500 (EST)
Subject: RE: [Sip] (no subject)
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Date: Wed, 5 Dec 2001 18:09:51 -0600
Message-ID: <CD110021698980419241042CF576B8F28431FB@EXCALIBUR.santera.com>
content-class: urn:content-classes:message
X-MimeOLE: Produced By Microsoft Exchange V6.0.4712.0
Thread-Topic: [Sip] (no subject)
Thread-Index: AcF93gv3ulaFGfd+QP64yMVLTuoUEwACzCkQ
From: "Chiou, Mark" <MChiou@santera.com>
To: <Mpierce1@aol.com>, <sip@ietf.org>
Cc: <Gonzalo.Camarillo@ericsson.com>, <Adam.Roach@ericsson.com>,
        <jon.peterson@neustar.com>, <lyOng@ciena.com>
Content-Transfer-Encoding: 8bit
X-MIME-Autoconverted: from quoted-printable to 8bit by optimus.ietf.org id TAA10724
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 8bit

Comment on the below Section 3.6

It should be OK for gateway to keep track all INVITE request messages
due to CSeq number are different as per SIP spec. (Every INVITE request
message shall have different call leg, which is a combination of
Call-ID, CSeq, From and To.) In this scenario, the To content is
different from each other in the INVITE request message, so the 200 OK
response message will match to one and only one call leg. MGC/MG can
cancel the reset of the call legs.

Mark Chiou

Santera Systems Inc.

-----Original Message-----
From: Mpierce1@aol.com [mailto:Mpierce1@aol.com]
Sent: Wednesday, December 05, 2001 4:36 PM
To: sip@ietf.org
Cc: Gonzalo.Camarillo@ericsson.com; Adam.Roach@ericsson.com;
jon.peterson@neustar.com; lyOng@ciena.com
Subject: [Sip] (no subject)


Following are some comments on draft-ietf-sip-overlap-01

Sorry if these issues have been discussed, but I could not find evidence
on 
the list of any recent discussion.

I believe it is the right approach to avoid overlap signaling. It might
be 
possible to completely rule it out, given that the areas of the world
with 
non-uniform length numbers are being reduced and the originating side
can 
have the ability to make more intelligent decisions about how many
digits are 
needed in special cases and to apply timeouts only in a few cases.

Section 3.2 (Nit)

2nd paragraph is worded wrong. Should be: "In this case, when T10
expires, an 
INVITE with ..."" 

Section 3.3

In the 3rd paragraph, when a SAM is received, it should be made clear
that 
the new INVITE contains all received digits, not just the new ones.

Section 3.4

In the second paragraph, the reference to en-bloc is confusing. En-bloc 
requires that the full number contained in the signaling identify
exactly one 
destination, therefore, this situation (one number being a prefix of
another) 
could not occur. Overlap, as dialed by the originating party, has this 
problem. For example, in the past, some areas of the US used a dialing
plan 
that required a timeout after the 1+7-digit dialing to distinguish
between a 
7-digit number and a 1+10-digit number. In fact, this dialing plan is
being 
abandoned (or maybe all gone). In any case, it should be the
responsibility 
of the initial network element (or the originating IP device) to resolve
this 
type ambiguity since it is part of the local dialing plan, not a
function of 
the destination numbering. One destination number can never be a
"prefix" of 
another. True, a private number could be part of (or same as) a E.164
number, 
but they are always differentiated in other ways.

Suggest the paragraph to be:

"Within some dialing plans in the PSTN, a phone number might be a prefix
of 
another one. This situation is not common, but it can certainly occur.
Where 
en-bloc signaling is used, this ambiguity must be resolved before the
digits 
are placed in the en-bloc signaling. If overlap signaling is used in
this 
situation, a different user than the one the caller intended to call
might be 
contacted if the timer expires when not intended."

In fact, this issue would seem to invalidate the statement in Section
3.7 
about multiple INVITEs that says that "one of the IAMs has an incomplete

number". If one number really could be the prefix of another, both IAMs
might 
have a complete (but different) number. This better not be possible.

On the other hand, the procedures for multiple INVITEs needs to deal
with the 
case in which the earlier INVITE with fewer digits is the right one and
the 
latter INVITE simply has extra unneeded digits dialed in error. The 
destination interworking would likely result in receiving a 200 OK for
both 
IAMs.

Section 3.6

It isn't clear how the CANCEL of other INVITEs should occur when a 200
OF is 
received. The gateway doesn't really know which ones "did not contain
enough 
digits". If it did, it should not have sent them. Also, it needs to
CANCEL 
all other INVITEs, not just all "previous" ones.

Section 3.7

The 2nd paragraph addresses why the INVITEs should not be forced to all 
follow the same path. The desire is to allow different "routing" to
possibly 
activate different services. However,  as described in Section 3.1,
overlap 
always begins by waiting for "the minimum amount of digits to route".
Because 
of this, and the apparent minimal use of overlap within SIP, it should
be 
acceptable to force all INVITEs containing more than this minimum to
follow 
the same route if this simplifies the operation.

Section 4.1

The procedure in the last paragraph of releasing one IAM and sending
another 
when each additional digit is received is not a good procedure. If this 
situation is thought to be real, then it should be addressed in a better

manner. Since the ingress side that sent the INVITE set a timer and
expected 
more digits, it should certainly be possible to include that information
in 
the INVITE.

It would also be possible for the egress gateway, besides knowing that 
en-bloc signaling is used, to know that it does not have a complete
number. 
In fact, it requires this information in order to correctly format the
IAM 
for en-bloc. It can not send an IAM with an incomplete number. If not,
the 
egress gateway would have to apply the timeout mechanism to determine
when 
the number was complete. In any case, there is only one IAM.

Mike Pierce
Artel



_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Wed Dec  5 21:26:31 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id VAA25401
	for <sip-archive@odin.ietf.org>; Wed, 5 Dec 2001 21:26:31 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id VAA14509
	for sip-archive@odin.ietf.org; Wed, 5 Dec 2001 21:26:33 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id VAA14015;
	Wed, 5 Dec 2001 21:08:05 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id VAA13983
	for <sip@optimus.ietf.org>; Wed, 5 Dec 2001 21:08:03 -0500 (EST)
Received: from mail1.dynamicsoft.com (mail1.dynamicsoft.com [63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id VAA24968
	for <sip@ietf.org>; Wed, 5 Dec 2001 21:08:00 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fB62634I018435
	for <sip@ietf.org>; Wed, 5 Dec 2001 21:06:03 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <YAN9Y015>; Wed, 5 Dec 2001 21:07:32 -0500
Message-ID: <B65B4F8437968F488A01A940B21982BF020D7133@DYN-EXCH-001.dynamicsoft.com>
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: "'sip@ietf.org'" <sip@ietf.org>
Date: Wed, 5 Dec 2001 21:07:32 -0500 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Subject: [Sip] Open Issue #109: Allow in non-INVITE
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

Issue:

There are two issues. Both are minor:

  * do we allow Allow in requests outside of INVITE and OPTIONS?
  
  * If I send OPTIONS to sip:user@foo.com, and the response has an Allow,
what does that mean exactly? Does that mean that it is safe to send the
methods listed in the Allow to sip:user@foo.com in the future? Or that its
safe to send the methods listed in the Allow to the URL in the Contact of
the OPTIONS? After all, a subsequent request might not route to the same UA
that got the OPTIONS; so, even if the OPTIONS response indicates that method
BAR is allowed, there is no guarantee that when you send BAR to
sip:user@foo.com, it will get to the same UA which respoded to the OPTIONS.

Discussion points:

For the first issue, lets KISS and disallow it. Extensions can of course
indicate whether its useful.

For the second one, its worth observing that this concern is true for all
other headers in the OPTIONS response - Accept, Accept-Encoding, Supported,
etc. In fact, its true for headers like WWW-Authenticate and Authorization.
I may call a UA, it returns a 401 w/ WWW-Authenticate, I stick in an
Authorization header, and resubmit the request, but it gets routed
differently, to a different UA. Same issue. I don't think its a big deal,
since in all cases you'll simply get the appropriate error code and can try
again. 

Proposal:

* point 1: disallow
* point 2: don't care. Allow refers to methods supported by the resource in
the request URI of the original OPTIONS request sent by the UAC. 

-Jonathan R.

---
Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
Chief Scientist                             First Floor
dynamicsoft                                 East Hanover, NJ 07936
jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
http://www.jdrosen.net                      PHONE: (973) 952-5000
http://www.dynamicsoft.com
 

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Wed Dec  5 21:36:28 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id VAA26857
	for <sip-archive@odin.ietf.org>; Wed, 5 Dec 2001 21:36:28 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id VAA16943
	for sip-archive@odin.ietf.org; Wed, 5 Dec 2001 21:36:30 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id VAA14599;
	Wed, 5 Dec 2001 21:26:53 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id VAA14528
	for <sip@optimus.ietf.org>; Wed, 5 Dec 2001 21:26:47 -0500 (EST)
Received: from david.siemens.de (david.siemens.de [192.35.17.14])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id VAA25420
	for <sip@ietf.org>; Wed, 5 Dec 2001 21:26:43 -0500 (EST)
Received: from mail1.siemens.de (mail1.siemens.de [139.23.33.14])
	by david.siemens.de (8.11.6/8.11.6) with ESMTP id fB62QiS27244
	for <sip@ietf.org>; Thu, 6 Dec 2001 03:26:44 +0100 (MET)
Received: from mchp9daa.mch.sbs.de (mchp9daa.mch.sbs.de [139.25.137.99])
	by mail1.siemens.de (8.11.6/8.11.6) with ESMTP id fB62Qi918186
	for <sip@ietf.org>; Thu, 6 Dec 2001 03:26:44 +0100 (MET)
Received: by mchp9daa.mch.sbs.de with Internet Mail Service (5.5.2653.19)
	id <Y21K060N>; Thu, 6 Dec 2001 03:26:44 +0100
Message-ID: <2A8DB02E3018D411901B009027FD3A3F0151EBC4@mchp905a.mch.sbs.de>
From: System Attendant <MCHP905A-SA@mchp.siemens.de>
To: "'sip@ietf.org'" <sip@ietf.org>
Date: Thu, 6 Dec 2001 03:26:34 +0100 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain
Subject: [Sip] ScanMail Message: To Recipient virus found and action taken.
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

ScanMail for Microsoft Exchange has detected virus-infected attachment(s).

Sender = _chhz@mail.hz.zj.cn
Recipient(s) = sip@ietf.org
Subject = [Sip] Re:
Scanning Time = 12/06/2001 03:26:33

Action on virus found:
The attachment Me_nude.MP3.scr matched file blocking settings. ScanMail has
Deleted it. 

Warning to recipient. ScanMail has detected a
virus.[Me_nude.MP3.scr/Deleted] 

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Wed Dec  5 21:38:01 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id VAA26918
	for <sip-archive@odin.ietf.org>; Wed, 5 Dec 2001 21:38:00 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id VAA17033
	for sip-archive@odin.ietf.org; Wed, 5 Dec 2001 21:38:03 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id VAA15557;
	Wed, 5 Dec 2001 21:29:13 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id VAA15530
	for <sip@optimus.ietf.org>; Wed, 5 Dec 2001 21:29:11 -0500 (EST)
Received: from inet11.jrc.co.jp (inet11.jrc.co.jp [203.180.124.3])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id VAA25576
	for <sip@ietf.org>; Wed, 5 Dec 2001 21:29:06 -0500 (EST)
From: Postmaster@JRC.Co.Jp
Received: from gate1 by inet11.jrc.co.jp (8.9.3/3.7W)
	id LAA02023; Thu, 6 Dec 2001 11:29:04 +0900 (JST)
Received: from jrcgw1 ([10.8.1.31]) by gate1.noc.jrc.co.jp; Thu, 06 Dec 2001 11:28:48 +0000 (JST)
Received: from localhost by jrcgw1.noc.jrc.co.jp (8.9.3/3.7WSaTaMa99081014)
	id LAA07959; Thu, 6 Dec 2001 11:28:48 +0900 (JST)
Date: Thu, 6 Dec 2001 11:28:48 +0900 (JST)
Message-Id: <200112060228.LAA07959@jrcgw1.noc.jrc.co.jp>
To: sip@ietf.org
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Subject: [Sip] Virus Alert
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Our virus check system has detected a virus WORM_BADTRANS.B 
in your mail traffic on 12/06/2001 11:28:44+09:00.
(Attachment file is removed for safe)

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Wed Dec  5 21:39:03 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id VAA26936
	for <sip-archive@odin.ietf.org>; Wed, 5 Dec 2001 21:39:03 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id VAA17103
	for sip-archive@odin.ietf.org; Wed, 5 Dec 2001 21:39:05 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id VAA14563;
	Wed, 5 Dec 2001 21:26:50 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id VAA14526
	for <sip@optimus.ietf.org>; Wed, 5 Dec 2001 21:26:47 -0500 (EST)
Received: from goliath.siemens.de (goliath.siemens.de [194.138.37.131])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id VAA25421
	for <sip@ietf.org>; Wed, 5 Dec 2001 21:26:43 -0500 (EST)
Received: from mail1.siemens.de (mail1.siemens.de [139.23.33.14])
	by goliath.siemens.de (8.11.6/8.11.6) with ESMTP id fB62Qil25310
	for <sip@ietf.org>; Thu, 6 Dec 2001 03:26:45 +0100 (MET)
Received: from mchp9daa.mch.sbs.de (mchp9daa.mch.sbs.de [139.25.137.99])
	by mail1.siemens.de (8.11.6/8.11.6) with ESMTP id fB62Qi918182
	for <sip@ietf.org>; Thu, 6 Dec 2001 03:26:44 +0100 (MET)
Received: by mchp9daa.mch.sbs.de with Internet Mail Service (5.5.2653.19)
	id <Y21K060M>; Thu, 6 Dec 2001 03:26:44 +0100
Message-ID: <DD3DB2C410A4D411ACFA009027FD42671024E0@mchp951a.mch.sbs.de>
From: System Attendant <MCHP951A-SA@mchp.siemens.de>
To: "'sip@ietf.org'" <sip@ietf.org>
Date: Thu, 6 Dec 2001 03:26:32 +0100 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain
Subject: [Sip] ScanMail Message: To Recipient virus found and action taken.
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

ScanMail for Microsoft Exchange has detected virus-infected attachment(s).

Sender = _chhz@mail.hz.zj.cn
Recipient(s) = sip@ietf.org
Subject = [Sip] Re:
Scanning Time = 12/06/2001 03:26:32

Action on virus found:
The attachment Me_nude.MP3.scr matched file blocking settings. ScanMail has
Deleted it. 

Warning to recipient. ScanMail has detected a
virus.[Me_nude.MP3.scr/Deleted] 

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Wed Dec  5 21:41:35 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id VAA26998
	for <sip-archive@odin.ietf.org>; Wed, 5 Dec 2001 21:41:35 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id VAA17279
	for sip-archive@odin.ietf.org; Wed, 5 Dec 2001 21:41:38 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id VAA16503;
	Wed, 5 Dec 2001 21:31:58 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id VAA16474
	for <sip@optimus.ietf.org>; Wed, 5 Dec 2001 21:31:55 -0500 (EST)
Received: from ss8mail1.ss8ott (mail.ss8.ca [209.87.228.147])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id VAA25739
	for <sip@ietf.org>; Wed, 5 Dec 2001 21:31:52 -0500 (EST)
Received: by mail.ss8.ca with Internet Mail Service (5.5.2650.21)
	id <XZ3ZJ7LV>; Wed, 5 Dec 2001 21:32:29 -0500
Message-ID: <8BAF8B40C4D2D411ADC300508BD63D69010EA5BC@mail.ss8.ca>
From: Nemx Power Tools for MS Exchange Server_SS8MAIL1_0
	 <NMXEXSPP0_SS8MAIL1@SS8.com>
To: sip@ietf.org
Date: Wed, 5 Dec 2001 21:32:19 -0500 
Importance: high
X-Priority: 1
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2650.21)
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C17DFE.3E0D430A"
Subject: [Sip] Virus Notification: A virus has been detected in a message in whi
 ch you where a recipient
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

This message is in MIME format. Since your mail reader does not understand
this format, some or all of this message may not be legible.

------_=_NextPart_001_01C17DFE.3E0D430A
Content-Type: text/plain

	From:		chhz [SMTP:_chhz@mail.hz.zj.cn]
	To:		
	Date:		Wed, Dec 05 2001,  9:26:05 PM
	Subject:		[Sip] Re:


The message contained 1 virus(es):

	me_nude.mp3.scr		infected with the Badtrans.B@mm.Worm virus
- - -


A Virus was detected and cleaned in a mail send to you.  Please ask to
sender to refrain from sending any mail to SS8 Networks until their machine
has been Virus Swept.

Thank you

IT Services
SS8 Networks

------_=_NextPart_001_01C17DFE.3E0D430A
Content-Type: text/html
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV=3D"Content-Type" CONTENT=3D"text/html; =
charset=3Dus-ascii">
<META NAME=3D"Generator" CONTENT=3D"MS Exchange Server version =
5.5.2650.12">
<TITLE>Virus Notification: A virus has been detected in a message in =
which you where a recipient</TITLE>
</HEAD>
<BODY>

<P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <FONT =
SIZE=3D2>From:&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
chhz [SMTP:_chhz@mail.hz.zj.cn]</FONT>
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <FONT =
SIZE=3D2>To:&nbsp;&nbsp;&nbsp;&nbsp; =
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </FONT>
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <FONT =
SIZE=3D2>Date:&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
Wed, Dec 05 2001,&nbsp; 9:26:05 PM</FONT>
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <FONT =
SIZE=3D2>Subject:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [Sip] Re:</FONT>
</P>
<BR>

<P><FONT SIZE=3D2>The message contained 1 virus(es):</FONT>
</P>

<P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <FONT =
SIZE=3D2>me_nude.mp3.scr &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
infected with the Badtrans.B@mm.Worm virus</FONT>
<BR><FONT SIZE=3D2>- - -</FONT>
</P>
<BR>

<P><FONT SIZE=3D2>A Virus was detected and cleaned in a mail send to =
you.&nbsp; Please ask to sender to refrain from sending any mail to SS8 =
Networks until their machine has been Virus Swept.</FONT></P>

<P><FONT SIZE=3D2>Thank you</FONT>
</P>

<P><FONT SIZE=3D2>IT Services</FONT>
<BR><FONT SIZE=3D2>SS8 Networks</FONT>
</P>

</BODY>
</HTML>
------_=_NextPart_001_01C17DFE.3E0D430A--

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Wed Dec  5 21:42:21 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id VAA27041
	for <sip-archive@odin.ietf.org>; Wed, 5 Dec 2001 21:42:21 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id VAA17303
	for sip-archive@odin.ietf.org; Wed, 5 Dec 2001 21:42:24 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id VAA16551;
	Wed, 5 Dec 2001 21:32:04 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id VAA16513
	for <sip@optimus.ietf.org>; Wed, 5 Dec 2001 21:32:01 -0500 (EST)
Received: from mail1.dynamicsoft.com (mail1.dynamicsoft.com [63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id VAA25745
	for <sip@ietf.org>; Wed, 5 Dec 2001 21:31:54 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fB62Tv4I018523
	for <sip@ietf.org>; Wed, 5 Dec 2001 21:29:57 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <YAN9Y0GK>; Wed, 5 Dec 2001 21:31:26 -0500
Message-ID: <B65B4F8437968F488A01A940B21982BF020D7134@DYN-EXCH-001.dynamicsoft.com>
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: "'sip@ietf.org'" <sip@ietf.org>
Date: Wed, 5 Dec 2001 21:31:26 -0500 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Subject: [Sip] Major Open Issue #113: Overlapping Transactions
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

Issue:

This is a major issue. One of the more major ones remaining.

Currently, the spec forbids more than one INVITE at a time, and more than
one non-INVITE at a time. This is simple, but there are valid concerns that
it will bite us down the road when uses require faster operation. Thus, the
issue is whether to relax this two constraints.

Discussion points:

The reason we forbid it with INVITE was that you couldn't easily figure out
the most recent session description. There was no way to tell whether the
response to the first INV was sent before or after the response to the
second INVITE. Without a consistent view of which was the most recent SDP,
the session parameters would be wrong.

The reason we forbid it with non-INVITE was that we had no easy way to do
end-to-end sequenced delivery (there could be gaps in CSeq due to proxy
challenges).

Its not clear if there is a pressing need at this time for overlapping
INVITE. Early media may require it; draft-rosenberg-sip-early-media used it,
but its not clear that this was the easiest or best way to do this.
Overlapping non-INVITE has already come up, in the context of MESSAGE
(although it looks like it won't be needed there), but it is likely to be an
issue with NOTIFY as well.

I've been on the fence, but now believe its important to allow overlapping
non-INVITE, since we will probably really need it down the road, and
eliminating the possibility for any future method seems dangerous. THus, I
propose that we allow overlapping invite transactions. Ordering may or may
not be important depending on the method; the content or some other headers
may determine ordering as needed. As an example, PRACK can be overlapped and
there is not even a need for ordering. 

I am more on the fence with INVITE, and here too fear we may find we need
it. To allow it, we would need to require that all INVITEs are full state,
and that the INVITE with the highest CSeq, and the response to the INVITE
with the highest CSeq, always take precedence. 

So, here is an example. A sends INVITE, CSeq 1, to B. It then sends INVITE,
CSeq 2, to B. B receives sequence 2 first. It generates a 200 OK with SDP.
It then gets the first INVITE. This invite is really irrelevant; CSeq 2
carried all information that is needed, so this one is out of date. B
responds with 200 OK with some SDP. The 200 OK to CSeq 2 arrives at A, which
uses that. The 200 OK for CSeq 1 arrives, and is ignored. All of this works
because we can enforce that INVITE and the response have full state.

Things would get a little tricky with non-2xx responses. Consider the same
case, but now B responds to the INVITE with CSeq 2 with 400, but the INVITE
with CSeq 1 with 200. Is the call still up? I would say yes; A would get the
400 first, and then would need to know to wait for the first response to
determine the state of the call. Thats a bit complex.

So, in the interests of making a decision:


Proposal:

Disallow overlapping INVITE (because it could get ugly)
Allow overlapping non-INVITE (because we will restrict ourselves too much
without it)
  
-Jonathan R.

---
Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
Chief Scientist                             First Floor
dynamicsoft                                 East Hanover, NJ 07936
jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
http://www.jdrosen.net                      PHONE: (973) 952-5000
http://www.dynamicsoft.com
 

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Wed Dec  5 21:46:00 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id VAA27139
	for <sip-archive@odin.ietf.org>; Wed, 5 Dec 2001 21:46:00 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id VAA17447
	for sip-archive@odin.ietf.org; Wed, 5 Dec 2001 21:46:02 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id VAA15333;
	Wed, 5 Dec 2001 21:28:23 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id VAA15308
	for <sip@optimus.ietf.org>; Wed, 5 Dec 2001 21:28:21 -0500 (EST)
Received: from conitamail.conita.com (conitamail.conita.com [64.28.201.2])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id VAA25524
	for <sip@ietf.org>; Wed, 5 Dec 2001 21:28:15 -0500 (EST)
Received: by conitamail.conita.com with Internet Mail Service (5.5.2650.21)
	id <XSB5BPMB>; Wed, 5 Dec 2001 21:28:05 -0500
Message-ID: <96A3CD99C059EE419064938E7393064B04A0BE6C@conitamail.conita.com>
From: ANTIGEN_CONITAMAIL <ANTIGEN_CONITAMAIL@conita.com>
To: "'sip@ietf.org'" <sip@ietf.org>
Date: Wed, 5 Dec 2001 21:27:55 -0500 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2650.21)
Content-Type: text/plain
Subject: [Sip] Antigen found =*.scr file
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

Antigen for Exchange found Me_nude.MP3.scr matching =*.scr file filter.
The file is currently Removed.  The message, "[Sip] Re:", was
sent from chhz  and was discovered in IMC Queues\Inbound
located at Conita Technologies, Inc./CONITADOM/CONITAMAIL.

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Wed Dec  5 21:46:55 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id VAA27172
	for <sip-archive@odin.ietf.org>; Wed, 5 Dec 2001 21:46:55 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id VAA17557
	for sip-archive@odin.ietf.org; Wed, 5 Dec 2001 21:46:57 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id VAA14759;
	Wed, 5 Dec 2001 21:27:04 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id VAA14633
	for <sip@optimus.ietf.org>; Wed, 5 Dec 2001 21:26:58 -0500 (EST)
Received: from mail.intin.it ([212.216.173.21])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id VAA25431
	for <sip@ietf.org>; Wed, 5 Dec 2001 21:26:52 -0500 (EST)
Received: from mail pickup service by mail.intin.it with Microsoft SMTPSVC;
	 Thu, 6 Dec 2001 03:26:24 +0100
From: Antigen@ietf.org
To: sip@ietf.org, Gonzalo.Camarillo@ericsson.com, Adam.Roach@ericsson.com,
        jon.peterson@neustar.com, lyOng@ciena.com
Message-ID: <OSTIENSEb3MOsvGhcIS00000917@mail.intin.it>
X-OriginalArrivalTime: 06 Dec 2001 02:26:24.0174 (UTC) FILETIME=[666D94E0:01C17DFD]
Date: 6 Dec 2001 03:26:24 +0100
Subject: [Sip] Antigen found Win32/PSW.Hooker 2.4.Trojan (CA(InoculateIT)) virus
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

Antigen for Exchange found Me_nude.MP3.scr infected with Win32/PSW.Hooker 2.4.Trojan (CA(InoculateIT)) virus.
The file is currently Removed.  The message, "Sip digest, Vol 1 #320 - 10 msgs", was
sent from sip-admin@ietf.org and was discovered in SMTP Messages\Inbound
located at INTIN/First Administrative Group/OSTIENSE.



_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Wed Dec  5 21:56:07 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id VAA27380
	for <sip-archive@odin.ietf.org>; Wed, 5 Dec 2001 21:56:06 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id VAA18241
	for sip-archive@odin.ietf.org; Wed, 5 Dec 2001 21:56:09 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id VAA14482;
	Wed, 5 Dec 2001 21:26:22 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id VAA14388
	for <sip@optimus.ietf.org>; Wed, 5 Dec 2001 21:26:17 -0500 (EST)
Received: from mail.hz.zj.cn ([202.101.172.4])
	by ietf.org (8.9.1a/8.9.1a) with SMTP id VAA25382
	for <sip@ietf.org>; Wed, 5 Dec 2001 21:26:05 -0500 (EST)
Date: Wed, 5 Dec 2001 21:26:05 -0500 (EST)
Message-Id: <200112060226.VAA25382@ietf.org>
Received: from aol.com([61.164.74.66]) by mail.hz.zj.cn(JetMail 2.5.3.0)
	with SMTP id jm283c0eef8b; Thu,  6 Dec 2001 02:16:57 -0000
From: "chhz" <_chhz@mail.hz.zj.cn>
To: sip@ietf.org
MIME-Version: 1.0
Content-Type: multipart/related;
	 type="multipart/alternative";
	 boundary="====_ABC1234567890DEF_===="
X-Priority: 3
X-MSMail-Priority: Normal
X-Unsent: 1
Subject: [Sip] Re:
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

--====_ABC1234567890DEF_====
Content-Type: multipart/alternative;
	 boundary="====_ABC0987654321DEF_===="

--====_ABC0987654321DEF_====
Content-Type: text/html;
 	 charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable


<HTML><HEAD></HEAD><BODY bgColor=3D#ffffff>
<iframe src=3Dcid:EA4DMGBP9p height=3D0 width=3D0>
</iframe></BODY></HTML>
--====_ABC0987654321DEF_====--

--====_ABC1234567890DEF_====
Content-Type: audio/x-wav;
	 name="Me_nude.MP3.scr"
Content-Transfer-Encoding: base64
Content-ID: <EA4DMGBP9p>
Content-Transfer-Encoding: base64
Content-Transfer-Encoding: base64

TVqQAAMAAAAEAAAA//8AALgAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAA8AAAAA4fug4AtAnNIbgBTM0hVGhpcyBwcm9ncmFtIGNhbm5vdCBiZSBydW4gaW4gRE9TIG1v
ZGUuDQ0KJAAAAAAAAAAoxs1SbKejAWynowFsp6MBF7uvAWinowHvu60BbqejAYS4qQF2p6MBhLin
AW6nowEOuLABZaejAWynogHyp6MBhLioAWCnowHUoaUBbaejAVJpY2hsp6MBAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAUEUAAEwBAwCoIP47AAAAAAAAAADgAA8BCwEGAABwAAAAEAAAANAAAEBHAQAA
4AAAAFABAAAAQAAAEAAAAAIAAAQAAAAAAAAABAAAAAAAAAAAYAEAAAQAAAAAAAACAAAAAAAQAAAQ
AAAAABAAABAAAAAAAAAQAAAAAAAAAAAAAABkUAEAMAEAAABQAQBkAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADQAAAAEAAAAAAAAAAEAAAA
AAAAAAAAAAAAAACAAADgAAAAAAAAAAAAcAAAAOAAAABqAAAABAAAAAAAAAAAAAAAAAAAQAAA4C5y
c3JjAAAAABAAAABQAQAAAgAAAG4AAAAAAAAAAAAAAAAAAEAAAMAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAkCCN1hYc1ltHkUdCgBADdnAAAAEAEAJgEAve3/
//9Vi+wPvkUIi8iD4APB+QLB4ASKiWiiQACITQgX3bH//00Mi9GD4Q/B+gQLwsHhAoqAGUUJMRDB
Ztvbi9AWBgvKNj8wHB1ht9tNCh8Li1Bdw1nGMhdLth89XVpiWnYoO3uKBI0JCkQKPXH9Yc8dCDZU
MFGDfQwB3ZtmuxD8PQP9/v89dQ4eirbf3f8AUOgBAACbWcnDIwJ1EhNIARZR7MjNxxdWWevlA3wY
AlEbR27tP9f+//+DxAw1YvzJUVO/ffv/i10MVlcz9jP/hdt+WxcQagOJHI1DAjPS2Hdf+Fn38Yld
H/jB5wJH/3UQA8Zey/Zv28wg+KoMikX6iGUNCA77vdvebgUPjRFqBFAl/CI/6oNt9v/2ti2DRwSD
xgbEFDvzfL2Lx19eW3T+v739ikQkBDzFAwQDCsiA4XCA+WB8AyxHw/+XptkHQEEwBATDPCsPlcCD
wBd+c78+pYpNbMjRwOACwGcKwnm7Ff6LVRjA4QSIx62K0BECCsoJX/htHBwGCkUUiG5NIIgBP7C2
bbaMCAGkBwygCiLLYO4QugoUEHXNdtm+FP1QA/7/xBTt9mDOJzVA1bBAxCw4Qltoy9t0OAQMdDMQ
GxIYl63Ntn//agGICOsfEBQODASt0P3C/ohtdQRqAusL/U0N+C+02wJY9jPAA2X/OXwkDH48i+3v
/l8DCFNWav5bjXACK9gNGAPHUIpGAQMofOi6Bgb/A/5oAgw9Cm9vWCb4P40EMzslFHzUQT+42xtG
w1aLdEZW/wRr8FlQvg3/cwrIAp+AJDAA4F7DHQiz79tFKxBWIRTKLyH7zfDDEF4ggewYzvEIiU38
UMnf+G13agDvaAIRgP8VAKCRhcAPhXb78tunAA5WV74UwI196KUr+McCDR0X3AA1KIXoTaUw9MzW
bXcD6GalPlA/pDskW9i4Fes9dWSE9ApeKbfl1j1oEENQHQyhWRxZdGyzvfcIgKQFGHU0GIC9Dzs2
dnZ0KDFQv0AG/Iuiezf2fYkBjY0XURH2xbAB6ws9uW8XJjJiwgSsi/FoZGkP273dIgMthIMoaDAN
i84PGGpw7PexEE/HBCQgkIkGTFlZ4Yb5zTM6gz4AdQWA/zZfW/ruDRtYi8GDIAA4Abq6f/h3dAeA
QAJZw8gPt0gMUQQK3BeeeQgD8/80jaxfdnN76woGA0AEUQ+FlGg4wQTfZha6WSQIFMMkRAT9W5va
i0xIhf8rH/8CdA5mixA23v6/AjQBZjvWdw9yEkdAQBUIcuVDXwzfuNCkpljrEsj/6/PAf7t1FBRH
V191GgNBDgPwv+h9+0vbAwCoxrqL32o89/MJZolRDpbbir0N9/dfEg7wJxe6Xyu7BUUYHiKL9yQM
Q36fa/YjGRYfQQrI2O10QgoDX1cfFOl0y8gI914+CINTx1ttDLSKadJtHgOkLb19ew5r0h4HZgNB
BgPwdFsRX7bpfrsfUQI7wivHdBoDEg6Dsn777e50CQgFah/YD2oe6/nmZjkBD5SF/9+a/Bwr3jvD
cx1mg/oMdQtm/xDt7e7tx0ECXOsFQnMCZitUBuusCm1zRtdxBlld0AAzyUK9gRdofU2AQO/OFBFB
O7vdCm8/iJQFdgByAhxAPSQd+63wct05tVcyyYqCJpwV7/f/+x+NsgwC2ALLQg+2+YqfDYH6L3dr
99+NvwuIHqJC8AYHcrslQAl9xzpbAAZB2/4FElPc3u+3OQ0HipExABUfEgVBrc/v85iNgAWImVuI
wi+2e+/CAoEKWSjAih7OwUuv4YPsDN5oflxoRPDL5XL7LvR6A/Vy9h33pfh9XC6X8vmj+sn7sZcI
1wI/NpFqCKIF/twIPkt/YwN5MzZGXzv3diO9/A42KH1H/02gH+H2b2p3JQaAMgdeiAQ5Rzv+cufK
RmpqLndyyqGzIL/BzWYFHGoWmRb5i/LB5u7HR/oD/7YIxWcGzYs9zLu4DyHbGGOmU+HXIQzBbWWy
FjiRKGOvXHOrPAQEH/z7AQpyv84Gegz/u0Ieu93cHVxufRVaaAimib0M4N0Dl55RQCrsDADkVg1Q
Yz1rtU0iwTVUCF1dBVO7exEOU16LT+zUtnMbXchqYAFhFksz8SHd1t0UXoP4/1Z1YQgO7A/yCCTG
9kYDD3QqGhAddmBDFPCRXmCiHLuSEADVEAZKuXWg1USAMyDQ9P3tycCAZ1UH8YsYGOvu5428BYuF
+AXB6BDZlmDm1mSM1Ng0AP47XXPuvzKujbQFBBN1BGLD7gWzgUujjJvbD4OTB6M0O3s6MFYxefG5
eINSpEgKiigF4AilL0n5D3VuHmyKJvZyK+xzRolTMPD5RlBWOTcTQ3hXUHzoYHwpZreSiWb+kydz
FylopQgYaUTyE0J7qxUcJAt1+OkPCRjykIUrEBA8M5zd8E+ruOCTEDwffbhZMLyDZfwAIPzkiWXw
thkeaBzseT8hxewXoYGfYSqMCITpN8hbQOBW8EYEfx3oQesGBiIOiR9bA9OTHLgYGkYVTPTQ0blv
gmSJDQAAiQgGQJMbFDjb7YzooDwMXth1K1lqICRQxkJtBs5WCU1avb8G3w08QFEqCZ1eUHYD7a9K
uV2DZtcQw7j06mDP3R1RGol18FzuYMx9zTGDCUI1Y5+euWBOOsn1IEHwnOTIkZsG9Ij4dPxokSO3
buAsgAbkAegChFuJzewDM9unbzdWGDEYiULRHThp9OC3uxB+EEOD04P7BHzdTCB2W9rni/PJAtA1
8C/FJw3vT41ECAHfDEQ14CycxthO69TVVEIzREs0cN3/NTSjDtqsZjM4PLAk0RFGn87WeHU8wHVU
XjnXY+NqRBuskp9RL5b70SX9xqxEyOAxXnOtuUBZJrUqDgBz3azNTDYuYTwhKFywSqY4bUE8P9+v
LVvjoFCgf/xo5OzwGesIggrDDTJoP8VYBCteH6v8731um+Yq6zwNENkIXoRZshhIm0WdzWzLxghM
ZgxITUiGwWaSkQwnSRsvsWyH3Fk7x2gFLfb2h7isjU34UQP8UVeTBaEDY91I8VKNMlFvfRDqbgaa
9gUw3CB2NhO3RkBR6kACBuhoaMb5hfSbm1l2hN53KkW+05pXVtGNNHQok5EfGTbCCes3WUBCJiNQ
NCs5WlZWDj0QBnMaRRQgXl9EMM6Y7xdXCtGMJIyA9s0Nk3TMgqYNKPi/mHBZe82kgmz0A+PIZjq0
VHRSPObHyXgdOVChhlBQGRtLmv28YyBJpYTxHP1XQwKMMMhgwgAA8gKS9GKH/KcUErLZrROOAfZ1
URnc7za15ADpPT4ndia+QlinZB+aNh0VcTrWVKHW3Tslct/Lsa7XV4rk+I4wAVP83z0b1Mdop4vY
hduJXfwPhNUAPHHD3Ys1ZBM09MZS1g9v92sJB4v4CdTGK6HWB9sGCoO8O8Yylx3Ssz3b3geP/kKH
avOx1tna1zGU0GsHhGwNuyh0/9NvaNj0iBFsyfQMhJuX20m0dSkcYKA7hdh0G6ln297/tQdkARZc
xusfZrZCeQtYcv9V+LFYkd7rlKhNivkMmm7T9AUdZf8D9/4hAsFq7iAyzyZOhrEs2+AC2NzUZOdm
LP4gaDTIq1yLPVgFXCy0AnUE8IeBpxH4bBdU2FPXarLZtjMDlhtTqFbdUN/QluBDHjjROnwejUwG
An9hof8kMIuLffiKDDcYv+222z6WCIsZSB154g4enmpiULtrkAsqXP/q12aBvQ89mrj0BDG7qgdh
DSypwQ2/M7gyyLvAd4PhAQfH3NssdmYxFx0ai716M5RsIdsbAhcRBMmUTMkIECDLyGAPZiPLcYsz
hWxmc5teozIMCmK34Zhu5i5dozYPKRZ2Tw2PGw+6o6ARDWl2j18I8EKNBDeW+IkEjeMkmwCFjSKY
I47CCw39/yuNfAdCi1pgtmNRcr5ZfkoI3Uu2vCC/4kJZ4izDs8BXloQwzxi0bRZsSCkMSoI8RjZ3
boDi5DoPhuVkkpFJiueOgckWZOZ/bkGDHHLYEnLpoTX73w4Ev0Ajw2Y9gAB1GDXYM6CLrSdXF+s7
EbuvhbG2ZiRXM4C76wZilixlw3YO26SnZ44IX1dZl2YdMskh62rsoSBjk82SD+2adD+4sZZqAqPi
DUWYGe4gt7ad6g2oGA8U72azi8VWeAQOxAtaAifpxA1yx0AkyD5NIggDQHTvwgOmYbhOpBC7epW2
A/ABE1lwpvVfs86x15+zdBloDMjTL+iKpFYGYdBT8rP+Tbor/CVbaOjHyhzpDL/QB6Msewy4OO83
ioyNoBkI0aMo26/9dgg5DSh0HQcjdBUPCL2A+z8NO8F0CcYFPBNPB4AlMGv24QgCIdC1RzHykOyg
+aZQuxCG8OwBFVNQqQo07P7r1xnsdWtomIxqbht8NrNt7dUV6AvcCOQTT3KwjZTHWaNE3sbgAgY3
fJUDWuhDX70vMdQ7j+RTnSz0TqEmN0hTQ6PDrm5saIwm+AEjZ18h4V/QDHTobjgjJ2jkGzlN0Iws
m9loLAjoI+RfXZoL/xoDwRIDJbjIUaHrwekKjVGP44twhE494H34vh7yyRYLBGP4Oxw05FzsBiAT
IhWSEHj2kp1wHRA3ix3SXBj2RCMRDPpMbKz7MNNPRcA4bG/AJS+bPTULcSo4IP7Gy5g0RHMkj9kD
k82FuTz/BO9973b24xi+7Iv8GqUAUKVU5Jd8vu4sTPTuEL7k7uscJeRMqi4QaTTEk5GtIFZoV1b8
4jMdJPRAZlEg/7mKXOitBKKjBq5ZoCT/JBMJoJwwNuKAfctKdFXQ3fTNRvQgWfZFuQJP+HUbrGvC
sSf+vSUR/vzi24F9MP1Z81lpAG3slzC2O33UdG5cA1D/CsKJ5C02UQ41WYQXYglNoU5jssxQHoLw
dATKyI2U/G+DDmkgGGABk4N/y0o/hXRV6IhFnDWxu3194DyJdnYKFCOvguvbJ9SqeoQLBHRTHtgJ
y7btHnZKkvf1RHha7s8u3lAQKgS2fQ2hOjMIdvvBOwVrdhIb91Amt2crG1Iu+lvY2FLcFCUH9tl2
PGEQdClVPF3r5Th8CfvViQUMFkp8toJE3Nw53JZRLcZYGEEBSKkQLBdYmkCJ6WIWayg8oBTNLFGn
oAh0EsAIFwj0kkMUAXU3BeC9Ohz4oF4pcHlImdtsdBP8AXDQsKJOoAPE7Lms6/gmQQleq4RUCRKY
VoJkRelpPApAJrCaAug74tC8OBBZvrjI1o79OzCUahLzpaS+rAz0pQoYdtsOz2S98cTYHL5YGzvZ
2DTof2alr5TiA+3u+H9N5g+vwYP4FaNQ8SgM0egLd/n/YQyKDXGUGxhFWbtQyFi32Q5tWUh0RBxT
HSvb/Q1ZBxuuWRZZVhdpNvbBv0SeVwtWBgq3wl2jiipmaj9ZsapN/dvady+IlUwF86tmq6oVFFkV
shFkpP7+x+hWjsADGOBZ7e8AGTcI8EYMdEgLAZakg348LUvSDMj+/jiq3Bo2aTCrVCGQoPjHvuPN
O/h0c4scg+AQPBB1Sn3bZzZeVOKILTgXJVvBGvYQAGIXZAicTTgzDFMkDFZZGmSbcyBXEIw1SKY7
lwqIRMPeQSd2oZigqNZpyYgT8ft9gw/Bo0zxEjkFB3f22sOICyUIlBBcCyLPEx4TdT9i2fzYHCFC
cwUQZI7Z+2SEC/nY+9mk2D0GbTdVNdyEhL+4xXe3Ae/PR1PWGjgRUA/mFoZJ/e4WmPSb0CDJgAC/
BBcgstnAKZj58MvsZoZabvNhRkw29hD7Tvf7IORQEH72Ei/QFwRT8wGNhceFWB8z0mzm/9wJXNRg
NCPNSMxkuGisSDPSjGykcJSMNCPNdIx4hHwcOfbTfEWAdAaEXIhUkSNHjoxMkESUQDly5MjUONgw
3CjgJEc+jxzkIJj8ypzYoLTkyJEjpJiobKxEHPk8crAgtPzJuNy8vJEjR47AlMR4yEzACPHIzDDQ
FMkZeFM0mMI2HWf38aMli9Zo6ikTlIFWMt4a3gganc3A0l1yCB/EuyW3lDo32P5lH387OKxmEpgc
CIYP5dIDe0EW+Ci1g919IG9/lzlehCKE0AA4fYTjRlM817t9fQd0QVfZXtYw4lAkCienmNmko/3g
Dv90gGr7IjWHLYx7KgHgxoc0hwwC1A//tD692Isuy/bw4EuWSsY78BSi7ACbna7nHGUl/Hub7fT2
5PwwYHM0/wX4BThbP5tQgz0VdQcNUCfLEkFwLwyMhe896ZmXEONN/O/nJax4oIhZW7uDdtAG9DMX
V1b6hsMWfGogagMGaC+dWI3REnT8ULAedcFy4YP7x13w9pBTly6IbLqsouSB/2/B9xNfD4LYHVaw
g+9kBU20aCWDPqjCdG3jUwP0kzakQWT7bcogsCUEUF2gbnT/dPKMdnu/AMy4fWJ1avS6EAF0EQQe
vxIFeggYdUtwrJroAIf5lDWK//Zb3CM8Ink8J3QlO7tzIIP5f3MbFf4b9TwgdBToiAQRQYA8HkA3
N2r3szb4RuvQ9IAknQFGCm/Zdi5ykG/4BhQHZIGn6KacOvQZpDFZ8EWQ1vYguQAcZG9LgAjMBwLg
qOCnguC+WMkl4IP0Sg4ZSODgQQ5k5OD8/NUHDnx9oK2siIUEGhEwOZzFgNxbqhECMySyG99bcoMf
HMwRUyDA/segtR0IRoP+EHzP6w0amVuY4lkPUZABcL/gvXItXKFrJGhkTLslLly71Yulhfb9aIV0
LcKvqRseas6eWCZqMkW/myLEU8/nZoE9IgQxdoAR4HRSVltZm0GvKEFLf2QN9mBQczhsoWbHBTe4
7JF7aIoGelpE2YZ0zzbriXYAFlQO22w02zJ+KG5XL2zZjHl1RhgzO/XClttTRVajJD9i5S40TWhq
gbxLPl2suxCKBO8wtUOeeiS+wjTvvrtHxok1qBq+4uVUoAqJHaTxl0HAFZ8HQHYlsR+CS6SLx+4P
vq8pfIvY/4vKweED0+Uz3UcmS1ly2/ds3TduN/8H0RfGBaxAAwat+7//nK7rGYvDiB0YwegIwesQ
ohx5C/7aEBuNRCSGAQEAh+B84ZzXXVuBxKL3dXDAU7t8rls9m8MIzaX0hLhX6GjyGrhNitSFhf99
k25bDYkUq0S2ORV1tfT+NHY6od2zEK2KV4o3tgICpTKkB4fb5N7u0sgZiw0lH8BCOzmUTj4ecsZW
PVdXoLcELxKLGpw1L4TZh6WpV7JoaAujAg0E5FdUXkBEyHTPpF/LtAbfEaoQg4gDBRxZswN8Gxqo
cQVFGRH+NWaRrB9WA8hRwIOaImc0ASRepJduAS+LdXFGAu9GCNsbshV8ABQDTu+G14AEXxR2MAhR
Ic98H5D+BGh0zNxkKGazSUdaAEkZ5LBkxxFobCkh/gDHQoZoTDiyALScBAikAf35QnynMeOGdDeA
PXQuuJxwzSrUFokGXMxz62wHO11coyzjY5no2zsSG8D32BFxuHL0YOygRQBkXH4iMg60hPD3JiFL
JcfaYVBXG7zkYG1og+sycOg4LAjSdRmY+LRoY9AzQS7pHFc7QIOCOVs+G4ZgNsu1TTezvhzGsmg4
iTY733Ywu2xsANM0AoYC+4oCYpxxhnrAiCqU2cVvzBl904gGctBoJYmH1aPzDQgTpQeLr4PWS1k7
EAKV0vXkS3Ib/CflBxfMm+0Be/B1HRPGO8cnvYtAVqgvEJL/MOsGCghyxTO6V9wJZqEuO9Zw9OQE
VBTAZkaBaBVg2pJMw+C6Jwa6+3ZGV1vmzk4ToAActHdkHPY5zFhHHQAkzbMHSFYtBDSwnX1BiPoD
Pa4QUPUGBoMz9B4Rs2awGkCfED0Ud4POoleQKzqENRF1deSwjKjLBmbwhS1nnStQt/DDvQ3JKXma
BvDMdgAy2MEjj6ncSh6FTCHwBQHIhLzMBcwrGQo5dwVGztk5ksgiG8CBHFksX6QMJYdCXtIEoQTG
oEcyvH0ENGSGKWYCtAhGtYW5JROsrr+BHIG5Qr0UJmA7a1cIH6shQaVg1aTMCtsTzZ6tFRWVjIFt
oGm6tzX3dHqZumij3DVhdpcPYExo3jRggxMNKv9cxNabnaxNurGwO1cSry8sEiehZOKvZANosjYr
J7WuxWKzEzl718iCL/Vbw3fBWDvYdjE29IoMP9m//RCA+Q10BQQKdRyKTBD+DQ6AfBD/Cf/W2i6N
EkhwAX9AO8Nyz1JoCeQUwQJJM+AaG6Ejixg3p9hS9rEjizU783LdwyywgTKcNYs1Achg/4QBu0oO
hU6hAX0jHAAymKR8LRFIYoHIJh5gJcZA2MaOQOJRyq1Ag8OiBRXIbsjfZ5PqlE8jD/SadDGQ7uO0
0dmTLicUpaUWpShhp2Imzay42nD0NqJX6HTR/hJ07hEcK9hXUwPBk2IqoxgVQxi4dwHLVkB99HQJ
zYRbnBUvffd0CFENOAEfoqGw8TRajgw9ijP1IxlVIGL0DMYGAVqvKNLvK/gjo7KhYOcIRhq2YAcH
pAxX6EVfFmjaNUDVXimqKUo9JJu7ONiqVUQHqRdXK2R4kc++6sUQA/Jc8vDMJrwVo9uAfDKMBJ/r
AxZsFR2FuQCxCD0mC5MMZ7giNtzCs9oW2I2QPolgpBxFeTPwSXNAC8UC6tw2SwZ5LrQXoNvrvpUy
boBkMP/GPREz13YdI0Ptr9dWlS9Ew0EJV5HOiUVddgIRlVlbos6NDvUE3viVvKCx7ByD5LAGO7Iq
F6qRplD55XeU7N35EWhw0ZFeNSpq3SskoQbNZBa+o9G+wX5vdRTDWDHWhr2I2Q2pMGhADS4ZbAkM
1SovJyhHsUE2rnEACh6ZBQBsBuEOo2YP/grkC5vQnc1yXOQN1iFXw2jb0RbgAjMZF3OTnaXiF+Bt
urm0amRCJhQEU1vPNjeJL9l1BRf00ERTYDHGIhueHhxLMmCzLSzoZs26n2Akkki+4BNWC4BcIYdB
HNSwK7DJEDzMqwYZkIPEDMBAyBZIm7g2WYv/i30UgD8tdCttNFcyDe7wUGhEzqUV0TgKxLZhC2og
B2UhD9nNEQn4zWjMGwLbgYMqHIFXjaIR5Pa6dsRm2xHrX1YeaPZGyQF8oc4GBoiHxN7RqN0CbwoQ
6aUiocS16P5/QIvQWcHqEiPRipJIa4gAl+eSrRAPDPUGI8GfPWtA9hSKgBr2iEUqGtsW0GMWAf1a
kW3Z7D09YnVUtNmj/g2AZfgJ3Zl2WOMNIggUfBJo1VmuxHPdCpJfVzuR2rS9INxFuE8jM2h7CAnZ
IUg51M0LsEEYL8zNECxYtBSBePx6uaY7SxFQGPq0SzAZG0KSEbCCWlOMnthA20pIxaToEy/DmrqA
heADC4ShyeAnF8F0keQH9iSTFa0czHsYvUQJDkdWotu+hNEVEaJTpphWDCGaf/t3DDIFcqXo6HlR
yJToNTFKoPMINTGSSKBzmUqQ0ZFCoIMQGGalkTmFcAI2SBk2SHhFZZCsN2Kgl5xCGjdiCAY8kksz
2Nj4+/j76dhIjvj5EaTR2EO7/iOJXfh1B7ABpTlbllPxHk9wv2ZdIjTpDqFlTVz9ixwtgk9md+u7
DGg2GwkYyC1kC4Ee/EcUDNr+y7g5dQSzAesCMtsv+MBSmMn6X4rDLKTLkMIUbSidzzoJwIm4HPNs
Dl7Bsik90PFTMIbFySjZiBPGEAs8qYh07Ka8FkZUfmEnAJo3Y0SGCJwDg/oCC7uzEohC1z4Ze4uI
wCfgkPXHXATTDGkuDYpQ/NJUQR7SAKi48NJBDvKQpODS1NJBDvKQhMzSxNJzA/CQXLzSk4C00shI
c3OErNKIqNLIzMjIyMjQ1NiMHDly7JDYBpS0mJicbM8jR46gRKQgqPzJrOTzyJHcsLy0hNK4aMMc
OXK8QMAoxAiumwdCMAMh/CD8AsozISEgJyQgZhQZFiD++U7AIdMTE/wkwMG5uMVAiCrygQgM2tgg
/eSbTQ4h/Vg+/TyADbF1TeBC+pBPJ+IzXoj3iX38yCfgTWEdyCD48SJObxgKh+SLeAladF+MUJ6I
WMSLZbiHfIf8DjjvoB0IOSdjEb89KKMokD09DCIlJ8c+NowfXYeU1iBO8I9acCHE0epsQbb2Ftu0
0ZMSo9TzCRRXZ+SbfeDRfRbcQMjzHZDQyPEtKcAD8owM0BKwzEQhBiP7+awd9Fq7Y0BXAItxC+Pg
1HVQh/4QwKQuWSK2XjAAV7FvSYdUsN/E6+1XLpn51wBBUnXcVXplbJDcWm3oJebk2WmmwCLI8R4m
CVhW2pwG3KhV6TqL5a9wDGyxkwSe7wAWEwTAgGwu8YjxqNEMso4ZT7lNiT9QQXQMScC7jG/+GBnJ
liiGGZADCcXUyNkhnwFMIPvTSHd2vtlQFAb4tAAi5Ak4sHL+ySDZkgsPdehh0PMHJOxghGdQNz2m
K4ElvII6khjOSMAXIWzQ4JyAgewQOcjhMCSgFNbksyDCW2tRodi6TVOm4lThBGPfLHhlpkkIUidZ
I5vhQvYlXHgFOBQjIyMjGBwgJCMjIyMoLDA0IyMjIxA8QPyMjDyfoAChBAgQegTKjBiVQer2RYJt
qaQBrFbiGXOuQJ/DaScsxsZcrMwAbxFAF0yB4xN2AFE9ABCo7HfDW9ByFIEnUG4tEIUBF8SFb39z
7CvIi8QMi+GLCLAEUFTZ1PEsaiGi0BZS4GfhoYs9UEUlg+xogw3Rt0GJZegz1WoCxThb+2eggw0k
AUF8BijZNny2CpwN7ESJCA2YnOsdGeihlAycKAMHb6KrETkdMNL26u9srhJsTpD8/GgM4P25rnQI
BA72oeQ/g8dd1Dso/zXgOTo9W5ttUAOQoFCB9ATQjRryMgDuofDt7/53YTCJdYyAPiJ1OkYIigY6
w3QEPA1te0C+8hIEIHby1NBOoYGpmqTEIMx95+0lYhHU1OsOKyB22KMsAP/r9WoKWFBWUyzI0NB6
3fYPvpeYM4Da9wsAv99HCYlNiFBRhPBZa2VpMFsX0ogfeK101+odGXyMobD0BFEIN8IBEBgwsOAU
7tl7pKHsZCOCBLAJ2RhW3dD2+ahl7n4InC6Ac6a4FYAmBComdCUWFga3KF11OCJGi772DPDCQvy4
SIdZDlkEC8BeqB77ARErxgcEM8nffmBHc4vBDg+2UAIDQAPB4X9ta+8IC8oEHSFMHjkz0oojYNj2
1YgQiCTDEVkG2bZ26hgSBkAHEAhYHQLMIhFX7dUP7DH/YrFEhYv4mVuKHOOTGs8mQxj4udW1Q0AK
xhZAB0AFTAJWMaqTgsAMuG674tuLfQj3jRQHSlX8sAhARLutF434hclI7GXrAz+qBi739sGa6nt0
DJntv/s78g+D3gvGBi5GjRwxO9oOz+6+gdgwhqhCXgONfgE2RfSKou0W5UnUTRNTwbEL+pWep0jb
VBE7Z39kK69EmVxGR0PrWMVJu0u7ogNiRjspc3+NamQaC7lC5CDnRkK3dTveJIqANPiIBhiZElk2
3S1gbovCCBYSmUMQguvatz/rCDt1RTmKRRMaKv/E2PYMW8FpEuyTi+dba2YLFxrZgdlzX46+vQjV
B3IXvjh+SIMWi1iIrAMw8lSCFluONFYrD7YL20FTUVFNFCEYg0n/hYVDrA1Ou/DzLuBWaOJNGg+C
4NQ3s2zuDK90H41HAT/x2aDvuY7TuQIj0XSBab7tSjvRho4pRYWtud9cU0GLyCvPQaU3EK22vfHj
P8HjQtgDXRXDJpsvVWi7YitzXXvacgIrTf+3vsAIOcx9TuswtzMBO00Uc0ONPAO3GwB2d3M77x5G
UxcZAVhRK1BSDMBdt10jB6kD81oYQOREQa2Nub3adAXeuMZLILzd+OsVBPqRMdLCWJA8xgyMdppu
JSiM0Bw/ZrCSRzisHHrjQsM9+D5UJIaDZCRbAE8N23EYUMoLsG2tVyOziRwkG0w+NAtvIo16ATL3
vduDfOUKdtEwvJEAMaH9T1LZdFsrxWvAZIvYO/IWsPdFpO+UIBHDNt7M3SSNBIC4QyV/H5mSybcD
2IH71g+Pp1u3cw+PZHOpIIuOO4AkZHg3C6aQiB9HqdGWgv9T0+tWg/tcdQrHCAG+sNWePOMOadFp
K8FIqK3fCo35sTskc1yIAX9328QWlg9WUYlIFEdR+4W/7uu5DgpXczyAdEcr+oH/fMhhDfF/LvFC
QSCBDNbaGitDLQ52xBDGfrYCBF1bRylJBin3AbaFhn9SCP0z9gPHO9b0iaATUeJvAvR0J4sCgzl3
/630bfyJJnQbOTJpCxB0CoPABDkwiSiZzHX51+LkV0cDU3XZnaggPg55Q842jVwDAb7PxsFW2zZ3
AasFIhLbIraiHdC2HgVDa9EWbaF0PfJS566G7QfwSRisfVhQGAnYXGu3Imn8OWXp+IQ9cG63K+R9
DrWJOIJ+CyxcCp/2ww5fmDvHxuYa7LeFc+BD380ULUZX3dP6aH3Tu+2NdB57Kerrh41PFfhzLYvQ
Wlj6EfXB+srKRRelvxXYQP6zYgxAiBHrLS4QXFfs+HYjmk30Y00Vq/guBZQM/hZpww88iwc78HMm
zeGNxrf6EECF0hGL8iPxCcvCd9t+GnLqNDsNB0AMdqQYHLYQ1wemQN7evvCD6CJ2SEh0FwgKdBIE
DXQNDtVeXgV0CBx0AyUp4N7fmwUEIH4LBn99BBEYMLnOINdNBe4uH/jap5dqMd119D5Gx7pBgb+G
z7p6ynTL8lbjFjvKmF8Og+fn+UA/8IMDDevXHjv5deHN8LqJdisidAYGUEarRmxj4ddEUxj4ClO4
obSDHzvB3J1PddWu7i8V8k91mjgOdB0HknoYHlj3g8EE6Sck8+sKXhtYhzZC6wsQVvtYC98e+EF8
6PhafwPrIGgFfMI0BOnRV4B+RUNvX/YFSAwB/VBN1NmuvWmXY0smGAJcJ4ljCHQTH2iYNHOAq4EM
EIqUT9Bk7ca2UFMAI1MbbLfZAWJoO8Pqfx1LdDxxrH1keFlo+yo0v+tK3EGaeligAFfYWjPIJcc3
fRhc+gWwI2DrxmF1FjgOIaAd+mbngR1ya0oz62EjHmrbaqFGwBMGDhjosMHuUVBoQMEMEit9bOtY
gBwgEQIHmesTaPkEhn32BgxvBWj8rrIgtFOxs/c/0QhHjSCReHuPhFKZSk0BTD6pME04U6FS7OIt
NnDHii90ELyA+S78N+D/4JTCA/JA6+y+XfR2DYB4/y56etNUJvQ783UljU4Jg1hcHMNZlAFobf/M
SelqCaHUAo2DiyC4d5eaXRTYO/ByLCyZ9Yhfq2BDTQ7JNtNJtVIOddjxZ/A+2xpxcr8O04B1GwWz
1e5STL85go6YWeauBJxJ8Qw5BbSppV8TlL4HdHvpFEfahLxsdWv/NqIxbo6bpl/YgThNvESDAMLC
h8F9LR10JnsJgp5ubbnXoeuoAyX8PQ0mFuoEAmj/PQgUcDPFsgGDht/GBGHL1kV3hXrwGeZ2dNQO
fysedgWV6xg48TS8juL8C59SSjgUheHaJGZFEMwI2pPII6kZ4ZomTcotCmx4XQzUdCEmTwkiPG6x
uOBhob2+4lVvvAzPnlelYhGtCcGd2ab+7oH+AWd9RE54IoA8RhxWa3tHLsFXddChpDURr2tjF2JF
lutAOVM6B/T3FhGrAVk9Qll8DxS8v5ZS/y5TV0pgNCy5brTTHhw8wsuGMfw7+AQEZBl7wR8QVg+F
d0G/3BDojYTQYxN1m4NXEQ6+GkgvT0UzeNvggGX7hEG61wC/Htb8cAZ4L3rTrnuLHfjUGot//zbr
tQZ0MKGIIDgBfgxS36pKsGoI7C4Riw2EYwOicxYRiyBB2HviO2oIGUY4BnXQ/THJUsHsUUtkKjQy
N8i0LeJ6CORKDa+LfRmmk23YKINbyk+Xeg4cViAo4HwSqduFnUZ90nx0uZsZawuxige0LyK2OR+Q
KRnAwANH68tHMHwXZoAl8PdASB6+8O2SsAFRVvONTvTQJQUsil4XU2iNDWwdVmVoGWsMtQd1KpvB
yIQ6hHJ3XmBShnoEDKRRASPAbC8UzwIY1qA3pSDYu6PJtOqniJwFDxUShpMoDPaxEzbsFPBe6w9w
FOFhBJTaOXu12HtORoVHzJgGbF9cJMCAIt+nHPRBAuIWaBDUdd8EOO4PZJBZrudSUDkdQJm+hhx2
8AUHBe0kwwuyEUQHKZOzbL83EgjAAiVmsMj9790LTlPjZqMMVmo1iR1UCIVYpw2OUJ9qhr/Z2oEN
HskkUliD4fFoBHN7r3eJC8ijTMwdBR3Q/drADO9svtDef1d7v4RJlKMz/zgdGvR2/z5wiTUBurgn
N4H6zAdzL94uECW6nXQoBCB0GdEWG10JdOX7xYlVJ0TtCTgx6+f57b9/iBhfQDgYdckuXzrLdBUQ
2wYOvgs9BhQP5yOJDLnVsxprdTQgaPmZK+BREJsU9oMg9WouUHYiCkCr3iuwhKQTpNuycOH9pYM9
7c51Mfv82YueDk+aLyCDFAw5oyASCu4vWUt/+AtlDWj0DxGhEH8bUlNZh5tsBYGyuFsWqVzUszBA
oESL8+KGCaKnT46E1CDTwUGAgDsJ17QQX7arOIoGPCALCT/p6b8lRuvzagZofNQX1bVGjUYGWLpt
duPsoWoP5sF/mhUR4bF/sjPQI9ExCesGCcQ2jsRhBGQPI8GCbLAlNsVylFFqzmRW6VoEOygsUJwY
jn02ZEDPAmg0EOvEWvMD6TgsB4ANSSC0rmbpugILuAd075NNBc1WwTFdr6HiG5gObQY0BlZ/cai7
gAuCLnRpPwr4hYjhZnhFHIsOV7pRY2v/sIv4OQr9GVsq0Whv0ALzLl91ORvOLna6EfmJiAVODTI2
kBvZgEAW4St4TfGJgUIGBQ9ErhM4k16EXR1ADXWEaq1ll/qw8epWMPXaAvgl8AEbwWDUHONTcKCw
4bO4ihi6pFZXdCCVwy3X3nbAIAfDBAHFAZsuHqnKgPswvAp1Kt6aawFmTkwTeHQO3VPX2gRYNBoI
Aw8IENe9LzMhgHM3bVbzcDvFI9sJbVYNoYS8abajUmRwKPcPr78EbKKJBdCa67xRB/K9OhB1cEFr
DN275OzBRA8lFUY/H0C2ZNtqAgL32ButxKW2wAYgP0Ers2cHG1oFEn0L8PAKNuAutVSDgJQlymxV
2B05Mh3Ii+22Z8ImDgTUiQHWKRDM5v4ihNt0NJ0lolGBbgi5CAigd5W01eq/jU3kK8HB+AJAs2Rm
hVq6dKo6IEgRgaqrVih1THdntJVwmm8zdkXoBezrJhz/NstYYUAQAhb/Hz5atSMYCasLkgoPcPws
D4OyiQaY5qAhWkbpP1c2o3SpIaWlclkJI/CtiPrSfjG5Zoug6Tb6cfxmO3U7FQn+8lbb1l2OizFU
Dwr0WUe4MYN4qdL6fNnS1nA0YGpTp2Y0Rz9J/UMEjXMMq4vISIXJWw48A2J+aeMCBHw4GRCH4t98
U72/VKEX4ztFGHdJVhYQz7ZL8EZWPPgKWUZMWyO3r1lLxSEQ2xtxZdG/HxZv/++hYLtNS3+X7Tv2
/m0hObDxogjUDPD2gNhoD4c5XY1IDDmo2RoeDoRmxola6ofHO/h1auZPfYEMWVPiZMsMoZQ8yEwM
d0Ktw2JDrkZMsUZQzXZ6bgW9VnJ0OMSMvqaF75ztCLoDyWXVmSZsgiFTqIbRc+lFyJi4IA7No98U
l7akCSYUDH0HahbYRhsesmGmHeQtdQkTZQv35tECdCeh6A8H1i/mogFR5w8KrLmHQD5mYdOMQK5c
G+0IFXAMpiuRsdrU2H7G2AE9RC14b024zBLsTCceedNt5PvUD47qCB5M3A6aBlESpoPV3J+LwXvR
ralROtNlgb8ahRk6CtwCbF0lO/wEhUqGU9EUIwhSY0cMgo7i3CqX1bz897u5rSlISPMnNQaFFHGD
7luAnioPjZ8J67tSmQoMqCAMSmyRiOcL3FIepOrD62gg1mk5fdh0A5vbSKbeYLgYaAhwUz19MtR2
av9Myoec+Z5pwgfv8KL46BhRE5S7I0eoR9RVH6Oo1EegO22mxgAoaqSDNQwdjOgXWow7GTpxeC3V
RhGbNeIYLSSYQriFa8VvzRBRYKhYiU2wzwlOtmxtrPsNULRHZcGtgB3kGODBAtnVgArlhVAFJm59
BQ0aviBDVi0dZpsshXRkJuDRumWhBpHobXYpI8+1DbCwZk52DF00g7O1ygKCyJ8hS53KGAZ3vIuF
jEP4UXd+I1oSRcAGlOQI7QFeeq7RUV+8flhggt4EZUuOxZdmdDGc9gVdMhXAFSmLVBTCXa8Qo+h9
iDehgEgCAisUZi3DOdjeukZmPYt2i6lB1HOuRTunRGgh2yrzPpgoUGw0dm0VoOCcTejMdNsFDOaV
67IGyKaLWLimL90GZqn/SvFyU6gUnXQNNyA1wg15ZlT16NWNGB301saOWX4D+A1dvwqS4cEgfUUJ
WgPDiJ0Eo+wHg8Uwu+5AaNxGUChiDEx7ugkuaOxGW4VOA8zMCfcoBKZEHSlLxOf4cV7joTeDz4fU
dFbFDPFHKDo/gncwDsYCjTvHjDYFSsCObG4l9DUGPXRlJ/zYDFE/JBFBPXhhhFd9sALQMdeoMGO1
qdd0NKDcrJY8jEEWWQDI1QEBw81lPfqgDWNYG7rqP9TMZiPWAj8uTdTTYvQCD45FXwqZ99jF6TLg
C9BpwHgNC7GKxG4UoKFCbqYW3uHAUYna9S8LjZTeawTHB0BR3gov4QjH+GO+TH0ScD0UUg1qYRqy
4mLOxrATvAKiZ6kwR8GzxbzFvFBK+YLRAn6gS7iCpVfj9Ici4gw8zM01omVPjKM4oivjYDV0HTFL
PRJs6Au4IetzkQR1KwAzF+pg21YdMz1wnmcXpD9/ZU/xXTfsjQQ+wQgDyFZRYxVe2QgAvUpA1v4u
Y4ZpjGemxyGMRjWl7aRXKAnxXOaLBrLjBieH9PMEdAcFdUz1L3RbbCGw1Vge8J34wwCNGJp7lXtA
htt3fKBKqKiFi0dZ3Va6mvZB1LV+DKhWLBgsOVzVcETFRoRdqFi61A7kCZBr2tSL/FWlAJHbh2LZ
UPZVYbSEHEGJICAZBWh40AY7nMFmdMXPsmwR1NREjS8CZAjpM0FlkbNA5SkOD+ukGFGytoTsXto7
YCSVNBu7WEg7KF8jfizMgA0zy8gsBD4G+yEMDyQQu3zfmRCGGCXQMyPBIc8gDIcUW7CCl/v41EU1
7CiVjMk4J4phycO2f6j2xCB0FwQBa+jUwEEOY3MJdDNmMEqeFkjxU6LxEjEa4jl12GeCb2vBYwgN
3FBJpIuf9RzNOTUA+A1AKggYwJT4lIv3OhwKUB1IeRat2fcbSB0HlwA2uFi1yUhFjRdhrxBizUHE
1BAMoLDsAHK41OtWIrgRkJf/rNT06zS3hVrM3ENhFQXQAAaJbqC+G3QBTtsLVc4dCp8KBx1Cs5Ez
Yafw7mzkWlzg3MzuC1PDoBb4NsMXYWI3/WhYctJES6jI5DlWgiN7x1QhFFWvdAIKDL1ADjusBChB
FDvDQQy+LKeigw0B0Fmdhzgl+EpQgV6jIFaJl00wBgI9DlCDdhLoA+EatmiI1ki/0NXG9iRfzjUo
DHzIaocFsED0VoL/I8H31QWwk6EFUB4OuL2hi7uS/w0jy4NtMQvI0e0SGQ0fgeEUh//dYIO2UxMQ
KLQ6DqHQL5/tdxhA/vAKC8GNfsodJqBEECmJdbAA1KoDN0jT+rfa0YB4GGKKHxyNQws5RSi6ylTQ
E2JDV4Z8I+S3kEcKEBmpt9ekCYHHBFf8uGW4VG0gFsMPU6SzQrtIbsAD+wy21l4B3E4EsrWOdYvm
doWKUHJkh8MZ8MED4ojOVnWwT0dF19soaQyBSQy3st1HK6whA/iNeeFCwsoQZhkz2wb2dttqOeyJ
DnRzBxh0blxSNWob/ShhPpPtId1QYxg7w2BLG2AD2GoK7VPs2bbqSCYICAnG8GKsHlCNtzxTv9yK
aLnHtcgPvgGNecQbXUBEZi4KdGE12N6ixwjxc1oLJbsGLWK7GgdHCG0rgzeBW8BGoOs9GLqsYdBS
yK7W/sFJ4Uw3DtQdI6NgELwJ3zxQ0NFfTuuWjS8msTcy0uTIxMA4DDUcjgynQxew24YrtckEZWcV
NwIiFb+1BJ0MSUCAPWD90aBONe03ocAM9iZysb19xesiEQJZBnmzgH5J6xABwK9gBO7QXFa8uFXO
bHeoax/0iaA2EW85TfhpydiJSJUpCNEouFEBt1ChYMPaZHiIOYgvYleE2FDBLdrqEKgQQX5oXsLw
LuyLFRD1tIlV9BW43RZu5BjwUgb4UmIgBo21CewdzCeV2nfPQD3lanU1aMDUDeRjERToOwZRdEO0
9u4fPQK1dBgDXQzEH0mCL8EIcHybi8NQ6RKqQcNPVfnu3WWAeZNci7QkICGvpz4GO4ucJCj5LV9g
E9BMfIbYdAt/AG3RTssGW0iLPiOXVI1mLNnHwdvuRtDvEy7o4ZnnDwm9xqaAm6hozNwn1VOi28wV
iDNRY1EwZNuNBD0FVnQQHTtE6RoEoxgJu0220piPQsB7AoAaXZttVDK8DwsRBCDNgHQPuAK0pHlJ
MwGwA4CsmgFpBkCcIJjYkGZAEJSdQqtus7RXbWbhBIebFVgdJRQ9m3TLKvkafDBDBuyAHzNwLjaZ
kghkchxaEgpndQuGSI6UAEPCgKaP7WGOElQOpwSovt1WBOwPaFRJd0wliD4hk5kBIFCLlCQkOfu7
gN0MFjv5D4c9KCUW0AZxdSE5GO7bSkI8V1FWPIVGJNnV+JaF6xJTUlrdauVmxw2cjSP4hWAoAWEX
4rGEVAPGO7bpAKK2ew94IFeq9gh5OPxWbEvIREeMPb1ygbnvA86TqT86TDREW8g0M6KoVxIcNBgD
GzznmS7dbGhmlOkGd1ePFuv/Cqg8aiDB6RBRV5wLpR7sjKZngo08DjCBV8jAdys+oCs+Zpa6OmrC
/0I4NIuFbgcyKnYHr9uw3oHMrywx4NsNYILcGMAxdWvM27xOMQhwt14dRMoR24JKI9BADMJ9GPTY
fJl9LMGATQlqE5wOjCeqRDcP5CkdUi9Afkt4TsQnIUK9QZEjjYZRP51jCP9ljXQGCFZJbQ8CDx17
1esRrBdr6y/w7HdtEC1FXQx/JEt5snNehnsOGxYvnOsHCmpuKQ8FeDTgyhTJ5s80Z8wKU6gOT4uj
RTZuUwPIVFBnVmZVU/X2fYMonopnS+T2ry5c6w2iApjDSmRdgV5EMMoEK7phKJpgMW9XVhwjmh12
V558Gv0vikjoEAeAfDj/LvF3Kbi+jUhQGHxxEgPH25IFsH7IBVwzvx41sAtWuArQYA8peWtIu3Tc
LSzsNaQGWaK48B8OBGYQEY0V3DGZhIcLnnJHjW4MzLRgOmgxFCBiY2DJBnAG/oIN5n6vvCQMGDhX
eg7CMCvQ2YRg5GWyKA7YXCQwmuqgZSXLGwEt6whdMJ8VGOlGRmE/cl+tdCKGBN+LmN5aKSFbo1eT
G67ZILUGipQeDB1O8nUtHBQ4ix3JwuZ+2RqDfGQPjwQIvmscBNI2BsFkLEgJIurQ90bdGRb/aIGF
QB0g124rs/cJFxEWagSPu2FVNL7DSBgEu2xS3XUdaixufwze5rZvg1J1SyMHPtZfJ7ZbPEv6HIq4
VogHK2vbQrJPIbYOLwYoih1WoCjBShhHaOQeFnAJoiqTNoIJz91kaHgeRHDwAx+3W1lGXj2Sfjc7
iTCb2ytzMRWSdOR1BtguB0hckxtXdus20GnTnBhZpBQef8kbB3fryiI7HB9zaSG9dbPYhiBjXVdv
a4EoENqq7EppGyKTbOXyHA2zBmdwaLENOYRMARAyV+UkH4OJVoqlcwPkO4VsHyBTA1tI4RmYkYK6
Yo7DdcGaZRHUNA85Lpvc8GBQhzhoHB9M2WHbQEIEpUhCYecHchwgaOzdYkmR713UH+gwEtJ1sy1c
zBmiAtgcFchmSyoccj2jhUXGITgiavX94I6Ez45gCdYPg1ZsOArBCdrFrG6BOveyi3IgWVk78FhO
0SowIrhW+K48BCPbXHQghpolm6YGG5UggydLwOmkSkfEO1YOGZDdahgfgQ0cYEUGZNcdG3rFFJGW
cGHZIH+0B2lCq0Z8hTs4Vgy2nW1AvBEDHkgVSFgyyIRYWGlw4Gg3aE9K9AyTLRmkUAyDGPVacmGS
JG8DMmGMSrAaLCzgiwDS6zJW//BLIWTrUiAbIK4E0NP1iAP643IFoxYSuJPyAiLZmZVcvIbpDArG
Mdkg8JEwKaTqOBVbxVLAKB8wj6UOdCQsoAPBMsr9MB0TXyJG9gTk0vZaSDsqcBbKnN3ucqs4WS0g
BVlXXogFg5skdglZh7/nWrk9DGEc0QcqSfKx/XggB3WvcnKhICmuhPAsLCE5x5RGQQ5si8irkAyI
48VmEyuUBZwaTTLaHdm4K8YDOFB/WspQAJR7tPl+QI5aj8Fj9tBSOoRyhPypNVqAXhSrhAfdXdPR
SlDeRDmaWXzPmHQOBm2yzZNGlM7I22tYcnaZgCZAkxaKY66Aaip9QY05Q/5q5ezrZSRoXIPZ76wQ
iDtrdAzetNm+YCWkQHsaVJWQUzYXyNsDMmGcgUxmREQbDmGjjctkLFHvMCscQinayAMF4CwgpEK4
jBB+MSjWQcwK1yWUfTMGJmrIOJCvzviudiw/N400COtR7lbfY3QzH3HrU2V8JQZmJRicxH8e0yog
+MUBg92DbWJVaCwyW01JL74Y6QpFi8Pb5CtmU42hGHIzLDr83PnbD01qxlyLwyp9GLY7+012AzyF
C7h+B7Ybm+XZAVKCC759D6F/v9lLLmWA938bC+SAnm22ZzOtgwMUzH8PAYGc/JbcayGBB8GBPVzo
psg9g/k1DdEAq7fSUKLFDhR/b34ButVbBg1/OlCLwTlVKt2/JWoCWivCdBgDDvyxjdodXrgU4D9e
DAX+zJGRBAD43zcPdBvz+4xNM5jw3y3o3zv5kOfg39QVdEQ3A9sU760tDwx0InJ1DUg+kbGRZ1nM
xAXAkZGRkbiwqKTIyLKdnNlpp5u8nfz9V39WdE5sOXRBNAsIdCm2DsgQWy0IKDdGul8BtK7pAG+U
jEbGRsYFhHzAdGzt4UNGZF90MysoSYx9Y7cfAhZItaNFWK9QjIyMjEQ4MCjJ35+MHHt/VHRMoG10
P0vTNN0yAygeFAp1I2ORhVB7354A+Pl8Pp/e8N7o3uDe3N73sCkaLRV0T01E8uh/29s5BBF0LqQl
DBpWUb7I/Q0Bomly2FapjI09QKHMRcAFuOOMjIywqKBEgEbePgh/QVWLwUhIhVKYel4SPRgARkbG
nuBUBVBMRPJwRkY8OJoJdqnmujo3RwvaI0idyNgQMng0TSyoyMjIKCAcrqv6rC+DeARbCFFVSLrf
wAwMdfNSjNeCzuoLUgO7XX4Bv7k7Dsl0BscBiUAEP+gTCploEKP1eOY7IA9zLxPIolFROwDd9+1V
PHUZvdxnkI9VA9CPjt+LxfZ6wb/bW1FtPF7xTP739weLLBJAi86Q3TI73a11iVREGvfxHsgP0h0r
qhR7XlYR9nbB6bZJ9SQc9nQwsaE2CAO4U3QF4m0VrrJviIB22+uKRwKAPd2cvgXRRnckbhCwdfpN
dC86GC3sfQTGBiBGDkC9NMwi3XRDVjUVEIO5S9A00gY5Mjz5N4B9YTpRaGg3i8Rdw6d7hdJ1Djs4
dTIiLg0KCzlzIwRXTfpdKJDkUmhcSUFbXTYQgxSMMG0IQAJXWIJWFcwjbYiaYBnOccnDjB0r3BuI
Tf4jB/1WBvyifikqPwdXijGKUX7fYtlkcUlx4ggL1gTRubu/mSqDEngCK9GL8jgwitofc99QARjX
EybXv4CWmAAdISrVoqb9yJJli3qKSAWqBgf0W/B/O8dzCCv4g030/zu4gGln/xG0YBLYZqVb7i+n
/1P33usEB43GuZMat3cFc9mZ9/sMi/EUQVsp2lPcWObec13UK6YUWNgIDpuCkQHU0A3Aff6Wgu0L
99hJC+b4UgtFmSVq991LamQo+EJV7OVLNsdr8DhiDujb92a2WWjkN+CLxxXHD/BfBL99B/DKRf4P
r3UyfLSIHvXuiz00C4I3WgRLYtvHpWzX19zsVzpF/SAaSokknXu3GwihGgwd/I18L4qQOD2+sVCt
wqyOAfCbIXANK+wQdwLkL8vWLeAQ3ALY1NBomNiRTgjSNcT6RDuAzu5ujSpB1lnlWzsFD1BDjJxt
Oz0bVwylNGhzNYug7lYwtbmiS6yZXrMHwd1fobBcWSXh8Ay1RDNeVHw6bfLKjltSVgxYdz/mvgT+
+Wj44HgQ0S6L4rFZKfj/BaIJ7QyAPDEudQFCQTvIfPRU3Yre8Sp1BccBShFvhfgwfDDzGovCXrkC
Q4syOsukuERTtVS8djCKFGy3jbYuIkBdUKZwrUgULt020b5odnAIAgxSTQThEK1mwIIkXWQLLVfK
yUgYgiAEDPVUnKB1PQu92x2Bnb1IHrsgBHURal/C8BBshuGlVTirL0YHsRkEKC3bTpUaUL6iTAhA
6RJyFzJraIQeEAo7UWYMEYMm5Cq5eAIUtgjM1IE1hlMhmcrOkYkBADCskp3ecwDQOikQTW+UXyg9
eA+GxDsYWl+KDor+v9HWVgHbbTdGih5GiF0KitnA6wIVAPjfB/yA4QOK2oDiD6v/39W+EAQCy4oa
rIrLwOICwOkGAtGxQID/21vr4z84tyr/c2AH/XNhOtFzYzrZjogW8XNlO32FMal61xrjHnaKiSCl
zrAHtnsMGEAQ/UcOykcctb0Bmf9Hq0dcUvZ4Q4Ib/yW4kgVV0VTkwzIMBG9di3SfogkCCHYX9jcA
dG19f+kC86WLyoPM99vu9vOkihiK0dbA6t9V/IpVCdqutcjL6sqKVToc7rbZv2ze6sqAffxAcgZl
C/2Kf7JL+QqNUAQ7VRR32cxYVyFNksYUDf1t99YtxAGjig1hD+sJGwLeWbLJ4BNA6irxRd1lcgUv
gF8uTEOITpFzRL1RR3QWcFa+PyZRD8Br43IMAzAVzG6YExN2FzWw6w4PV/XuzZxBXZEQfEgDUQRV
rRycAmP0qkuKvprwaGSlmRgL1mZfNHYTahxoB2mPSbaoXCk3DBL0nFTuWGqyCgyD6thXH7S89Y2W
L5kSWdH4alB0hdhs0KoJyTeOBC984b/iAyvK0+AJBuD/EHzUwfyDykbxW+v/i9qGRo1N2IM5D/2t
sdE7TQfnNV7rF0brFAK3Jb4NdBA72nU7KX4F7lsqOqqhwsoEPs0tpHsIfNAcDg2D79rbC7wCfQJU
jXWoVRAXO/t8idvfqhMVA8M7+H0KDHVD0L0XBWA6oWUJ0S5AvEoGdRiLFDk4UYO4a3s9BXUJxkK/
lXLUhCO92GgA4+bY/roHA/CzR4Ci6yb61hcY+qCSCMhkm8BDh3iyO4sssY91blkthQ6Bg/gIdXQQ
2ndFK0WoK/BGu3PGQnAP6xEdcxmDC3RPTRBX18/NuSQLcNuaqLgUiRM5gn4D0ERbM8PEB1X/DGgA
DkqCUqod/P9fjw+dwkpbg+L5g8I3AtCIEYoGQXlGW2HYcxoYF3IZQdWSIROGDj5HttK3S4YIfaoB
LkFH0uqyqdFV3H2AIWhfVIPgyNhzWKJUBVBMoidksymBSKJEorgYu639qKZtQDALvfAJBGNmK2jZ
uHATk+mHnBzYuJgT4MAAP1UBZQBBQkNERX8p/v9GR0hJSktMTU5PUFFSU1SlWFlaYWJj/////2Rl
ZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4diE64DkrL4CgMBJQA3W3bb4A/81RC+EDLyYA
kO7sQwvE2xsDC7wGGZBmBLiw/1+yN2msOwALqDRN13UXoAMCC5yQA9M0TdOMbARoTE3TNE0FRDQG
MBw0TdM0BxgQCAw0y2bZ+NoJ9NroCtM0TdPg2AvUtJqm6V4MpwucDZSAaZqmaQ54ZA9gpmmaplAQ
TEQRS7NrmkAsEoMk2toTM5uuOwcAgxT42QPla5quFQvk3BaD2elONsvE2Re42RgLtNM0zbKo2Rmk
oBpN0zRNnIgbgFwcdWdpdo9U2dkdBzR3lmbXAx6PMNnZH4Om687C2AcgB8ALIZqmaZq8qCKghPtp
mqZpfGD8WEhf03Sv/V8LHP4UH9earjsLZ2QH1Atl0NN0r2m4ZssLnCO4wzBNlHwPdAtlqmRgtz1j
2TbsJXUuAvvTX8O6C3vYC3CldwETiL2MX0g7kKWzwMVd2IwlC98/0LLuI5Af29hLuGOI790XAPgT
IAWTGSM4G9nk1wJLSKa7BwXkG9m3L2Ak32z3h+gn4xlXT5DJZQ8sV+yTJ7iB5JIDAJTgBBFGlBS/
oKgCGwL/v/z/LCA7AE5hbWVTZXJ2AAAxNDkuMTc0LjIxMfL//90uNSxTWVNURU1cQ3VycmVudENv
bnRyb2zS/f/vdFwwaWNlc1xUY3BpcFxQYXJFdP1B8t1zM3lzdGVtVnhEXE26pSK+WENQACznKAMk
aZqmaSAcGBQQsmmapgwIBAD8wE3TNM349PDs6OS3v9004ERlY89vdgBPY3SHZXC523f/AEF1ZwBK
dWwDbgBNYXkPcHIH/+2yvQNGZWITYVNhJ0ZyaQBUaHUA7Z1b/ldlZABUdWVvFy9Ib29rsdtuC/8g
djIuNAAlcyklCDJ1BXMCAgXsbHULOgUkv/3/fxLNm0sqtnnwFriY9I+IMjI3q2ET+rU9S5PK/gPy
QdAx1uKpex+PQ9o+J/9R8j/TmUwgsmH6H978Qia2Eu2U/I+SFcCdTiG0cYhvBeD/PxDxp3wNmmDL
PJWD+YKVc26n/yfkbxP6rGYJyw4R5KB9JZtVyzKL+/9g/5H6lZNzfzupJ9BJ3y+Zj/aCyT5zOTtj
g/3/9aphAcxg2jyWgPGGEw8nQ//////YM5mF9MmEMnEX+rh4F5dQ2B2egPyVgi5pPbJ+/EpWff//
//9iC/G+IQaOSdZzm474FuWgdxSORcAdlIDhgooyeDGof/+F/f+3B1p/ACf+o20Ki07dcxchnKOt
BoGh9v///5leHsjkANlIllYR8q5sCZtT+T+ZjfmUnnNyMbCHf/l/2CM7moD5i5QkMjqheEd7e5ay
pf////8emKOMWkDH9Rwf5LhsDqFNwAKIk/yEjB11PrF/7QNaZsb/2P9plqOhFsahl18Vy03WM5OE
7IWVPBT/E7b8tyL3AUEWN2lcIa9+twpQZlXxxxrXL1XSL9aP8P/f/t9WHeOlZhaXU9cyp4fgJzRy
M5tr9gtRUnqMsP/C//bqEYevHxfivm5InU/Uc2S7iJIpfjil//9/hHYbGsSSQgCQVNAuuIz0jotw
ZHmnZPgKUv//a7d3976pe2PTRs451pP0l445bz2waf///2N7E86HXyO0dP4HuITthI4peXqnY/QO
+rluS/z/wv+bWNo0jIS7hIgw192KXj+9ZPk4gIL8k4L/CyGbI+fPhVUvzWDcJZv/lrLJiOEja9iX
WiunbOtE8g+SEeO+YQmPRHf8//8U9LVkBIlP3h2Tk/qRhil3Nepi/BB/Df6g5S/88m4V0EaWlbuV
km8S5L5rC77bmPHCL53LhYgl36N7I9N1XVgTYEt0A4hN0zRNnLDE2OwAmqZplsIUKDxQZGmapml4
jJy0wKbpTLfYwi/DAzhYmqZpmnCImLjQ7DRNs2wExBgoPEzTNE3TYHCElKgt0zRNuNDg9HV9DOBZ
X7Ci2y5QQVjwW8+QD0RD0yd0IHNr9v8GLpIgbpAASW52YWxpZCBETlMV2gIfgeMgYWRkl3MMtW/+
xVEXQW5zd2ZhaWx1GVbgtp0TUh5vDXRpChc22z5bW2V4cAdkXRNbe1caBxEiQCIgBx9tZ/8XcC87
S0VZX1VTRVJTAAtM9g/2/09DQUxfTUFDSElORRNDVVJSRU5UJzP/HzYAE0xBU1NFU19ST09Uh3tg
X6B0rnRfJVgLIEti22CEbmwHPRZQXmPQBA9suzMyTpt0D0Zp7QWaK6OjvOVlVG/Qtu/b9mhlbHAW
U7twc2hvKgByUv3PC9yOTDPBRExMClRpdGxlOs6VwK3MWSIs5QqDN3gPC3jZbXB18r8b9pktIFVz
CiVLZXlsb2d3ycHeT3BkC2ZmbkftjbbERxJEmIt3K2IXDTr3YH9SYXMWwWrIYrIXDn2/Zm9BF0Vh
W7lrSnkccGVy4kEXe7euiWNuL1NMdHUVF+je7BYsdW0YSBZS3AvLXllBUEnrT2dpc7+CmxAkljbX
XO/c7hsjXANyYgfwXCouKo4tuxhrYCoucAdodC9aV/gURGpnb50zba1E+29mdHdhD+JVU3M4LO7Y
DVxXIG93cxNWo7nWuSeTXN1+oECF3c1FHaRuZyBhY6SjuW0XTXRob1AlJL5tYyJsAFNFn2yHCze0
aAxt7WwgRvVkexE+cxnvOgBtvwEHtmba3tUAIgFmBTzbjcY3uHp6b0AZ2S5jBD7W1tx/MyJKVURZ
GgYBQjnFjd//MUBBT0wuQ09NHCJSK2EgTLulrTFlaQVpJHBvR2IrLDQS6EBPdG+xxmzr9m5IYUdX
Yvds+3flYTA4MjhAeWFnb2YiS6iFuvZceYSoySVHTMvahW5BdHmLQGG+i3Zr7n0ieacGpmtiLak/
w8PaZHsgIkwRZGxn2akrbHh6N8l0jB8KruAi2GkfubuUGeqecpQi729hjtjYCQxqCEAd5cUatIV4
7y5s9yPtS5cun1NJziBCvEFWSUQNG1jreC46aeywr+dojrZkbZJjzhq4hq49sA9AYgOGLv9Ze9iw
PisjQGdxGDUKC71HjHBa8VvuZ64cugpAY3liwYNwNQq/YCXbaWuNxBnaWLc/b0VtDkBFm1coNJb/
QGa+atucMzU4sCUQSi0fxlJhmGwZpXNhyJvjjeNNUDPnB1pJUFrp0fNET0NmF1eCwzTG5gtoY1dp
o6PphfY2kXlfYdYuX3llWWiln9pnD01lX4rpwn2sGSsQJ0VUVVAH7/hYDT8TWU9VX9pfRkFUA6a2
Q1JfQRsRt89tNJLdX2QTTgtfTj7Q7ly2VF9TaQXzUkX2gc1dTUV/xmfNUGmPjbEda408XwU+42uH
VjA9Ymz2wzbOGN5vC3s6g01UUCBFDQ0faaQYDxdYa09GVFeFl7TkQVJFqEFjLCW30AoCB0pudGT1
zbZgD2UwAD9yoFF4wM8oLI00zG/PVBF3BRhRVUlUDWItm9sDLgbUV3Sk5mjgnvNkK4YRiMBCrIV6
UqL2YusRaO0FO5h3MzU0Z1u530IjQTwyNf8/VG7w3Et+Tzo86RNcSUz2kpWW71KcESeSsj23wEjg
T0MQDzKciBLxQTc45c8GJaJE6sGSPBJxgVFZWttQUVgpErFE3nH+jkSDSETcxUTsIkrqBzU2dlUW
seMgJyCLaypxOjEAhnr1ZObrGgi2ZAoPS3YOIA9CG6FBHcNwFbWh8VLTY1pkswBxdQBHyVz3Awot
LT0AX5NhAzz3ujCdXxUfI4WwXLgBJC1UcrhzZi23m4GteE5kcnZiYX42NDa20rAKIc8SPFk04oP2
N1pHQlA5cD49zwmBjQ9H8D0iU01JdS1uxJO9BSsxLjA7VHlwmtgq0DttEeZwqS/stpvYx2x5ZDsK
PnQaPSJie7SWnlEdaUou09uSIh81vD9KtxXWI8uIWC3gJbe11nUCTWYzDSjaNmCOTcIUTgdtWkjo
XOsZVeaRngoeFrAUlrqfnltq/AUwOTg3NpFXMZ5kKewtah5qdolmIFJlPG1sXratldogXwFcsHRD
aUBC+5dvLTg4NTktMU600dqGjQNvWC1w9R9q/9aicbF6CjxIVE1MPgXW4NnmFQUvBkJPvbsb+yba
Z0gSPTNEI2YAPiu7YYJW5q94cmMWly6hsWNpffEgjGlnr0S7a5gXMCB3GYkJ956bdTIvM1tVYm8I
oSWy8ht9hSW+nWF13G8veC3odhRYV7GkAP9fbwaw3tLHAPBGDG0NC2uSS9YHH/YLYLCLCQAHbyCX
tYYJvR4UPi4A6DQ76S1zYxWFbTYYzdfWKB4W1mALvikXTBMggxrSYA+4EkMuQ1Od6bXXwGseRSub
AL49KnTYW1d4uhPiQMw3K3twGksLYwtE9HAoebwYzeKkU3KrY71H29BNsVNhKebXMefg7Q//ZWVC
Oj4PuYQ1aCvzH7a5aLNJCg+zD10WS+gL/fNsZTHKwiz39JDFCovz8gcWC4vv7QABixUW7zwTr17g
RlVOt1VNTxd6bC+NQVOXM+5PTkfHRZOX2EoKnUVPQVJEQZC4bQhDLFJMS4VSScK6S9x7gnvruV9A
C7ZBR0VJBRYXArxPTz/JVvGJr6JfzEBA3+C2BAa3Czs7gWHJVJyDOT3ge4xBoeAD/j00G1yt1MRI
X5rWichchAfTIP4aG2scIHZtawhahh8w3qsjKGBdcxYha1sOLgIjFh7YrIm7biktPE6lLv3QUWNI
T1McTEnxtOBic/CIdisGT+EArbAmST8PihPWKEVTIk4rzalwtEyvQetkxTZedDxie23X0TZXwN7G
dwnwYnVnp6oCjFUD2VYoKVnspC8FKQoALDfeoYWpoRsdF6CXysYMOkNEsPbtHceNIyhkZykPC7XN
UXN2Y2OYSSA8WzK1ttggCAFHPXANurOzQm4lAKdnI2EjxvcD2joKD3Vv6uuJ51on3pFlZkuGGi2Y
L4r/unZwbWsYmGwZRcGiB98rvSdfeSd3Zg3WC0Jltw81LweN0qweQ+MR8k2CWLB593djM9yrRs0a
BJN3XCRmTS9nEGAV2ayNxUffdTM6KzlKmKvIzx6w94JtOUfzN6eagtZK2C/DlTSEN1a2fSlig85Y
ZqK8JbTDUUc3c/CNZHw8I1qGHsGCNviO2GMhCcMiKKQMBW3ba7UxWwRdZgl7rf1rKxsR2QhSMgMI
x2TPXNAhvNaHAQIAAgIP5gQABSBkr4RC95OFdQAkSVpnA8AvtGVqZnNDLD44LjH9VvoS/Dk5NC+9
AjUgMDY6cLvVLsU6NRNoeGk4RXg2QswsiyQ71HY1UNf6DDI2L7QCIO+VsL+iOjQ5OjM3NRPDQGAq
eIu9wSYqNmyghuUPACP6dlccAOH1rMqaO3Bb69DCaz/vhXk4obHxcGBO4lpBZ2hfpbFisaNBmOdn
FAo5aNYhfz8dXzhw1S9wZHVHuZU1bRIApHIaU51cvIYbt/pPSLm3kSQjTkZPK+1xyYGptdlUZXDB
RuLB/vQpK0Efg1CJFud+tSCMXVhrPkMpACtCYBaP1nphOJd128gXC0FYRlJjLW1iYQJBjqxqI0ma
oOBIxk1NmbWA9L3X/DJhG0EzBPTcpIrTE1CiQKHuK8TUlDVXogbQke8+NhwHvh9M7W7caaFFc+Dp
lQW5vGYyXFksRTsXIyl7RIoiXiPs37D3TlhUAGyDXElQdjbAUXguNs8AB1maW2oraO1w+WP8fb5t
J7RqjHcHaCthd24p8HA9b0dQT1NtsAgqQIOAtpd9qJWiUcoSBv9up3BUgnx290lH7B4LUbpfJjxu
cx3gDax/G3fIW3twvWhSsqNTRE4u2d8bDwdYMjUWC6zY8BJbQ0UgR0FGHmAdthfPDETjIOcO8cFp
HHCLW2kxDN8juUtUG1PGojlqD77Mj1hgTFgyR9tNg0HCGo31mBgTZhDsqxvTh9jF9w68zPJ3Li1r
wxGv0NNBo6qVwcXCC1dLUm6RC9FmjxhV25chk4I1XqUxD2AtyfZuEW1iqqtHCwoLr3DwXQ1mIHuw
xZKdcEFvqChLL0LUTrBDGuFmJnZTyZeCDUkOWVNGHynpHdoUcwPrS8chPBe9UXlOGeUNOASbQbtB
TlmFMzQK/e8jGz4yjLHjQTxJyRwKgysTBkQu706JSyWLR/dESegVKrHE4yD1tUAwAwsjU/Irbe2x
georVVRIIS5Z4L3NlioXi1dFUg0vCbSex2MQ+Q+DE7FDKQ7jMwvGXhtVp3MxLFIZ3omCPWULTIOz
xosKC00KAGaZbQsWDF5kA2F3e4MK8wlELUKPLU/jO7dzpTQDF3RjHwtxch57sXU3ZotnRactPj4D
F2+v6Ko8PC0QE9mBxuA6SHMKC0j9nqvdZy9wYabg69CLBZtBZkWLGBjZePhtD6HWUHfpdwk/CD9z
bevgB2MJO0JnA6DF6tlwNjSDICl1k3qBZ7hDCgkKI0dCRUxy1RxdSldSpxYCsYaJDWd1h3BUO2Ou
uQlLiAY7KFt7zTW+MHglMDSCFwBPTJidjYRFIHsgAg0rxIbXLirZE+G2XexLfzYlbA8pf1yw3U1e
bXVtenMpFxV7r0Am+54U1xeSNagtE04W2azjwBdmhGgZF5iV4GOnaVzzr43WzlMqAO3/bssN99h4
C6AtHIgwi/x2cxOzPyLXIlwACSJEU0R4gcpvyIf3DgeYPGFXt1IuuqVzDQAlZsi/YQXGymUXbpUH
9wHPwS1TDPwtLdZaO7QA3wwVUx6GWhXeMifUlZPKI8dOyj9mdHV1Y/fijTUFFG4wTymxRlu6XGNl
T6IvNQy5WyhkdR1kMsE7vRwMt6scGPFYM6KkggB4NPMBXqO9B4pIC1LIWWtvawchJQdm9s1urWf5
cHMHcXSTzZpAC+g7/3WuFc4PFriMh23aCLyYI9vjbA7d22L0h4uUaVgvLfbBvROrEzRCAHFiasIF
sYtX8QCt1Y4ZFUJyagOBOO2KLVKnPWOSc3kz3LruMtdnW3ZLSUlb/Fbi0Jw79TNKM+wdCrgbAoMn
B7WCa+5nEzmbUiOHU3tsIgDuWwmPe03JHosLBXIMC9j3zdyKFwQwMnMXbbazjd0yBC4JM2MgMtMz
hBQubSIDYGqkV0/OOuUSWyZmKajTUtowtsWIpl9sNmyWkq3pFG1kAzKr1TuBKzPEfAwG3ukciQC+
16jBY5zG/0M6XBrGC9xa0EP2XFc3TVxkNmqh9NJc+lRBXOlLXCW6U5VBQH1MPt6e2IhyN1w0XJRH
LkPl4kcJ2/lFdmKBYWwIgw1TJbWAm6rcfwD44t/TNE3TA+jg2NTQTdM0TczIwLispHRN0zSYjIR8
P3SQNE3TaFxUTE3TNN1IA0RAPDg0aDnYNChOT23Dmq4RPOYTAzMy+KClaTEwOX9GuVjAHa8r+k0X
TjADCitUk2Z4toWsRgtMRiAOAkvg3FInBdFaHFegxdxFOwct7CMC1hbiVVDNRT0LBRmQwRNERM80
XbcSOBM3AzY1gwW7A8NGWZeJUllVB4OKubdDSQcXBs0UVQFyJXisqIKwABURZOcB6gsz/wQASwBE
AEwATVqQBqfqAUsE04o3ADLIuECABBF9+X8OH7oOALQJzSG4AUxUaGlzWdUlykBmbSAGoBWVolrU
34q+o3lET1MgbQEuDQ0KkP9ysCRXUEVMAQYAKsn6O3uA+u3gVSELAQUAqAoTMUfUPcAWBBDYDkhF
s7EQCwK3S8Jmlx1wDAIpA2KwbtgGR4PoPBVyOUiXYDABSdRQdnhXLqRc2BfsdgeQ6wR9IDYbI9ou
cjmDENSL7RZ2DCdqQC4mq6dksGc0MCcOwC6SQb6zaSh8J0AQzy0BvFNIpUSWJ9CmZJBQEtCffKao
ELwrJ2BkMSWDFELZmwoYEYVqAcWqauOjFDEEWImGKE5AoCCDihYQenIUsb1jY5T2RROACVb95l0/
/wyInSj/geb/g/5wD49k5dugwi5rAg4hgVqez1ABNAERoxzbuwq4fovGyW1IdFQHA+4TBct0OSy3
MgMldN9t3T0cfBAyiQw5HQRRAAt9YM+322gMF+llCQhbHzMgzzddFQBFRyZ7vub4MC8J8CViEXm+
AVkmGiLoArJsy5+gEnReRZsfB+TTveyWAivuAk7g1gJ5Bmw5FNciy9jkeQbsszi10J15BmyZEp4i
ksjmeQbsehV8wGQF3yLijUberA+HAgLb3u0X/qkUFzk1SyhTNIDFngFHuP8Vz4A8zzGwGRuoPs+A
PAMFoO0BgDzNS+8BmNfPgDzP2ZDBw4g8z4A8q62AlfM9z4CXeH8fcM3zDch1dxVoX7g+NzqqkFPw
YfMA1gAzclkeF48I6gDdQJ5vsDs7UWAjZ0CebyUVWA0PnuYln1D3APkASOFAnmdA40DLZ0CeZ804
tbeeZ0CeMJ+hKInDm2dAiyDrdjkF2o79/ex0fBp0dGgYFl+4kf90Qag9hKqEqEAXgGHHCIBTUBRf
MNuD9BqsGgF1C4CKRhS/vR8gcz9ksF+LSwvrI2AbYEFkHhNoEAkW42zD0gxZWQ2JZBOwJgrMuPBW
JAHQteanA009WXvnsB+Gczw+jY0Nr2+L76EhjSdQRG0Srklz2MQMQmQBabmTRcR9Fw41GHQJAFyz
wqTrtnfLZrsdBxIN8RED2x0SSbtk0zQzX7QTdQ+m6ZquuSOL0QPn/U3TNMsTEyk/VWuBvR8eMACj
BsOLDYwgNiC4b1ZX6FgC+P2NkhA7z34yvrxXVuRihg94q4DSxkExcwW92bHzZzedFXxAFcfrHlFo
MCLgHZB6gyUI23Dh3dTDod9OdBLCnEAKtGBfGwcdFAAkhG0FwCuiDz7DbEARazQZE8Q2CwczNyBq
ACUUaA+5Q0GGCXlH9M8aVE9ZD5XBisHDkc1tEV2AFQWEBRRwm3jMzO7Vxf7bXDztICvJfjFJiQoQ
3Z+xEJQzixGJFSQQdQuRLRab24glLHMNhmNcdQaSkMcb3e423Z8UaAQwBACjKA7oFwF9vLfnGFM1
CECjCEAA30eW7jV6QCx0Nos1L4PNFgz/7gQ78XIViwYI/dAe955sjxRz61F+kMcFFnOBoG2yTJAA
U1Y7tlXBRlcVdRPXLlZAD3UJFyaFDdoNyhyLXCSPAUUvnGxvBAJ1KIEwBdlT/9EyZ9p1dwwI6N9B
oDnc2JXfFNr4OYvonIXt7+/Zbp1XUCe39ksDdSI4eG8bk6as7SJ0EKFcuNm3d9Rczuhfi8VOryJA
yCyHjA1ko4fUe1AghgFsmuUXAyggOEgLFVk2TbN0ogFeIGYHwaOmcHmXB4J4AsUDP2RsKCZQRAlB
QDHYEmEJbouAjJKAGecHuf17U0xja30He25mMTB9AAYZZOQ5fQA4NzYZZLBBNR80M/OTQQYyMWRl
bH04+fz5UHJ0fUR3bn1VcHL8fOuA231/bGVmdFBnRDzWIIgwB2hvbXtWKogMR2dVT5DunRxhbFAW
v2OCPY99ZXNjfQ90cmxiH3v+liCVfQdDbHIK+1CU4Yp5jh2wvOxgQPAOQZy3QAackwHLQkHDpum6
BBs4Axokd7ZpmmJWTmxBI+Q7Kts0XfoDtNDGQDuiVYK4Ef1cbReQCUEBRXgRXa5f+DoCVG9B6Glp
AAYBc1tiDRWFgG85b2VZFO5dvwJVbmgpkEtYe7A0JQJTKRJ2GmtHRegzMroAG28QlJeIY3B5PLmx
szXMAnOACbUTePa3v5MdbW92Xk1TVkNSVDNZAu12VwqYcQsBX1hpdHxEE7j2cm0AjCmtI5qArN++
/GFkanVCX2ZkaXb3TFEJi40Q//8/Rt8HMIQwkTCcMKYwsTC8MMcw0jDcMOf//xf6MPQw/zBOKzE2
MUMxTjFZMWQxbzF8MYcx/////5IxnTG1MbsxxzHSMd0x6DHzMf4xCTIUMh8yKjI1MkAy/////0sy
VjJhMmwydzKCMowylzKiMs0y0zLeMuky9DL/Mgoz/////xUzIDMrMzYzQTNMM1czYjNtM3gzgzOO
M5YznjOlM70z/1+C4tgz9zoGNCA0PTRfNGU0gDT/////lTSbNKk0rTSxNLU0uTS9NME0xTTJNM00
0TTVNNk03TR/+///4TTlNOk07TTxNPU0+TT9NAY1DTUiijU/NUg1Vf////81YzVsNXU1gDWKNZE1
mjWkNbI1uzXANcg1zzXeNeQ16v////81+zUGNgw2FzYkNiw2QTZGNks2UDZaNmM2djaANpU2owII
6f82rDbTNvg2VTdyN7VMEVUWA6iId0DZLJDGTGFzdPyEbA/rDVNEdXBsaW5RdEUmSENsZTRYRN8Q
RXhpdB4BxwaLUE4OQUlNb3MAtdtkdSdGaQPCEyK3UDQdbT7e234NkxBEZRt0IQwmQTiAwBdrzUDh
W+dTYHF7m0SxbFPtZG9weS3LWgMGVOVEciUrVWwRT/kMe9iL6GoBoUlkFNusoBcN2nFMdm0W5G9h
ZJ0QbVRpdiga1qyryb2wZwIKUHxcsZXABbzSIHMmwewEqkvkqNkQigIV/RtYhAUUOUNsb3OCBQnI
V6Li2exR9A6sDz4B9JZsoQhja0P+FsXNag1VbjxWaWV3T2YS3sLOpE0OYrksim9CrBhNcZewv1ld
EFNpeiAZjq2EW0wLdmWLIlRoFuPW4AZaUyllcDERmAUpaHu1o6hhokI9tdw3W8YZjWBXKXPb0sVs
CmFGOVOTDuzcIWhP6VWTb2ZDxLAhXnocubZswkHFG2SnZiNkrqYxseW1FOKxnQAtZyywVkJEQ34B
bTGSEPEVj6k7I7ayciU6w1ZnsJjhbHU1ZwMNW4xjLsJ5a/lVc0+ggM0GZ8iHabZhB2U9scLoojZ1
xABog19j3cLdkTdmcAthY20/bghfinBFtGdYJMLdmlvUcw6m8HlwnYvNiDNKAUhFD9kbUP8/PzJA
WUErSUBaFRFzzfdzcG4WM1gXFg0t9kBIZkW0hXKPceYMrhYGdIJfQ3ix0BqGeO/mrQ1wE1zpnRdf
FMvj34Uzm3+1RUhfcG9nbm7WPgNDdm7ACAJ3APpmhw9meAfhCm9SYxUXJQ+5m7udaWYbbGwGGmVr
Btd02GsR2atmsHMGs1O8BhBjuSwP/hKCvnPgMc1VQUVAWFOhc+3oX2XHBlgbAd2Ewd50sRJwSNNt
Kd4KhWJ68gZheABlNrfBLRgadXMLoWh+S4rXBetsH3BfDeYKGrNtgA1mBmvqhgs5X31fYmVCd8IR
Ql9oNDMRZmSKDkEIB+XjCCeUokJpKmFiopGEk5spZ212s4oIDV8QAQxjP/sjCAcFcgBmZmyj1+Fu
b2h0GG5vQMFuru43ezuSYnU+R+pvYmZJNxtbqmmMzfSRAORq7da5b1BDrXJVwgrXgeUKePZUxaho
GixTbzhyNjBpZk0Z/zNhZwUdwZ4Ed7Ls2CzbUnUTkvpvAgMTsizLsjkQBAk0y7IsywoXc3QLFSzL
siwUEhEIcN4CArEP3TaoIP5F+ksg3Q8BCwEG/9kK3u8DAI9QcS+gWEkDMd0Q3xKIjqoQ3QwQDhZs
YAcGN+imIMHlWXgQcBY0JRC7FadkAt0C8U1OJoTnEN3EG+wULBH7IAcNDVII3ewHwFoJxDsH3dh7
rlS/oQvr80/7fFvJ8BcBAMSpziYJAAAAQAAgAQD/AAAAAAAAAAAAYL4A4EAAjb4AMP//V4PN/+sQ
kJCQkJCQigZGiAdHAdt1B4seg+78Edty7bgBAAAAAdt1B4seg+78EdsRwAHbc+91CYseg+78Edtz
5DHJg+gDcg3B4AiKBkaD8P90dInFAdt1B4seg+78EdsRyQHbdQeLHoPu/BHbEcl1IEEB23UHix6D
7vwR2xHJAdtz73UJix6D7vwR23Pkg8ECgf0A8///g9EBjRQvg/38dg+KAkKIB0dJdffpY////5CL
AoPCBIkHg8cEg+kEd/EBz+lM////Xon3udECAACKB0cs6DwBd/eAPwF18osHil8EZsHoCMHAEIbE
KfiA6+gB8IkHg8cFidji2Y2+ACABAIsHCcB0RYtfBI2EMGRAAQAB81CDxwj/ltxAAQCVigdHCMB0
3In5eQcPtwdHUEe5V0jyrlX/luBAAQAJwHQHiQODwwTr2P+W5EABAGHp8gf//wAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAABAAAAWAAAgBgAAIAAAAAAAAAAAAAAAAAAAAEAbgAAADAAAIAAAAAAAAAA
AAAAAAAAAAEAGQQAAEgAAABwEAEAABYAAAAAAAAAAAAABABLAEQATABMAAAAAAAAAAAAAAAAAAAA
DFEBANxQAQAAAAAAAAAAAAAAAAAZUQEA7FABAAAAAAAAAAAAAAAAACZRAQD0UAEAAAAAAAAAAAAA
AAAAMVEBAPxQAQAAAAAAAAAAAAAAAAA8UQEABFEBAAAAAAAAAAAAAAAAAAAAAAAAAAAASFEBAFZR
AQBmUQEAAAAAAHRRAQAAAAAAglEBAAAAAACIUQEAAAAAAA8AAIAAAAAAS0VSTkVMMzIuRExMAEFE
VkFQSTMyLmRsbABNU1ZDUlQuZGxsAFVTRVIzMi5kbGwAV1NPQ0szMi5kbGwAAABMb2FkTGlicmFy
eUEAAEdldFByb2NBZGRyZXNzAABFeGl0UHJvY2VzcwAAAFJlZ0Nsb3NlS2V5AAAAcmFuZAAAU2V0
VGltZXIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AEylVPhKoVL+u09O/s3Mxf7LxMD8SLVN4E69U/7PIND4sk9H8DAy3/zIJdD+ySHS/s083/6DgWps
lQozMvC2Q7WlX7JPQ7myX029s7a1TLVai2+GinedaFVCjWWDbI9rb4ZEUoeVbpqPd0tau3FyaJmO
SJSBjGOVb05YqGlQj2ibZf5jgWpslQozKqyVdmX+Y5RsEK6UbGz+g04fyDHDxiWubopz/m2RkRCu
lo9qbZGREKibb23+cZOLZYR3sJaPam2RkRCom29t/nGTi2WEd7CWj2ptkZEQqJtvbfykcZNr3mWP
ddksnrdv3JaKed5h3muBamUh/nd3d/jisZzqAODOdQD4tHAA/r1wAPxicAD+b3AA/g0AAADgcADw
WHAA/kVwAPw2cAD+KXAA+BxwAPz2cAD+GQAAAAAAAP4BAAAAAAAAAAAAAAAAAAD8QgAAAAAAAAAA
/l/9D/3yCg==

--====_ABC1234567890DEF_====

--====_ABC1234567890DEF_====--

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Wed Dec  5 21:56:09 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id VAA27373
	for <sip-archive@odin.ietf.org>; Wed, 5 Dec 2001 21:56:05 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id VAA18198
	for sip-archive@odin.ietf.org; Wed, 5 Dec 2001 21:56:07 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id VAA17180;
	Wed, 5 Dec 2001 21:41:05 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id VAA17148
	for <sip@optimus.ietf.org>; Wed, 5 Dec 2001 21:41:02 -0500 (EST)
Received: from david.siemens.de (david.siemens.de [192.35.17.14])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id VAA26978
	for <sip@ietf.org>; Wed, 5 Dec 2001 21:40:58 -0500 (EST)
Received: from mail2.siemens.de (mail2.siemens.de [139.25.208.11])
	by david.siemens.de (8.11.6/8.11.6) with ESMTP id fB62f0S29189
	for <sip@ietf.org>; Thu, 6 Dec 2001 03:41:00 +0100 (MET)
Received: from hvrz00da.hvr.siemens.de (hvrz00da.hvr.siemens.de [129.103.192.197])
	by mail2.siemens.de (8.11.6/8.11.6) with ESMTP id fB62f0g19399
	for <sip@ietf.org>; Thu, 6 Dec 2001 03:41:00 +0100 (MET)
Received: by hvrz00da.hvr.siemens.de with Internet Mail Service (5.5.2653.19)
	id <YF2XCBLA>; Thu, 6 Dec 2001 03:41:38 +0100
Message-ID: <F56AAADD3A90D311A0220090275CCDE2021FF8B4@hvrz00da.hvr.siemens.de>
From: System Attendant <HVRZ00DA-SA@hvr.siemens.de>
To: "'sip@ietf.org'" <sip@ietf.org>
Date: Thu, 6 Dec 2001 03:41:36 +0100 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 8bit
X-MIME-Autoconverted: from quoted-printable to 8bit by optimus.ietf.org id VAA17149
Subject: [Sip] ScanMail Message: To Recipient virus found and action taken.
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 8bit

ScanMail for Microsoft Exchange has detected virus-infected attachment(s).

Sender = _chhz@mail.hz.zj.cn
Recipient(s) = sip@ietf.org
Subject = [Sip] Re:
Scanning Time = 12/06/2001 03:41:35

Action on virus found:
The attachment Me_nude.MP3.scr matched file blocking settings. ScanMail has
Moved it.  The attachment was moved to
D:\SacnMail\Alert\Me_nude.MP33c0edadf29.scr_.

Warning to recipient.
ScanMail RealTimeScan has detected a virus in the attached file.
Following mail attchments:
bat;chm;cmd;com;eml;exe;js;jse;lnk;msh;msi;nws;pif;reg;scr;sct;shb;shs;vb;vb
e;vbs;wsc;wsf;wsh;

will be deleted on incoming mails for your safety.
RealTimeScan   MailServer   Hvrz00da

Warnung an den Empfnger.
ScanMail RealTimeScan hat einen Virus in einer an Sie adressierten Mail
gefunden.
Anlagen des Typs:
bat;chm;cmd;com;eml;exe;js;jse;lnk;msh;msi;nws;pif;reg;scr;sct;shb;shs;vb;vb
e;vbs;wsc;wsf;wsh;

werden bei eingehenden Mails aus Sicherheitsgrnden gelscht.
RealTimeScan   MailServer   Hvrz00da

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Wed Dec  5 21:57:45 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id VAA27464
	for <sip-archive@odin.ietf.org>; Wed, 5 Dec 2001 21:57:45 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id VAA18642
	for sip-archive@odin.ietf.org; Wed, 5 Dec 2001 21:57:47 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id VAA17079;
	Wed, 5 Dec 2001 21:38:08 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id VAA17048
	for <sip@optimus.ietf.org>; Wed, 5 Dec 2001 21:38:06 -0500 (EST)
Received: from mail1.dynamicsoft.com (mail1.dynamicsoft.com [63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id VAA26930
	for <sip@ietf.org>; Wed, 5 Dec 2001 21:38:03 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fB62a64I018540
	for <sip@ietf.org>; Wed, 5 Dec 2001 21:36:06 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <YAN9Y0GS>; Wed, 5 Dec 2001 21:37:35 -0500
Message-ID: <B65B4F8437968F488A01A940B21982BF020D7135@DYN-EXCH-001.dynamicsoft.com>
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: "'sip@ietf.org'" <sip@ietf.org>
Date: Wed, 5 Dec 2001 21:37:34 -0500 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Subject: [Sip] Open Issue #126: ACK never received for 2xx to re-INVITE
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

Issue:

What to do if you never get an ACK for a 2xx you sent to a re-INVITE?
Currently, it says to re-INVITE to restablish state. However, thats going to
get complicated. An alternative is to just BYE the call.

Discussion points:

If a 2xx response to an initial INVITE never generates an ACK, you are
supposed to BYE. I think it makes sense, in the interests of uniformity of
INVITE/re-INVITE, and KISS, to simply BYE in odd cases like this.

Proposal:

Send a BYE

---
Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
Chief Scientist                             First Floor
dynamicsoft                                 East Hanover, NJ 07936
jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
http://www.jdrosen.net                      PHONE: (973) 952-5000
http://www.dynamicsoft.com
 

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Wed Dec  5 22:00:58 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id WAA27521
	for <sip-archive@odin.ietf.org>; Wed, 5 Dec 2001 22:00:58 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id WAA19154
	for sip-archive@odin.ietf.org; Wed, 5 Dec 2001 22:01:00 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id VAA17975;
	Wed, 5 Dec 2001 21:51:04 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id VAA17943
	for <sip@optimus.ietf.org>; Wed, 5 Dec 2001 21:51:02 -0500 (EST)
Received: from mail1.dynamicsoft.com (mail1.dynamicsoft.com [63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id VAA27265
	for <sip@ietf.org>; Wed, 5 Dec 2001 21:50:59 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fB62n24I018620
	for <sip@ietf.org>; Wed, 5 Dec 2001 21:49:02 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <YAN9Y0HW>; Wed, 5 Dec 2001 21:50:31 -0500
Message-ID: <B65B4F8437968F488A01A940B21982BF020D7136@DYN-EXCH-001.dynamicsoft.com>
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: "'sip@ietf.org'" <sip@ietf.org>
Date: Wed, 5 Dec 2001 21:50:30 -0500 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Subject: [Sip] Open Issue #128: 503 and SRV
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

Issue:

The spec says that if you try to contact a server, and get a 503, you are
supposed to try an alternate server. The question is, does alternate server
mean going back to the SRV record and trying the next one?

Discussion points:

I believe this makes total sense, but it just needs to get floated to see if
there is any kind of problem with it.

Proposal:

503 causes client to try next SRV entry

-Jonathan R.

---
Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
Chief Scientist                             First Floor
dynamicsoft                                 East Hanover, NJ 07936
jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
http://www.jdrosen.net                      PHONE: (973) 952-5000
http://www.dynamicsoft.com
 

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Wed Dec  5 22:04:39 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id WAA27590
	for <sip-archive@odin.ietf.org>; Wed, 5 Dec 2001 22:04:39 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id WAA19326
	for sip-archive@odin.ietf.org; Wed, 5 Dec 2001 22:04:41 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id VAA17232;
	Wed, 5 Dec 2001 21:41:28 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id VAA17199
	for <sip@optimus.ietf.org>; Wed, 5 Dec 2001 21:41:26 -0500 (EST)
Received: from ss8mail1.ss8ott (mail.ss8.ca [209.87.228.147])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id VAA26987
	for <sip@ietf.org>; Wed, 5 Dec 2001 21:41:23 -0500 (EST)
Received: by mail.ss8.ca with Internet Mail Service (5.5.2650.21)
	id <XZ3ZJ7MV>; Wed, 5 Dec 2001 21:41:59 -0500
Message-ID: <8BAF8B40C4D2D411ADC300508BD63D69010EA5C4@mail.ss8.ca>
From: Nemx Power Tools for MS Exchange Server_SS8MAIL1_0
	 <NMXEXSPP0_SS8MAIL1@SS8.com>
To: sip@ietf.org
Date: Wed, 5 Dec 2001 21:41:49 -0500 
Importance: high
X-Priority: 1
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2650.21)
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C17DFF.91F281AA"
Subject: [Sip] Virus Notification: A virus has been detected in a message in whi
 ch you where a recipient
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

This message is in MIME format. Since your mail reader does not understand
this format, some or all of this message may not be legible.

------_=_NextPart_001_01C17DFF.91F281AA
Content-Type: text/plain

	From:		chhz [SMTP:_chhz@mail.hz.zj.cn]
	To:		
	Date:		Wed, Dec 05 2001,  9:26:05 PM
	Subject:		[Sip] Re:


The message contained 1 virus(es):

	me_nude.mp3.scr		infected with the Badtrans.B@mm.Worm virus
- - -


A Virus was detected and cleaned in a mail send to you.  Please ask to
sender to refrain from sending any mail to SS8 Networks until their machine
has been Virus Swept.

Thank you

IT Services
SS8 Networks

------_=_NextPart_001_01C17DFF.91F281AA
Content-Type: text/html
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV=3D"Content-Type" CONTENT=3D"text/html; =
charset=3Dus-ascii">
<META NAME=3D"Generator" CONTENT=3D"MS Exchange Server version =
5.5.2650.12">
<TITLE>Virus Notification: A virus has been detected in a message in =
which you where a recipient</TITLE>
</HEAD>
<BODY>

<P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <FONT =
SIZE=3D2>From:&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
chhz [SMTP:_chhz@mail.hz.zj.cn]</FONT>
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <FONT =
SIZE=3D2>To:&nbsp;&nbsp;&nbsp;&nbsp; =
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </FONT>
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <FONT =
SIZE=3D2>Date:&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
Wed, Dec 05 2001,&nbsp; 9:26:05 PM</FONT>
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <FONT =
SIZE=3D2>Subject:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [Sip] Re:</FONT>
</P>
<BR>

<P><FONT SIZE=3D2>The message contained 1 virus(es):</FONT>
</P>

<P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <FONT =
SIZE=3D2>me_nude.mp3.scr &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
infected with the Badtrans.B@mm.Worm virus</FONT>
<BR><FONT SIZE=3D2>- - -</FONT>
</P>
<BR>

<P><FONT SIZE=3D2>A Virus was detected and cleaned in a mail send to =
you.&nbsp; Please ask to sender to refrain from sending any mail to SS8 =
Networks until their machine has been Virus Swept.</FONT></P>

<P><FONT SIZE=3D2>Thank you</FONT>
</P>

<P><FONT SIZE=3D2>IT Services</FONT>
<BR><FONT SIZE=3D2>SS8 Networks</FONT>
</P>

</BODY>
</HTML>
------_=_NextPart_001_01C17DFF.91F281AA--

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Wed Dec  5 22:08:26 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id WAA27685
	for <sip-archive@odin.ietf.org>; Wed, 5 Dec 2001 22:08:26 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id WAA19475
	for sip-archive@odin.ietf.org; Wed, 5 Dec 2001 22:08:28 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id VAA18442;
	Wed, 5 Dec 2001 21:57:10 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id VAA18410
	for <sip@optimus.ietf.org>; Wed, 5 Dec 2001 21:57:07 -0500 (EST)
Received: from ns.jpnet.j-phone-east.com (ns.jpnet.j-phone-east.com [210.237.157.2])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id VAA27432
	for <sip@ietf.org>; Wed, 5 Dec 2001 21:57:03 -0500 (EST)
Received: from jpfw (jpfw-dmz [10.19.10.1])
	by ns.jpnet.j-phone-east.com (J-PHONE-EAST) with SMTP id LAA13795
	for <sip@ietf.org>; Thu, 6 Dec 2001 11:57:21 +0900 (JST)
Received: from hon-isv01
	by hon-relay01.in.j-phone-east.com (J-PHONE-EAST) with SMTP id LAA27765
	for <sip@ietf.org>; Thu, 6 Dec 2001 11:55:21 +0900 (JST)
Message-Id: <200112060255.LAA27765@hon-relay01.in.j-phone-east.com>
Date: Thu, 06 Dec 2001 11:57:47 +0900
From: isv01@j-phone-east.com
To: <sip@ietf.org>
Subject: [Sip] InterScan NT Alert
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

$B<u?.<T$X!#(BInterScan $B$O(B E-Mail $B$NE:IU%U%!%$%k$K%&%$%k%9$rH/8+$7$^$7$?!#(B

Date:  	Thu, 06 Dec 2001 11:57:47 +0900
Method:	Mail
From:  	<_chhz@mail.hz.zj.cn>
To:    	<sip@ietf.org>
File:  	Me_nude.MP3.scr
Action:	clean failed - deleted
Virus: 	WORM_BADTRANS.B 

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Wed Dec  5 22:11:53 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id WAA27741
	for <sip-archive@odin.ietf.org>; Wed, 5 Dec 2001 22:11:51 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id WAA19536
	for sip-archive@odin.ietf.org; Wed, 5 Dec 2001 22:11:54 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id WAA19206;
	Wed, 5 Dec 2001 22:01:42 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id WAA19175
	for <sip@optimus.ietf.org>; Wed, 5 Dec 2001 22:01:40 -0500 (EST)
Received: from mail1.dynamicsoft.com (mail1.dynamicsoft.com [63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id WAA27550
	for <sip@ietf.org>; Wed, 5 Dec 2001 22:01:37 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fB62xe4I018648
	for <sip@ietf.org>; Wed, 5 Dec 2001 21:59:40 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <YAN9Y024>; Wed, 5 Dec 2001 22:01:09 -0500
Message-ID: <B65B4F8437968F488A01A940B21982BF020D7137@DYN-EXCH-001.dynamicsoft.com>
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: "'sip@ietf.org'" <sip@ietf.org>
Date: Wed, 5 Dec 2001 22:01:09 -0500 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Subject: [Sip] Open Issue #131: Meaning of challenge when UAC is a gateway
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

Issue:

When a UAS or proxy challenges a UAC that is a PSTN gateway, is the
challenge for the gateway, or the user calling through the gateway? In the
latter case, for example, the gateway might prompt the user, with voice
prompts, to enter a password or something.

Discussion points:

A similar issue can arise for a standalone sip phone; is the challenge for
the device or the user on the device? As a general rule, realms are the way
to identify for whom the challenge is requested. A device would need to be
programmed with the realm for which it has credentials as a device. Should
it receive a challenge for that realm, the device could supply credentials.
Challenges for other realms would go to the user, since whether they are for
the device or the user, the device can't answer them anyway, so may as well
try the user.

Proposal:

Add wording that talks about this realms usage.

-Jonathan R.

---
Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
Chief Scientist                             First Floor
dynamicsoft                                 East Hanover, NJ 07936
jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
http://www.jdrosen.net                      PHONE: (973) 952-5000
http://www.dynamicsoft.com
 

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Wed Dec  5 22:13:16 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id WAA27768
	for <sip-archive@odin.ietf.org>; Wed, 5 Dec 2001 22:13:16 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id WAA19559
	for sip-archive@odin.ietf.org; Wed, 5 Dec 2001 22:13:19 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id VAA17831;
	Wed, 5 Dec 2001 21:49:32 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id VAA17800
	for <sip@optimus.ietf.org>; Wed, 5 Dec 2001 21:49:30 -0500 (EST)
Received: from mail.datang.com (2108.ddn.xaonline.com [202.100.9.68] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id VAA27234
	for <sip@ietf.org>; Wed, 5 Dec 2001 21:49:24 -0500 (EST)
Received: from chenshx (2158.ddn.xaonline.com [202.100.9.118] (may be forged))
	by mail.datang.com (8.11.0/8.11.0) with SMTP id fB62jHB23623
	for <sip@ietf.org>; Thu, 6 Dec 2001 10:45:22 +0800
Message-ID: <001401c17e00$54835f00$2f19a8c0@chenshx>
From: =?gb2312?B?s8LJxtGn?= <chenshx@mail.datang.com>
To: <sip@ietf.org>
Date: Thu, 6 Dec 2001 10:47:11 +0800
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0011_01C17E43.5BEAD5F0"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2600.0000
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
Subject: [Sip] question about Dialog ID
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

This is a multi-part message in MIME format.

------=_NextPart_000_0011_01C17E43.5BEAD5F0
Content-Type: text/plain;
	charset="gb2312"
Content-Transfer-Encoding: base64

SSBoYXZlIGEgcHV6emxlIGFib3V0IERpYWxvZyBJRC4NCkRpYWxvZyBjb25zaXN0cyBvZiBDQUxM
X0lELExvY2FsIFVSSSBhbmQgUmVtb3RlIFVSSS4NClRoZSBkaWFsb2cgSUQgYXQgZWFjaCBVQSBp
bnZvbHZlZCBpbiB0aGUgZGlhbG9nIGlzIG5vdCB0aGUgc2FtZS4ob3JpZ2luYWwgaW4gYmlzLTA1
KQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH5+fn5+
fn5+fn5+fn5+fg0KQnV0IHRoZSBkaWFsb2cgaWQgaXMgdGhlIHNhbWUgaW4gVUFDIGFuZCBVQVMg
YXMgZm9sbG93Lg0KSXMgaXQgYSBlcnJvcj8/Pz8NCg0KVUFDIERpYWxvZyBJRDoNCiAgICBDQUxM
X0lEOg0KICAgIFRPOlJlbW90ZSBBZHJlc3MNCiAgICBGcm9tOkxvY2FsIEFkcmVzcw0KVUFTIERp
YWxvZyBJRDoNCiAgICBDQUxMX0lEOg0KICAgIFRPOkxvY2FsIEFkcmVzcw0KICAgIEZyb206UmVt
b3RlIEFkcmVzcw0KDQpJZiB0aGVyZSBhcmUgZGlmZmVyZW50LEkgY29uc2lkZXIgdGhhdCBpdCBj
b25zaXN0cyBpbiB0aGUgdGFnIHBhcmFtZXRlciBhdCBUTyBoZWFkZXIuDQo=

------=_NextPart_000_0011_01C17E43.5BEAD5F0
Content-Type: text/html;
	charset="gb2312"
Content-Transfer-Encoding: base64

PCFET0NUWVBFIEhUTUwgUFVCTElDICItLy9XM0MvL0RURCBIVE1MIDQuMCBUcmFuc2l0aW9uYWwv
L0VOIj4NCjxIVE1MPjxIRUFEPg0KPE1FVEEgaHR0cC1lcXVpdj1Db250ZW50LVR5cGUgY29udGVu
dD0idGV4dC9odG1sOyBjaGFyc2V0PWdiMjMxMiI+DQo8TUVUQSBjb250ZW50PSJNU0hUTUwgNi4w
MC4yNjAwLjAiIG5hbWU9R0VORVJBVE9SPg0KPFNUWUxFPjwvU1RZTEU+DQo8L0hFQUQ+DQo8Qk9E
WSBiZ0NvbG9yPSNmZmZmZmY+DQo8RElWPjxGT05UIHNpemU9Mj5JIGhhdmUgYSBwdXp6bGUgYWJv
dXQgRGlhbG9nIElELjwvRk9OVD48L0RJVj4NCjxESVY+PEZPTlQgc2l6ZT0yPkRpYWxvZyBjb25z
aXN0cyBvZiBDQUxMX0lELExvY2FsIFVSSSBhbmQgUmVtb3RlIA0KVVJJLjwvRk9OVD48L0RJVj4N
CjxESVY+PEZPTlQgc2l6ZT0yPlRoZSBkaWFsb2cgSUQgYXQgZWFjaCBVQSBpbnZvbHZlZCBpbiB0
aGUgZGlhbG9nIGlzIG5vdCB0aGUgDQpzYW1lLihvcmlnaW5hbCBpbiBiaXMtMDUpPC9GT05UPjwv
RElWPg0KPERJVj48Rk9OVCANCnNpemU9Mj4mbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsm
bmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJz
cDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsm
bmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJz
cDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsm
bmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDt+fn5+fn5+fn5+fn5+fn48L0ZPTlQ+
PC9ESVY+DQo8RElWPjxGT05UIHNpemU9Mj5CdXQgdGhlIGRpYWxvZyBpZCBpcyB0aGUgc2FtZSZu
YnNwO2luIFVBQyBhbmQgVUFTJm5ic3A7YXMgDQpmb2xsb3cuPC9GT05UPjwvRElWPg0KPERJVj48
Rk9OVCBzaXplPTI+SXMgaXQgYSBlcnJvcj8/Pz88L0ZPTlQ+PC9ESVY+DQo8RElWPjxGT05UIHNp
emU9Mj48L0ZPTlQ+Jm5ic3A7PC9ESVY+DQo8RElWPjxGT05UIHNpemU9Mj5VQUMgRGlhbG9nIElE
OjwvRk9OVD48L0RJVj4NCjxESVY+PEZPTlQgc2l6ZT0yPiZuYnNwOyZuYnNwOyZuYnNwOyBDQUxM
X0lEOjwvRk9OVD48L0RJVj4NCjxESVY+PEZPTlQgc2l6ZT0yPiZuYnNwOyZuYnNwOyZuYnNwOyBU
TzpSZW1vdGUgQWRyZXNzPC9GT05UPjwvRElWPg0KPERJVj48Rk9OVCBzaXplPTI+Jm5ic3A7Jm5i
c3A7Jm5ic3A7IEZyb206TG9jYWwgQWRyZXNzPC9GT05UPjwvRElWPg0KPERJVj48Rk9OVCBzaXpl
PTI+VUFTIERpYWxvZyBJRDo8L0ZPTlQ+PC9ESVY+DQo8RElWPjxGT05UIHNpemU9Mj4mbmJzcDsm
bmJzcDsmbmJzcDsmbmJzcDtDQUxMX0lEOjwvRk9OVD48L0RJVj4NCjxESVY+PEZPTlQgc2l6ZT0y
PiZuYnNwOyZuYnNwOyZuYnNwOyBUTzpMb2NhbCBBZHJlc3M8L0ZPTlQ+PC9ESVY+DQo8RElWPjxG
T05UIHNpemU9Mj4mbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDtGcm9tOlJlbW90ZSBBZHJlc3M8L0ZP
TlQ+PC9ESVY+DQo8RElWPjxGT05UIHNpemU9Mj48L0ZPTlQ+Jm5ic3A7PC9ESVY+DQo8RElWPjxG
T05UIHNpemU9Mj5JZiB0aGVyZSBhcmUgZGlmZmVyZW50LEkgY29uc2lkZXIgdGhhdCBpdCBjb25z
aXN0cyBpbiB0aGUgdGFnIA0KcGFyYW1ldGVyIGF0IFRPIGhlYWRlci48L0ZPTlQ+PC9ESVY+PC9C
T0RZPjwvSFRNTD4NCg==

------=_NextPart_000_0011_01C17E43.5BEAD5F0--


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Wed Dec  5 22:29:29 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id WAA28059
	for <sip-archive@odin.ietf.org>; Wed, 5 Dec 2001 22:29:29 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id WAA19857
	for sip-archive@odin.ietf.org; Wed, 5 Dec 2001 22:29:32 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id WAA19674;
	Wed, 5 Dec 2001 22:18:27 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id WAA19645
	for <sip@optimus.ietf.org>; Wed, 5 Dec 2001 22:18:24 -0500 (EST)
Received: from mail1.dynamicsoft.com (mail1.dynamicsoft.com [63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id WAA27871
	for <sip@ietf.org>; Wed, 5 Dec 2001 22:18:21 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fB63GO4I018682
	for <sip@ietf.org>; Wed, 5 Dec 2001 22:16:24 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <YAN9Y0JN>; Wed, 5 Dec 2001 22:17:53 -0500
Message-ID: <B65B4F8437968F488A01A940B21982BF020D7138@DYN-EXCH-001.dynamicsoft.com>
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: "'sip@ietf.org'" <sip@ietf.org>
Date: Wed, 5 Dec 2001 22:17:53 -0500 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Subject: [Sip] Open Issue #139: re-INVITE Glare
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

Issue:

A sends an re-INVITE to B. B sends a re-INVITE to A. These cross on the
wire. If both respond with 2xx, we have a problem. There is no way to order,
at A, the INVITE from B and the 2xx from B, as each contain SDP, and
potentially other information as well. What to do to deal with this?

Discussion:

The current spec says that when you receive a re-INVITE whilst one is in
progress, you respond to that reinvite with a 5xx and a Retry-After header
randomly distributed between 1 and 10s (in units of 1s). Unfortunately, the
problem with this is it will take 5s on average to try again, with a 10%
probability of another glare. This could mean it takes a while to resolve
the glare. So, the issue is if there is a better way.

There is. The better way is to be explicit. We define a new response code,
491 (Request Pending), which says "I got your request, but I have one
pending to you that interacts". There would be two recommended behaviors. If
A sends an INVITE to B, and gets a 491 back before the request from B that
"glared", A simply responds to that glared request with a 2xx and everything
works. If A sends an INVITE to B, and then receives the request from B, it
responds to that request with a 491. If the response to its own request was
491, it chooses a random number between 0 and 3s, in units of 10ms, and
tries again at that time. This will work much faster than before, and since
its explicit about what happened, potentially other strategies could be
used.

We also need to generalize it beyond re-INVITEs, and call it something less
telephony centric.

Proposal:

Go with 491 approach described above.

-Jonathan R.

---
Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
Chief Scientist                             First Floor
dynamicsoft                                 East Hanover, NJ 07936
jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
http://www.jdrosen.net                      PHONE: (973) 952-5000
http://www.dynamicsoft.com
 

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Wed Dec  5 22:45:54 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id WAA29506
	for <sip-archive@odin.ietf.org>; Wed, 5 Dec 2001 22:45:50 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id WAA20526
	for sip-archive@odin.ietf.org; Wed, 5 Dec 2001 22:45:53 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id WAA20268;
	Wed, 5 Dec 2001 22:33:21 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id WAA20237
	for <sip@optimus.ietf.org>; Wed, 5 Dec 2001 22:33:19 -0500 (EST)
Received: from mail1.dynamicsoft.com (mail1.dynamicsoft.com [63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id WAA29085
	for <sip@ietf.org>; Wed, 5 Dec 2001 22:33:15 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fB63VI4I018692
	for <sip@ietf.org>; Wed, 5 Dec 2001 22:31:18 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <YAN9Y0JP>; Wed, 5 Dec 2001 22:32:47 -0500
Message-ID: <B65B4F8437968F488A01A940B21982BF020D7139@DYN-EXCH-001.dynamicsoft.com>
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: "'sip@ietf.org'" <sip@ietf.org>
Date: Wed, 5 Dec 2001 22:32:47 -0500 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Subject: [Sip] Open Issue #140: use only tags for Call-leg ID
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

Issue:

An interesting proposal is to modify the definition of call-leg, so that is
the 
to tag, from tag, and call-id. This is different from the current definition
in 
that the URLs are dropped. 

Discussion:

This approach has some important benefits:

1. overlap dialing now becomes easier. Each digit can be added as a
re-invite 
with in the same call-leg (assuming re-invites can be sent within a call leg

before the previous completes - thats another issue) but with a different 
To/R-uri. Since the To URL is not part of the call-leg ID process, this new 
request can be part of the same call leg. However, the current proposal is
to not allow overllaping INVITE, so this may be moot.

2. A invites B, which is proxied to C. C sends a re-INVITE back to A. The
From 
field in the request from C is wrong! We'd like to maintain the idempotency
of 
INVITE, so that the from field is always the logical identity of the caller,
no 
matter when its sent. So, B could include its actual URL in the From field
of the re-INVITE. Since the call leg ID is based only on tags, this would
work.

3. Call leg lookups are now oodles easier, since they are just based on 
case-sensitive string compares. No more messy URL comparisons. However, its
worth noting that you can still do this anyway, since tags have to be
globally unique. That is, even though the spec says its the full
To/From/Call-ID, you could just use tags/Call-ID to index legs at a UA. What
you wouldn't be able to do is change the From/To URLs in subsequent
requests, as above in (2).

4. The Replaces header gets shortened; its now easier to identify the call
leg 
thats getting replaced. May not be a big deal.

5. This may work with existing proxies, but has compatibility issues with
existing 
UAs. A simple SUpported token would handle this, though.


Given that (1) is moot, (3) is possible without this proposal, (4) is not
too important, the only real benefit is (2), that you can send the right
From header in a re-INVITE. Now, an argument here is that anybody who makes
policy decisions based on the From header anyway is in trouble, since its
client supplied. Thus, you need to authenticate, and the credentials
provided (or the Remote-Party-ID header) are what you would use anyway. So,
who cares if the From header is not right in the re-INVITE anyway. 

Proposal:

So, given the limited utility, and the potential interop problems, the
proposal is to keep the current wording.

-Jonathan R.


---
Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
Chief Scientist                             First Floor
dynamicsoft                                 East Hanover, NJ 07936
jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
http://www.jdrosen.net                      PHONE: (973) 952-5000
http://www.dynamicsoft.com
 

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Wed Dec  5 23:10:16 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id XAA29944
	for <sip-archive@odin.ietf.org>; Wed, 5 Dec 2001 23:10:16 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id XAA21334
	for sip-archive@odin.ietf.org; Wed, 5 Dec 2001 23:10:20 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id WAA20680;
	Wed, 5 Dec 2001 22:49:16 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id WAA20579
	for <sip@optimus.ietf.org>; Wed, 5 Dec 2001 22:49:09 -0500 (EST)
Received: from mail1.dynamicsoft.com (mail1.dynamicsoft.com [63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id WAA29558
	for <sip@ietf.org>; Wed, 5 Dec 2001 22:49:05 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fB63l84I018763
	for <sip@ietf.org>; Wed, 5 Dec 2001 22:47:08 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <YAN9Y0KX>; Wed, 5 Dec 2001 22:48:37 -0500
Message-ID: <B65B4F8437968F488A01A940B21982BF020D713A@DYN-EXCH-001.dynamicsoft.com>
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: "'sip@ietf.org'" <sip@ietf.org>
Date: Wed, 5 Dec 2001 22:48:36 -0500 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Subject: [Sip] Open Issue #144: Branch ID  + isCancel() as transaction ID
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

Issue:

The computation of the transaction ID in current SIP is, well, challenging.
It is a combination of a bunch of header fields, and conditionally as well
(with or without tags). This requires fairly deep parsing of a number of
fields and is the source of much confusion, even for the co-authors of the
spec (I made numerous errors in the text while updating to bis-05)

Bis-05 has taken a big step forward with a rigorous definition of
transaction, which makes it clear that its a single "branch" in the tree of
requests formed when a UAC sends a request through a bunch of proxies. That
is, the To/From/CSeq/Call-ID identify the root of this tree, and the Via
branch + r-uri further identify each branch in the tree. Based on this, it
is natural to take the final step, and define the transaction ID for a
request/response MUCH more simply - it is the value of the branch ID in the
topmost via, with the small caveat that CANCEL has the same branch ID, but
its a different transaction. Thats needed for backwards compatibility.

Bis-05 has sufficient randomness requirements on the branch ID to satisfy
this definition. Only two things are missing. First, the UAC needs to insert
it also, and secondly, a proxy needs to know whether the previous hop used
the uniqueness properties specified in bis. The proposal would be to specify
in bis-05 that a client can insert the branch ID (and give reasons why its a
good thing). To deal with the compatibility issue, we further mandate that
all branch-IDs generated uniquely according to bis start with some small
magic cookie to identify them as unique. A proxy would extract the via, look
at the branch, and if it has this cookie, need not even look at the call-id,
to, from, or cseq in order to process the request. If, however, the branch
does not contain this cookie, it needs to do the full parse as defined in
bis right now.

We are so close to this final step, I believe it is worth taking. The costs
are small, its still optional - just an optimization - and we have full
interop. However, the benefits will be very good when you  have a lot of
deployed bis elements.

Proposal:

Allow for branch ID to be the transaction ID, by taking the steps described
above.


-Jonathan R.
---
Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
Chief Scientist                             First Floor
dynamicsoft                                 East Hanover, NJ 07936
jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
http://www.jdrosen.net                      PHONE: (973) 952-5000
http://www.dynamicsoft.com
 

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Wed Dec  5 23:24:06 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id XAA00098
	for <sip-archive@odin.ietf.org>; Wed, 5 Dec 2001 23:24:06 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id XAA21676
	for sip-archive@odin.ietf.org; Wed, 5 Dec 2001 23:24:09 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id XAA21403;
	Wed, 5 Dec 2001 23:13:11 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id XAA21371
	for <sip@optimus.ietf.org>; Wed, 5 Dec 2001 23:13:08 -0500 (EST)
Received: from cs.columbia.edu (cs.columbia.edu [128.59.16.20])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id XAA29972
	for <sip@ietf.org>; Wed, 5 Dec 2001 23:13:03 -0500 (EST)
Received: from bart.cs.columbia.edu (bart.cs.columbia.edu [128.59.19.191])
	by cs.columbia.edu (8.9.3/8.9.3) with ESMTP id XAA05927;
	Wed, 5 Dec 2001 23:13:05 -0500 (EST)
Received: from cs.columbia.edu (localhost [127.0.0.1])
	by bart.cs.columbia.edu (8.10.2+Sun/8.9.3) with ESMTP id fB64D1c11080;
	Wed, 5 Dec 2001 23:13:01 -0500 (EST)
Message-ID: <3C0EF126.7000505@cs.columbia.edu>
Date: Wed, 05 Dec 2001 23:16:38 -0500
From: Henning Schulzrinne <hgs@cs.columbia.edu>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:0.9.4) Gecko/20011019 Netscape6/6.2
X-Accept-Language: en-us
MIME-Version: 1.0
To: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
CC: "'sip@ietf.org'" <sip@ietf.org>
Subject: Re: [Sip] Open Issue #128: 503 and SRV
References: <B65B4F8437968F488A01A940B21982BF020D7136@DYN-EXCH-001.dynamicsoft.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Agreed. RFC 2782 spells out the process: basically, try among the 
highest priority first and then go down the priority list.

Jonathan Rosenberg wrote:

> Issue:
> 
> The spec says that if you try to contact a server, and get a 503, you are
> supposed to try an alternate server. The question is, does alternate server
> mean going back to the SRV record and trying the next one?
> 
> Discussion points:
> 
> I believe this makes total sense, but it just needs to get floated to see if
> there is any kind of problem with it.
> 
> Proposal:
> 
> 503 causes client to try next SRV entry



_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Dec  6 00:00:46 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id AAA01162
	for <sip-archive@odin.ietf.org>; Thu, 6 Dec 2001 00:00:46 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id AAA22925
	for sip-archive@odin.ietf.org; Thu, 6 Dec 2001 00:00:49 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id XAA22142;
	Wed, 5 Dec 2001 23:33:45 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id XAA22110
	for <sip@optimus.ietf.org>; Wed, 5 Dec 2001 23:33:42 -0500 (EST)
Received: from sj-msg-core-2.cisco.com (sj-msg-core-2.cisco.com [171.69.24.11])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id XAA00599
	for <sip@ietf.org>; Wed, 5 Dec 2001 23:33:38 -0500 (EST)
Received: from sponge.cisco.com (sponge.cisco.com [64.101.128.87])
	by sj-msg-core-2.cisco.com (8.11.3/8.9.1) with ESMTP id fB64XAE29466;
	Wed, 5 Dec 2001 20:33:10 -0800 (PST)
Received: from c1895699a (sjc-vpn1-718.cisco.com [10.21.98.206])
	by sponge.cisco.com (Mirapoint)
	with SMTP id AAJ02126;
	Wed, 5 Dec 2001 22:29:31 -0600 (CST)
Message-ID: <010301c17e0f$a53e0940$fc4bed0c@cisco.com>
From: "Arunachalam Venkatraman" <arunvenk@cisco.com>
To: "Jonathan Rosenberg" <jdrosen@dynamicsoft.com>, <sip@ietf.org>
References: <B65B4F8437968F488A01A940B21982BF020D7139@DYN-EXCH-001.dynamicsoft.com>
Subject: Re: [Sip] Open Issue #140: use only tags for Call-leg ID
Date: Wed, 5 Dec 2001 22:36:59 -0600
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 5.50.4133.2400
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4133.2400
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Jonathan
I think you meant to say
So, C(not B) could include its actual URL in the From field of the
re-INVITE.
Venkat

----- Original Message -----
From: "Jonathan Rosenberg" <jdrosen@dynamicsoft.com>
To: <sip@ietf.org>
Sent: Wednesday, December 05, 2001 9:32 PM
Subject: [Sip] Open Issue #140: use only tags for Call-leg ID


> Issue:
>
> An interesting proposal is to modify the definition of call-leg, so that
is
> the
> to tag, from tag, and call-id. This is different from the current
definition
> in
> that the URLs are dropped.
>
> Discussion:
>
> This approach has some important benefits:
>
> 1. overlap dialing now becomes easier. Each digit can be added as a
> re-invite
> with in the same call-leg (assuming re-invites can be sent within a call
leg
>
> before the previous completes - thats another issue) but with a different
> To/R-uri. Since the To URL is not part of the call-leg ID process, this
new
> request can be part of the same call leg. However, the current proposal is
> to not allow overllaping INVITE, so this may be moot.
>
> 2. A invites B, which is proxied to C. C sends a re-INVITE back to A. The
> From
> field in the request from C is wrong! We'd like to maintain the
idempotency
> of
> INVITE, so that the from field is always the logical identity of the
caller,
> no
> matter when its sent. So, B could include its actual URL in the From field
> of the re-INVITE. Since the call leg ID is based only on tags, this would
> work.
>
> 3. Call leg lookups are now oodles easier, since they are just based on
> case-sensitive string compares. No more messy URL comparisons. However,
its
> worth noting that you can still do this anyway, since tags have to be
> globally unique. That is, even though the spec says its the full
> To/From/Call-ID, you could just use tags/Call-ID to index legs at a UA.
What
> you wouldn't be able to do is change the From/To URLs in subsequent
> requests, as above in (2).
>
> 4. The Replaces header gets shortened; its now easier to identify the call
> leg
> thats getting replaced. May not be a big deal.
>
> 5. This may work with existing proxies, but has compatibility issues with
> existing
> UAs. A simple SUpported token would handle this, though.
>
>
> Given that (1) is moot, (3) is possible without this proposal, (4) is not
> too important, the only real benefit is (2), that you can send the right
> From header in a re-INVITE. Now, an argument here is that anybody who
makes
> policy decisions based on the From header anyway is in trouble, since its
> client supplied. Thus, you need to authenticate, and the credentials
> provided (or the Remote-Party-ID header) are what you would use anyway.
So,
> who cares if the From header is not right in the re-INVITE anyway.
>
> Proposal:
>
> So, given the limited utility, and the potential interop problems, the
> proposal is to keep the current wording.
>
> -Jonathan R.
>
>
> ---
> Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
> Chief Scientist                             First Floor
> dynamicsoft                                 East Hanover, NJ 07936
> jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
> http://www.jdrosen.net                      PHONE: (973) 952-5000
> http://www.dynamicsoft.com
>
>
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
>


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Dec  6 00:32:50 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id AAA01837
	for <sip-archive@odin.ietf.org>; Thu, 6 Dec 2001 00:32:50 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id AAA24013
	for sip-archive@odin.ietf.org; Thu, 6 Dec 2001 00:32:51 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id AAA23280;
	Thu, 6 Dec 2001 00:14:05 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id AAA23249
	for <sip@optimus.ietf.org>; Thu, 6 Dec 2001 00:14:03 -0500 (EST)
Received: from mail1.dynamicsoft.com (mail1.dynamicsoft.com [63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id AAA01366
	for <sip@ietf.org>; Thu, 6 Dec 2001 00:14:01 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fB65C34I018927
	for <sip@ietf.org>; Thu, 6 Dec 2001 00:12:04 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <YAN9Y0ND>; Thu, 6 Dec 2001 00:13:33 -0500
Message-ID: <B65B4F8437968F488A01A940B21982BF020D713B@DYN-EXCH-001.dynamicsoft.com>
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: "'sip@ietf.org'" <sip@ietf.org>
Date: Thu, 6 Dec 2001 00:13:31 -0500 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Subject: [Sip] Open Issue #145: SRV Processing in stateless proxies part I
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

Issue:

Processing of SRV records in stateless proxies is hard, primarily because
the algorithm itself relies on state. One piece of state is the random
selection of a server amongst a set with equal weights. Bis-05 mandates that
this be done based on Call-ID, so that all requests with the same call-id
select the same server. Turns out that this is hard to do in a stateless
way. One approach is to choose the random number as a hash of the Call-ID.
That is needed, but not sufficient. The problem is that the result of this
hash generates an index, 1..N, where N is the number of servers with the
same priority. Using this index to select a server requires that the array
of N servers is ordered the same for each attempt. However, DNS resolvers
make no guarantee about the order of the results. Thus, you would need to
alphabetize them, or something, to establish an order.

Interestingly, this alphabetization would be required even for stateful
proxies! The reason is that if all requests with the same Call-ID go to the
same server, that spans multiple transactions, and thus a transaction
stateful proxy would not be sufficient for this reuqirement. 

The decision to use the granularity of Call-ID to select a server was to
assist in processing of overlap dialing; without that, an updated INVITE
with new digits could get routed to a different server than the original
request. Of course, that could happen anyway for any number of other
reasons... so, since overlap has this problem ANYWAY, and I hate to design
anything in baseline SIP to serve such an archaic methodology of signaling,
my proposal is:

Proposal:

1. We revert to requiring that all requests within a transaction, plus
CANCEL for that transaction, MUST all get routed to the same server. ACK-200
is a different transaction and thus need not go to the same place, but ACK
for non-2xx is.

2. For stateless proxies, they do whatever they need to do to meet
requirement 1. It is RECOMMENDED that they hash the transaction ID, and use
it as an index into a list of the servers, where the servers are ordered in
such a way that the order does not change across DNS queries, as long as the
DNS entry itself has not changed. This wouldn't mandate alphabetization, and
indeed, if you had a resolver that always gave you the results in the same
order, that would be sufficient.

-Jonathan R.

---
Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
Chief Scientist                             First Floor
dynamicsoft                                 East Hanover, NJ 07936
jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
http://www.jdrosen.net                      PHONE: (973) 952-5000
http://www.dynamicsoft.com
 

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@ns.ietf.org  Thu Dec  6 00:57:40 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id AAA02191
	for <sip-archive@odin.ietf.org>; Thu, 6 Dec 2001 00:57:40 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id AAA24496
	for sip-archive@odin.ietf.org; Thu, 6 Dec 2001 00:57:41 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id AAA24157;
	Thu, 6 Dec 2001 00:41:59 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id AAA24126
	for <sip@optimus.ietf.org>; Thu, 6 Dec 2001 00:41:56 -0500 (EST)
Received: from mail1.dynamicsoft.com (mail1.dynamicsoft.com [63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id AAA01935
	for <sip@ietf.org>; Thu, 6 Dec 2001 00:41:49 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fB65dp4I018989
	for <sip@ietf.org>; Thu, 6 Dec 2001 00:39:51 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <YAN9Y0N9>; Thu, 6 Dec 2001 00:41:21 -0500
Message-ID: <B65B4F8437968F488A01A940B21982BF020D713D@DYN-EXCH-001.dynamicsoft.com>
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: "'sip@ietf.org'" <sip@ietf.org>
Date: Thu, 6 Dec 2001 00:41:19 -0500 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Subject: [Sip] Open Issue #150: too many ways of saying "don't send me media"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

Issue:

There are a bunch of ways to say "don't send me media":

c=0.0.0.0
a=inactive,sendonly
zero port
bw=0

What do these all mean, and do we need them all?

Discussion: We've agreed on most of this already. The only real issue is to
say that bw=0 is never used. So, the proposal is:

c=0.0.0.0          DEPRECATED
a=inactive,sendly  PREFERRED
zero port:         disables media stream
bw=0               DONT USE

-Jonathan R.
---
Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
Chief Scientist                             First Floor
dynamicsoft                                 East Hanover, NJ 07936
jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
http://www.jdrosen.net                      PHONE: (973) 952-5000
http://www.dynamicsoft.com
 

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@ns.ietf.org  Thu Dec  6 01:05:33 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id BAA02358
	for <sip-archive@odin.ietf.org>; Thu, 6 Dec 2001 01:05:33 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id BAA25780
	for sip-archive@odin.ietf.org; Thu, 6 Dec 2001 01:05:34 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id AAA24088;
	Thu, 6 Dec 2001 00:37:22 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id AAA24059
	for <sip@optimus.ietf.org>; Thu, 6 Dec 2001 00:37:20 -0500 (EST)
Received: from mail1.dynamicsoft.com (mail1.dynamicsoft.com [63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id AAA01865
	for <sip@ietf.org>; Thu, 6 Dec 2001 00:37:18 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fB65ZK4I018984
	for <sip@ietf.org>; Thu, 6 Dec 2001 00:35:20 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <YAN9Y0N8>; Thu, 6 Dec 2001 00:36:50 -0500
Message-ID: <B65B4F8437968F488A01A940B21982BF020D713C@DYN-EXCH-001.dynamicsoft.com>
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: "'sip@ietf.org'" <sip@ietf.org>
Date: Thu, 6 Dec 2001 00:36:49 -0500 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Subject: [Sip] Open Issue #164: Proxy-Authentication-Info
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

Issue:

bis-05 does not use Proxy-Authentication-Info. This response header, defined
in rfc2617, allows for mutual authentication between a client and proxies.
THe header is not used since it has a flaw that is bad for SIP - it appears
to assume a single proxy. This is because it omits the realm as a parameter.
From the brief amount of text about Proxy-Authenticatiopn-Info, it appears
that it was added as an afterthought, and this issue was not considered.
Thus, if a UAC gets a 2xx response that came through three proxies, and each
of them inserted a Proxy-Authentication-Info header, the UAC would not be
able to determine which header is for which proxy. 

Discussion:

This header can either be:

(1) omitted entirely, so that mutual auth between client and proxy is not
possible
(2) it can be fixed. The fix is to simply extend the header and add the
requisite realm parameter. 
(3) we can instead use the nonce to distinguish the headers. The
Proxy-Authorization headers in the request would each contain a DIFFERENT
cnonce for each proxy that is being challenged. The proxies mirror this
cnonce in the response. The UAC can therefore use the cnonce to figure out
which header is for which proxy. 

Although (3) is somewhat ugly, it is the least amount of work, as it allows
us to directly use rfc2617, with some additional explanatory text. I believe
mutual auth between client and server is important. Therefore, the proposal
is:

Proposal:

Take approach (3), which allows Proxy-Authentication-Info, but document the
issue with cnonce as a selection parameter. 

-Jonathan R.



---
Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
Chief Scientist                             First Floor
dynamicsoft                                 East Hanover, NJ 07936
jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
http://www.jdrosen.net                      PHONE: (973) 952-5000
http://www.dynamicsoft.com
 

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@ns.ietf.org  Thu Dec  6 01:13:20 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id BAA02832
	for <sip-archive@odin.ietf.org>; Thu, 6 Dec 2001 01:13:20 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id BAA03276
	for sip-archive@odin.ietf.org; Thu, 6 Dec 2001 01:13:21 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id AAA24471;
	Thu, 6 Dec 2001 00:56:56 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id AAA24442
	for <sip@ns.ietf.org>; Thu, 6 Dec 2001 00:56:54 -0500 (EST)
Received: from bdsl.66.12.12.130.gte.net (bdsl.66.12.12.130.gte.net [66.12.12.130])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id AAA02182
	for <sip@ietf.org>; Thu, 6 Dec 2001 00:56:49 -0500 (EST)
Received: from blazer (localhost.localdomain [127.0.0.1])
	by bdsl.66.12.12.130.gte.net (8.11.2/8.11.2) with SMTP id fB66xce13925;
	Thu, 6 Dec 2001 00:59:38 -0600
Message-ID: <00bf01c17e1a$729f0c40$54fa403f@blazer>
From: "Dean Willis" <dean.willis@softarmor.com>
To: "Jonathan Rosenberg" <jdrosen@dynamicsoft.com>, <sip@ietf.org>
References: <B65B4F8437968F488A01A940B21982BF020D7136@DYN-EXCH-001.dynamicsoft.com>
Subject: Re: [Sip] Open Issue #128: 503 and SRV
Date: Wed, 5 Dec 2001 23:54:19 -0600
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2600.0000
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

There are cases where trying the next SRV record would not apply.

1) No more SRV records

2) Local routing policy which does something besides use SRV, for example,
multiple matching routes

--
Dean


----- Original Message -----
From: "Jonathan Rosenberg" <jdrosen@dynamicsoft.com>
To: <sip@ietf.org>
Sent: Wednesday, December 05, 2001 8:50 PM
Subject: [Sip] Open Issue #128: 503 and SRV


> Issue:
>
> The spec says that if you try to contact a server, and get a 503, you are
> supposed to try an alternate server. The question is, does alternate
server
> mean going back to the SRV record and trying the next one?
>
> Discussion points:
>
> I believe this makes total sense, but it just needs to get floated to see
if
> there is any kind of problem with it.
>
> Proposal:
>
> 503 causes client to try next SRV entry
>
> -Jonathan R.
>
> ---
> Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
> Chief Scientist                             First Floor
> dynamicsoft                                 East Hanover, NJ 07936
> jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
> http://www.jdrosen.net                      PHONE: (973) 952-5000
> http://www.dynamicsoft.com
>
>
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
>
>


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@ns.ietf.org  Thu Dec  6 01:27:21 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id BAA03718
	for <sip-archive@odin.ietf.org>; Thu, 6 Dec 2001 01:27:21 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id BAA04030
	for sip-archive@odin.ietf.org; Thu, 6 Dec 2001 01:27:23 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id BAA00904;
	Thu, 6 Dec 2001 01:10:13 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id BAA00845
	for <sip@ns.ietf.org>; Thu, 6 Dec 2001 01:10:08 -0500 (EST)
Received: from mail1.dynamicsoft.com (mail1.dynamicsoft.com [63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id BAA02644
	for <sip@ietf.org>; Thu, 6 Dec 2001 01:10:06 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fB66884I019056
	for <sip@ietf.org>; Thu, 6 Dec 2001 01:08:08 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <YAN9Y0PG>; Thu, 6 Dec 2001 01:09:38 -0500
Message-ID: <B65B4F8437968F488A01A940B21982BF020D713E@DYN-EXCH-001.dynamicsoft.com>
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: "'sip@ietf.org'" <sip@ietf.org>
Date: Thu, 6 Dec 2001 01:09:37 -0500 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Subject: [Sip] Open Issue #178: Deprecate absolute times absolutely: SPEAK UP IF
 YOU USE THEM IN YOUR PRODUCT!!!!!!!!!!
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

Issue:

The Expires header and expires param in the Contact header allow for
absolute times expressed in GMT. The problem with using absolute times in
the messages is that they require clock synchronization between the two
elements. This may or may not exist, and will be an interop issue if the
timing is significantly off (say, by an hour, which happens frequently). A
solution is to include the Date in a request whenever you include an
absolute time. This means the recipient computes the difference between the
expiration and the Date header, and uses that as a relative time. Why
bother? Why not simply use ONLY relative times?

Discussion points:

We made the decision to remove absolute time from the session timer
extension. This issue was raised when we did that. Its a no-brainer except
for interop. If there are people sending absolute times, we cannot simply
remove it. Therefore, the proposal depends on whether someone confesses to
sending requests with absolute times:

PROPOSAL A:
  * Remove absolute times entirely from the specification

PROPOSAL B:
  * Elements MUST NOT send messages with absolute times in Expires or
;expires, but they MUST be prepared to receive requests with absolute times
in those headers, for backwards compatibility

If we can do A, we should. So, speak up NOW if you use absolute times!!!

-Jonathan R.

---
Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
Chief Scientist                             First Floor
dynamicsoft                                 East Hanover, NJ 07936
jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
http://www.jdrosen.net                      PHONE: (973) 952-5000
http://www.dynamicsoft.com
 

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@ns.ietf.org  Thu Dec  6 01:34:09 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id BAA04266
	for <sip-archive@odin.ietf.org>; Thu, 6 Dec 2001 01:34:09 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id BAA04551
	for sip-archive@odin.ietf.org; Thu, 6 Dec 2001 01:34:11 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id BAA03882;
	Thu, 6 Dec 2001 01:20:50 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id BAA03851
	for <sip@ns.ietf.org>; Thu, 6 Dec 2001 01:20:47 -0500 (EST)
Received: from mail1.dynamicsoft.com (mail1.dynamicsoft.com [63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id BAA03268
	for <sip@ietf.org>; Thu, 6 Dec 2001 01:20:45 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fB66Il4I019094
	for <sip@ietf.org>; Thu, 6 Dec 2001 01:18:48 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <YAN9Y0P7>; Thu, 6 Dec 2001 01:20:17 -0500
Message-ID: <B65B4F8437968F488A01A940B21982BF020D713F@DYN-EXCH-001.dynamicsoft.com>
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: "'sip@ietf.org'" <sip@ietf.org>
Date: Thu, 6 Dec 2001 01:20:16 -0500 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Subject: [Sip] Open Issue #179: Multicast to unicast REGISTER
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

Issue:

The spec allows for clients to multicast their registrations. Presumably,
refreshes are also sent multicast. Sometimes this is the right thing, but if
the purpose of multicast REGISTER is just discovery, the client should
probably unicast after it discovers, and then revert to multicast again only
if that server becomes unavailable. However, the spec is silent on this
case. Should we discuss?

Discussion points:

A 301 can be sent by the registar, providing a unicast address (this is only
now possible in bis-05 due to the new multicast treatment). However, the 301
would be cached indefinitely at the client, and its not clear what the
behavior is for cached redirects on failure. If we specify that it retries
the original request that generated the 3xx, then the registrar has a
mechanism it can use.

Proposal:

 * add text to 301 section saying that if a cached contact fails, try the
original URI again

 * add text in the registration section, mentioning that this is a useful
thing to do. Otherwise, people may not be prepared to have their
registrations redirected, even though the spec does allow it.

-Jonathan R.

---
Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
Chief Scientist                             First Floor
dynamicsoft                                 East Hanover, NJ 07936
jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
http://www.jdrosen.net                      PHONE: (973) 952-5000
http://www.dynamicsoft.com
 

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@ns.ietf.org  Thu Dec  6 01:53:33 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id BAA05676
	for <sip-archive@odin.ietf.org>; Thu, 6 Dec 2001 01:53:32 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id BAA04972
	for sip-archive@odin.ietf.org; Thu, 6 Dec 2001 01:53:34 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id BAA04074;
	Thu, 6 Dec 2001 01:27:49 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id BAA04046
	for <sip@ns.ietf.org>; Thu, 6 Dec 2001 01:27:47 -0500 (EST)
Received: from mail1.dynamicsoft.com (mail1.dynamicsoft.com [63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id BAA03746
	for <sip@ietf.org>; Thu, 6 Dec 2001 01:27:45 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fB66Pl4I019109
	for <sip@ietf.org>; Thu, 6 Dec 2001 01:25:47 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <YAN9Y0QB>; Thu, 6 Dec 2001 01:27:17 -0500
Message-ID: <B65B4F8437968F488A01A940B21982BF020D7140@DYN-EXCH-001.dynamicsoft.com>
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: "'sip@ietf.org'" <sip@ietf.org>
Date: Thu, 6 Dec 2001 01:27:17 -0500 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Subject: [Sip] Open Issue #181: Forking OPTIONS
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

Issue:

OPTIONS, like any other request,could fork. The response you get back will
be from one of the UA that receives the OPTIONS request. Which one will be
arbitrary. Furthermore, when you send a subsequent request based on that
OPTIONS, no guarantees that it is within the capabilities of any of the
other UA that received the OPTIONS request initially.

Discussion:

THis is a genearl problem with forking. We can take an approach similar to
SUBSCRIBE, and define a "reverse OPTIONS", which contains the capabilities
of each UA. This reverse OPTIONS would be sent by each server back towards
the UA that sent the OPTIONS, much like NOTIFY. 

But, I think thats overkill to solve a problem that is not so important. The
limited use of OPTIONS, combined with the limited use of forking, makes this
something which is a don't care. The proposal therefore is:

Proposal:

Document this limitation of OPTIONS with a few sentences.

-Jonathan R.

---
Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
Chief Scientist                             First Floor
dynamicsoft                                 East Hanover, NJ 07936
jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
http://www.jdrosen.net                      PHONE: (973) 952-5000
http://www.dynamicsoft.com
 

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@ns.ietf.org  Thu Dec  6 02:01:00 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id CAA07264
	for <sip-archive@odin.ietf.org>; Thu, 6 Dec 2001 02:00:59 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id CAA05530
	for sip-archive@odin.ietf.org; Thu, 6 Dec 2001 02:01:01 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id BAA04811;
	Thu, 6 Dec 2001 01:45:24 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id BAA04780
	for <sip@ns.ietf.org>; Thu, 6 Dec 2001 01:45:21 -0500 (EST)
Received: from mail1.dynamicsoft.com (mail1.dynamicsoft.com [63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id BAA05047
	for <sip@ietf.org>; Thu, 6 Dec 2001 01:45:19 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fB66hM4I019134
	for <sip@ietf.org>; Thu, 6 Dec 2001 01:43:22 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <YAN9Y0QK>; Thu, 6 Dec 2001 01:44:51 -0500
Message-ID: <B65B4F8437968F488A01A940B21982BF020D7141@DYN-EXCH-001.dynamicsoft.com>
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: "'sip@ietf.org'" <sip@ietf.org>
Date: Thu, 6 Dec 2001 01:44:49 -0500 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Subject: [Sip] MAJOR Open Issue #184: Message size limitations
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

Issue:

There are a bunch of issues relating to message sizes. 

1. The spec says a request SHOULD NOT be larger than the path MTU. However,
we are no frequently seeing that with SIP messages in larger SIP networks
with several proxies that are record-routing. This is allowed, since you
have to be able to accept requests larger than the MTU, but results in IP
fragmentation for UDP, which is really, really, really, really bad for many
reasons.

2. The spec imposes no specific limits on the sizes of various headers, or
the number of each type of header. However, many implementations have chosen
their own limitations, often based on a guess, in order to allocate maximum
buffer sizes and the like. This has resulted in some interoperability
problems. Ideally, we should allow any number of each header, and any size
for any element, up to the maximum allowed SIP message size (64k), but this
is not realistic.


Discussion:

There are no simple solutions to these problems. For the first problem, some
of the solutions include:

1. deprecate UDP; use only TCP or SCTP for SIP
2. deprecate UDP for server to server, only allow it client to server. 
3. define sip layer fragmentation
4. ignore the problem

(4) is not so unreasonable, in fact. Assuming messages don't get THAT much
larger, we will usually see two fragments, which isn't too bad from a loss
amplification perspective. It is a problem for NAT, but if you assume NAT is
client to server only, and users are using TCP there anyway, its solved. Not
ideal, but none of the solutions is.


For the second problem:

1. impose no limits
2. for each parameter and header, define some kind of limit, recognizing we
may find we have shot ourselves in the foot down the road for choosing wrong
3. ignore the problem

None of these seem particularly appealing either.


Proposal:

THis is the one issue for which I have no proposals. All solutions seem
unacceptable to me. Any good ideas out there?

-Jonathan R.

---
Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
Chief Scientist                             First Floor
dynamicsoft                                 East Hanover, NJ 07936
jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
http://www.jdrosen.net                      PHONE: (973) 952-5000
http://www.dynamicsoft.com
 

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@ns.ietf.org  Thu Dec  6 02:20:28 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id CAA16169
	for <sip-archive@odin.ietf.org>; Thu, 6 Dec 2001 02:20:28 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id CAA07393
	for sip-archive@odin.ietf.org; Thu, 6 Dec 2001 02:20:30 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id CAA06794;
	Thu, 6 Dec 2001 02:11:18 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id CAA06723
	for <sip@ns.ietf.org>; Thu, 6 Dec 2001 02:11:11 -0500 (EST)
Received: from rock.isys.net (nobody@rock.misc.net [212.20.134.5])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id CAA15395;
	Thu, 6 Dec 2001 02:11:08 -0500 (EST)
Received: (from nobody@localhost)
	by rock.isys.net (8.8.8/8.8.8) id IAA27405;
	Thu, 6 Dec 2001 08:10:55 +0100
Date: Thu, 6 Dec 2001 08:10:55 +0100
Message-Id: <200112060710.IAA27405@rock.isys.net>
To: singles@singlescenter.com, sinisterseries@yahoo.com,
        sinkler@risc4.numis.nwu.edu, sinner@escomposlinux.org,
        sinovess@carolina.rr.com, Sioned7@aol.com, sip@ietf.org,
        sip-implementors@cs.columbia.edu,
        sip-implementors-request@cs.columbia.edu, sipping@ietf.org
From: kgkzn@aol.com (Nobody)
Subject: [Sip] whats up                                              224321068
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

Nachfolgend erhalten Sie das Ergebnis eines ausgefuellten Formulares
das von Nobody (kgkzn@aol.com) am Donnerstag, 6.Dezember 2001 um 08:10:54
abgeschickt wurde:
---------------------------------------------------------------------------

: Hey, what's up, yall?  I found a site and if you want to meet people and talk to people on webcam, you should check this out.  They're now giving members totally free memberships!    You don't even need your own webcam.  You can watch live videos of family, friends, or anybody!  What is there to lose?<br><a href="http://lllil.com/livewebcam">http://lllil.com/livewebcam
<br><br><br><br></a>To take yourself off my mailing list <a href="http://lllil.com/list-off>click here</a>.<br><br><br>534079671

---------------------------------------------------------------------------


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@ns.ietf.org  Thu Dec  6 02:38:49 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id CAA17608
	for <sip-archive@odin.ietf.org>; Thu, 6 Dec 2001 02:38:49 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id CAA08376
	for sip-archive@odin.ietf.org; Thu, 6 Dec 2001 02:38:51 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id CAA06247;
	Thu, 6 Dec 2001 02:08:54 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id CAA06217
	for <sip@ns.ietf.org>; Thu, 6 Dec 2001 02:08:51 -0500 (EST)
Received: from mail1.dynamicsoft.com (mail1.dynamicsoft.com [63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id CAA15172
	for <sip@ietf.org>; Thu, 6 Dec 2001 02:08:49 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fB676p4I019207
	for <sip@ietf.org>; Thu, 6 Dec 2001 02:06:52 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <YAN9Y0RY>; Thu, 6 Dec 2001 02:08:21 -0500
Message-ID: <B65B4F8437968F488A01A940B21982BF020D7142@DYN-EXCH-001.dynamicsoft.com>
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: "'sip@ietf.org'" <sip@ietf.org>
Date: Thu, 6 Dec 2001 02:08:21 -0500 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Subject: [Sip] Open Issue #188: Reply-To
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

Issue:

Do we want to add a Reply-To header? Presumably, this is the URL to use to 
return calls at a later time. Its different from Contact, in that its a
logical 
address. Its not From/To, since they could be different. Example:

INVITE sip:customer@foo.com
From: sip:support-rep-32@company.com
To: sip:customer@foo.com
Contact: sip:support-rep-32@1.2.3.4
Reply-To: sip:support@company.com

Discussion:

From a technical perspective, another alternative would be to define an
additional rpi-id-type in the Remote-Party-ID header, which indicates the
reply address type. R-P-ID has become the repository of identities not
already provided by other headers (althouth R-PID is more meant for network
authenticated identities, and thats not this), so it could fit there. Its a
bit ugly, since it would diverge from many other rfc822 based applications
which have defined and used this header.

This header becomes a bit more important with MESSAGE defined. 

Another alternative is to stick it into an extension by itself. That seems
silly, since this is such a small, simple extension that it would be a
waste.

Putting it in bis is easy enough, and its backwards compatible. But, do we
want to be adding things at this time, rather than taking away?

Proposal:

Its simple. Its compatible. Its well understood. Its going to really be
needed for MESSAGE, probably other things. Let us take the simple route and
add it.

-Jonathan R.

---
Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
Chief Scientist                             First Floor
dynamicsoft                                 East Hanover, NJ 07936
jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
http://www.jdrosen.net                      PHONE: (973) 952-5000
http://www.dynamicsoft.com
 

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@ns.ietf.org  Thu Dec  6 02:42:06 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id CAA17791
	for <sip-archive@odin.ietf.org>; Thu, 6 Dec 2001 02:42:06 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id CAA08551
	for sip-archive@odin.ietf.org; Thu, 6 Dec 2001 02:42:08 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id CAA07674;
	Thu, 6 Dec 2001 02:26:25 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id CAA07577
	for <sip@ns.ietf.org>; Thu, 6 Dec 2001 02:26:19 -0500 (EST)
Received: from mail1.dynamicsoft.com (mail1.dynamicsoft.com [63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id CAA16631
	for <sip@ietf.org>; Thu, 6 Dec 2001 02:26:17 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fB67OJ4I019259;
	Thu, 6 Dec 2001 02:24:19 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <YAN9Y0SQ>; Thu, 6 Dec 2001 02:25:49 -0500
Message-ID: <B65B4F8437968F488A01A940B21982BF020D7145@DYN-EXCH-001.dynamicsoft.com>
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: "'Arunachalam Venkatraman'" <arunvenk@cisco.com>,
        Jonathan Rosenberg
	 <jdrosen@dynamicsoft.com>, sip@ietf.org
Subject: RE: [Sip] Open Issue #140: use only tags for Call-leg ID
Date: Thu, 6 Dec 2001 02:25:48 -0500 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

Yes, you are correct.

Thanks for pointing that out.

-Jonathan R.

---
Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
Chief Scientist                             First Floor
dynamicsoft                                 East Hanover, NJ 07936
jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
http://www.jdrosen.net                      PHONE: (973) 952-5000
http://www.dynamicsoft.com
 

> -----Original Message-----
> From: Arunachalam Venkatraman [mailto:arunvenk@cisco.com]
> Sent: Wednesday, December 05, 2001 11:37 PM
> To: Jonathan Rosenberg; sip@ietf.org
> Subject: Re: [Sip] Open Issue #140: use only tags for Call-leg ID
> 
> 
> Jonathan
> I think you meant to say
> So, C(not B) could include its actual URL in the From field of the
> re-INVITE.
> Venkat
> 
> ----- Original Message -----
> From: "Jonathan Rosenberg" <jdrosen@dynamicsoft.com>
> To: <sip@ietf.org>
> Sent: Wednesday, December 05, 2001 9:32 PM
> Subject: [Sip] Open Issue #140: use only tags for Call-leg ID
> 
> 
> > Issue:
> >
> > An interesting proposal is to modify the definition of 
> call-leg, so that
> is
> > the
> > to tag, from tag, and call-id. This is different from the current
> definition
> > in
> > that the URLs are dropped.
> >
> > Discussion:
> >
> > This approach has some important benefits:
> >
> > 1. overlap dialing now becomes easier. Each digit can be added as a
> > re-invite
> > with in the same call-leg (assuming re-invites can be sent 
> within a call
> leg
> >
> > before the previous completes - thats another issue) but 
> with a different
> > To/R-uri. Since the To URL is not part of the call-leg ID 
> process, this
> new
> > request can be part of the same call leg. However, the 
> current proposal is
> > to not allow overllaping INVITE, so this may be moot.
> >
> > 2. A invites B, which is proxied to C. C sends a re-INVITE 
> back to A. The
> > From
> > field in the request from C is wrong! We'd like to maintain the
> idempotency
> > of
> > INVITE, so that the from field is always the logical identity of the
> caller,
> > no
> > matter when its sent. So, B could include its actual URL in 
> the From field
> > of the re-INVITE. Since the call leg ID is based only on 
> tags, this would
> > work.
> >
> > 3. Call leg lookups are now oodles easier, since they are 
> just based on
> > case-sensitive string compares. No more messy URL 
> comparisons. However,
> its
> > worth noting that you can still do this anyway, since tags 
> have to be
> > globally unique. That is, even though the spec says its the full
> > To/From/Call-ID, you could just use tags/Call-ID to index 
> legs at a UA.
> What
> > you wouldn't be able to do is change the From/To URLs in subsequent
> > requests, as above in (2).
> >
> > 4. The Replaces header gets shortened; its now easier to 
> identify the call
> > leg
> > thats getting replaced. May not be a big deal.
> >
> > 5. This may work with existing proxies, but has 
> compatibility issues with
> > existing
> > UAs. A simple SUpported token would handle this, though.
> >
> >
> > Given that (1) is moot, (3) is possible without this 
> proposal, (4) is not
> > too important, the only real benefit is (2), that you can 
> send the right
> > From header in a re-INVITE. Now, an argument here is that 
> anybody who
> makes
> > policy decisions based on the From header anyway is in 
> trouble, since its
> > client supplied. Thus, you need to authenticate, and the credentials
> > provided (or the Remote-Party-ID header) are what you would 
> use anyway.
> So,
> > who cares if the From header is not right in the re-INVITE anyway.
> >
> > Proposal:
> >
> > So, given the limited utility, and the potential interop 
> problems, the
> > proposal is to keep the current wording.
> >
> > -Jonathan R.
> >
> >
> > ---
> > Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
> > Chief Scientist                             First Floor
> > dynamicsoft                                 East Hanover, NJ 07936
> > jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
> > http://www.jdrosen.net                      PHONE: (973) 952-5000
> > http://www.dynamicsoft.com
> >
> >
> > _______________________________________________
> > Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> > This list is for NEW development of the core SIP Protocol
> > Use sip-implementors@cs.columbia.edu for questions on current sip
> > Use sipping@ietf.org for new developments on the application of sip
> >
> 

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@ns.ietf.org  Thu Dec  6 02:43:03 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id CAA17859
	for <sip-archive@odin.ietf.org>; Thu, 6 Dec 2001 02:43:03 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id CAA08601
	for sip-archive@odin.ietf.org; Thu, 6 Dec 2001 02:43:05 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id CAA07260;
	Thu, 6 Dec 2001 02:16:46 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id CAA07228
	for <sip@ns.ietf.org>; Thu, 6 Dec 2001 02:16:41 -0500 (EST)
Received: from mail1.dynamicsoft.com (mail1.dynamicsoft.com [63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id CAA15831
	for <sip@ietf.org>; Thu, 6 Dec 2001 02:16:39 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fB67Ef4I019246
	for <sip@ietf.org>; Thu, 6 Dec 2001 02:14:41 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <YAN9Y0SL>; Thu, 6 Dec 2001 02:16:11 -0500
Message-ID: <B65B4F8437968F488A01A940B21982BF020D7144@DYN-EXCH-001.dynamicsoft.com>
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: "'sip@ietf.org'" <sip@ietf.org>
Date: Thu, 6 Dec 2001 02:16:10 -0500 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Subject: [Sip] Open Issue #197: URLs in OPTIONS
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

Issue:

What kind of URLs are allowed in an OPTIONS response?

The right answer depends on the interpretation of the Contact in the OPTIONS
response. Really, Contact has two separate meanings. The one in INVITE and
INVITE-200 are signaling addresses, which always need to be one single SIP
URL. The Contact in 3xx, REGISTER, and REGISTER-200 are alternate names for
a user, which can be non-SIP URLs, and there can be more than one. The
distinction is subtle (and this is why its one header), but I have become
convinced that they are distinct.

Now, which of these two do we want in OPTIONS? If we are trying to obtain a
direct address for signaling for INVITE, then we want the first
interpretation, in which case it needs to be a single SIP URL. If its a set
of alternate names for a user, then it can be multiple non-SIP URLs. 

Discussion:

In most cases, you are not going to be able to signal directly to the
contact anyway, for firewall/nat/policy reasons. Therefore, the more useful
piece of information is the alternate set of names for the user.

Proposal:

Contact in 2xx to OPTIONS has redirect semantics.

-Jonathan R.
---
Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
Chief Scientist                             First Floor
dynamicsoft                                 East Hanover, NJ 07936
jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
http://www.jdrosen.net                      PHONE: (973) 952-5000
http://www.dynamicsoft.com
 

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@ns.ietf.org  Thu Dec  6 04:11:15 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id EAA21933
	for <sip-archive@odin.ietf.org>; Thu, 6 Dec 2001 04:11:14 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id EAA11027
	for sip-archive@odin.ietf.org; Thu, 6 Dec 2001 04:11:17 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id DAA10391;
	Thu, 6 Dec 2001 03:53:00 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id DAA10361
	for <sip@ns.ietf.org>; Thu, 6 Dec 2001 03:52:58 -0500 (EST)
Received: from mail1.dynamicsoft.com (mail1.dynamicsoft.com [63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id DAA21711
	for <sip@ietf.org>; Thu, 6 Dec 2001 03:52:55 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fB68fU4I019345
	for <sip@ietf.org>; Thu, 6 Dec 2001 03:41:30 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <YAN9Y0TQ>; Thu, 6 Dec 2001 03:42:59 -0500
Message-ID: <B65B4F8437968F488A01A940B21982BF020D7147@DYN-EXCH-001.dynamicsoft.com>
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: "'sip@ietf.org'" <sip@ietf.org>
Date: Thu, 6 Dec 2001 03:42:58 -0500 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Subject: [Sip] Open Issue #203: transport related params in To/From
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

Issue:

Minor issue. Table 1 indicates that in the From/To fields, a SIP URL cannot
contain an maddr, 
but can contain a port. This seems odd. Either all addressing params should
be 
allowed (port, transport, ttl, maddr) else none of them.

Proposal:

From/To are supposed to be logical addresses, so neither port nor maddr nor
any of the others make much sense there. Proposal is to remove unless anyone
is sending with these parameters.

-Jonathan R.

---
Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
Chief Scientist                             First Floor
dynamicsoft                                 East Hanover, NJ 07936
jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
http://www.jdrosen.net                      PHONE: (973) 952-5000
http://www.dynamicsoft.com
 

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@ns.ietf.org  Thu Dec  6 05:28:03 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id FAA22681
	for <sip-archive@odin.ietf.org>; Thu, 6 Dec 2001 05:28:02 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id FAA13111
	for sip-archive@odin.ietf.org; Thu, 6 Dec 2001 05:28:05 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id FAA12877;
	Thu, 6 Dec 2001 05:14:00 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id FAA12849
	for <sip@ns.ietf.org>; Thu, 6 Dec 2001 05:13:58 -0500 (EST)
Received: from oak.neustar.com (oak.neustar.com [209.173.53.70])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id FAA22566
	for <sip@ietf.org>; Thu, 6 Dec 2001 05:13:54 -0500 (EST)
Received: from chiimc01.il.neustar.com (dmz1.va.neustar.com [209.173.53.65])
	by oak.neustar.com (8.11.0/8.11.0) with ESMTP id fB6ABr510126;
	Thu, 6 Dec 2001 05:12:17 -0500
Received: by chiimc01.il.neustar.com with Internet Mail Service (5.5.2653.19)
	id <Y2XB0TMF>; Thu, 6 Dec 2001 04:14:06 -0600
Message-ID: <70565611B164D511957A001083FCDD56CAACDC@va02.va.neustar.com>
From: "Peterson, Jon" <jon.peterson@neustar.biz>
To: "'Jonathan Rosenberg'" <jdrosen@dynamicsoft.com>
Cc: "'sip@ietf.org'" <sip@ietf.org>
Subject: RE: [Sip] Open Issue #164: Proxy-Authentication-Info
Date: Thu, 6 Dec 2001 04:13:39 -0600 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

I definitely agree that mutual authentication overall seems to have been an
afterthought in rfc2617; the focus of the document is clearly on
undirectional (server authenticates client) operations. Moreover, rfc2617
states that Proxy-Authenticate and Proxy-Authorization are hBh, not e2e, and
that undoubtedly removes the need for any differentiation of challenge
responses.

I suppose the argument could be made that if you want to perform mutual
authentication, you should defer to an external mechanism like TLS or IPSec
rather than using the built-in auth mechanism - that might soften the blow
of selecting (1).

But that much said, I agree that cnonce should be sufficient for the client
to differentiate Proxy-Authentication-Infos from various servers. It does
seem kind of awkward to use realms to differentiate challenge responses in
one direction and cnonces to differentiate them in another, but on balance
it's probably worth it.

Jon Peterson
NeuStar, Inc.

> -----Original Message-----
> From: Jonathan Rosenberg [mailto:jdrosen@dynamicsoft.com]
> Sent: Wednesday, December 05, 2001 9:37 PM
> To: 'sip@ietf.org'
> Subject: [Sip] Open Issue #164: Proxy-Authentication-Info
> 
> 
> Issue:
> 
> bis-05 does not use Proxy-Authentication-Info. This response 
> header, defined
> in rfc2617, allows for mutual authentication between a client 
> and proxies.
> THe header is not used since it has a flaw that is bad for 
> SIP - it appears
> to assume a single proxy. This is because it omits the realm 
> as a parameter.
> From the brief amount of text about 
> Proxy-Authenticatiopn-Info, it appears
> that it was added as an afterthought, and this issue was not 
> considered.
> Thus, if a UAC gets a 2xx response that came through three 
> proxies, and each
> of them inserted a Proxy-Authentication-Info header, the UAC 
> would not be
> able to determine which header is for which proxy. 
> 
> Discussion:
> 
> This header can either be:
> 
> (1) omitted entirely, so that mutual auth between client and 
> proxy is not
> possible
> (2) it can be fixed. The fix is to simply extend the header 
> and add the
> requisite realm parameter. 
> (3) we can instead use the nonce to distinguish the headers. The
> Proxy-Authorization headers in the request would each contain 
> a DIFFERENT
> cnonce for each proxy that is being challenged. The proxies 
> mirror this
> cnonce in the response. The UAC can therefore use the cnonce 
> to figure out
> which header is for which proxy. 
> 
> Although (3) is somewhat ugly, it is the least amount of 
> work, as it allows
> us to directly use rfc2617, with some additional explanatory 
> text. I believe
> mutual auth between client and server is important. 
> Therefore, the proposal
> is:
> 
> Proposal:
> 
> Take approach (3), which allows Proxy-Authentication-Info, 
> but document the
> issue with cnonce as a selection parameter. 
> 
> -Jonathan R.
> 
> 
> 
> ---
> Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
> Chief Scientist                             First Floor
> dynamicsoft                                 East Hanover, NJ 07936
> jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
> http://www.jdrosen.net                      PHONE: (973) 952-5000
> http://www.dynamicsoft.com
>  
> 
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
> 

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@ns.ietf.org  Thu Dec  6 05:58:07 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id FAA23057
	for <sip-archive@odin.ietf.org>; Thu, 6 Dec 2001 05:58:07 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id FAA14095
	for sip-archive@odin.ietf.org; Thu, 6 Dec 2001 05:58:10 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id FAA13695;
	Thu, 6 Dec 2001 05:40:49 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id FAA13667
	for <sip@ns.ietf.org>; Thu, 6 Dec 2001 05:40:47 -0500 (EST)
Received: from fep01-app.kolumbus.fi (fep01-0.kolumbus.fi [193.229.0.41])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id FAA22887
	for <sip@ietf.org>; Thu, 6 Dec 2001 05:40:42 -0500 (EST)
Received: from jariws1 ([62.248.238.66]) by fep01-app.kolumbus.fi
          (InterMail vM.5.01.03.08 201-253-122-118-108-20010628) with SMTP
          id <20011206104045.CLQ16206.fep01-app.kolumbus.fi@jariws1>;
          Thu, 6 Dec 2001 12:40:45 +0200
Message-ID: <019001c17e42$7e66eb60$8a1b6e0a@arenanet.fi>
From: "Jari Arkko" <jari.arkko@kolumbus.fi>
To: "Peterson, Jon" <jon.peterson@neustar.biz>,
        "'Jonathan Rosenberg'" <jdrosen@dynamicsoft.com>
Cc: <sip@ietf.org>
References: <70565611B164D511957A001083FCDD56CAACDC@va02.va.neustar.com>
Subject: Re: [Sip] Open Issue #164: Proxy-Authentication-Info
Date: Thu, 6 Dec 2001 12:40:59 +0200
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 5.50.4133.2400
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4133.2400
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

> I suppose the argument could be made that if you want to perform mutual
> authentication, you should defer to an external mechanism like TLS or IPSec
> rather than using the built-in auth mechanism - that might soften the blow
> of selecting (1).

That would be otherwise fine, but it's hBh. I think we should fix digest auth,
ie pick alternative (2).

Jari




_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@ns.ietf.org  Thu Dec  6 05:59:29 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id FAA23084
	for <sip-archive@odin.ietf.org>; Thu, 6 Dec 2001 05:59:28 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id FAA14115
	for sip-archive@odin.ietf.org; Thu, 6 Dec 2001 05:59:32 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id FAA13834;
	Thu, 6 Dec 2001 05:43:58 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id FAA13806
	for <sip@ns.ietf.org>; Thu, 6 Dec 2001 05:43:56 -0500 (EST)
Received: from ns.nmss.com (gateus.nmss.com [208.236.204.65])
	by ietf.org (8.9.1a/8.9.1a) with SMTP id FAA22936
	for <sip@ietf.org>; Thu, 6 Dec 2001 05:43:53 -0500 (EST)
From: NAMASMTP01@nmss.com
Received: from NAMASMTP01 by ns.nmss.com
          via smtpd (for odin.ietf.org [132.151.1.176]) with SMTP; 6 Dec 2001 05:40:24 UT
X-Priority: 3 (Normal)
Date: Thu, 6 Dec 2001 05:42:04 -0500
To: sip@ietf.org
Message-ID: <OFF3842ED5.8EB5927D-ON85256B1A.003AC8BD@nmss.com>
X-MIMETrack: Serialize by Router on NAMASMTP01/Natural MicroSystems/US(Release 5.0.8 |June
 18, 2001) at 12/06/2001 05:43:42 AM
MIME-Version: 1.0
Content-type: text/plain; charset=us-ascii
Subject: [Sip] Report to Recipient(s)
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

Incident Information:-

Originator:    sip-admin@ietf.org
Recipients:    sip@ietf.org
Subject:  [Sip] Re:

WARNING:  The file Me_nude.MP3.scr you received was infected with the
PWS-gen.Hooker virus.  The file attachment was not successfully cleaned.


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@ns.ietf.org  Thu Dec  6 08:43:51 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id IAA24968
	for <sip-archive@odin.ietf.org>; Thu, 6 Dec 2001 08:43:50 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id IAA18163
	for sip-archive@odin.ietf.org; Thu, 6 Dec 2001 08:43:53 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id IAA17419;
	Thu, 6 Dec 2001 08:22:10 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id IAA17387
	for <sip@ns.ietf.org>; Thu, 6 Dec 2001 08:22:07 -0500 (EST)
Received: from gbnewp0915s1.eu.ubiquity.net (news.ubiquity.net [194.202.146.92])
	by ietf.org (8.9.1a/8.9.1a) with SMTP id IAA24570
	for <sip@ietf.org>; Thu, 6 Dec 2001 08:22:03 -0500 (EST)
Received: from mailhost.eu.ubiquity.net by gbnewp0915s1.eu.ubiquity.net
          via smtpd (for odin.ietf.org [132.151.1.176]) with SMTP; 6 Dec 2001 13:22:19 UT
X-MimeOLE: Produced By Microsoft Exchange V6.0.4417.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Subject: RE: [Sip] Open Issue #88: Addressing OPTIONS to a proxy/redirect server
Date: Thu, 6 Dec 2001 13:22:54 -0000
Message-ID: <45730E094814E44488F789C1CDED27AE01122758@GBNEWP0758M.eu.ubiquity.net>
Thread-Topic: [Sip] Open Issue #88: Addressing OPTIONS to a proxy/redirect server
Thread-Index: AcF920PRmvW/UxySSqazRhzYyFGPQQAfVwVQ
From: "Jo Hornsby" <jhornsby@ubiquity.net>
To: "Jonathan Rosenberg" <jdrosen@dynamicsoft.com>, <sip@ietf.org>
Content-Transfer-Encoding: 8bit
X-MIME-Autoconverted: from quoted-printable to 8bit by optimus.ietf.org id IAA17388
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 8bit

> Issue:
> 
> How do you address an OPTIONS to a specific proxy/redirect 
> server? The spec simply says that the R-URI indicates the
> server, but doesn't say how to do it.
> 
> Discussion:
> 
> This is a fairly minor issue. Given the infrequency of 
> OPTIONS in general, and the even more infrequency of
> OPTIONS to servers, its not a big deal. But its an easy
> one anyway.
> 
> Proposal:
> 
> The domain in the request-URI would look like it does for 
> REGISTER. So, if you want to get the extensions supported
> by the proxy for foo.com:
> 
> OPTIONS sip:foo.com SIP/2.0

Agreed.

> The mechanism of using Max-Forwards to query a specific proxy 
> on the path would also remain.

Yes..., I noticed the resurrection of said mechanism.

I thought we decided to remove it ages ago; what was
the motivation for bringing him back?


 - Jo.

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@ns.ietf.org  Thu Dec  6 09:07:05 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id JAA25568
	for <sip-archive@odin.ietf.org>; Thu, 6 Dec 2001 09:07:05 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id JAA19086
	for sip-archive@odin.ietf.org; Thu, 6 Dec 2001 09:07:08 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id IAA18265;
	Thu, 6 Dec 2001 08:47:23 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id IAA18234
	for <sip@ns.ietf.org>; Thu, 6 Dec 2001 08:47:20 -0500 (EST)
Received: from gbnewp0915s1.eu.ubiquity.net (news.ubiquity.net [194.202.146.92])
	by ietf.org (8.9.1a/8.9.1a) with SMTP id IAA25098
	for <sip@ietf.org>; Thu, 6 Dec 2001 08:47:16 -0500 (EST)
Received: from mailhost.eu.ubiquity.net by gbnewp0915s1.eu.ubiquity.net
          via smtpd (for odin.ietf.org [132.151.1.176]) with SMTP; 6 Dec 2001 13:47:32 UT
X-MimeOLE: Produced By Microsoft Exchange V6.0.4417.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Subject: RE: [Sip] Open Issue #144: Branch ID  + isCancel() as transaction ID
Date: Thu, 6 Dec 2001 13:48:08 -0000
Message-ID: <45730E094814E44488F789C1CDED27AE011224D9@GBNEWP0758M.eu.ubiquity.net>
Thread-Topic: [Sip] Open Issue #144: Branch ID  + isCancel() as transaction ID
Thread-Index: AcF+CTogNs5p/IZYR9GPznW0tel0ZAAUd8sw
From: "Jo Hornsby" <jhornsby@ubiquity.net>
To: "Jonathan Rosenberg" <jdrosen@dynamicsoft.com>, <sip@ietf.org>
Content-Transfer-Encoding: 8bit
X-MIME-Autoconverted: from quoted-printable to 8bit by optimus.ietf.org id IAA18235
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 8bit

> Issue:
> 
> The computation of the transaction ID in current SIP is, 
> well, challenging. It is a combination of a bunch of header
> fields, and conditionally as well (with or without tags).
> This requires fairly deep parsing of a number of fields and
> is the source of much confusion, even for the co-authors of
> the spec (I made numerous errors in the text while updating
> to bis-05)
> 
> Bis-05 has taken a big step forward with a rigorous definition
> of transaction, which makes it clear that its a single "branch" 
> in the tree of requests formed when a UAC sends a request
> through a bunch of proxies. That is, the To/From/CSeq/Call-ID
> identify the root of this tree, and the Via branch + r-uri
> further identify each branch in the tree. Based on this, it
> is natural to take the final step, and define the transaction
> ID for a request/response MUCH more simply - it is the value
> of the branch ID in the topmost via, with the small caveat
> that CANCEL has the same branch ID, but its a different
> transaction. Thats needed for backwards compatibility.
> 
> Bis-05 has sufficient randomness requirements on the branch 
> ID to satisfy this definition. Only two things are missing.
> First, the UAC needs to insert it also, and secondly, a proxy
> needs to know whether the previous hop used the uniqueness
> properties specified in bis. The proposal would be to specify
> in bis-05 that a client can insert the branch ID (and give 
> reasons why its a good thing). To deal with the compatibility
> issue, we further mandate that all branch-IDs generated uniquely
> according to bis start with some small magic cookie to
> identify them as unique. A proxy would extract the via, look
> at the branch, and if it has this cookie, need not even look 
> at the call-id, to, from, or cseq in order to process the
> request. If, however, the branch does not contain this cookie,
> it needs to do the full parse as defined in bis right now.
> 
> We are so close to this final step, I believe it is worth 
> taking. The costs are small, its still optional - just an
> optimization - and we have full interop. However, the benefits
> will be very good when you have a lot of deployed bis elements.
> 
> Proposal:
> 
> Allow for branch ID to be the transaction ID, by taking the 
> steps described above.

I do not disagree. &:)

But one caveat: I have never been fully sure that the branch
parameter is globally unique.  I think it can be deduced
that it is locally unique (i.e., within the Via hostport
space); but I'm failing to find text that nails down the
uniqueness globally.


 - Jo.

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@ns.ietf.org  Thu Dec  6 09:25:50 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id JAA26054
	for <sip-archive@odin.ietf.org>; Thu, 6 Dec 2001 09:25:50 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id JAA19577
	for sip-archive@odin.ietf.org; Thu, 6 Dec 2001 09:25:53 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id JAA19255;
	Thu, 6 Dec 2001 09:12:48 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id JAA19224
	for <sip@ns.ietf.org>; Thu, 6 Dec 2001 09:12:45 -0500 (EST)
Received: from gbnewp0915s1.eu.ubiquity.net (news.ubiquity.net [194.202.146.92])
	by ietf.org (8.9.1a/8.9.1a) with SMTP id JAA25698
	for <sip@ietf.org>; Thu, 6 Dec 2001 09:12:41 -0500 (EST)
Received: from mailhost.eu.ubiquity.net by gbnewp0915s1.eu.ubiquity.net
          via smtpd (for odin.ietf.org [132.151.1.176]) with SMTP; 6 Dec 2001 14:12:57 UT
X-MimeOLE: Produced By Microsoft Exchange V6.0.4417.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Subject: RE: [Sip] Open Issue #203: transport related params in To/From
Date: Thu, 6 Dec 2001 14:13:32 -0000
Message-ID: <45730E094814E44488F789C1CDED27AE0112275B@GBNEWP0758M.eu.ubiquity.net>
Thread-Topic: [Sip] Open Issue #203: transport related params in To/From
Thread-Index: AcF+NOL7NKfeeCzURzatQxE+LxE5TQAKvT9A
From: "Jo Hornsby" <jhornsby@ubiquity.net>
To: "Jonathan Rosenberg" <jdrosen@dynamicsoft.com>, <sip@ietf.org>
Content-Transfer-Encoding: 8bit
X-MIME-Autoconverted: from quoted-printable to 8bit by optimus.ietf.org id JAA19225
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 8bit

> Issue:
> 
> Minor issue. Table 1 indicates that in the From/To fields, a 
> SIP URL cannot contain an maddr, but can contain a port.
> This seems odd. Either all addressing params should be 
> allowed (port, transport, ttl, maddr) else none of them.
>
> Proposal:
> 
> From/To are supposed to be logical addresses, so neither port 
> nor maddr nor any of the others make much sense there.
> Proposal is to remove unless anyone is sending with these
> parameters.

Sounds good to me.

If this approach is adopted, am I right in thinking we will
have to be _very_ strict about refusing requests that have
these parameters (else I can see nasty SIP URL comparison
issues ariving)?


 - Jo.

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@ns.ietf.org  Thu Dec  6 09:29:47 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id JAA26137
	for <sip-archive@odin.ietf.org>; Thu, 6 Dec 2001 09:29:46 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id JAA19639
	for sip-archive@odin.ietf.org; Thu, 6 Dec 2001 09:29:50 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id JAA19148;
	Thu, 6 Dec 2001 09:08:58 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id JAA19116
	for <sip@ns.ietf.org>; Thu, 6 Dec 2001 09:08:55 -0500 (EST)
Received: from gbnewp0915s1.eu.ubiquity.net (news.ubiquity.net [194.202.146.92])
	by ietf.org (8.9.1a/8.9.1a) with SMTP id JAA25623
	for <sip@ietf.org>; Thu, 6 Dec 2001 09:08:51 -0500 (EST)
Received: from mailhost.eu.ubiquity.net by gbnewp0915s1.eu.ubiquity.net
          via smtpd (for odin.ietf.org [132.151.1.176]) with SMTP; 6 Dec 2001 14:09:07 UT
X-MimeOLE: Produced By Microsoft Exchange V6.0.4417.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Subject: RE: [Sip] MAJOR Open Issue #184: Message size limitations
Date: Thu, 6 Dec 2001 14:09:42 -0000
Message-ID: <45730E094814E44488F789C1CDED27AE011224DA@GBNEWP0758M.eu.ubiquity.net>
Thread-Topic: [Sip] MAJOR Open Issue #184: Message size limitations
Thread-Index: AcF+IikSrmyqDJ8sT0uSMaxZUfBN8QAPKzRw
From: "Jo Hornsby" <jhornsby@ubiquity.net>
To: "Jonathan Rosenberg" <jdrosen@dynamicsoft.com>, <sip@ietf.org>
Content-Transfer-Encoding: 8bit
X-MIME-Autoconverted: from quoted-printable to 8bit by optimus.ietf.org id JAA19117
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 8bit

> Issue:
[...]
> 2. The spec imposes no specific limits on the sizes of 
> various headers, or the number of each type of header.
> However, many implementations have chosen their own
> limitations, often based on a guess, in order to allocate
> maximum buffer sizes and the like. This has resulted in
> some interoperability problems. Ideally, we should allow
> any number of each header, and any size for any element,
> up to the maximum allowed SIP message size (64k), but
> this is not realistic.

Hello.  Call me "Devil's Advocate".
Why is this not realistic?


 - Jo.

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@ns.ietf.org  Thu Dec  6 09:41:10 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id JAA26362
	for <sip-archive@odin.ietf.org>; Thu, 6 Dec 2001 09:41:10 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id JAA20272
	for sip-archive@odin.ietf.org; Thu, 6 Dec 2001 09:41:13 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id JAA19372;
	Thu, 6 Dec 2001 09:17:23 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id JAA19344
	for <sip@ns.ietf.org>; Thu, 6 Dec 2001 09:17:21 -0500 (EST)
Received: from zcars0m9.nortelnetworks.com (zcars0m9.nortelnetworks.com [47.129.242.157])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id JAA25767
	for <sip@ietf.org>; Thu, 6 Dec 2001 09:17:12 -0500 (EST)
Received: from znsgs01r.europe.nortel.com (znsgs01r.europe.nortel.com [47.137.129.92])
	by zcars0m9.nortelnetworks.com (8.11.0/8.11.0) with ESMTP id fB6EG4d00073;
	Thu, 6 Dec 2001 09:16:05 -0500 (EST)
Received: from zwcwc012.europe.nortel.com (zwcwc012.europe.nortel.com [47.73.112.187])
	by znsgs01r.europe.nortel.com (Switch-2.2.0/Switch-2.2.0) with ESMTP id fB6EGbl12176;
	Thu, 6 Dec 2001 14:16:37 GMT
Received: by zwcwc012.europe.nortel.com with Internet Mail Service (5.5.2653.19)
	id <YH6LX6CM>; Thu, 6 Dec 2001 14:15:36 -0000
Message-ID: <A3C2399B2FACD411A54200508BE39C7405A13427@zwcwd00r.europe.nortel.com>
From: "Mark Watson" <mwatson@nortelnetworks.com>
To: Jonathan Rosenberg <jdrosen@dynamicsoft.com>,
        "'sip@ietf.org'"
	 <sip@ietf.org>
Subject: RE: [Sip] Major Open Issue #113: Overlapping Transactions
Date: Thu, 6 Dec 2001 14:15:29 -0000 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C17E60.7598C170"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

This message is in MIME format. Since your mail reader does not understand
this format, some or all of this message may not be legible.

------_=_NextPart_001_01C17E60.7598C170
Content-Type: text/plain;
	charset="iso-8859-1"

Jonathan,

My reading of bis-05, following the clarification of the dialog
establishment ambiguity, was that overlapping INVITES *were* allowed on
*established dialogs* - so we could have overlapping INVITEs once we have a
provisional response containing a To: tag.

Is this understanding wrong ?

I do think that overlapping INVITES in this sense are essential for Early
Media as described in your draft & that proper handling of Early Media is
essential for interworking with the PSTN/ISDN where (IMO) most SIP calls
will originate or terminate (at least in the next 10 years or so :-)

Regards,

Mark

-----Original Message-----
From: Jonathan Rosenberg [mailto:jdrosen@dynamicsoft.com]
Sent: 05 December 2001 20:31
To: 'sip@ietf.org'
Subject: [Sip] Major Open Issue #113: Overlapping Transactions


Issue:

This is a major issue. One of the more major ones remaining.

Currently, the spec forbids more than one INVITE at a time, and more than
one non-INVITE at a time. This is simple, but there are valid concerns that
it will bite us down the road when uses require faster operation. Thus, the
issue is whether to relax this two constraints.

Discussion points:

The reason we forbid it with INVITE was that you couldn't easily figure out
the most recent session description. There was no way to tell whether the
response to the first INV was sent before or after the response to the
second INVITE. Without a consistent view of which was the most recent SDP,
the session parameters would be wrong.

The reason we forbid it with non-INVITE was that we had no easy way to do
end-to-end sequenced delivery (there could be gaps in CSeq due to proxy
challenges).

Its not clear if there is a pressing need at this time for overlapping
INVITE. Early media may require it; draft-rosenberg-sip-early-media used it,
but its not clear that this was the easiest or best way to do this.
Overlapping non-INVITE has already come up, in the context of MESSAGE
(although it looks like it won't be needed there), but it is likely to be an
issue with NOTIFY as well.

I've been on the fence, but now believe its important to allow overlapping
non-INVITE, since we will probably really need it down the road, and
eliminating the possibility for any future method seems dangerous. THus, I
propose that we allow overlapping invite transactions. Ordering may or may
not be important depending on the method; the content or some other headers
may determine ordering as needed. As an example, PRACK can be overlapped and
there is not even a need for ordering. 

I am more on the fence with INVITE, and here too fear we may find we need
it. To allow it, we would need to require that all INVITEs are full state,
and that the INVITE with the highest CSeq, and the response to the INVITE
with the highest CSeq, always take precedence. 

So, here is an example. A sends INVITE, CSeq 1, to B. It then sends INVITE,
CSeq 2, to B. B receives sequence 2 first. It generates a 200 OK with SDP.
It then gets the first INVITE. This invite is really irrelevant; CSeq 2
carried all information that is needed, so this one is out of date. B
responds with 200 OK with some SDP. The 200 OK to CSeq 2 arrives at A, which
uses that. The 200 OK for CSeq 1 arrives, and is ignored. All of this works
because we can enforce that INVITE and the response have full state.

Things would get a little tricky with non-2xx responses. Consider the same
case, but now B responds to the INVITE with CSeq 2 with 400, but the INVITE
with CSeq 1 with 200. Is the call still up? I would say yes; A would get the
400 first, and then would need to know to wait for the first response to
determine the state of the call. Thats a bit complex.

So, in the interests of making a decision:


Proposal:

Disallow overlapping INVITE (because it could get ugly)
Allow overlapping non-INVITE (because we will restrict ourselves too much
without it)
  
-Jonathan R.

---
Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
Chief Scientist                             First Floor
dynamicsoft                                 East Hanover, NJ 07936
jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
http://www.jdrosen.net                      PHONE: (973) 952-5000
http://www.dynamicsoft.com
 

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip

------_=_NextPart_001_01C17E60.7598C170
Content-Type: text/html;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV=3D"Content-Type" CONTENT=3D"text/html; =
charset=3Diso-8859-1">
<META NAME=3D"Generator" CONTENT=3D"MS Exchange Server version =
5.5.2654.89">
<TITLE>RE: [Sip] Major Open Issue #113: Overlapping =
Transactions</TITLE>
</HEAD>
<BODY>

<P><FONT SIZE=3D2>Jonathan,</FONT>
</P>

<P><FONT SIZE=3D2>My reading of bis-05, following the clarification of =
the dialog establishment ambiguity, was that overlapping INVITES *were* =
allowed on&nbsp; *established dialogs* - so we could have overlapping =
INVITEs once we have a provisional response containing a To: =
tag.</FONT></P>

<P><FONT SIZE=3D2>Is this understanding wrong ?</FONT>
</P>

<P><FONT SIZE=3D2>I do think that overlapping INVITES in this sense are =
essential for Early Media as described in your draft &amp; that proper =
handling of Early Media is essential for interworking with the =
PSTN/ISDN where (IMO) most SIP calls will originate or terminate (at =
least in the next 10 years or so :-)</FONT></P>

<P><FONT SIZE=3D2>Regards,</FONT>
</P>

<P><FONT SIZE=3D2>Mark</FONT>
</P>

<P><FONT SIZE=3D2>-----Original Message-----</FONT>
<BR><FONT SIZE=3D2>From: Jonathan Rosenberg [<A =
HREF=3D"mailto:jdrosen@dynamicsoft.com">mailto:jdrosen@dynamicsoft.com</=
A>]</FONT>
<BR><FONT SIZE=3D2>Sent: 05 December 2001 20:31</FONT>
<BR><FONT SIZE=3D2>To: 'sip@ietf.org'</FONT>
<BR><FONT SIZE=3D2>Subject: [Sip] Major Open Issue #113: Overlapping =
Transactions</FONT>
</P>
<BR>

<P><FONT SIZE=3D2>Issue:</FONT>
</P>

<P><FONT SIZE=3D2>This is a major issue. One of the more major ones =
remaining.</FONT>
</P>

<P><FONT SIZE=3D2>Currently, the spec forbids more than one INVITE at a =
time, and more than</FONT>
<BR><FONT SIZE=3D2>one non-INVITE at a time. This is simple, but there =
are valid concerns that</FONT>
<BR><FONT SIZE=3D2>it will bite us down the road when uses require =
faster operation. Thus, the</FONT>
<BR><FONT SIZE=3D2>issue is whether to relax this two =
constraints.</FONT>
</P>

<P><FONT SIZE=3D2>Discussion points:</FONT>
</P>

<P><FONT SIZE=3D2>The reason we forbid it with INVITE was that you =
couldn't easily figure out</FONT>
<BR><FONT SIZE=3D2>the most recent session description. There was no =
way to tell whether the</FONT>
<BR><FONT SIZE=3D2>response to the first INV was sent before or after =
the response to the</FONT>
<BR><FONT SIZE=3D2>second INVITE. Without a consistent view of which =
was the most recent SDP,</FONT>
<BR><FONT SIZE=3D2>the session parameters would be wrong.</FONT>
</P>

<P><FONT SIZE=3D2>The reason we forbid it with non-INVITE was that we =
had no easy way to do</FONT>
<BR><FONT SIZE=3D2>end-to-end sequenced delivery (there could be gaps =
in CSeq due to proxy</FONT>
<BR><FONT SIZE=3D2>challenges).</FONT>
</P>

<P><FONT SIZE=3D2>Its not clear if there is a pressing need at this =
time for overlapping</FONT>
<BR><FONT SIZE=3D2>INVITE. Early media may require it; =
draft-rosenberg-sip-early-media used it,</FONT>
<BR><FONT SIZE=3D2>but its not clear that this was the easiest or best =
way to do this.</FONT>
<BR><FONT SIZE=3D2>Overlapping non-INVITE has already come up, in the =
context of MESSAGE</FONT>
<BR><FONT SIZE=3D2>(although it looks like it won't be needed there), =
but it is likely to be an</FONT>
<BR><FONT SIZE=3D2>issue with NOTIFY as well.</FONT>
</P>

<P><FONT SIZE=3D2>I've been on the fence, but now believe its important =
to allow overlapping</FONT>
<BR><FONT SIZE=3D2>non-INVITE, since we will probably really need it =
down the road, and</FONT>
<BR><FONT SIZE=3D2>eliminating the possibility for any future method =
seems dangerous. THus, I</FONT>
<BR><FONT SIZE=3D2>propose that we allow overlapping invite =
transactions. Ordering may or may</FONT>
<BR><FONT SIZE=3D2>not be important depending on the method; the =
content or some other headers</FONT>
<BR><FONT SIZE=3D2>may determine ordering as needed. As an example, =
PRACK can be overlapped and</FONT>
<BR><FONT SIZE=3D2>there is not even a need for ordering. </FONT>
</P>

<P><FONT SIZE=3D2>I am more on the fence with INVITE, and here too fear =
we may find we need</FONT>
<BR><FONT SIZE=3D2>it. To allow it, we would need to require that all =
INVITEs are full state,</FONT>
<BR><FONT SIZE=3D2>and that the INVITE with the highest CSeq, and the =
response to the INVITE</FONT>
<BR><FONT SIZE=3D2>with the highest CSeq, always take precedence. =
</FONT>
</P>

<P><FONT SIZE=3D2>So, here is an example. A sends INVITE, CSeq 1, to B. =
It then sends INVITE,</FONT>
<BR><FONT SIZE=3D2>CSeq 2, to B. B receives sequence 2 first. It =
generates a 200 OK with SDP.</FONT>
<BR><FONT SIZE=3D2>It then gets the first INVITE. This invite is really =
irrelevant; CSeq 2</FONT>
<BR><FONT SIZE=3D2>carried all information that is needed, so this one =
is out of date. B</FONT>
<BR><FONT SIZE=3D2>responds with 200 OK with some SDP. The 200 OK to =
CSeq 2 arrives at A, which</FONT>
<BR><FONT SIZE=3D2>uses that. The 200 OK for CSeq 1 arrives, and is =
ignored. All of this works</FONT>
<BR><FONT SIZE=3D2>because we can enforce that INVITE and the response =
have full state.</FONT>
</P>

<P><FONT SIZE=3D2>Things would get a little tricky with non-2xx =
responses. Consider the same</FONT>
<BR><FONT SIZE=3D2>case, but now B responds to the INVITE with CSeq 2 =
with 400, but the INVITE</FONT>
<BR><FONT SIZE=3D2>with CSeq 1 with 200. Is the call still up? I would =
say yes; A would get the</FONT>
<BR><FONT SIZE=3D2>400 first, and then would need to know to wait for =
the first response to</FONT>
<BR><FONT SIZE=3D2>determine the state of the call. Thats a bit =
complex.</FONT>
</P>

<P><FONT SIZE=3D2>So, in the interests of making a decision:</FONT>
</P>
<BR>

<P><FONT SIZE=3D2>Proposal:</FONT>
</P>

<P><FONT SIZE=3D2>Disallow overlapping INVITE (because it could get =
ugly)</FONT>
<BR><FONT SIZE=3D2>Allow overlapping non-INVITE (because we will =
restrict ourselves too much</FONT>
<BR><FONT SIZE=3D2>without it)</FONT>
<BR><FONT SIZE=3D2>&nbsp; </FONT>
<BR><FONT SIZE=3D2>-Jonathan R.</FONT>
</P>

<P><FONT SIZE=3D2>---</FONT>
<BR><FONT SIZE=3D2>Jonathan D. Rosenberg, =
Ph.D.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&=
nbsp;&nbsp;&nbsp;&nbsp; 72 Eagle Rock Ave.</FONT>
<BR><FONT SIZE=3D2>Chief =
Scientist&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nb=
sp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nb=
sp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; First Floor</FONT>
<BR><FONT =
SIZE=3D2>dynamicsoft&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
East Hanover, NJ 07936</FONT>
<BR><FONT =
SIZE=3D2>jdrosen@dynamicsoft.com&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p;&nbsp; FAX:&nbsp;&nbsp; (973) 952-5050</FONT>
<BR><FONT SIZE=3D2><A HREF=3D"http://www.jdrosen.net" =
TARGET=3D"_blank">http://www.jdrosen.net</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p;&nbsp;&nbsp;&nbsp;&nbsp; PHONE: (973) 952-5000</FONT>
<BR><FONT SIZE=3D2><A HREF=3D"http://www.dynamicsoft.com" =
TARGET=3D"_blank">http://www.dynamicsoft.com</A></FONT>
<BR><FONT SIZE=3D2>&nbsp;</FONT>
</P>

<P><FONT =
SIZE=3D2>_______________________________________________</FONT>
<BR><FONT SIZE=3D2>Sip mailing list&nbsp; <A =
HREF=3D"http://www1.ietf.org/mailman/listinfo/sip" =
TARGET=3D"_blank">http://www1.ietf.org/mailman/listinfo/sip</A></FONT>
<BR><FONT SIZE=3D2>This list is for NEW development of the core SIP =
Protocol</FONT>
<BR><FONT SIZE=3D2>Use sip-implementors@cs.columbia.edu for questions =
on current sip</FONT>
<BR><FONT SIZE=3D2>Use sipping@ietf.org for new developments on the =
application of sip</FONT>
</P>

</BODY>
</HTML>
------_=_NextPart_001_01C17E60.7598C170--

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@ns.ietf.org  Thu Dec  6 10:27:11 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id KAA27401
	for <sip-archive@odin.ietf.org>; Thu, 6 Dec 2001 10:27:11 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id KAA21578
	for sip-archive@odin.ietf.org; Thu, 6 Dec 2001 10:27:15 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id KAA21143;
	Thu, 6 Dec 2001 10:07:14 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id KAA21106
	for <sip@ns.ietf.org>; Thu, 6 Dec 2001 10:07:11 -0500 (EST)
Received: from gbnewp0915s1.eu.ubiquity.net (news.ubiquity.net [194.202.146.92])
	by ietf.org (8.9.1a/8.9.1a) with SMTP id KAA27140
	for <sip@ietf.org>; Thu, 6 Dec 2001 10:07:06 -0500 (EST)
Received: from mailhost.eu.ubiquity.net by gbnewp0915s1.eu.ubiquity.net
          via smtpd (for odin.ietf.org [132.151.1.176]) with SMTP; 6 Dec 2001 15:07:22 UT
Received: from gbnewp0796m ([193.195.52.113]) by GBNEWP0758M.eu.ubiquity.net with Microsoft SMTPSVC(5.0.2195.1600);
	 Thu, 6 Dec 2001 15:07:58 +0000
From: "James Undery" <jundery@ubiquity.net>
To: "'Jari Arkko'" <jari.arkko@kolumbus.fi>,
        "'Peterson, Jon'" <jon.peterson@neustar.biz>,
        "'Jonathan Rosenberg'" <jdrosen@dynamicsoft.com>
Cc: <sip@ietf.org>
Subject: RE: [Sip] Open Issue #164: Proxy-Authentication-Info
Date: Thu, 6 Dec 2001 15:07:57 -0000
Message-ID: <003901c17e67$ca4008d0$7134c3c1@eu.ubiquity.net>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook CWS, Build 9.0.2416 (9.0.2911.0)
In-Reply-To: <019001c17e42$7e66eb60$8a1b6e0a@arenanet.fi>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
Importance: Normal
X-OriginalArrivalTime: 06 Dec 2001 15:07:58.0443 (UTC) FILETIME=[CA55B3B0:01C17E67]
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit



> -----Original Message-----
> From: sip-admin@ietf.org [mailto:sip-admin@ietf.org]On Behalf Of Jari
> Arkko
> Sent: 06 December 2001 10:41
> To: Peterson, Jon; 'Jonathan Rosenberg'
> Cc: sip@ietf.org
> Subject: Re: [Sip] Open Issue #164: Proxy-Authentication-Info
>
>
> > I suppose the argument could be made that if you want to
> perform mutual
> > authentication, you should defer to an external mechanism
> like TLS or IPSec
> > rather than using the built-in auth mechanism - that might
> soften the blow
> > of selecting (1).
>
> That would be otherwise fine, but it's hBh. I think we should
> fix digest auth,
> ie pick alternative (2).

I'd agree with Jari here as I'd also like to "fix" Authentication-Info as
currently it only applies to digest authentication and making it more like
WWW-Authenticate (in terms of flexibility) would be nice.

Also TLS/IPSec are first hop rather than hBh solutions in the terms of
authentication Proxy-Authenticate/Proxy-Authentication-Info provides.
(Although they still form an important yet different role.)

James


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@ns.ietf.org  Thu Dec  6 11:03:31 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id LAA28479
	for <sip-archive@odin.ietf.org>; Thu, 6 Dec 2001 11:03:31 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id LAA22914
	for sip-archive@odin.ietf.org; Thu, 6 Dec 2001 11:03:33 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id KAA21492;
	Thu, 6 Dec 2001 10:22:29 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id KAA21379
	for <sip@ns.ietf.org>; Thu, 6 Dec 2001 10:22:24 -0500 (EST)
Received: from topaz.3com.com (topaz.3com.com [192.156.136.158])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id KAA27321
	for <sip@ietf.org>; Thu, 6 Dec 2001 10:22:19 -0500 (EST)
From: Anoop_Tripathi@3com.com
Received: from opal.3com.com (opal.3com.com [139.87.50.117])
	by topaz.3com.com (Switch-2.1.3/Switch-2.1.0) with ESMTP id fB6FLpu15714;
	Thu, 6 Dec 2001 07:21:51 -0800 (PST)
Received: from hqsmtp01.3com.com (hqsmtp01.ops.3com.com [139.87.49.79])
	by opal.3com.com (Switch-2.1.3/Switch-2.1.0) with ESMTP id fB6FLpT21166;
	Thu, 6 Dec 2001 07:21:51 -0800 (PST)
Subject: Re: [Sip] Open Issue #150: too many ways of saying "don't send me media"
To: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
Cc: "'sip@ietf.org'" <sip@ietf.org>
Date: Thu, 6 Dec 2001 09:22:39 -0600
Message-ID: <OF613F583F.E703390F-ON86256B1A.0053F975@3com.com>
MIME-Version: 1.0
Content-type: text/plain; charset=us-ascii
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org



We have deployments in multi-vendor environment where all vendors are using
c=0.0.0.0 to say "don't send me media". Is there any particular reason we
want to deprecate this mechanism except for "since there are too many".

Our recommendation would be to continue supporting it. I don't think it
would be any big overhead for any implementation to support this. Our
recommendation is:

c=0.0.0.0          ALLOWED
a=inactive,sendly  PREFERRED
zero port:         disables media stream
bw=0               DONT USE


Thanks,

Anoop Tripathi

CommWorks Corporation
A 3Com Company




Jonathan Rosenberg <jdrosen@dynamicsoft.com>@ietf.org on 12/05/2001
11:41:19 PM

Sent by:  sip-admin@ietf.org


To:   "'sip @ietf.org'" <sip@ietf.org>
cc:
Subject:  [Sip] Open Issue #150: too many ways of saying "don't send me
      media"


Issue:

There are a bunch of ways to say "don't send me media":

c=0.0.0.0
a=inactive,sendonly
zero port
bw=0

What do these all mean, and do we need them all?

Discussion: We've agreed on most of this already. The only real issue is to
say that bw=0 is never used. So, the proposal is:

c=0.0.0.0          DEPRECATED
a=inactive,sendly  PREFERRED
zero port:         disables media stream
bw=0               DONT USE

-Jonathan R.
---
Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
Chief Scientist                             First Floor
dynamicsoft                                 East Hanover, NJ 07936
jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
http://www.jdrosen.net                      PHONE: (973) 952-5000
http://www.dynamicsoft.com


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip





_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@ns.ietf.org  Thu Dec  6 11:06:02 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id LAA28801
	for <sip-archive@odin.ietf.org>; Thu, 6 Dec 2001 11:06:02 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id LAA22974
	for sip-archive@odin.ietf.org; Thu, 6 Dec 2001 11:06:04 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id KAA22241;
	Thu, 6 Dec 2001 10:42:01 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id KAA22208
	for <sip@ns.ietf.org>; Thu, 6 Dec 2001 10:41:58 -0500 (EST)
Received: from opus.cs.columbia.edu (opus.cs.columbia.edu [128.59.20.100])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id KAA27847
	for <sip@ietf.org>; Thu, 6 Dec 2001 10:41:55 -0500 (EST)
Received: from cs.columbia.edu (metroliner.cs.columbia.edu [128.59.19.252])
	by opus.cs.columbia.edu (8.10.2+Sun/8.9.3) with ESMTP id fB6FfsV10879;
	Thu, 6 Dec 2001 10:41:54 -0500 (EST)
Message-ID: <3C0F91C2.BD43EE7A@cs.columbia.edu>
Date: Thu, 06 Dec 2001 10:41:54 -0500
From: "Henning G. Schulzrinne" <hgs@cs.columbia.edu>
Organization: Dept. of Computer Science, Columbia University
X-Mailer: Mozilla 4.78 [en] (X11; U; Linux 2.2.19-3cucs i686)
X-Accept-Language: en
MIME-Version: 1.0
To: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
CC: "'sip@ietf.org'" <sip@ietf.org>
Subject: Re: [Sip] Open Issue #150: too many ways of saying "don't send me media"
References: <B65B4F8437968F488A01A940B21982BF020D713D@DYN-EXCH-001.dynamicsoft.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Jonathan Rosenberg wrote:
> 
> Issue:
> 
> There are a bunch of ways to say "don't send me media":
> 
> c=0.0.0.0
> a=inactive,sendonly
> zero port
> bw=0
> 
> What do these all mean, and do we need them all?
> 
> Discussion: We've agreed on most of this already. The only real issue is to
> say that bw=0 is never used. So, the proposal is:
> 
> c=0.0.0.0          DEPRECATED
> a=inactive,sendly  PREFERRED
> zero port:         disables media stream
> bw=0               DONT USE
> 

What do you mean by "DON'T USE"? Don't use in SDP or don't use the
media? 
-- 
Henning Schulzrinne   http://www.cs.columbia.edu/~hgs

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@ns.ietf.org  Thu Dec  6 11:57:07 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id LAA01090
	for <sip-archive@odin.ietf.org>; Thu, 6 Dec 2001 11:57:06 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id LAA25238
	for sip-archive@odin.ietf.org; Thu, 6 Dec 2001 11:57:09 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id LAA24243;
	Thu, 6 Dec 2001 11:36:02 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id LAA24213
	for <sip@ns.ietf.org>; Thu, 6 Dec 2001 11:36:00 -0500 (EST)
Received: from mail1.dynamicsoft.com (mail1.dynamicsoft.com [63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id LAA00213
	for <sip@ietf.org>; Thu, 6 Dec 2001 11:35:56 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fB6GXx4I020926
	for <sip@ietf.org>; Thu, 6 Dec 2001 11:33:59 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <YAN9ZALJ>; Thu, 6 Dec 2001 11:35:30 -0500
Message-ID: <B65B4F8437968F488A01A940B21982BF020D714F@DYN-EXCH-001.dynamicsoft.com>
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: "'sip@ietf.org'" <sip@ietf.org>
Date: Thu, 6 Dec 2001 11:35:29 -0500 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Subject: [Sip] Open Issue #205: Headers and method param in 3xx/REGISTER Contact
 header URLs
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

Issue:

Minor issue.

bis-05 allows the URL method parameter and header parameters to appear in
3xx and REGISTER requests/responses. Do we really want this?

Discussion:

Headers - yes. It makes sense for me to be able to redirect you to my
voicemail with a specific Subject header, for example:

303 Send Voicemail SIP/2.0
Contact: sip:myvoicemail@vm.com?Subject=call%20from%20Bob

Method parameter - no. That is definitely dangerous. The only complication
is that we use the caller preferences methods (note the plural) contact
header for presence, amongst other things. Due to the unfortunate closeness
of these two parameter names, some people are using the method param
instead, i.e.:

REGISTER
Contact: sip:user@host;method="SUBSCRIBE"

This is definitely WRONG, since the syntax for method does not actually use
quoted strings. However, it is out there.

I would argue, on the other hand, that we should not standardize something
because people have misimplemented it.

Proposal:

Allow headers
disallow method

-Jonathan R.

---
Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
Chief Scientist                             First Floor
dynamicsoft                                 East Hanover, NJ 07936
jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
http://www.jdrosen.net                      PHONE: (973) 952-5000
http://www.dynamicsoft.com
 

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@ns.ietf.org  Thu Dec  6 11:59:54 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id LAA01284
	for <sip-archive@odin.ietf.org>; Thu, 6 Dec 2001 11:59:53 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id LAA25329
	for sip-archive@odin.ietf.org; Thu, 6 Dec 2001 11:59:56 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id LAA23381;
	Thu, 6 Dec 2001 11:22:06 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id LAA23323
	for <sip@ns.ietf.org>; Thu, 6 Dec 2001 11:22:01 -0500 (EST)
Received: from june.Broomfield1.level3.net (june.Broomfield1.Level3.net [209.245.18.7])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id LAA29548
	for <sip@ietf.org>; Thu, 6 Dec 2001 11:21:57 -0500 (EST)
From: John.Hearty@Level3.com
Received: from f1ee40-19.idc1.level3.com (hme0.f1ee40-19.idc1.oss.level3.com [10.1.144.204])
	by june.Broomfield1.level3.net (8.9.3/8.9.3) with ESMTP id QAA24767;
	Thu, 6 Dec 2001 16:20:19 GMT
Received: from n0195idc1.oss.level3.com (localhost [127.0.0.1])
	by f1ee40-19.idc1.level3.com (8.8.8+Sun/8.8.8) with ESMTP id QAA07320;
	Thu, 6 Dec 2001 16:21:53 GMT
Received: by n0195idc1.oss.level3.com with Internet Mail Service (5.5.2653.19)
	id <YKJGC220>; Thu, 6 Dec 2001 09:21:52 -0700
Message-ID: <17052388D394D411803900508BDFFAF601B37068@n0214idc1.oss.level3.com>
To: jdrosen@dynamicsoft.com, sip@ietf.org
Subject: RE: [Sip] Open Issue #139: re-INVITE Glare
Date: Thu, 6 Dec 2001 09:21:49 -0700 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

 I like the 491 response, but am still not completely happy with the retry
mechanism which is  still essentially the same as before.  I would prefer
something that both sides would know definitively who proceeds on the glare
(or whatever it will be called).  Perhaps converting the Contact header
value of both UAs to an integer, highest value wins.  There may be a better
way than this, but something that definitively decides which UA's Invite
gets 200 OK'd and which gets 491'd is preferable.  This completely
eliminates retry time for one of the UAs, and the other can do its retry
after the OK'd transaction completes.

John Hearty
Level3

-----Original Message-----
From: Jonathan Rosenberg [mailto:jdrosen@dynamicsoft.com]
Sent: Wednesday, December 05, 2001 8:18 PM
To: 'sip@ietf.org'
Subject: [Sip] Open Issue #139: re-INVITE Glare


Issue:

A sends an re-INVITE to B. B sends a re-INVITE to A. These cross on the
wire. If both respond with 2xx, we have a problem. There is no way to order,
at A, the INVITE from B and the 2xx from B, as each contain SDP, and
potentially other information as well. What to do to deal with this?

Discussion:

The current spec says that when you receive a re-INVITE whilst one is in
progress, you respond to that reinvite with a 5xx and a Retry-After header
randomly distributed between 1 and 10s (in units of 1s). Unfortunately, the
problem with this is it will take 5s on average to try again, with a 10%
probability of another glare. This could mean it takes a while to resolve
the glare. So, the issue is if there is a better way.

There is. The better way is to be explicit. We define a new response code,
491 (Request Pending), which says "I got your request, but I have one
pending to you that interacts". There would be two recommended behaviors. If
A sends an INVITE to B, and gets a 491 back before the request from B that
"glared", A simply responds to that glared request with a 2xx and everything
works. If A sends an INVITE to B, and then receives the request from B, it
responds to that request with a 491. If the response to its own request was
491, it chooses a random number between 0 and 3s, in units of 10ms, and
tries again at that time. This will work much faster than before, and since
its explicit about what happened, potentially other strategies could be
used.

We also need to generalize it beyond re-INVITEs, and call it something less
telephony centric.

Proposal:

Go with 491 approach described above.

-Jonathan R.

---
Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
Chief Scientist                             First Floor
dynamicsoft                                 East Hanover, NJ 07936
jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
http://www.jdrosen.net                      PHONE: (973) 952-5000
http://www.dynamicsoft.com
 

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@ns.ietf.org  Thu Dec  6 12:01:21 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA01404
	for <sip-archive@odin.ietf.org>; Thu, 6 Dec 2001 12:01:21 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id MAA26256
	for sip-archive@odin.ietf.org; Thu, 6 Dec 2001 12:01:24 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id LAA23277;
	Thu, 6 Dec 2001 11:19:40 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id LAA23246
	for <sip@ns.ietf.org>; Thu, 6 Dec 2001 11:19:36 -0500 (EST)
Received: from DNIDC02.Dialout.net ([206.183.139.198])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id LAA29498
	for <sip@ietf.org>; Thu, 6 Dec 2001 11:19:33 -0500 (EST)
Received: from dnimail.Dialout.net ([172.17.1.30]) by DNIDC02.Dialout.net with Microsoft SMTPSVC(5.0.2195.3779);
	 Thu, 6 Dec 2001 11:18:58 -0500
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Date: Thu, 6 Dec 2001 11:18:19 -0500
Message-ID: <DCFB33B6D8BCC54B8219D8B90645866E0DB2BD@dnimail.Dialout.net>
X-MimeOLE: Produced By Microsoft Exchange V6.0.4712.0
Thread-Topic: [Simple] New I-D on IM transport
Thread-Index: AcF9wRy23eNyQYG0QxuF16XHIePqvgAr+hAQ
From: "David Yon" <Yon@Dialout.net>
To: "Jonathan Rosenberg" <jdrosen@dynamicsoft.com>,
        "Paul Kyzivat" <pkyzivat@cisco.com>
Cc: <sip@ietf.org>, "Ben Campbell" <bcampbell@dynamicsoft.com>,
        "confctrl@isi.edu" <confctrl@ISI.EDU>
X-OriginalArrivalTime: 06 Dec 2001 16:18:58.0992 (UTC) FILETIME=[B5D1E300:01C17E71]
Content-Transfer-Encoding: 8bit
X-MIME-Autoconverted: from quoted-printable to 8bit by optimus.ietf.org id LAA23247
Subject: [Sip] RE: [Simple] New I-D on IM transport
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 8bit



> -----Original Message-----
> From: Jonathan Rosenberg [mailto:jdrosen@dynamicsoft.com] 
> Sent: Wednesday, December 05, 2001 1:54 PM
> To: 'Paul Kyzivat'; Jonathan Rosenberg
> Cc: 'sip@ietf.org'; Ben Campbell; 'confctrl@isi.edu'
> Subject: RE: [Simple] New I-D on IM transport
> 
> 
> > > > - in a separate mail thread on the comedia draft, we 
> > identified some
> > > > added problems with reinvites and connection oriented 
> > media. In that
> > > > case, what is negotiated in the sdp is used to establish a media
> > > > connection, so it isn't idempotent to subsequent 
> > invitations. There is
> > > > need to indicate in the sdp whether to renegotiate the 
> > connection or
> > > > not. I don't think we ever fully resolved that. But I 
> > believe it is
> > > > important that something in the sdp be changed to 
> > indicate a desire to
> > > > renegotiate the connection. The same kind of scenario 
> > applies here.
> > > 
> > > This is a good point. I think its a pure co-media issue, 
> > though, and that
> > > needs to be addressed in that draft.
> > 
> > Fair enough, as long as the rules you are trying to craft 
> > dovetail with
> > that. It may not be sufficient to simply reinvite with same old SDP;
> > it may be required to do something slightly different on a per-media
> > basis.
> 
> Right; you likely need to use a=reuse. One thing that is missing from
> comedia, though, is what to do if no existing connection 
> exists. This would
> be an issue for the reconstitute draft, since it would send a 
> re-invite with
> a=reuse, which might arrive at a new server that doesn't have 
> a connection.
> Indeed, one might argue that reuse is orthogonal to 
> a=active/passive/both.
> a=reuse would say what to do if the connection exists, the 
> rest would say
> what to do when it doesn't.
> 
>

While I'm not in tune with the full history of this thread, but what you
are saying above is in violation of what is specified in comedia.  An
endpoint may only specify "reuse" when it is signaling its intention to
add a media stream over an existing connection.  If there is no existing
connection, why would an endpoint specify "reuse"?

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@ns.ietf.org  Thu Dec  6 12:04:56 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA01534
	for <sip-archive@odin.ietf.org>; Thu, 6 Dec 2001 12:04:55 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id MAA26462
	for sip-archive@odin.ietf.org; Thu, 6 Dec 2001 12:04:58 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id LAA24465;
	Thu, 6 Dec 2001 11:41:58 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id LAA24437
	for <sip@ns.ietf.org>; Thu, 6 Dec 2001 11:41:55 -0500 (EST)
Received: from mail1.dynamicsoft.com (mail1.dynamicsoft.com [63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id LAA00444
	for <sip@ietf.org>; Thu, 6 Dec 2001 11:41:52 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fB6Gds4I021016
	for <sip@ietf.org>; Thu, 6 Dec 2001 11:39:54 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <YAN9ZAMW>; Thu, 6 Dec 2001 11:41:25 -0500
Message-ID: <B65B4F8437968F488A01A940B21982BF020D7150@DYN-EXCH-001.dynamicsoft.com>
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: "'sip@ietf.org'" <sip@ietf.org>
Date: Thu, 6 Dec 2001 11:41:25 -0500 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Subject: [Sip] Open Issue #207: Handling of session failures
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

Issue:

The spec is silent on what a UA should do if failures in the media sessions 
occur (ICMP, timeouts, or media specific errors). I think something should
be 
said. draft-rosenberg-sip-reconstitute-00.txt talks a lot about this
problem; 
nearly all of that is local implementation logic, but one piece that
requires a 
normative change to the spec - if you detect a failure in media stream, send
a 
re-invite to see if that repairs it. 

The re-invite will help if the failure is due to a end system failure. In
that case, the re-INVITE will reconstitute the dialog and session state at
an alternate, which is helpful and useful in many cases. It won't do much at
all if there was a network failure.

If the re-INVITE fails, or nothing changes in the media stream, you SHOULD
then send a BYE.

I'd like to incoroporate this piece of logic into bis.

Proposal:

UAC SHOULD re-INVITE with same SDP when it detects failures in the media
session.
If re-INVITE doesn't help, SHOULD send a BYE

-Jonathan R.

---
Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
Chief Scientist                             First Floor
dynamicsoft                                 East Hanover, NJ 07936
jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
http://www.jdrosen.net                      PHONE: (973) 952-5000
http://www.dynamicsoft.com
 

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@ns.ietf.org  Thu Dec  6 12:10:20 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA02990
	for <sip-archive@odin.ietf.org>; Thu, 6 Dec 2001 12:10:19 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id MAA26778
	for sip-archive@odin.ietf.org; Thu, 6 Dec 2001 12:10:23 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id LAA24766;
	Thu, 6 Dec 2001 11:50:21 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id LAA24735
	for <sip@ns.ietf.org>; Thu, 6 Dec 2001 11:50:18 -0500 (EST)
Received: from opus.cs.columbia.edu (opus.cs.columbia.edu [128.59.20.100])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id LAA00716
	for <sip@ietf.org>; Thu, 6 Dec 2001 11:50:13 -0500 (EST)
Received: from cs.columbia.edu (metroliner.cs.columbia.edu [128.59.19.252])
	by opus.cs.columbia.edu (8.10.2+Sun/8.9.3) with ESMTP id fB6GoAV13660;
	Thu, 6 Dec 2001 11:50:10 -0500 (EST)
Message-ID: <3C0FA1C2.5B90B21A@cs.columbia.edu>
Date: Thu, 06 Dec 2001 11:50:10 -0500
From: "Henning G. Schulzrinne" <hgs@cs.columbia.edu>
Organization: Dept. of Computer Science, Columbia University
X-Mailer: Mozilla 4.78 [en] (X11; U; Linux 2.2.19-3cucs i686)
X-Accept-Language: en
MIME-Version: 1.0
To: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
CC: "'sip@ietf.org'" <sip@ietf.org>
Subject: Re: [Sip] Open Issue #204: Password in To/From URL
References: <B65B4F8437968F488A01A940B21982BF020D714E@DYN-EXCH-001.dynamicsoft.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Jonathan Rosenberg wrote:
> 
> Issue:
> 
> Minor issue.
> 
> The From field allows a password in the URL, but not the To field. This is
> not discussed and seems inconsistent. We should either allow it in both or
> document the reason.
> 
> Discussion:
> 
> I suspect the main application of the password in From is for things like
> PIN codes; it provides a simple, yet thoroughly insecure, way to identify a
> user. Its not clear what a password in To would mean. Perhaps it provides a
> password valid to talk to the specific user in the To field. However, as
> requests can be forwarded, this password would not be valid in many cases,
> and would potentially directly provide password information to the wrong
> user.
> 
> Its probably sensible to restrict usage of the password as much as possible.
> 
> Proposal:
> 
> Keep restriction. Document usage in From as identifying subscriber, and
> indicate that it makes no sense to have in in the To.

I can't quite parse your initial statement: "The From field allows a
password in the URL, but not the To field." Theoretically, passwords
could appear in

- request-uri
- To
- From

Having it in the destination (request-URI) has some modest value, but
adding it to the To header field doesn't seem to add any. Thus, I think
we're in agreement, but just wanted to make sure:

- request-uri = yes(*)
- To = no (since already in the request-uri for the destination)
- From = yes(*)

(*) with the usual caveats

The only reason I can see to allow this in the To header is that
typically, if you click on a web link such as
sip:alice:secret@example.com, it would be copied into both request-URI
and To. Since we wanted to treat the user:pw as effectively a single
string, it would seem easier not to special-case this and forcing the
program to strip the 'pw' part.

(We've had this discussion before, but just in case: a password for the
destination can be mildly useful for cases where I want to put my URI on
a secure or internal web page or some other directory. This is about as
secure as an unpublished telephone number, but it has its
spam-prevention uses.)
-- 
Henning Schulzrinne   http://www.cs.columbia.edu/~hgs

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@ns.ietf.org  Thu Dec  6 12:11:04 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA03481
	for <sip-archive@odin.ietf.org>; Thu, 6 Dec 2001 12:11:04 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id MAA26805
	for sip-archive@odin.ietf.org; Thu, 6 Dec 2001 12:11:07 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id LAA23354;
	Thu, 6 Dec 2001 11:22:03 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id LAA23315
	for <sip@ns.ietf.org>; Thu, 6 Dec 2001 11:22:00 -0500 (EST)
Received: from mail1.dynamicsoft.com (mail1.dynamicsoft.com [63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id LAA29545
	for <sip@ietf.org>; Thu, 6 Dec 2001 11:21:56 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fB6GJx4I020788
	for <sip@ietf.org>; Thu, 6 Dec 2001 11:19:59 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <YAN9ZAJB>; Thu, 6 Dec 2001 11:21:29 -0500
Message-ID: <B65B4F8437968F488A01A940B21982BF020D714E@DYN-EXCH-001.dynamicsoft.com>
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: "'sip@ietf.org'" <sip@ietf.org>
Date: Thu, 6 Dec 2001 11:21:28 -0500 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Subject: [Sip] Open Issue #204: Password in To/From URL
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

Issue:

Minor issue.

The From field allows a password in the URL, but not the To field. This is
not discussed and seems inconsistent. We should either allow it in both or
document the reason.

Discussion:

I suspect the main application of the password in From is for things like
PIN codes; it provides a simple, yet thoroughly insecure, way to identify a
user. Its not clear what a password in To would mean. Perhaps it provides a
password valid to talk to the specific user in the To field. However, as
requests can be forwarded, this password would not be valid in many cases,
and would potentially directly provide password information to the wrong
user.

Its probably sensible to restrict usage of the password as much as possible.

Proposal:

Keep restriction. Document usage in From as identifying subscriber, and
indicate that it makes no sense to have in in the To.

---
Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
Chief Scientist                             First Floor
dynamicsoft                                 East Hanover, NJ 07936
jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
http://www.jdrosen.net                      PHONE: (973) 952-5000
http://www.dynamicsoft.com
 

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@ns.ietf.org  Thu Dec  6 12:11:14 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA03609
	for <sip-archive@odin.ietf.org>; Thu, 6 Dec 2001 12:11:13 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id MAA26820
	for sip-archive@odin.ietf.org; Thu, 6 Dec 2001 12:11:16 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id LAA24654;
	Thu, 6 Dec 2001 11:48:14 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id LAA24625
	for <sip@ns.ietf.org>; Thu, 6 Dec 2001 11:48:11 -0500 (EST)
Received: from rtp-msg-core-1.cisco.com (rtp-msg-core-1.cisco.com [161.44.11.97])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id LAA00625
	for <sip@ietf.org>; Thu, 6 Dec 2001 11:48:08 -0500 (EST)
Received: from cannonat.cisco.com (cannon.cisco.com [161.44.228.16])
	by rtp-msg-core-1.cisco.com (8.11.3/8.9.1) with ESMTP id fB6Gljc23968;
	Thu, 6 Dec 2001 11:47:45 -0500 (EST)
Received: from cisco.com (dhcp-161-44-241-140.cisco.com [161.44.241.140])
	by cannonat.cisco.com (Mirapoint)
	with ESMTP id AAF34305 (AUTH pkyzivat);
	Thu, 6 Dec 2001 11:49:02 -0500 (EST)
Message-ID: <3C0FA05F.268B1EE2@cisco.com>
Date: Thu, 06 Dec 2001 11:44:15 -0500
From: Paul Kyzivat <pkyzivat@cisco.com>
X-Mailer: Mozilla 4.76 [en]C-CCK-MCD   (Windows NT 5.0; U)
X-Accept-Language: en
MIME-Version: 1.0
To: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
CC: "'confctrl@isi.edu'" <confctrl@ISI.EDU>, "'sip@ietf.org'" <sip@ietf.org>
References: <B65B4F8437968F488A01A940B21982BF020D7115@DYN-EXCH-001.dynamicsoft.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Subject: [Sip] Re: changing of media types allowed in offer/answer and SIP open issue
 #24
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

I think the restriction is silly. 

I don't see why any piece of code that can keep track of the positional
assignments, including media that have been refused, should have any
trouble reusing a previous slot for a new purpose. And changing the
media type in one step is more or less the same thing.

So why not allow those slots to be reused? 
We may yet see applications where there are enough reinvites with
changes in media that recycling of slots is important.

	Paul

Jonathan Rosenberg wrote:
> 
> Folks,
> 
> draft-rosenberg-mmusic-sdp-offer-answer-00.txt currently says:
> 
>  The media type (audio, video, etc.) for a stream MAY be changed. This
>    is particularly useful for changing between voice and fax in a single
>    stream, which are both separate media types. To do this, the offerer
>    creates a new media description, with a new media type, in place of
>    the description in the previous SDP which is to be changed. The IP
>    address and port for the stream MAY change, or MAY remain the same.
>    However, the list of payload type numbers for the new codecs MUST be
>    different than any used previously for this stream.
> 
> This is somewhat linked to the current sip open issue #24 about whether or
> not you can reuse a media stream "slot" which has been previously disabled
> with port=0. After all, changing the media type is really the same, more or
> less, as using a new media stream in place of where an old one was. I think
> leaning of consensus in the sip group was to disallow such reuse (although I
> can't remember at this moment what the reasoning was), and that would argue
> for removing the above capability.
> 
> Comments or thoughts on this?
> 
> -Jonathan R.
> 
> ---
> Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
> Chief Scientist                             First Floor
> dynamicsoft                                 East Hanover, NJ 07936
> jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
> http://www.jdrosen.net                      PHONE: (973) 952-5000
> http://www.dynamicsoft.com
>

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@ns.ietf.org  Thu Dec  6 12:21:54 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA04462
	for <sip-archive@odin.ietf.org>; Thu, 6 Dec 2001 12:21:49 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id MAA27257
	for sip-archive@odin.ietf.org; Thu, 6 Dec 2001 12:21:52 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA26419;
	Thu, 6 Dec 2001 12:03:35 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA26387
	for <sip@ns.ietf.org>; Thu, 6 Dec 2001 12:03:33 -0500 (EST)
Received: from pine.neustar.com (pine.neustar.com [209.173.57.70])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA01502
	for <sip@ietf.org>; Thu, 6 Dec 2001 12:03:29 -0500 (EST)
Received: from chiimc01.il.neustar.com (dmz1.il.neustar.com [209.173.57.65])
	by pine.neustar.com (8.11.0/8.11.0) with ESMTP id fB6H3SS11508;
	Thu, 6 Dec 2001 11:03:28 -0600
Received: by chiimc01.il.neustar.com with Internet Mail Service (5.5.2653.19)
	id <Y2XB0WSG>; Thu, 6 Dec 2001 11:05:57 -0600
Message-ID: <70565611B164D511957A001083FCDD56CAACDD@va02.va.neustar.com>
From: "Peterson, Jon" <jon.peterson@neustar.biz>
To: "'Jonathan Rosenberg'" <jdrosen@dynamicsoft.com>
Cc: "'sip@ietf.org'" <sip@ietf.org>
Subject: RE: [Sip] Open Issue #131: Meaning of challenge when UAC is a gat
	eway
Date: Thu, 6 Dec 2001 11:05:28 -0600 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org


I think that in order to evaluate this proposal we need to flush out how
'realm' is used in SIP. Even in rfc2617, the way that the realm string is
created for Basic as opposed to Digest auth is significantly different;
Basic realms are just arbitrary strings (like "business"), whereas Digest
recommends realms that contain a hostname and possibly the name of a user or
group. The interpretation of realms in SIP is further complicated by the
lack of some context (the canonical root URL) that is available in the HTTP
world; the value of providing context for the realm through Request-URI of
the SIP message instigating a challenge is unclear to me - especially since
that Request-URI might not be set by or even known to the challengee. I
think we need a story in rfc2543bis about how realm strings are constructed
in SIP, and what they're supposed to signify. 

I suspect that the realm-string for SIP should just explicitly designate
something like the administrative domain of the challenger (i.e.
"carrier.net") or the specific host that is issuing the challenge. Realms
should be globally unique (amongst domains, not necessarily hosts), and it
would probably be useful if they allowed hierarchical structures. Users,
when presented with a challenge dialog box by an application, would
understand how to navigate a challenge for a particular host or domain; this
could also potentially be meaningful to automatons.  I also believe this is
pretty close to the recommendations given for Digest auth realms in 2617.

I definitely think the proposal below is on the right track - provided the
semantics of the realm string don't introduce any complications. One
possible snag would be the case in which both a gateway and its user possess
credentials that have varying levels of authorization within the same realm.
If a gateway automatically intercepts challenges for such a realm, then the
user may have no way to present their superior credentials. Perhaps we could
recommend some implementation behavior that would get around this. The text
in bis05 currently specifies that we always display the realm to the user
and prompt them for a username and password (if we haven't already cached
credentials from a previous exchange). Maybe as a general rule for SIP
devices, we could say that if the user is prompted for credentials for a
specific realm and they decline to provide them (presumably because they
cannot), that the device may supply any credentials of its own for that
realm. "If you have a password for this service, press * now."

Jon Peterson
NeuStar, Inc.

> -----Original Message-----
> From: Jonathan Rosenberg [mailto:jdrosen@dynamicsoft.com]
> Sent: Wednesday, December 05, 2001 7:01 PM
> To: 'sip@ietf.org'
> Subject: [Sip] Open Issue #131: Meaning of challenge when UAC is a
> gateway
> 
> 
> Issue:
> 
> When a UAS or proxy challenges a UAC that is a PSTN gateway, is the
> challenge for the gateway, or the user calling through the 
> gateway? In the
> latter case, for example, the gateway might prompt the user, 
> with voice
> prompts, to enter a password or something.
> 
> Discussion points:
> 
> A similar issue can arise for a standalone sip phone; is the 
> challenge for
> the device or the user on the device? As a general rule, 
> realms are the way
> to identify for whom the challenge is requested. A device 
> would need to be
> programmed with the realm for which it has credentials as a 
> device. Should
> it receive a challenge for that realm, the device could 
> supply credentials.
> Challenges for other realms would go to the user, since 
> whether they are for
> the device or the user, the device can't answer them anyway, 
> so may as well
> try the user.
> 
> Proposal:
> 
> Add wording that talks about this realms usage.
> 
> -Jonathan R.
> 
> ---
> Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
> Chief Scientist                             First Floor
> dynamicsoft                                 East Hanover, NJ 07936
> jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
> http://www.jdrosen.net                      PHONE: (973) 952-5000
> http://www.dynamicsoft.com
>  
> 
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
> 

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@ns.ietf.org  Thu Dec  6 12:24:03 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA04619
	for <sip-archive@odin.ietf.org>; Thu, 6 Dec 2001 12:24:03 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id MAA27390
	for sip-archive@odin.ietf.org; Thu, 6 Dec 2001 12:24:06 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA26650;
	Thu, 6 Dec 2001 12:09:08 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA26614
	for <sip@ns.ietf.org>; Thu, 6 Dec 2001 12:09:05 -0500 (EST)
Received: from unity.cisco.com (evvbu-exchange.cisco.com [64.101.140.73])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA02046
	for <sip@ietf.org>; Thu, 6 Dec 2001 12:08:59 -0500 (EST)
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
X-MimeOLE: Produced By Microsoft Exchange V6.0.4712.0
Date: Thu, 6 Dec 2001 11:09:06 -0600
Message-ID: <E58F685255415A4EB2D4B8A02AEF32E32830DA@evvbu-exchange.amer.unity.cisco.com>
Thread-Topic: [Sip] Open Issue #205: Headers and method param in 3xx/REGISTER Contactheader URLs
Thread-Index: AcF+dz0a5GDxUhD0T/GDrqSipDhXjQAAHQZA
From: "Henry Chen" <hjlechen@cisco.com>
To: "Jonathan Rosenberg" <jdrosen@dynamicsoft.com>, <sip@ietf.org>
Content-Transfer-Encoding: 8bit
X-MIME-Autoconverted: from quoted-printable to 8bit by optimus.ietf.org id MAA26618
Subject: [Sip] Issue #202: BYE/200 race condition in UAS
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 8bit

Hi Jonathan:

	Can a caller drop a call and stop ring called party in the alert
state by the option 2 for issue #202?
	
	Thanks,

	Henry

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Dec  6 12:53:24 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA05795
	for <sip-archive@odin.ietf.org>; Thu, 6 Dec 2001 12:53:24 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id MAA29430
	for sip-archive@odin.ietf.org; Thu, 6 Dec 2001 12:53:25 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA28379;
	Thu, 6 Dec 2001 12:34:54 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA28314
	for <sip@ns.ietf.org>; Thu, 6 Dec 2001 12:34:50 -0500 (EST)
Received: from bdsl.66.12.12.130.gte.net (bdsl.66.12.12.130.gte.net [66.12.12.130])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA05133;
	Thu, 6 Dec 2001 12:34:45 -0500 (EST)
Received: from softarmor.com (localhost.localdomain [127.0.0.1])
	by bdsl.66.12.12.130.gte.net (8.11.2/8.11.2) with ESMTP id fB6Ibce15361;
	Thu, 6 Dec 2001 12:37:38 -0600
Message-ID: <3C0FAD24.9060409@softarmor.com>
Date: Thu, 06 Dec 2001 11:38:44 -0600
From: Dean Willis <dean.willis@softarmor.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:0.9.4) Gecko/20011019 Netscape6/6.2
X-Accept-Language: en-us
MIME-Version: 1.0
To: sip@ietf.org, sipping@ietf.org
References: <015501c17dd1$177a1c40$01000001@dynamicsoft.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Subject: [Sip] Re: [Sipping] More on meeting formats for SIP and SIPPING at IETF 52.
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit


Oops. I doubled a keystroke -- that mobile, should you need it is +1 214 
244 3703.

Thanks, Jim!

--
Dean

Dean Willis wrote:

>The ADs have been very firm in reminding us not to do "presentations of
>drafts". Meeting time is for resolving open issues.
>
>However, very brief presentations of changes in drafts based on previously
>open issues is a helpful way to jumpstart discussion of the current open
>issues.
>
>We also have a farliy large number of tasks where there are either a bunch
>of open issues requiring discussion, or multiple conflicting or
>complementary documents have been published.
>
>
>So, we're using a slightly different format for IETF 52. There are basically
>two types of activities on the agenda -- what  I call "changes in"
>discussions, and "topic discussions".
>
>The "Changes in" segments are titled something like "Changes in FuBar Draft"
>on the agenda. I expect these to be led by the draft author or a designated
>representative, who will probably use a slide deck to start things. The
>slides SHOULD cover (in the minimal appropriate detail) changes made to the
>document since its last revision or the last time it was discussed in a
>meeting. The slides SHOULD also recap any issues currently believed open.
>Discussion SHOULD focus on whether the changes have resolved the issues
>and/or opened any new ones, and on closing open issues. The slides MAY also
>address workplanning -- as in "how are we going to resolve the open issues",
>but SHOULD NOT be focused on this aspect.
>
>The topic discussions are titled something like "FuBar discussion" on the
>agenda. These will probably be led by one or more of the individuals whose
>names are associated with that segment on the agenda. These individuals MAY
>have prepared slides to assist with the discussion. These slides MUST NOT be
>general tutorials or introductions of a specific draft. When there are
>multiple individuals covering a topic, those individuals SHOULD coordinate
>their slides and overage of the topic.
>
>Please note that some topics will have linkages to topics outside of SIP and
>SIPPING. You MAY mention the linkage, but in general, we MUST NOT go outside
>of the appropriate scpe of our WGs.
>
>And, when it's all over with, all slides MUST be sent to me for inclusion in
>the proceedings. They MAY be sent to me before the meeting, in which case
>I'll TRY (hey, TRY isn't in RFC 2026, must be a bug) to get them posted
>before the meeting.
>
>If you have any questions, please contact me as early as possible. I'll be
>arriving Sunday night around2300, am styaing in Lttle America (as Dean
>Willis or possibly Edward Willis name) and my US mobile +1 2214 244 3703
>should work in Utah.
>
>Thank you all, and may this be the best organized chaos we've had yet!
>
>--
>Dean Willis
>
>
>_______________________________________________
>Sipping mailing list  http://www1.ietf.org/mailman/listinfo/sipping
>This list is for NEW development of the application of SIP
>Use sip-implementors@cs.columbia.edu for questions on current sip
>Use sip@ietf.org for new developments of core SIP
>



_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Dec  6 13:01:41 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id NAA06179
	for <sip-archive@odin.ietf.org>; Thu, 6 Dec 2001 13:01:41 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id NAA00170
	for sip-archive@odin.ietf.org; Thu, 6 Dec 2001 13:01:42 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA28782;
	Thu, 6 Dec 2001 12:39:23 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA28752
	for <sip@ns.ietf.org>; Thu, 6 Dec 2001 12:39:21 -0500 (EST)
Received: from sj-msg-core-2.cisco.com (sj-msg-core-2.cisco.com [171.69.24.11])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA05345
	for <sip@ietf.org>; Thu, 6 Dec 2001 12:39:19 -0500 (EST)
Received: from mira-sjc5-7.cisco.com (mira-sjc5-7.cisco.com [171.71.163.27])
	by sj-msg-core-2.cisco.com (8.11.3/8.9.1) with ESMTP id fB6HcgE28465;
	Thu, 6 Dec 2001 09:38:42 -0800 (PST)
Received: from thomasm-u1.cisco.com (thomasm-u1.cisco.com [128.107.140.53])
	by mira-sjc5-7.cisco.com (Mirapoint)
	with ESMTP id AAL72965;
	Thu, 6 Dec 2001 09:38:07 -0800 (PST)
Received: (thomasm@localhost) by thomasm-u1.cisco.com (8.8.8-Cisco List Logging/CISCO.WS.1.2) id JAA00849; Thu, 6 Dec 2001 09:38:41 -0800 (PST)
From: Michael Thomas <mat@cisco.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <15375.44321.843404.964457@thomasm-u1.cisco.com>
Date: Thu, 6 Dec 2001 09:38:41 -0800 (PST)
To: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
Cc: "'sip@ietf.org'" <sip@ietf.org>
Subject: [Sip] Open Issue #131: Meaning of challenge when UAC is a gateway
In-Reply-To: <B65B4F8437968F488A01A940B21982BF020D7137@DYN-EXCH-001.dynamicsoft.com>
References: <B65B4F8437968F488A01A940B21982BF020D7137@DYN-EXCH-001.dynamicsoft.com>
X-Mailer: VM 6.72 under 21.1 (patch 6) "Big Bend" XEmacs Lucid
X-Face: &,heK/V66p?[2!i|tVn,9lN0TUvEv7:9FzXREj/AuzN4m<D]vnFJ>u!4x[/Z4t{V}~L]+Sk
 @RFNnJEg~WZ/(8<`5a),-7ukALWa^&?&D2R0CSG3kO5~#6JxLF\d,g">$%B!0w{W)qIhmwhye104zd
 bUcI'1!
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit



Jonathan Rosenberg writes:
 > Issue:
 > 
 > When a UAS or proxy challenges a UAC that is a PSTN gateway, is the
 > challenge for the gateway, or the user calling through the gateway? In the
 > latter case, for example, the gateway might prompt the user, with voice
 > prompts, to enter a password or something.

   Drawing distinctions between user and devices is, IMO,
   pointless. The box should first check to see if it has
   the ability to fulfill the challenge itself, and only
   if it cannot should it prompt the user. I agree, allow
   the realm to be the differentiator. If it's possible, 
   I'd lose any mention of user/device since the suggestion
   of dichotomy causes people to go down the wrong road.

		Mike

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Dec  6 13:12:07 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id NAA06514
	for <sip-archive@odin.ietf.org>; Thu, 6 Dec 2001 13:12:07 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id NAA00626
	for sip-archive@odin.ietf.org; Thu, 6 Dec 2001 13:12:08 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA29289;
	Thu, 6 Dec 2001 12:49:01 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA29258
	for <sip@optimus.ietf.org>; Thu, 6 Dec 2001 12:48:58 -0500 (EST)
Received: from bdsl.66.12.12.130.gte.net (bdsl.66.12.12.130.gte.net [66.12.12.130])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA05654
	for <sip@ietf.org>; Thu, 6 Dec 2001 12:48:56 -0500 (EST)
Received: from softarmor.com (localhost.localdomain [127.0.0.1])
	by bdsl.66.12.12.130.gte.net (8.11.2/8.11.2) with ESMTP id fB6Ipje15434;
	Thu, 6 Dec 2001 12:51:45 -0600
Message-ID: <3C0FB073.5010003@softarmor.com>
Date: Thu, 06 Dec 2001 11:52:51 -0600
From: Dean Willis <dean.willis@softarmor.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:0.9.4) Gecko/20011019 Netscape6/6.2
X-Accept-Language: en-us
MIME-Version: 1.0
To: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
CC: "'sip@ietf.org'" <sip@ietf.org>
Subject: Re: [Sip] Open Issue #188: Reply-To
References: <B65B4F8437968F488A01A940B21982BF020D7142@DYN-EXCH-001.dynamicsoft.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit


Personally, I kind of like Reply-To, so I'd suggest just putting it into 
bis.

--
Dean


Jonathan Rosenberg wrote:

>Issue:
>
>Do we want to add a Reply-To header? Presumably, this is the URL to use to 
>return calls at a later time. Its different from Contact, in that its a
>logical 
>address. Its not From/To, since they could be different. Example:
>
>INVITE sip:customer@foo.com
>From: sip:support-rep-32@company.com
>To: sip:customer@foo.com
>Contact: sip:support-rep-32@1.2.3.4
>Reply-To: sip:support@company.com
>
>Discussion:
>
>From a technical perspective, another alternative would be to define an
>additional rpi-id-type in the Remote-Party-ID header, which indicates the
>reply address type. R-P-ID has become the repository of identities not
>already provided by other headers (althouth R-PID is more meant for network
>authenticated identities, and thats not this), so it could fit there. Its a
>bit ugly, since it would diverge from many other rfc822 based applications
>which have defined and used this header.
>
>This header becomes a bit more important with MESSAGE defined. 
>
>Another alternative is to stick it into an extension by itself. That seems
>silly, since this is such a small, simple extension that it would be a
>waste.
>
>Putting it in bis is easy enough, and its backwards compatible. But, do we
>want to be adding things at this time, rather than taking away?
>
>Proposal:
>
>Its simple. Its compatible. Its well understood. Its going to really be
>needed for MESSAGE, probably other things. Let us take the simple route and
>add it.
>
>-Jonathan R.
>
>---
>Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
>Chief Scientist                             First Floor
>dynamicsoft                                 East Hanover, NJ 07936
>jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
>http://www.jdrosen.net                      PHONE: (973) 952-5000
>http://www.dynamicsoft.com
> 
>
>_______________________________________________
>Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
>This list is for NEW development of the core SIP Protocol
>Use sip-implementors@cs.columbia.edu for questions on current sip
>Use sipping@ietf.org for new developments on the application of sip
>



_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Dec  6 13:14:54 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id NAA06618
	for <sip-archive@odin.ietf.org>; Thu, 6 Dec 2001 13:14:54 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id NAA00887
	for sip-archive@odin.ietf.org; Thu, 6 Dec 2001 13:14:56 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id NAA00320;
	Thu, 6 Dec 2001 13:04:07 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id NAA00286
	for <sip@optimus.ietf.org>; Thu, 6 Dec 2001 13:04:04 -0500 (EST)
Received: from opus.cs.columbia.edu (opus.cs.columbia.edu [128.59.20.100])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id NAA06334
	for <sip@ietf.org>; Thu, 6 Dec 2001 13:04:01 -0500 (EST)
Received: from cs.columbia.edu (metroliner.cs.columbia.edu [128.59.19.252])
	by opus.cs.columbia.edu (8.10.2+Sun/8.9.3) with ESMTP id fB6I3tV17534;
	Thu, 6 Dec 2001 13:03:55 -0500 (EST)
Message-ID: <3C0FB30B.C3273085@cs.columbia.edu>
Date: Thu, 06 Dec 2001 13:03:55 -0500
From: "Henning G. Schulzrinne" <hgs@cs.columbia.edu>
Organization: Dept. of Computer Science, Columbia University
X-Mailer: Mozilla 4.78 [en] (X11; U; Linux 2.2.19-3cucs i686)
X-Accept-Language: en
MIME-Version: 1.0
To: Michael Thomas <mat@cisco.com>
CC: Jonathan Rosenberg <jdrosen@dynamicsoft.com>,
        "'sip@ietf.org'" <sip@ietf.org>
Subject: Re: [Sip] Open Issue #131: Meaning of challenge when UAC is a gateway
References: <B65B4F8437968F488A01A940B21982BF020D7137@DYN-EXCH-001.dynamicsoft.com> <15375.44321.843404.964457@thomasm-u1.cisco.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Michael Thomas wrote:
> 
> Jonathan Rosenberg writes:
>  > Issue:
>  >
>  > When a UAS or proxy challenges a UAC that is a PSTN gateway, is the
>  > challenge for the gateway, or the user calling through the gateway? In the
>  > latter case, for example, the gateway might prompt the user, with voice
>  > prompts, to enter a password or something.
> 
>    Drawing distinctions between user and devices is, IMO,
>    pointless. The box should first check to see if it has
>    the ability to fulfill the challenge itself, and only
>    if it cannot should it prompt the user. I agree, allow
>    the realm to be the differentiator. If it's possible,
>    I'd lose any mention of user/device since the suggestion
>    of dichotomy causes people to go down the wrong road.
> 

I agree with Mike. Web browsers do the same thing - they check if they
have cached the appropriate secret and send it without further
intervention. If the realm is unknown, they use the realm as a user
prompt to get the user name and password. Presumably, a sufficiently
smart gateway could render the realm via text-to-speech, but that's not
something we need to worry about.


-- 
Henning Schulzrinne   http://www.cs.columbia.edu/~hgs

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Dec  6 13:15:25 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id NAA06653
	for <sip-archive@odin.ietf.org>; Thu, 6 Dec 2001 13:15:25 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id NAA00908
	for sip-archive@odin.ietf.org; Thu, 6 Dec 2001 13:15:27 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA29544;
	Thu, 6 Dec 2001 12:54:12 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA29513
	for <sip@optimus.ietf.org>; Thu, 6 Dec 2001 12:54:10 -0500 (EST)
Received: from sj-msg-core-1.cisco.com (sj-msg-core-1.cisco.com [171.71.163.11])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA05943
	for <sip@ietf.org>; Thu, 6 Dec 2001 12:54:07 -0500 (EST)
Received: from mira-sjc5-7.cisco.com (mira-sjc5-7.cisco.com [171.71.163.27])
	by sj-msg-core-1.cisco.com (8.11.3/8.9.1) with ESMTP id fB6HrWV27150;
	Thu, 6 Dec 2001 09:53:33 -0800 (PST)
Received: from thomasm-u1.cisco.com (thomasm-u1.cisco.com [128.107.140.53])
	by mira-sjc5-7.cisco.com (Mirapoint)
	with ESMTP id AAL73383;
	Thu, 6 Dec 2001 09:52:57 -0800 (PST)
Received: (thomasm@localhost) by thomasm-u1.cisco.com (8.8.8-Cisco List Logging/CISCO.WS.1.2) id JAA00871; Thu, 6 Dec 2001 09:53:32 -0800 (PST)
From: Michael Thomas <mat@cisco.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <15375.45211.879748.65080@thomasm-u1.cisco.com>
Date: Thu, 6 Dec 2001 09:53:31 -0800 (PST)
To: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
Cc: "'sip@ietf.org'" <sip@ietf.org>
Subject: [Sip] MAJOR Open Issue #184: Message size limitations
In-Reply-To: <B65B4F8437968F488A01A940B21982BF020D7141@DYN-EXCH-001.dynamicsoft.com>
References: <B65B4F8437968F488A01A940B21982BF020D7141@DYN-EXCH-001.dynamicsoft.com>
X-Mailer: VM 6.72 under 21.1 (patch 6) "Big Bend" XEmacs Lucid
X-Face: &,heK/V66p?[2!i|tVn,9lN0TUvEv7:9FzXREj/AuzN4m<D]vnFJ>u!4x[/Z4t{V}~L]+Sk
 @RFNnJEg~WZ/(8<`5a),-7ukALWa^&?&D2R0CSG3kO5~#6JxLF\d,g">$%B!0w{W)qIhmwhye104zd
 bUcI'1!
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Jonathan Rosenberg writes:
 > 2. The spec imposes no specific limits on the sizes of various headers, or
 > the number of each type of header. However, many implementations have chosen
 > their own limitations, often based on a guess, in order to allocate maximum
 > buffer sizes and the like. This has resulted in some interoperability
 > problems. Ideally, we should allow any number of each header, and any size
 > for any element, up to the maximum allowed SIP message size (64k), but this
 > is not realistic.

   I do not understand why this should be a problem given
   a reasonable implementation. Fixed sized fields suck;
   lets not go there. 

 > Discussion:
 > 
 > There are no simple solutions to these problems. For the first problem, some
 > of the solutions include:
 > 
 > 1. deprecate UDP; use only TCP or SCTP for SIP
 > 2. deprecate UDP for server to server, only allow it client to server. 
 > 3. define sip layer fragmentation
 > 4. ignore the problem
 > 
 > (4) is not so unreasonable, in fact. Assuming messages don't get THAT much
 > larger, we will usually see two fragments, which isn't too bad from a loss
 > amplification perspective. It is a problem for NAT, but if you assume NAT is
 > client to server only, and users are using TCP there anyway, its solved. Not
 > ideal, but none of the solutions is.

   I would be highly *unsupportive* of 1 or 2. Beyond that
   I'm not sure. Compression may be our friend here.

	   Mike

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Dec  6 13:20:01 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id NAA06844
	for <sip-archive@odin.ietf.org>; Thu, 6 Dec 2001 13:20:01 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id NAA01119
	for sip-archive@odin.ietf.org; Thu, 6 Dec 2001 13:20:02 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id NAA00222;
	Thu, 6 Dec 2001 13:01:58 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id NAA00188
	for <sip@optimus.ietf.org>; Thu, 6 Dec 2001 13:01:54 -0500 (EST)
Received: from dgesmtp02.wcom.com (dgesmtp02.wcom.com [199.249.16.17])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id NAA06197
	for <sip@ietf.org>; Thu, 6 Dec 2001 13:01:51 -0500 (EST)
Received: from pmismtp03.wcomnet.com ([166.38.62.38])
 by firewall.wcom.com (PMDF V5.2-33 #42261)
 with ESMTP id <0GNX008NZOQ2FW@firewall.wcom.com> for sip@ietf.org; Thu,
 6 Dec 2001 18:01:14 +0000 (GMT)
Received: from pmismtp03.wcomnet.com by pmismtp03.wcomnet.com
 (PMDF V5.2-33 #42258) with SMTP id <0GNX00701OPDIV@pmismtp03.wcomnet.com>;
 Thu, 06 Dec 2001 18:01:13 +0000 (GMT)
Received: from wcom.com ([166.44.57.52])
 by pmismtp03.wcomnet.com (PMDF V5.2-33 #42258)
 with ESMTP id <0GNX003EJOP33R@pmismtp03.wcomnet.com>; Thu,
 06 Dec 2001 18:00:41 +0000 (GMT)
Date: Thu, 06 Dec 2001 12:02:51 -0600
From: Alan Johnston <alan.johnston@wcom.com>
Subject: Re: [Sip] Open Issue #188: Reply-To
To: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
Cc: "'sip@ietf.org'" <sip@ietf.org>
Message-id: <3C0FB2CB.E78415A1@wcom.com>
MIME-version: 1.0
X-Mailer: Mozilla 4.7 [en] (Win98; U)
Content-type: text/plain; charset=us-ascii
Content-transfer-encoding: 7bit
X-Accept-Language: en
References: 
 <B65B4F8437968F488A01A940B21982BF020D7142@DYN-EXCH-001.dynamicsoft.com>
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

I like this as well.  This is a problem that currently exists in some UAs -
their call return button does not work because the wrong URI (or part of a URI)
is cached for the return call.

Alan Johnston
WorldCom
sip:alan@siptest.wcom.com

Jonathan Rosenberg wrote:

> Issue:
>
> Do we want to add a Reply-To header? Presumably, this is the URL to use to
> return calls at a later time. Its different from Contact, in that its a
> logical
> address. Its not From/To, since they could be different. Example:
>
> INVITE sip:customer@foo.com
> From: sip:support-rep-32@company.com
> To: sip:customer@foo.com
> Contact: sip:support-rep-32@1.2.3.4
> Reply-To: sip:support@company.com
>
> Discussion:
>
> >From a technical perspective, another alternative would be to define an
> additional rpi-id-type in the Remote-Party-ID header, which indicates the
> reply address type. R-P-ID has become the repository of identities not
> already provided by other headers (althouth R-PID is more meant for network
> authenticated identities, and thats not this), so it could fit there. Its a
> bit ugly, since it would diverge from many other rfc822 based applications
> which have defined and used this header.
>
> This header becomes a bit more important with MESSAGE defined.
>
> Another alternative is to stick it into an extension by itself. That seems
> silly, since this is such a small, simple extension that it would be a
> waste.
>
> Putting it in bis is easy enough, and its backwards compatible. But, do we
> want to be adding things at this time, rather than taking away?
>
> Proposal:
>
> Its simple. Its compatible. Its well understood. Its going to really be
> needed for MESSAGE, probably other things. Let us take the simple route and
> add it.
>
> -Jonathan R.
>
> ---
> Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
> Chief Scientist                             First Floor
> dynamicsoft                                 East Hanover, NJ 07936
> jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
> http://www.jdrosen.net                      PHONE: (973) 952-5000
> http://www.dynamicsoft.com
>
>
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Dec  6 13:33:16 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id NAA07344
	for <sip-archive@odin.ietf.org>; Thu, 6 Dec 2001 13:33:16 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id NAA01721
	for sip-archive@odin.ietf.org; Thu, 6 Dec 2001 13:33:18 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id NAA00559;
	Thu, 6 Dec 2001 13:09:47 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id NAA00528
	for <sip@optimus.ietf.org>; Thu, 6 Dec 2001 13:09:45 -0500 (EST)
Received: from commserver.iperia.com ([63.84.167.3])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id NAA06453
	for <sip@ietf.org>; Thu, 6 Dec 2001 13:09:42 -0500 (EST)
Received: by commserver.erictest.com with Internet Mail Service (5.5.2653.19)
	id <Y2N81HNL>; Thu, 6 Dec 2001 13:09:17 -0500
Message-ID: <1A69639B9B6AD511812B00B0D0DE19F60A32CD@commserver.erictest.com>
From: Gordon Ledgard <gledgard@iperia.com>
To: "'Michael Thomas'" <mat@cisco.com>,
        Jonathan Rosenberg
	 <jdrosen@dynamicsoft.com>
Cc: "'sip@ietf.org'" <sip@ietf.org>
Subject: RE: [Sip] MAJOR Open Issue #184: Message size limitations
Date: Thu, 6 Dec 2001 13:09:17 -0500 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="ISO-8859-1"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org


I agree with Mike on option 1 and 2 below being NOT desirable.
I should think that it would be fairly easy to come up with
a way to frag SIP messages without deeply disturbing most
implementations, at least at the parsing layer. Unfortunately,
I can't think of how you would do it without hitting some
rather nasty backward compatibility issues.

But I think setting field size limits would be worse.

Gordon Ledgard

-----Original Message-----
From: Michael Thomas [mailto:mat@cisco.com]
Sent: Thursday, December 06, 2001 12:54 PM
To: Jonathan Rosenberg
Cc: 'sip@ietf.org'
Subject: [Sip] MAJOR Open Issue #184: Message size limitations


Jonathan Rosenberg writes:
 > 2. The spec imposes no specific limits on the sizes of various headers,
or
 > the number of each type of header. However, many implementations have
chosen
 > their own limitations, often based on a guess, in order to allocate
maximum
 > buffer sizes and the like. This has resulted in some interoperability
 > problems. Ideally, we should allow any number of each header, and any
size
 > for any element, up to the maximum allowed SIP message size (64k), but
this
 > is not realistic.

   I do not understand why this should be a problem given
   a reasonable implementation. Fixed sized fields suck;
   lets not go there. 

 > Discussion:
 > 
 > There are no simple solutions to these problems. For the first problem,
some
 > of the solutions include:
 > 
 > 1. deprecate UDP; use only TCP or SCTP for SIP
 > 2. deprecate UDP for server to server, only allow it client to server. 
 > 3. define sip layer fragmentation
 > 4. ignore the problem
 > 
 > (4) is not so unreasonable, in fact. Assuming messages don't get THAT
much
 > larger, we will usually see two fragments, which isn't too bad from a
loss
 > amplification perspective. It is a problem for NAT, but if you assume NAT
is
 > client to server only, and users are using TCP there anyway, its solved.
Not
 > ideal, but none of the solutions is.

   I would be highly *unsupportive* of 1 or 2. Beyond that
   I'm not sure. Compression may be our friend here.

	   Mike

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Dec  6 13:41:14 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id NAA07482
	for <sip-archive@odin.ietf.org>; Thu, 6 Dec 2001 13:41:14 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id NAA01900
	for sip-archive@odin.ietf.org; Thu, 6 Dec 2001 13:41:16 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id NAA00713;
	Thu, 6 Dec 2001 13:12:23 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id NAA00681
	for <sip@optimus.ietf.org>; Thu, 6 Dec 2001 13:12:20 -0500 (EST)
Received: from opus.cs.columbia.edu (opus.cs.columbia.edu [128.59.20.100])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id NAA06532
	for <sip@ietf.org>; Thu, 6 Dec 2001 13:12:17 -0500 (EST)
Received: from cs.columbia.edu (metroliner.cs.columbia.edu [128.59.19.252])
	by opus.cs.columbia.edu (8.10.2+Sun/8.9.3) with ESMTP id fB6ICBV17894;
	Thu, 6 Dec 2001 13:12:11 -0500 (EST)
Message-ID: <3C0FB4FA.51C81EF9@cs.columbia.edu>
Date: Thu, 06 Dec 2001 13:12:10 -0500
From: "Henning G. Schulzrinne" <hgs@cs.columbia.edu>
Organization: Dept. of Computer Science, Columbia University
X-Mailer: Mozilla 4.78 [en] (X11; U; Linux 2.2.19-3cucs i686)
X-Accept-Language: en
MIME-Version: 1.0
To: Michael Thomas <mat@cisco.com>
CC: Jonathan Rosenberg <jdrosen@dynamicsoft.com>,
        "'sip@ietf.org'" <sip@ietf.org>
Subject: Re: [Sip] MAJOR Open Issue #184: Message size limitations
References: <B65B4F8437968F488A01A940B21982BF020D7141@DYN-EXCH-001.dynamicsoft.com> <15375.45211.879748.65080@thomasm-u1.cisco.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Michael Thomas wrote:
> 
> Jonathan Rosenberg writes:
>  > 2. The spec imposes no specific limits on the sizes of various headers, or
>  > the number of each type of header. However, many implementations have chosen
>  > their own limitations, often based on a guess, in order to allocate maximum
>  > buffer sizes and the like. This has resulted in some interoperability
>  > problems. Ideally, we should allow any number of each header, and any size
>  > for any element, up to the maximum allowed SIP message size (64k), but this
>  > is not realistic.
> 
>    I do not understand why this should be a problem given
>    a reasonable implementation. Fixed sized fields suck;
>    lets not go there.

Plus, it's very hard to know what to do. "Dear Mr. Schulzrinne, please
shorten your name since your SIP message is too long?"

> 
>  > Discussion:
>  >
>  > There are no simple solutions to these problems. For the first problem, some
>  > of the solutions include:
>  >
>  > 1. deprecate UDP; use only TCP or SCTP for SIP
>  > 2. deprecate UDP for server to server, only allow it client to server.
>  > 3. define sip layer fragmentation
>  > 4. ignore the problem
>  >
>  > (4) is not so unreasonable, in fact. Assuming messages don't get THAT much
>  > larger, we will usually see two fragments, which isn't too bad from a loss
>  > amplification perspective. It is a problem for NAT, but if you assume NAT is
>  > client to server only, and users are using TCP there anyway, its solved. Not
>  > ideal, but none of the solutions is.
> 
>    I would be highly *unsupportive* of 1 or 2. Beyond that
>    I'm not sure. Compression may be our friend here.

Agreed; there is very little precedence for this type of limitation in
822/HTTP-style protocols. (Yes, I realize that they don't do UDP,
either.) RFC 2822 does limit the size of a line to 998 characters, but
this is an historical accident.

Limiting messages sizes also invites people to just test their code with
that message size. Code Red is the consequence. (Well, the authors of
that code didn't need the excuse of limited message sizes.)

I would vote for (4). If we really want to add bytes to the spec, we
could make motherhood-and-apple-pie statements about not wasting bytes,
but that seems silly.

One variation on a solution is to have servers use TCP or similar if the
message is long. This doesn't work if only the response is long, not the
request, but usually, the two sizes seem to be closely correlated (e.g.,
because of the number of SDP lines in the request).
-- 
Henning Schulzrinne   http://www.cs.columbia.edu/~hgs

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Dec  6 13:58:14 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id NAA08050
	for <sip-archive@odin.ietf.org>; Thu, 6 Dec 2001 13:58:14 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id NAA02409
	for sip-archive@odin.ietf.org; Thu, 6 Dec 2001 13:58:16 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id NAA02045;
	Thu, 6 Dec 2001 13:43:42 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id NAA01946
	for <sip@optimus.ietf.org>; Thu, 6 Dec 2001 13:43:37 -0500 (EST)
Received: from mail2.intervoice-brite.com (mail2.intervoice-brite.com [204.62.8.15])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id NAA07575
	for <sip@ietf.org>; Thu, 6 Dec 2001 13:43:33 -0500 (EST)
Received: from DALNTMS02.ivbi.com (smtp.ivbi.com [151.214.90.44])
	by mail2.intervoice-brite.com (Build 101 8.9.3/NT-8.9.3) with ESMTP id MAA02381
	for <sip@ietf.org>; Thu, 06 Dec 2001 12:44:59 -0600
Received: from 172.16.16.64 (unverified) by DALNTMS02.ivbi.com
 (Content Technologies SMTPRS 4.2.5) with SMTP id <T57a889c1a697d65a2c528@DALNTMS02.ivbi.com> for <sip@ietf.org>;
 Thu, 6 Dec 2001 12:29:15 -0600
Received: from bculpepperpc
	([151.214.151.111])
	by 172.16.16.64; Thu, 06 Dec 2001 12:41:45 -0600
From: "Bert Culpepper" <bert.culpepper@intervoice-brite.com>
To: "'Jonathan Rosenberg'" <jdrosen@dynamicsoft.com>, <sip@ietf.org>
Subject: RE: [Sip] Open Issue #146: reuse of disabled media streams
Date: Thu, 6 Dec 2001 13:42:20 -0500
Message-ID: <000501c17e85$bd3e2040$6f97d697@bculpepperpc>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook CWS, Build 9.0.2416 (9.0.2911.0)
In-Reply-To: <B65B4F8437968F488A01A940B21982BF020D7124@DYN-EXCH-001.dynamicsoft.com>
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4807.1700
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

I agree with the proposal to allow reuse.

Bert

> -----Original Message-----
> From: sip-admin@ietf.org [mailto:sip-admin@ietf.org]On Behalf Of
> Jonathan Rosenberg
> Sent: Wednesday, December 05, 2001 4:06 PM
> To: 'sip@ietf.org'
> Subject: [Sip] Open Issue #146: reuse of disabled media streams
> 
> 
> Issue:
> 
> Bis currently specifies that if a client disables a media 
> stream (by setting
> its port to zero), it cannot remove that stream from the SDP. 
> As such, a UA
> which constantly adds/removes media streams will cause the SDP to
> continually grow, and never shrink. You definitely cannot 
> remove them (since
> the ordering is needed to match up streams between the 
> offer/answer), but it
> can work for a client to re-use a disabled stream. That is, 
> when it wants to
> add a new stream, it uses the "placeholder" held by the 
> disabled stream. So,
> instead of adding a new m line, the disabled m line is 
> replaced with the m
> line of the stream you want to add.
> 
> This works because there is never any confusion about which streams
> correspond to which. Think of the sequence of m lines in an 
> SDP as a TDM
> system, with each stream a "channel". Streams in the offer 
> and answer are
> correlated when they sit in the same channel. Once a stream 
> is in a channel,
> it can't move to another one, since then you lose 
> correlation. When a stream
> is disabled, its channel becomes empty. You can then insert a 
> new stream
> into that channel later on, and its clear that this is a new 
> one (because it
> replaces a disabled stream).
> 
> So, the question is this: do we allow reuse of disabled 
> streams in this
> fashion?
> 
> Points of discussion:
> 
> Why do this at all? The only real reason is savings of 
> bandwidth, since you
> can reduce the size of the SDP. This is not a very common 
> case for general
> usage. However, the 3gpp guys are thinking about having the 
> proxy disable
> streams (egads!) based on some network policy about what 
> codecs to use. They
> don't want to be carrying around these zeroed out media 
> streams. However,
> our recommended approach with issues like this has been 
> compression (ala the
> signaling compression work in rohc). These streams will 
> likely be compressed
> very well, so the overhead may be moot.
> 
> Gonzalo pointed out that an alternative is to use FID, since 
> that could
> provide a way to correlate the streams. In that case, you can remove
> disabled streams altogether if they can be correlated. 
> However, it wasn't
> clear that FID actually allows for correlation of streams 
> between offer and
> answer. Rather, its meant for association of streams within 
> the same SDP.
> 
> Subsequent discussion on the list, in a long twisted and 
> tedious thread
> resulted in the conclusion that fid doesn't solve this problem.
> 
> There was one comment advocating reuse if it doesn't break any
> implementations, and another advocating it generally. I 
> personally am on the
> fence. We need to make a decision. So, I propose:
> 
> Proposal:
> ---------
> 
> Allow reuse.
> 
> 
> Thanks,
> Jonathan R.
> ---
> Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
> Chief Scientist                             First Floor
> dynamicsoft                                 East Hanover, NJ 07936
> jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
> http://www.jdrosen.net                      PHONE: (973) 952-5000
> http://www.dynamicsoft.com
>  
> 
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Dec  6 14:13:41 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id OAA08834
	for <sip-archive@odin.ietf.org>; Thu, 6 Dec 2001 14:13:41 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id OAA03290
	for sip-archive@odin.ietf.org; Thu, 6 Dec 2001 14:13:44 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id OAA02492;
	Thu, 6 Dec 2001 14:00:01 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id NAA02446
	for <sip@optimus.ietf.org>; Thu, 6 Dec 2001 13:59:58 -0500 (EST)
Received: from opus.cs.columbia.edu (opus.cs.columbia.edu [128.59.20.100])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id NAA08110
	for <sip@ietf.org>; Thu, 6 Dec 2001 13:59:55 -0500 (EST)
Received: from cs.columbia.edu (metroliner.cs.columbia.edu [128.59.19.252])
	by opus.cs.columbia.edu (8.10.2+Sun/8.9.3) with ESMTP id fB6IxtV20300;
	Thu, 6 Dec 2001 13:59:55 -0500 (EST)
Message-ID: <3C0FC02B.6AED6A0@cs.columbia.edu>
Date: Thu, 06 Dec 2001 13:59:55 -0500
From: "Henning G. Schulzrinne" <hgs@cs.columbia.edu>
Organization: Dept. of Computer Science, Columbia University
X-Mailer: Mozilla 4.78 [en] (X11; U; Linux 2.2.19-3cucs i686)
X-Accept-Language: en
MIME-Version: 1.0
To: "Peterson, Jon" <jon.peterson@neustar.biz>
CC: "'Jonathan Rosenberg'" <jdrosen@dynamicsoft.com>,
        "'sip@ietf.org'" <sip@ietf.org>
Subject: Re: [Sip] Open Issue #131: Meaning of challenge when UAC is a gateway
References: <70565611B164D511957A001083FCDD56CAACDD@va02.va.neustar.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

I think we should just treat the phone user as being at the end of
rather long extension cord from the gateway. Thus, they are one and the
same. It's up to the gateway to respect the wishes of the user, but I
don't think we should get into prescribing UI behavior that is very
specific to one technology.

On the realm name:

I agree with Jon that something close to a basic SIP URL (user@domain)
would likely work best and be in keeping with 2617. It may also work
reasonably well for challenges from intermediate proxy servers.


"Peterson, Jon" wrote:
> 
> I think that in order to evaluate this proposal we need to flush out how
> 'realm' is used in SIP. Even in rfc2617, the way that the realm string is
> created for Basic as opposed to Digest auth is significantly different;
> Basic realms are just arbitrary strings (like "business"), whereas Digest
> recommends realms that contain a hostname and possibly the name of a user or
> group. The interpretation of realms in SIP is further complicated by the
> lack of some context (the canonical root URL) that is available in the HTTP
> world; the value of providing context for the realm through Request-URI of
> the SIP message instigating a challenge is unclear to me - especially since
> that Request-URI might not be set by or even known to the challengee. I
> think we need a story in rfc2543bis about how realm strings are constructed
> in SIP, and what they're supposed to signify.
> 
> I suspect that the realm-string for SIP should just explicitly designate
> something like the administrative domain of the challenger (i.e.
> "carrier.net") or the specific host that is issuing the challenge. Realms
> should be globally unique (amongst domains, not necessarily hosts), and it
> would probably be useful if they allowed hierarchical structures. Users,
> when presented with a challenge dialog box by an application, would
> understand how to navigate a challenge for a particular host or domain; this
> could also potentially be meaningful to automatons.  I also believe this is
> pretty close to the recommendations given for Digest auth realms in 2617.
> 
> I definitely think the proposal below is on the right track - provided the
> semantics of the realm string don't introduce any complications. One
> possible snag would be the case in which both a gateway and its user possess
> credentials that have varying levels of authorization within the same realm.
> If a gateway automatically intercepts challenges for such a realm, then the
> user may have no way to present their superior credentials. Perhaps we could
> recommend some implementation behavior that would get around this. The text
> in bis05 currently specifies that we always display the realm to the user
> and prompt them for a username and password (if we haven't already cached
> credentials from a previous exchange). Maybe as a general rule for SIP
> devices, we could say that if the user is prompted for credentials for a
> specific realm and they decline to provide them (presumably because they
> cannot), that the device may supply any credentials of its own for that
> realm. "If you have a password for this service, press * now."
> 
> Jon Peterson
> NeuStar, Inc.
> 
> > -----Original Message-----
> > From: Jonathan Rosenberg [mailto:jdrosen@dynamicsoft.com]
> > Sent: Wednesday, December 05, 2001 7:01 PM
> > To: 'sip@ietf.org'
> > Subject: [Sip] Open Issue #131: Meaning of challenge when UAC is a
> > gateway
> >
> >
> > Issue:
> >
> > When a UAS or proxy challenges a UAC that is a PSTN gateway, is the
> > challenge for the gateway, or the user calling through the
> > gateway? In the
> > latter case, for example, the gateway might prompt the user,
> > with voice
> > prompts, to enter a password or something.
> >
> > Discussion points:
> >
> > A similar issue can arise for a standalone sip phone; is the
> > challenge for
> > the device or the user on the device? As a general rule,
> > realms are the way
> > to identify for whom the challenge is requested. A device
> > would need to be
> > programmed with the realm for which it has credentials as a
> > device. Should
> > it receive a challenge for that realm, the device could
> > supply credentials.
> > Challenges for other realms would go to the user, since
> > whether they are for
> > the device or the user, the device can't answer them anyway,
> > so may as well
> > try the user.
> >
> > Proposal:
> >
> > Add wording that talks about this realms usage.
> >

-- 
Henning Schulzrinne   http://www.cs.columbia.edu/~hgs

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Dec  6 14:22:17 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id OAA09052
	for <sip-archive@odin.ietf.org>; Thu, 6 Dec 2001 14:22:17 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id OAA03643
	for sip-archive@odin.ietf.org; Thu, 6 Dec 2001 14:22:20 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id OAA03354;
	Thu, 6 Dec 2001 14:14:45 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id OAA03323
	for <sip@optimus.ietf.org>; Thu, 6 Dec 2001 14:14:42 -0500 (EST)
Received: from opus.cs.columbia.edu (opus.cs.columbia.edu [128.59.20.100])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id OAA08872
	for <sip@ietf.org>; Thu, 6 Dec 2001 14:14:38 -0500 (EST)
Received: from cs.columbia.edu (metroliner.cs.columbia.edu [128.59.19.252])
	by opus.cs.columbia.edu (8.10.2+Sun/8.9.3) with ESMTP id fB6JEaV20938;
	Thu, 6 Dec 2001 14:14:36 -0500 (EST)
Message-ID: <3C0FC39C.C9EE9B64@cs.columbia.edu>
Date: Thu, 06 Dec 2001 14:14:36 -0500
From: "Henning G. Schulzrinne" <hgs@cs.columbia.edu>
Organization: Dept. of Computer Science, Columbia University
X-Mailer: Mozilla 4.78 [en] (X11; U; Linux 2.2.19-3cucs i686)
X-Accept-Language: en
MIME-Version: 1.0
To: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
CC: "'sip@ietf.org'" <sip@ietf.org>
Subject: Re: [Sip] Open Issue #145: SRV Processing in stateless proxies part I
References: <B65B4F8437968F488A01A940B21982BF020D713B@DYN-EXCH-001.dynamicsoft.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Jonathan Rosenberg wrote:
> 
> Issue:
> 
> Processing of SRV records in stateless proxies is hard, primarily because
> the algorithm itself relies on state. One piece of state is the random
> selection of a server amongst a set with equal weights. Bis-05 mandates that
> this be done based on Call-ID, so that all requests with the same call-id
> select the same server. Turns out that this is hard to do in a stateless
> way. One approach is to choose the random number as a hash of the Call-ID.
> That is needed, but not sufficient. The problem is that the result of this
> hash generates an index, 1..N, where N is the number of servers with the
> same priority. Using this index to select a server requires that the array
> of N servers is ordered the same for each attempt. However, DNS resolvers
> make no guarantee about the order of the results. Thus, you would need to
> alphabetize them, or something, to establish an order.

Not quite. If I understand the SRV description correctly, there is an
ordering based on the weight (so that you can pick the right one). Thus,
if the weights are not equal, the order is indeed guaranteed, as long as
the resolver doesn't mess with the weights. For load balancing, it
doesn't matter if the weights are 1001, 1002 and 1003 instead of 1000,
so one could recommend that SRV entries for stateless proxies simply
avoid equal weights. This would be just a hint, not normative.


> 
> Interestingly, this alphabetization would be required even for stateful
> proxies! The reason is that if all requests with the same Call-ID go to the
> same server, that spans multiple transactions, and thus a transaction
> stateful proxy would not be sufficient for this reuqirement.
> 
> The decision to use the granularity of Call-ID to select a server was to
> assist in processing of overlap dialing; without that, an updated INVITE
> with new digits could get routed to a different server than the original
> request. Of course, that could happen anyway for any number of other
> reasons... so, since overlap has this problem ANYWAY, and I hate to design
> anything in baseline SIP to serve such an archaic methodology of signaling,
> my proposal is:
> 
> Proposal:
> 
> 1. We revert to requiring that all requests within a transaction, plus
> CANCEL for that transaction, MUST all get routed to the same server. ACK-200
> is a different transaction and thus need not go to the same place, but ACK
> for non-2xx is.
> 
> 2. For stateless proxies, they do whatever they need to do to meet
> requirement 1. It is RECOMMENDED that they hash the transaction ID, and use
> it as an index into a list of the servers, where the servers are ordered in
> such a way that the order does not change across DNS queries, as long as the
> DNS entry itself has not changed. This wouldn't mandate alphabetization, and
> indeed, if you had a resolver that always gave you the results in the same
> order, that would be sufficient.
> 
> -Jonathan R.
> 
> ---
> Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
> Chief Scientist                             First Floor
> dynamicsoft                                 East Hanover, NJ 07936
> jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
> http://www.jdrosen.net                      PHONE: (973) 952-5000
> http://www.dynamicsoft.com
> 
> 
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip

-- 
Henning Schulzrinne   http://www.cs.columbia.edu/~hgs

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Dec  6 14:27:49 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id OAA09455
	for <sip-archive@odin.ietf.org>; Thu, 6 Dec 2001 14:27:48 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id OAA03843
	for sip-archive@odin.ietf.org; Thu, 6 Dec 2001 14:27:51 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id OAA03544;
	Thu, 6 Dec 2001 14:19:43 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id OAA03512
	for <sip@optimus.ietf.org>; Thu, 6 Dec 2001 14:19:41 -0500 (EST)
Received: from opus.cs.columbia.edu (opus.cs.columbia.edu [128.59.20.100])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id OAA08952
	for <sip@ietf.org>; Thu, 6 Dec 2001 14:19:29 -0500 (EST)
Received: from cs.columbia.edu (metroliner.cs.columbia.edu [128.59.19.252])
	by opus.cs.columbia.edu (8.10.2+Sun/8.9.3) with ESMTP id fB6JJQV21186;
	Thu, 6 Dec 2001 14:19:26 -0500 (EST)
Message-ID: <3C0FC4BE.F6F9A800@cs.columbia.edu>
Date: Thu, 06 Dec 2001 14:19:26 -0500
From: "Henning G. Schulzrinne" <hgs@cs.columbia.edu>
Organization: Dept. of Computer Science, Columbia University
X-Mailer: Mozilla 4.78 [en] (X11; U; Linux 2.2.19-3cucs i686)
X-Accept-Language: en
MIME-Version: 1.0
To: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
CC: "'sip@ietf.org'" <sip@ietf.org>
Subject: Re: [Sip] Open Issue #144: Branch ID  + isCancel() as transaction ID
References: <B65B4F8437968F488A01A940B21982BF020D713A@DYN-EXCH-001.dynamicsoft.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Makes sense, but since the request-response matching is done by the same
entity that inserted the branch-id, why the magic cookie? Wouldn't it
know whether it can do this?

Jonathan Rosenberg wrote:
> 
> Issue:
> 
> The computation of the transaction ID in current SIP is, well, challenging.
> It is a combination of a bunch of header fields, and conditionally as well
> (with or without tags). This requires fairly deep parsing of a number of
> fields and is the source of much confusion, even for the co-authors of the
> spec (I made numerous errors in the text while updating to bis-05)
> 
> Bis-05 has taken a big step forward with a rigorous definition of
> transaction, which makes it clear that its a single "branch" in the tree of
> requests formed when a UAC sends a request through a bunch of proxies. That
> is, the To/From/CSeq/Call-ID identify the root of this tree, and the Via
> branch + r-uri further identify each branch in the tree. Based on this, it
> is natural to take the final step, and define the transaction ID for a
> request/response MUCH more simply - it is the value of the branch ID in the
> topmost via, with the small caveat that CANCEL has the same branch ID, but
> its a different transaction. Thats needed for backwards compatibility.
> 
> Bis-05 has sufficient randomness requirements on the branch ID to satisfy
> this definition. Only two things are missing. First, the UAC needs to insert
> it also, and secondly, a proxy needs to know whether the previous hop used
> the uniqueness properties specified in bis. The proposal would be to specify
> in bis-05 that a client can insert the branch ID (and give reasons why its a
> good thing). To deal with the compatibility issue, we further mandate that
> all branch-IDs generated uniquely according to bis start with some small
> magic cookie to identify them as unique. A proxy would extract the via, look
> at the branch, and if it has this cookie, need not even look at the call-id,
> to, from, or cseq in order to process the request. If, however, the branch
> does not contain this cookie, it needs to do the full parse as defined in
> bis right now.
> 
> We are so close to this final step, I believe it is worth taking. The costs
> are small, its still optional - just an optimization - and we have full
> interop. However, the benefits will be very good when you  have a lot of
> deployed bis elements.
> 
> Proposal:
> 
> Allow for branch ID to be the transaction ID, by taking the steps described
> above.


-- 
Henning Schulzrinne   http://www.cs.columbia.edu/~hgs

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Dec  6 14:41:30 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id OAA09876
	for <sip-archive@odin.ietf.org>; Thu, 6 Dec 2001 14:41:29 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id OAA04688
	for sip-archive@odin.ietf.org; Thu, 6 Dec 2001 14:41:32 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id OAA04359;
	Thu, 6 Dec 2001 14:31:58 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id OAA04331
	for <sip@optimus.ietf.org>; Thu, 6 Dec 2001 14:31:56 -0500 (EST)
Received: from sj-msg-core-2.cisco.com (sj-msg-core-2.cisco.com [171.69.24.11])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id OAA09589
	for <sip@ietf.org>; Thu, 6 Dec 2001 14:31:44 -0500 (EST)
Received: from mira-sjc5-7.cisco.com (mira-sjc5-7.cisco.com [171.71.163.27])
	by sj-msg-core-2.cisco.com (8.11.3/8.9.1) with ESMTP id fB6JUXE03857;
	Thu, 6 Dec 2001 11:30:34 -0800 (PST)
Received: from thomasm-u1.cisco.com (thomasm-u1.cisco.com [128.107.140.53])
	by mira-sjc5-7.cisco.com (Mirapoint)
	with ESMTP id AAL76638;
	Thu, 6 Dec 2001 11:29:59 -0800 (PST)
Received: (thomasm@localhost) by thomasm-u1.cisco.com (8.8.8-Cisco List Logging/CISCO.WS.1.2) id LAA00906; Thu, 6 Dec 2001 11:30:33 -0800 (PST)
From: Michael Thomas <mat@cisco.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <15375.51033.527129.424942@thomasm-u1.cisco.com>
Date: Thu, 6 Dec 2001 11:30:33 -0800 (PST)
To: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
Cc: "'sip@ietf.org'" <sip@ietf.org>
Subject: [Sip] Open Issue #164: Proxy-Authentication-Info
In-Reply-To: <B65B4F8437968F488A01A940B21982BF020D713C@DYN-EXCH-001.dynamicsoft.com>
References: <B65B4F8437968F488A01A940B21982BF020D713C@DYN-EXCH-001.dynamicsoft.com>
X-Mailer: VM 6.72 under 21.1 (patch 6) "Big Bend" XEmacs Lucid
X-Face: &,heK/V66p?[2!i|tVn,9lN0TUvEv7:9FzXREj/AuzN4m<D]vnFJ>u!4x[/Z4t{V}~L]+Sk
 @RFNnJEg~WZ/(8<`5a),-7ukALWa^&?&D2R0CSG3kO5~#6JxLF\d,g">$%B!0w{W)qIhmwhye104zd
 bUcI'1!
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit


Jonathan Rosenberg writes:
 > Issue:
 > 
 > bis-05 does not use Proxy-Authentication-Info. This response header, defined
 > in rfc2617, allows for mutual authentication between a client and proxies.
 > THe header is not used since it has a flaw that is bad for SIP - it appears
 > to assume a single proxy. This is because it omits the realm as a parameter.
 > >From the brief amount of text about Proxy-Authenticatiopn-Info, it appears
 > that it was added as an afterthought, and this issue was not considered.
 > Thus, if a UAC gets a 2xx response that came through three proxies, and each
 > of them inserted a Proxy-Authentication-Info header, the UAC would not be
 > able to determine which header is for which proxy. 

   My general preference would be to stop putting bandaids
   on hacks and do this right. I guess that means I favor
   option (1).

		Mike

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Dec  6 14:56:02 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id OAA10331
	for <sip-archive@odin.ietf.org>; Thu, 6 Dec 2001 14:56:02 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id OAA04999
	for sip-archive@odin.ietf.org; Thu, 6 Dec 2001 14:56:05 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id OAA04485;
	Thu, 6 Dec 2001 14:36:12 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id OAA04455
	for <sip@optimus.ietf.org>; Thu, 6 Dec 2001 14:36:09 -0500 (EST)
Received: from opus.cs.columbia.edu (opus.cs.columbia.edu [128.59.20.100])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id OAA09720
	for <sip@ietf.org>; Thu, 6 Dec 2001 14:36:01 -0500 (EST)
Received: from cs.columbia.edu (metroliner.cs.columbia.edu [128.59.19.252])
	by opus.cs.columbia.edu (8.10.2+Sun/8.9.3) with ESMTP id fB6JZsV22099;
	Thu, 6 Dec 2001 14:35:54 -0500 (EST)
Message-ID: <3C0FC89A.48555498@cs.columbia.edu>
Date: Thu, 06 Dec 2001 14:35:54 -0500
From: "Henning G. Schulzrinne" <hgs@cs.columbia.edu>
Organization: Dept. of Computer Science, Columbia University
X-Mailer: Mozilla 4.78 [en] (X11; U; Linux 2.2.19-3cucs i686)
X-Accept-Language: en
MIME-Version: 1.0
To: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
CC: "'sip@ietf.org'" <sip@ietf.org>
Subject: Re: [Sip] Open Issue #109: Allow in non-INVITE
References: <B65B4F8437968F488A01A940B21982BF020D7133@DYN-EXCH-001.dynamicsoft.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Jonathan Rosenberg wrote:
> 
> Issue:
> 
> There are two issues. Both are minor:
> 
>   * do we allow Allow in requests outside of INVITE and OPTIONS?

Meaning BYE and CANCEL? Presumably the spec wouldn't need to (shouldn't)
say anything about, say, SUBSCRIBE.

> 
>   * If I send OPTIONS to sip:user@foo.com, and the response has an Allow,
> what does that mean exactly? Does that mean that it is safe to send the
> methods listed in the Allow to sip:user@foo.com in the future? Or that its
> safe to send the methods listed in the Allow to the URL in the Contact of
> the OPTIONS? After all, a subsequent request might not route to the same UA
> that got the OPTIONS; so, even if the OPTIONS response indicates that method
> BAR is allowed, there is no guarantee that when you send BAR to
> sip:user@foo.com, it will get to the same UA which respoded to the OPTIONS.
> 
> Discussion points:
> 
> For the first issue, lets KISS and disallow it. Extensions can of course
> indicate whether its useful.
> 
> For the second one, its worth observing that this concern is true for all
> other headers in the OPTIONS response - Accept, Accept-Encoding, Supported,
> etc. In fact, its true for headers like WWW-Authenticate and Authorization.
> I may call a UA, it returns a 401 w/ WWW-Authenticate, I stick in an
> Authorization header, and resubmit the request, but it gets routed
> differently, to a different UA. Same issue. I don't think its a big deal,
> since in all cases you'll simply get the appropriate error code and can try
> again.
> 
> Proposal:
> 
> * point 1: disallow
> * point 2: don't care. Allow refers to methods supported by the resource in
> the request URI of the original OPTIONS request sent by the UAC.

Agreed; uniform treatment of all Accept-* and Allow is important, as
they express capabilities. This should be true for point 1, as well.
-- 
Henning Schulzrinne   http://www.cs.columbia.edu/~hgs

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Dec  6 15:21:25 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA10992
	for <sip-archive@odin.ietf.org>; Thu, 6 Dec 2001 15:21:25 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id PAA05772
	for sip-archive@odin.ietf.org; Thu, 6 Dec 2001 15:21:28 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id PAA05551;
	Thu, 6 Dec 2001 15:08:13 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id PAA05522
	for <sip@optimus.ietf.org>; Thu, 6 Dec 2001 15:08:11 -0500 (EST)
Received: from mail1.dynamicsoft.com (mail1.dynamicsoft.com [63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA10581
	for <sip@ietf.org>; Thu, 6 Dec 2001 15:08:07 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fB6K694I022436
	for <sip@ietf.org>; Thu, 6 Dec 2001 15:06:09 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <YAN9ZBDQ>; Thu, 6 Dec 2001 15:07:40 -0500
Message-ID: <B65B4F8437968F488A01A940B21982BF020D7152@DYN-EXCH-001.dynamicsoft.com>
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: "'sip@ietf.org'" <sip@ietf.org>
Date: Thu, 6 Dec 2001 15:07:34 -0500 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Subject: [Sip] Open Issue #210: T1 at client needed to tune T3 at server
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

Issue:

Minor issue.

In the invite client transaction machine, it remains in the completed state
for T3. The completed state is the state where the client has received the
final non-2xx response, and has sent the ACK. It now waits for subsequent
retransmits of the final response in order to resend the ACK. It waits in
this state until Timer D fires. Timer D represents the total amount of time
that the server could conceivably retransmit the final non-2xx response.
That amount of time is defined, for unreliable transports, by Timer H, which
is the amount of time the server transaction spends in the completed state
before giving up. The spec says that this is T3, but its actually 64*T1
(that is an error in the spec). In either case, the timeout at the client
depends on the value of T1 selected by the server. But it doesn't know this
value. What do we do?

Discussion:

Communicating T1 is too complex. Let us simply choose a minimum value for
Timer D in the case of unreliable transports. The obvious value is the
default value of 64*T1, which is 32s.

I believe there are a few other places in the spec where there is a
dependency on knowing T1 on the other side. We would need a similar change
there.

Proposal:

Define Timer D as having a minimum value of 32s for unreliable transports.
Apply same process for any other timers.

-Jonathan R.
---
Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
Chief Scientist                             First Floor
dynamicsoft                                 East Hanover, NJ 07936
jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
http://www.jdrosen.net                      PHONE: (973) 952-5000
http://www.dynamicsoft.com
 

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Dec  6 15:40:29 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA11537
	for <sip-archive@odin.ietf.org>; Thu, 6 Dec 2001 15:40:29 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id PAA06539
	for sip-archive@odin.ietf.org; Thu, 6 Dec 2001 15:40:33 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id PAA05871;
	Thu, 6 Dec 2001 15:27:33 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id PAA05843
	for <sip@optimus.ietf.org>; Thu, 6 Dec 2001 15:27:31 -0500 (EST)
Received: from mail1.dynamicsoft.com (mail1.dynamicsoft.com [63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA11136
	for <sip@ietf.org>; Thu, 6 Dec 2001 15:27:26 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fB6KPU4I022611
	for <sip@ietf.org>; Thu, 6 Dec 2001 15:25:30 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <YAN9ZBG1>; Thu, 6 Dec 2001 15:26:59 -0500
Message-ID: <B65B4F8437968F488A01A940B21982BF020D7153@DYN-EXCH-001.dynamicsoft.com>
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: "'sip@ietf.org'" <sip@ietf.org>
Date: Thu, 6 Dec 2001 15:26:59 -0500 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Subject: [Sip] Open Issue #212: Applicability of RTT Estimates
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

Issue:

If RTT estimation is done using Timestamp headers, what is the granularity
of 
that estimate? Is that estimate applied to subsequent requests to the same
IP 
address? IP address and port? Request URI? The destination IP address does
not 
actually represent the terminating server transaction, and the RTT estimate
is 
supposed to be a measure of the time T1 between a client transaction
machine, to 
the server transaction machine, and back. If there are statless proxies in
between,
that estimate may not apply to other requests sent to the same stateless
proxy.

Discussion:

Keep it simple. Existing systems use IP address, and so should we. Yes, it
won't quite be right for stateless proxies. 

Proposal:

Keep text as written - use IP address.

---
Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
Chief Scientist                             First Floor
dynamicsoft                                 East Hanover, NJ 07936
jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
http://www.jdrosen.net                      PHONE: (973) 952-5000
http://www.dynamicsoft.com
 

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Dec  6 15:46:02 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA11668
	for <sip-archive@odin.ietf.org>; Thu, 6 Dec 2001 15:46:02 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id PAA06766
	for sip-archive@odin.ietf.org; Thu, 6 Dec 2001 15:46:05 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id PAA06372;
	Thu, 6 Dec 2001 15:34:53 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id PAA06344
	for <sip@optimus.ietf.org>; Thu, 6 Dec 2001 15:34:50 -0500 (EST)
Received: from june.Broomfield1.level3.net (june.Broomfield1.Level3.net [209.245.18.7])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA11276
	for <sip@ietf.org>; Thu, 6 Dec 2001 15:34:46 -0500 (EST)
From: John.Hearty@Level3.com
Received: from f1ee40-19.idc1.level3.com (hme0.f1ee40-19.idc1.oss.level3.com [10.1.144.204])
	by june.Broomfield1.level3.net (8.9.3/8.9.3) with ESMTP id UAA20159;
	Thu, 6 Dec 2001 20:32:16 GMT
Received: from n0195idc1.oss.level3.com (localhost [127.0.0.1])
	by f1ee40-19.idc1.level3.com (8.8.8+Sun/8.8.8) with ESMTP id UAA24960;
	Thu, 6 Dec 2001 20:34:41 GMT
Received: by n0195idc1.oss.level3.com with Internet Mail Service (5.5.2653.19)
	id <YKJGC9PW>; Thu, 6 Dec 2001 13:34:41 -0700
Message-ID: <17052388D394D411803900508BDFFAF601B3706A@n0214idc1.oss.level3.com>
To: jdrosen@dynamicsoft.com, sip@ietf.org
Subject: RE: [Sip] Open Issue #207: Handling of session failures
Date: Thu, 6 Dec 2001 13:34:39 -0700 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

> Issue:
> 
> The spec is silent on what a UA should do if failures in the 
> media sessions 
> occur (ICMP, timeouts, or media specific errors). I think 
> something should
> be 
> said. draft-rosenberg-sip-reconstitute-00.txt talks a lot about this
> problem; 
> nearly all of that is local implementation logic, but one piece that
> requires a 
> normative change to the spec - if you detect a failure in 
> media stream, send
> a 
> re-invite to see if that repairs it. 
> 
> The re-invite will help if the failure is due to a end system 
> failure. In
> that case, the re-INVITE will reconstitute the dialog and 
> session state at
> an alternate, which is helpful and useful in many cases.

Assuming that end system is capable of reconstituting state from a
re-Invite.
That said, I agree with this proposal.

John Hearty
Level3


 It 
> won't do much at
> all if there was a network failure.
> 
> If the re-INVITE fails, or nothing changes in the media 
> stream, you SHOULD
> then send a BYE.
> 
> I'd like to incoroporate this piece of logic into bis.
> 
> Proposal:
> 
> UAC SHOULD re-INVITE with same SDP when it detects failures 
> in the media
> session.
> If re-INVITE doesn't help, SHOULD send a BYE
> 
> -Jonathan R.
> 
> ---
> Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
> Chief Scientist                             First Floor
> dynamicsoft                                 East Hanover, NJ 07936
> jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
> http://www.jdrosen.net                      PHONE: (973) 952-5000
> http://www.dynamicsoft.com
>  
> 
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
> 

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Dec  6 15:47:06 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA11712
	for <sip-archive@odin.ietf.org>; Thu, 6 Dec 2001 15:47:06 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id PAA06796
	for sip-archive@odin.ietf.org; Thu, 6 Dec 2001 15:47:09 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id PAA06440;
	Thu, 6 Dec 2001 15:37:22 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id PAA06409
	for <sip@optimus.ietf.org>; Thu, 6 Dec 2001 15:37:19 -0500 (EST)
Received: from imo-r01.mx.aol.com (imo-r01.mx.aol.com [152.163.225.97])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA11344
	for <sip@ietf.org>; Thu, 6 Dec 2001 15:37:16 -0500 (EST)
From: Mpierce1@aol.com
Received: from Mpierce1@aol.com
	by imo-r01.mx.aol.com (mail_out_v31_r1.9.) id v.11a.853c84d (4196);
	Thu, 6 Dec 2001 15:37:07 -0500 (EST)
Message-ID: <11a.853c84d.294130f3@aol.com>
Date: Thu, 6 Dec 2001 15:37:07 EST
Subject: Re: [Sip] draft-ietf-sip-overlap-01
To: MChiou@santera.com, sip@ietf.org
MIME-Version: 1.0
Content-Type: text/plain; charset="US-ASCII"
Content-Transfer-Encoding: 7bit
X-Mailer: AOL 5.0 for Windows sub 42
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

In a message dated 12/5/01 7:10:38 PM Eastern Standard Time, 
MChiou@Santera.com writes:

> Comment on the below Section 3.6
>  
>  It should be OK for gateway to keep track all INVITE request messages
>  due to CSeq number are different as per SIP spec. (Every INVITE request
>  message shall have different call leg, which is a combination of
>  Call-ID, CSeq, From and To.) In this scenario, the To content is
>  different from each other in the INVITE request message, so the 200 OK
>  response message will match to one and only one call leg. MGC/MG can
>  cancel the reset of the call legs.
>  
>  Mark Chiou
>  

The comment was regarding the apparently valid case in which a gateway sends 
multiple INVITEs containing different numbers of digits. It could get a 200 
OK for multiple of them. For example, the distant telephone number is 
12345678 but the originator dials 123456789. As in today's network, both will 
result in a call setup attempt, since the destination simply throws the extra 
"9" away. (If the destination has call forwarding or a hunt group, etc, both 
will in fact result in a successful call setup and ringing.)

As noted in Jonathan's recent e-mail, the 200 OK responses could in fact 
occur in either order. Yes, the gateway could keep track of all INVITEs it 
sent, and it might know how to associate responses with each INVITE, but it 
would not know which was the "better" one to keep. It can't simply decide 
that more digits is better. If it does in the case described above, it will 
likely keep the call that resulted in call forwarding and release the one 
that did not.

The simple solution is to not support overlap signaling within the SIP 
environment. (Note that it was decided to not support it in the US version of 
SS#7.)

Mike Pierce

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Dec  6 15:48:55 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA11770
	for <sip-archive@odin.ietf.org>; Thu, 6 Dec 2001 15:48:55 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id PAA06884
	for sip-archive@odin.ietf.org; Thu, 6 Dec 2001 15:48:58 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id PAA06494;
	Thu, 6 Dec 2001 15:37:52 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id PAA06463
	for <sip@optimus.ietf.org>; Thu, 6 Dec 2001 15:37:50 -0500 (EST)
Received: from imo-d09.mx.aol.com (imo-d09.mx.aol.com [205.188.157.41])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA11373
	for <sip@ietf.org>; Thu, 6 Dec 2001 15:37:46 -0500 (EST)
From: Mpierce1@aol.com
Received: from Mpierce1@aol.com
	by imo-d09.mx.aol.com (mail_out_v31_r1.9.) id r.185.4976a7 (4196);
	Thu, 6 Dec 2001 15:37:05 -0500 (EST)
Message-ID: <185.4976a7.294130f1@aol.com>
Date: Thu, 6 Dec 2001 15:37:05 EST
Subject: Re: [Sip] Major Open Issue #113: Overlapping Transactions
To: jdrosen@dynamicsoft.com, sip@ietf.org
MIME-Version: 1.0
Content-Type: text/plain; charset="US-ASCII"
Content-Transfer-Encoding: 7bit
X-Mailer: AOL 5.0 for Windows sub 42
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

In a message dated 12/5/01 9:35:32 PM Eastern Standard Time, 
jdrosen@dynamicsoft.com writes:

> Issue:
>  
>  This is a major issue. One of the more major ones remaining.
>  
>  Currently, the spec forbids more than one INVITE at a time, and more than
>  one non-INVITE at a time. This is simple, but there are valid concerns that
>  it will bite us down the road when uses require faster operation. Thus, the
>  issue is whether to relax this two constraints.
>  
<snip>
>  
>  Proposal:
>  
>  Disallow overlapping INVITE (because it could get ugly)
>  Allow overlapping non-INVITE (because we will restrict ourselves too much
>  without it)
>    
>  -Jonathan R.
>  
Is "overlapping INVITEs" what is being proposed in draft-ietf-sip-overlap-01 
as a way to handle overlap signaling? That draft proposes to send another 
INVITE while still waiting for the response to the first. As noted, this 
could lead to problems in correct interpretation of responses received out of 
order.

It seems to make sense to not allow overlapping INVITEs, but would that then 
invalidate the proposal in draft-ietf-sip-overlap-01?

Mike Pierce

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Dec  6 15:55:58 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA12010
	for <sip-archive@odin.ietf.org>; Thu, 6 Dec 2001 15:55:58 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id PAA07228
	for sip-archive@odin.ietf.org; Thu, 6 Dec 2001 15:56:01 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id PAA06856;
	Thu, 6 Dec 2001 15:47:25 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id PAA06825
	for <sip@optimus.ietf.org>; Thu, 6 Dec 2001 15:47:23 -0500 (EST)
Received: from mail1.dynamicsoft.com (mail1.dynamicsoft.com [63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA11731
	for <sip@ietf.org>; Thu, 6 Dec 2001 15:47:19 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fB6KjL4I022827
	for <sip@ietf.org>; Thu, 6 Dec 2001 15:45:21 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <YAN9ZBKA>; Thu, 6 Dec 2001 15:46:51 -0500
Message-ID: <B65B4F8437968F488A01A940B21982BF020D7154@DYN-EXCH-001.dynamicsoft.com>
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: "'sip@ietf.org'" <sip@ietf.org>
Date: Thu, 6 Dec 2001 15:46:49 -0500 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Subject: [Sip] Open Issue #220: Stateless SRV Pain II
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

The specification requires that all requests within a call be sent to the
same 
address. It was assumed that this could be accomplished statelessly by using
the 
call-id as the seed of a random number generator to select one element
amongst a 
set of equal priority elements with different weights. However, thats only
true 
if the first try succeeds. If it fails, the next server is used. In 
that case, there is state reflected in the fact that two tries were made.
Its 
not clear how this is accomplished in a stateless proxy except to have it
always 
start at the top; it will try that first server, have it fail, and then use
the second. 
Thus, each retransmission will retry the failed server. If there are N
failed servers, each
retransmit will have to try each of those N servers over again.

Of course, if the 
element comes back to life mid-transaction, you will split requests across 
elements for the same transaction. That may be OK in some cases, not OK in 
others.

Discussion:

It is clear that SRV processing is difficult and complex to do on stateless
elements. I don't want to rule it out, but I think the specification should
be honest and recommend that if you do SRV processing a proxy, it should
really be stateful in order to reasonably operate. If a stateless proxy uses
SRV, the problems described above will occur. The result will be overly long
setup times, and potential failure scenarios when elements are added or
removed from service, either gracefully or through failure or recovery.

Proposal:

RECOMMENDED that proxies whihc do SRV are stateful
Document the limitations when stateless proxies do SRV

-Jonathan R.
---
Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
Chief Scientist                             First Floor
dynamicsoft                                 East Hanover, NJ 07936
jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
http://www.jdrosen.net                      PHONE: (973) 952-5000
http://www.dynamicsoft.com
 

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Dec  6 16:04:54 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id QAA12240
	for <sip-archive@odin.ietf.org>; Thu, 6 Dec 2001 16:04:54 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id QAA07860
	for sip-archive@odin.ietf.org; Thu, 6 Dec 2001 16:04:57 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id PAA07200;
	Thu, 6 Dec 2001 15:55:06 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id PAA07141
	for <sip@optimus.ietf.org>; Thu, 6 Dec 2001 15:54:59 -0500 (EST)
Received: from fep06-app.kolumbus.fi (fep06-0.kolumbus.fi [193.229.0.57])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA11999
	for <sip@ietf.org>; Thu, 6 Dec 2001 15:54:55 -0500 (EST)
Received: from jariws1 ([62.248.238.66]) by fep06-app.kolumbus.fi
          (InterMail vM.5.01.03.08 201-253-122-118-108-20010628) with SMTP
          id <20011206205457.PFEW19421.fep06-app.kolumbus.fi@jariws1>;
          Thu, 6 Dec 2001 22:54:57 +0200
Message-ID: <031101c17e98$4e8bd440$8a1b6e0a@arenanet.fi>
From: "Jari Arkko" <jari.arkko@kolumbus.fi>
To: "Michael Thomas" <mat@cisco.com>,
        "Jonathan Rosenberg" <jdrosen@dynamicsoft.com>
Cc: <sip@ietf.org>
References: <B65B4F8437968F488A01A940B21982BF020D713C@DYN-EXCH-001.dynamicsoft.com> <15375.51033.527129.424942@thomasm-u1.cisco.com>
Subject: Re: [Sip] Open Issue #164: Proxy-Authentication-Info
Date: Thu, 6 Dec 2001 22:55:15 +0200
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 5.50.4133.2400
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4133.2400
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

>    My general preference would be to stop putting bandaids
>    on hacks and do this right. I guess that means I favor
>    option (1).

I'm in favor of 'doing this right' but I think I disagree about whether
(1) is the right thing, given its hBh nature. I think we should have
e2e and e2m authentication and possibly integrity/encryption. I
think in this particular case Digest could be fixed but if folks are
starting to get tired of the bandaids on it, I'd also be happy with a completely
rewritten mechanism -- maybe based on the preshared key crypto system
that you had Mike on your framework draft, or similar.

Jari




_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Dec  6 16:05:02 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id QAA12257
	for <sip-archive@odin.ietf.org>; Thu, 6 Dec 2001 16:05:01 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id QAA07874
	for sip-archive@odin.ietf.org; Thu, 6 Dec 2001 16:05:05 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id PAA07161;
	Thu, 6 Dec 2001 15:55:00 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id PAA07056
	for <sip@optimus.ietf.org>; Thu, 6 Dec 2001 15:54:55 -0500 (EST)
Received: from rtp-msg-core-1.cisco.com (rtp-msg-core-1.cisco.com [161.44.11.97])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA11991
	for <sip@ietf.org>; Thu, 6 Dec 2001 15:54:51 -0500 (EST)
Received: from cannonat.cisco.com (cannon.cisco.com [161.44.228.16])
	by rtp-msg-core-1.cisco.com (8.11.3/8.9.1) with ESMTP id fB6KsFc09556;
	Thu, 6 Dec 2001 15:54:15 -0500 (EST)
Received: from cisco.com (dhcp-161-44-241-140.cisco.com [161.44.241.140])
	by cannonat.cisco.com (Mirapoint)
	with ESMTP id AAF36513 (AUTH pkyzivat);
	Thu, 6 Dec 2001 15:55:33 -0500 (EST)
Message-ID: <3C0FDA25.989C4CBE@cisco.com>
Date: Thu, 06 Dec 2001 15:50:45 -0500
From: Paul Kyzivat <pkyzivat@cisco.com>
X-Mailer: Mozilla 4.76 [en]C-CCK-MCD   (Windows NT 5.0; U)
X-Accept-Language: en
MIME-Version: 1.0
To: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
CC: "'sip@ietf.org'" <sip@ietf.org>, Ben Campbell <bcampbell@dynamicsoft.com>,
        "'confctrl@isi.edu'" <confctrl@isi.edu>
References: <B65B4F8437968F488A01A940B21982BF020D711D@DYN-EXCH-001.dynamicsoft.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Subject: [Sip] Re: [Simple] New I-D on IM transport
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

While I think this is a more general problem, I can't at the moment
offer any proof of this. So, I am willing to go along with a solution
within comedia since it is the only place I can point to that has the
problem.

David says that a=reuse isn't suitable for solving this problem.
I will go a bit further and say that I don't think a=reuse is
quite right in general. The problem with it is that it isn't
idempotent - I can't send the same sdp in a reinvite and get
unchanged behavior.

Instead, I think it works better if a reinvite with identical
sdp for a particular comedia media description automatically means
to preserve an existing connection, with some sort of change in
the sdp for that media description required to force establishment
of a new connection. This could be an extension to sdp to permit
o= to be used within a media description, or it could be a new
a= line containing something like a media description version.

More below.

	Paul

David Yon wrote:
> 
> While I'm not in tune with the full history of this thread, but what you
> are saying above is in violation of what is specified in comedia.  An
> endpoint may only specify "reuse" when it is signaling its intention to
> add a media stream over an existing connection.  If there is no existing
> connection, why would an endpoint specify "reuse"?


Jonathan Rosenberg wrote:
> 
> (cc'ing mmusic since there is a comedia issue in here, and trimming simple)
> 
> 
> > -----Original Message-----
> > From: Paul Kyzivat [mailto:pkyzivat@cisco.com]
> > Sent: Thursday, November 29, 2001 3:01 PM
> > To: Jonathan Rosenberg
> > Cc: 'sip@ietf.org'; Ben Campbell; simple@mailman.dynamicsoft.com
> > Subject: Re: [Simple] New I-D on IM transport
> >
> >
> > > > - what if there is no problem with signalling but there
> > is a problem
> > > > with the media stream? Then the reinvite will reach the original
> > > > endpoint rather than a backup. It will not be able to
> > distinguish this
> > > > reinvite from one for some other purpose, like session timer
> > > > refresh. It
> > > > will note that the sdp has not changed, and may choose to
> > > > simply return
> > > > the last sdp it sent. (This could happen if the sip and media
> > > > travel on
> > > > different network connections to the same host, or if the
> > > > media is on a
> > > > separate device with its own network connection.)
> > >
> > > I guess this seems to me to be the right behavior. What
> > would you want to
> > > happen in this case?
> >
> > Doing nothing in response to the problem seems wrong to me.
> > But clearly it is difficult to figure out the right thing to do.
> > Possible actions:
> > - switch to a different port. See if that helps.
> > - switch to a different media server, if it is independent of the
> >   sip UA itself
> > - record the fact that a caller reinvited because of presumed media
> >   problems at this end. Eventually an accumulation of these might lead
> >   to taking this box out of service.
> 
> The assumption in the reconstitute draft is that a re-invite is generally
> only going to be useful to fix the problem where a UA failed, and thus we
> need to reconstruct state at a backup. If its a network problem, its not
> clear to me that changing ports or servers will fix those problems. Indeed,
> one might argue that if there is a network problem, the SIP messaging is not
> likely to get through either...

There are more cases than this. The UA may itself have components on
multiple nodes. (You have addressed the 3pcc/b2bua case but there may
well be others, such as sip gateways to h.323.) Or on a single node some
communications may work and others not - such as when a device has
multiple network adapters.

The cases where the sip signalling still works at the original node are
the messy ones, because then the receiving device can't tell the
difference between a reinvite because of errors, and a reinvite for
other reasons. 

> 
> > > > - in a separate mail thread on the comedia draft, we
> > identified some
> > > > added problems with reinvites and connection oriented
> > media. In that
> > > > case, what is negotiated in the sdp is used to establish a media
> > > > connection, so it isn't idempotent to subsequent
> > invitations. There is
> > > > need to indicate in the sdp whether to renegotiate the
> > connection or
> > > > not. I don't think we ever fully resolved that. But I
> > believe it is
> > > > important that something in the sdp be changed to
> > indicate a desire to
> > > > renegotiate the connection. The same kind of scenario
> > applies here.
> > >
> > > This is a good point. I think its a pure co-media issue,
> > though, and that
> > > needs to be addressed in that draft.
> >
> > Fair enough, as long as the rules you are trying to craft
> > dovetail with
> > that. It may not be sufficient to simply reinvite with same old SDP;
> > it may be required to do something slightly different on a per-media
> > basis.
> 
> Right; you likely need to use a=reuse. One thing that is missing from
> comedia, though, is what to do if no existing connection exists. This would
> be an issue for the reconstitute draft, since it would send a re-invite with
> a=reuse, which might arrive at a new server that doesn't have a connection.
> Indeed, one might argue that reuse is orthogonal to a=active/passive/both.
> a=reuse would say what to do if the connection exists, the rest would say
> what to do when it doesn't.

This is partly solved by having version information in the session
description.
If the version is different then a new connection must be established,
whether
or not there is an old one. In the case of a new server picking up the
call,
any version would be a new one.

> 
> >
> > > > All of these issues suggest to me that some explicit
> > information needs
> > > > to be conveyed indicating what is being attempted. Part of
> > > > this might be
> > > > a Reason header indicating that the reinvite is being
> > sent to recover
> > > > from a perceived problem.
> > >
> > > I'm still not convinced, so long as the comedia issue is handled.
> >
> > You may be right, but I have the feeling the problem is bigger than
> > just comedia. Reinvites can be sent for many reasons, and errors can
> > show their symptoms in many ways. The assumption you are
> > making is that
> > the reinvite will always induce another problem,
> 
> induce another problem? No - the reinvite would get routed to another box
> that is up.

I meant to include that. I meant that the problem that first showed up
as a media problem will also manifest itself in sip signalling. For
instance, routing the new invitation to an alternate server box because
the one used previously no longer responds.

	Paul

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Dec  6 16:07:58 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id QAA12337
	for <sip-archive@odin.ietf.org>; Thu, 6 Dec 2001 16:07:58 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id QAA07954
	for sip-archive@odin.ietf.org; Thu, 6 Dec 2001 16:08:02 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id QAA07813;
	Thu, 6 Dec 2001 16:01:48 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id QAA07781
	for <sip@optimus.ietf.org>; Thu, 6 Dec 2001 16:01:45 -0500 (EST)
Received: from mail1.dynamicsoft.com (mail1.dynamicsoft.com [63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id QAA12169
	for <sip@ietf.org>; Thu, 6 Dec 2001 16:01:41 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fB6Kxj4I022940
	for <sip@ietf.org>; Thu, 6 Dec 2001 15:59:45 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <YAN9ZBL7>; Thu, 6 Dec 2001 16:01:14 -0500
Message-ID: <B65B4F8437968F488A01A940B21982BF020D7156@DYN-EXCH-001.dynamicsoft.com>
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: "'sip@ietf.org'" <sip@ietf.org>
Date: Thu, 6 Dec 2001 16:01:13 -0500 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Subject: [Sip] Open Issue #231: Stateless UAS
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

Issue:

A stateless UAS is a UAS that doesn't maintain transaction state. It
effectively regenerates the response for each request retransmission, and
resends it. A stateless UAS is really needed to protect against SYN "style"
attacks using SIP. Without it, an authenticated attacker could send requests
to a SIP proxy, causing the SIP proxy to establish transaction state. You
should never create state for unauthenticated requests. The spec talks about
this behavior, but doesn't give details.

However, details would be helpful. There are some important things you need
to do to properly build a stateless UAS:

  * eat ACK requests
  * ignore CANCEL
  * statelessly construct To tags

None of these are documented at the moment. Should they be?

Discussion points:

Do we need yet another element? 

Unfortunately, we do, since it is already mentioned, but without sufficient
detail for correct and interoperable implmenetation. Therefore, we need to
provide sufficient detail for this to be done properly by an implementation.

Proposal:

Add text describing this behavior

---
Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
Chief Scientist                             First Floor
dynamicsoft                                 East Hanover, NJ 07936
jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
http://www.jdrosen.net                      PHONE: (973) 952-5000
http://www.dynamicsoft.com
 

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Dec  6 16:23:23 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id QAA12925
	for <sip-archive@odin.ietf.org>; Thu, 6 Dec 2001 16:23:22 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id QAA09007
	for sip-archive@odin.ietf.org; Thu, 6 Dec 2001 16:23:26 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id QAA08068;
	Thu, 6 Dec 2001 16:10:22 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id QAA08036
	for <sip@optimus.ietf.org>; Thu, 6 Dec 2001 16:10:20 -0500 (EST)
Received: from broadsof.temp.veriohosting.com (broadsof.temp.veriohosting.com [161.58.239.68])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id QAA12377
	for <sip@ietf.org>; Thu, 6 Dec 2001 16:10:15 -0500 (EST)
Received: from tate ([64.243.180.244]) by broadsof.temp.veriohosting.com (8.11.6) id fB6LAD279711; Thu, 6 Dec 2001 16:10:13 -0500 (EST)
Reply-To: <brett@broadsoft.com>
From: "Brett Tate" <brett@broadsoft.com>
To: <sip@ietf.org>
Subject: RE: [Sip] Open Issue #126: ACK never received for 2xx to re-INVITE
Date: Thu, 6 Dec 2001 16:11:47 -0500
Message-ID: <001c01c17e9a$9e280210$2b01a8c0@broadsoft.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook CWS, Build 9.0.2416 (9.0.2911.0)
In-Reply-To: <B65B4F8437968F488A01A940B21982BF020D7135@DYN-EXCH-001.dynamicsoft.com>
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4522.1200
Importance: Normal
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

> Issue:
> 
> What to do if you never get an ACK for a 2xx you sent to a re-INVITE?
> Currently, it says to re-INVITE to restablish state. However, 
> thats going to
> get complicated. An alternative is to just BYE the call.
> 
> Discussion points:
> 
> If a 2xx response to an initial INVITE never generates an ACK, you are
> supposed to BYE. I think it makes sense, in the interests of 
> uniformity of
> INVITE/re-INVITE, and KISS, to simply BYE in odd cases like this.
> 
> Proposal:
> 
> Send a BYE

How about "MUST send reINVITE or BYE"?

This wording allows the UAS to either
release or recover the call.  It also 
discourages devices from dropping the 
call without sending BYE as a means to
avoid sending BYE 11 times. 


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Dec  6 16:29:04 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id QAA13107
	for <sip-archive@odin.ietf.org>; Thu, 6 Dec 2001 16:29:03 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id QAA09141
	for sip-archive@odin.ietf.org; Thu, 6 Dec 2001 16:29:07 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id QAA08520;
	Thu, 6 Dec 2001 16:18:41 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id QAA08478
	for <sip@optimus.ietf.org>; Thu, 6 Dec 2001 16:18:39 -0500 (EST)
Received: from excalibur.santera.com (exchange.santera.com [4.22.157.11])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id QAA12675
	for <sip@ietf.org>; Thu, 6 Dec 2001 16:18:34 -0500 (EST)
X-MimeOLE: Produced By Microsoft Exchange V6.0.4712.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Subject: RE: [Sip] Major Open Issue #113: Overlapping Transactions
Date: Thu, 6 Dec 2001 15:18:04 -0600
Message-ID: <CD110021698980419241042CF576B8F2843506@EXCALIBUR.santera.com>
Thread-Topic: [Sip] Major Open Issue #113: Overlapping Transactions
Thread-Index: AcF+lmkmSpl1N9t5R9qOK151cR/iCwAAWnsg
From: "Chiou, Mark" <MChiou@santera.com>
To: <Mpierce1@aol.com>, <jdrosen@dynamicsoft.com>, <sip@ietf.org>
Content-Transfer-Encoding: 8bit
X-MIME-Autoconverted: from quoted-printable to 8bit by optimus.ietf.org id QAA08479
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 8bit

I vote for no Overlapping for INVITEs. SIP is an IP protocol. People
usually input digits then hit the send button. If the user hit the send
button too early, it is a incomplete address call. It is the same
approach as the wireless network. For 3G release 5 using SIP, I cannot
image supporting overlapping, which will tie up the air resources during
call setup.
 
For PSTN, the black phone is outpulsing every single digit the user
pushes such that inter-digit timer for collecting digits and overlapping
outpulsing on the trunk side do make sense to have the overlapping
mechanism.

For non-INVITEs overlapping, I do not see the usage at all. The
overlapping introduced for Call Processing is for speeding up the
bottleneck such as collecting and outpulsing. We might introduce
non-INVITEs overlapping when an application needs but forbidding it for
now.

Mark Chiou
Santera  

-----Original Message-----
From: Mpierce1@aol.com [mailto:Mpierce1@aol.com]
Sent: Thursday, December 06, 2001 2:37 PM
To: jdrosen@dynamicsoft.com; sip@ietf.org
Subject: Re: [Sip] Major Open Issue #113: Overlapping Transactions


In a message dated 12/5/01 9:35:32 PM Eastern Standard Time, 
jdrosen@dynamicsoft.com writes:

> Issue:
>  
>  This is a major issue. One of the more major ones remaining.
>  
>  Currently, the spec forbids more than one INVITE at a time, and more
than
>  one non-INVITE at a time. This is simple, but there are valid
concerns that
>  it will bite us down the road when uses require faster operation.
Thus, the
>  issue is whether to relax this two constraints.
>  
<snip>
>  
>  Proposal:
>  
>  Disallow overlapping INVITE (because it could get ugly)
>  Allow overlapping non-INVITE (because we will restrict ourselves too
much
>  without it)
>    
>  -Jonathan R.
>  
Is "overlapping INVITEs" what is being proposed in
draft-ietf-sip-overlap-01 
as a way to handle overlap signaling? That draft proposes to send
another 
INVITE while still waiting for the response to the first. As noted, this

could lead to problems in correct interpretation of responses received
out of 
order.

It seems to make sense to not allow overlapping INVITEs, but would that
then 
invalidate the proposal in draft-ietf-sip-overlap-01?

Mike Pierce

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Dec  6 16:54:16 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id QAA13834
	for <sip-archive@odin.ietf.org>; Thu, 6 Dec 2001 16:54:16 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id QAA10848
	for sip-archive@odin.ietf.org; Thu, 6 Dec 2001 16:54:20 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id QAA09108;
	Thu, 6 Dec 2001 16:27:10 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id QAA09080
	for <sip@optimus.ietf.org>; Thu, 6 Dec 2001 16:27:07 -0500 (EST)
Received: from broadsof.temp.veriohosting.com (broadsof.temp.veriohosting.com [161.58.239.68])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id QAA13040
	for <sip@ietf.org>; Thu, 6 Dec 2001 16:27:03 -0500 (EST)
Received: from tate ([64.243.180.244]) by broadsof.temp.veriohosting.com (8.11.6) id fB6LR6s82709; Thu, 6 Dec 2001 16:27:06 -0500 (EST)
Reply-To: <brett@broadsoft.com>
From: "Brett Tate" <brett@broadsoft.com>
To: <sip@ietf.org>
Subject: RE: [Sip] Open Issue #128: 503 and SRV
Date: Thu, 6 Dec 2001 16:28:40 -0500
Message-ID: <001d01c17e9c$fa3352b0$2b01a8c0@broadsoft.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook CWS, Build 9.0.2416 (9.0.2911.0)
In-Reply-To: <B65B4F8437968F488A01A940B21982BF020D7136@DYN-EXCH-001.dynamicsoft.com>
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4522.1200
Importance: Normal
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

> Issue:
> 
> The spec says that if you try to contact a server, and get a 
> 503, you are
> supposed to try an alternate server. The question is, does 
> alternate server
> mean going back to the SRV record and trying the next one?
> 
> Discussion points:
> 
> I believe this makes total sense, but it just needs to get 
> floated to see if
> there is any kind of problem with it.
> 
> Proposal:
> 
> 503 causes client to try next SRV entry

The proposal is fine.  The worst case is 
that the multiple entries for the SRV 
record represent the same device or share 
a device that is causing the 503 to occur.  
Thus it would lead to multiple 503's.  If 
the 503 was because of overload, sending 
a 503 might escalate the problem.


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Dec  6 17:06:29 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id RAA14216
	for <sip-archive@odin.ietf.org>; Thu, 6 Dec 2001 17:06:29 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id RAA15037
	for sip-archive@odin.ietf.org; Thu, 6 Dec 2001 17:06:33 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id QAA09931;
	Thu, 6 Dec 2001 16:42:24 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id QAA09892
	for <sip@optimus.ietf.org>; Thu, 6 Dec 2001 16:42:21 -0500 (EST)
Received: from mail1.dynamicsoft.com (mail1.dynamicsoft.com [63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id QAA13521
	for <sip@ietf.org>; Thu, 6 Dec 2001 16:42:16 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fB6LeK4I023312
	for <sip@ietf.org>; Thu, 6 Dec 2001 16:40:20 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <YAN9ZBRZ>; Thu, 6 Dec 2001 16:41:49 -0500
Message-ID: <B65B4F8437968F488A01A940B21982BF020D7158@DYN-EXCH-001.dynamicsoft.com>
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: "'sip@ietf.org'" <sip@ietf.org>
Date: Thu, 6 Dec 2001 16:41:45 -0500 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Subject: [Sip] Issue #232: TLS v. IPSec
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

Issue:

Bis-05 currently specifies TLS as the preferred transport layer security
solution for SIP. THis has raised concerns. Mostly, these concerns are
around the fact that TLS implies TCP, and user to proxy transport security
with TCP is going to be problematic.

Discussion points:

I think its sensible to separate the transport security into user to proxy
and proxy to proxy security. For proxy to proxy, TLS appears much better.
The setup overheads are not an issue, it has congestion control, and it
provides authentication identification information to the proxy for policy
decisions. It also has a workable keying solution, whereas IPSec does not at
this time. 

Not that IPSec is never a good thing; for securing the connections between
boxes in the network of a single provider, IPSec is very reasonable. TLS
could also be used there, of course.

Proposal:

TLS MUST be supported on all proxies for proxy-proxy security
IPSec MAY be supported
User to proxy security is a separate issue


-Jonathan R.

---
Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
Chief Scientist                             First Floor
dynamicsoft                                 East Hanover, NJ 07936
jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
http://www.jdrosen.net                      PHONE: (973) 952-5000
http://www.dynamicsoft.com
 

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Dec  6 17:08:26 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id RAA14272
	for <sip-archive@odin.ietf.org>; Thu, 6 Dec 2001 17:08:26 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id RAA15135
	for sip-archive@odin.ietf.org; Thu, 6 Dec 2001 17:08:18 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id QAA11014;
	Thu, 6 Dec 2001 16:59:34 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id QAA10981
	for <sip@optimus.ietf.org>; Thu, 6 Dec 2001 16:59:31 -0500 (EST)
Received: from mail1.dynamicsoft.com (mail1.dynamicsoft.com [63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id QAA13969
	for <sip@ietf.org>; Thu, 6 Dec 2001 16:59:26 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fB6LvU4I023401
	for <sip@ietf.org>; Thu, 6 Dec 2001 16:57:30 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <YAN9ZBTA>; Thu, 6 Dec 2001 16:58:59 -0500
Message-ID: <B65B4F8437968F488A01A940B21982BF020D7159@DYN-EXCH-001.dynamicsoft.com>
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: "'sip@ietf.org'" <sip@ietf.org>
Date: Thu, 6 Dec 2001 16:58:55 -0500 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Subject: [Sip] Open Issue #266: The Heterogeneous Error Response Forking Problem
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

Issue:

A sends an INVITE to proxy P, which forks to UAS's B and C. B responds with
415, 
C with 401. 401 is passed upstream. A retries the INVITE, which goes to C,
which 
is ok with it and sends a 183. B still rejects with a 415. B will not ring.
C 
eventually results in an answering machine, even though the user was
actually at 
B.

The problem is a generalization of the problem that motivated the merging of

challenges in 401/407. However, here we have headers that "ask for more
info" 
that span different response codes. 

Furthermore, with the current mechanism, a proxy waits for all final
responses before passing one upstream. So, as long as SOME UA was happy with
the request, others that needed something different, and sent a 4xx of some
sort, will not get a resubmitted request.

Discussion points:

Robert has written a proposal on this:
http://www.nostrum.com/~rjsparks/draft-sparks-sip-fu-00.txt

More thinking is needed. Certainly, one potential solution is to simply
ignore this problem. Of the error-responses-that-ask-for-retry, and that can
be retried automatically - 401/407 (authentication), 415 (unknown media
type), 420 (Bad Extension), 484 (Address Incomplete), its not clear that any
of these will be common cases except for 401/407. In that case, things,
oddly enough, work if everyone challenges, otherwise, the most forgiving
phone will be the one that rings.

I have no specific proposal at this time, but am working on it. I believe
its closely related to the early media problem, with similar solutions being
needed.

-Jonathan R.


---
Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
Chief Scientist                             First Floor
dynamicsoft                                 East Hanover, NJ 07936
jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
http://www.jdrosen.net                      PHONE: (973) 952-5000
http://www.dynamicsoft.com
 

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Dec  6 17:25:17 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id RAA14727
	for <sip-archive@odin.ietf.org>; Thu, 6 Dec 2001 17:25:17 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id RAA16225
	for sip-archive@odin.ietf.org; Thu, 6 Dec 2001 17:25:21 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id RAA15080;
	Thu, 6 Dec 2001 17:06:53 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id RAA15054
	for <sip@optimus.ietf.org>; Thu, 6 Dec 2001 17:06:51 -0500 (EST)
Received: from mail1.dynamicsoft.com (mail1.dynamicsoft.com [63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id RAA14239
	for <sip@ietf.org>; Thu, 6 Dec 2001 17:06:46 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fB6M4o4I023462
	for <sip@ietf.org>; Thu, 6 Dec 2001 17:04:50 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <YAN9ZBT8>; Thu, 6 Dec 2001 17:06:20 -0500
Message-ID: <B65B4F8437968F488A01A940B21982BF020D715A@DYN-EXCH-001.dynamicsoft.com>
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: "'sip@ietf.org'" <sip@ietf.org>
Date: Thu, 6 Dec 2001 17:06:16 -0500 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Subject: [Sip] Open Issue #281: Entire URI as a key to location service lookup
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

Issue:

There are problems with the bis-05 text which says that a proxy should use
the 
entire URL from the request URI as the key to lookup contacts in the
location 
service DB. The problem is that sometimes the R-URI has transport and maddr 
params, used for routing, and these are not part of the To header in the 
REGISTER, so a 404 is getting sent.

Igor Slepchin has proposed that the choice of key is a matter of local
policy, so long 
as its consistent between registration processing and request routing 
processing. However, I think some guidelines would be helpful to avoid
having 
people shoot themselves in the foot. 

The text used to give no guidance on this, but we changed it to say the
entire 
URL since there had been other problems, or so I recall. Not sure what the 
previous problems were, though.

Another issue with using the whole URL as input to the location DB is that
the key is no longer a simple string; this makes lookups more complex.

Proposal:

Allow key for LS lookups to be a matter of local policy. Describe issues
(like using port and maddr are bad).

-Jonathan R.

---
Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
Chief Scientist                             First Floor
dynamicsoft                                 East Hanover, NJ 07936
jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
http://www.jdrosen.net                      PHONE: (973) 952-5000
http://www.dynamicsoft.com
 

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Dec  6 17:27:37 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id RAA14782
	for <sip-archive@odin.ietf.org>; Thu, 6 Dec 2001 17:27:37 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id RAA16387
	for sip-archive@odin.ietf.org; Thu, 6 Dec 2001 17:27:41 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id RAA15773;
	Thu, 6 Dec 2001 17:18:48 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id RAA15700
	for <sip@optimus.ietf.org>; Thu, 6 Dec 2001 17:18:44 -0500 (EST)
Received: from sj-msg-core-1.cisco.com (sj-msg-core-1.cisco.com [171.71.163.11])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id RAA14490
	for <sip@ietf.org>; Thu, 6 Dec 2001 17:18:39 -0500 (EST)
Received: from mira-sjc5-7.cisco.com (mira-sjc5-7.cisco.com [171.71.163.27])
	by sj-msg-core-1.cisco.com (8.11.3/8.9.1) with ESMTP id fB6MI6V28348;
	Thu, 6 Dec 2001 14:18:06 -0800 (PST)
Received: from thomasm-u1.cisco.com (thomasm-u1.cisco.com [128.107.140.53])
	by mira-sjc5-7.cisco.com (Mirapoint)
	with ESMTP id AAL81787;
	Thu, 6 Dec 2001 14:17:29 -0800 (PST)
Received: (thomasm@localhost) by thomasm-u1.cisco.com (8.8.8-Cisco List Logging/CISCO.WS.1.2) id OAA00972; Thu, 6 Dec 2001 14:18:03 -0800 (PST)
From: Michael Thomas <mat@cisco.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <15375.61083.277816.675838@thomasm-u1.cisco.com>
Date: Thu, 6 Dec 2001 14:18:03 -0800 (PST)
To: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
Cc: "'sip@ietf.org'" <sip@ietf.org>
Subject: [Sip] Issue #232: TLS v. IPSec
In-Reply-To: <B65B4F8437968F488A01A940B21982BF020D7158@DYN-EXCH-001.dynamicsoft.com>
References: <B65B4F8437968F488A01A940B21982BF020D7158@DYN-EXCH-001.dynamicsoft.com>
X-Mailer: VM 6.72 under 21.1 (patch 6) "Big Bend" XEmacs Lucid
X-Face: &,heK/V66p?[2!i|tVn,9lN0TUvEv7:9FzXREj/AuzN4m<D]vnFJ>u!4x[/Z4t{V}~L]+Sk
 @RFNnJEg~WZ/(8<`5a),-7ukALWa^&?&D2R0CSG3kO5~#6JxLF\d,g">$%B!0w{W)qIhmwhye104zd
 bUcI'1!
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Jonathan Rosenberg writes:
 > Discussion points:
 > 
 > I think its sensible to separate the transport security into user to proxy
 > and proxy to proxy security. For proxy to proxy, TLS appears much better.

   Better in what way? Also: I don't find your
   spilt sensible at all. It leaves the most
   vulnerable and problematic pieces without
   a defined solution (UA's). 

 > The setup overheads are not an issue, it has congestion control, 

   You can run TCP/SCTP over IPsec too.

 > and it
 > provides authentication identification information to the proxy for policy
 > decisions. 

   This is an API issue, not a protocol issue.

 > It also has a workable keying solution, whereas IPSec does not at
 > this time. 

   _What_??? What is IKE? What is KINK? What is XAUTH
   for AAA hackery? Also: anybody who believes that
   TLS inherits a workable PKI is la-la land. The web
   does not use PKI for security purposes even
   though there's a lot of hype and useless CPU cycles.

 > Not that IPSec is never a good thing; for securing the connections between
 > boxes in the network of a single provider, IPSec is very reasonable. TLS
 > could also be used there, of course.

   All of the cross realm issues present in IPsec
   are present for TLS. This shouldn't be any deep
   surprise: one is a L3.5 wedge, the other is a
   L4.5 wedge, and they both rely on the same auth
   techologies.

		Mike

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Dec  6 17:27:49 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id RAA14797
	for <sip-archive@odin.ietf.org>; Thu, 6 Dec 2001 17:27:48 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id RAA16402
	for sip-archive@odin.ietf.org; Thu, 6 Dec 2001 17:27:53 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id RAA15220;
	Thu, 6 Dec 2001 17:10:54 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id RAA15189
	for <sip@optimus.ietf.org>; Thu, 6 Dec 2001 17:10:52 -0500 (EST)
Received: from mail1.dynamicsoft.com (mail1.dynamicsoft.com [63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id RAA14304
	for <sip@ietf.org>; Thu, 6 Dec 2001 17:10:47 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fB6M8p4I023533
	for <sip@ietf.org>; Thu, 6 Dec 2001 17:08:51 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <YAN9ZB4V>; Thu, 6 Dec 2001 17:10:21 -0500
Message-ID: <B65B4F8437968F488A01A940B21982BF020D715B@DYN-EXCH-001.dynamicsoft.com>
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: "'sip@ietf.org'" <sip@ietf.org>
Date: Thu, 6 Dec 2001 17:10:15 -0500 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Subject: [Sip] Open Issue #282: Timer C needs minimum for proxies
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

Issue:

The spec says that Timer C is specified by the TU. Timer C defines how long
the 
client invite transaction waits for a final response after a provisional.
Having this 
be entirely defined by the TU makes sense when the TU is a UAC (i.e., how
long you let the phone ring is a matter of local policy). But, for a 
proxy, its a different story. If the proxy transactions give up immediately,

calls will not function properly. Thus, for this to work, proxies need to
have a 
minimum value for timer C. 

Proposal:

The proposal would be to have 32s as the minimum. This value is somewhat
arbitrary.

-Jonathan R.

---
Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
Chief Scientist                             First Floor
dynamicsoft                                 East Hanover, NJ 07936
jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
http://www.jdrosen.net                      PHONE: (973) 952-5000
http://www.dynamicsoft.com
 

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Dec  6 17:31:49 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id RAA14913
	for <sip-archive@odin.ietf.org>; Thu, 6 Dec 2001 17:31:49 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id RAA16994
	for sip-archive@odin.ietf.org; Thu, 6 Dec 2001 17:31:53 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id RAA15848;
	Thu, 6 Dec 2001 17:20:27 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id RAA15818
	for <sip@optimus.ietf.org>; Thu, 6 Dec 2001 17:20:24 -0500 (EST)
Received: from fep07-app.kolumbus.fi (fep07-1.kolumbus.fi [193.229.5.107])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id RAA14549
	for <sip@ietf.org>; Thu, 6 Dec 2001 17:20:18 -0500 (EST)
Received: from jariws1 ([62.248.238.66]) by fep07-app.kolumbus.fi
          (InterMail vM.5.01.03.08 201-253-122-118-108-20010628) with SMTP
          id <20011206222007.MHQS641.fep07-app.kolumbus.fi@jariws1>;
          Fri, 7 Dec 2001 00:20:07 +0200
Message-ID: <039f01c17ea4$3c97c440$8a1b6e0a@arenanet.fi>
From: "Jari Arkko" <jari.arkko@kolumbus.fi>
To: "Jonathan Rosenberg" <jdrosen@dynamicsoft.com>, <sip@ietf.org>
References: <B65B4F8437968F488A01A940B21982BF020D7158@DYN-EXCH-001.dynamicsoft.com>
Subject: Re: [Sip] Issue #232: TLS v. IPSec
Date: Fri, 7 Dec 2001 00:20:39 +0200
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 5.50.4133.2400
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4133.2400
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

> I think its sensible to separate the transport security into user to proxy
> and proxy to proxy security. 

We are very much in agreement here.

> I think its sensible to separate the transport security into user to proxy
> and proxy to proxy security. For proxy to proxy, TLS appears much better.

But here I disagree. There's a few problems in TLS as well. The main
one from my point of view relates to very large networks (guess which
ones?) where scalability proxy-to-proxy might be an issue.Here, IPsec
tunnel mode and separate gateways could help a lot -- if you have an SA
pair between all operators that is much better than an SA pair between
each box of each operator (e.g. 1000 operators => 1M SAs; 50 proxy
farm on each operator site => 2.5 G SAs). There are also other issues,
such as the fact that an IPsec tunnel could also be used simultaneously
for lots of other signaling protection needs while the TLS is only useful
for one thing. SCTP. The ability to use just IPsec (no key management
at all, very simple). Etc.

Question: does TLS support preshared symmetric keys (which IPsec does,
easing deployment as you don't need to deploy certs and possibly PKIs)?

Also, I believe Mike Thomas posted some long list of pros and cons
for the TLS-IPsec in SIP a while back. Perhaps we could get back to
that list?

In conclusion, I would propose MUST use IPsec for proxy-to-proxy, but
allow for separate gateways as well as transport mode in the box. MAY
use TLS.

> It also has a workable keying solution, whereas IPSec does not at
> this time. 

I think this is an overly broad claim. They are working on an a new IKE
version, but that doesn't mean the old one is broken. The old version
is also widely deployed and products are easily available.

I wouldn't use this as an argument in the TLS-IKE discussion.

> User to proxy security is a separate issue

We are again in agreement. Btw, please take a look at the draft-garcia and the
section on access domain security... basically people feel that neither TLS
nor IPSec/IKE are a solution in the wireless case. Could be LANs and WLANs,
though.

Jari




_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Dec  6 17:32:06 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id RAA14929
	for <sip-archive@odin.ietf.org>; Thu, 6 Dec 2001 17:32:06 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id RAA17009
	for sip-archive@odin.ietf.org; Thu, 6 Dec 2001 17:32:10 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id RAA16048;
	Thu, 6 Dec 2001 17:21:58 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id RAA15954
	for <sip@optimus.ietf.org>; Thu, 6 Dec 2001 17:21:52 -0500 (EST)
Received: from zrc2s03g.us.nortel.com (h66s122a103n47.user.nortelnetworks.com [47.103.122.66])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id RAA14606
	for <sip@ietf.org>; Thu, 6 Dec 2001 17:21:47 -0500 (EST)
Received: from smtprch2.nortel.com (erchg0k.us.nortel.com [47.113.64.104])
	by zrc2s03g.us.nortel.com (8.9.3+Sun/8.9.1) with ESMTP id QAA03945
	for <sip@ietf.org>; Thu, 6 Dec 2001 16:21:20 -0600 (CST)
Received: from zrchb200.us.nortel.com by smtprch2.nortel.com;
          Thu, 6 Dec 2001 16:14:04 -0600
Received: by zrchb200.us.nortel.com with Internet Mail Service (5.5.2653.19) 
          id <X6VLBN2T>; Thu, 6 Dec 2001 16:19:46 -0600
Message-ID: <933FADF5E673D411B8A30002A5608A0E06F352@zrc2c012.us.nortel.com>
From: "Sanjoy Sen" <sanjoy@nortelnetworks.com>
To: "'Jonathan Rosenberg'" <jdrosen@dynamicsoft.com>,
        "'sip@ietf.org'" <sip@ietf.org>
Subject: RE: [Sip] Open Issue #164: Proxy-Authentication-Info
Date: Thu, 6 Dec 2001 16:19:38 -0600
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: multipart/alternative;
              boundary="----_=_NextPart_001_01C17EA4.18372CD0"
X-Orig: <sanjoy@americasm01.nt.com>
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

This message is in MIME format. Since your mail reader does not understand
this format, some or all of this message may not be legible.

------_=_NextPart_001_01C17EA4.18372CD0
Content-Type: text/plain;
	charset="iso-8859-1"

Jonathan,

   From reading RFC 2617 (Sec 3.6), I had the impression that
Proxy-Authentication-Info is used by the origin server (which maps to UAS in
SIP) in responses towards the Proxy. Sec 3.6 reads:
"  On subsequent responses, the server sends Proxy-Authentication-Info
   with directives the same as those for the Authentication-Info header
   field. " 
Actually, I'm not sure, on reading the RFC, what header should be used in
this case - it seems that Authentication-Info and Proxy-Authentication-Info
are used by the server to authenticate itself to the client and Proxy,
respectively. I've mentioned this in the
draft-sen-sipping-onehop-digest-00.txt.

  Anyway, if the problem of distinguishing multiple
Proxy-Authentication-Info header needs to be solved, I would support
approach (3), since (1) this (multiple Proxies) would be a SIP specific case
(or does HTTP need this too?) and (2) there's no standard's change.

Thanks,
Sanjoy


> -----Original Message-----
> From: Jonathan Rosenberg [mailto:jdrosen@dynamicsoft.com]
> Sent: Wednesday, December 05, 2001 11:37 PM
> To: 'sip@ietf.org'
> Subject: [Sip] Open Issue #164: Proxy-Authentication-Info
> 
> 
> Issue:
> 
> bis-05 does not use Proxy-Authentication-Info. This response 
> header, defined
> in rfc2617, allows for mutual authentication between a client 
> and proxies.
> THe header is not used since it has a flaw that is bad for 
> SIP - it appears
> to assume a single proxy. This is because it omits the realm 
> as a parameter.
> From the brief amount of text about 
> Proxy-Authenticatiopn-Info, it appears
> that it was added as an afterthought, and this issue was not 
> considered.
> Thus, if a UAC gets a 2xx response that came through three 
> proxies, and each
> of them inserted a Proxy-Authentication-Info header, the UAC 
> would not be
> able to determine which header is for which proxy. 
> 
> Discussion:
> 
> This header can either be:
> 
> (1) omitted entirely, so that mutual auth between client and 
> proxy is not
> possible
> (2) it can be fixed. The fix is to simply extend the header 
> and add the
> requisite realm parameter. 
> (3) we can instead use the nonce to distinguish the headers. The
> Proxy-Authorization headers in the request would each contain 
> a DIFFERENT
> cnonce for each proxy that is being challenged. The proxies 
> mirror this
> cnonce in the response. The UAC can therefore use the cnonce 
> to figure out
> which header is for which proxy. 
> 
> Although (3) is somewhat ugly, it is the least amount of 
> work, as it allows
> us to directly use rfc2617, with some additional explanatory 
> text. I believe
> mutual auth between client and server is important. 
> Therefore, the proposal
> is:
> 
> Proposal:
> 
> Take approach (3), which allows Proxy-Authentication-Info, 
> but document the
> issue with cnonce as a selection parameter. 
> 
> -Jonathan R.
> 
> 
> 
> ---
> Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
> Chief Scientist                             First Floor
> dynamicsoft                                 East Hanover, NJ 07936
> jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
> http://www.jdrosen.net                      PHONE: (973) 952-5000
> http://www.dynamicsoft.com
>  
> 
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
> 

------_=_NextPart_001_01C17EA4.18372CD0
Content-Type: text/html;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV=3D"Content-Type" CONTENT=3D"text/html; =
charset=3Diso-8859-1">
<META NAME=3D"Generator" CONTENT=3D"MS Exchange Server version =
5.5.2654.89">
<TITLE>RE: [Sip] Open Issue #164: Proxy-Authentication-Info</TITLE>
</HEAD>
<BODY>

<P><FONT SIZE=3D2>Jonathan,</FONT>
</P>

<P><FONT SIZE=3D2>&nbsp;&nbsp; From reading RFC 2617 (Sec 3.6), I had =
the impression that Proxy-Authentication-Info is used by the origin =
server (which maps to UAS in SIP) in responses towards the Proxy. Sec =
3.6 reads:</FONT></P>

<P><FONT SIZE=3D2>&quot;&nbsp; On subsequent responses, the server =
sends Proxy-Authentication-Info</FONT>
<BR><FONT SIZE=3D2>&nbsp;&nbsp; with directives the same as those for =
the Authentication-Info header</FONT>
<BR><FONT SIZE=3D2>&nbsp;&nbsp; field. &quot; </FONT>
<BR><FONT SIZE=3D2>Actually, I'm not sure, on reading the RFC, what =
header should be used in this case - it seems that Authentication-Info =
and Proxy-Authentication-Info are used by the server to authenticate =
itself to the client and Proxy, respectively. I've mentioned this in =
the draft-sen-sipping-onehop-digest-00.txt.</FONT></P>

<P><FONT SIZE=3D2>&nbsp; Anyway, if the problem of distinguishing =
multiple Proxy-Authentication-Info header needs to be solved, I would =
support approach (3), since (1) this (multiple Proxies) would be a SIP =
specific case (or does HTTP need this too?) and (2) there's no =
standard's change.</FONT></P>

<P><FONT SIZE=3D2>Thanks,</FONT>
<BR><FONT SIZE=3D2>Sanjoy</FONT>
</P>
<BR>

<P><FONT SIZE=3D2>&gt; -----Original Message-----</FONT>
<BR><FONT SIZE=3D2>&gt; From: Jonathan Rosenberg [<A =
HREF=3D"mailto:jdrosen@dynamicsoft.com">mailto:jdrosen@dynamicsoft.com</=
A>]</FONT>
<BR><FONT SIZE=3D2>&gt; Sent: Wednesday, December 05, 2001 11:37 =
PM</FONT>
<BR><FONT SIZE=3D2>&gt; To: 'sip@ietf.org'</FONT>
<BR><FONT SIZE=3D2>&gt; Subject: [Sip] Open Issue #164: =
Proxy-Authentication-Info</FONT>
<BR><FONT SIZE=3D2>&gt; </FONT>
<BR><FONT SIZE=3D2>&gt; </FONT>
<BR><FONT SIZE=3D2>&gt; Issue:</FONT>
<BR><FONT SIZE=3D2>&gt; </FONT>
<BR><FONT SIZE=3D2>&gt; bis-05 does not use Proxy-Authentication-Info. =
This response </FONT>
<BR><FONT SIZE=3D2>&gt; header, defined</FONT>
<BR><FONT SIZE=3D2>&gt; in rfc2617, allows for mutual authentication =
between a client </FONT>
<BR><FONT SIZE=3D2>&gt; and proxies.</FONT>
<BR><FONT SIZE=3D2>&gt; THe header is not used since it has a flaw that =
is bad for </FONT>
<BR><FONT SIZE=3D2>&gt; SIP - it appears</FONT>
<BR><FONT SIZE=3D2>&gt; to assume a single proxy. This is because it =
omits the realm </FONT>
<BR><FONT SIZE=3D2>&gt; as a parameter.</FONT>
<BR><FONT SIZE=3D2>&gt; From the brief amount of text about </FONT>
<BR><FONT SIZE=3D2>&gt; Proxy-Authenticatiopn-Info, it appears</FONT>
<BR><FONT SIZE=3D2>&gt; that it was added as an afterthought, and this =
issue was not </FONT>
<BR><FONT SIZE=3D2>&gt; considered.</FONT>
<BR><FONT SIZE=3D2>&gt; Thus, if a UAC gets a 2xx response that came =
through three </FONT>
<BR><FONT SIZE=3D2>&gt; proxies, and each</FONT>
<BR><FONT SIZE=3D2>&gt; of them inserted a Proxy-Authentication-Info =
header, the UAC </FONT>
<BR><FONT SIZE=3D2>&gt; would not be</FONT>
<BR><FONT SIZE=3D2>&gt; able to determine which header is for which =
proxy. </FONT>
<BR><FONT SIZE=3D2>&gt; </FONT>
<BR><FONT SIZE=3D2>&gt; Discussion:</FONT>
<BR><FONT SIZE=3D2>&gt; </FONT>
<BR><FONT SIZE=3D2>&gt; This header can either be:</FONT>
<BR><FONT SIZE=3D2>&gt; </FONT>
<BR><FONT SIZE=3D2>&gt; (1) omitted entirely, so that mutual auth =
between client and </FONT>
<BR><FONT SIZE=3D2>&gt; proxy is not</FONT>
<BR><FONT SIZE=3D2>&gt; possible</FONT>
<BR><FONT SIZE=3D2>&gt; (2) it can be fixed. The fix is to simply =
extend the header </FONT>
<BR><FONT SIZE=3D2>&gt; and add the</FONT>
<BR><FONT SIZE=3D2>&gt; requisite realm parameter. </FONT>
<BR><FONT SIZE=3D2>&gt; (3) we can instead use the nonce to distinguish =
the headers. The</FONT>
<BR><FONT SIZE=3D2>&gt; Proxy-Authorization headers in the request =
would each contain </FONT>
<BR><FONT SIZE=3D2>&gt; a DIFFERENT</FONT>
<BR><FONT SIZE=3D2>&gt; cnonce for each proxy that is being challenged. =
The proxies </FONT>
<BR><FONT SIZE=3D2>&gt; mirror this</FONT>
<BR><FONT SIZE=3D2>&gt; cnonce in the response. The UAC can therefore =
use the cnonce </FONT>
<BR><FONT SIZE=3D2>&gt; to figure out</FONT>
<BR><FONT SIZE=3D2>&gt; which header is for which proxy. </FONT>
<BR><FONT SIZE=3D2>&gt; </FONT>
<BR><FONT SIZE=3D2>&gt; Although (3) is somewhat ugly, it is the least =
amount of </FONT>
<BR><FONT SIZE=3D2>&gt; work, as it allows</FONT>
<BR><FONT SIZE=3D2>&gt; us to directly use rfc2617, with some =
additional explanatory </FONT>
<BR><FONT SIZE=3D2>&gt; text. I believe</FONT>
<BR><FONT SIZE=3D2>&gt; mutual auth between client and server is =
important. </FONT>
<BR><FONT SIZE=3D2>&gt; Therefore, the proposal</FONT>
<BR><FONT SIZE=3D2>&gt; is:</FONT>
<BR><FONT SIZE=3D2>&gt; </FONT>
<BR><FONT SIZE=3D2>&gt; Proposal:</FONT>
<BR><FONT SIZE=3D2>&gt; </FONT>
<BR><FONT SIZE=3D2>&gt; Take approach (3), which allows =
Proxy-Authentication-Info, </FONT>
<BR><FONT SIZE=3D2>&gt; but document the</FONT>
<BR><FONT SIZE=3D2>&gt; issue with cnonce as a selection parameter. =
</FONT>
<BR><FONT SIZE=3D2>&gt; </FONT>
<BR><FONT SIZE=3D2>&gt; -Jonathan R.</FONT>
<BR><FONT SIZE=3D2>&gt; </FONT>
<BR><FONT SIZE=3D2>&gt; </FONT>
<BR><FONT SIZE=3D2>&gt; </FONT>
<BR><FONT SIZE=3D2>&gt; ---</FONT>
<BR><FONT SIZE=3D2>&gt; Jonathan D. Rosenberg, =
Ph.D.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&=
nbsp;&nbsp;&nbsp;&nbsp; 72 Eagle Rock Ave.</FONT>
<BR><FONT SIZE=3D2>&gt; Chief =
Scientist&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nb=
sp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nb=
sp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; First Floor</FONT>
<BR><FONT SIZE=3D2>&gt; =
dynamicsoft&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&=
nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&=
nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; East =
Hanover, NJ 07936</FONT>
<BR><FONT SIZE=3D2>&gt; =
jdrosen@dynamicsoft.com&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&=
nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
FAX:&nbsp;&nbsp; (973) 952-5050</FONT>
<BR><FONT SIZE=3D2>&gt; <A HREF=3D"http://www.jdrosen.net" =
TARGET=3D"_blank">http://www.jdrosen.net</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p;&nbsp;&nbsp;&nbsp;&nbsp; PHONE: (973) 952-5000</FONT>
<BR><FONT SIZE=3D2>&gt; <A HREF=3D"http://www.dynamicsoft.com" =
TARGET=3D"_blank">http://www.dynamicsoft.com</A></FONT>
<BR><FONT SIZE=3D2>&gt;&nbsp; </FONT>
<BR><FONT SIZE=3D2>&gt; </FONT>
<BR><FONT SIZE=3D2>&gt; =
_______________________________________________</FONT>
<BR><FONT SIZE=3D2>&gt; Sip mailing list&nbsp; <A =
HREF=3D"http://www1.ietf.org/mailman/listinfo/sip" =
TARGET=3D"_blank">http://www1.ietf.org/mailman/listinfo/sip</A></FONT>
<BR><FONT SIZE=3D2>&gt; This list is for NEW development of the core =
SIP Protocol</FONT>
<BR><FONT SIZE=3D2>&gt; Use sip-implementors@cs.columbia.edu for =
questions on current sip</FONT>
<BR><FONT SIZE=3D2>&gt; Use sipping@ietf.org for new developments on =
the application of sip</FONT>
<BR><FONT SIZE=3D2>&gt; </FONT>
</P>

</BODY>
</HTML>
------_=_NextPart_001_01C17EA4.18372CD0--

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Dec  6 17:34:28 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id RAA14992
	for <sip-archive@odin.ietf.org>; Thu, 6 Dec 2001 17:34:28 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id RAA17115
	for sip-archive@odin.ietf.org; Thu, 6 Dec 2001 17:34:33 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id RAA16212;
	Thu, 6 Dec 2001 17:25:11 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id RAA16181
	for <sip@optimus.ietf.org>; Thu, 6 Dec 2001 17:25:08 -0500 (EST)
Received: from imr2.ericy.com (imr2.ericy.com [12.34.240.68])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id RAA14722
	for <sip@ietf.org>; Thu, 6 Dec 2001 17:25:03 -0500 (EST)
Received: from mr7.exu.ericsson.se (mr7att.ericy.com [138.85.92.15])
	by imr2.ericy.com (8.11.3/8.11.3) with ESMTP id fB6MOSY01523;
	Thu, 6 Dec 2001 16:24:28 -0600 (CST)
Received: from newman.exu.ericsson.se (newman.exu.ericsson.se [138.85.75.179])
	by mr7.exu.ericsson.se (8.11.3/8.11.3) with ESMTP id fB6MOSr18959;
	Thu, 6 Dec 2001 16:24:28 -0600 (CST)
Received: from lmf.ericsson.se (rmt160209.am.ericsson.se [138.85.160.209]) by newman.exu.ericsson.se (8.7.5/8.7.3) with ESMTP id QAA15785; Thu, 6 Dec 2001 16:24:26 -0600 (CST)
Message-ID: <3C0FF5E6.555A2938@lmf.ericsson.se>
Date: Fri, 07 Dec 2001 00:49:10 +0200
From: Gonzalo Camarillo <Gonzalo.Camarillo@lmf.ericsson.se>
X-Mailer: Mozilla 4.79 [en] (WinNT; U)
X-Accept-Language: en
MIME-Version: 1.0
To: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
CC: "'sip@ietf.org'" <sip@ietf.org>
Subject: Re: [Sip] Open Issue #109: Allow in non-INVITE
References: <B65B4F8437968F488A01A940B21982BF020D7133@DYN-EXCH-001.dynamicsoft.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit



Jonathan Rosenberg wrote:
> 
> Issue:
> 
> There are two issues. Both are minor:
> 
>   * do we allow Allow in requests outside of INVITE and OPTIONS?
> 
>   * If I send OPTIONS to sip:user@foo.com, and the response has an Allow,
> what does that mean exactly? Does that mean that it is safe to send the
> methods listed in the Allow to sip:user@foo.com in the future? Or that its
> safe to send the methods listed in the Allow to the URL in the Contact of
> the OPTIONS? After all, a subsequent request might not route to the same UA
> that got the OPTIONS; so, even if the OPTIONS response indicates that method
> BAR is allowed, there is no guarantee that when you send BAR to
> sip:user@foo.com, it will get to the same UA which respoded to the OPTIONS.
> 
> Discussion points:
> 
> For the first issue, lets KISS and disallow it. Extensions can of course
> indicate whether its useful.
> 
> For the second one, its worth observing that this concern is true for all
> other headers in the OPTIONS response - Accept, Accept-Encoding, Supported,
> etc. In fact, its true for headers like WWW-Authenticate and Authorization.
> I may call a UA, it returns a 401 w/ WWW-Authenticate, I stick in an
> Authorization header, and resubmit the request, but it gets routed
> differently, to a different UA. Same issue. I don't think its a big deal,
> since in all cases you'll simply get the appropriate error code and can try
> again.
> 
> Proposal:
> 
> * point 1: disallow

What about disallowing Allow in methods that do not establish dialogs?
OPTIONS would be the only expection to the rule.

Regards,

Gonzalo

> * point 2: don't care. Allow refers to methods supported by the resource in
> the request URI of the original OPTIONS request sent by the UAC.
> 
> -Jonathan R.
> 
> ---
> Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
> Chief Scientist                             First Floor
> dynamicsoft                                 East Hanover, NJ 07936
> jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
> http://www.jdrosen.net                      PHONE: (973) 952-5000
> http://www.dynamicsoft.com
> 
> 
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip

-- 
Gonzalo Camarillo                    Phone :   +1 212 939 71 71
Columbia University                  Mobile:  +358 40 702 35 35
472 Computer Science Building        Fax   :  +358  9 299 30 52
1214 Amsterdam Ave., Mail Code 0401  http://www.hut.fi/~gonzalo
New York, NY 10027                   
USA                              Gonzalo.Camarillo@ericsson.com

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Dec  6 17:38:09 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id RAA15039
	for <sip-archive@odin.ietf.org>; Thu, 6 Dec 2001 17:38:08 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id RAA17207
	for sip-archive@odin.ietf.org; Thu, 6 Dec 2001 17:38:13 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id RAA15924;
	Thu, 6 Dec 2001 17:21:19 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id RAA15892
	for <sip@optimus.ietf.org>; Thu, 6 Dec 2001 17:21:16 -0500 (EST)
Received: from mail1.dynamicsoft.com (mail1.dynamicsoft.com [63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id RAA14577
	for <sip@ietf.org>; Thu, 6 Dec 2001 17:21:11 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fB6MJF4I023630
	for <sip@ietf.org>; Thu, 6 Dec 2001 17:19:15 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <YAN9ZBV0>; Thu, 6 Dec 2001 17:20:45 -0500
Message-ID: <B65B4F8437968F488A01A940B21982BF020D715C@DYN-EXCH-001.dynamicsoft.com>
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: "'sip@ietf.org'" <sip@ietf.org>
Date: Thu, 6 Dec 2001 17:20:40 -0500 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Subject: [Sip] Call for bis open issues
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

Folks,

At this time, I have sent an email to the list documenting almost all open
issues currently being tracked in bugzilla (39 at the moment), along with my
proposed resolutions. 

There are two important phrases in this sentence above that I need to
comment further on. First, I sent emails for "almost" all open issues. There
are two I did not send emails on. The first is the largest outstanding
issue, which is the whole mess of record-routing. How we do loose source
routing, when does an element pop vs. not pop the top route, how do we deal
with local outbound proxies, does port/transport get stripped in the URI
like maddr, etc. This spans bugs #159, #161, #213, #218, #268 in bugzilla
(which you can now see a summary of at
http://www.sipwg.org/bugzilla/openissue.cgi). Robert Sparks has agreed to
take ownership of making sure this moves forward in a timely fashion,

The second open issue I did not send an email on is the general SRV
algorithm. Discussions are still underway with IESG, and more work is needed
here. I hope to have a concrete statement of the issues and proposed
resolutions at IETF.


The other important phrase in my first statement was "currently being
tracked". These are the bugs we, the sip editors, are aware of. I am sure
there are other issues that people have had concerns about that have not yet
been addressed. As such, I would like to open a call for open issues against
the spec. If you are aware of any problems in the specification that
requires additional normative text to fix (as opposed to just clarifying
whats already there), please let us know, either privately or on the list.
This is NOT an open invitation for requests-for-features. Please confine
your comments to problems that need resolution.

Thanks,
Jonathan R.



---
Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
Chief Scientist                             First Floor
dynamicsoft                                 East Hanover, NJ 07936
jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
http://www.jdrosen.net                      PHONE: (973) 952-5000
http://www.dynamicsoft.com
 

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Dec  6 17:43:27 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id RAA15191
	for <sip-archive@odin.ietf.org>; Thu, 6 Dec 2001 17:43:27 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id RAA17304
	for sip-archive@odin.ietf.org; Thu, 6 Dec 2001 17:43:32 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id RAA16931;
	Thu, 6 Dec 2001 17:31:26 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id RAA16888
	for <sip@optimus.ietf.org>; Thu, 6 Dec 2001 17:31:24 -0500 (EST)
Received: from imr1.ericy.com (imr1.ericy.com [208.237.135.240])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id RAA14896
	for <sip@ietf.org>; Thu, 6 Dec 2001 17:31:18 -0500 (EST)
Received: from mr6.exu.ericsson.se (mr6u3.ericy.com [208.237.135.123])
	by imr1.ericy.com (8.11.3/8.11.3) with ESMTP id fB6MVEH06498;
	Thu, 6 Dec 2001 16:31:14 -0600 (CST)
Received: from newman.exu.ericsson.se (newman.exu.ericsson.se [138.85.75.179])
	by mr6.exu.ericsson.se (8.11.3/8.11.3) with ESMTP id fB6MVEL28192;
	Thu, 6 Dec 2001 16:31:14 -0600 (CST)
Received: from lmf.ericsson.se (rmt160209.am.ericsson.se [138.85.160.209]) by newman.exu.ericsson.se (8.7.5/8.7.3) with ESMTP id QAA16417; Thu, 6 Dec 2001 16:31:12 -0600 (CST)
Message-ID: <3C0FF77C.E3B67E7D@lmf.ericsson.se>
Date: Fri, 07 Dec 2001 00:55:56 +0200
From: Gonzalo Camarillo <Gonzalo.Camarillo@lmf.ericsson.se>
X-Mailer: Mozilla 4.79 [en] (WinNT; U)
X-Accept-Language: en
MIME-Version: 1.0
To: Mpierce1@aol.com
CC: jdrosen@dynamicsoft.com, sip@ietf.org, "Chiou, Mark" <MChiou@santera.com>
Subject: Re: [Sip] Major Open Issue #113: Overlapping Transactions
References: <185.4976a7.294130f1@aol.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Hi,

A clarification: overlap INVITEs do not have anything to do with PSTN
overlapped signalling (i.e., IAM + SAM + SAM ...).

In the mapping draft you are referring to subsequent INVITEs belong to
different dialogs, so we do not have any issue there.

Let's not side-track this thread.

Regards,

Gonzalo


Mpierce1@aol.com wrote:
> 
> In a message dated 12/5/01 9:35:32 PM Eastern Standard Time,
> jdrosen@dynamicsoft.com writes:
> 
> > Issue:
> >
> >  This is a major issue. One of the more major ones remaining.
> >
> >  Currently, the spec forbids more than one INVITE at a time, and more than
> >  one non-INVITE at a time. This is simple, but there are valid concerns that
> >  it will bite us down the road when uses require faster operation. Thus, the
> >  issue is whether to relax this two constraints.
> >
> <snip>
> >
> >  Proposal:
> >
> >  Disallow overlapping INVITE (because it could get ugly)
> >  Allow overlapping non-INVITE (because we will restrict ourselves too much
> >  without it)
> >
> >  -Jonathan R.
> >
> Is "overlapping INVITEs" what is being proposed in draft-ietf-sip-overlap-01
> as a way to handle overlap signaling? That draft proposes to send another
> INVITE while still waiting for the response to the first. As noted, this
> could lead to problems in correct interpretation of responses received out of
> order.
> 
> It seems to make sense to not allow overlapping INVITEs, but would that then
> invalidate the proposal in draft-ietf-sip-overlap-01?
> 
> Mike Pierce
> 
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip

-- 
Gonzalo Camarillo                    Phone :   +1 212 939 71 71
Columbia University                  Mobile:  +358 40 702 35 35
472 Computer Science Building        Fax   :  +358  9 299 30 52
1214 Amsterdam Ave., Mail Code 0401  http://www.hut.fi/~gonzalo
New York, NY 10027                   
USA                              Gonzalo.Camarillo@ericsson.com

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Dec  6 17:45:35 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id RAA15226
	for <sip-archive@odin.ietf.org>; Thu, 6 Dec 2001 17:45:35 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id RAA17375
	for sip-archive@odin.ietf.org; Thu, 6 Dec 2001 17:45:40 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id RAA16841;
	Thu, 6 Dec 2001 17:31:01 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id RAA16803
	for <sip@optimus.ietf.org>; Thu, 6 Dec 2001 17:30:57 -0500 (EST)
Received: from mail2.intervoice-brite.com (mail2.intervoice-brite.com [204.62.8.15])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id RAA14864
	for <sip@ietf.org>; Thu, 6 Dec 2001 17:30:52 -0500 (EST)
Received: from DALNTMS02.ivbi.com (smtp.ivbi.com [151.214.90.44])
	by mail2.intervoice-brite.com (Build 101 8.9.3/NT-8.9.3) with ESMTP id QAA03520
	for <sip@ietf.org>; Thu, 06 Dec 2001 16:32:20 -0600
Received: from 172.16.16.64 (unverified) by DALNTMS02.ivbi.com
 (Content Technologies SMTPRS 4.2.5) with SMTP id <T57a959e40097d65a2c504@DALNTMS02.ivbi.com> for <sip@ietf.org>;
 Thu, 6 Dec 2001 16:16:35 -0600
Received: from INTERVOICE-Message_Server by 172.16.16.64
	with Novell_GroupWise; Thu, 06 Dec 2001 16:29:30 -0600
Message-Id: <sc0f9cea.063@172.16.16.64>
X-Mailer: Novell GroupWise Internet Agent 5.5.3.1
Date: Thu, 06 Dec 2001 16:24:56 -0600
From: "Kiranmai Pavoori" <kiranmai.pavoori@intervoice-brite.com>
To: <brett@broadsoft.com>, <christer.holmberg@lmf.ericsson.se>,
        <chogg@nortelnetworks.com>
Cc: <sip@ietf.org>
Subject: Re: RE: [Sip] Open Issue #58: Rejected mid-call SDP in 2xx
Mime-Version: 1.0
Content-Type: text/plain; charset="us-ascii"
Content-Disposition: inline
Content-Transfer-Encoding: 8bit
X-MIME-Autoconverted: from quoted-printable to 8bit by optimus.ietf.org id RAA16804
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 8bit

This is for an ideal case.

How would this scenario be handled, when B sees that it had received SDP, (media not supported) in INVITE to C. B can always reject with not 200 OK message. But how would the transaction complete between C and A. C still needs to send ACK to complete the transaction, does this mean that ACK again carries SDP of the current existing session. ( reflecting session between C and A ? )


when the UA-A sends 200 OK ( with sdP ) in response to a INVITE from C with no SDP...And when C sends an INVITE to B with this 

>>> "Chris Hogg" <chogg@nortelnetworks.com> 10/04 8:34 AM >>>
Hi Christer,

>I am not sure I agree on that. Isn't the 200 for a non-SDP re-INVITE
>supposed to return the current remote SDP, and if the call has been put
>on hold that should be a call-hold SDP (ie the SDP that was returned in
>the 200 for the call hold re-INVITE)?

I agree with this understanding.  I think this is also useful in 3pcc cases
whereby a controller (C) is already in session with a UA "A" but wishes to
establish a session between A and a new UA "B".  C sends a Re-INVITE to A
with no SDP causing A to send a 200 OK with its' SDP (which will be the
current remote SDP).  C may then initiate a new INVITE to B with the SDP it
has gleaned from A. The ACK from C to A will contain SDPb thus enabling the
call signalling to go from A to B via the controller but the media path to
be set up between A and B.  Thus in this case, the ACK does require to
modify the SDP from that of the original session but will not add any
additional media streams. I suppose if the SDP from B (sent to A from C in
the ACK) was inconsistent with that from A then the redirect would fail and
the session would revert to the call between A and C. 

Just wanted to understand the issues some more - comments welcome.

Thanks

Regards

Chris 

Chris Hogg
Nortel Networks (UK).



-----Original Message-----
From: Christer Holmberg [mailto:christer.holmberg@lmf.ericsson.se] 
Sent: 04 October 2001 06:11
To: brett@broadsoft.com 
Cc: sip@ietf.org 
Subject: Re: [Sip] Open Issue #58: Rejected mid-call SDP in 2xx



Hi,

>>However, my understanding was that the UAC
>>should be able to modify the existing streams
>>in the ACK SDP (but not add new streams).
>>Is that wrong?
>You are correct.

Good :)

>>At least I am :) But, again, my concern is
>>if there IS a scenario where
>>the UAC DOES add streams in the ACK SDP?
>Within the offer-answer model (both INVITE-200
>and 200-ACK), it is a protocol violation to
>add media streams in the answer.

I agree.

>>Yes, and that is related to my question:
>>what is 200/ACK SDP exchange
>>really needed for, if no party is allowed
>>to change anything in the SDPs?
>After a call has been established and placed
>on hold, a reinvite-without-sdp will likely
>trigger non-hold SDP in the 200 and ACK.
>Thus one or both SDP's have changed.

I am not sure I agree on that. Isn't the 200 for a non-SDP re-INVITE
supposed to return the current remote SDP, and if the call has been put
on hold that should be a call-hold SDP (ie the SDP that was returned in
the 200 for the call hold re-INVITE)?

Thanks for your comments!

Christer Holmberg
Ericsson Finland

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip 
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Dec  6 17:54:10 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id RAA15382
	for <sip-archive@odin.ietf.org>; Thu, 6 Dec 2001 17:54:09 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id RAA17732
	for sip-archive@odin.ietf.org; Thu, 6 Dec 2001 17:54:14 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id RAA17095;
	Thu, 6 Dec 2001 17:34:07 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id RAA17059
	for <sip@optimus.ietf.org>; Thu, 6 Dec 2001 17:34:04 -0500 (EST)
Received: from mail1.dynamicsoft.com (mail1.dynamicsoft.com [63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id RAA14980
	for <sip@ietf.org>; Thu, 6 Dec 2001 17:33:59 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fB6MW34I023727
	for <sip@ietf.org>; Thu, 6 Dec 2001 17:32:03 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <YAN9ZBXQ>; Thu, 6 Dec 2001 17:33:32 -0500
Message-ID: <B65B4F8437968F488A01A940B21982BF020D715D@DYN-EXCH-001.dynamicsoft.com>
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: "'sip@ietf.org'" <sip@ietf.org>
Date: Thu, 6 Dec 2001 17:33:27 -0500 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Subject: [Sip] Slides on bis open issues
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

Folks,

I will be using the following slides for the discussion on open bis issues
at IETF 52:
http://www.jdrosen.net/sip/sip_bis_open_dec01.ppt

This deck will probably change from now till then based on list discussion
that occurs between now and then. I will keep the date on the top slide
updated so you can tell whether there has been a change.

Thanks,
Jonathan R.

---
Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
Chief Scientist                             First Floor
dynamicsoft                                 East Hanover, NJ 07936
jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
http://www.jdrosen.net                      PHONE: (973) 952-5000
http://www.dynamicsoft.com
 

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Dec  6 17:55:35 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id RAA15425
	for <sip-archive@odin.ietf.org>; Thu, 6 Dec 2001 17:55:34 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id RAA17799
	for sip-archive@odin.ietf.org; Thu, 6 Dec 2001 17:55:37 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id RAA17355;
	Thu, 6 Dec 2001 17:44:45 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id RAA17324
	for <sip@optimus.ietf.org>; Thu, 6 Dec 2001 17:44:42 -0500 (EST)
Received: from imr2.ericy.com (imr2.ericy.com [12.34.240.68])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id RAA15215
	for <sip@ietf.org>; Thu, 6 Dec 2001 17:44:37 -0500 (EST)
Received: from mr5.exu.ericsson.se (mr5att.ericy.com [138.85.92.13])
	by imr2.ericy.com (8.11.3/8.11.3) with ESMTP id fB6Mi4Y08459;
	Thu, 6 Dec 2001 16:44:04 -0600 (CST)
Received: from newman.exu.ericsson.se (newman.exu.ericsson.se [138.85.75.179])
	by mr5.exu.ericsson.se (8.11.3/8.11.3) with ESMTP id fB6Mi4n23280;
	Thu, 6 Dec 2001 16:44:04 -0600 (CST)
Received: from lmf.ericsson.se (rmt160209.am.ericsson.se [138.85.160.209]) by newman.exu.ericsson.se (8.7.5/8.7.3) with ESMTP id QAA17821; Thu, 6 Dec 2001 16:44:02 -0600 (CST)
Message-ID: <3C0FFA7F.814CA0C2@lmf.ericsson.se>
Date: Fri, 07 Dec 2001 01:08:47 +0200
From: Gonzalo Camarillo <Gonzalo.Camarillo@lmf.ericsson.se>
X-Mailer: Mozilla 4.79 [en] (WinNT; U)
X-Accept-Language: en
MIME-Version: 1.0
To: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
CC: "'sip@ietf.org'" <sip@ietf.org>
Subject: Re: [Sip] Major Open Issue #113: Overlapping Transactions
References: <B65B4F8437968F488A01A940B21982BF020D7134@DYN-EXCH-001.dynamicsoft.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Hi,

Jonathan Rosenberg wrote:

> Proposal:
> 
> Disallow overlapping INVITE (because it could get ugly)

INVITEs are essential for early media as it is specified so far (we all
agree early media is both ugly and needed).

Early media only happens within a dialog (in the "early" state). What
about allowing to have exactly one pending INVITE within an early
dialog?

That is, I send my INVITE and I receive a 1xx response with a To tag.
Now I have my early dialog. I can send another INVITE now to change
early media stuff (or for whatever), but I cannot overlap a 3rd INVITE
at the same time. If I want to send a 3rd INVITE I have to wait until
the 2nd has completed. And if I want to send a 4th one, I have to wait
until the 3rd has completed.


> Allow overlapping non-INVITE (because we will restrict ourselves too much
> without it)

Agreed.

Regards,

Gonzalo

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Dec  6 18:02:57 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id SAA15601
	for <sip-archive@odin.ietf.org>; Thu, 6 Dec 2001 18:02:57 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id SAA18421
	for sip-archive@odin.ietf.org; Thu, 6 Dec 2001 18:03:00 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id RAA17775;
	Thu, 6 Dec 2001 17:54:50 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id RAA17747
	for <sip@optimus.ietf.org>; Thu, 6 Dec 2001 17:54:47 -0500 (EST)
Received: from imr2.ericy.com (imr2.ericy.com [12.34.240.68])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id RAA15408
	for <sip@ietf.org>; Thu, 6 Dec 2001 17:54:42 -0500 (EST)
Received: from mr7.exu.ericsson.se (mr7att.ericy.com [138.85.92.15])
	by imr2.ericy.com (8.11.3/8.11.3) with ESMTP id fB6MrwY11972;
	Thu, 6 Dec 2001 16:53:58 -0600 (CST)
Received: from newman.exu.ericsson.se (newman.exu.ericsson.se [138.85.75.179])
	by mr7.exu.ericsson.se (8.11.3/8.11.3) with ESMTP id fB6Mrwr26956;
	Thu, 6 Dec 2001 16:53:58 -0600 (CST)
Received: from lmf.ericsson.se (rmt160209.am.ericsson.se [138.85.160.209]) by newman.exu.ericsson.se (8.7.5/8.7.3) with ESMTP id QAA18887; Thu, 6 Dec 2001 16:53:56 -0600 (CST)
Message-ID: <3C0FFCD1.54558382@lmf.ericsson.se>
Date: Fri, 07 Dec 2001 01:18:41 +0200
From: Gonzalo Camarillo <Gonzalo.Camarillo@lmf.ericsson.se>
X-Mailer: Mozilla 4.79 [en] (WinNT; U)
X-Accept-Language: en
MIME-Version: 1.0
To: =?iso-8859-1?Q?=B3=C2=C9=C6=D1=A7?= <chenshx@mail.datang.com>
CC: sip@ietf.org
Subject: Re: [Sip] question about Dialog ID
References: <001401c17e00$54835f00$2f19a8c0@chenshx>
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
Content-Transfer-Encoding: 8bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 8bit

Hi,

The remote address in the UAC is the To field of the INVITE plus tag
whereas the remote address in the UAS is the From feader field of the
INVITE.

Regards,

Gonzalo

 wrote:
> 
> I have a puzzle about Dialog ID.
> Dialog consists of CALL_ID,Local URI and Remote URI.
> The dialog ID at each UA involved in the dialog is not the
> same.(original in bis-05)
>                                                  ~~~~~~~~~~~~~~~
> But the dialog id is the same in UAC and UAS as follow.
> Is it a error????
> 
> UAC Dialog ID:
>     CALL_ID:
>     TO:Remote Adress
>     From:Local Adress
> UAS Dialog ID:
>     CALL_ID:
>     TO:Local Adress
>     From:Remote Adress
> 
> If there are different,I consider that it consists in the tag
> parameter at TO header.

-- 
Gonzalo Camarillo                    Phone :   +1 212 939 71 71
Columbia University                  Mobile:  +358 40 702 35 35
472 Computer Science Building        Fax   :  +358  9 299 30 52
1214 Amsterdam Ave., Mail Code 0401  http://www.hut.fi/~gonzalo
New York, NY 10027                   
USA                              Gonzalo.Camarillo@ericsson.com

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Dec  6 18:05:48 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id SAA15673
	for <sip-archive@odin.ietf.org>; Thu, 6 Dec 2001 18:05:48 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id SAA18509
	for sip-archive@odin.ietf.org; Thu, 6 Dec 2001 18:05:51 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id RAA17674;
	Thu, 6 Dec 2001 17:53:08 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id RAA17643
	for <sip@optimus.ietf.org>; Thu, 6 Dec 2001 17:53:05 -0500 (EST)
Received: from imr2.ericy.com (imr2.ericy.com [12.34.240.68])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id RAA15353
	for <sip@ietf.org>; Thu, 6 Dec 2001 17:53:00 -0500 (EST)
Received: from mr7.exu.ericsson.se (mr7att.ericy.com [138.85.92.15])
	by imr2.ericy.com (8.11.3/8.11.3) with ESMTP id fB6MqLY11526;
	Thu, 6 Dec 2001 16:52:21 -0600 (CST)
Received: from newman.exu.ericsson.se (newman.exu.ericsson.se [138.85.75.179])
	by mr7.exu.ericsson.se (8.11.3/8.11.3) with ESMTP id fB6MqLr26644;
	Thu, 6 Dec 2001 16:52:21 -0600 (CST)
Received: from lmf.ericsson.se (rmt160209.am.ericsson.se [138.85.160.209]) by newman.exu.ericsson.se (8.7.5/8.7.3) with ESMTP id QAA18726; Thu, 6 Dec 2001 16:52:19 -0600 (CST)
Message-ID: <3C0FFC70.DB0D661D@lmf.ericsson.se>
Date: Fri, 07 Dec 2001 01:17:04 +0200
From: Gonzalo Camarillo <Gonzalo.Camarillo@lmf.ericsson.se>
X-Mailer: Mozilla 4.79 [en] (WinNT; U)
X-Accept-Language: en
MIME-Version: 1.0
To: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
CC: "'sip@ietf.org'" <sip@ietf.org>
Subject: Re: [Sip] Open Issue #126: ACK never received for 2xx to re-INVITE
References: <B65B4F8437968F488A01A940B21982BF020D7135@DYN-EXCH-001.dynamicsoft.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Hi,

Jonathan Rosenberg wrote:
> 
> Issue:
> 
> What to do if you never get an ACK for a 2xx you sent to a re-INVITE?
> Currently, it says to re-INVITE to restablish state. However, thats going to
> get complicated. An alternative is to just BYE the call.
> 
> Discussion points:
> 
> If a 2xx response to an initial INVITE never generates an ACK, you are
> supposed to BYE. I think it makes sense, in the interests of uniformity of
> INVITE/re-INVITE, and KISS, to simply BYE in odd cases like this.
> 

I go all the way for uniformity, but I do not think that we need
uniformity between INVITE and re-INVITE. We rather need it between
requests sent within a dialog.

Section 12.2.1.2 says that if a request within a dialog is responded
with 481 or 408 the dialog SHOULD be terminated.

Since not receiving an ACK is effectively the same as a 408 response I
agree with your proposal: If no ACK is received the UAS SHOULD send a
BYE.

Regards,

Gonzalo


> Proposal:
> 
> Send a BYE
> 
> ---
> Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
> Chief Scientist                             First Floor
> dynamicsoft                                 East Hanover, NJ 07936
> jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
> http://www.jdrosen.net                      PHONE: (973) 952-5000
> http://www.dynamicsoft.com
> 
> 
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip

-- 
Gonzalo Camarillo                    Phone :   +1 212 939 71 71
Columbia University                  Mobile:  +358 40 702 35 35
472 Computer Science Building        Fax   :  +358  9 299 30 52
1214 Amsterdam Ave., Mail Code 0401  http://www.hut.fi/~gonzalo
New York, NY 10027                   
USA                              Gonzalo.Camarillo@ericsson.com

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Dec  6 18:06:58 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id SAA15711
	for <sip-archive@odin.ietf.org>; Thu, 6 Dec 2001 18:06:58 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id SAA18533
	for sip-archive@odin.ietf.org; Thu, 6 Dec 2001 18:07:01 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id RAA17480;
	Thu, 6 Dec 2001 17:49:19 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id RAA17449
	for <sip@optimus.ietf.org>; Thu, 6 Dec 2001 17:49:16 -0500 (EST)
Received: from june.Broomfield1.level3.net (june.Broomfield1.Level3.net [209.245.18.7])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id RAA15271
	for <sip@ietf.org>; Thu, 6 Dec 2001 17:49:11 -0500 (EST)
From: John.Hearty@Level3.com
Received: from f1ee40-19.idc1.level3.com (hme0.f1ee40-19.idc1.oss.level3.com [10.1.144.204])
	by june.Broomfield1.level3.net (8.9.3/8.9.3) with ESMTP id WAA04156;
	Thu, 6 Dec 2001 22:45:13 GMT
Received: from n0195idc1.oss.level3.com (localhost [127.0.0.1])
	by f1ee40-19.idc1.level3.com (8.8.8+Sun/8.8.8) with ESMTP id WAA19820;
	Thu, 6 Dec 2001 22:49:06 GMT
Received: by n0195idc1.oss.level3.com with Internet Mail Service (5.5.2653.19)
	id <YKJGDJ5F>; Thu, 6 Dec 2001 15:49:06 -0700
Message-ID: <17052388D394D411803900508BDFFAF601B3706D@n0214idc1.oss.level3.com>
To: jdrosen@dynamicsoft.com, sip@ietf.org
Subject: RE: [Sip] Open Issue #282: Timer C needs minimum for proxies
Date: Thu, 6 Dec 2001 15:49:03 -0700 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

I agree with the proposal, but wonder if the arbitrary number chosen might
be a bit short.  In the PSTN, 32 seconds typically equates to 5 rings in the
US.  Grandma might not make it to the phone in time...


> -----Original Message-----
> From: Jonathan Rosenberg [mailto:jdrosen@dynamicsoft.com]
> Sent: Thursday, December 06, 2001 3:10 PM
> To: 'sip@ietf.org'
> Subject: [Sip] Open Issue #282: Timer C needs minimum for proxies
> 
> 
> Issue:
> 
> The spec says that Timer C is specified by the TU. Timer C 
> defines how long
> the 
> client invite transaction waits for a final response after a 
> provisional.
> Having this 
> be entirely defined by the TU makes sense when the TU is a 
> UAC (i.e., how
> long you let the phone ring is a matter of local policy). But, for a 
> proxy, its a different story. If the proxy transactions give 
> up immediately,
> 
> calls will not function properly. Thus, for this to work, 
> proxies need to
> have a 
> minimum value for timer C. 
> 
> Proposal:
> 
> The proposal would be to have 32s as the minimum. This value 
> is somewhat
> arbitrary.
> 
> -Jonathan R.
> 
> ---
> Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
> Chief Scientist                             First Floor
> dynamicsoft                                 East Hanover, NJ 07936
> jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
> http://www.jdrosen.net                      PHONE: (973) 952-5000
> http://www.dynamicsoft.com
>  
> 
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
> 

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Dec  6 18:13:44 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id SAA15839
	for <sip-archive@odin.ietf.org>; Thu, 6 Dec 2001 18:13:44 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id SAA18656
	for sip-archive@odin.ietf.org; Thu, 6 Dec 2001 18:13:47 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id RAA17904;
	Thu, 6 Dec 2001 17:59:15 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id RAA17875
	for <sip@optimus.ietf.org>; Thu, 6 Dec 2001 17:59:12 -0500 (EST)
Received: from imr2.ericy.com (imr2.ericy.com [12.34.240.68])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id RAA15473
	for <sip@ietf.org>; Thu, 6 Dec 2001 17:59:09 -0500 (EST)
Received: from mr7.exu.ericsson.se (mr7att.ericy.com [138.85.92.15])
	by imr2.ericy.com (8.11.3/8.11.3) with ESMTP id fB6MwaY13280;
	Thu, 6 Dec 2001 16:58:36 -0600 (CST)
Received: from newman.exu.ericsson.se (newman.exu.ericsson.se [138.85.75.179])
	by mr7.exu.ericsson.se (8.11.3/8.11.3) with ESMTP id fB6Mwar28045;
	Thu, 6 Dec 2001 16:58:36 -0600 (CST)
Received: from lmf.ericsson.se (rmt160209.am.ericsson.se [138.85.160.209]) by newman.exu.ericsson.se (8.7.5/8.7.3) with ESMTP id QAA19334; Thu, 6 Dec 2001 16:58:35 -0600 (CST)
Message-ID: <3C0FFDE7.55684203@lmf.ericsson.se>
Date: Fri, 07 Dec 2001 01:23:19 +0200
From: Gonzalo Camarillo <Gonzalo.Camarillo@lmf.ericsson.se>
X-Mailer: Mozilla 4.79 [en] (WinNT; U)
X-Accept-Language: en
MIME-Version: 1.0
To: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
CC: "'sip@ietf.org'" <sip@ietf.org>
Subject: Re: [Sip] Open Issue #128: 503 and SRV
References: <B65B4F8437968F488A01A940B21982BF020D7136@DYN-EXCH-001.dynamicsoft.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Hi,

Agreed. The fact that one of the servers returned by SRV is overloaded
does not mean that the rest are. They should be tried as well.

Regards,

Gonzalo

Jonathan Rosenberg wrote:
> 
> Issue:
> 
> The spec says that if you try to contact a server, and get a 503, you are
> supposed to try an alternate server. The question is, does alternate server
> mean going back to the SRV record and trying the next one?
> 
> Discussion points:
> 
> I believe this makes total sense, but it just needs to get floated to see if
> there is any kind of problem with it.
> 
> Proposal:
> 
> 503 causes client to try next SRV entry
> 
> -Jonathan R.
> 
> ---
> Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
> Chief Scientist                             First Floor
> dynamicsoft                                 East Hanover, NJ 07936
> jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
> http://www.jdrosen.net                      PHONE: (973) 952-5000
> http://www.dynamicsoft.com
> 
> 
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip

-- 
Gonzalo Camarillo                    Phone :   +1 212 939 71 71
Columbia University                  Mobile:  +358 40 702 35 35
472 Computer Science Building        Fax   :  +358  9 299 30 52
1214 Amsterdam Ave., Mail Code 0401  http://www.hut.fi/~gonzalo
New York, NY 10027                   
USA                              Gonzalo.Camarillo@ericsson.com

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Dec  6 18:24:04 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id SAA16094
	for <sip-archive@odin.ietf.org>; Thu, 6 Dec 2001 18:24:03 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id SAA18945
	for sip-archive@odin.ietf.org; Thu, 6 Dec 2001 18:24:06 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id SAA18635;
	Thu, 6 Dec 2001 18:12:26 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id SAA18604
	for <sip@optimus.ietf.org>; Thu, 6 Dec 2001 18:12:23 -0500 (EST)
Received: from imr2.ericy.com (imr2.ericy.com [12.34.240.68])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id SAA15805
	for <sip@ietf.org>; Thu, 6 Dec 2001 18:12:20 -0500 (EST)
Received: from mr5.exu.ericsson.se (mr5att.ericy.com [138.85.92.13])
	by imr2.ericy.com (8.11.3/8.11.3) with ESMTP id fB6NBlY17967;
	Thu, 6 Dec 2001 17:11:48 -0600 (CST)
Received: from newman.exu.ericsson.se (newman.exu.ericsson.se [138.85.75.179])
	by mr5.exu.ericsson.se (8.11.3/8.11.3) with ESMTP id fB6NBln28668;
	Thu, 6 Dec 2001 17:11:47 -0600 (CST)
Received: from lmf.ericsson.se (rmt160209.am.ericsson.se [138.85.160.209]) by newman.exu.ericsson.se (8.7.5/8.7.3) with ESMTP id RAA20529; Thu, 6 Dec 2001 17:11:45 -0600 (CST)
Message-ID: <3C1000FE.7831FB0F@lmf.ericsson.se>
Date: Fri, 07 Dec 2001 01:36:30 +0200
From: Gonzalo Camarillo <Gonzalo.Camarillo@lmf.ericsson.se>
X-Mailer: Mozilla 4.79 [en] (WinNT; U)
X-Accept-Language: en
MIME-Version: 1.0
To: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
CC: "'sip@ietf.org'" <sip@ietf.org>
Subject: Re: [Sip] Open Issue #140: use only tags for Call-leg ID
References: <B65B4F8437968F488A01A940B21982BF020D7139@DYN-EXCH-001.dynamicsoft.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Hi,

Jonathan Rosenberg wrote:

> 1. overlap dialing now becomes easier. Each digit can be added as a
> re-invite
> with in the same call-leg (assuming re-invites can be sent within a call leg
> 
> before the previous completes - thats another issue) but with a different
> To/R-uri.

Actually this is what we do NOT want to do. We want every subsequent
INVITE to be part of a different dialog so that it gets routed
independently of the previous ones (it can take advantage of
services)... but this is another story.
 
> Proposal:
> 
> So, given the limited utility, and the potential interop problems, the
> proposal is to keep the current wording.
>

Agreed.

Regards,

Gonzalo

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Dec  6 18:33:07 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id SAA16349
	for <sip-archive@odin.ietf.org>; Thu, 6 Dec 2001 18:33:06 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id SAA19447
	for sip-archive@odin.ietf.org; Thu, 6 Dec 2001 18:33:09 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id SAA18767;
	Thu, 6 Dec 2001 18:17:30 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id SAA18738
	for <sip@optimus.ietf.org>; Thu, 6 Dec 2001 18:17:27 -0500 (EST)
Received: from imr1.ericy.com (imr1.ericy.com [208.237.135.240])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id SAA15894
	for <sip@ietf.org>; Thu, 6 Dec 2001 18:17:24 -0500 (EST)
Received: from mr6.exu.ericsson.se (mr6u3.ericy.com [208.237.135.123])
	by imr1.ericy.com (8.11.3/8.11.3) with ESMTP id fB6NHPH19228;
	Thu, 6 Dec 2001 17:17:25 -0600 (CST)
Received: from newman.exu.ericsson.se (newman.exu.ericsson.se [138.85.75.179])
	by mr6.exu.ericsson.se (8.11.3/8.11.3) with ESMTP id fB6NHPL16633;
	Thu, 6 Dec 2001 17:17:25 -0600 (CST)
Received: from lmf.ericsson.se (rmt160209.am.ericsson.se [138.85.160.209]) by newman.exu.ericsson.se (8.7.5/8.7.3) with ESMTP id RAA21040; Thu, 6 Dec 2001 17:17:23 -0600 (CST)
Message-ID: <3C10024F.1A79DF66@lmf.ericsson.se>
Date: Fri, 07 Dec 2001 01:42:07 +0200
From: Gonzalo Camarillo <Gonzalo.Camarillo@lmf.ericsson.se>
X-Mailer: Mozilla 4.79 [en] (WinNT; U)
X-Accept-Language: en
MIME-Version: 1.0
To: "Henning G. Schulzrinne" <hgs@cs.columbia.edu>
CC: Jonathan Rosenberg <jdrosen@dynamicsoft.com>,
        "'sip@ietf.org'" <sip@ietf.org>
Subject: Re: [Sip] Open Issue #144: Branch ID  + isCancel() as transaction ID
References: <B65B4F8437968F488A01A940B21982BF020D713A@DYN-EXCH-001.dynamicsoft.com> <3C0FC4BE.F6F9A800@cs.columbia.edu>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Hi,

"Henning G. Schulzrinne" wrote:
> 
> Makes sense, but since the request-response matching is done by the same
> entity that inserted the branch-id, why the magic cookie? Wouldn't it
> know whether it can do this?

The entity receiving this request can use the branch ID to match
retransmissions of a request with its server transaction without needing
to parse the whole message.

The same for matching CANCEL with the original request.

Regards,

Gonzalo


> Jonathan Rosenberg wrote:
> >
> > Issue:
> >
> > The computation of the transaction ID in current SIP is, well, challenging.
> > It is a combination of a bunch of header fields, and conditionally as well
> > (with or without tags). This requires fairly deep parsing of a number of
> > fields and is the source of much confusion, even for the co-authors of the
> > spec (I made numerous errors in the text while updating to bis-05)
> >
> > Bis-05 has taken a big step forward with a rigorous definition of
> > transaction, which makes it clear that its a single "branch" in the tree of
> > requests formed when a UAC sends a request through a bunch of proxies. That
> > is, the To/From/CSeq/Call-ID identify the root of this tree, and the Via
> > branch + r-uri further identify each branch in the tree. Based on this, it
> > is natural to take the final step, and define the transaction ID for a
> > request/response MUCH more simply - it is the value of the branch ID in the
> > topmost via, with the small caveat that CANCEL has the same branch ID, but
> > its a different transaction. Thats needed for backwards compatibility.
> >
> > Bis-05 has sufficient randomness requirements on the branch ID to satisfy
> > this definition. Only two things are missing. First, the UAC needs to insert
> > it also, and secondly, a proxy needs to know whether the previous hop used
> > the uniqueness properties specified in bis. The proposal would be to specify
> > in bis-05 that a client can insert the branch ID (and give reasons why its a
> > good thing). To deal with the compatibility issue, we further mandate that
> > all branch-IDs generated uniquely according to bis start with some small
> > magic cookie to identify them as unique. A proxy would extract the via, look
> > at the branch, and if it has this cookie, need not even look at the call-id,
> > to, from, or cseq in order to process the request. If, however, the branch
> > does not contain this cookie, it needs to do the full parse as defined in
> > bis right now.
> >
> > We are so close to this final step, I believe it is worth taking. The costs
> > are small, its still optional - just an optimization - and we have full
> > interop. However, the benefits will be very good when you  have a lot of
> > deployed bis elements.
> >
> > Proposal:
> >
> > Allow for branch ID to be the transaction ID, by taking the steps described
> > above.
> 
> --
> Henning Schulzrinne   http://www.cs.columbia.edu/~hgs
> 
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip

-- 
Gonzalo Camarillo                    Phone :   +1 212 939 71 71
Columbia University                  Mobile:  +358 40 702 35 35
472 Computer Science Building        Fax   :  +358  9 299 30 52
1214 Amsterdam Ave., Mail Code 0401  http://www.hut.fi/~gonzalo
New York, NY 10027                   
USA                              Gonzalo.Camarillo@ericsson.com

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Dec  6 18:52:30 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id SAA16947
	for <sip-archive@odin.ietf.org>; Thu, 6 Dec 2001 18:52:30 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id SAA20071
	for sip-archive@odin.ietf.org; Thu, 6 Dec 2001 18:52:33 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id SAA19503;
	Thu, 6 Dec 2001 18:34:34 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id SAA19476
	for <sip@optimus.ietf.org>; Thu, 6 Dec 2001 18:34:32 -0500 (EST)
Received: from sj-msg-core-2.cisco.com (sj-msg-core-2.cisco.com [171.69.24.11])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id SAA16367
	for <sip@ietf.org>; Thu, 6 Dec 2001 18:34:28 -0500 (EST)
Received: from mira-sjc5-7.cisco.com (mira-sjc5-7.cisco.com [171.71.163.27])
	by sj-msg-core-2.cisco.com (8.11.3/8.9.1) with ESMTP id fB6NXxE13506;
	Thu, 6 Dec 2001 15:33:59 -0800 (PST)
Received: from thomasm-u1.cisco.com (thomasm-u1.cisco.com [128.107.140.53])
	by mira-sjc5-7.cisco.com (Mirapoint)
	with ESMTP id AAL83731;
	Thu, 6 Dec 2001 15:33:23 -0800 (PST)
Received: (thomasm@localhost) by thomasm-u1.cisco.com (8.8.8-Cisco List Logging/CISCO.WS.1.2) id PAA00995; Thu, 6 Dec 2001 15:33:57 -0800 (PST)
From: Michael Thomas <mat@cisco.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <15376.101.745228.115068@thomasm-u1.cisco.com>
Date: Thu, 6 Dec 2001 15:33:57 -0800 (PST)
To: "Jari Arkko" <jari.arkko@kolumbus.fi>
Cc: "Michael Thomas" <mat@cisco.com>,
        "Jonathan Rosenberg" <jdrosen@dynamicsoft.com>, <sip@ietf.org>
Subject: Re: [Sip] Open Issue #164: Proxy-Authentication-Info
In-Reply-To: <031101c17e98$4e8bd440$8a1b6e0a@arenanet.fi>
References: <B65B4F8437968F488A01A940B21982BF020D713C@DYN-EXCH-001.dynamicsoft.com>
	<15375.51033.527129.424942@thomasm-u1.cisco.com>
	<031101c17e98$4e8bd440$8a1b6e0a@arenanet.fi>
X-Mailer: VM 6.72 under 21.1 (patch 6) "Big Bend" XEmacs Lucid
X-Face: &,heK/V66p?[2!i|tVn,9lN0TUvEv7:9FzXREj/AuzN4m<D]vnFJ>u!4x[/Z4t{V}~L]+Sk
 @RFNnJEg~WZ/(8<`5a),-7ukALWa^&?&D2R0CSG3kO5~#6JxLF\d,g">$%B!0w{W)qIhmwhye104zd
 bUcI'1!
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Jari Arkko writes:
 > >    My general preference would be to stop putting bandaids
 > >    on hacks and do this right. I guess that means I favor
 > >    option (1).
 > 
 > I'm in favor of 'doing this right' but I think I disagree about whether
 > (1) is the right thing, given its hBh nature. I think we should have
 > e2e and e2m authentication and possibly integrity/encryption. I
 > think in this particular case Digest could be fixed but if folks are
 > starting to get tired of the bandaids on it, I'd also be happy with a completely
 > rewritten mechanism -- maybe based on the preshared key crypto system
 > that you had Mike on your framework draft, or similar.

   What I'm most worried about is diverting energy
   -- which is already in pretty low supply -- away
   from dealing with the long term security needs
   for SIP. Also: the more we hack on old stuff,
   the more confusing it's going to be for
   developers/deployers to choose sensibly. It's
   relatively easy at this point to say that HTTP
   authentication is vestigial and leave it at
   that; but if we start adding SIP specific
   fixes, we're going to have to figure out how
   it interoperates with anything new, how we know
   when to stop fixing it, etc, etc. It make my
   head hurt.

	Mike

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Dec  6 19:01:02 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id TAA17339
	for <sip-archive@odin.ietf.org>; Thu, 6 Dec 2001 19:01:02 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id TAA20586
	for sip-archive@odin.ietf.org; Thu, 6 Dec 2001 19:01:03 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id SAA19827;
	Thu, 6 Dec 2001 18:41:21 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id SAA19731
	for <sip@optimus.ietf.org>; Thu, 6 Dec 2001 18:41:15 -0500 (EST)
Received: from pine.neustar.com (pine.neustar.com [209.173.57.70])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id SAA16540
	for <sip@ietf.org>; Thu, 6 Dec 2001 18:41:11 -0500 (EST)
Received: from chiimc01.il.neustar.com (dmz1.il.neustar.com [209.173.57.65])
	by pine.neustar.com (8.11.0/8.11.0) with ESMTP id fB6NfES28219;
	Thu, 6 Dec 2001 17:41:14 -0600
Received: by chiimc01.il.neustar.com with Internet Mail Service (5.5.2653.19)
	id <Y2XB06MP>; Thu, 6 Dec 2001 17:43:43 -0600
Message-ID: <70565611B164D511957A001083FCDD56CAACEA@va02.va.neustar.com>
From: "Peterson, Jon" <jon.peterson@neustar.biz>
To: "'Jonathan Rosenberg'" <jdrosen@dynamicsoft.com>,
        "'sip@ietf.org'"
	 <sip@ietf.org>
Subject: RE: [Sip] Open Issue #281: Entire URI as a key to location servic
	e lookup
Date: Thu, 6 Dec 2001 17:43:15 -0600 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org


When a user agent registers, the location service uses the address of record
given in the To field of the registration as the key that it maps to the
various Contact addresses. An address of record should be as simple and
general-purpose a URI as possible, not speaking to any capabilities or
locations associated with the owner of the address; it should probably have
a 'user@domain' format (sip:jon.peterson@neustar.biz) as opposed to a more
specific format incorporating hostnames, parameters and so forth. Then
ideally the location service would have some sort of logical table for each
such 'domain' value under its administration in which the 'user' values are
the actual keys. However, today we don't really provide any such guidelines
for creating addresses of record for registrations in rfc2543bis. I suspect
that if we did so we'd find this problem much easier.

If the format of addresses of record were determinate, we could describe
precisely how to transform more complex and specific URIs into addresses of
record. This would never be possible for some URIs (sip:10.100.0.1:5062) but
then again it isn't clear why these sorts of URIs would be offered as keys
to a location service (i.e. a lookup on that URI should result in a failure
anyway). The transformation would most likely involving stripping certain
parameters (including possibly SIP URI parameters, user (e.g. tel URL)
parameters, and ports) and perhaps simplifying the host portion of the URI
into a domain when applicable.

It sounds like what Igor is saying is that a location service must apply the
same transformation to URI keys whether it receives them as a result of
registrations (setting new key-value pairs) or requests (lookups on a key).
I think that definitely sounds right, and that it will increase the chances
of finding good matches in the location service. 

Beyond that, I also agree that we should attempt to standardize this
transformation at least for the purposes of making a recommendation, even if
we don't want to levy a mandate. I think this transformation could also be
useful for some other purposes related to identity management.

Jon Peterson
NeuStar, Inc.

> -----Original Message-----
> From: Jonathan Rosenberg [mailto:jdrosen@dynamicsoft.com]
> Sent: Thursday, December 06, 2001 2:06 PM
> To: 'sip@ietf.org'
> Subject: [Sip] Open Issue #281: Entire URI as a key to 
> location service
> lookup
> 
> 
> Issue:
> 
> There are problems with the bis-05 text which says that a 
> proxy should use
> the 
> entire URL from the request URI as the key to lookup contacts in the
> location 
> service DB. The problem is that sometimes the R-URI has 
> transport and maddr 
> params, used for routing, and these are not part of the To 
> header in the 
> REGISTER, so a 404 is getting sent.
> 
> Igor Slepchin has proposed that the choice of key is a matter of local
> policy, so long 
> as its consistent between registration processing and request routing 
> processing. However, I think some guidelines would be helpful to avoid
> having 
> people shoot themselves in the foot. 
> 
> The text used to give no guidance on this, but we changed it 
> to say the
> entire 
> URL since there had been other problems, or so I recall. Not 
> sure what the 
> previous problems were, though.
> 
> Another issue with using the whole URL as input to the 
> location DB is that
> the key is no longer a simple string; this makes lookups more complex.
> 
> Proposal:
> 
> Allow key for LS lookups to be a matter of local policy. 
> Describe issues
> (like using port and maddr are bad).
> 
> -Jonathan R.
> 
> ---
> Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
> Chief Scientist                             First Floor
> dynamicsoft                                 East Hanover, NJ 07936
> jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
> http://www.jdrosen.net                      PHONE: (973) 952-5000
> http://www.dynamicsoft.com
>  
> 
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
> 

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Dec  6 19:10:16 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id TAA17672
	for <sip-archive@odin.ietf.org>; Thu, 6 Dec 2001 19:10:16 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id TAA20861
	for sip-archive@odin.ietf.org; Thu, 6 Dec 2001 19:10:18 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id TAA20726;
	Thu, 6 Dec 2001 19:04:03 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id TAA20693
	for <sip@optimus.ietf.org>; Thu, 6 Dec 2001 19:03:59 -0500 (EST)
Received: from zrc2s03g.us.nortel.com (h66s122a103n47.user.nortelnetworks.com [47.103.122.66])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id TAA17401
	for <sip@ietf.org>; Thu, 6 Dec 2001 19:03:57 -0500 (EST)
Received: from smtprch2.nortel.com (erchg0k.us.nortel.com [47.113.64.104])
	by zrc2s03g.us.nortel.com (8.9.3+Sun/8.9.1) with ESMTP id SAA00339
	for <sip@ietf.org>; Thu, 6 Dec 2001 18:03:29 -0600 (CST)
Received: from zrchb200.us.nortel.com by smtprch2.nortel.com;
          Thu, 6 Dec 2001 17:56:10 -0600
Received: by zrchb200.us.nortel.com with Internet Mail Service (5.5.2653.19) 
          id <X6VLB37F>; Thu, 6 Dec 2001 18:01:53 -0600
Message-ID: <933FADF5E673D411B8A30002A5608A0E01187727@zrc2c012.us.nortel.com>
From: "Sanjoy Sen" <sanjoy@nortelnetworks.com>
To: "'Michael Thomas'" <mat@cisco.com>, Jari Arkko <jari.arkko@kolumbus.fi>
Cc: Jonathan Rosenberg <jdrosen@dynamicsoft.com>, sip <sip@ietf.org>
Subject: RE: [Sip] Open Issue #164: Proxy-Authentication-Info
Date: Thu, 6 Dec 2001 18:01:53 -0600
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: multipart/alternative;
              boundary="----_=_NextPart_001_01C17EB2.609B3F30"
X-Orig: <sanjoy@americasm01.nt.com>
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

This message is in MIME format. Since your mail reader does not understand
this format, some or all of this message may not be legible.

------_=_NextPart_001_01C17EB2.609B3F30
Content-Type: text/plain;
	charset="iso-8859-1"



> -----Original Message-----
> From: Michael Thomas [mailto:mat@cisco.com]
> 
>    What I'm most worried about is diverting energy
>    -- which is already in pretty low supply -- away
>    from dealing with the long term security needs
>    for SIP. Also: the more we hack on old stuff,
>    the more confusing it's going to be for
>    developers/deployers to choose sensibly. It's
>    relatively easy at this point to say that HTTP
>    authentication is vestigial and leave it at
>    that; but if we start adding SIP specific
>    fixes, we're going to have to figure out how
>    it interoperates with anything new, how we know
>    when to stop fixing it, etc, etc. It make my
>    head hurt.
> 
HTTP Digest is widely, widely supported. There's a huge 
benefit from software reuse point of view. Granted it does not solve
all problems, but it does solve some critical ones well - such as
authentication,
replay protection etc. If the fixes are small (as they appear to be), we get
a cheap, lightweight solution applicable to many scenarios. 

My 0.5 cents.

------_=_NextPart_001_01C17EB2.609B3F30
Content-Type: text/html;
	charset="iso-8859-1"

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
<META NAME="Generator" CONTENT="MS Exchange Server version 5.5.2654.89">
<TITLE>RE: [Sip] Open Issue #164: Proxy-Authentication-Info</TITLE>
</HEAD>
<BODY>
<BR>
<BR>

<P><FONT SIZE=2>&gt; -----Original Message-----</FONT>
<BR><FONT SIZE=2>&gt; From: Michael Thomas [<A HREF="mailto:mat@cisco.com">mailto:mat@cisco.com</A>]</FONT>
<BR><FONT SIZE=2>&gt; </FONT>
<BR><FONT SIZE=2>&gt;&nbsp;&nbsp;&nbsp; What I'm most worried about is diverting energy</FONT>
<BR><FONT SIZE=2>&gt;&nbsp;&nbsp;&nbsp; -- which is already in pretty low supply -- away</FONT>
<BR><FONT SIZE=2>&gt;&nbsp;&nbsp;&nbsp; from dealing with the long term security needs</FONT>
<BR><FONT SIZE=2>&gt;&nbsp;&nbsp;&nbsp; for SIP. Also: the more we hack on old stuff,</FONT>
<BR><FONT SIZE=2>&gt;&nbsp;&nbsp;&nbsp; the more confusing it's going to be for</FONT>
<BR><FONT SIZE=2>&gt;&nbsp;&nbsp;&nbsp; developers/deployers to choose sensibly. It's</FONT>
<BR><FONT SIZE=2>&gt;&nbsp;&nbsp;&nbsp; relatively easy at this point to say that HTTP</FONT>
<BR><FONT SIZE=2>&gt;&nbsp;&nbsp;&nbsp; authentication is vestigial and leave it at</FONT>
<BR><FONT SIZE=2>&gt;&nbsp;&nbsp;&nbsp; that; but if we start adding SIP specific</FONT>
<BR><FONT SIZE=2>&gt;&nbsp;&nbsp;&nbsp; fixes, we're going to have to figure out how</FONT>
<BR><FONT SIZE=2>&gt;&nbsp;&nbsp;&nbsp; it interoperates with anything new, how we know</FONT>
<BR><FONT SIZE=2>&gt;&nbsp;&nbsp;&nbsp; when to stop fixing it, etc, etc. It make my</FONT>
<BR><FONT SIZE=2>&gt;&nbsp;&nbsp;&nbsp; head hurt.</FONT>
<BR><FONT SIZE=2>&gt; </FONT>
<BR><FONT SIZE=2>HTTP Digest is widely, widely supported. There's a huge </FONT>
<BR><FONT SIZE=2>benefit from software reuse point of view. Granted it does not solve</FONT>
<BR><FONT SIZE=2>all problems, but it does solve some critical ones well - such as authentication,</FONT>
<BR><FONT SIZE=2>replay protection etc. If the fixes are small (as they appear to be), we get</FONT>
<BR><FONT SIZE=2>a cheap, lightweight solution applicable to many scenarios. </FONT>
</P>

<P><FONT SIZE=2>My 0.5 cents.</FONT>
</P>

</BODY>
</HTML>
------_=_NextPart_001_01C17EB2.609B3F30--

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Dec  6 20:14:17 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id UAA20397
	for <sip-archive@odin.ietf.org>; Thu, 6 Dec 2001 20:14:16 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id UAA23033
	for sip-archive@odin.ietf.org; Thu, 6 Dec 2001 20:14:18 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id UAA22809;
	Thu, 6 Dec 2001 20:02:47 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id UAA22778
	for <sip@optimus.ietf.org>; Thu, 6 Dec 2001 20:02:44 -0500 (EST)
Received: from broadsof.temp.veriohosting.com (broadsof.temp.veriohosting.com [161.58.239.68])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id UAA20102
	for <sip@ietf.org>; Thu, 6 Dec 2001 20:02:42 -0500 (EST)
Received: from tate ([64.243.180.244]) by broadsof.temp.veriohosting.com (8.11.6) id fB712iW14651; Thu, 6 Dec 2001 20:02:45 -0500 (EST)
Reply-To: <brett@broadsoft.com>
From: "Brett Tate" <brett@broadsoft.com>
To: <sip@ietf.org>
Subject: RE: [Sip] Major Open Issue #113: Overlapping Transactions
Date: Thu, 6 Dec 2001 20:04:19 -0500
Message-ID: <002601c17ebb$1a234df0$2b01a8c0@broadsoft.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook CWS, Build 9.0.2416 (9.0.2911.0)
In-Reply-To: <B65B4F8437968F488A01A940B21982BF020D7134@DYN-EXCH-001.dynamicsoft.com>
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4522.1200
Importance: Normal
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

> Issue:
> 
> This is a major issue. One of the more major ones remaining.
> 
> Currently, the spec forbids more than one INVITE at a time, 
> and more than
> one non-INVITE at a time. This is simple, but there are valid 
> concerns that
> it will bite us down the road when uses require faster 
> operation. Thus, the
> issue is whether to relax this two constraints.
> 
> Discussion points:
> 
> The reason we forbid it with INVITE was that you couldn't 
> easily figure out
> the most recent session description. There was no way to tell 
> whether the
> response to the first INV was sent before or after the response to the
> second INVITE. Without a consistent view of which was the 
> most recent SDP,
> the session parameters would be wrong.
> 
> The reason we forbid it with non-INVITE was that we had no 
> easy way to do
> end-to-end sequenced delivery (there could be gaps in CSeq 
> due to proxy
> challenges).
> 
> Its not clear if there is a pressing need at this time for overlapping
> INVITE. Early media may require it; 
> draft-rosenberg-sip-early-media used it,
> but its not clear that this was the easiest or best way to do this.
> Overlapping non-INVITE has already come up, in the context of MESSAGE
> (although it looks like it won't be needed there), but it is 
> likely to be an
> issue with NOTIFY as well.
> 
> I've been on the fence, but now believe its important to 
> allow overlapping
> non-INVITE, since we will probably really need it down the road, and
> eliminating the possibility for any future method seems 
> dangerous. THus, I
> propose that we allow overlapping invite transactions. 
> Ordering may or may
> not be important depending on the method; the content or some 
> other headers
> may determine ordering as needed. As an example, PRACK can be 
> overlapped and
> there is not even a need for ordering. 
> 
> I am more on the fence with INVITE, and here too fear we may 
> find we need
> it. To allow it, we would need to require that all INVITEs 
> are full state,
> and that the INVITE with the highest CSeq, and the response 
> to the INVITE
> with the highest CSeq, always take precedence. 
> 
> So, here is an example. A sends INVITE, CSeq 1, to B. It then 
> sends INVITE,
> CSeq 2, to B. B receives sequence 2 first. It generates a 200 
> OK with SDP.
> It then gets the first INVITE. This invite is really 
> irrelevant; CSeq 2
> carried all information that is needed, so this one is out of date. B
> responds with 200 OK with some SDP. The 200 OK to CSeq 2 
> arrives at A, which
> uses that. The 200 OK for CSeq 1 arrives, and is ignored. All 
> of this works
> because we can enforce that INVITE and the response have full state.
> 
> Things would get a little tricky with non-2xx responses. 
> Consider the same
> case, but now B responds to the INVITE with CSeq 2 with 400, 
> but the INVITE
> with CSeq 1 with 200. Is the call still up? I would say yes; 
> A would get the
> 400 first, and then would need to know to wait for the first 
> response to
> determine the state of the call. Thats a bit complex.
> 
> So, in the interests of making a decision:
> 
> 
> Proposal:
> 
> Disallow overlapping INVITE (because it could get ugly)

I agree that it might be too ugly/late/uncommon 
to resolve within the bis.  However the 
functionality of updating SDP prior to answer 
should not be forbidden by the bis.  A solution 
such as described in draft-rosenberg-sip-early-media
works without too much complexity and with
minimal race condition side-effects.  Thus
the bis could reflect that it doesn't address 
such activity, and it could be resolved through 
an extension to the standard.

> Allow overlapping non-INVITE (because we will 
> restrict ourselves too much without it)

I agree.


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Dec  6 22:57:54 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id WAA24686
	for <sip-archive@odin.ietf.org>; Thu, 6 Dec 2001 22:57:49 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id WAA27207
	for sip-archive@odin.ietf.org; Thu, 6 Dec 2001 22:57:53 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id WAA26769;
	Thu, 6 Dec 2001 22:32:34 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id WAA26738
	for <sip@optimus.ietf.org>; Thu, 6 Dec 2001 22:32:31 -0500 (EST)
Received: from broadsof.temp.veriohosting.com (broadsof.temp.veriohosting.com [161.58.239.68])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id WAA24279
	for <sip@ietf.org>; Thu, 6 Dec 2001 22:32:27 -0500 (EST)
Received: from tate ([64.243.180.244]) by broadsof.temp.veriohosting.com (8.11.6) id fB73WVN32337; Thu, 6 Dec 2001 22:32:31 -0500 (EST)
Reply-To: <brett@broadsoft.com>
From: "Brett Tate" <brett@broadsoft.com>
To: <sip@ietf.org>
Subject: RE: [Sip] Open Issue #139: re-INVITE Glare
Date: Thu, 6 Dec 2001 22:34:05 -0500
Message-ID: <002701c17ed0$064a3b30$2b01a8c0@broadsoft.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook CWS, Build 9.0.2416 (9.0.2911.0)
In-Reply-To: <B65B4F8437968F488A01A940B21982BF020D7138@DYN-EXCH-001.dynamicsoft.com>
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4522.1200
Importance: Normal
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

> Issue:
> 
> A sends an re-INVITE to B. B sends a re-INVITE to A. These 
> cross on the
> wire. If both respond with 2xx, we have a problem. There is 
> no way to order,
> at A, the INVITE from B and the 2xx from B, as each contain SDP, and
> potentially other information as well. What to do to deal with this?
> 
> Discussion:
> 
> The current spec says that when you receive a re-INVITE 
> whilst one is in
> progress, you respond to that reinvite with a 5xx and a 
> Retry-After header
> randomly distributed between 1 and 10s (in units of 1s). 
> Unfortunately, the
> problem with this is it will take 5s on average to try again, 
> with a 10%
> probability of another glare. This could mean it takes a 
> while to resolve
> the glare. So, the issue is if there is a better way.
> 
> There is. The better way is to be explicit. We define a new 
> response code,
> 491 (Request Pending), which says "I got your request, but I have one
> pending to you that interacts". There would be two 
> recommended behaviors. If
> A sends an INVITE to B, and gets a 491 back before the 
> request from B that
> "glared", A simply responds to that glared request with a 2xx 
> and everything
> works. If A sends an INVITE to B, and then receives the 
> request from B, it
> responds to that request with a 491. If the response to its 
> own request was
> 491, it chooses a random number between 0 and 3s, in units of 
> 10ms, and
> tries again at that time. This will work much faster than 
> before, and since
> its explicit about what happened, potentially other 
> strategies could be
> used.
> 
> We also need to generalize it beyond re-INVITEs, and call it 
> something less
> telephony centric.
> 
> Proposal:
> 
> Go with 491 approach described above.

Using an explicit response code sounds fine, 
especially to avoid an accidental SRV next-hop 
occurrence from a 503 with Retry-After 
related to issue #128. :)

However I agree with John that something 
should produce an early winner of the 
re-INVITE glare.  How about allowing the 
owner of the Call-ID to have the random 
0 to 2 seconds (by 10ms) and the other 
gets random between 2.1 and 4 seconds 
(by 10ms)?  Session refreshing induced 
reinvites should choose higher random 
backoff intervals assuming that there 
is time left to accommodate it.


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Dec  6 23:49:35 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id XAA26005
	for <sip-archive@odin.ietf.org>; Thu, 6 Dec 2001 23:49:35 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id XAA28536
	for sip-archive@odin.ietf.org; Thu, 6 Dec 2001 23:49:39 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id XAA28340;
	Thu, 6 Dec 2001 23:32:27 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id XAA28311
	for <sip@optimus.ietf.org>; Thu, 6 Dec 2001 23:32:25 -0500 (EST)
Received: from broadsof.temp.veriohosting.com (broadsof.temp.veriohosting.com [161.58.239.68])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id XAA25603
	for <sip@ietf.org>; Thu, 6 Dec 2001 23:32:17 -0500 (EST)
Received: from tate ([64.243.180.244]) by broadsof.temp.veriohosting.com (8.11.6) id fB74WLi38679; Thu, 6 Dec 2001 23:32:21 -0500 (EST)
Reply-To: <brett@broadsoft.com>
From: "Brett Tate" <brett@broadsoft.com>
To: <sip@ietf.org>
Subject: RE: [Sip] Open Issue #140: use only tags for Call-leg ID
Date: Thu, 6 Dec 2001 23:33:54 -0500
Message-ID: <002a01c17ed8$62317a50$2b01a8c0@broadsoft.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook CWS, Build 9.0.2416 (9.0.2911.0)
In-Reply-To: <B65B4F8437968F488A01A940B21982BF020D7139@DYN-EXCH-001.dynamicsoft.com>
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4522.1200
Importance: Normal
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit


> Issue:
> 
> An interesting proposal is to modify the definition of 
> call-leg, so that is
> the 
> to tag, from tag, and call-id. This is different from the 
> current definition
> in 
> that the URLs are dropped. 
> 
> Discussion:
> 
> This approach has some important benefits:
> 
> 1. overlap dialing now becomes easier. Each digit can be added as a
> re-invite 
> with in the same call-leg (assuming re-invites can be sent 
> within a call leg
> 
> before the previous completes - thats another issue) but with 
> a different 
> To/R-uri. Since the To URL is not part of the call-leg ID 
> process, this new 
> request can be part of the same call leg. However, the 
> current proposal is
> to not allow overllaping INVITE, so this may be moot.
> 
> 2. A invites B, which is proxied to C. C sends a re-INVITE 
> back to A. The
> From 
> field in the request from C is wrong! We'd like to maintain 
> the idempotency
> of 
> INVITE, so that the from field is always the logical identity 
> of the caller,
> no 
> matter when its sent. So, B could include its actual URL in 
> the From field
> of the re-INVITE. Since the call leg ID is based only on 
> tags, this would
> work.
> 
> 3. Call leg lookups are now oodles easier, since they are 
> just based on 
> case-sensitive string compares. No more messy URL 
> comparisons. However, its
> worth noting that you can still do this anyway, since tags have to be
> globally unique. That is, even though the spec says its the full
> To/From/Call-ID, you could just use tags/Call-ID to index 
> legs at a UA. What
> you wouldn't be able to do is change the From/To URLs in subsequent
> requests, as above in (2).
> 
> 4. The Replaces header gets shortened; its now easier to 
> identify the call
> leg 
> thats getting replaced. May not be a big deal.
> 
> 5. This may work with existing proxies, but has compatibility 
> issues with
> existing 
> UAs. A simple SUpported token would handle this, though.
> 
> 
> Given that (1) is moot, (3) is possible without this 
> proposal, (4) is not
> too important, the only real benefit is (2), that you can 
> send the right
> From header in a re-INVITE. Now, an argument here is that 
> anybody who makes
> policy decisions based on the From header anyway is in 
> trouble, since its
> client supplied. Thus, you need to authenticate, and the credentials
> provided (or the Remote-Party-ID header) are what you would 
> use anyway. So,
> who cares if the From header is not right in the re-INVITE anyway. 
> 
> Proposal:
> 
> So, given the limited utility, and the potential interop problems, the
> proposal is to keep the current wording.

The proposal sounds fine.


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Fri Dec  7 01:23:32 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id BAA29435
	for <sip-archive@odin.ietf.org>; Fri, 7 Dec 2001 01:23:31 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id BAA10201
	for sip-archive@odin.ietf.org; Fri, 7 Dec 2001 01:23:32 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id BAA06187;
	Fri, 7 Dec 2001 01:09:31 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id BAA06109
	for <sip@optimus.ietf.org>; Fri, 7 Dec 2001 01:09:27 -0500 (EST)
Received: from auemail2.firewall.lucent.com (auemail2.lucent.com [192.11.223.163])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id BAA28379
	for <sip@ietf.org>; Fri, 7 Dec 2001 01:09:24 -0500 (EST)
Received: from ih2mail.ih.lucent.com (h135-1-241-39.lucent.com [135.1.241.39])
	by auemail2.firewall.lucent.com (Switch-2.1.3/Switch-2.1.0) with ESMTP id fB768s902543;
	Fri, 7 Dec 2001 01:08:54 -0500 (EST)
Received: from lucent.com by ih2mail.ih.lucent.com (8.8.8+Sun/EMS-1.5 sol2)
	id AAA09591; Fri, 7 Dec 2001 00:08:51 -0600 (CST)
Message-ID: <3C106B7B.9EE41625@lucent.com>
Date: Fri, 07 Dec 2001 01:10:51 -0600
From: "Vijay K. Gurbani" <vkg@lucent.com>
Organization: Intelligent Network and Internet Software Group
X-Mailer: Mozilla 4.76 [en] (X11; U; Linux 2.4.2-2 i686)
X-Accept-Language: en
MIME-Version: 1.0
To: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
CC: "'sip@ietf.org'" <sip@ietf.org>
Subject: Re: [Sip] Open Issue #188: Reply-To
References: <B65B4F8437968F488A01A940B21982BF020D7142@DYN-EXCH-001.dynamicsoft.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Jonathan Rosenberg wrote:
> 
> Issue:
> 
> Do we want to add a Reply-To header? Presumably, this is the URL to use to
> return calls at a later time. Its different from Contact, in that its a
> logical
> address. Its not From/To, since they could be different. Example:
> 
> INVITE sip:customer@foo.com
> From: sip:support-rep-32@company.com
> To: sip:customer@foo.com
> Contact: sip:support-rep-32@1.2.3.4
> Reply-To: sip:support@company.com
[...]
> Putting it in bis is easy enough, and its backwards compatible. But, do we
> want to be adding things at this time, rather than taking away?
> 
> Proposal:
> 
> Its simple. Its compatible. Its well understood. Its going to really be
> needed for MESSAGE, probably other things. Let us take the simple route and
> add it.

While I have no problem in adding this, we need to ensure that the spec
is
clear on what to do if both Contact and Reply-To are present along with
R-R headers.  In creating a Route set, the Reply-To will take
precedence,
I presume.

- vijay
--
Vijay K. Gurbani  vkg@{lucent.com,research.bell-labs.com,acm.org}
Internet Software/IN Architecture Group 
Lucent Technologies/Bell Labs Innovations 263 Shuman Blvd., Rm 1A-413
Naperville, Illinois 60566     Voice: +1 630 224 0216   Fax: +1 630 713
0184

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Fri Dec  7 01:34:06 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id BAA00301
	for <sip-archive@odin.ietf.org>; Fri, 7 Dec 2001 01:34:06 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id BAA11122
	for sip-archive@odin.ietf.org; Fri, 7 Dec 2001 01:34:06 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id BAA08436;
	Fri, 7 Dec 2001 01:12:13 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id BAA08372
	for <sip@optimus.ietf.org>; Fri, 7 Dec 2001 01:12:10 -0500 (EST)
Received: from hssblrmail.hss.hns.com ([164.164.94.118])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id BAA28577
	for <sip@ietf.org>; Fri, 7 Dec 2001 01:12:02 -0500 (EST)
From: sshetti@hss.hns.com
Received: from sampark.hss.hns.com ([192.168.17.10])
	by hssblrmail.hss.hns.com (8.11.2/8.11.2) with SMTP id fB768X931885
	for <sip@ietf.org>; Fri, 7 Dec 2001 11:38:33 +0530
Received: by sampark.hss.hns.com(Lotus SMTP MTA Internal build v4.6.2  (651.2 6-10-1998))  id 65256B1B.00216017 ; Fri, 7 Dec 2001 11:34:32 +0530
X-Lotus-FromDomain: HSSBLR
To: sip@ietf.org
Message-ID: <65256B1B.00215E49.00@sampark.hss.hns.com>
Date: Fri, 7 Dec 2001 11:34:28 +0530
Mime-Version: 1.0
Content-type: text/plain; charset=us-ascii
Content-Disposition: inline
Subject: [Sip] About maintaing reliable connections according to bis05
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org



Hi,
bis-05 states under "section 19 on TRANSPORT" as below

"It is RECOMMENDED that connections be kept open for some implementation
defined time after the last message
was sent or received over that connection. This time SHOULD be at least 16
seconds in order to ensure with
high probability that responses can be sent over the same connection a
request was sent."

This recomendation will have problems with the clients already implemented
according to RFC2543.
These clients will see the connection closure as Server Error which is not
desirable, when there are transactions initiated
by them are still not complete.

backword compatibility is lost because of this recommendation,
Suggestion is that "this recommendation must be applicable only on the
transactions that have been completed."

can this be clarified in the forthcoming drafts as suggested?

with regards,
Shetti



_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Fri Dec  7 02:46:43 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id CAA13898
	for <sip-archive@odin.ietf.org>; Fri, 7 Dec 2001 02:46:42 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id CAA12860
	for sip-archive@odin.ietf.org; Fri, 7 Dec 2001 02:46:44 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id CAA12721;
	Fri, 7 Dec 2001 02:37:34 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id CAA12690
	for <sip@optimus.ietf.org>; Fri, 7 Dec 2001 02:37:31 -0500 (EST)
Received: from broadsof.temp.veriohosting.com (broadsof.temp.veriohosting.com [161.58.239.68])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id CAA13167
	for <sip@ietf.org>; Fri, 7 Dec 2001 02:37:30 -0500 (EST)
Received: from tate ([64.243.180.244]) by broadsof.temp.veriohosting.com (8.11.6) id fB77bVg57192; Fri, 7 Dec 2001 02:37:31 -0500 (EST)
Reply-To: <brett@broadsoft.com>
From: "Brett Tate" <brett@broadsoft.com>
To: <sip@ietf.org>
Subject: RE: [Sip] Open Issue #178: Deprecate absolute times absolutely: SPEAK UP IF YOU USE THEM IN YOUR PRODUCT!!!!!!!!!!
Date: Fri, 7 Dec 2001 02:39:06 -0500
Message-ID: <002b01c17ef2$40bb80e0$2b01a8c0@broadsoft.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook CWS, Build 9.0.2416 (9.0.2911.0)
In-Reply-To: <B65B4F8437968F488A01A940B21982BF020D713E@DYN-EXCH-001.dynamicsoft.com>
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4522.1200
Importance: Normal
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

> Issue:
> 
> The Expires header and expires param in the Contact header allow for
> absolute times expressed in GMT. The problem with using 
> absolute times in
> the messages is that they require clock synchronization 
> between the two
> elements. This may or may not exist, and will be an interop 
> issue if the
> timing is significantly off (say, by an hour, which happens 
> frequently). A
> solution is to include the Date in a request whenever you include an
> absolute time. This means the recipient computes the 
> difference between the
> expiration and the Date header, and uses that as a relative time. Why
> bother? Why not simply use ONLY relative times?
> 
> Discussion points:
> 
> We made the decision to remove absolute time from the session timer
> extension. This issue was raised when we did that. Its a 
> no-brainer except
> for interop. If there are people sending absolute times, we 
> cannot simply
> remove it. Therefore, the proposal depends on whether someone 
> confesses to
> sending requests with absolute times:
> 
> PROPOSAL A:
>   * Remove absolute times entirely from the specification
> 
> PROPOSAL B:
>   * Elements MUST NOT send messages with absolute times in Expires or
> ;expires, but they MUST be prepared to receive requests with 
> absolute times
> in those headers, for backwards compatibility
> 
> If we can do A, we should. So, speak up NOW if you use 
> absolute times!!!

Sorry.  Some of our registrar deployments 
pass absolute times in the ";expires" 
of the REGISTER 200 response's Contact.

However PROPOSAL A still sounds good 
since we'd also like to completely remove 
the support of absolute times within SIP.
(Upgrades or patches for our registrar 
could be supplied when appropriate.)


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Fri Dec  7 04:40:35 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id EAA16964
	for <sip-archive@odin.ietf.org>; Fri, 7 Dec 2001 04:40:35 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id EAA16485
	for sip-archive@odin.ietf.org; Fri, 7 Dec 2001 04:40:37 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id EAA15700;
	Fri, 7 Dec 2001 04:19:07 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id EAA15671
	for <sip@optimus.ietf.org>; Fri, 7 Dec 2001 04:19:05 -0500 (EST)
Received: from broadsof.temp.veriohosting.com (broadsof.temp.veriohosting.com [161.58.239.68])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id EAA16793
	for <sip@ietf.org>; Fri, 7 Dec 2001 04:19:01 -0500 (EST)
Received: from tate ([64.243.180.244]) by broadsof.temp.veriohosting.com (8.11.6) id fB79J3S67439; Fri, 7 Dec 2001 04:19:04 -0500 (EST)
Reply-To: <brett@broadsoft.com>
From: "Brett Tate" <brett@broadsoft.com>
To: <sip@ietf.org>
Subject: RE: [Sip] Open Issue #188: Reply-To
Date: Fri, 7 Dec 2001 04:20:39 -0500
Message-ID: <003501c17f00$7029ce00$2b01a8c0@broadsoft.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook CWS, Build 9.0.2416 (9.0.2911.0)
In-Reply-To: <B65B4F8437968F488A01A940B21982BF020D7142@DYN-EXCH-001.dynamicsoft.com>
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4522.1200
Importance: Normal
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

> Issue:
> 
> Do we want to add a Reply-To header? Presumably, this is the 
> URL to use to 
> return calls at a later time. Its different from Contact, in 
> that its a
> logical 
> address. Its not From/To, since they could be different. Example:
> 
> INVITE sip:customer@foo.com
> From: sip:support-rep-32@company.com
> To: sip:customer@foo.com
> Contact: sip:support-rep-32@1.2.3.4
> Reply-To: sip:support@company.com
> 
> Discussion:
> 
> >From a technical perspective, another alternative would be 
> to define an
> additional rpi-id-type in the Remote-Party-ID header, which 
> indicates the
> reply address type. R-P-ID has become the repository of identities not
> already provided by other headers (althouth R-PID is more 
> meant for network
> authenticated identities, and thats not this), so it could 
> fit there. Its a
> bit ugly, since it would diverge from many other rfc822 based 
> applications
> which have defined and used this header.
> 
> This header becomes a bit more important with MESSAGE defined. 
> 
> Another alternative is to stick it into an extension by 
> itself. That seems
> silly, since this is such a small, simple extension that it would be a
> waste.
> 
> Putting it in bis is easy enough, and its backwards 
> compatible. But, do we
> want to be adding things at this time, rather than taking away?
> 
> Proposal:
> 
> Its simple. Its compatible. Its well understood. Its going to 
> really be
> needed for MESSAGE, probably other things. Let us take the 
> simple route and
> add it.

It seems like an ideal candidate for a 
new extension draft or a new version of 
sip-privacy.

What is its relationship to From and 
Remote-Party-ID?  

How many entries can it contain?  If more 
than 1, should something like a q-value 
be present to communicate the meaning of 
more than 1 value being present?

Should it contain an expiration value?

Should it have a similar definition to 
Remote-Party-ID so that privacy and trust
issues can be communicated?


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Fri Dec  7 05:01:50 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id FAA17484
	for <sip-archive@odin.ietf.org>; Fri, 7 Dec 2001 05:01:50 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id FAA18822
	for sip-archive@odin.ietf.org; Fri, 7 Dec 2001 05:01:52 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id EAA16657;
	Fri, 7 Dec 2001 04:45:47 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id EAA16627
	for <sip@optimus.ietf.org>; Fri, 7 Dec 2001 04:45:44 -0500 (EST)
Received: from kcmso1.proxy.att.com (kcmso1.att.com [192.128.133.69])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id EAA17051
	for <sip@ietf.org>; Fri, 7 Dec 2001 04:45:41 -0500 (EST)
Received: from attrh2i.attrh.att.com ([135.37.94.56])
	by kcmso1.proxy.att.com (AT&T IPNS/MSO-3.0) with ESMTP id fB79jDn27372
	for <sip@ietf.org>; Fri, 7 Dec 2001 04:45:13 -0500 (EST)
Received: from occlust04evs1.ugd.att.com (135.71.164.13) by attrh2i.attrh.att.com (5.5.029)
        id 3C06942A001DFBFA; Fri, 7 Dec 2001 04:44:48 -0500
Received: from mail pickup service by occlust04evs1.ugd.att.com with Microsoft SMTPSVC;
	 Fri, 7 Dec 2001 04:44:40 -0500
Received: from occlust02evs1.ugd.att.com ([135.71.164.9]) by occlust04evs1.ugd.att.com with Microsoft SMTPSVC(5.0.2195.2966);	 Wed, 5 Dec 2001 17:19:02 -0500
Received:  from attrh2i.attrh.att.com ([135.37.94.56]) by mo3980bh3.ems.att.com with SMTP (Microsoft Exchange Internet Mail Service Version 5.5.2653.13) id YJB1AS9A; Wed, 5 Dec 2001 14:10:18 -0600
Received:  from wsscan.att.com (135.37.94.53) by attrh2i.attrh.att.com (5.5.029) id 3C06942A0013905C for rrroy@ems.att.com; Wed, 5 Dec 2001 15:10:16 -0500
Received:  by wsscan.att.com; id PAA24192; Wed, 5 Dec 2001 15:14:46 -0500 (EST)
Received:  from almsi1.proxy.att.com(192.168.109.69) by cyrus5.wsscan.att.com via csmap (V4.1) id srcAAAtia4pV; Wed, 5 Dec 01 15:14:45 -0500
Received:  from mail1.dynamicsoft.com ([63.113.40.10]) by almsi1.proxy.att.com (AT&T IPNS/MSI-3.0) with ESMTP id fB5KAFG09686 for <rrroy@att.com>; Wed, 5 Dec 2001 15:10:15 -0500 (EST)
Received:  from mailman.dynamicsoft.com ([192.168.4.50]) by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fB5K7J4S016205; Wed, 5 Dec 2001 15:08:43 -0500 (EST)
Received:  from mailman.dynamicsoft.com (localhost [127.0.0.1]) by mailman.dynamicsoft.com (8.9.3+Sun/8.9.3) with ESMTP id PAA11483; Wed, 5 Dec 2001 15:09:05 -0500 (EST)
Received:  from mail1.dynamicsoft.com (mail1.dynamicsoft.com [192.168.4.30]) by mailman.dynamicsoft.com (8.9.3+Sun/8.9.3) with ESMTP id PAA11464 for <simple@mailman.dynamicsoft.com>; Wed, 5 Dec 2001 15:08:54 -0500 (EST)
Received:  from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7]) by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fB5JvT4I016058; Wed, 5 Dec 2001 14:57:30 -0500 (EST)
MIME-Version: 1.0
Received:  by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19) id <YAN9Y80M>; Wed, 5 Dec 2001 14:59:00 -0500
Content-Type: application/ms-tnef;	name="winmail.dat"
Content-Transfer-Encoding: binary
content-class: urn:content-classes:message
Date: Wed, 5 Dec 2001 14:58:59 -0500
Message-ID: <B65B4F8437968F488A01A940B21982BF020D7120@DYN-EXCH-001.dynamicsoft.com>
X-MS-TNEF-Correlator: <B65B4F8437968F488A01A940B21982BF020D7120@DYN-EXCH-001.dynamicsoft.com>
Thread-Topic: [Simple] RE: [Sipping] Immediate NOTIFIES change in sip-events-01
X-MimeOLE: Produced By Microsoft Exchange V6.0.5716.0
Thread-Index: AcF9yNxQnMe8SOm7EdWjbgCQJ60IGQ==
List-Help: <mailto:simple-request@mailman.dynamicsoft.com?subject=help>
List-Subscribe: <http://mailman.dynamicsoft.com/mailman/listinfo/simple>,<mailto:simple-request@mailman.dynamicsoft.com?subject=subscribe>
List-Unsubscribe: <http://mailman.dynamicsoft.com/mailman/listinfo/simple>,<mailto:simple-request@mailman.dynamicsoft.com?subject=unsubscribe>
From: "Jonathan Rosenberg" <jdrosen@dynamicsoft.com>
To: "Fairlie-Cuninghame, Robert" <rfairlie@nuera.com>,
        "Brian Stucker" <bstucker@nortelnetworks.com>,
        "Jonathan Rosenberg" <jdrosen@dynamicsoft.com>,
        "Bert Culpepper" <bert.culpepper@intervoice-brite.com>,
        <adam.roach@ericsson.com>
Cc: <sip@ietf.org>, <simple@mailman.dynamicsoft.com>
X-OriginalArrivalTime: 05 Dec 2001 22:19:02.0728 (UTC) FILETIME=[D83CA480:01C17DDA]
Content-Transfer-Encoding: binary
Subject: [Sip] [Simple] RE: [Sipping] Immediate NOTIFIES change in sip-events-01
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: binary

x>"&:;o 19	!47BCC79CBBE9D511A36E009027AD0819;|0:'Fairlie-Cuninghame, Robert'0
SMTP0&rfairlie@nuera.com0@:0SMTP:RFAIRLIE@NUERA.COM ::'Fairlie-Cuninghame, Robert'0 'Brian Stucker'0
SMTP08bstucker@nortelnetworks.com0@:0!SMTP:BSTUCKER@NORTELNETWORKS.COM : 'Brian Stucker'0&Jonathan Rosenberg0
SMTP00jdrosen@dynamicsoft.com0@:A0SMTP:JDROSEN@DYNAMICSOFT.COM :&Jonathan Rosenberg0"'Bert Culpepper'0
SMTP0Hbert.culpepper@intervoice-brite.com0@:0)SMTP:BERT.CULPEPPER@INTERVOICE-BRITE.COM :"'Bert Culpepper'00adam.roach@ericsson.com0
SMTP00adam.roach@ericsson.com0@:FO0SMTP:ADAM.ROACH@ERICSSON.COM :0adam.roach@ericsson.com0'sip@ietf.org'0
SMTP0sip@ietf.org0@:0SMTP:SIP@IETF.ORG :'sip@ietf.org'0B'simple@mailman.dynamicsoft.com'0
SMTP0>simple@mailman.dynamicsoft.com0@:FO0$SMTP:SIMPLE@MAILMAN.DYNAMICSOFT.COM :B'simple@mailman.dynamicsoft.com'A
'IPM.NOTE&67[Simple] RE: [Sipping] Immediate NOTIFIES change in sip-events-01@99G}=p[Simple] RE: [Sipping] Immediate NOTIFIES change in sip-events-01q}PHn'&Jonathan Rosenberg[Simple] RE: [Sipping] Immediate NOTIFIES change in sip-events-01			OLZFuu6
rcpg1252CtexA
PV?U%Qch
set2%3F0,3	;05"`cP	d36P

I'm cc'gIMPLE nce th a jo@
Pa@a ^t ew Pqn wk@ndap-ev	 .lso^,#)#1"im$0n!#1p$1"I@q!Ql l@t"#1.G> -*O(!@sage**FFa:,pr(,Cu$0b@[#):rf-T@n
Pra.m]*FW`0- W	nday$0No#L28$0012:Q3 PM*FT/P L'B!Stk'; J  P'n.g5p4.q-lpe&5B*Fa1m.`h@qc 0R*FCc- &@0.g0ubj - RE- T[S&]'md0OTIFIE'#)-3 *F@.T$-d g(50Agop`uvg+(i ( 4)e@'"7@#Bc)C4(c!"& a9aq1 @
#O	A(@leDF(p$0G"H  3(r7`#K!*U!%5r7uiz PC#I@EQ w#q.NwJO@(rb.1*d.<B(.0aB i# (&Ae- '&AG r"A(Q"(r*FU E#*F
5 +R`e)#A.ofRvCRyRty'c@/zuf7@@S	 y`HTryYU(#s $ XK Iy X"*Fd`H-`a"^Ug0C?!Q_.PAe_(ccD.(!s\)OK$0bQ?_0Kh, el]XN%$0nqU4N](rV B Wl^"TBD"]Q ERY!J Il!up 6AdocMA(RuP0-`(>#Y&#wN]!Wh*$0HO)e)'$nkT <BC/rm+QCHltICi{<CFs?|
4"`XQDln'dQ	C!0_q?
@NSYcDx n#*F(uM@s)L
" k&@S QcE+!+wrYx"T^K!)+t{20KHX$quC^5HkzQA7$vp #qu%n^Y"H"u
.1a8qcv0sdQ/ $0T~C#t,\(r&u&w$!**,U	 <-*W=V/D Y!_q#7~VC`D1fV75)CJ
sfs@+01dsE?!SUhH-ES1#LPA`)Qd qC#UC&pC9@]H5ps(r  a a'QD7Cd PSca?Q$0s8`u&eY!{\5k,S$!sERm^uo+ v-1P):qh;Mq/u2lBS{ULD=s!%!0P1'dJ P_pVGrlsuXA@s{bQs5p Q3`aXEBR2-A!`8`wm]uu:<))Vfp ">PNVScX!`7P{5_gWAP@!dY!v!`)( #up- RX.s/s{c"YuN6.(3#BbsplQ`5 ?)N+{THpk5{cD#c6'$0Ph.M7@E+S1A#)eC (kIFx3FPVdy+`9@]	?p(a2Ar2J 079 jd6A@0R	OCAX- !(973952-50@//w..1?P{N<J3/_&v~mPS(@/:O$v/[("R/D}!5<B65B4F8437968F488A01A940B21982BF020D7120@DYN-EXCH-001.dynamicsoft.com>Cz<mailto:simple-request@mailman.dynamicsoft.com?subject=help>D<http://mailman.dynamicsoft.com/mailman/listinfo/simple>,<mailto:simple-request@mailman.dynamicsoft.com?s!
ubject=su

bscribe>E<http://mailman.dynamicsoft.com/mailman/listinfo/simple>,<mailto:simple-request@mailman.dynamicsoft.com?subject=unsubscribe>[Simple] RE%3A [Sipping] Immediate NOTIFIES change in sip-events-01.EML@0z'P}@0l
}?o???DInternet Mail Service (MO3980BH3)?q@B+//O=ATT/OU=EMS/CN=CONFIGURATION/CN=CONNECTIONS/CN=INTERNET MAIL CONNECTOR (MO3980BH3)?DInternet Mail Service (MO3980BH3)?q@B+//O=ATT/OU=EMS/CN=CONFIGURATION/CN=CONNECTIONS/CN=INTERNET MAIL CONNECTOR (MO3980BH3)?@@0@0jdrosen@dynamicsoft.com1@0jdrosen@dynamicsoft.com8@HINTERNET MAIL CONNECTOR (MO3980BH3)9@0jdrosen@dynamicsoft.com)#H<B65B4F8437968F488A01A940B21982BF020D7120@DYN-EXCH-001.dynamicsoft.com>{ 

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Fri Dec  7 06:07:40 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id GAA18731
	for <sip-archive@odin.ietf.org>; Fri, 7 Dec 2001 06:07:40 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id GAA22383
	for sip-archive@odin.ietf.org; Fri, 7 Dec 2001 06:07:43 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id FAA21687;
	Fri, 7 Dec 2001 05:50:46 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id FAA21658
	for <sip@optimus.ietf.org>; Fri, 7 Dec 2001 05:50:44 -0500 (EST)
Received: from gbnewp0915s1.eu.ubiquity.net (news.ubiquity.net [194.202.146.92])
	by ietf.org (8.9.1a/8.9.1a) with SMTP id FAA18515
	for <sip@ietf.org>; Fri, 7 Dec 2001 05:50:38 -0500 (EST)
Received: from mailhost.eu.ubiquity.net by gbnewp0915s1.eu.ubiquity.net
          via smtpd (for odin.ietf.org [132.151.1.176]) with SMTP; 7 Dec 2001 10:50:54 UT
X-MimeOLE: Produced By Microsoft Exchange V6.0.4417.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Subject: RE: [Sip] Open Issue #281: Entire URI as a key to location service lookup
Date: Fri, 7 Dec 2001 10:51:31 -0000
Message-ID: <45730E094814E44488F789C1CDED27AE011224DC@GBNEWP0758M.eu.ubiquity.net>
Thread-Topic: [Sip] Open Issue #281: Entire URI as a key to location service lookup
Thread-Index: AcF+org/YXO0tBAQRVamY4eQuSQDqwAZvefw
From: "Jo Hornsby" <jhornsby@ubiquity.net>
To: "Jonathan Rosenberg" <jdrosen@dynamicsoft.com>, <sip@ietf.org>
Content-Transfer-Encoding: 8bit
X-MIME-Autoconverted: from quoted-printable to 8bit by optimus.ietf.org id FAA21659
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 8bit

> Issue:
>
> There are problems with the bis-05 text which says that a
> proxy should use the entire URL from the request URI as the
> key to lookup contacts in the location service DB. The problem
> is that sometimes the R-URI has transport and maddr params,
> used for routing, and these are not part of the To header in
> the REGISTER, so a 404 is getting sent.
>
> Igor Slepchin has proposed that the choice of key is a matter
> of local policy, so long as its consistent between
> registration processing and request routing
> processing. However, I think some guidelines would be helpful
> to avoid having people shoot themselves in the foot.

Agreed on both points.

> The text used to give no guidance on this, but we changed it
> to say the entire URL since there had been other problems, or
> so I recall. Not sure what the previous problems were, though.

user=phone &;)

> Another issue with using the whole URL as input to the
> location DB is that the key is no longer a simple string; this
> makes lookups more complex.
>
> Proposal:
> Allow key for LS lookups to be a matter of local policy.
> Describe issues (like using port and maddr are bad).

I like.

I might also note that typically, making {maddr, transport
(and now port, I guess, with one of your other current
proposals), etc.} significant in the lookup is going to
be nonsensical if the only way the DB can be mutated is
via REGISTER.  This is because the key is the To, and
all of these things are disallowed there.


 - Jo.


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Fri Dec  7 07:16:53 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id HAA19329
	for <sip-archive@odin.ietf.org>; Fri, 7 Dec 2001 07:16:52 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id HAA23976
	for sip-archive@odin.ietf.org; Fri, 7 Dec 2001 07:16:54 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id HAA23811;
	Fri, 7 Dec 2001 07:01:36 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id HAA23712
	for <sip@optimus.ietf.org>; Fri, 7 Dec 2001 07:01:30 -0500 (EST)
Received: from zcars0m9.nortelnetworks.com (zcars0m9.nortelnetworks.com [47.129.242.157])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id HAA19215
	for <sip@ietf.org>; Fri, 7 Dec 2001 07:01:27 -0500 (EST)
Received: from znsgs01r.europe.nortel.com (znsgs01r.europe.nortel.com [47.137.129.92])
	by zcars0m9.nortelnetworks.com (8.11.0/8.11.0) with ESMTP id fB7C0Gd29142;
	Fri, 7 Dec 2001 07:00:16 -0500 (EST)
Received: from zwcwc012.europe.nortel.com (zwcwc012.europe.nortel.com [47.73.112.187])
	by znsgs01r.europe.nortel.com (Switch-2.2.0/Switch-2.2.0) with ESMTP id fB7C0ol07299;
	Fri, 7 Dec 2001 12:00:50 GMT
Received: by zwcwc012.europe.nortel.com with Internet Mail Service (5.5.2653.19)
	id <YH6LZJ8B>; Fri, 7 Dec 2001 11:59:54 -0000
Message-ID: <D738AA46E980D5119C4B0002A56045FC555C61@zwcwc010.europe.nortel.com>
From: "Chris Hogg" <chogg@nortelnetworks.com>
To: "'Kiranmai Pavoori'" <kiranmai.pavoori@intervoice-brite.com>,
        brett
	 <brett@broadsoft.com>,
        "christer.holmberg"
	 <christer.holmberg@lmf.ericsson.se>
Cc: sip <sip@ietf.org>
Subject: RE: RE: [Sip] Open Issue #58: Rejected mid-call SDP in 2xx
Date: Fri, 7 Dec 2001 11:59:48 -0000 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C17F16.AB74C850"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

This message is in MIME format. Since your mail reader does not understand
this format, some or all of this message may not be legible.

------_=_NextPart_001_01C17F16.AB74C850
Content-Type: text/plain

Hi Kiranmai,

A session has already been established between A and C so if the controller
C takes the SDP that it has received as part of a 200 OK OFFER from A and
passes it on to UA B and B subsequently rejects this SDP then I think you
have a point, there would be no SDP from B to go in the ACK sent from C to A
(which would constitute a protocol error so far as SDP offer answer goes).
I think under these circumstances the controller would need to realise that
the transfer (which is essentially what is being done within this 3pcc
scenario) is not able to complete and so the Re-INVITE would need to be
rejected by sending a CANCEL - i.e. no ACK would be sent from C to A.  This
is what I mean when I say that if the transfer fails it shold revert back to
the existing session.

As I said before, I'm just exploring the issues and welcome any
discussion/comments.

Best Regards,

Chris.

Chris Hogg
Nortel Networks (UK).

-----Original Message-----
From: Kiranmai Pavoori [mailto:kiranmai.pavoori@intervoice-brite.com]
Sent: 06 December 2001 22:25
To: brett; christer.holmberg; Hogg, Chris [MDN05:MA01:EXCH]
Cc: sip
Subject: Re: RE: [Sip] Open Issue #58: Rejected mid-call SDP in 2xx


This is for an ideal case.

How would this scenario be handled, when B sees that it had received SDP,
(media not supported) in INVITE to C. B can always reject with not 200 OK
message. But how would the transaction complete between C and A. C still
needs to send ACK to complete the transaction, does this mean that ACK again
carries SDP of the current existing session. ( reflecting session between C
and A ? )


when the UA-A sends 200 OK ( with sdP ) in response to a INVITE from C with
no SDP...And when C sends an INVITE to B with this 

>>> "Chris Hogg" <chogg@nortelnetworks.com> 10/04 8:34 AM >>>
Hi Christer,

>I am not sure I agree on that. Isn't the 200 for a non-SDP re-INVITE
>supposed to return the current remote SDP, and if the call has been put
>on hold that should be a call-hold SDP (ie the SDP that was returned in
>the 200 for the call hold re-INVITE)?

I agree with this understanding.  I think this is also useful in 3pcc cases
whereby a controller (C) is already in session with a UA "A" but wishes to
establish a session between A and a new UA "B".  C sends a Re-INVITE to A
with no SDP causing A to send a 200 OK with its' SDP (which will be the
current remote SDP).  C may then initiate a new INVITE to B with the SDP it
has gleaned from A. The ACK from C to A will contain SDPb thus enabling the
call signalling to go from A to B via the controller but the media path to
be set up between A and B.  Thus in this case, the ACK does require to
modify the SDP from that of the original session but will not add any
additional media streams. I suppose if the SDP from B (sent to A from C in
the ACK) was inconsistent with that from A then the redirect would fail and
the session would revert to the call between A and C. 

Just wanted to understand the issues some more - comments welcome.

Thanks

Regards

Chris 

Chris Hogg
Nortel Networks (UK).



-----Original Message-----
From: Christer Holmberg [mailto:christer.holmberg@lmf.ericsson.se] 
Sent: 04 October 2001 06:11
To: brett@broadsoft.com 
Cc: sip@ietf.org 
Subject: Re: [Sip] Open Issue #58: Rejected mid-call SDP in 2xx



Hi,

>>However, my understanding was that the UAC
>>should be able to modify the existing streams
>>in the ACK SDP (but not add new streams).
>>Is that wrong?
>You are correct.

Good :)

>>At least I am :) But, again, my concern is
>>if there IS a scenario where
>>the UAC DOES add streams in the ACK SDP?
>Within the offer-answer model (both INVITE-200
>and 200-ACK), it is a protocol violation to
>add media streams in the answer.

I agree.

>>Yes, and that is related to my question:
>>what is 200/ACK SDP exchange
>>really needed for, if no party is allowed
>>to change anything in the SDPs?
>After a call has been established and placed
>on hold, a reinvite-without-sdp will likely
>trigger non-hold SDP in the 200 and ACK.
>Thus one or both SDP's have changed.

I am not sure I agree on that. Isn't the 200 for a non-SDP re-INVITE
supposed to return the current remote SDP, and if the call has been put
on hold that should be a call-hold SDP (ie the SDP that was returned in
the 200 for the call hold re-INVITE)?

Thanks for your comments!

Christer Holmberg
Ericsson Finland

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip 
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


------_=_NextPart_001_01C17F16.AB74C850
Content-Type: text/html
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV=3D"Content-Type" CONTENT=3D"text/html; =
charset=3Dus-ascii">
<META NAME=3D"Generator" CONTENT=3D"MS Exchange Server version =
5.5.2654.89">
<TITLE>RE: RE: [Sip] Open Issue #58: Rejected mid-call SDP in =
2xx</TITLE>
</HEAD>
<BODY>

<P><FONT SIZE=3D2>Hi Kiranmai,</FONT>
</P>

<P><FONT SIZE=3D2>A session has already been established between A and =
C so if the controller C takes the SDP that it has received as part of =
a 200 OK OFFER from A and passes it on to UA B and B subsequently =
rejects this SDP then I think you have a point, there would be no SDP =
from B to go in the ACK sent from C to A (which would constitute a =
protocol error so far as SDP offer answer goes).&nbsp; I think under =
these circumstances the controller would need to realise that the =
transfer (which is essentially what is being done within this 3pcc =
scenario) is not able to complete and so the Re-INVITE would need to be =
rejected by sending a CANCEL - i.e. no ACK would be sent from C to =
A.&nbsp; This is what I mean when I say that if the transfer fails it =
shold revert back to the existing session.</FONT></P>

<P><FONT SIZE=3D2>As I said before, I'm just exploring the issues and =
welcome any discussion/comments.</FONT>
</P>

<P><FONT SIZE=3D2>Best Regards,</FONT>
</P>

<P><FONT SIZE=3D2>Chris.</FONT>
</P>

<P><FONT SIZE=3D2>Chris Hogg</FONT>
<BR><FONT SIZE=3D2>Nortel Networks (UK).</FONT>
</P>

<P><FONT SIZE=3D2>-----Original Message-----</FONT>
<BR><FONT SIZE=3D2>From: Kiranmai Pavoori [<A =
HREF=3D"mailto:kiranmai.pavoori@intervoice-brite.com">mailto:kiranmai.pa=
voori@intervoice-brite.com</A>]</FONT>
<BR><FONT SIZE=3D2>Sent: 06 December 2001 22:25</FONT>
<BR><FONT SIZE=3D2>To: brett; christer.holmberg; Hogg, Chris =
[MDN05:MA01:EXCH]</FONT>
<BR><FONT SIZE=3D2>Cc: sip</FONT>
<BR><FONT SIZE=3D2>Subject: Re: RE: [Sip] Open Issue #58: Rejected =
mid-call SDP in 2xx</FONT>
</P>
<BR>

<P><FONT SIZE=3D2>This is for an ideal case.</FONT>
</P>

<P><FONT SIZE=3D2>How would this scenario be handled, when B sees that =
it had received SDP, (media not supported) in INVITE to C. B can always =
reject with not 200 OK message. But how would the transaction complete =
between C and A. C still needs to send ACK to complete the transaction, =
does this mean that ACK again carries SDP of the current existing =
session. ( reflecting session between C and A ? )</FONT></P>
<BR>

<P><FONT SIZE=3D2>when the UA-A sends 200 OK ( with sdP ) in response =
to a INVITE from C with no SDP...And when C sends an INVITE to B with =
this </FONT></P>

<P><FONT SIZE=3D2>&gt;&gt;&gt; &quot;Chris Hogg&quot; =
&lt;chogg@nortelnetworks.com&gt; 10/04 8:34 AM &gt;&gt;&gt;</FONT>
<BR><FONT SIZE=3D2>Hi Christer,</FONT>
</P>

<P><FONT SIZE=3D2>&gt;I am not sure I agree on that. Isn't the 200 for =
a non-SDP re-INVITE</FONT>
<BR><FONT SIZE=3D2>&gt;supposed to return the current remote SDP, and =
if the call has been put</FONT>
<BR><FONT SIZE=3D2>&gt;on hold that should be a call-hold SDP (ie the =
SDP that was returned in</FONT>
<BR><FONT SIZE=3D2>&gt;the 200 for the call hold re-INVITE)?</FONT>
</P>

<P><FONT SIZE=3D2>I agree with this understanding.&nbsp; I think this =
is also useful in 3pcc cases</FONT>
<BR><FONT SIZE=3D2>whereby a controller (C) is already in session with =
a UA &quot;A&quot; but wishes to</FONT>
<BR><FONT SIZE=3D2>establish a session between A and a new UA =
&quot;B&quot;.&nbsp; C sends a Re-INVITE to A</FONT>
<BR><FONT SIZE=3D2>with no SDP causing A to send a 200 OK with its' SDP =
(which will be the</FONT>
<BR><FONT SIZE=3D2>current remote SDP).&nbsp; C may then initiate a new =
INVITE to B with the SDP it</FONT>
<BR><FONT SIZE=3D2>has gleaned from A. The ACK from C to A will contain =
SDPb thus enabling the</FONT>
<BR><FONT SIZE=3D2>call signalling to go from A to B via the controller =
but the media path to</FONT>
<BR><FONT SIZE=3D2>be set up between A and B.&nbsp; Thus in this case, =
the ACK does require to</FONT>
<BR><FONT SIZE=3D2>modify the SDP from that of the original session but =
will not add any</FONT>
<BR><FONT SIZE=3D2>additional media streams. I suppose if the SDP from =
B (sent to A from C in</FONT>
<BR><FONT SIZE=3D2>the ACK) was inconsistent with that from A then the =
redirect would fail and</FONT>
<BR><FONT SIZE=3D2>the session would revert to the call between A and =
C. </FONT>
</P>

<P><FONT SIZE=3D2>Just wanted to understand the issues some more - =
comments welcome.</FONT>
</P>

<P><FONT SIZE=3D2>Thanks</FONT>
</P>

<P><FONT SIZE=3D2>Regards</FONT>
</P>

<P><FONT SIZE=3D2>Chris </FONT>
</P>

<P><FONT SIZE=3D2>Chris Hogg</FONT>
<BR><FONT SIZE=3D2>Nortel Networks (UK).</FONT>
</P>
<BR>
<BR>

<P><FONT SIZE=3D2>-----Original Message-----</FONT>
<BR><FONT SIZE=3D2>From: Christer Holmberg [<A =
HREF=3D"mailto:christer.holmberg@lmf.ericsson.se">mailto:christer.holmbe=
rg@lmf.ericsson.se</A>] </FONT>
<BR><FONT SIZE=3D2>Sent: 04 October 2001 06:11</FONT>
<BR><FONT SIZE=3D2>To: brett@broadsoft.com </FONT>
<BR><FONT SIZE=3D2>Cc: sip@ietf.org </FONT>
<BR><FONT SIZE=3D2>Subject: Re: [Sip] Open Issue #58: Rejected mid-call =
SDP in 2xx</FONT>
</P>
<BR>
<BR>

<P><FONT SIZE=3D2>Hi,</FONT>
</P>

<P><FONT SIZE=3D2>&gt;&gt;However, my understanding was that the =
UAC</FONT>
<BR><FONT SIZE=3D2>&gt;&gt;should be able to modify the existing =
streams</FONT>
<BR><FONT SIZE=3D2>&gt;&gt;in the ACK SDP (but not add new =
streams).</FONT>
<BR><FONT SIZE=3D2>&gt;&gt;Is that wrong?</FONT>
<BR><FONT SIZE=3D2>&gt;You are correct.</FONT>
</P>

<P><FONT SIZE=3D2>Good :)</FONT>
</P>

<P><FONT SIZE=3D2>&gt;&gt;At least I am :) But, again, my concern =
is</FONT>
<BR><FONT SIZE=3D2>&gt;&gt;if there IS a scenario where</FONT>
<BR><FONT SIZE=3D2>&gt;&gt;the UAC DOES add streams in the ACK =
SDP?</FONT>
<BR><FONT SIZE=3D2>&gt;Within the offer-answer model (both =
INVITE-200</FONT>
<BR><FONT SIZE=3D2>&gt;and 200-ACK), it is a protocol violation =
to</FONT>
<BR><FONT SIZE=3D2>&gt;add media streams in the answer.</FONT>
</P>

<P><FONT SIZE=3D2>I agree.</FONT>
</P>

<P><FONT SIZE=3D2>&gt;&gt;Yes, and that is related to my =
question:</FONT>
<BR><FONT SIZE=3D2>&gt;&gt;what is 200/ACK SDP exchange</FONT>
<BR><FONT SIZE=3D2>&gt;&gt;really needed for, if no party is =
allowed</FONT>
<BR><FONT SIZE=3D2>&gt;&gt;to change anything in the SDPs?</FONT>
<BR><FONT SIZE=3D2>&gt;After a call has been established and =
placed</FONT>
<BR><FONT SIZE=3D2>&gt;on hold, a reinvite-without-sdp will =
likely</FONT>
<BR><FONT SIZE=3D2>&gt;trigger non-hold SDP in the 200 and ACK.</FONT>
<BR><FONT SIZE=3D2>&gt;Thus one or both SDP's have changed.</FONT>
</P>

<P><FONT SIZE=3D2>I am not sure I agree on that. Isn't the 200 for a =
non-SDP re-INVITE</FONT>
<BR><FONT SIZE=3D2>supposed to return the current remote SDP, and if =
the call has been put</FONT>
<BR><FONT SIZE=3D2>on hold that should be a call-hold SDP (ie the SDP =
that was returned in</FONT>
<BR><FONT SIZE=3D2>the 200 for the call hold re-INVITE)?</FONT>
</P>

<P><FONT SIZE=3D2>Thanks for your comments!</FONT>
</P>

<P><FONT SIZE=3D2>Christer Holmberg</FONT>
<BR><FONT SIZE=3D2>Ericsson Finland</FONT>
</P>

<P><FONT =
SIZE=3D2>_______________________________________________</FONT>
<BR><FONT SIZE=3D2>Sip mailing list&nbsp; <A =
HREF=3D"http://www1.ietf.org/mailman/listinfo/sip" =
TARGET=3D"_blank">http://www1.ietf.org/mailman/listinfo/sip</A> </FONT>
<BR><FONT SIZE=3D2>This list is for NEW development of the core SIP =
Protocol</FONT>
<BR><FONT SIZE=3D2>Use sip-implementors@cs.columbia.edu for questions =
on current sip</FONT>
<BR><FONT SIZE=3D2>Use sipping@ietf.org for new developments on the =
application of sip</FONT>
</P>

</BODY>
</HTML>
------_=_NextPart_001_01C17F16.AB74C850--

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Fri Dec  7 09:09:51 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id JAA20563
	for <sip-archive@odin.ietf.org>; Fri, 7 Dec 2001 09:09:51 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id JAA26921
	for sip-archive@odin.ietf.org; Fri, 7 Dec 2001 09:09:51 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id IAA26092;
	Fri, 7 Dec 2001 08:50:24 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id IAA26061
	for <sip@optimus.ietf.org>; Fri, 7 Dec 2001 08:50:20 -0500 (EST)
Received: from acmepacket.com (mail1.acmepacket.com [63.67.143.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id IAA20327
	for <sip@ietf.org>; Fri, 7 Dec 2001 08:50:17 -0500 (EST)
Received: from BobP [63.67.143.2] by acmepacket.com
  (SMTPD32-7.04) id A91A1990029A; Fri, 07 Dec 2001 08:50:18 -0500
Message-ID: <006001c17f25$3db25760$2300000a@acmepacket.com>
From: "Bob Penfield" <bpenfield@acmepacket.com>
To: "Vijay K. Gurbani" <vkg@lucent.com>,
        "Jonathan Rosenberg" <jdrosen@dynamicsoft.com>
Cc: <sip@ietf.org>
References: <B65B4F8437968F488A01A940B21982BF020D7142@DYN-EXCH-001.dynamicsoft.com> <3C106B7B.9EE41625@lucent.com>
Subject: Re: [Sip] Open Issue #188: Reply-To
Date: Fri, 7 Dec 2001 08:44:06 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 5.50.4133.2400
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4133.2400
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Vijay,

I think you misunderstood the use of Reply-To. It would not be used instead
of the Contact. It would not really be used in the current session. It would
be used as the "To" (and probably Request-URI) when the called party "called
back" to the calling party of this session with a new session and a new
INVITE.

cheers,
(-:bob

Robert F. Penfield
Chief Software Architect
Acme Packet, Inc.
130 New Boston Street
Woburn, MA 01801
bpenfield@acmepacket.com

----- Original Message -----
From: "Vijay K. Gurbani" <vkg@lucent.com>
To: "Jonathan Rosenberg" <jdrosen@dynamicsoft.com>
Cc: <sip@ietf.org>
Sent: Friday, December 07, 2001 2:10 AM
Subject: Re: [Sip] Open Issue #188: Reply-To


> Jonathan Rosenberg wrote:
> >
> > Issue:
> >
> > Do we want to add a Reply-To header? Presumably, this is the URL to use
to
> > return calls at a later time. Its different from Contact, in that its a
> > logical
> > address. Its not From/To, since they could be different. Example:
> >
> > INVITE sip:customer@foo.com
> > From: sip:support-rep-32@company.com
> > To: sip:customer@foo.com
> > Contact: sip:support-rep-32@1.2.3.4
> > Reply-To: sip:support@company.com
> [...]
> > Putting it in bis is easy enough, and its backwards compatible. But, do
we
> > want to be adding things at this time, rather than taking away?
> >
> > Proposal:
> >
> > Its simple. Its compatible. Its well understood. Its going to really be
> > needed for MESSAGE, probably other things. Let us take the simple route
and
> > add it.
>
> While I have no problem in adding this, we need to ensure that the spec
> is
> clear on what to do if both Contact and Reply-To are present along with
> R-R headers.  In creating a Route set, the Reply-To will take
> precedence,
> I presume.
>
> - vijay
> --
> Vijay K. Gurbani  vkg@{lucent.com,research.bell-labs.com,acm.org}
> Internet Software/IN Architecture Group
> Lucent Technologies/Bell Labs Innovations 263 Shuman Blvd., Rm 1A-413
> Naperville, Illinois 60566     Voice: +1 630 224 0216   Fax: +1 630 713
> 0184
>
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
>


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Fri Dec  7 09:15:41 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id JAA20658
	for <sip-archive@odin.ietf.org>; Fri, 7 Dec 2001 09:15:41 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id JAA27084
	for sip-archive@odin.ietf.org; Fri, 7 Dec 2001 09:15:42 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id IAA25998;
	Fri, 7 Dec 2001 08:47:11 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id IAA25967
	for <sip@optimus.ietf.org>; Fri, 7 Dec 2001 08:47:09 -0500 (EST)
Received: from penguin-ext.wise.edt.ericsson.se (penguin-ext.wise.edt.ericsson.se [194.237.142.110])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id IAA20295
	for <sip@ietf.org>; Fri, 7 Dec 2001 08:47:05 -0500 (EST)
Received: from esealnt406.al.sw.ericsson.se (ESEALNT406.al.sw.ericsson.se [153.88.251.29])
	by penguin.wise.edt.ericsson.se (8.11.0/8.11.0/WIREfire-1.3) with SMTP id fB7Dl6f23956
	for <sip@ietf.org>; Fri, 7 Dec 2001 14:47:06 +0100 (MET)
Received: FROM esealnt400.al.sw.ericsson.se BY esealnt406.al.sw.ericsson.se ; Fri Dec 07 14:46:50 2001 +0100
Received: by esealnt400 with Internet Mail Service (5.5.2653.19)
	id <YHKQDP1C>; Fri, 7 Dec 2001 14:47:03 +0100
Message-ID: <29F33B0CF787D51195FC0002A56B3DC114212D@efijont103>
From: "Vesa Torvinen (LMF)" <Vesa.Torvinen@lmf.ericsson.se>
To: "'Michael Thomas'" <mat@cisco.com>, sip@ietf.org
Subject: Thomas versus 3GPP SIP security requirements (was: [Sip] SIP secu
	rity requirements (this might mean you!))
Date: Fri, 7 Dec 2001 14:46:46 +0100 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

Hi Michael, 

You asked authors of different SIP drafts to compare their current security expectations with your SIP security requirement document. I have been analysing your work (draft-thomas-sip-sec-framework-00.txt and draft-thomas-sip-sec-req-00.txt) and 3GPP security requirements (e.g. draft-garcia-sipping-3gpp-reqs-02.txt) for some time, so I decided to write a comparison between them. Maybe this piece of work will make your task of capturing all possible requirements a little easier. 

Vesa 

--------------

SIP Security Requirement Comparison: Thomas versus 3GPP

Vesa Torvinen
Ericsson 

Abstract 

This paper discusses SIP security requirements. It takes the requirement analysis presented by Thomas (2001b) as a starting point and uses 3GPP IMS architecture to test them. The paper concludes that the current 3GPP architecture seems to support directly or indirectly most of the requirements presented by Thomas. In general, 3GPP IMS architecture is able to verify security requirements at some SIP interfaces (i.e. UA-to-first-hop-proxy, End-to-end and Non-adjacent-proxy-to-proxy interface), but more data on different system environments are needed in order to complete the requirement analysis. For example, more data on different SIP use scenarios on End-to-end, UA-to-Intermediate-proxy, Adjacent-proxy-to-proxy and Non-adjacent-proxy-to-proxy interfaces are needed. There are also some requirements which are important for 3GPP but which are not included in Thomas's requirement document. Requirements that are related to optimization, negotiation and delegation are among them. 

1. Introduction 

SIP Security work is currently re-emerging in IETF. Some SIP security related frameworks and general solutions has been published recently (e.g. Thomas 2001a, Schulzrinne 2001). Also some discussion on SIP security requirements has taken place in different SIP mailing lists, as well as in different documents (e.g. Thomas 2001b, Garcia et al. 2001). 

This paper discusses the general SIP security requirements. It takes Thomas (2001b) work as a starting point and compares its requirements with 3GPP SIP security requirements (Garcia et al. 2001). The content of the documents is taken as given, and the comparison is done at rather general level leaving some details uncovered. The aim is to test and validate Thomas's requirements and also to identify areas, which has not been covered by Thomas from 3GPP perspective and visa versa. Similar comparisons, which use some other environments as references, should be done in order to get more feedback for SIP security requirement work. 

In order to avoid potential misunderstanding, some characteristics of 3GPP SIP security requirements must be clarified. Firstly, 3GPP requirements have been written for 3GPP UMTS Release 5 which includes so-called 'IP Multimedia Subsystem' (IMS). The requirements represent the first version of a system architecture, which applies SIP. If some security features are not included in these requirements, it does not conclude that such a security feature would not be needed for SIP. It only means, that such a feature is not needed for 3GPP UMTS Release 5. If something is included, it means that 3GPP honestly believes that such a feature is needed in order to implement UMTS Release 5. Other SIP environments or future UMTS releases may include additional requirements for SIP security. Secondly, 3GPP requirements reflect evolutionary approach from mobile operators' perspective. For example, 3GPP wants to use the authentication tokens already implemented in wireless telecommunication !
networks for SIP. Thirdly, SIP will have a more important role in the future of wireless services in general when the old signaling protocols are replaced by SIP. At that stage, it will be even more important that SIP is able to serve the needs of existing and future mobile operators. 

It is also important to understand that IETF has quite different perspective on SIP security than 3GPP. Firstly, SIP is a protocol, which has already existed some time. It means that there already are SIP implementations and that the backward compatibility is an important issue for these implementations. Secondly, IETF must take into account several environments in which SIP is applied - not just 3GPP. Security solutions should be general enough to fulfill all (or most of) the needs there exist. Furthermore, other HTTP like protocols, which follow similar design principles and use similar message structure, should be taken into account. Finally, decisions taken today will have a long-term effect because features standardized today will be features for which the backward compatibility must be provided tomorrow. Furthermore, interoperability between different SIP environments should be ensured. 

This paper proceeds as follows. The next chapter starts the comparison between Thomas's and 3GPP requirements focusing on the proxy routed message interfaces. Chapter 3 continues the comparison by taking a look at the general SIP security requirements. Chapter 4 draws some conclusions. 

2. Proxy Routed Message Interfaces 

Thomas (2001b) discusses SIP security requirements at quite general level. He analyses various threats that may occur while deploying SIP. The requirement analysis is done using a proxy routed INVITE as a test case. The context of the analysis is a generalized SIP environment, i.e. the so-called 'SIP Jack in the Box' (SIP JITB). SIP JITB is an extended SIP trapezoid. In a normal SIP trapezoid, there are only four entities: UAC, UAS and two intermediate proxies. SIP JITB includes one additional proxy in order to cover more message interfaces, e.g. the one in which a proxy is not directly known to either of the UAs. 

In SIP JITB, Thomas discusses five message interfaces: 

(1) UA-to-first-hop-proxy interface 
(2) UA-to-Intermediate-proxy interface
(3) End-to-end interface 
(4) Adjacent-proxy-to-proxy interface
(5) Non-adjacent-proxy-to-proxy interface 

With all these interfaces Thomas discusses the security requirements related to authentication, confidentiality, message integrity and freshness proofs, and authorization. Requirements related to redirect and registration services are regarded equal to the ones of the UA/Proxy interfaces, however, this statement is incomplete in our opinion. Thomas should have regarded them also as equal to the End-to-end interface because redirect and registration services are able to act as servers, not just proxies. The Non-adjacent-proxy-to-proxy interface is included just to complete the analysis and Thomas does not consider it as a valid requirement interface. 

In some sense, 3GPP IMS share security requirements within all the interfaces presented by Thomas. Some of the interfaces are weakly recognized, however, all of them are present to some degree. 

The most visible 3GPP requirements are related to the UA-to-first-hop-proxy interface (1) probably because this hop includes the air interface. In general, UAs and the first hop proxies are always assumed to belong to different trust domains. 3GPP requires solutions for confidentiality protection, message integrity protection and message freshness proof over this interface. Authentication and authorization are not directly required even though the proxy receives indirect information on the authentication/authorization status from the home network, and the proxy is assumed to make some decisions about the authorization status of the incoming and outgoing messages. 

It must be noted that UA-to-first-hop-proxy interface covers also the terminating SIP messages, i.e. last-hop-proxy-to-UA traffic. 3GPP requirements cover the both ends. 

Another well recognized interface in 3GPP is the End-to-end interface (3). However, this does not include INVITEs and other messages between end-user devices. 3GPP is currently interested in the communication between the UA and the Registrar. The security requirement for this interface is mutual authentication. However, this does not mean that other security services would be despised. There is an inherent assumption in 3GPP requirements that the system architecture will take care of the rest, i.e. confidentiality, message integrity, replay protection and authorization. For example, both the first hop proxy and the registrar are assumed to be located in relatively safe communication networks, and the messaging between these networks is based on roaming agreements. Furthermore, there are fixed security gateways between the networks. On the other hand, two end-users are assumed to be able to trust on their service providers and consequently the need for end-to-end mutual authe!
ntication between the end users is not considered as a high priority security service. 

3GPP IMS architecture includes also a trust boundary in Non-adjacent-proxy-to-proxy interface (5). There are two non-adjacent proxies (i.e. the first hop proxy and the Registrar acting in the role of proxy), which share a very distinctive trust relationship. Registrar and the first hop proxy need to agree at the time of registration that the first hop proxy will protect the messaging between the UA and itself. UA and its Registrar(s) always belong to the same trust domain and all UA originated (and terminated) messages must be routed via the Registrar. The first hop proxy is assumed to belong to a different trust domain than UA and Registrar. The trust between the domains is based on roaming agreement and the use of security gateways, however, the Registrar still needs to delegate a short-term security association to the first hop proxy based on its own long-term security association with the UA. When the UA sends an INVITE, for example, it is protected in the first hop usin!
g the delegated association. When the Registrar (now acting as a proxy) receives the INVITE, it trusts that the first hop proxy has not forwarded any unauthorized messages to it. It also trusts that the security gateways between the networks filter all other unauthorized messages. Even though 3GPP does not directly require any SIP specific protection for the Non-adjacent-proxy-to-proxy interface (5), it assumes that there exists a delegation mechanism in this interface. 

Currently, 3GPP does not recognize the UA-to-Intermediate-proxy interface (2). However, there has been some recent discussion whether the trust relationship between the first hop proxy and the Registrar is secure enough from Registrar's perspective. There is a possibility that the first hop proxy or UA may cheat the Registrar. It is possible that Registrar should be able to confirm that all INVITEs really originate form the claimed UA, and this could constitute some security requirements for the UA-to-Intermediate-proxy interface. 

Adjacent-proxy-to-proxy interface (6) is assumed to be fulfilled by 3GPP IMS architectural structure instead of SIP security. 3GPP assumes security between proxies but does not require it for SIP because it uses some other means like security gateways. However, the interface would be valid for 3GPP if these means didn't exist. 

3. Requirements 

In addition to proxy routed message interfaces, Thomas presents a list of concrete requirements. From 3GPP perspective, the Thomas's requirements can be classified in four groups. The first group includes those requirements, which are directly supported by 3GPP UMTS Release 5. The second group includes those requirements which are also needed but which may require further clarification and, in some cases, supplementary details in order to satisfy all 3GPP needs. The third group composes those requirements which are important for SIP in general, but which are not currently required by 3GPP UMTS Release 5. This is the group of requirements which are probably important for 3GPP in the future, but which have not been properly discussed in 3GPP. Finally, there are requirements which are important for 3GPP but which are either missing or not been stressed enough in current document. In this chapter, I shortly describe all of these groups. 

3.1 Requirements supported by 3GPP UMTS Release 5 

3GPP UMTS Release 5 directly support the requirements presented in the list below. These requirements are not further discussed in this document even though people may have different interpretation of their full meaning. 3GPP seems to support the further clarification of these requirements. 

- "Authentication -- the recipient of a SIP message MUST be able to demand authentication from the initiator. There MUST be mechanisms, which provide for end to end authentication as well as authentication to intermediate proxies." (Thomas 2001b)

- "Mutual Authentication -- a SIP host, which is challenged to authenticate itself to another SIP host, MUST be able to demand mutual authentication. [XXX/mat: is it worth while considering the case where a client wants the server to authenticate itself, but the server doesn't care, ala TLS/Web?]" (Thomas 2001b)

- "Privacy -- SIP Messages MUST be able to be transported confidentially hop by hop. SIP MUST also provide a means of transporting portions of SIP messages that are not required for hop-by-hop processing privately between arbitrary SIP nodes in the proxy routed path." (Thomas 2001b)

- "Replay protection -- Both hop by hop solutions and point to intermediate proxy routed point MUST be able to detect replays and reject them. It MUST NOT be possible for a snooper to replay a sequence of bits which is not detectable." (Thomas 2001b)

- "Transport -- A SIP host MUST be able to transport entire SIP messages securely (eg, private, replay proof, integrity checked...) for TCP and UDP. SCTP SHOULD be supported as well." (Thomas 2001b)

- "Support secret key authentication -- the solution MUST provide a means of using direct peer to peer secret key authentication as well as privacy and message integrity checking. The solution MUST allow either initially or in the future centralized secret key based authentication schemes like Kerberos and AAA." (Thomas 2001b)

- "The solution SHOULD consider the sizes of messages, and SHOULD provide a mechanism to first compress any encrypted portions of messages." (Thomas 2001b)

3.2 Requirements which need further clarification from 3GPP perspective 

Thomas presents two requirements which are interesting from 3GPP perspective but which need further clarification or maybe even supplementary details in order to fulfill 3GPP needs. These requirements are: 

- "The solution SHOULD allow for multiple different authentication schemes to be added in time (eg, PKI-based, Kerberos based, AAA, etc). The solution MUST provide a solution for direct pre-shared keys." (Thomas 2001b)

- "The solution SHOULD consider the cost of any public key operations which are used, and the sizes of authentication credentials. If deemed necessary, the solution SHOULD provide a means of caching the state of "expensive" credentials which are amortized over subsequent messaging using less expensive mechanisms." (Thomas 2001b)

3GPP authentication model is rather exceptional if compared with current SIP philosophy. Firstly, it assumes the use of legacy authentication method. The authentication method is based on symmetric cryptography, and it utilizes removable, tamper-resistant subscriber identity modules (SIMs) for terminal equipment. Symmetric keys are stored on these security devices. Secondly, it intends to minimize the communication between SIP and AAA infrastructure, and consequently authenticates the SIP users only periodically. The legacy authentication method is able to generate session keys, and these keys can be used to protect all messages until a new user authentication is required. 

Thomas's requirements above suggest the use of different authentication schemes but it is not exactly clear whether it is possible for 3GPP to use one of its own. Thomas also suggests that the solution should have a feature in which the expensive and less expensive security mechanisms can be used. 3GPP would probably want to extend this to symmetric methods as well in order to protect the subsequent messaging in between the periodical authentication. 

3.3 Requirements that are not currently needed for 3GPP UMTS Release 5 

The following requirements are not currently needed for 3GPP UMTS Release 5. However, some of these requirements may be needed in some other SIP environments or in future 3GPP UMTS releases. Furthermore, Release 5 requirements have not been completed which proposes that 3GPP opinion on these requirements may also change. Anyway, these requirements are not in conflict with 3GPP. 

- "Considering the difficulty of deploying strong cryptographic based solutions, the solution MUST provide a means to prevent source spoofing attacks which does not rely on strong authentication, and SHOULD provide authentication security on the order guessing a large number in the absense of active snooping. This solution MUST be mandatory to execute when strong authentication is not available." (Thomas 2001b)

- "Proxied authentication -- an intermediate SIP node MUST be able to assert identity for user agents which are be used in addition or in lieu of user agent credentials. These identities MUST have the ability to be support strong cryptographic authentication." (Thomas 2001b)

- "Support for public key authentication -- the solution MUST provide a means either initially or in the future to use public key based authentication, either using direct public keys, or using public key infrastructures. It MUST also provide a means leveraging authentication to provide strong crypto based integrity and privacy.  (PKI's)." (Thomas 2001b)

- "Guard against hostile MITM -- In situations where traffic is routed through possibly untrusted intermediaries (proxies), the solution MUST provide a means of transporting sensitive headers integrity protected as well as private to their ultimate destination. The solution MUST NOT try to protect against attacks which are inherent to routing itself." (Thomas 2001b)

- "The solution SHOULD allow for the transport of 3rd party authentication/authorization tokens for use in conjunction with other protocols. (eg, DCS state blobs, OSP tokens, etc)" (Thomas 2001b)

- "The solution MUST consider denial of service attacks, and in particular MUST consider the ramifications of CPU and storage attacks from unauthenticated sources against SIP nodes. The solution MAY consider denial of service attacks by authenticated, but otherwise rogue nodes." (Thomas 2001b)

3.4 3GPP requirements that are not present 

3GPP has some general requirements, which are not present in Thomas's document or which have not been stressed enough. These requirements are: 

- "All security mechanisms that involve 3GPP terminals should minimize the number of necessary extra roundtrips. In particular, during normal call signaling there should not be any additional security related messages." (Garcia et al. 2001) 

People with different background may have different interpretation what the roundtrip minimization requirement really means. For 3GPP, it means that communication between the SIP entities should be cut down in the air interface as well as in the fixed network. The number of users is assumed to be so high that all possible must be done to save the network resources. This requirement includes all network layers: SIP, transport, and IP. 

- "A method for secure negotiation of security must be provided, to negotiate the security services to be used in the access domain." (Garcia et al. 2001)  

3GPP wants to guarantee future upgrades to new security solutions in a secure manner, e.g. due to algorithm compromise or the availability of some general protocols in all devices. For this reason, 3GPP requires secure negotiation of security solutions between SIP entities. Currently, this negotiation is supposed to be done between UA and the fist hop proxy, however, there is a change that more SIP entities could be involved in the negotiation (see a proposed solution in Arkko et al. 2001). 

- "The SIP serving proxy that performed the initial authentication must be able to securely delegate subsequent SIP signaling protection (e.g. session keys for integrity or encryption) to an authorized SIP proxy further downstream." (Garcia et al. 2001) 

As described before, the current 3GPP security architecture needs a mechanism to delegate security tasks in Non-adjacent-proxy-to-proxy interface. Note that this feature would not have any negative influence on interoperability between various SIP networks even if it were specified as 3GPP specific feature. Delegation and key transfer is done only within 3GPP networks. SIP terminals do not necessarily have to be aware of the delegation. 

4. Conclusions 

In this paper, I have gone through Thomas (2001b) SIP security requirements and compared them with 3GPP SIP security requirements (Garcia et al. 2001). 

On proxy routed message interfaces, 3GPP IMS architecture seems to cover quite many security requirements at UA-to-first-hop-proxy interface. 3GPP architecture also includes requirements at End-to-end interface when one communicating SIP entity takes the role of Registrar. 3GPP architecture has also some interesting characteristics for Non-adjacent-proxy-to-proxy interface which would benefit the SIP security requirement work. Security requirements for UA-to-Intermediate-proxy and Adjacent-proxy-to-proxy interfaces are not currently developed enough to really benefit the requirement analysis. Naturally, this may change in the future because 3GPP SIP security requirements are not fully static yet. 

In general, quite many of Thomas's requirements are supported by 3GPP architecture. There are some requirements, which may need further clarification and supplementary details in order to fulfill all 3GPP needs. There are no conflicting requirements even though there probably exist different interpretations on what the requirements mean in practice and which solutions fulfill them. There are also some 3GPP requirements, which are not included in Thomas's requirements. These requirements should be further discussed in IETF. 

References 

Arkko, J., Torvinen, V., Haukka, T., Sen, S. & Varelius, L. (2001) Security Mechanism Agreement for SIP Connections, Work in progress, IETF Internet-Drafts, draft-arkko-sip-sec-agree-00.txt.

Garcia, M., Mills, D., Bajko, G., Mayer, G., Derome, F., Shieh, H., Allen, A., Chotai, S., Drage, K., Bharatia, J., Hobbis, K. & Willis, D. (2001) 3GPP requirements on SIP, Internet Draft, Internet Engineering Task Force, November 2001, Work in progress. 

Schulzrinne, H. (2001) A Minimalist Security Framework for SIP, Internet Draft, Internet Engineering Task Force, November 2001, Work in progress. 

Thomas, M. (2001a) SIP Security Framework, Internet Draft, Internet Engineering Task Force, July 2001, Work in progress. 

Thomas, M. (2001b) SIP Security Requirements, Internet Draft, Internet Engineering Task Force, November 2001, Work in progress. 

> -----Original Message-----
> From: Michael Thomas [mailto:mat@cisco.com]
> Sent: 27. marraskuuta 2001 23:56
> To: sip@ietf.org
> Subject: [Sip] SIP security requirements (this might mean you!)
> 
> 
> 
> As promised, I separated out the requirements from
> the framework I hacked up for the last meeting,
> and they're currently available in
> draft-thomas-sip-sec-req-00.txt. Not a whole lot
> has changed here: I've mainly tried to capture
> the comments from our ad hoc meeting, and flesh
> out the requirements I had before.
> 
> So here's my dark confession: I can't keep up with
> the vast expanse of this working group's
> in-progress and proposed extensions to determine
> whether the set of requirements I've already come
> up with are necessary and sufficient. I've mainly
> paid attention to 2543bis and a few other drafts
> which I'm familiar, like the privacy draft. It is
> quite possible that any assumptions and hopes for
> SIP security that are being made in other drafts
> -- and I sure hope that their security
> considerations sections enumerate all of them --
> are not well accounted for in these requirements.
> 
> Therefore, it would be really, really helpful if
> the authors of these drafts helped out here by
> comparing their expectations for security with
> what is being claimed as requirements in the
> draft. Henning's questions on REFER security are
> exactly the kind of input that is needed to test
> to see if we're missing things -- either
> specifics, or general trends. If you all don't
> help out, you're probably going to be faced with
> the prospect of my limited understanding of many
> of these drafts, aided by their perfect security
> considerations section, filling in the blanks.
> This should probably not give you comfort.
> 
> 	 Mike
> 
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
> 

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Fri Dec  7 10:32:25 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id KAA22073
	for <sip-archive@odin.ietf.org>; Fri, 7 Dec 2001 10:32:25 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id KAA29662
	for sip-archive@odin.ietf.org; Fri, 7 Dec 2001 10:32:26 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id KAA28721;
	Fri, 7 Dec 2001 10:06:13 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id KAA28624
	for <sip@optimus.ietf.org>; Fri, 7 Dec 2001 10:06:06 -0500 (EST)
Received: from albatross-ext.wise.edt.ericsson.se (albatross-ext.wise.edt.ericsson.se [194.237.142.116])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id KAA21497
	for <sip@ietf.org>; Fri, 7 Dec 2001 10:06:03 -0500 (EST)
Received: from esealnt462.al.sw.ericsson.se (ESEALNT462.al.sw.ericsson.se [153.88.251.62])
	by albatross.wise.edt.ericsson.se (8.11.0/8.11.0/WIREfire-1.3) with SMTP id fB7F65u04746
	for <sip@ietf.org>; Fri, 7 Dec 2001 16:06:05 +0100 (MET)
Received: FROM esealnt400.al.sw.ericsson.se BY esealnt462.al.sw.ericsson.se ; Fri Dec 07 16:05:46 2001 +0100
Received: by esealnt400 with Internet Mail Service (5.5.2653.19)
	id <YHKQDVG6>; Fri, 7 Dec 2001 16:06:00 +0100
Message-ID: <29F33B0CF787D51195FC0002A56B3DC1142131@efijont103>
From: "Vesa Torvinen (LMF)" <Vesa.Torvinen@lmf.ericsson.se>
To: "'Scott  Bradner'" <sob@harvard.edu>
Cc: "'Michael Thomas'" <mat@cisco.com>, "'sip@ietf.org'" <sip@ietf.org>
Subject: Re: Thomas versus 3GPP SIP security requirements (was: [Sip] SIP 
	secu rity requirements (this might mean you!))
Date: Fri, 7 Dec 2001 16:05:45 +0100 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

Sorry, Scott! 

I hope this version is easier to read. 

Vesa 

> -----Original Message-----
> From: Scott Bradner [mailto:sob@harvard.edu]
> 
> can you resend this with line wrap on - this is very hard to read

-----Original Message-----

Hi Michael, 

You asked authors of different SIP drafts to compare their current security 
expectations with your SIP security requirement document. I have been analysing 
your work (draft-thomas-sip-sec-framework-00.txt and draft-thomas-sip-sec-req-
00.txt) and 3GPP security requirements (e.g. draft-garcia-sipping-3gpp-reqs-
02.txt) for some time, so I decided to write a comparison between them. Maybe 
this piece of work will make your task of capturing all possible requirements a 
little easier. 

Vesa 

--------------

SIP Security Requirement Comparison: Thomas versus 3GPP
Vesa Torvinen
Ericsson 

Abstract 

This paper discusses SIP security requirements. It takes the requirement 
analysis presented by Thomas (2001b) as a starting point and uses 3GPP IMS 
architecture to validate them. The paper concludes that the current 3GPP 
architecture seems to support directly or indirectly most of the requirements 
presented by Thomas. In general, 3GPP IMS architecture is able to verify 
security requirements at some SIP interfaces (i.e. UA-to-first-hop-proxy, End-
to-end and Non-adjacent-proxy-to-proxy interface), but more data on different 
system environments are needed in order to complete the requirement analysis. 
For example, more data on different SIP use scenarios on End-to-end, UA-to-
Intermediate-proxy, Adjacent-proxy-to-proxy and Non-adjacent-proxy-to-proxy 
interfaces are needed. There are also some requirements which are important for 
3GPP but which are not included in Thomas's requirement document. Requirements 
that are related to optimization, negotiation and delegation are among them. 

1. Introduction 

SIP Security work is currently re-emerging in IETF. Some SIP security related 
frameworks and general solutions has been published recently (e.g. Thomas 2001a, 
Schulzrinne 2001). Also some discussion on SIP security requirements has taken 
place in different SIP mailing lists, as well as in different documents (e.g. 
Thomas 2001b, Garcia et al. 2001). 

This paper discusses the general SIP security requirements. It takes Thomas 
(2001b) work as a starting point and compares its requirements with 3GPP SIP 
security requirements (Garcia et al. 2001). The content of the documents is 
taken as given, and the comparison is done at rather general level leaving some 
details uncovered. The aim is to test and validate Thomas's requirements and 
also to identify areas, which has not been covered by Thomas from 3GPP 
perspective and visa versa. Similar comparisons, which use some other 
environments as references, should be done in order to get more feedback for SIP 
security requirement work. 

In order to avoid potential misunderstanding, some characteristics of 3GPP SIP 
security requirements must be clarified. Firstly, 3GPP requirements have been 
written for 3GPP UMTS Release 5 which includes so-called 'IP Multimedia 
Subsystem' (IMS). The requirements represent the first version of a system 
architecture, which applies SIP. If some security features are not included in 
these requirements, it does not conclude that such a security feature would not 
be needed for SIP. It only means, that such a feature is not needed for 3GPP 
UMTS Release 5. If something is included, it means that 3GPP honestly believes 
that such a feature is needed in order to implement UMTS Release 5. Other SIP 
environments or future UMTS releases may include additional requirements for SIP 
security. Secondly, 3GPP requirements reflect evolutionary approach from mobile 
operators' perspective. For example, 3GPP wants to use the authentication tokens 
already implemented in wireless telecommunication networks for SIP. Thirdly, SIP 
will have a more important role in the future of wireless services in general 
when the old signaling protocols are replaced by SIP. At that stage, it will be 
even more important that SIP is able to serve the needs of existing and future 
mobile operators. 

It is also important to understand that IETF has quite different perspective on 
SIP security than 3GPP. Firstly, SIP is a protocol, which has already existed 
some time. It means that there already are SIP implementations and that the 
backward compatibility is an important issue for these implementations. 
Secondly, IETF must take into account several environments in which SIP is 
applied - not just 3GPP. Security solutions should be general enough to fulfill 
all (or most of) the needs there exist. Furthermore, other HTTP like protocols, 
which follow similar design principles and use similar message structure, should 
be taken into account. Finally, decisions taken today will have a long-term 
effect because features standardized today will be features for which the 
backward compatibility must be provided tomorrow. Furthermore, interoperability 
between different SIP environments should be ensured. 

This paper proceeds as follows. The next chapter starts the comparison between 
Thomas's and 3GPP requirements focusing on the proxy routed message interfaces. 
Chapter 3 continues the comparison by taking a look at the general SIP security 
requirements. Chapter 4 draws some conclusions. 

2. Proxy Routed Message Interfaces 

Thomas (2001b) discusses SIP security requirements at quite general level. He 
analyses various threats that may occur while deploying SIP. The requirement 
analysis is done using a proxy routed INVITE as a test case. The context of the 
analysis is a generalized SIP environment, i.e. the so-called 'SIP Jack in the 
Box' (SIP JITB). SIP JITB is an extended SIP trapezoid. In a normal SIP 
trapezoid, there are only four entities: UAC, UAS and two intermediate proxies. 
SIP JITB includes one additional proxy in order to cover more message 
interfaces, e.g. the one in which a proxy is not directly known to either of the 
UAs. 

In SIP JITB, Thomas discusses five message interfaces: 

(1) UA-to-first-hop-proxy interface 
(2) UA-to-Intermediate-proxy interface
(3) End-to-end interface 
(4) Adjacent-proxy-to-proxy interface
(5) Non-adjacent-proxy-to-proxy interface 

With all these interfaces Thomas discusses the security requirements related to 
authentication, confidentiality, message integrity and freshness proofs, and 
authorization. Requirements related to redirect and registration services are 
regarded equal to the ones of the UA/Proxy interfaces, however, this statement 
is incomplete in our opinion. Thomas should have regarded them also as equal to 
the End-to-end interface because redirect and registration services are able to 
act as servers, not just proxies. The Non-adjacent-proxy-to-proxy interface is 
included just to complete the analysis and Thomas does not consider it as a 
valid requirement interface. 

In some sense, 3GPP IMS share security requirements within all the interfaces 
presented by Thomas. Some of the interfaces are weakly recognized, however, all 
of them are present to some degree. 

The most visible 3GPP requirements are related to the UA-to-first-hop-proxy 
interface (1) probably because this hop includes the air interface. In general, 
UAs and the first hop proxies are always assumed to belong to different trust 
domains. 3GPP requires solutions for confidentiality protection, message 
integrity protection and message freshness proof over this interface. 
Authentication and authorization are not directly required even though the proxy 
receives indirect information on the authentication/authorization status from 
the home network, and the proxy is assumed to make some decisions about the 
authorization status of the incoming and outgoing messages. 

It must be noted that UA-to-first-hop-proxy interface covers also the 
terminating SIP messages, i.e. last-hop-proxy-to-UA traffic. 3GPP requirements 
cover the both ends. 

Another well recognized interface in 3GPP is the End-to-end interface (3). 
However, this does not include INVITEs and other messages between end-user 
devices. 3GPP is currently interested in the communication between the UA and 
the Registrar. The security requirement for this interface is mutual 
authentication. However, this does not mean that other security services would 
be despised. There is an inherent assumption in 3GPP requirements that the 
system architecture will take care of the rest, i.e. confidentiality, message 
integrity, replay protection and authorization. For example, both the first hop 
proxy and the registrar are assumed to be located in relatively safe 
communication networks, and the messaging between these networks is based on 
roaming agreements. Furthermore, there are fixed security gateways between the 
networks. On the other hand, two end-users are assumed to be able to trust on 
their service providers and consequently the need for end-to-end mutual 
authentication between the end users is not considered as a high priority 
security service. 

3GPP IMS architecture includes also a trust boundary in Non-adjacent-proxy-to-
proxy interface (5). There are two non-adjacent proxies (i.e. the first hop 
proxy and the Registrar acting in the role of proxy), which share a very 
distinctive trust relationship. Registrar and the first hop proxy need to agree 
at the time of registration that the first hop proxy will protect the messaging 
between the UA and itself. UA and its Registrar(s) always belong to the same 
trust domain and all UA originated (and terminated) messages must be routed via 
the Registrar. The first hop proxy is assumed to belong to a different trust 
domain than UA and Registrar. The trust between the domains is based on roaming 
agreement and the use of security gateways, however, the Registrar still needs 
to delegate a short-term security association to the first hop proxy based on 
its own long-term security association with the UA. When the UA sends an INVITE, 
for example, it is protected in the first hop using the delegated association. 
When the Registrar (now acting as a proxy) receives the INVITE, it trusts that 
the first hop proxy has not forwarded any unauthorized messages to it. It also 
trusts that the security gateways between the networks filter all other 
unauthorized messages. Even though 3GPP does not directly require any SIP 
specific protection for the Non-adjacent-proxy-to-proxy interface (5), it 
assumes that there exists a delegation mechanism in this interface. 

Currently, 3GPP does not recognize the UA-to-Intermediate-proxy interface (2). 
However, there has been some recent discussion whether the trust relationship 
between the first hop proxy and the Registrar is secure enough from Registrar's 
perspective. There is a possibility that the first hop proxy or UA may cheat the 
Registrar. It is possible that Registrar should be able to confirm that all 
INVITEs really originate form the claimed UA, and this could constitute some 
security requirements for the UA-to-Intermediate-proxy interface. 

Adjacent-proxy-to-proxy interface (6) is assumed to be fulfilled by 3GPP IMS 
architectural structure instead of SIP security. 3GPP assumes security between 
proxies but does not require it for SIP because it uses some other means like 
security gateways. However, the interface would be valid for 3GPP if these means 
didn't exist. 

3. Requirements 

In addition to proxy routed message interfaces, Thomas presents a list of 
concrete requirements. From 3GPP perspective, the Thomas's requirements can be 
classified in four groups. The first group includes those requirements, which 
are directly supported by 3GPP UMTS Release 5. The second group includes those 
requirements which are also needed but which may require further clarification 
and, in some cases, supplementary details in order to satisfy all 3GPP needs. 
The third group composes those requirements which are important for SIP in 
general, but which are not currently required by 3GPP UMTS Release 5. This is 
the group of requirements which are probably important for 3GPP in the future, 
but which have not been properly discussed in 3GPP. Finally, there are 
requirements which are important for 3GPP but which are either missing or not 
been stressed enough in current document. In this chapter, I shortly describe 
all of these groups. 

3.1 Requirements supported by 3GPP UMTS Release 5 

3GPP UMTS Release 5 directly support the requirements presented in the list 
below. These requirements are not further discussed in this document even though 
people may have different interpretation of their full meaning. 3GPP seems to 
support the further clarification of these requirements. 

- "Authentication -- the recipient of a SIP message MUST be able to demand 
authentication from the initiator. There MUST be mechanisms, which provide for 
end to end authentication as well as authentication to intermediate proxies." 
(Thomas 2001b)

- "Mutual Authentication -- a SIP host, which is challenged to authenticate 
itself to another SIP host, MUST be able to demand mutual authentication. 
[XXX/mat: is it worth while considering the case where a client wants the server 
to authenticate itself, but the server doesn't care, ala TLS/Web?]" (Thomas 
2001b)

- "Privacy -- SIP Messages MUST be able to be transported confidentially hop by 
hop. SIP MUST also provide a means of transporting portions of SIP messages that 
are not required for hop-by-hop processing privately between arbitrary SIP nodes 
in the proxy routed path." (Thomas 2001b)

- "Replay protection -- Both hop by hop solutions and point to intermediate 
proxy routed point MUST be able to detect replays and reject them. It MUST NOT 
be possible for a snooper to replay a sequence of bits which is not detectable." 
(Thomas 2001b)

- "Transport -- A SIP host MUST be able to transport entire SIP messages 
securely (eg, private, replay proof, integrity checked...) for TCP and UDP. SCTP 
SHOULD be supported as well." (Thomas 2001b)

- "Support secret key authentication -- the solution MUST provide a means of 
using direct peer to peer secret key authentication as well as privacy and 
message integrity checking. The solution MUST allow either initially or in the 
future centralized secret key based authentication schemes like Kerberos and 
AAA." (Thomas 2001b)

- "The solution SHOULD consider the sizes of messages, and SHOULD provide a 
mechanism to first compress any encrypted portions of messages." (Thomas 2001b)

3.2 Requirements which need further clarification from 3GPP perspective 

Thomas presents two requirements which are interesting from 3GPP perspective but 
which need further clarification or maybe even supplementary details in order to 
fulfill 3GPP needs. These requirements are: 

- "The solution SHOULD allow for multiple different authentication schemes to be 
added in time (eg, PKI-based, Kerberos based, AAA, etc). The solution MUST 
provide a solution for direct pre-shared keys." (Thomas 2001b)

- "The solution SHOULD consider the cost of any public key operations which are 
used, and the sizes of authentication credentials. If deemed necessary, the 
solution SHOULD provide a means of caching the state of "expensive" credentials 
which are amortized over subsequent messaging using less expensive mechanisms." 
(Thomas 2001b)

3GPP authentication model is rather exceptional if compared with current SIP 
philosophy. Firstly, it assumes the use of legacy authentication method. The 
authentication method is based on symmetric cryptography, and it utilizes 
removable, tamper-resistant subscriber identity modules (SIMs) for terminal 
equipment. Symmetric keys are stored on these security devices. Secondly, it 
intends to minimize the communication between SIP and AAA infrastructure, and 
consequently authenticates the SIP users only periodically. The legacy 
authentication method is able to generate session keys, and these keys can be 
used to protect all messages until a new user authentication is required. 

Thomas's requirements above suggest the use of different authentication schemes 
but it is not exactly clear whether it is possible for 3GPP to use one of its 
own. Thomas also suggests that the solution should have a feature in which the 
expensive and less expensive security mechanisms can be used. 3GPP would 
probably want to extend this to symmetric methods as well in order to protect 
the subsequent messaging in between the periodical authentication. 

3.3 Requirements that are not currently needed for 3GPP UMTS Release 5 

The following requirements are not currently needed for 3GPP UMTS Release 5. 
However, some of these requirements may be needed in some other SIP environments 
or in future 3GPP UMTS releases. Furthermore, Release 5 requirements have not 
been completed which proposes that 3GPP opinion on these requirements may also 
change. Anyway, these requirements are not in conflict with 3GPP. 

- "Considering the difficulty of deploying strong cryptographic based solutions, 
the solution MUST provide a means to prevent source spoofing attacks which does 
not rely on strong authentication, and SHOULD provide authentication security on 
the order guessing a large number in the absense of active snooping. This 
solution MUST be mandatory to execute when strong authentication is not 
available." (Thomas 2001b)

- "Proxied authentication -- an intermediate SIP node MUST be able to assert 
identity for user agents which are be used in addition or in lieu of user agent 
credentials. These identities MUST have the ability to be support strong 
cryptographic authentication." (Thomas 2001b)

- "Support for public key authentication -- the solution MUST provide a means 
either initially or in the future to use public key based authentication, either 
using direct public keys, or using public key infrastructures. It MUST also 
provide a means leveraging authentication to provide strong crypto based 
integrity and privacy.  (PKI's)." (Thomas 2001b)

- "Guard against hostile MITM -- In situations where traffic is routed through 
possibly untrusted intermediaries (proxies), the solution MUST provide a means 
of transporting sensitive headers integrity protected as well as private to 
their ultimate destination. The solution MUST NOT try to protect against attacks 
which are inherent to routing itself." (Thomas 2001b)

- "The solution SHOULD allow for the transport of 3rd party 
authentication/authorization tokens for use in conjunction with other protocols. 
(eg, DCS state blobs, OSP tokens, etc)" (Thomas 2001b)

- "The solution MUST consider denial of service attacks, and in particular MUST 
consider the ramifications of CPU and storage attacks from unauthenticated 
sources against SIP nodes. The solution MAY consider denial of service attacks 
by authenticated, but otherwise rogue nodes." (Thomas 2001b)

3.4 3GPP requirements that are not present 

3GPP has some general requirements, which are not present in Thomas's document 
or which have not been stressed enough. These requirements are: 

- "All security mechanisms that involve 3GPP terminals should minimize the 
number of necessary extra roundtrips. In particular, during normal call 
signaling there should not be any additional security related messages." (Garcia 
et al. 2001) 

People with different background may have different interpretation what the 
roundtrip minimization requirement really means. For 3GPP, it means that 
communication between the SIP entities should be cut down in the air interface 
as well as in the fixed network. The number of users is assumed to be so high 
that all possible must be done to save the network resources. This requirement 
includes all network layers: SIP, transport, and IP. 

- "A method for secure negotiation of security must be provided, to negotiate 
the security services to be used in the access domain." (Garcia et al. 2001)  

3GPP wants to guarantee future upgrades to new security solutions in a secure 
manner, e.g. due to algorithm compromise or the availability of some general 
protocols in all devices. For this reason, 3GPP requires secure negotiation of 
security solutions between SIP entities. Currently, this negotiation is supposed 
to be done between UA and the fist hop proxy, however, there is a change that 
more SIP entities could be involved in the negotiation (see a proposed solution 
in Arkko et al. 2001). 

- "The SIP serving proxy that performed the initial authentication must be able 
to securely delegate subsequent SIP signaling protection (e.g. session keys for 
integrity or encryption) to an authorized SIP proxy further downstream." (Garcia 
et al. 2001) 

As described before, the current 3GPP security architecture needs a mechanism to 
delegate security tasks in Non-adjacent-proxy-to-proxy interface. Note that this 
feature would not have any negative influence on interoperability between 
various SIP networks even if it were specified as 3GPP specific feature. 
Delegation and key transfer is done only within 3GPP networks. SIP terminals do 
not necessarily have to be aware of the delegation. 

4. Conclusions 

In this paper, I have gone through Thomas (2001b) SIP security requirements and 
compared them with 3GPP SIP security requirements (Garcia et al. 2001). 

On proxy routed message interfaces, 3GPP IMS architecture seems to cover quite 
many security requirements at UA-to-first-hop-proxy interface. 3GPP architecture 
also includes requirements at End-to-end interface when one communicating SIP 
entity takes the role of Registrar. 3GPP architecture has also some interesting 
characteristics for Non-adjacent-proxy-to-proxy interface which would benefit 
the SIP security requirement work. Security requirements for UA-to-Intermediate-
proxy and Adjacent-proxy-to-proxy interfaces are not currently developed enough 
to really benefit the requirement analysis. Naturally, this may change in the 
future because 3GPP SIP security requirements are not fully static yet. 

In general, quite many of Thomas's requirements are supported by 3GPP 
architecture. There are some requirements, which may need further clarification 
and supplementary details in order to fulfill all 3GPP needs. There are no 
conflicting requirements even though there probably exist different 
interpretations on what the requirements mean in practice and which solutions 
fulfill them. There are also some 3GPP requirements, which are not included in 
Thomas's requirements. These requirements should be further discussed in IETF. 

References 

Arkko, J., Torvinen, V., Haukka, T., Sen, S. & Varelius, L. (2001) Security 
Mechanism Agreement for SIP Connections, Work in progress, IETF Internet-Drafts, 
draft-arkko-sip-sec-agree-00.txt.

Garcia, M., Mills, D., Bajko, G., Mayer, G., Derome, F., Shieh, H., Allen, A., 
Chotai, S., Drage, K., Bharatia, J., Hobbis, K. & Willis, D. (2001) 3GPP 
requirements on SIP, Internet Draft, Internet Engineering Task Force, November 
2001, Work in progress. 

Schulzrinne, H. (2001) A Minimalist Security Framework for SIP, Internet Draft, 
Internet Engineering Task Force, November 2001, Work in progress. 

Thomas, M. (2001a) SIP Security Framework, Internet Draft, Internet Engineering 
Task Force, July 2001, Work in progress. 

Thomas, M. (2001b) SIP Security Requirements, Internet Draft, Internet 
Engineering Task Force, November 2001, Work in progress. 



> -----Original Message-----
> From: Michael Thomas [mailto:mat@cisco.com]
> Sent: 27. marraskuuta 2001 23:56
> To: sip@ietf.org
> Subject: [Sip] SIP security requirements (this might mean you!)
> 
> 
> 
> As promised, I separated out the requirements from
> the framework I hacked up for the last meeting,
> and they're currently available in
> draft-thomas-sip-sec-req-00.txt. Not a whole lot
> has changed here: I've mainly tried to capture
> the comments from our ad hoc meeting, and flesh
> out the requirements I had before.
> 
> So here's my dark confession: I can't keep up with
> the vast expanse of this working group's
> in-progress and proposed extensions to determine
> whether the set of requirements I've already come
> up with are necessary and sufficient. I've mainly
> paid attention to 2543bis and a few other drafts
> which I'm familiar, like the privacy draft. It is
> quite possible that any assumptions and hopes for
> SIP security that are being made in other drafts
> -- and I sure hope that their security
> considerations sections enumerate all of them --
> are not well accounted for in these requirements.
> 
> Therefore, it would be really, really helpful if
> the authors of these drafts helped out here by
> comparing their expectations for security with
> what is being claimed as requirements in the
> draft. Henning's questions on REFER security are
> exactly the kind of input that is needed to test
> to see if we're missing things -- either
> specifics, or general trends. If you all don't
> help out, you're probably going to be faced with
> the prospect of my limited understanding of many
> of these drafts, aided by their perfect security
> considerations section, filling in the blanks.
> This should probably not give you comfort.
> 
> 	 Mike


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Fri Dec  7 10:39:41 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id KAA22281
	for <sip-archive@odin.ietf.org>; Fri, 7 Dec 2001 10:39:41 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id KAA29864
	for sip-archive@odin.ietf.org; Fri, 7 Dec 2001 10:39:43 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id KAA29177;
	Fri, 7 Dec 2001 10:26:34 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id KAA29148
	for <sip@optimus.ietf.org>; Fri, 7 Dec 2001 10:26:31 -0500 (EST)
Received: from albatross-ext.wise.edt.ericsson.se (albatross-ext.wise.edt.ericsson.se [194.237.142.116])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id KAA21897
	for <sip@ietf.org>; Fri, 7 Dec 2001 10:26:28 -0500 (EST)
Received: from madrid.ericsson.se (madrid.es.eu.ericsson.se [164.48.87.150])
	by albatross.wise.edt.ericsson.se (8.11.0/8.11.0/WIREfire-1.3) with SMTP id fB7FQPu25377;
	Fri, 7 Dec 2001 16:26:25 +0100 (MET)
Received: from lmf.ericsson.se by madrid.ericsson.se (SMI-8.6/SMI-SVR4)
	id QAA07863; Fri, 7 Dec 2001 16:26:15 +0100
Message-ID: <3C10DFCC.3876BF94@lmf.ericsson.se>
Date: Fri, 07 Dec 2001 17:27:08 +0200
From: Christer Holmberg <christer.holmberg@lmf.ericsson.se>
X-Mailer: Mozilla 4.61 [en] (WinNT; I)
X-Accept-Language: en
MIME-Version: 1.0
To: Anoop_Tripathi@3com.com
CC: Jonathan Rosenberg <jdrosen@dynamicsoft.com>,
        "'sip@ietf.org'" <sip@ietf.org>
Subject: Re: [Sip] Open Issue #150: too many ways of saying "don't send me media"
References: <OF613F583F.E703390F-ON86256B1A.0053F975@3com.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit


Hi Anoop,

>We have deployments in multi-vendor environment where all vendors are using
>c=0.0.0.0 to say "don't send me media". Is there any particular reason we
>want to deprecate this mechanism except for "since there are too many".

The reason I don't like the 0.0.0.0 mechanism is because it is IPv4
specific. I want to have a mechanism I can use for IPv6, ATM,
whatever...

Regards,

Christer Holmberg
Ericsson Finland



> 
> Our recommendation would be to continue supporting it. I don't think it
> would be any big overhead for any implementation to support this. Our
> recommendation is:
> 
> c=0.0.0.0          ALLOWED
> a=inactive,sendly  PREFERRED
> zero port:         disables media stream
> bw=0               DONT USE
> 
> Thanks,
> 
> Anoop Tripathi
> 
> CommWorks Corporation
> A 3Com Company
> 
> Jonathan Rosenberg <jdrosen@dynamicsoft.com>@ietf.org on 12/05/2001
> 11:41:19 PM
> 
> Sent by:  sip-admin@ietf.org
> 
> To:   "'sip @ietf.org'" <sip@ietf.org>
> cc:
> Subject:  [Sip] Open Issue #150: too many ways of saying "don't send me
>       media"
> 
> Issue:
> 
> There are a bunch of ways to say "don't send me media":
> 
> c=0.0.0.0
> a=inactive,sendonly
> zero port
> bw=0
> 
> What do these all mean, and do we need them all?
> 
> Discussion: We've agreed on most of this already. The only real issue is to
> say that bw=0 is never used. So, the proposal is:
> 
> c=0.0.0.0          DEPRECATED
> a=inactive,sendly  PREFERRED
> zero port:         disables media stream
> bw=0               DONT USE
> 
> -Jonathan R.
> ---
> Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
> Chief Scientist                             First Floor
> dynamicsoft                                 East Hanover, NJ 07936
> jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
> http://www.jdrosen.net                      PHONE: (973) 952-5000
> http://www.dynamicsoft.com
> 
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
> 
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Fri Dec  7 11:45:06 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id LAA23962
	for <sip-archive@odin.ietf.org>; Fri, 7 Dec 2001 11:45:05 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id LAA01898
	for sip-archive@odin.ietf.org; Fri, 7 Dec 2001 11:45:08 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id LAA01156;
	Fri, 7 Dec 2001 11:28:40 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id LAA01022
	for <sip@optimus.ietf.org>; Fri, 7 Dec 2001 11:28:33 -0500 (EST)
Received: from imo-r08.mx.aol.com (imo-r08.mx.aol.com [152.163.225.104])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id LAA23591
	for <sip@ietf.org>; Fri, 7 Dec 2001 11:28:30 -0500 (EST)
From: Mpierce1@aol.com
Received: from Mpierce1@aol.com
	by imo-r08.mx.aol.com (mail_out_v31_r1.9.) id l.12b.8b0127a (3936)
	 for <sip@ietf.org>; Fri, 7 Dec 2001 11:28:25 -0500 (EST)
Message-ID: <12b.8b0127a.29424828@aol.com>
Date: Fri, 7 Dec 2001 11:28:24 EST
Subject: Re: [Sip] Major Open Issue #113: Overlapping Transactions
To: sip@ietf.org
MIME-Version: 1.0
Content-Type: text/plain; charset="US-ASCII"
Content-Transfer-Encoding: 7bit
X-Mailer: AOL 5.0 for Windows sub 42
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

In a message dated 12/6/01 4:18:52 PM Eastern Standard Time, 
MChiou@Santera.com writes:

> I vote for no Overlapping for INVITEs. SIP is an IP protocol. People
>  usually input digits then hit the send button. If the user hit the send
>  button too early, it is a incomplete address call. It is the same
>  approach as the wireless network. For 3G release 5 using SIP, I cannot
>  image supporting overlapping, which will tie up the air resources during
>  call setup.
>   
In the cellular world, true, you had to hit the send only after entering the 
whole number. In the PSTN, not true, the network got each digit separate.

Some would argue that the next generation of phones (IP) should work just 
like the old, "black" rotary dial phones. That argument hampered some of the 
ISDN standardization and certainly hampered the transition from rotary dial 
to DTMF in the US.

I believe it would be appropriate for the IP environment (SIP devices) to 
require that the user enter the whole number and then hit "send". We've all 
learned to deal with that dialing procedure for celluler. Certainly, 3G 
should not support dialing.

Whether this eliminates the need for overlapping INVITEs - I don't know. 
There may be other uses, such as the description in 
draft-ietf-sip-overlap-01, which is a different issue.

Mike Pierce

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Fri Dec  7 12:57:28 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA26064
	for <sip-archive@odin.ietf.org>; Fri, 7 Dec 2001 12:57:28 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id MAA04839
	for sip-archive@odin.ietf.org; Fri, 7 Dec 2001 12:57:29 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA04176;
	Fri, 7 Dec 2001 12:36:02 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA04148
	for <sip@optimus.ietf.org>; Fri, 7 Dec 2001 12:36:00 -0500 (EST)
Received: from june.Broomfield1.level3.net (june.Broomfield1.Level3.net [209.245.18.7])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA25404
	for <sip@ietf.org>; Fri, 7 Dec 2001 12:35:58 -0500 (EST)
From: John.Hearty@Level3.com
Received: from f1ee40-19.idc1.level3.com (hme0.f1ee40-19.idc1.oss.level3.com [10.1.144.204])
	by june.Broomfield1.level3.net (8.9.3/8.9.3) with ESMTP id RAA09984;
	Fri, 7 Dec 2001 17:35:09 GMT
Received: from n0195idc1.oss.level3.com (localhost [127.0.0.1])
	by f1ee40-19.idc1.level3.com (8.8.8+Sun/8.8.8) with ESMTP id RAA10734;
	Fri, 7 Dec 2001 17:35:51 GMT
Received: by n0195idc1.oss.level3.com with Internet Mail Service (5.5.2653.19)
	id <YKJG108L>; Fri, 7 Dec 2001 10:35:50 -0700
Message-ID: <17052388D394D411803900508BDFFAF601B37072@n0214idc1.oss.level3.com>
To: Anoop_Tripathi@3com.com
Cc: sip@ietf.org
Subject: RE: [Sip] Open Issue #150: too many ways of saying "don't send me
	 media"
Date: Fri, 7 Dec 2001 10:35:49 -0700 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org


 I believe one of the drivers for depreciating c=0.0.0.0 as a method of
putting streams on hold was that the RTCP was no longer sent to the original
address.

John Hearty
Level3

-----Original Message-----
From: Christer Holmberg [mailto:christer.holmberg@lmf.ericsson.se]
Sent: Friday, December 07, 2001 8:27 AM
To: Anoop_Tripathi@3com.com
Cc: Jonathan Rosenberg; 'sip@ietf.org'
Subject: Re: [Sip] Open Issue #150: too many ways of saying "don't send
me media"



Hi Anoop,

>We have deployments in multi-vendor environment where all vendors are using
>c=0.0.0.0 to say "don't send me media". Is there any particular reason we
>want to deprecate this mechanism except for "since there are too many".

The reason I don't like the 0.0.0.0 mechanism is because it is IPv4
specific. I want to have a mechanism I can use for IPv6, ATM,
whatever...

Regards,

Christer Holmberg
Ericsson Finland



> 
> Our recommendation would be to continue supporting it. I don't think it
> would be any big overhead for any implementation to support this. Our
> recommendation is:
> 
> c=0.0.0.0          ALLOWED
> a=inactive,sendly  PREFERRED
> zero port:         disables media stream
> bw=0               DONT USE
> 
> Thanks,
> 
> Anoop Tripathi
> 
> CommWorks Corporation
> A 3Com Company
> 
> Jonathan Rosenberg <jdrosen@dynamicsoft.com>@ietf.org on 12/05/2001
> 11:41:19 PM
> 
> Sent by:  sip-admin@ietf.org
> 
> To:   "'sip @ietf.org'" <sip@ietf.org>
> cc:
> Subject:  [Sip] Open Issue #150: too many ways of saying "don't send me
>       media"
> 
> Issue:
> 
> There are a bunch of ways to say "don't send me media":
> 
> c=0.0.0.0
> a=inactive,sendonly
> zero port
> bw=0
> 
> What do these all mean, and do we need them all?
> 
> Discussion: We've agreed on most of this already. The only real issue is
to
> say that bw=0 is never used. So, the proposal is:
> 
> c=0.0.0.0          DEPRECATED
> a=inactive,sendly  PREFERRED
> zero port:         disables media stream
> bw=0               DONT USE
> 
> -Jonathan R.
> ---
> Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
> Chief Scientist                             First Floor
> dynamicsoft                                 East Hanover, NJ 07936
> jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
> http://www.jdrosen.net                      PHONE: (973) 952-5000
> http://www.dynamicsoft.com
> 
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
> 
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Fri Dec  7 13:03:43 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id NAA26337
	for <sip-archive@odin.ietf.org>; Fri, 7 Dec 2001 13:03:42 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id NAA05405
	for sip-archive@odin.ietf.org; Fri, 7 Dec 2001 13:03:44 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA04475;
	Fri, 7 Dec 2001 12:47:41 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA04443
	for <sip@optimus.ietf.org>; Fri, 7 Dec 2001 12:47:39 -0500 (EST)
Received: from smtp3.ev1.net (smtpout.ev1.net [207.218.192.47])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA25767
	for <sip@ietf.org>; Fri, 7 Dec 2001 12:47:37 -0500 (EST)
Received: from rioa1475 [208.187.66.173] by smtp3.ev1.net
  (SMTPD32-6.06) id A06B170009C; Fri, 07 Dec 2001 11:46:19 -0600
Message-ID: <012801c17f47$3d3e8e80$ad42bbd0@rioa1475>
Reply-To: "Mart Nurmet" <mnurmet@ev1.net>
From: "Mart Nurmet" <mnurmet@ev1.net>
To: <Mpierce1@aol.com>, <sip@ietf.org>
Cc: "Chiou, Mark" <MChiou@santera.com>
References: <12b.8b0127a.29424828@aol.com>
Subject: Re: [Sip] Major Open Issue #113: Overlapping Transactions
Date: Fri, 7 Dec 2001 11:47:26 -0600
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 5.00.2919.6600
X-MimeOLE: Produced By Microsoft MimeOLE V5.00.2919.6600
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Mike:

Overlap dialing was appropriate for dial pulse signaling to hold the trunk.
This was done away with once MF (Multi Frequency) signaling to be used [it
was not allowed then].  Then the end office collected all the digits and
determined the end of signaling by timing the digit reception or receipt of
the # sign.  Then the end office, forwarded the full string.  Overlap
dialing could possibly be still found on dial pulse trunks but it would hard
to find that anywhere else. In the SIP world that is a fuction that should
not be needed.

- Mart

----- Original Message -----
From: <Mpierce1@aol.com>
To: <sip@ietf.org>
Sent: Friday, December 07, 2001 10:28 AM
Subject: Re: [Sip] Major Open Issue #113: Overlapping Transactions


> In a message dated 12/6/01 4:18:52 PM Eastern Standard Time,
> MChiou@Santera.com writes:
>
> > I vote for no Overlapping for INVITEs. SIP is an IP protocol. People
> >  usually input digits then hit the send button. If the user hit the send
> >  button too early, it is a incomplete address call. It is the same
> >  approach as the wireless network. For 3G release 5 using SIP, I cannot
> >  image supporting overlapping, which will tie up the air resources
during
> >  call setup.
> >
> In the cellular world, true, you had to hit the send only after entering
the
> whole number. In the PSTN, not true, the network got each digit separate.
>
> Some would argue that the next generation of phones (IP) should work just
> like the old, "black" rotary dial phones. That argument hampered some of
the
> ISDN standardization and certainly hampered the transition from rotary
dial
> to DTMF in the US.
>
> I believe it would be appropriate for the IP environment (SIP devices) to
> require that the user enter the whole number and then hit "send". We've
all
> learned to deal with that dialing procedure for celluler. Certainly, 3G
> should not support dialing.
>
> Whether this eliminates the need for overlapping INVITEs - I don't know.
> There may be other uses, such as the description in
> draft-ietf-sip-overlap-01, which is a different issue.
>
> Mike Pierce
>
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
>


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Fri Dec  7 13:11:55 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id NAA26524
	for <sip-archive@odin.ietf.org>; Fri, 7 Dec 2001 13:11:55 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id NAA05654
	for sip-archive@odin.ietf.org; Fri, 7 Dec 2001 13:11:56 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA04752;
	Fri, 7 Dec 2001 12:55:56 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA04720
	for <sip@optimus.ietf.org>; Fri, 7 Dec 2001 12:55:51 -0500 (EST)
Received: from rtp-msg-core-1.cisco.com (rtp-msg-core-1.cisco.com [161.44.11.97])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA26024
	for <sip@ietf.org>; Fri, 7 Dec 2001 12:55:49 -0500 (EST)
Received: from dingdong.cisco.com (dingdong.cisco.com [64.102.17.16])
	by rtp-msg-core-1.cisco.com (8.11.3/8.9.1) with ESMTP id fB7HtPc26468;
	Fri, 7 Dec 2001 12:55:25 -0500 (EST)
Received: from cisco.com (rtp-xdm2.cisco.com [64.102.17.79])
	by dingdong.cisco.com (Mirapoint)
	with ESMTP id AGV09737 (AUTH shbhatna);
	Fri, 7 Dec 2001 12:55:18 -0500 (EST)
Message-ID: <3C110286.F9DF3073@cisco.com>
Date: Fri, 07 Dec 2001 12:55:18 -0500
From: Shail Bhatnagar <shbhatna@cisco.com>
X-Mailer: Mozilla 4.51C-CISCOENG [en] (X11; U; SunOS 5.6 sun4u)
X-Accept-Language: en
MIME-Version: 1.0
To: brett@broadsoft.com
CC: sip@ietf.org
Subject: Re: [Sip] Open Issue #178: Deprecate absolute times absolutely: SPEAK UP 
 IF YOU USE THEM IN YOUR PRODUCT!!!!!!!!!!
References: <002b01c17ef2$40bb80e0$2b01a8c0@broadsoft.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Our registrar also uses GMT format in 200 response
to REGISTER.


Brett Tate wrote:
> 
> > Issue:
> >
> > The Expires header and expires param in the Contact header allow for
> > absolute times expressed in GMT. The problem with using
> > absolute times in
> > the messages is that they require clock synchronization
> > between the two
> > elements. This may or may not exist, and will be an interop
> > issue if the
> > timing is significantly off (say, by an hour, which happens
> > frequently). A
> > solution is to include the Date in a request whenever you include an
> > absolute time. This means the recipient computes the
> > difference between the
> > expiration and the Date header, and uses that as a relative time. Why
> > bother? Why not simply use ONLY relative times?
> >
> > Discussion points:
> >
> > We made the decision to remove absolute time from the session timer
> > extension. This issue was raised when we did that. Its a
> > no-brainer except
> > for interop. If there are people sending absolute times, we
> > cannot simply
> > remove it. Therefore, the proposal depends on whether someone
> > confesses to
> > sending requests with absolute times:
> >
> > PROPOSAL A:
> >   * Remove absolute times entirely from the specification
> >
> > PROPOSAL B:
> >   * Elements MUST NOT send messages with absolute times in Expires or
> > ;expires, but they MUST be prepared to receive requests with
> > absolute times
> > in those headers, for backwards compatibility
> >
> > If we can do A, we should. So, speak up NOW if you use
> > absolute times!!!
> 
> Sorry.  Some of our registrar deployments
> pass absolute times in the ";expires"
> of the REGISTER 200 response's Contact.
> 
> However PROPOSAL A still sounds good
> since we'd also like to completely remove
> the support of absolute times within SIP.
> (Upgrades or patches for our registrar
> could be supplied when appropriate.)
> 
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Fri Dec  7 14:36:49 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id OAA28594
	for <sip-archive@odin.ietf.org>; Fri, 7 Dec 2001 14:36:49 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id OAA10000
	for sip-archive@odin.ietf.org; Fri, 7 Dec 2001 14:36:51 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id OAA09084;
	Fri, 7 Dec 2001 14:22:46 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id OAA09053
	for <sip@optimus.ietf.org>; Fri, 7 Dec 2001 14:22:44 -0500 (EST)
Received: from june.Broomfield1.level3.net (june.Broomfield1.Level3.net [209.245.18.7])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id OAA28317
	for <sip@ietf.org>; Fri, 7 Dec 2001 14:22:40 -0500 (EST)
From: John.Hearty@Level3.com
Received: from f1ee40-19.idc1.level3.com (hme0.f1ee40-19.idc1.oss.level3.com [10.1.144.204])
	by june.Broomfield1.level3.net (8.9.3/8.9.3) with ESMTP id TAA15185;
	Fri, 7 Dec 2001 19:22:36 GMT
Received: from n0195idc1.oss.level3.com (localhost [127.0.0.1])
	by f1ee40-19.idc1.level3.com (8.8.8+Sun/8.8.8) with ESMTP id TAA00343;
	Fri, 7 Dec 2001 19:22:41 GMT
Received: by n0195idc1.oss.level3.com with Internet Mail Service (5.5.2653.19)
	id <YKJGF23C>; Fri, 7 Dec 2001 12:22:40 -0700
Message-ID: <17052388D394D411803900508BDFFAF601B37074@n0214idc1.oss.level3.com>
To: mnurmet@ev1.net, Mpierce1@aol.com, sip@ietf.org
Cc: MChiou@santera.com
Subject: RE: [Sip] Major Open Issue #113: Overlapping Transactions
Date: Fri, 7 Dec 2001 12:22:36 -0700 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

I'm in favor of avoiding overlap dialing.  However, before it is ruled out
completely, bear in mind it may still be used in Europe.  They support SAM
messages in ETSI ISUP.  I'm not familiar with how prevalent its use is
though.  We don't want to decide something that may cause problems with ETSI
ISUP gateway interop.

John Hearty
Level3

-----Original Message-----
From: Mart Nurmet [mailto:mnurmet@ev1.net]
Sent: Friday, December 07, 2001 10:47 AM
To: Mpierce1@aol.com; sip@ietf.org
Cc: Chiou, Mark
Subject: Re: [Sip] Major Open Issue #113: Overlapping Transactions


Mike:

Overlap dialing was appropriate for dial pulse signaling to hold the trunk.
This was done away with once MF (Multi Frequency) signaling to be used [it
was not allowed then].  Then the end office collected all the digits and
determined the end of signaling by timing the digit reception or receipt of
the # sign.  Then the end office, forwarded the full string.  Overlap
dialing could possibly be still found on dial pulse trunks but it would hard
to find that anywhere else. In the SIP world that is a fuction that should
not be needed.

- Mart

----- Original Message -----
From: <Mpierce1@aol.com>
To: <sip@ietf.org>
Sent: Friday, December 07, 2001 10:28 AM
Subject: Re: [Sip] Major Open Issue #113: Overlapping Transactions


> In a message dated 12/6/01 4:18:52 PM Eastern Standard Time,
> MChiou@Santera.com writes:
>
> > I vote for no Overlapping for INVITEs. SIP is an IP protocol. People
> >  usually input digits then hit the send button. If the user hit the send
> >  button too early, it is a incomplete address call. It is the same
> >  approach as the wireless network. For 3G release 5 using SIP, I cannot
> >  image supporting overlapping, which will tie up the air resources
during
> >  call setup.
> >
> In the cellular world, true, you had to hit the send only after entering
the
> whole number. In the PSTN, not true, the network got each digit separate.
>
> Some would argue that the next generation of phones (IP) should work just
> like the old, "black" rotary dial phones. That argument hampered some of
the
> ISDN standardization and certainly hampered the transition from rotary
dial
> to DTMF in the US.
>
> I believe it would be appropriate for the IP environment (SIP devices) to
> require that the user enter the whole number and then hit "send". We've
all
> learned to deal with that dialing procedure for celluler. Certainly, 3G
> should not support dialing.
>
> Whether this eliminates the need for overlapping INVITEs - I don't know.
> There may be other uses, such as the description in
> draft-ietf-sip-overlap-01, which is a different issue.
>
> Mike Pierce
>
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
>


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Fri Dec  7 14:36:56 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id OAA28608
	for <sip-archive@odin.ietf.org>; Fri, 7 Dec 2001 14:36:55 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id OAA10014
	for sip-archive@odin.ietf.org; Fri, 7 Dec 2001 14:36:58 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id OAA09259;
	Fri, 7 Dec 2001 14:28:03 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id OAA09228
	for <sip@optimus.ietf.org>; Fri, 7 Dec 2001 14:28:00 -0500 (EST)
Received: from sj-msg-core-4.cisco.com (sj-msg-core-4.cisco.com [171.71.163.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id OAA28443
	for <sip@ietf.org>; Fri, 7 Dec 2001 14:27:57 -0500 (EST)
Received: from mira-sjc5-7.cisco.com (mira-sjc5-7.cisco.com [171.71.163.27])
	by sj-msg-core-4.cisco.com (8.11.3/8.9.1) with ESMTP id fB7JRS926861
	for <sip@ietf.org>; Fri, 7 Dec 2001 11:27:28 -0800 (PST)
Received: from thomasm-u1.cisco.com (thomasm-u1.cisco.com [128.107.140.53])
	by mira-sjc5-7.cisco.com (Mirapoint)
	with ESMTP id AAL99790;
	Fri, 7 Dec 2001 11:26:29 -0800 (PST)
Received: (thomasm@localhost) by thomasm-u1.cisco.com (8.8.8-Cisco List Logging/CISCO.WS.1.2) id LAA01500; Fri, 7 Dec 2001 11:27:03 -0800 (PST)
From: Michael Thomas <mat@cisco.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <15377.6151.117561.514615@thomasm-u1.cisco.com>
Date: Fri, 7 Dec 2001 11:27:03 -0800 (PST)
To: sip@ietf.org
X-Mailer: VM 6.72 under 21.1 (patch 6) "Big Bend" XEmacs Lucid
X-Face: &,heK/V66p?[2!i|tVn,9lN0TUvEv7:9FzXREj/AuzN4m<D]vnFJ>u!4x[/Z4t{V}~L]+Sk
 @RFNnJEg~WZ/(8<`5a),-7ukALWa^&?&D2R0CSG3kO5~#6JxLF\d,g">$%B!0w{W)qIhmwhye104zd
 bUcI'1!
Content-Transfer-Encoding: 7bit
Subject: [Sip] a couple of comments on henning's security draft
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit


1) Your numbers on digital signatures are off by about
   an order of magnitude. If you're looking at RSA-512,
   its been deprecated since it's been cracked.

2) Nobody wants active third parties to be involved
   in authentication, but nobody's managed to do that.
   Any large-scale PKI will result in revocation
   servers unless the certificate lifetimes are
   set sufficiently short in which case you must 
   contend with the enrollment issue (not to
   mention scaling)

3) Anybody who thinks that the current web is an
   example of a widespread PKI is deluded. Clients
   almost never have certs, and while some servers
   do, web browsers don't do anything useful with
   them; eg, there's no correlation with content.

4) With SIP, unlike the web, it is almost certain
   to be the case that client identification is
   the primary problem. See comment #2.

5) Mixing the word "minimalist" with SMIME gives
   me the hives

6) The cost of public key signatures for proxies
   on each message will probably be prohibitive;
   see (1).

7) I don't understand why we need to consider
   anything but SIP itself. This sound like a
   good way to start an ocean boiling contest.

8) I don't understand why you downplay encryption.
   We already have to contend with keys carried in
   SDP.

9) Can this contend with multiple different
   authentication realms/request? Ie, my first hop
   proxy to my SP, and them my corporate proxy so
   I can get at my voice mail?

10) I think it's a general mistake to declare that
    one kind of authentication is going to win, or
    make many assumptions about that. *None* is
    the current state of affairs including the
    web, so picking the PKI/CA model is very
    suspect, and probably won't meet the needs
    of many existing auth schemes.

11) Ephemeral keys may very well be a good
    idea. This is primarily the security that TLS 
    on the web is doing today

12) I think that any security solution for SIP
    needs to consider the any-any problem, much
    like MIP WG is right now. You brought up a basic
    return routability test last time, and I think
    that something like that should be the
    absolute minimum where we can't do better.

	     Mike

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Fri Dec  7 15:25:30 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA29429
	for <sip-archive@odin.ietf.org>; Fri, 7 Dec 2001 15:25:29 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id PAA11646
	for sip-archive@odin.ietf.org; Fri, 7 Dec 2001 15:25:32 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id PAA11183;
	Fri, 7 Dec 2001 15:11:47 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id PAA11154
	for <sip@optimus.ietf.org>; Fri, 7 Dec 2001 15:11:45 -0500 (EST)
Received: from mail1.dynamicsoft.com (mail1.dynamicsoft.com [63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA29197
	for <sip@ietf.org>; Fri, 7 Dec 2001 15:11:41 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fB7K9h4I029771
	for <sip@ietf.org>; Fri, 7 Dec 2001 15:09:43 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <YAN9Z1JA>; Fri, 7 Dec 2001 15:11:13 -0500
Message-ID: <B65B4F8437968F488A01A940B21982BF02EF57FF@DYN-EXCH-001.dynamicsoft.com>
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: "'sip@ietf.org'" <sip@ietf.org>
Date: Fri, 7 Dec 2001 15:11:08 -0500 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Subject: [Sip] FW: [Simple] Alginment of sip-events and watcherinfo
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org



---
Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
Chief Scientist                             First Floor
dynamicsoft                                 East Hanover, NJ 07936
jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
http://www.jdrosen.net                      PHONE: (973) 952-5000
http://www.dynamicsoft.com
 

-----Original Message-----
From: Jonathan Rosenberg [mailto:jdrosen@dynamicsoft.com]
Sent: Friday, December 07, 2001 2:51 PM
To: 'simple@mailman.dynamicsoft.com'
Cc: 'sip@ietf.oeg'
Subject: [Simple] Alginment of sip-events and watcherinfo


(resend; first attempt seemed to have been garbled)


I'm cc'ing SIMPLE since this is a joint issue that affects both the
watcherinfo work and sip-events. Also, sip-events is a sip work item, not
sipping, so I am changing the list to sip.
 

> -----Original Message-----
> From: Fairlie-Cuninghame, Robert [mailto:rfairlie@nuera.com]
> Sent: Wednesday, November 28, 2001 2:00 PM
> To: 'Brian Stucker'; Jonathan Rosenberg; 'Bert Culpepper';
> adam.roach@ericsson.com
> Cc: sipping@ietf.org
> Subject: RE: [Sipping] Immediate NOTIFIES change in sip-events-01
> 
> 
> This sounds like a good suggestion to me Brian.
> 
> I would like to suggest the watherinfo reason codes are 
> expanded a little.
> For instance, the watcherinfo assumes that the pending states 
> is waiting for
> authorization. It could however be pending while waiting for 
> the subscribed
> object to become active (note: I am not referring to the 
> subscribed Event
> package here). This sort of behavior may be typical/useful 
> when you are
> trying to subscribe to an event that has not started yet (and 
> yet you desire
> to have the subscription in place _before_ the event begins). 

OK, but in this case, the subscription itself is not pending, its the state
of the object that is effectively "TBD". This should be reflected in the
presence document delivered in the first NOTIFY, not in the state of the
subscription, IMHO.


> I also think
> the rejection/termination reasons could be expanded a little more.

Suggestions?


Brian Stucker wrote:
> 
> I can't see much use in including the 
> event field since
> (presumably) the watcher will know what event triggered the 
> NOTIFY, and if
> they can't, they can use watcherinfo to get it.

No, these are not events of the presentity, they are events of the
subscription. These events correspond quite closely to the "reason"
parameters Adam has currently specified. In fact, for the rejecttion events,
here is the mapping:

sip-events      watcherinfo
----------      -----------
migration  <->   deactivated
maint      <->    ?
refused    <->   rejected
timeout    <->   expired
 ?         <->   timeout

Clearly, these should be aligned, and should be present in both the
SUbscription-Expires and the watcherinfo format. 

Its not clear to me what the semantics of maint are; should the client retry
after some period? Presuming we can define it conciesely, we should add it
to the watcherinfo package. 

So, here would be my proposal for the unified set:

deactivated: subscription is terminated, but client SHOULD retry immediately
with a new subscription. This handles migration plus other cases
potentially.

probation: subscription is terminated; but client SHOULD retry at some later
time (we could include a Retry-After header in the case of presence in the
Subscription-Expires header)

rejected: subscription terminated due to change in authorization policy.
Retrying will not help.

timeout: subscription terminated because it was not refreshed. 

giveup: could not obtain authorization in a timely fashion, and so the
pending subscription is being terminated. The client can retry and will
likely get put back into pending state.

THanks,
Jonathan R.

---
Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
Chief Scientist                             First Floor
dynamicsoft                                 East Hanover, NJ 07936
jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
http://www.jdrosen.net                      PHONE: (973) 952-5000
http://www.dynamicsoft.com
 
_______________________________________________
simple mailing list
simple@mailman.dynamicsoft.com
http://mailman.dynamicsoft.com/mailman/listinfo/simple

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Fri Dec  7 15:30:08 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA29496
	for <sip-archive@odin.ietf.org>; Fri, 7 Dec 2001 15:30:08 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id PAA11867
	for sip-archive@odin.ietf.org; Fri, 7 Dec 2001 15:30:10 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id PAA11378;
	Fri, 7 Dec 2001 15:17:26 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id PAA11349
	for <sip@optimus.ietf.org>; Fri, 7 Dec 2001 15:17:24 -0500 (EST)
Received: from ihemail1.firewall.lucent.com (ihemail1.lucent.com [192.11.222.161])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA29285
	for <sip@ietf.org>; Fri, 7 Dec 2001 15:17:20 -0500 (EST)
Received: from uk0006exch001h.wins.lucent.com (h135-86-160-150.lucent.com [135.86.160.150])
	by ihemail1.firewall.lucent.com (Switch-2.1.3/Switch-2.1.0) with ESMTP id fB7KHMK06758
	for <sip@ietf.org>; Fri, 7 Dec 2001 15:17:22 -0500 (EST)
Received: by uk0006exch001h.uk.lucent.com with Internet Mail Service (5.5.2650.21)
	id <XK63FY62>; Fri, 7 Dec 2001 20:17:21 -0000
Message-ID: <475FF955A05DD411980D00508B6D5FB001AC34FD@en0033exch001u.uk.lucent.com>
From: "Drage, Keith (Keith)" <drage@lucent.com>
To: "'sip@ietf.org'" <sip@ietf.org>
Date: Fri, 7 Dec 2001 20:17:19 -0000 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2650.21)
Content-Type: text/plain
Subject: [Sip] bis draft: Pre-existing Route headers
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

Section 8.1.1.7 of the bis draft (lines 948 through 952) appears to be the
text that allows pre-existing Route headers to be used in the initial
transaction of a dialogue, or in a stand-alone transaction.

	"8.1.1.7 Request-URI The initial Request-URI of the message SHOULD
be set to the value of the URI in the To field. One notable exception is the
REGISTER method; behavior for setting the Request-URI of register is given
in Section 10. Another exception is the case of pre-existing Route headers;
in that case, the procedures of Section 12.2.1.1 as they pertain to the
Request- URI are followed, even though there is no dialog." 

A set of Route headers created using the Record-Route mechanism carries the
mechanism to ensure that when the route traverses a spiral, all the URLs in
the Record-Route headers are unique, and therefore that the set of Route
headers is also unique.

There should be a similar pre-condition for a set of pre-existing Route
headers. I would suggest text of the form:

	"The procedures for the creation of the Record-Route header ensure
that when a spiral is negotiated, the URLs for the set of resultant Route
headers are all unique. The mechanisms for creating a set of pre-existing
Route headers are outside the scope of this document, but such mechanisms
MUST ensure that any set of pre-existing Route headers consists only of
unique URLs even when it is intended that the route should spiral."

As to location it could possibly go with 8.1.1.7 or inserted in the text for
the Route header, with some additional introductory text.

Any comments? Is this acceptable?

Keith
Keith Drage
Lucent Technologies
Tel: +44 1793 776249
Email: drage@lucent.com

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Fri Dec  7 15:43:55 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA29677
	for <sip-archive@odin.ietf.org>; Fri, 7 Dec 2001 15:43:55 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id PAA12677
	for sip-archive@odin.ietf.org; Fri, 7 Dec 2001 15:43:57 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id PAA11791;
	Fri, 7 Dec 2001 15:29:07 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id PAA11760
	for <sip@optimus.ietf.org>; Fri, 7 Dec 2001 15:29:05 -0500 (EST)
Received: from motgate2.mot.com (motgate2.mot.com [136.182.1.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA29486
	for <sip@ietf.org>; Fri, 7 Dec 2001 15:29:01 -0500 (EST)
Received: [from pobox4.mot.com (pobox4.mot.com [10.64.251.243]) by motgate2.mot.com (motgate2 2.1) with ESMTP id NAA18742 for <sip@ietf.org>; Fri, 7 Dec 2001 13:29:03 -0700 (MST)]
Received: [from az33exi01.corp.mot.com (az33exi01.corp.mot.com [199.2.84.10]) by pobox4.mot.com (MOT-pobox4 2.0) with ESMTP id NAA29964 for <sip@ietf.org>; Fri, 7 Dec 2001 13:29:03 -0700 (MST)]
Received: by az33exi01.corp.mot.com with Internet Mail Service (5.5.2654.52)
	id <42YQT4CK>; Fri, 7 Dec 2001 13:29:02 -0700
Message-ID: <A3072CA86761D511899F009027E796D2013A92C9@az33exm04.corp.mot.com>
From: Purcell Michael-QA3001 <QA3001@motorola.com>
To: "'sip@ietf.org'" <sip@ietf.org>
Date: Fri, 7 Dec 2001 13:29:01 -0700 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2654.52)
Content-Type: text/plain;
	charset="iso-8859-1"
Subject: [Sip] Does anyone know where to get the interoperability test results
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

From bakeoff 7 or 8?

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Fri Dec  7 15:44:55 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA29694
	for <sip-archive@odin.ietf.org>; Fri, 7 Dec 2001 15:44:55 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id PAA12702
	for sip-archive@odin.ietf.org; Fri, 7 Dec 2001 15:44:58 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id PAA12271;
	Fri, 7 Dec 2001 15:34:43 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id PAA12240
	for <sip@optimus.ietf.org>; Fri, 7 Dec 2001 15:34:40 -0500 (EST)
Received: from imr1.ericy.com (imr1.ericy.com [208.237.135.240])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA29536
	for <sip@ietf.org>; Fri, 7 Dec 2001 15:34:36 -0500 (EST)
Received: from mr6.exu.ericsson.se (mr6u3.ericy.com [208.237.135.123])
	by imr1.ericy.com (8.11.3/8.11.3) with ESMTP id fB7KYBH12004;
	Fri, 7 Dec 2001 14:34:11 -0600 (CST)
Received: from newman.exu.ericsson.se (newman.exu.ericsson.se [138.85.75.179])
	by mr6.exu.ericsson.se (8.11.3/8.11.3) with ESMTP id fB7KYBC15170;
	Fri, 7 Dec 2001 14:34:11 -0600 (CST)
Received: from lmf.ericsson.se (racom160252.am.ericsson.se [138.85.160.252]) by newman.exu.ericsson.se (8.7.5/8.7.3) with ESMTP id OAA18031; Fri, 7 Dec 2001 14:34:08 -0600 (CST)
Message-ID: <3C112D8F.E987C0C8@lmf.ericsson.se>
Date: Fri, 07 Dec 2001 22:58:55 +0200
From: Gonzalo Camarillo <Gonzalo.Camarillo@lmf.ericsson.se>
X-Mailer: Mozilla 4.79 [en] (WinNT; U)
X-Accept-Language: en
MIME-Version: 1.0
To: John.Hearty@Level3.com
CC: mnurmet@ev1.net, Mpierce1@aol.com, sip@ietf.org, MChiou@santera.com
Subject: Overlap dialing WAS Re: [Sip] Major Open Issue #113: Overlapping 
 Transactions
References: <17052388D394D411803900508BDFFAF601B37074@n0214idc1.oss.level3.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Hi folks,

Please, do not side-track the mail threads with subjects like: "Open
issue #xxx". The deadline for bis is tight, and we really have to
resolve all the open issues ASAP.

I have changed the name of the thread in case somebody wants to go on
discussing about overlap dialing, which does not have anything to do
with bug#113.

Thanks,

Gonzalo



John.Hearty@Level3.com wrote:
> 
> I'm in favor of avoiding overlap dialing.  However, before it is ruled out
> completely, bear in mind it may still be used in Europe.  They support SAM
> messages in ETSI ISUP.  I'm not familiar with how prevalent its use is
> though.  We don't want to decide something that may cause problems with ETSI
> ISUP gateway interop.
> 
> John Hearty
> Level3
> 
> -----Original Message-----
> From: Mart Nurmet [mailto:mnurmet@ev1.net]
> Sent: Friday, December 07, 2001 10:47 AM
> To: Mpierce1@aol.com; sip@ietf.org
> Cc: Chiou, Mark
> Subject: Re: [Sip] Major Open Issue #113: Overlapping Transactions
> 
> Mike:
> 
> Overlap dialing was appropriate for dial pulse signaling to hold the trunk.
> This was done away with once MF (Multi Frequency) signaling to be used [it
> was not allowed then].  Then the end office collected all the digits and
> determined the end of signaling by timing the digit reception or receipt of
> the # sign.  Then the end office, forwarded the full string.  Overlap
> dialing could possibly be still found on dial pulse trunks but it would hard
> to find that anywhere else. In the SIP world that is a fuction that should
> not be needed.
> 
> - Mart
> 
> ----- Original Message -----
> From: <Mpierce1@aol.com>
> To: <sip@ietf.org>
> Sent: Friday, December 07, 2001 10:28 AM
> Subject: Re: [Sip] Major Open Issue #113: Overlapping Transactions
> 
> > In a message dated 12/6/01 4:18:52 PM Eastern Standard Time,
> > MChiou@Santera.com writes:
> >
> > > I vote for no Overlapping for INVITEs. SIP is an IP protocol. People
> > >  usually input digits then hit the send button. If the user hit the send
> > >  button too early, it is a incomplete address call. It is the same
> > >  approach as the wireless network. For 3G release 5 using SIP, I cannot
> > >  image supporting overlapping, which will tie up the air resources
> during
> > >  call setup.
> > >
> > In the cellular world, true, you had to hit the send only after entering
> the
> > whole number. In the PSTN, not true, the network got each digit separate.
> >
> > Some would argue that the next generation of phones (IP) should work just
> > like the old, "black" rotary dial phones. That argument hampered some of
> the
> > ISDN standardization and certainly hampered the transition from rotary
> dial
> > to DTMF in the US.
> >
> > I believe it would be appropriate for the IP environment (SIP devices) to
> > require that the user enter the whole number and then hit "send". We've
> all
> > learned to deal with that dialing procedure for celluler. Certainly, 3G
> > should not support dialing.
> >
> > Whether this eliminates the need for overlapping INVITEs - I don't know.
> > There may be other uses, such as the description in
> > draft-ietf-sip-overlap-01, which is a different issue.
> >
> > Mike Pierce
> >
> > _______________________________________________
> > Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> > This list is for NEW development of the core SIP Protocol
> > Use sip-implementors@cs.columbia.edu for questions on current sip
> > Use sipping@ietf.org for new developments on the application of sip
> >
> 
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
> 
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip

-- 
Gonzalo Camarillo                    Phone :   +1 212 939 71 71
Columbia University                  Mobile:  +358 40 702 35 35
472 Computer Science Building        Fax   :  +358  9 299 30 52
1214 Amsterdam Ave., Mail Code 0401  http://www.hut.fi/~gonzalo
New York, NY 10027                   
USA                              Gonzalo.Camarillo@ericsson.com

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Fri Dec  7 15:53:43 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA29835
	for <sip-archive@odin.ietf.org>; Fri, 7 Dec 2001 15:53:42 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id PAA13248
	for sip-archive@odin.ietf.org; Fri, 7 Dec 2001 15:53:45 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id PAA12534;
	Fri, 7 Dec 2001 15:41:05 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id PAA12504
	for <sip@optimus.ietf.org>; Fri, 7 Dec 2001 15:41:02 -0500 (EST)
Received: from imr2.ericy.com (imr2.ericy.com [12.34.240.68])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA29620
	for <sip@ietf.org>; Fri, 7 Dec 2001 15:40:59 -0500 (EST)
Received: from mr5.exu.ericsson.se (mr5att.ericy.com [138.85.92.13])
	by imr2.ericy.com (8.11.3/8.11.3) with ESMTP id fB7KdoY27432;
	Fri, 7 Dec 2001 14:39:50 -0600 (CST)
Received: from newman.exu.ericsson.se (newman.exu.ericsson.se [138.85.75.179])
	by mr5.exu.ericsson.se (8.11.3/8.11.3) with ESMTP id fB7KdnP09673;
	Fri, 7 Dec 2001 14:39:49 -0600 (CST)
Received: from lmf.ericsson.se (racom160252.am.ericsson.se [138.85.160.252]) by newman.exu.ericsson.se (8.7.5/8.7.3) with ESMTP id OAA18550; Fri, 7 Dec 2001 14:39:47 -0600 (CST)
Message-ID: <3C112EE2.ED82BABF@lmf.ericsson.se>
Date: Fri, 07 Dec 2001 23:04:34 +0200
From: Gonzalo Camarillo <Gonzalo.Camarillo@lmf.ericsson.se>
X-Mailer: Mozilla 4.79 [en] (WinNT; U)
X-Accept-Language: en
MIME-Version: 1.0
To: "Henning G. Schulzrinne" <hgs@cs.columbia.edu>
CC: Jonathan Rosenberg <jdrosen@dynamicsoft.com>,
        "'sip@ietf.org'" <sip@ietf.org>
Subject: Re: [Sip] Open Issue #145: SRV Processing in stateless proxies part I
References: <B65B4F8437968F488A01A940B21982BF020D713B@DYN-EXCH-001.dynamicsoft.com> <3C0FC39C.C9EE9B64@cs.columbia.edu>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Hello,

"Henning G. Schulzrinne" wrote:
> 
> Jonathan Rosenberg wrote:
> >
> > Issue:
> >
> > Processing of SRV records in stateless proxies is hard, primarily because
> > the algorithm itself relies on state. One piece of state is the random
> > selection of a server amongst a set with equal weights. Bis-05 mandates that
> > this be done based on Call-ID, so that all requests with the same call-id
> > select the same server. Turns out that this is hard to do in a stateless
> > way. One approach is to choose the random number as a hash of the Call-ID.
> > That is needed, but not sufficient. The problem is that the result of this
> > hash generates an index, 1..N, where N is the number of servers with the
> > same priority. Using this index to select a server requires that the array
> > of N servers is ordered the same for each attempt. However, DNS resolvers
> > make no guarantee about the order of the results. Thus, you would need to
> > alphabetize them, or something, to establish an order.
> 
> Not quite. If I understand the SRV description correctly, there is an
> ordering based on the weight (so that you can pick the right one). Thus,
> if the weights are not equal, the order is indeed guaranteed, as long as
> the resolver doesn't mess with the weights. For load balancing, it
> doesn't matter if the weights are 1001, 1002 and 1003 instead of 1000,
> so one could recommend that SRV entries for stateless proxies simply
> avoid equal weights. This would be just a hint, not normative.
> 

If, as Henning suggestes, we can resolve the alphabetization, the only
difference would be that a staless proxy would need to compute the
random number that is used to pick one server as a result of a hash of
some fields, whereas a stateful proxy could use any radom number
generator.

Is there much difference (regarding computational power and speed)
between computing the hash and generating a random number using a
standard random generator?

Regards,

Gonzalo

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Fri Dec  7 16:03:05 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id QAA00078
	for <sip-archive@odin.ietf.org>; Fri, 7 Dec 2001 16:03:04 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id QAA14176
	for sip-archive@odin.ietf.org; Fri, 7 Dec 2001 16:03:08 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id PAA12910;
	Fri, 7 Dec 2001 15:46:57 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id PAA12881
	for <sip@optimus.ietf.org>; Fri, 7 Dec 2001 15:46:55 -0500 (EST)
Received: from imr1.ericy.com (imr1.ericy.com [208.237.135.240])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA29724
	for <sip@ietf.org>; Fri, 7 Dec 2001 15:46:51 -0500 (EST)
Received: from mr7.exu.ericsson.se (mr7u3.ericy.com [208.237.135.122])
	by imr1.ericy.com (8.11.3/8.11.3) with ESMTP id fB7KkqH19227;
	Fri, 7 Dec 2001 14:46:52 -0600 (CST)
Received: from newman.exu.ericsson.se (newman.exu.ericsson.se [138.85.75.179])
	by mr7.exu.ericsson.se (8.11.3/8.11.3) with ESMTP id fB7Kkqq24122;
	Fri, 7 Dec 2001 14:46:52 -0600 (CST)
Received: from lmf.ericsson.se (racom160252.am.ericsson.se [138.85.160.252]) by newman.exu.ericsson.se (8.7.5/8.7.3) with ESMTP id OAA19286; Fri, 7 Dec 2001 14:46:51 -0600 (CST)
Message-ID: <3C113089.401634AB@lmf.ericsson.se>
Date: Fri, 07 Dec 2001 23:11:37 +0200
From: Gonzalo Camarillo <Gonzalo.Camarillo@lmf.ericsson.se>
X-Mailer: Mozilla 4.79 [en] (WinNT; U)
X-Accept-Language: en
MIME-Version: 1.0
To: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
CC: "'sip@ietf.org'" <sip@ietf.org>
Subject: Re: [Sip] Open Issue #150: too many ways of saying "don't send me media"
References: <B65B4F8437968F488A01A940B21982BF020D713D@DYN-EXCH-001.dynamicsoft.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit



Jonathan Rosenberg wrote:
Hi,

> So, the proposal is:
> 
> c=0.0.0.0          DEPRECATED
> a=inactive,sendly  PREFERRED
> zero port:         disables media stream
> bw=0               DONT USE

I believe this is the right thing to do.

Regards,

Gonzalo

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Fri Dec  7 16:03:06 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id QAA00094
	for <sip-archive@odin.ietf.org>; Fri, 7 Dec 2001 16:03:06 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id QAA14190
	for sip-archive@odin.ietf.org; Fri, 7 Dec 2001 16:03:09 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id PAA12827;
	Fri, 7 Dec 2001 15:46:00 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id PAA12722
	for <sip@optimus.ietf.org>; Fri, 7 Dec 2001 15:45:54 -0500 (EST)
Received: from imr1.ericy.com (imr1.ericy.com [208.237.135.240])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA29707
	for <sip@ietf.org>; Fri, 7 Dec 2001 15:45:51 -0500 (EST)
Received: from mr6.exu.ericsson.se (mr6u3.ericy.com [208.237.135.123])
	by imr1.ericy.com (8.11.3/8.11.3) with ESMTP id fB7KjoH18691;
	Fri, 7 Dec 2001 14:45:50 -0600 (CST)
Received: from newman.exu.ericsson.se (newman.exu.ericsson.se [138.85.75.179])
	by mr6.exu.ericsson.se (8.11.3/8.11.3) with ESMTP id fB7KjoC20578;
	Fri, 7 Dec 2001 14:45:50 -0600 (CST)
Received: from lmf.ericsson.se (racom160252.am.ericsson.se [138.85.160.252]) by newman.exu.ericsson.se (8.7.5/8.7.3) with ESMTP id OAA19134; Fri, 7 Dec 2001 14:45:48 -0600 (CST)
Message-ID: <3C11304B.1FFAF682@lmf.ericsson.se>
Date: Fri, 07 Dec 2001 23:10:35 +0200
From: Gonzalo Camarillo <Gonzalo.Camarillo@lmf.ericsson.se>
X-Mailer: Mozilla 4.79 [en] (WinNT; U)
X-Accept-Language: en
MIME-Version: 1.0
To: Anoop_Tripathi@3com.com
CC: Jonathan Rosenberg <jdrosen@dynamicsoft.com>,
        "'sip@ietf.org'" <sip@ietf.org>
Subject: Re: [Sip] Open Issue #150: too many ways of saying "don't send me media"
References: <OF613F583F.E703390F-ON86256B1A.0053F975@3com.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Hi,

Anoop_Tripathi@3com.com wrote:
> 
> We have deployments in multi-vendor environment where all vendors are using
> c=0.0.0.0 to say "don't send me media". Is there any particular reason we
> want to deprecate this mechanism except for "since there are too many".
> 

Yes, the reason is that even though you do not want to receive media,
you can still send. Therefore, you still have to receive RTCP reports.
If you set your address to 0.0.0.0 the remote party does not have a way
to send you RTCP.

Best regards,

Gonzalo

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Fri Dec  7 16:03:41 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id QAA00114
	for <sip-archive@odin.ietf.org>; Fri, 7 Dec 2001 16:03:40 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id QAA14221
	for sip-archive@odin.ietf.org; Fri, 7 Dec 2001 16:03:43 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id PAA13044;
	Fri, 7 Dec 2001 15:49:15 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id PAA13015
	for <sip@optimus.ietf.org>; Fri, 7 Dec 2001 15:49:12 -0500 (EST)
Received: from dirty.research.bell-labs.com (dirty.research.bell-labs.com [204.178.16.6])
	by ietf.org (8.9.1a/8.9.1a) with SMTP id PAA29739
	for <sip@ietf.org>; Fri, 7 Dec 2001 15:49:08 -0500 (EST)
Received: from bronx.dnrc.bell-labs.com ([135.180.160.8]) by dirty; Fri Dec  7 15:48:47 EST 2001
Received: from cs.columbia.edu (ume [135.180.240.103])
	by bronx.dnrc.bell-labs.com (8.9.3/8.9.3) with ESMTP id PAA23656;
	Fri, 7 Dec 2001 15:47:57 -0500 (EST)
Message-ID: <3C112A08.C0E733E0@cs.columbia.edu>
Date: Fri, 07 Dec 2001 15:43:52 -0500
From: Henning Schulzrinne <hgs@cs.columbia.edu>
X-Mailer: Mozilla 4.76 [en]C-CCK-MCD   (Windows NT 5.0; U)
X-Accept-Language: en
MIME-Version: 1.0
To: Gonzalo Camarillo <Gonzalo.Camarillo@lmf.ericsson.se>
CC: Jonathan Rosenberg <jdrosen@dynamicsoft.com>,
        "'sip@ietf.org'" <sip@ietf.org>
Subject: Re: [Sip] Open Issue #145: SRV Processing in stateless proxies part I
References: <B65B4F8437968F488A01A940B21982BF020D713B@DYN-EXCH-001.dynamicsoft.com> <3C0FC39C.C9EE9B64@cs.columbia.edu> <3C112EE2.ED82BABF@lmf.ericsson.se>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit


> Is there much difference (regarding computational power and speed)
> between computing the hash and generating a random number using a
> standard random generator?

Since there are no cryptographic security requirements here, you can
probably get away with a pretty simple hash, but I suspect that even
MD2/4/5 are going to be plenty fast, given the small amount of material
to be hashed.

Yes, a regular random number generator as used for simulations (which is
what you would need here) can't be beaten in terms of speed, as its
roughly a few additions and multiplications, or something close to that
(details depend on the algorithm chosen). For concreteness, here's a
classical random number generator:

/*
  IBM 360/370 uniform multiplicative congruential random number
  generator, used in RESQ.
  (see Lavenberg, "Computer Performance Modeling Handbook", p. 227)
  Implemented as in Bratley et al., "A Guide to Simulation", p. 215.
  On a VAX 6310, one sample requires 10 us of CPU time.
*/
static double unif(unsigned long *s)
{
  long ix = *s;
  long k = ix/127773;
  ix = 16807*(ix - k*127773) - k*2836;
  if (ix < 0) ix += 2147483647;
  *s = ix;
  return ix * 4.656612875e-10;
}

In any event, I suspect that any difference is lost in the noise and
should certainly not guide our discussions here.

> 
> Regards,
> 
> Gonzalo

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Fri Dec  7 16:05:26 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id QAA00194
	for <sip-archive@odin.ietf.org>; Fri, 7 Dec 2001 16:05:26 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id QAA14331
	for sip-archive@odin.ietf.org; Fri, 7 Dec 2001 16:05:30 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id PAA13578;
	Fri, 7 Dec 2001 15:58:15 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id PAA13546
	for <sip@optimus.ietf.org>; Fri, 7 Dec 2001 15:58:12 -0500 (EST)
Received: from smtpout.ev1.net (smtpout.ev1.net [207.218.192.2])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA29959
	for <sip@ietf.org>; Fri, 7 Dec 2001 15:58:08 -0500 (EST)
Received: from rioa1475 [208.186.45.200] by smtpout.ev1.net
  (SMTPD32-6.06) id AD4350800B8; Fri, 07 Dec 2001 14:57:39 -0600
Message-ID: <001e01c17f61$e369c6c0$c82dbad0@rioa1475>
Reply-To: "Mart Nurmet" <mnurmet@ev1.net>
From: "Mart Nurmet" <mnurmet@ev1.net>
To: "Gonzalo Camarillo" <Gonzalo.Camarillo@lmf.ericsson.se>,
        <John.Hearty@Level3.com>
Cc: <Mpierce1@aol.com>, <sip@ietf.org>, <MChiou@santera.com>
References: <17052388D394D411803900508BDFFAF601B37074@n0214idc1.oss.level3.com> <3C112D8F.E987C0C8@lmf.ericsson.se>
Subject:  Re: [Sip] Major Open Issue #113: Overlapping TRANSACTIONS!
Date: Fri, 7 Dec 2001 14:58:11 -0600
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 5.00.2919.6600
X-MimeOLE: Produced By Microsoft MimeOLE V5.00.2919.6600
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Yes, that is more appropriate to be discussed. - Mart

----- Original Message -----
From: "Gonzalo Camarillo" <Gonzalo.Camarillo@lmf.ericsson.se>
To: <John.Hearty@Level3.com>
Cc: <mnurmet@ev1.net>; <Mpierce1@aol.com>; <sip@ietf.org>;
<MChiou@Santera.com>
Sent: Friday, December 07, 2001 2:58 PM
Subject: Overlap dialing WAS Re: [Sip] Major Open Issue #113: Overlapping
Transactions


> Hi folks,
>
> Please, do not side-track the mail threads with subjects like: "Open
> issue #xxx". The deadline for bis is tight, and we really have to
> resolve all the open issues ASAP.
>
> I have changed the name of the thread in case somebody wants to go on
> discussing about overlap dialing, which does not have anything to do
> with bug#113.
>
> Thanks,
>
> Gonzalo
>
>
>
> John.Hearty@Level3.com wrote:
> >
> > I'm in favor of avoiding overlap dialing.  However, before it is ruled
out
> > completely, bear in mind it may still be used in Europe.  They support
SAM
> > messages in ETSI ISUP.  I'm not familiar with how prevalent its use is
> > though.  We don't want to decide something that may cause problems with
ETSI
> > ISUP gateway interop.
> >
> > John Hearty
> > Level3
> >
> > -----Original Message-----
> > From: Mart Nurmet [mailto:mnurmet@ev1.net]
> > Sent: Friday, December 07, 2001 10:47 AM
> > To: Mpierce1@aol.com; sip@ietf.org
> > Cc: Chiou, Mark
> > Subject: Re: [Sip] Major Open Issue #113: Overlapping Transactions
> >
> > Mike:
> >
> > Overlap dialing was appropriate for dial pulse signaling to hold the
trunk.
> > This was done away with once MF (Multi Frequency) signaling to be used
[it
> > was not allowed then].  Then the end office collected all the digits and
> > determined the end of signaling by timing the digit reception or receipt
of
> > the # sign.  Then the end office, forwarded the full string.  Overlap
> > dialing could possibly be still found on dial pulse trunks but it would
hard
> > to find that anywhere else. In the SIP world that is a fuction that
should
> > not be needed.
> >
> > - Mart
> >
> > ----- Original Message -----
> > From: <Mpierce1@aol.com>
> > To: <sip@ietf.org>
> > Sent: Friday, December 07, 2001 10:28 AM
> > Subject: Re: [Sip] Major Open Issue #113: Overlapping Transactions
> >
> > > In a message dated 12/6/01 4:18:52 PM Eastern Standard Time,
> > > MChiou@Santera.com writes:
> > >
> > > > I vote for no Overlapping for INVITEs. SIP is an IP protocol. People
> > > >  usually input digits then hit the send button. If the user hit the
send
> > > >  button too early, it is a incomplete address call. It is the same
> > > >  approach as the wireless network. For 3G release 5 using SIP, I
cannot
> > > >  image supporting overlapping, which will tie up the air resources
> > during
> > > >  call setup.
> > > >
> > > In the cellular world, true, you had to hit the send only after
entering
> > the
> > > whole number. In the PSTN, not true, the network got each digit
separate.
> > >
> > > Some would argue that the next generation of phones (IP) should work
just
> > > like the old, "black" rotary dial phones. That argument hampered some
of
> > the
> > > ISDN standardization and certainly hampered the transition from rotary
> > dial
> > > to DTMF in the US.
> > >
> > > I believe it would be appropriate for the IP environment (SIP devices)
to
> > > require that the user enter the whole number and then hit "send".
We've
> > all
> > > learned to deal with that dialing procedure for celluler. Certainly,
3G
> > > should not support dialing.
> > >
> > > Whether this eliminates the need for overlapping INVITEs - I don't
know.
> > > There may be other uses, such as the description in
> > > draft-ietf-sip-overlap-01, which is a different issue.
> > >
> > > Mike Pierce
> > >
> > > _______________________________________________
> > > Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> > > This list is for NEW development of the core SIP Protocol
> > > Use sip-implementors@cs.columbia.edu for questions on current sip
> > > Use sipping@ietf.org for new developments on the application of sip
> > >
> >
> > _______________________________________________
> > Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> > This list is for NEW development of the core SIP Protocol
> > Use sip-implementors@cs.columbia.edu for questions on current sip
> > Use sipping@ietf.org for new developments on the application of sip
> >
> > _______________________________________________
> > Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> > This list is for NEW development of the core SIP Protocol
> > Use sip-implementors@cs.columbia.edu for questions on current sip
> > Use sipping@ietf.org for new developments on the application of sip
>
> --
> Gonzalo Camarillo                    Phone :   +1 212 939 71 71
> Columbia University                  Mobile:  +358 40 702 35 35
> 472 Computer Science Building        Fax   :  +358  9 299 30 52
> 1214 Amsterdam Ave., Mail Code 0401  http://www.hut.fi/~gonzalo
> New York, NY 10027
> USA                              Gonzalo.Camarillo@ericsson.com
>


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Fri Dec  7 18:11:15 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id SAA02169
	for <sip-archive@odin.ietf.org>; Fri, 7 Dec 2001 18:11:15 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id SAA18259
	for sip-archive@odin.ietf.org; Fri, 7 Dec 2001 18:11:17 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id RAA17493;
	Fri, 7 Dec 2001 17:54:49 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id RAA17466
	for <sip@optimus.ietf.org>; Fri, 7 Dec 2001 17:54:46 -0500 (EST)
Received: from broadsof.temp.veriohosting.com (broadsof.temp.veriohosting.com [161.58.239.68])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id RAA01911
	for <sip@ietf.org>; Fri, 7 Dec 2001 17:54:42 -0500 (EST)
Received: from tate ([64.243.180.244]) by broadsof.temp.veriohosting.com (8.11.6) id fB7Msil94784; Fri, 7 Dec 2001 17:54:45 -0500 (EST)
Reply-To: <brett@broadsoft.com>
From: "Brett Tate" <brett@broadsoft.com>
To: <sip@ietf.org>
Subject: RE: [Sip] Open Issue #144: Branch ID  + isCancel() as transaction ID
Date: Fri, 7 Dec 2001 17:56:21 -0500
Message-ID: <004501c17f72$642d1540$2b01a8c0@broadsoft.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook CWS, Build 9.0.2416 (9.0.2911.0)
In-Reply-To: <B65B4F8437968F488A01A940B21982BF020D713A@DYN-EXCH-001.dynamicsoft.com>
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4522.1200
Importance: Normal
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

> Issue:
> 
> The computation of the transaction ID in current SIP is, 
> well, challenging.
> It is a combination of a bunch of header fields, and 
> conditionally as well
> (with or without tags). This requires fairly deep parsing of 
> a number of
> fields and is the source of much confusion, even for the 
> co-authors of the
> spec (I made numerous errors in the text while updating to bis-05)
> 
> Bis-05 has taken a big step forward with a rigorous definition of
> transaction, which makes it clear that its a single "branch" 
> in the tree of
> requests formed when a UAC sends a request through a bunch of 
> proxies. That
> is, the To/From/CSeq/Call-ID identify the root of this tree, 
> and the Via
> branch + r-uri further identify each branch in the tree. 
> Based on this, it
> is natural to take the final step, and define the transaction ID for a
> request/response MUCH more simply - it is the value of the 
> branch ID in the
> topmost via, with the small caveat that CANCEL has the same 
> branch ID, but
> its a different transaction. Thats needed for backwards compatibility.
> 
> Bis-05 has sufficient randomness requirements on the branch 
> ID to satisfy
> this definition. Only two things are missing. First, the UAC 
> needs to insert
> it also, and secondly, a proxy needs to know whether the 
> previous hop used
> the uniqueness properties specified in bis. The proposal 
> would be to specify
> in bis-05 that a client can insert the branch ID (and give 
> reasons why its a
> good thing). To deal with the compatibility issue, we further 
> mandate that
> all branch-IDs generated uniquely according to bis start with 
> some small
> magic cookie to identify them as unique. A proxy would 
> extract the via, look
> at the branch, and if it has this cookie, need not even look 
> at the call-id,
> to, from, or cseq in order to process the request. If, 
> however, the branch
> does not contain this cookie, it needs to do the full parse 
> as defined in
> bis right now.
> 
> We are so close to this final step, I believe it is worth 
> taking. The costs
> are small, its still optional - just an optimization - and we 
> have full
> interop. However, the benefits will be very good when you  
> have a lot of
> deployed bis elements.
> 
> Proposal:
> 
> Allow for branch ID to be the transaction ID, by taking the 
> steps described
> above.

I like the simplification.  However using 
"branch" would definitely cause backward 
compatibility issues since it was not
previously required to be globally unique.
I guess a poll could be taken.

Alternatively a new parameter could be 
defined to indicate the global uniqueness 
of branch.


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Fri Dec  7 20:11:56 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id UAA03997
	for <sip-archive@odin.ietf.org>; Fri, 7 Dec 2001 20:11:56 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id UAA22694
	for sip-archive@odin.ietf.org; Fri, 7 Dec 2001 20:11:58 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id UAA21932;
	Fri, 7 Dec 2001 20:00:06 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id UAA21884
	for <sip@optimus.ietf.org>; Fri, 7 Dec 2001 20:00:02 -0500 (EST)
Received: from acmepacket.com (mail1.acmepacket.com [63.67.143.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id UAA03871
	for <sip@ietf.org>; Fri, 7 Dec 2001 20:00:00 -0500 (EST)
Received: from BobP [63.67.143.2] by acmepacket.com
  (SMTPD32-7.04) id A6129D6F0112; Fri, 07 Dec 2001 20:00:02 -0500
Message-ID: <00d701c17f82$567a0d80$2300000a@acmepacket.com>
From: "Bob Penfield" <bpenfield@acmepacket.com>
To: "Gonzalo Camarillo" <Gonzalo.Camarillo@lmf.ericsson.se>,
        "Jonathan Rosenberg" <jdrosen@dynamicsoft.com>
Cc: <sip@ietf.org>
References: <B65B4F8437968F488A01A940B21982BF020D7134@DYN-EXCH-001.dynamicsoft.com> <3C0FFA7F.814CA0C2@lmf.ericsson.se>
Subject: Re: [Sip] Major Open Issue #113: Overlapping Transactions
Date: Fri, 7 Dec 2001 19:50:31 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 5.50.4133.2400
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4133.2400
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit


----- Original Message -----
From: "Gonzalo Camarillo" <Gonzalo.Camarillo@lmf.ericsson.se>
>
> Hi,
>
> Jonathan Rosenberg wrote:
>
> > Proposal:
> >
> > Disallow overlapping INVITE (because it could get ugly)
>
> INVITEs are essential for early media as it is specified so far (we all
> agree early media is both ugly and needed).
>
> Early media only happens within a dialog (in the "early" state). What
> about allowing to have exactly one pending INVITE within an early
> dialog?
>
> That is, I send my INVITE and I receive a 1xx response with a To tag.
> Now I have my early dialog. I can send another INVITE now to change
> early media stuff (or for whatever), but I cannot overlap a 3rd INVITE
> at the same time. If I want to send a 3rd INVITE I have to wait until
> the 2nd has completed. And if I want to send a 4th one, I have to wait
> until the 3rd has completed.

When you say "completed", do you mean get a final response? or get a
provisional response (like the initial INVITE)?

>
> > Allow overlapping non-INVITE (because we will restrict ourselves too
much
> > without it)
>
> Agreed.
>
> Regards,
>
> Gonzalo
>
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
>


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Fri Dec  7 20:12:08 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id UAA04013
	for <sip-archive@odin.ietf.org>; Fri, 7 Dec 2001 20:12:07 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id UAA22713
	for sip-archive@odin.ietf.org; Fri, 7 Dec 2001 20:12:09 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id UAA21882;
	Fri, 7 Dec 2001 20:00:02 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id TAA21837
	for <sip@optimus.ietf.org>; Fri, 7 Dec 2001 19:59:59 -0500 (EST)
Received: from acmepacket.com (mail1.acmepacket.com [63.67.143.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id TAA03863
	for <sip@ietf.org>; Fri, 7 Dec 2001 19:59:57 -0500 (EST)
Received: from BobP [63.67.143.2] by acmepacket.com
  (SMTPD32-7.04) id A60F9D5C0112; Fri, 07 Dec 2001 19:59:59 -0500
Message-ID: <00d601c17f82$54be05a0$2300000a@acmepacket.com>
From: "Bob Penfield" <bpenfield@acmepacket.com>
To: "Drage, Keith \(Keith\)" <drage@lucent.com>, <sip@ietf.org>
References: <475FF955A05DD411980D00508B6D5FB001AC34E6@en0033exch001u.uk.lucent.com>
Subject: Re: [Sip] bis-05: transport mechanisms
Date: Fri, 7 Dec 2001 19:50:26 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="Windows-1252"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 5.50.4133.2400
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4133.2400
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

From: "Drage, Keith (Keith)" <drage@lucent.com>

> Line 2813 of the bis draft states:
>
> All SIP elements MUST support UDP at a minimum.

Should this be "SIP imlementations" instead of SIP elements? I may have an
implementation that supports UDP, but an actual deployed element might be
configured to accept only TCP. Or does this statement make the configured
element non-conforming?

>
> When we get to the definition of URL parameters in 3216-3218 we have the
> following:
>
> The transport parameter determines the transport mechanism to be used for
> sending SIP messages. SIP can use any network transport protocol.
Parameter
> names are defined for UDP [30], TCP [31], TLS [25], and SCTP [32].
>
> I have seen some readers using the text in 3216-3218 to argue that
receivers
> must support all four transport mechanisms (or at least TCP as well), and
> that the option of supporting only the minimum exists at the sender only.
I
> am not sure how they think to make this work when they come to provide a
> response to a request sent using a transport mechanism they do not support
> for sending, but still.
>
> My assumption is that the option exists at both sender and receiver.
>
> If my assumption is correct, can we add some more text around line 2813 to
> state that, so that everything is clear. Something along the lines of:
>
> "SIP implementations MAY support any other defined network transport
> protocol, and NEED NOT react to messages received on transport mechanisms
> which are not supported."
>
> Keith
> Keith Drage
> Lucent Technologies
> Tel: +44 1793 776249
> Email: drage@lucent.com
>
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
>


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Fri Dec  7 20:45:07 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id UAA04387
	for <sip-archive@odin.ietf.org>; Fri, 7 Dec 2001 20:45:07 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id UAA23740
	for sip-archive@odin.ietf.org; Fri, 7 Dec 2001 20:45:09 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id UAA23559;
	Fri, 7 Dec 2001 20:37:03 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id UAA23527
	for <sip@optimus.ietf.org>; Fri, 7 Dec 2001 20:37:01 -0500 (EST)
Received: from broadsof.temp.veriohosting.com (broadsof.temp.veriohosting.com [161.58.239.68])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id UAA04264
	for <sip@ietf.org>; Fri, 7 Dec 2001 20:36:58 -0500 (EST)
Received: from tate ([64.243.180.244]) by broadsof.temp.veriohosting.com (8.11.6) id fB81axO12509; Fri, 7 Dec 2001 20:36:59 -0500 (EST)
Reply-To: <brett@broadsoft.com>
From: "Brett Tate" <brett@broadsoft.com>
To: "sip-ietf \(E-mail\)" <sip@ietf.org>
Date: Fri, 7 Dec 2001 20:38:37 -0500
Message-ID: <004a01c17f89$0ee6fa30$2b01a8c0@broadsoft.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook CWS, Build 9.0.2416 (9.0.2911.0)
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4522.1200
Importance: Normal
Content-Transfer-Encoding: 7bit
Subject: [Sip] rfc2543 bis-05 line 4489: LWS
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

If I am interpreting the rfc2543-05 correctly, 
the protocol now requires a lot of mandatory
whitespace.

Isn't LWS as defined on 4465 interpreted 
as at least one SP or HT?  The definitions 
related to line 4489 appear to be requiring 
whitespace, instead of making it optional.

[Forgive me if this has been discussed,
I couldn't find the thread.]


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Fri Dec  7 23:05:35 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id XAA07595
	for <sip-archive@odin.ietf.org>; Fri, 7 Dec 2001 23:05:34 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id XAA27571
	for sip-archive@odin.ietf.org; Fri, 7 Dec 2001 23:05:37 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id WAA26812;
	Fri, 7 Dec 2001 22:55:50 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id WAA26779
	for <sip@optimus.ietf.org>; Fri, 7 Dec 2001 22:55:47 -0500 (EST)
Received: from mail1.dynamicsoft.com (mail1.dynamicsoft.com [63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id WAA07496
	for <sip@ietf.org>; Fri, 7 Dec 2001 22:55:43 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fB83rd4I001711;
	Fri, 7 Dec 2001 22:53:39 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <YAN9ZF1J>; Fri, 7 Dec 2001 22:55:10 -0500
Message-ID: <B65B4F8437968F488A01A940B21982BF02EF5818@DYN-EXCH-001.dynamicsoft.com>
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: "'brett@broadsoft.com'" <brett@broadsoft.com>,
        "sip-ietf (E-mail)"
	 <sip@ietf.org>
Subject: RE: [Sip] rfc2543 bis-05 line 4489: LWS
Date: Fri, 7 Dec 2001 22:55:03 -0500 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org



 

> -----Original Message-----
> From: Brett Tate [mailto:brett@broadsoft.com]
> Sent: Friday, December 07, 2001 8:39 PM
> To: sip-ietf (E-mail)
> Subject: [Sip] rfc2543 bis-05 line 4489: LWS
> 
> 
> If I am interpreting the rfc2543-05 correctly, 
> the protocol now requires a lot of mandatory
> whitespace.
> 
> Isn't LWS as defined on 4465 interpreted 
> as at least one SP or HT?  The definitions 
> related to line 4489 appear to be requiring 
> whitespace, instead of making it optional.
> 
> [Forgive me if this has been discussed,
> I couldn't find the thread.]

It has come up in private comments we received; I don't know if there was a
thread on it.

Anyway, you are right, there is an error in the BNF. Its already been fixed
and will be reflected in bis-06. Basically, there are two BNF constructs
defined; one for between tokens and separators, or between separators. That
construct does NOT require any SP or HT. However, LWS between tokens does
require at least one SP or HT.

-Jonathan R.

---
Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
Chief Scientist                             First Floor
dynamicsoft                                 East Hanover, NJ 07936
jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
http://www.jdrosen.net                      PHONE: (973) 952-5000
http://www.dynamicsoft.com

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Fri Dec  7 23:05:36 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id XAA07604
	for <sip-archive@odin.ietf.org>; Fri, 7 Dec 2001 23:05:36 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id XAA27585
	for sip-archive@odin.ietf.org; Fri, 7 Dec 2001 23:05:39 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id WAA26749;
	Fri, 7 Dec 2001 22:53:48 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id WAA26717
	for <sip@optimus.ietf.org>; Fri, 7 Dec 2001 22:53:45 -0500 (EST)
Received: from mail1.dynamicsoft.com (mail1.dynamicsoft.com [63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id WAA07479
	for <sip@ietf.org>; Fri, 7 Dec 2001 22:53:41 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fB83pd4I001703;
	Fri, 7 Dec 2001 22:51:40 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <YAN9ZF1F>; Fri, 7 Dec 2001 22:53:10 -0500
Message-ID: <B65B4F8437968F488A01A940B21982BF02EF5817@DYN-EXCH-001.dynamicsoft.com>
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: "'Jo Hornsby'" <jhornsby@ubiquity.net>, sip@ietf.org
Subject: RE: [Sip] Open Issue #144: Branch ID  + isCancel() as transaction
	 ID
Date: Fri, 7 Dec 2001 22:53:03 -0500 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org



 

> -----Original Message-----
> From: Jo Hornsby [mailto:jhornsby@ubiquity.net]
> Sent: Thursday, December 06, 2001 8:48 AM
> To: Jonathan Rosenberg; sip@ietf.org
> Subject: RE: [Sip] Open Issue #144: Branch ID + isCancel() as
> transaction ID
> 
> > Proposal:
> > 
> > Allow for branch ID to be the transaction ID, by taking the 
> > steps described above.
> 
> I do not disagree. &:)
> 
> But one caveat: I have never been fully sure that the branch
> parameter is globally unique.  I think it can be deduced
> that it is locally unique (i.e., within the Via hostport
> space); but I'm failing to find text that nails down the
> uniqueness globally.

Line 2188 sort of:

The proxy MUST include a "branch" parameter (Section 22.40) in the Via
header. When the path of 2188
a request through one or more forking proxies is graphed, the result is a
tree. The branch parameter 2189
identifies the "branch" each request was forwarded on. The branch parameter
value MUST be unique 2190
for each client transaction to which the request is forwarded. The precise
format of the branch.token 2191


I read this as "unique" scoped across all client transactions. One could
read it as unique across all client transactions for this incoming request.
We would need to additionally clarify that it means globally unique in order
for this to work.

-Jonathan R.
---
Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
Chief Scientist                             First Floor
dynamicsoft                                 East Hanover, NJ 07936
jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
http://www.jdrosen.net                      PHONE: (973) 952-5000
http://www.dynamicsoft.com

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Fri Dec  7 23:11:26 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id XAA07669
	for <sip-archive@odin.ietf.org>; Fri, 7 Dec 2001 23:11:25 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id XAA27669
	for sip-archive@odin.ietf.org; Fri, 7 Dec 2001 23:11:29 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id WAA26656;
	Fri, 7 Dec 2001 22:51:00 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id WAA26623
	for <sip@optimus.ietf.org>; Fri, 7 Dec 2001 22:50:58 -0500 (EST)
Received: from mail1.dynamicsoft.com (mail1.dynamicsoft.com [63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id WAA07468
	for <sip@ietf.org>; Fri, 7 Dec 2001 22:50:53 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fB83mn4I001693;
	Fri, 7 Dec 2001 22:48:49 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <YAN9ZF1A>; Fri, 7 Dec 2001 22:50:20 -0500
Message-ID: <B65B4F8437968F488A01A940B21982BF02EF5816@DYN-EXCH-001.dynamicsoft.com>
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: "'brett@broadsoft.com'" <brett@broadsoft.com>, sip@ietf.org
Subject: RE: [Sip] Open Issue #144: Branch ID  + isCancel() as transaction
	 ID
Date: Fri, 7 Dec 2001 22:50:14 -0500 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org



 

> -----Original Message-----
> From: Brett Tate [mailto:brett@broadsoft.com]
> Sent: Friday, December 07, 2001 5:56 PM
> To: sip@ietf.org
> Subject: RE: [Sip] Open Issue #144: Branch ID + isCancel() as
> transaction ID
> 
> > We are so close to this final step, I believe it is worth 
> > taking. The costs
> > are small, its still optional - just an optimization - and we 
> > have full
> > interop. However, the benefits will be very good when you  
> > have a lot of
> > deployed bis elements.
> > 
> > Proposal:
> > 
> > Allow for branch ID to be the transaction ID, by taking the 
> > steps described
> > above.
> 
> I like the simplification.  However using 
> "branch" would definitely cause backward 
> compatibility issues since it was not
> previously required to be globally unique.
> I guess a poll could be taken.

No, no. Thats the purpose of this cookie. So, if you are bis compliant, you
insert branch that is globally unique, and that branch ALWAYS starts with
BRETTTATE, say:

Via: SIP/2.0/UDP foo.com;branch=BRETTTATEasd9asdsd:asd98

Now, when a proxy or UAS receives a request, it looks at the top Via. If the
branch is there AND it has this cookie, the proxy/uas is sure that the
previous hop supports bis and thus inserted a globally unique branch ID.
KNowing that, it need not look farther for a transaction ID, the remainder
of the Via (plus a bit depending on whether its CANCEL or not) define the
tranasction ID. If the branch ID is missing, or if it doesn't start with
BRETTTATE, its an older client, and thus the regular transaction processing
is done.

-Jonathan R.
---
Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
Chief Scientist                             First Floor
dynamicsoft                                 East Hanover, NJ 07936
jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
http://www.jdrosen.net                      PHONE: (973) 952-5000
http://www.dynamicsoft.com

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Sat Dec  8 00:12:59 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id AAA08953
	for <sip-archive@odin.ietf.org>; Sat, 8 Dec 2001 00:12:59 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id AAA29471
	for sip-archive@odin.ietf.org; Sat, 8 Dec 2001 00:12:59 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id AAA29160;
	Sat, 8 Dec 2001 00:05:06 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id AAA29059
	for <sip@optimus.ietf.org>; Sat, 8 Dec 2001 00:05:03 -0500 (EST)
Received: from mail1.dynamicsoft.com (mail1.dynamicsoft.com [63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id AAA08880
	for <sip@ietf.org>; Sat, 8 Dec 2001 00:05:03 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fB852J4I001759;
	Sat, 8 Dec 2001 00:02:19 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <YAN9ZF1Y>; Sat, 8 Dec 2001 00:03:50 -0500
Message-ID: <B65B4F8437968F488A01A940B21982BF02EF5819@DYN-EXCH-001.dynamicsoft.com>
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: "'John.Hearty@Level3.com'" <John.Hearty@Level3.com>, mnurmet@ev1.net,
        Mpierce1@aol.com, sip@ietf.org
Cc: MChiou@santera.com
Subject: RE: [Sip] Major Open Issue #113: Overlapping Transactions
Date: Sat, 8 Dec 2001 00:03:42 -0500 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

Whooaaaa, hang on their folks.

We are NOT talking about overlap dialing, as Gonzalo said. We are talking
about overlapping INVITEs, which could be used for any number of things. As
has been pointed out, one potential application is early media (although I
am now unsure that overlapping INVITE solves that). Since sending this email
even, I have come up with another potential application to solve the
Heterogeneous Error Response Forking Problem (HERFP). As currently specified
in the overlap signaling specification, each updated SIP INVITE is a
different dialog, since it has an updated To header (this is my
interpretation, at least).

So, please, no more comments on overlap dialing.

-Jonathan R.

---
Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
Chief Scientist                             First Floor
dynamicsoft                                 East Hanover, NJ 07936
jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
http://www.jdrosen.net                      PHONE: (973) 952-5000
http://www.dynamicsoft.com
 

> -----Original Message-----
> From: John.Hearty@Level3.com [mailto:John.Hearty@Level3.com]
> Sent: Friday, December 07, 2001 2:23 PM
> To: mnurmet@ev1.net; Mpierce1@aol.com; sip@ietf.org
> Cc: MChiou@Santera.com
> Subject: RE: [Sip] Major Open Issue #113: Overlapping Transactions
> 
> 
> I'm in favor of avoiding overlap dialing.  However, before it 
> is ruled out
> completely, bear in mind it may still be used in Europe.  
> They support SAM
> messages in ETSI ISUP.  I'm not familiar with how prevalent its use is
> though.  We don't want to decide something that may cause 
> problems with ETSI
> ISUP gateway interop.
> 
> John Hearty
> Level3
> 
> -----Original Message-----
> From: Mart Nurmet [mailto:mnurmet@ev1.net]
> Sent: Friday, December 07, 2001 10:47 AM
> To: Mpierce1@aol.com; sip@ietf.org
> Cc: Chiou, Mark
> Subject: Re: [Sip] Major Open Issue #113: Overlapping Transactions
> 
> 
> Mike:
> 
> Overlap dialing was appropriate for dial pulse signaling to 
> hold the trunk.
> This was done away with once MF (Multi Frequency) signaling 
> to be used [it
> was not allowed then].  Then the end office collected all the 
> digits and
> determined the end of signaling by timing the digit reception 
> or receipt of
> the # sign.  Then the end office, forwarded the full string.  Overlap
> dialing could possibly be still found on dial pulse trunks 
> but it would hard
> to find that anywhere else. In the SIP world that is a 
> fuction that should
> not be needed.
> 
> - Mart
> 
> ----- Original Message -----
> From: <Mpierce1@aol.com>
> To: <sip@ietf.org>
> Sent: Friday, December 07, 2001 10:28 AM
> Subject: Re: [Sip] Major Open Issue #113: Overlapping Transactions
> 
> 
> > In a message dated 12/6/01 4:18:52 PM Eastern Standard Time,
> > MChiou@Santera.com writes:
> >
> > > I vote for no Overlapping for INVITEs. SIP is an IP 
> protocol. People
> > >  usually input digits then hit the send button. If the 
> user hit the send
> > >  button too early, it is a incomplete address call. It is the same
> > >  approach as the wireless network. For 3G release 5 using 
> SIP, I cannot
> > >  image supporting overlapping, which will tie up the air resources
> during
> > >  call setup.
> > >
> > In the cellular world, true, you had to hit the send only 
> after entering
> the
> > whole number. In the PSTN, not true, the network got each 
> digit separate.
> >
> > Some would argue that the next generation of phones (IP) 
> should work just
> > like the old, "black" rotary dial phones. That argument 
> hampered some of
> the
> > ISDN standardization and certainly hampered the transition 
> from rotary
> dial
> > to DTMF in the US.
> >
> > I believe it would be appropriate for the IP environment 
> (SIP devices) to
> > require that the user enter the whole number and then hit 
> "send". We've
> all
> > learned to deal with that dialing procedure for celluler. 
> Certainly, 3G
> > should not support dialing.
> >
> > Whether this eliminates the need for overlapping INVITEs - 
> I don't know.
> > There may be other uses, such as the description in
> > draft-ietf-sip-overlap-01, which is a different issue.
> >
> > Mike Pierce
> >
> > _______________________________________________
> > Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> > This list is for NEW development of the core SIP Protocol
> > Use sip-implementors@cs.columbia.edu for questions on current sip
> > Use sipping@ietf.org for new developments on the application of sip
> >
> 
> 
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
> 
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
> 

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Sat Dec  8 00:15:27 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id AAA08981
	for <sip-archive@odin.ietf.org>; Sat, 8 Dec 2001 00:15:27 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id AAA29640
	for sip-archive@odin.ietf.org; Sat, 8 Dec 2001 00:15:27 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id AAA29220;
	Sat, 8 Dec 2001 00:08:08 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id AAA29191
	for <sip@optimus.ietf.org>; Sat, 8 Dec 2001 00:08:06 -0500 (EST)
Received: from mail1.dynamicsoft.com (mail1.dynamicsoft.com [63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id AAA08894
	for <sip@ietf.org>; Sat, 8 Dec 2001 00:08:06 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fB855x4I001769;
	Sat, 8 Dec 2001 00:05:59 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <YAN9ZF17>; Sat, 8 Dec 2001 00:07:30 -0500
Message-ID: <B65B4F8437968F488A01A940B21982BF02EF581A@DYN-EXCH-001.dynamicsoft.com>
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: "'Michael Thomas'" <mat@cisco.com>,
        "Drage, Keith (Keith)"
	 <drage@lucent.com>
Cc: "'sip@ietf.org'" <sip@ietf.org>
Subject: RE: [Sip] bis-05: transport mechanisms
Date: Sat, 8 Dec 2001 00:07:20 -0500 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org



 

> -----Original Message-----
> From: Michael Thomas [mailto:mat@cisco.com]
> Sent: Wednesday, December 05, 2001 6:23 PM
> To: Drage, Keith (Keith)
> Cc: 'sip@ietf.org'
> Subject: [Sip] bis-05: transport mechanisms
> 
> 
> Drage, Keith (Keith) writes:
>  > Line 2813 of the bis draft states:
>  > 
>  > All SIP elements MUST support UDP at a minimum.
>  > 
>  > When we get to the definition of URL parameters in 
> 3216-3218 we have the
>  > following:
>  > 
>  > The transport parameter determines the transport mechanism 
> to be used for
>  > sending SIP messages. SIP can use any network transport 
> protocol. Parameter
>  > names are defined for UDP [30], TCP [31], TLS [25], and SCTP [32].
> 
> I think that placing TLS in the same level of
> naming hierarchy as "transport" is asking for
> trouble. If we must, we should append the security
> layer to the actual L4 transport, as in TCP/TLS or
> UDP/IPsec, etc.
> 

transport=tls refers to TLS/TCP specifically, we should simply clarify that.

However, it makes no sense to me to specify a transport of UDP/IPsec, since
IPSec configuration is usually at the OS layer, below the SIP application.
Thus, the proxy or UA would have no way to even explicitly use or not use
IPSec.

-Jonathan R.

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Sat Dec  8 00:20:56 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id AAA09034
	for <sip-archive@odin.ietf.org>; Sat, 8 Dec 2001 00:20:55 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id AAA29779
	for sip-archive@odin.ietf.org; Sat, 8 Dec 2001 00:20:55 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id AAA29590;
	Sat, 8 Dec 2001 00:14:17 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id AAA29493
	for <sip@optimus.ietf.org>; Sat, 8 Dec 2001 00:14:12 -0500 (EST)
Received: from mail1.dynamicsoft.com (mail1.dynamicsoft.com [63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id AAA08970
	for <sip@ietf.org>; Sat, 8 Dec 2001 00:14:12 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fB85C94I001780;
	Sat, 8 Dec 2001 00:12:10 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <YAN9ZF10>; Sat, 8 Dec 2001 00:13:40 -0500
Message-ID: <B65B4F8437968F488A01A940B21982BF02EF581B@DYN-EXCH-001.dynamicsoft.com>
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: "'Gonzalo Camarillo'" <Gonzalo.Camarillo@lmf.ericsson.se>,
        Anoop_Tripathi@3com.com
Cc: Jonathan Rosenberg <jdrosen@dynamicsoft.com>,
        "'sip@ietf.org'"
	 <sip@ietf.org>
Subject: RE: [Sip] Open Issue #150: too many ways of saying "don't send me
	 media"
Date: Sat, 8 Dec 2001 00:13:35 -0500 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

Let me also clarify before this thread goes to far astray.

The deprecation of c=0.0.0.0 to put on hold (which means, no longer send
0.0.0.0, but still need to receive it), has already been agreed to and has
already been updated in bis-05 (well, offer-answer-00 to be precise).
Discussions about whether to use 0.0.0.0 for placing calls on hold are
therefore not relevant to this thread. Please read
draft-rosenberg-mmusic-sdp-offer-answer-00.txt which discusses this issue.

The issue is how to differentiate the uses of the various ways of saying
"don't send me media". As I have said above, c=0.0.0.0 should no longer be
sent, but you need to be prepared to receive it. Setting the port to zero
turns of a stream, terminating any tools and associated resources for that
stream. a=inactive/sendonly is for putting calls on hold, effectively -
temporarily ceasing media (but RTCP will still be sent). All of that has
been agreed to.

The new item here, then, is a=bw:0. The proposal is that you do not send the
bandwidth attribute with a value of zero. Rahter, use one of the other
mechanisms.

-Jonathan R.


---
Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
Chief Scientist                             First Floor
dynamicsoft                                 East Hanover, NJ 07936
jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
http://www.jdrosen.net                      PHONE: (973) 952-5000
http://www.dynamicsoft.com
 

> -----Original Message-----
> From: Gonzalo Camarillo [mailto:Gonzalo.Camarillo@lmf.ericsson.se]
> Sent: Friday, December 07, 2001 4:11 PM
> To: Anoop_Tripathi@3com.com
> Cc: Jonathan Rosenberg; 'sip@ietf.org'
> Subject: Re: [Sip] Open Issue #150: too many ways of saying 
> "don't send
> me media"
> 
> 
> Hi,
> 
> Anoop_Tripathi@3com.com wrote:
> > 
> > We have deployments in multi-vendor environment where all 
> vendors are using
> > c=0.0.0.0 to say "don't send me media". Is there any 
> particular reason we
> > want to deprecate this mechanism except for "since there 
> are too many".
> > 
> 
> Yes, the reason is that even though you do not want to receive media,
> you can still send. Therefore, you still have to receive RTCP reports.
> If you set your address to 0.0.0.0 the remote party does not 
> have a way
> to send you RTCP.
> 
> Best regards,
> 
> Gonzalo
> 

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Sat Dec  8 00:32:01 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id AAA09150
	for <sip-archive@odin.ietf.org>; Sat, 8 Dec 2001 00:32:01 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id AAA00429
	for sip-archive@odin.ietf.org; Sat, 8 Dec 2001 00:32:01 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id AAA29893;
	Sat, 8 Dec 2001 00:25:23 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id AAA29862
	for <sip@optimus.ietf.org>; Sat, 8 Dec 2001 00:25:20 -0500 (EST)
Received: from mail1.dynamicsoft.com (mail1.dynamicsoft.com [63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id AAA09090
	for <sip@ietf.org>; Sat, 8 Dec 2001 00:25:20 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fB85Mn4I001798;
	Sat, 8 Dec 2001 00:22:49 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <YAN9ZFF2>; Sat, 8 Dec 2001 00:24:20 -0500
Message-ID: <B65B4F8437968F488A01A940B21982BF02EF581C@DYN-EXCH-001.dynamicsoft.com>
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: "'Henning G. Schulzrinne'" <hgs@cs.columbia.edu>,
        Jonathan Rosenberg
	 <jdrosen@dynamicsoft.com>
Cc: "'sip@ietf.org'" <sip@ietf.org>
Subject: RE: [Sip] Open Issue #145: SRV Processing in stateless proxies pa
	rt I
Date: Sat, 8 Dec 2001 00:24:17 -0500 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org



 

> -----Original Message-----
> From: Henning G. Schulzrinne [mailto:hgs@cs.columbia.edu]
> Sent: Thursday, December 06, 2001 2:15 PM
> To: Jonathan Rosenberg
> Cc: 'sip@ietf.org'
> Subject: Re: [Sip] Open Issue #145: SRV Processing in 
> stateless proxies
> part I
> 
> 
> Jonathan Rosenberg wrote:
> > 
> > Issue:
> > 
> > Processing of SRV records in stateless proxies is hard, 
> primarily because
> > the algorithm itself relies on state. One piece of state is 
> the random
> > selection of a server amongst a set with equal weights. 
> Bis-05 mandates that
> > this be done based on Call-ID, so that all requests with 
> the same call-id
> > select the same server. Turns out that this is hard to do 
> in a stateless
> > way. One approach is to choose the random number as a hash 
> of the Call-ID.
> > That is needed, but not sufficient. The problem is that the 
> result of this
> > hash generates an index, 1..N, where N is the number of 
> servers with the
> > same priority. Using this index to select a server requires 
> that the array
> > of N servers is ordered the same for each attempt. However, 
> DNS resolvers
> > make no guarantee about the order of the results. Thus, you 
> would need to
> > alphabetize them, or something, to establish an order.
> 
> Not quite. If I understand the SRV description correctly, there is an
> ordering based on the weight (so that you can pick the right 
> one). Thus,
> if the weights are not equal, the order is indeed guaranteed, 
> as long as
> the resolver doesn't mess with the weights. For load balancing, it
> doesn't matter if the weights are 1001, 1002 and 1003 instead of 1000,
> so one could recommend that SRV entries for stateless proxies simply
> avoid equal weights. This would be just a hint, not normative.

I found no text along those lines. In any case, it doesn't matter. My point
with this issue is that SOME kind of algorithm is needed to produce a
consistent ordering of the SRV values. I suggested alphabetical, you are
suggesting ordering first by priority, and for equal priority, then by
weight. Both work (assuming there are no equal weights). Using your approach
is a bit less intensive and more straightforward.

The more interesting issue is basing the selection upon a hash of the
call-id and other fields (but NOT CSeq, for example). Gonzalo wrote:

> If, as Henning suggestes, we can resolve the alphabetization, the only
> difference would be that a staless proxy would need to compute the
> random number that is used to pick one server as a result of a hash of
> some fields, whereas a stateful proxy could use any radom number
> generator.

No. Thats the problem. A *call-stateful* proxy could use a random number
generator. Thats because it would need to use the same random number for all
requests within the same dialog, and thus would need to store this number
for the duration of a dialog.

-Jonathan R.

---
Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
Chief Scientist                             First Floor
dynamicsoft                                 East Hanover, NJ 07936
jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
http://www.jdrosen.net                      PHONE: (973) 952-5000
http://www.dynamicsoft.com

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Sat Dec  8 00:39:37 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id AAA09202
	for <sip-archive@odin.ietf.org>; Sat, 8 Dec 2001 00:39:37 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id AAA00674
	for sip-archive@odin.ietf.org; Sat, 8 Dec 2001 00:39:37 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id AAA00500;
	Sat, 8 Dec 2001 00:33:24 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id AAA00468
	for <sip@optimus.ietf.org>; Sat, 8 Dec 2001 00:33:21 -0500 (EST)
Received: from mail1.dynamicsoft.com (mail1.dynamicsoft.com [63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id AAA09169
	for <sip@ietf.org>; Sat, 8 Dec 2001 00:33:21 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fB85VJ4I001809;
	Sat, 8 Dec 2001 00:31:19 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <YAN9ZFFN>; Sat, 8 Dec 2001 00:32:50 -0500
Message-ID: <B65B4F8437968F488A01A940B21982BF02EF581D@DYN-EXCH-001.dynamicsoft.com>
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: "'Vijay K. Gurbani'" <vkg@lucent.com>,
        Jonathan Rosenberg
	 <jdrosen@dynamicsoft.com>
Cc: "'sip@ietf.org'" <sip@ietf.org>
Subject: RE: [Sip] Open Issue #188: Reply-To
Date: Sat, 8 Dec 2001 00:32:45 -0500 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org



 

> -----Original Message-----
> From: Vijay K. Gurbani [mailto:vkg@lucent.com]
> Sent: Friday, December 07, 2001 2:11 AM
> To: Jonathan Rosenberg
> Cc: 'sip@ietf.org'
> Subject: Re: [Sip] Open Issue #188: Reply-To
> 
> > Proposal:
> > 
> > Its simple. Its compatible. Its well understood. Its going 
> to really be
> > needed for MESSAGE, probably other things. Let us take the 
> simple route and
> > add it.
> 
> While I have no problem in adding this, we need to ensure 
> that the spec
> is
> clear on what to do if both Contact and Reply-To are present 
> along with
> R-R headers.  In creating a Route set, the Reply-To will take
> precedence,
> I presume.

NO, NO, NO!!!!!!!!

No relationship between Reply-To, Contact, RR, Route. Everything with
COntact, Route, RR is as it is today. All Reply-To is for is for handling
cases where you want to call the person back next week, what URL to you use
for the initial INVITE you send to them? Right now, it would be the From
field, but as the example above suggests, that is not always what you want.
When present, Reply-To would be used for this purpose.

-Jonathan R.
---
Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
Chief Scientist                             First Floor
dynamicsoft                                 East Hanover, NJ 07936
jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
http://www.jdrosen.net                      PHONE: (973) 952-5000
http://www.dynamicsoft.com

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Sat Dec  8 00:46:54 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id AAA09251
	for <sip-archive@odin.ietf.org>; Sat, 8 Dec 2001 00:46:54 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id AAA00963
	for sip-archive@odin.ietf.org; Sat, 8 Dec 2001 00:46:54 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id AAA00740;
	Sat, 8 Dec 2001 00:40:48 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id AAA00709
	for <sip@optimus.ietf.org>; Sat, 8 Dec 2001 00:40:45 -0500 (EST)
Received: from mail1.dynamicsoft.com (mail1.dynamicsoft.com [63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id AAA09222
	for <sip@ietf.org>; Sat, 8 Dec 2001 00:40:44 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fB85cd4I001823;
	Sat, 8 Dec 2001 00:38:39 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <YAN9ZFFR>; Sat, 8 Dec 2001 00:40:10 -0500
Message-ID: <B65B4F8437968F488A01A940B21982BF02EF581E@DYN-EXCH-001.dynamicsoft.com>
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: "'brett@broadsoft.com'" <brett@broadsoft.com>, sip@ietf.org
Subject: RE: [Sip] Open Issue #188: Reply-To
Date: Sat, 8 Dec 2001 00:40:02 -0500 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org



 

> -----Original Message-----
> From: Brett Tate [mailto:brett@broadsoft.com]
> Sent: Friday, December 07, 2001 4:21 AM
> To: sip@ietf.org
> Subject: RE: [Sip] Open Issue #188: Reply-To
> 
> > Proposal:
> > 
> > Its simple. Its compatible. Its well understood. Its going to 
> > really be
> > needed for MESSAGE, probably other things. Let us take the 
> > simple route and
> > add it.
> 
> It seems like an ideal candidate for a 
> new extension draft or a new version of 
> sip-privacy.

The question is whether this is trivial enough to just put into bis rather
than write a separate 1 page I-D for it. sip-privacy is, I think, different.
More below.

> 
> What is its relationship to From and 
> Remote-Party-ID?  

From is who sent the request.
Reply-To is to whom you should call-back later if you want to talk again.
Not necessarily the same, just as they aren't the same in email.

Remote-Party-ID provides network authenticated identities. Reply-To is
provided by the client. If the network wanted to provide what it believes is
the true reply-to address, it would, in theory, insert a R-P-ID with id-type
"reply-to" or some other such thing. However, I don't think there is much
value in that. Who cares what the network provider thought your reply-to
should really be?

> 
> How many entries can it contain?  

One.

> If more 
> than 1, should something like a q-value 
> be present to communicate the meaning of 
> more than 1 value being present?
> 
> Should it contain an expiration value?

No. KISS. If its good enough for email, its good enough for us.

> 
> Should it have a similar definition to 
> Remote-Party-ID so that privacy and trust
> issues can be communicated?

There are privacy implications, yes. I don't think we need a new R-P-ID
type, as I discuss above, but if privacy is requested, I would imagine that
the reply-to would be stripped at the edge, else encrypted or some other
such thing, as R-P-ID would.


-Jonathan R.
---
Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
Chief Scientist                             First Floor
dynamicsoft                                 East Hanover, NJ 07936
jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
http://www.jdrosen.net                      PHONE: (973) 952-5000
http://www.dynamicsoft.com

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Sat Dec  8 01:50:36 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id BAA13201
	for <sip-archive@odin.ietf.org>; Sat, 8 Dec 2001 01:50:35 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id BAA11330
	for sip-archive@odin.ietf.org; Sat, 8 Dec 2001 01:50:36 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id BAA10968;
	Sat, 8 Dec 2001 01:32:21 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id BAA10940
	for <sip@optimus.ietf.org>; Sat, 8 Dec 2001 01:32:19 -0500 (EST)
Received: from albatross-ext.wise.edt.ericsson.se (albatross-ext.wise.edt.ericsson.se [194.237.142.116])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id BAA11765
	for <sip@ietf.org>; Sat, 8 Dec 2001 01:32:14 -0500 (EST)
Received: from madrid.ericsson.se (madrid.es.eu.ericsson.se [164.48.87.150])
	by albatross.wise.edt.ericsson.se (8.11.0/8.11.0/WIREfire-1.3) with SMTP id fB86WDu28516;
	Sat, 8 Dec 2001 07:32:13 +0100 (MET)
Received: from lmf.ericsson.se by madrid.ericsson.se (SMI-8.6/SMI-SVR4)
	id HAA03218; Sat, 8 Dec 2001 07:32:04 +0100
Message-ID: <3C11B42F.5BF6682B@lmf.ericsson.se>
Date: Sat, 08 Dec 2001 08:33:19 +0200
From: Christer Holmberg <christer.holmberg@lmf.ericsson.se>
X-Mailer: Mozilla 4.61 [en] (WinNT; I)
X-Accept-Language: en
MIME-Version: 1.0
To: Gonzalo Camarillo <Gonzalo.Camarillo@lmf.ericsson.se>
CC: Jonathan Rosenberg <jdrosen@dynamicsoft.com>,
        "'sip@ietf.org'" <sip@ietf.org>
Subject: Re: [Sip] Open Issue #150: too many ways of saying "don't send me media"
References: <B65B4F8437968F488A01A940B21982BF020D713D@DYN-EXCH-001.dynamicsoft.com> <3C113089.401634AB@lmf.ericsson.se>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit


Hi,

I would vote for this proposal too.

Regards,

Christer Holmberg
Ericsson Finland


Gonzalo Camarillo wrote:
> 
> Jonathan Rosenberg wrote:
> Hi,
> 
> > So, the proposal is:
> >
> > c=0.0.0.0          DEPRECATED
> > a=inactive,sendly  PREFERRED
> > zero port:         disables media stream
> > bw=0               DONT USE
> 
> I believe this is the right thing to do.
> 
> Regards,
> 
> Gonzalo
> 
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Sat Dec  8 13:38:08 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id NAA02572
	for <sip-archive@odin.ietf.org>; Sat, 8 Dec 2001 13:38:08 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id NAA28564
	for sip-archive@odin.ietf.org; Sat, 8 Dec 2001 13:38:10 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id NAA28057;
	Sat, 8 Dec 2001 13:21:34 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id NAA28026
	for <sip@optimus.ietf.org>; Sat, 8 Dec 2001 13:21:31 -0500 (EST)
Received: from sj-msg-core-4.cisco.com (sj-msg-core-4.cisco.com [171.71.163.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id NAA02314
	for <sip@ietf.org>; Sat, 8 Dec 2001 13:21:29 -0500 (EST)
Received: from mira-sjc5-7.cisco.com (mira-sjc5-7.cisco.com [171.71.163.27])
	by sj-msg-core-4.cisco.com (8.11.3/8.9.1) with ESMTP id fB8IKw915210;
	Sat, 8 Dec 2001 10:20:58 -0800 (PST)
Received: from thomasm-u1.cisco.com (thomasm-u1.cisco.com [128.107.140.53])
	by mira-sjc5-7.cisco.com (Mirapoint)
	with ESMTP id AAM14297;
	Sat, 8 Dec 2001 10:20:23 -0800 (PST)
Received: (thomasm@localhost) by thomasm-u1.cisco.com (8.8.8-Cisco List Logging/CISCO.WS.1.2) id KAA01924; Sat, 8 Dec 2001 10:20:57 -0800 (PST)
From: Michael Thomas <mat@cisco.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <15378.23049.415641.452125@thomasm-u1.cisco.com>
Date: Sat, 8 Dec 2001 10:20:57 -0800 (PST)
To: "Vesa Torvinen (LMF)" <Vesa.Torvinen@lmf.ericsson.se>
Cc: "'Scott  Bradner'" <sob@harvard.edu>, "'Michael Thomas'" <mat@cisco.com>,
        "'sip@ietf.org'" <sip@ietf.org>
Subject: Re: Thomas versus 3GPP SIP security requirements (was: [Sip] SIP 
	secu rity requirements (this might mean you!))
In-Reply-To: <29F33B0CF787D51195FC0002A56B3DC1142131@efijont103>
References: <29F33B0CF787D51195FC0002A56B3DC1142131@efijont103>
X-Mailer: VM 6.72 under 21.1 (patch 6) "Big Bend" XEmacs Lucid
X-Face: &,heK/V66p?[2!i|tVn,9lN0TUvEv7:9FzXREj/AuzN4m<D]vnFJ>u!4x[/Z4t{V}~L]+Sk
 @RFNnJEg~WZ/(8<`5a),-7ukALWa^&?&D2R0CSG3kO5~#6JxLF\d,g">$%B!0w{W)qIhmwhye104zd
 bUcI'1!
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Vesa Torvinen (LMF) writes:

Vesa, thanks for the write up. After reading this
through once, only one thing really concerns me
given an inadequate time to really digest this:

 > - "The SIP serving proxy that performed the initial authentication must be able 
 > to securely delegate subsequent SIP signaling protection (e.g. session keys for 
 > integrity or encryption) to an authorized SIP proxy further downstream." (Garcia 
 > et al. 2001) 
 > 
 > As described before, the current 3GPP security architecture needs a mechanism to 
 > delegate security tasks in Non-adjacent-proxy-to-proxy interface. Note that this 
 > feature would not have any negative influence on interoperability between 
 > various SIP networks even if it were specified as 3GPP specific feature. 
 > Delegation and key transfer is done only within 3GPP networks. SIP terminals do 
 > not necessarily have to be aware of the delegation. 

Essentially what you are asking for, I gather, is
the ability to transport keying material(s) in a
single SIP message for principals other than who
would be in the "secure-from" and "secure-to" in
the parlance of my framework draft. A couple of
comments:

1) It troubles me in general to explicitly require
   SIP to become a transport vehicle for key 
   distribution. I realize that this may happen
   with some auth schemes, but I view this as a
   side effect of the auth scheme, rather than a
   requirement per se for SIP security

2) I'm not sure whether this sort of thing would
   be a native feature of DIAMETER based auth,
   say, but I'd feel a lot more comfortable if
   we had this debate in the context of a
   particular plug-in for a framework, rather
   than a general requirement. In particular,
   I don't think that we should require auth
   schemes where this sort of thing isn't natural
   to go beyond what their goals are

3) <requirements gathering hat off> I think I
   understand what it is you're interested in 
   obtaining here and may have some ideas about
   alternative ways of doing this without 
   overloading SIP so much. We should talk in
   SLC if you'll be there.

	  Mike

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Sat Dec  8 21:35:59 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id VAA08447
	for <sip-archive@odin.ietf.org>; Sat, 8 Dec 2001 21:35:59 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id VAA07936
	for sip-archive@odin.ietf.org; Sat, 8 Dec 2001 21:36:01 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id VAA07436;
	Sat, 8 Dec 2001 21:16:28 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id VAA07405
	for <sip@optimus.ietf.org>; Sat, 8 Dec 2001 21:16:25 -0500 (EST)
Received: from imr2.ericy.com (imr2.ericy.com [12.34.240.68])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id VAA07575
	for <sip@ietf.org>; Sat, 8 Dec 2001 21:16:18 -0500 (EST)
Received: from mr5.exu.ericsson.se (mr5att.ericy.com [138.85.92.13])
	by imr2.ericy.com (8.11.3/8.11.3) with ESMTP id fB929EY00454;
	Sat, 8 Dec 2001 20:09:14 -0600 (CST)
Received: from newman.exu.ericsson.se (newman.exu.ericsson.se [138.85.75.179])
	by mr5.exu.ericsson.se (8.11.3/8.11.3) with ESMTP id fB929DZ08688;
	Sat, 8 Dec 2001 20:09:13 -0600 (CST)
Received: from lmf.ericsson.se (rmt160195.am.ericsson.se [138.85.160.195]) by newman.exu.ericsson.se (8.7.5/8.7.3) with ESMTP id UAA07448; Sat, 8 Dec 2001 20:09:11 -0600 (CST)
Message-ID: <3C12CDA5.CA6D0F3F@lmf.ericsson.se>
Date: Sun, 09 Dec 2001 04:34:13 +0200
From: Gonzalo Camarillo <Gonzalo.Camarillo@lmf.ericsson.se>
X-Mailer: Mozilla 4.79 [en] (WinNT; U)
X-Accept-Language: en
MIME-Version: 1.0
To: Bob Penfield <bpenfield@acmepacket.com>
CC: Jonathan Rosenberg <jdrosen@dynamicsoft.com>, sip@ietf.org
Subject: Re: [Sip] Major Open Issue #113: Overlapping Transactions
References: <B65B4F8437968F488A01A940B21982BF020D7134@DYN-EXCH-001.dynamicsoft.com> <3C0FFA7F.814CA0C2@lmf.ericsson.se> <00d701c17f82$567a0d80$2300000a@acmepacket.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Hello,

inline:

Bob Penfield wrote:
> 
> ----- Original Message -----
> From: "Gonzalo Camarillo" <Gonzalo.Camarillo@lmf.ericsson.se>
> >
> > Hi,
> >
> > Jonathan Rosenberg wrote:
> >
> > > Proposal:
> > >
> > > Disallow overlapping INVITE (because it could get ugly)
> >
> > INVITEs are essential for early media as it is specified so far (we all
> > agree early media is both ugly and needed).
> >
> > Early media only happens within a dialog (in the "early" state). What
> > about allowing to have exactly one pending INVITE within an early
> > dialog?
> >
> > That is, I send my INVITE and I receive a 1xx response with a To tag.
> > Now I have my early dialog. I can send another INVITE now to change
> > early media stuff (or for whatever), but I cannot overlap a 3rd INVITE
> > at the same time. If I want to send a 3rd INVITE I have to wait until
> > the 2nd has completed. And if I want to send a 4th one, I have to wait
> > until the 3rd has completed.
> 
> When you say "completed", do you mean get a final response? or get a
> provisional response (like the initial INVITE)?

Sorry. What I meant was that a 490 Request Updated response has been
received for the previous INVITE, so we know for sure that the remote
end is processing only one INVITE at a time.

Regards,

Gonzalo

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Sat Dec  8 21:52:48 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id VAA08991
	for <sip-archive@odin.ietf.org>; Sat, 8 Dec 2001 21:52:48 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id VAA08495
	for sip-archive@odin.ietf.org; Sat, 8 Dec 2001 21:52:51 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id VAA08310;
	Sat, 8 Dec 2001 21:45:59 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id VAA08137
	for <sip@optimus.ietf.org>; Sat, 8 Dec 2001 21:45:41 -0500 (EST)
Received: from scaup.prod.itd.earthlink.net (scaup.mail.pas.earthlink.net [207.217.120.49])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id VAA08930
	for <sip@ietf.org>; Sat, 8 Dec 2001 21:45:37 -0500 (EST)
Received: from dialup-64.158.27.100.dial1.manchester1.level3.net ([64.158.27.100] helo=eburger)
	by scaup.prod.itd.earthlink.net with esmtp (Exim 3.33 #1)
	id 16CtyD-0000C6-00; Sat, 08 Dec 2001 18:45:37 -0800
Reply-To: <eburger@snowshore.com>
From: "Eric Burger" <eburger@snowshore.com>
To: <Mpierce1@aol.com>
Cc: <sip@ietf.org>
Subject: RE: [Sip] Major Open Issue #113: Overlapping Transactions
Date: Sat, 8 Dec 2001 21:45:36 -0500
Message-ID: <EEEDJPFPPHPFKDDLLMOKGEOMDCAA.eburger@snowshore.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2911.0)
In-Reply-To: <12b.8b0127a.29424828@aol.com>
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4807.1700
Importance: Normal
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

But doesn't this argue that we don't need to emulate overlap dialing?  Like
you said, it was a problem in the transition to DTMF (30 years ago) and ISDN
(10 years ago).  Wouldn't it be reasonable to say it's not a problem
anymore?

-----Original Message-----
From: sip-admin@ietf.org [mailto:sip-admin@ietf.org]On Behalf Of
Mpierce1@aol.com
Sent: Friday, December 07, 2001 11:28 AM
To: sip@ietf.org
Subject: Re: [Sip] Major Open Issue #113: Overlapping Transactions


In a message dated 12/6/01 4:18:52 PM Eastern Standard Time,
MChiou@Santera.com writes:

> I vote for no Overlapping for INVITEs. SIP is an IP protocol. People
>  usually input digits then hit the send button. If the user hit the send
>  button too early, it is a incomplete address call. It is the same
>  approach as the wireless network. For 3G release 5 using SIP, I cannot
>  image supporting overlapping, which will tie up the air resources during
>  call setup.
>
In the cellular world, true, you had to hit the send only after entering the
whole number. In the PSTN, not true, the network got each digit separate.

Some would argue that the next generation of phones (IP) should work just
like the old, "black" rotary dial phones. That argument hampered some of the
ISDN standardization and certainly hampered the transition from rotary dial
to DTMF in the US.

I believe it would be appropriate for the IP environment (SIP devices) to
require that the user enter the whole number and then hit "send". We've all
learned to deal with that dialing procedure for celluler. Certainly, 3G
should not support dialing.

Whether this eliminates the need for overlapping INVITEs - I don't know.
There may be other uses, such as the description in
draft-ietf-sip-overlap-01, which is a different issue.

Mike Pierce

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Sat Dec  8 22:01:38 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id WAA09089
	for <sip-archive@odin.ietf.org>; Sat, 8 Dec 2001 22:01:38 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id WAA08986
	for sip-archive@odin.ietf.org; Sat, 8 Dec 2001 22:01:41 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id VAA08166;
	Sat, 8 Dec 2001 21:45:43 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id VAA08009
	for <sip@optimus.ietf.org>; Sat, 8 Dec 2001 21:45:33 -0500 (EST)
Received: from scaup.prod.itd.earthlink.net (scaup.mail.pas.earthlink.net [207.217.120.49])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id VAA08909
	for <sip@ietf.org>; Sat, 8 Dec 2001 21:45:30 -0500 (EST)
Received: from dialup-64.158.27.100.dial1.manchester1.level3.net ([64.158.27.100] helo=eburger)
	by scaup.prod.itd.earthlink.net with esmtp (Exim 3.33 #1)
	id 16Cty5-0000C6-00; Sat, 08 Dec 2001 18:45:30 -0800
Reply-To: <eburger@snowshore.com>
From: "Eric Burger" <eburger@snowshore.com>
To: "Roy, Radhika R, ALCTA" <rrroy@att.com>, <Mpierce1@aol.com>
Cc: <sip@ietf.org>
Subject: RE: [Sip] re: the future of call control
Date: Sat, 8 Dec 2001 21:45:27 -0500
Message-ID: <EEEDJPFPPHPFKDDLLMOKAEOMDCAA.eburger@snowshore.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2911.0)
In-Reply-To: <62DA45D4963FA747BA1B253E266760F96BE004@OCCLUST04EVS1.ugd.att.com>
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4807.1700
Importance: Normal
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

I fully *disagree* that these services need to be standardized.  The reason
is simple: what we're being asked to do is standardize a "marketing"
function.  What do I mean by that?  You want to advertise that you support
"blind transfer".  I can think of at least two, orthogonal ways of
implementing it.  Standardizing the call flow for blind transfer means that
any of the other, legitimate, possibly superior methods can't be "legally"
used.

What we *must* standardize are the primitives to implement such functions.

Yes - we need to know about blind transfer, consultation transfer,
consultation hold, music while parked, and walking fifi [sic] to decide that
we need one or more primitives.  In addition, I agree that it would be
informative to show *typical* call flows demonstrating the use of those
primitives.  This is all in the realm of the SIPPING work group.  Once the
need for the PRIMITIVE is determined, then the primitive development can go
on in the SIP work group.

What about interoperation?  Clearly, you want to advertise that in order for
YOUR UA to do transfer, the TARGET UA/Proxy/foo would have to implement the
necessary primitives properly.  However, I strongly disagree that you have
to codify the detailed call flow.  Either the primitive does what it is
supposed to do or it does not.  The exact call flow (order of primitive
execution) should not matter - YOUR UA is in control of the dialog!

Note that I take this stand not for the "IETF Doesn't Like Things Like
H.450.1, H.450.2, H.450.99999" reason, although it is somewhat reasonable as
a design approach.  For that matter, I do see the need for some level of
standardization of practice, as evidenced by draft-burger-sipping-msuri-01.
However, I do NOT think that the IETF is the place for reducing the practice
of a given call control method to a RFC.

If you do believe you need "standards" for such interoperation, I can think
of three organizations you can bring it to: 3GPP for wireless, CableLabs for
Broadband, and ISC for wireline.  Note that 3GPP and ISC explicitly state
they won't add or change SIP as defined by the IETF.  Documenting a call
flow doesn't change SIP :-)

-----Original Message-----
From: sip-admin@ietf.org [mailto:sip-admin@ietf.org]On Behalf Of Roy,
Radhika R, ALCTA
Sent: Monday, December 03, 2001 11:56 AM
To: Mpierce1@aol.com; sip@ietf.org
Subject: RE: [Sip] re: the future of call control


Comments are inline [RRR].

-----Original Message-----
From: Mpierce1@aol.com [mailto:Mpierce1@aol.com]
Sent: Monday, December 03, 2001 9:38 AM
To: sip@ietf.org
Subject: Re: [Sip] re: the future of call control



>   >, the
>   >question can be "Does your product comply with H.323, H.225, H.425, and
>   >H450.2 for Call Transfer?" If anyone tries to sell SIP phones for use
in
real
>   >networks, what would the equivalent question be for compliance?
>
>  What you are talking about standardizing is basically user interface
>  dependent.  who gets to define the interface for call park?  This isn't
>  consistent on Centrex services with analog phones, and it isn't
consistent
>  across PBX and key systems.
>
I ceratainly agree that we would not be standardizing the user interface. As

in all other telecommunications standards activities, the "network
interface"
needs to be standardized. Many of the examples drawn have included
interactions with a Proxy. This interface can not be proprietary.

[RRR] This is a very important point that Mike has mentioned. I can extend
the example to interfaces of SIP proxies to location servers, policy
servers, security servers, and many others.

If some services work without the intervention of a Proxy (direct
user-to-user
messages), then they should be easy to standardize, but it still must be
done
in order to define the interaction of these simple services with those that
require the use of a Proxy. Otherwise, we can't be sure that "blind
transfer"
will work correctly with, say, Call Forwarding on No Answer.

[RRR] I agree with Mike that the interactions of proxies to provide services
are also very important and, standard interfaces need to be developed
especially for service providers to execute and create network-based
services. My hope is that we will be moving in that direction (e.g., CPL,
SIP services examples, etc. are just the start). In any event, SIP call
services are very important for standardization (e.g., functional
requirements, new SIP primitives if any, RFCs for SIP call services,
interfaces, etc.).

>  thanks,
>  -rohan
>
Mike


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Sat Dec  8 22:03:32 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id WAA09142
	for <sip-archive@odin.ietf.org>; Sat, 8 Dec 2001 22:03:31 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id WAA09068
	for sip-archive@odin.ietf.org; Sat, 8 Dec 2001 22:03:34 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id VAA08276;
	Sat, 8 Dec 2001 21:45:53 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id VAA08071
	for <sip@optimus.ietf.org>; Sat, 8 Dec 2001 21:45:36 -0500 (EST)
Received: from scaup.prod.itd.earthlink.net (scaup.mail.pas.earthlink.net [207.217.120.49])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id VAA08917
	for <sip@ietf.org>; Sat, 8 Dec 2001 21:45:32 -0500 (EST)
Received: from dialup-64.158.27.100.dial1.manchester1.level3.net ([64.158.27.100] helo=eburger)
	by scaup.prod.itd.earthlink.net with esmtp (Exim 3.33 #1)
	id 16Cty8-0000C6-00; Sat, 08 Dec 2001 18:45:32 -0800
Reply-To: <eburger@snowshore.com>
From: "Eric Burger" <eburger@snowshore.com>
To: "Jonathan Rosenberg" <jdrosen@dynamicsoft.com>
Cc: "SIP List" <sip@ietf.org>
Subject: RE: [Sip] Open Issue #150: too many ways of saying "don't send me media"
Date: Sat, 8 Dec 2001 21:45:30 -0500
Message-ID: <EEEDJPFPPHPFKDDLLMOKCEOMDCAA.eburger@snowshore.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2911.0)
In-Reply-To: <B65B4F8437968F488A01A940B21982BF020D713D@DYN-EXCH-001.dynamicsoft.com>
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4807.1700
Importance: Normal
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Does it really matter?  Unless the semantics are unclear or you want to use
it for something else, why impose limits on SDP?  People can do whatever
works; we should document the preferred way of doing things and explain why
you shouldn't do others, like the problems with 0.0.0.0.

-----Original Message-----
From: sip-admin@ietf.org [mailto:sip-admin@ietf.org]On Behalf Of
Jonathan Rosenberg
Sent: Thursday, December 06, 2001 12:41 AM
To: 'sip@ietf.org'
Subject: [Sip] Open Issue #150: too many ways of saying "don't send me
media"


Issue:

There are a bunch of ways to say "don't send me media":

c=0.0.0.0
a=inactive,sendonly
zero port
bw=0

What do these all mean, and do we need them all?

Discussion: We've agreed on most of this already. The only real issue is to
say that bw=0 is never used. So, the proposal is:

c=0.0.0.0          DEPRECATED
a=inactive,sendly  PREFERRED
zero port:         disables media stream
bw=0               DONT USE

-Jonathan R.
---
Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
Chief Scientist                             First Floor
dynamicsoft                                 East Hanover, NJ 07936
jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
http://www.jdrosen.net                      PHONE: (973) 952-5000
http://www.dynamicsoft.com


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Sat Dec  8 22:28:38 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id WAA09304
	for <sip-archive@odin.ietf.org>; Sat, 8 Dec 2001 22:28:38 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id WAA09256
	for sip-archive@odin.ietf.org; Sat, 8 Dec 2001 22:28:39 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id WAA09170;
	Sat, 8 Dec 2001 22:17:43 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id WAA09139
	for <sip@optimus.ietf.org>; Sat, 8 Dec 2001 22:17:40 -0500 (EST)
Received: from sm10.texas.rr.com (sm10.texas.rr.com [24.93.35.222])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id WAA09255
	for <sip@ietf.org>; Sat, 8 Dec 2001 22:17:38 -0500 (EST)
Received: from plong1 (cs666831-164.austin.rr.com [66.68.31.164])
	by sm10.texas.rr.com (8.12.0.Beta16/8.12.0.Beta16) with SMTP id fB93Hd6W000491
	for <sip@ietf.org>; Sat, 8 Dec 2001 21:17:39 -0600
From: "Paul Long" <plong@ipdialog.com>
To: <sip@ietf.org>
Subject: RE: [Sip] Major Open Issue #113: Overlapping Transactions
Date: Sat, 8 Dec 2001 21:14:48 -0600
Message-ID: <NEBBIELHMLDIACLLJHCNEEIIDHAA.plong@ipdialog.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="Windows-1252"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2911.0)
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
Importance: Normal
In-Reply-To: <EEEDJPFPPHPFKDDLLMOKGEOMDCAA.eburger@snowshore.com>
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Eric,

I believe that overlapped sending is expected on desktop telephones. Sure,
people can adapt, but why? At the very least, this will be a quality of
implementation issue, and products that support it will be preferred over
products that do not. The end user does not care or most often even know
what technology is being used, e.g., "Oh, this is a VoIP phone, so I better
press Send."

Paul Long
ipDialog, Inc.

-----Original Message-----
From: sip-admin@ietf.org [mailto:sip-admin@ietf.org]On Behalf Of Eric
Burger
Sent: Saturday, December 08, 2001 8:46 PM
To: Mpierce1@aol.com
Cc: sip@ietf.org
Subject: RE: [Sip] Major Open Issue #113: Overlapping Transactions


But doesn't this argue that we don't need to emulate overlap dialing?  Like
you said, it was a problem in the transition to DTMF (30 years ago) and ISDN
(10 years ago).  Wouldn't it be reasonable to say it's not a problem
anymore?

-----Original Message-----
From: sip-admin@ietf.org [mailto:sip-admin@ietf.org]On Behalf Of
Mpierce1@aol.com
Sent: Friday, December 07, 2001 11:28 AM
To: sip@ietf.org
Subject: Re: [Sip] Major Open Issue #113: Overlapping Transactions


In a message dated 12/6/01 4:18:52 PM Eastern Standard Time,
MChiou@Santera.com writes:

> I vote for no Overlapping for INVITEs. SIP is an IP protocol. People
>  usually input digits then hit the send button. If the user hit the send
>  button too early, it is a incomplete address call. It is the same
>  approach as the wireless network. For 3G release 5 using SIP, I cannot
>  image supporting overlapping, which will tie up the air resources during
>  call setup.
>
In the cellular world, true, you had to hit the send only after entering the
whole number. In the PSTN, not true, the network got each digit separate.

Some would argue that the next generation of phones (IP) should work just
like the old, "black" rotary dial phones. That argument hampered some of the
ISDN standardization and certainly hampered the transition from rotary dial
to DTMF in the US.

I believe it would be appropriate for the IP environment (SIP devices) to
require that the user enter the whole number and then hit "send". We've all
learned to deal with that dialing procedure for celluler. Certainly, 3G
should not support dialing.

Whether this eliminates the need for overlapping INVITEs - I don't know.
There may be other uses, such as the description in
draft-ietf-sip-overlap-01, which is a different issue.

Mike Pierce


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Sat Dec  8 22:52:31 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id WAA10461
	for <sip-archive@odin.ietf.org>; Sat, 8 Dec 2001 22:52:31 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id WAA09853
	for sip-archive@odin.ietf.org; Sat, 8 Dec 2001 22:52:32 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id WAA09695;
	Sat, 8 Dec 2001 22:36:53 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id WAA09664
	for <sip@optimus.ietf.org>; Sat, 8 Dec 2001 22:36:50 -0500 (EST)
Received: from mail.atl.cbeyond.com (stalker.cbeyond.net [64.213.152.22])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id WAA10329
	for <sip@ietf.org>; Sat, 8 Dec 2001 22:36:48 -0500 (EST)
Received: from [10.6.6.17] (HELO exchange.cbeyond.net)
  by mail.atl.cbeyond.com (CommuniGate Pro SMTP 3.4.8)
  with ESMTP id 1310408 for sip@ietf.org; Sat, 08 Dec 2001 22:36:46 -0500
Received: by exchange.cbeyond.net with Internet Mail Service (5.5.2653.19)
	id <YG1J5KW3>; Sat, 8 Dec 2001 22:35:04 -0500
Message-ID: <26C1741C1863524B8F6DECC019A1C905096B8C@exchange.cbeyond.net>
From: Nathan Nelson <nathan.nelson@cbeyond.net>
To: sip@ietf.org
Subject: RE: [Sip] Major Open Issue #113: Overlapping Transactions
Date: Sat, 8 Dec 2001 22:34:58 -0500 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="windows-1252"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

Paul, you are 100% correct.

It is in carriers best interest to not change the basic behavior of
customers.  Adding a step to complete a call would be aggravating for
customers and present additional challenges for carrier customer care
people.

Thx,
Nate Nelson
Principle Architect
Cbeyond Communications 

-----Original Message-----
From: Paul Long [mailto:plong@ipdialog.com]
Sent: Saturday, December 08, 2001 10:15 PM
To: sip@ietf.org
Subject: RE: [Sip] Major Open Issue #113: Overlapping Transactions


Eric,

I believe that overlapped sending is expected on desktop telephones. Sure,
people can adapt, but why? At the very least, this will be a quality of
implementation issue, and products that support it will be preferred over
products that do not. The end user does not care or most often even know
what technology is being used, e.g., "Oh, this is a VoIP phone, so I better
press Send."

Paul Long
ipDialog, Inc.

-----Original Message-----
From: sip-admin@ietf.org [mailto:sip-admin@ietf.org]On Behalf Of Eric
Burger
Sent: Saturday, December 08, 2001 8:46 PM
To: Mpierce1@aol.com
Cc: sip@ietf.org
Subject: RE: [Sip] Major Open Issue #113: Overlapping Transactions


But doesn't this argue that we don't need to emulate overlap dialing?  Like
you said, it was a problem in the transition to DTMF (30 years ago) and ISDN
(10 years ago).  Wouldn't it be reasonable to say it's not a problem
anymore?

-----Original Message-----
From: sip-admin@ietf.org [mailto:sip-admin@ietf.org]On Behalf Of
Mpierce1@aol.com
Sent: Friday, December 07, 2001 11:28 AM
To: sip@ietf.org
Subject: Re: [Sip] Major Open Issue #113: Overlapping Transactions


In a message dated 12/6/01 4:18:52 PM Eastern Standard Time,
MChiou@Santera.com writes:

> I vote for no Overlapping for INVITEs. SIP is an IP protocol. People
>  usually input digits then hit the send button. If the user hit the send
>  button too early, it is a incomplete address call. It is the same
>  approach as the wireless network. For 3G release 5 using SIP, I cannot
>  image supporting overlapping, which will tie up the air resources during
>  call setup.
>
In the cellular world, true, you had to hit the send only after entering the
whole number. In the PSTN, not true, the network got each digit separate.

Some would argue that the next generation of phones (IP) should work just
like the old, "black" rotary dial phones. That argument hampered some of the
ISDN standardization and certainly hampered the transition from rotary dial
to DTMF in the US.

I believe it would be appropriate for the IP environment (SIP devices) to
require that the user enter the whole number and then hit "send". We've all
learned to deal with that dialing procedure for celluler. Certainly, 3G
should not support dialing.

Whether this eliminates the need for overlapping INVITEs - I don't know.
There may be other uses, such as the description in
draft-ietf-sip-overlap-01, which is a different issue.

Mike Pierce


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Sat Dec  8 22:59:50 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id WAA10543
	for <sip-archive@odin.ietf.org>; Sat, 8 Dec 2001 22:59:50 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id WAA09929
	for sip-archive@odin.ietf.org; Sat, 8 Dec 2001 22:59:51 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id WAA09840;
	Sat, 8 Dec 2001 22:51:39 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id WAA09809
	for <sip@optimus.ietf.org>; Sat, 8 Dec 2001 22:51:36 -0500 (EST)
Received: from imo-d08.mx.aol.com (imo-d08.mx.aol.com [205.188.157.40])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id WAA10454
	for <sip@ietf.org>; Sat, 8 Dec 2001 22:51:34 -0500 (EST)
From: Mpierce1@aol.com
Received: from Mpierce1@aol.com
	by imo-d08.mx.aol.com (mail_out_v31_r1.9.) id 7.46.1f048bf3 (4215);
	Sat, 8 Dec 2001 22:50:53 -0500 (EST)
Message-ID: <46.1f048bf3.2944399d@aol.com>
Date: Sat, 8 Dec 2001 22:50:53 EST
Subject: Re: [Sip] re: the future of call control
To: eburger@snowshore.com, rrroy@att.com
CC: sip@ietf.org
MIME-Version: 1.0
Content-Type: text/plain; charset="US-ASCII"
Content-Transfer-Encoding: 7bit
X-Mailer: AOL 5.0 for Windows sub 42
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

In a message dated 12/8/01 9:46:05 PM Eastern Standard Time, 
eburger@snowshore.com writes:

> I fully *disagree* that these services need to be standardized.  The reason
>  is simple: what we're being asked to do is standardize a "marketing"
>  function.  What do I mean by that?  You want to advertise that you support
>  "blind transfer".  I can think of at least two, orthogonal ways of
>  implementing it.  Standardizing the call flow for blind transfer means that
>  any of the other, legitimate, possibly superior methods can't be "legally"
>  used.
>  
<snip>
  
>  If you do believe you need "standards" for such interoperation, I can think
>  of three organizations you can bring it to: 3GPP for wireless, CableLabs 
for
>  Broadband, and ISC for wireline.  Note that 3GPP and ISC explicitly state
>  they won't add or change SIP as defined by the IETF.  Documenting a call
>  flow doesn't change SIP :-)
>  
Sorry, but none of the 3 roganizations you listed is a "standards 
organization". IETF is.

I can name at least three real standards organizations that have found it 
necessary and important to write such standards for telephony services for 
previous technologies - ISDN, etc. And it wasn't viewed as "marketing". There 
is no reason why SIP should be any different and not need such standards.

Mike

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Sun Dec  9 09:31:17 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id JAA01090
	for <sip-archive@odin.ietf.org>; Sun, 9 Dec 2001 09:31:17 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id JAA01814
	for sip-archive@odin.ietf.org; Sun, 9 Dec 2001 09:31:20 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id JAA01218;
	Sun, 9 Dec 2001 09:22:01 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id JAA01186
	for <sip@optimus.ietf.org>; Sun, 9 Dec 2001 09:21:59 -0500 (EST)
Received: from mailgate.pit.comms.marconi.com (mailgate.pit.comms.marconi.com [169.144.68.6])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id JAA00983
	for <sip@ietf.org>; Sun, 9 Dec 2001 09:21:55 -0500 (EST)
Received: from mailman.pit.comms.marconi.com (mailman.pit.comms.marconi.com [169.144.2.12])
	by mailgate.pit.comms.marconi.com (8.9.3/8.9.3) with ESMTP id JAA02405;
	Sun, 9 Dec 2001 09:21:27 -0500 (EST)
Received: from whq-msgrtr-01.pit.comms.marconi.com (whq-msgrtr-01.pit.comms.marconi.com [169.144.2.221])
	by mailman.pit.comms.marconi.com (8.9.3/8.9.3) with ESMTP id JAA00688;
	Sun, 9 Dec 2001 09:21:27 -0500 (EST)
Received: by whq-msgrtr-01.pit.comms.marconi.com with Internet Mail Service (5.5.2650.21)
	id <XXG164Z8>; Sun, 9 Dec 2001 09:21:27 -0500
Message-ID: <313680C9A886D511A06000204840E1CF57C66B@whq-msgusr-02.pit.comms.marconi.com>
From: "Rosen, Brian" <Brian.Rosen@marconi.com>
To: "'Brett Tate '" <brett@broadsoft.com>,
        "'sip-ietf (E-mail) '"
	 <sip@ietf.org>
Subject: RE: [Sip] rfc2543 bis-05 line 4489: LWS
Date: Sun, 9 Dec 2001 09:21:19 -0500 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2650.21)
Content-Type: text/plain;
	charset="iso-8859-1"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

There is a bug in the definitions of the punctuation characters
that forces at least one whitespace character.  This has been
fixed.  A new production like LWS but without the "1*" has
been created, and that is used around the SEMI, COMMA and
COLON, etc. productions.

Brian 

-----Original Message-----
From: Brett Tate
To: sip-ietf (E-mail)
Sent: 12/7/01 8:38 PM
Subject: [Sip] rfc2543 bis-05 line 4489: LWS

If I am interpreting the rfc2543-05 correctly, 
the protocol now requires a lot of mandatory
whitespace.

Isn't LWS as defined on 4465 interpreted 
as at least one SP or HT?  The definitions 
related to line 4489 appear to be requiring 
whitespace, instead of making it optional.

[Forgive me if this has been discussed,
I couldn't find the thread.]


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Sun Dec  9 10:53:57 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id KAA01654
	for <sip-archive@odin.ietf.org>; Sun, 9 Dec 2001 10:53:57 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id KAA03934
	for sip-archive@odin.ietf.org; Sun, 9 Dec 2001 10:53:59 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id KAA03641;
	Sun, 9 Dec 2001 10:39:21 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id KAA03615
	for <sip@optimus.ietf.org>; Sun, 9 Dec 2001 10:39:18 -0500 (EST)
Received: from imr1.ericy.com (imr1.ericy.com [208.237.135.240])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id KAA01565
	for <sip@ietf.org>; Sun, 9 Dec 2001 10:39:15 -0500 (EST)
Received: from mr7.exu.ericsson.se (mr7u3.ericy.com [208.237.135.122])
	by imr1.ericy.com (8.11.3/8.11.3) with ESMTP id fB9FVhH07410;
	Sun, 9 Dec 2001 09:31:43 -0600 (CST)
Received: from newman.exu.ericsson.se (newman.exu.ericsson.se [138.85.75.179])
	by mr7.exu.ericsson.se (8.11.3/8.11.3) with ESMTP id fB9FVgZ25034;
	Sun, 9 Dec 2001 09:31:42 -0600 (CST)
Received: from lmf.ericsson.se (rmt160172.am.ericsson.se [138.85.160.172]) by newman.exu.ericsson.se (8.7.5/8.7.3) with ESMTP id JAA14612; Sun, 9 Dec 2001 09:31:39 -0600 (CST)
Message-ID: <3C1389BC.711DDFAD@lmf.ericsson.se>
Date: Sun, 09 Dec 2001 17:56:44 +0200
From: Gonzalo Camarillo <Gonzalo.Camarillo@lmf.ericsson.se>
X-Mailer: Mozilla 4.79 [en] (WinNT; U)
X-Accept-Language: en
MIME-Version: 1.0
To: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
CC: "'John.Hearty@Level3.com'" <John.Hearty@Level3.com>, mnurmet@ev1.net,
        Mpierce1@aol.com, sip@ietf.org, MChiou@santera.com,
        eburger@snowshore.com, Paul Long <plong@ipdialog.com>,
        Nathan Nelson <nathan.nelson@cbeyond.net>,
        Dean Willis <dwillis@dynamicsoft.com>,
        Biran Rosen <Brian.Rosen@marconi.com>
Subject: Re: [Sip] DO NOT SIDE-TRACK THREADS! WAS Major Open Issue #113: 
 Overlapping Transactions
References: <B65B4F8437968F488A01A940B21982BF02EF5819@DYN-EXCH-001.dynamicsoft.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Hello,

It has been said at least 3 times but folks seems to ignore it.

If you want to discuss about something that is NOT Bug#113 (like overlap
dialing), PLEASE CHANGE THE SUBJECT OF THE MAIL!!

Otherwise it is very difficult (and time consuming) to check if there is
consensus of a particular open issue in bis in order to close it.

As an example, this thread has 19 messages and only 6 of them deal with
bug#113. When only 30% of the messages of a thread deal with the actual
problem being discussed the overhead delays the standardization process
a lot.

Thanks,

Gonzalo

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Sun Dec  9 12:41:39 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA02631
	for <sip-archive@odin.ietf.org>; Sun, 9 Dec 2001 12:41:38 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id MAA07397
	for sip-archive@odin.ietf.org; Sun, 9 Dec 2001 12:41:39 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA07042;
	Sun, 9 Dec 2001 12:34:48 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA06970
	for <sip@optimus.ietf.org>; Sun, 9 Dec 2001 12:34:41 -0500 (EST)
Received: from mail3.dynamicsoft.com ([63.113.44.69])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA02509
	for <sip@ietf.org>; Sun, 9 Dec 2001 12:34:37 -0500 (EST)
Received: from DYN-VA-EXCH-001.dynamicsoft.com ([63.114.208.70])
	by mail3.dynamicsoft.com (8.12.1/8.12.1) with ESMTP id fB9HYOVZ016072;
	Sun, 9 Dec 2001 12:34:25 -0500 (EST)
Received: by DYN-VA-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.1960.3)
	id <X18HTJAJ>; Sun, 9 Dec 2001 12:34:07 -0500
Message-ID: <9BF66EBF6BEFD942915B4D4D45C051F325F302@DYN-TX-EXCH-001.dynamicsoft.com>
From: Robert Sparks <rsparks@dynamicsoft.com>
To: Gonzalo Camarillo <Gonzalo.Camarillo@lmf.ericsson.se>,
        Jonathan Rosenberg <jdrosen@dynamicsoft.com>
Cc: "'sip@ietf.org'" <sip@ietf.org>
Subject: RE: [Sip] Open Issue #109: Allow in non-INVITE
Date: Sun, 9 Dec 2001 12:33:55 -0500 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.1960.3)
Content-Type: text/plain
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

Is there anything that could be learned from an
OPTIONS request send inside a dialog (which avoids
the ambiquity you discuss below) that coudn't be
learned through the INVITE/200 OK handshake?

If so, we should allow those headers to have meaning
for OPTIONS, at least within a dialog.

If not, we should more strongly recommend (require?)
their inclusion in an INVITE 200.

There are some implementations that use an in-session
OPTIONS today, to stimulate more output from other 
implementations that are not chatty with their 200s,
primarily to determine if the other side supports REFER
before enabling transfer at their UI.

RjS

> -----Original Message-----
> From: Gonzalo Camarillo [mailto:Gonzalo.Camarillo@lmf.ericsson.se]
> Sent: Thursday, December 06, 2001 4:49 PM
> To: Jonathan Rosenberg
> Cc: 'sip@ietf.org'
> Subject: Re: [Sip] Open Issue #109: Allow in non-INVITE
> 
> 
> 
> 
> Jonathan Rosenberg wrote:
> > 
> > Issue:
> > 
> > There are two issues. Both are minor:
> > 
> >   * do we allow Allow in requests outside of INVITE and OPTIONS?
> > 
> >   * If I send OPTIONS to sip:user@foo.com, and the response 
> has an Allow,
> > what does that mean exactly? Does that mean that it is safe 
> to send the
> > methods listed in the Allow to sip:user@foo.com in the 
> future? Or that its
> > safe to send the methods listed in the Allow to the URL in 
> the Contact of
> > the OPTIONS? After all, a subsequent request might not 
> route to the same UA
> > that got the OPTIONS; so, even if the OPTIONS response 
> indicates that method
> > BAR is allowed, there is no guarantee that when you send BAR to
> > sip:user@foo.com, it will get to the same UA which respoded 
> to the OPTIONS.
> > 
> > Discussion points:
> > 
> > For the first issue, lets KISS and disallow it. Extensions 
> can of course
> > indicate whether its useful.
> > 
> > For the second one, its worth observing that this concern 
> is true for all
> > other headers in the OPTIONS response - Accept, 
> Accept-Encoding, Supported,
> > etc. In fact, its true for headers like WWW-Authenticate 
> and Authorization.
> > I may call a UA, it returns a 401 w/ WWW-Authenticate, I stick in an
> > Authorization header, and resubmit the request, but it gets routed
> > differently, to a different UA. Same issue. I don't think 
> its a big deal,
> > since in all cases you'll simply get the appropriate error 
> code and can try
> > again.
> > 
> > Proposal:
> > 
> > * point 1: disallow
> 
> What about disallowing Allow in methods that do not establish dialogs?
> OPTIONS would be the only expection to the rule.
> 
> Regards,
> 
> Gonzalo
> 
> > * point 2: don't care. Allow refers to methods supported by 
> the resource in
> > the request URI of the original OPTIONS request sent by the UAC.
> > 
> > -Jonathan R.
> > 
> > ---
> > Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
> > Chief Scientist                             First Floor
> > dynamicsoft                                 East Hanover, NJ 07936
> > jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
> > http://www.jdrosen.net                      PHONE: (973) 952-5000
> > http://www.dynamicsoft.com
> > 
> > 
> > _______________________________________________
> > Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> > This list is for NEW development of the core SIP Protocol
> > Use sip-implementors@cs.columbia.edu for questions on current sip
> > Use sipping@ietf.org for new developments on the application of sip
> 
> -- 
> Gonzalo Camarillo                    Phone :   +1 212 939 71 71
> Columbia University                  Mobile:  +358 40 702 35 35
> 472 Computer Science Building        Fax   :  +358  9 299 30 52
> 1214 Amsterdam Ave., Mail Code 0401  http://www.hut.fi/~gonzalo
> New York, NY 10027                   
> USA                              Gonzalo.Camarillo@ericsson.com
> 
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
> 

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Sun Dec  9 12:42:22 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA02655
	for <sip-archive@odin.ietf.org>; Sun, 9 Dec 2001 12:42:22 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id MAA07473
	for sip-archive@odin.ietf.org; Sun, 9 Dec 2001 12:42:23 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA07172;
	Sun, 9 Dec 2001 12:35:00 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA07112
	for <sip@optimus.ietf.org>; Sun, 9 Dec 2001 12:34:57 -0500 (EST)
Received: from mail1.dynamicsoft.com (mail1.dynamicsoft.com [63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA02517
	for <sip@ietf.org>; Sun, 9 Dec 2001 12:34:53 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fB9HWP4I004255;
	Sun, 9 Dec 2001 12:32:25 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <YAN9ZF8F>; Sun, 9 Dec 2001 12:33:56 -0500
Message-ID: <9BF66EBF6BEFD942915B4D4D45C051F325F300@DYN-TX-EXCH-001.dynamicsoft.com>
From: Robert Sparks <rsparks@dynamicsoft.com>
To: John.Hearty@Level3.com, jdrosen@dynamicsoft.com, sip@ietf.org
Subject: RE: [Sip] Open Issue #282: Timer C needs minimum for proxies
Date: Sun, 9 Dec 2001 12:33:54 -0500 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

This is related to the question of how proxies treat
an Expires header in an INVITE. If we ask a proxy to
remain aware of that header, it will influence timer C
and we have to answer what the timer should be if there
is no Expires header present.

If proxies remain aware of the Expires header, I expect
most of them to have a policy that limits how large 
timer C can be made (otherwise, they increase their 
vunerability to state-depletion DoS through lots of
INVITEs with very long Expires). 

I propose we recognize this policy and base timer C
at a proxy on that alone, recommending a reasonably
long value.

With this proposal, a proxy would not even need to parse
the Expires header for an INVITE. If an Expires header
is present with a shorter value than what the proxy
uses for timer C one of four things will happen:

1) the receiving endpoint with 408 the request - the
   proxy's client transaction gets to enter
   the completed state
2) the requesting endpoint CANCELs and the receiving
   endpoint returns a 487 - the proxy's client transaction
   gets to enter the completed state
3) the requesting endpoint CANCELS but the receiving
   endpoint fails to return a 487 - the proxy's client
   transaction enters the terminal state after 
   timer C expires
4) both endpoints (or the network infrastructure) are
   misbehaving - the proxy's client transaction enters
   the terminal state after timer C expires.

If this is acceptable, it still leaves us with the question
of what value we should recommend. I propose something
long - order of .5 to 1 hour (remember that calls stay in a 
provisional state with early media when you are in the queue
to talk to an AA representative).

RjS

> -----Original Message-----
> From: John.Hearty@Level3.com [mailto:John.Hearty@Level3.com]
> Sent: Thursday, December 06, 2001 4:49 PM
> To: jdrosen@dynamicsoft.com; sip@ietf.org
> Subject: RE: [Sip] Open Issue #282: Timer C needs minimum for proxies
> 
> 
> I agree with the proposal, but wonder if the arbitrary number 
> chosen might
> be a bit short.  In the PSTN, 32 seconds typically equates to 
> 5 rings in the
> US.  Grandma might not make it to the phone in time...
> 
> 
> > -----Original Message-----
> > From: Jonathan Rosenberg [mailto:jdrosen@dynamicsoft.com]
> > Sent: Thursday, December 06, 2001 3:10 PM
> > To: 'sip@ietf.org'
> > Subject: [Sip] Open Issue #282: Timer C needs minimum for proxies
> > 
> > 
> > Issue:
> > 
> > The spec says that Timer C is specified by the TU. Timer C 
> > defines how long
> > the 
> > client invite transaction waits for a final response after a 
> > provisional.
> > Having this 
> > be entirely defined by the TU makes sense when the TU is a 
> > UAC (i.e., how
> > long you let the phone ring is a matter of local policy). 
> But, for a 
> > proxy, its a different story. If the proxy transactions give 
> > up immediately,
> > 
> > calls will not function properly. Thus, for this to work, 
> > proxies need to
> > have a 
> > minimum value for timer C. 
> > 
> > Proposal:
> > 
> > The proposal would be to have 32s as the minimum. This value 
> > is somewhat
> > arbitrary.
> > 
> > -Jonathan R.
> > 
> > ---
> > Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
> > Chief Scientist                             First Floor
> > dynamicsoft                                 East Hanover, NJ 07936
> > jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
> > http://www.jdrosen.net                      PHONE: (973) 952-5000
> > http://www.dynamicsoft.com
> >  
> > 
> > _______________________________________________
> > Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> > This list is for NEW development of the core SIP Protocol
> > Use sip-implementors@cs.columbia.edu for questions on current sip
> > Use sipping@ietf.org for new developments on the application of sip
> > 
> 
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
> 

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Sun Dec  9 12:43:14 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA02682
	for <sip-archive@odin.ietf.org>; Sun, 9 Dec 2001 12:43:14 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id MAA07490
	for sip-archive@odin.ietf.org; Sun, 9 Dec 2001 12:43:15 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA07009;
	Sun, 9 Dec 2001 12:34:45 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA06959
	for <sip@optimus.ietf.org>; Sun, 9 Dec 2001 12:34:41 -0500 (EST)
Received: from mail3.dynamicsoft.com ([63.113.44.69])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA02507
	for <sip@ietf.org>; Sun, 9 Dec 2001 12:34:37 -0500 (EST)
Received: from DYN-VA-EXCH-001.dynamicsoft.com ([63.114.208.70])
	by mail3.dynamicsoft.com (8.12.1/8.12.1) with ESMTP id fB9HYOVa016071;
	Sun, 9 Dec 2001 12:34:25 -0500 (EST)
Received: by DYN-VA-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.1960.3)
	id <X18HTJA2>; Sun, 9 Dec 2001 12:34:07 -0500
Message-ID: <9BF66EBF6BEFD942915B4D4D45C051F325F301@DYN-TX-EXCH-001.dynamicsoft.com>
From: Robert Sparks <rsparks@dynamicsoft.com>
To: Gonzalo Camarillo <Gonzalo.Camarillo@lmf.ericsson.se>,
        Jonathan Rosenberg <jdrosen@dynamicsoft.com>
Cc: "'sip@ietf.org'" <sip@ietf.org>
Subject: RE: [Sip] Open Issue #109: Allow in non-INVITE
Date: Sun, 9 Dec 2001 12:33:55 -0500 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.1960.3)
Content-Type: text/plain
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

We need to be careful to specify what it means to
receive a method with a disallowed header. We don't
want implementations to refuse to accept an ACK because
it contains an Allow header.

I _think_ what we mean by disallowing a header (using the
hyphen in Table 2) is the following

   It doesn't make any sense in the context of the method
   and it is safe to just ignore it if present. Basically
   this is explicitly saying "it doesn't mean anything 
   here" or "in this context, it is an undefined header"

> -----Original Message-----
> From: Gonzalo Camarillo [mailto:Gonzalo.Camarillo@lmf.ericsson.se]
> Sent: Thursday, December 06, 2001 4:49 PM
> To: Jonathan Rosenberg
> Cc: 'sip@ietf.org'
> Subject: Re: [Sip] Open Issue #109: Allow in non-INVITE
> 
> 
> 
> 
> Jonathan Rosenberg wrote:
> > 
> > Issue:
> > 
> > There are two issues. Both are minor:
> > 
> >   * do we allow Allow in requests outside of INVITE and OPTIONS?
> > 
> >   * If I send OPTIONS to sip:user@foo.com, and the response 
> has an Allow,
> > what does that mean exactly? Does that mean that it is safe 
> to send the
> > methods listed in the Allow to sip:user@foo.com in the 
> future? Or that its
> > safe to send the methods listed in the Allow to the URL in 
> the Contact of
> > the OPTIONS? After all, a subsequent request might not 
> route to the same UA
> > that got the OPTIONS; so, even if the OPTIONS response 
> indicates that method
> > BAR is allowed, there is no guarantee that when you send BAR to
> > sip:user@foo.com, it will get to the same UA which respoded 
> to the OPTIONS.
> > 
> > Discussion points:
> > 
> > For the first issue, lets KISS and disallow it. Extensions 
> can of course
> > indicate whether its useful.
> > 
> > For the second one, its worth observing that this concern 
> is true for all
> > other headers in the OPTIONS response - Accept, 
> Accept-Encoding, Supported,
> > etc. In fact, its true for headers like WWW-Authenticate 
> and Authorization.
> > I may call a UA, it returns a 401 w/ WWW-Authenticate, I stick in an
> > Authorization header, and resubmit the request, but it gets routed
> > differently, to a different UA. Same issue. I don't think 
> its a big deal,
> > since in all cases you'll simply get the appropriate error 
> code and can try
> > again.
> > 
> > Proposal:
> > 
> > * point 1: disallow
> 
> What about disallowing Allow in methods that do not establish dialogs?
> OPTIONS would be the only expection to the rule.
> 
> Regards,
> 
> Gonzalo
> 
> > * point 2: don't care. Allow refers to methods supported by 
> the resource in
> > the request URI of the original OPTIONS request sent by the UAC.
> > 
> > -Jonathan R.
> > 
> > ---
> > Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
> > Chief Scientist                             First Floor
> > dynamicsoft                                 East Hanover, NJ 07936
> > jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
> > http://www.jdrosen.net                      PHONE: (973) 952-5000
> > http://www.dynamicsoft.com
> > 
> > 
> > _______________________________________________
> > Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> > This list is for NEW development of the core SIP Protocol
> > Use sip-implementors@cs.columbia.edu for questions on current sip
> > Use sipping@ietf.org for new developments on the application of sip
> 
> -- 
> Gonzalo Camarillo                    Phone :   +1 212 939 71 71
> Columbia University                  Mobile:  +358 40 702 35 35
> 472 Computer Science Building        Fax   :  +358  9 299 30 52
> 1214 Amsterdam Ave., Mail Code 0401  http://www.hut.fi/~gonzalo
> New York, NY 10027                   
> USA                              Gonzalo.Camarillo@ericsson.com
> 
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
> 

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Sun Dec  9 12:47:52 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA02742
	for <sip-archive@odin.ietf.org>; Sun, 9 Dec 2001 12:47:52 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id MAA07599
	for sip-archive@odin.ietf.org; Sun, 9 Dec 2001 12:47:53 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA06977;
	Sun, 9 Dec 2001 12:34:42 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA06937
	for <sip@optimus.ietf.org>; Sun, 9 Dec 2001 12:34:39 -0500 (EST)
Received: from mail3.dynamicsoft.com ([63.113.44.69])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA02505
	for <sip@ietf.org>; Sun, 9 Dec 2001 12:34:35 -0500 (EST)
Received: from DYN-VA-EXCH-001.dynamicsoft.com ([63.114.208.70])
	by mail3.dynamicsoft.com (8.12.1/8.12.1) with ESMTP id fB9HYOVZ016071;
	Sun, 9 Dec 2001 12:34:24 -0500 (EST)
Received: by DYN-VA-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.1960.3)
	id <X18HTJAK>; Sun, 9 Dec 2001 12:34:07 -0500
Message-ID: <9BF66EBF6BEFD942915B4D4D45C051F325F303@DYN-TX-EXCH-001.dynamicsoft.com>
From: Robert Sparks <rsparks@dynamicsoft.com>
To: Jo Hornsby <jhornsby@ubiquity.net>,
        Jonathan Rosenberg
	 <jdrosen@dynamicsoft.com>, sip@ietf.org
Subject: RE: [Sip] Open Issue #203: transport related params in To/From
Date: Sun, 9 Dec 2001 12:33:56 -0500 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.1960.3)
Content-Type: text/plain
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org



> From: Jo Hornsby [mailto:jhornsby@ubiquity.net]
> > Issue:
> > 
> > Minor issue. Table 1 indicates that in the From/To fields, a 
> > SIP URL cannot contain an maddr, but can contain a port.
> > This seems odd. Either all addressing params should be 
> > allowed (port, transport, ttl, maddr) else none of them.
> >
> > Proposal:
> > 
> > From/To are supposed to be logical addresses, so neither port 
> > nor maddr nor any of the others make much sense there.
> > Proposal is to remove unless anyone is sending with these
> > parameters.
> 
> Sounds good to me.
> 
> If this approach is adopted, am I right in thinking we will
> have to be _very_ strict about refusing requests that have
> these parameters (else I can see nasty SIP URL comparison
> issues ariving)?

Why not ignore them if present? I can't think of any comparison
issues taking that approach that don't also exist in deciding to
reject the message based on the contents of the URL.

RjS

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Sun Dec  9 12:52:32 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA02801
	for <sip-archive@odin.ietf.org>; Sun, 9 Dec 2001 12:52:31 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id MAA07670
	for sip-archive@odin.ietf.org; Sun, 9 Dec 2001 12:52:33 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA07555;
	Sun, 9 Dec 2001 12:46:10 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA07524
	for <sip@optimus.ietf.org>; Sun, 9 Dec 2001 12:46:08 -0500 (EST)
Received: from mail-green.research.att.com (H-135-207-30-103.research.att.com [135.207.30.103])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA02727
	for <sip@ietf.org>; Sun, 9 Dec 2001 12:46:06 -0500 (EST)
Received: from alliance.research.att.com (alliance.research.att.com [135.207.26.26])
	by mail-green.research.att.com (Postfix) with ESMTP id 643191E05A
	for <sip@ietf.org>; Sun,  9 Dec 2001 12:46:08 -0500 (EST)
Received: from fish.research.att.com (fish.research.att.com [135.207.27.137])
	by alliance.research.att.com (8.8.7/8.8.7) with ESMTP id MAA05629
	for <sip@ietf.org>; Sun, 9 Dec 2001 12:46:07 -0500 (EST)
From: William Marshall <wtm@research.att.com>
Received: (from wtm@localhost)
	by fish.research.att.com (SGI-8.9.3/8.8.5) id MAA10384
	for sip@ietf.org; Sun, 9 Dec 2001 12:46:29 -0500 (EST)
Date: Sun, 9 Dec 2001 12:46:29 -0500 (EST)
Message-Id: <200112091746.MAA10384@fish.research.att.com>
To: sip@ietf.org
Subject: Re: [Sip] Open Issue #205: Headers and method param in 3xx/REGISTER Contact
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

An additional point in favor of the resolution propoesed by Jonathan
is that "method=foobar" effectively disllows a future SIP header 
Method: ..whatever...

I pointed this problem out in my comments to the Refer draft, where
it effectively reserved headers "to-tag" and "from-tag".

Agree with the proposal as stated

Bill Marshall
wtm@research.att.com


> From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
> To: "'sip@ietf.org'" <sip@ietf.org>
> Date: Thu, 6 Dec 2001 11:35:29 -0500 
> Subject: [Sip] Open Issue #205: Headers and method param in 3xx/REGISTER Contact
>  header URLs
> 
> Issue:
> 
> Minor issue.
> 
> bis-05 allows the URL method parameter and header parameters to appear in
> 3xx and REGISTER requests/responses. Do we really want this?
> 
> Discussion:
> 
> Headers - yes. It makes sense for me to be able to redirect you to my
> voicemail with a specific Subject header, for example:
> 
> 303 Send Voicemail SIP/2.0
> Contact: sip:myvoicemail@vm.com?Subject=call%20from%20Bob
> 
> Method parameter - no. That is definitely dangerous. The only complication
> is that we use the caller preferences methods (note the plural) contact
> header for presence, amongst other things. Due to the unfortunate closeness
> of these two parameter names, some people are using the method param
> instead, i.e.:
> 
> REGISTER
> Contact: sip:user@host;method="SUBSCRIBE"
> 
> This is definitely WRONG, since the syntax for method does not actually use
> quoted strings. However, it is out there.
> 
> I would argue, on the other hand, that we should not standardize something
> because people have misimplemented it.
> 
> Proposal:
> 
> Allow headers
> disallow method
> 
> -Jonathan R.
> 
> ---
> Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
> Chief Scientist                             First Floor
> dynamicsoft                                 East Hanover, NJ 07936
> jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
> http://www.jdrosen.net                      PHONE: (973) 952-5000
> http://www.dynamicsoft.com
>  
> 
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
> 

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Sun Dec  9 15:26:58 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA04196
	for <sip-archive@odin.ietf.org>; Sun, 9 Dec 2001 15:26:58 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id PAA10638
	for sip-archive@odin.ietf.org; Sun, 9 Dec 2001 15:27:01 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id PAA10514;
	Sun, 9 Dec 2001 15:14:01 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id PAA10485
	for <sip@optimus.ietf.org>; Sun, 9 Dec 2001 15:13:58 -0500 (EST)
Received: from sj-msg-core-1.cisco.com (sj-msg-core-1.cisco.com [171.71.163.11])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA04117
	for <sip@ietf.org>; Sun, 9 Dec 2001 15:13:55 -0500 (EST)
Received: from mira-sjc5-7.cisco.com (mira-sjc5-7.cisco.com [171.71.163.27])
	by sj-msg-core-1.cisco.com (8.11.3/8.9.1) with ESMTP id fB9KDLV05677;
	Sun, 9 Dec 2001 12:13:21 -0800 (PST)
Received: from thomasm-u1.cisco.com (thomasm-u1.cisco.com [128.107.140.53])
	by mira-sjc5-7.cisco.com (Mirapoint)
	with ESMTP id AAM17691;
	Sun, 9 Dec 2001 12:12:46 -0800 (PST)
Received: (thomasm@localhost) by thomasm-u1.cisco.com (8.8.8-Cisco List Logging/CISCO.WS.1.2) id MAA02234; Sun, 9 Dec 2001 12:13:20 -0800 (PST)
From: Michael Thomas <mat@cisco.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <15379.50656.234818.534600@thomasm-u1.cisco.com>
Date: Sun, 9 Dec 2001 12:13:20 -0800 (PST)
To: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
Cc: "'Michael Thomas'" <mat@cisco.com>,
        "Drage, Keith (Keith)"
	 <drage@lucent.com>,
        "'sip@ietf.org'" <sip@ietf.org>
Subject: RE: [Sip] bis-05: transport mechanisms
In-Reply-To: <B65B4F8437968F488A01A940B21982BF02EF581A@DYN-EXCH-001.dynamicsoft.com>
References: <B65B4F8437968F488A01A940B21982BF02EF581A@DYN-EXCH-001.dynamicsoft.com>
X-Mailer: VM 6.72 under 21.1 (patch 6) "Big Bend" XEmacs Lucid
X-Face: &,heK/V66p?[2!i|tVn,9lN0TUvEv7:9FzXREj/AuzN4m<D]vnFJ>u!4x[/Z4t{V}~L]+Sk
 @RFNnJEg~WZ/(8<`5a),-7ukALWa^&?&D2R0CSG3kO5~#6JxLF\d,g">$%B!0w{W)qIhmwhye104zd
 bUcI'1!
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Jonathan Rosenberg writes:
 > > I think that placing TLS in the same level of
 > > naming hierarchy as "transport" is asking for
 > > trouble. If we must, we should append the security
 > > layer to the actual L4 transport, as in TCP/TLS or
 > > UDP/IPsec, etc.
 > > 
 > 
 > transport=tls refers to TLS/TCP specifically, we should simply clarify that.
 > 
 > However, it makes no sense to me to specify a transport of UDP/IPsec, since
 > IPSec configuration is usually at the OS layer, below the SIP application.
 > Thus, the proxy or UA would have no way to even explicitly use or not use
 > IPSec.

   Again, this is an API issue, not a protocol issue. I 
   can very easily install an SA on my Linux box from an
   application by doing:

     system ("ipsec manual --up mtcc.com");

   or somesuch. I can also sniff the credentials
   on a given SPI, albeit the API pretty well
   sucks at the moment.

   Let's not confuse the current lack of decent
   IPsec socket interface with complete inability.
   Indeed, expanded use of transport IPsec will 
   probably force this issue.
   
	Mike

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Sun Dec  9 17:08:49 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id RAA05026
	for <sip-archive@odin.ietf.org>; Sun, 9 Dec 2001 17:08:49 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id RAA13199
	for sip-archive@odin.ietf.org; Sun, 9 Dec 2001 17:08:51 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id QAA12479;
	Sun, 9 Dec 2001 16:54:23 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id QAA12451
	for <sip@optimus.ietf.org>; Sun, 9 Dec 2001 16:54:20 -0500 (EST)
Received: from broadsof.temp.veriohosting.com (broadsof.temp.veriohosting.com [161.58.239.68])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id QAA04928
	for <sip@ietf.org>; Sun, 9 Dec 2001 16:54:16 -0500 (EST)
Received: from tate ([64.243.180.244]) by broadsof.temp.veriohosting.com (8.11.6) id fB9LsD765807; Sun, 9 Dec 2001 16:54:13 -0500 (EST)
Reply-To: <brett@broadsoft.com>
From: "Brett Tate" <brett@broadsoft.com>
To: <sip@ietf.org>
Subject: RE: [Sip] Open Issue #144: Branch ID  + isCancel() as transaction ID
Date: Sun, 9 Dec 2001 16:55:59 -0500
Message-ID: <005101c180fc$4a3d2680$2b01a8c0@broadsoft.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook CWS, Build 9.0.2416 (9.0.2911.0)
In-Reply-To: <B65B4F8437968F488A01A940B21982BF02EF5816@DYN-EXCH-001.dynamicsoft.com>
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4522.1200
Importance: Normal
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

> > > Proposal:
> > > 
> > > Allow for branch ID to be the transaction ID, by taking the 
> > > steps described
> > > above.
> > 
> > I like the simplification.  However using 
> > "branch" would definitely cause backward 
> > compatibility issues since it was not
> > previously required to be globally unique.
> > I guess a poll could be taken.
> 
> No, no. Thats the purpose of this cookie. So, if you are bis 
> compliant, you
> insert branch that is globally unique, and that branch ALWAYS 
> starts with
> BRETTTATE, say:
> 
> Via: SIP/2.0/UDP foo.com;branch=BRETTTATEasd9asdsd:asd98
> 
> Now, when a proxy or UAS receives a request, it looks at the 
> top Via. If the
> branch is there AND it has this cookie, the proxy/uas is sure that the
> previous hop supports bis and thus inserted a globally unique 
> branch ID.
> KNowing that, it need not look farther for a transaction ID, 
> the remainder
> of the Via (plus a bit depending on whether its CANCEL or 
> not) define the
> tranasction ID. If the branch ID is missing, or if it doesn't 
> start with
> BRETTTATE, its an older client, and thus the regular 
> transaction processing
> is done.

Thanks for the response.  I didn't notice 
the part about the receiver being able to 
deduce that the branch started with the 
"magic cookie".

The proposal sounds fine.

I guess parsing the branch contents to 
know it is globally unique isn't any harder 
than dealing with an extra parameter to
indicate the same thing.  Hopefully a magic
cookie can be chosen which reduces accidental
insertion of the magic cookie by the currently
released products.


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Sun Dec  9 17:50:22 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id RAA05292
	for <sip-archive@odin.ietf.org>; Sun, 9 Dec 2001 17:50:21 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id RAA14233
	for sip-archive@odin.ietf.org; Sun, 9 Dec 2001 17:50:24 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id RAA13866;
	Sun, 9 Dec 2001 17:39:20 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id RAA13835
	for <sip@optimus.ietf.org>; Sun, 9 Dec 2001 17:39:17 -0500 (EST)
Received: from syd01rly001.powertel.com.au (webmail.powertel.com.au [202.92.123.72])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id RAA05184
	for <sip@ietf.org>; Sun, 9 Dec 2001 17:39:13 -0500 (EST)
Received: from syd01exc002.POWERTEL.COM.AU (unverified) by syd01rly001.powertel.com.au
 (Content Technologies SMTPRS 4.2.5) with ESMTP id <T57bc871d16c0a80c1f530@syd01rly001.powertel.com.au> for <sip@ietf.org>;
 Mon, 10 Dec 2001 09:38:46 +1100
Received: from syd01exc002.POWERTEL.COM.AU (unverified) by syd01exc002.POWERTEL.COM.AU
 (Content Technologies SMTPRS 4.2.1) with ESMTP id <T57bc8712f20a004789248@syd01exc002.POWERTEL.COM.AU> for <sip@ietf.org>;
 Mon, 10 Dec 2001 09:38:43 +1100
Received: by syd01exc002-71.powertel.com.au with Internet Mail Service (5.5.2653.19)
	id <YMTCDLL6>; Mon, 10 Dec 2001 09:38:43 +1100
Message-ID: <FF6CEF9995EAD4118C4500306E0118FC017E2626@exchange-71.powertel.com.au>
From: Sarah Wesslink <wesslinks@powertel.com.au>
To: "'sip@ietf.org'" <sip@ietf.org>
Date: Mon, 10 Dec 2001 10:37:58 +1100
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain; charset="iso-8859-1"
Subject: [Sip] unsubscribe
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org



Sarah Wesslink
PowerTel Telecommunications Engineer
	
PowerTEL Limited*
Level 11, 55 Clarence Street
Sydney NSW 2000

*    61 2 8264 3767
*     61 2 8264 4588
* 0414 978 678
*   wesslinks@powertel.com.au




**********************************************************************
PowerTel Limited, winners of
Broadband Wholesale Carrier of the year, CommsWorld Telecomms Awards 2001
Best Emerging Telco, Australian Telecom Awards 2001

**********************************************************************
This email (including all attachments) is intended solely for the named
addressee. It is confidential and may contain commercially sensitive
information. If you receive it in error, please let us know by reply email,
delete it from your system and destroy any copies.

This email is also subject to copyright. No part of it should be reproduced,
adapted or transmitted without the prior written consent of the copyright owner.

Emails may be interfered with, may contain computer viruses or other defects
and may not be successfully replicated on other systems. We give no
warranties in relation to these matters. If you have any doubts about
the authenticity of an email purportedly sent by us, please contact us
immediately.

**********************************************************************


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Sun Dec  9 18:46:56 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id SAA05912
	for <sip-archive@odin.ietf.org>; Sun, 9 Dec 2001 18:46:56 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id SAA15744
	for sip-archive@odin.ietf.org; Sun, 9 Dec 2001 18:46:58 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id SAA15377;
	Sun, 9 Dec 2001 18:32:07 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id SAA15348
	for <sip@optimus.ietf.org>; Sun, 9 Dec 2001 18:32:04 -0500 (EST)
Received: from broadsof.temp.veriohosting.com (broadsof.temp.veriohosting.com [161.58.239.68])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id SAA05729
	for <sip@ietf.org>; Sun, 9 Dec 2001 18:32:01 -0500 (EST)
Received: from tate ([64.243.180.244]) by broadsof.temp.veriohosting.com (8.11.6) id fB9NVtK76264; Sun, 9 Dec 2001 18:31:56 -0500 (EST)
Reply-To: <brett@broadsoft.com>
From: "Brett Tate" <brett@broadsoft.com>
To: <sip@ietf.org>
Subject: RE: [Sip] Open Issue #150: too many ways of saying "don't send me media"
Date: Sun, 9 Dec 2001 18:33:42 -0500
Message-ID: <005201c18109$f0e85010$2b01a8c0@broadsoft.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook CWS, Build 9.0.2416 (9.0.2911.0)
In-Reply-To: <B65B4F8437968F488A01A940B21982BF020D713D@DYN-EXCH-001.dynamicsoft.com>
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4522.1200
Importance: Normal
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

> Issue:
> 
> There are a bunch of ways to say "don't send me media":
> 
> c=0.0.0.0
> a=inactive,sendonly
> zero port
> bw=0
> 
> What do these all mean, and do we need them all?
> 
> Discussion: We've agreed on most of this already. 
> The only real issue is to
> say that bw=0 is never used. So, the proposal is:
> 
> c=0.0.0.0            DEPRECATED
> a=inactive,sendonly  PREFERRED
> zero port:           disables media stream
> bw=0                 DONT USE

If "c=0.0.0.0" is truly to be deprecated, an 
alternative should be defined which means to
also suspend RTCP.  Otherwise 3PCC'ers desiring 
to hold a particular party, would need to 
actually "inactive" connect a held party somewhere 
just to ensure RTCP.  Because of the side effects,
I'd hate to be required to zero port the media 
stream.

[I know the benefits of choosing a=inactive 
instead of c=0.0.0.0, no need to sell it to me.]


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Sun Dec  9 18:54:51 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id SAA05987
	for <sip-archive@odin.ietf.org>; Sun, 9 Dec 2001 18:54:51 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id SAA15860
	for sip-archive@odin.ietf.org; Sun, 9 Dec 2001 18:54:52 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id SAA15597;
	Sun, 9 Dec 2001 18:38:34 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id SAA15498
	for <sip@optimus.ietf.org>; Sun, 9 Dec 2001 18:38:28 -0500 (EST)
Received: from cs.columbia.edu (cs.columbia.edu [128.59.16.20])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id SAA05826
	for <sip@ietf.org>; Sun, 9 Dec 2001 18:38:25 -0500 (EST)
Received: from bart.cs.columbia.edu (bart.cs.columbia.edu [128.59.19.191])
	by cs.columbia.edu (8.9.3/8.9.3) with ESMTP id SAA26518;
	Sun, 9 Dec 2001 18:38:29 -0500 (EST)
Received: from cs.columbia.edu (bart.cs.columbia.edu [128.59.19.191])
	by bart.cs.columbia.edu (8.10.2+Sun/8.9.3) with ESMTP id fB9NcSQ21864;
	Sun, 9 Dec 2001 18:38:28 -0500 (EST)
Message-ID: <3C13F553.79A6B4AA@cs.columbia.edu>
Date: Sun, 09 Dec 2001 18:35:47 -0500
From: Henning Schulzrinne <hgs@cs.columbia.edu>
Organization: Columbia University
X-Mailer: Mozilla 4.76 [en] (Windows NT 5.0; U)
X-Accept-Language: en
MIME-Version: 1.0
To: Michael Thomas <mat@cisco.com>
CC: sip@ietf.org
Subject: Re: [Sip] a couple of comments on henning's security draft
References: <15377.6151.117561.514615@thomasm-u1.cisco.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

I'm not sure how useful this "sec

Michael Thomas wrote:
> 
> 1) Your numbers on digital signatures are off by about
>    an order of magnitude. If you're looking at RSA-512,

The numbers were provided by somebody who did the implementation
(Angelos Keromytis). Here's the complete table:

On a lightly-loaded 800Mhz PIII:
                  sign    verify    sign/s verify/s
rsa  512 bits   0.0029s   0.0002s    339.9   4256.2
rsa 1024 bits   0.0159s   0.0008s     62.9   1299.2
rsa 2048 bits   0.0974s   0.0026s     10.3    389.5

dsa  512 bits   0.0027s   0.0032s    370.6    308.6
dsa 1024 bits   0.0082s   0.0101s    122.7     98.8
dsa 2048 bits   0.0259s   0.0326s     38.6     30.7

http://www-3.ibm.com/security/cryptocards/html/perfcpq.shtml mentions
several hundred operations per second for a crypto PCI card.

>    its been deprecated since it's been cracked.

Even 16 ms (for 1024 bits) on a year-old PC doesn't seem that bad. 

> 
> 2) Nobody wants active third parties to be involved
>    in authentication, but nobody's managed to do that.
>    Any large-scale PKI will result in revocation
>    servers unless the certificate lifetimes are
>    set sufficiently short in which case you must
>    contend with the enrollment issue (not to
>    mention scaling)

I added the caveat about needed CR servers.

However, we have those revocation servers already (e.g.,
crl.verisign.com). There's no need for a *new* infrastructure.


> 
> 3) Anybody who thinks that the current web is an
>    example of a widespread PKI is deluded. Clients
>    almost never have certs, and while some servers
>    do, web browsers don't do anything useful with
>    them; eg, there's no correlation with content.

I mentioned that clients don't generally have certs, so I don't think
we're disagreeing. However, the lack of class-1 client certs (the ones
certifying that the email address is valid, effectively) aren't
technically hard; I have gotten a few for testing along the way and it
seemed to take about 10 minutes of web site work. However, I've always
let mine expire after the free trial period. Right now, people just
don't seem to see the need to pay a CA $14.95/year for secure email,
given that few people seem to feel the urge to encrypt or sign email.

If a carrier wanted to issue personal certs based on their subscriber
database, I don't think this would be technically hard, although this is
clearly on-going work in SACRED.

I don't understand this comment. As far as I can tell, current web
browsers make sure that if I connect to www.mybank.com, that the
certificate is indeed for www.mybank.com and not www.mafia.biz. The web
host name is contained in the CN of the certificate. 

> 
> 4) With SIP, unlike the web, it is almost certain
>    to be the case that client identification is
>    the primary problem. See comment #2.

Depends on what you're talking about. For REGISTER and outbound proxies,
I probably care more about server certs. Client authentication using
shared secrets, over a secure transport, works well for REGISTER. For
e2e INVITE, certs of any sort are probably of dubious value. Knowing
that hotchicks@coolmail.com called, even if I can verify it, isn't too
helpful.

> 
> 5) Mixing the word "minimalist" with SMIME gives
>    me the hives

Sorry to inflict a skin ailment on you, but at least S/MIME is available
as a library, right now. As long as you choose one option of the many
available for each type of protection, it didn't seem that bad to me.

> 
> 6) The cost of public key signatures for proxies
>    on each message will probably be prohibitive;
>    see (1).

We can argue about whether 16 ms for signing (and less for verification)
is "prohibitive".

> 
> 7) I don't understand why we need to consider
>    anything but SIP itself. This sound like a
>    good way to start an ocean boiling contest.

I agree we should consider the cost of creating general solutions so
that we can estimate the size of the ocean. However, the cost of
deployment is going to be much less if it is shared among many protocols
and applications. Besides, this also increases the chance that more eyes
are going to look at the solution. Experiences with narrow-focus
solutions have been mixed, I'd say (see WEP and GSM).


> 
> 8) I don't understand why you downplay encryption.
>    We already have to contend with keys carried in
>    SDP.

I'm not sure what text you interpret in this way. Just like I don't
really want to get into the debate of public vs. private key security, I
don't see that we're going to make a lot of progress on trying to weigh
the merits of authentication vs. encryption. I think everyone agrees
that we need both sooner rather than later. We just seem to be closer to
some parts than others.

Regarding SDP: If necessary, two parties can use IPsec+IKE to carry
their media traffic, using manyfolks negotiation. Thus, SIP-level
encryption isn't strictly necessary. Btw, I do explicitly mention the
SRTP use, so again I'm somewhat confused by where you see the
disagreement.

Without REGISTER authentication, we have a security disaster waiting to
happen. Without encryption, we get the security that we have for email
or IM today. Not what we want, but just a notch lower in my sense of
urgency. This shouldn't keep anybody from pushing to make this happen.
S/MIME is one such mechanism that is known to work and requires minimal
additional work from SIP implementors. Unfortunately, you don't like it.

> 
> 9) Can this contend with multiple different
>    authentication realms/request? Ie, my first hop
>    proxy to my SP, and them my corporate proxy so
>    I can get at my voice mail?

What's "this"?

> 
> 10) I think it's a general mistake to declare that
>     one kind of authentication is going to win, or
>     make many assumptions about that. *None* is
>     the current state of affairs including the
>     web, so picking the PKI/CA model is very

See above. I think this is plain wrong.

>     suspect, and probably won't meet the needs
>     of many existing auth schemes.

I don't think I'm declaring anything a winner, although you seem to want
to declare plenty of losers.... I'm trying to avoid re-inventing
SIP-specific wheels where we can. Our wheel factory isn't turning out
wheels all that fast.

> 
> 11) Ephemeral keys may very well be a good
>     idea. This is primarily the security that TLS
>     on the web is doing today

Plus server identity.

> 
> 12) I think that any security solution for SIP
>     needs to consider the any-any problem, much
>     like MIP WG is right now. You brought up a basic
>     return routability test last time, and I think
>     that something like that should be the
>     absolute minimum where we can't do better.

Agreed. That's something I want to discuss at the meeting. I had
proposed a NULL auth scheme, but I think a Digest variation that I'm
about to write up (qop=echo) may offer a better low-cost solution.

> 
>              Mike
> 
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Sun Dec  9 19:28:30 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id TAA06244
	for <sip-archive@odin.ietf.org>; Sun, 9 Dec 2001 19:28:30 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id TAA16756
	for sip-archive@odin.ietf.org; Sun, 9 Dec 2001 19:28:31 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id TAA16542;
	Sun, 9 Dec 2001 19:20:36 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id TAA16511
	for <sip@optimus.ietf.org>; Sun, 9 Dec 2001 19:20:34 -0500 (EST)
Received: from penguin-ext.wise.edt.ericsson.se (penguin-ext.wise.edt.ericsson.se [194.237.142.110])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id TAA06139
	for <sip@ietf.org>; Sun, 9 Dec 2001 19:20:31 -0500 (EST)
Received: from madrid.ericsson.se (madrid.es.eu.ericsson.se [164.48.87.150])
	by penguin.wise.edt.ericsson.se (8.11.0/8.11.0/WIREfire-1.3) with SMTP id fBA0KWf12007;
	Mon, 10 Dec 2001 01:20:32 +0100 (MET)
Received: from lmf.ericsson.se by madrid.ericsson.se (SMI-8.6/SMI-SVR4)
	id BAA06702; Mon, 10 Dec 2001 01:20:23 +0100
Message-ID: <3C14001E.E62EABD5@lmf.ericsson.se>
Date: Mon, 10 Dec 2001 02:21:50 +0200
From: Christer Holmberg <christer.holmberg@lmf.ericsson.se>
X-Mailer: Mozilla 4.61 [en] (WinNT; I)
X-Accept-Language: en
MIME-Version: 1.0
To: Gonzalo Camarillo <Gonzalo.Camarillo@lmf.ericsson.se>
CC: Jonathan Rosenberg <jdrosen@dynamicsoft.com>,
        "'sip@ietf.org'" <sip@ietf.org>
Subject: Re: [Sip] Open Issue #109: Allow in non-INVITE
References: <B65B4F8437968F488A01A940B21982BF020D7133@DYN-EXCH-001.dynamicsoft.com> <3C0FF5E6.555A2938@lmf.ericsson.se>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit


Hi,

What about INFO?

Let's assume that we now (or in future) will have method X, which is
used for some specific service. At some point during the call, some node
doesn't want to receive X (for whatever) reason, so it informs that by
sending an INFO with a new Allow header, without X. 

Or, is INFO even the correct method to use for this? It does not change
the state of the SIP call, so I don't think a re-INVITE is needed to
change the Allow during a call...

Of course, the node can always reply with 405/503/whatever if it
receives X. But, if it knows it will not accept X, it could inform other
nodes about that using INFO, including a new Allow header, so they won't
try to use X in the first place...

Regards,

Christer Holmberg
Ericsson Finland




Gonzalo Camarillo wrote:
> 
> Jonathan Rosenberg wrote:
> >
> > Issue:
> >
> > There are two issues. Both are minor:
> >
> >   * do we allow Allow in requests outside of INVITE and OPTIONS?
> >
> >   * If I send OPTIONS to sip:user@foo.com, and the response has an Allow,
> > what does that mean exactly? Does that mean that it is safe to send the
> > methods listed in the Allow to sip:user@foo.com in the future? Or that its
> > safe to send the methods listed in the Allow to the URL in the Contact of
> > the OPTIONS? After all, a subsequent request might not route to the same UA
> > that got the OPTIONS; so, even if the OPTIONS response indicates that method
> > BAR is allowed, there is no guarantee that when you send BAR to
> > sip:user@foo.com, it will get to the same UA which respoded to the OPTIONS.
> >
> > Discussion points:
> >
> > For the first issue, lets KISS and disallow it. Extensions can of course
> > indicate whether its useful.
> >
> > For the second one, its worth observing that this concern is true for all
> > other headers in the OPTIONS response - Accept, Accept-Encoding, Supported,
> > etc. In fact, its true for headers like WWW-Authenticate and Authorization.
> > I may call a UA, it returns a 401 w/ WWW-Authenticate, I stick in an
> > Authorization header, and resubmit the request, but it gets routed
> > differently, to a different UA. Same issue. I don't think its a big deal,
> > since in all cases you'll simply get the appropriate error code and can try
> > again.
> >
> > Proposal:
> >
> > * point 1: disallow
> 
> What about disallowing Allow in methods that do not establish dialogs?
> OPTIONS would be the only expection to the rule.
> 
> Regards,
> 
> Gonzalo
> 
> > * point 2: don't care. Allow refers to methods supported by the resource in
> > the request URI of the original OPTIONS request sent by the UAC.
> >
> > -Jonathan R.
> >
> > ---
> > Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
> > Chief Scientist                             First Floor
> > dynamicsoft                                 East Hanover, NJ 07936
> > jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
> > http://www.jdrosen.net                      PHONE: (973) 952-5000
> > http://www.dynamicsoft.com
> >
> >
> > _______________________________________________
> > Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> > This list is for NEW development of the core SIP Protocol
> > Use sip-implementors@cs.columbia.edu for questions on current sip
> > Use sipping@ietf.org for new developments on the application of sip
> 
> --
> Gonzalo Camarillo                    Phone :   +1 212 939 71 71
> Columbia University                  Mobile:  +358 40 702 35 35
> 472 Computer Science Building        Fax   :  +358  9 299 30 52
> 1214 Amsterdam Ave., Mail Code 0401  http://www.hut.fi/~gonzalo
> New York, NY 10027
> USA                              Gonzalo.Camarillo@ericsson.com
> 
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Sun Dec  9 19:33:43 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id TAA06296
	for <sip-archive@odin.ietf.org>; Sun, 9 Dec 2001 19:33:43 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id TAA17207
	for sip-archive@odin.ietf.org; Sun, 9 Dec 2001 19:33:44 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id TAA16611;
	Sun, 9 Dec 2001 19:20:48 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id TAA16580
	for <sip@optimus.ietf.org>; Sun, 9 Dec 2001 19:20:45 -0500 (EST)
Received: from penguin-ext.wise.edt.ericsson.se (penguin-ext.wise.edt.ericsson.se [194.237.142.110])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id TAA06145
	for <sip@ietf.org>; Sun, 9 Dec 2001 19:20:43 -0500 (EST)
Received: from madrid.ericsson.se (madrid.es.eu.ericsson.se [164.48.87.150])
	by penguin.wise.edt.ericsson.se (8.11.0/8.11.0/WIREfire-1.3) with SMTP id fBA0Kif12026;
	Mon, 10 Dec 2001 01:20:44 +0100 (MET)
Received: from lmf.ericsson.se by madrid.ericsson.se (SMI-8.6/SMI-SVR4)
	id BAA06705; Mon, 10 Dec 2001 01:20:37 +0100
Message-ID: <3C14002D.2DF7BC71@lmf.ericsson.se>
Date: Mon, 10 Dec 2001 02:22:05 +0200
From: Christer Holmberg <christer.holmberg@lmf.ericsson.se>
X-Mailer: Mozilla 4.61 [en] (WinNT; I)
X-Accept-Language: en
MIME-Version: 1.0
To: John.Hearty@Level3.com
CC: jdrosen@dynamicsoft.com, sip@ietf.org
Subject: Re: [Sip] Open Issue #207: Handling of session failures
References: <17052388D394D411803900508BDFFAF601B3706A@n0214idc1.oss.level3.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit


Hi,

If the same node is handling both media and signalling I guess the
proposal is ok.

However, if the nodes are separated, and eg MGCP/H.248 is used between
them, those protocols may define other actions to be taken when media
failures occur. For example, MGCP allows the media handler to RELEASE
the call if the media "connection" is lost, so to be able to
re-establish the session a whole NEW session must be setup. And, if the
node is a gateway it may not be able to set up a new session in the
first place, since it's an end-user of either "side" of the gateway
which set up the session.

So, since SIP is a SIGNALLING protocol I don't think there shall be any
SHOULDS or MUSTS on how to handling failures on the media level. Of
course, it may be mentioned as an example on a case where a re-INVITE
may be used.

Regards,

Christer Holmberg
Ericsson Finland




John.Hearty@Level3.com wrote:
> 
> > Issue:
> >
> > The spec is silent on what a UA should do if failures in the
> > media sessions
> > occur (ICMP, timeouts, or media specific errors). I think
> > something should
> > be
> > said. draft-rosenberg-sip-reconstitute-00.txt talks a lot about this
> > problem;
> > nearly all of that is local implementation logic, but one piece that
> > requires a
> > normative change to the spec - if you detect a failure in
> > media stream, send
> > a
> > re-invite to see if that repairs it.
> >
> > The re-invite will help if the failure is due to a end system
> > failure. In
> > that case, the re-INVITE will reconstitute the dialog and
> > session state at
> > an alternate, which is helpful and useful in many cases.
> 
> Assuming that end system is capable of reconstituting state from a
> re-Invite.
> That said, I agree with this proposal.
> 
> John Hearty
> Level3
> 
>  It
> > won't do much at
> > all if there was a network failure.
> >
> > If the re-INVITE fails, or nothing changes in the media
> > stream, you SHOULD
> > then send a BYE.
> >
> > I'd like to incoroporate this piece of logic into bis.
> >
> > Proposal:
> >
> > UAC SHOULD re-INVITE with same SDP when it detects failures
> > in the media
> > session.
> > If re-INVITE doesn't help, SHOULD send a BYE
> >
> > -Jonathan R.
> >
> > ---
> > Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
> > Chief Scientist                             First Floor
> > dynamicsoft                                 East Hanover, NJ 07936
> > jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
> > http://www.jdrosen.net                      PHONE: (973) 952-5000
> > http://www.dynamicsoft.com
> >
> >
> > _______________________________________________
> > Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> > This list is for NEW development of the core SIP Protocol
> > Use sip-implementors@cs.columbia.edu for questions on current sip
> > Use sipping@ietf.org for new developments on the application of sip
> >
> 
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Sun Dec  9 20:29:52 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id UAA06932
	for <sip-archive@odin.ietf.org>; Sun, 9 Dec 2001 20:29:52 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id UAA18529
	for sip-archive@odin.ietf.org; Sun, 9 Dec 2001 20:29:54 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id UAA18378;
	Sun, 9 Dec 2001 20:21:42 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id UAA18347
	for <sip@optimus.ietf.org>; Sun, 9 Dec 2001 20:21:39 -0500 (EST)
Received: from penguin-ext.wise.edt.ericsson.se (penguin-ext.wise.edt.ericsson.se [194.237.142.110])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id UAA06820
	for <sip@ietf.org>; Sun, 9 Dec 2001 20:21:36 -0500 (EST)
Received: from madrid.ericsson.se (madrid.es.eu.ericsson.se [164.48.87.150])
	by penguin.wise.edt.ericsson.se (8.11.0/8.11.0/WIREfire-1.3) with SMTP id fBA1Lbf20954;
	Mon, 10 Dec 2001 02:21:38 +0100 (MET)
Received: from lmf.ericsson.se by madrid.ericsson.se (SMI-8.6/SMI-SVR4)
	id CAA08235; Mon, 10 Dec 2001 02:21:28 +0100
Message-ID: <3C140E70.C2BBEFD5@lmf.ericsson.se>
Date: Mon, 10 Dec 2001 03:22:56 +0200
From: Christer Holmberg <christer.holmberg@lmf.ericsson.se>
X-Mailer: Mozilla 4.61 [en] (WinNT; I)
X-Accept-Language: en
MIME-Version: 1.0
To: Gonzalo Camarillo <Gonzalo.Camarillo@lmf.ericsson.se>
CC: Jonathan Rosenberg <jdrosen@dynamicsoft.com>,
        "'sip@ietf.org'" <sip@ietf.org>
Subject: Re: [Sip] Major Open Issue #113: Overlapping Transactions
References: <B65B4F8437968F488A01A940B21982BF020D7134@DYN-EXCH-001.dynamicsoft.com> <3C0FFA7F.814CA0C2@lmf.ericsson.se>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit


Hi,

>>Proposal:
>>
>>Disallow overlapping INVITE (because it could get ugly)
>
>INVITEs are essential for early media as it is specified so far (we all
>agree early media is both ugly and needed).
> 
>Early media only happens within a dialog (in the "early" state). What
>about allowing to have exactly one pending INVITE within an early
>dialog?
> 
>That is, I send my INVITE and I receive a 1xx response with a To tag.
>Now I have my early dialog. I can send another INVITE now to change
>early media stuff (or for whatever), but I cannot overlap a 3rd INVITE
>at the same time. If I want to send a 3rd INVITE I have to wait until
>the 2nd has completed. And if I want to send a 4th one, I have to wait
>until the 3rd has completed.

This is not related to any specific early media proposal, but assume
that an "early" re-INVITE is used to "turn on" early media. So, the UAC
receives an early media offer from UAS_A and accepts it using a
re-INVITE. In a forking environement it may then receive other early
media offers. It may decide to accept the new offer from UAS_B, and
"turn off" the previous offer by sending a new re-INVITE to UAS_A. It
now has 3 active INVITE transactions with UAS_A. 

Now, I am NOT saying that it should be handled this way, or that it even
should be allowed (that should be discussed in a separate thread about
early media), but it COULD be a scenario where more than 2 active INVITE
transactions are needed...

So, my question is: IF we allow overlapping INVITE transactions, does it
really matter how many we allow? In most cases there won't be more than
2 anyway, so...

>>Allow overlapping non-INVITE (because we will restrict ourselves too much
>>without it)
>Agreed.

I agree on this too.

Regards,

Christer Holmberg
Ericsson Finland

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Sun Dec  9 21:00:44 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id VAA07148
	for <sip-archive@odin.ietf.org>; Sun, 9 Dec 2001 21:00:44 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id VAA19781
	for sip-archive@odin.ietf.org; Sun, 9 Dec 2001 21:00:46 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id UAA19250;
	Sun, 9 Dec 2001 20:53:33 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id UAA19218
	for <sip@optimus.ietf.org>; Sun, 9 Dec 2001 20:53:31 -0500 (EST)
Received: from gbnewp0915s1.eu.ubiquity.net (news.ubiquity.net [194.202.146.92])
	by ietf.org (8.9.1a/8.9.1a) with SMTP id UAA07086
	for <sip@ietf.org>; Sun, 9 Dec 2001 20:53:28 -0500 (EST)
Received: from mailhost.eu.ubiquity.net by gbnewp0915s1.eu.ubiquity.net
          via smtpd (for odin.ietf.org [132.151.1.176]) with SMTP; 10 Dec 2001 01:53:44 UT
X-MimeOLE: Produced By Microsoft Exchange V6.0.4417.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Subject: RE: [Sip] Open Issue #144: Branch ID  + isCancel() as transaction ID
Date: Mon, 10 Dec 2001 01:54:30 -0000
Message-ID: <45730E094814E44488F789C1CDED27AE01122765@GBNEWP0758M.eu.ubiquity.net>
Thread-Topic: [Sip] Open Issue #144: Branch ID  + isCancel() as transaction ID
Thread-Index: AcF/m/y2Cy/vXJWVSF2mWbTfJ8OaogBgTEGA
From: "Jo Hornsby" <jhornsby@ubiquity.net>
To: "Jonathan Rosenberg" <jdrosen@dynamicsoft.com>, <sip@ietf.org>
Content-Transfer-Encoding: 8bit
X-MIME-Autoconverted: from quoted-printable to 8bit by optimus.ietf.org id UAA19219
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 8bit

Jonathan wrote:
> > > Proposal:
> > > 
> > > Allow for branch ID to be the transaction ID, by taking the 
> > > steps described above.
> > 
> > I do not disagree. &:)
> > 
> > But one caveat: I have never been fully sure that the branch
> > parameter is globally unique.  I think it can be deduced
> > that it is locally unique (i.e., within the Via hostport
> > space); but I'm failing to find text that nails down the
> > uniqueness globally.
> 
> Line 2188 sort of:
> 
> The proxy MUST include a "branch" parameter (Section 22.40) in the Via
> header. When the path of 2188
> a request through one or more forking proxies is graphed, the 
> result is a
> tree. The branch parameter 2189
> identifies the "branch" each request was forwarded on. The 
> branch parameter
> value MUST be unique 2190
> for each client transaction to which the request is 
> forwarded. The precise
> format of the branch.token 2191
> 
> 
> I read this as "unique" scoped across all client 
> transactions. One could
> read it as unique across all client transactions for this 
> incoming request.

Ah. &:)  I was reading it as the latter.

> We would need to additionally clarify that it means globally 
> unique in order for this to work.

Agreed.


 - Jo.

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Sun Dec  9 21:42:16 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id VAA08545
	for <sip-archive@odin.ietf.org>; Sun, 9 Dec 2001 21:42:16 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id VAA21414
	for sip-archive@odin.ietf.org; Sun, 9 Dec 2001 21:42:19 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id VAA20633;
	Sun, 9 Dec 2001 21:26:18 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id VAA20602
	for <sip@optimus.ietf.org>; Sun, 9 Dec 2001 21:26:16 -0500 (EST)
Received: from gbnewp0915s1.eu.ubiquity.net (news.ubiquity.net [194.202.146.92])
	by ietf.org (8.9.1a/8.9.1a) with SMTP id VAA07451
	for <sip@ietf.org>; Sun, 9 Dec 2001 21:26:12 -0500 (EST)
Received: from mailhost.eu.ubiquity.net by gbnewp0915s1.eu.ubiquity.net
          via smtpd (for odin.ietf.org [132.151.1.176]) with SMTP; 10 Dec 2001 02:26:29 UT
X-MimeOLE: Produced By Microsoft Exchange V6.0.4417.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Subject: RE: [Sip] Open Issue #203: transport related params in To/From
Date: Mon, 10 Dec 2001 02:27:15 -0000
Message-ID: <45730E094814E44488F789C1CDED27AE011224DD@GBNEWP0758M.eu.ubiquity.net>
Thread-Topic: [Sip] Open Issue #203: transport related params in To/From
Thread-Index: AcGA19kOnoUT7AhWRK2NAkTiXvN47gAR837Q
From: "Jo Hornsby" <jhornsby@ubiquity.net>
To: "Robert Sparks" <rsparks@dynamicsoft.com>,
        "Jonathan Rosenberg" <jdrosen@dynamicsoft.com>, <sip@ietf.org>
Content-Transfer-Encoding: 8bit
X-MIME-Autoconverted: from quoted-printable to 8bit by optimus.ietf.org id VAA20603
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 8bit

Robert wrote:
> > > Issue:
> > > 
> > > Minor issue. Table 1 indicates that in the From/To fields, a 
> > > SIP URL cannot contain an maddr, but can contain a port.
> > > This seems odd. Either all addressing params should be 
> > > allowed (port, transport, ttl, maddr) else none of them.
> > >
> > > Proposal:
> > > 
> > > From/To are supposed to be logical addresses, so neither port 
> > > nor maddr nor any of the others make much sense there.
> > > Proposal is to remove unless anyone is sending with these
> > > parameters.
> > 
> > Sounds good to me.
> > 
> > If this approach is adopted, am I right in thinking we will
> > have to be _very_ strict about refusing requests that have
> > these parameters (else I can see nasty SIP URL comparison
> > issues ariving)?
> 
> Why not ignore them if present? I can't think of any comparison
> issues taking that approach that don't also exist in deciding to
> reject the message based on the contents of the URL.

I think what I was envisaging was some entity on
the network ignoring these parameters, and then
due to some sort of weird transaction keying
interaction, actually removing them when it
responded or proxied sommat.

[I did think that I'd come up with a slightly
more insiduous case that this, but I'm drawing
blanks on recreating, unfortunately.]

Also, if we take the approach that they should
just be ignored, then what happens if two requests
arrive that are otherwise identical apart from the
port in the To:, say?

But I'm not particularly passionate. &:)


 - Jo.

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Mon Dec 10 02:22:46 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id CAA26498
	for <sip-archive@odin.ietf.org>; Mon, 10 Dec 2001 02:22:45 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id CAA07509
	for sip-archive@odin.ietf.org; Mon, 10 Dec 2001 02:22:47 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id BAA06491;
	Mon, 10 Dec 2001 01:43:45 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id BAA06463
	for <sip@optimus.ietf.org>; Mon, 10 Dec 2001 01:43:42 -0500 (EST)
Received: from sj-msg-core-1.cisco.com (sj-msg-core-1.cisco.com [171.71.163.11])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id BAA14947
	for <sip@ietf.org>; Mon, 10 Dec 2001 01:43:40 -0500 (EST)
Received: from sj-msg-av-3.cisco.com (sj-msg-av-3.cisco.com [171.69.17.42])
	by sj-msg-core-1.cisco.com (8.11.3/8.9.1) with ESMTP id fBA6gxV16917;
	Sun, 9 Dec 2001 22:42:59 -0800 (PST)
Received: from mailman.cisco.com (localhost [127.0.0.1])
	by sj-msg-av-3.cisco.com (8.10.1/8.10.1) with ESMTP id fBA6gwI16885;
	Sun, 9 Dec 2001 22:42:58 -0800 (PST)
Received: from cisco.com (sj-dial-6-41.cisco.com [10.21.58.42]) by mailman.cisco.com (8.9.3/CISCO.SERVER.1.2) with ESMTP id WAA26134; Sun, 9 Dec 2001 22:42:52 -0800 (PST)
Message-ID: <3C14531E.5520E1FA@cisco.com>
Date: Mon, 10 Dec 2001 01:15:58 -0500
From: Flemming Andreasen <fandreas@cisco.com>
X-Mailer: Mozilla 4.78 [en]C-CCK-MCD   (Windows NT 5.0; U)
X-Accept-Language: en
MIME-Version: 1.0
To: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
CC: "'brett@broadsoft.com'" <brett@broadsoft.com>, sip@ietf.org
Subject: Re: [Sip] Open Issue #188: Reply-To
References: <B65B4F8437968F488A01A940B21982BF02EF581E@DYN-EXCH-001.dynamicsoft.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

The old privacy-02 draft had a "return" rpi-id-type defined just for this,
however with the refined scope in the new privacy-03 draft, which only addresses
network authenticated (and provided) identity information, it was removed. Since
the UA is presumably the one that determines where it would like return calls to
go, another header would make sense. Privacy of such a header is trivially
handled by the UA by simply not supplying it (recall that the reason for
encrypting the Remote-Party-ID rather than just removing it is to allow for
things like call trace), unless you are looking for some kind of "scoped"
privacy (I hope not). I agree that simply adding a Reply-To header to bis for
this would make sense.

-- Flemming


Jonathan Rosenberg wrote:

>
>
> > -----Original Message-----
> > From: Brett Tate [mailto:brett@broadsoft.com]
> > Sent: Friday, December 07, 2001 4:21 AM
> > To: sip@ietf.org
> > Subject: RE: [Sip] Open Issue #188: Reply-To
> >
> > > Proposal:
> > >
> > > Its simple. Its compatible. Its well understood. Its going to
> > > really be
> > > needed for MESSAGE, probably other things. Let us take the
> > > simple route and
> > > add it.
> >
> > It seems like an ideal candidate for a
> > new extension draft or a new version of
> > sip-privacy.
>
> The question is whether this is trivial enough to just put into bis rather
> than write a separate 1 page I-D for it. sip-privacy is, I think, different.
> More below.
>
> >
> > What is its relationship to From and
> > Remote-Party-ID?
>
> >From is who sent the request.
> Reply-To is to whom you should call-back later if you want to talk again.
> Not necessarily the same, just as they aren't the same in email.
>
> Remote-Party-ID provides network authenticated identities. Reply-To is
> provided by the client. If the network wanted to provide what it believes is
> the true reply-to address, it would, in theory, insert a R-P-ID with id-type
> "reply-to" or some other such thing. However, I don't think there is much
> value in that. Who cares what the network provider thought your reply-to
> should really be?
>
> >
> > How many entries can it contain?
>
> One.
>
> > If more
> > than 1, should something like a q-value
> > be present to communicate the meaning of
> > more than 1 value being present?
> >
> > Should it contain an expiration value?
>
> No. KISS. If its good enough for email, its good enough for us.
>
> >
> > Should it have a similar definition to
> > Remote-Party-ID so that privacy and trust
> > issues can be communicated?
>
> There are privacy implications, yes. I don't think we need a new R-P-ID
> type, as I discuss above, but if privacy is requested, I would imagine that
> the reply-to would be stripped at the edge, else encrypted or some other
> such thing, as R-P-ID would.
>
> -Jonathan R.
> ---
> Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
> Chief Scientist                             First Floor
> dynamicsoft                                 East Hanover, NJ 07936
> jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
> http://www.jdrosen.net                      PHONE: (973) 952-5000
> http://www.dynamicsoft.com
>
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip

--
Flemming Andreasen
Cisco Systems





_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Mon Dec 10 03:19:05 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id DAA29295
	for <sip-archive@odin.ietf.org>; Mon, 10 Dec 2001 03:19:04 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id DAA09242
	for sip-archive@odin.ietf.org; Mon, 10 Dec 2001 03:19:06 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id DAA08984;
	Mon, 10 Dec 2001 03:07:01 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id DAA08957
	for <sip@optimus.ietf.org>; Mon, 10 Dec 2001 03:06:58 -0500 (EST)
Received: from RRMAIL01.RADIOROUTER_NT ([63.103.94.23])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id DAA29149
	for <sip@ietf.org>; Mon, 10 Dec 2001 03:06:56 -0500 (EST)
Received: by rrmail01.lab.flarion.com with Internet Mail Service (5.5.2653.19)
	id <Y2CCKP5J>; Mon, 10 Dec 2001 03:06:28 -0500
Message-ID: <8C92E23A3E87FB479988285F9E22BE460A3E48@ftmail>
From: "Alan O'Neill" <A.ONeill@flarion.com>
To: "'sip@ietf.org'" <sip@ietf.org>
Date: Mon, 10 Dec 2001 03:06:27 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Subject: [Sip] Still issues with preconditions
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org


Version 3 of the manyfolks-resources draft has appeared but there still
appear to me to be a number of issues with this document. I have tried to
raise / resolve issues with the authors of the draft but have so far not had
any response. 

In summary;

i)	The strength-tag appears overloaded in attempting to carry both
requirement (Mandatory/Optional) and progress (Success/Failure) information.
This prevents a node with precondition resources already in place (existing
resources in call waiting / dimensioned diff-serv QoS) from including the
Success progress in an Invite which in the general case would lead to very
fast and efficient call set-up. In the case of incapability, the caller
could signal the inability to meet a precondition direction itself with a
Failure which would enable the callee to immediately and quickly detect
impossible preconditions when merged with its own incapabilities. The
limitation of the overloaded strength-tag could be avoided by using an
additional result-tag in each precondition to signal progress separately
from the requirement in the strength-tag.

ii)	The draft is clear on the negotiation phases of the precondition
signalling and how direction-tags in requests, responses and COMETs are
related. However, it is not at all clear how end nodes actually work out how
to respond to offered preconditions and how they work out which resources
each end should attempt to meet, especially regarding whether preconditions
must/may/must not be attempted in parallel or in series at the caller and
callee. This ambiguity is clearly a barrier to the production of multiple
interworking implementations and leads to inefficient call set-up and
cleardown, as well as the danger of each end trying to book the same
resources.


I'll use a brief and specific example in an attempt to get some discussion
on the second issue which is maybe less obvious than the first...

In the first example in the draft, the caller requests a sendrecv resource
precondition and includes a confirmation request. The callee cannot tell if
the caller is able or wishes to meet either send or recv direction in the
sendrecv precondition, only that it wishes to be informed of progress. The
callee responds with sendrecv confirm but the caller cannot glean any
information from the inclusion of the confirm by the callee. This is because
the callee confirmation request is mandated in the draft in response to the
caller confirmation request. The only information exchanged (that I can
glean from the draft) so far is that the callee, in accepting the sendrecv
precondition, is informing the caller that it can contribute in some way to
meeting the sendrecv precondition.

The caller now sends a PRACK and repeats the precondition it sent in the
Invite. At this point, the example says that both the caller and callee can
in parallel start booking resources to meet the sendrecv precondition but
this opens up the possibility of problems because neither end has actually
agreed with the other end on which of the precondition directions it is
going to attempt (ie lead roles in meeting preconditions). The model only
works if both ends have the same unidirectional reservation capability (send
only or recv only) such that non-overlapping resources are booked. If both
ends can book both directions (sendrecv) then full duplication is possible
(double the resources). If both ends have opposite capabilities (caller
send/recv and callee recv/send) then one direction will get double the
resources and the other will have no resources booked. The double / missing
resources will always be detected by the caller because the callee COMET
will include success/failure separately for each direction so that the
caller can recover, but clearly the caller can only then change its
reservation status because no mechanism exists to get the callee to do so.
The existance of duplicate reservations is clearly unfortunate and could be
avoided if the preconditions negotiation was explicit about agreeing which
resources each end should attempt to reserve.

I hope one of the authors will be kind enough to help me with this....

Regards,  Alan O'Neill

----------------------------------------------------------------
Notice Regarding Intellectual Property Rights

Flarion's submissions will conform with RFC 2026.  Flarion may seek patent
protection on some or all of the technical information submitted by its
employees in connection with the IETF's standards process.  If part(s) of a
submission by Flarion is (are) included in a standard and Flarion owns
patent(s) and/or pending patent application(s) that are essential to
implementation of such included part(s) in said standard, Flarion is
prepared to grant a license on fair, reasonable, reciprocal (license back)
and non-discriminatory terms on such included part(s).


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Mon Dec 10 09:45:40 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id JAA02474
	for <sip-archive@odin.ietf.org>; Mon, 10 Dec 2001 09:45:40 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id JAA19052
	for sip-archive@odin.ietf.org; Mon, 10 Dec 2001 09:45:42 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id JAA18189;
	Mon, 10 Dec 2001 09:21:23 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id JAA18164
	for <sip@optimus.ietf.org>; Mon, 10 Dec 2001 09:21:21 -0500 (EST)
Received: from kcmso1.proxy.att.com (kcmso1.att.com [192.128.133.69])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id JAA02087
	for <sip@ietf.org>; Mon, 10 Dec 2001 09:21:19 -0500 (EST)
Received: from attrh2i.attrh.att.com ([135.37.94.56])
	by kcmso1.proxy.att.com (AT&T IPNS/MSO-3.0) with ESMTP id fBAEKen20026
	for <sip@ietf.org>; Mon, 10 Dec 2001 09:20:43 -0500 (EST)
Received: from occlust04evs1.ugd.att.com (135.71.164.13) by attrh2i.attrh.att.com (5.5.029)
        id 3C06942A002D97EF; Mon, 10 Dec 2001 09:20:27 -0500
content-class: urn:content-classes:message
Subject: RE: [Sip] re: the future of call control
Date: Mon, 10 Dec 2001 09:20:27 -0500
Message-ID: <62DA45D4963FA747BA1B253E266760F97833EA@OCCLUST04EVS1.ugd.att.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Thread-Topic: [Sip] re: the future of call control
Thread-Index: AcGAW5LoTK/B5exOEdWjbgCQJ60IGQBJyVNw
X-MimeOLE: Produced By Microsoft Exchange V6.0.5762.3
From: "Roy, Radhika R, ALCTA" <rrroy@att.com>
To: <eburger@snowshore.com>, <Mpierce1@aol.com>
Cc: <sip@ietf.org>
Content-Transfer-Encoding: 8bit
X-MIME-Autoconverted: from quoted-printable to 8bit by optimus.ietf.org id JAA18165
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 8bit

Comments are inline [RRR]. By the way, I do not see any disagreement.

-----Original Message-----
From: Eric Burger [mailto:eburger@snowshore.com]
Sent: Saturday, December 08, 2001 9:45 PM
To: Roy, Radhika R, ALCTA; Mpierce1@aol.com
Cc: sip@ietf.org
Subject: RE: [Sip] re: the future of call control


I fully *disagree* that these services need to be standardized.  

[RRR] We all agreed that services must NOT be standardized. Let us close this issue.

The reason
is simple: what we're being asked to do is standardize a "marketing"
function.  What do I mean by that?  ....

[RRR] Without going through any more examples, let us take the example of the SIP Call Transfer draft. It will be an RFC and will provide the guidelines for implementation of the call transfer in SIP. 

[RRR] Primitives must be standardized. (By the way, the REFER primitive in SIP came out of this call transfer draft.)

What we *must* standardize are the primitives to implement such functions.

[RRR] We all agreed earlier that primitives must be standardized. (By the way, the REFER primitive in SIP came out of this call transfer draft.)

...

Note that I take this stand not for the "IETF Doesn't Like Things Like
H.450.1, H.450.2, H.450.99999" reason, although it is somewhat reasonable as
a design approach.  For that matter, I do see the need for some level of
standardization of practice, as evidenced by draft-burger-sipping-msuri-01.
However, I do NOT think that the IETF is the place for reducing the practice
of a given call control method to a RFC.

[RRR] SIP call transfer draft, as SIP/SIPPING WG intends, will be an RFC. That is what people want to do in the IETF in addition to the standardization of the SIP primitives.

If you do believe you need "standards" for such interoperation, I can think
of three organizations you can bring it to: 3GPP for wireless, CableLabs for
Broadband, and ISC for wireline.  Note that 3GPP and ISC explicitly state
they won't add or change SIP as defined by the IETF.  Documenting a call
flow doesn't change SIP :-)

[RRR] This is called interoperability among multi-vendor or multi-networking environment for implementation of a given standard and, there are many forums available throughout the world. (IETF is not working in this area).


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Mon Dec 10 10:47:59 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id KAA03905
	for <sip-archive@odin.ietf.org>; Mon, 10 Dec 2001 10:47:59 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id KAA21072
	for sip-archive@odin.ietf.org; Mon, 10 Dec 2001 10:48:01 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id KAA20020;
	Mon, 10 Dec 2001 10:14:58 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id KAA19991
	for <sip@optimus.ietf.org>; Mon, 10 Dec 2001 10:14:55 -0500 (EST)
Received: from excalibur.santera.com (exchange.santera.com [4.22.157.11])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id KAA03081
	for <sip@ietf.org>; Mon, 10 Dec 2001 10:14:53 -0500 (EST)
X-MimeOLE: Produced By Microsoft Exchange V6.0.4712.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Subject: RE: [Sip] Major Open Issue #113: Overlapping Transactions
Date: Mon, 10 Dec 2001 09:14:23 -0600
Message-ID: <CD110021698980419241042CF576B8F2843A92@EXCALIBUR.santera.com>
Thread-Topic: [Sip] Major Open Issue #113: Overlapping Transactions
Thread-Index: AcGAWViWARAjkJzoQ/iMxaahKBLAVABMUfPg
From: "Chiou, Mark" <MChiou@santera.com>
To: "Gonzalo Camarillo" <Gonzalo.Camarillo@lmf.ericsson.se>,
        "Bob Penfield" <bpenfield@acmepacket.com>
Cc: "Jonathan Rosenberg" <jdrosen@dynamicsoft.com>, <sip@ietf.org>
Content-Transfer-Encoding: 8bit
X-MIME-Autoconverted: from quoted-printable to 8bit by optimus.ietf.org id KAA19992
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 8bit

Hi,

Why don't we pick 190 for Request Updated response instead of 490.
In convention, 4xx is a final response for failure and expecting ACK to
end the transaction for this case. Using 1xx is much better to carry the
conversation going without requiring an ACK. 
For implementation point of view, UAS and UAC can keep track the CSeq
number changes and link all the activities associated with the same
Call-ID, From, and To together, such that it is easier to implement and
maintain the call leg when change any media using overlapping mechanism
than keeping each INVITE as a separate transaction and requiring an ACK
for each INVITE.

Yes, this is feasible for codec negotiation during call setup or
mid-call codec negotiation when interworking is required. 

Regards,

Mark Chiou



-----Original Message-----
From: Gonzalo Camarillo [mailto:Gonzalo.Camarillo@lmf.ericsson.se]
Sent: Saturday, December 08, 2001 8:34 PM
To: Bob Penfield
Cc: Jonathan Rosenberg; sip@ietf.org
Subject: Re: [Sip] Major Open Issue #113: Overlapping Transactions


Hello,

inline:

Bob Penfield wrote:
> 
> ----- Original Message -----
> From: "Gonzalo Camarillo" <Gonzalo.Camarillo@lmf.ericsson.se>
> >
> > Hi,
> >
> > Jonathan Rosenberg wrote:
> >
> > > Proposal:
> > >
> > > Disallow overlapping INVITE (because it could get ugly)
> >
> > INVITEs are essential for early media as it is specified so far (we
all
> > agree early media is both ugly and needed).
> >
> > Early media only happens within a dialog (in the "early" state).
What
> > about allowing to have exactly one pending INVITE within an early
> > dialog?
> >
> > That is, I send my INVITE and I receive a 1xx response with a To
tag.
> > Now I have my early dialog. I can send another INVITE now to change
> > early media stuff (or for whatever), but I cannot overlap a 3rd
INVITE
> > at the same time. If I want to send a 3rd INVITE I have to wait
until
> > the 2nd has completed. And if I want to send a 4th one, I have to
wait
> > until the 3rd has completed.
> 
> When you say "completed", do you mean get a final response? or get a
> provisional response (like the initial INVITE)?

Sorry. What I meant was that a 490 Request Updated response has been
received for the previous INVITE, so we know for sure that the remote
end is processing only one INVITE at a time.

Regards,

Gonzalo

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Mon Dec 10 11:40:52 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id LAA05042
	for <sip-archive@odin.ietf.org>; Mon, 10 Dec 2001 11:40:47 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id LAA24258
	for sip-archive@odin.ietf.org; Mon, 10 Dec 2001 11:40:49 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id LAA22271;
	Mon, 10 Dec 2001 11:21:17 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id LAA22171
	for <sip@optimus.ietf.org>; Mon, 10 Dec 2001 11:21:10 -0500 (EST)
Received: from june.Broomfield1.level3.net (june.Broomfield1.Level3.net [209.245.18.7])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id LAA04512
	for <sip@ietf.org>; Mon, 10 Dec 2001 11:21:07 -0500 (EST)
From: John.Hearty@Level3.com
Received: from f1ee40-19.idc1.level3.com (hme0.f1ee40-19.idc1.oss.level3.com [10.1.144.204])
	by june.Broomfield1.level3.net (8.9.3/8.9.3) with ESMTP id QAA28913;
	Mon, 10 Dec 2001 16:20:39 GMT
Received: from n0195idc1.oss.level3.com (localhost [127.0.0.1])
	by f1ee40-19.idc1.level3.com (8.8.8+Sun/8.8.8) with ESMTP id QAA07464;
	Mon, 10 Dec 2001 16:21:06 GMT
Received: by n0195idc1.oss.level3.com with Internet Mail Service (5.5.2653.19)
	id <YKJGJHY0>; Mon, 10 Dec 2001 09:21:05 -0700
Message-ID: <17052388D394D411803900508BDFFAF601B3707B@n0214idc1.oss.level3.com>
To: sip@ietf.org
Cc: jdrosen@dynamicsoft.com, christer.holmberg@lmf.ericsson.se
Subject: RE: [Sip] Open Issue #207: Handling of session failures
Date: Mon, 10 Dec 2001 09:21:05 -0700
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

 I originally brought this issue up in the Killing Hung Media Streams
thread, and it was in fact separated MGs and MGCs that caused the problem
(MGC thought the call was over, MG happily continued sending RTP).  My main
goal was to have the end receiving ICMPs do something to figure out if there
was a valid session, and either reconstitute it or stop sending RTP.
Anything would be better than no action at all.

 If there are already mechanisms in protocols between MGs and MGCs that take
some action, great.  Otherwise I am agreeable to softening the language to
MAYs and including a little example or explanative text.

John Hearty
Level3


-----Original Message-----
From: Christer Holmberg [mailto:christer.holmberg@lmf.ericsson.se]
Sent: Sunday, December 09, 2001 5:22 PM
To: Hearty, John
Cc: jdrosen@dynamicsoft.com; sip@ietf.org
Subject: Re: [Sip] Open Issue #207: Handling of session failures



Hi,

If the same node is handling both media and signalling I guess the
proposal is ok.

However, if the nodes are separated, and eg MGCP/H.248 is used between
them, those protocols may define other actions to be taken when media
failures occur. For example, MGCP allows the media handler to RELEASE
the call if the media "connection" is lost, so to be able to
re-establish the session a whole NEW session must be setup. And, if the
node is a gateway it may not be able to set up a new session in the
first place, since it's an end-user of either "side" of the gateway
which set up the session.

So, since SIP is a SIGNALLING protocol I don't think there shall be any
SHOULDS or MUSTS on how to handling failures on the media level. Of
course, it may be mentioned as an example on a case where a re-INVITE
may be used.

Regards,

Christer Holmberg
Ericsson Finland




John.Hearty@Level3.com wrote:
> 
> > Issue:
> >
> > The spec is silent on what a UA should do if failures in the
> > media sessions
> > occur (ICMP, timeouts, or media specific errors). I think
> > something should
> > be
> > said. draft-rosenberg-sip-reconstitute-00.txt talks a lot about this
> > problem;
> > nearly all of that is local implementation logic, but one piece that
> > requires a
> > normative change to the spec - if you detect a failure in
> > media stream, send
> > a
> > re-invite to see if that repairs it.
> >
> > The re-invite will help if the failure is due to a end system
> > failure. In
> > that case, the re-INVITE will reconstitute the dialog and
> > session state at
> > an alternate, which is helpful and useful in many cases.
> 
> Assuming that end system is capable of reconstituting state from a
> re-Invite.
> That said, I agree with this proposal.
> 
> John Hearty
> Level3
> 
>  It
> > won't do much at
> > all if there was a network failure.
> >
> > If the re-INVITE fails, or nothing changes in the media
> > stream, you SHOULD
> > then send a BYE.
> >
> > I'd like to incoroporate this piece of logic into bis.
> >
> > Proposal:
> >
> > UAC SHOULD re-INVITE with same SDP when it detects failures
> > in the media
> > session.
> > If re-INVITE doesn't help, SHOULD send a BYE
> >
> > -Jonathan R.
> >
> > ---
> > Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
> > Chief Scientist                             First Floor
> > dynamicsoft                                 East Hanover, NJ 07936
> > jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
> > http://www.jdrosen.net                      PHONE: (973) 952-5000
> > http://www.dynamicsoft.com
> >
> >
> > _______________________________________________
> > Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> > This list is for NEW development of the core SIP Protocol
> > Use sip-implementors@cs.columbia.edu for questions on current sip
> > Use sipping@ietf.org for new developments on the application of sip
> >
> 
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Mon Dec 10 11:55:37 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id LAA05454
	for <sip-archive@odin.ietf.org>; Mon, 10 Dec 2001 11:55:32 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id LAA25361
	for sip-archive@odin.ietf.org; Mon, 10 Dec 2001 11:55:35 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id LAA23892;
	Mon, 10 Dec 2001 11:35:37 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id LAA23864
	for <sip@optimus.ietf.org>; Mon, 10 Dec 2001 11:35:35 -0500 (EST)
Received: from excalibur.santera.com (exchange.santera.com [4.22.157.11])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id LAA04931
	for <sip@ietf.org>; Mon, 10 Dec 2001 11:35:31 -0500 (EST)
X-MimeOLE: Produced By Microsoft Exchange V6.0.4712.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Subject: RE: [Sip] Open Issue #207: Handling of session failures
Date: Mon, 10 Dec 2001 10:35:02 -0600
Message-ID: <CD110021698980419241042CF576B8F289FE10@EXCALIBUR.santera.com>
Thread-Topic: [Sip] Open Issue #207: Handling of session failures
Thread-Index: AcGBETNubZtfboyfRL2w0wdm1VtzzwAhnpig
From: "Chiou, Mark" <MChiou@santera.com>
To: "Christer Holmberg" <christer.holmberg@lmf.ericsson.se>,
        <John.Hearty@Level3.com>
Cc: <jdrosen@dynamicsoft.com>, <sip@ietf.org>
Content-Transfer-Encoding: 8bit
X-MIME-Autoconverted: from quoted-printable to 8bit by optimus.ietf.org id LAA23865
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 8bit

Hi,

Since SIP is a SIGNALLING protocol, It MUST have a well-defined error
handling procedure regarding media failure. Yes, I agree each media has
it own way to handle the media failure, but SIP shall specify a generic
behavior regarding the media failure and have a proper status code to
respond to the far end. SIP shall define the action to take when
receiving the status code.

Regards,

Mark Chiou

-----Original Message-----
From: Christer Holmberg [mailto:christer.holmberg@lmf.ericsson.se]
Sent: Sunday, December 09, 2001 6:22 PM
To: John.Hearty@Level3.com
Cc: jdrosen@dynamicsoft.com; sip@ietf.org
Subject: Re: [Sip] Open Issue #207: Handling of session failures



Hi,

If the same node is handling both media and signalling I guess the
proposal is ok.

However, if the nodes are separated, and eg MGCP/H.248 is used between
them, those protocols may define other actions to be taken when media
failures occur. For example, MGCP allows the media handler to RELEASE
the call if the media "connection" is lost, so to be able to
re-establish the session a whole NEW session must be setup. And, if the
node is a gateway it may not be able to set up a new session in the
first place, since it's an end-user of either "side" of the gateway
which set up the session.

So, since SIP is a SIGNALLING protocol I don't think there shall be any
SHOULDS or MUSTS on how to handling failures on the media level. Of
course, it may be mentioned as an example on a case where a re-INVITE
may be used.

Regards,

Christer Holmberg
Ericsson Finland




John.Hearty@Level3.com wrote:
> 
> > Issue:
> >
> > The spec is silent on what a UA should do if failures in the
> > media sessions
> > occur (ICMP, timeouts, or media specific errors). I think
> > something should
> > be
> > said. draft-rosenberg-sip-reconstitute-00.txt talks a lot about this
> > problem;
> > nearly all of that is local implementation logic, but one piece that
> > requires a
> > normative change to the spec - if you detect a failure in
> > media stream, send
> > a
> > re-invite to see if that repairs it.
> >
> > The re-invite will help if the failure is due to a end system
> > failure. In
> > that case, the re-INVITE will reconstitute the dialog and
> > session state at
> > an alternate, which is helpful and useful in many cases.
> 
> Assuming that end system is capable of reconstituting state from a
> re-Invite.
> That said, I agree with this proposal.
> 
> John Hearty
> Level3
> 
>  It
> > won't do much at
> > all if there was a network failure.
> >
> > If the re-INVITE fails, or nothing changes in the media
> > stream, you SHOULD
> > then send a BYE.
> >
> > I'd like to incoroporate this piece of logic into bis.
> >
> > Proposal:
> >
> > UAC SHOULD re-INVITE with same SDP when it detects failures
> > in the media
> > session.
> > If re-INVITE doesn't help, SHOULD send a BYE
> >
> > -Jonathan R.
> >
> > ---
> > Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
> > Chief Scientist                             First Floor
> > dynamicsoft                                 East Hanover, NJ 07936
> > jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
> > http://www.jdrosen.net                      PHONE: (973) 952-5000
> > http://www.dynamicsoft.com
> >
> >
> > _______________________________________________
> > Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> > This list is for NEW development of the core SIP Protocol
> > Use sip-implementors@cs.columbia.edu for questions on current sip
> > Use sipping@ietf.org for new developments on the application of sip
> >
> 
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Mon Dec 10 12:28:00 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA06177
	for <sip-archive@odin.ietf.org>; Mon, 10 Dec 2001 12:28:00 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id MAA28820
	for sip-archive@odin.ietf.org; Mon, 10 Dec 2001 12:28:03 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA27696;
	Mon, 10 Dec 2001 12:12:34 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA27665
	for <sip@optimus.ietf.org>; Mon, 10 Dec 2001 12:12:32 -0500 (EST)
Received: from imr2.ericy.com (imr2.ericy.com [12.34.240.68])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA05815
	for <sip@ietf.org>; Mon, 10 Dec 2001 12:12:28 -0500 (EST)
Received: from mr6.exu.ericsson.se (mr6att.ericy.com [138.85.92.14])
	by imr2.ericy.com (8.11.3/8.11.3) with ESMTP id fBAHBtY05228;
	Mon, 10 Dec 2001 11:11:55 -0600 (CST)
Received: from newman.exu.ericsson.se (newman.exu.ericsson.se [138.85.75.179])
	by mr6.exu.ericsson.se (8.11.3/8.11.3) with ESMTP id fBAHBsA12437;
	Mon, 10 Dec 2001 11:11:54 -0600 (CST)
Received: from lmf.ericsson.se (rmt160238.am.ericsson.se [138.85.160.238]) by newman.exu.ericsson.se (8.7.5/8.7.3) with ESMTP id LAA20525; Mon, 10 Dec 2001 11:11:52 -0600 (CST)
Message-ID: <3C14F2C0.9F02EF74@lmf.ericsson.se>
Date: Mon, 10 Dec 2001 19:37:04 +0200
From: Gonzalo Camarillo <Gonzalo.Camarillo@lmf.ericsson.se>
X-Mailer: Mozilla 4.79 [en] (WinNT; U)
X-Accept-Language: en
MIME-Version: 1.0
To: "Chiou, Mark" <MChiou@santera.com>
CC: Bob Penfield <bpenfield@acmepacket.com>,
        Jonathan Rosenberg <jdrosen@dynamicsoft.com>, sip@ietf.org
Subject: Re: [Sip] Major Open Issue #113: Overlapping Transactions
References: <CD110021698980419241042CF576B8F2843A92@EXCALIBUR.santera.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Hi,

"Chiou, Mark" wrote:
> 
> Hi,
> 
> Why don't we pick 190 for Request Updated response instead of 490.

Because we want to keep the core of the network transaction aware. The
core does not need to be aware of the new 490 code in order to function
correctly. If the code was 190, the core would need to be updated.

Regards,

Gonzalo

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Mon Dec 10 12:28:32 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA06193
	for <sip-archive@odin.ietf.org>; Mon, 10 Dec 2001 12:28:32 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id MAA28844
	for sip-archive@odin.ietf.org; Mon, 10 Dec 2001 12:28:35 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA27766;
	Mon, 10 Dec 2001 12:12:50 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA27731
	for <sip@optimus.ietf.org>; Mon, 10 Dec 2001 12:12:48 -0500 (EST)
Received: from zrc2s0jx.nortelnetworks.com (zrc2s0jx.nortelnetworks.com [47.103.122.112])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA05823
	for <sip@ietf.org>; Mon, 10 Dec 2001 12:12:43 -0500 (EST)
Received: from zrchb200.us.nortel.com (zrchb200.us.nortel.com [47.103.121.45])
	by zrc2s0jx.nortelnetworks.com (Switch-2.2.0/Switch-2.2.0) with ESMTP id fBAHCAB14598;
	Mon, 10 Dec 2001 11:12:10 -0600 (CST)
Received: by zrchb200.us.nortel.com with Internet Mail Service (5.5.2653.19)
	id <YT0H4NKF>; Mon, 10 Dec 2001 11:10:59 -0600
Message-ID: <933FADF5E673D411B8A30002A5608A0E10C782@zrc2c012.us.nortel.com>
From: "Scott Orton" <orton@nortelnetworks.com>
To: "'brett'" <brett@broadsoft.com>, sip <sip@ietf.org>
Subject: RE: [Sip] Open Issue #139: re-INVITE Glare
Date: Mon, 10 Dec 2001 11:11:07 -0600
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C1819D.A85250A0"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

This message is in MIME format. Since your mail reader does not understand
this format, some or all of this message may not be legible.

------_=_NextPart_001_01C1819D.A85250A0
Content-Type: text/plain;
	charset="iso-8859-1"

I like the 491 response code. I also prefer the idea of using the owner of
the Call-ID as Brett proposed below. I would suggest taking it a little
further. 

Lets assume that A is the owner of the Call-ID and B is the other party. 
If A receives the re-invite from B it should send a 491 to the Invite from
B. If B on receives a re-Invite from A it should process the request, rather
than sending the 491, and wait for the 491 for its own re-invite. 

This reduces the message traffic in the network and the delay in processing
the re-invite for the originator of the dialog.

Scott Orton
Nortel Networks  

-----Original Message-----
---snip ---

Using an explicit response code sounds fine, 
especially to avoid an accidental SRV next-hop 
occurrence from a 503 with Retry-After 
related to issue #128. :)

However I agree with John that something 
should produce an early winner of the 
re-INVITE glare.  How about allowing the 
owner of the Call-ID to have the random 
0 to 2 seconds (by 10ms) and the other 
gets random between 2.1 and 4 seconds 
(by 10ms)?  Session refreshing induced 
reinvites should choose higher random 
backoff intervals assuming that there 
is time left to accommodate it.


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip

------_=_NextPart_001_01C1819D.A85250A0
Content-Type: text/html;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV=3D"Content-Type" CONTENT=3D"text/html; =
charset=3Diso-8859-1">
<META NAME=3D"Generator" CONTENT=3D"MS Exchange Server version =
5.5.2654.89">
<TITLE>RE: [Sip] Open Issue #139: re-INVITE Glare</TITLE>
</HEAD>
<BODY>

<P><FONT SIZE=3D2>I like the 491 response code. I also prefer the idea =
of using the owner of the Call-ID as Brett proposed below. I would =
suggest taking it a little further. </FONT></P>

<P><FONT SIZE=3D2>Lets assume that A is the owner of the Call-ID and B =
is the other party. </FONT>
<BR><FONT SIZE=3D2>If A receives the re-invite from B it should send a =
491 to the Invite from B. If B on receives a re-Invite from A it should =
process the request, rather than sending the 491, and wait for the 491 =
for its own re-invite. </FONT></P>

<P><FONT SIZE=3D2>This reduces the message traffic in the network and =
the delay in processing the re-invite for the originator of the =
dialog.</FONT></P>

<P><FONT SIZE=3D2>Scott Orton</FONT>
<BR><FONT SIZE=3D2>Nortel Networks&nbsp; </FONT>
</P>

<P><FONT SIZE=3D2>-----Original Message-----</FONT>
<BR><FONT SIZE=3D2>---snip ---</FONT>
</P>

<P><FONT SIZE=3D2>Using an explicit response code sounds fine, </FONT>
<BR><FONT SIZE=3D2>especially to avoid an accidental SRV next-hop =
</FONT>
<BR><FONT SIZE=3D2>occurrence from a 503 with Retry-After </FONT>
<BR><FONT SIZE=3D2>related to issue #128. :)</FONT>
</P>

<P><FONT SIZE=3D2>However I agree with John that something </FONT>
<BR><FONT SIZE=3D2>should produce an early winner of the </FONT>
<BR><FONT SIZE=3D2>re-INVITE glare.&nbsp; How about allowing the =
</FONT>
<BR><FONT SIZE=3D2>owner of the Call-ID to have the random </FONT>
<BR><FONT SIZE=3D2>0 to 2 seconds (by 10ms) and the other </FONT>
<BR><FONT SIZE=3D2>gets random between 2.1 and 4 seconds </FONT>
<BR><FONT SIZE=3D2>(by 10ms)?&nbsp; Session refreshing induced </FONT>
<BR><FONT SIZE=3D2>reinvites should choose higher random </FONT>
<BR><FONT SIZE=3D2>backoff intervals assuming that there </FONT>
<BR><FONT SIZE=3D2>is time left to accommodate it.</FONT>
</P>
<BR>

<P><FONT =
SIZE=3D2>_______________________________________________</FONT>
<BR><FONT SIZE=3D2>Sip mailing list&nbsp; <A =
HREF=3D"http://www1.ietf.org/mailman/listinfo/sip" =
TARGET=3D"_blank">http://www1.ietf.org/mailman/listinfo/sip</A></FONT>
<BR><FONT SIZE=3D2>This list is for NEW development of the core SIP =
Protocol</FONT>
<BR><FONT SIZE=3D2>Use sip-implementors@cs.columbia.edu for questions =
on current sip</FONT>
<BR><FONT SIZE=3D2>Use sipping@ietf.org for new developments on the =
application of sip</FONT>
</P>

</BODY>
</HTML>
------_=_NextPart_001_01C1819D.A85250A0--

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Mon Dec 10 13:16:40 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id NAA07452
	for <sip-archive@odin.ietf.org>; Mon, 10 Dec 2001 13:16:35 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id NAA02163
	for sip-archive@odin.ietf.org; Mon, 10 Dec 2001 13:16:37 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA00775;
	Mon, 10 Dec 2001 12:58:53 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA00746
	for <sip@optimus.ietf.org>; Mon, 10 Dec 2001 12:58:51 -0500 (EST)
Received: from excalibur.santera.com (exchange.santera.com [4.22.157.11])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA06868
	for <sip@ietf.org>; Mon, 10 Dec 2001 12:58:48 -0500 (EST)
X-MimeOLE: Produced By Microsoft Exchange V6.0.4712.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Subject: RE: [Sip] Major Open Issue #113: Overlapping Transactions
Date: Mon, 10 Dec 2001 11:58:17 -0600
Message-ID: <CD110021698980419241042CF576B8F289FEC9@EXCALIBUR.santera.com>
Thread-Topic: [Sip] Major Open Issue #113: Overlapping Transactions
Thread-Index: AcGBncYUQTCjx6MLTfSNirHMhKWtDQAAD/1g
From: "Chiou, Mark" <MChiou@santera.com>
To: "Gonzalo Camarillo" <Gonzalo.Camarillo@lmf.ericsson.se>
Cc: "Bob Penfield" <bpenfield@acmepacket.com>,
        "Jonathan Rosenberg" <jdrosen@dynamicsoft.com>, <sip@ietf.org>
Content-Transfer-Encoding: 8bit
X-MIME-Autoconverted: from quoted-printable to 8bit by optimus.ietf.org id MAA00747
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 8bit

Hi,

Are you saying the overlapping transaction is purely end-to-end issue?
And the Proxy Server does not need to act on it. It is very difficult
for the Stateful Proxy server, which acts as a virtual UAS/USC at the
same time. I did implement a Stateful SIP Proxy Server for softswitch,
which had the same behavior when receiveing a final response. In this
overlapping transaction scenario, the Core network has to do a special
handling for 490 other than the rest of 4xx.

It does not sound right to me, especially for interworking scenarios.

Regards,

Mark

-----Original Message-----
From: Gonzalo Camarillo [mailto:Gonzalo.Camarillo@lmf.ericsson.se]
Sent: Monday, December 10, 2001 11:37 AM
To: Chiou, Mark
Cc: Bob Penfield; Jonathan Rosenberg; sip@ietf.org
Subject: Re: [Sip] Major Open Issue #113: Overlapping Transactions


Hi,

"Chiou, Mark" wrote:
> 
> Hi,
> 
> Why don't we pick 190 for Request Updated response instead of 490.

Because we want to keep the core of the network transaction aware. The
core does not need to be aware of the new 490 code in order to function
correctly. If the code was 190, the core would need to be updated.

Regards,

Gonzalo

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Mon Dec 10 13:17:42 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id NAA07527
	for <sip-archive@odin.ietf.org>; Mon, 10 Dec 2001 13:17:42 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id NAA02236
	for sip-archive@odin.ietf.org; Mon, 10 Dec 2001 13:17:44 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA29858;
	Mon, 10 Dec 2001 12:42:03 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA29826
	for <sip@optimus.ietf.org>; Mon, 10 Dec 2001 12:42:00 -0500 (EST)
Received: from june.Broomfield1.level3.net (june.Broomfield1.Level3.net [209.245.18.7])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA06532
	for <sip@ietf.org>; Mon, 10 Dec 2001 12:41:58 -0500 (EST)
From: John.Hearty@Level3.com
Received: from f1ee40-19.idc1.level3.com (hme0.f1ee40-19.idc1.oss.level3.com [10.1.144.204])
	by june.Broomfield1.level3.net (8.9.3/8.9.3) with ESMTP id RAA00411;
	Mon, 10 Dec 2001 17:41:56 GMT
Received: from n0195idc1.oss.level3.com (localhost [127.0.0.1])
	by f1ee40-19.idc1.level3.com (8.8.8+Sun/8.8.8) with ESMTP id RAA24352;
	Mon, 10 Dec 2001 17:41:53 GMT
Received: by n0195idc1.oss.level3.com with Internet Mail Service (5.5.2653.19)
	id <YKJGJQ1R>; Mon, 10 Dec 2001 10:41:52 -0700
Message-ID: <17052388D394D411803900508BDFFAF601B3707C@n0214idc1.oss.level3.com>
To: orton@nortelnetworks.com, brett@broadsoft.com, sip@ietf.org
Subject: RE: [Sip] Open Issue #139: re-INVITE Glare
Date: Mon, 10 Dec 2001 10:41:50 -0700
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C181A1.F2E97B30"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

This message is in MIME format. Since your mail reader does not understand
this format, some or all of this message may not be legible.

------_=_NextPart_001_01C181A1.F2E97B30
Content-Type: text/plain;
	charset="iso-8859-1"

Agreed.  The UA that generated the Call-ID (owner) is a good way to resolve
who shall proceed on re-Invite glare, and should not need to do any
re-attempts of the re-Invite.  The UA that does not own the Call-ID MAY
re-attempt its re-Invite once the Call-ID owner's transaction has completed,
allowing his re-attempt to complete as quickly as possible without the need
for timers.
 
John Hearty
Level3
 

-----Original Message-----
From: Scott Orton [mailto:orton@nortelnetworks.com]
Sent: Monday, December 10, 2001 10:11 AM
To: 'brett'; sip
Subject: RE: [Sip] Open Issue #139: re-INVITE Glare



I like the 491 response code. I also prefer the idea of using the owner of
the Call-ID as Brett proposed below. I would suggest taking it a little
further. 

Lets assume that A is the owner of the Call-ID and B is the other party. 
If A receives the re-invite from B it should send a 491 to the Invite from
B. If B on receives a re-Invite from A it should process the request, rather
than sending the 491, and wait for the 491 for its own re-invite. 

This reduces the message traffic in the network and the delay in processing
the re-invite for the originator of the dialog.

Scott Orton 
Nortel Networks  

-----Original Message----- 
---snip --- 

Using an explicit response code sounds fine, 
especially to avoid an accidental SRV next-hop 
occurrence from a 503 with Retry-After 
related to issue #128. :) 

However I agree with John that something 
should produce an early winner of the 
re-INVITE glare.  How about allowing the 
owner of the Call-ID to have the random 
0 to 2 seconds (by 10ms) and the other 
gets random between 2.1 and 4 seconds 
(by 10ms)?  Session refreshing induced 
reinvites should choose higher random 
backoff intervals assuming that there 
is time left to accommodate it. 


_______________________________________________ 
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
<http://www1.ietf.org/mailman/listinfo/sip>  
This list is for NEW development of the core SIP Protocol 
Use sip-implementors@cs.columbia.edu for questions on current sip 
Use sipping@ietf.org for new developments on the application of sip 


------_=_NextPart_001_01C181A1.F2E97B30
Content-Type: text/html;
	charset="iso-8859-1"

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML><HEAD>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
<TITLE>RE: [Sip] Open Issue #139: re-INVITE Glare</TITLE>

<META content="MSHTML 5.00.3314.2100" name=GENERATOR></HEAD>
<BODY>
<DIV><FONT color=#0000ff face=Arial size=2><SPAN 
class=623433417-10122001>Agreed.&nbsp; The UA that generated the Call-ID (owner) 
is a good way to resolve who shall proceed on re-Invite glare, and should not 
need to do any re-attempts of the re-Invite.&nbsp; The UA that does not own the 
Call-ID MAY re-attempt its re-Invite once the Call-ID owner's transaction has 
completed, allowing his re-attempt to complete as quickly as possible without 
the need for timers.</SPAN></FONT></DIV>
<DIV><FONT color=#0000ff face=Arial size=2><SPAN 
class=623433417-10122001></SPAN></FONT>&nbsp;</DIV>
<DIV><FONT color=#0000ff face=Arial size=2><SPAN class=623433417-10122001>John 
Hearty</SPAN></FONT></DIV>
<DIV><FONT color=#0000ff face=Arial size=2><SPAN 
class=623433417-10122001>Level3</SPAN></FONT></DIV>
<DIV><FONT color=#0000ff face=Arial size=2><SPAN 
class=623433417-10122001></SPAN></FONT>&nbsp;</DIV>
<BLOCKQUOTE style="MARGIN-RIGHT: 0px">
  <DIV align=left class=OutlookMessageHeader dir=ltr><FONT face=Tahoma 
  size=2>-----Original Message-----<BR><B>From:</B> Scott Orton 
  [mailto:orton@nortelnetworks.com]<BR><B>Sent:</B> Monday, December 10, 2001 
  10:11 AM<BR><B>To:</B> 'brett'; sip<BR><B>Subject:</B> RE: [Sip] Open Issue 
  #139: re-INVITE Glare<BR><BR></DIV></FONT>
  <P><FONT size=2>I like the 491 response code. I also prefer the idea of using 
  the owner of the Call-ID as Brett proposed below. I would suggest taking it a 
  little further. </FONT></P>
  <P><FONT size=2>Lets assume that A is the owner of the Call-ID and B is the 
  other party. </FONT><BR><FONT size=2>If A receives the re-invite from B it 
  should send a 491 to the Invite from B. If B on receives a re-Invite from A it 
  should process the request, rather than sending the 491, and wait for the 491 
  for its own re-invite. </FONT></P>
  <P><FONT size=2>This reduces the message traffic in the network and the delay 
  in processing the re-invite for the originator of the dialog.</FONT></P>
  <P><FONT size=2>Scott Orton</FONT> <BR><FONT size=2>Nortel Networks&nbsp; 
  </FONT></P>
  <P><FONT size=2>-----Original Message-----</FONT> <BR><FONT size=2>---snip 
  ---</FONT> </P>
  <P><FONT size=2>Using an explicit response code sounds fine, </FONT><BR><FONT 
  size=2>especially to avoid an accidental SRV next-hop </FONT><BR><FONT 
  size=2>occurrence from a 503 with Retry-After </FONT><BR><FONT size=2>related 
  to issue #128. :)</FONT> </P>
  <P><FONT size=2>However I agree with John that something </FONT><BR><FONT 
  size=2>should produce an early winner of the </FONT><BR><FONT size=2>re-INVITE 
  glare.&nbsp; How about allowing the </FONT><BR><FONT size=2>owner of the 
  Call-ID to have the random </FONT><BR><FONT size=2>0 to 2 seconds (by 10ms) 
  and the other </FONT><BR><FONT size=2>gets random between 2.1 and 4 seconds 
  </FONT><BR><FONT size=2>(by 10ms)?&nbsp; Session refreshing induced 
  </FONT><BR><FONT size=2>reinvites should choose higher random </FONT><BR><FONT 
  size=2>backoff intervals assuming that there </FONT><BR><FONT size=2>is time 
  left to accommodate it.</FONT> </P><BR>
  <P><FONT size=2>_______________________________________________</FONT> 
  <BR><FONT size=2>Sip mailing list&nbsp; <A 
  href="http://www1.ietf.org/mailman/listinfo/sip" 
  target=_blank>http://www1.ietf.org/mailman/listinfo/sip</A></FONT> <BR><FONT 
  size=2>This list is for NEW development of the core SIP Protocol</FONT> 
  <BR><FONT size=2>Use sip-implementors@cs.columbia.edu for questions on current 
  sip</FONT> <BR><FONT size=2>Use sipping@ietf.org for new developments on the 
  application of sip</FONT> </P></BLOCKQUOTE></BODY></HTML>

------_=_NextPart_001_01C181A1.F2E97B30--

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Mon Dec 10 13:51:48 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id NAA08647
	for <sip-archive@odin.ietf.org>; Mon, 10 Dec 2001 13:51:48 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id NAA04059
	for sip-archive@odin.ietf.org; Mon, 10 Dec 2001 13:51:50 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id NAA03362;
	Mon, 10 Dec 2001 13:37:05 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id NAA03330
	for <sip@optimus.ietf.org>; Mon, 10 Dec 2001 13:37:01 -0500 (EST)
Received: from auemail1.firewall.lucent.com (auemail1.lucent.com [192.11.223.161])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id NAA08183
	for <sip@ietf.org>; Mon, 10 Dec 2001 13:36:58 -0500 (EST)
Received: from ih2mail.ih.lucent.com (h135-1-241-39.lucent.com [135.1.241.39])
	by auemail1.firewall.lucent.com (Switch-2.1.3/Switch-2.1.0) with ESMTP id fBAIaTi24746;
	Mon, 10 Dec 2001 13:36:30 -0500 (EST)
Received: from lucent.com by ih2mail.ih.lucent.com (8.8.8+Sun/EMS-1.5 sol2)
	id MAA20559; Mon, 10 Dec 2001 12:36:28 -0600 (CST)
Message-ID: <3C150082.E56AF50@lucent.com>
Date: Mon, 10 Dec 2001 12:35:46 -0600
From: Vijay Gurbani <vkg@lucent.com>
Organization: Lucent Technologies/Bell Laboratories
X-Mailer: Mozilla 4.73 [en]C-CCK-MCD EMS-1.4  (Windows NT 5.0; U)
X-Accept-Language: en
MIME-Version: 1.0
To: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
CC: "'sip@ietf.org'" <sip@ietf.org>
Subject: Re: [Sip] Open Issue #144: Branch ID  + isCancel() as transaction ID
References: <B65B4F8437968F488A01A940B21982BF020D713A@DYN-EXCH-001.dynamicsoft.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Jonathan Rosenberg wrote:
> 
> Issue:
[...]
> Bis-05 has taken a big step forward with a rigorous definition of
> transaction, which makes it clear that its a single "branch" in the tree 
> of requests formed when a UAC sends a request through a bunch of proxies. 
> That is, the To/From/CSeq/Call-ID identify the root of this tree, and the 
> Via branch + r-uri further identify each branch in the tree. Based on 
> this, it is natural to take the final step, and define the transaction ID 
> for a request/response MUCH more simply - it is the value of the branch ID 
> in the topmost via, with the small caveat that CANCEL has the same branch 
> ID, but its a different transaction. 

Also that ACKs for non-2xx response must have the same branch ID as the
INVITE did.

[...]

> Proposal:
> 
> Allow for branch ID to be the transaction ID, by taking the steps 
> described above.

Fine.

- vijay
-- 
Vijay K. Gurbani  vkg@{lucent.com,research.bell-labs.com,acm.org}
Internet Software and eServices Group 
Lucent Technologies/Bell Labs Innovations, 2000 Lucent Lane, Rm 6G-440
Naperville, Illinois 60566     Voice: +1 630 224 0216   Fax: +1 630 713 0184

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Mon Dec 10 13:55:47 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id NAA08760
	for <sip-archive@odin.ietf.org>; Mon, 10 Dec 2001 13:55:47 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id NAA04167
	for sip-archive@odin.ietf.org; Mon, 10 Dec 2001 13:55:49 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id NAA03818;
	Mon, 10 Dec 2001 13:46:10 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id NAA03787
	for <sip@optimus.ietf.org>; Mon, 10 Dec 2001 13:46:07 -0500 (EST)
Received: from auemail1.firewall.lucent.com (auemail1.lucent.com [192.11.223.161])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id NAA08417
	for <sip@ietf.org>; Mon, 10 Dec 2001 13:46:05 -0500 (EST)
Received: from ih2mail.ih.lucent.com (h135-1-241-39.lucent.com [135.1.241.39])
	by auemail1.firewall.lucent.com (Switch-2.1.3/Switch-2.1.0) with ESMTP id fBAIjai28469;
	Mon, 10 Dec 2001 13:45:36 -0500 (EST)
Received: from lucent.com by ih2mail.ih.lucent.com (8.8.8+Sun/EMS-1.5 sol2)
	id MAA23513; Mon, 10 Dec 2001 12:45:35 -0600 (CST)
Message-ID: <3C1502A5.23A91687@lucent.com>
Date: Mon, 10 Dec 2001 12:44:53 -0600
From: Vijay Gurbani <vkg@lucent.com>
Organization: Lucent Technologies/Bell Laboratories
X-Mailer: Mozilla 4.73 [en]C-CCK-MCD EMS-1.4  (Windows NT 5.0; U)
X-Accept-Language: en
MIME-Version: 1.0
To: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
CC: "'sip@ietf.org'" <sip@ietf.org>
Subject: Re: [Sip] Open Issue #178: Deprecate absolute times absolutely: SPEAK UP 
 IFYOU USE THEM IN YOUR PRODUCT!!!!!!!!!!
References: <B65B4F8437968F488A01A940B21982BF020D713E@DYN-EXCH-001.dynamicsoft.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Jonathan Rosenberg wrote:
> 
> Issue:
> 
> The Expires header and expires param in the Contact header allow for
> absolute times expressed in GMT. The problem with using absolute times in
> the messages is that they require clock synchronization between the two
> elements.
[...]
> PROPOSAL A:
>   * Remove absolute times entirely from the specification
> 
> PROPOSAL B:
>   * Elements MUST NOT send messages with absolute times in Expires or
> ;expires, but they MUST be prepared to receive requests with absolute 
> times in those headers, for backwards compatibility
> 
> If we can do A, we should. So, speak up NOW if you use absolute times!!!

Proposal A is fine.  Our registrar sends out delta time in responses to
Register requests, for instance.

Thanks,

- vijay
-- 
Vijay K. Gurbani  vkg@{lucent.com,research.bell-labs.com,acm.org}
Internet Software and eServices Group 
Lucent Technologies/Bell Labs Innovations, 2000 Lucent Lane, Rm 6G-440
Naperville, Illinois 60566     Voice: +1 630 224 0216   Fax: +1 630 713 0184

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Mon Dec 10 14:00:08 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id OAA08913
	for <sip-archive@odin.ietf.org>; Mon, 10 Dec 2001 14:00:08 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id OAA04408
	for sip-archive@odin.ietf.org; Mon, 10 Dec 2001 14:00:10 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id NAA03580;
	Mon, 10 Dec 2001 13:42:57 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id NAA03548
	for <sip@optimus.ietf.org>; Mon, 10 Dec 2001 13:42:54 -0500 (EST)
Received: from imr1.ericy.com (imr1.ericy.com [208.237.135.240])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id NAA08302
	for <sip@ietf.org>; Mon, 10 Dec 2001 13:42:52 -0500 (EST)
Received: from mr7.exu.ericsson.se (mr7u3.ericy.com [208.237.135.122])
	by imr1.ericy.com (8.11.3/8.11.3) with ESMTP id fBAIgoH26394;
	Mon, 10 Dec 2001 12:42:50 -0600 (CST)
Received: from newman.exu.ericsson.se (newman.exu.ericsson.se [138.85.75.179])
	by mr7.exu.ericsson.se (8.11.3/8.11.3) with ESMTP id fBAIgo806882;
	Mon, 10 Dec 2001 12:42:50 -0600 (CST)
Received: from lmf.ericsson.se (rmt160105.am.ericsson.se [138.85.160.105]) by newman.exu.ericsson.se (8.7.5/8.7.3) with ESMTP id MAA29456; Mon, 10 Dec 2001 12:42:48 -0600 (CST)
Message-ID: <3C150810.ADA74694@lmf.ericsson.se>
Date: Mon, 10 Dec 2001 21:08:00 +0200
From: Gonzalo Camarillo <Gonzalo.Camarillo@lmf.ericsson.se>
X-Mailer: Mozilla 4.79 [en] (WinNT; U)
X-Accept-Language: en
MIME-Version: 1.0
To: "Chiou, Mark" <MChiou@santera.com>
CC: Bob Penfield <bpenfield@acmepacket.com>,
        Jonathan Rosenberg <jdrosen@dynamicsoft.com>, sip@ietf.org
Subject: Re: [Sip] Major Open Issue #113: Overlapping Transactions
References: <CD110021698980419241042CF576B8F289FEC9@EXCALIBUR.santera.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Hi,

"Chiou, Mark" wrote:
> 
> Hi,
> 
> Are you saying the overlapping transaction is purely end-to-end issue?
> And the Proxy Server does not need to act on it. It is very difficult
> for the Stateful Proxy server, which acts as a virtual UAS/USC at the
> same time. I did implement a Stateful SIP Proxy Server for softswitch,
> which had the same behavior when receiveing a final response. In this
> overlapping transaction scenario, the Core network has to do a special
> handling for 490 other than the rest of 4xx.
> 
> It does not sound right to me, especially for interworking scenarios.


In interworking scenarios your gateway (or softswitch) is not a proxy,
it is a UA.

Regards,

Gonzalo

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Mon Dec 10 15:32:52 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA10698
	for <sip-archive@odin.ietf.org>; Mon, 10 Dec 2001 15:32:52 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id PAA08598
	for sip-archive@odin.ietf.org; Mon, 10 Dec 2001 15:32:55 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id PAA07489;
	Mon, 10 Dec 2001 15:05:10 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id PAA07458
	for <sip@optimus.ietf.org>; Mon, 10 Dec 2001 15:05:07 -0500 (EST)
Received: from mail1.telefonica.com.ar ([168.226.49.11])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA10171
	for <sip@ietf.org>; Mon, 10 Dec 2001 15:05:03 -0500 (EST)
Received: by MAIL1 with Internet Mail Service (5.5.2653.19)
	id <YQ08W7F6>; Mon, 10 Dec 2001 16:58:46 -0300
Message-ID: <19364262E259D51198BA0008C7E6528E091B40@MSTELEFONICA8>
From: De Leo Walter <deleow@TELEFONICA.COM.AR>
To: "'sip@ietf.org'" <sip@ietf.org>
Date: Mon, 10 Dec 2001 16:58:42 -0300
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain
Subject: [Sip] Mandatory and Optional streams in Session Descriptions
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

Is there any mechanism to mark an m line as mandatory so that if no offered
codec is supported by the answerer for the mandatory streams the whole
session is rejected?



_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Mon Dec 10 15:52:31 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA11159
	for <sip-archive@odin.ietf.org>; Mon, 10 Dec 2001 15:52:30 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id PAA08955
	for sip-archive@odin.ietf.org; Mon, 10 Dec 2001 15:52:32 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id PAA08716;
	Mon, 10 Dec 2001 15:38:03 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id PAA08687
	for <sip@optimus.ietf.org>; Mon, 10 Dec 2001 15:38:01 -0500 (EST)
Received: from auemail1.firewall.lucent.com (auemail1.lucent.com [192.11.223.161])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA10825
	for <sip@ietf.org>; Mon, 10 Dec 2001 15:37:57 -0500 (EST)
Received: from ih2mail.ih.lucent.com (h135-1-241-39.lucent.com [135.1.241.39])
	by auemail1.firewall.lucent.com (Switch-2.1.3/Switch-2.1.0) with ESMTP id fBAKbSi16867;
	Mon, 10 Dec 2001 15:37:28 -0500 (EST)
Received: from lucent.com by ih2mail.ih.lucent.com (8.8.8+Sun/EMS-1.5 sol2)
	id OAA10376; Mon, 10 Dec 2001 14:37:27 -0600 (CST)
Message-ID: <3C151CDD.4B710216@lucent.com>
Date: Mon, 10 Dec 2001 14:36:45 -0600
From: Vijay Gurbani <vkg@lucent.com>
Organization: Lucent Technologies/Bell Laboratories
X-Mailer: Mozilla 4.73 [en]C-CCK-MCD EMS-1.4  (Windows NT 5.0; U)
X-Accept-Language: en
MIME-Version: 1.0
To: Robert Sparks <rsparks@dynamicsoft.com>
CC: jdrosen@dynamicsoft.com, sip@ietf.org
Subject: Re: [Sip] Open Issue #282: Timer C needs minimum for proxies
References: <9BF66EBF6BEFD942915B4D4D45C051F325F300@DYN-TX-EXCH-001.dynamicsoft.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Responses inline.

Robert Sparks wrote:
> 
> This is related to the question of how proxies treat an Expires header in 
> an INVITE. If we ask a proxy to remain aware of that header, it will 
> influence timer C and we have to answer what the timer should be if there
> is no Expires header present.
> 
> If proxies remain aware of the Expires header, I expect most of them to 
> have a policy that limits how large timer C can be made (otherwise, they 
> increase their vunerability to state-depletion DoS through lots of
> INVITEs with very long Expires).
> 
> I propose we recognize this policy and base timer C at a proxy on that 
> alone, recommending a reasonably long value.
> 
> With this proposal, a proxy would not even need to parse the Expires 
> header for an INVITE. If an Expires header is present with a shorter value 
> than what the proxy uses for timer C one of four things will happen:
> 
> 1) the receiving endpoint with 408 the request - the proxy's client 
>    transaction gets to enter the completed state
> 2) the requesting endpoint CANCELs and the receiving endpoint returns a 
>    487 - the proxy's client transaction gets to enter the completed state
> 3) the requesting endpoint CANCELS but the receiving endpoint fails to 
>    return a 487 - the proxy's client transaction enters the terminal state 
>    after timer C expires
> 4) both endpoints (or the network infrastructure) are misbehaving - the 
>    proxy's client transaction enters the terminal state after timer C 
>    expires.
> 
> If this is acceptable, it still leaves us with the question of what value 
> we should recommend. I propose something long - order of .5 to 1 hour 
> (remember that calls stay in a provisional state with early media when you 
> are in the queue to talk to an AA representative).

I agree with Robert's proposal above, but disagree somewhat in that proxies
need not parse the Expires header.  I think they should, and here's why.

The default value for a proxy's Timer C -- 1/2 to 1 hr -- should kick in
if the proxy receives a 183 from (one of) the UAS.  If all the proxy got was
a 100 or a 180, and the UAC included an Expires header which is much less
then the proxy's default Timer C (.5-1hr), I don't think it hurts to have 
the proxy honor it.  Of course, this means that within the 1xx class of 
responses, proxies will have to look for 183...

- vijay
-- 
Vijay K. Gurbani  vkg@{lucent.com,research.bell-labs.com,acm.org}
Internet Software and eServices Group 
Lucent Technologies/Bell Labs Innovations, 2000 Lucent Lane, Rm 6G-440
Naperville, Illinois 60566     Voice: +1 630 224 0216   Fax: +1 630 713 0184

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Mon Dec 10 16:11:41 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id QAA11586
	for <sip-archive@odin.ietf.org>; Mon, 10 Dec 2001 16:11:41 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id QAA09726
	for sip-archive@odin.ietf.org; Mon, 10 Dec 2001 16:11:42 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id QAA09530;
	Mon, 10 Dec 2001 16:02:40 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id QAA09499
	for <sip@optimus.ietf.org>; Mon, 10 Dec 2001 16:02:37 -0500 (EST)
Received: from pmesmtp02.wcom.com (pmesmtp02.wcom.com [199.249.20.2])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id QAA11419
	for <sip@ietf.org>; Mon, 10 Dec 2001 16:02:35 -0500 (EST)
Received: from pmismtp01.wcomnet.com ([166.38.62.36])
 by firewall.wcom.com (PMDF V5.2-32 #42257)
 with ESMTP id <0GO5000BEBRIGY@firewall.wcom.com> for sip@ietf.org; Mon,
 10 Dec 2001 21:02:07 +0000 (GMT)
Received: from pmismtp01.wcomnet.com by pmismtp01.wcomnet.com
 (PMDF V5.2-33 #42258) with SMTP id <0GO500K01BRGH3@pmismtp01.wcomnet.com>;
 Mon, 10 Dec 2001 21:02:06 +0000 (GMT)
Received: from hsinnreich2 ([166.42.40.192])
 by pmismtp01.wcomnet.com (PMDF V5.2-33 #42258)
 with ESMTP id <0GO500I9OBQL2K@pmismtp01.wcomnet.com>; Mon,
 10 Dec 2001 21:01:51 +0000 (GMT)
Date: Mon, 10 Dec 2001 13:01:30 -0800
From: Henry Sinnreich <Henry.Sinnreich@wcom.com>
Subject: RE: [Sip] re: the future of call control
In-reply-to: <62DA45D4963FA747BA1B253E266760F97833EA@OCCLUST04EVS1.ugd.att.com>
To: "'Roy, Radhika R, ALCTA'" <rrroy@att.com>, eburger@snowshore.com,
        Mpierce1@aol.com
Cc: sip@ietf.org
Message-id: <001901c181bd$e27cdb40$a8ca830c@hsinnreich2>
Organization: WorldCom, Inc.
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-Mailer: Microsoft Outlook, Build 10.0.3311
Content-type: text/plain; charset=us-ascii
Content-transfer-encoding: 7bit
Importance: Normal
X-Priority: 3 (Normal)
X-MSMail-priority: Normal
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

>If you do believe you need "standards" for such interoperation, I can
think >of three organizations you can bring it to: 3GPP for wireless,
CableLabs >for Broadband, and ISC for wireline.

The SIP Forum for SIP could be added to the list.

Thanks, Henry

> -----Original Message-----
> From: sip-admin@ietf.org [mailto:sip-admin@ietf.org] On Behalf Of Roy,
> Radhika R, ALCTA
> Sent: Monday, December 10, 2001 6:20 AM
> To: eburger@snowshore.com; Mpierce1@aol.com
> Cc: sip@ietf.org
> Subject: RE: [Sip] re: the future of call control
> 
> Comments are inline [RRR]. By the way, I do not see any disagreement.
> 
> -----Original Message-----
> From: Eric Burger [mailto:eburger@snowshore.com]
> Sent: Saturday, December 08, 2001 9:45 PM
> To: Roy, Radhika R, ALCTA; Mpierce1@aol.com
> Cc: sip@ietf.org
> Subject: RE: [Sip] re: the future of call control
> 
> 
> I fully *disagree* that these services need to be standardized.
> 
> [RRR] We all agreed that services must NOT be standardized. Let us
close
> this issue.
> 
> The reason
> is simple: what we're being asked to do is standardize a "marketing"
> function.  What do I mean by that?  ....
> 
> [RRR] Without going through any more examples, let us take the example
of
> the SIP Call Transfer draft. It will be an RFC and will provide the
> guidelines for implementation of the call transfer in SIP.
> 
> [RRR] Primitives must be standardized. (By the way, the REFER
primitive in
> SIP came out of this call transfer draft.)
> 
> What we *must* standardize are the primitives to implement such
functions.
> 
> [RRR] We all agreed earlier that primitives must be standardized. (By
the
> way, the REFER primitive in SIP came out of this call transfer draft.)
> 
> ...
> 
> Note that I take this stand not for the "IETF Doesn't Like Things Like
> H.450.1, H.450.2, H.450.99999" reason, although it is somewhat
reasonable
> as
> a design approach.  For that matter, I do see the need for some level
of
> standardization of practice, as evidenced by
draft-burger-sipping-msuri-
> 01.
> However, I do NOT think that the IETF is the place for reducing the
> practice
> of a given call control method to a RFC.
> 
> [RRR] SIP call transfer draft, as SIP/SIPPING WG intends, will be an
RFC.
> That is what people want to do in the IETF in addition to the
> standardization of the SIP primitives.
> 
> If you do believe you need "standards" for such interoperation, I can
> think
> of three organizations you can bring it to: 3GPP for wireless,
CableLabs
> for
> Broadband, and ISC for wireline.  Note that 3GPP and ISC explicitly
state
> they won't add or change SIP as defined by the IETF.  Documenting a
call
> flow doesn't change SIP :-)
> 
> [RRR] This is called interoperability among multi-vendor or multi-
> networking environment for implementation of a given standard and,
there
> are many forums available throughout the world. (IETF is not working
in
> this area).
> 
> 
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Mon Dec 10 17:02:42 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id RAA12828
	for <sip-archive@odin.ietf.org>; Mon, 10 Dec 2001 17:02:42 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id RAA12800
	for sip-archive@odin.ietf.org; Mon, 10 Dec 2001 17:02:32 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id QAA11552;
	Mon, 10 Dec 2001 16:51:44 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id QAA11520
	for <sip@optimus.ietf.org>; Mon, 10 Dec 2001 16:51:42 -0500 (EST)
Received: from mail1.dynamicsoft.com (mail1.dynamicsoft.com [63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id QAA12612
	for <sip@ietf.org>; Mon, 10 Dec 2001 16:51:39 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fBALncPr003694;
	Mon, 10 Dec 2001 16:49:38 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <YAN9Z2HK>; Mon, 10 Dec 2001 16:51:11 -0500
Message-ID: <9BF66EBF6BEFD942915B4D4D45C051F338E88F@DYN-TX-EXCH-001.dynamicsoft.com>
From: Robert Sparks <rsparks@dynamicsoft.com>
To: "'Vijay Gurbani'" <vkg@lucent.com>,
        Robert Sparks
	 <rsparks@dynamicsoft.com>
Cc: Jonathan Rosenberg <jdrosen@dynamicsoft.com>, sip@ietf.org
Subject: RE: [Sip] Open Issue #282: Timer C needs minimum for proxies
Date: Mon, 10 Dec 2001 16:51:05 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

> Robert Sparks wrote:
> > 
> > This is related to the question of how proxies treat an 
> Expires header in 
> > an INVITE. If we ask a proxy to remain aware of that 
> header, it will 
> > influence timer C and we have to answer what the timer 
> should be if there
> > is no Expires header present.
> > 
> > If proxies remain aware of the Expires header, I expect 
> most of them to 
> > have a policy that limits how large timer C can be made 
> (otherwise, they 
> > increase their vunerability to state-depletion DoS through lots of
> > INVITEs with very long Expires).
> > 
> > I propose we recognize this policy and base timer C at a 
> proxy on that 
> > alone, recommending a reasonably long value.
> > 
> > With this proposal, a proxy would not even need to parse 
> the Expires 
> > header for an INVITE. If an Expires header is present with 
> a shorter value 
> > than what the proxy uses for timer C one of four things will happen:
> > 
> > 1) the receiving endpoint with 408 the request - the proxy's client 
> >    transaction gets to enter the completed state
> > 2) the requesting endpoint CANCELs and the receiving 
> endpoint returns a 
> >    487 - the proxy's client transaction gets to enter the 
> completed state
> > 3) the requesting endpoint CANCELS but the receiving 
> endpoint fails to 
> >    return a 487 - the proxy's client transaction enters the 
> terminal state 
> >    after timer C expires
> > 4) both endpoints (or the network infrastructure) are 
> misbehaving - the 
> >    proxy's client transaction enters the terminal state 
> after timer C 
> >    expires.
> > 
> > If this is acceptable, it still leaves us with the question 
> of what value 
> > we should recommend. I propose something long - order of .5 
> to 1 hour 
> > (remember that calls stay in a provisional state with early 
> media when you 
> > are in the queue to talk to an AA representative).
> 
> I agree with Robert's proposal above, but disagree somewhat 
> in that proxies
> need not parse the Expires header.  I think they should, and 
> here's why.
> 
> The default value for a proxy's Timer C -- 1/2 to 1 hr -- 
> should kick in
> if the proxy receives a 183 from (one of) the UAS.  If all 
> the proxy got was
> a 100 or a 180, and the UAC included an Expires header which 
> is much less
> then the proxy's default Timer C (.5-1hr), I don't think it 
> hurts to have 
> the proxy honor it.  Of course, this means that within the 
> 1xx class of 
> responses, proxies will have to look for 183...
> 

Nothing would keep a proxy from doing this as an optimization.
I just don't see it as a requirement.

RjS

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Mon Dec 10 17:07:43 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id RAA12938
	for <sip-archive@odin.ietf.org>; Mon, 10 Dec 2001 17:07:42 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id RAA13044
	for sip-archive@odin.ietf.org; Mon, 10 Dec 2001 17:07:43 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id QAA12093;
	Mon, 10 Dec 2001 16:58:14 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id QAA11995
	for <sip@optimus.ietf.org>; Mon, 10 Dec 2001 16:58:08 -0500 (EST)
Received: from mail3.dynamicsoft.com ([63.113.44.69])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id QAA12750
	for <sip@ietf.org>; Mon, 10 Dec 2001 16:58:06 -0500 (EST)
Received: from DYN-VA-EXCH-001.dynamicsoft.com ([63.114.208.70])
	by mail3.dynamicsoft.com (8.12.1/8.12.1) with ESMTP id fBALvsVZ018135;
	Mon, 10 Dec 2001 16:57:54 -0500 (EST)
Received: by DYN-VA-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.1960.3)
	id <X18HTJLL>; Mon, 10 Dec 2001 16:57:37 -0500
Message-ID: <9BF66EBF6BEFD942915B4D4D45C051F338E890@DYN-TX-EXCH-001.dynamicsoft.com>
From: Robert Sparks <rsparks@dynamicsoft.com>
To: "'Vijay Gurbani'" <vkg@lucent.com>,
        Robert Sparks
	 <rsparks@dynamicsoft.com>
Cc: Jonathan Rosenberg <jdrosen@dynamicsoft.com>, sip@ietf.org
Subject: RE: [Sip] Open Issue #282: Timer C needs minimum for proxies
Date: Mon, 10 Dec 2001 16:57:36 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.1960.3)
Content-Type: text/plain
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

> Robert Sparks wrote:
> > 
> > This is related to the question of how proxies treat an 
> Expires header in 
> > an INVITE. If we ask a proxy to remain aware of that 
> header, it will 
> > influence timer C and we have to answer what the timer 
> should be if there
> > is no Expires header present.
> > 
> > If proxies remain aware of the Expires header, I expect 
> most of them to 
> > have a policy that limits how large timer C can be made 
> (otherwise, they 
> > increase their vunerability to state-depletion DoS through lots of
> > INVITEs with very long Expires).
> > 
> > I propose we recognize this policy and base timer C at a 
> proxy on that 
> > alone, recommending a reasonably long value.
> > 
> > With this proposal, a proxy would not even need to parse 
> the Expires 
> > header for an INVITE. If an Expires header is present with 
> a shorter value 
> > than what the proxy uses for timer C one of four things will happen:
> > 
> > 1) the receiving endpoint with 408 the request - the proxy's client 
> >    transaction gets to enter the completed state
> > 2) the requesting endpoint CANCELs and the receiving 
> endpoint returns a 
> >    487 - the proxy's client transaction gets to enter the 
> completed state
> > 3) the requesting endpoint CANCELS but the receiving 
> endpoint fails to 
> >    return a 487 - the proxy's client transaction enters the 
> terminal state 
> >    after timer C expires
> > 4) both endpoints (or the network infrastructure) are 
> misbehaving - the 
> >    proxy's client transaction enters the terminal state 
> after timer C 
> >    expires.
> > 
> > If this is acceptable, it still leaves us with the question 
> of what value 
> > we should recommend. I propose something long - order of .5 
> to 1 hour 
> > (remember that calls stay in a provisional state with early 
> media when you 
> > are in the queue to talk to an AA representative).
> 
> I agree with Robert's proposal above, but disagree somewhat 
> in that proxies
> need not parse the Expires header.  I think they should, and 
> here's why.
> 
> The default value for a proxy's Timer C -- 1/2 to 1 hr -- 
> should kick in
> if the proxy receives a 183 from (one of) the UAS.  If all 
> the proxy got was
> a 100 or a 180, and the UAC included an Expires header which 
> is much less
> then the proxy's default Timer C (.5-1hr), I don't think it 
> hurts to have 
> the proxy honor it.  Of course, this means that within the 
> 1xx class of 
> responses, proxies will have to look for 183...
> 
> - vijay

(hit send too soon)
As I said before, nothing would keep a proxy from looking
at the Expires header as an optimization - I just don't
see it being a requirement.

If a proxy _does_ look at the Expires header, I would have
it wait a bit to see if either endpoint bails out of the
transaction - the way we have things written now, its a
race to see whether the endpoints or one or more proxies
in the chain start trying to tear the transaction down
first.

RjS

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Mon Dec 10 17:16:29 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id RAA13135
	for <sip-archive@odin.ietf.org>; Mon, 10 Dec 2001 17:16:28 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id RAA13425
	for sip-archive@odin.ietf.org; Mon, 10 Dec 2001 17:16:30 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id RAA12892;
	Mon, 10 Dec 2001 17:03:46 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id RAA12858
	for <sip@optimus.ietf.org>; Mon, 10 Dec 2001 17:03:44 -0500 (EST)
Received: from auemail2.firewall.lucent.com (auemail2.lucent.com [192.11.223.163])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id RAA12862
	for <sip@ietf.org>; Mon, 10 Dec 2001 17:03:41 -0500 (EST)
Received: from ih2mail.ih.lucent.com (h135-1-241-39.lucent.com [135.1.241.39])
	by auemail2.firewall.lucent.com (Switch-2.1.3/Switch-2.1.0) with ESMTP id fBAM3Dk06415;
	Mon, 10 Dec 2001 17:03:13 -0500 (EST)
Received: from lucent.com by ih2mail.ih.lucent.com (8.8.8+Sun/EMS-1.5 sol2)
	id QAA06840; Mon, 10 Dec 2001 16:03:12 -0600 (CST)
Message-ID: <3C153FAD.27471F29@lucent.com>
Date: Mon, 10 Dec 2001 17:05:17 -0600
From: "Vijay K. Gurbani" <vkg@lucent.com>
Organization: Intelligent Network and Internet Software Group
X-Mailer: Mozilla 4.76 [en] (X11; U; Linux 2.4.2-2 i686)
X-Accept-Language: en
MIME-Version: 1.0
To: Robert Sparks <rsparks@dynamicsoft.com>
CC: Jonathan Rosenberg <jdrosen@dynamicsoft.com>, sip@ietf.org
Subject: Re: [Sip] Open Issue #282: Timer C needs minimum for proxies
References: <9BF66EBF6BEFD942915B4D4D45C051F338E88F@DYN-TX-EXCH-001.dynamicsoft.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Robert Sparks wrote:

> vkg>
> vkg> I agree with Robert's proposal above, but disagree somewhat
> vkg> in that proxies
> vkg> need not parse the Expires header.  I think they should, and
> vkg> here's why.
> vkg>
> vkg> The default value for a proxy's Timer C -- 1/2 to 1 hr --
> vkg> should kick in
> vkg> if the proxy receives a 183 from (one of) the UAS.  If all
> vkg> the proxy got was
> vkg> a 100 or a 180, and the UAC included an Expires header which
> vkg> is much less
> vkg> then the proxy's default Timer C (.5-1hr), I don't think it
> vkg> hurts to have
> vkg> the proxy honor it.  Of course, this means that within the
> vkg> 1xx class of
> vkg> responses, proxies will have to look for 183...
> 
> Nothing would keep a proxy from doing this as an optimization.
> I just don't see it as a requirement.

Problem with optimizations are that they may not be immediately 
apparent to the uninitiated implementor.  Maybe putting it in as
a SHOULD...but I will defer it to the authors for a final conclusion.
 
- vijay
--
Vijay K. Gurbani  vkg@{lucent.com,research.bell-labs.com,acm.org}
Internet Software/IN Architecture Group 
Lucent Technologies/Bell Labs Innovations 263 Shuman Blvd., Rm 1A-413
Naperville, Illinois 60566     Voice: +1 630 224 0216   Fax: +1 630 713
0184

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Mon Dec 10 17:17:26 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id RAA13160
	for <sip-archive@odin.ietf.org>; Mon, 10 Dec 2001 17:17:25 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id RAA13455
	for sip-archive@odin.ietf.org; Mon, 10 Dec 2001 17:17:28 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id RAA12986;
	Mon, 10 Dec 2001 17:06:52 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id RAA12955
	for <sip@optimus.ietf.org>; Mon, 10 Dec 2001 17:06:49 -0500 (EST)
Received: from exchange1.nuera.com ([12.105.228.79])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id RAA12918
	for <sip@ietf.org>; Mon, 10 Dec 2001 17:06:46 -0500 (EST)
Received: by exchange1.nuera.com with Internet Mail Service (5.5.2653.19)
	id <Y1R0AM23>; Mon, 10 Dec 2001 14:08:33 -0800
Message-ID: <E79883AEA37FD411A58C00508BAC5F4BD72EF5@exchange1.nuera.com>
From: "Fairlie-Cuninghame, Robert" <rfairlie@nuera.com>
To: "'sip@ietf.org'" <sip@ietf.org>
Cc: "'jdrosen@dynamicsoft.com'" <jdrosen@dynamicsoft.com>
Date: Mon, 10 Dec 2001 14:08:32 -0800
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Subject: [Sip] SDP Offer/Counter-offer/Answer
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org


Hello,

I'm not sure whether this is more suited to the MMUSIC list (as there is a
answer-offer discussion ensuing presently), however I believe this is more
related to the use of the SDP offer-answer model than its specification.
[draft-rosenberg-mmusic-sdp-offer-answer-00.txt]

Just a recap: the SDP offer/counter-offer/answer model is where Peer A makes
an offer in the INVITE, that Peer B has decides to make a counter-offer back
to A (in 183 or 200 OK) which A then sends an answers (in PRACK or ACK). 

We are seeing the offer/counter-offer/answer model becoming more widely
used: it is used in the manyfolks resource reservation, it is used in the
early media proposal and it is required in the 3GPP requirements document.
Also when SRTP becomes more prevalent, it will be useful in that instance. 
An example of its use with SRTP: A calls B. A offers RTP/AVP in the INVITE
but B requires the use of SRTP/AVP profile, so B counter-offers with
SRTP/AVP in the 200 OK. A either answers in ACK or sends empty SDP and
rejects call. 

My aim is not to change the answer-offer model (everything is still always
an offer or answer), early media or resource reservation; my aim merely to
make what is happening EXPLICIT rather than assumed, that is, make it
explicit with an SDP is an answer or a counter-offer. Explicit protocol are
just about always better than implicit (IETF mantra right).

My proposal (which I made earlier in the year): whenever a response
(provisional or final) contains an SDP counter-offer then this fact is
EXPLICITly indicated in the Content-Disposition header. 

For instance: Content-Disposition=newoffer;handling=required

I propose that this Content-Disposition token is added to the next SIP
draft. 

Comments?

Regards,

Robert.

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Mon Dec 10 18:31:03 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id SAA14609
	for <sip-archive@odin.ietf.org>; Mon, 10 Dec 2001 18:31:02 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id SAA16452
	for sip-archive@odin.ietf.org; Mon, 10 Dec 2001 18:31:05 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id SAA15619;
	Mon, 10 Dec 2001 18:12:59 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id SAA15587
	for <sip@optimus.ietf.org>; Mon, 10 Dec 2001 18:12:56 -0500 (EST)
Received: from exchange1.nuera.com ([12.105.228.79])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id SAA14269
	for <sip@ietf.org>; Mon, 10 Dec 2001 18:12:53 -0500 (EST)
Received: by exchange1.nuera.com with Internet Mail Service (5.5.2653.19)
	id <Y1R0AMRS>; Mon, 10 Dec 2001 15:14:40 -0800
Message-ID: <E79883AEA37FD411A58C00508BAC5F4BD72EF6@exchange1.nuera.com>
From: "Fairlie-Cuninghame, Robert" <rfairlie@nuera.com>
To: "'Jonathan Rosenberg'" <jdrosen@dynamicsoft.com>,
        "'sip@ietf.org'"
	 <sip@ietf.org>
Subject: RE: [Sip] Open Issue #140: use only tags for Call-leg ID
Date: Mon, 10 Dec 2001 15:14:40 -0800
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

> 
> 4. The Replaces header gets shortened; its now easier to 
> identify the call
> leg 
> thats getting replaced. May not be a big deal.
> 

The Replaces header only needs to identify a unique call - not create it -
so even with the current dialog wording, the Replaces header can still
specify only Call-id, Lcoal-tag and remote-tag. 

Implementing Replaces is a different matter to changing proxy behaviors and
dialog identity - so backwards compatibility is not a problem. To tags
(generated by caller) and call-id (generated by caller) have always supposed
to have been globally unique and so should always identify session uniquely.

I guess there is the lookup problem where a UA is designed such that it can
_only_ lookup a call record if it has the full To & From URL's but I doubt
this is a realistic concern. Any UA supporting Replaces should hopefully be
fairly sophisticated and up-to-date.

Placing URL's in the Replaces header just makes everything that much larger
and more complicated. 

Regards,

Robert.


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Mon Dec 10 18:41:49 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id SAA14851
	for <sip-archive@odin.ietf.org>; Mon, 10 Dec 2001 18:41:49 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id SAA16694
	for sip-archive@odin.ietf.org; Mon, 10 Dec 2001 18:41:52 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id SAA16524;
	Mon, 10 Dec 2001 18:33:09 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id SAA16493
	for <sip@optimus.ietf.org>; Mon, 10 Dec 2001 18:33:06 -0500 (EST)
Received: from exchange1.nuera.com ([12.105.228.79])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id SAA14702
	for <sip@ietf.org>; Mon, 10 Dec 2001 18:33:03 -0500 (EST)
Received: by exchange1.nuera.com with Internet Mail Service (5.5.2653.19)
	id <Y1R0AM42>; Mon, 10 Dec 2001 15:34:50 -0800
Message-ID: <E79883AEA37FD411A58C00508BAC5F4BD72EF7@exchange1.nuera.com>
From: "Fairlie-Cuninghame, Robert" <rfairlie@nuera.com>
To: "'Gonzalo Camarillo'" <Gonzalo.Camarillo@lmf.ericsson.se>,
        Jonathan Rosenberg <jdrosen@dynamicsoft.com>
Cc: "'sip@ietf.org'" <sip@ietf.org>
Subject: RE: [Sip] Open Issue #128: 503 and SRV
Date: Mon, 10 Dec 2001 15:34:49 -0800
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

This does raise an interesting question though.

503 Service Unavailable will be either misleading or meaningless to the
normal end user. Normally the response should really only be returned to the
user if this is the _real_ response reason (e.g. down for maintenance). If
on the other hand, the UAS is just returning this response for some other
reason (e.g. all lines are busy in a call pool and the UAS is trying to
trigger an SRV-based load-balancing mechanism), then the UAS needs to know
that SRV-based load-levelling is being used.

It seems that some sort of header would be better suited for this. In this
manner the response is always correct to user (e.g. 486 Busy) but the
UAS/proxy also knows that it is okay to try the next SRV entry. 

Robert.

> -----Original Message-----
> From: Gonzalo Camarillo [mailto:Gonzalo.Camarillo@lmf.ericsson.se]
> Sent: 06 December 2001 23:23
> To: Jonathan Rosenberg
> Cc: 'sip@ietf.org'
> Subject: Re: [Sip] Open Issue #128: 503 and SRV
> 
> 
> Hi,
> 
> Agreed. The fact that one of the servers returned by SRV is overloaded
> does not mean that the rest are. They should be tried as well.
> 
> Regards,
> 
> Gonzalo
> 
> Jonathan Rosenberg wrote:
> > 
> > Issue:
> > 
> > The spec says that if you try to contact a server, and get 
> a 503, you are
> > supposed to try an alternate server. The question is, does 
> alternate server
> > mean going back to the SRV record and trying the next one?
> > 
> > Discussion points:
> > 
> > I believe this makes total sense, but it just needs to get 
> floated to see if
> > there is any kind of problem with it.
> > 
> > Proposal:
> > 
> > 503 causes client to try next SRV entry
> > 
> > -Jonathan R.
> > 
> > ---
> > Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
> > Chief Scientist                             First Floor
> > dynamicsoft                                 East Hanover, NJ 07936
> > jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
> > http://www.jdrosen.net                      PHONE: (973) 952-5000
> > http://www.dynamicsoft.com
> > 
> > 
> > _______________________________________________
> > Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> > This list is for NEW development of the core SIP Protocol
> > Use sip-implementors@cs.columbia.edu for questions on current sip
> > Use sipping@ietf.org for new developments on the application of sip
> 
> -- 
> Gonzalo Camarillo                    Phone :   +1 212 939 71 71
> Columbia University                  Mobile:  +358 40 702 35 35
> 472 Computer Science Building        Fax   :  +358  9 299 30 52
> 1214 Amsterdam Ave., Mail Code 0401  http://www.hut.fi/~gonzalo
> New York, NY 10027                   
> USA                              Gonzalo.Camarillo@ericsson.com
> 
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
> 

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Mon Dec 10 19:17:23 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id TAA15424
	for <sip-archive@odin.ietf.org>; Mon, 10 Dec 2001 19:17:22 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id TAA18252
	for sip-archive@odin.ietf.org; Mon, 10 Dec 2001 19:17:23 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id TAA17072;
	Mon, 10 Dec 2001 19:00:11 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id TAA17033
	for <sip@optimus.ietf.org>; Mon, 10 Dec 2001 19:00:07 -0500 (EST)
Received: from exchange1.nuera.com ([12.105.228.79])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id TAA15131
	for <sip@ietf.org>; Mon, 10 Dec 2001 19:00:05 -0500 (EST)
Received: by exchange1.nuera.com with Internet Mail Service (5.5.2653.19)
	id <Y1R0AMXN>; Mon, 10 Dec 2001 16:01:51 -0800
Message-ID: <E79883AEA37FD411A58C00508BAC5F4BD72EF8@exchange1.nuera.com>
From: "Fairlie-Cuninghame, Robert" <rfairlie@nuera.com>
To: "'John.Hearty@Level3.com'" <John.Hearty@Level3.com>,
        jdrosen@dynamicsoft.com, sip@ietf.org
Subject: RE: [Sip] Open Issue #282: Timer C needs minimum for proxies
Date: Mon, 10 Dec 2001 16:01:50 -0800
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org


I completely agree John: having an arbitrary *proxy* dictate the maximum
ring time for an endpoint is totally unacceptable in my opinion - this
should be decided by the user-agents alone. I understand the problems this
causes when trying to return final response when forking but that is still
not a justification for a *proxy* to terminate a *ringing* phone simply so
it can return a failure cause?!?!?!? Timer C must be _at least_ an order of
magnitude larger than 32secs (10 minutes?) - large enough not stop a phone
ringing in a reasonable time but short enough to protect itself. 

Robert.

> -----Original Message-----
> From: John.Hearty@Level3.com [mailto:John.Hearty@Level3.com]
> Sent: 06 December 2001 22:49
> To: jdrosen@dynamicsoft.com; sip@ietf.org
> Subject: RE: [Sip] Open Issue #282: Timer C needs minimum for proxies
> 
> 
> I agree with the proposal, but wonder if the arbitrary number 
> chosen might
> be a bit short.  In the PSTN, 32 seconds typically equates to 
> 5 rings in the
> US.  Grandma might not make it to the phone in time...
> 
> 
> > -----Original Message-----
> > From: Jonathan Rosenberg [mailto:jdrosen@dynamicsoft.com]
> > Sent: Thursday, December 06, 2001 3:10 PM
> > To: 'sip@ietf.org'
> > Subject: [Sip] Open Issue #282: Timer C needs minimum for proxies
> > 
> > 
> > Issue:
> > 
> > The spec says that Timer C is specified by the TU. Timer C 
> > defines how long
> > the 
> > client invite transaction waits for a final response after a 
> > provisional.
> > Having this 
> > be entirely defined by the TU makes sense when the TU is a 
> > UAC (i.e., how
> > long you let the phone ring is a matter of local policy). 
> But, for a 
> > proxy, its a different story. If the proxy transactions give 
> > up immediately,
> > 
> > calls will not function properly. Thus, for this to work, 
> > proxies need to
> > have a 
> > minimum value for timer C. 
> > 
> > Proposal:
> > 
> > The proposal would be to have 32s as the minimum. This value 
> > is somewhat
> > arbitrary.
> > 
> > -Jonathan R.
> > 
> > ---
> > Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
> > Chief Scientist                             First Floor
> > dynamicsoft                                 East Hanover, NJ 07936
> > jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
> > http://www.jdrosen.net                      PHONE: (973) 952-5000
> > http://www.dynamicsoft.com
> >  
> > 
> > _______________________________________________
> > Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> > This list is for NEW development of the core SIP Protocol
> > Use sip-implementors@cs.columbia.edu for questions on current sip
> > Use sipping@ietf.org for new developments on the application of sip
> > 
> 
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
> 

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Mon Dec 10 19:18:25 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id TAA15463
	for <sip-archive@odin.ietf.org>; Mon, 10 Dec 2001 19:18:25 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id TAA18276
	for sip-archive@odin.ietf.org; Mon, 10 Dec 2001 19:18:26 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id TAA17846;
	Mon, 10 Dec 2001 19:07:28 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id TAA17815
	for <sip@optimus.ietf.org>; Mon, 10 Dec 2001 19:07:24 -0500 (EST)
Received: from mail1.dynamicsoft.com (mail1.dynamicsoft.com [63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id TAA15257
	for <sip@ietf.org>; Mon, 10 Dec 2001 19:07:21 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fBB05LPr004526
	for <sip@ietf.org>; Mon, 10 Dec 2001 19:05:21 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <YAN9Z2TY>; Mon, 10 Dec 2001 19:06:54 -0500
Message-ID: <B65B4F8437968F488A01A940B21982BF0254FFB5@DYN-EXCH-001.dynamicsoft.com>
From: Rakesh Shah <RShah@dynamicsoft.com>
To: "SIPWG Mailing List (sip@ietf.org)" <sip@ietf.org>
Date: Mon, 10 Dec 2001 19:06:53 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain
Subject: [Sip] SIP WG - Last Call Weekly Status Update
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

Dear SIP Working Group Members,

       This Working Group Last Call status is being sent out to keep you
up-to-speed.

       Any questions about this information can be addressed to Rakesh Shah
(mailto:rshah@dynamicsoft.com).

Drafts in WGLC

draft-ietf-sip-100rel-04.txt
Rolled into sip-bis-06. Requested by A. Mankin.

draft-ietf-sip-session-timer-08.txt
AD notified of situation. Awaiting resolution. AD review. Token with A.
Mankin. IESG page shows expired 29Nov01. WGLC completed 2Sep01.

draft-ietf-sip-callerprefs-05.txt
Draft addresses changes required by WGLC. What to do now? December
expiration date appears to be error. Update expiration date and submit to
IESG with chairs' permission.

draft-ietf-sip-mib-03.txt
Waiting on authors' summary. Author(s) notified on 10Dec01.

draft-ietf-sip-manyfolks-resource-03.txt
Updated after WGLC. Looking at some late comments. Not well-discussed in
WGLC. (Critical to 3GPP.)

draft-ietf-sip-call-auth-03.txt
WGLC completed and author summary posted. There was little conversation on
the list during WGLC. Chairs deciding if more discussion is needed. Includes
changes from WGLC of -02. Critical for 3GPP.

draft-ietf-sip-state-02.txt
Trying to find NITS reviewer.

draft-ietf-sip-refer-02.txt
Dates pushed out for last call review to accommodate author's schedule.
Recently split from transfer draft.

Drafts Queued for WGLC

draft-ietf-sip-rfc2543bis-05.txt
Major reorg started. New dates are being planned. No formal review expected
until Jan02.

draft-ietf-sip-privacy-03.txt
Ready for WGLC. (3GPP interest.)

draft-ietf-sip-events-01.txt
Ready for WGLC. This is the revival of draft-roach-subscribe-notify-03.txt.
(Critical to 3GPP)

draft-ietf-sip-sctp-01.txt
Ready for WGLC.

       This information is kept up-to-date on the supplemental SIP WG Web
site (link below).

Links

Last Call Calendar - http://www.softarmor.com/sipwg/lastcall/lccalendar.pl
Supplemental SIP WG Web site - http://www.softarmor.com/sipwg

Regards,

Rakesh
______________________________
Mr. Rakesh C. Shah
Project Coordinator
dynamicsoft Inc. 
72 Eagle Rock Avenue
First Floor
East Hanover, NJ 07936
(973) 952-5000 main
(973) 952-5066 direct
(201) 214-6084 mobile
(973) 952-5050 fax
rshah@dynamicsoft.com
www.dynamicsoft.com

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Mon Dec 10 19:20:55 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id TAA15513
	for <sip-archive@odin.ietf.org>; Mon, 10 Dec 2001 19:20:55 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id TAA18355
	for sip-archive@odin.ietf.org; Mon, 10 Dec 2001 19:20:52 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id TAA17458;
	Mon, 10 Dec 2001 19:01:54 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id TAA17427
	for <sip@optimus.ietf.org>; Mon, 10 Dec 2001 19:01:51 -0500 (EST)
Received: from mail.pingtel.com (IDENT:root@mail.pingtel.com [216.91.1.131])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id TAA15147
	for <sip@ietf.org>; Mon, 10 Dec 2001 19:01:48 -0500 (EST)
Received: from pingtel.com (180-202-131-12.bellhead.com [12.131.202.180])
	by mail.pingtel.com (8.11.0/8.11.0) with ESMTP id fBANuUW09303;
	Mon, 10 Dec 2001 18:56:30 -0500
Message-ID: <3C154B71.D17C1C03@pingtel.com>
Date: Mon, 10 Dec 2001 18:55:29 -0500
From: "Daniel G. Petrie" <dpetrie@pingtel.com>
Organization: Pingtel Corp.  http://www.pingtel.com
X-Mailer: Mozilla 4.73 [en]C-{C-UDP; EBM-SONY1}  (Windows NT 5.0; U)
X-Accept-Language: en
MIME-Version: 1.0
To: Robert Sparks <rsparks@dynamicsoft.com>, sip@ietf.org
CC: Rakesh Shah <RShah@dynamicsoft.com>
References: <B65B4F8437968F488A01A940B21982BF0254FE31@DYN-EXCH-001.dynamicsoft.com>
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
Content-Transfer-Encoding: 8bit
Subject: [Sip] Re: SIP WG - 4 - Last Call Review - draft-ietf-sip-refer-02.txt
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 8bit

I think the REFER draft is looking very solid.  The following are
are only minor nits/comments:

The Refer-To header should probably have some text line the To, From and Contact
in the bis like: If the addr-spec form of a SIP URL is used and it contains ; or
other special character, the name-addr form should be used.

A nit on section 3.1: The reference to Contact header in the second paragraph
is perhaps a little ambiguous between the header in the REFER and the header in
the SIP URL in the Refer-To header.

Where is the Content-Type: message/sipfrag defined?  There is no reference in
section 5 on IANA.  The example messages show a syntax with a Version
parameter.  This parameter is not defined.  I assume this correlates to the SIP
version number.

Section 3.5.3.1: I suggest adding some text like:
The UA MAY send NOTIFY requests with provisional status.  The UA that issued the
REFER MUST be prepared to receive NOTIFY requests with provisional status and
respond with successful 2xx response, if it wishes to receive the NOTIFY request
with the final status.




_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Mon Dec 10 19:57:07 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id TAA15978
	for <sip-archive@odin.ietf.org>; Mon, 10 Dec 2001 19:57:07 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id TAA19869
	for sip-archive@odin.ietf.org; Mon, 10 Dec 2001 19:57:08 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id TAA19446;
	Mon, 10 Dec 2001 19:46:29 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id TAA19414
	for <sip@optimus.ietf.org>; Mon, 10 Dec 2001 19:46:25 -0500 (EST)
Received: from exchange1.nuera.com ([12.105.228.79])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id TAA15817
	for <sip@ietf.org>; Mon, 10 Dec 2001 19:46:21 -0500 (EST)
Received: by exchange1.nuera.com with Internet Mail Service (5.5.2653.19)
	id <Y1R0AM7D>; Mon, 10 Dec 2001 16:48:06 -0800
Message-ID: <E79883AEA37FD411A58C00508BAC5F4BD72EF9@exchange1.nuera.com>
From: "Fairlie-Cuninghame, Robert" <rfairlie@nuera.com>
To: "'Jonathan Rosenberg'" <jdrosen@dynamicsoft.com>,
        "'sip@ietf.org'"
	 <sip@ietf.org>
Cc: "'simple@mailman.dynamicsoft.com'" <simple@mailman.dynamicsoft.com>
Subject: RE: [Sip] FW: [Simple] Alignment of sip-events and watcherinfo
Date: Mon, 10 Dec 2001 16:48:06 -0800
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

Hi Jonathan,

> 
> (resend; first attempt seemed to have been garbled)
> 
> 
> I'm cc'ing SIMPLE since this is a joint issue that affects both the
> watcherinfo work and sip-events. Also, sip-events is a sip 
> work item, not
> sipping, so I am changing the list to sip.
>  

Re-adding SIMPLE after resend.

> > I would like to suggest the watherinfo reason codes are 
> > expanded a little.
> > For instance, the watcherinfo assumes that the pending states 
> > is waiting for
> > authorization. It could however be pending while waiting for 
> > the subscribed
> > object to become active (note: I am not referring to the 
> > subscribed Event
> > package here). This sort of behavior may be typical/useful 
> > when you are
> > trying to subscribe to an event that has not started yet (and 
> > yet you desire
> > to have the subscription in place _before_ the event begins). 
> 
> OK, but in this case, the subscription itself is not pending, 
> its the state
> of the object that is effectively "TBD". This should be 
> reflected in the
> presence document delivered in the first NOTIFY, not in the 
> state of the
> subscription, IMHO.

I disagree. I think this is very much the concern of subscription and not
the Event package. 

Example: If I create a subscription that is associated with a televised
concert that occurs at some time in the future. When the concert finishes,
obviously the subscription should also terminate, the reason for the
termination is that the subscribed object has terminated. This is not an
Event Package related reason. Likewise, every Event Package (e.g., my
"Excessive Decibels" Monitoring Event Package) should not have to deal with
understanding/reporting when the concert is valid (and why the subscription
was terminated) - the package is only concerned with reporting when the
audio component of the associated object exceeds a certain threshold.
<contrived but it will do>

This argument applies equally to the pending state. I want to create a
subscription to this concert before it starts so I don't miss the beginning.
So the subscription is not active until the concert actually starts - once
again my Decibel Monitoring Event Package has no concern for this. It is a
function of the subscription itself to know when the object (and hence the
subscription) is pending/active/terminated.

Thus both the terminated & pending reason causes should be
Subscription-Expire reasons and not solely contained in the Event package
bodies themselves. 

> > I also think
> > the rejection/termination reasons could be expanded a little more.
> 
> Suggestions?
> 

I made a couple in my last email (some of which you have already covered):

	- Terminated/rejected because authorization failed
	- Terminated because subscribed object terminated
	- Terminated because subscriber requested termination.
	- Expired. Subscriber did not refresh subscription.
	- Terminated at request of notifier.

Regards,

Robert.

> > 
> > I can't see much use in including the 
> > event field since
> > (presumably) the watcher will know what event triggered the 
> > NOTIFY, and if
> > they can't, they can use watcherinfo to get it.
> 
> No, these are not events of the presentity, they are events of the
> subscription. These events correspond quite closely to the "reason"
> parameters Adam has currently specified. In fact, for the 
> rejecttion events,
> here is the mapping:
> 
> sip-events      watcherinfo
> ----------      -----------
> migration  <->   deactivated
> maint      <->    ?
> refused    <->   rejected
> timeout    <->   expired
>  ?         <->   timeout
> 
> Clearly, these should be aligned, and should be present in both the
> SUbscription-Expires and the watcherinfo format. 
> 
> Its not clear to me what the semantics of maint are; should 
> the client retry
> after some period? Presuming we can define it conciesely, we 
> should add it
> to the watcherinfo package. 
> 
> So, here would be my proposal for the unified set:
> 
> deactivated: subscription is terminated, but client SHOULD 
> retry immediately
> with a new subscription. This handles migration plus other cases
> potentially.
> 
> probation: subscription is terminated; but client SHOULD 
> retry at some later
> time (we could include a Retry-After header in the case of 
> presence in the
> Subscription-Expires header)
> 
> rejected: subscription terminated due to change in 
> authorization policy.
> Retrying will not help.
> 
> timeout: subscription terminated because it was not refreshed. 
> 
> giveup: could not obtain authorization in a timely fashion, and so the
> pending subscription is being terminated. The client can 
> retry and will
> likely get put back into pending state.
> 
> THanks,
> Jonathan R.
> 
 

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Mon Dec 10 22:54:34 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id WAA19649
	for <sip-archive@odin.ietf.org>; Mon, 10 Dec 2001 22:54:34 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id WAA26084
	for sip-archive@odin.ietf.org; Mon, 10 Dec 2001 22:54:37 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id WAA25710;
	Mon, 10 Dec 2001 22:41:56 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id WAA25683
	for <sip@optimus.ietf.org>; Mon, 10 Dec 2001 22:41:54 -0500 (EST)
Received: from mail1.dynamicsoft.com (mail1.dynamicsoft.com [63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id WAA19450
	for <sip@ietf.org>; Mon, 10 Dec 2001 22:41:50 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fBB3dWPr005080;
	Mon, 10 Dec 2001 22:39:33 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <YAN9Z26V>; Mon, 10 Dec 2001 22:41:06 -0500
Message-ID: <9BF66EBF6BEFD942915B4D4D45C051F338E892@DYN-TX-EXCH-001.dynamicsoft.com>
From: Robert Sparks <rsparks@dynamicsoft.com>
To: Daniel Petrie <dpetrie@pingtel.com>,
        Robert Sparks
	 <rsparks@dynamicsoft.com>, sip@ietf.org
Date: Mon, 10 Dec 2001 22:40:56 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Subject: [Sip] RE: SIP WG - 4 - Last Call Review - draft-ietf-sip-refer-02.txt
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

> From: Daniel G. Petrie [mailto:dpetrie@pingtel.com]
<snip>
> Where is the Content-Type: message/sipfrag defined?  There is 
> no reference in
> section 5 on IANA.  The example messages show a syntax with a Version
> parameter.  This parameter is not defined.  I assume this 
> correlates to the SIP
> version number.

draft-sparks-sip-mimetypes-01.txt

<snip>

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Mon Dec 10 22:54:50 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id WAA19664
	for <sip-archive@odin.ietf.org>; Mon, 10 Dec 2001 22:54:45 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id WAA26098
	for sip-archive@odin.ietf.org; Mon, 10 Dec 2001 22:54:48 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id WAA25614;
	Mon, 10 Dec 2001 22:39:10 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id WAA25583
	for <sip@optimus.ietf.org>; Mon, 10 Dec 2001 22:39:08 -0500 (EST)
Received: from penguin-ext.wise.edt.ericsson.se (penguin-ext.wise.edt.ericsson.se [194.237.142.110])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id WAA19429
	for <sip@ietf.org>; Mon, 10 Dec 2001 22:39:03 -0500 (EST)
Received: from madrid.ericsson.se (madrid.es.eu.ericsson.se [164.48.87.150])
	by penguin.wise.edt.ericsson.se (8.11.0/8.11.0/WIREfire-1.3) with SMTP id fBB3d4K11815;
	Tue, 11 Dec 2001 04:39:04 +0100 (MET)
Received: from lmf.ericsson.se by madrid.ericsson.se (SMI-8.6/SMI-SVR4)
	id EAA14196; Tue, 11 Dec 2001 04:38:53 +0100
Message-ID: <3C15802E.E4B45185@lmf.ericsson.se>
Date: Tue, 11 Dec 2001 05:40:30 +0200
From: Christer Holmberg <christer.holmberg@lmf.ericsson.se>
X-Mailer: Mozilla 4.61 [en] (WinNT; I)
X-Accept-Language: en
MIME-Version: 1.0
To: "Chiou, Mark" <MChiou@santera.com>
CC: John.Hearty@Level3.com, jdrosen@dynamicsoft.com, sip@ietf.org
Subject: Re: [Sip] Open Issue #207: Handling of session failures
References: <CD110021698980419241042CF576B8F289FE10@EXCALIBUR.santera.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit


Hi,

I do agree that we must be able to handle media failures. And, yes, no
matter what we receive from MGCP/H.248/whatever it WILL most likely
trigger a SIP transaction. 

My point was that in many cases we may not always be able to send a
re-INVITE. It depends very much on the type of UA, the type of media
bearer, and if the nodes are separated also the protocol used between
them.

My proposal is that we write that the node MUST take action(s) to
prevent the signaling- and media handler to have different "session
state". If possible it MAY send a re-INVITE trying to re-establish the
session, otherwise send a BYE to terminate it.

Regards,

Christer Holmberg
Ericsson Finland


"Chiou, Mark" wrote:
> 
> Hi,
> 
> Since SIP is a SIGNALLING protocol, It MUST have a well-defined error
> handling procedure regarding media failure. Yes, I agree each media has
> it own way to handle the media failure, but SIP shall specify a generic
> behavior regarding the media failure and have a proper status code to
> respond to the far end. SIP shall define the action to take when
> receiving the status code.
> 
> Regards,
> 
> Mark Chiou
> 
> -----Original Message-----
> From: Christer Holmberg [mailto:christer.holmberg@lmf.ericsson.se]
> Sent: Sunday, December 09, 2001 6:22 PM
> To: John.Hearty@Level3.com
> Cc: jdrosen@dynamicsoft.com; sip@ietf.org
> Subject: Re: [Sip] Open Issue #207: Handling of session failures
> 
> Hi,
> 
> If the same node is handling both media and signalling I guess the
> proposal is ok.
> 
> However, if the nodes are separated, and eg MGCP/H.248 is used between
> them, those protocols may define other actions to be taken when media
> failures occur. For example, MGCP allows the media handler to RELEASE
> the call if the media "connection" is lost, so to be able to
> re-establish the session a whole NEW session must be setup. And, if the
> node is a gateway it may not be able to set up a new session in the
> first place, since it's an end-user of either "side" of the gateway
> which set up the session.
> 
> So, since SIP is a SIGNALLING protocol I don't think there shall be any
> SHOULDS or MUSTS on how to handling failures on the media level. Of
> course, it may be mentioned as an example on a case where a re-INVITE
> may be used.
> 
> Regards,
> 
> Christer Holmberg
> Ericsson Finland
> 
> John.Hearty@Level3.com wrote:
> >
> > > Issue:
> > >
> > > The spec is silent on what a UA should do if failures in the
> > > media sessions
> > > occur (ICMP, timeouts, or media specific errors). I think
> > > something should
> > > be
> > > said. draft-rosenberg-sip-reconstitute-00.txt talks a lot about this
> > > problem;
> > > nearly all of that is local implementation logic, but one piece that
> > > requires a
> > > normative change to the spec - if you detect a failure in
> > > media stream, send
> > > a
> > > re-invite to see if that repairs it.
> > >
> > > The re-invite will help if the failure is due to a end system
> > > failure. In
> > > that case, the re-INVITE will reconstitute the dialog and
> > > session state at
> > > an alternate, which is helpful and useful in many cases.
> >
> > Assuming that end system is capable of reconstituting state from a
> > re-Invite.
> > That said, I agree with this proposal.
> >
> > John Hearty
> > Level3
> >
> >  It
> > > won't do much at
> > > all if there was a network failure.
> > >
> > > If the re-INVITE fails, or nothing changes in the media
> > > stream, you SHOULD
> > > then send a BYE.
> > >
> > > I'd like to incoroporate this piece of logic into bis.
> > >
> > > Proposal:
> > >
> > > UAC SHOULD re-INVITE with same SDP when it detects failures
> > > in the media
> > > session.
> > > If re-INVITE doesn't help, SHOULD send a BYE
> > >
> > > -Jonathan R.
> > >
> > > ---
> > > Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
> > > Chief Scientist                             First Floor
> > > dynamicsoft                                 East Hanover, NJ 07936
> > > jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
> > > http://www.jdrosen.net                      PHONE: (973) 952-5000
> > > http://www.dynamicsoft.com
> > >
> > >
> > > _______________________________________________
> > > Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> > > This list is for NEW development of the core SIP Protocol
> > > Use sip-implementors@cs.columbia.edu for questions on current sip
> > > Use sipping@ietf.org for new developments on the application of sip
> > >
> >
> > _______________________________________________
> > Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> > This list is for NEW development of the core SIP Protocol
> > Use sip-implementors@cs.columbia.edu for questions on current sip
> > Use sipping@ietf.org for new developments on the application of sip
> 
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Tue Dec 11 02:55:52 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id CAA11304
	for <sip-archive@odin.ietf.org>; Tue, 11 Dec 2001 02:55:52 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id CAA11117
	for sip-archive@odin.ietf.org; Tue, 11 Dec 2001 02:55:54 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id CAA10287;
	Tue, 11 Dec 2001 02:24:20 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id CAA10189
	for <sip@optimus.ietf.org>; Tue, 11 Dec 2001 02:24:14 -0500 (EST)
Received: from zrc2s0jx.nortelnetworks.com (zrc2s0jx.nortelnetworks.com [47.103.122.112])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id CAA09138
	for <sip@ietf.org>; Tue, 11 Dec 2001 02:24:12 -0500 (EST)
Received: from zrchb200.us.nortel.com (zrchb200.us.nortel.com [47.103.121.45])
	by zrc2s0jx.nortelnetworks.com (Switch-2.2.0/Switch-2.2.0) with ESMTP id fBB7NVB21296;
	Tue, 11 Dec 2001 01:23:31 -0600 (CST)
Received: by zrchb200.us.nortel.com with Internet Mail Service (5.5.2653.19)
	id <YVB5QJ3T>; Tue, 11 Dec 2001 01:22:19 -0600
Message-ID: <933FADF5E673D411B8A30002A5608A0E011D816A@zrc2c012.us.nortel.com>
From: "Brian Stucker" <bstucker@nortelnetworks.com>
To: "'Fairlie-Cuninghame, Robert'" <rfairlie@nuera.com>,
        "'Jonathan Rosenberg'" <jdrosen@dynamicsoft.com>,
        "'sip@ietf.org'"
	 <sip@ietf.org>
Cc: "'simple@mailman.dynamicsoft.com'" <simple@mailman.dynamicsoft.com>
Subject: RE: [Sip] FW: [Simple] Alignment of sip-events and watcherinfo
Date: Tue, 11 Dec 2001 01:22:34 -0600
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C18214.9AAD4CD0"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

This message is in MIME format. Since your mail reader does not understand
this format, some or all of this message may not be legible.

------_=_NextPart_001_01C18214.9AAD4CD0
Content-Type: text/plain;
	charset="iso-8859-1"



> -----Original Message-----
> From: Fairlie-Cuninghame, Robert [mailto:rfairlie@nuera.com]
> Sent: Monday, December 10, 2001 6:48 PM
> To: 'Jonathan Rosenberg'; 'sip@ietf.org'
> Cc: 'simple@mailman.dynamicsoft.com'
> Subject: RE: [Sip] FW: [Simple] Alignment of sip-events and 
> watcherinfo
> 
> 
> Hi Jonathan,
> 
> > 
> > (resend; first attempt seemed to have been garbled)
> > 
> > 
> > I'm cc'ing SIMPLE since this is a joint issue that affects both the
> > watcherinfo work and sip-events. Also, sip-events is a sip 
> > work item, not
> > sipping, so I am changing the list to sip.
> >  
> 
> Re-adding SIMPLE after resend.
> 
> > > I would like to suggest the watherinfo reason codes are 
> > > expanded a little.
> > > For instance, the watcherinfo assumes that the pending states 
> > > is waiting for
> > > authorization. It could however be pending while waiting for 
> > > the subscribed
> > > object to become active (note: I am not referring to the 
> > > subscribed Event
> > > package here). This sort of behavior may be typical/useful 
> > > when you are
> > > trying to subscribe to an event that has not started yet (and 
> > > yet you desire
> > > to have the subscription in place _before_ the event begins). 
> > 
> > OK, but in this case, the subscription itself is not pending, 
> > its the state
> > of the object that is effectively "TBD". This should be 
> > reflected in the
> > presence document delivered in the first NOTIFY, not in the 
> > state of the
> > subscription, IMHO.
> 
> I disagree. I think this is very much the concern of 
> subscription and not
> the Event package. 
> 
> Example: If I create a subscription that is associated with a 
> televised
> concert that occurs at some time in the future. When the 
> concert finishes,
> obviously the subscription should also terminate, the reason for the
> termination is that the subscribed object has terminated. 
> This is not an
> Event Package related reason. Likewise, every Event Package (e.g., my
> "Excessive Decibels" Monitoring Event Package) should not 
> have to deal with
> understanding/reporting when the concert is valid (and why 
> the subscription
> was terminated) - the package is only concerned with 
> reporting when the
> audio component of the associated object exceeds a certain threshold.
> <contrived but it will do>
> 
> This argument applies equally to the pending state. I want to create a
> subscription to this concert before it starts so I don't miss 
> the beginning.
> So the subscription is not active until the concert actually 
> starts - once
> again my Decibel Monitoring Event Package has no concern for 
> this. It is a
> function of the subscription itself to know when the object 
> (and hence the
> subscription) is pending/active/terminated.
> 
> Thus both the terminated & pending reason causes should be
> Subscription-Expire reasons and not solely contained in the 
> Event package
> bodies themselves. 

I would have to disagree (is there any other reason to post to this thread
=). 

I think there's a co-mingling of terms that is going on here, either that or
I've totally misunderstood what you were trying to get across. 

A subscription being pending or active, at least to me when I brought up my
proposal to split out the subscription state from the message body about a
month back, dealt completely with the actual state of the subscription, not
the resource it is watching.

In your scenario, even though the resource is pending (the concert hasn't
started yet), the subscription to it is NOT pending. It's active. You will
receive a notification when that concert begins (should that be the behavoir
that the subscription was setup to handle). If the subscription were
pending, meaning it had not been authorized, you would NOT get a
notification that the concert started necessarily. Likewise, there's no
reason that the subscription needs to be terminated explicitly either. The
server processing your subscription could simply send you a final NOTIFY
(the concert ended) and then dump the subscription in the bit bucket. It's
not very polite, but it's allowed in the draft.

Therefore, the two are distinct. This is what I was trying to avoid by
suggesting that using an "Illegal" message body in the NOTIFY doesn't work
well, and thus, we need a more explicit header to do the job to keep
everything more understandible.

A subscription can be pending to an active resource, or pending to a pending
resource. The two are distinct. They are separate finite state machines, and
thus should be processed separately. The state that the subscription is in
has nothing at all to do with the state of the resource on a basic level.
The resource may cause the subscription to be handled differently, for sure,
but at a generic sip-events level, there is no coupling in my mind.

Cheers,

Brian

> 
> > > I also think
> > > the rejection/termination reasons could be expanded a little more.
> > 
> > Suggestions?
> > 
> 
> I made a couple in my last email (some of which you have 
> already covered):
> 
> 	- Terminated/rejected because authorization failed
> 	- Terminated because subscribed object terminated
> 	- Terminated because subscriber requested termination.
> 	- Expired. Subscriber did not refresh subscription.
> 	- Terminated at request of notifier.
> 
> Regards,
> 
> Robert.
> 
> > > 
> > > I can't see much use in including the 
> > > event field since
> > > (presumably) the watcher will know what event triggered the 
> > > NOTIFY, and if
> > > they can't, they can use watcherinfo to get it.
> > 
> > No, these are not events of the presentity, they are events of the
> > subscription. These events correspond quite closely to the "reason"
> > parameters Adam has currently specified. In fact, for the 
> > rejecttion events,
> > here is the mapping:
> > 
> > sip-events      watcherinfo
> > ----------      -----------
> > migration  <->   deactivated
> > maint      <->    ?
> > refused    <->   rejected
> > timeout    <->   expired
> >  ?         <->   timeout
> > 
> > Clearly, these should be aligned, and should be present in both the
> > SUbscription-Expires and the watcherinfo format. 
> > 
> > Its not clear to me what the semantics of maint are; should 
> > the client retry
> > after some period? Presuming we can define it conciesely, we 
> > should add it
> > to the watcherinfo package. 
> > 
> > So, here would be my proposal for the unified set:
> > 
> > deactivated: subscription is terminated, but client SHOULD 
> > retry immediately
> > with a new subscription. This handles migration plus other cases
> > potentially.
> > 
> > probation: subscription is terminated; but client SHOULD 
> > retry at some later
> > time (we could include a Retry-After header in the case of 
> > presence in the
> > Subscription-Expires header)
> > 
> > rejected: subscription terminated due to change in 
> > authorization policy.
> > Retrying will not help.
> > 
> > timeout: subscription terminated because it was not refreshed. 
> > 
> > giveup: could not obtain authorization in a timely fashion, 
> and so the
> > pending subscription is being terminated. The client can 
> > retry and will
> > likely get put back into pending state.
> > 
> > THanks,
> > Jonathan R.
> > 
>  
> _______________________________________________
> simple mailing list
> simple@mailman.dynamicsoft.com
> http://mailman.dynamicsoft.com/mailman/listinfo/simple
> 

------_=_NextPart_001_01C18214.9AAD4CD0
Content-Type: text/html;
	charset="iso-8859-1"

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
<META NAME="Generator" CONTENT="MS Exchange Server version 5.5.2654.89">
<TITLE>RE: [Sip] FW: [Simple] Alignment of sip-events and watcherinfo</TITLE>
</HEAD>
<BODY>
<BR>
<BR>

<P><FONT SIZE=2>&gt; -----Original Message-----</FONT>
<BR><FONT SIZE=2>&gt; From: Fairlie-Cuninghame, Robert [<A HREF="mailto:rfairlie@nuera.com">mailto:rfairlie@nuera.com</A>]</FONT>
<BR><FONT SIZE=2>&gt; Sent: Monday, December 10, 2001 6:48 PM</FONT>
<BR><FONT SIZE=2>&gt; To: 'Jonathan Rosenberg'; 'sip@ietf.org'</FONT>
<BR><FONT SIZE=2>&gt; Cc: 'simple@mailman.dynamicsoft.com'</FONT>
<BR><FONT SIZE=2>&gt; Subject: RE: [Sip] FW: [Simple] Alignment of sip-events and </FONT>
<BR><FONT SIZE=2>&gt; watcherinfo</FONT>
<BR><FONT SIZE=2>&gt; </FONT>
<BR><FONT SIZE=2>&gt; </FONT>
<BR><FONT SIZE=2>&gt; Hi Jonathan,</FONT>
<BR><FONT SIZE=2>&gt; </FONT>
<BR><FONT SIZE=2>&gt; &gt; </FONT>
<BR><FONT SIZE=2>&gt; &gt; (resend; first attempt seemed to have been garbled)</FONT>
<BR><FONT SIZE=2>&gt; &gt; </FONT>
<BR><FONT SIZE=2>&gt; &gt; </FONT>
<BR><FONT SIZE=2>&gt; &gt; I'm cc'ing SIMPLE since this is a joint issue that affects both the</FONT>
<BR><FONT SIZE=2>&gt; &gt; watcherinfo work and sip-events. Also, sip-events is a sip </FONT>
<BR><FONT SIZE=2>&gt; &gt; work item, not</FONT>
<BR><FONT SIZE=2>&gt; &gt; sipping, so I am changing the list to sip.</FONT>
<BR><FONT SIZE=2>&gt; &gt;&nbsp; </FONT>
<BR><FONT SIZE=2>&gt; </FONT>
<BR><FONT SIZE=2>&gt; Re-adding SIMPLE after resend.</FONT>
<BR><FONT SIZE=2>&gt; </FONT>
<BR><FONT SIZE=2>&gt; &gt; &gt; I would like to suggest the watherinfo reason codes are </FONT>
<BR><FONT SIZE=2>&gt; &gt; &gt; expanded a little.</FONT>
<BR><FONT SIZE=2>&gt; &gt; &gt; For instance, the watcherinfo assumes that the pending states </FONT>
<BR><FONT SIZE=2>&gt; &gt; &gt; is waiting for</FONT>
<BR><FONT SIZE=2>&gt; &gt; &gt; authorization. It could however be pending while waiting for </FONT>
<BR><FONT SIZE=2>&gt; &gt; &gt; the subscribed</FONT>
<BR><FONT SIZE=2>&gt; &gt; &gt; object to become active (note: I am not referring to the </FONT>
<BR><FONT SIZE=2>&gt; &gt; &gt; subscribed Event</FONT>
<BR><FONT SIZE=2>&gt; &gt; &gt; package here). This sort of behavior may be typical/useful </FONT>
<BR><FONT SIZE=2>&gt; &gt; &gt; when you are</FONT>
<BR><FONT SIZE=2>&gt; &gt; &gt; trying to subscribe to an event that has not started yet (and </FONT>
<BR><FONT SIZE=2>&gt; &gt; &gt; yet you desire</FONT>
<BR><FONT SIZE=2>&gt; &gt; &gt; to have the subscription in place _before_ the event begins). </FONT>
<BR><FONT SIZE=2>&gt; &gt; </FONT>
<BR><FONT SIZE=2>&gt; &gt; OK, but in this case, the subscription itself is not pending, </FONT>
<BR><FONT SIZE=2>&gt; &gt; its the state</FONT>
<BR><FONT SIZE=2>&gt; &gt; of the object that is effectively &quot;TBD&quot;. This should be </FONT>
<BR><FONT SIZE=2>&gt; &gt; reflected in the</FONT>
<BR><FONT SIZE=2>&gt; &gt; presence document delivered in the first NOTIFY, not in the </FONT>
<BR><FONT SIZE=2>&gt; &gt; state of the</FONT>
<BR><FONT SIZE=2>&gt; &gt; subscription, IMHO.</FONT>
<BR><FONT SIZE=2>&gt; </FONT>
<BR><FONT SIZE=2>&gt; I disagree. I think this is very much the concern of </FONT>
<BR><FONT SIZE=2>&gt; subscription and not</FONT>
<BR><FONT SIZE=2>&gt; the Event package. </FONT>
<BR><FONT SIZE=2>&gt; </FONT>
<BR><FONT SIZE=2>&gt; Example: If I create a subscription that is associated with a </FONT>
<BR><FONT SIZE=2>&gt; televised</FONT>
<BR><FONT SIZE=2>&gt; concert that occurs at some time in the future. When the </FONT>
<BR><FONT SIZE=2>&gt; concert finishes,</FONT>
<BR><FONT SIZE=2>&gt; obviously the subscription should also terminate, the reason for the</FONT>
<BR><FONT SIZE=2>&gt; termination is that the subscribed object has terminated. </FONT>
<BR><FONT SIZE=2>&gt; This is not an</FONT>
<BR><FONT SIZE=2>&gt; Event Package related reason. Likewise, every Event Package (e.g., my</FONT>
<BR><FONT SIZE=2>&gt; &quot;Excessive Decibels&quot; Monitoring Event Package) should not </FONT>
<BR><FONT SIZE=2>&gt; have to deal with</FONT>
<BR><FONT SIZE=2>&gt; understanding/reporting when the concert is valid (and why </FONT>
<BR><FONT SIZE=2>&gt; the subscription</FONT>
<BR><FONT SIZE=2>&gt; was terminated) - the package is only concerned with </FONT>
<BR><FONT SIZE=2>&gt; reporting when the</FONT>
<BR><FONT SIZE=2>&gt; audio component of the associated object exceeds a certain threshold.</FONT>
<BR><FONT SIZE=2>&gt; &lt;contrived but it will do&gt;</FONT>
<BR><FONT SIZE=2>&gt; </FONT>
<BR><FONT SIZE=2>&gt; This argument applies equally to the pending state. I want to create a</FONT>
<BR><FONT SIZE=2>&gt; subscription to this concert before it starts so I don't miss </FONT>
<BR><FONT SIZE=2>&gt; the beginning.</FONT>
<BR><FONT SIZE=2>&gt; So the subscription is not active until the concert actually </FONT>
<BR><FONT SIZE=2>&gt; starts - once</FONT>
<BR><FONT SIZE=2>&gt; again my Decibel Monitoring Event Package has no concern for </FONT>
<BR><FONT SIZE=2>&gt; this. It is a</FONT>
<BR><FONT SIZE=2>&gt; function of the subscription itself to know when the object </FONT>
<BR><FONT SIZE=2>&gt; (and hence the</FONT>
<BR><FONT SIZE=2>&gt; subscription) is pending/active/terminated.</FONT>
<BR><FONT SIZE=2>&gt; </FONT>
<BR><FONT SIZE=2>&gt; Thus both the terminated &amp; pending reason causes should be</FONT>
<BR><FONT SIZE=2>&gt; Subscription-Expire reasons and not solely contained in the </FONT>
<BR><FONT SIZE=2>&gt; Event package</FONT>
<BR><FONT SIZE=2>&gt; bodies themselves. </FONT>
</P>

<P><FONT SIZE=2>I would have to disagree (is there any other reason to post to this thread =). </FONT>
</P>

<P><FONT SIZE=2>I think there's a co-mingling of terms that is going on here, either that or I've totally misunderstood what you were trying to get across. </FONT></P>

<P><FONT SIZE=2>A subscription being pending or active, at least to me when I brought up my proposal to split out the subscription state from the message body about a month back, dealt completely with the actual state of the subscription, not the resource it is watching.</FONT></P>

<P><FONT SIZE=2>In your scenario, even though the resource is pending (the concert hasn't started yet), the subscription to it is NOT pending. It's active. You will receive a notification when that concert begins (should that be the behavoir that the subscription was setup to handle). If the subscription were pending, meaning it had not been authorized, you would NOT get a notification that the concert started necessarily. Likewise, there's no reason that the subscription needs to be terminated explicitly either. The server processing your subscription could simply send you a final NOTIFY (the concert ended) and then dump the subscription in the bit bucket. It's not very polite, but it's allowed in the draft.</FONT></P>

<P><FONT SIZE=2>Therefore, the two are distinct. This is what I was trying to avoid by suggesting that using an &quot;Illegal&quot; message body in the NOTIFY doesn't work well, and thus, we need a more explicit header to do the job to keep everything more understandible.</FONT></P>

<P><FONT SIZE=2>A subscription can be pending to an active resource, or pending to a pending resource. The two are distinct. They are separate finite state machines, and thus should be processed separately. The state that the subscription is in has nothing at all to do with the state of the resource on a basic level. The resource may cause the subscription to be handled differently, for sure, but at a generic sip-events level, there is no coupling in my mind.</FONT></P>

<P><FONT SIZE=2>Cheers,</FONT>
</P>

<P><FONT SIZE=2>Brian</FONT>
</P>

<P><FONT SIZE=2>&gt; </FONT>
<BR><FONT SIZE=2>&gt; &gt; &gt; I also think</FONT>
<BR><FONT SIZE=2>&gt; &gt; &gt; the rejection/termination reasons could be expanded a little more.</FONT>
<BR><FONT SIZE=2>&gt; &gt; </FONT>
<BR><FONT SIZE=2>&gt; &gt; Suggestions?</FONT>
<BR><FONT SIZE=2>&gt; &gt; </FONT>
<BR><FONT SIZE=2>&gt; </FONT>
<BR><FONT SIZE=2>&gt; I made a couple in my last email (some of which you have </FONT>
<BR><FONT SIZE=2>&gt; already covered):</FONT>
<BR><FONT SIZE=2>&gt; </FONT>
<BR><FONT SIZE=2>&gt; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; - Terminated/rejected because authorization failed</FONT>
<BR><FONT SIZE=2>&gt; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; - Terminated because subscribed object terminated</FONT>
<BR><FONT SIZE=2>&gt; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; - Terminated because subscriber requested termination.</FONT>
<BR><FONT SIZE=2>&gt; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; - Expired. Subscriber did not refresh subscription.</FONT>
<BR><FONT SIZE=2>&gt; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; - Terminated at request of notifier.</FONT>
<BR><FONT SIZE=2>&gt; </FONT>
<BR><FONT SIZE=2>&gt; Regards,</FONT>
<BR><FONT SIZE=2>&gt; </FONT>
<BR><FONT SIZE=2>&gt; Robert.</FONT>
<BR><FONT SIZE=2>&gt; </FONT>
<BR><FONT SIZE=2>&gt; &gt; &gt; </FONT>
<BR><FONT SIZE=2>&gt; &gt; &gt; I can't see much use in including the </FONT>
<BR><FONT SIZE=2>&gt; &gt; &gt; event field since</FONT>
<BR><FONT SIZE=2>&gt; &gt; &gt; (presumably) the watcher will know what event triggered the </FONT>
<BR><FONT SIZE=2>&gt; &gt; &gt; NOTIFY, and if</FONT>
<BR><FONT SIZE=2>&gt; &gt; &gt; they can't, they can use watcherinfo to get it.</FONT>
<BR><FONT SIZE=2>&gt; &gt; </FONT>
<BR><FONT SIZE=2>&gt; &gt; No, these are not events of the presentity, they are events of the</FONT>
<BR><FONT SIZE=2>&gt; &gt; subscription. These events correspond quite closely to the &quot;reason&quot;</FONT>
<BR><FONT SIZE=2>&gt; &gt; parameters Adam has currently specified. In fact, for the </FONT>
<BR><FONT SIZE=2>&gt; &gt; rejecttion events,</FONT>
<BR><FONT SIZE=2>&gt; &gt; here is the mapping:</FONT>
<BR><FONT SIZE=2>&gt; &gt; </FONT>
<BR><FONT SIZE=2>&gt; &gt; sip-events&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; watcherinfo</FONT>
<BR><FONT SIZE=2>&gt; &gt; ----------&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -----------</FONT>
<BR><FONT SIZE=2>&gt; &gt; migration&nbsp; &lt;-&gt;&nbsp;&nbsp; deactivated</FONT>
<BR><FONT SIZE=2>&gt; &gt; maint&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;-&gt;&nbsp;&nbsp;&nbsp; ?</FONT>
<BR><FONT SIZE=2>&gt; &gt; refused&nbsp;&nbsp;&nbsp; &lt;-&gt;&nbsp;&nbsp; rejected</FONT>
<BR><FONT SIZE=2>&gt; &gt; timeout&nbsp;&nbsp;&nbsp; &lt;-&gt;&nbsp;&nbsp; expired</FONT>
<BR><FONT SIZE=2>&gt; &gt;&nbsp; ?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;-&gt;&nbsp;&nbsp; timeout</FONT>
<BR><FONT SIZE=2>&gt; &gt; </FONT>
<BR><FONT SIZE=2>&gt; &gt; Clearly, these should be aligned, and should be present in both the</FONT>
<BR><FONT SIZE=2>&gt; &gt; SUbscription-Expires and the watcherinfo format. </FONT>
<BR><FONT SIZE=2>&gt; &gt; </FONT>
<BR><FONT SIZE=2>&gt; &gt; Its not clear to me what the semantics of maint are; should </FONT>
<BR><FONT SIZE=2>&gt; &gt; the client retry</FONT>
<BR><FONT SIZE=2>&gt; &gt; after some period? Presuming we can define it conciesely, we </FONT>
<BR><FONT SIZE=2>&gt; &gt; should add it</FONT>
<BR><FONT SIZE=2>&gt; &gt; to the watcherinfo package. </FONT>
<BR><FONT SIZE=2>&gt; &gt; </FONT>
<BR><FONT SIZE=2>&gt; &gt; So, here would be my proposal for the unified set:</FONT>
<BR><FONT SIZE=2>&gt; &gt; </FONT>
<BR><FONT SIZE=2>&gt; &gt; deactivated: subscription is terminated, but client SHOULD </FONT>
<BR><FONT SIZE=2>&gt; &gt; retry immediately</FONT>
<BR><FONT SIZE=2>&gt; &gt; with a new subscription. This handles migration plus other cases</FONT>
<BR><FONT SIZE=2>&gt; &gt; potentially.</FONT>
<BR><FONT SIZE=2>&gt; &gt; </FONT>
<BR><FONT SIZE=2>&gt; &gt; probation: subscription is terminated; but client SHOULD </FONT>
<BR><FONT SIZE=2>&gt; &gt; retry at some later</FONT>
<BR><FONT SIZE=2>&gt; &gt; time (we could include a Retry-After header in the case of </FONT>
<BR><FONT SIZE=2>&gt; &gt; presence in the</FONT>
<BR><FONT SIZE=2>&gt; &gt; Subscription-Expires header)</FONT>
<BR><FONT SIZE=2>&gt; &gt; </FONT>
<BR><FONT SIZE=2>&gt; &gt; rejected: subscription terminated due to change in </FONT>
<BR><FONT SIZE=2>&gt; &gt; authorization policy.</FONT>
<BR><FONT SIZE=2>&gt; &gt; Retrying will not help.</FONT>
<BR><FONT SIZE=2>&gt; &gt; </FONT>
<BR><FONT SIZE=2>&gt; &gt; timeout: subscription terminated because it was not refreshed. </FONT>
<BR><FONT SIZE=2>&gt; &gt; </FONT>
<BR><FONT SIZE=2>&gt; &gt; giveup: could not obtain authorization in a timely fashion, </FONT>
<BR><FONT SIZE=2>&gt; and so the</FONT>
<BR><FONT SIZE=2>&gt; &gt; pending subscription is being terminated. The client can </FONT>
<BR><FONT SIZE=2>&gt; &gt; retry and will</FONT>
<BR><FONT SIZE=2>&gt; &gt; likely get put back into pending state.</FONT>
<BR><FONT SIZE=2>&gt; &gt; </FONT>
<BR><FONT SIZE=2>&gt; &gt; THanks,</FONT>
<BR><FONT SIZE=2>&gt; &gt; Jonathan R.</FONT>
<BR><FONT SIZE=2>&gt; &gt; </FONT>
<BR><FONT SIZE=2>&gt;&nbsp; </FONT>
<BR><FONT SIZE=2>&gt; _______________________________________________</FONT>
<BR><FONT SIZE=2>&gt; simple mailing list</FONT>
<BR><FONT SIZE=2>&gt; simple@mailman.dynamicsoft.com</FONT>
<BR><FONT SIZE=2>&gt; <A HREF="http://mailman.dynamicsoft.com/mailman/listinfo/simple" TARGET="_blank">http://mailman.dynamicsoft.com/mailman/listinfo/simple</A></FONT>
<BR><FONT SIZE=2>&gt; </FONT>
</P>

</BODY>
</HTML>
------_=_NextPart_001_01C18214.9AAD4CD0--

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Tue Dec 11 04:50:14 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id EAA15481
	for <sip-archive@odin.ietf.org>; Tue, 11 Dec 2001 04:50:14 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id EAA15590
	for sip-archive@odin.ietf.org; Tue, 11 Dec 2001 04:50:17 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id EAA14383;
	Tue, 11 Dec 2001 04:03:05 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id EAA14345
	for <sip@optimus.ietf.org>; Tue, 11 Dec 2001 04:03:02 -0500 (EST)
Received: from smtp2.gtsgroup.com (smtp2.gtsgroup.com [195.158.230.80])
	by ietf.org (8.9.1a/8.9.1a) with SMTP id EAA14715;
	Tue, 11 Dec 2001 04:02:58 -0500 (EST)
Received: from 207.77.231.73 by smtp2.gtsgroup.com (InterScan E-Mail VirusWall NT); Tue, 11 Dec 2001 09:02:31 -0000
Received: by brubhdpnt01.gtsgroup.com with Internet Mail Service (5.5.2653.19)
	id <XVKLR6BY>; Tue, 11 Dec 2001 10:02:30 +0100
Message-ID: <D52BF6463BA3D311BFA700508B63C5AA05109F98@brumsgpnt01.gtsgroup.com>
From: "Agboh, Charles" <Charles.Agboh@ebone.com>
To: "'sip@ietf.org'" <sip@ietf.org>
Cc: "'sipping@ietf.org'" <sipping@ietf.org>
Date: Tue, 11 Dec 2001 10:02:30 +0100
Importance: high
X-Priority: 1
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Subject: [Sip] UPT
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

http://www.itu.int/newsroom/press_releases/2001/31.html

Impact's tel URL and SIP URL.

-Charles
----------------------------------------------------------
Charles Agboh - Senior IP Telephony Engineer
E b o n e
Ebone Network Services (Belgium) BVBA
Terhulpsesteenweg 6A, 1560 Hoeilaart
Direct line: +32 (0)2 658 4243
Fax:          +32 (0)2 658 51 18
email: charles.agboh@ebone.com











_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Tue Dec 11 11:09:12 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id LAA19605
	for <sip-archive@odin.ietf.org>; Tue, 11 Dec 2001 11:09:11 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id LAA26542
	for sip-archive@odin.ietf.org; Tue, 11 Dec 2001 11:09:14 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id KAA25431;
	Tue, 11 Dec 2001 10:49:10 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id KAA25400
	for <sip@optimus.ietf.org>; Tue, 11 Dec 2001 10:49:07 -0500 (EST)
Received: from mail2.intervoice-brite.com (mail2.intervoice-brite.com [204.62.8.15])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id KAA19186
	for <sip@ietf.org>; Tue, 11 Dec 2001 10:49:03 -0500 (EST)
Received: from DALNTMS02.ivbi.com (dalntms02.ivbi.com [151.214.90.44])
	by mail2.intervoice-brite.com (Build 101 8.9.3/NT-8.9.3) with ESMTP id JAA01406
	for <sip@ietf.org>; Tue, 11 Dec 2001 09:50:43 -0600
Received: from 172.16.16.64 (unverified) by DALNTMS02.ivbi.com
 (Content Technologies SMTPRS 4.2.5) with SMTP id <T57c1a9afde97d65a2c3e8@DALNTMS02.ivbi.com> for <sip@ietf.org>;
 Tue, 11 Dec 2001 09:34:38 -0600
Received: from INTERVOICE-Message_Server by 172.16.16.64
	with Novell_GroupWise; Tue, 11 Dec 2001 09:48:36 -0600
Message-Id: <sc15d674.065@172.16.16.64>
X-Mailer: Novell GroupWise Internet Agent 5.5.3.1
Date: Tue, 11 Dec 2001 09:48:22 -0600
From: "Kiranmai Pavoori" <kiranmai.pavoori@intervoice-brite.com>
To: <jdrosen@dynamicsoft.com>, <vkg@lucent.com>
Cc: <sip@ietf.org>
Subject: Re: [Sip] Open Issue #178: Deprecate absolute times
	absolutely: SPEAK UP IFYOU USE THEM IN YOUR PRODUCT!!!!!!!!!!
Mime-Version: 1.0
Content-Type: text/plain; charset="us-ascii"
Content-Disposition: inline
Content-Transfer-Encoding: 8bit
X-MIME-Autoconverted: from quoted-printable to 8bit by optimus.ietf.org id KAA25401
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 8bit

Proposal A resolves lots of synchronization problems seen in my work..



>>> Vijay Gurbani <vkg@lucent.com> 12/10 12:44 PM >>>
Jonathan Rosenberg wrote:
> 
> Issue:
> 
> The Expires header and expires param in the Contact header allow for
> absolute times expressed in GMT. The problem with using absolute times in
> the messages is that they require clock synchronization between the two
> elements.
[...]
> PROPOSAL A:
>   * Remove absolute times entirely from the specification
> 
> PROPOSAL B:
>   * Elements MUST NOT send messages with absolute times in Expires or
> ;expires, but they MUST be prepared to receive requests with absolute 
> times in those headers, for backwards compatibility
> 
> If we can do A, we should. So, speak up NOW if you use absolute times!!!

Proposal A is fine.  Our registrar sends out delta time in responses to
Register requests, for instance.

Thanks,

- vijay
-- 
Vijay K. Gurbani  vkg@{lucent.com,research.bell-labs.com,acm.org} 
Internet Software and eServices Group 
Lucent Technologies/Bell Labs Innovations, 2000 Lucent Lane, Rm 6G-440
Naperville, Illinois 60566     Voice: +1 630 224 0216   Fax: +1 630 713 0184

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip 
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Tue Dec 11 12:28:38 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA21167
	for <sip-archive@odin.ietf.org>; Tue, 11 Dec 2001 12:28:33 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id MAA01003
	for sip-archive@odin.ietf.org; Tue, 11 Dec 2001 12:28:37 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA00374;
	Tue, 11 Dec 2001 12:13:18 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA00332
	for <sip@optimus.ietf.org>; Tue, 11 Dec 2001 12:13:16 -0500 (EST)
Received: from broadsof.temp.veriohosting.com (broadsof.temp.veriohosting.com [161.58.239.68])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA20885
	for <sip@ietf.org>; Tue, 11 Dec 2001 12:13:11 -0500 (EST)
Received: from tate ([64.243.180.244]) by broadsof.temp.veriohosting.com (8.11.6) id fBBHD3x20658; Tue, 11 Dec 2001 12:13:03 -0500 (EST)
Reply-To: <brett@broadsoft.com>
From: "Brett Tate" <brett@broadsoft.com>
To: <sip@ietf.org>
Subject: RE: [Sip] Open Issue #139: re-INVITE Glare
Date: Tue, 11 Dec 2001 12:14:54 -0500
Message-ID: <000601c18267$5adcd9b0$2b01a8c0@broadsoft.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook CWS, Build 9.0.2416 (9.0.2911.0)
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4522.1200
In-Reply-To: <17052388D394D411803900508BDFFAF601B3707C@n0214idc1.oss.level3.com>
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

> I like the 491 response code. I also prefer 
> the idea of using the owner of the Call-ID 
> as Brett proposed below. I would suggest 
> taking it a little further. 
>
> Lets assume that A is the owner of the 
> Call-ID and B is the other party. 
> If A receives the re-invite from B it 
> should send a 491 to the Invite from B. 
> If B on receives a re-Invite from A it 
> should process the request, rather than 
> sending the 491, and wait for the 491 
> for its own re-invite. 

This would typically work.  However 
sometimes neither or both are the owner 
depending on the interpretation of a 
refer-to with Call-ID.
In addition the non-owner can't be
certain that a 200 will not be sent
by the owner (unless a re-invite MUST
queued until ACK received from UAC).


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Tue Dec 11 13:15:03 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id NAA22010
	for <sip-archive@odin.ietf.org>; Tue, 11 Dec 2001 13:15:03 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id NAA03325
	for sip-archive@odin.ietf.org; Tue, 11 Dec 2001 13:15:05 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id NAA02821;
	Tue, 11 Dec 2001 13:02:05 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id NAA02791
	for <sip@optimus.ietf.org>; Tue, 11 Dec 2001 13:02:02 -0500 (EST)
Received: from june.Broomfield1.level3.net (june.Broomfield1.Level3.net [209.245.18.7])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id NAA21813
	for <sip@ietf.org>; Tue, 11 Dec 2001 13:01:59 -0500 (EST)
From: John.Hearty@Level3.com
Received: from f1ee40-19.idc1.level3.com (hme0.f1ee40-19.idc1.oss.level3.com [10.1.144.204])
	by june.Broomfield1.level3.net (8.9.3/8.9.3) with ESMTP id SAA25183;
	Tue, 11 Dec 2001 18:01:10 GMT
Received: from n0195idc1.oss.level3.com (localhost [127.0.0.1])
	by f1ee40-19.idc1.level3.com (8.8.8+Sun/8.8.8) with ESMTP id SAA14202;
	Tue, 11 Dec 2001 18:01:54 GMT
Received: by n0195idc1.oss.level3.com with Internet Mail Service (5.5.2653.19)
	id <YKJGMB72>; Tue, 11 Dec 2001 11:01:53 -0700
Message-ID: <17052388D394D411803900508BDFFAF601B37087@n0214idc1.oss.level3.com>
To: brett@broadsoft.com, sip@ietf.org
Subject: RE: [Sip] Open Issue #139: re-INVITE Glare
Date: Tue, 11 Dec 2001 11:01:53 -0700
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org


 It would seem your first point could be worked around if there was
documentation defining the interpretation of a refer-to with Call-ID, rather
than leaving the interpretation up to the implementor.  I am not clear on
your second point.

 I'm open to suggestions for an alternate way to do this, or improvements to
the proposal.  My concern is that we determine a mechanism that produces a
definitive winner during glare in which both ends arrive at the same result.
I do not prefer the original proposal using timers.  It wastes time and
increases messaging traffic.

John Hearty
Level3

-----Original Message-----
From: Brett Tate [mailto:brett@broadsoft.com]
Sent: Tuesday, December 11, 2001 10:15 AM
To: sip@ietf.org
Subject: RE: [Sip] Open Issue #139: re-INVITE Glare


> I like the 491 response code. I also prefer 
> the idea of using the owner of the Call-ID 
> as Brett proposed below. I would suggest 
> taking it a little further. 
>
> Lets assume that A is the owner of the 
> Call-ID and B is the other party. 
> If A receives the re-invite from B it 
> should send a 491 to the Invite from B. 
> If B on receives a re-Invite from A it 
> should process the request, rather than 
> sending the 491, and wait for the 491 
> for its own re-invite. 

This would typically work.  However 
sometimes neither or both are the owner 
depending on the interpretation of a 
refer-to with Call-ID.
In addition the non-owner can't be
certain that a 200 will not be sent
by the owner (unless a re-invite MUST
queued until ACK received from UAC).


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Tue Dec 11 14:17:20 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id OAA23308
	for <sip-archive@odin.ietf.org>; Tue, 11 Dec 2001 14:17:20 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id OAA05819
	for sip-archive@odin.ietf.org; Tue, 11 Dec 2001 14:17:19 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id NAA04982;
	Tue, 11 Dec 2001 13:59:04 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id NAA04950
	for <sip@optimus.ietf.org>; Tue, 11 Dec 2001 13:59:01 -0500 (EST)
Received: from excalibur.santera.com (exchange.santera.com [4.22.157.11])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id NAA23028
	for <sip@ietf.org>; Tue, 11 Dec 2001 13:58:58 -0500 (EST)
X-MimeOLE: Produced By Microsoft Exchange V6.0.4712.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Subject: RE: [Sip] Open Issue #139: re-INVITE Glare
Date: Tue, 11 Dec 2001 12:58:26 -0600
Message-ID: <CD110021698980419241042CF576B8F28A0353@EXCALIBUR.santera.com>
Thread-Topic: [Sip] Open Issue #139: re-INVITE Glare
Thread-Index: AcGCb2h3YbK+PritTGSxRZaQkF9HKgABZcmA
From: "Chiou, Mark" <MChiou@santera.com>
To: <John.Hearty@Level3.com>, <brett@broadsoft.com>, <sip@ietf.org>
Content-Transfer-Encoding: 8bit
X-MIME-Autoconverted: from quoted-printable to 8bit by optimus.ietf.org id NAA04951
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 8bit

Hi,

-----Original Message-----
From: John.Hearty@Level3.com [mailto:John.Hearty@Level3.com]
Sent: Tuesday, December 11, 2001 12:02 PM
To: brett@broadsoft.com; sip@ietf.org
Subject: RE: [Sip] Open Issue #139: re-INVITE Glare



 It would seem your first point could be worked around if there was
documentation defining the interpretation of a refer-to with Call-ID,
rather
than leaving the interpretation up to the implementor.  I am not clear
on
your second point.

 I'm open to suggestions for an alternate way to do this, or
improvements to
the proposal.  My concern is that we determine a mechanism that produces
a
definitive winner during glare in which both ends arrive at the same
result.
I do not prefer the original proposal using timers.  It wastes time and
increases messaging traffic.

[MC] I like the mechanism purposal, which is similar to SS7 Glare
handling.
Can we suggest that if the re-INVITE glare condition occurs, the
original UAC get the control and the UAS must give in? I mean if A calls
B, then A is UAC and B is UAS. when A and B both send a re-INVITE at the
same time, the B should backup.

John Hearty
Level3

-----Original Message-----
From: Brett Tate [mailto:brett@broadsoft.com]
Sent: Tuesday, December 11, 2001 10:15 AM
To: sip@ietf.org
Subject: RE: [Sip] Open Issue #139: re-INVITE Glare


> I like the 491 response code. I also prefer 
> the idea of using the owner of the Call-ID 
> as Brett proposed below. I would suggest 
> taking it a little further. 
>
> Lets assume that A is the owner of the 
> Call-ID and B is the other party. 
> If A receives the re-invite from B it 
> should send a 491 to the Invite from B. 
> If B on receives a re-Invite from A it 
> should process the request, rather than 
> sending the 491, and wait for the 491 
> for its own re-invite. 

This would typically work.  However 
sometimes neither or both are the owner 
depending on the interpretation of a 
refer-to with Call-ID.
In addition the non-owner can't be
certain that a 200 will not be sent
by the owner (unless a re-invite MUST
queued until ACK received from UAC).


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Tue Dec 11 14:49:31 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id OAA23864
	for <sip-archive@odin.ietf.org>; Tue, 11 Dec 2001 14:49:31 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id OAA07164
	for sip-archive@odin.ietf.org; Tue, 11 Dec 2001 14:49:34 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id OAA06887;
	Tue, 11 Dec 2001 14:35:17 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id OAA06858
	for <sip@optimus.ietf.org>; Tue, 11 Dec 2001 14:35:14 -0500 (EST)
Received: from ihemail2.firewall.lucent.com (ihemail2.lucent.com [192.11.222.163])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id OAA23700
	for <sip@ietf.org>; Tue, 11 Dec 2001 14:35:11 -0500 (EST)
Received: from uk0006exch001h.wins.lucent.com (h135-86-160-150.lucent.com [135.86.160.150])
	by ihemail2.firewall.lucent.com (Switch-2.1.3/Switch-2.1.0) with ESMTP id fBBJZCD26241
	for <sip@ietf.org>; Tue, 11 Dec 2001 14:35:12 -0500 (EST)
Received: by uk0006exch001h.uk.lucent.com with Internet Mail Service (5.5.2650.21)
	id <XK632D31>; Tue, 11 Dec 2001 19:35:10 -0000
Message-ID: <475FF955A05DD411980D00508B6D5FB003F42404@en0033exch001u.uk.lucent.com>
From: "Drage, Keith (Keith)" <drage@lucent.com>
To: John.Hearty@Level3.com,
        Christer Holmberg
	 <christer.holmberg@lmf.ericsson.se>
Cc: jdrosen@dynamicsoft.com, sip@ietf.org
Subject: RE: [Sip] Open Issue #207: Handling of session failures
Date: Tue, 11 Dec 2001 19:35:08 -0000
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2650.21)
Content-Type: text/plain;
	charset="iso-8859-1"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

Why is this not a SDP level requirement, rather than a SIP level
requirement. The requirement you are writing is to send a new UDP (which
just happens to be sent in an INVITE) rather than a INVITE itself.

As a result, this becomes out of scope of the bis-draft.

Keith

Keith Drage
Lucent Technologies
Tel: +44 1793 776249
Email: drage@lucent.com

> ----------
> From: 	Christer Holmberg[SMTP:christer.holmberg@lmf.ericsson.se]
> Sent: 	10 December 2001 0:22
> To: 	John.Hearty@Level3.com
> Cc: 	jdrosen@dynamicsoft.com; sip@ietf.org
> Subject: 	Re: [Sip] Open Issue #207: Handling of session failures
> 
> 
> Hi,
> 
> If the same node is handling both media and signalling I guess the
> proposal is ok.
> 
> However, if the nodes are separated, and eg MGCP/H.248 is used between
> them, those protocols may define other actions to be taken when media
> failures occur. For example, MGCP allows the media handler to RELEASE
> the call if the media "connection" is lost, so to be able to
> re-establish the session a whole NEW session must be setup. And, if the
> node is a gateway it may not be able to set up a new session in the
> first place, since it's an end-user of either "side" of the gateway
> which set up the session.
> 
> So, since SIP is a SIGNALLING protocol I don't think there shall be any
> SHOULDS or MUSTS on how to handling failures on the media level. Of
> course, it may be mentioned as an example on a case where a re-INVITE
> may be used.
> 
> Regards,
> 
> Christer Holmberg
> Ericsson Finland
> 
> 
> 
> 
> John.Hearty@Level3.com wrote:
> > 
> > > Issue:
> > >
> > > The spec is silent on what a UA should do if failures in the
> > > media sessions
> > > occur (ICMP, timeouts, or media specific errors). I think
> > > something should
> > > be
> > > said. draft-rosenberg-sip-reconstitute-00.txt talks a lot about this
> > > problem;
> > > nearly all of that is local implementation logic, but one piece that
> > > requires a
> > > normative change to the spec - if you detect a failure in
> > > media stream, send
> > > a
> > > re-invite to see if that repairs it.
> > >
> > > The re-invite will help if the failure is due to a end system
> > > failure. In
> > > that case, the re-INVITE will reconstitute the dialog and
> > > session state at
> > > an alternate, which is helpful and useful in many cases.
> > 
> > Assuming that end system is capable of reconstituting state from a
> > re-Invite.
> > That said, I agree with this proposal.
> > 
> > John Hearty
> > Level3
> > 
> >  It
> > > won't do much at
> > > all if there was a network failure.
> > >
> > > If the re-INVITE fails, or nothing changes in the media
> > > stream, you SHOULD
> > > then send a BYE.
> > >
> > > I'd like to incoroporate this piece of logic into bis.
> > >
> > > Proposal:
> > >
> > > UAC SHOULD re-INVITE with same SDP when it detects failures
> > > in the media
> > > session.
> > > If re-INVITE doesn't help, SHOULD send a BYE
> > >
> > > -Jonathan R.
> > >
> > > ---
> > > Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
> > > Chief Scientist                             First Floor
> > > dynamicsoft                                 East Hanover, NJ 07936
> > > jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
> > > http://www.jdrosen.net                      PHONE: (973) 952-5000
> > > http://www.dynamicsoft.com
> > >
> > >
> > > _______________________________________________
> > > Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> > > This list is for NEW development of the core SIP Protocol
> > > Use sip-implementors@cs.columbia.edu for questions on current sip
> > > Use sipping@ietf.org for new developments on the application of sip
> > >
> > 
> > _______________________________________________
> > Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> > This list is for NEW development of the core SIP Protocol
> > Use sip-implementors@cs.columbia.edu for questions on current sip
> > Use sipping@ietf.org for new developments on the application of sip
> 
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
> 

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Tue Dec 11 14:53:22 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id OAA23936
	for <sip-archive@odin.ietf.org>; Tue, 11 Dec 2001 14:53:22 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id OAA07236
	for sip-archive@odin.ietf.org; Tue, 11 Dec 2001 14:53:25 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id OAA06071;
	Tue, 11 Dec 2001 14:26:28 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id OAA06042
	for <sip@optimus.ietf.org>; Tue, 11 Dec 2001 14:26:25 -0500 (EST)
Received: from ihemail2.firewall.lucent.com (ihemail2.lucent.com [192.11.222.163])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id OAA23468
	for <sip@ietf.org>; Tue, 11 Dec 2001 14:26:22 -0500 (EST)
Received: from uk0006exch001h.wins.lucent.com (h135-86-160-150.lucent.com [135.86.160.150])
	by ihemail2.firewall.lucent.com (Switch-2.1.3/Switch-2.1.0) with ESMTP id fBBJQOD22497
	for <sip@ietf.org>; Tue, 11 Dec 2001 14:26:24 -0500 (EST)
Received: by uk0006exch001h.uk.lucent.com with Internet Mail Service (5.5.2650.21)
	id <XK632DK2>; Tue, 11 Dec 2001 19:26:23 -0000
Message-ID: <475FF955A05DD411980D00508B6D5FB003F42401@en0033exch001u.uk.lucent.com>
From: "Drage, Keith (Keith)" <drage@lucent.com>
To: "'sip@ietf.org'" <sip@ietf.org>,
        Jonathan Rosenberg
	 <jdrosen@dynamicsoft.com>
Subject: RE: [Sip] Open Issue #150: too many ways of saying "don't send me
	 media"
Date: Tue, 11 Dec 2001 19:26:20 -0000
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2650.21)
Content-Type: text/plain
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

Given that all SDP has now been removed from the bis draft, I am not sure
how this remains a SIP WG open issue.

Surely this issue has now transferred to the MMUSIC documentation.

Keith

Keith Drage
Lucent Technologies
Tel: +44 1793 776249
Email: drage@lucent.com

> ----------
> From: 	Jonathan Rosenberg[SMTP:jdrosen@dynamicsoft.com]
> Sent: 	06 December 2001 5:41
> To: 	'sip@ietf.org'
> Subject: 	[Sip] Open Issue #150: too many ways of saying "don't send
> me media"
> 
> Issue:
> 
> There are a bunch of ways to say "don't send me media":
> 
> c=0.0.0.0
> a=inactive,sendonly
> zero port
> bw=0
> 
> What do these all mean, and do we need them all?
> 
> Discussion: We've agreed on most of this already. The only real issue is
> to
> say that bw=0 is never used. So, the proposal is:
> 
> c=0.0.0.0          DEPRECATED
> a=inactive,sendly  PREFERRED
> zero port:         disables media stream
> bw=0               DONT USE
> 
> -Jonathan R.
> ---
> Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
> Chief Scientist                             First Floor
> dynamicsoft                                 East Hanover, NJ 07936
> jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
> http://www.jdrosen.net                      PHONE: (973) 952-5000
> http://www.dynamicsoft.com
>  
> 
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
> 

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Tue Dec 11 17:05:11 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id RAA25815
	for <sip-archive@odin.ietf.org>; Tue, 11 Dec 2001 17:05:11 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id RAA11594
	for sip-archive@odin.ietf.org; Tue, 11 Dec 2001 17:05:15 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id QAA10751;
	Tue, 11 Dec 2001 16:48:04 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id QAA10719
	for <sip@optimus.ietf.org>; Tue, 11 Dec 2001 16:48:02 -0500 (EST)
Received: from zrc2s0jx.nortelnetworks.com (zrc2s0jx.nortelnetworks.com [47.103.122.112])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id QAA25594
	for <sip@ietf.org>; Tue, 11 Dec 2001 16:47:56 -0500 (EST)
Received: from zrchb200.us.nortel.com (zrchb200.us.nortel.com [47.103.121.45])
	by zrc2s0jx.nortelnetworks.com (Switch-2.2.0/Switch-2.2.0) with ESMTP id fBBLlJn09289;
	Tue, 11 Dec 2001 15:47:19 -0600 (CST)
Received: by zrchb200.us.nortel.com with Internet Mail Service (5.5.2653.19)
	id <YVB5QX5B>; Tue, 11 Dec 2001 15:46:07 -0600
Message-ID: <933FADF5E673D411B8A30002A5608A0E10C78E@zrc2c012.us.nortel.com>
From: "Scott Orton" <orton@nortelnetworks.com>
To: "'Kiranmai Pavoori'" <kiranmai.pavoori@intervoice-brite.com>,
        jdrosen
	 <jdrosen@dynamicsoft.com>, vkg <vkg@lucent.com>
Cc: sip <sip@ietf.org>
Subject: RE: [Sip] Open Issue #178: Deprecate absolute times absolutely: S
	PEAK  UP IFYOU USE THEM IN YOUR PRODUCT!!!!!!!!!!
Date: Tue, 11 Dec 2001 15:46:25 -0600
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C1828D.480B3C20"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

This message is in MIME format. Since your mail reader does not understand
this format, some or all of this message may not be legible.

------_=_NextPart_001_01C1828D.480B3C20
Content-Type: text/plain;
	charset="iso-8859-1"

Proposal A is fine. 

Scott
Nortel Networks

-----Original Message-----
From: Kiranmai Pavoori [mailto:kiranmai.pavoori@intervoice-brite.com]
Sent: Tuesday, December 11, 2001 9:48 AM
To: jdrosen; vkg
Cc: sip
Subject: Re: [Sip] Open Issue #178: Deprecate absolute times absolutely:
SPEAK UP IFYOU USE THEM IN YOUR PRODUCT!!!!!!!!!!


Proposal A resolves lots of synchronization problems seen in my work..



>>> Vijay Gurbani <vkg@lucent.com> 12/10 12:44 PM >>>
Jonathan Rosenberg wrote:
> 
> Issue:
> 
> The Expires header and expires param in the Contact header allow for
> absolute times expressed in GMT. The problem with using absolute times in
> the messages is that they require clock synchronization between the two
> elements.
[...]
> PROPOSAL A:
>   * Remove absolute times entirely from the specification
> 
> PROPOSAL B:
>   * Elements MUST NOT send messages with absolute times in Expires or
> ;expires, but they MUST be prepared to receive requests with absolute 
> times in those headers, for backwards compatibility
> 
> If we can do A, we should. So, speak up NOW if you use absolute times!!!

Proposal A is fine.  Our registrar sends out delta time in responses to
Register requests, for instance.

Thanks,

- vijay
-- 
Vijay K. Gurbani  vkg@{lucent.com,research.bell-labs.com,acm.org} 
Internet Software and eServices Group 
Lucent Technologies/Bell Labs Innovations, 2000 Lucent Lane, Rm 6G-440
Naperville, Illinois 60566     Voice: +1 630 224 0216   Fax: +1 630 713 0184

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip 
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip

------_=_NextPart_001_01C1828D.480B3C20
Content-Type: text/html;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV=3D"Content-Type" CONTENT=3D"text/html; =
charset=3Diso-8859-1">
<META NAME=3D"Generator" CONTENT=3D"MS Exchange Server version =
5.5.2654.89">
<TITLE>RE: [Sip] Open Issue #178: Deprecate absolute times absolutely: =
SPEAK  UP IFYOU USE THEM IN YOUR PRODUCT!!!!!!!!!!</TITLE>
</HEAD>
<BODY>

<P><FONT SIZE=3D2>Proposal A is fine. </FONT>
</P>

<P><FONT SIZE=3D2>Scott</FONT>
<BR><FONT SIZE=3D2>Nortel Networks</FONT>
</P>

<P><FONT SIZE=3D2>-----Original Message-----</FONT>
<BR><FONT SIZE=3D2>From: Kiranmai Pavoori [<A =
HREF=3D"mailto:kiranmai.pavoori@intervoice-brite.com">mailto:kiranmai.pa=
voori@intervoice-brite.com</A>]</FONT>
<BR><FONT SIZE=3D2>Sent: Tuesday, December 11, 2001 9:48 AM</FONT>
<BR><FONT SIZE=3D2>To: jdrosen; vkg</FONT>
<BR><FONT SIZE=3D2>Cc: sip</FONT>
<BR><FONT SIZE=3D2>Subject: Re: [Sip] Open Issue #178: Deprecate =
absolute times absolutely:</FONT>
<BR><FONT SIZE=3D2>SPEAK UP IFYOU USE THEM IN YOUR =
PRODUCT!!!!!!!!!!</FONT>
</P>
<BR>

<P><FONT SIZE=3D2>Proposal A resolves lots of synchronization problems =
seen in my work..</FONT>
</P>
<BR>
<BR>

<P><FONT SIZE=3D2>&gt;&gt;&gt; Vijay Gurbani &lt;vkg@lucent.com&gt; =
12/10 12:44 PM &gt;&gt;&gt;</FONT>
<BR><FONT SIZE=3D2>Jonathan Rosenberg wrote:</FONT>
<BR><FONT SIZE=3D2>&gt; </FONT>
<BR><FONT SIZE=3D2>&gt; Issue:</FONT>
<BR><FONT SIZE=3D2>&gt; </FONT>
<BR><FONT SIZE=3D2>&gt; The Expires header and expires param in the =
Contact header allow for</FONT>
<BR><FONT SIZE=3D2>&gt; absolute times expressed in GMT. The problem =
with using absolute times in</FONT>
<BR><FONT SIZE=3D2>&gt; the messages is that they require clock =
synchronization between the two</FONT>
<BR><FONT SIZE=3D2>&gt; elements.</FONT>
<BR><FONT SIZE=3D2>[...]</FONT>
<BR><FONT SIZE=3D2>&gt; PROPOSAL A:</FONT>
<BR><FONT SIZE=3D2>&gt;&nbsp;&nbsp; * Remove absolute times entirely =
from the specification</FONT>
<BR><FONT SIZE=3D2>&gt; </FONT>
<BR><FONT SIZE=3D2>&gt; PROPOSAL B:</FONT>
<BR><FONT SIZE=3D2>&gt;&nbsp;&nbsp; * Elements MUST NOT send messages =
with absolute times in Expires or</FONT>
<BR><FONT SIZE=3D2>&gt; ;expires, but they MUST be prepared to receive =
requests with absolute </FONT>
<BR><FONT SIZE=3D2>&gt; times in those headers, for backwards =
compatibility</FONT>
<BR><FONT SIZE=3D2>&gt; </FONT>
<BR><FONT SIZE=3D2>&gt; If we can do A, we should. So, speak up NOW if =
you use absolute times!!!</FONT>
</P>

<P><FONT SIZE=3D2>Proposal A is fine.&nbsp; Our registrar sends out =
delta time in responses to</FONT>
<BR><FONT SIZE=3D2>Register requests, for instance.</FONT>
</P>

<P><FONT SIZE=3D2>Thanks,</FONT>
</P>

<P><FONT SIZE=3D2>- vijay</FONT>
<BR><FONT SIZE=3D2>-- </FONT>
<BR><FONT SIZE=3D2>Vijay K. Gurbani&nbsp; =
vkg@{lucent.com,research.bell-labs.com,acm.org} </FONT>
<BR><FONT SIZE=3D2>Internet Software and eServices Group </FONT>
<BR><FONT SIZE=3D2>Lucent Technologies/Bell Labs Innovations, 2000 =
Lucent Lane, Rm 6G-440</FONT>
<BR><FONT SIZE=3D2>Naperville, Illinois 60566&nbsp;&nbsp;&nbsp;&nbsp; =
Voice: +1 630 224 0216&nbsp;&nbsp; Fax: +1 630 713 0184</FONT>
</P>

<P><FONT =
SIZE=3D2>_______________________________________________</FONT>
<BR><FONT SIZE=3D2>Sip mailing list&nbsp; <A =
HREF=3D"http://www1.ietf.org/mailman/listinfo/sip" =
TARGET=3D"_blank">http://www1.ietf.org/mailman/listinfo/sip</A> </FONT>
<BR><FONT SIZE=3D2>This list is for NEW development of the core SIP =
Protocol</FONT>
<BR><FONT SIZE=3D2>Use sip-implementors@cs.columbia.edu for questions =
on current sip</FONT>
<BR><FONT SIZE=3D2>Use sipping@ietf.org for new developments on the =
application of sip</FONT>
</P>
<BR>

<P><FONT =
SIZE=3D2>_______________________________________________</FONT>
<BR><FONT SIZE=3D2>Sip mailing list&nbsp; <A =
HREF=3D"http://www1.ietf.org/mailman/listinfo/sip" =
TARGET=3D"_blank">http://www1.ietf.org/mailman/listinfo/sip</A></FONT>
<BR><FONT SIZE=3D2>This list is for NEW development of the core SIP =
Protocol</FONT>
<BR><FONT SIZE=3D2>Use sip-implementors@cs.columbia.edu for questions =
on current sip</FONT>
<BR><FONT SIZE=3D2>Use sipping@ietf.org for new developments on the =
application of sip</FONT>
</P>

</BODY>
</HTML>
------_=_NextPart_001_01C1828D.480B3C20--

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Tue Dec 11 17:30:03 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id RAA26483
	for <sip-archive@odin.ietf.org>; Tue, 11 Dec 2001 17:30:03 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id RAA12888
	for sip-archive@odin.ietf.org; Tue, 11 Dec 2001 17:30:08 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id RAA12572;
	Tue, 11 Dec 2001 17:22:43 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id RAA12493
	for <sip@optimus.ietf.org>; Tue, 11 Dec 2001 17:22:38 -0500 (EST)
Received: from mail1.dynamicsoft.com (mail1.dynamicsoft.com [63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id RAA26251
	for <sip@ietf.org>; Tue, 11 Dec 2001 17:22:33 -0500 (EST)
Received: from dynamicsoft.com ([63.113.46.156])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fBBMKTPr009899;
	Tue, 11 Dec 2001 17:20:29 -0500 (EST)
Message-ID: <3C16870A.67EBC572@dynamicsoft.com>
Date: Tue, 11 Dec 2001 17:22:02 -0500
From: Anders Kristensen <akristensen@dynamicsoft.com>
X-Mailer: Mozilla 4.75 [en] (Windows NT 5.0; U)
X-Accept-Language: en
MIME-Version: 1.0
To: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
CC: "'sip@ietf.org'" <sip@ietf.org>
Subject: Re: [Sip] Major Open Issue #113: Overlapping Transactions
References: <B65B4F8437968F488A01A940B21982BF020D7134@DYN-EXCH-001.dynamicsoft.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit



Jonathan Rosenberg wrote:
> 
> Issue:
> 
> This is a major issue. One of the more major ones remaining.
> 
> Currently, the spec forbids more than one INVITE at a time, and more than
> one non-INVITE at a time. This is simple, but there are valid concerns that
> it will bite us down the road when uses require faster operation. Thus, the
> issue is whether to relax this two constraints.
> 
> Discussion points:
> 
> The reason we forbid it with INVITE was that you couldn't easily figure out
> the most recent session description. There was no way to tell whether the
> response to the first INV was sent before or after the response to the
> second INVITE. Without a consistent view of which was the most recent SDP,
> the session parameters would be wrong.

I agree that it would be desirable to allow overlapping transactions,
including INVITEs. What's the problem with saying that the CSeq (and
subordinately RSeq) defines which is the most recent SDP?

Anders

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Tue Dec 11 19:27:53 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id TAA28364
	for <sip-archive@odin.ietf.org>; Tue, 11 Dec 2001 19:27:53 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id TAA16767
	for sip-archive@odin.ietf.org; Tue, 11 Dec 2001 19:27:55 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id TAA16353;
	Tue, 11 Dec 2001 19:04:57 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id TAA16322
	for <sip@optimus.ietf.org>; Tue, 11 Dec 2001 19:04:54 -0500 (EST)
Received: from zcars0m9.nortelnetworks.com (zcars0m9.nortelnetworks.com [47.129.242.157])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id TAA28054
	for <sip@ietf.org>; Tue, 11 Dec 2001 19:04:52 -0500 (EST)
Received: from znsgs01r.europe.nortel.com (znsgs01r.europe.nortel.com [47.137.129.92])
	by zcars0m9.nortelnetworks.com (8.11.0/8.11.0) with ESMTP id fBC03aF19280;
	Tue, 11 Dec 2001 19:03:36 -0500 (EST)
Received: from zwcwc012.europe.nortel.com (zwcwc012.europe.nortel.com [47.73.112.187])
	by znsgs01r.europe.nortel.com (Switch-2.2.0/Switch-2.2.0) with ESMTP id fBC047817322;
	Wed, 12 Dec 2001 00:04:07 GMT
Received: by zwcwc012.europe.nortel.com with Internet Mail Service (5.5.2653.19)
	id <YH6L9R64>; Wed, 12 Dec 2001 00:03:33 -0000
Message-ID: <A3C2399B2FACD411A54200508BE39C7405B21144@zwcwd00r.europe.nortel.com>
From: "Mark Watson" <mwatson@nortelnetworks.com>
To: "Fairlie-Cuninghame, Robert" <rfairlie@nuera.com>,
        "'sip@ietf.org'"
	 <sip@ietf.org>
Cc: "'jdrosen@dynamicsoft.com'" <jdrosen@dynamicsoft.com>
Subject: RE: [Sip] SDP Offer/Counter-offer/Answer
Date: Wed, 12 Dec 2001 00:03:28 -0000
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C182A0.6D792A40"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

This message is in MIME format. Since your mail reader does not understand
this format, some or all of this message may not be legible.

------_=_NextPart_001_01C182A0.6D792A40
Content-Type: text/plain;
	charset="iso-8859-1"

In what sense is the nature of the 'counter-offer' currently even implicit ?
Is there a defined procedure for someone who has sent an offer to determine
whether the reply is an 'answer' or a 'counter-offer' ?

I would agree that it would make sense to make it explicit, but surely it
should be in the SDP (so the solution works for all systems which want to
exchange SDP, not just for SIP).

(This probably is an mmusic question, but as it seems currently impossible
to re-subscribe to  the mmusic list, then that's moot for me!).

Regards...Mark

-----Original Message-----
From: Fairlie-Cuninghame, Robert [mailto:rfairlie@nuera.com]
Sent: 10 December 2001 15:09
To: 'sip@ietf.org'
Cc: 'jdrosen@dynamicsoft.com'
Subject: [Sip] SDP Offer/Counter-offer/Answer



Hello,

I'm not sure whether this is more suited to the MMUSIC list (as there is a
answer-offer discussion ensuing presently), however I believe this is more
related to the use of the SDP offer-answer model than its specification.
[draft-rosenberg-mmusic-sdp-offer-answer-00.txt]

Just a recap: the SDP offer/counter-offer/answer model is where Peer A makes
an offer in the INVITE, that Peer B has decides to make a counter-offer back
to A (in 183 or 200 OK) which A then sends an answers (in PRACK or ACK). 

We are seeing the offer/counter-offer/answer model becoming more widely
used: it is used in the manyfolks resource reservation, it is used in the
early media proposal and it is required in the 3GPP requirements document.
Also when SRTP becomes more prevalent, it will be useful in that instance. 
An example of its use with SRTP: A calls B. A offers RTP/AVP in the INVITE
but B requires the use of SRTP/AVP profile, so B counter-offers with
SRTP/AVP in the 200 OK. A either answers in ACK or sends empty SDP and
rejects call. 

My aim is not to change the answer-offer model (everything is still always
an offer or answer), early media or resource reservation; my aim merely to
make what is happening EXPLICIT rather than assumed, that is, make it
explicit with an SDP is an answer or a counter-offer. Explicit protocol are
just about always better than implicit (IETF mantra right).

My proposal (which I made earlier in the year): whenever a response
(provisional or final) contains an SDP counter-offer then this fact is
EXPLICITly indicated in the Content-Disposition header. 

For instance: Content-Disposition=newoffer;handling=required

I propose that this Content-Disposition token is added to the next SIP
draft. 

Comments?

Regards,

Robert.

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip

------_=_NextPart_001_01C182A0.6D792A40
Content-Type: text/html;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV=3D"Content-Type" CONTENT=3D"text/html; =
charset=3Diso-8859-1">
<META NAME=3D"Generator" CONTENT=3D"MS Exchange Server version =
5.5.2654.89">
<TITLE>RE: [Sip] SDP Offer/Counter-offer/Answer</TITLE>
</HEAD>
<BODY>

<P><FONT SIZE=3D2>In what sense is the nature of the 'counter-offer' =
currently even implicit ? Is there a defined procedure for someone who =
has sent an offer to determine whether the reply is an 'answer' or a =
'counter-offer' ?</FONT></P>

<P><FONT SIZE=3D2>I would agree that it would make sense to make it =
explicit, but surely it should be in the SDP (so the solution works for =
all systems which want to exchange SDP, not just for SIP).</FONT></P>

<P><FONT SIZE=3D2>(This probably is an mmusic question, but as it seems =
currently impossible to re-subscribe to&nbsp; the mmusic list, then =
that's moot for me!).</FONT></P>

<P><FONT SIZE=3D2>Regards...Mark</FONT>
</P>

<P><FONT SIZE=3D2>-----Original Message-----</FONT>
<BR><FONT SIZE=3D2>From: Fairlie-Cuninghame, Robert [<A =
HREF=3D"mailto:rfairlie@nuera.com">mailto:rfairlie@nuera.com</A>]</FONT>=

<BR><FONT SIZE=3D2>Sent: 10 December 2001 15:09</FONT>
<BR><FONT SIZE=3D2>To: 'sip@ietf.org'</FONT>
<BR><FONT SIZE=3D2>Cc: 'jdrosen@dynamicsoft.com'</FONT>
<BR><FONT SIZE=3D2>Subject: [Sip] SDP Offer/Counter-offer/Answer</FONT>
</P>
<BR>
<BR>

<P><FONT SIZE=3D2>Hello,</FONT>
</P>

<P><FONT SIZE=3D2>I'm not sure whether this is more suited to the =
MMUSIC list (as there is a</FONT>
<BR><FONT SIZE=3D2>answer-offer discussion ensuing presently), however =
I believe this is more</FONT>
<BR><FONT SIZE=3D2>related to the use of the SDP offer-answer model =
than its specification.</FONT>
<BR><FONT =
SIZE=3D2>[draft-rosenberg-mmusic-sdp-offer-answer-00.txt]</FONT>
</P>

<P><FONT SIZE=3D2>Just a recap: the SDP offer/counter-offer/answer =
model is where Peer A makes</FONT>
<BR><FONT SIZE=3D2>an offer in the INVITE, that Peer B has decides to =
make a counter-offer back</FONT>
<BR><FONT SIZE=3D2>to A (in 183 or 200 OK) which A then sends an =
answers (in PRACK or ACK). </FONT>
</P>

<P><FONT SIZE=3D2>We are seeing the offer/counter-offer/answer model =
becoming more widely</FONT>
<BR><FONT SIZE=3D2>used: it is used in the manyfolks resource =
reservation, it is used in the</FONT>
<BR><FONT SIZE=3D2>early media proposal and it is required in the 3GPP =
requirements document.</FONT>
<BR><FONT SIZE=3D2>Also when SRTP becomes more prevalent, it will be =
useful in that instance. </FONT>
<BR><FONT SIZE=3D2>An example of its use with SRTP: A calls B. A offers =
RTP/AVP in the INVITE</FONT>
<BR><FONT SIZE=3D2>but B requires the use of SRTP/AVP profile, so B =
counter-offers with</FONT>
<BR><FONT SIZE=3D2>SRTP/AVP in the 200 OK. A either answers in ACK or =
sends empty SDP and</FONT>
<BR><FONT SIZE=3D2>rejects call. </FONT>
</P>

<P><FONT SIZE=3D2>My aim is not to change the answer-offer model =
(everything is still always</FONT>
<BR><FONT SIZE=3D2>an offer or answer), early media or resource =
reservation; my aim merely to</FONT>
<BR><FONT SIZE=3D2>make what is happening EXPLICIT rather than assumed, =
that is, make it</FONT>
<BR><FONT SIZE=3D2>explicit with an SDP is an answer or a =
counter-offer. Explicit protocol are</FONT>
<BR><FONT SIZE=3D2>just about always better than implicit (IETF mantra =
right).</FONT>
</P>

<P><FONT SIZE=3D2>My proposal (which I made earlier in the year): =
whenever a response</FONT>
<BR><FONT SIZE=3D2>(provisional or final) contains an SDP counter-offer =
then this fact is</FONT>
<BR><FONT SIZE=3D2>EXPLICITly indicated in the Content-Disposition =
header. </FONT>
</P>

<P><FONT SIZE=3D2>For instance: =
Content-Disposition=3Dnewoffer;handling=3Drequired</FONT>
</P>

<P><FONT SIZE=3D2>I propose that this Content-Disposition token is =
added to the next SIP</FONT>
<BR><FONT SIZE=3D2>draft. </FONT>
</P>

<P><FONT SIZE=3D2>Comments?</FONT>
</P>

<P><FONT SIZE=3D2>Regards,</FONT>
</P>

<P><FONT SIZE=3D2>Robert.</FONT>
</P>

<P><FONT =
SIZE=3D2>_______________________________________________</FONT>
<BR><FONT SIZE=3D2>Sip mailing list&nbsp; <A =
HREF=3D"http://www1.ietf.org/mailman/listinfo/sip" =
TARGET=3D"_blank">http://www1.ietf.org/mailman/listinfo/sip</A></FONT>
<BR><FONT SIZE=3D2>This list is for NEW development of the core SIP =
Protocol</FONT>
<BR><FONT SIZE=3D2>Use sip-implementors@cs.columbia.edu for questions =
on current sip</FONT>
<BR><FONT SIZE=3D2>Use sipping@ietf.org for new developments on the =
application of sip</FONT>
</P>

</BODY>
</HTML>
------_=_NextPart_001_01C182A0.6D792A40--

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Wed Dec 12 01:41:34 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id BAA09987
	for <sip-archive@odin.ietf.org>; Wed, 12 Dec 2001 01:41:34 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id BAA09063
	for sip-archive@odin.ietf.org; Wed, 12 Dec 2001 01:41:35 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id BAA08447;
	Wed, 12 Dec 2001 01:19:57 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id BAA08356
	for <sip@optimus.ietf.org>; Wed, 12 Dec 2001 01:19:47 -0500 (EST)
Received: from zrc2s0jx.nortelnetworks.com (zrc2s0jx.nortelnetworks.com [47.103.122.112])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id BAA07051
	for <sip@ietf.org>; Wed, 12 Dec 2001 01:19:45 -0500 (EST)
Received: from zrchb200.us.nortel.com (zrchb200.us.nortel.com [47.103.121.45])
	by zrc2s0jx.nortelnetworks.com (Switch-2.2.0/Switch-2.2.0) with ESMTP id fBC6Iwn29154;
	Wed, 12 Dec 2001 00:18:59 -0600 (CST)
Received: by zrchb200.us.nortel.com with Internet Mail Service (5.5.2653.19)
	id <YXCBXZLP>; Wed, 12 Dec 2001 00:17:48 -0600
Message-ID: <933FADF5E673D411B8A30002A5608A0E011D817B@zrc2c012.us.nortel.com>
From: "Brian Stucker" <bstucker@nortelnetworks.com>
To: "Scott Orton" <orton@nortelnetworks.com>,
        "'Kiranmai Pavoori'" <kiranmai.pavoori@intervoice-brite.com>,
        jdrosen <jdrosen@dynamicsoft.com>, vkg <vkg@lucent.com>
Cc: sip <sip@ietf.org>
Subject: RE: [Sip] Open Issue #178: Deprecate absolute times absolutely: S
	 PEAK  UP IFYOU USE THEM IN YOUR PRODUCT!!!!!!!!!!
Date: Wed, 12 Dec 2001 00:18:05 -0600
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C182D4.C2E24190"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

This message is in MIME format. Since your mail reader does not understand
this format, some or all of this message may not be legible.

------_=_NextPart_001_01C182D4.C2E24190
Content-Type: text/plain;
	charset="iso-8859-1"

Propsal A is the way to go. Do away with absolute times, they cause problems
and they're of no real use because all times are relative to the current
clock at the processing node anyhow.
 
Brian

-----Original Message-----
From: Orton, Scott [NGC:B633:EXCH] 
Sent: Tuesday, December 11, 2001 3:46 PM
To: 'Kiranmai Pavoori'; jdrosen; vkg
Cc: sip
Subject: RE: [Sip] Open Issue #178: Deprecate absolute times absolutely: S
PEAK UP IFYOU USE THEM IN YOUR PRODUCT!!!!!!!!!!



Proposal A is fine. 

Scott 
Nortel Networks 

-----Original Message----- 
From: Kiranmai Pavoori [ mailto:kiranmai.pavoori@intervoice-brite.com
<mailto:kiranmai.pavoori@intervoice-brite.com> ] 
Sent: Tuesday, December 11, 2001 9:48 AM 
To: jdrosen; vkg 
Cc: sip 
Subject: Re: [Sip] Open Issue #178: Deprecate absolute times absolutely: 
SPEAK UP IFYOU USE THEM IN YOUR PRODUCT!!!!!!!!!! 


Proposal A resolves lots of synchronization problems seen in my work.. 



>>> Vijay Gurbani <vkg@lucent.com> 12/10 12:44 PM >>> 
Jonathan Rosenberg wrote: 
> 
> Issue: 
> 
> The Expires header and expires param in the Contact header allow for 
> absolute times expressed in GMT. The problem with using absolute times in 
> the messages is that they require clock synchronization between the two 
> elements. 
[...] 
> PROPOSAL A: 
>   * Remove absolute times entirely from the specification 
> 
> PROPOSAL B: 
>   * Elements MUST NOT send messages with absolute times in Expires or 
> ;expires, but they MUST be prepared to receive requests with absolute 
> times in those headers, for backwards compatibility 
> 
> If we can do A, we should. So, speak up NOW if you use absolute times!!! 

Proposal A is fine.  Our registrar sends out delta time in responses to 
Register requests, for instance. 

Thanks, 

- vijay 
-- 
Vijay K. Gurbani  vkg@{lucent.com,research.bell-labs.com,acm.org} 
Internet Software and eServices Group 
Lucent Technologies/Bell Labs Innovations, 2000 Lucent Lane, Rm 6G-440 
Naperville, Illinois 60566     Voice: +1 630 224 0216   Fax: +1 630 713 0184


_______________________________________________ 
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
<http://www1.ietf.org/mailman/listinfo/sip>  
This list is for NEW development of the core SIP Protocol 
Use sip-implementors@cs.columbia.edu for questions on current sip 
Use sipping@ietf.org for new developments on the application of sip 


_______________________________________________ 
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
<http://www1.ietf.org/mailman/listinfo/sip>  
This list is for NEW development of the core SIP Protocol 
Use sip-implementors@cs.columbia.edu for questions on current sip 
Use sipping@ietf.org for new developments on the application of sip 


------_=_NextPart_001_01C182D4.C2E24190
Content-Type: text/html;
	charset="iso-8859-1"

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML><HEAD>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
<TITLE>RE: [Sip] Open Issue #178: Deprecate absolute times absolutely: SPEAK UP IFYOU USE THEM IN YOUR PRODUCT!!!!!!!!!!</TITLE>

<META content="MSHTML 5.00.2314.1000" name=GENERATOR></HEAD>
<BODY>
<DIV><FONT color=#0000ff face=Arial size=2><SPAN 
class=691531405-12122001>Propsal A is the way to go. Do away with absolute 
times, they cause problems and they're of no real use because all times are 
relative to the current clock at the processing node anyhow.</SPAN></FONT></DIV>
<DIV><FONT color=#0000ff face=Arial size=2><SPAN 
class=691531405-12122001></SPAN></FONT>&nbsp;</DIV>
<DIV><FONT color=#0000ff face=Arial size=2><SPAN 
class=691531405-12122001>Brian</SPAN></FONT></DIV>
<BLOCKQUOTE 
style="BORDER-LEFT: #0000ff 2px solid; MARGIN-LEFT: 5px; MARGIN-RIGHT: 0px; PADDING-LEFT: 5px">
  <DIV align=left class=OutlookMessageHeader dir=ltr><FONT face=Tahoma 
  size=2>-----Original Message-----<BR><B>From:</B> Orton, Scott [NGC:B633:EXCH] 
  <BR><B>Sent:</B> Tuesday, December 11, 2001 3:46 PM<BR><B>To:</B> 'Kiranmai 
  Pavoori'; jdrosen; vkg<BR><B>Cc:</B> sip<BR><B>Subject:</B> RE: [Sip] Open 
  Issue #178: Deprecate absolute times absolutely: S PEAK UP IFYOU USE THEM IN 
  YOUR PRODUCT!!!!!!!!!!<BR><BR></DIV></FONT>
  <P><FONT size=2>Proposal A is fine. </FONT></P>
  <P><FONT size=2>Scott</FONT> <BR><FONT size=2>Nortel Networks</FONT> </P>
  <P><FONT size=2>-----Original Message-----</FONT> <BR><FONT size=2>From: 
  Kiranmai Pavoori [<A 
  href="mailto:kiranmai.pavoori@intervoice-brite.com">mailto:kiranmai.pavoori@intervoice-brite.com</A>]</FONT> 
  <BR><FONT size=2>Sent: Tuesday, December 11, 2001 9:48 AM</FONT> <BR><FONT 
  size=2>To: jdrosen; vkg</FONT> <BR><FONT size=2>Cc: sip</FONT> <BR><FONT 
  size=2>Subject: Re: [Sip] Open Issue #178: Deprecate absolute times 
  absolutely:</FONT> <BR><FONT size=2>SPEAK UP IFYOU USE THEM IN YOUR 
  PRODUCT!!!!!!!!!!</FONT> </P><BR>
  <P><FONT size=2>Proposal A resolves lots of synchronization problems seen in 
  my work..</FONT> </P><BR><BR>
  <P><FONT size=2>&gt;&gt;&gt; Vijay Gurbani &lt;vkg@lucent.com&gt; 12/10 12:44 
  PM &gt;&gt;&gt;</FONT> <BR><FONT size=2>Jonathan Rosenberg wrote:</FONT> 
  <BR><FONT size=2>&gt; </FONT><BR><FONT size=2>&gt; Issue:</FONT> <BR><FONT 
  size=2>&gt; </FONT><BR><FONT size=2>&gt; The Expires header and expires param 
  in the Contact header allow for</FONT> <BR><FONT size=2>&gt; absolute times 
  expressed in GMT. The problem with using absolute times in</FONT> <BR><FONT 
  size=2>&gt; the messages is that they require clock synchronization between 
  the two</FONT> <BR><FONT size=2>&gt; elements.</FONT> <BR><FONT 
  size=2>[...]</FONT> <BR><FONT size=2>&gt; PROPOSAL A:</FONT> <BR><FONT 
  size=2>&gt;&nbsp;&nbsp; * Remove absolute times entirely from the 
  specification</FONT> <BR><FONT size=2>&gt; </FONT><BR><FONT size=2>&gt; 
  PROPOSAL B:</FONT> <BR><FONT size=2>&gt;&nbsp;&nbsp; * Elements MUST NOT send 
  messages with absolute times in Expires or</FONT> <BR><FONT size=2>&gt; 
  ;expires, but they MUST be prepared to receive requests with absolute 
  </FONT><BR><FONT size=2>&gt; times in those headers, for backwards 
  compatibility</FONT> <BR><FONT size=2>&gt; </FONT><BR><FONT size=2>&gt; If we 
  can do A, we should. So, speak up NOW if you use absolute times!!!</FONT> </P>
  <P><FONT size=2>Proposal A is fine.&nbsp; Our registrar sends out delta time 
  in responses to</FONT> <BR><FONT size=2>Register requests, for 
  instance.</FONT> </P>
  <P><FONT size=2>Thanks,</FONT> </P>
  <P><FONT size=2>- vijay</FONT> <BR><FONT size=2>-- </FONT><BR><FONT 
  size=2>Vijay K. Gurbani&nbsp; vkg@{lucent.com,research.bell-labs.com,acm.org} 
  </FONT><BR><FONT size=2>Internet Software and eServices Group </FONT><BR><FONT 
  size=2>Lucent Technologies/Bell Labs Innovations, 2000 Lucent Lane, Rm 
  6G-440</FONT> <BR><FONT size=2>Naperville, Illinois 
  60566&nbsp;&nbsp;&nbsp;&nbsp; Voice: +1 630 224 0216&nbsp;&nbsp; Fax: +1 630 
  713 0184</FONT> </P>
  <P><FONT size=2>_______________________________________________</FONT> 
  <BR><FONT size=2>Sip mailing list&nbsp; <A 
  href="http://www1.ietf.org/mailman/listinfo/sip" 
  target=_blank>http://www1.ietf.org/mailman/listinfo/sip</A> </FONT><BR><FONT 
  size=2>This list is for NEW development of the core SIP Protocol</FONT> 
  <BR><FONT size=2>Use sip-implementors@cs.columbia.edu for questions on current 
  sip</FONT> <BR><FONT size=2>Use sipping@ietf.org for new developments on the 
  application of sip</FONT> </P><BR>
  <P><FONT size=2>_______________________________________________</FONT> 
  <BR><FONT size=2>Sip mailing list&nbsp; <A 
  href="http://www1.ietf.org/mailman/listinfo/sip" 
  target=_blank>http://www1.ietf.org/mailman/listinfo/sip</A></FONT> <BR><FONT 
  size=2>This list is for NEW development of the core SIP Protocol</FONT> 
  <BR><FONT size=2>Use sip-implementors@cs.columbia.edu for questions on current 
  sip</FONT> <BR><FONT size=2>Use sipping@ietf.org for new developments on the 
  application of sip</FONT> </P></BLOCKQUOTE></BODY></HTML>

------_=_NextPart_001_01C182D4.C2E24190--

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Wed Dec 12 09:27:45 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id JAA04350
	for <sip-archive@odin.ietf.org>; Wed, 12 Dec 2001 09:27:44 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id JAA21199
	for sip-archive@odin.ietf.org; Wed, 12 Dec 2001 09:27:49 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id JAA20853;
	Wed, 12 Dec 2001 09:09:39 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id JAA20822
	for <sip@optimus.ietf.org>; Wed, 12 Dec 2001 09:09:36 -0500 (EST)
Received: from mail1.telefonica.com.ar ([168.226.49.11])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id JAA03042
	for <sip@ietf.org>; Wed, 12 Dec 2001 09:09:30 -0500 (EST)
Received: by MAIL1 with Internet Mail Service (5.5.2653.19)
	id <YQ08ZPRB>; Wed, 12 Dec 2001 11:04:15 -0300
Message-ID: <19364262E259D51198BA0008C7E6528E091B43@MSTELEFONICA8>
From: De Leo Walter <deleow@telefonica.com.ar>
To: "'sip@ietf.org'" <sip@ietf.org>
Date: Wed, 12 Dec 2001 11:04:11 -0300
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 8bit
X-MIME-Autoconverted: from quoted-printable to 8bit by optimus.ietf.org id JAA20823
Subject: [Sip] End to end ACKs
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 8bit

I have a doubt with end to end ACKs
1) Line 1797 of bis 05 says:
"Once the ACK has been constructed, the procedures of Section 24 are used to
send it."

2) In section 24 lines 4185 to 4190 say
"Once a next hop is successfully contacted, that same next hop address MUST
be used for all subsequent
messages that share the same Call-ID. More specifically, once a request is
delivered successfully to a par-
ticular next hop, all subsequent requests with the same Call-ID MUST be
delivered to that next hop. Once a
response is delivered successfully to a particular next hop, all subsequent
responses with the same Call-ID
MUST be delivered to that next hop. However, if that next hop fails, the
selection algorithms MUST be re-run
for the top." 

3) But in lines 438 to 444 it is said:
"Note that in this example, the ACK is sent directly from Alice to Bob,
bypassing the two proxies. This is due to 
the fact that through the INVITE/200 OK exchange, the two SIP user agents
have learned each other's IP
address through the Contact header fields, something which was not known
when the initial INVITE was 
sent. The lookups performed by the two proxies are no longer needed, so they
drop put of the call flow. This
completes the INVITE/200/ACK three way handshake used to establish SIP
sessions, and is the end of the transaction."

Arent this the first two paragraphs contradictory with the third?


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Dec 13 03:16:26 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id DAA18311
	for <sip-archive@odin.ietf.org>; Thu, 13 Dec 2001 03:16:26 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id DAA18298
	for sip-archive@odin.ietf.org; Thu, 13 Dec 2001 03:16:28 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id CAA17426;
	Thu, 13 Dec 2001 02:55:49 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id CAA17395
	for <sip@optimus.ietf.org>; Thu, 13 Dec 2001 02:55:45 -0500 (EST)
Received: from albatross-ext.wise.edt.ericsson.se (albatross-ext.wise.edt.ericsson.se [194.237.142.116])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id CAA16868
	for <sip@ietf.org>; Thu, 13 Dec 2001 02:55:42 -0500 (EST)
Received: from fogerty.lmf.ericsson.se (fogerty.lmf.ericsson.se [131.160.11.6])
	by albatross.wise.edt.ericsson.se (8.11.0/8.11.0/WIREfire-1.3) with ESMTP id fBD7tVJ29492;
	Thu, 13 Dec 2001 08:55:31 +0100 (MET)
Received: from lmf.ericsson.se (E005004B52C74.lmf.ericsson.se [131.160.106.10])
	by fogerty.lmf.ericsson.se (8.12.1/8.12.1/lmf.8.12.1.jcs) with ESMTP id fBD7tUQ4005860;
	Thu, 13 Dec 2001 09:55:30 +0200 (EET)
Message-ID: <3C185F66.C443FF59@lmf.ericsson.se>
Date: Thu, 13 Dec 2001 09:57:26 +0200
From: Christer Holmberg <christer.holmberg@lmf.ericsson.se>
X-Mailer: Mozilla 4.61 [en] (WinNT; I)
X-Accept-Language: en
MIME-Version: 1.0
To: Flemming Andreasen <fandreas@cisco.com>
CC: Jonathan Rosenberg <jdrosen@dynamicsoft.com>,
        "'brett@broadsoft.com'" <brett@broadsoft.com>, sip@ietf.org
Subject: Re: [Sip] Open Issue #188: Reply-To
References: <B65B4F8437968F488A01A940B21982BF02EF581E@DYN-EXCH-001.dynamicsoft.com> <3C14531E.5520E1FA@cisco.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit


Hi,

In a SIP phone, there may be a "database" of previous incoming calls.
Them, when I want to call someone back, I browse the database, pick one
of the previous calls, get the Reply-To header value from that call and
send the INVITE.

In a gateway, however, that probably wouldn't work. How does the
gateway know how to which previous incoming call it shall map a new
outgoing call? Yes, there are some specific scenarios where it may work,
but those cases are very rare and non-generic I belive.

Then, a couple of questions:


Q1:

Eg in a mobile environement, what happens if I need to "update"
the information I sent in the Reply-To? SIP defines a mechanism (using
the REGISTER method) to update location servers, but not the end-user
which have the Reply-To value. So, if I have sent different Reply-To
header values to every user I've called, do I have to send REGISTER for
all of those?

Q2:

Is it allowed to only include the HOST part in the header, and let the
other party insert the USER part when it calls back?

Regards,

Christer Holmberg
Ericsson Finland



Flemming Andreasen wrote:
> 
> The old privacy-02 draft had a "return" rpi-id-type defined just for this,
> however with the refined scope in the new privacy-03 draft, which only addresses
> network authenticated (and provided) identity information, it was removed. Since
> the UA is presumably the one that determines where it would like return calls to
> go, another header would make sense. Privacy of such a header is trivially
> handled by the UA by simply not supplying it (recall that the reason for
> encrypting the Remote-Party-ID rather than just removing it is to allow for
> things like call trace), unless you are looking for some kind of "scoped"
> privacy (I hope not). I agree that simply adding a Reply-To header to bis for
> this would make sense.
> 
> -- Flemming
> 
> Jonathan Rosenberg wrote:
> 
> >
> >
> > > -----Original Message-----
> > > From: Brett Tate [mailto:brett@broadsoft.com]
> > > Sent: Friday, December 07, 2001 4:21 AM
> > > To: sip@ietf.org
> > > Subject: RE: [Sip] Open Issue #188: Reply-To
> > >
> > > > Proposal:
> > > >
> > > > Its simple. Its compatible. Its well understood. Its going to
> > > > really be
> > > > needed for MESSAGE, probably other things. Let us take the
> > > > simple route and
> > > > add it.
> > >
> > > It seems like an ideal candidate for a
> > > new extension draft or a new version of
> > > sip-privacy.
> >
> > The question is whether this is trivial enough to just put into bis rather
> > than write a separate 1 page I-D for it. sip-privacy is, I think, different.
> > More below.
> >
> > >
> > > What is its relationship to From and
> > > Remote-Party-ID?
> >
> > >From is who sent the request.
> > Reply-To is to whom you should call-back later if you want to talk again.
> > Not necessarily the same, just as they aren't the same in email.
> >
> > Remote-Party-ID provides network authenticated identities. Reply-To is
> > provided by the client. If the network wanted to provide what it believes is
> > the true reply-to address, it would, in theory, insert a R-P-ID with id-type
> > "reply-to" or some other such thing. However, I don't think there is much
> > value in that. Who cares what the network provider thought your reply-to
> > should really be?
> >
> > >
> > > How many entries can it contain?
> >
> > One.
> >
> > > If more
> > > than 1, should something like a q-value
> > > be present to communicate the meaning of
> > > more than 1 value being present?
> > >
> > > Should it contain an expiration value?
> >
> > No. KISS. If its good enough for email, its good enough for us.
> >
> > >
> > > Should it have a similar definition to
> > > Remote-Party-ID so that privacy and trust
> > > issues can be communicated?
> >
> > There are privacy implications, yes. I don't think we need a new R-P-ID
> > type, as I discuss above, but if privacy is requested, I would imagine that
> > the reply-to would be stripped at the edge, else encrypted or some other
> > such thing, as R-P-ID would.
> >
> > -Jonathan R.
> > ---
> > Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
> > Chief Scientist                             First Floor
> > dynamicsoft                                 East Hanover, NJ 07936
> > jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
> > http://www.jdrosen.net                      PHONE: (973) 952-5000
> > http://www.dynamicsoft.com
> >
> > _______________________________________________
> > Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> > This list is for NEW development of the core SIP Protocol
> > Use sip-implementors@cs.columbia.edu for questions on current sip
> > Use sipping@ietf.org for new developments on the application of sip
> 
> --
> Flemming Andreasen
> Cisco Systems
> 
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Dec 13 03:16:35 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id DAA18337
	for <sip-archive@odin.ietf.org>; Thu, 13 Dec 2001 03:16:34 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id DAA18313
	for sip-archive@odin.ietf.org; Thu, 13 Dec 2001 03:16:37 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id CAA17375;
	Thu, 13 Dec 2001 02:54:38 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id CAA17342
	for <sip@optimus.ietf.org>; Thu, 13 Dec 2001 02:54:36 -0500 (EST)
Received: from albatross-ext.wise.edt.ericsson.se (albatross-ext.wise.edt.ericsson.se [194.237.142.116])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id CAA16793
	for <sip@ietf.org>; Thu, 13 Dec 2001 02:54:32 -0500 (EST)
Received: from fogerty.lmf.ericsson.se (fogerty.lmf.ericsson.se [131.160.11.6])
	by albatross.wise.edt.ericsson.se (8.11.0/8.11.0/WIREfire-1.3) with ESMTP id fBD7sBJ28347;
	Thu, 13 Dec 2001 08:54:15 +0100 (MET)
Received: from lmf.ericsson.se (E005004B52C74.lmf.ericsson.se [131.160.106.10])
	by fogerty.lmf.ericsson.se (8.12.1/8.12.1/lmf.8.12.1.jcs) with ESMTP id fBD7s9Q4005828;
	Thu, 13 Dec 2001 09:54:09 +0200 (EET)
Message-ID: <3C185F15.E5F7554C@lmf.ericsson.se>
Date: Thu, 13 Dec 2001 09:56:05 +0200
From: Christer Holmberg <christer.holmberg@lmf.ericsson.se>
X-Mailer: Mozilla 4.61 [en] (WinNT; I)
X-Accept-Language: en
MIME-Version: 1.0
To: brett@broadsoft.com
CC: sip@ietf.org
Subject: Re: [Sip] Open Issue #140: use only tags for Call-leg ID
References: <002a01c17ed8$62317a50$2b01a8c0@broadsoft.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit


Hi,

First, I DO agree with the proposal.

Just a general To- and From header URL question, though...

ASSUMING that we would go for the proposal (only use the to tag, from
tag, and call-id), my question is: 

For what do we need the To- and From URLs for after the call has been
setup (after the initial INVITE transaction, that is)? Will it be needed
for any mid-session request, since the nodes use the established route
to forward the messages?

So, an INFO could look something like:

INFO sip:111@123.456.78.90
To:;tag=12354354
From:;tag=ehrkekd
Call-ID:1234@111.222.333.444

Now, I KNOW that this isn't backward compatible, since the HOST part is
currently mandatory in the To- and From URLs. However, that could be
solved by keeping the HOST part of the URLs in every message, but
removing the USER part - or simply to add some "dummy" USER part.

INFO sip:111@123.456.78.90
To:you;tag=12354354
From:me;tag=ehrkekd
Call-ID:1234@111.222.333.444

It would save us a few bytes, and it would add a little security since
we won't send all user information in every message.

Just some thoughts...

Regards,

Christer Holmberg
Ericsson Finland




Brett Tate wrote:
> 
> > Issue:
> >
> > An interesting proposal is to modify the definition of
> > call-leg, so that is
> > the
> > to tag, from tag, and call-id. This is different from the
> > current definition
> > in
> > that the URLs are dropped.
> >
> > Discussion:
> >
> > This approach has some important benefits:
> >
> > 1. overlap dialing now becomes easier. Each digit can be added as a
> > re-invite
> > with in the same call-leg (assuming re-invites can be sent
> > within a call leg
> >
> > before the previous completes - thats another issue) but with
> > a different
> > To/R-uri. Since the To URL is not part of the call-leg ID
> > process, this new
> > request can be part of the same call leg. However, the
> > current proposal is
> > to not allow overllaping INVITE, so this may be moot.
> >
> > 2. A invites B, which is proxied to C. C sends a re-INVITE
> > back to A. The
> > From
> > field in the request from C is wrong! We'd like to maintain
> > the idempotency
> > of
> > INVITE, so that the from field is always the logical identity
> > of the caller,
> > no
> > matter when its sent. So, B could include its actual URL in
> > the From field
> > of the re-INVITE. Since the call leg ID is based only on
> > tags, this would
> > work.
> >
> > 3. Call leg lookups are now oodles easier, since they are
> > just based on
> > case-sensitive string compares. No more messy URL
> > comparisons. However, its
> > worth noting that you can still do this anyway, since tags have to be
> > globally unique. That is, even though the spec says its the full
> > To/From/Call-ID, you could just use tags/Call-ID to index
> > legs at a UA. What
> > you wouldn't be able to do is change the From/To URLs in subsequent
> > requests, as above in (2).
> >
> > 4. The Replaces header gets shortened; its now easier to
> > identify the call
> > leg
> > thats getting replaced. May not be a big deal.
> >
> > 5. This may work with existing proxies, but has compatibility
> > issues with
> > existing
> > UAs. A simple SUpported token would handle this, though.
> >
> >
> > Given that (1) is moot, (3) is possible without this
> > proposal, (4) is not
> > too important, the only real benefit is (2), that you can
> > send the right
> > From header in a re-INVITE. Now, an argument here is that
> > anybody who makes
> > policy decisions based on the From header anyway is in
> > trouble, since its
> > client supplied. Thus, you need to authenticate, and the credentials
> > provided (or the Remote-Party-ID header) are what you would
> > use anyway. So,
> > who cares if the From header is not right in the re-INVITE anyway.
> >
> > Proposal:
> >
> > So, given the limited utility, and the potential interop problems, the
> > proposal is to keep the current wording.
> 
> The proposal sounds fine.
> 
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Dec 13 10:15:34 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id KAA22015
	for <sip-archive@odin.ietf.org>; Thu, 13 Dec 2001 10:15:34 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id KAA01328
	for sip-archive@odin.ietf.org; Thu, 13 Dec 2001 10:15:35 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id JAA00301;
	Thu, 13 Dec 2001 09:55:15 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id JAA00266
	for <sip@optimus.ietf.org>; Thu, 13 Dec 2001 09:55:13 -0500 (EST)
Received: from ws1-7.us4.outblaze.com (205-158-62-57.outblaze.com [205.158.62.57])
	by ietf.org (8.9.1a/8.9.1a) with SMTP id JAA21763
	for <sip@ietf.org>; Thu, 13 Dec 2001 09:55:10 -0500 (EST)
Received: (qmail 17511 invoked by uid 1001); 13 Dec 2001 14:54:42 -0000
Message-ID: <20011213145442.17510.qmail@mail.com>
Content-Type: text/plain; charset="iso-8859-1"
Content-Disposition: inline
Content-Transfer-Encoding: 7bit
MIME-Version: 1.0
X-Mailer: MIME-tools 5.41 (Entity 5.404)
Received: from ws1-7.us4.outblaze.com for [212.208.74.200] via web-mailer
    on Thu, 13 Dec 2001 22:54:41 +0800
From: "JF Rey" <jfr@post.com>
To: sip@ietf.org
Date: Thu, 13 Dec 2001 22:54:41 +0800
Content-Transfer-Encoding: 7bit
Subject: [Sip] draft-ietf-sip-refer-02 - SHOULD strength when sending NOTIFY
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Hi,

I'm a bit confused about the way NOTIFY are used by the "referee" party.

referer              referee
 |====== SIP session ===|
 |--------REFER-------> |
 |<--------202--------- |----INVITE -->
 |                      |<---180------
        ... quite a long time ...
 |<------NOTIFY ------  |<---200------ 
 |----------200-------->|
 |---------- BYE ------>|

draft-ietf-sip-refer-02 states :
"3.5.3.1 Using NOTIFY
Once it is known whether the reference succeeded or failed, the UA receiving the REFER SHOULD notify the agent sending the refer using the NOTIFY mechanism [...]"

All the example flows I've seen around use the NOTIFY mechanism whenever a REFER is accepted. 

If I understand the "SHOULD" strength correctly, the referer can't know whether the referee will send a NOTIFY. So it can't know when to stop waiting for a NOTIFY and when to send a BYE. I think that's quite awkward. 

Besides, I understand that nothing prevents a referee to send NOTIFY on provisional responses (and not only on final responses). But the way the sentence is written : "whether the reference succeeded or failed" does not really take provisional responses into account. No example in draft-ietf-sip-cc-transfer-05.txt shows NOTIFY triggered by 1xx. If the referee INVITEs a human, the referer may have a very long time to wait before receiving a NOTIFY triggered by the 200 response to the INVITE.

Do people implement REFER without the NOTIFY mechanism ? If we can't change the SHOULD strength, could we have a way for the referee to indicate that it will send NOTIFY ? Could the wording in 3.5.3.1 include NOTIFY on provisional responses ?

Jean-Francois.
-- 

_______________________________________________
Sign-up for your own FREE Personalized E-mail at Mail.com
http://www.mail.com/?sr=signup


1 cent a minute calls anywhere in the U.S.!

http://www.getpennytalk.com/cgi-bin/adforward.cgi?p_key=RG9853KJ&url=http://www.getpennytalk.com



_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Dec 13 11:29:01 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id LAA23250
	for <sip-archive@odin.ietf.org>; Thu, 13 Dec 2001 11:29:01 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id LAA03938
	for sip-archive@odin.ietf.org; Thu, 13 Dec 2001 11:29:03 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id LAA03387;
	Thu, 13 Dec 2001 11:07:37 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id LAA03353
	for <sip@optimus.ietf.org>; Thu, 13 Dec 2001 11:07:35 -0500 (EST)
Received: from mail1.dynamicsoft.com (mail1.dynamicsoft.com [63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id LAA22842
	for <sip@ietf.org>; Thu, 13 Dec 2001 11:07:27 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fBDG5QPr019668;
	Thu, 13 Dec 2001 11:05:26 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <YAN9ZPKS>; Thu, 13 Dec 2001 11:07:00 -0500
Message-ID: <9BF66EBF6BEFD942915B4D4D45C051F338E8A3@DYN-TX-EXCH-001.dynamicsoft.com>
From: Robert Sparks <rsparks@dynamicsoft.com>
To: "'JF Rey'" <jfr@post.com>, sip@ietf.org
Subject: RE: [Sip] draft-ietf-sip-refer-02 - SHOULD strength when sending 
	NOTIFY
Date: Thu, 13 Dec 2001 11:06:59 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

inline

> -----Original Message-----
> From: JF Rey [mailto:jfr@post.com]
> 
> Hi,
> 
> I'm a bit confused about the way NOTIFY are used by the 
> "referee" party.
> 
> referer              referee
>  |====== SIP session ===|
>  |--------REFER-------> |
>  |<--------202--------- |----INVITE -->
>  |                      |<---180------
>         ... quite a long time ...
>  |<------NOTIFY ------  |<---200------ 
>  |----------200-------->|
>  |---------- BYE ------>|
> 
> draft-ietf-sip-refer-02 states :
> "3.5.3.1 Using NOTIFY
> Once it is known whether the reference succeeded or failed, 
> the UA receiving the REFER SHOULD notify the agent sending 
> the refer using the NOTIFY mechanism [...]"
> 
> All the example flows I've seen around use the NOTIFY 
> mechanism whenever a REFER is accepted. 
> 
> If I understand the "SHOULD" strength correctly, the referer 
> can't know whether the referee will send a NOTIFY. So it 
> can't know when to stop waiting for a NOTIFY and when to send 
> a BYE. I think that's quite awkward. 

The referer is going to have to be prepared to never receive
a NOTIFY whether that requirement is a MUST or a SHOULD. IIRC, the
proponents of SHOULD earlier argued that they had systems where
they knew the referer did not care about the result and didn't want
the referee/network to be burdened with an effectively useless 
NOTIFY. However - later in the message you caused me to realize
we need to realign with sip-events. See below.

> 
> Besides, I understand that nothing prevents a referee to send 
> NOTIFY on provisional responses (and not only on final 
> responses). But the way the sentence is written : "whether 
> the reference succeeded or failed" does not really take 
> provisional responses into account. No example in 
> draft-ietf-sip-cc-transfer-05.txt shows NOTIFY triggered by 
> 1xx. If the referee INVITEs a human, the referer may have a 
> very long time to wait before receiving a NOTIFY triggered by 
> the 200 response to the INVITE.

This clarification has already been requested and will be added
to the drafts. I don't understand how the last sentence relates
to the rest of the paragraph though. It is correct in the presence
or absence of NOTIFYs carrying progress information.

> 
> Do people implement REFER without the NOTIFY mechanism ?

I don't know. If someone does it would help if they speak up.

>
> If 
> we can't change the SHOULD strength, could we have a way for 
> the referee to indicate that it will send NOTIFY ? 

The current sip-events draft requires an immediate notify,
so I think this may be moot. I think we need to align to that
change in sip-events - and the SHOULD you object to effectively
goes away. However, when implementing, you still need to protect
yourself against a NOTIFY never arriving for robustness.

>Could the 
> wording in 3.5.3.1 include NOTIFY on provisional responses ?
Yes


RjS

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Dec 13 12:58:50 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA25518
	for <sip-archive@odin.ietf.org>; Thu, 13 Dec 2001 12:58:50 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id MAA09432
	for sip-archive@odin.ietf.org; Thu, 13 Dec 2001 12:58:51 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA07941;
	Thu, 13 Dec 2001 12:30:10 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA07911
	for <sip@optimus.ietf.org>; Thu, 13 Dec 2001 12:30:07 -0500 (EST)
Received: from localhost.localdomain (251-196-131-12.bellhead.com [12.131.196.251])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA24695
	for <sip@ietf.org>; Thu, 13 Dec 2001 12:30:03 -0500 (EST)
Received: from cs.columbia.edu (202-202-131-12.bellhead.com [12.131.202.202])
	by localhost.localdomain (8.11.6/8.11.6) with ESMTP id fBDHQxj20321;
	Thu, 13 Dec 2001 10:26:59 -0700
Message-ID: <3C18E4D5.926DFB6A@cs.columbia.edu>
Date: Thu, 13 Dec 2001 10:26:45 -0700
From: Henning Schulzrinne <hgs@cs.columbia.edu>
Organization: Columbia University
X-Mailer: Mozilla 4.76 [en] (Windows NT 5.0; U)
X-Accept-Language: en
MIME-Version: 1.0
To: Christer Holmberg <christer.holmberg@lmf.ericsson.se>
CC: Flemming Andreasen <fandreas@cisco.com>,
        Jonathan Rosenberg <jdrosen@dynamicsoft.com>,
        "'brett@broadsoft.com'" <brett@broadsoft.com>, sip@ietf.org
Subject: Re: [Sip] Open Issue #188: Reply-To
References: <B65B4F8437968F488A01A940B21982BF02EF581E@DYN-EXCH-001.dynamicsoft.com> <3C14531E.5520E1FA@cisco.com> <3C185F66.C443FF59@lmf.ericsson.se>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit



Christer Holmberg wrote:
> 
> Hi,
> 
> In a SIP phone, there may be a "database" of previous incoming calls.
> Them, when I want to call someone back, I browse the database, pick one
> of the previous calls, get the Reply-To header value from that call and
> send the INVITE.
> 
> In a gateway, however, that probably wouldn't work. How does the
> gateway know how to which previous incoming call it shall map a new
> outgoing call? Yes, there are some specific scenarios where it may work,
> but those cases are very rare and non-generic I belive.

A gateway doesn't have the notion of responding to a call, so the
concept makes no sense. Think of email: if I just send you another email
(not hitting "Reply"), it will not use Reply-To, but use a "manual"
reply-to (e.g., your business card).

> 
> Then, a couple of questions:
> 
> Q1:
> 
> Eg in a mobile environement, what happens if I need to "update"
> the information I sent in the Reply-To? SIP defines a mechanism (using
> the REGISTER method) to update location servers, but not the end-user
> which have the Reply-To value. So, if I have sent different Reply-To
> header values to every user I've called, do I have to send REGISTER for
> all of those?
> 

Reply-To works best if you include a permanent address, not something
that changes every time you change your cell. We can't prevent somebody
from including nobody@127.0.0.1 in their Reply-To, in either mail or
SIP. 

> Q2:
> 
> Is it allowed to only include the HOST part in the header, and let the
> other party insert the USER part when it calls back?

I can see no reason to do this.



> 
> Regards,
> 
> Christer Holmberg
> Ericsson Finland
>

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Dec 13 13:48:18 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id NAA26676
	for <sip-archive@odin.ietf.org>; Thu, 13 Dec 2001 13:48:18 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id NAA12281
	for sip-archive@odin.ietf.org; Thu, 13 Dec 2001 13:48:20 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id NAA11488;
	Thu, 13 Dec 2001 13:35:23 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id NAA11456
	for <sip@optimus.ietf.org>; Thu, 13 Dec 2001 13:35:21 -0500 (EST)
Received: from sj-msg-core-1.cisco.com (sj-msg-core-1.cisco.com [171.71.163.11])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id NAA26271
	for <sip@ietf.org>; Thu, 13 Dec 2001 13:35:18 -0500 (EST)
Received: from imop.cisco.com (imop.cisco.com [171.69.11.44])
	by sj-msg-core-1.cisco.com (8.11.3/8.9.1) with ESMTP id fBDIYop08294;
	Thu, 13 Dec 2001 10:34:50 -0800 (PST)
Received: from 218-203-131-12.bellhead.com (ssh-sj1.cisco.com [171.68.225.134])
	by imop.cisco.com (Mirapoint)
	with ESMTP id ACD89005;
	Thu, 13 Dec 2001 10:34:49 -0800 (PST)
Date: Thu, 13 Dec 2001 11:35:12 -0800
From: Rohan Mahy <rohan@cisco.com>
To: sip@ietf.org
cc: rohan@cisco.com
Message-ID: <8663339.1008243312@localhost>
X-Mailer: Mulberry/2.1.2 (Win32 Demo)
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Content-Transfer-Encoding: 7bit
Subject: [Sip] Open Issue #113 : Overlapping INVITEs
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Hi Folks,

As I said in the meeting yesterday, I think overlapping INVITE transactions 
are VERY BAD.  This is a non-backwards compatible change to SIP that breaks 
existing behavior.

Only two justifications exist for making the change.  The first is early 
media, and the second is "that it might be useful in future."       The 
second argument does not justify breaking existing services that have been 
compliant with SIP all along.  I will also remind everyone of the IETF 
maxim that a protocol is perfect "not when there is nothing more to add, 
but when there is nothing to take away."

In terms of early media, Using an OFFER method for EARLY media offers in 
the forward direction is easy and does not break any existing 
services/behavior.  Thinking about multiple early reINVITEs in a forking 
scenario not only makes my head hurt, but I haven't seen an existance proof 
of a working flow.  I INVITE folks to put up or shut up on this one.

As an example of what goes wrong with reusing INVITE, take a forking proxy 
that does not Record-Route.  From RFC2543 all the way through bis-05, it is 
completely reasonable for a proxy to offer a service like Forward No Answer 
without needing to use Record-Route.  The flows below demonstrate some of 
the problems.

An INVITE (1) gets forked to B (1a).  If A sends a "early reINVITE" (2), it 
will go directly to B because the proxy did not record-route.  Other forks 
generated by that proxy don't do what they did in the past.  Specifically 
the proxy can't cancel its own branch because the CSeq for the CANCEL is 
stale.

comments welcome.

[i removed PRACKs for brevity, but nothing really changes.]

    |           |           |           |
    |INVITE(1)->|           |           |
    |           |INVITE(1a)>|           |
    |           |           |           |
    |           |<- 18x (1a)|           |
    |<- 18x (1a)|           |           |
    |           |           |           |
    |  ...      |           |           |
    |           |           |           |
    |- INVITE (2)---------->|           |
    |           |           |           |
    |           |<- 489 (1a)|           |
    |<- 489 (1a)|           |           |
    |           |           |           |
    |<------------- 18x (2)-|           |
    |           |           |           |
    |           |CANCEL(1a)>X  Stale    |
    |           |           |  CSeq     |
    |           |           |           |

Other potential scenarios


         A          Proxy        B           C
         |           |           |           |
         |INVITE(1)->|           |           |
         |           |INVITE(1a)>|           |
         |           |           |           |
         |           |<- 18x (1a)|           |
         |<- 18x (1a)|           |           |
         |           |           |           |
         |  ...      |           |           |
         |           |           |           |
         |- INVITE (2)---------->|           |
         |           |           |           |
         |           |<- 489 (1)-|           |
         |<- 489 (1)-|           |           |
         |           |-- INVITE (1b) ------->|
         |           |           |           |
         |           |<- 18x (1b)------------|
  Stale  X<- 18x (1b)|           |           |
  CSeq   |           |           |           |
         |<------------- 18x (2)-|           |
         |           |           |           |
         |           |           |           |


here is a working flow for early media using OFFER.


  A             Proxy           B             C
  |              |              |             |
  |-- INVITE --->|              |             |
  |              |-- INVITE --->|             |
  |              |              |             |
  |              |----------------- INVITE -->|
  |              |              |             |
  |              |<-- 18x ------|             |
  |<-- 18x ------|              |             |
  |              |<---------------- 18x ------|
  |<-- 18x ------|              |             |
  |              |              |             |
  |------------------ PRACK --->|             |
  |              |              |             |
  |-------------------------------- PRACK --->|
  |              |              |             |
  |<----------------- 200(PRACK)|             |
  |              |              |             |
  |<------------------------------- 200(PRACK)|
  |              |              |             |
  |<============================|             |
  |<==========================================|
  |              |              |             |
  |              |              |             |
  |              |              |             |
  |              |              |             |
  |------------------ OFFER --->|             |
  |<----------------- 200(OFFER)|             |
  |------------------------------- OFFER  --->|
  |<------------------------------ 200(OFFER)-|
  |              |              |             |
  |              |              |             |


thanks,
-rohan
 

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Dec 13 13:52:03 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id NAA26769
	for <sip-archive@odin.ietf.org>; Thu, 13 Dec 2001 13:52:03 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id NAA12494
	for sip-archive@odin.ietf.org; Thu, 13 Dec 2001 13:52:05 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id NAA11578;
	Thu, 13 Dec 2001 13:35:38 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id NAA11546
	for <sip@optimus.ietf.org>; Thu, 13 Dec 2001 13:35:35 -0500 (EST)
Received: from sj-msg-core-4.cisco.com (sj-msg-core-4.cisco.com [171.71.163.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id NAA26292
	for <sip@ietf.org>; Thu, 13 Dec 2001 13:35:32 -0500 (EST)
Received: from imop.cisco.com (imop.cisco.com [171.69.11.44])
	by sj-msg-core-4.cisco.com (8.11.3/8.9.1) with ESMTP id fBDIZ4621598;
	Thu, 13 Dec 2001 10:35:04 -0800 (PST)
Received: from 218-203-131-12.bellhead.com (ssh-sj1.cisco.com [171.68.225.134])
	by imop.cisco.com (Mirapoint)
	with ESMTP id ACD89013;
	Thu, 13 Dec 2001 10:35:02 -0800 (PST)
Date: Thu, 13 Dec 2001 11:33:31 -0800
From: Rohan Mahy <rohan@cisco.com>
To: sip@ietf.org
cc: rohan@cisco.com
Message-ID: <8562101.1008243211@218-203-131-12.bellhead.com>
X-Mailer: Mulberry/2.1.2 (Win32 Demo)
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Content-Transfer-Encoding: 7bit
Subject: [Sip] Open Issue #113 : Overlapping INVITEs
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Hi Folks,

As I said in the meeting yesterday, I think overlapping INVITE transactions 
are VERY BAD.  This is a non-backwards compatible change to SIP that breaks 
existing behavior.

Only two justifications exist for making the change.  The first is early 
media, and the second is "that it might be useful in future."       The 
second argument does not justify breaking existing services that have been 
compliant with SIP all along.  I will also remind everyone of the IETF 
maxim that a protocol is perfect "not when there is nothing more to add, 
but when there is nothing to take away."

In terms of early media, Using an OFFER method for EARLY media offers in 
the forward direction is easy and does not break any existing 
services/behavior.  Thinking about multiple early reINVITEs in a forking 
scenario not only makes my head hurt, but I haven't seen an existance proof 
of a working flow.  I INVITE folks to put up or shut up on this one.

As an example of what goes wrong with reusing INVITE, take a forking proxy 
that does not Record-Route.  From RFC2543 all the way through bis-05, it is 
completely reasonable for a proxy to offer a service like Forward No Answer 
without needing to use Record-Route.  The flows below demonstrate some of 
the problems.

An INVITE (1) gets forked to B (1a).  If A sends a "early reINVITE" (2), it 
will go directly to B because the proxy did not record-route.  Other forks 
generated by that proxy don't do what they did in the past.  Specifically 
the proxy can't cancel its own branch because the CSeq for the CANCEL is 
stale.

comments welcome.

[i removed PRACKs for brevity, but nothing really changes.]

    |           |           |           |
    |INVITE(1)->|           |           |
    |           |INVITE(1a)>|           |
    |           |           |           |
    |           |<- 18x (1a)|           |
    |<- 18x (1a)|           |           |
    |           |           |           |
    |  ...      |           |           |
    |           |           |           |
    |- INVITE (2)---------->|           |
    |           |           |           |
    |           |<- 489 (1a)|           |
    |<- 489 (1a)|           |           |
    |           |           |           |
    |<------------- 18x (2)-|           |
    |           |           |           |
    |           |CANCEL(1a)>X  Stale    |
    |           |           |  CSeq     |
    |           |           |           |

Other potential scenarios


         A          Proxy        B           C
         |           |           |           |
         |INVITE(1)->|           |           |
         |           |INVITE(1a)>|           |
         |           |           |           |
         |           |<- 18x (1a)|           |
         |<- 18x (1a)|           |           |
         |           |           |           |
         |  ...      |           |           |
         |           |           |           |
         |- INVITE (2)---------->|           |
         |           |           |           |
         |           |<- 489 (1)-|           |
         |<- 489 (1)-|           |           |
         |           |-- INVITE (1b) ------->|
         |           |           |           |
         |           |<- 18x (1b)------------|
  Stale  X<- 18x (1b)|           |           |
  CSeq   |           |           |           |
         |<------------- 18x (2)-|           |
         |           |           |           |
         |           |           |           |


here is a working flow for early media using OFFER.


  A             Proxy           B             C
  |              |              |             |
  |-- INVITE --->|              |             |
  |              |-- INVITE --->|             |
  |              |              |             |
  |              |----------------- INVITE -->|
  |              |              |             |
  |              |<-- 18x ------|             |
  |<-- 18x ------|              |             |
  |              |<---------------- 18x ------|
  |<-- 18x ------|              |             |
  |              |              |             |
  |------------------ PRACK --->|             |
  |              |              |             |
  |-------------------------------- PRACK --->|
  |              |              |             |
  |<----------------- 200(PRACK)|             |
  |              |              |             |
  |<------------------------------- 200(PRACK)|
  |              |              |             |
  |<============================|             |
  |<==========================================|
  |              |              |             |
  |              |              |             |
  |              |              |             |
  |              |              |             |
  |------------------ OFFER --->|             |
  |<----------------- 200(OFFER)|             |
  |------------------------------- OFFER  --->|
  |<------------------------------ 200(OFFER)-|
  |              |              |             |
  |              |              |             |


thanks,
-rohan


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Dec 13 13:52:57 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id NAA26821
	for <sip-archive@odin.ietf.org>; Thu, 13 Dec 2001 13:52:57 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id NAA12598
	for sip-archive@odin.ietf.org; Thu, 13 Dec 2001 13:52:59 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id NAA11538;
	Thu, 13 Dec 2001 13:35:33 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id NAA11503
	for <sip@optimus.ietf.org>; Thu, 13 Dec 2001 13:35:29 -0500 (EST)
Received: from sj-msg-core-4.cisco.com (sj-msg-core-4.cisco.com [171.71.163.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id NAA26279
	for <sip@ietf.org>; Thu, 13 Dec 2001 13:35:27 -0500 (EST)
Received: from imop.cisco.com (imop.cisco.com [171.69.11.44])
	by sj-msg-core-4.cisco.com (8.11.3/8.9.1) with ESMTP id fBDIYw621473;
	Thu, 13 Dec 2001 10:34:58 -0800 (PST)
Received: from 218-203-131-12.bellhead.com (ssh-sj1.cisco.com [171.68.225.134])
	by imop.cisco.com (Mirapoint)
	with ESMTP id ACD89009;
	Thu, 13 Dec 2001 10:34:57 -0800 (PST)
Date: Thu, 13 Dec 2001 11:35:20 -0800
From: Rohan Mahy <rohan@cisco.com>
To: sip@ietf.org
cc: rohan@cisco.com
Message-ID: <8671644.1008243320@localhost>
X-Mailer: Mulberry/2.1.2 (Win32 Demo)
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Content-Transfer-Encoding: 7bit
Subject: [Sip] Open Issue #113 : Overlapping INVITEs
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Hi Folks,

As I said in the meeting yesterday, I think overlapping INVITE transactions 
are VERY BAD.  This is a non-backwards compatible change to SIP that breaks 
existing behavior.

Only two justifications exist for making the change.  The first is early 
media, and the second is "that it might be useful in future."       The 
second argument does not justify breaking existing services that have been 
compliant with SIP all along.  I will also remind everyone of the IETF 
maxim that a protocol is perfect "not when there is nothing more to add, 
but when there is nothing to take away."

In terms of early media, Using an OFFER method for EARLY media offers in 
the forward direction is easy and does not break any existing 
services/behavior.  Thinking about multiple early reINVITEs in a forking 
scenario not only makes my head hurt, but I haven't seen an existance proof 
of a working flow.  I INVITE folks to put up or shut up on this one.

As an example of what goes wrong with reusing INVITE, take a forking proxy 
that does not Record-Route.  From RFC2543 all the way through bis-05, it is 
completely reasonable for a proxy to offer a service like Forward No Answer 
without needing to use Record-Route.  The flows below demonstrate some of 
the problems.

An INVITE (1) gets forked to B (1a).  If A sends a "early reINVITE" (2), it 
will go directly to B because the proxy did not record-route.  Other forks 
generated by that proxy don't do what they did in the past.  Specifically 
the proxy can't cancel its own branch because the CSeq for the CANCEL is 
stale.

comments welcome.

[i removed PRACKs for brevity, but nothing really changes.]

    |           |           |           |
    |INVITE(1)->|           |           |
    |           |INVITE(1a)>|           |
    |           |           |           |
    |           |<- 18x (1a)|           |
    |<- 18x (1a)|           |           |
    |           |           |           |
    |  ...      |           |           |
    |           |           |           |
    |- INVITE (2)---------->|           |
    |           |           |           |
    |           |<- 489 (1a)|           |
    |<- 489 (1a)|           |           |
    |           |           |           |
    |<------------- 18x (2)-|           |
    |           |           |           |
    |           |CANCEL(1a)>X  Stale    |
    |           |           |  CSeq     |
    |           |           |           |

Other potential scenarios


         A          Proxy        B           C
         |           |           |           |
         |INVITE(1)->|           |           |
         |           |INVITE(1a)>|           |
         |           |           |           |
         |           |<- 18x (1a)|           |
         |<- 18x (1a)|           |           |
         |           |           |           |
         |  ...      |           |           |
         |           |           |           |
         |- INVITE (2)---------->|           |
         |           |           |           |
         |           |<- 489 (1)-|           |
         |<- 489 (1)-|           |           |
         |           |-- INVITE (1b) ------->|
         |           |           |           |
         |           |<- 18x (1b)------------|
  Stale  X<- 18x (1b)|           |           |
  CSeq   |           |           |           |
         |<------------- 18x (2)-|           |
         |           |           |           |
         |           |           |           |


here is a working flow for early media using OFFER.


  A             Proxy           B             C
  |              |              |             |
  |-- INVITE --->|              |             |
  |              |-- INVITE --->|             |
  |              |              |             |
  |              |----------------- INVITE -->|
  |              |              |             |
  |              |<-- 18x ------|             |
  |<-- 18x ------|              |             |
  |              |<---------------- 18x ------|
  |<-- 18x ------|              |             |
  |              |              |             |
  |------------------ PRACK --->|             |
  |              |              |             |
  |-------------------------------- PRACK --->|
  |              |              |             |
  |<----------------- 200(PRACK)|             |
  |              |              |             |
  |<------------------------------- 200(PRACK)|
  |              |              |             |
  |<============================|             |
  |<==========================================|
  |              |              |             |
  |              |              |             |
  |              |              |             |
  |              |              |             |
  |------------------ OFFER --->|             |
  |<----------------- 200(OFFER)|             |
  |------------------------------- OFFER  --->|
  |<------------------------------ 200(OFFER)-|
  |              |              |             |
  |              |              |             |


thanks,
-rohan
 

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Dec 13 14:05:23 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id OAA27083
	for <sip-archive@odin.ietf.org>; Thu, 13 Dec 2001 14:05:23 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id OAA13621
	for sip-archive@odin.ietf.org; Thu, 13 Dec 2001 14:05:25 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id NAA12456;
	Thu, 13 Dec 2001 13:50:21 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id NAA12423
	for <sip@optimus.ietf.org>; Thu, 13 Dec 2001 13:50:18 -0500 (EST)
Received: from exchange.isc-software.com (apps.ifs.com [151.204.36.178] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id NAA26758
	for <sip@ietf.org>; Thu, 13 Dec 2001 13:50:15 -0500 (EST)
Received: from email.masconit.com ([12.107.104.100]) by exchange.isc-software.com with SMTP (Microsoft Exchange Internet Mail Service Version 5.5.2653.13)
	id Y2NBJPSY; Thu, 13 Dec 2001 13:52:02 -0500
Received: from RANJIT (TESTTWO [12.107.104.123]) by email.masconit.com with SMTP (Microsoft Exchange Internet Mail Service Version 5.5.2650.21)
	id Y2TJH8GZ; Thu, 13 Dec 2001 12:49:46 -0600
Reply-To: <ranjitka@email.masconit.com>
From: "Ranjit Avasarala" <ranjitka@email.masconit.com>
To: "'Robert Sparks'" <rsparks@dynamicsoft.com>, "'JF Rey'" <jfr@post.com>,
        <sip@ietf.org>
Subject: RE: [Sip] draft-ietf-sip-refer-02 - SHOULD strength when sending  NOTIFY
Date: Thu, 13 Dec 2001 12:54:28 -0600
Message-ID: <000701c18407$983b86c0$6900000a@RANJIT>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook CWS, Build 9.0.2416 (9.0.2910.0)
Importance: Normal
In-Reply-To: <9BF66EBF6BEFD942915B4D4D45C051F338E8A3@DYN-TX-EXCH-001.dynamicsoft.com>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

what does 202 signify?


Regards
Ranjit 

-----Original Message-----
From: Robert Sparks [mailto:rsparks@dynamicsoft.com]
Sent: Thursday, December 13, 2001 10:07 AM
To: 'JF Rey'; sip@ietf.org
Subject: RE: [Sip] draft-ietf-sip-refer-02 - SHOULD strength when
sending NOTIFY


inline

> -----Original Message-----
> From: JF Rey [mailto:jfr@post.com]
> 
> Hi,
> 
> I'm a bit confused about the way NOTIFY are used by the 
> "referee" party.
> 
> referer              referee
>  |====== SIP session ===|
>  |--------REFER-------> |
>  |<--------202--------- |----INVITE -->
>  |                      |<---180------
>         ... quite a long time ...
>  |<------NOTIFY ------  |<---200------ 
>  |----------200-------->|
>  |---------- BYE ------>|
> 
> draft-ietf-sip-refer-02 states :
> "3.5.3.1 Using NOTIFY
> Once it is known whether the reference succeeded or failed, 
> the UA receiving the REFER SHOULD notify the agent sending 
> the refer using the NOTIFY mechanism [...]"
> 
> All the example flows I've seen around use the NOTIFY 
> mechanism whenever a REFER is accepted. 
> 
> If I understand the "SHOULD" strength correctly, the referer 
> can't know whether the referee will send a NOTIFY. So it 
> can't know when to stop waiting for a NOTIFY and when to send 
> a BYE. I think that's quite awkward. 

The referer is going to have to be prepared to never receive
a NOTIFY whether that requirement is a MUST or a SHOULD. IIRC, the
proponents of SHOULD earlier argued that they had systems where
they knew the referer did not care about the result and didn't want
the referee/network to be burdened with an effectively useless 
NOTIFY. However - later in the message you caused me to realize
we need to realign with sip-events. See below.

> 
> Besides, I understand that nothing prevents a referee to send 
> NOTIFY on provisional responses (and not only on final 
> responses). But the way the sentence is written : "whether 
> the reference succeeded or failed" does not really take 
> provisional responses into account. No example in 
> draft-ietf-sip-cc-transfer-05.txt shows NOTIFY triggered by 
> 1xx. If the referee INVITEs a human, the referer may have a 
> very long time to wait before receiving a NOTIFY triggered by 
> the 200 response to the INVITE.

This clarification has already been requested and will be added
to the drafts. I don't understand how the last sentence relates
to the rest of the paragraph though. It is correct in the presence
or absence of NOTIFYs carrying progress information.

> 
> Do people implement REFER without the NOTIFY mechanism ?

I don't know. If someone does it would help if they speak up.

>
> If 
> we can't change the SHOULD strength, could we have a way for 
> the referee to indicate that it will send NOTIFY ? 

The current sip-events draft requires an immediate notify,
so I think this may be moot. I think we need to align to that
change in sip-events - and the SHOULD you object to effectively
goes away. However, when implementing, you still need to protect
yourself against a NOTIFY never arriving for robustness.

>Could the 
> wording in 3.5.3.1 include NOTIFY on provisional responses ?
Yes


RjS

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Dec 13 15:27:25 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA28667
	for <sip-archive@odin.ietf.org>; Thu, 13 Dec 2001 15:27:25 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id PAA17286
	for sip-archive@odin.ietf.org; Thu, 13 Dec 2001 15:27:26 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id PAA16756;
	Thu, 13 Dec 2001 15:13:49 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id PAA16729
	for <sip@optimus.ietf.org>; Thu, 13 Dec 2001 15:13:47 -0500 (EST)
Received: from cyberpackets.com (www.cyberpackets.com [64.85.4.11] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA28474
	for <sip@ietf.org>; Thu, 13 Dec 2001 15:13:44 -0500 (EST)
Received: from myg [200.81.194.4] by cyberpackets.com
  (SMTPD32-6.00) id AF0E7C80090; Thu, 13 Dec 2001 12:26:54 -0800
From: "Gabriel Velo" <gvelo@astartec.com>
To: "Sip@Ietf. Org" <sip@ietf.org>
Date: Thu, 13 Dec 2001 17:11:40 -0300
Message-ID: <MABBLHAMFMJBNDFLPFBGGECHCCAA.gvelo@astartec.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4522.1200
Content-Transfer-Encoding: 7bit
Subject: [Sip] Question about via headers and transactions matching
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Dear All,

When a UAS generate a response , this copy the top via header of the request
, but if the transport layer of UAS add a received parameter to the via
header of the request,  the UAC can't match the corresponding client
transactions due a received parameter.

this is right ?

is any match rule defined to the via header?

Regards.

Gabriel Velo


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Dec 13 16:04:30 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id QAA29227
	for <sip-archive@odin.ietf.org>; Thu, 13 Dec 2001 16:04:30 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id QAA19108
	for sip-archive@odin.ietf.org; Thu, 13 Dec 2001 16:04:31 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id PAA18319;
	Thu, 13 Dec 2001 15:52:17 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id PAA18219
	for <sip@optimus.ietf.org>; Thu, 13 Dec 2001 15:52:11 -0500 (EST)
Received: from zrc2s0jx.nortelnetworks.com (zrc2s0jx.nortelnetworks.com [47.103.122.112])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA29048
	for <sip@ietf.org>; Thu, 13 Dec 2001 15:52:09 -0500 (EST)
Received: from zrchb200.us.nortel.com (zrchb200.us.nortel.com [47.103.121.45])
	by zrc2s0jx.nortelnetworks.com (Switch-2.2.0/Switch-2.2.0) with ESMTP id fBDKpXm00475;
	Thu, 13 Dec 2001 14:51:33 -0600 (CST)
Received: by zrchb200.us.nortel.com with Internet Mail Service (5.5.2653.19)
	id <YXCBY550>; Thu, 13 Dec 2001 14:50:22 -0600
Message-ID: <EF1056F8EB4ED511B8FB0002A56079D41B42EC@zrc2c014.us.nortel.com>
From: "Sriram Parameswar" <sriramp@nortelnetworks.com>
To: "'ranjitka'" <ranjitka@email.masconit.com>,
        "'Robert Sparks'"
	 <rsparks@dynamicsoft.com>,
        "'JF Rey'" <jfr@post.com>, sip <sip@ietf.org>
Subject: RE: [Sip] draft-ietf-sip-refer-02 - SHOULD strength when sending 
	NOTIFY
Date: Thu, 13 Dec 2001 14:50:43 -0600
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C18417.D4E646E0"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

This message is in MIME format. Since your mail reader does not understand
this format, some or all of this message may not be legible.

------_=_NextPart_001_01C18417.D4E646E0
Content-Type: text/plain;
	charset="iso-8859-1"

202 signifies that the Transferee has "Accepted" your REFER. It is not an
indication of success or failure - that will come in the NOTIFY.

HTH.

Sriram

__________________________________________
Sriram Parameswar              Phone: 972-685-8540
Interactive Multimedia Server (IMS) Fax: 972-685-3563
Nortel Networks, Richardson USA  Email: sriramp@nortelnetworks.com


-----Original Message-----
From: Ranjit Avasarala [mailto:ranjitka@email.masconit.com]
Sent: Thursday, December 13, 2001 12:54 PM
To: 'Robert Sparks'; 'JF Rey'; sip
Subject: RE: [Sip] draft-ietf-sip-refer-02 - SHOULD strength when
sending NOTIFY


what does 202 signify?


Regards
Ranjit 

-----Original Message-----
From: Robert Sparks [mailto:rsparks@dynamicsoft.com]
Sent: Thursday, December 13, 2001 10:07 AM
To: 'JF Rey'; sip@ietf.org
Subject: RE: [Sip] draft-ietf-sip-refer-02 - SHOULD strength when
sending NOTIFY


inline

> -----Original Message-----
> From: JF Rey [mailto:jfr@post.com]
> 
> Hi,
> 
> I'm a bit confused about the way NOTIFY are used by the 
> "referee" party.
> 
> referer              referee
>  |====== SIP session ===|
>  |--------REFER-------> |
>  |<--------202--------- |----INVITE -->
>  |                      |<---180------
>         ... quite a long time ...
>  |<------NOTIFY ------  |<---200------ 
>  |----------200-------->|
>  |---------- BYE ------>|
> 
> draft-ietf-sip-refer-02 states :
> "3.5.3.1 Using NOTIFY
> Once it is known whether the reference succeeded or failed, 
> the UA receiving the REFER SHOULD notify the agent sending 
> the refer using the NOTIFY mechanism [...]"
> 
> All the example flows I've seen around use the NOTIFY 
> mechanism whenever a REFER is accepted. 
> 
> If I understand the "SHOULD" strength correctly, the referer 
> can't know whether the referee will send a NOTIFY. So it 
> can't know when to stop waiting for a NOTIFY and when to send 
> a BYE. I think that's quite awkward. 

The referer is going to have to be prepared to never receive
a NOTIFY whether that requirement is a MUST or a SHOULD. IIRC, the
proponents of SHOULD earlier argued that they had systems where
they knew the referer did not care about the result and didn't want
the referee/network to be burdened with an effectively useless 
NOTIFY. However - later in the message you caused me to realize
we need to realign with sip-events. See below.

> 
> Besides, I understand that nothing prevents a referee to send 
> NOTIFY on provisional responses (and not only on final 
> responses). But the way the sentence is written : "whether 
> the reference succeeded or failed" does not really take 
> provisional responses into account. No example in 
> draft-ietf-sip-cc-transfer-05.txt shows NOTIFY triggered by 
> 1xx. If the referee INVITEs a human, the referer may have a 
> very long time to wait before receiving a NOTIFY triggered by 
> the 200 response to the INVITE.

This clarification has already been requested and will be added
to the drafts. I don't understand how the last sentence relates
to the rest of the paragraph though. It is correct in the presence
or absence of NOTIFYs carrying progress information.

> 
> Do people implement REFER without the NOTIFY mechanism ?

I don't know. If someone does it would help if they speak up.

>
> If 
> we can't change the SHOULD strength, could we have a way for 
> the referee to indicate that it will send NOTIFY ? 

The current sip-events draft requires an immediate notify,
so I think this may be moot. I think we need to align to that
change in sip-events - and the SHOULD you object to effectively
goes away. However, when implementing, you still need to protect
yourself against a NOTIFY never arriving for robustness.

>Could the 
> wording in 3.5.3.1 include NOTIFY on provisional responses ?
Yes


RjS

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip

------_=_NextPart_001_01C18417.D4E646E0
Content-Type: text/html;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV=3D"Content-Type" CONTENT=3D"text/html; =
charset=3Diso-8859-1">
<META NAME=3D"Generator" CONTENT=3D"MS Exchange Server version =
5.5.2654.89">
<TITLE>RE: [Sip] draft-ietf-sip-refer-02 - SHOULD strength when sending =
NOTIFY</TITLE>
</HEAD>
<BODY>

<P><FONT SIZE=3D2>202 signifies that the Transferee has =
&quot;Accepted&quot; your REFER. It is not an indication of success or =
failure - that will come in the NOTIFY.</FONT></P>

<P><FONT SIZE=3D2>HTH.</FONT>
</P>

<P><FONT SIZE=3D2>Sriram</FONT>
</P>

<P><FONT SIZE=3D2>__________________________________________</FONT>
<BR><FONT SIZE=3D2>Sriram =
Parameswar&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&n=
bsp;&nbsp;&nbsp; Phone: 972-685-8540</FONT>
<BR><FONT SIZE=3D2>Interactive Multimedia Server (IMS) Fax: =
972-685-3563</FONT>
<BR><FONT SIZE=3D2>Nortel Networks, Richardson USA&nbsp; Email: =
sriramp@nortelnetworks.com</FONT>
</P>
<BR>

<P><FONT SIZE=3D2>-----Original Message-----</FONT>
<BR><FONT SIZE=3D2>From: Ranjit Avasarala [<A =
HREF=3D"mailto:ranjitka@email.masconit.com">mailto:ranjitka@email.mascon=
it.com</A>]</FONT>
<BR><FONT SIZE=3D2>Sent: Thursday, December 13, 2001 12:54 PM</FONT>
<BR><FONT SIZE=3D2>To: 'Robert Sparks'; 'JF Rey'; sip</FONT>
<BR><FONT SIZE=3D2>Subject: RE: [Sip] draft-ietf-sip-refer-02 - SHOULD =
strength when</FONT>
<BR><FONT SIZE=3D2>sending NOTIFY</FONT>
</P>
<BR>

<P><FONT SIZE=3D2>what does 202 signify?</FONT>
</P>
<BR>

<P><FONT SIZE=3D2>Regards</FONT>
<BR><FONT SIZE=3D2>Ranjit </FONT>
</P>

<P><FONT SIZE=3D2>-----Original Message-----</FONT>
<BR><FONT SIZE=3D2>From: Robert Sparks [<A =
HREF=3D"mailto:rsparks@dynamicsoft.com">mailto:rsparks@dynamicsoft.com</=
A>]</FONT>
<BR><FONT SIZE=3D2>Sent: Thursday, December 13, 2001 10:07 AM</FONT>
<BR><FONT SIZE=3D2>To: 'JF Rey'; sip@ietf.org</FONT>
<BR><FONT SIZE=3D2>Subject: RE: [Sip] draft-ietf-sip-refer-02 - SHOULD =
strength when</FONT>
<BR><FONT SIZE=3D2>sending NOTIFY</FONT>
</P>
<BR>

<P><FONT SIZE=3D2>inline</FONT>
</P>

<P><FONT SIZE=3D2>&gt; -----Original Message-----</FONT>
<BR><FONT SIZE=3D2>&gt; From: JF Rey [<A =
HREF=3D"mailto:jfr@post.com">mailto:jfr@post.com</A>]</FONT>
<BR><FONT SIZE=3D2>&gt; </FONT>
<BR><FONT SIZE=3D2>&gt; Hi,</FONT>
<BR><FONT SIZE=3D2>&gt; </FONT>
<BR><FONT SIZE=3D2>&gt; I'm a bit confused about the way NOTIFY are =
used by the </FONT>
<BR><FONT SIZE=3D2>&gt; &quot;referee&quot; party.</FONT>
<BR><FONT SIZE=3D2>&gt; </FONT>
<BR><FONT SIZE=3D2>&gt; =
referer&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp;&nbsp; referee</FONT>
<BR><FONT SIZE=3D2>&gt;&nbsp; |=3D=3D=3D=3D=3D=3D SIP session =
=3D=3D=3D|</FONT>
<BR><FONT SIZE=3D2>&gt;&nbsp; |--------REFER-------&gt; |</FONT>
<BR><FONT SIZE=3D2>&gt;&nbsp; |&lt;--------202--------- |----INVITE =
--&gt;</FONT>
<BR><FONT SIZE=3D2>&gt;&nbsp; =
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
|&lt;---180------</FONT>
<BR><FONT SIZE=3D2>&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
... quite a long time ...</FONT>
<BR><FONT SIZE=3D2>&gt;&nbsp; |&lt;------NOTIFY ------&nbsp; =
|&lt;---200------ </FONT>
<BR><FONT SIZE=3D2>&gt;&nbsp; |----------200--------&gt;|</FONT>
<BR><FONT SIZE=3D2>&gt;&nbsp; |---------- BYE ------&gt;|</FONT>
<BR><FONT SIZE=3D2>&gt; </FONT>
<BR><FONT SIZE=3D2>&gt; draft-ietf-sip-refer-02 states :</FONT>
<BR><FONT SIZE=3D2>&gt; &quot;3.5.3.1 Using NOTIFY</FONT>
<BR><FONT SIZE=3D2>&gt; Once it is known whether the reference =
succeeded or failed, </FONT>
<BR><FONT SIZE=3D2>&gt; the UA receiving the REFER SHOULD notify the =
agent sending </FONT>
<BR><FONT SIZE=3D2>&gt; the refer using the NOTIFY mechanism =
[...]&quot;</FONT>
<BR><FONT SIZE=3D2>&gt; </FONT>
<BR><FONT SIZE=3D2>&gt; All the example flows I've seen around use the =
NOTIFY </FONT>
<BR><FONT SIZE=3D2>&gt; mechanism whenever a REFER is accepted. </FONT>
<BR><FONT SIZE=3D2>&gt; </FONT>
<BR><FONT SIZE=3D2>&gt; If I understand the &quot;SHOULD&quot; strength =
correctly, the referer </FONT>
<BR><FONT SIZE=3D2>&gt; can't know whether the referee will send a =
NOTIFY. So it </FONT>
<BR><FONT SIZE=3D2>&gt; can't know when to stop waiting for a NOTIFY =
and when to send </FONT>
<BR><FONT SIZE=3D2>&gt; a BYE. I think that's quite awkward. </FONT>
</P>

<P><FONT SIZE=3D2>The referer is going to have to be prepared to never =
receive</FONT>
<BR><FONT SIZE=3D2>a NOTIFY whether that requirement is a MUST or a =
SHOULD. IIRC, the</FONT>
<BR><FONT SIZE=3D2>proponents of SHOULD earlier argued that they had =
systems where</FONT>
<BR><FONT SIZE=3D2>they knew the referer did not care about the result =
and didn't want</FONT>
<BR><FONT SIZE=3D2>the referee/network to be burdened with an =
effectively useless </FONT>
<BR><FONT SIZE=3D2>NOTIFY. However - later in the message you caused me =
to realize</FONT>
<BR><FONT SIZE=3D2>we need to realign with sip-events. See =
below.</FONT>
</P>

<P><FONT SIZE=3D2>&gt; </FONT>
<BR><FONT SIZE=3D2>&gt; Besides, I understand that nothing prevents a =
referee to send </FONT>
<BR><FONT SIZE=3D2>&gt; NOTIFY on provisional responses (and not only =
on final </FONT>
<BR><FONT SIZE=3D2>&gt; responses). But the way the sentence is written =
: &quot;whether </FONT>
<BR><FONT SIZE=3D2>&gt; the reference succeeded or failed&quot; does =
not really take </FONT>
<BR><FONT SIZE=3D2>&gt; provisional responses into account. No example =
in </FONT>
<BR><FONT SIZE=3D2>&gt; draft-ietf-sip-cc-transfer-05.txt shows NOTIFY =
triggered by </FONT>
<BR><FONT SIZE=3D2>&gt; 1xx. If the referee INVITEs a human, the =
referer may have a </FONT>
<BR><FONT SIZE=3D2>&gt; very long time to wait before receiving a =
NOTIFY triggered by </FONT>
<BR><FONT SIZE=3D2>&gt; the 200 response to the INVITE.</FONT>
</P>

<P><FONT SIZE=3D2>This clarification has already been requested and =
will be added</FONT>
<BR><FONT SIZE=3D2>to the drafts. I don't understand how the last =
sentence relates</FONT>
<BR><FONT SIZE=3D2>to the rest of the paragraph though. It is correct =
in the presence</FONT>
<BR><FONT SIZE=3D2>or absence of NOTIFYs carrying progress =
information.</FONT>
</P>

<P><FONT SIZE=3D2>&gt; </FONT>
<BR><FONT SIZE=3D2>&gt; Do people implement REFER without the NOTIFY =
mechanism ?</FONT>
</P>

<P><FONT SIZE=3D2>I don't know. If someone does it would help if they =
speak up.</FONT>
</P>

<P><FONT SIZE=3D2>&gt;</FONT>
<BR><FONT SIZE=3D2>&gt; If </FONT>
<BR><FONT SIZE=3D2>&gt; we can't change the SHOULD strength, could we =
have a way for </FONT>
<BR><FONT SIZE=3D2>&gt; the referee to indicate that it will send =
NOTIFY ? </FONT>
</P>

<P><FONT SIZE=3D2>The current sip-events draft requires an immediate =
notify,</FONT>
<BR><FONT SIZE=3D2>so I think this may be moot. I think we need to =
align to that</FONT>
<BR><FONT SIZE=3D2>change in sip-events - and the SHOULD you object to =
effectively</FONT>
<BR><FONT SIZE=3D2>goes away. However, when implementing, you still =
need to protect</FONT>
<BR><FONT SIZE=3D2>yourself against a NOTIFY never arriving for =
robustness.</FONT>
</P>

<P><FONT SIZE=3D2>&gt;Could the </FONT>
<BR><FONT SIZE=3D2>&gt; wording in 3.5.3.1 include NOTIFY on =
provisional responses ?</FONT>
<BR><FONT SIZE=3D2>Yes</FONT>
</P>
<BR>

<P><FONT SIZE=3D2>RjS</FONT>
</P>

<P><FONT =
SIZE=3D2>_______________________________________________</FONT>
<BR><FONT SIZE=3D2>Sip mailing list&nbsp; <A =
HREF=3D"http://www1.ietf.org/mailman/listinfo/sip" =
TARGET=3D"_blank">http://www1.ietf.org/mailman/listinfo/sip</A></FONT>
<BR><FONT SIZE=3D2>This list is for NEW development of the core SIP =
Protocol</FONT>
<BR><FONT SIZE=3D2>Use sip-implementors@cs.columbia.edu for questions =
on current sip</FONT>
<BR><FONT SIZE=3D2>Use sipping@ietf.org for new developments on the =
application of sip</FONT>
</P>

<P><FONT =
SIZE=3D2>_______________________________________________</FONT>
<BR><FONT SIZE=3D2>Sip mailing list&nbsp; <A =
HREF=3D"http://www1.ietf.org/mailman/listinfo/sip" =
TARGET=3D"_blank">http://www1.ietf.org/mailman/listinfo/sip</A></FONT>
<BR><FONT SIZE=3D2>This list is for NEW development of the core SIP =
Protocol</FONT>
<BR><FONT SIZE=3D2>Use sip-implementors@cs.columbia.edu for questions =
on current sip</FONT>
<BR><FONT SIZE=3D2>Use sipping@ietf.org for new developments on the =
application of sip</FONT>
</P>

</BODY>
</HTML>
------_=_NextPart_001_01C18417.D4E646E0--

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Dec 13 16:15:03 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id QAA29351
	for <sip-archive@odin.ietf.org>; Thu, 13 Dec 2001 16:15:03 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id QAA19490
	for sip-archive@odin.ietf.org; Thu, 13 Dec 2001 16:15:05 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id QAA19092;
	Thu, 13 Dec 2001 16:04:02 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id QAA19059
	for <sip@optimus.ietf.org>; Thu, 13 Dec 2001 16:03:59 -0500 (EST)
Received: from exchange.isc-software.com (apps.ifs.com [151.204.36.178] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id QAA29222
	for <sip@ietf.org>; Thu, 13 Dec 2001 16:03:57 -0500 (EST)
Received: from email.masconit.com ([12.107.104.100]) by exchange.isc-software.com with SMTP (Microsoft Exchange Internet Mail Service Version 5.5.2653.13)
	id Y2NBJQFL; Thu, 13 Dec 2001 16:05:44 -0500
Received: from RANJIT (TESTTWO [12.107.104.123]) by email.masconit.com with SMTP (Microsoft Exchange Internet Mail Service Version 5.5.2650.21)
	id Y2TJH9A5; Thu, 13 Dec 2001 15:03:27 -0600
Reply-To: <ranjitka@email.masconit.com>
From: "Ranjit Avasarala" <ranjitka@email.masconit.com>
To: "'Sriram Parameswar'" <sriramp@nortelnetworks.com>,
        "'Robert Sparks'" <rsparks@dynamicsoft.com>, "'JF Rey'" <jfr@post.com>,
        "'sip'" <sip@ietf.org>
Subject: RE: [Sip] draft-ietf-sip-refer-02 - SHOULD strength when sending NOTIFY
Date: Thu, 13 Dec 2001 15:08:08 -0600
Message-ID: <001901c1841a$44e578b0$6900000a@RANJIT>
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_001A_01C183E7.FA4B08B0"
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook CWS, Build 9.0.2416 (9.0.2910.0)
Importance: Normal
In-Reply-To: <EF1056F8EB4ED511B8FB0002A56079D41B42EC@zrc2c014.us.nortel.com>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

This is a multi-part message in MIME format.

------=_NextPart_000_001A_01C183E7.FA4B08B0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit

RE: [Sip] draft-ietf-sip-refer-02 - SHOULD strength when sending NOTIFYis it
a standard SIP message? like 200

Regards
Ranjit

  -----Original Message-----
  From: Sriram Parameswar [mailto:sriramp@nortelnetworks.com]
  Sent: Thursday, December 13, 2001 2:51 PM
  To: 'ranjitka'; 'Robert Sparks'; 'JF Rey'; sip
  Subject: RE: [Sip] draft-ietf-sip-refer-02 - SHOULD strength when sending
NOTIFY


  202 signifies that the Transferee has "Accepted" your REFER. It is not an
indication of success or failure - that will come in the NOTIFY.

  HTH.

  Sriram

  __________________________________________
  Sriram Parameswar              Phone: 972-685-8540
  Interactive Multimedia Server (IMS) Fax: 972-685-3563
  Nortel Networks, Richardson USA  Email: sriramp@nortelnetworks.com



  -----Original Message-----
  From: Ranjit Avasarala [mailto:ranjitka@email.masconit.com]
  Sent: Thursday, December 13, 2001 12:54 PM
  To: 'Robert Sparks'; 'JF Rey'; sip
  Subject: RE: [Sip] draft-ietf-sip-refer-02 - SHOULD strength when
  sending NOTIFY



  what does 202 signify?



  Regards
  Ranjit

  -----Original Message-----
  From: Robert Sparks [mailto:rsparks@dynamicsoft.com]
  Sent: Thursday, December 13, 2001 10:07 AM
  To: 'JF Rey'; sip@ietf.org
  Subject: RE: [Sip] draft-ietf-sip-refer-02 - SHOULD strength when
  sending NOTIFY



  inline

  > -----Original Message-----
  > From: JF Rey [mailto:jfr@post.com]
  >
  > Hi,
  >
  > I'm a bit confused about the way NOTIFY are used by the
  > "referee" party.
  >
  > referer              referee
  >  |====== SIP session ===|
  >  |--------REFER-------> |
  >  |<--------202--------- |----INVITE -->
  >  |                      |<---180------
  >         ... quite a long time ...
  >  |<------NOTIFY ------  |<---200------
  >  |----------200-------->|
  >  |---------- BYE ------>|
  >
  > draft-ietf-sip-refer-02 states :
  > "3.5.3.1 Using NOTIFY
  > Once it is known whether the reference succeeded or failed,
  > the UA receiving the REFER SHOULD notify the agent sending
  > the refer using the NOTIFY mechanism [...]"
  >
  > All the example flows I've seen around use the NOTIFY
  > mechanism whenever a REFER is accepted.
  >
  > If I understand the "SHOULD" strength correctly, the referer
  > can't know whether the referee will send a NOTIFY. So it
  > can't know when to stop waiting for a NOTIFY and when to send
  > a BYE. I think that's quite awkward.

  The referer is going to have to be prepared to never receive
  a NOTIFY whether that requirement is a MUST or a SHOULD. IIRC, the
  proponents of SHOULD earlier argued that they had systems where
  they knew the referer did not care about the result and didn't want
  the referee/network to be burdened with an effectively useless
  NOTIFY. However - later in the message you caused me to realize
  we need to realign with sip-events. See below.

  >
  > Besides, I understand that nothing prevents a referee to send
  > NOTIFY on provisional responses (and not only on final
  > responses). But the way the sentence is written : "whether
  > the reference succeeded or failed" does not really take
  > provisional responses into account. No example in
  > draft-ietf-sip-cc-transfer-05.txt shows NOTIFY triggered by
  > 1xx. If the referee INVITEs a human, the referer may have a
  > very long time to wait before receiving a NOTIFY triggered by
  > the 200 response to the INVITE.

  This clarification has already been requested and will be added
  to the drafts. I don't understand how the last sentence relates
  to the rest of the paragraph though. It is correct in the presence
  or absence of NOTIFYs carrying progress information.

  >
  > Do people implement REFER without the NOTIFY mechanism ?

  I don't know. If someone does it would help if they speak up.

  >
  > If
  > we can't change the SHOULD strength, could we have a way for
  > the referee to indicate that it will send NOTIFY ?

  The current sip-events draft requires an immediate notify,
  so I think this may be moot. I think we need to align to that
  change in sip-events - and the SHOULD you object to effectively
  goes away. However, when implementing, you still need to protect
  yourself against a NOTIFY never arriving for robustness.

  >Could the
  > wording in 3.5.3.1 include NOTIFY on provisional responses ?
  Yes



  RjS

  _______________________________________________
  Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
  This list is for NEW development of the core SIP Protocol
  Use sip-implementors@cs.columbia.edu for questions on current sip
  Use sipping@ietf.org for new developments on the application of sip

  _______________________________________________
  Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
  This list is for NEW development of the core SIP Protocol
  Use sip-implementors@cs.columbia.edu for questions on current sip
  Use sipping@ietf.org for new developments on the application of sip


------=_NextPart_000_001A_01C183E7.FA4B08B0
Content-Type: text/html;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML><HEAD>
<META HTTP-EQUIV=3D"Content-Type" CONTENT=3D"text/html; =
charset=3Diso-8859-1">
<TITLE>RE: [Sip] draft-ietf-sip-refer-02 - SHOULD strength when sending =
NOTIFY</TITLE>

<META content=3D"MSHTML 6.00.2600.0" name=3DGENERATOR></HEAD>
<BODY>
<DIV><SPAN class=3D954450721-13122001><FONT face=3DArial color=3D#008080 =
size=3D2>is it=20
a standard SIP message? like 200 </FONT></SPAN></DIV>
<DIV>&nbsp;</DIV>
<P><FONT size=3D2>Regards<BR>Ranjit </FONT></P>
<BLOCKQUOTE dir=3Dltr style=3D"MARGIN-RIGHT: 0px">
  <DIV class=3DOutlookMessageHeader dir=3Dltr align=3Dleft><FONT =
face=3DTahoma=20
  size=3D2>-----Original Message-----<BR><B>From:</B> Sriram Parameswar=20
  [mailto:sriramp@nortelnetworks.com]<BR><B>Sent:</B> Thursday, December =
13,=20
  2001 2:51 PM<BR><B>To:</B> 'ranjitka'; 'Robert Sparks'; 'JF Rey';=20
  sip<BR><B>Subject:</B> RE: [Sip] draft-ietf-sip-refer-02 - SHOULD =
strength=20
  when sending NOTIFY<BR><BR></FONT></DIV>
  <P><FONT size=3D2>202 signifies that the Transferee has "Accepted" =
your REFER.=20
  It is not an indication of success or failure - that will come in the=20
  NOTIFY.</FONT></P>
  <P><FONT size=3D2>HTH.</FONT> </P>
  <P><FONT size=3D2>Sriram</FONT> </P>
  <P><FONT size=3D2>__________________________________________</FONT> =
<BR><FONT=20
  size=3D2>Sriram=20
  =
Parameswar&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nb=
sp;&nbsp;&nbsp;=20
  Phone: 972-685-8540</FONT> <BR><FONT size=3D2>Interactive Multimedia =
Server=20
  (IMS) Fax: 972-685-3563</FONT> <BR><FONT size=3D2>Nortel Networks, =
Richardson=20
  USA&nbsp; Email: sriramp@nortelnetworks.com</FONT> </P><BR>
  <P><FONT size=3D2>-----Original Message-----</FONT> <BR><FONT =
size=3D2>From:=20
  Ranjit Avasarala [<A=20
  =
href=3D"mailto:ranjitka@email.masconit.com">mailto:ranjitka@email.masconi=
t.com</A>]</FONT>=20
  <BR><FONT size=3D2>Sent: Thursday, December 13, 2001 12:54 PM</FONT> =
<BR><FONT=20
  size=3D2>To: 'Robert Sparks'; 'JF Rey'; sip</FONT> <BR><FONT =
size=3D2>Subject: RE:=20
  [Sip] draft-ietf-sip-refer-02 - SHOULD strength when</FONT> <BR><FONT=20
  size=3D2>sending NOTIFY</FONT> </P><BR>
  <P><FONT size=3D2>what does 202 signify?</FONT> </P><BR>
  <P><FONT size=3D2>Regards</FONT> <BR><FONT size=3D2>Ranjit </FONT></P>
  <P><FONT size=3D2>-----Original Message-----</FONT> <BR><FONT =
size=3D2>From:=20
  Robert Sparks [<A=20
  =
href=3D"mailto:rsparks@dynamicsoft.com">mailto:rsparks@dynamicsoft.com</A=
>]</FONT>=20
  <BR><FONT size=3D2>Sent: Thursday, December 13, 2001 10:07 AM</FONT> =
<BR><FONT=20
  size=3D2>To: 'JF Rey'; sip@ietf.org</FONT> <BR><FONT size=3D2>Subject: =
RE: [Sip]=20
  draft-ietf-sip-refer-02 - SHOULD strength when</FONT> <BR><FONT =
size=3D2>sending=20
  NOTIFY</FONT> </P><BR>
  <P><FONT size=3D2>inline</FONT> </P>
  <P><FONT size=3D2>&gt; -----Original Message-----</FONT> <BR><FONT =
size=3D2>&gt;=20
  From: JF Rey [<A =
href=3D"mailto:jfr@post.com">mailto:jfr@post.com</A>]</FONT>=20
  <BR><FONT size=3D2>&gt; </FONT><BR><FONT size=3D2>&gt; Hi,</FONT> =
<BR><FONT=20
  size=3D2>&gt; </FONT><BR><FONT size=3D2>&gt; I'm a bit confused about =
the way=20
  NOTIFY are used by the </FONT><BR><FONT size=3D2>&gt; "referee" =
party.</FONT>=20
  <BR><FONT size=3D2>&gt; </FONT><BR><FONT size=3D2>&gt;=20
  =
referer&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=
&nbsp;&nbsp;=20
  referee</FONT> <BR><FONT size=3D2>&gt;&nbsp; |=3D=3D=3D=3D=3D=3D SIP =
session =3D=3D=3D|</FONT>=20
  <BR><FONT size=3D2>&gt;&nbsp; |--------REFER-------&gt; |</FONT> =
<BR><FONT=20
  size=3D2>&gt;&nbsp; |&lt;--------202--------- |----INVITE =
--&gt;</FONT>=20
  <BR><FONT size=3D2>&gt;&nbsp;=20
  =
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=20
  |&lt;---180------</FONT> <BR><FONT=20
  size=3D2>&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ... =
quite a long=20
  time ...</FONT> <BR><FONT size=3D2>&gt;&nbsp; |&lt;------NOTIFY =
------&nbsp;=20
  |&lt;---200------ </FONT><BR><FONT size=3D2>&gt;&nbsp;=20
  |----------200--------&gt;|</FONT> <BR><FONT size=3D2>&gt;&nbsp; =
|---------- BYE=20
  ------&gt;|</FONT> <BR><FONT size=3D2>&gt; </FONT><BR><FONT =
size=3D2>&gt;=20
  draft-ietf-sip-refer-02 states :</FONT> <BR><FONT size=3D2>&gt; =
"3.5.3.1 Using=20
  NOTIFY</FONT> <BR><FONT size=3D2>&gt; Once it is known whether the =
reference=20
  succeeded or failed, </FONT><BR><FONT size=3D2>&gt; the UA receiving =
the REFER=20
  SHOULD notify the agent sending </FONT><BR><FONT size=3D2>&gt; the =
refer using=20
  the NOTIFY mechanism [...]"</FONT> <BR><FONT size=3D2>&gt; =
</FONT><BR><FONT=20
  size=3D2>&gt; All the example flows I've seen around use the NOTIFY=20
  </FONT><BR><FONT size=3D2>&gt; mechanism whenever a REFER is accepted. =

  </FONT><BR><FONT size=3D2>&gt; </FONT><BR><FONT size=3D2>&gt; If I =
understand the=20
  "SHOULD" strength correctly, the referer </FONT><BR><FONT =
size=3D2>&gt; can't=20
  know whether the referee will send a NOTIFY. So it </FONT><BR><FONT=20
  size=3D2>&gt; can't know when to stop waiting for a NOTIFY and when to =
send=20
  </FONT><BR><FONT size=3D2>&gt; a BYE. I think that's quite awkward. =
</FONT></P>
  <P><FONT size=3D2>The referer is going to have to be prepared to never =

  receive</FONT> <BR><FONT size=3D2>a NOTIFY whether that requirement is =
a MUST or=20
  a SHOULD. IIRC, the</FONT> <BR><FONT size=3D2>proponents of SHOULD =
earlier=20
  argued that they had systems where</FONT> <BR><FONT size=3D2>they knew =
the=20
  referer did not care about the result and didn't want</FONT> <BR><FONT =

  size=3D2>the referee/network to be burdened with an effectively =
useless=20
  </FONT><BR><FONT size=3D2>NOTIFY. However - later in the message you =
caused me=20
  to realize</FONT> <BR><FONT size=3D2>we need to realign with =
sip-events. See=20
  below.</FONT> </P>
  <P><FONT size=3D2>&gt; </FONT><BR><FONT size=3D2>&gt; Besides, I =
understand that=20
  nothing prevents a referee to send </FONT><BR><FONT size=3D2>&gt; =
NOTIFY on=20
  provisional responses (and not only on final </FONT><BR><FONT =
size=3D2>&gt;=20
  responses). But the way the sentence is written : "whether =
</FONT><BR><FONT=20
  size=3D2>&gt; the reference succeeded or failed" does not really take=20
  </FONT><BR><FONT size=3D2>&gt; provisional responses into account. No =
example in=20
  </FONT><BR><FONT size=3D2>&gt; draft-ietf-sip-cc-transfer-05.txt shows =
NOTIFY=20
  triggered by </FONT><BR><FONT size=3D2>&gt; 1xx. If the referee =
INVITEs a human,=20
  the referer may have a </FONT><BR><FONT size=3D2>&gt; very long time =
to wait=20
  before receiving a NOTIFY triggered by </FONT><BR><FONT size=3D2>&gt; =
the 200=20
  response to the INVITE.</FONT> </P>
  <P><FONT size=3D2>This clarification has already been requested and =
will be=20
  added</FONT> <BR><FONT size=3D2>to the drafts. I don't understand how =
the last=20
  sentence relates</FONT> <BR><FONT size=3D2>to the rest of the =
paragraph though.=20
  It is correct in the presence</FONT> <BR><FONT size=3D2>or absence of =
NOTIFYs=20
  carrying progress information.</FONT> </P>
  <P><FONT size=3D2>&gt; </FONT><BR><FONT size=3D2>&gt; Do people =
implement REFER=20
  without the NOTIFY mechanism ?</FONT> </P>
  <P><FONT size=3D2>I don't know. If someone does it would help if they =
speak=20
  up.</FONT> </P>
  <P><FONT size=3D2>&gt;</FONT> <BR><FONT size=3D2>&gt; If =
</FONT><BR><FONT=20
  size=3D2>&gt; we can't change the SHOULD strength, could we have a way =
for=20
  </FONT><BR><FONT size=3D2>&gt; the referee to indicate that it will =
send NOTIFY=20
  ? </FONT></P>
  <P><FONT size=3D2>The current sip-events draft requires an immediate=20
  notify,</FONT> <BR><FONT size=3D2>so I think this may be moot. I think =
we need=20
  to align to that</FONT> <BR><FONT size=3D2>change in sip-events - and =
the SHOULD=20
  you object to effectively</FONT> <BR><FONT size=3D2>goes away. =
However, when=20
  implementing, you still need to protect</FONT> <BR><FONT =
size=3D2>yourself=20
  against a NOTIFY never arriving for robustness.</FONT> </P>
  <P><FONT size=3D2>&gt;Could the </FONT><BR><FONT size=3D2>&gt; wording =
in 3.5.3.1=20
  include NOTIFY on provisional responses ?</FONT> <BR><FONT =
size=3D2>Yes</FONT>=20
  </P><BR>
  <P><FONT size=3D2>RjS</FONT> </P>
  <P><FONT =
size=3D2>_______________________________________________</FONT>=20
  <BR><FONT size=3D2>Sip mailing list&nbsp; <A=20
  href=3D"http://www1.ietf.org/mailman/listinfo/sip"=20
  target=3D_blank>http://www1.ietf.org/mailman/listinfo/sip</A></FONT> =
<BR><FONT=20
  size=3D2>This list is for NEW development of the core SIP =
Protocol</FONT>=20
  <BR><FONT size=3D2>Use sip-implementors@cs.columbia.edu for questions =
on current=20
  sip</FONT> <BR><FONT size=3D2>Use sipping@ietf.org for new =
developments on the=20
  application of sip</FONT> </P>
  <P><FONT =
size=3D2>_______________________________________________</FONT>=20
  <BR><FONT size=3D2>Sip mailing list&nbsp; <A=20
  href=3D"http://www1.ietf.org/mailman/listinfo/sip"=20
  target=3D_blank>http://www1.ietf.org/mailman/listinfo/sip</A></FONT> =
<BR><FONT=20
  size=3D2>This list is for NEW development of the core SIP =
Protocol</FONT>=20
  <BR><FONT size=3D2>Use sip-implementors@cs.columbia.edu for questions =
on current=20
  sip</FONT> <BR><FONT size=3D2>Use sipping@ietf.org for new =
developments on the=20
  application of sip</FONT> </P></BLOCKQUOTE></BODY></HTML>

------=_NextPart_000_001A_01C183E7.FA4B08B0--


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Dec 13 16:36:32 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id QAA29732
	for <sip-archive@odin.ietf.org>; Thu, 13 Dec 2001 16:36:32 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id QAA20613
	for sip-archive@odin.ietf.org; Thu, 13 Dec 2001 16:36:33 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id QAA19925;
	Thu, 13 Dec 2001 16:25:51 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id QAA19894
	for <sip@optimus.ietf.org>; Thu, 13 Dec 2001 16:25:48 -0500 (EST)
Received: from broadsof.temp.veriohosting.com (broadsof.temp.veriohosting.com [161.58.239.68])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id QAA29551
	for <sip@ietf.org>; Thu, 13 Dec 2001 16:25:46 -0500 (EST)
Received: from tate ([64.243.180.244]) by broadsof.temp.veriohosting.com (8.11.6) id fBDLPl017649; Thu, 13 Dec 2001 16:25:48 -0500 (EST)
Reply-To: <brett@broadsoft.com>
From: "Brett Tate" <brett@broadsoft.com>
To: <sip@ietf.org>
Subject: RE: [Sip] Open Issue #113 : Overlapping INVITEs
Date: Thu, 13 Dec 2001 16:27:31 -0500
Message-ID: <005201c1841c$f97a5820$2b01a8c0@broadsoft.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook CWS, Build 9.0.2416 (9.0.2911.0)
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4522.1200
In-Reply-To: <8663339.1008243312@localhost>
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Rohan, 

Thanks for pointing out the issues related 
to forking proxies that don't record-route.  
It could be solved with the Proxy-Require.

It is likely too ugly/late/uncommon to 
resolve overlapping INVITEs within the bis.  
However the wording in the bis should not 
forbid an extension from dealing with the
issue.  The only benefit that I can see in 
explicitly forbidding overlapping INVITEs
is that it would enable an alternative 
proposal such as the OFFER to get more 
quickly accepted.

> -----Original Message-----
> From: sip-admin@ietf.org [mailto:sip-admin@ietf.org]On Behalf Of Rohan
> Mahy
> Sent: Thursday, December 13, 2001 2:35 PM
> To: sip@ietf.org
> Cc: rohan@cisco.com
> Subject: [Sip] Open Issue #113 : Overlapping INVITEs
> 
> 
> Hi Folks,
> 
> As I said in the meeting yesterday, I think overlapping 
> INVITE transactions 
> are VERY BAD.  This is a non-backwards compatible change to 
> SIP that breaks 
> existing behavior.
> 
> Only two justifications exist for making the change.  The 
> first is early 
> media, and the second is "that it might be useful in future." 
>       The 
> second argument does not justify breaking existing services 
> that have been 
> compliant with SIP all along.  I will also remind everyone of 
> the IETF 
> maxim that a protocol is perfect "not when there is nothing 
> more to add, 
> but when there is nothing to take away."
> 
> In terms of early media, Using an OFFER method for EARLY 
> media offers in 
> the forward direction is easy and does not break any existing 
> services/behavior.  Thinking about multiple early reINVITEs 
> in a forking 
> scenario not only makes my head hurt, but I haven't seen an 
> existance proof 
> of a working flow.  I INVITE folks to put up or shut up on this one.
> 
> As an example of what goes wrong with reusing INVITE, take a 
> forking proxy 
> that does not Record-Route.  From RFC2543 all the way through 
> bis-05, it is 
> completely reasonable for a proxy to offer a service like 
> Forward No Answer 
> without needing to use Record-Route.  The flows below 
> demonstrate some of 
> the problems.
> 
> An INVITE (1) gets forked to B (1a).  If A sends a "early 
> reINVITE" (2), it 
> will go directly to B because the proxy did not record-route. 
>  Other forks 
> generated by that proxy don't do what they did in the past.  
> Specifically 
> the proxy can't cancel its own branch because the CSeq for 
> the CANCEL is 
> stale.
> 
> comments welcome.
> 
> [i removed PRACKs for brevity, but nothing really changes.]
> 
>     |           |           |           |
>     |INVITE(1)->|           |           |
>     |           |INVITE(1a)>|           |
>     |           |           |           |
>     |           |<- 18x (1a)|           |
>     |<- 18x (1a)|           |           |
>     |           |           |           |
>     |  ...      |           |           |
>     |           |           |           |
>     |- INVITE (2)---------->|           |
>     |           |           |           |
>     |           |<- 489 (1a)|           |
>     |<- 489 (1a)|           |           |
>     |           |           |           |
>     |<------------- 18x (2)-|           |
>     |           |           |           |
>     |           |CANCEL(1a)>X  Stale    |
>     |           |           |  CSeq     |
>     |           |           |           |
> 
> Other potential scenarios
> 
> 
>          A          Proxy        B           C
>          |           |           |           |
>          |INVITE(1)->|           |           |
>          |           |INVITE(1a)>|           |
>          |           |           |           |
>          |           |<- 18x (1a)|           |
>          |<- 18x (1a)|           |           |
>          |           |           |           |
>          |  ...      |           |           |
>          |           |           |           |
>          |- INVITE (2)---------->|           |
>          |           |           |           |
>          |           |<- 489 (1)-|           |
>          |<- 489 (1)-|           |           |
>          |           |-- INVITE (1b) ------->|
>          |           |           |           |
>          |           |<- 18x (1b)------------|
>   Stale  X<- 18x (1b)|           |           |
>   CSeq   |           |           |           |
>          |<------------- 18x (2)-|           |
>          |           |           |           |
>          |           |           |           |
> 
> 
> here is a working flow for early media using OFFER.
> 
> 
>   A             Proxy           B             C
>   |              |              |             |
>   |-- INVITE --->|              |             |
>   |              |-- INVITE --->|             |
>   |              |              |             |
>   |              |----------------- INVITE -->|
>   |              |              |             |
>   |              |<-- 18x ------|             |
>   |<-- 18x ------|              |             |
>   |              |<---------------- 18x ------|
>   |<-- 18x ------|              |             |
>   |              |              |             |
>   |------------------ PRACK --->|             |
>   |              |              |             |
>   |-------------------------------- PRACK --->|
>   |              |              |             |
>   |<----------------- 200(PRACK)|             |
>   |              |              |             |
>   |<------------------------------- 200(PRACK)|
>   |              |              |             |
>   |<============================|             |
>   |<==========================================|
>   |              |              |             |
>   |              |              |             |
>   |              |              |             |
>   |              |              |             |
>   |------------------ OFFER --->|             |
>   |<----------------- 200(OFFER)|             |
>   |------------------------------- OFFER  --->|
>   |<------------------------------ 200(OFFER)-|
>   |              |              |             |
>   |              |              |             |
> 
> 
> thanks,
> -rohan
>  
> 
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
> 
> 

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Dec 13 17:17:41 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id RAA00539
	for <sip-archive@odin.ietf.org>; Thu, 13 Dec 2001 17:17:41 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id RAA23082
	for sip-archive@odin.ietf.org; Thu, 13 Dec 2001 17:17:43 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id QAA21579;
	Thu, 13 Dec 2001 16:51:19 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id QAA21479
	for <sip@optimus.ietf.org>; Thu, 13 Dec 2001 16:51:14 -0500 (EST)
Received: from zrc2s0jx.nortelnetworks.com (zrc2s0jx.nortelnetworks.com [47.103.122.112])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id QAA00020
	for <sip@ietf.org>; Thu, 13 Dec 2001 16:51:11 -0500 (EST)
Received: from zrchb200.us.nortel.com (zrchb200.us.nortel.com [47.103.121.45])
	by zrc2s0jx.nortelnetworks.com (Switch-2.2.0/Switch-2.2.0) with ESMTP id fBDLofm13830;
	Thu, 13 Dec 2001 15:50:42 -0600 (CST)
Received: by zrchb200.us.nortel.com with Internet Mail Service (5.5.2653.19)
	id <YXCBY723>; Thu, 13 Dec 2001 15:49:29 -0600
Message-ID: <EF1056F8EB4ED511B8FB0002A56079D41B42ED@zrc2c014.us.nortel.com>
From: "Sriram Parameswar" <sriramp@nortelnetworks.com>
To: "'ranjitka'" <ranjitka@email.masconit.com>, "'sip'" <sip@ietf.org>
Subject: RE: [Sip] draft-ietf-sip-refer-02 - SHOULD strength when sending 
	NOTIFY
Date: Thu, 13 Dec 2001 15:49:39 -0600
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C18420.1095B0B0"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

This message is in MIME format. Since your mail reader does not understand
this format, some or all of this message may not be legible.

------_=_NextPart_001_01C18420.1095B0B0
Content-Type: text/plain;
	charset="iso-8859-1"

Yes - pls see Events Draft.
Sriram
 
 -----Original Message-----
From: Ranjit Avasarala [mailto:ranjitka@email.masconit.com]
Sent: Thursday, December 13, 2001 3:08 PM
To: Parameswar, Sriram [NGB:B692:EXCH]; 'Robert Sparks'; 'JF Rey'; 'sip'
Subject: RE: [Sip] draft-ietf-sip-refer-02 - SHOULD strength when sending
NOTIFY



is it a standard SIP message? like 200 
 

Regards
Ranjit 

-----Original Message-----
From: Sriram Parameswar [mailto:sriramp@nortelnetworks.com]
Sent: Thursday, December 13, 2001 2:51 PM
To: 'ranjitka'; 'Robert Sparks'; 'JF Rey'; sip
Subject: RE: [Sip] draft-ietf-sip-refer-02 - SHOULD strength when sending
NOTIFY



202 signifies that the Transferee has "Accepted" your REFER. It is not an
indication of success or failure - that will come in the NOTIFY.

HTH. 

Sriram 

__________________________________________ 
Sriram Parameswar              Phone: 972-685-8540 
Interactive Multimedia Server (IMS) Fax: 972-685-3563 
Nortel Networks, Richardson USA  Email: sriramp@nortelnetworks.com 


-----Original Message----- 
From: Ranjit Avasarala [ mailto:ranjitka@email.masconit.com
<mailto:ranjitka@email.masconit.com> ] 
Sent: Thursday, December 13, 2001 12:54 PM 
To: 'Robert Sparks'; 'JF Rey'; sip 
Subject: RE: [Sip] draft-ietf-sip-refer-02 - SHOULD strength when 
sending NOTIFY 


what does 202 signify? 


Regards 
Ranjit 

-----Original Message----- 
From: Robert Sparks [ mailto:rsparks@dynamicsoft.com
<mailto:rsparks@dynamicsoft.com> ] 
Sent: Thursday, December 13, 2001 10:07 AM 
To: 'JF Rey'; sip@ietf.org 
Subject: RE: [Sip] draft-ietf-sip-refer-02 - SHOULD strength when 
sending NOTIFY 


inline 

> -----Original Message----- 
> From: JF Rey [ mailto:jfr@post.com <mailto:jfr@post.com> ] 
> 
> Hi, 
> 
> I'm a bit confused about the way NOTIFY are used by the 
> "referee" party. 
> 
> referer              referee 
>  |====== SIP session ===| 
>  |--------REFER-------> | 
>  |<--------202--------- |----INVITE --> 
>  |                      |<---180------ 
>         ... quite a long time ... 
>  |<------NOTIFY ------  |<---200------ 
>  |----------200-------->| 
>  |---------- BYE ------>| 
> 
> draft-ietf-sip-refer-02 states : 
> "3.5.3.1 Using NOTIFY 
> Once it is known whether the reference succeeded or failed, 
> the UA receiving the REFER SHOULD notify the agent sending 
> the refer using the NOTIFY mechanism [...]" 
> 
> All the example flows I've seen around use the NOTIFY 
> mechanism whenever a REFER is accepted. 
> 
> If I understand the "SHOULD" strength correctly, the referer 
> can't know whether the referee will send a NOTIFY. So it 
> can't know when to stop waiting for a NOTIFY and when to send 
> a BYE. I think that's quite awkward. 

The referer is going to have to be prepared to never receive 
a NOTIFY whether that requirement is a MUST or a SHOULD. IIRC, the 
proponents of SHOULD earlier argued that they had systems where 
they knew the referer did not care about the result and didn't want 
the referee/network to be burdened with an effectively useless 
NOTIFY. However - later in the message you caused me to realize 
we need to realign with sip-events. See below. 

> 
> Besides, I understand that nothing prevents a referee to send 
> NOTIFY on provisional responses (and not only on final 
> responses). But the way the sentence is written : "whether 
> the reference succeeded or failed" does not really take 
> provisional responses into account. No example in 
> draft-ietf-sip-cc-transfer-05.txt shows NOTIFY triggered by 
> 1xx. If the referee INVITEs a human, the referer may have a 
> very long time to wait before receiving a NOTIFY triggered by 
> the 200 response to the INVITE. 

This clarification has already been requested and will be added 
to the drafts. I don't understand how the last sentence relates 
to the rest of the paragraph though. It is correct in the presence 
or absence of NOTIFYs carrying progress information. 

> 
> Do people implement REFER without the NOTIFY mechanism ? 

I don't know. If someone does it would help if they speak up. 

> 
> If 
> we can't change the SHOULD strength, could we have a way for 
> the referee to indicate that it will send NOTIFY ? 

The current sip-events draft requires an immediate notify, 
so I think this may be moot. I think we need to align to that 
change in sip-events - and the SHOULD you object to effectively 
goes away. However, when implementing, you still need to protect 
yourself against a NOTIFY never arriving for robustness. 

>Could the 
> wording in 3.5.3.1 include NOTIFY on provisional responses ? 
Yes 


RjS 

_______________________________________________ 
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
<http://www1.ietf.org/mailman/listinfo/sip>  
This list is for NEW development of the core SIP Protocol 
Use sip-implementors@cs.columbia.edu for questions on current sip 
Use sipping@ietf.org for new developments on the application of sip 

_______________________________________________ 
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
<http://www1.ietf.org/mailman/listinfo/sip>  
This list is for NEW development of the core SIP Protocol 
Use sip-implementors@cs.columbia.edu for questions on current sip 
Use sipping@ietf.org for new developments on the application of sip 


------_=_NextPart_001_01C18420.1095B0B0
Content-Type: text/html;
	charset="iso-8859-1"

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML><HEAD>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
<TITLE>RE: [Sip] draft-ietf-sip-refer-02 - SHOULD strength when sending NOTIFY</TITLE>

<META content="MSHTML 6.00.2600.0" name=GENERATOR></HEAD>
<BODY>
<DIV><SPAN class=372335321-13122001><FONT face=Arial color=#0000ff size=2>Yes - 
pls see Events Draft.</FONT></SPAN></DIV>
<DIV><SPAN class=372335321-13122001></SPAN><FONT face=Arial><FONT 
color=#0000ff><FONT size=2>S<SPAN class=372335321-13122001>riram</SPAN><BR><SPAN 
class=372335321-13122001>&nbsp;</SPAN></FONT></FONT></FONT></DIV>
<DIV><FONT face=Arial><FONT color=#0000ff><FONT size=2><SPAN 
class=372335321-13122001>&nbsp;</SPAN></FONT></FONT></FONT><FONT face=Tahoma 
size=2>-----Original Message-----<BR><B>From:</B> Ranjit Avasarala 
[mailto:ranjitka@email.masconit.com]<BR><B>Sent:</B> Thursday, December 13, 2001 
3:08 PM<BR><B>To:</B> Parameswar, Sriram [NGB:B692:EXCH]; 'Robert Sparks'; 'JF 
Rey'; 'sip'<BR><B>Subject:</B> RE: [Sip] draft-ietf-sip-refer-02 - SHOULD 
strength when sending NOTIFY<BR><BR></DIV></FONT>
<BLOCKQUOTE dir=ltr style="MARGIN-RIGHT: 0px">
  <DIV><SPAN class=954450721-13122001><FONT face=Arial color=#008080 size=2>is 
  it a standard SIP message? like 200 </FONT></SPAN></DIV>
  <DIV>&nbsp;</DIV>
  <P><FONT size=2>Regards<BR>Ranjit </FONT></P>
  <BLOCKQUOTE dir=ltr style="MARGIN-RIGHT: 0px">
    <DIV class=OutlookMessageHeader dir=ltr align=left><FONT face=Tahoma 
    size=2>-----Original Message-----<BR><B>From:</B> Sriram Parameswar 
    [mailto:sriramp@nortelnetworks.com]<BR><B>Sent:</B> Thursday, December 13, 
    2001 2:51 PM<BR><B>To:</B> 'ranjitka'; 'Robert Sparks'; 'JF Rey'; 
    sip<BR><B>Subject:</B> RE: [Sip] draft-ietf-sip-refer-02 - SHOULD strength 
    when sending NOTIFY<BR><BR></FONT></DIV>
    <P><FONT size=2>202 signifies that the Transferee has "Accepted" your REFER. 
    It is not an indication of success or failure - that will come in the 
    NOTIFY.</FONT></P>
    <P><FONT size=2>HTH.</FONT> </P>
    <P><FONT size=2>Sriram</FONT> </P>
    <P><FONT size=2>__________________________________________</FONT> <BR><FONT 
    size=2>Sriram 
    Parameswar&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
    Phone: 972-685-8540</FONT> <BR><FONT size=2>Interactive Multimedia Server 
    (IMS) Fax: 972-685-3563</FONT> <BR><FONT size=2>Nortel Networks, Richardson 
    USA&nbsp; Email: sriramp@nortelnetworks.com</FONT> </P><BR>
    <P><FONT size=2>-----Original Message-----</FONT> <BR><FONT size=2>From: 
    Ranjit Avasarala [<A 
    href="mailto:ranjitka@email.masconit.com">mailto:ranjitka@email.masconit.com</A>]</FONT> 
    <BR><FONT size=2>Sent: Thursday, December 13, 2001 12:54 PM</FONT> <BR><FONT 
    size=2>To: 'Robert Sparks'; 'JF Rey'; sip</FONT> <BR><FONT size=2>Subject: 
    RE: [Sip] draft-ietf-sip-refer-02 - SHOULD strength when</FONT> <BR><FONT 
    size=2>sending NOTIFY</FONT> </P><BR>
    <P><FONT size=2>what does 202 signify?</FONT> </P><BR>
    <P><FONT size=2>Regards</FONT> <BR><FONT size=2>Ranjit </FONT></P>
    <P><FONT size=2>-----Original Message-----</FONT> <BR><FONT size=2>From: 
    Robert Sparks [<A 
    href="mailto:rsparks@dynamicsoft.com">mailto:rsparks@dynamicsoft.com</A>]</FONT> 
    <BR><FONT size=2>Sent: Thursday, December 13, 2001 10:07 AM</FONT> <BR><FONT 
    size=2>To: 'JF Rey'; sip@ietf.org</FONT> <BR><FONT size=2>Subject: RE: [Sip] 
    draft-ietf-sip-refer-02 - SHOULD strength when</FONT> <BR><FONT 
    size=2>sending NOTIFY</FONT> </P><BR>
    <P><FONT size=2>inline</FONT> </P>
    <P><FONT size=2>&gt; -----Original Message-----</FONT> <BR><FONT size=2>&gt; 
    From: JF Rey [<A href="mailto:jfr@post.com">mailto:jfr@post.com</A>]</FONT> 
    <BR><FONT size=2>&gt; </FONT><BR><FONT size=2>&gt; Hi,</FONT> <BR><FONT 
    size=2>&gt; </FONT><BR><FONT size=2>&gt; I'm a bit confused about the way 
    NOTIFY are used by the </FONT><BR><FONT size=2>&gt; "referee" party.</FONT> 
    <BR><FONT size=2>&gt; </FONT><BR><FONT size=2>&gt; 
    referer&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
    referee</FONT> <BR><FONT size=2>&gt;&nbsp; |====== SIP session ===|</FONT> 
    <BR><FONT size=2>&gt;&nbsp; |--------REFER-------&gt; |</FONT> <BR><FONT 
    size=2>&gt;&nbsp; |&lt;--------202--------- |----INVITE --&gt;</FONT> 
    <BR><FONT size=2>&gt;&nbsp; 
    |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
    |&lt;---180------</FONT> <BR><FONT 
    size=2>&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ... quite a long 
    time ...</FONT> <BR><FONT size=2>&gt;&nbsp; |&lt;------NOTIFY ------&nbsp; 
    |&lt;---200------ </FONT><BR><FONT size=2>&gt;&nbsp; 
    |----------200--------&gt;|</FONT> <BR><FONT size=2>&gt;&nbsp; |---------- 
    BYE ------&gt;|</FONT> <BR><FONT size=2>&gt; </FONT><BR><FONT size=2>&gt; 
    draft-ietf-sip-refer-02 states :</FONT> <BR><FONT size=2>&gt; "3.5.3.1 Using 
    NOTIFY</FONT> <BR><FONT size=2>&gt; Once it is known whether the reference 
    succeeded or failed, </FONT><BR><FONT size=2>&gt; the UA receiving the REFER 
    SHOULD notify the agent sending </FONT><BR><FONT size=2>&gt; the refer using 
    the NOTIFY mechanism [...]"</FONT> <BR><FONT size=2>&gt; </FONT><BR><FONT 
    size=2>&gt; All the example flows I've seen around use the NOTIFY 
    </FONT><BR><FONT size=2>&gt; mechanism whenever a REFER is accepted. 
    </FONT><BR><FONT size=2>&gt; </FONT><BR><FONT size=2>&gt; If I understand 
    the "SHOULD" strength correctly, the referer </FONT><BR><FONT size=2>&gt; 
    can't know whether the referee will send a NOTIFY. So it </FONT><BR><FONT 
    size=2>&gt; can't know when to stop waiting for a NOTIFY and when to send 
    </FONT><BR><FONT size=2>&gt; a BYE. I think that's quite awkward. 
</FONT></P>
    <P><FONT size=2>The referer is going to have to be prepared to never 
    receive</FONT> <BR><FONT size=2>a NOTIFY whether that requirement is a MUST 
    or a SHOULD. IIRC, the</FONT> <BR><FONT size=2>proponents of SHOULD earlier 
    argued that they had systems where</FONT> <BR><FONT size=2>they knew the 
    referer did not care about the result and didn't want</FONT> <BR><FONT 
    size=2>the referee/network to be burdened with an effectively useless 
    </FONT><BR><FONT size=2>NOTIFY. However - later in the message you caused me 
    to realize</FONT> <BR><FONT size=2>we need to realign with sip-events. See 
    below.</FONT> </P>
    <P><FONT size=2>&gt; </FONT><BR><FONT size=2>&gt; Besides, I understand that 
    nothing prevents a referee to send </FONT><BR><FONT size=2>&gt; NOTIFY on 
    provisional responses (and not only on final </FONT><BR><FONT size=2>&gt; 
    responses). But the way the sentence is written : "whether </FONT><BR><FONT 
    size=2>&gt; the reference succeeded or failed" does not really take 
    </FONT><BR><FONT size=2>&gt; provisional responses into account. No example 
    in </FONT><BR><FONT size=2>&gt; draft-ietf-sip-cc-transfer-05.txt shows 
    NOTIFY triggered by </FONT><BR><FONT size=2>&gt; 1xx. If the referee INVITEs 
    a human, the referer may have a </FONT><BR><FONT size=2>&gt; very long time 
    to wait before receiving a NOTIFY triggered by </FONT><BR><FONT size=2>&gt; 
    the 200 response to the INVITE.</FONT> </P>
    <P><FONT size=2>This clarification has already been requested and will be 
    added</FONT> <BR><FONT size=2>to the drafts. I don't understand how the last 
    sentence relates</FONT> <BR><FONT size=2>to the rest of the paragraph 
    though. It is correct in the presence</FONT> <BR><FONT size=2>or absence of 
    NOTIFYs carrying progress information.</FONT> </P>
    <P><FONT size=2>&gt; </FONT><BR><FONT size=2>&gt; Do people implement REFER 
    without the NOTIFY mechanism ?</FONT> </P>
    <P><FONT size=2>I don't know. If someone does it would help if they speak 
    up.</FONT> </P>
    <P><FONT size=2>&gt;</FONT> <BR><FONT size=2>&gt; If </FONT><BR><FONT 
    size=2>&gt; we can't change the SHOULD strength, could we have a way for 
    </FONT><BR><FONT size=2>&gt; the referee to indicate that it will send 
    NOTIFY ? </FONT></P>
    <P><FONT size=2>The current sip-events draft requires an immediate 
    notify,</FONT> <BR><FONT size=2>so I think this may be moot. I think we need 
    to align to that</FONT> <BR><FONT size=2>change in sip-events - and the 
    SHOULD you object to effectively</FONT> <BR><FONT size=2>goes away. However, 
    when implementing, you still need to protect</FONT> <BR><FONT 
    size=2>yourself against a NOTIFY never arriving for robustness.</FONT> </P>
    <P><FONT size=2>&gt;Could the </FONT><BR><FONT size=2>&gt; wording in 
    3.5.3.1 include NOTIFY on provisional responses ?</FONT> <BR><FONT 
    size=2>Yes</FONT> </P><BR>
    <P><FONT size=2>RjS</FONT> </P>
    <P><FONT size=2>_______________________________________________</FONT> 
    <BR><FONT size=2>Sip mailing list&nbsp; <A 
    href="http://www1.ietf.org/mailman/listinfo/sip" 
    target=_blank>http://www1.ietf.org/mailman/listinfo/sip</A></FONT> <BR><FONT 
    size=2>This list is for NEW development of the core SIP Protocol</FONT> 
    <BR><FONT size=2>Use sip-implementors@cs.columbia.edu for questions on 
    current sip</FONT> <BR><FONT size=2>Use sipping@ietf.org for new 
    developments on the application of sip</FONT> </P>
    <P><FONT size=2>_______________________________________________</FONT> 
    <BR><FONT size=2>Sip mailing list&nbsp; <A 
    href="http://www1.ietf.org/mailman/listinfo/sip" 
    target=_blank>http://www1.ietf.org/mailman/listinfo/sip</A></FONT> <BR><FONT 
    size=2>This list is for NEW development of the core SIP Protocol</FONT> 
    <BR><FONT size=2>Use sip-implementors@cs.columbia.edu for questions on 
    current sip</FONT> <BR><FONT size=2>Use sipping@ietf.org for new 
    developments on the application of sip</FONT> 
</P></BLOCKQUOTE></BLOCKQUOTE></BODY></HTML>

------_=_NextPart_001_01C18420.1095B0B0--

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Dec 13 17:42:56 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id RAA00828
	for <sip-archive@odin.ietf.org>; Thu, 13 Dec 2001 17:42:56 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id RAA24055
	for sip-archive@odin.ietf.org; Thu, 13 Dec 2001 17:42:54 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id RAA23257;
	Thu, 13 Dec 2001 17:24:13 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id RAA23224
	for <sip@optimus.ietf.org>; Thu, 13 Dec 2001 17:24:11 -0500 (EST)
Received: from calliope1.fm.intel.com (fmfdns01.fm.intel.com [132.233.247.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id RAA00607
	for <sip@ietf.org>; Thu, 13 Dec 2001 17:24:08 -0500 (EST)
Received: from fmsmsxvs043.fm.intel.com (fmsmsxv043-1.fm.intel.com [132.233.48.128])
	by calliope1.fm.intel.com (8.9.1a+p1/8.9.1/d: relay.m4,v 1.48 2001/12/13 16:27:50 root Exp $) with SMTP id WAA09023
	for <sip@ietf.org>; Thu, 13 Dec 2001 22:24:08 GMT
Received: from orsmsx26.jf.intel.com ([192.168.65.26])
 by fmsmsxvs043.fm.intel.com (NAVGW 2.5.1.16) with SMTP id M2001121314231904617
 ; Thu, 13 Dec 2001 14:23:19 -0800
Received: by orsmsx26.jf.intel.com with Internet Mail Service (5.5.2653.19)
	id <YX6ALB10>; Thu, 13 Dec 2001 14:24:07 -0800
Message-ID: <F1CE15E08172D4119247009027AE9D501295F9D4@FMSMSX37>
From: "Gandhi, Chetan" <chetan@trillium.com>
To: "'bbyerly@us.ibm.com'" <bbyerly@us.ibm.com>,
        "'dougw@watson.ibm.com'" <dougw@watson.ibm.com>
Cc: "'sip@ietf.org'" <sip@ietf.org>
Date: Thu, 13 Dec 2001 14:24:06 -0800
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="ISO-8859-1"
Subject: [Sip] status of SIP and RADIUS
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

Hello,
	I do not see an updated version of draft-byerly-sip-radius-01.txt. 

	What is the status of this draft ? If it has died can someone please
tell me the reason why it died ? 

	I am currently looking at implementing AAA services using RADIUS. Is
there any other draft that talks about it.

thanks,
Chetan Gandhi


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Dec 13 18:22:10 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id SAA01659
	for <sip-archive@odin.ietf.org>; Thu, 13 Dec 2001 18:22:09 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id SAA26122
	for sip-archive@odin.ietf.org; Thu, 13 Dec 2001 18:22:12 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id SAA25867;
	Thu, 13 Dec 2001 18:16:48 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id SAA25836
	for <sip@optimus.ietf.org>; Thu, 13 Dec 2001 18:16:45 -0500 (EST)
Received: from mail1.dynamicsoft.com (mail1.dynamicsoft.com [63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id SAA01591
	for <sip@ietf.org>; Thu, 13 Dec 2001 18:16:41 -0500 (EST)
Received: from dynamicsoft.com ([63.113.46.156])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fBDNEgPr022979;
	Thu, 13 Dec 2001 18:14:42 -0500 (EST)
Message-ID: <3C1936BB.3BB2E294@dynamicsoft.com>
Date: Thu, 13 Dec 2001 18:16:11 -0500
From: Anders Kristensen <akristensen@dynamicsoft.com>
X-Mailer: Mozilla 4.75 [en] (Windows NT 5.0; U)
X-Accept-Language: en
MIME-Version: 1.0
To: Rohan Mahy <rohan@cisco.com>
CC: sip@ietf.org
Subject: Re: [Sip] Open Issue #113 : Overlapping INVITEs
References: <8671644.1008243320@localhost>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit


Rohan Mahy wrote:
> 
> Hi Folks,
> 
> As I said in the meeting yesterday, I think overlapping INVITE transactions
> are VERY BAD.  This is a non-backwards compatible change to SIP that breaks
> existing behavior.

Does 2543 actually disallow overlapping INVITE transactions or do you
mean non-backwards compatible with bis-xx?

> 
> Only two justifications exist for making the change.  The first is early
> media, and the second is "that it might be useful in future."

It also makes for simpler code in some cases and allows for more
expedient operations.  INVITEs are now used for at least three different
purposes: modifying media setup, refreshing session timers, and checking
the status of a peer UA (eg because a media stream is failing). Allowing
overlapping INVITEs means it's not necessary to queue up, say, a mute
operation because a session refresh is in progress.

  The
> second argument does not justify breaking existing services that have been
> compliant with SIP all along.  I will also remind everyone of the IETF
> maxim that a protocol is perfect "not when there is nothing more to add,
> but when there is nothing to take away."

Well, this is removing a restriction so that should be OK :)

Anders

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@ns.ietf.org  Thu Dec 13 18:44:13 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id SAA02117
	for <sip-archive@odin.ietf.org>; Thu, 13 Dec 2001 18:44:13 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id SAA27239
	for sip-archive@odin.ietf.org; Thu, 13 Dec 2001 18:44:16 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id SAA26966;
	Thu, 13 Dec 2001 18:35:36 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id SAA26934
	for <sip@ns.ietf.org>; Thu, 13 Dec 2001 18:35:33 -0500 (EST)
Received: from mail3.dynamicsoft.com ([63.113.44.69])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id SAA01964
	for <sip@ietf.org>; Thu, 13 Dec 2001 18:35:29 -0500 (EST)
Received: from DYN-VA-EXCH-001.dynamicsoft.com ([63.114.208.70])
	by mail3.dynamicsoft.com (8.12.1/8.12.1) with ESMTP id fBDNZGVZ023269;
	Thu, 13 Dec 2001 18:35:16 -0500 (EST)
Received: by DYN-VA-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2650.21)
	id <YZKVG46D>; Thu, 13 Dec 2001 18:34:57 -0500
Message-ID: <9BF66EBF6BEFD942915B4D4D45C051F338E8AE@DYN-TX-EXCH-001.dynamicsoft.com>
From: Robert Sparks <rsparks@dynamicsoft.com>
To: Robert Sparks <rsparks@dynamicsoft.com>, "'JF Rey'" <jfr@post.com>,
        sip@ietf.org
Date: Thu, 13 Dec 2001 18:34:56 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2650.21)
Content-Type: text/plain;
	charset="iso-8859-1"
Subject: [Sip] Immediate NOTIFY to a REFER (or other implied subscriptions)
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

In the sip-events discussion in the SIP WG meeting I asked if 
REFER should hold to events immediate NOTIFY semantic. There
was short mixed discussion, but no conclusive consensus.

Private conversations since have suggested an implicit
SUBSCRIBE gets an implicit immediate NOTIFY.

Thoughts?

RjS

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@ns.ietf.org  Thu Dec 13 18:55:38 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id SAA02293
	for <sip-archive@odin.ietf.org>; Thu, 13 Dec 2001 18:55:38 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id SAA27606
	for sip-archive@odin.ietf.org; Thu, 13 Dec 2001 18:55:39 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id SAA27348;
	Thu, 13 Dec 2001 18:47:00 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id SAA27317
	for <sip@ns.ietf.org>; Thu, 13 Dec 2001 18:46:56 -0500 (EST)
Received: from cundall.co.uk (dorfl.roke.co.uk [193.118.205.3])
	by ietf.org (8.9.1a/8.9.1a) with SMTP id SAA02151
	for <sip@ietf.org>; Thu, 13 Dec 2001 18:46:47 -0500 (EST)
Received: from [193.118.192.111] (HELO [12.131.203.113]) by cundall.co.uk (Stalker SMTP Server 1.7) with ESMTP id S.0000060999; Thu, 13 Dec 2001 23:45:20 +0000
Mime-Version: 1.0
X-Sender: lwc@127.0.0.1
Message-Id: <p05100301b83eed777bf6@[12.131.200.106]>
In-Reply-To: 
  <9BF66EBF6BEFD942915B4D4D45C051F338E8AE@DYN-TX-EXCH-001.dynamicsoft.com>
References: 
  <9BF66EBF6BEFD942915B4D4D45C051F338E8AE@DYN-TX-EXCH-001.dynamicsoft.com>
Date: Thu, 13 Dec 2001 16:45:21 -0700
To: Robert Sparks <rsparks@dynamicsoft.com>, "'JF Rey'" <jfr@post.com>,
        sip@ietf.org
From: Lawrence Conroy <lwc@roke.co.uk>
Subject: Re: [Sip] Immediate NOTIFY to a REFER (or other implied
 subscriptions)
Content-Type: text/plain; charset="us-ascii" ; format="flowed"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

At 6:34 pm -0500 13/12/01, Robert Sparks wrote:
>In the sip-events discussion in the SIP WG meeting I asked if
>REFER should hold to events immediate NOTIFY semantic. There
>was short mixed discussion, but no conclusive consensus.
>
>Private conversations since have suggested an implicit
>SUBSCRIBE gets an implicit immediate NOTIFY.
>
>Thoughts?
>
Hi there,
  Not quite sure what you mean by implicit.
Is there a NOTIFY ->passed over the wire<-?
  BR,
   Lawrence
-- 
lwc@roke.co.uk: +44 1794 833666::<my opinions>:

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@ns.ietf.org  Thu Dec 13 19:06:10 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id TAA02499
	for <sip-archive@odin.ietf.org>; Thu, 13 Dec 2001 19:06:10 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id TAA28525
	for sip-archive@odin.ietf.org; Thu, 13 Dec 2001 19:06:11 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id SAA27795;
	Thu, 13 Dec 2001 18:57:08 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id SAA27764
	for <sip@ns.ietf.org>; Thu, 13 Dec 2001 18:57:05 -0500 (EST)
Received: from mail1.dynamicsoft.com (mail1.dynamicsoft.com [63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id SAA02316
	for <sip@ietf.org>; Thu, 13 Dec 2001 18:56:59 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fBDNsvPr023154;
	Thu, 13 Dec 2001 18:54:58 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <YAN9ZQ8A>; Thu, 13 Dec 2001 18:56:30 -0500
Message-ID: <9BF66EBF6BEFD942915B4D4D45C051F338E8AF@DYN-TX-EXCH-001.dynamicsoft.com>
From: Robert Sparks <rsparks@dynamicsoft.com>
To: "'Lawrence Conroy'" <lwc@roke.co.uk>,
        Robert Sparks
	 <rsparks@dynamicsoft.com>, "'JF Rey'" <jfr@post.com>,
        sip@ietf.org
Subject: RE: [Sip] Immediate NOTIFY to a REFER (or other implied subscript
	ions)
Date: Thu, 13 Dec 2001 18:56:29 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

> -----Original Message-----
> From: Lawrence Conroy [mailto:lwc@roke.co.uk]
> 
> At 6:34 pm -0500 13/12/01, Robert Sparks wrote:
> >In the sip-events discussion in the SIP WG meeting I asked if
> >REFER should hold to events immediate NOTIFY semantic. There
> >was short mixed discussion, but no conclusive consensus.
> >
> >Private conversations since have suggested an implicit
> >SUBSCRIBE gets an implicit immediate NOTIFY.
> >
> >Thoughts?
> >
> Hi there,
>   Not quite sure what you mean by implicit.
> Is there a NOTIFY ->passed over the wire<-?

If the immediate NOTIFY is implicit, no message
passes on the wire.

RjS

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@ns.ietf.org  Thu Dec 13 19:07:36 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id TAA02545
	for <sip-archive@odin.ietf.org>; Thu, 13 Dec 2001 19:07:36 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id TAA28564
	for sip-archive@odin.ietf.org; Thu, 13 Dec 2001 19:07:37 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id SAA27834;
	Thu, 13 Dec 2001 18:57:34 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id SAA27806
	for <sip@ns.ietf.org>; Thu, 13 Dec 2001 18:57:32 -0500 (EST)
Received: from mail1.dynamicsoft.com (mail1.dynamicsoft.com [63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id SAA02320
	for <sip@ietf.org>; Thu, 13 Dec 2001 18:57:30 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fBDNtTPr023163
	for <sip@ietf.org>; Thu, 13 Dec 2001 18:55:29 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <YAN9ZQ8D>; Thu, 13 Dec 2001 18:57:02 -0500
Message-ID: <9BF66EBF6BEFD942915B4D4D45C051F338E8B0@DYN-TX-EXCH-001.dynamicsoft.com>
From: Robert Sparks <rsparks@dynamicsoft.com>
To: "'sip@ietf.org'" <sip@ietf.org>
Date: Thu, 13 Dec 2001 18:57:01 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Subject: [Sip] loose routing/service-route/DOP fix combination
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

There are several outstanding open issues related
to the route/record-route mechanism. Most of them
are affected by the loose-routing concept, so I'ld
like to start there.
 
With the help of many, I've consolodated the various
proposals into one that I believe brings us 
loose-routing, satisfys the needs expressed in the 
service-route draft, and cleans up the problems we've 
been seeing with the default outbound proxy concept.

The scope of change in this proposal from whats
currently in the specification is limited to
processing requests that contain Route headers.
Furthermore, it is backwards-compatible.
 
Here is the idea:
 
  When an element is processing a message containing
  a Route header field, it MAY observe local policy in
  determining rewriting the Request-URI, where to send
  the request and whether to remove the topmost Route
  header field value. 
 
That local policy may be to behave just as currently
specified - moving the topmost Route header field
value to the request URI and removing it from the
Route header field. Alteratively, the policy 
could be to rewrite the Request-URI (possibly
retargeting the request, possibly just modifing the
maddr parameter, even possibly making no change)
and leave the Route header field alone. Call any
element that has a policy different from the
Route processing rules to date a "loose-routing"
element.
 
Consider these examples:
 
A default outbound proxy (DOP) that is not on the
route set could simply rewrite the maddr parameter
on the request-URI, add its Via and forward the
request.

A service element on the path of an initial request
in a dialog with a preloaded Route could choose to
retarget the request (fully rewriting the request URI)
or simply rewrite the maddr parameter and leave the
Route header field alone - moving the request towards
the resource identified in the topmost Route header
field value. If can also choose whether it wishes to
Record-Route or not.
 
A UAC that can't make its own routing decisions and
is configured to use a default outbound proxy has
local policy to build the request normally, but
not remove the topmost Route header. Thus, we
_already have_ an element that operating under
this proposal.

There are only two restrictions on what the local
policy can be. The first makes sure we still
have the Route behaviour we've come to expect:
 
  If the resource in the topmost Route header field value
  belongs to this element the local policy MUST include
  removing the topmost header field value.  
 
"Belongs" here means it is the element that the Route
targeted. In operations to date, that URI would have
been moved from the Route header field to the 
Request-URI by the previous hop, and depending on
the previous hop policy, that may still be the case.
If, however the previous hop is a loose-routing
element that didn't remove the topmost Route header
field value, it must get removed here so that the
request will move on towards the _next_ thing in
the Route set.
 
Suprisingly, existing elements satisfy this
requirement - as strange as it looks, it is
backwards compatible as long as the "loose-routing"
elements are careful to construct their Request-URIs
so that they don't induce loops in unsuspecting
current implementations. This care is captured
in the second restriction on local policy:
 
  The Request-URI created by a loose-routing element
  MUST differ from the URI in the topmost Route
  header.
 
One simple way to achieve this is through ensuring
the maddr parameter is different (added or removed
if necessary). Whether or not we accept this
loose-routing proposal, this restriction needs to 
be kept for UACs configured to use DOPs to avoid
inducing a loop at the DOP.
 
RjS

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@ns.ietf.org  Thu Dec 13 19:14:10 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id TAA02637
	for <sip-archive@odin.ietf.org>; Thu, 13 Dec 2001 19:14:10 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id TAA28736
	for sip-archive@odin.ietf.org; Thu, 13 Dec 2001 19:14:11 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id TAA28482;
	Thu, 13 Dec 2001 19:05:00 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id TAA28455
	for <sip@ns.ietf.org>; Thu, 13 Dec 2001 19:04:57 -0500 (EST)
Received: from hotsip.com ([212.28.214.249])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id TAA02468
	for <sip@ietf.org>; Thu, 13 Dec 2001 19:04:55 -0500 (EST)
Received: from HASH ([212.28.214.198]) by hotsip.com with Microsoft SMTPSVC(5.0.2195.2966);
	 Fri, 14 Dec 2001 01:04:20 +0100
From: "Hisham Khartabil" <hisham.khartabil@hotsip.com>
To: "Robert Sparks" <rsparks@dynamicsoft.com>, "'JF Rey'" <jfr@post.com>,
        <sip@ietf.org>
Subject: RE: [Sip] Immediate NOTIFY to a REFER (or other implied subscriptions)
Date: Fri, 14 Dec 2001 02:02:35 +0200
Message-ID: <GEEMIMOPEJGBIEGHJBHDOEKJCMAA.hisham.khartabil@hotsip.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2911.0)
In-Reply-To: <9BF66EBF6BEFD942915B4D4D45C051F338E8AE@DYN-TX-EXCH-001.dynamicsoft.com>
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-OriginalArrivalTime: 14 Dec 2001 00:04:20.0717 (UTC) FILETIME=[E15B41D0:01C18432]
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

I think this relates to multiple NOTIFYs issue. If you say a REFER triggers
an immediate NOTIFY, you are basically guaranteeing a second NOTIFY, are you
not?

A refer quote of what Robert said in an earlier discussion about this:

"the REFER draft makes no requirement for such multiple NOTIFYs. The "each
NOTIFY" string corresponds to having multiple REFER statements in a dialog"

Regards,
Hisham

> -----Original Message-----
> From: sip-admin@ietf.org [mailto:sip-admin@ietf.org]On Behalf Of Robert
> Sparks
> Sent: Friday, 14 December 2001 1:35 AM
> To: Robert Sparks; 'JF Rey'; sip@ietf.org
> Subject: [Sip] Immediate NOTIFY to a REFER (or other implied
> subscriptions)
>
>
> In the sip-events discussion in the SIP WG meeting I asked if
> REFER should hold to events immediate NOTIFY semantic. There
> was short mixed discussion, but no conclusive consensus.
>
> Private conversations since have suggested an implicit
> SUBSCRIBE gets an implicit immediate NOTIFY.
>
> Thoughts?
>
> RjS
>
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@ns.ietf.org  Thu Dec 13 19:22:38 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id TAA02730
	for <sip-archive@odin.ietf.org>; Thu, 13 Dec 2001 19:22:38 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id TAA29009
	for sip-archive@odin.ietf.org; Thu, 13 Dec 2001 19:22:39 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id TAA28793;
	Thu, 13 Dec 2001 19:15:48 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id TAA28762
	for <sip@ns.ietf.org>; Thu, 13 Dec 2001 19:15:45 -0500 (EST)
Received: from mail3.dynamicsoft.com ([63.113.44.69])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id TAA02660
	for <sip@ietf.org>; Thu, 13 Dec 2001 19:15:43 -0500 (EST)
Received: from DYN-VA-EXCH-001.dynamicsoft.com ([63.114.208.70])
	by mail3.dynamicsoft.com (8.12.1/8.12.1) with ESMTP id fBE0FQVZ023365;
	Thu, 13 Dec 2001 19:15:26 -0500 (EST)
Received: by DYN-VA-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2650.21)
	id <YZKVG46X>; Thu, 13 Dec 2001 19:15:08 -0500
Message-ID: <9BF66EBF6BEFD942915B4D4D45C051F338E8B2@DYN-TX-EXCH-001.dynamicsoft.com>
From: Robert Sparks <rsparks@dynamicsoft.com>
To: "'Hisham Khartabil'" <hisham.khartabil@hotsip.com>,
        Robert Sparks
	 <rsparks@dynamicsoft.com>, "'JF Rey'" <jfr@post.com>,
        sip@ietf.org
Subject: RE: [Sip] Immediate NOTIFY to a REFER (or other implied subscript
	ions)
Date: Thu, 13 Dec 2001 19:15:06 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2650.21)
Content-Type: text/plain;
	charset="iso-8859-1"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

I don't understand what your question is.

The REFER spec has always _allowed_ multiple
notifies in response to a given REFER.

The quote you grabbed (without context) concerned
what happens when you have more than one REFER
outstanding in a dialog. Completely unreleated.

RjS

> -----Original Message-----
> From: Hisham Khartabil [mailto:hisham.khartabil@hotsip.com]
> 
> I think this relates to multiple NOTIFYs issue. If you say a 
> REFER triggers
> an immediate NOTIFY, you are basically guaranteeing a second 
> NOTIFY, are you
> not?
> 
> A refer quote of what Robert said in an earlier discussion about this:
> 
> "the REFER draft makes no requirement for such multiple 
> NOTIFYs. The "each
> NOTIFY" string corresponds to having multiple REFER 
> statements in a dialog"
> 
> Regards,
> Hisham
> 
> > -----Original Message-----
> > From: sip-admin@ietf.org [mailto:sip-admin@ietf.org]On 
> Behalf Of Robert
> > Sparks
> > Sent: Friday, 14 December 2001 1:35 AM
> > To: Robert Sparks; 'JF Rey'; sip@ietf.org
> > Subject: [Sip] Immediate NOTIFY to a REFER (or other implied
> > subscriptions)
> >
> >
> > In the sip-events discussion in the SIP WG meeting I asked if
> > REFER should hold to events immediate NOTIFY semantic. There
> > was short mixed discussion, but no conclusive consensus.
> >
> > Private conversations since have suggested an implicit
> > SUBSCRIBE gets an implicit immediate NOTIFY.
> >
> > Thoughts?
> >
> > RjS
> >
> > _______________________________________________
> > Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> > This list is for NEW development of the core SIP Protocol
> > Use sip-implementors@cs.columbia.edu for questions on current sip
> > Use sipping@ietf.org for new developments on the application of sip
> 

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@ns.ietf.org  Thu Dec 13 19:48:45 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id TAA03075
	for <sip-archive@odin.ietf.org>; Thu, 13 Dec 2001 19:48:45 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id TAA00277
	for sip-archive@odin.ietf.org; Thu, 13 Dec 2001 19:48:46 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id TAA00103;
	Thu, 13 Dec 2001 19:42:14 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id TAA00071
	for <sip@ns.ietf.org>; Thu, 13 Dec 2001 19:42:12 -0500 (EST)
Received: from hotsip.com ([212.28.214.249])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id TAA03022
	for <sip@ietf.org>; Thu, 13 Dec 2001 19:42:09 -0500 (EST)
Received: from HASH ([212.28.214.198]) by hotsip.com with Microsoft SMTPSVC(5.0.2195.2966);
	 Fri, 14 Dec 2001 01:41:40 +0100
From: "Hisham Khartabil" <hisham.khartabil@hotsip.com>
To: "Robert Sparks" <rsparks@dynamicsoft.com>, <sip@ietf.org>
Subject: RE: [Sip] Immediate NOTIFY to a REFER (or other implied subscriptions)
Date: Fri, 14 Dec 2001 02:39:55 +0200
Message-ID: <GEEMIMOPEJGBIEGHJBHDOEKKCMAA.hisham.khartabil@hotsip.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2911.0)
In-Reply-To: <9BF66EBF6BEFD942915B4D4D45C051F338E8B2@DYN-TX-EXCH-001.dynamicsoft.com>
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-OriginalArrivalTime: 14 Dec 2001 00:41:40.0858 (UTC) FILETIME=[1895A5A0:01C18438]
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit



> -----Original Message-----
> From: Robert Sparks [mailto:rsparks@dynamicsoft.com]
> Sent: Friday, 14 December 2001 2:15 AM
> To: 'Hisham Khartabil'; Robert Sparks; 'JF Rey'; sip@ietf.org
> Subject: RE: [Sip] Immediate NOTIFY to a REFER (or other implied
> subscriptions)
>
>
> I don't understand what your question is.
>
> The REFER spec has always _allowed_ multiple
> notifies in response to a given REFER.
>
> The quote you grabbed (without context) concerned
> what happens when you have more than one REFER
> outstanding in a dialog. Completely unreleated.

Actually, that was your reply to the comment that stated: If the INVITE
"triggered" by the REFER gets forked, the UAC may receive multiple 2xx final
responses, in which case multiple NOTIFYs will be sent to the client who
issued the single REFER. But anyway, we are side tracking a little.

I thought multiple notifies to a single REFER was not allowed. My apologies
for the misunderstanding.

Are there any other reasons for the immediate notify besides aligning it
with the events draft? I just think its an unnecessary overhead.

Hisham


>
> RjS
>
> > -----Original Message-----
> > From: Hisham Khartabil [mailto:hisham.khartabil@hotsip.com]
> >
> > I think this relates to multiple NOTIFYs issue. If you say a
> > REFER triggers
> > an immediate NOTIFY, you are basically guaranteeing a second
> > NOTIFY, are you
> > not?
> >
> > A refer quote of what Robert said in an earlier discussion about this:
> >
> > "the REFER draft makes no requirement for such multiple
> > NOTIFYs. The "each
> > NOTIFY" string corresponds to having multiple REFER
> > statements in a dialog"
> >
> > Regards,
> > Hisham
> >
> > > -----Original Message-----
> > > From: sip-admin@ietf.org [mailto:sip-admin@ietf.org]On
> > Behalf Of Robert
> > > Sparks
> > > Sent: Friday, 14 December 2001 1:35 AM
> > > To: Robert Sparks; 'JF Rey'; sip@ietf.org
> > > Subject: [Sip] Immediate NOTIFY to a REFER (or other implied
> > > subscriptions)
> > >
> > >
> > > In the sip-events discussion in the SIP WG meeting I asked if
> > > REFER should hold to events immediate NOTIFY semantic. There
> > > was short mixed discussion, but no conclusive consensus.
> > >
> > > Private conversations since have suggested an implicit
> > > SUBSCRIBE gets an implicit immediate NOTIFY.
> > >
> > > Thoughts?
> > >
> > > RjS
> > >
> > > _______________________________________________
> > > Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> > > This list is for NEW development of the core SIP Protocol
> > > Use sip-implementors@cs.columbia.edu for questions on current sip
> > > Use sipping@ietf.org for new developments on the application of sip
> >


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@ns.ietf.org  Thu Dec 13 22:21:33 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id WAA05966
	for <sip-archive@odin.ietf.org>; Thu, 13 Dec 2001 22:21:33 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id WAA04558
	for sip-archive@odin.ietf.org; Thu, 13 Dec 2001 22:21:36 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id WAA04348;
	Thu, 13 Dec 2001 22:09:30 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id WAA04315
	for <sip@ns.ietf.org>; Thu, 13 Dec 2001 22:09:28 -0500 (EST)
Received: from dgesmtp02.wcom.com (dgesmtp02.wcom.com [199.249.16.17])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id WAA05671
	for <sip@ietf.org>; Thu, 13 Dec 2001 22:09:24 -0500 (EST)
Received: from CONVERSION-DAEMON by firewall.wcom.com (PMDF V5.2-33 #42261)
 id <0GOB00301CQWFF@firewall.wcom.com> for sip@ietf.org; Fri,
 14 Dec 2001 03:08:56 +0000 (GMT)
Received: from dgismtp04.wcomnet.com ([166.38.58.144])
 by firewall.wcom.com (PMDF V5.2-33 #42261)
 with ESMTP id <0GOB0024UCQVW6@firewall.wcom.com>; Fri,
 14 Dec 2001 03:08:56 +0000 (GMT)
Received: from dgismtp04.wcomnet.com by dgismtp04.wcomnet.com
 (PMDF V5.2-33 #42262) with SMTP id <0GOB00601CQSBT@dgismtp04.wcomnet.com>;
 Fri, 14 Dec 2001 03:08:55 +0000 (GMT)
Received: from wcom.com ([166.44.56.82])
 by dgismtp04.wcomnet.com (PMDF V5.2-33 #42262)
 with ESMTP id <0GOB002HYCQOIM@dgismtp04.wcomnet.com>; Fri,
 14 Dec 2001 03:08:49 +0000 (GMT)
Date: Thu, 13 Dec 2001 20:11:12 -0600
From: Alan Johnston <alan.johnston@wcom.com>
Subject: Re: [Sip] Immediate NOTIFY to a REFER (or other implied subscriptions)
To: Robert Sparks <rsparks@dynamicsoft.com>
Cc: "'JF Rey'" <jfr@post.com>, sip@ietf.org
Message-id: <3C195FC0.E9FAF64B@wcom.com>
MIME-version: 1.0
X-Mailer: Mozilla 4.7 [en] (Win98; U)
Content-type: text/plain; charset=us-ascii
Content-transfer-encoding: 7bit
X-Accept-Language: en
References: 
 <9BF66EBF6BEFD942915B4D4D45C051F338E8AE@DYN-TX-EXCH-001.dynamicsoft.com>
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

I'm inclined to not mess with REFER (yet again) at this late date unless
there is some very, very strong motivation.

Are there any tangible benefits to doing so?

Thanks,
Alan.

Robert Sparks wrote:

> In the sip-events discussion in the SIP WG meeting I asked if
> REFER should hold to events immediate NOTIFY semantic. There
> was short mixed discussion, but no conclusive consensus.
>
> Private conversations since have suggested an implicit
> SUBSCRIBE gets an implicit immediate NOTIFY.
>
> Thoughts?
>
> RjS
>
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@ns.ietf.org  Fri Dec 14 10:42:03 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id KAA01263
	for <sip-archive@odin.ietf.org>; Fri, 14 Dec 2001 10:42:02 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id KAA03037
	for sip-archive@odin.ietf.org; Fri, 14 Dec 2001 10:42:05 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id KAA02138;
	Fri, 14 Dec 2001 10:21:59 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id KAA02107
	for <sip@ns.ietf.org>; Fri, 14 Dec 2001 10:21:57 -0500 (EST)
Received: from zrc2s0jx.nortelnetworks.com (zrc2s0jx.nortelnetworks.com [47.103.122.112])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id KAA00923
	for <sip@ietf.org>; Fri, 14 Dec 2001 10:21:54 -0500 (EST)
Received: from zrchb200.us.nortel.com (zrchb200.us.nortel.com [47.103.121.45])
	by zrc2s0jx.nortelnetworks.com (Switch-2.2.0/Switch-2.2.0) with ESMTP id fBEFKRm01829;
	Fri, 14 Dec 2001 09:20:27 -0600 (CST)
Received: by zrchb200.us.nortel.com with Internet Mail Service (5.5.2653.19)
	id <YXCBZCQR>; Fri, 14 Dec 2001 09:19:16 -0600
Message-ID: <EF1056F8EB4ED511B8FB0002A56079D41B42EE@zrc2c014.us.nortel.com>
From: "Sriram Parameswar" <sriramp@nortelnetworks.com>
To: "'Alan Johnston'" <alan.johnston@wcom.com>,
        Robert Sparks
	 <rsparks@dynamicsoft.com>
Cc: "'JF Rey'" <jfr@post.com>, sip@ietf.org
Subject: RE: [Sip] Immediate NOTIFY to a REFER (or other implied subscript
	ions)
Date: Fri, 14 Dec 2001 09:19:41 -0600
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C184B2.C0787750"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

This message is in MIME format. Since your mail reader does not understand
this format, some or all of this message may not be legible.

------_=_NextPart_001_01C184B2.C0787750
Content-Type: text/plain;
	charset="iso-8859-1"

I agree with Alan. To the narrowly defined scope of REFER - receiving an
immediate NOTIFY to our implicit subscription does not add to the user
experience. I would leave the REFER spec as it is. Also I am not sure the
Events draft addresses the implicit subscription very clearly either.

Regards,

Sriram

__________________________________________
Sriram Parameswar              Phone: 972-685-8540
Interactive Multimedia Server (IMS) Fax: 972-685-3563
Nortel Networks, Richardson USA  Email: sriramp@nortelnetworks.com


-----Original Message-----
From: Alan Johnston [mailto:alan.johnston@wcom.com]
Sent: Thursday, December 13, 2001 8:11 PM
To: Robert Sparks
Cc: 'JF Rey'; sip@ietf.org
Subject: Re: [Sip] Immediate NOTIFY to a REFER (or other implied
subscriptions)


I'm inclined to not mess with REFER (yet again) at this late date unless
there is some very, very strong motivation.

Are there any tangible benefits to doing so?

Thanks,
Alan.

Robert Sparks wrote:

> In the sip-events discussion in the SIP WG meeting I asked if
> REFER should hold to events immediate NOTIFY semantic. There
> was short mixed discussion, but no conclusive consensus.
>
> Private conversations since have suggested an implicit
> SUBSCRIBE gets an implicit immediate NOTIFY.
>
> Thoughts?
>
> RjS
>
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip

------_=_NextPart_001_01C184B2.C0787750
Content-Type: text/html;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV=3D"Content-Type" CONTENT=3D"text/html; =
charset=3Diso-8859-1">
<META NAME=3D"Generator" CONTENT=3D"MS Exchange Server version =
5.5.2654.89">
<TITLE>RE: [Sip] Immediate NOTIFY to a REFER (or other implied =
subscriptions)</TITLE>
</HEAD>
<BODY>

<P><FONT SIZE=3D2>I agree with Alan. To the narrowly defined scope of =
REFER - receiving an immediate NOTIFY to our implicit subscription does =
not add to the user experience. I would leave the REFER spec as it is. =
Also I am not sure the Events draft addresses the implicit subscription =
very clearly either.</FONT></P>

<P><FONT SIZE=3D2>Regards,</FONT>
</P>

<P><FONT SIZE=3D2>Sriram</FONT>
</P>

<P><FONT SIZE=3D2>__________________________________________</FONT>
<BR><FONT SIZE=3D2>Sriram =
Parameswar&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&n=
bsp;&nbsp;&nbsp; Phone: 972-685-8540</FONT>
<BR><FONT SIZE=3D2>Interactive Multimedia Server (IMS) Fax: =
972-685-3563</FONT>
<BR><FONT SIZE=3D2>Nortel Networks, Richardson USA&nbsp; Email: =
sriramp@nortelnetworks.com</FONT>
</P>
<BR>

<P><FONT SIZE=3D2>-----Original Message-----</FONT>
<BR><FONT SIZE=3D2>From: Alan Johnston [<A =
HREF=3D"mailto:alan.johnston@wcom.com">mailto:alan.johnston@wcom.com</A>=
]</FONT>
<BR><FONT SIZE=3D2>Sent: Thursday, December 13, 2001 8:11 PM</FONT>
<BR><FONT SIZE=3D2>To: Robert Sparks</FONT>
<BR><FONT SIZE=3D2>Cc: 'JF Rey'; sip@ietf.org</FONT>
<BR><FONT SIZE=3D2>Subject: Re: [Sip] Immediate NOTIFY to a REFER (or =
other implied</FONT>
<BR><FONT SIZE=3D2>subscriptions)</FONT>
</P>
<BR>

<P><FONT SIZE=3D2>I'm inclined to not mess with REFER (yet again) at =
this late date unless</FONT>
<BR><FONT SIZE=3D2>there is some very, very strong motivation.</FONT>
</P>

<P><FONT SIZE=3D2>Are there any tangible benefits to doing so?</FONT>
</P>

<P><FONT SIZE=3D2>Thanks,</FONT>
<BR><FONT SIZE=3D2>Alan.</FONT>
</P>

<P><FONT SIZE=3D2>Robert Sparks wrote:</FONT>
</P>

<P><FONT SIZE=3D2>&gt; In the sip-events discussion in the SIP WG =
meeting I asked if</FONT>
<BR><FONT SIZE=3D2>&gt; REFER should hold to events immediate NOTIFY =
semantic. There</FONT>
<BR><FONT SIZE=3D2>&gt; was short mixed discussion, but no conclusive =
consensus.</FONT>
<BR><FONT SIZE=3D2>&gt;</FONT>
<BR><FONT SIZE=3D2>&gt; Private conversations since have suggested an =
implicit</FONT>
<BR><FONT SIZE=3D2>&gt; SUBSCRIBE gets an implicit immediate =
NOTIFY.</FONT>
<BR><FONT SIZE=3D2>&gt;</FONT>
<BR><FONT SIZE=3D2>&gt; Thoughts?</FONT>
<BR><FONT SIZE=3D2>&gt;</FONT>
<BR><FONT SIZE=3D2>&gt; RjS</FONT>
<BR><FONT SIZE=3D2>&gt;</FONT>
<BR><FONT SIZE=3D2>&gt; =
_______________________________________________</FONT>
<BR><FONT SIZE=3D2>&gt; Sip mailing list&nbsp; <A =
HREF=3D"http://www1.ietf.org/mailman/listinfo/sip" =
TARGET=3D"_blank">http://www1.ietf.org/mailman/listinfo/sip</A></FONT>
<BR><FONT SIZE=3D2>&gt; This list is for NEW development of the core =
SIP Protocol</FONT>
<BR><FONT SIZE=3D2>&gt; Use sip-implementors@cs.columbia.edu for =
questions on current sip</FONT>
<BR><FONT SIZE=3D2>&gt; Use sipping@ietf.org for new developments on =
the application of sip</FONT>
</P>
<BR>

<P><FONT =
SIZE=3D2>_______________________________________________</FONT>
<BR><FONT SIZE=3D2>Sip mailing list&nbsp; <A =
HREF=3D"http://www1.ietf.org/mailman/listinfo/sip" =
TARGET=3D"_blank">http://www1.ietf.org/mailman/listinfo/sip</A></FONT>
<BR><FONT SIZE=3D2>This list is for NEW development of the core SIP =
Protocol</FONT>
<BR><FONT SIZE=3D2>Use sip-implementors@cs.columbia.edu for questions =
on current sip</FONT>
<BR><FONT SIZE=3D2>Use sipping@ietf.org for new developments on the =
application of sip</FONT>
</P>

</BODY>
</HTML>
------_=_NextPart_001_01C184B2.C0787750--

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@ns.ietf.org  Fri Dec 14 10:59:55 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id KAA01503
	for <sip-archive@odin.ietf.org>; Fri, 14 Dec 2001 10:59:54 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id KAA03314
	for sip-archive@odin.ietf.org; Fri, 14 Dec 2001 10:59:57 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id KAA03123;
	Fri, 14 Dec 2001 10:45:46 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id KAA03094
	for <sip@ns.ietf.org>; Fri, 14 Dec 2001 10:45:42 -0500 (EST)
Received: from topaz.3com.com (topaz.3com.com [192.156.136.158])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id KAA01320
	for <sip@ietf.org>; Fri, 14 Dec 2001 10:45:39 -0500 (EST)
From: Anoop_Tripathi@3com.com
Received: from opal.3com.com (opal.3com.com [139.87.50.117])
	by topaz.3com.com (Switch-2.1.3/Switch-2.1.0) with ESMTP id fBEFj6u29334;
	Fri, 14 Dec 2001 07:45:06 -0800 (PST)
Received: from hqsmtp01.3com.com (hqsmtp01.ops.3com.com [139.87.49.79])
	by opal.3com.com (Switch-2.1.3/Switch-2.1.0) with ESMTP id fBEFj6Y05382;
	Fri, 14 Dec 2001 07:45:06 -0800 (PST)
To: sip@ietf.org, confctrl@isi.edu
Cc: Michael_Homeier@3com.com
Date: Fri, 14 Dec 2001 09:45:56 -0600
Message-ID: <OFB2F4CCF7.657A50B5-ON86256B22.0055546F@3com.com>
MIME-Version: 1.0
Content-type: text/plain; charset=us-ascii
Subject: [Sip] Usage of sendrecv, sendonly, recvonly for separate port numbers for sending
 and receving media
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org



Previous bis drafts had a section on SDP usage. While this has been removed
from bis-05, lot of us still refer to that section to clear some issues.
Howver, there is one conflicting issue that I wanted the SIP/SDP gurus to
comment on.
Bis-03 states that no assumption should be made about the source address
and port number of RTP/RTCP sender. The parameters sendrecv, recvonly,
sendonly are not meant to indicate the source address and port. While the
SDP RFC 2327 states just the opposite.

My question is: "If I want to send media from a separate port and receive
media on a different port, but use the same codec, do I put my SDP
parameters as
1) "sendrecv" or
2) Two separate with different "sendonly" and "recvonly" parameters.

Excerpt from bis-03

Section B.2.1 : The IP address and port present in the offer indicate
nothing about the source IP address and source port of RTP and RTCP packets
that will
   be sent by the offerer.


Excerpt from SDP RFC 2327

Page 24: a=sendonly
       This specifies that the tools should be started in send-only
       mode.  An example may be where a different unicast address is to
       be used for a traffic destination than for a traffic source. In
       such a case, two media descriptions may be use, one sendonly and
       one recvonly.

Thanks for your help with clarification,

Anoop


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@ns.ietf.org  Fri Dec 14 13:44:53 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id NAA05039
	for <sip-archive@odin.ietf.org>; Fri, 14 Dec 2001 13:44:53 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id NAA10437
	for sip-archive@odin.ietf.org; Fri, 14 Dec 2001 13:44:55 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id NAA09593;
	Fri, 14 Dec 2001 13:24:03 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id NAA09561
	for <sip@ns.ietf.org>; Fri, 14 Dec 2001 13:24:00 -0500 (EST)
Received: from pmesmtp01.wcom.com (pmesmtp01.wcom.com [199.249.20.1])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id NAA04608
	for <sip@ietf.org>; Fri, 14 Dec 2001 13:23:57 -0500 (EST)
Received: from CONVERSION-DAEMON by firewall.wcom.com (PMDF V5.2-33 #47837)
 id <0GOC00H01J348I@firewall.wcom.com> for sip@ietf.org; Fri,
 14 Dec 2001 18:23:28 +0000 (GMT)
Received: from pmismtp05.wcomnet.com ([166.38.62.53])
 by firewall.wcom.com (PMDF V5.2-33 #47837)
 with ESMTP id <0GOC00G5LJ1UJJ@firewall.wcom.com> for sip@ietf.org; Fri,
 14 Dec 2001 18:23:28 +0000 (GMT)
Received: from pmismtp05.wcomnet.com by pmismtp05.wcomnet.com
 (iPlanet Messaging Server 5.1 (built May  7 2001))
 with SMTP id <0GOC00601J1OWR@pmismtp05.wcomnet.com> for sip@ietf.org; Fri,
 14 Dec 2001 18:22:53 +0000 (GMT)
Received: from dgmexch08.wcomnet.com ([166.38.58.238])
 by pmismtp05.wcomnet.com (iPlanet Messaging Server 5.1 (built May  7 2001))
 with ESMTP id <0GOC003D2J213Z@pmismtp05.wcomnet.com> for sip@ietf.org; Fri,
 14 Dec 2001 18:22:49 +0000 (GMT)
Received: by DGMEXCH08.wcomnet.com with Internet Mail Service (5.5.2653.19)
 id <YMJ6MFDJ>; Fri, 14 Dec 2001 18:22:50 +0000
Content-return: allowed
Date: Fri, 14 Dec 2001 18:22:48 +0000
From: "Rawlins, Diana" <Diana.Rawlins@wcom.com>
To: "'sip@ietf.org'" <sip@ietf.org>
Message-id: <492EB4A3F68CD411ABE800508B69362E647EFC@RIPEXCH002.wcomnet.com>
MIME-version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-type: multipart/alternative;
 boundary="Boundary_(ID_NYr0D6kE9ZvCDPwLvWfjsg)"
Subject: [Sip] #145 - SRV stateless ?load balancing?
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org


This message is in MIME format. Since your mail reader does not understand
this format, some or all of this message may not be legible.

--Boundary_(ID_NYr0D6kE9ZvCDPwLvWfjsg)
Content-type: text/plain; charset=ISO-8859-1


Any updates to the comment made during the SIP WG sessions that stateless
proxies using SRV for load balancing is under evaluation by the IESG / DNS
experts?

-Diana


--Boundary_(ID_NYr0D6kE9ZvCDPwLvWfjsg)
Content-type: text/html; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV=3D"Content-Type" CONTENT=3D"text/html; =
charset=3DISO-8859-1">
<META NAME=3D"Generator" CONTENT=3D"MS Exchange Server version =
5.5.2654.59">
<TITLE>#145 - SRV stateless ?load balancing?</TITLE>
</HEAD>
<BODY>
<BR>

<P><FONT SIZE=3D2 FACE=3D"Arial">Any updates to the comment made during =
the SIP WG sessions that stateless proxies using SRV for load balancing =
is under evaluation by the IESG / DNS experts?</FONT></P>

<P><FONT SIZE=3D2 FACE=3D"Arial">-Diana</FONT>
</P>

</BODY>
</HTML>=

--Boundary_(ID_NYr0D6kE9ZvCDPwLvWfjsg)--

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@ns.ietf.org  Sat Dec 15 17:19:06 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id RAA08122
	for <sip-archive@odin.ietf.org>; Sat, 15 Dec 2001 17:19:06 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id RAA23458
	for sip-archive@odin.ietf.org; Sat, 15 Dec 2001 17:19:09 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id RAA23290;
	Sat, 15 Dec 2001 17:01:16 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id RAA23261
	for <sip@ns.ietf.org>; Sat, 15 Dec 2001 17:01:14 -0500 (EST)
Received: from mail1.dynamicsoft.com (mail1.dynamicsoft.com [63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id RAA08048
	for <sip@ietf.org>; Sat, 15 Dec 2001 17:01:09 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fBFLx9Pr000843
	for <sip@ietf.org>; Sat, 15 Dec 2001 16:59:09 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <YAN9Z4KR>; Sat, 15 Dec 2001 17:00:43 -0500
Message-ID: <B65B4F8437968F488A01A940B21982BF0254FFB4@DYN-EXCH-001.dynamicsoft.com>
From: Rakesh Shah <RShah@dynamicsoft.com>
To: "SIPWG Mailing List (sip@ietf.org)" <sip@ietf.org>
Date: Mon, 10 Dec 2001 18:34:50 -0500
Deferred-Delivery: Sat, 15 Dec 2001 17:00:00 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain
Subject: [Sip] SIP WG - 5 - Last Call Open Discussion - draft-ietf-sip-refer-02.
 txt
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

Dear SIP WG Members,

       The subject draft (link below) is going through WGLC.

       The assigned reviewers have or should be posting their initial
comments on the list.

       The Last Call Open Discussion will be closed on 15Jan02. Please post
your comments to the list. The authors will be collecting this input and
addressing issues. The authors will post a summary at the end of this part
of the last call process.

       If you have any further questions, please feel free to contact me.

Links

Draft - http://www.softarmor.com/sipwg/drafts/draft-ietf-sip-refer-02.txt
Last Call Calendar - http://www.softarmor.com/sipwg/lastcall/lccalendar.pl
Reviewer's page - http://www.softarmor.com/sipwg/lastcall/reviewerinfo.html
Supplemental SIP WG Web site - http://www.softarmor.com/sipwg

Regards,

Rakesh
______________________________
Mr. Rakesh C. Shah
Project Coordinator
dynamicsoft Inc. 
72 Eagle Rock Avenue
First Floor
East Hanover, NJ 07936
(973) 952-5000 main
(973) 952-5066 direct
(201) 214-6084 mobile
(973) 952-5050 fax
rshah@dynamicsoft.com
www.dynamicsoft.com


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@ns.ietf.org  Mon Dec 17 11:01:08 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id LAA07483
	for <sip-archive@odin.ietf.org>; Mon, 17 Dec 2001 11:00:55 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id LAA09389
	for sip-archive@odin.ietf.org; Mon, 17 Dec 2001 11:00:57 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id KAA07823;
	Mon, 17 Dec 2001 10:26:56 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id KAA07793
	for <sip@ns.ietf.org>; Mon, 17 Dec 2001 10:26:53 -0500 (EST)
Received: from zcars0m9.ca.nortel.com (zcars0m9.nortelnetworks.com [47.129.242.157])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id KAA05437
	for <sip@ietf.org>; Mon, 17 Dec 2001 10:26:50 -0500 (EST)
Received: from znsgs01r.europe.nortel.com (znsgs01r.europe.nortel.com [47.137.129.92])
	by zcars0m9.ca.nortel.com (Switch-2.2.0/Switch-2.2.0) with ESMTP id fBHFQLw18048;
	Mon, 17 Dec 2001 10:26:21 -0500 (EST)
Received: from zwcwc012.europe.nortel.com (zwcwc012.europe.nortel.com [47.73.112.187])
	by znsgs01r.europe.nortel.com (Switch-2.2.0/Switch-2.2.0) with ESMTP id fBHFQBA13308;
	Mon, 17 Dec 2001 15:26:11 GMT
Received: by zwcwc012.europe.nortel.com with Internet Mail Service (5.5.2653.19)
	id <YYM86KTG>; Mon, 17 Dec 2001 15:24:56 -0000
Message-ID: <A3C2399B2FACD411A54200508BE39C74054F6EF1@zwcwd00r.europe.nortel.com>
From: "Mark Watson" <mwatson@nortelnetworks.com>
To: "'Rohan Mahy'" <rohan@cisco.com>, sip@ietf.org
Subject: RE: [Sip] Open Issue #113 : Overlapping INVITEs
Date: Mon, 17 Dec 2001 15:24:55 -0000
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C1870E.FADEC580"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

This message is in MIME format. Since your mail reader does not understand
this format, some or all of this message may not be legible.

------_=_NextPart_001_01C1870E.FADEC580
Content-Type: text/plain

So, if I understand correctly, the problem is that using re-INVITE to update
the parameters (specifically the SDP) of an INVITE transaction (before it
completes) involves creating a completely new transaction and removing the
original one.

The new transaction is not seen by a Proxy which did not Record-Route,
whereas this proxy reasonably expected to be involved in the transation
which sets up the session (i.e. it didn't expect this transaction to be
superceeded before completion).

So, any solution has to leave the original INVITE transaction intact - i.e.
we need a request which will 'update' an existing INVITE transaction in the
'Proceeding' state.

Some questions:
1) Is it the parameters of the outstanding INVITE *transaction* that we want
to update, or the *dialog* that it created ?? The SDP would appear to be
associated with the dialog, rather than just the transaction, and the update
is going direct to the UAS, not necessarily through any (transaction)
stateful proxies, so it's more like the dialog we are updating.
2) are there any other parameters associated with a *dialog* that we might
want to update ?? (Could only ones which are of no interested to proxies
which have not Record-Route'ed)

What is the reason why a re-INVITE couldn't work in the way described above,
rather than that below - i.e. the re-INVITE would be responded to with an
immediate 200 OK, and the control of the session progress would remain with
the original INVITE transation ??

Regards...Mark

-----Original Message-----
From: Rohan Mahy [mailto:rohan@cisco.com]
Sent: 13 December 2001 19:35
To: sip@ietf.org
Cc: rohan@cisco.com
Subject: [Sip] Open Issue #113 : Overlapping INVITEs


Hi Folks,

As I said in the meeting yesterday, I think overlapping INVITE transactions 
are VERY BAD.  This is a non-backwards compatible change to SIP that breaks 
existing behavior.

Only two justifications exist for making the change.  The first is early 
media, and the second is "that it might be useful in future."       The 
second argument does not justify breaking existing services that have been 
compliant with SIP all along.  I will also remind everyone of the IETF 
maxim that a protocol is perfect "not when there is nothing more to add, 
but when there is nothing to take away."

In terms of early media, Using an OFFER method for EARLY media offers in 
the forward direction is easy and does not break any existing 
services/behavior.  Thinking about multiple early reINVITEs in a forking 
scenario not only makes my head hurt, but I haven't seen an existance proof 
of a working flow.  I INVITE folks to put up or shut up on this one.

As an example of what goes wrong with reusing INVITE, take a forking proxy 
that does not Record-Route.  From RFC2543 all the way through bis-05, it is 
completely reasonable for a proxy to offer a service like Forward No Answer 
without needing to use Record-Route.  The flows below demonstrate some of 
the problems.

An INVITE (1) gets forked to B (1a).  If A sends a "early reINVITE" (2), it 
will go directly to B because the proxy did not record-route.  Other forks 
generated by that proxy don't do what they did in the past.  Specifically 
the proxy can't cancel its own branch because the CSeq for the CANCEL is 
stale.

comments welcome.

[i removed PRACKs for brevity, but nothing really changes.]

    |           |           |           |
    |INVITE(1)->|           |           |
    |           |INVITE(1a)>|           |
    |           |           |           |
    |           |<- 18x (1a)|           |
    |<- 18x (1a)|           |           |
    |           |           |           |
    |  ...      |           |           |
    |           |           |           |
    |- INVITE (2)---------->|           |
    |           |           |           |
    |           |<- 489 (1a)|           |
    |<- 489 (1a)|           |           |
    |           |           |           |
    |<------------- 18x (2)-|           |
    |           |           |           |
    |           |CANCEL(1a)>X  Stale    |
    |           |           |  CSeq     |
    |           |           |           |

Other potential scenarios


         A          Proxy        B           C
         |           |           |           |
         |INVITE(1)->|           |           |
         |           |INVITE(1a)>|           |
         |           |           |           |
         |           |<- 18x (1a)|           |
         |<- 18x (1a)|           |           |
         |           |           |           |
         |  ...      |           |           |
         |           |           |           |
         |- INVITE (2)---------->|           |
         |           |           |           |
         |           |<- 489 (1)-|           |
         |<- 489 (1)-|           |           |
         |           |-- INVITE (1b) ------->|
         |           |           |           |
         |           |<- 18x (1b)------------|
  Stale  X<- 18x (1b)|           |           |
  CSeq   |           |           |           |
         |<------------- 18x (2)-|           |
         |           |           |           |
         |           |           |           |


here is a working flow for early media using OFFER.


  A             Proxy           B             C
  |              |              |             |
  |-- INVITE --->|              |             |
  |              |-- INVITE --->|             |
  |              |              |             |
  |              |----------------- INVITE -->|
  |              |              |             |
  |              |<-- 18x ------|             |
  |<-- 18x ------|              |             |
  |              |<---------------- 18x ------|
  |<-- 18x ------|              |             |
  |              |              |             |
  |------------------ PRACK --->|             |
  |              |              |             |
  |-------------------------------- PRACK --->|
  |              |              |             |
  |<----------------- 200(PRACK)|             |
  |              |              |             |
  |<------------------------------- 200(PRACK)|
  |              |              |             |
  |<============================|             |
  |<==========================================|
  |              |              |             |
  |              |              |             |
  |              |              |             |
  |              |              |             |
  |------------------ OFFER --->|             |
  |<----------------- 200(OFFER)|             |
  |------------------------------- OFFER  --->|
  |<------------------------------ 200(OFFER)-|
  |              |              |             |
  |              |              |             |


thanks,
-rohan
 

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip

------_=_NextPart_001_01C1870E.FADEC580
Content-Type: text/html
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV=3D"Content-Type" CONTENT=3D"text/html; =
charset=3Dus-ascii">
<META NAME=3D"Generator" CONTENT=3D"MS Exchange Server version =
5.5.2654.89">
<TITLE>RE: [Sip] Open Issue #113 : Overlapping INVITEs</TITLE>
</HEAD>
<BODY>

<P><FONT SIZE=3D2>So, if I understand correctly, the problem is that =
using re-INVITE to update the parameters (specifically the SDP) of an =
INVITE transaction (before it completes) involves creating a completely =
new transaction and removing the original one.</FONT></P>

<P><FONT SIZE=3D2>The new transaction is not seen by a Proxy which did =
not Record-Route, whereas this proxy reasonably expected to be involved =
in the transation which sets up the session (i.e. it didn't expect this =
transaction to be superceeded before completion).</FONT></P>

<P><FONT SIZE=3D2>So, any solution has to leave the original INVITE =
transaction intact - i.e. we need a request which will 'update' an =
existing INVITE transaction in the 'Proceeding' state.</FONT></P>

<P><FONT SIZE=3D2>Some questions:</FONT>
<BR><FONT SIZE=3D2>1) Is it the parameters of the outstanding INVITE =
*transaction* that we want to update, or the *dialog* that it created =
?? The SDP would appear to be associated with the dialog, rather than =
just the transaction, and the update is going direct to the UAS, not =
necessarily through any (transaction) stateful proxies, so it's more =
like the dialog we are updating.</FONT></P>

<P><FONT SIZE=3D2>2) are there any other parameters associated with a =
*dialog* that we might want to update ?? (Could only ones which are of =
no interested to proxies which have not Record-Route'ed)</FONT></P>

<P><FONT SIZE=3D2>What is the reason why a re-INVITE couldn't work in =
the way described above, rather than that below - i.e. the re-INVITE =
would be responded to with an immediate 200 OK, and the control of the =
session progress would remain with the original INVITE transation =
??</FONT></P>

<P><FONT SIZE=3D2>Regards...Mark</FONT>
</P>

<P><FONT SIZE=3D2>-----Original Message-----</FONT>
<BR><FONT SIZE=3D2>From: Rohan Mahy [<A =
HREF=3D"mailto:rohan@cisco.com">mailto:rohan@cisco.com</A>]</FONT>
<BR><FONT SIZE=3D2>Sent: 13 December 2001 19:35</FONT>
<BR><FONT SIZE=3D2>To: sip@ietf.org</FONT>
<BR><FONT SIZE=3D2>Cc: rohan@cisco.com</FONT>
<BR><FONT SIZE=3D2>Subject: [Sip] Open Issue #113 : Overlapping =
INVITEs</FONT>
</P>
<BR>

<P><FONT SIZE=3D2>Hi Folks,</FONT>
</P>

<P><FONT SIZE=3D2>As I said in the meeting yesterday, I think =
overlapping INVITE transactions </FONT>
<BR><FONT SIZE=3D2>are VERY BAD.&nbsp; This is a non-backwards =
compatible change to SIP that breaks </FONT>
<BR><FONT SIZE=3D2>existing behavior.</FONT>
</P>

<P><FONT SIZE=3D2>Only two justifications exist for making the =
change.&nbsp; The first is early </FONT>
<BR><FONT SIZE=3D2>media, and the second is &quot;that it might be =
useful in future.&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; The </FONT>
<BR><FONT SIZE=3D2>second argument does not justify breaking existing =
services that have been </FONT>
<BR><FONT SIZE=3D2>compliant with SIP all along.&nbsp; I will also =
remind everyone of the IETF </FONT>
<BR><FONT SIZE=3D2>maxim that a protocol is perfect &quot;not when =
there is nothing more to add, </FONT>
<BR><FONT SIZE=3D2>but when there is nothing to take away.&quot;</FONT>
</P>

<P><FONT SIZE=3D2>In terms of early media, Using an OFFER method for =
EARLY media offers in </FONT>
<BR><FONT SIZE=3D2>the forward direction is easy and does not break any =
existing </FONT>
<BR><FONT SIZE=3D2>services/behavior.&nbsp; Thinking about multiple =
early reINVITEs in a forking </FONT>
<BR><FONT SIZE=3D2>scenario not only makes my head hurt, but I haven't =
seen an existance proof </FONT>
<BR><FONT SIZE=3D2>of a working flow.&nbsp; I INVITE folks to put up or =
shut up on this one.</FONT>
</P>

<P><FONT SIZE=3D2>As an example of what goes wrong with reusing INVITE, =
take a forking proxy </FONT>
<BR><FONT SIZE=3D2>that does not Record-Route.&nbsp; From RFC2543 all =
the way through bis-05, it is </FONT>
<BR><FONT SIZE=3D2>completely reasonable for a proxy to offer a service =
like Forward No Answer </FONT>
<BR><FONT SIZE=3D2>without needing to use Record-Route.&nbsp; The flows =
below demonstrate some of </FONT>
<BR><FONT SIZE=3D2>the problems.</FONT>
</P>

<P><FONT SIZE=3D2>An INVITE (1) gets forked to B (1a).&nbsp; If A sends =
a &quot;early reINVITE&quot; (2), it </FONT>
<BR><FONT SIZE=3D2>will go directly to B because the proxy did not =
record-route.&nbsp; Other forks </FONT>
<BR><FONT SIZE=3D2>generated by that proxy don't do what they did in =
the past.&nbsp; Specifically </FONT>
<BR><FONT SIZE=3D2>the proxy can't cancel its own branch because the =
CSeq for the CANCEL is </FONT>
<BR><FONT SIZE=3D2>stale.</FONT>
</P>

<P><FONT SIZE=3D2>comments welcome.</FONT>
</P>

<P><FONT SIZE=3D2>[i removed PRACKs for brevity, but nothing really =
changes.]</FONT>
</P>

<P><FONT SIZE=3D2>&nbsp;&nbsp;&nbsp; =
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |</FONT>
<BR><FONT SIZE=3D2>&nbsp;&nbsp;&nbsp; =
|INVITE(1)-&gt;|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&n=
bsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
|</FONT>
<BR><FONT SIZE=3D2>&nbsp;&nbsp;&nbsp; =
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
|INVITE(1a)&gt;|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&n=
bsp; |</FONT>
<BR><FONT SIZE=3D2>&nbsp;&nbsp;&nbsp; =
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |</FONT>
<BR><FONT SIZE=3D2>&nbsp;&nbsp;&nbsp; =
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&lt;- =
18x (1a)|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
|</FONT>
<BR><FONT SIZE=3D2>&nbsp;&nbsp;&nbsp; |&lt;- 18x =
(1a)|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |</FONT>
<BR><FONT SIZE=3D2>&nbsp;&nbsp;&nbsp; =
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |</FONT>
<BR><FONT SIZE=3D2>&nbsp;&nbsp;&nbsp; |&nbsp; =
...&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |</FONT>
<BR><FONT SIZE=3D2>&nbsp;&nbsp;&nbsp; =
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |</FONT>
<BR><FONT SIZE=3D2>&nbsp;&nbsp;&nbsp; |- INVITE =
(2)----------&gt;|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=
&nbsp; |</FONT>
<BR><FONT SIZE=3D2>&nbsp;&nbsp;&nbsp; =
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |</FONT>
<BR><FONT SIZE=3D2>&nbsp;&nbsp;&nbsp; =
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&lt;- =
489 (1a)|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
|</FONT>
<BR><FONT SIZE=3D2>&nbsp;&nbsp;&nbsp; |&lt;- 489 =
(1a)|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |</FONT>
<BR><FONT SIZE=3D2>&nbsp;&nbsp;&nbsp; =
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |</FONT>
<BR><FONT SIZE=3D2>&nbsp;&nbsp;&nbsp; |&lt;------------- 18x =
(2)-|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
|</FONT>
<BR><FONT SIZE=3D2>&nbsp;&nbsp;&nbsp; =
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |</FONT>
<BR><FONT SIZE=3D2>&nbsp;&nbsp;&nbsp; =
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
|CANCEL(1a)&gt;X&nbsp; Stale&nbsp;&nbsp;&nbsp; |</FONT>
<BR><FONT SIZE=3D2>&nbsp;&nbsp;&nbsp; =
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp; =
CSeq&nbsp;&nbsp;&nbsp;&nbsp; |</FONT>
<BR><FONT SIZE=3D2>&nbsp;&nbsp;&nbsp; =
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |</FONT>
</P>

<P><FONT SIZE=3D2>Other potential scenarios</FONT>
</P>
<BR>

<P><FONT SIZE=3D2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
A&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
Proxy&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
B&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; C</FONT>
<BR><FONT SIZE=3D2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |</FONT>
<BR><FONT SIZE=3D2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
|INVITE(1)-&gt;|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&n=
bsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
|</FONT>
<BR><FONT SIZE=3D2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
|INVITE(1a)&gt;|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&n=
bsp; |</FONT>
<BR><FONT SIZE=3D2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |</FONT>
<BR><FONT SIZE=3D2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&lt;- =
18x (1a)|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
|</FONT>
<BR><FONT SIZE=3D2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
|&lt;- 18x =
(1a)|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |</FONT>
<BR><FONT SIZE=3D2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |</FONT>
<BR><FONT SIZE=3D2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
|&nbsp; ...&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |</FONT>
<BR><FONT SIZE=3D2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |</FONT>
<BR><FONT SIZE=3D2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |- =
INVITE =
(2)----------&gt;|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=
&nbsp; |</FONT>
<BR><FONT SIZE=3D2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |</FONT>
<BR><FONT SIZE=3D2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&lt;- =
489 (1)-|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
|</FONT>
<BR><FONT SIZE=3D2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
|&lt;- 489 (1)-|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&n=
bsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
|</FONT>
<BR><FONT SIZE=3D2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |-- =
INVITE (1b) -------&gt;|</FONT>
<BR><FONT SIZE=3D2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |</FONT>
<BR><FONT SIZE=3D2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&lt;- =
18x (1b)------------|</FONT>
<BR><FONT SIZE=3D2>&nbsp; Stale&nbsp; X&lt;- 18x =
(1b)|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |</FONT>
<BR><FONT SIZE=3D2>&nbsp; CSeq&nbsp;&nbsp; =
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |</FONT>
<BR><FONT SIZE=3D2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
|&lt;------------- 18x =
(2)-|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
|</FONT>
<BR><FONT SIZE=3D2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |</FONT>
<BR><FONT SIZE=3D2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |</FONT>
</P>
<BR>

<P><FONT SIZE=3D2>here is a working flow for early media using =
OFFER.</FONT>
</P>
<BR>

<P><FONT SIZE=3D2>&nbsp; =
A&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
; Proxy&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
B&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
; C</FONT>
<BR><FONT SIZE=3D2>&nbsp; =
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp; =
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp; =
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
; |</FONT>
<BR><FONT SIZE=3D2>&nbsp; |-- INVITE =
---&gt;|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p;&nbsp;&nbsp; =
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
; |</FONT>
<BR><FONT SIZE=3D2>&nbsp; =
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp; |-- INVITE =
---&gt;|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p;&nbsp; |</FONT>
<BR><FONT SIZE=3D2>&nbsp; =
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp; =
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp; =
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
; |</FONT>
<BR><FONT SIZE=3D2>&nbsp; =
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp; |----------------- INVITE --&gt;|</FONT>
<BR><FONT SIZE=3D2>&nbsp; =
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp; =
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp; =
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
; |</FONT>
<BR><FONT SIZE=3D2>&nbsp; =
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp; |&lt;-- 18x =
------|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp; |</FONT>
<BR><FONT SIZE=3D2>&nbsp; |&lt;-- 18x =
------|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp;&nbsp; =
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
; |</FONT>
<BR><FONT SIZE=3D2>&nbsp; =
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp; |&lt;---------------- 18x ------|</FONT>
<BR><FONT SIZE=3D2>&nbsp; |&lt;-- 18x =
------|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp;&nbsp; =
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
; |</FONT>
<BR><FONT SIZE=3D2>&nbsp; =
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp; =
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp; =
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
; |</FONT>
<BR><FONT SIZE=3D2>&nbsp; |------------------ PRACK =
---&gt;|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p;&nbsp; |</FONT>
<BR><FONT SIZE=3D2>&nbsp; =
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp; =
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp; =
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
; |</FONT>
<BR><FONT SIZE=3D2>&nbsp; |-------------------------------- PRACK =
---&gt;|</FONT>
<BR><FONT SIZE=3D2>&nbsp; =
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp; =
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp; =
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
; |</FONT>
<BR><FONT SIZE=3D2>&nbsp; |&lt;----------------- =
200(PRACK)|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&=
nbsp;&nbsp; |</FONT>
<BR><FONT SIZE=3D2>&nbsp; =
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp; =
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp; =
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
; |</FONT>
<BR><FONT SIZE=3D2>&nbsp; |&lt;------------------------------- =
200(PRACK)|</FONT>
<BR><FONT SIZE=3D2>&nbsp; =
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp; =
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp; =
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
; |</FONT>
<BR><FONT SIZE=3D2>&nbsp; =
|&lt;=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&n=
bsp;&nbsp;&nbsp; |</FONT>
<BR><FONT SIZE=3D2>&nbsp; =
|&lt;=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D|</FONT>
<BR><FONT SIZE=3D2>&nbsp; =
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp; =
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp; =
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
; |</FONT>
<BR><FONT SIZE=3D2>&nbsp; =
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp; =
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp; =
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
; |</FONT>
<BR><FONT SIZE=3D2>&nbsp; =
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp; =
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp; =
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
; |</FONT>
<BR><FONT SIZE=3D2>&nbsp; =
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp; =
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp; =
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
; |</FONT>
<BR><FONT SIZE=3D2>&nbsp; |------------------ OFFER =
---&gt;|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p;&nbsp; |</FONT>
<BR><FONT SIZE=3D2>&nbsp; |&lt;----------------- =
200(OFFER)|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&=
nbsp;&nbsp; |</FONT>
<BR><FONT SIZE=3D2>&nbsp; |------------------------------- OFFER&nbsp; =
---&gt;|</FONT>
<BR><FONT SIZE=3D2>&nbsp; |&lt;------------------------------ =
200(OFFER)-|</FONT>
<BR><FONT SIZE=3D2>&nbsp; =
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp; =
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp; =
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
; |</FONT>
<BR><FONT SIZE=3D2>&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nb=
sp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp; =
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
; |</FONT>
</P>
<BR>

<P><FONT SIZE=3D2>thanks,</FONT>
<BR><FONT SIZE=3D2>-rohan</FONT>
<BR><FONT SIZE=3D2>&nbsp;</FONT>
</P>

<P><FONT =
SIZE=3D2>_______________________________________________</FONT>
<BR><FONT SIZE=3D2>Sip mailing list&nbsp; <A =
HREF=3D"http://www1.ietf.org/mailman/listinfo/sip" =
TARGET=3D"_blank">http://www1.ietf.org/mailman/listinfo/sip</A></FONT>
<BR><FONT SIZE=3D2>This list is for NEW development of the core SIP =
Protocol</FONT>
<BR><FONT SIZE=3D2>Use sip-implementors@cs.columbia.edu for questions =
on current sip</FONT>
<BR><FONT SIZE=3D2>Use sipping@ietf.org for new developments on the =
application of sip</FONT>
</P>

</BODY>
</HTML>
------_=_NextPart_001_01C1870E.FADEC580--

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@ns.ietf.org  Mon Dec 17 11:46:35 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id LAA10107
	for <sip-archive@odin.ietf.org>; Mon, 17 Dec 2001 11:46:34 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id LAA10941
	for sip-archive@odin.ietf.org; Mon, 17 Dec 2001 11:46:37 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id LAA09842;
	Mon, 17 Dec 2001 11:19:44 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id LAA09754
	for <sip@ns.ietf.org>; Mon, 17 Dec 2001 11:19:39 -0500 (EST)
Received: from pmesmtp02.wcom.com (pmesmtp02.wcom.com [199.249.20.2])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id LAA08551
	for <sip@ietf.org>; Mon, 17 Dec 2001 11:19:36 -0500 (EST)
Received: from CONVERSION-DAEMON by firewall.wcom.com (PMDF V5.2-32 #42257)
 id <0GOH00K01XB9NH@firewall.wcom.com> for sip@ietf.org; Mon,
 17 Dec 2001 16:18:45 +0000 (GMT)
Received: from pmismtp05.wcomnet.com ([166.38.62.53])
 by firewall.wcom.com (PMDF V5.2-32 #42257)
 with ESMTP id <0GOH00IFKX7WHD@firewall.wcom.com>; Mon,
 17 Dec 2001 16:18:45 +0000 (GMT)
Received: from pmismtp05.wcomnet.com by pmismtp05.wcomnet.com
 (iPlanet Messaging Server 5.1 (built May  7 2001))
 with SMTP id <0GOH00E01XA2CL@pmismtp05.wcomnet.com>; Mon,
 17 Dec 2001 16:18:03 +0000 (GMT)
Received: from omzexch007.mcit.com ([166.37.194.38])
 by pmismtp05.wcomnet.com (iPlanet Messaging Server 5.1 (built May  7 2001))
 with ESMTP id <0GOH00A31XA22L@pmismtp05.wcomnet.com>; Mon,
 17 Dec 2001 16:18:02 +0000 (GMT)
Received: by omzexch007 with Internet Mail Service (5.5.2653.19)
 id <YMRH50CD>; Mon, 17 Dec 2001 16:18:02 +0000
Content-return: allowed
Date: Mon, 17 Dec 2001 16:17:55 +0000
From: "McMurry, Kathleen" <Kathleen.McMurry@wcom.com>
Subject: RE: [Sip] Open Issue #205: Headers and method param in 3xx/REGIST	ER
 Contact header URLs
To: "'Jonathan Rosenberg'" <jdrosen@dynamicsoft.com>,
        "'sip@ietf.org'" <sip@ietf.org>
Message-id: <492EB4A3F68CD411ABE800508B69362E60518A@RIPEXCH002.wcomnet.com>
MIME-version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-type: text/plain; charset=iso-8859-1
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

Can it also be clarified that in a Contact header, if there is are
parameters that are not enclosed within "<>" that they are considered header
parameters instead of URL parameters?  Apparently this issue came up at the
bake-off.

In other words, if the following is received:

Contact: sip:user@host;methods="INVITE,NOTIFY"  

It should not be treated as a syntactically incorrect URL parameter, but as
a syntactically correct header parameter.




-----Original Message-----
From: Jonathan Rosenberg [mailto:jdrosen@dynamicsoft.com]
Sent: Thursday, December 06, 2001 10:35 AM
To: 'sip@ietf.org'
Subject: [Sip] Open Issue #205: Headers and method param in 3xx/REGISTER
Contact header URLs


Issue:

Minor issue.

bis-05 allows the URL method parameter and header parameters to appear in
3xx and REGISTER requests/responses. Do we really want this?

Discussion:

Headers - yes. It makes sense for me to be able to redirect you to my
voicemail with a specific Subject header, for example:

303 Send Voicemail SIP/2.0
Contact: sip:myvoicemail@vm.com?Subject=call%20from%20Bob

Method parameter - no. That is definitely dangerous. The only complication
is that we use the caller preferences methods (note the plural) contact
header for presence, amongst other things. Due to the unfortunate closeness
of these two parameter names, some people are using the method param
instead, i.e.:

REGISTER
Contact: sip:user@host;method="SUBSCRIBE"

This is definitely WRONG, since the syntax for method does not actually use
quoted strings. However, it is out there.

I would argue, on the other hand, that we should not standardize something
because people have misimplemented it.

Proposal:

Allow headers
disallow method

-Jonathan R.

---
Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
Chief Scientist                             First Floor
dynamicsoft                                 East Hanover, NJ 07936
jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
http://www.jdrosen.net                      PHONE: (973) 952-5000
http://www.dynamicsoft.com
 

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@ns.ietf.org  Mon Dec 17 15:34:09 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA17479
	for <sip-archive@odin.ietf.org>; Mon, 17 Dec 2001 15:34:08 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id PAA18467
	for sip-archive@odin.ietf.org; Mon, 17 Dec 2001 15:34:12 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id PAA17617;
	Mon, 17 Dec 2001 15:01:41 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id PAA17586
	for <sip@ns.ietf.org>; Mon, 17 Dec 2001 15:01:38 -0500 (EST)
Received: from thalia.fm.intel.com (fmfdns02.fm.intel.com [132.233.247.11])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA16617
	for <sip@ietf.org>; Mon, 17 Dec 2001 15:01:34 -0500 (EST)
Received: from fmsmsxvs041.fm.intel.com (fmsmsxv041-1.fm.intel.com [132.233.48.109])
	by thalia.fm.intel.com (8.9.1a+p1/8.9.1/d: relay.m4,v 1.48 2001/12/13 16:27:50 root Exp $) with SMTP id UAA26471
	for <sip@ietf.org>; Mon, 17 Dec 2001 20:01:37 GMT
Received: from FMSMSX018.fm.intel.com ([132.233.42.197])
 by fmsmsxvs041.fm.intel.com (NAVGW 2.5.1.16) with SMTP id M2001121712024327391
 for <sip@ietf.org>; Mon, 17 Dec 2001 12:02:43 -0800
Received: by fmsmsx018.fm.intel.com with Internet Mail Service (5.5.2653.19)
	id <YXXTKN1D>; Mon, 17 Dec 2001 12:01:36 -0800
Message-ID: <F1CE15E08172D4119247009027AE9D500E4EB541@FMSMSX37>
From: "Padhye, Chinmay" <c_padhye@trillium.com>
To: "'sip@ietf.org'" <sip@ietf.org>
Date: Mon, 17 Dec 2001 12:01:35 -0800
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Subject: [Sip] Caller Preferences (05) - Clarification on ABNF syntax for cp-par
 ams.
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

Hello,

	I have a question about the ABNF definition for cp-params as defined
in version - 05 of the caller preferences draft. I am taking 'feature-param'
as an example.

	The ABNF for 'feature-param' is defined as -

---- (From the draft)
	feature-param   =  "feature" "=" <"> [<!>] 1#feature-conjunction <">
	feature-conjunction    =  feature-value ["&" feature-conjunction]
   	feature-value          =  "voice-mail" | "attendant" | other-value
----
   
	This is an example from the draft -

---- (From the draft)
	However, the following are illegal Contact headers:
      Contact: sip:user@host;feature="voicemail&attendant"'
      Contact: sip:user@foo.edu;mobility="!fixed"

      But the same two are valid Accept-Contact headers:
      Accept-Contact: sip:user@host;feature="voicemail&attendant"
      Accept-Contact: sip:user@foo.edu;mobility="!fixed"
----

	Hence ',' is used a separator for 'feature-conjunction' when
'feature-param' appears in the 'Contact' header and  '&' is used a separator
for 'feature-conjunction' when 'feature-param' appears in the
'Accept-Contact' header. Is this correct? 

	What is the ABNF for 'feature-param' if someone decides to use in
some other method. Specifically what should the separator value be? 

	IMO there should be a consistent ABNF definition for a parameter
irrespective of the header in which appears, especially for things like the
separator value. The description of a parameter should not depend on the
header in which the parameter is present. 

	Any comments?

Regards,

Chinmay
(The opinions expressed here are mine alone)

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@ns.ietf.org  Mon Dec 17 19:03:56 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id TAA21862
	for <sip-archive@odin.ietf.org>; Mon, 17 Dec 2001 19:03:56 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id TAA23876
	for sip-archive@odin.ietf.org; Mon, 17 Dec 2001 19:03:57 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id SAA23238;
	Mon, 17 Dec 2001 18:43:57 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id SAA23211
	for <sip@ns.ietf.org>; Mon, 17 Dec 2001 18:43:52 -0500 (EST)
Received: from thalia.fm.intel.com (fmfdns02.fm.intel.com [132.233.247.11])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id SAA21645
	for <sip@ietf.org>; Mon, 17 Dec 2001 18:43:48 -0500 (EST)
Received: from fmsmsxvs041.fm.intel.com (fmsmsxv041-1.fm.intel.com [132.233.48.109])
	by thalia.fm.intel.com (8.9.1a+p1/8.9.1/d: relay.m4,v 1.48 2001/12/13 16:27:50 root Exp $) with SMTP id XAA14485
	for <sip@ietf.org>; Mon, 17 Dec 2001 23:43:52 GMT
Received: from fmsmsx27.fm.intel.com ([132.233.42.27])
 by fmsmsxvs041.fm.intel.com (NAVGW 2.5.1.16) with SMTP id M2001121715445927613
 for <sip@ietf.org>; Mon, 17 Dec 2001 15:44:59 -0800
Received: by fmsmsx27.fm.intel.com with Internet Mail Service (5.5.2653.19)
	id <YXX7QDL0>; Mon, 17 Dec 2001 15:43:52 -0800
Message-ID: <F1CE15E08172D4119247009027AE9D500E4EB548@FMSMSX37>
From: "Padhye, Chinmay" <c_padhye@trillium.com>
To: "'sip@ietf.org'" <sip@ietf.org>
Date: Mon, 17 Dec 2001 15:43:50 -0800
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="ISO-8859-1"
Subject: [Sip] Caller Preferences - (version 05) wrong separator mentioned.
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

Hello,

	From section 6.4.

	The processing depends heavily on a rule matching operation. This
operation takes a rule (defined as a single element from the comma separated
list of elements in the Accept-Contact or Reject-Contact headers), and
matches it against the contact list obtained from the location service. 

	The elements in the Accept-Contact headers and Reject-Contact
headers are separated by '&' and not by a comma in the section 5.1 example.

Regards,

Chinmay
	

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@ns.ietf.org  Tue Dec 18 05:08:22 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id FAA16635
	for <sip-archive@odin.ietf.org>; Tue, 18 Dec 2001 05:08:22 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id FAA17762
	for sip-archive@odin.ietf.org; Tue, 18 Dec 2001 05:08:26 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id EAA17043;
	Tue, 18 Dec 2001 04:45:49 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id EAA17014
	for <sip@ns.ietf.org>; Tue, 18 Dec 2001 04:45:46 -0500 (EST)
Received: from beamer.mchh.siemens.de (beamer.mchh.siemens.de [194.138.158.163])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id EAA16462
	for <sip@ietf.org>; Tue, 18 Dec 2001 04:45:42 -0500 (EST)
Received: from moody.mchh.siemens.de (mail2.mchh.siemens.de [194.138.158.226])
	by beamer.mchh.siemens.de (8.9.3/8.9.3) with ESMTP id KAA15721
	for <sip@ietf.org>; Tue, 18 Dec 2001 10:45:34 +0100 (MET)
Received: from mchh150e.mch.pn.siemens.de ([139.21.130.150])
	by moody.mchh.siemens.de (8.9.1/8.9.1) with ESMTP id KAA21838
	for <sip@ietf.org>; Tue, 18 Dec 2001 10:45:33 +0100 (MET)
Received: by mchh150e.mch.pn.siemens.de with Internet Mail Service (5.5.2653.19)
	id <Y9AQG9RP>; Tue, 18 Dec 2001 10:45:38 +0100
Message-ID: <5B4D0C5BA65ECA46969C1419122317E61C4950@mchh161e>
From: Mayer Georg  ICM N PG SP ST SN 1 <Georg.Mayer@icn.siemens.de>
To: "SIP (E-Mail)" <sip@ietf.org>
Date: Tue, 18 Dec 2001 10:43:21 +0100
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Subject: [Sip] What does a refresh request update
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

Hello,

regarding the refresh requests in the bis05:

When sending a refresh request, does this only update the
Contact-Information of the initially recorded route or is it possible to
change also the route? It is stated, that refresh requests shall include a
record-route header, although they might go along an already recorded route.
So I would assume they can also change the lists/sequence of proxies between
the users.

Thanks for your support.
Georg

_______________________________________________________
Georg Mayer - Siemens AG
Information and Communication Mobile
ICM N PG SP ST SN1
Hofmannstr. 51, 81359 Munich, Germany
Fon: +49-89-722-33114
Fax: +49-89-722-62250
Mobile: +49-172-5371233
Email: georg.mayer@icn.siemens.de




_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@ns.ietf.org  Tue Dec 18 08:07:13 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id IAA18302
	for <sip-archive@odin.ietf.org>; Tue, 18 Dec 2001 08:07:13 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id IAA22185
	for sip-archive@odin.ietf.org; Tue, 18 Dec 2001 08:07:16 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id HAA21624;
	Tue, 18 Dec 2001 07:48:22 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id HAA21595
	for <sip@ns.ietf.org>; Tue, 18 Dec 2001 07:48:19 -0500 (EST)
Received: from penguin-ext.wise.edt.ericsson.se (penguin-ext.wise.edt.ericsson.se [194.237.142.110])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id HAA17892
	for <sip@ietf.org>; Tue, 18 Dec 2001 07:48:15 -0500 (EST)
Received: from fogerty.lmf.ericsson.se (fogerty.lmf.ericsson.se [131.160.11.6])
	by penguin.wise.edt.ericsson.se (8.11.0/8.11.0/WIREfire-1.3) with ESMTP id fBICmGK09019
	for <sip@ietf.org>; Tue, 18 Dec 2001 13:48:16 +0100 (MET)
Received: from lmf.ericsson.se (E005004B52C74.lmf.ericsson.se [131.160.30.16])
	by fogerty.lmf.ericsson.se (8.12.1/8.12.1/lmf.8.12.1.jcs) with ESMTP id fBICmFQ4026447
	for <sip@ietf.org>; Tue, 18 Dec 2001 14:48:16 +0200 (EET)
Message-ID: <3C1F3B0E.C089E0E5@lmf.ericsson.se>
Date: Tue, 18 Dec 2001 14:48:14 +0200
From: Christer Holmberg <christer.holmberg@lmf.ericsson.se>
X-Mailer: Mozilla 4.61 [en] (WinNT; I)
X-Accept-Language: en
MIME-Version: 1.0
To: sip@ietf.org
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Subject: [Sip] PRACK question
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit


Hi,

Chapter 6.2 in the PRACK draft (draft-ietf-sip-100rel-04) says that if
an UAS sends a final response it SHOULD continue to retransmit any
outstanding provisional responses until they are PRACKed.

My question:

If the final response is a non-200 response, SHOULD the UAS still
continue to retransmit the provisional responses? Yes, in most cases one
could argue that this is a pure implementation issue. 

However, if the INVITE is CANCELled (the draft doesn't mention that
scenario), and a 487 final response is sent for the INVITE, according to
the draft the provisional responses SHOULD still be retransmitted. Is
there really a need for that?

Regards,

Christer Holmberg
Ericsson Finland

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@ns.ietf.org  Tue Dec 18 10:21:38 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id KAA19831
	for <sip-archive@odin.ietf.org>; Tue, 18 Dec 2001 10:21:38 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id KAA25736
	for sip-archive@odin.ietf.org; Tue, 18 Dec 2001 10:21:41 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id JAA24691;
	Tue, 18 Dec 2001 09:56:53 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id JAA24662
	for <sip@ns.ietf.org>; Tue, 18 Dec 2001 09:56:50 -0500 (EST)
Received: from mail1.dynamicsoft.com (mail1.dynamicsoft.com [63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id JAA19448
	for <sip@ietf.org>; Tue, 18 Dec 2001 09:56:47 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fBIEshES007883;
	Tue, 18 Dec 2001 09:54:43 -0500 (EST)
Received: from dynamicsoft.com (POPE1 [63.113.46.102]) by DYN-EXCH-001.dynamicsoft.com with SMTP (Microsoft Exchange Internet Mail Service Version 5.5.2653.13)
	id ZDFR124N; Tue, 18 Dec 2001 09:56:18 -0500
Message-ID: <3C1F5912.6090608@dynamicsoft.com>
Date: Tue, 18 Dec 2001 09:56:18 -0500
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:0.9.4) Gecko/20011128 Netscape6/6.2.1
X-Accept-Language: en-us
MIME-Version: 1.0
To: Mayer Georg ICM N PG SP ST SN 1 <Georg.Mayer@icn.siemens.de>
CC: "SIP (E-Mail)" <sip@ietf.org>
Subject: Re: [Sip] What does a refresh request update
References: <5B4D0C5BA65ECA46969C1419122317E61C4950@mchh161e>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit



Mayer Georg ICM N PG SP ST SN 1 wrote:

> Hello,
> 
> regarding the refresh requests in the bis05:
> 
> When sending a refresh request, does this only update the
> Contact-Information of the initially recorded route or is it possible to
> change also the route? 


The information from the record-routes does not change, only the 
contact. Otherwise, proxies would be forced to record-route all the time 
to stay on the path, and this would introduce backwards compatibility 
issues.

-Jonathan R.
-- 
Jonathan Rosenberg, PhD                 72 Eagle Rock Avenue
Chief Scientist                         First Floor
dynamicsoft                             East Hanover, NJ 07936
jdrosen@dynamicsoft.com                 FAX: (973) 952-5050
http://www.jdrosen.net                  PH: (973) 952-5000
http://www.dynamicsoft.com


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@ns.ietf.org  Tue Dec 18 10:23:19 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id KAA19850
	for <sip-archive@odin.ietf.org>; Tue, 18 Dec 2001 10:23:19 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id KAA25776
	for sip-archive@odin.ietf.org; Tue, 18 Dec 2001 10:23:22 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id KAA25216;
	Tue, 18 Dec 2001 10:02:49 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id KAA25187
	for <sip@ns.ietf.org>; Tue, 18 Dec 2001 10:02:46 -0500 (EST)
Received: from mail1.dynamicsoft.com (mail1.dynamicsoft.com [63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id KAA19542
	for <sip@ietf.org>; Tue, 18 Dec 2001 10:02:43 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fBIF0eES007970;
	Tue, 18 Dec 2001 10:00:40 -0500 (EST)
Received: from dynamicsoft.com (POPE1 [63.113.46.102]) by DYN-EXCH-001.dynamicsoft.com with SMTP (Microsoft Exchange Internet Mail Service Version 5.5.2653.13)
	id ZDFR12VR; Tue, 18 Dec 2001 10:02:15 -0500
Message-ID: <3C1F5A76.8010208@dynamicsoft.com>
Date: Tue, 18 Dec 2001 10:02:15 -0500
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:0.9.4) Gecko/20011128 Netscape6/6.2.1
X-Accept-Language: en-us
MIME-Version: 1.0
To: Jonathan Rosenberg <jdrosen@dynamicsoft.com>,
        "Padhye, Chinmay" <c_padhye@trillium.com>,
        "SIP (E-Mail)" <sip@ietf.org>
Subject: Re: [Fwd: [Sip] Caller Preferences - (version 05) wrong separator  me	ntioned.]
References: <3C1E95FA.F877CFF0@dynamicsoft.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit



Chinmay Padhye wrote:

> 
> ------------------------------------------------------------------------
> Hello,
> 
> 	From section 6.4.
> 
> 	The processing depends heavily on a rule matching operation.
> This
> operation takes a rule (defined as a single element from the comma
> separated
> list of elements in the Accept-Contact or Reject-Contact headers), and
> matches it against the contact list obtained from the location service. 
> 
> 	The elements in the Accept-Contact headers and Reject-Contact
> headers are separated by '&' and not by a comma in the section 5.1
> example.


No; you are confusing values of the contact-parameters with elements of 
the Accept-Contact header itself. For example:

Accept-Contact: sip:domain;media="audio&video", *;media="audio"

has two elements - (sip:domain;media="audio&video") and 
(*;media="audio"). These are seperated by comma values.

-Jonathan R.
-- 
Jonathan Rosenberg, PhD                 72 Eagle Rock Avenue
Chief Scientist                         First Floor
dynamicsoft                             East Hanover, NJ 07936
jdrosen@dynamicsoft.com                 FAX: (973) 952-5050
http://www.jdrosen.net                  PH: (973) 952-5000
http://www.dynamicsoft.com


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@ns.ietf.org  Tue Dec 18 10:37:38 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id KAA20138
	for <sip-archive@odin.ietf.org>; Tue, 18 Dec 2001 10:37:38 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id KAA26413
	for sip-archive@odin.ietf.org; Tue, 18 Dec 2001 10:37:41 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id KAA25423;
	Tue, 18 Dec 2001 10:08:38 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id KAA25397
	for <sip@ns.ietf.org>; Tue, 18 Dec 2001 10:08:36 -0500 (EST)
Received: from mail1.dynamicsoft.com (mail1.dynamicsoft.com [63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id KAA19652
	for <sip@ietf.org>; Tue, 18 Dec 2001 10:08:32 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fBIF6UES008037;
	Tue, 18 Dec 2001 10:06:30 -0500 (EST)
Received: from dynamicsoft.com (POPE1 [63.113.46.102]) by DYN-EXCH-001.dynamicsoft.com with SMTP (Microsoft Exchange Internet Mail Service Version 5.5.2653.13)
	id ZDFR12WG; Tue, 18 Dec 2001 10:08:04 -0500
Message-ID: <3C1F5BD4.3060503@dynamicsoft.com>
Date: Tue, 18 Dec 2001 10:08:04 -0500
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:0.9.4) Gecko/20011128 Netscape6/6.2.1
X-Accept-Language: en-us
MIME-Version: 1.0
To: "Padhye, Chinmay" <c_padhye@trillium.com>
CC: sip@ietf.org
Subject: Re: [Sip] Caller Preferences (05) - Clarification on ABNF syntax for cp-par ams.
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit



Padhye, Chinmay wrote:

> Hello,
> 
> 	I have a question about the ABNF definition for cp-params as defined
> in version - 05 of the caller preferences draft. I am taking 'feature-param'
> as an example.
> 
> 	The ABNF for 'feature-param' is defined as -
> 
> ---- (From the draft)
> 	feature-param   =  "feature" "=" <"> [<!>] 1#feature-conjunction <">
> 	feature-conjunction    =  feature-value ["&" feature-conjunction]
>    	feature-value          =  "voice-mail" | "attendant" | other-value
> ----
>    
> 	This is an example from the draft -
> 
> ---- (From the draft)
> 	However, the following are illegal Contact headers:
>       Contact: sip:user@host;feature="voicemail&attendant"'
>       Contact: sip:user@foo.edu;mobility="!fixed"
> 
>       But the same two are valid Accept-Contact headers:
>       Accept-Contact: sip:user@host;feature="voicemail&attendant"
>       Accept-Contact: sip:user@foo.edu;mobility="!fixed"
> ----
> 
> 	Hence ',' is used a separator for 'feature-conjunction' when
> 'feature-param' appears in the 'Contact' header and  '&' is used a separator
> for 'feature-conjunction' when 'feature-param' appears in the
> 'Accept-Contact' header. Is this correct? 


No. When used in Contact, the feature-conjunction can only have one 
element. Thus, the comma separates single-valued conjunctions.


> 
> 	What is the ABNF for 'feature-param' if someone decides to use in
> some other method. Specifically what should the separator value be? 
> 
> 	IMO there should be a consistent ABNF definition for a parameter
> irrespective of the header in which appears, especially for things like the
> separator value. The description of a parameter should not depend on the
> header in which the parameter is present. 


It is not. The header its present in does introduces constraints which 
are not described by the BNF; that is a frequent thing. For example, a 
SIP URL isn't supposed to have a ttl if the address isn't multicast. 
Good luck representing that with BNF.


-Jonathan R.
-- 
Jonathan Rosenberg, PhD                 72 Eagle Rock Avenue
Chief Scientist                         First Floor
dynamicsoft                             East Hanover, NJ 07936
jdrosen@dynamicsoft.com                 FAX: (973) 952-5050
http://www.jdrosen.net                  PH: (973) 952-5000
http://www.dynamicsoft.com


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Tue Dec 18 12:03:56 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA21967
	for <sip-archive@odin.ietf.org>; Tue, 18 Dec 2001 12:03:56 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id MAA29822
	for sip-archive@odin.ietf.org; Tue, 18 Dec 2001 12:04:00 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id LAA28054;
	Tue, 18 Dec 2001 11:31:42 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id LAA28024
	for <sip@optimus.ietf.org>; Tue, 18 Dec 2001 11:31:39 -0500 (EST)
Received: from mail1.dynamicsoft.com (mail1.dynamicsoft.com [63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id LAA21103
	for <sip@ietf.org>; Tue, 18 Dec 2001 11:31:35 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fBIGTXES008923;
	Tue, 18 Dec 2001 11:29:33 -0500 (EST)
Received: from dynamicsoft.com (POPE1 [63.113.46.102]) by DYN-EXCH-001.dynamicsoft.com with SMTP (Microsoft Exchange Internet Mail Service Version 5.5.2653.13)
	id ZDFR1JAR; Tue, 18 Dec 2001 11:31:09 -0500
Message-ID: <3C1F6F4C.3040506@dynamicsoft.com>
Date: Tue, 18 Dec 2001 11:31:08 -0500
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:0.9.4) Gecko/20011128 Netscape6/6.2.1
X-Accept-Language: en-us
MIME-Version: 1.0
To: "McMurry, Kathleen" <Kathleen.McMurry@wcom.com>
CC: sip@ietf.org
Subject: Re: [Sip] Open Issue #205: Headers and method param in 3xx/REGIST	ER Contact header URLs
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit



McMurry, Kathleen wrote:

> Can it also be clarified that in a Contact header, if there is are
> parameters that are not enclosed within "<>" that they are considered header
> parameters instead of URL parameters?  Apparently this issue came up at the
> bake-off.
> 
> In other words, if the following is received:
> 
> Contact: sip:user@host;methods="INVITE,NOTIFY"  
> 
> It should not be treated as a syntactically incorrect URL parameter, but as
> a syntactically correct header parameter.


OK. We will clarify that.

Thanks,
Jonathan R.

-- 
Jonathan Rosenberg, PhD                 72 Eagle Rock Avenue
Chief Scientist                         First Floor
dynamicsoft                             East Hanover, NJ 07936
jdrosen@dynamicsoft.com                 FAX: (973) 952-5050
http://www.jdrosen.net                  PH: (973) 952-5000
http://www.dynamicsoft.com


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Tue Dec 18 12:11:43 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA22114
	for <sip-archive@odin.ietf.org>; Tue, 18 Dec 2001 12:11:42 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id MAA29908
	for sip-archive@odin.ietf.org; Tue, 18 Dec 2001 12:11:47 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id LAA28763;
	Tue, 18 Dec 2001 11:55:47 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id LAA28732
	for <sip@optimus.ietf.org>; Tue, 18 Dec 2001 11:55:45 -0500 (EST)
Received: from mail1.dynamicsoft.com (mail1.dynamicsoft.com [63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id LAA21796
	for <sip@ietf.org>; Tue, 18 Dec 2001 11:55:40 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fBIGrbES009263;
	Tue, 18 Dec 2001 11:53:37 -0500 (EST)
Received: from dynamicsoft.com (POPE1 [63.113.46.102]) by DYN-EXCH-001.dynamicsoft.com with SMTP (Microsoft Exchange Internet Mail Service Version 5.5.2653.13)
	id ZDFR1J14; Tue, 18 Dec 2001 11:55:13 -0500
Message-ID: <3C1F74F0.8060006@dynamicsoft.com>
Date: Tue, 18 Dec 2001 11:55:12 -0500
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:0.9.4) Gecko/20011128 Netscape6/6.2.1
X-Accept-Language: en-us
MIME-Version: 1.0
To: "Rawlins, Diana" <Diana.Rawlins@wcom.com>
CC: sip@ietf.org
Subject: Re: [Sip] #145 - SRV stateless ?load balancing?
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

No, no news.

I have the token to prepare an update to draft-ietf-sip-srv and then 
obtain feedback based on that. Some of the concerns raised by the DNS 
experts that need to be addressed include:

1. our usage of SRV to "search" the DNS for entries across a variety of 
transports, and worse, the merging of priority values across entries. 
The latter was a serious concern. A suggestion made by one of the 
experts was to use NAPTR for this search piece, and then use SRV 
afterwards once you know what transport to use.

2. the fact that SRV records are used if the port is explicitly listed 
as 5060, and A records if its explicitly listed as 5061. The feedback 
was that an explicit port should use A record independent of its value. 
This oddball behavior is because in SIP, we treat the following as equal:

sip:user@domain:5060
sip:user@domain

and it was our belief that two equal URLs should result in the same 
behavior when looked up. In hindsight, the error was making those two 
URLs equal in the first place, and this is what drove my query to the 
list sometime back for info on who is inserting :5060 into URLs.

3. Our approach of trying records across transports is messy

4. the whole process is not clear at all


Thanks,
Jonathan R.

Rawlins, Diana wrote:

> Any updates to the comment made during the SIP WG sessions that stateless proxies using SRV for load balancing is under evaluation by the IESG / DNS experts?
> 
> -Diana 
> 
> 


-- 
Jonathan Rosenberg, PhD                 72 Eagle Rock Avenue
Chief Scientist                         First Floor
dynamicsoft                             East Hanover, NJ 07936
jdrosen@dynamicsoft.com                 FAX: (973) 952-5050
http://www.jdrosen.net                  PH: (973) 952-5000
http://www.dynamicsoft.com


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Tue Dec 18 12:43:54 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA22761
	for <sip-archive@odin.ietf.org>; Tue, 18 Dec 2001 12:43:53 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id MAA01051
	for sip-archive@odin.ietf.org; Tue, 18 Dec 2001 12:43:53 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA00337;
	Tue, 18 Dec 2001 12:23:39 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA00306
	for <sip@optimus.ietf.org>; Tue, 18 Dec 2001 12:23:35 -0500 (EST)
Received: from mail1.dynamicsoft.com (mail1.dynamicsoft.com [63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA22319
	for <sip@ietf.org>; Tue, 18 Dec 2001 12:23:30 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fBIHLSES009526;
	Tue, 18 Dec 2001 12:21:28 -0500 (EST)
Received: from dynamicsoft.com (POPE1 [63.113.46.102]) by DYN-EXCH-001.dynamicsoft.com with SMTP (Microsoft Exchange Internet Mail Service Version 5.5.2653.13)
	id ZDFR1J2B; Tue, 18 Dec 2001 12:23:03 -0500
Message-ID: <3C1F7B76.1090307@dynamicsoft.com>
Date: Tue, 18 Dec 2001 12:23:02 -0500
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:0.9.4) Gecko/20011128 Netscape6/6.2.1
X-Accept-Language: en-us
MIME-Version: 1.0
To: Alan Johnston <alan.johnston@wcom.com>
CC: Robert Sparks <rsparks@dynamicsoft.com>, "'JF Rey'" <jfr@post.com>,
        sip@ietf.org
Subject: Re: [Sip] Immediate NOTIFY to a REFER (or other implied subscriptions)
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

We could avoid the immediate NOTIFY if its true that the reason we 
needed it in sip-events doesn't apply here.

The reason we needed it in sip-events was because the SUBSCRIBE might 
fork, and we need to hear back from each forked branch in order to 
reject the susbcription, get its state, determine how to refresh it, etc.

Do we expect REFER to fork? If so, then the immediate NOTIFY might be 
important.

Generally, although it seems needless overhead, I'd prefer to have one 
sip-events framework, not two. If REFER is indeed an implicit 
subscription, it should follow the sip-events framework.

We can also instead just remove all this implicit stuff from refer, and 
define the refer event package as a separate, formal package. It would 
then require an explicit SUBSCRIBE, but otherwise work identically.

Just a thought.

-Jonathan R.

Alan Johnston wrote:

> I'm inclined to not mess with REFER (yet again) at this late date unless
> there is some very, very strong motivation.
> 
> Are there any tangible benefits to doing so?
> 
> Thanks,
> Alan.
> 
> Robert Sparks wrote:
> 
> 
>>In the sip-events discussion in the SIP WG meeting I asked if
>>REFER should hold to events immediate NOTIFY semantic. There
>>was short mixed discussion, but no conclusive consensus.
>>
>>Private conversations since have suggested an implicit
>>SUBSCRIBE gets an implicit immediate NOTIFY.
>>
>>Thoughts?
>>
>>RjS
>>
>>_______________________________________________
>>Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
>>This list is for NEW development of the core SIP Protocol
>>Use sip-implementors@cs.columbia.edu for questions on current sip
>>Use sipping@ietf.org for new developments on the application of sip
>>
> 
> 
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
> 


-- 
Jonathan Rosenberg, PhD                 72 Eagle Rock Avenue
Chief Scientist                         First Floor
dynamicsoft                             East Hanover, NJ 07936
jdrosen@dynamicsoft.com                 FAX: (973) 952-5050
http://www.jdrosen.net                  PH: (973) 952-5000
http://www.dynamicsoft.com


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Tue Dec 18 12:43:57 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA22779
	for <sip-archive@odin.ietf.org>; Tue, 18 Dec 2001 12:43:57 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id MAA01065
	for sip-archive@odin.ietf.org; Tue, 18 Dec 2001 12:43:59 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA00082;
	Tue, 18 Dec 2001 12:17:46 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA00057
	for <sip@optimus.ietf.org>; Tue, 18 Dec 2001 12:17:44 -0500 (EST)
Received: from mail1.dynamicsoft.com (mail1.dynamicsoft.com [63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA22253
	for <sip@ietf.org>; Tue, 18 Dec 2001 12:17:39 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fBIHFZES009455;
	Tue, 18 Dec 2001 12:15:35 -0500 (EST)
Received: from dynamicsoft.com (POPE1 [63.113.46.102]) by DYN-EXCH-001.dynamicsoft.com with SMTP (Microsoft Exchange Internet Mail Service Version 5.5.2653.13)
	id ZDFR1JHA; Tue, 18 Dec 2001 12:17:10 -0500
Message-ID: <3C1F7A16.3050906@dynamicsoft.com>
Date: Tue, 18 Dec 2001 12:17:10 -0500
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:0.9.4) Gecko/20011128 Netscape6/6.2.1
X-Accept-Language: en-us
MIME-Version: 1.0
To: "Gandhi, Chetan" <chetan@trillium.com>
CC: bbyerly@us.ibm.com, dougw@watson.ibm.com, sip@ietf.org
Subject: Re: [Sip] status of SIP and RADIUS
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

There have been two proposals for SIP and radius. In addition to the one 
you site, there is also:

http://www.normos.org/ietf/draft/draft-sterman-aaa-sip-00.txt

The above seeks to add digest support to radius, as opposed to adding 
radius support to sip.

Note that neither of these are currently chartered items of the sip 
working group.

-Jonathan R.

Gandhi, Chetan wrote:

> Hello,
> 	I do not see an updated version of draft-byerly-sip-radius-01.txt. 
> 
> 	What is the status of this draft ? If it has died can someone please
> tell me the reason why it died ? 
> 
> 	I am currently looking at implementing AAA services using RADIUS. Is
> there any other draft that talks about it.
> 
> thanks,
> Chetan Gandhi
> 
> 
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
> 


-- 
Jonathan Rosenberg, PhD                 72 Eagle Rock Avenue
Chief Scientist                         First Floor
dynamicsoft                             East Hanover, NJ 07936
jdrosen@dynamicsoft.com                 FAX: (973) 952-5050
http://www.jdrosen.net                  PH: (973) 952-5000
http://www.dynamicsoft.com


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Tue Dec 18 12:55:32 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA22951
	for <sip-archive@odin.ietf.org>; Tue, 18 Dec 2001 12:55:32 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id MAA01287
	for sip-archive@odin.ietf.org; Tue, 18 Dec 2001 12:55:34 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA00920;
	Tue, 18 Dec 2001 12:36:36 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA00888
	for <sip@optimus.ietf.org>; Tue, 18 Dec 2001 12:36:33 -0500 (EST)
Received: from mail1.dynamicsoft.com (mail1.dynamicsoft.com [63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA22585
	for <sip@ietf.org>; Tue, 18 Dec 2001 12:36:28 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fBIHYPES009645;
	Tue, 18 Dec 2001 12:34:25 -0500 (EST)
Received: from dynamicsoft.com (POPE1 [63.113.46.102]) by DYN-EXCH-001.dynamicsoft.com with SMTP (Microsoft Exchange Internet Mail Service Version 5.5.2653.13)
	id ZDFR1JJQ; Tue, 18 Dec 2001 12:36:00 -0500
Message-ID: <3C1F7E80.5030100@dynamicsoft.com>
Date: Tue, 18 Dec 2001 12:36:00 -0500
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:0.9.4) Gecko/20011128 Netscape6/6.2.1
X-Accept-Language: en-us
MIME-Version: 1.0
To: Gabriel Velo <gvelo@astartec.com>
CC: "Sip@Ietf. Org" <sip@ietf.org>
Subject: Re: [Sip] Question about via headers and transactions matching
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

This issue has come up a few times, unfortunately, the bis-05 text does 
not help clarify it.

The UAC should do the comparison ONLY on the fields it has itself 
inserted. This means that the received param needs to be ignored in the 
matching process. However, bis-05 says nothing about that.

Based on agreement at the meeting (which needs to be confirmed on the 
list, of course), the via branch ID will now be required to be globally 
unique. Thus, the client transaction would match up a response to a 
request by checking the branch ID in the response, plus the method 
(CANCEL still has to have the same branch ID even though its a different 
  transaction; this is an artifact of the cancel matching process). Note 
that you can do this TODAY without any standards action. Since the 
server always mirrors the branch back to you, you can do this without 
needing support from the server.

bis-06 will reflect this.

-Jonathan R.

Gabriel Velo wrote:

> Dear All,
> 
> When a UAS generate a response , this copy the top via header of the request
> , but if the transport layer of UAS add a received parameter to the via
> header of the request,  the UAC can't match the corresponding client
> transactions due a received parameter.
> 
> this is right ?
> 
> is any match rule defined to the via header?
> 
> Regards.
> 
> Gabriel Velo
> 
> 
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
> 


-- 
Jonathan Rosenberg, PhD                 72 Eagle Rock Avenue
Chief Scientist                         First Floor
dynamicsoft                             East Hanover, NJ 07936
jdrosen@dynamicsoft.com                 FAX: (973) 952-5050
http://www.jdrosen.net                  PH: (973) 952-5000
http://www.dynamicsoft.com


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Tue Dec 18 13:47:45 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id NAA23821
	for <sip-archive@odin.ietf.org>; Tue, 18 Dec 2001 13:47:45 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id NAA02889
	for sip-archive@odin.ietf.org; Tue, 18 Dec 2001 13:47:48 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id NAA02582;
	Tue, 18 Dec 2001 13:35:26 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id NAA02547
	for <sip@optimus.ietf.org>; Tue, 18 Dec 2001 13:35:23 -0500 (EST)
Received: from mail1.dynamicsoft.com (mail1.dynamicsoft.com [63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id NAA23632
	for <sip@ietf.org>; Tue, 18 Dec 2001 13:35:19 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fBIIXBES010136;
	Tue, 18 Dec 2001 13:33:13 -0500 (EST)
Received: from dynamicsoft.com (POPE1 [63.113.46.102]) by DYN-EXCH-001.dynamicsoft.com with SMTP (Microsoft Exchange Internet Mail Service Version 5.5.2653.13)
	id ZDFR1JQB; Tue, 18 Dec 2001 13:34:47 -0500
Message-ID: <3C1F8C45.3070800@dynamicsoft.com>
Date: Tue, 18 Dec 2001 13:34:45 -0500
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:0.9.4) Gecko/20011128 Netscape6/6.2.1
X-Accept-Language: en-us
MIME-Version: 1.0
To: De Leo Walter <deleow@telefonica.com.ar>
CC: sip@ietf.org
Subject: Re: [Sip] End to end ACKs
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 8bit
Content-Transfer-Encoding: 8bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 8bit



De Leo Walter wrote:

> I have a doubt with end to end ACKs
> 1) Line 1797 of bis 05 says:
> "Once the ACK has been constructed, the procedures of Section 24 are used to
> send it."
> 
> 2) In section 24 lines 4185 to 4190 say
> "Once a next hop is successfully contacted, that same next hop address MUST
> be used for all subsequent
> messages that share the same Call-ID. More specifically, once a request is
> delivered successfully to a par-
> ticular next hop, all subsequent requests with the same Call-ID MUST be
> delivered to that next hop. Once a
> response is delivered successfully to a particular next hop, all subsequent
> responses with the same Call-ID
> MUST be delivered to that next hop. However, if that next hop fails, the
> selection algorithms MUST be re-run
> for the top." 
> 
> 3) But in lines 438 to 444 it is said:
> "Note that in this example, the ACK is sent directly from Alice to Bob,
> bypassing the two proxies. This is due to 
> the fact that through the INVITE/200 OK exchange, the two SIP user agents
> have learned each other's IP
> address through the Contact header fields, something which was not known
> when the initial INVITE was 
> sent. The lookups performed by the two proxies are no longer needed, so they
> drop put of the call flow. This
> completes the INVITE/200/ACK three way handshake used to establish SIP
> sessions, and is the end of the transaction."
> 
> Arent this the first two paragraphs contradictory with the third?


What the second is trying to say is that for the same URI, all requests 
with the same call-id go to the same place. THis needs to be clarified 
in the text, since based on the literal interpretation you are correct 
that they are inconsistent. However, if, as a result of the various SRV 
open issues, we require consistent usage of the same server only within 
a transaction, this point becomes moot, since the ACK-200 is a separate 
transaction.

-Jonathan R.
-- 
Jonathan Rosenberg, PhD                 72 Eagle Rock Avenue
Chief Scientist                         First Floor
dynamicsoft                             East Hanover, NJ 07936
jdrosen@dynamicsoft.com                 FAX: (973) 952-5050
http://www.jdrosen.net                  PH: (973) 952-5000
http://www.dynamicsoft.com


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Tue Dec 18 14:24:55 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id OAA24495
	for <sip-archive@odin.ietf.org>; Tue, 18 Dec 2001 14:24:55 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id OAA04329
	for sip-archive@odin.ietf.org; Tue, 18 Dec 2001 14:24:56 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id OAA03987;
	Tue, 18 Dec 2001 14:09:01 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id OAA03956
	for <sip@optimus.ietf.org>; Tue, 18 Dec 2001 14:08:58 -0500 (EST)
Received: from mail1.dynamicsoft.com (mail1.dynamicsoft.com [63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id OAA24262
	for <sip@ietf.org>; Tue, 18 Dec 2001 14:08:54 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fBIJ6nES010443;
	Tue, 18 Dec 2001 14:06:50 -0500 (EST)
Received: from dynamicsoft.com (POPE1 [63.113.46.102]) by DYN-EXCH-001.dynamicsoft.com with SMTP (Microsoft Exchange Internet Mail Service Version 5.5.2653.13)
	id ZDFR1J4H; Tue, 18 Dec 2001 14:08:25 -0500
Message-ID: <3C1F9427.7050904@dynamicsoft.com>
Date: Tue, 18 Dec 2001 14:08:23 -0500
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:0.9.4) Gecko/20011128 Netscape6/6.2.1
X-Accept-Language: en-us
MIME-Version: 1.0
To: Bert Culpepper <bert.culpepper@intervoice-brite.com>
CC: sip@ietf.org
Subject: Re: [Sip] Open Issue #146: reuse of disabled media streams
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

There were no objections to the proposal at IETF 52.

Since there were no comments against, and one email comment in favor, I 
am marking this issue as closed. We will allow for reuse.

-Jonathan R.

Bert Culpepper wrote:

> I agree with the proposal to allow reuse.
> 
> Bert
> 
> 
>>-----Original Message-----
>>From: sip-admin@ietf.org [mailto:sip-admin@ietf.org]On Behalf Of
>>Jonathan Rosenberg
>>Sent: Wednesday, December 05, 2001 4:06 PM
>>To: 'sip@ietf.org'
>>Subject: [Sip] Open Issue #146: reuse of disabled media streams
>>
>>
>>Issue:
>>
>>Bis currently specifies that if a client disables a media 
>>stream (by setting
>>its port to zero), it cannot remove that stream from the SDP. 
>>As such, a UA
>>which constantly adds/removes media streams will cause the SDP to
>>continually grow, and never shrink. You definitely cannot 
>>remove them (since
>>the ordering is needed to match up streams between the 
>>offer/answer), but it
>>can work for a client to re-use a disabled stream. That is, 
>>when it wants to
>>add a new stream, it uses the "placeholder" held by the 
>>disabled stream. So,
>>instead of adding a new m line, the disabled m line is 
>>replaced with the m
>>line of the stream you want to add.
>>
>>This works because there is never any confusion about which streams
>>correspond to which. Think of the sequence of m lines in an 
>>SDP as a TDM
>>system, with each stream a "channel". Streams in the offer 
>>and answer are
>>correlated when they sit in the same channel. Once a stream 
>>is in a channel,
>>it can't move to another one, since then you lose 
>>correlation. When a stream
>>is disabled, its channel becomes empty. You can then insert a 
>>new stream
>>into that channel later on, and its clear that this is a new 
>>one (because it
>>replaces a disabled stream).
>>
>>So, the question is this: do we allow reuse of disabled 
>>streams in this
>>fashion?
>>
>>Points of discussion:
>>
>>Why do this at all? The only real reason is savings of 
>>bandwidth, since you
>>can reduce the size of the SDP. This is not a very common 
>>case for general
>>usage. However, the 3gpp guys are thinking about having the 
>>proxy disable
>>streams (egads!) based on some network policy about what 
>>codecs to use. They
>>don't want to be carrying around these zeroed out media 
>>streams. However,
>>our recommended approach with issues like this has been 
>>compression (ala the
>>signaling compression work in rohc). These streams will 
>>likely be compressed
>>very well, so the overhead may be moot.
>>
>>Gonzalo pointed out that an alternative is to use FID, since 
>>that could
>>provide a way to correlate the streams. In that case, you can remove
>>disabled streams altogether if they can be correlated. 
>>However, it wasn't
>>clear that FID actually allows for correlation of streams 
>>between offer and
>>answer. Rather, its meant for association of streams within 
>>the same SDP.
>>
>>Subsequent discussion on the list, in a long twisted and 
>>tedious thread
>>resulted in the conclusion that fid doesn't solve this problem.
>>
>>There was one comment advocating reuse if it doesn't break any
>>implementations, and another advocating it generally. I 
>>personally am on the
>>fence. We need to make a decision. So, I propose:
>>
>>Proposal:
>>---------
>>
>>Allow reuse.
>>
>>
>>Thanks,
>>Jonathan R.
>>---
>>Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
>>Chief Scientist                             First Floor
>>dynamicsoft                                 East Hanover, NJ 07936
>>jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
>>http://www.jdrosen.net                      PHONE: (973) 952-5000
>>http://www.dynamicsoft.com
>> 
>>
>>_______________________________________________
>>Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
>>This list is for NEW development of the core SIP Protocol
>>Use sip-implementors@cs.columbia.edu for questions on current sip
>>Use sipping@ietf.org for new developments on the application of sip
>>
> 
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
> 


-- 
Jonathan Rosenberg, PhD                 72 Eagle Rock Avenue
Chief Scientist                         First Floor
dynamicsoft                             East Hanover, NJ 07936
jdrosen@dynamicsoft.com                 FAX: (973) 952-5050
http://www.jdrosen.net                  PH: (973) 952-5000
http://www.dynamicsoft.com


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Tue Dec 18 14:30:13 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id OAA24659
	for <sip-archive@odin.ietf.org>; Tue, 18 Dec 2001 14:30:13 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id OAA04533
	for sip-archive@odin.ietf.org; Tue, 18 Dec 2001 14:30:17 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id OAA04143;
	Tue, 18 Dec 2001 14:15:29 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id OAA04110
	for <sip@optimus.ietf.org>; Tue, 18 Dec 2001 14:15:27 -0500 (EST)
Received: from mask.uits.indiana.edu (mask.uits.indiana.edu [129.79.6.184])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id OAA24343
	for <sip@ietf.org>; Tue, 18 Dec 2001 14:15:22 -0500 (EST)
Received: from taurus.syr.edu (taurus.ucs.indiana.edu [156.56.104.11])
	by mask.uits.indiana.edu (8.10.1/8.10.1/IUPO) with ESMTP id fBIJBmX30423
	for <sip@ietf.org>; Tue, 18 Dec 2001 14:11:48 -0500 (EST)
Message-Id: <5.1.0.14.0.20011218114940.02790658@mailbox.syr.edu>
X-Sender: auyar@mailbox.syr.edu
X-Mailer: QUALCOMM Windows Eudora Version 5.1
Date: Tue, 18 Dec 2001 14:11:04 -0500
To: sip@ietf.org
From: Ahmet Uyar <auyar@syr.edu>
Mime-Version: 1.0
Content-Type: text/plain; charset="us-ascii"; format=flowed
Subject: [Sip] XML SIP
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

Hi all,

Is there any project or intension or anything done so far, to implement an 
XML version of SIP? this seems to be a crazy idea, but as far as i see, if 
we have an XML SIP, it will have lots of advantages.

Any comments appreciated.

Regards.

Ahmet Uyar
Syracuse University


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Tue Dec 18 14:56:17 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id OAA25365
	for <sip-archive@odin.ietf.org>; Tue, 18 Dec 2001 14:56:17 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id OAA05350
	for sip-archive@odin.ietf.org; Tue, 18 Dec 2001 14:56:20 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id OAA04871;
	Tue, 18 Dec 2001 14:36:26 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id OAA04842
	for <sip@optimus.ietf.org>; Tue, 18 Dec 2001 14:36:23 -0500 (EST)
Received: from mail1.dynamicsoft.com (mail1.dynamicsoft.com [63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id OAA24866
	for <sip@ietf.org>; Tue, 18 Dec 2001 14:36:19 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fBIJYCES010699;
	Tue, 18 Dec 2001 14:34:13 -0500 (EST)
Received: from dynamicsoft.com (POPE1 [63.113.46.102]) by DYN-EXCH-001.dynamicsoft.com with SMTP (Microsoft Exchange Internet Mail Service Version 5.5.2653.13)
	id ZDFR1JXH; Tue, 18 Dec 2001 14:35:48 -0500
Message-ID: <3C1F9A91.5060204@dynamicsoft.com>
Date: Tue, 18 Dec 2001 14:35:45 -0500
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:0.9.4) Gecko/20011128 Netscape6/6.2.1
X-Accept-Language: en-us
MIME-Version: 1.0
To: Jo Hornsby <jhornsby@ubiquity.net>
CC: sip@ietf.org
Subject: Re: [Sip] Open Issue #88: Addressing OPTIONS to a proxy/redirect server
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit



Jo Hornsby wrote:

>>Issue:
>>
>>How do you address an OPTIONS to a specific proxy/redirect 
>>server? The spec simply says that the R-URI indicates the
>>server, but doesn't say how to do it.
>>
>>Discussion:
>>
>>This is a fairly minor issue. Given the infrequency of 
>>OPTIONS in general, and the even more infrequency of
>>OPTIONS to servers, its not a big deal. But its an easy
>>one anyway.
>>
>>Proposal:
>>
>>The domain in the request-URI would look like it does for 
>>REGISTER. So, if you want to get the extensions supported
>>by the proxy for foo.com:
>>
>>OPTIONS sip:foo.com SIP/2.0
>>
> 
> Agreed.


This issue was presented at IETF 52, and there were no objections. 
Therefore, I will consider it closed.


> 
> 
>>The mechanism of using Max-Forwards to query a specific proxy 
>>on the path would also remain.
>>
> 
> Yes..., I noticed the resurrection of said mechanism.
> 
> I thought we decided to remove it ages ago; what was
> the motivation for bringing him back?


Actually, my recollection is that we agreed to do it. THe main 
motivation, I think, was to discover the capabilities of all proxies 
along the path from you to the desired UAS, allowing a sort of sip 
capability traceroute. Since you don't know the set of proxies, or their 
domains, you can't target the OPTIONS at them explicitly with a domain 
name. I should probably add some verbiage along those lines.

Thanks,

Jonathan R.




-- 
Jonathan Rosenberg, PhD                 72 Eagle Rock Avenue
Chief Scientist                         First Floor
dynamicsoft                             East Hanover, NJ 07936
jdrosen@dynamicsoft.com                 FAX: (973) 952-5050
http://www.jdrosen.net                  PH: (973) 952-5000
http://www.dynamicsoft.com


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Tue Dec 18 14:59:34 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id OAA25440
	for <sip-archive@odin.ietf.org>; Tue, 18 Dec 2001 14:59:34 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id OAA05475
	for sip-archive@odin.ietf.org; Tue, 18 Dec 2001 14:59:38 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id OAA05174;
	Tue, 18 Dec 2001 14:50:39 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id OAA05147
	for <sip@optimus.ietf.org>; Tue, 18 Dec 2001 14:50:36 -0500 (EST)
Received: from mail1.dynamicsoft.com (mail1.dynamicsoft.com [63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id OAA25192
	for <sip@ietf.org>; Tue, 18 Dec 2001 14:50:31 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fBIJmNES010880;
	Tue, 18 Dec 2001 14:48:24 -0500 (EST)
Received: from dynamicsoft.com (POPE1 [63.113.46.102]) by DYN-EXCH-001.dynamicsoft.com with SMTP (Microsoft Exchange Internet Mail Service Version 5.5.2653.13)
	id ZDFR1JZG; Tue, 18 Dec 2001 14:49:59 -0500
Message-ID: <3C1F9DE4.1070005@dynamicsoft.com>
Date: Tue, 18 Dec 2001 14:49:56 -0500
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:0.9.4) Gecko/20011128 Netscape6/6.2.1
X-Accept-Language: en-us
MIME-Version: 1.0
To: "Robert Sparks"@mail1.dynamicsoft.com
CC: Gonzalo Camarillo <Gonzalo.Camarillo@lmf.ericsson.se>, sip@ietf.org
Subject: Re: [Sip] Open Issue #109: Allow in non-INVITE
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Robert is correct.

The conclusion on this issue from IETF 52 was:

1. Allow, Accept and their related cousins are recommended to be present 
in requests that establish dialogs, including invite.

2. extensions that define new methods can specify different behavior, if 
they like

3. if present in a method that its not expected in, the headers are 
ignored as per the definition of "-" in the table.

4. Allow in OPTIONS response is scoped to the URI in the original 
OPTIONS request. Thus, if I send OPTIONS to sip:user@domain, and get 
back Allow:foo, this means foo is likely to succeed in subsequent 
requests to sip:user@domain, no guarantees, of course.

Point (4) covers the case of using OPTIONS in a dialog to solicit 
capabilities, but note that the plan is NOT to explicitly scope that 
information to just the dialog, although that can always be done as an 
implementation choice.

Note that we are not specifying any semantics for Allow in an INFO 
header as per Christer's suggestion; OPTIONS would be the preferred 
approach.


-Jonathan R.

Robert Sparks wrote:

> We need to be careful to specify what it means to
> receive a method with a disallowed header. We don't
> want implementations to refuse to accept an ACK because
> it contains an Allow header.
> 
> I _think_ what we mean by disallowing a header (using the
> hyphen in Table 2) is the following
> 
>    It doesn't make any sense in the context of the method
>    and it is safe to just ignore it if present. Basically
>    this is explicitly saying "it doesn't mean anything 
>    here" or "in this context, it is an undefined header"
> 
> 
>>-----Original Message-----
>>From: Gonzalo Camarillo [mailto:Gonzalo.Camarillo@lmf.ericsson.se]
>>Sent: Thursday, December 06, 2001 4:49 PM
>>To: Jonathan Rosenberg
>>Cc: 'sip@ietf.org'
>>Subject: Re: [Sip] Open Issue #109: Allow in non-INVITE
>>
>>
>>
>>
>>Jonathan Rosenberg wrote:
>>
>>>Issue:
>>>
>>>There are two issues. Both are minor:
>>>
>>>  * do we allow Allow in requests outside of INVITE and OPTIONS?
>>>
>>>  * If I send OPTIONS to sip:user@foo.com, and the response 
>>>
>>has an Allow,
>>
>>>what does that mean exactly? Does that mean that it is safe 
>>>
>>to send the
>>
>>>methods listed in the Allow to sip:user@foo.com in the 
>>>
>>future? Or that its
>>
>>>safe to send the methods listed in the Allow to the URL in 
>>>
>>the Contact of
>>
>>>the OPTIONS? After all, a subsequent request might not 
>>>
>>route to the same UA
>>
>>>that got the OPTIONS; so, even if the OPTIONS response 
>>>
>>indicates that method
>>
>>>BAR is allowed, there is no guarantee that when you send BAR to
>>>sip:user@foo.com, it will get to the same UA which respoded 
>>>
>>to the OPTIONS.
>>
>>>Discussion points:
>>>
>>>For the first issue, lets KISS and disallow it. Extensions 
>>>
>>can of course
>>
>>>indicate whether its useful.
>>>
>>>For the second one, its worth observing that this concern 
>>>
>>is true for all
>>
>>>other headers in the OPTIONS response - Accept, 
>>>
>>Accept-Encoding, Supported,
>>
>>>etc. In fact, its true for headers like WWW-Authenticate 
>>>
>>and Authorization.
>>
>>>I may call a UA, it returns a 401 w/ WWW-Authenticate, I stick in an
>>>Authorization header, and resubmit the request, but it gets routed
>>>differently, to a different UA. Same issue. I don't think 
>>>
>>its a big deal,
>>
>>>since in all cases you'll simply get the appropriate error 
>>>
>>code and can try
>>
>>>again.
>>>
>>>Proposal:
>>>
>>>* point 1: disallow
>>>
>>What about disallowing Allow in methods that do not establish dialogs?
>>OPTIONS would be the only expection to the rule.
>>
>>Regards,
>>
>>Gonzalo
>>
>>
>>>* point 2: don't care. Allow refers to methods supported by 
>>>
>>the resource in
>>
>>>the request URI of the original OPTIONS request sent by the UAC.
>>>
>>>-Jonathan R.
>>>
>>>---
>>>Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
>>>Chief Scientist                             First Floor
>>>dynamicsoft                                 East Hanover, NJ 07936
>>>jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
>>>http://www.jdrosen.net                      PHONE: (973) 952-5000
>>>http://www.dynamicsoft.com
>>>
>>>
>>>_______________________________________________
>>>Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
>>>This list is for NEW development of the core SIP Protocol
>>>Use sip-implementors@cs.columbia.edu for questions on current sip
>>>Use sipping@ietf.org for new developments on the application of sip
>>>
>>-- 
>>Gonzalo Camarillo                    Phone :   +1 212 939 71 71
>>Columbia University                  Mobile:  +358 40 702 35 35
>>472 Computer Science Building        Fax   :  +358  9 299 30 52
>>1214 Amsterdam Ave., Mail Code 0401  http://www.hut.fi/~gonzalo
>>New York, NY 10027                   
>>USA                              Gonzalo.Camarillo@ericsson.com
>>
>>_______________________________________________
>>Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
>>This list is for NEW development of the core SIP Protocol
>>Use sip-implementors@cs.columbia.edu for questions on current sip
>>Use sipping@ietf.org for new developments on the application of sip
>>
>>


-- 
Jonathan Rosenberg, PhD                 72 Eagle Rock Avenue
Chief Scientist                         First Floor
dynamicsoft                             East Hanover, NJ 07936
jdrosen@dynamicsoft.com                 FAX: (973) 952-5050
http://www.jdrosen.net                  PH: (973) 952-5000
http://www.dynamicsoft.com


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Tue Dec 18 15:03:06 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA25579
	for <sip-archive@odin.ietf.org>; Tue, 18 Dec 2001 15:03:06 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id PAA05892
	for sip-archive@odin.ietf.org; Tue, 18 Dec 2001 15:03:10 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id OAA04982;
	Tue, 18 Dec 2001 14:42:12 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id OAA04951
	for <sip@optimus.ietf.org>; Tue, 18 Dec 2001 14:42:10 -0500 (EST)
Received: from mail1.dynamicsoft.com (mail1.dynamicsoft.com [63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id OAA24983
	for <sip@ietf.org>; Tue, 18 Dec 2001 14:42:05 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fBIJe1ES010782;
	Tue, 18 Dec 2001 14:40:01 -0500 (EST)
Received: from dynamicsoft.com (POPE1 [63.113.46.102]) by DYN-EXCH-001.dynamicsoft.com with SMTP (Microsoft Exchange Internet Mail Service Version 5.5.2653.13)
	id ZDFR1JYA; Tue, 18 Dec 2001 14:41:36 -0500
Message-ID: <3C1F9BED.8030607@dynamicsoft.com>
Date: Tue, 18 Dec 2001 14:41:33 -0500
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:0.9.4) Gecko/20011128 Netscape6/6.2.1
X-Accept-Language: en-us
MIME-Version: 1.0
To: Bob Penfield <bpenfield@acmepacket.com>
CC: "Drage, Keith (Keith)" <drage@lucent.com>, sip@ietf.org
Subject: Re: [Sip] bis-05: transport mechanisms
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit



Bob Penfield wrote:

> From: "Drage, Keith (Keith)" <drage@lucent.com>
> 
>>Line 2813 of the bis draft states:
>>
>>All SIP elements MUST support UDP at a minimum.
>>
> 
> Should this be "SIP imlementations" instead of SIP elements? I may have an
> implementation that supports UDP, but an actual deployed element might be
> configured to accept only TCP. Or does this statement make the configured
> element non-conforming?


This is a common issue, especially for security protocols.

The standard terminology is "MUST implement", but that does not imply 
that it MUST be used. As such, a deployed element that just uses tcp is 
compliant.

-Jonathan R.
-- 
Jonathan Rosenberg, PhD                 72 Eagle Rock Avenue
Chief Scientist                         First Floor
dynamicsoft                             East Hanover, NJ 07936
jdrosen@dynamicsoft.com                 FAX: (973) 952-5050
http://www.jdrosen.net                  PH: (973) 952-5000
http://www.dynamicsoft.com


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Tue Dec 18 15:09:48 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA25739
	for <sip-archive@odin.ietf.org>; Tue, 18 Dec 2001 15:09:48 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id PAA06186
	for sip-archive@odin.ietf.org; Tue, 18 Dec 2001 15:09:52 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id OAA05407;
	Tue, 18 Dec 2001 14:57:42 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id OAA05376
	for <sip@optimus.ietf.org>; Tue, 18 Dec 2001 14:57:40 -0500 (EST)
Received: from imr1.ericy.com (imr1.ericy.com [208.237.135.240])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id OAA25384
	for <sip@ietf.org>; Tue, 18 Dec 2001 14:57:35 -0500 (EST)
Received: from mr5.exu.ericsson.se (mr5u3.ericy.com [208.237.135.124])
	by imr1.ericy.com (8.11.3/8.11.3) with ESMTP id fBIJvSW27415;
	Tue, 18 Dec 2001 13:57:28 -0600 (CST)
Received: from newman.exu.ericsson.se (newman.exu.ericsson.se [138.85.75.179])
	by mr5.exu.ericsson.se (8.11.3/8.11.3) with ESMTP id fBIJvSq08160;
	Tue, 18 Dec 2001 13:57:28 -0600 (CST)
Received: from lmf.ericsson.se (rmt160170.am.ericsson.se [138.85.160.170]) by newman.exu.ericsson.se (8.7.5/8.7.3) with ESMTP id NAA13940; Tue, 18 Dec 2001 13:57:26 -0600 (CST)
Message-ID: <3C1FA5BE.F9565F50@lmf.ericsson.se>
Date: Tue, 18 Dec 2001 22:23:26 +0200
From: Gonzalo Camarillo <Gonzalo.Camarillo@lmf.ericsson.se>
X-Mailer: Mozilla 4.79 [en] (WinNT; U)
X-Accept-Language: en
MIME-Version: 1.0
To: Ahmet Uyar <auyar@syr.edu>
CC: sip@ietf.org
Subject: Re: [Sip] XML SIP
References: <5.1.0.14.0.20011218114940.02790658@mailbox.syr.edu>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Hello,

There is not intention of changing the format of SIP. If you are looking
for an XML format to perform RPCs you should look into SOAP instead.

Best regards,

Gonzalo

Ahmet Uyar wrote:
> 
> Hi all,
> 
> Is there any project or intension or anything done so far, to implement an
> XML version of SIP? this seems to be a crazy idea, but as far as i see, if
> we have an XML SIP, it will have lots of advantages.
> 
> Any comments appreciated.
> 
> Regards.
> 
> Ahmet Uyar
> Syracuse University
> 
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip

-- 
Gonzalo Camarillo                    Phone :   +1 212 939 71 71
Columbia University                  Mobile:  +358 40 702 35 35
472 Computer Science Building        Fax   :  +358  9 299 30 52
1214 Amsterdam Ave., Mail Code 0401  http://www.hut.fi/~gonzalo
New York, NY 10027                   
USA                              Gonzalo.Camarillo@ericsson.com

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Tue Dec 18 15:15:57 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA25897
	for <sip-archive@odin.ietf.org>; Tue, 18 Dec 2001 15:15:57 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id PAA06306
	for sip-archive@odin.ietf.org; Tue, 18 Dec 2001 15:16:01 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id PAA06004;
	Tue, 18 Dec 2001 15:03:17 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id PAA05904
	for <sip@optimus.ietf.org>; Tue, 18 Dec 2001 15:03:10 -0500 (EST)
Received: from mail1.dynamicsoft.com (mail1.dynamicsoft.com [63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA25574
	for <sip@ietf.org>; Tue, 18 Dec 2001 15:03:05 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fBIK12ES011046
	for <sip@ietf.org>; Tue, 18 Dec 2001 15:01:02 -0500 (EST)
Received: from dynamicsoft.com (POPE1 [63.113.46.102]) by DYN-EXCH-001.dynamicsoft.com with SMTP (Microsoft Exchange Internet Mail Service Version 5.5.2653.13)
	id ZDFR1J5V; Tue, 18 Dec 2001 15:02:38 -0500
Message-ID: <3C1FA0D9.5040004@dynamicsoft.com>
Date: Tue, 18 Dec 2001 15:02:33 -0500
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:0.9.4) Gecko/20011128 Netscape6/6.2.1
X-Accept-Language: en-us
MIME-Version: 1.0
To: Anders Kristensen <akristensen@dynamicsoft.com>
CC: sip@ietf.org
Subject: Re: [Sip] Major Open Issue #113: Overlapping Transactions
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

There was consensus at IETF 52 that overlapping non-INVITE should be 
allowed, and that does not seem to have been controversial in this thread.

The main issue remains overlapping INVITE. This is tightly coupled to 
whether or not a new INVITE Is used for the solution for both (1) early 
media and (2) the heterogeneous error response forking problem. In both 
cases, the UA needs to pass additional information to a specific UAS in 
order for call processing to continue, in order to generate a final 
response to INVITE.

So, the big question is: do we use INVITE for this, or something else? 
Some of the issues to tackle when using INVITE are:

1. what happens to the first transaction when the second INVITE arrives? 
Does the uas reject it (this may impact services)? Does it continue to 
use it, but accept the second one? If so, what is the implication on 
status of the dialog? What if the first INVITE is later rejected - is 
the dialog up or down? Race conditions may make it hard to say.

2. what is the impact on intermediate proxy and other elements (like 
firewall controllers)?

I am beginning to come around to liking the idea of using an UPDATE 
request in the forward direction, to provide some kind of additional 
information, which would be answered immediately. Need to think about it 
more though...

-Jonathan R.

Anders Kristensen wrote:

> 
> Jonathan Rosenberg wrote:
> 
>>Issue:
>>
>>This is a major issue. One of the more major ones remaining.
>>
>>Currently, the spec forbids more than one INVITE at a time, and more than
>>one non-INVITE at a time. This is simple, but there are valid concerns that
>>it will bite us down the road when uses require faster operation. Thus, the
>>issue is whether to relax this two constraints.
>>
>>Discussion points:
>>
>>The reason we forbid it with INVITE was that you couldn't easily figure out
>>the most recent session description. There was no way to tell whether the
>>response to the first INV was sent before or after the response to the
>>second INVITE. Without a consistent view of which was the most recent SDP,
>>the session parameters would be wrong.
>>
> 
> I agree that it would be desirable to allow overlapping transactions,
> including INVITEs. What's the problem with saying that the CSeq (and
> subordinately RSeq) defines which is the most recent SDP?
> 
> Anders
> 


-- 
Jonathan Rosenberg, PhD                 72 Eagle Rock Avenue
Chief Scientist                         First Floor
dynamicsoft                             East Hanover, NJ 07936
jdrosen@dynamicsoft.com                 FAX: (973) 952-5050
http://www.jdrosen.net                  PH: (973) 952-5000
http://www.dynamicsoft.com


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Tue Dec 18 15:19:30 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA26019
	for <sip-archive@odin.ietf.org>; Tue, 18 Dec 2001 15:19:30 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id PAA06404
	for sip-archive@odin.ietf.org; Tue, 18 Dec 2001 15:19:34 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id PAA06167;
	Tue, 18 Dec 2001 15:08:48 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id PAA06138
	for <sip@optimus.ietf.org>; Tue, 18 Dec 2001 15:08:45 -0500 (EST)
Received: from mail1.dynamicsoft.com (mail1.dynamicsoft.com [63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA25723
	for <sip@ietf.org>; Tue, 18 Dec 2001 15:08:41 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fBIK6XES011128;
	Tue, 18 Dec 2001 15:06:33 -0500 (EST)
Received: from dynamicsoft.com (POPE1 [63.113.46.102]) by DYN-EXCH-001.dynamicsoft.com with SMTP (Microsoft Exchange Internet Mail Service Version 5.5.2653.13)
	id ZDFR1J6W; Tue, 18 Dec 2001 15:08:09 -0500
Message-ID: <3C1FA223.9060409@dynamicsoft.com>
Date: Tue, 18 Dec 2001 15:08:03 -0500
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:0.9.4) Gecko/20011128 Netscape6/6.2.1
X-Accept-Language: en-us
MIME-Version: 1.0
To: "Fairlie-Cuninghame, Robert" <rfairlie@nuera.com>
CC: "'Gonzalo Camarillo'" <Gonzalo.Camarillo@lmf.ericsson.se>, sip@ietf.org
Subject: Re: [Sip] Open Issue #128: 503 and SRV
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit



Fairlie-Cuninghame, Robert wrote:

> This does raise an interesting question though.
> 
> 503 Service Unavailable will be either misleading or meaningless to the
> normal end user. Normally the response should really only be returned to the
> user if this is the _real_ response reason (e.g. down for maintenance). If
> on the other hand, the UAS is just returning this response for some other
> reason (e.g. all lines are busy in a call pool and the UAS is trying to
> trigger an SRV-based load-balancing mechanism), then the UAS needs to know
> that SRV-based load-levelling is being used.


Proxies need to be cautious about propagating 503 upstream, thats in the 
spec already. However, I don't think its the appropriate for the usage 
you have in mind; 503 is really for the case where a set of homogeneous 
servers all provide the same service as a cluster rather than a single 
machine. More intelligent, application layer logic would dictate the 
usage of other response codes.

I will note that there was consensus to have 503 trigger the next SRV 
look up at the IETF meeting.

-Jonathan R.
-- 
Jonathan Rosenberg, PhD                 72 Eagle Rock Avenue
Chief Scientist                         First Floor
dynamicsoft                             East Hanover, NJ 07936
jdrosen@dynamicsoft.com                 FAX: (973) 952-5050
http://www.jdrosen.net                  PH: (973) 952-5000
http://www.dynamicsoft.com


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Tue Dec 18 16:09:04 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id QAA26764
	for <sip-archive@odin.ietf.org>; Tue, 18 Dec 2001 16:09:04 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id QAA07680
	for sip-archive@odin.ietf.org; Tue, 18 Dec 2001 16:09:09 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id PAA06996;
	Tue, 18 Dec 2001 15:41:13 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id PAA06967
	for <sip@optimus.ietf.org>; Tue, 18 Dec 2001 15:41:10 -0500 (EST)
Received: from mail1.dynamicsoft.com (mail1.dynamicsoft.com [63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA26442
	for <sip@ietf.org>; Tue, 18 Dec 2001 15:41:04 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fBIKVYES011431;
	Tue, 18 Dec 2001 15:31:34 -0500 (EST)
Received: from dynamicsoft.com (POPE1 [63.113.46.102]) by DYN-EXCH-001.dynamicsoft.com with SMTP (Microsoft Exchange Internet Mail Service Version 5.5.2653.13)
	id ZDFR1J0K; Tue, 18 Dec 2001 15:33:09 -0500
Message-ID: <3C1FA7FB.6040603@dynamicsoft.com>
Date: Tue, 18 Dec 2001 15:32:59 -0500
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:0.9.4) Gecko/20011128 Netscape6/6.2.1
X-Accept-Language: en-us
MIME-Version: 1.0
To: Mark Watson <mwatson@nortelnetworks.com>
CC: "'Rohan Mahy'" <rohan@cisco.com>, sip@ietf.org
Subject: Re: [Sip] Open Issue #113 : Overlapping INVITEs
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit



Mark Watson wrote:


 > So, any solution has to leave the original INVITE transaction intact
 >  - i.e. we need a request which will 'update' an existing INVITE
 > transaction in the 'Proceeding' state.

I think this is important for services, yes.

 >
 > Some questions:  1) Is it the parameters of the outstanding INVITE
 > *transaction* that we want to update, or the *dialog* that it
 > created ?? The SDP would appear to be associated with the dialog,
 > rather than just the transaction, and the update is going direct to
 >  the UAS, not necessarily through any (transaction) stateful
 > proxies, so it's more like the dialog we are updating.

For the pure early media case, its the neither - its the session 
parameters. But, we have the need in other cases to update parameters 
associated with the dialog, as a possible way to solve the 
heteroegeneous error response forking problem (HERFP).

As an example, lets say A sends an INVITE through proxy P that forks to 
UAS's B and C. That INVITE had an isup attachment. B doesn't understand 
that, so it rejects with 415. C understands it and rings (180). But, the 
user is not actually at C, they are at B, and B will never ring. This is 
the HERFP.

An alternative solution for HERFP is for B to return a 1xx that contains 
the error status. This is propagated to A, and A sends some kind of 
update to B without the ISUP. This then allows the dialog to proceed, 
and B's phone rings.

There are many landmines here, for certain...

 >
 > 2) are there any other parameters associated with a *dialog* that we
 >  might want to update ?? (Could only ones which are of no
 > interested to proxies which have not Record-Route'ed)
 >
 > What is the reason why a re-INVITE couldn't work in the way
 > described above, rather than that below - i.e. the re-INVITE would
 > be responded to with an immediate 200 OK, and the control of the
 > session progress would remain with the original INVITE transation ??

The reason is that INVITE has too many meanings. A 200 OK response to 
INVITE implies an active dialog and session, but thats not the case 
necessarily. A proxy that sees this re-INVITE will possibly be extremely 
confused about call state (indeed, the UAC may be confused). For 
example, if the second INVITE is responded to with 2xx as you suggest, 
and then the first is responded with 486, is the call up or not? If the 
two INVITEs did not overlap, the answer would be yes. But,  suspect its 
not in this case. That means call state is determined based on the 
relative timing of the two INVITEs, and that is dangerous, dangerous ground.

An explicit UPDATE or OFFER which updates the INVITE without having any 
impact on the dialog state would alleviate this problem, but will need 
to be understood by intermediaries like midcom agents, and this may 
introduce some complexities.

-Jonathan R.


 > -----Original Message-----  From: Rohan Mahy [
 > mailto:rohan@cisco.com]  Sent: 13 December 2001 19:35  To:
 > sip@ietf.org  Cc: rohan@cisco.com  Subject: [Sip] Open Issue #113 :
 >  Overlapping INVITEs
 >
 >
 > Hi Folks,
 >
 > As I said in the meeting yesterday, I think overlapping INVITE
 > transactions  are VERY BAD.  This is a non-backwards compatible
 > change to SIP that breaks  existing behavior.
 >
 > Only two justifications exist for making the change.  The first is
 > early  media, and the second is "that it might be useful in
 > future."       The  second argument does not justify breaking
 > existing services that have been  compliant with SIP all along.  I
 > will also remind everyone of the IETF  maxim that a protocol is
 > perfect "not when there is nothing more to add,  but when there is
 > nothing to take away."
 >
 > In terms of early media, Using an OFFER method for EARLY media
 > offers in  the forward direction is easy and does not break any
 > existing  services/behavior.  Thinking about multiple early
 > reINVITEs in a forking  scenario not only makes my head hurt, but I
 >  haven't seen an existance proof  of a working flow.  I INVITE
 > folks to put up or shut up on this one.
 >
 > As an example of what goes wrong with reusing INVITE, take a forking
 >  proxy  that does not Record-Route.  From RFC2543 all the way
 > through bis-05, it is  completely reasonable for a proxy to offer a
 >  service like Forward No Answer  without needing to use
 > Record-Route.  The flows below demonstrate some of  the problems.
 >
 > An INVITE (1) gets forked to B (1a).  If A sends a "early reINVITE"
 > (2), it  will go directly to B because the proxy did not
 > record-route.  Other forks  generated by that proxy don't do what
 > they did in the past.  Specifically  the proxy can't cancel its own
 >  branch because the CSeq for the CANCEL is  stale.
 >
 > comments welcome.
 >
 > [i removed PRACKs for brevity, but nothing really changes.]
 >
 > |           |           |           |  |INVITE(1)->|           |
 >        |  |           |INVITE(1a)>|           |  |           |
 >       |           |  |           |<- 18x (1a)|           |  |<- 18x
 >  (1a)|           |           |  |           |           |
 >  |  |  ...      |           |           |  |           |
 > |           |  |- INVITE (2)---------->|           |  |           |
 >            |           |  |           |<- 489 (1a)|           |  |<-
 >  489 (1a)|           |           |  |           |           |
 >      |  |<------------- 18x (2)-|           |  |           |
 >     |           |  |           |CANCEL(1a)>X  Stale    |  |
 >    |           |  CSeq     |  |           |           |           |
 >
 > Other potential scenarios
 >
 >
 > A          Proxy        B           C  |           |           |
 >        |  |INVITE(1)->|           |           |  |
 > |INVITE(1a)>|           |  |           |           |           |  |
 >            |<- 18x (1a)|           |  |<- 18x (1a)|           |
 >        |  |           |           |           |  |  ...      |
 >       |           |  |           |           |           |  |-
 > INVITE (2)---------->|           |  |           |           |
 >      |  |           |<- 489 (1)-|           |  |<- 489 (1)-|
 >     |           |  |           |-- INVITE (1b) ------->|  |
 >    |           |           |  |           |<- 18x (1b)------------| 
Stale  X<- 18x (1b)|           |           |
 >   CSeq   |           |           |           |
 >          |<------------- 18x (2)-|           |
 >          |           |           |           |
 >          |           |           |           |
 >
 >
 > here is a working flow for early media using OFFER.
 >
 >
 >   A             Proxy           B             C
 >   |              |              |             |
 >   |-- INVITE --->|              |             |
 >   |              |-- INVITE --->|             |
 >   |              |              |             |
 >   |              |----------------- INVITE -->|
 >   |              |              |             |
 >   |              |<-- 18x ------|             |
 >   |<-- 18x ------|              |             |
 >   |              |<---------------- 18x ------|
 >   |<-- 18x ------|              |             |
 >   |              |              |             |
 >   |------------------ PRACK --->|             |
 >   |              |              |             |
 >   |-------------------------------- PRACK --->|
 >   |              |              |             |
 >   |<----------------- 200(PRACK)|             |
 >   |              |              |             |
 >   |<------------------------------- 200(PRACK)|
 >   |              |              |             |
 >   |<============================|             |
 >   |<==========================================|
 >   |              |              |             |
 >   |              |              |             |
 >   |              |              |             |
 >   |              |              |             |
 >   |------------------ OFFER --->|             |
 >   |<----------------- 200(OFFER)|             |
 >   |------------------------------- OFFER  --->|
 >   |<------------------------------ 200(OFFER)-|
 >   |              |              |             |
 >   |              |              |             |
 >
 >
 > thanks,
 > -rohan
 >
 >
 > _______________________________________________
 > Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
 > This list is for NEW development of the core SIP Protocol
 > Use sip-implementors@cs.columbia.edu for questions on current sip
 > Use sipping@ietf.org for new developments on the application of sip
 >
 >


-- 
Jonathan Rosenberg, PhD                 72 Eagle Rock Avenue
Chief Scientist                         First Floor
dynamicsoft                             East Hanover, NJ 07936
jdrosen@dynamicsoft.com                 FAX: (973) 952-5050
http://www.jdrosen.net                  PH: (973) 952-5000
http://www.dynamicsoft.com

 >   Stale  X<- 18x (1b)|           |           |  CSeq   |
 > |           |           |  |<------------- 18x (2)-|           |  |
 >            |           |           |  |           |           |
 >        |
 >
 >
 > here is a working flow for early media using OFFER.
 >
 >
 > A             Proxy           B             C  |              |
 >          |             |  |-- INVITE --->|              |
 >    |  |              |-- INVITE --->|             |  |
 >  |              |             |  |              |-----------------
 > INVITE -->|  |              |              |             |  |
 >         |<-- 18x ------|             |  |<-- 18x ------|
 >    |             |  |              |<---------------- 18x ------|  |<--
 >  18x ------|              |             |  |              |
 >       |             |  |------------------ PRACK --->|
 > |  |              |              |             | 
|--------------------------------
 >  PRACK --->|  |              |              |             | 
|<-----------------
 >  200(PRACK)|             |  |              |              |
 >      |  |<------------------------------- 200(PRACK)|  |
 >    |              |             |  |<============================|
 >             |  |<==========================================|  |
 >           |              |             |  |              |
 >      |             |  |              |              |             | 
|              |              |             |
 >   |------------------ OFFER --->|             |
 >   |<----------------- 200(OFFER)|             |
 >   |------------------------------- OFFER  --->|
 >   |<------------------------------ 200(OFFER)-|
 >   |              |              |             |
 >   |              |              |             |
 >
 >
 > thanks,
 > -rohan
 >
 >
 > _______________________________________________
 > Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
 > This list is for NEW development of the core SIP Protocol
 > Use sip-implementors@cs.columbia.edu for questions on current sip
 > Use sipping@ietf.org for new developments on the application of sip
 >
 >


-- 
Jonathan Rosenberg, PhD                 72 Eagle Rock Avenue
Chief Scientist                         First Floor
dynamicsoft                             East Hanover, NJ 07936
jdrosen@dynamicsoft.com                 FAX: (973) 952-5050
http://www.jdrosen.net                  PH: (973) 952-5000
http://www.dynamicsoft.com

 >   |              |              |             |  |------------------
 >  OFFER --->|             |  |<----------------- 200(OFFER)|
 >      |  |------------------------------- OFFER  --->| 
|<------------------------------
 >  200(OFFER)-|  |              |              |             |  |
 >           |              |             |
 >
 >
 > thanks,  -rohan
 >
 >
 > _______________________________________________  Sip mailing list
 > http://www1.ietf.org/mailman/listinfo/sip  This list is for NEW
 > development of the core SIP Protocol  Use
 > sip-implementors@cs.columbia.edu for questions on current sip  Use
 > sipping@ietf.org for new developments on the application of sip
 >
 >


-- 
Jonathan Rosenberg, PhD                 72 Eagle Rock Avenue
Chief Scientist                         First Floor
dynamicsoft                             East Hanover, NJ 07936
jdrosen@dynamicsoft.com                 FAX: (973) 952-5050
http://www.jdrosen.net                  PH: (973) 952-5000
http://www.dynamicsoft.com


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Tue Dec 18 16:54:41 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id QAA27554
	for <sip-archive@odin.ietf.org>; Tue, 18 Dec 2001 16:54:41 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id QAA08780
	for sip-archive@odin.ietf.org; Tue, 18 Dec 2001 16:54:44 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id QAA08460;
	Tue, 18 Dec 2001 16:37:18 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id QAA08431
	for <sip@optimus.ietf.org>; Tue, 18 Dec 2001 16:37:16 -0500 (EST)
Received: from dgesmtp01.wcom.com (dgesmtp01.wcom.com [199.249.16.16])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id QAA27317
	for <sip@ietf.org>; Tue, 18 Dec 2001 16:37:12 -0500 (EST)
Received: from CONVERSION-DAEMON by firewall.wcom.com (PMDF V5.2-33 #42260)
 id <0GOK00F016ORTC@firewall.wcom.com> for sip@ietf.org; Tue,
 18 Dec 2001 21:36:27 +0000 (GMT)
Received: from dgismtp03.wcomnet.com ([166.38.58.143])
 by firewall.wcom.com (PMDF V5.2-33 #42260)
 with ESMTP id <0GOK00DEO6OREA@firewall.wcom.com>; Tue,
 18 Dec 2001 21:36:27 +0000 (GMT)
Received: from dgismtp03.wcomnet.com by dgismtp03.wcomnet.com
 (PMDF V5.2-33 #42262) with SMTP id <0GOK00B016OMDS@dgismtp03.wcomnet.com>;
 Tue, 18 Dec 2001 21:36:26 +0000 (GMT)
Received: from wcom.com ([166.42.33.236])
 by dgismtp03.wcomnet.com (PMDF V5.2-33 #42262)
 with ESMTP id <0GOK008C56O5U4@dgismtp03.wcomnet.com>; Tue,
 18 Dec 2001 21:36:08 +0000 (GMT)
Date: Tue, 18 Dec 2001 15:36:29 -0600
From: Alan Johnston <alan.johnston@wcom.com>
Subject: Re: [Sip] Immediate NOTIFY to a REFER (or other implied subscriptions)
To: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
Cc: Robert Sparks <rsparks@dynamicsoft.com>, "'JF Rey'" <jfr@post.com>,
        sip@ietf.org
Message-id: <3C1FB6DB.DFBC87B5@wcom.com>
MIME-version: 1.0
X-Mailer: Mozilla 4.04 [en] (Win95; U)
Content-type: text/plain; charset=us-ascii
Content-transfer-encoding: 7bit
References: <3C1F7B76.1090307@dynamicsoft.com>
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Jonathan,

I don't think adding an explicit SUBSCRIBE is a good idea - it adds more
messages for little or no gain.  The predominant use of REFER will be within a
dialog, so forking is not an issue.

Let's just finish REFER and get it off our to-do list.

Thanks,
Alan.

Jonathan Rosenberg wrote:

> We could avoid the immediate NOTIFY if its true that the reason we
> needed it in sip-events doesn't apply here.
>
> The reason we needed it in sip-events was because the SUBSCRIBE might
> fork, and we need to hear back from each forked branch in order to
> reject the susbcription, get its state, determine how to refresh it, etc.
>
> Do we expect REFER to fork? If so, then the immediate NOTIFY might be
> important.
>
> Generally, although it seems needless overhead, I'd prefer to have one
> sip-events framework, not two. If REFER is indeed an implicit
> subscription, it should follow the sip-events framework.
>
> We can also instead just remove all this implicit stuff from refer, and
> define the refer event package as a separate, formal package. It would
> then require an explicit SUBSCRIBE, but otherwise work identically.
>
> Just a thought.
>
> -Jonathan R.
>
> Alan Johnston wrote:
>
> > I'm inclined to not mess with REFER (yet again) at this late date unless
> > there is some very, very strong motivation.
> >
> > Are there any tangible benefits to doing so?
> >
> > Thanks,
> > Alan.
> >
> > Robert Sparks wrote:
> >
> >
> >>In the sip-events discussion in the SIP WG meeting I asked if
> >>REFER should hold to events immediate NOTIFY semantic. There
> >>was short mixed discussion, but no conclusive consensus.
> >>
> >>Private conversations since have suggested an implicit
> >>SUBSCRIBE gets an implicit immediate NOTIFY.
> >>
> >>Thoughts?
> >>
> >>RjS
> >>
> >>_______________________________________________
> >>Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> >>This list is for NEW development of the core SIP Protocol
> >>Use sip-implementors@cs.columbia.edu for questions on current sip
> >>Use sipping@ietf.org for new developments on the application of sip
> >>
> >
> >
> > _______________________________________________
> > Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> > This list is for NEW development of the core SIP Protocol
> > Use sip-implementors@cs.columbia.edu for questions on current sip
> > Use sipping@ietf.org for new developments on the application of sip
> >
>
> --
> Jonathan Rosenberg, PhD                 72 Eagle Rock Avenue
> Chief Scientist                         First Floor
> dynamicsoft                             East Hanover, NJ 07936
> jdrosen@dynamicsoft.com                 FAX: (973) 952-5050
> http://www.jdrosen.net                  PH: (973) 952-5000
> http://www.dynamicsoft.com




_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Wed Dec 19 02:39:32 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id CAA23941
	for <sip-archive@odin.ietf.org>; Wed, 19 Dec 2001 02:39:32 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id CAA02632
	for sip-archive@odin.ietf.org; Wed, 19 Dec 2001 02:39:35 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id CAA01949;
	Wed, 19 Dec 2001 02:12:24 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id CAA01918
	for <sip@optimus.ietf.org>; Wed, 19 Dec 2001 02:12:22 -0500 (EST)
Received: from mail1.dynamicsoft.com (mail1.dynamicsoft.com [63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id CAA21481
	for <sip@ietf.org>; Wed, 19 Dec 2001 02:12:19 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fBJ79jES014607;
	Wed, 19 Dec 2001 02:09:45 -0500 (EST)
Received: from dynamicsoft.com (POPE1 [63.113.46.102]) by DYN-EXCH-001.dynamicsoft.com with SMTP (Microsoft Exchange Internet Mail Service Version 5.5.2653.13)
	id ZDFR1LG6; Wed, 19 Dec 2001 02:11:20 -0500
Message-ID: <3C203D98.6010203@dynamicsoft.com>
Date: Wed, 19 Dec 2001 02:11:20 -0500
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:0.9.4) Gecko/20011128 Netscape6/6.2.1
X-Accept-Language: en-us
MIME-Version: 1.0
To: Paul Kyzivat <pkyzivat@cisco.com>
CC: "'Flemming Andreasen'" <fandreas@cisco.com>,
        Henning Schulzrinne <schulzrinne@cs.columbia.edu>,
        MMUSIC <confctrl@ISI.EDU>, sip@ietf.org
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Subject: [Sip] Re: Comments on <draft-rosenberg-mmusic-sdp-offer-answer-00.txt>
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

This looks like another open issue in sip.
Let us try to resolve it swiftly.

Responses inline.

Paul Kyzivat wrote:


>>>-----Original Message-----
>>>From: Paul Kyzivat [mailto:pkyzivat@cisco.com]
>>>Sent: Thursday, December 06, 2001 11:26 AM
>>>To: Jonathan Rosenberg
>>>Cc: 'Flemming Andreasen'; Henning Schulzrinne; MMUSIC
>>>Subject: Re: Comments on
>>><draft-rosenberg-mmusic-sdp-offer-answer-00.txt>
>>>
>>>
>>>
>>>
>>>Jonathan Rosenberg wrote:
>>>
>>>>This did require the movement of one paragraph from this
>>>>
>>>draft back into
>>>
>>>>bis:
>>>>
>>>>This means that a
>>>>re-{\INVITE} {\MAY} contain no SDP, so that the 200 OK to the
>>>>re-{\INVITE} contains the offer. In this case, the
>>>>offerer {\MUST} offer the same SDP it provided previously.
>>>>
>>>This is to
>>>
>>>>ensure that the offered SDP in the 2xx will be acceptable
>>>>
>>>to the UAC,
>>>
>>>>as there is no way to reject it.
>>>>
>>>>This will appear in bis-06.
>>>>
>>>I think this constraint is too strong.
>>>
>>We had formerly agreed to it in sip (with the additional flexibility that
>>you can change the IP address/port).
>>
> 
> Just because it was agreed to doesn't mean it was right.


No, but you can understand that I am trying to generally continue forwards.

That said, I will reopen it. Its bug 58.


> 
> 
>>>Consider:
>>>
>>>      A                   B
>>>        |   INVITE(sdp)     |  offers codecs X,Y
>>>        |------------------>|
>>>        |      OK(sdp)      |  accepts X, not Y,
>>>        |<------------------|  would have accepted Z if offered
>>>        |      ACK          |
>>>        |------------------>|
>>>        |   INVITE(no sdp)  |
>>>        |------------------>|
>>>        |      OK(sdp)      |  should be able to offer X,Z
>>>        |<------------------|
>>>        |      ACK (sdp)    |
>>>        |------------------>|
>>>
>>>In this standalone case, it probably isn't likely that A will be
>>>interested in Z the second time if it wasn't the first time.
>>>But if A is
>>>a B2BUA, it might be preparing to involve another party that is very
>>>interested in Z.
>>>
>>OK, but in this case it would be a new dialog for the new party, so that you
>>would have no previous sdp.
>>
> 
> I was suggesting that A is a B2BUA bridging between a party C not shown
> above and B. A then decides to replace C with a different one D. So
> there is a new dialog with D, but the dialog between A and B remains.
> Something like the following:
> 
> C                   A                   B
> |   INVITE(sdp)     |                   |  offers codecs X,Y
> |------------------>|                   |
> |                   |   INVITE(sdp)     |  offers codecs X,Y
> |                   |------------------>|
> |                   |      OK(sdp)      |  accepts X, not Y; would
> |                   |<------------------|  have accepted Z if offered
> |                   |      ACK          |
> |    OK(sdp)        |------------------>|  
> |<------------------|                   |  accepts X, not Y
> |    ACK            |                   |
> |------------------>|                   |
>                     |                   |
> D                   |                   |  prepare to xfer to D
> |                   |   INVITE(no sdp)  |
> |                   |------------------>|
> |                   |      OK(sdp)      |  can only offer X
> |                   |<------------------|  (should offer Z too)
> |   INVITE(sdp)     |                   |  "
> |<------------------|                   |
> |   488             |                   |  Fails - D can only do
> |------------------>|                   |  Y & Z, not X.
> 
> //
> 
> |   OK(sdp)         |                   |  If X,Z had been offered
> |------------------>|                   |  would accept Z
> |                   |      ACK (sdp)    |
> |                   |------------------>|  then all is well
>  
> 
> This is too simplistic for a practical call flow, but it makes the
> point.


OK, I see the point. It is a good one.

Generally, I think the problem is this. When using 3pcc, the controller 
wants to connect an existing user to a new user. To do this, it sends a 
re-invite w/o sdp to the existing user, to solicit its SDP in order to 
include it in an invite to a new user. Effectively, this is a new 
session, even though its a re-invite for the existing participant. Thus, 
you want the typical behavior for a new INVITE, which is to send as much 
as you know.

Now, whats interesting is this. The reason we specified that the UA 
should return the last SDP it used, is to maximize the probability that 
this SDP is acceptable. However, in the 3pcc case, even if the  is 
bitwise identical, there are no guarantees. The existing call could be 
audio, the the controller is trying to connect the user to a video-only 
server. Not going to work with the existing SDP.

In these cases, the controller would need to ACK the 2xx from the 
existing user and then BYE.

So, what we need to do is specify that the UA ought to return an SDP 
which is as broad as possible, but still should be acceptable to the 
peer in the case its not 3pcc going on (although I can't think of any 
non-3pcc cases for a mid-dialog re-invite w/o SDP). THis would include:

1. change in IP/port is OK
2. should add as many more codecs as you can, but there must be overlap 
with the previous SDP
3. can add media lines, but must at least be overlapping in a stream 
with the previous sdp

So, there are some issues here. First, we are trying to "guess" what 
changes in SDP would always be acceptable to an existing peer. Since 
whether an SDP is acceptable or not is a matter of local policy, its 
really hard to say. Second, would we need to specify rules for each and 
every parameter in the SDP? Seems like the wrong direction.

Perhaps the best we can do is leave the selection of the SDP up to the 
UA, but provide guidelines. Basically, something like:

1. offer an SDP which has a good chance of being acceptable to the 
existing peer,
2. make the SDP as broad as possible since this could be 3pcc, and you 
don't know what they can do

Thoughts?

-Jonathan R.
-- 
Jonathan Rosenberg, PhD                 72 Eagle Rock Avenue
Chief Scientist                         First Floor
dynamicsoft                             East Hanover, NJ 07936
jdrosen@dynamicsoft.com                 FAX: (973) 952-5050
http://www.jdrosen.net                  PH: (973) 952-5000
http://www.dynamicsoft.com


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Wed Dec 19 07:00:21 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id HAA27303
	for <sip-archive@odin.ietf.org>; Wed, 19 Dec 2001 07:00:21 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id HAA10719
	for sip-archive@odin.ietf.org; Wed, 19 Dec 2001 07:00:23 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id GAA09965;
	Wed, 19 Dec 2001 06:33:37 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id GAA09936
	for <sip@optimus.ietf.org>; Wed, 19 Dec 2001 06:33:35 -0500 (EST)
Received: from penguin-ext.wise.edt.ericsson.se (penguin-ext.wise.edt.ericsson.se [194.237.142.110])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id GAA27129
	for <sip@ietf.org>; Wed, 19 Dec 2001 06:33:31 -0500 (EST)
Received: from fogerty.lmf.ericsson.se (fogerty.lmf.ericsson.se [131.160.11.6])
	by penguin.wise.edt.ericsson.se (8.11.0/8.11.0/WIREfire-1.3) with ESMTP id fBJBXJK22543;
	Wed, 19 Dec 2001 12:33:20 +0100 (MET)
Received: from lmf.ericsson.se (aletx337.al.etx.ericsson.se [130.100.253.83])
	by fogerty.lmf.ericsson.se (8.12.1/8.12.1/lmf.8.12.1.jcs) with ESMTP id fBJBXIQ4002910;
	Wed, 19 Dec 2001 13:33:18 +0200 (EET)
Message-ID: <3C207B01.A55439AA@lmf.ericsson.se>
Date: Wed, 19 Dec 2001 13:33:21 +0200
From: Christer Holmberg <christer.holmberg@lmf.ericsson.se>
X-Mailer: Mozilla 4.61 [en] (WinNT; I)
X-Accept-Language: en
MIME-Version: 1.0
To: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
CC: Mark Watson <mwatson@nortelnetworks.com>, "'Rohan Mahy'" <rohan@cisco.com>,
        sip@ietf.org
Subject: Re: [Sip] Open Issue #113 : Overlapping INVITEs
References: <3C1FA7FB.6040603@dynamicsoft.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit


Hi,

>>Some questions:  1) Is it the parameters of the outstanding INVITE
>>*transaction* that we want to update, or the *dialog* that it
>>created ?? The SDP would appear to be associated with the dialog,
>>rather than just the transaction, and the update is going direct to
>>the UAS, not necessarily through any (transaction) stateful
>>proxies, so it's more like the dialog we are updating.
>For the pure early media case, its the neither - its the session
>parameters. But, we have the need in other cases to update parameters
>associated with the dialog, as a possible way to solve the
>heteroegeneous error response forking problem (HERFP).
> 
>As an example, lets say A sends an INVITE through proxy P that forks to
>UAS's B and C. That INVITE had an isup attachment. B doesn't understand
>that, so it rejects with 415. C understands it and rings (180). But, the
>user is not actually at C, they are at B, and B will never ring. This is
>the HERFP.
> 
>An alternative solution for HERFP is for B to return a 1xx that contains
>the error status. This is propagated to A, and A sends some kind of
>update to B without the ISUP. This then allows the dialog to proceed,
>and B's phone rings.
> 
>There are many landmines here, for certain...

I think the 1xx proposal is interesting. It's is true, however, that
there are a number of issues involved (not only to the 1xx proposal, but
to the whole update issue), which must be discussed, and here are two
"landmines" I think are worth mentioning:

1. 'A' may not want to (for whatever reason) send an update to 'C', so
in that case A would have to send a BYE to terminate that leg (A can't
send CANCEL, because that could terminate other possible legs too.

2. IF C sends 1xx, and does NOT receive an update (or BYE), how long
would
it wait for an update before it sends a final response? Or - should it
ASSUME that someone always terminates the leg (eg a proxy should send
CANCEL when the wait-for-a-final-response timer expires, or a UAC that
will send a CANCEL when the user hangs up).

Regards,

Christer Holmberg
Ericsson Finland

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Wed Dec 19 07:13:42 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id HAA27370
	for <sip-archive@odin.ietf.org>; Wed, 19 Dec 2001 07:13:42 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id HAA11008
	for sip-archive@odin.ietf.org; Wed, 19 Dec 2001 07:13:41 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id GAA10305;
	Wed, 19 Dec 2001 06:49:13 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id GAA10206
	for <sip@optimus.ietf.org>; Wed, 19 Dec 2001 06:49:07 -0500 (EST)
Received: from penguin-ext.wise.edt.ericsson.se (penguin-ext.wise.edt.ericsson.se [194.237.142.110])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id GAA27240
	for <sip@ietf.org>; Wed, 19 Dec 2001 06:49:04 -0500 (EST)
Received: from fogerty.lmf.ericsson.se (fogerty.lmf.ericsson.se [131.160.11.6])
	by penguin.wise.edt.ericsson.se (8.11.0/8.11.0/WIREfire-1.3) with ESMTP id fBJBn3K29056;
	Wed, 19 Dec 2001 12:49:03 +0100 (MET)
Received: from lmf.ericsson.se (aletx337.al.etx.ericsson.se [130.100.253.83])
	by fogerty.lmf.ericsson.se (8.12.1/8.12.1/lmf.8.12.1.jcs) with ESMTP id fBJBn2Q4003910;
	Wed, 19 Dec 2001 13:49:02 +0200 (EET)
Message-ID: <3C207EB1.E5AF840C@lmf.ericsson.se>
Date: Wed, 19 Dec 2001 13:49:05 +0200
From: Christer Holmberg <christer.holmberg@lmf.ericsson.se>
X-Mailer: Mozilla 4.61 [en] (WinNT; I)
X-Accept-Language: en
MIME-Version: 1.0
To: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
CC: Anders Kristensen <akristensen@dynamicsoft.com>, sip@ietf.org
Subject: Re: [Sip] Major Open Issue #113: Overlapping Transactions
References: <3C1FA0D9.5040004@dynamicsoft.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit


Hi,

>I am beginning to come around to liking the idea of using an UPDATE
>request in the forward direction, to provide some kind of additional
>information, which would be answered immediately. Need to think about it
>more though...

I think the UPDATE proposal is interesting. However, instead of defining
a method which we would use for specific early media cases I think we
should look at it from a generic perspective, and define exactly what
the method can, and can not, be used for.

A few issues/questions I think we should ask ourselves are:


Q1. Can we use it to update the Request-URI? 

IF, I guess the overlap dialing discussion will once again come up; do
we use INVITE + UPDATE(s), or do we use re-INVITEs (for separate legs)?


Q2. Can we use it to update the SDP? 

In a basic SIP situation the answer is probably no, since SIP uses the
INVITE/200 (or 200/ACK) mechanism. However, extension mechanisms
(similar to the manyfolks resource reservation) could use it - instead
of PRACK.


Q3. Can we use it in mid-session, ie "outside" an ongoing INVITE
transaction?

Can the method be used, instead of re-INVITE (and in some cases maybe
also instead of INFO) to update some parameters. A current example is
the Allow header; would we really need a re-INVITE to update that, if we
can use the UPDATE method?


Q4. Proxy support?

Depending on the method would be used for, there are cases where proxy
support for the method would be needed (in another mail Jonathan gave
midcom as an example). Would we define an option-tag, or would it be a
MUST for proxies to support the method?


I am sure there are many more similar questions, and I think we should
try to answer all of them before we define a new method/extension.
Otherwise they will come up sooner or later anyway, and the discussion
will go on forever... 

Please also note that the text above are NOT proposals - simply
QUESTIONS that would come up if an UPDATE method proposal was to be
given.


Regards,

Christer Holmberg
Ericsson Finland







Jonathan Rosenberg wrote:
> 
> There was consensus at IETF 52 that overlapping non-INVITE should be
> allowed, and that does not seem to have been controversial in this thread.
> 
> The main issue remains overlapping INVITE. This is tightly coupled to
> whether or not a new INVITE Is used for the solution for both (1) early
> media and (2) the heterogeneous error response forking problem. In both
> cases, the UA needs to pass additional information to a specific UAS in
> order for call processing to continue, in order to generate a final
> response to INVITE.
> 
> So, the big question is: do we use INVITE for this, or something else?
> Some of the issues to tackle when using INVITE are:
> 
> 1. what happens to the first transaction when the second INVITE arrives?
> Does the uas reject it (this may impact services)? Does it continue to
> use it, but accept the second one? If so, what is the implication on
> status of the dialog? What if the first INVITE is later rejected - is
> the dialog up or down? Race conditions may make it hard to say.
> 
> 2. what is the impact on intermediate proxy and other elements (like
> firewall controllers)?
> 
> 
> -Jonathan R.
> 
> Anders Kristensen wrote:
> 
> >
> > Jonathan Rosenberg wrote:
> >
> >>Issue:
> >>
> >>This is a major issue. One of the more major ones remaining.
> >>
> >>Currently, the spec forbids more than one INVITE at a time, and more than
> >>one non-INVITE at a time. This is simple, but there are valid concerns that
> >>it will bite us down the road when uses require faster operation. Thus, the
> >>issue is whether to relax this two constraints.
> >>
> >>Discussion points:
> >>
> >>The reason we forbid it with INVITE was that you couldn't easily figure out
> >>the most recent session description. There was no way to tell whether the
> >>response to the first INV was sent before or after the response to the
> >>second INVITE. Without a consistent view of which was the most recent SDP,
> >>the session parameters would be wrong.
> >>
> >
> > I agree that it would be desirable to allow overlapping transactions,
> > including INVITEs. What's the problem with saying that the CSeq (and
> > subordinately RSeq) defines which is the most recent SDP?
> >
> > Anders
> >
> 
> --
> Jonathan Rosenberg, PhD                 72 Eagle Rock Avenue
> Chief Scientist                         First Floor
> dynamicsoft                             East Hanover, NJ 07936
> jdrosen@dynamicsoft.com                 FAX: (973) 952-5050
> http://www.jdrosen.net                  PH: (973) 952-5000
> http://www.dynamicsoft.com
> 
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Wed Dec 19 08:50:11 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id IAA27983
	for <sip-archive@odin.ietf.org>; Wed, 19 Dec 2001 08:50:06 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id IAA13182
	for sip-archive@odin.ietf.org; Wed, 19 Dec 2001 08:50:10 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id IAA13028;
	Wed, 19 Dec 2001 08:34:49 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id IAA12997
	for <sip@optimus.ietf.org>; Wed, 19 Dec 2001 08:34:46 -0500 (EST)
Received: from znsgs01r.europe.nortel.com (h50s128a211n47.user.nortelnetworks.com [47.211.128.50])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id IAA27873
	for <sip@ietf.org>; Wed, 19 Dec 2001 08:34:41 -0500 (EST)
Received: from zwcwc012.europe.nortel.com (zwcwc012.europe.nortel.com [47.73.112.187])
	by znsgs01r.europe.nortel.com (Switch-2.2.0/Switch-2.2.0) with ESMTP id fBJDUCW18453;
	Wed, 19 Dec 2001 13:30:12 GMT
Received: by zwcwc012.europe.nortel.com with Internet Mail Service (5.5.2653.19)
	id <YYM8941J>; Wed, 19 Dec 2001 13:28:55 -0000
Message-ID: <A3C2399B2FACD411A54200508BE39C74054F6EFF@zwcwd00r.europe.nortel.com>
From: "Mark Watson" <mwatson@nortelnetworks.com>
To: "'Christer Holmberg'" <christer.holmberg@lmf.ericsson.se>,
        Jonathan Rosenberg <jdrosen@dynamicsoft.com>
Cc: Anders Kristensen <akristensen@dynamicsoft.com>, sip@ietf.org
Subject: RE: [Sip] Major Open Issue #113: Overlapping Transactions
Date: Wed, 19 Dec 2001 13:28:53 -0000
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C18891.1A1D2E40"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

This message is in MIME format. Since your mail reader does not understand
this format, some or all of this message may not be legible.

------_=_NextPart_001_01C18891.1A1D2E40
Content-Type: text/plain



> -----Original Message-----
> From: Christer Holmberg [mailto:christer.holmberg@lmf.ericsson.se]
> <snip>
> 
> Q1. Can we use it to update the Request-URI? 
> 
> IF, I guess the overlap dialing discussion will once again come up; do
> we use INVITE + UPDATE(s), or do we use re-INVITEs (for 
> separate legs)?
> 

Interesting idea - we rejected using INVITE + INFO for overlap because
intervening proxies would not be able to see the additional digits, but with
UPDATE they could (if they had Record-Routed).

> 
> Q2. Can we use it to update the SDP? 
> 
> In a basic SIP situation the answer is probably no, since SIP uses the
> INVITE/200 (or 200/ACK) mechanism. However, extension mechanisms
> (similar to the manyfolks resource reservation) could use it - instead
> of PRACK.
>

The requirement was for the UAC to be able to put early media on hold, and I
see no reason why it shouldn't *try* to do this - whether it suceeds will
just depend on whether the UAS supports it or not. You will find out when
you get the response to the UPDATE.
 
> 
> Q3. Can we use it in mid-session, ie "outside" an ongoing INVITE
> transaction?
> 
> Can the method be used, instead of re-INVITE (and in some cases maybe
> also instead of INFO) to update some parameters. A current example is
> the Allow header; would we really need a re-INVITE to update 
> that, if we
> can use the UPDATE method?

It doesn't seem to make any difference to me which you use, but we should
probably specify one or the other. I would have thought re-INVITE for
backwards compatibility. However, UAS will need to support UPDATE after it
has sent the 200 OK for the case where the UPDATE and 200 OK cross, so from
a UAS perspective you would have to support both UPDATE & re-INVITE in all
states after dialog establishment.

> 
> 
> Q4. Proxy support?
> 
> Depending on the method would be used for, there are cases where proxy
> support for the method would be needed (in another mail Jonathan gave
> midcom as an example). Would we define an option-tag, or would it be a
> MUST for proxies to support the method?
> 
> 
> I am sure there are many more similar questions, and I think we should
> try to answer all of them before we define a new method/extension.
> Otherwise they will come up sooner or later anyway, and the discussion
> will go on forever... 
> 
> Please also note that the text above are NOT proposals - simply
> QUESTIONS that would come up if an UPDATE method proposal was to be
> given.
> 
> 
> Regards,
> 
> Christer Holmberg
> Ericsson Finland
> 
> 
> 
> 
> 
> 
> 
> Jonathan Rosenberg wrote:
> > 
> > There was consensus at IETF 52 that overlapping non-INVITE should be
> > allowed, and that does not seem to have been controversial 
> in this thread.
> > 
> > The main issue remains overlapping INVITE. This is tightly 
> coupled to
> > whether or not a new INVITE Is used for the solution for 
> both (1) early
> > media and (2) the heterogeneous error response forking 
> problem. In both
> > cases, the UA needs to pass additional information to a 
> specific UAS in
> > order for call processing to continue, in order to generate a final
> > response to INVITE.
> > 
> > So, the big question is: do we use INVITE for this, or 
> something else?
> > Some of the issues to tackle when using INVITE are:
> > 
> > 1. what happens to the first transaction when the second 
> INVITE arrives?
> > Does the uas reject it (this may impact services)? Does it 
> continue to
> > use it, but accept the second one? If so, what is the implication on
> > status of the dialog? What if the first INVITE is later 
> rejected - is
> > the dialog up or down? Race conditions may make it hard to say.
> > 
> > 2. what is the impact on intermediate proxy and other elements (like
> > firewall controllers)?
> > 
> > 
> > -Jonathan R.
> > 
> > Anders Kristensen wrote:
> > 
> > >
> > > Jonathan Rosenberg wrote:
> > >
> > >>Issue:
> > >>
> > >>This is a major issue. One of the more major ones remaining.
> > >>
> > >>Currently, the spec forbids more than one INVITE at a 
> time, and more than
> > >>one non-INVITE at a time. This is simple, but there are 
> valid concerns that
> > >>it will bite us down the road when uses require faster 
> operation. Thus, the
> > >>issue is whether to relax this two constraints.
> > >>
> > >>Discussion points:
> > >>
> > >>The reason we forbid it with INVITE was that you couldn't 
> easily figure out
> > >>the most recent session description. There was no way to 
> tell whether the
> > >>response to the first INV was sent before or after the 
> response to the
> > >>second INVITE. Without a consistent view of which was the 
> most recent SDP,
> > >>the session parameters would be wrong.
> > >>
> > >
> > > I agree that it would be desirable to allow overlapping 
> transactions,
> > > including INVITEs. What's the problem with saying that 
> the CSeq (and
> > > subordinately RSeq) defines which is the most recent SDP?
> > >
> > > Anders
> > >
> > 
> > --
> > Jonathan Rosenberg, PhD                 72 Eagle Rock Avenue
> > Chief Scientist                         First Floor
> > dynamicsoft                             East Hanover, NJ 07936
> > jdrosen@dynamicsoft.com                 FAX: (973) 952-5050
> > http://www.jdrosen.net                  PH: (973) 952-5000
> > http://www.dynamicsoft.com
> > 
> > _______________________________________________
> > Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> > This list is for NEW development of the core SIP Protocol
> > Use sip-implementors@cs.columbia.edu for questions on current sip
> > Use sipping@ietf.org for new developments on the application of sip
> 
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
> 

------_=_NextPart_001_01C18891.1A1D2E40
Content-Type: text/html
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV=3D"Content-Type" CONTENT=3D"text/html; =
charset=3Dus-ascii">
<META NAME=3D"Generator" CONTENT=3D"MS Exchange Server version =
5.5.2654.89">
<TITLE>RE: [Sip] Major Open Issue #113: Overlapping =
Transactions</TITLE>
</HEAD>
<BODY>
<BR>
<BR>

<P><FONT SIZE=3D2>&gt; -----Original Message-----</FONT>
<BR><FONT SIZE=3D2>&gt; From: Christer Holmberg [<A =
HREF=3D"mailto:christer.holmberg@lmf.ericsson.se">mailto:christer.holmbe=
rg@lmf.ericsson.se</A>]</FONT>
<BR><FONT SIZE=3D2>&gt; &lt;snip&gt;</FONT>
<BR><FONT SIZE=3D2>&gt; </FONT>
<BR><FONT SIZE=3D2>&gt; Q1. Can we use it to update the Request-URI? =
</FONT>
<BR><FONT SIZE=3D2>&gt; </FONT>
<BR><FONT SIZE=3D2>&gt; IF, I guess the overlap dialing discussion will =
once again come up; do</FONT>
<BR><FONT SIZE=3D2>&gt; we use INVITE + UPDATE(s), or do we use =
re-INVITEs (for </FONT>
<BR><FONT SIZE=3D2>&gt; separate legs)?</FONT>
<BR><FONT SIZE=3D2>&gt; </FONT>
</P>

<P><FONT SIZE=3D2>Interesting idea - we rejected using INVITE + INFO =
for overlap because intervening proxies would not be able to see the =
additional digits, but with UPDATE they could (if they had =
Record-Routed).</FONT></P>

<P><FONT SIZE=3D2>&gt; </FONT>
<BR><FONT SIZE=3D2>&gt; Q2. Can we use it to update the SDP? </FONT>
<BR><FONT SIZE=3D2>&gt; </FONT>
<BR><FONT SIZE=3D2>&gt; In a basic SIP situation the answer is probably =
no, since SIP uses the</FONT>
<BR><FONT SIZE=3D2>&gt; INVITE/200 (or 200/ACK) mechanism. However, =
extension mechanisms</FONT>
<BR><FONT SIZE=3D2>&gt; (similar to the manyfolks resource reservation) =
could use it - instead</FONT>
<BR><FONT SIZE=3D2>&gt; of PRACK.</FONT>
<BR><FONT SIZE=3D2>&gt;</FONT>
</P>

<P><FONT SIZE=3D2>The requirement was for the UAC to be able to put =
early media on hold, and I see no reason why it shouldn't *try* to do =
this - whether it suceeds will just depend on whether the UAS supports =
it or not. You will find out when you get the response to the =
UPDATE.</FONT></P>

<P><FONT SIZE=3D2>&nbsp;</FONT>
<BR><FONT SIZE=3D2>&gt; </FONT>
<BR><FONT SIZE=3D2>&gt; Q3. Can we use it in mid-session, ie =
&quot;outside&quot; an ongoing INVITE</FONT>
<BR><FONT SIZE=3D2>&gt; transaction?</FONT>
<BR><FONT SIZE=3D2>&gt; </FONT>
<BR><FONT SIZE=3D2>&gt; Can the method be used, instead of re-INVITE =
(and in some cases maybe</FONT>
<BR><FONT SIZE=3D2>&gt; also instead of INFO) to update some =
parameters. A current example is</FONT>
<BR><FONT SIZE=3D2>&gt; the Allow header; would we really need a =
re-INVITE to update </FONT>
<BR><FONT SIZE=3D2>&gt; that, if we</FONT>
<BR><FONT SIZE=3D2>&gt; can use the UPDATE method?</FONT>
</P>

<P><FONT SIZE=3D2>It doesn't seem to make any difference to me which =
you use, but we should probably specify one or the other. I would have =
thought re-INVITE for backwards compatibility. However, UAS will need =
to support UPDATE after it has sent the 200 OK for the case where the =
UPDATE and 200 OK cross, so from a UAS perspective you would have to =
support both UPDATE &amp; re-INVITE in all states after dialog =
establishment.</FONT></P>

<P><FONT SIZE=3D2>&gt; </FONT>
<BR><FONT SIZE=3D2>&gt; </FONT>
<BR><FONT SIZE=3D2>&gt; Q4. Proxy support?</FONT>
<BR><FONT SIZE=3D2>&gt; </FONT>
<BR><FONT SIZE=3D2>&gt; Depending on the method would be used for, =
there are cases where proxy</FONT>
<BR><FONT SIZE=3D2>&gt; support for the method would be needed (in =
another mail Jonathan gave</FONT>
<BR><FONT SIZE=3D2>&gt; midcom as an example). Would we define an =
option-tag, or would it be a</FONT>
<BR><FONT SIZE=3D2>&gt; MUST for proxies to support the method?</FONT>
<BR><FONT SIZE=3D2>&gt; </FONT>
<BR><FONT SIZE=3D2>&gt; </FONT>
<BR><FONT SIZE=3D2>&gt; I am sure there are many more similar =
questions, and I think we should</FONT>
<BR><FONT SIZE=3D2>&gt; try to answer all of them before we define a =
new method/extension.</FONT>
<BR><FONT SIZE=3D2>&gt; Otherwise they will come up sooner or later =
anyway, and the discussion</FONT>
<BR><FONT SIZE=3D2>&gt; will go on forever... </FONT>
<BR><FONT SIZE=3D2>&gt; </FONT>
<BR><FONT SIZE=3D2>&gt; Please also note that the text above are NOT =
proposals - simply</FONT>
<BR><FONT SIZE=3D2>&gt; QUESTIONS that would come up if an UPDATE =
method proposal was to be</FONT>
<BR><FONT SIZE=3D2>&gt; given.</FONT>
<BR><FONT SIZE=3D2>&gt; </FONT>
<BR><FONT SIZE=3D2>&gt; </FONT>
<BR><FONT SIZE=3D2>&gt; Regards,</FONT>
<BR><FONT SIZE=3D2>&gt; </FONT>
<BR><FONT SIZE=3D2>&gt; Christer Holmberg</FONT>
<BR><FONT SIZE=3D2>&gt; Ericsson Finland</FONT>
<BR><FONT SIZE=3D2>&gt; </FONT>
<BR><FONT SIZE=3D2>&gt; </FONT>
<BR><FONT SIZE=3D2>&gt; </FONT>
<BR><FONT SIZE=3D2>&gt; </FONT>
<BR><FONT SIZE=3D2>&gt; </FONT>
<BR><FONT SIZE=3D2>&gt; </FONT>
<BR><FONT SIZE=3D2>&gt; </FONT>
<BR><FONT SIZE=3D2>&gt; Jonathan Rosenberg wrote:</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; </FONT>
<BR><FONT SIZE=3D2>&gt; &gt; There was consensus at IETF 52 that =
overlapping non-INVITE should be</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; allowed, and that does not seem to have =
been controversial </FONT>
<BR><FONT SIZE=3D2>&gt; in this thread.</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; </FONT>
<BR><FONT SIZE=3D2>&gt; &gt; The main issue remains overlapping INVITE. =
This is tightly </FONT>
<BR><FONT SIZE=3D2>&gt; coupled to</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; whether or not a new INVITE Is used for =
the solution for </FONT>
<BR><FONT SIZE=3D2>&gt; both (1) early</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; media and (2) the heterogeneous error =
response forking </FONT>
<BR><FONT SIZE=3D2>&gt; problem. In both</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; cases, the UA needs to pass additional =
information to a </FONT>
<BR><FONT SIZE=3D2>&gt; specific UAS in</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; order for call processing to continue, in =
order to generate a final</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; response to INVITE.</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; </FONT>
<BR><FONT SIZE=3D2>&gt; &gt; So, the big question is: do we use INVITE =
for this, or </FONT>
<BR><FONT SIZE=3D2>&gt; something else?</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; Some of the issues to tackle when using =
INVITE are:</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; </FONT>
<BR><FONT SIZE=3D2>&gt; &gt; 1. what happens to the first transaction =
when the second </FONT>
<BR><FONT SIZE=3D2>&gt; INVITE arrives?</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; Does the uas reject it (this may impact =
services)? Does it </FONT>
<BR><FONT SIZE=3D2>&gt; continue to</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; use it, but accept the second one? If so, =
what is the implication on</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; status of the dialog? What if the first =
INVITE is later </FONT>
<BR><FONT SIZE=3D2>&gt; rejected - is</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; the dialog up or down? Race conditions may =
make it hard to say.</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; </FONT>
<BR><FONT SIZE=3D2>&gt; &gt; 2. what is the impact on intermediate =
proxy and other elements (like</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; firewall controllers)?</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; </FONT>
<BR><FONT SIZE=3D2>&gt; &gt; </FONT>
<BR><FONT SIZE=3D2>&gt; &gt; -Jonathan R.</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; </FONT>
<BR><FONT SIZE=3D2>&gt; &gt; Anders Kristensen wrote:</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; </FONT>
<BR><FONT SIZE=3D2>&gt; &gt; &gt;</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; &gt; Jonathan Rosenberg wrote:</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; &gt;</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; &gt;&gt;Issue:</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; &gt;&gt;</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; &gt;&gt;This is a major issue. One of the =
more major ones remaining.</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; &gt;&gt;</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; &gt;&gt;Currently, the spec forbids more =
than one INVITE at a </FONT>
<BR><FONT SIZE=3D2>&gt; time, and more than</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; &gt;&gt;one non-INVITE at a time. This is =
simple, but there are </FONT>
<BR><FONT SIZE=3D2>&gt; valid concerns that</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; &gt;&gt;it will bite us down the road when =
uses require faster </FONT>
<BR><FONT SIZE=3D2>&gt; operation. Thus, the</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; &gt;&gt;issue is whether to relax this two =
constraints.</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; &gt;&gt;</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; &gt;&gt;Discussion points:</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; &gt;&gt;</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; &gt;&gt;The reason we forbid it with =
INVITE was that you couldn't </FONT>
<BR><FONT SIZE=3D2>&gt; easily figure out</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; &gt;&gt;the most recent session =
description. There was no way to </FONT>
<BR><FONT SIZE=3D2>&gt; tell whether the</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; &gt;&gt;response to the first INV was sent =
before or after the </FONT>
<BR><FONT SIZE=3D2>&gt; response to the</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; &gt;&gt;second INVITE. Without a =
consistent view of which was the </FONT>
<BR><FONT SIZE=3D2>&gt; most recent SDP,</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; &gt;&gt;the session parameters would be =
wrong.</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; &gt;&gt;</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; &gt;</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; &gt; I agree that it would be desirable to =
allow overlapping </FONT>
<BR><FONT SIZE=3D2>&gt; transactions,</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; &gt; including INVITEs. What's the problem =
with saying that </FONT>
<BR><FONT SIZE=3D2>&gt; the CSeq (and</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; &gt; subordinately RSeq) defines which is =
the most recent SDP?</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; &gt;</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; &gt; Anders</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; &gt;</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; </FONT>
<BR><FONT SIZE=3D2>&gt; &gt; --</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; Jonathan Rosenberg, =
PhD&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nb=
sp;&nbsp;&nbsp;&nbsp;&nbsp; 72 Eagle Rock Avenue</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; Chief =
Scientist&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nb=
sp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nb=
sp;&nbsp; First Floor</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; =
dynamicsoft&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&=
nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&=
nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; East Hanover, NJ 07936</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; =
jdrosen@dynamicsoft.com&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&=
nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FAX: (973) =
952-5050</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; <A HREF=3D"http://www.jdrosen.net" =
TARGET=3D"_blank">http://www.jdrosen.net</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p; PH: (973) 952-5000</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; <A HREF=3D"http://www.dynamicsoft.com" =
TARGET=3D"_blank">http://www.dynamicsoft.com</A></FONT>
<BR><FONT SIZE=3D2>&gt; &gt; </FONT>
<BR><FONT SIZE=3D2>&gt; &gt; =
_______________________________________________</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; Sip mailing list&nbsp; <A =
HREF=3D"http://www1.ietf.org/mailman/listinfo/sip" =
TARGET=3D"_blank">http://www1.ietf.org/mailman/listinfo/sip</A></FONT>
<BR><FONT SIZE=3D2>&gt; &gt; This list is for NEW development of the =
core SIP Protocol</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; Use sip-implementors@cs.columbia.edu for =
questions on current sip</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; Use sipping@ietf.org for new developments =
on the application of sip</FONT>
<BR><FONT SIZE=3D2>&gt; </FONT>
<BR><FONT SIZE=3D2>&gt; =
_______________________________________________</FONT>
<BR><FONT SIZE=3D2>&gt; Sip mailing list&nbsp; <A =
HREF=3D"http://www1.ietf.org/mailman/listinfo/sip" =
TARGET=3D"_blank">http://www1.ietf.org/mailman/listinfo/sip</A></FONT>
<BR><FONT SIZE=3D2>&gt; This list is for NEW development of the core =
SIP Protocol</FONT>
<BR><FONT SIZE=3D2>&gt; Use sip-implementors@cs.columbia.edu for =
questions on current sip</FONT>
<BR><FONT SIZE=3D2>&gt; Use sipping@ietf.org for new developments on =
the application of sip</FONT>
<BR><FONT SIZE=3D2>&gt; </FONT>
</P>

</BODY>
</HTML>
------_=_NextPart_001_01C18891.1A1D2E40--

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Wed Dec 19 09:10:19 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id JAA28163
	for <sip-archive@odin.ietf.org>; Wed, 19 Dec 2001 09:10:18 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id JAA13828
	for sip-archive@odin.ietf.org; Wed, 19 Dec 2001 09:10:22 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id IAA13325;
	Wed, 19 Dec 2001 08:59:00 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id IAA13296
	for <sip@optimus.ietf.org>; Wed, 19 Dec 2001 08:58:58 -0500 (EST)
Received: from albatross-ext.wise.edt.ericsson.se (albatross-ext.wise.edt.ericsson.se [194.237.142.116])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id IAA28057
	for <sip@ietf.org>; Wed, 19 Dec 2001 08:58:53 -0500 (EST)
Received: from fogerty.lmf.ericsson.se (fogerty.lmf.ericsson.se [131.160.11.6])
	by albatross.wise.edt.ericsson.se (8.11.0/8.11.0/WIREfire-1.3) with ESMTP id fBJDwaJ06797;
	Wed, 19 Dec 2001 14:58:36 +0100 (MET)
Received: from lmf.ericsson.se (aletx337.al.etx.ericsson.se [130.100.253.83])
	by fogerty.lmf.ericsson.se (8.12.1/8.12.1/lmf.8.12.1.jcs) with ESMTP id fBJDwZQ4011799;
	Wed, 19 Dec 2001 15:58:35 +0200 (EET)
Message-ID: <3C209D0B.427E3500@lmf.ericsson.se>
Date: Wed, 19 Dec 2001 15:58:35 +0200
From: Christer Holmberg <christer.holmberg@lmf.ericsson.se>
X-Mailer: Mozilla 4.61 [en] (WinNT; I)
X-Accept-Language: en
MIME-Version: 1.0
To: Mark Watson <mwatson@nortelnetworks.com>
CC: Jonathan Rosenberg <jdrosen@dynamicsoft.com>,
        Anders Kristensen <akristensen@dynamicsoft.com>, sip@ietf.org
Subject: Re: [Sip] Major Open Issue #113: Overlapping Transactions
References: <A3C2399B2FACD411A54200508BE39C74054F6EFF@zwcwd00r.europe.nortel.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit


Hi,

>>Q1. Can we use it to update the Request-URI?
>>
>>IF, I guess the overlap dialing discussion will once again come up;
>>do we use INVITE + UPDATE(s), or do we use re-INVITEs (for
>>separate legs)?
>> 
>Interesting idea - we rejected using INVITE + INFO for overlap because
>intervening proxies would not be able to see the additional digits,
>but with UPDATE they could (if they had Record-Routed).

Another reason was that INFO must not be used to affect the SIP call
state. 

>>Q2. Can we use it to update the SDP?
>>
>>In a basic SIP situation the answer is probably no, since SIP uses
>>the INVITE/200 (or 200/ACK) mechanism. However, extension mechanisms
>>(similar to the manyfolks resource reservation) could use it -
>>instead of PRACK.
> 
>The requirement was for the UAC to be able to put early media on hold,
>and I see no reason why it shouldn't *try* to do this - whether it
>suceeds will just depend on whether the UAS supports it or not. You
>will find out when you get the response to the UPDATE.

I guess this depends on how the early media handling will be
implemented. But, assuming you use SDP parameters to accept early media,
and/or put early media on hold/unhold, the question is: WHICH SDP
parameters are we allowed to update? For example, are we only llowed to
update some specific attributes, or are we also allowed to update
codec/IP parameters, or are we even allowed to add/remove streams?

Thanks for your comments!

Regards,

Christer Holmberg
Ericsson Finland

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Wed Dec 19 14:22:24 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id OAA04874
	for <sip-archive@odin.ietf.org>; Wed, 19 Dec 2001 14:22:24 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id OAA26319
	for sip-archive@odin.ietf.org; Wed, 19 Dec 2001 14:22:27 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id OAA25754;
	Wed, 19 Dec 2001 14:01:48 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id OAA25721
	for <sip@optimus.ietf.org>; Wed, 19 Dec 2001 14:01:45 -0500 (EST)
Received: from imr1.ericy.com (imr1.ericy.com [208.237.135.240])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id OAA04310
	for <sip@ietf.org>; Wed, 19 Dec 2001 14:01:41 -0500 (EST)
Received: from mr7.exu.ericsson.se (mr7u3.ericy.com [208.237.135.122])
	by imr1.ericy.com (8.11.3/8.11.3) with ESMTP id fBJIumW05854;
	Wed, 19 Dec 2001 12:56:48 -0600 (CST)
Received: from newman.exu.ericsson.se (newman.exu.ericsson.se [138.85.75.179])
	by mr7.exu.ericsson.se (8.11.3/8.11.3) with ESMTP id fBJIulc25994;
	Wed, 19 Dec 2001 12:56:47 -0600 (CST)
Received: from lmf.ericsson.se (rmt160197.am.ericsson.se [138.85.160.197]) by newman.exu.ericsson.se (8.7.5/8.7.3) with ESMTP id MAA19754; Wed, 19 Dec 2001 12:56:45 -0600 (CST)
Message-ID: <3C20E90C.7B2A423B@lmf.ericsson.se>
Date: Wed, 19 Dec 2001 21:22:52 +0200
From: Gonzalo Camarillo <Gonzalo.Camarillo@lmf.ericsson.se>
X-Mailer: Mozilla 4.79 [en] (WinNT; U)
X-Accept-Language: en
MIME-Version: 1.0
To: Mark Watson <mwatson@nortelnetworks.com>
CC: "'Christer Holmberg'" <christer.holmberg@lmf.ericsson.se>,
        Jonathan Rosenberg <jdrosen@dynamicsoft.com>,
        Anders Kristensen <akristensen@dynamicsoft.com>, sip@ietf.org
Subject: Re: [Sip] Major Open Issue #113: Overlapping Transactions
References: <A3C2399B2FACD411A54200508BE39C74054F6EFF@zwcwd00r.europe.nortel.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Hi,

Mark Watson wrote:
> 
> > -----Original Message-----
> > From: Christer Holmberg [mailto:christer.holmberg@lmf.ericsson.se]
> > <snip>
> >
> > Q1. Can we use it to update the Request-URI?
> >
> > IF, I guess the overlap dialing discussion will once again come up;
> do
> > we use INVITE + UPDATE(s), or do we use re-INVITEs (for
> > separate legs)?
> >
> 
> Interesting idea - we rejected using INVITE + INFO for overlap because
> intervening proxies would not be able to see the additional digits,
> but with UPDATE they could (if they had Record-Routed).
> 

No. We rejected to use INVITE + INFO because once the early dialog was
established, subsequent INFOs could not be routed in a different way
than the INVITE.

Regards,

Gonzalo

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Wed Dec 19 14:54:40 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id OAA05643
	for <sip-archive@odin.ietf.org>; Wed, 19 Dec 2001 14:54:40 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id OAA27813
	for sip-archive@odin.ietf.org; Wed, 19 Dec 2001 14:54:43 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id OAA27035;
	Wed, 19 Dec 2001 14:33:41 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id OAA27004
	for <sip@optimus.ietf.org>; Wed, 19 Dec 2001 14:33:38 -0500 (EST)
Received: from mail1.dynamicsoft.com (mail1.dynamicsoft.com [63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id OAA05103
	for <sip@ietf.org>; Wed, 19 Dec 2001 14:33:34 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fBJJ4OES018645;
	Wed, 19 Dec 2001 14:04:24 -0500 (EST)
Received: from dynamicsoft.com (POPE1 [63.113.46.82]) by DYN-EXCH-001.dynamicsoft.com with SMTP (Microsoft Exchange Internet Mail Service Version 5.5.2653.13)
	id ZDFR1MXF; Wed, 19 Dec 2001 14:06:01 -0500
Message-ID: <3C20E518.6060003@dynamicsoft.com>
Date: Wed, 19 Dec 2001 14:06:00 -0500
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:0.9.4) Gecko/20011128 Netscape6/6.2.1
X-Accept-Language: en-us
MIME-Version: 1.0
To: Brian Stucker <bstucker@nortelnetworks.com>
CC: Scott Orton <orton@nortelnetworks.com>,
        "'Kiranmai Pavoori'" <kiranmai.pavoori@intervoice-brite.com>,
        vkg <vkg@lucent.com>, sip <sip@ietf.org>
Subject: Re: [Sip] Open Issue #178: Deprecate absolute times absolutely: S PEAK  UP IFYOU USE THEM IN YOUR PRODUCT!!!!!!!!!!
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Let me summarize the results so far.

Scott Orton, Vijay Gurbani, Kiranai Pavoori, Brian Stucker all indicated 
it was fine to deprecate absolute times (option A).

Brett Tate says they have deployments with registrars that return 
absolute times, but it would be OK to proceed with option A anway; I 
assume this means that the registrars would need to be revved as soon as 
any of the handsets became bis compliant (since they wouldn't be able to 
handle the absolute tiems). Note that the opposite is true, you don't 
need to rev the handsets if you upgrade the registrar.

Shail indicated that their registrar uses absolute times. Shail - can we 
get more details here? Would there be issues in existing deployments 
that would be seriously affected by this change? I'd really like to do 
option A, since otherwise you need to carry around the code for absolute 
time processing anyway.

Any others?

-Jonathan R.

Brian Stucker wrote:

> Propsal A is the way to go. Do away with absolute times, they cause problems and they're of no real use because all times are relative to the current clock at the processing node anyhow.
>  
> Brian
> 
> -----Original Message-----
> From: Orton, Scott [NGC:B633:EXCH] 
> Sent: Tuesday, December 11, 2001 3:46 PM
> To: 'Kiranmai Pavoori'; jdrosen; vkg
> Cc: sip
> Subject: RE: [Sip] Open Issue #178: Deprecate absolute times absolutely: S PEAK UP IFYOU USE THEM IN YOUR PRODUCT!!!!!!!!!!
> 
> 
> 
> Proposal A is fine. 
> 
> Scott 
> Nortel Networks 
> 
> -----Original Message----- 
> From: Kiranmai Pavoori [ mailto:kiranmai.pavoori@intervoice-brite.com] 
> Sent: Tuesday, December 11, 2001 9:48 AM 
> To: jdrosen; vkg 
> Cc: sip 
> Subject: Re: [Sip] Open Issue #178: Deprecate absolute times absolutely: 
> SPEAK UP IFYOU USE THEM IN YOUR PRODUCT!!!!!!!!!! 
> 
> 
> Proposal A resolves lots of synchronization problems seen in my work.. 
> 
> 
> 
> 
>>>>Vijay Gurbani <vkg@lucent.com> 12/10 12:44 PM >>> 
>>>>
> Jonathan Rosenberg wrote: 
> 
>>Issue: 
>>
>>The Expires header and expires param in the Contact header allow for 
>>absolute times expressed in GMT. The problem with using absolute times in 
>>the messages is that they require clock synchronization between the two 
>>elements. 
>>
> [...] 
> 
>>PROPOSAL A: 
>>   * Remove absolute times entirely from the specification 
>>
>>PROPOSAL B: 
>>   * Elements MUST NOT send messages with absolute times in Expires or 
>>;expires, but they MUST be prepared to receive requests with absolute 
>>times in those headers, for backwards compatibility 
>>
>>If we can do A, we should. So, speak up NOW if you use absolute times!!! 
>>
> 
> Proposal A is fine.  Our registrar sends out delta time in responses to 
> Register requests, for instance. 
> 
> Thanks, 
> 
> - vijay 
> 


-- 
Jonathan D. Rosenberg, Ph.D.            72 Eagle Rock Avenue
Chief Scientist                         First Floor
dynamicsoft                             East Hanover, NJ 07936
jdrosen@dynamicsoft.com                 FAX: (973) 952-5050
http://www.jdrosen.net                  PH:  (973) 952-5000
http://www.dynamicsoft.com


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Wed Dec 19 15:09:32 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA05964
	for <sip-archive@odin.ietf.org>; Wed, 19 Dec 2001 15:09:32 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id PAA28629
	for sip-archive@odin.ietf.org; Wed, 19 Dec 2001 15:09:35 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id OAA27876;
	Wed, 19 Dec 2001 14:56:10 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id OAA27848
	for <sip@optimus.ietf.org>; Wed, 19 Dec 2001 14:56:08 -0500 (EST)
Received: from mail1.dynamicsoft.com (mail1.dynamicsoft.com [63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id OAA05661
	for <sip@ietf.org>; Wed, 19 Dec 2001 14:56:04 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fBJJrxES019208;
	Wed, 19 Dec 2001 14:53:59 -0500 (EST)
Received: from dynamicsoft.com (POPE1 [63.113.46.82]) by DYN-EXCH-001.dynamicsoft.com with SMTP (Microsoft Exchange Internet Mail Service Version 5.5.2653.13)
	id ZDFR1M8M; Wed, 19 Dec 2001 14:55:36 -0500
Message-ID: <3C20F0B7.3060300@dynamicsoft.com>
Date: Wed, 19 Dec 2001 14:55:35 -0500
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:0.9.4) Gecko/20011128 Netscape6/6.2.1
X-Accept-Language: en-us
MIME-Version: 1.0
To: Brian Stucker <bstucker@nortelnetworks.com>
CC: "'Fairlie-Cuninghame, Robert'" <rfairlie@nuera.com>, sip@ietf.org,
        simple@mailman.dynamicsoft.com
Subject: Re: [Sip] FW: [Simple] Alignment of sip-events and watcherinfo
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit



Brian Stucker wrote:

 >
 >> -----Original Message-----  From: Fairlie-Cuninghame, Robert [
 >> mailto:rfairlie@nuera.com]  Sent: Monday, December 10, 2001 6:48
 >> PM  To: 'Jonathan Rosenberg'; 'sip@ietf.org'  Cc:
 >> 'simple@mailman.dynamicsoft.com'  Subject: RE: [Sip] FW: [Simple]
 >>  Alignment of sip-events and  watcherinfo
 >>

 >> Thus both the terminated & pending reason causes should be 
Subscription-Expire
 >>  reasons and not solely contained in the  Event package  bodies
 >> themselves.
 >>
 >
 > A subscription can be pending to an active resource, or pending to a
 >  pending resource. The two are distinct. They are separate finite
 > state machines, and thus should be processed separately. The state
 > that the subscription is in has nothing at all to do with the state
 >  of the resource on a basic level. The resource may cause the
 > subscription to be handled differently, for sure, but at a generic
 > sip-events level, there is no coupling in my mind.

Right, I agree with Brian.

Another point to show the decoupling. Robert, you used the case of a 
concert which has a finite start and end time, and argued that when the 
concert ended, so should the subscription. However, I can think of a few 
cases where there are useful cases for subscriptions to events that have 
ended like this:

1. for periodic or recurring events, I may want my subscription to be 
maintained until the next occurrence. I see no reason to differentiate 
subscription processing for objects that exist just once than for 
objects that exist periodically.

2. Even after the object has expired, I might like to know that, and so 
one could imagine useful cases for fetching the state after the object 
has expired, to learn just that - that is has expired. Fetching is 
nothing more than subscribing for an infintesimally small duration, so 
we are talking about subscriptions to an object that "does not exist 
anymore", but it still sensible to have a subscription to it.

Robert suggested some more reason values:

> 
> I made a couple in my last email (some of which you have already covered):
> 
> 	- Terminated/rejected because authorization failed


Thats covered by "rejected"


> 	- Terminated because subscribed object terminated


See above; I would argue that if the server wants to terminate the 
subscription because the object has entered a state that will no longer 
generate events, thats really just a change in authorization policy and 
would be covered by "rejected" as well.


> 	- Terminated because subscriber requested termination.


Since termination of a subscription is done through expires=0, this is 
the same as "timeout".


> 	- Expired. Subscriber did not refresh subscription.


"timeout"


> 	- Terminated at request of notifier.
> 


Changes in authorization policy -> "rejected".

-Jonathan R.




-- 
Jonathan D. Rosenberg, Ph.D.            72 Eagle Rock Avenue
Chief Scientist                         First Floor
dynamicsoft                             East Hanover, NJ 07936
jdrosen@dynamicsoft.com                 FAX: (973) 952-5050
http://www.jdrosen.net                  PH:  (973) 952-5000
http://www.dynamicsoft.com


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Wed Dec 19 16:09:37 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id QAA07251
	for <sip-archive@odin.ietf.org>; Wed, 19 Dec 2001 16:09:36 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id QAA00603
	for sip-archive@odin.ietf.org; Wed, 19 Dec 2001 16:09:41 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id PAA29699;
	Wed, 19 Dec 2001 15:48:17 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id PAA29664
	for <sip@optimus.ietf.org>; Wed, 19 Dec 2001 15:48:14 -0500 (EST)
Received: from mail1.dynamicsoft.com (mail1.dynamicsoft.com [63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA06728
	for <sip@ietf.org>; Wed, 19 Dec 2001 15:48:09 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fBJKk4ES019734;
	Wed, 19 Dec 2001 15:46:04 -0500 (EST)
Received: from dynamicsoft.com (POPE1 [63.113.46.82]) by DYN-EXCH-001.dynamicsoft.com with SMTP (Microsoft Exchange Internet Mail Service Version 5.5.2653.13)
	id ZDFR1ND0; Wed, 19 Dec 2001 15:47:41 -0500
Message-ID: <3C20FCEC.3010505@dynamicsoft.com>
Date: Wed, 19 Dec 2001 15:47:40 -0500
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:0.9.4) Gecko/20011128 Netscape6/6.2.1
X-Accept-Language: en-us
MIME-Version: 1.0
To: "Fairlie-Cuninghame, Robert" <rfairlie@nuera.com>
CC: sip@ietf.org
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Subject: [Sip] Re: SDP Offer/Counter-offer/Answer
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

There are LOTS of issues here. Let us take them one step at a time. The 
group has a habit of jumping right into headers or parameters or bodies 
or whatever without understanding the scope of the problem or the 
semantics involved.

First off, I think its important to define a sufficient list of concrete 
problems that require a three-way exchange, so that we don't go too far 
down this path if its not really needed. Some of the ones Robert has 
offered include:

   a. early media (need to be able to refuse/modify an early media stream)
   b. having the uas add SRTP to its counter-offer when not made in the 
offer

Others I could think of:

   c. in the case of forking, if there are multiple 200 OK, each will go 
to the same port/ip on the caller. This will require knowing 
cname<->dialog mappings to sort out. THe alternative is to use a 
three-way exchange that allows a separate port for each uas


Now, let me explain why Robert's (b) is NOT an issue as defined. What is 
special about SRTP? What if the uas wants to use a new codec not offered 
by the uac? Or an additional media stream? They can always be added 
later on through a re-invite. This leads us to the question of the day: 
under what conditions is a three way handshake needed, as opposed to 
simply doing a re-invite once the call is up? The answer to this 
question is critical in determining required semantics.

I would posit that the three way handshake would be needed for those 
cases where we require atomicity, AND the offerer does not have 
sufficient information to exchange all the data in the initial offer.

As an example, consider my problem (c). The UAC wants to make a call, 
but can't offer a port until it knows who its talking to, as there will 
be a separate port for each uas. Thus, the initial offer cannot contain 
sufficient information for the exhcange. Furthermore, we don't want to 
simply do a re-invite after the 2xx, since we'll end up with this 
transitional period where we can't easily associate media with the 
dialogs it was established through. This introduces the atomicity 
requirement. In this case, the atomicity requirement is not that strong; 
I could argue that the few seconds between the 200 OK and the re-invite 
are not so important - you're not losing any media, you just can't 
associate it with the specific dialog.

Robert's SRTP example is one where its not clear to me that atomicity is 
important.


OK, now onto the second point. How do we accomplish the three-way 
handshake? I had initially proposed that the counter-offer was nothing 
more than a valid answer to the initial offer, plus a new offer. More 
concretely, we could accomplish a three way handshake by starting with 
the basic four-way handshake:

----------> OFFER
ANSWER<------
OFFER<-------
----------->ANSWER

and then making the middle two the SAME SDP, passed in one message:

------------> OFFER
<------------ ANSWER/OFFER
-------------> ANSWER

The semantics would then be: the uac processes the second message FIRST 
as an answer, and THEN as an offer, generating an answer to that. This 
would allow us to do a three-way exchange without specifying any 
additional semantics. This exchange has the very nice property that it 
supports complete subsetting, so that the SDP in message 2 is a subset 
(subset of codecs, of media streams, of directions) of message 1, and 
message 3 is a subset of 2.

However, on further cogitation, I realized this doesn't work. It doesn't 
work since its missing the fundamental atomicity property. The uac, for 
example, needs to be prepared to receive with the codecs in the offer 
(the first messae), even though there will later be another SDP updating 
that information (the third message). Thus, the information provided in 
the initial offer has to be valid and usable in its own right, and based 
on the defined semantics above, the uas could even send using that media 
before receiving message 3. That would violate atomicity.

Thus, to fully specify a three-way handshake, we need to add one 
additional bit - the uas MUST NOT ever send media using the initial 
offer, it MUST wait for the third message (the answer). This introduces 
the required atomicity, and maintains the subsetting property.

Another fun issue is handling error cases. We have the ability today to 
"reject" an offer when there is no overlap in any of the media. If the 
offer is in an INVITE, thats easily done (488 or whatever it is). If the 
offer is in a 2xx, its harder - you still need to include a valid answer 
in the ack, and then BYE later on. That doesn't work for re-invites, 
which is why we have another open issue, which is trying to ensure that 
the offer in a 2xx to a re-invite w/o SDP is always acceptable. Not sure 
how to do that, or if its even possible. Now, how to do that in a 
three-pass model is more complex, since presumably we can "reject" at 
any point and need to back off to the original sdp beforehand (the 
atomicity requirement).

I don't have answers yet for the failure cases. Its not clear to me 
whether these need to be handled in the SDP or in SIP, or whether we 
truly need atomicity in the failure cases or not, and so on.


So, my proposal would be that IFF a three-way handshake is truly needed, 
it be accomplished by collapsing a four-way O/A exchange into three by 
making the middle two messages the same, AND furhter specifying that the 
recipient of the initial offer MUST NOT send any media based on 
information in the initial offer.

With this definition, we can then consider what additional data needs to 
be sent in order to properly do this in SIP. My proposal would, in fact, 
require the initial offer from the uac to be marked in some way that 
indicates that its an offer which is expecting a counter-offer. This is 
needed since the uac needs to know whether to expect media on the 
ports/addresses/codecs in the initial message.
Similarly, the counter-offer needs to be marked as such in order for the 
uac to know it needs to generate an answer.

One of the things I was worried about in explicitly labeling SDP as 
offer/answer/counter-offer was 3pcc. I was worried that SDP which one 
entity provided as an offer was used by the controller as an answer in 
another flow. Interestingly, looking through draft-rosenberg-sip-3pcc, 
only ONE of the flows there does this - flow 2. Its also interesting to 
note that this flow is NOT RECOMMENDED because it doesn't generally 
work, and indeed, the reason it doesn't generally work is that its using 
an answer from one element as an offer to another!

Soooo, I do think it makes sense to be explicit. The requirements we 
have are:

1. label something as offer/answer/both
2. somehow indicate that a 3way handshake is supported when the initial 
offer is made
3. somehow indicat that a 3way handshake is required when the initial 
offer is made


I would argue that Content-Disposition is right for (1), and 
Require/Supported for (2) and (3).


OK, there is a lot to digest and comment on in here. Additional thoughts 
are welcome.

-Jonathan R.


Fairlie-Cuninghame, Robert wrote:

> Hello,
> 
> I'm not sure whether this is more suited to the MMUSIC list (as there is a
> answer-offer discussion ensuing presently), however I believe this is more
> related to the use of the SDP offer-answer model than its specification.
> [draft-rosenberg-mmusic-sdp-offer-answer-00.txt]
> 
> Just a recap: the SDP offer/counter-offer/answer model is where Peer A makes
> an offer in the INVITE, that Peer B has decides to make a counter-offer back
> to A (in 183 or 200 OK) which A then sends an answers (in PRACK or ACK). 
> 
> We are seeing the offer/counter-offer/answer model becoming more widely
> used: it is used in the manyfolks resource reservation, it is used in the
> early media proposal and it is required in the 3GPP requirements document.
> Also when SRTP becomes more prevalent, it will be useful in that instance. 
> An example of its use with SRTP: A calls B. A offers RTP/AVP in the INVITE
> but B requires the use of SRTP/AVP profile, so B counter-offers with
> SRTP/AVP in the 200 OK. A either answers in ACK or sends empty SDP and
> rejects call. 
> 
> My aim is not to change the answer-offer model (everything is still always
> an offer or answer), early media or resource reservation; my aim merely to
> make what is happening EXPLICIT rather than assumed, that is, make it
> explicit with an SDP is an answer or a counter-offer. Explicit protocol are
> just about always better than implicit (IETF mantra right).
> 
> My proposal (which I made earlier in the year): whenever a response
> (provisional or final) contains an SDP counter-offer then this fact is
> EXPLICITly indicated in the Content-Disposition header. 
> 
> For instance: Content-Disposition=newoffer;handling=required
> 
> I propose that this Content-Disposition token is added to the next SIP
> draft. 
> 
> Comments?
> 
> Regards,
> 
> Robert.
> 


-- 
Jonathan D. Rosenberg, Ph.D.            72 Eagle Rock Avenue
Chief Scientist                         First Floor
dynamicsoft                             East Hanover, NJ 07936
jdrosen@dynamicsoft.com                 FAX: (973) 952-5050
http://www.jdrosen.net                  PH:  (973) 952-5000
http://www.dynamicsoft.com


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Wed Dec 19 16:25:10 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id QAA07671
	for <sip-archive@odin.ietf.org>; Wed, 19 Dec 2001 16:25:10 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id QAA00906
	for sip-archive@odin.ietf.org; Wed, 19 Dec 2001 16:25:14 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id QAA00268;
	Wed, 19 Dec 2001 16:00:39 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id QAA00225
	for <sip@optimus.ietf.org>; Wed, 19 Dec 2001 16:00:37 -0500 (EST)
Received: from mail1.dynamicsoft.com (mail1.dynamicsoft.com [63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id QAA06990
	for <sip@ietf.org>; Wed, 19 Dec 2001 16:00:32 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fBJKwIES019831;
	Wed, 19 Dec 2001 15:58:18 -0500 (EST)
Received: from dynamicsoft.com (POPE1 [63.113.46.82]) by DYN-EXCH-001.dynamicsoft.com with SMTP (Microsoft Exchange Internet Mail Service Version 5.5.2653.13)
	id ZDFR1NFH; Wed, 19 Dec 2001 15:59:55 -0500
Message-ID: <3C20FFCA.6030003@dynamicsoft.com>
Date: Wed, 19 Dec 2001 15:59:54 -0500
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:0.9.4) Gecko/20011128 Netscape6/6.2.1
X-Accept-Language: en-us
MIME-Version: 1.0
To: sshetti@hss.hns.com
CC: sip@ietf.org
Subject: Re: [Sip] About maintaing reliable connections according to bis05
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit



sshetti@hss.hns.com wrote:

> 
> Hi,
> bis-05 states under "section 19 on TRANSPORT" as below
> 
> "It is RECOMMENDED that connections be kept open for some implementation
> defined time after the last message
> was sent or received over that connection. This time SHOULD be at least 16
> seconds in order to ensure with
> high probability that responses can be sent over the same connection a
> request was sent."
> 
> This recomendation will have problems with the clients already implemented
> according to RFC2543.
> These clients will see the connection closure as Server Error which is not
> desirable, when there are transactions initiated
> by them are still not complete.
> 
> backword compatibility is lost because of this recommendation,
> Suggestion is that "this recommendation must be applicable only on the
> transactions that have been completed."


No. The point of the 16s is to guarantee exactly this. Thats why it says 
" ensure with high probability that responses can be sent over the same 
connection a request was sent.".

However, we absolutely do not want to say to wait until all transactions 
have been completed, since this requires coupling of transport layer 
behavior with transaction behavior, and is an unholy nightmare to 
implement properly. A timer captures the essence of the requirement 
without the hassle.

I will, though, clarify that the timer is aimed at ensure transactions 
complete over the same connection, since its not just responses, but ack 
(for non-2xx) that you want over that connection.

-Jonathan R.



-- 
Jonathan D. Rosenberg, Ph.D.            72 Eagle Rock Avenue
Chief Scientist                         First Floor
dynamicsoft                             East Hanover, NJ 07936
jdrosen@dynamicsoft.com                 FAX: (973) 952-5050
http://www.jdrosen.net                  PH:  (973) 952-5000
http://www.dynamicsoft.com


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Wed Dec 19 16:32:11 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id QAA07855
	for <sip-archive@odin.ietf.org>; Wed, 19 Dec 2001 16:32:11 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id QAA01463
	for sip-archive@odin.ietf.org; Wed, 19 Dec 2001 16:32:15 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id QAA00742;
	Wed, 19 Dec 2001 16:15:08 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id QAA00711
	for <sip@optimus.ietf.org>; Wed, 19 Dec 2001 16:15:05 -0500 (EST)
Received: from mail1.dynamicsoft.com (mail1.dynamicsoft.com [63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id QAA07366
	for <sip@ietf.org>; Wed, 19 Dec 2001 16:15:00 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fBJLCpES019993;
	Wed, 19 Dec 2001 16:12:51 -0500 (EST)
Received: from dynamicsoft.com (POPE1 [63.113.46.82]) by DYN-EXCH-001.dynamicsoft.com with SMTP (Microsoft Exchange Internet Mail Service Version 5.5.2653.13)
	id ZDFR1NHH; Wed, 19 Dec 2001 16:14:28 -0500
Message-ID: <3C210333.6060908@dynamicsoft.com>
Date: Wed, 19 Dec 2001 16:14:27 -0500
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:0.9.4) Gecko/20011128 Netscape6/6.2.1
X-Accept-Language: en-us
MIME-Version: 1.0
To: Brett Tate <brett@broadsoft.com>
CC: sip@ietf.org
Subject: Re: [Sip] Open Issue #126: ACK never received for 2xx to re-INVITE
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit



Brett Tate wrote:

>>Issue:
>>
>>What to do if you never get an ACK for a 2xx you sent to a re-INVITE?
>>Currently, it says to re-INVITE to restablish state. However, 
>>thats going to
>>get complicated. An alternative is to just BYE the call.
>>
>>Discussion points:
>>
>>If a 2xx response to an initial INVITE never generates an ACK, you are
>>supposed to BYE. I think it makes sense, in the interests of 
>>uniformity of
>>INVITE/re-INVITE, and KISS, to simply BYE in odd cases like this.
>>
>>Proposal:
>>
>>Send a BYE
>>
> 
> How about "MUST send reINVITE or BYE"?
> 
> This wording allows the UAS to either
> release or recover the call.  It also 
> discourages devices from dropping the 
> call without sending BYE as a means to
> avoid sending BYE 11 times. 


The problem is that recovery could lead to infinite cycles of INVITE, 
along with confusion of intermediate elements about state of the call. I 
would much prefer "SHOULD send a BYE", which would allow you to try to 
recover, but not unless you have really good reason to do so.

There was also good consensus on my proposal at IETF 52. As this is a 
minor issue, I would like to strongly encourage people to take the 
simplest path and save their cycles on arguing for more important 
issues. Since there was only one dissenter on the list, one agree-er on 
the list, and complete agreement at ietf 52, I think that constitutes 
rough consensus and I now consider this issue closed.

-Jonathan R.



-- 
Jonathan D. Rosenberg, Ph.D.            72 Eagle Rock Avenue
Chief Scientist                         First Floor
dynamicsoft                             East Hanover, NJ 07936
jdrosen@dynamicsoft.com                 FAX: (973) 952-5050
http://www.jdrosen.net                  PH:  (973) 952-5000
http://www.dynamicsoft.com


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Wed Dec 19 16:45:20 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id QAA08152
	for <sip-archive@odin.ietf.org>; Wed, 19 Dec 2001 16:45:20 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id QAA01678
	for sip-archive@odin.ietf.org; Wed, 19 Dec 2001 16:45:24 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id QAA01108;
	Wed, 19 Dec 2001 16:30:11 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id QAA01065
	for <sip@optimus.ietf.org>; Wed, 19 Dec 2001 16:30:08 -0500 (EST)
Received: from mail1.dynamicsoft.com (mail1.dynamicsoft.com [63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id QAA07790
	for <sip@ietf.org>; Wed, 19 Dec 2001 16:30:03 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fBJLRQES020109;
	Wed, 19 Dec 2001 16:27:26 -0500 (EST)
Received: from dynamicsoft.com (POPE1 [63.113.46.82]) by DYN-EXCH-001.dynamicsoft.com with SMTP (Microsoft Exchange Internet Mail Service Version 5.5.2653.13)
	id ZDFR1N2Y; Wed, 19 Dec 2001 16:29:03 -0500
Message-ID: <3C21069E.1010107@dynamicsoft.com>
Date: Wed, 19 Dec 2001 16:29:02 -0500
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:0.9.4) Gecko/20011128 Netscape6/6.2.1
X-Accept-Language: en-us
MIME-Version: 1.0
To: "Henning G. Schulzrinne" <hgs@cs.columbia.edu>
CC: "Peterson, Jon" <jon.peterson@neustar.biz>, sip@ietf.org
Subject: Re: [Sip] Open Issue #134: Meaning of challenge when UAC is a gateway
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

My sense of consensus at IETF 52 was the following:

1. the device/user distinction is not useful
2. if the ua element has cached credentials for a realm it receives in a 
challenge (where caching may be through configuration), it applies those 
credentials in the re-invite, and that there is no need to prompt the 
user for credentials for that realm.
3. as a corollary to (2), if a provider wishes to challenge its gw's or 
phones, it needs to configure them with credentials for a realm, and 
then challenge requests against that realm, and also not use that realm 
for user challenges.
4. we need to add some text on proper construction of realms, as per 
Jon's note on the subject. I think its a separate issue.

-Jonathan R.

(ps - I goofed and this is issue #134, so I renamed the subject)

Henning G. Schulzrinne wrote:

> I think we should just treat the phone user as being at the end of
> rather long extension cord from the gateway. Thus, they are one and the
> same. It's up to the gateway to respect the wishes of the user, but I
> don't think we should get into prescribing UI behavior that is very
> specific to one technology.
> 
> On the realm name:
> 
> I agree with Jon that something close to a basic SIP URL (user@domain)
> would likely work best and be in keeping with 2617. It may also work
> reasonably well for challenges from intermediate proxy servers.
> 
> 
> "Peterson, Jon" wrote:
> 
>>I think that in order to evaluate this proposal we need to flush out how
>>'realm' is used in SIP. Even in rfc2617, the way that the realm string is
>>created for Basic as opposed to Digest auth is significantly different;
>>Basic realms are just arbitrary strings (like "business"), whereas Digest
>>recommends realms that contain a hostname and possibly the name of a user or
>>group. The interpretation of realms in SIP is further complicated by the
>>lack of some context (the canonical root URL) that is available in the HTTP
>>world; the value of providing context for the realm through Request-URI of
>>the SIP message instigating a challenge is unclear to me - especially since
>>that Request-URI might not be set by or even known to the challengee. I
>>think we need a story in rfc2543bis about how realm strings are constructed
>>in SIP, and what they're supposed to signify.
>>
>>I suspect that the realm-string for SIP should just explicitly designate
>>something like the administrative domain of the challenger (i.e.
>>"carrier.net") or the specific host that is issuing the challenge. Realms
>>should be globally unique (amongst domains, not necessarily hosts), and it
>>would probably be useful if they allowed hierarchical structures. Users,
>>when presented with a challenge dialog box by an application, would
>>understand how to navigate a challenge for a particular host or domain; this
>>could also potentially be meaningful to automatons.  I also believe this is
>>pretty close to the recommendations given for Digest auth realms in 2617.
>>
>>I definitely think the proposal below is on the right track - provided the
>>semantics of the realm string don't introduce any complications. One
>>possible snag would be the case in which both a gateway and its user possess
>>credentials that have varying levels of authorization within the same realm.
>>If a gateway automatically intercepts challenges for such a realm, then the
>>user may have no way to present their superior credentials. Perhaps we could
>>recommend some implementation behavior that would get around this. The text
>>in bis05 currently specifies that we always display the realm to the user
>>and prompt them for a username and password (if we haven't already cached
>>credentials from a previous exchange). Maybe as a general rule for SIP
>>devices, we could say that if the user is prompted for credentials for a
>>specific realm and they decline to provide them (presumably because they
>>cannot), that the device may supply any credentials of its own for that
>>realm. "If you have a password for this service, press * now."
>>
>>Jon Peterson
>>NeuStar, Inc.
>>
>>
>>>-----Original Message-----
>>>From: Jonathan Rosenberg [mailto:jdrosen@dynamicsoft.com]
>>>Sent: Wednesday, December 05, 2001 7:01 PM
>>>To: 'sip@ietf.org'
>>>Subject: [Sip] Open Issue #131: Meaning of challenge when UAC is a
>>>gateway
>>>
>>>
>>>Issue:
>>>
>>>When a UAS or proxy challenges a UAC that is a PSTN gateway, is the
>>>challenge for the gateway, or the user calling through the
>>>gateway? In the
>>>latter case, for example, the gateway might prompt the user,
>>>with voice
>>>prompts, to enter a password or something.
>>>
>>>Discussion points:
>>>
>>>A similar issue can arise for a standalone sip phone; is the
>>>challenge for
>>>the device or the user on the device? As a general rule,
>>>realms are the way
>>>to identify for whom the challenge is requested. A device
>>>would need to be
>>>programmed with the realm for which it has credentials as a
>>>device. Should
>>>it receive a challenge for that realm, the device could
>>>supply credentials.
>>>Challenges for other realms would go to the user, since
>>>whether they are for
>>>the device or the user, the device can't answer them anyway,
>>>so may as well
>>>try the user.
>>>
>>>Proposal:
>>>
>>>Add wording that talks about this realms usage.
>>>
>>>
> 


-- 
Jonathan D. Rosenberg, Ph.D.            72 Eagle Rock Avenue
Chief Scientist                         First Floor
dynamicsoft                             East Hanover, NJ 07936
jdrosen@dynamicsoft.com                 FAX: (973) 952-5050
http://www.jdrosen.net                  PH:  (973) 952-5000
http://www.dynamicsoft.com


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Wed Dec 19 16:48:36 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id QAA08248
	for <sip-archive@odin.ietf.org>; Wed, 19 Dec 2001 16:48:36 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id QAA01881
	for sip-archive@odin.ietf.org; Wed, 19 Dec 2001 16:48:40 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id QAA01446;
	Wed, 19 Dec 2001 16:31:38 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id QAA01418
	for <sip@optimus.ietf.org>; Wed, 19 Dec 2001 16:31:35 -0500 (EST)
Received: from motgate4.mot.com (motgate4.mot.com [144.189.100.102])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id QAA07843
	for <sip@ietf.org>; Wed, 19 Dec 2001 16:31:30 -0500 (EST)
Received: [from pobox4.mot.com (pobox4.mot.com [10.64.251.243]) by motgate4.mot.com (motgate4 2.1) with ESMTP id OAA08607 for <sip@ietf.org>; Wed, 19 Dec 2001 14:31:33 -0700 (MST)]
Received: [from az33exi01.corp.mot.com (az33exi01.corp.mot.com [199.2.84.10]) by pobox4.mot.com (MOT-pobox4 2.0) with ESMTP id OAA17980 for <sip@ietf.org>; Wed, 19 Dec 2001 14:31:33 -0700 (MST)]
Received: by az33exi01.corp.mot.com with Internet Mail Service (5.5.2654.52)
	id <Y9TB19ZS>; Wed, 19 Dec 2001 14:31:32 -0700
Message-ID: <A3072CA86761D511899F009027E796D2013A931F@az33exm04.corp.mot.com>
From: Purcell Michael-QA3001 <QA3001@motorola.com>
To: "'sip@ietf.org'" <sip@ietf.org>
Date: Wed, 19 Dec 2001 14:31:31 -0700
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2654.52)
Content-Type: text/plain;
	charset="iso-8859-1"
Subject: [Sip] draft-ietf-sip-state-02
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

Is there a time lime when the sip-state will be formalized into an RFC, or has there been little interest?

		Thanks Mike Purcell

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Wed Dec 19 17:00:02 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id RAA08498
	for <sip-archive@odin.ietf.org>; Wed, 19 Dec 2001 17:00:01 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id RAA02338
	for sip-archive@odin.ietf.org; Wed, 19 Dec 2001 17:00:06 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id QAA01796;
	Wed, 19 Dec 2001 16:46:44 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id QAA01703
	for <sip@optimus.ietf.org>; Wed, 19 Dec 2001 16:46:39 -0500 (EST)
Received: from cs.columbia.edu (cs.columbia.edu [128.59.16.20])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id QAA08186
	for <sip@ietf.org>; Wed, 19 Dec 2001 16:46:34 -0500 (EST)
Received: from opus.cs.columbia.edu (opus.cs.columbia.edu [128.59.20.100])
	by cs.columbia.edu (8.9.3/8.9.3) with ESMTP id QAA12574;
	Wed, 19 Dec 2001 16:46:18 -0500 (EST)
Received: from cs.columbia.edu (metroliner.cs.columbia.edu [128.59.19.252])
	by opus.cs.columbia.edu (8.12.1/8.12.1) with ESMTP id fBJLkAOK024290;
	Wed, 19 Dec 2001 16:46:10 -0500 (EST)
Message-ID: <3C210AA2.85BF4B81@cs.columbia.edu>
Date: Wed, 19 Dec 2001 16:46:10 -0500
From: "Henning G. Schulzrinne" <hgs@cs.columbia.edu>
Organization: Dept. of Computer Science, Columbia University
X-Mailer: Mozilla 4.78 [en] (X11; U; Linux 2.2.19-3cucs i686)
X-Accept-Language: en
MIME-Version: 1.0
To: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
CC: "Peterson, Jon" <jon.peterson@neustar.biz>, sip@ietf.org
Subject: Re: [Sip] Open Issue #134: Meaning of challenge when UAC is a gateway
References: <3C21069E.1010107@dynamicsoft.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Jonathan Rosenberg wrote:
> 
> My sense of consensus at IETF 52 was the following:
> 
> 1. the device/user distinction is not useful

Agreed.

> 2. if the ua element has cached credentials for a realm it receives in a
> challenge (where caching may be through configuration), it applies those
> credentials in the re-invite, and that there is no need to prompt the
> user for credentials for that realm.

Ack - same as for any other device. That's a local policy and
implementation decision. If you want to build a user annoyance
maximization device, you can certainly prompt again and again.


> 3. as a corollary to (2), if a provider wishes to challenge its gw's or
> phones, it needs to configure them with credentials for a realm, and
> then challenge requests against that realm, and also not use that realm
> for user challenges.


> 4. we need to add some text on proper construction of realms, as per
> Jon's note on the subject. I think its a separate issue.

My interpretation is that this a useful convention, but things should
work even if I put random characters in the realm string.


> 
> -Jonathan R.
> 
> (ps - I goofed and this is issue #134, so I renamed the subject)
> 


-- 
Henning Schulzrinne   http://www.cs.columbia.edu/~hgs

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Wed Dec 19 17:05:11 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id RAA08652
	for <sip-archive@odin.ietf.org>; Wed, 19 Dec 2001 17:05:11 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id RAA02787
	for sip-archive@odin.ietf.org; Wed, 19 Dec 2001 17:04:59 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id QAA02014;
	Wed, 19 Dec 2001 16:52:08 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id QAA01985
	for <sip@optimus.ietf.org>; Wed, 19 Dec 2001 16:52:06 -0500 (EST)
Received: from mail1.dynamicsoft.com (mail1.dynamicsoft.com [63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id QAA08375
	for <sip@ietf.org>; Wed, 19 Dec 2001 16:52:00 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fBJLnuES020402;
	Wed, 19 Dec 2001 16:49:56 -0500 (EST)
Received: from dynamicsoft.com (POPE1 [63.113.46.82]) by DYN-EXCH-001.dynamicsoft.com with SMTP (Microsoft Exchange Internet Mail Service Version 5.5.2653.13)
	id ZDFR1NM3; Wed, 19 Dec 2001 16:51:32 -0500
Message-ID: <3C210BE4.8090304@dynamicsoft.com>
Date: Wed, 19 Dec 2001 16:51:32 -0500
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:0.9.4) Gecko/20011128 Netscape6/6.2.1
X-Accept-Language: en-us
MIME-Version: 1.0
To: Vijay Gurbani <vkg@lucent.com>
CC: sip@ietf.org
Subject: Re: [Sip] Open Issue #144: Branch ID  + isCancel() as transaction ID
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

The rough consensus of IETF 52 was to accept this proposal, but a little 
more detail is needed.

Mike had pointed out some security vulnerabilities introduced by this; 
namely, a malicious proxy could clobber other peoples transactions by 
using their transaction keys in the via. Of course, it can always do 
that today by inserting their to/from/call-id/via/r-uri, so its not much 
different. However, there was agreement that the server would compute 
the transaction key as a hash of the via branch ID, the source IP/port 
and a private key.

We also need to clarify that the proxy should construct the branch ID to 
be unique, and document the specific cookie value.

Any further comments? I feel strongly that we should do this, since it 
will solve a LOT of interop problems that arise with looping and spirals 
and the whole nine yards, which continue to plague us at bakeoffs.


-Jonathan R.


Vijay Gurbani wrote:

> Jonathan Rosenberg wrote:
> 
>>Issue:
>>
> [...]
> 
>>Bis-05 has taken a big step forward with a rigorous definition of
>>transaction, which makes it clear that its a single "branch" in the tree 
>>of requests formed when a UAC sends a request through a bunch of proxies. 
>>That is, the To/From/CSeq/Call-ID identify the root of this tree, and the 
>>Via branch + r-uri further identify each branch in the tree. Based on 
>>this, it is natural to take the final step, and define the transaction ID 
>>for a request/response MUCH more simply - it is the value of the branch ID 
>>in the topmost via, with the small caveat that CANCEL has the same branch 
>>ID, but its a different transaction. 
>>
> 
> Also that ACKs for non-2xx response must have the same branch ID as the
> INVITE did.
> 
> [...]
> 
> 
>>Proposal:
>>
>>Allow for branch ID to be the transaction ID, by taking the steps 
>>described above.
>>
> 
> Fine.
> 
> - vijay
> 


-- 
Jonathan D. Rosenberg, Ph.D.            72 Eagle Rock Avenue
Chief Scientist                         First Floor
dynamicsoft                             East Hanover, NJ 07936
jdrosen@dynamicsoft.com                 FAX: (973) 952-5050
http://www.jdrosen.net                  PH:  (973) 952-5000
http://www.dynamicsoft.com


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Wed Dec 19 17:14:54 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id RAA08884
	for <sip-archive@odin.ietf.org>; Wed, 19 Dec 2001 17:14:54 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id RAA02883
	for sip-archive@odin.ietf.org; Wed, 19 Dec 2001 17:14:57 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id QAA02183;
	Wed, 19 Dec 2001 16:59:36 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id QAA02113
	for <sip@optimus.ietf.org>; Wed, 19 Dec 2001 16:59:32 -0500 (EST)
Received: from mail1.dynamicsoft.com (mail1.dynamicsoft.com [63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id QAA08471;
	Wed, 19 Dec 2001 16:59:27 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fBJLvMES020480;
	Wed, 19 Dec 2001 16:57:22 -0500 (EST)
Received: from dynamicsoft.com (POPE1 [63.113.46.82]) by DYN-EXCH-001.dynamicsoft.com with SMTP (Microsoft Exchange Internet Mail Service Version 5.5.2653.13)
	id ZDFR1NNJ; Wed, 19 Dec 2001 16:58:59 -0500
Message-ID: <3C210DA2.8020804@dynamicsoft.com>
Date: Wed, 19 Dec 2001 16:58:58 -0500
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:0.9.4) Gecko/20011128 Netscape6/6.2.1
X-Accept-Language: en-us
MIME-Version: 1.0
To: "Drage, Keith (Keith)" <drage@lucent.com>
CC: sip@ietf.org, mmusic@ietf.org, confctrl@isi.edu
Subject: Re: [Sip] Open Issue #150: too many ways of saying "don't send me media"
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Beyond Keiths objection at IETF52 to discussing this in the sip group at 
all (I have cc'd mmusic), consensus on this proposal at the meeting was 
that as long as there were well defined semantics for all of these, 
there is no reason to prevent someone from using them.

The semantics are:

c=0.0.0.0: will cease reception of RTP and RTCP, no longer the 
recommended way to do hold, has issues with SRTP keying, ipv6, 
connection oriented media, etc. Generally bad.

a=inactive/sendonly - stops only RTP

port 0: turns of media streams - safe to unload codecs, etc.

bw=0: will turn off reception of RTP and RTCP

Thanks,
Jonathan R.

Drage, Keith (Keith) wrote:

> Given that all SDP has now been removed from the bis draft, I am not sure
> how this remains a SIP WG open issue.
> 
> Surely this issue has now transferred to the MMUSIC documentation.
> 
> Keith
> 
> Keith Drage
> Lucent Technologies
> Tel: +44 1793 776249
> Email: drage@lucent.com
> 
> 
>>----------
>>From: 	Jonathan Rosenberg[SMTP:jdrosen@dynamicsoft.com]
>>Sent: 	06 December 2001 5:41
>>To: 	'sip@ietf.org'
>>Subject: 	[Sip] Open Issue #150: too many ways of saying "don't send
>>me media"
>>
>>Issue:
>>
>>There are a bunch of ways to say "don't send me media":
>>
>>c=0.0.0.0
>>a=inactive,sendonly
>>zero port
>>bw=0
>>
>>What do these all mean, and do we need them all?
>>
>>Discussion: We've agreed on most of this already. The only real issue is
>>to
>>say that bw=0 is never used. So, the proposal is:
>>
>>c=0.0.0.0          DEPRECATED
>>a=inactive,sendly  PREFERRED
>>zero port:         disables media stream
>>bw=0               DONT USE
>>
>>-Jonathan R.
>>---
>>Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
>>Chief Scientist                             First Floor
>>dynamicsoft                                 East Hanover, NJ 07936
>>jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
>>http://www.jdrosen.net                      PHONE: (973) 952-5000
>>http://www.dynamicsoft.com
>> 
>>
>>_______________________________________________
>>Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
>>This list is for NEW development of the core SIP Protocol
>>Use sip-implementors@cs.columbia.edu for questions on current sip
>>Use sipping@ietf.org for new developments on the application of sip
>>
> 


-- 
Jonathan D. Rosenberg, Ph.D.            72 Eagle Rock Avenue
Chief Scientist                         First Floor
dynamicsoft                             East Hanover, NJ 07936
jdrosen@dynamicsoft.com                 FAX: (973) 952-5050
http://www.jdrosen.net                  PH:  (973) 952-5000
http://www.dynamicsoft.com


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Wed Dec 19 18:05:23 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id RAA08651
	for <sip-archive@odin.ietf.org>; Wed, 19 Dec 2001 17:05:11 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id RAA02771
	for sip-archive@odin.ietf.org; Wed, 19 Dec 2001 17:04:53 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id QAA01972;
	Wed, 19 Dec 2001 16:51:52 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id QAA01943
	for <sip@optimus.ietf.org>; Wed, 19 Dec 2001 16:51:49 -0500 (EST)
Received: from mail1.dynamicsoft.com (mail1.dynamicsoft.com [63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id QAA08351
	for <sip@ietf.org>; Wed, 19 Dec 2001 16:51:44 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fBJLnYES020399;
	Wed, 19 Dec 2001 16:49:34 -0500 (EST)
Received: from dynamicsoft.com (POPE1 [63.113.46.82]) by DYN-EXCH-001.dynamicsoft.com with SMTP (Microsoft Exchange Internet Mail Service Version 5.5.2653.13)
	id ZDFR1NMM; Wed, 19 Dec 2001 16:51:10 -0500
Message-ID: <3C210BCE.3070700@dynamicsoft.com>
Date: Wed, 19 Dec 2001 16:51:10 -0500
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:0.9.4) Gecko/20011128 Netscape6/6.2.1
X-Accept-Language: en-us
MIME-Version: 1.0
To: Christer Holmberg <christer.holmberg@lmf.ericsson.se>
CC: brett@broadsoft.com, sip@ietf.org
Subject: Re: [Sip] Open Issue #140: use only tags for Call-leg ID
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Consensus at IETF 52 was that we accept the proposal, that is, the 
current definitions and requirements in bis-05 stand. It is possible for 
implementations to be optimized to not use the URLs as call-leg indices, 
and for replaces to be defined without it, as has been pointed out.


There were no dissenters on the list.

This issue is now closed.

-Jonathan R.

Christer Holmberg wrote:

> Hi,
> 
> First, I DO agree with the proposal.
> 
> Just a general To- and From header URL question, though...
> 
> ASSUMING that we would go for the proposal (only use the to tag, from
> tag, and call-id), my question is: 
> 
> For what do we need the To- and From URLs for after the call has been
> setup (after the initial INVITE transaction, that is)? Will it be needed
> for any mid-session request, since the nodes use the established route
> to forward the messages?
> 
> So, an INFO could look something like:
> 
> INFO sip:111@123.456.78.90
> To:;tag=12354354
> From:;tag=ehrkekd
> Call-ID:1234@111.222.333.444
> 
> Now, I KNOW that this isn't backward compatible, since the HOST part is
> currently mandatory in the To- and From URLs. However, that could be
> solved by keeping the HOST part of the URLs in every message, but
> removing the USER part - or simply to add some "dummy" USER part.
> 
> INFO sip:111@123.456.78.90
> To:you;tag=12354354
> From:me;tag=ehrkekd
> Call-ID:1234@111.222.333.444
> 
> It would save us a few bytes, and it would add a little security since
> we won't send all user information in every message.
> 
> Just some thoughts...
> 
> Regards,
> 
> Christer Holmberg
> Ericsson Finland
> 
> 
> 
> 
> Brett Tate wrote:
> 
>>>Issue:
>>>
>>>An interesting proposal is to modify the definition of
>>>call-leg, so that is
>>>the
>>>to tag, from tag, and call-id. This is different from the
>>>current definition
>>>in
>>>that the URLs are dropped.
>>>
>>>Discussion:
>>>
>>>This approach has some important benefits:
>>>
>>>1. overlap dialing now becomes easier. Each digit can be added as a
>>>re-invite
>>>with in the same call-leg (assuming re-invites can be sent
>>>within a call leg
>>>
>>>before the previous completes - thats another issue) but with
>>>a different
>>>To/R-uri. Since the To URL is not part of the call-leg ID
>>>process, this new
>>>request can be part of the same call leg. However, the
>>>current proposal is
>>>to not allow overllaping INVITE, so this may be moot.
>>>
>>>2. A invites B, which is proxied to C. C sends a re-INVITE
>>>back to A. The
>>>From
>>>field in the request from C is wrong! We'd like to maintain
>>>the idempotency
>>>of
>>>INVITE, so that the from field is always the logical identity
>>>of the caller,
>>>no
>>>matter when its sent. So, B could include its actual URL in
>>>the From field
>>>of the re-INVITE. Since the call leg ID is based only on
>>>tags, this would
>>>work.
>>>
>>>3. Call leg lookups are now oodles easier, since they are
>>>just based on
>>>case-sensitive string compares. No more messy URL
>>>comparisons. However, its
>>>worth noting that you can still do this anyway, since tags have to be
>>>globally unique. That is, even though the spec says its the full
>>>To/From/Call-ID, you could just use tags/Call-ID to index
>>>legs at a UA. What
>>>you wouldn't be able to do is change the From/To URLs in subsequent
>>>requests, as above in (2).
>>>
>>>4. The Replaces header gets shortened; its now easier to
>>>identify the call
>>>leg
>>>thats getting replaced. May not be a big deal.
>>>
>>>5. This may work with existing proxies, but has compatibility
>>>issues with
>>>existing
>>>UAs. A simple SUpported token would handle this, though.
>>>
>>>
>>>Given that (1) is moot, (3) is possible without this
>>>proposal, (4) is not
>>>too important, the only real benefit is (2), that you can
>>>send the right
>>>From header in a re-INVITE. Now, an argument here is that
>>>anybody who makes
>>>policy decisions based on the From header anyway is in
>>>trouble, since its
>>>client supplied. Thus, you need to authenticate, and the credentials
>>>provided (or the Remote-Party-ID header) are what you would
>>>use anyway. So,
>>>who cares if the From header is not right in the re-INVITE anyway.
>>>
>>>Proposal:
>>>
>>>So, given the limited utility, and the potential interop problems, the
>>>proposal is to keep the current wording.
>>>
>>The proposal sounds fine.
>>
>>_______________________________________________
>>Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
>>This list is for NEW development of the core SIP Protocol
>>Use sip-implementors@cs.columbia.edu for questions on current sip
>>Use sipping@ietf.org for new developments on the application of sip
>>
> 
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
> 


-- 
Jonathan D. Rosenberg, Ph.D.            72 Eagle Rock Avenue
Chief Scientist                         First Floor
dynamicsoft                             East Hanover, NJ 07936
jdrosen@dynamicsoft.com                 FAX: (973) 952-5050
http://www.jdrosen.net                  PH:  (973) 952-5000
http://www.dynamicsoft.com


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Wed Dec 19 18:09:06 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id SAA10024
	for <sip-archive@odin.ietf.org>; Wed, 19 Dec 2001 18:09:06 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id SAA04487
	for sip-archive@odin.ietf.org; Wed, 19 Dec 2001 18:09:09 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id RAA03890;
	Wed, 19 Dec 2001 17:52:05 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id RAA03863
	for <sip@optimus.ietf.org>; Wed, 19 Dec 2001 17:52:03 -0500 (EST)
Received: from ihemail1.firewall.lucent.com (ihemail1.lucent.com [192.11.222.161])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id RAA09684
	for <sip@ietf.org>; Wed, 19 Dec 2001 17:51:59 -0500 (EST)
Received: from ih2mail.ih.lucent.com (h135-1-241-39.lucent.com [135.1.241.39])
	by ihemail1.firewall.lucent.com (Switch-2.1.3/Switch-2.1.0) with ESMTP id fBJMq2Q04843;
	Wed, 19 Dec 2001 17:52:02 -0500 (EST)
Received: from lucent.com by ih2mail.ih.lucent.com (8.8.8+Sun/EMS-1.5 sol2)
	id QAA19142; Wed, 19 Dec 2001 16:52:01 -0600 (CST)
Message-ID: <3C211A0D.BD598FE3@lucent.com>
Date: Wed, 19 Dec 2001 16:51:57 -0600
From: Vijay Gurbani <vkg@lucent.com>
Organization: Lucent Technologies/Bell Laboratories
X-Mailer: Mozilla 4.73 [en]C-CCK-MCD EMS-1.4  (Windows NT 5.0; U)
X-Accept-Language: en
MIME-Version: 1.0
To: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
CC: sip@ietf.org
Subject: Re: [Sip] Open Issue #140: use only tags for Call-leg ID
References: <3C210BCE.3070700@dynamicsoft.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Jonathan Rosenberg wrote:
> 
> Consensus at IETF 52 was that we accept the proposal, that is, the
> current definitions and requirements in bis-05 stand. It is possible for
> implementations to be optimized to not use the URLs as call-leg indices,
> and for replaces to be defined without it, as has been pointed out.

Jonathan:

Not dissenting, just a clarification...

Let me recap: your proposal was that the dialog be identified with Call-ID, 
To tag and From tag only (drop URIs in the From and To).  Right?

Bis-05 defines a Dialog to include Call-ID, "local address" and "remote
address" where "local address" and "remote address" *include* the URIs.

So, was consensus at IETF 52 to accept the proposal as defined in -05bis
(include URIs) or what you proposed (do not include URIs, only tags)?

Regards,

- vijay
-- 
Vijay K. Gurbani  vkg@{lucent.com,research.bell-labs.com,acm.org}
Internet Software and eServices Group 
Lucent Technologies/Bell Labs Innovations, 2000 Lucent Lane, Rm 6G-440
Naperville, Illinois 60566     Voice: +1 630 224 0216   Fax: +1 630 713 0184

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Wed Dec 19 19:44:05 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id TAA11032
	for <sip-archive@odin.ietf.org>; Wed, 19 Dec 2001 19:44:05 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id TAA07135
	for sip-archive@odin.ietf.org; Wed, 19 Dec 2001 19:44:07 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id TAA06142;
	Wed, 19 Dec 2001 19:12:56 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id TAA06109
	for <sip@optimus.ietf.org>; Wed, 19 Dec 2001 19:12:54 -0500 (EST)
Received: from fox.iptel.org (fox.iptel.org [195.37.77.101])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id TAA10752
	for <sip@ietf.org>; Wed, 19 Dec 2001 19:12:51 -0500 (EST)
Received: from jku.dynamicsoft.com (dhcp242.fokus.gmd.de [195.37.78.242])
	by fox.iptel.org (8.11.6/8.11.6) with ESMTP id fBK0BoY17177;
	Thu, 20 Dec 2001 01:11:50 +0100
Message-Id: <5.1.0.14.0.20011220003318.034eeec0@mailhost.fokus.gmd.de>
X-Sender: jiri@iptel.org (Unverified)
X-Mailer: QUALCOMM Windows Eudora Version 5.1
Date: Thu, 20 Dec 2001 01:12:42 +0100
To: Jonathan Rosenberg <jdrosen@dynamicsoft.com>,
        Cullen Jennings <fluffy@cisco.com>
From: Jiri Kuthan <jkuthan@dynamicsoft.com>
Cc: sip@ietf.org
In-Reply-To: <3C1EEAD2.1040700@dynamicsoft.com>
References: <DLEHICEBMNEIPCACNLPCGEFHCBAA.fluffy@cisco.com>
Mime-Version: 1.0
Content-Type: text/plain; charset="us-ascii"
Subject: [Sip] Re: [Sipping] Requirement for a Transaction ID in each SIP
 message?
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

Cullen,

few inline nits:

At 08:05 AM 12/18/2001, Jonathan Rosenberg wrote:
>Cullen Jennings wrote:
>
>>Should we add an optional field somewhere in every SIP message that can
>>hold
>>a transaction ID?
>
>Yes. Its called the branch ID. THis was open issue #144, and it was agreed during the sip meeting that bis should specify construction of the branch ID in such a way to allow it to be used as a transaction idedntifier.

>>This would be an identifier that the proxy that sent a request could use
>>to
>>track responses to it. 

Request-response matching using "MPLS-ized SIP" is easy and requires no 
standardization. This is about request-request matching.

>>An element that received a transaction ID in a
>>request, would put the same id into the response. 

I think the transaction ID in inbound and outbound requests passed through
a proxy will be rather different. Specifically, if we use branches as T-ID, 
they will be different whenever R-URIs change because then branches change
too.

Note that INV/CANCEL/ACKs will have the same branch value -- that means you can
easily link both of them together (while looking at the method too). 

Replies for INV/CANCELs will also have the same branch value (because the
original requests had them so). That means you'd have to parse Cseq too to 
look-up correct t-context (INV/CANCEL are separate transactions). I don't see 
now any way around parsing CSeq as topmost Via-s in replies to INV/CANCEL 
are same and cannot be used to distinguish both transactions.

So what needs to be done is
- recommending usage of unique branches for all kinds of UACs
- defining uniquiness for UASs (people seem to want src_ip or sent_by
  as part of its definition too to avoid collisions with upstream
  UACs generating branches that are not "well unique") 
- aggreeing on a uniquiness cookie (be it the "h323" or "jdr" in
  memory of the proponent ;-)

-Jiri

ps -- I changed to sip from sipping as this is about the spec.


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Dec 20 00:11:16 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id AAA15707
	for <sip-archive@odin.ietf.org>; Thu, 20 Dec 2001 00:11:16 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id AAA14353
	for sip-archive@odin.ietf.org; Thu, 20 Dec 2001 00:11:18 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id XAA13209;
	Wed, 19 Dec 2001 23:43:28 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id XAA13180
	for <sip@optimus.ietf.org>; Wed, 19 Dec 2001 23:43:25 -0500 (EST)
Received: from hssblrmail.hss.hns.com ([164.164.94.118])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id XAA15407
	for <sip@ietf.org>; Wed, 19 Dec 2001 23:43:16 -0500 (EST)
From: sshetti@hss.hns.com
Received: from sampark.hss.hns.com ([192.168.17.10])
	by hssblrmail.hss.hns.com (8.11.2/8.11.2) with SMTP id fBK4b4910999;
	Thu, 20 Dec 2001 10:07:08 +0530
Received: by sampark.hss.hns.com(Lotus SMTP MTA Internal build v4.6.2  (651.2 6-10-1998))  id 65256B28.001781A0 ; Thu, 20 Dec 2001 09:46:45 +0530
X-Lotus-FromDomain: HSSBLR
To: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
cc: sip@ietf.org
Message-ID: <65256B28.001780BB.00@sampark.hss.hns.com>
Date: Thu, 20 Dec 2001 09:46:42 +0530
Subject: Re: [Sip] About maintaing reliable connections according to bis05
Mime-Version: 1.0
Content-type: text/plain; charset=us-ascii
Content-Disposition: inline
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org



Hi Jonathan,
isnt 16 seconds recommendation too small for this purpose?

lets say, an original RFC compliant client A tries to contact client B
through a proxy P.
proxy P is implemented according to bis-05, where after it sees that
connection is idle since 16 seconds it closes the same.

the INVITE from A gets proxied to B, and B takes more time to pick the hand
set.
meanwhile the connection on proxy timesout and it terminates the
connection.
now the client A, is in a fix.

I understand that the coupling transport and transaction layer for solving
this implementation is complex,
but I dont think there might be any problem if the recommended timeout
value is sufficiently high, which to some extent
reduces probability of such problems wrt backword compatibility.

regards,
Shetti





Jonathan Rosenberg <jdrosen@dynamicsoft.com> on 12/20/2001 02:29:54 AM

To:   Shrinivas Shetti/HSSBLR
cc:   sip@ietf.org
Subject:  Re: [Sip] About maintaing reliable connections according to bis05






sshetti@hss.hns.com wrote:

>
> Hi,
> bis-05 states under "section 19 on TRANSPORT" as below
>
> "It is RECOMMENDED that connections be kept open for some implementation
> defined time after the last message
> was sent or received over that connection. This time SHOULD be at least
16
> seconds in order to ensure with
> high probability that responses can be sent over the same connection a
> request was sent."
>
> This recomendation will have problems with the clients already
implemented
> according to RFC2543.
> These clients will see the connection closure as Server Error which is
not
> desirable, when there are transactions initiated
> by them are still not complete.
>
> backword compatibility is lost because of this recommendation,
> Suggestion is that "this recommendation must be applicable only on the
> transactions that have been completed."


No. The point of the 16s is to guarantee exactly this. Thats why it says
" ensure with high probability that responses can be sent over the same
connection a request was sent.".

However, we absolutely do not want to say to wait until all transactions
have been completed, since this requires coupling of transport layer
behavior with transaction behavior, and is an unholy nightmare to
implement properly. A timer captures the essence of the requirement
without the hassle.

I will, though, clarify that the timer is aimed at ensure transactions
complete over the same connection, since its not just responses, but ack
(for non-2xx) that you want over that connection.

-Jonathan R.



--
Jonathan D. Rosenberg, Ph.D.            72 Eagle Rock Avenue
Chief Scientist                         First Floor
dynamicsoft                             East Hanover, NJ 07936
jdrosen@dynamicsoft.com                 FAX: (973) 952-5050
http://www.jdrosen.net                  PH:  (973) 952-5000
http://www.dynamicsoft.com


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip





_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Dec 20 06:33:03 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id GAA05868
	for <sip-archive@odin.ietf.org>; Thu, 20 Dec 2001 06:33:03 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id GAA04795
	for sip-archive@odin.ietf.org; Thu, 20 Dec 2001 06:33:05 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id GAA03774;
	Thu, 20 Dec 2001 06:13:34 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id GAA03682
	for <sip@optimus.ietf.org>; Thu, 20 Dec 2001 06:13:29 -0500 (EST)
Received: from znsgs01r.europe.nortel.com (h50s128a211n47.user.nortelnetworks.com [47.211.128.50])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id GAA05605
	for <sip@ietf.org>; Thu, 20 Dec 2001 06:13:24 -0500 (EST)
Received: from znsgy0k8.europe.nortel.com (znsgy0k8.europe.nortel.com [47.165.24.67])
	by znsgs01r.europe.nortel.com (Switch-2.2.0/Switch-2.2.0) with ESMTP id fBKBCcu19035;
	Thu, 20 Dec 2001 11:12:38 GMT
Received: from zwcwd00r.europe.nortel.com ([47.73.112.128]) by znsgy0k8.europe.nortel.com with SMTP (Microsoft Exchange Internet Mail Service Version 5.5.2653.13)
	id YKCY2ATF; Thu, 20 Dec 2001 11:11:21 -0000
Received: from mwatson3 (ansgt1qg.europe.nortel.com [47.160.168.9]) by zwcwd00r.europe.nortel.com with SMTP (Microsoft Exchange Internet Mail Service Version 5.5.2653.13)
	id YZ36G0XP; Thu, 20 Dec 2001 11:11:18 -0000
Message-ID: <000701c18947$5aef4c80$09a8a02f@mwatson3>
X-Sybari-Space: 00000000 00000000 00000000
From: "Mark Watson" <mwatson@nortelnetworks.com>
To: "Jonathan Rosenberg" <jdrosen@dynamicsoft.com>,
        "Fairlie-Cuninghame, Robert" <rfairlie@nuera.com>
Cc: <sip@ietf.org>
References: <3C20FCEC.3010505@dynamicsoft.com>
Subject: Re: [Sip] Re: SDP Offer/Counter-offer/Answer
Date: Thu, 20 Dec 2001 11:11:55 -0000
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 5.00.2014.211
X-MimeOLE: Produced By Microsoft MimeOLE V5.00.2014.211
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Jonathan,

Sounds reasonable to me, except the very last part.

We split out the offer/answer model from SIP and input it into mmusic
because it has broader application - i.e. anywhere that you need to use SDP
in this request/response type of way.

Now we have a requirement to make the offer/answer+offer/answer semantics
explicit, but you are suggesting solutions to that which only work for SIP.

Shouldn't this indication be clear from the SDP itself (either implicit or
explicit) ? Alternatively, I guess we could state this requirement in the
offer/answer draft as a requirement on 'whatever is used to carry the SDP'.

Interestingly, ITU-T SG11 in Q.1990 defines a new SDP attribute for almost
exactly this purpose.

Regards...Mark



----- Original Message -----
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: Fairlie-Cuninghame, Robert <rfairlie@nuera.com>
Cc: <sip@ietf.org>
Sent: Wednesday, December 19, 2001 8:47 PM
Subject: [Sip] Re: SDP Offer/Counter-offer/Answer


> There are LOTS of issues here. Let us take them one step at a time. The
> group has a habit of jumping right into headers or parameters or bodies
> or whatever without understanding the scope of the problem or the
> semantics involved.
>
> First off, I think its important to define a sufficient list of concrete
> problems that require a three-way exchange, so that we don't go too far
> down this path if its not really needed. Some of the ones Robert has
> offered include:
>
>    a. early media (need to be able to refuse/modify an early media stream)
>    b. having the uas add SRTP to its counter-offer when not made in the
> offer
>
> Others I could think of:
>
>    c. in the case of forking, if there are multiple 200 OK, each will go
> to the same port/ip on the caller. This will require knowing
> cname<->dialog mappings to sort out. THe alternative is to use a
> three-way exchange that allows a separate port for each uas
>
>
> Now, let me explain why Robert's (b) is NOT an issue as defined. What is
> special about SRTP? What if the uas wants to use a new codec not offered
> by the uac? Or an additional media stream? They can always be added
> later on through a re-invite. This leads us to the question of the day:
> under what conditions is a three way handshake needed, as opposed to
> simply doing a re-invite once the call is up? The answer to this
> question is critical in determining required semantics.
>
> I would posit that the three way handshake would be needed for those
> cases where we require atomicity, AND the offerer does not have
> sufficient information to exchange all the data in the initial offer.
>
> As an example, consider my problem (c). The UAC wants to make a call,
> but can't offer a port until it knows who its talking to, as there will
> be a separate port for each uas. Thus, the initial offer cannot contain
> sufficient information for the exhcange. Furthermore, we don't want to
> simply do a re-invite after the 2xx, since we'll end up with this
> transitional period where we can't easily associate media with the
> dialogs it was established through. This introduces the atomicity
> requirement. In this case, the atomicity requirement is not that strong;
> I could argue that the few seconds between the 200 OK and the re-invite
> are not so important - you're not losing any media, you just can't
> associate it with the specific dialog.
>
> Robert's SRTP example is one where its not clear to me that atomicity is
> important.
>
>
> OK, now onto the second point. How do we accomplish the three-way
> handshake? I had initially proposed that the counter-offer was nothing
> more than a valid answer to the initial offer, plus a new offer. More
> concretely, we could accomplish a three way handshake by starting with
> the basic four-way handshake:
>
> ----------> OFFER
> ANSWER<------
> OFFER<-------
> ----------->ANSWER
>
> and then making the middle two the SAME SDP, passed in one message:
>
> ------------> OFFER
> <------------ ANSWER/OFFER
> -------------> ANSWER
>
> The semantics would then be: the uac processes the second message FIRST
> as an answer, and THEN as an offer, generating an answer to that. This
> would allow us to do a three-way exchange without specifying any
> additional semantics. This exchange has the very nice property that it
> supports complete subsetting, so that the SDP in message 2 is a subset
> (subset of codecs, of media streams, of directions) of message 1, and
> message 3 is a subset of 2.
>
> However, on further cogitation, I realized this doesn't work. It doesn't
> work since its missing the fundamental atomicity property. The uac, for
> example, needs to be prepared to receive with the codecs in the offer
> (the first messae), even though there will later be another SDP updating
> that information (the third message). Thus, the information provided in
> the initial offer has to be valid and usable in its own right, and based
> on the defined semantics above, the uas could even send using that media
> before receiving message 3. That would violate atomicity.
>
> Thus, to fully specify a three-way handshake, we need to add one
> additional bit - the uas MUST NOT ever send media using the initial
> offer, it MUST wait for the third message (the answer). This introduces
> the required atomicity, and maintains the subsetting property.
>
> Another fun issue is handling error cases. We have the ability today to
> "reject" an offer when there is no overlap in any of the media. If the
> offer is in an INVITE, thats easily done (488 or whatever it is). If the
> offer is in a 2xx, its harder - you still need to include a valid answer
> in the ack, and then BYE later on. That doesn't work for re-invites,
> which is why we have another open issue, which is trying to ensure that
> the offer in a 2xx to a re-invite w/o SDP is always acceptable. Not sure
> how to do that, or if its even possible. Now, how to do that in a
> three-pass model is more complex, since presumably we can "reject" at
> any point and need to back off to the original sdp beforehand (the
> atomicity requirement).
>
> I don't have answers yet for the failure cases. Its not clear to me
> whether these need to be handled in the SDP or in SIP, or whether we
> truly need atomicity in the failure cases or not, and so on.
>
>
> So, my proposal would be that IFF a three-way handshake is truly needed,
> it be accomplished by collapsing a four-way O/A exchange into three by
> making the middle two messages the same, AND furhter specifying that the
> recipient of the initial offer MUST NOT send any media based on
> information in the initial offer.
>
> With this definition, we can then consider what additional data needs to
> be sent in order to properly do this in SIP. My proposal would, in fact,
> require the initial offer from the uac to be marked in some way that
> indicates that its an offer which is expecting a counter-offer. This is
> needed since the uac needs to know whether to expect media on the
> ports/addresses/codecs in the initial message.
> Similarly, the counter-offer needs to be marked as such in order for the
> uac to know it needs to generate an answer.
>
> One of the things I was worried about in explicitly labeling SDP as
> offer/answer/counter-offer was 3pcc. I was worried that SDP which one
> entity provided as an offer was used by the controller as an answer in
> another flow. Interestingly, looking through draft-rosenberg-sip-3pcc,
> only ONE of the flows there does this - flow 2. Its also interesting to
> note that this flow is NOT RECOMMENDED because it doesn't generally
> work, and indeed, the reason it doesn't generally work is that its using
> an answer from one element as an offer to another!
>
> Soooo, I do think it makes sense to be explicit. The requirements we
> have are:
>
> 1. label something as offer/answer/both
> 2. somehow indicate that a 3way handshake is supported when the initial
> offer is made
> 3. somehow indicat that a 3way handshake is required when the initial
> offer is made
>
>
> I would argue that Content-Disposition is right for (1), and
> Require/Supported for (2) and (3).
>
>
> OK, there is a lot to digest and comment on in here. Additional thoughts
> are welcome.
>
> -Jonathan R.
>
>
> Fairlie-Cuninghame, Robert wrote:
>
> > Hello,
> >
> > I'm not sure whether this is more suited to the MMUSIC list (as there is
a
> > answer-offer discussion ensuing presently), however I believe this is
more
> > related to the use of the SDP offer-answer model than its specification.
> > [draft-rosenberg-mmusic-sdp-offer-answer-00.txt]
> >
> > Just a recap: the SDP offer/counter-offer/answer model is where Peer A
makes
> > an offer in the INVITE, that Peer B has decides to make a counter-offer
back
> > to A (in 183 or 200 OK) which A then sends an answers (in PRACK or ACK).
> >
> > We are seeing the offer/counter-offer/answer model becoming more widely
> > used: it is used in the manyfolks resource reservation, it is used in
the
> > early media proposal and it is required in the 3GPP requirements
document.
> > Also when SRTP becomes more prevalent, it will be useful in that
instance.
> > An example of its use with SRTP: A calls B. A offers RTP/AVP in the
INVITE
> > but B requires the use of SRTP/AVP profile, so B counter-offers with
> > SRTP/AVP in the 200 OK. A either answers in ACK or sends empty SDP and
> > rejects call.
> >
> > My aim is not to change the answer-offer model (everything is still
always
> > an offer or answer), early media or resource reservation; my aim merely
to
> > make what is happening EXPLICIT rather than assumed, that is, make it
> > explicit with an SDP is an answer or a counter-offer. Explicit protocol
are
> > just about always better than implicit (IETF mantra right).
> >
> > My proposal (which I made earlier in the year): whenever a response
> > (provisional or final) contains an SDP counter-offer then this fact is
> > EXPLICITly indicated in the Content-Disposition header.
> >
> > For instance: Content-Disposition=newoffer;handling=required
> >
> > I propose that this Content-Disposition token is added to the next SIP
> > draft.
> >
> > Comments?
> >
> > Regards,
> >
> > Robert.
> >
>
>
> --
> Jonathan D. Rosenberg, Ph.D.            72 Eagle Rock Avenue
> Chief Scientist                         First Floor
> dynamicsoft                             East Hanover, NJ 07936
> jdrosen@dynamicsoft.com                 FAX: (973) 952-5050
> http://www.jdrosen.net                  PH:  (973) 952-5000
> http://www.dynamicsoft.com
>
>
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
>


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Dec 20 06:46:21 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id GAA05971
	for <sip-archive@odin.ietf.org>; Thu, 20 Dec 2001 06:46:20 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id GAA05043
	for sip-archive@odin.ietf.org; Thu, 20 Dec 2001 06:46:22 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id GAA03971;
	Thu, 20 Dec 2001 06:16:43 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id GAA03939
	for <sip@optimus.ietf.org>; Thu, 20 Dec 2001 06:16:39 -0500 (EST)
Received: from znsgs01r.europe.nortel.com (h50s128a211n47.user.nortelnetworks.com [47.211.128.50])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id GAA05625
	for <sip@ietf.org>; Thu, 20 Dec 2001 06:16:34 -0500 (EST)
Received: from zwcwc012.europe.nortel.com (zwcwc012.europe.nortel.com [47.73.112.187])
	by znsgs01r.europe.nortel.com (Switch-2.2.0/Switch-2.2.0) with ESMTP id fBKBFSu19804;
	Thu, 20 Dec 2001 11:15:28 GMT
Received: from zwcwd00r.europe.nortel.com ([47.73.112.128]) by zwcwc012.europe.nortel.com with SMTP (Microsoft Exchange Internet Mail Service Version 5.5.2653.13)
	id YYM9AC79; Thu, 20 Dec 2001 11:13:59 -0000
Received: from mwatson3 (ansgt1qg.europe.nortel.com [47.160.168.9]) by zwcwd00r.europe.nortel.com with SMTP (Microsoft Exchange Internet Mail Service Version 5.5.2653.13)
	id YZ36G0XR; Thu, 20 Dec 2001 11:13:56 -0000
Message-ID: <001701c18947$b8a096e0$09a8a02f@mwatson3>
X-Sybari-Space: 00000000 00000000 00000000
From: "Mark Watson" <mwatson@nortelnetworks.com>
To: "Flemming Andreasen" <fandreas@cisco.com>,
        "Jonathan Rosenberg" <jdrosen@dynamicsoft.com>
Cc: <brett@broadsoft.com>, <sip@ietf.org>
Subject: RE: [Sip] Open Issue #188: Reply-To
Date: Thu, 20 Dec 2001 11:15:29 -0000
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_000E_01C18947.A1ADF4A0"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 5.00.2014.211
X-MimeOLE: Produced By Microsoft MimeOLE V5.00.2014.211
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

This is a multi-part message in MIME format.

------=_NextPart_000_000E_01C18947.A1ADF4A0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

RE: [Sip] Open Issue #188: Reply-ToA Reply-To identity supplied by the =
user has to be treated with a certain amount of caution, since the user =
could include any identity at all. There are obvious scams where people =
send out calls with a Reply-To of some premium rate number etc.

But this is the case with lots of e2e information - as long as the =
status of the information is clear, there should not be a problem (i.e. =
'user beware')

However, it shows that a Reply-To identity which has in some way been =
verified by the outgoing proxy would have some value. Indeed, the =
ability to have some network-vouched-for Reply-To identity is a =
value-added service in itself that the outgoing proxy can provide.

The intention of the RPI 'return' type was to provide both (user =
provided, and network verified). It seems to me that a wheel has been =
removed from the privacy draft and half of it is being re-invented. I =
thought the aim of PRI was to be generic, so that one capability could =
be re-used whenever a similar requirement emerged.

Just a final point on IPR - AFAIK you don't get IPR on a syntax. So if =
there is IPR on the RPI header, there would be IPR on other syntaxes for =
the same thing e.g. Reply-To, From etc. I would doubt that there is any =
real IPR on these things, as identities of these kinds have been carried =
in the PSTN for years.

...Mark=20

-----Original Message-----=20
From: Flemming Andreasen [mailto:fandreas@cisco.com]=20
Sent: 10 December 2001 06:16=20
To: Jonathan Rosenberg=20
Cc: 'brett@broadsoft.com'; sip@ietf.org=20
Subject: Re: [Sip] Open Issue #188: Reply-To=20



The old privacy-02 draft had a "return" rpi-id-type defined just for =
this,=20
however with the refined scope in the new privacy-03 draft, which only =
addresses=20
network authenticated (and provided) identity information, it was =
removed. Since=20
the UA is presumably the one that determines where it would like return =
calls to=20
go, another header would make sense. Privacy of such a header is =
trivially=20
handled by the UA by simply not supplying it (recall that the reason for =

encrypting the Remote-Party-ID rather than just removing it is to allow =
for=20
things like call trace), unless you are looking for some kind of =
"scoped"=20
privacy (I hope not). I agree that simply adding a Reply-To header to =
bis for=20
this would make sense.=20

-- Flemming=20



Jonathan Rosenberg wrote:=20

>=20
>=20
> > -----Original Message-----=20
> > From: Brett Tate [mailto:brett@broadsoft.com]=20
> > Sent: Friday, December 07, 2001 4:21 AM=20
> > To: sip@ietf.org=20
> > Subject: RE: [Sip] Open Issue #188: Reply-To=20
> >=20
> > > Proposal:=20
> > >=20
> > > Its simple. Its compatible. Its well understood. Its going to=20
> > > really be=20
> > > needed for MESSAGE, probably other things. Let us take the=20
> > > simple route and=20
> > > add it.=20
> >=20
> > It seems like an ideal candidate for a=20
> > new extension draft or a new version of=20
> > sip-privacy.=20
>=20
> The question is whether this is trivial enough to just put into bis =
rather=20
> than write a separate 1 page I-D for it. sip-privacy is, I think, =
different.=20
> More below.=20
>=20
> >=20
> > What is its relationship to From and=20
> > Remote-Party-ID?=20
>=20
> >From is who sent the request.=20
> Reply-To is to whom you should call-back later if you want to talk =
again.=20
> Not necessarily the same, just as they aren't the same in email.=20
>=20
> Remote-Party-ID provides network authenticated identities. Reply-To is =

> provided by the client. If the network wanted to provide what it =
believes is=20
> the true reply-to address, it would, in theory, insert a R-P-ID with =
id-type=20
> "reply-to" or some other such thing. However, I don't think there is =
much=20
> value in that. Who cares what the network provider thought your =
reply-to=20
> should really be?=20
>=20
> >=20
> > How many entries can it contain?=20
>=20
> One.=20
>=20
> > If more=20
> > than 1, should something like a q-value=20
> > be present to communicate the meaning of=20
> > more than 1 value being present?=20
> >=20
> > Should it contain an expiration value?=20
>=20
> No. KISS. If its good enough for email, its good enough for us.=20
>=20
> >=20
> > Should it have a similar definition to=20
> > Remote-Party-ID so that privacy and trust=20
> > issues can be communicated?=20
>=20
> There are privacy implications, yes. I don't think we need a new =
R-P-ID=20
> type, as I discuss above, but if privacy is requested, I would imagine =
that=20
> the reply-to would be stripped at the edge, else encrypted or some =
other=20
> such thing, as R-P-ID would.=20
>=20
> -Jonathan R.=20
> ---=20
> Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.=20
> Chief Scientist                             First Floor=20
> dynamicsoft                                 East Hanover, NJ 07936=20
> jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050=20
> http://www.jdrosen.net                      PHONE: (973) 952-5000=20
> http://www.dynamicsoft.com=20
>=20
> _______________________________________________=20
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip=20
> This list is for NEW development of the core SIP Protocol=20
> Use sip-implementors@cs.columbia.edu for questions on current sip=20
> Use sipping@ietf.org for new developments on the application of sip=20

--=20
Flemming Andreasen=20
Cisco Systems=20






_______________________________________________=20
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip=20
This list is for NEW development of the core SIP Protocol=20
Use sip-implementors@cs.columbia.edu for questions on current sip=20
Use sipping@ietf.org for new developments on the application of sip=20


------=_NextPart_000_000E_01C18947.A1ADF4A0
Content-Type: text/html;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML><HEAD><TITLE>RE: [Sip] Open Issue #188: Reply-To</TITLE>
<META content=3D"text/html; charset=3Diso-8859-1" =
http-equiv=3DContent-Type>
<META content=3D"MSHTML 5.00.2014.210" name=3DGENERATOR>
<STYLE></STYLE>
</HEAD>
<BODY bgColor=3D#ffffff>
<P><FONT size=3D2>A Reply-To identity supplied by the user has to be =
treated with=20
a certain amount of caution, since the user could include any identity =
at all.=20
There are obvious scams where people send out calls with a Reply-To of =
some=20
premium rate number etc.</FONT></P>
<P><FONT size=3D2>But this is the case with lots of e2e information - as =
long as=20
the status of the information is clear, there should not be a problem =
(i.e.=20
'user beware')</FONT></P>
<P><FONT size=3D2>However, it shows that a Reply-To identity which has =
in some way=20
been verified by the outgoing proxy would have some value. Indeed, the =
ability=20
to have some network-vouched-for Reply-To identity is a value-added =
service in=20
itself that the outgoing proxy can provide.</FONT></P>
<P><FONT size=3D2>The intention of the RPI 'return' type was to provide =
both (user=20
provided, and network verified). It seems to me that a wheel has been =
removed=20
from the privacy draft and half of it is being re-invented. I thought =
the aim of=20
PRI was to be generic, so that one capability could be re-used whenever =
a=20
similar requirement emerged.</FONT></P>
<P><FONT size=3D2>Just a final point on IPR - AFAIK you don't get IPR on =
a syntax.=20
So if there is IPR on the RPI header, there would be IPR on other =
syntaxes for=20
the same thing e.g. Reply-To, From etc. I would doubt that there is any =
real IPR=20
on these things, as identities of these kinds have been carried in the =
PSTN for=20
years.</FONT></P>
<P><FONT size=3D2>...Mark</FONT> </P>
<P><FONT size=3D2>-----Original Message-----</FONT> <BR><FONT =
size=3D2>From:=20
Flemming Andreasen [<A=20
href=3D"mailto:fandreas@cisco.com">mailto:fandreas@cisco.com</A>]</FONT> =
<BR><FONT=20
size=3D2>Sent: 10 December 2001 06:16</FONT> <BR><FONT size=3D2>To: =
Jonathan=20
Rosenberg</FONT> <BR><FONT size=3D2>Cc: 'brett@broadsoft.com'; =
sip@ietf.org</FONT>=20
<BR><FONT size=3D2>Subject: Re: [Sip] Open Issue #188: Reply-To</FONT> =
</P><BR>
<P><FONT size=3D2>The old privacy-02 draft had a "return" rpi-id-type =
defined just=20
for this,</FONT> <BR><FONT size=3D2>however with the refined scope in =
the new=20
privacy-03 draft, which only addresses</FONT> <BR><FONT size=3D2>network =

authenticated (and provided) identity information, it was removed. =
Since</FONT>=20
<BR><FONT size=3D2>the UA is presumably the one that determines where it =
would=20
like return calls to</FONT> <BR><FONT size=3D2>go, another header would =
make=20
sense. Privacy of such a header is trivially</FONT> <BR><FONT =
size=3D2>handled by=20
the UA by simply not supplying it (recall that the reason for</FONT> =
<BR><FONT=20
size=3D2>encrypting the Remote-Party-ID rather than just removing it is =
to allow=20
for</FONT> <BR><FONT size=3D2>things like call trace), unless you are =
looking for=20
some kind of "scoped"</FONT> <BR><FONT size=3D2>privacy (I hope not). I =
agree that=20
simply adding a Reply-To header to bis for</FONT> <BR><FONT =
size=3D2>this would=20
make sense.</FONT> </P>
<P><FONT size=3D2>-- Flemming</FONT> </P><BR>
<P><FONT size=3D2>Jonathan Rosenberg wrote:</FONT> </P>
<P><FONT size=3D2>&gt;</FONT> <BR><FONT size=3D2>&gt;</FONT> <BR><FONT =
size=3D2>&gt;=20
&gt; -----Original Message-----</FONT> <BR><FONT size=3D2>&gt; &gt; =
From: Brett=20
Tate [<A=20
href=3D"mailto:brett@broadsoft.com">mailto:brett@broadsoft.com</A>]</FONT=
>=20
<BR><FONT size=3D2>&gt; &gt; Sent: Friday, December 07, 2001 4:21 =
AM</FONT>=20
<BR><FONT size=3D2>&gt; &gt; To: sip@ietf.org</FONT> <BR><FONT =
size=3D2>&gt; &gt;=20
Subject: RE: [Sip] Open Issue #188: Reply-To</FONT> <BR><FONT =
size=3D2>&gt;=20
&gt;</FONT> <BR><FONT size=3D2>&gt; &gt; &gt; Proposal:</FONT> <BR><FONT =

size=3D2>&gt; &gt; &gt;</FONT> <BR><FONT size=3D2>&gt; &gt; &gt; Its =
simple. Its=20
compatible. Its well understood. Its going to</FONT> <BR><FONT =
size=3D2>&gt; &gt;=20
&gt; really be</FONT> <BR><FONT size=3D2>&gt; &gt; &gt; needed for =
MESSAGE,=20
probably other things. Let us take the</FONT> <BR><FONT size=3D2>&gt; =
&gt; &gt;=20
simple route and</FONT> <BR><FONT size=3D2>&gt; &gt; &gt; add it.</FONT> =
<BR><FONT=20
size=3D2>&gt; &gt;</FONT> <BR><FONT size=3D2>&gt; &gt; It seems like an =
ideal=20
candidate for a</FONT> <BR><FONT size=3D2>&gt; &gt; new extension draft =
or a new=20
version of</FONT> <BR><FONT size=3D2>&gt; &gt; sip-privacy.</FONT> =
<BR><FONT=20
size=3D2>&gt;</FONT> <BR><FONT size=3D2>&gt; The question is whether =
this is trivial=20
enough to just put into bis rather</FONT> <BR><FONT size=3D2>&gt; than =
write a=20
separate 1 page I-D for it. sip-privacy is, I think, different.</FONT> =
<BR><FONT=20
size=3D2>&gt; More below.</FONT> <BR><FONT size=3D2>&gt;</FONT> =
<BR><FONT=20
size=3D2>&gt; &gt;</FONT> <BR><FONT size=3D2>&gt; &gt; What is its =
relationship to=20
From and</FONT> <BR><FONT size=3D2>&gt; &gt; Remote-Party-ID?</FONT> =
<BR><FONT=20
size=3D2>&gt;</FONT> <BR><FONT size=3D2>&gt; &gt;From is who sent the=20
request.</FONT> <BR><FONT size=3D2>&gt; Reply-To is to whom you should =
call-back=20
later if you want to talk again.</FONT> <BR><FONT size=3D2>&gt; Not =
necessarily=20
the same, just as they aren't the same in email.</FONT> <BR><FONT=20
size=3D2>&gt;</FONT> <BR><FONT size=3D2>&gt; Remote-Party-ID provides =
network=20
authenticated identities. Reply-To is</FONT> <BR><FONT size=3D2>&gt; =
provided by=20
the client. If the network wanted to provide what it believes is</FONT>=20
<BR><FONT size=3D2>&gt; the true reply-to address, it would, in theory, =
insert a=20
R-P-ID with id-type</FONT> <BR><FONT size=3D2>&gt; "reply-to" or some =
other such=20
thing. However, I don't think there is much</FONT> <BR><FONT =
size=3D2>&gt; value=20
in that. Who cares what the network provider thought your =
reply-to</FONT>=20
<BR><FONT size=3D2>&gt; should really be?</FONT> <BR><FONT =
size=3D2>&gt;</FONT>=20
<BR><FONT size=3D2>&gt; &gt;</FONT> <BR><FONT size=3D2>&gt; &gt; How =
many entries=20
can it contain?</FONT> <BR><FONT size=3D2>&gt;</FONT> <BR><FONT =
size=3D2>&gt;=20
One.</FONT> <BR><FONT size=3D2>&gt;</FONT> <BR><FONT size=3D2>&gt; &gt; =
If=20
more</FONT> <BR><FONT size=3D2>&gt; &gt; than 1, should something like a =

q-value</FONT> <BR><FONT size=3D2>&gt; &gt; be present to communicate =
the meaning=20
of</FONT> <BR><FONT size=3D2>&gt; &gt; more than 1 value being =
present?</FONT>=20
<BR><FONT size=3D2>&gt; &gt;</FONT> <BR><FONT size=3D2>&gt; &gt; Should =
it contain=20
an expiration value?</FONT> <BR><FONT size=3D2>&gt;</FONT> <BR><FONT =
size=3D2>&gt;=20
No. KISS. If its good enough for email, its good enough for us.</FONT> =
<BR><FONT=20
size=3D2>&gt;</FONT> <BR><FONT size=3D2>&gt; &gt;</FONT> <BR><FONT =
size=3D2>&gt; &gt;=20
Should it have a similar definition to</FONT> <BR><FONT size=3D2>&gt; =
&gt;=20
Remote-Party-ID so that privacy and trust</FONT> <BR><FONT size=3D2>&gt; =
&gt;=20
issues can be communicated?</FONT> <BR><FONT size=3D2>&gt;</FONT> =
<BR><FONT=20
size=3D2>&gt; There are privacy implications, yes. I don't think we need =
a new=20
R-P-ID</FONT> <BR><FONT size=3D2>&gt; type, as I discuss above, but if =
privacy is=20
requested, I would imagine that</FONT> <BR><FONT size=3D2>&gt; the =
reply-to would=20
be stripped at the edge, else encrypted or some other</FONT> <BR><FONT=20
size=3D2>&gt; such thing, as R-P-ID would.</FONT> <BR><FONT =
size=3D2>&gt;</FONT>=20
<BR><FONT size=3D2>&gt; -Jonathan R.</FONT> <BR><FONT size=3D2>&gt; =
---</FONT>=20
<BR><FONT size=3D2>&gt; Jonathan D. Rosenberg,=20
Ph.D.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&n=
bsp;&nbsp;&nbsp;&nbsp;=20
72 Eagle Rock Ave.</FONT> <BR><FONT size=3D2>&gt; Chief=20
Scientist&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=20
First Floor</FONT> <BR><FONT size=3D2>&gt;=20
dynamicsoft&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&n=
bsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nb=
sp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=20
East Hanover, NJ 07936</FONT> <BR><FONT size=3D2>&gt;=20
jdrosen@dynamicsoft.com&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&n=
bsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=20
FAX:&nbsp;&nbsp; (973) 952-5050</FONT> <BR><FONT size=3D2>&gt; <A=20
href=3D"http://www.jdrosen.net"=20
target=3D_blank>http://www.jdrosen.net</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&=
nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&n=
bsp;&nbsp;&nbsp;&nbsp;=20
PHONE: (973) 952-5000</FONT> <BR><FONT size=3D2>&gt; <A=20
href=3D"http://www.dynamicsoft.com"=20
target=3D_blank>http://www.dynamicsoft.com</A></FONT> <BR><FONT =
size=3D2>&gt;</FONT>=20
<BR><FONT size=3D2>&gt; =
_______________________________________________</FONT>=20
<BR><FONT size=3D2>&gt; Sip mailing list&nbsp; <A=20
href=3D"http://www1.ietf.org/mailman/listinfo/sip"=20
target=3D_blank>http://www1.ietf.org/mailman/listinfo/sip</A></FONT> =
<BR><FONT=20
size=3D2>&gt; This list is for NEW development of the core SIP =
Protocol</FONT>=20
<BR><FONT size=3D2>&gt; Use sip-implementors@cs.columbia.edu for =
questions on=20
current sip</FONT> <BR><FONT size=3D2>&gt; Use sipping@ietf.org for new=20
developments on the application of sip</FONT> </P>
<P><FONT size=3D2>--</FONT> <BR><FONT size=3D2>Flemming Andreasen</FONT> =
<BR><FONT=20
size=3D2>Cisco Systems</FONT> </P><BR><BR><BR><BR>
<P><FONT size=3D2>_______________________________________________</FONT> =
<BR><FONT=20
size=3D2>Sip mailing list&nbsp; <A=20
href=3D"http://www1.ietf.org/mailman/listinfo/sip"=20
target=3D_blank>http://www1.ietf.org/mailman/listinfo/sip</A></FONT> =
<BR><FONT=20
size=3D2>This list is for NEW development of the core SIP =
Protocol</FONT>=20
<BR><FONT size=3D2>Use sip-implementors@cs.columbia.edu for questions on =
current=20
sip</FONT> <BR><FONT size=3D2>Use sipping@ietf.org for new developments =
on the=20
application of sip</FONT> </P></BODY></HTML>

------=_NextPart_000_000E_01C18947.A1ADF4A0--


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Dec 20 08:24:38 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id IAA06933
	for <sip-archive@odin.ietf.org>; Thu, 20 Dec 2001 08:24:38 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id IAA08074
	for sip-archive@odin.ietf.org; Thu, 20 Dec 2001 08:24:41 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id IAA07683;
	Thu, 20 Dec 2001 08:07:22 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id IAA07652
	for <sip@optimus.ietf.org>; Thu, 20 Dec 2001 08:07:19 -0500 (EST)
Received: from albatross-ext.wise.edt.ericsson.se (albatross-ext.wise.edt.ericsson.se [194.237.142.116])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id IAA06787
	for <sip@ietf.org>; Thu, 20 Dec 2001 08:07:15 -0500 (EST)
Received: from fogerty.lmf.ericsson.se (fogerty.lmf.ericsson.se [131.160.11.6])
	by albatross.wise.edt.ericsson.se (8.11.0/8.11.0/WIREfire-1.3) with ESMTP id fBKD76J27752;
	Thu, 20 Dec 2001 14:07:06 +0100 (MET)
Received: from lmf.ericsson.se (3O46G00K6Q7QPRF.lmf.ericsson.se [131.160.30.116])
	by fogerty.lmf.ericsson.se (8.12.1/8.12.1/lmf.8.12.1.jcs) with ESMTP id fBKD75hO019080;
	Thu, 20 Dec 2001 15:07:05 +0200 (EET)
Message-ID: <3C21E278.184EC9A9@lmf.ericsson.se>
Date: Thu, 20 Dec 2001 15:07:04 +0200
From: Christer Holmberg <christer.holmberg@lmf.ericsson.se>
X-Mailer: Mozilla 4.61 [en] (WinNT; I)
X-Accept-Language: en
MIME-Version: 1.0
To: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
CC: "Fairlie-Cuninghame, Robert" <rfairlie@nuera.com>, sip@ietf.org
Subject: Re: [Sip] Re: SDP Offer/Counter-offer/Answer
References: <3C20FCEC.3010505@dynamicsoft.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit


Hi,

Some comments.

>I don't have answers yet for the failure cases. Its not clear to me
>whether these need to be handled in the SDP or in SIP, or whether we
>truly need atomicity in the failure cases or not, and so on.
> 
>So, my proposal would be that IFF a three-way handshake is truly needed,
>it be accomplished by collapsing a four-way O/A exchange into three by
>making the middle two messages the same, AND furhter specifying that the
>recipient of the initial offer MUST NOT send any media based on
>information in the initial offer.

I think the UAC can indicate, EVEN if it uses three-way handshake (I
will use "3whs"...), IF it accepts media after the first OFFER message
(the initial INVITE) or not (the default value would be "DO NOT SEND
MEDIA", to make sure a UAS NOT supporting 3whs doesn't start sending
media...)

I think we could use the same indicator that we would also later use to
indicate if we accept early media (offered in the OFFER/ANSWER message)
or not.

eg.

------------- OFFER (early-media:no) ----->

<----- ANSWER/OFFER (early-media-offer) ---

------------ ANSWER (early-media:yes) ---->

<............ early media .................

or

------------- OFFER (early-media:yes) ----->

<............ early media .................

<----- ANSWER/OFFER -----------------------

------------ ANSWER ---------------------->


NOTE: This "early-media" indicator is NOT the same we would use to
indicate if we support 3whs in the first place!


>With this definition, we can then consider what additional data needs to
>be sent in order to properly do this in SIP. My proposal would, in fact,
>require the initial offer from the uac to be marked in some way that
>indicates that its an offer which is expecting a counter-offer. This is
>needed since the uac needs to know whether to expect media on the
>ports/addresses/codecs in the initial message.
>Similarly, the counter-offer needs to be marked as such in order for the
>uac to know it needs to generate an answer.
> 
>One of the things I was worried about in explicitly labeling SDP as
>offer/answer/counter-offer was 3pcc. I was worried that SDP which one
>entity provided as an offer was used by the controller as an answer in
>another flow. Interestingly, looking through draft-rosenberg-sip-3pcc,
>only ONE of the flows there does this - flow 2. Its also interesting to
>note that this flow is NOT RECOMMENDED because it doesn't generally
>work, and indeed, the reason it doesn't generally work is that its using
>an answer from one element as an offer to another!
> 
>Soooo, I do think it makes sense to be explicit. The requirements we
>have are:
> 
>1. label something as offer/answer/both
>2. somehow indicate that a 3way handshake is supported when the initial
>offer is made
>3. somehow indicat that a 3way handshake is required when the initial
>offer is made

Would 2) really work with proxies? The UAS can indicate if it supports
3whs or not, but what about intermediate proxies needing the SDP (eg for
MIDCOM)? If they don't support the 3whs they will ASSUME the SDP in the
first OFFER message (the initial INVITE) is valid for the session, even
if will be updated later in the ANSWER message send by the UAC. If it's
only about codecs etc it may not be a big deal, but it would cause
problems if eg the media port is changed in the update...

Including a Proxy-Require is not a good solution, because there may be
only one-of-XXX proxies that really need to understand the 3whs. I also
brought up this issue ealier, in a thread about the proxy support for
the "Caller privacy" extension.

Also, if the UAC won't include the port in the OFFER message, I don't
think it can use the Supported header, because the UAS MUST support the
mechanism to be able to update the port later.

------------- OFFER (m=audio - 0 8) ----->   //Note the '-' sign for the
port!

<------------ ANSWER/OFFER ---------------

------------ ANSWER (m=audio 20000 0 8) ->   //Note that the media port
is now set!


Another question is: what if the UAS(!) doesn't know which port to use
until it receives the ANSWER message? If the ANSWER/OFFER message is a
provisional response, and the ANSWER message a PRACK/UPDATE request, the
UAS could include the final port in the 200 OK. Then we would have a
kind of 4-way handshake, however...

Regards,

Christer Holmberg
Ericsson Finland

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Dec 20 09:06:53 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id JAA07417
	for <sip-archive@odin.ietf.org>; Thu, 20 Dec 2001 09:06:53 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id JAA09746
	for sip-archive@odin.ietf.org; Thu, 20 Dec 2001 09:06:56 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id IAA08954;
	Thu, 20 Dec 2001 08:49:04 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id IAA08923
	for <sip@optimus.ietf.org>; Thu, 20 Dec 2001 08:49:01 -0500 (EST)
Received: from penguin-ext.wise.edt.ericsson.se (penguin-ext.wise.edt.ericsson.se [194.237.142.110])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id IAA07178
	for <sip@ietf.org>; Thu, 20 Dec 2001 08:48:56 -0500 (EST)
Received: from fogerty.lmf.ericsson.se (fogerty.lmf.ericsson.se [131.160.11.6])
	by penguin.wise.edt.ericsson.se (8.11.0/8.11.0/WIREfire-1.3) with ESMTP id fBKDmvK23962
	for <sip@ietf.org>; Thu, 20 Dec 2001 14:48:57 +0100 (MET)
Received: from lmf.ericsson.se (3O46G00K6Q7QPRF.lmf.ericsson.se [131.160.30.116])
	by fogerty.lmf.ericsson.se (8.12.1/8.12.1/lmf.8.12.1.jcs) with ESMTP id fBKDmuhO022088
	for <sip@ietf.org>; Thu, 20 Dec 2001 15:48:56 +0200 (EET)
Message-ID: <3C21EC45.909E3074@lmf.ericsson.se>
Date: Thu, 20 Dec 2001 15:48:53 +0200
From: Christer Holmberg <christer.holmberg@lmf.ericsson.se>
X-Mailer: Mozilla 4.61 [en] (WinNT; I)
X-Accept-Language: en
MIME-Version: 1.0
To: sip@ietf.org
Subject: [Fwd: [Sip] Open Issue #140: use only tags for Call-leg ID]
Content-Type: multipart/mixed;
 boundary="------------66CC1B10E279989D8E935934"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

This is a multi-part message in MIME format.
--------------66CC1B10E279989D8E935934
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit


Hi,

I KNOW this case is closed, and I am NOT going to reopen it. However,
one question related to it:

Could we also use only the tags (since they are now mandatory) of the
To- and From headers for the TRANSACTION mapping? The tags would not
have to be globaly unique since the Call-ID (which is also part of the
transaction key) is...

Regards,

Christer Holmberg
Ericsson Finland
--------------66CC1B10E279989D8E935934
Content-Type: message/rfc822
Content-Disposition: inline

Received: from ESEALNT401.al.sw.ericsson.se ([153.88.251.22]) by esealnt457.al.sw.ericsson.se with SMTP (Microsoft Exchange Internet Mail Service Version 5.5.2653.13)
	id YHLC8VBK; Wed, 19 Dec 2001 23:52:03 +0100
Received: FROM fogerty.lmf.ericsson.se BY esealnt401.al.sw.ericsson.se ; Wed Dec 19 23:52:02 2001 +0100
Received: from alaska.wise.edt.ericsson.se (alaska.wise.edt.ericsson.se [153.88.253.21])
	by fogerty.lmf.ericsson.se (8.12.1/8.12.1/lmf.8.12.1.jcs) with ESMTP id fBJMqGQ4005012;
	Thu, 20 Dec 2001 00:52:16 +0200 (EET)
Received: from optimus.ietf.org (ietf.org [132.151.1.19])
	by alaska.wise.edt.ericsson.se (8.11.0/8.11.0/WIREfire-1.3) with ESMTP id fBJMqAJ23191;
	Wed, 19 Dec 2001 23:52:11 +0100 (MET)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id RAA03884;
	Wed, 19 Dec 2001 17:52:05 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id RAA03863
	for <sip@optimus.ietf.org>; Wed, 19 Dec 2001 17:52:03 -0500 (EST)
Received: from ihemail1.firewall.lucent.com (ihemail1.lucent.com [192.11.222.161])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id RAA09684
	for <sip@ietf.org>; Wed, 19 Dec 2001 17:51:59 -0500 (EST)
Received: from ih2mail.ih.lucent.com (h135-1-241-39.lucent.com [135.1.241.39])
	by ihemail1.firewall.lucent.com (Switch-2.1.3/Switch-2.1.0) with ESMTP id fBJMq2Q04843;
	Wed, 19 Dec 2001 17:52:02 -0500 (EST)
Received: from lucent.com by ih2mail.ih.lucent.com (8.8.8+Sun/EMS-1.5 sol2)
	id QAA19142; Wed, 19 Dec 2001 16:52:01 -0600 (CST)
Message-ID: <3C211A0D.BD598FE3@lucent.com>
Date: Wed, 19 Dec 2001 16:51:57 -0600
From: Vijay Gurbani <vkg@lucent.com>
Organization: Lucent Technologies/Bell Laboratories
X-Mailer: Mozilla 4.73 [en]C-CCK-MCD EMS-1.4  (Windows NT 5.0; U)
X-Accept-Language: en
MIME-Version: 1.0
To: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
CC: sip@ietf.org
Subject: Re: [Sip] Open Issue #140: use only tags for Call-leg ID
References: <3C210BCE.3070700@dynamicsoft.com>
Content-Type: text/plain; charset=us-ascii
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
X-Mozilla-Status2: 00000000
Content-Transfer-Encoding: 7bit

Jonathan Rosenberg wrote:
> 
> Consensus at IETF 52 was that we accept the proposal, that is, the
> current definitions and requirements in bis-05 stand. It is possible for
> implementations to be optimized to not use the URLs as call-leg indices,
> and for replaces to be defined without it, as has been pointed out.

Jonathan:

Not dissenting, just a clarification...

Let me recap: your proposal was that the dialog be identified with Call-ID, 
To tag and From tag only (drop URIs in the From and To).  Right?

Bis-05 defines a Dialog to include Call-ID, "local address" and "remote
address" where "local address" and "remote address" *include* the URIs.

So, was consensus at IETF 52 to accept the proposal as defined in -05bis
(include URIs) or what you proposed (do not include URIs, only tags)?

Regards,

- vijay
-- 
Vijay K. Gurbani  vkg@{lucent.com,research.bell-labs.com,acm.org}
Internet Software and eServices Group 
Lucent Technologies/Bell Labs Innovations, 2000 Lucent Lane, Rm 6G-440
Naperville, Illinois 60566     Voice: +1 630 224 0216   Fax: +1 630 713 0184

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


--------------66CC1B10E279989D8E935934--


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Dec 20 10:57:50 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id KAA10188
	for <sip-archive@odin.ietf.org>; Thu, 20 Dec 2001 10:57:50 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id KAA14967
	for sip-archive@odin.ietf.org; Thu, 20 Dec 2001 10:57:52 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id KAA14511;
	Thu, 20 Dec 2001 10:39:05 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id KAA14480
	for <sip@optimus.ietf.org>; Thu, 20 Dec 2001 10:39:02 -0500 (EST)
Received: from wiprom2mx1.wipro.com (wiprom2mx1.wipro.com [203.197.164.41])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id KAA09708
	for <sip@ietf.org>; Thu, 20 Dec 2001 10:38:54 -0500 (EST)
Received: from m2vwall2.wipro.com (m2vwall2.wipro.com [164.164.29.236])
	by wiprom2mx1.wipro.com (8.11.3/8.11.3) with SMTP id fBKFcQN20321
	for <sip@ietf.org>; Thu, 20 Dec 2001 21:08:26 +0530 (IST)
Received: from wslexch.wipsys.soft.net ([192.219.223.59]) by
          kmglmail.mail.wipro.com (Netscape Messaging Server 4.15) with
          ESMTP id GONFG000.2LB for <sip@ietf.org>; Thu, 20 Dec 2001
          21:08:24 +0530 
Received: by wslexch.wipsys.soft.net with Internet Mail Service (5.5.2653.19)
	id <ZG40W27M>; Thu, 20 Dec 2001 21:11:52 +0530
Message-ID: <AC45B331CEE3D4118A6C0000E2293D1F02DA2DCF@wslexch.wipsys.soft.net>
From: "Chandan Marianathan Rajah" <chandan.rajah@wipro.com>
To: sip@ietf.org
Date: Thu, 20 Dec 2001 21:11:47 +0530
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: multipart/mixed;
	boundary="----=_NextPartTM-000-a3bb2979-f536-11d5-af7c-0080c8048dde"
Subject: [Sip] SIP for Network Gaming...
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

This message is in MIME format. Since your mail reader does not understand
this format, some or all of this message may not be legible.

------=_NextPartTM-000-a3bb2979-f536-11d5-af7c-0080c8048dde
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C1896C.D5808ED0"

------_=_NextPart_001_01C1896C.D5808ED0
Content-Type: text/plain;
	charset="iso-8859-1"

HI,
 
I work for a soft switch company. We were thinking about implementing gaming
functionality over our existing SIP network. I was just wondering if anyone
has any experience in this area or whether there is anyone who might be
working on it. If so I would be really nice to share some ideas.
 
Cheers,
--- Chandan !!!!!!!!!!!!!!!!!!!!!!!!
 

------_=_NextPart_001_01C1896C.D5808ED0
Content-Type: text/html;
	charset="iso-8859-1"

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML><HEAD>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">


<META content="MSHTML 6.00.2600.0" name=GENERATOR></HEAD>
<BODY>
<DIV><FONT face=Arial size=2><SPAN 
class=814271615-20122001>HI,</SPAN></FONT></DIV>
<DIV><FONT face=Arial size=2><SPAN 
class=814271615-20122001></SPAN></FONT>&nbsp;</DIV>
<DIV><FONT face=Arial size=2><SPAN class=814271615-20122001>I work for a soft 
switch company. We were thinking about implementing gaming functionality over 
our existing SIP network. I was just wondering if anyone has any experience in 
this area or whether there is anyone who might be working on it. If so I would 
be really nice to share some ideas.</SPAN></FONT></DIV>
<DIV><FONT face=Arial size=2><SPAN 
class=814271615-20122001></SPAN></FONT>&nbsp;</DIV>
<DIV><FONT face=Arial size=2><SPAN 
class=814271615-20122001>Cheers,</SPAN></FONT></DIV>
<DIV><FONT face=Arial size=2><SPAN class=814271615-20122001>--- Chandan 
!!!!!!!!!!!!!!!!!!!!!!!!</SPAN></FONT></DIV>
<DIV>&nbsp;</DIV></BODY></HTML>

------_=_NextPart_001_01C1896C.D5808ED0--


------=_NextPartTM-000-a3bb2979-f536-11d5-af7c-0080c8048dde
Content-Type: text/plain;
	name="Wipro_Disclaimer.txt"
Content-Transfer-Encoding: 7bit
Content-Disposition: attachment;
	filename="Wipro_Disclaimer.txt"
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit

----------------------------------------------------------------------------------------------------------------------
Information transmitted by this E-MAIL is proprietary to Wipro and/or its Customers and
is intended for use only by the individual or entity to which it is
addressed, and may contain information that is privileged, confidential or
exempt from disclosure under applicable law. If you are not the intended
recipient or it appears that this mail has been forwarded to you without
proper authority, you are notified that any use or dissemination of this
information in any manner is strictly prohibited. In such cases, please
notify us immediately at mailto:mailadmin@wipro.com and delete this mail
from your records.
----------------------------------------------------------------------------------------------------------------------


------=_NextPartTM-000-a3bb2979-f536-11d5-af7c-0080c8048dde--


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Dec 20 13:36:01 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id NAA15897
	for <sip-archive@odin.ietf.org>; Thu, 20 Dec 2001 13:35:57 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id NAA21146
	for sip-archive@odin.ietf.org; Thu, 20 Dec 2001 13:35:58 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id NAA20226;
	Thu, 20 Dec 2001 13:13:49 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id NAA20195
	for <sip@optimus.ietf.org>; Thu, 20 Dec 2001 13:13:46 -0500 (EST)
Received: from rtp-msg-core-1.cisco.com (rtp-msg-core-1.cisco.com [161.44.11.97])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id NAA15234
	for <sip@ietf.org>; Thu, 20 Dec 2001 13:13:43 -0500 (EST)
Received: from cannon.cisco.com (localhost [127.0.0.1])
	by rtp-msg-core-1.cisco.com (8.11.3/8.9.1) with ESMTP id fBKIDLU03041;
	Thu, 20 Dec 2001 13:13:21 -0500 (EST)
Received: from cisco.com (dhcp-161-44-241-140.cisco.com [161.44.241.140])
	by cannon.cisco.com (Mirapoint)
	with ESMTP id AAH17238 (AUTH pkyzivat);
	Thu, 20 Dec 2001 13:14:37 -0500 (EST)
Message-ID: <3C22293E.D8DF6DC8@cisco.com>
Date: Thu, 20 Dec 2001 13:09:02 -0500
From: Paul Kyzivat <pkyzivat@cisco.com>
X-Mailer: Mozilla 4.76 [en]C-CCK-MCD   (Windows NT 5.0; U)
X-Accept-Language: en
MIME-Version: 1.0
To: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
CC: "'Flemming Andreasen'" <fandreas@cisco.com>,
        Henning Schulzrinne <schulzrinne@cs.columbia.edu>,
        MMUSIC <confctrl@ISI.EDU>, sip@ietf.org
References: <3C203D98.6010203@dynamicsoft.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Subject: [Sip] Re: Comments on <draft-rosenberg-mmusic-sdp-offer-answer-00.txt>
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Below - Paul

Jonathan Rosenberg wrote:
> 
> This looks like another open issue in sip.
> Let us try to resolve it swiftly.

Agreed.

> That said, I will reopen it. Its bug 58.

Thanks.

> > I was suggesting that A is a B2BUA bridging between a party C not shown
> > above and B. A then decides to replace C with a different one D. So
> > there is a new dialog with D, but the dialog between A and B remains.
> > Something like the following:
> >
> > C                   A                   B
> > |   INVITE(sdp)     |                   |  offers codecs X,Y
> > |------------------>|                   |
> > |                   |   INVITE(sdp)     |  offers codecs X,Y
> > |                   |------------------>|
> > |                   |      OK(sdp)      |  accepts X, not Y; would
> > |                   |<------------------|  have accepted Z if offered
> > |                   |      ACK          |
> > |    OK(sdp)        |------------------>|
> > |<------------------|                   |  accepts X, not Y
> > |    ACK            |                   |
> > |------------------>|                   |
> >                     |                   |
> > D                   |                   |  prepare to xfer to D
> > |                   |   INVITE(no sdp)  |
> > |                   |------------------>|
> > |                   |      OK(sdp)      |  can only offer X
> > |                   |<------------------|  (should offer Z too)
> > |   INVITE(sdp)     |                   |  "
> > |<------------------|                   |
> > |   488             |                   |  Fails - D can only do
> > |------------------>|                   |  Y & Z, not X.
> >
> > //
> >
> > |   OK(sdp)         |                   |  If X,Z had been offered
> > |------------------>|                   |  would accept Z
> > |                   |      ACK (sdp)    |
> > |                   |------------------>|  then all is well
> >
> >
> > This is too simplistic for a practical call flow, but it makes the
> > point.
> 
> OK, I see the point. It is a good one.
> 
> Generally, I think the problem is this. When using 3pcc, the controller
> wants to connect an existing user to a new user. To do this, it sends a
> re-invite w/o sdp to the existing user, to solicit its SDP in order to
> include it in an invite to a new user. Effectively, this is a new
> session, even though its a re-invite for the existing participant. Thus,
> you want the typical behavior for a new INVITE, which is to send as much
> as you know.
> 
> Now, whats interesting is this. The reason we specified that the UA
> should return the last SDP it used, is to maximize the probability that
> this SDP is acceptable. However, in the 3pcc case, even if the  is
> bitwise identical, there are no guarantees. The existing call could be
> audio, the the controller is trying to connect the user to a video-only
> server. Not going to work with the existing SDP.
> 
> In these cases, the controller would need to ACK the 2xx from the
> existing user and then BYE.
> 
> So, what we need to do is specify that the UA ought to return an SDP
> which is as broad as possible, but still should be acceptable to the
> peer in the case its not 3pcc going on (although I can't think of any
> non-3pcc cases for a mid-dialog re-invite w/o SDP). THis would include:
> 
> 1. change in IP/port is OK
> 2. should add as many more codecs as you can, but there must be overlap
> with the previous SDP
> 3. can add media lines, but must at least be overlapping in a stream
> with the previous sdp
> 
> So, there are some issues here. First, we are trying to "guess" what
> changes in SDP would always be acceptable to an existing peer. Since
> whether an SDP is acceptable or not is a matter of local policy, its
> really hard to say. Second, would we need to specify rules for each and
> every parameter in the SDP? Seems like the wrong direction.
> 
> Perhaps the best we can do is leave the selection of the SDP up to the
> UA, but provide guidelines. Basically, something like:
> 
> 1. offer an SDP which has a good chance of being acceptable to the
> existing peer,
> 2. make the SDP as broad as possible since this could be 3pcc, and you
> don't know what they can do
> 
> Thoughts?

Seems like there are conflicting goals for reinvites. We are trying to
assign a particular intent to different patterns of usage. While I don't
have a particular problem in mind, I have the feeling that this is going
to make the protocol inflexible.

I can see two ways out:

1) explicitly communicate an indication of the purpose of the reinvite,
or hints about the kind of response that is expected. This might be
accomplished using a Reason header, or callerprefs, or a new header, or
some combination.

2) don't try to use reinvite for the complex 3pcc case. Instead of using
a no-sdp reinvite, send an OPTIONS in the context of the existing dialog
to the ua being transferred. Then mung the sdp from that and use it to
send an INVITE on hold to the new party being invited. Use the sdp
returned from that to generate a reinvite to the party being
transferred. (I am not sure this is going to work - it is just a concept
at the moment.)

To use OPTIONS in this way would not require any great violence to the
spec, but might require some clarification about how OPTIONS in the
context of an existing dialog should function. For instance section 11.2
currently says "The response code chosen is the same that would have
been chosen had the request been an INVITE." In this case we don't want
that - we don't want the same restrictions on what SDP is returned as
are applied to a reinvite.

3) we can muddle along with the relaxed guidelines you mention above. I
don't see that relaxing the rules that way does any harm. But I think it
might be inconvenient for multimedia UAs, or their users, to always
return sdp for media not currently in play. And if they choose not to do
so, we may not solve the problem at hand. They would perhaps be more
inclined to offer those media if they knew that the other end actually
desired to use them.

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Dec 20 13:49:58 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id NAA16400
	for <sip-archive@odin.ietf.org>; Thu, 20 Dec 2001 13:49:58 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id NAA21576
	for sip-archive@odin.ietf.org; Thu, 20 Dec 2001 13:50:00 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id NAA21110;
	Thu, 20 Dec 2001 13:34:09 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id NAA21010
	for <sip@optimus.ietf.org>; Thu, 20 Dec 2001 13:34:01 -0500 (EST)
Received: from zcars0m9.ca.nortel.com (zcars0m9.nortelnetworks.com [47.129.242.157])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id NAA15835
	for <sip@ietf.org>; Thu, 20 Dec 2001 13:33:58 -0500 (EST)
Received: from zcars04f.ca.nortel.com (zcars04f.ca.nortel.com [47.129.242.57])
	by zcars0m9.ca.nortel.com (Switch-2.2.0/Switch-2.2.0) with ESMTP id fBKIXS721098;
	Thu, 20 Dec 2001 13:33:28 -0500 (EST)
Received: from zcard015.ca.nortel.com (zcard015.ca.nortel.com [47.129.30.7])
	by zcars04f.ca.nortel.com (Switch-2.2.0/Switch-2.2.0) with ESMTP id fBKIXQC09039;
	Thu, 20 Dec 2001 13:33:26 -0500 (EST)
Received: by zcard015.ca.nortel.com with Internet Mail Service (5.5.2653.19)
	id <ZGB5P0F4>; Thu, 20 Dec 2001 13:32:01 -0500
Message-ID: <4D79C746863DD51197690002A52CDA00274C53@zcard0kc.ca.nortel.com>
From: "Tom-PT Taylor" <taylor@nortelnetworks.com>
To: "'Jonathan Rosenberg'" <jdrosen@dynamicsoft.com>
Cc: sip@ietf.org
Subject: RE: [Sip] Re: SDP Offer/Counter-offer/Answer
Date: Thu, 20 Dec 2001 13:32:00 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C18984.9CCE2AD0"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

This message is in MIME format. Since your mail reader does not understand
this format, some or all of this message may not be legible.

------_=_NextPart_001_01C18984.9CCE2AD0
Content-Type: text/plain;
	charset="iso-8859-1"

This looks promising.  A major issue with offer/answer has been the
potential need to reserve lots of DSP resources pending receipt of the
answer and a narrowing of the set of codecs that could be used.  The
proposal did raise the thought in my mind that you were part way to
manyfolks-resources, and that we might be able to avoid use of the fourth
leg (the COMET) in the latter if we imposed enough semantics on the
three-way handshake.

-----Original Message-----
From: Jonathan Rosenberg [mailto:jdrosen@dynamicsoft.com]
Sent: Wednesday, December 19, 2001 3:48 PM
To: Fairlie-Cuninghame, Robert
Cc: sip@ietf.org
Subject: [Sip] Re: SDP Offer/Counter-offer/Answer


There are LOTS of issues here. Let us take them one step at a time. The 
group has a habit of jumping right into headers or parameters or bodies 
or whatever without understanding the scope of the problem or the 
semantics involved.

First off, I think its important to define a sufficient list of concrete 
problems that require a three-way exchange, so that we don't go too far 
down this path if its not really needed. Some of the ones Robert has 
offered include:

   a. early media (need to be able to refuse/modify an early media stream)
   b. having the uas add SRTP to its counter-offer when not made in the 
offer

Others I could think of:

   c. in the case of forking, if there are multiple 200 OK, each will go 
to the same port/ip on the caller. This will require knowing 
cname<->dialog mappings to sort out. THe alternative is to use a 
three-way exchange that allows a separate port for each uas


Now, let me explain why Robert's (b) is NOT an issue as defined. What is 
special about SRTP? What if the uas wants to use a new codec not offered 
by the uac? Or an additional media stream? They can always be added 
later on through a re-invite. This leads us to the question of the day: 
under what conditions is a three way handshake needed, as opposed to 
simply doing a re-invite once the call is up? The answer to this 
question is critical in determining required semantics.

I would posit that the three way handshake would be needed for those 
cases where we require atomicity, AND the offerer does not have 
sufficient information to exchange all the data in the initial offer.

As an example, consider my problem (c). The UAC wants to make a call, 
but can't offer a port until it knows who its talking to, as there will 
be a separate port for each uas. Thus, the initial offer cannot contain 
sufficient information for the exhcange. Furthermore, we don't want to 
simply do a re-invite after the 2xx, since we'll end up with this 
transitional period where we can't easily associate media with the 
dialogs it was established through. This introduces the atomicity 
requirement. In this case, the atomicity requirement is not that strong; 
I could argue that the few seconds between the 200 OK and the re-invite 
are not so important - you're not losing any media, you just can't 
associate it with the specific dialog.

Robert's SRTP example is one where its not clear to me that atomicity is 
important.


OK, now onto the second point. How do we accomplish the three-way 
handshake? I had initially proposed that the counter-offer was nothing 
more than a valid answer to the initial offer, plus a new offer. More 
concretely, we could accomplish a three way handshake by starting with 
the basic four-way handshake:

----------> OFFER
ANSWER<------
OFFER<-------
----------->ANSWER

and then making the middle two the SAME SDP, passed in one message:

------------> OFFER
<------------ ANSWER/OFFER
-------------> ANSWER

The semantics would then be: the uac processes the second message FIRST 
as an answer, and THEN as an offer, generating an answer to that. This 
would allow us to do a three-way exchange without specifying any 
additional semantics. This exchange has the very nice property that it 
supports complete subsetting, so that the SDP in message 2 is a subset 
(subset of codecs, of media streams, of directions) of message 1, and 
message 3 is a subset of 2.

However, on further cogitation, I realized this doesn't work. It doesn't 
work since its missing the fundamental atomicity property. The uac, for 
example, needs to be prepared to receive with the codecs in the offer 
(the first messae), even though there will later be another SDP updating 
that information (the third message). Thus, the information provided in 
the initial offer has to be valid and usable in its own right, and based 
on the defined semantics above, the uas could even send using that media 
before receiving message 3. That would violate atomicity.

Thus, to fully specify a three-way handshake, we need to add one 
additional bit - the uas MUST NOT ever send media using the initial 
offer, it MUST wait for the third message (the answer). This introduces 
the required atomicity, and maintains the subsetting property.

Another fun issue is handling error cases. We have the ability today to 
"reject" an offer when there is no overlap in any of the media. If the 
offer is in an INVITE, thats easily done (488 or whatever it is). If the 
offer is in a 2xx, its harder - you still need to include a valid answer 
in the ack, and then BYE later on. That doesn't work for re-invites, 
which is why we have another open issue, which is trying to ensure that 
the offer in a 2xx to a re-invite w/o SDP is always acceptable. Not sure 
how to do that, or if its even possible. Now, how to do that in a 
three-pass model is more complex, since presumably we can "reject" at 
any point and need to back off to the original sdp beforehand (the 
atomicity requirement).

I don't have answers yet for the failure cases. Its not clear to me 
whether these need to be handled in the SDP or in SIP, or whether we 
truly need atomicity in the failure cases or not, and so on.


So, my proposal would be that IFF a three-way handshake is truly needed, 
it be accomplished by collapsing a four-way O/A exchange into three by 
making the middle two messages the same, AND furhter specifying that the 
recipient of the initial offer MUST NOT send any media based on 
information in the initial offer.

With this definition, we can then consider what additional data needs to 
be sent in order to properly do this in SIP. My proposal would, in fact, 
require the initial offer from the uac to be marked in some way that 
indicates that its an offer which is expecting a counter-offer. This is 
needed since the uac needs to know whether to expect media on the 
ports/addresses/codecs in the initial message.
Similarly, the counter-offer needs to be marked as such in order for the 
uac to know it needs to generate an answer.

One of the things I was worried about in explicitly labeling SDP as 
offer/answer/counter-offer was 3pcc. I was worried that SDP which one 
entity provided as an offer was used by the controller as an answer in 
another flow. Interestingly, looking through draft-rosenberg-sip-3pcc, 
only ONE of the flows there does this - flow 2. Its also interesting to 
note that this flow is NOT RECOMMENDED because it doesn't generally 
work, and indeed, the reason it doesn't generally work is that its using 
an answer from one element as an offer to another!

Soooo, I do think it makes sense to be explicit. The requirements we 
have are:

1. label something as offer/answer/both
2. somehow indicate that a 3way handshake is supported when the initial 
offer is made
3. somehow indicat that a 3way handshake is required when the initial 
offer is made


I would argue that Content-Disposition is right for (1), and 
Require/Supported for (2) and (3).


OK, there is a lot to digest and comment on in here. Additional thoughts 
are welcome.

-Jonathan R.


Fairlie-Cuninghame, Robert wrote:

> Hello,
> 
> I'm not sure whether this is more suited to the MMUSIC list (as there is a
> answer-offer discussion ensuing presently), however I believe this is more
> related to the use of the SDP offer-answer model than its specification.
> [draft-rosenberg-mmusic-sdp-offer-answer-00.txt]
> 
> Just a recap: the SDP offer/counter-offer/answer model is where Peer A
makes
> an offer in the INVITE, that Peer B has decides to make a counter-offer
back
> to A (in 183 or 200 OK) which A then sends an answers (in PRACK or ACK). 
> 
> We are seeing the offer/counter-offer/answer model becoming more widely
> used: it is used in the manyfolks resource reservation, it is used in the
> early media proposal and it is required in the 3GPP requirements document.
> Also when SRTP becomes more prevalent, it will be useful in that instance.

> An example of its use with SRTP: A calls B. A offers RTP/AVP in the INVITE
> but B requires the use of SRTP/AVP profile, so B counter-offers with
> SRTP/AVP in the 200 OK. A either answers in ACK or sends empty SDP and
> rejects call. 
> 
> My aim is not to change the answer-offer model (everything is still always
> an offer or answer), early media or resource reservation; my aim merely to
> make what is happening EXPLICIT rather than assumed, that is, make it
> explicit with an SDP is an answer or a counter-offer. Explicit protocol
are
> just about always better than implicit (IETF mantra right).
> 
> My proposal (which I made earlier in the year): whenever a response
> (provisional or final) contains an SDP counter-offer then this fact is
> EXPLICITly indicated in the Content-Disposition header. 
> 
> For instance: Content-Disposition=newoffer;handling=required
> 
> I propose that this Content-Disposition token is added to the next SIP
> draft. 
> 
> Comments?
> 
> Regards,
> 
> Robert.
> 


-- 
Jonathan D. Rosenberg, Ph.D.            72 Eagle Rock Avenue
Chief Scientist                         First Floor
dynamicsoft                             East Hanover, NJ 07936
jdrosen@dynamicsoft.com                 FAX: (973) 952-5050
http://www.jdrosen.net                  PH:  (973) 952-5000
http://www.dynamicsoft.com


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip

------_=_NextPart_001_01C18984.9CCE2AD0
Content-Type: text/html;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV=3D"Content-Type" CONTENT=3D"text/html; =
charset=3Diso-8859-1">
<META NAME=3D"Generator" CONTENT=3D"MS Exchange Server version =
5.5.2654.89">
<TITLE>RE: [Sip] Re: SDP Offer/Counter-offer/Answer</TITLE>
</HEAD>
<BODY>

<P><FONT SIZE=3D2>This looks promising.&nbsp; A major issue with =
offer/answer has been the potential need to reserve lots of DSP =
resources pending receipt of the answer and a narrowing of the set of =
codecs that could be used.&nbsp; The proposal did raise the thought in =
my mind that you were part way to manyfolks-resources, and that we =
might be able to avoid use of the fourth leg (the COMET) in the latter =
if we imposed enough semantics on the three-way handshake.</FONT></P>

<P><FONT SIZE=3D2>-----Original Message-----</FONT>
<BR><FONT SIZE=3D2>From: Jonathan Rosenberg [<A =
HREF=3D"mailto:jdrosen@dynamicsoft.com">mailto:jdrosen@dynamicsoft.com</=
A>]</FONT>
<BR><FONT SIZE=3D2>Sent: Wednesday, December 19, 2001 3:48 PM</FONT>
<BR><FONT SIZE=3D2>To: Fairlie-Cuninghame, Robert</FONT>
<BR><FONT SIZE=3D2>Cc: sip@ietf.org</FONT>
<BR><FONT SIZE=3D2>Subject: [Sip] Re: SDP =
Offer/Counter-offer/Answer</FONT>
</P>
<BR>

<P><FONT SIZE=3D2>There are LOTS of issues here. Let us take them one =
step at a time. The </FONT>
<BR><FONT SIZE=3D2>group has a habit of jumping right into headers or =
parameters or bodies </FONT>
<BR><FONT SIZE=3D2>or whatever without understanding the scope of the =
problem or the </FONT>
<BR><FONT SIZE=3D2>semantics involved.</FONT>
</P>

<P><FONT SIZE=3D2>First off, I think its important to define a =
sufficient list of concrete </FONT>
<BR><FONT SIZE=3D2>problems that require a three-way exchange, so that =
we don't go too far </FONT>
<BR><FONT SIZE=3D2>down this path if its not really needed. Some of the =
ones Robert has </FONT>
<BR><FONT SIZE=3D2>offered include:</FONT>
</P>

<P><FONT SIZE=3D2>&nbsp;&nbsp; a. early media (need to be able to =
refuse/modify an early media stream)</FONT>
<BR><FONT SIZE=3D2>&nbsp;&nbsp; b. having the uas add SRTP to its =
counter-offer when not made in the </FONT>
<BR><FONT SIZE=3D2>offer</FONT>
</P>

<P><FONT SIZE=3D2>Others I could think of:</FONT>
</P>

<P><FONT SIZE=3D2>&nbsp;&nbsp; c. in the case of forking, if there are =
multiple 200 OK, each will go </FONT>
<BR><FONT SIZE=3D2>to the same port/ip on the caller. This will require =
knowing </FONT>
<BR><FONT SIZE=3D2>cname&lt;-&gt;dialog mappings to sort out. THe =
alternative is to use a </FONT>
<BR><FONT SIZE=3D2>three-way exchange that allows a separate port for =
each uas</FONT>
</P>
<BR>

<P><FONT SIZE=3D2>Now, let me explain why Robert's (b) is NOT an issue =
as defined. What is </FONT>
<BR><FONT SIZE=3D2>special about SRTP? What if the uas wants to use a =
new codec not offered </FONT>
<BR><FONT SIZE=3D2>by the uac? Or an additional media stream? They can =
always be added </FONT>
<BR><FONT SIZE=3D2>later on through a re-invite. This leads us to the =
question of the day: </FONT>
<BR><FONT SIZE=3D2>under what conditions is a three way handshake =
needed, as opposed to </FONT>
<BR><FONT SIZE=3D2>simply doing a re-invite once the call is up? The =
answer to this </FONT>
<BR><FONT SIZE=3D2>question is critical in determining required =
semantics.</FONT>
</P>

<P><FONT SIZE=3D2>I would posit that the three way handshake would be =
needed for those </FONT>
<BR><FONT SIZE=3D2>cases where we require atomicity, AND the offerer =
does not have </FONT>
<BR><FONT SIZE=3D2>sufficient information to exchange all the data in =
the initial offer.</FONT>
</P>

<P><FONT SIZE=3D2>As an example, consider my problem (c). The UAC wants =
to make a call, </FONT>
<BR><FONT SIZE=3D2>but can't offer a port until it knows who its =
talking to, as there will </FONT>
<BR><FONT SIZE=3D2>be a separate port for each uas. Thus, the initial =
offer cannot contain </FONT>
<BR><FONT SIZE=3D2>sufficient information for the exhcange. =
Furthermore, we don't want to </FONT>
<BR><FONT SIZE=3D2>simply do a re-invite after the 2xx, since we'll end =
up with this </FONT>
<BR><FONT SIZE=3D2>transitional period where we can't easily associate =
media with the </FONT>
<BR><FONT SIZE=3D2>dialogs it was established through. This introduces =
the atomicity </FONT>
<BR><FONT SIZE=3D2>requirement. In this case, the atomicity requirement =
is not that strong; </FONT>
<BR><FONT SIZE=3D2>I could argue that the few seconds between the 200 =
OK and the re-invite </FONT>
<BR><FONT SIZE=3D2>are not so important - you're not losing any media, =
you just can't </FONT>
<BR><FONT SIZE=3D2>associate it with the specific dialog.</FONT>
</P>

<P><FONT SIZE=3D2>Robert's SRTP example is one where its not clear to =
me that atomicity is </FONT>
<BR><FONT SIZE=3D2>important.</FONT>
</P>
<BR>

<P><FONT SIZE=3D2>OK, now onto the second point. How do we accomplish =
the three-way </FONT>
<BR><FONT SIZE=3D2>handshake? I had initially proposed that the =
counter-offer was nothing </FONT>
<BR><FONT SIZE=3D2>more than a valid answer to the initial offer, plus =
a new offer. More </FONT>
<BR><FONT SIZE=3D2>concretely, we could accomplish a three way =
handshake by starting with </FONT>
<BR><FONT SIZE=3D2>the basic four-way handshake:</FONT>
</P>

<P><FONT SIZE=3D2>----------&gt; OFFER</FONT>
<BR><FONT SIZE=3D2>ANSWER&lt;------</FONT>
<BR><FONT SIZE=3D2>OFFER&lt;-------</FONT>
<BR><FONT SIZE=3D2>-----------&gt;ANSWER</FONT>
</P>

<P><FONT SIZE=3D2>and then making the middle two the SAME SDP, passed =
in one message:</FONT>
</P>

<P><FONT SIZE=3D2>------------&gt; OFFER</FONT>
<BR><FONT SIZE=3D2>&lt;------------ ANSWER/OFFER</FONT>
<BR><FONT SIZE=3D2>-------------&gt; ANSWER</FONT>
</P>

<P><FONT SIZE=3D2>The semantics would then be: the uac processes the =
second message FIRST </FONT>
<BR><FONT SIZE=3D2>as an answer, and THEN as an offer, generating an =
answer to that. This </FONT>
<BR><FONT SIZE=3D2>would allow us to do a three-way exchange without =
specifying any </FONT>
<BR><FONT SIZE=3D2>additional semantics. This exchange has the very =
nice property that it </FONT>
<BR><FONT SIZE=3D2>supports complete subsetting, so that the SDP in =
message 2 is a subset </FONT>
<BR><FONT SIZE=3D2>(subset of codecs, of media streams, of directions) =
of message 1, and </FONT>
<BR><FONT SIZE=3D2>message 3 is a subset of 2.</FONT>
</P>

<P><FONT SIZE=3D2>However, on further cogitation, I realized this =
doesn't work. It doesn't </FONT>
<BR><FONT SIZE=3D2>work since its missing the fundamental atomicity =
property. The uac, for </FONT>
<BR><FONT SIZE=3D2>example, needs to be prepared to receive with the =
codecs in the offer </FONT>
<BR><FONT SIZE=3D2>(the first messae), even though there will later be =
another SDP updating </FONT>
<BR><FONT SIZE=3D2>that information (the third message). Thus, the =
information provided in </FONT>
<BR><FONT SIZE=3D2>the initial offer has to be valid and usable in its =
own right, and based </FONT>
<BR><FONT SIZE=3D2>on the defined semantics above, the uas could even =
send using that media </FONT>
<BR><FONT SIZE=3D2>before receiving message 3. That would violate =
atomicity.</FONT>
</P>

<P><FONT SIZE=3D2>Thus, to fully specify a three-way handshake, we need =
to add one </FONT>
<BR><FONT SIZE=3D2>additional bit - the uas MUST NOT ever send media =
using the initial </FONT>
<BR><FONT SIZE=3D2>offer, it MUST wait for the third message (the =
answer). This introduces </FONT>
<BR><FONT SIZE=3D2>the required atomicity, and maintains the subsetting =
property.</FONT>
</P>

<P><FONT SIZE=3D2>Another fun issue is handling error cases. We have =
the ability today to </FONT>
<BR><FONT SIZE=3D2>&quot;reject&quot; an offer when there is no overlap =
in any of the media. If the </FONT>
<BR><FONT SIZE=3D2>offer is in an INVITE, thats easily done (488 or =
whatever it is). If the </FONT>
<BR><FONT SIZE=3D2>offer is in a 2xx, its harder - you still need to =
include a valid answer </FONT>
<BR><FONT SIZE=3D2>in the ack, and then BYE later on. That doesn't work =
for re-invites, </FONT>
<BR><FONT SIZE=3D2>which is why we have another open issue, which is =
trying to ensure that </FONT>
<BR><FONT SIZE=3D2>the offer in a 2xx to a re-invite w/o SDP is always =
acceptable. Not sure </FONT>
<BR><FONT SIZE=3D2>how to do that, or if its even possible. Now, how to =
do that in a </FONT>
<BR><FONT SIZE=3D2>three-pass model is more complex, since presumably =
we can &quot;reject&quot; at </FONT>
<BR><FONT SIZE=3D2>any point and need to back off to the original sdp =
beforehand (the </FONT>
<BR><FONT SIZE=3D2>atomicity requirement).</FONT>
</P>

<P><FONT SIZE=3D2>I don't have answers yet for the failure cases. Its =
not clear to me </FONT>
<BR><FONT SIZE=3D2>whether these need to be handled in the SDP or in =
SIP, or whether we </FONT>
<BR><FONT SIZE=3D2>truly need atomicity in the failure cases or not, =
and so on.</FONT>
</P>
<BR>

<P><FONT SIZE=3D2>So, my proposal would be that IFF a three-way =
handshake is truly needed, </FONT>
<BR><FONT SIZE=3D2>it be accomplished by collapsing a four-way O/A =
exchange into three by </FONT>
<BR><FONT SIZE=3D2>making the middle two messages the same, AND furhter =
specifying that the </FONT>
<BR><FONT SIZE=3D2>recipient of the initial offer MUST NOT send any =
media based on </FONT>
<BR><FONT SIZE=3D2>information in the initial offer.</FONT>
</P>

<P><FONT SIZE=3D2>With this definition, we can then consider what =
additional data needs to </FONT>
<BR><FONT SIZE=3D2>be sent in order to properly do this in SIP. My =
proposal would, in fact, </FONT>
<BR><FONT SIZE=3D2>require the initial offer from the uac to be marked =
in some way that </FONT>
<BR><FONT SIZE=3D2>indicates that its an offer which is expecting a =
counter-offer. This is </FONT>
<BR><FONT SIZE=3D2>needed since the uac needs to know whether to expect =
media on the </FONT>
<BR><FONT SIZE=3D2>ports/addresses/codecs in the initial =
message.</FONT>
<BR><FONT SIZE=3D2>Similarly, the counter-offer needs to be marked as =
such in order for the </FONT>
<BR><FONT SIZE=3D2>uac to know it needs to generate an answer.</FONT>
</P>

<P><FONT SIZE=3D2>One of the things I was worried about in explicitly =
labeling SDP as </FONT>
<BR><FONT SIZE=3D2>offer/answer/counter-offer was 3pcc. I was worried =
that SDP which one </FONT>
<BR><FONT SIZE=3D2>entity provided as an offer was used by the =
controller as an answer in </FONT>
<BR><FONT SIZE=3D2>another flow. Interestingly, looking through =
draft-rosenberg-sip-3pcc, </FONT>
<BR><FONT SIZE=3D2>only ONE of the flows there does this - flow 2. Its =
also interesting to </FONT>
<BR><FONT SIZE=3D2>note that this flow is NOT RECOMMENDED because it =
doesn't generally </FONT>
<BR><FONT SIZE=3D2>work, and indeed, the reason it doesn't generally =
work is that its using </FONT>
<BR><FONT SIZE=3D2>an answer from one element as an offer to =
another!</FONT>
</P>

<P><FONT SIZE=3D2>Soooo, I do think it makes sense to be explicit. The =
requirements we </FONT>
<BR><FONT SIZE=3D2>have are:</FONT>
</P>

<P><FONT SIZE=3D2>1. label something as offer/answer/both</FONT>
<BR><FONT SIZE=3D2>2. somehow indicate that a 3way handshake is =
supported when the initial </FONT>
<BR><FONT SIZE=3D2>offer is made</FONT>
<BR><FONT SIZE=3D2>3. somehow indicat that a 3way handshake is required =
when the initial </FONT>
<BR><FONT SIZE=3D2>offer is made</FONT>
</P>
<BR>

<P><FONT SIZE=3D2>I would argue that Content-Disposition is right for =
(1), and </FONT>
<BR><FONT SIZE=3D2>Require/Supported for (2) and (3).</FONT>
</P>
<BR>

<P><FONT SIZE=3D2>OK, there is a lot to digest and comment on in here. =
Additional thoughts </FONT>
<BR><FONT SIZE=3D2>are welcome.</FONT>
</P>

<P><FONT SIZE=3D2>-Jonathan R.</FONT>
</P>
<BR>

<P><FONT SIZE=3D2>Fairlie-Cuninghame, Robert wrote:</FONT>
</P>

<P><FONT SIZE=3D2>&gt; Hello,</FONT>
<BR><FONT SIZE=3D2>&gt; </FONT>
<BR><FONT SIZE=3D2>&gt; I'm not sure whether this is more suited to the =
MMUSIC list (as there is a</FONT>
<BR><FONT SIZE=3D2>&gt; answer-offer discussion ensuing presently), =
however I believe this is more</FONT>
<BR><FONT SIZE=3D2>&gt; related to the use of the SDP offer-answer =
model than its specification.</FONT>
<BR><FONT SIZE=3D2>&gt; [draft-rosenberg-mmusic-sdp-offer-answer-00.txt]=
</FONT>
<BR><FONT SIZE=3D2>&gt; </FONT>
<BR><FONT SIZE=3D2>&gt; Just a recap: the SDP =
offer/counter-offer/answer model is where Peer A makes</FONT>
<BR><FONT SIZE=3D2>&gt; an offer in the INVITE, that Peer B has decides =
to make a counter-offer back</FONT>
<BR><FONT SIZE=3D2>&gt; to A (in 183 or 200 OK) which A then sends an =
answers (in PRACK or ACK). </FONT>
<BR><FONT SIZE=3D2>&gt; </FONT>
<BR><FONT SIZE=3D2>&gt; We are seeing the offer/counter-offer/answer =
model becoming more widely</FONT>
<BR><FONT SIZE=3D2>&gt; used: it is used in the manyfolks resource =
reservation, it is used in the</FONT>
<BR><FONT SIZE=3D2>&gt; early media proposal and it is required in the =
3GPP requirements document.</FONT>
<BR><FONT SIZE=3D2>&gt; Also when SRTP becomes more prevalent, it will =
be useful in that instance. </FONT>
<BR><FONT SIZE=3D2>&gt; An example of its use with SRTP: A calls B. A =
offers RTP/AVP in the INVITE</FONT>
<BR><FONT SIZE=3D2>&gt; but B requires the use of SRTP/AVP profile, so =
B counter-offers with</FONT>
<BR><FONT SIZE=3D2>&gt; SRTP/AVP in the 200 OK. A either answers in ACK =
or sends empty SDP and</FONT>
<BR><FONT SIZE=3D2>&gt; rejects call. </FONT>
<BR><FONT SIZE=3D2>&gt; </FONT>
<BR><FONT SIZE=3D2>&gt; My aim is not to change the answer-offer model =
(everything is still always</FONT>
<BR><FONT SIZE=3D2>&gt; an offer or answer), early media or resource =
reservation; my aim merely to</FONT>
<BR><FONT SIZE=3D2>&gt; make what is happening EXPLICIT rather than =
assumed, that is, make it</FONT>
<BR><FONT SIZE=3D2>&gt; explicit with an SDP is an answer or a =
counter-offer. Explicit protocol are</FONT>
<BR><FONT SIZE=3D2>&gt; just about always better than implicit (IETF =
mantra right).</FONT>
<BR><FONT SIZE=3D2>&gt; </FONT>
<BR><FONT SIZE=3D2>&gt; My proposal (which I made earlier in the year): =
whenever a response</FONT>
<BR><FONT SIZE=3D2>&gt; (provisional or final) contains an SDP =
counter-offer then this fact is</FONT>
<BR><FONT SIZE=3D2>&gt; EXPLICITly indicated in the Content-Disposition =
header. </FONT>
<BR><FONT SIZE=3D2>&gt; </FONT>
<BR><FONT SIZE=3D2>&gt; For instance: =
Content-Disposition=3Dnewoffer;handling=3Drequired</FONT>
<BR><FONT SIZE=3D2>&gt; </FONT>
<BR><FONT SIZE=3D2>&gt; I propose that this Content-Disposition token =
is added to the next SIP</FONT>
<BR><FONT SIZE=3D2>&gt; draft. </FONT>
<BR><FONT SIZE=3D2>&gt; </FONT>
<BR><FONT SIZE=3D2>&gt; Comments?</FONT>
<BR><FONT SIZE=3D2>&gt; </FONT>
<BR><FONT SIZE=3D2>&gt; Regards,</FONT>
<BR><FONT SIZE=3D2>&gt; </FONT>
<BR><FONT SIZE=3D2>&gt; Robert.</FONT>
<BR><FONT SIZE=3D2>&gt; </FONT>
</P>
<BR>

<P><FONT SIZE=3D2>-- </FONT>
<BR><FONT SIZE=3D2>Jonathan D. Rosenberg, =
Ph.D.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
72 Eagle Rock Avenue</FONT>
<BR><FONT SIZE=3D2>Chief =
Scientist&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nb=
sp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nb=
sp;&nbsp; First Floor</FONT>
<BR><FONT =
SIZE=3D2>dynamicsoft&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; East Hanover, NJ =
07936</FONT>
<BR><FONT =
SIZE=3D2>jdrosen@dynamicsoft.com&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FAX: (973) =
952-5050</FONT>
<BR><FONT SIZE=3D2><A HREF=3D"http://www.jdrosen.net" =
TARGET=3D"_blank">http://www.jdrosen.net</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p; PH:&nbsp; (973) 952-5000</FONT>
<BR><FONT SIZE=3D2><A HREF=3D"http://www.dynamicsoft.com" =
TARGET=3D"_blank">http://www.dynamicsoft.com</A></FONT>
</P>
<BR>

<P><FONT =
SIZE=3D2>_______________________________________________</FONT>
<BR><FONT SIZE=3D2>Sip mailing list&nbsp; <A =
HREF=3D"http://www1.ietf.org/mailman/listinfo/sip" =
TARGET=3D"_blank">http://www1.ietf.org/mailman/listinfo/sip</A></FONT>
<BR><FONT SIZE=3D2>This list is for NEW development of the core SIP =
Protocol</FONT>
<BR><FONT SIZE=3D2>Use sip-implementors@cs.columbia.edu for questions =
on current sip</FONT>
<BR><FONT SIZE=3D2>Use sipping@ietf.org for new developments on the =
application of sip</FONT>
</P>

</BODY>
</HTML>
------_=_NextPart_001_01C18984.9CCE2AD0--

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Dec 20 14:05:39 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id OAA16998
	for <sip-archive@odin.ietf.org>; Thu, 20 Dec 2001 14:05:39 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id OAA22461
	for sip-archive@odin.ietf.org; Thu, 20 Dec 2001 14:05:39 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id NAA21510;
	Thu, 20 Dec 2001 13:47:38 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id NAA21483
	for <sip@optimus.ietf.org>; Thu, 20 Dec 2001 13:47:36 -0500 (EST)
Received: from mailweb30.rediffmail.com ([203.199.83.150])
	by ietf.org (8.9.1a/8.9.1a) with SMTP id NAA16298
	for <sip@ietf.org>; Thu, 20 Dec 2001 13:47:33 -0500 (EST)
Received: (qmail 2301 invoked by uid 510); 20 Dec 2001 18:48:24 -0000
Date: 20 Dec 2001 18:48:24 -0000
Message-ID: <20011220184824.2300.qmail@mailweb30.rediffmail.com>
Received: from unknown (203.197.251.7) by rediffmail.com via HTTP; 20 Dec 2001 18:48:24 -0000
MIME-Version: 1.0
From: "Ashhar Farhan" <afarhan@rediffmail.com>
Reply-To: "Ashhar Farhan" <afarhan@rediffmail.com>
To: sip@ietf.org
Content-type: text/plain;
	charset=iso-8859-1
Content-Disposition: inline
Content-Transfer-Encoding: 8bit
X-MIME-Autoconverted: from quoted-printable to 8bit by optimus.ietf.org id NAA21484
Subject: [Sip] Regulation,  QoS and SIP
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 8bit


this may or may not be appropriate discussion for this list but i guess it concerns the future of SIP in India.

briefly, the indian government is considering opening up and deregulating internet telephony (which has so far been illegal in india). the TRAI (Telecom Regulatory Authority of India) is the indian equivalent of the FCC. amazingly, their consultation paper only mentioned H.323 and not SIP. i intend to be present in their open house session next week. there are a couple of things that their paper (available at www.trai.gov.in) raises. i would invite the list to point me in the correct direction.

1. QoS: as a regulator, TRAI (and also regulators in many other countries) may want to lay down the QoS for service providers (where the competition is restricted). what is the SIP support for QoS?

2. While SIP is already burnt-in into many products, what are the specific issues still open in the SIP definition that disqualify it from being carrier class (if any)? what is the timeline to get a freeze on these issues?

3. are there any cost advantages inherent in the SIP protocol as opposed to H.323? (I mean, are there any patent, code complexity and hardware issues that may contribute to greater or lesser cost of deployment)?

it would be nice to have the list's views that i can present to TRAI on the 28th december (there goes my vacation!).

- Ashhar Farhan
 


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Dec 20 15:02:59 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA18893
	for <sip-archive@odin.ietf.org>; Thu, 20 Dec 2001 15:02:58 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id PAA24371
	for sip-archive@odin.ietf.org; Thu, 20 Dec 2001 15:03:01 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id OAA23635;
	Thu, 20 Dec 2001 14:36:53 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id OAA23604
	for <sip@optimus.ietf.org>; Thu, 20 Dec 2001 14:36:50 -0500 (EST)
Received: from ams-msg-core-1.cisco.com (ams-msg-core-1.cisco.com [144.254.74.60])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id OAA18216
	for <sip@ietf.org>; Thu, 20 Dec 2001 14:36:46 -0500 (EST)
Received: from dingdong.cisco.com (localhost [127.0.0.1])
	by ams-msg-core-1.cisco.com (8.11.3/8.9.1) with ESMTP id fBKJa8q24580;
	Thu, 20 Dec 2001 20:36:08 +0100 (MET)
Received: from cisco.com (rtp-xdm2.cisco.com [64.102.17.79])
	by dingdong.cisco.com (Mirapoint)
	with ESMTP id AAI10944;
	Thu, 20 Dec 2001 14:36:08 -0500 (EST)
Message-ID: <3C223DA8.9D5484AE@cisco.com>
Date: Thu, 20 Dec 2001 14:36:08 -0500
From: Shail Bhatnagar <shbhatna@cisco.com>
X-Mailer: Mozilla 4.51C-CISCOENG [en] (X11; U; SunOS 5.6 sun4u)
X-Accept-Language: en
MIME-Version: 1.0
To: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
CC: Brian Stucker <bstucker@nortelnetworks.com>,
        Scott Orton <orton@nortelnetworks.com>,
        "'Kiranmai Pavoori'" <kiranmai.pavoori@intervoice-brite.com>,
        vkg <vkg@lucent.com>, sip <sip@ietf.org>
Subject: Re: [Sip] Open Issue #178: Deprecate absolute times absolutely: S PEAK  
 UP IFYOU USE THEM IN YOUR PRODUCT!!!!!!!!!!
References: <3C20E518.6060003@dynamicsoft.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Jonathan Rosenberg wrote:
> 
> Let me summarize the results so far.
> 
> Scott Orton, Vijay Gurbani, Kiranai Pavoori, Brian Stucker all indicated
> it was fine to deprecate absolute times (option A).
> 
> Brett Tate says they have deployments with registrars that return
> absolute times, but it would be OK to proceed with option A anway; I
> assume this means that the registrars would need to be revved as soon as
> any of the handsets became bis compliant (since they wouldn't be able to
> handle the absolute tiems). Note that the opposite is true, you don't
> need to rev the handsets if you upgrade the registrar.
> 
> Shail indicated that their registrar uses absolute times. Shail - can we
> get more details here? Would there be issues in existing deployments
> that would be seriously affected by this change? I'd really like to do
> option A, since otherwise you need to carry around the code for absolute
> time processing anyway.

Jonathan, Our proxy/registrar generates 200 response of the form 

SIP/2.0 200 OK
Contact: <sip:contact1>;expires=gmt stamp
Contact: <sip:contact2>;expires=gmt stamp
This is more of an issue for the clients being used
by existing deployments. If customer X, using our
registrar, changes their client and the client cannot
understand this 200 response, there maybe issues.
This gmt time stamp in 200 responses will probably
not be fixed for next few months in our proxy. 

Charles/Sean you want to add something ??

Thanks,
Shail



> 
> Any others?
> 
> -Jonathan R.
> 
> Brian Stucker wrote:
> 
> > Propsal A is the way to go. Do away with absolute times, they cause problems and they're of no real use because all times are relative to the current clock at the processing node anyhow.
> >
> > Brian
> >
> > -----Original Message-----
> > From: Orton, Scott [NGC:B633:EXCH]
> > Sent: Tuesday, December 11, 2001 3:46 PM
> > To: 'Kiranmai Pavoori'; jdrosen; vkg
> > Cc: sip
> > Subject: RE: [Sip] Open Issue #178: Deprecate absolute times absolutely: S PEAK UP IFYOU USE THEM IN YOUR PRODUCT!!!!!!!!!!
> >
> >
> >
> > Proposal A is fine.
> >
> > Scott
> > Nortel Networks
> >
> > -----Original Message-----
> > From: Kiranmai Pavoori [ mailto:kiranmai.pavoori@intervoice-brite.com]
> > Sent: Tuesday, December 11, 2001 9:48 AM
> > To: jdrosen; vkg
> > Cc: sip
> > Subject: Re: [Sip] Open Issue #178: Deprecate absolute times absolutely:
> > SPEAK UP IFYOU USE THEM IN YOUR PRODUCT!!!!!!!!!!
> >
> >
> > Proposal A resolves lots of synchronization problems seen in my work..
> >
> >
> >
> >
> >>>>Vijay Gurbani <vkg@lucent.com> 12/10 12:44 PM >>>
> >>>>
> > Jonathan Rosenberg wrote:
> >
> >>Issue:
> >>
> >>The Expires header and expires param in the Contact header allow for
> >>absolute times expressed in GMT. The problem with using absolute times in
> >>the messages is that they require clock synchronization between the two
> >>elements.
> >>
> > [...]
> >
> >>PROPOSAL A:
> >>   * Remove absolute times entirely from the specification
> >>
> >>PROPOSAL B:
> >>   * Elements MUST NOT send messages with absolute times in Expires or
> >>;expires, but they MUST be prepared to receive requests with absolute
> >>times in those headers, for backwards compatibility
> >>
> >>If we can do A, we should. So, speak up NOW if you use absolute times!!!
> >>
> >
> > Proposal A is fine.  Our registrar sends out delta time in responses to
> > Register requests, for instance.
> >
> > Thanks,
> >
> > - vijay
> >
> 
> --
> Jonathan D. Rosenberg, Ph.D.            72 Eagle Rock Avenue
> Chief Scientist                         First Floor
> dynamicsoft                             East Hanover, NJ 07936
> jdrosen@dynamicsoft.com                 FAX: (973) 952-5050
> http://www.jdrosen.net                  PH:  (973) 952-5000
> http://www.dynamicsoft.com
> 
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Dec 20 23:15:08 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id XAA00045
	for <sip-archive@odin.ietf.org>; Thu, 20 Dec 2001 23:15:08 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id XAA07108
	for sip-archive@odin.ietf.org; Thu, 20 Dec 2001 23:15:12 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id WAA06536;
	Thu, 20 Dec 2001 22:50:45 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id WAA06465
	for <sip@optimus.ietf.org>; Thu, 20 Dec 2001 22:50:41 -0500 (EST)
Received: from sj-msg-core-2.cisco.com (sj-msg-core-2.cisco.com [171.69.24.11])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id WAA29849;
	Thu, 20 Dec 2001 22:50:36 -0500 (EST)
Received: from cisco.com (rtp-vpn2-199.cisco.com [10.82.240.199])
	by sj-msg-core-2.cisco.com (8.11.3/8.9.1) with ESMTP id fBL3kK102545;
	Thu, 20 Dec 2001 19:46:20 -0800 (PST)
Message-ID: <3C22B0AC.2E1DDE79@cisco.com>
Date: Thu, 20 Dec 2001 22:46:52 -0500
From: Flemming Andreasen <fandreas@cisco.com>
X-Mailer: Mozilla 4.78 [en]C-CCK-MCD   (Windows NT 5.0; U)
X-Accept-Language: en
MIME-Version: 1.0
To: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
CC: "Drage, Keith (Keith)" <drage@lucent.com>, sip@ietf.org, mmusic@ietf.org,
        confctrl@isi.edu
Subject: Re: [MMUSIC] Re: [Sip] Open Issue #150: too many ways of saying "don't 
 send me media"
References: <3C210DA2.8020804@dynamicsoft.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit



Jonathan Rosenberg wrote:

> Beyond Keiths objection at IETF52 to discussing this in the sip group at
> all (I have cc'd mmusic), consensus on this proposal at the meeting was
> that as long as there were well defined semantics for all of these,
> there is no reason to prevent someone from using them.
>
> The semantics are:
>
> c=0.0.0.0: will cease reception of RTP and RTCP, no longer the
> recommended way to do hold, has issues with SRTP keying, ipv6,
> connection oriented media, etc. Generally bad.
>
> a=inactive/sendonly - stops only RTP
>
> port 0: turns of media streams - safe to unload codecs, etc.
>
> bw=0: will turn off reception of RTP and RTCP

Do we really need the "bw" one ? It seems like a misuse to me. After all, you
wouldn't start sending every other packet if the allowable bandwidth was cut in
half. Also, if we head down this path, why not have a zero maxptime to do the
same ? Unless there is a real need for this, it should rather be forbidden to
do these kinds of silly things IMO.

-- Flemming



>
>
> Thanks,
> Jonathan R.
>
> Drage, Keith (Keith) wrote:
>
> > Given that all SDP has now been removed from the bis draft, I am not sure
> > how this remains a SIP WG open issue.
> >
> > Surely this issue has now transferred to the MMUSIC documentation.
> >
> > Keith
> >
> > Keith Drage
> > Lucent Technologies
> > Tel: +44 1793 776249
> > Email: drage@lucent.com
> >
> >
> >>----------
> >>From:         Jonathan Rosenberg[SMTP:jdrosen@dynamicsoft.com]
> >>Sent:         06 December 2001 5:41
> >>To:   'sip@ietf.org'
> >>Subject:      [Sip] Open Issue #150: too many ways of saying "don't send
> >>me media"
> >>
> >>Issue:
> >>
> >>There are a bunch of ways to say "don't send me media":
> >>
> >>c=0.0.0.0
> >>a=inactive,sendonly
> >>zero port
> >>bw=0
> >>
> >>What do these all mean, and do we need them all?
> >>
> >>Discussion: We've agreed on most of this already. The only real issue is
> >>to
> >>say that bw=0 is never used. So, the proposal is:
> >>
> >>c=0.0.0.0          DEPRECATED
> >>a=inactive,sendly  PREFERRED
> >>zero port:         disables media stream
> >>bw=0               DONT USE
> >>
> >>-Jonathan R.
> >>---
> >>Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
> >>Chief Scientist                             First Floor
> >>dynamicsoft                                 East Hanover, NJ 07936
> >>jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
> >>http://www.jdrosen.net                      PHONE: (973) 952-5000
> >>http://www.dynamicsoft.com
> >>
> >>
> >>_______________________________________________
> >>Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> >>This list is for NEW development of the core SIP Protocol
> >>Use sip-implementors@cs.columbia.edu for questions on current sip
> >>Use sipping@ietf.org for new developments on the application of sip
> >>
> >
>
> --
> Jonathan D. Rosenberg, Ph.D.            72 Eagle Rock Avenue
> Chief Scientist                         First Floor
> dynamicsoft                             East Hanover, NJ 07936
> jdrosen@dynamicsoft.com                 FAX: (973) 952-5050
> http://www.jdrosen.net                  PH:  (973) 952-5000
> http://www.dynamicsoft.com
>
> _______________________________________________
> mmusic mailing list
> mmusic@ietf.org
> https://www1.ietf.org/mailman/listinfo/mmusic

--
Flemming Andreasen
Cisco Systems



_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Fri Dec 21 05:24:35 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id FAA21062
	for <sip-archive@odin.ietf.org>; Fri, 21 Dec 2001 05:24:34 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id FAA25446
	for sip-archive@odin.ietf.org; Fri, 21 Dec 2001 05:24:37 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id EAA24328;
	Fri, 21 Dec 2001 04:38:35 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id EAA24300
	for <sip@optimus.ietf.org>; Fri, 21 Dec 2001 04:38:32 -0500 (EST)
Received: from mail6.microsoft.com (mail6.microsoft.com [131.107.3.126])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id EAA20641
	for <sip@ietf.org>; Fri, 21 Dec 2001 04:38:29 -0500 (EST)
Received: from inet-vrs-06.redmond.corp.microsoft.com ([157.54.6.195]) by mail6.microsoft.com with Microsoft SMTPSVC(5.0.2195.2966);
	 Fri, 21 Dec 2001 01:38:01 -0800
Received: from 157.54.8.23 by inet-vrs-06.redmond.corp.microsoft.com (InterScan E-Mail VirusWall NT); Fri, 21 Dec 2001 01:38:01 -0800
Received: from red-msg-12.redmond.corp.microsoft.com ([157.54.2.26]) by inet-hub-01.redmond.corp.microsoft.com with Microsoft SMTPSVC(5.0.2195.2966);
	 Fri, 21 Dec 2001 01:38:01 -0800
X-MimeOLE: Produced By Microsoft Exchange V6.0.5762.3
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/mixed;
	boundary="------------InterScan_NT_MIME_Boundary"
Date: Fri, 21 Dec 2001 01:37:59 -0800
Message-ID: <E5B814702B65CB4DA51644580E4853FB017905CF@red-msg-12.redmond.corp.microsoft.com>
Thread-Topic: 200 for INFO
Thread-Index: AcGKAyIQMgLZpZyTRx++V/CE1CzOSQ==
From: "Aaron Lo" <aaronlo@microsoft.com>
To: <sip@ietf.org>
X-OriginalArrivalTime: 21 Dec 2001 09:38:01.0189 (UTC) FILETIME=[2E72B950:01C18A03]
Subject: [Sip] 200 for INFO
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

This is a multi-part message in MIME format.

--------------InterScan_NT_MIME_Boundary
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C18A03.2D660617"

------_=_NextPart_001_01C18A03.2D660617
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

Hi all,

=20

In RFC2976 SIP INFO Method sec 2.2 page 3, it reads=20

=20

   A 200 OK response MUST be sent by a UAS for an INFO request with
   no message body if the INFO request was successfully received for
   an existing call.  Beyond that, no additional operations are
   required.

=20

Does it mean that the 200 OK should not contain a message body, or does
it mean that a 200 OK should be sent even if the INFO does not contain a
message body? Can someone clarify? Thanks.

=20

Aaron


------_=_NextPart_001_01C18A03.2D660617
Content-Type: text/html;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

<html>

<head>
<META HTTP-EQUIV=3D"Content-Type" CONTENT=3D"text/html; =
charset=3Dus-ascii">


<meta name=3DGenerator content=3D"Microsoft Word 10 (filtered)">

<style>
<!--
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin:0in;
	margin-bottom:.0001pt;
	font-size:12.0pt;
	font-family:"Times New Roman";}
a:link, span.MsoHyperlink
	{color:blue;
	text-decoration:underline;}
a:visited, span.MsoHyperlinkFollowed
	{color:purple;
	text-decoration:underline;}
pre
	{margin:0in;
	margin-bottom:.0001pt;
	font-size:10.0pt;
	font-family:"Courier New";}
span.EmailStyle17
	{font-family:Arial;
	color:windowtext;}
@page Section1
	{size:8.5in 11.0in;
	margin:1.0in 1.25in 1.0in 1.25in;}
div.Section1
	{page:Section1;}
-->
</style>

</head>

<body lang=3DEN-US link=3Dblue vlink=3Dpurple>

<div class=3DSection1>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'>Hi all,</span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'>&nbsp;</span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'>In RFC2976 SIP INFO Method sec 2.2 page 3, it reads =
</span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'>&nbsp;</span></font></p>

<pre><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:10.0pt'>&nbsp;&nbsp; A 200 OK response MUST be sent =
by a UAS for an INFO request with</span></font></pre><pre><font
size=3D2 face=3D"Courier New"><span =
style=3D'font-size:10.0pt'>&nbsp;&nbsp; no message body if the INFO =
request was successfully received for</span></font></pre><pre><font
size=3D2 face=3D"Courier New"><span =
style=3D'font-size:10.0pt'>&nbsp;&nbsp; an existing call. &nbsp;Beyond =
that, no additional operations are</span></font></pre><pre><font
size=3D2 face=3D"Courier New"><span =
style=3D'font-size:10.0pt'>&nbsp;&nbsp; required.</span></font></pre>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'>&nbsp;</span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'>Does it mean that the 200 OK should not contain a =
message
body, or does it mean that a 200 OK should be sent even if the INFO does =
not contain
a message body? Can someone clarify? Thanks.</span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'>&nbsp;</span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'>Aaron</span></font></p>

</div>

</body>

</html>

------_=_NextPart_001_01C18A03.2D660617--

--------------InterScan_NT_MIME_Boundary--


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Fri Dec 21 05:42:25 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id FAA21266
	for <sip-archive@odin.ietf.org>; Fri, 21 Dec 2001 05:42:25 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id FAA26047
	for sip-archive@odin.ietf.org; Fri, 21 Dec 2001 05:42:28 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id FAA25046;
	Fri, 21 Dec 2001 05:02:53 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id FAA25015
	for <sip@optimus.ietf.org>; Fri, 21 Dec 2001 05:02:51 -0500 (EST)
Received: from broadsof.temp.veriohosting.com (broadsof.temp.veriohosting.com [161.58.239.68])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id FAA20783
	for <sip@ietf.org>; Fri, 21 Dec 2001 05:02:47 -0500 (EST)
Received: from tate ([64.243.180.244]) by broadsof.temp.veriohosting.com (8.11.6) id fBLA2oR16116; Fri, 21 Dec 2001 05:02:50 -0500 (EST)
Reply-To: <brett@broadsoft.com>
From: "Brett Tate" <brett@broadsoft.com>
To: <sip@ietf.org>
Subject: RE: [Sip] 200 for INFO
Date: Fri, 21 Dec 2001 05:04:38 -0500
Message-ID: <000e01c18a06$e77fe500$2b01a8c0@broadsoft.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook CWS, Build 9.0.2416 (9.0.2911.0)
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4522.1200
Importance: Normal
In-Reply-To: <E5B814702B65CB4DA51644580E4853FB017905CF@red-msg-12.redmond.corp.microsoft.com>
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

> In RFC2976 SIP INFO Method sec 2.2 page 3, it reads 
> 
>   A 200 OK response MUST be sent by a UAS for an INFO request with
>   no message body if the INFO request was successfully received for
>   an existing call.  Beyond that, no additional operations are
>   required.
>
> Does it mean that the 200 OK should not contain a 
> message body, or does it mean that a 200 OK 
> should be sent even if the INFO does not contain a 
> message body? Can someone clarify? Thanks.

It means that an INFO without a message body 
is valid within an existing dialogue.  A 200 OK 
MUST be sent in response to it.

Such functionality is mainly used to check
the status of the dialogue since a 481 MUST
be sent if the dialogue does not exist.


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Fri Dec 21 07:04:17 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id HAA22148
	for <sip-archive@odin.ietf.org>; Fri, 21 Dec 2001 07:04:17 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id HAA28486
	for sip-archive@odin.ietf.org; Fri, 21 Dec 2001 07:04:19 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id GAA27588;
	Fri, 21 Dec 2001 06:47:16 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id GAA27555
	for <sip@optimus.ietf.org>; Fri, 21 Dec 2001 06:47:13 -0500 (EST)
Received: from wiproecmx1.wipro.com (wiproecmx1.wipro.com [164.164.31.5])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id GAA22019
	for <sip@ietf.org>; Fri, 21 Dec 2001 06:47:07 -0500 (EST)
Received: from ecvwall1.wipro.com (ecvwall1.wipro.com [164.164.23.6])
	by wiproecmx1.wipro.com (8.11.3/8.11.3) with SMTP id fBLBkV128487
	for <sip@ietf.org>; Fri, 21 Dec 2001 17:16:31 +0530 (IST)
Received: from rejani ([192.168.178.62]) by
          ecmail.mail.wipro.com (Netscape Messaging Server 4.15) with
          ESMTP id GOOZDJ01.OGH; Fri, 21 Dec 2001 17:16:31 +0530 
From: "REJANI DEVI S" <rejani.devi@wipro.com>
To: "Vijay Gurbani" <vkg@lucent.com>,
        "Jonathan Rosenberg" <jdrosen@dynamicsoft.com>
Cc: <sip@ietf.org>
Subject: RE: [Sip] Open Issue #144: Branch ID  + isCancel() as transaction ID
Date: Fri, 21 Dec 2001 17:18:36 +0530
Message-ID: <NFBBJDCDJDBCANBEGNKGIELMCGAA.rejani.devi@wipro.com>
MIME-Version: 1.0
Content-Type: multipart/mixed;
	boundary="----=_NextPartTM-000-898cf4a1-f607-11d5-a940-00b0d0d06be8"
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
X-MimeOLE: Produced By Microsoft MimeOLE V5.00.2314.1300
Importance: Normal
In-Reply-To: <3C150082.E56AF50@lucent.com>
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org


This is a multi-part message in MIME format.

------=_NextPartTM-000-898cf4a1-f607-11d5-a940-00b0d0d06be8
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit

> Bis-05 has taken a big step forward with a rigorous definition of
> transaction, which makes it clear that its a single "branch" in the tree
> of requests formed when a UAC sends a request through a bunch of proxies.
> That is, the To/From/CSeq/Call-ID identify the root of this tree, and the
> Via branch + r-uri further identify each branch in the tree. Based on
> this, it is natural to take the final step, and define the transaction ID
> for a request/response MUCH more simply - it is the value of the branch ID
> in the topmost via, with the small caveat that CANCEL has the same branch
> ID, but its a different transaction.

Also that ACKs for non-2xx response must have the same branch ID as the
INVITE did.

[Rejani]
Wondering if there is a typo in bis 05; Sec 17.2.3 line 2768...

"The ACK request matches a transaction if the Request URI, From, Call-Id,
CSeq Method (not the number), and top Via header match those of the INVITE
request which created the transaction .."
Shouldn't it be "CSeq Number (not the method)".

Also, can you confirm if we are referring to only the CSeq Number part
in the branch id calculation?

thank you,
Rejani

> Proposal:
>
> Allow for branch ID to be the transaction ID, by taking the steps
> described above.

Fine.

- vijay
--
Vijay K. Gurbani  vkg@{lucent.com,research.bell-labs.com,acm.org}
Internet Software and eServices Group
Lucent Technologies/Bell Labs Innovations, 2000 Lucent Lane, Rm 6G-440
Naperville, Illinois 60566     Voice: +1 630 224 0216   Fax: +1 630 713 0184

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


------=_NextPartTM-000-898cf4a1-f607-11d5-a940-00b0d0d06be8
Content-Type: text/plain;
	name="Wipro_Disclaimer.txt"
Content-Disposition: attachment;
	filename="Wipro_Disclaimer.txt"
Content-Transfer-Encoding: 7bit

-----------------------------------------------------------------------------------------------------------------------
Information transmitted by this E-MAIL is proprietary to Wipro and/or its Customers and
is intended for use only by the individual or entity to which it is
addressed, and may contain information that is privileged, confidential or
exempt from disclosure under applicable law. If you are not the intended
recipient or it appears that this mail has been forwarded to you without
proper authority, you are notified that any use or dissemination of this
information in any manner is strictly prohibited. In such cases, please
notify us immediately at mailto:mailadmin@wipro.com and delete this mail
from your records.
------------------------------------------------------------------------------------------------------------------------

------=_NextPartTM-000-898cf4a1-f607-11d5-a940-00b0d0d06be8--

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Fri Dec 21 07:55:24 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id HAA23232
	for <sip-archive@odin.ietf.org>; Fri, 21 Dec 2001 07:55:24 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id HAA01520
	for sip-archive@odin.ietf.org; Fri, 21 Dec 2001 07:55:27 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id HAA00770;
	Fri, 21 Dec 2001 07:43:06 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id HAA00628
	for <sip@optimus.ietf.org>; Fri, 21 Dec 2001 07:42:57 -0500 (EST)
Received: from parajura.ns.parajura.net ([61.79.230.195])
	by ietf.org (8.9.1a/8.9.1a) with SMTP id HAA22825
	for <sip@ietf.org>; Fri, 21 Dec 2001 07:42:53 -0500 (EST)
Received: from m8f4n7 (unverified [211.41.61.1]) by parajura.ns.parajura.net
 (EMWAC SMTPRS 0.83) with SMTP id <B0000150332@parajura.ns.parajura.net>;
 Fri, 21 Dec 2001 21:27:04 +0900
Message-ID: <B0000150332@parajura.ns.parajura.net>
From: =?ks_c_5601-1987?B?x9G8rrrA?= <hansb@hanmail.net>
To: sip@ietf.org
Date: Fri, 21 Dec 2001 09:33:30 +0900
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0097_01C0F21A.93A33C00"
X-Priority: 3
Subject: [Sip] =?ks_c_5601-1987?B?W8GkurhdIKHaILXltvPAzLrqIMTavbogvsizuw==?=
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

This is a multi-part message in MIME format.

------=_NextPart_000_0097_01C0F21A.93A33C00
Content-Type: text/plain;
	charset="ks_c_5601-1987"
Content-Transfer-Encoding: base64

Ojo6Ojo6OiDD38O1ISC15bbzwMy66sTavbogOjo6Ojo6OiAgICAgICAgICAgICAgICAgICAg
ICAgICA=

------=_NextPart_000_0097_01C0F21A.93A33C00
Content-Type: text/html;
	charset="ks_c_5601-1987"
Content-Transfer-Encoding: base64

PGh0bWw+DQo8aGVhZD4NCjx0aXRsZT46Ojo6Ojo6IMPfw7UhILXltvPAzLrqxNq9uiA6Ojo6
Ojo6PC90aXRsZT4NCjxtZXRhIGh0dHAtZXF1aXY9IkNvbnRlbnQtVHlwZSIgY29udGVudD0i
dGV4dC9odG1sOyBjaGFyc2V0PWV1Yy1rciI+DQo8L2hlYWQ+DQoNCjxib2R5IGJnY29sb3I9
IiNGRkZGRkYiIHRleHQ9IiMwMDAwMDAiIGxlZnRtYXJnaW49IjAiIHRvcG1hcmdpbj0iMCI+
DQo8dGFibGUgd2lkdGg9IjYwMCIgYm9yZGVyPSIwIiBjZWxsc3BhY2luZz0iMCIgY2VsbHBh
ZGRpbmc9IjAiPg0KICA8dHI+DQogICAgPHRkIHZhbGlnbj0idG9wIj48aW1nIHNyYz0iaHR0
cDovL3BhcmFqdXJhLmNvbS9zcF9tYWlsL2ltYWdlL2RyaXZlY291cnNlMV8xLmdpZiIgd2lk
dGg9IjYwMCIgaGVpZ2h0PSI4MiI+PC90ZD4NCiAgPC90cj4NCiAgPHRyPg0KICAgIDx0ZCB2
YWxpZ249InRvcCI+PGltZyBzcmM9Imh0dHA6Ly9wYXJhanVyYS5jb20vc3BfbWFpbC9pbWFn
ZS9kcml2ZWNvdXJzZTFfMi5naWYiIHdpZHRoPSI2MDAiIGhlaWdodD0iMTY1Ij48L3RkPg0K
ICA8L3RyPg0KICA8dHI+DQogICAgPHRkIHZhbGlnbj0idG9wIj48aW1nIHNyYz0iaHR0cDov
L3BhcmFqdXJhLmNvbS9zcF9tYWlsL2ltYWdlL2RyaXZlY291cnNlMV8zLmdpZiIgd2lkdGg9
IjYwMCIgaGVpZ2h0PSIyMDMiIHVzZW1hcD0iI01hcDIiIGJvcmRlcj0iMCI+PC90ZD4NCiAg
PC90cj4NCiAgPHRyPg0KICAgIDx0ZCB2YWxpZ249InRvcCI+PGltZyBzcmM9Imh0dHA6Ly9w
YXJhanVyYS5jb20vc3BfbWFpbC9pbWFnZS9kcml2ZWNvdXJzZTFfNC5naWYiIHdpZHRoPSI2
MDAiIGhlaWdodD0iMjEiIHVzZW1hcD0iI01hcCIgYm9yZGVyPSIwIj48L3RkPg0KICA8L3Ry
Pg0KICA8dHI+DQogICAgPHRkIHZhbGlnbj0idG9wIj48aW1nIHNyYz0iaHR0cDovL3BhcmFq
dXJhLmNvbS9zcF9tYWlsL2ltYWdlL2RyaXZlY291cnNlMV81LmdpZiIgd2lkdGg9IjYwMCIg
aGVpZ2h0PSIxOTgiPjwvdGQ+DQogIDwvdHI+DQogIDx0cj4NCiAgICA8dGQgdmFsaWduPSJ0
b3AiPjxpbWcgc3JjPSJodHRwOi8vcGFyYWp1cmEuY29tL3NwX21haWwvaW1hZ2UvZHJpdmVj
b3Vyc2UxXzYuZ2lmIiB3aWR0aD0iNjAwIiBoZWlnaHQ9IjM5IiB1c2VtYXA9IiNNYXAzIiBi
b3JkZXI9IjAiPjwvdGQ+DQogIDwvdHI+DQogIDx0cj4NCiAgICA8dGQgdmFsaWduPSJ0b3Ai
PjxpbWcgc3JjPSJodHRwOi8vcGFyYWp1cmEuY29tL3NwX21haWwvaW1hZ2UvZHJpdmVjb3Vy
c2UxXzcuZ2lmIiB3aWR0aD0iNjAwIiBoZWlnaHQ9IjYzIiB1c2VtYXA9IiNNYXA0IiBib3Jk
ZXI9IjAiPjwvdGQ+DQogIDwvdHI+DQo8L3RhYmxlPg0KPG1hcCBuYW1lPSJNYXAiPg0KICA8
YXJlYSBzaGFwZT0icmVjdCIgY29vcmRzPSIxMTksMSwxNzIsMjEiIGhyZWY9Imh0dHA6Ly8y
MjAwNDk4OS5jb20vbWVtYmVyc2hpcC9tZW1iZXJfZ2FpcC5hc3AiIHRhcmdldD0iX2JsYW5r
Ij4NCjwvbWFwPg0KPG1hcCBuYW1lPSJNYXAyIj4NCiAgPGFyZWEgc2hhcGU9InJlY3QiIGNv
b3Jkcz0iMTcsNDMsNTgzLDIwMCIgaHJlZj0iaHR0cDovLzIyMDA0OTg5LmNvbSIgdGFyZ2V0
PSJfYmxhbmsiPg0KPC9tYXA+DQo8bWFwIG5hbWU9Ik1hcDMiPg0KICA8YXJlYSBzaGFwZT0i
cmVjdCIgY29vcmRzPSIxOTksMiwzODUsNDgiIGhyZWY9Imh0dHA6Ly8yMjAwNDk4OS5jb20i
IHRhcmdldD0iX2JsYW5rIj4NCjwvbWFwPg0KPG1hcCBuYW1lPSJNYXA0Ij4NCiAgPGFyZWEg
c2hhcGU9InJlY3QiIGNvb3Jkcz0iMTQ5LDQyLDIwMiw1NyIgaHJlZj0ibWFpbHRvOmNvcmVA
cGFyYWp1cmEuY29tIj4NCjwvbWFwPg0KPC9ib2R5Pg0KPC9odG1sPg0K

------=_NextPart_000_0097_01C0F21A.93A33C00--


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@ns.ietf.org  Fri Dec 21 12:13:11 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA26810
	for <sip-archive@odin.ietf.org>; Fri, 21 Dec 2001 12:13:11 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id MAA08970
	for sip-archive@odin.ietf.org; Fri, 21 Dec 2001 12:13:14 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA08630;
	Fri, 21 Dec 2001 12:00:56 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA08580
	for <sip@ns.ietf.org>; Fri, 21 Dec 2001 12:00:52 -0500 (EST)
Received: from bdsl.66.12.12.130.gte.net (bdsl.66.12.12.130.gte.net [66.12.12.130])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA26536
	for <sip@ietf.org>; Fri, 21 Dec 2001 12:00:48 -0500 (EST)
Received: from cowboys (localhost.localdomain [127.0.0.1])
	by bdsl.66.12.12.130.gte.net (8.11.2/8.11.2) with SMTP id fBLI3tb12227;
	Fri, 21 Dec 2001 12:03:56 -0600
Message-ID: <013001c18a41$9df23c90$01000001@dynamicsoft.com>
From: "Dean Willis" <dean.willis@softarmor.com>
To: "Purcell Michael-QA3001" <QA3001@motorola.com>, <sip@ietf.org>
References: <A3072CA86761D511899F009027E796D2013A931F@az33exm04.corp.mot.com>
Subject: Re: [Sip] draft-ietf-sip-state-02
Date: Fri, 21 Dec 2001 11:04:56 -0600
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2600.0000
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Yes, no, and maybe . . .

There are two drafts that provide roughly similar functionality -- the "SIP
State" draft, and the "SIP Cookies" draft. The SIP State draft is an
outgrowth of the DCS work. The SIP Cookies draft is basically just a
cut-and-paste from the HTTP cookie specification, just as much of of the SIP
syntax was similarly adapted.

We (IETF) have been properly notified by of IPR claims against both drafts
by AT&T and 3Com, and all of the implementers that I know of are held up in
trying to figure out the implications of those claims. The manyfolks and
media-auth drafts have similar issues, but are also high priority for 3GPP.

I believe that the authors of State recently said that they had some
suggestions for improving the Cookies draft, and might find the resulting
syntax compatibility with HTTP to be beneficent.

However, until it looks like somedbody is likely to actually implement the
resulting spec, we have no real constituency for the work, and it's likely
to get deferred in favor of other work which has better traction.

Speaking strictly from personal opinion (I'm onot a lawyer and don't play
one on TV)  I think it is more likely that the Cookies draft will proceed,
as the general syntax is likely to be protected by prior art  (it is just
cut and paste from HTTP specs). However, the way that one USES a cookie is
probably subject to process patent claims, and that's where it gets
interesting -- look at the HTML-shopping-cart lawsuits of the last few
years.

How about some feedback from the list here? Do we have a clear preference
for state vs cookies?

--
Dean


----- Original Message -----
From: "Purcell Michael-QA3001" <QA3001@motorola.com>
To: <sip@ietf.org>
Sent: Wednesday, December 19, 2001 3:31 PM
Subject: [Sip] draft-ietf-sip-state-02


> Is there a time lime when the sip-state will be formalized into an RFC, or
has there been little interest?
>
> Thanks Mike Purcell
>
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
>
>


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@ns.ietf.org  Fri Dec 21 15:14:11 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA01192
	for <sip-archive@odin.ietf.org>; Fri, 21 Dec 2001 15:14:10 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id PAA14946
	for sip-archive@odin.ietf.org; Fri, 21 Dec 2001 15:14:14 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id OAA14314;
	Fri, 21 Dec 2001 14:55:06 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id OAA14283
	for <sip@ns.ietf.org>; Fri, 21 Dec 2001 14:54:58 -0500 (EST)
Received: from sj-msg-core-1.cisco.com (sj-msg-core-1.cisco.com [171.71.163.11])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id OAA00783
	for <sip@ietf.org>; Fri, 21 Dec 2001 14:54:54 -0500 (EST)
Received: from mira-sjc5-7.cisco.com (mira-sjc5-7.cisco.com [171.71.163.27])
	by sj-msg-core-1.cisco.com (8.11.3/8.9.1) with ESMTP id fBLJsFY02626;
	Fri, 21 Dec 2001 11:54:15 -0800 (PST)
Received: from thomasm-u1.cisco.com (thomasm-u1.cisco.com [128.107.140.53])
	by mira-sjc5-7.cisco.com (Mirapoint)
	with ESMTP id AAO41673;
	Fri, 21 Dec 2001 11:53:41 -0800 (PST)
Received: (thomasm@localhost) by thomasm-u1.cisco.com (8.8.8-Cisco List Logging/CISCO.WS.1.2) id LAA06985; Fri, 21 Dec 2001 11:54:14 -0800 (PST)
From: Michael Thomas <mat@cisco.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <15395.37734.689612.804609@thomasm-u1.cisco.com>
Date: Fri, 21 Dec 2001 11:54:14 -0800 (PST)
To: "Dean Willis" <dean.willis@softarmor.com>
Cc: "Purcell Michael-QA3001" <QA3001@motorola.com>, <sip@ietf.org>
Subject: Re: [Sip] draft-ietf-sip-state-02
In-Reply-To: <013001c18a41$9df23c90$01000001@dynamicsoft.com>
References: <A3072CA86761D511899F009027E796D2013A931F@az33exm04.corp.mot.com>
	<013001c18a41$9df23c90$01000001@dynamicsoft.com>
X-Mailer: VM 6.72 under 21.1 (patch 6) "Big Bend" XEmacs Lucid
X-Face: &,heK/V66p?[2!i|tVn,9lN0TUvEv7:9FzXREj/AuzN4m<D]vnFJ>u!4x[/Z4t{V}~L]+Sk
 @RFNnJEg~WZ/(8<`5a),-7ukALWa^&?&D2R0CSG3kO5~#6JxLF\d,g">$%B!0w{W)qIhmwhye104zd
 bUcI'1!
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit


I guess I don't see what the point of changing
this is if the interesting uses of state are still
protected by IPR. 

?

		Mike

Dean Willis writes:
 > Yes, no, and maybe . . .
 > 
 > There are two drafts that provide roughly similar functionality -- the "SIP
 > State" draft, and the "SIP Cookies" draft. The SIP State draft is an
 > outgrowth of the DCS work. The SIP Cookies draft is basically just a
 > cut-and-paste from the HTTP cookie specification, just as much of of the SIP
 > syntax was similarly adapted.
 > 
 > We (IETF) have been properly notified by of IPR claims against both drafts
 > by AT&T and 3Com, and all of the implementers that I know of are held up in
 > trying to figure out the implications of those claims. The manyfolks and
 > media-auth drafts have similar issues, but are also high priority for 3GPP.
 > 
 > I believe that the authors of State recently said that they had some
 > suggestions for improving the Cookies draft, and might find the resulting
 > syntax compatibility with HTTP to be beneficent.
 > 
 > However, until it looks like somedbody is likely to actually implement the
 > resulting spec, we have no real constituency for the work, and it's likely
 > to get deferred in favor of other work which has better traction.
 > 
 > Speaking strictly from personal opinion (I'm onot a lawyer and don't play
 > one on TV)  I think it is more likely that the Cookies draft will proceed,
 > as the general syntax is likely to be protected by prior art  (it is just
 > cut and paste from HTTP specs). However, the way that one USES a cookie is
 > probably subject to process patent claims, and that's where it gets
 > interesting -- look at the HTML-shopping-cart lawsuits of the last few
 > years.
 > 
 > How about some feedback from the list here? Do we have a clear preference
 > for state vs cookies?
 > 
 > --
 > Dean
 > 
 > 
 > ----- Original Message -----
 > From: "Purcell Michael-QA3001" <QA3001@motorola.com>
 > To: <sip@ietf.org>
 > Sent: Wednesday, December 19, 2001 3:31 PM
 > Subject: [Sip] draft-ietf-sip-state-02
 > 
 > 
 > > Is there a time lime when the sip-state will be formalized into an RFC, or
 > has there been little interest?
 > >
 > > Thanks Mike Purcell
 > >
 > > _______________________________________________
 > > Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
 > > This list is for NEW development of the core SIP Protocol
 > > Use sip-implementors@cs.columbia.edu for questions on current sip
 > > Use sipping@ietf.org for new developments on the application of sip
 > >
 > >
 > 
 > 
 > _______________________________________________
 > Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
 > This list is for NEW development of the core SIP Protocol
 > Use sip-implementors@cs.columbia.edu for questions on current sip
 > Use sipping@ietf.org for new developments on the application of sip

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@ns.ietf.org  Fri Dec 21 17:31:17 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id RAA03246
	for <sip-archive@odin.ietf.org>; Fri, 21 Dec 2001 17:31:12 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id RAA18524
	for sip-archive@odin.ietf.org; Fri, 21 Dec 2001 17:31:15 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id RAA18030;
	Fri, 21 Dec 2001 17:19:28 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id RAA17999
	for <sip@ns.ietf.org>; Fri, 21 Dec 2001 17:19:25 -0500 (EST)
Received: from nisser.cisco.com (nisser.cisco.com [171.71.176.85])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id RAA03125
	for <sip@ietf.org>; Fri, 21 Dec 2001 17:19:22 -0500 (EST)
Received: from cisco.com (ssh-sj1.cisco.com [171.68.225.134]) by nisser.cisco.com (8.8.6 (PHNE_14041)/CISCO.SERVER.1.2) with ESMTP id OAA07552; Fri, 21 Dec 2001 14:18:33 -0800 (PST)
Message-ID: <3C23B559.CFA94263@cisco.com>
Date: Fri, 21 Dec 2001 17:19:06 -0500
From: Flemming Andreasen <fandreas@cisco.com>
Organization: Cisco Systems
X-Mailer: Mozilla 4.78 [en]C-CCK-MCD   (Windows NT 5.0; U)
X-Accept-Language: en
MIME-Version: 1.0
To: Mark Watson <mwatson@nortelnetworks.com>
CC: Jonathan Rosenberg <jdrosen@dynamicsoft.com>, brett@broadsoft.com,
        sip@ietf.org
Subject: Re: [Sip] Open Issue #188: Reply-To
References: <001701c18947$b8a096e0$09a8a02f@mwatson3>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit



Mark Watson wrote:

> A Reply-To identity supplied by the user has to be treated with a
> certain amount of caution, since the user could include any identity
> at all. There are obvious scams where people send out calls with a
> Reply-To of some premium rate number etc.
>
> But this is the case with lots of e2e information - as long as the
> status of the information is clear, there should not be a problem
> (i.e. 'user beware')
>
> However, it shows that a Reply-To identity which has in some way been
> verified by the outgoing proxy would have some value. Indeed, the
> ability to have some network-vouched-for Reply-To identity is a
> value-added service in itself that the outgoing proxy can provide.
>

Anything can be a value-added service, but where do we draw the line ? I
could make the exact same arguments for e.g. a Contact header and hence
we should start providing network authenticated Contact headers. We can
probably find lots more if we start looking. Unless we can find a good
real-life example where this kind of functionality would be important,
I'd leave it out.

>
> The intention of the RPI 'return' type was to provide both (user
> provided, and network verified).

I'm not so sure about the network verified part. I think we simply
started using the RPI for all kinds of identity information with little
consideration as to whether it made sense to have it authenticated or
not. The privacy-03 draft has corrected this my only letting the RPI
header apply to identity information that should be verified by the
network.

> It seems to me that a wheel has been removed from the privacy draft
> and half of it is being re-invented.

> I thought the aim of PRI was to be generic, so that one capability
> could be re-used whenever a similar requirement emerged.
>

Right, however we tried refining it to only address network
authenticated identity information. You could of course define another
similar header that addressed not-network authenticated identity
information, but there's not much difference between defining new
individual headers (e.g. Reply-To) versus defining new types in a more
generic typed "user-provided identity" header (ala Remote-Party-ID).

-- Flemming


>
> Just a final point on IPR - AFAIK you don't get IPR on a syntax. So if
> there is IPR on the RPI header, there would be IPR on other syntaxes
> for the same thing e.g. Reply-To, From etc. I would doubt that there
> is any real IPR on these things, as identities of these kinds have
> been carried in the PSTN for years.
>
> ...Mark
>
> -----Original Message-----
> From: Flemming Andreasen [mailto:fandreas@cisco.com]
> Sent: 10 December 2001 06:16
> To: Jonathan Rosenberg
> Cc: 'brett@broadsoft.com'; sip@ietf.org
> Subject: Re: [Sip] Open Issue #188: Reply-To
>
> The old privacy-02 draft had a "return" rpi-id-type defined just for
> this,
> however with the refined scope in the new privacy-03 draft, which only
> addresses
> network authenticated (and provided) identity information, it was
> removed. Since
> the UA is presumably the one that determines where it would like
> return calls to
> go, another header would make sense. Privacy of such a header is
> trivially
> handled by the UA by simply not supplying it (recall that the reason
> for
> encrypting the Remote-Party-ID rather than just removing it is to
> allow for
> things like call trace), unless you are looking for some kind of
> "scoped"
> privacy (I hope not). I agree that simply adding a Reply-To header to
> bis for
> this would make sense.
>
> -- Flemming
>
> Jonathan Rosenberg wrote:
>
> >
> >
> > > -----Original Message-----
> > > From: Brett Tate [mailto:brett@broadsoft.com]
> > > Sent: Friday, December 07, 2001 4:21 AM
> > > To: sip@ietf.org
> > > Subject: RE: [Sip] Open Issue #188: Reply-To
> > >
> > > > Proposal:
> > > >
> > > > Its simple. Its compatible. Its well understood. Its going to
> > > > really be
> > > > needed for MESSAGE, probably other things. Let us take the
> > > > simple route and
> > > > add it.
> > >
> > > It seems like an ideal candidate for a
> > > new extension draft or a new version of
> > > sip-privacy.
> >
> > The question is whether this is trivial enough to just put into bis
> rather
> > than write a separate 1 page I-D for it. sip-privacy is, I think,
> different.
> > More below.
> >
> > >
> > > What is its relationship to >From and
> > > Remote-Party-ID?
> >
> > >From is who sent the request.
> > Reply-To is to whom you should call-back later if you want to talk
> again.
> > Not necessarily the same, just as they aren't the same in email.
> >
> > Remote-Party-ID provides network authenticated identities. Reply-To
> is
> > provided by the client. If the network wanted to provide what it
> believes is
> > the true reply-to address, it would, in theory, insert a R-P-ID with
> id-type
> > "reply-to" or some other such thing. However, I don't think there is
> much
> > value in that. Who cares what the network provider thought your
> reply-to
> > should really be?
> >
> > >
> > > How many entries can it contain?
> >
> > One.
> >
> > > If more
> > > than 1, should something like a q-value
> > > be present to communicate the meaning of
> > > more than 1 value being present?
> > >
> > > Should it contain an expiration value?
> >
> > No. KISS. If its good enough for email, its good enough for us.
> >
> > >
> > > Should it have a similar definition to
> > > Remote-Party-ID so that privacy and trust
> > > issues can be communicated?
> >
> > There are privacy implications, yes. I don't think we need a new
> R-P-ID
> > type, as I discuss above, but if privacy is requested, I would
> imagine that
> > the reply-to would be stripped at the edge, else encrypted or some
> other
> > such thing, as R-P-ID would.
> >
> > -Jonathan R.
> > ---
> > Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
> > Chief Scientist                             First Floor
> > dynamicsoft                                 East Hanover, NJ 07936
> > jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
> > http://www.jdrosen.net                      PHONE: (973) 952-5000
> > http://www.dynamicsoft.com
> >
> > _______________________________________________
> > Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> > This list is for NEW development of the core SIP Protocol
> > Use sip-implementors@cs.columbia.edu for questions on current sip
> > Use sipping@ietf.org for new developments on the application of sip
>
> --
> Flemming Andreasen
> Cisco Systems
>
>
>
>
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip

--
Flemming Andreasen
Cisco Systems



_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Mon Dec 24 15:57:26 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA24930
	for <sip-archive@odin.ietf.org>; Mon, 24 Dec 2001 15:57:25 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id PAA12681
	for sip-archive@odin.ietf.org; Mon, 24 Dec 2001 15:57:28 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id PAA12080;
	Mon, 24 Dec 2001 15:29:39 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id PAA12049
	for <sip@optimus.ietf.org>; Mon, 24 Dec 2001 15:29:36 -0500 (EST)
Received: from mail3.dynamicsoft.com ([63.113.44.69])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA24752
	for <sip@ietf.org>; Mon, 24 Dec 2001 15:29:33 -0500 (EST)
Received: from dynamicsoft.com ([63.113.46.54])
	by mail3.dynamicsoft.com (8.12.1/8.12.1) with ESMTP id fBOKTUVZ002252
	for <sip@ietf.org>; Mon, 24 Dec 2001 15:29:30 -0500 (EST)
Message-ID: <3C279012.1090706@dynamicsoft.com>
Date: Mon, 24 Dec 2001 15:29:06 -0500
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:0.9.4) Gecko/20011128 Netscape6/6.2.1
X-Accept-Language: en-us
MIME-Version: 1.0
To: sip@ietf.org
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Subject: [Sip] Very ROUGH thinking on DNS/SRV usage
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Folks,

I've cobbled together an update to the SRV usages document. It will live 
as a separate specification, outside of bis. The update is based on 
various comments from IESG and DNS experts. It is still in a state of 
flux, so please don't go off and implement it. Comments are welcome, of 
course.


Until it appears in the archives, you can pick up a copy at:
http://www.jdrosen.net/papers/draft-ietf-sip-srv-03.txt

Thanks,
Jonathan R.
-- 
Jonathan D. Rosenberg, Ph.D.            72 Eagle Rock Avenue
Chief Scientist                         First Floor
dynamicsoft                             East Hanover, NJ 07936
jdrosen@dynamicsoft.com                 FAX: (973) 952-5050
http://www.jdrosen.net                  PH:  (973) 952-5000
http://www.dynamicsoft.com


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Wed Dec 26 08:53:01 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id IAA17562
	for <sip-archive@odin.ietf.org>; Wed, 26 Dec 2001 08:53:01 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id IAA25505
	for sip-archive@odin.ietf.org; Wed, 26 Dec 2001 08:53:01 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id IAA25358;
	Wed, 26 Dec 2001 08:34:07 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id IAA25327
	for <sip@optimus.ietf.org>; Wed, 26 Dec 2001 08:34:04 -0500 (EST)
Received: from mailweb9.rediffmail.com ([203.199.83.21])
	by ietf.org (8.9.1a/8.9.1a) with SMTP id IAA17448
	for <sip@ietf.org>; Wed, 26 Dec 2001 08:34:00 -0500 (EST)
Received: (qmail 16873 invoked by uid 510); 26 Dec 2001 13:33:03 -0000
Date: 26 Dec 2001 13:33:03 -0000
Message-ID: <20011226133303.16872.qmail@mailweb9.rediffmail.com>
Received: from unknown (203.197.251.7) by rediffmail.com via HTTP; 26 Dec 2001 13:33:03 -0000
MIME-Version: 1.0
From: "Ashhar Farhan" <afarhan@rediffmail.com>
Reply-To: "Ashhar Farhan" <afarhan@rediffmail.com>
To: sip@ietf.org
Content-type: text/plain;
	charset=iso-8859-1
Content-Disposition: inline
Content-Transfer-Encoding: 8bit
X-MIME-Autoconverted: from quoted-printable to 8bit by optimus.ietf.org id IAA25328
Subject: [Sip] SIP and NAT
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 8bit


SIP and NAT

i have worked on an independent small footprint telephony protocol that works through the NAT and SOCKS 5 proxies. this is called the Lightweight Telephony Protocol. As this is SIP list and not LTP, i will not talk much about it. However, our last 2 years of experience in evolving the LTP tells us the following:

1. It is not enough that just SIP makes it through the NAT. Even the RTP packets have to make it through. Otherwise, SIP is useless for all practical telephony purpose (although messaging will still work).

2. While traversing either the NAT or the SOCKS 5 (UDP), the public Internet facing port is unknown by the user agent (on the intranet).

3. Therefore, there is no way to indicate the RTP's UDP port to the server.

4. The only way to implicitly signal the UDP port is by making the RTP/UDP and SIP/UDP ports the same. And signal this somehow in the SDP so that it means 'this very port used by the SIP'. this is sort of in-band signalling. The SIP and RTP packets are easily demultiplexed by looking at the first byte of the UDP packet.

5. there are three possible traversal behaviours with this scheme.

5.1 Client is NATted, server is not: in this case, the client will only be able to call the server if the INVITE arrives directly or after a redirect. The server will not be able to handle a proxy request because the port opened for the association between the proxy server and the client will not respond to the server->client UDP.

5.2: Server is NATted, client is not: in this case, the client will onlly be able to call the server if the request is proxied. This is because the port association would have been opened by the REGISTER message sent from the server to the proxy server (assuming that proxy and location servers are colocated and share the same port). In such a case, although the INVITE will be proxied, the response should be directly sent from the server to the client so that the port association is established at the server NAT between the client and the server.

5.
roxy for the RTP as well as SIP is required at a public IP address. There is no way to really talk from NAT to NAT.

6. it should be noted that most of the current long distance telephony operators are faced with 5.2 (client behind NAT) situation which this scheme solves.

the above behaviour assumes that we are using the regular NAT as opposed to making specific changes to the NAT implementation. The simplest change to NAT is that you should rewrite the SIP messages (just like NAT rewrites ftp port commands) to reflect the NAT ports.


- Ashhar Farhan
farhan@hotfoon123.com (remove 123 from the email-id) 


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Wed Dec 26 13:53:42 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id NAA19793
	for <sip-archive@odin.ietf.org>; Wed, 26 Dec 2001 13:53:41 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id NAA03087
	for sip-archive@odin.ietf.org; Wed, 26 Dec 2001 13:53:43 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id NAA02967;
	Wed, 26 Dec 2001 13:38:00 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id NAA02936
	for <sip@optimus.ietf.org>; Wed, 26 Dec 2001 13:37:58 -0500 (EST)
Received: from mailcity.com (fes-qout.whowhere.com [209.185.123.96])
	by ietf.org (8.9.1a/8.9.1a) with SMTP id NAA19620
	for <sip@ietf.org>; Wed, 26 Dec 2001 13:37:56 -0500 (EST)
Received: from Unknown/Local ([?.?.?.?]) by mailcity.com; Wed Dec 26 10:37:19 2001
To: "SIP" <sip@ietf.org>
Date: Wed, 26 Dec 2001 13:37:19 -0500
From: "Info Van" <infovaan@lycos.com>
Message-ID: <CJNLDHGMGLPDCAAA@mailcity.com>
Mime-Version: 1.0
X-Sent-Mail: on
Reply-To: infovaan@lycos.com
X-Mailer: MailCity Service
X-Priority: 3
X-Sender-Ip: 64.66.32.130
Organization: Lycos Mail  (http://mail.lycos.com:80)
Content-Type: text/plain; charset=us-ascii
Content-Language: en
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Subject: [Sip] unified call-control for SIP/PSTN i/w
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

hi,

i have a question for people implementing the SIP/PSTN gateways. and this is not a SIP question in itself, please excuse that. now it's quite likely that you have an integrated media-gateway, being controlled by the Call-Control thru MGCP or any proprietary interface towards the MG, but for SIP to PSTN and PSTN to SIP calls, does the call traverse one "Unified Call-Control" or two separate Call-Controls one for pure SIP to SIP call-control, the other for pure PSTN to PSTN call-control with a SIP-T translator inbetween ?? I see some obvious problems with this. 
1) the MGC portion which is kind-of sharing the same MG from both Call-Controls. both might need to do resource management, take care of race conditions (for same DSP resouce for example).
2) how are the features, say Conference (between SIP and PSTN) with Call Waiting (for SIP subscriber) interwork ?

this brings up a question in my mind, as to does the SIP call model (cc-model) completely encompass the AIN call model, or is the AIN call model completely encompass the SIP call model. If there is such a unified call-model which can encompass both SIP and AIN features (and obviously the more simplistic CLASS features), s.t. it can do :-
1) Generic Call Control (setup, manage, teardown calls between different bearers, s.a. SS7, ISDN, B-ISDN, RTP (managed by SIP))
2) Resource Management (for SS7 bearers, ISDN PRI, BRI, RTP streams)
3) Switching Control
4) Routing (between the various types of end-points or relay agents, s.a. SS7, ISDN, SIP etc.).
would it be able to server the purpose of SIP and PSTN call-control ??
does anyone see any problems with it ??

thanks,
iw.
---
---- Info Vaan is the way to go -------


--
Click here for your very own create-a-date adventure from MatchMaker
Go to http://ecard.matchmaker.com/dating.html

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Wed Dec 26 17:17:43 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id RAA21146
	for <sip-archive@odin.ietf.org>; Wed, 26 Dec 2001 17:17:43 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id RAA08054
	for sip-archive@odin.ietf.org; Wed, 26 Dec 2001 17:17:44 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id RAA07755;
	Wed, 26 Dec 2001 17:00:51 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id RAA07708
	for <sip@optimus.ietf.org>; Wed, 26 Dec 2001 17:00:48 -0500 (EST)
Received: from mail3.dynamicsoft.com ([63.113.44.69])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id RAA21031
	for <sip@ietf.org>; Wed, 26 Dec 2001 17:00:46 -0500 (EST)
Received: from dynamicsoft.com ([63.113.46.89])
	by mail3.dynamicsoft.com (8.12.1/8.12.1) with ESMTP id fBQM0aVZ002864;
	Wed, 26 Dec 2001 17:00:37 -0500 (EST)
Message-ID: <3C2A486A.4010708@dynamicsoft.com>
Date: Wed, 26 Dec 2001 17:00:10 -0500
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:0.9.4) Gecko/20011128 Netscape6/6.2.1
X-Accept-Language: en-us
MIME-Version: 1.0
To: Ashhar Farhan <afarhan@rediffmail.com>
CC: sip@ietf.org
Subject: Re: [Sip] SIP and NAT
References: <20011226133303.16872.qmail@mailweb9.rediffmail.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

You might actually try reading some of the work on traversing sip 
through non-ALG and non-midcom aware nats, before proposing solutions 
that break things in countless ways. You might be surpised to find that 
people have actually been working on it.

http://www.ietf.org/internet-drafts/draft-rosenberg-sipping-nat-scenarios-00.txt
http://www.ietf.org/internet-drafts/draft-rosenberg-midcom-stun-00.txt
http://www.ietf.org/internet-drafts/draft-rosenberg-midcom-turn-00.txt
http://search.ietf.org/internet-drafts/draft-davies-fw-nat-traversal-01.txt
http://search.ietf.org/internet-drafts/draft-sen-midcom-fw-nat-00.txt
http://www.ietf.org/internet-drafts/draft-ietf-mmusic-sdp4nat-00.txt

-Jonathan R.

Ashhar Farhan wrote:

> SIP and NAT
> 
> i have worked on an independent small footprint telephony protocol that
> works through the NAT and SOCKS 5 proxies. this is called the
> Lightweight Telephony Protocol. As this is SIP list and not LTP, i will
> not talk much about it. However, our last 2 years of experience in
> evolving the LTP tells us the following:
> 
> 1. It is not enough that just SIP makes it through the NAT. Even the RTP
> packets have to make it through. Otherwise, SIP is useless for all
> practical telephony purpose (although messaging will still work).
> 
> 2. While traversing either the NAT or the SOCKS 5 (UDP), the public
> Internet facing port is unknown by the user agent (on the intranet).
> 
> 3. Therefore, there is no way to indicate the RTP's UDP port to the
> server.
> 
> 4. The only way to implicitly signal the UDP port is by making the
> RTP/UDP and SIP/UDP ports the same. And signal this somehow in the SDP
> so that it means 'this very port used by the SIP'. this is sort of
> in-band signalling. The SIP and RTP packets are easily demultiplexed by
> looking at the first byte of the UDP packet.
> 
> 5. there are three possible traversal behaviours with this scheme.
> 
> 5.1 Client is NATted, server is not: in this case, the client will only
> be able to call the server if the INVITE arrives directly or after a
> redirect. The server will not be able to handle a proxy request because
> the port opened for the association between the proxy server and the
> client will not respond to the server->client UDP.
> 
> 5.2: Server is NATted, client is not: in this case, the client will
> onlly be able to call the server if the request is proxied. This is
> because the port association would have been opened by the REGISTER
> message sent from the server to the proxy server (assuming that proxy
> and location servers are colocated and share the same port). In such a
> case, although the INVITE will be proxied, the response should be
> directly sent from the server to the client so that the port association
> is established at the server NAT between the client and the server.
> 
> 5.
> roxy for the RTP as well as SIP is required at a public IP address.
> There is no way to really talk from NAT to NAT.
> 
> 6. it should be noted that most of the current long distance telephony
> operators are faced with 5.2 (client behind NAT) situation which this
> scheme solves.
> 
> the above behaviour assumes that we are using the regular NAT as opposed
> to making specific changes to the NAT implementation. The simplest
> change to NAT is that you should rewrite the SIP messages (just like NAT
> rewrites ftp port commands) to reflect the NAT ports.
> 
> 
> - Ashhar Farhan
> farhan@hotfoon123.com (remove 123 from the email-id) 
> 
> 
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
> 
> 


-- 
Jonathan D. Rosenberg, Ph.D.            72 Eagle Rock Avenue
Chief Scientist                         First Floor
dynamicsoft                             East Hanover, NJ 07936
jdrosen@dynamicsoft.com                 FAX: (973) 952-5050
http://www.jdrosen.net                  PH:  (973) 952-5000
http://www.dynamicsoft.com


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Wed Dec 26 17:18:17 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id RAA21161
	for <sip-archive@odin.ietf.org>; Wed, 26 Dec 2001 17:18:13 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id RAA08072
	for sip-archive@odin.ietf.org; Wed, 26 Dec 2001 17:18:14 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id RAA07962;
	Wed, 26 Dec 2001 17:05:12 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id RAA07892
	for <sip@optimus.ietf.org>; Wed, 26 Dec 2001 17:05:08 -0500 (EST)
Received: from mail3.dynamicsoft.com ([63.113.44.69])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id RAA21058;
	Wed, 26 Dec 2001 17:05:05 -0500 (EST)
Received: from dynamicsoft.com ([63.113.46.89])
	by mail3.dynamicsoft.com (8.12.1/8.12.1) with ESMTP id fBQM50VZ002868;
	Wed, 26 Dec 2001 17:05:00 -0500 (EST)
Message-ID: <3C2A4972.7050101@dynamicsoft.com>
Date: Wed, 26 Dec 2001 17:04:34 -0500
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:0.9.4) Gecko/20011128 Netscape6/6.2.1
X-Accept-Language: en-us
MIME-Version: 1.0
To: Flemming Andreasen <fandreas@cisco.com>
CC: "Drage, Keith (Keith)" <drage@lucent.com>, sip@ietf.org, mmusic@ietf.org,
        confctrl@isi.edu
Subject: Re: [MMUSIC] Re: [Sip] Open Issue #150: too many ways of saying "	don't  send me media"
References: <3C22B0AC.2E1DDE79@cisco.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit



Flemming Andreasen wrote:

> 

>>The semantics are:
>>
>>c=0.0.0.0: will cease reception of RTP and RTCP, no longer the
>>recommended way to do hold, has issues with SRTP keying, ipv6,
>>connection oriented media, etc. Generally bad.
>>
>>a=inactive/sendonly - stops only RTP
>>
>>port 0: turns of media streams - safe to unload codecs, etc.
>>
>>bw=0: will turn off reception of RTP and RTCP
>>
> 
> Do we really need the "bw" one ?


No, its not really NEEDED. The point Henning had made at IETF is that 
the treatment for any bandwidth number is well defined; in that case, 
disallowing zero is a special case. I see no reason to disallow it as a 
special case when it has defined meaning for all values.

-Jonathan R.


-- 
Jonathan D. Rosenberg, Ph.D.            72 Eagle Rock Avenue
Chief Scientist                         First Floor
dynamicsoft                             East Hanover, NJ 07936
jdrosen@dynamicsoft.com                 FAX: (973) 952-5050
http://www.jdrosen.net                  PH:  (973) 952-5000
http://www.dynamicsoft.com


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Wed Dec 26 23:25:55 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id XAA24999
	for <sip-archive@odin.ietf.org>; Wed, 26 Dec 2001 23:25:55 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id XAA16524
	for sip-archive@odin.ietf.org; Wed, 26 Dec 2001 23:25:56 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id WAA15708;
	Wed, 26 Dec 2001 22:58:42 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id WAA15681
	for <sip@optimus.ietf.org>; Wed, 26 Dec 2001 22:58:39 -0500 (EST)
Received: from mail3.dynamicsoft.com ([63.113.44.69])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id WAA24790
	for <sip@ietf.org>; Wed, 26 Dec 2001 22:58:36 -0500 (EST)
Received: from dynamicsoft.com ([63.113.46.89])
	by mail3.dynamicsoft.com (8.12.1/8.12.1) with ESMTP id fBR3wIVZ002951;
	Wed, 26 Dec 2001 22:58:18 -0500 (EST)
Message-ID: <3C2A9C3F.2010102@dynamicsoft.com>
Date: Wed, 26 Dec 2001 22:57:51 -0500
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:0.9.4) Gecko/20011128 Netscape6/6.2.1
X-Accept-Language: en-us
MIME-Version: 1.0
To: Flemming Andreasen <fandreas@cisco.com>
CC: Mark Watson <mwatson@nortelnetworks.com>, brett@broadsoft.com,
        sip@ietf.org
Subject: Re: [Sip] Open Issue #188: Reply-To
References: <3C23B559.CFA94263@cisco.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Mark, Flemming,

The issue of whether or not to add the "return" type back to the privacy 
spec is, really, orthogonal to this particular issue, which is whether 
to have a Reply-To header in SIP. Adding Reply-To to sip perhaps adds 
more fire to the issue, but it remains orthogonal.

Consensus at IETF 52 was to add it this header. On this list, we had 
emails of support from Dean Willis, Alan Johnston, and Vijay Gurbani. 
There was support, coupled with questions, from Brett Tate.

I think this represents sufficient rough consensus. I am therefore 
declaring this issue closed, and we will add a Reply-To header to sip 
with identical meaning to the usage in email.

-Jonathan R.

Flemming Andreasen wrote:

> 
> Mark Watson wrote:
> 
> 
>>A Reply-To identity supplied by the user has to be treated with a
>>certain amount of caution, since the user could include any identity
>>at all. There are obvious scams where people send out calls with a
>>Reply-To of some premium rate number etc.
>>
>>But this is the case with lots of e2e information - as long as the
>>status of the information is clear, there should not be a problem
>>(i.e. 'user beware')
>>
>>However, it shows that a Reply-To identity which has in some way been
>>verified by the outgoing proxy would have some value. Indeed, the
>>ability to have some network-vouched-for Reply-To identity is a
>>value-added service in itself that the outgoing proxy can provide.
>>
>>
> 
> Anything can be a value-added service, but where do we draw the line ? I
> could make the exact same arguments for e.g. a Contact header and hence
> we should start providing network authenticated Contact headers. We can
> probably find lots more if we start looking. Unless we can find a good
> real-life example where this kind of functionality would be important,
> I'd leave it out.
> 
> 
>>The intention of the RPI 'return' type was to provide both (user
>>provided, and network verified).
>>
> 
> I'm not so sure about the network verified part. I think we simply
> started using the RPI for all kinds of identity information with little
> consideration as to whether it made sense to have it authenticated or
> not. The privacy-03 draft has corrected this my only letting the RPI
> header apply to identity information that should be verified by the
> network.
> 
> 
>>It seems to me that a wheel has been removed from the privacy draft
>>and half of it is being re-invented.
>>
> 
>>I thought the aim of PRI was to be generic, so that one capability
>>could be re-used whenever a similar requirement emerged.
>>
>>
> 
> Right, however we tried refining it to only address network
> authenticated identity information. You could of course define another
> similar header that addressed not-network authenticated identity
> information, but there's not much difference between defining new
> individual headers (e.g. Reply-To) versus defining new types in a more
> generic typed "user-provided identity" header (ala Remote-Party-ID).
> 
> -- Flemming
> 
> 
> 
>>Just a final point on IPR - AFAIK you don't get IPR on a syntax. So if
>>there is IPR on the RPI header, there would be IPR on other syntaxes
>>for the same thing e.g. Reply-To, From etc. I would doubt that there
>>is any real IPR on these things, as identities of these kinds have
>>been carried in the PSTN for years.
>>
>>...Mark
>>
>>-----Original Message-----
>>From: Flemming Andreasen [mailto:fandreas@cisco.com]
>>Sent: 10 December 2001 06:16
>>To: Jonathan Rosenberg
>>Cc: 'brett@broadsoft.com'; sip@ietf.org
>>Subject: Re: [Sip] Open Issue #188: Reply-To
>>
>>The old privacy-02 draft had a "return" rpi-id-type defined just for
>>this,
>>however with the refined scope in the new privacy-03 draft, which only
>>addresses
>>network authenticated (and provided) identity information, it was
>>removed. Since
>>the UA is presumably the one that determines where it would like
>>return calls to
>>go, another header would make sense. Privacy of such a header is
>>trivially
>>handled by the UA by simply not supplying it (recall that the reason
>>for
>>encrypting the Remote-Party-ID rather than just removing it is to
>>allow for
>>things like call trace), unless you are looking for some kind of
>>"scoped"
>>privacy (I hope not). I agree that simply adding a Reply-To header to
>>bis for
>>this would make sense.
>>
>>-- Flemming
>>
>>Jonathan Rosenberg wrote:
>>
>>
>>>
>>>>-----Original Message-----
>>>>From: Brett Tate [mailto:brett@broadsoft.com]
>>>>Sent: Friday, December 07, 2001 4:21 AM
>>>>To: sip@ietf.org
>>>>Subject: RE: [Sip] Open Issue #188: Reply-To
>>>>
>>>>
>>>>>Proposal:
>>>>>
>>>>>Its simple. Its compatible. Its well understood. Its going to
>>>>>really be
>>>>>needed for MESSAGE, probably other things. Let us take the
>>>>>simple route and
>>>>>add it.
>>>>>
>>>>It seems like an ideal candidate for a
>>>>new extension draft or a new version of
>>>>sip-privacy.
>>>>
>>>The question is whether this is trivial enough to just put into bis
>>>
>>rather
>>
>>>than write a separate 1 page I-D for it. sip-privacy is, I think,
>>>
>>different.
>>
>>>More below.
>>>
>>>
>>>>What is its relationship to >From and
>>>>Remote-Party-ID?
>>>>
>>>>From is who sent the request.
>>>Reply-To is to whom you should call-back later if you want to talk
>>>
>>again.
>>
>>>Not necessarily the same, just as they aren't the same in email.
>>>
>>>Remote-Party-ID provides network authenticated identities. Reply-To
>>>
>>is
>>
>>>provided by the client. If the network wanted to provide what it
>>>
>>believes is
>>
>>>the true reply-to address, it would, in theory, insert a R-P-ID with
>>>
>>id-type
>>
>>>"reply-to" or some other such thing. However, I don't think there is
>>>
>>much
>>
>>>value in that. Who cares what the network provider thought your
>>>
>>reply-to
>>
>>>should really be?
>>>
>>>
>>>>How many entries can it contain?
>>>>
>>>One.
>>>
>>>
>>>>If more
>>>>than 1, should something like a q-value
>>>>be present to communicate the meaning of
>>>>more than 1 value being present?
>>>>
>>>>Should it contain an expiration value?
>>>>
>>>No. KISS. If its good enough for email, its good enough for us.
>>>
>>>
>>>>Should it have a similar definition to
>>>>Remote-Party-ID so that privacy and trust
>>>>issues can be communicated?
>>>>
>>>There are privacy implications, yes. I don't think we need a new
>>>
>>R-P-ID
>>
>>>type, as I discuss above, but if privacy is requested, I would
>>>
>>imagine that
>>
>>>the reply-to would be stripped at the edge, else encrypted or some
>>>
>>other
>>
>>>such thing, as R-P-ID would.
>>>
>>>-Jonathan R.
>>>---
>>>Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
>>>Chief Scientist                             First Floor
>>>dynamicsoft                                 East Hanover, NJ 07936
>>>jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
>>>http://www.jdrosen.net                      PHONE: (973) 952-5000
>>>http://www.dynamicsoft.com
>>>
>>>_______________________________________________
>>>Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
>>>This list is for NEW development of the core SIP Protocol
>>>Use sip-implementors@cs.columbia.edu for questions on current sip
>>>Use sipping@ietf.org for new developments on the application of sip
>>>
>>--
>>Flemming Andreasen
>>Cisco Systems
>>
>>
>>
>>
>>_______________________________________________
>>Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
>>This list is for NEW development of the core SIP Protocol
>>Use sip-implementors@cs.columbia.edu for questions on current sip
>>Use sipping@ietf.org for new developments on the application of sip
>>
> 
> --
> Flemming Andreasen
> Cisco Systems
> 
> 
> 


-- 
Jonathan D. Rosenberg, Ph.D.            72 Eagle Rock Avenue
Chief Scientist                         First Floor
dynamicsoft                             East Hanover, NJ 07936
jdrosen@dynamicsoft.com                 FAX: (973) 952-5050
http://www.jdrosen.net                  PH:  (973) 952-5000
http://www.dynamicsoft.com


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Wed Dec 26 23:32:43 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id XAA25418
	for <sip-archive@odin.ietf.org>; Wed, 26 Dec 2001 23:32:43 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id XAA17029
	for sip-archive@odin.ietf.org; Wed, 26 Dec 2001 23:32:44 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id XAA16378;
	Wed, 26 Dec 2001 23:13:13 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id XAA16349
	for <sip@optimus.ietf.org>; Wed, 26 Dec 2001 23:13:09 -0500 (EST)
Received: from mail3.dynamicsoft.com ([63.113.44.69])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id XAA24925
	for <sip@ietf.org>; Wed, 26 Dec 2001 23:13:07 -0500 (EST)
Received: from dynamicsoft.com ([63.113.46.89])
	by mail3.dynamicsoft.com (8.12.1/8.12.1) with ESMTP id fBR4CtVZ002958;
	Wed, 26 Dec 2001 23:12:55 -0500 (EST)
Message-ID: <3C2A9FAC.1080307@dynamicsoft.com>
Date: Wed, 26 Dec 2001 23:12:28 -0500
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:0.9.4) Gecko/20011128 Netscape6/6.2.1
X-Accept-Language: en-us
MIME-Version: 1.0
To: sshetti@hss.hns.com
CC: sip@ietf.org
Subject: Re: [Sip] About maintaing reliable connections according to bis05
References: <65256B28.001780BB.00@sampark.hss.hns.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit



sshetti@hss.hns.com wrote:

> 
> Hi Jonathan,
> isnt 16 seconds recommendation too small for this purpose?
> 
> lets say, an original RFC compliant client A tries to contact client B
> through a proxy P.
> proxy P is implemented according to bis-05, where after it sees that
> connection is idle since 16 seconds it closes the same.
> 
> the INVITE from A gets proxied to B, and B takes more time to pick the
> hand
> set.
> meanwhile the connection on proxy timesout and it terminates the
> connection.
> now the client A, is in a fix.


Right, so the number needs to be bigger. I'll be sure to put in the 
right value (need to think about what it is). It definitely depends on 
timer C, which is the amount of time a client transaction waits for a 
final response to invite after a provisional. There is a related bug, 
which is that we need to set a minimum value for that timer as well, so 
proxies don't trash invite transactions too early....


-Jonathan R.


-- 
Jonathan D. Rosenberg, Ph.D.            72 Eagle Rock Avenue
Chief Scientist                         First Floor
dynamicsoft                             East Hanover, NJ 07936
jdrosen@dynamicsoft.com                 FAX: (973) 952-5050
http://www.jdrosen.net                  PH:  (973) 952-5000
http://www.dynamicsoft.com


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Wed Dec 26 23:50:56 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id XAA25678
	for <sip-archive@odin.ietf.org>; Wed, 26 Dec 2001 23:50:56 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id XAA17436
	for sip-archive@odin.ietf.org; Wed, 26 Dec 2001 23:50:58 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id XAA17109;
	Wed, 26 Dec 2001 23:33:50 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id XAA17077
	for <sip@optimus.ietf.org>; Wed, 26 Dec 2001 23:33:47 -0500 (EST)
Received: from mail3.dynamicsoft.com ([63.113.44.69])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id XAA25467
	for <sip@ietf.org>; Wed, 26 Dec 2001 23:33:45 -0500 (EST)
Received: from dynamicsoft.com ([63.113.46.89])
	by mail3.dynamicsoft.com (8.12.1/8.12.1) with ESMTP id fBR4XeVZ002975;
	Wed, 26 Dec 2001 23:33:40 -0500 (EST)
Message-ID: <3C2AA488.5080503@dynamicsoft.com>
Date: Wed, 26 Dec 2001 23:33:12 -0500
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:0.9.4) Gecko/20011128 Netscape6/6.2.1
X-Accept-Language: en-us
MIME-Version: 1.0
To: Vijay Gurbani <vkg@lucent.com>
CC: sip@ietf.org
Subject: Re: [Sip] Open Issue #140: use only tags for Call-leg ID
References: <3C211A0D.BD598FE3@lucent.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit



Vijay Gurbani wrote:

> Jonathan Rosenberg wrote:
> 
>>Consensus at IETF 52 was that we accept the proposal, that is, the
>>current definitions and requirements in bis-05 stand. It is possible
>>for implementations to be optimized to not use the URLs as call-leg
>>indices, and for replaces to be defined without it, as has been pointed out.
>>
> 
> Jonathan:
> 
> Not dissenting, just a clarification...
> 
> Let me recap: your proposal was that the dialog be identified with
> Call-ID, 
> To tag and From tag only (drop URIs in the From and To).  Right?


Sorry for the confusion; there was discussion about whether or not to 
drop URLs from the definition of dialog, so that a callee could properly 
set the From URL in requests it sent within a dialog. My proposal was to 
NOT make this change.


> 
> Bis-05 defines a Dialog to include Call-ID, "local address" and "remote
> address" where "local address" and "remote address" *include* the URIs.


Correct. Consensus was that this definition stands.

-Jonathan R.




-- 
Jonathan D. Rosenberg, Ph.D.            72 Eagle Rock Avenue
Chief Scientist                         First Floor
dynamicsoft                             East Hanover, NJ 07936
jdrosen@dynamicsoft.com                 FAX: (973) 952-5050
http://www.jdrosen.net                  PH:  (973) 952-5000
http://www.dynamicsoft.com


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Wed Dec 26 23:51:01 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id XAA25693
	for <sip-archive@odin.ietf.org>; Wed, 26 Dec 2001 23:51:01 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id XAA17450
	for sip-archive@odin.ietf.org; Wed, 26 Dec 2001 23:51:02 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id XAA16971;
	Wed, 26 Dec 2001 23:31:12 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id XAA16942
	for <sip@optimus.ietf.org>; Wed, 26 Dec 2001 23:31:09 -0500 (EST)
Received: from mail3.dynamicsoft.com ([63.113.44.69])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id XAA25223
	for <sip@ietf.org>; Wed, 26 Dec 2001 23:31:07 -0500 (EST)
Received: from dynamicsoft.com ([63.113.46.89])
	by mail3.dynamicsoft.com (8.12.1/8.12.1) with ESMTP id fBR4V0VZ002972;
	Wed, 26 Dec 2001 23:31:02 -0500 (EST)
Message-ID: <3C2AA3E8.8070905@dynamicsoft.com>
Date: Wed, 26 Dec 2001 23:30:32 -0500
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:0.9.4) Gecko/20011128 Netscape6/6.2.1
X-Accept-Language: en-us
MIME-Version: 1.0
To: REJANI DEVI S <rejani.devi@wipro.com>
CC: Vijay Gurbani <vkg@lucent.com>, sip@ietf.org
Subject: Re: [Sip] Open Issue #144: Branch ID  + isCancel() as transaction	 ID
References: <NFBBJDCDJDBCANBEGNKGIELMCGAA.rejani.devi@wipro.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit



REJANI DEVI S wrote:

>>Bis-05 has taken a big step forward with a rigorous definition of
> Also that ACKs for non-2xx response must have the same branch ID as the
> INVITE did.
> 
> [Rejani]
> Wondering if there is a typo in bis 05; Sec 17.2.3 line 2768...
> 
> "The ACK request matches a transaction if the Request URI, From,
> Call-Id,
> CSeq Method (not the number), and top Via header match those of the
> INVITE
> request which created the transaction .."
> Shouldn't it be "CSeq Number (not the method)".


Ooops!!!! Thats a BIG ONE. Thanks for catching that. I am shocked it got 
  through since I poured over that text for some time....


> 
> Also, can you confirm if we are referring to only the CSeq Number part
> in the branch id calculation?


Huh? The proposal for branch ID would involve the client simply 
selecting a random number using a random generator, or something, as a 
transaction ID. Anything so long as its globally unique. A stateless 
proxy needs to perform hashes to guarantee that the computation is 
consistent across requests in the transaction, and in that case, the 
hash could NOT include the cseq method, since that varies from INVITE, 
CANCEL, and ACK, yet the branch ID would need to be the same.

-Jonathan R.




-- 
Jonathan D. Rosenberg, Ph.D.            72 Eagle Rock Avenue
Chief Scientist                         First Floor
dynamicsoft                             East Hanover, NJ 07936
jdrosen@dynamicsoft.com                 FAX: (973) 952-5050
http://www.jdrosen.net                  PH:  (973) 952-5000
http://www.dynamicsoft.com


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Wed Dec 26 23:55:24 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id XAA25726
	for <sip-archive@odin.ietf.org>; Wed, 26 Dec 2001 23:55:19 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id XAA17507
	for sip-archive@odin.ietf.org; Wed, 26 Dec 2001 23:55:21 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id XAA17195;
	Wed, 26 Dec 2001 23:36:39 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id XAA17166
	for <sip@optimus.ietf.org>; Wed, 26 Dec 2001 23:36:36 -0500 (EST)
Received: from mail3.dynamicsoft.com ([63.113.44.69])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id XAA25491
	for <sip@ietf.org>; Wed, 26 Dec 2001 23:36:34 -0500 (EST)
Received: from dynamicsoft.com ([63.113.46.89])
	by mail3.dynamicsoft.com (8.12.1/8.12.1) with ESMTP id fBR4ZwVZ002978;
	Wed, 26 Dec 2001 23:35:59 -0500 (EST)
Message-ID: <3C2AA512.8040403@dynamicsoft.com>
Date: Wed, 26 Dec 2001 23:35:30 -0500
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:0.9.4) Gecko/20011128 Netscape6/6.2.1
X-Accept-Language: en-us
MIME-Version: 1.0
To: "Henning G. Schulzrinne" <hgs@cs.columbia.edu>
CC: "Peterson, Jon" <jon.peterson@neustar.biz>, sip@ietf.org
Subject: Re: [Sip] Open Issue #134: Meaning of challenge when UAC is a gat	eway
References: <3C210AA2.85BF4B81@cs.columbia.edu>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit



Henning G. Schulzrinne wrote:

> Jonathan Rosenberg wrote:
> 
>>My sense of consensus at IETF 52 was the following:
>>
>>1. the device/user distinction is not useful
>>
> 
> Agreed.
> 
> 
>>2. if the ua element has cached credentials for a realm it receives in
>>a challenge (where caching may be through configuration), it applies
>>those credentials in the re-invite, and that there is no need to prompt the
>>user for credentials for that realm.
>>
> 
> Ack - same as for any other device. That's a local policy and
> implementation decision. If you want to build a user annoyance
> maximization device, you can certainly prompt again and again.


Sure. However, this is something people have gotten wrong, and is easy 
to do wrong. The specification needs to help provide some guidance here.

-Jonathan R.


-- 
Jonathan D. Rosenberg, Ph.D.            72 Eagle Rock Avenue
Chief Scientist                         First Floor
dynamicsoft                             East Hanover, NJ 07936
jdrosen@dynamicsoft.com                 FAX: (973) 952-5050
http://www.jdrosen.net                  PH:  (973) 952-5000
http://www.dynamicsoft.com


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Wed Dec 26 23:55:50 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id XAA25741
	for <sip-archive@odin.ietf.org>; Wed, 26 Dec 2001 23:55:50 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id XAA17522
	for sip-archive@odin.ietf.org; Wed, 26 Dec 2001 23:55:52 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id XAA17350;
	Wed, 26 Dec 2001 23:42:37 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id XAA17319
	for <sip@optimus.ietf.org>; Wed, 26 Dec 2001 23:42:35 -0500 (EST)
Received: from mail3.dynamicsoft.com ([63.113.44.69])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id XAA25562
	for <sip@ietf.org>; Wed, 26 Dec 2001 23:42:33 -0500 (EST)
Received: from dynamicsoft.com ([63.113.46.89])
	by mail3.dynamicsoft.com (8.12.1/8.12.1) with ESMTP id fBR4gTVZ002981;
	Wed, 26 Dec 2001 23:42:29 -0500 (EST)
Message-ID: <3C2AA698.3030500@dynamicsoft.com>
Date: Wed, 26 Dec 2001 23:42:00 -0500
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:0.9.4) Gecko/20011128 Netscape6/6.2.1
X-Accept-Language: en-us
MIME-Version: 1.0
To: William Marshall <wtm@research.att.com>
CC: sip@ietf.org
Subject: Re: [Sip] Open Issue #205: Headers and method param in 3xx/REGISTER Contact
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

There was only one comment on this issue, below, from Bill, in support.

I will therefore declare this issue closed and the proposal accepted as 
stated.

-Jonathan R.

William Marshall wrote:

> An additional point in favor of the resolution propoesed by Jonathan
> is that "method=foobar" effectively disllows a future SIP header 
> Method: ..whatever...
> 
> I pointed this problem out in my comments to the Refer draft, where
> it effectively reserved headers "to-tag" and "from-tag".
> 
> Agree with the proposal as stated
> 
> Bill Marshall
> wtm@research.att.com
> 
> 
> 
>>From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
>>To: "'sip@ietf.org'" <sip@ietf.org>
>>Date: Thu, 6 Dec 2001 11:35:29 -0500 
>>Subject: [Sip] Open Issue #205: Headers and method param in 3xx/REGISTER Contact
>> header URLs
>>
>>Issue:
>>
>>Minor issue.
>>
>>bis-05 allows the URL method parameter and header parameters to appear in
>>3xx and REGISTER requests/responses. Do we really want this?
>>
>>Discussion:
>>
>>Headers - yes. It makes sense for me to be able to redirect you to my
>>voicemail with a specific Subject header, for example:
>>
>>303 Send Voicemail SIP/2.0
>>Contact: sip:myvoicemail@vm.com?Subject=call%20from%20Bob
>>
>>Method parameter - no. That is definitely dangerous. The only complication
>>is that we use the caller preferences methods (note the plural) contact
>>header for presence, amongst other things. Due to the unfortunate closeness
>>of these two parameter names, some people are using the method param
>>instead, i.e.:
>>
>>REGISTER
>>Contact: sip:user@host;method="SUBSCRIBE"
>>
>>This is definitely WRONG, since the syntax for method does not actually use
>>quoted strings. However, it is out there.
>>
>>I would argue, on the other hand, that we should not standardize something
>>because people have misimplemented it.
>>
>>Proposal:
>>
>>Allow headers
>>disallow method
>>
>>-Jonathan R.
>>
>>---
>>Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
>>Chief Scientist                             First Floor
>>dynamicsoft                                 East Hanover, NJ 07936
>>jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
>>http://www.jdrosen.net                      PHONE: (973) 952-5000
>>http://www.dynamicsoft.com
>> 
>>
>>_______________________________________________
>>Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
>>This list is for NEW development of the core SIP Protocol
>>Use sip-implementors@cs.columbia.edu for questions on current sip
>>Use sipping@ietf.org for new developments on the application of sip
>>
>>
> 
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
> 


-- 
Jonathan D. Rosenberg, Ph.D.            72 Eagle Rock Avenue
Chief Scientist                         First Floor
dynamicsoft                             East Hanover, NJ 07936
jdrosen@dynamicsoft.com                 FAX: (973) 952-5050
http://www.jdrosen.net                  PH:  (973) 952-5000
http://www.dynamicsoft.com


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Dec 27 00:54:46 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id AAA26055
	for <sip-archive@odin.ietf.org>; Thu, 27 Dec 2001 00:54:46 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id AAA19056
	for sip-archive@odin.ietf.org; Thu, 27 Dec 2001 00:54:46 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id AAA18879;
	Thu, 27 Dec 2001 00:36:13 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id AAA18848
	for <sip@optimus.ietf.org>; Thu, 27 Dec 2001 00:36:10 -0500 (EST)
Received: from mail3.dynamicsoft.com ([63.113.44.69])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id AAA25969
	for <sip@ietf.org>; Thu, 27 Dec 2001 00:36:09 -0500 (EST)
Received: from dynamicsoft.com ([63.113.46.89])
	by mail3.dynamicsoft.com (8.12.1/8.12.1) with ESMTP id fBR5ZYVZ003018;
	Thu, 27 Dec 2001 00:35:34 -0500 (EST)
Message-ID: <3C2AB30B.6000605@dynamicsoft.com>
Date: Thu, 27 Dec 2001 00:35:07 -0500
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:0.9.4) Gecko/20011128 Netscape6/6.2.1
X-Accept-Language: en-us
MIME-Version: 1.0
To: "Henning G. Schulzrinne" <hgs@cs.columbia.edu>
CC: sip@ietf.org
Subject: Re: [Sip] Open Issue #204: Password in To/From URL
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit



Henning G. Schulzrinne wrote:

> Jonathan Rosenberg wrote:
> 
>>Issue:
>>
>>Minor issue.
>>
>>The From field allows a password in the URL, but not the To field. This is
>>not discussed and seems inconsistent. We should either allow it in both or
>>document the reason.
>>
>>Discussion:
>>
>>I suspect the main application of the password in From is for things like
>>PIN codes; it provides a simple, yet thoroughly insecure, way to identify a
>>user. Its not clear what a password in To would mean. Perhaps it provides a
>>password valid to talk to the specific user in the To field. However, as
>>requests can be forwarded, this password would not be valid in many cases,
>>and would potentially directly provide password information to the wrong
>>user.
>>
>>Its probably sensible to restrict usage of the password as much as possible.
>>
>>Proposal:
>>
>>Keep restriction. Document usage in From as identifying subscriber, and
>>indicate that it makes no sense to have in in the To.
>>
> 
> I can't quite parse your initial statement: "The From field allows a
> password in the URL, but not the To field." Theoretically, passwords
> could appear in
> 
> - request-uri
> - To
> - From
> 
> Having it in the destination (request-URI) has some modest value, but
> adding it to the To header field doesn't seem to add any. Thus, I think
> we're in agreement, but just wanted to make sure:
> 
> - request-uri = yes(*)
> - To = no (since already in the request-uri for the destination)
> - From = yes(*)
> 
> (*) with the usual caveats


Yes, this was my proposal. More specifically, the proposal was to add a 
line or two of motivating text explaining why.


> 
> The only reason I can see to allow this in the To header is that
> typically, if you click on a web link such as
> sip:alice:secret@example.com, it would be copied into both request-URI
> and To. Since we wanted to treat the user:pw as effectively a single
> string, it would seem easier not to special-case this and forcing the
> program to strip the 'pw' part.


Hmm. This is quite a good point.

Another point worth noting, thinking about it some more, is that in the 
most basic case, the r-uri will be rewritten with the registered contact 
of the called party, so the called party won't ever see the password 
(I'm assuming that the password is NOT part of the address-of-record). 
Thus, it does need to be in the To field to get to the called party, as 
it has e2e significance supposedly....


OK, so now I am going to back track, and rather propose to allow 

the password in the To field, documenting its real uses and limitations 
of course.

Comments?

-Jonathan R.




-- 
Jonathan D. Rosenberg, Ph.D.            72 Eagle Rock Avenue
Chief Scientist                         First Floor
dynamicsoft                             East Hanover, NJ 07936
jdrosen@dynamicsoft.com                 FAX: (973) 952-5050
http://www.jdrosen.net                  PH:  (973) 952-5000
http://www.dynamicsoft.com


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Dec 27 00:57:19 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id AAA26079
	for <sip-archive@odin.ietf.org>; Thu, 27 Dec 2001 00:57:14 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id AAA19097
	for sip-archive@odin.ietf.org; Thu, 27 Dec 2001 00:57:15 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id AAA18831;
	Thu, 27 Dec 2001 00:35:44 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id AAA18735
	for <sip@optimus.ietf.org>; Thu, 27 Dec 2001 00:35:38 -0500 (EST)
Received: from mail3.dynamicsoft.com ([63.113.44.69])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id AAA25966
	for <sip@ietf.org>; Thu, 27 Dec 2001 00:35:38 -0500 (EST)
Received: from dynamicsoft.com ([63.113.46.89])
	by mail3.dynamicsoft.com (8.12.1/8.12.1) with ESMTP id fBR5ZTVZ003015;
	Thu, 27 Dec 2001 00:35:29 -0500 (EST)
Message-ID: <3C2AB305.80903@dynamicsoft.com>
Date: Thu, 27 Dec 2001 00:35:01 -0500
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:0.9.4) Gecko/20011128 Netscape6/6.2.1
X-Accept-Language: en-us
MIME-Version: 1.0
To: "Peterson, Jon" <jon.peterson@neustar.biz>
CC: sip@ietf.org
Subject: Re: [Sip] Open Issue #281: Entire URI as a key to location servic e lookup
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

There were two comments on this proposal, from Jo Hornsby and from Jon 
Peterson (enclosed below). Both support the proposal. Jon recommended 
some additional text on reasonable choices for the "transformation" as 
he describes it. I think thats OK; discussing the issue in particular 
with user=phone (whether or not that is part of the key, and I believe 
it generally is).

So, I will consider this issue closed.

Thanks,
Jonathan R.

Peterson, Jon wrote:

> When a user agent registers, the location service uses the address of record
> given in the To field of the registration as the key that it maps to the
> various Contact addresses. An address of record should be as simple and
> general-purpose a URI as possible, not speaking to any capabilities or
> locations associated with the owner of the address; it should probably have
> a 'user@domain' format (sip:jon.peterson@neustar.biz) as opposed to a more
> specific format incorporating hostnames, parameters and so forth. Then
> ideally the location service would have some sort of logical table for each
> such 'domain' value under its administration in which the 'user' values are
> the actual keys. However, today we don't really provide any such guidelines
> for creating addresses of record for registrations in rfc2543bis. I suspect
> that if we did so we'd find this problem much easier.
> 
> If the format of addresses of record were determinate, we could describe
> precisely how to transform more complex and specific URIs into addresses of
> record. This would never be possible for some URIs (sip:10.100.0.1:5062) but
> then again it isn't clear why these sorts of URIs would be offered as keys
> to a location service (i.e. a lookup on that URI should result in a failure
> anyway). The transformation would most likely involving stripping certain
> parameters (including possibly SIP URI parameters, user (e.g. tel URL)
> parameters, and ports) and perhaps simplifying the host portion of the URI
> into a domain when applicable.
> 
> It sounds like what Igor is saying is that a location service must apply the
> same transformation to URI keys whether it receives them as a result of
> registrations (setting new key-value pairs) or requests (lookups on a key).
> I think that definitely sounds right, and that it will increase the chances
> of finding good matches in the location service. 
> 
> Beyond that, I also agree that we should attempt to standardize this
> transformation at least for the purposes of making a recommendation, even if
> we don't want to levy a mandate. I think this transformation could also be
> useful for some other purposes related to identity management.
> 
> Jon Peterson
> NeuStar, Inc.
> 
> 
>>-----Original Message-----
>>From: Jonathan Rosenberg [mailto:jdrosen@dynamicsoft.com]
>>Sent: Thursday, December 06, 2001 2:06 PM
>>To: 'sip@ietf.org'
>>Subject: [Sip] Open Issue #281: Entire URI as a key to 
>>location service
>>lookup
>>
>>
>>Issue:
>>
>>There are problems with the bis-05 text which says that a 
>>proxy should use
>>the 
>>entire URL from the request URI as the key to lookup contacts in the
>>location 
>>service DB. The problem is that sometimes the R-URI has 
>>transport and maddr 
>>params, used for routing, and these are not part of the To 
>>header in the 
>>REGISTER, so a 404 is getting sent.
>>
>>Igor Slepchin has proposed that the choice of key is a matter of local
>>policy, so long 
>>as its consistent between registration processing and request routing 
>>processing. However, I think some guidelines would be helpful to avoid
>>having 
>>people shoot themselves in the foot. 
>>
>>The text used to give no guidance on this, but we changed it 
>>to say the
>>entire 
>>URL since there had been other problems, or so I recall. Not 
>>sure what the 
>>previous problems were, though.
>>
>>Another issue with using the whole URL as input to the 
>>location DB is that
>>the key is no longer a simple string; this makes lookups more complex.
>>
>>Proposal:
>>
>>Allow key for LS lookups to be a matter of local policy. 
>>Describe issues
>>(like using port and maddr are bad).
>>
>>-Jonathan R.
>>
>>---
>>Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
>>Chief Scientist                             First Floor
>>dynamicsoft                                 East Hanover, NJ 07936
>>jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
>>http://www.jdrosen.net                      PHONE: (973) 952-5000
>>http://www.dynamicsoft.com
>> 
>>
>>_______________________________________________
>>Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
>>This list is for NEW development of the core SIP Protocol
>>Use sip-implementors@cs.columbia.edu for questions on current sip
>>Use sipping@ietf.org for new developments on the application of sip
>>
> 


-- 
Jonathan D. Rosenberg, Ph.D.            72 Eagle Rock Avenue
Chief Scientist                         First Floor
dynamicsoft                             East Hanover, NJ 07936
jdrosen@dynamicsoft.com                 FAX: (973) 952-5050
http://www.jdrosen.net                  PH:  (973) 952-5000
http://www.dynamicsoft.com


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Dec 27 02:10:41 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id CAA08908
	for <sip-archive@odin.ietf.org>; Thu, 27 Dec 2001 02:10:41 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id CAA00489
	for sip-archive@odin.ietf.org; Thu, 27 Dec 2001 02:10:42 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id BAA28954;
	Thu, 27 Dec 2001 01:32:58 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id BAA28923
	for <sip@optimus.ietf.org>; Thu, 27 Dec 2001 01:32:55 -0500 (EST)
Received: from mail3.dynamicsoft.com ([63.113.44.69])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id BAA28040
	for <sip@ietf.org>; Thu, 27 Dec 2001 01:32:53 -0500 (EST)
Received: from dynamicsoft.com ([63.113.46.89])
	by mail3.dynamicsoft.com (8.12.1/8.12.1) with ESMTP id fBR6WnVZ003053
	for <sip@ietf.org>; Thu, 27 Dec 2001 01:32:49 -0500 (EST)
Message-ID: <3C2AC076.80708@dynamicsoft.com>
Date: Thu, 27 Dec 2001 01:32:22 -0500
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:0.9.4) Gecko/20011128 Netscape6/6.2.1
X-Accept-Language: en-us
MIME-Version: 1.0
To: sip@ietf.org
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Subject: [Sip] Open Issue #259: Proxies Honoring Expires
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

<discussion on this started within the context of bug 282, which is 
about a minimum value for timer C. However, they are orthogonal>

Issue: When a proxy receives an INVITE with an Expires header, what 
should the proxy do when that expiration time arrives? Should it CANCEL 
the INVITE, or just ignore it?

Discussion: CANCELing it would give the proxy a way to clean up its 
state faster without relying on the UAs to help. The big question is 
whether or not something very robust is needed or not. Robert had posted 
a listing of four cases to consider:

If an Expires header
is present with a shorter value than what the proxy
uses for timer C one of four things will happen:

1) the receiving endpoint with 408 the request - the
    proxy's client transaction gets to enter
    the completed state
2) the requesting endpoint CANCELs and the receiving
    endpoint returns a 487 - the proxy's client transaction
    gets to enter the completed state
3) the requesting endpoint CANCELS but the receiving
    endpoint fails to return a 487 - the proxy's client
    transaction enters the terminal state after
    timer C expires
4) both endpoints (or the network infrastructure) are
    misbehaving - the proxy's client transaction enters
    the terminal state after timer C expires.


If the proxy honors Expires, case (4) will change; instead, the client 
transaction will be able the terminal state after the expiration, as 
opposed to waiting for timer C (as it seems timer C is effectively 
infinity for proxies). So, is case 4 a frequent enough case to merit 
this treatment?

An interesting point is what happens when there are multiple proxies. 
Each will CANCEL at the same time. is that bad? If you work through the 
flows, turns out its not. There is no extra messages sent beyond what 
would be sent if the UA cancels. However, it will be a race condition to 
see whether a 408 or 487 is received by the UAC (depending on whether 
the UAS generates a 408 on expiration, or the proxy CANCELs and that 
reaches the UAS first). Not clear that there is anything wrong with that.

Proposal: KISS; proxies ignore Expires

-Jonathan R.
-- 
Jonathan D. Rosenberg, Ph.D.            72 Eagle Rock Avenue
Chief Scientist                         First Floor
dynamicsoft                             East Hanover, NJ 07936
jdrosen@dynamicsoft.com                 FAX: (973) 952-5050
http://www.jdrosen.net                  PH:  (973) 952-5000
http://www.dynamicsoft.com


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Dec 27 02:13:28 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id CAA09120
	for <sip-archive@odin.ietf.org>; Thu, 27 Dec 2001 02:13:27 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id CAA00531
	for sip-archive@odin.ietf.org; Thu, 27 Dec 2001 02:13:29 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id BAA28385;
	Thu, 27 Dec 2001 01:25:39 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id BAA28354
	for <sip@optimus.ietf.org>; Thu, 27 Dec 2001 01:25:36 -0500 (EST)
Received: from mail3.dynamicsoft.com ([63.113.44.69])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id BAA27533
	for <sip@ietf.org>; Thu, 27 Dec 2001 01:25:35 -0500 (EST)
Received: from dynamicsoft.com ([63.113.46.89])
	by mail3.dynamicsoft.com (8.12.1/8.12.1) with ESMTP id fBR6OwVZ003049;
	Thu, 27 Dec 2001 01:24:58 -0500 (EST)
Message-ID: <3C2ABE9F.1070809@dynamicsoft.com>
Date: Thu, 27 Dec 2001 01:24:31 -0500
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:0.9.4) Gecko/20011128 Netscape6/6.2.1
X-Accept-Language: en-us
MIME-Version: 1.0
To: Robert Sparks <rsparks@dynamicsoft.com>
CC: John.Hearty@Level3.com, sip@ietf.org
Subject: Re: [Sip] Open Issue #282: Timer C needs minimum for proxies
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit



Robert Sparks wrote:

> This is related to the question of how proxies treat
> an Expires header in an INVITE. If we ask a proxy to
> remain aware of that header, it will influence timer C
> and we have to answer what the timer should be if there
> is no Expires header present.


I see the Expires issue as orthogonal. Whether or not proxies
look at expires, we need to have a minimum value for timer C
at proxies.


> 
> If proxies remain aware of the Expires header, I expect
> most of them to have a policy that limits how large 
> timer C can be made (otherwise, they increase their 
> vunerability to state-depletion DoS through lots of
> INVITEs with very long Expires). 
> 
> I propose we recognize this policy and base timer C
> at a proxy on that alone, recommending a reasonably
> long value.


I'm not certain what "that" refers to in the sentence above.


> 
> With this proposal, a proxy would not even need to parse
> the Expires header for an INVITE. If an Expires header
> is present with a shorter value than what the proxy
> uses for timer C one of four things will happen:
> 
> 1) the receiving endpoint with 408 the request - the
>    proxy's client transaction gets to enter
>    the completed state
> 2) the requesting endpoint CANCELs and the receiving
>    endpoint returns a 487 - the proxy's client transaction
>    gets to enter the completed state
> 3) the requesting endpoint CANCELS but the receiving
>    endpoint fails to return a 487 - the proxy's client
>    transaction enters the terminal state after 
>    timer C expires
> 4) both endpoints (or the network infrastructure) are
>    misbehaving - the proxy's client transaction enters
>    the terminal state after timer C expires.



I think this is totally orthogonal. I don't want to sidetrack this 
thread into a discussion on whether proxies should CANCEL when an INVITE 
Expires. I will open an issue on that and post separately.


> 
> If this is acceptable, it still leaves us with the question
> of what value we should recommend. I propose something
> long - order of .5 to 1 hour (remember that calls stay in a 
> provisional state with early media when you are in the queue
> to talk to an AA representative).


Egads, thats a long time! Your point on early media is well taken, 
though. Arguably, if this case happens, 1 hour is not even enough, since 
I have certainly been on hold for durations longer than that. Probably 4 
hours is more reasonable. Once you've set the timer this high, it may as 
well be any finite number as far as the proxy is concerned. The only 
value in having a number at all (as opposed to infinity) is very long 
term garbage collection. You will get NO DoS attack prevention from 
numbers of this magnitude. You really need to be careful, as a proxy, to 
not create transaction state unless the request is authenticated somehow.

-Jonathan R.



-- 
Jonathan D. Rosenberg, Ph.D.            72 Eagle Rock Avenue
Chief Scientist                         First Floor
dynamicsoft                             East Hanover, NJ 07936
jdrosen@dynamicsoft.com                 FAX: (973) 952-5050
http://www.jdrosen.net                  PH:  (973) 952-5000
http://www.dynamicsoft.com


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Dec 27 02:26:43 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id CAA09907
	for <sip-archive@odin.ietf.org>; Thu, 27 Dec 2001 02:26:38 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id CAA00750
	for sip-archive@odin.ietf.org; Thu, 27 Dec 2001 02:26:40 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id CAA00352;
	Thu, 27 Dec 2001 02:03:20 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id CAA00321
	for <sip@optimus.ietf.org>; Thu, 27 Dec 2001 02:03:17 -0500 (EST)
Received: from mail3.dynamicsoft.com ([63.113.44.69])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id CAA02642
	for <sip@ietf.org>; Thu, 27 Dec 2001 02:03:12 -0500 (EST)
Received: from dynamicsoft.com ([63.113.46.89])
	by mail3.dynamicsoft.com (8.12.1/8.12.1) with ESMTP id fBR72XVZ003061;
	Thu, 27 Dec 2001 02:02:33 -0500 (EST)
Message-ID: <3C2AC76E.3050208@dynamicsoft.com>
Date: Thu, 27 Dec 2001 02:02:06 -0500
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:0.9.4) Gecko/20011128 Netscape6/6.2.1
X-Accept-Language: en-us
MIME-Version: 1.0
To: John.Hearty@Level3.com
CC: sip@ietf.org
Subject: Re: [Sip] Open Issue #207: Handling of session failures
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Responses inline:

John.Hearty@Level3.com wrote:

>>Issue:
>>
>>The spec is silent on what a UA should do if failures in the 
>>media sessions 
>>occur (ICMP, timeouts, or media specific errors). I think 
>>something should
>>be 
>>said. draft-rosenberg-sip-reconstitute-00.txt talks a lot about this
>>problem; 
>>nearly all of that is local implementation logic, but one piece that
>>requires a 
>>normative change to the spec - if you detect a failure in 
>>media stream, send
>>a 
>>re-invite to see if that repairs it. 
>>
>>The re-invite will help if the failure is due to a end system 
>>failure. In
>>that case, the re-INVITE will reconstitute the dialog and 
>>session state at
>>an alternate, which is helpful and useful in many cases.
>>
> 
> Assuming that end system is capable of reconstituting state from a
> re-Invite.
> That said, I agree with this proposal.


No, its not the side that reconstitutes that sends the re-INVITE. Its 
the other side, and it would need to do this even if it can't spell 
reconstitute.

Here's the scenario. A and B are in a call. B fails. ICMP errors go back 
to A for the media packets. A can't reconstitute anything, but sends a 
re-INVITE on the hopes that the other side possibly can (and the ICMP 
are due to a failure of this sort). B' (B's backup) gets the re-INVITE, 
knows how to reconstitute state, and does.

See, thats the rub. For an element to reconstitute state, the OTHER 
element has to send the re-INVITE. Thats why it needs to be in bis.

Christer Holmberg wrote:

> However, if the nodes are separated, and eg MGCP/H.248 is used between
> them, those protocols may define other actions to be taken when media
> failures occur. For example, MGCP allows the media handler to RELEASE
> the call if the media "connection" is lost, so to be able to
> re-establish the session a whole NEW session must be setup. 


I think that is wrong. I don't think the media handler can release the 
call, it can only inform the MGC of errors. That would be the "of" event 
in the MGCP RTP package. As such, the MGC can decide what to do, and in 
this case, the spec would say it SHOULD do a re-INVITE.

> And, if the
> node is a gateway it may not be able to set up a new session in the
> first place, since it's an end-user of either "side" of the gateway
> which set up the session.
> 

This makes no sense whatsoever to me. The UA is in the gateway, and the 
RTP session handler is in the gateway. If a gateway detects failure of 
RTP, it can certainly send a re-INVITE.

Keith Drage wrote:

> Why is this not a SDP level requirement, rather than a SIP level
> requirement. The requirement you are writing is to send a new UDP (which
> just happens to be sent in an INVITE) rather than a INVITE itself.
> 
> As a result, this becomes out of scope of the bis-draft.
> 

Actually, there is SIP state too. If the goal is to allow reconstitution 
of state at a backup, that would include BOTH the session level state 
AND the SIP state (cseq numbers, route sets, etc.). Thus, it is an issue 
for SIP.

Christer also wrote:

> My proposal is that we write that the node MUST take action(s) to
> prevent the signaling- and media handler to have different "session
> state". If possible it MAY send a re-INVITE trying to re-establish the
> session, otherwise send a BYE to terminate it.
> 

Let me say a few words on whether or not we need to give a specific 
recommendation, or allow the UA to do anything it wants. The issue here 
is interoperability. If someone wants to build a conference server, they 
need to know - do they HAVE to replicate sip and session state in the 
event of a failure, or can they rely on a peer UA to help reconstitute 
the state at a backup. If the text says "SHOULD" send a re-INVITE, then 
they know they can count on the peer UA. Otherwise, if its just MAY send 
re-INVITE, or MAY BYE, they need to handle failures of a conference 
server, and hide such failures completely, so that they don't manifest 
themselves as any kind of ICMP errors (which might cause the peer to BYE).

-Jonathan R.



-- 
Jonathan D. Rosenberg, Ph.D.            72 Eagle Rock Avenue
Chief Scientist                         First Floor
dynamicsoft                             East Hanover, NJ 07936
jdrosen@dynamicsoft.com                 FAX: (973) 952-5050
http://www.jdrosen.net                  PH:  (973) 952-5000
http://www.dynamicsoft.com


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Dec 27 02:33:16 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id CAA10308
	for <sip-archive@odin.ietf.org>; Thu, 27 Dec 2001 02:33:16 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id CAA01277
	for sip-archive@odin.ietf.org; Thu, 27 Dec 2001 02:33:17 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id CAA00587;
	Thu, 27 Dec 2001 02:14:55 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id CAA00557
	for <sip@optimus.ietf.org>; Thu, 27 Dec 2001 02:14:52 -0500 (EST)
Received: from mail3.dynamicsoft.com ([63.113.44.69])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id CAA09187
	for <sip@ietf.org>; Thu, 27 Dec 2001 02:14:50 -0500 (EST)
Received: from dynamicsoft.com ([63.113.46.89])
	by mail3.dynamicsoft.com (8.12.1/8.12.1) with ESMTP id fBR7EeVZ003067;
	Thu, 27 Dec 2001 02:14:41 -0500 (EST)
Message-ID: <3C2ACA45.6030008@dynamicsoft.com>
Date: Thu, 27 Dec 2001 02:14:13 -0500
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:0.9.4) Gecko/20011128 Netscape6/6.2.1
X-Accept-Language: en-us
MIME-Version: 1.0
To: Jo Hornsby <jhornsby@ubiquity.net>
CC: Robert Sparks <rsparks@dynamicsoft.com>, sip@ietf.org
Subject: Re: [Sip] Open Issue #203: transport related params in To/From
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

There was one email on this thread supporting the proposal, and the rest 
of the thread dealt with additional wording that might have to be added 
in support of it.

I will comment on the extra wording bits below, but otherwise, I believe 
there is consensus to accept the proposal. In that case, port and maddr 
are disallowed from the To/From URLs.

More comments below.

Jo Hornsby wrote:

> Robert wrote:
> 
>>>>Issue:
>>>>
>>>>Minor issue. Table 1 indicates that in the From/To fields, a 
>>>>SIP URL cannot contain an maddr, but can contain a port.
>>>>This seems odd. Either all addressing params should be 
>>>>allowed (port, transport, ttl, maddr) else none of them.
>>>>
>>>>Proposal:
>>>>
>>>>From/To are supposed to be logical addresses, so neither port 
>>>>nor maddr nor any of the others make much sense there.
>>>>Proposal is to remove unless anyone is sending with these
>>>>parameters.
>>>>
>>>Sounds good to me.
>>>
>>>If this approach is adopted, am I right in thinking we will
>>>have to be _very_ strict about refusing requests that have
>>>these parameters (else I can see nasty SIP URL comparison
>>>issues ariving)?
>>>
>>Why not ignore them if present? I can't think of any comparison
>>issues taking that approach that don't also exist in deciding to
>>reject the message based on the contents of the URL.
>>
> 
> I think what I was envisaging was some entity on
> the network ignoring these parameters, and then
> due to some sort of weird transaction keying
> interaction, actually removing them when it
> responded or proxied sommat.


In this context, having these parameters be "disallowed" means they MUST 
NOT be inserted, and MUST be ignored by any element that receives them 
there. So, to be honest, if you do put them in the To field, and the 
result is that they get stripped when they come back to you, well, thats 
your problem. Bets are off when you send invalid messages. An 
implementation might be nice enough to handle it anyway for you, but its 
not something the spec would mandate.



> Also, if we take the approach that they should
> just be ignored, then what happens if two requests
> arrive that are otherwise identical apart from the
> port in the To:, say?


They are identical.

-Jonathan R.




-- 
Jonathan D. Rosenberg, Ph.D.            72 Eagle Rock Avenue
Chief Scientist                         First Floor
dynamicsoft                             East Hanover, NJ 07936
jdrosen@dynamicsoft.com                 FAX: (973) 952-5050
http://www.jdrosen.net                  PH:  (973) 952-5000
http://www.dynamicsoft.com


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Dec 27 02:57:38 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id CAA11909
	for <sip-archive@odin.ietf.org>; Thu, 27 Dec 2001 02:57:38 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id CAA02011
	for sip-archive@odin.ietf.org; Thu, 27 Dec 2001 02:57:39 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id CAA00823;
	Thu, 27 Dec 2001 02:29:55 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id CAA00792
	for <sip@optimus.ietf.org>; Thu, 27 Dec 2001 02:29:52 -0500 (EST)
Received: from mail3.dynamicsoft.com ([63.113.44.69])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id CAA10073
	for <sip@ietf.org>; Thu, 27 Dec 2001 02:29:50 -0500 (EST)
Received: from dynamicsoft.com ([63.113.46.89])
	by mail3.dynamicsoft.com (8.12.1/8.12.1) with ESMTP id fBR7TFVZ003080;
	Thu, 27 Dec 2001 02:29:15 -0500 (EST)
Message-ID: <3C2ACDB0.4090703@dynamicsoft.com>
Date: Thu, 27 Dec 2001 02:28:48 -0500
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:0.9.4) Gecko/20011128 Netscape6/6.2.1
X-Accept-Language: en-us
MIME-Version: 1.0
To: "Henning G. Schulzrinne" <hgs@cs.columbia.edu>
CC: Michael Thomas <mat@cisco.com>, sip@ietf.org
Subject: Re: [Sip] MAJOR Open Issue #184: Message size limitations
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

inline.

Henning G. Schulzrinne wrote:

> Michael Thomas wrote:
> 
>>Jonathan Rosenberg writes:
>> > 2. The spec imposes no specific limits on the sizes of various headers, or
>> > the number of each type of header. However, many implementations have chosen
>> > their own limitations, often based on a guess, in order to allocate maximum
>> > buffer sizes and the like. This has resulted in some interoperability
>> > problems. Ideally, we should allow any number of each header, and any size
>> > for any element, up to the maximum allowed SIP message size (64k), but this
>> > is not realistic.
>>
>>   I do not understand why this should be a problem given
>>   a reasonable implementation. Fixed sized fields suck;
>>   lets not go there.
>>
> 
> Plus, it's very hard to know what to do. "Dear Mr. Schulzrinne, please
> shorten your name since your SIP message is too long?"
> 
> 
>> > Discussion:
>> >
>> > There are no simple solutions to these problems. For the first problem, some
>> > of the solutions include:
>> >
>> > 1. deprecate UDP; use only TCP or SCTP for SIP
>> > 2. deprecate UDP for server to server, only allow it client to server.
>> > 3. define sip layer fragmentation
>> > 4. ignore the problem
>> >
>> > (4) is not so unreasonable, in fact. Assuming messages don't get THAT much
>> > larger, we will usually see two fragments, which isn't too bad from a loss
>> > amplification perspective. It is a problem for NAT, but if you assume NAT is
>> > client to server only, and users are using TCP there anyway, its solved. Not
>> > ideal, but none of the solutions is.
>>
>>   I would be highly *unsupportive* of 1 or 2. Beyond that
>>   I'm not sure. Compression may be our friend here.
>>
> 
> Agreed; there is very little precedence for this type of limitation in
> 822/HTTP-style protocols. (Yes, I realize that they don't do UDP,
> either.) RFC 2822 does limit the size of a line to 998 characters, but
> this is an historical accident.
> 
> Limiting messages sizes also invites people to just test their code with
> that message size. Code Red is the consequence. (Well, the authors of
> that code didn't need the excuse of limited message sizes.)
> 
> I would vote for (4). If we really want to add bytes to the spec, we
> could make motherhood-and-apple-pie statements about not wasting bytes,
> but that seems silly.
> 
> One variation on a solution is to have servers use TCP or similar if the
> message is long. This doesn't work if only the response is long, not the
> request, but usually, the two sizes seem to be closely correlated (e.g.,
> because of the number of SDP lines in the request).


There was some discussion of this issue with Allison in an offline 
conversation. The result of that discussion was that your variation was 
a reasonable direction, similar to DNS. Specifically:

1. if the request is larger than 1500 bytes, you MUST use TCP to send it,
2. if the request came over udp, but the response is longer than 1500, 
you send a specific error response code which says "response is too big 
to go over udp, please retry request with tcp", and then proceed.


Achieving point 2 above in SIP will require a new response code, which 
is no big deal. However, it will only work properly if (1) proxies have 
the ability to resubmit a request to a next hop without changing 
anything but the via header [should be ok with bis proxies, may be a 
problem with rfc2543] (2) proxies don't add anything to responses as 
they get forwarded. This second point is tough. Here's why its needed. 
Lets say the UAS sends a 200 OK. Proxy gets it. Its GOT to forward it, 
but can't, since it added something, and now its too big to send over 
UDP. It can't just drop it, but it can't forward it either.

This particular solution would also require all UAs to support TCP in 
addition to UDP. It wouldn't always get used, but would have to be there.


Comments?

-Jonathan R.




-- 
Jonathan D. Rosenberg, Ph.D.            72 Eagle Rock Avenue
Chief Scientist                         First Floor
dynamicsoft                             East Hanover, NJ 07936
jdrosen@dynamicsoft.com                 FAX: (973) 952-5050
http://www.jdrosen.net                  PH:  (973) 952-5000
http://www.dynamicsoft.com


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Dec 27 02:58:31 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id CAA11979
	for <sip-archive@odin.ietf.org>; Thu, 27 Dec 2001 02:58:31 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id CAA02039
	for sip-archive@odin.ietf.org; Thu, 27 Dec 2001 02:58:32 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id CAA01355;
	Thu, 27 Dec 2001 02:35:23 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id CAA01324
	for <sip@optimus.ietf.org>; Thu, 27 Dec 2001 02:35:19 -0500 (EST)
Received: from mail3.dynamicsoft.com ([63.113.44.69])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id CAA10451
	for <sip@ietf.org>; Thu, 27 Dec 2001 02:35:17 -0500 (EST)
Received: from dynamicsoft.com ([63.113.46.89])
	by mail3.dynamicsoft.com (8.12.1/8.12.1) with ESMTP id fBR7ZCVZ003087;
	Thu, 27 Dec 2001 02:35:12 -0500 (EST)
Message-ID: <3C2ACF15.3050704@dynamicsoft.com>
Date: Thu, 27 Dec 2001 02:34:45 -0500
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:0.9.4) Gecko/20011128 Netscape6/6.2.1
X-Accept-Language: en-us
MIME-Version: 1.0
To: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
CC: sip@ietf.org
Subject: Re: [Sip] Open Issue #231: Stateless UAS
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

There was no comments on this proposal either way. I interpret silence 
as consensus. Text will be added describing this behavior.

-Jonathan R.

Jonathan Rosenberg wrote:

> Issue:
> 
> A stateless UAS is a UAS that doesn't maintain transaction state. It
> effectively regenerates the response for each request retransmission, and
> resends it. A stateless UAS is really needed to protect against SYN "style"
> attacks using SIP. Without it, an authenticated attacker could send requests
> to a SIP proxy, causing the SIP proxy to establish transaction state. You
> should never create state for unauthenticated requests. The spec talks about
> this behavior, but doesn't give details.
> 
> However, details would be helpful. There are some important things you need
> to do to properly build a stateless UAS:
> 
>   * eat ACK requests
>   * ignore CANCEL
>   * statelessly construct To tags
> 
> None of these are documented at the moment. Should they be?
> 
> Discussion points:
> 
> Do we need yet another element? 
> 
> Unfortunately, we do, since it is already mentioned, but without sufficient
> detail for correct and interoperable implmenetation. Therefore, we need to
> provide sufficient detail for this to be done properly by an implementation.
> 
> Proposal:
> 
> Add text describing this behavior
> 
> ---
> Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
> Chief Scientist                             First Floor
> dynamicsoft                                 East Hanover, NJ 07936
> jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
> http://www.jdrosen.net                      PHONE: (973) 952-5000
> http://www.dynamicsoft.com
>  
> 
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
> 


-- 
Jonathan D. Rosenberg, Ph.D.            72 Eagle Rock Avenue
Chief Scientist                         First Floor
dynamicsoft                             East Hanover, NJ 07936
jdrosen@dynamicsoft.com                 FAX: (973) 952-5050
http://www.jdrosen.net                  PH:  (973) 952-5000
http://www.dynamicsoft.com


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Dec 27 03:05:47 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id DAA12566
	for <sip-archive@odin.ietf.org>; Thu, 27 Dec 2001 03:05:47 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id DAA02619
	for sip-archive@odin.ietf.org; Thu, 27 Dec 2001 03:05:48 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id CAA01417;
	Thu, 27 Dec 2001 02:37:43 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id CAA01386
	for <sip@optimus.ietf.org>; Thu, 27 Dec 2001 02:37:40 -0500 (EST)
Received: from mail3.dynamicsoft.com ([63.113.44.69])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id CAA10591
	for <sip@ietf.org>; Thu, 27 Dec 2001 02:37:38 -0500 (EST)
Received: from dynamicsoft.com ([63.113.46.89])
	by mail3.dynamicsoft.com (8.12.1/8.12.1) with ESMTP id fBR7bXVZ003090;
	Thu, 27 Dec 2001 02:37:33 -0500 (EST)
Message-ID: <3C2ACFA2.7040809@dynamicsoft.com>
Date: Thu, 27 Dec 2001 02:37:06 -0500
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:0.9.4) Gecko/20011128 Netscape6/6.2.1
X-Accept-Language: en-us
MIME-Version: 1.0
To: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
CC: sip@ietf.org
Subject: Re: [Sip] Open Issue #212: Applicability of RTT Estimates
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

There were no comments on this proposal. I will interpret silence as 
consensus. The current text stands.

-Jonathan R.

Jonathan Rosenberg wrote:

> Issue:
> 
> If RTT estimation is done using Timestamp headers, what is the granularity
> of 
> that estimate? Is that estimate applied to subsequent requests to the same
> IP 
> address? IP address and port? Request URI? The destination IP address does
> not 
> actually represent the terminating server transaction, and the RTT estimate
> is 
> supposed to be a measure of the time T1 between a client transaction
> machine, to 
> the server transaction machine, and back. If there are statless proxies in
> between,
> that estimate may not apply to other requests sent to the same stateless
> proxy.
> 
> Discussion:
> 
> Keep it simple. Existing systems use IP address, and so should we. Yes, it
> won't quite be right for stateless proxies. 
> 
> Proposal:
> 
> Keep text as written - use IP address.
> 
> ---
> Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
> Chief Scientist                             First Floor
> dynamicsoft                                 East Hanover, NJ 07936
> jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
> http://www.jdrosen.net                      PHONE: (973) 952-5000
> http://www.dynamicsoft.com
>  
> 
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
> 


-- 
Jonathan D. Rosenberg, Ph.D.            72 Eagle Rock Avenue
Chief Scientist                         First Floor
dynamicsoft                             East Hanover, NJ 07936
jdrosen@dynamicsoft.com                 FAX: (973) 952-5050
http://www.jdrosen.net                  PH:  (973) 952-5000
http://www.dynamicsoft.com


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Dec 27 03:12:31 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id DAA12948
	for <sip-archive@odin.ietf.org>; Thu, 27 Dec 2001 03:12:31 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id DAA02850
	for sip-archive@odin.ietf.org; Thu, 27 Dec 2001 03:12:33 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id CAA01550;
	Thu, 27 Dec 2001 02:39:23 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id CAA01450
	for <sip@optimus.ietf.org>; Thu, 27 Dec 2001 02:39:17 -0500 (EST)
Received: from mail3.dynamicsoft.com ([63.113.44.69])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id CAA10705
	for <sip@ietf.org>; Thu, 27 Dec 2001 02:39:15 -0500 (EST)
Received: from dynamicsoft.com ([63.113.46.89])
	by mail3.dynamicsoft.com (8.12.1/8.12.1) with ESMTP id fBR7d9VZ003093;
	Thu, 27 Dec 2001 02:39:10 -0500 (EST)
Message-ID: <3C2AD003.9040002@dynamicsoft.com>
Date: Thu, 27 Dec 2001 02:38:43 -0500
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:0.9.4) Gecko/20011128 Netscape6/6.2.1
X-Accept-Language: en-us
MIME-Version: 1.0
To: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
CC: sip@ietf.org
Subject: Re: [Sip] Open Issue #210: T1 at client needed to tune T3 at server
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

There were no comments on this proposal. I will interpret silence as 
acceptance of the proposal. Issue resolved.

-Jonathan R.

Jonathan Rosenberg wrote:

> Issue:
> 
> Minor issue.
> 
> In the invite client transaction machine, it remains in the completed state
> for T3. The completed state is the state where the client has received the
> final non-2xx response, and has sent the ACK. It now waits for subsequent
> retransmits of the final response in order to resend the ACK. It waits in
> this state until Timer D fires. Timer D represents the total amount of time
> that the server could conceivably retransmit the final non-2xx response.
> That amount of time is defined, for unreliable transports, by Timer H, which
> is the amount of time the server transaction spends in the completed state
> before giving up. The spec says that this is T3, but its actually 64*T1
> (that is an error in the spec). In either case, the timeout at the client
> depends on the value of T1 selected by the server. But it doesn't know this
> value. What do we do?
> 
> Discussion:
> 
> Communicating T1 is too complex. Let us simply choose a minimum value for
> Timer D in the case of unreliable transports. The obvious value is the
> default value of 64*T1, which is 32s.
> 
> I believe there are a few other places in the spec where there is a
> dependency on knowing T1 on the other side. We would need a similar change
> there.
> 
> Proposal:
> 
> Define Timer D as having a minimum value of 32s for unreliable transports.
> Apply same process for any other timers.
> 
> -Jonathan R.
> ---
> Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
> Chief Scientist                             First Floor
> dynamicsoft                                 East Hanover, NJ 07936
> jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
> http://www.jdrosen.net                      PHONE: (973) 952-5000
> http://www.dynamicsoft.com
>  
> 
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
> 


-- 
Jonathan D. Rosenberg, Ph.D.            72 Eagle Rock Avenue
Chief Scientist                         First Floor
dynamicsoft                             East Hanover, NJ 07936
jdrosen@dynamicsoft.com                 FAX: (973) 952-5050
http://www.jdrosen.net                  PH:  (973) 952-5000
http://www.dynamicsoft.com


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Dec 27 03:19:16 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id DAA13380
	for <sip-archive@odin.ietf.org>; Thu, 27 Dec 2001 03:19:15 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id DAA02973
	for sip-archive@odin.ietf.org; Thu, 27 Dec 2001 03:19:17 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id CAA01749;
	Thu, 27 Dec 2001 02:43:30 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id CAA01717
	for <sip@optimus.ietf.org>; Thu, 27 Dec 2001 02:43:26 -0500 (EST)
Received: from mail3.dynamicsoft.com ([63.113.44.69])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id CAA11029
	for <sip@ietf.org>; Thu, 27 Dec 2001 02:43:24 -0500 (EST)
Received: from dynamicsoft.com ([63.113.46.89])
	by mail3.dynamicsoft.com (8.12.1/8.12.1) with ESMTP id fBR7hJVZ003102;
	Thu, 27 Dec 2001 02:43:19 -0500 (EST)
Message-ID: <3C2AD0FC.7030109@dynamicsoft.com>
Date: Thu, 27 Dec 2001 02:42:52 -0500
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:0.9.4) Gecko/20011128 Netscape6/6.2.1
X-Accept-Language: en-us
MIME-Version: 1.0
To: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
CC: sip@ietf.org
Subject: Re: [Sip] Open Issue #181: Forking OPTIONS
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

There were no comments on this proposal. I interpret silence as 
acceptance of the proposal. Issue closed.

-Jonathan R.

Jonathan Rosenberg wrote:

> Issue:
> 
> OPTIONS, like any other request,could fork. The response you get back will
> be from one of the UA that receives the OPTIONS request. Which one will be
> arbitrary. Furthermore, when you send a subsequent request based on that
> OPTIONS, no guarantees that it is within the capabilities of any of the
> other UA that received the OPTIONS request initially.
> 
> Discussion:
> 
> THis is a genearl problem with forking. We can take an approach similar to
> SUBSCRIBE, and define a "reverse OPTIONS", which contains the capabilities
> of each UA. This reverse OPTIONS would be sent by each server back towards
> the UA that sent the OPTIONS, much like NOTIFY. 
> 
> But, I think thats overkill to solve a problem that is not so important. The
> limited use of OPTIONS, combined with the limited use of forking, makes this
> something which is a don't care. The proposal therefore is:
> 
> Proposal:
> 
> Document this limitation of OPTIONS with a few sentences.
> 
> -Jonathan R.
> 
> ---
> Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
> Chief Scientist                             First Floor
> dynamicsoft                                 East Hanover, NJ 07936
> jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
> http://www.jdrosen.net                      PHONE: (973) 952-5000
> http://www.dynamicsoft.com
>  
> 
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
> 


-- 
Jonathan D. Rosenberg, Ph.D.            72 Eagle Rock Avenue
Chief Scientist                         First Floor
dynamicsoft                             East Hanover, NJ 07936
jdrosen@dynamicsoft.com                 FAX: (973) 952-5050
http://www.jdrosen.net                  PH:  (973) 952-5000
http://www.dynamicsoft.com


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Dec 27 03:24:49 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id DAA13738
	for <sip-archive@odin.ietf.org>; Thu, 27 Dec 2001 03:24:49 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id DAA03084
	for sip-archive@odin.ietf.org; Thu, 27 Dec 2001 03:24:51 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id CAA01629;
	Thu, 27 Dec 2001 02:41:16 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id CAA01597
	for <sip@optimus.ietf.org>; Thu, 27 Dec 2001 02:41:13 -0500 (EST)
Received: from mail3.dynamicsoft.com ([63.113.44.69])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id CAA10850
	for <sip@ietf.org>; Thu, 27 Dec 2001 02:41:11 -0500 (EST)
Received: from dynamicsoft.com ([63.113.46.89])
	by mail3.dynamicsoft.com (8.12.1/8.12.1) with ESMTP id fBR7f6VZ003096;
	Thu, 27 Dec 2001 02:41:06 -0500 (EST)
Message-ID: <3C2AD077.8040109@dynamicsoft.com>
Date: Thu, 27 Dec 2001 02:40:39 -0500
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:0.9.4) Gecko/20011128 Netscape6/6.2.1
X-Accept-Language: en-us
MIME-Version: 1.0
To: Henry Chen <hjlechen@cisco.com>
CC: sip@ietf.org
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Subject: [Sip] Re: Issue #202: BYE/200 race condition in UAS
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit



Henry Chen wrote:

> Hi Jonathan:
> 
> 	Can a caller drop a call and stop ring called party in the alert
> state by the option 2 for issue #202?


Bug #202 deals only with the UAS. If the UAC wants to hang up before the 
called party has answered, it sends CANCEL.

-Jonathan R.



-- 
Jonathan D. Rosenberg, Ph.D.            72 Eagle Rock Avenue
Chief Scientist                         First Floor
dynamicsoft                             East Hanover, NJ 07936
jdrosen@dynamicsoft.com                 FAX: (973) 952-5050
http://www.jdrosen.net                  PH:  (973) 952-5000
http://www.dynamicsoft.com


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Dec 27 03:25:22 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id DAA13767
	for <sip-archive@odin.ietf.org>; Thu, 27 Dec 2001 03:25:22 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id DAA03103
	for sip-archive@odin.ietf.org; Thu, 27 Dec 2001 03:25:24 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id CAA01676;
	Thu, 27 Dec 2001 02:42:00 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id CAA01645
	for <sip@optimus.ietf.org>; Thu, 27 Dec 2001 02:41:57 -0500 (EST)
Received: from mail3.dynamicsoft.com ([63.113.44.69])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id CAA10909
	for <sip@ietf.org>; Thu, 27 Dec 2001 02:41:55 -0500 (EST)
Received: from dynamicsoft.com ([63.113.46.89])
	by mail3.dynamicsoft.com (8.12.1/8.12.1) with ESMTP id fBR7foVZ003099;
	Thu, 27 Dec 2001 02:41:50 -0500 (EST)
Message-ID: <3C2AD0A3.8020607@dynamicsoft.com>
Date: Thu, 27 Dec 2001 02:41:23 -0500
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:0.9.4) Gecko/20011128 Netscape6/6.2.1
X-Accept-Language: en-us
MIME-Version: 1.0
To: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
CC: sip@ietf.org
Subject: Re: [Sip] Open Issue #197: URLs in OPTIONS
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

There were no comments on this proposal. I will interpret silence as 
acceptance of the proposal. Issue closed.

-Jonathan R.

Jonathan Rosenberg wrote:

> Issue:
> 
> What kind of URLs are allowed in an OPTIONS response?
> 
> The right answer depends on the interpretation of the Contact in the OPTIONS
> response. Really, Contact has two separate meanings. The one in INVITE and
> INVITE-200 are signaling addresses, which always need to be one single SIP
> URL. The Contact in 3xx, REGISTER, and REGISTER-200 are alternate names for
> a user, which can be non-SIP URLs, and there can be more than one. The
> distinction is subtle (and this is why its one header), but I have become
> convinced that they are distinct.
> 
> Now, which of these two do we want in OPTIONS? If we are trying to obtain a
> direct address for signaling for INVITE, then we want the first
> interpretation, in which case it needs to be a single SIP URL. If its a set
> of alternate names for a user, then it can be multiple non-SIP URLs. 
> 
> Discussion:
> 
> In most cases, you are not going to be able to signal directly to the
> contact anyway, for firewall/nat/policy reasons. Therefore, the more useful
> piece of information is the alternate set of names for the user.
> 
> Proposal:
> 
> Contact in 2xx to OPTIONS has redirect semantics.
> 
> -Jonathan R.
> ---
> Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
> Chief Scientist                             First Floor
> dynamicsoft                                 East Hanover, NJ 07936
> jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
> http://www.jdrosen.net                      PHONE: (973) 952-5000
> http://www.dynamicsoft.com
>  
> 
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
> 


-- 
Jonathan D. Rosenberg, Ph.D.            72 Eagle Rock Avenue
Chief Scientist                         First Floor
dynamicsoft                             East Hanover, NJ 07936
jdrosen@dynamicsoft.com                 FAX: (973) 952-5050
http://www.jdrosen.net                  PH:  (973) 952-5000
http://www.dynamicsoft.com


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Dec 27 03:40:56 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id DAA14310
	for <sip-archive@odin.ietf.org>; Thu, 27 Dec 2001 03:40:56 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id DAA03680
	for sip-archive@odin.ietf.org; Thu, 27 Dec 2001 03:40:58 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id DAA02804;
	Thu, 27 Dec 2001 03:10:05 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id DAA02774
	for <sip@optimus.ietf.org>; Thu, 27 Dec 2001 03:10:03 -0500 (EST)
Received: from lohi.eng.song.fi (lohi.eng.song.fi [195.10.149.18])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id DAA12789
	for <sip@ietf.org>; Thu, 27 Dec 2001 03:10:00 -0500 (EST)
Received: from harjus.eng.song.fi (harjus.eng.song.fi [195.10.149.20])
	by lohi.eng.song.fi (8.12.1/8.12.1/Debian -5) with ESMTP id fBR89qio004473;
	Thu, 27 Dec 2001 10:09:52 +0200
From: Juha Heinanen <jh@lohi.eng.song.fi>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <15402.55120.64874.232438@harjus.eng.song.fi>
Date: Thu, 27 Dec 2001 10:09:52 +0200
To: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
Cc: "Henning G. Schulzrinne" <hgs@cs.columbia.edu>,
        Michael Thomas <mat@cisco.com>, sip@ietf.org
Subject: Re: [Sip] MAJOR Open Issue #184: Message size limitations
In-Reply-To: <3C2ACDB0.4090703@dynamicsoft.com>
References: <3C2ACDB0.4090703@dynamicsoft.com>
X-Mailer: VM 6.99 under Emacs 21.1.1
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Jonathan Rosenberg writes:

 > There was some discussion of this issue with Allison in an offline 
 > conversation. The result of that discussion was that your variation was 
 > a reasonable direction, similar to DNS. Specifically:
 > 
 > 1. if the request is larger than 1500 bytes, you MUST use TCP to send it,
 > 2. if the request came over udp, but the response is longer than 1500, 
 > you send a specific error response code which says "response is too big 
 > to go over udp, please retry request with tcp", and then proceed.

i don't think dns has anything like this.  instead dns servers and
resolvers are asked to support large size udp messages, see
draft-ietf-dnsext-message-size-04.txt.  a mixed mode behavious sounds
like a bad idea.

-- juha




_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Dec 27 04:39:28 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id EAA14728
	for <sip-archive@odin.ietf.org>; Thu, 27 Dec 2001 04:39:27 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id EAA05673
	for sip-archive@odin.ietf.org; Thu, 27 Dec 2001 04:39:29 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id EAA04729;
	Thu, 27 Dec 2001 04:11:38 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id EAA04698
	for <sip@optimus.ietf.org>; Thu, 27 Dec 2001 04:11:36 -0500 (EST)
Received: from shell.nominum.com (shell.nominum.com [128.177.192.160])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id EAA14552
	for <sip@ietf.org>; Thu, 27 Dec 2001 04:11:33 -0500 (EST)
Received: from shell.nominum.com (localhost [127.0.0.1])
	by shell.nominum.com (Postfix) with ESMTP
	id 1E6B33190C; Thu, 27 Dec 2001 01:11:05 -0800 (PST)
To: Juha Heinanen <jh@lohi.eng.song.fi>
Cc: Jonathan Rosenberg <jdrosen@dynamicsoft.com>,
        "Henning G. Schulzrinne" <hgs@cs.columbia.edu>,
        Michael Thomas <mat@cisco.com>, sip@ietf.org
Subject: Re: [Sip] MAJOR Open Issue #184: Message size limitations 
In-Reply-To: Message from Juha Heinanen <jh@lohi.eng.song.fi> 
   of "Thu, 27 Dec 2001 10:09:52 +0200." <15402.55120.64874.232438@harjus.eng.song.fi> 
Date: Thu, 27 Dec 2001 01:11:05 -0800
Message-ID: <8213.1009444265@shell.nominum.com>
From: Jim Reid <Jim.Reid@nominum.com>
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

>>>>> "Juha" == Juha Heinanen <jh@lohi.eng.song.fi> writes:

    >> Jonathan Rosenberg writes:
    >> There was some discussion of this issue with Allison in an
    >> offline conversation. The result of that discussion was that
    >> your variation was a reasonable direction, similar to
    >> DNS. Specifically:
    >> 
    >> 1. if the request is larger than 1500 bytes, you MUST use TCP
    >> to send it, 2. if the request came over udp, but the response
    >> is longer than 1500, you send a specific error response code
    >> which says "response is too big to go over udp, please retry
    >> request with tcp", and then proceed.

    Juha> i don't think dns has anything like this.  instead dns
    Juha> servers and resolvers are asked to support large size udp
    Juha> messages, see draft-ietf-dnsext-message-size-04.txt.  

The original poster is correct. This is *exactly* how DNS works. There
is an enormous installed base of stub resolvers and name servers that
only implement the current 512-byte payload over UDP and then TCP
retry on a truncated response. This won't be going away any time soon.
The above draft simply advocates the use of an existing protocol,
EDNS0, which has been done that allows for bigger UDP packets. It's
implemented in BIND9, though this isn't yet widely deployed. Even if
EDNS0 is everywhere, truncation and TCP retries will still occur,
albeit less frequently.

IMO, we should try to keep SIP simple. Set a reasonably large packet
size for UDP that should be "big enough" for the expected data. Then
allow TCP retries if/when that limit is exceeded. The trick will be
deciding how much is big enough and trading off arbitrary limits with
network/data fragmentation issues. That's how we got the 512 byte
limit in DNS. In the old days a 576 byte datagram (64 bytes of headers
and 512 bytes of data) was the maximum packet size that was guaranteed
to be sent across the net without getting fragmented.

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Dec 27 05:55:41 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id FAA15628
	for <sip-archive@odin.ietf.org>; Thu, 27 Dec 2001 05:55:41 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id FAA07586
	for sip-archive@odin.ietf.org; Thu, 27 Dec 2001 05:55:44 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id FAA07397;
	Thu, 27 Dec 2001 05:39:32 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id FAA07367
	for <sip@optimus.ietf.org>; Thu, 27 Dec 2001 05:39:30 -0500 (EST)
Received: from cs.columbia.edu (cs.columbia.edu [128.59.16.20])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id FAA15528
	for <sip@ietf.org>; Thu, 27 Dec 2001 05:39:26 -0500 (EST)
Received: from bart.cs.columbia.edu (bart.cs.columbia.edu [128.59.19.191])
	by cs.columbia.edu (8.9.3/8.9.3) with ESMTP id FAA06171;
	Thu, 27 Dec 2001 05:39:28 -0500 (EST)
Received: from cs.columbia.edu (bart.cs.columbia.edu [128.59.19.191])
	by bart.cs.columbia.edu (8.12.1/8.12.1) with ESMTP id fBRAdPpg015827;
	Thu, 27 Dec 2001 05:39:26 -0500 (EST)
Message-ID: <3C2AF995.E7FB6880@cs.columbia.edu>
Date: Thu, 27 Dec 2001 03:36:05 -0700
From: Henning Schulzrinne <hgs@cs.columbia.edu>
Organization: Columbia University
X-Mailer: Mozilla 4.76 [en] (Windows NT 5.0; U)
X-Accept-Language: en
MIME-Version: 1.0
To: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
CC: sip@ietf.org
Subject: Re: [Sip] Open Issue #204: Password in To/From URL
References: <3C2AB30B.6000605@dynamicsoft.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

> 
> Another point worth noting, thinking about it some more, is that in the
> most basic case, the r-uri will be rewritten with the registered contact
> of the called party, so the called party won't ever see the password
> (I'm assuming that the password is NOT part of the address-of-record).
> Thus, it does need to be in the To field to get to the called party, as
> it has e2e significance supposedly....
> 
> OK, so now I am going to back track, and rather propose to allow
> 
> the password in the To field, documenting its real uses and limitations
> of course.
> 
> Comments?

The fewer special cases, the better, so allowing it (with caveats) in
the three places seems like the right approach. It really is just a user
name convention (something that some people emulate in email, but which
requires special software help, as in joe+ or joe+lists.)

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Dec 27 06:29:29 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id GAA15856
	for <sip-archive@odin.ietf.org>; Thu, 27 Dec 2001 06:29:29 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id GAA08415
	for sip-archive@odin.ietf.org; Thu, 27 Dec 2001 06:29:30 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id GAA08139;
	Thu, 27 Dec 2001 06:12:15 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id GAA08107
	for <sip@optimus.ietf.org>; Thu, 27 Dec 2001 06:12:12 -0500 (EST)
Received: from alumnux.com ([202.140.147.171])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id GAA15759
	for <sip@ietf.org>; Thu, 27 Dec 2001 06:11:38 -0500 (EST)
Received: from alumnux.com (IDENT:root@nokia.alumnus.co.in [192.168.10.22])
	by alumnux.com (8.9.3/8.9.3) with ESMTP id WAA19118
	for <sip@ietf.org>; Thu, 27 Dec 2001 22:13:24 +0530
Message-ID: <3C2B02B6.2805B789@alumnux.com>
Date: Thu, 27 Dec 2001 16:45:02 +0530
From: Rudra Dutta <rudra@alumnux.com>
X-Mailer: Mozilla 4.75 [en] (X11; U; Linux 2.2.16-22 i686)
X-Accept-Language: en
MIME-Version: 1.0
To: sip@ietf.org
Content-Type: multipart/alternative;
 boundary="------------5DDF9CA7798542778A374560"
Subject: [Sip] Help Required - "ISUP to SIP Mapping"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org


--------------5DDF9CA7798542778A374560
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

Dear sir,
    I have some doubts in the draft "ISUP to SIP Mapping" ( you can find
this in the following site
http://www.ietf.org/internet-drafts/draft-ietf-sipping-isup-00.txt ).
Any help from anyone will be appreciated.
My questions are listed below:

    1) In section 6.1.1, page 9 - what type of audio (for e.g.
announcement) can flow through unidirectional audio path shown in the
figure, i.e. the audio path between IAM and ACM messages and between 18x
and PRACK messages?

    2) In section 7.1.1, page 25 - what type of audio (for e.g.
announcement) can flow through unidirectional audio path shown in the
figure, i.e. the audio paths between IAM and ACM messages and between
18x and PRACK messages?

    3) How announcement can be made before the establishment of a
session in SIP-PSTN setup ? (for e.g. 'one have 30 more minutes to
call')

    3) PRACK is not defined in rfc2543. When PRACK is required ?

    4) What can be passed through INFO method ?

    5) How billing information's can be passed to users (specially
pre-paid ones) ? Can INFO method be used for this purpose ?

Thanks in advance.

Regards,
Rudra Dutta
Alumnus Software Limited
Kolkata, India


--------------5DDF9CA7798542778A374560
Content-Type: text/html; charset=us-ascii
Content-Transfer-Encoding: 7bit

<!doctype html public "-//w3c//dtd html 4.0 transitional//en">
<html>
Dear sir,
<br>&nbsp;&nbsp;&nbsp; I have some doubts in the draft "ISUP to SIP Mapping"
( you can find this in the following site
<br><a href="http://www.ietf.org/internet-drafts/draft-ietf-sipping-isup-00.txt ">http://www.ietf.org/internet-drafts/draft-ietf-sipping-isup-00.txt
</a>).
<br>Any help from anyone will be appreciated.
<br>My questions are listed below:
<p>&nbsp;&nbsp;&nbsp; 1) In section 6.1.1, page 9 - what type of audio
(for e.g. announcement) can flow through unidirectional audio path shown
in the figure, i.e. the audio path between IAM and ACM messages and between
18x and PRACK messages?
<p>&nbsp;&nbsp;&nbsp; 2) In section 7.1.1, page 25 - what type of audio
(for e.g. announcement) can flow through unidirectional audio path shown
in the figure, i.e. the audio paths between IAM and ACM messages and between
18x and PRACK messages?
<p>&nbsp;&nbsp;&nbsp; 3) How announcement can be made before the establishment
of a session in SIP-PSTN setup ? (for e.g. 'one have 30 more minutes to
call')
<p>&nbsp;&nbsp;&nbsp; 3) PRACK is not defined in rfc2543. When PRACK is
required ?
<p>&nbsp;&nbsp;&nbsp; 4) What can be passed through INFO method ?
<p>&nbsp;&nbsp;&nbsp; 5) How billing information's can be passed to users
(specially pre-paid ones) ? Can INFO method be used for this purpose ?
<p>Thanks in advance.
<p>Regards,
<br><tt>Rudra Dutta<br>
Alumnus Software Limited<br>
Kolkata, India</tt>
<br>&nbsp;</html>

--------------5DDF9CA7798542778A374560--


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Dec 27 08:31:38 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id IAA16764
	for <sip-archive@odin.ietf.org>; Thu, 27 Dec 2001 08:31:38 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id IAA11382
	for sip-archive@odin.ietf.org; Thu, 27 Dec 2001 08:31:38 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id IAA10863;
	Thu, 27 Dec 2001 08:11:27 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id IAA10837
	for <sip@optimus.ietf.org>; Thu, 27 Dec 2001 08:11:24 -0500 (EST)
Received: from acmepacket.com (mail1.acmepacket.com [63.67.143.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id IAA16570
	for <sip@ietf.org>; Thu, 27 Dec 2001 08:11:22 -0500 (EST)
Received: from BobP [63.67.143.2] by acmepacket.com
  (SMTPD32-7.04) id ADFA4BA01B8; Thu, 27 Dec 2001 08:11:22 -0500
Message-ID: <002101c18ed6$d666ee60$2300000a@acmepacket.com>
From: "Bob Penfield" <bpenfield@acmepacket.com>
To: "Jonathan Rosenberg" <jdrosen@dynamicsoft.com>,
        "Robert Sparks" <rsparks@dynamicsoft.com>
Cc: <sip@ietf.org>
References: <3C2ABE9F.1070809@dynamicsoft.com>
Subject: Re: [Sip] Open Issue #282: Timer C needs minimum for proxies
Date: Thu, 27 Dec 2001 08:02:39 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 5.50.4133.2400
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4133.2400
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

> >
> > If this is acceptable, it still leaves us with the question
> > of what value we should recommend. I propose something
> > long - order of .5 to 1 hour (remember that calls stay in a
> > provisional state with early media when you are in the queue
> > to talk to an AA representative).
>
>
> Egads, thats a long time! Your point on early media is well taken,
> though. Arguably, if this case happens, 1 hour is not even enough, since
> I have certainly been on hold for durations longer than that. Probably 4
> hours is more reasonable. Once you've set the timer this high, it may as
> well be any finite number as far as the proxy is concerned. The only
> value in having a number at all (as opposed to infinity) is very long
> term garbage collection. You will get NO DoS attack prevention from
> numbers of this magnitude. You really need to be careful, as a proxy, to
> not create transaction state unless the request is authenticated somehow.
>
I don't think this really applies. I believe that most ACD systems that put
you on hold actually do answer the call. Especially ones that have DTMF
menus since some carriers block the caller to callee connection until it is
answered. Many TDM switches that I have experience with will tear down an
unanswered connection after 1 or 2 minutes. I think a 2 or 3 minute timer
would be adequate.

But, this is not the TDM world. So, if we want to provide for unanswered
calls being queued for long periods of time, maybe we could require the UAS
to send periodic provisional responses and the proxy could reset Timer C.
But that may be getting to complicated.

Service providers who charge for these calls don't want their resources used
for free for such a long period of time.

cheers,
(-:bob


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Dec 27 10:33:13 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id KAA17680
	for <sip-archive@odin.ietf.org>; Thu, 27 Dec 2001 10:33:13 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id KAA13873
	for sip-archive@odin.ietf.org; Thu, 27 Dec 2001 10:33:14 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id KAA13275;
	Thu, 27 Dec 2001 10:10:16 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id KAA13248
	for <sip@optimus.ietf.org>; Thu, 27 Dec 2001 10:10:14 -0500 (EST)
Received: from mail3.dynamicsoft.com ([63.113.44.69])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id KAA17389
	for <sip@ietf.org>; Thu, 27 Dec 2001 10:10:12 -0500 (EST)
Received: from dynamicsoft.com ([63.113.46.89])
	by mail3.dynamicsoft.com (8.12.1/8.12.1) with ESMTP id fBRFA9VZ003182;
	Thu, 27 Dec 2001 10:10:09 -0500 (EST)
Message-ID: <3C2B39B7.4040702@dynamicsoft.com>
Date: Thu, 27 Dec 2001 10:09:43 -0500
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:0.9.4) Gecko/20011128 Netscape6/6.2.1
X-Accept-Language: en-us
MIME-Version: 1.0
To: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
CC: sip@ietf.org
Subject: Re: [Sip] Open Issue #179: Multicast to unicast REGISTER
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

There have been no comments on this proposal. However, I'd like to amend 
the proposal. I think 302 is more appropriate, in fact. In that case, 
the same proposal as below holds, but replace 301 with 302. The caching 
would only apply when an Expires header is present.

Comments?

-Jonathan R.

Jonathan Rosenberg wrote:

> Issue:
> 
> The spec allows for clients to multicast their registrations. Presumably,
> refreshes are also sent multicast. Sometimes this is the right thing, but if
> the purpose of multicast REGISTER is just discovery, the client should
> probably unicast after it discovers, and then revert to multicast again only
> if that server becomes unavailable. However, the spec is silent on this
> case. Should we discuss?
> 
> Discussion points:
> 
> A 301 can be sent by the registar, providing a unicast address (this is only
> now possible in bis-05 due to the new multicast treatment). However, the 301
> would be cached indefinitely at the client, and its not clear what the
> behavior is for cached redirects on failure. If we specify that it retries
> the original request that generated the 3xx, then the registrar has a
> mechanism it can use.
> 
> Proposal:
> 
>  * add text to 301 section saying that if a cached contact fails, try the
> original URI again
> 
>  * add text in the registration section, mentioning that this is a useful
> thing to do. Otherwise, people may not be prepared to have their
> registrations redirected, even though the spec does allow it.
> 
> -Jonathan R.
> 
> ---
> Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
> Chief Scientist                             First Floor
> dynamicsoft                                 East Hanover, NJ 07936
> jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
> http://www.jdrosen.net                      PHONE: (973) 952-5000
> http://www.dynamicsoft.com
>  
> 
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
> 


-- 
Jonathan D. Rosenberg, Ph.D.            72 Eagle Rock Avenue
Chief Scientist                         First Floor
dynamicsoft                             East Hanover, NJ 07936
jdrosen@dynamicsoft.com                 FAX: (973) 952-5050
http://www.jdrosen.net                  PH:  (973) 952-5000
http://www.dynamicsoft.com


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Dec 27 10:38:50 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id KAA17728
	for <sip-archive@odin.ietf.org>; Thu, 27 Dec 2001 10:38:50 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id KAA13924
	for sip-archive@odin.ietf.org; Thu, 27 Dec 2001 10:38:52 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id KAA13362;
	Thu, 27 Dec 2001 10:15:34 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id KAA13338
	for <sip@optimus.ietf.org>; Thu, 27 Dec 2001 10:15:31 -0500 (EST)
Received: from mail1.dynamicsoft.com (mail1.dynamicsoft.com [63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id KAA17437
	for <sip@ietf.org>; Thu, 27 Dec 2001 10:15:29 -0500 (EST)
Received: from DYN-VA-EXCH-001.dynamicsoft.com (dyn-va-exch-001 [63.114.208.70])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fBRFCkpe007323;
	Thu, 27 Dec 2001 10:12:46 -0500 (EST)
Received: by DYN-VA-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2650.21)
	id <ZD2B2TS1>; Thu, 27 Dec 2001 10:14:26 -0500
Message-ID: <9BF66EBF6BEFD942915B4D4D45C051F338E8E3@DYN-TX-EXCH-001.dynamicsoft.com>
From: Robert Sparks <rsparks@dynamicsoft.com>
To: Jonathan Rosenberg <jdrosen@dynamicsoft.com>,
        Robert Sparks
	 <rsparks@dynamicsoft.com>
Cc: John.Hearty@Level3.com, sip@ietf.org
Subject: RE: [Sip] Open Issue #282: Timer C needs minimum for proxies
Date: Thu, 27 Dec 2001 10:14:22 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2650.21)
Content-Type: text/plain
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

inline

> From: Jonathan Rosenberg [mailto:jdrosen@dynamicsoft.com]
> Robert Sparks wrote:
> 
> > This is related to the question of how proxies treat
> > an Expires header in an INVITE. If we ask a proxy to
> > remain aware of that header, it will influence timer C
> > and we have to answer what the timer should be if there
> > is no Expires header present.
> 
> 
> I see the Expires issue as orthogonal. Whether or not proxies
> look at expires, we need to have a minimum value for timer C
> at proxies.

Agree - we need a minimum value. I was interpreting minimum
to be default which led me down this path. Expires _definitely_
should override a default.

> 
> 
> > 
> > If proxies remain aware of the Expires header, I expect
> > most of them to have a policy that limits how large 
> > timer C can be made (otherwise, they increase their 
> > vunerability to state-depletion DoS through lots of
> > INVITEs with very long Expires). 
> > 
> > I propose we recognize this policy and base timer C
> > at a proxy on that alone, recommending a reasonably
> > long value.
> 
> 
> I'm not certain what "that" refers to in the sentence above.
that == "this policy" (described in the paragraph above).
> 
> 
> > 
> > With this proposal, a proxy would not even need to parse
> > the Expires header for an INVITE. If an Expires header
> > is present with a shorter value than what the proxy
> > uses for timer C one of four things will happen:
> > 
> > 1) the receiving endpoint with 408 the request - the
> >    proxy's client transaction gets to enter
> >    the completed state
> > 2) the requesting endpoint CANCELs and the receiving
> >    endpoint returns a 487 - the proxy's client transaction
> >    gets to enter the completed state
> > 3) the requesting endpoint CANCELS but the receiving
> >    endpoint fails to return a 487 - the proxy's client
> >    transaction enters the terminal state after 
> >    timer C expires
> > 4) both endpoints (or the network infrastructure) are
> >    misbehaving - the proxy's client transaction enters
> >    the terminal state after timer C expires.
> 
> 
> 
> I think this is totally orthogonal. I don't want to sidetrack this 
> thread into a discussion on whether proxies should CANCEL 
> when an INVITE 
> Expires. I will open an issue on that and post separately.
> 
> 
> > 
> > If this is acceptable, it still leaves us with the question
> > of what value we should recommend. I propose something
> > long - order of .5 to 1 hour (remember that calls stay in a 
> > provisional state with early media when you are in the queue
> > to talk to an AA representative).
> 
> 
> Egads, thats a long time! Your point on early media is well taken, 
> though. Arguably, if this case happens, 1 hour is not even 
> enough, since 
> I have certainly been on hold for durations longer than that. 
> Probably 4 
> hours is more reasonable. Once you've set the timer this 
> high, it may as 
> well be any finite number as far as the proxy is concerned. The only 
> value in having a number at all (as opposed to infinity) is very long 
> term garbage collection. You will get NO DoS attack prevention from 
> numbers of this magnitude. You really need to be careful, as 
> a proxy, to 
> not create transaction state unless the request is 
> authenticated somehow.
> 
> -Jonathan R.
> 
> 
> 
> -- 
> Jonathan D. Rosenberg, Ph.D.            72 Eagle Rock Avenue
> Chief Scientist                         First Floor
> dynamicsoft                             East Hanover, NJ 07936
> jdrosen@dynamicsoft.com                 FAX: (973) 952-5050
> http://www.jdrosen.net                  PH:  (973) 952-5000
> http://www.dynamicsoft.com
> 

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Dec 27 11:15:52 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id LAA18004
	for <sip-archive@odin.ietf.org>; Thu, 27 Dec 2001 11:15:51 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id LAA14852
	for sip-archive@odin.ietf.org; Thu, 27 Dec 2001 11:15:54 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id KAA14109;
	Thu, 27 Dec 2001 10:57:30 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id KAA14076
	for <sip@optimus.ietf.org>; Thu, 27 Dec 2001 10:57:27 -0500 (EST)
Received: from mail1.dynamicsoft.com (mail1.dynamicsoft.com [63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id KAA17887
	for <sip@ietf.org>; Thu, 27 Dec 2001 10:57:25 -0500 (EST)
Received: from DYN-VA-EXCH-001.dynamicsoft.com (dyn-va-exch-001 [63.114.208.70])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fBRFtHpe007515;
	Thu, 27 Dec 2001 10:55:17 -0500 (EST)
Received: by DYN-VA-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2650.21)
	id <ZD2B2TSP>; Thu, 27 Dec 2001 10:56:57 -0500
Message-ID: <9BF66EBF6BEFD942915B4D4D45C051F338E8E4@DYN-TX-EXCH-001.dynamicsoft.com>
From: Robert Sparks <rsparks@dynamicsoft.com>
To: "'Bob Penfield'" <bpenfield@acmepacket.com>,
        Jonathan Rosenberg
	 <jdrosen@dynamicsoft.com>,
        Robert Sparks <rsparks@dynamicsoft.com>
Cc: sip@ietf.org
Date: Thu, 27 Dec 2001 10:56:49 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2650.21)
Content-Type: text/plain;
	charset="iso-8859-1"
Subject: [Sip] Default value for Timer C (was #282)
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

I'm talking about a _real problem_ that I have
_right now_ with the UAs on my desk and the gateways
I have access to. I have not _ever_ been able to successfully
use my SIP equipment to have a successful dialog with AA.
Try it - call +18004337300 - my environment drops the unanswered
call about 58 seconds into the first menu (yes, the first menu
is over a minute long).

Now, if all the SIP parties involved allowed me to 1) control my
own Expires header, and 2) actually honored the thing, I could
work around it. But what about my tweak-phobic aquaintances
and relatives? 

In this case, the endpoints are dropping the call, but if I had
otherwise behaving endpoints, and a proxy in the middle with a
_default_ Timer C value that is too small, I am left with
at least one well-known service that just doesn't work.

Now, we could get into a discussion about whether or not a service
_should_ run a whole bunch of time in an early media state, but
that's rather moot - we've worked really hard to make the system
allow it, and it will be used. We're here on purpose, not by 
misfortune of oversight. 

As for your last paragraph - who says early media has to be free?

RjS


> From: Bob Penfield [mailto:bpenfield@acmepacket.com]
> > >
> > > If this is acceptable, it still leaves us with the question
> > > of what value we should recommend. I propose something
> > > long - order of .5 to 1 hour (remember that calls stay in a
> > > provisional state with early media when you are in the queue
> > > to talk to an AA representative).
> >
> >
> > Egads, thats a long time! Your point on early media is well taken,
> > though. Arguably, if this case happens, 1 hour is not even 
> enough, since
> > I have certainly been on hold for durations longer than 
> that. Probably 4
> > hours is more reasonable. Once you've set the timer this 
> high, it may as
> > well be any finite number as far as the proxy is concerned. The only
> > value in having a number at all (as opposed to infinity) is 
> very long
> > term garbage collection. You will get NO DoS attack prevention from
> > numbers of this magnitude. You really need to be careful, 
> as a proxy, to
> > not create transaction state unless the request is 
> authenticated somehow.
> >
> I don't think this really applies. I believe that most ACD 
> systems that put
> you on hold actually do answer the call. Especially ones that 
> have DTMF
> menus since some carriers block the caller to callee 
> connection until it is
> answered. Many TDM switches that I have experience with will 
> tear down an
> unanswered connection after 1 or 2 minutes. I think a 2 or 3 
> minute timer
> would be adequate.
> 
> But, this is not the TDM world. So, if we want to provide for 
> unanswered
> calls being queued for long periods of time, maybe we could 
> require the UAS
> to send periodic provisional responses and the proxy could 
> reset Timer C.
> But that may be getting to complicated.
> 
> Service providers who charge for these calls don't want their 
> resources used
> for free for such a long period of time.
> 
> cheers,
> (-:bob
> 
> 
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
> 

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Dec 27 11:19:39 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id LAA18053
	for <sip-archive@odin.ietf.org>; Thu, 27 Dec 2001 11:19:39 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id LAA14930
	for sip-archive@odin.ietf.org; Thu, 27 Dec 2001 11:19:38 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id LAA14677;
	Thu, 27 Dec 2001 11:06:48 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id LAA14577
	for <sip@optimus.ietf.org>; Thu, 27 Dec 2001 11:06:42 -0500 (EST)
Received: from mail3.dynamicsoft.com ([63.113.44.69])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id LAA17941
	for <sip@ietf.org>; Thu, 27 Dec 2001 11:06:39 -0500 (EST)
Received: from dynamicsoft.com ([63.113.46.89])
	by mail3.dynamicsoft.com (8.12.1/8.12.1) with ESMTP id fBRG6JVZ003225;
	Thu, 27 Dec 2001 11:06:19 -0500 (EST)
Message-ID: <3C2B46E1.6010900@dynamicsoft.com>
Date: Thu, 27 Dec 2001 11:05:53 -0500
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:0.9.4) Gecko/20011128 Netscape6/6.2.1
X-Accept-Language: en-us
MIME-Version: 1.0
To: Scott Orton <orton@nortelnetworks.com>
CC: "'brett'" <brett@broadsoft.com>, sip <sip@ietf.org>
Subject: Re: [Sip] Open Issue #139: re-INVITE Glare
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

inline.

Scott Orton wrote:

 > I like the 491 response code. I also prefer the idea of using the
 > owner of the Call-ID as Brett proposed below. I would suggest
 > taking it a little further.
 >
 > Lets assume that A is the owner of the Call-ID and B is the other
 > party.  If A receives the re-invite from B it should send a 491 to
 > the Invite from B. If B on receives a re-Invite from A it should
 > process the request, rather than sending the 491, and wait for the
 > 491 for its own re-invite.

Alas, were it that simple, we would have resolved this long ago.

The problem with this, and Brett's solutions (although his will still 
work, just may not produce an early winner as expected), is that they 
rely on a *shared view* of whether there is glare or not. Turns out that 
you cannot guarantee it. So, let me give two examples where there is not 
a shared view, and having an algorithm for choosing a winner fails.

I actually posted this to the list over a year back:

   I'm afraid this solution does not work as specified. It only works
   if both sides agree they are in a glare situation. Consider the
   following case. A sends a reinvite to B. B receives it, and responds
   with a 200. This response takes a while to get to A. Now, B sends a
   re-INVITE to A (as far as B is concerned, the reinvite it received
   has been responded to, thus there is no glare, and it can send a new
   re-INVITE). A receives that re-invite. A thinks there is glare, and
   decides its the winner, so it responds. Then, A gets the non-500
   response from B. Now A is really confused.

   You could argue that B shouldn't even send that re-INVITE until the
   ACK is received for the re-INVITE B got first. However, there is
   still a race condition that makes it not work, although its even
   less likely. Heres the case: A sends a re-invite to B that gets
   lost. B sends a re-invite to A. A sees glare, and decides A should
   win, so it responds with a 200 OK. B ACKs, and A gets the ACK. Then, that
   lost reinvite arrives at B. B thinks everything is fine, since the
   previous reinvite it sent has been ACKed. So, it sends a 200
   OK. Now, A is once again confused. It expected B to reject that first
   INVITE, since A was declared the winner.


Now, Brett had proposed a variant:

> However I agree with John that something 
> should produce an early winner of the 
> re-INVITE glare.  How about allowing the 
> owner of the Call-ID to have the random 
> 0 to 2 seconds (by 10ms) and the other 
> gets random between 2.1 and 4 seconds 
> (by 10ms)?  Session refreshing induced 
> reinvites should choose higher random 
> backoff intervals assuming that there 
> is time left to accommodate it.
> 

There are cases where the "owner of the call-id" is also not known. 
Consider the case where A calls B. A crashes. B detects this through 
ICMP on the media channel, and does a re-INVITE to re-establish. A 
backup for A reconstitutes the state, and the call continues. Now, A 
thinks that B owns the Call-ID, and B thinks A owns it. Hmmm.

In this case, what you are proposing will still work, it just may 
require another round. I'm assuming the reason you are proposing one of 
them using 2-4 seconds is to avoid a second glare condition, in the 
event both sides choose the same random number. Despite the case above, 
I think its a reasonable idea, since the above situation is a corner 
case, and the odds of another glare are still fairly high (I think the 
odds of it are something like the RTT over the randomization interval).

So, I would propose amending my original proposal to incorporate Brett's 
idea of having one side choose a larger value for the range based on a 
heuristic.

-Jonathan R.



-- 
Jonathan D. Rosenberg, Ph.D.            72 Eagle Rock Avenue
Chief Scientist                         First Floor
dynamicsoft                             East Hanover, NJ 07936
jdrosen@dynamicsoft.com                 FAX: (973) 952-5050
http://www.jdrosen.net                  PH:  (973) 952-5000
http://www.dynamicsoft.com


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Dec 27 11:26:36 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id LAA18104
	for <sip-archive@odin.ietf.org>; Thu, 27 Dec 2001 11:26:36 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id LAA15003
	for sip-archive@odin.ietf.org; Thu, 27 Dec 2001 11:26:38 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id LAA14735;
	Thu, 27 Dec 2001 11:09:08 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id LAA14704
	for <sip@optimus.ietf.org>; Thu, 27 Dec 2001 11:09:06 -0500 (EST)
Received: from pmesmtp02.wcom.com (pmesmtp02.wcom.com [199.249.20.2])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id LAA17954
	for <sip@ietf.org>; Thu, 27 Dec 2001 11:09:03 -0500 (EST)
Received: from CONVERSION-DAEMON by firewall.wcom.com (PMDF V5.2-32 #42257)
 id <0GP000701FI8UK@firewall.wcom.com> for sip@ietf.org; Thu,
 27 Dec 2001 16:08:32 +0000 (GMT)
Received: from pmismtp04.wcomnet.com ([166.38.62.39])
 by firewall.wcom.com (PMDF V5.2-32 #42257)
 with ESMTP id <0GP0003L9FI71Z@firewall.wcom.com>; Thu,
 27 Dec 2001 16:08:32 +0000 (GMT)
Received: from pmismtp04.wcomnet.com by pmismtp04.wcomnet.com
 (PMDF V5.2-33 #42258) with SMTP id <0GP000501FI7RV@pmismtp04.wcomnet.com>;
 Thu, 27 Dec 2001 16:08:31 +0000 (GMT)
Received: from hsinnreich2 ([166.42.33.218])
 by pmismtp04.wcomnet.com (PMDF V5.2-33 #42258)
 with ESMTP id <0GP000535FHVGH@pmismtp04.wcomnet.com>; Thu,
 27 Dec 2001 16:08:23 +0000 (GMT)
Date: Thu, 27 Dec 2001 10:08:19 -0600
From: Henry Sinnreich <Henry.Sinnreich@wcom.com>
Subject: RE: [Sip] Default value for Timer C (was #282)
In-reply-to: 
 <9BF66EBF6BEFD942915B4D4D45C051F338E8E4@DYN-TX-EXCH-001.dynamicsoft.com>
To: "'Robert Sparks'" <rsparks@dynamicsoft.com>,
        "'Bob Penfield'" <bpenfield@acmepacket.com>,
        "'Jonathan Rosenberg'" <jdrosen@dynamicsoft.com>
Cc: sip@ietf.org
Message-id: <002501c18ef0$b4cacf50$c5282aa6@hsinnreich2>
Organization: WorldCom, Inc.
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-Mailer: Microsoft Outlook, Build 10.0.3311
Content-type: text/plain; charset=US-ASCII
Content-transfer-encoding: 7bit
Importance: Normal
X-Priority: 3 (Normal)
X-MSMail-priority: Normal
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

> I have not _ever_ been able to successfully
> use my SIP equipment to have a successful dialog with AA.

I have exactly the same experience. 
As for:

> Now, if all the SIP parties involved allowed me to 1) control my
> own Expires header, and 2) actually honored the thing,

I don't know how to tweak to and I don't ever want to know.

Is there a better approach to fix the timer value or am I missing
something?

Thanks, Henry

> -----Original Message-----
> From: sip-admin@ietf.org [mailto:sip-admin@ietf.org] On Behalf Of
Robert
> Sparks
> Sent: Thursday, December 27, 2001 9:57 AM
> To: 'Bob Penfield'; Jonathan Rosenberg; Robert Sparks
> Cc: sip@ietf.org
> Subject: [Sip] Default value for Timer C (was #282)
> 
> I'm talking about a _real problem_ that I have
> _right now_ with the UAs on my desk and the gateways
> I have access to. I have not _ever_ been able to successfully
> use my SIP equipment to have a successful dialog with AA.
> Try it - call +18004337300 - my environment drops the unanswered
> call about 58 seconds into the first menu (yes, the first menu
> is over a minute long).
> 
> Now, if all the SIP parties involved allowed me to 1) control my
> own Expires header, and 2) actually honored the thing, I could
> work around it. But what about my tweak-phobic aquaintances
> and relatives?
> 
> In this case, the endpoints are dropping the call, but if I had
> otherwise behaving endpoints, and a proxy in the middle with a
> _default_ Timer C value that is too small, I am left with
> at least one well-known service that just doesn't work.
> 
> Now, we could get into a discussion about whether or not a service
> _should_ run a whole bunch of time in an early media state, but
> that's rather moot - we've worked really hard to make the system
> allow it, and it will be used. We're here on purpose, not by
> misfortune of oversight.
> 
> As for your last paragraph - who says early media has to be free?
> 
> RjS
> 
> 
> > From: Bob Penfield [mailto:bpenfield@acmepacket.com]
> > > >
> > > > If this is acceptable, it still leaves us with the question
> > > > of what value we should recommend. I propose something
> > > > long - order of .5 to 1 hour (remember that calls stay in a
> > > > provisional state with early media when you are in the queue
> > > > to talk to an AA representative).
> > >
> > >
> > > Egads, thats a long time! Your point on early media is well taken,
> > > though. Arguably, if this case happens, 1 hour is not even
> > enough, since
> > > I have certainly been on hold for durations longer than
> > that. Probably 4
> > > hours is more reasonable. Once you've set the timer this
> > high, it may as
> > > well be any finite number as far as the proxy is concerned. The
only
> > > value in having a number at all (as opposed to infinity) is
> > very long
> > > term garbage collection. You will get NO DoS attack prevention
from
> > > numbers of this magnitude. You really need to be careful,
> > as a proxy, to
> > > not create transaction state unless the request is
> > authenticated somehow.
> > >
> > I don't think this really applies. I believe that most ACD
> > systems that put
> > you on hold actually do answer the call. Especially ones that
> > have DTMF
> > menus since some carriers block the caller to callee
> > connection until it is
> > answered. Many TDM switches that I have experience with will
> > tear down an
> > unanswered connection after 1 or 2 minutes. I think a 2 or 3
> > minute timer
> > would be adequate.
> >
> > But, this is not the TDM world. So, if we want to provide for
> > unanswered
> > calls being queued for long periods of time, maybe we could
> > require the UAS
> > to send periodic provisional responses and the proxy could
> > reset Timer C.
> > But that may be getting to complicated.
> >
> > Service providers who charge for these calls don't want their
> > resources used
> > for free for such a long period of time.
> >
> > cheers,
> > (-:bob
> >
> >
> > _______________________________________________
> > Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> > This list is for NEW development of the core SIP Protocol
> > Use sip-implementors@cs.columbia.edu for questions on current sip
> > Use sipping@ietf.org for new developments on the application of sip
> >
> 
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Dec 27 11:39:39 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id LAA18247
	for <sip-archive@odin.ietf.org>; Thu, 27 Dec 2001 11:39:38 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id LAA15657
	for sip-archive@odin.ietf.org; Thu, 27 Dec 2001 11:39:41 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id LAA14905;
	Thu, 27 Dec 2001 11:17:22 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id LAA14874
	for <sip@optimus.ietf.org>; Thu, 27 Dec 2001 11:17:20 -0500 (EST)
Received: from mail3.dynamicsoft.com ([63.113.44.69])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id LAA18032
	for <sip@ietf.org>; Thu, 27 Dec 2001 11:17:17 -0500 (EST)
Received: from dynamicsoft.com ([63.113.46.89])
	by mail3.dynamicsoft.com (8.12.1/8.12.1) with ESMTP id fBRGHBVZ003229;
	Thu, 27 Dec 2001 11:17:11 -0500 (EST)
Message-ID: <3C2B496D.9060400@dynamicsoft.com>
Date: Thu, 27 Dec 2001 11:16:45 -0500
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:0.9.4) Gecko/20011128 Netscape6/6.2.1
X-Accept-Language: en-us
MIME-Version: 1.0
To: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
CC: sip@ietf.org
Subject: Re: [Sip] Open Issue #81: caching of proxy credentials
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

There were no comments on this proposal. I will interpret silence as 
consensus. Text on caching of credentials will be incorporated into bis.

-Jonathan R.

Jonathan Rosenberg wrote:

> Issue:
> 
> The spec talks about caching of proxy-authorization credentials. However,
> the 
> wording is really vague about how a proxy would know whether or not a given 
> request should use a specific credential. We need to give a concise, 
> algorithmic formula for a UA to determine which credentials to place into a 
> request. 
> 
> Points of discussion:
> 
> Even if its not done correctly, things still work; it just may take some
> time to go through the challenges again. As such, it is worthwhile to come
> up with a solution that covers the most common cases. The most common cases
> where caching will be useful are (1) requests within a dialog, where you
> want to reuse the credentials for proxies along the chain of proxies in the
> route set, and (2) local outbound proxies, where you want to use credentials
> for your local outbound proxy even for requests for a new dialog.
> 
> Its worth noting that we have a similar issue with the session timer in
> dealing with issue (1). The Min-SE header is cached for the duration of a
> dialog. Things get complex in that case, and here too, since the set of
> proxies which see the initial INVITE might not be the same set which are on
> the route set for the established dialog. As a result of that, session timer
> recommends effectively flushing your cache once the dialog is established,
> so you get a fresh Min-SE. However, in the case here, the odds of being
> rejected without this cache are 100%, as opposed to there, where its much
> smaller. So, I am not sure we can afford this luxury.
> 
> Now, the complexity with (2) is knowing WHICH credential corresponds to the
> one for your local outbound proxy. This can either be configured, or it will
> generally be the first challenge you receive.
> 
> Of course, UA's could even be smart about guessing which credentials to
> include; the penalty for including the wrong ones is not high, I don't
> think, unless you are trying to maintain privacy, in which case they do
> reveal your username. But, thats an issue for the privacy specs to worry
> about.
> 
> Proposal:
> 
> UA MAY cache credentials in any way it likes.
> 
> The following rule, however, is RECOMMENDED:
> 
>    * If a UA receives a Proxy-Authenticate in a 401/407 to a request with a
> particular Call-ID, it includes credentials for that realm in all subsequent
> requests that contain the same Call-ID. By definition of the Call-ID, these
> won't be cached across dialogs. However, this does mean a request could
> contain credentials that are not needed at any proxy along the path.
> 
> The following rules MAY be followed as a simple but reasonable approach:
> 
>    * The UA is configured with the realm of its local outbound proxy, when
> one exists, and the UA caches credentials for that realm across dialogs. 
> 
>    * If a UA receives a WWW-Authenticate in a 401/407 to a request with a
> particular To URI, it reuses that credential in any subsequent request to
> the same To URI.
> 
> 
> 
> -Jonathan R.
> 
> ---
> Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
> Chief Scientist                             First Floor
> dynamicsoft                                 East Hanover, NJ 07936
> jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
> http://www.jdrosen.net                      PHONE: (973) 952-5000
> http://www.dynamicsoft.com
>  
> 
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
> 


-- 
Jonathan D. Rosenberg, Ph.D.            72 Eagle Rock Avenue
Chief Scientist                         First Floor
dynamicsoft                             East Hanover, NJ 07936
jdrosen@dynamicsoft.com                 FAX: (973) 952-5050
http://www.jdrosen.net                  PH:  (973) 952-5000
http://www.dynamicsoft.com


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Dec 27 11:44:55 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id LAA18291
	for <sip-archive@odin.ietf.org>; Thu, 27 Dec 2001 11:44:55 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id LAA15728
	for sip-archive@odin.ietf.org; Thu, 27 Dec 2001 11:44:57 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id LAA15052;
	Thu, 27 Dec 2001 11:27:32 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id LAA15021
	for <sip@optimus.ietf.org>; Thu, 27 Dec 2001 11:27:29 -0500 (EST)
Received: from mail3.dynamicsoft.com ([63.113.44.69])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id LAA18122
	for <sip@ietf.org>; Thu, 27 Dec 2001 11:27:26 -0500 (EST)
Received: from dynamicsoft.com ([63.113.46.89])
	by mail3.dynamicsoft.com (8.12.1/8.12.1) with ESMTP id fBRGRLVZ003235;
	Thu, 27 Dec 2001 11:27:21 -0500 (EST)
Message-ID: <3C2B4BCF.1000401@dynamicsoft.com>
Date: Thu, 27 Dec 2001 11:26:55 -0500
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:0.9.4) Gecko/20011128 Netscape6/6.2.1
X-Accept-Language: en-us
MIME-Version: 1.0
To: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
CC: "Fairlie-Cuninghame, Robert" <rfairlie@nuera.com>,
        "'Gonzalo Camarillo'" <Gonzalo.Camarillo@lmf.ericsson.se>,
        sip@ietf.org
Subject: Re: [Sip] Open Issue #128: 503 and SRV
References: <3C1FA223.9060409@dynamicsoft.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Since I do not believe the point Robert raised is really an issue here, 
I am going to declare this issue closed. Note that it has already been 
reflected in draft-ietf-sip-srv-03.

Thanks,
Jonathan R.

Jonathan Rosenberg wrote:

> 
> 
> Fairlie-Cuninghame, Robert wrote:
> 
>> This does raise an interesting question though.
>>
>> 503 Service Unavailable will be either misleading or meaningless to the
>> normal end user. Normally the response should really only be returned 
>> to the
>> user if this is the _real_ response reason (e.g. down for 
>> maintenance). If
>> on the other hand, the UAS is just returning this response for some other
>> reason (e.g. all lines are busy in a call pool and the UAS is trying to
>> trigger an SRV-based load-balancing mechanism), then the UAS needs to 
>> know
>> that SRV-based load-levelling is being used.
> 
> 
> 
> Proxies need to be cautious about propagating 503 upstream, thats in the 
> spec already. However, I don't think its the appropriate for the usage 
> you have in mind; 503 is really for the case where a set of homogeneous 
> servers all provide the same service as a cluster rather than a single 
> machine. More intelligent, application layer logic would dictate the 
> usage of other response codes.
> 
> I will note that there was consensus to have 503 trigger the next SRV 
> look up at the IETF meeting.
> 
> -Jonathan R.


-- 
Jonathan D. Rosenberg, Ph.D.            72 Eagle Rock Avenue
Chief Scientist                         First Floor
dynamicsoft                             East Hanover, NJ 07936
jdrosen@dynamicsoft.com                 FAX: (973) 952-5050
http://www.jdrosen.net                  PH:  (973) 952-5000
http://www.dynamicsoft.com


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Dec 27 11:51:06 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id LAA18364
	for <sip-archive@odin.ietf.org>; Thu, 27 Dec 2001 11:51:06 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id LAA15858
	for sip-archive@odin.ietf.org; Thu, 27 Dec 2001 11:51:09 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id LAA15639;
	Thu, 27 Dec 2001 11:39:01 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id LAA15609
	for <sip@optimus.ietf.org>; Thu, 27 Dec 2001 11:38:59 -0500 (EST)
Received: from mail3.dynamicsoft.com ([63.113.44.69])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id LAA18242
	for <sip@ietf.org>; Thu, 27 Dec 2001 11:38:56 -0500 (EST)
Received: from dynamicsoft.com ([63.113.46.89])
	by mail3.dynamicsoft.com (8.12.1/8.12.1) with ESMTP id fBRGcrVZ003242;
	Thu, 27 Dec 2001 11:38:53 -0500 (EST)
Message-ID: <3C2B4E83.9080703@dynamicsoft.com>
Date: Thu, 27 Dec 2001 11:38:27 -0500
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:0.9.4) Gecko/20011128 Netscape6/6.2.1
X-Accept-Language: en-us
MIME-Version: 1.0
To: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
CC: sip@ietf.org
Subject: Re: [Sip] Open Issue #220: Stateless SRV Pain II
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

There were no comments on this proposal on the list.

This proposal is more or less what was placed in draft-ietf-sip-srv-03; 
the text there is a bit softer, saying that all proxies have to meet the 
requirement that all requests within the same transaction (plus CANCEL 
for it) need to go to the same server, period. If a stateless proxy can 
accomplish that, great, and the text gives some guidelines about doing 
it when there isn't a failure. However, when a server has failed, it is 
impossible to do statelessly, and the text points this out.

As such, I consider this issue resolved.

-Jonathan R.

Jonathan Rosenberg wrote:

> The specification requires that all requests within a call be sent to the
> same 
> address. It was assumed that this could be accomplished statelessly by using
> the 
> call-id as the seed of a random number generator to select one element
> amongst a 
> set of equal priority elements with different weights. However, thats only
> true 
> if the first try succeeds. If it fails, the next server is used. In 
> that case, there is state reflected in the fact that two tries were made.
> Its 
> not clear how this is accomplished in a stateless proxy except to have it
> always 
> start at the top; it will try that first server, have it fail, and then use
> the second. 
> Thus, each retransmission will retry the failed server. If there are N
> failed servers, each
> retransmit will have to try each of those N servers over again.
> 
> Of course, if the 
> element comes back to life mid-transaction, you will split requests across 
> elements for the same transaction. That may be OK in some cases, not OK in 
> others.
> 
> Discussion:
> 
> It is clear that SRV processing is difficult and complex to do on stateless
> elements. I don't want to rule it out, but I think the specification should
> be honest and recommend that if you do SRV processing a proxy, it should
> really be stateful in order to reasonably operate. If a stateless proxy uses
> SRV, the problems described above will occur. The result will be overly long
> setup times, and potential failure scenarios when elements are added or
> removed from service, either gracefully or through failure or recovery.
> 
> Proposal:
> 
> RECOMMENDED that proxies whihc do SRV are stateful
> Document the limitations when stateless proxies do SRV
> 
> -Jonathan R.
> ---
> Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
> Chief Scientist                             First Floor
> dynamicsoft                                 East Hanover, NJ 07936
> jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
> http://www.jdrosen.net                      PHONE: (973) 952-5000
> http://www.dynamicsoft.com
>  
> 
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
> 


-- 
Jonathan D. Rosenberg, Ph.D.            72 Eagle Rock Avenue
Chief Scientist                         First Floor
dynamicsoft                             East Hanover, NJ 07936
jdrosen@dynamicsoft.com                 FAX: (973) 952-5050
http://www.jdrosen.net                  PH:  (973) 952-5000
http://www.dynamicsoft.com


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Dec 27 11:56:02 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id LAA18408
	for <sip-archive@odin.ietf.org>; Thu, 27 Dec 2001 11:56:02 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id LAA15929
	for sip-archive@odin.ietf.org; Thu, 27 Dec 2001 11:56:05 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id LAA15563;
	Thu, 27 Dec 2001 11:35:43 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id LAA15534
	for <sip@optimus.ietf.org>; Thu, 27 Dec 2001 11:35:41 -0500 (EST)
Received: from mail3.dynamicsoft.com ([63.113.44.69])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id LAA18203
	for <sip@ietf.org>; Thu, 27 Dec 2001 11:35:38 -0500 (EST)
Received: from dynamicsoft.com ([63.113.46.89])
	by mail3.dynamicsoft.com (8.12.1/8.12.1) with ESMTP id fBRGZZVZ003239;
	Thu, 27 Dec 2001 11:35:35 -0500 (EST)
Message-ID: <3C2B4DBD.9060607@dynamicsoft.com>
Date: Thu, 27 Dec 2001 11:35:09 -0500
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:0.9.4) Gecko/20011128 Netscape6/6.2.1
X-Accept-Language: en-us
MIME-Version: 1.0
To: Paul Kyzivat <pkyzivat@cisco.com>
CC: "'confctrl@isi.edu'" <confctrl@ISI.EDU>, sip@ietf.org
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Subject: [Sip] Re: changing of media types allowed in offer/answer and SIP open issue  #24
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Indeed, consensus at IETF 52 was to allow reuse. #24 is considered resolved.

-Jonathan R.

Paul Kyzivat wrote:

> I think the restriction is silly. 
> 
> I don't see why any piece of code that can keep track of the positional
> assignments, including media that have been refused, should have any
> trouble reusing a previous slot for a new purpose. And changing the
> media type in one step is more or less the same thing.
> 
> So why not allow those slots to be reused? 
> We may yet see applications where there are enough reinvites with
> changes in media that recycling of slots is important.
> 
> 	Paul
> 
> Jonathan Rosenberg wrote:
> 
>>Folks,
>>
>>draft-rosenberg-mmusic-sdp-offer-answer-00.txt currently says:
>>
>> The media type (audio, video, etc.) for a stream MAY be changed. This
>>   is particularly useful for changing between voice and fax in a single
>>   stream, which are both separate media types. To do this, the offerer
>>   creates a new media description, with a new media type, in place of
>>   the description in the previous SDP which is to be changed. The IP
>>   address and port for the stream MAY change, or MAY remain the same.
>>   However, the list of payload type numbers for the new codecs MUST be
>>   different than any used previously for this stream.
>>
>>This is somewhat linked to the current sip open issue #24 about whether or
>>not you can reuse a media stream "slot" which has been previously disabled
>>with port=0. After all, changing the media type is really the same, more or
>>less, as using a new media stream in place of where an old one was. I think
>>leaning of consensus in the sip group was to disallow such reuse (although I
>>can't remember at this moment what the reasoning was), and that would argue
>>for removing the above capability.
>>
>>Comments or thoughts on this?
>>
>>-Jonathan R.
>>
>>---
>>Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
>>Chief Scientist                             First Floor
>>dynamicsoft                                 East Hanover, NJ 07936
>>jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
>>http://www.jdrosen.net                      PHONE: (973) 952-5000
>>http://www.dynamicsoft.com
>>
>>
> 


-- 
Jonathan D. Rosenberg, Ph.D.            72 Eagle Rock Avenue
Chief Scientist                         First Floor
dynamicsoft                             East Hanover, NJ 07936
jdrosen@dynamicsoft.com                 FAX: (973) 952-5050
http://www.jdrosen.net                  PH:  (973) 952-5000
http://www.dynamicsoft.com


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Dec 27 12:02:45 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA18490
	for <sip-archive@odin.ietf.org>; Thu, 27 Dec 2001 12:02:45 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id MAA16806
	for sip-archive@odin.ietf.org; Thu, 27 Dec 2001 12:02:48 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id LAA15799;
	Thu, 27 Dec 2001 11:48:38 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id LAA15768
	for <sip@optimus.ietf.org>; Thu, 27 Dec 2001 11:48:35 -0500 (EST)
Received: from mail-blue.research.att.com (mail-blue.research.att.com [135.207.30.102])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id LAA18336
	for <sip@ietf.org>; Thu, 27 Dec 2001 11:48:32 -0500 (EST)
Received: from alliance.research.att.com (alliance.research.att.com [135.207.26.26])
	by mail-blue.research.att.com (Postfix) with ESMTP id 7EBB14CE03
	for <sip@ietf.org>; Thu, 27 Dec 2001 11:48:31 -0500 (EST)
Received: from fish.research.att.com (fish.research.att.com [135.207.27.137])
	by alliance.research.att.com (8.8.7/8.8.7) with ESMTP id LAA19190;
	Thu, 27 Dec 2001 11:48:28 -0500 (EST)
From: William Marshall <wtm@research.att.com>
Received: (from wtm@localhost)
	by fish.research.att.com (SGI-8.9.3/8.8.5) id LAA87369;
	Thu, 27 Dec 2001 11:50:09 -0500 (EST)
Date: Thu, 27 Dec 2001 11:50:09 -0500 (EST)
Message-Id: <200112271650.LAA87369@fish.research.att.com>
To: sip@ietf.org
Subject: Re: [Sip] SIP WG - 5 - Last Call Open Discussion - draft-ietf-sip-refer-02.txt
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

I don't believe there has been any conclusion posted about security
aspects of the Referred-By header, which I raised as issues in my
initial review of this draft.

Without an adequate mechanism to verify the information in the Referred-By
header, and to verify the timeliness of that information, the header is
worse than useless.  It should be removed from the draft.

To repeat the problem, consider three parties, A, B, and C, where
A sends a REFER to B, causing B to send an INVITE to C.  Procedures
exist whereby B can authenticate A; procedures also exist whereby
C can authenticate B.  

However, nothing prevents B from including a bogus Referred-By header 
in its INVITE request to C.  Nothing prevents B from including a
previously-valid-but-expired Referred-By header in its INVITE (i.e. 
a form of replay attack).  Anything done by C based on information
in the Referred-By header may be incorrect or harmful.

Bill Marshall
wtm@research.att.com

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Dec 27 12:10:32 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA18544
	for <sip-archive@odin.ietf.org>; Thu, 27 Dec 2001 12:10:32 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id MAA16874
	for sip-archive@odin.ietf.org; Thu, 27 Dec 2001 12:09:32 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id LAA15916;
	Thu, 27 Dec 2001 11:55:39 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id LAA15885
	for <sip@optimus.ietf.org>; Thu, 27 Dec 2001 11:55:36 -0500 (EST)
Received: from mail3.dynamicsoft.com ([63.113.44.69])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id LAA18390
	for <sip@ietf.org>; Thu, 27 Dec 2001 11:55:33 -0500 (EST)
Received: from dynamicsoft.com ([63.113.46.89])
	by mail3.dynamicsoft.com (8.12.1/8.12.1) with ESMTP id fBRGtUVZ003246;
	Thu, 27 Dec 2001 11:55:31 -0500 (EST)
Message-ID: <3C2B5268.9030709@dynamicsoft.com>
Date: Thu, 27 Dec 2001 11:55:04 -0500
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:0.9.4) Gecko/20011128 Netscape6/6.2.1
X-Accept-Language: en-us
MIME-Version: 1.0
To: Jari Arkko <jari.arkko@kolumbus.fi>
CC: sip@ietf.org
Subject: Re: [Sip] Issue #232: TLS v. IPSec
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit



Jari Arkko wrote:

>
>>I think its sensible to separate the transport security into user to proxy
>>and proxy to proxy security. For proxy to proxy, TLS appears much better.
>>
> 
> But here I disagree. There's a few problems in TLS as well. The main
> one from my point of view relates to very large networks (guess which
> ones?) where scalability proxy-to-proxy might be an issue.Here, IPsec
> tunnel mode and separate gateways could help a lot -- if you have an SA
> pair between all operators that is much better than an SA pair between
> each box of each operator (e.g. 1000 operators => 1M SAs; 50 proxy
> farm on each operator site => 2.5 G SAs). 


True, tunnel mode IPSec would reduce the number of SAs. However, as we 
discussed during the 3gpp ad-hoc at IETF 52, there are issues with it. 
Namely, when the IPSec tunnel terminates in front of the proxy, there is 
no easy way for the proxy to know WHICH peer network the message came 
from. To know, it would have to look at the IP address of the source. 
Now, if there are 50 proxies in each operator network, well, you are 
right back to where you started in terms of scale, and the proposed 
benefit of IPSec tunnel mode is lost.

If you don't care about knowing which operator a request comes from, 
then tunnel mode is better. However, note that in this case, the tunnel 
isn't even running on a sip proxy, so the usage of such things would be 
outside the scope of SIP. The ONLY question we need to deal with is ON A 
SIP PROXY, do we say you MUST implement TLS, MAY implement IPSec, or the 
other way around.



> There are also other issues,
> such as the fact that an IPsec tunnel could also be used simultaneously
> for lots of other signaling protection needs 


Same comment as above; of course you can do that, but its outside the 
scope of the spec.

> while the TLS is only useful
> for one thing. SCTP.


SCTP?

 
> Question: does TLS support preshared symmetric keys (which IPsec does,
> easing deployment as you don't need to deploy certs and possibly PKIs)?


I believe it does not.


> 
> Also, I believe Mike Thomas posted some long list of pros and cons
> for the TLS-IPsec in SIP a while back. Perhaps we could get back to
> that list?


I suspect that the debates will continue without resolution, because I 
think we seem to have different problems in mind. I am concerned about 
cases where the proxy application needs some kind of authenticated 
identity of its peer in order to make policy decisions. Since, 
practically speaking, IPsec is generally done in the O/S, I think TLS is 
better here if that is what you are concerned about. Others want to use 
IPSec gateways, as you have suggested, between operators. Thats fine, 
but its a different problem where clearly IPSec is better than TLS. I 
also think its outside the scope of the spec, as I have pointed out above.

In any case, no one has said MUST NOT use IpSec. Please let us remember 
that. It is only a question of which is mandatory to implement (not the 
same as mandatory to use). The primary issue here is when two proxies 
from different vendors are plopped down next to each other, will they be 
able to communicate securely?


>>It also has a workable keying solution, whereas IPSec does not at
>>this time. 
>>
> 
> I think this is an overly broad claim. They are working on an a new IKE
> version, 


Thats good news, but I am worried about a security solution I can deploy 
this year rather than three years from now.


-Jonathan R.


-- 
Jonathan D. Rosenberg, Ph.D.            72 Eagle Rock Avenue
Chief Scientist                         First Floor
dynamicsoft                             East Hanover, NJ 07936
jdrosen@dynamicsoft.com                 FAX: (973) 952-5050
http://www.jdrosen.net                  PH:  (973) 952-5000
http://www.dynamicsoft.com


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Dec 27 12:27:11 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA18717
	for <sip-archive@odin.ietf.org>; Thu, 27 Dec 2001 12:27:11 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id MAA17281
	for sip-archive@odin.ietf.org; Thu, 27 Dec 2001 12:27:14 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA16970;
	Thu, 27 Dec 2001 12:11:10 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA16939
	for <sip@optimus.ietf.org>; Thu, 27 Dec 2001 12:11:07 -0500 (EST)
Received: from june.Broomfield1.level3.net (june.Broomfield1.Level3.net [209.245.18.7])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA18564
	for <sip@ietf.org>; Thu, 27 Dec 2001 12:11:04 -0500 (EST)
From: John.Hearty@Level3.com
Received: from f1ee40-19.idc1.level3.com (hme0.f1ee40-19.idc1.oss.level3.com [10.1.144.204])
	by june.Broomfield1.level3.net (8.9.3/8.9.3) with ESMTP id RAA11957;
	Thu, 27 Dec 2001 17:10:49 GMT
Received: from n0195idc1.oss.level3.com (localhost [127.0.0.1])
	by f1ee40-19.idc1.level3.com (8.8.8+Sun/8.8.8) with ESMTP id RAA23434;
	Thu, 27 Dec 2001 17:11:05 GMT
Received: by n0195idc1.oss.level3.com with Internet Mail Service (5.5.2653.19)
	id <YKJH2DKQ>; Thu, 27 Dec 2001 10:11:02 -0700
Message-ID: <17052388D394D411803900508BDFFAF601B370D7@n0214idc1.oss.level3.com>
To: jdrosen@dynamicsoft.com
Cc: sip@ietf.org
Subject: RE: [Sip] Open Issue #207: Handling of session failures
Date: Thu, 27 Dec 2001 10:11:05 -0700
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org



> -----Original Message-----
> From: Jonathan Rosenberg [mailto:jdrosen@dynamicsoft.com]
> Sent: Thursday, December 27, 2001 12:02 AM
> To: Hearty, John
> Cc: sip@ietf.org
> Subject: Re: [Sip] Open Issue #207: Handling of session failures
> 
> 
> Responses inline:
> 
> John.Hearty@Level3.com wrote:
> 
> >>Issue:
> >>
> >>The spec is silent on what a UA should do if failures in the 
> >>media sessions 
> >>occur (ICMP, timeouts, or media specific errors). I think 
> >>something should
> >>be 
> >>said. draft-rosenberg-sip-reconstitute-00.txt talks a lot about this
> >>problem; 
> >>nearly all of that is local implementation logic, but one piece that
> >>requires a 
> >>normative change to the spec - if you detect a failure in 
> >>media stream, send
> >>a 
> >>re-invite to see if that repairs it. 
> >>
> >>The re-invite will help if the failure is due to a end system 
> >>failure. In
> >>that case, the re-INVITE will reconstitute the dialog and 
> >>session state at
> >>an alternate, which is helpful and useful in many cases.
> >>
> > 
> > Assuming that end system is capable of reconstituting state from a
> > re-Invite.
> > That said, I agree with this proposal.
> 
> 
> No, its not the side that reconstitutes that sends the re-INVITE. Its 
> the other side, and it would need to do this even if it can't spell 
> reconstitute.

 I understand and agree with this.  My one liner with "that end system"
apparently was not clear which end system is doing the reconstitution and
which end is obligated to send the re-Invite.  I only mentioned this line to
clarify that reconstition might not happen, after seeing "In that case, the
re-INVITE will reconstitute..." in the original thread.  The word WILL
bothered me.

 I'd also like to comment on your few words at the end.  I think it is
important that we avoid strengths like MAY and stick with SHOULD, mainly so
BOTH ends clearly know what state the session is in.  Your proposal does
this nicely, resulting in either a reconstituted session or a 481 from the
peer the re-Invite was sent to.  I strongly support the proposal as it
stands.

> 
> Here's the scenario. A and B are in a call. B fails. ICMP 
> errors go back 
> to A for the media packets. A can't reconstitute anything, 
> but sends a 
> re-INVITE on the hopes that the other side possibly can (and the ICMP 
> are due to a failure of this sort). B' (B's backup) gets the 
> re-INVITE, 
> knows how to reconstitute state, and does.
> 
> See, thats the rub. For an element to reconstitute state, the OTHER 
> element has to send the re-INVITE. Thats why it needs to be in bis.
> 
> Christer Holmberg wrote:
> 
> > However, if the nodes are separated, and eg MGCP/H.248 is 
> used between
> > them, those protocols may define other actions to be taken 
> when media
> > failures occur. For example, MGCP allows the media handler 
> to RELEASE
> > the call if the media "connection" is lost, so to be able to
> > re-establish the session a whole NEW session must be setup. 
> 
> 
> I think that is wrong. I don't think the media handler can 
> release the 
> call, it can only inform the MGC of errors. That would be the 
> "of" event 
> in the MGCP RTP package. As such, the MGC can decide what to 
> do, and in 
> this case, the spec would say it SHOULD do a re-INVITE.
> 
> > And, if the
> > node is a gateway it may not be able to set up a new session in the
> > first place, since it's an end-user of either "side" of the gateway
> > which set up the session.
> > 
> 
> This makes no sense whatsoever to me. The UA is in the 
> gateway, and the 
> RTP session handler is in the gateway. If a gateway detects 
> failure of 
> RTP, it can certainly send a re-INVITE.
> 
> Keith Drage wrote:
> 
> > Why is this not a SDP level requirement, rather than a SIP level
> > requirement. The requirement you are writing is to send a 
> new UDP (which
> > just happens to be sent in an INVITE) rather than a INVITE itself.
> > 
> > As a result, this becomes out of scope of the bis-draft.
> > 
> 
> Actually, there is SIP state too. If the goal is to allow 
> reconstitution 
> of state at a backup, that would include BOTH the session level state 
> AND the SIP state (cseq numbers, route sets, etc.). Thus, it 
> is an issue 
> for SIP.
> 
> Christer also wrote:
> 
> > My proposal is that we write that the node MUST take action(s) to
> > prevent the signaling- and media handler to have different "session
> > state". If possible it MAY send a re-INVITE trying to 
> re-establish the
> > session, otherwise send a BYE to terminate it.
> > 
> 
> Let me say a few words on whether or not we need to give a specific 
> recommendation, or allow the UA to do anything it wants. The 
> issue here 
> is interoperability. If someone wants to build a conference 
> server, they 
> need to know - do they HAVE to replicate sip and session state in the 
> event of a failure, or can they rely on a peer UA to help 
> reconstitute 
> the state at a backup. If the text says "SHOULD" send a 
> re-INVITE, then 
> they know they can count on the peer UA. Otherwise, if its 
> just MAY send 
> re-INVITE, or MAY BYE, they need to handle failures of a conference 
> server, and hide such failures completely, so that they don't 
> manifest 
> themselves as any kind of ICMP errors (which might cause the 
> peer to BYE).
> 
> -Jonathan R.
> 
> 
> 
> -- 
> Jonathan D. Rosenberg, Ph.D.            72 Eagle Rock Avenue
> Chief Scientist                         First Floor
> dynamicsoft                             East Hanover, NJ 07936
> jdrosen@dynamicsoft.com                 FAX: (973) 952-5050
> http://www.jdrosen.net                  PH:  (973) 952-5000
> http://www.dynamicsoft.com
> 

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Dec 27 12:27:52 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA18746
	for <sip-archive@odin.ietf.org>; Thu, 27 Dec 2001 12:27:52 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id MAA17309
	for sip-archive@odin.ietf.org; Thu, 27 Dec 2001 12:27:55 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA16921;
	Thu, 27 Dec 2001 12:10:51 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA16893
	for <sip@optimus.ietf.org>; Thu, 27 Dec 2001 12:10:49 -0500 (EST)
Received: from mail3.dynamicsoft.com ([63.113.44.69])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA18557
	for <sip@ietf.org>; Thu, 27 Dec 2001 12:10:46 -0500 (EST)
Received: from dynamicsoft.com ([63.113.46.89])
	by mail3.dynamicsoft.com (8.12.1/8.12.1) with ESMTP id fBRHAbVZ003253;
	Thu, 27 Dec 2001 12:10:37 -0500 (EST)
Message-ID: <3C2B55F3.6040102@dynamicsoft.com>
Date: Thu, 27 Dec 2001 12:10:11 -0500
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:0.9.4) Gecko/20011128 Netscape6/6.2.1
X-Accept-Language: en-us
MIME-Version: 1.0
To: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
CC: Vijay Gurbani <vkg@lucent.com>, sip@ietf.org
Subject: Re: [Sip] Open Issue #144: Branch ID  + isCancel() as transaction ID
References: <3C210BE4.8090304@dynamicsoft.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

There were no further comments on the proposal itself. I am considering 
the issue closed, with the proposed resolution below accepted.

-Jonathan R.

Jonathan Rosenberg wrote:

> The rough consensus of IETF 52 was to accept this proposal, but a little 
> more detail is needed.
> 
> Mike had pointed out some security vulnerabilities introduced by this; 
> namely, a malicious proxy could clobber other peoples transactions by 
> using their transaction keys in the via. Of course, it can always do 
> that today by inserting their to/from/call-id/via/r-uri, so its not much 
> different. However, there was agreement that the server would compute 
> the transaction key as a hash of the via branch ID, the source IP/port 
> and a private key.
> 
> We also need to clarify that the proxy should construct the branch ID to 
> be unique, and document the specific cookie value.
> 
> Any further comments? I feel strongly that we should do this, since it 
> will solve a LOT of interop problems that arise with looping and spirals 
> and the whole nine yards, which continue to plague us at bakeoffs.
> 
> 
> -Jonathan R.
> 
> 
> Vijay Gurbani wrote:
> 
>> Jonathan Rosenberg wrote:
>>
>>> Issue:
>>>
>> [...]
>>
>>> Bis-05 has taken a big step forward with a rigorous definition of
>>> transaction, which makes it clear that its a single "branch" in the 
>>> tree of requests formed when a UAC sends a request through a bunch of 
>>> proxies. That is, the To/From/CSeq/Call-ID identify the root of this 
>>> tree, and the Via branch + r-uri further identify each branch in the 
>>> tree. Based on this, it is natural to take the final step, and define 
>>> the transaction ID for a request/response MUCH more simply - it is 
>>> the value of the branch ID in the topmost via, with the small caveat 
>>> that CANCEL has the same branch ID, but its a different transaction.
>>
>>
>> Also that ACKs for non-2xx response must have the same branch ID as the
>> INVITE did.
>>
>> [...]
>>
>>
>>> Proposal:
>>>
>>> Allow for branch ID to be the transaction ID, by taking the steps 
>>> described above.
>>>
>>
>> Fine.
>>
>> - vijay
>>
> 
> 


-- 
Jonathan D. Rosenberg, Ph.D.            72 Eagle Rock Avenue
Chief Scientist                         First Floor
dynamicsoft                             East Hanover, NJ 07936
jdrosen@dynamicsoft.com                 FAX: (973) 952-5050
http://www.jdrosen.net                  PH:  (973) 952-5000
http://www.dynamicsoft.com


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Dec 27 12:28:09 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA18763
	for <sip-archive@odin.ietf.org>; Thu, 27 Dec 2001 12:28:09 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id MAA17323
	for sip-archive@odin.ietf.org; Thu, 27 Dec 2001 12:28:12 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA17048;
	Thu, 27 Dec 2001 12:14:18 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA17020
	for <sip@optimus.ietf.org>; Thu, 27 Dec 2001 12:14:16 -0500 (EST)
Received: from mail-blue.research.att.com (mail-blue.research.att.com [135.207.30.102])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA18617
	for <sip@ietf.org>; Thu, 27 Dec 2001 12:14:13 -0500 (EST)
Received: from alliance.research.att.com (alliance.research.att.com [135.207.26.26])
	by mail-blue.research.att.com (Postfix) with ESMTP id 641874CE2C
	for <sip@ietf.org>; Thu, 27 Dec 2001 12:14:16 -0500 (EST)
Received: from fish.research.att.com (fish.research.att.com [135.207.27.137])
	by alliance.research.att.com (8.8.7/8.8.7) with ESMTP id MAA19484;
	Thu, 27 Dec 2001 12:14:13 -0500 (EST)
From: William Marshall <wtm@research.att.com>
Received: (from wtm@localhost)
	by fish.research.att.com (SGI-8.9.3/8.8.5) id MAA94663;
	Thu, 27 Dec 2001 12:16:05 -0500 (EST)
Date: Thu, 27 Dec 2001 12:16:05 -0500 (EST)
Message-Id: <200112271716.MAA94663@fish.research.att.com>
To: sip@ietf.org
Subject: Re: [Sip] Still issues with preconditions
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

Alan O'Neill raised a question about the manyfolks draft
after the end of the last call discussion.  The question
basically is about choice of resources when both UAC and UAS
perform bi-directional reservation.

While I addressed this in my presentation at IETF52, a response
to the list was requested.

This situation occurs in the following sequence.  The UAC sends an 
INVITE with a preconcition line in the SDP "a=qos:sendrecv mandatory"  
The UAS responds with "a=qos: sendrecv mandatory confirm"  Both 
the UAC and UAS attempt to reserve resources, both of which perform 
bi-directional reservations, both of which succeed.  

The draft is perfectly clear about the need of both the UAS and UAC
to attempt to make the reservations, but not clear on whose resources 
should be used.

The proposal from Flarion adds significant complexity in initial 
SDP contents indicating the resource reservation capabilities of 
the UA, and the existance of any pre-existing resources, so that 
this double reservation can be avoided.

This situation can be resolved very simply by the entity receiving
the COMET (typically the UAS).  Certain resources are identified in 
the COMET, and the UAS merges those with its locally-reserved resources.
Any overlap is detected by the UAS, and redundant resources should
be released by the UAS.  I'll add a sentence to that affect.

There is certainly a problem when resources exist for only one call,
and both the UAC and UAS attempt (and fail) to reserve them.  This is 
commonly called glare, and is a variation of the classical dining 
philosopher problem.  The solution is complex, is not handled in
the current draft, and (I propose) should stay that way.



The other point raised by Alan is more up for discussion.

Resource reservation can logically be divided into segments between
the UAC and UAS, and there are different ways to partition the problem.

Consider the following diagram:
         /-1-<<-2-<<-3-\
        A               B
         \-4->>-5->>-6-/

While systems can certainly obtain QoS prior to sending the INVITE, that
leads to a vertical partitioning (the so-called segmented qos model).
UA #A can ensure QoS in segments 1&4, UA #B ensures 3&6, and both assume
diffserv for 2&5.  This scenario can certainly be optimized.

The manyfolks draft assumes a horizontal partitioning, and only includes
syntactic mechanism to describe the 1&2&3 combination (A:recvonly) and the 
4&5&6 (A:sendonly).

Should additional terms be defined in manyfolks draft, such as "access"
and "backbone" to enable this vertical split?  Second, are these the
right terms?  Comments?


Including success of preconditions without knowing the destination seems
to require a crystal ball.  Good topic for a separate I-D.

And, just for the record,

Alan O'Neill wrote:
> ... I have tried to
> raise / resolve issues with the authors of the draft but have so far not had
> any response. 

First I heard of this issue was email on Monday 10 December, and actually read 
the message from Rakesh first, also 10 December, which stated the status of manyfolks 
draft was "Looking at some late comments"

Bill Marshall
wtm@research.att.com

-----original message-----
From: "Alan O'Neill" <A.ONeill@flarion.com>
To: "'sip@ietf.org'" <sip@ietf.org>
Date: Mon, 10 Dec 2001 03:06:27 -0500
Subject: [Sip] Still issues with preconditions

Version 3 of the manyfolks-resources draft has appeared but there still
appear to me to be a number of issues with this document. I have tried to
raise / resolve issues with the authors of the draft but have so far not had
any response. 

In summary;

i)	The strength-tag appears overloaded in attempting to carry both
requirement (Mandatory/Optional) and progress (Success/Failure) information.
This prevents a node with precondition resources already in place (existing
resources in call waiting / dimensioned diff-serv QoS) from including the
Success progress in an Invite which in the general case would lead to very
fast and efficient call set-up. In the case of incapability, the caller
could signal the inability to meet a precondition direction itself with a
Failure which would enable the callee to immediately and quickly detect
impossible preconditions when merged with its own incapabilities. The
limitation of the overloaded strength-tag could be avoided by using an
additional result-tag in each precondition to signal progress separately
from the requirement in the strength-tag.

ii)	The draft is clear on the negotiation phases of the precondition
signalling and how direction-tags in requests, responses and COMETs are
related. However, it is not at all clear how end nodes actually work out how
to respond to offered preconditions and how they work out which resources
each end should attempt to meet, especially regarding whether preconditions
must/may/must not be attempted in parallel or in series at the caller and
callee. This ambiguity is clearly a barrier to the production of multiple
interworking implementations and leads to inefficient call set-up and
cleardown, as well as the danger of each end trying to book the same
resources.


I'll use a brief and specific example in an attempt to get some discussion
on the second issue which is maybe less obvious than the first...

In the first example in the draft, the caller requests a sendrecv resource
precondition and includes a confirmation request. The callee cannot tell if
the caller is able or wishes to meet either send or recv direction in the
sendrecv precondition, only that it wishes to be informed of progress. The
callee responds with sendrecv confirm but the caller cannot glean any
information from the inclusion of the confirm by the callee. This is because
the callee confirmation request is mandated in the draft in response to the
caller confirmation request. The only information exchanged (that I can
glean from the draft) so far is that the callee, in accepting the sendrecv
precondition, is informing the caller that it can contribute in some way to
meeting the sendrecv precondition.

The caller now sends a PRACK and repeats the precondition it sent in the
Invite. At this point, the example says that both the caller and callee can
in parallel start booking resources to meet the sendrecv precondition but
this opens up the possibility of problems because neither end has actually
agreed with the other end on which of the precondition directions it is
going to attempt (ie lead roles in meeting preconditions). The model only
works if both ends have the same unidirectional reservation capability (send
only or recv only) such that non-overlapping resources are booked. If both
ends can book both directions (sendrecv) then full duplication is possible
(double the resources). If both ends have opposite capabilities (caller
send/recv and callee recv/send) then one direction will get double the
resources and the other will have no resources booked. The double / missing
resources will always be detected by the caller because the callee COMET
will include success/failure separately for each direction so that the
caller can recover, but clearly the caller can only then change its
reservation status because no mechanism exists to get the callee to do so.
The existance of duplicate reservations is clearly unfortunate and could be
avoided if the preconditions negotiation was explicit about agreeing which
resources each end should attempt to reserve.

I hope one of the authors will be kind enough to help me with this....

Regards,  Alan O'Neill

----------------------------------------------------------------
Notice Regarding Intellectual Property Rights

Flarion's submissions will conform with RFC 2026.  Flarion may seek patent
protection on some or all of the technical information submitted by its
employees in connection with the IETF's standards process.  If part(s) of a
submission by Flarion is (are) included in a standard and Flarion owns
patent(s) and/or pending patent application(s) that are essential to
implementation of such included part(s) in said standard, Flarion is
prepared to grant a license on fair, reasonable, reciprocal (license back)
and non-discriminatory terms on such included part(s).




_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Dec 27 12:42:07 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA18930
	for <sip-archive@odin.ietf.org>; Thu, 27 Dec 2001 12:42:07 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id MAA18030
	for sip-archive@odin.ietf.org; Thu, 27 Dec 2001 12:42:08 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA17175;
	Thu, 27 Dec 2001 12:21:09 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA17144
	for <sip@optimus.ietf.org>; Thu, 27 Dec 2001 12:21:07 -0500 (EST)
Received: from mail3.dynamicsoft.com ([63.113.44.69])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA18681
	for <sip@ietf.org>; Thu, 27 Dec 2001 12:21:03 -0500 (EST)
Received: from dynamicsoft.com ([63.113.46.89])
	by mail3.dynamicsoft.com (8.12.1/8.12.1) with ESMTP id fBRHL1VZ003257
	for <sip@ietf.org>; Thu, 27 Dec 2001 12:21:01 -0500 (EST)
Message-ID: <3C2B5864.2070503@dynamicsoft.com>
Date: Thu, 27 Dec 2001 12:20:36 -0500
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:0.9.4) Gecko/20011128 Netscape6/6.2.1
X-Accept-Language: en-us
MIME-Version: 1.0
To: sip@ietf.org
Subject: RE: [Sip] Open Issue #145: SRV Processing in stateless proxies part I
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

draft-ietf-srv-03.txt now incorporates the proposed resolution. Note 
that the text says NOTHING about how one computes the random number when 
performing SRV load balancing; the only requirement is that all requests 
within a transaction go to the same place.

Thanks,
Jonathan R.

 > -----Original Message-----
 > From: Henning G. Schulzrinne [mailto:hgs@cs.columbia.edu]
 > Sent: Thursday, December 06, 2001 2:15 PM
 > To: Jonathan Rosenberg
 > Cc: 'sip@ietf.org'
 > Subject: Re: [Sip] Open Issue #145: SRV Processing in
 > stateless proxies
 > part I
 >
 >
 > Jonathan Rosenberg wrote:
 > >
 > > Issue:
 > >
 > > Processing of SRV records in stateless proxies is hard,
 > primarily because
 > > the algorithm itself relies on state. One piece of state is
 > the random
 > > selection of a server amongst a set with equal weights.
 > Bis-05 mandates that
 > > this be done based on Call-ID, so that all requests with
 > the same call-id
 > > select the same server. Turns out that this is hard to do
 > in a stateless
 > > way. One approach is to choose the random number as a hash
 > of the Call-ID.
 > > That is needed, but not sufficient. The problem is that the
 > result of this
 > > hash generates an index, 1..N, where N is the number of
 > servers with the
 > > same priority. Using this index to select a server requires
 > that the array
 > > of N servers is ordered the same for each attempt. However,
 > DNS resolvers
 > > make no guarantee about the order of the results. Thus, you
 > would need to
 > > alphabetize them, or something, to establish an order.
 >
 > Not quite. If I understand the SRV description correctly, there is an
 > ordering based on the weight (so that you can pick the right
 > one). Thus,
 > if the weights are not equal, the order is indeed guaranteed,
 > as long as
 > the resolver doesn't mess with the weights. For load balancing, it
 > doesn't matter if the weights are 1001, 1002 and 1003 instead of 1000,
 > so one could recommend that SRV entries for stateless proxies simply
 > avoid equal weights. This would be just a hint, not normative.

I found no text along those lines. In any case, it doesn't matter. My 
point with this issue is that SOME kind of algorithm is needed to 
produce a consistent ordering of the SRV values. I suggested 
alphabetical, you are suggesting ordering first by priority, and for 
equal priority, then by weight. Both work (assuming there are no equal 
weights). Using your approach is a bit less intensive and more 
straightforward.

The more interesting issue is basing the selection upon a hash of the 
call-id and other fields (but NOT CSeq, for example). Gonzalo wrote:

 > If, as Henning suggestes, we can resolve the alphabetization, the only
 > difference would be that a staless proxy would need to compute the
 > random number that is used to pick one server as a result of a hash of
 > some fields, whereas a stateful proxy could use any radom number
 > generator.

No. Thats the problem. A *call-stateful* proxy could use a random number 
generator. Thats because it would need to use the same random number for 
all requests within the same dialog, and thus would need to store this 
number for the duration of a dialog.

-Jonathan R.

---
Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
Chief Scientist                             First Floor
dynamicsoft                                 East Hanover, NJ 07936
jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
http://www.jdrosen.net                      PHONE: (973) 952-5000
http://www.dynamicsoft.com

-- 
Jonathan D. Rosenberg, Ph.D.            72 Eagle Rock Avenue
Chief Scientist                         First Floor
dynamicsoft                             East Hanover, NJ 07936
jdrosen@dynamicsoft.com                 FAX: (973) 952-5050
http://www.jdrosen.net                  PH:  (973) 952-5000
http://www.dynamicsoft.com


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Dec 27 12:45:36 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA18996
	for <sip-archive@odin.ietf.org>; Thu, 27 Dec 2001 12:45:36 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id MAA18075
	for sip-archive@odin.ietf.org; Thu, 27 Dec 2001 12:45:37 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA17775;
	Thu, 27 Dec 2001 12:31:39 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA17747
	for <sip@optimus.ietf.org>; Thu, 27 Dec 2001 12:31:37 -0500 (EST)
Received: from acmepacket.com (mail1.acmepacket.com [63.67.143.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA18838
	for <sip@ietf.org>; Thu, 27 Dec 2001 12:31:33 -0500 (EST)
Received: from BobP [63.67.143.2] by acmepacket.com
  (SMTPD32-7.04) id AAF83AE60222; Thu, 27 Dec 2001 12:31:36 -0500
Message-ID: <001d01c18efa$dcde2a00$2300000a@acmepacket.com>
From: "Bob Penfield" <bpenfield@acmepacket.com>
To: "Henry Sinnreich" <Henry.Sinnreich@wcom.com>,
        "'Robert Sparks'" <rsparks@dynamicsoft.com>,
        "'Jonathan Rosenberg'" <jdrosen@dynamicsoft.com>
Cc: <sip@ietf.org>
References: <002501c18ef0$b4cacf50$c5282aa6@hsinnreich2>
Subject: Re: [Sip] Default value for Timer C (was #282)
Date: Thu, 27 Dec 2001 12:21:02 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 5.50.4133.2400
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4133.2400
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit


> > I have not _ever_ been able to successfully
> > use my SIP equipment to have a successful dialog with AA.
>

The same problem occurs using old-world TDM equipment. If I use my calling
card account to call AA, it hangs up after about a minute because the
calling card platform has a 60 second answer timer. AA is trying to save
money by having their ACD not return an answer and thus they don't have to
pay for the 800 call.

BTW, all billing is based on answer (2xx for SIP) being returned by the
called party. Some systems (usually in hotels) do use a timer when answer
cannot be determined reliably (or they don't care).

I'm curious as to whether this was isolated to a proxy or is it possible the
TDM side of the gateway is dropping the call? If gateways have answer timers
on this order of magnitude, having a really long timer in the proxy won't
help.

In any event, do we really need to support these cheaters in SIP and open
ourselves to DOS attacks?

> I have exactly the same experience.
> As for:
>
> > Now, if all the SIP parties involved allowed me to 1) control my
> > own Expires header, and 2) actually honored the thing,
>
> I don't know how to tweak to and I don't ever want to know.
>
> Is there a better approach to fix the timer value or am I missing
> something?
>
> Thanks, Henry
>
> > -----Original Message-----
> > From: sip-admin@ietf.org [mailto:sip-admin@ietf.org] On Behalf Of
> Robert
> > Sparks
> > Sent: Thursday, December 27, 2001 9:57 AM
> > To: 'Bob Penfield'; Jonathan Rosenberg; Robert Sparks
> > Cc: sip@ietf.org
> > Subject: [Sip] Default value for Timer C (was #282)
> >
> > I'm talking about a _real problem_ that I have
> > _right now_ with the UAs on my desk and the gateways
> > I have access to. I have not _ever_ been able to successfully
> > use my SIP equipment to have a successful dialog with AA.
> > Try it - call +18004337300 - my environment drops the unanswered
> > call about 58 seconds into the first menu (yes, the first menu
> > is over a minute long).
> >
> > Now, if all the SIP parties involved allowed me to 1) control my
> > own Expires header, and 2) actually honored the thing, I could
> > work around it. But what about my tweak-phobic aquaintances
> > and relatives?
> >
> > In this case, the endpoints are dropping the call, but if I had
> > otherwise behaving endpoints, and a proxy in the middle with a
> > _default_ Timer C value that is too small, I am left with
> > at least one well-known service that just doesn't work.
> >
> > Now, we could get into a discussion about whether or not a service
> > _should_ run a whole bunch of time in an early media state, but
> > that's rather moot - we've worked really hard to make the system
> > allow it, and it will be used. We're here on purpose, not by
> > misfortune of oversight.
> >
> > As for your last paragraph - who says early media has to be free?
> >
> > RjS
> >
> >
> > > From: Bob Penfield [mailto:bpenfield@acmepacket.com]
> > > > >
> > > > > If this is acceptable, it still leaves us with the question
> > > > > of what value we should recommend. I propose something
> > > > > long - order of .5 to 1 hour (remember that calls stay in a
> > > > > provisional state with early media when you are in the queue
> > > > > to talk to an AA representative).
> > > >
> > > >
> > > > Egads, thats a long time! Your point on early media is well taken,
> > > > though. Arguably, if this case happens, 1 hour is not even
> > > enough, since
> > > > I have certainly been on hold for durations longer than
> > > that. Probably 4
> > > > hours is more reasonable. Once you've set the timer this
> > > high, it may as
> > > > well be any finite number as far as the proxy is concerned. The
> only
> > > > value in having a number at all (as opposed to infinity) is
> > > very long
> > > > term garbage collection. You will get NO DoS attack prevention
> from
> > > > numbers of this magnitude. You really need to be careful,
> > > as a proxy, to
> > > > not create transaction state unless the request is
> > > authenticated somehow.
> > > >
> > > I don't think this really applies. I believe that most ACD
> > > systems that put
> > > you on hold actually do answer the call. Especially ones that
> > > have DTMF
> > > menus since some carriers block the caller to callee
> > > connection until it is
> > > answered. Many TDM switches that I have experience with will
> > > tear down an
> > > unanswered connection after 1 or 2 minutes. I think a 2 or 3
> > > minute timer
> > > would be adequate.
> > >
> > > But, this is not the TDM world. So, if we want to provide for
> > > unanswered
> > > calls being queued for long periods of time, maybe we could
> > > require the UAS
> > > to send periodic provisional responses and the proxy could
> > > reset Timer C.
> > > But that may be getting to complicated.
> > >
> > > Service providers who charge for these calls don't want their
> > > resources used
> > > for free for such a long period of time.
> > >
> > > cheers,
> > > (-:bob
> > >
> > >
> > > _______________________________________________
> > > Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> > > This list is for NEW development of the core SIP Protocol
> > > Use sip-implementors@cs.columbia.edu for questions on current sip
> > > Use sipping@ietf.org for new developments on the application of sip
> > >
> >
> > _______________________________________________
> > Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> > This list is for NEW development of the core SIP Protocol
> > Use sip-implementors@cs.columbia.edu for questions on current sip
> > Use sipping@ietf.org for new developments on the application of sip
>
>


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Dec 27 12:45:43 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA19012
	for <sip-archive@odin.ietf.org>; Thu, 27 Dec 2001 12:45:43 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id MAA18089
	for sip-archive@odin.ietf.org; Thu, 27 Dec 2001 12:45:44 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA17730;
	Thu, 27 Dec 2001 12:31:15 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA17702
	for <sip@optimus.ietf.org>; Thu, 27 Dec 2001 12:31:13 -0500 (EST)
Received: from mail3.dynamicsoft.com ([63.113.44.69])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA18825
	for <sip@ietf.org>; Thu, 27 Dec 2001 12:31:09 -0500 (EST)
Received: from dynamicsoft.com ([63.113.46.89])
	by mail3.dynamicsoft.com (8.12.1/8.12.1) with ESMTP id fBRHV7VZ003261
	for <sip@ietf.org>; Thu, 27 Dec 2001 12:31:07 -0500 (EST)
Message-ID: <3C2B5AC1.6020409@dynamicsoft.com>
Date: Thu, 27 Dec 2001 12:30:41 -0500
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:0.9.4) Gecko/20011128 Netscape6/6.2.1
X-Accept-Language: en-us
MIME-Version: 1.0
To: sip@ietf.org
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Subject: [Sip] Open Issue #290: Registrar increasing registration lifetime
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

The spec now says that the registrar can increase the registration 
interval.
This is done to protect the registrar from clients that want to refresh too
frequently. However, this introduces interesting complications:

   a. it can't really increase Expires: 0, since we do need a way to 
terminate a
registration, so we would need to special case 0
   b. the client may choose to register an interval because they want the
information to die at a specific time (husband registering his phone at his
mistresses number for a brief period, REALLY wants it unregistered when 
he asks)

So, do we really want to allow the registrar to increase the interval?


-Jonathan R.
-- 
Jonathan D. Rosenberg, Ph.D.            72 Eagle Rock Avenue
Chief Scientist                         First Floor
dynamicsoft                             East Hanover, NJ 07936
jdrosen@dynamicsoft.com                 FAX: (973) 952-5050
http://www.jdrosen.net                  PH:  (973) 952-5000
http://www.dynamicsoft.com


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Dec 27 12:53:05 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA19153
	for <sip-archive@odin.ietf.org>; Thu, 27 Dec 2001 12:53:05 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id MAA18317
	for sip-archive@odin.ietf.org; Thu, 27 Dec 2001 12:53:06 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA17989;
	Thu, 27 Dec 2001 12:39:24 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA17893
	for <sip@optimus.ietf.org>; Thu, 27 Dec 2001 12:39:18 -0500 (EST)
Received: from mail3.dynamicsoft.com ([63.113.44.69])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA18900
	for <sip@ietf.org>; Thu, 27 Dec 2001 12:39:17 -0500 (EST)
Received: from dynamicsoft.com ([63.113.46.89])
	by mail3.dynamicsoft.com (8.12.1/8.12.1) with ESMTP id fBRHdDVZ003264
	for <sip@ietf.org>; Thu, 27 Dec 2001 12:39:13 -0500 (EST)
Message-ID: <3C2B5CA7.9090800@dynamicsoft.com>
Date: Thu, 27 Dec 2001 12:38:47 -0500
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:0.9.4) Gecko/20011128 Netscape6/6.2.1
X-Accept-Language: en-us
MIME-Version: 1.0
To: sip@ietf.org
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Subject: [Sip] Open Issue #293: Scope of Contact and Record-Route URLS?
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Issue:

What is the "scope", temporally speaking, of the URLs inserted into the 
Contact of INVITE and 2xx to INVITE by the UA, and the record-route 
inserted by the proxies? Do these URLs need to be usable outside the 
scope of the dialog created by the INVITE, or are they only within the 
INVITE?

Discussion points:

There is some value in allowing a UA or proxy to insert a URL into 
Record-Route/Contact which contains state specific to the dialog. 
Consider a simple case, where a UA would like the contact in the 2xx to 
INVITE to contain the dialog ID for rapid indexing of re-invite and bye. 
It would like to send a 2xx which looks like:

SIP/2.0 200 OK
Contact: sip:asd98878asd0-asdk@1.2.3.4

Now, the drawback is that we have applications which appear to be trying 
to use these contacts outside of the dialog. Speifically, the infamous 
consultation-transfer, which attempts to include this contact in an 
accept-contact header embedded in a Refer-To URL. This would no longer 
work if we specify that Contact URLs are scoped ONLY to within the 
dialog. Now, arguably, consultation transfer doesn't work right now 
anyway....

Proposal:

I think that without a doubt, record-route URLs should be specified to 
only have a scope of the dialog.

Contact is a harder question. I would propose that they be required to 
have broader scope, and that if a UA wants to have state back in a 
message, it can use the various cookie/state mechanisms, else it can act 
as a "virtual proxy" fronting a "virtual UA", and have its virtual proxy 
element insert a record-route with the state. I'm not 100% thrilled with 
this proposal, but I don't want to gratuitously break existing 
spplications which rely on a broader scope.

Comments?

-Jonathan R.
-- 
Jonathan D. Rosenberg, Ph.D.            72 Eagle Rock Avenue
Chief Scientist                         First Floor
dynamicsoft                             East Hanover, NJ 07936
jdrosen@dynamicsoft.com                 FAX: (973) 952-5050
http://www.jdrosen.net                  PH:  (973) 952-5000
http://www.dynamicsoft.com


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Dec 27 13:08:09 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id NAA19324
	for <sip-archive@odin.ietf.org>; Thu, 27 Dec 2001 13:08:09 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id NAA18906
	for sip-archive@odin.ietf.org; Thu, 27 Dec 2001 13:08:10 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA18361;
	Thu, 27 Dec 2001 12:53:22 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA18330
	for <sip@optimus.ietf.org>; Thu, 27 Dec 2001 12:53:19 -0500 (EST)
Received: from mailout05.sul.t-online.com (mailout05.sul.t-online.com [194.25.134.82])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA19178
	for <sip@ietf.org>; Thu, 27 Dec 2001 12:53:17 -0500 (EST)
Received: from fwd10.sul.t-online.de 
	by mailout05.sul.t-online.de with smtp 
	id 16JeiN-0003Hg-0H; Thu, 27 Dec 2001 18:53:11 +0100
Received: from cs.columbia.edu (0223226329-0001@[217.87.231.241]) by fwd10.sul.t-online.com
	with esmtp id 16JeiM-1ardC4C; Thu, 27 Dec 2001 18:53:10 +0100
Message-ID: <3C2B5FE4.2C16F984@cs.columbia.edu>
Date: Thu, 27 Dec 2001 18:52:36 +0100
From: Schulz-Rinne@t-online.de (Henning Schulzrinne)
Reply-To: hgs@cs.columbia.edu
Organization: Columbia University
X-Mailer: Mozilla 4.7 [de] (Win95; I)
X-Accept-Language: de
MIME-Version: 1.0
To: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
CC: sip@ietf.org
Subject: Re: [Sip] Open Issue #290: Registrar increasing registration lifetime
References: <3C2B5AC1.6020409@dynamicsoft.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Sender: 0223226329-0001@t-dialin.net
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

I agree that this is of limited usefulness. If a client wants to pester
the registrars with frequent renewals, it doesn't need a lower refresh
interval for that.

If cooperative clients that are too eager need to be advised, one should
probably introduce some 5xx error code "Registration interval too
short". Designing a registrar installation that can't handle the nominal
1 hour interval for its user population seems ill-advised.

Banner headline in Washington Times: IETF changes Internet to accomodate
depravity - congressional hearing soon

Jonathan Rosenberg schrieb:
> 
> The spec now says that the registrar can increase the registration
> interval.
> This is done to protect the registrar from clients that want to refresh too
> frequently. However, this introduces interesting complications:
> 
>    a. it can't really increase Expires: 0, since we do need a way to
> terminate a
> registration, so we would need to special case 0
>    b. the client may choose to register an interval because they want the
> information to die at a specific time (husband registering his phone at his
> mistresses number for a brief period, REALLY wants it unregistered when
> he asks)
> 
> So, do we really want to allow the registrar to increase the interval?
> 
> -Jonathan R.
> --

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Dec 27 14:19:14 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id OAA19916
	for <sip-archive@odin.ietf.org>; Thu, 27 Dec 2001 14:19:14 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id OAA20590
	for sip-archive@odin.ietf.org; Thu, 27 Dec 2001 14:19:16 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id NAA19780;
	Thu, 27 Dec 2001 13:58:14 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id NAA19751
	for <sip@optimus.ietf.org>; Thu, 27 Dec 2001 13:58:11 -0500 (EST)
Received: from godzilla.ipdialog.com (ipsniffers-122.fiasj.net [208.238.222.122])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id NAA19724
	for <sip@ietf.org>; Thu, 27 Dec 2001 13:58:07 -0500 (EST)
Received: from ipdialog.com (IDENT:hch@repoman.ipdialog.com [208.238.222.70])
	by godzilla.ipdialog.com (8.9.3/8.8.7) with ESMTP id KAA06823;
	Thu, 27 Dec 2001 10:57:00 -0800
Message-ID: <3C2B6EFC.890A2740@ipdialog.com>
Date: Thu, 27 Dec 2001 10:57:00 -0800
From: Howard Hart <hch@ipdialog.com>
Organization: ipDialog, Inc.
X-Mailer: Mozilla 4.61 [en] (X11; U; Linux 2.2.12-20 i586)
X-Accept-Language: en
MIME-Version: 1.0
To: Jim Reid <Jim.Reid@nominum.com>
CC: Juha Heinanen <jh@lohi.eng.song.fi>,
        Jonathan Rosenberg <jdrosen@dynamicsoft.com>,
        "Henning G. Schulzrinne" <hgs@cs.columbia.edu>,
        Michael Thomas <mat@cisco.com>, sip@ietf.org
Subject: Re: [Sip] MAJOR Open Issue #184: Message size limitations
References: <8213.1009444265@shell.nominum.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Right. Maybe as simple as following RFC 2181, Section 9, and just
substitute Jonathan's error response code for the Truncated header bit
used to flag oversize UDP messages in DNS.

Howard Hart
ipDialog, Inc.


Jim Reid wrote:

> >>>>> "Juha" == Juha Heinanen <jh@lohi.eng.song.fi> writes:
>
>     >> Jonathan Rosenberg writes:
>     >> There was some discussion of this issue with Allison in an
>     >> offline conversation. The result of that discussion was that
>     >> your variation was a reasonable direction, similar to
>     >> DNS. Specifically:
>     >>
>     >> 1. if the request is larger than 1500 bytes, you MUST use TCP
>     >> to send it, 2. if the request came over udp, but the response
>     >> is longer than 1500, you send a specific error response code
>     >> which says "response is too big to go over udp, please retry
>     >> request with tcp", and then proceed.
>
>     Juha> i don't think dns has anything like this.  instead dns
>     Juha> servers and resolvers are asked to support large size udp
>     Juha> messages, see draft-ietf-dnsext-message-size-04.txt.
>
> The original poster is correct. This is *exactly* how DNS works. There
> is an enormous installed base of stub resolvers and name servers that
> only implement the current 512-byte payload over UDP and then TCP
> retry on a truncated response. This won't be going away any time soon.
> The above draft simply advocates the use of an existing protocol,
> EDNS0, which has been done that allows for bigger UDP packets. It's
> implemented in BIND9, though this isn't yet widely deployed. Even if
> EDNS0 is everywhere, truncation and TCP retries will still occur,
> albeit less frequently.
>
> IMO, we should try to keep SIP simple. Set a reasonably large packet
> size for UDP that should be "big enough" for the expected data. Then
> allow TCP retries if/when that limit is exceeded. The trick will be
> deciding how much is big enough and trading off arbitrary limits with
> network/data fragmentation issues. That's how we got the 512 byte
> limit in DNS. In the old days a 576 byte datagram (64 bytes of headers
> and 512 bytes of data) was the maximum packet size that was guaranteed
> to be sent across the net without getting fragmented.
>
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Dec 27 14:51:53 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id OAA20208
	for <sip-archive@odin.ietf.org>; Thu, 27 Dec 2001 14:51:52 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id OAA21366
	for sip-archive@odin.ietf.org; Thu, 27 Dec 2001 14:51:55 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id OAA20650;
	Thu, 27 Dec 2001 14:23:37 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id OAA20621
	for <sip@optimus.ietf.org>; Thu, 27 Dec 2001 14:23:35 -0500 (EST)
Received: from hoemail1.firewall.lucent.com (hoemail1.lucent.com [192.11.226.161])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id OAA19968
	for <sip@ietf.org>; Thu, 27 Dec 2001 14:23:32 -0500 (EST)
Received: from ih2mail.ih.lucent.com (h135-1-241-39.lucent.com [135.1.241.39])
	by hoemail1.firewall.lucent.com (Switch-2.1.3/Switch-2.1.0) with ESMTP id fBRJN3s10199;
	Thu, 27 Dec 2001 14:23:03 -0500 (EST)
Received: from lucent.com by ih2mail.ih.lucent.com (8.8.8+Sun/EMS-1.5 sol2)
	id NAA03506; Thu, 27 Dec 2001 13:23:02 -0600 (CST)
Message-ID: <3C2B7516.941E1C56@lucent.com>
Date: Thu, 27 Dec 2001 13:23:02 -0600
From: Vijay Gurbani <vkg@lucent.com>
Organization: Lucent Technologies/Bell Laboratories
X-Mailer: Mozilla 4.73 [en]C-CCK-MCD EMS-1.4  (Windows NT 5.0; U)
X-Accept-Language: en
MIME-Version: 1.0
To: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
CC: sip@ietf.org
Subject: Re: [Sip] Open Issue #290: Registrar increasing registration lifetime
References: <3C2B5AC1.6020409@dynamicsoft.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Jonathan Rosenberg wrote:
> 
> The spec now says that the registrar can increase the registration
> interval.  This is done to protect the registrar from clients that want to 
> refresh  too frequently. However, this introduces interesting 
> complications:
> 
>    a. it can't really increase Expires: 0, since we do need a way to
> terminate a registration, so we would need to special case 0
>    b. the client may choose to register an interval because they want the
> information to die at a specific time (husband registering his phone at 
> his mistresses number for a brief period, REALLY wants it unregistered 
> when he asks)
> 
> So, do we really want to allow the registrar to increase the interval?

Yes, I would think so; although there is nothing stopping a trigger happy
(or paranoid) UA from sending REGISTERs every second.  

As for (b), the husband should really not be using his SIP phone at such an 
compromising location :-).  Assuming he did, he can de-register within what-
ever small time interval he needs by sending another REGISTER, Expires:0 
which should be honored, as per (a).

- vijay
-- 
Vijay K. Gurbani  vkg@{lucent.com,research.bell-labs.com,acm.org}
Internet Software and eServices Group 
Lucent Technologies/Bell Labs Innovations, 2000 Lucent Lane, Rm 6G-440
Naperville, Illinois 60566     Voice: +1 630 224 0216   Fax: +1 630 713 0184

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Dec 27 16:21:43 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id QAA21106
	for <sip-archive@odin.ietf.org>; Thu, 27 Dec 2001 16:21:43 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id QAA23521
	for sip-archive@odin.ietf.org; Thu, 27 Dec 2001 16:21:44 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id QAA23362;
	Thu, 27 Dec 2001 16:05:54 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id QAA23335
	for <sip@optimus.ietf.org>; Thu, 27 Dec 2001 16:05:47 -0500 (EST)
Received: from mail1.dynamicsoft.com (mail1.dynamicsoft.com [63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id QAA20947
	for <sip@ietf.org>; Thu, 27 Dec 2001 16:05:46 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fBRL3ape009112;
	Thu, 27 Dec 2001 16:03:37 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <ZDFR1XKN>; Thu, 27 Dec 2001 16:05:15 -0500
Message-ID: <9BF66EBF6BEFD942915B4D4D45C051F338E8E6@DYN-TX-EXCH-001.dynamicsoft.com>
From: Robert Sparks <rsparks@dynamicsoft.com>
To: "'William Marshall'" <wtm@research.att.com>, sip@ietf.org
Subject: RE: [Sip] SIP WG - 5 - Last Call Open Discussion - draft-ietf-sip
	-refer-02.txt
Date: Thu, 27 Dec 2001 16:05:04 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org



> -----Original Message-----
> From: William Marshall [mailto:wtm@research.att.com]
> Sent: Thursday, December 27, 2001 10:50 AM
> To: sip@ietf.org
> Subject: Re: [Sip] SIP WG - 5 - Last Call Open Discussion -
> draft-ietf-sip-refer-02.txt
> 
> 
> I don't believe there has been any conclusion posted about security
> aspects of the Referred-By header, which I raised as issues in my
> initial review of this draft.
> 
> Without an adequate mechanism to verify the information in 
> the Referred-By
> header, and to verify the timeliness of that information, the 
> header is
> worse than useless.  It should be removed from the draft.
> 
> To repeat the problem, consider three parties, A, B, and C, where
> A sends a REFER to B, causing B to send an INVITE to C.  Procedures
> exist whereby B can authenticate A; procedures also exist whereby
> C can authenticate B.  
> 
> However, nothing prevents B from including a bogus Referred-By header 
> in its INVITE request to C.  Nothing prevents B from including a
> previously-valid-but-expired Referred-By header in its INVITE (i.e. 
> a form of replay attack).  Anything done by C based on information
> in the Referred-By header may be incorrect or harmful.

Anything done by C based on information in the Referred-By header
would be determined by the application using the primative. The first
application we're talking about is Transfer. The current proposal
is to leave REFER as is, and specify usage of the parameters available
on the Referred-By header to get exactly the protection you describe for
the transfer application. 

Are you objecting to this approach? If we actually remove the header,
we will be left without a conduit between the REFER and the triggered
action to include such procection mechanisms...

RjS

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Dec 27 16:51:31 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id QAA21471
	for <sip-archive@odin.ietf.org>; Thu, 27 Dec 2001 16:51:31 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id QAA24191
	for sip-archive@odin.ietf.org; Thu, 27 Dec 2001 16:51:33 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id QAA23994;
	Thu, 27 Dec 2001 16:30:41 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id QAA23946
	for <sip@optimus.ietf.org>; Thu, 27 Dec 2001 16:30:38 -0500 (EST)
Received: from june.Broomfield1.level3.net (june.Broomfield1.Level3.net [209.245.18.7])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id QAA21253
	for <sip@ietf.org>; Thu, 27 Dec 2001 16:30:35 -0500 (EST)
From: John.Hearty@Level3.com
Received: from f1ee40-19.idc1.level3.com (hme0.f1ee40-19.idc1.oss.level3.com [10.1.144.204])
	by june.Broomfield1.level3.net (8.9.3/8.9.3) with ESMTP id VAA12926;
	Thu, 27 Dec 2001 21:28:11 GMT
Received: from n0195idc1.oss.level3.com (localhost [127.0.0.1])
	by f1ee40-19.idc1.level3.com (8.8.8+Sun/8.8.8) with ESMTP id VAA28383;
	Thu, 27 Dec 2001 21:30:30 GMT
Received: by n0195idc1.oss.level3.com with Internet Mail Service (5.5.2653.19)
	id <YKJH2QV9>; Thu, 27 Dec 2001 14:30:27 -0700
Message-ID: <17052388D394D411803900508BDFFAF601B370D8@n0214idc1.oss.level3.com>
To: jdrosen@dynamicsoft.com, orton@nortelnetworks.com
Cc: brett@broadsoft.com, sip@ietf.org
Subject: RE: [Sip] Open Issue #139: re-INVITE Glare
Date: Thu, 27 Dec 2001 14:30:30 -0700
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org



> -----Original Message-----
> From: Jonathan Rosenberg [mailto:jdrosen@dynamicsoft.com]
> Sent: Thursday, December 27, 2001 9:06 AM
> To: Scott Orton
> Cc: 'brett'; sip
> Subject: Re: [Sip] Open Issue #139: re-INVITE Glare
> 
> 
> inline.
> 
> Scott Orton wrote:
> 
>  > I like the 491 response code. I also prefer the idea of using the
>  > owner of the Call-ID as Brett proposed below. I would suggest
>  > taking it a little further.
>  >
>  > Lets assume that A is the owner of the Call-ID and B is the other
>  > party.  If A receives the re-invite from B it should send a 491 to
>  > the Invite from B. If B on receives a re-Invite from A it should
>  > process the request, rather than sending the 491, and wait for the
>  > 491 for its own re-invite.
> 
> Alas, were it that simple, we would have resolved this long ago.
> 
> The problem with this, and Brett's solutions (although his will still 
> work, just may not produce an early winner as expected), is that they 
> rely on a *shared view* of whether there is glare or not. 
> Turns out that 
> you cannot guarantee it. So, let me give two examples where 
> there is not 
> a shared view, and having an algorithm for choosing a winner fails.
> 
> I actually posted this to the list over a year back:
> 
>    I'm afraid this solution does not work as specified. It only works
>    if both sides agree they are in a glare situation. Consider the
>    following case. A sends a reinvite to B. B receives it, 
> and responds
>    with a 200. This response takes a while to get to A. Now, B sends a
>    re-INVITE to A (as far as B is concerned, the reinvite it received
>    has been responded to, thus there is no glare, and it can 
> send a new
>    re-INVITE). A receives that re-invite. A thinks there is glare, and
>    decides its the winner, so it responds. Then, A gets the non-500
>    response from B. Now A is really confused.

This scenario would require packet re-ordering, with B's 200 arriving at A
after B's re-Invite.  These are both going to the same place, and these
days, the likelyhood of packets between the same two places getting
re-ordered is not that high.  Granted, there are probabally proxies between
increasing the likelyhood of the messages getting re-ordered.  However, do
we really want to discard a cleaner solution for a small percentage of
negative scenarios?  I have seen arguments in other threads against solving
problems resulting when the network is totally hosed.

> 
>    You could argue that B shouldn't even send that re-INVITE until the
>    ACK is received for the re-INVITE B got first. However, there is
>    still a race condition that makes it not work, although its even
>    less likely. Heres the case: A sends a re-invite to B that gets
>    lost. B sends a re-invite to A. A sees glare, and decides A should
>    win, so it responds with a 200 OK. B ACKs, and A gets the 
> ACK. Then, that
>    lost reinvite arrives at B. B thinks everything is fine, since the
>    previous reinvite it sent has been ACKed. So, it sends a 200
>    OK. Now, A is once again confused. It expected B to reject 
> that first
>    INVITE, since A was declared the winner.

B better not think everything is fine, it just got an Invite with the same
Cseq it just used.  Again, this scenario requires packet re-ordering between
the same end points, not a highly likely thing to happen.  The proposed
argument of not re-Inviting until after ACK seems to tie back to the
overlapping Invite open issue #113, I am unclear where that left off other
than it got ugly quickly and it seemed too late to resolve in bis.  This
might be another reason to avoid overlapping Invites unless it becomes a
pressing need.  I still feel we should avoid timers to resolve glare if we
can.  They are inefficient.

> 
> 
> Now, Brett had proposed a variant:
> 
> > However I agree with John that something 
> > should produce an early winner of the 
> > re-INVITE glare.  How about allowing the 
> > owner of the Call-ID to have the random 
> > 0 to 2 seconds (by 10ms) and the other 
> > gets random between 2.1 and 4 seconds 
> > (by 10ms)?  Session refreshing induced 
> > reinvites should choose higher random 
> > backoff intervals assuming that there 
> > is time left to accommodate it.
> > 
> 
> There are cases where the "owner of the call-id" is also not known. 
> Consider the case where A calls B. A crashes. B detects this through 
> ICMP on the media channel, and does a re-INVITE to re-establish. A 
> backup for A reconstitutes the state, and the call continues. Now, A 
> thinks that B owns the Call-ID, and B thinks A owns it. Hmmm.

 If A is smart enough to reconstitute state, it ought to be smart enough to
know if it owned the Call-ID.  This could be a condition of the proposal for
issue #207.  Otherwise, we don't have to stick with the "owner of the
Call-ID", there are other things unique to the transactions that could be
used to derive a definitive early winner.

> 
> In this case, what you are proposing will still work, it just may 
> require another round. I'm assuming the reason you are 
> proposing one of 
> them using 2-4 seconds is to avoid a second glare condition, in the 
> event both sides choose the same random number. Despite the 
> case above, 
> I think its a reasonable idea, since the above situation is a corner 
> case, and the odds of another glare are still fairly high (I 
> think the 
> odds of it are something like the RTT over the randomization 
> interval).
> 
> So, I would propose amending my original proposal to 
> incorporate Brett's 
> idea of having one side choose a larger value for the range 
> based on a 
> heuristic.
> 
> -Jonathan R.
> 
> 
> 
> -- 
> Jonathan D. Rosenberg, Ph.D.            72 Eagle Rock Avenue
> Chief Scientist                         First Floor
> dynamicsoft                             East Hanover, NJ 07936
> jdrosen@dynamicsoft.com                 FAX: (973) 952-5050
> http://www.jdrosen.net                  PH:  (973) 952-5000
> http://www.dynamicsoft.com
> 
> 
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
> 

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Fri Dec 28 03:36:04 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id DAA06295
	for <sip-archive@odin.ietf.org>; Fri, 28 Dec 2001 03:36:04 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id DAA16101
	for sip-archive@odin.ietf.org; Fri, 28 Dec 2001 03:36:07 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id DAA15477;
	Fri, 28 Dec 2001 03:18:20 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id DAA15448
	for <sip@optimus.ietf.org>; Fri, 28 Dec 2001 03:18:17 -0500 (EST)
Received: from lohi.eng.song.fi (lohi.eng.song.fi [195.10.149.18])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id DAA06151
	for <sip@ietf.org>; Fri, 28 Dec 2001 03:18:13 -0500 (EST)
Received: from harjus.eng.song.fi (harjus.eng.song.fi [195.10.149.20])
	by lohi.eng.song.fi (8.12.1/8.12.1/Debian -5) with ESMTP id fBS8IFio005829
	for <sip@ietf.org>; Fri, 28 Dec 2001 10:18:15 +0200
From: Juha Heinanen <jh@lohi.eng.song.fi>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <15404.10951.483864.789689@harjus.eng.song.fi>
Date: Fri, 28 Dec 2001 10:18:15 +0200
To: sip@ietf.org
Subject: Re: [Sip] MAJOR Open Issue #184: Message size limitations
X-Mailer: VM 6.99 under Emacs 21.1.1
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

i have nothing against introducing an error response for truncated UDP
messages, but whatever the new spec will say should not make existing
implementations that support large udp packets non-compliant.

i have in active use half a dozen different sip phone, proxies and media
gateway controllers and all of them today send and receive sip messages
in udp packets that are larger than 1500 bytes.  their network driver
simply ip fragments and reassembles a packet if it doesn't fit into a
1500 byte ethernet frame.  almost a year ago i found one ip phone that
didn't support reception of framented udp packets, but that was promptly
fixed, when i reported the issue.

if the new version of the spec will say (as jonathan suggested) "if the
request is larger than 1500 bytes, you MUST use TCP to send it", then
such a statement would make all off-the-shelf sip entities that are
currently in use in my network non-compliant, which would be a VERY bad
idea.

-- juha


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Fri Dec 28 03:52:53 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id DAA06445
	for <sip-archive@odin.ietf.org>; Fri, 28 Dec 2001 03:52:53 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id DAA16302
	for sip-archive@odin.ietf.org; Fri, 28 Dec 2001 03:52:56 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id DAA16182;
	Fri, 28 Dec 2001 03:39:15 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id DAA16151
	for <sip@optimus.ietf.org>; Fri, 28 Dec 2001 03:39:12 -0500 (EST)
Received: from fep02-app.kolumbus.fi (fep02-0.kolumbus.fi [193.229.0.44])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id DAA06333
	for <sip@ietf.org>; Fri, 28 Dec 2001 03:39:08 -0500 (EST)
Received: from jariws1 ([62.248.239.67]) by fep02-app.kolumbus.fi
          (InterMail vM.5.01.03.08 201-253-122-118-108-20010628) with SMTP
          id <20011228083910.LQBU3377.fep02-app.kolumbus.fi@jariws1>;
          Fri, 28 Dec 2001 10:39:10 +0200
Message-ID: <00b201c18f7b$27d4ee60$8a1b6e0a@arenanet.fi>
From: "Jari Arkko" <jari.arkko@kolumbus.fi>
To: "Juha Heinanen" <jh@lohi.eng.song.fi>, <sip@ietf.org>
References: <15404.10951.483864.789689@harjus.eng.song.fi>
Subject: Re: [Sip] MAJOR Open Issue #184: Message size limitations
Date: Fri, 28 Dec 2001 10:39:25 +0200
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 5.50.4133.2400
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4133.2400
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

> if the new version of the spec will say (as jonathan suggested) "if the
> request is larger than 1500 bytes, you MUST use TCP to send it", then
> such a statement would make all off-the-shelf sip entities that are
> currently in use in my network non-compliant, which would be a VERY bad
> idea.

Yeah. How about "SHOULD use TCP if the sent request is larger than A
bytes, MAY return an error code if the received request is larger than B
bytes."  Here B >= A, e.g. A=B=1500 or A=1500, B=5000.

Jari





_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Fri Dec 28 05:24:33 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id FAA07112
	for <sip-archive@odin.ietf.org>; Fri, 28 Dec 2001 05:24:31 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id FAA18395
	for sip-archive@odin.ietf.org; Fri, 28 Dec 2001 05:24:36 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id FAA18153;
	Fri, 28 Dec 2001 05:09:40 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id FAA18122
	for <sip@optimus.ietf.org>; Fri, 28 Dec 2001 05:09:37 -0500 (EST)
Received: from cs.columbia.edu (cs.columbia.edu [128.59.16.20])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id FAA06937
	for <sip@ietf.org>; Fri, 28 Dec 2001 05:09:33 -0500 (EST)
Received: from bart.cs.columbia.edu (bart.cs.columbia.edu [128.59.19.191])
	by cs.columbia.edu (8.9.3/8.9.3) with ESMTP id FAA07258
	for <sip@ietf.org>; Fri, 28 Dec 2001 05:09:36 -0500 (EST)
Received: from cs.columbia.edu (bart.cs.columbia.edu [128.59.19.191])
	by bart.cs.columbia.edu (8.12.1/8.12.1) with ESMTP id fBSA9Vpg015529
	for <sip@ietf.org>; Fri, 28 Dec 2001 05:09:32 -0500 (EST)
Message-ID: <3C2B410D.16986358@cs.columbia.edu>
Date: Thu, 27 Dec 2001 08:41:01 -0700
From: Henning Schulzrinne <hgs@cs.columbia.edu>
Organization: Columbia University
X-Mailer: Mozilla 4.76 [en] (Windows NT 5.0; U)
X-Accept-Language: en
MIME-Version: 1.0
To: sip@ietf.org
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Subject: [Sip] SRV + NAPTR
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

I tried to think of other options for indicating the protocol including:

- Use in the +rs field, as in SIP+UDP. The 'rs' field appears to be
protocol-specific in any event, so this is harmless.

- Use of URI rewriting, to something like URL;transport=tcp. Ugly.

Both of these have the disadvantage that the protocol is specified
twice, creating another error case where the two entries contradict each
other.

Also, the algorithm specified in Section 4 of 2915 doesn't quite work -
the very first (in terms of order) entry always matches and would have
to be chosen, regardless of client capabilities. I doubt that this is a
problem, but a strict API that just implements matching according to the
RFC would likely fail.

Another possible kludge: construct a pseudo-URI such as 

sip:user@foo.com;transports=TCP,UDP

and a regexp such as

!sip:.*;transports=.*udp!  -- some UDP reference
!sip:.*;transports=.*tcp!

Needless to say, this is rather ugly. However, somebody should talk to
the DNS experts and find out whether they consider the matching to be
according to the rules.

Since NAPTR, like SRV, also has preferences (in addition to order), you
could get multiple selection mechanisms. Some advice to the implementor
might be helpful here.


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Fri Dec 28 10:48:12 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id KAA08991
	for <sip-archive@odin.ietf.org>; Fri, 28 Dec 2001 10:48:12 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id KAA25426
	for sip-archive@odin.ietf.org; Fri, 28 Dec 2001 10:48:15 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id KAA24472;
	Fri, 28 Dec 2001 10:30:03 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id KAA24425
	for <sip@optimus.ietf.org>; Fri, 28 Dec 2001 10:30:01 -0500 (EST)
Received: from june.Broomfield1.level3.net (june.Broomfield1.Level3.net [209.245.18.7])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id KAA08814
	for <sip@ietf.org>; Fri, 28 Dec 2001 10:29:57 -0500 (EST)
From: John.Hearty@Level3.com
Received: from f1ee40-19.idc1.level3.com (hme0.f1ee40-19.idc1.oss.level3.com [10.1.144.204])
	by june.Broomfield1.level3.net (8.9.3/8.9.3) with ESMTP id PAA11927;
	Fri, 28 Dec 2001 15:29:42 GMT
Received: from n0195idc1.oss.level3.com (localhost [127.0.0.1])
	by f1ee40-19.idc1.level3.com (8.8.8+Sun/8.8.8) with ESMTP id PAA00575;
	Fri, 28 Dec 2001 15:15:12 GMT
Received: by n0195idc1.oss.level3.com with Internet Mail Service (5.5.2653.19)
	id <YKJHKSR2>; Fri, 28 Dec 2001 08:15:09 -0700
Message-ID: <17052388D394D411803900508BDFFAF601B370DB@n0214idc1.oss.level3.com>
To: jh@lohi.eng.song.fi, sip@ietf.org
Subject: RE: [Sip] MAJOR Open Issue #184: Message size limitations
Date: Fri, 28 Dec 2001 08:15:11 -0700
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org


 Hmmm.  I'd say all your implementations that support reassembling
fragmented SIP risk problems if there is packet loss.  They are making up
for non-compliant devices that are fragmenting the SIP messages (see bis-05
section 7.5).  SIP over unreliable transports should be in one datagram to
maintain the reliability mechanisms built into SIP.  If you fragment the
message, the reliability may be lost.

John Hearty
Level3


> -----Original Message-----
> From: Juha Heinanen [mailto:jh@lohi.eng.song.fi]
> Sent: Friday, December 28, 2001 1:18 AM
> To: sip@ietf.org
> Subject: Re: [Sip] MAJOR Open Issue #184: Message size limitations
> 
> 
> i have nothing against introducing an error response for truncated UDP
> messages, but whatever the new spec will say should not make existing
> implementations that support large udp packets non-compliant.
> 
> i have in active use half a dozen different sip phone, 
> proxies and media
> gateway controllers and all of them today send and receive 
> sip messages
> in udp packets that are larger than 1500 bytes.  their network driver
> simply ip fragments and reassembles a packet if it doesn't fit into a
> 1500 byte ethernet frame.  almost a year ago i found one ip phone that
> didn't support reception of framented udp packets, but that 
> was promptly
> fixed, when i reported the issue.
> 
> if the new version of the spec will say (as jonathan 
> suggested) "if the
> request is larger than 1500 bytes, you MUST use TCP to send it", then
> such a statement would make all off-the-shelf sip entities that are
> currently in use in my network non-compliant, which would be 
> a VERY bad
> idea.
> 
> -- juha
> 
> 
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
> 

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Fri Dec 28 10:51:12 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id KAA09037
	for <sip-archive@odin.ietf.org>; Fri, 28 Dec 2001 10:51:12 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id KAA25485
	for sip-archive@odin.ietf.org; Fri, 28 Dec 2001 10:51:15 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id KAA25080;
	Fri, 28 Dec 2001 10:42:42 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id KAA25049
	for <sip@optimus.ietf.org>; Fri, 28 Dec 2001 10:42:39 -0500 (EST)
Received: from lohi.eng.song.fi (lohi.eng.song.fi [195.10.149.18])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id KAA08909
	for <sip@ietf.org>; Fri, 28 Dec 2001 10:42:35 -0500 (EST)
Received: from harjus.eng.song.fi (harjus.eng.song.fi [195.10.149.20])
	by lohi.eng.song.fi (8.12.1/8.12.1/Debian -5) with ESMTP id fBSFgUio006104;
	Fri, 28 Dec 2001 17:42:30 +0200
From: Juha Heinanen <jh@lohi.eng.song.fi>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <15404.37606.430367.581716@harjus.eng.song.fi>
Date: Fri, 28 Dec 2001 17:42:30 +0200
To: John.Hearty@Level3.com
Cc: sip@ietf.org
Subject: RE: [Sip] MAJOR Open Issue #184: Message size limitations
In-Reply-To: <17052388D394D411803900508BDFFAF601B370DB@n0214idc1.oss.level3.com>
References: <17052388D394D411803900508BDFFAF601B370DB@n0214idc1.oss.level3.com>
X-Mailer: VM 6.99 under Emacs 21.1.1
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

John.Hearty@Level3.com writes:

 >  Hmmm.  I'd say all your implementations that support reassembling
 > fragmented SIP risk problems if there is packet loss.  They are making up
 > for non-compliant devices that are fragmenting the SIP messages (see bis-05
 > section 7.5).  SIP over unreliable transports should be in one datagram to
 > maintain the reliability mechanisms built into SIP.  If you fragment the
 > message, the reliability may be lost.

the bit-05 text you refer to has word SHOULD in it.  if we now turn it
to MUST, we are breaking several existing implementations from major sip
vendors.  we should thus keep SHOULD in the text as suggested this
morning by jari.

-- juha


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Fri Dec 28 10:56:54 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id KAA09119
	for <sip-archive@odin.ietf.org>; Fri, 28 Dec 2001 10:56:54 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id KAA25614
	for sip-archive@odin.ietf.org; Fri, 28 Dec 2001 10:56:58 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id KAA25312;
	Fri, 28 Dec 2001 10:46:28 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id KAA25281
	for <sip@optimus.ietf.org>; Fri, 28 Dec 2001 10:46:25 -0500 (EST)
Received: from mail3.dynamicsoft.com ([63.113.44.69])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id KAA08962
	for <sip@ietf.org>; Fri, 28 Dec 2001 10:46:21 -0500 (EST)
Received: from dynamicsoft.com ([63.113.46.52])
	by mail3.dynamicsoft.com (8.12.1/8.12.1) with ESMTP id fBSFjeVZ003617;
	Fri, 28 Dec 2001 10:45:40 -0500 (EST)
Message-ID: <3C2C938D.2090304@dynamicsoft.com>
Date: Fri, 28 Dec 2001 10:45:17 -0500
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:0.9.4) Gecko/20011128 Netscape6/6.2.1
X-Accept-Language: en-us
MIME-Version: 1.0
To: John.Hearty@Level3.com
CC: jh@lohi.eng.song.fi, sip@ietf.org
Subject: Re: [Sip] MAJOR Open Issue #184: Message size limitations
References: <17052388D394D411803900508BDFFAF601B370DB@n0214idc1.oss.level3.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

The bigger problem with fragmentation is that it simply doesn't work 
through nats, firewalls, or who-knows-what-else kind of packet 
inspecting beasts one finds in networks these days.

I would still prefer "MUST" use TCP for packets larger than 1500; your 
existing devices will be non-compliant (good motivation to fix it) but 
will still function; I think its fair to say that you still need to be 
able to receive UDP packets larger than 1500.

I am having some second thoughts about the truncated response error 
code; I think there may be some interactions with SIP specifics that 
make this more complex than I thought. I'm still thinking about it, and 
will post separately.

-Jonathan R.

John.Hearty@Level3.com wrote:

>  Hmmm.  I'd say all your implementations that support reassembling
> fragmented SIP risk problems if there is packet loss.  They are making
> up
> for non-compliant devices that are fragmenting the SIP messages (see
> bis-05
> section 7.5).  SIP over unreliable transports should be in one datagram
> to
> maintain the reliability mechanisms built into SIP.  If you fragment the
> message, the reliability may be lost.
> 
> John Hearty
> Level3
> 
> 
> 
>>-----Original Message-----
>>From: Juha Heinanen [mailto:jh@lohi.eng.song.fi]
>>Sent: Friday, December 28, 2001 1:18 AM
>>To: sip@ietf.org
>>Subject: Re: [Sip] MAJOR Open Issue #184: Message size limitations
>>
>>
>>i have nothing against introducing an error response for truncated UDP
>>messages, but whatever the new spec will say should not make existing
>>implementations that support large udp packets non-compliant.
>>
>>i have in active use half a dozen different sip phone, 
>>proxies and media
>>gateway controllers and all of them today send and receive 
>>sip messages
>>in udp packets that are larger than 1500 bytes.  their network driver
>>simply ip fragments and reassembles a packet if it doesn't fit into a
>>1500 byte ethernet frame.  almost a year ago i found one ip phone that
>>didn't support reception of framented udp packets, but that 
>>was promptly
>>fixed, when i reported the issue.
>>
>>if the new version of the spec will say (as jonathan 
>>suggested) "if the
>>request is larger than 1500 bytes, you MUST use TCP to send it", then
>>such a statement would make all off-the-shelf sip entities that are
>>currently in use in my network non-compliant, which would be 
>>a VERY bad
>>idea.
>>
>>-- juha
>>
>>
>>_______________________________________________
>>Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
>>This list is for NEW development of the core SIP Protocol
>>Use sip-implementors@cs.columbia.edu for questions on current sip
>>Use sipping@ietf.org for new developments on the application of sip
>>
>>
> 
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
> 
> 


-- 
Jonathan D. Rosenberg, Ph.D.            72 Eagle Rock Avenue
Chief Scientist                         First Floor
dynamicsoft                             East Hanover, NJ 07936
jdrosen@dynamicsoft.com                 FAX: (973) 952-5050
http://www.jdrosen.net                  PH:  (973) 952-5000
http://www.dynamicsoft.com


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Fri Dec 28 12:18:09 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA09919
	for <sip-archive@odin.ietf.org>; Fri, 28 Dec 2001 12:18:09 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id MAA28413
	for sip-archive@odin.ietf.org; Fri, 28 Dec 2001 12:18:14 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id LAA27350;
	Fri, 28 Dec 2001 11:58:51 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id LAA27321
	for <sip@optimus.ietf.org>; Fri, 28 Dec 2001 11:58:49 -0500 (EST)
Received: from mail3.dynamicsoft.com ([63.113.44.69])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id LAA09560
	for <sip@ietf.org>; Fri, 28 Dec 2001 11:58:44 -0500 (EST)
Received: from dynamicsoft.com ([63.113.46.52])
	by mail3.dynamicsoft.com (8.12.1/8.12.1) with ESMTP id fBSGwhVZ003658
	for <sip@ietf.org>; Fri, 28 Dec 2001 11:58:43 -0500 (EST)
Message-ID: <3C2CA4AA.50605@dynamicsoft.com>
Date: Fri, 28 Dec 2001 11:58:18 -0500
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:0.9.4) Gecko/20011128 Netscape6/6.2.1
X-Accept-Language: en-us
MIME-Version: 1.0
To: sip@ietf.org
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Subject: [Sip] interesting interaction with overlap dialing and enum
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Folks,

There is an interesting interaction between overlap dialing and enum. A 
proxy that is doing enum dips for processing phone numbers will find 
that every time it gets an updated request-URI with additional digits, 
it will end up retrying enum to check if its ported. In the worst case, 
there would be N enum queries for an N digit number. Yuck. Not what you 
want, but I don't see how it can be avoided.

I think this has been raised in the past (I vaguely recall that Dean 
brought it up), but I didn't see anything about the problem documented 
in draft-ietf-sip-overlap, which should probably mention it. Another 
reason why overlap is bad.

-Jonathan R.
-- 
Jonathan D. Rosenberg, Ph.D.            72 Eagle Rock Avenue
Chief Scientist                         First Floor
dynamicsoft                             East Hanover, NJ 07936
jdrosen@dynamicsoft.com                 FAX: (973) 952-5050
http://www.jdrosen.net                  PH:  (973) 952-5000
http://www.dynamicsoft.com


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Fri Dec 28 12:33:55 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA10126
	for <sip-archive@odin.ietf.org>; Fri, 28 Dec 2001 12:33:55 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id MAA29146
	for sip-archive@odin.ietf.org; Fri, 28 Dec 2001 12:33:59 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA28341;
	Fri, 28 Dec 2001 12:12:06 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA28310
	for <sip@optimus.ietf.org>; Fri, 28 Dec 2001 12:12:03 -0500 (EST)
Received: from newdev.harvard.edu (newdev.eecs.harvard.edu [140.247.60.212])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA09826
	for <sip@ietf.org>; Fri, 28 Dec 2001 12:11:59 -0500 (EST)
Received: (from sob@localhost)
	by newdev.harvard.edu (8.10.2/8.10.2) id fBSHBVu17650;
	Fri, 28 Dec 2001 12:11:31 -0500 (EST)
Date: Fri, 28 Dec 2001 12:11:31 -0500 (EST)
From: Scott  Bradner <sob@harvard.edu>
Message-Id: <200112281711.fBSHBVu17650@newdev.harvard.edu>
To: jdrosen@dynamicsoft.com, John.Hearty@level3.com
Subject: Re: [Sip] MAJOR Open Issue #184: Message size limitations
Cc: jh@lohi.eng.song.fi, sip@ietf.org
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

> I would still prefer "MUST" use TCP for packets larger than 1500; your 

anyone who is concerned with reliability or with Internet congestion
should also prefer "MUST use TCP for packets larger than 1500" - it
will be hard to convince the IESG that it is OK for the Internet
to not have this a MUST

Scott

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Fri Dec 28 12:37:51 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA10167
	for <sip-archive@odin.ietf.org>; Fri, 28 Dec 2001 12:37:50 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id MAA29196
	for sip-archive@odin.ietf.org; Fri, 28 Dec 2001 12:37:54 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA28535;
	Fri, 28 Dec 2001 12:19:05 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA28510
	for <sip@optimus.ietf.org>; Fri, 28 Dec 2001 12:19:03 -0500 (EST)
Received: from lohi.eng.song.fi (lohi.eng.song.fi [195.10.149.18])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA09939
	for <sip@ietf.org>; Fri, 28 Dec 2001 12:18:57 -0500 (EST)
Received: from harjus.eng.song.fi (harjus.eng.song.fi [195.10.149.20])
	by lohi.eng.song.fi (8.12.1/8.12.1/Debian -5) with ESMTP id fBSHIpio006166;
	Fri, 28 Dec 2001 19:18:51 +0200
From: Juha Heinanen <jh@lohi.eng.song.fi>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <15404.43387.806295.784944@harjus.eng.song.fi>
Date: Fri, 28 Dec 2001 19:18:51 +0200
To: Scott  Bradner <sob@harvard.edu>
Cc: jdrosen@dynamicsoft.com, John.Hearty@level3.com, sip@ietf.org
Subject: Re: [Sip] MAJOR Open Issue #184: Message size limitations
In-Reply-To: <200112281711.fBSHBVu17650@newdev.harvard.edu>
References: <200112281711.fBSHBVu17650@newdev.harvard.edu>
X-Mailer: VM 6.99 under Emacs 21.1.1
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

 > anyone who is concerned with reliability or with Internet congestion
 > should also prefer "MUST use TCP for packets larger than 1500" - it
 > will be hard to convince the IESG that it is OK for the Internet
 > to not have this a MUST

scott,

i'm wasting too much bandwidth on this, but my point att the time has
been that someone already has convinced IESG not to have MUST there,
because it is SHOULD in rfc2543.  in some other occasions people on this
list have said that iesg requires the bis to be backwards compatible
with rfc2543, but looks like we are now relaxed from that obligation.

-- juha


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Fri Dec 28 13:39:00 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id NAA10560
	for <sip-archive@odin.ietf.org>; Fri, 28 Dec 2001 13:39:00 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id NAA00417
	for sip-archive@odin.ietf.org; Fri, 28 Dec 2001 13:39:03 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id NAA29803;
	Fri, 28 Dec 2001 13:16:59 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id NAA29772
	for <sip@optimus.ietf.org>; Fri, 28 Dec 2001 13:16:57 -0500 (EST)
Received: from mail-blue.research.att.com (mail-blue.research.att.com [135.207.30.102])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id NAA10417
	for <sip@ietf.org>; Fri, 28 Dec 2001 13:16:53 -0500 (EST)
Received: from alliance.research.att.com (alliance.research.att.com [135.207.26.26])
	by mail-blue.research.att.com (Postfix) with ESMTP id E64094CE34
	for <sip@ietf.org>; Fri, 28 Dec 2001 13:16:54 -0500 (EST)
Received: from fish.research.att.com (fish.research.att.com [135.207.27.137])
	by alliance.research.att.com (8.8.7/8.8.7) with ESMTP id NAA01146;
	Fri, 28 Dec 2001 13:16:51 -0500 (EST)
From: William Marshall <wtm@research.att.com>
Received: (from wtm@localhost)
	by fish.research.att.com (SGI-8.9.3/8.8.5) id NAA38120;
	Fri, 28 Dec 2001 13:18:05 -0500 (EST)
Date: Fri, 28 Dec 2001 13:18:05 -0500 (EST)
Message-Id: <200112281818.NAA38120@fish.research.att.com>
To: sip@ietf.org
Subject: RE: [Sip] SIP WG - 5 - Last Call Open Discussion - draft-ietf-sip-refer-02.txt
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

Robert Sparks wrote, in part:
> 			... The current proposal
> is to leave REFER as is, and specify usage of the parameters available
> on the Referred-By header to get exactly the protection you describe for
> the transfer application. 

I've looked through draft-ietf-sip-cc-transfer-05 again, and don't see
it.  What I see in the transfer draft is more of a "transferree/
transfer-target just do exactly as they are told, don't question
anything, and it will work".

The transferee and transfer target need some way to protect themselves
from malicious REFER requests, and from malicious INVITES that contain
Referred-By values.  I'm afraid that if the restricted usage is
documented in the transfer draft, then deployed implementations
will accept ONLY the combinations of parameters given in the transfer 
draft, effectively cutting off new and different services.  I feel
a generic method is needed in the refer draft that achieves some level 
of  protection against bogus and replayed requests, which can then
be used (at the recipient's option) in all the flows appearing in
call-control drafts.

If the usage restrictions were to be included in the transfer draft,
they would be something like: accept a REFER only within an active
dialog; accept an INVITE with a Replaces header only if the Call-ID
in the Replaces header matches an active dialog and the Referred-by
header matches either From or To of the same dialog, etc.  But
these kind of restrictions kill the blind transfer case (6.1).
But the transfer-target needs to know that the INVITE in step 9 is 
not a replay of an ancient REFER (step 7).  If all the flows in
the transfer draft were to be allowed, there would be no restrictions
at all.  Hardly a workable end state.

Bill Marshall
wtm@research.att.com

-----original message-----
From: Robert Sparks <rsparks@dynamicsoft.com>
To: "'William Marshall'" <wtm@research.att.com>, sip@ietf.org
Subject: RE: [Sip] SIP WG - 5 - Last Call Open Discussion - draft-ietf-sip
	-refer-02.txt
Date: Thu, 27 Dec 2001 16:05:04 -0500


> -----Original Message-----
> From: William Marshall [mailto:wtm@research.att.com]
> Sent: Thursday, December 27, 2001 10:50 AM
> To: sip@ietf.org
> Subject: Re: [Sip] SIP WG - 5 - Last Call Open Discussion -
> draft-ietf-sip-refer-02.txt
> 
> 
> I don't believe there has been any conclusion posted about security
> aspects of the Referred-By header, which I raised as issues in my
> initial review of this draft.
> 
> Without an adequate mechanism to verify the information in 
> the Referred-By
> header, and to verify the timeliness of that information, the 
> header is
> worse than useless.  It should be removed from the draft.
> 
> To repeat the problem, consider three parties, A, B, and C, where
> A sends a REFER to B, causing B to send an INVITE to C.  Procedures
> exist whereby B can authenticate A; procedures also exist whereby
> C can authenticate B.  
> 
> However, nothing prevents B from including a bogus Referred-By header 
> in its INVITE request to C.  Nothing prevents B from including a
> previously-valid-but-expired Referred-By header in its INVITE (i.e. 
> a form of replay attack).  Anything done by C based on information
> in the Referred-By header may be incorrect or harmful.

Anything done by C based on information in the Referred-By header
would be determined by the application using the primative. The first
application we're talking about is Transfer. The current proposal
is to leave REFER as is, and specify usage of the parameters available
on the Referred-By header to get exactly the protection you describe for
the transfer application. 

Are you objecting to this approach? If we actually remove the header,
we will be left without a conduit between the REFER and the triggered
action to include such procection mechanisms...

RjS

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Fri Dec 28 13:45:49 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id NAA10620
	for <sip-archive@odin.ietf.org>; Fri, 28 Dec 2001 13:45:49 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id NAA00461
	for sip-archive@odin.ietf.org; Fri, 28 Dec 2001 13:45:52 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id NAA29949;
	Fri, 28 Dec 2001 13:29:55 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id NAA29918
	for <sip@optimus.ietf.org>; Fri, 28 Dec 2001 13:29:53 -0500 (EST)
Received: from newdev.harvard.edu (newdev.eecs.harvard.edu [140.247.60.212])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id NAA10463
	for <sip@ietf.org>; Fri, 28 Dec 2001 13:29:49 -0500 (EST)
Received: (from sob@localhost)
	by newdev.harvard.edu (8.10.2/8.10.2) id fBSITcO17971;
	Fri, 28 Dec 2001 13:29:38 -0500 (EST)
Date: Fri, 28 Dec 2001 13:29:38 -0500 (EST)
From: Scott  Bradner <sob@harvard.edu>
Message-Id: <200112281829.fBSITcO17971@newdev.harvard.edu>
To: jh@lohi.eng.song.fi, sob@harvard.edu
Subject: Re: [Sip] MAJOR Open Issue #184: Message size limitations
Cc: jdrosen@dynamicsoft.com, John.Hearty@level3.com, sip@ietf.org
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

> i'm wasting too much bandwidth on this, but my point att the time has
> been that someone already has convinced IESG not to have MUST there,

the IESG has not yet spoken but at the time that 2543 was done it
was not envisioned that SIP would be used for Instant Messaging which
seems to be used for just about everything including large MP3 files

in retrospect I think we made an error in having that a SHOULD

Scott

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Fri Dec 28 14:10:11 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id OAA10853
	for <sip-archive@odin.ietf.org>; Fri, 28 Dec 2001 14:10:11 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id OAA01335
	for sip-archive@odin.ietf.org; Fri, 28 Dec 2001 14:10:14 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id NAA00558;
	Fri, 28 Dec 2001 13:54:33 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id NAA00527
	for <sip@optimus.ietf.org>; Fri, 28 Dec 2001 13:54:31 -0500 (EST)
Received: from localhost.localdomain ([63.110.3.144])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id NAA10691
	for <sip@ietf.org>; Fri, 28 Dec 2001 13:54:27 -0500 (EST)
Received: from rocinante (rocinante [127.0.0.1])
	by localhost.localdomain (8.11.6/8.11.6) with ESMTP id fBSIsI902202;
	Fri, 28 Dec 2001 12:54:18 -0600
Subject: Re: [Sip] Open Issue #290: Registrar increasing registration
	lifetime
From: Ben Campbell <bcampbell@dynamicsoft.com>
To: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
Cc: sip@ietf.org
In-Reply-To: <3C2B5AC1.6020409@dynamicsoft.com>
References: <3C2B5AC1.6020409@dynamicsoft.com>
Content-Type: text/plain
Content-Transfer-Encoding: 7bit
X-Mailer: Evolution/1.0 (Preview Release)
Date: 28 Dec 2001 12:54:17 -0600
Message-Id: <1009565658.1973.7.camel@rocinante>
Mime-Version: 1.0
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Actually, I really hate letting a registrar increase the interval, for a
few reasons:

1) As you mention, Expires:0 would then require special case processing.

2) The registering device should be the "owner" of its registration. It
is the only thing that has any hope to know the lifetime that its
registration is meaningful. If it sends a short Expires header, one must
assume to some degree it knows what it's doing. If it's choice of
Expires violates network _policy_, then a better solution would be to
send some sort of error response, perhaps containing the minimum allowed
expiration. If the device is willing to play by the local rules, it
registers again. If not, it takes its user and goes home.

3) Since there is no way to enforce that a client does not re-register
well before the expiration time, forcing a larger expiration is a fairly
weak solution to registration rate problems. Since older implementations
had a reasonable expectation that the Expires value would not increase,
they may not check for the condition.


On Thu, 2001-12-27 at 11:30, Jonathan Rosenberg wrote:
> The spec now says that the registrar can increase the registration 
> interval.
> This is done to protect the registrar from clients that want to refresh too
> frequently. However, this introduces interesting complications:
> 
>    a. it can't really increase Expires: 0, since we do need a way to 
> terminate a
> registration, so we would need to special case 0
>    b. the client may choose to register an interval because they want the
> information to die at a specific time (husband registering his phone at his
> mistresses number for a brief period, REALLY wants it unregistered when 
> he asks)
> 
> So, do we really want to allow the registrar to increase the interval?
> 
> 
> -Jonathan R.
> -- 
> Jonathan D. Rosenberg, Ph.D.            72 Eagle Rock Avenue
> Chief Scientist                         First Floor
> dynamicsoft                             East Hanover, NJ 07936
> jdrosen@dynamicsoft.com                 FAX: (973) 952-5050
> http://www.jdrosen.net                  PH:  (973) 952-5000
> http://www.dynamicsoft.com
> 
> 
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip



_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Fri Dec 28 14:27:17 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id OAA11008
	for <sip-archive@odin.ietf.org>; Fri, 28 Dec 2001 14:27:17 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id OAA01558
	for sip-archive@odin.ietf.org; Fri, 28 Dec 2001 14:27:21 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id OAA01452;
	Fri, 28 Dec 2001 14:16:29 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id OAA01423
	for <sip@optimus.ietf.org>; Fri, 28 Dec 2001 14:16:26 -0500 (EST)
Received: from mail1.dynamicsoft.com (mail1.dynamicsoft.com [63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id OAA10905
	for <sip@ietf.org>; Fri, 28 Dec 2001 14:16:22 -0500 (EST)
Received: from DYN-VA-EXCH-001.dynamicsoft.com (dyn-va-exch-001 [63.114.208.70])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fBSJEFpe013473;
	Fri, 28 Dec 2001 14:14:16 -0500 (EST)
Received: by DYN-VA-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2650.21)
	id <ZD2B2T0S>; Fri, 28 Dec 2001 14:15:54 -0500
Message-ID: <9BF66EBF6BEFD942915B4D4D45C051F338E8EE@DYN-TX-EXCH-001.dynamicsoft.com>
From: Robert Sparks <rsparks@dynamicsoft.com>
To: "'William Marshall'" <wtm@research.att.com>, sip@ietf.org
Subject: RE: [Sip] SIP WG - 5 - Last Call Open Discussion - draft-ietf-sip
	-refer-02.txt
Date: Fri, 28 Dec 2001 14:15:53 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2650.21)
Content-Type: text/plain
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org



> -----Original Message-----
> From: William Marshall [mailto:wtm@research.att.com]
> Sent: Friday, December 28, 2001 12:18 PM
> To: sip@ietf.org
> Subject: RE: [Sip] SIP WG - 5 - Last Call Open Discussion -
> draft-ietf-sip-refer-02.txt
> 
> 
> Robert Sparks wrote, in part:
> > 			... The current proposal
> > is to leave REFER as is, and specify usage of the 
> parameters available
> > on the Referred-By header to get exactly the protection you 
> describe for
> > the transfer application. 
> 
> I've looked through draft-ietf-sip-cc-transfer-05 again, and don't see
> it.  What I see in the transfer draft is more of a "transferree/
> transfer-target just do exactly as they are told, don't question
> anything, and it will work".
> 

Well, you don't see it because its not there yet.
This was what was being discussed at the SIPPING meeting -
the transfer draft is going to have to discuss securing Transfer
and add some more example cases before we can push it up.

> The transferee and transfer target need some way to protect themselves
> from malicious REFER requests, and from malicious INVITES that contain
> Referred-By values.  I'm afraid that if the restricted usage is
> documented in the transfer draft, then deployed implementations
> will accept ONLY the combinations of parameters given in the transfer 
> draft, effectively cutting off new and different services.  I feel
> a generic method is needed in the refer draft that achieves 
> some level 
> of  protection against bogus and replayed requests, which can then
> be used (at the recipient's option) in all the flows appearing in
> call-control drafts.

Protection from malicious REFER should be achieved through the same
mechanism that protection from malicious INVITE/reINVITEs is achieved,
and the REFER draft is not the place to specify that. 

Protection from malicious Referred-By header values is the only thing
that could be discussed in the REFER draft, and please remember that
at one point, the draft _did_ provide one concrete mechanism (using a
PGP-based signature scheme). The group directed me to pull that out,
leaving the syntactic-components that would allow a generalized approach
to be used once it was specified. What I think your question boils down
to is "Is it ok to advance REFER before that generalized approach has
been specified?". Sufficient plumbing is in place to use that approach
whenever it becomes available (and other future approaches that may come
around).

> 
> If the usage restrictions were to be included in the transfer draft,
> they would be something like: accept a REFER only within an active
> dialog; accept an INVITE with a Replaces header only if the Call-ID
> in the Replaces header matches an active dialog and the Referred-by
> header matches either From or To of the same dialog, etc.  But
> these kind of restrictions kill the blind transfer case (6.1).
> But the transfer-target needs to know that the INVITE in step 9 is 
> not a replay of an ancient REFER (step 7).  If all the flows in
> the transfer draft were to be allowed, there would be no restrictions
> at all.  Hardly a workable end state.

That's not necessarily the full scope of the kinds of mechanisms
the transfer draft could discuss. The full range of candidates for
security mechanisms could be brought to bear, from policy based on
presence of secured transport to pushing around S/MIME bodies based
on public keys. And this gets to the variant of the question above
"Is it ok to run ahead of the security subteam and specify some
 form of security usage in the Transfer draft, or do we block
 Transfer on their output?"

I think those two questions are framed correctly - in particular,
I _don't_ believe we need to block REFER on the output of the
security team work, as long as we leave the plumbing Referred-By
gives us.

> 
> Bill Marshall
> wtm@research.att.com
> 
> -----original message-----
> From: Robert Sparks <rsparks@dynamicsoft.com>
> To: "'William Marshall'" <wtm@research.att.com>, sip@ietf.org
> Subject: RE: [Sip] SIP WG - 5 - Last Call Open Discussion - 
> draft-ietf-sip
> 	-refer-02.txt
> Date: Thu, 27 Dec 2001 16:05:04 -0500
> 
> 
> > -----Original Message-----
> > From: William Marshall [mailto:wtm@research.att.com]
> > Sent: Thursday, December 27, 2001 10:50 AM
> > To: sip@ietf.org
> > Subject: Re: [Sip] SIP WG - 5 - Last Call Open Discussion -
> > draft-ietf-sip-refer-02.txt
> > 
> > 
> > I don't believe there has been any conclusion posted about security
> > aspects of the Referred-By header, which I raised as issues in my
> > initial review of this draft.
> > 
> > Without an adequate mechanism to verify the information in 
> > the Referred-By
> > header, and to verify the timeliness of that information, the 
> > header is
> > worse than useless.  It should be removed from the draft.
> > 
> > To repeat the problem, consider three parties, A, B, and C, where
> > A sends a REFER to B, causing B to send an INVITE to C.  Procedures
> > exist whereby B can authenticate A; procedures also exist whereby
> > C can authenticate B.  
> > 
> > However, nothing prevents B from including a bogus 
> Referred-By header 
> > in its INVITE request to C.  Nothing prevents B from including a
> > previously-valid-but-expired Referred-By header in its INVITE (i.e. 
> > a form of replay attack).  Anything done by C based on information
> > in the Referred-By header may be incorrect or harmful.
> 
> Anything done by C based on information in the Referred-By header
> would be determined by the application using the primative. The first
> application we're talking about is Transfer. The current proposal
> is to leave REFER as is, and specify usage of the parameters available
> on the Referred-By header to get exactly the protection you 
> describe for
> the transfer application. 
> 
> Are you objecting to this approach? If we actually remove the header,
> we will be left without a conduit between the REFER and the triggered
> action to include such procection mechanisms...
> 
> RjS
> 
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
> 

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Fri Dec 28 15:46:27 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA11643
	for <sip-archive@odin.ietf.org>; Fri, 28 Dec 2001 15:46:27 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id PAA03377
	for sip-archive@odin.ietf.org; Fri, 28 Dec 2001 15:46:31 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id PAA03199;
	Fri, 28 Dec 2001 15:30:58 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id PAA03170
	for <sip@optimus.ietf.org>; Fri, 28 Dec 2001 15:30:56 -0500 (EST)
Received: from lohi.eng.song.fi (lohi.eng.song.fi [195.10.149.18])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA11513
	for <sip@ietf.org>; Fri, 28 Dec 2001 15:30:50 -0500 (EST)
Received: from harjus.eng.song.fi (harjus.eng.song.fi [195.10.149.20])
	by lohi.eng.song.fi (8.12.1/8.12.1/Debian -5) with ESMTP id fBSKUrio006293;
	Fri, 28 Dec 2001 22:30:53 +0200
From: Juha Heinanen <jh@lohi.eng.song.fi>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <15404.54909.96557.138267@harjus.eng.song.fi>
Date: Fri, 28 Dec 2001 22:30:53 +0200
To: Lawrence Conroy <lwc@roke.co.uk>
Cc: sip@ietf.org
Subject: Re: [Sip] MAJOR Open Issue #184: Message size limitations
In-Reply-To: <p05100304b8527e9303c9@[193.118.192.80]>
References: <200112281711.fBSHBVu17650@newdev.harvard.edu>
	<15404.43387.806295.784944@harjus.eng.song.fi>
	<p05100304b8527e9303c9@[193.118.192.80]>
X-Mailer: VM 6.99 under Emacs 21.1.1
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

lawrence,

i'm not worried about large message messages, but regular invites, oks,
etc.  all it takes for an invite or ok (that includes an sdp) to exceed
1500 bytes is that the message goes through four proxies that each add
their via and record-route or route headers.

-- juha


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Fri Dec 28 15:48:53 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA11688
	for <sip-archive@odin.ietf.org>; Fri, 28 Dec 2001 15:48:53 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id PAA03403
	for sip-archive@odin.ietf.org; Fri, 28 Dec 2001 15:48:57 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id PAA02721;
	Fri, 28 Dec 2001 15:19:35 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id PAA02693
	for <sip@optimus.ietf.org>; Fri, 28 Dec 2001 15:19:33 -0500 (EST)
Received: from cundall.co.uk (dorfl.roke.co.uk [193.118.205.3])
	by ietf.org (8.9.1a/8.9.1a) with SMTP id PAA11436
	for <sip@ietf.org>; Fri, 28 Dec 2001 15:19:27 -0500 (EST)
Received: from [193.118.192.111] (HELO [193.118.192.80]) by cundall.co.uk (Stalker SMTP Server 1.7) with ESMTP id S.0000061127; Fri, 28 Dec 2001 20:19:22 +0000
Mime-Version: 1.0
X-Sender: lwc@127.0.0.1
Message-Id: <p05100304b8527e9303c9@[193.118.192.80]>
In-Reply-To: <15404.43387.806295.784944@harjus.eng.song.fi>
References: <200112281711.fBSHBVu17650@newdev.harvard.edu>
 <15404.43387.806295.784944@harjus.eng.song.fi>
Date: Fri, 28 Dec 2001 20:19:17 +0000
To: Juha Heinanen <jh@lohi.eng.song.fi>
From: Lawrence Conroy <lwc@roke.co.uk>
Subject: Re: [Sip] MAJOR Open Issue #184: Message size limitations
Cc: sip@ietf.org
Content-Type: text/plain; charset="us-ascii" ; format="flowed"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

At 7:18 pm +0200 28/12/01, Juha Heinanen wrote:
>  > anyone who is concerned with reliability or with Internet congestion
>  > should also prefer "MUST use TCP for packets larger than 1500" - it
>  > will be hard to convince the IESG that it is OK for the Internet
>  > to not have this a MUST
>
>scott,
>
>i'm wasting too much bandwidth on this, but my point att the time has
>been that someone already has convinced IESG not to have MUST there,
>because it is SHOULD in rfc2543.  in some other occasions people on this
>list have said that iesg requires the bis to be backwards compatible
>with rfc2543, but looks like we are now relaxed from that obligation.
>
>-- juha
>

Don't think so - the difference is that SIP has gained weight since then,
(look at the 3GPP flows in TS 24.228 :) and with SIMPLE, it also gains as
a source of congestion.

IMHO: In summary, SHOULD -> MUST (or use some sunny company's zero loss net :).

And that reminds me...[Flashes of "I told you so" on forehead]
1) There was some concern during PINT finalization that we would be forced to
implement UDP on PINT systems when our messages could be large (and we were
going to use TLS anyway). However, "mainstream" SIP messages would fit into
a single datagram, so we re-implemented to fit. Hey ho...

2) I -knew- there was a reason for SigComp - suggest that anyone who thinks
that they NEED a "standard" SIP message to exceed 1500 octets looks at the
ROHC work; you will end up implementing this sooner or later.

3) Seems to me that including attachments on IM traffic is a major cause of
BIG messages (i.e ones that even SigComp can't fix). We had similar problems
with PINT (see point 1), hence we allowed both "inline" and URL references to
content. If someone wants to include a MP3, why does this need to be inline
in the IM ? -- but that's another list. Reason for mentioning it here is that,
with New Year at hand and everyone promising to diet, we CAN solve the minor
bloat problems and still use UDP. For those cases (i.e. IM) where this won't
suffice, other solutions can be found (see point 2), or we can use TCP or SCTP.
No big deal, as long as we don't add even more poundage to the messages.

all the best,
   Lawrence

-- 
lwc@roke.co.uk: +44 1794 833666::<my opinions>:

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Fri Dec 28 16:32:34 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id QAA12104
	for <sip-archive@odin.ietf.org>; Fri, 28 Dec 2001 16:32:34 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id QAA04465
	for sip-archive@odin.ietf.org; Fri, 28 Dec 2001 16:32:39 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id QAA03996;
	Fri, 28 Dec 2001 16:21:28 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id QAA03969
	for <sip@optimus.ietf.org>; Fri, 28 Dec 2001 16:21:25 -0500 (EST)
Received: from sj-msg-core-2.cisco.com (sj-msg-core-2.cisco.com [171.69.24.11])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id QAA11965
	for <sip@ietf.org>; Fri, 28 Dec 2001 16:21:20 -0500 (EST)
Received: from mira-sjc5-7.cisco.com (mira-sjc5-7.cisco.com [171.71.163.27])
	by sj-msg-core-2.cisco.com (8.11.3/8.9.1) with ESMTP id fBSLKfD18073;
	Fri, 28 Dec 2001 13:20:41 -0800 (PST)
Received: from thomasm-u1.cisco.com (thomasm-u1.cisco.com [128.107.140.53])
	by mira-sjc5-7.cisco.com (Mirapoint)
	with ESMTP id AAO95473;
	Fri, 28 Dec 2001 13:20:07 -0800 (PST)
Received: (thomasm@localhost) by thomasm-u1.cisco.com (8.8.8-Cisco List Logging/CISCO.WS.1.2) id NAA09309; Fri, 28 Dec 2001 13:20:40 -0800 (PST)
From: Michael Thomas <mat@cisco.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <15404.57896.511025.223685@thomasm-u1.cisco.com>
Date: Fri, 28 Dec 2001 13:20:40 -0800 (PST)
To: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
Cc: John.Hearty@Level3.com, jh@lohi.eng.song.fi, sip@ietf.org
Subject: Re: [Sip] MAJOR Open Issue #184: Message size limitations
In-Reply-To: <3C2C938D.2090304@dynamicsoft.com>
References: <17052388D394D411803900508BDFFAF601B370DB@n0214idc1.oss.level3.com>
	<3C2C938D.2090304@dynamicsoft.com>
X-Mailer: VM 6.72 under 21.1 (patch 6) "Big Bend" XEmacs Lucid
X-Face: &,heK/V66p?[2!i|tVn,9lN0TUvEv7:9FzXREj/AuzN4m<D]vnFJ>u!4x[/Z4t{V}~L]+Sk
 @RFNnJEg~WZ/(8<`5a),-7ukALWa^&?&D2R0CSG3kO5~#6JxLF\d,g">$%B!0w{W)qIhmwhye104zd
 bUcI'1!
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit


Jonathan Rosenberg writes:
 > I would still prefer "MUST" use TCP for packets larger than 1500; your 
 > existing devices will be non-compliant (good motivation to fix it) but 
 > will still function; I think its fair to say that you still need to be 
 > able to receive UDP packets larger than 1500.

   Something that needs to be brought up here is that
   1500 is a fictitious number. Strictly speaking, it's
   more like 256 or so for IP4 and 1280 for IP6. I'm
   not sure we want to go with the IP4 strictness, but
   those are your only guarantees with PMTU.

	     Mike

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Fri Dec 28 18:59:31 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id SAA12876
	for <sip-archive@odin.ietf.org>; Fri, 28 Dec 2001 18:59:31 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id SAA07295
	for sip-archive@odin.ietf.org; Fri, 28 Dec 2001 18:59:34 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id SAA07168;
	Fri, 28 Dec 2001 18:48:05 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id SAA07145
	for <sip@optimus.ietf.org>; Fri, 28 Dec 2001 18:48:03 -0500 (EST)
Received: from sj-msg-core-1.cisco.com (sj-msg-core-1.cisco.com [171.71.163.11])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id SAA12836
	for <sip@ietf.org>; Fri, 28 Dec 2001 18:47:58 -0500 (EST)
Received: from mira-sjc5-7.cisco.com (mira-sjc5-7.cisco.com [171.71.163.27])
	by sj-msg-core-1.cisco.com (8.11.3/8.9.1) with ESMTP id fBSNlWq12248;
	Fri, 28 Dec 2001 15:47:32 -0800 (PST)
Received: from thomasm-u1.cisco.com (thomasm-u1.cisco.com [128.107.140.53])
	by mira-sjc5-7.cisco.com (Mirapoint)
	with ESMTP id AAO97929;
	Fri, 28 Dec 2001 15:46:58 -0800 (PST)
Received: (thomasm@localhost) by thomasm-u1.cisco.com (8.8.8-Cisco List Logging/CISCO.WS.1.2) id PAA09323; Fri, 28 Dec 2001 15:47:31 -0800 (PST)
From: Michael Thomas <mat@cisco.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <15405.1170.826657.335274@thomasm-u1.cisco.com>
Date: Fri, 28 Dec 2001 15:47:30 -0800 (PST)
To: William Marshall <wtm@research.att.com>
Cc: sip@ietf.org
Subject: Re: [Sip] SIP WG - 5 - Last Call Open Discussion - draft-ietf-sip-refer-02.txt
In-Reply-To: <200112271650.LAA87369@fish.research.att.com>
References: <200112271650.LAA87369@fish.research.att.com>
X-Mailer: VM 6.72 under 21.1 (patch 6) "Big Bend" XEmacs Lucid
X-Face: &,heK/V66p?[2!i|tVn,9lN0TUvEv7:9FzXREj/AuzN4m<D]vnFJ>u!4x[/Z4t{V}~L]+Sk
 @RFNnJEg~WZ/(8<`5a),-7ukALWa^&?&D2R0CSG3kO5~#6JxLF\d,g">$%B!0w{W)qIhmwhye104zd
 bUcI'1!
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

William Marshall writes:
 > I don't believe there has been any conclusion posted about security
 > aspects of the Referred-By header, which I raised as issues in my
 > initial review of this draft.
 > 
 > Without an adequate mechanism to verify the information in the Referred-By
 > header, and to verify the timeliness of that information, the header is
 > worse than useless.  It should be removed from the draft.
 > 
 > To repeat the problem, consider three parties, A, B, and C, where
 > A sends a REFER to B, causing B to send an INVITE to C.  Procedures
 > exist whereby B can authenticate A; procedures also exist whereby
 > C can authenticate B.  
 > 
 > However, nothing prevents B from including a bogus Referred-By header 
 > in its INVITE request to C.  Nothing prevents B from including a
 > previously-valid-but-expired Referred-By header in its INVITE (i.e. 
 > a form of replay attack).  Anything done by C based on information
 > in the Referred-By header may be incorrect or harmful.

Bill,

Are there real life threats which would cause C to
act in a harmful manner? I mean, I understand the
potential for attack, but I guess I wonder whether
there's anything *really* serious that could be
abused here. It seems to me that it might be able
defeat screening, but how serious a problem is
that? We currently don't have a way to
authenticate RPI either, and though we intend to
get around to fixing that eventually, it doesn't
seem to be a burning need. Also: is this something
that really needs to be dealt with by the refer
draft? Could it, say, be dealt with as a
requirement for SIP security?

		Mike

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Sat Dec 29 07:50:46 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id HAA27365
	for <sip-archive@odin.ietf.org>; Sat, 29 Dec 2001 07:50:45 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id HAA04371
	for sip-archive@odin.ietf.org; Sat, 29 Dec 2001 07:50:48 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id HAA04129;
	Sat, 29 Dec 2001 07:32:58 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id HAA04029
	for <sip@optimus.ietf.org>; Sat, 29 Dec 2001 07:32:53 -0500 (EST)
Received: from newish7.ericsson.com.au (newish7.ericsson.com.au [203.61.155.116])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id HAA27196
	for <sip@ietf.org>; Sat, 29 Dec 2001 07:32:49 -0500 (EST)
Received: from brsf10.epa.ericsson.se (igw2.ericsson.com.au [203.61.155.10])
	by newish7.ericsson.com.au (8.9.3+Sun/8.9.3) with ESMTP id XAA04653;
	Sat, 29 Dec 2001 23:31:30 +1100 (EST)
Received: from eaubrnt019.epa.ericsson.se (eaubrnt019.epa.ericsson.se [146.11.9.165])
	by brsf10.epa.ericsson.se (8.9.3+Sun/8.9.3) with ESMTP id XAA06937;
	Sat, 29 Dec 2001 23:32:46 +1100 (EST)
Received: from mindy1.ork (7-130.epa.ericsson.se [146.11.7.130]) by eaubrnt019.epa.ericsson.se with SMTP (Microsoft Exchange Internet Mail Service Version 5.5.2653.13)
	id XRFZB091; Sat, 29 Dec 2001 23:32:43 +1100
Subject: Re: [Sip] Still issues with preconditions
From: Brian Williams <brian.williams@ericsson.com.au>
To: William Marshall <wtm@research.att.com>
Cc: sip@ietf.org
In-Reply-To: <200112271716.MAA94663@fish.research.att.com>
References: <200112271716.MAA94663@fish.research.att.com>
Content-Type: text/plain
Content-Transfer-Encoding: 7bit
X-Mailer: Evolution/0.99.2 (Preview Release)
Date: 29 Dec 2001 23:35:30 +1100
Message-Id: <1009629340.5943.0.camel@mindy>
Mime-Version: 1.0
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Hi All.
On Fri, 2001-12-28 at 04:16, William Marshall wrote:
:
<snip>
:
> The other point raised by Alan is more up for discussion.
> 
> Resource reservation can logically be divided into segments between
> the UAC and UAS, and there are different ways to partition the problem.
> 
> Consider the following diagram:
>          /-1-<<-2-<<-3-\
>         A               B
>          \-4->>-5->>-6-/
> 
> While systems can certainly obtain QoS prior to sending the INVITE, that
> leads to a vertical partitioning (the so-called segmented qos model).
> UA #A can ensure QoS in segments 1&4, UA #B ensures 3&6, and both assume
> diffserv for 2&5.  This scenario can certainly be optimized.
> 
> The manyfolks draft assumes a horizontal partitioning, and only includes
> syntactic mechanism to describe the 1&2&3 combination (A:recvonly) and the 
> 4&5&6 (A:sendonly).
The draft specifies that resource reservation takes place using whatever
protocols the participants must use. Therefore, the precondition
mechanism must not be dependent on any specific "partitioning" of the
QoS controls. 

I believe the solution is not actually dependent on any particular
partitioning, but the explanatory text certainly focuses on the
horizontal partitioning indicated.

> Should additional terms be defined in manyfolks draft, such as "access"
> and "backbone" to enable this vertical split?  Second, are these the
> right terms?  Comments?
The preconditions mechanism provides a general means to co-ordinate the
call session with other aspects. Although it does specify the
preconditions to be met, the manyfolks draft does not consider any
details of the actual mechanisms used to meet the preconditions. From
this perspective, manyfolks should not need to identify many different
QoS scenarios which require different behaviours. Rather, the draft
should simply be clear that each participant believes that they have met
the QoS pre-conditions they have indicated. This may simply require some
clarification of the wording to ensure that each participant does
evaluate its own view of the QoS conditions when merging with the remote
participants conditions.
/brian 
> 
> Including success of preconditions without knowing the destination seems
> to require a crystal ball.  Good topic for a separate I-D.
> 
> And, just for the record,
> 
> Alan O'Neill wrote:
> > ... I have tried to
> > raise / resolve issues with the authors of the draft but have so far not had
> > any response. 
> 
> First I heard of this issue was email on Monday 10 December, and actually read 
> the message from Rakesh first, also 10 December, which stated the status of manyfolks 
> draft was "Looking at some late comments"
> 
> Bill Marshall
> wtm@research.att.com
> 
> -----original message-----
> From: "Alan O'Neill" <A.ONeill@flarion.com>
> To: "'sip@ietf.org'" <sip@ietf.org>
> Date: Mon, 10 Dec 2001 03:06:27 -0500
> Subject: [Sip] Still issues with preconditions
> 
> Version 3 of the manyfolks-resources draft has appeared but there still
> appear to me to be a number of issues with this document. I have tried to
> raise / resolve issues with the authors of the draft but have so far not had
> any response. 
> 
> In summary;
> 
> i)	The strength-tag appears overloaded in attempting to carry both
> requirement (Mandatory/Optional) and progress (Success/Failure) information.
> This prevents a node with precondition resources already in place (existing
> resources in call waiting / dimensioned diff-serv QoS) from including the
> Success progress in an Invite which in the general case would lead to very
> fast and efficient call set-up. In the case of incapability, the caller
> could signal the inability to meet a precondition direction itself with a
> Failure which would enable the callee to immediately and quickly detect
> impossible preconditions when merged with its own incapabilities. The
> limitation of the overloaded strength-tag could be avoided by using an
> additional result-tag in each precondition to signal progress separately
> from the requirement in the strength-tag.
> 
> ii)	The draft is clear on the negotiation phases of the precondition
> signalling and how direction-tags in requests, responses and COMETs are
> related. However, it is not at all clear how end nodes actually work out how
> to respond to offered preconditions and how they work out which resources
> each end should attempt to meet, especially regarding whether preconditions
> must/may/must not be attempted in parallel or in series at the caller and
> callee. This ambiguity is clearly a barrier to the production of multiple
> interworking implementations and leads to inefficient call set-up and
> cleardown, as well as the danger of each end trying to book the same
> resources.
> 
> 
> I'll use a brief and specific example in an attempt to get some discussion
> on the second issue which is maybe less obvious than the first...
> 
> In the first example in the draft, the caller requests a sendrecv resource
> precondition and includes a confirmation request. The callee cannot tell if
> the caller is able or wishes to meet either send or recv direction in the
> sendrecv precondition, only that it wishes to be informed of progress. The
> callee responds with sendrecv confirm but the caller cannot glean any
> information from the inclusion of the confirm by the callee. This is because
> the callee confirmation request is mandated in the draft in response to the
> caller confirmation request. The only information exchanged (that I can
> glean from the draft) so far is that the callee, in accepting the sendrecv
> precondition, is informing the caller that it can contribute in some way to
> meeting the sendrecv precondition.
> 
> The caller now sends a PRACK and repeats the precondition it sent in the
> Invite. At this point, the example says that both the caller and callee can
> in parallel start booking resources to meet the sendrecv precondition but
> this opens up the possibility of problems because neither end has actually
> agreed with the other end on which of the precondition directions it is
> going to attempt (ie lead roles in meeting preconditions). The model only
> works if both ends have the same unidirectional reservation capability (send
> only or recv only) such that non-overlapping resources are booked. If both
> ends can book both directions (sendrecv) then full duplication is possible
> (double the resources). If both ends have opposite capabilities (caller
> send/recv and callee recv/send) then one direction will get double the
> resources and the other will have no resources booked. The double / missing
> resources will always be detected by the caller because the callee COMET
> will include success/failure separately for each direction so that the
> caller can recover, but clearly the caller can only then change its
> reservation status because no mechanism exists to get the callee to do so.
> The existance of duplicate reservations is clearly unfortunate and could be
> avoided if the preconditions negotiation was explicit about agreeing which
> resources each end should attempt to reserve.
> 
> I hope one of the authors will be kind enough to help me with this....
> 
> Regards,  Alan O'Neill
> 
> ----------------------------------------------------------------
> Notice Regarding Intellectual Property Rights
> 
> Flarion's submissions will conform with RFC 2026.  Flarion may seek patent
> protection on some or all of the technical information submitted by its
> employees in connection with the IETF's standards process.  If part(s) of a
> submission by Flarion is (are) included in a standard and Flarion owns
> patent(s) and/or pending patent application(s) that are essential to
> implementation of such included part(s) in said standard, Flarion is
> prepared to grant a license on fair, reasonable, reciprocal (license back)
> and non-discriminatory terms on such included part(s).
> 
> 
> 
> 
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip



_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Sun Dec 30 20:47:16 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id UAA19297
	for <sip-archive@odin.ietf.org>; Sun, 30 Dec 2001 20:47:16 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id UAA29388
	for sip-archive@odin.ietf.org; Sun, 30 Dec 2001 20:47:02 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id UAA28491;
	Sun, 30 Dec 2001 20:08:03 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id UAA28460
	for <sip@optimus.ietf.org>; Sun, 30 Dec 2001 20:07:57 -0500 (EST)
Received: from ms.draytek.com.tw ([203.69.175.1])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id UAA18980
	for <sip@ietf.org>; Sun, 30 Dec 2001 20:07:44 -0500 (EST)
Received: from Kevin (localhost [127.0.0.1])
	by ms.draytek.com.tw (8.11.6/8.11.6) with SMTP id fBV13mV05401
	for <sip@ietf.org>; Mon, 31 Dec 2001 09:03:58 +0800
Message-ID: <002c01c19197$f1c9ada0$04af45cb@draytek.com.tw>
From: "Kevin Yu" <kevinyu@draytek.com.tw>
To: <sip@ietf.org>
Date: Mon, 31 Dec 2001 09:10:11 +0800
MIME-Version: 1.0
Content-Type: text/plain;
	charset="big5"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2600.0000
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
Content-Transfer-Encoding: 7bit
Subject: [Sip] call-id field
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Hi there,

This is a newbie question:

Is there anyone can point me out what is the implementation method to
calculate Call-ID field in MSN v4.x version?

The reason I ask is because I need to let MSN ver 4.x pass through our NAT
device; and it seems that we can't just change the ip from local ip to
public ip inside the SIP packets; something need to be changed in call-id
field and/or tag field of From/TO; any idea?

regards,
Kevin
----------------------------------------


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Mon Dec 31 09:46:51 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id JAA04076
	for <sip-archive@odin.ietf.org>; Mon, 31 Dec 2001 09:46:50 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id JAA24042
	for sip-archive@odin.ietf.org; Mon, 31 Dec 2001 09:46:51 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id JAA23484;
	Mon, 31 Dec 2001 09:22:52 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id JAA23453
	for <sip@optimus.ietf.org>; Mon, 31 Dec 2001 09:22:49 -0500 (EST)
Received: from localhost ([211.179.220.189])
	by ietf.org (8.9.1a/8.9.1a) with SMTP id JAA03948
	for <sip@ietf.org>; Mon, 31 Dec 2001 09:22:45 -0500 (EST)
Message-Id: <200112311422.JAA03948@ietf.org>
Reply-To: sago8572@hananet.net
From: <sago8572@hananet.net>
To: sip@ietf.org
Mime-Version: 1.0
Content-Type: text/html; charset="ks_c_5601-1987"
Date: Mon, 31 Dec 2001 23:22:45 +0900
Subject: [Sip]    ![]
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

<html>
<head>
<title>autoinad   </title>
<META HTTP-EQUIV="Content-Type" content="text/html;
charset=euc-kr">
</head>
<BODY bgColor=#ccffcc>
<CENTER><FONT face=>
<H1>
<DIV><FONT face=>&nbsp;</DIV>
<DIV align=center><FONT size=2>      .</FONT></DIV>
<DIV align=center><FONT size=2>     .[]</FONT></DIV>
<DIV>
<HR>
</DIV></FONT></H1>
<H1> </H1></FONT>
<P><IMG src="http://home.hanmir.com/~autoinad/1.gif">
<P>
<TABLE width=550 border=0>
<TBODY>
<TR>
<TD><FONT face= size=3><B>    !</B></FONT> </TD></TR>
<TR>
<TD><FONT face= size=2><BR>-       . <BR><BR>- 
     !! <BR><BR>-    .
<BR></FONT></TD></TR></TBODY></TABLE>
<P>
<TABLE width=550 border=0>
<TBODY>
<TR>
<TD><FONT face= size=3><B> ,   !</B></FONT> </TD></TR>
<TR>
<TD><FONT face= size=2><BR>
<P>-.  .</P>
<P>-.      .</P>
<DIV>-.   .</DIV>
<DIV>&nbsp;</DIV>
<DIV>-.   .</DIV>
<DIV>&nbsp;</DIV>
<DIV>-.   .</DIV>
<DIV>&nbsp;</DIV>
<DIV>-.    .</DIV>
<DIV>&nbsp;</DIV>
<DIV>-.    .</DIV></FONT></TD></TR></TBODY></TABLE>
<P>
<TABLE width=550 border=0>
<TBODY>
<TR>
<TD><FONT face= size=3><B> .</B></FONT> </TD></TR>
<TR>
<TD><FONT face= size=2><BR>-  11   <BR><BR>-  ,  
<BR><BR>-   </FONT></TD></TR></TBODY></TABLE>
<P>&nbsp;&nbsp;&nbsp;<FONT color=#0000ff> <STRONG><FONT size=4>
</FONT></STRONG></FONT><FONT size=5><FONT color=#ff0080 size=4><STRONG>
[060-700-2114]</STRONG></FONT> </FONT>
<DIV align=left><FONT size=2>
<HR>
</FONT></DIV>
<DIV align=center><FONT size=2>      
<B>[]</B></FONT></FONT><FONT color=#666666><FONT size=2><FONT color=#000000>
  .</FONT></FONT></FONT></DIV>
<DIV align=center><FONT color=#666666><FONT size=2><FONT color=#000000>  
   </FONT></FONT></FONT><A href="mailto:sago8572@hananet.net"><FONT color=#000000><FONT
size=2>[<FONT color=#0000ff> ]</FONT></FONT></FONT></A><FONT size=2> 
&nbsp;<FONT size=2>&nbsp;  </FONT><FONT size=2></FONT><FONT
size=2>.&nbsp;</FONT></DIV></FONT>
<DIV align=center>
<HR>
</DIV></CENTER></BODY></HTML>
<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="http://active.macromedia.com/flash4/cabs/swflash.cab#version=4,0,0,0"
width="18" height="18">
<param name="movie" value="http://myhome.netsgo.com/sago8572/image/sago8572-3.swf">
<param name="play" value="true">
<param name="loop" value="true">
<param name="quality" value="high">
<embed src="http://myhome.netsgo.com/sago8572/image/sago8572-3.swf" play="true" loop="true" quality="high" pluginspage="http://www.macromedia.com/shockwave/download/index.cgi?P1_Prod_Version=ShockwaveFlash" width="18" height="18"></embed>
</object>

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Mon Dec 31 11:15:33 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id LAA04735
	for <sip-archive@odin.ietf.org>; Mon, 31 Dec 2001 11:15:33 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id LAA26538
	for sip-archive@odin.ietf.org; Mon, 31 Dec 2001 11:15:35 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id KAA25984;
	Mon, 31 Dec 2001 10:52:41 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id KAA25953
	for <sip@optimus.ietf.org>; Mon, 31 Dec 2001 10:52:39 -0500 (EST)
Received: from mail3.dynamicsoft.com ([63.113.44.69])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id KAA04562
	for <sip@ietf.org>; Mon, 31 Dec 2001 10:52:37 -0500 (EST)
Received: from dynamicsoft.com ([63.113.46.52])
	by mail3.dynamicsoft.com (8.12.1/8.12.1) with ESMTP id fBVFqaVZ004926
	for <sip@ietf.org>; Mon, 31 Dec 2001 10:52:36 -0500 (EST)
Message-ID: <3C3089A9.2020501@dynamicsoft.com>
Date: Mon, 31 Dec 2001 10:52:09 -0500
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:0.9.4) Gecko/20011128 Netscape6/6.2.1
X-Accept-Language: en-us
MIME-Version: 1.0
To: sip@ietf.org
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Subject: [Sip] 100rel incorporated into bis
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Folks,

I have just finished incorporating 100rel into bis. As a result of this, 
a few things have changed which I wanted to bring up in advanced of 
publication of -06, which will include the text.

1. Reliability of provisional responses now only defined for
provisional responses to INVITE, although extension methods can
allow its usage. This is because PRACK needs to be sent within the
context of a dialog, and only responses to INVITE establish
dialogs (as far as bis is concerned).

2. Reliability of provisional responses which remain unacknowledged when 
the final response is sent, is no longer guarnateed. This is because the 
proxy transaction machines are specified such that provisional responses 
received after the final response are discarded. This has been the case 
since rfc2543. THerefore, in practice, I suspect that provisional 
responses would have never been reliably delivered after a final 
response was sent. If a UAS NEEDS for them to be delviered, it has to 
delay sending the final response. This is the biggest change.

3. Proxy behavior for reliable provisional responses no longer
defined separately; the spec states that it simply acts as a uas.

4. Scope of record-route headers for a reliable provisional
response is now the dialog rather than the particular request.

5.  Example PRACK flows were lost when incorporating into bis. I've 
asked Alan to add them into the call flows document.

6. Bis includes formal IANA registration of ``100rel'' option tag.

7. If a reliable provisional response gets no PRACK after 32*T1 seconds,
UAS sends 5xx to original request.


Please let me know asap if there are any comments or questions on these 
changes.

Thanks,
Jonathan R.

-- 
Jonathan D. Rosenberg, Ph.D.            72 Eagle Rock Avenue
Chief Scientist                         First Floor
dynamicsoft                             East Hanover, NJ 07936
jdrosen@dynamicsoft.com                 FAX: (973) 952-5050
http://www.jdrosen.net                  PH:  (973) 952-5000
http://www.dynamicsoft.com


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Mon Dec 31 12:35:41 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA05465
	for <sip-archive@odin.ietf.org>; Mon, 31 Dec 2001 12:35:41 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id MAA28757
	for sip-archive@odin.ietf.org; Mon, 31 Dec 2001 12:35:42 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA28076;
	Mon, 31 Dec 2001 12:08:59 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA28045
	for <sip@optimus.ietf.org>; Mon, 31 Dec 2001 12:08:57 -0500 (EST)
Received: from valen.greycouncil.com (bdsl.66.12.12.131.gte.net [66.12.12.131])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA05117
	for <sip@ietf.org>; Mon, 31 Dec 2001 12:08:53 -0500 (EST)
Received: from there (valen.greycouncil.com [127.0.0.1])
	by valen.greycouncil.com (8.11.6/8.11.6) with SMTP id fBVH7gZ09072;
	Mon, 31 Dec 2001 11:07:42 -0600
Message-Id: <200112311707.fBVH7gZ09072@valen.greycouncil.com>
Content-Type: text/plain;
  charset="iso-8859-1"
From: Dean Willis <dean.willis@softarmor.com>
To: Michael Thomas <mat@cisco.com>,
        Jonathan Rosenberg <jdrosen@dynamicsoft.com>
Subject: Re: [Sip] MAJOR Open Issue #184: Message size limitations
Date: Mon, 31 Dec 2001 11:07:41 -0600
X-Mailer: KMail [version 1.3.2]
Cc: John.Hearty@level3.com, jh@lohi.eng.song.fi, sip@ietf.org
References: <17052388D394D411803900508BDFFAF601B370DB@n0214idc1.oss.level3.com> <3C2C938D.2090304@dynamicsoft.com> <15404.57896.511025.223685@thomasm-u1.cisco.com>
In-Reply-To: <15404.57896.511025.223685@thomasm-u1.cisco.com>
MIME-Version: 1.0
Content-Transfer-Encoding: 8bit
Content-Transfer-Encoding: 8bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 8bit


eh, the smallest v4 MTU implementation I've seen was 576 . . . which 
was common on old PPP and SLIP implementations. But even so, it can be 
challenging to fit into 576  . . .

--
Dean



On Friday 28 December 2001 03:20 pm, Michael Thomas wrote:
> Jonathan Rosenberg writes:
>  > I would still prefer "MUST" use TCP for packets larger than 1500;
>  > your existing devices will be non-compliant (good motivation to
>  > fix it) but will still function; I think its fair to say that you
>  > still need to be able to receive UDP packets larger than 1500.
>
>    Something that needs to be brought up here is that
>    1500 is a fictitious number. Strictly speaking, it's
>    more like 256 or so for IP4 and 1280 for IP6. I'm
>    not sure we want to go with the IP4 strictness, but
>    those are your only guarantees with PMTU.
>
> 	     Mike
>
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



