From sip-bounces@ietf.org  Sat Mar  1 09:36:08 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 38DAE28C256;
	Sat,  1 Mar 2008 09:36:08 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: 1.564
X-Spam-Level: *
X-Spam-Status: No, score=1.564 tagged_above=-999 required=5 tests=[AWL=-0.395,
	BAYES_00=-2.599, FH_RELAY_NODNS=1.451, HELO_MISMATCH_ORG=0.611,
	HTML_MESSAGE=1, MIME_QP_LONG_LINE=1.396, RDNS_NONE=0.1]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id xeiTfU65qvf4; Sat,  1 Mar 2008 09:35:55 -0800 (PST)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id BC5113A6B48;
	Sat,  1 Mar 2008 09:35:55 -0800 (PST)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 0F9DD3A6B1F
	for <sip@core3.amsl.com>; Sat,  1 Mar 2008 09:35:55 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id iQ7OWx-D8CK6 for <sip@core3.amsl.com>;
	Sat,  1 Mar 2008 09:35:48 -0800 (PST)
Received: from mhs03ykf.rim.net (mhs03ykf.rim.net [216.9.243.80])
	by core3.amsl.com (Postfix) with ESMTP id 4839D3A6867
	for <sip@ietf.org>; Sat,  1 Mar 2008 09:35:48 -0800 (PST)
Received: from mhs03ykf.rim.net (unknown [127.0.0.1])
	by mhs03ykf.rim.net (Symantec Mail Security) with ESMTP id C12E458389
	for <sip@ietf.org>; Sat,  1 Mar 2008 12:35:39 -0500 (EST)
X-AuditID: 0a401fcb-ae0cbbb00000088b-5c-47c993eb8c3d
Received: from XCH20YKF.rim.net (unknown [10.102.100.35])
	by mhs03ykf.rim.net (Symantec Mail Security) with ESMTP id 1173658386
	for <sip@ietf.org>; Sat,  1 Mar 2008 12:35:39 -0500 (EST)
Received: from XCH47YKF.rim.net ([10.64.31.217]) by XCH20YKF.rim.net with
	Microsoft SMTPSVC(5.0.2195.6713); Sat, 1 Mar 2008 12:35:38 -0500
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Sat, 1 Mar 2008 12:35:27 -0500
Message-ID: <61968779B8AC4C4BAB421D4C12F008C0117A9DD3@XCH47YKF.rim.net>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: draft-ietf-sip-session-policy-framework-02
Thread-Index: Ach648fr+ECHzTc2RWqIqs2h7XewwA==
From: "Andrew Allen" <aallen@rim.com>
To: <sip@ietf.org>
X-OriginalArrivalTime: 01 Mar 2008 17:35:38.0933 (UTC)
	FILETIME=[AA31EE50:01C87BC2]
X-Brightmail-Tracker: AAAAAQks7NM=
Subject: [Sip] draft-ietf-sip-session-policy-framework-02
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: multipart/mixed; boundary="===============0416273939=="
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

This is a multi-part message in MIME format.

--===============0416273939==
Content-class: urn:content-classes:message
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C87BC2.A9FEE4C7"

This is a multi-part message in MIME format.

------_=_NextPart_001_01C87BC2.A9FEE4C7
Content-Type: text/plain;
	charset="us-ascii"
content-transfer-encoding: quoted-printable

 

 

Firstly I apologize for the very late comments on this draft which has
already completed WGLC.

 

I recently reviewed draft-ietf-sip-session-policy-framework-02 with a
view to its utilization in 3GPP IMS particularly with regard to its
application in mobile networks. After reading the draft I have some
concern that the Subscribe/Notify mechanism for the Policy channel is
too heavy for use in Cellular and other narrow band networks. The
session establishment times for cellular using SIP are already too long.
Adding an additional SUBSCRIBE, 200 OK, NOTIFY, 200 OK per UA to that to
go fetch the local session-specific policy will not be acceptable. It
seems there could be other more efficient means available in certain
networks to obtain the session-specific Policy.

 

While the Subscribe/Notify mechanism may be the best general purpose
mechanism it seems to me that the mechanism ought to be extensible to
allow additional Policy channel mechanisms to be defined in the future
which probably means extensibility to support URIs other than just
SIP/SIPS URIs in the Policy-Contact header.

 

The draft anticipates that non SIP means might be used to obtain the
session-independent policies so why not also anticipate the possibility
that non SIP means might in the future be used to obtain
session-specific policies?

 

I have had some discussion with Volker already on this issue and it
seems it would be possible to modify the Policy-Contact header to
optionally allow multiple URIs of different types for the same Policy
Document from the same domain with inclusion of a SIP or SIPS URI being
mandatory.

 

 

e.g

 

 Policy-Contact: sip:policy-doc@domainA; sips:policy-doc@domainA; 

 http:policy-doc@domainA; https:policy-doc@domainA
<https://policy-doc@domainA> , 

 sip:policy-doc@domainB; sips:policy-doc@domainB; 

 http:policy-doc@domainB; https:policy-doc@domainB
<https://policy-doc@domainB> 

 

 

Support of SIP or SIPS URI schemes and the Subscribe/Notify mechanism
for the Policy Channel would continue to be mandatory for
interoperability but the possibility to include additional URI schemes
for obtaining the session-specific policy document would be added.

 

This seems like a relatively straight forward change to make even though
it is a very late proposal.

 

Since one of the original primary drivers for the session policy work
originated from 3GPP requirements it would be a shame if the solution
wasn't sufficiently extensible to allow 3GPP in the future to use it.

 

 

Andrew Allen

Manager Standards

Research In Motion Ltd

Office +1 847-793-0861 x20824

BlackBerry Mobile +1 847 809 8636

http://www.rim.com/ <http://www.rim.com/> 

 


---------------------------------------------------------------------
This transmission (including any attachments) may contain confidential infor=
mation, privileged material (including material protected by the solicitor-c=
lient or other applicable privileges), or constitute non-public information.=
 Any use of this information by anyone other than the intended recipient is=
 prohibited. If you have received this transmission in error, please immedia=
tely reply to the sender and delete this information from your system. Use,=
 dissemination, distribution, or reproduction of this transmission by uninte=
nded recipients is not authorized and may be unlawful.

------_=_NextPart_001_01C87BC2.A9FEE4C7
Content-Type: text/html;
	charset="us-ascii"
content-transfer-encoding: quoted-printable

<html xmlns:o=3D"urn:schemas-microsoft-com:office:office" xmlns:w=3D"urn:sch=
emas-microsoft-com:office:word" xmlns:st1=3D"urn:schemas-microsoft-com:offic=
e:smarttags" xmlns=3D"http://www.w3.org/TR/REC-html40">

<head>
<meta http-equiv=3DContent-Type content=3D"text/html; charset=3Dus-ascii">
<meta name=3DGenerator content=3D"Microsoft Word 11 (filtered medium)">
<o:SmartTagType namespaceuri=3D"urn:schemas-microsoft-com:office:smarttags"
 name=3D"place"/>
<!--[if !mso]>
<style>
st1\:*{behavior:url(#default#ieooui) }
</style>
<![endif]-->
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:PMingLiU;
	panose-1:2 2 3 0 0 0 0 0 0 0;}
@font-face
	{font-family:"\@PMingLiU";
	panose-1:2 2 3 0 0 0 0 0 0 0;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin:0in;
	margin-bottom:.0001pt;
	font-size:12.0pt;
	font-family:"Times New Roman";}
a:link, span.MsoHyperlink
	{color:blue;
	text-decoration:underline;}
a:visited, span.MsoHyperlinkFollowed
	{color:purple;
	text-decoration:underline;}
p
	{mso-margin-top-alt:auto;
	margin-right:0in;
	mso-margin-bottom-alt:auto;
	margin-left:0in;
	font-size:12.0pt;
	font-family:"Times New Roman";}
span.EmailStyle18
	{mso-style-type:personal-compose;
	font-family:Arial;
	color:windowtext;}
@page Section1
	{size:8.5in 11.0in;
	margin:1.0in 1.25in 1.0in 1.25in;}
div.Section1
	{page:Section1;}
-->
</style>

</head>

<body lang=3DEN-US link=3Dblue vlink=3Dpurple>

<div class=3DSection1>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span style=3D'font-size:10=
.0pt;
font-family:Arial'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span style=3D'font-size:10=
.0pt;
font-family:Arial'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3D"Courier New"><span style=3D'font=
-size:10.0pt;
font-family:"Courier New"'>Firstly I apologize for the very late comments on
this draft which has already completed WGLC.<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3D"Courier New"><span style=3D'font=
-size:10.0pt;
font-family:"Courier New"'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3D"Courier New"><span style=3D'font=
-size:10.0pt;
font-family:"Courier New"'>I recently reviewed draft-ietf-sip-session-policy=
-framework-02
with a view to its utilization in 3GPP IMS particularly with regard to its
application in mobile networks. After reading the draft I have some concern
that the Subscribe/Notify mechanism for the Policy channel is too heavy for=
 use
in Cellular and other narrow band networks. The session establishment times=
 for
cellular using SIP are already too long. Adding an additional SUBSCRIBE, 200
OK, NOTIFY, 200 OK per UA to that to go fetch the local session-specific pol=
icy
will not be acceptable. It seems there could be other more efficient means
available in certain networks to obtain the session-specific Policy.<o:p></o=
:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span style=3D'font-size:10=
.0pt;
font-family:Arial'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3D"Courier New"><span style=3D'font=
-size:10.0pt;
font-family:"Courier New"'>While the Subscribe/Notify mechanism may be the b=
est
general purpose mechanism it seems to me that the mechanism ought to be
extensible to allow additional Policy channel mechanisms to be defined in th=
e
future which probably means extensibility to support URIs other than just
SIP/SIPS URIs in the Policy-Contact header.<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3D"Courier New"><span style=3D'font=
-size:10.0pt;
font-family:"Courier New"'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 face=3D"Co=
urier New"><span
style=3D'font-size:10.0pt;font-family:"Courier New"'>The draft anticipates t=
hat
non SIP means might be used to obtain the session-independent policies so wh=
y
not also anticipate the possibility that non SIP means might in the future b=
e
used to obtain session-specific policies?<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span style=3D'font-size:10=
.0pt;
font-family:Arial'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 face=3D"Co=
urier New"><span
style=3D'font-size:10.0pt;font-family:"Courier New"'>I have had some discuss=
ion
with Volker already on this issue and it seems it would be possible to modif=
y
the Policy-Contact header to optionally allow multiple URIs of different typ=
es
for the same Policy Document from the same domain with inclusion of a SIP or
SIPS URI being mandatory.<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3D"Courier New"><span style=3D'font=
-size:10.0pt;
font-family:"Courier New"'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3D"Courier New"><span style=3D'font=
-size:10.0pt;
font-family:"Courier New"'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 face=3D"Co=
urier New"><span
style=3D'font-size:10.0pt;font-family:"Courier New"'>e.g<o:p></o:p></span></=
font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 face=3D"Co=
urier New"><span
style=3D'font-size:10.0pt;font-family:"Courier New"'><o:p>&nbsp;</o:p></span=
></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 face=3D"Co=
urier New"><span
style=3D'font-size:10.0pt;font-family:"Courier New"'>&nbsp;Policy-Contact:
sip:policy-doc@domainA; sips:policy-doc@domainA; <o:p></o:p></span></font></=
p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 face=3D"Co=
urier New"><span
style=3D'font-size:10.0pt;font-family:"Courier New"'>&nbsp;http:policy-doc@d=
omainA;
<a href=3D"https://policy-doc@domainA">https:policy-doc@domainA</a>, <o:p></=
o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 face=3D"Co=
urier New"><span
style=3D'font-size:10.0pt;font-family:"Courier New"'>&nbsp;sip:policy-doc@do=
mainB;
sips:policy-doc@domainB; <o:p></o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 face=3D"Co=
urier New"><span
style=3D'font-size:10.0pt;font-family:"Courier New"'>&nbsp;http:policy-doc@d=
omainB;
<a href=3D"https://policy-doc@domainB">https:policy-doc@domainB</a><o:p></o:=
p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 face=3D"Co=
urier New"><span
style=3D'font-size:10.0pt;font-family:"Courier New"'><o:p>&nbsp;</o:p></span=
></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 face=3D"Co=
urier New"><span
style=3D'font-size:10.0pt;font-family:"Courier New"'><o:p>&nbsp;</o:p></span=
></font></p>

<p class=3DMsoNormal><font size=3D2 face=3D"Courier New"><span style=3D'font=
-size:10.0pt;
font-family:"Courier New"'>Support of SIP or SIPS URI schemes and the
Subscribe/Notify mechanism for the Policy Channel would continue to be
mandatory for interoperability but the possibility to include additional URI
schemes for obtaining the session-specific policy document would be added.<o=
:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3D"Courier New"><span style=3D'font=
-size:10.0pt;
font-family:"Courier New"'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3D"Courier New"><span style=3D'font=
-size:10.0pt;
font-family:"Courier New"'>This seems like a relatively straight forward cha=
nge
to make even though it is a very late proposal.<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3D"Courier New"><span style=3D'font=
-size:10.0pt;
font-family:"Courier New"'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3D"Courier New"><span style=3D'font=
-size:10.0pt;
font-family:"Courier New"'>Since one of the original primary drivers for the
session policy work originated from 3GPP requirements it would be a shame if
the solution wasn&#8217;t sufficiently extensible to allow 3GPP in the futur=
e
to use it.<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3D"Courier New"><span style=3D'font=
-size:10.0pt;
font-family:"Courier New"'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span style=3D'font-size:10=
.0pt;
font-family:Arial'><o:p>&nbsp;</o:p></span></font></p>

<p><font size=3D2 face=3D"Times New Roman"><span style=3D'font-size:10.0pt'>=
Andrew
Allen</span></font><o:p></o:p></p>

<p><font size=3D2 face=3D"Times New Roman"><span style=3D'font-size:10.0pt'>=
Manager
Standards</span></font><o:p></o:p></p>

<p><font size=3D2 face=3D"Times New Roman"><span style=3D'font-size:10.0pt'>=
Research
In Motion Ltd</span></font><o:p></o:p></p>

<p><font size=3D2 face=3D"Times New Roman"><span style=3D'font-size:10.0pt'>=
Office +1
847-793-0861 x20824</span></font><o:p></o:p></p>

<p><font size=3D2 face=3D"Times New Roman"><span style=3D'font-size:10.0pt'>=
BlackBerry
<st1:place w:st=3D"on">Mobile</st1:place> +1 847 809 8636</span></font><o:p>=
</o:p></p>

<p><font size=3D3 face=3D"Times New Roman"><span style=3D'font-size:12.0pt'>=
<a
href=3D"http://www.rim.com/"><font size=3D2><span style=3D'font-size:10.0pt'=
>http://www.rim.com/</span></font></a><o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D3 face=3D"Times New Roman"><span style=3D'=
font-size:
12.0pt'><o:p>&nbsp;</o:p></span></font></p>

</div>

--------------------------------------------------------------------- <br>
This transmission (including any attachments) may contain confidential infor=
mation, privileged material (including material protected by the solicitor-c=
lient or other applicable privileges), or constitute non-public information.=
 Any use of this information by anyone other than the intended recipient is=
 prohibited. If you have received this transmission in error, please immedia=
tely reply to the sender and delete this information from your system. Use,=
 dissemination, distribution, or reproduction of this transmission by uninte=
nded recipients is not authorized and may be unlawful.
</body>

</html>

------_=_NextPart_001_01C87BC2.A9FEE4C7--

--===============0416273939==
Content-Type: text/plain; charset="us-ascii"
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip
--===============0416273939==--


From sip-bounces@ietf.org  Sat Mar  1 16:29:40 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id D736A28C44A;
	Sat,  1 Mar 2008 16:29:40 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -0.963
X-Spam-Level: 
X-Spam-Status: No, score=-0.963 tagged_above=-999 required=5
	tests=[AWL=-0.526, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 23xa8ARimDlG; Sat,  1 Mar 2008 16:29:40 -0800 (PST)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id F03703A6D4F;
	Sat,  1 Mar 2008 16:29:34 -0800 (PST)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 7574E28C50D
	for <sip@core3.amsl.com>; Sat,  1 Mar 2008 16:29:33 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id OdCxWQg-4y1D for <sip@core3.amsl.com>;
	Sat,  1 Mar 2008 16:29:32 -0800 (PST)
Received: from sj-iport-6.cisco.com (sj-iport-6.cisco.com [171.71.176.117])
	by core3.amsl.com (Postfix) with ESMTP id AB3923A6D4F
	for <sip@ietf.org>; Sat,  1 Mar 2008 16:27:32 -0800 (PST)
Received: from sj-dkim-4.cisco.com ([171.71.179.196])
	by sj-iport-6.cisco.com with ESMTP; 01 Mar 2008 16:27:24 -0800
Received: from sj-core-5.cisco.com (sj-core-5.cisco.com [171.71.177.238])
	by sj-dkim-4.cisco.com (8.12.11/8.12.11) with ESMTP id m220ROEm016605
	for <sip@ietf.org>; Sat, 1 Mar 2008 16:27:24 -0800
Received: from [192.168.4.177] (sjc-fluffy-vpn1.cisco.com [10.25.236.82])
	by sj-core-5.cisco.com (8.12.10/8.12.6) with SMTP id m220Qebc011652
	for <sip@ietf.org>; Sun, 2 Mar 2008 00:27:24 GMT
Message-Id: <5874283F-D3C3-401C-94E5-E85E12F62029@cisco.com>
From: Cullen Jennings <fluffy@cisco.com>
To: SIP <sip@ietf.org>
Impp: xmpp:cullenfluffyjennings@jabber.org
Mime-Version: 1.0 (Apple Message framework v919.2)
Date: Sat, 1 Mar 2008 16:27:24 -0800
X-Mailer: Apple Mail (2.919.2)
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; l=451; t=1204417644; x=1205281644;
	c=relaxed/simple; s=sjdkim4002;
	h=Content-Type:From:Subject:Content-Transfer-Encoding:MIME-Version;
	d=cisco.com; i=fluffy@cisco.com;
	z=From:=20Cullen=20Jennings=20<fluffy@cisco.com>
	|Subject:=20Individual=20draft=20with=20implications=20for=
	20draft-ietf-sip-location-conveyance |Sender:=20;
	bh=ZATdVoxwRGYdc2A39yqRjrHH35W6wAWwLx9kr32bdB0=;
	b=dwH7CVFu43dVXgdRj6rQGdSadMyJ9CTU2DB6u7S2s6aPLoU3gxN3gSqaCN
	aybcnDhWyIw4Y6AlQNJN/hWNSiUAhMdonzqg4A7DR8NoMzHBUz9VJHrfb1o8
	cqQdjv125j;
Authentication-Results: sj-dkim-4; header.From=fluffy@cisco.com; dkim=pass (
	sig from cisco.com/sjdkim4002 verified; ); 
Subject: [Sip] Individual draft with implications for
	draft-ietf-sip-location-conveyance
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


The draft-peterson-geopriv-retransmission draft is being discussed on  
the geopriv list. This is just an individual 00 draft at this point  
but if the geopriv group decided they had consensus for this something  
along the lines of this draft, it would imply changes to draft-ietf- 
sip-location-conveyance. If you are interested, please send comments  
about the raft-peterson-geopriv-retransmission draft to the geopriv  
list.

Cullen


_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Sun Mar  2 05:45:47 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id E3F823A6F9E;
	Sun,  2 Mar 2008 05:45:47 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -0.651
X-Spam-Level: 
X-Spam-Status: No, score=-0.651 tagged_above=-999 required=5
	tests=[AWL=-0.214, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id eyUMpMssxJSZ; Sun,  2 Mar 2008 05:45:42 -0800 (PST)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 448F63A6A4B;
	Sun,  2 Mar 2008 05:42:23 -0800 (PST)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 82B0E3A67F3;
	Sun,  2 Mar 2008 05:42:21 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id sbWQ-YzzyvBl; Sun,  2 Mar 2008 05:42:20 -0800 (PST)
Received: from mgw-mx06.nokia.com (smtp.nokia.com [192.100.122.233])
	by core3.amsl.com (Postfix) with ESMTP id BD64B3A6A4B;
	Sun,  2 Mar 2008 05:42:19 -0800 (PST)
Received: from esebh107.NOE.Nokia.com (esebh107.ntc.nokia.com [172.21.143.143])
	by mgw-mx06.nokia.com (Switch-3.2.6/Switch-3.2.6) with ESMTP id
	m22Dg6JX028771; Sun, 2 Mar 2008 15:42:08 +0200
Received: from esebh102.NOE.Nokia.com ([172.21.138.183]) by
	esebh107.NOE.Nokia.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Sun, 2 Mar 2008 15:42:06 +0200
Received: from mgw-int02.ntc.nokia.com ([172.21.143.97]) by
	esebh102.NOE.Nokia.com over TLS secured channel with Microsoft
	SMTPSVC(6.0.3790.1830); Sun, 2 Mar 2008 15:42:06 +0200
Received: from [10.162.252.251] (essapo-nirac252251.europe.nokia.com
	[10.162.252.251])
	by mgw-int02.ntc.nokia.com (Switch-3.2.5/Switch-3.2.5) with ESMTP id
	m22Dg4G6012811; Sun, 2 Mar 2008 15:42:05 +0200
From: Aki Niemi <aki.niemi@nokia.com>
To: "ext sip-bounces@ietf.org" <sip-bounces@ietf.org>
Cc: sip@ietf.org
In-Reply-To: <200803010308.m2138gWu024969@dragon.ariadne.com>
References: <5D1A7985295922448D5550C94DE2918001636AF1@DEEXC1U01.de.lucent.com>
	<200709181506.l8IF6Bmp007748@dragon.ariadne.com>
	<1203976392.6192.88.camel@localhost>
	<200802262131.m1QLV7Rm008476@dragon.ariadne.com>
	<1204099738.16881.21.camel@localhost>
	<200803010308.m2138gWu024969@dragon.ariadne.com>
Organization: Nokia Devices R&D
Date: Sun, 02 Mar 2008 15:42:04 +0200
Message-Id: <1204465324.1597.30.camel@localhost>
Mime-Version: 1.0
X-Mailer: Evolution 2.12.1 
X-OriginalArrivalTime: 02 Mar 2008 13:42:06.0360 (UTC)
	FILETIME=[3476B980:01C87C6B]
X-Nokia-AV: Clean
Subject: Re: [Sip] WGLC for draft-ietf-sip-subnot-etags-01
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


On pe, 2008-02-29 at 22:08 -0500, ext sip-bounces@ietf.org wrote:
>    Then that's bad. How does the notifier then know which PIDF to pick in
>    presence subscriptions?
> 
> Especially if it's not a presence subscription.  But seriously, is
> this proposal confined to presence events?  I see no such text.

Of course it is not. But clearly presence won't work correctly, if the
notifier doesn't know which URIs route to it, i.e., which resources it
is responsible for. I assume this to be the case for most applications
of SIP events. Can you give an example of a currently specified event
package that doesn't require this?

> In general, a SUBSCRIBE will fork, and the subscriber presumably knows
> how it wants to integrate the events it will receive from the various
> subscriptions, based on the semantics of its situation.

Then presumably the semantics of the situation will also describe how
entity-tags are handled? Especially if they are not all of the same
value in the different dialogs.

>    I agree this kind of setup presents a problem. But I also think that
>    what we're dealing with here is not that different from the web world.
>    There are a lot of load balancing schemes that can be used with HTTP,
>    which result in a GET ending up in different data centers in different
>    parts of the world at different times.
> 
>    What's important to note there is that if the service that is accessed
>    via this GET needs sessions and gives out cookies, then the backend
>    system needs to be synchronized. Otherwise, the servers will be unaware
>    of each others cookies, and the service won't work correctly.
> 
>    Similarly, the backend to the SIP notifiers needs a synchronized
>    backend, otherwise, subnot-etags won't work.  Naturally, the etags just
>    like cookies can be constructed in such a way that they contain the
>    necessary state.
> 
> There's a hidden philosophical problem:  People think of SIP routing
> as being like PSTN routing, where the caller sends the call to a
> number which designates one destination, or at least, a single device
> which has total knowledge of a small number of possible destinations.
> The caller knows the globally-recongized *name* of the
> destination-group, and every destination knows of and is coordinated
> with *every other possible destination*.
> 
> Your HTTP model is similar; you assume the request will reach one of a
> set of servers that are co-adminstered.
> 
> But the reality is that SIP routing can be like sending e-mail to a
> mailing list -- the sender doesn't know what the possible destinations
> are, and each destination doesn't know what all the destinations are
> either, because some of the routing can be done by agents that are not
> co-administered with either the sender or the destination.

What you are saying is similar to having sip@ietf.org route to multiple
mailman instances, each of which has a different set of subscribed email
addresses. But that's not how mailing lists work either.

> Now I think the first case is more common, but if we are going to
> design a general mechanism, it should not fail badly in practice in
> the second case.

Can you give an example event package that would fail badly with
clashing entity-tags and (uncontrolled) forking?

> Getting back to possible solutions:
> 
> Looking at section 6.1, I see '[An entity-tag] can have any value,
> except for "*".'  (Let's correct that to 'An entity-tag can be any
> token, except for "*".')  We can dodge the problem of uncoordinated
> notifiers by demanding that entity-tags have some minimum amount of
> randomness.  E.g., if any group of coordinated notifiers picks a
> 64-bit random value, and the entity-tag is generated by making a
> 64-bit hash of that value with the event information, the chances of
> an etag-value collision in any single instance is 2^-64.

Your application of SIP events certainly can implement as much
randomness it wants. But it's hardly appropriate to require that of all
implementations of conditional notification.

For MWI, a timestamp seems sufficient; for conference events, a
monotonically increasing counter would probably work just fine. 

> One can easily encode a 64-bit value in 11 token characters using
> (modified) base64.  Compare that to the 5-character values used as
> examples in the I-D.  Though if we used 6 base64 characters, we would
> still have a 36-bit hash, which is probably good enough.

Were we to design some mandatory-to-implement entity-tag generation
algorithm, I'd much rather suggest salting the hash with appropriately
unique information, like the server IP address and a timestamp, rather
than just "randomness". But since we aren't, this (among many, many
others) is a valid way to generate entity-tags.

Cheers,
Aki

> Dale
> _______________________________________________
> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Sun Mar  2 23:45:14 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 3260228C4FD;
	Sun,  2 Mar 2008 23:45:14 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -0.852
X-Spam-Level: 
X-Spam-Status: No, score=-0.852 tagged_above=-999 required=5
	tests=[AWL=-0.415, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id jK875msDYDru; Sun,  2 Mar 2008 23:44:57 -0800 (PST)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 5BF263A6E6E;
	Sun,  2 Mar 2008 23:44:40 -0800 (PST)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 0AAB73A6F81
	for <sip@core3.amsl.com>; Sun,  2 Mar 2008 23:44:39 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id u7VAPK+W-duk for <sip@core3.amsl.com>;
	Sun,  2 Mar 2008 23:44:38 -0800 (PST)
Received: from ihemail3.lucent.com (ihemail3.lucent.com [135.245.0.37])
	by core3.amsl.com (Postfix) with ESMTP id 567583A6F35
	for <sip@ietf.org>; Sun,  2 Mar 2008 23:44:10 -0800 (PST)
Received: from ilexp01.ndc.lucent.com (h135-3-39-1.lucent.com [135.3.39.1])
	by ihemail3.lucent.com (8.13.8/IER-o) with ESMTP id m237hpsb009023;
	Mon, 3 Mar 2008 01:43:54 -0600 (CST)
Received: from DEEXP01.de.lucent.com ([135.248.187.65]) by
	ilexp01.ndc.lucent.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Mon, 3 Mar 2008 01:43:52 -0600
Received: from DEEXC1U01.de.lucent.com ([135.248.187.20]) by
	DEEXP01.de.lucent.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Mon, 3 Mar 2008 08:43:43 +0100
X-MIMEOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Mon, 3 Mar 2008 08:43:43 +0100
Message-ID: <5D1A7985295922448D5550C94DE2918001CB0893@DEEXC1U01.de.lucent.com>
In-Reply-To: <004d01c87b34$3406dd00$58a36b80@cisco.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] nit in draft-wing-sip-e164-rrc-01
Thread-index: Ach4x0TCNh6QwqPNQeO7TMN1gaeTRACbLenwAE+QocA=
References: <1DDB0D3CC4E7F14FAE946361C0A6065504FCB700@isr-jlm-mail.Kayote.com>
	<004d01c87b34$3406dd00$58a36b80@cisco.com>
From: "DRAGE, Keith \(Keith\)" <drage@alcatel-lucent.com>
To: "Dan Wing" <dwing@cisco.com>, "David Schwartz" <David.Schwartz@Kayote.com>
X-OriginalArrivalTime: 03 Mar 2008 07:43:43.0942 (UTC)
	FILETIME=[4E6FDE60:01C87D02]
X-Scanned-By: MIMEDefang 2.57 on 135.245.2.37
Cc: sip@ietf.org
Subject: Re: [Sip] nit in draft-wing-sip-e164-rrc-01
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

In the PSTN you get both options - 

Allow the call to complete

Call automatically rejected with a specific ISUP cause value anonymous
call rejection (which now has a SIP equivalent).

Regards

Keith

> -----Original Message-----
> From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On 
> Behalf Of Dan Wing
> Sent: Saturday, March 01, 2008 12:36 AM
> To: 'David Schwartz'
> Cc: sip@ietf.org
> Subject: Re: [Sip] nit in draft-wing-sip-e164-rrc-01
> 
>  
> 
> > -----Original Message-----
> > From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On 
> Behalf Of 
> > David Schwartz
> > Sent: Tuesday, February 26, 2008 2:31 PM
> > To: dwing@cisco.com
> > Cc: sip@ietf.org
> > Subject: [Sip] nit in draft-wing-sip-e164-rrc-01
> > 
> > 
> > Hi Dan
> > 
> > a quick comment on this draft...
> > 
> > There is no discussion of what happens when there is a validation 
> > failure. While obvious, you should probably reference 4474 
> processing 
> > upon validation failure (i.e.
> > respond with 438 'Invalid Identity Header'). And while on 
> the topic in 
> > your second example where the cert comparison test fails 
> your diagram 
> > still shows the call proceeding to its destination (hence 
> the earlier 
> > comment).
> 
> I'm not sure we want to fail a call if validation fails; 
> rather, we may want to allow it to complete and tell the user 
> 'unauthenticated caller' (similar to what the PSTN does today 
> by displaying "unidentified call" when caller ID failed).
> 
> -d
> 
> _______________________________________________
> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol Use 
> sip-implementors@cs.columbia.edu for questions on current sip 
> Use sipping@ietf.org for new developments on the application of sip
> 
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Mon Mar  3 01:04:56 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 2831D3A68D1;
	Mon,  3 Mar 2008 01:04:56 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -1.545
X-Spam-Level: 
X-Spam-Status: No, score=-1.545 tagged_above=-999 required=5
	tests=[AWL=-1.108, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id GNt7ZLO1Kz-M; Mon,  3 Mar 2008 01:04:50 -0800 (PST)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 9ECA428C3BD;
	Mon,  3 Mar 2008 01:04:50 -0800 (PST)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id C95D728C32A
	for <sip@core3.amsl.com>; Mon,  3 Mar 2008 01:04:49 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id CYGO2ROW-Lni for <sip@core3.amsl.com>;
	Mon,  3 Mar 2008 01:04:44 -0800 (PST)
Received: from demumfd001.nsn-inter.net (demumfd001.nsn-inter.net
	[217.115.75.233])
	by core3.amsl.com (Postfix) with ESMTP id 880A528C4A1
	for <sip@ietf.org>; Mon,  3 Mar 2008 01:04:41 -0800 (PST)
Received: from demuprx016.emea.nsn-intra.net ([10.150.129.55])
	by demumfd001.nsn-inter.net (8.12.11.20060308/8.12.11) with ESMTP id
	m2394UeE013758
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO)
	for <sip@ietf.org>; Mon, 3 Mar 2008 10:04:31 +0100
Received: from demuexc022.nsn-intra.net (webmail.nsn-intra.net [10.150.128.35])
	by demuprx016.emea.nsn-intra.net (8.12.11.20060308/8.12.11) with ESMTP
	id m2394U42016282 for <sip@ietf.org>; Mon, 3 Mar 2008 10:04:30 +0100
Received: from DEMUEXC006.nsn-intra.net ([10.150.128.18]) by
	demuexc022.nsn-intra.net with Microsoft SMTPSVC(6.0.3790.3959); 
	Mon, 3 Mar 2008 10:04:30 +0100
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Mon, 3 Mar 2008 10:04:31 +0100
Message-ID: <085BE88FD18EE94085EB8960172CA3598E9810@DEMUEXC006.nsn-intra.net>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Removal of RTP-to-SRTP-upgrade requirement in
	draft-ietf-sip-media-security-requirements
Thread-Index: Ach9DZeGkrwx4IanS7u90N9NiNqEuw==
From: "Schneider, Peter (NSN - DE/Muenich)" <peter.schneider@nsn.com>
To: <sip@ietf.org>
X-OriginalArrivalTime: 03 Mar 2008 09:04:30.0588 (UTC)
	FILETIME=[97435BC0:01C87D0D]
Subject: [Sip] Removal of RTP-to-SRTP-upgrade requirement in
	draft-ietf-sip-media-security-requirements
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Former versions of the draft included the requirement

   R15:  The media security key management protocol SHOULD allow
         endpoints to start with RTP and then upgrade to SRTP.

The current version -03 doesn't contain the requirement.

As quoted from RFC3264 in the draft, after the INVITE with the SDP
offer, the offerer must be prepared to receive media, e.g. for
announcements. I feel it makes sense to support a use case where such
announcements can be sent unencrypted, even if the caller wants to set
up an encrypted call. Obviously, this allows an attack (e.g. sending of
forged announcements), but on the other hand, it may be useful for the
caller to hear the announcements. It could be a local policy of the
calling user agent to drop such media (in order to avoid attacks) or to
play it out. The user agent may also be configured to indicate somehow
whether "the call is secured" or not.

So I suggest to revive R15, maybe in a wording that makes more clear
what use case(s) should be supported.

Peter
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Mon Mar  3 02:52:00 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 5187D28C547;
	Mon,  3 Mar 2008 02:52:00 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -0.835
X-Spam-Level: 
X-Spam-Status: No, score=-0.835 tagged_above=-999 required=5
	tests=[AWL=-1.398, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, HTML_MESSAGE=1, RDNS_NONE=0.1]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id MqSLd-QeaUsN; Mon,  3 Mar 2008 02:51:54 -0800 (PST)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 4DD8E3A6F54;
	Mon,  3 Mar 2008 02:51:54 -0800 (PST)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 5CB1A3A6E94
	for <sip@core3.amsl.com>; Mon,  3 Mar 2008 02:51:53 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id UAgwr-xEHMaT for <sip@core3.amsl.com>;
	Mon,  3 Mar 2008 02:51:47 -0800 (PST)
Received: from cluster-f.mailcontrol.com (cluster-f.mailcontrol.com
	[85.119.2.190]) by core3.amsl.com (Postfix) with ESMTP id 09DC228C47C
	for <sip@ietf.org>; Mon,  3 Mar 2008 02:51:46 -0800 (PST)
Received: from exsmtp01.nasstar-t1.net (exsmtp01.nasstar-t1.net [89.28.233.12])
	by rly38f.srv.mailcontrol.com (MailControl) with ESMTP id
	m23ApFig001804 for <sip@ietf.org>; Mon, 3 Mar 2008 10:51:36 GMT
Received: from EXVS02.nasstar-t1.net ([10.2.10.105]) by
	exsmtp01.nasstar-t1.net with Microsoft SMTPSVC(6.0.3790.1830); 
	Mon, 3 Mar 2008 10:52:13 +0000
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Mon, 3 Mar 2008 10:51:10 -0000
Message-ID: <680808427CF931459462C3D78CB5EC60017AA370@EXVS02.nasstar-t1.net>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] substantive changes to outbound - stateless TCP proxies
Thread-Index: Ach7JCC2OblDvmZHQpuoyv26KUn9lAB9Q7mg
From: "Attila Sipos" <attila.sipos@vegastream.com>
To: "SIP" <sip@ietf.org>
X-OriginalArrivalTime: 03 Mar 2008 10:52:13.0002 (UTC)
	FILETIME=[A3297AA0:01C87D1C]
X-Scanned-By: MailControl A-08-00-04 (www.mailcontrol.com) on 10.70.0.148
Subject: Re: [Sip] substantive changes to outbound - stateless TCP proxies
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: multipart/mixed; boundary="===============2140062069=="
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

This is a multi-part message in MIME format.

--===============2140062069==
Content-class: urn:content-classes:message
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C87D1C.A34DD153"

This is a multi-part message in MIME format.

------_=_NextPart_001_01C87D1C.A34DD153
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

=20
>>it turns out, it is impossible to implement an RFC3261-compliant proxy
that always operates statelessly. Implementation
>>of TCP (and TLS over TCP) is required in RFC 3261 and when sending or
receiving over TCP a proxy MUST become stateful
=20
I am surprised by this statement.
There have been many discussions on stateless TCP on "sip" and
"sip-implementors"
(including opinions from well-known contributors) and no-one has ever
said it can't be done.
=20
For non-NAT cases, a stateless TCP proxy can work just as effectively as
a stateful one.
=20
There might be some issues with outbound that make stateless operation
more awkward
but all that matters is that the TCP connection between proxy and UA is
maintained.
If the usage of TCP and SIP is loosely coupled then it is possible.
=20
Regards,
=20
Attila
=20
=20


________________________________

From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On Behalf Of
Rohan Mahy
Sent: 29 February 2008 22:39
To: SIP
Cc: Cullen Jennings; Francois Audet
Subject: [Sip] substantive changes to outbound


Hi Folks,

As many of you probably saw, I submitted a new version of the outbound
specification just before the draft deadline on Monday. There was a lot
of general rewording to try to improve clarity and readability, but we
received a number of contradictory suggestions, so hopefully it flow
well.  The major changes are:

- removed references to the 'keep' and 'timed-keepalives' parameters
- added the 'Flow-Timer' header
- changed the wording for the recommended timing over TCP. if battery
consumption is an issue, the recommended keepalives are approximately
every 14 minutes.  If battery consumption is not an issue, the
recommended keepalives are approximately every two minutes.
- added text explaining that an edge proxy which sees an 'ob' parameter
in its Route header (probably copied form the Path vector by the
authoritative proxy) in a dialog-forming request, the edge proxy needs
to insure that the route set will allow in-dialog requests to arrive
over some valid flow to the UA instance. In the simplest cae, the edge
proxy could just copy the URI (with flow token) from the Route header
into the Record-Route header and delete the 'ob' parameter. If the
Contact is a GRUU that should be sufficient too.  If the edge proxy
wants to do something fancy that even without GRUU allows mid-dialog
recovery of a specific flow, that's allowed as well.
- added the 439 (First Hop Lacks Outbound Support) response code
- wrote a very complete example (which is hopefully correct)

I hope this is satisfactory to the group. The way timers work is much
simpler and more powerful and will hopefully please both server and
client folks (wired and wireless alike).

In addition, there was a comment on the list about using outbound with
transaction stateless proxies.  As it turns out, it is impossible to
implement an RFC3261-compliant proxy that always operates statelessly.
Implementation of TCP (and TLS over TCP) is required in RFC 3261 and
when sending or receiving over TCP a proxy MUST become stateful. Based
on this, I do not feel badly stating that proxies which implement
outbound MUST be transaction stateful.

thanks,
-rohan



------_=_NextPart_001_01C87D1C.A34DD153
Content-Type: text/html;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML><HEAD>
<META http-equiv=3DContent-Type content=3D"text/html; =
charset=3Dus-ascii">
<META content=3D"MSHTML 6.00.2900.2873" name=3DGENERATOR></HEAD>
<BODY>
<DIV dir=3Dltr align=3Dleft><FONT face=3DArial color=3D#0000ff=20
size=3D2></FONT>&nbsp;</DIV>
<DIV dir=3Dltr align=3Dleft><SPAN class=3D650302710-03032008><FONT =
face=3DArial=20
color=3D#0000ff size=3D2><FONT face=3D"Times New Roman" color=3D#000000=20
size=3D3>&gt;&gt;it turns out, it is impossible to implement an =
RFC3261-compliant=20
proxy that always operates statelessly.=20
Implementation</FONT></FONT></SPAN></DIV>
<DIV dir=3Dltr align=3Dleft><SPAN class=3D650302710-03032008><FONT =
face=3DArial=20
color=3D#0000ff size=3D2><FONT face=3D"Times New Roman" color=3D#000000=20
size=3D3>&gt;&gt;of TCP (and TLS over TCP) is required in RFC 3261 and =
when=20
sending or receiving over TCP a proxy MUST become=20
stateful</FONT></FONT></SPAN></DIV>
<DIV dir=3Dltr align=3Dleft><SPAN class=3D650302710-03032008><FONT =
face=3DArial=20
color=3D#0000ff size=3D2></FONT></SPAN>&nbsp;</DIV>
<DIV dir=3Dltr align=3Dleft><SPAN =
class=3D650302710-03032008></SPAN><SPAN=20
class=3D650302710-03032008></SPAN><SPAN =
class=3D650302710-03032008></SPAN><SPAN=20
class=3D650302710-03032008><FONT face=3DArial color=3D#0000ff size=3D2>I =
am surprised by=20
this statement.</FONT></SPAN></DIV>
<DIV dir=3Dltr align=3Dleft><SPAN class=3D650302710-03032008><FONT =
face=3DArial=20
color=3D#0000ff size=3D2>There have been many discussions on stateless =
TCP on "sip"=20
and "sip-implementors"</FONT></SPAN></DIV>
<DIV dir=3Dltr align=3Dleft><SPAN class=3D650302710-03032008><FONT =
face=3DArial=20
color=3D#0000ff size=3D2>(including&nbsp;opinions from well-known =
contributors) and=20
no-one has ever said it can't be done.</FONT></SPAN></DIV>
<DIV dir=3Dltr align=3Dleft><SPAN =
class=3D650302710-03032008></SPAN><SPAN=20
class=3D650302710-03032008><FONT face=3DArial color=3D#0000ff=20
size=3D2></FONT></SPAN>&nbsp;</DIV>
<DIV dir=3Dltr align=3Dleft><SPAN class=3D650302710-03032008><FONT =
face=3DArial=20
color=3D#0000ff size=3D2>For non-NAT cases, a stateless TCP proxy can =
work just=20
as&nbsp;effectively as a stateful one.</FONT></SPAN></DIV>
<DIV dir=3Dltr align=3Dleft><SPAN class=3D650302710-03032008><FONT =
face=3DArial=20
color=3D#0000ff size=3D2></FONT></SPAN>&nbsp;</DIV>
<DIV dir=3Dltr align=3Dleft><FONT face=3DArial><FONT =
color=3D#0000ff><FONT size=3D2>T<SPAN=20
class=3D650302710-03032008>here might be some issues with outbound that =
make=20
stateless operation more awkward</SPAN></FONT></FONT></FONT></DIV>
<DIV dir=3Dltr align=3Dleft><FONT face=3DArial><FONT =
color=3D#0000ff><FONT size=3D2><SPAN=20
class=3D650302710-03032008>but all that matters is that the TCP =
connection between=20
proxy and UA is maintained.</SPAN></FONT></FONT></FONT></DIV>
<DIV dir=3Dltr align=3Dleft><FONT face=3DArial><FONT =
color=3D#0000ff><FONT size=3D2><SPAN=20
class=3D650302710-03032008>If the usage of TCP and SIP is loosely =
coupled then it=20
is possible.</SPAN></FONT></FONT></FONT></DIV>
<DIV dir=3Dltr align=3Dleft><SPAN class=3D650302710-03032008><FONT =
face=3DArial=20
color=3D#0000ff size=3D2></FONT></SPAN>&nbsp;</DIV>
<DIV dir=3Dltr align=3Dleft><SPAN =
class=3D650302710-03032008></SPAN><SPAN=20
class=3D650302710-03032008><FONT face=3DArial color=3D#0000ff=20
size=3D2>Regards,</FONT></SPAN></DIV>
<DIV dir=3Dltr align=3Dleft><SPAN class=3D650302710-03032008><FONT =
face=3DArial=20
color=3D#0000ff size=3D2></FONT></SPAN>&nbsp;</DIV>
<DIV dir=3Dltr align=3Dleft><SPAN class=3D650302710-03032008><FONT =
face=3DArial=20
color=3D#0000ff size=3D2>Attila</FONT></SPAN></DIV>
<DIV dir=3Dltr align=3Dleft><SPAN class=3D650302710-03032008><FONT =
face=3DArial=20
color=3D#0000ff size=3D2></FONT></SPAN>&nbsp;</DIV>
<DIV dir=3Dltr align=3Dleft><SPAN class=3D650302710-03032008><FONT =
face=3DArial=20
color=3D#0000ff size=3D2></FONT></SPAN>&nbsp;</DIV><FONT face=3DArial =
color=3D#0000ff=20
size=3D2></FONT><FONT face=3DArial color=3D#0000ff size=3D2></FONT><FONT =
face=3DArial=20
color=3D#0000ff size=3D2></FONT><FONT face=3DArial color=3D#0000ff =
size=3D2></FONT><BR>
<DIV class=3DOutlookMessageHeader lang=3Den-us dir=3Dltr align=3Dleft>
<HR tabIndex=3D-1>
<FONT face=3DTahoma size=3D2><B>From:</B> sip-bounces@ietf.org=20
[mailto:sip-bounces@ietf.org] <B>On Behalf Of </B>Rohan =
Mahy<BR><B>Sent:</B> 29=20
February 2008 22:39<BR><B>To:</B> SIP<BR><B>Cc:</B> Cullen Jennings; =
Francois=20
Audet<BR><B>Subject:</B> [Sip] substantive changes to=20
outbound<BR></FONT><BR></DIV>
<DIV></DIV>Hi Folks,<BR><BR>As many of you probably saw, I submitted a =
new=20
version of the outbound specification just before the draft deadline on =
Monday.=20
There was a lot of general rewording to try to improve clarity and =
readability,=20
but we received a number of contradictory suggestions, so hopefully it =
flow=20
well.&nbsp; The major changes are:<BR><BR>- removed references to the =
'keep' and=20
'timed-keepalives' parameters<BR>- added the 'Flow-Timer' header<BR>- =
changed=20
the wording for the recommended timing over TCP. if battery consumption =
is an=20
issue, the recommended keepalives are approximately every 14 =
minutes.&nbsp; If=20
battery consumption is not an issue, the recommended keepalives are=20
approximately every two minutes.<BR>- added text explaining that an edge =
proxy=20
which sees an 'ob' parameter in its Route header (probably copied form =
the Path=20
vector by the authoritative proxy) in a dialog-forming request, the edge =
proxy=20
needs to insure that the route set will allow in-dialog requests to =
arrive over=20
some valid flow to the UA instance. In the simplest cae, the edge proxy =
could=20
just copy the URI (with flow token) from the Route header into the =
Record-Route=20
header and delete the 'ob' parameter. If the Contact is a GRUU that =
should be=20
sufficient too.&nbsp; If the edge proxy wants to do something fancy that =
even=20
without GRUU allows mid-dialog recovery of a specific flow, that's =
allowed as=20
well.<BR>- added the 439 (First Hop Lacks Outbound Support) response =
code<BR>-=20
wrote a very complete example (which is hopefully correct)<BR><BR>I hope =
this is=20
satisfactory to the group. The way timers work is much simpler and more =
powerful=20
and will hopefully please both server and client folks (wired and =
wireless=20
alike).<BR><BR>In addition, there was a comment on the list about using =
outbound=20
with transaction stateless proxies.&nbsp; As it turns out, it is =
impossible to=20
implement an RFC3261-compliant proxy that always operates statelessly.=20
Implementation of TCP (and TLS over TCP) is required in RFC 3261 and =
when=20
sending or receiving over TCP a proxy MUST become stateful. Based on =
this, I do=20
not feel badly stating that proxies which implement outbound MUST be =
transaction=20
stateful.<BR><BR>thanks,<BR>-rohan<BR><BR></BODY></HTML>

------_=_NextPart_001_01C87D1C.A34DD153--

--===============2140062069==
Content-Type: text/plain; charset="us-ascii"
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip
--===============2140062069==--


From sip-bounces@ietf.org  Mon Mar  3 07:43:25 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 12EA13A6B04;
	Mon,  3 Mar 2008 07:43:25 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -0.596
X-Spam-Level: 
X-Spam-Status: No, score=-0.596 tagged_above=-999 required=5
	tests=[AWL=-0.159, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id ff0mOa0r1yOm; Mon,  3 Mar 2008 07:43:23 -0800 (PST)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id D78803A69DD;
	Mon,  3 Mar 2008 07:43:23 -0800 (PST)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 23EFB3A6952;
	Mon,  3 Mar 2008 07:43:23 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id dKVCBL2ebekm; Mon,  3 Mar 2008 07:43:17 -0800 (PST)
Received: from nylon.softarmor.com (nylon.softarmor.com [66.135.38.164])
	by core3.amsl.com (Postfix) with ESMTP id 448083A6927;
	Mon,  3 Mar 2008 07:43:02 -0800 (PST)
Received: from [192.168.2.100] (cpe-76-185-142-113.tx.res.rr.com
	[76.185.142.113] (may be forged)) (authenticated bits=0)
	by nylon.softarmor.com (8.13.8/8.13.8/Debian-3) with ESMTP id
	m23Fgioo018796
	(version=TLSv1/SSLv3 cipher=AES128-SHA bits=128 verify=NOT);
	Mon, 3 Mar 2008 09:42:45 -0600
Message-Id: <6CBA6241-389B-493E-8B16-AD51704CC104@softarmor.com>
From: Dean Willis <dean.willis@softarmor.com>
To: Aki Niemi <aki.niemi@nokia.com>
In-Reply-To: <1204465324.1597.30.camel@localhost>
Mime-Version: 1.0 (Apple Message framework v919.2)
Date: Mon, 3 Mar 2008 09:42:39 -0600
References: <5D1A7985295922448D5550C94DE2918001636AF1@DEEXC1U01.de.lucent.com>
	<200709181506.l8IF6Bmp007748@dragon.ariadne.com>
	<1203976392.6192.88.camel@localhost>
	<200802262131.m1QLV7Rm008476@dragon.ariadne.com>
	<1204099738.16881.21.camel@localhost>
	<200803010308.m2138gWu024969@dragon.ariadne.com>
	<1204465324.1597.30.camel@localhost>
X-Mailer: Apple Mail (2.919.2)
Cc: sip@ietf.org, "ext sip-bounces@ietf.org" <sip-bounces@ietf.org>
Subject: Re: [Sip] WGLC for draft-ietf-sip-subnot-etags-01
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


On Mar 2, 2008, at 7:42 AM, Aki Niemi wrote:

>
> On pe, 2008-02-29 at 22:08 -0500, ext sip-bounces@ietf.org wrote:
>>   Then that's bad. How does the notifier then know which PIDF to  
>> pick in
>>   presence subscriptions?
>>
>> Especially if it's not a presence subscription.  But seriously, is
>> this proposal confined to presence events?  I see no such text.
>
> Of course it is not. But clearly presence won't work correctly, if the
> notifier doesn't know which URIs route to it, i.e., which resources it
> is responsible for. I assume this to be the case for most applications
> of SIP events. Can you give an example of a currently specified event
> package that doesn't require this?

I have yet to figure out how a multiuser UA  (including an event  
server) is supposed to function if:

1) The To: field does not indicate the user being targeted, which  
happens if a UAC-side proxy retargets, as in the case of a speed-dial  
service, and

2) The request-URI does not indicate the user being targeted, which  
happens in many cases including when the UAS-side proxy does contact- 
routing AND the user-part of the contact isn't differentiated per- 
user. It also occurs with some load-balancers. That's part of why we  
don't specify bulk registration in RFC 3261, but instead recommend  
using routing table entries.

--
Dean
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Mon Mar  3 08:54:54 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 8CA4E3A6B4F;
	Mon,  3 Mar 2008 08:54:54 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -1.919
X-Spam-Level: 
X-Spam-Status: No, score=-1.919 tagged_above=-999 required=5
	tests=[AWL=-1.482, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 5VCUMhdqkRvz; Mon,  3 Mar 2008 08:54:48 -0800 (PST)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id D927C3A6B34;
	Mon,  3 Mar 2008 08:54:48 -0800 (PST)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id CF2DB3A68A4
	for <sip@core3.amsl.com>; Mon,  3 Mar 2008 08:54:47 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id gj+Uy+Nf9vJE for <sip@core3.amsl.com>;
	Mon,  3 Mar 2008 08:54:42 -0800 (PST)
Received: from rtp-iport-2.cisco.com (rtp-iport-2.cisco.com [64.102.122.149])
	by core3.amsl.com (Postfix) with ESMTP id 5110C3A68A9
	for <sip@ietf.org>; Mon,  3 Mar 2008 08:54:42 -0800 (PST)
X-IronPort-AV: E=Sophos;i="4.25,438,1199682000"; 
   d="scan'208";a="243398"
Received: from rtp-dkim-2.cisco.com ([64.102.121.159])
	by rtp-iport-2.cisco.com with ESMTP; 03 Mar 2008 11:54:33 -0500
Received: from rtp-core-2.cisco.com (rtp-core-2.cisco.com [64.102.124.13])
	by rtp-dkim-2.cisco.com (8.12.11/8.12.11) with ESMTP id m23GsXiQ024536; 
	Mon, 3 Mar 2008 11:54:33 -0500
Received: from xbh-rtp-201.amer.cisco.com (xbh-rtp-201.cisco.com
	[64.102.31.12])
	by rtp-core-2.cisco.com (8.12.10/8.12.6) with ESMTP id m23GsWbm000213; 
	Mon, 3 Mar 2008 16:54:33 GMT
Received: from xfe-rtp-202.amer.cisco.com ([64.102.31.21]) by
	xbh-rtp-201.amer.cisco.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Mon, 3 Mar 2008 11:54:32 -0500
Received: from [161.44.174.168] ([161.44.174.168]) by
	xfe-rtp-202.amer.cisco.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Mon, 3 Mar 2008 11:54:32 -0500
Message-ID: <47CC2D56.7010803@cisco.com>
Date: Mon, 03 Mar 2008 11:54:46 -0500
From: Paul Kyzivat <pkyzivat@cisco.com>
User-Agent: Thunderbird 2.0.0.12 (Windows/20080213)
MIME-Version: 1.0
To: Dale.Worley@comcast.net
References: <F86B91A10B14744E88408E80B8A30EF302B3B006@xmb-hkg-412.apac.cisco.com>	<47C6F37B.7010609@cisco.com>
	<200803010326.m213QuF8026325@dragon.ariadne.com>
In-Reply-To: <200803010326.m213QuF8026325@dragon.ariadne.com>
X-OriginalArrivalTime: 03 Mar 2008 16:54:32.0061 (UTC)
	FILETIME=[40A6A2D0:01C87D4F]
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; l=1602; t=1204563273;
	x=1205427273; c=relaxed/simple; s=rtpdkim2001;
	h=Content-Type:From:Subject:Content-Transfer-Encoding:MIME-Version;
	d=cisco.com; i=pkyzivat@cisco.com;
	z=From:=20Paul=20Kyzivat=20<pkyzivat@cisco.com>
	|Subject:=20Re=3A=20[Sip]=20Contact=20header=20in=201xx=20r
	esponses/updates=20remote=20target=20or=0A=20not? |Sender:=20
	|To:=20Dale.Worley@comcast.net;
	bh=Cw9QP7zuXTyMBq4DzSfPGzOoWnmwu9NZszghzItMcRg=;
	b=ugLSogBot5DvlIyLzQBwZu2q0AFunK/24deUpKZwnVajS/wXIxw4cm8fDI
	6kJ43GLwekAxGJ1/GU7lJRMIbt/0VtJVMpcaLFxdXiPcAoHfho/pdi+/gCZv
	J6nc27qt6b;
Authentication-Results: rtp-dkim-2; header.From=pkyzivat@cisco.com; dkim=pass (
	sig from cisco.com/rtpdkim2001 verified; ); 
Cc: sip@ietf.org
Subject: Re: [Sip] Contact header in 1xx responses/updates remote target or
 not?
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org



Dale.Worley@comcast.net wrote:
>    From: Paul Kyzivat <pkyzivat@cisco.com>
> 
>    A 1xx that establishes an early dialog must contain a contact or else 
>    you really don't have a dialog. I think it is ambiguous whether:
> 
>    - the first 1xx with a particular to-tag *does* establish an early
>       dialog and so *must* contain a contact,
> 
>    - OR a 1xx with a new to-tag, but without a contact, simply doesn't
>       establish a dialog, but is legal.
> 
>    I would split the difference and say that the UAS MUST include a contact 
>    in the first 1xx it returns with a particular to-tag, but a UAC should 
>    accept a 1xx with new to-tag and without a contact and simply treat it 
>    as not establishing an early dialog. (Don't establish the dialog until 
>    you get enough info to do so.)
> 
> I'd say that it does create a dialog, but it's an anomalous dialog in
> that you can't send any requests to it.  (Though it's unlikely that
> you'd want to.)  But you might well get a final response from the
> dialog, and you could get media from it.
> 
> I think it's the fact that the UAC is unlikely to send a request until
> the dialog becomes confirmed is why we haven't worried about this case
> much.

What is so unlikely about this?

The UAC may want to send BYE (as opposed to CANCEL) because it doesn't 
want *this* one.

The Contact is one of the attributes of dialog state. AFAIK we don't 
have the notion of a dialog that exists but for which some state is 
unknown.

Its really a matter of which poison you want here.

	Paul
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Mon Mar  3 08:58:56 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 63F8228C123;
	Mon,  3 Mar 2008 08:58:56 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -0.447
X-Spam-Level: 
X-Spam-Status: No, score=-0.447 tagged_above=-999 required=5
	tests=[AWL=-0.360, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_EQ_FR=0.35, HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id pt20PI2Jk-BK; Mon,  3 Mar 2008 08:58:55 -0800 (PST)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 727F03A6BB8;
	Mon,  3 Mar 2008 08:58:55 -0800 (PST)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id C46893A6BCD
	for <sip@core3.amsl.com>; Mon,  3 Mar 2008 08:58:54 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id Wq6I+lAyR8PU for <sip@core3.amsl.com>;
	Mon,  3 Mar 2008 08:58:54 -0800 (PST)
Received: from smail5.alcatel.fr (smail5.alcatel.fr [64.208.49.27])
	by core3.amsl.com (Postfix) with ESMTP id 5CDF43A69A0
	for <sip@ietf.org>; Mon,  3 Mar 2008 08:58:52 -0800 (PST)
Received: from FRVELSBHS07.ad2.ad.alcatel.com (frvelsbhs07.ad2.ad.alcatel.com
	[155.132.6.79])
	by smail5.alcatel.fr (8.13.8/8.13.8/ICT) with ESMTP id m23GiEH7018940
	for <sip@ietf.org>; Mon, 3 Mar 2008 17:44:14 +0100
Received: from [139.54.131.75] ([139.54.131.75]) by
	FRVELSBHS07.ad2.ad.alcatel.com over TLS secured channel with
	Microsoft SMTPSVC(6.0.3790.2499); Mon, 3 Mar 2008 17:58:40 +0100
Message-ID: <47CC2E3E.2020906@alcatel-lucent.fr>
Date: Mon, 03 Mar 2008 17:58:38 +0100
From: Thomas Froment <Thomas.Froment@alcatel-lucent.fr>
User-Agent: Thunderbird 2.0.0.6 (X11/20070728)
MIME-Version: 1.0
To: IETF SIP List <sip@ietf.org>
X-OriginalArrivalTime: 03 Mar 2008 16:58:40.0355 (UTC)
	FILETIME=[D4A54B30:01C87D4F]
X-Scanned-By: MIMEDefang 2.57 on 155.132.188.13
Subject: [Sip] update -02 of record-route-fix
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Version -02 of http://tools.ietf.org/id/draft-ietf-sip-record-route-fix 
is now available:

- After IETF 70th, there was a consensus to go for a 'best current 
practice' document, so, substential parts of the draft have been 
changed, removing 'normative sentence' proposals.
- It also takes into account most of reviewer comments (I hope so...),
- On the transport protocol switching issues, it now gives separate 
recommendations for UA and proxy implementers.

Keeping in mind that this document is not *only* about documenting 
double-RR, does anybody think that some other open issues/topics related 
to Record-Route should be added to the draft?
We should probably decide during next meeting if this document is ready 
for WGLC or not...

Thomas


_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Mon Mar  3 10:30:57 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 2F3CD28C203;
	Mon,  3 Mar 2008 10:30:57 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -0.363
X-Spam-Level: 
X-Spam-Status: No, score=-0.363 tagged_above=-999 required=5 tests=[AWL=0.074,
	BAYES_00=-2.599, FH_RELAY_NODNS=1.451, HELO_MISMATCH_ORG=0.611,
	RDNS_NONE=0.1]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id yjnGl5NEXSi7; Mon,  3 Mar 2008 10:30:57 -0800 (PST)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id EDCEB28C327;
	Mon,  3 Mar 2008 10:30:52 -0800 (PST)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 5DE693A6DA3
	for <sip@core3.amsl.com>; Mon,  3 Mar 2008 10:30:52 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id JV9pC0JhmgTO for <sip@core3.amsl.com>;
	Mon,  3 Mar 2008 10:30:51 -0800 (PST)
Received: from romeo.rtfm.com (unknown [74.95.2.173])
	by core3.amsl.com (Postfix) with ESMTP id 97B8C3A6960
	for <sip@ietf.org>; Mon,  3 Mar 2008 10:30:40 -0800 (PST)
Received: from romeo.rtfm.com (localhost.rtfm.com [127.0.0.1])
	by romeo.rtfm.com (Postfix) with ESMTP id D04A35081A
	for <sip@ietf.org>; Mon,  3 Mar 2008 10:32:25 -0800 (PST)
Date: Mon, 03 Mar 2008 10:32:25 -0800
From: Eric Rescorla <ekr@networkresonance.com>
To: sip@ietf.org
User-Agent: Wanderlust/2.14.0 (Africa) Emacs/21.3 Mule/5.0 (SAKAKI)
MIME-Version: 1.0 (generated by SEMI 1.14.6 - "Maruoka")
Message-Id: <20080303183225.D04A35081A@romeo.rtfm.com>
Subject: [Sip] Question on subnot-etags
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

I'm sure I'm wading into a swamp here, but:

Say I have a resource identified by URI http://www.example.org/X.

1. Initially it has value A. I do a SUBSCRIBE and get value
   "A" and Etag 1
2. I do a subsequent get and get "B" with Etag 2.
3. I do a third get and get "A".

Can the Etag in event 3 be 1?

Thanks,
-Ekr



_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Mon Mar  3 10:54:11 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 50E753A6E25;
	Mon,  3 Mar 2008 10:54:11 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -1.518
X-Spam-Level: 
X-Spam-Status: No, score=-1.518 tagged_above=-999 required=5
	tests=[AWL=-1.081, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id v6mqTHFopF08; Mon,  3 Mar 2008 10:54:10 -0800 (PST)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id EF5C73A6C37;
	Mon,  3 Mar 2008 10:54:03 -0800 (PST)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id EB70A3A6A37
	for <sip@core3.amsl.com>; Mon,  3 Mar 2008 10:54:02 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 06osbLMlMd0S for <sip@core3.amsl.com>;
	Mon,  3 Mar 2008 10:53:57 -0800 (PST)
Received: from mail.iptel.org (smtp.iptel.org [213.192.59.67])
	by core3.amsl.com (Postfix) with ESMTP id 5E7313A6E37
	for <sip@ietf.org>; Mon,  3 Mar 2008 10:53:10 -0800 (PST)
Received: from uk1lt10071.iptel.org (shell.iptel.org [213.192.59.74])
	by mail.iptel.org (Postfix) with ESMTP id 855CC1819D7D
	for <sip@ietf.org>; Mon,  3 Mar 2008 19:53:00 +0100 (CET)
X-Mailer: QUALCOMM Windows Eudora Version 7.1.0.9
Date: Mon, 03 Mar 2008 19:52:31 +0100
To: sip@ietf.org
From: Jiri Kuthan <jiri@iptel.org>
Mime-Version: 1.0
Message-Id: <20080303185300.855CC1819D7D@mail.iptel.org>
Subject: [Sip] draft-sparks-sip-invfix-01, relaying: MUST versus SHOULD
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

while I agree that fixing premature dropping of transaction context
is the right way to go, I'm wondering if we are not overstandizing
with requiring a proxy server to drop replies without related transaction
context.

My esthetic preference is not to standardize this as a MUST and document the
well-known relaying risks (possibly in form of a SHOULD recommendation). 
It appears to me that there are valid cases (say failover in trusted-environment) 
where it can be more benefecial to complete transactions statelessly than 
protection against relaying. (which is not very strong anyhow).

-jiri



--
Jiri Kuthan            http://iptel.org/~jiri/

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Mon Mar  3 10:54:18 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 846DB28C3A3;
	Mon,  3 Mar 2008 10:54:18 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -0.617
X-Spam-Level: 
X-Spam-Status: No, score=-0.617 tagged_above=-999 required=5
	tests=[AWL=-0.180, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id o5wWOKVOMRuv; Mon,  3 Mar 2008 10:54:13 -0800 (PST)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id CD79A3A6D8F;
	Mon,  3 Mar 2008 10:54:04 -0800 (PST)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id F12E03A6C37
	for <sip@core3.amsl.com>; Mon,  3 Mar 2008 10:54:02 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id rWm5xQiQVzca for <sip@core3.amsl.com>;
	Mon,  3 Mar 2008 10:53:57 -0800 (PST)
Received: from mail.iptel.org (smtp.iptel.org [213.192.59.67])
	by core3.amsl.com (Postfix) with ESMTP id 22FEB3A6E39
	for <sip@ietf.org>; Mon,  3 Mar 2008 10:53:11 -0800 (PST)
Received: from uk1lt10071.iptel.org (shell.iptel.org [213.192.59.74])
	by mail.iptel.org (Postfix) with ESMTP id 8A6B61819D7F
	for <sip@ietf.org>; Mon,  3 Mar 2008 19:53:01 +0100 (CET)
X-Mailer: QUALCOMM Windows Eudora Version 7.1.0.9
Date: Mon, 03 Mar 2008 19:52:43 +0100
To: sip@ietf.org
From: Jiri Kuthan <jiri@iptel.org>
Mime-Version: 1.0
Message-Id: <20080303185301.8A6B61819D7F@mail.iptel.org>
Subject: [Sip] keep-alive backwards compatibility in
 draft-ietf-sip-outbound-12.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

I'm just wondering if folks have been worried about the UACs that implement
the aforementioned I-D and talk to a proxy/UAS that doesn't do so?

It appears to me that mandating a reconnect on lacking PONG would lead
to quite heavy traffic.

(which is why without deeper knowledge of the history of this I-D, I would
be inclined to rely on TCP's keep-alive, which is in there)

-jiri



--
Jiri Kuthan            http://iptel.org/~jiri/

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Mon Mar  3 13:13:58 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id E3CB328C149;
	Mon,  3 Mar 2008 13:13:57 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -0.576
X-Spam-Level: 
X-Spam-Status: No, score=-0.576 tagged_above=-999 required=5
	tests=[AWL=-0.139, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id wh1TO+MNXeoi; Mon,  3 Mar 2008 13:13:56 -0800 (PST)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id C9D4328C17A;
	Mon,  3 Mar 2008 13:13:56 -0800 (PST)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id CE66928C149
	for <sip@core3.amsl.com>; Mon,  3 Mar 2008 13:13:55 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id LjmmREgYoXLJ for <sip@core3.amsl.com>;
	Mon,  3 Mar 2008 13:13:49 -0800 (PST)
Received: from QMTA10.westchester.pa.mail.comcast.net
	(qmta10.westchester.pa.mail.comcast.net [76.96.62.17])
	by core3.amsl.com (Postfix) with ESMTP id 79A9728C29D
	for <sip@ietf.org>; Mon,  3 Mar 2008 13:13:12 -0800 (PST)
Received: from OMTA08.westchester.pa.mail.comcast.net ([76.96.62.12])
	by QMTA10.westchester.pa.mail.comcast.net with comcast
	id wkm01Y0020Fqzac5A00K00; Mon, 03 Mar 2008 20:50:07 +0000
Received: from dragon.ariadne.com ([76.19.174.1])
	by OMTA08.westchester.pa.mail.comcast.net with comcast
	id wkqg1Y00T02AVH03U00000; Mon, 03 Mar 2008 20:50:41 +0000
X-Authority-Analysis: v=1.0 c=1 a=QIhr-27iAAAA:8 a=iA1oJad-2xNBdrxL4ckA:9
	a=v_TFGNmXEON-Y2AWHfYA:7 a=UDO01Fsi71P7OSutV41lxgG4XhAA:4
	a=8_LUWGXSymkA:10 a=8y7tGHue6YMA:10
Received: from dragon.ariadne.com (dragon.ariadne.com [127.0.0.1])
	by dragon.ariadne.com (8.12.8/8.12.8) with ESMTP id m23KoeMj028956
	for <sip@ietf.org>; Mon, 3 Mar 2008 15:50:40 -0500
Received: (from worley@localhost)
	by dragon.ariadne.com (8.12.8/8.12.8/Submit) id m23KoeVJ028952;
	Mon, 3 Mar 2008 15:50:40 -0500
Date: Mon, 3 Mar 2008 15:50:40 -0500
Message-Id: <200803032050.m23KoeVJ028952@dragon.ariadne.com>
To: sip@ietf.org
From: Dale.Worley@comcast.net
In-reply-to: <20080303183225.D04A35081A@romeo.rtfm.com>
	(ekr@networkresonance.com)
References: <20080303183225.D04A35081A@romeo.rtfm.com>
Subject: Re: [Sip] Question on subnot-etags
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
MIME-Version: 1.0
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

   From: Eric Rescorla <ekr@networkresonance.com>

   I'm sure I'm wading into a swamp here, but:

   Say I have a resource identified by URI http://www.example.org/X.

   1. Initially it has value A. I do a SUBSCRIBE and get value
      "A" and Etag 1
   2. I do a subsequent get and get "B" with Etag 2.
   3. I do a third get and get "A".

   Can the Etag in event 3 be 1?

If event 3 has exactly the same value as event 1, I don't see why not.

Dale
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Mon Mar  3 13:15:26 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 837B328C44A;
	Mon,  3 Mar 2008 13:15:26 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -0.587
X-Spam-Level: 
X-Spam-Status: No, score=-0.587 tagged_above=-999 required=5
	tests=[AWL=-0.150, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id o4bWfb1AExaS; Mon,  3 Mar 2008 13:15:20 -0800 (PST)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id D6D7928C17A;
	Mon,  3 Mar 2008 13:15:20 -0800 (PST)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id DF2F528C26A
	for <sip@core3.amsl.com>; Mon,  3 Mar 2008 13:15:18 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id Q36jev2aYJdp for <sip@core3.amsl.com>;
	Mon,  3 Mar 2008 13:15:13 -0800 (PST)
Received: from nylon.softarmor.com (nylon.softarmor.com [66.135.38.164])
	by core3.amsl.com (Postfix) with ESMTP id 2B06B28C267
	for <sip@ietf.org>; Mon,  3 Mar 2008 13:15:13 -0800 (PST)
Received: from [192.168.2.100] (cpe-76-185-142-113.tx.res.rr.com
	[76.185.142.113] (may be forged)) (authenticated bits=0)
	by nylon.softarmor.com (8.13.8/8.13.8/Debian-3) with ESMTP id
	m23LF2IJ021935
	(version=TLSv1/SSLv3 cipher=AES128-SHA bits=128 verify=NOT);
	Mon, 3 Mar 2008 15:15:03 -0600
Message-Id: <DFF12FC8-56D9-40A6-9352-176697A3C24B@softarmor.com>
From: Dean Willis <dean.willis@softarmor.com>
To: Eric Rescorla <ekr@networkresonance.com>
In-Reply-To: <20080303183225.D04A35081A@romeo.rtfm.com>
Mime-Version: 1.0 (Apple Message framework v919.2)
Date: Mon, 3 Mar 2008 15:14:56 -0600
References: <20080303183225.D04A35081A@romeo.rtfm.com>
X-Mailer: Apple Mail (2.919.2)
Cc: sip@ietf.org
Subject: Re: [Sip] Question on subnot-etags
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


On Mar 3, 2008, at 12:32 PM, Eric Rescorla wrote:

> I'm sure I'm wading into a swamp here, but:
>
> Say I have a resource identified by URI http://www.example.org/X.
>
> 1. Initially it has value A. I do a SUBSCRIBE and get value
>   "A" and Etag 1
> 2. I do a subsequent get and get "B" with Etag 2.
> 3. I do a third get and get "A".
>
> Can the Etag in event 3 be 1?

I would think not -- it would need to be "3". Otherwise we have a  
synch failure.

--
Dean



_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Mon Mar  3 13:21:34 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 1624F28C4AB;
	Mon,  3 Mar 2008 13:21:34 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -0.564
X-Spam-Level: 
X-Spam-Status: No, score=-0.564 tagged_above=-999 required=5
	tests=[AWL=-0.127, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id hGLsT3MInJOB; Mon,  3 Mar 2008 13:21:28 -0800 (PST)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 83B193A68FD;
	Mon,  3 Mar 2008 13:21:28 -0800 (PST)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id EC69E3A68FD
	for <sip@core3.amsl.com>; Mon,  3 Mar 2008 13:21:26 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id NDMoqyD1O0hJ for <sip@core3.amsl.com>;
	Mon,  3 Mar 2008 13:21:21 -0800 (PST)
Received: from QMTA06.emeryville.ca.mail.comcast.net
	(qmta06.emeryville.ca.mail.comcast.net [76.96.30.56])
	by core3.amsl.com (Postfix) with ESMTP id A61123A6780
	for <sip@ietf.org>; Mon,  3 Mar 2008 13:21:21 -0800 (PST)
Received: from OMTA13.emeryville.ca.mail.comcast.net ([76.96.30.52])
	by QMTA06.emeryville.ca.mail.comcast.net with comcast
	id wlJS1Y00217UAYkA600600; Mon, 03 Mar 2008 21:20:37 +0000
Received: from dragon.ariadne.com ([76.19.174.1])
	by OMTA13.emeryville.ca.mail.comcast.net with comcast
	id wlM11Y00502AVH08Z00000; Mon, 03 Mar 2008 21:21:02 +0000
X-Authority-Analysis: v=1.0 c=1 a=oytTT00CpwlA7jlM4wgA:9
	a=RXlInWdfkXvNoRWKL2O6nBPb768A:4 a=3FZX-ydVlcEA:10 a=8y7tGHue6YMA:10
Received: from dragon.ariadne.com (dragon.ariadne.com [127.0.0.1])
	by dragon.ariadne.com (8.12.8/8.12.8) with ESMTP id m23LL0Mj031199
	for <sip@ietf.org>; Mon, 3 Mar 2008 16:21:00 -0500
Received: (from worley@localhost)
	by dragon.ariadne.com (8.12.8/8.12.8/Submit) id m23LL0jI031195;
	Mon, 3 Mar 2008 16:21:00 -0500
Date: Mon, 3 Mar 2008 16:21:00 -0500
Message-Id: <200803032121.m23LL0jI031195@dragon.ariadne.com>
To: sip@ietf.org
From: Dale.Worley@comcast.net
In-reply-to: <5D1A7985295922448D5550C94DE2918001CB053E@DEEXC1U01.de.lucent.com>
	(drage@alcatel-lucent.com)
References: <5D1A7985295922448D5550C94DE2918001CB053E@DEEXC1U01.de.lucent.com>
Subject: Re: [Sip] draft-ietf-sip-body-handling-01
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
MIME-Version: 1.0
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

   From: "DRAGE, Keith \(Keith\)" <drage@alcatel-lucent.com>

   Now would be a good time to speak if you think that there are open
   issues that need to be addressed in this draft, as these are all meant
   to be closed before WGLC.

I don't know if this is an open issue, but it does appear that (with
the features we are including) determining if a body can be
successfully processed is an NP-complete problem.  I suppose that the
processing time isn't such a problem (as only pathological cases will
take exponential time), but it indicates that any straightforward
algorithm to determine how to process a body will have to be able to
backtrack and retry previously made decisiions, which adds quite a bit
of complexity.

Dale
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Mon Mar  3 13:25:24 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 095DD3A6CED;
	Mon,  3 Mar 2008 13:25:24 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -0.795
X-Spam-Level: 
X-Spam-Status: No, score=-0.795 tagged_above=-999 required=5
	tests=[AWL=-0.358, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id NBODpMC8TXBd; Mon,  3 Mar 2008 13:25:18 -0800 (PST)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 449E23A6B91;
	Mon,  3 Mar 2008 13:25:18 -0800 (PST)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id E310A28C172
	for <sip@core3.amsl.com>; Mon,  3 Mar 2008 13:25:14 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id lx2-fp2Voshd for <sip@core3.amsl.com>;
	Mon,  3 Mar 2008 13:25:09 -0800 (PST)
Received: from mailgw3.ericsson.se (mailgw3.ericsson.se [193.180.251.60])
	by core3.amsl.com (Postfix) with ESMTP id A70E528C176
	for <sip@ietf.org>; Mon,  3 Mar 2008 13:24:07 -0800 (PST)
Received: from mailgw3.ericsson.se (unknown [127.0.0.1])
	by mailgw3.ericsson.se (Symantec Mail Security) with ESMTP id
	5ACA020EBD; Mon,  3 Mar 2008 22:23:57 +0100 (CET)
X-AuditID: c1b4fb3c-ae0bbbb000007e19-91-47cc6c6dd793
Received: from esealmw128.eemea.ericsson.se (unknown [153.88.254.121])
	by mailgw3.ericsson.se (Symantec Mail Security) with ESMTP id
	34C33205C3; Mon,  3 Mar 2008 22:23:57 +0100 (CET)
Received: from esealmw113.eemea.ericsson.se ([153.88.200.4]) by
	esealmw128.eemea.ericsson.se with Microsoft SMTPSVC(6.0.3790.1830); 
	Mon, 3 Mar 2008 22:23:56 +0100
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Mon, 3 Mar 2008 22:23:56 +0100
Message-ID: <CA9998CD4A020D418654FCDEF4E707DF04E197AF@esealmw113.eemea.ericsson.se>
In-Reply-To: <47CC2D56.7010803@cisco.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] Contact header in 1xx responses/updates remote target or
	not?
thread-index: Ach9UHBunByj/BjRTIuVRGv/UZCrTwAJCOmA
References: <F86B91A10B14744E88408E80B8A30EF302B3B006@xmb-hkg-412.apac.cisco.com>	<47C6F37B.7010609@cisco.com><200803010326.m213QuF8026325@dragon.ariadne.com>
	<47CC2D56.7010803@cisco.com>
From: "Christer Holmberg" <christer.holmberg@ericsson.com>
To: "Paul Kyzivat" <pkyzivat@cisco.com>,
	<Dale.Worley@comcast.net>
X-OriginalArrivalTime: 03 Mar 2008 21:23:56.0844 (UTC)
	FILETIME=[E39CC6C0:01C87D74]
X-Brightmail-Tracker: AAAAAA==
Cc: sip@ietf.org
Subject: Re: [Sip] Contact header in 1xx responses/updates remote target or
	not?
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


Hi,

I don't understand what "dialog without state is" either. The Contact is
part of the dialog identifier, so if there ain't no Contact there ain't
no dialog :)

Regards,

Chrrister 

> -----Original Message-----
> From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On 
> Behalf Of Paul Kyzivat
> Sent: 3. maaliskuuta 2008 18:55
> To: Dale.Worley@comcast.net
> Cc: sip@ietf.org
> Subject: Re: [Sip] Contact header in 1xx responses/updates 
> remote target or not?
> 
> 
> 
> Dale.Worley@comcast.net wrote:
> >    From: Paul Kyzivat <pkyzivat@cisco.com>
> > 
> >    A 1xx that establishes an early dialog must contain a 
> contact or else 
> >    you really don't have a dialog. I think it is ambiguous whether:
> > 
> >    - the first 1xx with a particular to-tag *does* 
> establish an early
> >       dialog and so *must* contain a contact,
> > 
> >    - OR a 1xx with a new to-tag, but without a contact, 
> simply doesn't
> >       establish a dialog, but is legal.
> > 
> >    I would split the difference and say that the UAS MUST 
> include a contact 
> >    in the first 1xx it returns with a particular to-tag, 
> but a UAC should 
> >    accept a 1xx with new to-tag and without a contact and 
> simply treat it 
> >    as not establishing an early dialog. (Don't establish 
> the dialog until 
> >    you get enough info to do so.)
> > 
> > I'd say that it does create a dialog, but it's an anomalous 
> dialog in 
> > that you can't send any requests to it.  (Though it's unlikely that 
> > you'd want to.)  But you might well get a final response from the 
> > dialog, and you could get media from it.
> > 
> > I think it's the fact that the UAC is unlikely to send a 
> request until 
> > the dialog becomes confirmed is why we haven't worried 
> about this case 
> > much.
> 
> What is so unlikely about this?
> 
> The UAC may want to send BYE (as opposed to CANCEL) because 
> it doesn't want *this* one.
> 
> The Contact is one of the attributes of dialog state. AFAIK 
> we don't have the notion of a dialog that exists but for 
> which some state is unknown.
> 
> Its really a matter of which poison you want here.
> 
> 	Paul
> _______________________________________________
> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol Use 
> sip-implementors@cs.columbia.edu for questions on current sip 
> Use sipping@ietf.org for new developments on the application of sip
> 
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Mon Mar  3 13:29:03 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id E149E28C44E;
	Mon,  3 Mar 2008 13:29:03 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -0.587
X-Spam-Level: 
X-Spam-Status: No, score=-0.587 tagged_above=-999 required=5
	tests=[AWL=-0.150, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id LNMRJU1lH69v; Mon,  3 Mar 2008 13:28:58 -0800 (PST)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 18B1528C172;
	Mon,  3 Mar 2008 13:28:58 -0800 (PST)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 875C23A6ADD
	for <sip@core3.amsl.com>; Mon,  3 Mar 2008 13:28:56 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id f8ziLlQIDAQl for <sip@core3.amsl.com>;
	Mon,  3 Mar 2008 13:28:55 -0800 (PST)
Received: from nylon.softarmor.com (nylon.softarmor.com [66.135.38.164])
	by core3.amsl.com (Postfix) with ESMTP id AC19C3A6A48
	for <sip@ietf.org>; Mon,  3 Mar 2008 13:28:55 -0800 (PST)
Received: from [192.168.2.100] (cpe-76-185-142-113.tx.res.rr.com
	[76.185.142.113] (may be forged)) (authenticated bits=0)
	by nylon.softarmor.com (8.13.8/8.13.8/Debian-3) with ESMTP id
	m23LSj0Z022084
	(version=TLSv1/SSLv3 cipher=AES128-SHA bits=128 verify=NOT)
	for <sip@ietf.org>; Mon, 3 Mar 2008 15:28:46 -0600
Message-Id: <ED265DB0-6BEC-4283-BA08-DC952E56BE12@softarmor.com>
From: Dean Willis <dean.willis@softarmor.com>
To: IETF SIP List <sip@ietf.org>
Mime-Version: 1.0 (Apple Message framework v919.2)
Date: Mon, 3 Mar 2008 15:28:39 -0600
X-Mailer: Apple Mail (2.919.2)
Subject: [Sip] Thoughts on MEDIACTRL and the future of SIP
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


We've recently been discussing on-list the relationship between SIP,  
MEDICATRL, and possible architectural decisions about the  
extensibility model for SIP that probably should have been made long  
ago but weren't.

Following a call today with the SIP, SIPPING, and MEDIACTRL chairs and  
AD Cullen Jennings, I have a proposal I'd like to make.

SIP needs to make some decisions about the extensibility model. I  
personally suspect we're going to find we have a cases where new SIP  
request types are needed, cases where new SIP header fields and values  
are needed, cases where we need to use events, cases where we need to  
use INFO, and cases where we need to convey stuff in a negotiated  
session using some sort of session/transport protocol. And we're going  
to need to give clear guidance about differentiating those cases to  
the developers of future specifications.

If we come to this agreement, then we're going to have a second  
question related to the session/transport protocol. Do we always use  
application-specific protocols (MSRP, MEDIACTRL control channel, etc.)  
or do we gain value by offering a multipurpose session/transport  
protocol that leverages SIP's negotiation mechanism (like TOTE).

I expect that it will take a while to reach consensus here, and that  
if we decide to pursue a multipurpose session/transport protocol that  
the work of specifying it will be outside of the SIP working group. We  
might have a responsibility to feed in requirements and clear  
architectural guidance.

Given that this will probably take more than a meeting cycle or two,  
and that none of us can see any way that MEDIACTRL as currently  
specified would "break" any of the potential future directions (after  
all, we can already negotiate lots of different session types), I see  
no reason to block MEDIACTRL from proceeding. Further, our assigned  
expert reviewer, Paul Kyzivat, found nothing in MEDIACTRL that raised  
an issue (outside of the architectural principles for SIP) that  
required consideration in the SIP working group.

Once we get our house in order, and if we decide to recommend a  
multipurpose session/transport protocol approach and somebody has  
specified it, then I can see a future version of MEDIACTRL possibly  
running on that protocol.

What do you folks think?

--
Dean Willis
SIP co-chair



_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Mon Mar  3 13:38:06 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 9A47028C3E7;
	Mon,  3 Mar 2008 13:38:06 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -0.563
X-Spam-Level: 
X-Spam-Status: No, score=-0.563 tagged_above=-999 required=5
	tests=[AWL=-0.126, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id MHLqKqr7UThq; Mon,  3 Mar 2008 13:38:00 -0800 (PST)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id CC0543A6CDC;
	Mon,  3 Mar 2008 13:38:00 -0800 (PST)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id A41BD3A6C5C
	for <sip@core3.amsl.com>; Mon,  3 Mar 2008 13:37:59 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id RBhf6knqCGoE for <sip@core3.amsl.com>;
	Mon,  3 Mar 2008 13:37:58 -0800 (PST)
Received: from QMTA09.westchester.pa.mail.comcast.net
	(qmta09.westchester.pa.mail.comcast.net [76.96.62.96])
	by core3.amsl.com (Postfix) with ESMTP id 446C43A6D10
	for <sip@ietf.org>; Mon,  3 Mar 2008 13:37:52 -0800 (PST)
Received: from OMTA10.westchester.pa.mail.comcast.net ([76.96.62.28])
	by QMTA09.westchester.pa.mail.comcast.net with comcast
	id wkgi1Y00L0cZkys5905L00; Mon, 03 Mar 2008 21:36:41 +0000
Received: from dragon.ariadne.com ([76.19.174.1])
	by OMTA10.westchester.pa.mail.comcast.net with comcast
	id wldh1Y00L02AVH03W00000; Mon, 03 Mar 2008 21:37:41 +0000
X-Authority-Analysis: v=1.0 c=1 a=R1moKveJymij1MvJ5QcA:9
	a=b8Mncpvej-D0jhCxZ5EA:7 a=qlV1lU9Ori_S_rga2Di6qPxWDagA:4
	a=1pxjJC3EenQA:10
	a=lZB815dzVvQA:10 a=CDGxlOTZlHAA:10 a=GDpXhxC-ij4A:10 a=Bh2WEHcu4jIA:10
	a=8y7tGHue6YMA:10
Received: from dragon.ariadne.com (dragon.ariadne.com [127.0.0.1])
	by dragon.ariadne.com (8.12.8/8.12.8) with ESMTP id m23LbfMj032422
	for <sip@ietf.org>; Mon, 3 Mar 2008 16:37:41 -0500
Received: (from worley@localhost)
	by dragon.ariadne.com (8.12.8/8.12.8/Submit) id m23LbfTd032418;
	Mon, 3 Mar 2008 16:37:41 -0500
Date: Mon, 3 Mar 2008 16:37:41 -0500
Message-Id: <200803032137.m23LbfTd032418@dragon.ariadne.com>
To: sip@ietf.org
From: Dale.Worley@comcast.net
In-reply-to: <1204465324.1597.30.camel@localhost> (aki.niemi@nokia.com)
References: <5D1A7985295922448D5550C94DE2918001636AF1@DEEXC1U01.de.lucent.com>
	<200709181506.l8IF6Bmp007748@dragon.ariadne.com>
	<1203976392.6192.88.camel@localhost>
	<200802262131.m1QLV7Rm008476@dragon.ariadne.com>
	<1204099738.16881.21.camel@localhost>
	<200803010308.m2138gWu024969@dragon.ariadne.com>
	<1204465324.1597.30.camel@localhost>
Subject: Re: [Sip] WGLC for draft-ietf-sip-subnot-etags-01
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
MIME-Version: 1.0
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

   From: Aki Niemi <aki.niemi@nokia.com>

   On pe, 2008-02-29 at 22:08 -0500, ext sip-bounces@ietf.org wrote:
   >    Then that's bad. How does the notifier then know which PIDF to pick in
   >    presence subscriptions?
   > 
   > Especially if it's not a presence subscription.  But seriously, is
   > this proposal confined to presence events?  I see no such text.

   Of course it is not. But clearly presence won't work correctly, if the
   notifier doesn't know which URIs route to it, i.e., which resources it
   is responsible for. I assume this to be the case for most applications
   of SIP events. Can you give an example of a currently specified event
   package that doesn't require this?

In all the cases I'm aware of, the notifier determines the resource in
question by examining the request-URI.  This certainly seems to be the
case when phones are generating dialog events.  A solution to the
"proxy loose-routing problem" would improve the results by giving the
notifier more information on the intentions of the subscriber.

   > In general, a SUBSCRIBE will fork, and the subscriber presumably knows
   > how it wants to integrate the events it will receive from the various
   > subscriptions, based on the semantics of its situation.

   Then presumably the semantics of the situation will also describe how
   entity-tags are handled? Especially if they are not all of the same
   value in the different dialogs.

The problem isn't combining entity-tags from different subscriptions
created by a single SUBSCRIBE, since the NOTIFYs can be differentiated
by which subscription they are part of.  The problem is when
establishing a later subscription, how to correlate (or not) the
entity-tags from the later subscription with those from the earlier
subscription.

Unfortunately, the safe assumption is to consider the entity-tags to
be non-matching between the different subscriptions, but that violates
the requirement for which the mechanism was defined -- the ability to
avoid re-sending values in later subscriptions that were already sent
in earlier subscriptions.

   >    I agree this kind of setup presents a problem. But I also think that
   >    what we're dealing with here is not that different from the web world.
   >    There are a lot of load balancing schemes that can be used with HTTP,
   >    which result in a GET ending up in different data centers in different
   >    parts of the world at different times.
   > 
   >    What's important to note there is that if the service that is accessed
   >    via this GET needs sessions and gives out cookies, then the backend
   >    system needs to be synchronized. Otherwise, the servers will be unaware
   >    of each others cookies, and the service won't work correctly.
   > 
   >    Similarly, the backend to the SIP notifiers needs a synchronized
   >    backend, otherwise, subnot-etags won't work.  Naturally, the etags just
   >    like cookies can be constructed in such a way that they contain the
   >    necessary state.
   > 
   > There's a hidden philosophical problem:  People think of SIP routing
   > as being like PSTN routing, where the caller sends the call to a
   > number which designates one destination, or at least, a single device
   > which has total knowledge of a small number of possible destinations.
   > The caller knows the globally-recongized *name* of the
   > destination-group, and every destination knows of and is coordinated
   > with *every other possible destination*.
   > 
   > Your HTTP model is similar; you assume the request will reach one of a
   > set of servers that are co-adminstered.
   > 
   > But the reality is that SIP routing can be like sending e-mail to a
   > mailing list -- the sender doesn't know what the possible destinations
   > are, and each destination doesn't know what all the destinations are
   > either, because some of the routing can be done by agents that are not
   > co-administered with either the sender or the destination.

   What you are saying is similar to having sip@ietf.org route to multiple
   mailman instances, each of which has a different set of subscribed email
   addresses. But that's not how mailing lists work either.

What is interesting is the case where there is no central server that
knows all of the destinations, which implies that the destinations do
not all know each other.

In the case of mailing lists, one such structure would be for everyone
at my company to subscribe to a local redistribution, and the local
redistributor would have a single subscription to sip@ietf.org.  But a
friend of mine also wants the mail, so I program my workstation to
forward to him a copy of all the messages I'm sent.

A more realistic case would be along these lines:

I subscribe to a virtual phone service that provides me with an AOR,
worley@a.com.  This service routes all requests based on time-of-day
to either my desk phone at my job, worley@b.com, or my cell phone,
worley@c.com.

As expected, a presence subscription (or any other subscription) sent
to worley@a.com does the right thing, it routes to the phone that I am
present at at that time.  (There's a bit of a problem with
subscriptions that span the cutover between the two desitnations.)

If some UAC wants to do periodic polling-type SUBSCRIBEs of
worley@a.com, some times it will go to the UAS at worley@b.com, and
sometimes to the UAS at worley@c.com.  (Or to servers implementing the
events on their behalf.)

The entity-tags chosen by worley@b.com and by worley@c.com are (by
hypothesis) uncoordinated with each other, and there is some risk that
the previous value from one server will be different from the current
value from the other server, but the two will happen to assign the
same entity-tags to those particular values.

Dale
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Mon Mar  3 13:45:57 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id B820428C172;
	Mon,  3 Mar 2008 13:45:57 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -0.572
X-Spam-Level: 
X-Spam-Status: No, score=-0.572 tagged_above=-999 required=5
	tests=[AWL=-0.135, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id JTBMNcjkvcPo; Mon,  3 Mar 2008 13:45:56 -0800 (PST)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id BA6163A6E16;
	Mon,  3 Mar 2008 13:45:56 -0800 (PST)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 9F2603A6E11
	for <sip@core3.amsl.com>; Mon,  3 Mar 2008 13:45:55 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id mgrq27sjDEjQ for <sip@core3.amsl.com>;
	Mon,  3 Mar 2008 13:45:50 -0800 (PST)
Received: from QMTA01.westchester.pa.mail.comcast.net
	(qmta01.westchester.pa.mail.comcast.net [76.96.62.16])
	by core3.amsl.com (Postfix) with ESMTP id 465F83A6961
	for <sip@ietf.org>; Mon,  3 Mar 2008 13:45:49 -0800 (PST)
Received: from OMTA09.westchester.pa.mail.comcast.net ([76.96.62.20])
	by QMTA01.westchester.pa.mail.comcast.net with comcast
	id wlSe1Y00F0SCNGk5100U00; Mon, 03 Mar 2008 21:45:11 +0000
Received: from dragon.ariadne.com ([76.19.174.1])
	by OMTA09.westchester.pa.mail.comcast.net with comcast
	id wllb1Y00D02AVH03V00000; Mon, 03 Mar 2008 21:45:35 +0000
X-Authority-Analysis: v=1.0 c=1 a=Eb1q2IcLDU9TBzEJlQgA:9
	a=m5fUAAhMH3DQ5yDE--PrdAeHtpsA:4 a=mnQxEUBslVAA:10 a=8y7tGHue6YMA:10
Received: from dragon.ariadne.com (dragon.ariadne.com [127.0.0.1])
	by dragon.ariadne.com (8.12.8/8.12.8) with ESMTP id m23LjZMj000551
	for <sip@ietf.org>; Mon, 3 Mar 2008 16:45:35 -0500
Received: (from worley@localhost)
	by dragon.ariadne.com (8.12.8/8.12.8/Submit) id m23LjZ2q000547;
	Mon, 3 Mar 2008 16:45:35 -0500
Date: Mon, 3 Mar 2008 16:45:35 -0500
Message-Id: <200803032145.m23LjZ2q000547@dragon.ariadne.com>
To: sip@ietf.org
From: Dale.Worley@comcast.net
In-reply-to: <6CBA6241-389B-493E-8B16-AD51704CC104@softarmor.com>
	(dean.willis@softarmor.com)
References: <5D1A7985295922448D5550C94DE2918001636AF1@DEEXC1U01.de.lucent.com>
	<200709181506.l8IF6Bmp007748@dragon.ariadne.com>
	<1203976392.6192.88.camel@localhost>
	<200802262131.m1QLV7Rm008476@dragon.ariadne.com>
	<1204099738.16881.21.camel@localhost>
	<200803010308.m2138gWu024969@dragon.ariadne.com>
	<1204465324.1597.30.camel@localhost>
	<6CBA6241-389B-493E-8B16-AD51704CC104@softarmor.com>
Subject: Re: [Sip] WGLC for draft-ietf-sip-subnot-etags-01
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
MIME-Version: 1.0
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

   From: Dean Willis <dean.willis@softarmor.com>

   I have yet to figure out how a multiuser UA  (including an event  
   server) is supposed to function if:

   1) The To: field does not indicate the user being targeted, which  
   happens if a UAC-side proxy retargets, as in the case of a speed-dial  
   service, and

   2) The request-URI does not indicate the user being targeted, which  
   happens in many cases including when the UAS-side proxy does contact- 
   routing AND the user-part of the contact isn't differentiated per- 
   user. It also occurs with some load-balancers. That's part of why we  
   don't specify bulk registration in RFC 3261, but instead recommend  
   using routing table entries.

This has been a known problem for ages -- a UA should register
different contacts for different AORs, so when a request comes in it
knows which AOR (which "line appearance") the request concerns.  I
wrote this in Oct. 2005 (draft-worley-sip-gruu-implement-00), and it
was old information then:

   As detailed below, when responding to requests, the UA should use the
   GRUU associated with the AOR through which the request was routed to
   the UA.  In order to ensure that the UA can determine this, it should
   register distinct URIs for each AOR it services.  (The From header
   may contain a different AOR which was routed to one of the UA's AORs,
   and so can not be depended on to provide the AOR through which the
   request was routed to the UA.)

      Guideline: The UA should register distinct URIs for each AOR it
      services.  (Note that it is not sufficient to generate from each
      AOR a contact 'sip:{user-part}@{IP-address}', since it is common
      for a UA to service two AORs with the same user part in different
      domains.)

Dale
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Mon Mar  3 16:06:38 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 24BB928C26A;
	Mon,  3 Mar 2008 16:06:38 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -1.905
X-Spam-Level: 
X-Spam-Status: No, score=-1.905 tagged_above=-999 required=5
	tests=[AWL=-1.468, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id Na6HC6EBVVk4; Mon,  3 Mar 2008 16:06:32 -0800 (PST)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 902F53A67DF;
	Mon,  3 Mar 2008 16:06:32 -0800 (PST)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 272CB3A6780
	for <sip@core3.amsl.com>; Mon,  3 Mar 2008 16:06:31 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id OgKQLwHtQfeW for <sip@core3.amsl.com>;
	Mon,  3 Mar 2008 16:06:29 -0800 (PST)
Received: from rtp-iport-1.cisco.com (rtp-iport-1.cisco.com [64.102.122.148])
	by core3.amsl.com (Postfix) with ESMTP id A43563A67DF
	for <sip@ietf.org>; Mon,  3 Mar 2008 16:06:29 -0800 (PST)
X-IronPort-AV: E=Sophos;i="4.25,441,1199682000"; 
   d="scan'208";a="301737"
Received: from rtp-dkim-1.cisco.com ([64.102.121.158])
	by rtp-iport-1.cisco.com with ESMTP; 03 Mar 2008 19:06:20 -0500
Received: from rtp-core-2.cisco.com (rtp-core-2.cisco.com [64.102.124.13])
	by rtp-dkim-1.cisco.com (8.12.11/8.12.11) with ESMTP id m2406KaC005517; 
	Mon, 3 Mar 2008 19:06:20 -0500
Received: from xbh-rtp-201.amer.cisco.com (xbh-rtp-201.cisco.com
	[64.102.31.12])
	by rtp-core-2.cisco.com (8.12.10/8.12.6) with ESMTP id m2406KjP000098; 
	Tue, 4 Mar 2008 00:06:20 GMT
Received: from xfe-rtp-202.amer.cisco.com ([64.102.31.21]) by
	xbh-rtp-201.amer.cisco.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Mon, 3 Mar 2008 19:06:20 -0500
Received: from [161.44.174.168] ([161.44.174.168]) by
	xfe-rtp-202.amer.cisco.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Mon, 3 Mar 2008 19:06:19 -0500
Message-ID: <47CC928C.3090100@cisco.com>
Date: Mon, 03 Mar 2008 19:06:36 -0500
From: Paul Kyzivat <pkyzivat@cisco.com>
User-Agent: Thunderbird 2.0.0.12 (Windows/20080213)
MIME-Version: 1.0
To: Dale.Worley@comcast.net
References: <5D1A7985295922448D5550C94DE2918001CB053E@DEEXC1U01.de.lucent.com>
	<200803032121.m23LL0jI031195@dragon.ariadne.com>
In-Reply-To: <200803032121.m23LL0jI031195@dragon.ariadne.com>
X-OriginalArrivalTime: 04 Mar 2008 00:06:19.0765 (UTC)
	FILETIME=[92D88A50:01C87D8B]
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; l=1212; t=1204589180;
	x=1205453180; c=relaxed/simple; s=rtpdkim1001;
	h=Content-Type:From:Subject:Content-Transfer-Encoding:MIME-Version;
	d=cisco.com; i=pkyzivat@cisco.com;
	z=From:=20Paul=20Kyzivat=20<pkyzivat@cisco.com>
	|Subject:=20Re=3A=20[Sip]=20draft-ietf-sip-body-handling-01
	|Sender:=20 |To:=20Dale.Worley@comcast.net;
	bh=Gq0ina+Dr/cB1I/4XYOTYRk4RCJdecAyOWCh9qztUEk=;
	b=gE7RvEjqvA5asnturMOgVqYcJO3oiV8OBZL8kTpNuXkj6RLm3+T++zOf6R
	sdW5xca8TAJaY630bS12ad5rqPbKNnkIIReMZFwltJZQMm+AeB9xu4BhcVa7
	1DrAfIddMc;
Authentication-Results: rtp-dkim-1; header.From=pkyzivat@cisco.com; dkim=pass (
	sig from cisco.com/rtpdkim1001 verified; ); 
Cc: sip@ietf.org
Subject: Re: [Sip] draft-ietf-sip-body-handling-01
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Dale,

Can you explain more about how you reached this conclusion?

	Paul

Dale.Worley@comcast.net wrote:
>    From: "DRAGE, Keith \(Keith\)" <drage@alcatel-lucent.com>
> 
>    Now would be a good time to speak if you think that there are open
>    issues that need to be addressed in this draft, as these are all meant
>    to be closed before WGLC.
> 
> I don't know if this is an open issue, but it does appear that (with
> the features we are including) determining if a body can be
> successfully processed is an NP-complete problem.  I suppose that the
> processing time isn't such a problem (as only pathological cases will
> take exponential time), but it indicates that any straightforward
> algorithm to determine how to process a body will have to be able to
> backtrack and retry previously made decisiions, which adds quite a bit
> of complexity.
> 
> Dale
> _______________________________________________
> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
> 
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Mon Mar  3 16:08:57 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 143793A6A5E;
	Mon,  3 Mar 2008 16:08:57 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -1.898
X-Spam-Level: 
X-Spam-Status: No, score=-1.898 tagged_above=-999 required=5
	tests=[AWL=-1.461, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 0gTF+-hNjU+0; Mon,  3 Mar 2008 16:08:56 -0800 (PST)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id E917E28C174;
	Mon,  3 Mar 2008 16:08:55 -0800 (PST)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 0EEE73A6996
	for <sip@core3.amsl.com>; Mon,  3 Mar 2008 16:08:55 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id Qw-ufcsjiE4k for <sip@core3.amsl.com>;
	Mon,  3 Mar 2008 16:08:49 -0800 (PST)
Received: from rtp-iport-2.cisco.com (rtp-iport-2.cisco.com [64.102.122.149])
	by core3.amsl.com (Postfix) with ESMTP id 1EC6C28C267
	for <sip@ietf.org>; Mon,  3 Mar 2008 16:08:09 -0800 (PST)
X-IronPort-AV: E=Sophos;i="4.25,441,1199682000"; 
   d="scan'208";a="297314"
Received: from rtp-dkim-1.cisco.com ([64.102.121.158])
	by rtp-iport-2.cisco.com with ESMTP; 03 Mar 2008 19:08:00 -0500
Received: from rtp-core-1.cisco.com (rtp-core-1.cisco.com [64.102.124.12])
	by rtp-dkim-1.cisco.com (8.12.11/8.12.11) with ESMTP id m24080M1006052; 
	Mon, 3 Mar 2008 19:08:00 -0500
Received: from xbh-rtp-201.amer.cisco.com (xbh-rtp-201.cisco.com
	[64.102.31.12])
	by rtp-core-1.cisco.com (8.12.10/8.12.6) with ESMTP id m2407xaR008335; 
	Tue, 4 Mar 2008 00:07:59 GMT
Received: from xfe-rtp-201.amer.cisco.com ([64.102.31.38]) by
	xbh-rtp-201.amer.cisco.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Mon, 3 Mar 2008 19:07:59 -0500
Received: from [161.44.174.168] ([161.44.174.168]) by
	xfe-rtp-201.amer.cisco.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Mon, 3 Mar 2008 19:07:59 -0500
Message-ID: <47CC92F0.4030103@cisco.com>
Date: Mon, 03 Mar 2008 19:08:16 -0500
From: Paul Kyzivat <pkyzivat@cisco.com>
User-Agent: Thunderbird 2.0.0.12 (Windows/20080213)
MIME-Version: 1.0
To: Christer Holmberg <christer.holmberg@ericsson.com>
References: <F86B91A10B14744E88408E80B8A30EF302B3B006@xmb-hkg-412.apac.cisco.com>	<47C6F37B.7010609@cisco.com><200803010326.m213QuF8026325@dragon.ariadne.com>
	<47CC2D56.7010803@cisco.com>
	<CA9998CD4A020D418654FCDEF4E707DF04E197AF@esealmw113.eemea.ericsson.se>
In-Reply-To: <CA9998CD4A020D418654FCDEF4E707DF04E197AF@esealmw113.eemea.ericsson.se>
X-OriginalArrivalTime: 04 Mar 2008 00:07:59.0585 (UTC)
	FILETIME=[CE57DD10:01C87D8B]
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; l=2793; t=1204589280;
	x=1205453280; c=relaxed/simple; s=rtpdkim1001;
	h=Content-Type:From:Subject:Content-Transfer-Encoding:MIME-Version;
	d=cisco.com; i=pkyzivat@cisco.com;
	z=From:=20Paul=20Kyzivat=20<pkyzivat@cisco.com>
	|Subject:=20Re=3A=20[Sip]=20Contact=20header=20in=201xx=20r
	esponses/updates=20remote=20target=20or=0A=20not? |Sender:=20
	|To:=20Christer=20Holmberg=20<christer.holmberg@ericsson.co m>;
	bh=omKMp3uMbAoalTM9wvq48vPWc8/H2K10jndb1Z8kS1o=;
	b=S9yRLLHtMx2WGeqA2kiz0zKda5QbpdCtx9S7nA356eWTgKsvggFmzh+aU/
	96bw4IdW+ZzLPaMNr5+H2gg3KT033iXhSQ3VRp8/v0QjCN/NKmUqkMuvqKbf
	UdDmo8S8h7;
Authentication-Results: rtp-dkim-1; header.From=pkyzivat@cisco.com; dkim=pass (
	sig from cisco.com/rtpdkim1001 verified; ); 
Cc: sip@ietf.org
Subject: Re: [Sip] Contact header in 1xx responses/updates remote target or
 not?
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org



Christer Holmberg wrote:
> Hi,
> 
> I don't understand what "dialog without state is" either. The Contact is
> part of the dialog identifier, so if there ain't no Contact there ain't
> no dialog :)

Its not part of the dialog-id. That consists of the Call-ID, from-tag 
and to-tag.

But still it is a part of the basic dialog state, along with the route-set.

	Paul

> Regards,
> 
> Chrrister 
> 
>> -----Original Message-----
>> From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On 
>> Behalf Of Paul Kyzivat
>> Sent: 3. maaliskuuta 2008 18:55
>> To: Dale.Worley@comcast.net
>> Cc: sip@ietf.org
>> Subject: Re: [Sip] Contact header in 1xx responses/updates 
>> remote target or not?
>>
>>
>>
>> Dale.Worley@comcast.net wrote:
>>>    From: Paul Kyzivat <pkyzivat@cisco.com>
>>>
>>>    A 1xx that establishes an early dialog must contain a 
>> contact or else 
>>>    you really don't have a dialog. I think it is ambiguous whether:
>>>
>>>    - the first 1xx with a particular to-tag *does* 
>> establish an early
>>>       dialog and so *must* contain a contact,
>>>
>>>    - OR a 1xx with a new to-tag, but without a contact, 
>> simply doesn't
>>>       establish a dialog, but is legal.
>>>
>>>    I would split the difference and say that the UAS MUST 
>> include a contact 
>>>    in the first 1xx it returns with a particular to-tag, 
>> but a UAC should 
>>>    accept a 1xx with new to-tag and without a contact and 
>> simply treat it 
>>>    as not establishing an early dialog. (Don't establish 
>> the dialog until 
>>>    you get enough info to do so.)
>>>
>>> I'd say that it does create a dialog, but it's an anomalous 
>> dialog in 
>>> that you can't send any requests to it.  (Though it's unlikely that 
>>> you'd want to.)  But you might well get a final response from the 
>>> dialog, and you could get media from it.
>>>
>>> I think it's the fact that the UAC is unlikely to send a 
>> request until 
>>> the dialog becomes confirmed is why we haven't worried 
>> about this case 
>>> much.
>> What is so unlikely about this?
>>
>> The UAC may want to send BYE (as opposed to CANCEL) because 
>> it doesn't want *this* one.
>>
>> The Contact is one of the attributes of dialog state. AFAIK 
>> we don't have the notion of a dialog that exists but for 
>> which some state is unknown.
>>
>> Its really a matter of which poison you want here.
>>
>> 	Paul
>> _______________________________________________
>> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
>> This list is for NEW development of the core SIP Protocol Use 
>> sip-implementors@cs.columbia.edu for questions on current sip 
>> Use sipping@ietf.org for new developments on the application of sip
>>
> 
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Mon Mar  3 18:24:12 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id DEEAC3A69D8;
	Mon,  3 Mar 2008 18:24:12 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: 0.085
X-Spam-Level: 
X-Spam-Status: No, score=0.085 tagged_above=-999 required=5 tests=[AWL=-0.078,
	BAYES_00=-2.599, FH_RELAY_NODNS=1.451, HELO_MISMATCH_ORG=0.611,
	J_CHICKENPOX_65=0.6, RDNS_NONE=0.1]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id ZsZaFGYxOm2o; Mon,  3 Mar 2008 18:24:07 -0800 (PST)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 0B04A28C296;
	Mon,  3 Mar 2008 18:24:07 -0800 (PST)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 94D8A28C18D
	for <sip@core3.amsl.com>; Mon,  3 Mar 2008 18:24:04 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id cNwjNdYoUxxE for <sip@core3.amsl.com>;
	Mon,  3 Mar 2008 18:24:03 -0800 (PST)
Received: from ind-iport-1.cisco.com (ind-iport-1.cisco.com [64.104.129.195])
	by core3.amsl.com (Postfix) with ESMTP id 55A1128C35C
	for <sip@ietf.org>; Mon,  3 Mar 2008 18:23:08 -0800 (PST)
X-IronPort-AV: E=Sophos;i="4.25,441,1199644200"; d="scan'208";a="98851476"
Received: from hkg-dkim-2.cisco.com ([10.75.231.163])
	by ind-iport-1.cisco.com with ESMTP; 04 Mar 2008 07:52:57 +0530
Received: from hkg-core-1.cisco.com (hkg-core-1.cisco.com [64.104.123.94])
	by hkg-dkim-2.cisco.com (8.12.11/8.12.11) with ESMTP id m242Muhd031803; 
	Tue, 4 Mar 2008 10:22:56 +0800
Received: from xbh-hkg-412.apac.cisco.com (xbh-hkg-412.cisco.com
	[64.104.123.69])
	by hkg-core-1.cisco.com (8.13.8/8.13.8) with ESMTP id m242Mpr7022024;
	Tue, 4 Mar 2008 02:22:56 GMT
Received: from xmb-hkg-412.apac.cisco.com ([64.104.123.84]) by
	xbh-hkg-412.apac.cisco.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Tue, 4 Mar 2008 10:22:08 +0800
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Tue, 4 Mar 2008 10:22:59 +0800
Message-ID: <F86B91A10B14744E88408E80B8A30EF302B9E37F@xmb-hkg-412.apac.cisco.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] Contact header in 1xx responses/updates remote target or
	not?
Thread-Index: Ach6MfQ+3S5Y7/eVSX+Xy2Vl3VsJiwAEE/nwABNCQfAAw8kzIA==
References: <F86B91A10B14744E88408E80B8A30EF302B3B006@xmb-hkg-412.apac.cisco.com>
	<47C6F37B.7010609@cisco.com>
	<CA9998CD4A020D418654FCDEF4E707DF04D4A820@esealmw113.eemea.ericsson.se>
From: "Rockson Li (zhengyli)" <zhengyli@cisco.com>
To: "Christer Holmberg" <christer.holmberg@ericsson.com>,
	"Paul Kyzivat (pkyzivat)" <pkyzivat@cisco.com>
X-OriginalArrivalTime: 04 Mar 2008 02:22:08.0495 (UTC)
	FILETIME=[8BDE0FF0:01C87D9E]
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; l=6440; t=1204597376;
	x=1205461376; c=relaxed/simple; s=hkgdkim2001;
	h=Content-Type:From:Subject:Content-Transfer-Encoding:MIME-Version;
	d=cisco.com; i=zhengyli@cisco.com;
	z=From:=20=22Rockson=20Li=20(zhengyli)=22=20<zhengyli@cisco.
	com>
	|Subject:=20RE=3A=20[Sip]=20Contact=20header=20in=201xx=20r
	esponses/updates=20remote=20target=20or=20not? |Sender:=20;
	bh=/83UBRgmmO7rX80LA85FyISD8zE8KnJHI+/PFWkLPOE=;
	b=FnZ33FLgs+rzPkIbDcABk3FqbSQp6pf391weMpVlhh9NDs0SPOIqEOKjms
	T2FcXhcyWGVwpS6cMboP8nWU8Yu7IipcQMIyXygay9DkmDvflcnNPEMnPX6h
	0sBNfMeS26unL/g69+Ih5GRC+KPzOmB5OOl0qImDXTfNzkBcxKCcI=;
Authentication-Results: hkg-dkim-2; header.From=zhengyli@cisco.com; dkim=pass (
	sig from cisco.com/hkgdkim2001 verified; ); 
Cc: sip@ietf.org
Subject: Re: [Sip] Contact header in 1xx responses/updates remote target or
	not?
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

 Hi guys,

Any comments on my previous thoughts are appreciated.

Thanks

Regards,
-Rockson

-----Original Message-----
From: Rockson Li (zhengyli) 
Sent: Friday, February 29, 2008 1:15 PM
To: 'Christer Holmberg'; Paul Kyzivat (pkyzivat)
Cc: sip@ietf.org
Subject: RE: [Sip] Contact header in 1xx responses/updates remote target
or not?

Paul and Christer,

As I understand the contact/remote-target update is remote-target is
only set when dialog created , there's no way of changing it after
dialog(early of confirmed) establishment except target-refresh
req(re-inv/update) the reason is as follows,

in RFC3261 13.2.2.1 1xx Response
   If a provisional response
   has a tag in the To field, and if the dialog ID of the response does
   not match an existing dialog, one is constructed using the procedures
   defined in Section 12.1.2.  

which means the contact would only be set  in UAC upon dialog creation,
even later the non-100 1xx response(wether reliable or not) change
contact, the dialog state would not change as above.
similar meaning is stated in
http://www.ietf.org/mail-archive/web/sip/current/msg07893.html

and here only says to tag is the sole criteria for early-dialog
construction, not contact header mentioned at all.
similar discussion at
http://www.ietf.org/mail-archive/web/sipping/current/msg14510.html


if dialog-creating-non-100-1xx does not have contact, looks like the
it's RFC2543-compliant UA and remote-target of the UAC should be To as
per RFC2543 section 11.3 check Brette's option here
http://www.ietf.org/mail-archive/web/sipping/current/msg14514.html

When dialog transitioned from early to confirmed.

sec 13.2.2.4 2xx Responses
   If the dialog identifier in the 2xx response matches the dialog
   identifier of an existing dialog, the dialog MUST be transitioned to
   the "confirmed" state, and the route set for the dialog MUST be
   recomputed based on the 2xx response using the procedures of Section
   12.2.1.2.  Otherwise, a new dialog in the "confirmed" state MUST be
   constructed using the procedures of Section 12.1.2.

      Note that the *only* piece of state that is recomputed is the
route
      set.  Other pieces of state such as the highest sequence numbers
      (remote and local) sent within the dialog are not recomputed.  The
      route set only is recomputed for backwards compatibility.  RFC
      2543 did not mandate mirroring of the Record-Route header field in
      a 1xx, only 2xx.  However, we cannot update the entire state of
      the dialog, since mid-dialog requests may have been sent within
      the early dialog, modifying the sequence numbers, for example.

So only route set could be changed, remote-target just remains as the
same as early dialog, even 200 change the contact.

comments?

Regards,
-Rockson

-----Original Message-----
From: Christer Holmberg [mailto:christer.holmberg@ericsson.com]
Sent: Friday, February 29, 2008 3:49 AM
To: Paul Kyzivat (pkyzivat); Rockson Li (zhengyli)
Cc: sip@ietf.org
Subject: RE: [Sip] Contact header in 1xx responses/updates remote target
or not?


Hi,

I agree with Paul's conclusion. But, I still think that is somethin that
we should somehow document and clarify. This is a common reason for
interop problems, so just agree on a mailing list and leave it there is
not a good thing to do.

IF (To-tag && Contact) THEN dialog 

And, it IS allowed to update the Contact in subsequence provisional
responses. But, as Paul said: it is asking for trouble, so it should not
be done unless you have a really good reason for it.

I also think that updating the Contact in a re-INVITE/UPDATE is asking
for trouble. At least you also there need to be prepared to receive
requests on both the new and old contact for a period of time.

Regards,

Christer

> -----Original Message-----
> From: Paul Kyzivat [mailto:pkyzivat@cisco.com]
> Sent: 28. helmikuuta 2008 19:47
> To: Rockson Li (zhengyli)
> Cc: Christer Holmberg; sip@ietf.org
> Subject: Re: [Sip] Contact header in 1xx responses/updates remote 
> target or not?
> 
> No, I don't think we have an answer, though I do have an opinion. :-)
> 
> Are you asking about whether the contact may be omitted? Or if it may 
> be changed?
> 
> AFAIK there is nothing normative that *forbids* the contact from being

> changed in subsequent provisional responses. But doing so is *asking* 
> for trouble, so you shouldn't do it.
> Perhaps you could get away with it in a *reliable* provisional, but 
> then you would still have a bunch of messy cases. The likelihood of it

> working is slim. Doing it with
> *unreliable* provisionals is going to cause trouble because they can 
> be lost. Even with reliable provisionals, you will have to be prepared

> to receive on both addresses for some period of time.
> 
> It seems clear that a contact may be omitted in a 100, since it is hop

> by hop, and presumably must be omitted in the 100 responses from 
> proxies. Some other 1xx responses may be returned by proxies (notably
> 181) and presumably they should also not contain a contact in those 
> cases.
> 
> A 1xx that establishes an early dialog must contain a contact or else 
> you really don't have a dialog. I think it is ambiguous whether:
> - the first 1xx with a particular to-tag *does* establish an early
>    dialog and so *must* contain a contact,
> 
> - OR a 1xx with a new to-tag, but without a contact, simply doesn't
>    establish a dialog, but is legal.
> 
> I would split the difference and say that the UAS MUST include a 
> contact in the first 1xx it returns with a particular to-tag, but a 
> UAC should accept a 1xx with new to-tag and without a contact and 
> simply treat it as not establishing an early dialog. (Don't establish 
> the dialog until you get enough info to do so.)
> 
> 	Paul
> 
> Rockson Li (zhengyli) wrote:
> > Paul , Christer and all,
> >  
> > I am following the email thread as in subject above 
> > http://www.ietf.org/mail-archive/web/sip/current/msg19322.html
> >  
> > However, I do not find the definite answer to Christer's
> question, Do
> > we have the answer now?
> >  
> > Thanks a lot
> > 
> > Regards,
> > Rockson Li
> > 
> > Cisco R&D Center, Shanghai, PRC
> > 
> >  
> 
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Mon Mar  3 21:09:55 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 52FA128C43F;
	Mon,  3 Mar 2008 21:09:55 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -0.778
X-Spam-Level: 
X-Spam-Status: No, score=-0.778 tagged_above=-999 required=5
	tests=[AWL=-0.341, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id Ql5Hm9X3ujUq; Mon,  3 Mar 2008 21:09:49 -0800 (PST)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id A98C63A6B1E;
	Mon,  3 Mar 2008 21:09:49 -0800 (PST)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 3EC8A28C225
	for <sip@core3.amsl.com>; Mon,  3 Mar 2008 21:09:48 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id qq1knoN0rXDU for <sip@core3.amsl.com>;
	Mon,  3 Mar 2008 21:09:47 -0800 (PST)
Received: from nylon.softarmor.com (nylon.softarmor.com [66.135.38.164])
	by core3.amsl.com (Postfix) with ESMTP id 07A213A6B1E
	for <sip@ietf.org>; Mon,  3 Mar 2008 21:09:46 -0800 (PST)
Received: from [206.176.144.210] (206-176-144-210.waymark.net
	[206.176.144.210]) (authenticated bits=0)
	by nylon.softarmor.com (8.13.8/8.13.8/Debian-3) with ESMTP id
	m2459Y14025765
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NOT);
	Mon, 3 Mar 2008 23:09:37 -0600
Message-ID: <47CCD989.6010305@softarmor.com>
Date: Mon, 03 Mar 2008 23:09:29 -0600
From: Dean Willis <dean.willis@softarmor.com>
User-Agent: Icedove 1.5.0.14pre (X11/20080208)
MIME-Version: 1.0
To: Mayumi Munakata <munakata.mayumi@lab.ntt.co.jp>
References: <47BA6CE4.8090004@lab.ntt.co.jp>
In-Reply-To: <47BA6CE4.8090004@lab.ntt.co.jp>
X-Enigmail-Version: 0.94.2.0
Cc: sip@ietf.org
Subject: Re: [Sip] Anonymous URI for From header in ua-privacy-01
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Mayumi Munakata wrote:

> One profound open issue we have is on how to get an
> anonymous URI for a From header.  While we can use a
> temp-gruu for a Contact header, there is no mechanism
> to obtain a functional anonymous URI for the From
> header or any other headers that houses URIs.
> 
> RFC3323 recommends to use "anonymous@anonymous.invalid"
> for an anonymous URI in a From header.  However, this
> impedes the use of SIP-Identity, as SIP-Identity
> mandates the domain portion of the "From" URI and
> that of "Identity-Info" to match.
> 
> One of the expired draft written by Jonathan, attempted
> to use the GRUU to get this functional yet anonymous URI
> to address this issue.
> http://ietfreport.isoc.org/idref/draft-rosenberg-sip-identity-privacy/
> 
> I can see few ways forward.
> 
> 1. Suggest the use of anonymous@{user's domain name}, which
>    verifier then can verify the signature's validity as
>    domain portion of the URI and that of Identity-Info matches.
>     >> If SIP-Identity is used, the domain is given away anyhow
>        in the Identity-Info, so what is the point of hiding the
>        domain in the From header?
> 
> 2. Make a note that SIP-Identity will not function when
>    anonymous@anonymous.invalid is used.
>     >> Describe the caveat that verifier is likely to fail the
>        request or suggest that Authentication Service does not
>        add Identity-Info/signature.
> 
> 3. Extend GRUU to support mechanism that Rosenberg suggested.
> 
> Does anybody has any preferences or any other suggestions?

Do we get anything from #3 that we wouldn't get by just using the
temp-GRUU that we're using as the Contact: value as the from: value too?

in other words, what happens if we make the From: header field of the
ua-anonymized request the same as the Contact: header field?

If an identity server is willing to assert on this identity, it can
later use the GRUU to reverse back out to the authenticated identity it
was anonymizing.

--
dean
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Mon Mar  3 23:04:37 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 61EAA3A6C7D;
	Mon,  3 Mar 2008 23:04:37 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -0.791
X-Spam-Level: 
X-Spam-Status: No, score=-0.791 tagged_above=-999 required=5
	tests=[AWL=-0.354, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id lC1+sle6jgRo; Mon,  3 Mar 2008 23:04:33 -0800 (PST)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 8B9E228C465;
	Mon,  3 Mar 2008 23:04:13 -0800 (PST)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 837CF3A6E86
	for <sip@core3.amsl.com>; Mon,  3 Mar 2008 23:04:12 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 1pbSIjPMSF4K for <sip@core3.amsl.com>;
	Mon,  3 Mar 2008 23:04:11 -0800 (PST)
Received: from mailgw4.ericsson.se (mailgw4.ericsson.se [193.180.251.62])
	by core3.amsl.com (Postfix) with ESMTP id DFC7228C32F
	for <sip@ietf.org>; Mon,  3 Mar 2008 23:02:35 -0800 (PST)
Received: from mailgw4.ericsson.se (unknown [127.0.0.1])
	by mailgw4.ericsson.se (Symantec Mail Security) with ESMTP id
	1A9EE21644; Tue,  4 Mar 2008 08:01:08 +0100 (CET)
X-AuditID: c1b4fb3e-a89fbbb000000b15-5e-47ccf3b30b04
Received: from esealmw126.eemea.ericsson.se (unknown [153.88.254.123])
	by mailgw4.ericsson.se (Symantec Mail Security) with ESMTP id
	EE0F921285; Tue,  4 Mar 2008 08:01:07 +0100 (CET)
Received: from esealmw113.eemea.ericsson.se ([153.88.200.4]) by
	esealmw126.eemea.ericsson.se with Microsoft SMTPSVC(6.0.3790.1830); 
	Tue, 4 Mar 2008 08:01:07 +0100
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Tue, 4 Mar 2008 07:59:05 +0100
Message-ID: <CA9998CD4A020D418654FCDEF4E707DF046C7636@esealmw113.eemea.ericsson.se>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] Contact header in 1xx responses/updates remote target or
	not?
thread-index: Ach9i8+rME5i3UJUSoaevGIAU40pewAOWynV
References: <F86B91A10B14744E88408E80B8A30EF302B3B006@xmb-hkg-412.apac.cisco.com>	<47C6F37B.7010609@cisco.com><200803010326.m213QuF8026325@dragon.ariadne.com>
	<47CC2D56.7010803@cisco.com>
	<CA9998CD4A020D418654FCDEF4E707DF04E197AF@esealmw113.eemea.ericsson.se>
	<47CC92F0.4030103@cisco.com>
From: "Christer Holmberg" <christer.holmberg@ericsson.com>
To: "Paul Kyzivat" <pkyzivat@cisco.com>
X-OriginalArrivalTime: 04 Mar 2008 07:01:07.0554 (UTC)
	FILETIME=[851FC420:01C87DC5]
X-Brightmail-Tracker: AAAAAA==
Cc: sip@ietf.org
Subject: Re: [Sip] Contact header in 1xx responses/updates remote target or
	not?
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Hi,

>>I don't understand what "dialog without state is" either. The Contact is part of the dialog identifier, so if there ain't no >>Contact there ain't no dialog :)
>
>Its not part of the dialog-id. That consists of the Call-ID, from-tag
>and to-tag.
>
>But still it is a part of the basic dialog state, along with the route-set.

Correct. That's what I meant.

Regards,

Christer

 

 

 


> Regards,
>
> Chrrister
>
>> -----Original Message-----
>> From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On
>> Behalf Of Paul Kyzivat
>> Sent: 3. maaliskuuta 2008 18:55
>> To: Dale.Worley@comcast.net
>> Cc: sip@ietf.org
>> Subject: Re: [Sip] Contact header in 1xx responses/updates
>> remote target or not?
>>
>>
>>
>> Dale.Worley@comcast.net wrote:
>>>    From: Paul Kyzivat <pkyzivat@cisco.com>
>>>
>>>    A 1xx that establishes an early dialog must contain a
>> contact or else
>>>    you really don't have a dialog. I think it is ambiguous whether:
>>>
>>>    - the first 1xx with a particular to-tag *does*
>> establish an early
>>>       dialog and so *must* contain a contact,
>>>
>>>    - OR a 1xx with a new to-tag, but without a contact,
>> simply doesn't
>>>       establish a dialog, but is legal.
>>>
>>>    I would split the difference and say that the UAS MUST
>> include a contact
>>>    in the first 1xx it returns with a particular to-tag,
>> but a UAC should
>>>    accept a 1xx with new to-tag and without a contact and
>> simply treat it
>>>    as not establishing an early dialog. (Don't establish
>> the dialog until
>>>    you get enough info to do so.)
>>>
>>> I'd say that it does create a dialog, but it's an anomalous
>> dialog in
>>> that you can't send any requests to it.  (Though it's unlikely that
>>> you'd want to.)  But you might well get a final response from the
>>> dialog, and you could get media from it.
>>>
>>> I think it's the fact that the UAC is unlikely to send a
>> request until
>>> the dialog becomes confirmed is why we haven't worried
>> about this case
>>> much.
>> What is so unlikely about this?
>>
>> The UAC may want to send BYE (as opposed to CANCEL) because
>> it doesn't want *this* one.
>>
>> The Contact is one of the attributes of dialog state. AFAIK
>> we don't have the notion of a dialog that exists but for
>> which some state is unknown.
>>
>> Its really a matter of which poison you want here.
>>
>>      Paul
>> _______________________________________________
>> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
>> This list is for NEW development of the core SIP Protocol Use
>> sip-implementors@cs.columbia.edu for questions on current sip
>> Use sipping@ietf.org for new developments on the application of sip
>>
>


_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Tue Mar  4 03:09:20 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 3C08328C62D;
	Tue,  4 Mar 2008 03:09:20 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -0.666
X-Spam-Level: 
X-Spam-Status: No, score=-0.666 tagged_above=-999 required=5
	tests=[AWL=-0.229, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id IJOCaXiwjrTo; Tue,  4 Mar 2008 03:09:19 -0800 (PST)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id E1F1D3A6B73;
	Tue,  4 Mar 2008 03:09:11 -0800 (PST)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 5B55F28C660
	for <sip@core3.amsl.com>; Tue,  4 Mar 2008 03:09:11 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id R94sP-+5zuYR for <sip@core3.amsl.com>;
	Tue,  4 Mar 2008 03:09:06 -0800 (PST)
Received: from mgw-mx06.nokia.com (smtp.nokia.com [192.100.122.233])
	by core3.amsl.com (Postfix) with ESMTP id 575B528C689
	for <sip@ietf.org>; Tue,  4 Mar 2008 03:08:34 -0800 (PST)
Received: from esebh106.NOE.Nokia.com (esebh106.ntc.nokia.com [172.21.138.213])
	by mgw-mx06.nokia.com (Switch-3.2.6/Switch-3.2.6) with ESMTP id
	m24B8EYj016863; Tue, 4 Mar 2008 13:08:22 +0200
Received: from esebh103.NOE.Nokia.com ([172.21.143.33]) by
	esebh106.NOE.Nokia.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Tue, 4 Mar 2008 13:08:15 +0200
Received: from mgw-int01.ntc.nokia.com ([172.21.143.96]) by
	esebh103.NOE.Nokia.com over TLS secured channel with Microsoft
	SMTPSVC(6.0.3790.1830); Tue, 4 Mar 2008 13:08:14 +0200
Received: from [172.21.40.116] (esdhcp040116.research.nokia.com
	[172.21.40.116])
	by mgw-int01.ntc.nokia.com (Switch-3.2.5/Switch-3.2.5) with ESMTP id
	m24B8Ccu012896; Tue, 4 Mar 2008 13:08:13 +0200
From: Aki Niemi <aki.niemi@nokia.com>
To: ext Eric Rescorla <ekr@networkresonance.com>
In-Reply-To: <20080303183225.D04A35081A@romeo.rtfm.com>
References: <20080303183225.D04A35081A@romeo.rtfm.com>
Organization: Nokia Devices R&D
Date: Tue, 04 Mar 2008 13:08:05 +0200
Message-Id: <1204628885.15582.7.camel@localhost>
Mime-Version: 1.0
X-Mailer: Evolution 2.12.1 
X-OriginalArrivalTime: 04 Mar 2008 11:08:14.0555 (UTC)
	FILETIME=[0AB492B0:01C87DE8]
X-Nokia-AV: Clean
Cc: sip@ietf.org
Subject: Re: [Sip] Question on subnot-etags
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


On ma, 2008-03-03 at 10:32 -0800, ext Eric Rescorla wrote:
> I'm sure I'm wading into a swamp here, but:
> 
> Say I have a resource identified by URI http://www.example.org/X.
> 
> 1. Initially it has value A. I do a SUBSCRIBE and get value
>    "A" and Etag 1
> 2. I do a subsequent get and get "B" with Etag 2.
> 3. I do a third get and get "A".
> 
> Can the Etag in event 3 be 1?

What we currently say on the subject is this:

        [An entity-tag is] guaranteed to be unique across all versions
        of all entities for a resource and event package.

If the version of the entity, in this case "A", is identical to a
previous version, which is "A" in this case, then the entity-tag can
certainly be the same as well.

We would have the exact same result were we to generate the entity-tag
value using a hash function over the entity itself.

This is also unimportant for the subscriber, since it needs to store the
entity-tag "statelessly", and cannot defer any meaning from its value.

Cheers,
Aki

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Tue Mar  4 06:50:58 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 37CE128C692;
	Tue,  4 Mar 2008 06:50:58 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: 0.268
X-Spam-Level: 
X-Spam-Status: No, score=0.268 tagged_above=-999 required=5 tests=[AWL=0.705,
	BAYES_00=-2.599, FH_RELAY_NODNS=1.451, HELO_MISMATCH_ORG=0.611,
	RDNS_NONE=0.1]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id n9QWal1oZQOV; Tue,  4 Mar 2008 06:50:52 -0800 (PST)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id B7F2828C683;
	Tue,  4 Mar 2008 06:50:43 -0800 (PST)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 335D43A6F0E
	for <sip@core3.amsl.com>; Tue,  4 Mar 2008 06:50:42 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id DL2wYmWGrPm9 for <sip@core3.amsl.com>;
	Tue,  4 Mar 2008 06:50:36 -0800 (PST)
Received: from mout.perfora.net (mout.perfora.net [74.208.4.195])
	by core3.amsl.com (Postfix) with ESMTP id A772B28C6B5
	for <sip@ietf.org>; Tue,  4 Mar 2008 06:49:13 -0800 (PST)
Received: from s73602 (cpe-72-190-0-23.tx.res.rr.com [72.190.0.23])
	by mrelay.perfora.net (node=mrus1) with ESMTP (Nemesis)
	id 0MKpCa-1JWYRy3WQj-0007Bs; Tue, 04 Mar 2008 09:49:04 -0500
Message-ID: <07fc01c87e06$cf25e590$6401a8c0@china.huawei.com>
From: "Spencer Dawkins" <spencer@wonderhamster.org>
To: <sip@ietf.org>
References: <41E96F53-A2D1-41EE-93A4-2E61099BDF1D@softarmor.com><0D5F89FAC29E2C41B98A6A762007F5D070BCDD@GBNTHT12009MSX.gb002.siemens.net><47C87303.9090300@bbn.com>
	<7c0101c87b24$780f0af0$5c4f150a@cisco.com>
Date: Tue, 4 Mar 2008 08:48:26 -0600
MIME-Version: 1.0
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2900.3138
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.3198
X-Provags-ID: V01U2FsdGVkX1+GHp0nQ1YTE7O305BiBya1KnPICgwuh3+rkni
	3RNTL/3KiipWXxWoAh4iJrx+UdNcCwZ7abUInYYFqiBZKa+FBr
	+kWSQUsRoEfFFEOzYZlpOS1+WbOb64BRe00HxaBN1w=
Subject: Re: [Sip] Sanity check -- relationship between DTLS-SRTPand	Identity
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Just following along with Dan's note from Friday...

>> Personally, I think that the E.164 problem is going to be
>> hard to solve,
>> and that it should not hold up DTLS-SRTP framework. (That is, that we
>> should release a DTLS-SRTP framework that only works with
>> "email-style"
>> SIP URIs.) That being said, E.164 numbers aren't going away any time
>> soon and so I think RAI should definitely perform work on how
>> to obtain
>> useful (as least PSTN-grade) identity guarantees for SIP
>> requests with
>> an E.164 number in the From: field.
>
> We can do PSTN-grade identity assertions of E.164's today already:
> just trust your pre-configured SIP trunk to not lie.  You set up SIP
> trunks to organizations with a contractual or gentleman's agreement
> to not lie.  You don't even need RFC4474 to do that.
>
> That is exactly as good as the PSTN's identity.

If I am understanding the discussion, one key point is that we're trying to 
accommodate implementations that ignore right-hand-side of URIs for E.164 
(and, worse, anything that might look like E.164) on the left-hand-side.

We think this is broken behavior, but we're trying to accommodate it? That 
usually turns out badly.

>> On the other hand, perhaps the SBC problem is one that we
>> should resolve
>> before advancing DTLS-SRTP framework. In particular, there
>> are at least
>> two proposals on the table (I.D-wing-identity-media and
>> I.D-fischer-sip-e2e-sec-media) that say "use something other than
>> RFC4474 for DTLS-SRTP framework". However, the concern that I have in
>> solving this problem is that, in the absence of guidelines for how a
>> 'well-behaving' SBC will handle particular headers or SDP
>> bodies, it's
>> hard to design a protocol that will interoperate well with SBCs.
>>
>> Note: Obviously, this concern is not DTLS-SRTP-Framework specific and
>> given that SBC-issues keep coming up in a variety of working groups,
>> perhaps RAI needs to reach consensus that either:
>> A) We will not address SBC-related concerns when engineering
>> protocols
>> (e.g. we advance DTLS-SRTP without solving the SBC problem).
>> B) We will seek to design protocols that interoperate with "most"
>> existing SBCs at the time the protocol specification is written.
>> C) We will seek to design protocols that interoperate with
>> "well-behaving" SBCs (i.e. SBCs that adhere to the following set of
>> guidelines).
>> D) ?????
>
> This is all feeling very much like the history of the IETF's
> involvement with NATs and the IETF's involvement with firewalls.

Well said. If I may expand this statement...

- NATs translate addresses (and ports). That's brain-dead simple if you 
don't mind breaking protocols that embed literal addresses as part of the 
payload. So BEHAVE got chartered.

- If you want these protocols to work, you need an application level 
gateway, too, but that's doable for any protocol that's well-documented 
enough to implement an endpoint. So if you're OK with B2B for an 
application, you don't need to do anything to accommodate ALGs.

- firewalls drop packets based on policy. How those decisions are made, is 
less well-understood. BEHAVE was specifically NOT chartered for firewall 
work (and it's not like we forgot about this during charter discussions).

- we've been looking at SBCs for a while now, and we've ended up with 
multiple dozens of SBC functions documented in 
http://www.ietf.org/internet-drafts/draft-ietf-sipping-sbc-funcs-04.txt. If 
we didn't charter work to define "well-behaved firewalls", I'm having a hard 
time visualizing us chartering work to define "well-behaved SBCs".

Other people may expect a happier outcome, but I'm not sure why.

Spencer 


_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Tue Mar  4 07:18:49 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 5762728C239;
	Tue,  4 Mar 2008 07:18:49 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -0.368
X-Spam-Level: 
X-Spam-Status: No, score=-0.368 tagged_above=-999 required=5 tests=[AWL=0.069,
	BAYES_00=-2.599, FH_RELAY_NODNS=1.451, HELO_MISMATCH_ORG=0.611,
	RDNS_NONE=0.1]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id MoaEo0KG18oI; Tue,  4 Mar 2008 07:18:43 -0800 (PST)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id B57B528C4FE;
	Tue,  4 Mar 2008 07:17:27 -0800 (PST)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 86FB028C239
	for <sip@core3.amsl.com>; Tue,  4 Mar 2008 07:17:25 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id MbaRm23u+jgI for <sip@core3.amsl.com>;
	Tue,  4 Mar 2008 07:17:20 -0800 (PST)
Received: from romeo.rtfm.com (unknown [74.95.2.173])
	by core3.amsl.com (Postfix) with ESMTP id 36A3028C510
	for <sip@ietf.org>; Tue,  4 Mar 2008 07:17:20 -0800 (PST)
Received: from romeo.rtfm.com (localhost.rtfm.com [127.0.0.1])
	by romeo.rtfm.com (Postfix) with ESMTP id 4EE005081A;
	Tue,  4 Mar 2008 07:19:05 -0800 (PST)
Date: Tue, 04 Mar 2008 07:19:05 -0800
From: Eric Rescorla <ekr@networkresonance.com>
To: Aki Niemi <aki.niemi@nokia.com>
In-Reply-To: <1204628885.15582.7.camel@localhost>
References: <20080303183225.D04A35081A@romeo.rtfm.com>
	<1204628885.15582.7.camel@localhost>
User-Agent: Wanderlust/2.14.0 (Africa) Emacs/21.3 Mule/5.0 (SAKAKI)
MIME-Version: 1.0 (generated by SEMI 1.14.6 - "Maruoka")
Message-Id: <20080304151905.4EE005081A@romeo.rtfm.com>
Cc: sip@ietf.org
Subject: Re: [Sip] Question on subnot-etags
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

At Tue, 04 Mar 2008 13:08:05 +0200,
Aki Niemi wrote:
> 
> 
> On ma, 2008-03-03 at 10:32 -0800, ext Eric Rescorla wrote:
> > I'm sure I'm wading into a swamp here, but:
> > 
> > Say I have a resource identified by URI http://www.example.org/X.
> > 
> > 1. Initially it has value A. I do a SUBSCRIBE and get value
> >    "A" and Etag 1
> > 2. I do a subsequent get and get "B" with Etag 2.
> > 3. I do a third get and get "A".
> > 
> > Can the Etag in event 3 be 1?
> 
> What we currently say on the subject is this:
> 
>         [An entity-tag is] guaranteed to be unique across all versions
>         of all entities for a resource and event package.
> 
> If the version of the entity, in this case "A", is identical to a
> previous version, which is "A" in this case, then the entity-tag can
> certainly be the same as well.

It's not clear to me that the text you are quoting implies the
interpretation that you just provided. In fact, I would note that you
are referring to "the version" and "the previous version" which
suggests that they are separate versions and must have different
ETags.

Given that when I asked this question I got two different answers from
Dale and Dean, I submit that the draft might be improved by directly
addressing this point. Note that I don't care about the resolution,
but I do care that the draft be unambiguous.



> We would have the exact same result were we to generate the entity-tag
> value using a hash function over the entity itself.
> 
> This is also unimportant for the subscriber, since it needs to store the
> entity-tag "statelessly", and cannot defer any meaning from its value.

I'm not sure what that means, but I'm not convinced that this is 
meaningless to the client.


I also wonder whether it's a good idea to call this feature
ETags. My understanding is that ETags has been a very confusing
feature of RFC 2616. Even if we think that the semantics here
are the same, perhaps we should consider giving it a different
name.

-Ekr




_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Tue Mar  4 07:38:40 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 8C4F128C71A;
	Tue,  4 Mar 2008 07:38:40 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -1.559
X-Spam-Level: 
X-Spam-Status: No, score=-1.559 tagged_above=-999 required=5
	tests=[AWL=-1.722, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, J_CHICKENPOX_65=0.6, RDNS_NONE=0.1]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id KDL9YPWCr+Yz; Tue,  4 Mar 2008 07:38:40 -0800 (PST)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 84F1A28C674;
	Tue,  4 Mar 2008 07:37:02 -0800 (PST)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id A00A53A6D6A
	for <sip@core3.amsl.com>; Tue,  4 Mar 2008 07:37:01 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id jr-rLqJUKZYA for <sip@core3.amsl.com>;
	Tue,  4 Mar 2008 07:36:55 -0800 (PST)
Received: from sj-iport-3.cisco.com (sj-iport-3.cisco.com [171.71.176.72])
	by core3.amsl.com (Postfix) with ESMTP id 02D8628C6B0
	for <sip@ietf.org>; Tue,  4 Mar 2008 07:36:49 -0800 (PST)
Received: from sj-dkim-3.cisco.com ([171.71.179.195])
	by sj-iport-3.cisco.com with ESMTP; 04 Mar 2008 07:36:40 -0800
Received: from sj-core-5.cisco.com (sj-core-5.cisco.com [171.71.177.238])
	by sj-dkim-3.cisco.com (8.12.11/8.12.11) with ESMTP id m24Faev0026246; 
	Tue, 4 Mar 2008 07:36:40 -0800
Received: from xbh-rtp-201.amer.cisco.com (xbh-rtp-201.cisco.com
	[64.102.31.12])
	by sj-core-5.cisco.com (8.12.10/8.12.6) with ESMTP id m24FadXO021155;
	Tue, 4 Mar 2008 15:36:40 GMT
Received: from xfe-rtp-201.amer.cisco.com ([64.102.31.38]) by
	xbh-rtp-201.amer.cisco.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Tue, 4 Mar 2008 10:35:19 -0500
Received: from [161.44.174.168] ([161.44.174.168]) by
	xfe-rtp-201.amer.cisco.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Tue, 4 Mar 2008 10:35:18 -0500
Message-ID: <47CD6C46.2030304@cisco.com>
Date: Tue, 04 Mar 2008 10:35:34 -0500
From: Paul Kyzivat <pkyzivat@cisco.com>
User-Agent: Thunderbird 2.0.0.12 (Windows/20080213)
MIME-Version: 1.0
To: "Rockson Li (zhengyli)" <zhengyli@cisco.com>
References: <F86B91A10B14744E88408E80B8A30EF302B3B006@xmb-hkg-412.apac.cisco.com>
	<47C6F37B.7010609@cisco.com>
	<CA9998CD4A020D418654FCDEF4E707DF04D4A820@esealmw113.eemea.ericsson.se>
	<F86B91A10B14744E88408E80B8A30EF302B9E37F@xmb-hkg-412.apac.cisco.com>
In-Reply-To: <F86B91A10B14744E88408E80B8A30EF302B9E37F@xmb-hkg-412.apac.cisco.com>
X-OriginalArrivalTime: 04 Mar 2008 15:35:18.0829 (UTC)
	FILETIME=[59EABDD0:01C87E0D]
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; l=8976; t=1204645000;
	x=1205509000; c=relaxed/simple; s=sjdkim3002;
	h=Content-Type:From:Subject:Content-Transfer-Encoding:MIME-Version;
	d=cisco.com; i=pkyzivat@cisco.com;
	z=From:=20Paul=20Kyzivat=20<pkyzivat@cisco.com>
	|Subject:=20Re=3A=20[Sip]=20Contact=20header=20in=201xx=20r
	esponses/updates=20remote=20target=20or=0A=20not? |Sender:=20;
	bh=ppSBnfG9l1lCmp8WX/tG9H5xdz1awBIYHoYppSXwX5g=;
	b=cFBH4MLEZuJ61QWp1GUsIovFU7N+85CVrEVs4hecueH9DuHJ+8usNJv3MS
	sNkCb5r+0VIcrdq1o9/qfqWwhDDcC+kyZa61jnAu9RTee5rU2g/GpLLE4REu
	Vh24X/ezVF;
Authentication-Results: sj-dkim-3; header.From=pkyzivat@cisco.com; dkim=pass (
	sig from cisco.com/sjdkim3002 verified; ); 
Cc: sip@ietf.org, Christer Holmberg <christer.holmberg@ericsson.com>
Subject: Re: [Sip] Contact header in 1xx responses/updates remote target or
 not?
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org



Rockson Li (zhengyli) wrote:
>  Hi guys,
> 
> Any comments on my previous thoughts are appreciated.
> 
> Thanks
> 
> Regards,
> -Rockson
> 
> -----Original Message-----
> From: Rockson Li (zhengyli) 
> Sent: Friday, February 29, 2008 1:15 PM
> To: 'Christer Holmberg'; Paul Kyzivat (pkyzivat)
> Cc: sip@ietf.org
> Subject: RE: [Sip] Contact header in 1xx responses/updates remote target
> or not?
> 
> Paul and Christer,
> 
> As I understand the contact/remote-target update is remote-target is
> only set when dialog created , there's no way of changing it after
> dialog(early of confirmed) establishment except target-refresh
> req(re-inv/update) the reason is as follows,
> 
> in RFC3261 13.2.2.1 1xx Response
>    If a provisional response
>    has a tag in the To field, and if the dialog ID of the response does
>    not match an existing dialog, one is constructed using the procedures
>    defined in Section 12.1.2.  
> 
> which means the contact would only be set  in UAC upon dialog creation,
> even later the non-100 1xx response(wether reliable or not) change
> contact, the dialog state would not change as above.
> similar meaning is stated in
> http://www.ietf.org/mail-archive/web/sip/current/msg07893.html

I don't find that the above mail message says anything about what to do 
with the remote target (Contact) if it changes.

> and here only says to tag is the sole criteria for early-dialog
> construction, not contact header mentioned at all.

It only discusses the criteria for matching the request to a dialog. So 
you wouldn't have two dialogs with the same from-tag/to-tag/callid and 
different contacts.

> similar discussion at
> http://www.ietf.org/mail-archive/web/sipping/current/msg14510.html

Its been a long time since I read 2543, and I don't have time to do it 
now. It may indeed be the case that some behavior is required for 2543 
compatibility. But AFAIK it is rare to find a 2543 implementation these 
days, so this may not be an important concern. It seems that 3261 didn't 
call out specific behavior wrt the Contact for 2543 compatibility in the 
same way that it called for specific behavior re R-R. So it seems we 
have little guidance here.

> if dialog-creating-non-100-1xx does not have contact, looks like the
> it's RFC2543-compliant UA and remote-target of the UAC should be To as
> per RFC2543 section 11.3 check Brette's option here
> http://www.ietf.org/mail-archive/web/sipping/current/msg14514.html

In that mail Brett seems to say that this was considered a bug in 2543, 
so we shouldn't necessarily be striving for compatibility with it.

> When dialog transitioned from early to confirmed.
> 
> sec 13.2.2.4 2xx Responses
>    If the dialog identifier in the 2xx response matches the dialog
>    identifier of an existing dialog, the dialog MUST be transitioned to
>    the "confirmed" state, and the route set for the dialog MUST be
>    recomputed based on the 2xx response using the procedures of Section
>    12.2.1.2.  Otherwise, a new dialog in the "confirmed" state MUST be
>    constructed using the procedures of Section 12.1.2.
> 
>       Note that the *only* piece of state that is recomputed is the
> route
>       set.  Other pieces of state such as the highest sequence numbers
>       (remote and local) sent within the dialog are not recomputed.  The
>       route set only is recomputed for backwards compatibility.  RFC
>       2543 did not mandate mirroring of the Record-Route header field in
>       a 1xx, only 2xx.  However, we cannot update the entire state of
>       the dialog, since mid-dialog requests may have been sent within
>       the early dialog, modifying the sequence numbers, for example.

I find the above text to be problematic and internally inconsistent. The 
initial sentence conflicts with the rest. The sequence numbers are 
updated all along, on each request. The local sequence number isn't 
updated on a response because it is updated when the request is sent. 
And the remote sequence number isn't updated upon receiving a response 
because it don't contain a remote sequence number.

So while the first statement above seems to say that the local/remote 
target may not be updated based on a subsequent response, I'm not sure 
to what extent to trust that paragraph. This seems more on the order of 
a bug.

Ultimately we need to deal with what makes sense and works. When things 
are not as you like in a response its hard to complain about them. You 
pretty much have to cope. Otherwise your only choices are to send a BYE 
or else just drop the transaction and let it time out. In this case 
sending a BYE may well not work either - which remote target would you 
send it too?

I think we can recommend that the Contacts not be changed until after a 
confirmed dialog. But when confronted with a request that does change 
it, interoperability is probably enhanced by believing it. Are things 
likely to work better if you ignore it??? Presumably the other end put 
the new value in for some reason. Probably because the old address won't 
work any more.

	Paul

> So only route set could be changed, remote-target just remains as the
> same as early dialog, even 200 change the contact.
> 
> comments?
> 
> Regards,
> -Rockson
> 
> -----Original Message-----
> From: Christer Holmberg [mailto:christer.holmberg@ericsson.com]
> Sent: Friday, February 29, 2008 3:49 AM
> To: Paul Kyzivat (pkyzivat); Rockson Li (zhengyli)
> Cc: sip@ietf.org
> Subject: RE: [Sip] Contact header in 1xx responses/updates remote target
> or not?
> 
> 
> Hi,
> 
> I agree with Paul's conclusion. But, I still think that is somethin that
> we should somehow document and clarify. This is a common reason for
> interop problems, so just agree on a mailing list and leave it there is
> not a good thing to do.
> 
> IF (To-tag && Contact) THEN dialog 
> 
> And, it IS allowed to update the Contact in subsequence provisional
> responses. But, as Paul said: it is asking for trouble, so it should not
> be done unless you have a really good reason for it.
> 
> I also think that updating the Contact in a re-INVITE/UPDATE is asking
> for trouble. At least you also there need to be prepared to receive
> requests on both the new and old contact for a period of time.
> 
> Regards,
> 
> Christer
> 
>> -----Original Message-----
>> From: Paul Kyzivat [mailto:pkyzivat@cisco.com]
>> Sent: 28. helmikuuta 2008 19:47
>> To: Rockson Li (zhengyli)
>> Cc: Christer Holmberg; sip@ietf.org
>> Subject: Re: [Sip] Contact header in 1xx responses/updates remote 
>> target or not?
>>
>> No, I don't think we have an answer, though I do have an opinion. :-)
>>
>> Are you asking about whether the contact may be omitted? Or if it may 
>> be changed?
>>
>> AFAIK there is nothing normative that *forbids* the contact from being
> 
>> changed in subsequent provisional responses. But doing so is *asking* 
>> for trouble, so you shouldn't do it.
>> Perhaps you could get away with it in a *reliable* provisional, but 
>> then you would still have a bunch of messy cases. The likelihood of it
> 
>> working is slim. Doing it with
>> *unreliable* provisionals is going to cause trouble because they can 
>> be lost. Even with reliable provisionals, you will have to be prepared
> 
>> to receive on both addresses for some period of time.
>>
>> It seems clear that a contact may be omitted in a 100, since it is hop
> 
>> by hop, and presumably must be omitted in the 100 responses from 
>> proxies. Some other 1xx responses may be returned by proxies (notably
>> 181) and presumably they should also not contain a contact in those 
>> cases.
>>
>> A 1xx that establishes an early dialog must contain a contact or else 
>> you really don't have a dialog. I think it is ambiguous whether:
>> - the first 1xx with a particular to-tag *does* establish an early
>>    dialog and so *must* contain a contact,
>>
>> - OR a 1xx with a new to-tag, but without a contact, simply doesn't
>>    establish a dialog, but is legal.
>>
>> I would split the difference and say that the UAS MUST include a 
>> contact in the first 1xx it returns with a particular to-tag, but a 
>> UAC should accept a 1xx with new to-tag and without a contact and 
>> simply treat it as not establishing an early dialog. (Don't establish 
>> the dialog until you get enough info to do so.)
>>
>> 	Paul
>>
>> Rockson Li (zhengyli) wrote:
>>> Paul , Christer and all,
>>>  
>>> I am following the email thread as in subject above 
>>> http://www.ietf.org/mail-archive/web/sip/current/msg19322.html
>>>  
>>> However, I do not find the definite answer to Christer's
>> question, Do
>>> we have the answer now?
>>>  
>>> Thanks a lot
>>>
>>> Regards,
>>> Rockson Li
>>>
>>> Cisco R&D Center, Shanghai, PRC
>>>
>>>  
> 
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Tue Mar  4 09:09:20 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 0C1EC28C751;
	Tue,  4 Mar 2008 09:09:20 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -0.589
X-Spam-Level: 
X-Spam-Status: No, score=-0.589 tagged_above=-999 required=5
	tests=[AWL=-0.152, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id sNPlSTiagrVN; Tue,  4 Mar 2008 09:09:14 -0800 (PST)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 5D4C828C703;
	Tue,  4 Mar 2008 09:04:31 -0800 (PST)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 1383928C3D1
	for <sip@core3.amsl.com>; Tue,  4 Mar 2008 09:04:30 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 60luGLxQgCdZ for <sip@core3.amsl.com>;
	Tue,  4 Mar 2008 09:04:24 -0800 (PST)
Received: from nylon.softarmor.com (nylon.softarmor.com [66.135.38.164])
	by core3.amsl.com (Postfix) with ESMTP id 6B09828C6F7
	for <sip@ietf.org>; Tue,  4 Mar 2008 08:59:50 -0800 (PST)
Received: from [192.168.2.100] (cpe-76-185-142-113.tx.res.rr.com
	[76.185.142.113] (may be forged)) (authenticated bits=0)
	by nylon.softarmor.com (8.13.8/8.13.8/Debian-3) with ESMTP id
	m24Gxdoq031002
	(version=TLSv1/SSLv3 cipher=AES128-SHA bits=128 verify=NOT);
	Tue, 4 Mar 2008 10:59:40 -0600
Message-Id: <36549917-C8D4-4BA3-8DAF-BECD320FBFBD@softarmor.com>
From: Dean Willis <dean.willis@softarmor.com>
To: Eric Rescorla <ekr@networkresonance.com>
In-Reply-To: <20080304151905.4EE005081A@romeo.rtfm.com>
Mime-Version: 1.0 (Apple Message framework v919.2)
Date: Tue, 4 Mar 2008 10:59:33 -0600
References: <20080303183225.D04A35081A@romeo.rtfm.com>
	<1204628885.15582.7.camel@localhost>
	<20080304151905.4EE005081A@romeo.rtfm.com>
X-Mailer: Apple Mail (2.919.2)
Cc: sip@ietf.org, Aki Niemi <aki.niemi@nokia.com>
Subject: Re: [Sip] Question on subnot-etags
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


On Mar 4, 2008, at 9:19 AM, Eric Rescorla wrote:
>>
>> What we currently say on the subject is this:
>>
>>        [An entity-tag is] guaranteed to be unique across all versions
>>        of all entities for a resource and event package.
>>
>> If the version of the entity, in this case "A", is identical to a
>> previous version, which is "A" in this case, then the entity-tag can
>> certainly be the same as well.
>
> It's not clear to me that the text you are quoting implies the
> interpretation that you just provided. In fact, I would note that you
> are referring to "the version" and "the previous version" which
> suggests that they are separate versions and must have different
> ETags.
>
> Given that when I asked this question I got two different answers from
> Dale and Dean, I submit that the draft might be improved by directly
> addressing this point. Note that I don't care about the resolution,
> but I do care that the draft be unambiguous.
>
>
>
>> We would have the exact same result were we to generate the entity- 
>> tag
>> value using a hash function over the entity itself.
>>
>> This is also unimportant for the subscriber, since it needs to  
>> store the
>> entity-tag "statelessly", and cannot defer any meaning from its  
>> value.
>
> I'm not sure what that means, but I'm not convinced that this is
> meaningless to the client.

I look at it in terms of sequential application of differential  
transforms.

If we start with a given object O1, then there exists a differential  
transform D1 that when applied to that object produces a second  
object, 02. In other words,  D1(O1)->02. Clearly O2 has a different  
etag from O1.  If we then apply a second differential D2 that produces  
O3 such that D2(O2)->O3==O1, we have a new object O3. Is it reasonable  
for O3 to have the same etag as O1? Mathematically, it's not the same  
version of the object -- it's another version of the object that just  
has the same value. So it instinctively irks me to give it the same  
entity tag as that other version of the document.

Consider the aspect of state -- if I'm sending the whole object every  
time, it doesn't matter. If I only work from the current version of an  
object, it doesn't matter. But if I'm doing version control and I need  
to make sue I've stored the entire sequence of transformations (or at  
least know whether I've missed any steps), it DOES matter. Working as  
Aki proposed, any cycle (any sequence of transformations that takes us  
back to a state we've seen before) could be undetectably dropped out  
of the history.

Do we have a requirement to keep our history straight? Perhaps not.  
After further reflection, I think that for the common use case  
(keeping track of the current version of a document with full document  
transmittal) the technique as proposed by Aki works just fine. Since  
etags aren't really sequential, we don't really gain anything by the  
ability to detect dropped cycles, do we?

Somebody needs to think this through from the perspective of partial  
notification.

--
Dean


_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Tue Mar  4 11:36:00 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 5967D28C674;
	Tue,  4 Mar 2008 11:36:00 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -1.531
X-Spam-Level: 
X-Spam-Status: No, score=-1.531 tagged_above=-999 required=5
	tests=[AWL=-1.094, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id kmsV5GjJChWy; Tue,  4 Mar 2008 11:35:59 -0800 (PST)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 9B37328C52F;
	Tue,  4 Mar 2008 11:35:44 -0800 (PST)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 5830628C532
	for <sip@core3.amsl.com>; Tue,  4 Mar 2008 11:35:43 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id jfjIkrrr+odd for <sip@core3.amsl.com>;
	Tue,  4 Mar 2008 11:35:41 -0800 (PST)
Received: from sj-iport-6.cisco.com (sj-iport-6.cisco.com [171.71.176.117])
	by core3.amsl.com (Postfix) with ESMTP id 87DAD28C5E1
	for <sip@ietf.org>; Tue,  4 Mar 2008 11:33:10 -0800 (PST)
Received: from sj-dkim-1.cisco.com ([171.71.179.21])
	by sj-iport-6.cisco.com with ESMTP; 04 Mar 2008 11:33:01 -0800
Received: from sj-core-5.cisco.com (sj-core-5.cisco.com [171.71.177.238])
	by sj-dkim-1.cisco.com (8.12.11/8.12.11) with ESMTP id m24JX1e4021656; 
	Tue, 4 Mar 2008 11:33:01 -0800
Received: from dwingwxp01 ([10.32.240.196])
	by sj-core-5.cisco.com (8.12.10/8.12.6) with ESMTP id m24JX0XK012584;
	Tue, 4 Mar 2008 19:33:00 GMT
From: "Dan Wing" <dwing@cisco.com>
To: "'Spencer Dawkins'" <spencer@wonderhamster.org>, <sip@ietf.org>
References: <41E96F53-A2D1-41EE-93A4-2E61099BDF1D@softarmor.com><0D5F89FAC29E2C41B98A6A762007F5D070BCDD@GBNTHT12009MSX.gb002.siemens.net><47C87303.9090300@bbn.com><7c0101c87b24$780f0af0$5c4f150a@cisco.com>
	<07fc01c87e06$cf25e590$6401a8c0@china.huawei.com>
Date: Tue, 4 Mar 2008 11:32:59 -0800
Message-ID: <010301c87e2e$8ea85110$c4f0200a@cisco.com>
MIME-Version: 1.0
X-Mailer: Microsoft Office Outlook 11
In-Reply-To: <07fc01c87e06$cf25e590$6401a8c0@china.huawei.com>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.3198
Thread-Index: Ach+BypSxfRZEdBjSlio8FI7ny/EtAAJeiZQ
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; l=5093; t=1204659181;
	x=1205523181; c=relaxed/simple; s=sjdkim1004;
	h=Content-Type:From:Subject:Content-Transfer-Encoding:MIME-Version;
	d=cisco.com; i=dwing@cisco.com;
	z=From:=20=22Dan=20Wing=22=20<dwing@cisco.com>
	|Subject:=20RE=3A=20[Sip]=20Sanity=20check=20--=20relations
	hip=20between=20DTLS-SRTPand=09Identity |Sender:=20;
	bh=KmS+vpwbWD4QgHy/RHN/Etupn+Xsf2++buzNLT8eFgY=;
	b=fWpzWkO1188nK8ypgOi77gjSqPevOEi68oBIHTjh1Kg95/3v74XM9XuvPw
	WW440XxuIAABRMC5WCadHcloTnxOPmJ8TJ0y+B1Jn6DZT4lOwc+di1DAQbBg
	oOtzoHztF4Evn90rtoTOd0zBNDAgQYOHHKYn6YhhEJf+fbyp0gG0c=;
Authentication-Results: sj-dkim-1; header.From=dwing@cisco.com; dkim=pass (
	sig from cisco.com/sjdkim1004 verified; ); 
Subject: Re: [Sip] Sanity check -- relationship between DTLS-SRTPand	Identity
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

 

> -----Original Message-----
> From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On 
> Behalf Of Spencer Dawkins
> Sent: Tuesday, March 04, 2008 6:48 AM
> To: sip@ietf.org
> Subject: Re: [Sip] Sanity check -- relationship between 
> DTLS-SRTPand Identity
> 
> Just following along with Dan's note from Friday...
> 
> >> Personally, I think that the E.164 problem is going to be
> >> hard to solve,
> >> and that it should not hold up DTLS-SRTP framework. (That 
> is, that we
> >> should release a DTLS-SRTP framework that only works with
> >> "email-style"
> >> SIP URIs.) That being said, E.164 numbers aren't going 
> away any time
> >> soon and so I think RAI should definitely perform work on how
> >> to obtain
> >> useful (as least PSTN-grade) identity guarantees for SIP
> >> requests with
> >> an E.164 number in the From: field.
> >
> > We can do PSTN-grade identity assertions of E.164's today already:
> > just trust your pre-configured SIP trunk to not lie.  You set up SIP
> > trunks to organizations with a contractual or gentleman's agreement
> > to not lie.  You don't even need RFC4474 to do that.
> >
> > That is exactly as good as the PSTN's identity.
> 
> If I am understanding the discussion, one key point is that 
> we're trying to accommodate implementations that ignore 
> right-hand-side of URIs for E.164 (and, worse, anything that might 
> look like E.164) on the left-hand-side.
> 
> We think this is broken behavior, but we're trying to 
> accommodate it? That usually turns out badly.

No, that's not what I was saying.

If your SIP trunk is with a service provider ("example.net", let's
say), and you have a mutually-authenticated TLS connection with their
SIP proxy and they give you a From that says +14085551234@example.net,
you now have an identity assertion from your service provider that is
exactly as good as the PSTN's identity assertion from your PSTN 
provider.

> >> On the other hand, perhaps the SBC problem is one that we
> >> should resolve
> >> before advancing DTLS-SRTP framework. In particular, there
> >> are at least
> >> two proposals on the table (I.D-wing-identity-media and
> >> I.D-fischer-sip-e2e-sec-media) that say "use something other than
> >> RFC4474 for DTLS-SRTP framework". However, the concern 
> that I have in
> >> solving this problem is that, in the absence of guidelines 
> for how a
> >> 'well-behaving' SBC will handle particular headers or SDP
> >> bodies, it's
> >> hard to design a protocol that will interoperate well with SBCs.
> >>
> >> Note: Obviously, this concern is not DTLS-SRTP-Framework 
> specific and
> >> given that SBC-issues keep coming up in a variety of 
> working groups,
> >> perhaps RAI needs to reach consensus that either:
> >> A) We will not address SBC-related concerns when engineering
> >> protocols
> >> (e.g. we advance DTLS-SRTP without solving the SBC problem).
> >> B) We will seek to design protocols that interoperate with "most"
> >> existing SBCs at the time the protocol specification is written.
> >> C) We will seek to design protocols that interoperate with
> >> "well-behaving" SBCs (i.e. SBCs that adhere to the following set of
> >> guidelines).
> >> D) ?????
> >
> > This is all feeling very much like the history of the IETF's
> > involvement with NATs and the IETF's involvement with firewalls.
> 
> Well said. If I may expand this statement...
> 
> - NATs translate addresses (and ports). That's brain-dead 
> simple if you 
> don't mind breaking protocols that embed literal addresses as 
> part of the 
> payload. So BEHAVE got chartered.
> 
> - If you want these protocols to work, you need an application level 
> gateway, too, but that's doable for any protocol that's 
> well-documented 
> enough to implement an endpoint. So if you're OK with B2B for an 
> application, you don't need to do anything to accommodate ALGs.
> 
> - firewalls drop packets based on policy. How those decisions 
> are made, is 
> less well-understood. BEHAVE was specifically NOT chartered 
> for firewall 
> work (and it's not like we forgot about this during charter 
> discussions).
>
> - we've been looking at SBCs for a while now, and we've ended up with 
> multiple dozens of SBC functions documented in 
> http://www.ietf.org/internet-drafts/draft-ietf-sipping-sbc-fun
> cs-04.txt. If 
> we didn't charter work to define "well-behaved firewalls", 
> I'm having a hard 
> time visualizing us chartering work to define "well-behaved SBCs".
>
> Other people may expect a happier outcome, but I'm not sure why.

NATs and firewalls both attempt to perform their operations silently
and without involvement or interaction or knowledge of hosts.  There
are places where this breaks (hence: IETF's development of ICE;
the existence of UPnP and NAT-PMP; the existence of "hosted NAT
traversal", one of the many features of an SBC).

SBCs are always present on the path and are never invisible:  SIP and 
media packets are sent to their IP address.

-d

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Tue Mar  4 11:55:46 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id E50DF28C597;
	Tue,  4 Mar 2008 11:55:46 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -1.053
X-Spam-Level: 
X-Spam-Status: No, score=-1.053 tagged_above=-999 required=5
	tests=[AWL=-0.616, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id wSKYkAW+lw7k; Tue,  4 Mar 2008 11:55:46 -0800 (PST)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 031153A6CBF;
	Tue,  4 Mar 2008 11:55:46 -0800 (PST)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id F1BDE3A6CBF
	for <sip@core3.amsl.com>; Tue,  4 Mar 2008 11:55:44 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id sxCdcr3tNidA for <sip@core3.amsl.com>;
	Tue,  4 Mar 2008 11:55:44 -0800 (PST)
Received: from sj-iport-4.cisco.com (sj-iport-4.cisco.com [171.68.10.86])
	by core3.amsl.com (Postfix) with ESMTP id F3CAB28C3BC
	for <sip@ietf.org>; Tue,  4 Mar 2008 11:55:43 -0800 (PST)
X-IronPort-AV: E=Sophos;i="4.25,444,1199692800"; 
   d="scan'208";a="7978917"
Received: from sjc12-sbr-sw3-3f5.cisco.com (HELO imail.cisco.com)
	([172.19.96.182])
	by sj-iport-4.cisco.com with ESMTP; 04 Mar 2008 11:55:34 -0800
Received: from mtcc13.mtcc.com ([10.21.87.172])
	by imail.cisco.com (8.12.11/8.12.10) with ESMTP id m24Jfd9S027902;
	Tue, 4 Mar 2008 11:41:39 -0800
Message-ID: <47CDA92F.7000106@cisco.com>
Date: Tue, 04 Mar 2008 11:55:27 -0800
From: Michael Thomas <mat@cisco.com>
User-Agent: Mozilla/5.0 (Macintosh; U; PPC Mac OS X Mach-O; en-US;
	rv:1.8.1.12) Gecko/20080213 Thunderbird/2.0.0.12 Mnenhy/0.7.5.666
MIME-Version: 1.0
To: Dan Wing <dwing@cisco.com>
References: <41E96F53-A2D1-41EE-93A4-2E61099BDF1D@softarmor.com><0D5F89FAC29E2C41B98A6A762007F5D070BCDD@GBNTHT12009MSX.gb002.siemens.net><47C87303.9090300@bbn.com><7c0101c87b24$780f0af0$5c4f150a@cisco.com>	<07fc01c87e06$cf25e590$6401a8c0@china.huawei.com>
	<010301c87e2e$8ea85110$c4f0200a@cisco.com>
In-Reply-To: <010301c87e2e$8ea85110$c4f0200a@cisco.com>
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; l=1204; t=1204659699;
	x=1205523699; c=relaxed/simple; s=oregon;
	h=To:Content-Type:From:Subject:Content-Transfer-Encoding:MIME-Version; 
	d=cisco.com; i=mat@cisco.com;
	z=From:=20Michael=20Thomas=20<mat@cisco.com>
	|Subject:=20Re=3A=20[dkim=20unverified]=20Re=3A=20[Sip]=20S
	anity=20check=20--=20relationship=20between=0A=20DTLS-SRTPan
	d=09Identity |Sender:=20 |To:=20Dan=20Wing=20<dwing@cisco.com>;
	bh=3HnV1/gEHCXDR0MFQDBjSVjYkFbX98uarhRO5dsJ2x0=;
	b=gqqPUV2Y4HSuUQ7LWVlrXXo9OoA6gUbyTztcU3Qzig8Q7/4nAL1Rt1zTog
	mXPiFYGq+mFgSOjoVw30Gs6OyXO/L2SIijDjZSPZjgYSXd4yzJ3BYjCH3+I7
	XHcJ1Cco2E;
Authentication-Results: imail.cisco.com; header.From=mat@cisco.com; dkim=pass (
	sig from cisco.com/oregon verified; ); 
Cc: sip@ietf.org
Subject: Re: [Sip] [dkim unverified] Re: Sanity check -- relationship
 between DTLS-SRTPand	Identity
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Dan Wing wrote:
>
>> If I am understanding the discussion, one key point is that 
>> we're trying to accommodate implementations that ignore 
>> right-hand-side of URIs for E.164 (and, worse, anything that might 
>> look like E.164) on the left-hand-side.
>>
>> We think this is broken behavior, but we're trying to 
>> accommodate it? That usually turns out badly.
>>     
>
> No, that's not what I was saying.
>
> If your SIP trunk is with a service provider ("example.net", let's
> say), and you have a mutually-authenticated TLS connection with their
> SIP proxy and they give you a From that says +14085551234@example.net,
> you now have an identity assertion from your service provider that is
> exactly as good as the PSTN's identity assertion from your PSTN 
> provider.
>   
This sticks in my craw. The PSTN universe is a lot more closed than the
internet is. And the PSTN universe is not exactly air tight either. Unless
of course the subtext of "as good" is "crappy".

I haven't been following this very well, but is there movement afoot to
answer the question of "what are we going to do about e.164 number
security?" something other than "nothing"?

       Mike
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Tue Mar  4 11:56:10 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 1F76828C65D;
	Tue,  4 Mar 2008 11:56:10 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: 0.236
X-Spam-Level: 
X-Spam-Status: No, score=0.236 tagged_above=-999 required=5 tests=[AWL=0.673,
	BAYES_00=-2.599, FH_RELAY_NODNS=1.451, HELO_MISMATCH_ORG=0.611,
	RDNS_NONE=0.1]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id z9pVPlXZeiJP; Tue,  4 Mar 2008 11:56:05 -0800 (PST)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id B711128C647;
	Tue,  4 Mar 2008 11:56:05 -0800 (PST)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 9FFCE28C647
	for <sip@core3.amsl.com>; Tue,  4 Mar 2008 11:56:03 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id VPPwrsMgBKDf for <sip@core3.amsl.com>;
	Tue,  4 Mar 2008 11:56:02 -0800 (PST)
Received: from mout.perfora.net (mout.perfora.net [74.208.4.197])
	by core3.amsl.com (Postfix) with ESMTP id CE55828C532
	for <sip@ietf.org>; Tue,  4 Mar 2008 11:56:01 -0800 (PST)
Received: from s73602 (cpe-72-190-0-23.tx.res.rr.com [72.190.0.23])
	by mrelay.perfora.net (node=mrus0) with ESMTP (Nemesis)
	id 0MKp8S-1JWdEs3Opd-0003yD; Tue, 04 Mar 2008 14:55:52 -0500
Message-ID: <0b2101c87e31$a62ca4a0$6401a8c0@china.huawei.com>
From: "Spencer Dawkins" <spencer@wonderhamster.org>
To: <sip@ietf.org>
References: <41E96F53-A2D1-41EE-93A4-2E61099BDF1D@softarmor.com><0D5F89FAC29E2C41B98A6A762007F5D070BCDD@GBNTHT12009MSX.gb002.siemens.net><47C87303.9090300@bbn.com><7c0101c87b24$780f0af0$5c4f150a@cisco.com>
	<07fc01c87e06$cf25e590$6401a8c0@china.huawei.com>
	<010301c87e2e$8ea85110$c4f0200a@cisco.com>
Date: Tue, 4 Mar 2008 13:55:06 -0600
MIME-Version: 1.0
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2900.3138
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.3198
X-Provags-ID: V01U2FsdGVkX1/4vXqnsO9K4JLgO/4/q4I7maoYs9g+AZ6ViaI
	o/YLQz9mr/qViH1oyI64pOpfBuXLezTjSKHF/a2EpTmH/bPhoT
	n7vigsKmujeeULx6q8lxo7Bg+yicpqmIOR3qmZ+A2I=
Subject: Re: [Sip] Sanity check -- relationship between DTLS-SRTPand	Identity
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Hi, Dan,

Sorry, I hit you with collateral damage. I agree with your point (if the 
best we can do is PSTN-equivalent identity, we should do that).

My point about brokenness goes all the way back to the beginning in this 
(and related) threads, that we're really vague on either an E.164 address is 
actually reached through the PSTN, but a lot of people seem to have 
assumptions in this area (including "if it looks like an E.164 number, it 
probably is, so you can use it as CLID for the user, with no associated 
domain information").

Thanks,

Spencer

----- Original Message ----- 
From: "Dan Wing" <dwing@cisco.com>
To: "'Spencer Dawkins'" <spencer@wonderhamster.org>; <sip@ietf.org>
Sent: Tuesday, March 04, 2008 1:32 PM
Subject: RE: [Sip] Sanity check -- relationship between DTLS-SRTPand 
Identity


>
>
>> -----Original Message-----
>> From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On
>> Behalf Of Spencer Dawkins
>> Sent: Tuesday, March 04, 2008 6:48 AM
>> To: sip@ietf.org
>> Subject: Re: [Sip] Sanity check -- relationship between
>> DTLS-SRTPand Identity
>>
>> Just following along with Dan's note from Friday...
>>
>> >> Personally, I think that the E.164 problem is going to be
>> >> hard to solve,
>> >> and that it should not hold up DTLS-SRTP framework. (That
>> is, that we
>> >> should release a DTLS-SRTP framework that only works with
>> >> "email-style"
>> >> SIP URIs.) That being said, E.164 numbers aren't going
>> away any time
>> >> soon and so I think RAI should definitely perform work on how
>> >> to obtain
>> >> useful (as least PSTN-grade) identity guarantees for SIP
>> >> requests with
>> >> an E.164 number in the From: field.
>> >
>> > We can do PSTN-grade identity assertions of E.164's today already:
>> > just trust your pre-configured SIP trunk to not lie.  You set up SIP
>> > trunks to organizations with a contractual or gentleman's agreement
>> > to not lie.  You don't even need RFC4474 to do that.
>> >
>> > That is exactly as good as the PSTN's identity.
>>
>> If I am understanding the discussion, one key point is that
>> we're trying to accommodate implementations that ignore
>> right-hand-side of URIs for E.164 (and, worse, anything that might
>> look like E.164) on the left-hand-side.
>>
>> We think this is broken behavior, but we're trying to
>> accommodate it? That usually turns out badly.
>
> No, that's not what I was saying.
>
> If your SIP trunk is with a service provider ("example.net", let's
> say), and you have a mutually-authenticated TLS connection with their
> SIP proxy and they give you a From that says +14085551234@example.net,
> you now have an identity assertion from your service provider that is
> exactly as good as the PSTN's identity assertion from your PSTN
> provider.
>
>> >> On the other hand, perhaps the SBC problem is one that we
>> >> should resolve
>> >> before advancing DTLS-SRTP framework. In particular, there
>> >> are at least
>> >> two proposals on the table (I.D-wing-identity-media and
>> >> I.D-fischer-sip-e2e-sec-media) that say "use something other than
>> >> RFC4474 for DTLS-SRTP framework". However, the concern
>> that I have in
>> >> solving this problem is that, in the absence of guidelines
>> for how a
>> >> 'well-behaving' SBC will handle particular headers or SDP
>> >> bodies, it's
>> >> hard to design a protocol that will interoperate well with SBCs.
>> >>
>> >> Note: Obviously, this concern is not DTLS-SRTP-Framework
>> specific and
>> >> given that SBC-issues keep coming up in a variety of
>> working groups,
>> >> perhaps RAI needs to reach consensus that either:
>> >> A) We will not address SBC-related concerns when engineering
>> >> protocols
>> >> (e.g. we advance DTLS-SRTP without solving the SBC problem).
>> >> B) We will seek to design protocols that interoperate with "most"
>> >> existing SBCs at the time the protocol specification is written.
>> >> C) We will seek to design protocols that interoperate with
>> >> "well-behaving" SBCs (i.e. SBCs that adhere to the following set of
>> >> guidelines).
>> >> D) ?????
>> >
>> > This is all feeling very much like the history of the IETF's
>> > involvement with NATs and the IETF's involvement with firewalls.
>>
>> Well said. If I may expand this statement...
>>
>> - NATs translate addresses (and ports). That's brain-dead
>> simple if you
>> don't mind breaking protocols that embed literal addresses as
>> part of the
>> payload. So BEHAVE got chartered.
>>
>> - If you want these protocols to work, you need an application level
>> gateway, too, but that's doable for any protocol that's
>> well-documented
>> enough to implement an endpoint. So if you're OK with B2B for an
>> application, you don't need to do anything to accommodate ALGs.
>>
>> - firewalls drop packets based on policy. How those decisions
>> are made, is
>> less well-understood. BEHAVE was specifically NOT chartered
>> for firewall
>> work (and it's not like we forgot about this during charter
>> discussions).
>>
>> - we've been looking at SBCs for a while now, and we've ended up with
>> multiple dozens of SBC functions documented in
>> http://www.ietf.org/internet-drafts/draft-ietf-sipping-sbc-fun
>> cs-04.txt. If
>> we didn't charter work to define "well-behaved firewalls",
>> I'm having a hard
>> time visualizing us chartering work to define "well-behaved SBCs".
>>
>> Other people may expect a happier outcome, but I'm not sure why.
>
> NATs and firewalls both attempt to perform their operations silently
> and without involvement or interaction or knowledge of hosts.  There
> are places where this breaks (hence: IETF's development of ICE;
> the existence of UPnP and NAT-PMP; the existence of "hosted NAT
> traversal", one of the many features of an SBC).
>
> SBCs are always present on the path and are never invisible:  SIP and
> media packets are sent to their IP address.
>
> -d
>
> 


_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Tue Mar  4 12:10:57 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id B444A3A6BDB;
	Tue,  4 Mar 2008 12:10:57 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -0.663
X-Spam-Level: 
X-Spam-Status: No, score=-0.663 tagged_above=-999 required=5
	tests=[AWL=-0.226, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id gchLKOYDYMil; Tue,  4 Mar 2008 12:10:53 -0800 (PST)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 219E528C5FC;
	Tue,  4 Mar 2008 12:10:44 -0800 (PST)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id D796D28C1CD
	for <sip@core3.amsl.com>; Tue,  4 Mar 2008 12:10:41 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 8tl9CPIHmTcF for <sip@core3.amsl.com>;
	Tue,  4 Mar 2008 12:10:36 -0800 (PST)
Received: from mgw-mx09.nokia.com (smtp.nokia.com [192.100.105.134])
	by core3.amsl.com (Postfix) with ESMTP id DE25F28C536
	for <sip@ietf.org>; Tue,  4 Mar 2008 12:07:46 -0800 (PST)
Received: from esebh108.NOE.Nokia.com (esebh108.ntc.nokia.com [172.21.143.145])
	by mgw-mx09.nokia.com (Switch-3.2.6/Switch-3.2.6) with ESMTP id
	m24K8LkK015719; Tue, 4 Mar 2008 14:09:18 -0600
Received: from esebh103.NOE.Nokia.com ([172.21.143.33]) by
	esebh108.NOE.Nokia.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Tue, 4 Mar 2008 22:07:09 +0200
Received: from mgw-int01.ntc.nokia.com ([172.21.143.96]) by
	esebh103.NOE.Nokia.com over TLS secured channel with Microsoft
	SMTPSVC(6.0.3790.1830); Tue, 4 Mar 2008 22:07:09 +0200
Received: from [10.162.252.197] (essapo-nirac252197.europe.nokia.com
	[10.162.252.197])
	by mgw-int01.ntc.nokia.com (Switch-3.2.5/Switch-3.2.5) with ESMTP id
	m24K77Zt001364; Tue, 4 Mar 2008 22:07:07 +0200
From: Aki Niemi <aki.niemi@nokia.com>
To: ext Eric Rescorla <ekr@networkresonance.com>
In-Reply-To: <20080304151905.4EE005081A@romeo.rtfm.com>
References: <20080303183225.D04A35081A@romeo.rtfm.com>
	<1204628885.15582.7.camel@localhost>
	<20080304151905.4EE005081A@romeo.rtfm.com>
Organization: Nokia Devices R&D
Date: Tue, 04 Mar 2008 22:07:07 +0200
Message-Id: <1204661227.15582.78.camel@localhost>
Mime-Version: 1.0
X-Mailer: Evolution 2.12.1 
X-OriginalArrivalTime: 04 Mar 2008 20:07:09.0423 (UTC)
	FILETIME=[53C9DFF0:01C87E33]
X-Nokia-AV: Clean
Cc: sip@ietf.org
Subject: Re: [Sip] Question on subnot-etags
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


On ti, 2008-03-04 at 07:19 -0800, ext Eric Rescorla wrote:
> >         [An entity-tag is] guaranteed to be unique across all versions
> >         of all entities for a resource and event package.
> > 
> > If the version of the entity, in this case "A", is identical to a
> > previous version, which is "A" in this case, then the entity-tag can
> > certainly be the same as well.
> 
> It's not clear to me that the text you are quoting implies the
> interpretation that you just provided. In fact, I would note that you
> are referring to "the version" and "the previous version" which
> suggests that they are separate versions and must have different
> ETags.

Then I'd appreciate any suggestion to make it clearer.

> Given that when I asked this question I got two different answers from
> Dale and Dean, I submit that the draft might be improved by directly
> addressing this point. Note that I don't care about the resolution,
> but I do care that the draft be unambiguous.

Can you point out the unambiguity?

> > We would have the exact same result were we to generate the entity-tag
> > value using a hash function over the entity itself.
> > 
> > This is also unimportant for the subscriber, since it needs to store the
> > entity-tag "statelessly", and cannot defer any meaning from its value.
> 
> I'm not sure what that means, but I'm not convinced that this is 
> meaningless to the client.

It means the only thing the client is ever going to do is offer that
same entity-tag back to the notifier in a Suppress condition. The
entity-tag, as defined, is an opaque token that has no meaning to the
subscriber beyond serving as a tag, or reference to the state it
received in the NOTIFY.

If the draft says something contrary, we'll change it.

> I also wonder whether it's a good idea to call this feature
> ETags. My understanding is that ETags has been a very confusing
> feature of RFC 2616. Even if we think that the semantics here
> are the same, perhaps we should consider giving it a different
> name.

The header field is actually called SIP-ETag just for this purpose.
Unlike RFC2616, we don't have weak and strong entity-tags, nor do we
allow a list of entity-tags in SIP-ETag. Especially the former is what
makes entity-tags confusing in HTTP.

This is also discussed somewhat in RFC3903 where SIP-ETag is defined. I
can add some text to the introduction that refers to that RFC with
regards to entity-tags.

Cheers,
Aki


_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Tue Mar  4 12:16:43 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id E812228C3BC;
	Tue,  4 Mar 2008 12:16:43 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -1.522
X-Spam-Level: 
X-Spam-Status: No, score=-1.522 tagged_above=-999 required=5
	tests=[AWL=-1.085, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id x6cB4k-Q1+o2; Tue,  4 Mar 2008 12:16:42 -0800 (PST)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id C769A3A6C09;
	Tue,  4 Mar 2008 12:16:42 -0800 (PST)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 2C5693A6C09
	for <sip@core3.amsl.com>; Tue,  4 Mar 2008 12:16:42 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id h4iv2CTQ0FKt for <sip@core3.amsl.com>;
	Tue,  4 Mar 2008 12:16:41 -0800 (PST)
Received: from sj-iport-1.cisco.com (sj-iport-1.cisco.com [171.71.176.70])
	by core3.amsl.com (Postfix) with ESMTP id 4EB6C3A6BD0
	for <sip@ietf.org>; Tue,  4 Mar 2008 12:16:41 -0800 (PST)
Received: from sj-dkim-4.cisco.com ([171.71.179.196])
	by sj-iport-1.cisco.com with ESMTP; 04 Mar 2008 12:16:32 -0800
Received: from sj-core-5.cisco.com (sj-core-5.cisco.com [171.71.177.238])
	by sj-dkim-4.cisco.com (8.12.11/8.12.11) with ESMTP id m24KGVpn032503; 
	Tue, 4 Mar 2008 12:16:31 -0800
Received: from dwingwxp01 ([10.32.240.196])
	by sj-core-5.cisco.com (8.12.10/8.12.6) with ESMTP id m24KGUXK024735;
	Tue, 4 Mar 2008 20:16:30 GMT
From: "Dan Wing" <dwing@cisco.com>
To: "'Michael Thomas'" <mat@cisco.com>
References: <41E96F53-A2D1-41EE-93A4-2E61099BDF1D@softarmor.com><0D5F89FAC29E2C41B98A6A762007F5D070BCDD@GBNTHT12009MSX.gb002.siemens.net><47C87303.9090300@bbn.com><7c0101c87b24$780f0af0$5c4f150a@cisco.com>	<07fc01c87e06$cf25e590$6401a8c0@china.huawei.com>
	<010301c87e2e$8ea85110$c4f0200a@cisco.com>
	<47CDA92F.7000106@cisco.com>
Date: Tue, 4 Mar 2008 12:16:30 -0800
Message-ID: <01a801c87e34$a27b7c20$c4f0200a@cisco.com>
MIME-Version: 1.0
X-Mailer: Microsoft Office Outlook 11
In-Reply-To: <47CDA92F.7000106@cisco.com>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.3198
Thread-Index: Ach+MbhD8bxhVe/qS5uOq702veqIVAAAnFcA
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; l=2266; t=1204661791;
	x=1205525791; c=relaxed/simple; s=sjdkim4002;
	h=Content-Type:From:Subject:Content-Transfer-Encoding:MIME-Version;
	d=cisco.com; i=dwing@cisco.com;
	z=From:=20=22Dan=20Wing=22=20<dwing@cisco.com>
	|Subject:=20RE=3A=20[dkim=20unverified]=20Re=3A=20[Sip]=20S
	anity=20check=20--=20relationship=20between=20DTLS-SRTPand=0
	9Identity |Sender:=20;
	bh=RbLv7oLiZ9fe7o6WGPxthdNbBgQX2xoig8WLJbKNaM8=;
	b=SsQGz2pNyDz27w3tfltCWtB6rEBKpWgteWmxjQ/utzN0Wt56HixO1v/Eub
	eFoEbD1x440JabQI3brAnvsYcQAL3OvXPlxEhoeJKluuv8nTaj7Jg2KNjhVs
	zfMm2U2tTY;
Authentication-Results: sj-dkim-4; header.From=dwing@cisco.com; dkim=pass (
	sig from cisco.com/sjdkim4002 verified; ); 
Cc: sip@ietf.org
Subject: Re: [Sip] [dkim unverified] Re: Sanity check -- relationship
	between DTLS-SRTPand	Identity
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

 

> -----Original Message-----
> From: Michael Thomas [mailto:mat@cisco.com] 
> Sent: Tuesday, March 04, 2008 11:55 AM
> To: Dan Wing
> Cc: 'Spencer Dawkins'; sip@ietf.org
> Subject: Re: [dkim unverified] Re: [Sip] Sanity check -- 
> relationship between DTLS-SRTPand Identity
> 
> Dan Wing wrote:
> >
> >> If I am understanding the discussion, one key point is that 
> >> we're trying to accommodate implementations that ignore 
> >> right-hand-side of URIs for E.164 (and, worse, anything that might 
> >> look like E.164) on the left-hand-side.
> >>
> >> We think this is broken behavior, but we're trying to 
> >> accommodate it? That usually turns out badly.
> >>     
> >
> > No, that's not what I was saying.
> >
> > If your SIP trunk is with a service provider ("example.net", let's
> > say), and you have a mutually-authenticated TLS connection 
> with their
> > SIP proxy and they give you a From that says 
> +14085551234@example.net,
> > you now have an identity assertion from your service 
> provider that is
> > exactly as good as the PSTN's identity assertion from your PSTN 
> > provider.
> 
> This sticks in my craw. The PSTN universe is a lot more 
> closed than the
> internet is. And the PSTN universe is not exactly air tight 
> either. Unless of course the subtext of "as good" is "crappy".

That is my subtext, yes.

> I haven't been following this very well, but is there 
> movement afoot to
> answer the question of "what are we going to do about e.164 number
> security?" something other than "nothing"?

Yes, there are approximately 7 new drafts on this issue, and another 2 expired
drafts that discuss this a bit, too:

  draft-darilion-sip-e164-enum-00.txt
  draft-elwell-sip-e164-problem-statement-00.txt
  draft-fischer-sip-e2e-sec-media-00.txt
  draft-kaplan-sip-uris-change-00.txt
  draft-rosenberg-sip-rfc4474-concerns-00.txt
  draft-schwartz-sip-e164-ownership-00.txt
  draft-wing-sip-e164-rrc-01.txt
  draft-rosenberg-rai-phone-names-numbers-00 (expired)
  draft-mayrhofer-enum-domainkeys-00 (expired)

And there is a 30 minute timeslot in SIP to discuss the issue, "The Phone
Number/Identity Dichotomoy",
http://www.ietf.org/proceedings/08mar/agenda/sip.html

-d

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Tue Mar  4 12:18:40 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 2877E28C54B;
	Tue,  4 Mar 2008 12:18:40 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -0.361
X-Spam-Level: 
X-Spam-Status: No, score=-0.361 tagged_above=-999 required=5 tests=[AWL=0.076,
	BAYES_00=-2.599, FH_RELAY_NODNS=1.451, HELO_MISMATCH_ORG=0.611,
	RDNS_NONE=0.1]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id bQQQXG8TCAk8; Tue,  4 Mar 2008 12:18:39 -0800 (PST)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id DC4B728C64D;
	Tue,  4 Mar 2008 12:18:36 -0800 (PST)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id B2C7D3A6BB7
	for <sip@core3.amsl.com>; Tue,  4 Mar 2008 12:18:35 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id nbj+UF0PpMbP for <sip@core3.amsl.com>;
	Tue,  4 Mar 2008 12:18:35 -0800 (PST)
Received: from romeo.rtfm.com (unknown [74.95.2.173])
	by core3.amsl.com (Postfix) with ESMTP id C41F628C683
	for <sip@ietf.org>; Tue,  4 Mar 2008 12:18:20 -0800 (PST)
Received: from romeo.rtfm.com (localhost.rtfm.com [127.0.0.1])
	by romeo.rtfm.com (Postfix) with ESMTP id ADD0C5081A;
	Tue,  4 Mar 2008 12:20:05 -0800 (PST)
Date: Tue, 04 Mar 2008 12:20:05 -0800
From: Eric Rescorla <ekr@networkresonance.com>
To: Aki Niemi <aki.niemi@nokia.com>
In-Reply-To: <1204661227.15582.78.camel@localhost>
References: <20080303183225.D04A35081A@romeo.rtfm.com>
	<1204628885.15582.7.camel@localhost>
	<20080304151905.4EE005081A@romeo.rtfm.com>
	<1204661227.15582.78.camel@localhost>
User-Agent: Wanderlust/2.14.0 (Africa) Emacs/21.3 Mule/5.0 (SAKAKI)
MIME-Version: 1.0 (generated by SEMI 1.14.6 - "Maruoka")
Message-Id: <20080304202005.ADD0C5081A@romeo.rtfm.com>
Cc: sip@ietf.org
Subject: Re: [Sip] Question on subnot-etags
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

At Tue, 04 Mar 2008 22:07:07 +0200,
Aki Niemi wrote:
> 
> 
> On ti, 2008-03-04 at 07:19 -0800, ext Eric Rescorla wrote:
> > >         [An entity-tag is] guaranteed to be unique across all versions
> > >         of all entities for a resource and event package.
> > > 
> > > If the version of the entity, in this case "A", is identical to a
> > > previous version, which is "A" in this case, then the entity-tag can
> > > certainly be the same as well.
> > 
> > It's not clear to me that the text you are quoting implies the
> > interpretation that you just provided. In fact, I would note that you
> > are referring to "the version" and "the previous version" which
> > suggests that they are separate versions and must have different
> > ETags.
> 
> Then I'd appreciate any suggestion to make it clearer.

Explicitly state that in the case I described that it's permissible
to deliver the same Etag in the first and third versions.


> > Given that when I asked this question I got two different answers from
> > Dale and Dean, I submit that the draft might be improved by directly
> > addressing this point. Note that I don't care about the resolution,
> > but I do care that the draft be unambiguous.
> 
> Can you point out the unambiguity?

I think Dean did a good job with that, namely that one could
view "versions" as instances, and that two versions with
different content are different versions and so need
different Etags.

-Ekr

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Tue Mar  4 12:32:15 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id A426528C647;
	Tue,  4 Mar 2008 12:32:15 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -0.67
X-Spam-Level: 
X-Spam-Status: No, score=-0.67 tagged_above=-999 required=5 tests=[AWL=-0.233,
	BAYES_00=-2.599, FH_RELAY_NODNS=1.451, HELO_MISMATCH_ORG=0.611,
	RDNS_NONE=0.1]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id qtig+83y9I5K; Tue,  4 Mar 2008 12:32:14 -0800 (PST)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id A17E73A6B0A;
	Tue,  4 Mar 2008 12:32:14 -0800 (PST)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 9C7BF28C5FB
	for <sip@core3.amsl.com>; Tue,  4 Mar 2008 12:32:13 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id qHCgQAFTZstA for <sip@core3.amsl.com>;
	Tue,  4 Mar 2008 12:32:12 -0800 (PST)
Received: from mgw-mx03.nokia.com (smtp.nokia.com [192.100.122.230])
	by core3.amsl.com (Postfix) with ESMTP id 7F77728C544
	for <sip@ietf.org>; Tue,  4 Mar 2008 12:32:12 -0800 (PST)
Received: from esebh108.NOE.Nokia.com (esebh108.ntc.nokia.com [172.21.143.145])
	by mgw-mx03.nokia.com (Switch-3.2.6/Switch-3.2.6) with ESMTP id
	m24KVmXN006026; Tue, 4 Mar 2008 22:32:00 +0200
Received: from esebh104.NOE.Nokia.com ([172.21.143.34]) by
	esebh108.NOE.Nokia.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Tue, 4 Mar 2008 22:31:48 +0200
Received: from mgw-int02.ntc.nokia.com ([172.21.143.97]) by
	esebh104.NOE.Nokia.com over TLS secured channel with Microsoft
	SMTPSVC(6.0.3790.1830); Tue, 4 Mar 2008 22:31:47 +0200
Received: from [10.162.252.197] (essapo-nirac252197.europe.nokia.com
	[10.162.252.197])
	by mgw-int02.ntc.nokia.com (Switch-3.2.5/Switch-3.2.5) with ESMTP id
	m24KVjoT016328; Tue, 4 Mar 2008 22:31:46 +0200
From: Aki Niemi <aki.niemi@nokia.com>
To: ext Dean Willis <dean.willis@softarmor.com>
In-Reply-To: <36549917-C8D4-4BA3-8DAF-BECD320FBFBD@softarmor.com>
References: <20080303183225.D04A35081A@romeo.rtfm.com>
	<1204628885.15582.7.camel@localhost>
	<20080304151905.4EE005081A@romeo.rtfm.com>
	<36549917-C8D4-4BA3-8DAF-BECD320FBFBD@softarmor.com>
Organization: Nokia Devices R&D
Date: Tue, 04 Mar 2008 22:31:45 +0200
Message-Id: <1204662705.15582.93.camel@localhost>
Mime-Version: 1.0
X-Mailer: Evolution 2.12.1 
X-OriginalArrivalTime: 04 Mar 2008 20:31:48.0020 (UTC)
	FILETIME=[C519DF40:01C87E36]
X-Nokia-AV: Clean
Cc: sip@ietf.org
Subject: Re: [Sip] Question on subnot-etags
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


On ti, 2008-03-04 at 10:59 -0600, ext Dean Willis wrote:
> Do we have a requirement to keep our history straight? Perhaps not.  
> After further reflection, I think that for the common use case  
> (keeping track of the current version of a document with full document  
> transmittal) the technique as proposed by Aki works just fine. Since  
> etags aren't really sequential, we don't really gain anything by the  
> ability to detect dropped cycles, do we?
> 
> Somebody needs to think this through from the perspective of partial  
> notification.

In S 4:

   With partial event notification, the NOTIFY message only carries the
   delta state, or the set of changes to the previous version of the
   entity.  In that case, implementations MUST consider the full event
   state as the version of the entity to which the entity-tag in the
   NOTIFY message applies.

In other words, you're not tagging the individual deltas, but the
resulting state after the delta has been applied.

Cheers,
Aki

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Tue Mar  4 12:34:49 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id D661728C729;
	Tue,  4 Mar 2008 12:34:49 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -1.218
X-Spam-Level: 
X-Spam-Status: No, score=-1.218 tagged_above=-999 required=5
	tests=[AWL=-1.381, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, J_CHICKENPOX_45=0.6, RDNS_NONE=0.1]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id LfSNbh0XOtSh; Tue,  4 Mar 2008 12:34:48 -0800 (PST)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id CF6B728C6DC;
	Tue,  4 Mar 2008 12:34:36 -0800 (PST)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 069513A68DF
	for <sip@core3.amsl.com>; Tue,  4 Mar 2008 12:34:36 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id HcVXTFOpNx-Y for <sip@core3.amsl.com>;
	Tue,  4 Mar 2008 12:34:31 -0800 (PST)
Received: from sj-iport-5.cisco.com (sj-iport-5.cisco.com [171.68.10.87])
	by core3.amsl.com (Postfix) with ESMTP id 16C3128C712
	for <sip@ietf.org>; Tue,  4 Mar 2008 12:33:35 -0800 (PST)
X-IronPort-AV: E=Sophos;i="4.25,444,1199692800"; d="scan'208";a="15982140"
Received: from sj-dkim-1.cisco.com ([171.71.179.21])
	by sj-iport-5.cisco.com with ESMTP; 04 Mar 2008 12:33:25 -0800
Received: from sj-core-2.cisco.com (sj-core-2.cisco.com [171.71.177.254])
	by sj-dkim-1.cisco.com (8.12.11/8.12.11) with ESMTP id m24KXPOH000645; 
	Tue, 4 Mar 2008 12:33:25 -0800
Received: from dwingwxp01 ([10.32.240.196])
	by sj-core-2.cisco.com (8.12.10/8.12.6) with ESMTP id m24KXPLh014586;
	Tue, 4 Mar 2008 20:33:25 GMT
From: "Dan Wing" <dwing@cisco.com>
To: "'Spencer Dawkins'" <spencer@wonderhamster.org>, <sip@ietf.org>
References: <41E96F53-A2D1-41EE-93A4-2E61099BDF1D@softarmor.com><0D5F89FAC29E2C41B98A6A762007F5D070BCDD@GBNTHT12009MSX.gb002.siemens.net><47C87303.9090300@bbn.com><7c0101c87b24$780f0af0$5c4f150a@cisco.com><07fc01c87e06$cf25e590$6401a8c0@china.huawei.com><010301c87e2e$8ea85110$c4f0200a@cisco.com>
	<0b2101c87e31$a62ca4a0$6401a8c0@china.huawei.com>
Date: Tue, 4 Mar 2008 12:33:24 -0800
Message-ID: <01be01c87e36$ff222260$c4f0200a@cisco.com>
MIME-Version: 1.0
X-Mailer: Microsoft Office Outlook 11
In-Reply-To: <0b2101c87e31$a62ca4a0$6401a8c0@china.huawei.com>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.3198
Thread-Index: Ach+MeT3gjLg1X9hS3yih6Z/sZEoVQABIk1Q
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; l=7522; t=1204662805;
	x=1205526805; c=relaxed/simple; s=sjdkim1004;
	h=Content-Type:From:Subject:Content-Transfer-Encoding:MIME-Version;
	d=cisco.com; i=dwing@cisco.com;
	z=From:=20=22Dan=20Wing=22=20<dwing@cisco.com>
	|Subject:=20RE=3A=20[Sip]=20Sanity=20check=20--=20relations
	hip=20between=20DTLS-SRTPand=09Identity |Sender:=20;
	bh=tiSD8z4pdjk05ZbUAsjaanW5bV1kSX3S4EH0Nq9cSfo=;
	b=duuvK3hRQx7pr+ctK9FAU3W1b5atPPkfiM1fXyWsuldBAekZNNcMFWZ/Sn
	0dlceQ63PIIc/pSqNsx35I1/JBP+8dGshWRwSeqElysSJ+nDM6G9mK1sL5aB
	4IJJ5OTFjpeqWIQ+YbEAxwoWrvJRPAyywL3QqMfqcI/IpoPGjRV5w=;
Authentication-Results: sj-dkim-1; header.From=dwing@cisco.com; dkim=pass (
	sig from cisco.com/sjdkim1004 verified; ); 
Subject: Re: [Sip] Sanity check -- relationship between DTLS-SRTPand	Identity
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

 

> -----Original Message-----
> From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On 
> Behalf Of Spencer Dawkins
> Sent: Tuesday, March 04, 2008 11:55 AM
> To: sip@ietf.org
> Subject: Re: [Sip] Sanity check -- relationship between 
> DTLS-SRTPand Identity
> 
> Hi, Dan,
> 
> Sorry, I hit you with collateral damage. I agree with your 
> point (if the 
> best we can do is PSTN-equivalent identity, we should do that).
> 
> My point about brokenness goes all the way back to the 
> beginning in this 
> (and related) threads, that we're really vague on either an 
> E.164 address is 
> actually reached through the PSTN, but a lot of people seem to have 
> assumptions in this area (including "if it looks like an 
> E.164 number, it 
> probably is, so you can use it as CLID for the user, with no 
> associated domain information").

But including the domain doesn't help much with E.164's, anyway.  
Which is valid:

  +14085551234@telus.net;user=phone
  +14085551234@frys-electronics.com;user=phone
  +14085551234@san-jose.ca.us;user=phone

or, for that matter, what would Grandma say about:

  +14085551234@san-jose.ca.us;phone=user

(phone=user rather than user=phone, which means this is _not_ an E.164 but it
sure would be convincing to all but perhaps 50 or 60 people involved with SIP
standards).

This is all jibberish to users.

-d

> Thanks,
> 
> Spencer
> 
> ----- Original Message ----- 
> From: "Dan Wing" <dwing@cisco.com>
> To: "'Spencer Dawkins'" <spencer@wonderhamster.org>; <sip@ietf.org>
> Sent: Tuesday, March 04, 2008 1:32 PM
> Subject: RE: [Sip] Sanity check -- relationship between DTLS-SRTPand 
> Identity
> 
> 
> >
> >
> >> -----Original Message-----
> >> From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On
> >> Behalf Of Spencer Dawkins
> >> Sent: Tuesday, March 04, 2008 6:48 AM
> >> To: sip@ietf.org
> >> Subject: Re: [Sip] Sanity check -- relationship between
> >> DTLS-SRTPand Identity
> >>
> >> Just following along with Dan's note from Friday...
> >>
> >> >> Personally, I think that the E.164 problem is going to be
> >> >> hard to solve,
> >> >> and that it should not hold up DTLS-SRTP framework. (That
> >> is, that we
> >> >> should release a DTLS-SRTP framework that only works with
> >> >> "email-style"
> >> >> SIP URIs.) That being said, E.164 numbers aren't going
> >> away any time
> >> >> soon and so I think RAI should definitely perform work on how
> >> >> to obtain
> >> >> useful (as least PSTN-grade) identity guarantees for SIP
> >> >> requests with
> >> >> an E.164 number in the From: field.
> >> >
> >> > We can do PSTN-grade identity assertions of E.164's 
> today already:
> >> > just trust your pre-configured SIP trunk to not lie.  
> You set up SIP
> >> > trunks to organizations with a contractual or 
> gentleman's agreement
> >> > to not lie.  You don't even need RFC4474 to do that.
> >> >
> >> > That is exactly as good as the PSTN's identity.
> >>
> >> If I am understanding the discussion, one key point is that
> >> we're trying to accommodate implementations that ignore
> >> right-hand-side of URIs for E.164 (and, worse, anything that might
> >> look like E.164) on the left-hand-side.
> >>
> >> We think this is broken behavior, but we're trying to
> >> accommodate it? That usually turns out badly.
> >
> > No, that's not what I was saying.
> >
> > If your SIP trunk is with a service provider ("example.net", let's
> > say), and you have a mutually-authenticated TLS connection 
> with their
> > SIP proxy and they give you a From that says 
> +14085551234@example.net,
> > you now have an identity assertion from your service 
> provider that is
> > exactly as good as the PSTN's identity assertion from your PSTN
> > provider.
> >
> >> >> On the other hand, perhaps the SBC problem is one that we
> >> >> should resolve
> >> >> before advancing DTLS-SRTP framework. In particular, there
> >> >> are at least
> >> >> two proposals on the table (I.D-wing-identity-media and
> >> >> I.D-fischer-sip-e2e-sec-media) that say "use something 
> other than
> >> >> RFC4474 for DTLS-SRTP framework". However, the concern
> >> that I have in
> >> >> solving this problem is that, in the absence of guidelines
> >> for how a
> >> >> 'well-behaving' SBC will handle particular headers or SDP
> >> >> bodies, it's
> >> >> hard to design a protocol that will interoperate well with SBCs.
> >> >>
> >> >> Note: Obviously, this concern is not DTLS-SRTP-Framework
> >> specific and
> >> >> given that SBC-issues keep coming up in a variety of
> >> working groups,
> >> >> perhaps RAI needs to reach consensus that either:
> >> >> A) We will not address SBC-related concerns when engineering
> >> >> protocols
> >> >> (e.g. we advance DTLS-SRTP without solving the SBC problem).
> >> >> B) We will seek to design protocols that interoperate 
> with "most"
> >> >> existing SBCs at the time the protocol specification is written.
> >> >> C) We will seek to design protocols that interoperate with
> >> >> "well-behaving" SBCs (i.e. SBCs that adhere to the 
> following set of
> >> >> guidelines).
> >> >> D) ?????
> >> >
> >> > This is all feeling very much like the history of the IETF's
> >> > involvement with NATs and the IETF's involvement with firewalls.
> >>
> >> Well said. If I may expand this statement...
> >>
> >> - NATs translate addresses (and ports). That's brain-dead
> >> simple if you
> >> don't mind breaking protocols that embed literal addresses as
> >> part of the
> >> payload. So BEHAVE got chartered.
> >>
> >> - If you want these protocols to work, you need an 
> application level
> >> gateway, too, but that's doable for any protocol that's
> >> well-documented
> >> enough to implement an endpoint. So if you're OK with B2B for an
> >> application, you don't need to do anything to accommodate ALGs.
> >>
> >> - firewalls drop packets based on policy. How those decisions
> >> are made, is
> >> less well-understood. BEHAVE was specifically NOT chartered
> >> for firewall
> >> work (and it's not like we forgot about this during charter
> >> discussions).
> >>
> >> - we've been looking at SBCs for a while now, and we've 
> ended up with
> >> multiple dozens of SBC functions documented in
> >> http://www.ietf.org/internet-drafts/draft-ietf-sipping-sbc-fun
> >> cs-04.txt. If
> >> we didn't charter work to define "well-behaved firewalls",
> >> I'm having a hard
> >> time visualizing us chartering work to define "well-behaved SBCs".
> >>
> >> Other people may expect a happier outcome, but I'm not sure why.
> >
> > NATs and firewalls both attempt to perform their operations silently
> > and without involvement or interaction or knowledge of hosts.  There
> > are places where this breaks (hence: IETF's development of ICE;
> > the existence of UPnP and NAT-PMP; the existence of "hosted NAT
> > traversal", one of the many features of an SBC).
> >
> > SBCs are always present on the path and are never 
> invisible:  SIP and
> > media packets are sent to their IP address.
> >
> > -d
> >
> > 
> 
> 
> _______________________________________________
> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Tue Mar  4 12:46:01 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 1A40428C6D9;
	Tue,  4 Mar 2008 12:46:01 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -0.648
X-Spam-Level: 
X-Spam-Status: No, score=-0.648 tagged_above=-999 required=5
	tests=[AWL=-0.211, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id FZYklYrAcOAN; Tue,  4 Mar 2008 12:46:00 -0800 (PST)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id BC26A28C698;
	Tue,  4 Mar 2008 12:45:49 -0800 (PST)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id F1AB728C617
	for <sip@core3.amsl.com>; Tue,  4 Mar 2008 12:45:47 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id oyD7qkbzskxr for <sip@core3.amsl.com>;
	Tue,  4 Mar 2008 12:45:47 -0800 (PST)
Received: from mgw-mx03.nokia.com (smtp.nokia.com [192.100.122.230])
	by core3.amsl.com (Postfix) with ESMTP id 779BA28C716
	for <sip@ietf.org>; Tue,  4 Mar 2008 12:44:32 -0800 (PST)
Received: from esebh106.NOE.Nokia.com (esebh106.ntc.nokia.com [172.21.138.213])
	by mgw-mx03.nokia.com (Switch-3.2.6/Switch-3.2.6) with ESMTP id
	m24Ki3l5017251; Tue, 4 Mar 2008 22:44:20 +0200
Received: from esebh103.NOE.Nokia.com ([172.21.143.33]) by
	esebh106.NOE.Nokia.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Tue, 4 Mar 2008 22:44:03 +0200
Received: from mgw-int01.ntc.nokia.com ([172.21.143.96]) by
	esebh103.NOE.Nokia.com over TLS secured channel with Microsoft
	SMTPSVC(6.0.3790.1830); Tue, 4 Mar 2008 22:44:03 +0200
Received: from [10.162.252.197] (essapo-nirac252197.europe.nokia.com
	[10.162.252.197])
	by mgw-int01.ntc.nokia.com (Switch-3.2.5/Switch-3.2.5) with ESMTP id
	m24Ki1B5032540; Tue, 4 Mar 2008 22:44:01 +0200
From: Aki Niemi <aki.niemi@nokia.com>
To: ext Eric Rescorla <ekr@networkresonance.com>
In-Reply-To: <20080304202005.ADD0C5081A@romeo.rtfm.com>
References: <20080303183225.D04A35081A@romeo.rtfm.com>
	<1204628885.15582.7.camel@localhost>
	<20080304151905.4EE005081A@romeo.rtfm.com>
	<1204661227.15582.78.camel@localhost>
	<20080304202005.ADD0C5081A@romeo.rtfm.com>
Organization: Nokia Devices R&D
Date: Tue, 04 Mar 2008 22:44:01 +0200
Message-Id: <1204663441.15582.107.camel@localhost>
Mime-Version: 1.0
X-Mailer: Evolution 2.12.1 
X-OriginalArrivalTime: 04 Mar 2008 20:44:03.0360 (UTC)
	FILETIME=[7B65DA00:01C87E38]
X-Nokia-AV: Clean
Cc: sip@ietf.org
Subject: Re: [Sip] Question on subnot-etags
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


On ti, 2008-03-04 at 12:20 -0800, ext Eric Rescorla wrote:
> > Then I'd appreciate any suggestion to make it clearer.
> 
> Explicitly state that in the case I described that it's permissible
> to deliver the same Etag in the first and third versions.

Something like in S 5.3:

   The subscriber MUST be
   prepared to receive a NOTIFY with any entity-tag value, including a
   value that matches any previous value that the subscriber might have
   seen.

> > > Given that when I asked this question I got two different answers from
> > > Dale and Dean, I submit that the draft might be improved by directly
> > > addressing this point. Note that I don't care about the resolution,
> > > but I do care that the draft be unambiguous.
> > 
> > Can you point out the unambiguity?
> 
> I think Dean did a good job with that, namely that one could
> view "versions" as instances, and that two versions with
> different content are different versions and so need
> different Etags.

That's exactly what the model already says.

Your original question was whether "A" and "A" could have the same etag.
According to the draft, yes. ALso according to the draft, if you decided
to give them a different etag, fine. Nothing would break. Everything
would work exactly the same way.

I'm apparently missing what practical problem the draft is not
addressing.

Cheers,
Aki

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Tue Mar  4 12:53:36 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 96B6E28C593;
	Tue,  4 Mar 2008 12:53:36 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -0.363
X-Spam-Level: 
X-Spam-Status: No, score=-0.363 tagged_above=-999 required=5 tests=[AWL=0.074,
	BAYES_00=-2.599, FH_RELAY_NODNS=1.451, HELO_MISMATCH_ORG=0.611,
	RDNS_NONE=0.1]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 1b7nyxNey3SU; Tue,  4 Mar 2008 12:53:35 -0800 (PST)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 957F828C258;
	Tue,  4 Mar 2008 12:53:35 -0800 (PST)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 88BAA3A68DF
	for <sip@core3.amsl.com>; Tue,  4 Mar 2008 12:53:34 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id aWEWT+QjlqJd for <sip@core3.amsl.com>;
	Tue,  4 Mar 2008 12:53:32 -0800 (PST)
Received: from romeo.rtfm.com (unknown [74.95.2.173])
	by core3.amsl.com (Postfix) with ESMTP id A71F83A6A3F
	for <sip@ietf.org>; Tue,  4 Mar 2008 12:53:31 -0800 (PST)
Received: from romeo.rtfm.com (localhost.rtfm.com [127.0.0.1])
	by romeo.rtfm.com (Postfix) with ESMTP id B737E5081A;
	Tue,  4 Mar 2008 12:55:16 -0800 (PST)
Date: Tue, 04 Mar 2008 12:55:16 -0800
From: Eric Rescorla <ekr@networkresonance.com>
To: Aki Niemi <aki.niemi@nokia.com>
In-Reply-To: <1204663441.15582.107.camel@localhost>
References: <20080303183225.D04A35081A@romeo.rtfm.com>
	<1204628885.15582.7.camel@localhost>
	<20080304151905.4EE005081A@romeo.rtfm.com>
	<1204661227.15582.78.camel@localhost>
	<20080304202005.ADD0C5081A@romeo.rtfm.com>
	<1204663441.15582.107.camel@localhost>
User-Agent: Wanderlust/2.14.0 (Africa) Emacs/21.3 Mule/5.0 (SAKAKI)
MIME-Version: 1.0 (generated by SEMI 1.14.6 - "Maruoka")
Message-Id: <20080304205516.B737E5081A@romeo.rtfm.com>
Cc: sip@ietf.org
Subject: Re: [Sip] Question on subnot-etags
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

At Tue, 04 Mar 2008 22:44:01 +0200,
Aki Niemi wrote:
> 
> 
> On ti, 2008-03-04 at 12:20 -0800, ext Eric Rescorla wrote:
> > > Then I'd appreciate any suggestion to make it clearer.
> > 
> > Explicitly state that in the case I described that it's permissible
> > to deliver the same Etag in the first and third versions.
> 
> Something like in S 5.3:
> 
>    The subscriber MUST be
>    prepared to receive a NOTIFY with any entity-tag value, including a
>    value that matches any previous value that the subscriber might have
>    seen.

Yeah, I don't think that's at all clear. For all I know, that
could mean the server is running in a VM and was rolled back.


> > > > Given that when I asked this question I got two different answers from
> > > > Dale and Dean, I submit that the draft might be improved by directly
> > > > addressing this point. Note that I don't care about the resolution,
> > > > but I do care that the draft be unambiguous.
> > > 
> > > Can you point out the unambiguity?
> > 
> > I think Dean did a good job with that, namely that one could
> > view "versions" as instances, and that two versions with
> > different content are different versions and so need
> > different Etags.
> 
> That's exactly what the model already says.

Sorry, that should have said "the same content".


> Your original question was whether "A" and "A" could have the same etag.
> According to the draft, yes.

But I don't think that's clear as you seem to think it is.


> ALso according to the draft, if you decided
> to give them a different etag, fine. Nothing would break. Everything
> would work exactly the same way.
> 
> I'm apparently missing what practical problem the draft is not
> addressing.

I'm not saying there's a practical problem the draft is not addressing.
I'm saying the draft isn't unambiguous and it's simple to make it
so.

-Ekr

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Tue Mar  4 13:20:39 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 2A1CE3A6ED2;
	Tue,  4 Mar 2008 13:20:39 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -1.555
X-Spam-Level: 
X-Spam-Status: No, score=-1.555 tagged_above=-999 required=5
	tests=[AWL=-1.718, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, J_CHICKENPOX_45=0.6, RDNS_NONE=0.1]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id lluag+vLyzNH; Tue,  4 Mar 2008 13:20:37 -0800 (PST)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id E3B6C3A6DC9;
	Tue,  4 Mar 2008 13:20:32 -0800 (PST)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 2E2E73A6C7B
	for <sip@core3.amsl.com>; Tue,  4 Mar 2008 13:20:31 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id IWvu8rcEF6VV for <sip@core3.amsl.com>;
	Tue,  4 Mar 2008 13:20:29 -0800 (PST)
Received: from rtp-iport-1.cisco.com (rtp-iport-1.cisco.com [64.102.122.148])
	by core3.amsl.com (Postfix) with ESMTP id 164173A6DF8
	for <sip@ietf.org>; Tue,  4 Mar 2008 13:18:03 -0800 (PST)
X-IronPort-AV: E=Sophos;i="4.25,444,1199682000"; 
   d="scan'208";a="437021"
Received: from rtp-dkim-1.cisco.com ([64.102.121.158])
	by rtp-iport-1.cisco.com with ESMTP; 04 Mar 2008 16:17:52 -0500
Received: from rtp-core-2.cisco.com (rtp-core-2.cisco.com [64.102.124.13])
	by rtp-dkim-1.cisco.com (8.12.11/8.12.11) with ESMTP id m24LHrJ8021397; 
	Tue, 4 Mar 2008 16:17:53 -0500
Received: from xbh-rtp-211.amer.cisco.com (xbh-rtp-211.cisco.com
	[64.102.31.102])
	by rtp-core-2.cisco.com (8.12.10/8.12.6) with ESMTP id m24LHSjt023614; 
	Tue, 4 Mar 2008 21:17:52 GMT
Received: from xfe-rtp-201.amer.cisco.com ([64.102.31.38]) by
	xbh-rtp-211.amer.cisco.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Tue, 4 Mar 2008 16:17:41 -0500
Received: from [161.44.174.168] ([161.44.174.168]) by
	xfe-rtp-201.amer.cisco.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Tue, 4 Mar 2008 16:17:40 -0500
Message-ID: <47CDBC83.6050109@cisco.com>
Date: Tue, 04 Mar 2008 16:17:55 -0500
From: Paul Kyzivat <pkyzivat@cisco.com>
User-Agent: Thunderbird 2.0.0.12 (Windows/20080213)
MIME-Version: 1.0
To: Dan Wing <dwing@cisco.com>
References: <41E96F53-A2D1-41EE-93A4-2E61099BDF1D@softarmor.com><0D5F89FAC29E2C41B98A6A762007F5D070BCDD@GBNTHT12009MSX.gb002.siemens.net><47C87303.9090300@bbn.com><7c0101c87b24$780f0af0$5c4f150a@cisco.com><07fc01c87e06$cf25e590$6401a8c0@china.huawei.com><010301c87e2e$8ea85110$c4f0200a@cisco.com>	<0b2101c87e31$a62ca4a0$6401a8c0@china.huawei.com>
	<01be01c87e36$ff222260$c4f0200a@cisco.com>
In-Reply-To: <01be01c87e36$ff222260$c4f0200a@cisco.com>
X-OriginalArrivalTime: 04 Mar 2008 21:17:40.0775 (UTC)
	FILETIME=[2DDEF370:01C87E3D]
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; l=8295; t=1204665473;
	x=1205529473; c=relaxed/simple; s=rtpdkim1001;
	h=Content-Type:From:Subject:Content-Transfer-Encoding:MIME-Version;
	d=cisco.com; i=pkyzivat@cisco.com;
	z=From:=20Paul=20Kyzivat=20<pkyzivat@cisco.com>
	|Subject:=20Re=3A=20[Sip]=20Sanity=20check=20--=20relations
	hip=20between=20DTLS-SRTPand=09Identity |Sender:=20
	|To:=20Dan=20Wing=20<dwing@cisco.com>;
	bh=m1m+dX2IIWq0Tnzng946FHEP8akV4rfcncbU2kWaDk4=;
	b=ZiEs3Bl0FW5m4XmR1kqPxgh+Q7FCGzQBr6VkvTZ0n62JUGkYEyRgM2XRs6
	MUFUYIZ0HF+13Xw36cvP7C5T43SBielGwdI0rQa5sq83A9lOv1kg2j/tQSiJ
	yOR/lSblzm;
Authentication-Results: rtp-dkim-1; header.From=pkyzivat@cisco.com; dkim=pass (
	sig from cisco.com/rtpdkim1001 verified; ); 
Cc: sip@ietf.org
Subject: Re: [Sip] Sanity check -- relationship between DTLS-SRTPand	Identity
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Dan,

What I would *hope* is that a phone for the consumer market would not 
display a phone number as the callerid unless it has good reason to 
believe the caller can indeed be identified by a phone number. For all 
the wierd cases you cite, the phone could simply display that callerid 
is not available, or it could display display the phone number portion 
with some indication that it is suspect, such as ???.

	Paul

Dan Wing wrote:
>  
> 
>> -----Original Message-----
>> From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On 
>> Behalf Of Spencer Dawkins
>> Sent: Tuesday, March 04, 2008 11:55 AM
>> To: sip@ietf.org
>> Subject: Re: [Sip] Sanity check -- relationship between 
>> DTLS-SRTPand Identity
>>
>> Hi, Dan,
>>
>> Sorry, I hit you with collateral damage. I agree with your 
>> point (if the 
>> best we can do is PSTN-equivalent identity, we should do that).
>>
>> My point about brokenness goes all the way back to the 
>> beginning in this 
>> (and related) threads, that we're really vague on either an 
>> E.164 address is 
>> actually reached through the PSTN, but a lot of people seem to have 
>> assumptions in this area (including "if it looks like an 
>> E.164 number, it 
>> probably is, so you can use it as CLID for the user, with no 
>> associated domain information").
> 
> But including the domain doesn't help much with E.164's, anyway.  
> Which is valid:
> 
>   +14085551234@telus.net;user=phone
>   +14085551234@frys-electronics.com;user=phone
>   +14085551234@san-jose.ca.us;user=phone
> 
> or, for that matter, what would Grandma say about:
> 
>   +14085551234@san-jose.ca.us;phone=user
> 
> (phone=user rather than user=phone, which means this is _not_ an E.164 but it
> sure would be convincing to all but perhaps 50 or 60 people involved with SIP
> standards).
> 
> This is all jibberish to users.
> 
> -d
> 
>> Thanks,
>>
>> Spencer
>>
>> ----- Original Message ----- 
>> From: "Dan Wing" <dwing@cisco.com>
>> To: "'Spencer Dawkins'" <spencer@wonderhamster.org>; <sip@ietf.org>
>> Sent: Tuesday, March 04, 2008 1:32 PM
>> Subject: RE: [Sip] Sanity check -- relationship between DTLS-SRTPand 
>> Identity
>>
>>
>>>
>>>> -----Original Message-----
>>>> From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On
>>>> Behalf Of Spencer Dawkins
>>>> Sent: Tuesday, March 04, 2008 6:48 AM
>>>> To: sip@ietf.org
>>>> Subject: Re: [Sip] Sanity check -- relationship between
>>>> DTLS-SRTPand Identity
>>>>
>>>> Just following along with Dan's note from Friday...
>>>>
>>>>>> Personally, I think that the E.164 problem is going to be
>>>>>> hard to solve,
>>>>>> and that it should not hold up DTLS-SRTP framework. (That
>>>> is, that we
>>>>>> should release a DTLS-SRTP framework that only works with
>>>>>> "email-style"
>>>>>> SIP URIs.) That being said, E.164 numbers aren't going
>>>> away any time
>>>>>> soon and so I think RAI should definitely perform work on how
>>>>>> to obtain
>>>>>> useful (as least PSTN-grade) identity guarantees for SIP
>>>>>> requests with
>>>>>> an E.164 number in the From: field.
>>>>> We can do PSTN-grade identity assertions of E.164's 
>> today already:
>>>>> just trust your pre-configured SIP trunk to not lie.  
>> You set up SIP
>>>>> trunks to organizations with a contractual or 
>> gentleman's agreement
>>>>> to not lie.  You don't even need RFC4474 to do that.
>>>>>
>>>>> That is exactly as good as the PSTN's identity.
>>>> If I am understanding the discussion, one key point is that
>>>> we're trying to accommodate implementations that ignore
>>>> right-hand-side of URIs for E.164 (and, worse, anything that might
>>>> look like E.164) on the left-hand-side.
>>>>
>>>> We think this is broken behavior, but we're trying to
>>>> accommodate it? That usually turns out badly.
>>> No, that's not what I was saying.
>>>
>>> If your SIP trunk is with a service provider ("example.net", let's
>>> say), and you have a mutually-authenticated TLS connection 
>> with their
>>> SIP proxy and they give you a From that says 
>> +14085551234@example.net,
>>> you now have an identity assertion from your service 
>> provider that is
>>> exactly as good as the PSTN's identity assertion from your PSTN
>>> provider.
>>>
>>>>>> On the other hand, perhaps the SBC problem is one that we
>>>>>> should resolve
>>>>>> before advancing DTLS-SRTP framework. In particular, there
>>>>>> are at least
>>>>>> two proposals on the table (I.D-wing-identity-media and
>>>>>> I.D-fischer-sip-e2e-sec-media) that say "use something 
>> other than
>>>>>> RFC4474 for DTLS-SRTP framework". However, the concern
>>>> that I have in
>>>>>> solving this problem is that, in the absence of guidelines
>>>> for how a
>>>>>> 'well-behaving' SBC will handle particular headers or SDP
>>>>>> bodies, it's
>>>>>> hard to design a protocol that will interoperate well with SBCs.
>>>>>>
>>>>>> Note: Obviously, this concern is not DTLS-SRTP-Framework
>>>> specific and
>>>>>> given that SBC-issues keep coming up in a variety of
>>>> working groups,
>>>>>> perhaps RAI needs to reach consensus that either:
>>>>>> A) We will not address SBC-related concerns when engineering
>>>>>> protocols
>>>>>> (e.g. we advance DTLS-SRTP without solving the SBC problem).
>>>>>> B) We will seek to design protocols that interoperate 
>> with "most"
>>>>>> existing SBCs at the time the protocol specification is written.
>>>>>> C) We will seek to design protocols that interoperate with
>>>>>> "well-behaving" SBCs (i.e. SBCs that adhere to the 
>> following set of
>>>>>> guidelines).
>>>>>> D) ?????
>>>>> This is all feeling very much like the history of the IETF's
>>>>> involvement with NATs and the IETF's involvement with firewalls.
>>>> Well said. If I may expand this statement...
>>>>
>>>> - NATs translate addresses (and ports). That's brain-dead
>>>> simple if you
>>>> don't mind breaking protocols that embed literal addresses as
>>>> part of the
>>>> payload. So BEHAVE got chartered.
>>>>
>>>> - If you want these protocols to work, you need an 
>> application level
>>>> gateway, too, but that's doable for any protocol that's
>>>> well-documented
>>>> enough to implement an endpoint. So if you're OK with B2B for an
>>>> application, you don't need to do anything to accommodate ALGs.
>>>>
>>>> - firewalls drop packets based on policy. How those decisions
>>>> are made, is
>>>> less well-understood. BEHAVE was specifically NOT chartered
>>>> for firewall
>>>> work (and it's not like we forgot about this during charter
>>>> discussions).
>>>>
>>>> - we've been looking at SBCs for a while now, and we've 
>> ended up with
>>>> multiple dozens of SBC functions documented in
>>>> http://www.ietf.org/internet-drafts/draft-ietf-sipping-sbc-fun
>>>> cs-04.txt. If
>>>> we didn't charter work to define "well-behaved firewalls",
>>>> I'm having a hard
>>>> time visualizing us chartering work to define "well-behaved SBCs".
>>>>
>>>> Other people may expect a happier outcome, but I'm not sure why.
>>> NATs and firewalls both attempt to perform their operations silently
>>> and without involvement or interaction or knowledge of hosts.  There
>>> are places where this breaks (hence: IETF's development of ICE;
>>> the existence of UPnP and NAT-PMP; the existence of "hosted NAT
>>> traversal", one of the many features of an SBC).
>>>
>>> SBCs are always present on the path and are never 
>> invisible:  SIP and
>>> media packets are sent to their IP address.
>>>
>>> -d
>>>
>>>
>>
>> _______________________________________________
>> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
>> This list is for NEW development of the core SIP Protocol
>> Use sip-implementors@cs.columbia.edu for questions on current sip
>> Use sipping@ietf.org for new developments on the application of sip
> 
> _______________________________________________
> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
> 
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Tue Mar  4 13:25:01 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 8E93228C261;
	Tue,  4 Mar 2008 13:25:01 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -1.213
X-Spam-Level: 
X-Spam-Status: No, score=-1.213 tagged_above=-999 required=5
	tests=[AWL=-1.376, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, J_CHICKENPOX_45=0.6, RDNS_NONE=0.1]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id ofcs85AW+SiP; Tue,  4 Mar 2008 13:25:00 -0800 (PST)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id ABFA03A6EAE;
	Tue,  4 Mar 2008 13:24:58 -0800 (PST)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id C03363A6E46
	for <sip@core3.amsl.com>; Tue,  4 Mar 2008 13:24:57 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 9VCeUlJkpqYy for <sip@core3.amsl.com>;
	Tue,  4 Mar 2008 13:24:56 -0800 (PST)
Received: from sj-iport-3.cisco.com (sj-iport-3.cisco.com [171.71.176.72])
	by core3.amsl.com (Postfix) with ESMTP id A60D73A6F23
	for <sip@ietf.org>; Tue,  4 Mar 2008 13:24:21 -0800 (PST)
Received: from sj-dkim-7.cisco.com ([171.68.10.88])
	by sj-iport-3.cisco.com with ESMTP; 04 Mar 2008 13:24:12 -0800
Received: from sj-core-5.cisco.com (sj-core-5.cisco.com [171.71.177.238])
	by sj-dkim-7.cisco.com (8.12.11/8.12.11) with ESMTP id m24LOCgc008921; 
	Tue, 4 Mar 2008 13:24:12 -0800
Received: from dwingwxp01 ([10.32.240.196])
	by sj-core-5.cisco.com (8.12.10/8.12.6) with ESMTP id m24LOBXK027024;
	Tue, 4 Mar 2008 21:24:11 GMT
From: "Dan Wing" <dwing@cisco.com>
To: "'Paul Kyzivat'" <pkyzivat@cisco.com>
References: <41E96F53-A2D1-41EE-93A4-2E61099BDF1D@softarmor.com><0D5F89FAC29E2C41B98A6A762007F5D070BCDD@GBNTHT12009MSX.gb002.siemens.net><47C87303.9090300@bbn.com><7c0101c87b24$780f0af0$5c4f150a@cisco.com><07fc01c87e06$cf25e590$6401a8c0@china.huawei.com><010301c87e2e$8ea85110$c4f0200a@cisco.com>	<0b2101c87e31$a62ca4a0$6401a8c0@china.huawei.com>
	<01be01c87e36$ff222260$c4f0200a@cisco.com>
	<47CDBC83.6050109@cisco.com>
Date: Tue, 4 Mar 2008 13:24:11 -0800
Message-ID: <024501c87e3e$16f0a180$c4f0200a@cisco.com>
MIME-Version: 1.0
X-Mailer: Microsoft Office Outlook 11
In-Reply-To: <47CDBC83.6050109@cisco.com>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.3198
Thread-Index: Ach+PS/LZxP9q4hzTeiYq083DbpbSAAANqiQ
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; l=9150; t=1204665852;
	x=1205529852; c=relaxed/simple; s=sjdkim7002;
	h=Content-Type:From:Subject:Content-Transfer-Encoding:MIME-Version;
	d=cisco.com; i=dwing@cisco.com;
	z=From:=20=22Dan=20Wing=22=20<dwing@cisco.com>
	|Subject:=20RE=3A=20[Sip]=20Sanity=20check=20--=20relations
	hip=20between=20DTLS-SRTPand=09Identity |Sender:=20;
	bh=iuEXTbvuBUf4vDsrcQRSBkhxNpV5noePNx/OgIJDfWw=;
	b=IMvhNy9DeFt5hzvCzKivFM0gqR8D07U5hRlkM5eSMiy5i8aZx4rFLOYoTQ
	K1ZwpF2H+RX4zs3JTAKSvmlm3ZIhoxV6CAheoAfgI/5YmiUAqOZt9tqNMpJE
	pnrqDrJUld;
Authentication-Results: sj-dkim-7; header.From=dwing@cisco.com; dkim=pass (
	sig from cisco.com/sjdkim7002 verified; ); 
Cc: sip@ietf.org
Subject: Re: [Sip] Sanity check -- relationship between DTLS-SRTPand	Identity
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

 

> -----Original Message-----
> From: Paul Kyzivat [mailto:pkyzivat@cisco.com] 
> Sent: Tuesday, March 04, 2008 1:18 PM
> To: Dan Wing
> Cc: 'Spencer Dawkins'; sip@ietf.org
> Subject: Re: [Sip] Sanity check -- relationship between 
> DTLS-SRTPand Identity
> 
> Dan,
> 
> What I would *hope* is that a phone for the consumer market would not 
> display a phone number as the callerid unless it has good reason to 
> believe the caller can indeed be identified by a phone 
> number. For all 
> the wierd cases you cite, the phone could simply display that 
> callerid 
> is not available, or it could display display the phone 
> number portion 
> with some indication that it is suspect, such as ???.

I share a similar hope.

But the IETF has a poor history of influencing user interface behavior.

-d


> 	Paul
> 
> Dan Wing wrote:
> >  
> > 
> >> -----Original Message-----
> >> From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On 
> >> Behalf Of Spencer Dawkins
> >> Sent: Tuesday, March 04, 2008 11:55 AM
> >> To: sip@ietf.org
> >> Subject: Re: [Sip] Sanity check -- relationship between 
> >> DTLS-SRTPand Identity
> >>
> >> Hi, Dan,
> >>
> >> Sorry, I hit you with collateral damage. I agree with your 
> >> point (if the 
> >> best we can do is PSTN-equivalent identity, we should do that).
> >>
> >> My point about brokenness goes all the way back to the 
> >> beginning in this 
> >> (and related) threads, that we're really vague on either an 
> >> E.164 address is 
> >> actually reached through the PSTN, but a lot of people 
> seem to have 
> >> assumptions in this area (including "if it looks like an 
> >> E.164 number, it 
> >> probably is, so you can use it as CLID for the user, with no 
> >> associated domain information").
> > 
> > But including the domain doesn't help much with E.164's, anyway.  
> > Which is valid:
> > 
> >   +14085551234@telus.net;user=phone
> >   +14085551234@frys-electronics.com;user=phone
> >   +14085551234@san-jose.ca.us;user=phone
> > 
> > or, for that matter, what would Grandma say about:
> > 
> >   +14085551234@san-jose.ca.us;phone=user
> > 
> > (phone=user rather than user=phone, which means this is 
> _not_ an E.164 but it
> > sure would be convincing to all but perhaps 50 or 60 people 
> involved with SIP
> > standards).
> > 
> > This is all jibberish to users.
> > 
> > -d
> > 
> >> Thanks,
> >>
> >> Spencer
> >>
> >> ----- Original Message ----- 
> >> From: "Dan Wing" <dwing@cisco.com>
> >> To: "'Spencer Dawkins'" <spencer@wonderhamster.org>; <sip@ietf.org>
> >> Sent: Tuesday, March 04, 2008 1:32 PM
> >> Subject: RE: [Sip] Sanity check -- relationship between 
> DTLS-SRTPand 
> >> Identity
> >>
> >>
> >>>
> >>>> -----Original Message-----
> >>>> From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On
> >>>> Behalf Of Spencer Dawkins
> >>>> Sent: Tuesday, March 04, 2008 6:48 AM
> >>>> To: sip@ietf.org
> >>>> Subject: Re: [Sip] Sanity check -- relationship between
> >>>> DTLS-SRTPand Identity
> >>>>
> >>>> Just following along with Dan's note from Friday...
> >>>>
> >>>>>> Personally, I think that the E.164 problem is going to be
> >>>>>> hard to solve,
> >>>>>> and that it should not hold up DTLS-SRTP framework. (That
> >>>> is, that we
> >>>>>> should release a DTLS-SRTP framework that only works with
> >>>>>> "email-style"
> >>>>>> SIP URIs.) That being said, E.164 numbers aren't going
> >>>> away any time
> >>>>>> soon and so I think RAI should definitely perform work on how
> >>>>>> to obtain
> >>>>>> useful (as least PSTN-grade) identity guarantees for SIP
> >>>>>> requests with
> >>>>>> an E.164 number in the From: field.
> >>>>> We can do PSTN-grade identity assertions of E.164's 
> >> today already:
> >>>>> just trust your pre-configured SIP trunk to not lie.  
> >> You set up SIP
> >>>>> trunks to organizations with a contractual or 
> >> gentleman's agreement
> >>>>> to not lie.  You don't even need RFC4474 to do that.
> >>>>>
> >>>>> That is exactly as good as the PSTN's identity.
> >>>> If I am understanding the discussion, one key point is that
> >>>> we're trying to accommodate implementations that ignore
> >>>> right-hand-side of URIs for E.164 (and, worse, anything 
> that might
> >>>> look like E.164) on the left-hand-side.
> >>>>
> >>>> We think this is broken behavior, but we're trying to
> >>>> accommodate it? That usually turns out badly.
> >>> No, that's not what I was saying.
> >>>
> >>> If your SIP trunk is with a service provider ("example.net", let's
> >>> say), and you have a mutually-authenticated TLS connection 
> >> with their
> >>> SIP proxy and they give you a From that says 
> >> +14085551234@example.net,
> >>> you now have an identity assertion from your service 
> >> provider that is
> >>> exactly as good as the PSTN's identity assertion from your PSTN
> >>> provider.
> >>>
> >>>>>> On the other hand, perhaps the SBC problem is one that we
> >>>>>> should resolve
> >>>>>> before advancing DTLS-SRTP framework. In particular, there
> >>>>>> are at least
> >>>>>> two proposals on the table (I.D-wing-identity-media and
> >>>>>> I.D-fischer-sip-e2e-sec-media) that say "use something 
> >> other than
> >>>>>> RFC4474 for DTLS-SRTP framework". However, the concern
> >>>> that I have in
> >>>>>> solving this problem is that, in the absence of guidelines
> >>>> for how a
> >>>>>> 'well-behaving' SBC will handle particular headers or SDP
> >>>>>> bodies, it's
> >>>>>> hard to design a protocol that will interoperate well 
> with SBCs.
> >>>>>>
> >>>>>> Note: Obviously, this concern is not DTLS-SRTP-Framework
> >>>> specific and
> >>>>>> given that SBC-issues keep coming up in a variety of
> >>>> working groups,
> >>>>>> perhaps RAI needs to reach consensus that either:
> >>>>>> A) We will not address SBC-related concerns when engineering
> >>>>>> protocols
> >>>>>> (e.g. we advance DTLS-SRTP without solving the SBC problem).
> >>>>>> B) We will seek to design protocols that interoperate 
> >> with "most"
> >>>>>> existing SBCs at the time the protocol specification 
> is written.
> >>>>>> C) We will seek to design protocols that interoperate with
> >>>>>> "well-behaving" SBCs (i.e. SBCs that adhere to the 
> >> following set of
> >>>>>> guidelines).
> >>>>>> D) ?????
> >>>>> This is all feeling very much like the history of the IETF's
> >>>>> involvement with NATs and the IETF's involvement with firewalls.
> >>>> Well said. If I may expand this statement...
> >>>>
> >>>> - NATs translate addresses (and ports). That's brain-dead
> >>>> simple if you
> >>>> don't mind breaking protocols that embed literal addresses as
> >>>> part of the
> >>>> payload. So BEHAVE got chartered.
> >>>>
> >>>> - If you want these protocols to work, you need an 
> >> application level
> >>>> gateway, too, but that's doable for any protocol that's
> >>>> well-documented
> >>>> enough to implement an endpoint. So if you're OK with B2B for an
> >>>> application, you don't need to do anything to accommodate ALGs.
> >>>>
> >>>> - firewalls drop packets based on policy. How those decisions
> >>>> are made, is
> >>>> less well-understood. BEHAVE was specifically NOT chartered
> >>>> for firewall
> >>>> work (and it's not like we forgot about this during charter
> >>>> discussions).
> >>>>
> >>>> - we've been looking at SBCs for a while now, and we've 
> >> ended up with
> >>>> multiple dozens of SBC functions documented in
> >>>> http://www.ietf.org/internet-drafts/draft-ietf-sipping-sbc-fun
> >>>> cs-04.txt. If
> >>>> we didn't charter work to define "well-behaved firewalls",
> >>>> I'm having a hard
> >>>> time visualizing us chartering work to define 
> "well-behaved SBCs".
> >>>>
> >>>> Other people may expect a happier outcome, but I'm not sure why.
> >>> NATs and firewalls both attempt to perform their 
> operations silently
> >>> and without involvement or interaction or knowledge of 
> hosts.  There
> >>> are places where this breaks (hence: IETF's development of ICE;
> >>> the existence of UPnP and NAT-PMP; the existence of "hosted NAT
> >>> traversal", one of the many features of an SBC).
> >>>
> >>> SBCs are always present on the path and are never 
> >> invisible:  SIP and
> >>> media packets are sent to their IP address.
> >>>
> >>> -d
> >>>
> >>>
> >>
> >> _______________________________________________
> >> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> >> This list is for NEW development of the core SIP Protocol
> >> Use sip-implementors@cs.columbia.edu for questions on current sip
> >> Use sipping@ietf.org for new developments on the application of sip
> > 
> > _______________________________________________
> > Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> > This list is for NEW development of the core SIP Protocol
> > Use sip-implementors@cs.columbia.edu for questions on current sip
> > Use sipping@ietf.org for new developments on the application of sip
> > 

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Tue Mar  4 13:40:48 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id B546228C621;
	Tue,  4 Mar 2008 13:40:48 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -0.531
X-Spam-Level: 
X-Spam-Status: No, score=-0.531 tagged_above=-999 required=5
	tests=[AWL=-0.094, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id zCwCuBr4f1Ps; Tue,  4 Mar 2008 13:40:47 -0800 (PST)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id BAF5E28C3B5;
	Tue,  4 Mar 2008 13:40:47 -0800 (PST)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 54F1E28C5CD
	for <sip@core3.amsl.com>; Tue,  4 Mar 2008 13:40:46 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id WaNAMEXxbDCG for <sip@core3.amsl.com>;
	Tue,  4 Mar 2008 13:40:45 -0800 (PST)
Received: from bender-mail.tigertech.net (bender-mail.tigertech.net
	[64.62.209.30]) by core3.amsl.com (Postfix) with ESMTP id 903C33A6D53
	for <sip@ietf.org>; Tue,  4 Mar 2008 13:40:45 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by bender.tigertech.net (Postfix) with ESMTP id 593D67E31;
	Tue,  4 Mar 2008 13:40:36 -0800 (PST)
Received: from [192.168.1.33] (pool-71-161-50-201.clppva.east.verizon.net
	[71.161.50.201])
	(using TLSv1 with cipher DHE-RSA-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by bender.tigertech.net (Postfix) with ESMTP id 732F07E41;
	Tue,  4 Mar 2008 13:40:33 -0800 (PST)
Message-ID: <47CDC1C1.1070002@joelhalpern.com>
Date: Tue, 04 Mar 2008 16:40:17 -0500
From: "Joel M. Halpern" <jmh@joelhalpern.com>
User-Agent: Thunderbird 2.0.0.12 (Windows/20080213)
MIME-Version: 1.0
To: Spencer Dawkins <spencer@wonderhamster.org>
References: <41E96F53-A2D1-41EE-93A4-2E61099BDF1D@softarmor.com><0D5F89FAC29E2C41B98A6A762007F5D070BCDD@GBNTHT12009MSX.gb002.siemens.net><47C87303.9090300@bbn.com>	<7c0101c87b24$780f0af0$5c4f150a@cisco.com>
	<07fc01c87e06$cf25e590$6401a8c0@china.huawei.com>
In-Reply-To: <07fc01c87e06$cf25e590$6401a8c0@china.huawei.com>
X-Enigmail-Version: 0.95.6
X-Virus-Scanned: by amavisd-new-20030616-p10 (Debian) at tigertech.net
Cc: sip@ietf.org
Subject: Re: [Sip] Sanity check -- relationship between DTLS-SRTPand	Identity
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Below, for emphasis:

Spencer Dawkins wrote:
> Just following along with Dan's note from Friday...
...
> 
> If I am understanding the discussion, one key point is that we're trying to 
> accommodate implementations that ignore right-hand-side of URIs for E.164 
> (and, worse, anything that might look like E.164) on the left-hand-side.
> 
> We think this is broken behavior, but we're trying to accommodate it? That 
> usually turns out badly.

Trying to support end-devices that do the wrong thing (ignore an 
important part of a URI) is both a bad idea and fraught with disaster. 
SIP doesn't work if you ignore the right hand side of a SIP URI.

Now, if we want to have two identity assertion mechanisms, one relative 
to a full URI, and one relative to a phone number, then senders (or 
their proxies) can choose whether a phone number assertion is relevant. 
  And sensible users can ignore phone number assertiosn, since PSTN 
authentication is so weak.

Yours,
Joel

PS: Yes, I keep getting answers of the form "devices do that".  This is 
not like the NAT case, where we have to work around devices in the 
middle.  There are cases like that (NAT) in SIP.  And we try to deal 
with those.  But this is purely about what the end device chooses to 
present to its local user.
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Tue Mar  4 15:45:30 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 86FB828C60C;
	Tue,  4 Mar 2008 15:45:30 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -0.587
X-Spam-Level: 
X-Spam-Status: No, score=-0.587 tagged_above=-999 required=5
	tests=[AWL=-0.150, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id W3rXYLX9vHiD; Tue,  4 Mar 2008 15:45:29 -0800 (PST)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 1DDA13A6C40;
	Tue,  4 Mar 2008 15:45:29 -0800 (PST)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 3D5803A693A
	for <sip@core3.amsl.com>; Tue,  4 Mar 2008 15:45:27 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id EJIuOUlaIQkx for <sip@core3.amsl.com>;
	Tue,  4 Mar 2008 15:45:25 -0800 (PST)
Received: from nylon.softarmor.com (nylon.softarmor.com [66.135.38.164])
	by core3.amsl.com (Postfix) with ESMTP id CC9D63A6C40
	for <sip@ietf.org>; Tue,  4 Mar 2008 15:45:19 -0800 (PST)
Received: from [192.168.2.100] (cpe-76-185-142-113.tx.res.rr.com
	[76.185.142.113] (may be forged)) (authenticated bits=0)
	by nylon.softarmor.com (8.13.8/8.13.8/Debian-3) with ESMTP id
	m24Nj0lL002467
	(version=TLSv1/SSLv3 cipher=AES128-SHA bits=128 verify=NOT);
	Tue, 4 Mar 2008 17:45:02 -0600
Message-Id: <FDA7D1E2-F369-46D2-93B9-BBC28AACDB6C@softarmor.com>
From: Dean Willis <dean.willis@softarmor.com>
To: Dan Wing <dwing@cisco.com>
In-Reply-To: <01a801c87e34$a27b7c20$c4f0200a@cisco.com>
Mime-Version: 1.0 (Apple Message framework v919.2)
Date: Tue, 4 Mar 2008 17:44:55 -0600
References: <41E96F53-A2D1-41EE-93A4-2E61099BDF1D@softarmor.com><0D5F89FAC29E2C41B98A6A762007F5D070BCDD@GBNTHT12009MSX.gb002.siemens.net><47C87303.9090300@bbn.com><7c0101c87b24$780f0af0$5c4f150a@cisco.com>	<07fc01c87e06$cf25e590$6401a8c0@china.huawei.com>
	<010301c87e2e$8ea85110$c4f0200a@cisco.com>
	<47CDA92F.7000106@cisco.com>
	<01a801c87e34$a27b7c20$c4f0200a@cisco.com>
X-Mailer: Apple Mail (2.919.2)
Cc: sip@ietf.org, 'Michael Thomas' <mat@cisco.com>
Subject: Re: [Sip] [dkim unverified] Re: Sanity check -- relationship
	between DTLS-SRTPand	Identity
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


On Mar 4, 2008, at 2:16 PM, Dan Wing wrote:
>>
>> This sticks in my craw. The PSTN universe is a lot more
>> closed than the
>> internet is. And the PSTN universe is not exactly air tight
>> either. Unless of course the subtext of "as good" is "crappy".
>
> That is my subtext, yes.


Personally, I'm thinking I'd like to see an Identity entry that warns  
me that the assertion of identity is only PSTN grade.

I can envision a user-interface component like a signal-strength meter  
that pops up when my phone displays caller ID. A PSTN-grade assertion  
might be 1 bar, whereas an assertion from a trusted server that's made  
a mutual-cert verification might be 5 bars.

--
Dean

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Tue Mar  4 19:35:17 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 3B8E128C2A9;
	Tue,  4 Mar 2008 19:35:17 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: 0.054
X-Spam-Level: 
X-Spam-Status: No, score=0.054 tagged_above=-999 required=5 tests=[AWL=-0.709,
	BAYES_00=-2.599, FH_RELAY_NODNS=1.451, HELO_MISMATCH_ORG=0.611,
	J_CHICKENPOX_14=0.6, J_CHICKENPOX_15=0.6, RDNS_NONE=0.1]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 3fjVHKZf-uN9; Tue,  4 Mar 2008 19:35:15 -0800 (PST)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id D4A703A6DD9;
	Tue,  4 Mar 2008 19:35:15 -0800 (PST)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 74DB53A6DAA
	for <sip@core3.amsl.com>; Tue,  4 Mar 2008 19:35:14 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id c6nAA2WeYpe5 for <sip@core3.amsl.com>;
	Tue,  4 Mar 2008 19:35:12 -0800 (PST)
Received: from QMTA03.westchester.pa.mail.comcast.net
	(qmta03.westchester.pa.mail.comcast.net [76.96.62.32])
	by core3.amsl.com (Postfix) with ESMTP id 093A93A6DA7
	for <sip@ietf.org>; Tue,  4 Mar 2008 19:35:11 -0800 (PST)
Received: from OMTA10.westchester.pa.mail.comcast.net ([76.96.62.28])
	by QMTA03.westchester.pa.mail.comcast.net with comcast
	id x0i71Y00A0cZkys5312w00; Wed, 05 Mar 2008 03:34:17 +0000
Received: from dragon.ariadne.com ([76.19.174.1])
	by OMTA10.westchester.pa.mail.comcast.net with comcast
	id xFas1Y00N02AVH03W00000; Wed, 05 Mar 2008 03:34:52 +0000
X-Authority-Analysis: v=1.0 c=1 a=8pif782wAAAA:8 a=nzVQlecgCqaZWe0_zxQA:9
	a=kbxPnKyJrVqJUAz2fbgA:7 a=FpP0ObgmAexkPJAnSaffuuKeqjQA:4
	a=JfD0Fch1gWkA:10 a=8y7tGHue6YMA:10
Received: from dragon.ariadne.com (dragon.ariadne.com [127.0.0.1])
	by dragon.ariadne.com (8.12.8/8.12.8) with ESMTP id m253YqMj001686
	for <sip@ietf.org>; Tue, 4 Mar 2008 22:34:52 -0500
Received: (from worley@localhost)
	by dragon.ariadne.com (8.12.8/8.12.8/Submit) id m253YprO001682;
	Tue, 4 Mar 2008 22:34:51 -0500
Date: Tue, 4 Mar 2008 22:34:51 -0500
Message-Id: <200803050334.m253YprO001682@dragon.ariadne.com>
To: sip@ietf.org
From: Dale.Worley@comcast.net
In-reply-to: <47CC928C.3090100@cisco.com> (pkyzivat@cisco.com)
References: <5D1A7985295922448D5550C94DE2918001CB053E@DEEXC1U01.de.lucent.com>
	<200803032121.m23LL0jI031195@dragon.ariadne.com>
	<47CC928C.3090100@cisco.com>
Subject: Re: [Sip] draft-ietf-sip-body-handling-01
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
MIME-Version: 1.0
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

   From: Paul Kyzivat <pkyzivat@cisco.com>

   Can you explain more about how you reached this conclusion?

It started when I was thinking that what this draft needs (IMHO) is to
have a statement of "what the rules are", that is, the rules for
interpreting or deciding whether to accept a body, with all the rules
written in one place, so we can stare at them and see if anything is
missing.  (So far, we've been writing text to explain ambiguous points
in the previous texts, but a textual structure like that makes it hard
to see if you've really covered all the cases.)

I then started to outline in my head how I would organize such a
statement:
    defaulting rules for Content-Disposition
    scoping and validity of 'cid'
    assumptions about accepting and processing non-multipart types
    accepting and processing rules for each multipart type

At that point, I noticed that there could be interdependencies between
accepting one part and accepting another part.  That is usually the
signal that the problem in question is NP-complete.  (In practice,
meaning that deciding what to do could take an amount of time which is
the exponential of the number of body parts to be considered, and that
the decision algorithm requires backtracking.)

So I then attempted to prove that the problem was NP-complete by the
process of reducing the problem "3-satisfiability" to the problem of
determining if a body is acceptable.  And it turns out that is fairly
simple.

In order to make this construction work, I needed to assume the
following features of our body-part scheme, all of which seem to be
accepted as requirements:

    If all parts of a multipart/mixed are marked handling=required,
    then the body can be processed only if all the parts can be
    processed.

    A multipart/alternative with 2 parts can be processed if either
    part can be processed, and one part must be chosen for processing,
    leaving the other part un-processed.

    A part can contain 'cid' URLs, which cause the referenced parts to
    be processed.

    A part marked "Content-Disposition: by-reference; handling=required"
    can only be processed if a previous component referencing it via a
    'cid' URL is processed.

What makes this situation problematic is not that deciding whether and
how to process a complex body make take exponential time (since that
will generally happen only in pathological cases), but rather that
most straightforward algorithms for making the decision will have to
implement backtracking (which will sometimes be required even in
non-pathological cases).

(Here beginneth the technical part.)

The reduction is as follows:

http://en.wikipedia.org/wiki/NP-complete
http://en.wikipedia.org/wiki/Reduction_%28complexity%29
http://en.wikipedia.org/wiki/3-satisfiability#3-satisfiability

Choose an instance of the 3-satisfiability problem, that is: a set of
boolean variables A, B, C, etc. and a formula composed of:
	a series of "clauses" joined by AND, consisting of
		a series of variables and their negations joined by OR.
The problem is to determine if there is any assignment of truth values
to the variables which makes the formula true, that is, which makes
true one of the variables or negations in each of the clauses.

For example, choose 4 variables A, B, C, and D, and the formula

(A OR B OR C) AND (B OR NOT-C OR D) AND (NOT-A OR NOT-B OR NOT-D)

This can be satisfied by setting A=TRUE, B=FALSE, C=TRUE, and D=FALSE.

Construct a multipart/mixed with each component labeled
handling=required.  Within that, for each variable, have a part which
is multipart/alternate with 2 parts.  If processing chooses the first
part of the part corresponding to a variable, that will model the
variable being TRUE.  If processing chooses the second part of the
part corresponding to a variable, that will model the variable being
FALSE.

For example, our body starts:

	multipart/mixed
		multipart/alternative;handling=required
			first part corresponding to A (not yet specified)
			second part corresponding to NOT-A
		multipart/alternative;handling=required
			first part corresponding to B
			second part corresponding to NOT-B
		multipart/alternative;handling=required
			first part corresponding to C
			second part corresponding to NOT-C
		multipart/alternative;handling=required
			first part corresponding to D
			second part corresponding to NOT-D

For each clause of the formula, add an additional body part, marked
"Content-Disposition: by-reference; handling=required".  Give the part
a 'cid' URL.  The ability of the recipient to successfully process
this part will model making the corresponding clause TRUE.

For example, our body is now:

	multipart/mixed
		multipart/alternative;handling=required
			first part corresponding to A (not yet specified)
			second part corresponding to NOT-A
		multipart/alternative;handling=required
			first part corresponding to B
			second part corresponding to NOT-B
		multipart/alternative;handling=required
			first part corresponding to C
			second part corresponding to NOT-C
		multipart/alternative;handling=required
			first part corresponding to D
			second part corresponding to NOT-D
		part (not otherwise specified);by-reference;handling=required;cid=clause1
		part (not otherwise specified);by-reference;handling=required;cid=clause2
		part (not otherwise specified);by-reference;handling=required;cid=clause3

We now want to arrange things so that one of the last 3 parts can be
successfully processed only if we choose for processing one of the
earlier parts that corresponds to a variable value that will make the
corresponding clause true.  This is done by embedding forward
references in the variable-corresponding parts that refer to the
clause-corresponding parts.

For example:

	multipart/mixed
		multipart/alternative;handling=required
			first part corresponding to A
				references cid:clause1
			second part corresponding to NOT-A
				references cid:clause3
		multipart/alternative;handling=required
			first part corresponding to B
				references cid:clause1
				references cid:clause2
			second part corresponding to NOT-B
				references cid:clause3
		multipart/alternative;handling=required
			first part corresponding to C
				references cid:clause1
			second part corresponding to NOT-C
				references cid:clause2
		multipart/alternative;handling=required
			first part corresponding to D
				references cid:clause2
			second part corresponding to NOT-D
				references cid:clause3
		part;by-reference;handling=required;cid=clause1
		part;by-reference;handling=required;cid=clause2
		part;by-reference;handling=required;cid=clause3

In order to process this body, the recipient must choose exactly one
of each pair of bodies in the multipart/alternative body parts.  This
choice is equivalent to choosing a set of values for the variables.
The references embedded in the chosen parts refer to the body parts
that correspond to the clauses which are made true by the
corresponding variable's value.  In order to successfully process the
final body parts, the recipient must have chosen a set of variable
values that makes all of the clauses true.

Dale
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Tue Mar  4 20:25:19 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 5131E28C1F7;
	Tue,  4 Mar 2008 20:25:19 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -0.536
X-Spam-Level: 
X-Spam-Status: No, score=-0.536 tagged_above=-999 required=5
	tests=[AWL=-0.099, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id VDNX0UU4VjBI; Tue,  4 Mar 2008 20:25:18 -0800 (PST)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 28B9F3A6AB7;
	Tue,  4 Mar 2008 20:25:18 -0800 (PST)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 97AC13A68AD
	for <sip@core3.amsl.com>; Tue,  4 Mar 2008 20:25:17 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id o++l2jOE6HjZ for <sip@core3.amsl.com>;
	Tue,  4 Mar 2008 20:25:15 -0800 (PST)
Received: from QMTA10.westchester.pa.mail.comcast.net
	(qmta10.westchester.pa.mail.comcast.net [76.96.62.17])
	by core3.amsl.com (Postfix) with ESMTP id 5931A3A6878
	for <sip@ietf.org>; Tue,  4 Mar 2008 20:25:12 -0800 (PST)
Received: from OMTA12.westchester.pa.mail.comcast.net ([76.96.62.44])
	by QMTA10.westchester.pa.mail.comcast.net with comcast
	id wzSu1Y0090xGWP85A1DA00; Wed, 05 Mar 2008 04:24:26 +0000
Received: from dragon.ariadne.com ([76.19.174.1])
	by OMTA12.westchester.pa.mail.comcast.net with comcast
	id xGR11Y00502AVH03Y00000; Wed, 05 Mar 2008 04:25:01 +0000
X-Authority-Analysis: v=1.0 c=1 a=FOs_LcPODeIA:10 a=xVrSfayg5KSqXSeoaXcA:9
	a=B2U6fJyZr5sCXKBbD4ilISo1UfAA:4 a=JfD0Fch1gWkA:10 a=8y7tGHue6YMA:10
Received: from dragon.ariadne.com (dragon.ariadne.com [127.0.0.1])
	by dragon.ariadne.com (8.12.8/8.12.8) with ESMTP id m254P1Mj005403
	for <sip@ietf.org>; Tue, 4 Mar 2008 23:25:01 -0500
Received: (from worley@localhost)
	by dragon.ariadne.com (8.12.8/8.12.8/Submit) id m254P0Ir005399;
	Tue, 4 Mar 2008 23:25:00 -0500
Date: Tue, 4 Mar 2008 23:25:00 -0500
Message-Id: <200803050425.m254P0Ir005399@dragon.ariadne.com>
To: sip@ietf.org
From: Dale.Worley@comcast.net
In-reply-to: <47CC2D56.7010803@cisco.com> (pkyzivat@cisco.com)
References: <F86B91A10B14744E88408E80B8A30EF302B3B006@xmb-hkg-412.apac.cisco.com>	<47C6F37B.7010609@cisco.com>
	<200803010326.m213QuF8026325@dragon.ariadne.com>
	<47CC2D56.7010803@cisco.com>
Subject: Re: [Sip] Contact header in 1xx responses/updates remote target or
 not?
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
MIME-Version: 1.0
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

   From: Paul Kyzivat <pkyzivat@cisco.com>

   The UAC may want to send BYE (as opposed to CANCEL) because it doesn't 
   want *this* one.

Interesting -- I'd never thought of sending BYE on an early dialog.
But clearly it's possible and clearly it terminates the dialog.  I
wonder if any phones do that?

   The Contact is one of the attributes of dialog state. AFAIK we don't 
   have the notion of a dialog that exists but for which some state is 
   unknown.

   Its really a matter of which poison you want here.

I've tried thinking about this some more, and I am beginning to
believe that there is no situation where there is a functional
difference between the two strategies, that is, not creating an early
dialog when a 1xx without Contact arrives, and creating an early
dialog without a recorded Contact from such a 1xx.  So it probably
doesn't matter which choice one makes.

Dale
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Tue Mar  4 20:49:25 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 327DA28C412;
	Tue,  4 Mar 2008 20:49:25 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -0.406
X-Spam-Level: 
X-Spam-Status: No, score=-0.406 tagged_above=-999 required=5 tests=[AWL=0.031,
	BAYES_00=-2.599, FH_RELAY_NODNS=1.451, HELO_MISMATCH_ORG=0.611,
	RDNS_NONE=0.1]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id rOOocjXvPluw; Tue,  4 Mar 2008 20:49:23 -0800 (PST)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id C578628C2DC;
	Tue,  4 Mar 2008 20:49:22 -0800 (PST)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 4B77A28C298
	for <sip@core3.amsl.com>; Tue,  4 Mar 2008 20:49:21 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id AN6ToC99boVM for <sip@core3.amsl.com>;
	Tue,  4 Mar 2008 20:49:20 -0800 (PST)
Received: from sg.ntt-at.co.jp (roma.ntt-at.co.jp [202.253.160.19])
	by core3.amsl.com (Postfix) with SMTP id 2E98828C1F6
	for <sip@ietf.org>; Tue,  4 Mar 2008 20:47:28 -0800 (PST)
Received: (qmail 4861 invoked by alias); 5 Mar 2008 04:47:17 -0000
Received: from suez.bb.ntt-at.co.jp (192.168.2.9)
	by subgate.bb.ntt-at.co.jp with SMTP; 5 Mar 2008 04:47:17 -0000
Received: from pacific.bb.ntt-at.co.jp (suez [127.0.0.1])
	by suez.bb.ntt-at.co.jp (8.12.10/8.12.10) with ESMTP id m254lFYl017657; 
	Wed, 5 Mar 2008 13:47:16 +0900
Received: from mercury.tec.ntt-at.co.jp (mercury.tec.ntt-at.co.jp
	[192.168.22.39])
	by pacific.bb.ntt-at.co.jp (8.13.1/cf/pacific) with ESMTP id
	m254lFuT007606; Wed, 5 Mar 2008 13:47:15 +0900 (JST)
	(envelope-from munakata.mayumi@lab.ntt.co.jp)
Received: from [192.168.23.217] (center5217.cnh.ntt-at.co.jp [192.168.23.217])
	by mercury.tec.ntt-at.co.jp (Postfix) with ESMTP id 1D23F20A263;
	Wed,  5 Mar 2008 13:47:15 +0900 (JST)
Message-ID: <47CE25A8.6030501@lab.ntt.co.jp>
Date: Wed, 05 Mar 2008 13:46:32 +0900
From: Mayumi Munakata <munakata.mayumi@lab.ntt.co.jp>
User-Agent: Thunderbird 2.0.0.6 (Windows/20070728)
MIME-Version: 1.0
To: "Elwell, John" <john.elwell@siemens.com>
References: <47BA6CE4.8090004@lab.ntt.co.jp>
	<0D5F89FAC29E2C41B98A6A762007F5D0698A03@GBNTHT12009MSX.gb002.siemens.net>
In-Reply-To: <0D5F89FAC29E2C41B98A6A762007F5D0698A03@GBNTHT12009MSX.gb002.siemens.net>
Cc: sip@ietf.org, Dean Willis <dean.willis@softarmor.com>
Subject: Re: [Sip] Anonymous URI for From header in ua-privacy-01
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

John,

Thank you for your wrap-up of the discussion.
Sorry for the belated reply.

See inline.

 > Mayumi,
 >
 > I would note that RFC 4474 already allows option 1. I see various emails
 > discussing the usefulness of this. I can see it as beneficial where a
 > domain wishes to assert that the request originated in that domain, but
 > does not wish to disclose the particular user ID, e.g., in call centres.
 >
 > Given that this is already allowed in RFC 4474, I would prefer that the
 > ua-privacy draft does nothing to deprecate that.
 >
 > Of course, we also need to allow the use of option 2.
 >
 > I don't see a need for option 3, and I haven't heard anyone else
 > speaking in its favour.
 >
 > John

So, the conclusion here, in my understanding, is that
"anonymous@{user's domain name}" can be used for the
 From header to have an anonymity and the SIP-Identity
(RFC 4474) go together.  If the UA does not have an
intent to use the SIP-Identity, it can set
"anonymous@anonymous.invalid" as an anonymous From URI.

Regarding option #3, Dean wrote as follows:

 > Do we get anything from #3 that we wouldn't get by just using the
 > temp-GRUU that we're using as the Contact: value as the from: value too?
 >
 > in other words, what happens if we make the From: header field of the
 > ua-anonymized request the same as the Contact: header field?
 >
 > If an identity server is willing to assert on this identity, it can
 > later use the GRUU to reverse back out to the authenticated identity it
 > was anonymizing.
 >
 > --
 > dean

I would like to hear people's opinion on these
questions that Dean is asking.

The draft-ietf-sip-gruu-15 allows a temp-GRUU
to be set in the Contact header only, but does
not allow it in the From header.

Is it reasonable to use the temp-GRUU as the
authenticated anonymous From address?

Regards,
Mayumi


 >> -----Original Message-----
 >> From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On
 >> Behalf Of Mayumi Munakata
 >> Sent: 19 February 2008 05:45
 >> To: sip@ietf.org
 >> Subject: [Sip] Anonymous URI for From header in ua-privacy-01
 >>
 >> All;
 >>
 >> I have just submitted a new version of ua-privacy draft.
 >> http://www.ietf.org/internet-drafts/draft-ietf-sip-ua-privacy-01.txt
 >>
 >> Thanks to John Elwell for his comprehensive review,
 >> we managed to make a lot of editorial corrections
 >> and some technical.
 >>
 >> One profound open issue we have is on how to get an
 >> anonymous URI for a From header.  While we can use a
 >> temp-gruu for a Contact header, there is no mechanism
 >> to obtain a functional anonymous URI for the From
 >> header or any other headers that houses URIs.
 >>
 >> RFC3323 recommends to use "anonymous@anonymous.invalid"
 >> for an anonymous URI in a From header.  However, this
 >> impedes the use of SIP-Identity, as SIP-Identity
 >> mandates the domain portion of the "From" URI and
 >> that of "Identity-Info" to match.
 >>
 >> One of the expired draft written by Jonathan, attempted
 >> to use the GRUU to get this functional yet anonymous URI
 >> to address this issue.
 >> http://ietfreport.isoc.org/idref/draft-rosenberg-sip-identity-privacy/
 >>
 >> I can see few ways forward.
 >>
 >> 1. Suggest the use of anonymous@{user's domain name}, which
 >>    verifier then can verify the signature's validity as
 >>    domain portion of the URI and that of Identity-Info matches.
 >>     >> If SIP-Identity is used, the domain is given away anyhow
 >>        in the Identity-Info, so what is the point of hiding the
 >>        domain in the From header?
 >>
 >> 2. Make a note that SIP-Identity will not function when
 >>    anonymous@anonymous.invalid is used.
 >>     >> Describe the caveat that verifier is likely to fail the
 >>        request or suggest that Authentication Service does not
 >>        add Identity-Info/signature.
 >>
 >> 3. Extend GRUU to support mechanism that Rosenberg suggested.
 >>
 >> Does anybody has any preferences or any other suggestions?
 >>
 >> Regards,
 >> Mayumi
 >>
 >> _______________________________________________
 >> Sip mailing list  http://www.ietf.org/mailman/listinfo/sip
 >> This list is for NEW development of the core SIP Protocol
 >> Use sip-implementors@cs.columbia.edu for questions on current sip
 >> Use sipping@ietf.org for new developments on the application of sip
 >>


_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Tue Mar  4 21:25:10 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id D9CEE28C6B8;
	Tue,  4 Mar 2008 21:25:10 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -0.649
X-Spam-Level: 
X-Spam-Status: No, score=-0.649 tagged_above=-999 required=5
	tests=[AWL=-0.212, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id Ga2SKg6acj84; Tue,  4 Mar 2008 21:25:10 -0800 (PST)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id C7A9228C2DC;
	Tue,  4 Mar 2008 21:24:50 -0800 (PST)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 797FB28C145;
	Tue,  4 Mar 2008 21:24:49 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id aj-b9W2ew3xK; Tue,  4 Mar 2008 21:24:48 -0800 (PST)
Received: from estacado.net (estacado-pt.tunnel.tserv2.fmt.ipv6.he.net
	[IPv6:2001:470:1f03:266::2])
	by core3.amsl.com (Postfix) with ESMTP id 479B83A683E;
	Tue,  4 Mar 2008 21:24:39 -0800 (PST)
Received: from [192.168.2.235] (pool-71-164-169-219.dllstx.fios.verizon.net
	[71.164.169.219]) (authenticated bits=0)
	by estacado.net (8.14.1/8.14.1) with ESMTP id m255OMWa051270
	(version=TLSv1/SSLv3 cipher=AES128-SHA bits=128 verify=NO);
	Tue, 4 Mar 2008 23:24:27 -0600 (CST)
	(envelope-from rjsparks@estacado.net)
In-Reply-To: <D282B4E8-CFFC-4D0A-BC8E-1AAFDF7F0B2E@estacado.net>
References: <D282B4E8-CFFC-4D0A-BC8E-1AAFDF7F0B2E@estacado.net>
Mime-Version: 1.0 (Apple Message framework v753)
Message-Id: <43A3E655-E3C8-406A-B6FA-8BFCC64F0A63@estacado.net>
From: Robert Sparks <rjsparks@estacado.net>
Date: Tue, 4 Mar 2008 23:24:23 -0600
To: Robert Sparks <rjsparks@estacado.net>
X-Mailer: Apple Mail (2.753)
Cc: sip List <sip@ietf.org>, sipping LIST <sipping@ietf.org>,
	simple mailing list <simple@ietf.org>
Subject: [Sip] Reminder: Registration for SIPit 22 is open
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

SIPit 22 registration closes April 4. Please note that we have  
limited space this time - early registration is recommended.

Now's a good time to finalize travel plans if you haven't already  
done so.

RjS

On Jan 30, 2008, at 9:38 AM, Robert Sparks wrote:

> SIPit 22 will be hosted by the University of New Hampshire  
> Interoperability Laboratory
> April 14 through 18, 2008.
>
> Registration is $350 (USD) per person. Registration will close  
> April 4.
>
> Space is limited, so register early to ensure a seat.
>
> Additional registration details are available at http://www.sipit.net
>
>
>
>
>
>

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Wed Mar  5 01:06:59 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 45CB828C6A4;
	Wed,  5 Mar 2008 01:06:59 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -1.207
X-Spam-Level: 
X-Spam-Status: No, score=-1.207 tagged_above=-999 required=5
	tests=[AWL=-0.770, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id xCbPYFPZ23j5; Wed,  5 Mar 2008 01:06:58 -0800 (PST)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 52F2E3A6B5C;
	Wed,  5 Mar 2008 01:06:58 -0800 (PST)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id C63A13A6982;
	Wed,  5 Mar 2008 01:06:56 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 2gltsDFAbi4Y; Wed,  5 Mar 2008 01:06:56 -0800 (PST)
Received: from mail128.messagelabs.com (mail128.messagelabs.com
	[216.82.250.131])
	by core3.amsl.com (Postfix) with SMTP id EAF843A695B;
	Wed,  5 Mar 2008 01:06:55 -0800 (PST)
X-VirusChecked: Checked
X-Env-Sender: ranjit@motorola.com
X-Msg-Ref: server-14.tower-128.messagelabs.com!1204708004!18534733!1
X-StarScan-Version: 5.5.12.14.2; banners=-,-,-
X-Originating-IP: [129.188.136.8]
Received: (qmail 4422 invoked from network); 5 Mar 2008 09:06:44 -0000
Received: from motgate8.mot.com (HELO motgate8.mot.com) (129.188.136.8)
	by server-14.tower-128.messagelabs.com with SMTP;
	5 Mar 2008 09:06:44 -0000
Received: from il06exr02.mot.com (il06exr02.mot.com [129.188.137.132])
	by motgate8.mot.com (8.12.11/Motorola) with ESMTP id m2596igl005572;
	Wed, 5 Mar 2008 02:06:44 -0700 (MST)
Received: from il06vts01.mot.com (il06vts01.mot.com [129.188.137.141])
	by il06exr02.mot.com (8.13.1/Vontu) with SMTP id m2596hpd024816;
	Wed, 5 Mar 2008 03:06:43 -0600 (CST)
Received: from ZMY16EXM66.ds.mot.com (zmy16exm66.ap.mot.com [10.179.4.26])
	by il06exr02.mot.com (8.13.1/8.13.0) with ESMTP id m2596fBK024802;
	Wed, 5 Mar 2008 03:06:42 -0600 (CST)
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Wed, 5 Mar 2008 17:06:40 +0800
Message-ID: <750BBC72E178114F9DC4872EBFF29A5B05485CBC@ZMY16EXM66.ds.mot.com>
In-Reply-To: <43A3E655-E3C8-406A-B6FA-8BFCC64F0A63@estacado.net>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Status of draft-levy-sip-diversion-08
Thread-Index: Ach+gaWT7G/hQNALSgqMsr1N/byDeQAHnEjw
From: "Avasarala Ranjit-A20990" <ranjit@motorola.com>
To: "sip List" <sip@ietf.org>, "sipping LIST" <sipping@ietf.org>,
	"simple mailing list" <simple@ietf.org>
X-CFilter-Loop: Reflected
Subject: [Sip] Status of draft-levy-sip-diversion-08
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Hi all

What is the current status of this draft? 


Regards
Ranjit
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Wed Mar  5 02:00:49 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id DE56328C75B;
	Wed,  5 Mar 2008 02:00:49 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -0.41
X-Spam-Level: 
X-Spam-Status: No, score=-0.41 tagged_above=-999 required=5 tests=[AWL=0.027,
	BAYES_00=-2.599, FH_RELAY_NODNS=1.451, HELO_MISMATCH_ORG=0.611,
	RDNS_NONE=0.1]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id P5TT2PYGYeSD; Wed,  5 Mar 2008 02:00:45 -0800 (PST)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id A637528C6F7;
	Wed,  5 Mar 2008 02:00:45 -0800 (PST)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 5EC023A69B1
	for <sip@core3.amsl.com>; Wed,  5 Mar 2008 02:00:44 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id uzQG7hMhNFFC for <sip@core3.amsl.com>;
	Wed,  5 Mar 2008 02:00:38 -0800 (PST)
Received: from web8407.mail.in.yahoo.com (web8407.mail.in.yahoo.com
	[202.43.219.155])
	by core3.amsl.com (Postfix) with SMTP id 2C0BE3A6C23
	for <sip@ietf.org>; Wed,  5 Mar 2008 02:00:37 -0800 (PST)
Received: (qmail 22027 invoked by uid 60001); 5 Mar 2008 10:00:26 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws; s=s1024; d=yahoo.co.in;
	h=X-YMail-OSG:Received:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding:Message-ID;
	b=nP3Ku+jsW2yZjAWxPxkIm8j0n4JezcVYze341ZfRzdPZc5tx0tZref5sDn4w4FxaLkTb/0ysl1Ad4QEaj8eaJoCVt8DClwzRO3x+W/XQKoAHLnQ2QQVER0r8uSEOGYl6BjjwiOO6xHiAxWZ/oSZ5kUCpXTtj+2CtadPE/CN4PNs=;
X-YMail-OSG: ja_Dy8QVM1l64ko85DsZINwj1voi1HrhQaDg1RC2GkgPHwR35982CXD2s5LJxiiR2DJ00EWkPlCvlmrK09gvwS.YVVm3bZUmyz5MNImkETCeyPLg0ZW0IMYOfzGfqw--
Received: from [121.241.96.5] by web8407.mail.in.yahoo.com via HTTP;
	Wed, 05 Mar 2008 10:00:26 GMT
Date: Wed, 5 Mar 2008 10:00:26 +0000 (GMT)
From: atul garg <shivalk_80@yahoo.co.in>
To: sip@ietf.org
MIME-Version: 1.0
Message-ID: <684062.20695.qm@web8407.mail.in.yahoo.com>
Subject: [Sip] Is null character allowed in any sip message header....
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Hi,

Can a NuLL character allowed in any SIP message
header's value...and if so can any body provide the
Lex expression to parse that string.

somethng like ...[^:](.|\n[' '|\t])*[^\r\n]

but the above expression does not support NULL.

Regards


      Get the freedom to save as many mails as you wish. To know how, go to http://help.yahoo.com/l/in/yahoo/mail/yahoomail/tools/tools-08.html
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Wed Mar  5 02:19:25 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id C158128C6DD;
	Wed,  5 Mar 2008 02:19:25 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -1.013
X-Spam-Level: 
X-Spam-Status: No, score=-1.013 tagged_above=-999 required=5
	tests=[AWL=-0.576, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id shSAdhmUvwiv; Wed,  5 Mar 2008 02:19:24 -0800 (PST)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id A9B9F3A6E78;
	Wed,  5 Mar 2008 02:19:24 -0800 (PST)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 533B13A6E9B
	for <sip@core3.amsl.com>; Wed,  5 Mar 2008 02:19:23 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 8ga6zemiCps7 for <sip@core3.amsl.com>;
	Wed,  5 Mar 2008 02:19:22 -0800 (PST)
Received: from cluster-f.mailcontrol.com (cluster-f.mailcontrol.com
	[85.119.2.190]) by core3.amsl.com (Postfix) with ESMTP id 354233A6E64
	for <sip@ietf.org>; Wed,  5 Mar 2008 02:19:22 -0800 (PST)
Received: from rly27f.srv.mailcontrol.com (localhost.localdomain [127.0.0.1])
	by rly27f.srv.mailcontrol.com (MailControl) with ESMTP id
	m25AIkQm006264 for <sip@ietf.org>; Wed, 5 Mar 2008 10:19:10 GMT
Received: from submission.mailcontrol.com (submission.mailcontrol.com
	[86.111.216.190])
	by rly27f.srv.mailcontrol.com (MailControl) id m25AIbaS005988
	for sip@ietf.org; Wed, 5 Mar 2008 10:18:37 GMT
Received: from exsmtp01.nasstar-t1.net (exsmtp01.nasstar-t1.net [89.28.233.12])
	by rly27f-eth0.srv.mailcontrol.com (envelope-sender
	attila.sipos@vegastream.com) (MIMEDefang) with ESMTP id
	m25AIPwe004909; Wed, 05 Mar 2008 10:18:37 +0000 (GMT)
Received: from EXVS02.nasstar-t1.net ([10.2.10.105]) by
	exsmtp01.nasstar-t1.net with Microsoft SMTPSVC(6.0.3790.1830); 
	Wed, 5 Mar 2008 10:19:37 +0000
x-mimeole: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Wed, 5 Mar 2008 10:18:33 -0000
Message-ID: <680808427CF931459462C3D78CB5EC600182D027@EXVS02.nasstar-t1.net>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] Is null character allowed in any sip message header....
Thread-Index: Ach+qB1EZiqFDyYHT9iMDse0bU0K5wAASwfQ
From: "Attila Sipos" <attila.sipos@vegastream.com>
To: "atul garg" <shivalk_80@yahoo.co.in>, <sip@ietf.org>
X-OriginalArrivalTime: 05 Mar 2008 10:19:37.0198 (UTC)
	FILETIME=[6A3CF8E0:01C87EAA]
X-Scanned-By: MailControl A-08-00-04 (www.mailcontrol.com) on 10.70.1.137
Subject: Re: [Sip] Is null character allowed in any sip message header....
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

In general, SIP headers take the form:

extension-header  =  header-name HCOLON header-value
header-name       =  token
header-value      =  *(TEXT-UTF8char / UTF8-CONT / LWS)

So a header-value does not have to be present

So this means that the following headers are both valid:
Supported:<CR><LF>
Supported: 100rel<CR><LF>

But if you mean, is a '\0' character (or byte with value zero),
then the answer is no.

You can have a byte with value zero in the message body, of course
because the message body allows for binary data.

General binary data in a SIP message header is not allowed.
If you want to encode binary data you can do it using ""%" HEX HEX"
to escape any disallowed characters.

Regards,

Attila

 

-----Original Message-----
From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On Behalf Of
atul garg
Sent: 05 March 2008 10:00
To: sip@ietf.org
Subject: [Sip] Is null character allowed in any sip message header....

Hi,

Can a NuLL character allowed in any SIP message header's value...and if
so can any body provide the Lex expression to parse that string.

somethng like ...[^:](.|\n[' '|\t])*[^\r\n]

but the above expression does not support NULL.

Regards


      Get the freedom to save as many mails as you wish. To know how, go
to http://help.yahoo.com/l/in/yahoo/mail/yahoomail/tools/tools-08.html
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol Use
sip-implementors@cs.columbia.edu for questions on current sip Use
sipping@ietf.org for new developments on the application of sip
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Wed Mar  5 03:55:09 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 731FD28C7D1;
	Wed,  5 Mar 2008 03:55:09 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -0.849
X-Spam-Level: 
X-Spam-Status: No, score=-0.849 tagged_above=-999 required=5
	tests=[AWL=-0.412, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id cVSLlgk5NBM4; Wed,  5 Mar 2008 03:55:09 -0800 (PST)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id BC87F28C30E;
	Wed,  5 Mar 2008 03:52:23 -0800 (PST)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 011DC3A6CF9;
	Wed,  5 Mar 2008 03:52:22 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id i7SMz8YWJfuW; Wed,  5 Mar 2008 03:52:21 -0800 (PST)
Received: from cluster-f.mailcontrol.com (cluster-f.mailcontrol.com
	[85.119.2.190])
	by core3.amsl.com (Postfix) with ESMTP id 88A633A6A5C;
	Wed,  5 Mar 2008 03:52:16 -0800 (PST)
Received: from rly29f.srv.mailcontrol.com (localhost.localdomain [127.0.0.1])
	by rly29f.srv.mailcontrol.com (MailControl) with ESMTP id
	m25Bpdaa001241; Wed, 5 Mar 2008 11:52:00 GMT
Received: from submission.mailcontrol.com (submission.mailcontrol.com
	[86.111.216.190])
	by rly29f.srv.mailcontrol.com (MailControl) id m25BpBfq032201;
	Wed, 5 Mar 2008 11:51:11 GMT
Received: from exsmtp01.nasstar-t1.net (exsmtp01.nasstar-t1.net [89.28.233.12])
	by rly29f-eth0.srv.mailcontrol.com (envelope-sender
	attila.sipos@vegastream.com) (MIMEDefang) with ESMTP id
	m25Bous2030222; Wed, 05 Mar 2008 11:51:10 +0000 (GMT)
Received: from EXVS02.nasstar-t1.net ([10.2.10.105]) by
	exsmtp01.nasstar-t1.net with Microsoft SMTPSVC(6.0.3790.1830); 
	Wed, 5 Mar 2008 11:51:29 +0000
x-mimeole: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Wed, 5 Mar 2008 11:50:25 -0000
Message-ID: <680808427CF931459462C3D78CB5EC600182D11A@EXVS02.nasstar-t1.net>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] Status of draft-levy-sip-diversion-08
Thread-Index: Ach+gaWT7G/hQNALSgqMsr1N/byDeQAHnEjwAAW0eTA=
From: "Attila Sipos" <attila.sipos@vegastream.com>
To: "Avasarala Ranjit-A20990" <ranjit@motorola.com>, "sip List" <sip@ietf.org>,
	"sipping LIST" <sipping@ietf.org>, "simple mailing list" <simple@ietf.org>
X-OriginalArrivalTime: 05 Mar 2008 11:51:29.0248 (UTC)
	FILETIME=[3FAD0E00:01C87EB7]
X-Scanned-By: MailControl A-08-00-04 (www.mailcontrol.com) on 10.70.1.139
Subject: Re: [Sip] Status of draft-levy-sip-diversion-08
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

it's expired.

"SIP History Information" is now (AFAIK) the standard
for this kind of thing.
http://www.ietf.org/rfc/rfc4244.txt


Regards,

Attila

 

-----Original Message-----
From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On Behalf Of
Avasarala Ranjit-A20990
Sent: 05 March 2008 09:07
To: sip List; sipping LIST; simple mailing list
Subject: [Sip] Status of draft-levy-sip-diversion-08

Hi all

What is the current status of this draft? 


Regards
Ranjit
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol Use
sip-implementors@cs.columbia.edu for questions on current sip Use
sipping@ietf.org for new developments on the application of sip
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Wed Mar  5 05:14:35 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 5DD3128C71C;
	Wed,  5 Mar 2008 05:14:35 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -1.826
X-Spam-Level: 
X-Spam-Status: No, score=-1.826 tagged_above=-999 required=5
	tests=[AWL=-1.389, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id GAPpd+KwYfuV; Wed,  5 Mar 2008 05:14:34 -0800 (PST)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 511AE28C6A7;
	Wed,  5 Mar 2008 05:14:34 -0800 (PST)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id E5A9728C484
	for <sip@core3.amsl.com>; Wed,  5 Mar 2008 05:14:32 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id bxY9QSQWK2PY for <sip@core3.amsl.com>;
	Wed,  5 Mar 2008 05:14:31 -0800 (PST)
Received: from rtp-iport-1.cisco.com (rtp-iport-1.cisco.com [64.102.122.148])
	by core3.amsl.com (Postfix) with ESMTP id E38F528C688
	for <sip@ietf.org>; Wed,  5 Mar 2008 05:14:30 -0800 (PST)
X-IronPort-AV: E=Sophos;i="4.25,450,1199682000"; 
   d="scan'208";a="517576"
Received: from rtp-dkim-1.cisco.com ([64.102.121.158])
	by rtp-iport-1.cisco.com with ESMTP; 05 Mar 2008 08:14:21 -0500
Received: from rtp-core-2.cisco.com (rtp-core-2.cisco.com [64.102.124.13])
	by rtp-dkim-1.cisco.com (8.12.11/8.12.11) with ESMTP id m25DEKAN002670; 
	Wed, 5 Mar 2008 08:14:20 -0500
Received: from xbh-rtp-211.amer.cisco.com (xbh-rtp-211.cisco.com
	[64.102.31.102])
	by rtp-core-2.cisco.com (8.12.10/8.12.6) with ESMTP id m25DEKjR011965; 
	Wed, 5 Mar 2008 13:14:20 GMT
Received: from xfe-rtp-202.amer.cisco.com ([64.102.31.21]) by
	xbh-rtp-211.amer.cisco.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Wed, 5 Mar 2008 08:14:20 -0500
Received: from [161.44.174.168] ([161.44.174.168]) by
	xfe-rtp-202.amer.cisco.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Wed, 5 Mar 2008 08:14:19 -0500
Message-ID: <47CE9CBB.60402@cisco.com>
Date: Wed, 05 Mar 2008 08:14:35 -0500
From: Paul Kyzivat <pkyzivat@cisco.com>
User-Agent: Thunderbird 2.0.0.12 (Windows/20080213)
MIME-Version: 1.0
To: Dean Willis <dean.willis@softarmor.com>
References: <41E96F53-A2D1-41EE-93A4-2E61099BDF1D@softarmor.com><0D5F89FAC29E2C41B98A6A762007F5D070BCDD@GBNTHT12009MSX.gb002.siemens.net><47C87303.9090300@bbn.com><7c0101c87b24$780f0af0$5c4f150a@cisco.com>	<07fc01c87e06$cf25e590$6401a8c0@china.huawei.com>	<010301c87e2e$8ea85110$c4f0200a@cisco.com>	<47CDA92F.7000106@cisco.com>	<01a801c87e34$a27b7c20$c4f0200a@cisco.com>
	<FDA7D1E2-F369-46D2-93B9-BBC28AACDB6C@softarmor.com>
In-Reply-To: <FDA7D1E2-F369-46D2-93B9-BBC28AACDB6C@softarmor.com>
X-OriginalArrivalTime: 05 Mar 2008 13:14:19.0780 (UTC)
	FILETIME=[D2580C40:01C87EC2]
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; l=1086; t=1204722860;
	x=1205586860; c=relaxed/simple; s=rtpdkim1001;
	h=Content-Type:From:Subject:Content-Transfer-Encoding:MIME-Version;
	d=cisco.com; i=pkyzivat@cisco.com;
	z=From:=20Paul=20Kyzivat=20<pkyzivat@cisco.com>
	|Subject:=20Re=3A=20[Sip]=20[dkim=20unverified]=20Re=3A=20S
	anity=20check=20--=20relationship=09between=0A=20DTLS-SRTPan
	d=09Identity |Sender:=20
	|To:=20Dean=20Willis=20<dean.willis@softarmor.com>;
	bh=39/kVFHQ8n3QbdpYf8Tg6BIWADd65v7VZLK0cH/rpAE=;
	b=hKBWy+SRFdCzYllktYIedUjklw5byQzqYe+ptu2XuEVsx4FOtrWQrwNrKn
	XvQk6nfeIY+51awL1RR7ufGMc5l+lyq7rs9UVNrRNoSbAJb82gQf/8ZiO4/V
	2g7Fws+LNj;
Authentication-Results: rtp-dkim-1; header.From=pkyzivat@cisco.com; dkim=pass (
	sig from cisco.com/rtpdkim1001 verified; ); 
Cc: sip@ietf.org, 'Michael Thomas' <mat@cisco.com>, Dan Wing <dwing@cisco.com>
Subject: Re: [Sip] [dkim unverified] Re: Sanity check --
 relationship	between DTLS-SRTPand	Identity
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org



Dean Willis wrote:
> On Mar 4, 2008, at 2:16 PM, Dan Wing wrote:
>>> This sticks in my craw. The PSTN universe is a lot more
>>> closed than the
>>> internet is. And the PSTN universe is not exactly air tight
>>> either. Unless of course the subtext of "as good" is "crappy".
>> That is my subtext, yes.
> 
> 
> Personally, I'm thinking I'd like to see an Identity entry that warns  
> me that the assertion of identity is only PSTN grade.
> 
> I can envision a user-interface component like a signal-strength meter  
> that pops up when my phone displays caller ID. A PSTN-grade assertion  
> might be 1 bar, whereas an assertion from a trusted server that's made  
> a mutual-cert verification might be 5 bars.

This kind of result (however it can be achieved) is what I too have been 
thinking is needed.

There are a bunch of issues with it:
- what are devices capable of rendering?
- what are most people capable of comprehending?
- how to reliably assign these "confidence levels"?

But in the end it seems that we need something like this.

	Paul
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Wed Mar  5 05:36:46 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id EDDE128C75D;
	Wed,  5 Mar 2008 05:36:46 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -1.2
X-Spam-Level: 
X-Spam-Status: No, score=-1.2 tagged_above=-999 required=5 tests=[AWL=-1.963,
	BAYES_00=-2.599, FH_RELAY_NODNS=1.451, HELO_MISMATCH_ORG=0.611,
	J_CHICKENPOX_14=0.6, J_CHICKENPOX_15=0.6, RDNS_NONE=0.1]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id d0QMqTaAzJfz; Wed,  5 Mar 2008 05:36:45 -0800 (PST)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 7905E3A6EC6;
	Wed,  5 Mar 2008 05:36:45 -0800 (PST)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id AE4C43A6EC6
	for <sip@core3.amsl.com>; Wed,  5 Mar 2008 05:36:43 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id YeHpe2da-V6v for <sip@core3.amsl.com>;
	Wed,  5 Mar 2008 05:36:39 -0800 (PST)
Received: from rtp-iport-2.cisco.com (rtp-iport-2.cisco.com [64.102.122.149])
	by core3.amsl.com (Postfix) with ESMTP id E90813A6C33
	for <sip@ietf.org>; Wed,  5 Mar 2008 05:36:38 -0800 (PST)
X-IronPort-AV: E=Sophos;i="4.25,450,1199682000"; 
   d="scan'208";a="515985"
Received: from rtp-dkim-2.cisco.com ([64.102.121.159])
	by rtp-iport-2.cisco.com with ESMTP; 05 Mar 2008 08:36:29 -0500
Received: from rtp-core-1.cisco.com (rtp-core-1.cisco.com [64.102.124.12])
	by rtp-dkim-2.cisco.com (8.12.11/8.12.11) with ESMTP id m25DaTGm018910; 
	Wed, 5 Mar 2008 08:36:29 -0500
Received: from xbh-rtp-201.amer.cisco.com (xbh-rtp-201.cisco.com
	[64.102.31.12])
	by rtp-core-1.cisco.com (8.12.10/8.12.6) with ESMTP id m25DaEan028210; 
	Wed, 5 Mar 2008 13:36:29 GMT
Received: from xfe-rtp-201.amer.cisco.com ([64.102.31.38]) by
	xbh-rtp-201.amer.cisco.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Wed, 5 Mar 2008 08:36:21 -0500
Received: from [161.44.174.168] ([161.44.174.168]) by
	xfe-rtp-201.amer.cisco.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Wed, 5 Mar 2008 08:36:21 -0500
Message-ID: <47CEA1E4.1060705@cisco.com>
Date: Wed, 05 Mar 2008 08:36:36 -0500
From: Paul Kyzivat <pkyzivat@cisco.com>
User-Agent: Thunderbird 2.0.0.12 (Windows/20080213)
MIME-Version: 1.0
To: Dale.Worley@comcast.net
References: <5D1A7985295922448D5550C94DE2918001CB053E@DEEXC1U01.de.lucent.com>	<200803032121.m23LL0jI031195@dragon.ariadne.com>	<47CC928C.3090100@cisco.com>
	<200803050334.m253YprO001682@dragon.ariadne.com>
In-Reply-To: <200803050334.m253YprO001682@dragon.ariadne.com>
X-OriginalArrivalTime: 05 Mar 2008 13:36:21.0309 (UTC)
	FILETIME=[E6095ED0:01C87EC5]
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; l=8990; t=1204724189;
	x=1205588189; c=relaxed/simple; s=rtpdkim2001;
	h=Content-Type:From:Subject:Content-Transfer-Encoding:MIME-Version;
	d=cisco.com; i=pkyzivat@cisco.com;
	z=From:=20Paul=20Kyzivat=20<pkyzivat@cisco.com>
	|Subject:=20Re=3A=20[Sip]=20draft-ietf-sip-body-handling-01
	|Sender:=20 |To:=20Dale.Worley@comcast.net;
	bh=uDBoj2xdGmDZKGKzSea2yQNqwiZnqVS79o1LYmlY+oU=;
	b=jtOE6gRUPLbP6VHlU92/lZ9jhtCJloVPch2x1zITz2Kf5UP42sHxf+ZC3W
	1CDTa7vplMgBugVuyOnNIuoz8ezPY8aiDAwcViW9BnWMbxK+RtK2PVuEO2BD
	H78V0cLzbM;
Authentication-Results: rtp-dkim-2; header.From=pkyzivat@cisco.com; dkim=pass (
	sig from cisco.com/rtpdkim2001 verified; ); 
Cc: sip@ietf.org
Subject: Re: [Sip] draft-ietf-sip-body-handling-01
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Dale,

A very interesting analysis.

A lot of this hinges on what it means to "process" or "handle" a part.

In the case of parts that are not "by-reference" I suppose the meaning 
of handling the part should be included in the definition of the 
content-disposition. (This is currently better for some dispositions 
than others. Its really weak for "render".)

And "by-reference" isn't really different - it needs to define what 
handling means for it too. We need to sharpen that up. And how we do 
that impacts your analysis.

Specifically, if we define "by-reference" to mean that processing it is 
just a matter of making it accessible to be processed by a reference 
then things are ok. In that case it is ok if a reference to it is never 
processed. The only failure is if a reference containing a cid: is 
processed and the referent can't be found because it or some container 
of it was not processed.

	Does that help?
	Paul

Dale.Worley@comcast.net wrote:
>    From: Paul Kyzivat <pkyzivat@cisco.com>
> 
>    Can you explain more about how you reached this conclusion?
> 
> It started when I was thinking that what this draft needs (IMHO) is to
> have a statement of "what the rules are", that is, the rules for
> interpreting or deciding whether to accept a body, with all the rules
> written in one place, so we can stare at them and see if anything is
> missing.  (So far, we've been writing text to explain ambiguous points
> in the previous texts, but a textual structure like that makes it hard
> to see if you've really covered all the cases.)
> 
> I then started to outline in my head how I would organize such a
> statement:
>     defaulting rules for Content-Disposition
>     scoping and validity of 'cid'
>     assumptions about accepting and processing non-multipart types
>     accepting and processing rules for each multipart type
> 
> At that point, I noticed that there could be interdependencies between
> accepting one part and accepting another part.  That is usually the
> signal that the problem in question is NP-complete.  (In practice,
> meaning that deciding what to do could take an amount of time which is
> the exponential of the number of body parts to be considered, and that
> the decision algorithm requires backtracking.)
> 
> So I then attempted to prove that the problem was NP-complete by the
> process of reducing the problem "3-satisfiability" to the problem of
> determining if a body is acceptable.  And it turns out that is fairly
> simple.
> 
> In order to make this construction work, I needed to assume the
> following features of our body-part scheme, all of which seem to be
> accepted as requirements:
> 
>     If all parts of a multipart/mixed are marked handling=required,
>     then the body can be processed only if all the parts can be
>     processed.
> 
>     A multipart/alternative with 2 parts can be processed if either
>     part can be processed, and one part must be chosen for processing,
>     leaving the other part un-processed.
> 
>     A part can contain 'cid' URLs, which cause the referenced parts to
>     be processed.
> 
>     A part marked "Content-Disposition: by-reference; handling=required"
>     can only be processed if a previous component referencing it via a
>     'cid' URL is processed.
> 
> What makes this situation problematic is not that deciding whether and
> how to process a complex body make take exponential time (since that
> will generally happen only in pathological cases), but rather that
> most straightforward algorithms for making the decision will have to
> implement backtracking (which will sometimes be required even in
> non-pathological cases).
> 
> (Here beginneth the technical part.)
> 
> The reduction is as follows:
> 
> http://en.wikipedia.org/wiki/NP-complete
> http://en.wikipedia.org/wiki/Reduction_%28complexity%29
> http://en.wikipedia.org/wiki/3-satisfiability#3-satisfiability
> 
> Choose an instance of the 3-satisfiability problem, that is: a set of
> boolean variables A, B, C, etc. and a formula composed of:
> 	a series of "clauses" joined by AND, consisting of
> 		a series of variables and their negations joined by OR.
> The problem is to determine if there is any assignment of truth values
> to the variables which makes the formula true, that is, which makes
> true one of the variables or negations in each of the clauses.
> 
> For example, choose 4 variables A, B, C, and D, and the formula
> 
> (A OR B OR C) AND (B OR NOT-C OR D) AND (NOT-A OR NOT-B OR NOT-D)
> 
> This can be satisfied by setting A=TRUE, B=FALSE, C=TRUE, and D=FALSE.
> 
> Construct a multipart/mixed with each component labeled
> handling=required.  Within that, for each variable, have a part which
> is multipart/alternate with 2 parts.  If processing chooses the first
> part of the part corresponding to a variable, that will model the
> variable being TRUE.  If processing chooses the second part of the
> part corresponding to a variable, that will model the variable being
> FALSE.
> 
> For example, our body starts:
> 
> 	multipart/mixed
> 		multipart/alternative;handling=required
> 			first part corresponding to A (not yet specified)
> 			second part corresponding to NOT-A
> 		multipart/alternative;handling=required
> 			first part corresponding to B
> 			second part corresponding to NOT-B
> 		multipart/alternative;handling=required
> 			first part corresponding to C
> 			second part corresponding to NOT-C
> 		multipart/alternative;handling=required
> 			first part corresponding to D
> 			second part corresponding to NOT-D
> 
> For each clause of the formula, add an additional body part, marked
> "Content-Disposition: by-reference; handling=required".  Give the part
> a 'cid' URL.  The ability of the recipient to successfully process
> this part will model making the corresponding clause TRUE.
> 
> For example, our body is now:
> 
> 	multipart/mixed
> 		multipart/alternative;handling=required
> 			first part corresponding to A (not yet specified)
> 			second part corresponding to NOT-A
> 		multipart/alternative;handling=required
> 			first part corresponding to B
> 			second part corresponding to NOT-B
> 		multipart/alternative;handling=required
> 			first part corresponding to C
> 			second part corresponding to NOT-C
> 		multipart/alternative;handling=required
> 			first part corresponding to D
> 			second part corresponding to NOT-D
> 		part (not otherwise specified);by-reference;handling=required;cid=clause1
> 		part (not otherwise specified);by-reference;handling=required;cid=clause2
> 		part (not otherwise specified);by-reference;handling=required;cid=clause3
> 
> We now want to arrange things so that one of the last 3 parts can be
> successfully processed only if we choose for processing one of the
> earlier parts that corresponds to a variable value that will make the
> corresponding clause true.  This is done by embedding forward
> references in the variable-corresponding parts that refer to the
> clause-corresponding parts.
> 
> For example:
> 
> 	multipart/mixed
> 		multipart/alternative;handling=required
> 			first part corresponding to A
> 				references cid:clause1
> 			second part corresponding to NOT-A
> 				references cid:clause3
> 		multipart/alternative;handling=required
> 			first part corresponding to B
> 				references cid:clause1
> 				references cid:clause2
> 			second part corresponding to NOT-B
> 				references cid:clause3
> 		multipart/alternative;handling=required
> 			first part corresponding to C
> 				references cid:clause1
> 			second part corresponding to NOT-C
> 				references cid:clause2
> 		multipart/alternative;handling=required
> 			first part corresponding to D
> 				references cid:clause2
> 			second part corresponding to NOT-D
> 				references cid:clause3
> 		part;by-reference;handling=required;cid=clause1
> 		part;by-reference;handling=required;cid=clause2
> 		part;by-reference;handling=required;cid=clause3
> 
> In order to process this body, the recipient must choose exactly one
> of each pair of bodies in the multipart/alternative body parts.  This
> choice is equivalent to choosing a set of values for the variables.
> The references embedded in the chosen parts refer to the body parts
> that correspond to the clauses which are made true by the
> corresponding variable's value.  In order to successfully process the
> final body parts, the recipient must have chosen a set of variable
> values that makes all of the clauses true.
> 
> Dale
> _______________________________________________
> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
> 
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Wed Mar  5 05:45:28 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id DFA6228C721;
	Wed,  5 Mar 2008 05:45:28 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -0.644
X-Spam-Level: 
X-Spam-Status: No, score=-0.644 tagged_above=-999 required=5
	tests=[AWL=-0.207, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id e914LQZKyjFd; Wed,  5 Mar 2008 05:45:27 -0800 (PST)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id CFE563A6D29;
	Wed,  5 Mar 2008 05:45:27 -0800 (PST)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id D487C3A6C9C
	for <sip@core3.amsl.com>; Wed,  5 Mar 2008 05:45:25 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 6gYWAh1fR30u for <sip@core3.amsl.com>;
	Wed,  5 Mar 2008 05:45:14 -0800 (PST)
Received: from mgw-mx03.nokia.com (smtp.nokia.com [192.100.122.230])
	by core3.amsl.com (Postfix) with ESMTP id EF6483A6EBD
	for <sip@ietf.org>; Wed,  5 Mar 2008 05:45:13 -0800 (PST)
Received: from esebh105.NOE.Nokia.com (esebh105.ntc.nokia.com [172.21.138.211])
	by mgw-mx03.nokia.com (Switch-3.2.6/Switch-3.2.6) with ESMTP id
	m25Diqf1013594 for <sip@ietf.org>; Wed, 5 Mar 2008 15:45:01 +0200
Received: from esebh103.NOE.Nokia.com ([172.21.143.33]) by
	esebh105.NOE.Nokia.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Wed, 5 Mar 2008 15:44:58 +0200
Received: from mgw-int01.ntc.nokia.com ([172.21.143.96]) by
	esebh103.NOE.Nokia.com over TLS secured channel with Microsoft
	SMTPSVC(6.0.3790.1830); Wed, 5 Mar 2008 15:44:58 +0200
Received: from [172.21.40.116] (esdhcp040116.research.nokia.com
	[172.21.40.116])
	by mgw-int01.ntc.nokia.com (Switch-3.2.5/Switch-3.2.5) with ESMTP id
	m25Diuwv018647; Wed, 5 Mar 2008 15:44:56 +0200
From: Aki Niemi <aki.niemi@nokia.com>
To: ext Eric Rescorla <ekr@networkresonance.com>
In-Reply-To: <20080304205516.B737E5081A@romeo.rtfm.com>
References: <20080303183225.D04A35081A@romeo.rtfm.com>
	<1204628885.15582.7.camel@localhost>
	<20080304151905.4EE005081A@romeo.rtfm.com>
	<1204661227.15582.78.camel@localhost>
	<20080304202005.ADD0C5081A@romeo.rtfm.com>
	<1204663441.15582.107.camel@localhost>
	<20080304205516.B737E5081A@romeo.rtfm.com>
Organization: Nokia Devices R&D
Date: Wed, 05 Mar 2008 15:44:49 +0200
Message-Id: <1204724689.5302.38.camel@localhost>
Mime-Version: 1.0
X-Mailer: Evolution 2.12.1 
X-OriginalArrivalTime: 05 Mar 2008 13:44:58.0174 (UTC)
	FILETIME=[1A1CB5E0:01C87EC7]
X-Nokia-AV: Clean
Cc: sip@ietf.org
Subject: Re: [Sip] Question on subnot-etags
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


On ti, 2008-03-04 at 12:55 -0800, ext Eric Rescorla wrote:
> At Tue, 04 Mar 2008 22:44:01 +0200,
> Aki Niemi wrote:
> > 
> > 
> > On ti, 2008-03-04 at 12:20 -0800, ext Eric Rescorla wrote:
> > > > Then I'd appreciate any suggestion to make it clearer.
> > > 
> > > Explicitly state that in the case I described that it's permissible
> > > to deliver the same Etag in the first and third versions.
> > 
> > Something like in S 5.3:
> > 
> >    The subscriber MUST be
> >    prepared to receive a NOTIFY with any entity-tag value, including a
> >    value that matches any previous value that the subscriber might have
> >    seen.
> 
> Yeah, I don't think that's at all clear. For all I know, that
> could mean the server is running in a VM and was rolled back.

It could also mean the Lakers just fired Koby in order to make room in
their salary cap to hire me as their point guard. 

It just doesn't matter; the subscriber is not supposed to even attempt
to infer such a meaning from the entity-tag value.

Perhaps you're looking for something like this:

        The entity-tag is an opaque token to the subscriber.  The
        subscriber MUST NOT attempt to infer any meaning from the value
        beyond a simple reference, or assume a specific formatting.  The
        relationship between the current entity-tag and any future or
        past entity-tags is undefined.
        
> > > > > Given that when I asked this question I got two different answers from
> > > > > Dale and Dean, I submit that the draft might be improved by directly
> > > > > addressing this point. Note that I don't care about the resolution,
> > > > > but I do care that the draft be unambiguous.
> > > > 
> > > > Can you point out the unambiguity?
> > > 
> > > I think Dean did a good job with that, namely that one could
> > > view "versions" as instances, and that two versions with
> > > different content are different versions and so need
> > > different Etags.
> > 
> > That's exactly what the model already says.
> 
> Sorry, that should have said "the same content".
> 
> 
> > Your original question was whether "A" and "A" could have the same etag.
> > According to the draft, yes.
> 
> But I don't think that's clear as you seem to think it is.
> 
> 
> > ALso according to the draft, if you decided
> > to give them a different etag, fine. Nothing would break. Everything
> > would work exactly the same way.
> > 
> > I'm apparently missing what practical problem the draft is not
> > addressing.
> 
> I'm not saying there's a practical problem the draft is not addressing.
> I'm saying the draft isn't unambiguous and it's simple to make it
> so.

Therein lies the problem. To make it unambiguous would mean we either
mandate different entity-tags for identical entities, or we mandate
identical entity-tags for identical entities.

But currently this is *intentionally* undefined. If my notifier
implements MD5 hash over the entity as the entity-tag value for event
package X, identical entities would indeed receive identical
entity-tags. That will work.

But if my notifier implements a timestamp as the entity-tag value for
event package Y, identical entities would receive different entity-tags.
That will also work.

Bottom line is, the subscriber doesn't care, and the notifier can do
what it wants. We require uniqueness of entity-tags as a friendly
suggestion not to shoot self in foot. If the notifier dishes out the
same entity-tag for different entities, it can cause the notifier to
suppress a NOTIFY that should have been sent.

If this is inline with how you think this should work, I can try to
sketch a paragraph or two into section 6.1 basically saying the above in
normative language.

Cheers,
Aki

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Wed Mar  5 06:05:13 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 7031D28C7B1;
	Wed,  5 Mar 2008 06:05:13 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -0.369
X-Spam-Level: 
X-Spam-Status: No, score=-0.369 tagged_above=-999 required=5 tests=[AWL=0.068,
	BAYES_00=-2.599, FH_RELAY_NODNS=1.451, HELO_MISMATCH_ORG=0.611,
	RDNS_NONE=0.1]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 7GLPqox03U3R; Wed,  5 Mar 2008 06:05:07 -0800 (PST)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id C39593A6C39;
	Wed,  5 Mar 2008 06:05:07 -0800 (PST)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 3BF183A6873
	for <sip@core3.amsl.com>; Wed,  5 Mar 2008 06:05:07 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id LFZbV+XR2hIx for <sip@core3.amsl.com>;
	Wed,  5 Mar 2008 06:05:04 -0800 (PST)
Received: from romeo.rtfm.com (unknown [74.95.2.173])
	by core3.amsl.com (Postfix) with ESMTP id 83FA93A6C39
	for <sip@ietf.org>; Wed,  5 Mar 2008 06:05:04 -0800 (PST)
Received: from romeo.rtfm.com (localhost.rtfm.com [127.0.0.1])
	by romeo.rtfm.com (Postfix) with ESMTP id 60FE75081A;
	Wed,  5 Mar 2008 06:06:49 -0800 (PST)
Date: Wed, 05 Mar 2008 06:06:49 -0800
From: Eric Rescorla <ekr@networkresonance.com>
To: Aki Niemi <aki.niemi@nokia.com>
In-Reply-To: <1204724689.5302.38.camel@localhost>
References: <20080303183225.D04A35081A@romeo.rtfm.com>
	<1204628885.15582.7.camel@localhost>
	<20080304151905.4EE005081A@romeo.rtfm.com>
	<1204661227.15582.78.camel@localhost>
	<20080304202005.ADD0C5081A@romeo.rtfm.com>
	<1204663441.15582.107.camel@localhost>
	<20080304205516.B737E5081A@romeo.rtfm.com>
	<1204724689.5302.38.camel@localhost>
User-Agent: Wanderlust/2.14.0 (Africa) Emacs/21.3 Mule/5.0 (SAKAKI)
MIME-Version: 1.0 (generated by SEMI 1.14.6 - "Maruoka")
Message-Id: <20080305140649.60FE75081A@romeo.rtfm.com>
Cc: sip@ietf.org
Subject: Re: [Sip] Question on subnot-etags
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

At Wed, 05 Mar 2008 15:44:49 +0200,
Aki Niemi wrote:
> 
> 
> On ti, 2008-03-04 at 12:55 -0800, ext Eric Rescorla wrote:
> > At Tue, 04 Mar 2008 22:44:01 +0200,
> > Aki Niemi wrote:
> > > 
> > > 
> > > On ti, 2008-03-04 at 12:20 -0800, ext Eric Rescorla wrote:
> > > > > Then I'd appreciate any suggestion to make it clearer.
> > > > 
> > > > Explicitly state that in the case I described that it's permissible
> > > > to deliver the same Etag in the first and third versions.
> > > 
> > > Something like in S 5.3:
> > > 
> > >    The subscriber MUST be
> > >    prepared to receive a NOTIFY with any entity-tag value, including a
> > >    value that matches any previous value that the subscriber might have
> > >    seen.
> > 
> > Yeah, I don't think that's at all clear. For all I know, that
> > could mean the server is running in a VM and was rolled back.
> 
> It could also mean the Lakers just fired Koby in order to make room in
> their salary cap to hire me as their point guard. 

Yes, precisely. It's not clearly written.


> It just doesn't matter; the subscriber is not supposed to even attempt
> to infer such a meaning from the entity-tag value.
> 
> Perhaps you're looking for something like this:
> 
>         The entity-tag is an opaque token to the subscriber.  The
>         subscriber MUST NOT attempt to infer any meaning from the value
>         beyond a simple reference, or assume a specific formatting.  The
>         relationship between the current entity-tag and any future or
>         past entity-tags is undefined.

But that's not true. You require that if value(A) != value(B),
ETag(A) != ETag(B). that's not undefined at all.


> Therein lies the problem. To make it unambiguous would mean we either
> mandate different entity-tags for identical entities, or we mandate
> identical entity-tags for identical entities.

No, that's not true. I'm perfectly happy to have it be unambigous
that you may or may not have identical etags for identical
entities. What I'm not OK with is the current state in
which it is not clear whether this is legal or not and
so the subscriber doesn't know whether he can rely on
it. 

I appreciate that you believe that the current text clearly
allows both designs, but I don't. I think it can
be interpreted either way (as either (1) allowing both
designs or (2) prohibiting one).


> But currently this is *intentionally* undefined. If my notifier
> implements MD5 hash over the entity as the entity-tag value for event
> package X, identical entities would indeed receive identical
> entity-tags. That will work.
> 
> But if my notifier implements a timestamp as the entity-tag value for
> event package Y, identical entities would receive different entity-tags.
> That will also work.
> 
> Bottom line is, the subscriber doesn't care, and the notifier can do
> what it wants. We require uniqueness of entity-tags as a friendly
> suggestion not to shoot self in foot. If the notifier dishes out the
> same entity-tag for different entities, it can cause the notifier to
> suppress a NOTIFY that should have been sent.

That's not a friendly reminder. It's a hard requirement of the
spec.


> If this is inline with how you think this should work, I can try to
> sketch a paragraph or two into section 6.1 basically saying the above in
> normative language.

I'm fine with what you describe above, but what I'm looking for is
to have you *explicitly* state that if there are two instances
with the same value they MAY have the same etag, even if there
was an intervening instance with a different value. Not MUST,
MAY. And the reason I think this is important is that IMO,
the current text can be interpreted as forbidding this.

-Ekr
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Wed Mar  5 07:10:47 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 1184C28C815;
	Wed,  5 Mar 2008 07:10:47 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -0.162
X-Spam-Level: 
X-Spam-Status: No, score=-0.162 tagged_above=-999 required=5 tests=[AWL=0.275,
	BAYES_00=-2.599, FH_RELAY_NODNS=1.451, HELO_MISMATCH_ORG=0.611,
	RDNS_NONE=0.1]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id R0kXrzHqRPTj; Wed,  5 Mar 2008 07:10:46 -0800 (PST)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 5D96E28C80E;
	Wed,  5 Mar 2008 07:10:33 -0800 (PST)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 3805D28C80B
	for <sip@core3.amsl.com>; Wed,  5 Mar 2008 07:10:32 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id MMvPEL+dm9rs for <sip@core3.amsl.com>;
	Wed,  5 Mar 2008 07:10:31 -0800 (PST)
Received: from nostrum.com (nostrum-pt.tunnel.tserv2.fmt.ipv6.he.net
	[IPv6:2001:470:1f03:267::2])
	by core3.amsl.com (Postfix) with ESMTP id 72AF93A6ECE
	for <sip@ietf.org>; Wed,  5 Mar 2008 07:10:29 -0800 (PST)
Received: from [172.16.3.232] (vicuna-alt.estacado.net [75.53.54.121])
	(authenticated bits=0)
	by nostrum.com (8.14.2/8.14.1) with ESMTP id m25FAHRB004575
	(version=TLSv1/SSLv3 cipher=AES128-SHA bits=128 verify=NO);
	Wed, 5 Mar 2008 09:10:18 -0600 (CST)
	(envelope-from rjsparks@nostrum.com)
In-Reply-To: <684062.20695.qm@web8407.mail.in.yahoo.com>
References: <684062.20695.qm@web8407.mail.in.yahoo.com>
Mime-Version: 1.0 (Apple Message framework v753)
Message-Id: <1DD9F637-5B6E-4EF8-A1C1-48F06B3A5CDA@nostrum.com>
From: Robert Sparks <rjsparks@nostrum.com>
Date: Wed, 5 Mar 2008 09:10:16 -0600
To: atul garg <shivalk_80@yahoo.co.in>
X-Mailer: Apple Mail (2.753)
Received-SPF: pass (nostrum.com: 75.53.54.121 is authenticated by a trusted
	mechanism)
X-Virus-Scanned: ClamAV 0.92.1/6140/Wed Mar 5 08:44:05 2008 on
	shaman.nostrum.com
X-Virus-Status: Clean
Cc: sip@ietf.org
Subject: Re: [Sip] Is null character allowed in any sip message header....
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

A literal NULL can appear in quoted-string (which can appear in a  
bunch of header field values).

See RFC4475 section 3.1.1.2 for an example.

RjS

On Mar 5, 2008, at 4:00 AM, atul garg wrote:

> Hi,
>
> Can a NuLL character allowed in any SIP message
> header's value...and if so can any body provide the
> Lex expression to parse that string.
>
> somethng like ...[^:](.|\n[' '|\t])*[^\r\n]
>
> but the above expression does not support NULL.
>
> Regards
>
>
>       Get the freedom to save as many mails as you wish. To know  
> how, go to http://help.yahoo.com/l/in/yahoo/mail/yahoomail/tools/ 
> tools-08.html
> _______________________________________________
> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Wed Mar  5 12:59:33 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id B7AF328C638;
	Wed,  5 Mar 2008 12:59:33 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -0.587
X-Spam-Level: 
X-Spam-Status: No, score=-0.587 tagged_above=-999 required=5
	tests=[AWL=-0.150, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id lCfvsfNjiYta; Wed,  5 Mar 2008 12:59:32 -0800 (PST)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id A60323A6B8B;
	Wed,  5 Mar 2008 12:59:32 -0800 (PST)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id EDB3C28C2A2
	for <sip@core3.amsl.com>; Wed,  5 Mar 2008 12:59:30 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id nLnBCciHAGpx for <sip@core3.amsl.com>;
	Wed,  5 Mar 2008 12:59:30 -0800 (PST)
Received: from nylon.softarmor.com (nylon.softarmor.com [66.135.38.164])
	by core3.amsl.com (Postfix) with ESMTP id 3A90A28C381
	for <sip@ietf.org>; Wed,  5 Mar 2008 12:59:29 -0800 (PST)
Received: from [192.168.2.100] (cpe-76-185-142-113.tx.res.rr.com
	[76.185.142.113]) (authenticated bits=0)
	by nylon.softarmor.com (8.13.8/8.13.8/Debian-3) with ESMTP id
	m25KxHFA012701
	(version=TLSv1/SSLv3 cipher=AES128-SHA bits=128 verify=NOT);
	Wed, 5 Mar 2008 14:59:18 -0600
Message-Id: <9B149569-37A9-402B-BAB1-BB963CA3D477@softarmor.com>
From: Dean Willis <dean.willis@softarmor.com>
To: Aki Niemi <aki.niemi@nokia.com>
In-Reply-To: <1204724689.5302.38.camel@localhost>
Mime-Version: 1.0 (Apple Message framework v919.2)
Date: Wed, 5 Mar 2008 14:59:11 -0600
References: <20080303183225.D04A35081A@romeo.rtfm.com>
	<1204628885.15582.7.camel@localhost>
	<20080304151905.4EE005081A@romeo.rtfm.com>
	<1204661227.15582.78.camel@localhost>
	<20080304202005.ADD0C5081A@romeo.rtfm.com>
	<1204663441.15582.107.camel@localhost>
	<20080304205516.B737E5081A@romeo.rtfm.com>
	<1204724689.5302.38.camel@localhost>
X-Mailer: Apple Mail (2.919.2)
Cc: sip@ietf.org
Subject: Re: [Sip] Question on subnot-etags
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


On Mar 5, 2008, at 7:44 AM, Aki Niemi wrote:
>
>        The entity-tag is an opaque token to the subscriber.  The
>        subscriber MUST NOT attempt to infer any meaning from the value
>        beyond a simple reference, or assume a specific formatting.   
> The
>        relationship between the current entity-tag and any future or
>        past entity-tags is undefined.


But we DO infer something -- if the entity tag has changed, then the  
object has changed. So we infer that the object has changed when we  
see a different entity tag.

But if the object changes (and we miss the notification), then changes  
back (returning to the same entity tag value) then we can no longer  
infer that the object changed, because we have the same entity tag. We  
don't know that the object ever changed, and would assume that it had  
just always been the way it is. Thus our inference would be incorrect.

While this may not matter to the state of the object, it might matter  
to our understanding of how the object arrived at that state.

On the other hand, if the entity tag were unique for each version of  
the object, we'd at least know that there had been some state change  
in the object (which could have been a missed notification, or might  
have been a null-operation that just updated the timestamp).

I have a vague, queasy feeling that this might turn out to be  
important for some applications. But perhaps I'm looking at this in  
the wrong way.

For objects where this kind of state awareness matters, perhaps one  
could just require  that the object in question include a timestamp,  
or better yet a serial number.

--
Dean
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Wed Mar  5 14:30:38 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id DEE343A690F;
	Wed,  5 Mar 2008 14:30:38 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.537
X-Spam-Level: 
X-Spam-Status: No, score=-100.537 tagged_above=-999 required=5
	tests=[AWL=-0.100, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id Ed+P5OSq-Xx6; Wed,  5 Mar 2008 14:30:38 -0800 (PST)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 07E8928C300;
	Wed,  5 Mar 2008 14:30:38 -0800 (PST)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 30B983A68B1
	for <sip@core3.amsl.com>; Wed,  5 Mar 2008 14:30:37 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 5TmQCEm-hFwI for <sip@core3.amsl.com>;
	Wed,  5 Mar 2008 14:30:33 -0800 (PST)
Received: from QMTA02.westchester.pa.mail.comcast.net
	(qmta02.westchester.pa.mail.comcast.net [76.96.62.24])
	by core3.amsl.com (Postfix) with ESMTP id 1082328C300
	for <sip@ietf.org>; Wed,  5 Mar 2008 14:30:32 -0800 (PST)
Received: from OMTA03.westchester.pa.mail.comcast.net ([76.96.62.27])
	by QMTA02.westchester.pa.mail.comcast.net with comcast
	id xTsp1Y0030bG4ec520Rq00; Wed, 05 Mar 2008 22:29:45 +0000
Received: from dragon.ariadne.com ([76.19.174.1])
	by OMTA03.westchester.pa.mail.comcast.net with comcast
	id xaWM1Y00E02AVH03P00000; Wed, 05 Mar 2008 22:30:22 +0000
X-Authority-Analysis: v=1.0 c=1 a=GnoFzUcKZTEDwQ8pExgA:9
	a=ZCiRDcitXn71j24VeNDe82YV0HEA:4 a=JfD0Fch1gWkA:10 a=8y7tGHue6YMA:10
Received: from dragon.ariadne.com (dragon.ariadne.com [127.0.0.1])
	by dragon.ariadne.com (8.12.8/8.12.8) with ESMTP id m25MULMj019994
	for <sip@ietf.org>; Wed, 5 Mar 2008 17:30:21 -0500
Received: (from worley@localhost)
	by dragon.ariadne.com (8.12.8/8.12.8/Submit) id m25MULiD019990;
	Wed, 5 Mar 2008 17:30:21 -0500
Date: Wed, 5 Mar 2008 17:30:21 -0500
Message-Id: <200803052230.m25MULiD019990@dragon.ariadne.com>
To: sip@ietf.org
From: Dale.Worley@comcast.net
In-reply-to: <47CEA1E4.1060705@cisco.com> (pkyzivat@cisco.com)
References: <5D1A7985295922448D5550C94DE2918001CB053E@DEEXC1U01.de.lucent.com>	<200803032121.m23LL0jI031195@dragon.ariadne.com>	<47CC928C.3090100@cisco.com>
	<200803050334.m253YprO001682@dragon.ariadne.com>
	<47CEA1E4.1060705@cisco.com>
Subject: Re: [Sip] draft-ietf-sip-body-handling-01
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
MIME-Version: 1.0
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

   From: Paul Kyzivat <pkyzivat@cisco.com>

   Does that help?

There's no way of knowing until a clear and allegedly complete set of
rules is enunciated.  The question is not to eliminate this one
problem but to make it verifiable that no problems remain.

Dale
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Wed Mar  5 17:00:56 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 3B29F28C70D;
	Wed,  5 Mar 2008 17:00:56 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -101.066
X-Spam-Level: 
X-Spam-Status: No, score=-101.066 tagged_above=-999 required=5
	tests=[AWL=-0.629, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id wUld5mftfO0x; Wed,  5 Mar 2008 17:00:55 -0800 (PST)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 407DC3A6BCA;
	Wed,  5 Mar 2008 17:00:55 -0800 (PST)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id C502128C344
	for <sip@core3.amsl.com>; Wed,  5 Mar 2008 17:00:53 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 5XtxxWJvkNu8 for <sip@core3.amsl.com>;
	Wed,  5 Mar 2008 17:00:52 -0800 (PST)
Received: from zrtps0kp.nortel.com (zrtps0kp.nortel.com [47.140.192.56])
	by core3.amsl.com (Postfix) with ESMTP id B85D13A6BDF
	for <sip@ietf.org>; Wed,  5 Mar 2008 17:00:49 -0800 (PST)
Received: from zrc2hxm0.corp.nortel.com (zrc2hxm0.corp.nortel.com
	[47.103.123.71])
	by zrtps0kp.nortel.com (Switch-2.2.6/Switch-2.2.0) with ESMTP id
	m2610Zd14936; Thu, 6 Mar 2008 01:00:35 GMT
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Wed, 5 Mar 2008 19:00:33 -0600
Message-ID: <1ECE0EB50388174790F9694F77522CCF1549EC14@zrc2hxm0.corp.nortel.com>
In-Reply-To: <20080303185301.8A6B61819D7F@mail.iptel.org>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] keep-alive backwards compatibility in
	draft-ietf-sip-outbound-12.txt
Thread-Index: Ach9YB1bppGqYVBmRK+7zdZr7CeriQBxDcIw
References: <20080303185301.8A6B61819D7F@mail.iptel.org>
From: "Francois Audet" <audet@nortel.com>
To: "Jiri Kuthan" <jiri@iptel.org>, <sip@ietf.org>
Cc: Cullen Jennings <fluffy@cisco.com>, Rohan Mahy <rohan@ekabal.com>
Subject: Re: [Sip] keep-alive backwards compatibility in
	draft-ietf-sip-outbound-12.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Jiri,

On p.15 it is explained that the UAC looks at the presence of
the Require: outbound field falue in a response to registration.

This is to ensure that both the registrar and the edge proxy are
compliant with this spec. The keep-alive would only be sent if
present.

Please suggest improved wording if you feel it is not clear enough. 

On the TCP keep-alive issue: this has been investigated in previous versions
of the draft. It was dropped because of the fact that changing the TCP keep-alive
is often a system-wide setting on most Operating Systems.

Rohan, we use to have some words about this in the spec, but I think it's all
gone from this version. Maybe the note should have been left here...

> -----Original Message-----
> From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On 
> Behalf Of Jiri Kuthan
> Sent: Monday, March 03, 2008 10:53
> To: sip@ietf.org
> Subject: [Sip] keep-alive backwards compatibility in 
> draft-ietf-sip-outbound-12.txt
> 
> I'm just wondering if folks have been worried about the UACs 
> that implement the aforementioned I-D and talk to a proxy/UAS 
> that doesn't do so?
> 
> It appears to me that mandating a reconnect on lacking PONG 
> would lead to quite heavy traffic.
> 
> (which is why without deeper knowledge of the history of this 
> I-D, I would be inclined to rely on TCP's keep-alive, which 
> is in there)
> 
> -jiri
> 
> 
> 
> --
> Jiri Kuthan            http://iptel.org/~jiri/
> 
> _______________________________________________
> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol Use 
> sip-implementors@cs.columbia.edu for questions on current sip 
> Use sipping@ietf.org for new developments on the application of sip
> 
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Wed Mar  5 20:44:33 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id C5FC93A6CF4;
	Wed,  5 Mar 2008 20:44:33 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.548
X-Spam-Level: 
X-Spam-Status: No, score=-100.548 tagged_above=-999 required=5
	tests=[AWL=-0.111, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id hAkt2N4CZgkQ; Wed,  5 Mar 2008 20:44:32 -0800 (PST)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id B448A3A6D14;
	Wed,  5 Mar 2008 20:44:32 -0800 (PST)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 01FE13A6D31
	for <sip@core3.amsl.com>; Wed,  5 Mar 2008 20:44:31 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id D5V22683nR7A for <sip@core3.amsl.com>;
	Wed,  5 Mar 2008 20:44:28 -0800 (PST)
Received: from QMTA03.westchester.pa.mail.comcast.net
	(qmta03.westchester.pa.mail.comcast.net [76.96.62.32])
	by core3.amsl.com (Postfix) with ESMTP id 8CD2428C4FE
	for <sip@ietf.org>; Wed,  5 Mar 2008 20:43:41 -0800 (PST)
Received: from OMTA14.westchester.pa.mail.comcast.net ([76.96.62.60])
	by QMTA03.westchester.pa.mail.comcast.net with comcast
	id xUmr1Y0071HzFnQ530kA00; Thu, 06 Mar 2008 04:42:45 +0000
Received: from dragon.ariadne.com ([76.19.174.1])
	by OMTA14.westchester.pa.mail.comcast.net with comcast
	id xgis1Y00S02AVH03a00000; Thu, 06 Mar 2008 04:42:53 +0000
X-Authority-Analysis: v=1.0 c=1 a=RcSa5lXIhJJGLjy_F5gA:9
	a=2qeyD4gmkFcdsuk2wmAA:7 a=DxTP2MhF6Pd4mpW_ntgXQ7pGEYkA:4
	a=JqzK7hVu6n4A:10
Received: from dragon.ariadne.com (dragon.ariadne.com [127.0.0.1])
	by dragon.ariadne.com (8.12.8/8.12.8) with ESMTP id m264gqMj014904
	for <sip@ietf.org>; Wed, 5 Mar 2008 23:42:52 -0500
Received: (from worley@localhost)
	by dragon.ariadne.com (8.12.8/8.12.8/Submit) id m264gqqP014900;
	Wed, 5 Mar 2008 23:42:52 -0500
Date: Wed, 5 Mar 2008 23:42:52 -0500
Message-Id: <200803060442.m264gqqP014900@dragon.ariadne.com>
To: sip@ietf.org
From: Dale.Worley@comcast.net
In-reply-to: <9B149569-37A9-402B-BAB1-BB963CA3D477@softarmor.com>
	(dean.willis@softarmor.com)
References: <20080303183225.D04A35081A@romeo.rtfm.com>
	<1204628885.15582.7.camel@localhost>
	<20080304151905.4EE005081A@romeo.rtfm.com>
	<1204661227.15582.78.camel@localhost>
	<20080304202005.ADD0C5081A@romeo.rtfm.com>
	<1204663441.15582.107.camel@localhost>
	<20080304205516.B737E5081A@romeo.rtfm.com>
	<1204724689.5302.38.camel@localhost>
	<9B149569-37A9-402B-BAB1-BB963CA3D477@softarmor.com>
Subject: Re: [Sip] Question on subnot-etags
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
MIME-Version: 1.0
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

It seems like there are a number of open issues:

1. Is the only thing that is important from the subscriber's point of
view the current value of the event package, or is it important to
know something of the history of that value?  (People have been
discussing this.)

2. The interaction of ETags with partial notifications.  The draft
reads:

   With partial event notification, the NOTIFY message only carries the
   delta state, or the set of changes to the previous version of the
   entity.  In that case, implementations MUST consider the full event
   state as the version of the entity to which the entity-tag in the
   NOTIFY message applies.

That is, the ETags carry information about the composed full state
that the subscriber is maintaining by integrating the partial
notifications that it receives.

But it is problematic to use partial notifications in combination with
ETags:  When the notifier determines that the subscriber's current
state ETag is different from the current ETag of the resource, it does
not know what the subscriber's current state *is* (unless it maps the
presented ETag to a previous package value), and so cannot update the
subscriber with a partial notification.  Use of ETags seems to
effectively require the use of full notifications at all times.

3. Some event packages (e.g., dialog and resource-list) specify that
the package values within any individual subscription be sequence
numbered via a 'version' attribute in the XML.  This reduces the
chances of an ETags match between requests that are part of different
subscriptions, because a new poll-type SUBSCRIBE will necessarily
fetch a value with 'version="1"', and its ETag will not match the ETag
of any value that had a different version attribute, even if the rest
of the XML is the same.

This is particularly unfortunate because the version attribute does
not carry information that is important to the application; it is
control information that is largely redundant with the ETags mechanism
itself.

4. Conflicting assignments of ETags to values in notifiers that are
not co-administered, but are alternative forking destinations of some
URI in the universe.  (People have been discussing this.)

Dale
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Wed Mar  5 23:40:54 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id A57C128C8A0;
	Wed,  5 Mar 2008 23:40:54 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.64
X-Spam-Level: 
X-Spam-Status: No, score=-100.64 tagged_above=-999 required=5
	tests=[AWL=-0.203, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id Yxm0l8jdLiNz; Wed,  5 Mar 2008 23:40:52 -0800 (PST)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id CE9BE28C897;
	Wed,  5 Mar 2008 23:40:21 -0800 (PST)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 44D7128C8A7
	for <sip@core3.amsl.com>; Wed,  5 Mar 2008 23:40:20 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id bu6SI+E7MZGX for <sip@core3.amsl.com>;
	Wed,  5 Mar 2008 23:40:18 -0800 (PST)
Received: from mgw-mx03.nokia.com (smtp.nokia.com [192.100.122.230])
	by core3.amsl.com (Postfix) with ESMTP id C249428C8C5
	for <sip@ietf.org>; Wed,  5 Mar 2008 23:39:43 -0800 (PST)
Received: from esebh108.NOE.Nokia.com (esebh108.ntc.nokia.com [172.21.143.145])
	by mgw-mx03.nokia.com (Switch-3.2.6/Switch-3.2.6) with ESMTP id
	m267dM0I027090; Thu, 6 Mar 2008 09:39:30 +0200
Received: from esebh102.NOE.Nokia.com ([172.21.138.183]) by
	esebh108.NOE.Nokia.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Thu, 6 Mar 2008 09:39:25 +0200
Received: from mgw-int01.ntc.nokia.com ([172.21.143.96]) by
	esebh102.NOE.Nokia.com over TLS secured channel with Microsoft
	SMTPSVC(6.0.3790.1830); Thu, 6 Mar 2008 09:39:25 +0200
Received: from [172.21.40.116] (esdhcp040116.research.nokia.com
	[172.21.40.116])
	by mgw-int01.ntc.nokia.com (Switch-3.2.5/Switch-3.2.5) with ESMTP id
	m267dNMk031336; Thu, 6 Mar 2008 09:39:24 +0200
From: Aki Niemi <aki.niemi@nokia.com>
To: ext Dean Willis <dean.willis@softarmor.com>
In-Reply-To: <9B149569-37A9-402B-BAB1-BB963CA3D477@softarmor.com>
References: <20080303183225.D04A35081A@romeo.rtfm.com>
	<1204628885.15582.7.camel@localhost>
	<20080304151905.4EE005081A@romeo.rtfm.com>
	<1204661227.15582.78.camel@localhost>
	<20080304202005.ADD0C5081A@romeo.rtfm.com>
	<1204663441.15582.107.camel@localhost>
	<20080304205516.B737E5081A@romeo.rtfm.com>
	<1204724689.5302.38.camel@localhost>
	<9B149569-37A9-402B-BAB1-BB963CA3D477@softarmor.com>
Organization: Nokia Devices R&D
Date: Thu, 06 Mar 2008 09:39:14 +0200
Message-Id: <1204789154.5302.73.camel@localhost>
Mime-Version: 1.0
X-Mailer: Evolution 2.12.1 
X-OriginalArrivalTime: 06 Mar 2008 07:39:25.0389 (UTC)
	FILETIME=[33910FD0:01C87F5D]
X-Nokia-AV: Clean
Cc: sip@ietf.org
Subject: Re: [Sip] Question on subnot-etags
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


On ke, 2008-03-05 at 14:59 -0600, ext Dean Willis wrote:
> On Mar 5, 2008, at 7:44 AM, Aki Niemi wrote:
> >
> >        The entity-tag is an opaque token to the subscriber.  The
> >        subscriber MUST NOT attempt to infer any meaning from the value
> >        beyond a simple reference, or assume a specific formatting.   
> > The
> >        relationship between the current entity-tag and any future or
> >        past entity-tags is undefined.
> 
> 
> But we DO infer something -- if the entity tag has changed, then the  
> object has changed. So we infer that the object has changed when we  
> see a different entity tag.

No, we really don't. 

The semantic for the subscriber is simply: ah, a notification! That'd be
the current state of the resource. Oh, there's also a reference tag on
it. Great. I'll store them and render the state to the user. 

The semantic is not: hmm, a notification. I know they're supposed to be
generated when state changes, but I'm not convinced the state has
changed. I better match the etag with my stored history of etags to see
whether the state *really* changed. Ha! A match! The notifier farm
must've rebooted or the Lakers indeed fired Koby! I better calculate the
nth decimal of pi, launch doom and busy-loop for the rest of the day.

There *really* is no comparison done; the subscriber throws away the old
state when a NOTIFY is received, and stores the new state. (In the case
of partial notification, there's also patching done, but still no
comparison of etags). 

This is how notifications work without conditional notification and
we're not changing that in any way.

> But if the object changes (and we miss the notification), then changes  
> back (returning to the same entity tag value) then we can no longer  
> infer that the object changed, because we have the same entity tag. We  
> don't know that the object ever changed, and would assume that it had  
> just always been the way it is. Thus our inference would be incorrect.
> 
> While this may not matter to the state of the object, it might matter  
> to our understanding of how the object arrived at that state.
> 
> On the other hand, if the entity tag were unique for each version of  
> the object, we'd at least know that there had been some state change  
> in the object (which could have been a missed notification, or might  
> have been a null-operation that just updated the timestamp).
> 
> I have a vague, queasy feeling that this might turn out to be  
> important for some applications. But perhaps I'm looking at this in  
> the wrong way.
> 
> For objects where this kind of state awareness matters, perhaps one  
> could just require  that the object in question include a timestamp,  
> or better yet a serial number.

Assuming this application currently doesn't use etags, how is it *now*
handling missed notifications? If it requires etags to handle them
correctly, then it's using etags in a way they're not meant to be used.

I would rather see the event package itself sport a mechanism that
allows it to carry this additional information about recent state
transitions, if necessary. IMHO, that is the only correct place for such
features.

Cheers,
Aki

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Wed Mar  5 23:54:34 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id D7AD728C858;
	Wed,  5 Mar 2008 23:54:33 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.646
X-Spam-Level: 
X-Spam-Status: No, score=-100.646 tagged_above=-999 required=5
	tests=[AWL=-0.209, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 03i6TX-3tek5; Wed,  5 Mar 2008 23:54:32 -0800 (PST)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 454653A6CBD;
	Wed,  5 Mar 2008 23:54:32 -0800 (PST)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 6A1D728C858;
	Wed,  5 Mar 2008 23:54:30 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id kLCe6sQjpBTD; Wed,  5 Mar 2008 23:54:29 -0800 (PST)
Received: from mgw-mx06.nokia.com (smtp.nokia.com [192.100.122.233])
	by core3.amsl.com (Postfix) with ESMTP id 4210A3A6C11;
	Wed,  5 Mar 2008 23:53:34 -0800 (PST)
Received: from esebh107.NOE.Nokia.com (esebh107.ntc.nokia.com [172.21.143.143])
	by mgw-mx06.nokia.com (Switch-3.2.6/Switch-3.2.6) with ESMTP id
	m267qvCv010607; Thu, 6 Mar 2008 09:53:21 +0200
Received: from esebh102.NOE.Nokia.com ([172.21.138.183]) by
	esebh107.NOE.Nokia.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Thu, 6 Mar 2008 09:53:17 +0200
Received: from esebh101.NOE.Nokia.com ([172.21.138.177]) by
	esebh102.NOE.Nokia.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Thu, 6 Mar 2008 09:53:17 +0200
Received: from mgw-int01.ntc.nokia.com ([172.21.143.96]) by
	esebh101.NOE.Nokia.com over TLS secured channel with Microsoft
	SMTPSVC(6.0.3790.1830); Thu, 6 Mar 2008 09:53:16 +0200
Received: from [172.21.40.116] (esdhcp040116.research.nokia.com
	[172.21.40.116])
	by mgw-int01.ntc.nokia.com (Switch-3.2.5/Switch-3.2.5) with ESMTP id
	m267rF3f012386; Thu, 6 Mar 2008 09:53:15 +0200
From: Aki Niemi <aki.niemi@nokia.com>
To: "ext sip-bounces@ietf.org" <sip-bounces@ietf.org>
Cc: sip@ietf.org
In-Reply-To: <200803060442.m264gqqP014900@dragon.ariadne.com>
References: <20080303183225.D04A35081A@romeo.rtfm.com>
	<1204628885.15582.7.camel@localhost>
	<20080304151905.4EE005081A@romeo.rtfm.com>
	<1204661227.15582.78.camel@localhost>
	<20080304202005.ADD0C5081A@romeo.rtfm.com>
	<1204663441.15582.107.camel@localhost>
	<20080304205516.B737E5081A@romeo.rtfm.com>
	<1204724689.5302.38.camel@localhost>
	<9B149569-37A9-402B-BAB1-BB963CA3D477@softarmor.com>
	<200803060442.m264gqqP014900@dragon.ariadne.com>
Organization: Nokia Devices R&D
Date: Thu, 06 Mar 2008 09:53:07 +0200
Message-Id: <1204789987.5302.81.camel@localhost>
Mime-Version: 1.0
X-Mailer: Evolution 2.12.1 
X-OriginalArrivalTime: 06 Mar 2008 07:53:17.0004 (UTC)
	FILETIME=[233F70C0:01C87F5F]
X-Nokia-AV: Clean
Subject: Re: [Sip] Question on subnot-etags
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


On ke, 2008-03-05 at 23:42 -0500, ext sip-bounces@ietf.org wrote:
> It seems like there are a number of open issues:
> 
> 1. Is the only thing that is important from the subscriber's point of
> view the current value of the event package, or is it important to
> know something of the history of that value?  (People have been
> discussing this.)

IMHO, this is not a use-case that conditional notification needs to
address.

> 2. The interaction of ETags with partial notifications.  The draft
> reads:
> 
>    With partial event notification, the NOTIFY message only carries the
>    delta state, or the set of changes to the previous version of the
>    entity.  In that case, implementations MUST consider the full event
>    state as the version of the entity to which the entity-tag in the
>    NOTIFY message applies.
> 
> That is, the ETags carry information about the composed full state
> that the subscriber is maintaining by integrating the partial
> notifications that it receives.
> 
> But it is problematic to use partial notifications in combination with
> ETags:  When the notifier determines that the subscriber's current
> state ETag is different from the current ETag of the resource, it does
> not know what the subscriber's current state *is* (unless it maps the
> presented ETag to a previous package value), and so cannot update the
> subscriber with a partial notification.  Use of ETags seems to
> effectively require the use of full notifications at all times.

Correct. 

The draft also talks about this. If the notifier wants to do journaling,
it not only needs to generate unique etags, it also needs to *remember*
them, along with the entities. Once it has this history, it can generate
a diff based on the entity-tag in the Suppress-If-Match and the journal
it has stored.

> 3. Some event packages (e.g., dialog and resource-list) specify that
> the package values within any individual subscription be sequence
> numbered via a 'version' attribute in the XML.  This reduces the
> chances of an ETags match between requests that are part of different
> subscriptions, because a new poll-type SUBSCRIBE will necessarily
> fetch a value with 'version="1"', and its ETag will not match the ETag
> of any value that had a different version attribute, even if the rest
> of the XML is the same.
> 
> This is particularly unfortunate because the version attribute does
> not carry information that is important to the application; it is
> control information that is largely redundant with the ETags mechanism
> itself.

Um, the 'version' parameter is largely redundant with the CSeq.

Cheers,
Aki

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu Mar  6 00:25:34 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 3AFE728C7F4;
	Thu,  6 Mar 2008 00:25:34 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.789
X-Spam-Level: 
X-Spam-Status: No, score=-100.789 tagged_above=-999 required=5
	tests=[AWL=-0.352, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id jQ1riPwj-TqH; Thu,  6 Mar 2008 00:25:33 -0800 (PST)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 456713A6CB9;
	Thu,  6 Mar 2008 00:25:33 -0800 (PST)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 014963A6D14
	for <sip@core3.amsl.com>; Thu,  6 Mar 2008 00:25:32 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id UtzMgmCsRoBk for <sip@core3.amsl.com>;
	Thu,  6 Mar 2008 00:25:30 -0800 (PST)
Received: from mailgw3.ericsson.se (mailgw3.ericsson.se [193.180.251.60])
	by core3.amsl.com (Postfix) with ESMTP id E3CE83A6C11
	for <sip@ietf.org>; Thu,  6 Mar 2008 00:25:29 -0800 (PST)
Received: from mailgw3.ericsson.se (unknown [127.0.0.1])
	by mailgw3.ericsson.se (Symantec Mail Security) with ESMTP id
	5711520C5A; Thu,  6 Mar 2008 09:25:08 +0100 (CET)
X-AuditID: c1b4fb3c-b009fbb00000193b-52-47cfaa644126
Received: from esealmw126.eemea.ericsson.se (unknown [153.88.254.123])
	by mailgw3.ericsson.se (Symantec Mail Security) with ESMTP id
	3A8A82094F; Thu,  6 Mar 2008 09:25:08 +0100 (CET)
Received: from esealmw113.eemea.ericsson.se ([153.88.200.4]) by
	esealmw126.eemea.ericsson.se with Microsoft SMTPSVC(6.0.3790.1830); 
	Thu, 6 Mar 2008 09:25:07 +0100
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Thu, 6 Mar 2008 09:25:06 +0100
Message-ID: <CA9998CD4A020D418654FCDEF4E707DF04F13E49@esealmw113.eemea.ericsson.se>
In-Reply-To: <1ECE0EB50388174790F9694F77522CCF1549EC14@zrc2hxm0.corp.nortel.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Outbound-12: STUN keep-alives without outbound
thread-index: Ach9YB1bppGqYVBmRK+7zdZr7CeriQBxDcIwAA5a4cA=
References: <20080303185301.8A6B61819D7F@mail.iptel.org>
	<1ECE0EB50388174790F9694F77522CCF1549EC14@zrc2hxm0.corp.nortel.com>
From: "Christer Holmberg" <christer.holmberg@ericsson.com>
To: "Francois Audet" <audet@nortel.com>,
	<sip@ietf.org>
X-OriginalArrivalTime: 06 Mar 2008 08:25:07.0563 (UTC)
	FILETIME=[96079BB0:01C87F63]
X-Brightmail-Tracker: AAAAAA==
Cc: Cullen Jennings <fluffy@cisco.com>, Rohan Mahy <rohan@ekabal.com>
Subject: [Sip] Outbound-12: STUN keep-alives without outbound
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


Hi,

I have big issues with the keep-alive change in the -12 version.

Because, now the STUN keep-alives usage can't be applied between the UA
and outbound proxy, unless the registrar supports outbound.

I strongly think it should be possible to use STUN keep-alives for
"pure" signalling NAT traversal, even if the "rest" of outbound is not
used.

So, while I DO agree with the Vancouver(?) decission to not include any
"URI" keep parameter in the R-URI of the register request, I think we
shall we keep the URI "keep" parameter definition, and e.g. allow it to
be inserted into the Path header (I don't remember any discussions
regarding removing that possibility) by the outbound proxy, in order to
inform the UA that the outbound proxy supports STUN keep-alive.

(OR, there should be another mechanism for the outbound proxy to inform
the UA it supports STUN keep-alive)

That would allow people to start using outbound for NAT traversal, even
if the registrars haven't yet been updated to support outbound etc.

At one point we decided that we will keep the STUN keep-alive usage and
outbound in the same spec, but that we will describe the STUN keep-alive
usage as a "stand alone" function (chapter 8 of the draft). But, now you
have more or less "merged" the STUN keep-alive usage with the outbound
function, and that is bad.

Also, this change is not mentioned in the
changes-since-the-previous-version part (if it is mentioned, I
appologize for having missed it)

Regards,

Christer
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu Mar  6 00:52:31 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 9EFDA28C806;
	Thu,  6 Mar 2008 00:52:31 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.638
X-Spam-Level: 
X-Spam-Status: No, score=-100.638 tagged_above=-999 required=5
	tests=[AWL=-0.201, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id z+7u9KWSvHGs; Thu,  6 Mar 2008 00:52:30 -0800 (PST)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 8487528C256;
	Thu,  6 Mar 2008 00:52:30 -0800 (PST)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 7BB1728C253
	for <sip@core3.amsl.com>; Thu,  6 Mar 2008 00:52:28 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id UReQP0srBdFO for <sip@core3.amsl.com>;
	Thu,  6 Mar 2008 00:52:23 -0800 (PST)
Received: from mgw-mx09.nokia.com (smtp.nokia.com [192.100.105.134])
	by core3.amsl.com (Postfix) with ESMTP id 1BE763A6D2A
	for <sip@ietf.org>; Thu,  6 Mar 2008 00:52:23 -0800 (PST)
Received: from esebh108.NOE.Nokia.com (esebh108.ntc.nokia.com [172.21.143.145])
	by mgw-mx09.nokia.com (Switch-3.2.6/Switch-3.2.6) with ESMTP id
	m268rUnK017630 for <sip@ietf.org>; Thu, 6 Mar 2008 02:53:55 -0600
Received: from esebh104.NOE.Nokia.com ([172.21.143.34]) by
	esebh108.NOE.Nokia.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Thu, 6 Mar 2008 10:51:36 +0200
Received: from esebh101.NOE.Nokia.com ([172.21.138.177]) by
	esebh104.NOE.Nokia.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Thu, 6 Mar 2008 10:51:36 +0200
Received: from mgw-int02.ntc.nokia.com ([172.21.143.97]) by
	esebh101.NOE.Nokia.com over TLS secured channel with Microsoft
	SMTPSVC(6.0.3790.1830); Thu, 6 Mar 2008 10:51:36 +0200
Received: from [172.21.40.116] (esdhcp040116.research.nokia.com
	[172.21.40.116])
	by mgw-int02.ntc.nokia.com (Switch-3.2.5/Switch-3.2.5) with ESMTP id
	m268pYh5005767 for <sip@ietf.org>; Thu, 6 Mar 2008 10:51:34 +0200
From: Aki Niemi <aki.niemi@nokia.com>
To: sip@ietf.org
Organization: Nokia Devices R&D
Date: Thu, 06 Mar 2008 10:51:26 +0200
Message-Id: <1204793486.5302.98.camel@localhost>
Mime-Version: 1.0
X-Mailer: Evolution 2.12.1 
X-OriginalArrivalTime: 06 Mar 2008 08:51:36.0270 (UTC)
	FILETIME=[48F90EE0:01C87F67]
X-Nokia-AV: Clean
Subject: [Sip] Subnot-etags (aka conditional notification) scope
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

All,

I'd like to draw people's attention to the abstract of the draft. It
says:
        This memo defines an extension to SIP events that allows the
        subscriber to condition the subscription request to whether the
        state has changed since the previous notification was received.
        
In other words, it's an optimization technique to the current SIP events
framework, and the SUBSCRIBE request. It doesn't say it will help detect
state changes, notifier reboots, or state transition history. 

Just to make sure we're on the same page as to what the goal for this
draft is when we're discussing the content.

Cheers,
Aki


_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu Mar  6 02:35:04 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id CCB2B28C885;
	Thu,  6 Mar 2008 02:35:04 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.978
X-Spam-Level: 
X-Spam-Status: No, score=-100.978 tagged_above=-999 required=5
	tests=[AWL=-0.540, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id M1cTzda5VipU; Thu,  6 Mar 2008 02:35:03 -0800 (PST)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id CF4AB28C3AE;
	Thu,  6 Mar 2008 02:35:03 -0800 (PST)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id BD12B28C3AE
	for <sip@core3.amsl.com>; Thu,  6 Mar 2008 02:35:02 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id NhHjZFkNkI+B for <sip@core3.amsl.com>;
	Thu,  6 Mar 2008 02:35:01 -0800 (PST)
Received: from sea02-mxf01.citel.com (sea02-mxf01.citel.com [205.234.66.116])
	by core3.amsl.com (Postfix) with ESMTP id D0CB83A68CD
	for <sip@ietf.org>; Thu,  6 Mar 2008 02:35:01 -0800 (PST)
Received: from [10.8.50.21] (helo=sea02-mxc01.citel.com)
	by sea02-mxf01.citel.com with smtp (Exim 4.43)
	id 1JXDSO-0006Ds-9v; Thu, 06 Mar 2008 02:36:12 -0800
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Thu, 6 Mar 2008 02:34:46 -0800
Message-ID: <0D4E483A0E6E0A46861409E5D6C2011C01267983@sea02-mxc01.citel.com>
In-reply-to: <200803050425.m254P0Ir005399@dragon.ariadne.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] Contact header in 1xx responses/updates remote target or
	not?
Thread-Index: Ach+eO/JuDF2QERoR3qX4m2SXu5sNwA+rEIg
References: <F86B91A10B14744E88408E80B8A30EF302B3B006@xmb-hkg-412.apac.cisco.com>	<47C6F37B.7010609@cisco.com><200803010326.m213QuF8026325@dragon.ariadne.com><47CC2D56.7010803@cisco.com>
	<200803050425.m254P0Ir005399@dragon.ariadne.com>
From: "Michael Procter" <michael.procter@citel.com>
To: <Dale.Worley@comcast.net>,
	<sip@ietf.org>
Subject: Re: [Sip] Contact header in 1xx responses/updates remote target or
	not?
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Dale.Worley@comcast.net wrote:
> 
>    From: Paul Kyzivat <pkyzivat@cisco.com>
> 
>    The UAC may want to send BYE (as opposed to CANCEL) because it
> doesn't
>    want *this* one.
> 
> Interesting -- I'd never thought of sending BYE on an early dialog.
> But clearly it's possible and clearly it terminates the dialog.  I
> wonder if any phones do that?

Whilst not particularly common, it is one approach used to prevent early
media processing becoming too complex.  If a UA already has negotiated
early media on one early dialog, and then a second early dialog is
formed with an SDP answer (reliably delivered, of course), it is
sometimes easier/desirable/less bug-prone to send a BYE on one of the
early dialogs.

>    The Contact is one of the attributes of dialog state. AFAIK we
> don't
>    have the notion of a dialog that exists but for which some state is
>    unknown.
> 
>    Its really a matter of which poison you want here.
> 
> I've tried thinking about this some more, and I am beginning to
> believe that there is no situation where there is a functional
> difference between the two strategies, that is, not creating an early
> dialog when a 1xx without Contact arrives, and creating an early
> dialog without a recorded Contact from such a 1xx.  So it probably
> doesn't matter which choice one makes.

Quite.  If a dialog forms in a forest [0], but nobody can send a message
over it, does it really exist?

Michael

[0] http://en.wikipedia.org/wiki/If_a_tree_falls_in_a_forest

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu Mar  6 03:11:21 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 43DEC28C86D;
	Thu,  6 Mar 2008 03:11:21 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.79
X-Spam-Level: 
X-Spam-Status: No, score=-100.79 tagged_above=-999 required=5
	tests=[AWL=-0.353, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id PHkkAe-jxk6G; Thu,  6 Mar 2008 03:11:20 -0800 (PST)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 3D09F3A6BED;
	Thu,  6 Mar 2008 03:11:20 -0800 (PST)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 919913A69BE
	for <sip@core3.amsl.com>; Thu,  6 Mar 2008 03:11:18 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id mhP-MToTqjsL for <sip@core3.amsl.com>;
	Thu,  6 Mar 2008 03:11:13 -0800 (PST)
Received: from mailgw4.ericsson.se (mailgw4.ericsson.se [193.180.251.62])
	by core3.amsl.com (Postfix) with ESMTP id 1CFA03A699A
	for <sip@ietf.org>; Thu,  6 Mar 2008 03:11:13 -0800 (PST)
Received: from mailgw4.ericsson.se (unknown [127.0.0.1])
	by mailgw4.ericsson.se (Symantec Mail Security) with ESMTP id
	BBABD211F6; Thu,  6 Mar 2008 12:11:01 +0100 (CET)
X-AuditID: c1b4fb3e-ac995bb000004ec0-de-47cfd145408b
Received: from esealmw126.eemea.ericsson.se (unknown [153.88.254.123])
	by mailgw4.ericsson.se (Symantec Mail Security) with ESMTP id
	B0E2B2110C; Thu,  6 Mar 2008 12:11:01 +0100 (CET)
Received: from esealmw113.eemea.ericsson.se ([153.88.200.4]) by
	esealmw126.eemea.ericsson.se with Microsoft SMTPSVC(6.0.3790.1830); 
	Thu, 6 Mar 2008 12:11:01 +0100
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Thu, 6 Mar 2008 12:11:00 +0100
Message-ID: <CA9998CD4A020D418654FCDEF4E707DF04F48C31@esealmw113.eemea.ericsson.se>
In-Reply-To: <0D4E483A0E6E0A46861409E5D6C2011C01267983@sea02-mxc01.citel.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] Contact header in 1xx responses/updates remote target
	ornot?
thread-index: Ach+eO/JuDF2QERoR3qX4m2SXu5sNwA+rEIgAAG0rAA=
References: <F86B91A10B14744E88408E80B8A30EF302B3B006@xmb-hkg-412.apac.cisco.com>	<47C6F37B.7010609@cisco.com><200803010326.m213QuF8026325@dragon.ariadne.com><47CC2D56.7010803@cisco.com><200803050425.m254P0Ir005399@dragon.ariadne.com>
	<0D4E483A0E6E0A46861409E5D6C2011C01267983@sea02-mxc01.citel.com>
From: "Christer Holmberg" <christer.holmberg@ericsson.com>
To: "Michael Procter" <michael.procter@citel.com>, <Dale.Worley@comcast.net>,
	<sip@ietf.org>
X-OriginalArrivalTime: 06 Mar 2008 11:11:01.0418 (UTC)
	FILETIME=[C2FD58A0:01C87F7A]
X-Brightmail-Tracker: AAAAAA==
Subject: Re: [Sip] Contact header in 1xx responses/updates remote target
	ornot?
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


Hi, 

>>I've tried thinking about this some more, and I am beginning to 
>>believe that there is no situation where there is a functional 
>>difference between the two strategies, that is, not 
>>creating an early dialog when a 1xx without Contact arrives, and
creating an early 
>>dialog without a recorded Contact from such a 1xx.  So it probably 
>>doesn't matter which choice one makes.
> 
>Quite.  If a dialog forms in a forest [0], but nobody can 
>send a message over it, does it really exist?

Well, I think there could be a difference, if it is assumed that the 18x
is supposed to trigger some actions (related to resources, security, NAT
traversal, media, whatever...).

If no Contact is considered a protocol error one would simply ignore it.

If NOT considered a protocol error, one could say that it is an error to
not start triggering those actions.

Regards,

Christer
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu Mar  6 05:10:28 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id ED1943A6F3B;
	Thu,  6 Mar 2008 05:10:27 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.746
X-Spam-Level: 
X-Spam-Status: No, score=-100.746 tagged_above=-999 required=5
	tests=[AWL=-0.309, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id oF5UAQMn2XHl; Thu,  6 Mar 2008 05:10:27 -0800 (PST)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id E656B28C4CD;
	Thu,  6 Mar 2008 05:10:25 -0800 (PST)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 44CD53A6F45
	for <sip@core3.amsl.com>; Thu,  6 Mar 2008 05:10:23 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 8ePd6vxRxcxe for <sip@core3.amsl.com>;
	Thu,  6 Mar 2008 05:10:19 -0800 (PST)
Received: from sea02-mxf01.citel.com (sea02-mxf01.citel.com [205.234.66.116])
	by core3.amsl.com (Postfix) with ESMTP id BAF3028C8FB
	for <sip@ietf.org>; Thu,  6 Mar 2008 05:09:47 -0800 (PST)
Received: from [10.8.50.21] (helo=sea02-mxc01.citel.com)
	by sea02-mxf01.citel.com with smtp (Exim 4.43)
	id 1JXFrN-0000OV-B3; Thu, 06 Mar 2008 05:10:09 -0800
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Thu, 6 Mar 2008 05:09:34 -0800
Message-ID: <0D4E483A0E6E0A46861409E5D6C2011C01267991@sea02-mxc01.citel.com>
In-reply-to: <CA9998CD4A020D418654FCDEF4E707DF04F48C31@esealmw113.eemea.ericsson.se>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] Contact header in 1xx responses/updates remote target
	ornot?
Thread-Index: Ach+eO/JuDF2QERoR3qX4m2SXu5sNwA+rEIgAAG0rAAAAYA5IA==
References: <F86B91A10B14744E88408E80B8A30EF302B3B006@xmb-hkg-412.apac.cisco.com>	<47C6F37B.7010609@cisco.com><200803010326.m213QuF8026325@dragon.ariadne.com><47CC2D56.7010803@cisco.com><200803050425.m254P0Ir005399@dragon.ariadne.com>
	<0D4E483A0E6E0A46861409E5D6C2011C01267983@sea02-mxc01.citel.com>
	<CA9998CD4A020D418654FCDEF4E707DF04F48C31@esealmw113.eemea.ericsson.se>
From: "Michael Procter" <michael.procter@citel.com>
To: "Christer Holmberg" <christer.holmberg@ericsson.com>,
	<Dale.Worley@comcast.net>, <sip@ietf.org>
Subject: Re: [Sip] Contact header in 1xx responses/updates remote target
	ornot?
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Christer Holmberg wrote:
> >>I've tried thinking about this some more, and I am beginning to
> >>believe that there is no situation where there is a functional
> >>difference between the two strategies, that is, not
> >>creating an early dialog when a 1xx without Contact arrives, and
> creating an early
> >>dialog without a recorded Contact from such a 1xx.  So it probably
> >>doesn't matter which choice one makes.
> >
> >Quite.  If a dialog forms in a forest [0], but nobody can
> >send a message over it, does it really exist?
> 
> Well, I think there could be a difference, if it is assumed that the
> 18x
> is supposed to trigger some actions (related to resources, security,
> NAT
> traversal, media, whatever...).

True.  And any intermediate device that wishes to take action (e.g.
refresh NAT bindings or whatever) can continue to do so, but that still
doesn't make it a useful dialog.

> If no Contact is considered a protocol error one would simply ignore
> it.
> 
> If NOT considered a protocol error, one could say that it is an error
> to
> not start triggering those actions.

Or you could pretend the packet got lost in the network ;-)  There is no
contact, so you can't send a PRACK.  The remote end can't know for sure
that the packet ever got to you.

I am not saying that you MUST ignore it, or that you MUST NOT ignore it.
I simply agree with Dale's assessment that *from a SIP perspective*, any
creation or otherwise of an early dialog doesn't really matter.  An
implementor may choose the most appropriate action for their scenario,
which may depend on non-SIP considerations (such as resources, security,
NAT traversal, media, whatever...).

Of course, whether taking any resource-related action on receipt of such
a 1xx response is prudent (when you can't terminate the dialog at will),
will depend very much on your specific application and operating
environment.  Sometimes it will be wise, and sometimes it won't.

Regards,

Michael
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu Mar  6 05:19:21 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 11B0128C8DD;
	Thu,  6 Mar 2008 05:19:21 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -99.273
X-Spam-Level: 
X-Spam-Status: No, score=-99.273 tagged_above=-999 required=5
	tests=[AWL=-0.636, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, J_CHICKENPOX_62=0.6, J_CHICKENPOX_65=0.6,
	J_CHICKENPOX_66=0.6, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id HWXJ5+ws5QFr; Thu,  6 Mar 2008 05:19:15 -0800 (PST)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id CCA0C3A6C47;
	Thu,  6 Mar 2008 05:19:15 -0800 (PST)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 0961C28C47A
	for <sip@core3.amsl.com>; Thu,  6 Mar 2008 05:19:14 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id frx7SSgdZmyc for <sip@core3.amsl.com>;
	Thu,  6 Mar 2008 05:19:12 -0800 (PST)
Received: from ind-iport-1.cisco.com (ind-iport-1.cisco.com [64.104.129.195])
	by core3.amsl.com (Postfix) with ESMTP id 514E23A6813
	for <sip@ietf.org>; Thu,  6 Mar 2008 05:19:11 -0800 (PST)
X-IronPort-AV: E=Sophos;i="4.25,455,1199644200"; d="scan'208";a="99089486"
Received: from hkg-dkim-1.cisco.com ([10.75.231.161])
	by ind-iport-1.cisco.com with ESMTP; 06 Mar 2008 18:48:59 +0530
Received: from hkg-core-1.cisco.com (hkg-core-1.cisco.com [64.104.123.94])
	by hkg-dkim-1.cisco.com (8.12.11/8.12.11) with ESMTP id m26DIx7R031640; 
	Thu, 6 Mar 2008 21:18:59 +0800
Received: from xbh-hkg-412.apac.cisco.com (xbh-hkg-412.cisco.com
	[64.104.123.69])
	by hkg-core-1.cisco.com (8.13.8/8.13.8) with ESMTP id m26DIwFV006097;
	Thu, 6 Mar 2008 13:18:58 GMT
Received: from xmb-hkg-412.apac.cisco.com ([64.104.123.84]) by
	xbh-hkg-412.apac.cisco.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Thu, 6 Mar 2008 21:18:58 +0800
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Thu, 6 Mar 2008 21:19:48 +0800
Message-ID: <F86B91A10B14744E88408E80B8A30EF302B9EEB6@xmb-hkg-412.apac.cisco.com>
In-Reply-To: <47CD6C46.2030304@cisco.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] Contact header in 1xx responses/updates remote target or
	not?
Thread-Index: Ach+DVv/n9gTJQoBQCSn3QObIDPiBAAZevnQ
References: <F86B91A10B14744E88408E80B8A30EF302B3B006@xmb-hkg-412.apac.cisco.com>
	<47C6F37B.7010609@cisco.com>
	<CA9998CD4A020D418654FCDEF4E707DF04D4A820@esealmw113.eemea.ericsson.se>
	<F86B91A10B14744E88408E80B8A30EF302B9E37F@xmb-hkg-412.apac.cisco.com>
	<47CD6C46.2030304@cisco.com>
From: "Rockson Li (zhengyli)" <zhengyli@cisco.com>
To: "Paul Kyzivat (pkyzivat)" <pkyzivat@cisco.com>
X-OriginalArrivalTime: 06 Mar 2008 13:18:58.0863 (UTC)
	FILETIME=[A31A7BF0:01C87F8C]
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; l=10350; t=1204809539;
	x=1205673539; c=relaxed/simple; s=hkgdkim1002;
	h=Content-Type:From:Subject:Content-Transfer-Encoding:MIME-Version;
	d=cisco.com; i=zhengyli@cisco.com;
	z=From:=20=22Rockson=20Li=20(zhengyli)=22=20<zhengyli@cisco.
	com>
	|Subject:=20RE=3A=20[Sip]=20Contact=20header=20in=201xx=20r
	esponses/updates=20remote=20target=20or=20not? |Sender:=20;
	bh=DNT/fwgg2wfz665fDHyF6qbK9+NHESGdvl94fYd7Gjs=;
	b=alXGdgkQbUXtqpG6Ak2+hwo71hpnIfu7mRyUTDK1TY+5gBm8BZOp9Btd8x
	YLloLItG53BG2BvzBdLpuekA+SaOGYHvwQ62LUmSGe42Wpj9Uy0FZnkgDF+Q
	IZxjhUmzoWFiKRgUJzfslk18UwCV4Hzi4Vpr1E5ZMIgrHpoxzEzic=;
Authentication-Results: hkg-dkim-1; header.From=zhengyli@cisco.com; dkim=pass (
	sig from cisco.com/hkgdkim1002 verified; ); 
Cc: sip@ietf.org, Christer Holmberg <christer.holmberg@ericsson.com>
Subject: Re: [Sip] Contact header in 1xx responses/updates remote target or
	not?
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Paul, 

appreciate your comments :-) , see my comments inline.

Thanks
Regards,
-Rockson 

-----Original Message-----
From: Paul Kyzivat (pkyzivat) 
Sent: Tuesday, March 04, 2008 11:36 PM
To: Rockson Li (zhengyli)
Cc: Christer Holmberg; sip@ietf.org
Subject: Re: [Sip] Contact header in 1xx responses/updates remote target
or not?



Rockson Li (zhengyli) wrote:
>  Hi guys,
> 
> Any comments on my previous thoughts are appreciated.
> 
> Thanks
> 
> Regards,
> -Rockson
> 
> -----Original Message-----
> From: Rockson Li (zhengyli)
> Sent: Friday, February 29, 2008 1:15 PM
> To: 'Christer Holmberg'; Paul Kyzivat (pkyzivat)
> Cc: sip@ietf.org
> Subject: RE: [Sip] Contact header in 1xx responses/updates remote 
> target or not?
> 
> Paul and Christer,
> 
> As I understand the contact/remote-target update is remote-target is 
> only set when dialog created , there's no way of changing it after 
> dialog(early of confirmed) establishment except target-refresh
> req(re-inv/update) the reason is as follows,
> 
> in RFC3261 13.2.2.1 1xx Response
>    If a provisional response
>    has a tag in the To field, and if the dialog ID of the response
does
>    not match an existing dialog, one is constructed using the
procedures
>    defined in Section 12.1.2.  
> 
> which means the contact would only be set  in UAC upon dialog 
> creation, even later the non-100 1xx response(wether reliable or not) 
> change contact, the dialog state would not change as above.
> similar meaning is stated in
> http://www.ietf.org/mail-archive/web/sip/current/msg07893.html

I don't find that the above mail message says anything about what to do
with the remote target (Contact) if it changes.

[Rockson] as in Jonathan's mail,  please note the following sentence,
"Note that this means that the state is set only upon creation, which
means the first 1xx response. THis is modified by the speific behavior
for INVITE, from 13.2.2.4", 
since remote-target is party of dialog state, so it means it only set
upon dialog(either early or confirmed) creattion and not updated
anymore.


> and here only says to tag is the sole criteria for early-dialog 
> construction, not contact header mentioned at all.

It only discusses the criteria for matching the request to a dialog. So
you wouldn't have two dialogs with the same from-tag/to-tag/callid and
different contacts.

> similar discussion at
> http://www.ietf.org/mail-archive/web/sipping/current/msg14510.html

Its been a long time since I read 2543, and I don't have time to do it
now. It may indeed be the case that some behavior is required for 2543
compatibility. But AFAIK it is rare to find a 2543 implementation these
days, so this may not be an important concern. It seems that 3261 didn't
call out specific behavior wrt the Contact for 2543 compatibility in the
same way that it called for specific behavior re R-R. So it seems we
have little guidance here.

> if dialog-creating-non-100-1xx does not have contact, looks like the 
> it's RFC2543-compliant UA and remote-target of the UAC should be To as

> per RFC2543 section 11.3 check Brette's option here 
> http://www.ietf.org/mail-archive/web/sipping/current/msg14514.html

In that mail Brett seems to say that this was considered a bug in 2543,
so we shouldn't necessarily be striving for compatibility with it.

> When dialog transitioned from early to confirmed.
> 
> sec 13.2.2.4 2xx Responses
>    If the dialog identifier in the 2xx response matches the dialog
>    identifier of an existing dialog, the dialog MUST be transitioned
to
>    the "confirmed" state, and the route set for the dialog MUST be
>    recomputed based on the 2xx response using the procedures of
Section
>    12.2.1.2.  Otherwise, a new dialog in the "confirmed" state MUST be
>    constructed using the procedures of Section 12.1.2.
> 
>       Note that the *only* piece of state that is recomputed is the 
> route
>       set.  Other pieces of state such as the highest sequence numbers
>       (remote and local) sent within the dialog are not recomputed.
The
>       route set only is recomputed for backwards compatibility.  RFC
>       2543 did not mandate mirroring of the Record-Route header field
in
>       a 1xx, only 2xx.  However, we cannot update the entire state of
>       the dialog, since mid-dialog requests may have been sent within
>       the early dialog, modifying the sequence numbers, for example.

I find the above text to be problematic and internally inconsistent. The
initial sentence conflicts with the rest. The sequence numbers are
updated all along, on each request. The local sequence number isn't
updated on a response because it is updated when the request is sent. 
And the remote sequence number isn't updated upon receiving a response
because it don't contain a remote sequence number.

[Rockson] I think here 3261 just uses sequence number as an example, it
just want say dialog state might be updated in early dialog,so it cannot
be reset when it transitioned to confirmed.

So while the first statement above seems to say that the local/remote
target may not be updated based on a subsequent response, I'm not sure
to what extent to trust that paragraph. This seems more on the order of
a bug.

[Rockson] another bug here? 3261 here explains its meaning with emphasis
in terms of *only* , cannot be trusted?
If it's cannot be dependable and customer and user complains based on
the paragraph above, how am I supposed to do? 
give him/her this discussion mail ? :-( 

Ultimately we need to deal with what makes sense and works. When things
are not as you like in a response its hard to complain about them. You
pretty much have to cope. Otherwise your only choices are to send a BYE
or else just drop the transaction and let it time out. In this case
sending a BYE may well not work either - which remote target would you
send it too?

I think we can recommend that the Contacts not be changed until after a
confirmed dialog. But when confronted with a request that does change
it, interoperability is probably enhanced by believing it. Are things
likely to work better if you ignore it??? Presumably the other end put
the new value in for some reason. Probably because the old address won't
work any more.

	Paul

> So only route set could be changed, remote-target just remains as the 
> same as early dialog, even 200 change the contact.
> 
> comments?
> 
> Regards,
> -Rockson
> 
> -----Original Message-----
> From: Christer Holmberg [mailto:christer.holmberg@ericsson.com]
> Sent: Friday, February 29, 2008 3:49 AM
> To: Paul Kyzivat (pkyzivat); Rockson Li (zhengyli)
> Cc: sip@ietf.org
> Subject: RE: [Sip] Contact header in 1xx responses/updates remote 
> target or not?
> 
> 
> Hi,
> 
> I agree with Paul's conclusion. But, I still think that is somethin 
> that we should somehow document and clarify. This is a common reason 
> for interop problems, so just agree on a mailing list and leave it 
> there is not a good thing to do.
> 
> IF (To-tag && Contact) THEN dialog
> 
> And, it IS allowed to update the Contact in subsequence provisional 
> responses. But, as Paul said: it is asking for trouble, so it should 
> not be done unless you have a really good reason for it.
> 
> I also think that updating the Contact in a re-INVITE/UPDATE is asking

> for trouble. At least you also there need to be prepared to receive 
> requests on both the new and old contact for a period of time.
> 
> Regards,
> 
> Christer
> 
>> -----Original Message-----
>> From: Paul Kyzivat [mailto:pkyzivat@cisco.com]
>> Sent: 28. helmikuuta 2008 19:47
>> To: Rockson Li (zhengyli)
>> Cc: Christer Holmberg; sip@ietf.org
>> Subject: Re: [Sip] Contact header in 1xx responses/updates remote 
>> target or not?
>>
>> No, I don't think we have an answer, though I do have an opinion. :-)
>>
>> Are you asking about whether the contact may be omitted? Or if it may

>> be changed?
>>
>> AFAIK there is nothing normative that *forbids* the contact from 
>> being
> 
>> changed in subsequent provisional responses. But doing so is *asking*

>> for trouble, so you shouldn't do it.
>> Perhaps you could get away with it in a *reliable* provisional, but 
>> then you would still have a bunch of messy cases. The likelihood of 
>> it
> 
>> working is slim. Doing it with
>> *unreliable* provisionals is going to cause trouble because they can 
>> be lost. Even with reliable provisionals, you will have to be 
>> prepared
> 
>> to receive on both addresses for some period of time.
>>
>> It seems clear that a contact may be omitted in a 100, since it is 
>> hop
> 
>> by hop, and presumably must be omitted in the 100 responses from 
>> proxies. Some other 1xx responses may be returned by proxies (notably
>> 181) and presumably they should also not contain a contact in those 
>> cases.
>>
>> A 1xx that establishes an early dialog must contain a contact or else

>> you really don't have a dialog. I think it is ambiguous whether:
>> - the first 1xx with a particular to-tag *does* establish an early
>>    dialog and so *must* contain a contact,
>>
>> - OR a 1xx with a new to-tag, but without a contact, simply doesn't
>>    establish a dialog, but is legal.
>>
>> I would split the difference and say that the UAS MUST include a 
>> contact in the first 1xx it returns with a particular to-tag, but a 
>> UAC should accept a 1xx with new to-tag and without a contact and 
>> simply treat it as not establishing an early dialog. (Don't establish

>> the dialog until you get enough info to do so.)
>>
>> 	Paul
>>
>> Rockson Li (zhengyli) wrote:
>>> Paul , Christer and all,
>>>  
>>> I am following the email thread as in subject above 
>>> http://www.ietf.org/mail-archive/web/sip/current/msg19322.html
>>>  
>>> However, I do not find the definite answer to Christer's
>> question, Do
>>> we have the answer now?
>>>  
>>> Thanks a lot
>>>
>>> Regards,
>>> Rockson Li
>>>
>>> Cisco R&D Center, Shanghai, PRC
>>>
>>>  
> 
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu Mar  6 07:29:58 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 1FD3F28C8D4;
	Thu,  6 Mar 2008 07:29:58 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -98.032
X-Spam-Level: 
X-Spam-Status: No, score=-98.032 tagged_above=-999 required=5
	tests=[AWL=-1.792, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, HTML_MESSAGE=1, J_CHICKENPOX_62=0.6,
	J_CHICKENPOX_65=0.6, J_CHICKENPOX_66=0.6, MIME_HTML_MOSTLY=0.001,
	MIME_QP_LONG_LINE=1.396, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 3P7y-O5UwxjH; Thu,  6 Mar 2008 07:29:52 -0800 (PST)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 5867D28C5AB;
	Thu,  6 Mar 2008 07:29:49 -0800 (PST)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 48E8C28C61F
	for <sip@core3.amsl.com>; Thu,  6 Mar 2008 07:29:48 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id UhlKbIgOqByN for <sip@core3.amsl.com>;
	Thu,  6 Mar 2008 07:29:45 -0800 (PST)
Received: from nostrum.com (nostrum-pt.tunnel.tserv2.fmt.ipv6.he.net
	[IPv6:2001:470:1f03:267::2])
	by core3.amsl.com (Postfix) with ESMTP id 3D54A28C2F9
	for <sip@ietf.org>; Thu,  6 Mar 2008 07:29:44 -0800 (PST)
Received: from [172.16.3.232] (vicuna-alt.estacado.net [75.53.54.121])
	(authenticated bits=0)
	by nostrum.com (8.14.2/8.14.1) with ESMTP id m26FS1o1021797
	(version=TLSv1/SSLv3 cipher=AES128-SHA bits=128 verify=NO);
	Thu, 6 Mar 2008 09:28:02 -0600 (CST)
	(envelope-from rjsparks@nostrum.com)
In-Reply-To: <F86B91A10B14744E88408E80B8A30EF302B9EEB6@xmb-hkg-412.apac.cisco.com>
References: <F86B91A10B14744E88408E80B8A30EF302B3B006@xmb-hkg-412.apac.cisco.com>
	<47C6F37B.7010609@cisco.com>
	<CA9998CD4A020D418654FCDEF4E707DF04D4A820@esealmw113.eemea.ericsson.se>
	<F86B91A10B14744E88408E80B8A30EF302B9E37F@xmb-hkg-412.apac.cisco.com>
	<47CD6C46.2030304@cisco.com>
	<F86B91A10B14744E88408E80B8A30EF302B9EEB6@xmb-hkg-412.apac.cisco.com>
Mime-Version: 1.0 (Apple Message framework v753)
Message-Id: <FBBBC16C-C82F-4C7E-880D-D5A8FEABA5B8@nostrum.com>
From: Robert Sparks <rjsparks@nostrum.com>
Date: Thu, 6 Mar 2008 09:28:00 -0600
To: "Rockson Li (zhengyli)" <zhengyli@cisco.com>
X-Mailer: Apple Mail (2.753)
Received-SPF: pass (nostrum.com: 75.53.54.121 is authenticated by a trusted
	mechanism)
X-Virus-Scanned: ClamAV 0.92.1/6153/Thu Mar 6 07:59:13 2008 on
	shaman.nostrum.com
X-Virus-Status: Clean
Cc: sip@ietf.org, "Paul Kyzivat \(pkyzivat\)" <pkyzivat@cisco.com>,
	Christer Holmberg <christer.holmberg@ericsson.com>
Subject: Re: [Sip] Contact header in 1xx responses/updates remote target or
	not?
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: multipart/mixed; boundary="===============1234523154=="
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


--===============1234523154==
Content-Type: multipart/alternative; boundary=Apple-Mail-14-1024297102


--Apple-Mail-14-1024297102
Content-Transfer-Encoding: 7bit
Content-Type: text/plain;
	charset=US-ASCII;
	delsp=yes;
	format=flowed

I haven't been able to follow this thread as closely as I would like  
to - apologies.

I would like to bring one question we stumbled over previously back  
into the conversation
if its not already here (I get the impression you've zoomed in on an  
initial invite).

Given the conversation so far, do we have a good answer yet for the  
question here:

http://www.ietf.org/proceedings/06jul/slides/sipping-8/sld4.htm

(you can replace the subscription usage messages with INVITEs if the  
mixed-usage nature
of that graph bothers you and the question remains the same).

RjS


On Mar 6, 2008, at 7:19 AM, Rockson Li (zhengyli) wrote:

> Paul,
>
> appreciate your comments :-) , see my comments inline.
>
> Thanks
> Regards,
> -Rockson
>
> -----Original Message-----
> From: Paul Kyzivat (pkyzivat)
> Sent: Tuesday, March 04, 2008 11:36 PM
> To: Rockson Li (zhengyli)
> Cc: Christer Holmberg; sip@ietf.org
> Subject: Re: [Sip] Contact header in 1xx responses/updates remote  
> target
> or not?
>
>
>
> Rockson Li (zhengyli) wrote:
>>  Hi guys,
>>
>> Any comments on my previous thoughts are appreciated.
>>
>> Thanks
>>
>> Regards,
>> -Rockson
>>
>> -----Original Message-----
>> From: Rockson Li (zhengyli)
>> Sent: Friday, February 29, 2008 1:15 PM
>> To: 'Christer Holmberg'; Paul Kyzivat (pkyzivat)
>> Cc: sip@ietf.org
>> Subject: RE: [Sip] Contact header in 1xx responses/updates remote
>> target or not?
>>
>> Paul and Christer,
>>
>> As I understand the contact/remote-target update is remote-target is
>> only set when dialog created , there's no way of changing it after
>> dialog(early of confirmed) establishment except target-refresh
>> req(re-inv/update) the reason is as follows,
>>
>> in RFC3261 13.2.2.1 1xx Response
>>    If a provisional response
>>    has a tag in the To field, and if the dialog ID of the response
> does
>>    not match an existing dialog, one is constructed using the
> procedures
>>    defined in Section 12.1.2.
>>
>> which means the contact would only be set  in UAC upon dialog
>> creation, even later the non-100 1xx response(wether reliable or not)
>> change contact, the dialog state would not change as above.
>> similar meaning is stated in
>> http://www.ietf.org/mail-archive/web/sip/current/msg07893.html
>
> I don't find that the above mail message says anything about what  
> to do
> with the remote target (Contact) if it changes.
>
> [Rockson] as in Jonathan's mail,  please note the following sentence,
> "Note that this means that the state is set only upon creation, which
> means the first 1xx response. THis is modified by the speific behavior
> for INVITE, from 13.2.2.4",
> since remote-target is party of dialog state, so it means it only set
> upon dialog(either early or confirmed) creattion and not updated
> anymore.
>
>
>> and here only says to tag is the sole criteria for early-dialog
>> construction, not contact header mentioned at all.
>
> It only discusses the criteria for matching the request to a  
> dialog. So
> you wouldn't have two dialogs with the same from-tag/to-tag/callid and
> different contacts.
>
>> similar discussion at
>> http://www.ietf.org/mail-archive/web/sipping/current/msg14510.html
>
> Its been a long time since I read 2543, and I don't have time to do it
> now. It may indeed be the case that some behavior is required for 2543
> compatibility. But AFAIK it is rare to find a 2543 implementation  
> these
> days, so this may not be an important concern. It seems that 3261  
> didn't
> call out specific behavior wrt the Contact for 2543 compatibility  
> in the
> same way that it called for specific behavior re R-R. So it seems we
> have little guidance here.
>
>> if dialog-creating-non-100-1xx does not have contact, looks like the
>> it's RFC2543-compliant UA and remote-target of the UAC should be  
>> To as
>
>> per RFC2543 section 11.3 check Brette's option here
>> http://www.ietf.org/mail-archive/web/sipping/current/msg14514.html
>
> In that mail Brett seems to say that this was considered a bug in  
> 2543,
> so we shouldn't necessarily be striving for compatibility with it.
>
>> When dialog transitioned from early to confirmed.
>>
>> sec 13.2.2.4 2xx Responses
>>    If the dialog identifier in the 2xx response matches the dialog
>>    identifier of an existing dialog, the dialog MUST be transitioned
> to
>>    the "confirmed" state, and the route set for the dialog MUST be
>>    recomputed based on the 2xx response using the procedures of
> Section
>>    12.2.1.2.  Otherwise, a new dialog in the "confirmed" state  
>> MUST be
>>    constructed using the procedures of Section 12.1.2.
>>
>>       Note that the *only* piece of state that is recomputed is the
>> route
>>       set.  Other pieces of state such as the highest sequence  
>> numbers
>>       (remote and local) sent within the dialog are not recomputed.
> The
>>       route set only is recomputed for backwards compatibility.  RFC
>>       2543 did not mandate mirroring of the Record-Route header field
> in
>>       a 1xx, only 2xx.  However, we cannot update the entire state of
>>       the dialog, since mid-dialog requests may have been sent within
>>       the early dialog, modifying the sequence numbers, for example.
>
> I find the above text to be problematic and internally  
> inconsistent. The
> initial sentence conflicts with the rest. The sequence numbers are
> updated all along, on each request. The local sequence number isn't
> updated on a response because it is updated when the request is sent.
> And the remote sequence number isn't updated upon receiving a response
> because it don't contain a remote sequence number.
>
> [Rockson] I think here 3261 just uses sequence number as an  
> example, it
> just want say dialog state might be updated in early dialog,so it  
> cannot
> be reset when it transitioned to confirmed.
>
> So while the first statement above seems to say that the local/remote
> target may not be updated based on a subsequent response, I'm not sure
> to what extent to trust that paragraph. This seems more on the  
> order of
> a bug.
>
> [Rockson] another bug here? 3261 here explains its meaning with  
> emphasis
> in terms of *only* , cannot be trusted?
> If it's cannot be dependable and customer and user complains based on
> the paragraph above, how am I supposed to do?
> give him/her this discussion mail ? :-(
>
> Ultimately we need to deal with what makes sense and works. When  
> things
> are not as you like in a response its hard to complain about them. You
> pretty much have to cope. Otherwise your only choices are to send a  
> BYE
> or else just drop the transaction and let it time out. In this case
> sending a BYE may well not work either - which remote target would you
> send it too?
>
> I think we can recommend that the Contacts not be changed until  
> after a
> confirmed dialog. But when confronted with a request that does change
> it, interoperability is probably enhanced by believing it. Are things
> likely to work better if you ignore it??? Presumably the other end put
> the new value in for some reason. Probably because the old address  
> won't
> work any more.
>
> 	Paul
>
>> So only route set could be changed, remote-target just remains as the
>> same as early dialog, even 200 change the contact.
>>
>> comments?
>>
>> Regards,
>> -Rockson
>>
>> -----Original Message-----
>> From: Christer Holmberg [mailto:christer.holmberg@ericsson.com]
>> Sent: Friday, February 29, 2008 3:49 AM
>> To: Paul Kyzivat (pkyzivat); Rockson Li (zhengyli)
>> Cc: sip@ietf.org
>> Subject: RE: [Sip] Contact header in 1xx responses/updates remote
>> target or not?
>>
>>
>> Hi,
>>
>> I agree with Paul's conclusion. But, I still think that is somethin
>> that we should somehow document and clarify. This is a common reason
>> for interop problems, so just agree on a mailing list and leave it
>> there is not a good thing to do.
>>
>> IF (To-tag && Contact) THEN dialog
>>
>> And, it IS allowed to update the Contact in subsequence provisional
>> responses. But, as Paul said: it is asking for trouble, so it should
>> not be done unless you have a really good reason for it.
>>
>> I also think that updating the Contact in a re-INVITE/UPDATE is  
>> asking
>
>> for trouble. At least you also there need to be prepared to receive
>> requests on both the new and old contact for a period of time.
>>
>> Regards,
>>
>> Christer
>>
>>> -----Original Message-----
>>> From: Paul Kyzivat [mailto:pkyzivat@cisco.com]
>>> Sent: 28. helmikuuta 2008 19:47
>>> To: Rockson Li (zhengyli)
>>> Cc: Christer Holmberg; sip@ietf.org
>>> Subject: Re: [Sip] Contact header in 1xx responses/updates remote
>>> target or not?
>>>
>>> No, I don't think we have an answer, though I do have an  
>>> opinion. :-)
>>>
>>> Are you asking about whether the contact may be omitted? Or if it  
>>> may
>
>>> be changed?
>>>
>>> AFAIK there is nothing normative that *forbids* the contact from
>>> being
>>
>>> changed in subsequent provisional responses. But doing so is  
>>> *asking*
>
>>> for trouble, so you shouldn't do it.
>>> Perhaps you could get away with it in a *reliable* provisional, but
>>> then you would still have a bunch of messy cases. The likelihood of
>>> it
>>
>>> working is slim. Doing it with
>>> *unreliable* provisionals is going to cause trouble because they can
>>> be lost. Even with reliable provisionals, you will have to be
>>> prepared
>>
>>> to receive on both addresses for some period of time.
>>>
>>> It seems clear that a contact may be omitted in a 100, since it is
>>> hop
>>
>>> by hop, and presumably must be omitted in the 100 responses from
>>> proxies. Some other 1xx responses may be returned by proxies  
>>> (notably
>>> 181) and presumably they should also not contain a contact in those
>>> cases.
>>>
>>> A 1xx that establishes an early dialog must contain a contact or  
>>> else
>
>>> you really don't have a dialog. I think it is ambiguous whether:
>>> - the first 1xx with a particular to-tag *does* establish an early
>>>    dialog and so *must* contain a contact,
>>>
>>> - OR a 1xx with a new to-tag, but without a contact, simply doesn't
>>>    establish a dialog, but is legal.
>>>
>>> I would split the difference and say that the UAS MUST include a
>>> contact in the first 1xx it returns with a particular to-tag, but a
>>> UAC should accept a 1xx with new to-tag and without a contact and
>>> simply treat it as not establishing an early dialog. (Don't  
>>> establish
>
>>> the dialog until you get enough info to do so.)
>>>
>>> 	Paul
>>>
>>> Rockson Li (zhengyli) wrote:
>>>> Paul , Christer and all,
>>>>
>>>> I am following the email thread as in subject above
>>>> http://www.ietf.org/mail-archive/web/sip/current/msg19322.html
>>>>
>>>> However, I do not find the definite answer to Christer's
>>> question, Do
>>>> we have the answer now?
>>>>
>>>> Thanks a lot
>>>>
>>>> Regards,
>>>> Rockson Li
>>>>
>>>> Cisco R&D Center, Shanghai, PRC
>>>>
>>>>
>>
> _______________________________________________
> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip


--Apple-Mail-14-1024297102
Content-Transfer-Encoding: quoted-printable
Content-Type: text/html;
	charset=ISO-8859-1

<html><body style=3D"word-wrap: break-word; -webkit-nbsp-mode: space; =
-webkit-line-break: after-white-space; ">
I haven't been able to follow this thread as closely as I would like to =
- apologies.<div><br class=3D"webkit-block-placeholder"></div><div>I =
would like to bring one question we stumbled over previously back into =
the conversation</div><div>if its not already here (I get the impression =
you've zoomed in on an initial invite).</div><div><br></div><div>Given =
the conversation so far, do we have a good answer yet for the question =
here:</div><div><br class=3D"webkit-block-placeholder"></div><div><div =
style=3D"margin-top: 0px; margin-right: 0px; margin-bottom: 0px; =
margin-left: 0px; "><font face=3D"Helvetica" size=3D"3" style=3D"font: =
12.0px Helvetica"><a =
href=3D"http://www.ietf.org/proceedings/06jul/slides/sipping-8/sld4.htm">h=
ttp://www.ietf.org/proceedings/06jul/slides/sipping-8/sld4.htm</a></font><=
/div><div style=3D"margin-top: 0px; margin-right: 0px; margin-bottom: =
0px; margin-left: 0px; "><br class=3D"webkit-block-placeholder"></div><div=
 style=3D"margin-top: 0px; margin-right: 0px; margin-bottom: 0px; =
margin-left: 0px; ">(you can replace the subscription usage messages =
with INVITEs if the mixed-usage nature</div><div style=3D"margin-top: =
0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; ">of that =
graph bothers you and the question remains the same).</div><div =
style=3D"margin-top: 0px; margin-right: 0px; margin-bottom: 0px; =
margin-left: 0px; "><br class=3D"webkit-block-placeholder"></div><div =
style=3D"margin-top: 0px; margin-right: 0px; margin-bottom: 0px; =
margin-left: 0px; ">RjS</div><div style=3D"margin-top: 0px; =
margin-right: 0px; margin-bottom: 0px; margin-left: 0px; "><br =
class=3D"webkit-block-placeholder"></div></div><div><div><br><div><div><di=
v>On Mar 6, 2008, at 7:19 AM, Rockson Li (zhengyli) wrote:</div><br =
class=3D"Apple-interchange-newline"><blockquote type=3D"cite"><div =
style=3D"margin-top: 0px; margin-right: 0px; margin-bottom: 0px; =
margin-left: 0px; ">Paul,<span =
class=3D"Apple-converted-space">=A0</span></div><div style=3D"margin-top: =
0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; =
min-height: 14px; "><br></div><div style=3D"margin-top: 0px; =
margin-right: 0px; margin-bottom: 0px; margin-left: 0px; ">appreciate =
your comments :-) , see my comments inline.</div><div style=3D"margin-top:=
 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; =
min-height: 14px; "><br></div><div style=3D"margin-top: 0px; =
margin-right: 0px; margin-bottom: 0px; margin-left: 0px; =
">Thanks</div><div style=3D"margin-top: 0px; margin-right: 0px; =
margin-bottom: 0px; margin-left: 0px; ">Regards,</div><div =
style=3D"margin-top: 0px; margin-right: 0px; margin-bottom: 0px; =
margin-left: 0px; ">-Rockson<span =
class=3D"Apple-converted-space">=A0</span></div><div style=3D"margin-top: =
0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; =
min-height: 14px; "><br></div><div style=3D"margin-top: 0px; =
margin-right: 0px; margin-bottom: 0px; margin-left: 0px; ">-----Original =
Message-----</div><div style=3D"margin-top: 0px; margin-right: 0px; =
margin-bottom: 0px; margin-left: 0px; ">From: Paul Kyzivat =
(pkyzivat)<span class=3D"Apple-converted-space">=A0</span></div><div =
style=3D"margin-top: 0px; margin-right: 0px; margin-bottom: 0px; =
margin-left: 0px; ">Sent: Tuesday, March 04, 2008 11:36 PM</div><div =
style=3D"margin-top: 0px; margin-right: 0px; margin-bottom: 0px; =
margin-left: 0px; ">To: Rockson Li (zhengyli)</div><div =
style=3D"margin-top: 0px; margin-right: 0px; margin-bottom: 0px; =
margin-left: 0px; ">Cc: Christer Holmberg; <a =
href=3D"mailto:sip@ietf.org">sip@ietf.org</a></div><div =
style=3D"margin-top: 0px; margin-right: 0px; margin-bottom: 0px; =
margin-left: 0px; ">Subject: Re: [Sip] Contact header in 1xx =
responses/updates remote target</div><div style=3D"margin-top: 0px; =
margin-right: 0px; margin-bottom: 0px; margin-left: 0px; ">or =
not?</div><div style=3D"margin-top: 0px; margin-right: 0px; =
margin-bottom: 0px; margin-left: 0px; min-height: 14px; "><br></div><div =
style=3D"margin-top: 0px; margin-right: 0px; margin-bottom: 0px; =
margin-left: 0px; min-height: 14px; "><br></div><div style=3D"margin-top: =
0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; =
min-height: 14px; "><br></div><div style=3D"margin-top: 0px; =
margin-right: 0px; margin-bottom: 0px; margin-left: 0px; ">Rockson Li =
(zhengyli) wrote:</div> <blockquote type=3D"cite"><div =
style=3D"margin-top: 0px; margin-right: 0px; margin-bottom: 0px; =
margin-left: 0px; "><span class=3D"Apple-converted-space">=A0</span>Hi =
guys,</div><div style=3D"margin-top: 0px; margin-right: 0px; =
margin-bottom: 0px; margin-left: 0px; min-height: 14px; "><br></div><div =
style=3D"margin-top: 0px; margin-right: 0px; margin-bottom: 0px; =
margin-left: 0px; ">Any comments on my previous thoughts are =
appreciated.</div><div style=3D"margin-top: 0px; margin-right: 0px; =
margin-bottom: 0px; margin-left: 0px; min-height: 14px; "><br></div><div =
style=3D"margin-top: 0px; margin-right: 0px; margin-bottom: 0px; =
margin-left: 0px; ">Thanks</div><div style=3D"margin-top: 0px; =
margin-right: 0px; margin-bottom: 0px; margin-left: 0px; min-height: =
14px; "><br></div><div style=3D"margin-top: 0px; margin-right: 0px; =
margin-bottom: 0px; margin-left: 0px; ">Regards,</div><div =
style=3D"margin-top: 0px; margin-right: 0px; margin-bottom: 0px; =
margin-left: 0px; ">-Rockson</div><div style=3D"margin-top: 0px; =
margin-right: 0px; margin-bottom: 0px; margin-left: 0px; min-height: =
14px; "><br></div><div style=3D"margin-top: 0px; margin-right: 0px; =
margin-bottom: 0px; margin-left: 0px; ">-----Original =
Message-----</div><div style=3D"margin-top: 0px; margin-right: 0px; =
margin-bottom: 0px; margin-left: 0px; ">From: Rockson Li =
(zhengyli)</div><div style=3D"margin-top: 0px; margin-right: 0px; =
margin-bottom: 0px; margin-left: 0px; ">Sent: Friday, February 29, 2008 =
1:15 PM</div><div style=3D"margin-top: 0px; margin-right: 0px; =
margin-bottom: 0px; margin-left: 0px; ">To: 'Christer Holmberg'; Paul =
Kyzivat (pkyzivat)</div><div style=3D"margin-top: 0px; margin-right: =
0px; margin-bottom: 0px; margin-left: 0px; ">Cc: <a =
href=3D"mailto:sip@ietf.org">sip@ietf.org</a></div><div =
style=3D"margin-top: 0px; margin-right: 0px; margin-bottom: 0px; =
margin-left: 0px; ">Subject: RE: [Sip] Contact header in 1xx =
responses/updates remote<span =
class=3D"Apple-converted-space">=A0</span></div><div style=3D"margin-top: =
0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; ">target =
or not?</div><div style=3D"margin-top: 0px; margin-right: 0px; =
margin-bottom: 0px; margin-left: 0px; min-height: 14px; "><br></div><div =
style=3D"margin-top: 0px; margin-right: 0px; margin-bottom: 0px; =
margin-left: 0px; ">Paul and Christer,</div><div style=3D"margin-top: =
0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; =
min-height: 14px; "><br></div><div style=3D"margin-top: 0px; =
margin-right: 0px; margin-bottom: 0px; margin-left: 0px; ">As I =
understand the contact/remote-target update is remote-target is<span =
class=3D"Apple-converted-space">=A0</span></div><div style=3D"margin-top: =
0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; ">only set =
when dialog created , there's no way of changing it after<span =
class=3D"Apple-converted-space">=A0</span></div><div style=3D"margin-top: =
0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; =
">dialog(early of confirmed) establishment except =
target-refresh</div><div style=3D"margin-top: 0px; margin-right: 0px; =
margin-bottom: 0px; margin-left: 0px; ">req(re-inv/update) the reason is =
as follows,</div><div style=3D"margin-top: 0px; margin-right: 0px; =
margin-bottom: 0px; margin-left: 0px; min-height: 14px; "><br></div><div =
style=3D"margin-top: 0px; margin-right: 0px; margin-bottom: 0px; =
margin-left: 0px; ">in RFC3261 13.2.2.1 1xx Response</div><div =
style=3D"margin-top: 0px; margin-right: 0px; margin-bottom: 0px; =
margin-left: 0px; "><span class=3D"Apple-converted-space">=A0=A0 =
</span>If a provisional response</div><div style=3D"margin-top: 0px; =
margin-right: 0px; margin-bottom: 0px; margin-left: 0px; "><span =
class=3D"Apple-converted-space">=A0=A0 </span>has a tag in the To field, =
and if the dialog ID of the response</div> </blockquote><div =
style=3D"margin-top: 0px; margin-right: 0px; margin-bottom: 0px; =
margin-left: 0px; ">does</div> <blockquote type=3D"cite"><div =
style=3D"margin-top: 0px; margin-right: 0px; margin-bottom: 0px; =
margin-left: 0px; "><span class=3D"Apple-converted-space">=A0=A0 =
</span>not match an existing dialog, one is constructed using the</div> =
</blockquote><div style=3D"margin-top: 0px; margin-right: 0px; =
margin-bottom: 0px; margin-left: 0px; ">procedures</div> <blockquote =
type=3D"cite"><div style=3D"margin-top: 0px; margin-right: 0px; =
margin-bottom: 0px; margin-left: 0px; "><span =
class=3D"Apple-converted-space">=A0=A0 </span>defined in Section 12.1.2. =
<span class=3D"Apple-converted-space">=A0</span></div><div =
style=3D"margin-top: 0px; margin-right: 0px; margin-bottom: 0px; =
margin-left: 0px; min-height: 14px; "><br></div><div style=3D"margin-top: =
0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; ">which =
means the contact would only be set<span class=3D"Apple-converted-space">=A0=
 </span>in UAC upon dialog<span =
class=3D"Apple-converted-space">=A0</span></div><div style=3D"margin-top: =
0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; =
">creation, even later the non-100 1xx response(wether reliable or =
not)<span class=3D"Apple-converted-space">=A0</span></div><div =
style=3D"margin-top: 0px; margin-right: 0px; margin-bottom: 0px; =
margin-left: 0px; ">change contact, the dialog state would not change as =
above.</div><div style=3D"margin-top: 0px; margin-right: 0px; =
margin-bottom: 0px; margin-left: 0px; ">similar meaning is stated =
in</div><div style=3D"margin-top: 0px; margin-right: 0px; margin-bottom: =
0px; margin-left: 0px; "><a =
href=3D"http://www.ietf.org/mail-archive/web/sip/current/msg07893.html">ht=
tp://www.ietf.org/mail-archive/web/sip/current/msg07893.html</a></div> =
</blockquote><div style=3D"margin-top: 0px; margin-right: 0px; =
margin-bottom: 0px; margin-left: 0px; min-height: 14px; "><br></div><div =
style=3D"margin-top: 0px; margin-right: 0px; margin-bottom: 0px; =
margin-left: 0px; ">I don't find that the above mail message says =
anything about what to do</div><div style=3D"margin-top: 0px; =
margin-right: 0px; margin-bottom: 0px; margin-left: 0px; ">with the =
remote target (Contact) if it changes.</div><div style=3D"margin-top: =
0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; =
min-height: 14px; "><br></div><div style=3D"margin-top: 0px; =
margin-right: 0px; margin-bottom: 0px; margin-left: 0px; ">[Rockson] as =
in Jonathan's mail,<span class=3D"Apple-converted-space">=A0 =
</span>please note the following sentence,</div><div style=3D"margin-top: =
0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; ">"Note =
that this means that the state is set only upon creation, =
which</div><div style=3D"margin-top: 0px; margin-right: 0px; =
margin-bottom: 0px; margin-left: 0px; ">means the first 1xx response. =
THis is modified by the speific behavior</div><div style=3D"margin-top: =
0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; ">for =
INVITE, from 13.2.2.4",<span =
class=3D"Apple-converted-space">=A0</span></div><div style=3D"margin-top: =
0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; ">since =
remote-target is party of dialog state, so it means it only =
set</div><div style=3D"margin-top: 0px; margin-right: 0px; =
margin-bottom: 0px; margin-left: 0px; ">upon dialog(either early or =
confirmed) creattion and not updated</div><div style=3D"margin-top: 0px; =
margin-right: 0px; margin-bottom: 0px; margin-left: 0px; =
">anymore.</div><div style=3D"margin-top: 0px; margin-right: 0px; =
margin-bottom: 0px; margin-left: 0px; min-height: 14px; "><br></div><div =
style=3D"margin-top: 0px; margin-right: 0px; margin-bottom: 0px; =
margin-left: 0px; min-height: 14px; "><br></div> <blockquote =
type=3D"cite"><div style=3D"margin-top: 0px; margin-right: 0px; =
margin-bottom: 0px; margin-left: 0px; ">and here only says to tag is the =
sole criteria for early-dialog<span =
class=3D"Apple-converted-space">=A0</span></div><div style=3D"margin-top: =
0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; =
">construction, not contact header mentioned at all.</div> =
</blockquote><div style=3D"margin-top: 0px; margin-right: 0px; =
margin-bottom: 0px; margin-left: 0px; min-height: 14px; "><br></div><div =
style=3D"margin-top: 0px; margin-right: 0px; margin-bottom: 0px; =
margin-left: 0px; ">It only discusses the criteria for matching the =
request to a dialog. So</div><div style=3D"margin-top: 0px; =
margin-right: 0px; margin-bottom: 0px; margin-left: 0px; ">you wouldn't =
have two dialogs with the same from-tag/to-tag/callid and</div><div =
style=3D"margin-top: 0px; margin-right: 0px; margin-bottom: 0px; =
margin-left: 0px; ">different contacts.</div><div style=3D"margin-top: =
0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; =
min-height: 14px; "><br></div> <blockquote type=3D"cite"><div =
style=3D"margin-top: 0px; margin-right: 0px; margin-bottom: 0px; =
margin-left: 0px; ">similar discussion at</div><div style=3D"margin-top: =
0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; "><a =
href=3D"http://www.ietf.org/mail-archive/web/sipping/current/msg14510.html=
">http://www.ietf.org/mail-archive/web/sipping/current/msg14510.html</a></=
div> </blockquote><div style=3D"margin-top: 0px; margin-right: 0px; =
margin-bottom: 0px; margin-left: 0px; min-height: 14px; "><br></div><div =
style=3D"margin-top: 0px; margin-right: 0px; margin-bottom: 0px; =
margin-left: 0px; ">Its been a long time since I read 2543, and I don't =
have time to do it</div><div style=3D"margin-top: 0px; margin-right: =
0px; margin-bottom: 0px; margin-left: 0px; ">now. It may indeed be the =
case that some behavior is required for 2543</div><div =
style=3D"margin-top: 0px; margin-right: 0px; margin-bottom: 0px; =
margin-left: 0px; ">compatibility. But AFAIK it is rare to find a 2543 =
implementation these</div><div style=3D"margin-top: 0px; margin-right: =
0px; margin-bottom: 0px; margin-left: 0px; ">days, so this may not be an =
important concern. It seems that 3261 didn't</div><div =
style=3D"margin-top: 0px; margin-right: 0px; margin-bottom: 0px; =
margin-left: 0px; ">call out specific behavior wrt the Contact for 2543 =
compatibility in the</div><div style=3D"margin-top: 0px; margin-right: =
0px; margin-bottom: 0px; margin-left: 0px; ">same way that it called for =
specific behavior re R-R. So it seems we</div><div style=3D"margin-top: =
0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; ">have =
little guidance here.</div><div style=3D"margin-top: 0px; margin-right: =
0px; margin-bottom: 0px; margin-left: 0px; min-height: 14px; =
"><br></div> <blockquote type=3D"cite"><div style=3D"margin-top: 0px; =
margin-right: 0px; margin-bottom: 0px; margin-left: 0px; ">if =
dialog-creating-non-100-1xx does not have contact, looks like the<span =
class=3D"Apple-converted-space">=A0</span></div><div style=3D"margin-top: =
0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; ">it's =
RFC2543-compliant UA and remote-target of the UAC should be To as</div> =
</blockquote><div style=3D"margin-top: 0px; margin-right: 0px; =
margin-bottom: 0px; margin-left: 0px; min-height: 14px; "><br></div> =
<blockquote type=3D"cite"><div style=3D"margin-top: 0px; margin-right: =
0px; margin-bottom: 0px; margin-left: 0px; ">per RFC2543 section 11.3 =
check Brette's option here<span =
class=3D"Apple-converted-space">=A0</span></div><div style=3D"margin-top: =
0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; "><a =
href=3D"http://www.ietf.org/mail-archive/web/sipping/current/msg14514.html=
">http://www.ietf.org/mail-archive/web/sipping/current/msg14514.html</a></=
div> </blockquote><div style=3D"margin-top: 0px; margin-right: 0px; =
margin-bottom: 0px; margin-left: 0px; min-height: 14px; "><br></div><div =
style=3D"margin-top: 0px; margin-right: 0px; margin-bottom: 0px; =
margin-left: 0px; ">In that mail Brett seems to say that this was =
considered a bug in 2543,</div><div style=3D"margin-top: 0px; =
margin-right: 0px; margin-bottom: 0px; margin-left: 0px; ">so we =
shouldn't necessarily be striving for compatibility with it.</div><div =
style=3D"margin-top: 0px; margin-right: 0px; margin-bottom: 0px; =
margin-left: 0px; min-height: 14px; "><br></div> <blockquote =
type=3D"cite"><div style=3D"margin-top: 0px; margin-right: 0px; =
margin-bottom: 0px; margin-left: 0px; ">When dialog transitioned from =
early to confirmed.</div><div style=3D"margin-top: 0px; margin-right: =
0px; margin-bottom: 0px; margin-left: 0px; min-height: 14px; =
"><br></div><div style=3D"margin-top: 0px; margin-right: 0px; =
margin-bottom: 0px; margin-left: 0px; ">sec 13.2.2.4 2xx =
Responses</div><div style=3D"margin-top: 0px; margin-right: 0px; =
margin-bottom: 0px; margin-left: 0px; "><span =
class=3D"Apple-converted-space">=A0=A0 </span>If the dialog identifier =
in the 2xx response matches the dialog</div><div style=3D"margin-top: =
0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; "><span =
class=3D"Apple-converted-space">=A0=A0 </span>identifier of an existing =
dialog, the dialog MUST be transitioned</div> </blockquote><div =
style=3D"margin-top: 0px; margin-right: 0px; margin-bottom: 0px; =
margin-left: 0px; ">to</div> <blockquote type=3D"cite"><div =
style=3D"margin-top: 0px; margin-right: 0px; margin-bottom: 0px; =
margin-left: 0px; "><span class=3D"Apple-converted-space">=A0=A0 =
</span>the "confirmed" state, and the route set for the dialog MUST =
be</div><div style=3D"margin-top: 0px; margin-right: 0px; margin-bottom: =
0px; margin-left: 0px; "><span class=3D"Apple-converted-space">=A0=A0 =
</span>recomputed based on the 2xx response using the procedures =
of</div> </blockquote><div style=3D"margin-top: 0px; margin-right: 0px; =
margin-bottom: 0px; margin-left: 0px; ">Section</div> <blockquote =
type=3D"cite"><div style=3D"margin-top: 0px; margin-right: 0px; =
margin-bottom: 0px; margin-left: 0px; "><span =
class=3D"Apple-converted-space">=A0=A0 </span>12.2.1.2.<span =
class=3D"Apple-converted-space">=A0 </span>Otherwise, a new dialog in =
the "confirmed" state MUST be</div><div style=3D"margin-top: 0px; =
margin-right: 0px; margin-bottom: 0px; margin-left: 0px; "><span =
class=3D"Apple-converted-space">=A0=A0 </span>constructed using the =
procedures of Section 12.1.2.</div><div style=3D"margin-top: 0px; =
margin-right: 0px; margin-bottom: 0px; margin-left: 0px; min-height: =
14px; "><br></div><div style=3D"margin-top: 0px; margin-right: 0px; =
margin-bottom: 0px; margin-left: 0px; "><span =
class=3D"Apple-converted-space">=A0 =A0 =A0 </span>Note that the *only* =
piece of state that is recomputed is the<span =
class=3D"Apple-converted-space">=A0</span></div><div style=3D"margin-top: =
0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; =
">route</div><div style=3D"margin-top: 0px; margin-right: 0px; =
margin-bottom: 0px; margin-left: 0px; "><span =
class=3D"Apple-converted-space">=A0 =A0 =A0 </span>set.<span =
class=3D"Apple-converted-space">=A0 </span>Other pieces of state such as =
the highest sequence numbers</div><div style=3D"margin-top: 0px; =
margin-right: 0px; margin-bottom: 0px; margin-left: 0px; "><span =
class=3D"Apple-converted-space">=A0 =A0 =A0 </span>(remote and local) =
sent within the dialog are not recomputed.</div> </blockquote><div =
style=3D"margin-top: 0px; margin-right: 0px; margin-bottom: 0px; =
margin-left: 0px; ">The</div> <blockquote type=3D"cite"><div =
style=3D"margin-top: 0px; margin-right: 0px; margin-bottom: 0px; =
margin-left: 0px; "><span class=3D"Apple-converted-space">=A0 =A0 =A0 =
</span>route set only is recomputed for backwards compatibility.<span =
class=3D"Apple-converted-space">=A0 </span>RFC</div><div =
style=3D"margin-top: 0px; margin-right: 0px; margin-bottom: 0px; =
margin-left: 0px; "><span class=3D"Apple-converted-space">=A0 =A0 =A0 =
</span>2543 did not mandate mirroring of the Record-Route header =
field</div> </blockquote><div style=3D"margin-top: 0px; margin-right: =
0px; margin-bottom: 0px; margin-left: 0px; ">in</div> <blockquote =
type=3D"cite"><div style=3D"margin-top: 0px; margin-right: 0px; =
margin-bottom: 0px; margin-left: 0px; "><span =
class=3D"Apple-converted-space">=A0 =A0 =A0 </span>a 1xx, only 2xx.<span =
class=3D"Apple-converted-space">=A0 </span>However, we cannot update the =
entire state of</div><div style=3D"margin-top: 0px; margin-right: 0px; =
margin-bottom: 0px; margin-left: 0px; "><span =
class=3D"Apple-converted-space">=A0 =A0 =A0 </span>the dialog, since =
mid-dialog requests may have been sent within</div><div =
style=3D"margin-top: 0px; margin-right: 0px; margin-bottom: 0px; =
margin-left: 0px; "><span class=3D"Apple-converted-space">=A0 =A0 =A0 =
</span>the early dialog, modifying the sequence numbers, for =
example.</div> </blockquote><div style=3D"margin-top: 0px; margin-right: =
0px; margin-bottom: 0px; margin-left: 0px; min-height: 14px; =
"><br></div><div style=3D"margin-top: 0px; margin-right: 0px; =
margin-bottom: 0px; margin-left: 0px; ">I find the above text to be =
problematic and internally inconsistent. The</div><div =
style=3D"margin-top: 0px; margin-right: 0px; margin-bottom: 0px; =
margin-left: 0px; ">initial sentence conflicts with the rest. The =
sequence numbers are</div><div style=3D"margin-top: 0px; margin-right: =
0px; margin-bottom: 0px; margin-left: 0px; ">updated all along, on each =
request. The local sequence number isn't</div><div style=3D"margin-top: =
0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; ">updated =
on a response because it is updated when the request is sent.<span =
class=3D"Apple-converted-space">=A0</span></div><div style=3D"margin-top: =
0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; ">And the =
remote sequence number isn't updated upon receiving a response</div><div =
style=3D"margin-top: 0px; margin-right: 0px; margin-bottom: 0px; =
margin-left: 0px; ">because it don't contain a remote sequence =
number.</div><div style=3D"margin-top: 0px; margin-right: 0px; =
margin-bottom: 0px; margin-left: 0px; min-height: 14px; "><br></div><div =
style=3D"margin-top: 0px; margin-right: 0px; margin-bottom: 0px; =
margin-left: 0px; ">[Rockson] I think here 3261 just uses sequence =
number as an example, it</div><div style=3D"margin-top: 0px; =
margin-right: 0px; margin-bottom: 0px; margin-left: 0px; ">just want say =
dialog state might be updated in early dialog,so it cannot</div><div =
style=3D"margin-top: 0px; margin-right: 0px; margin-bottom: 0px; =
margin-left: 0px; ">be reset when it transitioned to =
confirmed.</div><div style=3D"margin-top: 0px; margin-right: 0px; =
margin-bottom: 0px; margin-left: 0px; min-height: 14px; "><br></div><div =
style=3D"margin-top: 0px; margin-right: 0px; margin-bottom: 0px; =
margin-left: 0px; ">So while the first statement above seems to say that =
the local/remote</div><div style=3D"margin-top: 0px; margin-right: 0px; =
margin-bottom: 0px; margin-left: 0px; ">target may not be updated based =
on a subsequent response, I'm not sure</div><div style=3D"margin-top: =
0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; ">to what =
extent to trust that paragraph. This seems more on the order =
of</div><div style=3D"margin-top: 0px; margin-right: 0px; margin-bottom: =
0px; margin-left: 0px; ">a bug.</div><div style=3D"margin-top: 0px; =
margin-right: 0px; margin-bottom: 0px; margin-left: 0px; min-height: =
14px; "><br></div><div style=3D"margin-top: 0px; margin-right: 0px; =
margin-bottom: 0px; margin-left: 0px; ">[Rockson] another bug here? 3261 =
here explains its meaning with emphasis</div><div style=3D"margin-top: =
0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; ">in terms =
of *only* , cannot be trusted?</div><div style=3D"margin-top: 0px; =
margin-right: 0px; margin-bottom: 0px; margin-left: 0px; ">If it's =
cannot be dependable and customer and user complains based on</div><div =
style=3D"margin-top: 0px; margin-right: 0px; margin-bottom: 0px; =
margin-left: 0px; ">the paragraph above, how am I supposed to do?<span =
class=3D"Apple-converted-space">=A0</span></div><div style=3D"margin-top: =
0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; ">give =
him/her this discussion mail ? :-(<span =
class=3D"Apple-converted-space">=A0</span></div><div style=3D"margin-top: =
0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; =
min-height: 14px; "><br></div><div style=3D"margin-top: 0px; =
margin-right: 0px; margin-bottom: 0px; margin-left: 0px; ">Ultimately we =
need to deal with what makes sense and works. When things</div><div =
style=3D"margin-top: 0px; margin-right: 0px; margin-bottom: 0px; =
margin-left: 0px; ">are not as you like in a response its hard to =
complain about them. You</div><div style=3D"margin-top: 0px; =
margin-right: 0px; margin-bottom: 0px; margin-left: 0px; ">pretty much =
have to cope. Otherwise your only choices are to send a BYE</div><div =
style=3D"margin-top: 0px; margin-right: 0px; margin-bottom: 0px; =
margin-left: 0px; ">or else just drop the transaction and let it time =
out. In this case</div><div style=3D"margin-top: 0px; margin-right: 0px; =
margin-bottom: 0px; margin-left: 0px; ">sending a BYE may well not work =
either - which remote target would you</div><div style=3D"margin-top: =
0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; ">send it =
too?</div><div style=3D"margin-top: 0px; margin-right: 0px; =
margin-bottom: 0px; margin-left: 0px; min-height: 14px; "><br></div><div =
style=3D"margin-top: 0px; margin-right: 0px; margin-bottom: 0px; =
margin-left: 0px; ">I think we can recommend that the Contacts not be =
changed until after a</div><div style=3D"margin-top: 0px; margin-right: =
0px; margin-bottom: 0px; margin-left: 0px; ">confirmed dialog. But when =
confronted with a request that does change</div><div style=3D"margin-top: =
0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; ">it, =
interoperability is probably enhanced by believing it. Are =
things</div><div style=3D"margin-top: 0px; margin-right: 0px; =
margin-bottom: 0px; margin-left: 0px; ">likely to work better if you =
ignore it??? Presumably the other end put</div><div style=3D"margin-top: =
0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; ">the new =
value in for some reason. Probably because the old address =
won't</div><div style=3D"margin-top: 0px; margin-right: 0px; =
margin-bottom: 0px; margin-left: 0px; ">work any more.</div><div =
style=3D"margin-top: 0px; margin-right: 0px; margin-bottom: 0px; =
margin-left: 0px; min-height: 14px; "><br></div><div style=3D"margin-top: =
0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; "><span =
class=3D"Apple-tab-span" style=3D"white-space:pre">	=
</span>Paul</div><div style=3D"margin-top: 0px; margin-right: 0px; =
margin-bottom: 0px; margin-left: 0px; min-height: 14px; "><br></div> =
<blockquote type=3D"cite"><div style=3D"margin-top: 0px; margin-right: =
0px; margin-bottom: 0px; margin-left: 0px; ">So only route set could be =
changed, remote-target just remains as the<span =
class=3D"Apple-converted-space">=A0</span></div><div style=3D"margin-top: =
0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; ">same as =
early dialog, even 200 change the contact.</div><div style=3D"margin-top: =
0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; =
min-height: 14px; "><br></div><div style=3D"margin-top: 0px; =
margin-right: 0px; margin-bottom: 0px; margin-left: 0px; =
">comments?</div><div style=3D"margin-top: 0px; margin-right: 0px; =
margin-bottom: 0px; margin-left: 0px; min-height: 14px; "><br></div><div =
style=3D"margin-top: 0px; margin-right: 0px; margin-bottom: 0px; =
margin-left: 0px; ">Regards,</div><div style=3D"margin-top: 0px; =
margin-right: 0px; margin-bottom: 0px; margin-left: 0px; =
">-Rockson</div><div style=3D"margin-top: 0px; margin-right: 0px; =
margin-bottom: 0px; margin-left: 0px; min-height: 14px; "><br></div><div =
style=3D"margin-top: 0px; margin-right: 0px; margin-bottom: 0px; =
margin-left: 0px; ">-----Original Message-----</div><div =
style=3D"margin-top: 0px; margin-right: 0px; margin-bottom: 0px; =
margin-left: 0px; ">From: Christer Holmberg [<a =
href=3D"mailto:christer.holmberg@ericsson.com">mailto:christer.holmberg@er=
icsson.com</a>]</div><div style=3D"margin-top: 0px; margin-right: 0px; =
margin-bottom: 0px; margin-left: 0px; ">Sent: Friday, February 29, 2008 =
3:49 AM</div><div style=3D"margin-top: 0px; margin-right: 0px; =
margin-bottom: 0px; margin-left: 0px; ">To: Paul Kyzivat (pkyzivat); =
Rockson Li (zhengyli)</div><div style=3D"margin-top: 0px; margin-right: =
0px; margin-bottom: 0px; margin-left: 0px; ">Cc: <a =
href=3D"mailto:sip@ietf.org">sip@ietf.org</a></div><div =
style=3D"margin-top: 0px; margin-right: 0px; margin-bottom: 0px; =
margin-left: 0px; ">Subject: RE: [Sip] Contact header in 1xx =
responses/updates remote<span =
class=3D"Apple-converted-space">=A0</span></div><div style=3D"margin-top: =
0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; ">target =
or not?</div><div style=3D"margin-top: 0px; margin-right: 0px; =
margin-bottom: 0px; margin-left: 0px; min-height: 14px; "><br></div><div =
style=3D"margin-top: 0px; margin-right: 0px; margin-bottom: 0px; =
margin-left: 0px; min-height: 14px; "><br></div><div style=3D"margin-top: =
0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; =
">Hi,</div><div style=3D"margin-top: 0px; margin-right: 0px; =
margin-bottom: 0px; margin-left: 0px; min-height: 14px; "><br></div><div =
style=3D"margin-top: 0px; margin-right: 0px; margin-bottom: 0px; =
margin-left: 0px; ">I agree with Paul's conclusion. But, I still think =
that is somethin<span class=3D"Apple-converted-space">=A0</span></div><div=
 style=3D"margin-top: 0px; margin-right: 0px; margin-bottom: 0px; =
margin-left: 0px; ">that we should somehow document and clarify. This is =
a common reason<span class=3D"Apple-converted-space">=A0</span></div><div =
style=3D"margin-top: 0px; margin-right: 0px; margin-bottom: 0px; =
margin-left: 0px; ">for interop problems, so just agree on a mailing =
list and leave it<span class=3D"Apple-converted-space">=A0</span></div><di=
v style=3D"margin-top: 0px; margin-right: 0px; margin-bottom: 0px; =
margin-left: 0px; ">there is not a good thing to do.</div><div =
style=3D"margin-top: 0px; margin-right: 0px; margin-bottom: 0px; =
margin-left: 0px; min-height: 14px; "><br></div><div style=3D"margin-top: =
0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; ">IF =
(To-tag &amp;&amp; Contact) THEN dialog</div><div style=3D"margin-top: =
0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; =
min-height: 14px; "><br></div><div style=3D"margin-top: 0px; =
margin-right: 0px; margin-bottom: 0px; margin-left: 0px; ">And, it IS =
allowed to update the Contact in subsequence provisional<span =
class=3D"Apple-converted-space">=A0</span></div><div style=3D"margin-top: =
0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; =
">responses. But, as Paul said: it is asking for trouble, so it =
should<span class=3D"Apple-converted-space">=A0</span></div><div =
style=3D"margin-top: 0px; margin-right: 0px; margin-bottom: 0px; =
margin-left: 0px; ">not be done unless you have a really good reason for =
it.</div><div style=3D"margin-top: 0px; margin-right: 0px; =
margin-bottom: 0px; margin-left: 0px; min-height: 14px; "><br></div><div =
style=3D"margin-top: 0px; margin-right: 0px; margin-bottom: 0px; =
margin-left: 0px; ">I also think that updating the Contact in a =
re-INVITE/UPDATE is asking</div> </blockquote><div style=3D"margin-top: =
0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; =
min-height: 14px; "><br></div> <blockquote type=3D"cite"><div =
style=3D"margin-top: 0px; margin-right: 0px; margin-bottom: 0px; =
margin-left: 0px; ">for trouble. At least you also there need to be =
prepared to receive<span =
class=3D"Apple-converted-space">=A0</span></div><div style=3D"margin-top: =
0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; ">requests =
on both the new and old contact for a period of time.</div><div =
style=3D"margin-top: 0px; margin-right: 0px; margin-bottom: 0px; =
margin-left: 0px; min-height: 14px; "><br></div><div style=3D"margin-top: =
0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; =
">Regards,</div><div style=3D"margin-top: 0px; margin-right: 0px; =
margin-bottom: 0px; margin-left: 0px; min-height: 14px; "><br></div><div =
style=3D"margin-top: 0px; margin-right: 0px; margin-bottom: 0px; =
margin-left: 0px; ">Christer</div><div style=3D"margin-top: 0px; =
margin-right: 0px; margin-bottom: 0px; margin-left: 0px; min-height: =
14px; "><br></div> <blockquote type=3D"cite"><div style=3D"margin-top: =
0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; =
">-----Original Message-----</div><div style=3D"margin-top: 0px; =
margin-right: 0px; margin-bottom: 0px; margin-left: 0px; ">From: Paul =
Kyzivat [<a =
href=3D"mailto:pkyzivat@cisco.com">mailto:pkyzivat@cisco.com</a>]</div><di=
v style=3D"margin-top: 0px; margin-right: 0px; margin-bottom: 0px; =
margin-left: 0px; ">Sent: 28. helmikuuta 2008 19:47</div><div =
style=3D"margin-top: 0px; margin-right: 0px; margin-bottom: 0px; =
margin-left: 0px; ">To: Rockson Li (zhengyli)</div><div =
style=3D"margin-top: 0px; margin-right: 0px; margin-bottom: 0px; =
margin-left: 0px; ">Cc: Christer Holmberg; <a =
href=3D"mailto:sip@ietf.org">sip@ietf.org</a></div><div =
style=3D"margin-top: 0px; margin-right: 0px; margin-bottom: 0px; =
margin-left: 0px; ">Subject: Re: [Sip] Contact header in 1xx =
responses/updates remote<span =
class=3D"Apple-converted-space">=A0</span></div><div style=3D"margin-top: =
0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; ">target =
or not?</div><div style=3D"margin-top: 0px; margin-right: 0px; =
margin-bottom: 0px; margin-left: 0px; min-height: 14px; "><br></div><div =
style=3D"margin-top: 0px; margin-right: 0px; margin-bottom: 0px; =
margin-left: 0px; ">No, I don't think we have an answer, though I do =
have an opinion. :-)</div><div style=3D"margin-top: 0px; margin-right: =
0px; margin-bottom: 0px; margin-left: 0px; min-height: 14px; =
"><br></div><div style=3D"margin-top: 0px; margin-right: 0px; =
margin-bottom: 0px; margin-left: 0px; ">Are you asking about whether the =
contact may be omitted? Or if it may</div> =
</blockquote></blockquote><div style=3D"margin-top: 0px; margin-right: =
0px; margin-bottom: 0px; margin-left: 0px; min-height: 14px; =
"><br></div> <blockquote type=3D"cite"><blockquote type=3D"cite"><div =
style=3D"margin-top: 0px; margin-right: 0px; margin-bottom: 0px; =
margin-left: 0px; ">be changed?</div><div style=3D"margin-top: 0px; =
margin-right: 0px; margin-bottom: 0px; margin-left: 0px; min-height: =
14px; "><br></div><div style=3D"margin-top: 0px; margin-right: 0px; =
margin-bottom: 0px; margin-left: 0px; ">AFAIK there is nothing normative =
that *forbids* the contact from<span =
class=3D"Apple-converted-space">=A0</span></div><div style=3D"margin-top: =
0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; =
">being</div> </blockquote><div style=3D"margin-top: 0px; margin-right: =
0px; margin-bottom: 0px; margin-left: 0px; min-height: 14px; =
"><br></div> <blockquote type=3D"cite"><div style=3D"margin-top: 0px; =
margin-right: 0px; margin-bottom: 0px; margin-left: 0px; ">changed in =
subsequent provisional responses. But doing so is *asking*</div> =
</blockquote></blockquote><div style=3D"margin-top: 0px; margin-right: =
0px; margin-bottom: 0px; margin-left: 0px; min-height: 14px; =
"><br></div> <blockquote type=3D"cite"><blockquote type=3D"cite"><div =
style=3D"margin-top: 0px; margin-right: 0px; margin-bottom: 0px; =
margin-left: 0px; ">for trouble, so you shouldn't do it.</div><div =
style=3D"margin-top: 0px; margin-right: 0px; margin-bottom: 0px; =
margin-left: 0px; ">Perhaps you could get away with it in a *reliable* =
provisional, but<span class=3D"Apple-converted-space">=A0</span></div><div=
 style=3D"margin-top: 0px; margin-right: 0px; margin-bottom: 0px; =
margin-left: 0px; ">then you would still have a bunch of messy cases. =
The likelihood of<span class=3D"Apple-converted-space">=A0</span></div><di=
v style=3D"margin-top: 0px; margin-right: 0px; margin-bottom: 0px; =
margin-left: 0px; ">it</div> </blockquote><div style=3D"margin-top: 0px; =
margin-right: 0px; margin-bottom: 0px; margin-left: 0px; min-height: =
14px; "><br></div> <blockquote type=3D"cite"><div style=3D"margin-top: =
0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; ">working =
is slim. Doing it with</div><div style=3D"margin-top: 0px; margin-right: =
0px; margin-bottom: 0px; margin-left: 0px; ">*unreliable* provisionals =
is going to cause trouble because they can<span =
class=3D"Apple-converted-space">=A0</span></div><div style=3D"margin-top: =
0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; ">be lost. =
Even with reliable provisionals, you will have to be<span =
class=3D"Apple-converted-space">=A0</span></div><div style=3D"margin-top: =
0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; =
">prepared</div> </blockquote><div style=3D"margin-top: 0px; =
margin-right: 0px; margin-bottom: 0px; margin-left: 0px; min-height: =
14px; "><br></div> <blockquote type=3D"cite"><div style=3D"margin-top: =
0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; ">to =
receive on both addresses for some period of time.</div><div =
style=3D"margin-top: 0px; margin-right: 0px; margin-bottom: 0px; =
margin-left: 0px; min-height: 14px; "><br></div><div style=3D"margin-top: =
0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; ">It seems =
clear that a contact may be omitted in a 100, since it is<span =
class=3D"Apple-converted-space">=A0</span></div><div style=3D"margin-top: =
0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; =
">hop</div> </blockquote><div style=3D"margin-top: 0px; margin-right: =
0px; margin-bottom: 0px; margin-left: 0px; min-height: 14px; =
"><br></div> <blockquote type=3D"cite"><div style=3D"margin-top: 0px; =
margin-right: 0px; margin-bottom: 0px; margin-left: 0px; ">by hop, and =
presumably must be omitted in the 100 responses from<span =
class=3D"Apple-converted-space">=A0</span></div><div style=3D"margin-top: =
0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; ">proxies. =
Some other 1xx responses may be returned by proxies (notably</div><div =
style=3D"margin-top: 0px; margin-right: 0px; margin-bottom: 0px; =
margin-left: 0px; ">181) and presumably they should also not contain a =
contact in those<span class=3D"Apple-converted-space">=A0</span></div><div=
 style=3D"margin-top: 0px; margin-right: 0px; margin-bottom: 0px; =
margin-left: 0px; ">cases.</div><div style=3D"margin-top: 0px; =
margin-right: 0px; margin-bottom: 0px; margin-left: 0px; min-height: =
14px; "><br></div><div style=3D"margin-top: 0px; margin-right: 0px; =
margin-bottom: 0px; margin-left: 0px; ">A 1xx that establishes an early =
dialog must contain a contact or else</div> =
</blockquote></blockquote><div style=3D"margin-top: 0px; margin-right: =
0px; margin-bottom: 0px; margin-left: 0px; min-height: 14px; =
"><br></div> <blockquote type=3D"cite"><blockquote type=3D"cite"><div =
style=3D"margin-top: 0px; margin-right: 0px; margin-bottom: 0px; =
margin-left: 0px; ">you really don't have a dialog. I think it is =
ambiguous whether:</div><div style=3D"margin-top: 0px; margin-right: =
0px; margin-bottom: 0px; margin-left: 0px; ">- the first 1xx with a =
particular to-tag *does* establish an early</div><div style=3D"margin-top:=
 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; "><span =
class=3D"Apple-converted-space">=A0=A0 </span>dialog and so *must* =
contain a contact,</div><div style=3D"margin-top: 0px; margin-right: =
0px; margin-bottom: 0px; margin-left: 0px; min-height: 14px; =
"><br></div><div style=3D"margin-top: 0px; margin-right: 0px; =
margin-bottom: 0px; margin-left: 0px; ">- OR a 1xx with a new to-tag, =
but without a contact, simply doesn't</div><div style=3D"margin-top: =
0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; "><span =
class=3D"Apple-converted-space">=A0=A0 </span>establish a dialog, but is =
legal.</div><div style=3D"margin-top: 0px; margin-right: 0px; =
margin-bottom: 0px; margin-left: 0px; min-height: 14px; "><br></div><div =
style=3D"margin-top: 0px; margin-right: 0px; margin-bottom: 0px; =
margin-left: 0px; ">I would split the difference and say that the UAS =
MUST include a<span class=3D"Apple-converted-space">=A0</span></div><div =
style=3D"margin-top: 0px; margin-right: 0px; margin-bottom: 0px; =
margin-left: 0px; ">contact in the first 1xx it returns with a =
particular to-tag, but a<span =
class=3D"Apple-converted-space">=A0</span></div><div style=3D"margin-top: =
0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; ">UAC =
should accept a 1xx with new to-tag and without a contact and<span =
class=3D"Apple-converted-space">=A0</span></div><div style=3D"margin-top: =
0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; ">simply =
treat it as not establishing an early dialog. (Don't establish</div> =
</blockquote></blockquote><div style=3D"margin-top: 0px; margin-right: =
0px; margin-bottom: 0px; margin-left: 0px; min-height: 14px; =
"><br></div> <blockquote type=3D"cite"><blockquote type=3D"cite"><div =
style=3D"margin-top: 0px; margin-right: 0px; margin-bottom: 0px; =
margin-left: 0px; ">the dialog until you get enough info to do =
so.)</div><div style=3D"margin-top: 0px; margin-right: 0px; =
margin-bottom: 0px; margin-left: 0px; min-height: 14px; "><br></div><div =
style=3D"margin-top: 0px; margin-right: 0px; margin-bottom: 0px; =
margin-left: 0px; "><span class=3D"Apple-tab-span" =
style=3D"white-space:pre">	</span>Paul</div><div style=3D"margin-top:=
 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; =
min-height: 14px; "><br></div><div style=3D"margin-top: 0px; =
margin-right: 0px; margin-bottom: 0px; margin-left: 0px; ">Rockson Li =
(zhengyli) wrote:</div> <blockquote type=3D"cite"><div =
style=3D"margin-top: 0px; margin-right: 0px; margin-bottom: 0px; =
margin-left: 0px; ">Paul , Christer and all,</div><div =
style=3D"margin-top: 0px; margin-right: 0px; margin-bottom: 0px; =
margin-left: 0px; min-height: 14px; "><br></div><div style=3D"margin-top: =
0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; ">I am =
following the email thread as in subject above<span =
class=3D"Apple-converted-space">=A0</span></div><div style=3D"margin-top: =
0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; "><a =
href=3D"http://www.ietf.org/mail-archive/web/sip/current/msg19322.html">ht=
tp://www.ietf.org/mail-archive/web/sip/current/msg19322.html</a></div><div=
 style=3D"margin-top: 0px; margin-right: 0px; margin-bottom: 0px; =
margin-left: 0px; min-height: 14px; "><br></div><div style=3D"margin-top: =
0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; ">However, =
I do not find the definite answer to Christer's</div> </blockquote><div =
style=3D"margin-top: 0px; margin-right: 0px; margin-bottom: 0px; =
margin-left: 0px; ">question, Do</div> <blockquote type=3D"cite"><div =
style=3D"margin-top: 0px; margin-right: 0px; margin-bottom: 0px; =
margin-left: 0px; ">we have the answer now?</div><div style=3D"margin-top:=
 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; =
min-height: 14px; "><br></div><div style=3D"margin-top: 0px; =
margin-right: 0px; margin-bottom: 0px; margin-left: 0px; ">Thanks a =
lot</div><div style=3D"margin-top: 0px; margin-right: 0px; =
margin-bottom: 0px; margin-left: 0px; min-height: 14px; "><br></div><div =
style=3D"margin-top: 0px; margin-right: 0px; margin-bottom: 0px; =
margin-left: 0px; ">Regards,</div><div style=3D"margin-top: 0px; =
margin-right: 0px; margin-bottom: 0px; margin-left: 0px; ">Rockson =
Li</div><div style=3D"margin-top: 0px; margin-right: 0px; margin-bottom: =
0px; margin-left: 0px; min-height: 14px; "><br></div><div =
style=3D"margin-top: 0px; margin-right: 0px; margin-bottom: 0px; =
margin-left: 0px; ">Cisco R&amp;D Center, Shanghai, PRC</div><div =
style=3D"margin-top: 0px; margin-right: 0px; margin-bottom: 0px; =
margin-left: 0px; min-height: 14px; "><br></div><div style=3D"margin-top: =
0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; =
min-height: 14px; "><br></div> </blockquote></blockquote><div =
style=3D"margin-top: 0px; margin-right: 0px; margin-bottom: 0px; =
margin-left: 0px; min-height: 14px; "><br></div> </blockquote><div =
style=3D"margin-top: 0px; margin-right: 0px; margin-bottom: 0px; =
margin-left: 0px; =
">_______________________________________________</div><div =
style=3D"margin-top: 0px; margin-right: 0px; margin-bottom: 0px; =
margin-left: 0px; ">Sip mailing list<span =
class=3D"Apple-converted-space">=A0 </span><a =
href=3D"https://www.ietf.org/mailman/listinfo/sip">https://www.ietf.org/ma=
ilman/listinfo/sip</a></div><div style=3D"margin-top: 0px; margin-right: =
0px; margin-bottom: 0px; margin-left: 0px; ">This list is for NEW =
development of the core SIP Protocol</div><div style=3D"margin-top: 0px; =
margin-right: 0px; margin-bottom: 0px; margin-left: 0px; ">Use <a =
href=3D"mailto:sip-implementors@cs.columbia.edu">sip-implementors@cs.colum=
bia.edu</a> for questions on current sip</div><div style=3D"margin-top: =
0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; ">Use <a =
href=3D"mailto:sipping@ietf.org">sipping@ietf.org</a> for new =
developments on the application of sip</div> =
</blockquote></div><br></div></div></div></body></html>=

--Apple-Mail-14-1024297102--

--===============1234523154==
Content-Type: text/plain; charset="us-ascii"
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip
--===============1234523154==--


From sip-bounces@ietf.org  Thu Mar  6 08:24:44 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id CD13028C60D;
	Thu,  6 Mar 2008 08:24:44 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.896
X-Spam-Level: 
X-Spam-Status: No, score=-100.896 tagged_above=-999 required=5
	tests=[AWL=-1.081, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	FM_FORGED_GMAIL=0.622, HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1,
	USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id eKYNkYg+aA5X; Thu,  6 Mar 2008 08:24:43 -0800 (PST)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id D8F9B3A6DE5;
	Thu,  6 Mar 2008 08:24:43 -0800 (PST)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id BB4AB3A6C19
	for <sip@core3.amsl.com>; Thu,  6 Mar 2008 08:24:41 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id f7yqo808FtJj for <sip@core3.amsl.com>;
	Thu,  6 Mar 2008 08:24:37 -0800 (PST)
Received: from rn-out-0910.google.com (rn-out-0910.google.com [64.233.170.186])
	by core3.amsl.com (Postfix) with ESMTP id E739228C8DA
	for <sip@ietf.org>; Thu,  6 Mar 2008 08:24:23 -0800 (PST)
Received: by rn-out-0910.google.com with SMTP id a46so1217198rne.9
	for <sip@ietf.org>; Thu, 06 Mar 2008 08:24:13 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=gamma;
	h=domainkey-signature:received:received:message-id:date:from:sender:to:subject:cc:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references:x-google-sender-auth;
	bh=KQBZleohtS8yDADgdMa9gUz7u527F+vrHU2wgMpVQPM=;
	b=CN2LpmkLT+2zC0VtIkUWIoNFC0kIOkWpzjk8khCh8F0WJK51pgdw5eHeyWIpDwA8b1RA/Uohf1ssVB8LAPlrGhZORP1AcccD5SuKkiTXDl19lBW8umm3mIwL6abQn1u37fwU1gc6/QuLjVzh0K/BI0VhSibBb23naKbrpDO9kiI=
DomainKey-Signature: a=rsa-sha1; c=nofws; d=gmail.com; s=gamma;
	h=message-id:date:from:sender:to:subject:cc:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references:x-google-sender-auth;
	b=MDxdXVWhNZLDbJ/+a2v4sqHZY4tGiMPA8hoSi0Rl5oq3okVQZCVmVpyleEX/+3xRicUCJOJHcjPu7qNnW/0EleLnxCyZK+BxmJQ1xzDYI6L5rx/43pKWVpyUaWmp2NwUk/j8gQbvuB1nrc8cThVZyZYcQR1dDz+RvBY3bzTZWGs=
Received: by 10.114.109.1 with SMTP id h1mr7267585wac.35.1204820652075;
	Thu, 06 Mar 2008 08:24:12 -0800 (PST)
Received: by 10.115.72.7 with HTTP; Thu, 6 Mar 2008 08:24:12 -0800 (PST)
Message-ID: <458913680803060824m23e10d7eqa861a21266eb50b@mail.gmail.com>
Date: Thu, 6 Mar 2008 17:24:12 +0100
From: "Xavier Marjou" <xavier.marjou@orange-ftgroup.com>
To: "Christer Holmberg" <christer.holmberg@ericsson.com>
In-Reply-To: <CA9998CD4A020D418654FCDEF4E707DF04F13E49@esealmw113.eemea.ericsson.se>
MIME-Version: 1.0
Content-Disposition: inline
References: <20080303185301.8A6B61819D7F@mail.iptel.org>
	<1ECE0EB50388174790F9694F77522CCF1549EC14@zrc2hxm0.corp.nortel.com>
	<CA9998CD4A020D418654FCDEF4E707DF04F13E49@esealmw113.eemea.ericsson.se>
X-Google-Sender-Auth: 3953bf96a3a56ef5
Cc: sip@ietf.org, Cullen Jennings <fluffy@cisco.com>,
	Francois Audet <audet@nortel.com>, Rohan Mahy <rohan@ekabal.com>
Subject: Re: [Sip] Outbound-12: STUN keep-alives without outbound
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Hi,

I support Christer's point of view.

Cheers,
Xavier

On Thu, Mar 6, 2008 at 9:25 AM, Christer Holmberg
<christer.holmberg@ericsson.com> wrote:
>
>  Hi,
>
>  I have big issues with the keep-alive change in the -12 version.
>
>  Because, now the STUN keep-alives usage can't be applied between the UA
>  and outbound proxy, unless the registrar supports outbound.
>
>  I strongly think it should be possible to use STUN keep-alives for
>  "pure" signalling NAT traversal, even if the "rest" of outbound is not
>  used.
>
>  So, while I DO agree with the Vancouver(?) decission to not include any
>  "URI" keep parameter in the R-URI of the register request, I think we
>  shall we keep the URI "keep" parameter definition, and e.g. allow it to
>  be inserted into the Path header (I don't remember any discussions
>  regarding removing that possibility) by the outbound proxy, in order to
>  inform the UA that the outbound proxy supports STUN keep-alive.
>
>  (OR, there should be another mechanism for the outbound proxy to inform
>  the UA it supports STUN keep-alive)
>
>  That would allow people to start using outbound for NAT traversal, even
>  if the registrars haven't yet been updated to support outbound etc.
>
>  At one point we decided that we will keep the STUN keep-alive usage and
>  outbound in the same spec, but that we will describe the STUN keep-alive
>  usage as a "stand alone" function (chapter 8 of the draft). But, now you
>  have more or less "merged" the STUN keep-alive usage with the outbound
>  function, and that is bad.
>
>  Also, this change is not mentioned in the
>  changes-since-the-previous-version part (if it is mentioned, I
>  appologize for having missed it)
>
>  Regards,
>
>  Christer
>  _______________________________________________
>  Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
>  This list is for NEW development of the core SIP Protocol
>  Use sip-implementors@cs.columbia.edu for questions on current sip
>  Use sipping@ietf.org for new developments on the application of sip
>
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu Mar  6 08:43:22 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id A0A5F3A6C19;
	Thu,  6 Mar 2008 08:43:22 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.459
X-Spam-Level: 
X-Spam-Status: No, score=-100.459 tagged_above=-999 required=5
	tests=[AWL=-0.022, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id sE79ZAihbKCl; Thu,  6 Mar 2008 08:43:21 -0800 (PST)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 3731128C48E;
	Thu,  6 Mar 2008 08:43:21 -0800 (PST)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id A55ED3A67F3
	for <sip@core3.amsl.com>; Thu,  6 Mar 2008 08:43:19 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 25LbK73wxqSU for <sip@core3.amsl.com>;
	Thu,  6 Mar 2008 08:43:18 -0800 (PST)
Received: from figas.ekabal.com (figas.ekabal.com [204.61.215.10])
	by core3.amsl.com (Postfix) with ESMTP id 8DD9828C500
	for <sip@ietf.org>; Thu,  6 Mar 2008 08:43:18 -0800 (PST)
Received: from [127.0.0.1] (figas.ekabal.com [204.61.215.10]) (authenticated)
	by figas.ekabal.com (8.11.6/8.11.6) with ESMTP id m26Gh1o02083;
	Thu, 6 Mar 2008 08:43:01 -0800
In-Reply-To: <1ECE0EB50388174790F9694F77522CCF1549EC14@zrc2hxm0.corp.nortel.com>
References: <20080303185301.8A6B61819D7F@mail.iptel.org>
	<1ECE0EB50388174790F9694F77522CCF1549EC14@zrc2hxm0.corp.nortel.com>
Mime-Version: 1.0 (Apple Message framework v753)
Message-Id: <F7900EC3-64DB-4412-A29D-F49997642713@ekabal.com>
From: Rohan Mahy <rohan@ekabal.com>
Date: Thu, 6 Mar 2008 08:42:55 -0800
To: "Francois Audet" <audet@nortel.com>
X-Mailer: Apple Mail (2.753)
Cc: Rohan Mahy <rohan@ekabal.com>, sip@ietf.org,
	Cullen Jennings <fluffy@cisco.com>
Subject: Re: [Sip] keep-alive backwards compatibility in
	draft-ietf-sip-outbound-12.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Hi Jiri,

There are two issues here.  negotiation of the outbound registration  
mechanism, and keepalive usage.

OUTBOUND NEGOTIATION - This normative text on this is currently split  
across each role, so here is a summary:
A UAC registers and indicates support for the outbound extension by  
advertising the outbound option-tag in its Supported header, and it  
requests an outbound-style registration by including a reg-id and  
instance-id.

The first-hop sees the reg-id and instance-id in a registration  
request and adds a Path header with a flow token and an 'ob' URI  
parameter.

It might go through other proxies, but we don't care.

The registrar (which is a UA) gets the request, checks that there is  
a reg-id and instance-id in the Contact, an 'ob' parameter in the  
first Path header field value, and 'outbound' in the Supported  
header.  It uses outbound-style bindings instead of RFC3261-style  
bindings for this UA instance. It returns a registration response  
with 'outbound' in its Require header.

Any intervening proxies forward the response on its merry way back to  
the UAC.  The first-hop proxy MAY add a Flow-Timer header if, and  
only if, the response has Require: outbound in it.

The UAC receives the successful registration response.  It can tell  
that outbound registration was successful since there is an outbound  
option-tag in the Require header.

<note>No bullets for the fish here, Dean.</note>


KEEPALIVE USAGE

When using keepalives for outbound, you start sending keepalives  
after a successful outbound registration.  This is safe since the  
first hop proxy already demonstrated outbound support by inserted on  
'ob' parameter, and proxies which do this are required to support  
both keepalive methods

from Section 4.2.1
>  If outbound registration succeeded, as indicated by the presence  
> of the outbound option-tag in the Require header field of a  
> successful registration response, the UA begins sending keepalives  
> as described in Section 4.4 (Keep-alives and Detecting Flow Failure).


Also, in case you think the text isn't strong enough we have these do  
no harm admonitions in the standalone STUN keepalive section.

from Section 8
> Because sending and receiving binary STUN data on the same ports  
> used for SIP is a significant and non-backwards compatible change  
> to RFC 3261, this section requires a number of checks before  
> sending STUN messages to a SIP node. If a SIP node sends STUN  
> requests (for example due to incorrect configuration) despite these  
> warnings, the node could be blacklisted for UDP traffic.
>
> A SIP node MUST NOT send STUN requests over a flow unless it has an  
> explicit indication that the target next hop SIP server claims to  
> support this specification. Note that UACs MUST NOT use an  
> ambiguous configuration option such as "Work through NATs?" or "Do  
> Keep alives?" to imply next hop STUN support.
>
>     Typically, a SIP node first sends a SIP request and waits to  
> receive a 200-class response over a flow to a new target  
> destination, before sending any STUN messages. When scheduled for  
> the next NAT refresh, the SIP node sends a STUN request to the target.



As for "native-transport" keepalives, this was explanatory text and  
was cluttering the flow so we trimmed it down, but it is still there:

Section 3.5
> UAs are also free to use native transport keep alives, however the  
> UA application may not be able to set these timers on a per- 
> connection basis, and the server certainly cannot make any  
> assumption about what values are used. Use of native transport keep  
> alives is therefore outside the scope of this document.


So, if either the first-hop or the registrar didn't support outbound,  
the UAC won't send keepalives unless it has some out-of-band  
configuration that its next hop supports them.

Hope this helps.

thanks,
-rohan



On Mar 5, 2008, at 5:00 PM, Francois Audet wrote:

> Jiri,
>
> On p.15 it is explained that the UAC looks at the presence of
> the Require: outbound field falue in a response to registration.
>
> This is to ensure that both the registrar and the edge proxy are
> compliant with this spec. The keep-alive would only be sent if
> present.
>
> Please suggest improved wording if you feel it is not clear enough.
>
> On the TCP keep-alive issue: this has been investigated in previous  
> versions
> of the draft. It was dropped because of the fact that changing the  
> TCP keep-alive
> is often a system-wide setting on most Operating Systems.
>
> Rohan, we use to have some words about this in the spec, but I  
> think it's all
> gone from this version. Maybe the note should have been left here...
>
>> -----Original Message-----
>> From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On
>> Behalf Of Jiri Kuthan
>> Sent: Monday, March 03, 2008 10:53
>> To: sip@ietf.org
>> Subject: [Sip] keep-alive backwards compatibility in
>> draft-ietf-sip-outbound-12.txt
>>
>> I'm just wondering if folks have been worried about the UACs
>> that implement the aforementioned I-D and talk to a proxy/UAS
>> that doesn't do so?
>>
>> It appears to me that mandating a reconnect on lacking PONG
>> would lead to quite heavy traffic.
>>
>> (which is why without deeper knowledge of the history of this
>> I-D, I would be inclined to rely on TCP's keep-alive, which
>> is in there)
>>
>> -jiri
>>
>>
>>
>> --
>> Jiri Kuthan            http://iptel.org/~jiri/
>>
>> _______________________________________________
>> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
>> This list is for NEW development of the core SIP Protocol Use
>> sip-implementors@cs.columbia.edu for questions on current sip
>> Use sipping@ietf.org for new developments on the application of sip
>>

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu Mar  6 09:47:16 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 2582B28C976;
	Thu,  6 Mar 2008 09:47:16 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.777
X-Spam-Level: 
X-Spam-Status: No, score=-100.777 tagged_above=-999 required=5
	tests=[AWL=-0.340, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id HJqkytZEe0hm; Thu,  6 Mar 2008 09:47:10 -0800 (PST)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 567103A6AEB;
	Thu,  6 Mar 2008 09:47:10 -0800 (PST)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id C0ACC3A6C19
	for <sip@core3.amsl.com>; Thu,  6 Mar 2008 09:47:08 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 2NR-ArsZPWlB for <sip@core3.amsl.com>;
	Thu,  6 Mar 2008 09:47:07 -0800 (PST)
Received: from mailgw3.ericsson.se (mailgw3.ericsson.se [193.180.251.60])
	by core3.amsl.com (Postfix) with ESMTP id D0C103A6A78
	for <sip@ietf.org>; Thu,  6 Mar 2008 09:47:06 -0800 (PST)
Received: from mailgw3.ericsson.se (unknown [127.0.0.1])
	by mailgw3.ericsson.se (Symantec Mail Security) with ESMTP id
	727D12080C; Thu,  6 Mar 2008 18:46:55 +0100 (CET)
X-AuditID: c1b4fb3c-ac097bb00000193b-69-47d02e0f7284
Received: from esealmw126.eemea.ericsson.se (unknown [153.88.254.123])
	by mailgw3.ericsson.se (Symantec Mail Security) with ESMTP id
	5181A2045C; Thu,  6 Mar 2008 18:46:55 +0100 (CET)
Received: from esealmw113.eemea.ericsson.se ([153.88.200.4]) by
	esealmw126.eemea.ericsson.se with Microsoft SMTPSVC(6.0.3790.1830); 
	Thu, 6 Mar 2008 18:46:54 +0100
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Thu, 6 Mar 2008 18:46:48 +0100
Message-ID: <CA9998CD4A020D418654FCDEF4E707DF04F7EF77@esealmw113.eemea.ericsson.se>
In-Reply-To: <4E690AA1-9E99-490D-B5EA-E4895E0B675A@ekabal.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] Outbound-12: STUN keep-alives without outbound
thread-index: Ach/qeJ3KeznUfaPTe+6N1ZY6pgYiAABgjwQ
References: <20080303185301.8A6B61819D7F@mail.iptel.org>
	<1ECE0EB50388174790F9694F77522CCF1549EC14@zrc2hxm0.corp.nortel.com>
	<CA9998CD4A020D418654FCDEF4E707DF04F13E49@esealmw113.eemea.ericsson.se>
	<458913680803060824m23e10d7eqa861a21266eb50b@mail.gmail.com>
	<4E690AA1-9E99-490D-B5EA-E4895E0B675A@ekabal.com>
From: "Christer Holmberg" <christer.holmberg@ericsson.com>
To: "Rohan Mahy" <rohan@ekabal.com>,
	"Xavier Marjou" <xavier.marjou@orange-ftgroup.com>
X-OriginalArrivalTime: 06 Mar 2008 17:46:54.0658 (UTC)
	FILETIME=[11062220:01C87FB2]
X-Brightmail-Tracker: AAAAAA==
Cc: sip@ietf.org, Cullen Jennings <fluffy@cisco.com>,
	Francois Audet <audet@nortel.com>
Subject: Re: [Sip] Outbound-12: STUN keep-alives without outbound
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


Hi Rohan, 

>>>I have big issues with the keep-alive change in the -12 version.
>>>
>>>Because, now the STUN keep-alives usage can't be applied between the 
>>>UA  and outbound proxy, unless the registrar supports outbound.
> 
>What gave you that impression Christer?  By my read that is 
>still allowed if the UA has explicit configuration that its 
>next-hop support keepalives:

Of course, but previously we had a mechanism for the outbound proxy to
actually indicate support.

Also, chapter 8 of the draft does say:

"A SIP node MUST NOT send STUN requests over a flow unless it has an
explicit indication that the target next hop SIP server claims to
support this specification.  Note that UACs MUST NOT use an ambiguous
configuration option such as "Work through NATs?" or "Do Keep
alives?" to imply next hop STUN support."

>>Because sending and receiving binary STUN data on the same ports used 
>>for SIP is a significant and non-backwards compatible change to RFC 
>>3261, this section requires a number of checks before sending STUN 
>>messages to a SIP node. If a SIP node sends STUN requests 
>>(for example due to incorrect configuration) despite these warnings,
the 
>>node could be blacklisted for UDP traffic.
>>
>>A SIP node MUST NOT send STUN requests over a flow unless it has an 
>>explicit indication that the target next hop SIP server claims to 
>>support this specification. Note that UACs MUST NOT use an ambiguous 
>>configuration option such as "Work through NATs?" or "Do Keep alives?"

>>to imply next hop STUN support.
>>
>>Typically, a SIP node first sends a SIP request and waits to 
>>receive a 200-class response over a flow to a new target destination, 
>>before sending any STUN messages. When scheduled for the next NAT 
>>refresh, the SIP node sends a STUN request to the target.
> 
> 
>>>I strongly think it should be possible to use STUN keep-alives for  
>>>"pure" signalling NAT traversal, even if the "rest" of outbound is 
>>>not  used.
>>>
>>>So, while I DO agree with the Vancouver(?) decission to not include 
>>>any  "URI" keep parameter in the R-URI of the register request, I 
>>>think we  shall we keep the URI "keep" parameter definition, and e.g.

>>>allow it to  be inserted into the Path header (I don't remember any 
>>>discussions  regarding removing that possibility) by the outbound 
>>>proxy, in order to  inform the UA that the outbound proxy supports 
>>>STUN keep-alive.
>>>
>>>(OR, there should be another mechanism for the outbound proxy to 
>>>inform  the UA it supports STUN keep-alive)
> 
>Currently, that other mechanism is out-of-band configuration. 
>We could also add another way to indicate this in the 
>future, but for know the WG seems happy with what we have.

I don't understand "add in future". We already had a mechanism. 

This is what you, me and Cullen were discussing a long time ago, and we
all agreed to :)

One thing we in Vancouver DID agree to was that a mechanism to also
indicate the keep-alive refresh timer value WOULD be a future extension.


Regards,

Christer




> >>  That would allow people to start using outbound for NAT 
> traversal, 
> >> even  if the registrars haven't yet been updated to 
> support outbound 
> >> etc.
> >>
> >>  At one point we decided that we will keep the STUN 
> keep-alive usage 
> >> and  outbound in the same spec, but that we will describe the STUN 
> >> keep-alive  usage as a "stand alone" function (chapter 8 of the 
> >> draft). But, now you  have more or less "merged" the STUN 
> keep-alive 
> >> usage with the outbound  function, and that is bad.
> >>
> >>  Also, this change is not mentioned in the  
> >> changes-since-the-previous-version part (if it is mentioned, I  
> >> appologize for having missed it)
> >>
> >>  Regards,
> >>
> >>  Christer
> >>  _______________________________________________
> >>  Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> >>  This list is for NEW development of the core SIP Protocol  Use 
> >> sip-implementors@cs.columbia.edu for questions on current sip  Use 
> >> sipping@ietf.org for new developments on the application of sip
> >>
> 
> 
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu Mar  6 10:09:53 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 2970028C939;
	Thu,  6 Mar 2008 10:09:53 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.764
X-Spam-Level: 
X-Spam-Status: No, score=-100.764 tagged_above=-999 required=5
	tests=[AWL=-0.327, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id TY4-ydDdVfSa; Thu,  6 Mar 2008 10:09:47 -0800 (PST)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id D554628C3CD;
	Thu,  6 Mar 2008 10:09:41 -0800 (PST)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 396AB3A6D83
	for <sip@core3.amsl.com>; Thu,  6 Mar 2008 10:09:40 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id Ji-fmrkNPchZ for <sip@core3.amsl.com>;
	Thu,  6 Mar 2008 10:09:34 -0800 (PST)
Received: from nylon.softarmor.com (nylon.softarmor.com [66.135.38.164])
	by core3.amsl.com (Postfix) with ESMTP id 32F5D28C92B
	for <sip@ietf.org>; Thu,  6 Mar 2008 10:09:18 -0800 (PST)
Received: from [206.176.144.210] (206-176-144-210.waymark.net
	[206.176.144.210]) (authenticated bits=0)
	by nylon.softarmor.com (8.13.8/8.13.8/Debian-3) with ESMTP id
	m26I95FH023667
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NOT);
	Thu, 6 Mar 2008 12:09:06 -0600
Message-ID: <47D0333C.8050306@softarmor.com>
Date: Thu, 06 Mar 2008 12:09:00 -0600
From: Dean Willis <dean.willis@softarmor.com>
User-Agent: Icedove 1.5.0.14pre (X11/20080208)
MIME-Version: 1.0
To: Aki Niemi <aki.niemi@nokia.com>
References: <20080303183225.D04A35081A@romeo.rtfm.com>	
	<1204628885.15582.7.camel@localhost>	
	<20080304151905.4EE005081A@romeo.rtfm.com>	
	<1204661227.15582.78.camel@localhost>	
	<20080304202005.ADD0C5081A@romeo.rtfm.com>	
	<1204663441.15582.107.camel@localhost>	
	<20080304205516.B737E5081A@romeo.rtfm.com>	
	<1204724689.5302.38.camel@localhost>	
	<9B149569-37A9-402B-BAB1-BB963CA3D477@softarmor.com>
	<1204789154.5302.73.camel@localhost>
In-Reply-To: <1204789154.5302.73.camel@localhost>
X-Enigmail-Version: 0.94.2.0
Cc: sip@ietf.org
Subject: Re: [Sip] Question on subnot-etags
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Aki Niemi wrote:
> the semantic is not: hmm, a notification. I know they're supposed to be
> generated when state changes, but I'm not convinced the state has
> changed. I better match the etag with my stored history of etags to see
> whether the state *really* changed. Ha! A match! The notifier farm
> must've rebooted or the Lakers indeed fired Koby! I better calculate the
> nth decimal of pi, launch doom and busy-loop for the rest of the day.
> 
> There *really* is no comparison done; the subscriber throws away the old
> state when a NOTIFY is received, and stores the new state. (In the case
> of partial notification, there's also patching done, but still no
> comparison of etags). 

So if a changed etag doesn't mean the content changed, what the heck are
we sending an etag for?

--
Dean
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu Mar  6 10:30:07 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id EEDD428C991;
	Thu,  6 Mar 2008 10:30:06 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.485
X-Spam-Level: 
X-Spam-Status: No, score=-100.485 tagged_above=-999 required=5
	tests=[AWL=-0.048, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id rOGwpFQz91Yk; Thu,  6 Mar 2008 10:30:05 -0800 (PST)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 2993428C903;
	Thu,  6 Mar 2008 10:29:59 -0800 (PST)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id C506428C963
	for <sip@core3.amsl.com>; Thu,  6 Mar 2008 10:29:57 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 898sGQNgr0ZN for <sip@core3.amsl.com>;
	Thu,  6 Mar 2008 10:29:52 -0800 (PST)
Received: from figas.ekabal.com (figas.ekabal.com [204.61.215.10])
	by core3.amsl.com (Postfix) with ESMTP id A38CF28C883
	for <sip@ietf.org>; Thu,  6 Mar 2008 10:28:41 -0800 (PST)
Received: from [127.0.0.1] (figas.ekabal.com [204.61.215.10]) (authenticated)
	by figas.ekabal.com (8.11.6/8.11.6) with ESMTP id m26ISHo05706;
	Thu, 6 Mar 2008 10:28:17 -0800
In-Reply-To: <CA9998CD4A020D418654FCDEF4E707DF04F7EF77@esealmw113.eemea.ericsson.se>
References: <20080303185301.8A6B61819D7F@mail.iptel.org>
	<1ECE0EB50388174790F9694F77522CCF1549EC14@zrc2hxm0.corp.nortel.com>
	<CA9998CD4A020D418654FCDEF4E707DF04F13E49@esealmw113.eemea.ericsson.se>
	<458913680803060824m23e10d7eqa861a21266eb50b@mail.gmail.com>
	<4E690AA1-9E99-490D-B5EA-E4895E0B675A@ekabal.com>
	<CA9998CD4A020D418654FCDEF4E707DF04F7EF77@esealmw113.eemea.ericsson.se>
Mime-Version: 1.0 (Apple Message framework v753)
Message-Id: <FFDDF533-F69C-4EC0-B19F-552373DF8035@ekabal.com>
From: Rohan Mahy <rohan@ekabal.com>
Date: Thu, 6 Mar 2008 10:28:12 -0800
To: "Christer Holmberg" <christer.holmberg@ericsson.com>
X-Mailer: Apple Mail (2.753)
Cc: sip@ietf.org, Rohan Mahy <rohan@ekabal.com>,
	Francois Audet <audet@nortel.com>,
	Xavier Marjou <xavier.marjou@orange-ftgroup.com>,
	Cullen Jennings <fluffy@cisco.com>
Subject: Re: [Sip] Outbound-12: STUN keep-alives without outbound
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


On Mar 6, 2008, at 9:46 AM, Christer Holmberg wrote:
> Hi Rohan,
>
>>>> I have big issues with the keep-alive change in the -12 version.
>>>>
>>>> Because, now the STUN keep-alives usage can't be applied between  
>>>> the
>>>> UA  and outbound proxy, unless the registrar supports outbound.
>>
>> What gave you that impression Christer?  By my read that is
>> still allowed if the UA has explicit configuration that its
>> next-hop support keepalives:
>
> Of course, but previously we had a mechanism for the outbound proxy to
> actually indicate support.
>
> Also, chapter 8 of the draft does say:
>
> "A SIP node MUST NOT send STUN requests over a flow unless it has an
> explicit indication that the target next hop SIP server claims to
> support this specification.  Note that UACs MUST NOT use an ambiguous
> configuration option such as "Work through NATs?" or "Do Keep
> alives?" to imply next hop STUN support."

That text has been there for ages.  That is not new.

>>> Because sending and receiving binary STUN data on the same ports  
>>> used
>>> for SIP is a significant and non-backwards compatible change to RFC
>>> 3261, this section requires a number of checks before sending STUN
>>> messages to a SIP node. If a SIP node sends STUN requests
>>> (for example due to incorrect configuration) despite these warnings,
> the
>>> node could be blacklisted for UDP traffic.
>>>
>>> A SIP node MUST NOT send STUN requests over a flow unless it has an
>>> explicit indication that the target next hop SIP server claims to
>>> support this specification. Note that UACs MUST NOT use an ambiguous
>>> configuration option such as "Work through NATs?" or "Do Keep  
>>> alives?"
>
>>> to imply next hop STUN support.
>>>
>>> Typically, a SIP node first sends a SIP request and waits to
>>> receive a 200-class response over a flow to a new target  
>>> destination,
>>> before sending any STUN messages. When scheduled for the next NAT
>>> refresh, the SIP node sends a STUN request to the target.
>>
>>
>>>> I strongly think it should be possible to use STUN keep-alives for
>>>> "pure" signalling NAT traversal, even if the "rest" of outbound is
>>>> not  used.
>>>>
>>>> So, while I DO agree with the Vancouver(?) decission to not include
>>>> any  "URI" keep parameter in the R-URI of the register request, I
>>>> think we  shall we keep the URI "keep" parameter definition, and  
>>>> e.g.

I'm pretty sure we had rough consensus to remove the parameter  
completely. I'll go dig up my notes and the minutes.  Maybe Francois  
can jump in here.

thanks,
-rohan

>>>> allow it to  be inserted into the Path header (I don't remember any
>>>> discussions  regarding removing that possibility) by the outbound
>>>> proxy, in order to  inform the UA that the outbound proxy supports
>>>> STUN keep-alive.
>>>>
>>>> (OR, there should be another mechanism for the outbound proxy to
>>>> inform  the UA it supports STUN keep-alive)
>>
>> Currently, that other mechanism is out-of-band configuration.
>> We could also add another way to indicate this in the
>> future, but for know the WG seems happy with what we have.
>
> I don't understand "add in future". We already had a mechanism.
>
> This is what you, me and Cullen were discussing a long time ago,  
> and we
> all agreed to :)
>
> One thing we in Vancouver DID agree to was that a mechanism to also
> indicate the keep-alive refresh timer value WOULD be a future  
> extension.
>
>
> Regards,
>
> Christer
>
>
>
>
>>>>  That would allow people to start using outbound for NAT
>> traversal,
>>>> even  if the registrars haven't yet been updated to
>> support outbound
>>>> etc.
>>>>
>>>>  At one point we decided that we will keep the STUN
>> keep-alive usage
>>>> and  outbound in the same spec, but that we will describe the STUN
>>>> keep-alive  usage as a "stand alone" function (chapter 8 of the
>>>> draft). But, now you  have more or less "merged" the STUN
>> keep-alive
>>>> usage with the outbound  function, and that is bad.
>>>>
>>>>  Also, this change is not mentioned in the
>>>> changes-since-the-previous-version part (if it is mentioned, I
>>>> appologize for having missed it)
>>>>
>>>>  Regards,
>>>>
>>>>  Christer
>>>>  _______________________________________________
>>>>  Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
>>>>  This list is for NEW development of the core SIP Protocol  Use
>>>> sip-implementors@cs.columbia.edu for questions on current sip  Use
>>>> sipping@ietf.org for new developments on the application of sip
>>>>
>>
>>

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu Mar  6 10:38:23 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id BBD8E28C923;
	Thu,  6 Mar 2008 10:38:23 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.777
X-Spam-Level: 
X-Spam-Status: No, score=-100.777 tagged_above=-999 required=5
	tests=[AWL=-0.340, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id I0OWX10j5pIb; Thu,  6 Mar 2008 10:38:22 -0800 (PST)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id AB48F3A6D24;
	Thu,  6 Mar 2008 10:38:22 -0800 (PST)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 75E7A3A6AA5
	for <sip@core3.amsl.com>; Thu,  6 Mar 2008 10:38:21 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id cjU9eoRd1wgX for <sip@core3.amsl.com>;
	Thu,  6 Mar 2008 10:38:20 -0800 (PST)
Received: from mailgw3.ericsson.se (mailgw3.ericsson.se [193.180.251.60])
	by core3.amsl.com (Postfix) with ESMTP id 420E53A6A30
	for <sip@ietf.org>; Thu,  6 Mar 2008 10:38:20 -0800 (PST)
Received: from mailgw3.ericsson.se (unknown [127.0.0.1])
	by mailgw3.ericsson.se (Symantec Mail Security) with ESMTP id
	81748205B0; Thu,  6 Mar 2008 19:38:06 +0100 (CET)
X-AuditID: c1b4fb3c-ad099bb00000193b-a3-47d03a0e79cb
Received: from esealmw128.eemea.ericsson.se (unknown [153.88.254.121])
	by mailgw3.ericsson.se (Symantec Mail Security) with ESMTP id
	56BEA20555; Thu,  6 Mar 2008 19:38:06 +0100 (CET)
Received: from esealmw113.eemea.ericsson.se ([153.88.200.4]) by
	esealmw128.eemea.ericsson.se with Microsoft SMTPSVC(6.0.3790.1830); 
	Thu, 6 Mar 2008 19:38:06 +0100
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Thu, 6 Mar 2008 19:38:05 +0100
Message-ID: <CA9998CD4A020D418654FCDEF4E707DF04F7F043@esealmw113.eemea.ericsson.se>
In-Reply-To: <FFDDF533-F69C-4EC0-B19F-552373DF8035@ekabal.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] Outbound-12: STUN keep-alives without outbound
thread-index: Ach/t/REhI3J96MATXSzJX83BShTzAAAKexA
References: <20080303185301.8A6B61819D7F@mail.iptel.org>
	<1ECE0EB50388174790F9694F77522CCF1549EC14@zrc2hxm0.corp.nortel.com>
	<CA9998CD4A020D418654FCDEF4E707DF04F13E49@esealmw113.eemea.ericsson.se>
	<458913680803060824m23e10d7eqa861a21266eb50b@mail.gmail.com>
	<4E690AA1-9E99-490D-B5EA-E4895E0B675A@ekabal.com>
	<CA9998CD4A020D418654FCDEF4E707DF04F7EF77@esealmw113.eemea.ericsson.se>
	<FFDDF533-F69C-4EC0-B19F-552373DF8035@ekabal.com>
From: "Christer Holmberg" <christer.holmberg@ericsson.com>
To: "Rohan Mahy" <rohan@ekabal.com>
X-OriginalArrivalTime: 06 Mar 2008 18:38:06.0012 (UTC)
	FILETIME=[37B18FC0:01C87FB9]
X-Brightmail-Tracker: AAAAAA==
Cc: sip@ietf.org, Cullen Jennings <fluffy@cisco.com>,
	Francois Audet <audet@nortel.com>,
	Xavier Marjou <xavier.marjou@orange-ftgroup.com>
Subject: Re: [Sip] Outbound-12: STUN keep-alives without outbound
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


Hi, 

>>>>>I have big issues with the keep-alive change in the -12 version.
>>>>>
>>>>>Because, now the STUN keep-alives usage can't be applied between 
>>>>>the UA  and outbound proxy, unless the registrar supports outbound.
>>>
>>>What gave you that impression Christer?  By my read that is still 
>>>allowed if the UA has explicit configuration that its next-hop 
>>>support keepalives:
>>
>>Of course, but previously we had a mechanism for the outbound proxy to

>>actually indicate support.
>>
>>Also, chapter 8 of the draft does say:
>>
>>"A SIP node MUST NOT send STUN requests over a flow unless it has an 
>>explicit indication that the target next hop SIP server claims to 
>>support this specification.  Note that UACs MUST NOT use an ambiguous 
>>configuration option such as "Work through NATs?" or "Do 
>>Keep alives?" to imply next hop STUN support."
> 
>That text has been there for ages.  That is not new.

Exactly - so therfor I don't think the explicit configuration you
propose is appropriate :)

>>>>>I strongly think it should be possible to use STUN keep-alives for
>>>>>"pure" signalling NAT traversal, even if the "rest" of outbound is
>>>>>not used.
>>>>>
>>>>>So, while I DO agree with the Vancouver(?) decission to not include
>>>>>any  "URI" keep parameter in the R-URI of the register request, I
>>>>>think we  shall we keep the URI "keep" parameter definition, and  
>>>>>e.g.
> 
>I'm pretty sure we had rough consensus to remove the parameter  
>completely. I'll go dig up my notes and the minutes.  Maybe Francois  
>can jump in here.

Maybe the problem is that we only discussed the usage of the parameter
in the R-URI, and when we agreed not to use it there we forgot that it
could actually be used in the Path header.

Regards,

Christer










> >>>> allow it to  be inserted into the Path header (I don't 
> remember any
> >>>> discussions  regarding removing that possibility) by the outbound
> >>>> proxy, in order to  inform the UA that the outbound 
> proxy supports
> >>>> STUN keep-alive.
> >>>>
> >>>> (OR, there should be another mechanism for the outbound proxy to
> >>>> inform  the UA it supports STUN keep-alive)
> >>
> >> Currently, that other mechanism is out-of-band configuration.
> >> We could also add another way to indicate this in the
> >> future, but for know the WG seems happy with what we have.
> >
> > I don't understand "add in future". We already had a mechanism.
> >
> > This is what you, me and Cullen were discussing a long time ago,  
> > and we
> > all agreed to :)
> >
> > One thing we in Vancouver DID agree to was that a mechanism to also
> > indicate the keep-alive refresh timer value WOULD be a future  
> > extension.
> >
> >
> > Regards,
> >
> > Christer
> >
> >
> >
> >
> >>>>  That would allow people to start using outbound for NAT
> >> traversal,
> >>>> even  if the registrars haven't yet been updated to
> >> support outbound
> >>>> etc.
> >>>>
> >>>>  At one point we decided that we will keep the STUN
> >> keep-alive usage
> >>>> and  outbound in the same spec, but that we will 
> describe the STUN
> >>>> keep-alive  usage as a "stand alone" function (chapter 8 of the
> >>>> draft). But, now you  have more or less "merged" the STUN
> >> keep-alive
> >>>> usage with the outbound  function, and that is bad.
> >>>>
> >>>>  Also, this change is not mentioned in the
> >>>> changes-since-the-previous-version part (if it is mentioned, I
> >>>> appologize for having missed it)
> >>>>
> >>>>  Regards,
> >>>>
> >>>>  Christer
> >>>>  _______________________________________________
> >>>>  Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> >>>>  This list is for NEW development of the core SIP Protocol  Use
> >>>> sip-implementors@cs.columbia.edu for questions on 
> current sip  Use
> >>>> sipping@ietf.org for new developments on the application of sip
> >>>>
> >>
> >>
> 
> 
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu Mar  6 13:10:53 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 84D1728C9AA;
	Thu,  6 Mar 2008 13:10:53 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.538
X-Spam-Level: 
X-Spam-Status: No, score=-100.538 tagged_above=-999 required=5
	tests=[AWL=-0.101, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id HNCFQ4+-kgQ0; Thu,  6 Mar 2008 13:10:47 -0800 (PST)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id BBA6228C545;
	Thu,  6 Mar 2008 13:10:47 -0800 (PST)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 7D89828C545
	for <sip@core3.amsl.com>; Thu,  6 Mar 2008 13:10:46 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 6j70b--FuSJT for <sip@core3.amsl.com>;
	Thu,  6 Mar 2008 13:10:44 -0800 (PST)
Received: from QMTA05.emeryville.ca.mail.comcast.net
	(qmta05.emeryville.ca.mail.comcast.net [76.96.30.48])
	by core3.amsl.com (Postfix) with ESMTP id DFC8828C2CC
	for <sip@ietf.org>; Thu,  6 Mar 2008 13:10:44 -0800 (PST)
Received: from OMTA08.emeryville.ca.mail.comcast.net ([76.96.30.12])
	by QMTA05.emeryville.ca.mail.comcast.net with comcast
	id xwpE1Y00A0FhH24A504N00; Thu, 06 Mar 2008 21:09:31 +0000
Received: from dragon.ariadne.com ([76.19.174.1])
	by OMTA08.emeryville.ca.mail.comcast.net with comcast
	id xxAW1Y00B02AVH08U00000; Thu, 06 Mar 2008 21:10:32 +0000
X-Authority-Analysis: v=1.0 c=1 a=oDyyDJH2trNVQUMjZdgA:9
	a=BHgSKzyI6QJ54BPeh40A:7 a=mN-85kVEyHQZREHoEkAoSJJ0bFAA:4
	a=1pxjJC3EenQA:10 a=lZB815dzVvQA:10 a=8y7tGHue6YMA:10
Received: from dragon.ariadne.com (dragon.ariadne.com [127.0.0.1])
	by dragon.ariadne.com (8.12.8/8.12.8) with ESMTP id m26LAUMj022322
	for <sip@ietf.org>; Thu, 6 Mar 2008 16:10:30 -0500
Received: (from worley@localhost)
	by dragon.ariadne.com (8.12.8/8.12.8/Submit) id m26LAU0n022318;
	Thu, 6 Mar 2008 16:10:30 -0500
Date: Thu, 6 Mar 2008 16:10:30 -0500
Message-Id: <200803062110.m26LAU0n022318@dragon.ariadne.com>
To: sip@ietf.org
From: Dale.Worley@comcast.net
In-reply-to: <1204789987.5302.81.camel@localhost> (aki.niemi@nokia.com)
References: <20080303183225.D04A35081A@romeo.rtfm.com>
	<1204628885.15582.7.camel@localhost>
	<20080304151905.4EE005081A@romeo.rtfm.com>
	<1204661227.15582.78.camel@localhost>
	<20080304202005.ADD0C5081A@romeo.rtfm.com>
	<1204663441.15582.107.camel@localhost>
	<20080304205516.B737E5081A@romeo.rtfm.com>
	<1204724689.5302.38.camel@localhost>
	<9B149569-37A9-402B-BAB1-BB963CA3D477@softarmor.com>
	<200803060442.m264gqqP014900@dragon.ariadne.com>
	<1204789987.5302.81.camel@localhost>
Subject: Re: [Sip] Question on subnot-etags
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
MIME-Version: 1.0
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

   From: Aki Niemi <aki.niemi@nokia.com>

   On ke, 2008-03-05 at 23:42 -0500, ext sip-bounces@ietf.org wrote:
   > It seems like there are a number of open issues:
   > 
   > 1. Is the only thing that is important from the subscriber's point of
   > view the current value of the event package, or is it important to
   > know something of the history of that value?  (People have been
   > discussing this.)

   IMHO, this is not a use-case that conditional notification needs to
   address.

And my original suggestion was that it not even attempt to address
it.  But rather that it provide a warning that under some
circumstances it could produce paradoxical results.  (I'm assuming
that you agree with me that these problems could arise.)

   > 3. Some event packages (e.g., dialog and resource-list) specify that
   > the package values within any individual subscription be sequence
   > numbered via a 'version' attribute in the XML.  This reduces the
   > chances of an ETags match between requests that are part of different
   > subscriptions, because a new poll-type SUBSCRIBE will necessarily
   > fetch a value with 'version="1"', and its ETag will not match the ETag
   > of any value that had a different version attribute, even if the rest
   > of the XML is the same.
   > 
   > This is particularly unfortunate because the version attribute does
   > not carry information that is important to the application; it is
   > control information that is largely redundant with the ETags mechanism
   > itself.

   Um, the 'version' parameter is largely redundant with the CSeq.

Unfortunately it's not.  But that isn't relevant.  The 'version'
parameter is *mandatory* for some event packages, and it makes ETags
(as they are now defined) nearly useless for those packages.

Dale
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu Mar  6 14:08:26 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id AE15828CA55;
	Thu,  6 Mar 2008 14:08:26 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.64
X-Spam-Level: 
X-Spam-Status: No, score=-100.64 tagged_above=-999 required=5
	tests=[AWL=-0.203, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 8bKtUTSxm+II; Thu,  6 Mar 2008 14:08:26 -0800 (PST)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 0368928CA03;
	Thu,  6 Mar 2008 14:03:06 -0800 (PST)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 5A5A828C9C8
	for <sip@core3.amsl.com>; Thu,  6 Mar 2008 14:03:04 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id m9s4bnT5xmI5 for <sip@core3.amsl.com>;
	Thu,  6 Mar 2008 14:03:03 -0800 (PST)
Received: from mail.iptel.org (smtp.iptel.org [213.192.59.67])
	by core3.amsl.com (Postfix) with ESMTP id F304128CA58
	for <sip@ietf.org>; Thu,  6 Mar 2008 13:59:08 -0800 (PST)
Received: from uk1lt10071.iptel.org (shell.iptel.org [213.192.59.74])
	by mail.iptel.org (Postfix) with ESMTP id 151EF1800B93;
	Thu,  6 Mar 2008 22:58:56 +0100 (CET)
X-Mailer: QUALCOMM Windows Eudora Version 7.1.0.9
Date: Thu, 06 Mar 2008 22:58:38 +0100
To: Dean Willis <dean.willis@softarmor.com>,
	Dean Willis <dean.willis@softarmor.com>
From: Jiri Kuthan <jiri@iptel.org>
In-Reply-To: <47D0321D.1080302@softarmor.com>
References: <20080303185301.8A6B61819D7F@mail.iptel.org>
	<1ECE0EB50388174790F9694F77522CCF1549EC14@zrc2hxm0.corp.nortel.com>
	<4AB05CEA-5C44-4D82-9A9F-DDE0A1BD4084@softarmor.com>
	<47D0321D.1080302@softarmor.com>
Mime-Version: 1.0
Message-Id: <20080306215856.151EF1800B93@mail.iptel.org>
Cc: sip@ietf.org, Rohan Mahy <rohan@ekabal.com>,
	Francois Audet <audet@nortel.com>
Subject: Re: [Sip] keep-alive backwards compatibility in
 draft-ietf-sip-outbound-12.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

I have to admit this was too complicated for me too understand. So basically
UAC advertises downstream its semi-transport-level keep-alive capability (CRLF/STUN)
by the way of app-level negotitation (reg-id), the downstream entity (say
a proxy-based load-balancer) signals its support for it by adding PATH/ob,
and the registrar UAS signals load-balancer's support by Require:outbound?

So specifically if the registrar doesn't turn PATH/ob into 200/Require/outbound,
client shall not do ping-pong keep-alive to its load-balancer?

If that's what it is, I understood the point now. 

Can someone explain to me what is the benefit of mixing transport-level natping
functionality with application-level capabilty negotiation? My appologies if this
has been discussed in past years of outbound, but it is really hard to understand
for me. 

Thanks!

-jiri


At 19:04 06/03/2008, Dean Willis wrote:

>I think we had a stale address for Jiri on this thread.
>
>He's been using jiri@iptel.org recently, and I'm getting no DNS hit on
>fokus.
>
>
>
>Dean Willis wrote:
>> 
>> On Mar 5, 2008, at 7:00 PM, Francois Audet wrote:
>> 
>>> Jiri,
>>>
>>> On p.15 it is explained that the UAC looks at the presence of
>>> the Require: outbound field falue in a response to registration.
>> 
>>> This is to ensure that both the registrar and the edge proxy are
>>> compliant with this spec. The keep-alive would only be sent if
>>> present.
>>>
>> 
>> I'm going to have to go study this, because ordinarily Require has
>> nothing to do with the edge proxy (which would have been only looking at
>> Proxy-Require), and it's pretty much meaningless in responses anyhow --
>> it's only processed in requests AFAIK.
>> 
>> I think we're trying to catch fish with a bullet again.
>> 
>> -- 
>> Dean
>> 



--
Jiri Kuthan            http://iptel.org/~jiri/

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu Mar  6 14:45:39 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 1CC443A6D27;
	Thu,  6 Mar 2008 14:45:39 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.994
X-Spam-Level: 
X-Spam-Status: No, score=-100.994 tagged_above=-999 required=5
	tests=[AWL=-0.557, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id q74N8YFpEI0Y; Thu,  6 Mar 2008 14:45:33 -0800 (PST)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id A04EE3A6B47;
	Thu,  6 Mar 2008 14:45:33 -0800 (PST)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id C78F13A69D5
	for <sip@core3.amsl.com>; Thu,  6 Mar 2008 14:45:31 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id paqcLy3p7PXa for <sip@core3.amsl.com>;
	Thu,  6 Mar 2008 14:45:26 -0800 (PST)
Received: from zcars04f.nortel.com (zcars04f.nortel.com [47.129.242.57])
	by core3.amsl.com (Postfix) with ESMTP id 463523A6A93
	for <sip@ietf.org>; Thu,  6 Mar 2008 14:45:22 -0800 (PST)
Received: from zrc2hxm0.corp.nortel.com (zrc2hxm0.corp.nortel.com
	[47.103.123.71])
	by zcars04f.nortel.com (Switch-2.2.6/Switch-2.2.0) with ESMTP id
	m26Mj6M13180; Thu, 6 Mar 2008 22:45:06 GMT
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Thu, 6 Mar 2008 16:45:00 -0600
Message-ID: <1ECE0EB50388174790F9694F77522CCF1552C7E3@zrc2hxm0.corp.nortel.com>
In-Reply-To: <CA9998CD4A020D418654FCDEF4E707DF04F7F043@esealmw113.eemea.ericsson.se>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] Outbound-12: STUN keep-alives without outbound
Thread-Index: Ach/t/REhI3J96MATXSzJX83BShTzAAAKexAAAhL5wA=
References: <20080303185301.8A6B61819D7F@mail.iptel.org>
	<1ECE0EB50388174790F9694F77522CCF1549EC14@zrc2hxm0.corp.nortel.com>
	<CA9998CD4A020D418654FCDEF4E707DF04F13E49@esealmw113.eemea.ericsson.se>
	<458913680803060824m23e10d7eqa861a21266eb50b@mail.gmail.com>
	<4E690AA1-9E99-490D-B5EA-E4895E0B675A@ekabal.com>
	<CA9998CD4A020D418654FCDEF4E707DF04F7EF77@esealmw113.eemea.ericsson.se>
	<FFDDF533-F69C-4EC0-B19F-552373DF8035@ekabal.com>
	<CA9998CD4A020D418654FCDEF4E707DF04F7F043@esealmw113.eemea.ericsson.se>
From: "Francois Audet" <audet@nortel.com>
To: "Christer Holmberg" <christer.holmberg@ericsson.com>,
	"Rohan Mahy" <rohan@ekabal.com>
Cc: sip@ietf.org, Cullen Jennings <fluffy@cisco.com>,
	Xavier Marjou <xavier.marjou@orange-ftgroup.com>
Subject: Re: [Sip] Outbound-12: STUN keep-alives without outbound
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Yes, we had agreed to remove keep altogether.

Using parameters for the job of something that logically belongs to
configuration is futile and harmful as it would result in infinite-length 
URIs or other field.

I can also garantee that everybody that presents a concept will somehow
believe that this particular concept is worthy of being a parameter
while the other guy's concept is inferior and doesn't warrant it.

I think the point of the text was that it shouldn't be an AMBIGUOUS
parameter, but instead a EXPLICIT parameter.

So, this paragraph is completely accurate:
	A SIP node MUST NOT send STUN requests over a flow unless 
      it has an explicit indication that the target next hop SIP server 
      claims to support this specification. Note that UACs MUST NOT use 
      an ambiguous configuration option such as "Work through NATs?" or "Do 
      Keep alives?" to imply next hop STUN support.

But it would be clearer if we added the following sentence at the end:
	Rather than an ambiguous configuration option, it MUST be an explicit
      configuration such as "Server supports RFC XXX CRLF keep-alives? 
      without RFC XXX registration procedures?".

I really do believe that a parameter "on the wire" for such a corner case 
(i.e., "I want to do outbound, but just the keep-alive") is absolutely 
not warranted.

 

> -----Original Message-----
> From: Christer Holmberg [mailto:christer.holmberg@ericsson.com] 
> Sent: Thursday, March 06, 2008 10:38
> To: Rohan Mahy
> Cc: Xavier Marjou; Audet, Francois (SC100:3055); 
> sip@ietf.org; Cullen Jennings
> Subject: RE: [Sip] Outbound-12: STUN keep-alives without outbound
> 
> 
> Hi, 
> 
> >>>>>I have big issues with the keep-alive change in the -12 version.
> >>>>>
> >>>>>Because, now the STUN keep-alives usage can't be applied between 
> >>>>>the UA  and outbound proxy, unless the registrar 
> supports outbound.
> >>>
> >>>What gave you that impression Christer?  By my read that is still 
> >>>allowed if the UA has explicit configuration that its next-hop 
> >>>support keepalives:
> >>
> >>Of course, but previously we had a mechanism for the 
> outbound proxy to
> 
> >>actually indicate support.
> >>
> >>Also, chapter 8 of the draft does say:
> >>
> >>"A SIP node MUST NOT send STUN requests over a flow unless 
> it has an 
> >>explicit indication that the target next hop SIP server claims to 
> >>support this specification.  Note that UACs MUST NOT use an 
> ambiguous 
> >>configuration option such as "Work through NATs?" or "Do 
> Keep alives?" 
> >>to imply next hop STUN support."
> > 
> >That text has been there for ages.  That is not new.
> 
> Exactly - so therfor I don't think the explicit configuration 
> you propose is appropriate :)
> 
> >>>>>I strongly think it should be possible to use STUN 
> keep-alives for 
> >>>>>"pure" signalling NAT traversal, even if the "rest" of 
> outbound is 
> >>>>>not used.
> >>>>>
> >>>>>So, while I DO agree with the Vancouver(?) decission to 
> not include 
> >>>>>any  "URI" keep parameter in the R-URI of the register 
> request, I 
> >>>>>think we  shall we keep the URI "keep" parameter definition, and 
> >>>>>e.g.
> > 
> >I'm pretty sure we had rough consensus to remove the parameter 
> >completely. I'll go dig up my notes and the minutes.  Maybe Francois 
> >can jump in here.
> 
> Maybe the problem is that we only discussed the usage of the 
> parameter in the R-URI, and when we agreed not to use it 
> there we forgot that it could actually be used in the Path header.
> 
> Regards,
> 
> Christer
> 
> 
> 
> 
> 
> 
> 
> 
> 
> 
> > >>>> allow it to  be inserted into the Path header (I don't
> > remember any
> > >>>> discussions  regarding removing that possibility) by 
> the outbound 
> > >>>> proxy, in order to  inform the UA that the outbound
> > proxy supports
> > >>>> STUN keep-alive.
> > >>>>
> > >>>> (OR, there should be another mechanism for the 
> outbound proxy to 
> > >>>> inform  the UA it supports STUN keep-alive)
> > >>
> > >> Currently, that other mechanism is out-of-band configuration.
> > >> We could also add another way to indicate this in the 
> future, but 
> > >> for know the WG seems happy with what we have.
> > >
> > > I don't understand "add in future". We already had a mechanism.
> > >
> > > This is what you, me and Cullen were discussing a long 
> time ago, and 
> > > we all agreed to :)
> > >
> > > One thing we in Vancouver DID agree to was that a 
> mechanism to also 
> > > indicate the keep-alive refresh timer value WOULD be a future 
> > > extension.
> > >
> > >
> > > Regards,
> > >
> > > Christer
> > >
> > >
> > >
> > >
> > >>>>  That would allow people to start using outbound for NAT
> > >> traversal,
> > >>>> even  if the registrars haven't yet been updated to
> > >> support outbound
> > >>>> etc.
> > >>>>
> > >>>>  At one point we decided that we will keep the STUN
> > >> keep-alive usage
> > >>>> and  outbound in the same spec, but that we will
> > describe the STUN
> > >>>> keep-alive  usage as a "stand alone" function (chapter 
> 8 of the 
> > >>>> draft). But, now you  have more or less "merged" the STUN
> > >> keep-alive
> > >>>> usage with the outbound  function, and that is bad.
> > >>>>
> > >>>>  Also, this change is not mentioned in the 
> > >>>> changes-since-the-previous-version part (if it is mentioned, I 
> > >>>> appologize for having missed it)
> > >>>>
> > >>>>  Regards,
> > >>>>
> > >>>>  Christer
> > >>>>  _______________________________________________
> > >>>>  Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> > >>>>  This list is for NEW development of the core SIP 
> Protocol  Use 
> > >>>> sip-implementors@cs.columbia.edu for questions on
> > current sip  Use
> > >>>> sipping@ietf.org for new developments on the application of sip
> > >>>>
> > >>
> > >>
> > 
> > 
> 
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu Mar  6 14:55:04 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 65C793A6B92;
	Thu,  6 Mar 2008 14:55:04 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -101.001
X-Spam-Level: 
X-Spam-Status: No, score=-101.001 tagged_above=-999 required=5
	tests=[AWL=-0.564, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id jN9bcVbf4O85; Thu,  6 Mar 2008 14:54:42 -0800 (PST)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 317DC3A6A72;
	Thu,  6 Mar 2008 14:54:42 -0800 (PST)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 091083A6B92
	for <sip@core3.amsl.com>; Thu,  6 Mar 2008 14:54:40 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 6LbSw89Rb8vW for <sip@core3.amsl.com>;
	Thu,  6 Mar 2008 14:54:38 -0800 (PST)
Received: from zcars04f.nortel.com (zcars04f.nortel.com [47.129.242.57])
	by core3.amsl.com (Postfix) with ESMTP id 95A9A3A6BB9
	for <sip@ietf.org>; Thu,  6 Mar 2008 14:54:33 -0800 (PST)
Received: from zrc2hxm0.corp.nortel.com (zrc2hxm0.corp.nortel.com
	[47.103.123.71])
	by zcars04f.nortel.com (Switch-2.2.6/Switch-2.2.0) with ESMTP id
	m26MsJM14001; Thu, 6 Mar 2008 22:54:19 GMT
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Thu, 6 Mar 2008 16:54:16 -0600
Message-ID: <1ECE0EB50388174790F9694F77522CCF1552C822@zrc2hxm0.corp.nortel.com>
In-Reply-To: <20080306215856.151EF1800B93@mail.iptel.org>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] keep-alive backwards compatibility in
	draft-ietf-sip-outbound-12.txt
Thread-Index: Ach/1VJOaGTyn8ELTr6s+g35dp2KJAABtztg
References: <20080303185301.8A6B61819D7F@mail.iptel.org>
	<1ECE0EB50388174790F9694F77522CCF1549EC14@zrc2hxm0.corp.nortel.com>
	<4AB05CEA-5C44-4D82-9A9F-DDE0A1BD4084@softarmor.com>
	<47D0321D.1080302@softarmor.com>
	<20080306215856.151EF1800B93@mail.iptel.org>
From: "Francois Audet" <audet@nortel.com>
To: "Jiri Kuthan" <jiri@iptel.org>, "Dean Willis" <dean.willis@softarmor.com>, 
	"Dean Willis" <dean.willis@softarmor.com>
Cc: sip@ietf.org, Rohan Mahy <rohan@ekabal.com>
Subject: Re: [Sip] keep-alive backwards compatibility in
	draft-ietf-sip-outbound-12.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Yeah, this is quite obscure (but I think Jiri's description is
overly complex).

I *think* that what we should say somewhere is the following:

- If this specification is supported by the registrar (as per presence of
  the Require: outbound in the 200 response to the Registration, then
  the UAC MUST do keep-alives as per section X.Y.

- In the keep-alive section, we could explain that while the keep alive
  described in this section were defined to be used by environments that
  supports this specification (Dhuh), using keep-alives in environments 
  registration as per this specification are not supported (explain how
  this is detected), is allowed if there is EXPLICIT knowledge that it is
  supported (as per the current text).

> -----Original Message-----
> From: Jiri Kuthan [mailto:jiri@iptel.org] 
> Sent: Thursday, March 06, 2008 13:59
> To: Dean Willis; Dean Willis
> Cc: Audet, Francois (SC100:3055); Rohan Mahy; sip@ietf.org
> Subject: Re: [Sip] keep-alive backwards compatibility in 
> draft-ietf-sip-outbound-12.txt
> 
> I have to admit this was too complicated for me too 
> understand. So basically UAC advertises downstream its 
> semi-transport-level keep-alive capability (CRLF/STUN) by the 
> way of app-level negotitation (reg-id), the downstream entity 
> (say a proxy-based load-balancer) signals its support for it 
> by adding PATH/ob, and the registrar UAS signals 
> load-balancer's support by Require:outbound?
> 
> So specifically if the registrar doesn't turn PATH/ob into 
> 200/Require/outbound, client shall not do ping-pong 
> keep-alive to its load-balancer?
> 
> If that's what it is, I understood the point now. 
> 
> Can someone explain to me what is the benefit of mixing 
> transport-level natping functionality with application-level 
> capabilty negotiation? My appologies if this has been 
> discussed in past years of outbound, but it is really hard to 
> understand for me. 
> 
> Thanks!
> 
> -jiri
> 
> 
> At 19:04 06/03/2008, Dean Willis wrote:
> 
> >I think we had a stale address for Jiri on this thread.
> >
> >He's been using jiri@iptel.org recently, and I'm getting no 
> DNS hit on 
> >fokus.
> >
> >
> >
> >Dean Willis wrote:
> >> 
> >> On Mar 5, 2008, at 7:00 PM, Francois Audet wrote:
> >> 
> >>> Jiri,
> >>>
> >>> On p.15 it is explained that the UAC looks at the presence of the 
> >>> Require: outbound field falue in a response to registration.
> >> 
> >>> This is to ensure that both the registrar and the edge proxy are 
> >>> compliant with this spec. The keep-alive would only be sent if 
> >>> present.
> >>>
> >> 
> >> I'm going to have to go study this, because ordinarily Require has 
> >> nothing to do with the edge proxy (which would have been 
> only looking 
> >> at Proxy-Require), and it's pretty much meaningless in responses 
> >> anyhow -- it's only processed in requests AFAIK.
> >> 
> >> I think we're trying to catch fish with a bullet again.
> >> 
> >> --
> >> Dean
> >> 
> 
> 
> 
> --
> Jiri Kuthan            http://iptel.org/~jiri/
> 
> 
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu Mar  6 16:42:05 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id C0C0528C9A0;
	Thu,  6 Mar 2008 16:42:05 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.357
X-Spam-Level: 
X-Spam-Status: No, score=-100.357 tagged_above=-999 required=5
	tests=[AWL=0.080, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id bwQL97tWPTn8; Thu,  6 Mar 2008 16:42:04 -0800 (PST)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 285693A6B92;
	Thu,  6 Mar 2008 16:42:04 -0800 (PST)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 4A4CA28C953
	for <sip@core3.amsl.com>; Thu,  6 Mar 2008 16:42:02 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id iz91DUNrCs15 for <sip@core3.amsl.com>;
	Thu,  6 Mar 2008 16:42:01 -0800 (PST)
Received: from romeo.rtfm.com (unknown [74.95.2.173])
	by core3.amsl.com (Postfix) with ESMTP id F0AFF3A6ADB
	for <sip@ietf.org>; Thu,  6 Mar 2008 16:42:00 -0800 (PST)
Received: from romeo.rtfm.com (localhost.rtfm.com [127.0.0.1])
	by romeo.rtfm.com (Postfix) with ESMTP id 4D78F5081A;
	Thu,  6 Mar 2008 16:46:47 -0800 (PST)
Date: Thu, 06 Mar 2008 16:46:47 -0800
From: Eric Rescorla <ekr@networkresonance.com>
To: sip@ietf.org
User-Agent: Wanderlust/2.14.0 (Africa) Emacs/21.3 Mule/5.0 (SAKAKI)
MIME-Version: 1.0 (generated by SEMI 1.14.6 - "Maruoka")
Message-Id: <20080307004647.4D78F5081A@romeo.rtfm.com>
Cc: draft-ietf-sip-outbound@tools.ietf.org
Subject: [Sip] Review of draft-ietf-sip-outbound-12
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

$Id: draft-ietf-sip-outbound-12-rev.txt,v 1.3 2008/03/07 00:23:20 ekr Exp $

S 1.
   possible.  This can happen for several reasons.  Connections to the
   UA can be blocked by a firewall device between the UA and the proxy
   or registrar, which will only allow new connections in the direction
   of the UA to the Proxy.  Similarly a NAT could be present, which is
   only capable of allowing new connections from the private address
   side to the public side.  This specification allows a SIP User Agent

Suggest rewrite:

   This can happen for several reasons, but the most likely is a
   NAT or a firewall in between the SIP UA and the proxy. Many
   such devices will only allow outgoing connections.
   This specification allows a SIP User Agent


   datagrams, a TCP connection, or an analogous concept of another
s/of/for/


S 2.1.
   Authoritative Proxy:  A proxy that handles non-REGISTER requests for
      a specific Address-of-Record (AOR), performs the logical Location
      Server lookup described in RFC 3261, and forwards those requests
      to specific Contact URIs.

Are you saying it doesn't handle REGISTERs too, or merely that
it might not?


S 3.1.
   is power cycled.  Each UA can register multiple times over different
   connections for the same SIP Address of Record (AOR) to achieve high

s/connections/flows/


   can use the instance-id to recognize that two different registrations

s/registrations/registrations (flows)/, perhaps?


   When sending a dialog-forming request, a UA can also ask its first

First == Closest? Highest priority?


   UAs can use a simple periodic message as a keep alive mechanism to

can? Isn't this no longer optional?


S 3.3.
   Scalability is achieved by using DNS SRV [RFC2782] to load balance
   the primary connection across a set of machines that can service the
   primary connection, and also using DNS SRV to load balance across a
   separate set of machines that can service the secondary connection.
   The deployment here requires that DNS is configured with one entry
   that resolves to all the primary hosts and another entry that
   resolves to all the secondary hosts.  While this introduces
   additional DNS configuration, the approach works and requires no
   additional SIP extensions.

      Note:  Approaches which select multiple connections from a single
      DNS SRV set were also considered, but cannot prevent two
      connections from accidentally resolving to the same host.  The
      approach in this document does not prevent future extensions, such
      as the SIP UA configuration framework
      [I-D.ietf-sipping-config-framework], from adding other ways for a
      User Agent to discover its outbound-proxy-set.

I don't actually think this note makes sense, since SRV can 
distinguish multiple servers. I think I understand why the
protocol is designed this way, but I would just remove the
Note.


S 3.4.
   The Edge Proxy includes a Path header [RFC3327] so that
   when the registrar later forwards a request to this UA, the request
   is routed through the Edge Proxy.

I would move this to after the diagram. The rest of this graf is setup.


S 3.5.
   This document describes three keep alive mechanisms. 

I would insert after this a list of thee mechanisms.



S 4.2.3.
   A User Agent MUST NOT include a reg-id header parameter in the
   Contact header field of a registration with a non-zero expiration, if
   the registering UA is not the same instance as the UA referred to by
   the target Contact header field.  (This practice is occasionally used
   to install forwarding policy into registrars.)

This is pretty hard to parse. Can you rewrite.


S 4.4.
   If no Flow-Timer header field was present in a register response for
   this flow, the UA can send keepalives at its discretion.  The rest of
   this paragraph provides RECOMMENDED default values for these
   keepalives.  The time between each keep alive request when using non
   connection based transports such as UDP SHOULD be a random number
   between 24 and 29 seconds.  For connection based transports such as
   TCP, correct selection of keepalive frequency is primarily a trade-
   off between battery usage and availability.  For devices where power
   is not a significant concern, the UA SHOULD select a random number
   between 95 and 120 seconds between keepalives.  When battery power is
   a concern, the UA SHOULD select a random number between 672 and 840
   seconds (14 minutes).  These times MAY be configurable.  To clarify,
   the random number will be different for each keepalive ping.

Why not move these definitions to the CRLF and STUN sections. I think
that will be more readable.


S 5.1.
   When an Edge Proxy receives a registration request with a reg-id
   header parameter in the Contact header field, it needs to determine
   if it (the edge proxy) will have to be visited for any subsequent
   requests sent to the user agent identified in the Contact header
   field, or not.  If the Edge Proxy determines that this is the case,
   it inserts its URI in a Path header field value as described in RFC
   3327 [RFC3327].  If the Edge Proxy is the first SIP node after the
   UAC, it either MUST store a "flow token" (containing information
   about the flow from the previous hop) in its Path URI or reject the
   request. 

I'm having trouble parsing this graf. How is the proxy supposed to
make the determination in sentence 1? Is sentence 3 the rule
for making that determination?


S 5.3.
   If the Route header value contains an 'ob' parameter, the Route
   header was probably copied from the Path header in a registration.
   If this is the case and the request is a new dialog-forming request,
   the proxy needs to adjust the route set to insure that subsequent
   requests in the dialog can be delivered over a valid flow to the UA
   instance identified by the flow token.

I am having trouble reading this too. Does "this" in the second
sentence refer to the presence of 'ob' or to the Route header
having been copied? If the latter, how is the determination
made?


   If the flow in the flow token in the topmost Route header field value
   matches the source IP address and port of the request, the request is
   an "outgoing" request.  For an "outgoing" request, the edge proxy
   just removes the Route header and continues processing the request.
   Otherwise, this is an "incoming" request.  For an incoming request,
   the proxy removes the Route header field value and forwards the
   request over the 'logical flow' identified by the flow token, that is

the flow isn't "in" the flow token, right? It just corresponds
to it. Also, is this "if" or is it "iff"?

I would bulletize this list like so:


   If the flow in the flow token in the topmost Route header field value
   matches the source IP address and port of the request, the request is
   an "outgoing" request.  

   - For an "outgoing" request, the edge proxy
   just removes the Route header and continues processing the request.
   
   - For an incoming request,
   the proxy removes the Route header field value and forwards the
   request over the 'logical flow' identified by the flow token, that is


   Example Algorithm:  To decode the flow token, take the flow
      identifier in the user portion of the URI and base64 decode it,
      then verify the HMAC is correct by recomputing the HMAC and
      checking that it matches.  If the HMAC is not correct, the proxy
      SHOULD send a 403 (Forbidden) response.  (The proxy could ignore
      such requests for prevention of denial of service attacks.)  If
      the HMAC is correct then the proxy SHOULD forward the request on
      the flow that was specified by the information in the flow
      identifier.  If this flow no longer exists, the proxy SHOULD send
      a 430 (Flow Failed) response to the request.

The last two sentences are not part of the decoding algorithm.
They're generic instructions for how to handle valid flow tokens.
They should be moved out of this graf. Also, it's not clear to
me why the parenthetical significantl improves Dos resistance.


   Note that this specification needs mid-dialog requests to be routed
   over the same flows as those stored in the Path vector from the
   initial registration, but specific procedures at the edge proxy to
   ensure that mid-dialog requests are routed over an existing flow are
   not part of this specification.  However, an approach such as having
   the Edge Proxy add a Record-Route header with a flow token is one way
   to ensure that mid-dialog requests are routed over the correct flow.
   The Edge Proxy can use the presence of the "ob" parameter in dialog-
   forming requests in the UAC's Contact URI (or topmost Route header
   field) to determine if it should add a flow token.

I would rewrite the first sentence normatively and then have the rest 
of the graf as a implementation note.


S 6.
I don't think it's helpful to write this as a series of steps.
That's an implementation issue. Rather, describe the cases
and let the implementor work it out for themselves.


   Contact header contains more than one header field value with a non-
   zero expiration and a 'reg-id' parameter, the entire registration
   SHOULD be rejected with a 400 Bad Request response.  If the Contact

Why?


 If the Contact header field does not
   contain a '+sip.instance' media feature parameter, the registrar
   processes the request using the Contact binding rules in RFC 3261
   [RFC3261].

Isn't this really the high order bit? Maybe it should be moved
up to the front.


S 7.
      Typically this means that for TCP, the request is sent on the same
      TCP socket that received the REGISTER request.  For UDP, the
      request is sent from the same local IP address and port over which
      the registration was received, to the same IP address and port
      from which the REGISTER was received.

This is an implementation note? Maybe say so...


S 9.
The first set of examples where you fetch the profile seems
superfluous. There are other ways for the UAC to get config
information and this is not part of this spec.

-Ekr
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu Mar  6 19:24:44 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id F1B4F28CA0F;
	Thu,  6 Mar 2008 19:24:43 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.593
X-Spam-Level: 
X-Spam-Status: No, score=-100.593 tagged_above=-999 required=5
	tests=[AWL=-0.156, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id jq03LegkLAA5; Thu,  6 Mar 2008 19:24:43 -0800 (PST)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 0D7D628C976;
	Thu,  6 Mar 2008 19:24:43 -0800 (PST)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 017CD3A6C48
	for <sip@core3.amsl.com>; Thu,  6 Mar 2008 19:24:41 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id JSj9Bvel+p4Q for <sip@core3.amsl.com>;
	Thu,  6 Mar 2008 19:24:40 -0800 (PST)
Received: from nylon.softarmor.com (nylon.softarmor.com [66.135.38.164])
	by core3.amsl.com (Postfix) with ESMTP id 10CA228C50C
	for <sip@ietf.org>; Thu,  6 Mar 2008 19:24:40 -0800 (PST)
Received: from [192.168.2.100] (cpe-76-185-142-113.tx.res.rr.com
	[76.185.142.113]) (authenticated bits=0)
	by nylon.softarmor.com (8.13.8/8.13.8/Debian-3) with ESMTP id
	m273OK5R028160
	(version=TLSv1/SSLv3 cipher=AES128-SHA bits=128 verify=NOT);
	Thu, 6 Mar 2008 21:24:22 -0600
Message-Id: <2A35FBE3-A453-427E-9061-C82BF4B993F6@softarmor.com>
From: Dean Willis <dean.willis@softarmor.com>
To: Francois Audet <audet@nortel.com>
In-Reply-To: <1ECE0EB50388174790F9694F77522CCF1552C822@zrc2hxm0.corp.nortel.com>
Mime-Version: 1.0 (Apple Message framework v919.2)
Date: Thu, 6 Mar 2008 21:24:14 -0600
References: <20080303185301.8A6B61819D7F@mail.iptel.org>
	<1ECE0EB50388174790F9694F77522CCF1549EC14@zrc2hxm0.corp.nortel.com>
	<4AB05CEA-5C44-4D82-9A9F-DDE0A1BD4084@softarmor.com>
	<47D0321D.1080302@softarmor.com>
	<20080306215856.151EF1800B93@mail.iptel.org>
	<1ECE0EB50388174790F9694F77522CCF1552C822@zrc2hxm0.corp.nortel.com>
X-Mailer: Apple Mail (2.919.2)
Cc: Rohan Mahy <rohan@ekabal.com>, sip@ietf.org
Subject: Re: [Sip] keep-alive backwards compatibility in
	draft-ietf-sip-outbound-12.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


On Mar 6, 2008, at 4:54 PM, Francois Audet wrote:

> Yeah, this is quite obscure (but I think Jiri's description is
> overly complex).
>
> I *think* that what we should say somewhere is the following:
>
> - If this specification is supported by the registrar (as per  
> presence of
>  the Require: outbound in the 200 response to the Registration, then
>  the UAC MUST do keep-alives as per section X.Y.

That can't be quite right. The registrar might support keepalive, but  
the edge proxy might not.

I believe Rohan's explanation indicated that the Require: outbound  
would only be in the 200 OK response to REGISTER if both the edge  
proxy and the registrar support it.
>

So using your terminology:

  If this specification is supported by the UAC, the edge proxy (if  
present) and the registrar, then there will be a Require: outbound in  
the 200 response to the Registration indicating that
  the UAC MUST do keep-alives as per section X.Y.

--
Dean

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu Mar  6 20:13:28 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 2DF7528CA14;
	Thu,  6 Mar 2008 20:13:28 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.986
X-Spam-Level: 
X-Spam-Status: No, score=-100.986 tagged_above=-999 required=5
	tests=[AWL=-0.549, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 8vIAXbvDfDlj; Thu,  6 Mar 2008 20:13:27 -0800 (PST)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 41D363A6AC3;
	Thu,  6 Mar 2008 20:13:27 -0800 (PST)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 396283A6AE3
	for <sip@core3.amsl.com>; Thu,  6 Mar 2008 20:13:25 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id l737YULyRnKy for <sip@core3.amsl.com>;
	Thu,  6 Mar 2008 20:13:24 -0800 (PST)
Received: from zrtps0kn.nortel.com (zrtps0kn.nortel.com [47.140.192.55])
	by core3.amsl.com (Postfix) with ESMTP id 48B1B3A6AC3
	for <sip@ietf.org>; Thu,  6 Mar 2008 20:13:24 -0800 (PST)
Received: from zrc2hxm0.corp.nortel.com (zrc2hxm0.corp.nortel.com
	[47.103.123.71])
	by zrtps0kn.nortel.com (Switch-2.2.6/Switch-2.2.0) with ESMTP id
	m274D9D25027; Fri, 7 Mar 2008 04:13:09 GMT
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Thu, 6 Mar 2008 22:13:08 -0600
Message-ID: <1ECE0EB50388174790F9694F77522CCF1552CBCF@zrc2hxm0.corp.nortel.com>
In-Reply-To: <2A35FBE3-A453-427E-9061-C82BF4B993F6@softarmor.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] keep-alive backwards compatibility in
	draft-ietf-sip-outbound-12.txt
Thread-Index: AciAAsSV2s7UCVkNTzugTeiCCXugDAABsOgA
References: <20080303185301.8A6B61819D7F@mail.iptel.org>
	<1ECE0EB50388174790F9694F77522CCF1549EC14@zrc2hxm0.corp.nortel.com>
	<4AB05CEA-5C44-4D82-9A9F-DDE0A1BD4084@softarmor.com>
	<47D0321D.1080302@softarmor.com>
	<20080306215856.151EF1800B93@mail.iptel.org>
	<1ECE0EB50388174790F9694F77522CCF1552C822@zrc2hxm0.corp.nortel.com>
	<2A35FBE3-A453-427E-9061-C82BF4B993F6@softarmor.com>
From: "Francois Audet" <audet@nortel.com>
To: "Dean Willis" <dean.willis@softarmor.com>
Cc: Rohan Mahy <rohan@ekabal.com>, sip@ietf.org
Subject: Re: [Sip] keep-alive backwards compatibility in
	draft-ietf-sip-outbound-12.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

That works for me. 

> -----Original Message-----
> From: Dean Willis [mailto:dean.willis@softarmor.com] 
> Sent: Thursday, March 06, 2008 19:24
> To: Audet, Francois (SC100:3055)
> Cc: Jiri Kuthan; Rohan Mahy; sip@ietf.org
> Subject: Re: [Sip] keep-alive backwards compatibility in 
> draft-ietf-sip-outbound-12.txt
> 
> 
> On Mar 6, 2008, at 4:54 PM, Francois Audet wrote:
> 
> > Yeah, this is quite obscure (but I think Jiri's description 
> is overly 
> > complex).
> >
> > I *think* that what we should say somewhere is the following:
> >
> > - If this specification is supported by the registrar (as 
> per presence 
> > of  the Require: outbound in the 200 response to the Registration, 
> > then  the UAC MUST do keep-alives as per section X.Y.
> 
> That can't be quite right. The registrar might support 
> keepalive, but the edge proxy might not.
> 
> I believe Rohan's explanation indicated that the Require: 
> outbound would only be in the 200 OK response to REGISTER if 
> both the edge proxy and the registrar support it.
> >
> 
> So using your terminology:
> 
>   If this specification is supported by the UAC, the edge proxy (if
> present) and the registrar, then there will be a Require: 
> outbound in the 200 response to the Registration indicating that
>   the UAC MUST do keep-alives as per section X.Y.
> 
> --
> Dean
> 
> 
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu Mar  6 21:17:13 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id A33763A6B19;
	Thu,  6 Mar 2008 21:17:13 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -99.378
X-Spam-Level: 
X-Spam-Status: No, score=-99.378 tagged_above=-999 required=5
	tests=[AWL=-0.540, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, HTML_MESSAGE=1, J_CHICKENPOX_66=0.6,
	RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id fS5PXztE8vhD; Thu,  6 Mar 2008 21:17:12 -0800 (PST)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id CF61B3A69B5;
	Thu,  6 Mar 2008 21:17:12 -0800 (PST)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id B11043A69B5
	for <sip@core3.amsl.com>; Thu,  6 Mar 2008 21:17:11 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 7ouYIDbu4s9w for <sip@core3.amsl.com>;
	Thu,  6 Mar 2008 21:17:11 -0800 (PST)
Received: from wf-out-1314.google.com (wf-out-1314.google.com [209.85.200.174])
	by core3.amsl.com (Postfix) with ESMTP id 0BB023A6821
	for <sip@ietf.org>; Thu,  6 Mar 2008 21:17:11 -0800 (PST)
Received: by wf-out-1314.google.com with SMTP id 25so353113wfa.31
	for <sip@ietf.org>; Thu, 06 Mar 2008 21:17:00 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=gamma;
	h=domainkey-signature:received:received:message-id:date:from:to:subject:mime-version:content-type;
	bh=poFelTVs9haBefNiNSbUF6mjkd6sZy3fTQOcXvAG7gk=;
	b=eQSCWT0OgELvjORDV4Rs0zZrOdKhC5WHfCZRAY5AQeJvXoD4ry4QE1ej/oJ2HGF9pg0bPWIu52R/yOcqbNSNjqupaMzcTBmK7yIeqvuDJ/9tn0jvwdYklOnmShq0u/hTW1HnLlFWDQdbU/Dv4IgA6Lmc213DAHrzHcwh2H3ZCIs=
DomainKey-Signature: a=rsa-sha1; c=nofws; d=gmail.com; s=gamma;
	h=message-id:date:from:to:subject:mime-version:content-type;
	b=Zduazl839KHKxU0yutEKE6A7wRw/Xj5lqsjNP2P/7c9Irfsr8XGv2No0QsMU4iFem5y3F/PXCjYAzhfE2t4zk+6z4QqqUxUQKc3DH8/8WdvdAQW8Hi845qtcJCCnAiZ19iDO2EXHl3KRlJqyHy0HDolZ9NFZ93QB19Hw2O4uHrw=
Received: by 10.142.79.15 with SMTP id c15mr430945wfb.105.1204867020692;
	Thu, 06 Mar 2008 21:17:00 -0800 (PST)
Received: by 10.142.72.11 with HTTP; Thu, 6 Mar 2008 21:17:00 -0800 (PST)
Message-ID: <42e0231a0803062117u5229ff5cv2ee141b4171aa8cb@mail.gmail.com>
Date: Fri, 7 Mar 2008 10:47:00 +0530
From: "preethy varghese" <preethypv@gmail.com>
To: sip@ietf.org
MIME-Version: 1.0
Subject: [Sip] Call flow of conference
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: multipart/mixed; boundary="===============0356043276=="
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

--===============0356043276==
Content-Type: multipart/alternative; 
	boundary="----=_Part_2079_13892469.1204867020664"

------=_Part_2079_13892469.1204867020664
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Hi,
     Could someone explain me the call flows of conference. Which is best
and common among isfocus and user agent awared method?Thanks in advance.

Preethy

------=_Part_2079_13892469.1204867020664
Content-Type: text/html; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Hi,<br>&nbsp;&nbsp;&nbsp;&nbsp; Could someone explain me the call flows of conference. Which is best and common among isfocus and user agent awared method?Thanks in advance.<br><br>Preethy<br>&nbsp;&nbsp;&nbsp;&nbsp; <br>

------=_Part_2079_13892469.1204867020664--

--===============0356043276==
Content-Type: text/plain; charset="us-ascii"
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip
--===============0356043276==--


From sip-bounces@ietf.org  Thu Mar  6 22:49:49 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 14B4E28C40F;
	Thu,  6 Mar 2008 22:49:49 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.638
X-Spam-Level: 
X-Spam-Status: No, score=-100.638 tagged_above=-999 required=5
	tests=[AWL=-0.201, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 8dRwLpsNLz4f; Thu,  6 Mar 2008 22:49:48 -0800 (PST)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 05FBB3A6AEE;
	Thu,  6 Mar 2008 22:49:48 -0800 (PST)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id A5A953A6AEE;
	Thu,  6 Mar 2008 22:49:46 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id FoxzBahNw2HP; Thu,  6 Mar 2008 22:49:46 -0800 (PST)
Received: from mgw-mx03.nokia.com (smtp.nokia.com [192.100.122.230])
	by core3.amsl.com (Postfix) with ESMTP id 987CE3A6AC2;
	Thu,  6 Mar 2008 22:49:45 -0800 (PST)
Received: from esebh105.NOE.Nokia.com (esebh105.ntc.nokia.com [172.21.138.211])
	by mgw-mx03.nokia.com (Switch-3.2.6/Switch-3.2.6) with ESMTP id
	m276nF7n032034; Fri, 7 Mar 2008 08:49:32 +0200
Received: from esebh104.NOE.Nokia.com ([172.21.143.34]) by
	esebh105.NOE.Nokia.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Fri, 7 Mar 2008 08:49:14 +0200
Received: from esebh101.NOE.Nokia.com ([172.21.138.177]) by
	esebh104.NOE.Nokia.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Fri, 7 Mar 2008 08:49:14 +0200
Received: from mgw-int01.ntc.nokia.com ([172.21.143.96]) by
	esebh101.NOE.Nokia.com over TLS secured channel with Microsoft
	SMTPSVC(6.0.3790.1830); Fri, 7 Mar 2008 08:49:14 +0200
Received: from [172.21.40.116] (esdhcp040116.research.nokia.com
	[172.21.40.116])
	by mgw-int01.ntc.nokia.com (Switch-3.2.5/Switch-3.2.5) with ESMTP id
	m276nCtm028693; Fri, 7 Mar 2008 08:49:12 +0200
From: Aki Niemi <aki.niemi@nokia.com>
To: "ext sip-bounces@ietf.org" <sip-bounces@ietf.org>
Cc: sip@ietf.org
In-Reply-To: <200803062110.m26LAU0n022318@dragon.ariadne.com>
References: <20080303183225.D04A35081A@romeo.rtfm.com>
	<1204628885.15582.7.camel@localhost>
	<20080304151905.4EE005081A@romeo.rtfm.com>
	<1204661227.15582.78.camel@localhost>
	<20080304202005.ADD0C5081A@romeo.rtfm.com>
	<1204663441.15582.107.camel@localhost>
	<20080304205516.B737E5081A@romeo.rtfm.com>
	<1204724689.5302.38.camel@localhost>
	<9B149569-37A9-402B-BAB1-BB963CA3D477@softarmor.com>
	<200803060442.m264gqqP014900@dragon.ariadne.com>
	<1204789987.5302.81.camel@localhost>
	<200803062110.m26LAU0n022318@dragon.ariadne.com>
Organization: Nokia Devices R&D
Date: Fri, 07 Mar 2008 08:49:03 +0200
Message-Id: <1204872543.28304.18.camel@localhost>
Mime-Version: 1.0
X-Mailer: Evolution 2.12.1 
X-OriginalArrivalTime: 07 Mar 2008 06:49:14.0351 (UTC)
	FILETIME=[5B42DFF0:01C8801F]
X-Nokia-AV: Clean
Subject: Re: [Sip] Question on subnot-etags
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


On to, 2008-03-06 at 16:10 -0500, ext sip-bounces@ietf.org wrote:
>    > This is particularly unfortunate because the version attribute does
>    > not carry information that is important to the application; it is
>    > control information that is largely redundant with the ETags mechanism
>    > itself.
> 
>    Um, the 'version' parameter is largely redundant with the CSeq.
> 
> Unfortunately it's not.  But that isn't relevant.  The 'version'
> parameter is *mandatory* for some event packages, and it makes ETags
> (as they are now defined) nearly useless for those packages.

Huh? I don't understand. Let's say I subscriber to some resource's
dialog state. The first NOTIFY carries the current state, and comes with
an etag. I refresh the subscription, and use Suppress-If-Match with that
etag. If the state has not changed, I won't get a notification. If I
choose to poll, the same thing will happen. I.e., I won't get a NOTIFY
but a 204 response to the SUBSCRIBE.

It seems I'm constantly paraphrasing the draft as we discuss this; there
are example message flows in the draft that show exactly how this works.
Can you walk me through an example of how etags won't work, please? 

Cheers,
Aki

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu Mar  6 22:54:36 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 7523E28C460;
	Thu,  6 Mar 2008 22:54:36 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.646
X-Spam-Level: 
X-Spam-Status: No, score=-100.646 tagged_above=-999 required=5
	tests=[AWL=-0.209, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id QBbKj5ds5nSZ; Thu,  6 Mar 2008 22:54:35 -0800 (PST)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 701153A6D57;
	Thu,  6 Mar 2008 22:54:35 -0800 (PST)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 122153A69BF
	for <sip@core3.amsl.com>; Thu,  6 Mar 2008 22:54:34 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 1iLl+Ag92IcD for <sip@core3.amsl.com>;
	Thu,  6 Mar 2008 22:54:33 -0800 (PST)
Received: from mgw-mx03.nokia.com (smtp.nokia.com [192.100.122.230])
	by core3.amsl.com (Postfix) with ESMTP id E493D28C45B
	for <sip@ietf.org>; Thu,  6 Mar 2008 22:53:59 -0800 (PST)
Received: from esebh106.NOE.Nokia.com (esebh106.ntc.nokia.com [172.21.138.213])
	by mgw-mx03.nokia.com (Switch-3.2.6/Switch-3.2.6) with ESMTP id
	m276rOI2003329; Fri, 7 Mar 2008 08:53:44 +0200
Received: from esebh104.NOE.Nokia.com ([172.21.143.34]) by
	esebh106.NOE.Nokia.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Fri, 7 Mar 2008 08:53:24 +0200
Received: from mgw-int02.ntc.nokia.com ([172.21.143.97]) by
	esebh104.NOE.Nokia.com over TLS secured channel with Microsoft
	SMTPSVC(6.0.3790.1830); Fri, 7 Mar 2008 08:53:24 +0200
Received: from [172.21.40.116] (esdhcp040116.research.nokia.com
	[172.21.40.116])
	by mgw-int02.ntc.nokia.com (Switch-3.2.5/Switch-3.2.5) with ESMTP id
	m276rMmN004628; Fri, 7 Mar 2008 08:53:22 +0200
From: Aki Niemi <aki.niemi@nokia.com>
To: ext Dean Willis <dean.willis@softarmor.com>
In-Reply-To: <47D0333C.8050306@softarmor.com>
References: <20080303183225.D04A35081A@romeo.rtfm.com>
	<1204628885.15582.7.camel@localhost>
	<20080304151905.4EE005081A@romeo.rtfm.com>
	<1204661227.15582.78.camel@localhost>
	<20080304202005.ADD0C5081A@romeo.rtfm.com>
	<1204663441.15582.107.camel@localhost>
	<20080304205516.B737E5081A@romeo.rtfm.com>
	<1204724689.5302.38.camel@localhost>
	<9B149569-37A9-402B-BAB1-BB963CA3D477@softarmor.com>
	<1204789154.5302.73.camel@localhost> <47D0333C.8050306@softarmor.com>
Organization: Nokia Devices R&D
Date: Fri, 07 Mar 2008 08:53:13 +0200
Message-Id: <1204872793.28304.23.camel@localhost>
Mime-Version: 1.0
X-Mailer: Evolution 2.12.1 
X-OriginalArrivalTime: 07 Mar 2008 06:53:24.0291 (UTC)
	FILETIME=[F03CB130:01C8801F]
X-Nokia-AV: Clean
Cc: sip@ietf.org
Subject: Re: [Sip] Question on subnot-etags
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


On to, 2008-03-06 at 12:09 -0600, ext Dean Willis wrote:
> > There *really* is no comparison done; the subscriber throws away the old
> > state when a NOTIFY is received, and stores the new state. (In the case
> > of partial notification, there's also patching done, but still no
> > comparison of etags). 
> 
> So if a changed etag doesn't mean the content changed, what the heck are
> we sending an etag for?

We're sending it so that the next time the subscriber sends a SUBSCRIBE,
it can say: "Here's the last entity I've seen. Suppress-If-Match,
please". 

Cheers,
Aki 

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu Mar  6 23:52:13 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 6EE5028C73E;
	Thu,  6 Mar 2008 23:52:13 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.774
X-Spam-Level: 
X-Spam-Status: No, score=-100.774 tagged_above=-999 required=5
	tests=[AWL=-0.337, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 3Ty6k6eWgO40; Thu,  6 Mar 2008 23:52:11 -0800 (PST)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 54D5628C985;
	Thu,  6 Mar 2008 23:52:11 -0800 (PST)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id D907F3A6920
	for <sip@core3.amsl.com>; Thu,  6 Mar 2008 23:52:08 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id GbroUw5fLTCq for <sip@core3.amsl.com>;
	Thu,  6 Mar 2008 23:52:07 -0800 (PST)
Received: from mailgw4.ericsson.se (mailgw4.ericsson.se [193.180.251.62])
	by core3.amsl.com (Postfix) with ESMTP id B64DE3A6CF0
	for <sip@ietf.org>; Thu,  6 Mar 2008 23:52:06 -0800 (PST)
Received: from mailgw4.ericsson.se (unknown [127.0.0.1])
	by mailgw4.ericsson.se (Symantec Mail Security) with ESMTP id
	C5DFD2212D; Fri,  7 Mar 2008 08:46:57 +0100 (CET)
X-AuditID: c1b4fb3e-ab192bb000004ec0-70-47d0f2f1e654
Received: from esealmw128.eemea.ericsson.se (unknown [153.88.254.121])
	by mailgw4.ericsson.se (Symantec Mail Security) with ESMTP id
	A70D72211A; Fri,  7 Mar 2008 08:46:57 +0100 (CET)
Received: from esealmw113.eemea.ericsson.se ([153.88.200.4]) by
	esealmw128.eemea.ericsson.se with Microsoft SMTPSVC(6.0.3790.1830); 
	Fri, 7 Mar 2008 08:46:57 +0100
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Fri, 7 Mar 2008 08:46:55 +0100
Message-ID: <CA9998CD4A020D418654FCDEF4E707DF04F7F548@esealmw113.eemea.ericsson.se>
In-Reply-To: <1ECE0EB50388174790F9694F77522CCF1552C7E3@zrc2hxm0.corp.nortel.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] Outbound-12: STUN keep-alives without outbound
thread-index: Ach/t/REhI3J96MATXSzJX83BShTzAAAKexAAAhL5wAAEzTNsA==
References: <20080303185301.8A6B61819D7F@mail.iptel.org>
	<1ECE0EB50388174790F9694F77522CCF1549EC14@zrc2hxm0.corp.nortel.com>
	<CA9998CD4A020D418654FCDEF4E707DF04F13E49@esealmw113.eemea.ericsson.se>
	<458913680803060824m23e10d7eqa861a21266eb50b@mail.gmail.com>
	<4E690AA1-9E99-490D-B5EA-E4895E0B675A@ekabal.com>
	<CA9998CD4A020D418654FCDEF4E707DF04F7EF77@esealmw113.eemea.ericsson.se>
	<FFDDF533-F69C-4EC0-B19F-552373DF8035@ekabal.com>
	<CA9998CD4A020D418654FCDEF4E707DF04F7F043@esealmw113.eemea.ericsson.se>
	<1ECE0EB50388174790F9694F77522CCF1552C7E3@zrc2hxm0.corp.nortel.com>
From: "Christer Holmberg" <christer.holmberg@ericsson.com>
To: "Francois Audet" <audet@nortel.com>,
	"Rohan Mahy" <rohan@ekabal.com>
X-OriginalArrivalTime: 07 Mar 2008 07:46:57.0271 (UTC)
	FILETIME=[6B528870:01C88027]
X-Brightmail-Tracker: AAAAAA==
Cc: sip@ietf.org, Cullen Jennings <fluffy@cisco.com>,
	Xavier Marjou <xavier.marjou@orange-ftgroup.com>
Subject: Re: [Sip] Outbound-12: STUN keep-alives without outbound
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


Francois,

I am not following you...

Why do we then need the "ob" parameter? Why should the outbound proxy
"on the wire" be able to say "I want to do outbound"?

Why not simply use configuration?

And, the parameter would NOT say "I want to do outbound, but just the
keep-alive". It would say "I want to do keep-alive", which we along time
ago agreed is a stand-alone function, and not part of outbound itself. I
don't remember any change of that decission.

Also, I don't agree this is a "corner case". STUN keep-alive is pretty
much the only signalling keep-alive mechanism we have specified for SIP,
and there are people who want to use it for that.

Regards,

Christer


> -----Original Message-----
> From: Francois Audet [mailto:audet@nortel.com] 
> Sent: 7. maaliskuuta 2008 0:45
> To: Christer Holmberg; Rohan Mahy
> Cc: Xavier Marjou; sip@ietf.org; Cullen Jennings
> Subject: RE: [Sip] Outbound-12: STUN keep-alives without outbound
> 
> Yes, we had agreed to remove keep altogether.
> 
> Using parameters for the job of something that logically 
> belongs to configuration is futile and harmful as it would 
> result in infinite-length URIs or other field.
> 
> I can also garantee that everybody that presents a concept 
> will somehow believe that this particular concept is worthy 
> of being a parameter while the other guy's concept is 
> inferior and doesn't warrant it.
> 
> I think the point of the text was that it shouldn't be an 
> AMBIGUOUS parameter, but instead a EXPLICIT parameter.
> 
> So, this paragraph is completely accurate:
> 	A SIP node MUST NOT send STUN requests over a flow unless 
>       it has an explicit indication that the target next hop 
> SIP server 
>       claims to support this specification. Note that UACs 
> MUST NOT use 
>       an ambiguous configuration option such as "Work through 
> NATs?" or "Do >       Keep alives?" to imply next hop STUN support.
> 
> But it would be clearer if we added the following sentence at the end:
> 	Rather than an ambiguous configuration option, it MUST 
> be an explicit
>       configuration such as "Server supports RFC XXX CRLF 
> keep-alives? 
>       without RFC XXX registration procedures?".
> 
> I really do believe that a parameter "on the wire" for such a 
> corner case (i.e., "I want to do outbound, but just the 
> keep-alive") is absolutely not warranted.
> 
>  
> 
> > -----Original Message-----
> > From: Christer Holmberg [mailto:christer.holmberg@ericsson.com] 
> > Sent: Thursday, March 06, 2008 10:38
> > To: Rohan Mahy
> > Cc: Xavier Marjou; Audet, Francois (SC100:3055); 
> > sip@ietf.org; Cullen Jennings
> > Subject: RE: [Sip] Outbound-12: STUN keep-alives without outbound
> > 
> > 
> > Hi, 
> > 
> > >>>>>I have big issues with the keep-alive change in the 
> -12 version.
> > >>>>>
> > >>>>>Because, now the STUN keep-alives usage can't be 
> applied between 
> > >>>>>the UA  and outbound proxy, unless the registrar 
> > supports outbound.
> > >>>
> > >>>What gave you that impression Christer?  By my read that 
> is still 
> > >>>allowed if the UA has explicit configuration that its next-hop 
> > >>>support keepalives:
> > >>
> > >>Of course, but previously we had a mechanism for the 
> > outbound proxy to
> > 
> > >>actually indicate support.
> > >>
> > >>Also, chapter 8 of the draft does say:
> > >>
> > >>"A SIP node MUST NOT send STUN requests over a flow unless 
> > it has an 
> > >>explicit indication that the target next hop SIP server claims to 
> > >>support this specification.  Note that UACs MUST NOT use an 
> > ambiguous 
> > >>configuration option such as "Work through NATs?" or "Do 
> > Keep alives?" 
> > >>to imply next hop STUN support."
> > > 
> > >That text has been there for ages.  That is not new.
> > 
> > Exactly - so therfor I don't think the explicit configuration 
> > you propose is appropriate :)
> > 
> > >>>>>I strongly think it should be possible to use STUN 
> > keep-alives for 
> > >>>>>"pure" signalling NAT traversal, even if the "rest" of 
> > outbound is 
> > >>>>>not used.
> > >>>>>
> > >>>>>So, while I DO agree with the Vancouver(?) decission to 
> > not include 
> > >>>>>any  "URI" keep parameter in the R-URI of the register 
> > request, I 
> > >>>>>think we  shall we keep the URI "keep" parameter 
> definition, and 
> > >>>>>e.g.
> > > 
> > >I'm pretty sure we had rough consensus to remove the parameter 
> > >completely. I'll go dig up my notes and the minutes.  
> Maybe Francois 
> > >can jump in here.
> > 
> > Maybe the problem is that we only discussed the usage of the 
> > parameter in the R-URI, and when we agreed not to use it 
> > there we forgot that it could actually be used in the Path header.
> > 
> > Regards,
> > 
> > Christer
> > 
> > 
> > 
> > 
> > 
> > 
> > 
> > 
> > 
> > 
> > > >>>> allow it to  be inserted into the Path header (I don't
> > > remember any
> > > >>>> discussions  regarding removing that possibility) by 
> > the outbound 
> > > >>>> proxy, in order to  inform the UA that the outbound
> > > proxy supports
> > > >>>> STUN keep-alive.
> > > >>>>
> > > >>>> (OR, there should be another mechanism for the 
> > outbound proxy to 
> > > >>>> inform  the UA it supports STUN keep-alive)
> > > >>
> > > >> Currently, that other mechanism is out-of-band configuration.
> > > >> We could also add another way to indicate this in the 
> > future, but 
> > > >> for know the WG seems happy with what we have.
> > > >
> > > > I don't understand "add in future". We already had a mechanism.
> > > >
> > > > This is what you, me and Cullen were discussing a long 
> > time ago, and 
> > > > we all agreed to :)
> > > >
> > > > One thing we in Vancouver DID agree to was that a 
> > mechanism to also 
> > > > indicate the keep-alive refresh timer value WOULD be a future 
> > > > extension.
> > > >
> > > >
> > > > Regards,
> > > >
> > > > Christer
> > > >
> > > >
> > > >
> > > >
> > > >>>>  That would allow people to start using outbound for NAT
> > > >> traversal,
> > > >>>> even  if the registrars haven't yet been updated to
> > > >> support outbound
> > > >>>> etc.
> > > >>>>
> > > >>>>  At one point we decided that we will keep the STUN
> > > >> keep-alive usage
> > > >>>> and  outbound in the same spec, but that we will
> > > describe the STUN
> > > >>>> keep-alive  usage as a "stand alone" function (chapter 
> > 8 of the 
> > > >>>> draft). But, now you  have more or less "merged" the STUN
> > > >> keep-alive
> > > >>>> usage with the outbound  function, and that is bad.
> > > >>>>
> > > >>>>  Also, this change is not mentioned in the 
> > > >>>> changes-since-the-previous-version part (if it is 
> mentioned, I 
> > > >>>> appologize for having missed it)
> > > >>>>
> > > >>>>  Regards,
> > > >>>>
> > > >>>>  Christer
> > > >>>>  _______________________________________________
> > > >>>>  Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> > > >>>>  This list is for NEW development of the core SIP 
> > Protocol  Use 
> > > >>>> sip-implementors@cs.columbia.edu for questions on
> > > current sip  Use
> > > >>>> sipping@ietf.org for new developments on the 
> application of sip
> > > >>>>
> > > >>
> > > >>
> > > 
> > > 
> > 
> 
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu Mar  6 23:52:35 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 70D1F28CA4F;
	Thu,  6 Mar 2008 23:52:35 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -98.773
X-Spam-Level: 
X-Spam-Status: No, score=-98.773 tagged_above=-999 required=5
	tests=[AWL=0.175, BAYES_05=-1.11, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id r5Wd6Ujrg9AB; Thu,  6 Mar 2008 23:52:34 -0800 (PST)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 89EA128CA0B;
	Thu,  6 Mar 2008 23:52:31 -0800 (PST)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id EFEAA28CA38
	for <sip@core3.amsl.com>; Thu,  6 Mar 2008 23:52:29 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id PDumNqGGRbZv for <sip@core3.amsl.com>;
	Thu,  6 Mar 2008 23:52:29 -0800 (PST)
Received: from wa-out-1112.google.com (wa-out-1112.google.com [209.85.146.182])
	by core3.amsl.com (Postfix) with ESMTP id 7A5D828CA29
	for <sip@ietf.org>; Thu,  6 Mar 2008 23:52:28 -0800 (PST)
Received: by wa-out-1112.google.com with SMTP id k40so387487wah.25
	for <sip@ietf.org>; Thu, 06 Mar 2008 23:52:18 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=gamma;
	h=domainkey-signature:received:received:message-id:from:to:references:subject:date:mime-version:content-type:content-transfer-encoding:x-priority:x-msmail-priority:x-mailer:x-mimeole;
	bh=SYTEsuH8pvMcsgNxIVHcPrbIudPJ2Q/+zwiYybXVwXY=;
	b=Pt3G17wiXTzHUAsvdfJ708vxJAkt0hKCGZf6u1fvoiFDHvtYzEpQezvO7s8iJZ84DmVsOUj9+FXTgJF95D2ASBK4HyEjUBA7sRRSjg9GcZJQ/XZCFwo06EiqeaeCPpHTy21uKW7xhWiue0A10H3e0bwAu67uYp4rqy77+GOBA60=
DomainKey-Signature: a=rsa-sha1; c=nofws; d=gmail.com; s=gamma;
	h=message-id:from:to:references:subject:date:mime-version:content-type:content-transfer-encoding:x-priority:x-msmail-priority:x-mailer:x-mimeole;
	b=Tz1cJrS5ijogfzAtfAL3bNjF2goXJn6pgPiLYVcdr7LHdWtN4mFgmJsZlv5JjDyfLiD6LdLZcVC6cJclnlmuGv21qofUj/MrdeLZOwpJxTEGudKeQjlm9KT57aicmaTUNy/4xUfZpFRxkMUkfGp9mOkZ5mhgX3X4WUSWZmQTMZs=
Received: by 10.114.146.1 with SMTP id t1mr1720460wad.20.1204876337727;
	Thu, 06 Mar 2008 23:52:17 -0800 (PST)
Received: from leo ( [123.152.133.45])
	by mx.google.com with ESMTPS id m27sm7561687pof.10.2008.03.06.23.52.14
	(version=SSLv3 cipher=RC4-MD5); Thu, 06 Mar 2008 23:52:16 -0800 (PST)
Message-ID: <00f001c88028$29748b50$1200a8c0@leo>
From: "Leo Lv" <leo.lv3@gmail.com>
To: <sip@ietf.org>
References: <mailman.93.1203710421.31183.sip@ietf.org>
Date: Fri, 7 Mar 2008 15:52:10 +0800
MIME-Version: 1.0
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2900.3138
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.3198
Subject: [Sip] About Contact List info Stored in XDMS
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Hi All,

I am developing IMS client base on IETF SIMPLE/OMA standard, It can upload contact list to XDMS by XCAP protocol.
When the IMS client startup or in ruing, It can download and synchronization from XDMS by XCAP and SIP SUBSCRIBE.
Mostly it looks like MSN contact management.

I am troubling with the contact information format which should be stored in XDMS.
For example, a contact in MSN like below:
Frist Name, Last Name, Nick Name, E-Mail, Home Phone number, Office Phone number and other infomation.

Now I am using RFC4826 resource list to store these info,
but RFC4826 just define the entry with URI and Display Name, so other info should be defined by other extenstion XMLs.

I read the PIDF, CIPID, RPID and OMA standards, but I didn't got any value info about format such message.
Such as store the Frist Name, Last Name, Telephone number.

If any one know about it, please give me some notes, thank you!!

Best regards,

Leo Lv
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Fri Mar  7 00:36:36 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 406B428C469;
	Fri,  7 Mar 2008 00:36:36 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.701
X-Spam-Level: 
X-Spam-Status: No, score=-100.701 tagged_above=-999 required=5
	tests=[AWL=-0.263, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id lSTZLu5qN+BB; Fri,  7 Mar 2008 00:36:35 -0800 (PST)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 13AB83A68DA;
	Fri,  7 Mar 2008 00:36:35 -0800 (PST)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 6392E3A68DA
	for <sip@core3.amsl.com>; Fri,  7 Mar 2008 00:36:34 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id fAXSXDQI19Na for <sip@core3.amsl.com>;
	Fri,  7 Mar 2008 00:36:33 -0800 (PST)
Received: from mgw-mx06.nokia.com (smtp.nokia.com [192.100.122.233])
	by core3.amsl.com (Postfix) with ESMTP id 1B0273A680A
	for <sip@ietf.org>; Fri,  7 Mar 2008 00:36:32 -0800 (PST)
Received: from esebh108.NOE.Nokia.com (esebh108.ntc.nokia.com [172.21.143.145])
	by mgw-mx06.nokia.com (Switch-3.2.6/Switch-3.2.6) with ESMTP id
	m278ZoNR007692; Fri, 7 Mar 2008 10:36:17 +0200
Received: from esebh102.NOE.Nokia.com ([172.21.138.183]) by
	esebh108.NOE.Nokia.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Fri, 7 Mar 2008 10:36:13 +0200
Received: from esebe101.NOE.Nokia.com ([172.21.138.215]) by
	esebh102.NOE.Nokia.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Fri, 7 Mar 2008 10:36:13 +0200
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Fri, 7 Mar 2008 10:36:12 +0200
Message-ID: <C84E0A4ABA6DD74DA5221E0833A35DF30A730DA7@esebe101.NOE.Nokia.com>
In-Reply-To: <47C71685.7060206@cisco.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Comments on TOTE
Thread-Index: Ach6Rz3yvChfWvmlTs2W/7laMQUYXAF3zPdA
References: <47C54730.5030501@nsn.com><47C5DCA6.9080302@cisco.com>	<47C680E3.2030803@nsn.com><47C6C841.2010201@cisco.com>	<47C6D42D.8040506@nsn.com><E6C2E8958BA59A4FB960963D475F7AC30BC782C9B1@mail.acmepacket.com><47C6F8CA.2080305@cisco.com><E6C2E8958BA59A4FB960963D475F7AC30BC782CC3B@mail.acmepacket.com>
	<47C71685.7060206@cisco.com>
From: <Markus.Isomaki@nokia.com>
To: <jdrosen@cisco.com>
X-OriginalArrivalTime: 07 Mar 2008 08:36:13.0097 (UTC)
	FILETIME=[4D21C990:01C8802E]
X-Nokia-AV: Clean
Cc: sip@ietf.org
Subject: [Sip] Comments on TOTE
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Hi,

Here are my views on
http://tools.ietf.org/id/draft-rosenberg-sip-tote-00.txt:

In general there are a lot of things in like about this approach. I
think we definitely need a light-weight, TLS/TCP-based, end-to-end
oriented transport mechanism, with a good NAT traversal story. There are
many use cases for such a mechanism, so instead of developing a specific
one for each of them, it is better to have a common baseline.
Utilization of ICE-TCP and TURN should be a basic requirement here, and
TOTE is indeed using them.

The main issue I see is that MSRP already occupies part of that space.
However, MSRP is not a perfect match. It requires its own specific
relays instead of of being able to use TURN. End-to-end security is
based on S/MIME instead of TLS. It includes a lot of per-message
overhead and also the fragmentation, re-assembly and reporting make it
complicated. Furthermore I'm not convinced a yet how the muxing of
sessions between relays really works: Based on SIMPLE-list, at least two
(independent) implementers have tried to produce a relay like that, but
have concluded that it is not doable. I don't know if other relay
implementations exist. The IMS and OMA folks prefer B2BUAs over relays
for MSRP NAT traversal, and that is the only space I can see some
serious implementation/deployment of MSRP. (This might be because most
people who were originally interested in SIP IM have now switched to
XMPP.) Well, I haven't seen much happening with ICE/TURN-TCP either, but
that could be a chicken-and-egg problem that something like TOTE could
solve. It would be of course helpful if people who came up with MSRP
relay/muxing/chunking requirements would indicate if they still see that
model valid (for customers of MSRP/IM) and if they see a lot of
deployment potential for the protocol.

I also like the model where baseline TOTE would be like SUB/NOT
framework, while the actual usages would be analogous to event packages.
It would be very helpful for developers of new usages if there was a
well-defined and well-working baseline that solved some hard issues like
NAT traversal, e2e security and provided some tools for session
negotiation. I'd be quite liberal about the usages themselves, but of
course the IETF should immediately charter standards-track work on some
of the key ones.

I'm co-author of draft-ietf-mmusic-file-transfer-mech (file transfer O/A
and MSRP-based transport), so I share the concerns that Miguel already
brought up in an earlier mail. Though, had TOTE existed when we started
with file transfer draft, I'm certain we would have chosen it instead of
MSRP. We tried our best in the draft to actually decouple the
offer/answer part from the transport, envisioning that some day there
might be something like TOTE to run over. Now that the work is already
quite far and there actually are a few implementations of the draft (not
much in public, but for instance GSMA has had an interop event for
image-sharing based on the draft), it would be non-constructive to
develop file transfer with TOTE from the scratch. It would be better to
see if the O/A model could be sustained while providing an alternative
transport. 

Another concern is that it took something like over 5 years from the
start to get MSRP to RFC. How long will it take for TOTE? I already see
such risk if we get stuck in arguments about the MIME usage/negotiation
model and so on, where there's probably no clear answer, so they could
be debated forever. Yet another risk is that TOTE is already too late
and people with use cases for it are committed to something else (MSRP,
media-control stuff). So, it would be useful to probe if people really
would have use cases for it in their UA products, or would it be only of
academic interest.

So, as a summary I'm positive of going forward with TOTE, but there are
issues wrt. overlap with MSRP and the market adoption, which we need to
quantify a bit first.

Markus


   

  
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Fri Mar  7 00:52:23 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 183FB28C279;
	Fri,  7 Mar 2008 00:52:23 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.772
X-Spam-Level: 
X-Spam-Status: No, score=-100.772 tagged_above=-999 required=5
	tests=[AWL=-0.335, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id bGiG6zU7EHXD; Fri,  7 Mar 2008 00:52:21 -0800 (PST)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 98BF23A69EA;
	Fri,  7 Mar 2008 00:52:21 -0800 (PST)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 6D8693A680A
	for <sip@core3.amsl.com>; Fri,  7 Mar 2008 00:52:20 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id aX16Pq3NGvll for <sip@core3.amsl.com>;
	Fri,  7 Mar 2008 00:52:19 -0800 (PST)
Received: from mailgw3.ericsson.se (mailgw3.ericsson.se [193.180.251.60])
	by core3.amsl.com (Postfix) with ESMTP id B36E73A69EA
	for <sip@ietf.org>; Fri,  7 Mar 2008 00:52:18 -0800 (PST)
Received: from mailgw3.ericsson.se (unknown [127.0.0.1])
	by mailgw3.ericsson.se (Symantec Mail Security) with ESMTP id
	D8575205B4; Fri,  7 Mar 2008 09:52:06 +0100 (CET)
X-AuditID: c1b4fb3c-ab095bb00000193b-25-47d10236a722
Received: from esealmw128.eemea.ericsson.se (unknown [153.88.254.121])
	by mailgw3.ericsson.se (Symantec Mail Security) with ESMTP id
	AF49220E63; Fri,  7 Mar 2008 09:52:06 +0100 (CET)
Received: from esealmw113.eemea.ericsson.se ([153.88.200.4]) by
	esealmw128.eemea.ericsson.se with Microsoft SMTPSVC(6.0.3790.1830); 
	Fri, 7 Mar 2008 09:52:06 +0100
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Fri, 7 Mar 2008 09:52:04 +0100
Message-ID: <CA9998CD4A020D418654FCDEF4E707DF04F7F892@esealmw113.eemea.ericsson.se>
In-Reply-To: <CA9998CD4A020D418654FCDEF4E707DF04F7F548@esealmw113.eemea.ericsson.se>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] Outbound-12: STUN keep-alives without outbound
thread-index: Ach/t/REhI3J96MATXSzJX83BShTzAAAKexAAAhL5wAAEzTNsAACVD9A
References: <20080303185301.8A6B61819D7F@mail.iptel.org><1ECE0EB50388174790F9694F77522CCF1549EC14@zrc2hxm0.corp.nortel.com><CA9998CD4A020D418654FCDEF4E707DF04F13E49@esealmw113.eemea.ericsson.se><458913680803060824m23e10d7eqa861a21266eb50b@mail.gmail.com><4E690AA1-9E99-490D-B5EA-E4895E0B675A@ekabal.com><CA9998CD4A020D418654FCDEF4E707DF04F7EF77@esealmw113.eemea.ericsson.se><FFDDF533-F69C-4EC0-B19F-552373DF8035@ekabal.com><CA9998CD4A020D418654FCDEF4E707DF04F7F043@esealmw113.eemea.ericsson.se><1ECE0EB50388174790F9694F77522CCF1552C7E3@zrc2hxm0.corp.nortel.com>
	<CA9998CD4A020D418654FCDEF4E707DF04F7F548@esealmw113.eemea.ericsson.se>
From: "Christer Holmberg" <christer.holmberg@ericsson.com>
To: "Christer Holmberg" <christer.holmberg@ericsson.com>,
	"Francois Audet" <audet@nortel.com>, "Rohan Mahy" <rohan@ekabal.com>
X-OriginalArrivalTime: 07 Mar 2008 08:52:06.0218 (UTC)
	FILETIME=[853C82A0:01C88030]
X-Brightmail-Tracker: AAAAAA==
Cc: sip@ietf.org, Cullen Jennings <fluffy@cisco.com>,
	Xavier Marjou <xavier.marjou@orange-ftgroup.com>
Subject: Re: [Sip] Outbound-12: STUN keep-alives without outbound
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


Hi,

An alternative solution, based on "ob", and which does not require
"keep", would be to add something like the following:

"When the UA receives a 200 OK response to a REGISTER message, it can
deduce that outbound keepalives and flows can be used if there either is
an "outbound" options-tag in a Supported or Requires header, or in lack
of this, if the URI in the path header contains the "ob" URI parameter."

Now, if there is no Supported/Require with "outbound" the UA knows that
the registrar does not support outbound, but since the Path header
contains "ob" the UA knows that the outbound proxy supports it, and that
it supports keep-alives.

This would of course require an outbuond proxy who only wants to do
keep-alive to implement "full" outbound, but it would at least be
possible to use keep-alives between the UA and the outbound proxy even
if the registrar does not support outbound.

Does that sound feasible?

Regards,

Christer

 

> -----Original Message-----
> From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On 
> Behalf Of Christer Holmberg
> Sent: 7. maaliskuuta 2008 9:47
> To: Francois Audet; Rohan Mahy
> Cc: sip@ietf.org; Cullen Jennings; Xavier Marjou
> Subject: Re: [Sip] Outbound-12: STUN keep-alives without outbound
> 
> 
> Francois,
> 
> I am not following you...
> 
> Why do we then need the "ob" parameter? Why should the 
> outbound proxy "on the wire" be able to say "I want to do outbound"?
> 
> Why not simply use configuration?
> 
> And, the parameter would NOT say "I want to do outbound, but 
> just the keep-alive". It would say "I want to do keep-alive", 
> which we along time ago agreed is a stand-alone function, and 
> not part of outbound itself. I don't remember any change of 
> that decission.
> 
> Also, I don't agree this is a "corner case". STUN keep-alive 
> is pretty much the only signalling keep-alive mechanism we 
> have specified for SIP, and there are people who want to use 
> it for that.
> 
> Regards,
> 
> Christer
> 
> 
> > -----Original Message-----
> > From: Francois Audet [mailto:audet@nortel.com]
> > Sent: 7. maaliskuuta 2008 0:45
> > To: Christer Holmberg; Rohan Mahy
> > Cc: Xavier Marjou; sip@ietf.org; Cullen Jennings
> > Subject: RE: [Sip] Outbound-12: STUN keep-alives without outbound
> > 
> > Yes, we had agreed to remove keep altogether.
> > 
> > Using parameters for the job of something that logically belongs to 
> > configuration is futile and harmful as it would result in 
> > infinite-length URIs or other field.
> > 
> > I can also garantee that everybody that presents a concept will 
> > somehow believe that this particular concept is worthy of being a 
> > parameter while the other guy's concept is inferior and doesn't 
> > warrant it.
> > 
> > I think the point of the text was that it shouldn't be an AMBIGUOUS 
> > parameter, but instead a EXPLICIT parameter.
> > 
> > So, this paragraph is completely accurate:
> > 	A SIP node MUST NOT send STUN requests over a flow unless 
> >       it has an explicit indication that the target next hop SIP 
> > server
> >       claims to support this specification. Note that UACs MUST NOT 
> > use
> >       an ambiguous configuration option such as "Work through 
> > NATs?" or "Do >       Keep alives?" to imply next hop STUN support.
> > 
> > But it would be clearer if we added the following sentence 
> at the end:
> > 	Rather than an ambiguous configuration option, it MUST 
> be an explicit
> >       configuration such as "Server supports RFC XXX CRLF 
> keep-alives?
> >       without RFC XXX registration procedures?".
> > 
> > I really do believe that a parameter "on the wire" for such 
> a corner 
> > case (i.e., "I want to do outbound, but just the
> > keep-alive") is absolutely not warranted.
> > 
> >  
> > 
> > > -----Original Message-----
> > > From: Christer Holmberg [mailto:christer.holmberg@ericsson.com]
> > > Sent: Thursday, March 06, 2008 10:38
> > > To: Rohan Mahy
> > > Cc: Xavier Marjou; Audet, Francois (SC100:3055); sip@ietf.org; 
> > > Cullen Jennings
> > > Subject: RE: [Sip] Outbound-12: STUN keep-alives without outbound
> > > 
> > > 
> > > Hi,
> > > 
> > > >>>>>I have big issues with the keep-alive change in the
> > -12 version.
> > > >>>>>
> > > >>>>>Because, now the STUN keep-alives usage can't be
> > applied between
> > > >>>>>the UA  and outbound proxy, unless the registrar
> > > supports outbound.
> > > >>>
> > > >>>What gave you that impression Christer?  By my read that
> > is still
> > > >>>allowed if the UA has explicit configuration that its next-hop 
> > > >>>support keepalives:
> > > >>
> > > >>Of course, but previously we had a mechanism for the
> > > outbound proxy to
> > > 
> > > >>actually indicate support.
> > > >>
> > > >>Also, chapter 8 of the draft does say:
> > > >>
> > > >>"A SIP node MUST NOT send STUN requests over a flow unless
> > > it has an
> > > >>explicit indication that the target next hop SIP server 
> claims to 
> > > >>support this specification.  Note that UACs MUST NOT use an
> > > ambiguous
> > > >>configuration option such as "Work through NATs?" or "Do
> > > Keep alives?" 
> > > >>to imply next hop STUN support."
> > > > 
> > > >That text has been there for ages.  That is not new.
> > > 
> > > Exactly - so therfor I don't think the explicit configuration you 
> > > propose is appropriate :)
> > > 
> > > >>>>>I strongly think it should be possible to use STUN
> > > keep-alives for
> > > >>>>>"pure" signalling NAT traversal, even if the "rest" of
> > > outbound is
> > > >>>>>not used.
> > > >>>>>
> > > >>>>>So, while I DO agree with the Vancouver(?) decission to
> > > not include
> > > >>>>>any  "URI" keep parameter in the R-URI of the register
> > > request, I
> > > >>>>>think we  shall we keep the URI "keep" parameter
> > definition, and
> > > >>>>>e.g.
> > > > 
> > > >I'm pretty sure we had rough consensus to remove the parameter 
> > > >completely. I'll go dig up my notes and the minutes.
> > Maybe Francois
> > > >can jump in here.
> > > 
> > > Maybe the problem is that we only discussed the usage of the 
> > > parameter in the R-URI, and when we agreed not to use it there we 
> > > forgot that it could actually be used in the Path header.
> > > 
> > > Regards,
> > > 
> > > Christer
> > > 
> > > 
> > > 
> > > 
> > > 
> > > 
> > > 
> > > 
> > > 
> > > 
> > > > >>>> allow it to  be inserted into the Path header (I don't
> > > > remember any
> > > > >>>> discussions  regarding removing that possibility) by
> > > the outbound
> > > > >>>> proxy, in order to  inform the UA that the outbound
> > > > proxy supports
> > > > >>>> STUN keep-alive.
> > > > >>>>
> > > > >>>> (OR, there should be another mechanism for the
> > > outbound proxy to
> > > > >>>> inform  the UA it supports STUN keep-alive)
> > > > >>
> > > > >> Currently, that other mechanism is out-of-band configuration.
> > > > >> We could also add another way to indicate this in the
> > > future, but
> > > > >> for know the WG seems happy with what we have.
> > > > >
> > > > > I don't understand "add in future". We already had a 
> mechanism.
> > > > >
> > > > > This is what you, me and Cullen were discussing a long
> > > time ago, and
> > > > > we all agreed to :)
> > > > >
> > > > > One thing we in Vancouver DID agree to was that a
> > > mechanism to also
> > > > > indicate the keep-alive refresh timer value WOULD be a future 
> > > > > extension.
> > > > >
> > > > >
> > > > > Regards,
> > > > >
> > > > > Christer
> > > > >
> > > > >
> > > > >
> > > > >
> > > > >>>>  That would allow people to start using outbound for NAT
> > > > >> traversal,
> > > > >>>> even  if the registrars haven't yet been updated to
> > > > >> support outbound
> > > > >>>> etc.
> > > > >>>>
> > > > >>>>  At one point we decided that we will keep the STUN
> > > > >> keep-alive usage
> > > > >>>> and  outbound in the same spec, but that we will
> > > > describe the STUN
> > > > >>>> keep-alive  usage as a "stand alone" function (chapter
> > > 8 of the
> > > > >>>> draft). But, now you  have more or less "merged" the STUN
> > > > >> keep-alive
> > > > >>>> usage with the outbound  function, and that is bad.
> > > > >>>>
> > > > >>>>  Also, this change is not mentioned in the 
> > > > >>>> changes-since-the-previous-version part (if it is
> > mentioned, I
> > > > >>>> appologize for having missed it)
> > > > >>>>
> > > > >>>>  Regards,
> > > > >>>>
> > > > >>>>  Christer
> > > > >>>>  _______________________________________________
> > > > >>>>  Sip mailing list  
> https://www.ietf.org/mailman/listinfo/sip
> > > > >>>>  This list is for NEW development of the core SIP
> > > Protocol  Use
> > > > >>>> sip-implementors@cs.columbia.edu for questions on
> > > > current sip  Use
> > > > >>>> sipping@ietf.org for new developments on the
> > application of sip
> > > > >>>>
> > > > >>
> > > > >>
> > > > 
> > > > 
> > > 
> > 
> _______________________________________________
> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol Use 
> sip-implementors@cs.columbia.edu for questions on current sip 
> Use sipping@ietf.org for new developments on the application of sip
> 
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Fri Mar  7 01:15:31 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 7F6AA28C657;
	Fri,  7 Mar 2008 01:15:31 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -96.742
X-Spam-Level: 
X-Spam-Status: No, score=-96.742 tagged_above=-999 required=5
	tests=[AWL=-0.329, BAYES_40=-0.185, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, HTML_MESSAGE=1, J_CHICKENPOX_66=0.6,
	RDNS_NONE=0.1, T_TVD_FW_GRAPHIC_ID1=0.01, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 7sPX5qXLHy7P; Fri,  7 Mar 2008 01:15:30 -0800 (PST)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 019EE3A6C55;
	Fri,  7 Mar 2008 01:15:30 -0800 (PST)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 346FE3A6C55
	for <sip@core3.amsl.com>; Fri,  7 Mar 2008 01:15:28 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id CmiUM0VMcMiG for <sip@core3.amsl.com>;
	Fri,  7 Mar 2008 01:15:27 -0800 (PST)
Received: from hs-out-0708.google.com (hs-out-0708.google.com [64.233.178.245])
	by core3.amsl.com (Postfix) with ESMTP id 8407B3A680A
	for <sip@ietf.org>; Fri,  7 Mar 2008 01:15:26 -0800 (PST)
Received: by hs-out-0708.google.com with SMTP id 4so360264hsl.5
	for <sip@ietf.org>; Fri, 07 Mar 2008 01:15:15 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=gamma;
	h=domainkey-signature:received:received:message-id:date:from:to:subject:cc:in-reply-to:mime-version:content-type:references;
	bh=gzNDYfcddGQW1bnat7Dvi6XPedCksw1azCJZ6HGq6cM=;
	b=T0U5HmfVa4SnTge+Y3HnLG/mJ00MYBRvwT26zW26q+xAHsW4doQEjLCS0DeKLuYp1RBQvgSy0rLxCupDvaartSZXhzA5v1XOnPdb0lpk7Kag0qCrxtZy31SBuwCw6zemfax3DeWMHdthfqNOLfO1p6lGE88FMUpydLGxAI2jH78=
DomainKey-Signature: a=rsa-sha1; c=nofws; d=gmail.com; s=gamma;
	h=message-id:date:from:to:subject:cc:in-reply-to:mime-version:content-type:references;
	b=i51gXSAUWxne/zk4Jx2lWrQBnKt9WKkTjtNwN5kKaUYajprt97zNmMgtEIobGuSPFsbokHZZ9a2bmbiEMoz2oUVsTc+yAHOJovMMB6c5QGGOCQ4DhrgXrz/erDWuDk6TUImW+KJmGHHZimhtNbH0h+4DvLwAaeBZJd7940ce6JQ=
Received: by 10.100.202.9 with SMTP id z9mr187305anf.115.1204881314995;
	Fri, 07 Mar 2008 01:15:14 -0800 (PST)
Received: by 10.100.190.4 with HTTP; Fri, 7 Mar 2008 01:15:14 -0800 (PST)
Message-ID: <42e0231a0803070115l2926b8a0ua0f719426a3cce33@mail.gmail.com>
Date: Fri, 7 Mar 2008 14:45:14 +0530
From: "preethy varghese" <preethypv@gmail.com>
To: "Robins George" <robinsg@huawei.com>
In-Reply-To: <008f01c8801c$edd332a0$03cb550a@china.huawei.com>
MIME-Version: 1.0
References: <42e0231a0803062117u5229ff5cv2ee141b4171aa8cb@mail.gmail.com>
	<008f01c8801c$edd332a0$03cb550a@china.huawei.com>
Cc: sip@ietf.org
Subject: Re: [Sip] Call flow of conference
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: multipart/mixed; boundary="===============0701632030=="
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

--===============0701632030==
Content-Type: multipart/related; 
	boundary="----=_Part_16222_32250414.1204881314969"

------=_Part_16222_32250414.1204881314969
Content-Type: multipart/alternative; 
	boundary="----=_Part_16223_29067476.1204881314970"

------=_Part_16223_29067476.1204881314970
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Hi,
     Thanks for your answer. But i did not understand what you mean by
tightly coupled,loosely coupled or fully distributed multiparty
conference.Can u plz explain the sip message sequence of the following
scenario


A     calls    B

A   puts  hold on B

A    calls     C

Now A - B - C are in conference

B goes on hold

B   calls   D

Now A - B - C - D  are in conference

Explanation with the help of picture will be appreciated.

Thanks in advance.

Preethy



On Fri, Mar 7, 2008 at 12:01 PM, Robins George <robinsg@huawei.com> wrote:

>   The call flow depends on the type of conference
>
> whether it is tightly couple, loosely coupled or fully distributed
> multiparty.
>
> And participant are of different kinds which are Conference aware
> participants and Conference unaware participants.
>
>
>
>
>
> isfocus is just a feature tag which indicates that the UA is a conference
> server, or a focus, and will mix the media from calls to the same URI
>
>
>
> Creating a Conference Using Ad-Hoc SIP Methods
>
>
>
>
>
>
>
> robins.
>
> Research & Standardization
> HUAWEI TECHNOLOGIES CO.,LTD. [image: huawei_logo]
>
>
> Address: Huawei Industrial Base
> Bantian Longgang
> Shenzhen 518129, P.R.China
> Tel: 0086-755-28789961
> Mobile: 0086-13246657597
> E-mail: robinsg@huawei.com
> www.huawei.com
>
> -------------------------------------------------------------------------------------------------------------------------------------
> This e-mail and its attachments contain confidential information from
> HUAWEI, which
> is intended only for the person or entity whose address is listed above.
> Any use of the
> information contained herein in any way (including, but not limited to,
> total or partial
> disclosure, reproduction, or dissemination) by persons other than the
> intended
> recipient(s) is prohibited. If you receive this e-mail in error, please
> notify the sender by
> phone or email immediately and delete it!
>
> ----- Original Message -----
> *From:* preethy varghese <preethypv@gmail.com>
> *To:* sip@ietf.org
> *Sent:* Friday, March 07, 2008 1:17 PM
> *Subject:* [Sip] Call flow of conference
>
> Hi,
>      Could someone explain me the call flows of conference. Which is best
> and common among isfocus and user agent awared method?Thanks in advance.
>
> Preethy
>
>
> ------------------------------
>
> _______________________________________________
> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
>
>

------=_Part_16223_29067476.1204881314970
Content-Type: text/html; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

<br>Hi,<br>&nbsp;&nbsp;&nbsp;&nbsp; Thanks for your answer. But i did not understand what you mean by tightly coupled,loosely coupled or fully distributed multiparty conference.Can u plz explain the sip message sequence of the following scenario<br>
<br><br>A&nbsp;&nbsp;&nbsp;&nbsp; calls&nbsp;&nbsp;&nbsp; B<br><br>A&nbsp;&nbsp; puts&nbsp; hold on B<br><br>A&nbsp;&nbsp;&nbsp; calls&nbsp;&nbsp;&nbsp;&nbsp; C<br><br>Now A - B - C are in conference<br><br>B goes on hold<br><br>B&nbsp;&nbsp; calls&nbsp;&nbsp; D<br><br>Now A - B - C - D&nbsp; are in conference<br><br>Explanation with the help of picture will be appreciated.<br>
<br>Thanks in advance.<br><br>Preethy<br><br><br><br><div class="gmail_quote">On Fri, Mar 7, 2008 at 12:01 PM, Robins George &lt;<a href="mailto:robinsg@huawei.com">robinsg@huawei.com</a>&gt; wrote:<br><blockquote class="gmail_quote" style="border-left: 1px solid rgb(204, 204, 204); margin: 0pt 0pt 0pt 0.8ex; padding-left: 1ex;">






<div bgcolor="#ffffff">
<div>
<div><font color="#0000ff">
<p style="margin: 0in 0in 0pt; text-align: left;" align="left"><span style="font-size: 12pt;"><font color="#000000">The call flow depends on the type of conference</font></span></p>
<p style="margin: 0in 0in 0pt; text-align: left;" align="left"><font color="#000000"><span style="font-size: 12pt;">whether it is tightly couple, 
loosely coupled or fully distributed multiparty. </span></font></p>
<p style="margin: 0in 0in 0pt; text-align: left;" align="left"><font color="#000000"><span style="font-size: 12pt;">And participant are of different 
kinds which are </span><span style="font-size: 12pt;" lang="EN-GB">Conference 
aware participants and Conference unaware participants.</span><span style="font-size: 12pt;"></span></font></p>
<p style="margin: 0in 0in 0pt; text-align: left;" align="left"><span style="font-size: 12pt;"><font color="#000000">&nbsp;</font></span></p>
<p style="margin: 0in 0in 0pt; text-align: left;" align="left"><span style="font-size: 12pt;"><font color="#000000">&nbsp; </font></span></p>
<p style="margin: 0in 0in 0pt; text-align: left;" align="left"><font color="#000000">isfocus is just a <span style="font-size: 12pt; color: black;" lang="EN-GB">feature 
tag which indicates that the UA is a conference server, or a focus, and will mix 
the media from calls to the same URI</span></font><span style="font-size: 12pt; color: blue;"></span></p>
<p style="margin: 0in 0in 0pt; text-align: left;" align="left"><span style="font-size: 12pt; color: blue;">&nbsp;</span></p>
<p style="margin: 0in 0in 0pt; text-align: left;" align="left"><span style="font-size: 12pt;" lang="EN-GB"><font color="#000000">Creating a Conference Using Ad-Hoc SIP 
Methods</font></span></p>
<p style="margin: 0in 0in 0pt; text-align: left;" align="left"><span style="font-size: 12pt;" lang="EN-GB"><font color="#000000">&nbsp;</font></span></p>
<p style="margin: 0in 0in 0pt;"><span><img src="cid:008901c8801c$edcc06b0$03cb550a@china.huawei.com" height="464" width="373"></span></p>
<p style="margin: 0in 0in 0pt;"><span></span>&nbsp;</p>
<p style="margin: 0in 0in 0pt;"><span></span>&nbsp;</p>
<p style="margin: 0in 0in 0pt;"><span>robins.</span></p></font></div></div>
<div>
<p></p>
<p></p><font color="black" face="Arial" size="2">Research &amp; Standardization 
<br></font><font color="gray" face="Arial" size="2">HUAWEI TECHNOLOGIES CO.,LTD. 
</font><img alt="huawei_logo" src="cid:008a01c8801c$edce77b0$03cb550a@china.huawei.com" align="left" hspace="0"> 
<p></p><br><font color="gray" face="Arial" size="1">Address: Huawei Industrial 
Base<br>Bantian Longgang<br>Shenzhen 518129, P.R.China<br>Tel: 
0086-755-28789961<br>Mobile: 0086-13246657597<br>E-mail: 
<a href="mailto:robinsg@huawei.com" target="_blank">robinsg@huawei.com</a><br><a href="http://www.huawei.com" target="_blank">www.huawei.com</a><br></font><font color="gray" face="Arial" size="1">-------------------------------------------------------------------------------------------------------------------------------------<br>
This 
e-mail and its attachments contain confidential information from HUAWEI, which 
<br>is intended only for the person or entity whose address is listed above. Any 
use of the <br>information contained herein in any way (including, but not 
limited to, total or partial <br>disclosure, reproduction, or dissemination) by 
persons other than the intended <br>recipient(s) is prohibited. If you receive 
this e-mail in error, please notify the sender by <br>phone or email immediately 
and delete it!<br></font></div>
<blockquote style="border-left: 2px solid rgb(0, 0, 255); padding-right: 0px; padding-left: 5px; margin-left: 5px; margin-right: 0px;"><div><div></div><div class="Wj3C7c">
  <div style="font-family: arial; font-style: normal; font-variant: normal; font-weight: normal; font-size: 10pt; line-height: normal; font-size-adjust: none; font-stretch: normal;">----- Original Message ----- </div>
  <div style="background: rgb(228, 228, 228) none repeat scroll 0% 50%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial; font-family: arial; font-style: normal; font-variant: normal; font-weight: normal; font-size: 10pt; line-height: normal; font-size-adjust: none; font-stretch: normal;">
<b>From:</b> 
  <a title="preethypv@gmail.com" href="mailto:preethypv@gmail.com" target="_blank">preethy 
  varghese</a> </div>
  <div style="font-family: arial; font-style: normal; font-variant: normal; font-weight: normal; font-size: 10pt; line-height: normal; font-size-adjust: none; font-stretch: normal;"><b>To:</b> <a title="sip@ietf.org" href="mailto:sip@ietf.org" target="_blank">sip@ietf.org</a> </div>

  <div style="font-family: arial; font-style: normal; font-variant: normal; font-weight: normal; font-size: 10pt; line-height: normal; font-size-adjust: none; font-stretch: normal;"><b>Sent:</b> Friday, March 07, 2008 1:17 
PM</div>
  <div style="font-family: arial; font-style: normal; font-variant: normal; font-weight: normal; font-size: 10pt; line-height: normal; font-size-adjust: none; font-stretch: normal;"><b>Subject:</b> [Sip] Call flow of 
  conference</div>
  <div><br></div>Hi,<br>&nbsp;&nbsp;&nbsp;&nbsp; Could someone explain me the 
  call flows of conference. Which is best and common among isfocus and user 
  agent awared method?Thanks in 
  advance.<br><br>Preethy<br>&nbsp;&nbsp;&nbsp;&nbsp; <br>
  </div></div><p>
  </p><hr>

  <p></p>_______________________________________________<br>Sip mailing 
  list&nbsp; <a href="https://www.ietf.org/mailman/listinfo/sip" target="_blank">https://www.ietf.org/mailman/listinfo/sip</a><br>This 
  list is for NEW development of the core SIP Protocol<br>Use 
  <a href="mailto:sip-implementors@cs.columbia.edu" target="_blank">sip-implementors@cs.columbia.edu</a> for questions on current sip<br>Use 
  <a href="mailto:sipping@ietf.org" target="_blank">sipping@ietf.org</a> for new developments on the application of 
sip</blockquote></div>
</blockquote></div><br>

------=_Part_16223_29067476.1204881314970--

------=_Part_16222_32250414.1204881314969
Content-Type: image/jpeg; name=clip_image002.jpg
Content-Transfer-Encoding: base64
Content-ID: <008901c8801c$edcc06b0$03cb550a@china.huawei.com>
X-Attachment-Id: 0.1

/9j/4AAQSkZJRgABAQEAYABgAAD/2wBDAAgGBgcGBQgHBwcJCQgKDBQNDAsLDBkSEw8UHRofHh0a
HBwgJC4nICIsIxwcKDcpLDAxNDQ0Hyc5PTgyPC4zNDL/2wBDAQkJCQwLDBgNDRgyIRwhMjIyMjIy
MjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjL/wAARCAHQAXUDASIA
AhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQA
AAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3
ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWm
p6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEA
AwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSEx
BhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElK
U1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3
uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwD1/X/s
iXcU95Zw3YitZWjikQNuctGFAyDgkkD8aznuNFitbOSXw/YRvNHOZlaJMQvEpLKSF55BGce+K0db
0iDWdZ0+3uyWtUilkkiBI8whk2gkHIwcH6gVWbwdZh3htLkwQYmIgA37Glj2Mck5/wBr65rsofVu
X95vr+Wi+/Xb5ku/QdC/hWVyh0+xUqm93+xjyxhdxG8rgkDnHWrOn2vhzUxJ9m0uz3RkB0ksgjDP
Q4ZQcHsaij8LFbK50179m0ydHDW4iAbc4wx3emcnGOvcjirOgaBHoazlTbmSYrkwWywjC5xkDOTy
eSfpilUjhlBuEnfp/Vv67sFcs/2Bo3/QJsP/AAGT/Cj+wNG/6BNh/wCAyf4VoUVyFGf/AGBo3/QJ
sP8AwGT/AAo/sDRv+gTYf+Ayf4VoUUAZ/wDYGjf9Amw/8Bk/wo/sDRv+gTYf+Ayf4VoUUAc3eWen
rfNZad4d025njjWSXzESNUViQBnaSScHt2601m8NweSl5o1rbTuoaSNrNW8nJwN7KCFBI4JPNad5
plw96bywvVtZ3RY5d8IkV1BJHGRgjJ5z3qjceGHn8xBqUvl3USw3vmRhmnUE9D/CTuI6Hj6V1wWH
aXM7fffz8vS3zJ1K0l14TjeZBpls7xeauF0/O5o87kU7cFhtJwOwqBZ9JPgpvET+G7GMiAzC3khV
eO2WKDHGDnH51qHw0hSJftTAR3lxdD5P+eqyLt69vM6+1RS+D7GTSmtQzLcNaJatc5JyqqBnbnH8
IrRfVFZa7r7tb9t1buw94o2EujzQzTXWk6C8cZVVGmkXbMxzxtWMEdKs+d4S8qCQafZsswJG2xyU
AbaS4C/KA3BzjmtPVdGW/shb20i2h8xXO2PKvj+FgCMjn19KzrDwpJpSRCw1IwsA6St5CncjSNJg
DopBdgDyMHpU2wslzN2fbXa3ez6h7xTtNR8L3Ec7SaFHC0VzJbhDp2Wk2HlgAuSBjJ9O9XBJ4Ta4
MKafZOQsbl1sgUAkICEttxzmpB4buIbuS6tNT8qXzppIi1uH2LKQXU88/MoIPGMd6Z/wjiabpWox
WoluPPtY4UiGAwKKQDknGcnPtiqcMI37rf8AT812/rue8XYNM8P3McskWmWBSKRo3Y2yABlOG7di
DWPaXfh19Nub6/0Oys44ZEABtlctHIQI3wFz82enY5rXttFePwrHpElwRI0OyeZRyzNzIR9SW/Os
nUvB0FtaH+wo2t5HaBZEViwKpMjBvmPG0BuO+amlDDOThN9dH5X/AFXkwdyV7nwlHHEzaZb75ZGi
WEacfM3hdxXZtyDjnpWna6VoF7bR3NvpmnvFIMqwtkGf0rLufD+ojVrG7guw1yZ5Jbi68kbV/dbF
GzPTgDrn3roNNsU02wjtY2Z9pZmdurMxLMfxJJqK0KEYJ03dv/g+S8v8kCb6kP8AYGjf9Amw/wDA
ZP8ACj+wNG/6BNh/4DJ/hWhRXKUZ/wDYGjf9Amw/8Bk/wo/sDRv+gTYf+Ayf4VoUUAZ/9gaN/wBA
mw/8Bk/wo/sDRv8AoE2H/gMn+FaFFAGf/YGjf9Amw/8AAZP8KP7A0b/oE2H/AIDJ/hWhRQBn/wBg
aN/0CbD/AMBk/wAKy/EFvo+iaS16NF0tyJYowJY0jQb3VMs204A3Z6dq6SqOq6amq2iW7vtVZ4pj
8u7OyRXxj324/GtKXIqkefa+voJ7aHPWkuhtZm4vNK0QhpPLiXTgLsucZIwsYOQOenSrgPhRp4Io
7CykM6qyslkGUBjhdxC4XJBAzir9/o/2h7aeylSzubZmaNxEGXDDDArkZzx37VVsPDb6XOjWOoNF
GyoLlTEGMzKScg/w5yc8H2xXRbDSTls+39J/12FqQGTwkttFcNZWCwyxySK7WigbYyAx+72JFW7G
w8P6jC0kGkWo2nayy2QjZT15DKD0qnD4SeJ0U6kWtoY54oIjbqdolIJ3E5DYx3HIrR0LRRottLEJ
g/mSb9kabI04Awi5O0cZ69aVWGHUHySu/wDg+nYFfqS/2Bo3/QJsP/AZP8KP7A0b/oE2H/gMn+Fa
FFchRn/2Bo3/AECbD/wGT/Cj+wNG/wCgTYf+Ayf4VoUUAZ/9gaN/0CbD/wABk/wo/sDRv+gTYf8A
gMn+FaFFAHIa8+k6PqFnaJo2hg3EckhkvHS3QBCgwDsOSd/6GpIbrws1naTz6TaQm4jEu0WYcRrn
G5mC4Ck9GOAa0tX0W4v9RtL61u4IZLeKSIrPbecrByhzjcMEbB+dUv8AhESkEkMOosi3MJgvMwg+
ahZ2wvPyf6xwMZAB9q74LCunFSdpdd+78mtrbE+9cisZ/Dd3f3Fk+j2cM0V09spNoCjsvP3tuASO
cZrb/sDRv+gTYf8AgMn+FUIPDTRXjM98XszeG9Fv5QBEnYbs9BjPSt+ueuqV17L+v6/pjV+pwni7
T7KyntRa2dvBuVt3lRKueRjOBzRVnxv/AMfFn/uN/MUVgM6OX/kP2v8A17S/+hR1yfh7/ksPjT/r
1sP/AEBq6yX/AJD9r/17S/8AoUdcl4e/5LD40/69bD/0BqAO8orgo/Fss7aw0V65EtpPNZqYSogM
QIGCRhtww/U9DWjbeIL+a/nsLWCOa5Uh91xKUTYsMLNjC8EmXp9T7V2ywFWO/wDl+ZPMjrKK5mLx
VNNrv2KPTpmtlnFtJKI5DtfaCTu27NozjrnvWhcand/2w1naW0LxwJHJcPLKUOHJA2cYJG0nk+1Y
yw1SLtJW0uPmRrUVyEni6+SCIrYI8txNcLCsayyfJC+xi2xSQScY4xz1qSTxdOLmxC2aLFcNDHJG
5fzYnlwBuwu1cE9CQSOnatPqVbt/SFzI6uiuDs/GGrw6bbrdWaXd64mmP2eKVl8pJCoHyqcNnPJ4
wBnrW1beI7ibXUs5rMW9vKdsTTblZzs3ZBxsPcbc7hjpRPA1oXutr/gCkjoqK43WNY1231jUYYHt
hawvYCIDIfMswVgTjGCMg+nGKkuPF13bgWhsFk1ETyROIVlkjwgRiRtUtyJFHT1prBVWk42d/wDJ
P9Q5kddRWPPrUo0axu4bQrcXrRxxwzkqEZ/7xxkAYPb+dU7vxBf2vnA2VsWsrb7TejzjjbucYj+X
k/Ix5xjgVlHDVJbL8UPmR0lcT4Surib4g+OYZbiWSKG4tRFG7krGDDk7R2yfSrw8SX8l0yx2lsIG
vJbGJmkbd5gQsrMMfd4IPOa868CeIdWs9f8AEl7c2xv5ro2c9wYYpGODCDgbVwvDfxYHGPeto4Ct
JNq3397/AOQuZHttFcnceLLyHzFWxV3e9ltbYIskhPl5LMwRSe3AFNk8XXohluE01Ejt7SK7uEmd
kcBnkVlUY6/JkZx17VP1Ktvb8UHMjrqK52XxHcQW9/qD2cZ021MyArIfOZoyQflx0JBAxz3qzoGs
XOqi5S6spLeSEqQxjkRXDZ6B1ByMc8YrOWGqRi5taId0bNFFFYDCiiigAooooAKKKKACiiigAooo
oAKzhrlgfEZ0ESt/aAtReGPYceUW25z069q0a4RP+S8y/wDYtr/6UGgDu6KKKACiiigAooooAKKK
KACiiigDOv8AXLDTdT03TrmVludSd0tlCEhiq7mye3HrWjXB+M/+SieAP+vu6/8ARBrvKAON8b/8
fFn/ALjfzFFHjf8A4+LP/cb+YooA6OX/AJD9r/17S/8AoUdchoUay/F3xtG4yj2lirD1BR66+X/k
P2v/AF7S/wDoUdcn4e/5LD40/wCvWw/9AagDsbjTbK6tEtZ7ZHgQYWMjhRtK4H4Ej8arz+H9JuVI
msYm3OJD1BLBQn/oKqMdwK0qKtVZx2k/vFZFH+xtO/tFb8WcQulGBIB04xnHTOOM9cU660mwvbuG
6ubWOSeH7jnqOcj64PPNXKKPaTve77BZGfPoWmXNotrLZxtCsjSKvIwzEliCOeSTn601vD+kvcpc
Gwh81Nm0gYA2Y2nHTIwMHrxWlRTVaotpP7wsjKk8NaNKmx9PiK+a0uOcbmxu79DgZHQ+lWF0jT11
D7etpGLr++PpjOOmccZ64q7RQ61R6OT+8LIo3Gj6fd3gu57VHnwg3nPIVg659cMARTbnQtMvEkSe
zjcSS+c3UEuQFJyOegArQooVWorWk9PMLIrT6fZ3Nj9imt0a2wFEeMAAdMY6Yxxiqz+HtIkS3V7C
ErbjEQx0Gc4PrzzznnmtKikqs47SYWRUGl2IYMLZMic3IP8A01IILfXBNefeEtB0uX4h+M43so2j
s57NYFOcIogGBjuOBwfSvTK4Twd/yUjx/wD9fNp/6IpqrUW0n94WR1k+i6bc2z28tojRPKZmHIO8
9WBHIJyenrQdF00wyQ/YohHJCtu6gYBjUkhfoNx/Or9FHtam3M/vCyKH9i6b9tmuzZRGeZSsjEZ3
AjB46cjgnvRaaNp1ggS1tliAk8zhjktjGSc88HGDxV+ih1ZtW5n94WQUUUVmMKKKKACiiigAoooo
AKKKKACiiigArhE/5LzL/wBi2v8A6UGu7rhE/wCS8y/9i2v/AKUGgDu6KKKACiiigAooooAKKKKA
CiiigDg/Gf8AyUTwB/193X/og13lcH4z/wCSieAP+vu6/wDRBrvKAON8b/8AHxZ/7jfzFFHjf/j4
s/8Acb+YooA6OX/kP2v/AF7S/wDoUdcn4e/5LD40/wCvWw/9Aausl/5D9r/17S/+hR15u2savpPx
e8WHSvDk+smS2shIIrhIvKwjYzu65yenpQB6vXlPiM31zrmr2tpfzW0r67p8cUiucRkwA9PTPUd6
2/8AhMvGH/RN7/8A8GMH+NNPi3xYWLH4Z3hJIbP9oW/UdDXXhMT9Xk5Wvdfqn+hMo3Mix1HUbxvE
OtlJ4rvSdRhlmtd5xtSBUnQDupG9h64BqzHNLq2uaHrDyzi21fUZlhj3so+yrbyKnHbdy/8AwIel
Xx4v8WgsR8Nb3Lfe/wCJhBz9eaT/AIS7xYAg/wCFaXnyfd/4mFv8v054rplmMdeWFtLb7Lltb79R
cnmYh0Wz03TPH1xam6SWwSWC2Y3creWht1YgZY85JOetaPw4/s5r6RoJNKa5+yjIs9XmunIyMlkf
heccjvxVo+LvFhDg/DS8w/3h/aFv83155pkXinxRCxaL4YXUbEYyl9bg0VMydSlKEk7u2t+yS177
X+YKFncJvE2qr4pvdNuJY2tmM8cSwKrgKsZYb+RIjcfeIKntWEnjDVLDT9Phj1a1tBHoFreRQSwe
Y11Md2YwSc/NtA7n9a6D/hLfFnmGT/hWd5vI2lv7Qt8kemapR614jj1iTVF+Gd/9oeBID/xMoNoV
CxXA7HLGnTx2HStKktl21a9V1Bxfc0vEOoSPHALrUmj0171F1JYW8t7JDDkRu68gF9uTxw3pVSbW
LDSNJhTw3rJTTri98mbUbl3uYrIeWW+UueQSAOpAJqb/AIS7xb83/FtL35/vf8TCD5vrzzR/wlvi
zyvK/wCFaXnl4xs/tC3xj6VjHGQUVFx0XS6s/Nq2rXT8b63OVlNPE3iLUf7Lt7W/t4PPS+Juxa7l
uFhKbJFUngNk98fpSaLrGran4ih1d4zeyf8ACP291FYQkIN8jsG2lmC5+XOT2wO3N3/hLvFuVP8A
wrS8yowP+JhBwPTrWV4j8b+L9P8ADOo3UPgS60x4bZit4buBxAAOGK9wPSreOp8rUaSV/wBW32T2
svlpYOV9xs2m6j4k8cak8ukIRFBaGS3udTlha33BshfJyrE4z+ArHsfFF/pPxR8U/YIVuVubko0B
XaXaK2coBnnOUxnoc+4rE8HfHLxXfXK2s/hka1MxAaSxjZJD/vYBX+VegfD25k1Dxv43u7mwls5n
ntGNvcbS8R8nvgkfke9V/aEJaVKaaSsld6aJX1v26W877hyPoyjea/qt9oVpcW/i23kC6lZi4ltr
TYIVkYZRyTggHt17NWpb+LNUk8TR25u7dpH1BrR9GEGJYoQT+/L5z0Abptwcda77yYthTy02k5K7
Rgn1pdieZv2rvIxuxzj0zSljqTTj7Nde3W3aK/R9mtbnK+55vZ+L9b07w3pviDVbhLy1vRLGYorc
KY5efJGRydxUqfdhXoGmLeLpdqNQkWS88pfPZVwC+OcD0zVa/wBBsdTuLGW5EpSzk82OBJCsRfII
LKOGwRkZ6Vp1hiq9KqlyRs7u/wB+i+S376dhxTW4UUUVxlBRRRQAUUUUAFFFFABRRRQAUUUUAFcI
n/JeZf8AsW1/9KDXd1wif8l5l/7Ftf8A0oNAHd0UUUAFFFFABRRRQAUUUUAFFFFAHB+M/wDkongD
/r7uv/RBrvK4Pxn/AMlE8Af9fd1/6INd5QBxvjf/AI+LP/cb+Yoo8b/8fFn/ALjfzFFAHRy/8h+1
/wCvaX/0KOuT8Pf8lh8af9eth/6A1dZL/wAh+1/69pf/AEKOuT8Pf8lh8af9eth/6A1AHd0VBevc
x2Uz2UKTXIQ+VHI+1Wbtk9hXF2njTVb61trW3tbE6tPezWql2kWErGm9nwRvGRwAfr0roo4apWi5
Q2W+vzE5JHd0Vw7eM9Vl0/S9VtNNtTp92IVMckx86WR22skQA/h6knqKveLfFVz4c1PRYYraKW2u
5X+1O5IMUa7csPpuz+FafUa3OqdtXfqum4uZbnVUVw9h4/8AM1XXUvbZVsLJ4ls2gBeW5Lu0YAHc
lkOMVr2vjLTrhoklhu7SVpzbSx3MYRoJNhkAfngMo4IyDSqYGvDeP9Wv+v6ApJnQ0Vyj/EPRI5rG
KQXKG7jjlBKD90kjYQvzxu9s8cnFMk8bpNr+m6fY2Vw9vc3slq93LERE2xXLeW2eSGTHI9cUfUcR
1i1u/uDmR11Fc9qer6pJrbaPokNm1zDAtxPJeOwRVZiFUBRkk7W56Co7zxfHpQjg1CwuXvUgE95H
Yp5yWqc/MzcccHoM8HioWFqytyq7fTr/AF/XUfMjpagvLO21Czms7yBJ7aZSkkTjKup6giuen8ea
VDqTWnk3skaSQI93HDuhXzgDGS2eh3AdO9Rab44+2WV7czaNfQ/Z76S0VMLzs6sWLBV6HOT1wBmq
+pYjl5nHTT8RcyOls7G0063W3sbWC2hXpHDGEUfgK4zwd/yUjx//ANfNp/6IrVt/HOl3r2gsbe/u
0uI45Wkgty6wK5IXzO4yQememelcf4C8Qi48YeN9Rl0+6hSW8jWRcAm3EUTgmTnjOztnk496Twde
KblG1g5kerUVzOk6xr17FbapdWmnQ6LcxeeCJ286GMruVmyNp4xkDGPeo18f6X9lubmW11CCOK1e
8iM0Gz7TCuCWj556jg4PINN4Otdxir27a/L+vXYOZHVUVxOpfEKOLTLiSx0y++2xT28Pk3MBXAmO
EcgHlTzgcEkY4rV1XxLHZy6bBazWlxPPfxWlwgky0QYNk4ByDle9DwVdWvHf9En+qDmR0NFcLpfi
7XJYLLU9QtdOGlXl8bJfIZxNGxkaNWIPBBYDOPWtK88YR6ffJ9st5ba1FhPeSpJETKojkVexIwd2
fxHSqlga0ZclrvXbXVbr1DmR1FFcdd+Od8elf2dYTs1/fLa75EDog2liwKMQ3A4wexz0xVyDxzpM
115bJdQ2reYIb2aHbBOUBLhGzzgKx5Azg4zUvBV0r8v9f1f7g5kdLRXNQ+NbGSyW7ew1KCJ54IYz
Pb7PM81tqOvOCvPPcelJd+OtKs3eN0uDKt5JZBMKu6RFDNgswXGCMZIJ7CksHXbsosOZHTUVFbXC
3VrFcIrqsqBwHUqwBHcHoalrnaadmUFFFFIAooooAK4RP+S8y/8AYtr/AOlBru64RP8AkvMv/Ytr
/wClBoA7uiiigAooooAKKKKACiiigAooooA4Pxn/AMlE8Af9fd1/6INd5XB+M/8AkongD/r7uv8A
0Qa7ygDjfG//AB8Wf+438xRR43/4+LP/AHG/mKKAOjl/5D9r/wBe0v8A6FHXJ+Hv+Sw+NP8Ar1sP
/QGrrJf+Q/a/9e0v/oUdebXFn4jvfid40j8Nara6dd/ZrHL3Fv5gYbGwAf4frg0AenalbW95p09r
duY4Jl2MyybCM+jdjWF/wg9j9nP/ABMNT+3Gf7QdQ88faN2zy+u3GNny4x+teB674I+KX/CS2Fxr
Mt3fKt3EUu43+0RRHeMPsGMAdegr2j/hHfiJ/wBD9af+CVP/AIqtqeIq01aDsJpM0n8DWy31hc2e
q6lZLYwLbwQwOmwIOv3lJy3c5ya0da8N2WvTQSXjS/uYZ4QqEAFZV2tnjrjpXOf8I78RP+h+tP8A
wSp/8VR/wjvxE/6H60/8Eqf/ABVU8VWclLm1V/x3DlRow+ANHhtWgR7oA29vAriQBozASySKQOHy
xJP6VJN4G0250O8026uL24a9kWWe8klBnZ1xtO4DAwBjAHSsr/hHfiJ/0P1p/wCCVP8A4qj/AIR3
4if9D9af+CVP/iqr67iL353e9/u/4ZfcLlRt3fg/TrnVYNQSW5tpI444mjgYKkqISUDZBPGexHHF
Qw+CbC31e3v47y/CW1y91DaeaPIjdwwbC4zgl2PXqayv+Ed+In/Q/Wn/AIJU/wDiqP8AhHfiJ/0P
1p/4JU/+KqVi66VubS1v6/rYfKjotW8OQ6peJeR3t9YXap5TTWcoRnTOdrZBBGc44yM1TvPBNjd7
MX2pQN9nFrO0Vz81zEM/LISCT1PIweTzWT/wjvxE/wCh+tP/AASp/wDFUf8ACO/ET/ofrT/wSp/8
VSjiq0ElGWwcqNmbwZpkovFV540upbaVkRgAnkbdgXjp8ozTJvBGnSu7i5u13Xz3wG5WVZHGHAVl
IIPJ5yQTwRWT/wAI78RP+h+tP/BKn/xVH/CO/ET/AKH60/8ABKn/AMVVLF119p/0rfkg5UaVj4D0
/TTafYr7UrdYESN1inCi4VGLIJMDnG4jjGRwc1z3gzSoo/iJ44ihlmihjvoZXiUgrN5kTMwfI6Zc
kYx2q/8A8I78RP8AofrT/wAEqf8AxVUfhvb6ha+M/HEGqXyX96txa+bcpCIg/wC64+UE4wMD8KU8
VWnfmle4cqR1Fj4QtLGVQuoalLZIrJFYS3GYEUgjbjGSMHADE4qqPAGm/ZLi2lvdRnjktHsoRNMG
+ywsACsfHHQcnJ4Arq6Kf1yunfmFyo5668Hafd3FxM81yGna1ZtrDA+zsWTHHcnn+lWbzwzpd3c2
9yLaO3niu0uzJBGqNK65xvOMkfMa2KKn6zW095/0kvySHyo5bTfAtnp08DHU9Suba3na4gtJ5V8q
OQsWyAFBOCxIyTVmLwuJJI7m/wBQup7xLWa0MysFJSRw3YdRhQD7dK6Ciqli60ndy1/r8769w5Uc
zZ+B9MspIJUknMsV6L4sNih5AhjGVVQoGGPQDJ5og8C6VDcAvJdz2ieZ5NjLLmCAyAhiq4z0ZhyT
jJxiumooeMru/vsXKjmR4Is/7Il06TU9UmjLRNC8lwC1t5Zynl8YGCB1BJ75pq+BrFdOnsjfX0iz
3L3UrzMkhdmUKwYMpUjjuOD0rqKKPrlf+bzDlRW06wg0vTbawtQwgt41jjDMWOAMDJPWrNFFc8pO
Tu9ygooopAFFFFABXCJ/yXmX/sW1/wDSg13dcIn/ACXmX/sW1/8ASg0Ad3RRRQAUUUUAFFFFABRR
RQAUUUUAcH4z/wCSieAP+vu6/wDRBrvK4Pxn/wAlE8Af9fd1/wCiDXeUAcb43/4+LP8A3G/mKKPG
/wDx8Wf+438xRQB0cv8AyH7X/r2l/wDQo65Pw9/yWHxp/wBeth/6A1dZL/yH7X/r2l/9Cjrk/D3/
ACWHxp/162H/AKA1AHd0UUUAFFFFAFdr60S+Sxa5hF26GRIC43so4LBeuPeopdY0yC/Swm1G0jvH
+7bvMokP0XOa4C+0zxRN4gn8Tw6bbFbe8VoY2ZxdG3jyjIq424cM7YJ7j0FaNjbNp91c2F/4YuNS
ubi/e4W98mNo2Rn3KzOxypUYGOvy8V6bwVNRT576apNb9fkvxI5mdg2qaesLSte24jSbyGYyDAkz
jZ/vZ4x1q3Xm2m6Dq1hrE+tzQz3EMetXBWwaMfLFI2PPQdSwODn+7kCvSa5sVQhSaUJc39bDi29w
ooorlKCiiigArhPB3/JSPH//AF82n/oiu7rhPB3/ACUjx/8A9fNp/wCiKAO7ooooAKKKKACiiigA
ooooAKKKKACiiigAooooAKKKKACuET/kvMv/AGLa/wDpQa7uuET/AJLzL/2La/8ApQaAO7ooooAK
KKKACiiigAooooAKKKKAOD8Z/wDJRPAH/X3df+iDXeVwfjP/AJKJ4A/6+7r/ANEGu8oA43xv/wAf
Fn/uN/MUUeN/+Piz/wBxv5iigDo5f+Q/a/8AXtL/AOhR1wFr4h0bQPi/4vbV9UtLETW1kIzcShN+
EbOM9cZH5138v/Iftf8Ar2l/9CjridK02w1H4weMRfWVtdBLax2+fEr7co2cZHFAG/8A8LF8F/8A
Q06T/wCBSf40f8LF8F/9DTpP/gUn+NaX/CM6B/0A9N/8BI/8KP8AhGdA/wCgHpv/AICR/wCFAGb/
AMLF8F/9DTpP/gUn+NH/AAsXwX/0NOk/+BSf41pf8IzoH/QD03/wEj/wo/4RnQP+gHpv/gJH/hQB
m/8ACxfBf/Q06T/4FJ/jR/wsXwX/ANDTpP8A4FJ/jWl/wjOgf9APTf8AwEj/AMKP+EZ0D/oB6b/4
CR/4UAZv/CxfBf8A0NOk/wDgUn+NH/CxfBf/AENOk/8AgUn+NaX/AAjOgf8AQD03/wABI/8ACj/h
GdA/6Aem/wDgJH/hQBm/8LF8F/8AQ06T/wCBSf40f8LF8F/9DTpP/gUn+NaX/CM6B/0A9N/8BI/8
KP8AhGdA/wCgHpv/AICR/wCFAGb/AMLF8F/9DTpP/gUn+NUdY+KXhPTdGvL211zTb6eCJnjtortd
0pH8I68n6V0H/CM6B/0A9N/8BI/8Kz9d8D6JrGhX2mxadY2j3MLRLcR2iboyR94cDn8aAOX8P/HX
wbrO2O6uJtKnPG27T5M/765H54qLwT4o0Gb4k+MRFrFk51C5tRabZgfPxDg7PXB44qbQfgX4M0dQ
11ay6pPjl7t/l/BFwPzzXnnwo8Ctp/xm1eK5QtHoJcxlh1LHEZ/FSTQB9HUUUUAFFFFABRRRQAUU
UUAFFFFABRRRQAUUUUAFFFFABXCJ/wAl5l/7Ftf/AEoNd3XCJ/yXmX/sW1/9KDQB3dFFFABRRRQA
UUUUAFFFFABRRRQBwfjP/kongD/r7uv/AEQa7yuD8Z/8lE8Af9fd1/6INd5QBxvjf/j4s/8Acb+Y
oo8b/wDHxZ/7jfzFFAHRy/8AIftf+vaX/wBCjrk/D3/JYfGn/XrYf+gNXWS/8h+1/wCvaX/0KOuT
8Pf8lh8af9eth/6A1AHd0UUUAFFFFABRRRQAUUUUARrcQswVZoyxJAAYZJHUfhQk8MjFUlRmGchW
BPBwf1ryddG1K61LTTaRzW91BqurXEMjIQobeCm7/Zfke4JqxpJv9M8N2/ildKulu7bULs3FiIz5
rwTSnKgd8NsYewNetPLYqN4zu3pbzvJLr1t+Jnz+R6c93bRlw9xCpQZbLgbfr6dR+dRrqViyM63t
sVTG4iVcLnpnmuG0jw6yeJ7GHVbNLn7VpFxJfGSLdG80k8blTng46Aei1hXHh+3s/hdcNBpEUNy+
qfvcWRdmiW7JG5AMugXt6URwFGTUefdpbd21ffy/IOZ9j1qC7troMbe4im29fLcNj8qgisLGwvb7
UlRIprvYbiUnG7YMLn6Cub8AfYxbXwtUsg+9d7WmjvYAjBxkP949ee1cpdXPiKbRPEVpcteXrfZH
Ik8ptu/zBhTEyfK2M4CllIGazjl/PWlTUrJNb6PUfPpc9cpkkscMZklkWNB1ZjgD8a81k1XV38Y6
lBaXuqSXEGpwxW9osWbUwlIzLvbbxhSx5IwcYzmr2rJZvqFhd6nDfaroEYukkWe1eYx3BkG0tHty
VADqp2kD8c0v7PcXFSlur6LXa9um+y7u/YOc74EMoZSCCMgjvS151qExtLXTY9Pi1rRfD7RSuv2G
1YzCfeNismGKoQWIGBnocVQ1G58Xva3N1Ldaha3lpotvciC3jGyS53vuBGDk4Ayo9aqGWudmppJ9
/W3n87XsHOeoiWMymISKZANxTPIHrio5L20hUtLdQoobaS0gAz6fWuK0u11u113xTd6fClzdS30Q
T7e5jTy/JUnayoScE4x049c5566toItQgn1zTHmsV8Q3slxH9kadSGgwp2hSSu7GDinTy+MpNc19
E9N9r2t+C7g5nrisrqGVgykZBByDS1zHgi3aDT79oraS106W9eSxt5IzGUiIX+E8qC24gccGunrg
rU1TqOCd7FJ3QUUUVkMKKKKACiiigAooooAK4RP+S8y/9i2v/pQa7uuET/kvMv8A2La/+lBoA7ui
iigAooooAKKKKACiiigAooooA4Pxn/yUTwB/193X/og13lcH4z/5KJ4A/wCvu6/9EGu8oA43xv8A
8fFn/uN/MUUeN/8Aj4s/9xv5iigDo5f+Q/a/9e0v/oUdcXo99Z2Xxg8ZG7u4LcNbWO3zZAmfkbpk
812kv/Iftf8Ar2l/9Cjrz+38N6L4i+L/AIuXWNMtr4Q21kYvPTdsyjZx9cD8qAO//t7Rv+gtYf8A
gSn+NH9vaN/0FrD/AMCU/wAaxf8AhWngn/oV9M/78Cj/AIVp4J/6FfTP+/AoA2v7e0b/AKC1h/4E
p/jR/b2jf9Baw/8AAlP8axf+FaeCf+hX0z/vwKP+FaeCf+hX0z/vwKANr+3tG/6C1h/4Ep/jR/b2
jf8AQWsP/AlP8axf+FaeCf8AoV9M/wC/Ao/4Vp4J/wChX0z/AL8CgDa/t7Rv+gtYf+BKf40f29o3
/QWsP/AlP8axf+FaeCf+hX0z/vwKP+FaeCf+hX0z/vwKANr+3tH/AOgtYf8AgSn+NH9vaP8A9Baw
/wDAlP8AGsX/AIVp4J/6FfTP+/Ao/wCFaeCf+hX0z/vwKANr+3tH/wCgtYf+BKf40f2/o/8A0FrD
/wACU/xrF/4Vp4J/6FfTP+/Ao/4Vp4J/6FfTP+/AoA2v7e0f/oLWH/gSn+NH9v6P/wBBaw/8CU/x
rF/4Vp4J/wChX0z/AL8Cj/hWngn/AKFfTP8AvwKANG31Dw7aTXM1vqGnRyXUnmzMLlPnbAXJ59AB
+FWf7f0f/oLWH/gSn+NYv/CtPBP/AEK+mf8AfgUf8K08E/8AQr6Z/wB+BTbbd2Btf2/o/wD0FrD/
AMCU/wAaP7f0f/oLWH/gSn+NYv8AwrTwT/0K+mf9+BR/wrTwT/0K+mf9+BSA2v7e0f8A6C1h/wCB
Kf40f2/o/wD0FrD/AMCU/wAaxf8AhWngn/oV9M/78Cj/AIVp4J/6FfTP+/AoA2v7e0b/AKC1h/4E
p/jR/b2jf9Baw/8AAlP8axf+FaeCf+hX0z/vwKP+FaeCf+hX0z/vwKANr+3tG/6C1h/4Ep/jR/b2
jf8AQWsP/AlP8axf+FaeCf8AoV9M/wC/Ao/4Vp4J/wChX0z/AL8CgDa/t7Rv+gtYf+BKf40f29o3
/QWsP/AlP8axf+FaeCf+hX0z/vwKP+FaeCf+hX0z/vwKANr+3tG/6C1h/wCBKf40f29o3/QWsP8A
wJT/ABrF/wCFaeCf+hX0z/vwKP8AhWngn/oV9M/78CgDa/t7Rv8AoLWH/gSn+NNk8Q6NHGz/ANq2
J2gnAuU5/Wsf/hWngn/oV9M/78CmS/DLwW0TqnhnTFYqQD5A4NAGToHxq8F65tjfUDp05wPLvl2D
P+/yv60+2uIbr45vNbzRzRN4bUq8bBlP+kHuK5XQP2c9Ftdsuu6ncX8nUxQDyY/pnlj+Yrc0Dw/p
Phr40yWGj2Mdnbf8I8rlI8/M3nkZJPJOAPyoA9OooooAKKKKACiiigAooooAKKKKAOD8Z/8AJRPA
H/X3df8Aog13lcH4z/5KJ4A/6+7r/wBEGu8oA43xv/x8Wf8AuN/MUUeN/wDj4s/9xv5iigDo5f8A
kP2v/XtL/wChR1yfh7/ksPjT/r1sP/QGrrJf+Q/a/wDXtL/6FHXJ+Hv+Sw+NP+vWw/8AQGoA7uis
nU/FGhaPcxW2oaraQXEzrHHC0gMjMTgAKOe/pWtQAUUUUAFFFFABRRRQAVl+I7vULHQLy60yOBrm
KJnBnYhVABJbA64x071qVFc28d3azW0y7opkaN1zjKkYIq6clGacldAzznWvGOuWlppEttNGpl0u
O9l22vmh3OAfNII8mPn7/wBfStOz8T6rN4hhaR4Tp1xqUumLbLF8yGNC3mb885KnjGMEVt3fg7Qr
6O0S4sd62kKwRgSuuYh0RsH5146NmrEXhvSYdabV47MLetn5wzbQSMFgudoYgAZAzivTlisG6fKo
a2fRddv+H3Wy0M+WV9zjPGfivV9J8UT2lrfTW1tDYxTqItOFwGkZ3XDtkbAcKM+9aN34wv8ASJb1
r+z8yW2sLKV7SJlAEs0hRgH74PrxxXUTaJp9xd3V1NbCSW7thaz7iSHiBYhcdP4j+dVJPCejzRuk
ts7h4YIGLSsSUhbdGCc9jznv3qY4nCOEYzhta+i12v2ff7+g+WXcyl8bXDq1quiSf2uL42QsvtC4
JEfmlvM6Y2c9OvFVE8dTTvZXX2R7eJoNRea1LKxLWxAxu7d+nrWj4g8HpqVtN/Z5gguZrpbuVp1d
g7hNmQVZWQ4A+6fX1pdH8D6bp+kWtncr9plhjuI/MUsgxOcyADPToBkkjHWrU8Aqaly69tez7u1r
2t18+iXvXKUPxAY207XeizW9wLa3ubaETo/nrM2xBkcKd3HPbmtnw/r8+sXGpWt1prWNzYSpFJGZ
hJksgfIIHTDVDqvhCzu9Onhs0jhuHtI7NXmVpF8qNtyqRuHcnkEHvnim+EPC7eGra886dJrm8mEs
pjDBBhQoA3MzHpkknkmsqrwcqMpQVpdFr5edrb73+Q1zX1OkooorzSwooooAKKKKACiiigAooooA
KKKKACuET/kvMv8A2La/+lBru64Rf+S8y/8AYtr/AOlBoA7uiiigAooooAKKKKACiiigAooooA4P
xn/yUTwB/wBfd1/6INd5XB+M/wDkongD/r7uv/RBrvKAON8b/wDHxZ/7jfzFFHjf/j4s/wDcb+Yo
oA6OX/kP2v8A17S/+hR15xN4cXxN8TfGtk2qalp4+zWJ8ywn8tj8jcNxyPavR5f+Q/a/9e0v/oUd
cn4e/wCSw+NP+vWw/wDQGoA81uv2edUtNatbyx1qO9t1uUeYS7oZgu4EkMM5OO+RXq//AArrSf8A
oI6//wCDi4/+LrrqKAOR/wCFdaT/ANBHX/8AwcXH/wAVR/wrrSf+gjr/AP4OLj/4quuooA5H/hXW
k/8AQR1//wAHFx/8VR/wrrSf+gjr/wD4OLj/AOKrrqybvxNo1jq8WlXN8kd5IVAjKsQC3ChmAwpP
bJGauFOc3aCv6Bexj/8ACutJ/wCgjr//AIOLj/4qj/hXWk/9BHX/APwcXH/xVasXizQppb2NNSi3
WSs85IICqpwxBIwwB4OM4PFW9K1iw1u0N1p9wJogxRjtKlWHYqwBB5HUd6qVCrBXlFpegro5/wD4
V1pP/QR1/wD8HFx/8VR/wrrSf+gjr/8A4OLj/wCKrTtPF+g3+pDT7bUY5LhmKINrBZGGchXI2sRg
8AmpoPEelXSWTQXXmfbXdLdVRizlSQxxjIAIOSePzpyw9aO8Gvk/66P7gujG/wCFdaT/ANBHX/8A
wcXH/wAVR/wrrSf+gjr/AP4OLj/4qtvV/EGl6GIv7QufLaXOxFjaR2x1IVQTgeuKtWeoWmoWUN5a
XEctvMMxyKeGqHSmoqbTs+vQLo5r/hXWk/8AQR1//wAHFx/8VR/wrrSf+gjr/wD4OLj/AOKrrN6B
tu9d3TGear2+o2V19o8i6ikFtIYpirDCOACQffkVKi3qkM5v/hXWk/8AQR1//wAHFx/8VR/wrrSf
+gjr/wD4OLj/AOKrrSyjblh83TnrVe11GzvfN+zXMUvlSmF9jA7XHVfrQotq6QHNf8K60n/oI6//
AODi4/8AiqP+FdaT/wBBHX//AAcXH/xVakHi3QrnVRpsOoI9yzlFARtjsM5VXxtJGDwDWxvT5vnX
5fvc9PrVTpTpu04teok0zk/+FdaT/wBBHX//AAcXH/xVH/CutJ/6COv/APg4uP8A4qujv9Ss9MsZ
b27nWO3ixvflsEkADA5JJIGPekutUtLGC2muZTElzLHDFuQ5LucKuMZGT69KFTm7WW47nO/8K60n
/oI6/wD+Di4/+Ko/4V1pP/QR1/8A8HFx/wDFVftPGvh+91P+z4b4/aDK0Ch4JEVpFJBUOVCk5B4B
rWa/tkvoLMyEzzq7xgKSCFxu5HA6jrVToVYO04tPfYV0zmv+FdaT/wBBHX//AAcXH/xVH/CutJ/6
COv/APg4uP8A4quhvtWstOt457mcCOSVYY9ily7k4CgLkk1cDKWKhhuAyRnmocZJXa0Gcl/wrrSf
+gjr/wD4OLj/AOKo/wCFdaT/ANBHX/8AwcXH/wAVXWeYmCd64Bweeh9KDJGqsWdQFOCSelTYDk/+
FdaT/wBBHX//AAcXH/xVH/CutJ/6COv/APg4uP8A4quuooA5H/hXWk/9BHX/APwcXH/xVH/CutJ/
6COv/wDg4uP/AIquuooA5H/hXWk/9BHX/wDwcXH/AMVWDoejW+h/G2e1tpryZG8PiQtd3LztnzyO
GckgcdK9MrhE/wCS8y/9i2v/AKUGgDu6KKKACiiigAooooAKKKKACiiigDg/Gf8AyUTwB/193X/o
g13lcH4z/wCSieAP+vu6/wDRBrvKAON8b/8AHxZ/7jfzFFHjf/j4s/8Acb+YooA6OX/kP2v/AF7S
/wDoUdcn4e/5LD40/wCvWw/9Aausl/5D9r/17S/+hR15xNput6n8TfGsGha2NJuvs1jmU2yy7hsb
jnp9RQB6nJLHCu6WRUUkDLHAyegp9fMut/DH4ljxHY3OoX1xqsS3cZF5DOZvJ+YfP5bYIx16Yr1/
/hDPF3/RR9Q/8F8H+FAHd0Vwn/CGeLv+ij6h/wCC+D/Cj/hDPF3/AEUfUP8AwXwf4UAd3XH69a6x
e+JLaJNDFxoyPFLLJHcRxtNIrZUuDyVTqAOpHpVT/hDPF3/RR9Q/8F8H+FH/AAhni7/oo+of+C+D
/CtqFZ0ZcySfrf79GtRNXMx/A+t3VgNOkSKFNPtZ4bafz8/a2eVZAWAGVGEwc9zXVaDpd+f7bvNS
i+xz6rMG8hJRIYVESxj5hxk7c8e1ZH/CGeLv+ij6h/4L4P8ACj/hDPF3/RR9Q/8ABfB/hXRVzCrV
i4tL/h3d/e1f8rLQSgkJZaJr72Wh6FdafbW9npM8Mhv47gN5wi+7tTGVLYGc+p61H4W8Jan4cksL
8K0lzK8sF/A8wYJC0jMjR9htOCQOu49wKl/4Qzxd/wBFH1D/AMF8H+FH/CGeLv8Aoo+of+C+D/Cn
LMarjKCSSe++u/n5/grC5Ea2rWeq2fiVNc0yxTUN9n9kkt2nETJh9wZSRjuQR7CsXxD4e1jV57e7
utGs78vZGAWn2vYlnMWJ81SQN3BAJAyNvHWpP+EM8Xf9FH1D/wAF8H+FH/CGeLv+ij6h/wCC+D/C
opY2dNppK60vre3yf5WY3G5n33gXU5nv7l40utSSHTltLwy7WLxEea45+UkZ69c1L/wh99ZHU47T
R7NobjVzdbhsYtCUwMK3y5VieGyOSQM1b/4Qzxd/0UfUP/BfB/hR/wAIZ4u/6KPqH/gvg/wrb+1K
9rO1vn5efl+LFyIydN8Ha3bLpv8AaOlwaoYoliTzbzZ9iZZnbeCOTlSvTn5cdK3ND8LnSJL+E6JA
Un1eS4hnjkUGKNkO2QDrlclcdfm9Kh/4Qzxd/wBFH1D/AMF8H+FH/CGeLv8Aoo+of+C+D/Cpq5lW
qJp217X/AM/663BQSLug23iHTbGz0F9MtktbSPyv7RFyDuUAhWWPGd3TOeOvNc5beC9aSyuoU0+C
0uBplzbT3KXW86nK6YVmB+7z82W5GcdK1v8AhDPF3/RR9Q/8F8H+FH/CGeLv+ij6h/4L4P8AClHM
akHKUYpX3331138/Tskw5EZV58Pro2V7aWunwiGa308iPzRhp45MyseeuzjPeui1rw7q9zcWrxai
13bR6lbXCWjxxxrbxpIC2GAy2B2NUv8AhDPF3/RR9Q/8F8H+FH/CGeLv+ij6h/4L4P8ACiWZV5NN
2dvK/RLr6LYORFay0PxDJZjQ7jS0t7RdVa9N+bpW+TzzKAqDkE8Dn1NWbnQ7nV7i2mtdLNjaLa6j
bSRLOIzvkdQrAgcbirNnBxmj/hDPF3/RR9Q/8F8H+FH/AAhni7/oo+of+C+D/Ch5hU5uZJJ6992r
N7/8N06hyIzLTwRqbJZLdWULR2+qwTrv8tZBEqkOW2fIeduMAE4yas2nhHWI9cST7PFb3KXM80ut
rcbpLmNw+2Mx9sbl4PA2cVa/4Qzxd/0UfUP/AAXwf4Uf8IZ4u/6KPqH/AIL4P8KuWaV5XvbX+u/4
beQciM6Dwhqi+Fryyj0S2tb5RasZVvCxvpIpA7MeMLux1POTzwKdceFtb1C21C4ubFoLifVTeRww
3EcmEMKp8yuNj8g8HHqDV/8A4Qzxd/0UfUP/AAXwf4Uf8IZ4u/6KPqH/AIL4P8KP7UrXbsrt36+X
ntov+GDkR1Ph+1urHw/Y2t6sK3MUKrIIc7AfbNaVcJ/whni7/oo+of8Agvg/wo/4Qzxd/wBFH1D/
AMF8H+FefOTnJyfUtHd0Vwn/AAhni7/oo+of+C+D/Cj/AIQzxd/0UfUP/BfB/hUgd3XCJ/yXmX/s
W1/9KDR/whni7/oo+of+C+D/AArJ8OaZqOlfGq4g1PW5tXnbQA6zzQpGVXz8bcLxjIJz70Aeo0UU
UAFFFFABRRRQAUUUUAFFFFAHB+M/+SieAP8Ar7uv/RBrvK4Pxn/yUTwB/wBfd1/6INd5QBxvjf8A
4+LP/cb+Yoo8b/8AHxZ/7jfzFFAHRy/8h+1/69pf/Qo65Pw9/wAlh8af9eth/wCgNXWS/wDIftf+
vaX/ANCjrk/D3/JYfGn/AF62H/oDUAd3RRRQAUUUUAFFFFABRRRQAUUUUAFR3E8VrbS3EzhIokLu
x6BQMk1JWH4r0u91vQ20uymWAXUipPMeSkWctgdycYx71pSjGU1GTsurE9h1t4r0i68PDXEuGWyL
FMvGwfdu27dmM7iegxk5FRQ+MdKmgEhF3C32iK2MU9q8bq8jbUyrAcE96wR4N1u3ludupRXp+1w6
lBJMgiBnT5WRlQYCsoXkd+1Wta0jxB4o0ZLXUbazs8X1vKI7a5ZmWJHBc79o+bHTA/GvQ+r4Tm0l
7re99lp0au+uun+c3kdNY6ra6lNdR2jPIts/lvKFOwv3Ct/Fjvjoau1h+HdJn0JbrTUCHS45N9jh
stGrctGR6Bs4PofatyuCtGEZtU3ddP6/ToUttQooorIYUUUUAFFFFABRRRQAUUUUAFFFFABRRRQA
Vwif8l5l/wCxbX/0oNd3XCJ/yXmX/sW1/wDSg0Ad3RRRQAUUUUAFFFFABRRRQAUUUUAcH4z/AOSi
eAP+vu6/9EGu8rg/Gf8AyUTwB/193X/og13lAHG+N/8Aj4s/9xv5iijxv/x8Wf8AuN/MUUAdHL/y
H7X/AK9pf/Qo683bxTZeGPi94sa8tdQn8+2sgos7VpsYRs7tvTqP1r0iX/kP2v8A17S/+hR1yfh7
/ksPjT/r1sP/AEB6AD/ha+i/9ArxD/4Kpf8ACj/ha+i/9ArxD/4Kpf8ACu7ooA4T/ha+i/8AQK8Q
/wDgql/wo/4Wvov/AECvEP8A4Kpf8K7uigDhP+Fr6L/0CvEP/gql/wAKP+Fr6L/0CvEP/gql/wAK
7uigDhP+Fr6L/wBArxD/AOCqX/Cj/ha+i/8AQK8Q/wDgql/wru6KAOE/4Wvov/QK8Q/+CqX/AAo/
4Wvov/QK8Q/+CqX/AAru6KAOE/4Wvov/AECvEP8A4Kpf8KP+Fr6L/wBArxD/AOCqX/Cu7ooA4T/h
a+i/9ArxD/4Kpf8ACj/ha+i/9ArxD/4Kpf8ACu7ooA4T/ha+i/8AQK8Q/wDgql/wo/4Wvov/AECv
EP8A4Kpf8K7uigDhP+Fr6L/0CvEP/gql/wAKP+Fr6L/0CvEP/gql/wAK7uigDhP+Fr6L/wBArxD/
AOCqX/Cj/ha+i/8AQK8Q/wDgql/wru6KAOE/4Wvov/QK8Q/+CqX/AAo/4Wvov/QK8Q/+CqX/AAru
6KAOE/4Wvov/AECvEP8A4Kpf8KP+Fr6L/wBArxD/AOCqX/Cu7ooA4T/ha+i/9ArxD/4Kpf8ACj/h
a+i/9ArxD/4Kpf8ACu7ooA4T/ha+i/8AQK8Q/wDgql/wo/4Wvov/AECvEP8A4Kpf8K7uigDhP+Fr
6L/0CvEP/gql/wAKbL8WNHWJyul+IAwUkE6VLjNd7SOokRkblWGD9KAPn/QP2kJAVi8QaIH6AzWL
YP8A3w3+Ndj4c8QWXib4yNqNglykDeHVXFxA0TZ+0E9GHI56jIrrtD8B+FvDg/4leiWkL/8APVk3
yf8AfTZP61jL/wAl5l/7Ftf/AEoNAHd0UUUAFFFFABRRRQAUUUUAFFFFAHB+M/8AkongD/r7uv8A
0Qa7yuD8Z/8AJRPAH/X3df8Aog13lAHG+N/+Piz/ANxv5iijxv8A8fFn/uN/MUUAdHL/AMh+1/69
pf8A0KOuT8Pf8lh8af8AXrYf+gNXWS/8h+1/69pf/Qo65Pw9/wAlh8af9eth/wCgNQB3dFFFABRR
RQAUUUUAFFFFABRRRQAVheJvEZ8PRWRjsWvJry48iOMTJEAdrNks3A4U1u1h+I/Ddv4jk0xbsQyW
1pdefJBNGHWUbGXbg+7Z/Ct8N7L2q9t8Ov5eXmJ3toZFx49li8OT6xDoVxMlnLJFexi4j/cFACSG
zhxz/DU0/i7VIbixsx4YuGv7qKSc24vIh5aIyjJYnBzuHGae/g8jwXqPhmG7SO1mEiWreVzDGxyF
PPzYORn0xU2s+DbDX9csL7U44rm3tLaSEW8ikgsxUhs57bSMe9dylgebWOl5fzXtb3eq6/lv1c+8
auiatBrujW2p2yOkU6khZBhlIJBB+hBq/Udvbw2lvHb20SQwxqFSONQqqB2AHSpK8ybi5NwVl0LQ
UUUVIBRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABXCJ/yXmX/sW1/9KDXd1wif8l5l/wCxbX/0oNAH
d0UUUAFFFFABRRRQAUUUUAFFFFAHB+M/+SieAP8Ar7uv/RBrvK4Pxn/yUTwB/wBfd1/6INd5QBxv
jf8A4+LP/cb+Yoo8b/8AHxZ/7jfzFFAHRy/8h+1/69pf/Qo687/4SjRvCvxT8ZXmtXyWsLW1iqEq
WLnY3AABya9El/5D9r/17S/+hR1yGhxRz/FzxtFNGkkbWthlHUEH5G7GgDW8KePtE8Y2V1eabJIk
FvP5JM6hCx2hsgZ6Yz19DW/9vtD/AMvEf5/X/A/lUenaRp2jpMmm2NvZpNIZZEgjCBnIAzgcZwBV
2gCv9utScfaI89Ov+fWj7faEZ+0R+vX6f4irFFAFf7faD/l4j/P6/wCB/Kj7da5x9ojz061YooAr
/b7Q/wDLxH+f0/xH50fb7QDP2iPHXr/n0qxRQBXN9ag4+0R56df8+ho+3Wp/5eI/z+n+I/OrFFAF
f7faYz9ojx160fbrQf8ALxH+f1/wP5VYooAr/brUnH2iPPTr/n1o+32hGftEeOvX/PqKsUUAV/t9
oP8Al4j/AD+v+B/Kj7da5x9ojznHWrFFAFf7faH/AJeI/wA/p/iPzo+32gGftEeOvX/PpViigCs1
/aKcG4jHXv6Zz/I/lS/brXOPtEeenWrFFAFf7faH/l4j/P6f4j86Pt9pjP2iPHXrViigCv8AbrUH
/j4j/P6/4H8qPt1qTj7RH6dfp/iKsUUAV/t9pjP2iPHXrR9vtB/y8R/n9f8AA/lViigCv9utc4+0
R56daPt9oRn7RH+f0/xH51YooArm/tAM/aI/Xr9f8DR9utc4+0R56dasUUAch4t+JOg+DJ9PTUzO
0V7vCywIHEe3b94Zz/EOmawPD/iDSvE3xnk1DR7xLq1Ph0JvUEYYXByCCBzyK77UdC0nV7i2uNS0
61u5bUsYGnjD+WTjOM/QflXIwxpF8dXjjRURfDahVUYAH2g9BQB31FFFABRRRQAUUUUAFFFFABRR
RQBwfjP/AJKJ4A/6+7r/ANEGu8rg/Gf/ACUTwB/193X/AKINd5QBxvjf/j4s/wDcb+Yoo8b/APHx
Z/7jfzFFAHRy/wDIftf+vaX/ANCjrk/D3/JYfGn/AF62H/oDV1kv/Iftf+vaX/0KOuT8Pf8AJYfG
n/XrYf8AoDUAd3RRRQAUUVz2p+JBYeIbWxEtqIAUFyJHAkBkJWPaM+o54PBFaU6UqjtETdjoaK5c
eKzDcMl1Hn9/cxRpEmS5jljjQAk9SXA9PpipdR8Y2Wkxwi+glt7iQMxglkjRlVSASCWw3XjBOa1+
qVm0kr3FzI6OisnVPEFppmm298QZYrkqIiGVFO4ZBLMQFGPU+gqGTxPax291M0E4FvbxXDLgZKyF
gAOevyn2qFh6sldL+th3RuUVzlp4ob7TdR3tnKkMd7Lax3CKCrFfurjO4kgYyBjPFLaeL7a9tFmt
7SeR5JRFBEjxsZGILYyGwpAUkhsEYqnhKy6BzI6KiuevvE/2aO5VbK5jkgsxdSNIi4jBLAAjcCTl
D0/Oo7PxWAsz6lbPb26XNxAt1gCM+Wz4HXOdqdcYyDT+qVeXmsHMjpaK5WPx9pUtpNMiszRlBtEs
ZBD52ksG2qODncRjj1q7q2vzWfhV9Ys7JpnwpWF2UdWC5znBHPY80PCVlJRlG13b5hzI3aKxYfEU
Ut3HC9pPFG8v2fzmKlBNjJj4OeMEZxjIxWfrXie/07UtQtotN3xW0FvKs5YHcZJChG3Oe2B7g54x
SjhaspcqWvqu9g5kdVRXOXXjKxsrdjdwvb3Kzm3NvLLGh3BQ/wB4ttxtZT174q//AG/ZtolvqsIe
aK52CFExudmOAoycZz70nhqqSbjuF0alFYc/iRbdQH06881IjNcRYXMEYJBY/Ngjg4xnODTP+Eqg
a6MUdncPF9o+zLOCuxpCgdQOc4IPXGM9aFhqr1SDmRv0VxFl8QI4dMtrjWokt7i4Uz+UkiL5cJJC
nl/mPB6c8HgVqXPjKxtUuJJYnSOK5+yxvJIiLNJjcQCzDAA5ycVpLA14ytyi5kdHRXMnxtYtbC5t
7W5uIFtjdSvHsIjjDMrE/NyQVPTOe2avN4it0kuma3nFla7xLeYHlqUXcw654HfGM8VDwtZbxHzI
2KKxtC8S2OvtOlqQJINpZfMR/lbODlSR2PHUVXj166fQbS+McXmzX62zDBwFNx5eRz1x+tJ4aopc
rVndL79gujoaK4nR/FeoahqFvCZbeZ5Z3VrVLKWNo41cqXEpYq2OM4HOcV0mg6hLqmiwXkyoskhf
IQccMR/SqrYWpR1l/W/+QKSZpUUUVzDCuET/AJLzL/2La/8ApQa7uuET/kvMv/Ytr/6UGgDu6KKK
ACiiigAooooAKKKKACiiigDg/Gf/ACUTwB/193X/AKINd5XB+M/+SieAP+vu6/8ARBrvKAON8b/8
fFn/ALjfzFFHjf8A4+LP/cb+YooA6OX/AJD9r/17S/8AoUdcn4e/5LD40/69bD/0Bq6yX/kP2v8A
17S/+hR1yfh7/ksPjT/r1sP/AEBqAO7ooooAKy5/DumXQuzcWqTSXRJeV1BdcgAbWxkYAGPStSiq
hOUNYuwWMN/CmnScu1wX3SuH8zBDSOjlhx1DIpHpT5fDdvKsRa9vxOgZWuBMPMkViCVJxjHA6AY7
YrZorT6xV/mFZFO905L20W38+eALja8T4bpjByCCPqDWVL4N0yS3W3jkuoIfJSB44pcCRVYsu7js
SemOproaKUK9SCtGVgsmY8XhuzivXuPOunV52ufJaT92JW/iAxnIzxzx161EvhSyUySfabw3TMrL
dGQeam3cFwcc8Mw5BJyc5rdop/Wav8wWRkSeHLKaG6jkkuH+02yWsrNJliqliDk98u3NMj8L2CyS
GR7iaF5JZTbyyZjDyFtzAY/2mHtmtqij6xVtbmYWRjxeHYYrWSBb/UCW2hZDMNyBegHGMc9wc981
J/YFj/YLaMBItqwIJVsNktuLZ9d3Pp7VqUUnXqPr1v8AMLIyIfDtrDeJcma5k2P5widwUMuMGQjH
3jyfTJzinah4ftNRu3uZZJ1aSNIpEjcBXCPvTIx1BJ6eprVoo9vUvzX1CyMi58OWlxNNcLLcQ3Es
/n+dE4DI3lrGQMgjBVRwasz6Vb3GmJYs0wSPaUkDnzFZTkMGPfIzV6ij21R2122CyMWbw1a3EaK9
3e7/AC2ilkE3zToTkq5x05PTGM8YqYeH7EHKiRR9sW8ADcB1UKB/u4A4rUop+3q/zBZGGPCtikVt
HDPdwiCIQFopcGSMEkKxx6k8jB5PNTS+HbOSKVVeeJ3uWullRhvjkIwSuRjGOMEHrWtRR9Yq78wW
Rjv4bsZIJ4pJLh/PszZSM0mWKEsSc/3sseacfD1m09wzSXBguA3m2vmfumLLtZiPUj3x3xmtaij2
9X+YLIo6bpaaarhbm5uC+BuuJNxAHQDAA/qe9V08P2yXizCe5MKy+ctqZP3SyZzuAxnqc4zjPata
ip9tO7d9wsjLi0CyhgsoozKps5mmhfd8wLElgT3B3EEVPp2mRaXAkFvJKYUUhUdgRyxYnp15q7RR
KrOSs3/X9NhZBRRRWYwrhE/5LzL/ANi2v/pQa7uuET/kvMv/AGLa/wDpQaAO7ooooAKKKKACiiig
AooooAKKKKAOD8Z/8lE8Af8AX3df+iDXeVwfjP8A5KJ4A/6+7r/0Qa7ygDjfG/8Ax8Wf+438xRR4
3/4+LP8A3G/mKKAOjl/5D9r/ANe0v/oUdcn4e/5LD40/69bD/wBAausl/wCQ/a/9e0v/AKFHXJ+H
v+Sw+NP+vWw/9AagDu6KKKACiiigAooooAxdT8V6PpF99jvLiRZQqvIUhd1hViQGdlBCA4PX0qS4
8S6Xaw6rNLOwTSsfayEJ2ZUMMevDDpXOeKvD2sahq8tzp1nbmWSJY4L+K9e2ltyM/wCsABEq55AP
qRUGr+GNfm/tqwt47S4t9cSIT3bzGMwMsao52bTuztyMHvXqU8NhZRg3Oza11XdX9NL763Wi7w3I
3brxxolnqc9jPJcq9u6pNKLWQxRFgCN0gG0cMOp71ZufFej2urf2bLcOJw6xuwhcxxu2Nqs4G1Sc
jAJ71xGt+Dddu9e1t7azd4L6WN4J/wC1GiiQrGigyQBSJMMucHqOK09W8N6/PrklzZQWsNxI8bLq
kF28OFXGRLBgrKeCB7EdMVr9Uwdo+/utdVvZf5vTfTRMXNI6K48XaNbambCS4kMqyCJ3SB2jRzjC
s4G0HkcE1CnjfRH1R7DzLlHS4NqZXtZBD5oO3Z5mNuc8daq6dZeIdEuJdPs7OxuLGa7kuBeTXLKy
K77mUptOWGSAc46VkweB76HUZNTdpJn/ALZkujYvdN9nkhZ8q+z7okXhh7is4UMJrzS6aarX5W09
H8x3kdBdeNtGtAm5rqVnuJrZUgtXkYyRHDjaoJwPWkuPG+iQWtlcCS5nF4ZFhSC1kkk3J98FAMgj
uCK5TUfB+u77eaG1Mxi1S/uSlvqJtXMcx+QiQDI9xUU3g3xAllo5S1aQ2s91I0EGqNDLGsu3aDOB
lzncScc5reODwLUff7/aX963pst9NSeaR6PpupQ6pYreQpPHGxIxcQtEwx6qwBFEuq2cX2XEokW6
l8mJohvBbBPJHT7p5rGj0q7vvA0+lXlrJDPJC8XlS6g0zHJOMzYz+nFYWmeE9Zt2015kgCW+rLdk
EoJBGIWQligCs2SMYA4681xRw9B87c7WbstNe2pV2d4t3bOGKXETBF3MQ4OB6n24NZep+LNH0icQ
XM8jPsEjiCB5fLQ9GcoDtHHeuC8DeHb1tOsNQXR7GKGO1uVk+fD6hvJCxyArwAR1OfauoWw17R9T
vLvSNNsZ01FIWaKW5MYtXSMJjhTuTAHTHetZ4OhSqypud7eaWt7b6201/DcFJtXOpS6t3EO2aM+c
u6MbsFxjOQO9KLmBpPLWaMyDPyhxnjrx7VwWueD9V1HWLuYW1hNJeNA0WpPKVl07YBuEY25IyCRg
jluaVfA841gaibK1+0Nr0l1JNuG9rRo2XaTjuSMrULC4flu6vTy3+/5d9NrNBzPsdlYazZanp8l9
ayM9qjOvmFCA23glc9Rwefasebx9oMJtv3l3ILi1S8VorSSQLExIDNtB2jg9aoaF4Q1DTvDNjZLf
vYPAsvnWtssZjnLMxG5iuemBxiqGl6J4n8P3NhJaaXaXZGi29hLvvPLEciM5J+6dw+YdK0jhsI5T
tO9npql36tW89BXkeg29xDd20VxbyLJDKodHU5DKRkEVJWZ4d0o6H4dsNMaXzXtoVRnHQnvj2z0r
TrzaiiptRd1fQ0QUUUVABRRRQAUUUUAFcIn/ACXmX/sW1/8ASg13dcIn/JeZf+xbX/0oNAHd0UUU
AFFFFABRRRQAUUUUAFFFFAHB+M/+SieAP+vu6/8ARBrvK4Pxn/yUTwB/193X/og13lAHG+N/+Piz
/wBxv5iijxv/AMfFn/uN/MUUAdHL/wAh+1/69pf/AEKOvNm8TR+G/i94saTSdX1Dz7ayAGnWhnKY
RvvY6Zzx9DXpMv8AyH7X/r2l/wDQo65Pw9/yWHxp/wBeth/6A1AB/wALQt/+hS8X/wDgob/Gj/ha
Fv8A9Cl4v/8ABQ3+Nd3RQBwn/C0Lf/oUvF//AIKG/wAaP+FoW/8A0KXi/wD8FDf413dFAHCf8LQt
/wDoUvF//gob/Gj/AIWhb/8AQpeL/wDwUN/jXd0UAcJ/wtC3/wChS8X/APgob/Gj/haFv/0KXi//
AMFDf413dFAHCf8AC0Lf/oUvF/8A4KG/xo/4Whb/APQpeL//AAUN/jXd0UAcJ/wtC3/6FLxf/wCC
hv8AGj/haFv/ANCl4v8A/BQ3+Nd3RQBwn/C0Lf8A6FLxf/4KG/xo/wCFoW//AEKXi/8A8FDf413d
FAHCf8LQt/8AoUvF/wD4KG/xo/4Whb/9Cl4v/wDBQ3+Nd3RQBwn/AAtC3/6FLxf/AOChv8aP+FoW
/wD0KXi//wAFDf413dFAHCf8LQt/+hS8X/8Agob/ABo/4Whb/wDQpeL/APwUN/jXd0UAcJ/wtC3/
AOhS8X/+Chv8aP8AhaFv/wBCl4v/APBQ3+Nd3RQBwn/C0Lf/AKFLxf8A+Chv8aP+FoW//QpeL/8A
wUN/jXd0UAcJ/wALQt/+hS8X/wDgob/Gj/haFv8A9Cl4v/8ABQ3+Nd3RQBwn/C0Lf/oUvF//AIKG
/wAaP+FoW/8A0KXi/wD8FDf413dFAHCf8LQt/wDoUvF//gob/GmTfFGAQyFPCfi5WCkgtpDYBx35
rvqR1DoyMMqwwR7UAfO/h79ozUkdINd0WO7zx5tmSjn/AICcgn8RXc+G9eh8R/GNtQgs761jbw6o
8u9gMT/8fB5APUc9RxXbaL4R8PeHFxpGj2lof76Rguf+BHn9a55P+S8y/wDYtr/6UGgDu6KKKACi
iigAooooAKKKKACiiigDg/Gf/JRPAH/X3df+iDXeVwfjP/kongD/AK+7r/0Qa7ygDjfG/wDx8Wf+
438xRR43/wCPiz/3G/mKKAOjl/5D9r/17S/+hR1yfh7/AJLD40/69bD/ANAausl/5D9r/wBe0v8A
6FHXJ+Hv+Sw+NP8Ar1sP/QGoA7uiiigAooooAKKKKACiiigApsjFIncIXKqSFXqfYU6myKzRsqPs
YggNjOD601uBxf8Awm+pQPPa3uixRagTbi3hS63LumYqiSNt+VhgkgZ46UyXx9c/ZysGlRSXtrHc
S38JucLEkDhX2Nt+YknI4HvU9n4Dlt7Ce0uNfu7nfMtzFKYIlkinVtwk3Bcse3zZGOKkm8A2slpH
Gmp3sU7LMl3cJs33STNukDZXAyRwRjFexzZepapb9Oa2332v879bGfvmnqviEWen6fLY232u51J1
jtIS+wMWUtlm5wAoJPBrGu/HFxpMckWr2Fva3lvc20c+243ReTM+3zVbAPGG4IHSt7VNAt9S0+2t
klltHtHWS1ngIDwsowCMggjBIIIwQay28DwXELG/1G5vbuS6t7ia4mVP3ghbcse0AKF68AdzXPQl
g1Fe0XXzvv8Ada3zuN83Q0vD+tNr9rLqEUKpp7uVtXLfPIoOCzL/AA8jgdfXFbFZ2n6RHpt9fzwS
sIbyQTGDA2pJjDMv+9wSPXnvWjXHWcHNunsUr21CiiishhRRRQAUUUUAFFFFABRRRQAUUUUAFFFF
ABXCJ/yXmX/sW1/9KDXd1wif8l5l/wCxbX/0oNAHd0UUUAFFFFABRRRQAUUUUAFFFFAHB+M/+Sie
AP8Ar7uv/RBrvK4Pxn/yUTwB/wBfd1/6INd5QBxvjf8A4+LP/cb+Yoo8b/8AHxZ/7jfzFFAHRy/8
h+1/69pf/Qo689TxNovhf4reMrrWtQhs4ntrEIXzlyEbhQOSfpXoUv8AyH7X/r2l/wDQo64zSLO1
vvi142gvLaG4ha1sd0cyB1PyN2NAHO6j+0RoCahBa6XY3FxE8qpJdXB8pEUnBYDljgc9BXX/APC3
PAX/AEMlt/3xJ/8AE1Tv/gz4OutTt9RtbF9PuYJkmH2V8IxVgcFDkY47Yru/slt/z7xf98CgDkP+
FueAv+hktv8AviT/AOJo/wCFueAv+hktv++JP/ia6/7Jbf8APvF/3wKPslt/z7xf98CgDkP+FueA
v+hktv8AviT/AOJo/wCFueAv+hktv++JP/ia6/7Jbf8APvF/3wKPslt/z7xf98CgDkP+FueAv+hk
tv8AviT/AOJo/wCFueAv+hktv++JP/ia6/7Jbf8APvF/3wKPslt/z7xf98CgDkP+FueAv+hktv8A
viT/AOJo/wCFueAv+hktv++JP/ia6/7Jbf8APvF/3wKPslt/z7xf98CgDkP+FueAv+hktv8AviT/
AOJo/wCFueAv+hktv++JP/ia6/7Jbf8APvF/3wKPslt/z7xf98CgDkP+FueAv+hktv8AviT/AOJo
/wCFueAv+hktv++JP/ia6/7Jbf8APvF/3wKPslt/z7xf98CgDkP+FueAv+hktv8AviT/AOJo/wCF
ueAv+hktv++JP/ia6/7Jbf8APvF/3wKPslt/z7xf98CgDkP+FueAv+hktv8AviT/AOJo/wCFueAv
+hktv++JP/ia6/7Jbf8APvF/3wKPslt/z7xf98CgDkP+FueAv+hktv8AviT/AOJo/wCFueAv+hkt
v++JP/ia6/7Jbf8APvF/3wKPslt/z7xf98CgDkP+FueAv+hktv8AviT/AOJo/wCFueAv+hktv++J
P/ia6/7Jbf8APvF/3wKPslt/z7xf98CgDkP+FueAv+hktv8AviT/AOJo/wCFueAv+hktv++JP/ia
6/7Jbf8APvF/3wKPslt/z7xf98CgDkP+FueAv+hktv8AviT/AOJo/wCFueAv+hktv++JP/ia6/7J
bf8APvF/3wKPslt/z7xf98CgDkP+FueAv+hktv8AviT/AOJo/wCFueAv+hktv++JP/ia6/7Jbf8A
PvF/3wKPslt/z7xf98CgDkP+FueAv+hktv8AviT/AOJo/wCFueAv+hktv++JP/ia6/7Jbf8APvF/
3wKPslt/z7xf98CgDkP+FueAv+hktv8AviT/AOJrF8P+ItI8TfGue90a+S8tk8PiJpEBADCfJHIH
Yj869J+yW3/PvF/3wK4iGNI/jvKsaKg/4RxeFGP+Xg0Ad7RRRQAUUUUAFFFFABRRRQAUUUUAcH4z
/wCSieAP+vu6/wDRBrvK4Pxn/wAlE8Af9fd1/wCiDXeUAcb43/4+LP8A3G/mKKPG/wDx8Wf+438x
RQB0cv8AyH7X/r2l/wDQo65Pw9/yWHxp/wBeth/6A1dZL/yH7X/r2l/9Cjrk/D3/ACWHxp/162H/
AKA1AHd0UUUAFFFFABRRRQAUUUUAFRT3Nvaor3E8cKs4RTIwUFicADPc+lS1yvj7SX1vRbKxWCWW
N9StvOEWcrHv+ZuOmBzmtsPTjUqxhN2T6ibsjomvrRPtG+6gX7Pgz5kA8rIyN3pxzzVdte0dNPGo
NqtiLItsFwbhPLLem7OM+1ecpouvPcapNqemy3qwanaSTRqoP2+GKIpuUHhjnaxX1GK3NO0wahd6
7fxaG9jp1zaJHFaXNuqNNMofMnl9uGVQTycV3TwVGCu5322t1tp+PbZetp5mzq7XXdIvgptNUsrj
c/lr5U6tl8Z28HrgE49Krx+KvD00hji13TXcdVW6QkfrXK2GiXFtpPgJU01opLZla8CxbTGfszqS
+O+SBk9zS+BPCFzb+HLVdXeNoZrMxSWEthHG8e7qC4+Y8Z6+tE8LhoRlNz22XV6yXbyv033Dmkd4
biEXItjNH55QuItw3FQcZx1xnvUlct4J0y4tLW7udQE7XzTvbrJcD5zbxsViA9ivzZ7kk11NcNen
GnUcIu9upSd0FFFFYjCiiigAooooAKKKKACiiigAooooAKKKKACuET/kvMv/AGLa/wDpQa7uuET/
AJLzL/2La/8ApQaAO7ooooAKKKKACiiigAooooAKKKKAOD8Z/wDJRPAH/X3df+iDXeVwfjP/AJKJ
4A/6+7r/ANEGu8oA43xv/wAfFn/uN/MUUeN/+Piz/wBxv5iigDo5f+Q/a/8AXtL/AOhR1w1jq+m6
L8V/Gtzql/bWcH2Wx+eeUID8jdM9a7mX/kP2v/XtL/6FHXBWuhaTr/xX8Z22radbXsItrEhZ4w20
7G5B6g/SgCPUfjx4QtdQgsrKSa+aSZY2mVfLhjBOCxZscDrwK67/AIT7wd/0NWi/+B0f+NcZf/AP
wrLqdvfaa9xYmKZZWgJ86FwCCVIbnBxjr+Fd5/wiPhr/AKF7Sf8AwCj/AMKAK3/CfeDv+hq0X/wO
j/xo/wCE+8Hf9DVov/gdH/jVn/hEfDX/AEL2k/8AgFH/AIUf8Ij4a/6F7Sf/AACj/wAKAK3/AAn3
g7/oatF/8Do/8aP+E+8Hf9DVov8A4HR/41Z/4RHw1/0L2k/+AUf+FH/CI+Gv+he0n/wCj/woArf8
J94O/wChq0X/AMDo/wDGj/hPvB3/AENWi/8AgdH/AI1Z/wCER8Nf9C9pP/gFH/hR/wAIj4a/6F7S
f/AKP/CgCt/wn3g7/oatF/8AA6P/ABo/4T/wd/0NWi/+B0f+NWf+ER8Nf9C9pP8A4BR/4Uf8Ij4a
/wChe0n/AMAo/wDCgCt/wn/g7/oatF/8Do/8aP8AhP8Awd/0NWi/+B0f+NWf+ER8Nf8AQvaT/wCA
Uf8AhR/wiPhr/oXtJ/8AAKP/AAoArf8ACf8Ag7/oatF/8Do/8aP+E/8AB3/Q1aL/AOB0f+NWf+ER
8Nf9C9pP/gFH/hR/wiPhr/oXtJ/8Ao/8KAK3/Cf+Dv8AoatF/wDA6P8Axo/4T7wd/wBDVov/AIHR
/wCNWf8AhEfDX/QvaT/4BR/4Uf8ACI+Gv+he0n/wCj/woArf8J94O/6GrRf/AAOj/wAaP+E+8Hf9
DVov/gdH/jVn/hEfDX/QvaT/AOAUf+FH/CI+Gv8AoXtJ/wDAKP8AwoArf8J94O/6GrRf/A6P/Gj/
AIT7wd/0NWi/+B0f+NWf+ER8Nf8AQvaT/wCAUf8AhR/wiPhr/oXtJ/8AAKP/AAoArf8ACfeDv+hq
0X/wOj/xo/4T7wd/0NWi/wDgdH/jVn/hEfDX/QvaT/4BR/4Uf8Ij4a/6F7Sf/AKP/CgCt/wn3g7/
AKGrRf8AwOj/AMaP+E+8Hf8AQ1aL/wCB0f8AjVn/AIRHw1/0L2k/+AUf+FH/AAiPhr/oXtJ/8Ao/
8KAK3/CfeDv+hq0X/wADo/8AGj/hPvB3/Q1aL/4HR/41Z/4RHw1/0L2k/wDgFH/hR/wiPhr/AKF7
Sf8AwCj/AMKAK3/CfeDv+hq0X/wOj/xo/wCE+8Hf9DVov/gdH/jVn/hEfDX/AEL2k/8AgFH/AIUf
8Ij4a/6F7Sf/AACj/wAKAK3/AAn3g7/oatF/8Do/8aP+E+8Hf9DVov8A4HR/41Z/4RHw1/0L2k/+
AUf+FH/CI+Gv+he0n/wCj/woArf8J94O/wChq0X/AMDo/wDGuZ0rV9N1r44TXOl6ha3sC+HlRpLa
VZFDeeTjIPXBH511/wDwiPhr/oXtJ/8AAKP/AArk9P06x0z45zQ2Fnb2kTeHVYpBEsak/aDzgDrw
KAPRaKKKACiiigAooooAKKKKACiiigDg/Gf/ACUTwB/193X/AKINd5XB+M/+SieAP+vu6/8ARBrv
KAON8b/8fFn/ALjfzFFHjf8A4+LP/cb+YooA6OX/AJD9r/17S/8AoUdcn4e/5LD40/69bD/0Bq6y
X/kP2v8A17S/+hR1yfh7/ksPjT/r1sP/AEBqAO7ooooAKKKKACiiigAooooAKKKKAGs6KyqzKC3C
gnr9KUOpcoGBYdRnkV5146OjSeI7O2uYp0vZFjY3/kyyC1jV8gR7QcSMcjPHHXsKxptP1R7m+j06
1uE14LqJvp/JdfNR8+QA54bjbtAPGD0r1KWXKdOM3K111Wnre+3T1tpqiHOzPXldXXcjBh6g5pPM
QyGPeu8DJXPOPpXG+BIYkudXk061ktdIfyBbxSQtF+9CYlIVgD12gnuQa5q0tIhBZWyabeL41S+R
7i7a3k/565kdpfumIpuAGehAxULAJzlDm2t07q+uuiWz3sHNoerebGF3eYm3O3O4Yz0xT68t0Ozv
rW/h1DUojNo66xdxx23lNmB3lbZOw/i5yvTChgR3r1KsMVhlQkoqV/629RxdwooorlKCiiigAooo
oAKKKKACiiigAooooAKKKKACuET/AJLzL/2La/8ApQa7uuET/kvMv/Ytr/6UGgDu6KKKACiiigAo
oooAKKKKACiiigDg/Gf/ACUTwB/193X/AKINd5XB+M/+SieAP+vu6/8ARBrvKAON8b/8fFn/ALjf
zFFHjf8A4+LP/cb+YooA6OX/AJD9r/17S/8AoUdcbot1bWvxg8ZG4uIoQ1tY48xwufkbpmuyl/5D
9r/17S/+hR157D4Y0TxJ8X/Fq6zplveiC2sjF5wzsyjZx9cD8qAPRf7W03/oI2n/AH/X/Gj+1tN/
6CNp/wB/1/xrnf8AhVvgb/oWbD/vg/40f8Kt8Df9CzYf98H/ABoA6L+1tN/6CNp/3/X/ABo/tbTf
+gjaf9/1/wAa53/hVvgb/oWbD/vg/wCNH/CrfA3/AELNh/3wf8aAOi/tbTf+gjaf9/1/xo/tbTf+
gjaf9/1/xrnf+FW+Bv8AoWbD/vg/40f8Kt8Df9CzYf8AfB/xoA6L+1tN/wCgjaf9/wBf8aP7W03/
AKCNp/3/AF/xrnf+FW+Bv+hZsP8Avg/40f8ACrfA3/Qs2H/fB/xoA6L+1tN/6CNp/wB/1/xo/tbT
f+gjaf8Af9f8a53/AIVb4G/6Fmw/74P+NH/CrfA3/Qs2H/fB/wAaAOi/tfTf+gjaf9/1/wAaP7X0
3/oI2n/f9f8AGud/4Vb4G/6Fmw/74P8AjR/wq3wN/wBCzYf98H/GgDov7X03/oI2n/f9f8aP7X03
/oI2n/f9f8a53/hVvgb/AKFmw/74P+NH/CrfA3/Qs2H/AHwf8aAOi/tfTf8AoI2n/f8AX/Gj+1tN
/wCgjaf9/wBf8a53/hVvgb/oWbD/AL4P+NH/AAq3wN/0LNh/3wf8aAOi/tbTf+gjaf8Af9f8aP7W
03/oI2n/AH/X/Gud/wCFW+Bv+hZsP++D/jR/wq3wN/0LNh/3wf8AGgDov7W03/oI2n/f9f8AGj+1
tN/6CNp/3/X/ABrnf+FW+Bv+hZsP++D/AI0f8Kt8Df8AQs2H/fB/xoA6L+1tN/6CNp/3/X/Gj+1t
N/6CNp/3/X/Gud/4Vb4G/wChZsP++D/jR/wq3wN/0LNh/wB8H/GgDov7W03/AKCNp/3/AF/xo/tb
Tf8AoI2n/f8AX/Gud/4Vb4G/6Fmw/wC+D/jR/wAKt8Df9CzYf98H/GgDov7W03/oI2n/AH/X/Gj+
1tN/6CNp/wB/1/xrnf8AhVvgb/oWbD/vg/40f8Kt8Df9CzYf98H/ABoA6L+1tN/6CNp/3/X/ABo/
tbTf+gjaf9/1/wAa53/hVvgb/oWbD/vg/wCNH/CrfA3/AELNh/3wf8aAOi/tbTf+gjaf9/1/xpsm
s6ZHGznULUhQTgTL/jXP/wDCrfA3/Qs2H/fB/wAaZJ8LPBLROqeGtPVipCnYeD+dAFLQPjJ4K14q
g1P7DOcDyr5fK5/3vu/rRbyxT/HR5YZEkjbw2pV0YEH/AEg9CK47QP2cdLtysuvarPeP1MNsvlJ+
ZyT+ldB4e8O6T4X+M8mn6NZJaW3/AAjyuUVidzGcgkkkkngflQB6fRRRQAUUUUAFFFFABRRRQAUU
UUAcH4z/AOSieAP+vu6/9EGu8rg/Gf8AyUTwB/193X/og13lAHG+N/8Aj4s/9xv5iijxv/x8Wf8A
uN/MUUAdHL/yH7X/AK9pf/Qo65Pw9/yWHxp/162H/oDV1F7MLfVopyjuI7Od9kYyzYKHAHc15J4T
+J3h69+LOsTw/bGXWhZ21oPI53qCrbhngZI5+tAHt1FFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFF
FABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFcIn/JeZf8AsW1/9KDXdE4BOCfYV4en
xT8Of8LkbUSt+I20xdM8s2/zifzydu3PTn86APcaKKKACiiigAooooAKKKKACiiigDg/Gf8AyUTw
B/193X/og13leLeP/iPoWn/Ejw9HdLeRvod1O12DD2eLCleeQcg/Q17Bp97FqWm2t9AHWK5iWZBI
u1grAEZHY80Act43/wCPiz/3G/mKKPG//HxZ/wC438xRQB0cv/Iftf8Ar2l/9CjrxvwZ4A/sv4+a
3O0GLKxRrq2OOAZvugfQGQf8Br2q6sLe8kjkmV98YIVkkZCAcZHykeg/Kqw0KwWVpQs4kcAMwuZM
kDOAfm7ZP50AaVFUP7HtPW5/8Cpf/iqP7HtPW5/8Cpf/AIqgC/RVD+x7T1uf/AqX/wCKo/se09bn
/wACpf8A4qgC/RVD+x7T1uf/AAKl/wDiqP7HtPW5/wDAqX/4qgC/RVD+x7T1uf8AwKl/+Ko/se09
bn/wKl/+KoAv0VQ/se09bn/wKl/+Ko/se09bn/wKl/8AiqAL9FUP7HtPW5/8Cpf/AIqj+x7T1uf/
AAKl/wDiqAL9FUP7HtPW5/8AAqX/AOKo/se09bn/AMCpf/iqAL9FUP7HtPW5/wDAqX/4qj+x7T1u
f/AqX/4qgC/RVD+x7T1uf/AqX/4qj+x7T1uf/AqX/wCKoAv0VQ/se09bn/wKl/8AiqP7HtPW5/8A
AqX/AOKoAv0VQ/se09bn/wACpf8A4qj+x7T1uf8AwKl/+KoAv0VQ/se09bn/AMCpf/iqP7HtPW5/
8Cpf/iqAL9FUP7HtPW5/8Cpf/iqP7HtPW5/8Cpf/AIqgC/RVD+x7T1uf/AqX/wCKo/se09bn/wAC
pf8A4qgC/RVD+x7T1uf/AAKl/wDiqP7HtPW5/wDAqX/4qgC/XhjeANv7SKXPkE2DRnVunAb7uP8A
v5z+Neyf2Paetz/4FS//ABVM/sKw84TbZ/NC7N/2mTO3OcZ3dKANKiqH9j2nrc/+BUv/AMVR/Y9p
63P/AIFS/wDxVAF+iqH9j2nrc/8AgVL/APFUf2Paetz/AOBUv/xVAF+iqH9j2nrc/wDgVL/8VR/Y
9p63P/gVL/8AFUAX6Kof2Paetz/4FS//ABVH9j2nrc/+BUv/AMVQBfoqh/Y9p63P/gVL/wDFUf2P
aetz/wCBUv8A8VQB478XPATa38S/C91DCTDqci2t0R6IdxJ/4Bu/75r3BUVEVEUKqjAAHAFZz6FY
SOjus7NGdyE3MmVOMZHzehIp/wDY9p63P/gVL/8AFUAc543/AOPiz/3G/mKK338P6ZKczQPKQMAy
zO+Ppk8UUAf/2Q==
------=_Part_16222_32250414.1204881314969
Content-Type: image/jpeg; name=outlook_huawei_logo_en.jpg
Content-Transfer-Encoding: base64
Content-ID: <008a01c8801c$edce77b0$03cb550a@china.huawei.com>
X-Attachment-Id: 0.2

/9j/4AAQSkZJRgABAQEAYABgAAD/7QxmUGhvdG9zaG9wIDMuMAA4QklNBCUAAAAAABAAAAAAAAAA
AAAAAAAAAAAAOEJJTQPtAAAAAAAQAEgAAAABAAIASAAAAAEAAjhCSU0EJgAAAAAADgAAAAAAAAAA
AAA/gAAAOEJJTQQNAAAAAAAEAAAAHjhCSU0EGQAAAAAABAAAAB44QklNA/MAAAAAAAkAAAAAAAAA
AAEAOEJJTQQKAAAAAAABAAA4QklNJxAAAAAAAAoAAQAAAAAAAAACOEJJTQP1AAAAAABIAC9mZgAB
AGxmZgAGAAAAAAABAC9mZgABAKGZmgAGAAAAAAABADIAAAABAFoAAAAGAAAAAAABADUAAAABAC0A
AAAGAAAAAAABOEJJTQP4AAAAAABwAAD/////////////////////////////A+gAAAAA////////
/////////////////////wPoAAAAAP////////////////////////////8D6AAAAAD/////////
////////////////////A+gAADhCSU0EAAAAAAAAAgAAOEJJTQQCAAAAAAACAAA4QklNBDAAAAAA
AAEBADhCSU0ELQAAAAAABgABAAAABjhCSU0ECAAAAAAAEAAAAAEAAAJAAAACQAAAAAA4QklNBB4A
AAAAAAQAAAAAOEJJTQQaAAAAAAM9AAAABgAAAAAAAAAAAAAAIAAAAGYAAAAEAGwAbwBnAG8AAAAB
AAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAGYAAAAgAAAAAAAAAAAAAAAAAAAAAAEAAAAA
AAAAAAAAAAAAAAAAAAAAEAAAAAEAAAAAAABudWxsAAAAAgAAAAZib3VuZHNPYmpjAAAAAQAAAAAA
AFJjdDEAAAAEAAAAAFRvcCBsb25nAAAAAAAAAABMZWZ0bG9uZwAAAAAAAAAAQnRvbWxvbmcAAAAg
AAAAAFJnaHRsb25nAAAAZgAAAAZzbGljZXNWbExzAAAAAU9iamMAAAABAAAAAAAFc2xpY2UAAAAS
AAAAB3NsaWNlSURsb25nAAAAAAAAAAdncm91cElEbG9uZwAAAAAAAAAGb3JpZ2luZW51bQAAAAxF
U2xpY2VPcmlnaW4AAAANYXV0b0dlbmVyYXRlZAAAAABUeXBlZW51bQAAAApFU2xpY2VUeXBlAAAA
AEltZyAAAAAGYm91bmRzT2JqYwAAAAEAAAAAAABSY3QxAAAABAAAAABUb3AgbG9uZwAAAAAAAAAA
TGVmdGxvbmcAAAAAAAAAAEJ0b21sb25nAAAAIAAAAABSZ2h0bG9uZwAAAGYAAAADdXJsVEVYVAAA
AAEAAAAAAABudWxsVEVYVAAAAAEAAAAAAABNc2dlVEVYVAAAAAEAAAAAAAZhbHRUYWdURVhUAAAA
AQAAAAAADmNlbGxUZXh0SXNIVE1MYm9vbAEAAAAIY2VsbFRleHRURVhUAAAAAQAAAAAACWhvcnpB
bGlnbmVudW0AAAAPRVNsaWNlSG9yekFsaWduAAAAB2RlZmF1bHQAAAAJdmVydEFsaWduZW51bQAA
AA9FU2xpY2VWZXJ0QWxpZ24AAAAHZGVmYXVsdAAAAAtiZ0NvbG9yVHlwZWVudW0AAAARRVNsaWNl
QkdDb2xvclR5cGUAAAAATm9uZQAAAAl0b3BPdXRzZXRsb25nAAAAAAAAAApsZWZ0T3V0c2V0bG9u
ZwAAAAAAAAAMYm90dG9tT3V0c2V0bG9uZwAAAAAAAAALcmlnaHRPdXRzZXRsb25nAAAAAAA4QklN
BCgAAAAAAAwAAAABP/AAAAAAAAA4QklNBBEAAAAAAAEBADhCSU0EFAAAAAAABAAAAAg4QklNBAwA
AAAABnAAAAABAAAAZgAAACAAAAE0AAAmgAAABlQAGAAB/9j/4AAQSkZJRgABAgAASABIAAD/7QAM
QWRvYmVfQ00AAv/uAA5BZG9iZQBkgAAAAAH/2wCEAAwICAgJCAwJCQwRCwoLERUPDAwPFRgTExUT
ExgRDAwMDAwMEQwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwBDQsLDQ4NEA4OEBQODg4UFA4O
Dg4UEQwMDAwMEREMDAwMDAwRDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDP/AABEIACAAZgMB
IgACEQEDEQH/3QAEAAf/xAE/AAABBQEBAQEBAQAAAAAAAAADAAECBAUGBwgJCgsBAAEFAQEBAQEB
AAAAAAAAAAEAAgMEBQYHCAkKCxAAAQQBAwIEAgUHBggFAwwzAQACEQMEIRIxBUFRYRMicYEyBhSR
obFCIyQVUsFiMzRygtFDByWSU/Dh8WNzNRaisoMmRJNUZEXCo3Q2F9JV4mXys4TD03Xj80YnlKSF
tJXE1OT0pbXF1eX1VmZ2hpamtsbW5vY3R1dnd4eXp7fH1+f3EQACAgECBAQDBAUGBwcGBTUBAAIR
AyExEgRBUWFxIhMFMoGRFKGxQiPBUtHwMyRi4XKCkkNTFWNzNPElBhaisoMHJjXC0kSTVKMXZEVV
NnRl4vKzhMPTdePzRpSkhbSVxNTk9KW1xdXl9VZmdoaWprbG1ub2JzdHV2d3h5ent8f/2gAMAwEA
AhEDEQA/APVJAIBOp4C5ofXOq3rw6ZTTNDbPSsvcdd3HsZ+7uWF9durdTwPrLjX1OLasdjX4/wC6
6f56f3t30Fk3WMr69Rn4v9Gz7WX1/wAklw9ao/yqrPaqmXmCDwx04ZDi8Yu/yPweEsQy5an7+GUs
VaDHl/dl/X4P/Uj6R+1g3LdS9o9IP2B4Os+bVoSJidR2Xn1fVmP6rk2XOjHxbH3XnyafZWP5Vtns
U/qp1vqPUvrTbfJNF1bje381rW/zP9Xb9FHHzB4uGWvFKo+TBm+DzGOeQVAYcQyTvaUukP7/AA/9
w9+kqfV+qUdI6ZkdSyA51OKz1HhmriP5KqZ/1mwcH6vD6wWssdiurZaGNA3xZG32z/KVpx3XSWVh
fWLCzerW9Jqa8X049eS5zh7dloBYB/K9yfp/1gw8/qXUem1Ne23pbmtvc4ANO8bhsPySU6iS53pX
146P1azqFWE2x9nTmueWkAG1jS5pfj6+9u5qd/136Oz6sD6zHf8AYyQ30wB6m8u9L0ts7dzXJKeh
SWDk/XHpVHQMbr0WWY2Y5jKK2AGwvsO0V7Z+k3a5Bzfrz0/HzrOn4uLldRyscD7SzFr3isn8yx8t
bvSU9Ikucy/rrj4tOC6zp+Z9o6iLTThisesPRG9+6vd+4NySSn//0GzsL6w9JyLemZmLZ1Lpm8uo
JBeNpMtfRc2X0W/vq90PoZzHCineK2WNyGMvaWWUvaRua7822m5ns31/nrr/AKw/VjF661hsuuxb
qtG20uI0PLHs+i5WOj9Cwej0+njBz3uH6S6xxc939Zx/76q/3f13+i7I+MEctwjTMf3R6OL/ADkv
/QXjOu9COI99Vm/0r7XZFgoaX2Wkk+nUxv8Ag6qG/n2f4RUsDA671G1nTsLFs6f08vBuMFsgfn5F
ztrrn/usXoXVejYPVqfSymuDm/QtrJa9v9V7VW6D9W8bovqPZfbk3WaGy50w391jPotTTy3r00h4
HX+6yY/jQHLVL1Z4/KJx4sfF/nB6vmj/AF/8Br/Ximx31N6nTU11j/s+1rWglxgt/NauN659Vc6v
6hNyW9Q6jkWGik/s97t1YJ2zX6AZv21r1JJWnCfP68x31e+tbuqdRxr/ALBndOx6q8iqt1obZW1m
+u1tQc9n0VmOzOrNr+sXU+n4mRW/6xZFWL0zfW5ryCHMtyHsjdVW1n5716mkkp8ts6R9aPqvk9I6
tfRj2YnTgMK9mEHusfRYfe+9jh79rzv9qjV0jOH1mr+q32Z7+inqH7VbaWn0/SNZt+znTb/OL1RJ
JT5b0bpfUrPrNjfVrIx3jpnRc2/PZc4HY9p9+JU130PY96AMDI6J1zqzOqZHVsJmXkG/HyOnNL6r
WuLnfpNjXu9Rm5espJKfMuturf8A828tmR1N2JW3M9TPDHHMbLHsbu9m5u5/6P8A4tJempJKf//Z
OEJJTQQhAAAAAABVAAAAAQEAAAAPAEEAZABvAGIAZQAgAFAAaABvAHQAbwBzAGgAbwBwAAAAEwBB
AGQAbwBiAGUAIABQAGgAbwB0AG8AcwBoAG8AcAAgAEMAUwAyAAAAAQA4QklNBAYAAAAAAAcABQAA
AAEBAP/hB4ZFeGlmAABJSSoACAAAAAcAEgEDAAEAAAABAAAAGgEFAAEAAABiAAAAGwEFAAEAAABq
AAAAKAEDAAEAAAACAAAAMQECABwAAAByAAAAMgECABQAAACOAAAAaYcEAAEAAACiAAAAzAAAAID8
CgAQJwAAgPwKABAnAABBZG9iZSBQaG90b3Nob3AgQ1MyIFdpbmRvd3MAMjAwNzowMjoyNiAxNjox
ODo1MwADAAGgAwABAAAA/////wKgBAABAAAAZgAAAAOgBAABAAAAIAAAAAAAAAAGAAMBAwABAAAA
BgAAABoBBQABAAAAGgEAABsBBQABAAAAIgEAACgBAwABAAAAAgAAAAECBAABAAAAKgEAAAICBAAB
AAAAVAYAAAAAAABIAAAAAQAAAEgAAAABAAAA/9j/4AAQSkZJRgABAgAASABIAAD/7QAMQWRvYmVf
Q00AAv/uAA5BZG9iZQBkgAAAAAH/2wCEAAwICAgJCAwJCQwRCwoLERUPDAwPFRgTExUTExgRDAwM
DAwMEQwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwBDQsLDQ4NEA4OEBQODg4UFA4ODg4UEQwM
DAwMEREMDAwMDAwRDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDP/AABEIACAAZgMBIgACEQED
EQH/3QAEAAf/xAE/AAABBQEBAQEBAQAAAAAAAAADAAECBAUGBwgJCgsBAAEFAQEBAQEBAAAAAAAA
AAEAAgMEBQYHCAkKCxAAAQQBAwIEAgUHBggFAwwzAQACEQMEIRIxBUFRYRMicYEyBhSRobFCIyQV
UsFiMzRygtFDByWSU/Dh8WNzNRaisoMmRJNUZEXCo3Q2F9JV4mXys4TD03Xj80YnlKSFtJXE1OT0
pbXF1eX1VmZ2hpamtsbW5vY3R1dnd4eXp7fH1+f3EQACAgECBAQDBAUGBwcGBTUBAAIRAyExEgRB
UWFxIhMFMoGRFKGxQiPBUtHwMyRi4XKCkkNTFWNzNPElBhaisoMHJjXC0kSTVKMXZEVVNnRl4vKz
hMPTdePzRpSkhbSVxNTk9KW1xdXl9VZmdoaWprbG1ub2JzdHV2d3h5ent8f/2gAMAwEAAhEDEQA/
APVJAIBOp4C5ofXOq3rw6ZTTNDbPSsvcdd3HsZ+7uWF9durdTwPrLjX1OLasdjX4/wC66f56f3t3
0Fk3WMr69Rn4v9Gz7WX1/wAklw9ao/yqrPaqmXmCDwx04ZDi8Yu/yPweEsQy5an7+GUsVaDHl/dl
/X4P/Uj6R+1g3LdS9o9IP2B4Os+bVoSJidR2Xn1fVmP6rk2XOjHxbH3XnyafZWP5VtnsU/qp1vqP
UvrTbfJNF1bje381rW/zP9Xb9FHHzB4uGWvFKo+TBm+DzGOeQVAYcQyTvaUukP7/AA/9w9+kqfV+
qUdI6ZkdSyA51OKz1HhmriP5KqZ/1mwcH6vD6wWssdiurZaGNA3xZG32z/KVpx3XSWVhfWLCzerW
9Jqa8X049eS5zh7dloBYB/K9yfp/1gw8/qXUem1Ne23pbmtvc4ANO8bhsPySU6iS53pX146P1azq
FWE2x9nTmueWkAG1jS5pfj6+9u5qd/136Oz6sD6zHf8AYyQ30wB6m8u9L0ts7dzXJKehSWDk/XHp
VHQMbr0WWY2Y5jKK2AGwvsO0V7Z+k3a5Bzfrz0/HzrOn4uLldRyscD7SzFr3isn8yx8tbvSU9Iku
cy/rrj4tOC6zp+Z9o6iLTThisesPRG9+6vd+4NySSn//0GzsL6w9JyLemZmLZ1Lpm8uoJBeNpMtf
Rc2X0W/vq90PoZzHCineK2WNyGMvaWWUvaRua7822m5ns31/nrr/AKw/VjF661hsuuxbqtG20uI0
PLHs+i5WOj9Cwej0+njBz3uH6S6xxc939Zx/76q/3f13+i7I+MEctwjTMf3R6OL/ADkv/QXjOu9C
OI99Vm/0r7XZFgoaX2Wkk+nUxv8Ag6qG/n2f4RUsDA671G1nTsLFs6f08vBuMFsgfn5Fztrrn/us
XoXVejYPVqfSymuDm/QtrJa9v9V7VW6D9W8bovqPZfbk3WaGy50w391jPotTTy3r00h4HX+6yY/j
QHLVL1Z4/KJx4sfF/nB6vmj/AF/8Br/Ximx31N6nTU11j/s+1rWglxgt/NauN659Vc6v6hNyW9Q6
jkWGik/s97t1YJ2zX6AZv21r1JJWnCfP68x31e+tbuqdRxr/ALBndOx6q8iqt1obZW1m+u1tQc9n
0VmOzOrNr+sXU+n4mRW/6xZFWL0zfW5ryCHMtyHsjdVW1n5716mkkp8ts6R9aPqvk9I6tfRj2YnT
gMK9mEHusfRYfe+9jh79rzv9qjV0jOH1mr+q32Z7+inqH7VbaWn0/SNZt+znTb/OL1RJJT5b0bpf
UrPrNjfVrIx3jpnRc2/PZc4HY9p9+JU130PY96AMDI6J1zqzOqZHVsJmXkG/HyOnNL6rWuLnfpNj
Xu9Rm5espJKfMuturf8A828tmR1N2JW3M9TPDHHMbLHsbu9m5u5/6P8A4tJempJKf//Z/9sAQwAI
BgYHBgUIBwcHCQkICgwUDQwLCwwZEhMPFB0aHx4dGhwcICQuJyAiLCMcHCg3KSwwMTQ0NB8nOT04
MjwuMzQy/9sAQwEJCQkMCwwYDQ0YMiEcITIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIy
MjIyMjIyMjIyMjIyMjIyMjIy/8AAEQgAIABmAwEiAAIRAQMRAf/EAB8AAAEFAQEBAQEBAAAAAAAA
AAABAgMEBQYHCAkKC//EALUQAAIBAwMCBAMFBQQEAAABfQECAwAEEQUSITFBBhNRYQcicRQygZGh
CCNCscEVUtHwJDNicoIJChYXGBkaJSYnKCkqNDU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hp
anN0dXZ3eHl6g4SFhoeIiYqSk5SVlpeYmZqio6Slpqeoqaqys7S1tre4ubrCw8TFxsfIycrS09TV
1tfY2drh4uPk5ebn6Onq8fLz9PX29/j5+v/EAB8BAAMBAQEBAQEBAQEAAAAAAAABAgMEBQYHCAkK
C//EALURAAIBAgQEAwQHBQQEAAECdwABAgMRBAUhMQYSQVEHYXETIjKBCBRCkaGxwQkjM1LwFWJy
0QoWJDThJfEXGBkaJicoKSo1Njc4OTpDREVGR0hJSlNUVVZXWFlaY2RlZmdoaWpzdHV2d3h5eoKD
hIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uLj5OXm
5+jp6vLz9PX29/j5+v/aAAwDAQACEQMRAD8A99LKCASAT0FcOvxDin8XjRre2Bt1l8mS4Zud3Tge
ma5X4j67qukeObG5hdkhto1e3H8L5+9n1z0rnriVIvF9pqdmP9E1CdLiPn7pLDcp9wcj8q8+vimn
yx0sz6zLsihOj7WtrzxbXk/87a/f2PazrqpqL27oBEsnlhwec+4rYyCSM8jtXj0OupJ4hvZbhytr
aSvNOfYHhfqTgVJ4G8R6nrfxAuLklzbTRMZlz8qKPu/THSnSxT5rS1u9Dlr5HNU5VVooxu/8vX/g
dz1+iszX9at/Dug3mr3Su9vax+Y4jGWI9qz9U8ZafpXgtfFE0U7WTQpKEVRvw2McZ967z506Oiuf
03xbY6n4juNDhjmFzBaR3bMw+Xa4BA+vIp2leKrHV9d1nSIElSfSXVJ2cAKdwyMH8KAN6iuM0P4l
6J4hn1eDTkuJJdNRpCpUAzICQWTnkZFK/wASdEj8Ar4wInNiSF8sKPMD7tu3GcZBoA7KiuSu/iDo
9p4NsvE22eW0vWRII41BkZ2OAuM9Rg/lVbUviXptnq82lWem6pql7bgfaUsbfzBCT2Y5xn2oA7ai
uB134q6V4b0nTb7VdM1K3N/v2W7xASJtOPmGeOtFAHnupab4l8P3s+kX+nT6ro/mFoCVLgAngo45
RvUfpWr4a8NnUmFrB5qwxyrcol0hSS3YEZB7MrDjI74r0TxX4MtPFSRNLd3VpcRcLNbyEHHcEdDV
zQPDGn+G7XyrNZHdv9ZPM5d3+p/oK4/q153ex9Is9ccNyrSfktL93/wN+uh5n4m8NNp8ssEvm+Rc
TtcyC2QvJOSTtUDsqjue5NZumaX4h1meLStP06fTNLLgzHaV3Ad3c8sfbp7V7Frnh6w8QWohvEcM
v3JYmKun0P8AjVHwx4PtfDJleO7urueQYMk75wvoB0FTLC+/psa0s/UcLaWtRbXWl++/57dNCp8S
reR/hjrlvBG8shtNqqilmbkdhXmniXwPqEPweS7XW/EFzKbWE/2dI+6MHjK7MZwP6V73RXcfLHj8
V+3g34ivrOq2F9/ZmoaPbwx3MFu0oWRAMqwUZB4rDe/1hIPGWsaXpl/HJ4lu4rPTPMhZXIwQ0hGM
qAO59a98ooA8Fl0Dxb4DvvDmuXNnp8tlpiiwnTTUdpJIHPJcEc4Jzx3pkOgagvj2HwV9gmfw+dY/
thZmQ+X5XllvLPGOuePWvfaKAPBfD2iapL48svB91ZTLpGhalPqKTsp2SKeY1B6cE5/Oqg0u58Le
LfEMes33imwjvLs3FvcaOheKdSSfmwCcjOK+haKAPm34sWlxqvhPwrJpi6zqcY8/M13CxnPzD74x
ke3tRX0lRQB//9k=
------=_Part_16222_32250414.1204881314969--

--===============0701632030==
Content-Type: text/plain; charset="us-ascii"
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip
--===============0701632030==--


From sip-bounces@ietf.org  Fri Mar  7 02:47:49 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id ADD7328C493;
	Fri,  7 Mar 2008 02:47:49 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.52
X-Spam-Level: 
X-Spam-Status: No, score=-100.52 tagged_above=-999 required=5
	tests=[AWL=-0.083, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 3heoBU0g+LWA; Fri,  7 Mar 2008 02:47:45 -0800 (PST)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id D28FC3A6C55;
	Fri,  7 Mar 2008 02:47:45 -0800 (PST)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id E53A13A6E40
	for <sip@core3.amsl.com>; Fri,  7 Mar 2008 02:47:44 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id yfMVh3fk6KbG for <sip@core3.amsl.com>;
	Fri,  7 Mar 2008 02:47:44 -0800 (PST)
Received: from ds3000.pernau.at (ds3000.pernau.at [88.198.53.113])
	by core3.amsl.com (Postfix) with ESMTP id 22ADF3A6B22
	for <sip@ietf.org>; Fri,  7 Mar 2008 02:47:43 -0800 (PST)
Received: from [10.10.0.51] (nat.labs.nic.at [83.136.33.3])
	by ds3000.pernau.at (Postfix) with ESMTP id 1CAC61080006;
	Fri,  7 Mar 2008 11:47:32 +0100 (CET)
Message-ID: <47D11D43.4030207@pernau.at>
Date: Fri, 07 Mar 2008 11:47:31 +0100
From: Klaus Darilion <klaus.mailinglists@pernau.at>
User-Agent: Thunderbird 2.0.0.12 (Windows/20080213)
MIME-Version: 1.0
To: Hadriel Kaplan <HKaplan@acmepacket.com>
References: <E6C2E8958BA59A4FB960963D475F7AC30BC713E06B@mail.acmepacket.com>
In-Reply-To: <E6C2E8958BA59A4FB960963D475F7AC30BC713E06B@mail.acmepacket.com>
Cc: IETF SIP List <sip@ietf.org>, Dan Wing <dwing@cisco.com>
Subject: Re: [Sip] ID updated: draft-kaplan-sip-baiting-attack-02.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Hi!

Sorry for jumping in so late. I have a question regarding the first 
attack scenario:

What if Bob sends a reINVITE immediately after Alice has accepted the 
phone call? If the reINVITE contains Bob's SDP and Alice's client accept 
unsigned reIVNTEs then Bob would also have 2-way audio.

regards
klaus

Hadriel Kaplan schrieb:
> FYI, the draft on the Baiting attack with RFC4474 has been updated:
> http://www.ietf.org/internet-drafts/draft-kaplan-sip-baiting-attack-02.txt
> 
> I changed section 12.1 possible solution to the problem of the request being delivered to unintended recipients.
> 
> This new solution only works for true SIP ends, vs. to a PSTN-gateway, but based on the mailing list discussion so far that appears to be a behavior the WG may want in the end.
> (Personally I feel one might as well then only make RFC4474 work for SIPS URIs with S/MIME bodies, but that's just personal opinion)
> 
> -hadriel
> 
> _______________________________________________
> Sip mailing list  http://www.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Fri Mar  7 03:09:38 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id DC11328C478;
	Fri,  7 Mar 2008 03:09:38 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.749
X-Spam-Level: 
X-Spam-Status: No, score=-100.749 tagged_above=-999 required=5
	tests=[AWL=-0.312, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id NFjvVw-E7690; Fri,  7 Mar 2008 03:09:37 -0800 (PST)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 6D3F83A6B4D;
	Fri,  7 Mar 2008 03:09:37 -0800 (PST)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id DF8393A68AC
	for <sip@core3.amsl.com>; Fri,  7 Mar 2008 03:09:35 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id IGjG5TtkMD49 for <sip@core3.amsl.com>;
	Fri,  7 Mar 2008 03:09:34 -0800 (PST)
Received: from mailgw4.ericsson.se (mailgw4.ericsson.se [193.180.251.62])
	by core3.amsl.com (Postfix) with ESMTP id AF1B43A6E6E
	for <sip@ietf.org>; Fri,  7 Mar 2008 03:09:31 -0800 (PST)
Received: from mailgw4.ericsson.se (unknown [127.0.0.1])
	by mailgw4.ericsson.se (Symantec Mail Security) with ESMTP id
	9EA10210D0; Fri,  7 Mar 2008 12:09:10 +0100 (CET)
X-AuditID: c1b4fb3e-ab192bb000004ec0-44-47d122560129
Received: from esealmw127.eemea.ericsson.se (unknown [153.88.254.122])
	by mailgw4.ericsson.se (Symantec Mail Security) with ESMTP id
	77426204C8; Fri,  7 Mar 2008 12:09:10 +0100 (CET)
Received: from esealmw127.eemea.ericsson.se ([153.88.254.175]) by
	esealmw127.eemea.ericsson.se with Microsoft SMTPSVC(6.0.3790.1830); 
	Fri, 7 Mar 2008 12:09:10 +0100
Received: from mail.lmf.ericsson.se ([131.160.11.50]) by
	esealmw127.eemea.ericsson.se with Microsoft SMTPSVC(6.0.3790.1830); 
	Fri, 7 Mar 2008 12:09:09 +0100
Received: from nomadiclab.lmf.ericsson.se (nomadiclab.lmf.ericsson.se
	[131.160.33.3])
	by mail.lmf.ericsson.se (Postfix) with ESMTP id 002B92589;
	Fri,  7 Mar 2008 13:09:09 +0200 (EET)
Received: from nomadiclab.lmf.ericsson.se (localhost [127.0.0.1])
	by nomadiclab.lmf.ericsson.se (Postfix) with ESMTP id 893874DB52;
	Fri,  7 Mar 2008 13:09:09 +0200 (EET)
Received: from localhost.localdomain (localhost [IPv6:::1])
	by nomadiclab.lmf.ericsson.se (Postfix) with ESMTP id 1E9A14DB1D;
	Fri,  7 Mar 2008 13:09:09 +0200 (EET)
Message-ID: <47D12254.4060000@ericsson.com>
Date: Fri, 07 Mar 2008 13:09:08 +0200
From: Salvatore Loreto <salvatore.loreto@ericsson.com>
User-Agent: Thunderbird 2.0.0.12 (X11/20080213)
MIME-Version: 1.0
To: Markus.Isomaki@nokia.com
References: <47C54730.5030501@nsn.com><47C5DCA6.9080302@cisco.com>	<47C680E3.2030803@nsn.com><47C6C841.2010201@cisco.com>	<47C6D42D.8040506@nsn.com><E6C2E8958BA59A4FB960963D475F7AC30BC782C9B1@mail.acmepacket.com><47C6F8CA.2080305@cisco.com><E6C2E8958BA59A4FB960963D475F7AC30BC782CC3B@mail.acmepacket.com>	<47C71685.7060206@cisco.com>
	<C84E0A4ABA6DD74DA5221E0833A35DF30A730DA7@esebe101.NOE.Nokia.com>
In-Reply-To: <C84E0A4ABA6DD74DA5221E0833A35DF30A730DA7@esebe101.NOE.Nokia.com>
X-Virus-Scanned: ClamAV using ClamSMTP
X-OriginalArrivalTime: 07 Mar 2008 11:09:10.0096 (UTC)
	FILETIME=[AB0CB500:01C88043]
X-Brightmail-Tracker: AAAAAA==
Cc: sip@ietf.org
Subject: Re: [Sip] Comments on TOTE
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Hi,

I have to say that I completely agree with the Marcus comments.
I also think the draft is really good and useful in some scenarios,
well in a lot of scenario if we consider that nowadays NAT are everywhere.

However I also share the doubts:
we already have other mechanism in SIP that let possible to do what tote 
does.
Of course tote does them in a simpler way, however the other mechanisms 
are already out:
standardized and implemented by people and industries.
So I really think we need to discuss and consider the overlap with MSRP 
and the market adoption of
the existents mechanisms before to go ahead with this draft.

About the fact that the tote draft could convince people interested in 
IM to come back to SIP
IM and abandon XMPP, I have some doubt as well.
Of course with tote SIP becomes more and more similar to XMPP,
but XMPP is already done and we do not know how long will take the tote 
standardization.

/sal

Markus.Isomaki@nokia.com wrote:
> Hi,
>
> Here are my views on
> http://tools.ietf.org/id/draft-rosenberg-sip-tote-00.txt:
>
> In general there are a lot of things in like about this approach. I
> think we definitely need a light-weight, TLS/TCP-based, end-to-end
> oriented transport mechanism, with a good NAT traversal story. There are
> many use cases for such a mechanism, so instead of developing a specific
> one for each of them, it is better to have a common baseline.
> Utilization of ICE-TCP and TURN should be a basic requirement here, and
> TOTE is indeed using them.
>
> The main issue I see is that MSRP already occupies part of that space.
> However, MSRP is not a perfect match. It requires its own specific
> relays instead of of being able to use TURN. End-to-end security is
> based on S/MIME instead of TLS. It includes a lot of per-message
> overhead and also the fragmentation, re-assembly and reporting make it
> complicated. Furthermore I'm not convinced a yet how the muxing of
> sessions between relays really works: Based on SIMPLE-list, at least two
> (independent) implementers have tried to produce a relay like that, but
> have concluded that it is not doable. I don't know if other relay
> implementations exist. The IMS and OMA folks prefer B2BUAs over relays
> for MSRP NAT traversal, and that is the only space I can see some
> serious implementation/deployment of MSRP. (This might be because most
> people who were originally interested in SIP IM have now switched to
> XMPP.) Well, I haven't seen much happening with ICE/TURN-TCP either, but
> that could be a chicken-and-egg problem that something like TOTE could
> solve. It would be of course helpful if people who came up with MSRP
> relay/muxing/chunking requirements would indicate if they still see that
> model valid (for customers of MSRP/IM) and if they see a lot of
> deployment potential for the protocol.
>
> I also like the model where baseline TOTE would be like SUB/NOT
> framework, while the actual usages would be analogous to event packages.
> It would be very helpful for developers of new usages if there was a
> well-defined and well-working baseline that solved some hard issues like
> NAT traversal, e2e security and provided some tools for session
> negotiation. I'd be quite liberal about the usages themselves, but of
> course the IETF should immediately charter standards-track work on some
> of the key ones.
>
> I'm co-author of draft-ietf-mmusic-file-transfer-mech (file transfer O/A
> and MSRP-based transport), so I share the concerns that Miguel already
> brought up in an earlier mail. Though, had TOTE existed when we started
> with file transfer draft, I'm certain we would have chosen it instead of
> MSRP. We tried our best in the draft to actually decouple the
> offer/answer part from the transport, envisioning that some day there
> might be something like TOTE to run over. Now that the work is already
> quite far and there actually are a few implementations of the draft (not
> much in public, but for instance GSMA has had an interop event for
> image-sharing based on the draft), it would be non-constructive to
> develop file transfer with TOTE from the scratch. It would be better to
> see if the O/A model could be sustained while providing an alternative
> transport. 
>
> Another concern is that it took something like over 5 years from the
> start to get MSRP to RFC. How long will it take for TOTE? I already see
> such risk if we get stuck in arguments about the MIME usage/negotiation
> model and so on, where there's probably no clear answer, so they could
> be debated forever. Yet another risk is that TOTE is already too late
> and people with use cases for it are committed to something else (MSRP,
> media-control stuff). So, it would be useful to probe if people really
> would have use cases for it in their UA products, or would it be only of
> academic interest.
>
> So, as a summary I'm positive of going forward with TOTE, but there are
> issues wrt. overlap with MSRP and the market adoption, which we need to
> quantify a bit first.
>
> Markus
>
>
>    
>
>   
> _______________________________________________
> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
>
>   

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Fri Mar  7 04:41:48 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 9556E28C483;
	Fri,  7 Mar 2008 04:41:48 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -101.843
X-Spam-Level: 
X-Spam-Status: No, score=-101.843 tagged_above=-999 required=5
	tests=[AWL=-1.406, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id Z394W8HzKB0L; Fri,  7 Mar 2008 04:41:48 -0800 (PST)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id D5E6D28C4DA;
	Fri,  7 Mar 2008 04:41:43 -0800 (PST)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 9256128C499
	for <sip@core3.amsl.com>; Fri,  7 Mar 2008 04:41:42 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id JGjFdWH3ihnY for <sip@core3.amsl.com>;
	Fri,  7 Mar 2008 04:41:41 -0800 (PST)
Received: from mailgw4.ericsson.se (mailgw4.ericsson.se [193.180.251.62])
	by core3.amsl.com (Postfix) with ESMTP id 9AB383A6F3A
	for <sip@ietf.org>; Fri,  7 Mar 2008 04:41:39 -0800 (PST)
Received: from mailgw4.ericsson.se (unknown [127.0.0.1])
	by mailgw4.ericsson.se (Symantec Mail Security) with ESMTP id
	C6FFF20071 for <sip@ietf.org>; Fri,  7 Mar 2008 13:41:27 +0100 (CET)
X-AuditID: c1b4fb3e-ab993bb000004ec0-c5-47d137f73362
Received: from esealmw128.eemea.ericsson.se (unknown [153.88.254.121])
	by mailgw4.ericsson.se (Symantec Mail Security) with ESMTP id
	96576204E5 for <sip@ietf.org>; Fri,  7 Mar 2008 13:41:27 +0100 (CET)
Received: from esealmw107.eemea.ericsson.se ([153.88.200.70]) by
	esealmw128.eemea.ericsson.se with Microsoft SMTPSVC(6.0.3790.1830); 
	Fri, 7 Mar 2008 13:41:26 +0100
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Fri, 7 Mar 2008 13:41:26 +0100
Message-ID: <00E47B21F2156640838B288A86560DB604A4559E@esealmw107.eemea.ericsson.se>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Question about Cseq for CANCEL request
Thread-Index: AciAUI825LY6uneVRfyGqcMpVO/uIA==
From: "Rosa Maria Martinez Perallon"
	<rosa.maria.martinez.perallon@ericsson.com>
To: <sip@ietf.org>
X-OriginalArrivalTime: 07 Mar 2008 12:41:26.0786 (UTC)
	FILETIME=[8F2C8E20:01C88050]
X-Brightmail-Tracker: AAAAAA==
Subject: [Sip] Question about Cseq for CANCEL request
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Hello,

I have a question about the Cseq number in a CANCEL request. Let's
imagine the next situation where we have an offer/answer model and,
after 2 rounds, the UAC wants to cancel the negotiation and the first
INVITE request.


|   INVITE Cseq=1 INVITE		     |
|--------------------------------------->|
|  1xx-rel Cseq=1 INVITE	           |
|<---------------------------------------|
|  PRACK Cseq=2 PRACK   		     |
|--------------------------------------->|
| 2xx PRACK Cseq=2 PRACK		     |
|<---------------------------------------|
|   CANCEL Cseq???	                 |
|--------------------------------------->|

....

What should the Cseq be?? 1 or 2?
The Cseq is usually increased in each request, but the CANCEL method is
not supposed to increase this number since it is cancelling a previous
transaction. However, if this number is not increased, the CANCEL method
will cancel the PRACK request which makes no sense. But can a dialog go
back to a previous number of Cseq?

Thanks in advance,
Rosa Martinez
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Fri Mar  7 05:01:10 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 64B4228C4B8;
	Fri,  7 Mar 2008 05:01:10 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.195
X-Spam-Level: 
X-Spam-Status: No, score=-100.195 tagged_above=-999 required=5
	tests=[AWL=-0.108, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_EQ_FR=0.35, HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1,
	USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id VBVX5L74zLWx; Fri,  7 Mar 2008 05:01:04 -0800 (PST)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id D47F228C3ED;
	Fri,  7 Mar 2008 05:01:04 -0800 (PST)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 7CD0E28C382
	for <sip@core3.amsl.com>; Fri,  7 Mar 2008 05:01:03 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id tL5DXRnvXQGe for <sip@core3.amsl.com>;
	Fri,  7 Mar 2008 05:01:02 -0800 (PST)
Received: from smail5.alcatel.fr (smail5.alcatel.fr [62.23.212.27])
	by core3.amsl.com (Postfix) with ESMTP id 5E9143A6E6E
	for <sip@ietf.org>; Fri,  7 Mar 2008 05:01:02 -0800 (PST)
Received: from FRVELSBHS04.ad2.ad.alcatel.com (frvelsbhs04.ad2.ad.alcatel.com
	[155.132.6.76])
	by smail5.alcatel.fr (8.13.8/8.13.8/ICT) with ESMTP id m27Cjh5I025325; 
	Fri, 7 Mar 2008 13:45:43 +0100
Received: from [139.54.131.75] ([139.54.131.75]) by
	FRVELSBHS04.ad2.ad.alcatel.com over TLS secured channel with
	Microsoft SMTPSVC(6.0.3790.2499); Fri, 7 Mar 2008 14:00:48 +0100
Message-ID: <47D13C7D.2090603@alcatel-lucent.fr>
Date: Fri, 07 Mar 2008 14:00:45 +0100
From: Thomas Froment <Thomas.Froment@alcatel-lucent.fr>
User-Agent: Thunderbird 2.0.0.6 (X11/20070728)
MIME-Version: 1.0
To: Rosa Maria Martinez Perallon <rosa.maria.martinez.perallon@ericsson.com>
References: <00E47B21F2156640838B288A86560DB604A4559E@esealmw107.eemea.ericsson.se>
In-Reply-To: <00E47B21F2156640838B288A86560DB604A4559E@esealmw107.eemea.ericsson.se>
X-OriginalArrivalTime: 07 Mar 2008 13:00:48.0849 (UTC)
	FILETIME=[43D14C10:01C88053]
X-Scanned-By: MIMEDefang 2.57 on 155.132.188.13
Cc: sip@ietf.org
Subject: Re: [Sip] Question about Cseq for CANCEL request
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Hi Rosa,
it is a classical question of sip-implementors mailing list,
answer is that CANCEL CSeq should stay the same as the INVITE. The same 
question arise with the ACK:
in that case, the correct sequence is:

 --> INVITE CSeq 1
<-- 180 CSeq 1
--> PRACK CSeq 2
<-- 200 CSeq 2  PRACK
<-- 200 CSeq 1 INVITE
--> ACK CSeq 1
 ... media ...  

--> BYE CSeq 3
<-- 200 CSeq 3  BYE

look for instance at 
http://threebit.net/mail-archive/sip-implementors/msg00165.html for more 
details,
+
Thomas

Rosa Maria Martinez Perallon wrote:
> Hello,
>
> I have a question about the Cseq number in a CANCEL request. Let's
> imagine the next situation where we have an offer/answer model and,
> after 2 rounds, the UAC wants to cancel the negotiation and the first
> INVITE request.
>
>
> |   INVITE Cseq=1 INVITE		     |
> |--------------------------------------->|
> |  1xx-rel Cseq=1 INVITE	           |
> |<---------------------------------------|
> |  PRACK Cseq=2 PRACK   		     |
> |--------------------------------------->|
> | 2xx PRACK Cseq=2 PRACK		     |
> |<---------------------------------------|
> |   CANCEL Cseq???	                 |
> |--------------------------------------->|
>
> ....
>
> What should the Cseq be?? 1 or 2?
> The Cseq is usually increased in each request, but the CANCEL method is
> not supposed to increase this number since it is cancelling a previous
> transaction. However, if this number is not increased, the CANCEL method
> will cancel the PRACK request which makes no sense. But can a dialog go
> back to a previous number of Cseq?
>
> Thanks in advance,
> Rosa Martinez
> _______________________________________________
> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
>   

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Fri Mar  7 07:16:01 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id CAEBF28C4F7;
	Fri,  7 Mar 2008 07:16:01 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.497
X-Spam-Level: 
X-Spam-Status: No, score=-100.497 tagged_above=-999 required=5
	tests=[AWL=-0.060, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id uQCG0ZouqWjH; Fri,  7 Mar 2008 07:16:00 -0800 (PST)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 2C73328C10D;
	Fri,  7 Mar 2008 07:16:00 -0800 (PST)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id B7C9B3A63CA
	for <sip@core3.amsl.com>; Fri,  7 Mar 2008 07:15:58 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id kZMpzuQ5QIme for <sip@core3.amsl.com>;
	Fri,  7 Mar 2008 07:15:57 -0800 (PST)
Received: from figas.ekabal.com (figas.ekabal.com [204.61.215.10])
	by core3.amsl.com (Postfix) with ESMTP id 36B9028C10D
	for <sip@ietf.org>; Fri,  7 Mar 2008 07:15:57 -0800 (PST)
Received: from [127.0.0.1] (figas.ekabal.com [204.61.215.10]) (authenticated)
	by figas.ekabal.com (8.11.6/8.11.6) with ESMTP id m27FFOo08116;
	Fri, 7 Mar 2008 07:15:24 -0800
In-Reply-To: <CA9998CD4A020D418654FCDEF4E707DF04F7F892@esealmw113.eemea.ericsson.se>
References: <20080303185301.8A6B61819D7F@mail.iptel.org><1ECE0EB50388174790F9694F77522CCF1549EC14@zrc2hxm0.corp.nortel.com><CA9998CD4A020D418654FCDEF4E707DF04F13E49@esealmw113.eemea.ericsson.se><458913680803060824m23e10d7eqa861a21266eb50b@mail.gmail.com><4E690AA1-9E99-490D-B5EA-E4895E0B675A@ekabal.com><CA9998CD4A020D418654FCDEF4E707DF04F7EF77@esealmw113.eemea.ericsson.se><FFDDF533-F69C-4EC0-B19F-552373DF8035@ekabal.com><CA9998CD4A020D418654FCDEF4E707DF04F7F043@esealmw113.eemea.ericsson.se><1ECE0EB50388174790F9694F77522CCF1552C7E3@zrc2hxm0.corp.nortel.com>
	<CA9998CD4A020D418654FCDEF4E707DF04F7F548@esealmw113.eemea.ericsson.se>
	<CA9998CD4A020D418654FCDEF4E707DF04F7F892@esealmw113.eemea.ericsson.se>
Mime-Version: 1.0 (Apple Message framework v753)
Message-Id: <91A487B8-CCCA-44B2-B73B-9A58D8CB9FE2@ekabal.com>
From: Rohan Mahy <rohan@ekabal.com>
Date: Fri, 7 Mar 2008 07:15:19 -0800
To: "Christer Holmberg" <christer.holmberg@ericsson.com>
X-Mailer: Apple Mail (2.753)
Cc: sip@ietf.org, Rohan Mahy <rohan@ekabal.com>,
	Francois Audet <audet@nortel.com>,
	Xavier Marjou <xavier.marjou@orange-ftgroup.com>,
	Cullen Jennings <fluffy@cisco.com>
Subject: Re: [Sip] Outbound-12: STUN keep-alives without outbound
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Hi Christer,

The edge proxy is only supposed to add the ob parameter to the Path  
if the edge proxy included a flow token in the path URI.  This should  
only happen when the UA included a reg-id and instance-id parameter  
in its Contact header.

thanks,
-rohan


On Mar 7, 2008, at 12:52 AM, Christer Holmberg wrote:
> Hi,
>
> An alternative solution, based on "ob", and which does not require
> "keep", would be to add something like the following:
>
> "When the UA receives a 200 OK response to a REGISTER message, it can
> deduce that outbound keepalives and flows can be used if there  
> either is
> an "outbound" options-tag in a Supported or Requires header, or in  
> lack
> of this, if the URI in the path header contains the "ob" URI  
> parameter."
>
> Now, if there is no Supported/Require with "outbound" the UA knows  
> that
> the registrar does not support outbound, but since the Path header
> contains "ob" the UA knows that the outbound proxy supports it, and  
> that
> it supports keep-alives.
>
> This would of course require an outbuond proxy who only wants to do
> keep-alive to implement "full" outbound, but it would at least be
> possible to use keep-alives between the UA and the outbound proxy even
> if the registrar does not support outbound.
>
> Does that sound feasible?
>
> Regards,
>
> Christer
>
>
>
>> -----Original Message-----
>> From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On
>> Behalf Of Christer Holmberg
>> Sent: 7. maaliskuuta 2008 9:47
>> To: Francois Audet; Rohan Mahy
>> Cc: sip@ietf.org; Cullen Jennings; Xavier Marjou
>> Subject: Re: [Sip] Outbound-12: STUN keep-alives without outbound
>>
>>
>> Francois,
>>
>> I am not following you...
>>
>> Why do we then need the "ob" parameter? Why should the
>> outbound proxy "on the wire" be able to say "I want to do outbound"?
>>
>> Why not simply use configuration?
>>
>> And, the parameter would NOT say "I want to do outbound, but
>> just the keep-alive". It would say "I want to do keep-alive",
>> which we along time ago agreed is a stand-alone function, and
>> not part of outbound itself. I don't remember any change of
>> that decission.
>>
>> Also, I don't agree this is a "corner case". STUN keep-alive
>> is pretty much the only signalling keep-alive mechanism we
>> have specified for SIP, and there are people who want to use
>> it for that.
>>
>> Regards,
>>
>> Christer
>>
>>
>>> -----Original Message-----
>>> From: Francois Audet [mailto:audet@nortel.com]
>>> Sent: 7. maaliskuuta 2008 0:45
>>> To: Christer Holmberg; Rohan Mahy
>>> Cc: Xavier Marjou; sip@ietf.org; Cullen Jennings
>>> Subject: RE: [Sip] Outbound-12: STUN keep-alives without outbound
>>>
>>> Yes, we had agreed to remove keep altogether.
>>>
>>> Using parameters for the job of something that logically belongs to
>>> configuration is futile and harmful as it would result in
>>> infinite-length URIs or other field.
>>>
>>> I can also garantee that everybody that presents a concept will
>>> somehow believe that this particular concept is worthy of being a
>>> parameter while the other guy's concept is inferior and doesn't
>>> warrant it.
>>>
>>> I think the point of the text was that it shouldn't be an AMBIGUOUS
>>> parameter, but instead a EXPLICIT parameter.
>>>
>>> So, this paragraph is completely accurate:
>>> 	A SIP node MUST NOT send STUN requests over a flow unless
>>>       it has an explicit indication that the target next hop SIP
>>> server
>>>       claims to support this specification. Note that UACs MUST NOT
>>> use
>>>       an ambiguous configuration option such as "Work through
>>> NATs?" or "Do >       Keep alives?" to imply next hop STUN support.
>>>
>>> But it would be clearer if we added the following sentence
>> at the end:
>>> 	Rather than an ambiguous configuration option, it MUST
>> be an explicit
>>>       configuration such as "Server supports RFC XXX CRLF
>> keep-alives?
>>>       without RFC XXX registration procedures?".
>>>
>>> I really do believe that a parameter "on the wire" for such
>> a corner
>>> case (i.e., "I want to do outbound, but just the
>>> keep-alive") is absolutely not warranted.
>>>
>>>
>>>
>>>> -----Original Message-----
>>>> From: Christer Holmberg [mailto:christer.holmberg@ericsson.com]
>>>> Sent: Thursday, March 06, 2008 10:38
>>>> To: Rohan Mahy
>>>> Cc: Xavier Marjou; Audet, Francois (SC100:3055); sip@ietf.org;
>>>> Cullen Jennings
>>>> Subject: RE: [Sip] Outbound-12: STUN keep-alives without outbound
>>>>
>>>>
>>>> Hi,
>>>>
>>>>>>>>> I have big issues with the keep-alive change in the
>>> -12 version.
>>>>>>>>>
>>>>>>>>> Because, now the STUN keep-alives usage can't be
>>> applied between
>>>>>>>>> the UA  and outbound proxy, unless the registrar
>>>> supports outbound.
>>>>>>>
>>>>>>> What gave you that impression Christer?  By my read that
>>> is still
>>>>>>> allowed if the UA has explicit configuration that its next-hop
>>>>>>> support keepalives:
>>>>>>
>>>>>> Of course, but previously we had a mechanism for the
>>>> outbound proxy to
>>>>
>>>>>> actually indicate support.
>>>>>>
>>>>>> Also, chapter 8 of the draft does say:
>>>>>>
>>>>>> "A SIP node MUST NOT send STUN requests over a flow unless
>>>> it has an
>>>>>> explicit indication that the target next hop SIP server
>> claims to
>>>>>> support this specification.  Note that UACs MUST NOT use an
>>>> ambiguous
>>>>>> configuration option such as "Work through NATs?" or "Do
>>>> Keep alives?"
>>>>>> to imply next hop STUN support."
>>>>>
>>>>> That text has been there for ages.  That is not new.
>>>>
>>>> Exactly - so therfor I don't think the explicit configuration you
>>>> propose is appropriate :)
>>>>
>>>>>>>>> I strongly think it should be possible to use STUN
>>>> keep-alives for
>>>>>>>>> "pure" signalling NAT traversal, even if the "rest" of
>>>> outbound is
>>>>>>>>> not used.
>>>>>>>>>
>>>>>>>>> So, while I DO agree with the Vancouver(?) decission to
>>>> not include
>>>>>>>>> any  "URI" keep parameter in the R-URI of the register
>>>> request, I
>>>>>>>>> think we  shall we keep the URI "keep" parameter
>>> definition, and
>>>>>>>>> e.g.
>>>>>
>>>>> I'm pretty sure we had rough consensus to remove the parameter
>>>>> completely. I'll go dig up my notes and the minutes.
>>> Maybe Francois
>>>>> can jump in here.
>>>>
>>>> Maybe the problem is that we only discussed the usage of the
>>>> parameter in the R-URI, and when we agreed not to use it there we
>>>> forgot that it could actually be used in the Path header.
>>>>
>>>> Regards,
>>>>
>>>> Christer
>>>>
>>>>
>>>>
>>>>
>>>>
>>>>
>>>>
>>>>
>>>>
>>>>
>>>>>>>>> allow it to  be inserted into the Path header (I don't
>>>>> remember any
>>>>>>>>> discussions  regarding removing that possibility) by
>>>> the outbound
>>>>>>>>> proxy, in order to  inform the UA that the outbound
>>>>> proxy supports
>>>>>>>>> STUN keep-alive.
>>>>>>>>>
>>>>>>>>> (OR, there should be another mechanism for the
>>>> outbound proxy to
>>>>>>>>> inform  the UA it supports STUN keep-alive)
>>>>>>>
>>>>>>> Currently, that other mechanism is out-of-band configuration.
>>>>>>> We could also add another way to indicate this in the
>>>> future, but
>>>>>>> for know the WG seems happy with what we have.
>>>>>>
>>>>>> I don't understand "add in future". We already had a
>> mechanism.
>>>>>>
>>>>>> This is what you, me and Cullen were discussing a long
>>>> time ago, and
>>>>>> we all agreed to :)
>>>>>>
>>>>>> One thing we in Vancouver DID agree to was that a
>>>> mechanism to also
>>>>>> indicate the keep-alive refresh timer value WOULD be a future
>>>>>> extension.
>>>>>>
>>>>>>
>>>>>> Regards,
>>>>>>
>>>>>> Christer
>>>>>>
>>>>>>
>>>>>>
>>>>>>
>>>>>>>>>  That would allow people to start using outbound for NAT
>>>>>>> traversal,
>>>>>>>>> even  if the registrars haven't yet been updated to
>>>>>>> support outbound
>>>>>>>>> etc.
>>>>>>>>>
>>>>>>>>>  At one point we decided that we will keep the STUN
>>>>>>> keep-alive usage
>>>>>>>>> and  outbound in the same spec, but that we will
>>>>> describe the STUN
>>>>>>>>> keep-alive  usage as a "stand alone" function (chapter
>>>> 8 of the
>>>>>>>>> draft). But, now you  have more or less "merged" the STUN
>>>>>>> keep-alive
>>>>>>>>> usage with the outbound  function, and that is bad.
>>>>>>>>>
>>>>>>>>>  Also, this change is not mentioned in the
>>>>>>>>> changes-since-the-previous-version part (if it is
>>> mentioned, I
>>>>>>>>> appologize for having missed it)
>>>>>>>>>
>>>>>>>>>  Regards,
>>>>>>>>>
>>>>>>>>>  Christer
>>>>>>>>>  _______________________________________________
>>>>>>>>>  Sip mailing list
>> https://www.ietf.org/mailman/listinfo/sip
>>>>>>>>>  This list is for NEW development of the core SIP
>>>> Protocol  Use
>>>>>>>>> sip-implementors@cs.columbia.edu for questions on
>>>>> current sip  Use
>>>>>>>>> sipping@ietf.org for new developments on the
>>> application of sip
>>>>>>>>>
>>>>>>>
>>>>>>>
>>>>>
>>>>>
>>>>
>>>
>> _______________________________________________
>> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
>> This list is for NEW development of the core SIP Protocol Use
>> sip-implementors@cs.columbia.edu for questions on current sip
>> Use sipping@ietf.org for new developments on the application of sip
>>

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Fri Mar  7 11:01:01 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 46A4B28C946;
	Fri,  7 Mar 2008 11:01:01 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.767
X-Spam-Level: 
X-Spam-Status: No, score=-100.767 tagged_above=-999 required=5
	tests=[AWL=-0.330, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id lZmtZoyR5HMC; Fri,  7 Mar 2008 11:00:59 -0800 (PST)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id A62C528CA0F;
	Fri,  7 Mar 2008 11:00:50 -0800 (PST)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 643F53A6C58
	for <sip@core3.amsl.com>; Fri,  7 Mar 2008 11:00:49 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 3trkgf2J7XLh for <sip@core3.amsl.com>;
	Fri,  7 Mar 2008 11:00:44 -0800 (PST)
Received: from mailgw4.ericsson.se (mailgw4.ericsson.se [193.180.251.62])
	by core3.amsl.com (Postfix) with ESMTP id AE24D28CA31
	for <sip@ietf.org>; Fri,  7 Mar 2008 10:59:46 -0800 (PST)
Received: from mailgw4.ericsson.se (unknown [127.0.0.1])
	by mailgw4.ericsson.se (Symantec Mail Security) with ESMTP id
	81A7920573; Fri,  7 Mar 2008 19:59:34 +0100 (CET)
X-AuditID: c1b4fb3e-af19abb000004ec0-f0-47d19096cc55
Received: from esealmw126.eemea.ericsson.se (unknown [153.88.254.123])
	by mailgw4.ericsson.se (Symantec Mail Security) with ESMTP id
	5704F20521; Fri,  7 Mar 2008 19:59:34 +0100 (CET)
Received: from esealmw113.eemea.ericsson.se ([153.88.200.4]) by
	esealmw126.eemea.ericsson.se with Microsoft SMTPSVC(6.0.3790.1830); 
	Fri, 7 Mar 2008 19:59:33 +0100
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Fri, 7 Mar 2008 19:59:13 +0100
Message-ID: <CA9998CD4A020D418654FCDEF4E707DF04FD3067@esealmw113.eemea.ericsson.se>
In-Reply-To: <91A487B8-CCCA-44B2-B73B-9A58D8CB9FE2@ekabal.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] Outbound-12: STUN keep-alives without outbound
thread-index: AciAZ1RyWa8jV9+OSpi7Q1KLPPFn0wAHavcg
References: <20080303185301.8A6B61819D7F@mail.iptel.org><1ECE0EB50388174790F9694F77522CCF1549EC14@zrc2hxm0.corp.nortel.com><CA9998CD4A020D418654FCDEF4E707DF04F13E49@esealmw113.eemea.ericsson.se><458913680803060824m23e10d7eqa861a21266eb50b@mail.gmail.com><4E690AA1-9E99-490D-B5EA-E4895E0B675A@ekabal.com><CA9998CD4A020D418654FCDEF4E707DF04F7EF77@esealmw113.eemea.ericsson.se><FFDDF533-F69C-4EC0-B19F-552373DF8035@ekabal.com><CA9998CD4A020D418654FCDEF4E707DF04F7F043@esealmw113.eemea.ericsson.se><1ECE0EB50388174790F9694F77522CCF1552C7E3@zrc2hxm0.corp.nortel.com>
	<CA9998CD4A020D418654FCDEF4E707DF04F7F548@esealmw113.eemea.ericsson.se>
	<CA9998CD4A020D418654FCDEF4E707DF04F7F892@esealmw113.eemea.ericsson.se>
	<91A487B8-CCCA-44B2-B73B-9A58D8CB9FE2@ekabal.com>
From: "Christer Holmberg" <christer.holmberg@ericsson.com>
To: "Rohan Mahy" <rohan@ekabal.com>
X-OriginalArrivalTime: 07 Mar 2008 18:59:33.0779 (UTC)
	FILETIME=[61ACF630:01C88085]
X-Brightmail-Tracker: AAAAAA==
Cc: sip@ietf.org, Cullen Jennings <fluffy@cisco.com>,
	Francois Audet <audet@nortel.com>,
	Xavier Marjou <xavier.marjou@orange-ftgroup.com>
Subject: Re: [Sip] Outbound-12: STUN keep-alives without outbound
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


Hi Rohan, 

>The edge proxy is only supposed to add the ob parameter to 
>the Path if the edge proxy included a flow token in the path 
>URI.  This should only happen when the UA included a reg-id 
>and instance-id parameter in its Contact header.

Correct. But, the point is that the UA would then still be "allowed" to
use STUN keep-alive between itself and the outbound proxy, even if the
registrar doesn't support outbound.

Regards,

Christer


 
> On Mar 7, 2008, at 12:52 AM, Christer Holmberg wrote:
> > Hi,
> >
> > An alternative solution, based on "ob", and which does not require 
> > "keep", would be to add something like the following:
> >
> > "When the UA receives a 200 OK response to a REGISTER 
> message, it can 
> > deduce that outbound keepalives and flows can be used if 
> there either 
> > is an "outbound" options-tag in a Supported or Requires 
> header, or in 
> > lack of this, if the URI in the path header contains the "ob" URI 
> > parameter."
> >
> > Now, if there is no Supported/Require with "outbound" the UA knows 
> > that the registrar does not support outbound, but since the Path 
> > header contains "ob" the UA knows that the outbound proxy 
> supports it, 
> > and that it supports keep-alives.
> >
> > This would of course require an outbuond proxy who only wants to do 
> > keep-alive to implement "full" outbound, but it would at least be 
> > possible to use keep-alives between the UA and the outbound 
> proxy even 
> > if the registrar does not support outbound.
> >
> > Does that sound feasible?
> >
> > Regards,
> >
> > Christer
> >
> >
> >
> >> -----Original Message-----
> >> From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] 
> On Behalf Of 
> >> Christer Holmberg
> >> Sent: 7. maaliskuuta 2008 9:47
> >> To: Francois Audet; Rohan Mahy
> >> Cc: sip@ietf.org; Cullen Jennings; Xavier Marjou
> >> Subject: Re: [Sip] Outbound-12: STUN keep-alives without outbound
> >>
> >>
> >> Francois,
> >>
> >> I am not following you...
> >>
> >> Why do we then need the "ob" parameter? Why should the 
> outbound proxy 
> >> "on the wire" be able to say "I want to do outbound"?
> >>
> >> Why not simply use configuration?
> >>
> >> And, the parameter would NOT say "I want to do outbound, 
> but just the 
> >> keep-alive". It would say "I want to do keep-alive", which 
> we along 
> >> time ago agreed is a stand-alone function, and not part of 
> outbound 
> >> itself. I don't remember any change of that decission.
> >>
> >> Also, I don't agree this is a "corner case". STUN keep-alive is 
> >> pretty much the only signalling keep-alive mechanism we have 
> >> specified for SIP, and there are people who want to use it 
> for that.
> >>
> >> Regards,
> >>
> >> Christer
> >>
> >>
> >>> -----Original Message-----
> >>> From: Francois Audet [mailto:audet@nortel.com]
> >>> Sent: 7. maaliskuuta 2008 0:45
> >>> To: Christer Holmberg; Rohan Mahy
> >>> Cc: Xavier Marjou; sip@ietf.org; Cullen Jennings
> >>> Subject: RE: [Sip] Outbound-12: STUN keep-alives without outbound
> >>>
> >>> Yes, we had agreed to remove keep altogether.
> >>>
> >>> Using parameters for the job of something that logically 
> belongs to 
> >>> configuration is futile and harmful as it would result in 
> >>> infinite-length URIs or other field.
> >>>
> >>> I can also garantee that everybody that presents a concept will 
> >>> somehow believe that this particular concept is worthy of being a 
> >>> parameter while the other guy's concept is inferior and doesn't 
> >>> warrant it.
> >>>
> >>> I think the point of the text was that it shouldn't be an 
> AMBIGUOUS 
> >>> parameter, but instead a EXPLICIT parameter.
> >>>
> >>> So, this paragraph is completely accurate:
> >>> 	A SIP node MUST NOT send STUN requests over a flow unless
> >>>       it has an explicit indication that the target next hop SIP 
> >>> server
> >>>       claims to support this specification. Note that 
> UACs MUST NOT 
> >>> use
> >>>       an ambiguous configuration option such as "Work through
> >>> NATs?" or "Do >       Keep alives?" to imply next hop 
> STUN support.
> >>>
> >>> But it would be clearer if we added the following sentence
> >> at the end:
> >>> 	Rather than an ambiguous configuration option, it MUST
> >> be an explicit
> >>>       configuration such as "Server supports RFC XXX CRLF
> >> keep-alives?
> >>>       without RFC XXX registration procedures?".
> >>>
> >>> I really do believe that a parameter "on the wire" for such
> >> a corner
> >>> case (i.e., "I want to do outbound, but just the
> >>> keep-alive") is absolutely not warranted.
> >>>
> >>>
> >>>
> >>>> -----Original Message-----
> >>>> From: Christer Holmberg [mailto:christer.holmberg@ericsson.com]
> >>>> Sent: Thursday, March 06, 2008 10:38
> >>>> To: Rohan Mahy
> >>>> Cc: Xavier Marjou; Audet, Francois (SC100:3055); sip@ietf.org; 
> >>>> Cullen Jennings
> >>>> Subject: RE: [Sip] Outbound-12: STUN keep-alives without outbound
> >>>>
> >>>>
> >>>> Hi,
> >>>>
> >>>>>>>>> I have big issues with the keep-alive change in the
> >>> -12 version.
> >>>>>>>>>
> >>>>>>>>> Because, now the STUN keep-alives usage can't be
> >>> applied between
> >>>>>>>>> the UA  and outbound proxy, unless the registrar
> >>>> supports outbound.
> >>>>>>>
> >>>>>>> What gave you that impression Christer?  By my read that
> >>> is still
> >>>>>>> allowed if the UA has explicit configuration that its 
> next-hop 
> >>>>>>> support keepalives:
> >>>>>>
> >>>>>> Of course, but previously we had a mechanism for the
> >>>> outbound proxy to
> >>>>
> >>>>>> actually indicate support.
> >>>>>>
> >>>>>> Also, chapter 8 of the draft does say:
> >>>>>>
> >>>>>> "A SIP node MUST NOT send STUN requests over a flow unless
> >>>> it has an
> >>>>>> explicit indication that the target next hop SIP server
> >> claims to
> >>>>>> support this specification.  Note that UACs MUST NOT use an
> >>>> ambiguous
> >>>>>> configuration option such as "Work through NATs?" or "Do
> >>>> Keep alives?"
> >>>>>> to imply next hop STUN support."
> >>>>>
> >>>>> That text has been there for ages.  That is not new.
> >>>>
> >>>> Exactly - so therfor I don't think the explicit 
> configuration you 
> >>>> propose is appropriate :)
> >>>>
> >>>>>>>>> I strongly think it should be possible to use STUN
> >>>> keep-alives for
> >>>>>>>>> "pure" signalling NAT traversal, even if the "rest" of
> >>>> outbound is
> >>>>>>>>> not used.
> >>>>>>>>>
> >>>>>>>>> So, while I DO agree with the Vancouver(?) decission to
> >>>> not include
> >>>>>>>>> any  "URI" keep parameter in the R-URI of the register
> >>>> request, I
> >>>>>>>>> think we  shall we keep the URI "keep" parameter
> >>> definition, and
> >>>>>>>>> e.g.
> >>>>>
> >>>>> I'm pretty sure we had rough consensus to remove the parameter 
> >>>>> completely. I'll go dig up my notes and the minutes.
> >>> Maybe Francois
> >>>>> can jump in here.
> >>>>
> >>>> Maybe the problem is that we only discussed the usage of the 
> >>>> parameter in the R-URI, and when we agreed not to use it 
> there we 
> >>>> forgot that it could actually be used in the Path header.
> >>>>
> >>>> Regards,
> >>>>
> >>>> Christer
> >>>>
> >>>>
> >>>>
> >>>>
> >>>>
> >>>>
> >>>>
> >>>>
> >>>>
> >>>>
> >>>>>>>>> allow it to  be inserted into the Path header (I don't
> >>>>> remember any
> >>>>>>>>> discussions  regarding removing that possibility) by
> >>>> the outbound
> >>>>>>>>> proxy, in order to  inform the UA that the outbound
> >>>>> proxy supports
> >>>>>>>>> STUN keep-alive.
> >>>>>>>>>
> >>>>>>>>> (OR, there should be another mechanism for the
> >>>> outbound proxy to
> >>>>>>>>> inform  the UA it supports STUN keep-alive)
> >>>>>>>
> >>>>>>> Currently, that other mechanism is out-of-band configuration.
> >>>>>>> We could also add another way to indicate this in the
> >>>> future, but
> >>>>>>> for know the WG seems happy with what we have.
> >>>>>>
> >>>>>> I don't understand "add in future". We already had a
> >> mechanism.
> >>>>>>
> >>>>>> This is what you, me and Cullen were discussing a long
> >>>> time ago, and
> >>>>>> we all agreed to :)
> >>>>>>
> >>>>>> One thing we in Vancouver DID agree to was that a
> >>>> mechanism to also
> >>>>>> indicate the keep-alive refresh timer value WOULD be a future 
> >>>>>> extension.
> >>>>>>
> >>>>>>
> >>>>>> Regards,
> >>>>>>
> >>>>>> Christer
> >>>>>>
> >>>>>>
> >>>>>>
> >>>>>>
> >>>>>>>>>  That would allow people to start using outbound for NAT
> >>>>>>> traversal,
> >>>>>>>>> even  if the registrars haven't yet been updated to
> >>>>>>> support outbound
> >>>>>>>>> etc.
> >>>>>>>>>
> >>>>>>>>>  At one point we decided that we will keep the STUN
> >>>>>>> keep-alive usage
> >>>>>>>>> and  outbound in the same spec, but that we will
> >>>>> describe the STUN
> >>>>>>>>> keep-alive  usage as a "stand alone" function (chapter
> >>>> 8 of the
> >>>>>>>>> draft). But, now you  have more or less "merged" the STUN
> >>>>>>> keep-alive
> >>>>>>>>> usage with the outbound  function, and that is bad.
> >>>>>>>>>
> >>>>>>>>>  Also, this change is not mentioned in the 
> >>>>>>>>> changes-since-the-previous-version part (if it is
> >>> mentioned, I
> >>>>>>>>> appologize for having missed it)
> >>>>>>>>>
> >>>>>>>>>  Regards,
> >>>>>>>>>
> >>>>>>>>>  Christer
> >>>>>>>>>  _______________________________________________
> >>>>>>>>>  Sip mailing list
> >> https://www.ietf.org/mailman/listinfo/sip
> >>>>>>>>>  This list is for NEW development of the core SIP
> >>>> Protocol  Use
> >>>>>>>>> sip-implementors@cs.columbia.edu for questions on
> >>>>> current sip  Use
> >>>>>>>>> sipping@ietf.org for new developments on the
> >>> application of sip
> >>>>>>>>>
> >>>>>>>
> >>>>>>>
> >>>>>
> >>>>>
> >>>>
> >>>
> >> _______________________________________________
> >> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> >> This list is for NEW development of the core SIP Protocol Use 
> >> sip-implementors@cs.columbia.edu for questions on current sip Use 
> >> sipping@ietf.org for new developments on the application of sip
> >>
> 
> 
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Sat Mar  8 06:06:48 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id B11BF28D36D;
	Sat,  8 Mar 2008 06:06:47 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.761
X-Spam-Level: 
X-Spam-Status: No, score=-100.761 tagged_above=-999 required=5
	tests=[AWL=-0.324, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id uYRNvFVVZ1C0; Sat,  8 Mar 2008 06:06:46 -0800 (PST)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id D1BB73A6785;
	Sat,  8 Mar 2008 05:28:18 -0800 (PST)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id D4AF728E267
	for <sip@core3.amsl.com>; Sat,  8 Mar 2008 05:27:04 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id BVS2wYxWTauM for <sip@core3.amsl.com>;
	Sat,  8 Mar 2008 05:27:03 -0800 (PST)
Received: from mailgw4.ericsson.se (mailgw4.ericsson.se [193.180.251.62])
	by core3.amsl.com (Postfix) with ESMTP id 5FD1F294410
	for <sip@ietf.org>; Fri,  7 Mar 2008 19:22:23 -0800 (PST)
Received: from mailgw4.ericsson.se (unknown [127.0.0.1])
	by mailgw4.ericsson.se (Symantec Mail Security) with ESMTP id
	5F5E020252; Sat,  8 Mar 2008 04:22:11 +0100 (CET)
X-AuditID: c1b4fb3e-af19abb000004ec0-34-47d20663e974
Received: from esealmw126.eemea.ericsson.se (unknown [153.88.254.123])
	by mailgw4.ericsson.se (Symantec Mail Security) with ESMTP id
	3B27820143; Sat,  8 Mar 2008 04:22:11 +0100 (CET)
Received: from esealmw113.eemea.ericsson.se ([153.88.200.4]) by
	esealmw126.eemea.ericsson.se with Microsoft SMTPSVC(6.0.3790.1830); 
	Sat, 8 Mar 2008 04:22:10 +0100
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Sat, 8 Mar 2008 04:22:09 +0100
Message-ID: <CA9998CD4A020D418654FCDEF4E707DF046C7645@esealmw113.eemea.ericsson.se>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] Outbound-12: STUN keep-alives without outbound
thread-index: AciAmwkiKDfnAdVOQZaeV+jHI3pHnQAL1HLL
References: <20080303185301.8A6B61819D7F@mail.iptel.org><1ECE0EB50388174790F9694F77522CCF1549EC14@zrc2hxm0.corp.nortel.com><CA9998CD4A020D418654FCDEF4E707DF04F13E49@esealmw113.eemea.ericsson.se><458913680803060824m23e10d7eqa861a21266eb50b@mail.gmail.com><4E690AA1-9E99-490D-B5EA-E4895E0B675A@ekabal.com><CA9998CD4A020D418654FCDEF4E707DF04F7EF77@esealmw113.eemea.ericsson.se><FFDDF533-F69C-4EC0-B19F-552373DF8035@ekabal.com><CA9998CD4A020D418654FCDEF4E707DF04F7F043@esealmw113.eemea.ericsson.se><1ECE0EB50388174790F9694F77522CCF1552C7E3@zrc2hxm0.corp.nortel.com>
	<CA9998CD4A020D418654FCDEF4E707DF04F7F548@esealmw113.eemea.ericsson.se>
	<CA9998CD4A020D418654FCDEF4E707DF04F7F892@esealmw113.eemea.ericsson.se>
	<91A487B8-CCCA-44B2-B73B-9A58D8CB9FE2@ekabal.com>
	<CA9998CD4A020D418654FCDEF4E707DF04FD3067@esealmw113.eemea.ericsson.se>
	<A7837C29-60EC-4434-9209-15831192DD00@softarmor.com>
From: "Christer Holmberg" <christer.holmberg@ericsson.com>
To: "Dean Willis" <dean.willis@softarmor.com>
X-OriginalArrivalTime: 08 Mar 2008 03:22:10.0745 (UTC)
	FILETIME=[98A0CA90:01C880CB]
X-Brightmail-Tracker: AAAAAA==
Cc: sip@ietf.org, Rohan Mahy <rohan@ekabal.com>,
	Francois Audet <audet@nortel.com>,
	Xavier Marjou <xavier.marjou@orange-ftgroup.com>,
	Cullen Jennings <fluffy@cisco.com>
Subject: Re: [Sip] Outbound-12: STUN keep-alives without outbound
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Hi Dean,
 
>>> The edge proxy is only supposed to add the ob parameter to
>>> the Path if the edge proxy included a flow token in the path
>>> URI.  This should only happen when the UA included a reg-id
>>> and instance-id parameter in its Contact header.
>>
>> Correct. But, the point is that the UA would then still be "allowed" 
>> to use STUN keep-alive between itself and the outbound proxy, even if the
>> registrar doesn't support outbound.
>
>So I think you're saying that we've gotten the decision as to whether 
>to use keepalive between the UA and the edge proxy tangled up with 
>whether or not we use the outbound-style persistent binding at the 
>registrar?

Yes.

>Perhaps if the keepalive negotiation were independent of outbound, it 
>would work better for you.

Well, that is what I initially said in this thread, and what I believe we already did have before Outbound-12: the outbound proxy was able to insert the "keep" parameter in the Path header to indicate support of keep-alive...

I think that the UA relying on configuration whether the outbound proxy supports keep-alive or not is never going to work - especially not in mobile environments...

Regards,

Christer



_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Sat Mar  8 06:13:52 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 3FBAE28C42E;
	Sat,  8 Mar 2008 06:13:52 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -99.374
X-Spam-Level: 
X-Spam-Status: No, score=-99.374 tagged_above=-999 required=5
	tests=[AWL=-0.006, BAYES_00=-2.599, DATE_IN_PAST_06_12=1.069,
	FH_RELAY_NODNS=1.451, HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1,
	USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id jrhzCAxwyvmo; Sat,  8 Mar 2008 06:13:52 -0800 (PST)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 249E628E79C;
	Sat,  8 Mar 2008 05:29:56 -0800 (PST)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id EA24028C5F6
	for <sip@core3.amsl.com>; Sat,  8 Mar 2008 05:26:47 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id cyZTXWmkUclX for <sip@core3.amsl.com>;
	Sat,  8 Mar 2008 05:26:46 -0800 (PST)
Received: from kilo.rtfm.com (unknown [12.149.3.162])
	by core3.amsl.com (Postfix) with ESMTP id 46FDF2948C0
	for <sip@ietf.org>; Fri,  7 Mar 2008 20:18:47 -0800 (PST)
Received: from helium.local (localhost [127.0.0.1])
	by kilo.rtfm.com (Postfix) with ESMTP id D626617831D;
	Fri,  7 Mar 2008 23:18:38 -0500 (EST)
Date: Fri, 07 Mar 2008 11:13:47 -0800
From: Eric Rescorla <ekr@networkresonance.com>
To: "Dan Wing" <dwing@cisco.com>
In-Reply-To: <00dd01c87194$4ed8f900$c4f0200a@cisco.com>
References: <31e401c869aa$7b5e17e0$18726b80@cisco.com> <47B40C71.60409@gmx.net>
	<02b701c8703b$d0929d70$c4f0200a@cisco.com>
	<47B6B843.4050809@gmx.net>
	<00dd01c87194$4ed8f900$c4f0200a@cisco.com>
User-Agent: Wanderlust/2.15.5 (Almost Unreal) Emacs/22.1 Mule/5.0 (SAKAKI)
MIME-Version: 1.0 (generated by SEMI 1.14.6 - "Maruoka")
Message-Id: <20080308041838.D626617831D@kilo.rtfm.com>
Cc: sip@ietf.org
Subject: Re: [Sip] R-REUSE, media-security-requirements
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Catching up on the list...

At Sun, 17 Feb 2008 10:38:36 -0800,
Dan Wing wrote:
> > I would like to comment on PFS:
> > 
> > The definition of the PFS in the Handbook of Applied 
> > Cryptography says:
> > 
> > "A protocol is said to have perfect forward secrecy if compromise of 
> > long-term keys
> > does not compromise past session keys."
> > 
> > Now, there is only the question what "long-term key" means in 
> > this context.
> 
> A DTLS-SRTP implementation would have both the server and client
> cache the TLS Session Id, and remember the Session Id between
> phone calls.  This means the TLS security parameters and keys, 
> and thus the SRTP key (which is derived from the TLS security
> parametersa and keys), are remembered between phone calls.  
> 
> As far as I am aware, there is no guidance for how long (hours)
> this information is expected to be retained.

The guidance in  TLS is 24 hours, but the usage model is totally
different. To a first order, it's probably not worth trying to
provide much guidance here, since the usage models in SIP vary
so much.

> > Hence, I am not so sure that PFS is destroyed with the 
> > ability to store 
> > session state. Furthermore, both parties can decide not to use it.
> 
> If _either_ party stores the information, compromise of that
> device (the one which stored the information) destroys PFS.  So 
> even if I have configured my device to not store such information, 
> whoever I'm calling might not have configured it that way.  There 
> is no mechanism, currently, to negotiate or communicate if you
> want the remote party to cache TLS session information.  Perhaps
> RFC5077 could be used as the negotiation mechanism, such that
> if both sides implement RFC5077 they are agreeing to caching
> session information.  I am not too interested in RFC5077's
> ability to have one side (the TLS client) store the state, but
> rather I am interested in a negotiation mechanism such that
> both sides agree to break PFS.

TLS already provides a facility for this: send a fatal alert. 
From RFC 4346 S 7.2.2.

   Error handling in the TLS Handshake protocol is very simple.  When an
   error is detected, the detecting party sends a message to the other
   party.  Upon transmission or receipt of a fatal alert message, both
   parties immediately close the connection.  Servers and clients MUST
   forget any session-identifiers, keys, and secrets associated with a
   failed connection.  Thus, any connection terminated with a fatal
   alert MUST NOT be resumed. 

So, in this case you'd send close_notify with level fatal.

-Ekr
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Sat Mar  8 06:14:08 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 61F5928CF3A;
	Sat,  8 Mar 2008 06:14:08 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.61
X-Spam-Level: 
X-Spam-Status: No, score=-100.61 tagged_above=-999 required=5
	tests=[AWL=-0.173, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id ATOkORtrNvCR; Sat,  8 Mar 2008 06:14:06 -0800 (PST)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id D8D5328D295;
	Sat,  8 Mar 2008 05:30:50 -0800 (PST)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 21CFC28E0C3
	for <sip@core3.amsl.com>; Sat,  8 Mar 2008 05:29:19 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id zS4bwJaIp62T for <sip@core3.amsl.com>;
	Sat,  8 Mar 2008 05:29:15 -0800 (PST)
Received: from nylon.softarmor.com (nylon.softarmor.com [66.135.38.164])
	by core3.amsl.com (Postfix) with ESMTP id 33F20294093
	for <sip@ietf.org>; Sat,  8 Mar 2008 05:25:16 -0800 (PST)
Received: from [192.168.2.103] (cpe-76-185-142-113.tx.res.rr.com
	[76.185.142.113] (may be forged)) (authenticated bits=0)
	by nylon.softarmor.com (8.13.8/8.13.8/Debian-3) with ESMTP id
	m286ZAbG008963
	(version=TLSv1/SSLv3 cipher=AES128-SHA bits=128 verify=NOT);
	Sat, 8 Mar 2008 00:35:12 -0600
Message-Id: <4C478E7A-14F9-49FF-B309-BD764FEF6519@softarmor.com>
From: Dean Willis <dean.willis@softarmor.com>
To: IETF SIP List <sip@ietf.org>
Mime-Version: 1.0 (Apple Message framework v919.2)
Date: Sat, 8 Mar 2008 00:35:05 -0600
X-Mailer: Apple Mail (2.919.2)
Cc: Cullen Jennings <fluffy@cisco.com>
Subject: [Sip] Further revised SIP agenda
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


The agenda for SIP at IETF 71 continues to evolve.

I've updated the agenda at:

https://www.softarmor.com/mediawiki/index.php/SIP_Agenda_IETF_71

and also uploaded a copy to the IETF proceedings site, wherever that  
might be.

I'm also fairly certain I missed somebody's comments on an earlier  
version, so if it looks like you told me something and I didn't get it  
right, please tell me again. Some days I'm not too bright. Okay, most  
days.

We're hoping to have a special-topic session Monday night on the  
"extension model" conundrum, with discussion of how we got to where we  
are, the "litmus test" model for figuring out what sort of extension  
approach to use given a set of requirements, and further discussion of  
the INFO-package model. This session will, if it happens as I  
understand it, operate under auspices of the SIPPING working group.

This leaves one big furball that we need to figure out how to tackle:  
the E.164/identity discussion. We've more than a half-dozen drafts on  
the topic, and only about a half-hour to spend on the topic. Anybody  
have a good idea on how to organize this into a useful discussion?

Should we have somebody present a background discussion on the problem  
so that we're all up to date? Leap into potential solutions/ 
workarounds? Or perhaps we should collaborate in primal scream therapy  
by shouting at each other at the top of our voices?

Please come back with ideas.

For those of you who REALLY want this in email, here's the set of  
topics we currently proposing giving time to:


Session Policies
Volker Hilt
draft-ietf-sip-session-policy-framework-02
15 min

Requirements for Media Security
Dan Wing
draft-ietf-sip-media-security-requirements-03
draft-fischer-sip-e2e-sec-media-00
draft-wing-sip-identity-media-02
30 min

UA initiated privacy
Mayumi Munakata
draft-ietf-sip-ua-privacy-02
20 min

X.509 Certificates for TLS
Vijay Gurbani, Scott Lawrence
draft-ietf-sip-domain-certs-00
15 min

X.509 Extended Key Usage
Vijay Gurbani Scott Lawrence
draft-ietf-sip-eku-01
15 min

Delivering request-URI and parameters to UAS via proxy
Christer Holmberg
draft-holmberg-sip-target-uri-delivery-01
draft-rosenberg-sip-ua-loose-route-02
draft-rosenberg-sipping-siptrunk-00
30 min

The Phone Number/Identity Dichotomy
Most of the Working Group
draft-rosenberg-sip-rfc4474-concerns-00
draft-schwartz-sip-e164-ownership-01
draft-darilion-sip-e164-enum-00
draft-kaplan-sip-uris-change-00
draft-kaplan-sip-baiting-attack-02
draft-elwell-sip-e164-problem-statement-00
draft-wing-sip-e164-rrc-01
35 min

--
Dean



_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Sat Mar  8 06:15:30 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id BC58D28DB4F
	for <ietfarch-sip-archive@core3.amsl.com>; Sat,  8 Mar 2008 06:15:30 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.581
X-Spam-Level: 
X-Spam-Status: No, score=-100.581 tagged_above=-999 required=5
	tests=[AWL=-0.144, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id Yn49FA9r43lm; Sat,  8 Mar 2008 06:15:29 -0800 (PST)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 1D07028C926;
	Sat,  8 Mar 2008 05:33:57 -0800 (PST)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 4CAD928C926
	for <sip@core3.amsl.com>; Sat,  8 Mar 2008 05:33:55 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 7i-AW64JQUge for <sip@core3.amsl.com>;
	Sat,  8 Mar 2008 05:33:53 -0800 (PST)
Received: from nylon.softarmor.com (nylon.softarmor.com [66.135.38.164])
	by core3.amsl.com (Postfix) with ESMTP id B410628DB4F
	for <sip@ietf.org>; Fri,  7 Mar 2008 13:27:21 -0800 (PST)
Received: from [192.168.2.103] (cpe-76-185-142-113.tx.res.rr.com
	[76.185.142.113]) (authenticated bits=0)
	by nylon.softarmor.com (8.13.8/8.13.8/Debian-3) with ESMTP id
	m27LR81o005194
	(version=TLSv1/SSLv3 cipher=AES128-SHA bits=128 verify=NOT);
	Fri, 7 Mar 2008 15:27:09 -0600
Message-Id: <6F488C03-A79D-4059-A4B5-A4D089F23B3A@softarmor.com>
From: Dean Willis <dean.willis@softarmor.com>
To: Aki Niemi <aki.niemi@nokia.com>
In-Reply-To: <1204872793.28304.23.camel@localhost>
Mime-Version: 1.0 (Apple Message framework v919.2)
Date: Fri, 7 Mar 2008 15:27:02 -0600
References: <20080303183225.D04A35081A@romeo.rtfm.com>
	<1204628885.15582.7.camel@localhost>
	<20080304151905.4EE005081A@romeo.rtfm.com>
	<1204661227.15582.78.camel@localhost>
	<20080304202005.ADD0C5081A@romeo.rtfm.com>
	<1204663441.15582.107.camel@localhost>
	<20080304205516.B737E5081A@romeo.rtfm.com>
	<1204724689.5302.38.camel@localhost>
	<9B149569-37A9-402B-BAB1-BB963CA3D477@softarmor.com>
	<1204789154.5302.73.camel@localhost>
	<47D0333C.8050306@softarmor.com>
	<1204872793.28304.23.camel@localhost>
X-Mailer: Apple Mail (2.919.2)
Cc: sip@ietf.org
Subject: Re: [Sip] Question on subnot-etags
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


On Mar 7, 2008, at 12:53 AM, Aki Niemi wrote:

>
> On to, 2008-03-06 at 12:09 -0600, ext Dean Willis wrote:
>>> There *really* is no comparison done; the subscriber throws away  
>>> the old
>>> state when a NOTIFY is received, and stores the new state. (In the  
>>> case
>>> of partial notification, there's also patching done, but still no
>>> comparison of etags).
>>
>> So if a changed etag doesn't mean the content changed, what the  
>> heck are
>> we sending an etag for?
>
> We're sending it so that the next time the subscriber sends a  
> SUBSCRIBE,
> it can say: "Here's the last entity I've seen. Suppress-If-Match,
> please".

But in the case we're discussing, the last entity the subscriber has  
seen is not the last entity that that the server has seen. And the  
entity that the subscriber currently has isn't the same entity that  
the server has -- it's another entity that just happens to have the  
same etag as the entity that the subscriber currently has.

That's a close enough match for some purposes (perhaps all of our  
purposes), but it's not the same thing.

--
Dean


_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Sat Mar  8 06:19:59 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id EBF4C28E14D
	for <ietfarch-sip-archive@core3.amsl.com>; Sat,  8 Mar 2008 06:19:58 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.574
X-Spam-Level: 
X-Spam-Status: No, score=-100.574 tagged_above=-999 required=5
	tests=[AWL=-0.137, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id vE5mPG56X4WQ; Sat,  8 Mar 2008 06:19:57 -0800 (PST)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 3AD9C28DC3B;
	Sat,  8 Mar 2008 05:50:59 -0800 (PST)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 8917928CF58
	for <sip@core3.amsl.com>; Sat,  8 Mar 2008 05:50:57 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 9glkubh2nLOM for <sip@core3.amsl.com>;
	Sat,  8 Mar 2008 05:50:54 -0800 (PST)
Received: from nylon.softarmor.com (nylon.softarmor.com [66.135.38.164])
	by core3.amsl.com (Postfix) with ESMTP id 17E6F28DC4F
	for <sip@ietf.org>; Fri,  7 Mar 2008 13:34:45 -0800 (PST)
Received: from [192.168.2.103] (cpe-76-185-142-113.tx.res.rr.com
	[76.185.142.113] (may be forged)) (authenticated bits=0)
	by nylon.softarmor.com (8.13.8/8.13.8/Debian-3) with ESMTP id
	m27LXjwp005262
	(version=TLSv1/SSLv3 cipher=AES128-SHA bits=128 verify=NOT);
	Fri, 7 Mar 2008 15:33:47 -0600
Message-Id: <A7837C29-60EC-4434-9209-15831192DD00@softarmor.com>
From: Dean Willis <dean.willis@softarmor.com>
To: Christer Holmberg <christer.holmberg@ericsson.com>
In-Reply-To: <CA9998CD4A020D418654FCDEF4E707DF04FD3067@esealmw113.eemea.ericsson.se>
Mime-Version: 1.0 (Apple Message framework v919.2)
Date: Fri, 7 Mar 2008 15:33:40 -0600
References: <20080303185301.8A6B61819D7F@mail.iptel.org><1ECE0EB50388174790F9694F77522CCF1549EC14@zrc2hxm0.corp.nortel.com><CA9998CD4A020D418654FCDEF4E707DF04F13E49@esealmw113.eemea.ericsson.se><458913680803060824m23e10d7eqa861a21266eb50b@mail.gmail.com><4E690AA1-9E99-490D-B5EA-E4895E0B675A@ekabal.com><CA9998CD4A020D418654FCDEF4E707DF04F7EF77@esealmw113.eemea.ericsson.se><FFDDF533-F69C-4EC0-B19F-552373DF8035@ekabal.com><CA9998CD4A020D418654FCDEF4E707DF04F7F043@esealmw113.eemea.ericsson.se><1ECE0EB50388174790F9694F77522CCF1552C7E3@zrc2hxm0.corp.nortel.com>
	<CA9998CD4A020D418654FCDEF4E707DF04F7F548@esealmw113.eemea.ericsson.se>
	<CA9998CD4A020D418654FCDEF4E707DF04F7F892@esealmw113.eemea.ericsson.se>
	<91A487B8-CCCA-44B2-B73B-9A58D8CB9FE2@ekabal.com>
	<CA9998CD4A020D418654FCDEF4E707DF04FD3067@esealmw113.eemea.ericsson.se>
X-Mailer: Apple Mail (2.919.2)
Cc: sip@ietf.org, Rohan Mahy <rohan@ekabal.com>,
	Francois Audet <audet@nortel.com>,
	Xavier Marjou <xavier.marjou@orange-ftgroup.com>,
	Cullen Jennings <fluffy@cisco.com>
Subject: Re: [Sip] Outbound-12: STUN keep-alives without outbound
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


On Mar 7, 2008, at 12:59 PM, Christer Holmberg wrote:

>
> Hi Rohan,
>
>> The edge proxy is only supposed to add the ob parameter to
>> the Path if the edge proxy included a flow token in the path
>> URI.  This should only happen when the UA included a reg-id
>> and instance-id parameter in its Contact header.
>
> Correct. But, the point is that the UA would then still be "allowed"  
> to
> use STUN keep-alive between itself and the outbound proxy, even if the
> registrar doesn't support outbound.

So I think you're saying that we've gotten the decision as to whether  
to use keepalive between the UA and the edge proxy tangled up with  
whether or not we use the outbound-style persistent binding at the  
registrar?

Perhaps if the keepalive negotiation were independent of outbound, it  
would work better for you.

--
Dean

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Sat Mar  8 06:22:47 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 3065B28D9A5
	for <ietfarch-sip-archive@core3.amsl.com>; Sat,  8 Mar 2008 06:22:47 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.653
X-Spam-Level: 
X-Spam-Status: No, score=-100.653 tagged_above=-999 required=5
	tests=[AWL=-0.216, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id L311sx1LUeaU; Sat,  8 Mar 2008 06:22:45 -0800 (PST)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 78D1A3A6BE4;
	Sat,  8 Mar 2008 06:01:58 -0800 (PST)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id B2E2728CF30
	for <sip@core3.amsl.com>; Sat,  8 Mar 2008 06:01:55 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id G0xbyDb-d26s for <sip@core3.amsl.com>;
	Sat,  8 Mar 2008 06:01:50 -0800 (PST)
Received: from mail.exchange.microsoft.com (mail1.exchange.microsoft.com
	[131.107.1.17]) by core3.amsl.com (Postfix) with ESMTP id 381D928D655
	for <sip@ietf.org>; Fri,  7 Mar 2008 12:46:54 -0800 (PST)
Received: from df-bhd-02.exchange.corp.microsoft.com (157.54.71.155) by
	DF-GWY-05.exchange.corp.microsoft.com (157.54.87.87) with Microsoft
	SMTP Server (TLS) id 8.1.240.5; Fri, 7 Mar 2008 12:47:04 -0800
Received: from df-mlt-03.exchange.corp.microsoft.com (157.54.82.45) by
	df-bhd-02.exchange.corp.microsoft.com (157.54.71.155) with Microsoft
	SMTP Server (TLS) id 8.1.240.5; Fri, 7 Mar 2008 12:47:04 -0800
Received: from DF-MASTIFF-MSG.exchange.corp.microsoft.com ([157.54.61.165]) by
	df-mlt-03.exchange.corp.microsoft.com ([157.54.82.45]) with mapi;
	Fri, 7 Mar 2008 12:47:04 -0800
From: Sean Olson <Sean.Olson@microsoft.com>
To: "Markus.Isomaki@nokia.com" <Markus.Isomaki@nokia.com>, "jdrosen@cisco.com"
	<jdrosen@cisco.com>
Date: Fri, 7 Mar 2008 12:46:38 -0800
Thread-Topic: Comments on TOTE
Thread-Index: Ach6Rz3yvChfWvmlTs2W/7laMQUYXAF3zPdAABt2PIA=
Message-ID: <4C1596FBF66C67478BCFE7B3F81FC1E03FBE17741A@DF-MASTIFF-MSG.exchange.corp.microsoft.com>
References: <47C54730.5030501@nsn.com><47C5DCA6.9080302@cisco.com>
	<47C680E3.2030803@nsn.com><47C6C841.2010201@cisco.com>
	<47C6D42D.8040506@nsn.com><E6C2E8958BA59A4FB960963D475F7AC30BC782C9B1@mail.acmepacket.com><47C6F8CA.2080305@cisco.com><E6C2E8958BA59A4FB960963D475F7AC30BC782CC3B@mail.acmepacket.com>
	<47C71685.7060206@cisco.com>
	<C84E0A4ABA6DD74DA5221E0833A35DF30A730DA7@esebe101.NOE.Nokia.com>
In-Reply-To: <C84E0A4ABA6DD74DA5221E0833A35DF30A730DA7@esebe101.NOE.Nokia.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
acceptlanguage: en-US
MIME-Version: 1.0
Cc: "sip@ietf.org" <sip@ietf.org>
Subject: Re: [Sip] Comments on TOTE
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Is there anything that would prevent MSRP from working over ICE/TURN?

-----Original Message-----
From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On Behalf Of Markus.Isomaki@nokia.com
Sent: Friday, March 07, 2008 12:36 AM
To: jdrosen@cisco.com
Cc: sip@ietf.org
Subject: [Sip] Comments on TOTE

Hi,

Here are my views on
http://tools.ietf.org/id/draft-rosenberg-sip-tote-00.txt:

In general there are a lot of things in like about this approach. I
think we definitely need a light-weight, TLS/TCP-based, end-to-end
oriented transport mechanism, with a good NAT traversal story. There are
many use cases for such a mechanism, so instead of developing a specific
one for each of them, it is better to have a common baseline.
Utilization of ICE-TCP and TURN should be a basic requirement here, and
TOTE is indeed using them.

The main issue I see is that MSRP already occupies part of that space.
However, MSRP is not a perfect match. It requires its own specific
relays instead of of being able to use TURN. End-to-end security is
based on S/MIME instead of TLS. It includes a lot of per-message
overhead and also the fragmentation, re-assembly and reporting make it
complicated. Furthermore I'm not convinced a yet how the muxing of
sessions between relays really works: Based on SIMPLE-list, at least two
(independent) implementers have tried to produce a relay like that, but
have concluded that it is not doable. I don't know if other relay
implementations exist. The IMS and OMA folks prefer B2BUAs over relays
for MSRP NAT traversal, and that is the only space I can see some
serious implementation/deployment of MSRP. (This might be because most
people who were originally interested in SIP IM have now switched to
XMPP.) Well, I haven't seen much happening with ICE/TURN-TCP either, but
that could be a chicken-and-egg problem that something like TOTE could
solve. It would be of course helpful if people who came up with MSRP
relay/muxing/chunking requirements would indicate if they still see that
model valid (for customers of MSRP/IM) and if they see a lot of
deployment potential for the protocol.

I also like the model where baseline TOTE would be like SUB/NOT
framework, while the actual usages would be analogous to event packages.
It would be very helpful for developers of new usages if there was a
well-defined and well-working baseline that solved some hard issues like
NAT traversal, e2e security and provided some tools for session
negotiation. I'd be quite liberal about the usages themselves, but of
course the IETF should immediately charter standards-track work on some
of the key ones.

I'm co-author of draft-ietf-mmusic-file-transfer-mech (file transfer O/A
and MSRP-based transport), so I share the concerns that Miguel already
brought up in an earlier mail. Though, had TOTE existed when we started
with file transfer draft, I'm certain we would have chosen it instead of
MSRP. We tried our best in the draft to actually decouple the
offer/answer part from the transport, envisioning that some day there
might be something like TOTE to run over. Now that the work is already
quite far and there actually are a few implementations of the draft (not
much in public, but for instance GSMA has had an interop event for
image-sharing based on the draft), it would be non-constructive to
develop file transfer with TOTE from the scratch. It would be better to
see if the O/A model could be sustained while providing an alternative
transport.

Another concern is that it took something like over 5 years from the
start to get MSRP to RFC. How long will it take for TOTE? I already see
such risk if we get stuck in arguments about the MIME usage/negotiation
model and so on, where there's probably no clear answer, so they could
be debated forever. Yet another risk is that TOTE is already too late
and people with use cases for it are committed to something else (MSRP,
media-control stuff). So, it would be useful to probe if people really
would have use cases for it in their UA products, or would it be only of
academic interest.

So, as a summary I'm positive of going forward with TOTE, but there are
issues wrt. overlap with MSRP and the market adoption, which we need to
quantify a bit first.

Markus





_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Sat Mar  8 06:23:25 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 803CC28DEEA;
	Sat,  8 Mar 2008 06:23:25 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.843
X-Spam-Level: 
X-Spam-Status: No, score=-100.843 tagged_above=-999 required=5
	tests=[AWL=-0.406, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id HSVeMJDmLqsE; Sat,  8 Mar 2008 06:23:24 -0800 (PST)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 26AEF28D7C4;
	Sat,  8 Mar 2008 06:05:27 -0800 (PST)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 3AFCA28CC7B
	for <sip@core3.amsl.com>; Sat,  8 Mar 2008 06:05:24 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id w72XIAfRdDjK for <sip@core3.amsl.com>;
	Sat,  8 Mar 2008 06:05:19 -0800 (PST)
Received: from ihemail4.lucent.com (ihemail4.lucent.com [135.245.0.39])
	by core3.amsl.com (Postfix) with ESMTP id 74F4828E9F1
	for <sip@ietf.org>; Fri,  7 Mar 2008 16:42:09 -0800 (PST)
Received: from ilexp01.ndc.lucent.com (h135-3-39-1.lucent.com [135.3.39.1])
	by ihemail4.lucent.com (8.13.8/IER-o) with ESMTP id m280fkK5008097;
	Fri, 7 Mar 2008 18:41:46 -0600 (CST)
Received: from DEEXP02.DE.lucent.com ([135.248.187.66]) by
	ilexp01.ndc.lucent.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Fri, 7 Mar 2008 18:41:46 -0600
Received: from DEEXC1U01.de.lucent.com ([135.248.187.20]) by
	DEEXP02.DE.lucent.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Sat, 8 Mar 2008 01:41:43 +0100
X-MIMEOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Sat, 8 Mar 2008 01:41:34 +0100
Message-ID: <5D1A7985295922448D5550C94DE2918001CEBEC8@DEEXC1U01.de.lucent.com>
In-Reply-To: <5D1A7985295922448D5550C94DE2918001C68A17@DEEXC1U01.de.lucent.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] WGLC on domain-certs and eku
Thread-index: Ach1I47x4nFLQ/r9Sf6PE1fK5hI8NALkQIeg
References: <5D1A7985295922448D5550C94DE2918001C68A17@DEEXC1U01.de.lucent.com>
From: "DRAGE, Keith \(Keith\)" <drage@alcatel-lucent.com>
To: "IETF SIP List" <sip@ietf.org>
X-OriginalArrivalTime: 08 Mar 2008 00:41:43.0491 (UTC)
	FILETIME=[2E566930:01C880B5]
X-Scanned-By: MIMEDefang 2.57 on 135.245.2.39
Cc: "Jeffrey, Alan S A \(Alan\)" <ajeffrey@alcatel-lucent.com>,
	Cullen Jennings <fluffy@cisco.com>, slawrence@bluesocket.com
Subject: Re: [Sip] WGLC on domain-certs and eku
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

(As SIP WG cochair)

This WGLC ended today. If you believe you still have comments to send on
either document, can you either send them as soon as possible, or if you
are still working on this document, send the chairs a message saying so
and indicating roughly how long you need. 

We have one significant comment offlist from the PKIX chair relating to
the current separation into two documents (he does not believe this is
necessary). As this was a directive from the AD, can I encourage the
editors to get Steven Kent and Cullen Jennings together over the course
of the next week (possible with a security AD) in order to discuss this
further.

Regards

Keith

> -----Original Message-----
> From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On 
> Behalf Of DRAGE, Keith (Keith)
> Sent: Friday, February 22, 2008 7:22 AM
> To: IETF SIP List
> Cc: Jeffrey, Alan S A (Alan); slawrence@bluesocket.com
> Subject: [Sip] WGLC on domain-certs and eku
> 
> (As WG chair)
> 
> This is to announce a WG last call on BOTH
> 
> http://www.ietf.org/internet-drafts/draft-ietf-sip-domain-certs-00.txt
> 
> and
> 
> http://www.ietf.org/internet-drafts/draft-ietf-sip-eku-01.txt
> 
> Comments should be submitted to both the list, and to the 
> authors, by Friday 7th March 2008. This will give the 
> opportunity for discussion of major issues at the SIP WG 
> meeting in Philadelphia.
> 
> Please clearly identify the position of any issue in the 
> internet draft, and if possible identify what you would like 
> to see as a correction.
> Please also indicate the nature or severity of the error or 
> correction, e.g. Major technical, minor technical, NIT, so 
> that we can quickly judge the extent of problems with the document.
> 
> Note that both these documents are used by:
> 
> http://www.ietf.org/internet-drafts/draft-ietf-sip-connect-reu
> se-09.txt
> 
> This particular document is finished and ready for the 
> publication request, but if you feel your comment also 
> addresses the usage by this document, please clearly indicate 
> and get the comment in.
> 
> Regards
> 
> Keith
> _______________________________________________
> Sip mailing list  http://www.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol Use 
> sip-implementors@cs.columbia.edu for questions on current sip 
> Use sipping@ietf.org for new developments on the application of sip
> 
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Sat Mar  8 07:30:50 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 0A14328C395;
	Sat,  8 Mar 2008 07:30:50 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.758
X-Spam-Level: 
X-Spam-Status: No, score=-100.758 tagged_above=-999 required=5
	tests=[AWL=-0.321, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id Kzah1E3DCdGw; Sat,  8 Mar 2008 07:30:47 -0800 (PST)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 1C16328CE54;
	Sat,  8 Mar 2008 07:28:53 -0800 (PST)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 0760A28C146
	for <sip@core3.amsl.com>; Sat,  8 Mar 2008 07:28:52 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id SW43nK8jqg9p for <sip@core3.amsl.com>;
	Sat,  8 Mar 2008 07:28:50 -0800 (PST)
Received: from mail203.messagelabs.com (mail203.messagelabs.com
	[216.82.254.243])
	by core3.amsl.com (Postfix) with ESMTP id 8041B3A70E4
	for <sip@ietf.org>; Sat,  8 Mar 2008 07:15:21 -0800 (PST)
X-VirusChecked: Checked
X-Env-Sender: mdolly@att.com
X-Msg-Ref: server-3.tower-203.messagelabs.com!1204989175!7586050!1
X-StarScan-Version: 5.5.12.14.2; banners=-,-,-
X-Originating-IP: [144.160.20.54]
Received: (qmail 13553 invoked from network); 8 Mar 2008 15:12:56 -0000
Received: from sbcsmtp7.sbc.com (HELO mlpi135.enaf.sfdc.sbc.com)
	(144.160.20.54)
	by server-3.tower-203.messagelabs.com with AES256-SHA encrypted SMTP;
	8 Mar 2008 15:12:56 -0000
Received: from enaf.sfdc.sbc.com (localhost.localdomain [127.0.0.1])
	by mlpi135.enaf.sfdc.sbc.com (8.14.0/8.14.0) with ESMTP id
	m28FCwD4007341 for <sip@ietf.org>; Sat, 8 Mar 2008 10:12:58 -0500
Received: from OCCLUST04EVS1.ugd.att.com (ocst07.ugd.att.com [135.38.164.12])
	by mlpi135.enaf.sfdc.sbc.com (8.14.0/8.14.0) with ESMTP id
	m28FCtCa007337 for <sip@ietf.org>; Sat, 8 Mar 2008 10:12:55 -0500
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Sat, 8 Mar 2008 09:12:55 -0600
Message-ID: <28F05913385EAC43AF019413F674A0171246EBF0@OCCLUST04EVS1.ugd.att.com>
In-Reply-To: <4C478E7A-14F9-49FF-B309-BD764FEF6519@softarmor.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] Further revised SIP agenda
thread-index: AciBJtq4mmZedStvSVeC89Drz4HmfgABwX/A
References: <4C478E7A-14F9-49FF-B309-BD764FEF6519@softarmor.com>
From: "DOLLY, MARTIN C, ATTLABS" <mdolly@att.com>
To: "Dean Willis" <dean.willis@softarmor.com>, "IETF SIP List" <sip@ietf.org>
Cc: Cullen Jennings <fluffy@cisco.com>
Subject: Re: [Sip] Further revised SIP agenda
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Dean,

I agree with the topics to which you have already allotted time to, but
Mutual Authentication With Proxies, Identity-Based Authentication in
SIP, and RPH in Responses should be discussed because these work items
are being discussed in other forums. I see that none of these are on the
SIP charter, so the question is, if not SIP where best to discuss them.

Your guidance would be appreciated.

Martin 

-----Original Message-----
From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On Behalf Of
Dean Willis
Sent: Saturday, March 08, 2008 1:35 AM
To: IETF SIP List
Cc: Cullen Jennings
Subject: [Sip] Further revised SIP agenda


The agenda for SIP at IETF 71 continues to evolve.

I've updated the agenda at:

https://www.softarmor.com/mediawiki/index.php/SIP_Agenda_IETF_71

and also uploaded a copy to the IETF proceedings site, wherever that  
might be.

I'm also fairly certain I missed somebody's comments on an earlier  
version, so if it looks like you told me something and I didn't get it  
right, please tell me again. Some days I'm not too bright. Okay, most  
days.

We're hoping to have a special-topic session Monday night on the  
"extension model" conundrum, with discussion of how we got to where we  
are, the "litmus test" model for figuring out what sort of extension  
approach to use given a set of requirements, and further discussion of  
the INFO-package model. This session will, if it happens as I  
understand it, operate under auspices of the SIPPING working group.

This leaves one big furball that we need to figure out how to tackle:  
the E.164/identity discussion. We've more than a half-dozen drafts on  
the topic, and only about a half-hour to spend on the topic. Anybody  
have a good idea on how to organize this into a useful discussion?

Should we have somebody present a background discussion on the problem  
so that we're all up to date? Leap into potential solutions/ 
workarounds? Or perhaps we should collaborate in primal scream therapy  
by shouting at each other at the top of our voices?

Please come back with ideas.

For those of you who REALLY want this in email, here's the set of  
topics we currently proposing giving time to:


Session Policies
Volker Hilt
draft-ietf-sip-session-policy-framework-02
15 min

Requirements for Media Security
Dan Wing
draft-ietf-sip-media-security-requirements-03
draft-fischer-sip-e2e-sec-media-00
draft-wing-sip-identity-media-02
30 min

UA initiated privacy
Mayumi Munakata
draft-ietf-sip-ua-privacy-02
20 min

X.509 Certificates for TLS
Vijay Gurbani, Scott Lawrence
draft-ietf-sip-domain-certs-00
15 min

X.509 Extended Key Usage
Vijay Gurbani Scott Lawrence
draft-ietf-sip-eku-01
15 min

Delivering request-URI and parameters to UAS via proxy
Christer Holmberg
draft-holmberg-sip-target-uri-delivery-01
draft-rosenberg-sip-ua-loose-route-02
draft-rosenberg-sipping-siptrunk-00
30 min

The Phone Number/Identity Dichotomy
Most of the Working Group
draft-rosenberg-sip-rfc4474-concerns-00
draft-schwartz-sip-e164-ownership-01
draft-darilion-sip-e164-enum-00
draft-kaplan-sip-uris-change-00
draft-kaplan-sip-baiting-attack-02
draft-elwell-sip-e164-problem-statement-00
draft-wing-sip-e164-rrc-01
35 min

--
Dean



_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Sat Mar  8 08:07:56 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 437CB3A6841;
	Sat,  8 Mar 2008 08:07:56 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.401
X-Spam-Level: 
X-Spam-Status: No, score=-100.401 tagged_above=-999 required=5
	tests=[AWL=0.036, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 7QAEHOLDPsml; Sat,  8 Mar 2008 08:07:55 -0800 (PST)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 3303A3A685D;
	Sat,  8 Mar 2008 08:07:55 -0800 (PST)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id EA6923A685D
	for <sip@core3.amsl.com>; Sat,  8 Mar 2008 08:07:53 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id UF6Xcq9YDZs2 for <sip@core3.amsl.com>;
	Sat,  8 Mar 2008 08:07:53 -0800 (PST)
Received: from etmail.acmepacket.com (host6.216.41.24.conversent.net
	[216.41.24.6]) by core3.amsl.com (Postfix) with ESMTP id E4F803A6841
	for <sip@ietf.org>; Sat,  8 Mar 2008 08:07:52 -0800 (PST)
Received: from mail.acmepacket.com (216.41.24.7) by etmail.acmepacket.com
	(216.41.24.6) with Microsoft SMTP Server (TLS) id 8.1.240.5;
	Sat, 8 Mar 2008 11:05:11 -0500
Received: from mail.acmepacket.com ([216.41.24.7]) by mail.acmepacket.com
	([216.41.24.7]) with mapi; Sat, 8 Mar 2008 11:05:11 -0500
From: Hadriel Kaplan <HKaplan@acmepacket.com>
To: Christer Holmberg <christer.holmberg@ericsson.com>, Dean Willis
	<dean.willis@softarmor.com>
Date: Sat, 8 Mar 2008 11:04:15 -0500
Thread-Topic: [Sip] Outbound-12: STUN keep-alives without outbound
Thread-Index: AciAmwkiKDfnAdVOQZaeV+jHI3pHnQAL1HLLABphoYA=
Message-ID: <E6C2E8958BA59A4FB960963D475F7AC30BC8CAA385@mail.acmepacket.com>
References: <20080303185301.8A6B61819D7F@mail.iptel.org><1ECE0EB50388174790F9694F77522CCF1549EC14@zrc2hxm0.corp.nortel.com><CA9998CD4A020D418654FCDEF4E707DF04F13E49@esealmw113.eemea.ericsson.se><458913680803060824m23e10d7eqa861a21266eb50b@mail.gmail.com><4E690AA1-9E99-490D-B5EA-E4895E0B675A@ekabal.com><CA9998CD4A020D418654FCDEF4E707DF04F7EF77@esealmw113.eemea.ericsson.se><FFDDF533-F69C-4EC0-B19F-552373DF8035@ekabal.com><CA9998CD4A020D418654FCDEF4E707DF04F7F043@esealmw113.eemea.ericsson.se><1ECE0EB50388174790F9694F77522CCF1552C7E3@zrc2hxm0.corp.nortel.com>
	<CA9998CD4A020D418654FCDEF4E707DF04F7F548@esealmw113.eemea.ericsson.se>
	<CA9998CD4A020D418654FCDEF4E707DF04F7F892@esealmw113.eemea.ericsson.se>
	<91A487B8-CCCA-44B2-B73B-9A58D8CB9FE2@ekabal.com>
	<CA9998CD4A020D418654FCDEF4E707DF04FD3067@esealmw113.eemea.ericsson.se>
	<A7837C29-60EC-4434-9209-15831192DD00@softarmor.com>
	<CA9998CD4A020D418654FCDEF4E707DF046C7645@esealmw113.eemea.ericsson.se>
In-Reply-To: <CA9998CD4A020D418654FCDEF4E707DF046C7645@esealmw113.eemea.ericsson.se>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
acceptlanguage: en-US
MIME-Version: 1.0
Cc: Cullen Jennings <fluffy@cisco.com>,
	Rohan Mahy <rohan@ekabal.com>,
	Xavier Marjou <xavier.marjou@orange-ftgroup.com>,
	"sip@ietf.org" <sip@ietf.org>, Audet <audet@nortel.com>,
	Francois@core3.amsl.com
Subject: Re: [Sip] Outbound-12: STUN keep-alives without outbound
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

I agree with Christer: I thought the keep-alive indication was staying too, and that it was the timer part that was out.  The keep-alive mechanism is really independent of the rest of outbound.  It could have been a separate draft even.  While I like the overall outbound extension, there are plenty of people supporting endpoints behind NATs today, for whom the new keep-alive mechanism would be very useful by itself while the rest of outbound is not.

I do agree with a point someone made about going down a slippery-slope of separating individual behaviors of extensions being a bad idea in general.  But there's always a judgment call that has to be made based on what we think people will want and what it useful, and personally I think keep-alive fits that bill.

Otherwise I am fairly confident we will see the "proxies" lying about outbound support to the endpoints, simply to get the keep-alive behavior from them.

-hadriel

> -----Original Message-----
> From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On Behalf Of
> Christer Holmberg
> Sent: Friday, March 07, 2008 10:22 PM
> To: Dean Willis
> Cc: sip@ietf.org; Rohan Mahy; Francois Audet; Xavier Marjou; Cullen
> Jennings
> Subject: Re: [Sip] Outbound-12: STUN keep-alives without outbound
>
> Hi Dean,
>
> >>> The edge proxy is only supposed to add the ob parameter to
> >>> the Path if the edge proxy included a flow token in the path
> >>> URI.  This should only happen when the UA included a reg-id
> >>> and instance-id parameter in its Contact header.
> >>
> >> Correct. But, the point is that the UA would then still be "allowed"
> >> to use STUN keep-alive between itself and the outbound proxy, even if
> the
> >> registrar doesn't support outbound.
> >
> >So I think you're saying that we've gotten the decision as to whether
> >to use keepalive between the UA and the edge proxy tangled up with
> >whether or not we use the outbound-style persistent binding at the
> >registrar?
>
> Yes.
>
> >Perhaps if the keepalive negotiation were independent of outbound, it
> >would work better for you.
>
> Well, that is what I initially said in this thread, and what I believe we
> already did have before Outbound-12: the outbound proxy was able to insert
> the "keep" parameter in the Path header to indicate support of keep-
> alive...
>
> I think that the UA relying on configuration whether the outbound proxy
> supports keep-alive or not is never going to work - especially not in
> mobile environments...
>
> Regards,
>
> Christer
>
>
>
> _______________________________________________
> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Sat Mar  8 08:53:34 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 005BD3A69A7;
	Sat,  8 Mar 2008 08:53:34 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.978
X-Spam-Level: 
X-Spam-Status: No, score=-100.978 tagged_above=-999 required=5
	tests=[AWL=-0.540, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id FcT3+122c8ZP; Sat,  8 Mar 2008 08:53:33 -0800 (PST)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 04D163A68FD;
	Sat,  8 Mar 2008 08:53:33 -0800 (PST)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 95FE53A6859
	for <sip@core3.amsl.com>; Sat,  8 Mar 2008 08:53:31 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id MQNKUUujGcwK for <sip@core3.amsl.com>;
	Sat,  8 Mar 2008 08:53:30 -0800 (PST)
Received: from ihemail2.lucent.com (ihemail2.lucent.com [135.245.0.35])
	by core3.amsl.com (Postfix) with ESMTP id 9063D3A67E4
	for <sip@ietf.org>; Sat,  8 Mar 2008 08:53:30 -0800 (PST)
Received: from ihmail.ih.lucent.com (h135-1-218-70.lucent.com [135.1.218.70])
	by ihemail2.lucent.com (8.13.8/IER-o) with ESMTP id m28Gow9b025375; 
	Sat, 8 Mar 2008 10:50:58 -0600 (CST)
Received: from [135.244.0.180] (vkg.lra.lucent.com [135.244.0.180])
	by ihmail.ih.lucent.com (8.11.7p1+Sun/8.12.11) with ESMTP id
	m28Govv22042; Sat, 8 Mar 2008 10:50:57 -0600 (CST)
Message-ID: <47D2C3EC.3090302@alcatel-lucent.com>
Date: Sat, 08 Mar 2008 10:50:52 -0600
From: "Vijay K. Gurbani" <vkg@alcatel-lucent.com>
Organization: Bell Labs Security Technology Research Group
User-Agent: Thunderbird 2.0.0.6 (Windows/20070728)
MIME-Version: 1.0
To: "DRAGE, Keith \(Keith\)" <drage@alcatel-lucent.com>
References: <5D1A7985295922448D5550C94DE2918001C68A17@DEEXC1U01.de.lucent.com>
	<5D1A7985295922448D5550C94DE2918001CEBEC8@DEEXC1U01.de.lucent.com>
In-Reply-To: <5D1A7985295922448D5550C94DE2918001CEBEC8@DEEXC1U01.de.lucent.com>
X-Scanned-By: MIMEDefang 2.57 on 135.245.2.35
Cc: IETF SIP List <sip@ietf.org>, "Jeffrey,
	Alan S A \(Alan\)" <ajeffrey@alcatel-lucent.com>,
	slawrence@bluesocket.com, Cullen Jennings <fluffy@cisco.com>
Subject: Re: [Sip] WGLC on domain-certs and eku
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

DRAGE, Keith (Keith) wrote:
> (As SIP WG cochair)
> 
> This WGLC ended today. If you believe you still have comments to send on
> either document, can you either send them as soon as possible, or if you
> are still working on this document, send the chairs a message saying so
> and indicating roughly how long you need. 
> 
> We have one significant comment offlist from the PKIX chair relating to
> the current separation into two documents (he does not believe this is
> necessary). As this was a directive from the AD, can I encourage the
> editors to get Steven Kent and Cullen Jennings together over the course
> of the next week (possible with a security AD) in order to discuss this
> further.

Keith: Will do.

John Elwell was kind enough to review the documents as well.  We
will post a resolution of his review on the list as well.

Thanks,

- vijay
-- 
Vijay K. Gurbani, Bell Laboratories, Alcatel-Lucent
2701 Lucent Lane, Rm. 9F-546, Lisle, Illinois 60532 (USA)
Email: vkg@{alcatel-lucent.com,bell-labs.com,acm.org}
WWW:   http://www.alcatel-lucent.com/bell-labs
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Sat Mar  8 10:17:59 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 5D1B53A6B84;
	Sat,  8 Mar 2008 10:17:59 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.391
X-Spam-Level: 
X-Spam-Status: No, score=-100.391 tagged_above=-999 required=5
	tests=[AWL=0.046, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id L93j1mnlAJO4; Sat,  8 Mar 2008 10:17:57 -0800 (PST)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 9B4F03A6AAC;
	Sat,  8 Mar 2008 10:17:52 -0800 (PST)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id A2B193A6A87
	for <sip@core3.amsl.com>; Sat,  8 Mar 2008 10:17:50 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id HJAIe6B3lAn6 for <sip@core3.amsl.com>;
	Sat,  8 Mar 2008 10:17:49 -0800 (PST)
Received: from etmail.acmepacket.com (host6.216.41.24.conversent.net
	[216.41.24.6]) by core3.amsl.com (Postfix) with ESMTP id 1C5D93A6B1E
	for <sip@ietf.org>; Sat,  8 Mar 2008 10:16:04 -0800 (PST)
Received: from mail.acmepacket.com (216.41.24.7) by etmail.acmepacket.com
	(216.41.24.6) with Microsoft SMTP Server (TLS) id 8.1.240.5;
	Sat, 8 Mar 2008 13:13:24 -0500
Received: from mail.acmepacket.com ([216.41.24.7]) by mail.acmepacket.com
	([216.41.24.7]) with mapi; Sat, 8 Mar 2008 13:13:24 -0500
From: Hadriel Kaplan <HKaplan@acmepacket.com>
To: Sean Olson <Sean.Olson@microsoft.com>, "Markus.Isomaki@nokia.com"
	<Markus.Isomaki@nokia.com>, "jdrosen@cisco.com" <jdrosen@cisco.com>
Date: Sat, 8 Mar 2008 13:12:25 -0500
Thread-Topic: Comments on TOTE
Thread-Index: Ach6Rz3yvChfWvmlTs2W/7laMQUYXAF3zPdAABt2PIAAKSDHYA==
Message-ID: <E6C2E8958BA59A4FB960963D475F7AC30BC8CAA3A3@mail.acmepacket.com>
References: <47C54730.5030501@nsn.com><47C5DCA6.9080302@cisco.com>
	<47C680E3.2030803@nsn.com><47C6C841.2010201@cisco.com>
	<47C6D42D.8040506@nsn.com><E6C2E8958BA59A4FB960963D475F7AC30BC782C9B1@mail.acmepacket.com><47C6F8CA.2080305@cisco.com><E6C2E8958BA59A4FB960963D475F7AC30BC782CC3B@mail.acmepacket.com>
	<47C71685.7060206@cisco.com>
	<C84E0A4ABA6DD74DA5221E0833A35DF30A730DA7@esebe101.NOE.Nokia.com>
	<4C1596FBF66C67478BCFE7B3F81FC1E03FBE17741A@DF-MASTIFF-MSG.exchange.corp.microsoft.com>
In-Reply-To: <4C1596FBF66C67478BCFE7B3F81FC1E03FBE17741A@DF-MASTIFF-MSG.exchange.corp.microsoft.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
acceptlanguage: en-US
MIME-Version: 1.0
Cc: "sip@ietf.org" <sip@ietf.org>
Subject: Re: [Sip] Comments on TOTE
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


Yes.  Currently MSRP does not support ICE, but that could be fixed I think, if we break the current binding between MSRP path URI and the TCP socket address/port, and add the ability for either side to open the connection.

The second issue is that TURN doesn't work in some (rather common) deployment models, because the address that would have to be allocated depends on where the SIP signaling goes.  It is not knowable a priori.

The third issue is that ICE isn't allowed in some (rather common) deployment models, due to security policies which require the IP Addresses of client hosts to be hidden from entities outside the trust domain.  Although this is an issue for MSRP as well.

The fourth issue is that it requires TURN servers, which are not that common, afaict, whereas App Servers are.

The fifth issue is that it adds complexity which XMPP does not have, which makes XMPP more attractive. (not that there's anything wrong with that, but you want to have as many users using the same protocol as possible, to make it worth using that protocol - Metcalfe's law basically)

-hadriel

> -----Original Message-----
> From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On Behalf Of Sean
> Olson
> Sent: Friday, March 07, 2008 3:47 PM
> To: Markus.Isomaki@nokia.com; jdrosen@cisco.com
> Cc: sip@ietf.org
> Subject: Re: [Sip] Comments on TOTE
>
> Is there anything that would prevent MSRP from working over ICE/TURN?
>
> -----Original Message-----
> From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On Behalf Of
> Markus.Isomaki@nokia.com
> Sent: Friday, March 07, 2008 12:36 AM
> To: jdrosen@cisco.com
> Cc: sip@ietf.org
> Subject: [Sip] Comments on TOTE
>
> Hi,
>
> Here are my views on
> http://tools.ietf.org/id/draft-rosenberg-sip-tote-00.txt:
>
> In general there are a lot of things in like about this approach. I
> think we definitely need a light-weight, TLS/TCP-based, end-to-end
> oriented transport mechanism, with a good NAT traversal story. There are
> many use cases for such a mechanism, so instead of developing a specific
> one for each of them, it is better to have a common baseline.
> Utilization of ICE-TCP and TURN should be a basic requirement here, and
> TOTE is indeed using them.
>
> The main issue I see is that MSRP already occupies part of that space.
> However, MSRP is not a perfect match. It requires its own specific
> relays instead of of being able to use TURN. End-to-end security is
> based on S/MIME instead of TLS. It includes a lot of per-message
> overhead and also the fragmentation, re-assembly and reporting make it
> complicated. Furthermore I'm not convinced a yet how the muxing of
> sessions between relays really works: Based on SIMPLE-list, at least two
> (independent) implementers have tried to produce a relay like that, but
> have concluded that it is not doable. I don't know if other relay
> implementations exist. The IMS and OMA folks prefer B2BUAs over relays
> for MSRP NAT traversal, and that is the only space I can see some
> serious implementation/deployment of MSRP. (This might be because most
> people who were originally interested in SIP IM have now switched to
> XMPP.) Well, I haven't seen much happening with ICE/TURN-TCP either, but
> that could be a chicken-and-egg problem that something like TOTE could
> solve. It would be of course helpful if people who came up with MSRP
> relay/muxing/chunking requirements would indicate if they still see that
> model valid (for customers of MSRP/IM) and if they see a lot of
> deployment potential for the protocol.
>
> I also like the model where baseline TOTE would be like SUB/NOT
> framework, while the actual usages would be analogous to event packages.
> It would be very helpful for developers of new usages if there was a
> well-defined and well-working baseline that solved some hard issues like
> NAT traversal, e2e security and provided some tools for session
> negotiation. I'd be quite liberal about the usages themselves, but of
> course the IETF should immediately charter standards-track work on some
> of the key ones.
>
> I'm co-author of draft-ietf-mmusic-file-transfer-mech (file transfer O/A
> and MSRP-based transport), so I share the concerns that Miguel already
> brought up in an earlier mail. Though, had TOTE existed when we started
> with file transfer draft, I'm certain we would have chosen it instead of
> MSRP. We tried our best in the draft to actually decouple the
> offer/answer part from the transport, envisioning that some day there
> might be something like TOTE to run over. Now that the work is already
> quite far and there actually are a few implementations of the draft (not
> much in public, but for instance GSMA has had an interop event for
> image-sharing based on the draft), it would be non-constructive to
> develop file transfer with TOTE from the scratch. It would be better to
> see if the O/A model could be sustained while providing an alternative
> transport.
>
> Another concern is that it took something like over 5 years from the
> start to get MSRP to RFC. How long will it take for TOTE? I already see
> such risk if we get stuck in arguments about the MIME usage/negotiation
> model and so on, where there's probably no clear answer, so they could
> be debated forever. Yet another risk is that TOTE is already too late
> and people with use cases for it are committed to something else (MSRP,
> media-control stuff). So, it would be useful to probe if people really
> would have use cases for it in their UA products, or would it be only of
> academic interest.
>
> So, as a summary I'm positive of going forward with TOTE, but there are
> issues wrt. overlap with MSRP and the market adoption, which we need to
> quantify a bit first.
>
> Markus
>
>
>
>
>
> _______________________________________________
> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
> _______________________________________________
> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Sat Mar  8 10:55:10 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 5FE0E3A69F1;
	Sat,  8 Mar 2008 10:55:10 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.977
X-Spam-Level: 
X-Spam-Status: No, score=-100.977 tagged_above=-999 required=5
	tests=[AWL=-0.540, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id p1e6dGwBJhc4; Sat,  8 Mar 2008 10:55:08 -0800 (PST)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 38B083A685E;
	Sat,  8 Mar 2008 10:55:08 -0800 (PST)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id E26153A685E
	for <sip@core3.amsl.com>; Sat,  8 Mar 2008 10:55:06 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id t4KNTlj9e8NF for <sip@core3.amsl.com>;
	Sat,  8 Mar 2008 10:55:05 -0800 (PST)
Received: from zrtps0kp.nortel.com (zrtps0kp.nortel.com [47.140.192.56])
	by core3.amsl.com (Postfix) with ESMTP id 63CD23A6913
	for <sip@ietf.org>; Sat,  8 Mar 2008 10:55:05 -0800 (PST)
Received: from zrc2hxm0.corp.nortel.com (zrc2hxm0.corp.nortel.com
	[47.103.123.71])
	by zrtps0kp.nortel.com (Switch-2.2.6/Switch-2.2.0) with ESMTP id
	m28IqZK15377; Sat, 8 Mar 2008 18:52:35 GMT
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Sat, 8 Mar 2008 12:51:56 -0600
Message-ID: <1ECE0EB50388174790F9694F77522CCF1557B254@zrc2hxm0.corp.nortel.com>
In-Reply-To: <CA9998CD4A020D418654FCDEF4E707DF04F7F548@esealmw113.eemea.ericsson.se>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] Outbound-12: STUN keep-alives without outbound
Thread-Index: Ach/t/REhI3J96MATXSzJX83BShTzAAAKexAAAhL5wAAEzTNsABJtOPQ
References: <20080303185301.8A6B61819D7F@mail.iptel.org>
	<1ECE0EB50388174790F9694F77522CCF1549EC14@zrc2hxm0.corp.nortel.com>
	<CA9998CD4A020D418654FCDEF4E707DF04F13E49@esealmw113.eemea.ericsson.se>
	<458913680803060824m23e10d7eqa861a21266eb50b@mail.gmail.com>
	<4E690AA1-9E99-490D-B5EA-E4895E0B675A@ekabal.com>
	<CA9998CD4A020D418654FCDEF4E707DF04F7EF77@esealmw113.eemea.ericsson.se>
	<FFDDF533-F69C-4EC0-B19F-552373DF8035@ekabal.com>
	<CA9998CD4A020D418654FCDEF4E707DF04F7F043@esealmw113.eemea.ericsson.se>
	<1ECE0EB50388174790F9694F77522CCF1552C7E3@zrc2hxm0.corp.nortel.com>
	<CA9998CD4A020D418654FCDEF4E707DF04F7F548@esealmw113.eemea.ericsson.se>
From: "Francois Audet" <audet@nortel.com>
To: "Christer Holmberg" <christer.holmberg@ericsson.com>,
	"Rohan Mahy" <rohan@ekabal.com>
Cc: sip@ietf.org, Cullen Jennings <fluffy@cisco.com>,
	Xavier Marjou <xavier.marjou@orange-ftgroup.com>
Subject: Re: [Sip] Outbound-12: STUN keep-alives without outbound
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

We voted on the "issue". This is a done deal. 

> -----Original Message-----
> From: Christer Holmberg [mailto:christer.holmberg@ericsson.com] 
> Sent: Thursday, March 06, 2008 23:47
> To: Audet, Francois (SC100:3055); Rohan Mahy
> Cc: Xavier Marjou; sip@ietf.org; Cullen Jennings
> Subject: RE: [Sip] Outbound-12: STUN keep-alives without outbound
> 
> 
> Francois,
> 
> I am not following you...
> 
> Why do we then need the "ob" parameter? Why should the 
> outbound proxy "on the wire" be able to say "I want to do outbound"?
> 
> Why not simply use configuration?
> 
> And, the parameter would NOT say "I want to do outbound, but 
> just the keep-alive". It would say "I want to do keep-alive", 
> which we along time ago agreed is a stand-alone function, and 
> not part of outbound itself. I don't remember any change of 
> that decission.
> 
> Also, I don't agree this is a "corner case". STUN keep-alive 
> is pretty much the only signalling keep-alive mechanism we 
> have specified for SIP, and there are people who want to use 
> it for that.
> 
> Regards,
> 
> Christer
> 
> 
> > -----Original Message-----
> > From: Francois Audet [mailto:audet@nortel.com]
> > Sent: 7. maaliskuuta 2008 0:45
> > To: Christer Holmberg; Rohan Mahy
> > Cc: Xavier Marjou; sip@ietf.org; Cullen Jennings
> > Subject: RE: [Sip] Outbound-12: STUN keep-alives without outbound
> > 
> > Yes, we had agreed to remove keep altogether.
> > 
> > Using parameters for the job of something that logically belongs to 
> > configuration is futile and harmful as it would result in 
> > infinite-length URIs or other field.
> > 
> > I can also garantee that everybody that presents a concept will 
> > somehow believe that this particular concept is worthy of being a 
> > parameter while the other guy's concept is inferior and doesn't 
> > warrant it.
> > 
> > I think the point of the text was that it shouldn't be an AMBIGUOUS 
> > parameter, but instead a EXPLICIT parameter.
> > 
> > So, this paragraph is completely accurate:
> > 	A SIP node MUST NOT send STUN requests over a flow unless 
> >       it has an explicit indication that the target next hop SIP 
> > server
> >       claims to support this specification. Note that UACs MUST NOT 
> > use
> >       an ambiguous configuration option such as "Work through 
> > NATs?" or "Do >       Keep alives?" to imply next hop STUN support.
> > 
> > But it would be clearer if we added the following sentence 
> at the end:
> > 	Rather than an ambiguous configuration option, it MUST 
> be an explicit
> >       configuration such as "Server supports RFC XXX CRLF 
> keep-alives?
> >       without RFC XXX registration procedures?".
> > 
> > I really do believe that a parameter "on the wire" for such 
> a corner 
> > case (i.e., "I want to do outbound, but just the
> > keep-alive") is absolutely not warranted.
> > 
> >  
> > 
> > > -----Original Message-----
> > > From: Christer Holmberg [mailto:christer.holmberg@ericsson.com]
> > > Sent: Thursday, March 06, 2008 10:38
> > > To: Rohan Mahy
> > > Cc: Xavier Marjou; Audet, Francois (SC100:3055); sip@ietf.org; 
> > > Cullen Jennings
> > > Subject: RE: [Sip] Outbound-12: STUN keep-alives without outbound
> > > 
> > > 
> > > Hi,
> > > 
> > > >>>>>I have big issues with the keep-alive change in the
> > -12 version.
> > > >>>>>
> > > >>>>>Because, now the STUN keep-alives usage can't be
> > applied between
> > > >>>>>the UA  and outbound proxy, unless the registrar
> > > supports outbound.
> > > >>>
> > > >>>What gave you that impression Christer?  By my read that
> > is still
> > > >>>allowed if the UA has explicit configuration that its next-hop 
> > > >>>support keepalives:
> > > >>
> > > >>Of course, but previously we had a mechanism for the
> > > outbound proxy to
> > > 
> > > >>actually indicate support.
> > > >>
> > > >>Also, chapter 8 of the draft does say:
> > > >>
> > > >>"A SIP node MUST NOT send STUN requests over a flow unless
> > > it has an
> > > >>explicit indication that the target next hop SIP server 
> claims to 
> > > >>support this specification.  Note that UACs MUST NOT use an
> > > ambiguous
> > > >>configuration option such as "Work through NATs?" or "Do
> > > Keep alives?" 
> > > >>to imply next hop STUN support."
> > > > 
> > > >That text has been there for ages.  That is not new.
> > > 
> > > Exactly - so therfor I don't think the explicit configuration you 
> > > propose is appropriate :)
> > > 
> > > >>>>>I strongly think it should be possible to use STUN
> > > keep-alives for
> > > >>>>>"pure" signalling NAT traversal, even if the "rest" of
> > > outbound is
> > > >>>>>not used.
> > > >>>>>
> > > >>>>>So, while I DO agree with the Vancouver(?) decission to
> > > not include
> > > >>>>>any  "URI" keep parameter in the R-URI of the register
> > > request, I
> > > >>>>>think we  shall we keep the URI "keep" parameter
> > definition, and
> > > >>>>>e.g.
> > > > 
> > > >I'm pretty sure we had rough consensus to remove the parameter 
> > > >completely. I'll go dig up my notes and the minutes.
> > Maybe Francois
> > > >can jump in here.
> > > 
> > > Maybe the problem is that we only discussed the usage of the 
> > > parameter in the R-URI, and when we agreed not to use it there we 
> > > forgot that it could actually be used in the Path header.
> > > 
> > > Regards,
> > > 
> > > Christer
> > > 
> > > 
> > > 
> > > 
> > > 
> > > 
> > > 
> > > 
> > > 
> > > 
> > > > >>>> allow it to  be inserted into the Path header (I don't
> > > > remember any
> > > > >>>> discussions  regarding removing that possibility) by
> > > the outbound
> > > > >>>> proxy, in order to  inform the UA that the outbound
> > > > proxy supports
> > > > >>>> STUN keep-alive.
> > > > >>>>
> > > > >>>> (OR, there should be another mechanism for the
> > > outbound proxy to
> > > > >>>> inform  the UA it supports STUN keep-alive)
> > > > >>
> > > > >> Currently, that other mechanism is out-of-band configuration.
> > > > >> We could also add another way to indicate this in the
> > > future, but
> > > > >> for know the WG seems happy with what we have.
> > > > >
> > > > > I don't understand "add in future". We already had a 
> mechanism.
> > > > >
> > > > > This is what you, me and Cullen were discussing a long
> > > time ago, and
> > > > > we all agreed to :)
> > > > >
> > > > > One thing we in Vancouver DID agree to was that a
> > > mechanism to also
> > > > > indicate the keep-alive refresh timer value WOULD be a future 
> > > > > extension.
> > > > >
> > > > >
> > > > > Regards,
> > > > >
> > > > > Christer
> > > > >
> > > > >
> > > > >
> > > > >
> > > > >>>>  That would allow people to start using outbound for NAT
> > > > >> traversal,
> > > > >>>> even  if the registrars haven't yet been updated to
> > > > >> support outbound
> > > > >>>> etc.
> > > > >>>>
> > > > >>>>  At one point we decided that we will keep the STUN
> > > > >> keep-alive usage
> > > > >>>> and  outbound in the same spec, but that we will
> > > > describe the STUN
> > > > >>>> keep-alive  usage as a "stand alone" function (chapter
> > > 8 of the
> > > > >>>> draft). But, now you  have more or less "merged" the STUN
> > > > >> keep-alive
> > > > >>>> usage with the outbound  function, and that is bad.
> > > > >>>>
> > > > >>>>  Also, this change is not mentioned in the 
> > > > >>>> changes-since-the-previous-version part (if it is
> > mentioned, I
> > > > >>>> appologize for having missed it)
> > > > >>>>
> > > > >>>>  Regards,
> > > > >>>>
> > > > >>>>  Christer
> > > > >>>>  _______________________________________________
> > > > >>>>  Sip mailing list  
> https://www.ietf.org/mailman/listinfo/sip
> > > > >>>>  This list is for NEW development of the core SIP
> > > Protocol  Use
> > > > >>>> sip-implementors@cs.columbia.edu for questions on
> > > > current sip  Use
> > > > >>>> sipping@ietf.org for new developments on the
> > application of sip
> > > > >>>>
> > > > >>
> > > > >>
> > > > 
> > > > 
> > > 
> > 
> 
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Sat Mar  8 11:10:33 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 3AB2F3A6986;
	Sat,  8 Mar 2008 11:10:33 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.581
X-Spam-Level: 
X-Spam-Status: No, score=-100.581 tagged_above=-999 required=5
	tests=[AWL=-0.144, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id r79CV2uGZNNA; Sat,  8 Mar 2008 11:10:30 -0800 (PST)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id CE97E3A68ED;
	Sat,  8 Mar 2008 11:10:30 -0800 (PST)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 8A6A53A68ED
	for <sip@core3.amsl.com>; Sat,  8 Mar 2008 11:10:29 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id K4tZKwKPs9UW for <sip@core3.amsl.com>;
	Sat,  8 Mar 2008 11:10:27 -0800 (PST)
Received: from mail.exchange.microsoft.com (mail1.exchange.microsoft.com
	[131.107.1.17]) by core3.amsl.com (Postfix) with ESMTP id 178E83A69FE
	for <sip@ietf.org>; Sat,  8 Mar 2008 11:10:25 -0800 (PST)
Received: from df-bhd-02.exchange.corp.microsoft.com (157.54.71.155) by
	DF-GWY-05.exchange.corp.microsoft.com (157.54.87.87) with Microsoft
	SMTP Server (TLS) id 8.1.240.5; Sat, 8 Mar 2008 11:08:25 -0800
Received: from df-mlt-04.exchange.corp.microsoft.com (157.54.82.47) by
	df-bhd-02.exchange.corp.microsoft.com (157.54.71.155) with Microsoft
	SMTP Server (TLS) id 8.1.240.5; Sat, 8 Mar 2008 11:08:25 -0800
Received: from DF-MASTIFF-MSG.exchange.corp.microsoft.com ([157.54.61.165]) by
	df-mlt-04.exchange.corp.microsoft.com ([157.54.68.219]) with mapi;
	Sat, 8 Mar 2008 11:08:25 -0800
From: Sean Olson <Sean.Olson@microsoft.com>
To: Hadriel Kaplan <HKaplan@acmepacket.com>, "Markus.Isomaki@nokia.com"
	<Markus.Isomaki@nokia.com>, "jdrosen@cisco.com" <jdrosen@cisco.com>
Date: Sat, 8 Mar 2008 11:07:55 -0800
Thread-Topic: Comments on TOTE
Thread-Index: Ach6Rz3yvChfWvmlTs2W/7laMQUYXAF3zPdAABt2PIAAKSDHYAAFpfPg
Message-ID: <4C1596FBF66C67478BCFE7B3F81FC1E03FBE1775EF@DF-MASTIFF-MSG.exchange.corp.microsoft.com>
References: <47C54730.5030501@nsn.com><47C5DCA6.9080302@cisco.com>
	<47C680E3.2030803@nsn.com><47C6C841.2010201@cisco.com>
	<47C6D42D.8040506@nsn.com><E6C2E8958BA59A4FB960963D475F7AC30BC782C9B1@mail.acmepacket.com><47C6F8CA.2080305@cisco.com><E6C2E8958BA59A4FB960963D475F7AC30BC782CC3B@mail.acmepacket.com>
	<47C71685.7060206@cisco.com>
	<C84E0A4ABA6DD74DA5221E0833A35DF30A730DA7@esebe101.NOE.Nokia.com>
	<4C1596FBF66C67478BCFE7B3F81FC1E03FBE17741A@DF-MASTIFF-MSG.exchange.corp.microsoft.com>
	<E6C2E8958BA59A4FB960963D475F7AC30BC8CAA3A3@mail.acmepacket.com>
In-Reply-To: <E6C2E8958BA59A4FB960963D475F7AC30BC8CAA3A3@mail.acmepacket.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
acceptlanguage: en-US
MIME-Version: 1.0
Cc: "sip@ietf.org" <sip@ietf.org>
Subject: Re: [Sip] Comments on TOTE
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

I may be a bit biased because we are successfully using ICE/TURN today for audio/video.  It's not perfect but better than anything else we've found.  How would an app server help with the firewall traversal problem?

-----Original Message-----
From: Hadriel Kaplan [mailto:HKaplan@acmepacket.com]
Sent: Saturday, March 08, 2008 10:12 AM
To: Sean Olson; Markus.Isomaki@nokia.com; jdrosen@cisco.com
Cc: sip@ietf.org
Subject: RE: Comments on TOTE


Yes.  Currently MSRP does not support ICE, but that could be fixed I think, if we break the current binding between MSRP path URI and the TCP socket address/port, and add the ability for either side to open the connection.

The second issue is that TURN doesn't work in some (rather common) deployment models, because the address that would have to be allocated depends on where the SIP signaling goes.  It is not knowable a priori.

The third issue is that ICE isn't allowed in some (rather common) deployment models, due to security policies which require the IP Addresses of client hosts to be hidden from entities outside the trust domain.  Although this is an issue for MSRP as well.

The fourth issue is that it requires TURN servers, which are not that common, afaict, whereas App Servers are.

The fifth issue is that it adds complexity which XMPP does not have, which makes XMPP more attractive. (not that there's anything wrong with that, but you want to have as many users using the same protocol as possible, to make it worth using that protocol - Metcalfe's law basically)

-hadriel

> -----Original Message-----
> From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On Behalf Of Sean
> Olson
> Sent: Friday, March 07, 2008 3:47 PM
> To: Markus.Isomaki@nokia.com; jdrosen@cisco.com
> Cc: sip@ietf.org
> Subject: Re: [Sip] Comments on TOTE
>
> Is there anything that would prevent MSRP from working over ICE/TURN?
>
> -----Original Message-----
> From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On Behalf Of
> Markus.Isomaki@nokia.com
> Sent: Friday, March 07, 2008 12:36 AM
> To: jdrosen@cisco.com
> Cc: sip@ietf.org
> Subject: [Sip] Comments on TOTE
>
> Hi,
>
> Here are my views on
> http://tools.ietf.org/id/draft-rosenberg-sip-tote-00.txt:
>
> In general there are a lot of things in like about this approach. I
> think we definitely need a light-weight, TLS/TCP-based, end-to-end
> oriented transport mechanism, with a good NAT traversal story. There are
> many use cases for such a mechanism, so instead of developing a specific
> one for each of them, it is better to have a common baseline.
> Utilization of ICE-TCP and TURN should be a basic requirement here, and
> TOTE is indeed using them.
>
> The main issue I see is that MSRP already occupies part of that space.
> However, MSRP is not a perfect match. It requires its own specific
> relays instead of of being able to use TURN. End-to-end security is
> based on S/MIME instead of TLS. It includes a lot of per-message
> overhead and also the fragmentation, re-assembly and reporting make it
> complicated. Furthermore I'm not convinced a yet how the muxing of
> sessions between relays really works: Based on SIMPLE-list, at least two
> (independent) implementers have tried to produce a relay like that, but
> have concluded that it is not doable. I don't know if other relay
> implementations exist. The IMS and OMA folks prefer B2BUAs over relays
> for MSRP NAT traversal, and that is the only space I can see some
> serious implementation/deployment of MSRP. (This might be because most
> people who were originally interested in SIP IM have now switched to
> XMPP.) Well, I haven't seen much happening with ICE/TURN-TCP either, but
> that could be a chicken-and-egg problem that something like TOTE could
> solve. It would be of course helpful if people who came up with MSRP
> relay/muxing/chunking requirements would indicate if they still see that
> model valid (for customers of MSRP/IM) and if they see a lot of
> deployment potential for the protocol.
>
> I also like the model where baseline TOTE would be like SUB/NOT
> framework, while the actual usages would be analogous to event packages.
> It would be very helpful for developers of new usages if there was a
> well-defined and well-working baseline that solved some hard issues like
> NAT traversal, e2e security and provided some tools for session
> negotiation. I'd be quite liberal about the usages themselves, but of
> course the IETF should immediately charter standards-track work on some
> of the key ones.
>
> I'm co-author of draft-ietf-mmusic-file-transfer-mech (file transfer O/A
> and MSRP-based transport), so I share the concerns that Miguel already
> brought up in an earlier mail. Though, had TOTE existed when we started
> with file transfer draft, I'm certain we would have chosen it instead of
> MSRP. We tried our best in the draft to actually decouple the
> offer/answer part from the transport, envisioning that some day there
> might be something like TOTE to run over. Now that the work is already
> quite far and there actually are a few implementations of the draft (not
> much in public, but for instance GSMA has had an interop event for
> image-sharing based on the draft), it would be non-constructive to
> develop file transfer with TOTE from the scratch. It would be better to
> see if the O/A model could be sustained while providing an alternative
> transport.
>
> Another concern is that it took something like over 5 years from the
> start to get MSRP to RFC. How long will it take for TOTE? I already see
> such risk if we get stuck in arguments about the MIME usage/negotiation
> model and so on, where there's probably no clear answer, so they could
> be debated forever. Yet another risk is that TOTE is already too late
> and people with use cases for it are committed to something else (MSRP,
> media-control stuff). So, it would be useful to probe if people really
> would have use cases for it in their UA products, or would it be only of
> academic interest.
>
> So, as a summary I'm positive of going forward with TOTE, but there are
> issues wrt. overlap with MSRP and the market adoption, which we need to
> quantify a bit first.
>
> Markus
>
>
>
>
>
> _______________________________________________
> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
> _______________________________________________
> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Sat Mar  8 11:17:48 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 12F583A6B1F;
	Sat,  8 Mar 2008 11:17:48 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.966
X-Spam-Level: 
X-Spam-Status: No, score=-100.966 tagged_above=-999 required=5
	tests=[AWL=-0.529, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id MI9dFVN8iqqf; Sat,  8 Mar 2008 11:17:46 -0800 (PST)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id E0D173A6A51;
	Sat,  8 Mar 2008 11:17:46 -0800 (PST)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 519953A6A51
	for <sip@core3.amsl.com>; Sat,  8 Mar 2008 11:17:45 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id fHunTyra5fyn for <sip@core3.amsl.com>;
	Sat,  8 Mar 2008 11:17:44 -0800 (PST)
Received: from zrtps0kp.nortel.com (zrtps0kp.nortel.com [47.140.192.56])
	by core3.amsl.com (Postfix) with ESMTP id 3714A3A69BB
	for <sip@ietf.org>; Sat,  8 Mar 2008 11:17:43 -0800 (PST)
Received: from zrc2hxm0.corp.nortel.com (zrc2hxm0.corp.nortel.com
	[47.103.123.71])
	by zrtps0kp.nortel.com (Switch-2.2.6/Switch-2.2.0) with ESMTP id
	m28JFFK16029; Sat, 8 Mar 2008 19:15:16 GMT
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Sat, 8 Mar 2008 13:14:51 -0600
Message-ID: <1ECE0EB50388174790F9694F77522CCF1557B266@zrc2hxm0.corp.nortel.com>
In-Reply-To: <A7837C29-60EC-4434-9209-15831192DD00@softarmor.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] Outbound-12: STUN keep-alives without outbound
Thread-Index: AciAmwy34MgwyNSRRZOr89PTCUXH6QAtZQzg
References: <20080303185301.8A6B61819D7F@mail.iptel.org><1ECE0EB50388174790F9694F77522CCF1549EC14@zrc2hxm0.corp.nortel.com><CA9998CD4A020D418654FCDEF4E707DF04F13E49@esealmw113.eemea.ericsson.se><458913680803060824m23e10d7eqa861a21266eb50b@mail.gmail.com><4E690AA1-9E99-490D-B5EA-E4895E0B675A@ekabal.com><CA9998CD4A020D418654FCDEF4E707DF04F7EF77@esealmw113.eemea.ericsson.se><FFDDF533-F69C-4EC0-B19F-552373DF8035@ekabal.com><CA9998CD4A020D418654FCDEF4E707DF04F7F043@esealmw113.eemea.ericsson.se><1ECE0EB50388174790F9694F77522CCF1552C7E3@zrc2hxm0.corp.nortel.com>
	<CA9998CD4A020D418654FCDEF4E707DF04F7F548@esealmw113.eemea.ericsson.se>
	<CA9998CD4A020D418654FCDEF4E707DF04F7F892@esealmw113.eemea.ericsson.se>
	<91A487B8-CCCA-44B2-B73B-9A58D8CB9FE2@ekabal.com>
	<CA9998CD4A020D418654FCDEF4E707DF04FD3067@esealmw113.eemea.ericsson.se>
	<A7837C29-60EC-4434-9209-15831192DD00@softarmor.com>
From: "Francois Audet" <audet@nortel.com>
To: "Dean Willis" <dean.willis@softarmor.com>,
	"Christer Holmberg" <christer.holmberg@ericsson.com>
Cc: sip@ietf.org, Rohan Mahy <rohan@ekabal.com>,
	Xavier Marjou <xavier.marjou@orange-ftgroup.com>,
	Cullen Jennings <fluffy@cisco.com>
Subject: Re: [Sip] Outbound-12: STUN keep-alives without outbound
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Can someone explain to me just how you can make Keep-Alives work without
the rest of outbound????

 

> -----Original Message-----
> From: Dean Willis [mailto:dean.willis@softarmor.com] 
> Sent: Friday, March 07, 2008 13:34
> To: Christer Holmberg
> Cc: Rohan Mahy; sip@ietf.org; Cullen Jennings; Audet, 
> Francois (SC100:3055); Xavier Marjou
> Subject: Re: [Sip] Outbound-12: STUN keep-alives without outbound
> 
> 
> On Mar 7, 2008, at 12:59 PM, Christer Holmberg wrote:
> 
> >
> > Hi Rohan,
> >
> >> The edge proxy is only supposed to add the ob parameter to 
> the Path 
> >> if the edge proxy included a flow token in the path URI.  
> This should 
> >> only happen when the UA included a reg-id and instance-id 
> parameter 
> >> in its Contact header.
> >
> > Correct. But, the point is that the UA would then still be 
> "allowed"  
> > to
> > use STUN keep-alive between itself and the outbound proxy, 
> even if the 
> > registrar doesn't support outbound.
> 
> So I think you're saying that we've gotten the decision as to 
> whether to use keepalive between the UA and the edge proxy 
> tangled up with whether or not we use the outbound-style 
> persistent binding at the registrar?
> 
> Perhaps if the keepalive negotiation were independent of 
> outbound, it would work better for you.
> 
> --
> Dean
> 
> 
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Sat Mar  8 11:23:37 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 2048F3A6AE5;
	Sat,  8 Mar 2008 11:23:37 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.965
X-Spam-Level: 
X-Spam-Status: No, score=-100.965 tagged_above=-999 required=5
	tests=[AWL=-0.528, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 5UOzVndN589a; Sat,  8 Mar 2008 11:23:36 -0800 (PST)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 2EA8A3A6950;
	Sat,  8 Mar 2008 11:23:36 -0800 (PST)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id D09B83A6894
	for <sip@core3.amsl.com>; Sat,  8 Mar 2008 11:23:34 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id gWY6za3q+MlI for <sip@core3.amsl.com>;
	Sat,  8 Mar 2008 11:23:34 -0800 (PST)
Received: from zcars04f.nortel.com (zcars04f.nortel.com [47.129.242.57])
	by core3.amsl.com (Postfix) with ESMTP id E73633A6986
	for <sip@ietf.org>; Sat,  8 Mar 2008 11:23:33 -0800 (PST)
Received: from zrc2hxm0.corp.nortel.com (zrc2hxm0.corp.nortel.com
	[47.103.123.71])
	by zcars04f.nortel.com (Switch-2.2.6/Switch-2.2.0) with ESMTP id
	m28JL2l18025; Sat, 8 Mar 2008 19:21:03 GMT
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Sat, 8 Mar 2008 13:20:27 -0600
Message-ID: <1ECE0EB50388174790F9694F77522CCF1557B26B@zrc2hxm0.corp.nortel.com>
In-Reply-To: <CA9998CD4A020D418654FCDEF4E707DF046C7645@esealmw113.eemea.ericsson.se>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] Outbound-12: STUN keep-alives without outbound
Thread-Index: AciAmwkiKDfnAdVOQZaeV+jHI3pHnQAL1HLLACG3SXA=
References: <20080303185301.8A6B61819D7F@mail.iptel.org><1ECE0EB50388174790F9694F77522CCF1549EC14@zrc2hxm0.corp.nortel.com><CA9998CD4A020D418654FCDEF4E707DF04F13E49@esealmw113.eemea.ericsson.se><458913680803060824m23e10d7eqa861a21266eb50b@mail.gmail.com><4E690AA1-9E99-490D-B5EA-E4895E0B675A@ekabal.com><CA9998CD4A020D418654FCDEF4E707DF04F7EF77@esealmw113.eemea.ericsson.se><FFDDF533-F69C-4EC0-B19F-552373DF8035@ekabal.com><CA9998CD4A020D418654FCDEF4E707DF04F7F043@esealmw113.eemea.ericsson.se><1ECE0EB50388174790F9694F77522CCF1552C7E3@zrc2hxm0.corp.nortel.com>
	<CA9998CD4A020D418654FCDEF4E707DF04F7F548@esealmw113.eemea.ericsson.se>
	<CA9998CD4A020D418654FCDEF4E707DF04F7F892@esealmw113.eemea.ericsson.se>
	<91A487B8-CCCA-44B2-B73B-9A58D8CB9FE2@ekabal.com>
	<CA9998CD4A020D418654FCDEF4E707DF04FD3067@esealmw113.eemea.ericsson.se>
	<A7837C29-60EC-4434-9209-15831192DD00@softarmor.com>
	<CA9998CD4A020D418654FCDEF4E707DF046C7645@esealmw113.eemea.ericsson.se>
From: "Francois Audet" <audet@nortel.com>
To: "Christer Holmberg" <christer.holmberg@ericsson.com>,
	"Dean Willis" <dean.willis@softarmor.com>
Cc: sip@ietf.org, Rohan Mahy <rohan@ekabal.com>,
	Xavier Marjou <xavier.marjou@orange-ftgroup.com>,
	Cullen Jennings <fluffy@cisco.com>
Subject: Re: [Sip] Outbound-12: STUN keep-alives without outbound
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

 
> Well, that is what I initially said in this thread, and what 
> I believe we already did have before Outbound-12: the 
> outbound proxy was able to insert the "keep" parameter in the 
> Path header to indicate support of keep-alive...

I checked the meeting notes from IETF 70, and we had "a strong
concensus to remove the keep parameter".

I don't see why we are still discussing this topic.
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Sat Mar  8 11:48:38 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 003F73A6BFC;
	Sat,  8 Mar 2008 11:48:37 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.393
X-Spam-Level: 
X-Spam-Status: No, score=-100.393 tagged_above=-999 required=5
	tests=[AWL=0.044, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 0gOXiOJ8IZjt; Sat,  8 Mar 2008 11:48:36 -0800 (PST)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id C48623A6B45;
	Sat,  8 Mar 2008 11:48:36 -0800 (PST)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 93CFD3A6ACB
	for <sip@core3.amsl.com>; Sat,  8 Mar 2008 11:48:35 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id JXonE6LmcsUy for <sip@core3.amsl.com>;
	Sat,  8 Mar 2008 11:48:34 -0800 (PST)
Received: from etmail.acmepacket.com (host6.216.41.24.conversent.net
	[216.41.24.6]) by core3.amsl.com (Postfix) with ESMTP id A06C73A6AAC
	for <sip@ietf.org>; Sat,  8 Mar 2008 11:48:34 -0800 (PST)
Received: from mail.acmepacket.com (216.41.24.7) by etmail.acmepacket.com
	(216.41.24.6) with Microsoft SMTP Server (TLS) id 8.1.240.5;
	Sat, 8 Mar 2008 14:45:54 -0500
Received: from mail.acmepacket.com ([216.41.24.7]) by mail.acmepacket.com
	([216.41.24.7]) with mapi; Sat, 8 Mar 2008 14:45:54 -0500
From: Hadriel Kaplan <HKaplan@acmepacket.com>
To: Francois Audet <audet@nortel.com>, Dean Willis
	<dean.willis@softarmor.com>, Christer Holmberg
	<christer.holmberg@ericsson.com>
Date: Sat, 8 Mar 2008 14:44:55 -0500
Thread-Topic: [Sip] Outbound-12: STUN keep-alives without outbound
Thread-Index: AciAmwy34MgwyNSRRZOr89PTCUXH6QAtZQzgAAAn6qA=
Message-ID: <E6C2E8958BA59A4FB960963D475F7AC30BC8CAA3B1@mail.acmepacket.com>
References: <20080303185301.8A6B61819D7F@mail.iptel.org><1ECE0EB50388174790F9694F77522CCF1549EC14@zrc2hxm0.corp.nortel.com><CA9998CD4A020D418654FCDEF4E707DF04F13E49@esealmw113.eemea.ericsson.se><458913680803060824m23e10d7eqa861a21266eb50b@mail.gmail.com><4E690AA1-9E99-490D-B5EA-E4895E0B675A@ekabal.com><CA9998CD4A020D418654FCDEF4E707DF04F7EF77@esealmw113.eemea.ericsson.se><FFDDF533-F69C-4EC0-B19F-552373DF8035@ekabal.com><CA9998CD4A020D418654FCDEF4E707DF04F7F043@esealmw113.eemea.ericsson.se><1ECE0EB50388174790F9694F77522CCF1552C7E3@zrc2hxm0.corp.nortel.com>
	<CA9998CD4A020D418654FCDEF4E707DF04F7F548@esealmw113.eemea.ericsson.se>
	<CA9998CD4A020D418654FCDEF4E707DF04F7F892@esealmw113.eemea.ericsson.se>
	<91A487B8-CCCA-44B2-B73B-9A58D8CB9FE2@ekabal.com>
	<CA9998CD4A020D418654FCDEF4E707DF04FD3067@esealmw113.eemea.ericsson.se>
	<A7837C29-60EC-4434-9209-15831192DD00@softarmor.com>
	<1ECE0EB50388174790F9694F77522CCF1557B266@zrc2hxm0.corp.nortel.com>
In-Reply-To: <1ECE0EB50388174790F9694F77522CCF1557B266@zrc2hxm0.corp.nortel.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
acceptlanguage: en-US
MIME-Version: 1.0
Cc: "sip@ietf.org" <sip@ietf.org>, Rohan Mahy <rohan@ekabal.com>,
	Marjou <xavier.marjou@orange-ftgroup.com>,
	Cullen Jennings <fluffy@cisco.com>, Xavier@core3.amsl.com
Subject: Re: [Sip] Outbound-12: STUN keep-alives without outbound
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


Surely you don't think SIP deployments today don't support NAT traversal for clients, or that they need outbound to do so?

But anyway, here's one way (for UDP): client sends Register or Options to proxy, including the rport Via param (rfc3581).  Servers sets the received/rport params in response. Client sees received and rport params in response, and uses the address/port for its Contact for a new Register.  Client also sets keep param, and server responds, so that client can use STUN to keep the NAT binding open.

-hadriel


> -----Original Message-----
> From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On Behalf Of
> Francois Audet
> Sent: Saturday, March 08, 2008 2:15 PM
> To: Dean Willis; Christer Holmberg
> Cc: sip@ietf.org; Rohan Mahy; Xavier Marjou; Cullen Jennings
> Subject: Re: [Sip] Outbound-12: STUN keep-alives without outbound
>
> Can someone explain to me just how you can make Keep-Alives work without
> the rest of outbound????
>
>
>
> > -----Original Message-----
> > From: Dean Willis [mailto:dean.willis@softarmor.com]
> > Sent: Friday, March 07, 2008 13:34
> > To: Christer Holmberg
> > Cc: Rohan Mahy; sip@ietf.org; Cullen Jennings; Audet,
> > Francois (SC100:3055); Xavier Marjou
> > Subject: Re: [Sip] Outbound-12: STUN keep-alives without outbound
> >
> >
> > On Mar 7, 2008, at 12:59 PM, Christer Holmberg wrote:
> >
> > >
> > > Hi Rohan,
> > >
> > >> The edge proxy is only supposed to add the ob parameter to
> > the Path
> > >> if the edge proxy included a flow token in the path URI.
> > This should
> > >> only happen when the UA included a reg-id and instance-id
> > parameter
> > >> in its Contact header.
> > >
> > > Correct. But, the point is that the UA would then still be
> > "allowed"
> > > to
> > > use STUN keep-alive between itself and the outbound proxy,
> > even if the
> > > registrar doesn't support outbound.
> >
> > So I think you're saying that we've gotten the decision as to
> > whether to use keepalive between the UA and the edge proxy
> > tangled up with whether or not we use the outbound-style
> > persistent binding at the registrar?
> >
> > Perhaps if the keepalive negotiation were independent of
> > outbound, it would work better for you.
> >
> > --
> > Dean
> >
> >
> _______________________________________________
> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Sat Mar  8 12:06:01 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 191273A6CE9;
	Sat,  8 Mar 2008 12:06:01 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.768
X-Spam-Level: 
X-Spam-Status: No, score=-100.768 tagged_above=-999 required=5
	tests=[AWL=-0.331, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 3PQUN6ZDdifa; Sat,  8 Mar 2008 12:06:00 -0800 (PST)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id AB2163A6ADD;
	Sat,  8 Mar 2008 12:03:46 -0800 (PST)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 960DD3A6AC0
	for <sip@core3.amsl.com>; Sat,  8 Mar 2008 12:03:44 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id gR2tXbb75ySv for <sip@core3.amsl.com>;
	Sat,  8 Mar 2008 12:03:33 -0800 (PST)
Received: from nylon.softarmor.com (nylon.softarmor.com [66.135.38.164])
	by core3.amsl.com (Postfix) with ESMTP id 26DF03A6EB4
	for <sip@ietf.org>; Sat,  8 Mar 2008 12:02:20 -0800 (PST)
Received: from 206-176-144-212.waymark.net (206-176-144-212.waymark.net
	[206.176.144.212]) (authenticated bits=0)
	by nylon.softarmor.com (8.13.8/8.13.8/Debian-3) with ESMTP id
	m28Jxrse015737
	(version=TLSv1/SSLv3 cipher=AES128-SHA bits=128 verify=NOT);
	Sat, 8 Mar 2008 13:59:55 -0600
Message-Id: <E017528E-B929-4B61-A9AC-8806B7F9D464@softarmor.com>
From: Dean Willis <dean.willis@softarmor.com>
To: "DOLLY, MARTIN C, ATTLABS" <mdolly@att.com>
In-Reply-To: <28F05913385EAC43AF019413F674A0171246EBF0@OCCLUST04EVS1.ugd.att.com>
Mime-Version: 1.0 (Apple Message framework v919.2)
Date: Sat, 8 Mar 2008 13:59:53 -0600
References: <4C478E7A-14F9-49FF-B309-BD764FEF6519@softarmor.com>
	<28F05913385EAC43AF019413F674A0171246EBF0@OCCLUST04EVS1.ugd.att.com>
X-Mailer: Apple Mail (2.919.2)
Cc: IETF SIP List <sip@ietf.org>, Cullen Jennings <fluffy@cisco.com>
Subject: Re: [Sip] Further revised SIP agenda
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


On Mar 8, 2008, at 9:12 AM, DOLLY, MARTIN C, ATTLABS wrote:

> Dean,
>
> I agree with the topics to which you have already allotted time to,  
> but
> Mutual Authentication With Proxies, Identity-Based Authentication in
> SIP, and RPH in Responses should be discussed because these work items
> are being discussed in other forums. I see that none of these are on  
> the
> SIP charter, so the question is, if not SIP where best to discuss  
> them.
>
> Your guidance would be appreciated.

Well, they aren't SIP working group charter items, so that does push  
them down the priority list. They're also not gating other SIP charter  
items, which pushes them further.

We tried to get the proxy-auth onto that list and really got blocked  
by the ADs, mostly Jon. IBA is my own baby -- it's my student who is  
pushing this research, but the work is a little young and I'm hoping  
he'll be able to socialize this some with other IETFers this week and  
build some consensus.  I have hopes it will catch on, but EKR is  
definitey stonewalling, perhaps for good reason as the case for IBA  
hasn't really been made yet.

RPH in responses was shot down so far by consensus of the working  
group. Nobody has explained it adequately to build any consensus. If  
you want to move that one along, work with the author to make the  
draft make sense from a SIP perspective. For example, what does an RPH  
in a response mean? Do proxies treat responses with RPH Differently  
from responses that don't have it? If so, how do they do this, and  
what is the impact on the load model?

--
Dean
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Sat Mar  8 13:09:00 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id CD1683A6A4F;
	Sat,  8 Mar 2008 13:09:00 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.771
X-Spam-Level: 
X-Spam-Status: No, score=-100.771 tagged_above=-999 required=5
	tests=[AWL=-0.334, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 2RLykZIwr+Ki; Sat,  8 Mar 2008 13:08:59 -0800 (PST)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id C3A673A6A51;
	Sat,  8 Mar 2008 13:08:59 -0800 (PST)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 1F2023A6968
	for <sip@core3.amsl.com>; Sat,  8 Mar 2008 13:08:58 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id RHkJQgIlm66X for <sip@core3.amsl.com>;
	Sat,  8 Mar 2008 13:08:57 -0800 (PST)
Received: from mail203.messagelabs.com (mail203.messagelabs.com
	[216.82.254.243])
	by core3.amsl.com (Postfix) with ESMTP id F22543A6AD8
	for <sip@ietf.org>; Sat,  8 Mar 2008 13:08:56 -0800 (PST)
X-VirusChecked: Checked
X-Env-Sender: mdolly@att.com
X-Msg-Ref: server-8.tower-203.messagelabs.com!1205010390!7645069!1
X-StarScan-Version: 5.5.12.14.2; banners=-,-,-
X-Originating-IP: [144.160.20.54]
Received: (qmail 5058 invoked from network); 8 Mar 2008 21:06:30 -0000
Received: from sbcsmtp7.sbc.com (HELO mlpi135.enaf.sfdc.sbc.com)
	(144.160.20.54)
	by server-8.tower-203.messagelabs.com with AES256-SHA encrypted SMTP;
	8 Mar 2008 21:06:30 -0000
Received: from enaf.sfdc.sbc.com (localhost.localdomain [127.0.0.1])
	by mlpi135.enaf.sfdc.sbc.com (8.14.0/8.14.0) with ESMTP id
	m28L6Wtn004882 for <sip@ietf.org>; Sat, 8 Mar 2008 16:06:32 -0500
Received: from OCCLUST04EVS1.ugd.att.com (ocst07.ugd.att.com [135.38.164.12])
	by mlpi135.enaf.sfdc.sbc.com (8.14.0/8.14.0) with ESMTP id
	m28L6Pel004846 for <sip@ietf.org>; Sat, 8 Mar 2008 16:06:29 -0500
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Sat, 8 Mar 2008 15:06:25 -0600
Message-ID: <28F05913385EAC43AF019413F674A0171246EBF4@OCCLUST04EVS1.ugd.att.com>
In-Reply-To: <E017528E-B929-4B61-A9AC-8806B7F9D464@softarmor.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] Further revised SIP agenda
thread-index: AciBVv8XtVqfzOmrSKykEWS/TQ9QPQABj8iA
References: <4C478E7A-14F9-49FF-B309-BD764FEF6519@softarmor.com>
	<28F05913385EAC43AF019413F674A0171246EBF0@OCCLUST04EVS1.ugd.att.com>
	<E017528E-B929-4B61-A9AC-8806B7F9D464@softarmor.com>
From: "DOLLY, MARTIN C, ATTLABS" <mdolly@att.com>
To: "Dean Willis" <dean.willis@softarmor.com>
Cc: IETF SIP List <sip@ietf.org>, Cullen Jennings <fluffy@cisco.com>
Subject: Re: [Sip] Further revised SIP agenda
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Dean,

Thanks for your prompt response. Please introduce me to your student.

RPH in responses is important, and I think James's explanation desires a
day in the sun. And YES, all network elements, including proxies need to
give priority and mark packets so that they get priority treatment in
the layer 3 routers, and the associated access networks (with the
understanding that not all will honor, but...[and if some one needs to
understand the "but", please see me]. The idea here is to give these
call/sessions the highest probability of getting thru when shit really
hits the fan. And to be clear, this is for disasters (earth quakes,
hurricanes, human made crap, etc...).

Lastly, the topic of mutual authentication between networks is really
needed, so I propose interested parties respond to Dean and me, and we
can arrange a Philly beer talk.

Martin


-----Original Message-----
From: Dean Willis [mailto:dean.willis@softarmor.com] 
Sent: Saturday, March 08, 2008 3:00 PM
To: DOLLY, MARTIN C, ATTLABS
Cc: IETF SIP List; Cullen Jennings
Subject: Re: [Sip] Further revised SIP agenda


On Mar 8, 2008, at 9:12 AM, DOLLY, MARTIN C, ATTLABS wrote:

> Dean,
>
> I agree with the topics to which you have already allotted time to,  
> but
> Mutual Authentication With Proxies, Identity-Based Authentication in
> SIP, and RPH in Responses should be discussed because these work items
> are being discussed in other forums. I see that none of these are on  
> the
> SIP charter, so the question is, if not SIP where best to discuss  
> them.
>
> Your guidance would be appreciated.

Well, they aren't SIP working group charter items, so that does push  
them down the priority list. They're also not gating other SIP charter  
items, which pushes them further.

We tried to get the proxy-auth onto that list and really got blocked  
by the ADs, mostly Jon. IBA is my own baby -- it's my student who is  
pushing this research, but the work is a little young and I'm hoping  
he'll be able to socialize this some with other IETFers this week and  
build some consensus.  I have hopes it will catch on, but EKR is  
definitey stonewalling, perhaps for good reason as the case for IBA  
hasn't really been made yet.

RPH in responses was shot down so far by consensus of the working  
group. Nobody has explained it adequately to build any consensus. If  
you want to move that one along, work with the author to make the  
draft make sense from a SIP perspective. For example, what does an RPH  
in a response mean? Do proxies treat responses with RPH Differently  
from responses that don't have it? If so, how do they do this, and  
what is the impact on the load model?

--
Dean
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Sat Mar  8 16:02:40 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id B592C3A6E3A;
	Sat,  8 Mar 2008 16:02:39 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.964
X-Spam-Level: 
X-Spam-Status: No, score=-100.964 tagged_above=-999 required=5
	tests=[AWL=-0.527, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id ucdyPjhT4kcu; Sat,  8 Mar 2008 16:02:37 -0800 (PST)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 0795D3A6E11;
	Sat,  8 Mar 2008 16:02:36 -0800 (PST)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 23ACC3A6B9C
	for <sip@core3.amsl.com>; Sat,  8 Mar 2008 16:02:34 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id ul17YBR9gyib for <sip@core3.amsl.com>;
	Sat,  8 Mar 2008 16:02:32 -0800 (PST)
Received: from sj-iport-3.cisco.com (sj-iport-3.cisco.com [171.71.176.72])
	by core3.amsl.com (Postfix) with ESMTP id 8CBA83A6EA9
	for <sip@ietf.org>; Sat,  8 Mar 2008 16:02:19 -0800 (PST)
Received: from sj-dkim-4.cisco.com ([171.71.179.196])
	by sj-iport-3.cisco.com with ESMTP; 08 Mar 2008 15:59:58 -0800
Received: from sj-core-5.cisco.com (sj-core-5.cisco.com [171.71.177.238])
	by sj-dkim-4.cisco.com (8.12.11/8.12.11) with ESMTP id m28NxwCq019297; 
	Sat, 8 Mar 2008 15:59:58 -0800
Received: from xbh-sjc-211.amer.cisco.com (xbh-sjc-211.cisco.com
	[171.70.151.144])
	by sj-core-5.cisco.com (8.12.10/8.12.6) with ESMTP id m28NvcXO004660;
	Sat, 8 Mar 2008 23:59:53 GMT
Received: from xfe-sjc-211.amer.cisco.com ([171.70.151.174]) by
	xbh-sjc-211.amer.cisco.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Sat, 8 Mar 2008 15:59:42 -0800
Received: from jmpolk-wxp.cisco.com ([10.21.78.202]) by
	xfe-sjc-211.amer.cisco.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Sat, 8 Mar 2008 15:59:41 -0800
X-Mailer: QUALCOMM Windows Eudora Version 7.1.0.9
Date: Sat, 08 Mar 2008 17:59:40 -0600
To: Dean Willis <dean.willis@softarmor.com>,
	"DOLLY, MARTIN C, ATTLABS" <mdolly@att.com>
From: "James M. Polk" <jmpolk@cisco.com>
In-Reply-To: <E017528E-B929-4B61-A9AC-8806B7F9D464@softarmor.com>
References: <4C478E7A-14F9-49FF-B309-BD764FEF6519@softarmor.com>
	<28F05913385EAC43AF019413F674A0171246EBF0@OCCLUST04EVS1.ugd.att.com>
	<E017528E-B929-4B61-A9AC-8806B7F9D464@softarmor.com>
Mime-Version: 1.0
Message-ID: <XFE-SJC-211UYhPQqeV00006886@xfe-sjc-211.amer.cisco.com>
X-OriginalArrivalTime: 08 Mar 2008 23:59:41.0687 (UTC)
	FILETIME=[79A36870:01C88178]
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; l=1481; t=1205020798;
	x=1205884798; c=relaxed/simple; s=sjdkim4002;
	h=Content-Type:From:Subject:Content-Transfer-Encoding:MIME-Version;
	d=cisco.com; i=jmpolk@cisco.com;
	z=From:=20=22James=20M.=20Polk=22=20<jmpolk@cisco.com>
	|Subject:=20Re=3A=20[Sip]=20Further=20revised=20SIP=20agend a
	|Sender:=20; bh=ab1JIMzAGlfBgzzpFKO1NQUdLZtkQ4f+edT1Y5bujs4=;
	b=Uj+FwGntdIa2Pki+YyaaNUoadGDods/EcTNO5ne1ASvTISyBceJ8wBPg3v
	+OcOoW3ZBZmAuYa5az0BCVUSDxik+NT0wwDj0xy8QzjdKHxPCgFnbqZWiNB1
	9NYqdJbClT;
Authentication-Results: sj-dkim-4; header.From=jmpolk@cisco.com; dkim=pass (
	sig from cisco.com/sjdkim4002 verified; ); 
Cc: IETF SIP List <sip@ietf.org>, Cullen Jennings <fluffy@cisco.com>
Subject: Re: [Sip] Further revised SIP agenda
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

At 01:59 PM 3/8/2008, Dean Willis wrote:
>RPH in responses was shot down so far by consensus of the working
>group.

No, it wasn't. There were two IDs on RP in responses.  It was Janet's 
ID that was shot down (in Vancouver). Mine was not (which wasn't 
presented in Vancouver).  I believe I addressed all Janet's proposal 
by explicitly not allowing her proposed use-case (what Keith calls 
"use-case#2") to be addressed with the solution in my ID.  I say that 
in the ID, and I said that on the list.  A few folks stated support 
for this ID on the list once the latest version posted.  It's hard to 
move anything forward, to explain this situation, without being 
allowed to speak about it to the group.

>Nobody has explained it adequately to build any consensus. If
>you want to move that one along, work with the author to make the
>draft make sense from a SIP perspective. For example, what does an RPH
>in a response mean?

I cover this

>Do proxies treat responses with RPH Differently
>from responses that don't have it?

I cover this

>If so, how do they do this, and what is the impact on the load model?

I'm not sure I understand what you mean by "the load model", since we 
aren't talking about additional messages within a transaction, we're 
only talking about the one response to a request that has already 
been processed, accepted and transmitted towards the UAS.  Can you 
explain your question more?

James


>--
>Dean

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Sat Mar  8 16:12:19 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 1EB363A6D28;
	Sat,  8 Mar 2008 16:12:19 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.788
X-Spam-Level: 
X-Spam-Status: No, score=-100.788 tagged_above=-999 required=5
	tests=[AWL=-0.351, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id MvIRbbhSDUpY; Sat,  8 Mar 2008 16:12:18 -0800 (PST)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 1BC653A6BA4;
	Sat,  8 Mar 2008 16:12:18 -0800 (PST)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id BFFA93A6C6F
	for <sip@core3.amsl.com>; Sat,  8 Mar 2008 16:12:16 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id oGzIAcxfykZE for <sip@core3.amsl.com>;
	Sat,  8 Mar 2008 16:12:16 -0800 (PST)
Received: from mail121.messagelabs.com (mail121.messagelabs.com
	[216.82.241.195])
	by core3.amsl.com (Postfix) with ESMTP id C93073A6B3D
	for <sip@ietf.org>; Sat,  8 Mar 2008 16:12:15 -0800 (PST)
X-VirusChecked: Checked
X-Env-Sender: mdolly@att.com
X-Msg-Ref: server-3.tower-121.messagelabs.com!1205021392!23261345!1
X-StarScan-Version: 5.5.12.14.2; banners=-,-,-
X-Originating-IP: [144.160.20.54]
Received: (qmail 5036 invoked from network); 9 Mar 2008 00:09:53 -0000
Received: from sbcsmtp7.sbc.com (HELO mlpi135.enaf.sfdc.sbc.com)
	(144.160.20.54)
	by server-3.tower-121.messagelabs.com with AES256-SHA encrypted SMTP;
	9 Mar 2008 00:09:53 -0000
Received: from enaf.sfdc.sbc.com (localhost.localdomain [127.0.0.1])
	by mlpi135.enaf.sfdc.sbc.com (8.14.0/8.14.0) with ESMTP id
	m2909qpD006209 for <sip@ietf.org>; Sat, 8 Mar 2008 19:09:52 -0500
Received: from OCCLUST04EVS1.ugd.att.com (ocst07.ugd.att.com [135.38.164.12])
	by mlpi135.enaf.sfdc.sbc.com (8.14.0/8.14.0) with ESMTP id
	m2909lV8006205 for <sip@ietf.org>; Sat, 8 Mar 2008 19:09:47 -0500
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Sat, 8 Mar 2008 18:09:46 -0600
Message-ID: <28F05913385EAC43AF019413F674A0171246EBF6@OCCLUST04EVS1.ugd.att.com>
In-Reply-To: <XFE-SJC-211UYhPQqeV00006886@xfe-sjc-211.amer.cisco.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] Further revised SIP agenda
thread-index: AciBeIaKthWA2aAJQb65QwKLuM7RBAAANu4g
References: <4C478E7A-14F9-49FF-B309-BD764FEF6519@softarmor.com>
	<28F05913385EAC43AF019413F674A0171246EBF0@OCCLUST04EVS1.ugd.att.com>
	<E017528E-B929-4B61-A9AC-8806B7F9D464@softarmor.com>
	<XFE-SJC-211UYhPQqeV00006886@xfe-sjc-211.amer.cisco.com>
From: "DOLLY, MARTIN C, ATTLABS" <mdolly@att.com>
To: "James M. Polk" <jmpolk@cisco.com>,
	"Dean Willis" <dean.willis@softarmor.com>
Cc: IETF SIP List <sip@ietf.org>, Cullen Jennings <fluffy@cisco.com>
Subject: Re: [Sip] Further revised SIP agenda
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

For these reasons it should be on the agenda.... Ah...maybe more time is
needed? 

Those that put themselves in position to lead should LEAD.. understand

-----Original Message-----
From: James M. Polk [mailto:jmpolk@cisco.com] 
Sent: Saturday, March 08, 2008 7:00 PM
To: Dean Willis; DOLLY, MARTIN C, ATTLABS
Cc: IETF SIP List; Cullen Jennings
Subject: Re: [Sip] Further revised SIP agenda

At 01:59 PM 3/8/2008, Dean Willis wrote:
>RPH in responses was shot down so far by consensus of the working
>group.

No, it wasn't. There were two IDs on RP in responses.  It was Janet's 
ID that was shot down (in Vancouver). Mine was not (which wasn't 
presented in Vancouver).  I believe I addressed all Janet's proposal 
by explicitly not allowing her proposed use-case (what Keith calls 
"use-case#2") to be addressed with the solution in my ID.  I say that 
in the ID, and I said that on the list.  A few folks stated support 
for this ID on the list once the latest version posted.  It's hard to 
move anything forward, to explain this situation, without being 
allowed to speak about it to the group.

>Nobody has explained it adequately to build any consensus. If
>you want to move that one along, work with the author to make the
>draft make sense from a SIP perspective. For example, what does an RPH
>in a response mean?

I cover this

>Do proxies treat responses with RPH Differently
>from responses that don't have it?

I cover this

>If so, how do they do this, and what is the impact on the load model?

I'm not sure I understand what you mean by "the load model", since we 
aren't talking about additional messages within a transaction, we're 
only talking about the one response to a request that has already 
been processed, accepted and transmitted towards the UAS.  Can you 
explain your question more?

James


>--
>Dean

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Sat Mar  8 16:34:32 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 81D373A6DB3;
	Sat,  8 Mar 2008 16:34:32 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.814
X-Spam-Level: 
X-Spam-Status: No, score=-100.814 tagged_above=-999 required=5
	tests=[AWL=-0.377, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id YW+1qUF2QXnD; Sat,  8 Mar 2008 16:34:31 -0800 (PST)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 7C4CB3A6D5D;
	Sat,  8 Mar 2008 16:34:31 -0800 (PST)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id B73483A6D6B
	for <sip@core3.amsl.com>; Sat,  8 Mar 2008 16:34:29 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id Z9KSRTOx7xcW for <sip@core3.amsl.com>;
	Sat,  8 Mar 2008 16:34:28 -0800 (PST)
Received: from mail120.messagelabs.com (mail120.messagelabs.com
	[216.82.250.83])
	by core3.amsl.com (Postfix) with ESMTP id CB4493A6CBC
	for <sip@ietf.org>; Sat,  8 Mar 2008 16:34:28 -0800 (PST)
X-VirusChecked: Checked
X-Env-Sender: mdolly@att.com
X-Msg-Ref: server-4.tower-120.messagelabs.com!1205022725!24810335!1
X-StarScan-Version: 5.5.12.14.2; banners=-,-,-
X-Originating-IP: [144.160.20.54]
Received: (qmail 20584 invoked from network); 9 Mar 2008 00:32:06 -0000
Received: from sbcsmtp7.sbc.com (HELO mlpi135.enaf.sfdc.sbc.com)
	(144.160.20.54)
	by server-4.tower-120.messagelabs.com with AES256-SHA encrypted SMTP;
	9 Mar 2008 00:32:06 -0000
Received: from enaf.sfdc.sbc.com (localhost.localdomain [127.0.0.1])
	by mlpi135.enaf.sfdc.sbc.com (8.14.0/8.14.0) with ESMTP id
	m290W5vI010129 for <sip@ietf.org>; Sat, 8 Mar 2008 19:32:05 -0500
Received: from OCCLUST04EVS1.ugd.att.com (ocst07.ugd.att.com [135.38.164.12])
	by mlpi135.enaf.sfdc.sbc.com (8.14.0/8.14.0) with ESMTP id
	m290Vxcb010100 for <sip@ietf.org>; Sat, 8 Mar 2008 19:32:00 -0500
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Sat, 8 Mar 2008 18:31:59 -0600
Message-ID: <28F05913385EAC43AF019413F674A0171246EBF7@OCCLUST04EVS1.ugd.att.com>
In-Reply-To: <28F05913385EAC43AF019413F674A0171246EBF6@OCCLUST04EVS1.ugd.att.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] Further revised SIP agenda
thread-index: AciBeIaKthWA2aAJQb65QwKLuM7RBAAANu4gAADWQ7A=
References: <4C478E7A-14F9-49FF-B309-BD764FEF6519@softarmor.com><28F05913385EAC43AF019413F674A0171246EBF0@OCCLUST04EVS1.ugd.att.com><E017528E-B929-4B61-A9AC-8806B7F9D464@softarmor.com><XFE-SJC-211UYhPQqeV00006886@xfe-sjc-211.amer.cisco.com>
	<28F05913385EAC43AF019413F674A0171246EBF6@OCCLUST04EVS1.ugd.att.com>
From: "DOLLY, MARTIN C, ATTLABS" <mdolly@att.com>
To: "DOLLY, MARTIN C, ATTLABS" <mdolly@att.com>,
	"James M. Polk" <jmpolk@cisco.com>,
	"Dean Willis" <dean.willis@softarmor.com>
Cc: IETF SIP List <sip@ietf.org>, Cullen Jennings <fluffy@cisco.com>
Subject: Re: [Sip] Further revised SIP agenda
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

The leadership comment is not to Dean/Keith, but to the AD's and
IE..whatever you think you are 

-----Original Message-----
From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On Behalf Of
DOLLY, MARTIN C, ATTLABS
Sent: Saturday, March 08, 2008 7:10 PM
To: James M. Polk; Dean Willis
Cc: IETF SIP List; Cullen Jennings
Subject: Re: [Sip] Further revised SIP agenda

For these reasons it should be on the agenda.... Ah...maybe more time is
needed? 

Those that put themselves in position to lead should LEAD.. understand

-----Original Message-----
From: James M. Polk [mailto:jmpolk@cisco.com] 
Sent: Saturday, March 08, 2008 7:00 PM
To: Dean Willis; DOLLY, MARTIN C, ATTLABS
Cc: IETF SIP List; Cullen Jennings
Subject: Re: [Sip] Further revised SIP agenda

At 01:59 PM 3/8/2008, Dean Willis wrote:
>RPH in responses was shot down so far by consensus of the working
>group.

No, it wasn't. There were two IDs on RP in responses.  It was Janet's 
ID that was shot down (in Vancouver). Mine was not (which wasn't 
presented in Vancouver).  I believe I addressed all Janet's proposal 
by explicitly not allowing her proposed use-case (what Keith calls 
"use-case#2") to be addressed with the solution in my ID.  I say that 
in the ID, and I said that on the list.  A few folks stated support 
for this ID on the list once the latest version posted.  It's hard to 
move anything forward, to explain this situation, without being 
allowed to speak about it to the group.

>Nobody has explained it adequately to build any consensus. If
>you want to move that one along, work with the author to make the
>draft make sense from a SIP perspective. For example, what does an RPH
>in a response mean?

I cover this

>Do proxies treat responses with RPH Differently
>from responses that don't have it?

I cover this

>If so, how do they do this, and what is the impact on the load model?

I'm not sure I understand what you mean by "the load model", since we 
aren't talking about additional messages within a transaction, we're 
only talking about the one response to a request that has already 
been processed, accepted and transmitted towards the UAS.  Can you 
explain your question more?

James


>--
>Dean

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Sat Mar  8 17:53:49 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 085EE3A6CFD;
	Sat,  8 Mar 2008 17:53:49 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.989
X-Spam-Level: 
X-Spam-Status: No, score=-100.989 tagged_above=-999 required=5
	tests=[AWL=-0.552, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 3pI2P1FBULnZ; Sat,  8 Mar 2008 17:53:48 -0800 (PST)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 259D33A6A3F;
	Sat,  8 Mar 2008 17:53:48 -0800 (PST)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 08E783A6A3F
	for <sip@core3.amsl.com>; Sat,  8 Mar 2008 17:53:46 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id jQi7RZ7l45pp for <sip@core3.amsl.com>;
	Sat,  8 Mar 2008 17:53:45 -0800 (PST)
Received: from sj-iport-3.cisco.com (sj-iport-3.cisco.com [171.71.176.72])
	by core3.amsl.com (Postfix) with ESMTP id 1CEAD3A6780
	for <sip@ietf.org>; Sat,  8 Mar 2008 17:53:45 -0800 (PST)
Received: from sj-dkim-1.cisco.com ([171.71.179.21])
	by sj-iport-3.cisco.com with ESMTP; 08 Mar 2008 17:51:23 -0800
Received: from sj-core-5.cisco.com (sj-core-5.cisco.com [171.71.177.238])
	by sj-dkim-1.cisco.com (8.12.11/8.12.11) with ESMTP id m291pNaM003199; 
	Sat, 8 Mar 2008 17:51:23 -0800
Received: from [130.129.86.49] ([10.21.78.253])
	by sj-core-5.cisco.com (8.12.10/8.12.6) with ESMTP id m291pDXK015915;
	Sun, 9 Mar 2008 01:51:14 GMT
Message-Id: <BDA86F95-90DA-48EE-93F3-666F13E284D4@cisco.com>
From: Cullen Jennings <fluffy@cisco.com>
To: "DOLLY, MARTIN C, ATTLABS" <mdolly@att.com>
In-Reply-To: <28F05913385EAC43AF019413F674A0171246EBF7@OCCLUST04EVS1.ugd.att.com>
Mime-Version: 1.0 (Apple Message framework v919.2)
Date: Sat, 8 Mar 2008 20:53:19 -0500
References: <4C478E7A-14F9-49FF-B309-BD764FEF6519@softarmor.com><28F05913385EAC43AF019413F674A0171246EBF0@OCCLUST04EVS1.ugd.att.com><E017528E-B929-4B61-A9AC-8806B7F9D464@softarmor.com><XFE-SJC-211UYhPQqeV00006886@xfe-sjc-211.amer.cisco.com><28F05913385EAC43AF019413F674A0171246EBF6@OCCLUST04EVS1.ugd.att.com>
	<28F05913385EAC43AF019413F674A0171246EBF7@OCCLUST04EVS1.ugd.att.com>
X-Mailer: Apple Mail (2.919.2)
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; l=560; t=1205027483; x=1205891483;
	c=relaxed/simple; s=sjdkim1004;
	h=Content-Type:From:Subject:Content-Transfer-Encoding:MIME-Version;
	d=cisco.com; i=fluffy@cisco.com;
	z=From:=20Cullen=20Jennings=20<fluffy@cisco.com>
	|Subject:=20Re=3A=20[Sip]=20Further=20revised=20SIP=20agend a
	|Sender:=20; bh=Y5jxW1GApWmiFdVM0kB6GYyW16kXXG9wf65bDBp3PuY=;
	b=kEiZFgwjSRg4n/yot931SAuvwZ25Tbsm0VCcNI+nBxgRVdb7wYeAWLN2W5
	g28biqSJpKS1YLwBsR4R/Mlxs0d5ud2EQO1BgQfafrP9V2ItHm1sBfIzlLZN
	YmPnz2Ky5R0X14XiL+WB/GjzCjk3AXpBgZyW65kRvf1lEevFui8ho=;
Authentication-Results: sj-dkim-1; header.From=fluffy@cisco.com; dkim=pass (
	sig from cisco.com/sjdkim1004 verified; ); 
Cc: IETF SIP List <sip@ietf.org>, "James Polk \(jmpolk\)" <jmpolk@cisco.com>,
	Dean Willis <dean.willis@softarmor.com>
Subject: Re: [Sip] Further revised SIP agenda
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


On Mar 8, 2008, at 7:31 PM, DOLLY, MARTIN C, ATTLABS wrote:

> The leadership comment is not to Dean/Keith, but to the AD's and
> IE..whatever you think you are

So the WG Chairs try and sort out the relative priorities of the stuff  
for the agenda - keep in mind they have a small faction of the time  
Dean wishes they had for SIP. If you think we should remove time from  
some other WG and add it to SIP,  let me know. Since this seems like  
primarily a topic of agenda time, let me know if some other sort of  
topic needs some leadership.

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Sat Mar  8 19:14:12 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 751C43A6964;
	Sat,  8 Mar 2008 19:14:12 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.396
X-Spam-Level: 
X-Spam-Status: No, score=-100.396 tagged_above=-999 required=5
	tests=[AWL=0.041, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id rVK+83qO6SFN; Sat,  8 Mar 2008 19:14:11 -0800 (PST)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 1E0343A6AC1;
	Sat,  8 Mar 2008 19:14:11 -0800 (PST)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 8432D3A6D43
	for <sip@core3.amsl.com>; Sat,  8 Mar 2008 19:14:10 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 40RzvX28Zdly for <sip@core3.amsl.com>;
	Sat,  8 Mar 2008 19:14:09 -0800 (PST)
Received: from etmail.acmepacket.com (host6.216.41.24.conversent.net
	[216.41.24.6]) by core3.amsl.com (Postfix) with ESMTP id 253A53A6AC1
	for <sip@ietf.org>; Sat,  8 Mar 2008 19:14:08 -0800 (PST)
Received: from mail.acmepacket.com (216.41.24.7) by etmail.acmepacket.com
	(216.41.24.6) with Microsoft SMTP Server (TLS) id 8.1.240.5;
	Sat, 8 Mar 2008 22:11:28 -0500
Received: from mail.acmepacket.com ([216.41.24.7]) by mail.acmepacket.com
	([216.41.24.7]) with mapi; Sat, 8 Mar 2008 22:11:28 -0500
From: Hadriel Kaplan <HKaplan@acmepacket.com>
To: Sean Olson <Sean.Olson@microsoft.com>, "Markus.Isomaki@nokia.com"
	<Markus.Isomaki@nokia.com>, "jdrosen@cisco.com" <jdrosen@cisco.com>
Date: Sat, 8 Mar 2008 22:10:31 -0500
Thread-Topic: Comments on TOTE
Thread-Index: Ach6Rz3yvChfWvmlTs2W/7laMQUYXAF3zPdAABt2PIAAKSDHYAAFpfPgAAAhAHA=
Message-ID: <E6C2E8958BA59A4FB960963D475F7AC30BC8CAA3D7@mail.acmepacket.com>
References: <47C54730.5030501@nsn.com><47C5DCA6.9080302@cisco.com>
	<47C680E3.2030803@nsn.com><47C6C841.2010201@cisco.com>
	<47C6D42D.8040506@nsn.com><E6C2E8958BA59A4FB960963D475F7AC30BC782C9B1@mail.acmepacket.com><47C6F8CA.2080305@cisco.com><E6C2E8958BA59A4FB960963D475F7AC30BC782CC3B@mail.acmepacket.com>
	<47C71685.7060206@cisco.com>
	<C84E0A4ABA6DD74DA5221E0833A35DF30A730DA7@esebe101.NOE.Nokia.com>
	<4C1596FBF66C67478BCFE7B3F81FC1E03FBE17741A@DF-MASTIFF-MSG.exchange.corp.microsoft.com>
	<E6C2E8958BA59A4FB960963D475F7AC30BC8CAA3A3@mail.acmepacket.com>
	<4C1596FBF66C67478BCFE7B3F81FC1E03FBE1775EF@DF-MASTIFF-MSG.exchange.corp.microsoft.com>
In-Reply-To: <4C1596FBF66C67478BCFE7B3F81FC1E03FBE1775EF@DF-MASTIFF-MSG.exchange.corp.microsoft.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
acceptlanguage: en-US
MIME-Version: 1.0
Cc: "sip@ietf.org" <sip@ietf.org>
Subject: Re: [Sip] Comments on TOTE
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Oh I don't doubt TURN is used, and successfully.  As far as I am aware, though, it's a drop in the bucket of the deployed SIP networks.  (of course that view could be completely wrong due to the types of customers I serve)  My understanding is one of the bigger ones that uses TURN for voip uses XMPP for IM, not MSRP.

An app server could be on the public Internet, in theory, as much as a Turn server would or web servers or whatever.  Since it is frequently terminating the TCP connection for MSRP, it could be the one being the public TCP server address for the connection from the client.  That's not to say that TURN shouldn't or wouldn't be used for MSRP, just that it's not necessary in some environments for NAT traversal.  And the more environments that can be supported, the more reachable users there will be, and the more valuable it becomes.

-hadriel

> -----Original Message-----
> From: Sean Olson [mailto:Sean.Olson@microsoft.com]
> Sent: Saturday, March 08, 2008 2:08 PM
> To: Hadriel Kaplan; Markus.Isomaki@nokia.com; jdrosen@cisco.com
> Cc: sip@ietf.org
> Subject: RE: Comments on TOTE
>
> I may be a bit biased because we are successfully using ICE/TURN today for
> audio/video.  It's not perfect but better than anything else we've found.
> How would an app server help with the firewall traversal problem?
>
> -----Original Message-----
> From: Hadriel Kaplan [mailto:HKaplan@acmepacket.com]
> Sent: Saturday, March 08, 2008 10:12 AM
> To: Sean Olson; Markus.Isomaki@nokia.com; jdrosen@cisco.com
> Cc: sip@ietf.org
> Subject: RE: Comments on TOTE
>
>
> Yes.  Currently MSRP does not support ICE, but that could be fixed I
> think, if we break the current binding between MSRP path URI and the TCP
> socket address/port, and add the ability for either side to open the
> connection.
>
> The second issue is that TURN doesn't work in some (rather common)
> deployment models, because the address that would have to be allocated
> depends on where the SIP signaling goes.  It is not knowable a priori.
>
> The third issue is that ICE isn't allowed in some (rather common)
> deployment models, due to security policies which require the IP Addresses
> of client hosts to be hidden from entities outside the trust domain.
> Although this is an issue for MSRP as well.
>
> The fourth issue is that it requires TURN servers, which are not that
> common, afaict, whereas App Servers are.
>
> The fifth issue is that it adds complexity which XMPP does not have, which
> makes XMPP more attractive. (not that there's anything wrong with that,
> but you want to have as many users using the same protocol as possible, to
> make it worth using that protocol - Metcalfe's law basically)
>
> -hadriel
>
> > -----Original Message-----
> > From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On Behalf Of
> Sean
> > Olson
> > Sent: Friday, March 07, 2008 3:47 PM
> > To: Markus.Isomaki@nokia.com; jdrosen@cisco.com
> > Cc: sip@ietf.org
> > Subject: Re: [Sip] Comments on TOTE
> >
> > Is there anything that would prevent MSRP from working over ICE/TURN?
> >
> > -----Original Message-----
> > From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On Behalf Of
> > Markus.Isomaki@nokia.com
> > Sent: Friday, March 07, 2008 12:36 AM
> > To: jdrosen@cisco.com
> > Cc: sip@ietf.org
> > Subject: [Sip] Comments on TOTE
> >
> > Hi,
> >
> > Here are my views on
> > http://tools.ietf.org/id/draft-rosenberg-sip-tote-00.txt:
> >
> > In general there are a lot of things in like about this approach. I
> > think we definitely need a light-weight, TLS/TCP-based, end-to-end
> > oriented transport mechanism, with a good NAT traversal story. There are
> > many use cases for such a mechanism, so instead of developing a specific
> > one for each of them, it is better to have a common baseline.
> > Utilization of ICE-TCP and TURN should be a basic requirement here, and
> > TOTE is indeed using them.
> >
> > The main issue I see is that MSRP already occupies part of that space.
> > However, MSRP is not a perfect match. It requires its own specific
> > relays instead of of being able to use TURN. End-to-end security is
> > based on S/MIME instead of TLS. It includes a lot of per-message
> > overhead and also the fragmentation, re-assembly and reporting make it
> > complicated. Furthermore I'm not convinced a yet how the muxing of
> > sessions between relays really works: Based on SIMPLE-list, at least two
> > (independent) implementers have tried to produce a relay like that, but
> > have concluded that it is not doable. I don't know if other relay
> > implementations exist. The IMS and OMA folks prefer B2BUAs over relays
> > for MSRP NAT traversal, and that is the only space I can see some
> > serious implementation/deployment of MSRP. (This might be because most
> > people who were originally interested in SIP IM have now switched to
> > XMPP.) Well, I haven't seen much happening with ICE/TURN-TCP either, but
> > that could be a chicken-and-egg problem that something like TOTE could
> > solve. It would be of course helpful if people who came up with MSRP
> > relay/muxing/chunking requirements would indicate if they still see that
> > model valid (for customers of MSRP/IM) and if they see a lot of
> > deployment potential for the protocol.
> >
> > I also like the model where baseline TOTE would be like SUB/NOT
> > framework, while the actual usages would be analogous to event packages.
> > It would be very helpful for developers of new usages if there was a
> > well-defined and well-working baseline that solved some hard issues like
> > NAT traversal, e2e security and provided some tools for session
> > negotiation. I'd be quite liberal about the usages themselves, but of
> > course the IETF should immediately charter standards-track work on some
> > of the key ones.
> >
> > I'm co-author of draft-ietf-mmusic-file-transfer-mech (file transfer O/A
> > and MSRP-based transport), so I share the concerns that Miguel already
> > brought up in an earlier mail. Though, had TOTE existed when we started
> > with file transfer draft, I'm certain we would have chosen it instead of
> > MSRP. We tried our best in the draft to actually decouple the
> > offer/answer part from the transport, envisioning that some day there
> > might be something like TOTE to run over. Now that the work is already
> > quite far and there actually are a few implementations of the draft (not
> > much in public, but for instance GSMA has had an interop event for
> > image-sharing based on the draft), it would be non-constructive to
> > develop file transfer with TOTE from the scratch. It would be better to
> > see if the O/A model could be sustained while providing an alternative
> > transport.
> >
> > Another concern is that it took something like over 5 years from the
> > start to get MSRP to RFC. How long will it take for TOTE? I already see
> > such risk if we get stuck in arguments about the MIME usage/negotiation
> > model and so on, where there's probably no clear answer, so they could
> > be debated forever. Yet another risk is that TOTE is already too late
> > and people with use cases for it are committed to something else (MSRP,
> > media-control stuff). So, it would be useful to probe if people really
> > would have use cases for it in their UA products, or would it be only of
> > academic interest.
> >
> > So, as a summary I'm positive of going forward with TOTE, but there are
> > issues wrt. overlap with MSRP and the market adoption, which we need to
> > quantify a bit first.
> >
> > Markus
> >
> >
> >
> >
> >
> > _______________________________________________
> > Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> > This list is for NEW development of the core SIP Protocol
> > Use sip-implementors@cs.columbia.edu for questions on current sip
> > Use sipping@ietf.org for new developments on the application of sip
> > _______________________________________________
> > Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> > This list is for NEW development of the core SIP Protocol
> > Use sip-implementors@cs.columbia.edu for questions on current sip
> > Use sipping@ietf.org for new developments on the application of sip
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Sat Mar  8 20:00:55 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 896A43A6E5E;
	Sat,  8 Mar 2008 20:00:55 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -101.474
X-Spam-Level: 
X-Spam-Status: No, score=-101.474 tagged_above=-999 required=5
	tests=[AWL=-1.037, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id LLS6NmqdCrCB; Sat,  8 Mar 2008 20:00:54 -0800 (PST)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 8E5553A6E24;
	Sat,  8 Mar 2008 20:00:54 -0800 (PST)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id EC5A73A6DFE
	for <sip@core3.amsl.com>; Sat,  8 Mar 2008 20:00:52 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id jGl5y6zMktix for <sip@core3.amsl.com>;
	Sat,  8 Mar 2008 20:00:51 -0800 (PST)
Received: from sj-iport-5.cisco.com (sj-iport-5.cisco.com [171.68.10.87])
	by core3.amsl.com (Postfix) with ESMTP id 6B0153A6DEC
	for <sip@ietf.org>; Sat,  8 Mar 2008 20:00:47 -0800 (PST)
X-IronPort-AV: E=Sophos;i="4.25,468,1199692800"; d="scan'208";a="16636166"
Received: from sj-dkim-2.cisco.com ([171.71.179.186])
	by sj-iport-5.cisco.com with ESMTP; 08 Mar 2008 19:58:26 -0800
Received: from sj-core-1.cisco.com (sj-core-1.cisco.com [171.71.177.237])
	by sj-dkim-2.cisco.com (8.12.11/8.12.11) with ESMTP id m293wPrV023722; 
	Sat, 8 Mar 2008 19:58:25 -0800
Received: from dwingwxp01 (sjc-vpn6-1087.cisco.com [10.21.124.63])
	by sj-core-1.cisco.com (8.12.10/8.12.6) with ESMTP id m293wFn1010446;
	Sun, 9 Mar 2008 03:58:19 GMT
From: "Dan Wing" <dwing@cisco.com>
To: "'Eric Rescorla'" <ekr@networkresonance.com>
References: <31e401c869aa$7b5e17e0$18726b80@cisco.com>
	<47B40C71.60409@gmx.net><02b701c8703b$d0929d70$c4f0200a@cisco.com><47B6B843.4050809@gmx.net><00dd01c87194$4ed8f900$c4f0200a@cisco.com>
	<20080308041838.D626617831D@kilo.rtfm.com>
Date: Sat, 8 Mar 2008 19:58:13 -0800
Message-ID: <08b701c88199$d20520f0$7d00470a@cisco.com>
MIME-Version: 1.0
X-Mailer: Microsoft Office Outlook 11
Thread-Index: AciBJqsjgOseoNYZRyu65P1K7FK0gAActlDw
In-Reply-To: <20080308041838.D626617831D@kilo.rtfm.com>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.3198
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; l=1771; t=1205035105;
	x=1205899105; c=relaxed/simple; s=sjdkim2002;
	h=Content-Type:From:Subject:Content-Transfer-Encoding:MIME-Version;
	d=cisco.com; i=dwing@cisco.com;
	z=From:=20=22Dan=20Wing=22=20<dwing@cisco.com>
	|Subject:=20RE=3A=20[Sip]=20R-REUSE,=20media-security-requi
	rements |Sender:=20;
	bh=ySzgmzCs3OiyG9b5fbsQgyJiesI1Ewz4ccCD2dVWeng=;
	b=JxzoV1Ubq5PWWZQtWpdLlKboGyNXLl/aW46sKx94TGNDBZHvVJUhaVCljC
	tK8fubxH3v50opHGfZHmpiwfJ7wpujzYV9R83O3wMHGeb3b2G4RmGKVClEtw
	cLxQAKYJ3I;
Authentication-Results: sj-dkim-2; header.From=dwing@cisco.com; dkim=pass (
	sig from cisco.com/sjdkim2002 verified; ); 
Cc: sip@ietf.org
Subject: Re: [Sip] R-REUSE, media-security-requirements
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Eric Rescorla wrote:

... 

> > > Hence, I am not so sure that PFS is destroyed with the 
> > > ability to store 
> > > session state. Furthermore, both parties can decide not to use it.
> > 
> > If _either_ party stores the information, compromise of that
> > device (the one which stored the information) destroys PFS.  So 
> > even if I have configured my device to not store such information, 
> > whoever I'm calling might not have configured it that way.  There 
> > is no mechanism, currently, to negotiate or communicate if you
> > want the remote party to cache TLS session information.  Perhaps
> > RFC5077 could be used as the negotiation mechanism, such that
> > if both sides implement RFC5077 they are agreeing to caching
> > session information.  I am not too interested in RFC5077's
> > ability to have one side (the TLS client) store the state, but
> > rather I am interested in a negotiation mechanism such that
> > both sides agree to break PFS.
> 
> TLS already provides a facility for this: send a fatal alert. 
> From RFC 4346 S 7.2.2.
> 
>    Error handling in the TLS Handshake protocol is very 
>    simple.  When an
>    error is detected, the detecting party sends a message to the other
>    party.  Upon transmission or receipt of a fatal alert message, both
>    parties immediately close the connection.  Servers and clients MUST
>    forget any session-identifiers, keys, and secrets associated with a
>    failed connection.  Thus, any connection terminated with a fatal
>    alert MUST NOT be resumed. 
> 
> So, in this case you'd send close_notify with level fatal.

Thanks.

That would work but it is more fragile to rely on an end-of-session message
compared to negotiating this up front.

-d

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Sat Mar  8 20:37:00 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 22AFD3A6EAA;
	Sat,  8 Mar 2008 20:37:00 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -101.468
X-Spam-Level: 
X-Spam-Status: No, score=-101.468 tagged_above=-999 required=5
	tests=[AWL=-1.031, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id N-BtYOiI7ZCK; Sat,  8 Mar 2008 20:36:58 -0800 (PST)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id D82483A6D36;
	Sat,  8 Mar 2008 20:36:58 -0800 (PST)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 8F6B63A6D2C
	for <sip@core3.amsl.com>; Sat,  8 Mar 2008 20:36:57 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id gUE-+ACivCpz for <sip@core3.amsl.com>;
	Sat,  8 Mar 2008 20:36:56 -0800 (PST)
Received: from sj-iport-6.cisco.com (sj-iport-6.cisco.com [171.71.176.117])
	by core3.amsl.com (Postfix) with ESMTP id 7906D3A6D36
	for <sip@ietf.org>; Sat,  8 Mar 2008 20:36:56 -0800 (PST)
Received: from sj-dkim-1.cisco.com ([171.71.179.21])
	by sj-iport-6.cisco.com with ESMTP; 08 Mar 2008 20:34:35 -0800
Received: from sj-core-5.cisco.com (sj-core-5.cisco.com [171.71.177.238])
	by sj-dkim-1.cisco.com (8.12.11/8.12.11) with ESMTP id m294YZuw012154; 
	Sat, 8 Mar 2008 20:34:35 -0800
Received: from dwingwxp01 (sjc-vpn6-1087.cisco.com [10.21.124.63])
	by sj-core-5.cisco.com (8.12.10/8.12.6) with ESMTP id m294YNXK018266;
	Sun, 9 Mar 2008 04:34:25 GMT
From: "Dan Wing" <dwing@cisco.com>
To: "'Eric Rescorla'" <ekr@networkresonance.com>, <sip@ietf.org>
References: <20080228173033.207415081A@romeo.rtfm.com>
Date: Sat, 8 Mar 2008 20:34:22 -0800
Message-ID: <0a4301c8819e$e0097070$7d00470a@cisco.com>
MIME-Version: 1.0
X-Mailer: Microsoft Office Outlook 11
Thread-Index: Ach6L8lWNTzycCgxQzOFARksqdP+6QGTgpAg
In-Reply-To: <20080228173033.207415081A@romeo.rtfm.com>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.3198
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; l=5871; t=1205037275;
	x=1205901275; c=relaxed/simple; s=sjdkim1004;
	h=Content-Type:From:Subject:Content-Transfer-Encoding:MIME-Version;
	d=cisco.com; i=dwing@cisco.com;
	z=From:=20=22Dan=20Wing=22=20<dwing@cisco.com>
	|Subject:=20RE=3A=20[Sip]=20Review=20of=20draft-ietf-sip-me
	dia-security-requirements-03 |Sender:=20;
	bh=a9Q8yt/nBX302iqJQGvmvDaYSgN5PT+IAKsqCFnjQfA=;
	b=h+X3VuOtLa0CFWTaPHcAO4mLW5ARcx/hUIzw3mhjKJJ8fP9FNLkQBLQ/Hw
	gd8Tk5LclLSX7fzAIFJfj6huCiiI5A/jkkztW5SYmRV7n9CXtOyl8SfWX6Dq
	Pr0ioDLV+j2n0i7uCwXBWDtKWACQPd3M42rqdkYPJJAKmh3/Tbm+0=;
Authentication-Results: sj-dkim-1; header.From=dwing@cisco.com; dkim=pass (
	sig from cisco.com/sjdkim1004 verified; ); 
Subject: Re: [Sip] Review of draft-ietf-sip-media-security-requirements-03
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

> -----Original Message-----
> From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On 
> Behalf Of Eric Rescorla
> Sent: Thursday, February 28, 2008 9:31 AM
> To: sip@ietf.org
> Subject: [Sip] Review of draft-ietf-sip-media-security-requirements-03
> 
> $Id: draft-ietf-sip-media-security-requirements-03-rev.txt,v 
> 1.1 2008/02/28 17:10:00 ekr Exp $
> 
> GENERAL COMMENTS
> I'm concerned about the apparent lack of stability of this draft.
> When this draft was originally published, it seemed to me to
> have two purposes:
> 
> - To capture the BOF consensus on the important security
>   properties for an RTPSEC protocol.
> - To be a survey for the properties of
>   the various protocols compared to those requirements.
> 
> The first purpose still seems useful to me, but is best served
> by having a draft that reflects that consensus published 
> ASAP. The second purpose seems to me to have been sort
> of overtaken by events and I'm not sure it's still valuable.
> 
> With the first purpose firmly in mind, it seems a little problematic
> that this draft has changed so much in the past 6-12 months.
> In particular:
> 
> - The -02 version totally renamed all the requirements

That was an editorial change requested by several reviewers, who found the
numbering willy-nilly; related requirements were not together.  Also, one
requirement (R24) was removed by working group consensus, creating a hole in
the numbering.

> - I'm not convinced that all the requirements 
>   introduced in -00 have WG consensus.

That may be, but the mailing list is too quiet for me to judge that very well.

> Since there are other documents which need to reference these
> requirements, this presents a problem for them.
> 
> IMO we should try to quickly converge on the requirements we have
> consensus on, remove others, and publish this document as a historical
> statement. We should also consider whether the appendices with
> the survey of the protocols is really that useful in an archival
> document.
> 
> 
> DETAILED COMMENTS
> S 4.2.
>    retargeting problem.  While Connected Identity [RFC4916] allows
>    positive identification of the called party, the primary difficulty
>    still remains that the calling party does not know if a mismatched
>    called party is legitimate (i.e., due to authorized retargeting) or
>    illegitimate (i.e., due to unauthorized retargeting by an attacker
>    above to modify SIP signaling).
> 
> This is totally true, but it's not a media security issue. It's
> a SIP issue.
> 
> S 4.3.
>    though it does consume additional cryptographic context on 
> the mixer
>    for each participant and has the advantage of 
> non-repudiation of the
>    originator of the incoming stream.
> 
> This isn't non-repudiation. It's data origin authentication.
> When you have a shared group key, anyone who has the key can 
> impersonate
> anyone else. Pairwise keys remove this problem, but they don't
> stop me from forging data on our pairwise and claiming it's from you
> to a third party. That's non-repudiation.

This will be adjusted to refer to data origin authentication in -04.  Thanks.

> Also, this section needs discussion of the advantages and 
> disadvantages of (d).

Ok.  -04 adds the following text discussing (d), the 'single outbound'
scenario:
 
    The significant advantage of a single outbound session is the
    number of SRTP encryption operations remains constant even as
    the number of participants increases.  However, a
    disadvantage is that data origin authentication is lost,
    allowing any participant to spoof the sender (because all
    participants know the sender's SRTP key).

> R-ID-BINDING:
> This requirement doesn't really make sense as stated. 
> What needs to be bound isn't an identifier, it's the
> media security keys. Imagine a scheme in which new
> raw DH shares were generated for each connection and
> the public share was Identity signed. That's not 
> an identifier, but it's secure.

This will be reworded in -04 using Matt's suggested text:

     The media security key management protocol must enable 
     the media security keys to be cryptographically bound to 
     an identity of the endpoint.

> R-RECORDING:
> I don't believe that there is WG consensus on this requirement.
>
> R-TRANSCODER:
> I don't think this requirement makes sense as stated.
> Any SRTP-using system can always allow transcoding by
> having one side share the keys with the transcoder.

This states a requirement for a system, not a requirement
directly upon the key management itself.  As Matt pointed out, 
R-RECORDING and R-TRANSCODER require a description, somewhere, 
of how this might be performed.  

For R-RECORDING, as stated in the discussion text, some types 
of businesses have legal requirements to record communications 
between their own employees (stock analysts and stock brokers 
are the best examples), and some businesses have their own 
internal requirements to record conversations with customers 
(the ubiquitous "This Call Is Being Recorded For Quality Purposes"
we all hear when calling a travel agent, bank, etc.).  

Are you saying that the working group doesn't believe those
businesses should encrypt with SRTP (and should rather meet
their requirements by sticking with RTP)?  Because without a
solution to meet that requirement, that is all those businesses
can do.

-d



> 
> 
> 
> 
> 
> 
> -Ekr
> _______________________________________________
> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
> 

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Sun Mar  9 04:07:08 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id ED7E528C1A1;
	Sun,  9 Mar 2008 04:07:07 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.637
X-Spam-Level: 
X-Spam-Status: No, score=-100.637 tagged_above=-999 required=5
	tests=[AWL=-0.200, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id TGqELPi70nXl; Sun,  9 Mar 2008 04:07:06 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id AB71228C14C;
	Sun,  9 Mar 2008 04:05:25 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 0A84D28C14C
	for <sip@core3.amsl.com>; Sun,  9 Mar 2008 04:05:24 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 2NVtdgpOVMJp for <sip@core3.amsl.com>;
	Sun,  9 Mar 2008 04:05:21 -0700 (PDT)
Received: from mgw-mx06.nokia.com (smtp.nokia.com [192.100.122.233])
	by core3.amsl.com (Postfix) with ESMTP id 5C1D628C122
	for <sip@ietf.org>; Sun,  9 Mar 2008 04:04:51 -0700 (PDT)
Received: from esebh105.NOE.Nokia.com (esebh105.ntc.nokia.com [172.21.138.211])
	by mgw-mx06.nokia.com (Switch-3.2.6/Switch-3.2.6) with ESMTP id
	m29B2Q9n027405; Sun, 9 Mar 2008 13:02:26 +0200
Received: from esebh102.NOE.Nokia.com ([172.21.138.183]) by
	esebh105.NOE.Nokia.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Sun, 9 Mar 2008 13:00:55 +0200
Received: from esebh101.NOE.Nokia.com ([172.21.138.177]) by
	esebh102.NOE.Nokia.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Sun, 9 Mar 2008 13:00:55 +0200
Received: from mgw-int02.ntc.nokia.com ([172.21.143.97]) by
	esebh101.NOE.Nokia.com over TLS secured channel with Microsoft
	SMTPSVC(6.0.3790.1830); Sun, 9 Mar 2008 13:00:55 +0200
Received: from [10.162.253.133] (essapo-nirac253133.europe.nokia.com
	[10.162.253.133])
	by mgw-int02.ntc.nokia.com (Switch-3.2.5/Switch-3.2.5) with ESMTP id
	m29B0jkx015723; Sun, 9 Mar 2008 13:00:52 +0200
From: Aki Niemi <aki.niemi@nokia.com>
To: ext Dean Willis <dean.willis@softarmor.com>
In-Reply-To: <6F488C03-A79D-4059-A4B5-A4D089F23B3A@softarmor.com>
References: <20080303183225.D04A35081A@romeo.rtfm.com>
	<1204628885.15582.7.camel@localhost>
	<20080304151905.4EE005081A@romeo.rtfm.com>
	<1204661227.15582.78.camel@localhost>
	<20080304202005.ADD0C5081A@romeo.rtfm.com>
	<1204663441.15582.107.camel@localhost>
	<20080304205516.B737E5081A@romeo.rtfm.com>
	<1204724689.5302.38.camel@localhost>
	<9B149569-37A9-402B-BAB1-BB963CA3D477@softarmor.com>
	<1204789154.5302.73.camel@localhost><47D0333C.8050306@softarmor.com>
	<1204872793.28304.23.camel@localhost>
	<6F488C03-A79D-4059-A4B5-A4D089F23B3A@softarmor.com>
Organization: Nokia Devices R&D
Date: Sun, 09 Mar 2008 13:00:35 +0200
Message-Id: <1205060435.22140.13.camel@localhost>
Mime-Version: 1.0
X-Mailer: Evolution 2.12.1 
X-OriginalArrivalTime: 09 Mar 2008 11:00:55.0347 (UTC)
	FILETIME=[D8FB8030:01C881D4]
X-Nokia-AV: Clean
Cc: sip@ietf.org
Subject: Re: [Sip] Question on subnot-etags
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


On pe, 2008-03-07 at 23:27 +0200, ext Dean Willis wrote:
> > We're sending it so that the next time the subscriber sends a 
> > SUBSCRIBE,
> > it can say: "Here's the last entity I've seen. Suppress-If-Match,
> > please".
> 
> But in the case we're discussing, the last entity the subscriber has 
> seen is not the last entity that that the server has seen. And the 
> entity that the subscriber currently has isn't the same entity that 
> the server has

What makes "seen" and "has" different here?

> -- it's another entity that just happens to have the 
> same etag as the entity that the subscriber currently has.

This is against what the draft says. We require unique etags "across all
versions of all entities for a resource and event package". 

Now I understand the text needs a little explaining, which I'll add,
about what "version" really means here, i.e., can two versions with
identical content also have identical etags? 

This is the special case that we need to explicitly call out. For
instance, an MD5 sum over the entity is a good enough entity-tag, even
though it will give the same entity-tag to different "versions" of
entities, albeit they're entities with identical content. 

> That's a close enough match for some purposes (perhaps all of our 
> purposes), but it's not the same thing.

I still fail to see what significance this has for the subscriber? The
subscriber is at the mercy of the notifier, and it's the notifier's
responsibility to keep its entity-tags straight.

Cheers,
Aki

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Sun Mar  9 04:27:32 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 4F06128C18B;
	Sun,  9 Mar 2008 04:27:32 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.758
X-Spam-Level: 
X-Spam-Status: No, score=-100.758 tagged_above=-999 required=5
	tests=[AWL=-0.321, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id UVjmhvyqYwUz; Sun,  9 Mar 2008 04:27:31 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 11B5F28C164;
	Sun,  9 Mar 2008 04:27:31 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 0BFAB28C137
	for <sip@core3.amsl.com>; Sun,  9 Mar 2008 04:27:29 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 4ETCGUhy55QK for <sip@core3.amsl.com>;
	Sun,  9 Mar 2008 04:27:28 -0700 (PDT)
Received: from mailgw4.ericsson.se (mailgw4.ericsson.se [193.180.251.62])
	by core3.amsl.com (Postfix) with ESMTP id 05AEA3A6C53
	for <sip@ietf.org>; Sun,  9 Mar 2008 04:27:27 -0700 (PDT)
Received: from mailgw4.ericsson.se (unknown [127.0.0.1])
	by mailgw4.ericsson.se (Symantec Mail Security) with ESMTP id
	364E620081; Sun,  9 Mar 2008 12:25:05 +0100 (CET)
X-AuditID: c1b4fb3e-ae198bb000004ec0-1f-47d3c9119871
Received: from esealmw126.eemea.ericsson.se (unknown [153.88.254.123])
	by mailgw4.ericsson.se (Symantec Mail Security) with ESMTP id
	1F0F9205A4; Sun,  9 Mar 2008 12:25:05 +0100 (CET)
Received: from esealmw113.eemea.ericsson.se ([153.88.200.4]) by
	esealmw126.eemea.ericsson.se with Microsoft SMTPSVC(6.0.3790.1830); 
	Sun, 9 Mar 2008 12:25:04 +0100
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Sun, 9 Mar 2008 12:25:02 +0100
Message-ID: <CA9998CD4A020D418654FCDEF4E707DF04FD355C@esealmw113.eemea.ericsson.se>
In-Reply-To: <1ECE0EB50388174790F9694F77522CCF1557B26B@zrc2hxm0.corp.nortel.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] Outbound-12: STUN keep-alives without outbound
thread-index: AciAmwkiKDfnAdVOQZaeV+jHI3pHnQAL1HLLACG3SXAAIbNpQA==
References: <20080303185301.8A6B61819D7F@mail.iptel.org><1ECE0EB50388174790F9694F77522CCF1549EC14@zrc2hxm0.corp.nortel.com><CA9998CD4A020D418654FCDEF4E707DF04F13E49@esealmw113.eemea.ericsson.se><458913680803060824m23e10d7eqa861a21266eb50b@mail.gmail.com><4E690AA1-9E99-490D-B5EA-E4895E0B675A@ekabal.com><CA9998CD4A020D418654FCDEF4E707DF04F7EF77@esealmw113.eemea.ericsson.se><FFDDF533-F69C-4EC0-B19F-552373DF8035@ekabal.com><CA9998CD4A020D418654FCDEF4E707DF04F7F043@esealmw113.eemea.ericsson.se><1ECE0EB50388174790F9694F77522CCF1552C7E3@zrc2hxm0.corp.nortel.com>
	<CA9998CD4A020D418654FCDEF4E707DF04F7F548@esealmw113.eemea.ericsson.se>
	<CA9998CD4A020D418654FCDEF4E707DF04F7F892@esealmw113.eemea.ericsson.se>
	<91A487B8-CCCA-44B2-B73B-9A58D8CB9FE2@ekabal.com>
	<CA9998CD4A020D418654FCDEF4E707DF04FD3067@esealmw113.eemea.ericsson.se>
	<A7837C29-60EC-4434-9209-15831192DD00@softarmor.com>
	<CA9998CD4A020D418654FCDEF4E707DF046C7645@esealmw113.eemea.ericsson.se>
	<1ECE0EB50388174790F9694F77522CCF1557 B26B@zrc
	2hxm0.corp.nortel.com>
From: "Christer Holmberg" <christer.holmberg@ericsson.com>
To: "Francois Audet" <audet@nortel.com>,
	"Dean Willis" <dean.willis@softarmor.com>
X-OriginalArrivalTime: 09 Mar 2008 11:25:04.0912 (UTC)
	FILETIME=[38FD9100:01C881D8]
X-Brightmail-Tracker: AAAAAA==
Cc: sip@ietf.org, Rohan Mahy <rohan@ekabal.com>,
	Xavier Marjou <xavier.marjou@orange-ftgroup.com>,
	Cullen Jennings <fluffy@cisco.com>
Subject: Re: [Sip] Outbound-12: STUN keep-alives without outbound
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


Francois,

What about my proposal of allowing STUN keep-alive between the UA and
outbound proxy, even if the registrar does not support it?

That does NOT require the usage of "keep". The UA only checks whether
the outbound proxy has inserted "ob" in the Path header.

Regards,

Christer 

> -----Original Message-----
> From: Francois Audet [mailto:audet@nortel.com] 
> Sent: 8. maaliskuuta 2008 21:20
> To: Christer Holmberg; Dean Willis
> Cc: sip@ietf.org; Rohan Mahy; Xavier Marjou; Cullen Jennings
> Subject: RE: [Sip] Outbound-12: STUN keep-alives without outbound
> 
>  
> > Well, that is what I initially said in this thread, and 
> what I believe 
> > we already did have before Outbound-12: the outbound proxy 
> was able to 
> > insert the "keep" parameter in the Path header to indicate 
> support of 
> > keep-alive...
> 
> I checked the meeting notes from IETF 70, and we had "a 
> strong concensus to remove the keep parameter".
> 
> I don't see why we are still discussing this topic.
> 
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Sun Mar  9 04:34:01 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id B78C328C132;
	Sun,  9 Mar 2008 04:34:01 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.638
X-Spam-Level: 
X-Spam-Status: No, score=-100.638 tagged_above=-999 required=5
	tests=[AWL=-0.201, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id X90OACIzHnNU; Sun,  9 Mar 2008 04:34:00 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id BCE8528C13D;
	Sun,  9 Mar 2008 04:34:00 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id CD86E28C13D
	for <sip@core3.amsl.com>; Sun,  9 Mar 2008 04:33:59 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id xvZTAdyBX-lq for <sip@core3.amsl.com>;
	Sun,  9 Mar 2008 04:33:59 -0700 (PDT)
Received: from mgw-mx09.nokia.com (smtp.nokia.com [192.100.105.134])
	by core3.amsl.com (Postfix) with ESMTP id 1343E28C132
	for <sip@ietf.org>; Sun,  9 Mar 2008 04:33:59 -0700 (PDT)
Received: from esebh106.NOE.Nokia.com (esebh106.ntc.nokia.com [172.21.138.213])
	by mgw-mx09.nokia.com (Switch-3.2.6/Switch-3.2.6) with ESMTP id
	m29BVLhg008496; Sun, 9 Mar 2008 06:33:13 -0500
Received: from esebh104.NOE.Nokia.com ([172.21.143.34]) by
	esebh106.NOE.Nokia.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Sun, 9 Mar 2008 13:31:19 +0200
Received: from esebh101.NOE.Nokia.com ([172.21.138.177]) by
	esebh104.NOE.Nokia.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Sun, 9 Mar 2008 13:31:18 +0200
Received: from mgw-int01.ntc.nokia.com ([172.21.143.96]) by
	esebh101.NOE.Nokia.com over TLS secured channel with Microsoft
	SMTPSVC(6.0.3790.1830); Sun, 9 Mar 2008 13:31:18 +0200
Received: from [10.162.253.133] (essapo-nirac253133.europe.nokia.com
	[10.162.253.133])
	by mgw-int01.ntc.nokia.com (Switch-3.2.5/Switch-3.2.5) with ESMTP id
	m29BV8DE025787; Sun, 9 Mar 2008 13:31:09 +0200
From: Aki Niemi <aki.niemi@nokia.com>
To: ext Christer Holmberg <christer.holmberg@ericsson.com>
In-Reply-To: <CA9998CD4A020D418654FCDEF4E707DF046C7645@esealmw113.eemea.ericsson.se>
References: <20080303185301.8A6B61819D7F@mail.iptel.org>
	<1ECE0EB50388174790F9694F77522CCF1549EC14@zrc2hxm0.corp.nortel.com>
	<CA9998CD4A020D418654FCDEF4E707DF04F13E49@esealmw113.eemea.ericsson.se>
	<458913680803060824m23e10d7eqa861a21266eb50b@mail.gmail.com>
	<4E690AA1-9E99-490D-B5EA-E4895E0B675A@ekabal.com>
	<CA9998CD4A020D418654FCDEF4E707DF04F7EF77@esealmw113.eemea.ericsson.se>
	<FFDDF533-F69C-4EC0-B19F-552373DF8035@ekabal.com>
	<CA9998CD4A020D418654FCDEF4E707DF04F7F043@esealmw113.eemea.ericsson.se>
	<1ECE0EB50388174790F9694F77522CCF1552C7E3@zrc2hxm0.corp.nortel.com>
	<CA9998CD4A020D418654FCDEF4E707DF04F7F548@esealmw113.eemea.ericsson.se>
	<CA9998CD4A020D418654FCDEF4E707DF04F7F892@esealmw113.eemea.ericsson.se>
	<91A487B8-CCCA-44B2-B73B-9A58D8CB9FE2@ekabal.com>
	<CA9998CD4A020D418654FCDEF4E707DF04FD3067@esealmw113.eemea.ericsson.se>
	<A7837C29-60EC-4434-9209-15831192DD00@softarmor.com>
	<CA9998CD4A020D418654FCDEF4E707DF046C7645@esealmw113.eemea.ericsson.se>
Organization: Nokia Devices R&D
Date: Sun, 09 Mar 2008 13:30:59 +0200
Message-Id: <1205062259.22140.39.camel@localhost>
Mime-Version: 1.0
X-Mailer: Evolution 2.12.1 
X-OriginalArrivalTime: 09 Mar 2008 11:31:18.0800 (UTC)
	FILETIME=[17D85900:01C881D9]
X-Nokia-AV: Clean
Cc: Cullen Jennings <fluffy@cisco.com>, Rohan Mahy <rohan@ekabal.com>,
	Xavier Marjou <xavier.marjou@orange-ftgroup.com>, sip@ietf.org,
	Francois Audet <audet@nortel.com>, Dean Willis <dean.willis@softarmor.com>
Subject: Re: [Sip] Outbound-12: STUN keep-alives without outbound
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


On la, 2008-03-08 at 04:22 +0100, ext Christer Holmberg wrote:
> Well, that is what I initially said in this thread, and what I believe
> we already did have before Outbound-12: the outbound proxy was able to
> insert the "keep" parameter in the Path header to indicate support of
> keep-alive...

The 'keep' was removed because it's *completely* useless. The client
discovers outbound support via 'ob' in the Path. If it's using UDP
flows, it uses STUN; if it has TCP flows, it uses CRLF.

Apparently 'ob' doesn't work for you, because you want to use the
keepalive parts and not full outbound. But I object to holding up
progress on this draft just because you need to piggyback a parameter on
a standards track document for some other purpose. 

Please write a draft and let's move on.

Cheers,
Aki

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Sun Mar  9 04:35:23 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 780C73A6C53;
	Sun,  9 Mar 2008 04:35:23 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.751
X-Spam-Level: 
X-Spam-Status: No, score=-100.751 tagged_above=-999 required=5
	tests=[AWL=-0.314, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id H-UG-kNP4KG2; Sun,  9 Mar 2008 04:35:20 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 8BA353A6B23;
	Sun,  9 Mar 2008 04:35:20 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 847D628C11A
	for <sip@core3.amsl.com>; Sun,  9 Mar 2008 04:35:19 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id DjtSUSH5dWTU for <sip@core3.amsl.com>;
	Sun,  9 Mar 2008 04:35:18 -0700 (PDT)
Received: from mailgw4.ericsson.se (mailgw4.ericsson.se [193.180.251.62])
	by core3.amsl.com (Postfix) with ESMTP id 13D4628C123
	for <sip@ietf.org>; Sun,  9 Mar 2008 04:34:57 -0700 (PDT)
Received: from mailgw4.ericsson.se (unknown [127.0.0.1])
	by mailgw4.ericsson.se (Symantec Mail Security) with ESMTP id
	015E020663; Sun,  9 Mar 2008 12:31:38 +0100 (CET)
X-AuditID: c1b4fb3e-af99bbb000004ec0-db-47d3ca99f0d2
Received: from esealmw126.eemea.ericsson.se (unknown [153.88.254.123])
	by mailgw4.ericsson.se (Symantec Mail Security) with ESMTP id
	C5B82201E6; Sun,  9 Mar 2008 12:31:37 +0100 (CET)
Received: from esealmw113.eemea.ericsson.se ([153.88.200.4]) by
	esealmw126.eemea.ericsson.se with Microsoft SMTPSVC(6.0.3790.1830); 
	Sun, 9 Mar 2008 12:31:37 +0100
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Sun, 9 Mar 2008 12:31:34 +0100
Message-ID: <CA9998CD4A020D418654FCDEF4E707DF04FD356A@esealmw113.eemea.ericsson.se>
In-Reply-To: <E6C2E8958BA59A4FB960963D475F7AC30BC8CAA3D7@mail.acmepacket.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] Comments on TOTE
thread-index: Ach6Rz3yvChfWvmlTs2W/7laMQUYXAF3zPdAABt2PIAAKSDHYAAFpfPgAAAhAHAAIitbEA==
References: <47C54730.5030501@nsn.com><47C5DCA6.9080302@cisco.com><47C680E3.2030803@nsn.com><47C6C841.2010201@cisco.com><47C6D42D.8040506@nsn.com><E6C2E8958BA59A4FB960963D475F7AC30BC782C9B1@mail.acmepacket.com><47C6F8CA.2080305@cisco.com><E6C2E8958BA59A4FB960963D475F7AC30BC782CC3B@mail.acmepacket.com><47C71685.7060206@cisco.com><C84E0A4ABA6DD74DA5221E0833A35DF30A730DA7@esebe101.NOE.Nokia.com><4C1596FBF66C67478BCFE7B3F81FC1E03FBE17741A@DF-MASTIFF-MSG.exchange.corp.microsoft.com><E6C2E8958BA59A4FB960963D475F7AC30BC8CAA3A3@mail.acmepacket.com><4C1596FBF66C67478BCFE7B3F81FC1E03FBE1775EF@DF-MASTIFF-MSG.exchange.corp.microsoft.com>
	<E6C2E8958BA59A4FB960963D475F7AC30BC8CAA3D7@mail.acmepacket.com>
From: "Christer Holmberg" <christer.holmberg@ericsson.com>
To: "Hadriel Kaplan" <HKaplan@acmepacket.com>,
	"Sean Olson" <Sean.Olson@microsoft.com>, <Markus.Isomaki@nokia.com>,
	<jdrosen@cisco.com>
X-OriginalArrivalTime: 09 Mar 2008 11:31:37.0353 (UTC)
	FILETIME=[22E74F90:01C881D9]
X-Brightmail-Tracker: AAAAAA==
Cc: sip@ietf.org
Subject: Re: [Sip] Comments on TOTE
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


Hi,

I think MSRP would work will for ICE/TURN, without the need for
dedicated MSRP relays, if the routing was based on the SDP c/m- lines
(like normal media plane traffic) instead of the MSRP specific routing
attributes/parameters. That would also make MSRP more "SBC friendly",
because there is no need to modify information in the MSRP message
itself.

I BELIEVE (maybe someone with more information can verify) that is also
how OMA has specified usage and NAT traversal of MSRP.

Regards,

Christer 

> -----Original Message-----
> From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On 
> Behalf Of Hadriel Kaplan
> Sent: 9. maaliskuuta 2008 5:11
> To: Sean Olson; Markus.Isomaki@nokia.com; jdrosen@cisco.com
> Cc: sip@ietf.org
> Subject: Re: [Sip] Comments on TOTE
> 
> Oh I don't doubt TURN is used, and successfully.  As far as I 
> am aware, though, it's a drop in the bucket of the deployed 
> SIP networks.  (of course that view could be completely wrong 
> due to the types of customers I serve)  My understanding is 
> one of the bigger ones that uses TURN for voip uses XMPP for 
> IM, not MSRP.
> 
> An app server could be on the public Internet, in theory, as 
> much as a Turn server would or web servers or whatever.  
> Since it is frequently terminating the TCP connection for 
> MSRP, it could be the one being the public TCP server address 
> for the connection from the client.  That's not to say that 
> TURN shouldn't or wouldn't be used for MSRP, just that it's 
> not necessary in some environments for NAT traversal.  And 
> the more environments that can be supported, the more 
> reachable users there will be, and the more valuable it becomes.
> 
> -hadriel
> 
> > -----Original Message-----
> > From: Sean Olson [mailto:Sean.Olson@microsoft.com]
> > Sent: Saturday, March 08, 2008 2:08 PM
> > To: Hadriel Kaplan; Markus.Isomaki@nokia.com; jdrosen@cisco.com
> > Cc: sip@ietf.org
> > Subject: RE: Comments on TOTE
> >
> > I may be a bit biased because we are successfully using 
> ICE/TURN today 
> > for audio/video.  It's not perfect but better than anything 
> else we've found.
> > How would an app server help with the firewall traversal problem?
> >
> > -----Original Message-----
> > From: Hadriel Kaplan [mailto:HKaplan@acmepacket.com]
> > Sent: Saturday, March 08, 2008 10:12 AM
> > To: Sean Olson; Markus.Isomaki@nokia.com; jdrosen@cisco.com
> > Cc: sip@ietf.org
> > Subject: RE: Comments on TOTE
> >
> >
> > Yes.  Currently MSRP does not support ICE, but that could 
> be fixed I 
> > think, if we break the current binding between MSRP path 
> URI and the 
> > TCP socket address/port, and add the ability for either 
> side to open 
> > the connection.
> >
> > The second issue is that TURN doesn't work in some (rather common) 
> > deployment models, because the address that would have to 
> be allocated 
> > depends on where the SIP signaling goes.  It is not 
> knowable a priori.
> >
> > The third issue is that ICE isn't allowed in some (rather common) 
> > deployment models, due to security policies which require the IP 
> > Addresses of client hosts to be hidden from entities 
> outside the trust domain.
> > Although this is an issue for MSRP as well.
> >
> > The fourth issue is that it requires TURN servers, which 
> are not that 
> > common, afaict, whereas App Servers are.
> >
> > The fifth issue is that it adds complexity which XMPP does 
> not have, 
> > which makes XMPP more attractive. (not that there's anything wrong 
> > with that, but you want to have as many users using the 
> same protocol 
> > as possible, to make it worth using that protocol - Metcalfe's law 
> > basically)
> >
> > -hadriel
> >
> > > -----Original Message-----
> > > From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] 
> On Behalf 
> > > Of
> > Sean
> > > Olson
> > > Sent: Friday, March 07, 2008 3:47 PM
> > > To: Markus.Isomaki@nokia.com; jdrosen@cisco.com
> > > Cc: sip@ietf.org
> > > Subject: Re: [Sip] Comments on TOTE
> > >
> > > Is there anything that would prevent MSRP from working 
> over ICE/TURN?
> > >
> > > -----Original Message-----
> > > From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] 
> On Behalf 
> > > Of Markus.Isomaki@nokia.com
> > > Sent: Friday, March 07, 2008 12:36 AM
> > > To: jdrosen@cisco.com
> > > Cc: sip@ietf.org
> > > Subject: [Sip] Comments on TOTE
> > >
> > > Hi,
> > >
> > > Here are my views on
> > > http://tools.ietf.org/id/draft-rosenberg-sip-tote-00.txt:
> > >
> > > In general there are a lot of things in like about this 
> approach. I 
> > > think we definitely need a light-weight, TLS/TCP-based, 
> end-to-end 
> > > oriented transport mechanism, with a good NAT traversal 
> story. There 
> > > are many use cases for such a mechanism, so instead of 
> developing a 
> > > specific one for each of them, it is better to have a 
> common baseline.
> > > Utilization of ICE-TCP and TURN should be a basic 
> requirement here, 
> > > and TOTE is indeed using them.
> > >
> > > The main issue I see is that MSRP already occupies part 
> of that space.
> > > However, MSRP is not a perfect match. It requires its own 
> specific 
> > > relays instead of of being able to use TURN. End-to-end 
> security is 
> > > based on S/MIME instead of TLS. It includes a lot of per-message 
> > > overhead and also the fragmentation, re-assembly and 
> reporting make 
> > > it complicated. Furthermore I'm not convinced a yet how 
> the muxing 
> > > of sessions between relays really works: Based on SIMPLE-list, at 
> > > least two
> > > (independent) implementers have tried to produce a relay 
> like that, 
> > > but have concluded that it is not doable. I don't know if other 
> > > relay implementations exist. The IMS and OMA folks prefer B2BUAs 
> > > over relays for MSRP NAT traversal, and that is the only 
> space I can 
> > > see some serious implementation/deployment of MSRP. (This 
> might be 
> > > because most people who were originally interested in SIP IM have 
> > > now switched to
> > > XMPP.) Well, I haven't seen much happening with 
> ICE/TURN-TCP either, 
> > > but that could be a chicken-and-egg problem that 
> something like TOTE 
> > > could solve. It would be of course helpful if people who came up 
> > > with MSRP relay/muxing/chunking requirements would 
> indicate if they 
> > > still see that model valid (for customers of MSRP/IM) and if they 
> > > see a lot of deployment potential for the protocol.
> > >
> > > I also like the model where baseline TOTE would be like SUB/NOT 
> > > framework, while the actual usages would be analogous to 
> event packages.
> > > It would be very helpful for developers of new usages if 
> there was a 
> > > well-defined and well-working baseline that solved some 
> hard issues 
> > > like NAT traversal, e2e security and provided some tools 
> for session 
> > > negotiation. I'd be quite liberal about the usages 
> themselves, but 
> > > of course the IETF should immediately charter 
> standards-track work 
> > > on some of the key ones.
> > >
> > > I'm co-author of draft-ietf-mmusic-file-transfer-mech 
> (file transfer 
> > > O/A and MSRP-based transport), so I share the concerns 
> that Miguel 
> > > already brought up in an earlier mail. Though, had TOTE 
> existed when 
> > > we started with file transfer draft, I'm certain we would have 
> > > chosen it instead of MSRP. We tried our best in the draft to 
> > > actually decouple the offer/answer part from the transport, 
> > > envisioning that some day there might be something like 
> TOTE to run 
> > > over. Now that the work is already quite far and there 
> actually are 
> > > a few implementations of the draft (not much in public, but for 
> > > instance GSMA has had an interop event for image-sharing based on 
> > > the draft), it would be non-constructive to develop file transfer 
> > > with TOTE from the scratch. It would be better to see if the O/A 
> > > model could be sustained while providing an alternative transport.
> > >
> > > Another concern is that it took something like over 5 
> years from the 
> > > start to get MSRP to RFC. How long will it take for TOTE? 
> I already 
> > > see such risk if we get stuck in arguments about the MIME 
> > > usage/negotiation model and so on, where there's probably 
> no clear 
> > > answer, so they could be debated forever. Yet another 
> risk is that 
> > > TOTE is already too late and people with use cases for it are 
> > > committed to something else (MSRP, media-control stuff). So, it 
> > > would be useful to probe if people really would have use 
> cases for 
> > > it in their UA products, or would it be only of academic interest.
> > >
> > > So, as a summary I'm positive of going forward with TOTE, 
> but there 
> > > are issues wrt. overlap with MSRP and the market 
> adoption, which we 
> > > need to quantify a bit first.
> > >
> > > Markus
> > >
> > >
> > >
> > >
> > >
> > > _______________________________________________
> > > Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> > > This list is for NEW development of the core SIP Protocol Use 
> > > sip-implementors@cs.columbia.edu for questions on current sip Use 
> > > sipping@ietf.org for new developments on the application of sip 
> > > _______________________________________________
> > > Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> > > This list is for NEW development of the core SIP Protocol Use 
> > > sip-implementors@cs.columbia.edu for questions on current sip Use 
> > > sipping@ietf.org for new developments on the application of sip
> _______________________________________________
> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol Use 
> sip-implementors@cs.columbia.edu for questions on current sip 
> Use sipping@ietf.org for new developments on the application of sip
> 
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Sun Mar  9 04:42:15 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 20B7B28C184;
	Sun,  9 Mar 2008 04:42:15 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.747
X-Spam-Level: 
X-Spam-Status: No, score=-100.747 tagged_above=-999 required=5
	tests=[AWL=-0.310, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id YXG1FtCwYSmS; Sun,  9 Mar 2008 04:42:13 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 93A2D28C149;
	Sun,  9 Mar 2008 04:42:10 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id F16ED3A67AD
	for <sip@core3.amsl.com>; Sun,  9 Mar 2008 04:42:08 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 5KMgfrGStMCO for <sip@core3.amsl.com>;
	Sun,  9 Mar 2008 04:42:08 -0700 (PDT)
Received: from mailgw4.ericsson.se (mailgw4.ericsson.se [193.180.251.62])
	by core3.amsl.com (Postfix) with ESMTP id 1680828C191
	for <sip@ietf.org>; Sun,  9 Mar 2008 04:40:43 -0700 (PDT)
Received: from mailgw4.ericsson.se (unknown [127.0.0.1])
	by mailgw4.ericsson.se (Symantec Mail Security) with ESMTP id
	B7CF0206FA; Sun,  9 Mar 2008 12:38:21 +0100 (CET)
X-AuditID: c1b4fb3e-ab192bb000004ec0-9c-47d3cc2df110
Received: from esealmw128.eemea.ericsson.se (unknown [153.88.254.121])
	by mailgw4.ericsson.se (Symantec Mail Security) with ESMTP id
	92118200F9; Sun,  9 Mar 2008 12:38:21 +0100 (CET)
Received: from esealmw113.eemea.ericsson.se ([153.88.200.4]) by
	esealmw128.eemea.ericsson.se with Microsoft SMTPSVC(6.0.3790.1830); 
	Sun, 9 Mar 2008 12:38:21 +0100
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Sun, 9 Mar 2008 12:38:19 +0100
Message-ID: <CA9998CD4A020D418654FCDEF4E707DF04FD358C@esealmw113.eemea.ericsson.se>
In-Reply-To: <1205062259.22140.39.camel@localhost>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] Outbound-12: STUN keep-alives without outbound
thread-index: AciB2SMfsCqUxogtQPC0a7d6WKd22QAACqIg
References: <20080303185301.8A6B61819D7F@mail.iptel.org>
	<1ECE0EB50388174790F9694F77522CCF1549EC14@zrc2hxm0.corp.nortel.com>
	<CA9998CD4A020D418654FCDEF4E707DF04F13E49@esealmw113.eemea.ericsson.se>
	<458913680803060824m23e10d7eqa861a21266eb50b@mail.gmail.com>
	<4E690AA1-9E99-490D-B5EA-E4895E0B675A@ekabal.com>
	<CA9998CD4A020D418654FCDEF4E707DF04F7EF77@esealmw113.eemea.ericsson.se>
	<FFDDF533-F69C-4EC0-B19F-552373DF8035@ekabal.com>
	<CA9998CD4A020D418654FCDEF4E707DF04F7F043@esealmw113.eemea.ericsson.se>
	<1ECE0EB50388174790F9694F77522CCF1552C7E3@zrc2hxm0.corp.nortel.com>
	<CA9998CD4A020D418654FCDEF4E707DF04F7F548@esealmw113.eemea.ericsson.se>
	<CA9998CD4A020D418654FCDEF4E707DF04F7F892@esealmw113.eemea.ericsson.se>
	<91A487B8-CCCA-44B2-B73B-9A58D8CB9FE2@ekabal.com>
	<CA9998CD4A020D418654FCDEF4E707DF04FD3067@esealmw113.eemea.ericsson.se>
	<A7837C29-60EC-4434-9209-15831192DD00@softarmor.com>
	<CA9998CD4A020D418654FCDEF4E707DF046C7645@esealmw113.eemea.ericsson.se>
	<1205062259.22140.39.camel@lo calhost>
From: "Christer Holmberg" <christer.holmberg@ericsson.com>
To: "Aki Niemi" <aki.niemi@nokia.com>
X-OriginalArrivalTime: 09 Mar 2008 11:38:21.0388 (UTC)
	FILETIME=[13BA28C0:01C881DA]
X-Brightmail-Tracker: AAAAAA==
Cc: Cullen Jennings <fluffy@cisco.com>, Rohan Mahy <rohan@ekabal.com>,
	Xavier Marjou <xavier.marjou@orange-ftgroup.com>, sip@ietf.org,
	Francois Audet <audet@nortel.com>, Dean Willis <dean.willis@softarmor.com>
Subject: Re: [Sip] Outbound-12: STUN keep-alives without outbound
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


Hi, 

>>Well, that is what I initially said in this thread, and what I believe

>>we already did have before Outbound-12: the outbound proxy was able to

>>insert the "keep" parameter in the Path header to indicate support of 
>>keep-alive...
> 
>The 'keep' was removed because it's *completely* useless. The 
>client discovers outbound support via 'ob' in the Path. If 
>it's using UDP flows, it uses STUN; if it has TCP flows, it uses CRLF.

Again, that is what I have proposed as an alternative. I have said that
the UA should be allowed, when it sees the "ob" parameter in the Path,
to use keep-alive even if the registrar does not support outbound.

>Apparently 'ob' doesn't work for you, because you want to use the
keepalive parts and not full outbound.

See above.

Regards,

Christer
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Sun Mar  9 04:51:58 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id D848E28C15A;
	Sun,  9 Mar 2008 04:51:58 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -101.657
X-Spam-Level: 
X-Spam-Status: No, score=-101.657 tagged_above=-999 required=5
	tests=[AWL=0.780, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	GB_I_INVITATION=-2, HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1,
	USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id v2Q0DUMWvTkQ; Sun,  9 Mar 2008 04:51:58 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id E5A233A6BC4;
	Sun,  9 Mar 2008 04:51:57 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id D87253A6BC4
	for <sip@core3.amsl.com>; Sun,  9 Mar 2008 04:51:55 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id TtuquAe5TAoY for <sip@core3.amsl.com>;
	Sun,  9 Mar 2008 04:51:55 -0700 (PDT)
Received: from mgw-mx09.nokia.com (smtp.nokia.com [192.100.105.134])
	by core3.amsl.com (Postfix) with ESMTP id 1EF0B3A6856
	for <sip@ietf.org>; Sun,  9 Mar 2008 04:51:55 -0700 (PDT)
Received: from esebh107.NOE.Nokia.com (esebh107.ntc.nokia.com [172.21.143.143])
	by mgw-mx09.nokia.com (Switch-3.2.6/Switch-3.2.6) with ESMTP id
	m29BoHLW023963; Sun, 9 Mar 2008 06:50:54 -0500
Received: from esebh104.NOE.Nokia.com ([172.21.143.34]) by
	esebh107.NOE.Nokia.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Sun, 9 Mar 2008 13:48:51 +0200
Received: from mgw-int02.ntc.nokia.com ([172.21.143.97]) by
	esebh104.NOE.Nokia.com over TLS secured channel with Microsoft
	SMTPSVC(6.0.3790.1830); Sun, 9 Mar 2008 13:48:51 +0200
Received: from [10.162.253.133] (essapo-nirac253133.europe.nokia.com
	[10.162.253.133])
	by mgw-int02.ntc.nokia.com (Switch-3.2.5/Switch-3.2.5) with ESMTP id
	m29Bmn0r002827; Sun, 9 Mar 2008 13:48:50 +0200
From: Aki Niemi <aki.niemi@nokia.com>
To: SIP Working Group <sip@ietf.org>
Organization: Nokia Devices R&D
Date: Sun, 09 Mar 2008 13:48:40 +0200
Message-Id: <1205063320.22140.58.camel@localhost>
Mime-Version: 1.0
X-Mailer: Evolution 2.12.1 
X-OriginalArrivalTime: 09 Mar 2008 11:48:52.0002 (UTC)
	FILETIME=[8B9A3820:01C881DB]
X-Nokia-AV: Clean
Subject: [Sip] TOTE comments
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Hi,

Overall, I like the draft.

First, I think there are actually three interaction modes for UAs:

     1. SIP events
     2. Simple object push, or file transfer mode
     3. Peer-to-peer RPC

Clearly, #1 could be optimized a great deal. Notifications shouldn't
always pass a deep chain of record-routing proxies, etc. But on the same
vein, SIP events has the ultimate NAT traversal capability -- if SIP
works, SIP events works.

For #2, an invitation needs to carry enough meta-information of the
object so that the receiving end can be asked for confirmation:

"foo@example.com wants to send you a jpeg of size 1.5MB. Accept?" 

Miguel's file transfer draft proposes adding exactly this meta-data into
SDP. You could use TOTE for this, but you would still need the meta-data
in order to present a confirmation to the recipient. Then in the
transfer itself, why the overhead to plain ICE-TCP/comedia?

For #3, TOTE is a perfect match. The most important thing to keep is the
extensibility model. Definitely it needs two namespaces, private and
IANA, and I would even go as far as making the IANA namespace policy a
first-come-first-serve.

Cheers,
Aki


_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Sun Mar  9 05:19:02 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 1521128C182;
	Sun,  9 Mar 2008 05:19:02 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.673
X-Spam-Level: 
X-Spam-Status: No, score=-100.673 tagged_above=-999 required=5
	tests=[AWL=-0.236, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id uPj0BSXgIAB4; Sun,  9 Mar 2008 05:19:01 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 21BD228C150;
	Sun,  9 Mar 2008 05:19:01 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 0B4BC3A6BD9
	for <sip@core3.amsl.com>; Sun,  9 Mar 2008 05:19:00 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id cH1GviEDk0sY for <sip@core3.amsl.com>;
	Sun,  9 Mar 2008 05:18:59 -0700 (PDT)
Received: from mgw-mx03.nokia.com (smtp.nokia.com [192.100.122.230])
	by core3.amsl.com (Postfix) with ESMTP id EFAF83A6984
	for <sip@ietf.org>; Sun,  9 Mar 2008 05:18:58 -0700 (PDT)
Received: from esebh107.NOE.Nokia.com (esebh107.ntc.nokia.com [172.21.143.143])
	by mgw-mx03.nokia.com (Switch-3.2.6/Switch-3.2.6) with ESMTP id
	m29CGNu9009712; Sun, 9 Mar 2008 14:16:28 +0200
Received: from esebh103.NOE.Nokia.com ([172.21.143.33]) by
	esebh107.NOE.Nokia.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Sun, 9 Mar 2008 14:16:20 +0200
Received: from mgw-int02.ntc.nokia.com ([172.21.143.97]) by
	esebh103.NOE.Nokia.com over TLS secured channel with Microsoft
	SMTPSVC(6.0.3790.1830); Sun, 9 Mar 2008 14:16:20 +0200
Received: from [10.162.253.133] (essapo-nirac253133.europe.nokia.com
	[10.162.253.133])
	by mgw-int02.ntc.nokia.com (Switch-3.2.5/Switch-3.2.5) with ESMTP id
	m29CGCcT000674; Sun, 9 Mar 2008 14:16:13 +0200
From: Aki Niemi <aki.niemi@nokia.com>
To: ext Christer Holmberg <christer.holmberg@ericsson.com>
In-Reply-To: <CA9998CD4A020D418654FCDEF4E707DF04FD358C@esealmw113.eemea.ericsson.se>
References: <20080303185301.8A6B61819D7F@mail.iptel.org>
	<1ECE0EB50388174790F9694F77522CCF1549EC14@zrc2hxm0.corp.nortel.com>
	<CA9998CD4A020D418654FCDEF4E707DF04F13E49@esealmw113.eemea.ericsson.se>
	<458913680803060824m23e10d7eqa861a21266eb50b@mail.gmail.com>
	<4E690AA1-9E99-490D-B5EA-E4895E0B675A@ekabal.com>
	<CA9998CD4A020D418654FCDEF4E707DF04F7EF77@esealmw113.eemea.ericsson.se>
	<FFDDF533-F69C-4EC0-B19F-552373DF8035@ekabal.com>
	<CA9998CD4A020D418654FCDEF4E707DF04F7F043@esealmw113.eemea.ericsson.se>
	<1ECE0EB50388174790F9694F77522CCF1552C7E3@zrc2hxm0.corp.nortel.com>
	<CA9998CD4A020D418654FCDEF4E707DF04F7F548@esealmw113.eemea.ericsson.se>
	<CA9998CD4A020D418654FCDEF4E707DF04F7F892@esealmw113.eemea.ericsson.se>
	<91A487B8-CCCA-44B2-B73B-9A58D8CB9FE2@ekabal.com>
	<CA9998CD4A020D418654FCDEF4E707DF04FD3067@esealmw113.eemea.ericsson.se>
	<A7837C29-60EC-4434-9209-15831192DD00@softarmor.com>
	<CA9998CD4A020D418654FCDEF4E707DF046C7645@esealmw113.eemea.ericsson.se>
	<1205062259.22140.39.camel@lo calhost>
	<CA9998CD4A020D418654FCDEF4E707DF04FD358C@esealmw113.eemea.ericsson.se>
Organization: Nokia Devices R&D
Date: Sun, 09 Mar 2008 14:16:03 +0200
Message-Id: <1205064963.22140.70.camel@localhost>
Mime-Version: 1.0
X-Mailer: Evolution 2.12.1 
X-OriginalArrivalTime: 09 Mar 2008 12:16:20.0406 (UTC)
	FILETIME=[6220B560:01C881DF]
X-Nokia-AV: Clean
Cc: Cullen Jennings <fluffy@cisco.com>, Rohan Mahy <rohan@ekabal.com>,
	Xavier Marjou <xavier.marjou@orange-ftgroup.com>, sip@ietf.org,
	Francois Audet <audet@nortel.com>, Dean Willis <dean.willis@softarmor.com>
Subject: Re: [Sip] Outbound-12: STUN keep-alives without outbound
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


On su, 2008-03-09 at 12:38 +0100, ext Christer Holmberg wrote:
> Again, that is what I have proposed as an alternative. I have said that
> the UA should be allowed, when it sees the "ob" parameter in the Path,
> to use keep-alive even if the registrar does not support outbound.

What's there to stop it from doing just that?

Cheers,
Aki

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Sun Mar  9 05:34:35 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 3AF0728C1D6;
	Sun,  9 Mar 2008 05:34:35 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.809
X-Spam-Level: 
X-Spam-Status: No, score=-100.809 tagged_above=-999 required=5
	tests=[AWL=-0.372, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id z4Q7qGRLkw9y; Sun,  9 Mar 2008 05:34:34 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 2C3753A6BE8;
	Sun,  9 Mar 2008 05:34:34 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 1C59D28C1BD
	for <sip@core3.amsl.com>; Sun,  9 Mar 2008 05:34:33 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id JtsCRXH4s02x for <sip@core3.amsl.com>;
	Sun,  9 Mar 2008 05:34:32 -0700 (PDT)
Received: from mail120.messagelabs.com (mail120.messagelabs.com
	[216.82.250.83])
	by core3.amsl.com (Postfix) with ESMTP id 577FE3A6A50
	for <sip@ietf.org>; Sun,  9 Mar 2008 05:34:32 -0700 (PDT)
X-VirusChecked: Checked
X-Env-Sender: mdolly@att.com
X-Msg-Ref: server-6.tower-120.messagelabs.com!1205065929!22346196!1
X-StarScan-Version: 5.5.12.14.2; banners=-,-,-
X-Originating-IP: [144.160.20.54]
Received: (qmail 20094 invoked from network); 9 Mar 2008 12:32:10 -0000
Received: from sbcsmtp7.sbc.com (HELO mlpi135.enaf.sfdc.sbc.com)
	(144.160.20.54)
	by server-6.tower-120.messagelabs.com with AES256-SHA encrypted SMTP;
	9 Mar 2008 12:32:10 -0000
Received: from enaf.sfdc.sbc.com (localhost.localdomain [127.0.0.1])
	by mlpi135.enaf.sfdc.sbc.com (8.14.0/8.14.0) with ESMTP id
	m29CW91U013088 for <sip@ietf.org>; Sun, 9 Mar 2008 08:32:09 -0400
Received: from OCCLUST04EVS1.ugd.att.com (ocst08.ugd.att.com [135.38.164.13])
	by mlpi135.enaf.sfdc.sbc.com (8.14.0/8.14.0) with ESMTP id
	m29CW2A3013069 for <sip@ietf.org>; Sun, 9 Mar 2008 08:32:06 -0400
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Sun, 9 Mar 2008 07:32:02 -0500
Message-ID: <28F05913385EAC43AF019413F674A0171246EBFA@OCCLUST04EVS1.ugd.att.com>
In-Reply-To: <BDA86F95-90DA-48EE-93F3-666F13E284D4@cisco.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] Further revised SIP agenda
Thread-Index: AciBiBg/r1OkcuZsTWWkLJOxmrqGegAWXNUA
References: <28F05913385EAC43AF019413F674A0171246EBF7@OCCLUST04EVS1.ugd.att.com>
	<BDA86F95-90DA-48EE-93F3-666F13E284D4@cisco.com>
From: "DOLLY, MARTIN C, ATTLABS" <mdolly@att.com>
To: "Cullen Jennings" <fluffy@cisco.com>
Cc: IETF SIP List <sip@ietf.org>, "James Polk \(jmpolk\)" <jmpolk@cisco.com>,
	Dean Willis <dean.willis@softarmor.com>
Subject: Re: [Sip] Further revised SIP agenda
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Cullen,

Thanks,

Martin 

-----Original Message-----
From: Cullen Jennings [mailto:fluffy@cisco.com] 
Sent: Saturday, March 08, 2008 8:53 PM
To: DOLLY, MARTIN C, ATTLABS
Cc: James Polk (jmpolk); Dean Willis; IETF SIP List
Subject: Re: [Sip] Further revised SIP agenda


On Mar 8, 2008, at 7:31 PM, DOLLY, MARTIN C, ATTLABS wrote:

> The leadership comment is not to Dean/Keith, but to the AD's and
> IE..whatever you think you are

So the WG Chairs try and sort out the relative priorities of the stuff  
for the agenda - keep in mind they have a small faction of the time  
Dean wishes they had for SIP. If you think we should remove time from  
some other WG and add it to SIP,  let me know. Since this seems like  
primarily a topic of agenda time, let me know if some other sort of  
topic needs some leadership.

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Sun Mar  9 06:32:01 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id AA10D3A6B17;
	Sun,  9 Mar 2008 06:32:01 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.744
X-Spam-Level: 
X-Spam-Status: No, score=-100.744 tagged_above=-999 required=5
	tests=[AWL=-0.307, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id HercJEMuiBBP; Sun,  9 Mar 2008 06:32:00 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id B0F3A3A6BDC;
	Sun,  9 Mar 2008 06:32:00 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 516A83A68FC
	for <sip@core3.amsl.com>; Sun,  9 Mar 2008 06:31:58 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id ilvbd+dZPIbu for <sip@core3.amsl.com>;
	Sun,  9 Mar 2008 06:31:57 -0700 (PDT)
Received: from mailgw4.ericsson.se (mailgw4.ericsson.se [193.180.251.62])
	by core3.amsl.com (Postfix) with ESMTP id C6C243A6C17
	for <sip@ietf.org>; Sun,  9 Mar 2008 06:31:29 -0700 (PDT)
Received: from mailgw4.ericsson.se (unknown [127.0.0.1])
	by mailgw4.ericsson.se (Symantec Mail Security) with ESMTP id
	4CF98204AE; Sun,  9 Mar 2008 14:29:07 +0100 (CET)
X-AuditID: c1b4fb3e-aa991bb000004ec0-48-47d3e6233cbb
Received: from esealmw128.eemea.ericsson.se (unknown [153.88.254.121])
	by mailgw4.ericsson.se (Symantec Mail Security) with ESMTP id
	297CD20111; Sun,  9 Mar 2008 14:29:07 +0100 (CET)
Received: from esealmw113.eemea.ericsson.se ([153.88.200.4]) by
	esealmw128.eemea.ericsson.se with Microsoft SMTPSVC(6.0.3790.1830); 
	Sun, 9 Mar 2008 14:29:06 +0100
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Sun, 9 Mar 2008 14:29:02 +0100
Message-ID: <CA9998CD4A020D418654FCDEF4E707DF04FD3637@esealmw113.eemea.ericsson.se>
In-Reply-To: <1205064963.22140.70.camel@localhost>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] Outbound-12: STUN keep-alives without outbound
thread-index: AciB32uxkYXqnBysRgu4ZBz5qHx8AwACdHkg
References: <20080303185301.8A6B61819D7F@mail.iptel.org>
	<1ECE0EB50388174790F9694F77522CCF1549EC14@zrc2hxm0.corp.nortel.com>
	<CA9998CD4A020D418654FCDEF4E707DF04F13E49@esealmw113.eemea.ericsson.se>
	<458913680803060824m23e10d7eqa861a21266eb50b@mail.gmail.com>
	<4E690AA1-9E99-490D-B5EA-E4895E0B675A@ekabal.com>
	<CA9998CD4A020D418654FCDEF4E707DF04F7EF77@esealmw113.eemea.ericsson.se>
	<FFDDF533-F69C-4EC0-B19F-552373DF8035@ekabal.com>
	<CA9998CD4A020D418654FCDEF4E707DF04F7F043@esealmw113.eemea.ericsson.se>
	<1ECE0EB50388174790F9694F77522CCF1552C7E3@zrc2hxm0.corp.nortel.com>
	<CA9998CD4A020D418654FCDEF4E707DF04F7F548@esealmw113.eemea.ericsson.se>
	<CA9998CD4A020D418654FCDEF4E707DF04F7F892@esealmw113.eemea.ericsson.se>
	<91A487B8-CCCA-44B2-B73B-9A58D8CB9FE2@ekabal.com>
	<CA9998CD4A020D418654FCDEF4E707DF04FD3067@esealmw113.eemea.ericsson.se>
	<A7837C29-60EC-4434-9209-15831192DD00@softarmor.com>
	<CA9998CD4A020D418654FCDEF4E707DF046C7645@esealmw113.eemea.ericsson.se>
	<1205062259.22140.39.camel@lo calhost > <CA9998CD4
	A020D418654FCDEF4E707DF04FD358C@esealmw113.eemea.ericsson.se>
	<1205064963.22140.70.camel@localhost>
From: "Christer Holmberg" <christer.holmberg@ericsson.com>
To: "Aki Niemi" <aki.niemi@nokia.com>
X-OriginalArrivalTime: 09 Mar 2008 13:29:06.0827 (UTC)
	FILETIME=[8CB7ADB0:01C881E9]
X-Brightmail-Tracker: AAAAAA==
Cc: Cullen Jennings <fluffy@cisco.com>, Rohan Mahy <rohan@ekabal.com>,
	Xavier Marjou <xavier.marjou@orange-ftgroup.com>, sip@ietf.org,
	Francois Audet <audet@nortel.com>, Dean Willis <dean.willis@softarmor.com>
Subject: Re: [Sip] Outbound-12: STUN keep-alives without outbound
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


Hi, 

>>Again, that is what I have proposed as an alternative. I have said 
>>that the UA should be allowed, when it sees the "ob" 
>>parameter in the Path, to use keep-alive even if the registrar does
not 
>>support outbound.
> 
>What's there to stop it from doing just that?

Nothing, as far as I know.

I am only asking for some clarification text.

The draft currently says:

"The UAC examines successful registration responses for the presence
of an 'outbound' option-tag in a Require header field value.
Presence of this option-tag indicates that the registrar is compliant
with this specification, and that any edge proxies which needed to
participate are also compliant."

So, I think it would be good to add something like:

"If the registrar did not support outbound, but there was a path header
with the edge proxy URI
present in the 200 OK response to the REGISTER message, the UAC may
check 
whether the URI-parametyer "ob" is included in the URI. If so, then the
UAC knows that
outbound keepalives can be used even though the registrar does not
support outbound."

So, it's just a clarification...

Regards,

Christer
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Sun Mar  9 08:30:52 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id AD69328C180;
	Sun,  9 Mar 2008 08:30:52 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.397
X-Spam-Level: 
X-Spam-Status: No, score=-100.397 tagged_above=-999 required=5
	tests=[AWL=0.040, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 40rZ88scxRrz; Sun,  9 Mar 2008 08:30:51 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 303F53A6C9C;
	Sun,  9 Mar 2008 08:30:51 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 2A9AA3A6A6C
	for <sip@core3.amsl.com>; Sun,  9 Mar 2008 08:30:49 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id AsxNGH6CuO3F for <sip@core3.amsl.com>;
	Sun,  9 Mar 2008 08:30:47 -0700 (PDT)
Received: from etmail.acmepacket.com (host6.216.41.24.conversent.net
	[216.41.24.6]) by core3.amsl.com (Postfix) with ESMTP id 995283A68A8
	for <sip@ietf.org>; Sun,  9 Mar 2008 08:30:47 -0700 (PDT)
Received: from mail.acmepacket.com (216.41.24.7) by etmail.acmepacket.com
	(216.41.24.6) with Microsoft SMTP Server (TLS) id 8.1.240.5;
	Sun, 9 Mar 2008 11:28:07 -0400
Received: from mail.acmepacket.com ([216.41.24.7]) by mail.acmepacket.com
	([216.41.24.7]) with mapi; Sun, 9 Mar 2008 11:28:07 -0400
From: Hadriel Kaplan <HKaplan@acmepacket.com>
To: Christer Holmberg <christer.holmberg@ericsson.com>, Sean Olson
	<Sean.Olson@microsoft.com>, "Markus.Isomaki@nokia.com"
	<Markus.Isomaki@nokia.com>, "jdrosen@cisco.com" <jdrosen@cisco.com>
Date: Sun, 9 Mar 2008 11:27:08 -0400
Thread-Topic: [Sip] Comments on TOTE
Thread-Index: Ach6Rz3yvChfWvmlTs2W/7laMQUYXAF3zPdAABt2PIAAKSDHYAAFpfPgAAAhAHAAIitbEAAIQPTg
Message-ID: <E6C2E8958BA59A4FB960963D475F7AC30BC9B768D9@mail.acmepacket.com>
References: <47C54730.5030501@nsn.com><47C5DCA6.9080302@cisco.com><47C680E3.2030803@nsn.com><47C6C841.2010201@cisco.com><47C6D42D.8040506@nsn.com><E6C2E8958BA59A4FB960963D475F7AC30BC782C9B1@mail.acmepacket.com><47C6F8CA.2080305@cisco.com><E6C2E8958BA59A4FB960963D475F7AC30BC782CC3B@mail.acmepacket.com><47C71685.7060206@cisco.com><C84E0A4ABA6DD74DA5221E0833A35DF30A730DA7@esebe101.NOE.Nokia.com><4C1596FBF66C67478BCFE7B3F81FC1E03FBE17741A@DF-MASTIFF-MSG.exchange.corp.microsoft.com><E6C2E8958BA59A4FB960963D475F7AC30BC8CAA3A3@mail.acmepacket.com><4C1596FBF66C67478BCFE7B3F81FC1E03FBE1775EF@DF-MASTIFF-MSG.exchange.corp.microsoft.com>
	<E6C2E8958BA59A4FB960963D475F7AC30BC8CAA3D7@mail.acmepacket.com>
	<CA9998CD4A020D418654FCDEF4E707DF04FD356A@esealmw113.eemea.ericsson.se>
In-Reply-To: <CA9998CD4A020D418654FCDEF4E707DF04FD356A@esealmw113.eemea.ericsson.se>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
acceptlanguage: en-US
MIME-Version: 1.0
Cc: "sip@ietf.org" <sip@ietf.org>
Subject: Re: [Sip] Comments on TOTE
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

[this is actually a discussion that belongs in simple, but oh well]

I would agree with you - we thought the same thing.  But my customers are telling me otherwise.

-hadriel

> -----Original Message-----
> From: Christer Holmberg [mailto:christer.holmberg@ericsson.com]
> Sent: Sunday, March 09, 2008 7:32 AM
> To: Hadriel Kaplan; Sean Olson; Markus.Isomaki@nokia.com;
> jdrosen@cisco.com
> Cc: sip@ietf.org
> Subject: RE: [Sip] Comments on TOTE
>
>
> Hi,
>
> I think MSRP would work will for ICE/TURN, without the need for
> dedicated MSRP relays, if the routing was based on the SDP c/m- lines
> (like normal media plane traffic) instead of the MSRP specific routing
> attributes/parameters. That would also make MSRP more "SBC friendly",
> because there is no need to modify information in the MSRP message
> itself.
>
> I BELIEVE (maybe someone with more information can verify) that is also
> how OMA has specified usage and NAT traversal of MSRP.
>
> Regards,
>
> Christer
>
> > -----Original Message-----
> > From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On
> > Behalf Of Hadriel Kaplan
> > Sent: 9. maaliskuuta 2008 5:11
> > To: Sean Olson; Markus.Isomaki@nokia.com; jdrosen@cisco.com
> > Cc: sip@ietf.org
> > Subject: Re: [Sip] Comments on TOTE
> >
> > Oh I don't doubt TURN is used, and successfully.  As far as I
> > am aware, though, it's a drop in the bucket of the deployed
> > SIP networks.  (of course that view could be completely wrong
> > due to the types of customers I serve)  My understanding is
> > one of the bigger ones that uses TURN for voip uses XMPP for
> > IM, not MSRP.
> >
> > An app server could be on the public Internet, in theory, as
> > much as a Turn server would or web servers or whatever.
> > Since it is frequently terminating the TCP connection for
> > MSRP, it could be the one being the public TCP server address
> > for the connection from the client.  That's not to say that
> > TURN shouldn't or wouldn't be used for MSRP, just that it's
> > not necessary in some environments for NAT traversal.  And
> > the more environments that can be supported, the more
> > reachable users there will be, and the more valuable it becomes.
> >
> > -hadriel
> >
> > > -----Original Message-----
> > > From: Sean Olson [mailto:Sean.Olson@microsoft.com]
> > > Sent: Saturday, March 08, 2008 2:08 PM
> > > To: Hadriel Kaplan; Markus.Isomaki@nokia.com; jdrosen@cisco.com
> > > Cc: sip@ietf.org
> > > Subject: RE: Comments on TOTE
> > >
> > > I may be a bit biased because we are successfully using
> > ICE/TURN today
> > > for audio/video.  It's not perfect but better than anything
> > else we've found.
> > > How would an app server help with the firewall traversal problem?
> > >
> > > -----Original Message-----
> > > From: Hadriel Kaplan [mailto:HKaplan@acmepacket.com]
> > > Sent: Saturday, March 08, 2008 10:12 AM
> > > To: Sean Olson; Markus.Isomaki@nokia.com; jdrosen@cisco.com
> > > Cc: sip@ietf.org
> > > Subject: RE: Comments on TOTE
> > >
> > >
> > > Yes.  Currently MSRP does not support ICE, but that could
> > be fixed I
> > > think, if we break the current binding between MSRP path
> > URI and the
> > > TCP socket address/port, and add the ability for either
> > side to open
> > > the connection.
> > >
> > > The second issue is that TURN doesn't work in some (rather common)
> > > deployment models, because the address that would have to
> > be allocated
> > > depends on where the SIP signaling goes.  It is not
> > knowable a priori.
> > >
> > > The third issue is that ICE isn't allowed in some (rather common)
> > > deployment models, due to security policies which require the IP
> > > Addresses of client hosts to be hidden from entities
> > outside the trust domain.
> > > Although this is an issue for MSRP as well.
> > >
> > > The fourth issue is that it requires TURN servers, which
> > are not that
> > > common, afaict, whereas App Servers are.
> > >
> > > The fifth issue is that it adds complexity which XMPP does
> > not have,
> > > which makes XMPP more attractive. (not that there's anything wrong
> > > with that, but you want to have as many users using the
> > same protocol
> > > as possible, to make it worth using that protocol - Metcalfe's law
> > > basically)
> > >
> > > -hadriel
> > >
> > > > -----Original Message-----
> > > > From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org]
> > On Behalf
> > > > Of
> > > Sean
> > > > Olson
> > > > Sent: Friday, March 07, 2008 3:47 PM
> > > > To: Markus.Isomaki@nokia.com; jdrosen@cisco.com
> > > > Cc: sip@ietf.org
> > > > Subject: Re: [Sip] Comments on TOTE
> > > >
> > > > Is there anything that would prevent MSRP from working
> > over ICE/TURN?
> > > >
> > > > -----Original Message-----
> > > > From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org]
> > On Behalf
> > > > Of Markus.Isomaki@nokia.com
> > > > Sent: Friday, March 07, 2008 12:36 AM
> > > > To: jdrosen@cisco.com
> > > > Cc: sip@ietf.org
> > > > Subject: [Sip] Comments on TOTE
> > > >
> > > > Hi,
> > > >
> > > > Here are my views on
> > > > http://tools.ietf.org/id/draft-rosenberg-sip-tote-00.txt:
> > > >
> > > > In general there are a lot of things in like about this
> > approach. I
> > > > think we definitely need a light-weight, TLS/TCP-based,
> > end-to-end
> > > > oriented transport mechanism, with a good NAT traversal
> > story. There
> > > > are many use cases for such a mechanism, so instead of
> > developing a
> > > > specific one for each of them, it is better to have a
> > common baseline.
> > > > Utilization of ICE-TCP and TURN should be a basic
> > requirement here,
> > > > and TOTE is indeed using them.
> > > >
> > > > The main issue I see is that MSRP already occupies part
> > of that space.
> > > > However, MSRP is not a perfect match. It requires its own
> > specific
> > > > relays instead of of being able to use TURN. End-to-end
> > security is
> > > > based on S/MIME instead of TLS. It includes a lot of per-message
> > > > overhead and also the fragmentation, re-assembly and
> > reporting make
> > > > it complicated. Furthermore I'm not convinced a yet how
> > the muxing
> > > > of sessions between relays really works: Based on SIMPLE-list, at
> > > > least two
> > > > (independent) implementers have tried to produce a relay
> > like that,
> > > > but have concluded that it is not doable. I don't know if other
> > > > relay implementations exist. The IMS and OMA folks prefer B2BUAs
> > > > over relays for MSRP NAT traversal, and that is the only
> > space I can
> > > > see some serious implementation/deployment of MSRP. (This
> > might be
> > > > because most people who were originally interested in SIP IM have
> > > > now switched to
> > > > XMPP.) Well, I haven't seen much happening with
> > ICE/TURN-TCP either,
> > > > but that could be a chicken-and-egg problem that
> > something like TOTE
> > > > could solve. It would be of course helpful if people who came up
> > > > with MSRP relay/muxing/chunking requirements would
> > indicate if they
> > > > still see that model valid (for customers of MSRP/IM) and if they
> > > > see a lot of deployment potential for the protocol.
> > > >
> > > > I also like the model where baseline TOTE would be like SUB/NOT
> > > > framework, while the actual usages would be analogous to
> > event packages.
> > > > It would be very helpful for developers of new usages if
> > there was a
> > > > well-defined and well-working baseline that solved some
> > hard issues
> > > > like NAT traversal, e2e security and provided some tools
> > for session
> > > > negotiation. I'd be quite liberal about the usages
> > themselves, but
> > > > of course the IETF should immediately charter
> > standards-track work
> > > > on some of the key ones.
> > > >
> > > > I'm co-author of draft-ietf-mmusic-file-transfer-mech
> > (file transfer
> > > > O/A and MSRP-based transport), so I share the concerns
> > that Miguel
> > > > already brought up in an earlier mail. Though, had TOTE
> > existed when
> > > > we started with file transfer draft, I'm certain we would have
> > > > chosen it instead of MSRP. We tried our best in the draft to
> > > > actually decouple the offer/answer part from the transport,
> > > > envisioning that some day there might be something like
> > TOTE to run
> > > > over. Now that the work is already quite far and there
> > actually are
> > > > a few implementations of the draft (not much in public, but for
> > > > instance GSMA has had an interop event for image-sharing based on
> > > > the draft), it would be non-constructive to develop file transfer
> > > > with TOTE from the scratch. It would be better to see if the O/A
> > > > model could be sustained while providing an alternative transport.
> > > >
> > > > Another concern is that it took something like over 5
> > years from the
> > > > start to get MSRP to RFC. How long will it take for TOTE?
> > I already
> > > > see such risk if we get stuck in arguments about the MIME
> > > > usage/negotiation model and so on, where there's probably
> > no clear
> > > > answer, so they could be debated forever. Yet another
> > risk is that
> > > > TOTE is already too late and people with use cases for it are
> > > > committed to something else (MSRP, media-control stuff). So, it
> > > > would be useful to probe if people really would have use
> > cases for
> > > > it in their UA products, or would it be only of academic interest.
> > > >
> > > > So, as a summary I'm positive of going forward with TOTE,
> > but there
> > > > are issues wrt. overlap with MSRP and the market
> > adoption, which we
> > > > need to quantify a bit first.
> > > >
> > > > Markus
> > > >
> > > >
> > > >
> > > >
> > > >
> > > > _______________________________________________
> > > > Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> > > > This list is for NEW development of the core SIP Protocol Use
> > > > sip-implementors@cs.columbia.edu for questions on current sip Use
> > > > sipping@ietf.org for new developments on the application of sip
> > > > _______________________________________________
> > > > Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> > > > This list is for NEW development of the core SIP Protocol Use
> > > > sip-implementors@cs.columbia.edu for questions on current sip Use
> > > > sipping@ietf.org for new developments on the application of sip
> > _______________________________________________
> > Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> > This list is for NEW development of the core SIP Protocol Use
> > sip-implementors@cs.columbia.edu for questions on current sip
> > Use sipping@ietf.org for new developments on the application of sip
> >
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Sun Mar  9 08:52:29 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 11E9828C2AF;
	Sun,  9 Mar 2008 08:52:29 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -99.918
X-Spam-Level: 
X-Spam-Status: No, score=-99.918 tagged_above=-999 required=5
	tests=[AWL=-0.103, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	FM_FORGED_GMAIL=0.622, HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1,
	USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id ykCMXkWkb2Sl; Sun,  9 Mar 2008 08:52:27 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 2A6AA28C203;
	Sun,  9 Mar 2008 08:52:27 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 9A3CD28C251
	for <sip@core3.amsl.com>; Sun,  9 Mar 2008 08:52:24 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id K7PXJzu0OrNc for <sip@core3.amsl.com>;
	Sun,  9 Mar 2008 08:52:23 -0700 (PDT)
Received: from hs-out-0708.google.com (hs-out-0708.google.com [64.233.178.249])
	by core3.amsl.com (Postfix) with ESMTP id 6320D28C1E8
	for <sip@ietf.org>; Sun,  9 Mar 2008 08:52:03 -0700 (PDT)
Received: by hs-out-0708.google.com with SMTP id 4so1120068hsl.5
	for <sip@ietf.org>; Sun, 09 Mar 2008 08:49:42 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=gamma;
	h=domainkey-signature:received:received:message-id:date:from:sender:to:subject:cc:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references:x-google-sender-auth;
	bh=V5THPONNUOgtDk19RRkoY5I6cbJF4AO6vESwui98PQ4=;
	b=uSE74NO57YimLcuekcoBzMDRbh3Rs+CHxmInUqUV2XQ4Dr/+eeCcvaLopF99LgJjCff1dr1Iy0GQNapkyMmk2PopCL/cTwZg661cDOlSRQsqy7g2lALlrwbfQdUPynhCUenph2/m+AJj40/bOsWyeNnUcIoZUWj3DFJ4ug8A3l0=
DomainKey-Signature: a=rsa-sha1; c=nofws; d=gmail.com; s=gamma;
	h=message-id:date:from:sender:to:subject:cc:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references:x-google-sender-auth;
	b=IluTdcaETat00em9duoRRb0G9XaURvR4W3fxvKhhXS0jIhv2Lwd3NJxWIvG9y+IpwsHjeDjgkV8TX/qzgVFqpZEtW3QnYN2voZNP2LGsuL3WmsZoHkO1MsdAAEJWrzdB0qbCWktW9odeStXjmQ1FyUZGo7ignQmKMJbfEndLtc0=
Received: by 10.114.175.16 with SMTP id x16mr1987223wae.116.1205077781269;
	Sun, 09 Mar 2008 08:49:41 -0700 (PDT)
Received: by 10.115.72.7 with HTTP; Sun, 9 Mar 2008 08:49:41 -0700 (PDT)
Message-ID: <458913680803090849j30a67b04la114b1cd3aa473a0@mail.gmail.com>
Date: Sun, 9 Mar 2008 16:49:41 +0100
From: "Xavier Marjou" <xavier.marjou@orange-ftgroup.com>
To: "Christer Holmberg" <christer.holmberg@ericsson.com>
In-Reply-To: <CA9998CD4A020D418654FCDEF4E707DF04FD3637@esealmw113.eemea.ericsson.se>
MIME-Version: 1.0
Content-Disposition: inline
References: <20080303185301.8A6B61819D7F@mail.iptel.org>
	<1ECE0EB50388174790F9694F77522CCF1552C7E3@zrc2hxm0.corp.nortel.com>
	<CA9998CD4A020D418654FCDEF4E707DF04F7F548@esealmw113.eemea.ericsson.se>
	<CA9998CD4A020D418654FCDEF4E707DF04F7F892@esealmw113.eemea.ericsson.se>
	<91A487B8-CCCA-44B2-B73B-9A58D8CB9FE2@ekabal.com>
	<CA9998CD4A020D418654FCDEF4E707DF04FD3067@esealmw113.eemea.ericsson.se>
	<A7837C29-60EC-4434-9209-15831192DD00@softarmor.com>
	<CA9998CD4A020D418654FCDEF4E707DF046C7645@esealmw113.eemea.ericsson.se>
	<1205064963.22140.70.camel@localhost>
	<CA9998CD4A020D418654FCDEF4E707DF04FD3637@esealmw113.eemea.ericsson.se>
X-Google-Sender-Auth: 030ea7314195941e
Cc: Cullen Jennings <fluffy@cisco.com>, Rohan Mahy <rohan@ekabal.com>,
	sip@ietf.org, Francois Audet <audet@nortel.com>,
	Aki Niemi <aki.niemi@nokia.com>, Dean Willis <dean.willis@softarmor.com>
Subject: Re: [Sip] Outbound-12: STUN keep-alives without outbound
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

It would be great if the only thing to do could be to add such a
precision. This would encourage the incremental deployment of some
outbound draft features even if the registrar does not support
outbound.

Xavier



On Sun, Mar 9, 2008 at 2:29 PM, Christer Holmberg
<christer.holmberg@ericsson.com> wrote:
>
>  Hi,
>
>
>  >>Again, that is what I have proposed as an alternative. I have said
>  >>that the UA should be allowed, when it sees the "ob"
>  >>parameter in the Path, to use keep-alive even if the registrar does
>  not
>  >>support outbound.
>  >
>  >What's there to stop it from doing just that?
>
>  Nothing, as far as I know.
>
>  I am only asking for some clarification text.
>
>  The draft currently says:
>
>  "The UAC examines successful registration responses for the presence
>  of an 'outbound' option-tag in a Require header field value.
>  Presence of this option-tag indicates that the registrar is compliant
>  with this specification, and that any edge proxies which needed to
>  participate are also compliant."
>
>  So, I think it would be good to add something like:
>
>  "If the registrar did not support outbound, but there was a path header
>  with the edge proxy URI
>  present in the 200 OK response to the REGISTER message, the UAC may
>  check
>  whether the URI-parametyer "ob" is included in the URI. If so, then the
>  UAC knows that
>  outbound keepalives can be used even though the registrar does not
>  support outbound."
>
>  So, it's just a clarification...
>
>  Regards,
>
>  Christer
>
>
> _______________________________________________
>  Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
>  This list is for NEW development of the core SIP Protocol
>  Use sip-implementors@cs.columbia.edu for questions on current sip
>  Use sipping@ietf.org for new developments on the application of sip
>
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Sun Mar  9 13:02:24 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id BF28828C27C;
	Sun,  9 Mar 2008 13:02:24 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.883
X-Spam-Level: 
X-Spam-Status: No, score=-100.883 tagged_above=-999 required=5
	tests=[AWL=-0.446, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id JDxf7BBH1NkE; Sun,  9 Mar 2008 13:02:23 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 654783A6BCC;
	Sun,  9 Mar 2008 13:02:23 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 2DC3E3A6C93
	for <sip@core3.amsl.com>; Sun,  9 Mar 2008 13:02:22 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id YE9uqZ7N1WqW for <sip@core3.amsl.com>;
	Sun,  9 Mar 2008 13:02:21 -0700 (PDT)
Received: from sj-iport-6.cisco.com (sj-iport-6.cisco.com [171.71.176.117])
	by core3.amsl.com (Postfix) with ESMTP id CF8DA3A6BAB
	for <sip@ietf.org>; Sun,  9 Mar 2008 13:02:20 -0700 (PDT)
Received: from sj-dkim-4.cisco.com ([171.71.179.196])
	by sj-iport-6.cisco.com with ESMTP; 09 Mar 2008 13:00:00 -0700
Received: from sj-core-1.cisco.com (sj-core-1.cisco.com [171.71.177.237])
	by sj-dkim-4.cisco.com (8.12.11/8.12.11) with ESMTP id m29K00Yh007401; 
	Sun, 9 Mar 2008 13:00:00 -0700
Received: from [192.168.16.100] (sjc-vpn3-1093.cisco.com [10.21.68.69])
	by sj-core-1.cisco.com (8.12.10/8.12.6) with ESMTP id m29Jxon1008965;
	Sun, 9 Mar 2008 19:59:50 GMT
Message-Id: <473FD3ED-30A1-463C-91E1-6BAF9DA3E2B1@cisco.com>
From: Cullen Jennings <fluffy@cisco.com>
To: Dean Willis <dean.willis@softarmor.com>
In-Reply-To: <458913680803090849j30a67b04la114b1cd3aa473a0@mail.gmail.com>
Mime-Version: 1.0 (Apple Message framework v919.2)
Date: Sun, 9 Mar 2008 16:01:59 -0400
References: <20080303185301.8A6B61819D7F@mail.iptel.org>
	<1ECE0EB50388174790F9694F77522CCF1552C7E3@zrc2hxm0.corp.nortel.com>
	<CA9998CD4A020D418654FCDEF4E707DF04F7F548@esealmw113.eemea.ericsson.se>
	<CA9998CD4A020D418654FCDEF4E707DF04F7F892@esealmw113.eemea.ericsson.se>
	<91A487B8-CCCA-44B2-B73B-9A58D8CB9FE2@ekabal.com>
	<CA9998CD4A020D418654FCDEF4E707DF04FD3067@esealmw113.eemea.ericsson.se>
	<A7837C29-60EC-4434-9209-15831192DD00@softarmor.com>
	<CA9998CD4A020D418654FCDEF4E707DF046C7645@esealmw113.eemea.ericsson.se>
	<1205064963.22140.70.camel@localhost>
	<CA9998CD4A020D418654FCDEF4E707DF04FD3637@esealmw113.eemea.ericsson.se>
	<458913680803090849j30a67b04la114b1cd3aa473a0@mail.gmail.com>
X-Mailer: Apple Mail (2.919.2)
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; l=2639; t=1205092800;
	x=1205956800; c=relaxed/simple; s=sjdkim4002;
	h=Content-Type:From:Subject:Content-Transfer-Encoding:MIME-Version;
	d=cisco.com; i=fluffy@cisco.com;
	z=From:=20Cullen=20Jennings=20<fluffy@cisco.com>
	|Subject:=20Re=3A=20[Sip]=20Outbound-12=3A=20STUN=20keep-al
	ives=20without=20outbound |Sender:=20;
	bh=3bJi1Ja3dxO1apSuRnGndq4eZwaaYS4yZBm+aF2dkKM=;
	b=pWcwAYCz4N8mY8yNy9Hrzo766Y6BzJGWC75uthxYBmUy4w/mu4YLYiNr07
	CyLdzNF9KxgO1ocyTjWPNaInEyRBhLoRNpvKtFO3JdMHna6Le56judj0hHZb
	97nd8BvHy9;
Authentication-Results: sj-dkim-4; header.From=fluffy@cisco.com; dkim=pass (
	sig from cisco.com/sjdkim4002 verified; ); 
Cc: SIP <sip@ietf.org>, Rohan Mahy <rohan@ekabal.com>,
	Francois Audet <audet@nortel.com>, Aki Niemi <aki.niemi@nokia.com>,
	Christer Holmberg <christer.holmberg@ericsson.com>
Subject: Re: [Sip] Outbound-12: STUN keep-alives without outbound
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


I'm not saying the draft is right or wrong with regards to keep alive.  
We have not had any new information about requirements for keep alive  
than what we have 2 or more years ago. But, every single meeting we  
seem to change the keep alive mechanism. In many meetings we achieved  
strong consensus on how it should work, then a very few people on the  
list have argued for something different and we have changed it. We  
will never finish if we keep doing this.

Cullen <with my individual contributor hat on>


On Mar 9, 2008, at 11:49 AM, Xavier Marjou wrote:

> It would be great if the only thing to do could be to add such a
> precision. This would encourage the incremental deployment of some
> outbound draft features even if the registrar does not support
> outbound.
>
> Xavier
>
>
>
> On Sun, Mar 9, 2008 at 2:29 PM, Christer Holmberg
> <christer.holmberg@ericsson.com> wrote:
> >
> >  Hi,
> >
> >
> >  >>Again, that is what I have proposed as an alternative. I have  
> said
> >  >>that the UA should be allowed, when it sees the "ob"
> >  >>parameter in the Path, to use keep-alive even if the registrar  
> does
> >  not
> >  >>support outbound.
> >  >
> >  >What's there to stop it from doing just that?
> >
> >  Nothing, as far as I know.
> >
> >  I am only asking for some clarification text.
> >
> >  The draft currently says:
> >
> >  "The UAC examines successful registration responses for the  
> presence
> >  of an 'outbound' option-tag in a Require header field value.
> >  Presence of this option-tag indicates that the registrar is  
> compliant
> >  with this specification, and that any edge proxies which needed to
> >  participate are also compliant."
> >
> >  So, I think it would be good to add something like:
> >
> >  "If the registrar did not support outbound, but there was a path  
> header
> >  with the edge proxy URI
> >  present in the 200 OK response to the REGISTER message, the UAC may
> >  check
> >  whether the URI-parametyer "ob" is included in the URI. If so,  
> then the
> >  UAC knows that
> >  outbound keepalives can be used even though the registrar does not
> >  support outbound."
> >
> >  So, it's just a clarification...
> >
> >  Regards,
> >
> >  Christer
> >
> >
> > _______________________________________________
> >  Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> >  This list is for NEW development of the core SIP Protocol
> >  Use sip-implementors@cs.columbia.edu for questions on current sip
> >  Use sipping@ietf.org for new developments on the application of sip
> >

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Sun Mar  9 14:08:40 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 9D3DE28C1AE;
	Sun,  9 Mar 2008 14:08:40 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.739
X-Spam-Level: 
X-Spam-Status: No, score=-100.739 tagged_above=-999 required=5
	tests=[AWL=-0.302, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id vKoG1LnKegLh; Sun,  9 Mar 2008 14:08:39 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 706A33A6939;
	Sun,  9 Mar 2008 14:08:39 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 70C8D3A6939
	for <sip@core3.amsl.com>; Sun,  9 Mar 2008 14:08:37 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id A-hIpkL5r3NY for <sip@core3.amsl.com>;
	Sun,  9 Mar 2008 14:08:36 -0700 (PDT)
Received: from mailgw3.ericsson.se (mailgw3.ericsson.se [193.180.251.60])
	by core3.amsl.com (Postfix) with ESMTP id 384383A67C0
	for <sip@ietf.org>; Sun,  9 Mar 2008 14:08:36 -0700 (PDT)
Received: from mailgw3.ericsson.se (unknown [127.0.0.1])
	by mailgw3.ericsson.se (Symantec Mail Security) with ESMTP id
	D458020699; Sun,  9 Mar 2008 22:06:13 +0100 (CET)
X-AuditID: c1b4fb3c-ac898bb00000193b-25-47d45145270f
Received: from esealmw126.eemea.ericsson.se (unknown [153.88.254.123])
	by mailgw3.ericsson.se (Symantec Mail Security) with ESMTP id
	AACCB203CD; Sun,  9 Mar 2008 22:06:13 +0100 (CET)
Received: from esealmw113.eemea.ericsson.se ([153.88.200.4]) by
	esealmw126.eemea.ericsson.se with Microsoft SMTPSVC(6.0.3790.1830); 
	Sun, 9 Mar 2008 22:06:13 +0100
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Sun, 9 Mar 2008 22:06:10 +0100
Message-ID: <CA9998CD4A020D418654FCDEF4E707DF04FD3823@esealmw113.eemea.ericsson.se>
In-Reply-To: <473FD3ED-30A1-463C-91E1-6BAF9DA3E2B1@cisco.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] Outbound-12: STUN keep-alives without outbound
thread-index: AciCICmxoGCgnz0VR26usX67Zk+SewABpIJQ
References: <20080303185301.8A6B61819D7F@mail.iptel.org>
	<1ECE0EB50388174790F9694F77522CCF1552C7E3@zrc2hxm0.corp.nortel.com>
	<CA9998CD4A020D418654FCDEF4E707DF04F7F548@esealmw113.eemea.ericsson.se>
	<CA9998CD4A020D418654FCDEF4E707DF04F7F892@esealmw113.eemea.ericsson.se>
	<91A487B8-CCCA-44B2-B73B-9A58D8CB9FE2@ekabal.com>
	<CA9998CD4A020D418654FCDEF4E707DF04FD3067@esealmw113.eemea.ericsson.se>
	<A7837C29-60EC-4434-9209-15831192DD00@softarmor.com>
	<CA9998CD4A020D418654FCDEF4E707DF046C7645@esealmw113.eemea.ericsson.se>
	<1205064963.22140.70.camel@localhost>
	<CA9998CD4A020D418654FCDEF4E707DF04FD3637@esealmw113.eemea.ericsson.se>
	<458913680803090849j30a67b04la114b1cd3aa473a0@mail.gmail.com>
	<473FD3ED-30A1-463C-91E1-6BAF9DA3E2B1@cisco.com>
From: "Christer Holmberg" <christer.holmberg@ericsson.com>
To: "Cullen Jennings" <fluffy@cisco.com>,
	"Dean Willis" <dean.willis@softarmor.com>
X-OriginalArrivalTime: 09 Mar 2008 21:06:13.0445 (UTC)
	FILETIME=[68417750:01C88229]
X-Brightmail-Tracker: AAAAAA==
Cc: SIP <sip@ietf.org>, Rohan Mahy <rohan@ekabal.com>,
	Francois Audet <audet@nortel.com>, Aki Niemi <aki.niemi@nokia.com>
Subject: Re: [Sip] Outbound-12: STUN keep-alives without outbound
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


Hi Cullen,

Believe me, I want to finish this draft as fast as you (and many
others).

So, all I am asking for is for a few lines of clarification text. It
doesn't change anything, or reintroduce any parameters. I think even Aki
said that what I now propose is already allowed, so it would just be a
clarification.

I also think it's unfair of blaming me for coming with new requirements.
Already 2 years ago you, me and Rohan agreed to allow to outbound proxy
to indicate support of keep-alive, and it was in the draft until version
-12. But, again, I don't mind having it in a separate draft, in order to
progress the outbound draft. Again, as far as the outbound draft is
concerned, all I ask for is a few words of to clarify something which
people say IS already allowed.

Regards,

Christer


> -----Original Message-----
> From: Cullen Jennings [mailto:fluffy@cisco.com] 
> Sent: 9. maaliskuuta 2008 22:02
> To: Dean Willis
> Cc: Christer Holmberg; Aki Niemi; Rohan Mahy; SIP; Francois Audet
> Subject: Re: [Sip] Outbound-12: STUN keep-alives without outbound
> 
> 
> I'm not saying the draft is right or wrong with regards to 
> keep alive.  
> We have not had any new information about requirements for 
> keep alive than what we have 2 or more years ago. But, every 
> single meeting we seem to change the keep alive mechanism. In 
> many meetings we achieved strong consensus on how it should 
> work, then a very few people on the list have argued for 
> something different and we have changed it. We will never 
> finish if we keep doing this.
> 
> Cullen <with my individual contributor hat on>
> 
> 
> On Mar 9, 2008, at 11:49 AM, Xavier Marjou wrote:
> 
> > It would be great if the only thing to do could be to add such a 
> > precision. This would encourage the incremental deployment of some 
> > outbound draft features even if the registrar does not support 
> > outbound.
> >
> > Xavier
> >
> >
> >
> > On Sun, Mar 9, 2008 at 2:29 PM, Christer Holmberg 
> > <christer.holmberg@ericsson.com> wrote:
> > >
> > >  Hi,
> > >
> > >
> > >  >>Again, that is what I have proposed as an alternative. I have
> > said
> > >  >>that the UA should be allowed, when it sees the "ob"
> > >  >>parameter in the Path, to use keep-alive even if the registrar
> > does
> > >  not
> > >  >>support outbound.
> > >  >
> > >  >What's there to stop it from doing just that?
> > >
> > >  Nothing, as far as I know.
> > >
> > >  I am only asking for some clarification text.
> > >
> > >  The draft currently says:
> > >
> > >  "The UAC examines successful registration responses for the
> > presence
> > >  of an 'outbound' option-tag in a Require header field value.
> > >  Presence of this option-tag indicates that the registrar is
> > compliant
> > >  with this specification, and that any edge proxies which 
> needed to  
> > > participate are also compliant."
> > >
> > >  So, I think it would be good to add something like:
> > >
> > >  "If the registrar did not support outbound, but there was a path
> > header
> > >  with the edge proxy URI
> > >  present in the 200 OK response to the REGISTER message, 
> the UAC may  
> > > check  whether the URI-parametyer "ob" is included in the URI. If 
> > > so,
> > then the
> > >  UAC knows that
> > >  outbound keepalives can be used even though the 
> registrar does not  
> > > support outbound."
> > >
> > >  So, it's just a clarification...
> > >
> > >  Regards,
> > >
> > >  Christer
> > >
> > >
> > > _______________________________________________
> > >  Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> > >  This list is for NEW development of the core SIP Protocol  Use 
> > > sip-implementors@cs.columbia.edu for questions on current 
> sip  Use 
> > > sipping@ietf.org for new developments on the application of sip
> > >
> 
> 
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Sun Mar  9 14:14:43 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 642C928C25A;
	Sun,  9 Mar 2008 14:14:43 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.888
X-Spam-Level: 
X-Spam-Status: No, score=-100.888 tagged_above=-999 required=5
	tests=[AWL=-0.451, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id UcDuAHGHuNxa; Sun,  9 Mar 2008 14:14:42 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 2BD383A6A16;
	Sun,  9 Mar 2008 14:14:42 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 0C4393A6B4C
	for <sip@core3.amsl.com>; Sun,  9 Mar 2008 14:14:41 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id QydnRxboMhyH for <sip@core3.amsl.com>;
	Sun,  9 Mar 2008 14:14:39 -0700 (PDT)
Received: from sj-iport-6.cisco.com (sj-iport-6.cisco.com [171.71.176.117])
	by core3.amsl.com (Postfix) with ESMTP id DFA793A6A16
	for <sip@ietf.org>; Sun,  9 Mar 2008 14:14:39 -0700 (PDT)
Received: from sj-dkim-3.cisco.com ([171.71.179.195])
	by sj-iport-6.cisco.com with ESMTP; 09 Mar 2008 14:12:19 -0700
Received: from sj-core-5.cisco.com (sj-core-5.cisco.com [171.71.177.238])
	by sj-dkim-3.cisco.com (8.12.11/8.12.11) with ESMTP id m29LCJYl021973; 
	Sun, 9 Mar 2008 14:12:19 -0700
Received: from [192.168.16.100] (sjc-vpn3-1093.cisco.com [10.21.68.69])
	by sj-core-5.cisco.com (8.12.10/8.12.6) with ESMTP id m29LCDXK001018;
	Sun, 9 Mar 2008 21:12:17 GMT
Message-Id: <2750F6E0-DA3B-421B-9BFF-0BFAF6EBFA15@cisco.com>
From: Cullen Jennings <fluffy@cisco.com>
To: Christer Holmberg <christer.holmberg@ericsson.com>
In-Reply-To: <CA9998CD4A020D418654FCDEF4E707DF04FD3823@esealmw113.eemea.ericsson.se>
Mime-Version: 1.0 (Apple Message framework v919.2)
Date: Sun, 9 Mar 2008 17:14:22 -0400
References: <20080303185301.8A6B61819D7F@mail.iptel.org>
	<1ECE0EB50388174790F9694F77522CCF1552C7E3@zrc2hxm0.corp.nortel.com>
	<CA9998CD4A020D418654FCDEF4E707DF04F7F548@esealmw113.eemea.ericsson.se>
	<CA9998CD4A020D418654FCDEF4E707DF04F7F892@esealmw113.eemea.ericsson.se>
	<91A487B8-CCCA-44B2-B73B-9A58D8CB9FE2@ekabal.com>
	<CA9998CD4A020D418654FCDEF4E707DF04FD3067@esealmw113.eemea.ericsson.se>
	<A7837C29-60EC-4434-9209-15831192DD00@softarmor.com>
	<CA9998CD4A020D418654FCDEF4E707DF046C7645@esealmw113.eemea.ericsson.se>
	<1205064963.22140.70.camel@localhost>
	<CA9998CD4A020D418654FCDEF4E707DF04FD3637@esealmw113.eemea.ericsson.se>
	<458913680803090849j30a67b04la114b1cd3aa473a0@mail.gmail.com>
	<473FD3ED-30A1-463C-91E1-6BAF9DA3E2B1@cisco.com>
	<CA9998CD4A020D418654FCDEF4E707DF04FD3823@esealmw113.eemea.ericsson.se>
X-Mailer: Apple Mail (2.919.2)
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; l=4483; t=1205097139;
	x=1205961139; c=relaxed/simple; s=sjdkim3002;
	h=Content-Type:From:Subject:Content-Transfer-Encoding:MIME-Version;
	d=cisco.com; i=fluffy@cisco.com;
	z=From:=20Cullen=20Jennings=20<fluffy@cisco.com>
	|Subject:=20Re=3A=20[Sip]=20Outbound-12=3A=20STUN=20keep-al
	ives=20without=20outbound |Sender:=20;
	bh=UffSFLOv3oY34zxzNcYOWOpDBcq0T8xPBVG2Z9OVgwQ=;
	b=nRxkazxBHDPgC5Ut4MlnmYHvF+BEWsEqhJYRD8mmGEAefKWANBTmA92JiP
	bTNGa+KQ6V01hmyrSaIWa+cXYJI/Jnp+m6PjHlTvz1ICbT77ptz9B9PulcCi
	gFxH87M9W4;
Authentication-Results: sj-dkim-3; header.From=fluffy@cisco.com; dkim=pass (
	sig from cisco.com/sjdkim3002 verified; ); 
Cc: SIP <sip@ietf.org>, Rohan Mahy <rohan@ekabal.com>,
	Francois Audet <audet@nortel.com>, Aki Niemi <aki.niemi@nokia.com>,
	Dean Willis <dean.willis@softarmor.com>
Subject: Re: [Sip] Outbound-12: STUN keep-alives without outbound
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


I have no objections to some clarifying text and I certainly did not  
mean to imply that you were responsible for the slowness of this  
draft. There is plenty of blame to go around but I think folks can  
start with Rohan and I at the top of the blame list :-)

On Mar 9, 2008, at 5:06 PM, Christer Holmberg wrote:

>
> Hi Cullen,
>
> Believe me, I want to finish this draft as fast as you (and many
> others).
>
> So, all I am asking for is for a few lines of clarification text. It
> doesn't change anything, or reintroduce any parameters. I think even  
> Aki
> said that what I now propose is already allowed, so it would just be a
> clarification.
>
> I also think it's unfair of blaming me for coming with new  
> requirements.
> Already 2 years ago you, me and Rohan agreed to allow to outbound  
> proxy
> to indicate support of keep-alive, and it was in the draft until  
> version
> -12. But, again, I don't mind having it in a separate draft, in  
> order to
> progress the outbound draft. Again, as far as the outbound draft is
> concerned, all I ask for is a few words of to clarify something which
> people say IS already allowed.
>
> Regards,
>
> Christer
>
>
> > -----Original Message-----
> > From: Cullen Jennings [mailto:fluffy@cisco.com]
> > Sent: 9. maaliskuuta 2008 22:02
> > To: Dean Willis
> > Cc: Christer Holmberg; Aki Niemi; Rohan Mahy; SIP; Francois Audet
> > Subject: Re: [Sip] Outbound-12: STUN keep-alives without outbound
> >
> >
> > I'm not saying the draft is right or wrong with regards to
> > keep alive.
> > We have not had any new information about requirements for
> > keep alive than what we have 2 or more years ago. But, every
> > single meeting we seem to change the keep alive mechanism. In
> > many meetings we achieved strong consensus on how it should
> > work, then a very few people on the list have argued for
> > something different and we have changed it. We will never
> > finish if we keep doing this.
> >
> > Cullen <with my individual contributor hat on>
> >
> >
> > On Mar 9, 2008, at 11:49 AM, Xavier Marjou wrote:
> >
> > > It would be great if the only thing to do could be to add such a
> > > precision. This would encourage the incremental deployment of some
> > > outbound draft features even if the registrar does not support
> > > outbound.
> > >
> > > Xavier
> > >
> > >
> > >
> > > On Sun, Mar 9, 2008 at 2:29 PM, Christer Holmberg
> > > <christer.holmberg@ericsson.com> wrote:
> > > >
> > > >  Hi,
> > > >
> > > >
> > > >  >>Again, that is what I have proposed as an alternative. I have
> > > said
> > > >  >>that the UA should be allowed, when it sees the "ob"
> > > >  >>parameter in the Path, to use keep-alive even if the  
> registrar
> > > does
> > > >  not
> > > >  >>support outbound.
> > > >  >
> > > >  >What's there to stop it from doing just that?
> > > >
> > > >  Nothing, as far as I know.
> > > >
> > > >  I am only asking for some clarification text.
> > > >
> > > >  The draft currently says:
> > > >
> > > >  "The UAC examines successful registration responses for the
> > > presence
> > > >  of an 'outbound' option-tag in a Require header field value.
> > > >  Presence of this option-tag indicates that the registrar is
> > > compliant
> > > >  with this specification, and that any edge proxies which
> > needed to
> > > > participate are also compliant."
> > > >
> > > >  So, I think it would be good to add something like:
> > > >
> > > >  "If the registrar did not support outbound, but there was a  
> path
> > > header
> > > >  with the edge proxy URI
> > > >  present in the 200 OK response to the REGISTER message,
> > the UAC may
> > > > check  whether the URI-parametyer "ob" is included in the URI.  
> If
> > > > so,
> > > then the
> > > >  UAC knows that
> > > >  outbound keepalives can be used even though the
> > registrar does not
> > > > support outbound."
> > > >
> > > >  So, it's just a clarification...
> > > >
> > > >  Regards,
> > > >
> > > >  Christer
> > > >
> > > >
> > > > _______________________________________________
> > > >  Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> > > >  This list is for NEW development of the core SIP Protocol  Use
> > > > sip-implementors@cs.columbia.edu for questions on current
> > sip  Use
> > > > sipping@ietf.org for new developments on the application of sip
> > > >
> >
> >

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Sun Mar  9 17:36:30 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 5A30828C2B0;
	Sun,  9 Mar 2008 17:36:30 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.978
X-Spam-Level: 
X-Spam-Status: No, score=-100.978 tagged_above=-999 required=5
	tests=[AWL=-0.540, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id JJlw88KAnUWx; Sun,  9 Mar 2008 17:36:29 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 4A8453A68CB;
	Sun,  9 Mar 2008 17:36:29 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id CF4E228C1E7
	for <sip@core3.amsl.com>; Sun,  9 Mar 2008 17:36:27 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id DL6UHSvuSb-R for <sip@core3.amsl.com>;
	Sun,  9 Mar 2008 17:36:27 -0700 (PDT)
Received: from nylon.softarmor.com (nylon.softarmor.com [66.135.38.164])
	by core3.amsl.com (Postfix) with ESMTP id F35F13A67AE
	for <sip@ietf.org>; Sun,  9 Mar 2008 17:36:26 -0700 (PDT)
Received: from [10.90.210.36] (mobile-032-166-185-135.mycingular.net
	[32.166.185.135] (may be forged)) (authenticated bits=0)
	by nylon.softarmor.com (8.13.8/8.13.8/Debian-3) with ESMTP id
	m2A0XBSx028558
	(version=TLSv1/SSLv3 cipher=AES256-SHA bits=256 verify=NOT);
	Sun, 9 Mar 2008 19:33:17 -0500
Message-Id: <200803100033.m2A0XBSx028558@nylon.softarmor.com>
Date: Sun, 09 Mar 2008 20:32:24 -0400
From: "Dean Willis" <dean.willis@softarmor.com>
To: sip@ietf.org
MIME-Version: 1.0
X-Mailer: Lonely Cat Games ProfiMail
Cc: Jdrosen@cisco.com
Subject: [Sip] Headsup on extension/info/etc. Session
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

i believe SIPPING will be hosting a special session Monday night at 2200, 
room TBD. We will focus on the SIP extensibility model and how that ties 
into extension choices including new request types, new headers, payload 
mechanisms like INFO, MESSAGE and NOTIFY, and media path solutions like 
MSRP and TOTE.

I expect the agenda will look like:

Background of Problem 30 min
led by Dean Willis

Litmus test for choosing an extension technique 45 min
led by Jonathan Rosenberg

INFO and what to do about it 45 min
led by Hadriel Kaplan

--
dean

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Sun Mar  9 19:21:24 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 6B0073A6BCA;
	Sun,  9 Mar 2008 19:21:24 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.825
X-Spam-Level: 
X-Spam-Status: No, score=-100.825 tagged_above=-999 required=5
	tests=[AWL=-0.388, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 5LpJuM7WGtJ8; Sun,  9 Mar 2008 19:21:23 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id EC2B93A6866;
	Sun,  9 Mar 2008 19:21:22 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id E0A2E3A67F2
	for <sip@core3.amsl.com>; Sun,  9 Mar 2008 19:21:20 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id TuMiE4RYlcDg for <sip@core3.amsl.com>;
	Sun,  9 Mar 2008 19:21:19 -0700 (PDT)
Received: from ihemail3.lucent.com (ihemail3.lucent.com [135.245.0.37])
	by core3.amsl.com (Postfix) with ESMTP id 5F8B93A67EA
	for <sip@ietf.org>; Sun,  9 Mar 2008 19:21:18 -0700 (PDT)
Received: from ilexp02.ndc.lucent.com (h135-3-39-2.lucent.com [135.3.39.2])
	by ihemail3.lucent.com (8.13.8/IER-o) with ESMTP id m2A2Ik7D024781;
	Sun, 9 Mar 2008 21:18:48 -0500 (CDT)
Received: from DEEXP02.DE.lucent.com ([135.248.187.66]) by
	ilexp02.ndc.lucent.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Sun, 9 Mar 2008 21:18:46 -0500
Received: from DEEXC1U01.de.lucent.com ([135.248.187.20]) by
	DEEXP02.DE.lucent.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Mon, 10 Mar 2008 03:18:43 +0100
X-MIMEOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Mon, 10 Mar 2008 03:18:43 +0100
Message-ID: <5D1A7985295922448D5550C94DE2918001CEBF47@DEEXC1U01.de.lucent.com>
In-Reply-To: <47D2C3EC.3090302@alcatel-lucent.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] WGLC on domain-certs and eku
Thread-index: AciBPJcxZtLxHD4aThmrosl2dBt/QwBGD6hw
References: <5D1A7985295922448D5550C94DE2918001C68A17@DEEXC1U01.de.lucent.com>
	<5D1A7985295922448D5550C94DE2918001CEBEC8@DEEXC1U01.de.lucent.com>
	<47D2C3EC.3090302@alcatel-lucent.com>
From: "DRAGE, Keith \(Keith\)" <drage@alcatel-lucent.com>
To: "Gurbani, Vijay K \(Vijay\)" <vkg@alcatel-lucent.com>
X-OriginalArrivalTime: 10 Mar 2008 02:18:43.0815 (UTC)
	FILETIME=[1058DF70:01C88255]
X-Scanned-By: MIMEDefang 2.57 on 135.245.2.37
Cc: IETF SIP List <sip@ietf.org>, "Jeffrey,
	Alan S A \(Alan\)" <ajeffrey@alcatel-lucent.com>,
	slawrence@bluesocket.com, Cullen Jennings <fluffy@cisco.com>
Subject: Re: [Sip] WGLC on domain-certs and eku
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

For the record, I was trying to summarise what has been seen offlist, for the benefit of those on the list.

Comments onlist are in the archives, if people don't already have them on their machines, and the editor's will respond to these in due course.

Regards

Keith 

> -----Original Message-----
> From: Vijay K. Gurbani [mailto:vkg@alcatel-lucent.com] 
> Sent: Saturday, March 08, 2008 4:51 PM
> To: DRAGE, Keith (Keith)
> Cc: IETF SIP List; Jeffrey, Alan S A (Alan); Cullen Jennings; 
> slawrence@bluesocket.com
> Subject: Re: [Sip] WGLC on domain-certs and eku
> 
> DRAGE, Keith (Keith) wrote:
> > (As SIP WG cochair)
> > 
> > This WGLC ended today. If you believe you still have 
> comments to send 
> > on either document, can you either send them as soon as 
> possible, or 
> > if you are still working on this document, send the chairs 
> a message 
> > saying so and indicating roughly how long you need.
> > 
> > We have one significant comment offlist from the PKIX chair 
> relating 
> > to the current separation into two documents (he does not 
> believe this 
> > is necessary). As this was a directive from the AD, can I encourage 
> > the editors to get Steven Kent and Cullen Jennings together 
> over the 
> > course of the next week (possible with a security AD) in order to 
> > discuss this further.
> 
> Keith: Will do.
> 
> John Elwell was kind enough to review the documents as well.  
> We will post a resolution of his review on the list as well.
> 
> Thanks,
> 
> - vijay
> --
> Vijay K. Gurbani, Bell Laboratories, Alcatel-Lucent
> 2701 Lucent Lane, Rm. 9F-546, Lisle, Illinois 60532 (USA)
> Email: vkg@{alcatel-lucent.com,bell-labs.com,acm.org}
> WWW:   http://www.alcatel-lucent.com/bell-labs
> 
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Sun Mar  9 19:37:01 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 5AFCF28C2B3;
	Sun,  9 Mar 2008 19:37:01 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.455
X-Spam-Level: 
X-Spam-Status: No, score=-100.455 tagged_above=-999 required=5
	tests=[AWL=-0.018, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id YCxqeYMWWDXd; Sun,  9 Mar 2008 19:36:59 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 443C53A69A4;
	Sun,  9 Mar 2008 19:36:59 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id E73BF3A69CB
	for <sip@core3.amsl.com>; Sun,  9 Mar 2008 19:36:57 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id zuYx+hMGMg+D for <sip@core3.amsl.com>;
	Sun,  9 Mar 2008 19:36:56 -0700 (PDT)
Received: from kilo.rtfm.com (dhcp-1679.ietf71.ietf.org [130.129.22.121])
	by core3.amsl.com (Postfix) with ESMTP id 7297B3A686D
	for <sip@ietf.org>; Sun,  9 Mar 2008 19:36:56 -0700 (PDT)
Received: from dhcp-1679.ietf71.ietf.org (localhost [127.0.0.1])
	by kilo.rtfm.com (Postfix) with ESMTP id 2C65519BE6C;
	Sun,  9 Mar 2008 22:34:35 -0400 (EDT)
Date: Sun, 09 Mar 2008 22:34:35 -0400
From: Eric Rescorla <ekr@networkresonance.com>
To: "DRAGE, Keith (Keith)" <drage@alcatel-lucent.com>
In-Reply-To: <5D1A7985295922448D5550C94DE2918001CEBEC8@DEEXC1U01.de.lucent.com>
References: <5D1A7985295922448D5550C94DE2918001C68A17@DEEXC1U01.de.lucent.com>
	<5D1A7985295922448D5550C94DE2918001CEBEC8@DEEXC1U01.de.lucent.com>
User-Agent: Wanderlust/2.15.5 (Almost Unreal) Emacs/22.1 Mule/5.0 (SAKAKI)
MIME-Version: 1.0 (generated by SEMI 1.14.6 - "Maruoka")
Message-Id: <20080310023435.2C65519BE6C@kilo.rtfm.com>
Cc: IETF SIP List <sip@ietf.org>, "Jeffrey,
	Alan S A \(Alan\)" <ajeffrey@alcatel-lucent.com>,
	slawrence@bluesocket.com, Cullen Jennings <fluffy@cisco.com>
Subject: Re: [Sip] WGLC on domain-certs and eku
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

I've got comments which I plan to send before the SIP WG meeting
and hopefully tomorrow. They're second on my stack.

-Ekr

At Sat, 8 Mar 2008 01:41:34 +0100,
DRAGE, Keith (Keith) wrote:
> 
> (As SIP WG cochair)
> 
> This WGLC ended today. If you believe you still have comments to send on
> either document, can you either send them as soon as possible, or if you
> are still working on this document, send the chairs a message saying so
> and indicating roughly how long you need. 
> 
> We have one significant comment offlist from the PKIX chair relating to
> the current separation into two documents (he does not believe this is
> necessary). As this was a directive from the AD, can I encourage the
> editors to get Steven Kent and Cullen Jennings together over the course
> of the next week (possible with a security AD) in order to discuss this
> further.
> 
> Regards
> 
> Keith
> 
> > -----Original Message-----
> > From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On 
> > Behalf Of DRAGE, Keith (Keith)
> > Sent: Friday, February 22, 2008 7:22 AM
> > To: IETF SIP List
> > Cc: Jeffrey, Alan S A (Alan); slawrence@bluesocket.com
> > Subject: [Sip] WGLC on domain-certs and eku
> > 
> > (As WG chair)
> > 
> > This is to announce a WG last call on BOTH
> > 
> > http://www.ietf.org/internet-drafts/draft-ietf-sip-domain-certs-00.txt
> > 
> > and
> > 
> > http://www.ietf.org/internet-drafts/draft-ietf-sip-eku-01.txt
> > 
> > Comments should be submitted to both the list, and to the 
> > authors, by Friday 7th March 2008. This will give the 
> > opportunity for discussion of major issues at the SIP WG 
> > meeting in Philadelphia.
> > 
> > Please clearly identify the position of any issue in the 
> > internet draft, and if possible identify what you would like 
> > to see as a correction.
> > Please also indicate the nature or severity of the error or 
> > correction, e.g. Major technical, minor technical, NIT, so 
> > that we can quickly judge the extent of problems with the document.
> > 
> > Note that both these documents are used by:
> > 
> > http://www.ietf.org/internet-drafts/draft-ietf-sip-connect-reu
> > se-09.txt
> > 
> > This particular document is finished and ready for the 
> > publication request, but if you feel your comment also 
> > addresses the usage by this document, please clearly indicate 
> > and get the comment in.
> > 
> > Regards
> > 
> > Keith
> > _______________________________________________
> > Sip mailing list  http://www.ietf.org/mailman/listinfo/sip
> > This list is for NEW development of the core SIP Protocol Use 
> > sip-implementors@cs.columbia.edu for questions on current sip 
> > Use sipping@ietf.org for new developments on the application of sip
> > 
> _______________________________________________
> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Sun Mar  9 19:46:23 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 3673D3A6CFC;
	Sun,  9 Mar 2008 19:46:23 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -99.633
X-Spam-Level: 
X-Spam-Status: No, score=-99.633 tagged_above=-999 required=5
	tests=[AWL=0.804, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 154ZaFFetbCI; Sun,  9 Mar 2008 19:46:22 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id E17473A6866;
	Sun,  9 Mar 2008 19:46:21 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id D1AF63A6B99;
	Fri,  7 Mar 2008 08:46:44 -0800 (PST)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id hTYflbyzsMCJ; Fri,  7 Mar 2008 08:46:43 -0800 (PST)
Received: from ondar.cablelabs.com (ondar.cablelabs.com [192.160.73.61])
	by core3.amsl.com (Postfix) with ESMTP id DC8953A6C8F;
	Fri,  7 Mar 2008 08:46:43 -0800 (PST)
Received: from kyzyl.cablelabs.com (kyzyl [10.253.0.7])
	by ondar.cablelabs.com (8.14.2/8.14.2) with ESMTP id m27Gkkiu017637;
	Fri, 7 Mar 2008 09:46:46 -0700
Received: from srvxchg3.cablelabs.com (10.5.0.25)
	by kyzyl.cablelabs.com (F-Secure/fsigk_smtp/511/kyzyl.cablelabs.com);
	Fri, 7 Mar 2008 09:46:46 -0700 (MST)
X-Virus-Status: clean(F-Secure/fsigk_smtp/511/kyzyl.cablelabs.com)
X-Mimeole: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Fri, 7 Mar 2008 09:46:00 -0700
Message-ID: <9AAEDF491EF7CA48AB587781B8F5D7C6FA6F48@srvxchg3.cablelabs.com>
In-Reply-To: <D282B4E8-CFFC-4D0A-BC8E-1AAFDF7F0B2E@estacado.net>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Call for interest in doing ICE, STUN,
	TURN testing at the next SIPit, April 14-18 @ UNH
Thread-Index: AchjVkPhcXV1A/ejQKSzLbqnbW8DaAdGrX3g
References: <D282B4E8-CFFC-4D0A-BC8E-1AAFDF7F0B2E@estacado.net>
From: "Jean-Francois Mule" <jf.mule@cablelabs.com>
To: <mmusic@ietf.org>
X-Approved: ondar
X-Mailman-Approved-At: Sun, 09 Mar 2008 19:46:20 -0700
Cc: Vikas Sarawat <v.sarawat@cablelabs.com>,
	Robert Sparks <rjsparks@estacado.net>
Subject: [Sip] Call for interest in doing ICE, STUN,
	TURN testing at the next SIPit, April 14-18 @ UNH
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

A number of folks have expressed interest in doing ICE/STUN/TURN testing in=
 recent weeks. We'd like to organize something for the next SIPit if we hav=
e enough implementations with overlapping functionality.  Details on the ne=
xt SIPit are below.

Let me know if you are interested and if you are attending IETF#71 so that =
we can may be have an adhoc discussion there.

Thanks,
Jean-Fran=E7ois
Note: This message is sent to multiple lists (IETF: sip, sipping, simple, S=
IP forum's discussion list, Columbia's SIP implementors).  Please respond t=
o the folks cc'ed on the note if you are interested - we'll post updates.

> -----Original Message-----
> From: sip-implementors-bounces@lists.cs.columbia.edu [mailto:sip-
> implementors-bounces@lists.cs.columbia.edu] On Behalf Of Robert
> Sparks
> Sent: Tuesday, March 04, 2008 10:25 PM
> To: Robert Sparks
> Cc: discussion@sipforum.org; Sip-Implementors
> Subject: [Sip-implementors] Reminder: Registration for SIPit 22 is
> open
> =

> SIPit 22 registration closes April 4. Please note that we have
> limited space this time - early registration is recommended.
> =

> Now's a good time to finalize travel plans if you haven't already
> done so.
> =

> RjS
> =

> On Jan 30, 2008, at 9:38 AM, Robert Sparks wrote:
> =

> > SIPit 22 will be hosted by the University of New Hampshire
> > Interoperability Laboratory
> > April 14 through 18, 2008.
> >
> > Registration is $350 (USD) per person. Registration will close
> > April 4.
> >
> > Space is limited, so register early to ensure a seat.
> >
> > Additional registration details are available at
> http://www.sipit.net
> =

> _______________________________________________
> Sip-implementors mailing list
> Sip-implementors@lists.cs.columbia.edu
> https://lists.cs.columbia.edu/cucslists/listinfo/sip-implementors
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Sun Mar  9 20:17:46 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 9DF6F28C2F0;
	Sun,  9 Mar 2008 20:17:46 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.895
X-Spam-Level: 
X-Spam-Status: No, score=-100.895 tagged_above=-999 required=5
	tests=[AWL=-0.458, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id F1KmH2Aa+T-E; Sun,  9 Mar 2008 20:17:45 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 74F2C3A6AC9;
	Sun,  9 Mar 2008 20:17:45 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 5F6A63A68B4
	for <sip@core3.amsl.com>; Sun,  9 Mar 2008 20:17:44 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id qxfn5q2vq3Nh for <sip@core3.amsl.com>;
	Sun,  9 Mar 2008 20:17:43 -0700 (PDT)
Received: from mailgw3.ericsson.se (mailgw3.ericsson.se [193.180.251.60])
	by core3.amsl.com (Postfix) with ESMTP id 0E97B3A6C0F
	for <sip@ietf.org>; Sun,  9 Mar 2008 20:17:42 -0700 (PDT)
Received: from mailgw3.ericsson.se (unknown [127.0.0.1])
	by mailgw3.ericsson.se (Symantec Mail Security) with ESMTP id
	02B3420A68; Mon, 10 Mar 2008 04:14:18 +0100 (CET)
X-AuditID: c1b4fb3c-b009fbb00000193b-3c-47d4a78966f3
Received: from esealmw129.eemea.ericsson.se (unknown [153.88.254.124])
	by mailgw3.ericsson.se (Symantec Mail Security) with ESMTP id
	D4F5D20A43; Mon, 10 Mar 2008 04:14:17 +0100 (CET)
Received: from esealmw127.eemea.ericsson.se ([153.88.254.171]) by
	esealmw129.eemea.ericsson.se with Microsoft SMTPSVC(6.0.3790.1830); 
	Mon, 10 Mar 2008 04:14:17 +0100
Received: from mail.lmf.ericsson.se ([131.160.11.50]) by
	esealmw127.eemea.ericsson.se with Microsoft SMTPSVC(6.0.3790.1830); 
	Mon, 10 Mar 2008 04:14:17 +0100
Received: from [131.160.126.8] (rvi2-126-8.lmf.ericsson.se [131.160.126.8])
	by mail.lmf.ericsson.se (Postfix) with ESMTP id 980402462;
	Mon, 10 Mar 2008 05:14:09 +0200 (EET)
Message-ID: <47D4A781.3060105@ericsson.com>
Date: Mon, 10 Mar 2008 05:14:09 +0200
From: Gonzalo Camarillo <Gonzalo.Camarillo@ericsson.com>
User-Agent: Thunderbird 2.0.0.12 (Windows/20080213)
MIME-Version: 1.0
To: Dean Willis <dean.willis@softarmor.com>
References: <200803100033.m2A0XBSx028558@nylon.softarmor.com>
In-Reply-To: <200803100033.m2A0XBSx028558@nylon.softarmor.com>
X-OriginalArrivalTime: 10 Mar 2008 03:14:17.0269 (UTC)
	FILETIME=[D33D9650:01C8825C]
X-Brightmail-Tracker: AAAAAA==
Cc: sip@ietf.org, Keith Drage <drage@alcatel-lucent.com>, Jdrosen@cisco.com
Subject: Re: [Sip] Headsup on extension/info/etc. Session
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

FYI: see email below.

Gonzalo

-------- Original Message --------
Subject: Monday night: ad-hoc on SIP extensibility
Date: Mon, 10 Mar 2008 05:13:07 +0200
From: Gonzalo Camarillo <Gonzalo.Camarillo@ericsson.com>
To: sipping <sipping@ietf.org>
CC: Mary Barnes <mary.barnes@nortel.com>

Folks,

there has been substantial discussion on the topic of extensibility
models for SIP. Advancing consensus on this topic as a whole requires
broader discussions. Consequently, we are organizing an ad-hoc meeting
on Monday night between 2200 and 2400. We understand it is a bad time
but it is difficult to find empty meeting slots.

The agenda for this ad-hoc meeting will be as follows:

1) Problem overview and review of the multi-fold path (Extension
messages, extension headers, extension bodies, EVENT/INFO transport
packages, and non-SIP session/transport protocols.

2) Review of the "litmus test" guidelines for choosing an extension
modality, which we expect to eventually lead to a guidelines document.
Discussion to include the the use cases that are addressed by MEDIACTRL
Control Channel, MSRP, MSRP file transfer, and TOTE.

3) Discussion on clarification and finalization of the INFO
packages document. We would not be taking explicit HUMs in this
meeting about consensus as to whether or not to proceed with INFO packages.


We do not still have a meeting room. We will be reporting back to the
SIPPING list as soon as we get one.

Cheers,

Gonzalo
SIPPING co-chair


Dean Willis wrote:
> i believe SIPPING will be hosting a special session Monday night at 2200, 
> room TBD. We will focus on the SIP extensibility model and how that ties 
> into extension choices including new request types, new headers, payload 
> mechanisms like INFO, MESSAGE and NOTIFY, and media path solutions like 
> MSRP and TOTE.
> 
> I expect the agenda will look like:
> 
> Background of Problem 30 min
> led by Dean Willis
> 
> Litmus test for choosing an extension technique 45 min
> led by Jonathan Rosenberg
> 
> INFO and what to do about it 45 min
> led by Hadriel Kaplan
> 
> --
> dean
> 
> _______________________________________________
> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
> 

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Sun Mar  9 20:59:20 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 812A528C311;
	Sun,  9 Mar 2008 20:59:20 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.653
X-Spam-Level: 
X-Spam-Status: No, score=-100.653 tagged_above=-999 required=5
	tests=[AWL=-0.216, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id t+qGXb4mMNhC; Sun,  9 Mar 2008 20:59:20 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 6442B28C2B3;
	Sun,  9 Mar 2008 20:59:06 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 0467728C295
	for <sip@core3.amsl.com>; Sun,  9 Mar 2008 20:59:05 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 0qOhDE5-bPiw for <sip@core3.amsl.com>;
	Sun,  9 Mar 2008 20:59:03 -0700 (PDT)
Received: from nylon.softarmor.com (nylon.softarmor.com [66.135.38.164])
	by core3.amsl.com (Postfix) with ESMTP id 8E16A28C2C3
	for <sip@ietf.org>; Sun,  9 Mar 2008 20:58:59 -0700 (PDT)
Received: from [10.91.139.12] (mobile-032-166-083-099.mycingular.net
	[32.166.83.99] (may be forged)) (authenticated bits=0)
	by nylon.softarmor.com (8.13.8/8.13.8/Debian-3) with ESMTP id
	m2A3uRDI003862
	(version=TLSv1/SSLv3 cipher=AES128-SHA bits=128 verify=NOT);
	Sun, 9 Mar 2008 22:56:36 -0500
Message-Id: <7F6B11ED-4BDF-4BC0-8D5B-2C194C312266@softarmor.com>
From: Dean Willis <dean.willis@softarmor.com>
To: Aki Niemi <aki.niemi@nokia.com>
In-Reply-To: <1205060435.22140.13.camel@localhost>
Mime-Version: 1.0 (Apple Message framework v919.2)
Date: Sun, 9 Mar 2008 23:56:21 -0400
References: <20080303183225.D04A35081A@romeo.rtfm.com>
	<1204628885.15582.7.camel@localhost>
	<20080304151905.4EE005081A@romeo.rtfm.com>
	<1204661227.15582.78.camel@localhost>
	<20080304202005.ADD0C5081A@romeo.rtfm.com>
	<1204663441.15582.107.camel@localhost>
	<20080304205516.B737E5081A@romeo.rtfm.com>
	<1204724689.5302.38.camel@localhost>
	<9B149569-37A9-402B-BAB1-BB963CA3D477@softarmor.com>
	<1204789154.5302.73.camel@localhost><47D0333C.8050306@softarmor.com>
	<1204872793.28304.23.camel@localhost>
	<6F488C03-A79D-4059-A4B5-A4D089F23B3A@softarmor.com>
	<1205060435.22140.13.camel@localhost>
X-Mailer: Apple Mail (2.919.2)
Cc: sip@ietf.org
Subject: Re: [Sip] Question on subnot-etags
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


On Mar 9, 2008, at 7:00 AM, Aki Niemi wrote:

>
> On pe, 2008-03-07 at 23:27 +0200, ext Dean Willis wrote:
>>> We're sending it so that the next time the subscriber sends a
>>> SUBSCRIBE,
>>> it can say: "Here's the last entity I've seen. Suppress-If-Match,
>>> please".
>>
>> But in the case we're discussing, the last entity the subscriber has
>> seen is not the last entity that that the server has seen. And the
>> entity that the subscriber currently has isn't the same entity that
>> the server has
>
> What makes "seen" and "has" different here?

see below . . .

>
>
>> -- it's another entity that just happens to have the  
>> same etag as the entity that the subscriber currently has.
>
> This is against what the draft says. We require unique etags "across  
> all
> versions of all entities for a resource and event package".

But that's not what you said earlier.

1) Let's say I have an resource that consists of the string "abcd" and  
the eTag "H".

2) The resource's string  value changes to "defg" and its eTag changes  
to "89"

3) It's value changes again, this time to "abcd". Can it have the eTag  
"H" again, or does it have to have an eTag that is unique across all  
versions of the resource?


Coming back to the "has" vs "seen" question.

if a watcher misses the "defg" eTag "89" phase at step 2for some  
reason. It sees state 1, then it sees state 3. If the eTag is allowed  
to repeat, it doesn't know it missed a state change. If the eTag is  
required to be unique, then the watcher knows SOMETHING happened, just  
not exactly what that was.

My current belief is for applications in which this matters, the  
object should contain a serial number or timestamp so that the  
object's value never repeats. This pretty much makes the question moot.

>
>
> Now I understand the text needs a little explaining, which I'll add,
> about what "version" really means here, i.e., can two versions with
> identical content also have identical etags?
>

Yes! That is exactly the question.

> This is the special case that we need to explicitly call out. For
> instance, an MD5 sum over the entity is a good enough entity-tag, even
> though it will give the same entity-tag to different "versions" of
> entities, albeit they're entities with identical content.
>
>> That's a close enough match for some purposes (perhaps all of our
>> purposes), but it's not the same thing.
>
> I still fail to see what significance this has for the subscriber? The
> subscriber is at the mercy of the notifier, and it's the notifier's
> responsibility to keep its entity-tags straight.

It all depends on whether the application requires the subscriber to  
know about ALL transitions to the notifier state or perhaps requires  
knowing about null-transitions -- that is, where the object was  
"written" but its value did not change.

--
Dean
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Sun Mar  9 21:04:30 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 571DB3A6C91;
	Sun,  9 Mar 2008 21:04:30 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.707
X-Spam-Level: 
X-Spam-Status: No, score=-100.707 tagged_above=-999 required=5
	tests=[AWL=-0.270, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id ex4nbPTSZg7Z; Sun,  9 Mar 2008 21:04:30 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 1812B28C34A;
	Sun,  9 Mar 2008 21:03:50 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 7814028C34A
	for <sip@core3.amsl.com>; Sun,  9 Mar 2008 21:03:49 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id KDGVfsHXa7oA for <sip@core3.amsl.com>;
	Sun,  9 Mar 2008 21:03:48 -0700 (PDT)
Received: from nylon.softarmor.com (nylon.softarmor.com [66.135.38.164])
	by core3.amsl.com (Postfix) with ESMTP id BFE163A6C3C
	for <sip@ietf.org>; Sun,  9 Mar 2008 21:02:50 -0700 (PDT)
Received: from [10.91.139.12] (mobile-032-166-083-099.mycingular.net
	[32.166.83.99] (may be forged)) (authenticated bits=0)
	by nylon.softarmor.com (8.13.8/8.13.8/Debian-3) with ESMTP id
	m2A3wokR003884
	(version=TLSv1/SSLv3 cipher=AES128-SHA bits=128 verify=NOT);
	Sun, 9 Mar 2008 22:58:55 -0500
Message-Id: <B046671B-A99A-448C-99E0-AA7C92A36528@softarmor.com>
From: Dean Willis <dean.willis@softarmor.com>
To: Aki Niemi <aki.niemi@nokia.com>
In-Reply-To: <1205064963.22140.70.camel@localhost>
Mime-Version: 1.0 (Apple Message framework v919.2)
Date: Sun, 9 Mar 2008 23:58:43 -0400
References: <20080303185301.8A6B61819D7F@mail.iptel.org>
	<1ECE0EB50388174790F9694F77522CCF1549EC14@zrc2hxm0.corp.nortel.com>
	<CA9998CD4A020D418654FCDEF4E707DF04F13E49@esealmw113.eemea.ericsson.se>
	<458913680803060824m23e10d7eqa861a21266eb50b@mail.gmail.com>
	<4E690AA1-9E99-490D-B5EA-E4895E0B675A@ekabal.com>
	<CA9998CD4A020D418654FCDEF4E707DF04F7EF77@esealmw113.eemea.ericsson.se>
	<FFDDF533-F69C-4EC0-B19F-552373DF8035@ekabal.com>
	<CA9998CD4A020D418654FCDEF4E707DF04F7F043@esealmw113.eemea.ericsson.se>
	<1ECE0EB50388174790F9694F77522CCF1552C7E3@zrc2hxm0.corp.nortel.com>
	<CA9998CD4A020D418654FCDEF4E707DF04F7F548@esealmw113.eemea.ericsson.se>
	<CA9998CD4A020D418654FCDEF4E707DF04F7F892@esealmw113.eemea.ericsson.se>
	<91A487B8-CCCA-44B2-B73B-9A58D8CB9FE2@ekabal.com>
	<CA9998CD4A020D418654FCDEF4E707DF04FD3067@esealmw113.eemea.ericsson.se>
	<A7837C29-60EC-4434-9209-15831192DD00@softarmor.com>
	<CA9998CD4A020D418654FCDEF4E707DF046C7645@esealmw113.eemea.ericsson.se>
	<1205062259.22140.39.camel@l! o calhost>
	<CA9998CD4A020D418654FCDEF4E707DF04FD358C@esealmw113.eemea.ericsson.se>
	<1205064963.22140.70.camel@localhost>
X-Mailer: Apple Mail (2.919.2)
Cc: Cullen Jennings <fluffy@cisco.com>, Rohan Mahy <rohan@ekabal.com>,
	Xavier Marjou <xavier.marjou@orange-ftgroup.com>, sip@ietf.org,
	Francois Audet <audet@nortel.com>,
	ext Christer Holmberg <christer.holmberg@ericsson.com>
Subject: Re: [Sip] Outbound-12: STUN keep-alives without outbound
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


On Mar 9, 2008, at 8:16 AM, Aki Niemi wrote:

>
> On su, 2008-03-09 at 12:38 +0100, ext Christer Holmberg wrote:
>> Again, that is what I have proposed as an alternative. I have said  
>> that
>> the UA should be allowed, when it sees the "ob" parameter in the  
>> Path,
>> to use keep-alive even if the registrar does not support outbound.
>
> What's there to stop it from doing just that?

As I read it,. by the current spec it can't STUN the proxy unless the  
registrar also supports outbound. This seems to be a non-required  
interaction.

--
Dean
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Mon Mar 10 07:23:19 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 6A5183A7017;
	Mon, 10 Mar 2008 07:23:19 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.219
X-Spam-Level: 
X-Spam-Status: No, score=-100.219 tagged_above=-999 required=5
	tests=[AWL=0.218, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id VuS8jbutM-Np; Mon, 10 Mar 2008 07:23:19 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 48443293E0E;
	Mon, 10 Mar 2008 07:16:00 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 28AF42939F3
	for <sip@core3.amsl.com>; Mon, 10 Mar 2008 07:15:58 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 7KRuWht2rww0 for <sip@core3.amsl.com>;
	Mon, 10 Mar 2008 07:15:56 -0700 (PDT)
Received: from nostrum.com (nostrum-pt.tunnel.tserv2.fmt.ipv6.he.net
	[IPv6:2001:470:1f03:267::2])
	by core3.amsl.com (Postfix) with ESMTP id 539DD3A70DF
	for <sip@ietf.org>; Mon, 10 Mar 2008 06:59:05 -0700 (PDT)
Received: from [130.129.87.211] ([130.129.87.211]) (authenticated bits=0)
	by nostrum.com (8.14.2/8.14.1) with ESMTP id m2ADuJDr033236
	(version=TLSv1/SSLv3 cipher=AES128-SHA bits=128 verify=NO);
	Mon, 10 Mar 2008 08:56:19 -0500 (CDT)
	(envelope-from rjsparks@nostrum.com)
In-Reply-To: <47D4BE72.6080805@cisco.com>
References: <54811460-0364-4794-8E4F-1EE47CC94B64@softarmor.com><47C73D16.9080103@cisco.com><E810CC3A-BC03-49ED-BE92-CD91517F0E7E@softarmor.com>
	<D1D1C5EF-08ED-4CF3-95F8-94B7F8B566B4@cisco.com>
	<5D1A7985295922448D5550C94DE2918001CB067E@DEEXC1U01.de.lucent.com>
	<5A561DF8-2237-4D1C-9B42-CB82C48A6C4A@nostrum.com>
	<47D4BE72.6080805@cisco.com>
Mime-Version: 1.0 (Apple Message framework v753)
Message-Id: <87ACD979-AC7E-465D-B08B-2C7261668ACB@nostrum.com>
From: Robert Sparks <rjsparks@nostrum.com>
Date: Mon, 10 Mar 2008 09:56:18 -0400
To: Jonathan Rosenberg <jdrosen@cisco.com>
X-Mailer: Apple Mail (2.753)
Received-SPF: pass (nostrum.com: 130.129.87.211 is authenticated by a trusted
	mechanism)
X-Virus-Scanned: ClamAV 0.92.1/6191/Mon Mar 10 05:45:33 2008 on
	shaman.nostrum.com
X-Virus-Status: Clean
Cc: Cullen Jennings <fluffy@cisco.com>, IETF SIP List <sip@ietf.org>,
	Keith Drage <drage@alcatel-lucent.com>,
	Dean Willis <dean.willis@softarmor.com>
Subject: Re: [Sip] Essential Corrections - invfix (was Re: Revised agenda
	for SIP -- needs more work yet)
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


On Mar 10, 2008, at 12:52 AM, Jonathan Rosenberg wrote:

> I read through the new invfix draft. I think this new format allows  
> it to be understandable as a standalone document, which is good.
>
> Just a couple of comments:
>
> 1. section 7 (which has the standalone description) has normative  
> language in it. Thus, there is the possibility of conflict with the  
> actual formal spec, which is done via diff. One of the two needs to  
> be made non-normative.

Some conversation has happened around this point on list already -  
could you reply to the thread it was in?

>
> 2. 7.1 and 7.2 are a bit confusing in that they talk specifically  
> about UAC and UAS but of course the transaction machines apply to  
> proxies. Section 7.3 has proxy considerations but is very thin. I  
> think 7.1 and 7.2 should be restructured around client and server  
> transactions

Hrm - is this just a word-choice change rather than a restructure?

>
>
> I personally suspect the actual formal diffs in section 8 will be  
> too hard to apply for anyone to use them; everyone will work off of  
> the descriptive text in section 7. So I don't object to it being  
> there, but I think we should realize it will be ignored and section  
> 7 better be complete and accurate.

Having watched many implementors approach the specs, particularly  
updates to specs, I disagree that 8 will be ignored and that  
interoperability will suffer without it.
I do agree that 7 needs to be complete and accurate. Other than the  
one comment you have above, do you see a place where it isn't?



>
> Thanks,
> Jonathan R.
>
> Robert Sparks wrote:
>> Folks -
>> Lets try to get the Essential Corrections and -invfix- discussion  
>> off the agenda since there are clearly gnarlier things to talk about.
>> I sent in a revision to inv-fix attempting to address Jonathan's  
>> concern about stand-alone readability.
>> Jonathan - is the new format better? Can we go with this?
>> I sent a separate message showing what it would look like to build  
>> a diff against 3261 that we could put in the document. You'll
>> remember that on looking at it, its my opinion that going down  
>> that path is a very bad idea.
>> So far, there's only been one response on list to those messages.
>> Please, everyone (especially those that have expressed strong  
>> opinions in the past), look those over and let us know if we're
>> past the primary concerns, or if we still have something to work  
>> through that needs face time to do so.
>> RjS
>> On Feb 29, 2008, at 5:00 AM, DRAGE, Keith ((Keith)) wrote:
>>> (As SIP WG cochair)
>>>
>>> As Dean already said, we spend 3 hours last night trying to plan  
>>> a 2 1/2
>>> hour session based on input we do not completely have. We don't  
>>> think we
>>> finished, but this was the best we could reach so far in the time
>>> available. Things can move up, but they don't solve the fundamental
>>> problem that we don't have enough time. It was not our idea to  
>>> limit SIP
>>> to a single session - this was forced on us by the ADs.
>>>
>>> Modification of this agenda is more likely to occur not by  
>>> complaining
>>> about the time allocated, but by the presence of technical  
>>> discussion on
>>> list over the next 8 days.
>>>
>>> Some generals:
>>>
>>> We have taken the principle that if discussion time is needed on
>>> chartered items specifically, then they come first, and more
>>> specifically highest priority for any discussion needed to get  
>>> something
>>> out of WGLC and into publication request. This is then followed by
>>> documents that we envisaged could hold up chartered items (in  
>>> this and
>>> other groups) if not discussed. Then follow the other items where  
>>> time
>>> has been requested.
>>>
>>> Some specifics based on comments received so far:
>>>
>>> Domain-certs and eku are in WGLC which ends of Friday next week.  
>>> These
>>> are a dependency from other chartered items where we are ready to  
>>> submit
>>> the publication request. We will not have a view of what  
>>> specifically
>>> needs discussion on these in the meeting until the end of the  
>>> WGLC, when
>>> all the comments are in. Many of the comments made will not need
>>> discussion in the SIP session and can be discussed on list by the
>>> editors after the end of last call. If any comment does need SIP WG
>>> session time, then we will give it on the above basis.
>>>
>>> Outbound is in WGLC and has no time. We are still waiting for  
>>> input to
>>> know if it needs time - not helped by the authors dropping yet  
>>> another
>>> new version in the inbox 3 minutes before the -xx deadline when it
>>> should have been there a month ago. Our current view is to issue a
>>> refreshed WGLC on this following the meeting but that can change.
>>>
>>> Location conveyance is in WGLC and has no time. Again author  
>>> drops new
>>> version in inbox 3 minutes before -xx document deadline. This  
>>> document
>>> is impacted by:
>>>
>>> http://www.ietf.org/internet-drafts/draft-peterson-geopriv- 
>>> retransmissio
>>> n-00.txt
>>>
>>> Which will be discussed in the GEOPRIV group, but if followed  
>>> reverses
>>> the decision we made in the location-conveyance breakout at the last
>>> meeting. We hope the GEOPRIV discussion does not force  
>>> rediscussion in
>>> SIP, but please bear in mind that it could do so.
>>>
>>> RPH in responses is not chartered. 2 meetings back the WG  
>>> expressed a
>>> wish to work on this. The AD pushed back to our request to  
>>> charter. As
>>> the AD makes the decision, it is not chartered and has no  
>>> milestones.
>>> That's why we had the further discussion in the last meeting - where
>>> again we came to no conclusions, and I assume the AD is still
>>> unconvinced. Fundamental problem - convince the AD. Put him in a  
>>> corner
>>> somewhere in Philadelphia and kick hell out of him, but we don't  
>>> need
>>> the SIP session to watch you do that - although it may be  
>>> entertaining!
>>>
>>> Media security requirements is holding up other chartered items  
>>> in both
>>> SIP and AVT. When we considered this for inclusion, we believed  
>>> there
>>> were two items that may need agenda item. Overnight Dean seems to  
>>> have
>>> taken the time away at the moment, but I remain unconvinced that  
>>> this
>>> does not need time.
>>>
>>> This is the media-security requirements milestones:
>>>
>>> Sep 2007    Requirements for media keying to WGLC (Informational)
>>> Nov 2007    Requirements for media keying to IESG (Informational)
>>>
>>> Which provides the requirements for the mechanism in these  
>>> charter items
>>> in SIP.
>>>
>>> Dec 2007    Establishment of secure media sessions using DTLS- 
>>> SRTP to
>>> WGLC (PS)
>>> Feb 2008    Establishment of secure media sessions using DTLS- 
>>> SRTP to
>>> IESG (PS)
>>>
>>> And these chartered items in AVT:
>>>
>>> Dec 2007    Submit in band keying mechanism for SRTP draft for  
>>> Proposed
>>> Standard
>>>
>>>
>>> Regards
>>>
>>> Keith
>>>
>>>> -----Original Message-----
>>>> From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On
>>>> Behalf Of Cullen Jennings
>>>> Sent: Friday, February 29, 2008 5:33 AM
>>>> To: Dean Willis
>>>> Cc: IETF SIP List
>>>> Subject: Re: [Sip] Revised agenda for SIP -- needs more work yet
>>>>
>>>>
>>>> On Feb 28, 2008, at 8:57 PM, Dean Willis wrote:
>>>>
>>>>>
>>>>> On Feb 28, 2008, at 5:00 PM, Jonathan Rosenberg wrote:
>>>>>
>>>>>> 10 minutes on the phone number dichotomy thing isn't going to be
>>>>>> even close enough to cut it. It should be either zero or a more
>>>>>> significant number.
>>>>>>
>>>>>> We have 30 minutes on media security. The only chartered
>>>> item there
>>>>>> is the requiremetns document which I thought was mostly
>>>> done. Why is
>>>>>> there so much time dedicated to this? I would rather move that to
>>>>>> INFO or the identity mess.
>>>>>
>>>>> Me too. But hey, the media security requirements document is
>>>>> CHARTERED. We have permission to work on it and a commitment to a
>>>>> deliverable, with a published milestone. We don't have that
>>>> for INFO
>>>>> or the identity mess (even though I think media security is
>>>> blocked on
>>>>> the identity mess -- our AD currently disagrees).
>>>>>
>>>>
>>>> Dean - I think we must be having some serious
>>>> miscommunications - many times in the past I have had enough
>>>> typos in my emails that no one could understand what I might
>>>> have been thinking but ....
>>>>
>>>> I don't think I said that. The two things I thought I said
>>>> that might have been confused are:
>>>>
>>>> 1) I don't think the E.164 discussion is holding up milestone
>>>> items in MEDIACTRL or SIMPLE
>>>>
>>>> 2) I don't think a problem in some mechanism such as 4474
>>>> should be holding up the media security requirements draft.
>>>> (If I could bold requirements in the previous sentences I would)
>>>>
>>>> I certainly do think it is important that we have a clear
>>>> understanding of how E.164 numbers fit into the overall SIP
>>>> security picture.  Sorry if I said something that made you
>>>> think otherwise.
>>>>
>>>>
>>>> _______________________________________________
>>>> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
>>>> This list is for NEW development of the core SIP Protocol Use
>>>> sip-implementors@cs.columbia.edu for questions on current sip
>>>> Use sipping@ietf.org for new developments on the application of sip
>>>>
>>> _______________________________________________
>>> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
>>> This list is for NEW development of the core SIP Protocol
>>> Use sip-implementors@cs.columbia.edu for questions on current sip
>>> Use sipping@ietf.org for new developments on the application of sip
>
> -- 
> Jonathan D. Rosenberg, Ph.D.                   499 Thornall St.
> Cisco Fellow                                   Edison, NJ 08837
> Cisco, Voice Technology Group
> jdrosen@cisco.com
> http://www.jdrosen.net                         PHONE: (408) 902-3084
> http://www.cisco.com

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Mon Mar 10 08:05:05 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id A30BC28D91C;
	Mon, 10 Mar 2008 08:05:05 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -101.053
X-Spam-Level: 
X-Spam-Status: No, score=-101.053 tagged_above=-999 required=5
	tests=[AWL=-0.616, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id iy+VqtVVdpUZ; Mon, 10 Mar 2008 08:05:00 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 8048F28CDFC;
	Mon, 10 Mar 2008 07:36:10 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 9A12E28D9E5
	for <sip@core3.amsl.com>; Mon, 10 Mar 2008 07:36:08 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id imr6-5s8O3oq for <sip@core3.amsl.com>;
	Mon, 10 Mar 2008 07:36:07 -0700 (PDT)
Received: from rtp-iport-2.cisco.com (rtp-iport-2.cisco.com [64.102.122.149])
	by core3.amsl.com (Postfix) with ESMTP id 7617328C64A
	for <sip@ietf.org>; Sun,  9 Mar 2008 21:54:36 -0700 (PDT)
X-IronPort-AV: E=Sophos;i="4.25,472,1199682000"; 
   d="scan'208";a="1106796"
Received: from rtp-dkim-2.cisco.com ([64.102.121.159])
	by rtp-iport-2.cisco.com with ESMTP; 10 Mar 2008 00:52:15 -0400
Received: from rtp-core-2.cisco.com (rtp-core-2.cisco.com [64.102.124.13])
	by rtp-dkim-2.cisco.com (8.12.11/8.12.11) with ESMTP id m2A4qFQX019005; 
	Mon, 10 Mar 2008 00:52:15 -0400
Received: from xbh-rtp-211.amer.cisco.com (xbh-rtp-211.cisco.com
	[64.102.31.102])
	by rtp-core-2.cisco.com (8.12.10/8.12.6) with ESMTP id m2A4qAjP023653; 
	Mon, 10 Mar 2008 04:52:15 GMT
Received: from xfe-rtp-201.amer.cisco.com ([64.102.31.38]) by
	xbh-rtp-211.amer.cisco.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Mon, 10 Mar 2008 00:52:10 -0400
Received: from [10.82.241.114] ([10.82.241.114]) by xfe-rtp-201.amer.cisco.com
	with Microsoft SMTPSVC(6.0.3790.1830); 
	Mon, 10 Mar 2008 00:52:10 -0400
Message-ID: <47D4BE72.6080805@cisco.com>
Date: Mon, 10 Mar 2008 00:52:02 -0400
From: Jonathan Rosenberg <jdrosen@cisco.com>
User-Agent: Thunderbird 2.0.0.9 (Windows/20071031)
MIME-Version: 1.0
To: Robert Sparks <rjsparks@nostrum.com>
References: <54811460-0364-4794-8E4F-1EE47CC94B64@softarmor.com><47C73D16.9080103@cisco.com><E810CC3A-BC03-49ED-BE92-CD91517F0E7E@softarmor.com>
	<D1D1C5EF-08ED-4CF3-95F8-94B7F8B566B4@cisco.com>
	<5D1A7985295922448D5550C94DE2918001CB067E@DEEXC1U01.de.lucent.com>
	<5A561DF8-2237-4D1C-9B42-CB82C48A6C4A@nostrum.com>
In-Reply-To: <5A561DF8-2237-4D1C-9B42-CB82C48A6C4A@nostrum.com>
X-OriginalArrivalTime: 10 Mar 2008 04:52:10.0502 (UTC)
	FILETIME=[7FF5D260:01C8826A]
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; l=9322; t=1205124735;
	x=1205988735; c=relaxed/simple; s=rtpdkim2001;
	h=Content-Type:From:Subject:Content-Transfer-Encoding:MIME-Version;
	d=cisco.com; i=jdrosen@cisco.com;
	z=From:=20Jonathan=20Rosenberg=20<jdrosen@cisco.com>
	|Subject:=20Re=3A=20Essential=20Corrections=20-=20invfix=20
	=20(was=20Re=3A=20[Sip]=20Revised=20agenda=0A=20for=20SIP=20
	--=20needs=20more=20work=20yet) |Sender:=20
	|To:=20Robert=20Sparks=20<rjsparks@nostrum.com>;
	bh=yEjjhbC8dHEGCL/TgYdJQcyYoWsyFKPhS/Y8++M/trM=;
	b=idtloqB3TuxcbKWgZ6fPkEi1Fq55mHIzX5FyAFzFDmvsBgYF8Bp0r5hJg+
	AWIS7YKWFRESbbqMhF2wUV2WHVp2AxBe0wkT6+BTYEa9OK5oyYRs3uImZ7RE
	rR0JMNgC/9;
Authentication-Results: rtp-dkim-2; header.From=jdrosen@cisco.com; dkim=pass (
	sig from cisco.com/rtpdkim2001 verified; ); 
Cc: Cullen Jennings <fluffy@cisco.com>, IETF SIP List <sip@ietf.org>,
	Keith Drage <drage@alcatel-lucent.com>,
	Dean Willis <dean.willis@softarmor.com>
Subject: Re: [Sip] Essential Corrections - invfix (was Re: Revised agenda
 for SIP -- needs more work yet)
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

I read through the new invfix draft. I think this new format allows it 
to be understandable as a standalone document, which is good.

Just a couple of comments:

1. section 7 (which has the standalone description) has normative 
language in it. Thus, there is the possibility of conflict with the 
actual formal spec, which is done via diff. One of the two needs to be 
made non-normative.

2. 7.1 and 7.2 are a bit confusing in that they talk specifically about 
UAC and UAS but of course the transaction machines apply to proxies. 
Section 7.3 has proxy considerations but is very thin. I think 7.1 and 
7.2 should be restructured around client and server transactions


I personally suspect the actual formal diffs in section 8 will be too 
hard to apply for anyone to use them; everyone will work off of the 
descriptive text in section 7. So I don't object to it being there, but 
I think we should realize it will be ignored and section 7 better be 
complete and accurate.

Thanks,
Jonathan R.

Robert Sparks wrote:
> Folks -
> 
> Lets try to get the Essential Corrections and -invfix- discussion off 
> the agenda since there are clearly gnarlier things to talk about.
> 
> I sent in a revision to inv-fix attempting to address Jonathan's concern 
> about stand-alone readability.
> Jonathan - is the new format better? Can we go with this?
> 
> I sent a separate message showing what it would look like to build a 
> diff against 3261 that we could put in the document. You'll
> remember that on looking at it, its my opinion that going down that path 
> is a very bad idea.
> 
> So far, there's only been one response on list to those messages.
> 
> Please, everyone (especially those that have expressed strong opinions 
> in the past), look those over and let us know if we're
> past the primary concerns, or if we still have something to work through 
> that needs face time to do so.
> 
> RjS
> 
> On Feb 29, 2008, at 5:00 AM, DRAGE, Keith ((Keith)) wrote:
> 
>> (As SIP WG cochair)
>>
>> As Dean already said, we spend 3 hours last night trying to plan a 2 1/2
>> hour session based on input we do not completely have. We don't think we
>> finished, but this was the best we could reach so far in the time
>> available. Things can move up, but they don't solve the fundamental
>> problem that we don't have enough time. It was not our idea to limit SIP
>> to a single session - this was forced on us by the ADs.
>>
>> Modification of this agenda is more likely to occur not by complaining
>> about the time allocated, but by the presence of technical discussion on
>> list over the next 8 days.
>>
>> Some generals:
>>
>> We have taken the principle that if discussion time is needed on
>> chartered items specifically, then they come first, and more
>> specifically highest priority for any discussion needed to get something
>> out of WGLC and into publication request. This is then followed by
>> documents that we envisaged could hold up chartered items (in this and
>> other groups) if not discussed. Then follow the other items where time
>> has been requested.
>>
>> Some specifics based on comments received so far:
>>
>> Domain-certs and eku are in WGLC which ends of Friday next week. These
>> are a dependency from other chartered items where we are ready to submit
>> the publication request. We will not have a view of what specifically
>> needs discussion on these in the meeting until the end of the WGLC, when
>> all the comments are in. Many of the comments made will not need
>> discussion in the SIP session and can be discussed on list by the
>> editors after the end of last call. If any comment does need SIP WG
>> session time, then we will give it on the above basis.
>>
>> Outbound is in WGLC and has no time. We are still waiting for input to
>> know if it needs time - not helped by the authors dropping yet another
>> new version in the inbox 3 minutes before the -xx deadline when it
>> should have been there a month ago. Our current view is to issue a
>> refreshed WGLC on this following the meeting but that can change.
>>
>> Location conveyance is in WGLC and has no time. Again author drops new
>> version in inbox 3 minutes before -xx document deadline. This document
>> is impacted by:
>>
>> http://www.ietf.org/internet-drafts/draft-peterson-geopriv-retransmissio
>> n-00.txt
>>
>> Which will be discussed in the GEOPRIV group, but if followed reverses
>> the decision we made in the location-conveyance breakout at the last
>> meeting. We hope the GEOPRIV discussion does not force rediscussion in
>> SIP, but please bear in mind that it could do so.
>>
>> RPH in responses is not chartered. 2 meetings back the WG expressed a
>> wish to work on this. The AD pushed back to our request to charter. As
>> the AD makes the decision, it is not chartered and has no milestones.
>> That's why we had the further discussion in the last meeting - where
>> again we came to no conclusions, and I assume the AD is still
>> unconvinced. Fundamental problem - convince the AD. Put him in a corner
>> somewhere in Philadelphia and kick hell out of him, but we don't need
>> the SIP session to watch you do that - although it may be entertaining!
>>
>> Media security requirements is holding up other chartered items in both
>> SIP and AVT. When we considered this for inclusion, we believed there
>> were two items that may need agenda item. Overnight Dean seems to have
>> taken the time away at the moment, but I remain unconvinced that this
>> does not need time.
>>
>> This is the media-security requirements milestones:
>>
>> Sep 2007    Requirements for media keying to WGLC (Informational)
>> Nov 2007    Requirements for media keying to IESG (Informational)
>>
>> Which provides the requirements for the mechanism in these charter items
>> in SIP.
>>
>> Dec 2007    Establishment of secure media sessions using DTLS-SRTP to
>> WGLC (PS)
>> Feb 2008    Establishment of secure media sessions using DTLS-SRTP to
>> IESG (PS)
>>
>> And these chartered items in AVT:
>>
>> Dec 2007    Submit in band keying mechanism for SRTP draft for Proposed
>> Standard
>>
>>
>> Regards
>>
>> Keith
>>
>>> -----Original Message-----
>>> From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On
>>> Behalf Of Cullen Jennings
>>> Sent: Friday, February 29, 2008 5:33 AM
>>> To: Dean Willis
>>> Cc: IETF SIP List
>>> Subject: Re: [Sip] Revised agenda for SIP -- needs more work yet
>>>
>>>
>>> On Feb 28, 2008, at 8:57 PM, Dean Willis wrote:
>>>
>>>>
>>>> On Feb 28, 2008, at 5:00 PM, Jonathan Rosenberg wrote:
>>>>
>>>>> 10 minutes on the phone number dichotomy thing isn't going to be
>>>>> even close enough to cut it. It should be either zero or a more
>>>>> significant number.
>>>>>
>>>>> We have 30 minutes on media security. The only chartered
>>> item there
>>>>> is the requiremetns document which I thought was mostly
>>> done. Why is
>>>>> there so much time dedicated to this? I would rather move that to
>>>>> INFO or the identity mess.
>>>>
>>>> Me too. But hey, the media security requirements document is
>>>> CHARTERED. We have permission to work on it and a commitment to a
>>>> deliverable, with a published milestone. We don't have that
>>> for INFO
>>>> or the identity mess (even though I think media security is
>>> blocked on
>>>> the identity mess -- our AD currently disagrees).
>>>>
>>>
>>> Dean - I think we must be having some serious
>>> miscommunications - many times in the past I have had enough
>>> typos in my emails that no one could understand what I might
>>> have been thinking but ....
>>>
>>> I don't think I said that. The two things I thought I said
>>> that might have been confused are:
>>>
>>> 1) I don't think the E.164 discussion is holding up milestone
>>> items in MEDIACTRL or SIMPLE
>>>
>>> 2) I don't think a problem in some mechanism such as 4474
>>> should be holding up the media security requirements draft.
>>> (If I could bold requirements in the previous sentences I would)
>>>
>>> I certainly do think it is important that we have a clear
>>> understanding of how E.164 numbers fit into the overall SIP
>>> security picture.  Sorry if I said something that made you
>>> think otherwise.
>>>
>>>
>>> _______________________________________________
>>> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
>>> This list is for NEW development of the core SIP Protocol Use
>>> sip-implementors@cs.columbia.edu for questions on current sip
>>> Use sipping@ietf.org for new developments on the application of sip
>>>
>> _______________________________________________
>> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
>> This list is for NEW development of the core SIP Protocol
>> Use sip-implementors@cs.columbia.edu for questions on current sip
>> Use sipping@ietf.org for new developments on the application of sip
> 
> 

-- 
Jonathan D. Rosenberg, Ph.D.                   499 Thornall St.
Cisco Fellow                                   Edison, NJ 08837
Cisco, Voice Technology Group
jdrosen@cisco.com
http://www.jdrosen.net                         PHONE: (408) 902-3084
http://www.cisco.com
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Mon Mar 10 08:38:40 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 8D13B28C2E7
	for <ietfarch-sip-archive@core3.amsl.com>; Mon, 10 Mar 2008 08:38:40 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.438
X-Spam-Level: 
X-Spam-Status: No, score=-100.438 tagged_above=-999 required=5
	tests=[AWL=-0.002, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, HTML_MESSAGE=0.001, RDNS_NONE=0.1,
	USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id hx4pjHxvtPt1; Mon, 10 Mar 2008 08:38:36 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id C371028E0E8;
	Mon, 10 Mar 2008 08:15:31 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 9216828D303
	for <sip@core3.amsl.com>; Mon, 10 Mar 2008 08:15:30 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id Pef3Q7gPnUdF for <sip@core3.amsl.com>;
	Mon, 10 Mar 2008 08:15:28 -0700 (PDT)
Received: from ondar.cablelabs.com (ondar.cablelabs.com [192.160.73.61])
	by core3.amsl.com (Postfix) with ESMTP id 58A3728CB4C
	for <sip@ietf.org>; Mon, 10 Mar 2008 07:53:58 -0700 (PDT)
Received: from kyzyl.cablelabs.com (kyzyl [10.253.0.7])
	by ondar.cablelabs.com (8.14.2/8.14.2) with ESMTP id m2AEq0lr028538;
	Mon, 10 Mar 2008 08:52:00 -0600
Received: from srvxchg3.cablelabs.com (10.5.0.25)
	by kyzyl.cablelabs.com (F-Secure/fsigk_smtp/511/kyzyl.cablelabs.com);
	Mon, 10 Mar 2008 08:52:01 -0700 (MST)
X-Virus-Status: clean(F-Secure/fsigk_smtp/511/kyzyl.cablelabs.com)
X-Mimeole: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Mon, 10 Mar 2008 08:51:56 -0600
Message-ID: <9AAEDF491EF7CA48AB587781B8F5D7C6FA6FDE@srvxchg3.cablelabs.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Proxy-Authentication-Info header
Thread-Index: AciCvklJnpcj0PISRRal7uRV0rGCNw==
From: "Sumanth Channabasappa" <sumanth@cablelabs.com>
To: <sip@ietf.org>
X-Approved: ondar
Cc: Stuart Hoggan <s.hoggan@cablelabs.com>, Steve.Dotson@cox.com
Subject: [Sip] Proxy-Authentication-Info header
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: multipart/mixed; boundary="===============1877354145=="
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

This is a multi-part message in MIME format.

--===============1877354145==
Content-class: urn:content-classes:message
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C882BE.4B0DFEE3"

This is a multi-part message in MIME format.

------_=_NextPart_001_01C882BE.4B0DFEE3
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

Folks,

=20

At the last IETF it was mentioned that the proposal in
draft-dotson-sip-mutual-auth-00 is not to be considered an essential
correction. A new version that presents the proposal as an extension was
uploaded sometime back:

=20

http://tools.ietf.org/id/draft-dotson-sip-mutual-auth-01.txt

=20

=20

As a refresher, the I-D proposes the use of the
Proxy-Authentication-Info header for Proxy-to-User authentication within
SIP. This header allows for a UA to authenticate the proxy during
Proxy-to-user authentication, thus enabling mutual authentication. This
is similar to the currently specified use of Authentication-Info header
for User-to-User authentication (and without the
Proxy-Authentication-Info header, the two would be inconsistent). It
also enables limited integrity protection, and for the proxy to provide
additional details such as the nonce to use for future authentication
responses (next nonce).=20

=20

We would request the WG to review the proposal and let us know if this
can be considered as a potential item for the WG or, more importantly,
if there are any objections (with reasons).=20


(The original email made it through to SIPPING instead of SIP - :(.)

=20

Thanks!

Sumanth, Stuart and Steve

=20


------_=_NextPart_001_01C882BE.4B0DFEE3
Content-Type: text/html;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

<html xmlns:o=3D"urn:schemas-microsoft-com:office:office" =
xmlns:w=3D"urn:schemas-microsoft-com:office:word" =
xmlns=3D"http://www.w3.org/TR/REC-html40">

<head>
<meta http-equiv=3DContent-Type content=3D"text/html; =
charset=3Dus-ascii">
<meta name=3DGenerator content=3D"Microsoft Word 11 (filtered medium)">
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:Tahoma;
	panose-1:2 11 6 4 3 5 4 4 2 4;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin:0in;
	margin-bottom:.0001pt;
	font-size:12.0pt;
	font-family:"Times New Roman";}
a:link, span.MsoHyperlink
	{color:blue;
	text-decoration:underline;}
a:visited, span.MsoHyperlinkFollowed
	{color:purple;
	text-decoration:underline;}
span.EmailStyle17
	{mso-style-type:personal-compose;
	font-family:Tahoma;
	color:windowtext;
	font-weight:normal;
	font-style:normal;
	text-decoration:none none;}
@page Section1
	{size:8.5in 11.0in;
	margin:1.0in 1.25in 1.0in 1.25in;}
div.Section1
	{page:Section1;}
-->
</style>

</head>

<body lang=3DEN-US link=3Dblue vlink=3Dpurple>

<div class=3DSection1>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier =
New"'>Folks,<o:p></o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier =
New"'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier New"'>At the last IETF it =
was
mentioned that the proposal in draft-dotson-sip-mutual-auth-00 is not to =
be
considered an essential correction. A new version that presents the =
proposal as
an extension was uploaded sometime back:<o:p></o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier =
New"'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier New"'><a
href=3D"http://tools.ietf.org/id/draft-dotson-sip-mutual-auth-01.txt">htt=
p://tools.ietf.org/id/draft-dotson-sip-mutual-auth-01.txt</a><o:p></o:p><=
/span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier =
New"'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier =
New"'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier New"'>As a refresher, the =
I-D
proposes the use of the Proxy-Authentication-Info header for =
Proxy-to-User
authentication within SIP. This header allows for a UA to authenticate =
the proxy
during Proxy-to-user authentication, thus enabling mutual =
authentication. This is
similar to the currently specified use of Authentication-Info header for
User-to-User authentication (and without the Proxy-Authentication-Info =
header,
the two would be inconsistent). It also enables limited integrity =
protection,
and for the proxy to provide additional details such as the nonce to use =
for
future authentication responses (next nonce). =
<o:p></o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier =
New"'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier New"'>We would request =
the WG to
review the proposal and let us know if this can be considered as a =
potential
item for the WG or, more importantly, if there are any objections (with
reasons). <o:p></o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier New"'><br>
(The original email made it through to SIPPING instead of SIP - =
:(.)<o:p></o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier =
New"'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier =
New"'>Thanks!<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:10.0pt;
font-family:"Courier New"'>Sumanth, Stuart and =
Steve<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DTahoma><span =
style=3D'font-size:10.0pt;
font-family:Tahoma'><o:p>&nbsp;</o:p></span></font></p>

</div>

</body>

</html>

------_=_NextPart_001_01C882BE.4B0DFEE3--

--===============1877354145==
Content-Type: text/plain; charset="us-ascii"
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip
--===============1877354145==--


From sip-bounces@ietf.org  Mon Mar 10 08:45:51 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id A6E1D28CF39;
	Mon, 10 Mar 2008 08:45:51 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.797
X-Spam-Level: 
X-Spam-Status: No, score=-100.797 tagged_above=-999 required=5
	tests=[AWL=-0.360, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id sXnRUocDvx7H; Mon, 10 Mar 2008 08:45:50 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 6B3BB28DF33;
	Mon, 10 Mar 2008 08:20:06 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 9272028DEEA
	for <sip@core3.amsl.com>; Mon, 10 Mar 2008 08:20:01 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id E2yO6OM3uBCY for <sip@core3.amsl.com>;
	Mon, 10 Mar 2008 08:20:00 -0700 (PDT)
Received: from QMTA04.emeryville.ca.mail.comcast.net
	(qmta04.emeryville.ca.mail.comcast.net [76.96.30.40])
	by core3.amsl.com (Postfix) with ESMTP id 3B9D528E4F0
	for <sip@ietf.org>; Mon, 10 Mar 2008 08:00:54 -0700 (PDT)
Received: from OMTA14.emeryville.ca.mail.comcast.net ([76.96.30.60])
	by QMTA04.emeryville.ca.mail.comcast.net with comcast
	id zPuP1Y0091HpZEsA40F500; Mon, 10 Mar 2008 14:57:45 +0000
Received: from dragon.ariadne.com ([76.19.174.1])
	by OMTA14.emeryville.ca.mail.comcast.net with comcast
	id zSyX1Y00B02AVH08a00000; Mon, 10 Mar 2008 14:58:33 +0000
X-Authority-Analysis: v=1.0 c=1 a=iy5vyyyxaLPwmPmz6kkA:9
	a=bA57XOFh7sEnxH0XIsgA:7 a=Yvc4deeZMR8X-kXKOeC-3zxEoNsA:4
	a=mnQxEUBslVAA:10 a=8y7tGHue6YMA:10
Received: from dragon.ariadne.com (dragon.ariadne.com [127.0.0.1])
	by dragon.ariadne.com (8.12.8/8.12.8) with ESMTP id m2AEwVMj004848
	for <sip@ietf.org>; Mon, 10 Mar 2008 09:58:31 -0500
Received: (from worley@localhost)
	by dragon.ariadne.com (8.12.8/8.12.8/Submit) id m2AEwVhP004844;
	Mon, 10 Mar 2008 09:58:31 -0500
Date: Mon, 10 Mar 2008 09:58:31 -0500
Message-Id: <200803101458.m2AEwVhP004844@dragon.ariadne.com>
To: sip@ietf.org
From: Dale.Worley@comcast.net
In-reply-to: <7F6B11ED-4BDF-4BC0-8D5B-2C194C312266@softarmor.com>
	(dean.willis@softarmor.com)
References: <20080303183225.D04A35081A@romeo.rtfm.com>
	<1204628885.15582.7.camel@localhost>
	<20080304151905.4EE005081A@romeo.rtfm.com>
	<1204661227.15582.78.camel@localhost>
	<20080304202005.ADD0C5081A@romeo.rtfm.com>
	<1204663441.15582.107.camel@localhost>
	<20080304205516.B737E5081A@romeo.rtfm.com>
	<1204724689.5302.38.camel@localhost>
	<9B149569-37A9-402B-BAB1-BB963CA3D477@softarmor.com>
	<1204789154.5302.73.camel@localhost><47D0333C.8050306@softarmor.com>
	<1204872793.28304.23.camel@localhost>
	<6F488C03-A79D-4059-A4B5-A4D089F23B3A@softarmor.com>
	<1205060435.22140.13.camel@localhost>
	<7F6B11ED-4BDF-4BC0-8D5B-2C194C312266@softarmor.com>
Subject: Re: [Sip] Question on subnot-etags
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
MIME-Version: 1.0
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

   From: Dean Willis <dean.willis@softarmor.com>

   if a watcher misses the "defg" eTag "89" phase at step 2for some  
   reason. It sees state 1, then it sees state 3. If the eTag is allowed  
   to repeat, it doesn't know it missed a state change.

Well, there is a design question:  Is the goal to allow the subscriber
update its current knowledge of the state to match the current state,
or do we in addition want the subscriber to know reliably that there
have been state changes (even if their exact content cannot be known)?

You seem to think that knowing of state changes is essential, whereas
the draft considers that to not be a design goal.

I think to progress this discussion, we have to determine whether
reliable knowledge of the existence of state changes is a useful
feature.

Dale
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Mon Mar 10 09:16:31 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id C656528C799;
	Mon, 10 Mar 2008 09:16:31 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.634
X-Spam-Level: 
X-Spam-Status: No, score=-100.634 tagged_above=-999 required=5
	tests=[AWL=-0.197, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id CrJ2wUJ1EgL2; Mon, 10 Mar 2008 09:16:30 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id DE61728CFE1;
	Mon, 10 Mar 2008 08:45:55 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 61E0828C66D
	for <sip@core3.amsl.com>; Mon, 10 Mar 2008 08:45:55 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id I7cJn+0Z+HFh for <sip@core3.amsl.com>;
	Mon, 10 Mar 2008 08:45:53 -0700 (PDT)
Received: from QMTA03.westchester.pa.mail.comcast.net
	(qmta03.westchester.pa.mail.comcast.net [76.96.62.32])
	by core3.amsl.com (Postfix) with ESMTP id 1E53628CE47
	for <sip@ietf.org>; Mon, 10 Mar 2008 08:20:09 -0700 (PDT)
Received: from OMTA14.westchester.pa.mail.comcast.net ([76.96.62.60])
	by QMTA03.westchester.pa.mail.comcast.net with comcast
	id zRWo1Y0501HzFnQ5303h00; Mon, 10 Mar 2008 15:16:58 +0000
Received: from dragon.ariadne.com ([76.19.174.1])
	by OMTA14.westchester.pa.mail.comcast.net with comcast
	id zTHo1Y00D02AVH03a00000; Mon, 10 Mar 2008 15:17:48 +0000
X-Authority-Analysis: v=1.0 c=1 a=4S00uD7mgHyzsXAEIkwA:9
	a=X9HtI2EwXJJsmXGPwnAA:7 a=BptKRWwC-Ij6ECxdMTcNUSBoh6IA:4
	a=1pxjJC3EenQA:10 a=8y7tGHue6YMA:10
Received: from dragon.ariadne.com (dragon.ariadne.com [127.0.0.1])
	by dragon.ariadne.com (8.12.8/8.12.8) with ESMTP id m2AFHmMj006248
	for <sip@ietf.org>; Mon, 10 Mar 2008 10:17:48 -0500
Received: (from worley@localhost)
	by dragon.ariadne.com (8.12.8/8.12.8/Submit) id m2AFHm6D006244;
	Mon, 10 Mar 2008 10:17:48 -0500
Date: Mon, 10 Mar 2008 10:17:48 -0500
Message-Id: <200803101517.m2AFHm6D006244@dragon.ariadne.com>
To: sip@ietf.org
From: Dale.Worley@comcast.net
In-reply-to: <1204872543.28304.18.camel@localhost> (aki.niemi@nokia.com)
References: <20080303183225.D04A35081A@romeo.rtfm.com>
	<1204628885.15582.7.camel@localhost>
	<20080304151905.4EE005081A@romeo.rtfm.com>
	<1204661227.15582.78.camel@localhost>
	<20080304202005.ADD0C5081A@romeo.rtfm.com>
	<1204663441.15582.107.camel@localhost>
	<20080304205516.B737E5081A@romeo.rtfm.com>
	<1204724689.5302.38.camel@localhost>
	<9B149569-37A9-402B-BAB1-BB963CA3D477@softarmor.com>
	<200803060442.m264gqqP014900@dragon.ariadne.com>
	<1204789987.5302.81.camel@localhost>
	<200803062110.m26LAU0n022318@dragon.ariadne.com>
	<1204872543.28304.18.camel@localhost>
Subject: Re: [Sip] Question on subnot-etags
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
MIME-Version: 1.0
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

   From: Aki Niemi <aki.niemi@nokia.com>

   Can you walk me through an example of how etags won't work, please? 

The treacherous aspect is that etags will *work*, technically, but the
nature of the situation will prevent it from achieving any savings
(even though naively one would think that savings could be achived),
and that some attention should be paid to see if we can eliminate this
contradiction.

But let me walk through an example:

The critical fact is that some event types (esp. dialog and
resource-list) contain a "version" attribute.  Within any one
subscription, the first value is required to have version 1.
As the value changes, each successive value is required to increment
the version by 1.

(One consequence is that several subscribers to the same resource can
receive values that are logically the same, but which are textually
different, since each subscriber must receive a correct version within
his sequence of values.)

(I suspect that this mechanism was invented to support the "partial
update" facility, so that the subscriber could detect that he'd missed
an intermediate partial update.  But it's remarkably troublesome in
practice. E.g., in the sipX open-source system, we have one global
version number for all subscribers to a resource, and just violate the
rule that the first NOTIFY in a subscription must have version 1, and
hope that this won't trigger bad behavior in subscribers.)

(Dialog events have version numbers, but presence events do not.  But
resource-list events containing presence events do have version
numbers.)

Consider this sequence of events:

    Subscriber establishes a subscription, receives data A with version 1.

    Subscriber receives data B with version 2.

    Subscriber receives data C with version 3.

    Subscriber receives data D with version 4.

    Subscriber receives data E with version 5.

    Subscriber terminates subscription.

    Subscriber establishes a new subscription, receives data E with
    version 1.

The problem is that etags does not suppress sending of the data in the
last SUBSCRIBE, even though the subscriber already knows the *data*,
because the *value* contains the version 1, whereas the previous value
contained version 5, and so had a different etag.

One way to circumvent this problem is for the subscriber to always use
poll-type (zero-length) SUBSCRIBEs, so that all NOTIFY bodies would be
required to have version 1.  Then if the data is unchanged, the etag
would be unchanged.

IMHO, etags is part of the solution, but it overlaps with the existing
problems of the notification version number, and that a clean solution
is going to require thinking about these in an integrated manner.

Dale
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Mon Mar 10 09:19:19 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 32F9028C7FA;
	Mon, 10 Mar 2008 09:19:19 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.797
X-Spam-Level: 
X-Spam-Status: No, score=-100.797 tagged_above=-999 required=5
	tests=[AWL=-0.360, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id IkrLalKZp3KR; Mon, 10 Mar 2008 09:19:17 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 725873A6E4D;
	Mon, 10 Mar 2008 08:54:09 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 4E86828C5E6
	for <sip@core3.amsl.com>; Mon, 10 Mar 2008 08:54:08 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id F482GPngLeXe for <sip@core3.amsl.com>;
	Mon, 10 Mar 2008 08:54:06 -0700 (PDT)
Received: from mail.iptel.org (smtp.iptel.org [213.192.59.67])
	by core3.amsl.com (Postfix) with ESMTP id B9B9928C72E
	for <sip@ietf.org>; Mon, 10 Mar 2008 08:33:35 -0700 (PDT)
Received: from uk1lt10071.iptel.org (shell.iptel.org [213.192.59.74])
	by mail.iptel.org (Postfix) with ESMTP id 3270D181803F;
	Mon, 10 Mar 2008 16:31:12 +0100 (CET)
X-Mailer: QUALCOMM Windows Eudora Version 7.1.0.9
Date: Mon, 10 Mar 2008 16:17:15 +0100
To: "Francois Audet" <audet@nortel.com>,
	"Dean Willis" <dean.willis@softarmor.com>,
	"Christer Holmberg" <christer.holmberg@ericsson.com>
From: Jiri Kuthan <jiri@iptel.org>
In-Reply-To: <1ECE0EB50388174790F9694F77522CCF1557B266@zrc2hxm0.corp.nor
	tel.com>
References: <20080303185301.8A6B61819D7F@mail.iptel.org>
	<1ECE0EB50388174790F9694F77522CCF1549EC14@zrc2hxm0.corp.nortel.com>
	<CA9998CD4A020D418654FCDEF4E707DF04F13E49@esealmw113.eemea.ericsson.se>
	<458913680803060824m23e10d7eqa861a21266eb50b@mail.gmail.com>
	<4E690AA1-9E99-490D-B5EA-E4895E0B675A@ekabal.com>
	<CA9998CD4A020D418654FCDEF4E707DF04F7EF77@esealmw113.eemea.ericsson.se>
	<FFDDF533-F69C-4EC0-B19F-552373DF8035@ekabal.com>
	<CA9998CD4A020D418654FCDEF4E707DF04F7F043@esealmw113.eemea.ericsson.se>
	<1ECE0EB50388174790F9694F77522CCF1552C7E3@zrc2hxm0.corp.nortel.com>
	<CA9998CD4A020D418654FCDEF4E707DF04F7F548@esealmw113.eemea.ericsson.se>
	<CA9998CD4A020D418654FCDEF4E707DF04F7F892@esealmw113.eemea.ericsson.se>
	<91A487B8-CCCA-44B2-B73B-9A58D8CB9FE2@ekabal.com>
	<CA9998CD4A020D418654FCDEF4E707DF04FD3067@esealmw113.eemea.ericsson.se>
	<A7837C29-60EC-4434-9209-15831192DD00@softarmor.com>
	<1ECE0EB50388174790F9694F77522CCF1557B266@zrc2hxm0.corp.nortel.com>
Mime-Version: 1.0
Message-Id: <20080310153113.3270D181803F@mail.iptel.org>
Cc: sip@ietf.org, Rohan Mahy <rohan@ekabal.com>,
	Xavier Marjou <xavier.marjou@orange-ftgroup.com>,
	Cullen Jennings <fluffy@cisco.com>
Subject: Re: [Sip] Outbound-12: STUN keep-alives without outbound
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Here is something which is incredibly simple to do (which I consider a feature):
send TCP keep-alives (sorry about OSs that can't configure those) and STUN-UDP.
That's it and it works for many apps and it does not take the multi-hop 
multi-layer interaction. Remove it from outbound and get outbound finished.
Keep stuff simple and separated (i.e. do keep-alive with the entity terminating
TCP connection or UDP flow, which is what is in question; don't interact with
outbound proxies, registrars, or even worse all of them).

-jiri

At 20:14 08/03/2008, Francois Audet wrote:
>Can someone explain to me just how you can make Keep-Alives work without
>the rest of outbound????
>
> 
>
>> -----Original Message-----
>> From: Dean Willis [mailto:dean.willis@softarmor.com] 
>> Sent: Friday, March 07, 2008 13:34
>> To: Christer Holmberg
>> Cc: Rohan Mahy; sip@ietf.org; Cullen Jennings; Audet, 
>> Francois (SC100:3055); Xavier Marjou
>> Subject: Re: [Sip] Outbound-12: STUN keep-alives without outbound
>> 
>> 
>> On Mar 7, 2008, at 12:59 PM, Christer Holmberg wrote:
>> 
>> >
>> > Hi Rohan,
>> >
>> >> The edge proxy is only supposed to add the ob parameter to 
>> the Path 
>> >> if the edge proxy included a flow token in the path URI.  
>> This should 
>> >> only happen when the UA included a reg-id and instance-id 
>> parameter 
>> >> in its Contact header.
>> >
>> > Correct. But, the point is that the UA would then still be 
>> "allowed"  
>> > to
>> > use STUN keep-alive between itself and the outbound proxy, 
>> even if the 
>> > registrar doesn't support outbound.
>> 
>> So I think you're saying that we've gotten the decision as to 
>> whether to use keepalive between the UA and the edge proxy 
>> tangled up with whether or not we use the outbound-style 
>> persistent binding at the registrar?
>> 
>> Perhaps if the keepalive negotiation were independent of 
>> outbound, it would work better for you.
>> 
>> --
>> Dean
>> 
>> 
>_______________________________________________
>Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
>This list is for NEW development of the core SIP Protocol
>Use sip-implementors@cs.columbia.edu for questions on current sip
>Use sipping@ietf.org for new developments on the application of sip



--
Jiri Kuthan            http://iptel.org/~jiri/

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Mon Mar 10 10:45:19 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id F099628C164;
	Mon, 10 Mar 2008 10:45:18 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -101.518
X-Spam-Level: 
X-Spam-Status: No, score=-101.518 tagged_above=-999 required=5
	tests=[AWL=-1.081, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id UDPRtB5St2vb; Mon, 10 Mar 2008 10:45:17 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 802E83A6963;
	Mon, 10 Mar 2008 10:45:14 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 295443A69C5
	for <sip@core3.amsl.com>; Mon, 10 Mar 2008 10:45:12 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id GnMH3cT+iJEf for <sip@core3.amsl.com>;
	Mon, 10 Mar 2008 10:45:06 -0700 (PDT)
Received: from nylon.softarmor.com (nylon.softarmor.com [66.135.38.164])
	by core3.amsl.com (Postfix) with ESMTP id 742FD3A67F8
	for <sip@ietf.org>; Mon, 10 Mar 2008 10:45:05 -0700 (PDT)
Received: from [130.129.84.215] ([130.129.84.215]) (authenticated bits=0)
	by nylon.softarmor.com (8.13.8/8.13.8/Debian-3) with ESMTP id
	m2AHgSsY011368
	(version=TLSv1/SSLv3 cipher=AES128-SHA bits=128 verify=NOT);
	Mon, 10 Mar 2008 12:42:29 -0500
Message-Id: <210A915D-BA08-4CD6-8376-7004C660514D@softarmor.com>
From: Dean Willis <dean.willis@softarmor.com>
To: Dale.Worley@comcast.net
In-Reply-To: <200803101458.m2AEwVhP004844@dragon.ariadne.com>
Mime-Version: 1.0 (Apple Message framework v919.2)
Date: Mon, 10 Mar 2008 13:42:22 -0400
References: <20080303183225.D04A35081A@romeo.rtfm.com>
	<1204628885.15582.7.camel@localhost>
	<20080304151905.4EE005081A@romeo.rtfm.com>
	<1204661227.15582.78.camel@localhost>
	<20080304202005.ADD0C5081A@romeo.rtfm.com>
	<1204663441.15582.107.camel@localhost>
	<20080304205516.B737E5081A@romeo.rtfm.com>
	<1204724689.5302.38.camel@localhost>
	<9B149569-37A9-402B-BAB1-BB963CA3D477@softarmor.com>
	<1204789154.5302.73.camel@localhost><47D0333C.8050306@softarmor.com>
	<1204872793.28304.23.camel@localhost>
	<6F488C03-A79D-4059-A4B5-A4D089F23B3A@softarmor.com>
	<1205060435.22140.13.camel@localhost>
	<7F6B11ED-4BDF-4BC0-8D5B-2C194C312266@softarmor.com>
	<200803101458.m2AEwVhP004844@dragon.ariadne.com>
X-Mailer: Apple Mail (2.919.2)
Cc: sip@ietf.org
Subject: Re: [Sip] Question on subnot-etags
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


On Mar 10, 2008, at 10:58 AM, Dale.Worley@comcast.net wrote:

>   From: Dean Willis <dean.willis@softarmor.com>
>
>   if a watcher misses the "defg" eTag "89" phase at step 2for some
>   reason. It sees state 1, then it sees state 3. If the eTag is  
> allowed
>   to repeat, it doesn't know it missed a state change.
>
> Well, there is a design question:  Is the goal to allow the subscriber
> update its current knowledge of the state to match the current state,
> or do we in addition want the subscriber to know reliably that there
> have been state changes (even if their exact content cannot be known)?
>
> You seem to think that knowing of state changes is essential, whereas
> the draft considers that to not be a design goal.

I'm thinking that it might be essential for some applications, and  
that if the mechanism doesn't support it, then we simply need to  
document that the mechanism doesn't support it because there is an  
easy workaround by encoding version labels in the object itself.
>
>
> I think to progress this discussion, we have to determine whether
> reliable knowledge of the existence of state changes is a useful
> feature.

Well, that would help, but only if we think we need to change the spec  
to support the feature. I'm currently thinking that we do NOT need to  
change the spec to get this behavior -- we just need to clarify in the  
spec that it does not. This may be as simple as a one-sentence add  
(although I suspect it's more like a paragraph).

--
dean

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Mon Mar 10 11:29:43 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 659CD28C328;
	Mon, 10 Mar 2008 11:29:43 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.444
X-Spam-Level: 
X-Spam-Status: No, score=-100.444 tagged_above=-999 required=5
	tests=[AWL=-0.007, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 5o4RyQPYYqAe; Mon, 10 Mar 2008 11:29:42 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 24FA33A6BAD;
	Mon, 10 Mar 2008 11:29:37 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id E37A93A6B2C
	for <sip@core3.amsl.com>; Mon, 10 Mar 2008 11:29:35 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id BsPl518bLtTz for <sip@core3.amsl.com>;
	Mon, 10 Mar 2008 11:29:32 -0700 (PDT)
Received: from ondar.cablelabs.com (ondar.cablelabs.com [192.160.73.61])
	by core3.amsl.com (Postfix) with ESMTP id D2E6A28C406
	for <sip@ietf.org>; Mon, 10 Mar 2008 11:28:35 -0700 (PDT)
Received: from kyzyl.cablelabs.com (kyzyl [10.253.0.7])
	by ondar.cablelabs.com (8.14.2/8.14.2) with ESMTP id m2AIQd7h012556
	for <sip@ietf.org>; Mon, 10 Mar 2008 12:26:39 -0600
Received: from srvxchg3.cablelabs.com (10.5.0.25)
	by kyzyl.cablelabs.com (F-Secure/fsigk_smtp/511/kyzyl.cablelabs.com);
	Mon, 10 Mar 2008 12:26:39 -0700 (MST)
X-Virus-Status: clean(F-Secure/fsigk_smtp/511/kyzyl.cablelabs.com)
X-Mimeole: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Mon, 10 Mar 2008 12:26:37 -0600
Message-ID: <9AAEDF491EF7CA48AB587781B8F5D7C6FA7008@srvxchg3.cablelabs.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Outbound-12 comments
Thread-Index: AciC3Ea2fSK4uyQVQ4uHasOOq7dZ8g==
From: "Kevin Johns" <K.Johns@CableLabs.com>
To: <sip@ietf.org>
X-Approved: ondar
Subject: [Sip] Outbound-12 comments
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

All,
 
I did a review of outbound, please find my comments below. This review
is for sections 4-8 and the comments are primarily related to tightening
up the procedures.

Comments are formatted as follows - <section #>, <section title>,
<optional text location> - comment...
 
Regards,
Kevin
 
Section 4.2.1, Initial Registration, 2nd para - Is the opening sentence
well understood by all? "For each outbound proxy URI in the set, the UA
SHOULD send a unique REGISTER in the normal way using this URI as the
default outbound proxy."

Section 4.2.1, Initial Registration - this section makes no reference to
the keep-timer. It would seem that this should be discussed in the same
context as detecting outbound support in the registration response? It
is covered in section 4.4 but seems out of place as a first reference.

Section 4.2.2, Subsequent REGISTER requests, The first sentence -
"Re-registrations and single Contact de-registrations use the same
instance-id and reg-id values as the corresponding initial
registration." Suggest making this normative

Section 4.3, Sending Non-REGISTER Requests, 1st paragraph - "UAs that
support this specification SHOULD include the outbound option tag in a
Supported header field in a non-Register REGISTER request." What is a
non-Register REGISTER request? Further why is this recommended? I did
not see this information being used by the edge proxy elsewhere in the
document?

Section 4.4, Keep-alives and Detecting Flow Failure, 2nd paragraph -
"When a successful registration response contains the Flow-Timer header
field..." This is the first reference to the Flow-Timer header and it is
unclear in the context of this section what a successful registration
response is. While a proxy is only allowed to insert this in a response
containing the outbound option-tag in a Require header field, it would
seem reasonable to indicate that it is only used by the UA if outbound
support is also signaled. However this may cross with the current thread
on keep-alive usage and that a proxy may choose to use keep-alives
without outbound and have a desire to control their rate of arrival?

Section 4.4, Keep-alives and Detecting Flow Failure, 2nd paragraph -
"For example, it the server suggests 120 seconds, the UA would send each
keepalive with a different frequency between 95 and 120 seconds." I
think 'it' should be 'if'.

Section 5.4, Edge Proxy Keep alive Handling, last paragraph - should
recommended timer values be provided which align with the UA recommended
values in absence of the Flow-Timer value?

Section 6, Registrar Mechanisms: Processing REGISTER Requests - this
section has no discussion on action taken on receipt of a 430 response.
Section 7 (Authoritative Proxy Mechanisms: Forwarding Requests - last
para) does talk about invalidating bindings to invalid flows but does
not reference a 430 response as one possible methods for determining a
failed flow/binding. I am not sure which section should address this but
some text does need to be added to cover this cause.
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Mon Mar 10 13:22:55 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 501CB3A6D6F;
	Mon, 10 Mar 2008 13:22:55 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -99.991
X-Spam-Level: 
X-Spam-Status: No, score=-99.991 tagged_above=-999 required=5
	tests=[AWL=-0.154, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, J_CHICKENPOX_43=0.6, RDNS_NONE=0.1,
	USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 9zx5lfkw-g8A; Mon, 10 Mar 2008 13:22:51 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 686A63A68CD;
	Mon, 10 Mar 2008 13:22:51 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id C107F3A6A2D
	for <sip@core3.amsl.com>; Mon, 10 Mar 2008 13:22:49 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id SjeI6w7-eNGN for <sip@core3.amsl.com>;
	Mon, 10 Mar 2008 13:22:49 -0700 (PDT)
Received: from an-out-0708.google.com (an-out-0708.google.com [209.85.132.246])
	by core3.amsl.com (Postfix) with ESMTP id 0563A3A6833
	for <sip@ietf.org>; Mon, 10 Mar 2008 13:22:48 -0700 (PDT)
Received: by an-out-0708.google.com with SMTP id d11so608939and.122
	for <sip@ietf.org>; Mon, 10 Mar 2008 13:20:28 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=gamma;
	h=domainkey-signature:received:received:message-id:date:from:user-agent:mime-version:to:subject:content-type:content-transfer-encoding;
	bh=MDh3G5t8pso41Z6z4vBy/uqP03BFE2xtLIk4LyYlQpk=;
	b=XzDqTdPE7dYQJrvDrI+DH4pVWWlJ0PUYIcvyFgM7BZPxM3gpDlqa1mctZSP3nhmPtdOHJqbS5bna7oEneP+gOXJ3WstlCtVRATM7X04y0cvekbG86UrXCaxw+u/xLVT1GZUttbzK02yNbfZzhEZDu4CjpjdXmjIg+tdTh4dV0WA=
DomainKey-Signature: a=rsa-sha1; c=nofws; d=gmail.com; s=gamma;
	h=message-id:date:from:user-agent:mime-version:to:subject:content-type:content-transfer-encoding;
	b=ItXWGdHDpTE2vrfar70+tn+gtNGRs8QYP+xNfZiC8wO49LsqvI2NyH7xsWuuzOQDm9gA1DNE2uJtYbK6QHe3yRBCAEX6XJNA53mJ/ahM0g39ZsFSO4Qu0D9piaOTRdLpAovohJSIWjw7dZvATv0vdWWEvu/Vp62qv3LVAduAkUU=
Received: by 10.100.171.10 with SMTP id t10mr11708206ane.100.1205180428670;
	Mon, 10 Mar 2008 13:20:28 -0700 (PDT)
Received: from ?169.132.86.97? ( [169.132.86.97])
	by mx.google.com with ESMTPS id c13sm17162573anc.20.2008.03.10.13.20.27
	(version=TLSv1/SSLv3 cipher=RC4-MD5);
	Mon, 10 Mar 2008 13:20:28 -0700 (PDT)
Message-ID: <47D59811.4010807@gmail.com>
Date: Mon, 10 Mar 2008 16:20:33 -0400
From: Richard Lee <rich.japh@gmail.com>
User-Agent: Thunderbird 2.0.0.12 (Windows/20080213)
MIME-Version: 1.0
To: sip@ietf.org
Subject: [Sip] OLI lists needed
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Hi, this might not be the best place to ask for this but I was just 
wondering if anyone has OLI(originating Line identification) lists which 
has definition
of the numbers.

For example, 62 means originated from mobile and so forth.
I am not even sure where this definition came from(ITU? or RFCs).. or if 
it was even standaridized at all.

Any help would be greatly appreciated.

thank you.
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Mon Mar 10 13:38:29 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id AB7373A6C96;
	Mon, 10 Mar 2008 13:38:29 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -99.991
X-Spam-Level: 
X-Spam-Status: No, score=-99.991 tagged_above=-999 required=5
	tests=[AWL=-0.154, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, J_CHICKENPOX_43=0.6, RDNS_NONE=0.1,
	USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id tPbYWOHmoBEM; Mon, 10 Mar 2008 13:38:24 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 0D4BE28C104;
	Mon, 10 Mar 2008 13:38:24 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id E0E3328C350
	for <sip@core3.amsl.com>; Mon, 10 Mar 2008 13:38:21 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 8Dzdi+HstHMk for <sip@core3.amsl.com>;
	Mon, 10 Mar 2008 13:38:20 -0700 (PDT)
Received: from empbedex1.empirix.com (empbedex1.empirix.com [12.38.203.54])
	by core3.amsl.com (Postfix) with ESMTP id C57A13A6851
	for <sip@ietf.org>; Mon, 10 Mar 2008 13:37:42 -0700 (PDT)
Received: from EMPBEDEX.empirix.com ([10.16.0.92]) by empbedex1.empirix.com
	with Microsoft SMTPSVC(6.0.3790.1830); 
	Mon, 10 Mar 2008 16:35:22 -0400
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Mon, 10 Mar 2008 16:35:16 -0400
Message-ID: <BD261180E6D35F4D9D32F3E44FD3D9010C1382FD@EMPBEDEX.empirix.com>
In-Reply-To: <47D59811.4010807@gmail.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] OLI lists needed
Thread-Index: AciC7bnFmDsLxwuVS0ityaooFJdWvAAAGx3Q
References: <47D59811.4010807@gmail.com>
From: "Bhattacharyya, Dipankar" <DBhattacharyya@empirix.com>
To: "Richard Lee" <rich.japh@gmail.com>,
	<sip@ietf.org>
X-OriginalArrivalTime: 10 Mar 2008 20:35:22.0198 (UTC)
	FILETIME=[433D5760:01C882EE]
Subject: Re: [Sip] OLI lists needed
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Here Richard, the doc for OLI link
http://www.atis.org/inc/docs/finaldocs/98011620.doc

Regards,
-Dipankar.
Systems Engineer.
Empirix Inc.



-----Original Message-----
From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On Behalf Of
Richard Lee
Sent: Monday, March 10, 2008 3:21 PM
To: sip@ietf.org
Subject: [Sip] OLI lists needed

Hi, this might not be the best place to ask for this but I was just 
wondering if anyone has OLI(originating Line identification) lists which

has definition
of the numbers.

For example, 62 means originated from mobile and so forth.
I am not even sure where this definition came from(ITU? or RFCs).. or if

it was even standaridized at all.

Any help would be greatly appreciated.

thank you.
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Mon Mar 10 13:49:32 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 0EF7F28C3B7;
	Mon, 10 Mar 2008 13:49:32 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -101.207
X-Spam-Level: 
X-Spam-Status: No, score=-101.207 tagged_above=-999 required=5
	tests=[AWL=-0.770, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id hl6n07Qi9vTQ; Mon, 10 Mar 2008 13:49:31 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id EF6453A68BB;
	Mon, 10 Mar 2008 13:49:30 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 63D7128C2F0
	for <sip@core3.amsl.com>; Mon, 10 Mar 2008 13:49:29 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 1PLj9BfQb1KZ for <sip@core3.amsl.com>;
	Mon, 10 Mar 2008 13:49:25 -0700 (PDT)
Received: from rtp-iport-1.cisco.com (rtp-iport-1.cisco.com [64.102.122.148])
	by core3.amsl.com (Postfix) with ESMTP id C77263A6D24
	for <sip@ietf.org>; Mon, 10 Mar 2008 13:49:24 -0700 (PDT)
X-IronPort-AV: E=Sophos;i="4.25,476,1199682000"; 
   d="scan'208";a="1194586"
Received: from rtp-dkim-2.cisco.com ([64.102.121.159])
	by rtp-iport-1.cisco.com with ESMTP; 10 Mar 2008 16:47:03 -0400
Received: from rtp-core-1.cisco.com (rtp-core-1.cisco.com [64.102.124.12])
	by rtp-dkim-2.cisco.com (8.12.11/8.12.11) with ESMTP id m2AKl3Ya031148; 
	Mon, 10 Mar 2008 16:47:03 -0400
Received: from xbh-rtp-201.amer.cisco.com (xbh-rtp-201.cisco.com
	[64.102.31.12])
	by rtp-core-1.cisco.com (8.12.10/8.12.6) with ESMTP id m2AKknap009677; 
	Mon, 10 Mar 2008 20:47:03 GMT
Received: from xfe-rtp-202.amer.cisco.com ([64.102.31.21]) by
	xbh-rtp-201.amer.cisco.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Mon, 10 Mar 2008 16:46:59 -0400
Received: from [161.44.174.168] ([161.44.174.168]) by
	xfe-rtp-202.amer.cisco.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Mon, 10 Mar 2008 16:46:59 -0400
Message-ID: <47D59E56.5070207@cisco.com>
Date: Mon, 10 Mar 2008 16:47:18 -0400
From: Paul Kyzivat <pkyzivat@cisco.com>
User-Agent: Thunderbird 2.0.0.12 (Windows/20080213)
MIME-Version: 1.0
To: Dale.Worley@comcast.net
References: <20080303183225.D04A35081A@romeo.rtfm.com>	<1204628885.15582.7.camel@localhost>	<20080304151905.4EE005081A@romeo.rtfm.com>	<1204661227.15582.78.camel@localhost>	<20080304202005.ADD0C5081A@romeo.rtfm.com>	<1204663441.15582.107.camel@localhost>	<20080304205516.B737E5081A@romeo.rtfm.com>	<1204724689.5302.38.camel@localhost>	<9B149569-37A9-402B-BAB1-BB963CA3D477@softarmor.com>	<1204789154.5302.73.camel@localhost><47D0333C.8050306@softarmor.com>	<1204872793.28304.23.camel@localhost>	<6F488C03-A79D-4059-A4B5-A4D089F23B3A@softarmor.com>	<1205060435.22140.13.camel@localhost>	<7F6B11ED-4BDF-4BC0-8D5B-2C194C312266@softarmor.com>
	<200803101458.m2AEwVhP004844@dragon.ariadne.com>
In-Reply-To: <200803101458.m2AEwVhP004844@dragon.ariadne.com>
X-OriginalArrivalTime: 10 Mar 2008 20:46:59.0162 (UTC)
	FILETIME=[E2A99BA0:01C882EF]
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; l=2147; t=1205182023;
	x=1206046023; c=relaxed/simple; s=rtpdkim2001;
	h=Content-Type:From:Subject:Content-Transfer-Encoding:MIME-Version;
	d=cisco.com; i=pkyzivat@cisco.com;
	z=From:=20Paul=20Kyzivat=20<pkyzivat@cisco.com>
	|Subject:=20Re=3A=20[Sip]=20Question=20on=20subnot-etags
	|Sender:=20 |To:=20Dale.Worley@comcast.net;
	bh=bB/uNXfUIdn0pKDkM7aMxB77CmcMgAu+e6RU8J2m7VU=;
	b=sbwr8AXMShl4YaAhozU29tRWPfRM2d5QRpCXSmhDdTK3dyFOQ5g05n4zDj
	RzCsiPoIfVD71bSXgsyDaAdMjd00Cy2UcvXN1bcAxc8RjQT/MhtrJ9OSZFTl
	wXujY0ixXT;
Authentication-Results: rtp-dkim-2; header.From=pkyzivat@cisco.com; dkim=pass (
	sig from cisco.com/rtpdkim2001 verified; ); 
Cc: sip@ietf.org
Subject: Re: [Sip] Question on subnot-etags
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Lets contrast this to how this need to know all changes plays out 
*without* subnot-etags.

If you maintain an unbroken subscription without etags, you will receive 
every notification. (In the absence of throttling - see below.) If the 
state changes from A to B to A then you will know that. Using etags 
makes no sense.

If you instead poll rather than maintaining a subscription, and don't 
use etags, then if the state changes from A to B to A and your polls 
miss the time when the state is B, you have no way of knowing you missed 
anything. Adding etags does not change this. It just minimizes the data 
transfer on the second poll.

Note also that in the past this has come up in the context of event 
throttling. When event notification is throttled you also can miss 
certain states.

So it seems there has never been any intent to support the requirement 
to be aware of every state transition.

	Paul

Dale.Worley@comcast.net wrote:
>    From: Dean Willis <dean.willis@softarmor.com>
> 
>    if a watcher misses the "defg" eTag "89" phase at step 2for some  
>    reason. It sees state 1, then it sees state 3. If the eTag is allowed  
>    to repeat, it doesn't know it missed a state change.
> 
> Well, there is a design question:  Is the goal to allow the subscriber
> update its current knowledge of the state to match the current state,
> or do we in addition want the subscriber to know reliably that there
> have been state changes (even if their exact content cannot be known)?
> 
> You seem to think that knowing of state changes is essential, whereas
> the draft considers that to not be a design goal.
> 
> I think to progress this discussion, we have to determine whether
> reliable knowledge of the existence of state changes is a useful
> feature.
> 
> Dale
> _______________________________________________
> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
> 
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Mon Mar 10 15:11:06 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 406CE28C377;
	Mon, 10 Mar 2008 15:11:06 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.9
X-Spam-Level: 
X-Spam-Status: No, score=-100.9 tagged_above=-999 required=5
	tests=[AWL=-0.463, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id udb6rz2dg91G; Mon, 10 Mar 2008 15:11:04 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id BF5183A6AB9;
	Mon, 10 Mar 2008 15:11:04 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 7BE7028C104
	for <sip@core3.amsl.com>; Mon, 10 Mar 2008 15:11:03 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id FJqckwbgKdoR for <sip@core3.amsl.com>;
	Mon, 10 Mar 2008 15:11:02 -0700 (PDT)
Received: from nylon.softarmor.com (nylon.softarmor.com [66.135.38.164])
	by core3.amsl.com (Postfix) with ESMTP id 7B5A53A6954
	for <sip@ietf.org>; Mon, 10 Mar 2008 15:11:02 -0700 (PDT)
Received: from [130.129.84.215] ([130.129.84.215]) (authenticated bits=0)
	by nylon.softarmor.com (8.13.8/8.13.8/Debian-3) with ESMTP id
	m2AM8YEn014510
	(version=TLSv1/SSLv3 cipher=AES128-SHA bits=128 verify=NOT);
	Mon, 10 Mar 2008 17:08:35 -0500
Message-Id: <2930E853-C58B-468A-9D51-857FDCC11E45@softarmor.com>
From: Dean Willis <dean.willis@softarmor.com>
To: Gonzalo Camarillo <Gonzalo.Camarillo@ericsson.com>
In-Reply-To: <47D4A781.3060105@ericsson.com>
Mime-Version: 1.0 (Apple Message framework v919.2)
Date: Mon, 10 Mar 2008 18:08:28 -0400
References: <200803100033.m2A0XBSx028558@nylon.softarmor.com>
	<47D4A781.3060105@ericsson.com>
X-Mailer: Apple Mail (2.919.2)
Cc: sip@ietf.org, Keith Drage <drage@alcatel-lucent.com>, Jdrosen@cisco.com
Subject: [Sip] CRITICAL CANCELLATION: Headsup on extension/info/etc. Session
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


In today's SIPPING meeting, the extension/info/etc. session was  
cancelled. It isn't happening.

There are currently no plans to reschedule this session at IETF 71.


--
Dean Willis

On Mar 9, 2008, at 11:14 PM, Gonzalo Camarillo wrote:

> FYI: see email below.
>
> Gonzalo
>
> -------- Original Message --------
> Subject: Monday night: ad-hoc on SIP extensibility
> Date: Mon, 10 Mar 2008 05:13:07 +0200
> From: Gonzalo Camarillo <Gonzalo.Camarillo@ericsson.com>
> To: sipping <sipping@ietf.org>
> CC: Mary Barnes <mary.barnes@nortel.com>
>
> Folks,
>
> there has been substantial discussion on the topic of extensibility
> models for SIP. Advancing consensus on this topic as a whole requires
> broader discussions. Consequently, we are organizing an ad-hoc meeting
> on Monday night between 2200 and 2400. We understand it is a bad time
> but it is difficult to find empty meeting slots.
>
> The agenda for this ad-hoc meeting will be as follows:
>
> 1) Problem overview and review of the multi-fold path (Extension
> messages, extension headers, extension bodies, EVENT/INFO transport
> packages, and non-SIP session/transport protocols.
>
> 2) Review of the "litmus test" guidelines for choosing an extension
> modality, which we expect to eventually lead to a guidelines document.
> Discussion to include the the use cases that are addressed by  
> MEDIACTRL
> Control Channel, MSRP, MSRP file transfer, and TOTE.
>
> 3) Discussion on clarification and finalization of the INFO
> packages document. We would not be taking explicit HUMs in this
> meeting about consensus as to whether or not to proceed with INFO  
> packages.
>
>
> We do not still have a meeting room. We will be reporting back to the
> SIPPING list as soon as we get one.
>
> Cheers,
>
> Gonzalo
> SIPPING co-chair
>
>
> Dean Willis wrote:
>> i believe SIPPING will be hosting a special session Monday night at  
>> 2200,
>> room TBD. We will focus on the SIP extensibility model and how that  
>> ties
>> into extension choices including new request types, new headers,  
>> payload
>> mechanisms like INFO, MESSAGE and NOTIFY, and media path solutions  
>> like
>> MSRP and TOTE.
>>
>> I expect the agenda will look like:
>>
>> Background of Problem 30 min
>> led by Dean Willis
>>
>> Litmus test for choosing an extension technique 45 min
>> led by Jonathan Rosenberg
>>
>> INFO and what to do about it 45 min
>> led by Hadriel Kaplan
>>
>> --
>> dean
>>
>> _______________________________________________
>> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
>> This list is for NEW development of the core SIP Protocol
>> Use sip-implementors@cs.columbia.edu for questions on current sip
>> Use sipping@ietf.org for new developments on the application of sip
>>
>
> _______________________________________________
> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
>

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Mon Mar 10 15:16:08 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 775343A686C;
	Mon, 10 Mar 2008 15:16:08 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.707
X-Spam-Level: 
X-Spam-Status: No, score=-100.707 tagged_above=-999 required=5
	tests=[AWL=-0.270, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id NmDtjUfMwwGv; Mon, 10 Mar 2008 15:16:06 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 7015328C1AD;
	Mon, 10 Mar 2008 15:16:06 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 6D6003A686C
	for <sip@core3.amsl.com>; Mon, 10 Mar 2008 15:16:05 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 6abVNty5cIHp for <sip@core3.amsl.com>;
	Mon, 10 Mar 2008 15:16:04 -0700 (PDT)
Received: from nylon.softarmor.com (nylon.softarmor.com [66.135.38.164])
	by core3.amsl.com (Postfix) with ESMTP id 9D9523A6B57
	for <sip@ietf.org>; Mon, 10 Mar 2008 15:16:04 -0700 (PDT)
Received: from [130.129.84.215] ([130.129.84.215]) (authenticated bits=0)
	by nylon.softarmor.com (8.13.8/8.13.8/Debian-3) with ESMTP id
	m2AMCR1M014547
	(version=TLSv1/SSLv3 cipher=AES128-SHA bits=128 verify=NOT);
	Mon, 10 Mar 2008 17:12:28 -0500
Message-Id: <76B8361B-932F-4882-BD54-AA429B491CE9@softarmor.com>
From: Dean Willis <dean.willis@softarmor.com>
To: Paul Kyzivat <pkyzivat@cisco.com>
In-Reply-To: <47D59E56.5070207@cisco.com>
Mime-Version: 1.0 (Apple Message framework v919.2)
Date: Mon, 10 Mar 2008 18:12:21 -0400
References: <20080303183225.D04A35081A@romeo.rtfm.com>	<1204628885.15582.7.camel@localhost>	<20080304151905.4EE005081A@romeo.rtfm.com>	<1204661227.15582.78.camel@localhost>	<20080304202005.ADD0C5081A@romeo.rtfm.com>	<1204663441.15582.107.camel@localhost>	<20080304205516.B737E5081A@romeo.rtfm.com>	<1204724689.5302.38.camel@localhost>	<9B149569-37A9-402B-BAB1-BB963CA3D477@softarmor.com>	<1204789154.5302.73.camel@localhost><47D0333C.8050306@softarmor.com>	<1204872793.28304.23.camel@localhost>	<6F488C03-A79D-4059-A4B5-A4D089F23B3A@softarmor.com>	<1205060435.22140.13.camel@localhost>	<7F6B11ED-4BDF-4BC0-8D5B-2C194C312266@softarmor.com>
	<200803101458.m2AEwVhP004844@dragon.ariadne.com>
	<47D59E56.5070207@cisco.com>
X-Mailer: Apple Mail (2.919.2)
Cc: sip@ietf.org
Subject: Re: [Sip] Question on subnot-etags
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


On Mar 10, 2008, at 4:47 PM, Paul Kyzivat wrote:

> Lets contrast this to how this need to know all changes plays out
> *without* subnot-etags.
>
> If you maintain an unbroken subscription without etags, you will  
> receive
> every notification. (In the absence of throttling - see below.) If the
> state changes from A to B to A then you will know that. Using etags
> makes no sense.
>
> If you instead poll rather than maintaining a subscription, and don't
> use etags, then if the state changes from A to B to A and your polls
> miss the time when the state is B, you have no way of knowing you  
> missed
> anything. Adding etags does not change this. It just minimizes the  
> data
> transfer on the second poll.
>
> Note also that in the past this has come up in the context of event
> throttling. When event notification is throttled you also can miss
> certain states.
>
> So it seems there has never been any intent to support the requirement
> to be aware of every state transition.

Works for me. I talked with Aki this afternoon, and have asked him to  
just add the or three needed to make sure that readers don't assume  
that eTags give them something they didn't already have -- versioning.

I believe this will clear up EKR's comment as well. I'd like him to  
review Aki's new text when it becomes available.

So I think the issue is effectively closed for now, barring some  
wordsmithing that I do not expect will require meeting agenda time.

--
Dean

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Mon Mar 10 16:10:17 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 1902228C3B9;
	Mon, 10 Mar 2008 16:10:17 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.647
X-Spam-Level: 
X-Spam-Status: No, score=-100.647 tagged_above=-999 required=5
	tests=[AWL=-0.210, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id ZlQqXWsrPZKD; Mon, 10 Mar 2008 16:10:15 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id D829628C1E9;
	Mon, 10 Mar 2008 16:10:15 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 20F5728C296
	for <sip@core3.amsl.com>; Mon, 10 Mar 2008 16:10:14 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id Hydn3XC43hpA for <sip@core3.amsl.com>;
	Mon, 10 Mar 2008 16:10:12 -0700 (PDT)
Received: from nylon.softarmor.com (nylon.softarmor.com [66.135.38.164])
	by core3.amsl.com (Postfix) with ESMTP id D9BEC28C224
	for <sip@ietf.org>; Mon, 10 Mar 2008 16:10:11 -0700 (PDT)
Received: from [130.129.84.215] ([130.129.84.215]) (authenticated bits=0)
	by nylon.softarmor.com (8.13.8/8.13.8/Debian-3) with ESMTP id
	m2AN7o77015095
	(version=TLSv1/SSLv3 cipher=AES128-SHA bits=128 verify=NOT)
	for <sip@ietf.org>; Mon, 10 Mar 2008 18:07:51 -0500
Message-Id: <F7A89903-924A-46C1-A25F-DA1A5DFE0D97@softarmor.com>
From: Dean Willis <dean.willis@softarmor.com>
To: IETF SIP List <sip@ietf.org>
In-Reply-To: <2930E853-C58B-468A-9D51-857FDCC11E45@softarmor.com>
Mime-Version: 1.0 (Apple Message framework v919.2)
Date: Mon, 10 Mar 2008 19:07:44 -0400
References: <200803100033.m2A0XBSx028558@nylon.softarmor.com>
	<47D4A781.3060105@ericsson.com>
	<2930E853-C58B-468A-9D51-857FDCC11E45@softarmor.com>
X-Mailer: Apple Mail (2.919.2)
Subject: [Sip] Slides from cancelled session on extension/info/etc.
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


The session was cancelled, but the slides are good. T he IETF server  
is currently not working, so I've posted them temporarily at:

http://www.softarmor.com/dwillis/ietf71/

if you're curious enough to read them. I'm sure the concepts will turn  
up again in working group discussion.

--
Dean

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Mon Mar 10 16:21:46 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 5F87828C30A;
	Mon, 10 Mar 2008 16:21:46 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.797
X-Spam-Level: 
X-Spam-Status: No, score=-100.797 tagged_above=-999 required=5
	tests=[AWL=-0.360, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id jn8X9dXZPrab; Mon, 10 Mar 2008 16:21:45 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 6975028C1E9;
	Mon, 10 Mar 2008 16:21:45 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 80C5028C1A5
	for <sip@core3.amsl.com>; Mon, 10 Mar 2008 16:21:44 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id xpTwabUqmbw0 for <sip@core3.amsl.com>;
	Mon, 10 Mar 2008 16:21:43 -0700 (PDT)
Received: from ihemail3.lucent.com (ihemail3.lucent.com [135.245.0.37])
	by core3.amsl.com (Postfix) with ESMTP id A70B03A6A92
	for <sip@ietf.org>; Mon, 10 Mar 2008 16:21:43 -0700 (PDT)
Received: from ilexp01.ndc.lucent.com (h135-3-39-1.lucent.com [135.3.39.1])
	by ihemail3.lucent.com (8.13.8/IER-o) with ESMTP id m2ANJKPJ029521;
	Mon, 10 Mar 2008 18:19:20 -0500 (CDT)
Received: from DEEXP02.DE.lucent.com ([135.248.187.66]) by
	ilexp01.ndc.lucent.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Mon, 10 Mar 2008 18:19:20 -0500
Received: from DEEXC1U01.de.lucent.com ([135.248.187.20]) by
	DEEXP02.DE.lucent.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Tue, 11 Mar 2008 00:19:17 +0100
X-MIMEOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Tue, 11 Mar 2008 00:19:16 +0100
Message-ID: <5D1A7985295922448D5550C94DE2918001CEC34C@DEEXC1U01.de.lucent.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: WGLC for draft-ietf-sip-xcapevent-01
Thread-index: AciC/Uz1gzfrreAwSkqLRZedUovrjwAAd0QQ
From: "DRAGE, Keith \(Keith\)" <drage@alcatel-lucent.com>
To: "IETF SIP List" <sip@ietf.org>
X-OriginalArrivalTime: 10 Mar 2008 23:19:17.0519 (UTC)
	FILETIME=[298C39F0:01C88305]
X-Scanned-By: MIMEDefang 2.57 on 135.245.2.37
Subject: [Sip] WGLC for draft-ietf-sip-xcapevent-01
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

(As SIP WG cochair)

In parallel with the WGLC on xcap-diff in the message below (as these
are related drafts), this is to initiate a WGLC on:

http://www.ietf.org/internet-drafts/draft-ietf-sip-xcapevent-01.txt 

Comments should be sent to the SIP list and to the editor by 31st March
2008, ie. This is a 3 week WGLC to take into account the overlap with
the current IETF meeting.

Please take some steps to indicate the severity of the comment (from NIT
through to major technical).

Obviously please follow the requirements below for comments on the
related draft.

Regards

Keith



-----Original Message-----
From: Robert Sparks [mailto:rjsparks@nostrum.com] 
Sent: Monday, March 10, 2008 10:23 PM
To: simple mailing list
Cc: Jari Urpalainen; sip-chairs@tools.ietf.org
Subject: WGLC: draft-ietf-simple-xcap-diff-08

Folks -

This is a Working Group Last Call for comments on
http://www.ietf.org/internet-drafts/draft-ietf-simple-xcap-diff-08.txt

The editor for draft-ietf-simple-xcap-diff and draft-ietf-sip- xcapevent
has indicated these drafts are ready for WGLC.
We're coordinating the LC time between the two working groups.

Please have your comments to the editor/list by three weeks from today
(March 31,2008).

Thanks,

RjS

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Tue Mar 11 10:52:58 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id B504F3A6ACE;
	Tue, 11 Mar 2008 10:52:58 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -101.251
X-Spam-Level: 
X-Spam-Status: No, score=-101.251 tagged_above=-999 required=5
	tests=[AWL=-0.814, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 8sgcDxZCIN+e; Tue, 11 Mar 2008 10:52:57 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 46C343A6A6F;
	Tue, 11 Mar 2008 10:52:54 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id EA02728C323
	for <sip@core3.amsl.com>; Tue, 11 Mar 2008 10:52:52 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id YD2MfeXbq0iX for <sip@core3.amsl.com>;
	Tue, 11 Mar 2008 10:52:51 -0700 (PDT)
Received: from sj-iport-3.cisco.com (sj-iport-3.cisco.com [171.71.176.72])
	by core3.amsl.com (Postfix) with ESMTP id 6BDDD3A6ACE
	for <sip@ietf.org>; Tue, 11 Mar 2008 10:51:51 -0700 (PDT)
Received: from sj-dkim-3.cisco.com ([171.71.179.195])
	by sj-iport-3.cisco.com with ESMTP; 11 Mar 2008 10:49:32 -0700
Received: from sj-core-1.cisco.com (sj-core-1.cisco.com [171.71.177.237])
	by sj-dkim-3.cisco.com (8.12.11/8.12.11) with ESMTP id m2BHnWFf015639; 
	Tue, 11 Mar 2008 10:49:32 -0700
Received: from dwingwxp01 (sjc-vpn6-1265.cisco.com [10.21.124.241])
	by sj-core-1.cisco.com (8.12.10/8.12.6) with ESMTP id m2BHnVVG015117;
	Tue, 11 Mar 2008 17:49:31 GMT
From: "Dan Wing" <dwing@cisco.com>
To: "'Schneider, Peter \(NSN - DE/Muenich\)'" <peter.schneider@nsn.com>,
	<sip@ietf.org>
References: <085BE88FD18EE94085EB8960172CA3598E9810@DEMUEXC006.nsn-intra.net>
Date: Tue, 11 Mar 2008 13:49:30 -0400
Message-ID: <060601c883a0$42877a00$bd4f150a@cisco.com>
MIME-Version: 1.0
X-Mailer: Microsoft Office Outlook 11
In-Reply-To: <085BE88FD18EE94085EB8960172CA3598E9810@DEMUEXC006.nsn-intra.net>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.3198
Thread-Index: Ach9DZeGkrwx4IanS7u90N9NiNqEuwGkSBEQ
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; l=2711; t=1205257772;
	x=1206121772; c=relaxed/simple; s=sjdkim3002;
	h=Content-Type:From:Subject:Content-Transfer-Encoding:MIME-Version;
	d=cisco.com; i=dwing@cisco.com;
	z=From:=20=22Dan=20Wing=22=20<dwing@cisco.com>
	|Subject:=20RE=3A=20[Sip]=20Removal=20of=20RTP-to-SRTP-upgr
	ade=20requirement=20indraft-ietf-sip-media-security-requirem
	ents |Sender:=20;
	bh=jCOSGPfTqbp3E6FJH9PQyW1qb7imFrAtz8s9jkido0A=;
	b=Pdo8IyOHfSe1+py6N2EggRuWs33Y/gk6ZoA2OzJJKI1NoDJzYBuTW0qHMt
	W+uFJ9ktvUMv8gH2wU+qxCI/sEDhUGnJ34ZCXk/4P04S4A2wSJU0ZtWEpfzv
	PFnYoAt2o6;
Authentication-Results: sj-dkim-3; header.From=dwing@cisco.com; dkim=pass (
	sig from cisco.com/sjdkim3002 verified; ); 
Subject: Re: [Sip] Removal of RTP-to-SRTP-upgrade requirement
	indraft-ietf-sip-media-security-requirements
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Thanks for your comment on the draft.

Brian Stucker's now-expired draft, "Coping with Early Media in the Session
Initiation Protocol",
http://tools.ietf.org/html/draft-stucker-sipping-early-media-coping-03,
describes several types of early media:

  Pre-routing early media  
  Pre-presentation early media 
  Post-presentation early media
  Non-SDP early media 

I'm not sure which of those we would want to use to fulfill requirement R15 --
they have quite different security properties from an attack that concerns me.
My concern is that R15 would put an SRTP caller at risk of receiving an
attacker's RTP.  Once the called party's SRTP key is known, I expect the
caller could discard the incoming RTP in favor of the SRTP.  But for a time
period (between the INVITE being sent and the called party's SRTP key being
known), the calling party is vulnerable to receiving (and playing out)
arbitrary RTP media from any arbitrary host on the network.

-d


> -----Original Message-----
> From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On 
> Behalf Of Schneider, Peter (NSN - DE/Muenich)
> Sent: Monday, March 03, 2008 4:05 AM
> To: sip@ietf.org
> Subject: [Sip] Removal of RTP-to-SRTP-upgrade requirement 
> indraft-ietf-sip-media-security-requirements
> 
> Former versions of the draft included the requirement
> 
>    R15:  The media security key management protocol SHOULD allow
>          endpoints to start with RTP and then upgrade to SRTP.
> 
> The current version -03 doesn't contain the requirement.
> 
> As quoted from RFC3264 in the draft, after the INVITE with the SDP
> offer, the offerer must be prepared to receive media, e.g. for
> announcements. I feel it makes sense to support a use case where such
> announcements can be sent unencrypted, even if the caller wants to set
> up an encrypted call. Obviously, this allows an attack (e.g. 
> sending of
> forged announcements), but on the other hand, it may be useful for the
> caller to hear the announcements. It could be a local policy of the
> calling user agent to drop such media (in order to avoid 
> attacks) or to
> play it out. The user agent may also be configured to indicate somehow
> whether "the call is secured" or not.
> 
> So I suggest to revive R15, maybe in a wording that makes more clear
> what use case(s) should be supported.
> 
> Peter
> _______________________________________________
> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
> 

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Tue Mar 11 12:33:44 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id F3FDF28C476;
	Tue, 11 Mar 2008 12:33:43 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.392
X-Spam-Level: 
X-Spam-Status: No, score=-100.392 tagged_above=-999 required=5
	tests=[AWL=0.044, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, HTML_MESSAGE=0.001, RDNS_NONE=0.1,
	USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id UxnzAhpIwlqx; Tue, 11 Mar 2008 12:33:38 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 784D63A68D8;
	Tue, 11 Mar 2008 12:33:38 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 9A1C83A6934
	for <sip@core3.amsl.com>; Mon, 10 Mar 2008 10:08:04 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id dTtw8-p++ZtX for <sip@core3.amsl.com>;
	Mon, 10 Mar 2008 10:08:02 -0700 (PDT)
Received: from mail1.aemcom.net (mail1.aemcom.net [81.88.238.141])
	by core3.amsl.com (Postfix) with ESMTP id F302828C3E7
	for <sip@ietf.org>; Mon, 10 Mar 2008 09:59:20 -0700 (PDT)
Received: from utdbfacfe4 (unknown [81.88.240.236])
	by mx5b.aemcom.net (Postfix) with SMTP id E7D3DE009620
	for <sip@ietf.org>; Mon, 10 Mar 2008 18:03:22 +0100 (CET)
Message-ID: <005a01c882cf$c6df4020$1007140a@utdbfacfe4>
From: <d.giordano@fastpiu.it>
To: <sip@ietf.org>
Date: Mon, 10 Mar 2008 17:57:08 +0100
MIME-Version: 1.0
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2900.2180
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
X-Mailman-Approved-At: Tue, 11 Mar 2008 12:33:37 -0700
Subject: [Sip] sip call hold
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: multipart/mixed; boundary="===============0912235172=="
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

This is a multi-part message in MIME format.

--===============0912235172==
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0057_01C882D8.2892DF40"

This is a multi-part message in MIME format.

------=_NextPart_000_0057_01C882D8.2892DF40
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

In many mailing lists I read of problems with SIP signaling protocol and =

call on hold. In the actual implementation, "hold" is not different from =

"mute".
This problem also occurred during my work.
I wrote this draft:=20
http://tools.ietf.org/id/draft-giordano-sip-call-hold-revision-00.txt
What's your opinion.
Thanks.
------=_NextPart_000_0057_01C882D8.2892DF40
Content-Type: text/html;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML><HEAD>
<META http-equiv=3DContent-Type content=3D"text/html; =
charset=3Diso-8859-1">
<META content=3D"MSHTML 6.00.6000.16587" name=3DGENERATOR>
<STYLE></STYLE>
</HEAD>
<BODY bgColor=3D#ffffff>
<DIV><FONT size=3D2><FONT size=3D3>In many mailing lists I read of =
problems with SIP=20
signaling protocol and <BR>call on hold. In the actual implementation, =
"hold" is=20
not different from <BR>"mute".<BR>This problem also occurred during my=20
work.<BR>I wrote this draft: <BR></FONT><A href=3D""><FONT=20
size=3D3>http://tools.ietf.org/id/draft-giordano-sip-call-hold-revision-0=
0.txt</FONT></A><BR><FONT=20
size=3D3>What's your =
opinion.<BR>Thanks.</FONT></FONT></DIV></BODY></HTML>

------=_NextPart_000_0057_01C882D8.2892DF40--


--===============0912235172==
Content-Type: text/plain; charset="us-ascii"
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip
--===============0912235172==--



From sip-bounces@ietf.org  Tue Mar 11 12:34:31 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 3F34D3A6C4B;
	Tue, 11 Mar 2008 12:34:31 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -99.991
X-Spam-Level: 
X-Spam-Status: No, score=-99.991 tagged_above=-999 required=5
	tests=[AWL=-0.154, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, J_CHICKENPOX_43=0.6, RDNS_NONE=0.1,
	USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id Dhqxaz9eyfCo; Tue, 11 Mar 2008 12:34:27 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 5194E3A6C03;
	Tue, 11 Mar 2008 12:34:27 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 38D2E3A6D30
	for <sip@core3.amsl.com>; Mon, 10 Mar 2008 13:25:52 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id cvufqbReWBPm for <sip@core3.amsl.com>;
	Mon, 10 Mar 2008 13:25:51 -0700 (PDT)
Received: from mail3.ewr2.n2pcorp.com (mail3.ewr2.n2pcorp.com [216.53.120.20])
	by core3.amsl.com (Postfix) with ESMTP id 379303A6C16
	for <sip@ietf.org>; Mon, 10 Mar 2008 13:25:51 -0700 (PDT)
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Mon, 10 Mar 2008 16:23:29 -0400
Message-ID: <54BC9D88A0ED88479402BDDA9E13EC310D1D5D08@mail3.ewr2.n2pcorp.com>
In-Reply-To: <47D59811.4010807@gmail.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] OLI lists needed
Thread-Index: AciC7EeiR5/XvNGNSoKcKr2383o6qAAACS3w
References: <47D59811.4010807@gmail.com>
From: "Romel Khan" <Romel.Khan@idt.net>
To: "Richard Lee" <rich.japh@gmail.com>,
	<sip@ietf.org>
X-Mailman-Approved-At: Tue, 11 Mar 2008 12:34:25 -0700
Subject: Re: [Sip] OLI lists needed
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Check http://www.nanpa.com/number_resource_info/ani_ii_digits.html for
North American assignment.

-----Original Message-----
From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On Behalf Of
Richard Lee
Sent: Monday, March 10, 2008 4:21 PM
To: sip@ietf.org
Subject: [Sip] OLI lists needed

Hi, this might not be the best place to ask for this but I was just 
wondering if anyone has OLI(originating Line identification) lists which

has definition
of the numbers.

For example, 62 means originated from mobile and so forth.
I am not even sure where this definition came from(ITU? or RFCs).. or if

it was even standaridized at all.

Any help would be greatly appreciated.

thank you.
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Tue Mar 11 13:09:18 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 103863A68A6;
	Tue, 11 Mar 2008 13:09:18 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -101.518
X-Spam-Level: 
X-Spam-Status: No, score=-101.518 tagged_above=-999 required=5
	tests=[AWL=-1.081, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id op2DQ55VSKmt; Tue, 11 Mar 2008 13:09:17 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 78FA728C30B;
	Tue, 11 Mar 2008 13:08:52 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id E84043A6E2B
	for <sip@core3.amsl.com>; Tue, 11 Mar 2008 13:08:50 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id Xix39bThkWUk for <sip@core3.amsl.com>;
	Tue, 11 Mar 2008 13:08:49 -0700 (PDT)
Received: from ihemail3.lucent.com (ihemail3.lucent.com [135.245.0.37])
	by core3.amsl.com (Postfix) with ESMTP id CC9053A68AD
	for <sip@ietf.org>; Tue, 11 Mar 2008 13:07:39 -0700 (PDT)
Received: from umail.lucent.com (h135-3-40-61.lucent.com [135.3.40.61])
	by ihemail3.lucent.com (8.13.8/IER-o) with ESMTP id m2BK5Jp7019022
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO);
	Tue, 11 Mar 2008 15:05:19 -0500 (CDT)
Received: from [135.244.21.223] (volkerh.lra.lucent.com [135.244.21.223])
	by umail.lucent.com (8.13.8/TPES) with ESMTP id m2BK5Ie4015013;
	Tue, 11 Mar 2008 15:05:18 -0500 (CDT)
Message-ID: <47D6E5FE.7000402@bell-labs.com>
Date: Tue, 11 Mar 2008 16:05:18 -0400
From: Volker Hilt <volkerh@bell-labs.com>
User-Agent: Thunderbird 2.0.0.12 (Windows/20080213)
MIME-Version: 1.0
To: sip@ietf.org
References: <61968779B8AC4C4BAB421D4C12F008C0117A9DD3@XCH47YKF.rim.net>
In-Reply-To: <61968779B8AC4C4BAB421D4C12F008C0117A9DD3@XCH47YKF.rim.net>
X-Scanned-By: MIMEDefang 2.57 on 135.245.2.37
Subject: Re: [Sip] draft-ietf-sip-session-policy-framework-02
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="windows-1252"
Content-Transfer-Encoding: quoted-printable
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

The main request here is to allow different protocols on the policy =

channel, in addition to the SUB/NOT mechanism defined in the policy =

package. The discovery mechanism for policy servers defined in the =

framework draft would still be used but it would be possible to use =

other protocols for retrieving policies (e.g., HTTP).

This would require that UAs and proxies can come up with policy channel =

protocol both support.

A full blow negotiation mechanism seems overkill and is also difficult =

to do on the UAS side. The reason is that the UAS will receive a request =

that already contains the policy server URI and, thus, it is too late to =

negotiate a format for it.

An alternative could be to enable a domain to insert URIs with =

additional protocol schemes into the policy contact header (e.g. HTTP) =

in addition to SIP.

Yet another alternative is, of course, to keep things as they are and =

only allow the policy package for the policy channel.

Thanks,

Volker




Andrew Allen wrote:
> I recently reviewed draft-ietf-sip-session-policy-framework-02 with a =

> view to its utilization in 3GPP IMS particularly with regard to its =

> application in mobile networks. After reading the draft I have some =

> concern that the Subscribe/Notify mechanism for the Policy channel is =

> too heavy for use in Cellular and other narrow band networks. The =

> session establishment times for cellular using SIP are already too long. =

> Adding an additional SUBSCRIBE, 200 OK, NOTIFY, 200 OK per UA to that to =

> go fetch the local session-specific policy will not be acceptable. It =

> seems there could be other more efficient means available in certain =

> networks to obtain the session-specific Policy.
> =

> While the Subscribe/Notify mechanism may be the best general purpose =

> mechanism it seems to me that the mechanism ought to be extensible to =

> allow additional Policy channel mechanisms to be defined in the future =

> which probably means extensibility to support URIs other than just =

> SIP/SIPS URIs in the Policy-Contact header.
> =

> The draft anticipates that non SIP means might be used to obtain the =

> session-independent policies so why not also anticipate the possibility =

> that non SIP means might in the future be used to obtain =

> session-specific policies?
> =

> I have had some discussion with Volker already on this issue and it =

> seems it would be possible to modify the Policy-Contact header to =

> optionally allow multiple URIs of different types for the same Policy =

> Document from the same domain with inclusion of a SIP or SIPS URI being =

> mandatory.
> =

> e.g
>  Policy-Contact: sip:policy-doc@domainA; sips:policy-doc@domainA;
> =

>  http:policy-doc@domainA; https:policy-doc@domainA =

> <https://policy-doc@domainA>,
> =

>  sip:policy-doc@domainB; sips:policy-doc@domainB;
> =

>  http:policy-doc@domainB; https:policy-doc@domainB =

> <https://policy-doc@domainB>
> =

> Support of SIP or SIPS URI schemes and the Subscribe/Notify mechanism =

> for the Policy Channel would continue to be mandatory for =

> interoperability but the possibility to include additional URI schemes =

> for obtaining the session-specific policy document would be added.
> =

> This seems like a relatively straight forward change to make even though =

> it is a very late proposal.
> =

> Since one of the original primary drivers for the session policy work =

> originated from 3GPP requirements it would be a shame if the solution =

> wasn=92t sufficiently extensible to allow 3GPP in the future to use it.
> =

> Andrew Allen
> =

> Manager Standards
> =

> Research In Motion Ltd
> =

> Office +1 847-793-0861 x20824
> =

> BlackBerry Mobile +1 847 809 8636
> =

> http://www.rim.com/
> =

>  =

> =

> ---------------------------------------------------------------------
> This transmission (including any attachments) may contain confidential =

> information, privileged material (including material protected by the =

> solicitor-client or other applicable privileges), or constitute =

> non-public information. Any use of this information by anyone other than =

> the intended recipient is prohibited. If you have received this =

> transmission in error, please immediately reply to the sender and delete =

> this information from your system. Use, dissemination, distribution, or =

> reproduction of this transmission by unintended recipients is not =

> authorized and may be unlawful.
> =

> =

> ------------------------------------------------------------------------
> =

> _______________________________________________
> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Tue Mar 11 13:39:39 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 3E8DE28C64A;
	Tue, 11 Mar 2008 13:39:39 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.378
X-Spam-Level: 
X-Spam-Status: No, score=-100.378 tagged_above=-999 required=5
	tests=[AWL=-0.540, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, J_CHICKENPOX_43=0.6, RDNS_NONE=0.1,
	USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id V38xS4hxKIEE; Tue, 11 Mar 2008 13:39:38 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 4E36628C647;
	Tue, 11 Mar 2008 13:37:57 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 4B2E328C543
	for <sip@core3.amsl.com>; Tue, 11 Mar 2008 13:37:55 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id B5lQZQ4M72AV for <sip@core3.amsl.com>;
	Tue, 11 Mar 2008 13:37:49 -0700 (PDT)
Received: from srvimsa2.ad.twtelecom.com (smtpb.twtelecom.com [168.215.22.112])
	by core3.amsl.com (Postfix) with ESMTP id 03DFF28C650
	for <sip@ietf.org>; Tue, 11 Mar 2008 13:34:49 -0700 (PDT)
Received: from srvimsa2.ad.twtelecom.com (unknown [127.0.0.1])
	by IMSA (Postfix) with ESMTP id 4CD0420EFEE;
	Tue, 11 Mar 2008 14:35:12 -0600 (MDT)
Received: from srvmsxsmtp1.ad.twtelecom.com (unknown [10.1.34.25])
	by srvimsa2.ad.twtelecom.com (Postfix) with ESMTP id 3FC7620EFE9;
	Tue, 11 Mar 2008 14:35:12 -0600 (MDT)
Received: from SRVMSXMB1.ad.twtelecom.com ([10.1.34.20]) by
	srvmsxsmtp1.ad.twtelecom.com with Microsoft SMTPSVC(6.0.3790.3959); 
	Tue, 11 Mar 2008 14:32:26 -0600
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Tue, 11 Mar 2008 14:32:25 -0600
Message-ID: <11669E22A15393479F3066E8C3345491041B4A18@SRVMSXMB1.ad.twtelecom.com>
In-Reply-To: <54BC9D88A0ED88479402BDDA9E13EC310D1D5D08@mail3.ewr2.n2pcorp.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] OLI lists needed
Thread-Index: AciC7EeiR5/XvNGNSoKcKr2383o6qAAACS3wADKQ+aA=
References: <47D59811.4010807@gmail.com>
	<54BC9D88A0ED88479402BDDA9E13EC310D1D5D08@mail3.ewr2.n2pcorp.com>
From: "Farnham, Bruce" <Bruce.Farnham@twtelecom.com>
To: "Romel Khan" <Romel.Khan@idt.net>, "Richard Lee" <rich.japh@gmail.com>,
	<sip@ietf.org>
X-OriginalArrivalTime: 11 Mar 2008 20:32:26.0457 (UTC)
	FILETIME=[04E72490:01C883B7]
Subject: Re: [Sip] OLI lists needed
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Also ANSI T1.113-1995 Annex C/T1.113 : ANI Information Digits 

-----Original Message-----
From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On Behalf Of
Romel Khan
Sent: Monday, March 10, 2008 2:23 PM
To: Richard Lee; sip@ietf.org
Subject: Re: [Sip] OLI lists needed

Check http://www.nanpa.com/number_resource_info/ani_ii_digits.html for
North American assignment.

-----Original Message-----
From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On Behalf Of
Richard Lee
Sent: Monday, March 10, 2008 4:21 PM
To: sip@ietf.org
Subject: [Sip] OLI lists needed

Hi, this might not be the best place to ask for this but I was just
wondering if anyone has OLI(originating Line identification) lists which

has definition
of the numbers.

For example, 62 means originated from mobile and so forth.
I am not even sure where this definition came from(ITU? or RFCs).. or if

it was even standaridized at all.

Any help would be greatly appreciated.

thank you.
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol Use
sip-implementors@cs.columbia.edu for questions on current sip Use
sipping@ietf.org for new developments on the application of sip
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol Use
sip-implementors@cs.columbia.edu for questions on current sip Use
sipping@ietf.org for new developments on the application of sip

---


The content contained in this electronic message is not intended to constitute
formation of a contract binding TWTC.  TWTC will be contractually bound only upon
execution, by an authorized officer, of a contract including agreed terms and
conditions or by express application of its tariffs.  This message is intended only
for the use of the individual or entity to which it is addressed. If the reader of this
message is not the intended recipient, or the employee or agent responsible for
delivering the message to the intended recipient, you are hereby notified that any
dissemination, distribution or copying of this message is strictly prohibited. If you
have received this communication in error, please notify us immediately by
replying to the sender of this E-Mail or by telephone.
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Tue Mar 11 14:19:57 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 0B5EA3A6D94;
	Tue, 11 Mar 2008 14:19:57 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.914
X-Spam-Level: 
X-Spam-Status: No, score=-100.914 tagged_above=-999 required=5
	tests=[AWL=-0.477, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 7Obu3h+5KwPj; Tue, 11 Mar 2008 14:19:52 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id CE40C3A68B7;
	Tue, 11 Mar 2008 14:19:41 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 987DF3A6882
	for <sip@core3.amsl.com>; Tue, 11 Mar 2008 14:19:40 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id nFiOvLr0ZF2b for <sip@core3.amsl.com>;
	Tue, 11 Mar 2008 14:19:36 -0700 (PDT)
Received: from mhs04ykf.rim.net (mhs04ykf.rim.net [216.9.243.82])
	by core3.amsl.com (Postfix) with ESMTP id 3E7DD28C50A
	for <sip@ietf.org>; Tue, 11 Mar 2008 14:17:16 -0700 (PDT)
Received: from mhs04ykf.rim.net (unknown [127.0.0.1])
	by mhs04ykf.rim.net (Symantec Mail Security) with ESMTP id D0AD55C546; 
	Tue, 11 Mar 2008 17:14:55 -0400 (EDT)
X-AuditID: 0a666446-aded4bb000002a20-da-47d6f64f0c57
Received: from XCH20YKF.rim.net (unknown [10.102.100.35])
	by mhs04ykf.rim.net (Symantec Mail Security) with ESMTP id 468445C5BC; 
	Tue, 11 Mar 2008 17:14:55 -0400 (EDT)
Received: from XCH47YKF.rim.net ([10.64.31.217]) by XCH20YKF.rim.net with
	Microsoft SMTPSVC(5.0.2195.6713); Tue, 11 Mar 2008 17:14:55 -0400
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Tue, 11 Mar 2008 17:14:52 -0400
Message-ID: <61968779B8AC4C4BAB421D4C12F008C011C04896@XCH47YKF.rim.net>
In-Reply-To: <47D6E5FE.7000402@bell-labs.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] draft-ietf-sip-session-policy-framework-02
Thread-Index: AciDsz3z0ks5B/G+QHWlwnlX35wnLQACVjZA
References: <61968779B8AC4C4BAB421D4C12F008C0117A9DD3@XCH47YKF.rim.net>
	<47D6E5FE.7000402@bell-labs.com>
From: "Andrew Allen" <aallen@rim.com>
To: "Volker Hilt" <volkerh@bell-labs.com>,
	<sip@ietf.org>
X-OriginalArrivalTime: 11 Mar 2008 21:14:55.0061 (UTC)
	FILETIME=[F3FD4050:01C883BC]
X-Brightmail-Tracker: AAAAAglECXgJRAz1
Subject: Re: [Sip] draft-ietf-sip-session-policy-framework-02
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org



I propose we go with the alternative that enables a domain to insert
URIs with additional protocol schemes into the policy contact header
(e.g. HTTP) in addition to SIP.

A negotiation mechanism could always be added later if it was determined
to be needed as an optiomization but is not needed now for sure. The
important thing is to have some flexibility for future additional
protocols on the Policy Channel.



-----Original Message-----
From: Volker Hilt [mailto:volkerh@bell-labs.com] 
Sent: Tuesday, March 11, 2008 4:05 PM
To: sip@ietf.org
Cc: Andrew Allen
Subject: Re: [Sip] draft-ietf-sip-session-policy-framework-02

The main request here is to allow different protocols on the policy
channel, in addition to the SUB/NOT mechanism defined in the policy
package. The discovery mechanism for policy servers defined in the
framework draft would still be used but it would be possible to use
other protocols for retrieving policies (e.g., HTTP).

This would require that UAs and proxies can come up with policy channel
protocol both support.

A full blow negotiation mechanism seems overkill and is also difficult
to do on the UAS side. The reason is that the UAS will receive a request
that already contains the policy server URI and, thus, it is too late to
negotiate a format for it.

An alternative could be to enable a domain to insert URIs with
additional protocol schemes into the policy contact header (e.g. HTTP)
in addition to SIP.

Yet another alternative is, of course, to keep things as they are and
only allow the policy package for the policy channel.

Thanks,

Volker




Andrew Allen wrote:
> I recently reviewed draft-ietf-sip-session-policy-framework-02 with a 
> view to its utilization in 3GPP IMS particularly with regard to its 
> application in mobile networks. After reading the draft I have some 
> concern that the Subscribe/Notify mechanism for the Policy channel is 
> too heavy for use in Cellular and other narrow band networks. The 
> session establishment times for cellular using SIP are already too
long.
> Adding an additional SUBSCRIBE, 200 OK, NOTIFY, 200 OK per UA to that 
> to go fetch the local session-specific policy will not be acceptable. 
> It seems there could be other more efficient means available in 
> certain networks to obtain the session-specific Policy.
> 
> While the Subscribe/Notify mechanism may be the best general purpose 
> mechanism it seems to me that the mechanism ought to be extensible to 
> allow additional Policy channel mechanisms to be defined in the future

> which probably means extensibility to support URIs other than just 
> SIP/SIPS URIs in the Policy-Contact header.
> 
> The draft anticipates that non SIP means might be used to obtain the 
> session-independent policies so why not also anticipate the 
> possibility that non SIP means might in the future be used to obtain 
> session-specific policies?
> 
> I have had some discussion with Volker already on this issue and it 
> seems it would be possible to modify the Policy-Contact header to 
> optionally allow multiple URIs of different types for the same Policy 
> Document from the same domain with inclusion of a SIP or SIPS URI 
> being mandatory.
> 
> e.g
>  Policy-Contact: sip:policy-doc@domainA; sips:policy-doc@domainA;
> 
>  http:policy-doc@domainA; https:policy-doc@domainA 
> <https://policy-doc@domainA>,
> 
>  sip:policy-doc@domainB; sips:policy-doc@domainB;
> 
>  http:policy-doc@domainB; https:policy-doc@domainB 
> <https://policy-doc@domainB>
> 
> Support of SIP or SIPS URI schemes and the Subscribe/Notify mechanism 
> for the Policy Channel would continue to be mandatory for 
> interoperability but the possibility to include additional URI schemes

> for obtaining the session-specific policy document would be added.
> 
> This seems like a relatively straight forward change to make even 
> though it is a very late proposal.
> 
> Since one of the original primary drivers for the session policy work 
> originated from 3GPP requirements it would be a shame if the solution 
> wasn't sufficiently extensible to allow 3GPP in the future to use it.
> 
> Andrew Allen
> 
> Manager Standards
> 
> Research In Motion Ltd
> 
> Office +1 847-793-0861 x20824
> 
> BlackBerry Mobile +1 847 809 8636
> 
> http://www.rim.com/
> 
>  
> 
> ---------------------------------------------------------------------
> This transmission (including any attachments) may contain confidential

> information, privileged material (including material protected by the 
> solicitor-client or other applicable privileges), or constitute 
> non-public information. Any use of this information by anyone other 
> than the intended recipient is prohibited. If you have received this 
> transmission in error, please immediately reply to the sender and 
> delete this information from your system. Use, dissemination, 
> distribution, or reproduction of this transmission by unintended 
> recipients is not authorized and may be unlawful.
> 
> 
> ----------------------------------------------------------------------
> --
> 
> _______________________________________________
> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol Use 
> sip-implementors@cs.columbia.edu for questions on current sip Use 
> sipping@ietf.org for new developments on the application of sip

---------------------------------------------------------------------
This transmission (including any attachments) may contain confidential information, privileged material (including material protected by the solicitor-client or other applicable privileges), or constitute non-public information. Any use of this information by anyone other than the intended recipient is prohibited. If you have received this transmission in error, please immediately reply to the sender and delete this information from your system. Use, dissemination, distribution, or reproduction of this transmission by unintended recipients is not authorized and may be unlawful.
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Tue Mar 11 14:45:13 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 1D8913A6E05;
	Tue, 11 Mar 2008 14:45:13 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -101.053
X-Spam-Level: 
X-Spam-Status: No, score=-101.053 tagged_above=-999 required=5
	tests=[AWL=-0.616, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id H0fwbXyjzuvy; Tue, 11 Mar 2008 14:45:12 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id D0CFA3A6AE3;
	Tue, 11 Mar 2008 14:45:11 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id C90AC3A6DE7
	for <sip@core3.amsl.com>; Tue, 11 Mar 2008 14:45:09 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id OPUlYgP4NFww for <sip@core3.amsl.com>;
	Tue, 11 Mar 2008 14:45:04 -0700 (PDT)
Received: from rtp-iport-1.cisco.com (rtp-iport-1.cisco.com [64.102.122.148])
	by core3.amsl.com (Postfix) with ESMTP id D28EF3A6AE3
	for <sip@ietf.org>; Tue, 11 Mar 2008 14:45:03 -0700 (PDT)
X-IronPort-AV: E=Sophos;i="4.25,482,1199682000"; 
   d="scan'208";a="1349880"
Received: from rtp-dkim-2.cisco.com ([64.102.121.159])
	by rtp-iport-1.cisco.com with ESMTP; 11 Mar 2008 17:42:44 -0400
Received: from rtp-core-2.cisco.com (rtp-core-2.cisco.com [64.102.124.13])
	by rtp-dkim-2.cisco.com (8.12.11/8.12.11) with ESMTP id m2BLgied020021; 
	Tue, 11 Mar 2008 17:42:44 -0400
Received: from xbh-rtp-201.amer.cisco.com (xbh-rtp-201.cisco.com
	[64.102.31.12])
	by rtp-core-2.cisco.com (8.12.10/8.12.6) with ESMTP id m2BLgTuU026188; 
	Tue, 11 Mar 2008 21:42:44 GMT
Received: from xfe-rtp-201.amer.cisco.com ([64.102.31.38]) by
	xbh-rtp-201.amer.cisco.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Tue, 11 Mar 2008 17:42:15 -0400
Received: from [161.44.174.168] ([161.44.174.168]) by
	xfe-rtp-201.amer.cisco.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Tue, 11 Mar 2008 17:42:14 -0400
Message-ID: <47D6FCCA.3040900@cisco.com>
Date: Tue, 11 Mar 2008 17:42:34 -0400
From: Paul Kyzivat <pkyzivat@cisco.com>
User-Agent: Thunderbird 2.0.0.12 (Windows/20080213)
MIME-Version: 1.0
To: d.giordano@fastpiu.it
References: <005a01c882cf$c6df4020$1007140a@utdbfacfe4>
In-Reply-To: <005a01c882cf$c6df4020$1007140a@utdbfacfe4>
X-OriginalArrivalTime: 11 Mar 2008 21:42:14.0997 (UTC)
	FILETIME=[C577A050:01C883C0]
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; l=1549; t=1205271764;
	x=1206135764; c=relaxed/simple; s=rtpdkim2001;
	h=Content-Type:From:Subject:Content-Transfer-Encoding:MIME-Version;
	d=cisco.com; i=pkyzivat@cisco.com;
	z=From:=20Paul=20Kyzivat=20<pkyzivat@cisco.com>
	|Subject:=20Re=3A=20[Sip]=20sip=20call=20hold |Sender:=20
	|To:=20d.giordano@fastpiu.it;
	bh=efY2qSv0At21HgVLHiNmQ3v26bUAWi8CqfSk/HXxECw=;
	b=e72AsvsDu67CJ/QQGT8KwoRo03MJl3SorFs4fFltPSRyAQNJapL++7r91L
	aLa8zqWUdnTD87q7lnflNZyUN3mW2ByYdp/ZeIBKg/bDmRuPlP3nQ0QbCo54
	0ZrALK2xH8;
Authentication-Results: rtp-dkim-2; header.From=pkyzivat@cisco.com; dkim=pass (
	sig from cisco.com/rtpdkim2001 verified; ); 
Cc: sip@ietf.org
Subject: Re: [Sip] sip call hold
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

It seems the essence of your draft has nothing to do with how hold is 
signaled - only with what the UA should do in that case. We don't 
normally specify much about what the UA should do in those cases - the 
UA has latitude to do as it wishes, which provides room for innovation.

Certainly a UA this is not receiving media is free to play something 
locally if it wishes. But some people would prefer not to have that.

Also note that hold applies to any kind of media, not just audio. What 
to do with video, or whiteboard, or IM or realtime text will be 
different than what to do for audio.

The issues that have arisen with hold have to do with people getting the 
signaling wrong - sometimes in a way that prevents getting off hold.

	Thanks,
	Paul

d.giordano@fastpiu.it wrote:
> In many mailing lists I read of problems with SIP signaling protocol and
> call on hold. In the actual implementation, "hold" is not different from
> "mute".
> This problem also occurred during my work.
> I wrote this draft:
> http://tools.ietf.org/id/draft-giordano-sip-call-hold-revision-00.txt
> What's your opinion.
> Thanks.
> 
> 
> ------------------------------------------------------------------------
> 
> _______________________________________________
> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Tue Mar 11 16:48:07 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id AC90228C216;
	Tue, 11 Mar 2008 16:48:07 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.677
X-Spam-Level: 
X-Spam-Status: No, score=-100.677 tagged_above=-999 required=5
	tests=[AWL=-0.240, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id grKOUZo8UnRM; Tue, 11 Mar 2008 16:48:06 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id C8B293A694A;
	Tue, 11 Mar 2008 16:48:06 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 8E7013A694A
	for <sip@core3.amsl.com>; Tue, 11 Mar 2008 16:48:05 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id RcVEIsW2Vnk3 for <sip@core3.amsl.com>;
	Tue, 11 Mar 2008 16:48:04 -0700 (PDT)
Received: from ihemail1.lucent.com (ihemail1.lucent.com [135.245.0.33])
	by core3.amsl.com (Postfix) with ESMTP id C2C643A6774
	for <sip@ietf.org>; Tue, 11 Mar 2008 16:48:04 -0700 (PDT)
Received: from ilexp03.ndc.lucent.com (h135-3-39-50.lucent.com [135.3.39.50])
	by ihemail1.lucent.com (8.13.8/IER-o) with ESMTP id m2BNjQ5W008182; 
	Tue, 11 Mar 2008 18:45:29 -0500 (CDT)
Received: from DEEXP01.de.lucent.com ([135.248.187.65]) by
	ilexp03.ndc.lucent.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Tue, 11 Mar 2008 18:45:26 -0500
Received: from DEEXC1U01.de.lucent.com ([135.248.187.20]) by
	DEEXP01.de.lucent.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Wed, 12 Mar 2008 00:45:23 +0100
X-MIMEOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Wed, 12 Mar 2008 00:45:21 +0100
Message-ID: <5D1A7985295922448D5550C94DE2918001D28D2D@DEEXC1U01.de.lucent.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Slides for SIP session
Thread-index: AciD0fhl4FwsmGM7T/eHdODpkkDMjQ==
From: "DRAGE, Keith \(Keith\)" <drage@alcatel-lucent.com>
To: "Dan Wing" <dwing@cisco.com>, "Eric Rescorla" <ekr@networkresonance.com>, 
	"Gurbani, Vijay K \(Vijay\)" <vkg@alcatel-lucent.com>,
	"Christer Holmberg" <christer.holmberg@ericsson.com>,
	"Elwell, John" <john.elwell@siemens.com>, <munakata.mayumi@lab.ntt.co.jp>
X-OriginalArrivalTime: 11 Mar 2008 23:45:24.0153 (UTC)
	FILETIME=[F9BF5A90:01C883D1]
X-Scanned-By: MIMEDefang 2.57 on 135.245.2.33
Cc: IETF SIP List <sip@ietf.org>
Subject: [Sip] Slides for SIP session
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Can we have any slides for Thursday morning's SIP session by 1:00 pm
tomorrow (Wednesday) so that we can get them uploaded to the server, and
more importantly people can see them before the session.

Late deliverers will find themselves presenting to a blank screen - you
have been warned.

Regards

Keith
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Wed Mar 12 08:14:57 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id D439428C811;
	Wed, 12 Mar 2008 08:14:57 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -93.928
X-Spam-Level: 
X-Spam-Status: No, score=-93.928 tagged_above=-999 required=5
	tests=[AWL=-0.102, BAYES_20=-0.74, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, HTML_MESSAGE=0.001, MANGLED_LOW=2.3,
	MIME_CHARSET_FARAWAY=2.45, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id MVy7lO63snf6; Wed, 12 Mar 2008 08:14:55 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 8142628C78D;
	Wed, 12 Mar 2008 08:14:51 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 30BC928C72D
	for <sip@core3.amsl.com>; Wed, 12 Mar 2008 08:14:50 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id GSX29OU6sRMp for <sip@core3.amsl.com>;
	Wed, 12 Mar 2008 08:14:49 -0700 (PDT)
Received: from web54205.mail.re2.yahoo.com (web54205.mail.re2.yahoo.com
	[206.190.39.247])
	by core3.amsl.com (Postfix) with SMTP id D1E5728C7E2
	for <sip@ietf.org>; Wed, 12 Mar 2008 08:14:26 -0700 (PDT)
Received: (qmail 23094 invoked by uid 60001); 12 Mar 2008 15:12:05 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws; s=s1024; d=yahoo.com.hk;
	h=X-YMail-OSG:Received:Date:From:Reply-To:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding:Message-ID;
	b=ZNuhVs7TJKtRXGg7pePvgDlo2wAyWigI7bojxdS5ABJY0iiLayp7inlF+gCapzQukHi0jgpGF3rieA5sBfrVxCkxihhqNO1+tTyw5HawWdOlrhMzSlChBc0MlLSyUdELjKXFX52bbrgtfGuIkKUpRt+fNf0kL8sZUjOdTF5OoOE=;
X-YMail-OSG: 38X2eUoVM1kC5XtFA0hvqI6.w8Z0AgwjvEy03vzAMXn3xzl8iBz87SBiSSylbUQIGWxjSDLaXAELdNcSwOXm_EA3ymOFvtyjKH.PCHyi8OFgdkhVkbq9Z.eCalvB5LVYxn8tyUnBClmLuGNM.g9e1wl.hw--
Received: from [194.237.142.7] by web54205.mail.re2.yahoo.com via HTTP;
	Wed, 12 Mar 2008 23:12:05 CST
Date: Wed, 12 Mar 2008 23:12:05 +0800 (CST)
From: Tonny Kung <mail2tonny-sip@yahoo.com.hk>
To: sip@ietf.org
MIME-Version: 1.0
Message-ID: <656942.13371.qm@web54205.mail.re2.yahoo.com>
Subject: [Sip] non-SUBSCRIBE mechanism in RFC3265
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
Reply-To: mail2tonny-sip@yahoo.com.hk
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: multipart/mixed; boundary="===============0992086563=="
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

--===============0992086563==
Content-Type: multipart/alternative; boundary="0-740928849-1205334725=:13371"
Content-Transfer-Encoding: 8bit

--0-740928849-1205334725=:13371
Content-Type: text/plain; charset=big5
Content-Transfer-Encoding: 8bit

Hi all,

I have some questions regarding the non-SUBSCRIBE mechanism that's
 allowed in RFC3265 to create a subscription. I hope someone could clarify
 what is correct/allowed by the RFC.

1) Considering it is allowed to create an implicit subscription with
 REFER, then I assume an Event package can define any method to create a
 subscription?

2) Regarding the duration of the subscription. Is it ok to tie the
 duration to other application state of the dialog?
For example, if an implicit subscription is created with an INVITE
 dialog, is it allowed to terminate the subscription when the INVITE dialog
 is released? Or do we have to received NOTIFY with
 Subscription-State=terminated?


Thanks for your time.

Best regards,
Tonny
       
---------------------------------
Yahoo! WwAApd! Fh
--0-740928849-1205334725=:13371
Content-Type: text/html; charset=big5
Content-Transfer-Encoding: 8bit

Hi all,<br><br>I have some questions regarding the non-SUBSCRIBE mechanism that's<br>&nbsp;allowed in RFC3265 to create a subscription. I hope someone could clarify<br>&nbsp;what is correct/allowed by the RFC.<br><br>1) Considering it is allowed to create an implicit subscription with<br>&nbsp;REFER, then I assume an Event package can define any method to create a<br>&nbsp;subscription?<br><br>2) Regarding the duration of the subscription. Is it ok to tie the<br>&nbsp;duration to other application state of the dialog?<br>For example, if an implicit subscription is created with an INVITE<br>&nbsp;dialog, is it allowed to terminate the subscription when the INVITE dialog<br>&nbsp;is released? Or do we have to received NOTIFY with<br>&nbsp;Subscription-State=terminated?<br><br><br>Thanks for your time.<br><br>Best regards,<br>Tonny<p>&#32;


      <hr size=1>Yahoo! WwAApd! <a href="http://hk.promo.yahoo.com/security/index.html"><b>Fh</b></a>
--0-740928849-1205334725=:13371--

--===============0992086563==
Content-Type: text/plain; charset="us-ascii"
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip
--===============0992086563==--


From sip-bounces@ietf.org  Wed Mar 12 08:50:51 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 242BC28C6E3;
	Wed, 12 Mar 2008 08:50:51 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -98.353
X-Spam-Level: 
X-Spam-Status: No, score=-98.353 tagged_above=-999 required=5
	tests=[AWL=-2.666, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, MANGLED_LOW=2.3, MIME_CHARSET_FARAWAY=2.45,
	RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id uZ82KCufj8ov; Wed, 12 Mar 2008 08:50:50 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id F240B28C1EC;
	Wed, 12 Mar 2008 08:50:49 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 9101628C1A2
	for <sip@core3.amsl.com>; Wed, 12 Mar 2008 08:50:49 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id W8J7TM87BpKg for <sip@core3.amsl.com>;
	Wed, 12 Mar 2008 08:50:44 -0700 (PDT)
Received: from rtp-iport-2.cisco.com (rtp-iport-2.cisco.com [64.102.122.149])
	by core3.amsl.com (Postfix) with ESMTP id 747983A6E93
	for <sip@ietf.org>; Wed, 12 Mar 2008 08:50:43 -0700 (PDT)
X-IronPort-AV: E=Sophos;i="4.25,488,1199682000"; 
   d="scan'208";a="1568524"
Received: from rtp-dkim-2.cisco.com ([64.102.121.159])
	by rtp-iport-2.cisco.com with ESMTP; 12 Mar 2008 11:48:23 -0400
Received: from rtp-core-2.cisco.com (rtp-core-2.cisco.com [64.102.124.13])
	by rtp-dkim-2.cisco.com (8.12.11/8.12.11) with ESMTP id m2CFmNjC008034; 
	Wed, 12 Mar 2008 11:48:23 -0400
Received: from xbh-rtp-211.amer.cisco.com (xbh-rtp-211.cisco.com
	[64.102.31.102])
	by rtp-core-2.cisco.com (8.12.10/8.12.6) with ESMTP id m2CFln2a008665; 
	Wed, 12 Mar 2008 15:48:23 GMT
Received: from xfe-rtp-201.amer.cisco.com ([64.102.31.38]) by
	xbh-rtp-211.amer.cisco.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Wed, 12 Mar 2008 11:48:06 -0400
Received: from [161.44.174.168] ([161.44.174.168]) by
	xfe-rtp-201.amer.cisco.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Wed, 12 Mar 2008 11:48:06 -0400
Message-ID: <47D7FB49.1090905@cisco.com>
Date: Wed, 12 Mar 2008 11:48:25 -0400
From: Paul Kyzivat <pkyzivat@cisco.com>
User-Agent: Thunderbird 2.0.0.12 (Windows/20080213)
MIME-Version: 1.0
To: mail2tonny-sip@yahoo.com.hk
References: <656942.13371.qm@web54205.mail.re2.yahoo.com>
In-Reply-To: <656942.13371.qm@web54205.mail.re2.yahoo.com>
X-OriginalArrivalTime: 12 Mar 2008 15:48:06.0269 (UTC)
	FILETIME=[76A6CAD0:01C88458]
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; l=2019; t=1205336903;
	x=1206200903; c=relaxed/simple; s=rtpdkim2001;
	h=Content-Type:From:Subject:Content-Transfer-Encoding:MIME-Version;
	d=cisco.com; i=pkyzivat@cisco.com;
	z=From:=20Paul=20Kyzivat=20<pkyzivat@cisco.com>
	|Subject:=20Re=3A=20[Sip]=20non-SUBSCRIBE=20mechanism=20in=
	20RFC3265 |Sender:=20 |To:=20mail2tonny-sip@yahoo.com.hk;
	bh=8NaL+WcIm66bC3c5C/PVGBbwIR4jftlxncazQjFpTHM=;
	b=VvH08TBO7/Y9uschZpKRuu6CFMz2yKAvrvOh1UZJnog+MX6RSB4RuMnqZh
	7wufXKDVgYuuyhylHyUPR0apiTcEUK58JYcQ2PnxHzWDbj0PTQvIyJoYG/23
	tpLE23dRZS;
Authentication-Results: rtp-dkim-2; header.From=pkyzivat@cisco.com; dkim=pass (
	sig from cisco.com/rtpdkim2001 verified; ); 
Cc: sip@ietf.org
Subject: Re: [Sip] non-SUBSCRIBE mechanism in RFC3265
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="big5"
Content-Transfer-Encoding: base64
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

VG9ubnksCgpJIGJlbGlldmUgdGhlIG5vbi1zdWJzY3JpYmUgZGlhbG9nIHdvcmRpbmcgaW4gMzI2
NSB3YXMgaW5jbHVkZWQgdG8KYWNjb21tb2RhdGUgUkVGRVIuIEl0IGFsc28gc2VlbXMgdGhhdCBp
biByZXRyb3NwZWN0IHBlb3BsZSB3aXNoIHRoYXQKZXhjZXB0aW9uIGhhZCBub3QgYmVlbiBtYWRl
LiBTbyBwbGFubmluZyB0byBjcmVhdGUgYSBub24tc3Vic2NyaWJlCnN1YnNjcmlwdGlvbiBmb3Ig
c29tZSBvdGhlciBwdXJwb3NlIHdvdWxkIG1vc3QgbGlrZWx5IGJlIGEgbWlzdGFrZS4KCkEga2V5
IHJlcXVpcmVtZW50IGlzIHRoYXQgYm90aCBwYXJ0aWVzIG5lZWQgdG8gYWdyZWUgdGhhdCB0aGUK
c3Vic2NyaXB0aW9uIGlzIGJlaW5nIGNyZWF0ZWQgYW5kIGhvdyB0aGUgZGlhbG9nIGlzIGVzdGFi
bGlzaGVkLiAoVGhlcmUKbXVzdCBiZSBhIGRpYWxvZy4pCgpJTU8gdGhlIGV4cGlyYXRpb24gdGlt
ZSBmb3IgdGhlIGltcGxpY2l0IHN1YnNjcmlwdGlvbiBpcyBvbmUgb2YgdGhlCm1lc3N5IHBhcnRz
IG9mIHRoZSBpbXBsaWNpdCBzdWJzY3JpcHRpb24uIEkgZG9uJ3Qga25vdyBvZiBnb29kIHNvbHV0
aW9ucwpmb3IgaXQuCgoJUGF1bAoKVG9ubnkgS3VuZyB3cm90ZToKPiBIaSBhbGwsCj4gCj4gSSBo
YXZlIHNvbWUgcXVlc3Rpb25zIHJlZ2FyZGluZyB0aGUgbm9uLVNVQlNDUklCRSBtZWNoYW5pc20g
dGhhdCdzCj4gIGFsbG93ZWQgaW4gUkZDMzI2NSB0byBjcmVhdGUgYSBzdWJzY3JpcHRpb24uIEkg
aG9wZSBzb21lb25lIGNvdWxkIGNsYXJpZnkKPiAgd2hhdCBpcyBjb3JyZWN0L2FsbG93ZWQgYnkg
dGhlIFJGQy4KPiAKPiAxKSBDb25zaWRlcmluZyBpdCBpcyBhbGxvd2VkIHRvIGNyZWF0ZSBhbiBp
bXBsaWNpdCBzdWJzY3JpcHRpb24gd2l0aAo+ICBSRUZFUiwgdGhlbiBJIGFzc3VtZSBhbiBFdmVu
dCBwYWNrYWdlIGNhbiBkZWZpbmUgYW55IG1ldGhvZCB0byBjcmVhdGUgYQo+ICBzdWJzY3JpcHRp
b24/Cj4gCj4gMikgUmVnYXJkaW5nIHRoZSBkdXJhdGlvbiBvZiB0aGUgc3Vic2NyaXB0aW9uLiBJ
cyBpdCBvayB0byB0aWUgdGhlCj4gIGR1cmF0aW9uIHRvIG90aGVyIGFwcGxpY2F0aW9uIHN0YXRl
IG9mIHRoZSBkaWFsb2c/Cj4gRm9yIGV4YW1wbGUsIGlmIGFuIGltcGxpY2l0IHN1YnNjcmlwdGlv
biBpcyBjcmVhdGVkIHdpdGggYW4gSU5WSVRFCj4gIGRpYWxvZywgaXMgaXQgYWxsb3dlZCB0byB0
ZXJtaW5hdGUgdGhlIHN1YnNjcmlwdGlvbiB3aGVuIHRoZSBJTlZJVEUgZGlhbG9nCj4gIGlzIHJl
bGVhc2VkPyBPciBkbyB3ZSBoYXZlIHRvIHJlY2VpdmVkIE5PVElGWSB3aXRoCj4gIFN1YnNjcmlw
dGlvbi1TdGF0ZT10ZXJtaW5hdGVkPwo+IAo+IAo+IFRoYW5rcyBmb3IgeW91ciB0aW1lLgo+IAo+
IEJlc3QgcmVnYXJkcywKPiBUb25ueQo+IAo+IC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQo+IFlhaG9vISC69KRX
pnel/qfwsqShQbHQp0GmcKbzqL69ZLbCq8ghICqkRrjRp/OmaCogCj4gPGh0dHA6Ly9oay5wcm9t
by55YWhvby5jb20vc2VjdXJpdHkvaW5kZXguaHRtbD4KPiAKPiAKPiAtLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0K
PiAKPiBfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwo+IFNp
cCBtYWlsaW5nIGxpc3QgIGh0dHBzOi8vd3d3LmlldGYub3JnL21haWxtYW4vbGlzdGluZm8vc2lw
Cj4gVGhpcyBsaXN0IGlzIGZvciBORVcgZGV2ZWxvcG1lbnQgb2YgdGhlIGNvcmUgU0lQIFByb3Rv
Y29sCj4gVXNlIHNpcC1pbXBsZW1lbnRvcnNAY3MuY29sdW1iaWEuZWR1IGZvciBxdWVzdGlvbnMg
b24gY3VycmVudCBzaXAKPiBVc2Ugc2lwcGluZ0BpZXRmLm9yZyBmb3IgbmV3IGRldmVsb3BtZW50
cyBvbiB0aGUgYXBwbGljYXRpb24gb2Ygc2lwCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fClNpcCBtYWlsaW5nIGxpc3QgIGh0dHBzOi8vd3d3LmlldGYub3Jn
L21haWxtYW4vbGlzdGluZm8vc2lwClRoaXMgbGlzdCBpcyBmb3IgTkVXIGRldmVsb3BtZW50IG9m
IHRoZSBjb3JlIFNJUCBQcm90b2NvbApVc2Ugc2lwLWltcGxlbWVudG9yc0Bjcy5jb2x1bWJpYS5l
ZHUgZm9yIHF1ZXN0aW9ucyBvbiBjdXJyZW50IHNpcApVc2Ugc2lwcGluZ0BpZXRmLm9yZyBmb3Ig
bmV3IGRldmVsb3BtZW50cyBvbiB0aGUgYXBwbGljYXRpb24gb2Ygc2lw


From sip-bounces@ietf.org  Wed Mar 12 09:43:18 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id A46693A6EE1;
	Wed, 12 Mar 2008 09:43:18 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.509
X-Spam-Level: 
X-Spam-Status: No, score=-100.509 tagged_above=-999 required=5
	tests=[AWL=-0.072, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 0LT0ygkhD8g8; Wed, 12 Mar 2008 09:43:13 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 176763A6ED5;
	Wed, 12 Mar 2008 09:43:13 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 74DF33A6EBB
	for <sip@core3.amsl.com>; Wed, 12 Mar 2008 09:43:11 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id gLpjF+aggMbT for <sip@core3.amsl.com>;
	Wed, 12 Mar 2008 09:43:10 -0700 (PDT)
Received: from mail.iptel.org (smtp.iptel.org [213.192.59.67])
	by core3.amsl.com (Postfix) with ESMTP id A13713A6EE1
	for <sip@ietf.org>; Wed, 12 Mar 2008 09:43:07 -0700 (PDT)
Received: from uk1lt10071.iptel.org (shell.iptel.org [213.192.59.74])
	by mail.iptel.org (Postfix) with ESMTP id 5DFC01814CBB
	for <sip@ietf.org>; Wed, 12 Mar 2008 17:40:47 +0100 (CET)
X-Mailer: QUALCOMM Windows Eudora Version 7.1.0.9
Date: Wed, 12 Mar 2008 12:40:23 -0400
To: sip@ietf.org
From: Jiri Kuthan <jiri@iptel.org>
In-Reply-To: <20080303185300.855CC1819D7D@mail.iptel.org>
References: <20080303185300.855CC1819D7D@mail.iptel.org>
Mime-Version: 1.0
Message-Id: <20080312164047.5DFC01814CBB@mail.iptel.org>
Subject: Re: [Sip] draft-sparks-sip-invfix-01, relaying: MUST versus  SHOULD
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

I'm just wondering if folks have an opinion on this. I mean if we leave it as
is, we can write off all of stateless servers, can't we.

-jiri

At 08:52 03/03/2008, Jiri Kuthan wrote:
>while I agree that fixing premature dropping of transaction context
>is the right way to go, I'm wondering if we are not overstandizing
>with requiring a proxy server to drop replies without related transaction
>context.
>
>My esthetic preference is not to standardize this as a MUST and document the
>well-known relaying risks (possibly in form of a SHOULD recommendation). 
>It appears to me that there are valid cases (say failover in trusted-environment) 
>where it can be more benefecial to complete transactions statelessly than 
>protection against relaying. (which is not very strong anyhow).
>
>-jiri
>
>
>
>--
>Jiri Kuthan            http://iptel.org/~jiri/
>
>_______________________________________________
>Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
>This list is for NEW development of the core SIP Protocol
>Use sip-implementors@cs.columbia.edu for questions on current sip
>Use sipping@ietf.org for new developments on the application of sip



--
Jiri Kuthan            http://iptel.org/~jiri/

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Wed Mar 12 10:30:16 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id D8EFE3A6EE2;
	Wed, 12 Mar 2008 10:30:16 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.628
X-Spam-Level: 
X-Spam-Status: No, score=-100.628 tagged_above=-999 required=5
	tests=[AWL=-0.191, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id X1Hn8tp4-D2g; Wed, 12 Mar 2008 10:30:16 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 02E0328C46A;
	Wed, 12 Mar 2008 10:30:15 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 9239C3A6DB3
	for <sip@core3.amsl.com>; Wed, 12 Mar 2008 10:30:13 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id GO5waHrrGJDh for <sip@core3.amsl.com>;
	Wed, 12 Mar 2008 10:30:12 -0700 (PDT)
Received: from nylon.softarmor.com (nylon.softarmor.com [66.135.38.164])
	by core3.amsl.com (Postfix) with ESMTP id E45F93A6EE2
	for <sip@ietf.org>; Wed, 12 Mar 2008 10:30:11 -0700 (PDT)
Received: from [130.129.84.215] ([130.129.84.215]) (authenticated bits=0)
	by nylon.softarmor.com (8.13.8/8.13.8/Debian-3) with ESMTP id
	m2CHQjwm003100
	(version=TLSv1/SSLv3 cipher=AES128-SHA bits=128 verify=NOT);
	Wed, 12 Mar 2008 12:26:47 -0500
Message-Id: <92D83F12-9893-42BE-94B9-295C2DC5F603@softarmor.com>
From: Dean Willis <dean.willis@softarmor.com>
To: IETF SIP List <sip@ietf.org>
Mime-Version: 1.0 (Apple Message framework v919.2)
Date: Wed, 12 Mar 2008 13:26:39 -0400
X-Mailer: Apple Mail (2.919.2)
Cc: Cullen Jennings <fluffy@cisco.com>
Subject: [Sip] Working agenda, SIP at IETF 71
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Here's how we're currently expecting to allocate SIP time in Thursday.  
As always, it could change.

Status/Agenda Bash  15 min

Requirements for Media Security: Dan Wing   15 min

DTLS Framework Response to Requirements: Eric  Rescorla (if needed)   
15 min

UA Initiated Privacy:  Mayumi Munakata 15 min

X.509 Certificates for TLS: Vijay Gurbani  15 min

X.509 Extended Key Usage: Vijay Gurbani  15 min

Request URI and Parameters to UA by Proxy:  Christer Holmberg  30 min

Identity Requirements for E.164 and SBCs:  John Elwell  30 min


_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Wed Mar 12 10:51:08 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 5C75928C829;
	Wed, 12 Mar 2008 10:51:08 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.191
X-Spam-Level: 
X-Spam-Status: No, score=-100.191 tagged_above=-999 required=5
	tests=[AWL=0.246, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id CzHyf9fenz2w; Wed, 12 Mar 2008 10:51:08 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id EFCE128C7FC;
	Wed, 12 Mar 2008 10:51:06 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 62FAD28C817
	for <sip@core3.amsl.com>; Wed, 12 Mar 2008 10:51:06 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id gvPHAhkWUfhd for <sip@core3.amsl.com>;
	Wed, 12 Mar 2008 10:51:05 -0700 (PDT)
Received: from kilo.rtfm.com (dhcp-11ec.ietf71.ietf.org [130.129.17.236])
	by core3.amsl.com (Postfix) with ESMTP id 99C3F28C7FC
	for <sip@ietf.org>; Wed, 12 Mar 2008 10:51:05 -0700 (PDT)
Received: from dhcp-11ec.ietf71.ietf.org (localhost [127.0.0.1])
	by kilo.rtfm.com (Postfix) with ESMTP id 96E741AFA2E;
	Wed, 12 Mar 2008 13:48:46 -0400 (EDT)
Date: Wed, 12 Mar 2008 13:48:46 -0400
From: Eric Rescorla <ekr@networkresonance.com>
To: Dean Willis <dean.willis@softarmor.com>
In-Reply-To: <92D83F12-9893-42BE-94B9-295C2DC5F603@softarmor.com>
References: <92D83F12-9893-42BE-94B9-295C2DC5F603@softarmor.com>
User-Agent: Wanderlust/2.15.5 (Almost Unreal) Emacs/22.1 Mule/5.0 (SAKAKI)
MIME-Version: 1.0 (generated by SEMI 1.14.6 - "Maruoka")
Message-Id: <20080312174846.96E741AFA2E@kilo.rtfm.com>
Cc: IETF SIP List <sip@ietf.org>, Cullen Jennings <fluffy@cisco.com>
Subject: Re: [Sip] Working agenda, SIP at IETF 71
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

At Wed, 12 Mar 2008 13:26:39 -0400,
Dean Willis wrote:
> 
> Here's how we're currently expecting to allocate SIP time in Thursday.  
> As always, it could change.
> 
> Status/Agenda Bash  15 min
> 
> Requirements for Media Security: Dan Wing   15 min
> 
> DTLS Framework Response to Requirements: Eric  Rescorla (if needed)   
> 15 min

I don't expect to need this time. As far as I know, DTLS-SRTP addresses
all the requirements as they currently stand (even though I'm not sure
I agree with all of them). We just need the document finished because
we have a dependency on it.

-Ekr
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Wed Mar 12 11:13:08 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 22CDF3A6EDD;
	Wed, 12 Mar 2008 11:13:08 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.533
X-Spam-Level: 
X-Spam-Status: No, score=-100.533 tagged_above=-999 required=5
	tests=[AWL=-0.096, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id kVrbVqufHrb9; Wed, 12 Mar 2008 11:13:02 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id A44793A6927;
	Wed, 12 Mar 2008 11:13:02 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id ACB023A692E
	for <sip@core3.amsl.com>; Wed, 12 Mar 2008 11:13:01 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id NrugbRwl3t6J for <sip@core3.amsl.com>;
	Wed, 12 Mar 2008 11:12:57 -0700 (PDT)
Received: from QMTA06.emeryville.ca.mail.comcast.net
	(qmta06.emeryville.ca.mail.comcast.net [76.96.30.56])
	by core3.amsl.com (Postfix) with ESMTP id B6C793A6947
	for <sip@ietf.org>; Wed, 12 Mar 2008 11:12:56 -0700 (PDT)
Received: from OMTA11.emeryville.ca.mail.comcast.net ([76.96.30.36])
	by QMTA06.emeryville.ca.mail.comcast.net with comcast
	id 0H1y1Z0030mlR8UA604L00; Wed, 12 Mar 2008 18:09:55 +0000
Received: from dragon.ariadne.com ([76.19.174.1])
	by OMTA11.emeryville.ca.mail.comcast.net with comcast
	id 0JAc1Z00202AVH08X00000; Wed, 12 Mar 2008 18:10:37 +0000
X-Authority-Analysis: v=1.0 c=1 a=nCIv8cHwp-wA:10 a=mpSZpkwcWP3MCY6qsMYA:9
	a=cLimC_qY7WrVHGOsJ_MA:7 a=x6poKwkWxocpRS4c3W13bVcXMxEA:4
	a=8y7tGHue6YMA:10
Received: from dragon.ariadne.com (dragon.ariadne.com [127.0.0.1])
	by dragon.ariadne.com (8.12.8/8.12.8) with ESMTP id m2CIAZMj003179
	for <sip@ietf.org>; Wed, 12 Mar 2008 13:10:35 -0500
Received: (from worley@localhost)
	by dragon.ariadne.com (8.12.8/8.12.8/Submit) id m2CIAZn3003175;
	Wed, 12 Mar 2008 13:10:35 -0500
Date: Wed, 12 Mar 2008 13:10:35 -0500
Message-Id: <200803121810.m2CIAZn3003175@dragon.ariadne.com>
To: sip@ietf.org
From: Dale.Worley@comcast.net
In-reply-to: <656942.13371.qm@web54205.mail.re2.yahoo.com>
	(mail2tonny-sip@yahoo.com.hk)
References: <656942.13371.qm@web54205.mail.re2.yahoo.com>
Subject: Re: [Sip] non-SUBSCRIBE mechanism in RFC3265
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
MIME-Version: 1.0
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

   From: Tonny Kung <mail2tonny-sip@yahoo.com.hk>

   2) Regarding the duration of the subscription. Is it ok to tie the
    duration to other application state of the dialog?
   For example, if an implicit subscription is created with an INVITE
    dialog, is it allowed to terminate the subscription when the INVITE dialog
    is released? Or do we have to received NOTIFY with
    Subscription-State=terminated?

It is clear that the notifier can terminate the subscription if the
resource in question ceases to exist.  But it seems that there should
always be a final NOTIFY to ensure the subscriber knows that the
subscription has been terminated.  In general, creating subscriptions
as the side-effect of other SIP activities is not generally a good
idea.

Dale

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Wed Mar 12 12:39:38 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 00A3728C476;
	Wed, 12 Mar 2008 12:39:38 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -99.494
X-Spam-Level: 
X-Spam-Status: No, score=-99.494 tagged_above=-999 required=5
	tests=[AWL=-0.457, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	FROM_LOCAL_DIGITS=0.001, FROM_LOCAL_HEX=1.399,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id Wm548kssJq5v; Wed, 12 Mar 2008 12:39:36 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id D70513A6962;
	Wed, 12 Mar 2008 12:39:36 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 1375E3A68C4
	for <sip@core3.amsl.com>; Wed, 12 Mar 2008 12:39:35 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 2nEtooOurCGU for <sip@core3.amsl.com>;
	Wed, 12 Mar 2008 12:39:29 -0700 (PDT)
Received: from outbound-mail-116.bluehost.com (outbound-mail-116.bluehost.com
	[69.89.22.16]) by core3.amsl.com (Postfix) with SMTP id C75673A6859
	for <sip@ietf.org>; Wed, 12 Mar 2008 12:39:29 -0700 (PDT)
Received: (qmail 1600 invoked by uid 0); 12 Mar 2008 19:37:09 -0000
Received: from unknown (HELO box7.bluehost.com) (69.89.30.147)
	by outboundproxy3.bluehost.com with SMTP; 12 Mar 2008 19:37:09 -0000
Received: from dhcp-1771.ietf71.ietf.org ([130.129.23.113]
	helo=KingsMountain.com)
	by box7.bluehost.com with esmtps (TLSv1:AES256-SHA:256) (Exim 4.68)
	(envelope-from <+11234567890@kingsmountain.com>)
	id 1JZWl2-0005c1-9e; Wed, 12 Mar 2008 13:37:00 -0600
X-Mailer: exmh version 2.7.2 01/07/2005 (debian 1:2.7.2-7) with nmh-1.1
To: IETF SIP List <sip@ietf.org>
From: +11234567890@kingsmountain.com
Mime-Version: 1.0
Date: Wed, 12 Mar 2008 12:37:05 -0700
X-Identified-User: {32571:box7.bluehost.com:kingsmou:kingsmountain.com}
	{sentby:bopbeforesmtp 130.129.23.113 authed with
	kingsmountain.com}
Message-Id: <20080312193929.C75673A6859@core3.amsl.com>
Subject: [Sip] test ;)
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

please excuse & delete.  

thanks,

+11234567890


_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Wed Mar 12 12:45:08 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id E066D28C76C;
	Wed, 12 Mar 2008 12:45:07 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.513
X-Spam-Level: 
X-Spam-Status: No, score=-100.513 tagged_above=-999 required=5
	tests=[AWL=-0.076, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id gwDObqLpONK8; Wed, 12 Mar 2008 12:44:59 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 521683A6F20;
	Wed, 12 Mar 2008 12:44:59 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id A08B828C3D4
	for <sip@core3.amsl.com>; Wed, 12 Mar 2008 12:44:58 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id R1ljiGlrZetz for <sip@core3.amsl.com>;
	Wed, 12 Mar 2008 12:44:57 -0700 (PDT)
Received: from mailgw4.ericsson.se (mailgw4.ericsson.se [193.180.251.62])
	by core3.amsl.com (Postfix) with ESMTP id 68C6F3A6E77
	for <sip@ietf.org>; Wed, 12 Mar 2008 12:44:57 -0700 (PDT)
Received: from mailgw4.ericsson.se (unknown [127.0.0.1])
	by mailgw4.ericsson.se (Symantec Mail Security) with ESMTP id
	C130821092; Wed, 12 Mar 2008 20:42:37 +0100 (CET)
X-AuditID: c1b4fb3e-b019cbb000004ec0-c6-47d8322984e9
Received: from esealmw128.eemea.ericsson.se (unknown [153.88.254.121])
	by mailgw4.ericsson.se (Symantec Mail Security) with ESMTP id
	F21F820ECF; Wed, 12 Mar 2008 20:42:33 +0100 (CET)
Received: from esealmw113.eemea.ericsson.se ([153.88.200.4]) by
	esealmw128.eemea.ericsson.se with Microsoft SMTPSVC(6.0.3790.1830); 
	Wed, 12 Mar 2008 20:42:33 +0100
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Wed, 12 Mar 2008 20:39:52 +0100
Message-ID: <CA9998CD4A020D418654FCDEF4E707DF046C7666@esealmw113.eemea.ericsson.se>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] sip call hold
thread-index: AciEdBcmmzAD/QYkQEilCDssjx08XgABMBMs
References: <005a01c882cf$c6df4020$1007140a@utdbfacfe4>
	<47D6FCCA.3040900@cisco.com>
From: "Christer Holmberg" <christer.holmberg@ericsson.com>
To: "Paul Kyzivat" <pkyzivat@cisco.com>,
	<d.giordano@fastpiu.it>
X-OriginalArrivalTime: 12 Mar 2008 19:42:33.0528 (UTC)
	FILETIME=[37642B80:01C88479]
X-Brightmail-Tracker: AAAAAA==
Cc: sip@ietf.org
Subject: Re: [Sip] sip call hold
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Hi,
 =

I also had difficulties trying to figure out what you really want to say in=
 the draft, but it seems like Paul has the same understanding as me: you do=
 not touch the signalling related issues associated with hold, but only wha=
t local actions the UA should do when it is put on hold.
 =

Also, I believe there could be cases where you do NOT want a hold tone to b=
e played. For example, if I put you on hold because you are going to be tra=
nsfered to someone else, I don't think you want to listen to a hold tone wh=
ile communicating with that someone else...
 =

Regards,
 =

Christer

________________________________

L=E4hett=E4j=E4: sip-bounces@ietf.org puolesta: Paul Kyzivat
L=E4hetetty: ti 11.3.2008 22:42
Vastaanottaja: d.giordano@fastpiu.it
Kopio: sip@ietf.org
Aihe: Re: [Sip] sip call hold



It seems the essence of your draft has nothing to do with how hold is
signaled - only with what the UA should do in that case. We don't
normally specify much about what the UA should do in those cases - the
UA has latitude to do as it wishes, which provides room for innovation.

Certainly a UA this is not receiving media is free to play something
locally if it wishes. But some people would prefer not to have that.

Also note that hold applies to any kind of media, not just audio. What
to do with video, or whiteboard, or IM or realtime text will be
different than what to do for audio.

The issues that have arisen with hold have to do with people getting the
signaling wrong - sometimes in a way that prevents getting off hold.

        Thanks,
        Paul

d.giordano@fastpiu.it wrote:
> In many mailing lists I read of problems with SIP signaling protocol and
> call on hold. In the actual implementation, "hold" is not different from
> "mute".
> This problem also occurred during my work.
> I wrote this draft:
> http://tools.ietf.org/id/draft-giordano-sip-call-hold-revision-00.txt
> What's your opinion.
> Thanks.
>
>
> ------------------------------------------------------------------------
>
> _______________________________________________
> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Wed Mar 12 13:16:23 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 1469528C85B;
	Wed, 12 Mar 2008 13:16:23 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -98.408
X-Spam-Level: 
X-Spam-Status: No, score=-98.408 tagged_above=-999 required=5
	tests=[AWL=-0.371, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	FROM_LOCAL_DIGITS=0.001, FROM_LOCAL_HEX=1.399,
	HELO_MISMATCH_ORG=0.611, J_BACKHAIR_53=1, RDNS_NONE=0.1,
	USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id lK-Efct0Yk8Y; Wed, 12 Mar 2008 13:16:18 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 1854228C76E;
	Wed, 12 Mar 2008 13:16:18 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 9CDFF28C75D
	for <sip@core3.amsl.com>; Wed, 12 Mar 2008 13:16:15 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id ovs43VojES-K for <sip@core3.amsl.com>;
	Wed, 12 Mar 2008 13:16:13 -0700 (PDT)
Received: from outbound-mail-116.bluehost.com (outbound-mail-116.bluehost.com
	[69.89.22.16]) by core3.amsl.com (Postfix) with SMTP id DF1CD28C838
	for <sip@ietf.org>; Wed, 12 Mar 2008 13:16:11 -0700 (PDT)
Received: (qmail 30065 invoked by uid 0); 12 Mar 2008 20:13:52 -0000
Received: from unknown (HELO box7.bluehost.com) (69.89.30.147)
	by outboundproxy3.bluehost.com with SMTP; 12 Mar 2008 20:13:52 -0000
Received: from dhcp-1771.ietf71.ietf.org ([130.129.23.113]
	helo=KingsMountain.com)
	by box7.bluehost.com with esmtps (TLSv1:AES256-SHA:256) (Exim 4.68)
	(envelope-from <+11234567890@kingsmountain.com>)
	id 1JZXKP-0003Ud-Bz; Wed, 12 Mar 2008 14:13:33 -0600
X-Mailer: exmh version 2.7.2 01/07/2005 (debian 1:2.7.2-7) with nmh-1.1
To: IETF SIP List <sip@ietf.org>
From: +11234567890@kingsmountain.com
Mime-Version: 1.0
Date: Wed, 12 Mar 2008 13:13:38 -0700
X-Identified-User: {32571:box7.bluehost.com:kingsmou:kingsmountain.com}
	{sentby:bopbeforesmtp 130.129.23.113 authed with
	kingsmountain.com}
Message-Id: <20080312201611.DF1CD28C838@core3.amsl.com>
Subject: [Sip] comments on draft-rosenberg-sip-rfc4474-concerns-00
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
Reply-To: sip@ietf.org, +11234567890@kingsmountain.com
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Hi,

Obviously this I-D (and the other related ones [1]) are teasing apart an
important set of issues. And there's lots of subtle-but-important items
buried in all of this. I'm going to attempt to address some of the ones I
can see in draft-rosenberg-sip-rfc4474-concerns-00 in the hope of refining
our collective thinking, and terminology, wrt this class of issues. It's
unfortunately long, and doesn't offer any magic bullet solutions, but
hopefully worthwhile to peruse. The basic conclusion is that in reality
the issues noted in draft-rosenberg-sip-rfc4474-concerns-00 apply
essentially equally to any style of "user" part SIP URI.

=JeffH
------

quoting draft-rosenberg-sip-rfc4474-concerns-00:
>                                                ...most SIP deployments
>    at the time of writing make use of phone numbers, and not traditional
>    email-style user@domain identifiers.  Of course, a phone number does 
>    not have a domain part. 

But the latter is not strictly correct all the time -- e.g. see the email 
addresses in the headers of this message. Are they phone numbers or do
they just look like such?

Obviously, such portions of identifiers may or may not actually "be" what
they syntactically appear as, because there isn't a extant proper mapping
of them into operational services commonly associated with such syntax. 

It _is_, however, the case, in actual non-trivial deployments, that there
are identifiers used in the "local-part" of RFC2822 email addresses [2]
that _are_ exactly phone numbers -- e.g. AFAIK, every Sprint wireless
subscriber is assigned an email address of the form..

  nnnnnnnnnn@messaging.sprintpcs.com

..and Verizon customers are assigned..

  nnnnnnnnnn@vtext.com

..and Cingular (now ATT) customers were assigned..

  nnnnnnnnnn@cingularME.com


I assume that a non-trivial number of other carriers do similar things.
These  addresses presently are, in my experience, typically used to enable
bi-directional email<-->SMS gatewaying, but they _could_ also be used in
SIP URIs, e.g...

  sip:nnnnnnnnnn@messaging.sprintpcs.com;user=phone

..which would be a fairly reasonable thing to do, at least from an
objective technical perspective ;)



>    Consequently, the domain part of the SIP URI, when used in
>    conjunction with phone numbers, is not relevant to users in
>    establishing the identity associated with that number. 

I would update this to say..

    Consequently, the domain part of the SIP URI, when used in
    conjunction with phone numbers, is not necessarily relevant
    to users in establishing the identity associated with that
    number.

The term "necessarily" is important here, because the argument preceding
this claim in the document assumes only PSTN-style user equipment and
usage thereof. I nonminally agree that this dominates SIP-based VoIP usage
today (without really knowing in actuality), but I suspect the future is a
bit of an open question (at least in that we can perhaps kinda possibly
influence it).



>                                                      For email-
>    style identifiers, this is not true - the domain part is highly
>    relevant. 

I think, given the examples noted above, we should not use the ad-hoc
term "email-style identifier(s)" in our analysis of this class of issue,
because it is misleading. 

As illustrated above, the "local-part" (aka left-hand-side  (LHS)) of an
RFC2822 email address (aka "addr-spec" in RFC2822 [2]) can, and are 
reasonably often, comprised of numeric strings that can appear to 
syntactically be "phone numbers", and in some non-trivial number of cases
are actually such.

Rather, I think we should use a term(s) such as..

  natural-name-like identifiers

..and..

  phone-number-like identifiers ..or.. non-natural-name-like identifiers


..where the qualifier "-like" is important because one doesn't know for
sure, without checking with appropriate datastores or authorities or
whatever, whether those identifiers are in actuality what they resemble. 



>    Unfortunately, this problem is a FUNDAMENTAL PROPERTY OF PHONE
>    NUMBERS.  No specifications or efforts on the part of IETF can fix
>    this problem.  Phone numbers are fundamentally NOT scoped to a
>    domain, and attempts to represent them in any other form are
>    ultimately futile from an identification perspective.

This above set of claims are apparently predicated on prevalent user
equipment (UE), user agent user interface (UA UI), and user behavior as we
know it today. 

Continuing, in the "Re-Sign Attack" section of -rfc4474-concerns-00..

>    What happened here?  It is illustrative to look at this attack in the
>    case where Alice had used a user@domain identifier, for example,
>    alice@a.com.  In this case, if the b.com transit domain had done the
>    same processing described above, the request would have arrived to
>    Bob's user agent.  The signature would be valid, and the domain of
>    the signer would match the domain in the From field.  However, the
>    identity shown to Bob would be "alice@b.com", which doesn't match
>    Alice's AOR as far as Bob knows.  Consequently, Bob will be alerted
>    to the fact that something is going on.

This all depends on how the UE/UA UI behaves, and how Bob behaves. He may
or may not "be alterted".

E.g. I personally would note the claimed natural-name-like identifier
whether or not any remaining identifier components are materialized to me,
and likely just figure it's just another natural-name-like-based
identifier my contact wields. 

I.e. I think the re-sign attack is an issue of some interest no matter how
the "user" part of the SIP URI in the From: header field is composed
whether it is a natural-name-like identifier or a non-natural-name-like
identifier. Also, that we should perhaps offer more "UI guidance" to
implementors (and yes, some std-track RFCs do say things like "such and
such SHOULD be materialized to the user...", if I recall correctly; but
yes, doing so is controversial).


-rfc4474-concerns-00 goes on to say, in the same section..

>        ...these man-in-the-middle attacks (when an email-style From
>    URI is being used) will be detectable for cases where the called
>    party knows the caller.

Being "detectable" doesn't necessarily depend upon the style of From: URI
in the case where the called party "knows" the caller, especially if the
called party has a UE/UA-accessible address book against which the UE/UA
checks incoming identifiers. 

But also, the caller may simply be wielding a newly-acquired SIP URI, e.g.
Alice acquired a new account in another domain but is wielding the same
"user" part identifier, e.g. "alice". And so, this observation..

>                          Even when the called party doesn't know the
>    caller, attemptes to return their calls would fail, ...

..isn't necessarily correct, because if Alice has simply acquired a new
account, with sytactically the same accout identifier, comm attempts back
to her will ostensibly succeed. 


So it seems to me that the following claim of..

>    Our conclusion is that, when email-style identifiers are used, RFC
>    4474 provides a reasonable degree of protection against re-signing
>    [...]. However, when phone numbers are used, RFC 4474 provides no 
>    protection against re-signing, and its message integrity is easily 
>    subject to MITM attacks.

..is not quite correct *overall* in that RFC4474 protections are largely
equivalent no matter what style of SIP URI "user" part identifier is
employed. 

All RFC4474 provides is a verifiable assertion of "caller identitifier
legitimacy" (and msg integrity), vouched for by the UAS/AuthnSvc, to the
next hop in the signaling chain, nothing more. That, I believe, is what
this para in RFC4474 that you cite essentially claims..

>      In the end analysis, the Identity and Identity-Info headers cannot
>      protect themselves.  Any attacker could remove these headers from a
>      SIP request, and modify the request arbitrarily afterwards.  However,
>      this mechanism is not intended to protect requests from men-in-the-
>      middle who interfere with SIP messages; it is intended only to
>      provide a way that SIP users can prove definitively that they are who
>      they claim to be.

..and it seems arguable that RFC4474 should state this more explicitly, at
least in the very last phrase.


In terms of the section "3.2.  The False Number Attack", it seems to me
that it is an issue no matter what style identifier is wielded by the
malicious provider, e.g. a.com. They could just as easily mount this
attack with either natural-name-like or a phone-number-like identifiers.
The attacks successfulness depends largely upon how the targeted UE/UA UI
behaves, and the goals of the attack. 


Wrt to the section "4.1.  Unsecure Caller ID for Phone Numbers", where it
says this..

>    The false number attack described in Section 3.2 means that RFC 4474
>    does not readily provide 'secure caller ID' for phone numbers.  The
>    definition of secure in this context is that the phone number present
>    in the From header field URI does in fact represent the number of the
>    party that originated the call.

..I think that "definition of secure" applies only to the extent the
UAS/AuthnSvc is trustworthy, regardless of the style of "user" part
identifier wielded. 


E.g. where, in "4.2.  Comparison with RFC3325" it says..

>              an attacker could not assert identity within
>    whitehouse.gov.

..and in section "4.3.  Interactions with DTLS-SRTP" it says..

>    When used with email identifiers, RFC 4474 provides a limited form of
>    message integrity protection against MITM attacks.  As discussed
>    above, this is because modified domains in From fields are likely to
>    be readily detected by end users, either right away or in the future.


..but a malicious domain "in the network" _could_ (potentially) assert
"@whiteh0use.gov", and its success will again depend essentially only upon
both the UE/UA and user behavior. So, again, it seems to me that the basic
analysis is independent of the style of "user" part identifier wielded. 

This point is acknowledged here..

>                                                             Indeed, it
>    won't be detectable even if they have an email-style identifier, if
>    the called party doesn't recognize that the caller's identity doesn't
>    match what their UA is showing to them.


And so, in "5.  Conclusions", where it says..

>    Unfortunately, there is no simple remedy to this problem.  The
>    problems with RFC4474 cannot just be fixed by an alternate security
>    technique.  They are deeply rooted in the domain independence of
>    phone numbers.


..I disagree with the last sentence. To a fair degree, the local-part of
RFC2822-style, and the "user" part of SIP URI, identifiers are
domain-independent. E.g. I wield "Jeff.Hodges", "=JeffH", etc. in more
than one domain, and could also wield my sprint phone number in a domain
that I own as either an email address and/or a SIP URI "user" name part.

To a large degree, the (non-trivial, important) issues highlighted in
-rfc4474-concerns-00 are predicated on UE/UA, and user, behavior. 

So, it seems that unless "we" (or someone) addresses security-critical
aspects of UE/UA UI behavior, we might want to think about yet another
security mechanism, one that is UA-to-UA and/or UAS-to-UAS. 

OR, perhaps in practice, we'll gravitate to some acceptable level of
transitive trust across SIP-based overlay networks in conjunction with
some set of white- and black- listing technology, as -rfc4474-concerns-00
notes. Much as spam is addressed in the email world, and solicitor calls
are handled in the present phone world. 

One for-what-it's-worth observation is that -- granted it depends on UE/UI
software capabilities and user proclivities (but the following is pretty
common AFAIK) -- many of us are already far along the path of having
personal UE/UA-based whitelists on our mobiles and softphones and email
UAs etc. 


-----------------------

[1]   Dan Wing said in 
<http://www.ietf.org/mail-archive/web/sip/current/msg22416.html>:

> there are approximately 7 new drafts on this issue, and another 2 
> expired drafts that discuss this a bit, too:

  draft-darilion-sip-e164-enum-00.txt
  draft-elwell-sip-e164-problem-statement-00.txt
  draft-fischer-sip-e2e-sec-media-00.txt
  draft-kaplan-sip-uris-change-00.txt
  draft-rosenberg-sip-rfc4474-concerns-00.txt
  draft-schwartz-sip-e164-ownership-00.txt
  draft-wing-sip-e164-rrc-01.txt
  draft-rosenberg-rai-phone-names-numbers-00 (expired)
  draft-mayrhofer-enum-domainkeys-00 (expired)


[2] from RFC2822, ABNF excerpts..

address         =       mailbox / group

mailbox         =       name-addr / addr-spec

addr-spec       =       local-part "@" domain

name-addr       =       [display-name] angle-addr

angle-addr      =       [CFWS] "<" addr-spec ">" [CFWS] / obs-angle-addr

local-part      =       dot-atom / quoted-string / obs-local-part

domain          =       dot-atom / domain-literal / obs-domain

domain-literal  =       [CFWS] "[" *([FWS] dcontent) [FWS] "]" [CFWS]

dcontent        =       dtext / quoted-pair

dtext           =       NO-WS-CTL /     ; Non white space controls

                        %d33-90 /       ; The rest of the US-ASCII
                        %d94-126        ;  characters not including "[",
                                        ;  "]", or "\"


atext           =       ALPHA / DIGIT / ; Any character except controls,
                        "!" / "#" /     ;  SP, and specials.
                        "$" / "%" /     ;  Used for atoms
                        "&" / "'" /
                        "*" / "+" /
                        "-" / "/" /
                        "=" / "?" /
                        "^" / "_" /
                        "`" / "{" /
                        "|" / "}" /
                        "~"

atom            =       [CFWS] 1*atext [CFWS]

dot-atom        =       [CFWS] dot-atom-text [CFWS]

dot-atom-text   =       1*atext *("." 1*atext)



---
end



_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Wed Mar 12 18:50:32 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id E5A3628C758;
	Wed, 12 Mar 2008 18:50:32 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -99.833
X-Spam-Level: 
X-Spam-Status: No, score=-99.833 tagged_above=-999 required=5
	tests=[AWL=-0.395, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, J_BACKHAIR_53=1, RDNS_NONE=0.1,
	USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id zizm9ahXeX6Z; Wed, 12 Mar 2008 18:50:30 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id D720D28C6B0;
	Wed, 12 Mar 2008 18:50:30 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id A801E3A6C1B
	for <sip@core3.amsl.com>; Wed, 12 Mar 2008 18:50:29 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id YKyp06ViyGS1 for <sip@core3.amsl.com>;
	Wed, 12 Mar 2008 18:50:27 -0700 (PDT)
Received: from rtp-iport-2.cisco.com (rtp-iport-2.cisco.com [64.102.122.149])
	by core3.amsl.com (Postfix) with ESMTP id 296023A67FF
	for <sip@ietf.org>; Wed, 12 Mar 2008 18:50:27 -0700 (PDT)
X-IronPort-AV: E=Sophos;i="4.25,491,1199682000"; 
   d="scan'208";a="1625155"
Received: from rtp-dkim-2.cisco.com ([64.102.121.159])
	by rtp-iport-2.cisco.com with ESMTP; 12 Mar 2008 21:48:08 -0400
Received: from rtp-core-1.cisco.com (rtp-core-1.cisco.com [64.102.124.12])
	by rtp-dkim-2.cisco.com (8.12.11/8.12.11) with ESMTP id m2D1m8M0014036; 
	Wed, 12 Mar 2008 21:48:08 -0400
Received: from xbh-rtp-201.amer.cisco.com (xbh-rtp-201.cisco.com
	[64.102.31.12])
	by rtp-core-1.cisco.com (8.13.8/8.13.8) with ESMTP id m2D1m8Ym009195;
	Thu, 13 Mar 2008 01:48:08 GMT
Received: from xfe-rtp-202.amer.cisco.com ([64.102.31.21]) by
	xbh-rtp-201.amer.cisco.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Wed, 12 Mar 2008 21:48:08 -0400
Received: from [161.44.174.168] ([161.44.174.168]) by
	xfe-rtp-202.amer.cisco.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Wed, 12 Mar 2008 21:48:07 -0400
Message-ID: <47D887E9.8000407@cisco.com>
Date: Wed, 12 Mar 2008 21:48:25 -0400
From: Paul Kyzivat <pkyzivat@cisco.com>
User-Agent: Thunderbird 2.0.0.12 (Windows/20080213)
MIME-Version: 1.0
To: sip@ietf.org, +11234567890@kingsmountain.com
References: <20080312201611.DF1CD28C838@core3.amsl.com>
In-Reply-To: <20080312201611.DF1CD28C838@core3.amsl.com>
X-OriginalArrivalTime: 13 Mar 2008 01:48:07.0351 (UTC)
	FILETIME=[48F7F470:01C884AC]
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; l=17785; t=1205372888;
	x=1206236888; c=relaxed/simple; s=rtpdkim2001;
	h=Content-Type:From:Subject:Content-Transfer-Encoding:MIME-Version;
	d=cisco.com; i=pkyzivat@cisco.com;
	z=From:=20Paul=20Kyzivat=20<pkyzivat@cisco.com>
	|Subject:=20Re=3A=20[Sip]=20comments=20on=20draft-rosenberg
	-sip-rfc4474-concerns-00 |Sender:=20
	|To:=20sip@ietf.org,=20+11234567890@kingsmountain.com;
	bh=z+htutLHMr52SOWBE4vlBW12mzF+IUyP4HX2lPRwyXY=;
	b=GaxfAlNNGuxpxi6q+hzi4djNZIzASOFvvoY7QtgD/cOXqLg0kU3UQBwRMu
	V6GXCS+h4jP4Bt6cZy7MDLXINflnHpAziFFwoTv9wZLDyv9psolzwDmsVm4e
	T1/gbLEypR;
Authentication-Results: rtp-dkim-2; header.From=pkyzivat@cisco.com; dkim=pass (
	sig from cisco.com/rtpdkim2001 verified; ); 
Subject: Re: [Sip] comments on draft-rosenberg-sip-rfc4474-concerns-00
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Hello +11234567890@kingsmountain.com (or is it just +11234567890?)

For now I will just call you +11234567890 since I don't have another 
name for you. :-)

I take a different spin on Jonathan's terminology. When he says "a phone 
number does not have a domain part" I think he is really talking about 
the phone *number* - that which is assigned to you by a traditional 
phone company, and which people commonly put on business cards and 
various other places.

Now, as you and others point out, it is fairly common to embed things 
that are, or look like, phone numbers in other kinds of addresses and 
URIs. The essence of the problem is knowing whether some set of digits, 
possibly preceded by a +, is a phone number in a given context.

Regarding whether people can, and should, interpret the "user part" of 
other forms of address (email, sip) without regard to the domain part - 
that is just stupid. You may reasonable assume that

	sip:paul.kyzivat@foo.com
	mailto:paul.kyzivat@bar.com
	paul.kyzivat@baz.com

all refer to the same person, namely me. That may not always be true, 
but probably pretty close. OTOH I am quite certain that you may not 
assume that

	sip:alan.johnston@foo.com
	mailto:alan.johnston@bar.com
	alan.johnston@baz.com

all refer to the same person. (Just picking Alan because he is a real 
person with a fairly common name.) These things are simply not scoped in 
such a way as to be unique without the domain name. So equipment that 
needs to identify users of such addresses MUST be prepared to display 
the full name, including the domain. Equipment that deals in phone 
numbers *does not* need to be prepared to display a domain name, and a 
dominant fraction of the phone devices in the world have no good way to 
do so.

If I get a call from sip:alan.johnston@hotgirls.co.uk I may give a 
passing thought of "Could that be Alan? What the heck is he up to?", but 
mostly I will think it is probably somebody else. I certainly wouldn't 
want my device suppressing the domain.

Yet, if I normally get calls from:

	sip:+19785551234@sprint.com

and then later get a call from

	sip:+19785551234@comcast.net

then many people seem to think that only the number should be displayed.

	Paul

+11234567890@kingsmountain.com wrote:
> Hi,
> 
> Obviously this I-D (and the other related ones [1]) are teasing apart an
> important set of issues. And there's lots of subtle-but-important items
> buried in all of this. I'm going to attempt to address some of the ones I
> can see in draft-rosenberg-sip-rfc4474-concerns-00 in the hope of refining
> our collective thinking, and terminology, wrt this class of issues. It's
> unfortunately long, and doesn't offer any magic bullet solutions, but
> hopefully worthwhile to peruse. The basic conclusion is that in reality
> the issues noted in draft-rosenberg-sip-rfc4474-concerns-00 apply
> essentially equally to any style of "user" part SIP URI.
> 
> =JeffH
> ------
> 
> quoting draft-rosenberg-sip-rfc4474-concerns-00:
>>                                                ...most SIP deployments
>>    at the time of writing make use of phone numbers, and not traditional
>>    email-style user@domain identifiers.  Of course, a phone number does 
>>    not have a domain part. 
> 
> But the latter is not strictly correct all the time -- e.g. see the email 
> addresses in the headers of this message. Are they phone numbers or do
> they just look like such?
> 
> Obviously, such portions of identifiers may or may not actually "be" what
> they syntactically appear as, because there isn't a extant proper mapping
> of them into operational services commonly associated with such syntax. 
> 
> It _is_, however, the case, in actual non-trivial deployments, that there
> are identifiers used in the "local-part" of RFC2822 email addresses [2]
> that _are_ exactly phone numbers -- e.g. AFAIK, every Sprint wireless
> subscriber is assigned an email address of the form..
> 
>   nnnnnnnnnn@messaging.sprintpcs.com
> 
> ..and Verizon customers are assigned..
> 
>   nnnnnnnnnn@vtext.com
> 
> ..and Cingular (now ATT) customers were assigned..
> 
>   nnnnnnnnnn@cingularME.com
> 
> 
> I assume that a non-trivial number of other carriers do similar things.
> These  addresses presently are, in my experience, typically used to enable
> bi-directional email<-->SMS gatewaying, but they _could_ also be used in
> SIP URIs, e.g...
> 
>   sip:nnnnnnnnnn@messaging.sprintpcs.com;user=phone
> 
> ..which would be a fairly reasonable thing to do, at least from an
> objective technical perspective ;)
> 
> 
> 
>>    Consequently, the domain part of the SIP URI, when used in
>>    conjunction with phone numbers, is not relevant to users in
>>    establishing the identity associated with that number. 
> 
> I would update this to say..
> 
>     Consequently, the domain part of the SIP URI, when used in
>     conjunction with phone numbers, is not necessarily relevant
>     to users in establishing the identity associated with that
>     number.
> 
> The term "necessarily" is important here, because the argument preceding
> this claim in the document assumes only PSTN-style user equipment and
> usage thereof. I nonminally agree that this dominates SIP-based VoIP usage
> today (without really knowing in actuality), but I suspect the future is a
> bit of an open question (at least in that we can perhaps kinda possibly
> influence it).
> 
> 
> 
>>                                                      For email-
>>    style identifiers, this is not true - the domain part is highly
>>    relevant. 
> 
> I think, given the examples noted above, we should not use the ad-hoc
> term "email-style identifier(s)" in our analysis of this class of issue,
> because it is misleading. 
> 
> As illustrated above, the "local-part" (aka left-hand-side  (LHS)) of an
> RFC2822 email address (aka "addr-spec" in RFC2822 [2]) can, and are 
> reasonably often, comprised of numeric strings that can appear to 
> syntactically be "phone numbers", and in some non-trivial number of cases
> are actually such.
> 
> Rather, I think we should use a term(s) such as..
> 
>   natural-name-like identifiers
> 
> ..and..
> 
>   phone-number-like identifiers ..or.. non-natural-name-like identifiers
> 
> 
> ..where the qualifier "-like" is important because one doesn't know for
> sure, without checking with appropriate datastores or authorities or
> whatever, whether those identifiers are in actuality what they resemble. 
> 
> 
> 
>>    Unfortunately, this problem is a FUNDAMENTAL PROPERTY OF PHONE
>>    NUMBERS.  No specifications or efforts on the part of IETF can fix
>>    this problem.  Phone numbers are fundamentally NOT scoped to a
>>    domain, and attempts to represent them in any other form are
>>    ultimately futile from an identification perspective.
> 
> This above set of claims are apparently predicated on prevalent user
> equipment (UE), user agent user interface (UA UI), and user behavior as we
> know it today. 
> 
> Continuing, in the "Re-Sign Attack" section of -rfc4474-concerns-00..
> 
>>    What happened here?  It is illustrative to look at this attack in the
>>    case where Alice had used a user@domain identifier, for example,
>>    alice@a.com.  In this case, if the b.com transit domain had done the
>>    same processing described above, the request would have arrived to
>>    Bob's user agent.  The signature would be valid, and the domain of
>>    the signer would match the domain in the From field.  However, the
>>    identity shown to Bob would be "alice@b.com", which doesn't match
>>    Alice's AOR as far as Bob knows.  Consequently, Bob will be alerted
>>    to the fact that something is going on.
> 
> This all depends on how the UE/UA UI behaves, and how Bob behaves. He may
> or may not "be alterted".
> 
> E.g. I personally would note the claimed natural-name-like identifier
> whether or not any remaining identifier components are materialized to me,
> and likely just figure it's just another natural-name-like-based
> identifier my contact wields. 
> 
> I.e. I think the re-sign attack is an issue of some interest no matter how
> the "user" part of the SIP URI in the From: header field is composed
> whether it is a natural-name-like identifier or a non-natural-name-like
> identifier. Also, that we should perhaps offer more "UI guidance" to
> implementors (and yes, some std-track RFCs do say things like "such and
> such SHOULD be materialized to the user...", if I recall correctly; but
> yes, doing so is controversial).
> 
> 
> -rfc4474-concerns-00 goes on to say, in the same section..
> 
>>        ...these man-in-the-middle attacks (when an email-style From
>>    URI is being used) will be detectable for cases where the called
>>    party knows the caller.
> 
> Being "detectable" doesn't necessarily depend upon the style of From: URI
> in the case where the called party "knows" the caller, especially if the
> called party has a UE/UA-accessible address book against which the UE/UA
> checks incoming identifiers. 
> 
> But also, the caller may simply be wielding a newly-acquired SIP URI, e.g.
> Alice acquired a new account in another domain but is wielding the same
> "user" part identifier, e.g. "alice". And so, this observation..
> 
>>                          Even when the called party doesn't know the
>>    caller, attemptes to return their calls would fail, ...
> 
> ..isn't necessarily correct, because if Alice has simply acquired a new
> account, with sytactically the same accout identifier, comm attempts back
> to her will ostensibly succeed. 
> 
> 
> So it seems to me that the following claim of..
> 
>>    Our conclusion is that, when email-style identifiers are used, RFC
>>    4474 provides a reasonable degree of protection against re-signing
>>    [...]. However, when phone numbers are used, RFC 4474 provides no 
>>    protection against re-signing, and its message integrity is easily 
>>    subject to MITM attacks.
> 
> ..is not quite correct *overall* in that RFC4474 protections are largely
> equivalent no matter what style of SIP URI "user" part identifier is
> employed. 
> 
> All RFC4474 provides is a verifiable assertion of "caller identitifier
> legitimacy" (and msg integrity), vouched for by the UAS/AuthnSvc, to the
> next hop in the signaling chain, nothing more. That, I believe, is what
> this para in RFC4474 that you cite essentially claims..
> 
>>      In the end analysis, the Identity and Identity-Info headers cannot
>>      protect themselves.  Any attacker could remove these headers from a
>>      SIP request, and modify the request arbitrarily afterwards.  However,
>>      this mechanism is not intended to protect requests from men-in-the-
>>      middle who interfere with SIP messages; it is intended only to
>>      provide a way that SIP users can prove definitively that they are who
>>      they claim to be.
> 
> ..and it seems arguable that RFC4474 should state this more explicitly, at
> least in the very last phrase.
> 
> 
> In terms of the section "3.2.  The False Number Attack", it seems to me
> that it is an issue no matter what style identifier is wielded by the
> malicious provider, e.g. a.com. They could just as easily mount this
> attack with either natural-name-like or a phone-number-like identifiers.
> The attacks successfulness depends largely upon how the targeted UE/UA UI
> behaves, and the goals of the attack. 
> 
> 
> Wrt to the section "4.1.  Unsecure Caller ID for Phone Numbers", where it
> says this..
> 
>>    The false number attack described in Section 3.2 means that RFC 4474
>>    does not readily provide 'secure caller ID' for phone numbers.  The
>>    definition of secure in this context is that the phone number present
>>    in the From header field URI does in fact represent the number of the
>>    party that originated the call.
> 
> ..I think that "definition of secure" applies only to the extent the
> UAS/AuthnSvc is trustworthy, regardless of the style of "user" part
> identifier wielded. 
> 
> 
> E.g. where, in "4.2.  Comparison with RFC3325" it says..
> 
>>              an attacker could not assert identity within
>>    whitehouse.gov.
> 
> ..and in section "4.3.  Interactions with DTLS-SRTP" it says..
> 
>>    When used with email identifiers, RFC 4474 provides a limited form of
>>    message integrity protection against MITM attacks.  As discussed
>>    above, this is because modified domains in From fields are likely to
>>    be readily detected by end users, either right away or in the future.
> 
> 
> ..but a malicious domain "in the network" _could_ (potentially) assert
> "@whiteh0use.gov", and its success will again depend essentially only upon
> both the UE/UA and user behavior. So, again, it seems to me that the basic
> analysis is independent of the style of "user" part identifier wielded. 
> 
> This point is acknowledged here..
> 
>>                                                             Indeed, it
>>    won't be detectable even if they have an email-style identifier, if
>>    the called party doesn't recognize that the caller's identity doesn't
>>    match what their UA is showing to them.
> 
> 
> And so, in "5.  Conclusions", where it says..
> 
>>    Unfortunately, there is no simple remedy to this problem.  The
>>    problems with RFC4474 cannot just be fixed by an alternate security
>>    technique.  They are deeply rooted in the domain independence of
>>    phone numbers.
> 
> 
> ..I disagree with the last sentence. To a fair degree, the local-part of
> RFC2822-style, and the "user" part of SIP URI, identifiers are
> domain-independent. E.g. I wield "Jeff.Hodges", "=JeffH", etc. in more
> than one domain, and could also wield my sprint phone number in a domain
> that I own as either an email address and/or a SIP URI "user" name part.
> 
> To a large degree, the (non-trivial, important) issues highlighted in
> -rfc4474-concerns-00 are predicated on UE/UA, and user, behavior. 
> 
> So, it seems that unless "we" (or someone) addresses security-critical
> aspects of UE/UA UI behavior, we might want to think about yet another
> security mechanism, one that is UA-to-UA and/or UAS-to-UAS. 
> 
> OR, perhaps in practice, we'll gravitate to some acceptable level of
> transitive trust across SIP-based overlay networks in conjunction with
> some set of white- and black- listing technology, as -rfc4474-concerns-00
> notes. Much as spam is addressed in the email world, and solicitor calls
> are handled in the present phone world. 
> 
> One for-what-it's-worth observation is that -- granted it depends on UE/UI
> software capabilities and user proclivities (but the following is pretty
> common AFAIK) -- many of us are already far along the path of having
> personal UE/UA-based whitelists on our mobiles and softphones and email
> UAs etc. 
> 
> 
> -----------------------
> 
> [1]   Dan Wing said in 
> <http://www.ietf.org/mail-archive/web/sip/current/msg22416.html>:
> 
>> there are approximately 7 new drafts on this issue, and another 2 
>> expired drafts that discuss this a bit, too:
> 
>   draft-darilion-sip-e164-enum-00.txt
>   draft-elwell-sip-e164-problem-statement-00.txt
>   draft-fischer-sip-e2e-sec-media-00.txt
>   draft-kaplan-sip-uris-change-00.txt
>   draft-rosenberg-sip-rfc4474-concerns-00.txt
>   draft-schwartz-sip-e164-ownership-00.txt
>   draft-wing-sip-e164-rrc-01.txt
>   draft-rosenberg-rai-phone-names-numbers-00 (expired)
>   draft-mayrhofer-enum-domainkeys-00 (expired)
> 
> 
> [2] from RFC2822, ABNF excerpts..
> 
> address         =       mailbox / group
> 
> mailbox         =       name-addr / addr-spec
> 
> addr-spec       =       local-part "@" domain
> 
> name-addr       =       [display-name] angle-addr
> 
> angle-addr      =       [CFWS] "<" addr-spec ">" [CFWS] / obs-angle-addr
> 
> local-part      =       dot-atom / quoted-string / obs-local-part
> 
> domain          =       dot-atom / domain-literal / obs-domain
> 
> domain-literal  =       [CFWS] "[" *([FWS] dcontent) [FWS] "]" [CFWS]
> 
> dcontent        =       dtext / quoted-pair
> 
> dtext           =       NO-WS-CTL /     ; Non white space controls
> 
>                         %d33-90 /       ; The rest of the US-ASCII
>                         %d94-126        ;  characters not including "[",
>                                         ;  "]", or "\"
> 
> 
> atext           =       ALPHA / DIGIT / ; Any character except controls,
>                         "!" / "#" /     ;  SP, and specials.
>                         "$" / "%" /     ;  Used for atoms
>                         "&" / "'" /
>                         "*" / "+" /
>                         "-" / "/" /
>                         "=" / "?" /
>                         "^" / "_" /
>                         "`" / "{" /
>                         "|" / "}" /
>                         "~"
> 
> atom            =       [CFWS] 1*atext [CFWS]
> 
> dot-atom        =       [CFWS] dot-atom-text [CFWS]
> 
> dot-atom-text   =       1*atext *("." 1*atext)
> 
> 
> 
> ---
> end
> 
> 
> 
> _______________________________________________
> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
> 
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu Mar 13 06:15:21 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id A6F6E28C80D;
	Thu, 13 Mar 2008 06:15:21 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.235
X-Spam-Level: 
X-Spam-Status: No, score=-100.235 tagged_above=-999 required=5
	tests=[AWL=0.202, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id AWDltd9FaEKk; Thu, 13 Mar 2008 06:15:15 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 49D2928C16C;
	Thu, 13 Mar 2008 06:15:15 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id DA2E928C80D
	for <sip@core3.amsl.com>; Thu, 13 Mar 2008 06:15:13 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id aTuByFw-hR2Q for <sip@core3.amsl.com>;
	Thu, 13 Mar 2008 06:15:10 -0700 (PDT)
Received: from kilo.rtfm.com (unknown [130.129.87.199])
	by core3.amsl.com (Postfix) with ESMTP id 8CCCA28C7AA
	for <sip@ietf.org>; Thu, 13 Mar 2008 06:15:10 -0700 (PDT)
Received: from dhcp-11ec.ietf71.ietf.org (localhost [127.0.0.1])
	by kilo.rtfm.com (Postfix) with ESMTP id 092F01B0B2A;
	Thu, 13 Mar 2008 09:12:51 -0400 (EDT)
Date: Thu, 13 Mar 2008 09:12:51 -0400
From: Eric Rescorla <ekr@networkresonance.com>
To: sip@ietf.org, draft-ietf-sip-domain-certs@tools.ietf.org
User-Agent: Wanderlust/2.15.5 (Almost Unreal) Emacs/22.1 Mule/5.0 (SAKAKI)
MIME-Version: 1.0 (generated by SEMI 1.14.6 - "Maruoka")
Message-Id: <20080313131252.092F01B0B2A@kilo.rtfm.com>
Subject: [Sip] Review of draft-ietf-sip-domain-certs-00
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

$Id: draft-ietf-sip-domain-certs-00-rev.txt,v 1.1 2008/03/13 12:53:39 ekr Exp $

S 5.
   The problem for proxyB is slightly more complex since it accepted the
   TLS request passively.  Thus, it does not possess an equivalent AUS
   that proxyA did; instead, it uses local policies to consider the
   client authenticated.  The normative behavior for servers is provided
   in Section 7.4.

I don't think this point is necessarily right. It's job is to primarily
to record the claimed identity from the SSL client. Why is this
problematic?

S 6.
   Service providers MAY continue the practice of using existing
   certificates for SIP usage with the identity conveyed in the Subject
   field; however, such usage is NOT RECOMMENDED for new certificates,
   which MUST contain the identity in the subjectAltName extension.

Will standard CAs give you certificates of with SAN set? If not,
this MUST seems to be too strong.


S 7.2.
What's the reason for forbidding wildcards?


S 7.4.
   When a server accepts a TLS connection, it presents its own X.509
   certificate to the client.  To authenticate the client, the server
   asks the client for a certificate.  If the client possesses a
   certificate, it is presented to the server.  If the client does not
   present a certificate, it MUST NOT be considered authenticated.

Is this really true? My understanding was that when proxy servers
thought clients were connecting they did not request client auth,
but rather used digest. Note that a number of clients react badly
when a cert is requested and they don't have one.

S 7.6.
   A SIP registrar, acting as a server, follows the normative behavior
   of Section 7.4.  When it accepts a TLS connection from the client, it
   present its certificate.  Depending on the registrar policies, it may
   challenge the client with HTTP Digest.

See above.

S 7.7.
   Smae comment.

S 7.8.
   The closest guidance in SIP today regarding certificates and virtual
   SIP servers occurs in SIP Identity ([8], Section 13.4).  The quoted
   section states that, "... certificates have varying ways of
   describing their subjects, and may indeed have multiple subjects,
   especially in the 'virtual hosting' cases where multiple domains are
   managed by a single application."

   The above quote is incorrect, in that it implies that one certificate
   can have multiple subjectAltName (or Subject) fields, each
   corresponding to a discrete virtual server that represents a single
   domain; actually, a PKIX-compliant certificate has exactly one
   Subject field and at most one subjectAltName (the subjectAltName MAY
   contain multiple identifiers for the Subject).

I'm not sure this is really contradictory, since it sort of puns on
the word "subject"...


S 7.8.
   The TLS extended client hello [7] allows a TLS client to provide to
   the TLS server the name of the server to which a connection is
   desired.  Thus, the server can present the correct certificate to
   establish the TLS connection.

This seems like it should be a SHOULD.

S 8.
   Authentication:  each principal is authenticated to the other as
      possessing a private key for which a certificate has been issued.
      Moreover, this certificate has not been revoked, and is verifiable
      by a certificate chain leading to a (locally configured) trust
      anchor.

So, TLS doesn't guarantee any properties at all about the cert
validity. It just implies "do something PKIXy"

S 8.1.
I actually agree with this stuff, but I don't think it belongs here.


-Ekr
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu Mar 13 06:20:36 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id DFFE328C16C;
	Thu, 13 Mar 2008 06:20:36 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.25
X-Spam-Level: 
X-Spam-Status: No, score=-100.25 tagged_above=-999 required=5
	tests=[AWL=0.187, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id rlW-TruhUIOg; Thu, 13 Mar 2008 06:20:35 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id D341E28C1D9;
	Thu, 13 Mar 2008 06:20:35 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 4603128C1D9
	for <sip@core3.amsl.com>; Thu, 13 Mar 2008 06:20:35 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id WII1z6sy4ipB for <sip@core3.amsl.com>;
	Thu, 13 Mar 2008 06:20:29 -0700 (PDT)
Received: from kilo.rtfm.com (unknown [130.129.87.199])
	by core3.amsl.com (Postfix) with ESMTP id DA69F28C16C
	for <sip@ietf.org>; Thu, 13 Mar 2008 06:20:29 -0700 (PDT)
Received: from dhcp-11ec.ietf71.ietf.org (localhost [127.0.0.1])
	by kilo.rtfm.com (Postfix) with ESMTP id A36C71B0B56;
	Thu, 13 Mar 2008 09:18:11 -0400 (EDT)
Date: Thu, 13 Mar 2008 09:18:11 -0400
From: Eric Rescorla <ekr@networkresonance.com>
To: sip@ietf.org, draft-ietf-sip-eku@tools.ietf.org
User-Agent: Wanderlust/2.15.5 (Almost Unreal) Emacs/22.1 Mule/5.0 (SAKAKI)
MIME-Version: 1.0 (generated by SEMI 1.14.6 - "Maruoka")
Message-Id: <20080313131811.A36C71B0B56@kilo.rtfm.com>
Subject: [Sip] Review of draft-ietf-sip-eku-01
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

$Id: draft-ietf-sip-eku-01-rev.txt,v 1.1 2008/03/13 12:59:19 ekr Exp $

S 2.
   equivalent in another domain.  In Figure 1, proxyA.example.com
   performs certain DNS queries to arrive at proxyB.example.net.
   Because of the answers to the DNS queries, proxyA has a certain
   expectation that proxyB is a valid proxy in the example.net domain
   and is authorized to receive inbound requests targeted to that
   domain.

   However, the problem for proxyB is different; it is presented with a
   connection from a specific host, but what it needs to determine is
   whether or not that connection can be treated as coming from a
   particular SIP domain.  If it receives a certificate that contains
   only the name proxyA.example.com, then it cannot determine that
   proxyA is authorized to act as a SIP outbound proxy for example.com,
   because example.com may use different systems for inbound messages so
   SIP DNS resolution of example.com may not lead to proxyA.example.com
   (if this is the case, proxyB should not reuse this connection if it
   needs to send a request to example.com).  The certificate usage in
   SIP should not require that every outbound proxy for a domain must
   also be an inbound proxy for that domain, but should provide for
   certificate based binding of the SIP domain name to a particular
   connection.

I don't think this is the issue in this draft at all. The only
purpose for the EKU that makes sense is to distinguish SIP from
non-SIP certificates, not to distinguish inbound from outbound
proxies.


S 4.
   o  If the certificate contains the id-kp-sipDomain EKU extension,
      then the certificate MUST be accepted as valid for use as a SIP

s/MUST be accepted/is acceptable/.

After all, you could reject it for some entirely other reason.

-Ekr
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu Mar 13 06:27:54 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 8137428C82E;
	Thu, 13 Mar 2008 06:27:54 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.978
X-Spam-Level: 
X-Spam-Status: No, score=-100.978 tagged_above=-999 required=5
	tests=[AWL=-0.540, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 4FfgySzmZ7a9; Thu, 13 Mar 2008 06:27:53 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 68AEA28C1A0;
	Thu, 13 Mar 2008 06:27:52 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 8DE903A6856
	for <sip@core3.amsl.com>; Thu, 13 Mar 2008 06:27:50 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id eFGZe2lvDFIc for <sip@core3.amsl.com>;
	Thu, 13 Mar 2008 06:27:49 -0700 (PDT)
Received: from ihemail2.lucent.com (ihemail2.lucent.com [135.245.0.35])
	by core3.amsl.com (Postfix) with ESMTP id D6D3228C18C
	for <sip@ietf.org>; Thu, 13 Mar 2008 06:26:56 -0700 (PDT)
Received: from umail.lucent.com (h135-3-40-61.lucent.com [135.3.40.61])
	by ihemail2.lucent.com (8.13.8/IER-o) with ESMTP id m2DDOaR9002389
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO);
	Thu, 13 Mar 2008 08:24:36 -0500 (CDT)
Received: from [135.244.37.92] (volkerh.lra.lucent.com [135.244.37.92])
	by umail.lucent.com (8.13.8/TPES) with ESMTP id m2DDOZ0N011831;
	Thu, 13 Mar 2008 08:24:36 -0500 (CDT)
Message-ID: <47D92B13.1020408@bell-labs.com>
Date: Thu, 13 Mar 2008 09:24:35 -0400
From: Volker Hilt <volkerh@bell-labs.com>
User-Agent: Thunderbird 2.0.0.12 (Windows/20080213)
MIME-Version: 1.0
To: Andrew Allen <aallen@rim.com>
References: <61968779B8AC4C4BAB421D4C12F008C0117A9DD3@XCH47YKF.rim.net>
	<47D6E5FE.7000402@bell-labs.com>
	<61968779B8AC4C4BAB421D4C12F008C011C04896@XCH47YKF.rim.net>
In-Reply-To: <61968779B8AC4C4BAB421D4C12F008C011C04896@XCH47YKF.rim.net>
X-Scanned-By: MIMEDefang 2.57 on 135.245.2.35
Cc: sip@ietf.org
Subject: Re: [Sip] draft-ietf-sip-session-policy-framework-02
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

I would propose to make sure that the policy framework allows an 
extension like the one proposed to be added in the future. This will 
allow a way forward without putting a header parameter in right now.

Thanks,

Volker




Andrew Allen wrote:
> I propose we go with the alternative that enables a domain to insert
> URIs with additional protocol schemes into the policy contact header
> (e.g. HTTP) in addition to SIP.
> 
> A negotiation mechanism could always be added later if it was determined
> to be needed as an optiomization but is not needed now for sure. The
> important thing is to have some flexibility for future additional
> protocols on the Policy Channel.
> 
> 
> 
> -----Original Message-----
> From: Volker Hilt [mailto:volkerh@bell-labs.com] 
> Sent: Tuesday, March 11, 2008 4:05 PM
> To: sip@ietf.org
> Cc: Andrew Allen
> Subject: Re: [Sip] draft-ietf-sip-session-policy-framework-02
> 
> The main request here is to allow different protocols on the policy
> channel, in addition to the SUB/NOT mechanism defined in the policy
> package. The discovery mechanism for policy servers defined in the
> framework draft would still be used but it would be possible to use
> other protocols for retrieving policies (e.g., HTTP).
> 
> This would require that UAs and proxies can come up with policy channel
> protocol both support.
> 
> A full blow negotiation mechanism seems overkill and is also difficult
> to do on the UAS side. The reason is that the UAS will receive a request
> that already contains the policy server URI and, thus, it is too late to
> negotiate a format for it.
> 
> An alternative could be to enable a domain to insert URIs with
> additional protocol schemes into the policy contact header (e.g. HTTP)
> in addition to SIP.
> 
> Yet another alternative is, of course, to keep things as they are and
> only allow the policy package for the policy channel.
> 
> Thanks,
> 
> Volker
> 
> 
> 
> 
> Andrew Allen wrote:
>> I recently reviewed draft-ietf-sip-session-policy-framework-02 with a 
>> view to its utilization in 3GPP IMS particularly with regard to its 
>> application in mobile networks. After reading the draft I have some 
>> concern that the Subscribe/Notify mechanism for the Policy channel is 
>> too heavy for use in Cellular and other narrow band networks. The 
>> session establishment times for cellular using SIP are already too
> long.
>> Adding an additional SUBSCRIBE, 200 OK, NOTIFY, 200 OK per UA to that 
>> to go fetch the local session-specific policy will not be acceptable. 
>> It seems there could be other more efficient means available in 
>> certain networks to obtain the session-specific Policy.
>>
>> While the Subscribe/Notify mechanism may be the best general purpose 
>> mechanism it seems to me that the mechanism ought to be extensible to 
>> allow additional Policy channel mechanisms to be defined in the future
> 
>> which probably means extensibility to support URIs other than just 
>> SIP/SIPS URIs in the Policy-Contact header.
>>
>> The draft anticipates that non SIP means might be used to obtain the 
>> session-independent policies so why not also anticipate the 
>> possibility that non SIP means might in the future be used to obtain 
>> session-specific policies?
>>
>> I have had some discussion with Volker already on this issue and it 
>> seems it would be possible to modify the Policy-Contact header to 
>> optionally allow multiple URIs of different types for the same Policy 
>> Document from the same domain with inclusion of a SIP or SIPS URI 
>> being mandatory.
>>
>> e.g
>>  Policy-Contact: sip:policy-doc@domainA; sips:policy-doc@domainA;
>>
>>  http:policy-doc@domainA; https:policy-doc@domainA 
>> <https://policy-doc@domainA>,
>>
>>  sip:policy-doc@domainB; sips:policy-doc@domainB;
>>
>>  http:policy-doc@domainB; https:policy-doc@domainB 
>> <https://policy-doc@domainB>
>>
>> Support of SIP or SIPS URI schemes and the Subscribe/Notify mechanism 
>> for the Policy Channel would continue to be mandatory for 
>> interoperability but the possibility to include additional URI schemes
> 
>> for obtaining the session-specific policy document would be added.
>>
>> This seems like a relatively straight forward change to make even 
>> though it is a very late proposal.
>>
>> Since one of the original primary drivers for the session policy work 
>> originated from 3GPP requirements it would be a shame if the solution 
>> wasn't sufficiently extensible to allow 3GPP in the future to use it.
>>
>> Andrew Allen
>>
>> Manager Standards
>>
>> Research In Motion Ltd
>>
>> Office +1 847-793-0861 x20824
>>
>> BlackBerry Mobile +1 847 809 8636
>>
>> http://www.rim.com/
>>
>>  
>>
>> ---------------------------------------------------------------------
>> This transmission (including any attachments) may contain confidential
> 
>> information, privileged material (including material protected by the 
>> solicitor-client or other applicable privileges), or constitute 
>> non-public information. Any use of this information by anyone other 
>> than the intended recipient is prohibited. If you have received this 
>> transmission in error, please immediately reply to the sender and 
>> delete this information from your system. Use, dissemination, 
>> distribution, or reproduction of this transmission by unintended 
>> recipients is not authorized and may be unlawful.
>>
>>
>> ----------------------------------------------------------------------
>> --
>>
>> _______________________________________________
>> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
>> This list is for NEW development of the core SIP Protocol Use 
>> sip-implementors@cs.columbia.edu for questions on current sip Use 
>> sipping@ietf.org for new developments on the application of sip
> 
> ---------------------------------------------------------------------
> This transmission (including any attachments) may contain confidential information, privileged material (including material protected by the solicitor-client or other applicable privileges), or constitute non-public information. Any use of this information by anyone other than the intended recipient is prohibited. If you have received this transmission in error, please immediately reply to the sender and delete this information from your system. Use, dissemination, distribution, or reproduction of this transmission by unintended recipients is not authorized and may be unlawful.
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu Mar 13 06:35:55 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 7B5DB28C7E1;
	Thu, 13 Mar 2008 06:35:55 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -101.148
X-Spam-Level: 
X-Spam-Status: No, score=-101.148 tagged_above=-999 required=5
	tests=[AWL=-0.711, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id yk0tG1oNxEVQ; Thu, 13 Mar 2008 06:35:54 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 0334F28C18C;
	Thu, 13 Mar 2008 06:35:54 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 50E4328C7C2
	for <sip@core3.amsl.com>; Thu, 13 Mar 2008 06:35:53 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id QPl-UFsajnet for <sip@core3.amsl.com>;
	Thu, 13 Mar 2008 06:35:47 -0700 (PDT)
Received: from rtp-iport-1.cisco.com (rtp-iport-1.cisco.com [64.102.122.148])
	by core3.amsl.com (Postfix) with ESMTP id D156528C18C
	for <sip@ietf.org>; Thu, 13 Mar 2008 06:35:46 -0700 (PDT)
X-IronPort-AV: E=Sophos;i="4.25,493,1199682000"; 
   d="scan'208";a="1666789"
Received: from rtp-dkim-2.cisco.com ([64.102.121.159])
	by rtp-iport-1.cisco.com with ESMTP; 13 Mar 2008 09:33:28 -0400
Received: from rtp-core-1.cisco.com (rtp-core-1.cisco.com [64.102.124.12])
	by rtp-dkim-2.cisco.com (8.12.11/8.12.11) with ESMTP id m2DDXSbV015512
	for <sip@ietf.org>; Thu, 13 Mar 2008 09:33:28 -0400
Received: from xbh-rtp-201.amer.cisco.com (xbh-rtp-201.cisco.com
	[64.102.31.12])
	by rtp-core-1.cisco.com (8.13.8/8.13.8) with ESMTP id m2DDXSRW016634
	for <sip@ietf.org>; Thu, 13 Mar 2008 13:33:28 GMT
Received: from xfe-rtp-202.amer.cisco.com ([64.102.31.21]) by
	xbh-rtp-201.amer.cisco.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Thu, 13 Mar 2008 09:33:19 -0400
Received: from [10.82.216.1] ([10.82.216.1]) by xfe-rtp-202.amer.cisco.com
	with Microsoft SMTPSVC(6.0.3790.1830); 
	Thu, 13 Mar 2008 09:33:19 -0400
Message-ID: <47D92D19.7010007@cisco.com>
Date: Thu, 13 Mar 2008 09:33:13 -0400
From: Jonathan Rosenberg <jdrosen@cisco.com>
User-Agent: Thunderbird 2.0.0.9 (Windows/20071031)
MIME-Version: 1.0
To: IETF SIP List <sip@ietf.org>
X-OriginalArrivalTime: 13 Mar 2008 13:33:19.0447 (UTC)
	FILETIME=[CCF16E70:01C8850E]
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; l=6500; t=1205415208;
	x=1206279208; c=relaxed/simple; s=rtpdkim2001;
	h=Content-Type:From:Subject:Content-Transfer-Encoding:MIME-Version;
	d=cisco.com; i=jdrosen@cisco.com;
	z=From:=20Jonathan=20Rosenberg=20<jdrosen@cisco.com>
	|Subject:=20comments=20on=20draft-ietf-sip-domain-certs-00
	|Sender:=20 |To:=20IETF=20SIP=20List=20<sip@ietf.org>;
	bh=SDXcF95rbUN6CUue/DJxwlYuQwGl6epRaNECsHz0H5w=;
	b=jJo99Hh0NknCuRsRBFaL9joLlzLkCLEJwcFMY4ePlWAwWU1UssX08WzzTO
	UyUSSu1uqa5wAZd3zStFWmBK2/v7wLcpjIQUyg8FSNV5JzyrPlIGlbXmONDr
	+/xQig8hD6;
Authentication-Results: rtp-dkim-2; header.From=jdrosen@cisco.com; dkim=pass (
	sig from cisco.com/rtpdkim2001 verified; ); 
Subject: [Sip] comments on draft-ietf-sip-domain-certs-00
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

This document is looking much improved from previous drafts, thanks.

Two main comments:

1. mid-dialog request handling relative to certificates is only briefly 
mentioned and potentially a big can of worms - needs to be clarified

2. unclear whether the recommendations in this document would allow SIP 
proxies to obtain certificates from EXISTING CAs in the same format they 
give out certs for web servers. Can you clarify that?


Specific comments:

> 4.  SIP domain to host resolution
> 
>    Routing in SIP is performed by having the client execute RFC 3263 [5]
>    procedures on a URI, called the "Application Unique String (AUS)
>    (c.f.  Section 8 of RFC 3263 [5]).  These procedures take as input a

Actually AUS is part of the DDDS mechanism, which was informative at the 
time of publicaiton of rfc3263. So that section is quite under-defined 
and not what most folks actually use. So if you are going to use this 
you should describe more clearly what it is and give an example.



Section 4: is this meant as an overview? it gives an example but doesn't 
ahead of time actually overview the mehanisms that are proposed. If it 
is meant to be an overview it should be labeled as such and include an 
overview.

Similar comment on section 5 - I'm not sure whether this section is 
supposed to just identify a problem, or what?

Section 6: I think you need to define what you mean by 'service 
provider' here. You're talking about a CA in fact, no? Also what does 
"present" mean? Do you mean sip:example.com has to appear? Just 
example.com? is a subdomain OK? This is underspecified.

>    URI  If the scheme of the URI value is 'sip' (URI scheme tokens
>           are always case insensitive), and there is no userinfo
>           component in the URI (there is no '@'), then the hostpart is a

you introduce this term, "sip domain identity" here without definition - 
is this an AUS? Something else?

> The above procedure yields a set containing zero or more identities
>    from the certificate.  

how does it yield more than one? that wasnt clear.

> When comparing two values as SIP identities:

Now you have this term, "SIP identities". Terminology is very unclear here.

Also you might want to point out when this comparison occurs. Are you 
talking strictly about client authentication of server?

> A client uses the SIP AUS (the SIP domain name)

Now you have the term, "SIP domain name". More terminology that needs to 
be defined or simplified.


> The server MUST obtain the set of SIP domain identities from the
>    client certificate as described in Section 7.1.  Because the server
>    accepted the TLS connection passively, unlike a client, it does not
>    possess an AUS for comparison.  Nonetheless, server policies can use
>    the authenticated SIP domain identity to make authorization
>    decisions.

how can you make this a MUST if the usage of that infomration is 
strictly based on authorization POLICY?

> Proxy behavior
> 
>    A proxy MUST use the procedures defined for a User Agent Server (UAS)
>    in Section 7.4 when authenticating a connection from a client.
> 
>    A proxy MUST use the procedures defined for a User Agent Client (UAC)
>    in Section 7.3 when requesting an authenticated connection to a UAS.

this is redundant since 7.4 and 7.3 just say client and server which 
includes proxies.

> If a proxy adds a Record-Route when forwarding a request with the
>    expectation that the route is to use secure connections, it MUST
>    insert into the Record-Route header a URI that corresponds to an
>    identity for which it has a certificate; if it does not, then it will
>    not be possible to create a secure connection using the value from
>    the Record-Route as the AUS.

won't I have already sent the request as a client and thus opened and 
used the tls connection, before a mid-dialog request shows up?

Or are you suggesting that, after a TLS connection is up, the client is 
supposed to check the existing TLS cert for the other side against the 
domain part of the Route URI??

This whole area - mid dialog transactions - seems underspecifeid in 
terms of how it relates to certificates (if at all).

> 7.6.  Registrar behavior
> 
>    A SIP registrar, acting as a server, follows the normative behavior
>    of Section 7.4.  When it accepts a TLS connection from the client, it
>    present its certificate.  Depending on the registrar policies, it may
>    challenge the client with HTTP Digest.
> 
> 7.7.  Redirect server behavior
> 
>    A SIP redirect server follows the normative behavior of Section 7.4.
>    It may accept a TLS connection from the client, present its
>    certificate, and then challenge the client with HTTP Digest.

I think you can delete these and just mention in 7.3/7.4 that 
client/server encompasses registrars and redirect servers.

>  The TLS extended client hello [7] allows a TLS client to provide to
>    the TLS server the name of the server to which a connection is
>    desired.  Thus, the server can present the correct certificate to
>    establish the TLS connection.

So is there a normative statement here somewhere? Is this reference 
mandatory to implement for clients in order to allow virtual hosting?

> 8.  Security Considerations
> 
>    The goals of TLS (when used with X.509 certificates) include the
>    following security guarantees at the transport layer:


this section is kind of mother-hood-and-apple pie kinds of statements on 
why TLS is nice. I think it should actually discuss the considerations 
around the SPECIFIC topics discussed here. Those have to do with binding 
the target of the request to the cert. The draft should discuss the 
attacks possible if this is not fixed and why this draft fixes that.

> 8.1.  Connection authentication using Digest
> 
>    Digest authentication in SIP provides for authentication of the
>    message sender to the challenging UAS.  As commonly deployed, it

This section seems out of place here. What does it have to do with TLS 
domain certificate conventions and usage??






-- 
Jonathan D. Rosenberg, Ph.D.                   499 Thornall St.
Cisco Fellow                                   Edison, NJ 08837
Cisco, Voice Technology Group
jdrosen@cisco.com
http://www.jdrosen.net                         PHONE: (408) 902-3084
http://www.cisco.com
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu Mar 13 06:40:17 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id BB07A28C0D7;
	Thu, 13 Mar 2008 06:40:17 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -99.939
X-Spam-Level: 
X-Spam-Status: No, score=-99.939 tagged_above=-999 required=5
	tests=[AWL=-0.502, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, J_BACKHAIR_53=1, RDNS_NONE=0.1,
	USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id znzBDcTcLMPZ; Thu, 13 Mar 2008 06:40:15 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id A46D028C86C;
	Thu, 13 Mar 2008 06:40:04 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id B5E7328C8A7
	for <sip@core3.amsl.com>; Thu, 13 Mar 2008 06:40:03 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id hbYfS3LUxGf3 for <sip@core3.amsl.com>;
	Thu, 13 Mar 2008 06:40:01 -0700 (PDT)
Received: from mail.gmx.net (mail.gmx.net [213.165.64.20])
	by core3.amsl.com (Postfix) with SMTP id A75A828C0D7
	for <sip@ietf.org>; Thu, 13 Mar 2008 06:39:10 -0700 (PDT)
Received: (qmail invoked by alias); 13 Mar 2008 13:36:51 -0000
Received: from unknown (EHLO [192.168.0.185]) [130.129.253.66]
	by mail.gmx.net (mp050) with SMTP; 13 Mar 2008 14:36:51 +0100
X-Authenticated: #29516787
X-Provags-ID: V01U2FsdGVkX1/3aK0Grhj34KnWiWhXC6pDofiS+pOuT7S66jgZ9V
	2UZQ8ChHZmk8Oc
Message-ID: <47D92DF6.8030909@gmx.net>
Date: Thu, 13 Mar 2008 15:36:54 +0200
From: Hannes Tschofenig <Hannes.Tschofenig@gmx.net>
User-Agent: Thunderbird 2.0.0.12 (Windows/20080213)
MIME-Version: 1.0
To: Paul Kyzivat <pkyzivat@cisco.com>
References: <20080312201611.DF1CD28C838@core3.amsl.com>
	<47D887E9.8000407@cisco.com>
In-Reply-To: <47D887E9.8000407@cisco.com>
X-Y-GMX-Trusted: 0
Cc: sip@ietf.org
Subject: Re: [Sip] comments on draft-rosenberg-sip-rfc4474-concerns-00
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Some of these aspects are in fact not a topic for SIP Identity.
Reason: SIP Identity leaves authorization open.

If I configure my authorization check procedure to look for +19785551234
then there has to be a way to assert that I am that particular identity. 
The concept of domain does obviously not matter here -- since there just 
is no domain.

SIP Identity may not be the appropriate mechanism todo so.

If I configure my authorization check procedure to look for

+19785551234@sprint.com

then SIP identity may be able to help you.


If you distribute information about your identity that does not include 
a domain name or you happen to change your domain part without letting 
other people know then there is a problem.

Ciao
Hannes




 Paul Kyzivat wrote:
> Hello +11234567890@kingsmountain.com (or is it just +11234567890?)
>
> For now I will just call you +11234567890 since I don't have another 
> name for you. :-)
>
> I take a different spin on Jonathan's terminology. When he says "a phone 
> number does not have a domain part" I think he is really talking about 
> the phone *number* - that which is assigned to you by a traditional 
> phone company, and which people commonly put on business cards and 
> various other places.
>
> Now, as you and others point out, it is fairly common to embed things 
> that are, or look like, phone numbers in other kinds of addresses and 
> URIs. The essence of the problem is knowing whether some set of digits, 
> possibly preceded by a +, is a phone number in a given context.
>
> Regarding whether people can, and should, interpret the "user part" of 
> other forms of address (email, sip) without regard to the domain part - 
> that is just stupid. You may reasonable assume that
>
> 	sip:paul.kyzivat@foo.com
> 	mailto:paul.kyzivat@bar.com
> 	paul.kyzivat@baz.com
>
> all refer to the same person, namely me. That may not always be true, 
> but probably pretty close. OTOH I am quite certain that you may not 
> assume that
>
> 	sip:alan.johnston@foo.com
> 	mailto:alan.johnston@bar.com
> 	alan.johnston@baz.com
>
> all refer to the same person. (Just picking Alan because he is a real 
> person with a fairly common name.) These things are simply not scoped in 
> such a way as to be unique without the domain name. So equipment that 
> needs to identify users of such addresses MUST be prepared to display 
> the full name, including the domain. Equipment that deals in phone 
> numbers *does not* need to be prepared to display a domain name, and a 
> dominant fraction of the phone devices in the world have no good way to 
> do so.
>
> If I get a call from sip:alan.johnston@hotgirls.co.uk I may give a 
> passing thought of "Could that be Alan? What the heck is he up to?", but 
> mostly I will think it is probably somebody else. I certainly wouldn't 
> want my device suppressing the domain.
>
> Yet, if I normally get calls from:
>
> 	sip:+19785551234@sprint.com
>
> and then later get a call from
>
> 	sip:+19785551234@comcast.net
>
> then many people seem to think that only the number should be displayed.
>
> 	Paul
>
> +11234567890@kingsmountain.com wrote:
>   
>> Hi,
>>
>> Obviously this I-D (and the other related ones [1]) are teasing apart an
>> important set of issues. And there's lots of subtle-but-important items
>> buried in all of this. I'm going to attempt to address some of the ones I
>> can see in draft-rosenberg-sip-rfc4474-concerns-00 in the hope of refining
>> our collective thinking, and terminology, wrt this class of issues. It's
>> unfortunately long, and doesn't offer any magic bullet solutions, but
>> hopefully worthwhile to peruse. The basic conclusion is that in reality
>> the issues noted in draft-rosenberg-sip-rfc4474-concerns-00 apply
>> essentially equally to any style of "user" part SIP URI.
>>
>> =JeffH
>> ------
>>
>> quoting draft-rosenberg-sip-rfc4474-concerns-00:
>>     
>>>                                                ...most SIP deployments
>>>    at the time of writing make use of phone numbers, and not traditional
>>>    email-style user@domain identifiers.  Of course, a phone number does 
>>>    not have a domain part. 
>>>       
>> But the latter is not strictly correct all the time -- e.g. see the email 
>> addresses in the headers of this message. Are they phone numbers or do
>> they just look like such?
>>
>> Obviously, such portions of identifiers may or may not actually "be" what
>> they syntactically appear as, because there isn't a extant proper mapping
>> of them into operational services commonly associated with such syntax. 
>>
>> It _is_, however, the case, in actual non-trivial deployments, that there
>> are identifiers used in the "local-part" of RFC2822 email addresses [2]
>> that _are_ exactly phone numbers -- e.g. AFAIK, every Sprint wireless
>> subscriber is assigned an email address of the form..
>>
>>   nnnnnnnnnn@messaging.sprintpcs.com
>>
>> ..and Verizon customers are assigned..
>>
>>   nnnnnnnnnn@vtext.com
>>
>> ..and Cingular (now ATT) customers were assigned..
>>
>>   nnnnnnnnnn@cingularME.com
>>
>>
>> I assume that a non-trivial number of other carriers do similar things.
>> These  addresses presently are, in my experience, typically used to enable
>> bi-directional email<-->SMS gatewaying, but they _could_ also be used in
>> SIP URIs, e.g...
>>
>>   sip:nnnnnnnnnn@messaging.sprintpcs.com;user=phone
>>
>> ..which would be a fairly reasonable thing to do, at least from an
>> objective technical perspective ;)
>>
>>
>>
>>     
>>>    Consequently, the domain part of the SIP URI, when used in
>>>    conjunction with phone numbers, is not relevant to users in
>>>    establishing the identity associated with that number. 
>>>       
>> I would update this to say..
>>
>>     Consequently, the domain part of the SIP URI, when used in
>>     conjunction with phone numbers, is not necessarily relevant
>>     to users in establishing the identity associated with that
>>     number.
>>
>> The term "necessarily" is important here, because the argument preceding
>> this claim in the document assumes only PSTN-style user equipment and
>> usage thereof. I nonminally agree that this dominates SIP-based VoIP usage
>> today (without really knowing in actuality), but I suspect the future is a
>> bit of an open question (at least in that we can perhaps kinda possibly
>> influence it).
>>
>>
>>
>>     
>>>                                                      For email-
>>>    style identifiers, this is not true - the domain part is highly
>>>    relevant. 
>>>       
>> I think, given the examples noted above, we should not use the ad-hoc
>> term "email-style identifier(s)" in our analysis of this class of issue,
>> because it is misleading. 
>>
>> As illustrated above, the "local-part" (aka left-hand-side  (LHS)) of an
>> RFC2822 email address (aka "addr-spec" in RFC2822 [2]) can, and are 
>> reasonably often, comprised of numeric strings that can appear to 
>> syntactically be "phone numbers", and in some non-trivial number of cases
>> are actually such.
>>
>> Rather, I think we should use a term(s) such as..
>>
>>   natural-name-like identifiers
>>
>> ..and..
>>
>>   phone-number-like identifiers ..or.. non-natural-name-like identifiers
>>
>>
>> ..where the qualifier "-like" is important because one doesn't know for
>> sure, without checking with appropriate datastores or authorities or
>> whatever, whether those identifiers are in actuality what they resemble. 
>>
>>
>>
>>     
>>>    Unfortunately, this problem is a FUNDAMENTAL PROPERTY OF PHONE
>>>    NUMBERS.  No specifications or efforts on the part of IETF can fix
>>>    this problem.  Phone numbers are fundamentally NOT scoped to a
>>>    domain, and attempts to represent them in any other form are
>>>    ultimately futile from an identification perspective.
>>>       
>> This above set of claims are apparently predicated on prevalent user
>> equipment (UE), user agent user interface (UA UI), and user behavior as we
>> know it today. 
>>
>> Continuing, in the "Re-Sign Attack" section of -rfc4474-concerns-00..
>>
>>     
>>>    What happened here?  It is illustrative to look at this attack in the
>>>    case where Alice had used a user@domain identifier, for example,
>>>    alice@a.com.  In this case, if the b.com transit domain had done the
>>>    same processing described above, the request would have arrived to
>>>    Bob's user agent.  The signature would be valid, and the domain of
>>>    the signer would match the domain in the From field.  However, the
>>>    identity shown to Bob would be "alice@b.com", which doesn't match
>>>    Alice's AOR as far as Bob knows.  Consequently, Bob will be alerted
>>>    to the fact that something is going on.
>>>       
>> This all depends on how the UE/UA UI behaves, and how Bob behaves. He may
>> or may not "be alterted".
>>
>> E.g. I personally would note the claimed natural-name-like identifier
>> whether or not any remaining identifier components are materialized to me,
>> and likely just figure it's just another natural-name-like-based
>> identifier my contact wields. 
>>
>> I.e. I think the re-sign attack is an issue of some interest no matter how
>> the "user" part of the SIP URI in the From: header field is composed
>> whether it is a natural-name-like identifier or a non-natural-name-like
>> identifier. Also, that we should perhaps offer more "UI guidance" to
>> implementors (and yes, some std-track RFCs do say things like "such and
>> such SHOULD be materialized to the user...", if I recall correctly; but
>> yes, doing so is controversial).
>>
>>
>> -rfc4474-concerns-00 goes on to say, in the same section..
>>
>>     
>>>        ...these man-in-the-middle attacks (when an email-style From
>>>    URI is being used) will be detectable for cases where the called
>>>    party knows the caller.
>>>       
>> Being "detectable" doesn't necessarily depend upon the style of From: URI
>> in the case where the called party "knows" the caller, especially if the
>> called party has a UE/UA-accessible address book against which the UE/UA
>> checks incoming identifiers. 
>>
>> But also, the caller may simply be wielding a newly-acquired SIP URI, e.g.
>> Alice acquired a new account in another domain but is wielding the same
>> "user" part identifier, e.g. "alice". And so, this observation..
>>
>>     
>>>                          Even when the called party doesn't know the
>>>    caller, attemptes to return their calls would fail, ...
>>>       
>> ..isn't necessarily correct, because if Alice has simply acquired a new
>> account, with sytactically the same accout identifier, comm attempts back
>> to her will ostensibly succeed. 
>>
>>
>> So it seems to me that the following claim of..
>>
>>     
>>>    Our conclusion is that, when email-style identifiers are used, RFC
>>>    4474 provides a reasonable degree of protection against re-signing
>>>    [...]. However, when phone numbers are used, RFC 4474 provides no 
>>>    protection against re-signing, and its message integrity is easily 
>>>    subject to MITM attacks.
>>>       
>> ..is not quite correct *overall* in that RFC4474 protections are largely
>> equivalent no matter what style of SIP URI "user" part identifier is
>> employed. 
>>
>> All RFC4474 provides is a verifiable assertion of "caller identitifier
>> legitimacy" (and msg integrity), vouched for by the UAS/AuthnSvc, to the
>> next hop in the signaling chain, nothing more. That, I believe, is what
>> this para in RFC4474 that you cite essentially claims..
>>
>>     
>>>      In the end analysis, the Identity and Identity-Info headers cannot
>>>      protect themselves.  Any attacker could remove these headers from a
>>>      SIP request, and modify the request arbitrarily afterwards.  However,
>>>      this mechanism is not intended to protect requests from men-in-the-
>>>      middle who interfere with SIP messages; it is intended only to
>>>      provide a way that SIP users can prove definitively that they are who
>>>      they claim to be.
>>>       
>> ..and it seems arguable that RFC4474 should state this more explicitly, at
>> least in the very last phrase.
>>
>>
>> In terms of the section "3.2.  The False Number Attack", it seems to me
>> that it is an issue no matter what style identifier is wielded by the
>> malicious provider, e.g. a.com. They could just as easily mount this
>> attack with either natural-name-like or a phone-number-like identifiers.
>> The attacks successfulness depends largely upon how the targeted UE/UA UI
>> behaves, and the goals of the attack. 
>>
>>
>> Wrt to the section "4.1.  Unsecure Caller ID for Phone Numbers", where it
>> says this..
>>
>>     
>>>    The false number attack described in Section 3.2 means that RFC 4474
>>>    does not readily provide 'secure caller ID' for phone numbers.  The
>>>    definition of secure in this context is that the phone number present
>>>    in the From header field URI does in fact represent the number of the
>>>    party that originated the call.
>>>       
>> ..I think that "definition of secure" applies only to the extent the
>> UAS/AuthnSvc is trustworthy, regardless of the style of "user" part
>> identifier wielded. 
>>
>>
>> E.g. where, in "4.2.  Comparison with RFC3325" it says..
>>
>>     
>>>              an attacker could not assert identity within
>>>    whitehouse.gov.
>>>       
>> ..and in section "4.3.  Interactions with DTLS-SRTP" it says..
>>
>>     
>>>    When used with email identifiers, RFC 4474 provides a limited form of
>>>    message integrity protection against MITM attacks.  As discussed
>>>    above, this is because modified domains in From fields are likely to
>>>    be readily detected by end users, either right away or in the future.
>>>       
>> ..but a malicious domain "in the network" _could_ (potentially) assert
>> "@whiteh0use.gov", and its success will again depend essentially only upon
>> both the UE/UA and user behavior. So, again, it seems to me that the basic
>> analysis is independent of the style of "user" part identifier wielded. 
>>
>> This point is acknowledged here..
>>
>>     
>>>                                                             Indeed, it
>>>    won't be detectable even if they have an email-style identifier, if
>>>    the called party doesn't recognize that the caller's identity doesn't
>>>    match what their UA is showing to them.
>>>       
>> And so, in "5.  Conclusions", where it says..
>>
>>     
>>>    Unfortunately, there is no simple remedy to this problem.  The
>>>    problems with RFC4474 cannot just be fixed by an alternate security
>>>    technique.  They are deeply rooted in the domain independence of
>>>    phone numbers.
>>>       
>> ..I disagree with the last sentence. To a fair degree, the local-part of
>> RFC2822-style, and the "user" part of SIP URI, identifiers are
>> domain-independent. E.g. I wield "Jeff.Hodges", "=JeffH", etc. in more
>> than one domain, and could also wield my sprint phone number in a domain
>> that I own as either an email address and/or a SIP URI "user" name part.
>>
>> To a large degree, the (non-trivial, important) issues highlighted in
>> -rfc4474-concerns-00 are predicated on UE/UA, and user, behavior. 
>>
>> So, it seems that unless "we" (or someone) addresses security-critical
>> aspects of UE/UA UI behavior, we might want to think about yet another
>> security mechanism, one that is UA-to-UA and/or UAS-to-UAS. 
>>
>> OR, perhaps in practice, we'll gravitate to some acceptable level of
>> transitive trust across SIP-based overlay networks in conjunction with
>> some set of white- and black- listing technology, as -rfc4474-concerns-00
>> notes. Much as spam is addressed in the email world, and solicitor calls
>> are handled in the present phone world. 
>>
>> One for-what-it's-worth observation is that -- granted it depends on UE/UI
>> software capabilities and user proclivities (but the following is pretty
>> common AFAIK) -- many of us are already far along the path of having
>> personal UE/UA-based whitelists on our mobiles and softphones and email
>> UAs etc. 
>>
>>
>> -----------------------
>>
>> [1]   Dan Wing said in 
>> <http://www.ietf.org/mail-archive/web/sip/current/msg22416.html>:
>>
>>     
>>> there are approximately 7 new drafts on this issue, and another 2 
>>> expired drafts that discuss this a bit, too:
>>>       
>>   draft-darilion-sip-e164-enum-00.txt
>>   draft-elwell-sip-e164-problem-statement-00.txt
>>   draft-fischer-sip-e2e-sec-media-00.txt
>>   draft-kaplan-sip-uris-change-00.txt
>>   draft-rosenberg-sip-rfc4474-concerns-00.txt
>>   draft-schwartz-sip-e164-ownership-00.txt
>>   draft-wing-sip-e164-rrc-01.txt
>>   draft-rosenberg-rai-phone-names-numbers-00 (expired)
>>   draft-mayrhofer-enum-domainkeys-00 (expired)
>>
>>
>> [2] from RFC2822, ABNF excerpts..
>>
>> address         =       mailbox / group
>>
>> mailbox         =       name-addr / addr-spec
>>
>> addr-spec       =       local-part "@" domain
>>
>> name-addr       =       [display-name] angle-addr
>>
>> angle-addr      =       [CFWS] "<" addr-spec ">" [CFWS] / obs-angle-addr
>>
>> local-part      =       dot-atom / quoted-string / obs-local-part
>>
>> domain          =       dot-atom / domain-literal / obs-domain
>>
>> domain-literal  =       [CFWS] "[" *([FWS] dcontent) [FWS] "]" [CFWS]
>>
>> dcontent        =       dtext / quoted-pair
>>
>> dtext           =       NO-WS-CTL /     ; Non white space controls
>>
>>                         %d33-90 /       ; The rest of the US-ASCII
>>                         %d94-126        ;  characters not including "[",
>>                                         ;  "]", or "\"
>>
>>
>> atext           =       ALPHA / DIGIT / ; Any character except controls,
>>                         "!" / "#" /     ;  SP, and specials.
>>                         "$" / "%" /     ;  Used for atoms
>>                         "&" / "'" /
>>                         "*" / "+" /
>>                         "-" / "/" /
>>                         "=" / "?" /
>>                         "^" / "_" /
>>                         "`" / "{" /
>>                         "|" / "}" /
>>                         "~"
>>
>> atom            =       [CFWS] 1*atext [CFWS]
>>
>> dot-atom        =       [CFWS] dot-atom-text [CFWS]
>>
>> dot-atom-text   =       1*atext *("." 1*atext)
>>
>>
>>
>> ---
>> end
>>
>>
>>
>> _______________________________________________
>> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
>> This list is for NEW development of the core SIP Protocol
>> Use sip-implementors@cs.columbia.edu for questions on current sip
>> Use sipping@ietf.org for new developments on the application of sip
>>
>>     
> _______________________________________________
> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
>   

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu Mar 13 06:43:43 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 7A58628C7A7;
	Thu, 13 Mar 2008 06:43:43 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.483
X-Spam-Level: 
X-Spam-Status: No, score=-100.483 tagged_above=-999 required=5
	tests=[AWL=-0.046, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id gkvq9oDkIYqE; Thu, 13 Mar 2008 06:43:41 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id E46233A698D;
	Thu, 13 Mar 2008 06:43:37 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 881F73A6DF3
	for <sip@core3.amsl.com>; Thu, 13 Mar 2008 06:43:36 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id ZNRr+zZNjxem for <sip@core3.amsl.com>;
	Thu, 13 Mar 2008 06:43:35 -0700 (PDT)
Received: from nostrum.com (nostrum-pt.tunnel.tserv2.fmt.ipv6.he.net
	[IPv6:2001:470:1f03:267::2])
	by core3.amsl.com (Postfix) with ESMTP id 7AD9828C825
	for <sip@ietf.org>; Thu, 13 Mar 2008 06:42:44 -0700 (PDT)
Received: from dhcp-13e4.ietf71.ietf.org (dhcp-13e4.ietf71.ietf.org
	[130.129.19.228]) (authenticated bits=0)
	by nostrum.com (8.14.2/8.14.1) with ESMTP id m2DDeKQA071325
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO);
	Thu, 13 Mar 2008 08:40:23 -0500 (CDT)
	(envelope-from adam@nostrum.com)
Message-ID: <47D92EC3.3090706@nostrum.com>
Date: Thu, 13 Mar 2008 09:40:19 -0400
From: Adam Roach <adam@nostrum.com>
User-Agent: Thunderbird 2.0.0.12 (Macintosh/20080213)
MIME-Version: 1.0
To: Paul Kyzivat <pkyzivat@cisco.com>
References: <20080312201611.DF1CD28C838@core3.amsl.com>
	<47D887E9.8000407@cisco.com>
In-Reply-To: <47D887E9.8000407@cisco.com>
Received-SPF: pass (nostrum.com: 130.129.19.228 is authenticated by a trusted
	mechanism)
X-Virus-Scanned: ClamAV 0.92.1/6224/Thu Mar 13 07:16:09 2008 on
	shaman.nostrum.com
X-Virus-Status: Clean
Cc: sip@ietf.org
Subject: Re: [Sip] comments on draft-rosenberg-sip-rfc4474-concerns-00
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

On 3/12/08 9:48 PM, Paul Kyzivat wrote:
> Yet, if I normally get calls from:
>
> 	sip:+19785551234@sprint.com
>
> and then later get a call from
>
> 	sip:+19785551234@comcast.net
>
> then many people seem to think that only the number should be displayed.
>
>   

Actually, I think there is a subtle but critical correction to be made 
here. If I understand correctly, people want the two identifiers you 
cite to be considered different, and believe that the domain should be 
displayed.

However, if you change your example to 
"sip:+19785551234@sprint.com;user=phone" and 
"sip:+19785551234@comcast.net;user=phone", then I suspect your statement 
stands. And I'm not sure that treating these as the same entity is wrong 
-- there's an indication that the user portion is formatted in a 
specific, well-defined way that other parties are expected to be able to 
interpret according to well-defined rules (RFC 3966). Without 
"user=phone", that's not true.

/a


_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu Mar 13 06:44:02 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id A4ED728C15E;
	Thu, 13 Mar 2008 06:44:02 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.54
X-Spam-Level: 
X-Spam-Status: No, score=-100.54 tagged_above=-999 required=5
	tests=[AWL=-0.103, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id TCOeo7i4tQOJ; Thu, 13 Mar 2008 06:44:02 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id E602A28C7E5;
	Thu, 13 Mar 2008 06:43:47 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 8AED628C69A
	for <sip@core3.amsl.com>; Thu, 13 Mar 2008 06:43:46 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id znvhoi8+35eH for <sip@core3.amsl.com>;
	Thu, 13 Mar 2008 06:43:41 -0700 (PDT)
Received: from etmail.acmepacket.com (etmail.acmepacket.com [216.41.24.6])
	by core3.amsl.com (Postfix) with ESMTP id 8B90928C7E5
	for <sip@ietf.org>; Thu, 13 Mar 2008 06:43:29 -0700 (PDT)
Received: from mail.acmepacket.com (216.41.24.7) by etmail.acmepacket.com
	(216.41.24.6) with Microsoft SMTP Server (TLS) id 8.1.240.5;
	Thu, 13 Mar 2008 09:40:51 -0400
Received: from mail.acmepacket.com ([216.41.24.7]) by mail.acmepacket.com
	([216.41.24.7]) with mapi; Thu, 13 Mar 2008 09:40:51 -0400
From: Hadriel Kaplan <HKaplan@acmepacket.com>
To: "sip@ietf.org List" <sip@ietf.org>
Date: Thu, 13 Mar 2008 09:45:05 -0400
Thread-Topic: Comment/question on draft-ietf-sip-body-handling-01.txt
Thread-Index: AciFEHGXsg7B1XGoRhK8QNVP/3mqQA==
Message-ID: <E6C2E8958BA59A4FB960963D475F7AC30BCA256DBB@mail.acmepacket.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
acceptlanguage: en-US
MIME-Version: 1.0
Subject: [Sip] Comment/question on draft-ietf-sip-body-handling-01.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

At one of the recent IETF's, there was a session on SIP interop issues.  One of the issues we've found is different expectations about SIP header length and body size support.  We have found some implementations sending rather large bodies, where "rather large" is greater than 1MB.  Ignoring the reasons some middleboxes have policies to block such large bodies, the reason they have such policies is because lots of devices simply can't handle them.  There are other issues with it too, such as head-of-line blocking and inability to send it on over UDP.

So my question is, is it appropriate for a draft such as draft-ietf-sip-body-handling-01.txt to potentially define a maximum, or at least guidance about it?  It doesn't have to say one cannot send something larger - just say that receivers should only be expected to accept up to X byte large bodies.  I know this is an unpleasant topic, but it's causing interop issues which are causing certain SIP uses to fail in the real world.

-hadriel
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu Mar 13 06:49:16 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id CD89F28C883;
	Thu, 13 Mar 2008 06:49:16 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.488
X-Spam-Level: 
X-Spam-Status: No, score=-100.488 tagged_above=-999 required=5
	tests=[AWL=-0.051, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 7ak7XJPMksBG; Thu, 13 Mar 2008 06:49:12 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 04BD328C89C;
	Thu, 13 Mar 2008 06:49:09 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 6F95028C895
	for <sip@core3.amsl.com>; Thu, 13 Mar 2008 06:49:06 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id FUEErodi2dml for <sip@core3.amsl.com>;
	Thu, 13 Mar 2008 06:49:00 -0700 (PDT)
Received: from nostrum.com (nostrum-pt.tunnel.tserv2.fmt.ipv6.he.net
	[IPv6:2001:470:1f03:267::2])
	by core3.amsl.com (Postfix) with ESMTP id E406628C891
	for <sip@ietf.org>; Thu, 13 Mar 2008 06:47:46 -0700 (PDT)
Received: from dhcp-13e4.ietf71.ietf.org (dhcp-13e4.ietf71.ietf.org
	[130.129.19.228]) (authenticated bits=0)
	by nostrum.com (8.14.2/8.14.1) with ESMTP id m2DDjPVj071640
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO);
	Thu, 13 Mar 2008 08:45:26 -0500 (CDT)
	(envelope-from adam@nostrum.com)
Message-ID: <47D92FF5.2030605@nostrum.com>
Date: Thu, 13 Mar 2008 09:45:25 -0400
From: Adam Roach <adam@nostrum.com>
User-Agent: Thunderbird 2.0.0.12 (Macintosh/20080213)
MIME-Version: 1.0
To: Hadriel Kaplan <HKaplan@acmepacket.com>
References: <E6C2E8958BA59A4FB960963D475F7AC30BCA256DBB@mail.acmepacket.com>
In-Reply-To: <E6C2E8958BA59A4FB960963D475F7AC30BCA256DBB@mail.acmepacket.com>
Received-SPF: pass (nostrum.com: 130.129.19.228 is authenticated by a trusted
	mechanism)
X-Virus-Scanned: ClamAV 0.92.1/6224/Thu Mar 13 07:16:09 2008 on
	shaman.nostrum.com
X-Virus-Status: Clean
Cc: "sip@ietf.org List" <sip@ietf.org>
Subject: Re: [Sip] Comment/question on draft-ietf-sip-body-handling-01.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

[private response]

What? Without naming names, what methods are people attaching 1MB+ 
bodies to? And why?

/a

On 3/13/08 9:45 AM, Hadriel Kaplan wrote:
> At one of the recent IETF's, there was a session on SIP interop issues.  One of the issues we've found is different expectations about SIP header length and body size support.  We have found some implementations sending rather large bodies, where "rather large" is greater than 1MB.  Ignoring the reasons some middleboxes have policies to block such large bodies, the reason they have such policies is because lots of devices simply can't handle them.  There are other issues with it too, such as head-of-line blocking and inability to send it on over UDP.
>
> So my question is, is it appropriate for a draft such as draft-ietf-sip-body-handling-01.txt to potentially define a maximum, or at least guidance about it?  It doesn't have to say one cannot send something larger - just say that receivers should only be expected to accept up to X byte large bodies.  I know this is an unpleasant topic, but it's causing interop issues which are causing certain SIP uses to fail in the real world.
>
> -hadriel
> _______________________________________________
> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
>   

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu Mar 13 06:58:41 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 874A428C7E5;
	Thu, 13 Mar 2008 06:58:41 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.567
X-Spam-Level: 
X-Spam-Status: No, score=-100.567 tagged_above=-999 required=5
	tests=[AWL=-0.130, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 7dw5NlaIgBBS; Thu, 13 Mar 2008 06:58:40 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 6B31428C79A;
	Thu, 13 Mar 2008 06:58:40 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 4E9F23A6E02
	for <sip@core3.amsl.com>; Thu, 13 Mar 2008 06:58:39 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id vitO4lT54l0T for <sip@core3.amsl.com>;
	Thu, 13 Mar 2008 06:58:35 -0700 (PDT)
Received: from etmail.acmepacket.com (etmail.acmepacket.com [216.41.24.6])
	by core3.amsl.com (Postfix) with ESMTP id C64DA3A6E7A
	for <sip@ietf.org>; Thu, 13 Mar 2008 06:58:33 -0700 (PDT)
Received: from mail.acmepacket.com (216.41.24.7) by etmail.acmepacket.com
	(216.41.24.6) with Microsoft SMTP Server (TLS) id 8.1.240.5;
	Thu, 13 Mar 2008 09:55:55 -0400
Received: from mail.acmepacket.com ([216.41.24.7]) by mail.acmepacket.com
	([216.41.24.7]) with mapi; Thu, 13 Mar 2008 09:55:55 -0400
From: Hadriel Kaplan <HKaplan@acmepacket.com>
To: Adam Roach <adam@nostrum.com>
Date: Thu, 13 Mar 2008 10:00:09 -0400
Thread-Topic: [Sip] Comment/question on draft-ietf-sip-body-handling-01.txt
Thread-Index: AciFEHOaJ3xTPt1ZQmip211hcb+rEAAAUt4A
Message-ID: <E6C2E8958BA59A4FB960963D475F7AC30BCA256E14@mail.acmepacket.com>
References: <E6C2E8958BA59A4FB960963D475F7AC30BCA256DBB@mail.acmepacket.com>
	<47D92FF5.2030605@nostrum.com>
In-Reply-To: <47D92FF5.2030605@nostrum.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
acceptlanguage: en-US
MIME-Version: 1.0
Cc: "sip@ietf.org List" <sip@ietf.org>
Subject: Re: [Sip] Comment/question on draft-ietf-sip-body-handling-01.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


NOTIFY, for xml presence buddy-lists apparently, and MESSAGE with instant-message picture bodies.  1MB is the unusual case, but happens, whereas greater than 64KB is more common and also a problem (tough for a proxy to forward it over UDP).

-hadriel


> -----Original Message-----
> From: Adam Roach [mailto:adam@nostrum.com]
> Sent: Thursday, March 13, 2008 9:45 AM
> To: Hadriel Kaplan
> Cc: sip@ietf.org List
> Subject: Re: [Sip] Comment/question on draft-ietf-sip-body-handling-01.txt
>
> [private response]
>
> What? Without naming names, what methods are people attaching 1MB+
> bodies to? And why?
>
> /a
>
> On 3/13/08 9:45 AM, Hadriel Kaplan wrote:
> > At one of the recent IETF's, there was a session on SIP interop issues.
> One of the issues we've found is different expectations about SIP header
> length and body size support.  We have found some implementations sending
> rather large bodies, where "rather large" is greater than 1MB.  Ignoring
> the reasons some middleboxes have policies to block such large bodies, the
> reason they have such policies is because lots of devices simply can't
> handle them.  There are other issues with it too, such as head-of-line
> blocking and inability to send it on over UDP.
> >
> > So my question is, is it appropriate for a draft such as draft-ietf-sip-
> body-handling-01.txt to potentially define a maximum, or at least guidance
> about it?  It doesn't have to say one cannot send something larger - just
> say that receivers should only be expected to accept up to X byte large
> bodies.  I know this is an unpleasant topic, but it's causing interop
> issues which are causing certain SIP uses to fail in the real world.
> >
> > -hadriel
> > _______________________________________________
> > Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> > This list is for NEW development of the core SIP Protocol
> > Use sip-implementors@cs.columbia.edu for questions on current sip
> > Use sipping@ietf.org for new developments on the application of sip
> >

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu Mar 13 07:00:40 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id C88A928C8D2;
	Thu, 13 Mar 2008 07:00:40 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.494
X-Spam-Level: 
X-Spam-Status: No, score=-100.494 tagged_above=-999 required=5
	tests=[AWL=-0.057, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id RvondP641sPF; Thu, 13 Mar 2008 07:00:40 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 807343A6E80;
	Thu, 13 Mar 2008 07:00:39 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 03BC328C7E0
	for <sip@core3.amsl.com>; Thu, 13 Mar 2008 07:00:38 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id DmUG5OTJtmqZ for <sip@core3.amsl.com>;
	Thu, 13 Mar 2008 07:00:37 -0700 (PDT)
Received: from nostrum.com (nostrum-pt.tunnel.tserv2.fmt.ipv6.he.net
	[IPv6:2001:470:1f03:267::2])
	by core3.amsl.com (Postfix) with ESMTP id C06693A6E80
	for <sip@ietf.org>; Thu, 13 Mar 2008 07:00:36 -0700 (PDT)
Received: from dhcp-13e4.ietf71.ietf.org (dhcp-13e4.ietf71.ietf.org
	[130.129.19.228]) (authenticated bits=0)
	by nostrum.com (8.14.2/8.14.1) with ESMTP id m2DDwFUK072430
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO);
	Thu, 13 Mar 2008 08:58:16 -0500 (CDT)
	(envelope-from adam@nostrum.com)
Message-ID: <47D932F7.4060900@nostrum.com>
Date: Thu, 13 Mar 2008 09:58:15 -0400
From: Adam Roach <adam@nostrum.com>
User-Agent: Thunderbird 2.0.0.12 (Macintosh/20080213)
MIME-Version: 1.0
To: Hadriel Kaplan <HKaplan@acmepacket.com>
References: <E6C2E8958BA59A4FB960963D475F7AC30BCA256DBB@mail.acmepacket.com>
	<47D92FF5.2030605@nostrum.com>
In-Reply-To: <47D92FF5.2030605@nostrum.com>
Received-SPF: pass (nostrum.com: 130.129.19.228 is authenticated by a trusted
	mechanism)
X-Virus-Scanned: ClamAV 0.92.1/6224/Thu Mar 13 07:16:09 2008 on
	shaman.nostrum.com
X-Virus-Status: Clean
Cc: "sip@ietf.org List" <sip@ietf.org>
Subject: Re: [Sip] Comment/question on draft-ietf-sip-body-handling-01.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

On 3/13/08 9:45 AM, Adam Roach wrote:
> [private response]

Heh. Okay, so I botched that. Sorry.

/a
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu Mar 13 07:08:43 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 5037228C94F;
	Thu, 13 Mar 2008 07:08:43 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.653
X-Spam-Level: 
X-Spam-Status: No, score=-100.653 tagged_above=-999 required=5
	tests=[AWL=-0.216, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id WKPcrUADDCdb; Thu, 13 Mar 2008 07:08:42 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 010EF28C96D;
	Thu, 13 Mar 2008 07:07:22 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id EA91128C96B
	for <sip@core3.amsl.com>; Thu, 13 Mar 2008 07:07:20 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id rAPZVtgovBvz for <sip@core3.amsl.com>;
	Thu, 13 Mar 2008 07:07:16 -0700 (PDT)
Received: from smtp.mitel.com (smtp.mitel.com [216.191.234.102])
	by core3.amsl.com (Postfix) with ESMTP id 18F7F28C9B2
	for <sip@ietf.org>; Thu, 13 Mar 2008 07:05:01 -0700 (PDT)
Received: from localhost (smtp.mitel.com [127.0.0.1])
	by smtp.mitel.com (Postfix) with ESMTP id 4029B2C05D
	for <sip@ietf.org>; Thu, 13 Mar 2008 10:02:43 -0400 (EDT)
X-Virus-Scanned: by amavisd-new (virusonly) at mitel.com
Received: from smtp.mitel.com ([127.0.0.1])
	by localhost (smtp.mitel.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id qRBdrys9rYAY for <sip@ietf.org>;
	Thu, 13 Mar 2008 10:02:43 -0400 (EDT)
Received: from ottlnmta.mitel.com (ottlnmta.mitel.com [10.44.16.150])
	by smtp.mitel.com (Postfix) with ESMTP id 15E392C015
	for <sip@ietf.org>; Thu, 13 Mar 2008 10:02:43 -0400 (EDT)
From: Anshu_Prasad@Mitel.com
To: sip@ietf.org
Message-ID: <OFF700B7DB.989AE6E6-ON8525740B.004D2659-8525740B.004D2659@ottlnmta.mitel.com>
Date: Thu, 13 Mar 2008 10:02:40 -0400
X-MIMETrack: Serialize by Router on OTTLNMTA/Mitel(Release 6.5.5FP2|October 23,
	2006) at 03/13/2008 10:02:43 AM
MIME-Version: 1.0
Subject: [Sip] Anshu Prasad is out of the office.
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


I will be out of the office starting  03/13/2008 and will not return until
03/17/2008.

For urgent matters, please contact Sarah Morgan (sarah_morgan@mitel.com).

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu Mar 13 07:57:58 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id C17383A6EA9;
	Thu, 13 Mar 2008 07:57:58 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.707
X-Spam-Level: 
X-Spam-Status: No, score=-100.707 tagged_above=-999 required=5
	tests=[AWL=-0.270, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id RUjEcVIOvWii; Thu, 13 Mar 2008 07:57:57 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 3623C3A6E69;
	Thu, 13 Mar 2008 07:57:57 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id E8D243A6CD1
	for <sip@core3.amsl.com>; Thu, 13 Mar 2008 07:57:55 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id U0uV5vKJKxdz for <sip@core3.amsl.com>;
	Thu, 13 Mar 2008 07:57:50 -0700 (PDT)
Received: from ihemail4.lucent.com (ihemail4.lucent.com [135.245.0.39])
	by core3.amsl.com (Postfix) with ESMTP id 8880C3A6E75
	for <sip@ietf.org>; Thu, 13 Mar 2008 07:57:41 -0700 (PDT)
Received: from ihmail.ih.lucent.com (h135-1-218-70.lucent.com [135.1.218.70])
	by ihemail4.lucent.com (8.13.8/IER-o) with ESMTP id m2DEtKXJ017635; 
	Thu, 13 Mar 2008 09:55:20 -0500 (CDT)
Received: from [135.244.7.33] (vkg.lra.lucent.com [135.244.7.33])
	by ihmail.ih.lucent.com (8.11.7p1+Sun/8.12.11) with ESMTP id
	m2DEtJ620326; Thu, 13 Mar 2008 09:55:19 -0500 (CDT)
Message-ID: <47D94056.5040603@alcatel-lucent.com>
Date: Thu, 13 Mar 2008 09:55:18 -0500
From: "Vijay K. Gurbani" <vkg@alcatel-lucent.com>
User-Agent: Thunderbird 2.0.0.6 (Windows/20070728)
MIME-Version: 1.0
To: Eric Rescorla <ekr@networkresonance.com>
References: <20080313131252.092F01B0B2A@kilo.rtfm.com>
In-Reply-To: <20080313131252.092F01B0B2A@kilo.rtfm.com>
X-Scanned-By: MIMEDefang 2.57 on 135.245.2.39
Cc: sip@ietf.org, draft-ietf-sip-domain-certs@tools.ietf.org
Subject: Re: [Sip] Review of draft-ietf-sip-domain-certs-00
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Ekr: Will follow up on other things later, however, request
clarification on one thing:

Eric Rescorla wrote:
> S 7.4.
>    When a server accepts a TLS connection, it presents its own X.509
>    certificate to the client.  To authenticate the client, the server
>    asks the client for a certificate.  If the client possesses a
>    certificate, it is presented to the server.  If the client does not
>    present a certificate, it MUST NOT be considered authenticated.
> 
> Is this really true? My understanding was that when proxy servers
> thought clients were connecting they did not request client auth,
> but rather used digest. Note that a number of clients react badly
> when a cert is requested and they don't have one.

Is this true; i.e., number of clients react badly when a cert
is requested and they don't have one?  I have used openssl 0.9.8a
with the SSL_CTX_set_verify(g_ctx, SSL_VERIFY_PEER, verify_cb)
API and that seems to work.  The client does not grok if it does
not have a certificate; it will send the server if it does have
one.

Admittedly, I have only used the openssl library and do not know
what other TLS libraries do when the same scenario occurs.

Thanks,

- vijay
-- 
Vijay K. Gurbani, Bell Laboratories, Alcatel-Lucent
2701 Lucent Lane, Rm. 9F-546, Lisle, Illinois 60532 (USA)
Email: vkg@{alcatel-lucent.com,bell-labs.com,acm.org}
WWW:   http://www.alcatel-lucent.com/bell-labs
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu Mar 13 08:39:19 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 1DB6A3A6E92;
	Thu, 13 Mar 2008 08:39:19 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -101.24
X-Spam-Level: 
X-Spam-Status: No, score=-101.24 tagged_above=-999 required=5
	tests=[AWL=-0.804, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, HTML_MESSAGE=0.001, RDNS_NONE=0.1,
	USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id SBpDyqFreU5I; Thu, 13 Mar 2008 08:39:18 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 083543A6C83;
	Thu, 13 Mar 2008 08:39:18 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 8C4FA3A6E70
	for <sip@core3.amsl.com>; Thu, 13 Mar 2008 08:39:16 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id w5UlbAFufnqe for <sip@core3.amsl.com>;
	Thu, 13 Mar 2008 08:39:15 -0700 (PDT)
Received: from zcars04e.nortel.com (zcars04e.nortel.com [47.129.242.56])
	by core3.amsl.com (Postfix) with ESMTP id 70F2E3A6C43
	for <sip@ietf.org>; Thu, 13 Mar 2008 08:39:15 -0700 (PDT)
Received: from zrc2hxm1.corp.nortel.com (zrc2hxm1.corp.nortel.com
	[47.103.123.72])
	by zcars04e.nortel.com (Switch-2.2.0/Switch-2.2.0) with ESMTP id
	m2DFWVc11207 for <sip@ietf.org>; Thu, 13 Mar 2008 15:32:31 GMT
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Thu, 13 Mar 2008 10:34:13 -0500
Message-ID: <F66D7286825402429571678A16C2F5EE02640F48@zrc2hxm1.corp.nortel.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: History-Info: UA loose route versus Target header
Thread-Index: AciFH7Dyq9TdpeR0RBun7/oZCM2XWw==
From: "Mary Barnes" <mary.barnes@nortel.com>
To: <sip@ietf.org>
Subject: [Sip] History-Info: UA loose route versus Target header
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: multipart/mixed; boundary="===============0437546595=="
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

This is a multi-part message in MIME format.

--===============0437546595==
Content-class: urn:content-classes:message
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C88520.06D0BA24"

This is a multi-part message in MIME format.

------_=_NextPart_001_01C88520.06D0BA24
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

Per my comments at the microphone, here's my assessment of the
difference between the two documents as they apply to History-Info as a
potential solution.

draft-rosenberg-sip-ua-loose-route-02 clearly states that History-Info
functionally can be used to solve the problem described in that
document.  However, Jonathan's objective is to solve a fundamental
problem of not distinguishing routing versus re-targeting (read section
5).  This document would actually change the content of the History-Info
headers for the same requests, just as it's already identified in RFC
4244 that if you have loose routing in general, that the information is
different in History-Info.=20

The document  draft-holmberg-sip-target-uri-delivery-01.txt  doesn't do
anything to change fundamental SIP processing. It just adds another
header that contains information that would already be contained in
History-Info. History-info provides a complete history of the processing
of a request, with the indexing provided by the entries and the reasons,
you know exactly why a request was either "retargetted" or "re-routed".
The examples in the appendix would apply to the use cases you are
attempting to solve as described in Jonathan's document.=20

Mary.=20

------_=_NextPart_001_01C88520.06D0BA24
Content-Type: text/html;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV=3D"Content-Type" CONTENT=3D"text/html; =
charset=3Dus-ascii">
<META NAME=3D"Generator" CONTENT=3D"MS Exchange Server version =
6.5.7652.24">
<TITLE>History-Info: UA loose route versus Target header</TITLE>
</HEAD>
<BODY>
<!-- Converted from text/rtf format -->

<P><FONT SIZE=3D2 FACE=3D"Arial">Per my comments at the microphone, =
here's my assessment of the difference between the two documents as they =
apply to History-Info as a potential solution.</FONT></P>

<P><FONT SIZE=3D2 FACE=3D"Arial">draft-rosenberg-sip-ua-loose-route-02 =
clearly states that History-Info functionally can be used to solve the =
problem described in that document.&nbsp; However, Jonathan's objective =
is to solve a fundamental problem of not distinguishing routing versus =
re-targeting (read section 5).&nbsp; This document would actually change =
the content of the History-Info headers for the same requests, just as =
it's already identified in RFC 4244 that if you have loose routing in =
general, that the information is different in History-Info. </FONT></P>

<P><FONT SIZE=3D2 FACE=3D"Arial">The document&nbsp; =
draft-holmberg-sip-target-uri-delivery-01.txt&nbsp; doesn't do anything =
to change fundamental SIP processing. It just adds another header that =
contains information that would already be contained in History-Info. =
History-info provides a complete history of the processing of a request, =
with the indexing provided by the entries and the reasons, you know =
exactly why a request was either &quot;retargetted&quot; or =
&quot;re-routed&quot;.&nbsp;&nbsp; The examples in the appendix would =
apply to the use cases you are attempting to solve as described in =
Jonathan's document. </FONT></P>

<P><FONT SIZE=3D2 FACE=3D"Arial">Mary. </FONT>
</P>

</BODY>
</HTML>
------_=_NextPart_001_01C88520.06D0BA24--

--===============0437546595==
Content-Type: text/plain; charset="us-ascii"
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip
--===============0437546595==--


From sip-bounces@ietf.org  Thu Mar 13 09:03:24 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id CC3703A6C39;
	Thu, 13 Mar 2008 09:03:23 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.635
X-Spam-Level: 
X-Spam-Status: No, score=-100.635 tagged_above=-999 required=5
	tests=[AWL=-0.198, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id IsOSs2mSGUrk; Thu, 13 Mar 2008 09:03:22 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id BE8663A6ACB;
	Thu, 13 Mar 2008 09:03:07 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id D67A53A699A
	for <sip@core3.amsl.com>; Thu, 13 Mar 2008 09:03:03 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id ADh8syYoru7l for <sip@core3.amsl.com>;
	Thu, 13 Mar 2008 09:02:54 -0700 (PDT)
Received: from nylon.softarmor.com (nylon.softarmor.com [66.135.38.164])
	by core3.amsl.com (Postfix) with ESMTP id 9DCD63A6E4D
	for <sip@ietf.org>; Thu, 13 Mar 2008 09:02:01 -0700 (PDT)
Received: from [130.129.87.72] ([130.129.87.72]) (authenticated bits=0)
	by nylon.softarmor.com (8.13.8/8.13.8/Debian-3) with ESMTP id
	m2DFxg0i013807
	(version=TLSv1/SSLv3 cipher=AES128-SHA bits=128 verify=NOT)
	for <sip@ietf.org>; Thu, 13 Mar 2008 10:59:43 -0500
Message-Id: <B0495A1B-2677-4FCE-B718-3C48DCF5205B@softarmor.com>
From: Dean Willis <dean.willis@softarmor.com>
To: IETF SIP List <sip@ietf.org>
Mime-Version: 1.0 (Apple Message framework v919.2)
Date: Thu, 13 Mar 2008 11:59:36 -0400
X-Mailer: Apple Mail (2.919.2)
Subject: [Sip] The thing we're missing in the RFC 4474 and DTLS-SRTP
	discussion
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


We seem to agree that RFC 4474 assertions involving things that look  
like phone numbers can not really be trusted, and probably therefore  
should not be sent.

However, DTLS-SRTP doesn't function without RFC 4474.

So, if you need to use DTLS-SRTP to protect a phone call that involves  
a numeric identity (and that includes E.164, private phone numbers,  
and numeric user parts of any kind), you end up having to send an RFC  
4474 Identity header that is going to mislead people.

So as things are currently written, one can never use DTLS-SRTP with a  
numeric userpart in the identity.

That's the part that we absolutely have to sort out.

We could fix this by having gateways encode their identity using a  
reserved userpart. This has to have the  property of saying "Do not  
display this as caller-ID". Using "sip:domain" or "sip:ipaddress" does  
not work, as those might actually be valid URIs that be be displayed  
as IDs.

It might work to have the gateway use a reserved value, like "sip:pstngateway@domain 
".

Or it might work to extend RFC 4474 to have a "strength of assertion"  
indicator.

It's certainly easier to add guidance in DTLS-SRTP about what gateways  
should do and about how UASes should interpret various header fields  
than it is to change RFC 4474.

However, we need to note that a standards-track document cannot say  
"Use P-Asserted-Identity". That would be an unacceptable downref. It  
could however say "If the identity encoded in the RFC 4474 Identity  
header has the reserved userpart "pstngateway", then the UAS MUST NOT  
display this to the user as the calling party identifier. Rather, the  
UAS should use other indicators of calling party identity that may be  
available to it.

--
Dean
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu Mar 13 10:33:02 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 385DA28C1E4;
	Thu, 13 Mar 2008 10:33:02 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.341
X-Spam-Level: 
X-Spam-Status: No, score=-100.341 tagged_above=-999 required=5
	tests=[AWL=0.096, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 0Toii3tb1og5; Thu, 13 Mar 2008 10:32:59 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 6DB4228C4ED;
	Thu, 13 Mar 2008 10:32:57 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 9CBF628C4B9
	for <sip@core3.amsl.com>; Thu, 13 Mar 2008 10:32:50 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id tUlM5iaGNTiF for <sip@core3.amsl.com>;
	Thu, 13 Mar 2008 10:32:43 -0700 (PDT)
Received: from rtp-iport-1.cisco.com (rtp-iport-1.cisco.com [64.102.122.148])
	by core3.amsl.com (Postfix) with ESMTP id 8E6F23A6CBF
	for <sip@ietf.org>; Thu, 13 Mar 2008 10:32:05 -0700 (PDT)
X-IronPort-AV: E=Sophos;i="4.25,495,1199682000"; 
   d="scan'208";a="1694907"
Received: from rtp-dkim-2.cisco.com ([64.102.121.159])
	by rtp-iport-1.cisco.com with ESMTP; 13 Mar 2008 13:29:47 -0400
Received: from rtp-core-2.cisco.com (rtp-core-2.cisco.com [64.102.124.13])
	by rtp-dkim-2.cisco.com (8.12.11/8.12.11) with ESMTP id m2DHTlGZ010880; 
	Thu, 13 Mar 2008 13:29:47 -0400
Received: from xbh-rtp-211.amer.cisco.com (xbh-rtp-211.cisco.com
	[64.102.31.102])
	by rtp-core-2.cisco.com (8.12.10/8.12.6) with ESMTP id m2DHTa0N025615; 
	Thu, 13 Mar 2008 17:29:42 GMT
Received: from xfe-rtp-202.amer.cisco.com ([64.102.31.21]) by
	xbh-rtp-211.amer.cisco.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Thu, 13 Mar 2008 13:29:40 -0400
Received: from [161.44.174.168] ([161.44.174.168]) by
	xfe-rtp-202.amer.cisco.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Thu, 13 Mar 2008 13:29:39 -0400
Message-ID: <47D96498.70305@cisco.com>
Date: Thu, 13 Mar 2008 13:30:00 -0400
From: Paul Kyzivat <pkyzivat@cisco.com>
User-Agent: Thunderbird 2.0.0.12 (Windows/20080213)
MIME-Version: 1.0
To: Adam Roach <adam@nostrum.com>
References: <20080312201611.DF1CD28C838@core3.amsl.com>
	<47D887E9.8000407@cisco.com> <47D92EC3.3090706@nostrum.com>
In-Reply-To: <47D92EC3.3090706@nostrum.com>
X-OriginalArrivalTime: 13 Mar 2008 17:29:39.0717 (UTC)
	FILETIME=[D10AEB50:01C8852F]
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; l=1712; t=1205429387;
	x=1206293387; c=relaxed/simple; s=rtpdkim2001;
	h=Content-Type:From:Subject:Content-Transfer-Encoding:MIME-Version;
	d=cisco.com; i=pkyzivat@cisco.com;
	z=From:=20Paul=20Kyzivat=20<pkyzivat@cisco.com>
	|Subject:=20Re=3A=20[Sip]=20comments=20on=20draft-rosenberg
	-sip-rfc4474-concerns-00 |Sender:=20
	|To:=20Adam=20Roach=20<adam@nostrum.com>;
	bh=MQsc/t+f8rlxHATq5mo7E7dRSMNLPe95NtDGHy30vDE=;
	b=r0u94fTnzfIHploJAIClVEvWM2cIBLDgkSTXC8Rc/AC1Ev4ETAzYVRJG31
	QLiRlG8EGmcQ8UgC7y+NRNtfYlqi8LqEp2n8UEWou2FIzA5Cc7SiIwyhufcF
	hZQ/1hPfEC;
Authentication-Results: rtp-dkim-2; header.From=pkyzivat@cisco.com; dkim=pass (
	sig from cisco.com/rtpdkim2001 verified; ); 
Cc: sip@ietf.org
Subject: Re: [Sip] comments on draft-rosenberg-sip-rfc4474-concerns-00
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Adam,

I understand your point. But there are a lot of people who seem to think 
it is fine to take any user part that looks vaguely line a phone number 
and treat it as such.

It was my take that Mr(Ms) +11234567890 specifically feels that way.

My understanding is still that even 
"sip:+19785551234@sprint.com;user=phone" and 
"sip:+19785551234@comcast.net;user=phone" are *different* and should be 
announced as such. Certainly the routing rules are different for 
reaching the two of them, and that can be significant.

IMO if you want an address that can be displayed simply as a phone 
number, then you should use a TEL for it.

	Paul

Adam Roach wrote:
> On 3/12/08 9:48 PM, Paul Kyzivat wrote:
>> Yet, if I normally get calls from:
>>
>>     sip:+19785551234@sprint.com
>>
>> and then later get a call from
>>
>>     sip:+19785551234@comcast.net
>>
>> then many people seem to think that only the number should be displayed.
>>
>>   
> 
> Actually, I think there is a subtle but critical correction to be made 
> here. If I understand correctly, people want the two identifiers you 
> cite to be considered different, and believe that the domain should be 
> displayed.
> 
> However, if you change your example to 
> "sip:+19785551234@sprint.com;user=phone" and 
> "sip:+19785551234@comcast.net;user=phone", then I suspect your statement 
> stands. And I'm not sure that treating these as the same entity is wrong 
> -- there's an indication that the user portion is formatted in a 
> specific, well-defined way that other parties are expected to be able to 
> interpret according to well-defined rules (RFC 3966). Without 
> "user=phone", that's not true.

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu Mar 13 10:35:39 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 982B33A697A;
	Thu, 13 Mar 2008 10:35:39 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.409
X-Spam-Level: 
X-Spam-Status: No, score=-100.409 tagged_above=-999 required=5
	tests=[AWL=0.028, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id xC4Oq8OcAeMF; Thu, 13 Mar 2008 10:35:33 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id C842A3A6870;
	Thu, 13 Mar 2008 10:35:33 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 258373A6870
	for <sip@core3.amsl.com>; Thu, 13 Mar 2008 10:35:32 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id tb+--GWMsJn5 for <sip@core3.amsl.com>;
	Thu, 13 Mar 2008 10:35:31 -0700 (PDT)
Received: from rtp-iport-1.cisco.com (rtp-iport-1.cisco.com [64.102.122.148])
	by core3.amsl.com (Postfix) with ESMTP id 816B53A67AD
	for <sip@ietf.org>; Thu, 13 Mar 2008 10:35:30 -0700 (PDT)
X-IronPort-AV: E=Sophos;i="4.25,495,1199682000"; 
   d="scan'208";a="1695327"
Received: from rtp-dkim-2.cisco.com ([64.102.121.159])
	by rtp-iport-1.cisco.com with ESMTP; 13 Mar 2008 13:33:11 -0400
Received: from rtp-core-2.cisco.com (rtp-core-2.cisco.com [64.102.124.13])
	by rtp-dkim-2.cisco.com (8.12.11/8.12.11) with ESMTP id m2DHXBtb012753; 
	Thu, 13 Mar 2008 13:33:11 -0400
Received: from xbh-rtp-201.amer.cisco.com (xbh-rtp-201.cisco.com
	[64.102.31.12])
	by rtp-core-2.cisco.com (8.12.10/8.12.6) with ESMTP id m2DHX10b027210; 
	Thu, 13 Mar 2008 17:33:06 GMT
Received: from xfe-rtp-202.amer.cisco.com ([64.102.31.21]) by
	xbh-rtp-201.amer.cisco.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Thu, 13 Mar 2008 13:33:00 -0400
Received: from [161.44.174.168] ([161.44.174.168]) by
	xfe-rtp-202.amer.cisco.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Thu, 13 Mar 2008 13:32:59 -0400
Message-ID: <47D96560.3070908@cisco.com>
Date: Thu, 13 Mar 2008 13:33:20 -0400
From: Paul Kyzivat <pkyzivat@cisco.com>
User-Agent: Thunderbird 2.0.0.12 (Windows/20080213)
MIME-Version: 1.0
To: Hadriel Kaplan <HKaplan@acmepacket.com>
References: <E6C2E8958BA59A4FB960963D475F7AC30BCA256DBB@mail.acmepacket.com>
In-Reply-To: <E6C2E8958BA59A4FB960963D475F7AC30BCA256DBB@mail.acmepacket.com>
X-OriginalArrivalTime: 13 Mar 2008 17:32:59.0730 (UTC)
	FILETIME=[48427B20:01C88530]
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; l=1585; t=1205429591;
	x=1206293591; c=relaxed/simple; s=rtpdkim2001;
	h=Content-Type:From:Subject:Content-Transfer-Encoding:MIME-Version;
	d=cisco.com; i=pkyzivat@cisco.com;
	z=From:=20Paul=20Kyzivat=20<pkyzivat@cisco.com>
	|Subject:=20Re=3A=20[Sip]=20Comment/question=20on=20draft-i
	etf-sip-body-handling-01.txt |Sender:=20
	|To:=20Hadriel=20Kaplan=20<HKaplan@acmepacket.com>;
	bh=fTqsUa/0j3saaSOLAbe1++fB16CSp4J3fUvjc30qspY=;
	b=fmifI4heae2ohwzetIsQjeXFxOMd4heZm5/ztwJIfhoaA35Hr91/BfBhhF
	vxmfV1xJHFANh06JY8GGiZ726munqdbGmF52KZxOCs04BhPDnYQKouykl+iy
	Z4vNiZTfzq;
Authentication-Results: rtp-dkim-2; header.From=pkyzivat@cisco.com; dkim=pass (
	sig from cisco.com/rtpdkim2001 verified; ); 
Cc: "sip@ietf.org List" <sip@ietf.org>
Subject: Re: [Sip] Comment/question on draft-ietf-sip-body-handling-01.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Hadriel,

I'm reluctant to make any blanket statement about this. I think it is 
very dependent on the context and the method.

I think this would be better in some sort of best practices document, if 
at all.

	Paul

Hadriel Kaplan wrote:
> At one of the recent IETF's, there was a session on SIP interop issues.  One of the issues we've found is different expectations about SIP header length and body size support.  We have found some implementations sending rather large bodies, where "rather large" is greater than 1MB.  Ignoring the reasons some middleboxes have policies to block such large bodies, the reason they have such policies is because lots of devices simply can't handle them.  There are other issues with it too, such as head-of-line blocking and inability to send it on over UDP.
> 
> So my question is, is it appropriate for a draft such as draft-ietf-sip-body-handling-01.txt to potentially define a maximum, or at least guidance about it?  It doesn't have to say one cannot send something larger - just say that receivers should only be expected to accept up to X byte large bodies.  I know this is an unpleasant topic, but it's causing interop issues which are causing certain SIP uses to fail in the real world.
> 
> -hadriel
> _______________________________________________
> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
> 
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu Mar 13 10:46:22 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id A6D8128C7B5;
	Thu, 13 Mar 2008 10:46:22 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.781
X-Spam-Level: 
X-Spam-Status: No, score=-100.781 tagged_above=-999 required=5
	tests=[AWL=-0.345, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, HTML_MESSAGE=0.001, RDNS_NONE=0.1,
	USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id Fo6kNyD51VWQ; Thu, 13 Mar 2008 10:46:18 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 9F7633A6E5D;
	Thu, 13 Mar 2008 10:46:18 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 7A8BE3A6E75
	for <sip@core3.amsl.com>; Thu, 13 Mar 2008 10:46:17 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id U+TVCA5JTfRy for <sip@core3.amsl.com>;
	Thu, 13 Mar 2008 10:46:13 -0700 (PDT)
Received: from zrtps0kp.nortel.com (zrtps0kp.nortel.com [47.140.192.56])
	by core3.amsl.com (Postfix) with ESMTP id 4815F28C11B
	for <sip@ietf.org>; Thu, 13 Mar 2008 10:46:13 -0700 (PDT)
Received: from zrc2hxm0.corp.nortel.com (zrc2hxm0.corp.nortel.com
	[47.103.123.71])
	by zrtps0kp.nortel.com (Switch-2.2.6/Switch-2.2.0) with ESMTP id
	m2DHhqU10335 for <sip@ietf.org>; Thu, 13 Mar 2008 17:43:52 GMT
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Thu, 13 Mar 2008 12:43:21 -0500
Message-ID: <1ECE0EB50388174790F9694F77522CCF157782A4@zrc2hxm0.corp.nortel.com>
In-Reply-To: <F66D7286825402429571678A16C2F5EE02640F48@zrc2hxm1.corp.nortel.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] History-Info: UA loose route versus Target header
Thread-Index: AciFH7Dyq9TdpeR0RBun7/oZCM2XWwAEYZEA
References: <F66D7286825402429571678A16C2F5EE02640F48@zrc2hxm1.corp.nortel.com>
From: "Francois Audet" <audet@nortel.com>
To: "Mary Barnes" <mary.barnes@nortel.com>, <sip@ietf.org>
Subject: Re: [Sip] History-Info: UA loose route versus Target header
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: multipart/mixed; boundary="===============1046921848=="
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

This is a multi-part message in MIME format.

--===============1046921848==
Content-class: urn:content-classes:message
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C88531.BB1DB7F6"

This is a multi-part message in MIME format.

------_=_NextPart_001_01C88531.BB1DB7F6
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Thanks Mary.
=20
By the way, RFC 4458 (voicemail URI) describes in the last paragraph of =
section 4 how History-Info solves the problem of URI parameters being =
dropped as a result of routing or retargeting.
=20
Therefore, if we chose the History-Info route for this problem, RFC 4458 =
would magically be forward compatible.


________________________________

	From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On Behalf Of =
Barnes, Mary (RICH2:AR00)
	Sent: Thursday, March 13, 2008 08:34
	To: sip@ietf.org
	Subject: [Sip] History-Info: UA loose route versus Target header
=09
=09

	Per my comments at the microphone, here's my assessment of the =
difference between the two documents as they apply to History-Info as a =
potential solution.

	draft-rosenberg-sip-ua-loose-route-02 clearly states that History-Info =
functionally can be used to solve the problem described in that =
document.  However, Jonathan's objective is to solve a fundamental =
problem of not distinguishing routing versus re-targeting (read section =
5).  This document would actually change the content of the History-Info =
headers for the same requests, just as it's already identified in RFC =
4244 that if you have loose routing in general, that the information is =
different in History-Info.=20

	The document  draft-holmberg-sip-target-uri-delivery-01.txt  doesn't do =
anything to change fundamental SIP processing. It just adds another =
header that contains information that would already be contained in =
History-Info. History-info provides a complete history of the processing =
of a request, with the indexing provided by the entries and the reasons, =
you know exactly why a request was either "retargetted" or "re-routed".  =
 The examples in the appendix would apply to the use cases you are =
attempting to solve as described in Jonathan's document.=20

	Mary.=20


------_=_NextPart_001_01C88531.BB1DB7F6
Content-Type: text/html;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML><HEAD><TITLE>History-Info: UA loose route versus Target =
header</TITLE>
<META http-equiv=3DContent-Type content=3D"text/html; =
charset=3Diso-8859-1">
<META content=3D"MSHTML 6.00.2900.3268" name=3DGENERATOR></HEAD>
<BODY>
<DIV dir=3Dltr align=3Dleft><SPAN class=3D676403917-13032008><FONT =
face=3DArial=20
color=3D#800000 size=3D2>Thanks Mary.</FONT></SPAN></DIV>
<DIV dir=3Dltr align=3Dleft><SPAN class=3D676403917-13032008><FONT =
face=3DArial=20
color=3D#800000 size=3D2></FONT></SPAN>&nbsp;</DIV>
<DIV dir=3Dltr align=3Dleft><SPAN class=3D676403917-13032008><FONT =
face=3DArial=20
color=3D#800000 size=3D2>By the way, RFC 4458 (voicemail URI) describes =
in the last=20
paragraph of section 4 how History-Info solves the problem of URI =
parameters=20
being dropped as a result of routing or retargeting.</FONT></SPAN></DIV>
<DIV dir=3Dltr align=3Dleft><SPAN class=3D676403917-13032008><FONT =
face=3DArial=20
color=3D#800000 size=3D2></FONT></SPAN>&nbsp;</DIV>
<DIV dir=3Dltr align=3Dleft><SPAN class=3D676403917-13032008><FONT =
face=3DArial=20
color=3D#800000 size=3D2>Therefore, if we chose the History-Info route =
for this=20
problem, RFC 4458 would magically be forward =
compatible.</FONT></SPAN></DIV><BR>
<BLOCKQUOTE dir=3Dltr=20
style=3D"PADDING-LEFT: 5px; MARGIN-LEFT: 5px; BORDER-LEFT: #800000 2px =
solid; MARGIN-RIGHT: 0px">
  <DIV class=3DOutlookMessageHeader lang=3Den-us dir=3Dltr align=3Dleft>
  <HR tabIndex=3D-1>
  <FONT face=3DTahoma size=3D2><B>From:</B> sip-bounces@ietf.org=20
  [mailto:sip-bounces@ietf.org] <B>On Behalf Of </B>Barnes, Mary=20
  (RICH2:AR00)<BR><B>Sent:</B> Thursday, March 13, 2008 =
08:34<BR><B>To:</B>=20
  sip@ietf.org<BR><B>Subject:</B> [Sip] History-Info: UA loose route =
versus=20
  Target header<BR></FONT><BR></DIV>
  <DIV></DIV><!-- Converted from text/rtf format -->
  <P><FONT face=3DArial size=3D2>Per my comments at the microphone, =
here's my=20
  assessment of the difference between the two documents as they apply =
to=20
  History-Info as a potential solution.</FONT></P>
  <P><FONT face=3DArial size=3D2>draft-rosenberg-sip-ua-loose-route-02 =
clearly=20
  states that History-Info functionally can be used to solve the problem =

  described in that document.&nbsp; However, Jonathan's objective is to =
solve a=20
  fundamental problem of not distinguishing routing versus re-targeting =
(read=20
  section 5).&nbsp; This document would actually change the content of =
the=20
  History-Info headers for the same requests, just as it's already =
identified in=20
  RFC 4244 that if you have loose routing in general, that the =
information is=20
  different in History-Info. </FONT></P>
  <P><FONT face=3DArial size=3D2>The document&nbsp;=20
  draft-holmberg-sip-target-uri-delivery-01.txt&nbsp; doesn't do =
anything to=20
  change fundamental SIP processing. It just adds another header that =
contains=20
  information that would already be contained in History-Info. =
History-info=20
  provides a complete history of the processing of a request, with the =
indexing=20
  provided by the entries and the reasons, you know exactly why a =
request was=20
  either "retargetted" or "re-routed".&nbsp;&nbsp; The examples in the =
appendix=20
  would apply to the use cases you are attempting to solve as described =
in=20
  Jonathan's document. </FONT></P>
  <P><FONT face=3DArial size=3D2>Mary. =
</FONT></P></BLOCKQUOTE></BODY></HTML>

------_=_NextPart_001_01C88531.BB1DB7F6--

--===============1046921848==
Content-Type: text/plain; charset="us-ascii"
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip
--===============1046921848==--


From sip-bounces@ietf.org  Thu Mar 13 11:00:59 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 765523A6EA4;
	Thu, 13 Mar 2008 11:00:59 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.506
X-Spam-Level: 
X-Spam-Status: No, score=-100.506 tagged_above=-999 required=5
	tests=[AWL=-0.068, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id TcroeH8mv-E3; Thu, 13 Mar 2008 11:00:58 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 58B1C3A6C9A;
	Thu, 13 Mar 2008 11:00:58 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id A68363A68DB
	for <sip@core3.amsl.com>; Thu, 13 Mar 2008 11:00:57 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 7bqA5rDcTBFy for <sip@core3.amsl.com>;
	Thu, 13 Mar 2008 11:00:56 -0700 (PDT)
Received: from nostrum.com (nostrum-pt.tunnel.tserv2.fmt.ipv6.he.net
	[IPv6:2001:470:1f03:267::2])
	by core3.amsl.com (Postfix) with ESMTP id 784813A6C9A
	for <sip@ietf.org>; Thu, 13 Mar 2008 11:00:56 -0700 (PDT)
Received: from orthrus.local ([130.129.87.39]) (authenticated bits=0)
	by nostrum.com (8.14.2/8.14.1) with ESMTP id m2DHwaTm087655
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO);
	Thu, 13 Mar 2008 12:58:37 -0500 (CDT)
	(envelope-from adam@nostrum.com)
Message-ID: <47D96B4B.30308@nostrum.com>
Date: Thu, 13 Mar 2008 13:58:35 -0400
From: Adam Roach <adam@nostrum.com>
User-Agent: Thunderbird 2.0.0.12 (Macintosh/20080213)
MIME-Version: 1.0
To: Dean Willis <dean.willis@softarmor.com>
References: <B0495A1B-2677-4FCE-B718-3C48DCF5205B@softarmor.com>
In-Reply-To: <B0495A1B-2677-4FCE-B718-3C48DCF5205B@softarmor.com>
Received-SPF: pass (nostrum.com: 130.129.87.39 is authenticated by a trusted
	mechanism)
X-Virus-Scanned: ClamAV 0.92.1/6225/Thu Mar 13 09:52:37 2008 on
	shaman.nostrum.com
X-Virus-Status: Clean
Cc: IETF SIP List <sip@ietf.org>
Subject: Re: [Sip] The thing we're missing in the RFC 4474 and
	DTLS-SRTP	discussion
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

On 3/13/08 11:59 AM, Dean Willis wrote:
> We could fix this by having gateways encode their identity using a  
> reserved userpart. This has to have the  property of saying "Do not  
> display this as caller-ID". Using "sip:domain" or "sip:ipaddress" does  
> not work, as those might actually be valid URIs that be be displayed  
> as IDs.
>   

That's the problem I have -- if the calling party reported by the PSTN 
has been completely pulled out of the "From" header field, then you'll 
have very bad interaction with currently deployed phones. I don't think 
that's a reasonable trade-off. That's why I think this...

> It might work to have the gateway use a reserved value, like "sip:pstngateway@domain".
>   

...is a non-starter.


> Or it might work to extend RFC 4474 to have a "strength of assertion"  
> indicator.
>   

You mean something like:
  From: <sip:+12145551212@example.com;user=phone;trusted=no> ?

Or something more like:
  Identity: "LotsOfBase64EncodedGunk==";trusted=no

(I acknowledge that this can be more nuanced than yes/no, but let's 
decide where the bike shed goes before we begin the argument about its 
color).

> It's certainly easier to add guidance in DTLS-SRTP about what gateways  
> should do and about how UASes should interpret various header fields  
> than it is to change RFC 4474.
>   

That would argue for some indication on the *From* header field that 
indicates a level of trust. I'm not sure it's really the proper place to 
place that information, from a semantic perspective -- but it does seem 
to be a potential way to get through this maze of thorns without losing 
too much blood.

/a
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu Mar 13 11:47:39 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 5640B3A6A2F;
	Thu, 13 Mar 2008 11:47:39 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.6
X-Spam-Level: 
X-Spam-Status: No, score=-100.6 tagged_above=-999 required=5
	tests=[AWL=-0.164, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, HTML_MESSAGE=0.001, RDNS_NONE=0.1,
	USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 1MvC7JxH5jkm; Thu, 13 Mar 2008 11:47:38 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 1917D3A6A5A;
	Thu, 13 Mar 2008 11:47:36 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id DC0553A697A
	for <sip@core3.amsl.com>; Thu, 13 Mar 2008 11:47:34 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id TcAKMhZOZSiL for <sip@core3.amsl.com>;
	Thu, 13 Mar 2008 11:47:34 -0700 (PDT)
Received: from mailgate.siemenscomms.co.uk (mailgate.siemenscomms.co.uk
	[195.171.110.225])
	by core3.amsl.com (Postfix) with ESMTP id 6D0AD3A6A5A
	for <sip@ietf.org>; Thu, 13 Mar 2008 11:47:23 -0700 (PDT)
Received: from GBNTHT12009MSX.gb002.siemens.net ([137.223.219.236])
	by siemenscomms.co.uk (PMDF V6.3-x14 #31430)
	with ESMTP id <0JXO0038EM2S5Y@siemenscomms.co.uk> for sip@ietf.org; Thu,
	13 Mar 2008 18:30:28 +0000 (GMT)
Date: Thu, 13 Mar 2008 18:30:27 +0000
From: "Elwell, John" <john.elwell@siemens.com>
In-reply-to: <F66D7286825402429571678A16C2F5EE02640F48@zrc2hxm1.corp.nortel.com>
To: Mary Barnes <mary.barnes@nortel.com>, sip@ietf.org
Message-id: <0D5F89FAC29E2C41B98A6A762007F5D07DB068@GBNTHT12009MSX.gb002.siemens.net>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft Exchange V6.5
Thread-Topic: [Sip] History-Info: UA loose route versus Target header
Thread-Index: AciFH7Dyq9TdpeR0RBun7/oZCM2XWwAGCarQ
Content-class: urn:content-classes:message
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
References: <F66D7286825402429571678A16C2F5EE02640F48@zrc2hxm1.corp.nortel.com>
Subject: Re: [Sip] History-Info: UA loose route versus Target header
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: multipart/mixed; boundary="===============0924700977=="
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

This is a multi-part message in MIME format.

--===============0924700977==
Content-type: multipart/alternative;
 boundary="----_=_NextPart_001_01C88538.4F9EBBF1"
Content-class: urn:content-classes:message

This is a multi-part message in MIME format.

------_=_NextPart_001_01C88538.4F9EBBF1
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

One problem identified with Target-Id was that a proxy that retargets
and doesn't support Target-Id might just forward an existing Target-Id
rather than remove it. I think history-info has a similar property,
i.e., the last history entry will not necessarily reflect the most
recent target. Would anybody care to comment on this?
=20
John


________________________________

	From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On
Behalf Of Mary Barnes
	Sent: 13 March 2008 15:34
	To: sip@ietf.org
	Subject: [Sip] History-Info: UA loose route versus Target header
=09
=09

	Per my comments at the microphone, here's my assessment of the
difference between the two documents as they apply to History-Info as a
potential solution.

	draft-rosenberg-sip-ua-loose-route-02 clearly states that
History-Info functionally can be used to solve the problem described in
that document.  However, Jonathan's objective is to solve a fundamental
problem of not distinguishing routing versus re-targeting (read section
5).  This document would actually change the content of the History-Info
headers for the same requests, just as it's already identified in RFC
4244 that if you have loose routing in general, that the information is
different in History-Info.=20

	The document  draft-holmberg-sip-target-uri-delivery-01.txt
doesn't do anything to change fundamental SIP processing. It just adds
another header that contains information that would already be contained
in History-Info. History-info provides a complete history of the
processing of a request, with the indexing provided by the entries and
the reasons, you know exactly why a request was either "retargetted" or
"re-routed".   The examples in the appendix would apply to the use cases
you are attempting to solve as described in Jonathan's document.=20

	Mary.=20


------_=_NextPart_001_01C88538.4F9EBBF1
Content-Type: text/html;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML><HEAD><TITLE>History-Info: UA loose route versus Target =
header</TITLE>
<META http-equiv=3DContent-Type content=3D"text/html; =
charset=3Dus-ascii">
<META content=3D"MSHTML 6.00.2900.3243" name=3DGENERATOR></HEAD>
<BODY>
<DIV dir=3Dltr align=3Dleft><SPAN class=3D734062718-13032008><FONT =
face=3DArial=20
color=3D#0000ff size=3D2>One problem identified with Target-Id was that =
a proxy that=20
retargets and doesn't support Target-Id might just forward an existing =
Target-Id=20
rather than remove it. I think history-info has a similar property, =
i.e., the=20
last history entry will not necessarily reflect the most recent target. =
Would=20
anybody care to comment on this?</FONT></SPAN></DIV>
<DIV dir=3Dltr align=3Dleft><SPAN class=3D734062718-13032008><FONT =
face=3DArial=20
color=3D#0000ff size=3D2></FONT></SPAN>&nbsp;</DIV>
<DIV dir=3Dltr align=3Dleft><SPAN class=3D734062718-13032008><FONT =
face=3DArial=20
color=3D#0000ff size=3D2>John</FONT></SPAN></DIV><BR>
<BLOCKQUOTE dir=3Dltr=20
style=3D"PADDING-LEFT: 5px; MARGIN-LEFT: 5px; BORDER-LEFT: #0000ff 2px =
solid; MARGIN-RIGHT: 0px">
  <DIV class=3DOutlookMessageHeader lang=3Den-us dir=3Dltr align=3Dleft>
  <HR tabIndex=3D-1>
  <FONT face=3DTahoma size=3D2><B>From:</B> sip-bounces@ietf.org=20
  [mailto:sip-bounces@ietf.org] <B>On Behalf Of </B>Mary =
Barnes<BR><B>Sent:</B>=20
  13 March 2008 15:34<BR><B>To:</B> sip@ietf.org<BR><B>Subject:</B> =
[Sip]=20
  History-Info: UA loose route versus Target header<BR></FONT><BR></DIV>
  <DIV></DIV><!-- Converted from text/rtf format -->
  <P><FONT face=3DArial size=3D2>Per my comments at the microphone, =
here's my=20
  assessment of the difference between the two documents as they apply =
to=20
  History-Info as a potential solution.</FONT></P>
  <P><FONT face=3DArial size=3D2>draft-rosenberg-sip-ua-loose-route-02 =
clearly=20
  states that History-Info functionally can be used to solve the problem =

  described in that document.&nbsp; However, Jonathan's objective is to =
solve a=20
  fundamental problem of not distinguishing routing versus re-targeting =
(read=20
  section 5).&nbsp; This document would actually change the content of =
the=20
  History-Info headers for the same requests, just as it's already =
identified in=20
  RFC 4244 that if you have loose routing in general, that the =
information is=20
  different in History-Info. </FONT></P>
  <P><FONT face=3DArial size=3D2>The document&nbsp;=20
  draft-holmberg-sip-target-uri-delivery-01.txt&nbsp; doesn't do =
anything to=20
  change fundamental SIP processing. It just adds another header that =
contains=20
  information that would already be contained in History-Info. =
History-info=20
  provides a complete history of the processing of a request, with the =
indexing=20
  provided by the entries and the reasons, you know exactly why a =
request was=20
  either "retargetted" or "re-routed".&nbsp;&nbsp; The examples in the =
appendix=20
  would apply to the use cases you are attempting to solve as described =
in=20
  Jonathan's document. </FONT></P>
  <P><FONT face=3DArial size=3D2>Mary. =
</FONT></P></BLOCKQUOTE></BODY></HTML>

------_=_NextPart_001_01C88538.4F9EBBF1--

--===============0924700977==
Content-Type: text/plain; charset="us-ascii"
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip
--===============0924700977==--


From sip-bounces@ietf.org  Thu Mar 13 12:09:37 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id C265A28C23A;
	Thu, 13 Mar 2008 12:09:37 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.803
X-Spam-Level: 
X-Spam-Status: No, score=-100.803 tagged_above=-999 required=5
	tests=[AWL=-0.367, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, HTML_MESSAGE=0.001, RDNS_NONE=0.1,
	USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id B61Fh0gos187; Thu, 13 Mar 2008 12:09:36 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 8D2C43A6D18;
	Thu, 13 Mar 2008 12:09:36 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id D16F33A6CB2
	for <sip@core3.amsl.com>; Thu, 13 Mar 2008 12:09:34 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id aCE3DLQ9Z+Sc for <sip@core3.amsl.com>;
	Thu, 13 Mar 2008 12:09:30 -0700 (PDT)
Received: from zrtps0kn.nortel.com (zrtps0kn.nortel.com [47.140.192.55])
	by core3.amsl.com (Postfix) with ESMTP id 28DD43A6C29
	for <sip@ietf.org>; Thu, 13 Mar 2008 12:09:30 -0700 (PDT)
Received: from zrc2hxm0.corp.nortel.com (zrc2hxm0.corp.nortel.com
	[47.103.123.71])
	by zrtps0kn.nortel.com (Switch-2.2.6/Switch-2.2.0) with ESMTP id
	m2DJ79q12467; Thu, 13 Mar 2008 19:07:09 GMT
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Thu, 13 Mar 2008 14:07:03 -0500
Message-ID: <1ECE0EB50388174790F9694F77522CCF15778611@zrc2hxm0.corp.nortel.com>
In-Reply-To: <0D5F89FAC29E2C41B98A6A762007F5D07DB068@GBNTHT12009MSX.gb002.siemens.net>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] History-Info: UA loose route versus Target header
Thread-Index: AciFH7Dyq9TdpeR0RBun7/oZCM2XWwAGCarQAAFbwaA=
References: <F66D7286825402429571678A16C2F5EE02640F48@zrc2hxm1.corp.nortel.com>
	<0D5F89FAC29E2C41B98A6A762007F5D07DB068@GBNTHT12009MSX.gb002.siemens.net>
From: "Francois Audet" <audet@nortel.com>
To: "Elwell, John" <john.elwell@siemens.com>,
	"Mary Barnes" <mary.barnes@nortel.com>, <sip@ietf.org>
Subject: Re: [Sip] History-Info: UA loose route versus Target header
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: multipart/mixed; boundary="===============1287281554=="
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

This is a multi-part message in MIME format.

--===============1287281554==
Content-class: urn:content-classes:message
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C8853D.6CC26636"

This is a multi-part message in MIME format.

------_=_NextPart_001_01C8853D.6CC26636
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Well, yes, of course.  That is not a solvable problem.


________________________________

	From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On Behalf Of =
Elwell, John
	Sent: Thursday, March 13, 2008 11:30
	To: Barnes, Mary (RICH2:AR00); sip@ietf.org
	Subject: Re: [Sip] History-Info: UA loose route versus Target header
=09
=09
	One problem identified with Target-Id was that a proxy that retargets =
and doesn't support Target-Id might just forward an existing Target-Id =
rather than remove it. I think history-info has a similar property, =
i.e., the last history entry will not necessarily reflect the most =
recent target. Would anybody care to comment on this?
	=20
	John


________________________________

		From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On Behalf Of =
Mary Barnes
		Sent: 13 March 2008 15:34
		To: sip@ietf.org
		Subject: [Sip] History-Info: UA loose route versus Target header
	=09
	=09

		Per my comments at the microphone, here's my assessment of the =
difference between the two documents as they apply to History-Info as a =
potential solution.

		draft-rosenberg-sip-ua-loose-route-02 clearly states that History-Info =
functionally can be used to solve the problem described in that =
document.  However, Jonathan's objective is to solve a fundamental =
problem of not distinguishing routing versus re-targeting (read section =
5).  This document would actually change the content of the History-Info =
headers for the same requests, just as it's already identified in RFC =
4244 that if you have loose routing in general, that the information is =
different in History-Info.=20

		The document  draft-holmberg-sip-target-uri-delivery-01.txt  doesn't =
do anything to change fundamental SIP processing. It just adds another =
header that contains information that would already be contained in =
History-Info. History-info provides a complete history of the processing =
of a request, with the indexing provided by the entries and the reasons, =
you know exactly why a request was either "retargetted" or "re-routed".  =
 The examples in the appendix would apply to the use cases you are =
attempting to solve as described in Jonathan's document.=20

		Mary.=20


------_=_NextPart_001_01C8853D.6CC26636
Content-Type: text/html;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML><HEAD><TITLE>History-Info: UA loose route versus Target =
header</TITLE>
<META http-equiv=3DContent-Type content=3D"text/html; =
charset=3Diso-8859-1">
<META content=3D"MSHTML 6.00.2900.3268" name=3DGENERATOR></HEAD>
<BODY>
<DIV dir=3Dltr align=3Dleft><SPAN class=3D433000619-13032008><FONT =
face=3DArial=20
color=3D#800000 size=3D2>Well, yes, of course.&nbsp; That is not a =
solvable=20
problem.</FONT></SPAN></DIV><BR>
<BLOCKQUOTE dir=3Dltr=20
style=3D"PADDING-LEFT: 5px; MARGIN-LEFT: 5px; BORDER-LEFT: #800000 2px =
solid; MARGIN-RIGHT: 0px">
  <DIV class=3DOutlookMessageHeader lang=3Den-us dir=3Dltr align=3Dleft>
  <HR tabIndex=3D-1>
  <FONT face=3DTahoma size=3D2><B>From:</B> sip-bounces@ietf.org=20
  [mailto:sip-bounces@ietf.org] <B>On Behalf Of </B>Elwell, =
John<BR><B>Sent:</B>=20
  Thursday, March 13, 2008 11:30<BR><B>To:</B> Barnes, Mary =
(RICH2:AR00);=20
  sip@ietf.org<BR><B>Subject:</B> Re: [Sip] History-Info: UA loose route =
versus=20
  Target header<BR></FONT><BR></DIV>
  <DIV></DIV>
  <DIV dir=3Dltr align=3Dleft><SPAN class=3D734062718-13032008><FONT =
face=3DArial=20
  color=3D#0000ff size=3D2>One problem identified with Target-Id was =
that a proxy=20
  that retargets and doesn't support Target-Id might just forward an =
existing=20
  Target-Id rather than remove it. I think history-info has a similar =
property,=20
  i.e., the last history entry will not necessarily reflect the most =
recent=20
  target. Would anybody care to comment on this?</FONT></SPAN></DIV>
  <DIV dir=3Dltr align=3Dleft><SPAN class=3D734062718-13032008><FONT =
face=3DArial=20
  color=3D#0000ff size=3D2></FONT></SPAN>&nbsp;</DIV>
  <DIV dir=3Dltr align=3Dleft><SPAN class=3D734062718-13032008><FONT =
face=3DArial=20
  color=3D#0000ff size=3D2>John</FONT></SPAN></DIV><BR>
  <BLOCKQUOTE dir=3Dltr=20
  style=3D"PADDING-LEFT: 5px; MARGIN-LEFT: 5px; BORDER-LEFT: #0000ff 2px =
solid; MARGIN-RIGHT: 0px">
    <DIV class=3DOutlookMessageHeader lang=3Den-us dir=3Dltr =
align=3Dleft>
    <HR tabIndex=3D-1>
    <FONT face=3DTahoma size=3D2><B>From:</B> sip-bounces@ietf.org=20
    [mailto:sip-bounces@ietf.org] <B>On Behalf Of </B>Mary=20
    Barnes<BR><B>Sent:</B> 13 March 2008 15:34<BR><B>To:</B>=20
    sip@ietf.org<BR><B>Subject:</B> [Sip] History-Info: UA loose route =
versus=20
    Target header<BR></FONT><BR></DIV>
    <DIV></DIV><!-- Converted from text/rtf format -->
    <P><FONT face=3DArial size=3D2>Per my comments at the microphone, =
here's my=20
    assessment of the difference between the two documents as they apply =
to=20
    History-Info as a potential solution.</FONT></P>
    <P><FONT face=3DArial size=3D2>draft-rosenberg-sip-ua-loose-route-02 =
clearly=20
    states that History-Info functionally can be used to solve the =
problem=20
    described in that document.&nbsp; However, Jonathan's objective is =
to solve=20
    a fundamental problem of not distinguishing routing versus =
re-targeting=20
    (read section 5).&nbsp; This document would actually change the =
content of=20
    the History-Info headers for the same requests, just as it's already =

    identified in RFC 4244 that if you have loose routing in general, =
that the=20
    information is different in History-Info. </FONT></P>
    <P><FONT face=3DArial size=3D2>The document&nbsp;=20
    draft-holmberg-sip-target-uri-delivery-01.txt&nbsp; doesn't do =
anything to=20
    change fundamental SIP processing. It just adds another header that =
contains=20
    information that would already be contained in History-Info. =
History-info=20
    provides a complete history of the processing of a request, with the =

    indexing provided by the entries and the reasons, you know exactly =
why a=20
    request was either "retargetted" or "re-routed".&nbsp;&nbsp; The =
examples in=20
    the appendix would apply to the use cases you are attempting to =
solve as=20
    described in Jonathan's document. </FONT></P>
    <P><FONT face=3DArial size=3D2>Mary.=20
</FONT></P></BLOCKQUOTE></BLOCKQUOTE></BODY></HTML>

------_=_NextPart_001_01C8853D.6CC26636--

--===============1287281554==
Content-Type: text/plain; charset="us-ascii"
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip
--===============1287281554==--


From sip-bounces@ietf.org  Thu Mar 13 12:27:58 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 99E293A6ECE;
	Thu, 13 Mar 2008 12:27:58 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.587
X-Spam-Level: 
X-Spam-Status: No, score=-100.587 tagged_above=-999 required=5
	tests=[AWL=-0.150, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id gsxd2dq3J48z; Thu, 13 Mar 2008 12:27:56 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id E6D463A6B9B;
	Thu, 13 Mar 2008 12:27:56 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 5B0AA3A6D0E
	for <sip@core3.amsl.com>; Thu, 13 Mar 2008 12:27:55 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id BhDV8q43pCj7 for <sip@core3.amsl.com>;
	Thu, 13 Mar 2008 12:27:54 -0700 (PDT)
Received: from mailgate.siemenscomms.co.uk (mailgate.siemenscomms.co.uk
	[195.171.110.225])
	by core3.amsl.com (Postfix) with ESMTP id D7CA13A6C12
	for <sip@ietf.org>; Thu, 13 Mar 2008 12:26:56 -0700 (PDT)
Received: from GBNTHT12009MSX.gb002.siemens.net ([137.223.219.236])
	by siemenscomms.co.uk (PMDF V6.3-x14 #31430)
	with ESMTP id <0JXO0069IOL246@siemenscomms.co.uk> for sip@ietf.org; Thu,
	13 Mar 2008 19:24:38 +0000 (GMT)
Date: Thu, 13 Mar 2008 19:24:37 +0000
From: "Elwell, John" <john.elwell@siemens.com>
In-reply-to: <B0495A1B-2677-4FCE-B718-3C48DCF5205B@softarmor.com>
To: Dean Willis <dean.willis@softarmor.com>, IETF SIP List <sip@ietf.org>
Message-id: <0D5F89FAC29E2C41B98A6A762007F5D07DB077@GBNTHT12009MSX.gb002.siemens.net>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft Exchange V6.5
Thread-Topic: [Sip] The thing we're missing in the RFC 4474 and DTLS-SRTP
	discussion
Thread-Index: AciFI94/KArSp9FeQVuRiuryhgcElgAFRA+Q
Content-class: urn:content-classes:message
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
References: <B0495A1B-2677-4FCE-B718-3C48DCF5205B@softarmor.com>
Subject: Re: [Sip] The thing we're missing in the RFC 4474 and
	DTLS-SRTP	discussion
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Dean,

See below.

John 

> -----Original Message-----
> From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On 
> Behalf Of Dean Willis
> Sent: 13 March 2008 16:00
> To: IETF SIP List
> Subject: [Sip] The thing we're missing in the RFC 4474 and 
> DTLS-SRTP discussion
> 
> 
> We seem to agree that RFC 4474 assertions involving things that look  
> like phone numbers can not really be trusted, and probably therefore  
> should not be sent.
> 
> However, DTLS-SRTP doesn't function without RFC 4474.
> 
> So, if you need to use DTLS-SRTP to protect a phone call that 
> involves  
> a numeric identity (and that includes E.164, private phone numbers,  
> and numeric user parts of any kind), you end up having to 
> send an RFC  
> 4474 Identity header that is going to mislead people.
> 
> So as things are currently written, one can never use 
> DTLS-SRTP with a  
> numeric userpart in the identity.
> 
> That's the part that we absolutely have to sort out.
> 
> We could fix this by having gateways encode their identity using a  
> reserved userpart. This has to have the  property of saying "Do not  
> display this as caller-ID". Using "sip:domain" or 
> "sip:ipaddress" does  
> not work, as those might actually be valid URIs that be be displayed  
> as IDs.
> 
> It might work to have the gateway use a reserved value, like 
> "sip:pstngateway@domain 
> ".
> 
> Or it might work to extend RFC 4474 to have a "strength of 
> assertion"  
> indicator.
[JRE] If From contains something like sip:mygateway@sip.example.com
(where mygateway is not a reserved name), that could be displayed to the
user (along with a TEL URI PAI) and would indicate where the request
comes from (within the SIP network). If DTLS-SRTP is used, it also
indicates where media is secured from. The problem is, it lacks an
explicit indicator that this is not the end domain, so it might lead a
UA to make a wrong assessment of security and indicate it to the user.
So there does indeed seem to be a need for some explicit indicator. I
think I prefer a "strength of assertion" indicator rather than a
reserved user value in the SIP URI. Maybe that could be an update of RFC
3261 to add a new parameter to SIP URI, rather than a change to RFC
4474.

> 
> It's certainly easier to add guidance in DTLS-SRTP about what 
> gateways  
> should do and about how UASes should interpret various header fields  
> than it is to change RFC 4474.
[JRE] Yes, but that guidance might be relevant in circumstances other
than DTLS-SRTP, so we seem to have three possibilities:
1) Update RFC 4474 to include this guidance
2) Write an informative RFC to give this guidance
3) Include this guidance in DTLS-SRTP-framework.
In cases 1) and 2) there could also be some discussion in
DTLS-SRTP-framework, specific to that particular situation.

> 
> However, we need to note that a standards-track document cannot say  
> "Use P-Asserted-Identity". That would be an unacceptable downref. It  
> could however say "If the identity encoded in the RFC 4474 Identity  
> header has the reserved userpart "pstngateway", then the UAS 
> MUST NOT  
> display this to the user as the calling party identifier. 
> Rather, the  
> UAS should use other indicators of calling party identity 
> that may be  
> available to it.
[JRE] We could, of course, issue an RFC 3325bis making it standards
track. I know this has been mentioned before and some people have said
it would never get through IESG security scrutiny. However, the header
field is in such common use, outside the initial walled garden for which
it was specified, that it might make sense.

> 
> --
> Dean
> _______________________________________________
> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
> 
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu Mar 13 12:30:04 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 74EB93A6EED;
	Thu, 13 Mar 2008 12:30:04 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -102.577
X-Spam-Level: 
X-Spam-Status: No, score=-102.577 tagged_above=-999 required=5
	tests=[AWL=0.022, BAYES_00=-2.599, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id D-Oa7k04ngWQ; Thu, 13 Mar 2008 12:30:03 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 7C2F23A6E75;
	Thu, 13 Mar 2008 12:30:03 -0700 (PDT)
X-Original-To: sip@ietf.org
Delivered-To: sip@core3.amsl.com
Received: by core3.amsl.com (Postfix, from userid 0)
	id 018563A6ECE; Thu, 13 Mar 2008 12:30:01 -0700 (PDT)
Content-Type: Multipart/Mixed; Boundary="NextPart"
Mime-Version: 1.0
To: i-d-announce@ietf.org
From: Internet-Drafts@ietf.org
Message-Id: <20080313193002.018563A6ECE@core3.amsl.com>
Date: Thu, 13 Mar 2008 12:30:01 -0700 (PDT)
Cc: sip@ietf.org
Subject: [Sip] I-D ACTION:draft-ietf-sip-rph-new-namespaces-03.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

--NextPart

A New Internet-Draft is available from the on-line Internet-Drafts 
directories.
This draft is a work item of the Session Initiation Protocol Working Group of the IETF.

	Title		: IANA Registration of New Session Initiation Protocol (SIP) Resource-Priority Namespaces
	Author(s)	: J. Polk
	Filename	: draft-ietf-sip-rph-new-namespaces-03.txt
	Pages		: 7
	Date		: 2008-3-13
	
This document creates additional Session Initiation Protocol (SIP)
   Resource-Priority namespaces to meet the requirements of the US 
   Defense Information Systems Agency, and places these namespaces in 
   the IANA registry.

A URL for this Internet-Draft is:
http://www.ietf.org/internet-drafts/draft-ietf-sip-rph-new-namespaces-03.txt

Internet-Drafts are also available by anonymous FTP at:
ftp://ftp.ietf.org/internet-drafts/

Below is the data which will enable a MIME compliant mail reader
implementation to automatically retrieve the ASCII version of the
Internet-Draft.

--NextPart
Content-Type: Message/External-body;
	name="draft-ietf-sip-rph-new-namespaces-03.txt";
	site="ftp.ietf.org";
	access-type="anon-ftp";
	directory="internet-drafts"

Content-Type: text/plain
Content-ID: <2008-3-13121747.I-D@ietf.org>


--NextPart
Content-Type: text/plain; charset="us-ascii"
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip
--NextPart--



From sip-bounces@ietf.org  Thu Mar 13 12:30:14 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 5755C3A6F45;
	Thu, 13 Mar 2008 12:30:14 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.978
X-Spam-Level: 
X-Spam-Status: No, score=-100.978 tagged_above=-999 required=5
	tests=[AWL=-0.540, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id j3YPn95XN6ip; Thu, 13 Mar 2008 12:30:13 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id ECAED3A6F36;
	Thu, 13 Mar 2008 12:30:08 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 87FC43A6CC2
	for <sip@core3.amsl.com>; Thu, 13 Mar 2008 12:30:07 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id J-LUzyq6NWpg for <sip@core3.amsl.com>;
	Thu, 13 Mar 2008 12:30:06 -0700 (PDT)
Received: from pmesmtp01.mci.com (pmesmtp01.wcom.com [199.249.20.1])
	by core3.amsl.com (Postfix) with ESMTP id 1C7BD3A6F2A
	for <sip@ietf.org>; Thu, 13 Mar 2008 12:30:06 -0700 (PDT)
Received: from dgismtp02.mcilink.com ([166.38.58.142])
	by firewall.verizonbusiness.com (Iplanet MTA 5.2)
	with ESMTP id <0JXO00I44OQAYI@firewall.verizonbusiness.com> for
	sip@ietf.org; Thu, 13 Mar 2008 19:27:47 +0000 (GMT)
Received: from dgismtp02.mcilink.com ([127.0.0.1])
	by dgismtp02.mcilink.com (iPlanet Messaging Server 5.2 HotFix 2.08
	(built Sep
	22 2005)) with SMTP id <0JXO00G0IOQA8W@dgismtp02.mcilink.com> for
	sip@ietf.org; Thu, 13 Mar 2008 19:27:46 +0000 (GMT)
Received: from ASHSRV140.mcilink.com ([153.39.68.166])
	by dgismtp02.mcilink.com (iPlanet Messaging Server 5.2 HotFix 2.08
	(built Sep
	22 2005)) with ESMTP id <0JXO00FCWOQ9JM@dgismtp02.mcilink.com> for
	sip@ietf.org; Thu, 13 Mar 2008 19:27:45 +0000 (GMT)
Received: from ASHEVS002.mcilink.com ([153.39.71.1])
	by ASHSRV140.mcilink.com with Microsoft SMTPSVC(6.0.3790.1830); Thu,
	13 Mar 2008 19:27:45 +0000
Date: Thu, 13 Mar 2008 19:27:45 +0000
From: "Dwight, Timothy M (Tim)" <timothy.dwight@verizonbusiness.com>
In-reply-to: <B0495A1B-2677-4FCE-B718-3C48DCF5205B@softarmor.com>
To: IETF SIP List <sip@ietf.org>
Message-id: <092B2658AAB56A4D80836399A4C4703103D07C27@ASHEVS002.mcilink.com>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
Thread-topic: [Sip] The thing we're missing in the RFC 4474 and DTLS-SRTP
	discussion
Thread-index: AciFI5YbIRH7as9BRI6LOp3qb71tsgADi3bQ
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
References: <B0495A1B-2677-4FCE-B718-3C48DCF5205B@softarmor.com>
X-OriginalArrivalTime: 13 Mar 2008 19:27:45.0971 (UTC)
	FILETIME=[50C77830:01C88540]
Subject: Re: [Sip] The thing we're missing in the RFC 4474 and
	DTLS-SRTP	discussion
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

I don't understand the focus on PSTN gateways.  Is it believed that only
PSTN gateways ever create URIs with numeric user parts?  Or that PSTN
gateways are particularly untrustworthy?  Neither seems reasonable to
me.

tim


> -----Original Message-----
> From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On 
> Behalf Of Dean Willis
> Sent: Thursday, March 13, 2008 12:00 PM
> To: IETF SIP List
> Subject: [Sip] The thing we're missing in the RFC 4474 and 
> DTLS-SRTP discussion
> 
> 
> We seem to agree that RFC 4474 assertions involving things that look  
> like phone numbers can not really be trusted, and probably therefore  
> should not be sent.
> 
> However, DTLS-SRTP doesn't function without RFC 4474.
> 
> So, if you need to use DTLS-SRTP to protect a phone call that 
> involves  
> a numeric identity (and that includes E.164, private phone numbers,  
> and numeric user parts of any kind), you end up having to 
> send an RFC  
> 4474 Identity header that is going to mislead people.
> 
> So as things are currently written, one can never use 
> DTLS-SRTP with a  
> numeric userpart in the identity.
> 
> That's the part that we absolutely have to sort out.
> 
> We could fix this by having gateways encode their identity using a  
> reserved userpart. This has to have the  property of saying "Do not  
> display this as caller-ID". Using "sip:domain" or 
> "sip:ipaddress" does  
> not work, as those might actually be valid URIs that be be displayed  
> as IDs.
> 
> It might work to have the gateway use a reserved value, like 
> "sip:pstngateway@domain 
> ".
> 
> Or it might work to extend RFC 4474 to have a "strength of 
> assertion"  
> indicator.
> 
> It's certainly easier to add guidance in DTLS-SRTP about what 
> gateways  
> should do and about how UASes should interpret various header fields  
> than it is to change RFC 4474.
> 
> However, we need to note that a standards-track document cannot say  
> "Use P-Asserted-Identity". That would be an unacceptable downref. It  
> could however say "If the identity encoded in the RFC 4474 Identity  
> header has the reserved userpart "pstngateway", then the UAS 
> MUST NOT  
> display this to the user as the calling party identifier. 
> Rather, the  
> UAS should use other indicators of calling party identity 
> that may be  
> available to it.
> 
> --
> Dean
> _______________________________________________
> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
> 
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu Mar 13 12:46:35 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id D2CD53A6CF9;
	Thu, 13 Mar 2008 12:46:35 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.686
X-Spam-Level: 
X-Spam-Status: No, score=-100.686 tagged_above=-999 required=5
	tests=[AWL=-0.249, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 7OPeYYTfSf3s; Thu, 13 Mar 2008 12:46:35 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 20EAF28C2AA;
	Thu, 13 Mar 2008 12:46:31 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 0760B28C24F
	for <sip@core3.amsl.com>; Thu, 13 Mar 2008 12:46:30 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id nUbInGf4olSJ for <sip@core3.amsl.com>;
	Thu, 13 Mar 2008 12:46:29 -0700 (PDT)
Received: from ihemail3.lucent.com (ihemail3.lucent.com [135.245.0.37])
	by core3.amsl.com (Postfix) with ESMTP id 15BBC28C2AA
	for <sip@ietf.org>; Thu, 13 Mar 2008 12:46:20 -0700 (PDT)
Received: from ilexp03.ndc.lucent.com (h135-3-39-50.lucent.com [135.3.39.50])
	by ihemail3.lucent.com (8.13.8/IER-o) with ESMTP id m2DJhuCi026216
	for <sip@ietf.org>; Thu, 13 Mar 2008 14:44:01 -0500 (CDT)
Received: from DEEXP01.de.lucent.com ([135.248.187.65]) by
	ilexp03.ndc.lucent.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Thu, 13 Mar 2008 14:43:43 -0500
Received: from DEEXC1U01.de.lucent.com ([135.248.187.20]) by
	DEEXP01.de.lucent.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Thu, 13 Mar 2008 20:43:40 +0100
X-MIMEOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Thu, 13 Mar 2008 20:43:39 +0100
Message-ID: <5D1A7985295922448D5550C94DE2918001D293A4@DEEXC1U01.de.lucent.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Issues on outbound
Thread-index: AciFQoksCWApOWvqTKKUAzEfgI//lw==
From: "DRAGE, Keith \(Keith\)" <drage@alcatel-lucent.com>
To: "IETF SIP List" <sip@ietf.org>
X-OriginalArrivalTime: 13 Mar 2008 19:43:40.0540 (UTC)
	FILETIME=[89BF23C0:01C88542]
X-Scanned-By: MIMEDefang 2.57 on 135.245.2.37
Subject: [Sip] Issues on outbound
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

(As SIP WG cochair)

At the SIP WG meeting two issues were raised.

It was agreed to add the following text to the draft.

"A UAC can also use the presence of an 'ob' parameter in the Path
header in a registration response as an indication that its
first edge proxy supports the keepalives defined in this
document."

Flow-timer parameter, in or out?

One person expressed interest in doing anything with this issue.

As it is currently in the draft, we duly decided there was no consensus
to take it out.

If any WG participants have issues with either of the above please shout
urgently, giving some reasoning behind your issue (we are not looking
for preferences here but real technical issues).




The draft will be revised (we have an undertaking from the editors to
see the revised version within a week of IETF). We will then be
scheduling a refresh of the WGLC on the understanding there are no
current open issues.

Now would be a good time to identify any open issues, or indeed any
revisions that should be addressed in the document.

Regards

Keith
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu Mar 13 12:53:26 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 20AE928C585;
	Thu, 13 Mar 2008 12:53:26 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.689
X-Spam-Level: 
X-Spam-Status: No, score=-100.689 tagged_above=-999 required=5
	tests=[AWL=-0.253, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, HTML_MESSAGE=0.001, RDNS_NONE=0.1,
	USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 5gntwHSyPfA6; Thu, 13 Mar 2008 12:53:24 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id C1AB03A69D5;
	Thu, 13 Mar 2008 12:53:24 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id CFA293A69D5
	for <sip@core3.amsl.com>; Thu, 13 Mar 2008 12:53:23 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id SCAORi+MNjYk for <sip@core3.amsl.com>;
	Thu, 13 Mar 2008 12:53:22 -0700 (PDT)
Received: from mailgw4.ericsson.se (mailgw4.ericsson.se [193.180.251.62])
	by core3.amsl.com (Postfix) with ESMTP id 4733B3A68DC
	for <sip@ietf.org>; Thu, 13 Mar 2008 12:53:22 -0700 (PDT)
Received: from mailgw4.ericsson.se (unknown [127.0.0.1])
	by mailgw4.ericsson.se (Symantec Mail Security) with ESMTP id
	0311120F0A; Thu, 13 Mar 2008 20:48:15 +0100 (CET)
X-AuditID: c1b4fb3e-af19abb000004ec0-0e-47d984fea410
Received: from esealmw126.eemea.ericsson.se (unknown [153.88.254.123])
	by mailgw4.ericsson.se (Symantec Mail Security) with ESMTP id
	D0AE420994; Thu, 13 Mar 2008 20:48:14 +0100 (CET)
Received: from esealmw109.eemea.ericsson.se ([153.88.200.2]) by
	esealmw126.eemea.ericsson.se with Microsoft SMTPSVC(6.0.3790.1830); 
	Thu, 13 Mar 2008 20:48:14 +0100
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Thu, 13 Mar 2008 20:48:12 +0100
Message-ID: <2C685FA24AE8004CA8F0DCCC7AF6AD0801F6E816@esealmw109.eemea.ericsson.se>
In-Reply-To: <F66D7286825402429571678A16C2F5EE02640F48@zrc2hxm1.corp.nortel.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] History-Info: UA loose route versus Target header
thread-index: AciFH7Dyq9TdpeR0RBun7/oZCM2XWwAIuM2Q
References: <F66D7286825402429571678A16C2F5EE02640F48@zrc2hxm1.corp.nortel.com>
From: "Hans Erik van Elburg" <hanserik.van.elburg@ericsson.com>
To: "Mary Barnes" <mary.barnes@nortel.com>,
	<sip@ietf.org>
X-OriginalArrivalTime: 13 Mar 2008 19:48:14.0201 (UTC)
	FILETIME=[2CDC7E90:01C88543]
X-Brightmail-Tracker: AAAAAA==
Subject: Re: [Sip] History-Info: UA loose route versus Target header
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: multipart/mixed; boundary="===============0383735934=="
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

This is a multi-part message in MIME format.

--===============0383735934==
Content-class: urn:content-classes:message
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C88543.2CA3740A"

This is a multi-part message in MIME format.

------_=_NextPart_001_01C88543.2CA3740A
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: quoted-printable

Hi Mary,
=20
I dont think that the objective should be to change the fundamental
nature of SIP processing for no good reason. It will break things.
=20
The probem with the History-Info is that one can not distinguish
reroutes from retargets and hence it can not be used for this. If you
disagree with that could you address why you think this is not the case?
=20
/Hans Erik

________________________________

From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On Behalf Of
Mary Barnes
Sent: Thursday, March 13, 2008 11:34 AM
To: sip@ietf.org
Subject: [Sip] History-Info: UA loose route versus Target header



Per my comments at the microphone, here's my assessment of the
difference between the two documents as they apply to History-Info as a
potential solution.

draft-rosenberg-sip-ua-loose-route-02 clearly states that History-Info
functionally can be used to solve the problem described in that
document.  However, Jonathan's objective is to solve a fundamental
problem of not distinguishing routing versus re-targeting (read section
5).  This document would actually change the content of the History-Info
headers for the same requests, just as it's already identified in RFC
4244 that if you have loose routing in general, that the information is
different in History-Info.=20

The document  draft-holmberg-sip-target-uri-delivery-01.txt  doesn't do
anything to change fundamental SIP processing. It just adds another
header that contains information that would already be contained in
History-Info. History-info provides a complete history of the processing
of a request, with the indexing provided by the entries and the reasons,
you know exactly why a request was either "retargetted" or "re-routed".
The examples in the appendix would apply to the use cases you are
attempting to solve as described in Jonathan's document.=20

Mary.=20


------_=_NextPart_001_01C88543.2CA3740A
Content-Type: text/html;
	charset="US-ASCII"
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML><HEAD><TITLE>History-Info: UA loose route versus Target =
header</TITLE>
<META http-equiv=3DContent-Type content=3D"text/html; =
charset=3Dus-ascii">
<META content=3D"MSHTML 6.00.2800.1607" name=3DGENERATOR></HEAD>
<BODY>
<DIV><SPAN class=3D004584319-13032008><FONT face=3DArial color=3D#800000 =
size=3D2>Hi=20
Mary,</FONT></SPAN></DIV>
<DIV><SPAN class=3D004584319-13032008><FONT face=3DArial color=3D#800000 =

size=3D2></FONT></SPAN>&nbsp;</DIV>
<DIV><SPAN class=3D004584319-13032008><FONT face=3DArial color=3D#800000 =
size=3D2>I dont=20
think that the objective should be to change the fundamental nature of =
SIP=20
processing for no good reason. It will break things.</FONT></SPAN></DIV>
<DIV><SPAN class=3D004584319-13032008><FONT face=3DArial color=3D#800000 =

size=3D2></FONT></SPAN>&nbsp;</DIV>
<DIV><SPAN class=3D004584319-13032008><FONT face=3DArial color=3D#800000 =
size=3D2>The=20
probem with the History-Info is that one can not distinguish reroutes =
from=20
retargets and hence it can not be used for this. If you disagree with =
that could=20
you address why you think this is not the case?</FONT></SPAN></DIV>
<DIV><SPAN class=3D004584319-13032008><FONT face=3DArial color=3D#800000 =

size=3D2></FONT></SPAN>&nbsp;</DIV>
<DIV><SPAN class=3D004584319-13032008><FONT face=3DArial color=3D#800000 =
size=3D2>/Hans=20
Erik</FONT></SPAN></DIV><BR>
<DIV class=3DOutlookMessageHeader lang=3Den-us dir=3Dltr align=3Dleft>
<HR tabIndex=3D-1>
<FONT face=3DTahoma size=3D2><B>From:</B> sip-bounces@ietf.org=20
[mailto:sip-bounces@ietf.org] <B>On Behalf Of </B>Mary =
Barnes<BR><B>Sent:</B>=20
Thursday, March 13, 2008 11:34 AM<BR><B>To:</B> =
sip@ietf.org<BR><B>Subject:</B>=20
[Sip] History-Info: UA loose route versus Target =
header<BR></FONT><BR></DIV>
<DIV></DIV><!-- Converted from text/rtf format -->
<P><FONT face=3DArial size=3D2>Per my comments at the microphone, here's =
my=20
assessment of the difference between the two documents as they apply to=20
History-Info as a potential solution.</FONT></P>
<P><FONT face=3DArial size=3D2>draft-rosenberg-sip-ua-loose-route-02 =
clearly states=20
that History-Info functionally can be used to solve the problem =
described in=20
that document.&nbsp; However, Jonathan's objective is to solve a =
fundamental=20
problem of not distinguishing routing versus re-targeting (read section=20
5).&nbsp; This document would actually change the content of the =
History-Info=20
headers for the same requests, just as it's already identified in RFC =
4244 that=20
if you have loose routing in general, that the information is different =
in=20
History-Info. </FONT></P>
<P><FONT face=3DArial size=3D2>The document&nbsp;=20
draft-holmberg-sip-target-uri-delivery-01.txt&nbsp; doesn't do anything =
to=20
change fundamental SIP processing. It just adds another header that =
contains=20
information that would already be contained in History-Info. =
History-info=20
provides a complete history of the processing of a request, with the =
indexing=20
provided by the entries and the reasons, you know exactly why a request =
was=20
either "retargetted" or "re-routed".&nbsp;&nbsp; The examples in the =
appendix=20
would apply to the use cases you are attempting to solve as described in =

Jonathan's document. </FONT></P>
<P><FONT face=3DArial size=3D2>Mary. </FONT></P></BODY></HTML>

------_=_NextPart_001_01C88543.2CA3740A--

--===============0383735934==
Content-Type: text/plain; charset="us-ascii"
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip
--===============0383735934==--


From sip-bounces@ietf.org  Thu Mar 13 14:29:34 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 5270128C259;
	Thu, 13 Mar 2008 14:29:34 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.588
X-Spam-Level: 
X-Spam-Status: No, score=-100.588 tagged_above=-999 required=5
	tests=[AWL=-0.151, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id PTG95AY+VQ6Y; Thu, 13 Mar 2008 14:29:33 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 4A8AC3A6867;
	Thu, 13 Mar 2008 14:29:33 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 6057E3A6867
	for <sip@core3.amsl.com>; Thu, 13 Mar 2008 14:29:32 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id xL6+FPYfm2v6 for <sip@core3.amsl.com>;
	Thu, 13 Mar 2008 14:29:31 -0700 (PDT)
Received: from mailgate.siemenscomms.co.uk (mailgate.siemenscomms.co.uk
	[195.171.110.225])
	by core3.amsl.com (Postfix) with ESMTP id 78FD33A6803
	for <sip@ietf.org>; Thu, 13 Mar 2008 14:29:31 -0700 (PDT)
Received: from GBNTHT12009MSX.gb002.siemens.net ([137.223.219.236])
	by siemenscomms.co.uk (PMDF V6.3-x14 #31430)
	with ESMTP id <0JXO00DADU9DHT@siemenscomms.co.uk> for sip@ietf.org; Thu,
	13 Mar 2008 21:27:13 +0000 (GMT)
Date: Thu, 13 Mar 2008 21:27:10 +0000
From: "Elwell, John" <john.elwell@siemens.com>
To: IETF SIP List <sip@ietf.org>
Message-id: <0D5F89FAC29E2C41B98A6A762007F5D07DB09A@GBNTHT12009MSX.gb002.siemens.net>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft Exchange V6.5
Thread-Topic: SBC impact on RFC 4474
Thread-Index: AciFUP9lLrD8XODmRFSi8pIKh2Uqhw==
Content-class: urn:content-classes:message
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Subject: [Sip] SBC impact on RFC 4474
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

One of the questions raised at the end of the SIP session today was the
following:

"Are there any useful steps for dealing with SDP modification by SBCs?"

SBCs modify SDP (and perhaps other signed information in SIP requests).
One of the reasons is NAT traversal (should not be applicable with ICE,
but I don't think we can always assume that ICE is used). Other reasons
are topology hiding, media shaping, etc.. Such modification breaks RFC
4474 signatures.

SBCs also sometimes change From URIs in SIP requests, as discussed in
draft-kaplan-sip-uris-change-00. We have taken this into account during
our various discussions (in the WG and off-line) on the telephone number
problem, so I want to keep that separate. For this thread, assume an
"email-style" (or non-phone-number-based) From URI that is not modified
by an SBC. Focus instead on modification of other signed information.

I would like to hear views on the following:
- The degree to which this is a problem.
- Existing solution proposals:
    o draft-wing-sip-identity-media-02
    o draft-fischer-sip-e2e-sec-media-00
- Other solution proposals.

John

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu Mar 13 14:48:15 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 8225028C7EF;
	Thu, 13 Mar 2008 14:48:15 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -101.11
X-Spam-Level: 
X-Spam-Status: No, score=-101.11 tagged_above=-999 required=5
	tests=[AWL=-0.674, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, HTML_MESSAGE=0.001, RDNS_NONE=0.1,
	USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id BJahmncXYfTk; Thu, 13 Mar 2008 14:48:15 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 9E3AC28C539;
	Thu, 13 Mar 2008 14:48:02 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 944E228C539
	for <sip@core3.amsl.com>; Thu, 13 Mar 2008 14:48:01 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 4TKp8ShmEvCO for <sip@core3.amsl.com>;
	Thu, 13 Mar 2008 14:47:59 -0700 (PDT)
Received: from zcars04f.nortel.com (zcars04f.nortel.com [47.129.242.57])
	by core3.amsl.com (Postfix) with ESMTP id 68F7228C515
	for <sip@ietf.org>; Thu, 13 Mar 2008 14:47:49 -0700 (PDT)
Received: from zrc2hxm1.corp.nortel.com (zrc2hxm1.corp.nortel.com
	[47.103.123.72])
	by zcars04f.nortel.com (Switch-2.2.6/Switch-2.2.0) with ESMTP id
	m2DLjSF09685; Thu, 13 Mar 2008 21:45:28 GMT
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Thu, 13 Mar 2008 16:43:04 -0500
Message-ID: <F66D7286825402429571678A16C2F5EE02641BFA@zrc2hxm1.corp.nortel.com>
In-Reply-To: <1ECE0EB50388174790F9694F77522CCF15778611@zrc2hxm0.corp.nortel.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] History-Info: UA loose route versus Target header
Thread-Index: AciFH7Dyq9TdpeR0RBun7/oZCM2XWwAGCarQAAFbwaAABT4wIA==
References: <F66D7286825402429571678A16C2F5EE02640F48@zrc2hxm1.corp.nortel.com>
	<0D5F89FAC29E2C41B98A6A762007F5D07DB068@GBNTHT12009MSX.gb002.siemens.net>
	<1ECE0EB50388174790F9694F77522CCF15778611@zrc2hxm0.corp.nortel.com>
From: "Mary Barnes" <mary.barnes@nortel.com>
To: "Francois Audet" <audet@nortel.com>,
	"Elwell, John" <john.elwell@siemens.com>, <sip@ietf.org>
Subject: Re: [Sip] History-Info: UA loose route versus Target header
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: multipart/mixed; boundary="===============1834446452=="
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

This is a multi-part message in MIME format.

--===============1834446452==
Content-class: urn:content-classes:message
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C88553.8D22323E"

This is a multi-part message in MIME format.

------_=_NextPart_001_01C88553.8D22323E
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

You will know whether or not  the last entity that retargeted or routed
the request to the terminator added an HI entry, since the concept of
the old and new is captured - i.e., the entity receiving the request
determines whether the last HI entry matches the request-URI in the
request.  It was a fundamental requirement (CONTENT-Req) that both the
new URI and the one that was retargetted are captured.  In that case,
you can know that the previous HI entry was the request-URI for the
previous hop.  =20
=20
So, in that respect History-Info is better than the Target-ID.  I also
think that if you do the detailed flows for your scenarios, including
the complete HI, you can see the pattern for determining the right entry
to use due to the indices and reasons included in the entries.
Basically, you're moving the logic to the endpoint that receives the
request rather than having the proxies do extra work along the way to
determine what the Target-ID should be.
=20
Mary.=20

________________________________

From: Audet, Francois (SC100:3055)=20
Sent: Thursday, March 13, 2008 2:07 PM
To: Elwell, John; Barnes, Mary (RICH2:AR00); sip@ietf.org
Subject: RE: [Sip] History-Info: UA loose route versus Target header


Well, yes, of course.  That is not a solvable problem.


________________________________

	From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On
Behalf Of Elwell, John
	Sent: Thursday, March 13, 2008 11:30
	To: Barnes, Mary (RICH2:AR00); sip@ietf.org
	Subject: Re: [Sip] History-Info: UA loose route versus Target
header
=09
=09
	One problem identified with Target-Id was that a proxy that
retargets and doesn't support Target-Id might just forward an existing
Target-Id rather than remove it. I think history-info has a similar
property, i.e., the last history entry will not necessarily reflect the
most recent target. Would anybody care to comment on this?
	=20
	John


________________________________

		From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org]
On Behalf Of Mary Barnes
		Sent: 13 March 2008 15:34
		To: sip@ietf.org
		Subject: [Sip] History-Info: UA loose route versus
Target header
	=09
	=09

		Per my comments at the microphone, here's my assessment
of the difference between the two documents as they apply to
History-Info as a potential solution.

		draft-rosenberg-sip-ua-loose-route-02 clearly states
that History-Info functionally can be used to solve the problem
described in that document.  However, Jonathan's objective is to solve a
fundamental problem of not distinguishing routing versus re-targeting
(read section 5).  This document would actually change the content of
the History-Info headers for the same requests, just as it's already
identified in RFC 4244 that if you have loose routing in general, that
the information is different in History-Info.=20

		The document
draft-holmberg-sip-target-uri-delivery-01.txt  doesn't do anything to
change fundamental SIP processing. It just adds another header that
contains information that would already be contained in History-Info.
History-info provides a complete history of the processing of a request,
with the indexing provided by the entries and the reasons, you know
exactly why a request was either "retargetted" or "re-routed".   The
examples in the appendix would apply to the use cases you are attempting
to solve as described in Jonathan's document.=20

		Mary.=20


------_=_NextPart_001_01C88553.8D22323E
Content-Type: text/html;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML><HEAD><TITLE>History-Info: UA loose route versus Target =
header</TITLE>
<META http-equiv=3DContent-Type content=3D"text/html; =
charset=3Dus-ascii">
<META content=3D"MSHTML 6.00.2900.3268" name=3DGENERATOR></HEAD>
<BODY>
<DIV dir=3Dltr align=3Dleft><FONT face=3DArial color=3D#0000ff =
size=3D2><SPAN=20
class=3D718073621-13032008>You will know whether or not &nbsp;the last =
entity that=20
retargeted or routed the request to the terminator added an HI entry, =
since the=20
concept of the old and new is captured - i.e., the entity receiving the =
request=20
determines whether the last HI entry matches the request-URI in the=20
request.&nbsp; It was a fundamental requirement (CONTENT-Req) that both =
the new=20
URI and the one that was retargetted are captured.&nbsp;&nbsp;In that =
case, you=20
can know that the previous HI entry was the request-URI for the previous =

hop.&nbsp;&nbsp; </SPAN></FONT></DIV>
<DIV><FONT face=3DArial color=3D#0000ff size=3D2><SPAN=20
class=3D718073621-13032008></SPAN></FONT>&nbsp;</DIV>
<DIV><FONT face=3DArial color=3D#0000ff size=3D2><SPAN =
class=3D718073621-13032008>So, in=20
that respect History-Info is better than the Target-ID.&nbsp; I also =
think that=20
if you do the detailed flows for your scenarios, including the complete =
HI, you=20
can see the pattern for determining the right entry to use due to the =
indices=20
and reasons included in the entries.&nbsp; Basically, you're moving the =
logic to=20
the endpoint that receives the request rather than having the proxies do =
extra=20
work along the way to determine what the Target-ID should=20
be.</SPAN></FONT></DIV>
<DIV><FONT face=3DArial color=3D#0000ff size=3D2><SPAN=20
class=3D718073621-13032008></SPAN></FONT>&nbsp;</DIV>
<DIV><FONT face=3DArial color=3D#0000ff size=3D2><SPAN =
class=3D718073621-13032008>Mary.=20
</SPAN></FONT></DIV>
<DIV dir=3Dltr align=3Dleft><BR></DIV>
<DIV class=3DOutlookMessageHeader lang=3Den-us dir=3Dltr align=3Dleft>
<HR tabIndex=3D-1>
<FONT face=3DTahoma size=3D2><B>From:</B> Audet, Francois (SC100:3055)=20
<BR><B>Sent:</B> Thursday, March 13, 2008 2:07 PM<BR><B>To:</B> Elwell, =
John;=20
Barnes, Mary (RICH2:AR00); sip@ietf.org<BR><B>Subject:</B> RE: [Sip]=20
History-Info: UA loose route versus Target header<BR></FONT><BR></DIV>
<DIV></DIV>
<DIV dir=3Dltr align=3Dleft><SPAN class=3D433000619-13032008><FONT =
face=3DArial=20
color=3D#800000 size=3D2>Well, yes, of course.&nbsp; That is not a =
solvable=20
problem.</FONT></SPAN><BR></DIV>
<BLOCKQUOTE dir=3Dltr=20
style=3D"PADDING-LEFT: 5px; MARGIN-LEFT: 5px; BORDER-LEFT: #800000 2px =
solid; MARGIN-RIGHT: 0px">
  <DIV class=3DOutlookMessageHeader lang=3Den-us dir=3Dltr align=3Dleft>
  <HR tabIndex=3D-1>
  <FONT face=3DTahoma size=3D2><B>From:</B> sip-bounces@ietf.org=20
  [mailto:sip-bounces@ietf.org] <B>On Behalf Of </B>Elwell, =
John<BR><B>Sent:</B>=20
  Thursday, March 13, 2008 11:30<BR><B>To:</B> Barnes, Mary =
(RICH2:AR00);=20
  sip@ietf.org<BR><B>Subject:</B> Re: [Sip] History-Info: UA loose route =
versus=20
  Target header<BR></FONT><BR></DIV>
  <DIV></DIV>
  <DIV dir=3Dltr align=3Dleft><SPAN class=3D734062718-13032008><FONT =
face=3DArial=20
  color=3D#0000ff size=3D2>One problem identified with Target-Id was =
that a proxy=20
  that retargets and doesn't support Target-Id might just forward an =
existing=20
  Target-Id rather than remove it. I think history-info has a similar =
property,=20
  i.e., the last history entry will not necessarily reflect the most =
recent=20
  target. Would anybody care to comment on this?</FONT></SPAN></DIV>
  <DIV dir=3Dltr align=3Dleft><SPAN class=3D734062718-13032008><FONT =
face=3DArial=20
  color=3D#0000ff size=3D2></FONT></SPAN>&nbsp;</DIV>
  <DIV dir=3Dltr align=3Dleft><SPAN class=3D734062718-13032008><FONT =
face=3DArial=20
  color=3D#0000ff size=3D2>John</FONT></SPAN></DIV><BR>
  <BLOCKQUOTE dir=3Dltr=20
  style=3D"PADDING-LEFT: 5px; MARGIN-LEFT: 5px; BORDER-LEFT: #0000ff 2px =
solid; MARGIN-RIGHT: 0px">
    <DIV class=3DOutlookMessageHeader lang=3Den-us dir=3Dltr =
align=3Dleft>
    <HR tabIndex=3D-1>
    <FONT face=3DTahoma size=3D2><B>From:</B> sip-bounces@ietf.org=20
    [mailto:sip-bounces@ietf.org] <B>On Behalf Of </B>Mary=20
    Barnes<BR><B>Sent:</B> 13 March 2008 15:34<BR><B>To:</B>=20
    sip@ietf.org<BR><B>Subject:</B> [Sip] History-Info: UA loose route =
versus=20
    Target header<BR></FONT><BR></DIV>
    <DIV></DIV><!-- Converted from text/rtf format -->
    <P><FONT face=3DArial size=3D2>Per my comments at the microphone, =
here's my=20
    assessment of the difference between the two documents as they apply =
to=20
    History-Info as a potential solution.</FONT></P>
    <P><FONT face=3DArial size=3D2>draft-rosenberg-sip-ua-loose-route-02 =
clearly=20
    states that History-Info functionally can be used to solve the =
problem=20
    described in that document.&nbsp; However, Jonathan's objective is =
to solve=20
    a fundamental problem of not distinguishing routing versus =
re-targeting=20
    (read section 5).&nbsp; This document would actually change the =
content of=20
    the History-Info headers for the same requests, just as it's already =

    identified in RFC 4244 that if you have loose routing in general, =
that the=20
    information is different in History-Info. </FONT></P>
    <P><FONT face=3DArial size=3D2>The document&nbsp;=20
    draft-holmberg-sip-target-uri-delivery-01.txt&nbsp; doesn't do =
anything to=20
    change fundamental SIP processing. It just adds another header that =
contains=20
    information that would already be contained in History-Info. =
History-info=20
    provides a complete history of the processing of a request, with the =

    indexing provided by the entries and the reasons, you know exactly =
why a=20
    request was either "retargetted" or "re-routed".&nbsp;&nbsp; The =
examples in=20
    the appendix would apply to the use cases you are attempting to =
solve as=20
    described in Jonathan's document. </FONT></P>
    <P><FONT face=3DArial size=3D2>Mary.=20
</FONT></P></BLOCKQUOTE></BLOCKQUOTE></BODY></HTML>

------_=_NextPart_001_01C88553.8D22323E--

--===============1834446452==
Content-Type: text/plain; charset="us-ascii"
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip
--===============1834446452==--


From sip-bounces@ietf.org  Thu Mar 13 14:53:47 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 2245F28C854;
	Thu, 13 Mar 2008 14:53:47 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -101.141
X-Spam-Level: 
X-Spam-Status: No, score=-101.141 tagged_above=-999 required=5
	tests=[AWL=-0.705, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, HTML_MESSAGE=0.001, RDNS_NONE=0.1,
	USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id I8rfsVt0chsa; Thu, 13 Mar 2008 14:53:46 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 4CE043A6E69;
	Thu, 13 Mar 2008 14:51:49 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 86D653A6ECE
	for <sip@core3.amsl.com>; Thu, 13 Mar 2008 14:51:47 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id AHwkxhWuoG96 for <sip@core3.amsl.com>;
	Thu, 13 Mar 2008 14:51:46 -0700 (PDT)
Received: from zrtps0kn.nortel.com (zrtps0kn.nortel.com [47.140.192.55])
	by core3.amsl.com (Postfix) with ESMTP id 3A57528C29E
	for <sip@ietf.org>; Thu, 13 Mar 2008 14:51:41 -0700 (PDT)
Received: from zrc2hxm1.corp.nortel.com (zrc2hxm1.corp.nortel.com
	[47.103.123.72])
	by zrtps0kn.nortel.com (Switch-2.2.6/Switch-2.2.0) with ESMTP id
	m2DLnLq07569; Thu, 13 Mar 2008 21:49:21 GMT
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Thu, 13 Mar 2008 16:46:40 -0500
Message-ID: <F66D7286825402429571678A16C2F5EE02641C0F@zrc2hxm1.corp.nortel.com>
In-Reply-To: <2C685FA24AE8004CA8F0DCCC7AF6AD0801F6E816@esealmw109.eemea.ericsson.se>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] History-Info: UA loose route versus Target header
Thread-Index: AciFH7Dyq9TdpeR0RBun7/oZCM2XWwAIuM2QAAQsRgA=
References: <F66D7286825402429571678A16C2F5EE02640F48@zrc2hxm1.corp.nortel.com>
	<2C685FA24AE8004CA8F0DCCC7AF6AD0801F6E816@esealmw109.eemea.ericsson.se>
From: "Mary Barnes" <mary.barnes@nortel.com>
To: "Hans Erik van Elburg" <hanserik.van.elburg@ericsson.com>, <sip@ietf.org>
Subject: Re: [Sip] History-Info: UA loose route versus Target header
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: multipart/mixed; boundary="===============0812628789=="
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

This is a multi-part message in MIME format.

--===============0812628789==
Content-class: urn:content-classes:message
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C88554.0E694A81"

This is a multi-part message in MIME format.

------_=_NextPart_001_01C88554.0E694A81
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

You can tell retargets versus rerouting due to combination of the
reasons in the various responses and the indices.  With the indices you
can get a trace (in the form of a tree structure due to the nesting of
the indices) that shows the entire history of a request.=20
=20
Mary.=20

________________________________

From: Hans Erik van Elburg [mailto:hanserik.van.elburg@ericsson.com]=20
Sent: Thursday, March 13, 2008 2:48 PM
To: Barnes, Mary (RICH2:AR00); sip@ietf.org
Subject: RE: [Sip] History-Info: UA loose route versus Target header


Hi Mary,
=20
I dont think that the objective should be to change the fundamental
nature of SIP processing for no good reason. It will break things.
=20
The probem with the History-Info is that one can not distinguish
reroutes from retargets and hence it can not be used for this. If you
disagree with that could you address why you think this is not the case?
=20
/Hans Erik

________________________________

From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On Behalf Of
Mary Barnes
Sent: Thursday, March 13, 2008 11:34 AM
To: sip@ietf.org
Subject: [Sip] History-Info: UA loose route versus Target header



Per my comments at the microphone, here's my assessment of the
difference between the two documents as they apply to History-Info as a
potential solution.

draft-rosenberg-sip-ua-loose-route-02 clearly states that History-Info
functionally can be used to solve the problem described in that
document.  However, Jonathan's objective is to solve a fundamental
problem of not distinguishing routing versus re-targeting (read section
5).  This document would actually change the content of the History-Info
headers for the same requests, just as it's already identified in RFC
4244 that if you have loose routing in general, that the information is
different in History-Info.=20

The document  draft-holmberg-sip-target-uri-delivery-01.txt  doesn't do
anything to change fundamental SIP processing. It just adds another
header that contains information that would already be contained in
History-Info. History-info provides a complete history of the processing
of a request, with the indexing provided by the entries and the reasons,
you know exactly why a request was either "retargetted" or "re-routed".
The examples in the appendix would apply to the use cases you are
attempting to solve as described in Jonathan's document.=20

Mary.=20


------_=_NextPart_001_01C88554.0E694A81
Content-Type: text/html;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML><HEAD><TITLE>History-Info: UA loose route versus Target =
header</TITLE>
<META http-equiv=3DContent-Type content=3D"text/html; =
charset=3Dus-ascii">
<META content=3D"MSHTML 6.00.2900.3268" name=3DGENERATOR></HEAD>
<BODY>
<DIV dir=3Dltr align=3Dleft><FONT face=3DArial color=3D#0000ff =
size=3D2><SPAN=20
class=3D093274321-13032008>You can tell retargets versus rerouting due =
to=20
combination of the reasons in the various responses and the =
indices.&nbsp; With=20
the indices you can get a trace (in the form of a tree structure due to =
the=20
nesting of the indices) that shows the entire history of a=20
request.&nbsp;</SPAN></FONT></DIV>
<DIV dir=3Dltr align=3Dleft><FONT face=3DArial color=3D#0000ff =
size=3D2><SPAN=20
class=3D093274321-13032008></SPAN></FONT><FONT face=3DArial =
color=3D#0000ff=20
size=3D2><SPAN class=3D093274321-13032008></SPAN></FONT>&nbsp;</DIV>
<DIV dir=3Dltr align=3Dleft><FONT face=3DArial color=3D#0000ff =
size=3D2><SPAN=20
class=3D093274321-13032008>Mary. </SPAN></FONT></DIV><BR>
<DIV class=3DOutlookMessageHeader lang=3Den-us dir=3Dltr align=3Dleft>
<HR tabIndex=3D-1>
<FONT face=3DTahoma size=3D2><B>From:</B> Hans Erik van Elburg=20
[mailto:hanserik.van.elburg@ericsson.com] <BR><B>Sent:</B> Thursday, =
March 13,=20
2008 2:48 PM<BR><B>To:</B> Barnes, Mary (RICH2:AR00);=20
sip@ietf.org<BR><B>Subject:</B> RE: [Sip] History-Info: UA loose route =
versus=20
Target header<BR></FONT><BR></DIV>
<DIV></DIV>
<DIV><SPAN class=3D004584319-13032008><FONT face=3DArial color=3D#800000 =
size=3D2>Hi=20
Mary,</FONT></SPAN></DIV>
<DIV><SPAN class=3D004584319-13032008><FONT face=3DArial color=3D#800000 =

size=3D2></FONT></SPAN>&nbsp;</DIV>
<DIV><SPAN class=3D004584319-13032008><FONT face=3DArial color=3D#800000 =
size=3D2>I dont=20
think that the objective should be to change the fundamental nature of =
SIP=20
processing for no good reason. It will break things.</FONT></SPAN></DIV>
<DIV><SPAN class=3D004584319-13032008><FONT face=3DArial color=3D#800000 =

size=3D2></FONT></SPAN>&nbsp;</DIV>
<DIV><SPAN class=3D004584319-13032008><FONT face=3DArial color=3D#800000 =
size=3D2>The=20
probem with the History-Info is that one can not distinguish reroutes =
from=20
retargets and hence it can not be used for this. If you disagree with =
that could=20
you address why you think this is not the case?</FONT></SPAN></DIV>
<DIV><SPAN class=3D004584319-13032008><FONT face=3DArial color=3D#800000 =

size=3D2></FONT></SPAN>&nbsp;</DIV>
<DIV><SPAN class=3D004584319-13032008><FONT face=3DArial color=3D#800000 =
size=3D2>/Hans=20
Erik</FONT></SPAN></DIV><BR>
<DIV class=3DOutlookMessageHeader lang=3Den-us dir=3Dltr align=3Dleft>
<HR tabIndex=3D-1>
<FONT face=3DTahoma size=3D2><B>From:</B> sip-bounces@ietf.org=20
[mailto:sip-bounces@ietf.org] <B>On Behalf Of </B>Mary =
Barnes<BR><B>Sent:</B>=20
Thursday, March 13, 2008 11:34 AM<BR><B>To:</B> =
sip@ietf.org<BR><B>Subject:</B>=20
[Sip] History-Info: UA loose route versus Target =
header<BR></FONT><BR></DIV>
<DIV></DIV><!-- Converted from text/rtf format -->
<P><FONT face=3DArial size=3D2>Per my comments at the microphone, here's =
my=20
assessment of the difference between the two documents as they apply to=20
History-Info as a potential solution.</FONT></P>
<P><FONT face=3DArial size=3D2>draft-rosenberg-sip-ua-loose-route-02 =
clearly states=20
that History-Info functionally can be used to solve the problem =
described in=20
that document.&nbsp; However, Jonathan's objective is to solve a =
fundamental=20
problem of not distinguishing routing versus re-targeting (read section=20
5).&nbsp; This document would actually change the content of the =
History-Info=20
headers for the same requests, just as it's already identified in RFC =
4244 that=20
if you have loose routing in general, that the information is different =
in=20
History-Info. </FONT></P>
<P><FONT face=3DArial size=3D2>The document&nbsp;=20
draft-holmberg-sip-target-uri-delivery-01.txt&nbsp; doesn't do anything =
to=20
change fundamental SIP processing. It just adds another header that =
contains=20
information that would already be contained in History-Info. =
History-info=20
provides a complete history of the processing of a request, with the =
indexing=20
provided by the entries and the reasons, you know exactly why a request =
was=20
either "retargetted" or "re-routed".&nbsp;&nbsp; The examples in the =
appendix=20
would apply to the use cases you are attempting to solve as described in =

Jonathan's document. </FONT></P>
<P><FONT face=3DArial size=3D2>Mary. </FONT></P></BODY></HTML>

------_=_NextPart_001_01C88554.0E694A81--

--===============0812628789==
Content-Type: text/plain; charset="us-ascii"
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip
--===============0812628789==--


From sip-bounces@ietf.org  Thu Mar 13 15:19:36 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id EF43228C89F;
	Thu, 13 Mar 2008 15:19:36 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.273
X-Spam-Level: 
X-Spam-Status: No, score=-100.273 tagged_above=-999 required=5
	tests=[AWL=-0.436, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, J_CHICKENPOX_45=0.6, RDNS_NONE=0.1,
	USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id QgUr4HGrtLtg; Thu, 13 Mar 2008 15:19:35 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 6AD7528C22A;
	Thu, 13 Mar 2008 15:19:35 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id D020228C166
	for <sip@core3.amsl.com>; Thu, 13 Mar 2008 15:19:33 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id MQ9mKiTrVe2k for <sip@core3.amsl.com>;
	Thu, 13 Mar 2008 15:19:32 -0700 (PDT)
Received: from mailgate.siemenscomms.co.uk (mailgate.siemenscomms.co.uk
	[195.171.110.225])
	by core3.amsl.com (Postfix) with ESMTP id 70B4428C22A
	for <sip@ietf.org>; Thu, 13 Mar 2008 15:19:32 -0700 (PDT)
Received: from GBNTHT12009MSX.gb002.siemens.net ([137.223.219.236])
	by siemenscomms.co.uk (PMDF V6.3-x14 #31430)
	with ESMTP id <0JXO00G48WKQQ0@siemenscomms.co.uk> for sip@ietf.org; Thu,
	13 Mar 2008 22:17:14 +0000 (GMT)
Date: Thu, 13 Mar 2008 22:17:11 +0000
From: "Elwell, John" <john.elwell@siemens.com>
In-reply-to: <092B2658AAB56A4D80836399A4C4703103D07C27@ASHEVS002.mcilink.com>
To: "Dwight, Timothy M (Tim)" <timothy.dwight@verizonbusiness.com>,
	IETF SIP List <sip@ietf.org>
Message-id: <0D5F89FAC29E2C41B98A6A762007F5D07DB0A2@GBNTHT12009MSX.gb002.siemens.net>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft Exchange V6.5
Thread-Topic: [Sip] The thing we're missing in the RFC 4474 and
	DTLS-SRTPdiscussion
Thread-Index: AciFI5YbIRH7as9BRI6LOp3qb71tsgADi3bQAAkEwCA=
Content-class: urn:content-classes:message
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
References: <B0495A1B-2677-4FCE-B718-3C48DCF5205B@softarmor.com>
	<092B2658AAB56A4D80836399A4C4703103D07C27@ASHEVS002.mcilink.com>
Subject: Re: [Sip] The thing we're missing in the RFC 4474
	and	DTLS-SRTPdiscussion
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Quite right. PSTN gateways present their own problems, but just the use
of number-based SIP URIs for communications within the SIP environment
also has some issues, i.e., the fact that the number has meaning without
the domain part, and thus the temptation to modify the domain part. As
part of the straw man proposal presented today in the meeting, it was
suggested that a domain can sign a number-based SIP URI if it believes
that calls to that number can reach the user via that domain. So that is
all you can assume about the domain part of such a URI.

Of course, this leads to the question of when is a SIP URI number-based
and when is it not. In theory, the user=phone parameter could be the
criterion, so that if user=phone is absent a relying party could assume
that the domain indicated in the URI is the "home" domain for that user.
In practice, it appears there are implementations that modify the domain
part of any URI that looks like it contains a phone number in the user
part. That would appear to be broken, in that return routability would
be lost. However, in practice, often a numeric user part IS a phone
number, and assuming global uniqueness, return routability perhaps is
achievable.

So there seems to be rather a grey line between trusting or not trusting
the domain part of a SIP URI as being the "home" domain of the user. We
have to try to figure out how to address this and give reasonable advice
to relying parties.

John

> -----Original Message-----
> From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On 
> Behalf Of Dwight, Timothy M (Tim)
> Sent: 13 March 2008 19:28
> To: IETF SIP List
> Subject: Re: [Sip] The thing we're missing in the RFC 4474 
> and DTLS-SRTPdiscussion
> 
> I don't understand the focus on PSTN gateways.  Is it 
> believed that only
> PSTN gateways ever create URIs with numeric user parts?  Or that PSTN
> gateways are particularly untrustworthy?  Neither seems reasonable to
> me.
> 
> tim
> 
> 
> > -----Original Message-----
> > From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On 
> > Behalf Of Dean Willis
> > Sent: Thursday, March 13, 2008 12:00 PM
> > To: IETF SIP List
> > Subject: [Sip] The thing we're missing in the RFC 4474 and 
> > DTLS-SRTP discussion
> > 
> > 
> > We seem to agree that RFC 4474 assertions involving things 
> that look  
> > like phone numbers can not really be trusted, and probably 
> therefore  
> > should not be sent.
> > 
> > However, DTLS-SRTP doesn't function without RFC 4474.
> > 
> > So, if you need to use DTLS-SRTP to protect a phone call that 
> > involves  
> > a numeric identity (and that includes E.164, private phone 
> numbers,  
> > and numeric user parts of any kind), you end up having to 
> > send an RFC  
> > 4474 Identity header that is going to mislead people.
> > 
> > So as things are currently written, one can never use 
> > DTLS-SRTP with a  
> > numeric userpart in the identity.
> > 
> > That's the part that we absolutely have to sort out.
> > 
> > We could fix this by having gateways encode their identity using a  
> > reserved userpart. This has to have the  property of saying 
> "Do not  
> > display this as caller-ID". Using "sip:domain" or 
> > "sip:ipaddress" does  
> > not work, as those might actually be valid URIs that be be 
> displayed  
> > as IDs.
> > 
> > It might work to have the gateway use a reserved value, like 
> > "sip:pstngateway@domain 
> > ".
> > 
> > Or it might work to extend RFC 4474 to have a "strength of 
> > assertion"  
> > indicator.
> > 
> > It's certainly easier to add guidance in DTLS-SRTP about what 
> > gateways  
> > should do and about how UASes should interpret various 
> header fields  
> > than it is to change RFC 4474.
> > 
> > However, we need to note that a standards-track document 
> cannot say  
> > "Use P-Asserted-Identity". That would be an unacceptable 
> downref. It  
> > could however say "If the identity encoded in the RFC 4474 
> Identity  
> > header has the reserved userpart "pstngateway", then the UAS 
> > MUST NOT  
> > display this to the user as the calling party identifier. 
> > Rather, the  
> > UAS should use other indicators of calling party identity 
> > that may be  
> > available to it.
> > 
> > --
> > Dean
> > _______________________________________________
> > Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> > This list is for NEW development of the core SIP Protocol
> > Use sip-implementors@cs.columbia.edu for questions on current sip
> > Use sipping@ietf.org for new developments on the application of sip
> > 
> _______________________________________________
> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
> 
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu Mar 13 15:24:22 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 9223D3A6EFD;
	Thu, 13 Mar 2008 15:24:22 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.621
X-Spam-Level: 
X-Spam-Status: No, score=-100.621 tagged_above=-999 required=5
	tests=[AWL=-0.184, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id kn58xwv13qNm; Thu, 13 Mar 2008 15:24:18 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 984763A6CD5;
	Thu, 13 Mar 2008 15:24:18 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 238CA3A67C0
	for <sip@core3.amsl.com>; Thu, 13 Mar 2008 15:24:17 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id ud7dRk5dkX3O for <sip@core3.amsl.com>;
	Thu, 13 Mar 2008 15:24:16 -0700 (PDT)
Received: from nylon.softarmor.com (nylon.softarmor.com [66.135.38.164])
	by core3.amsl.com (Postfix) with ESMTP id 4A22A3A6981
	for <sip@ietf.org>; Thu, 13 Mar 2008 15:24:16 -0700 (PDT)
Received: from [130.129.87.72] ([130.129.87.72]) (authenticated bits=0)
	by nylon.softarmor.com (8.13.8/8.13.8/Debian-3) with ESMTP id
	m2DMKQCF016722
	(version=TLSv1/SSLv3 cipher=AES128-SHA bits=128 verify=NOT);
	Thu, 13 Mar 2008 17:20:27 -0500
Message-Id: <56CE5A6E-8F4F-4210-976D-36BF8AFE9302@softarmor.com>
From: Dean Willis <dean.willis@softarmor.com>
To: Hannes Tschofenig <Hannes.Tschofenig@gmx.net>
In-Reply-To: <47D92DF6.8030909@gmx.net>
Mime-Version: 1.0 (Apple Message framework v919.2)
Date: Thu, 13 Mar 2008 18:20:20 -0400
References: <20080312201611.DF1CD28C838@core3.amsl.com>
	<47D887E9.8000407@cisco.com> <47D92DF6.8030909@gmx.net>
X-Mailer: Apple Mail (2.919.2)
Cc: sip@ietf.org, Paul Kyzivat <pkyzivat@cisco.com>
Subject: Re: [Sip] comments on draft-rosenberg-sip-rfc4474-concerns-00
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


On Mar 13, 2008, at 9:36 AM, Hannes Tschofenig wrote:

> Some of these aspects are in fact not a topic for SIP Identity.
> Reason: SIP Identity leaves authorization open.
>
> If I configure my authorization check procedure to look for  
> +19785551234
> then there has to be a way to assert that I am that particular  
> identity.
> The concept of domain does obviously not matter here -- since there  
> just
> is no domain.

Well, there might be. For example, I might be able to look into the  
ENUM database and find out what cert (by domain) is supposed to be  
used to sign requests for that E.164 number. Or, I might be configured  
with a bunch of certs, each of which lists as part of its attribute  
set a range of phone numbers that it can sign.

--
Dean

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu Mar 13 15:28:35 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 6A0B13A6CF9;
	Thu, 13 Mar 2008 15:28:35 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.632
X-Spam-Level: 
X-Spam-Status: No, score=-100.632 tagged_above=-999 required=5
	tests=[AWL=-0.195, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id u8halVJGiGqY; Thu, 13 Mar 2008 15:28:34 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 73DEB3A699E;
	Thu, 13 Mar 2008 15:28:34 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id F247D3A67C0
	for <sip@core3.amsl.com>; Thu, 13 Mar 2008 15:28:32 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id OG8Mc183NGWG for <sip@core3.amsl.com>;
	Thu, 13 Mar 2008 15:28:29 -0700 (PDT)
Received: from nylon.softarmor.com (nylon.softarmor.com [66.135.38.164])
	by core3.amsl.com (Postfix) with ESMTP id 214893A6C44
	for <sip@ietf.org>; Thu, 13 Mar 2008 15:28:29 -0700 (PDT)
Received: from [130.129.87.72] ([130.129.87.72]) (authenticated bits=0)
	by nylon.softarmor.com (8.13.8/8.13.8/Debian-3) with ESMTP id
	m2DMQ9FT016747
	(version=TLSv1/SSLv3 cipher=AES128-SHA bits=128 verify=NOT);
	Thu, 13 Mar 2008 17:26:11 -0500
Message-Id: <72BD602C-7985-4E8F-ADEC-A37F5E7F437E@softarmor.com>
From: Dean Willis <dean.willis@softarmor.com>
To: Adam Roach <adam@nostrum.com>
In-Reply-To: <47D96B4B.30308@nostrum.com>
Mime-Version: 1.0 (Apple Message framework v919.2)
Date: Thu, 13 Mar 2008 18:26:04 -0400
References: <B0495A1B-2677-4FCE-B718-3C48DCF5205B@softarmor.com>
	<47D96B4B.30308@nostrum.com>
X-Mailer: Apple Mail (2.919.2)
Cc: IETF SIP List <sip@ietf.org>
Subject: Re: [Sip] The thing we're missing in the RFC 4474 and
	DTLS-SRTP	discussion
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


On Mar 13, 2008, at 1:58 PM, Adam Roach wrote:

> On 3/13/08 11:59 AM, Dean Willis wrote:
>> We could fix this by having gateways encode their identity using a   
>> reserved userpart. This has to have the  property of saying "Do  
>> not  display this as caller-ID". Using "sip:domain" or  
>> "sip:ipaddress" does  not work, as those might actually be valid  
>> URIs that be be displayed  as IDs.
>>
>
> That's the problem I have -- if the calling party reported by the  
> PSTN has been completely pulled out of the "From" header field, then  
> you'll have very bad interaction with currently deployed phones. I  
> don't think that's a reasonable trade-off. That's why I think this...

That;s why John proposed P-AI-ID as the Caller-ID source.
>
>
>> It might work to have the gateway use a reserved value, like "sip:pstngateway@domain 
>> ".
>>
>
> ...is a non-starter.

How about:
	From: +12142821376 <sip:gateway@softarmor.com>

>
>
>
>> Or it might work to extend RFC 4474 to have a "strength of  
>> assertion"  indicator.
>>
>
> You mean something like:
> From: <sip:+12145551212@example.com;user=phone;trusted=no> ?
>
> Or something more like:
> Identity: "LotsOfBase64EncodedGunk==";trusted=no
>
> (I acknowledge that this can be more nuanced than yes/no, but let's  
> decide where the bike shed goes before we begin the argument about  
> its color).

yeah, those might work as well. Although this approach has the  
advantage of not modifying RFC 4474, just giving guidance about how  
gateways could use it. This could be done in DTLS-framework.

>
>
>> It's certainly easier to add guidance in DTLS-SRTP about what  
>> gateways  should do and about how UASes should interpret various  
>> header fields  than it is to change RFC 4474.
>>
>
> That would argue for some indication on the *From* header field that  
> indicates a level of trust. I'm not sure it's really the proper  
> place to place that information, from a semantic perspective -- but  
> it does seem to be a potential way to get through this maze of  
> thorns without losing too much blood.

I like it.


--
Dean
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu Mar 13 15:34:09 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id D8D2A28C843;
	Thu, 13 Mar 2008 15:34:09 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.327
X-Spam-Level: 
X-Spam-Status: No, score=-100.327 tagged_above=-999 required=5
	tests=[AWL=-0.490, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, J_CHICKENPOX_21=0.6, RDNS_NONE=0.1,
	USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id xsMjNpVLSc94; Thu, 13 Mar 2008 15:34:08 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 4D8DB28C281;
	Thu, 13 Mar 2008 15:34:07 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id E46B428C281
	for <sip@core3.amsl.com>; Thu, 13 Mar 2008 15:34:04 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id RSMxhEQ4VuEV for <sip@core3.amsl.com>;
	Thu, 13 Mar 2008 15:34:03 -0700 (PDT)
Received: from nylon.softarmor.com (nylon.softarmor.com [66.135.38.164])
	by core3.amsl.com (Postfix) with ESMTP id 56DBF28C843
	for <sip@ietf.org>; Thu, 13 Mar 2008 15:32:50 -0700 (PDT)
Received: from [130.129.87.72] ([130.129.87.72]) (authenticated bits=0)
	by nylon.softarmor.com (8.13.8/8.13.8/Debian-3) with ESMTP id
	m2DMUUeQ016773
	(version=TLSv1/SSLv3 cipher=AES128-SHA bits=128 verify=NOT);
	Thu, 13 Mar 2008 17:30:32 -0500
Message-Id: <BC5EF98E-8178-43E0-A57F-9BC8A1B90552@softarmor.com>
From: Dean Willis <dean.willis@softarmor.com>
To: "Dwight, Timothy M (Tim)" <timothy.dwight@verizonbusiness.com>
In-Reply-To: <092B2658AAB56A4D80836399A4C4703103D07C27@ASHEVS002.mcilink.com>
Mime-Version: 1.0 (Apple Message framework v919.2)
Date: Thu, 13 Mar 2008 18:30:24 -0400
References: <B0495A1B-2677-4FCE-B718-3C48DCF5205B@softarmor.com>
	<092B2658AAB56A4D80836399A4C4703103D07C27@ASHEVS002.mcilink.com>
X-Mailer: Apple Mail (2.919.2)
Cc: IETF SIP List <sip@ietf.org>
Subject: Re: [Sip] The thing we're missing in the RFC 4474 and
	DTLS-SRTP	discussion
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


On Mar 13, 2008, at 3:27 PM, Dwight, Timothy M (Tim) wrote:

> I don't understand the focus on PSTN gateways.  Is it believed that  
> only
> PSTN gateways ever create URIs with numeric user parts?  Or that PSTN
> gateways are particularly untrustworthy?  Neither seems reasonable to
> me.

Here's the good news. Sine there are very few (aka none)  
implementations of RFC 4474 in the field now, we might be able to  
argue that by providing a way to properly handle PSTN numbers at  
gateways BEFORE we get deployment lets us work around the problem.

As for numeric user IDs, there's no technical reason that  "sip:+1214282136@example.com 
;" can't REGISTER and authenticate as the authorized user at  
"example.com". So, pure IP endpoints can authenticate using Identity.  
It;s the behavior of the PSTN gateways that induces the problem.

--
dean

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu Mar 13 15:40:40 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 13A5728C80D;
	Thu, 13 Mar 2008 15:40:40 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.206
X-Spam-Level: 
X-Spam-Status: No, score=-100.206 tagged_above=-999 required=5
	tests=[AWL=-0.369, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, J_CHICKENPOX_41=0.6, RDNS_NONE=0.1,
	USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id yhiCwpwCGPVC; Thu, 13 Mar 2008 15:40:39 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id E08B428C281;
	Thu, 13 Mar 2008 15:40:38 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 9D1F528C22E
	for <sip@core3.amsl.com>; Thu, 13 Mar 2008 15:40:37 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id HjhcgM0oAvnW for <sip@core3.amsl.com>;
	Thu, 13 Mar 2008 15:40:36 -0700 (PDT)
Received: from nostrum.com (nostrum-pt.tunnel.tserv2.fmt.ipv6.he.net
	[IPv6:2001:470:1f03:267::2])
	by core3.amsl.com (Postfix) with ESMTP id 6EB7228C182
	for <sip@ietf.org>; Thu, 13 Mar 2008 15:40:36 -0700 (PDT)
Received: from orthrus.local ([130.129.87.39]) (authenticated bits=0)
	by nostrum.com (8.14.2/8.14.1) with ESMTP id m2DMcGg5004340
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO);
	Thu, 13 Mar 2008 17:38:17 -0500 (CDT)
	(envelope-from adam@nostrum.com)
Message-ID: <47D9ACD8.2030805@nostrum.com>
Date: Thu, 13 Mar 2008 18:38:16 -0400
From: Adam Roach <adam@nostrum.com>
User-Agent: Thunderbird 2.0.0.12 (Macintosh/20080213)
MIME-Version: 1.0
To: Dean Willis <dean.willis@softarmor.com>
References: <B0495A1B-2677-4FCE-B718-3C48DCF5205B@softarmor.com>
	<47D96B4B.30308@nostrum.com>
	<72BD602C-7985-4E8F-ADEC-A37F5E7F437E@softarmor.com>
In-Reply-To: <72BD602C-7985-4E8F-ADEC-A37F5E7F437E@softarmor.com>
Received-SPF: pass (nostrum.com: 130.129.87.39 is authenticated by a trusted
	mechanism)
X-Virus-Scanned: ClamAV 0.92.1/6225/Thu Mar 13 09:52:37 2008 on
	shaman.nostrum.com
X-Virus-Status: Clean
Cc: IETF SIP List <sip@ietf.org>
Subject: Re: [Sip] The thing we're missing in the RFC 4474 and
	DTLS-SRTP	discussion
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

I'll reiterate my key point here at the top: we cannot retroactively 
change the behavior of deployed user agents. All we can do is make sure 
what we're proposing doesn't make do stupid and/or useless things.

More inline.

On 3/13/08 6:26 PM, Dean Willis wrote:
>
> On Mar 13, 2008, at 1:58 PM, Adam Roach wrote:
>
>> On 3/13/08 11:59 AM, Dean Willis wrote:
>>> We could fix this by having gateways encode their identity using a  
>>> reserved userpart. This has to have the  property of saying "Do not  
>>> display this as caller-ID". Using "sip:domain" or "sip:ipaddress" 
>>> does  not work, as those might actually be valid URIs that be be 
>>> displayed  as IDs.
>>>
>>
>> That's the problem I have -- if the calling party reported by the 
>> PSTN has been completely pulled out of the "From" header field, then 
>> you'll have very bad interaction with currently deployed phones. I 
>> don't think that's a reasonable trade-off. That's why I think this...
>
> That;s why John proposed P-AI-ID as the Caller-ID source.


The phone on my desk would treat that like any other unknown header, and 
ignore it.

>
>>
>>
>>> It might work to have the gateway use a reserved value, like 
>>> "sip:pstngateway@domain".
>>>
>>
>> ...is a non-starter.
>
> How about:
>     From: +12142821376 <sip:gateway@softarmor.com>
>


If I missed that call, the phone on my desk would helpfully offer to 
call "sip:gateway@softarmor.com" when I got back. I don't think I'll be 
happy with the results.


>> That would argue for some indication on the *From* header field that 
>> indicates a level of trust. I'm not sure it's really the proper place 
>> to place that information, from a semantic perspective -- but it does 
>> seem to be a potential way to get through this maze of thorns without 
>> losing too much blood.
>
> I like it.

Okay, we might be getting somewhere then. Anyone else?

/a
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu Mar 13 15:49:21 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 8CEEB28C2D9;
	Thu, 13 Mar 2008 15:49:21 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.493
X-Spam-Level: 
X-Spam-Status: No, score=-100.493 tagged_above=-999 required=5
	tests=[AWL=-0.056, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 64tIaih6++pQ; Thu, 13 Mar 2008 15:49:20 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 8ECEB28C15D;
	Thu, 13 Mar 2008 15:49:20 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 33BFD28C0F1
	for <sip@core3.amsl.com>; Thu, 13 Mar 2008 15:49:20 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id y-6VkEcDC5wP for <sip@core3.amsl.com>;
	Thu, 13 Mar 2008 15:49:19 -0700 (PDT)
Received: from nostrum.com (nostrum-pt.tunnel.tserv2.fmt.ipv6.he.net
	[IPv6:2001:470:1f03:267::2])
	by core3.amsl.com (Postfix) with ESMTP id 1F35D3A688C
	for <sip@ietf.org>; Thu, 13 Mar 2008 15:49:18 -0700 (PDT)
Received: from orthrus.local ([130.129.87.39]) (authenticated bits=0)
	by nostrum.com (8.14.2/8.14.1) with ESMTP id m2DMkxjA004844
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO);
	Thu, 13 Mar 2008 17:46:59 -0500 (CDT)
	(envelope-from adam@nostrum.com)
Message-ID: <47D9AEE3.1010904@nostrum.com>
Date: Thu, 13 Mar 2008 18:46:59 -0400
From: Adam Roach <adam@nostrum.com>
User-Agent: Thunderbird 2.0.0.12 (Macintosh/20080213)
MIME-Version: 1.0
To: "Dwight, Timothy M (Tim)" <timothy.dwight@verizonbusiness.com>
References: <B0495A1B-2677-4FCE-B718-3C48DCF5205B@softarmor.com>
	<092B2658AAB56A4D80836399A4C4703103D07C27@ASHEVS002.mcilink.com>
In-Reply-To: <092B2658AAB56A4D80836399A4C4703103D07C27@ASHEVS002.mcilink.com>
Received-SPF: pass (nostrum.com: 130.129.87.39 is authenticated by a trusted
	mechanism)
X-Virus-Scanned: ClamAV 0.92.1/6225/Thu Mar 13 09:52:37 2008 on
	shaman.nostrum.com
X-Virus-Status: Clean
Cc: IETF SIP List <sip@ietf.org>
Subject: Re: [Sip] The thing we're missing in the RFC 4474
	and	DTLS-SRTP	discussion
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

On 3/13/08 3:27 PM, Dwight, Timothy M (Tim) wrote:
> I don't understand the focus on PSTN gateways.  Is it believed that only
> PSTN gateways ever create URIs with numeric user parts?  Or that PSTN
> gateways are particularly untrustworthy?  Neither seems reasonable to
> me.
>   

Really? Email me your cell phone number, and the number you want me to 
appear to call it from.

/a
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu Mar 13 16:14:44 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id A6C7728C95D;
	Thu, 13 Mar 2008 16:14:44 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.273
X-Spam-Level: 
X-Spam-Status: No, score=-100.273 tagged_above=-999 required=5
	tests=[AWL=-0.436, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, J_CHICKENPOX_41=0.6, RDNS_NONE=0.1,
	USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id cYiGiArqdsyy; Thu, 13 Mar 2008 16:14:43 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 4B7B528C8F2;
	Thu, 13 Mar 2008 16:11:54 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id AFA3028C8DD
	for <sip@core3.amsl.com>; Thu, 13 Mar 2008 16:11:53 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 6Jf41TBb3jmE for <sip@core3.amsl.com>;
	Thu, 13 Mar 2008 16:11:52 -0700 (PDT)
Received: from mailgate.siemenscomms.co.uk (mailgate.siemenscomms.co.uk
	[195.171.110.225])
	by core3.amsl.com (Postfix) with ESMTP id 5F61028C9EC
	for <sip@ietf.org>; Thu, 13 Mar 2008 16:09:22 -0700 (PDT)
Received: from GBNTHT12009MSX.gb002.siemens.net ([137.223.219.236])
	by siemenscomms.co.uk (PMDF V6.3-x14 #31430)
	with ESMTP id <0JXO00J7BYVSMC@siemenscomms.co.uk> for sip@ietf.org; Thu,
	13 Mar 2008 23:07:04 +0000 (GMT)
Date: Thu, 13 Mar 2008 23:07:02 +0000
From: "Elwell, John" <john.elwell@siemens.com>
In-reply-to: <47D9ACD8.2030805@nostrum.com>
To: Adam Roach <adam@nostrum.com>, Dean Willis <dean.willis@softarmor.com>
Message-id: <0D5F89FAC29E2C41B98A6A762007F5D07DB0A7@GBNTHT12009MSX.gb002.siemens.net>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft Exchange V6.5
Thread-Topic: [Sip] The thing we're missing in the RFC 4474 and
	DTLS-SRTPdiscussion
Thread-Index: AciFW7nZQw7R/1GARu+Qx+7DGsofLAAAtI5A
Content-class: urn:content-classes:message
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
References: <B0495A1B-2677-4FCE-B718-3C48DCF5205B@softarmor.com>
	<47D96B4B.30308@nostrum.com>
	<72BD602C-7985-4E8F-ADEC-A37F5E7F437E@softarmor.com>
	<47D9ACD8.2030805@nostrum.com>
Cc: IETF SIP List <sip@ietf.org>
Subject: Re: [Sip] The thing we're missing in the RFC 4474
	and	DTLS-SRTPdiscussion
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

 

> -----Original Message-----
> From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On 
> Behalf Of Adam Roach
> Sent: 13 March 2008 22:38
> To: Dean Willis
> Cc: IETF SIP List
> Subject: Re: [Sip] The thing we're missing in the RFC 4474 
> and DTLS-SRTPdiscussion
> 
> I'll reiterate my key point here at the top: we cannot retroactively 
> change the behavior of deployed user agents. All we can do is 
> make sure 
> what we're proposing doesn't make do stupid and/or useless things.
> 
> More inline.
> 
> On 3/13/08 6:26 PM, Dean Willis wrote:
> >
> > On Mar 13, 2008, at 1:58 PM, Adam Roach wrote:
> >
> >> On 3/13/08 11:59 AM, Dean Willis wrote:
> >>> We could fix this by having gateways encode their 
> identity using a  
> >>> reserved userpart. This has to have the  property of 
> saying "Do not  
> >>> display this as caller-ID". Using "sip:domain" or "sip:ipaddress" 
> >>> does  not work, as those might actually be valid URIs that be be 
> >>> displayed  as IDs.
> >>>
> >>
> >> That's the problem I have -- if the calling party reported by the 
> >> PSTN has been completely pulled out of the "From" header 
> field, then 
> >> you'll have very bad interaction with currently deployed phones. I 
> >> don't think that's a reasonable trade-off. That's why I 
> think this...
> >
> > That;s why John proposed P-AI-ID as the Caller-ID source.
> 
> 
> The phone on my desk would treat that like any other unknown 
> header, and 
> ignore it.
[JRE] Many phones do recognise P-Asserted-Identity and use that in
preference to an unsigned From URI. It is difficult to find a solution
that will not upset any existing deployed device, but we can at least
try to make it work acceptably with a sizeable population.

John
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu Mar 13 16:15:45 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id A8C7E28C926;
	Thu, 13 Mar 2008 16:15:45 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.458
X-Spam-Level: 
X-Spam-Status: No, score=-100.458 tagged_above=-999 required=5
	tests=[AWL=-0.021, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 7Xey7bRsOAqR; Thu, 13 Mar 2008 16:15:45 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 64D3C28C125;
	Thu, 13 Mar 2008 16:12:25 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id C35C628C125
	for <sip@core3.amsl.com>; Thu, 13 Mar 2008 16:12:23 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id ETSGGTjqTcAl for <sip@core3.amsl.com>;
	Thu, 13 Mar 2008 16:12:22 -0700 (PDT)
Received: from rtp-iport-1.cisco.com (rtp-iport-1.cisco.com [64.102.122.148])
	by core3.amsl.com (Postfix) with ESMTP id 89C363A69F6
	for <sip@ietf.org>; Thu, 13 Mar 2008 16:10:47 -0700 (PDT)
X-IronPort-AV: E=Sophos;i="4.25,497,1199682000"; 
   d="scan'208";a="1733108"
Received: from rtp-dkim-2.cisco.com ([64.102.121.159])
	by rtp-iport-1.cisco.com with ESMTP; 13 Mar 2008 19:08:09 -0400
Received: from rtp-core-2.cisco.com (rtp-core-2.cisco.com [64.102.124.13])
	by rtp-dkim-2.cisco.com (8.12.11/8.12.11) with ESMTP id m2DN88No022945; 
	Thu, 13 Mar 2008 19:08:08 -0400
Received: from xbh-rtp-211.amer.cisco.com (xbh-rtp-211.cisco.com
	[64.102.31.102])
	by rtp-core-2.cisco.com (8.12.10/8.12.6) with ESMTP id m2DN880J008032; 
	Thu, 13 Mar 2008 23:08:08 GMT
Received: from xfe-rtp-201.amer.cisco.com ([64.102.31.38]) by
	xbh-rtp-211.amer.cisco.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Thu, 13 Mar 2008 19:08:08 -0400
Received: from [161.44.174.168] ([161.44.174.168]) by
	xfe-rtp-201.amer.cisco.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Thu, 13 Mar 2008 19:08:08 -0400
Message-ID: <47D9B3EE.3080505@cisco.com>
Date: Thu, 13 Mar 2008 19:08:30 -0400
From: Paul Kyzivat <pkyzivat@cisco.com>
User-Agent: Thunderbird 2.0.0.12 (Windows/20080213)
MIME-Version: 1.0
To: Dean Willis <dean.willis@softarmor.com>
References: <B0495A1B-2677-4FCE-B718-3C48DCF5205B@softarmor.com>	<47D96B4B.30308@nostrum.com>
	<72BD602C-7985-4E8F-ADEC-A37F5E7F437E@softarmor.com>
In-Reply-To: <72BD602C-7985-4E8F-ADEC-A37F5E7F437E@softarmor.com>
X-OriginalArrivalTime: 13 Mar 2008 23:08:08.0252 (UTC)
	FILETIME=[19DF6FC0:01C8855F]
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; l=349; t=1205449688; x=1206313688;
	c=relaxed/simple; s=rtpdkim2001;
	h=Content-Type:From:Subject:Content-Transfer-Encoding:MIME-Version;
	d=cisco.com; i=pkyzivat@cisco.com;
	z=From:=20Paul=20Kyzivat=20<pkyzivat@cisco.com>
	|Subject:=20Re=3A=20[Sip]=20The=20thing=20we're=20missing=2
	0in=20the=20RFC=204474=20and=09DTLS-SRTP=09discussion
	|Sender:=20 |To:=20Dean=20Willis=20<dean.willis@softarmor.com>;
	bh=GEbSrg5fpgJXtElURqUbWQYHcqZkiFBg2SeTx5XOedc=;
	b=lP8/HiYakOs6os8n2THI/EC5cljB2oaoA/EagJSxjWnA45YwFvCBVyVjwW
	/DxRPRzuQah5vjJiTwBYtPpESmvjCMht7aMgY+++Z4QcWLHCm7TkVg/0yKmu
	Ln/9Da+mx7;
Authentication-Results: rtp-dkim-2; header.From=pkyzivat@cisco.com; dkim=pass (
	sig from cisco.com/rtpdkim2001 verified; ); 
Cc: IETF SIP List <sip@ietf.org>, Adam Roach <adam@nostrum.com>
Subject: Re: [Sip] The thing we're missing in the RFC 4474
	and	DTLS-SRTP	discussion
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org



Dean Willis wrote:

> How about:
> 	From: +12142821376 <sip:gateway@softarmor.com>

Are we now assuming that 4474 vouches for the correctness of the display 
name?

In any case, callerid includes name as well as number, so we probably 
need to reserve the display name for carrying the calling name, not the 
calling number.

	Paul
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu Mar 13 18:33:07 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 3C78728C469;
	Thu, 13 Mar 2008 18:33:07 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.554
X-Spam-Level: 
X-Spam-Status: No, score=-100.554 tagged_above=-999 required=5
	tests=[AWL=-0.117, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id EyTSohxTVGru; Thu, 13 Mar 2008 18:33:05 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 422DC3A6C95;
	Thu, 13 Mar 2008 18:33:05 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id EE7BA3A6832
	for <sip@core3.amsl.com>; Thu, 13 Mar 2008 18:33:03 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 0sZVuRRLax8I for <sip@core3.amsl.com>;
	Thu, 13 Mar 2008 18:33:03 -0700 (PDT)
Received: from mailgw4.ericsson.se (mailgw4.ericsson.se [193.180.251.62])
	by core3.amsl.com (Postfix) with ESMTP id 9305728C21E
	for <sip@ietf.org>; Thu, 13 Mar 2008 18:33:01 -0700 (PDT)
Received: from mailgw4.ericsson.se (unknown [127.0.0.1])
	by mailgw4.ericsson.se (Symantec Mail Security) with ESMTP id
	10D642049E; Fri, 14 Mar 2008 02:30:43 +0100 (CET)
X-AuditID: c1b4fb3e-b019cbb000004ec0-2f-47d9d542967c
Received: from esealmw126.eemea.ericsson.se (unknown [153.88.254.123])
	by mailgw4.ericsson.se (Symantec Mail Security) with ESMTP id
	E7A772026E; Fri, 14 Mar 2008 02:30:42 +0100 (CET)
Received: from esealmw113.eemea.ericsson.se ([153.88.200.4]) by
	esealmw126.eemea.ericsson.se with Microsoft SMTPSVC(6.0.3790.1830); 
	Fri, 14 Mar 2008 02:30:42 +0100
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Fri, 14 Mar 2008 02:28:31 +0100
Message-ID: <CA9998CD4A020D418654FCDEF4E707DF046C7675@esealmw113.eemea.ericsson.se>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: SBC impact on RFC 4474
thread-index: AciFUP9lLrD8XODmRFSi8pIKh2UqhwAIbcQn
References: <0D5F89FAC29E2C41B98A6A762007F5D07DB09A@GBNTHT12009MSX.gb002.siemens.net>
From: "Christer Holmberg" <christer.holmberg@ericsson.com>
To: "Elwell, John" <john.elwell@siemens.com>,
	"IETF SIP List" <sip@ietf.org>
X-OriginalArrivalTime: 14 Mar 2008 01:30:42.0680 (UTC)
	FILETIME=[04B58F80:01C88573]
X-Brightmail-Tracker: AAAAAA==
Subject: Re: [Sip] SBC impact on RFC 4474
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Hi,
 =

SBCs may modify SDP even if ICE is used.
 =

Regards,
 =

Christer

________________________________

L=E4hett=E4j=E4: sip-bounces@ietf.org puolesta: Elwell, John
L=E4hetetty: to 13.3.2008 22:27
Vastaanottaja: IETF SIP List
Aihe: [Sip] SBC impact on RFC 4474



One of the questions raised at the end of the SIP session today was the
following:

"Are there any useful steps for dealing with SDP modification by SBCs?"

SBCs modify SDP (and perhaps other signed information in SIP requests).
One of the reasons is NAT traversal (should not be applicable with ICE,
but I don't think we can always assume that ICE is used). Other reasons
are topology hiding, media shaping, etc.. Such modification breaks RFC
4474 signatures.

SBCs also sometimes change From URIs in SIP requests, as discussed in
draft-kaplan-sip-uris-change-00. We have taken this into account during
our various discussions (in the WG and off-line) on the telephone number
problem, so I want to keep that separate. For this thread, assume an
"email-style" (or non-phone-number-based) From URI that is not modified
by an SBC. Focus instead on modification of other signed information.

I would like to hear views on the following:
- The degree to which this is a problem.
- Existing solution proposals:
    o draft-wing-sip-identity-media-02
    o draft-fischer-sip-e2e-sec-media-00
- Other solution proposals.

John

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu Mar 13 22:29:23 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 4133528C130;
	Thu, 13 Mar 2008 22:29:23 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.533
X-Spam-Level: 
X-Spam-Status: No, score=-100.533 tagged_above=-999 required=5
	tests=[AWL=-0.096, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id Z47-rSOEykGN; Thu, 13 Mar 2008 22:29:22 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 3C2E13A6AAC;
	Thu, 13 Mar 2008 22:29:22 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id B99483A6AAC
	for <sip@core3.amsl.com>; Thu, 13 Mar 2008 22:29:21 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 05qcidpJsWOW for <sip@core3.amsl.com>;
	Thu, 13 Mar 2008 22:29:20 -0700 (PDT)
Received: from etmail.acmepacket.com (etmail.acmepacket.com [216.41.24.6])
	by core3.amsl.com (Postfix) with ESMTP id B955C3A67DF
	for <sip@ietf.org>; Thu, 13 Mar 2008 22:29:20 -0700 (PDT)
Received: from mail.acmepacket.com (216.41.24.7) by etmail.acmepacket.com
	(216.41.24.6) with Microsoft SMTP Server (TLS) id 8.1.240.5;
	Fri, 14 Mar 2008 01:26:43 -0400
Received: from mail.acmepacket.com ([216.41.24.7]) by mail.acmepacket.com
	([216.41.24.7]) with mapi; Fri, 14 Mar 2008 01:26:41 -0400
From: Hadriel Kaplan <HKaplan@acmepacket.com>
To: "Elwell, John" <john.elwell@siemens.com>, IETF SIP List <sip@ietf.org>
Date: Fri, 14 Mar 2008 01:30:55 -0400
Thread-Topic: SBC impact on RFC 4474
Thread-Index: AciFUP9lLrD8XODmRFSi8pIKh2UqhwAOKTHQ
Message-ID: <E6C2E8958BA59A4FB960963D475F7AC30BCA2EB598@mail.acmepacket.com>
References: <0D5F89FAC29E2C41B98A6A762007F5D07DB09A@GBNTHT12009MSX.gb002.siemens.net>
In-Reply-To: <0D5F89FAC29E2C41B98A6A762007F5D07DB09A@GBNTHT12009MSX.gb002.siemens.net>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
acceptlanguage: en-US
MIME-Version: 1.0
Subject: Re: [Sip] SBC impact on RFC 4474
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org



> -----Original Message-----
> From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On Behalf Of
> Elwell, John
>
> SBCs modify SDP (and perhaps other signed information in SIP requests).
> One of the reasons is NAT traversal (should not be applicable with ICE,
> but I don't think we can always assume that ICE is used). Other reasons
> are topology hiding, media shaping, etc.. Such modification breaks RFC
> 4474 signatures.

Not that it's germane to the issue, but SBC's don't change SDP due to NAT traversal, or rather that is not the primary or even secondary reason they do so typically. (and you don't have to take my word for it - SBCs were first deployed in peering interconnects, before NAT traversal was even a feature, and yet they modified SDP back then too)  It is a common misconception in the IETF, for some reason.  I believe our marketing group categorizes NAT traversal as #4 or 5 on the list in terms of popular reasons for media relay, but other vendors may have different views. (and obviously this could be due to the kind of customers we sell to, vs. other SBCs)

The SBCs change SDP to make media flow a certain direction, based on the call signaling path and certain policies.  The common reasons are, in no specific order: VPN interconnection/crossing (where even the provider core itself is one or more "VPNs"), traffic engineering, topology hiding, privacy, QoS measurement, QoS marking, transcoding, transrating, NAT traversal, Firewall traversal (which is not the same as NAT traversal, btw), policing/fraud-prevention, rfc2833 interworking, lawful interception, unlawful interception, media format/content inspection, IPv4/v6 conversion, SRTP termination, IPSEC tunnel termination relay, and I'm sure I'm forgetting a couple.  Thus ICE removing the need for the SBC to modify SDP is highly improbable.  Even if the SBC were the TURN server itself it wouldn't work, because the address it has to give out depends on where the SIP call goes, and is not knowable before-hand except in the simplest of cases.


> I would like to hear views on the following:
> - The degree to which this is a problem.

Well, that depends.  For calls within a service provider or domain, or between two service providers directly peering, SBCs should pose no problem, since the rfc4474 signing/verifying can be done by the last/first SBCs of the two domains.  Unfortunately, that is a use case rfc4474 provides virtually no benefit for, imho.  The primary motivation for using rfc4474 would be when it crosses transit providers/domains - when there's an actual chain of trust greater than 1.  So personally I think rfc4474 not working in those scenarios is a problem.


> - Existing solution proposals:
>     o draft-wing-sip-identity-media-02
>     o draft-fischer-sip-e2e-sec-media-00
> - Other solution proposals.

[tongue-in-cheek] Have the originating UAC generate an INVITE without SDP (i.e., a delayed offer).  Therefore there will be no SDP to sign and become invalidated.  The SDP offer comes in the 2xx, which luckily is unsignable, and the ACK would presumably rarely be signed.  Or make the authenticator a 3PCC box, so that the SDP removal happens without the UAC even knowing it.
;)

-hadriel
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Fri Mar 14 02:49:23 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 4548D28C8CF;
	Fri, 14 Mar 2008 02:49:23 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -101.05
X-Spam-Level: 
X-Spam-Status: No, score=-101.05 tagged_above=-999 required=5
	tests=[AWL=-0.613, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id fs-kKuGoaDHH; Fri, 14 Mar 2008 02:49:22 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id EEF8A28C88F;
	Fri, 14 Mar 2008 02:49:21 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 4D0A228C87B
	for <sip@core3.amsl.com>; Fri, 14 Mar 2008 02:49:20 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id l-g3WCCKjsAp for <sip@core3.amsl.com>;
	Fri, 14 Mar 2008 02:49:19 -0700 (PDT)
Received: from neustar.com (ns6.neustar.com [156.154.16.88])
	by core3.amsl.com (Postfix) with ESMTP id C44D628C87F
	for <sip@ietf.org>; Fri, 14 Mar 2008 02:49:18 -0700 (PDT)
DKIM-Signature: a=rsa-sha1; d=neustar.biz; s=neustarbiz;
	c=simple/simple; q=dns; t=1205488019; x=1205574419;
	h=From:Date:Subject:Message-ID:Content-Type:Content-Transfer-Encoding; 
	b=OF5A53eOl4HIknPFRa18aGIlxZjFeKRzdP0pIzo0khXHFyj8fWyJO9ZonCU5wrq01iyW+ue1xhpseq
	ZbTRqZUQ==
Received: from ([156.154.5.145])
	by stihiron1.va.neustar.com with ESMTP  id 5202702.5398264;
	Fri, 14 Mar 2008 05:46:48 -0400
Message-ID: <47DA498A.6030903@neustar.biz>
Date: Fri, 14 Mar 2008 02:46:50 -0700
From: =JeffH <Jeff.Hodges@neustar.biz>
User-Agent: Thunderbird 1.5.0.14ubu (X11/20080306)
MIME-Version: 1.0
To: sip@ietf.org
References: <20080312201611.DF1CD28C838@core3.amsl.com>	<47D887E9.8000407@cisco.com>
	<47D92EC3.3090706@nostrum.com> <47D96498.70305@cisco.com>
In-Reply-To: <47D96498.70305@cisco.com>
Subject: Re: [Sip] comments on draft-rosenberg-sip-rfc4474-concerns-00
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

 > It was my take that Mr(Ms) +11234567890 ...

Note that I closed the initial portion of my message body with "=JeffH". But 
also note that it take clues/hints/traditions/conventions outside of the rules 
of the set of email RFCs to identify what might be the nominally socially 
correct "name" (note "names" are not always "identifiers") to use to refer to 
me. And you'll get different answers from different entities. (some would 
perhaps suggest "obnoxious" or something similar).  ;)

Anyway, from my perspective, either is fine for the purposes of this discussion.

Also note that I copied my message to "6505551212@kingsmountain.com", which by 
the way, will indeed "reach" me via email, even though the "local-part" is 
indeed a valid +1 PSTN number, but not one I "control", beyond it's association 
(in this context) with kingsmountain.com. Hm, I may need to enable SIP-based 
comms for it....


Paul Kyzivat wrote in reply to Adam Roach::
 >
 >                         But there are a lot of people who seem to think
 > it is fine to take any user part that looks vaguely line a phone number
 > and treat it as such.
 >
 > It was my take that Mr(Ms) +11234567890 specifically feels that way.

Actually, no, that is not what I was attempting to say.

Rather, what I was attempting to say is that..

   It is nominally not correct (for some definition of correct)
   to take a "user" part (aka "local-part" in RFC2822 parlance),
   from the "user@domain" sub-construct of the "SIP URI"
   construct defined in RFC4474, and interpret its real-world
   attributes, or attibutes it might have in another protocol context,
   outside of the current protocol context (i.e. SIP),
   unless hints/extraContext/whatever are also present in the
   latter protocol context -- regardless of the syntactic
   construction  of said "user" part.

I also agree with a converse of the above..

   It is nominally "a leap-of-faith" to take a "user" part
   (aka "local-part" in RFC2822 parlance), from the
   "user@domain" sub-construct of the "SIP URI" construct
   defined in RFC4474, and interpret its real-world
   attributes, or attibutes it might have in another protocol
   context,  outside of the current protocol context (i.e.
   SIP) -- regardless of the syntactic construction  of said
   "user" part -- unless, hints/extraContext/whatever are
   also present in the latter protocol context.


Paul Kyzivat went on to say:
 >
 > My understanding is still that even
 >
 > "sip:+19785551234@sprint.com;user=phone" and
 > "sip:+19785551234@comcast.net;user=phone"
 >
 > are *different* and should be
 > announced as such. Certainly the routing rules are different for
 > reaching the two of them, and that can be significant.

There was sentiment in the room here @Philly/IETF-71 yesterday morning, that 
the "user" part of those two above identifiers SHOULD be treated by UAC/UA/UE 
as the "same", and that various present SIP RFCs at least imply such (I don't 
know myself, need to research it), though it is not currently consistently 
implemented that way.


 > IMO if you want an address that can be displayed simply as a phone
 > number, then you should use a TEL for it.

Sure, for header fields such as To and Request-URI, but the issue here is what 
to assert in the From header field such that one can sign it (and other SIP msg 
components) and have some sort of linkage back to a trust anchor.


=JeffH
aka +11234567890@kingsmountain.com

ps: I didn't send my original message from my actual @messaging.sprintpcs.com 
email address for two reasons..

1. I didn't want that email address and phone number published on the web in 
email archives.

2. I didn't want to receive the SIP mailing list as SMS messages on my 
PDA/phone (scary).

---
end











_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Fri Mar 14 04:47:58 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 0F8993A6C0D;
	Fri, 14 Mar 2008 04:47:58 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.561
X-Spam-Level: 
X-Spam-Status: No, score=-100.561 tagged_above=-999 required=5
	tests=[AWL=-0.124, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id ns6-KC3kVs-Y; Fri, 14 Mar 2008 04:47:54 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id C473D3A6F3E;
	Fri, 14 Mar 2008 04:47:53 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id F229C3A6F4A
	for <sip@core3.amsl.com>; Fri, 14 Mar 2008 04:47:51 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id qhpyntPTeCmy for <sip@core3.amsl.com>;
	Fri, 14 Mar 2008 04:47:51 -0700 (PDT)
Received: from mailgate.siemenscomms.co.uk (mailgate.siemenscomms.co.uk
	[195.171.110.225])
	by core3.amsl.com (Postfix) with ESMTP id 58DF028C8EA
	for <sip@ietf.org>; Fri, 14 Mar 2008 04:47:02 -0700 (PDT)
Received: from GBNTHT12009MSX.gb002.siemens.net ([137.223.219.236])
	by siemenscomms.co.uk (PMDF V6.3-x14 #31430)
	with ESMTP id <0JXP00I3CXYFJS@siemenscomms.co.uk> for sip@ietf.org; Fri,
	14 Mar 2008 11:44:42 +0000 (GMT)
Date: Fri, 14 Mar 2008 11:40:50 +0000
From: "Elwell, John" <john.elwell@siemens.com>
In-reply-to: A
	<CA9998CD4A020D418654FCDEF4E707DF046C7675@esealmw113.eemea.ericsson.se>
To: Christer Holmberg <christer.holmberg@ericsson.com>,
	IETF SIP List <sip@ietf.org>
Message-id: <0D5F89FAC29E2C41B98A6A762007F5D07DB22C@GBNTHT12009MSX.gb002.siemens.net>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft Exchange V6.5
Thread-Topic: [Sip] SBC impact on RFC 4474
Thread-Index: AciFUP9lLrD8XODmRFSi8pIKh2UqhwAIbcQnABVSg4A=
Content-class: urn:content-classes:message
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
References: <0D5F89FAC29E2C41B98A6A762007F5D07DB09A@GBNTHT12009MSX.gb002.siemens.net>
	A
	<CA9998CD4A020D418654FCDEF4E707DF046C7675@esealmw113.eemea.ericsson.se>
Subject: Re: [Sip] SBC impact on RFC 4474
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Christer,

I think I already captured that in the statement "Other reasons
are topology hiding, media shaping, etc.. Such modification breaks RFC
4474 signatures."
If you think that is insufficient, please elaborate reasons, so we get a be=
tter understanding of the scope of the problem.

John =


> -----Original Message-----
> From: Christer Holmberg [mailto:christer.holmberg@ericsson.com] =

> Sent: 14 March 2008 01:29
> To: Elwell, John; IETF SIP List
> Subject: VS: [Sip] SBC impact on RFC 4474
> =

> Hi,
>  =

> SBCs may modify SDP even if ICE is used.
>  =

> Regards,
>  =

> Christer
> =

> ________________________________
> =

> L=E4hett=E4j=E4: sip-bounces@ietf.org puolesta: Elwell, John
> L=E4hetetty: to 13.3.2008 22:27
> Vastaanottaja: IETF SIP List
> Aihe: [Sip] SBC impact on RFC 4474
> =

> =

> =

> One of the questions raised at the end of the SIP session =

> today was the
> following:
> =

> "Are there any useful steps for dealing with SDP modification =

> by SBCs?"
> =

> SBCs modify SDP (and perhaps other signed information in SIP =

> requests).
> One of the reasons is NAT traversal (should not be applicable =

> with ICE,
> but I don't think we can always assume that ICE is used). =

> Other reasons
> are topology hiding, media shaping, etc.. Such modification breaks RFC
> 4474 signatures.
> =

> SBCs also sometimes change From URIs in SIP requests, as discussed in
> draft-kaplan-sip-uris-change-00. We have taken this into =

> account during
> our various discussions (in the WG and off-line) on the =

> telephone number
> problem, so I want to keep that separate. For this thread, assume an
> "email-style" (or non-phone-number-based) From URI that is =

> not modified
> by an SBC. Focus instead on modification of other signed information.
> =

> I would like to hear views on the following:
> - The degree to which this is a problem.
> - Existing solution proposals:
>     o draft-wing-sip-identity-media-02
>     o draft-fischer-sip-e2e-sec-media-00
> - Other solution proposals.
> =

> John
> =

> _______________________________________________
> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
> =

> =

> =

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Fri Mar 14 06:28:24 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id CE34A28C92E;
	Fri, 14 Mar 2008 06:28:24 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.555
X-Spam-Level: 
X-Spam-Status: No, score=-100.555 tagged_above=-999 required=5
	tests=[AWL=-0.118, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id kJbhYOqCYC0W; Fri, 14 Mar 2008 06:28:24 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id ADF8028C91A;
	Fri, 14 Mar 2008 06:28:08 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 33BEE28C91A
	for <sip@core3.amsl.com>; Fri, 14 Mar 2008 06:28:07 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id u9JawUnakaiG for <sip@core3.amsl.com>;
	Fri, 14 Mar 2008 06:28:06 -0700 (PDT)
Received: from nylon.softarmor.com (nylon.softarmor.com [66.135.38.164])
	by core3.amsl.com (Postfix) with ESMTP id 7FCD928C8EA
	for <sip@ietf.org>; Fri, 14 Mar 2008 06:27:56 -0700 (PDT)
Received: from [130.129.84.215] ([130.129.84.215]) (authenticated bits=0)
	by nylon.softarmor.com (8.13.8/8.13.8/Debian-3) with ESMTP id
	m2EDPS8q022363
	(version=TLSv1/SSLv3 cipher=AES128-SHA bits=128 verify=NOT);
	Fri, 14 Mar 2008 08:25:29 -0500
Message-Id: <9DD9C014-E369-4EE6-86F1-B3D77D4FE595@softarmor.com>
From: Dean Willis <dean.willis@softarmor.com>
To: Paul Kyzivat <pkyzivat@cisco.com>
In-Reply-To: <47D9B3EE.3080505@cisco.com>
Mime-Version: 1.0 (Apple Message framework v919.2)
Date: Fri, 14 Mar 2008 09:25:22 -0400
References: <B0495A1B-2677-4FCE-B718-3C48DCF5205B@softarmor.com>	<47D96B4B.30308@nostrum.com>
	<72BD602C-7985-4E8F-ADEC-A37F5E7F437E@softarmor.com>
	<47D9B3EE.3080505@cisco.com>
X-Mailer: Apple Mail (2.919.2)
Cc: IETF SIP List <sip@ietf.org>, Adam Roach <adam@nostrum.com>
Subject: Re: [Sip] The thing we're missing in the RFC 4474
	and	DTLS-SRTP	discussion
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


On Mar 13, 2008, at 7:08 PM, Paul Kyzivat wrote:

>
>
> Dean Willis wrote:
>
>> How about:
>> 	From: +12142821376 <sip:gateway@softarmor.com>
>
> Are we now assuming that 4474 vouches for the correctness of the  
> display name?

  No, we're not. We're assuming that since we can't verify the  
contents of the display name, that having such information signed by  
RFC 4474 would be a Bad Thing.

In other words, we are trying to limit the content of the RFC-4474  
signed fields to include only things that the authentication service  
can verify. It should not sign and assert as true that which it cannot  
verify. So when we have a call from the PSTN, the Identity header MUST  
NOT assert anything about the PSTN-provided information.

But here's the problem with Adam's idea.:

> Various exceptions to such policies might arise for cases like  
> anonymity; if the AoR asserted in the From field uses a form like 'sip:anonymous@example.com' 
> , then the 'example.com' proxy should authenticate that the user is  
> a valid user in the domain and insert the signature over the From  
> header field as usual. Note that this check is performed on the addr- 
> spec in the From header field (e.g., the URI of the sender, like 'sip:alice@atlanta.example.com') 
> ; it does not convert the display- name portion of the From header  
> field (e.g., 'Alice Atlanta'). Authentication services MAY check and  
> validate the display-name as well, and compare it to a list of  
> acceptable display-names that may be used by the sender; if the  
> display-name does not meet policy constraints, the authentication  
> service MUST return a 403 response code.

If I'm reading it correctly, that gives us some flexibility with the  
display-name.

> In any case, callerid includes name as well as number, so we  
> probably need to reserve the display name for carrying the calling  
> name, not the calling number.

Interesting question. I think the phone number is part of the display  
name:

From: Dean Willis +12142821376 <sip:doofus@example.org>

--
Dean
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Fri Mar 14 07:04:08 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 0693828C919;
	Fri, 14 Mar 2008 07:04:08 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.564
X-Spam-Level: 
X-Spam-Status: No, score=-100.564 tagged_above=-999 required=5
	tests=[AWL=-0.127, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id LwC3uIocuVBR; Fri, 14 Mar 2008 07:04:07 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 5D25C3A6F6A;
	Fri, 14 Mar 2008 07:03:59 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id DF4D73A6F6A
	for <sip@core3.amsl.com>; Fri, 14 Mar 2008 07:03:57 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id aX7CPPebCO9L for <sip@core3.amsl.com>;
	Fri, 14 Mar 2008 07:03:52 -0700 (PDT)
Received: from nylon.softarmor.com (nylon.softarmor.com [66.135.38.164])
	by core3.amsl.com (Postfix) with ESMTP id 627E03A6F5E
	for <sip@ietf.org>; Fri, 14 Mar 2008 07:03:50 -0700 (PDT)
Received: from [130.129.84.215] ([130.129.84.215]) (authenticated bits=0)
	by nylon.softarmor.com (8.13.8/8.13.8/Debian-3) with ESMTP id
	m2EE1SqK022595
	(version=TLSv1/SSLv3 cipher=AES128-SHA bits=128 verify=NOT);
	Fri, 14 Mar 2008 09:01:30 -0500
Message-Id: <AEDFB7E4-13D9-4112-8BD6-A04B7251C8F8@softarmor.com>
From: Dean Willis <dean.willis@softarmor.com>
To: Dean Willis <dean.willis@softarmor.com>
In-Reply-To: <9DD9C014-E369-4EE6-86F1-B3D77D4FE595@softarmor.com>
Mime-Version: 1.0 (Apple Message framework v919.2)
Date: Fri, 14 Mar 2008 10:01:22 -0400
References: <B0495A1B-2677-4FCE-B718-3C48DCF5205B@softarmor.com>	<47D96B4B.30308@nostrum.com>
	<72BD602C-7985-4E8F-ADEC-A37F5E7F437E@softarmor.com>
	<47D9B3EE.3080505@cisco.com>
	<9DD9C014-E369-4EE6-86F1-B3D77D4FE595@softarmor.com>
X-Mailer: Apple Mail (2.919.2)
Cc: IETF SIP List <sip@ietf.org>, Paul Kyzivat <pkyzivat@cisco.com>,
	Adam Roach <adam@nostrum.com>
Subject: Re: [Sip] The thing we're missing in the RFC 4474
	and	DTLS-SRTP	discussion
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


On Mar 14, 2008, at 9:25 AM, Dean Willis wrote:

>
> On Mar 13, 2008, at 7:08 PM, Paul Kyzivat wrote:
>
>>
>>
>> Dean Willis wrote:
>>
>>> How about:
>>> 	From: +12142821376 <sip:gateway@softarmor.com>
>>
>> Are we now assuming that 4474 vouches for the correctness of the
>> display name?
>
>  No, we're not. We're assuming that since we can't verify the
> contents of the display name, that having such information signed by
> RFC 4474 would be a Bad Thing.

Let me restate that: signing the display name (or anything else) that  
we can't verify is a Bad Thing unless we explicitly state that the  
thing we're signing is uncertain, in such a way that receivers can  
understand that this thing is uncertain.

This gives us two choices -- not signing things that look like  
numbers, or including a warning flag in the signed material that  
indicates that the indicated aspect of the thing we're signing was not  
authenticated.

--
Dea
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Fri Mar 14 07:20:08 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id EAC5B28C956;
	Fri, 14 Mar 2008 07:20:07 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.19
X-Spam-Level: 
X-Spam-Status: No, score=-100.19 tagged_above=-999 required=5
	tests=[AWL=-0.353, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, J_CHICKENPOX_41=0.6, RDNS_NONE=0.1,
	USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id ze-r1rcM0VDR; Fri, 14 Mar 2008 07:20:06 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id CEDAA28C900;
	Fri, 14 Mar 2008 07:20:06 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id F316528C900
	for <sip@core3.amsl.com>; Fri, 14 Mar 2008 07:20:05 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id t3qJn+A2gZUt for <sip@core3.amsl.com>;
	Fri, 14 Mar 2008 07:20:05 -0700 (PDT)
Received: from nostrum.com (nostrum-pt.tunnel.tserv2.fmt.ipv6.he.net
	[IPv6:2001:470:1f03:267::2])
	by core3.amsl.com (Postfix) with ESMTP id CEB9C28C3EA
	for <sip@ietf.org>; Fri, 14 Mar 2008 07:20:04 -0700 (PDT)
Received: from orthrus.local ([130.129.83.189]) (authenticated bits=0)
	by nostrum.com (8.14.2/8.14.1) with ESMTP id m2EEHWuP073412
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO);
	Fri, 14 Mar 2008 09:17:45 -0500 (CDT)
	(envelope-from adam@nostrum.com)
Message-ID: <47DA88FC.6030907@nostrum.com>
Date: Fri, 14 Mar 2008 10:17:32 -0400
From: Adam Roach <adam@nostrum.com>
User-Agent: Thunderbird 2.0.0.12 (Macintosh/20080213)
MIME-Version: 1.0
To: "Elwell, John" <john.elwell@siemens.com>
References: <B0495A1B-2677-4FCE-B718-3C48DCF5205B@softarmor.com>	<47D96B4B.30308@nostrum.com>	<72BD602C-7985-4E8F-ADEC-A37F5E7F437E@softarmor.com>	<47D9ACD8.2030805@nostrum.com>
	<0D5F89FAC29E2C41B98A6A762007F5D07DB0A7@GBNTHT12009MSX.gb002.siemens.net>
In-Reply-To: <0D5F89FAC29E2C41B98A6A762007F5D07DB0A7@GBNTHT12009MSX.gb002.siemens.net>
Received-SPF: pass (nostrum.com: 130.129.83.189 is authenticated by a trusted
	mechanism)
X-Virus-Scanned: ClamAV 0.92.1/6228/Thu Mar 13 23:45:15 2008 on
	shaman.nostrum.com
X-Virus-Status: Clean
Cc: IETF SIP List <sip@ietf.org>, Dean Willis <dean.willis@softarmor.com>
Subject: Re: [Sip] The thing we're missing in the RFC
	4474	and	DTLS-SRTPdiscussion
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

On 3/13/08 7:07 PM, Elwell, John wrote:
>  
>   
>> -----Original Message-----
>> From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On 
>> Behalf Of Adam Roach
>>
>> I'll reiterate my key point here at the top: we cannot retroactively 
>> change the behavior of deployed user agents. All we can do is 
>> make sure 
>> what we're proposing doesn't make do stupid and/or useless things.
>>
>> More inline.
>>
>> On 3/13/08 6:26 PM, Dean Willis wrote:
>>     
>>> On Mar 13, 2008, at 1:58 PM, Adam Roach wrote:
>>>> On 3/13/08 11:59 AM, Dean Willis wrote:
>>>>         
>>> That;s why John proposed P-AI-ID as the Caller-ID source.
>>>       
>> The phone on my desk would treat that like any other unknown 
>> header, and 
>> ignore it.
>>     
> [JRE] Many phones do recognise P-Asserted-Identity and use that in
> preference to an unsigned From URI. It is difficult to find a solution
> that will not upset any existing deployed device, but we can at least
> try to make it work acceptably with a sizeable population.
>   


So we've gone from warning "don't implement internet-drafts" to "don't 
implement RFCs"? It seems folly to pull the rug out from under existing 
user agents when we've already identified at least one approach that 
seems to satisfy the keying requirement without breaking existing 
deployed equipment or making assertions that can't be verified by the 
asserter.

Do you have a concrete objection to my proposal to tag the signed URI as 
having a level of trust that is less than absolute?

/a
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Fri Mar 14 07:51:09 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 654DC28C964;
	Fri, 14 Mar 2008 07:51:09 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.569
X-Spam-Level: 
X-Spam-Status: No, score=-100.569 tagged_above=-999 required=5
	tests=[AWL=-0.132, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id maGpJNejoXTT; Fri, 14 Mar 2008 07:51:05 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 7728428C76D;
	Fri, 14 Mar 2008 07:51:05 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 2D9333A6CB1
	for <sip@core3.amsl.com>; Fri, 14 Mar 2008 07:51:04 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id aZyxvmiCUgMK for <sip@core3.amsl.com>;
	Fri, 14 Mar 2008 07:50:58 -0700 (PDT)
Received: from nylon.softarmor.com (nylon.softarmor.com [66.135.38.164])
	by core3.amsl.com (Postfix) with ESMTP id A29C628C76D
	for <sip@ietf.org>; Fri, 14 Mar 2008 07:50:58 -0700 (PDT)
Received: from [130.129.84.215] ([130.129.84.215]) (authenticated bits=0)
	by nylon.softarmor.com (8.13.8/8.13.8/Debian-3) with ESMTP id
	m2EEmWee022932
	(version=TLSv1/SSLv3 cipher=AES128-SHA bits=128 verify=NOT);
	Fri, 14 Mar 2008 09:48:41 -0500
Message-Id: <42615ABA-6F14-4143-B455-1B9CFEE1BC2D@softarmor.com>
From: Dean Willis <dean.willis@softarmor.com>
To: Adam Roach <adam@nostrum.com>
In-Reply-To: <47DA88FC.6030907@nostrum.com>
Mime-Version: 1.0 (Apple Message framework v919.2)
Date: Fri, 14 Mar 2008 10:48:25 -0400
References: <B0495A1B-2677-4FCE-B718-3C48DCF5205B@softarmor.com>	<47D96B4B.30308@nostrum.com>	<72BD602C-7985-4E8F-ADEC-A37F5E7F437E@softarmor.com>	<47D9ACD8.2030805@nostrum.com>
	<0D5F89FAC29E2C41B98A6A762007F5D07DB0A7@GBNTHT12009MSX.gb002.siemens.net>
	<47DA88FC.6030907@nostrum.com>
X-Mailer: Apple Mail (2.919.2)
Cc: IETF SIP List <sip@ietf.org>, "Elwell, John" <john.elwell@siemens.com>
Subject: Re: [Sip] The thing we're missing in the RFC
	4474	and	DTLS-SRTPdiscussion
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


On Mar 14, 2008, at 10:17 AM, Adam Roach wrote:
>>>
>> [JRE] Many phones do recognise P-Asserted-Identity and use that in
>> preference to an unsigned From URI. It is difficult to find a  
>> solution
>> that will not upset any existing deployed device, but we can at least
>> try to make it work acceptably with a sizeable population.
>>
>
> So we've gone from warning "don't implement internet-drafts" to "don't
> implement RFCs"? It seems folly to pull the rug out from under  
> existing
> user agents when we've already identified at least one approach that
> seems to satisfy the keying requirement without breaking existing
> deployed equipment or making assertions that can't be verified by the
> asserter.

I think this is just another caveat on existing equipment. Some  
phones, if P-A-ID is present, will preferentially display it. Some  
will do this even in the presence of an Identity-signed From: field  
that contains conflicting information (inasmuch as they ignore  
Identity completely and prefer P-Asserted-Identity to From).

This is simply something that happens. We have to analyze the  
situation from a backward-compatibility perspective.

Proposal: Include a usage disclaimer parameter on the URI in the From:  
field of a request to which we apply RFC 4474 authentication service,  
resulting in an Identity header that signs the request (including the  
URI part of the From: field).

Case 1: Somebody in the loop is RFC 2543 and not 3261

Result: Proposal breaks because RFC 2543 nodes may fail when proxies  
change From: fields. This doesn't bother me at all.


Case 2: Receiver doesn't understand RFC 4474 or this proposal:

Subcase 2a: Receiver prefers From: field

Result: Contents of From: field are rendered. This MAY inform a  
knowledgeable user of the lack-of-trust, but probably won't.

Subcase 2b: Receiver prefers P-A-ID

Result: Contents of P-A-ID are rendered. So this results depends on  
how P-A-ID was populated, which is up to the implementation.


Case 2: Receiver understands RFC 4474 but not this proposal:

Result: Contents of From: field are rendered as verified. Depending on  
the rendering, this may either inform a knowledgeable user, or display  
as verified information that we know is not verified.


Case 3: Receiver understands RFC 4474 and this proposal (and DTLS- 
SRTP) :

Result: Contents of From: field are rendered as unverified. Media is  
encrypted. Media is verifiably bound to signaling. All is good.

--
Dean


_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Fri Mar 14 09:05:52 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 67D2E28C8A8;
	Fri, 14 Mar 2008 09:05:52 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.707
X-Spam-Level: 
X-Spam-Status: No, score=-100.707 tagged_above=-999 required=5
	tests=[AWL=-0.270, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id r4ptty-GCtNB; Fri, 14 Mar 2008 09:05:50 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 58DE13A6B5A;
	Fri, 14 Mar 2008 09:05:50 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 32F8928C892
	for <sip@core3.amsl.com>; Fri, 14 Mar 2008 03:06:28 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 5stfNBRTfl5i for <sip@core3.amsl.com>;
	Fri, 14 Mar 2008 03:06:27 -0700 (PDT)
Received: from mail.uct.ac.za (mail.uct.ac.za [137.158.153.100])
	by core3.amsl.com (Postfix) with ESMTP id A2AD128C88E
	for <sip@ietf.org>; Fri, 14 Mar 2008 03:06:26 -0700 (PDT)
Received: from crg31.ee.uct.ac.za ([137.158.125.231])
	by mail.uct.ac.za with esmtp (Exim 4.44 (FreeBSD))
	id 1Ja6lk-0008Qo-NI for sip@ietf.org; Fri, 14 Mar 2008 12:04:08 +0200
Message-ID: <47DA4E02.8000502@crg.ee.uct.ac.za>
Date: Fri, 14 Mar 2008 12:05:54 +0200
From: Richard Good <rgood@crg.ee.uct.ac.za>
User-Agent: Thunderbird 2.0.0.12 (X11/20080227)
MIME-Version: 1.0
To: sip@ietf.org
X-Mailman-Approved-At: Fri, 14 Mar 2008 09:05:48 -0700
Subject: [Sip] 302 Support in RFC 3665
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Hi,

I have a query regarding the 302 (Temporarily Moved) message flow shown 
in RFC 3665.

Essentially if a SIP client receives a 302 message in response to an 
INVITE  it should ACK this message and then using the address in the 
contact field send a new INVITE request.

In the message flow shown in RFC 3665 (see section 3.6. Session via 
Redirect and Proxy Servers with SDP in ACK) the new INVITE request has 
the same To field, From field, To Tag and Call ID - the Request URI uses 
the address specified in the Contact field of the 302 response.  
Essentially this new INVITE is part of the same dialog but has a 
different Request URI.

My questions are: Is the 302 response not a final response? Does it not 
end the dialog? Shouldn't the new INVITE have new Call ID, tags etc. and 
shouldn't the address from the Contact field be in the Request URI and 
To field of the new INVITE request?

Regards,
Richard.
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Fri Mar 14 09:28:02 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id AAD7428C36E;
	Fri, 14 Mar 2008 09:28:02 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.502
X-Spam-Level: 
X-Spam-Status: No, score=-100.502 tagged_above=-999 required=5
	tests=[AWL=-0.065, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id PomgBSrBShcn; Fri, 14 Mar 2008 09:28:01 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id C01EA28C7EA;
	Fri, 14 Mar 2008 09:27:59 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 4ECDE3A6800
	for <sip@core3.amsl.com>; Fri, 14 Mar 2008 09:27:58 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 2MGny9rbjor7 for <sip@core3.amsl.com>;
	Fri, 14 Mar 2008 09:27:54 -0700 (PDT)
Received: from sj-iport-2.cisco.com (sj-iport-2.cisco.com [171.71.176.71])
	by core3.amsl.com (Postfix) with ESMTP id D9D3428C908
	for <sip@ietf.org>; Fri, 14 Mar 2008 09:27:36 -0700 (PDT)
Received: from sj-dkim-5.cisco.com ([171.68.10.79])
	by sj-iport-2.cisco.com with ESMTP; 14 Mar 2008 09:25:20 -0700
Received: from sj-core-2.cisco.com (sj-core-2.cisco.com [171.71.177.254])
	by sj-dkim-5.cisco.com (8.12.11/8.12.11) with ESMTP id m2EGPKtF024144; 
	Fri, 14 Mar 2008 09:25:20 -0700
Received: from xbh-rtp-201.amer.cisco.com (xbh-rtp-201.cisco.com
	[64.102.31.12])
	by sj-core-2.cisco.com (8.12.10/8.12.6) with ESMTP id m2EGOf5o009511;
	Fri, 14 Mar 2008 16:25:19 GMT
Received: from xfe-rtp-202.amer.cisco.com ([64.102.31.21]) by
	xbh-rtp-201.amer.cisco.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Fri, 14 Mar 2008 12:25:19 -0400
Received: from [161.44.174.168] ([161.44.174.168]) by
	xfe-rtp-202.amer.cisco.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Fri, 14 Mar 2008 12:25:18 -0400
Message-ID: <47DAA702.1060600@cisco.com>
Date: Fri, 14 Mar 2008 12:25:38 -0400
From: Paul Kyzivat <pkyzivat@cisco.com>
User-Agent: Thunderbird 2.0.0.12 (Windows/20080213)
MIME-Version: 1.0
To: Richard Good <rgood@crg.ee.uct.ac.za>
References: <47DA4E02.8000502@crg.ee.uct.ac.za>
In-Reply-To: <47DA4E02.8000502@crg.ee.uct.ac.za>
X-OriginalArrivalTime: 14 Mar 2008 16:25:18.0591 (UTC)
	FILETIME=[FE0B98F0:01C885EF]
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; l=1741; t=1205511920;
	x=1206375920; c=relaxed/simple; s=sjdkim5002;
	h=Content-Type:From:Subject:Content-Transfer-Encoding:MIME-Version;
	d=cisco.com; i=pkyzivat@cisco.com;
	z=From:=20Paul=20Kyzivat=20<pkyzivat@cisco.com>
	|Subject:=20Re=3A=20[Sip]=20302=20Support=20in=20RFC=203665
	|Sender:=20; bh=zwz4hgpMvdsEfWbUghO+rQUvTBRcHtFBdXwF+bh5WfQ=;
	b=BGC/IromrNb8emFiQovmBtSbvYkk6VKEG08x+G3arYJr4FadOGJy5wNSG0
	icddrS4wzOUUICy/muFXVnr9H3qoEhDDPK+agBLTshhYl1U3pELRaxG2G/TU
	Ei2FbLPZuR;
Authentication-Results: sj-dkim-5; header.From=pkyzivat@cisco.com; dkim=pass (
	sig from cisco.com/sjdkim5002 verified; ); 
Cc: sip@ietf.org
Subject: Re: [Sip] 302 Support in RFC 3665
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org



Richard Good wrote:
> Hi,
> 
> I have a query regarding the 302 (Temporarily Moved) message flow shown 
> in RFC 3665.
> 
> Essentially if a SIP client receives a 302 message in response to an 
> INVITE  it should ACK this message and then using the address in the 
> contact field send a new INVITE request.
> 
> In the message flow shown in RFC 3665 (see section 3.6. Session via 
> Redirect and Proxy Servers with SDP in ACK) the new INVITE request has 
> the same To field, From field, To Tag and Call ID - the Request URI uses 
> the address specified in the Contact field of the 302 response.  
> Essentially this new INVITE is part of the same dialog but has a 
> different Request URI.
> 
> My questions are: Is the 302 response not a final response? Does it not 
> end the dialog? Shouldn't the new INVITE have new Call ID, tags etc. and 
> shouldn't the address from the Contact field be in the Request URI and 
> To field of the new INVITE request?

See 3261 section 8.1.3.4. Using the same To, From, and Call-Id is 
*recommended*, but not required.

Note that if the 3xx recursion is done by a proxy along the path it must 
be this way, so it seems harmless for the UAC to do as a proxy would.

OTOH, there are cases when it would be good for the To-URI to be 
updated. For instance, if a UAC counts on a proxy at the originating 
side to expand certain URIs, such as speed dial numbers, it would be 
good to do so by redirection, and for the UAC to put the expanded number 
into the To-URI, so that the callee will have a clue of where the call 
was intended to go. But doing this seems to require some indication that 
this is intended - e.g. a special 3xx code for the purpose.

	Paul
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Fri Mar 14 09:28:04 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 7A8F33A6AB6;
	Fri, 14 Mar 2008 09:28:04 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.199
X-Spam-Level: 
X-Spam-Status: No, score=-100.199 tagged_above=-999 required=5
	tests=[AWL=-0.362, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, J_CHICKENPOX_45=0.6, RDNS_NONE=0.1,
	USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id WuECUHKSNNpZ; Fri, 14 Mar 2008 09:27:58 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 5F26B3A6800;
	Fri, 14 Mar 2008 09:27:58 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 3BBAB3A6996
	for <sip@core3.amsl.com>; Fri, 14 Mar 2008 09:27:56 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id l8N9DVFeM8rK for <sip@core3.amsl.com>;
	Fri, 14 Mar 2008 09:27:51 -0700 (PDT)
Received: from etmail.acmepacket.com (etmail.acmepacket.com [216.41.24.6])
	by core3.amsl.com (Postfix) with ESMTP id E0E373A67D9
	for <sip@ietf.org>; Fri, 14 Mar 2008 09:27:19 -0700 (PDT)
Received: from mail.acmepacket.com (216.41.24.7) by etmail.acmepacket.com
	(216.41.24.6) with Microsoft SMTP Server (TLS) id 8.1.240.5;
	Fri, 14 Mar 2008 12:24:42 -0400
Received: from mail.acmepacket.com ([216.41.24.7]) by mail.acmepacket.com
	([216.41.24.7]) with mapi; Fri, 14 Mar 2008 12:24:42 -0400
From: Hadriel Kaplan <HKaplan@acmepacket.com>
To: "Elwell, John" <john.elwell@siemens.com>, "Dwight, Timothy M (Tim)"
	<timothy.dwight@verizonbusiness.com>, IETF SIP List <sip@ietf.org>
Date: Fri, 14 Mar 2008 12:27:16 -0400
Thread-Topic: Straw-man for rfc4474 and e164
Thread-Index: AciFI5YbIRH7as9BRI6LOp3qb71tsgADi3bQAAkEwCAAJkpDAA==
Message-ID: <E6C2E8958BA59A4FB960963D475F7AC30BCA2EBBE1@mail.acmepacket.com>
References: <B0495A1B-2677-4FCE-B718-3C48DCF5205B@softarmor.com>
	<092B2658AAB56A4D80836399A4C4703103D07C27@ASHEVS002.mcilink.com>
	<0D5F89FAC29E2C41B98A6A762007F5D07DB0A2@GBNTHT12009MSX.gb002.siemens.net>
In-Reply-To: <0D5F89FAC29E2C41B98A6A762007F5D07DB0A2@GBNTHT12009MSX.gb002.siemens.net>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
acceptlanguage: en-US
MIME-Version: 1.0
Subject: [Sip] Straw-man for rfc4474 and e164
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

John, can you elaborate more on the straw-man proposal?  I'm not sure I fully grok it.

When I commented at the mic that the problem with such a concept, assuming I understand the proposal, is that there is nothing stopping any middle-man or frankly anything on the planet from simply signing a [number]@domain, for their domain name.  Jonathan's response I think was "well that makes it the same strength as PSTN".  But this makes it effectively useless to sign or verify.  Why bother signing?  Just use PAID. (which may well be the final result of all this discussion)

-hadriel

> -----Original Message-----
> From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On Behalf Of
> Elwell, John
> Sent: Thursday, March 13, 2008 6:17 PM
> To: Dwight, Timothy M (Tim); IETF SIP List
> Subject: Re: [Sip] The thing we're missing in the RFC 4474 and DTLS-
> SRTPdiscussion
>
> Quite right. PSTN gateways present their own problems, but just the use
> of number-based SIP URIs for communications within the SIP environment
> also has some issues, i.e., the fact that the number has meaning without
> the domain part, and thus the temptation to modify the domain part. As
> part of the straw man proposal presented today in the meeting, it was
> suggested that a domain can sign a number-based SIP URI if it believes
> that calls to that number can reach the user via that domain. So that is
> all you can assume about the domain part of such a URI.
>
> Of course, this leads to the question of when is a SIP URI number-based
> and when is it not. In theory, the user=phone parameter could be the
> criterion, so that if user=phone is absent a relying party could assume
> that the domain indicated in the URI is the "home" domain for that user.
> In practice, it appears there are implementations that modify the domain
> part of any URI that looks like it contains a phone number in the user
> part. That would appear to be broken, in that return routability would
> be lost. However, in practice, often a numeric user part IS a phone
> number, and assuming global uniqueness, return routability perhaps is
> achievable.
>
> So there seems to be rather a grey line between trusting or not trusting
> the domain part of a SIP URI as being the "home" domain of the user. We
> have to try to figure out how to address this and give reasonable advice
> to relying parties.
>
> John
>
> > -----Original Message-----
> > From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On
> > Behalf Of Dwight, Timothy M (Tim)
> > Sent: 13 March 2008 19:28
> > To: IETF SIP List
> > Subject: Re: [Sip] The thing we're missing in the RFC 4474
> > and DTLS-SRTPdiscussion
> >
> > I don't understand the focus on PSTN gateways.  Is it
> > believed that only
> > PSTN gateways ever create URIs with numeric user parts?  Or that PSTN
> > gateways are particularly untrustworthy?  Neither seems reasonable to
> > me.
> >
> > tim
> >
> >
> > > -----Original Message-----
> > > From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On
> > > Behalf Of Dean Willis
> > > Sent: Thursday, March 13, 2008 12:00 PM
> > > To: IETF SIP List
> > > Subject: [Sip] The thing we're missing in the RFC 4474 and
> > > DTLS-SRTP discussion
> > >
> > >
> > > We seem to agree that RFC 4474 assertions involving things
> > that look
> > > like phone numbers can not really be trusted, and probably
> > therefore
> > > should not be sent.
> > >
> > > However, DTLS-SRTP doesn't function without RFC 4474.
> > >
> > > So, if you need to use DTLS-SRTP to protect a phone call that
> > > involves
> > > a numeric identity (and that includes E.164, private phone
> > numbers,
> > > and numeric user parts of any kind), you end up having to
> > > send an RFC
> > > 4474 Identity header that is going to mislead people.
> > >
> > > So as things are currently written, one can never use
> > > DTLS-SRTP with a
> > > numeric userpart in the identity.
> > >
> > > That's the part that we absolutely have to sort out.
> > >
> > > We could fix this by having gateways encode their identity using a
> > > reserved userpart. This has to have the  property of saying
> > "Do not
> > > display this as caller-ID". Using "sip:domain" or
> > > "sip:ipaddress" does
> > > not work, as those might actually be valid URIs that be be
> > displayed
> > > as IDs.
> > >
> > > It might work to have the gateway use a reserved value, like
> > > "sip:pstngateway@domain
> > > ".
> > >
> > > Or it might work to extend RFC 4474 to have a "strength of
> > > assertion"
> > > indicator.
> > >
> > > It's certainly easier to add guidance in DTLS-SRTP about what
> > > gateways
> > > should do and about how UASes should interpret various
> > header fields
> > > than it is to change RFC 4474.
> > >
> > > However, we need to note that a standards-track document
> > cannot say
> > > "Use P-Asserted-Identity". That would be an unacceptable
> > downref. It
> > > could however say "If the identity encoded in the RFC 4474
> > Identity
> > > header has the reserved userpart "pstngateway", then the UAS
> > > MUST NOT
> > > display this to the user as the calling party identifier.
> > > Rather, the
> > > UAS should use other indicators of calling party identity
> > > that may be
> > > available to it.
> > >
> > > --
> > > Dean
> > > _______________________________________________
> > > Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> > > This list is for NEW development of the core SIP Protocol
> > > Use sip-implementors@cs.columbia.edu for questions on current sip
> > > Use sipping@ietf.org for new developments on the application of sip
> > >
> > _______________________________________________
> > Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> > This list is for NEW development of the core SIP Protocol
> > Use sip-implementors@cs.columbia.edu for questions on current sip
> > Use sipping@ietf.org for new developments on the application of sip
> >
> _______________________________________________
> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Fri Mar 14 09:34:00 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 735D228C36D;
	Fri, 14 Mar 2008 09:34:00 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.53
X-Spam-Level: 
X-Spam-Status: No, score=-100.53 tagged_above=-999 required=5
	tests=[AWL=-0.093, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id mrT2lNYYpXW9; Fri, 14 Mar 2008 09:33:56 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 3FAF93A6DC5;
	Fri, 14 Mar 2008 09:33:54 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id CEB093A680B
	for <sip@core3.amsl.com>; Fri, 14 Mar 2008 09:33:52 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id m5iJJcaDaGAH for <sip@core3.amsl.com>;
	Fri, 14 Mar 2008 09:33:47 -0700 (PDT)
Received: from rtp-iport-2.cisco.com (rtp-iport-2.cisco.com [64.102.122.149])
	by core3.amsl.com (Postfix) with ESMTP id E880828C95A
	for <sip@ietf.org>; Fri, 14 Mar 2008 09:33:20 -0700 (PDT)
X-IronPort-AV: E=Sophos;i="4.25,502,1199682000"; 
   d="scan'208";a="1795397"
Received: from rtp-dkim-2.cisco.com ([64.102.121.159])
	by rtp-iport-2.cisco.com with ESMTP; 14 Mar 2008 12:31:03 -0400
Received: from rtp-core-1.cisco.com (rtp-core-1.cisco.com [64.102.124.12])
	by rtp-dkim-2.cisco.com (8.12.11/8.12.11) with ESMTP id m2EGV3th017777; 
	Fri, 14 Mar 2008 12:31:03 -0400
Received: from xbh-rtp-211.amer.cisco.com (xbh-rtp-211.cisco.com
	[64.102.31.102])
	by rtp-core-1.cisco.com (8.13.8/8.13.8) with ESMTP id m2EGV3kq019556;
	Fri, 14 Mar 2008 16:31:03 GMT
Received: from xfe-rtp-201.amer.cisco.com ([64.102.31.38]) by
	xbh-rtp-211.amer.cisco.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Fri, 14 Mar 2008 12:30:51 -0400
Received: from [161.44.174.168] ([161.44.174.168]) by
	xfe-rtp-201.amer.cisco.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Fri, 14 Mar 2008 12:30:51 -0400
Message-ID: <47DAA84F.8040702@cisco.com>
Date: Fri, 14 Mar 2008 12:31:11 -0400
From: Paul Kyzivat <pkyzivat@cisco.com>
User-Agent: Thunderbird 2.0.0.12 (Windows/20080213)
MIME-Version: 1.0
To: Dean Willis <dean.willis@softarmor.com>
References: <B0495A1B-2677-4FCE-B718-3C48DCF5205B@softarmor.com>	<47D96B4B.30308@nostrum.com>	<72BD602C-7985-4E8F-ADEC-A37F5E7F437E@softarmor.com>	<47D9ACD8.2030805@nostrum.com>	<0D5F89FAC29E2C41B98A6A762007F5D07DB0A7@GBNTHT12009MSX.gb002.siemens.net>	<47DA88FC.6030907@nostrum.com>
	<42615ABA-6F14-4143-B455-1B9CFEE1BC2D@softarmor.com>
In-Reply-To: <42615ABA-6F14-4143-B455-1B9CFEE1BC2D@softarmor.com>
X-OriginalArrivalTime: 14 Mar 2008 16:30:51.0210 (UTC)
	FILETIME=[C44D3AA0:01C885F0]
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; l=329; t=1205512263; x=1206376263;
	c=relaxed/simple; s=rtpdkim2001;
	h=Content-Type:From:Subject:Content-Transfer-Encoding:MIME-Version;
	d=cisco.com; i=pkyzivat@cisco.com;
	z=From:=20Paul=20Kyzivat=20<pkyzivat@cisco.com>
	|Subject:=20Re=3A=20[Sip]=20The=20thing=20we're=20missing=2
	0in=20the=20RFC=094474=09and=09DTLS-SRTPdiscussion |Sender:=20
	|To:=20Dean=20Willis=20<dean.willis@softarmor.com>;
	bh=6TMCfkF8js2X/l8Jka1LtO1NiqxyJiAgU4P0ddZxPmI=;
	b=bDuVk022lfW1gAM/1CD1Y3j8320zYDy8l1RJl/N8dYkPNhlQuDCRQFzEwN
	b7QU3FUVcbrlchjozoqoincVOsVcqxexgp3Wg4ZYDiZyfSQ6a3OQ4XPphQf7
	MRBrRlAaRF;
Authentication-Results: rtp-dkim-2; header.From=pkyzivat@cisco.com; dkim=pass (
	sig from cisco.com/rtpdkim2001 verified; ); 
Cc: IETF SIP List <sip@ietf.org>, "Elwell, John" <john.elwell@siemens.com>,
	Adam Roach <adam@nostrum.com>
Subject: Re: [Sip] The thing we're missing in the
	RFC	4474	and	DTLS-SRTPdiscussion
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org



Dean Willis wrote:

> Case 1: Somebody in the loop is RFC 2543 and not 3261
> 
> Result: Proposal breaks because RFC 2543 nodes may fail when proxies  
> change From: fields. This doesn't bother me at all.

Amen. Seems to me it has been long enough that we ought to stop worrying 
about 2543 compatibility.

	Paul
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Fri Mar 14 09:43:04 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id A0A3928C906;
	Fri, 14 Mar 2008 09:43:04 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.196
X-Spam-Level: 
X-Spam-Status: No, score=-100.196 tagged_above=-999 required=5
	tests=[AWL=-0.359, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, J_CHICKENPOX_45=0.6, RDNS_NONE=0.1,
	USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id dXrngBkNKkCS; Fri, 14 Mar 2008 09:42:59 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 31ABB28C361;
	Fri, 14 Mar 2008 09:42:59 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 601253A69BB
	for <sip@core3.amsl.com>; Fri, 14 Mar 2008 09:42:58 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id Yrupa13KiaMq for <sip@core3.amsl.com>;
	Fri, 14 Mar 2008 09:42:53 -0700 (PDT)
Received: from rtp-iport-2.cisco.com (rtp-iport-2.cisco.com [64.102.122.149])
	by core3.amsl.com (Postfix) with ESMTP id 1EDD23A69C7
	for <sip@ietf.org>; Fri, 14 Mar 2008 09:42:32 -0700 (PDT)
X-IronPort-AV: E=Sophos;i="4.25,502,1199682000"; 
   d="scan'208";a="1796559"
Received: from rtp-dkim-2.cisco.com ([64.102.121.159])
	by rtp-iport-2.cisco.com with ESMTP; 14 Mar 2008 12:40:14 -0400
Received: from rtp-core-2.cisco.com (rtp-core-2.cisco.com [64.102.124.13])
	by rtp-dkim-2.cisco.com (8.12.11/8.12.11) with ESMTP id m2EGeEEO023003; 
	Fri, 14 Mar 2008 12:40:14 -0400
Received: from xbh-rtp-201.amer.cisco.com (xbh-rtp-201.cisco.com
	[64.102.31.12])
	by rtp-core-2.cisco.com (8.12.10/8.12.6) with ESMTP id m2EGdv0N003733; 
	Fri, 14 Mar 2008 16:40:10 GMT
Received: from xfe-rtp-202.amer.cisco.com ([64.102.31.21]) by
	xbh-rtp-201.amer.cisco.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Fri, 14 Mar 2008 12:40:04 -0400
Received: from [161.44.174.168] ([161.44.174.168]) by
	xfe-rtp-202.amer.cisco.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Fri, 14 Mar 2008 12:40:03 -0400
Message-ID: <47DAAA78.1070405@cisco.com>
Date: Fri, 14 Mar 2008 12:40:24 -0400
From: Paul Kyzivat <pkyzivat@cisco.com>
User-Agent: Thunderbird 2.0.0.12 (Windows/20080213)
MIME-Version: 1.0
To: Hadriel Kaplan <HKaplan@acmepacket.com>
References: <B0495A1B-2677-4FCE-B718-3C48DCF5205B@softarmor.com>	<092B2658AAB56A4D80836399A4C4703103D07C27@ASHEVS002.mcilink.com>	<0D5F89FAC29E2C41B98A6A762007F5D07DB0A2@GBNTHT12009MSX.gb002.siemens.net>
	<E6C2E8958BA59A4FB960963D475F7AC30BCA2EBBE1@mail.acmepacket.com>
In-Reply-To: <E6C2E8958BA59A4FB960963D475F7AC30BCA2EBBE1@mail.acmepacket.com>
X-OriginalArrivalTime: 14 Mar 2008 16:40:03.0971 (UTC)
	FILETIME=[0DC5DD30:01C885F2]
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; l=7338; t=1205512814;
	x=1206376814; c=relaxed/simple; s=rtpdkim2001;
	h=Content-Type:From:Subject:Content-Transfer-Encoding:MIME-Version;
	d=cisco.com; i=pkyzivat@cisco.com;
	z=From:=20Paul=20Kyzivat=20<pkyzivat@cisco.com>
	|Subject:=20Re=3A=20[Sip]=20Straw-man=20for=20rfc4474=20and
	=20e164 |Sender:=20
	|To:=20Hadriel=20Kaplan=20<HKaplan@acmepacket.com>;
	bh=sswvN22dUprmKpvvQuU9SYvk0D8mGX85Gatcxt+r4AM=;
	b=ziZXDzU+k7hmFbHW+CCmd7RtiQxBeYJevxvEDdlRMChF1LrgRTXL1UXZKy
	+iEPaH6CvP6MbSw8QTT8we1Gb2nfMHdZIY5hSJ6bIfBU3AIdkGhakSFRCCh2
	dplRnNWb01;
Authentication-Results: rtp-dkim-2; header.From=pkyzivat@cisco.com; dkim=pass (
	sig from cisco.com/rtpdkim2001 verified; ); 
Cc: IETF SIP List <sip@ietf.org>, "Elwell, John" <john.elwell@siemens.com>
Subject: Re: [Sip] Straw-man for rfc4474 and e164
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org



Hadriel Kaplan wrote:
> John, can you elaborate more on the straw-man proposal?  I'm not sure I fully grok it.
> 
> When I commented at the mic that the problem with such a concept, assuming I understand the proposal, is that there is nothing stopping any middle-man or frankly anything on the planet from simply signing a [number]@domain, for their domain name.  Jonathan's response I think was "well that makes it the same strength as PSTN".  But this makes it effectively useless to sign or verify.  Why bother signing?  Just use PAID. (which may well be the final result of all this discussion)

I too am struggling with this.

I think this only makes sense if you then make a policy decision: a 
white list of signing domains from which you will accept signatures for 
phone numbers. But I don't understand how you populate that white list 
in a useful way. Seems like either it is "your own enterprise (if you 
have one) and your own SP", or else it is based on your trust in the 
root CA for the signer.

The latter only works if there are one or more root CAs that enforce 
some sort of meaningful policy over who they will provide certs to. That 
in turn starts to sound a lot like policies for ENUM.

	Paul

> -hadriel
> 
>> -----Original Message-----
>> From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On Behalf Of
>> Elwell, John
>> Sent: Thursday, March 13, 2008 6:17 PM
>> To: Dwight, Timothy M (Tim); IETF SIP List
>> Subject: Re: [Sip] The thing we're missing in the RFC 4474 and DTLS-
>> SRTPdiscussion
>>
>> Quite right. PSTN gateways present their own problems, but just the use
>> of number-based SIP URIs for communications within the SIP environment
>> also has some issues, i.e., the fact that the number has meaning without
>> the domain part, and thus the temptation to modify the domain part. As
>> part of the straw man proposal presented today in the meeting, it was
>> suggested that a domain can sign a number-based SIP URI if it believes
>> that calls to that number can reach the user via that domain. So that is
>> all you can assume about the domain part of such a URI.
>>
>> Of course, this leads to the question of when is a SIP URI number-based
>> and when is it not. In theory, the user=phone parameter could be the
>> criterion, so that if user=phone is absent a relying party could assume
>> that the domain indicated in the URI is the "home" domain for that user.
>> In practice, it appears there are implementations that modify the domain
>> part of any URI that looks like it contains a phone number in the user
>> part. That would appear to be broken, in that return routability would
>> be lost. However, in practice, often a numeric user part IS a phone
>> number, and assuming global uniqueness, return routability perhaps is
>> achievable.
>>
>> So there seems to be rather a grey line between trusting or not trusting
>> the domain part of a SIP URI as being the "home" domain of the user. We
>> have to try to figure out how to address this and give reasonable advice
>> to relying parties.
>>
>> John
>>
>>> -----Original Message-----
>>> From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On
>>> Behalf Of Dwight, Timothy M (Tim)
>>> Sent: 13 March 2008 19:28
>>> To: IETF SIP List
>>> Subject: Re: [Sip] The thing we're missing in the RFC 4474
>>> and DTLS-SRTPdiscussion
>>>
>>> I don't understand the focus on PSTN gateways.  Is it
>>> believed that only
>>> PSTN gateways ever create URIs with numeric user parts?  Or that PSTN
>>> gateways are particularly untrustworthy?  Neither seems reasonable to
>>> me.
>>>
>>> tim
>>>
>>>
>>>> -----Original Message-----
>>>> From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On
>>>> Behalf Of Dean Willis
>>>> Sent: Thursday, March 13, 2008 12:00 PM
>>>> To: IETF SIP List
>>>> Subject: [Sip] The thing we're missing in the RFC 4474 and
>>>> DTLS-SRTP discussion
>>>>
>>>>
>>>> We seem to agree that RFC 4474 assertions involving things
>>> that look
>>>> like phone numbers can not really be trusted, and probably
>>> therefore
>>>> should not be sent.
>>>>
>>>> However, DTLS-SRTP doesn't function without RFC 4474.
>>>>
>>>> So, if you need to use DTLS-SRTP to protect a phone call that
>>>> involves
>>>> a numeric identity (and that includes E.164, private phone
>>> numbers,
>>>> and numeric user parts of any kind), you end up having to
>>>> send an RFC
>>>> 4474 Identity header that is going to mislead people.
>>>>
>>>> So as things are currently written, one can never use
>>>> DTLS-SRTP with a
>>>> numeric userpart in the identity.
>>>>
>>>> That's the part that we absolutely have to sort out.
>>>>
>>>> We could fix this by having gateways encode their identity using a
>>>> reserved userpart. This has to have the  property of saying
>>> "Do not
>>>> display this as caller-ID". Using "sip:domain" or
>>>> "sip:ipaddress" does
>>>> not work, as those might actually be valid URIs that be be
>>> displayed
>>>> as IDs.
>>>>
>>>> It might work to have the gateway use a reserved value, like
>>>> "sip:pstngateway@domain
>>>> ".
>>>>
>>>> Or it might work to extend RFC 4474 to have a "strength of
>>>> assertion"
>>>> indicator.
>>>>
>>>> It's certainly easier to add guidance in DTLS-SRTP about what
>>>> gateways
>>>> should do and about how UASes should interpret various
>>> header fields
>>>> than it is to change RFC 4474.
>>>>
>>>> However, we need to note that a standards-track document
>>> cannot say
>>>> "Use P-Asserted-Identity". That would be an unacceptable
>>> downref. It
>>>> could however say "If the identity encoded in the RFC 4474
>>> Identity
>>>> header has the reserved userpart "pstngateway", then the UAS
>>>> MUST NOT
>>>> display this to the user as the calling party identifier.
>>>> Rather, the
>>>> UAS should use other indicators of calling party identity
>>>> that may be
>>>> available to it.
>>>>
>>>> --
>>>> Dean
>>>> _______________________________________________
>>>> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
>>>> This list is for NEW development of the core SIP Protocol
>>>> Use sip-implementors@cs.columbia.edu for questions on current sip
>>>> Use sipping@ietf.org for new developments on the application of sip
>>>>
>>> _______________________________________________
>>> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
>>> This list is for NEW development of the core SIP Protocol
>>> Use sip-implementors@cs.columbia.edu for questions on current sip
>>> Use sipping@ietf.org for new developments on the application of sip
>>>
>> _______________________________________________
>> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
>> This list is for NEW development of the core SIP Protocol
>> Use sip-implementors@cs.columbia.edu for questions on current sip
>> Use sipping@ietf.org for new developments on the application of sip
> _______________________________________________
> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
> 
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Fri Mar 14 10:48:51 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 1759D28C340;
	Fri, 14 Mar 2008 10:48:51 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.57
X-Spam-Level: 
X-Spam-Status: No, score=-100.57 tagged_above=-999 required=5
	tests=[AWL=-0.133, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id bkir2TuHlx6k; Fri, 14 Mar 2008 10:48:50 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id EDB983A6AFB;
	Fri, 14 Mar 2008 10:48:49 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id B56523A6975
	for <sip@core3.amsl.com>; Fri, 14 Mar 2008 10:48:48 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id zsw++my6KMzI for <sip@core3.amsl.com>;
	Fri, 14 Mar 2008 10:48:47 -0700 (PDT)
Received: from mailgate.siemenscomms.co.uk (mailgate.siemenscomms.co.uk
	[195.171.110.225])
	by core3.amsl.com (Postfix) with ESMTP id A7C3F3A6AFB
	for <sip@ietf.org>; Fri, 14 Mar 2008 10:48:47 -0700 (PDT)
Received: from GBNTHT12009MSX.gb002.siemens.net ([137.223.219.236])
	by siemenscomms.co.uk (PMDF V6.3-x14 #31430)
	with ESMTP id <0JXQ00G9JEG7V8@siemenscomms.co.uk> for sip@ietf.org; Fri,
	14 Mar 2008 17:40:55 +0000 (GMT)
Date: Fri, 14 Mar 2008 17:40:53 +0000
From: "Elwell, John" <john.elwell@siemens.com>
In-reply-to: <42615ABA-6F14-4143-B455-1B9CFEE1BC2D@softarmor.com>
To: Dean Willis <dean.willis@softarmor.com>, Adam Roach <adam@nostrum.com>
Message-id: <0D5F89FAC29E2C41B98A6A762007F5D07DB442@GBNTHT12009MSX.gb002.siemens.net>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft Exchange V6.5
Thread-Topic: [Sip] The thing we're missing in the RFC 4474
	andDTLS-SRTPdiscussion
Thread-Index: AciF4p0hAujVXbS/QXiYakc0Isd+8wAFznCQ
Content-class: urn:content-classes:message
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
References: <B0495A1B-2677-4FCE-B718-3C48DCF5205B@softarmor.com>
	<47D96B4B.30308@nostrum.com>
	<72BD602C-7985-4E8F-ADEC-A37F5E7F437E@softarmor.com>
	<47D9ACD8.2030805@nostrum.com>
	<0D5F89FAC29E2C41B98A6A762007F5D07DB0A7@GBNTHT12009MSX.gb002.siemens.net>
	<47DA88FC.6030907@nostrum.com>
	<42615ABA-6F14-4143-B455-1B9CFEE1BC2D@softarmor.com>
Cc: IETF SIP List <sip@ietf.org>
Subject: Re: [Sip] The thing we're missing in the RFC
	4474	andDTLS-SRTPdiscussion
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Dean,

I like your proposal. I think return calls should work too. If sent to
the URI (complete with lack-of-trust parameter), it should cause the
request to route to the same gateway (or another in the same domain),
which can simply ignore the lack-of-trust parameter and route to PSTN
(or even do an ENUM look-up and route onwards in SIP if that turns out
to be possible).

Also an intermediate SIP entity might ignore the domain part and route
only on the phone number, but again I think no harm is done.

John 

> -----Original Message-----
> From: Dean Willis [mailto:dean.willis@softarmor.com] 
> Sent: 14 March 2008 14:48
> To: Adam Roach
> Cc: Elwell, John; IETF SIP List
> Subject: Re: [Sip] The thing we're missing in the RFC 4474 
> andDTLS-SRTPdiscussion
> 
> 
> On Mar 14, 2008, at 10:17 AM, Adam Roach wrote:
> >>>
> >> [JRE] Many phones do recognise P-Asserted-Identity and use that in
> >> preference to an unsigned From URI. It is difficult to find a  
> >> solution
> >> that will not upset any existing deployed device, but we 
> can at least
> >> try to make it work acceptably with a sizeable population.
> >>
> >
> > So we've gone from warning "don't implement 
> internet-drafts" to "don't
> > implement RFCs"? It seems folly to pull the rug out from under  
> > existing
> > user agents when we've already identified at least one approach that
> > seems to satisfy the keying requirement without breaking existing
> > deployed equipment or making assertions that can't be 
> verified by the
> > asserter.
> 
> I think this is just another caveat on existing equipment. Some  
> phones, if P-A-ID is present, will preferentially display it. Some  
> will do this even in the presence of an Identity-signed From: field  
> that contains conflicting information (inasmuch as they ignore  
> Identity completely and prefer P-Asserted-Identity to From).
> 
> This is simply something that happens. We have to analyze the  
> situation from a backward-compatibility perspective.
> 
> Proposal: Include a usage disclaimer parameter on the URI in 
> the From:  
> field of a request to which we apply RFC 4474 authentication 
> service,  
> resulting in an Identity header that signs the request 
> (including the  
> URI part of the From: field).
> 
> Case 1: Somebody in the loop is RFC 2543 and not 3261
> 
> Result: Proposal breaks because RFC 2543 nodes may fail when proxies  
> change From: fields. This doesn't bother me at all.
> 
> 
> Case 2: Receiver doesn't understand RFC 4474 or this proposal:
> 
> Subcase 2a: Receiver prefers From: field
> 
> Result: Contents of From: field are rendered. This MAY inform a  
> knowledgeable user of the lack-of-trust, but probably won't.
> 
> Subcase 2b: Receiver prefers P-A-ID
> 
> Result: Contents of P-A-ID are rendered. So this results depends on  
> how P-A-ID was populated, which is up to the implementation.
> 
> 
> Case 2: Receiver understands RFC 4474 but not this proposal:
> 
> Result: Contents of From: field are rendered as verified. 
> Depending on  
> the rendering, this may either inform a knowledgeable user, 
> or display  
> as verified information that we know is not verified.
> 
> 
> Case 3: Receiver understands RFC 4474 and this proposal (and DTLS- 
> SRTP) :
> 
> Result: Contents of From: field are rendered as unverified. Media is  
> encrypted. Media is verifiably bound to signaling. All is good.
> 
> --
> Dean
> 
> 
> 
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Fri Mar 14 10:54:29 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id DC9033A6F86;
	Fri, 14 Mar 2008 10:54:29 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.25
X-Spam-Level: 
X-Spam-Status: No, score=-100.25 tagged_above=-999 required=5
	tests=[AWL=-0.413, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, J_CHICKENPOX_41=0.6, RDNS_NONE=0.1,
	USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id BpsNdAwsg8eI; Fri, 14 Mar 2008 10:54:25 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id B042A3A6DB9;
	Fri, 14 Mar 2008 10:54:25 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id C05B83A695D
	for <sip@core3.amsl.com>; Fri, 14 Mar 2008 10:54:24 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id DE+szv5phhLm for <sip@core3.amsl.com>;
	Fri, 14 Mar 2008 10:54:24 -0700 (PDT)
Received: from mailgate.siemenscomms.co.uk (mailgate.siemenscomms.co.uk
	[195.171.110.225])
	by core3.amsl.com (Postfix) with ESMTP id C803D3A69BB
	for <sip@ietf.org>; Fri, 14 Mar 2008 10:54:23 -0700 (PDT)
Received: from GBNTHT12009MSX.gb002.siemens.net ([137.223.219.236])
	by siemenscomms.co.uk (PMDF V6.3-x14 #31430)
	with ESMTP id <0JXQ00HAAEYUHK@siemenscomms.co.uk> for sip@ietf.org; Fri,
	14 Mar 2008 17:52:06 +0000 (GMT)
Date: Fri, 14 Mar 2008 17:52:05 +0000
From: "Elwell, John" <john.elwell@siemens.com>
In-reply-to: <47DA88FC.6030907@nostrum.com>
To: Adam Roach <adam@nostrum.com>
Message-id: <0D5F89FAC29E2C41B98A6A762007F5D07DB44D@GBNTHT12009MSX.gb002.siemens.net>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft Exchange V6.5
Thread-Topic: [Sip] The thing we're missing in the RFC 4474
	andDTLS-SRTPdiscussion
Thread-Index: AciF3qRxe9WT0fkkTqKY8htTPWJLZgAHRyWQ
Content-class: urn:content-classes:message
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
References: <B0495A1B-2677-4FCE-B718-3C48DCF5205B@softarmor.com>
	<47D96B4B.30308@nostrum.com>
	<72BD602C-7985-4E8F-ADEC-A37F5E7F437E@softarmor.com>
	<47D9ACD8.2030805@nostrum.com>
	<0D5F89FAC29E2C41B98A6A762007F5D07DB0A7@GBNTHT12009MSX.gb002.siemens.net>
	<47DA88FC.6030907@nostrum.com>
Cc: IETF SIP List <sip@ietf.org>, Dean Willis <dean.willis@softarmor.com>
Subject: Re: [Sip] The thing we're missing in the RFC
	4474	andDTLS-SRTPdiscussion
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Adam,

I am confused how we got here. As I said in a response to Dean a few
minutes ago, I think a level-of-trust parameter could work. Dean
explained the different options of UASs on receiving information in both
PAI and From.

John 

> -----Original Message-----
> From: Adam Roach [mailto:adam@nostrum.com] 
> Sent: 14 March 2008 14:18
> To: Elwell, John
> Cc: Dean Willis; IETF SIP List
> Subject: Re: [Sip] The thing we're missing in the RFC 4474 
> andDTLS-SRTPdiscussion
> 
> On 3/13/08 7:07 PM, Elwell, John wrote:
> >  
> >   
> >> -----Original Message-----
> >> From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On 
> >> Behalf Of Adam Roach
> >>
> >> I'll reiterate my key point here at the top: we cannot 
> retroactively 
> >> change the behavior of deployed user agents. All we can do is 
> >> make sure 
> >> what we're proposing doesn't make do stupid and/or useless things.
> >>
> >> More inline.
> >>
> >> On 3/13/08 6:26 PM, Dean Willis wrote:
> >>     
> >>> On Mar 13, 2008, at 1:58 PM, Adam Roach wrote:
> >>>> On 3/13/08 11:59 AM, Dean Willis wrote:
> >>>>         
> >>> That;s why John proposed P-AI-ID as the Caller-ID source.
> >>>       
> >> The phone on my desk would treat that like any other unknown 
> >> header, and 
> >> ignore it.
> >>     
> > [JRE] Many phones do recognise P-Asserted-Identity and use that in
> > preference to an unsigned From URI. It is difficult to find 
> a solution
> > that will not upset any existing deployed device, but we 
> can at least
> > try to make it work acceptably with a sizeable population.
> >   
> 
> 
> So we've gone from warning "don't implement internet-drafts" 
> to "don't 
> implement RFCs"? It seems folly to pull the rug out from 
> under existing 
> user agents when we've already identified at least one approach that 
> seems to satisfy the keying requirement without breaking existing 
> deployed equipment or making assertions that can't be verified by the 
> asserter.
> 
> Do you have a concrete objection to my proposal to tag the 
> signed URI as 
> having a level of trust that is less than absolute?
> 
> /a
> 
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Fri Mar 14 11:06:02 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 939FB28C227;
	Fri, 14 Mar 2008 11:06:01 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.227
X-Spam-Level: 
X-Spam-Status: No, score=-100.227 tagged_above=-999 required=5
	tests=[AWL=-0.390, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, J_CHICKENPOX_45=0.6, RDNS_NONE=0.1,
	USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id Qb2UIFO47wnm; Fri, 14 Mar 2008 11:05:57 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 2E1723A69C7;
	Fri, 14 Mar 2008 11:05:57 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 6AEB13A6B61
	for <sip@core3.amsl.com>; Fri, 14 Mar 2008 11:05:55 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id lC3vLcQHtFhh for <sip@core3.amsl.com>;
	Fri, 14 Mar 2008 11:05:49 -0700 (PDT)
Received: from mailgate.siemenscomms.co.uk (mailgate.siemenscomms.co.uk
	[195.171.110.225])
	by core3.amsl.com (Postfix) with ESMTP id 211543A696C
	for <sip@ietf.org>; Fri, 14 Mar 2008 11:05:49 -0700 (PDT)
Received: from GBNTHT12009MSX.gb002.siemens.net ([137.223.219.236])
	by siemenscomms.co.uk (PMDF V6.3-x14 #31430)
	with ESMTP id <0JXQ00I3RFF3DB@siemenscomms.co.uk> for sip@ietf.org; Fri,
	14 Mar 2008 18:01:51 +0000 (GMT)
Date: Fri, 14 Mar 2008 18:01:49 +0000
From: "Elwell, John" <john.elwell@siemens.com>
In-reply-to: <E6C2E8958BA59A4FB960963D475F7AC30BCA2EBBE1@mail.acmepacket.com>
To: Hadriel Kaplan <HKaplan@acmepacket.com>,
	"Dwight, Timothy M (Tim)" <timothy.dwight@verizonbusiness.com>,
	IETF SIP List <sip@ietf.org>
Message-id: <0D5F89FAC29E2C41B98A6A762007F5D07DB454@GBNTHT12009MSX.gb002.siemens.net>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft Exchange V6.5
Thread-Topic: Straw-man for rfc4474 and e164
Thread-Index: AciFI5YbIRH7as9BRI6LOp3qb71tsgADi3bQAAkEwCAAJkpDAAADU+/w
Content-class: urn:content-classes:message
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
References: <B0495A1B-2677-4FCE-B718-3C48DCF5205B@softarmor.com>
	<092B2658AAB56A4D80836399A4C4703103D07C27@ASHEVS002.mcilink.com>
	<0D5F89FAC29E2C41B98A6A762007F5D07DB0A2@GBNTHT12009MSX.gb002.siemens.net>
	<E6C2E8958BA59A4FB960963D475F7AC30BCA2EBBE1@mail.acmepacket.com>
Subject: Re: [Sip] Straw-man for rfc4474 and e164
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Hadriel,

Part of the straw man proposal was "If a user is identified by a phone
number, its domain can sign with an RFC 4474 signature if it believes
that calls to that number will reach the user".
So yes, an intervening domain can change the domain name and resign,
which is fine as long as you can get back to that E.164 number via that
domain. As far as DTLS-SRTP is concerned, it means media are secured as
far as that domain. It is slightly better than PAI because it signs the
fingerprint of the certificate to be used for DTLS. If you want
something better, use so-called "email-style" URIs, which can't be
changed by intermediate domains (without totally breaking things).

John
 

> -----Original Message-----
> From: Hadriel Kaplan [mailto:HKaplan@acmepacket.com] 
> Sent: 14 March 2008 16:27
> To: Elwell, John; Dwight, Timothy M (Tim); IETF SIP List
> Subject: Straw-man for rfc4474 and e164
> 
> John, can you elaborate more on the straw-man proposal?  I'm 
> not sure I fully grok it.
> 
> When I commented at the mic that the problem with such a 
> concept, assuming I understand the proposal, is that there is 
> nothing stopping any middle-man or frankly anything on the 
> planet from simply signing a [number]@domain, for their 
> domain name.  Jonathan's response I think was "well that 
> makes it the same strength as PSTN".  But this makes it 
> effectively useless to sign or verify.  Why bother signing?  
> Just use PAID. (which may well be the final result of all 
> this discussion)
> 
> -hadriel
> 
> > -----Original Message-----
> > From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On 
> Behalf Of
> > Elwell, John
> > Sent: Thursday, March 13, 2008 6:17 PM
> > To: Dwight, Timothy M (Tim); IETF SIP List
> > Subject: Re: [Sip] The thing we're missing in the RFC 4474 and DTLS-
> > SRTPdiscussion
> >
> > Quite right. PSTN gateways present their own problems, but 
> just the use
> > of number-based SIP URIs for communications within the SIP 
> environment
> > also has some issues, i.e., the fact that the number has 
> meaning without
> > the domain part, and thus the temptation to modify the 
> domain part. As
> > part of the straw man proposal presented today in the 
> meeting, it was
> > suggested that a domain can sign a number-based SIP URI if 
> it believes
> > that calls to that number can reach the user via that 
> domain. So that is
> > all you can assume about the domain part of such a URI.
> >
> > Of course, this leads to the question of when is a SIP URI 
> number-based
> > and when is it not. In theory, the user=phone parameter could be the
> > criterion, so that if user=phone is absent a relying party 
> could assume
> > that the domain indicated in the URI is the "home" domain 
> for that user.
> > In practice, it appears there are implementations that 
> modify the domain
> > part of any URI that looks like it contains a phone number 
> in the user
> > part. That would appear to be broken, in that return 
> routability would
> > be lost. However, in practice, often a numeric user part IS a phone
> > number, and assuming global uniqueness, return routability 
> perhaps is
> > achievable.
> >
> > So there seems to be rather a grey line between trusting or 
> not trusting
> > the domain part of a SIP URI as being the "home" domain of 
> the user. We
> > have to try to figure out how to address this and give 
> reasonable advice
> > to relying parties.
> >
> > John
> >
> > > -----Original Message-----
> > > From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On
> > > Behalf Of Dwight, Timothy M (Tim)
> > > Sent: 13 March 2008 19:28
> > > To: IETF SIP List
> > > Subject: Re: [Sip] The thing we're missing in the RFC 4474
> > > and DTLS-SRTPdiscussion
> > >
> > > I don't understand the focus on PSTN gateways.  Is it
> > > believed that only
> > > PSTN gateways ever create URIs with numeric user parts?  
> Or that PSTN
> > > gateways are particularly untrustworthy?  Neither seems 
> reasonable to
> > > me.
> > >
> > > tim
> > >
> > >
> > > > -----Original Message-----
> > > > From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On
> > > > Behalf Of Dean Willis
> > > > Sent: Thursday, March 13, 2008 12:00 PM
> > > > To: IETF SIP List
> > > > Subject: [Sip] The thing we're missing in the RFC 4474 and
> > > > DTLS-SRTP discussion
> > > >
> > > >
> > > > We seem to agree that RFC 4474 assertions involving things
> > > that look
> > > > like phone numbers can not really be trusted, and probably
> > > therefore
> > > > should not be sent.
> > > >
> > > > However, DTLS-SRTP doesn't function without RFC 4474.
> > > >
> > > > So, if you need to use DTLS-SRTP to protect a phone call that
> > > > involves
> > > > a numeric identity (and that includes E.164, private phone
> > > numbers,
> > > > and numeric user parts of any kind), you end up having to
> > > > send an RFC
> > > > 4474 Identity header that is going to mislead people.
> > > >
> > > > So as things are currently written, one can never use
> > > > DTLS-SRTP with a
> > > > numeric userpart in the identity.
> > > >
> > > > That's the part that we absolutely have to sort out.
> > > >
> > > > We could fix this by having gateways encode their 
> identity using a
> > > > reserved userpart. This has to have the  property of saying
> > > "Do not
> > > > display this as caller-ID". Using "sip:domain" or
> > > > "sip:ipaddress" does
> > > > not work, as those might actually be valid URIs that be be
> > > displayed
> > > > as IDs.
> > > >
> > > > It might work to have the gateway use a reserved value, like
> > > > "sip:pstngateway@domain
> > > > ".
> > > >
> > > > Or it might work to extend RFC 4474 to have a "strength of
> > > > assertion"
> > > > indicator.
> > > >
> > > > It's certainly easier to add guidance in DTLS-SRTP about what
> > > > gateways
> > > > should do and about how UASes should interpret various
> > > header fields
> > > > than it is to change RFC 4474.
> > > >
> > > > However, we need to note that a standards-track document
> > > cannot say
> > > > "Use P-Asserted-Identity". That would be an unacceptable
> > > downref. It
> > > > could however say "If the identity encoded in the RFC 4474
> > > Identity
> > > > header has the reserved userpart "pstngateway", then the UAS
> > > > MUST NOT
> > > > display this to the user as the calling party identifier.
> > > > Rather, the
> > > > UAS should use other indicators of calling party identity
> > > > that may be
> > > > available to it.
> > > >
> > > > --
> > > > Dean
> > > > _______________________________________________
> > > > Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> > > > This list is for NEW development of the core SIP Protocol
> > > > Use sip-implementors@cs.columbia.edu for questions on 
> current sip
> > > > Use sipping@ietf.org for new developments on the 
> application of sip
> > > >
> > > _______________________________________________
> > > Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> > > This list is for NEW development of the core SIP Protocol
> > > Use sip-implementors@cs.columbia.edu for questions on current sip
> > > Use sipping@ietf.org for new developments on the 
> application of sip
> > >
> > _______________________________________________
> > Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> > This list is for NEW development of the core SIP Protocol
> > Use sip-implementors@cs.columbia.edu for questions on current sip
> > Use sipping@ietf.org for new developments on the application of sip
> 
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Fri Mar 14 11:06:39 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id F11F628C5B6;
	Fri, 14 Mar 2008 11:06:38 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.226
X-Spam-Level: 
X-Spam-Status: No, score=-100.226 tagged_above=-999 required=5
	tests=[AWL=-0.389, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, J_CHICKENPOX_45=0.6, RDNS_NONE=0.1,
	USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id Jt+xGLkiW1dS; Fri, 14 Mar 2008 11:06:37 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id EC56028C22A;
	Fri, 14 Mar 2008 11:06:36 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 752353A697B
	for <sip@core3.amsl.com>; Fri, 14 Mar 2008 11:06:35 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id ubH8KkND76H1 for <sip@core3.amsl.com>;
	Fri, 14 Mar 2008 11:06:34 -0700 (PDT)
Received: from mailgate.siemenscomms.co.uk (mailgate.siemenscomms.co.uk
	[195.171.110.225])
	by core3.amsl.com (Postfix) with ESMTP id C75DE3A6BF1
	for <sip@ietf.org>; Fri, 14 Mar 2008 11:06:33 -0700 (PDT)
Received: from GBNTHT12009MSX.gb002.siemens.net ([137.223.219.236])
	by siemenscomms.co.uk (PMDF V6.3-x14 #31430)
	with ESMTP id <0JXQ00I0VFJ3E6@siemenscomms.co.uk> for sip@ietf.org; Fri,
	14 Mar 2008 18:04:16 +0000 (GMT)
Date: Fri, 14 Mar 2008 18:04:13 +0000
From: "Elwell, John" <john.elwell@siemens.com>
In-reply-to: <47DAAA78.1070405@cisco.com>
To: Paul Kyzivat <pkyzivat@cisco.com>, Hadriel Kaplan <HKaplan@acmepacket.com>
Message-id: <0D5F89FAC29E2C41B98A6A762007F5D07DB456@GBNTHT12009MSX.gb002.siemens.net>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft Exchange V6.5
Thread-Topic: [Sip] Straw-man for rfc4474 and e164
Thread-Index: AciF8hZoVVwMB5d9TuG1+2BwUOkiwAAC4thQ
Content-class: urn:content-classes:message
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
References: <B0495A1B-2677-4FCE-B718-3C48DCF5205B@softarmor.com>
	<092B2658AAB56A4D80836399A4C4703103D07C27@ASHEVS002.mcilink.com>
	<0D5F89FAC29E2C41B98A6A762007F5D07DB0A2@GBNTHT12009MSX.gb002.siemens.net>
	<E6C2E8958BA59A4FB960963D475F7AC30BCA2EBBE1@mail.acmepacket.com>
	<47DAAA78.1070405@cisco.com>
Cc: IETF SIP List <sip@ietf.org>
Subject: Re: [Sip] Straw-man for rfc4474 and e164
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

 

> -----Original Message-----
> From: Paul Kyzivat [mailto:pkyzivat@cisco.com] 
> Sent: 14 March 2008 16:40
> To: Hadriel Kaplan
> Cc: Elwell, John; Dwight, Timothy M (Tim); IETF SIP List
> Subject: Re: [Sip] Straw-man for rfc4474 and e164
> 
> 
> 
> Hadriel Kaplan wrote:
> > John, can you elaborate more on the straw-man proposal?  
> I'm not sure I fully grok it.
> > 
> > When I commented at the mic that the problem with such a 
> concept, assuming I understand the proposal, is that there is 
> nothing stopping any middle-man or frankly anything on the 
> planet from simply signing a [number]@domain, for their 
> domain name.  Jonathan's response I think was "well that 
> makes it the same strength as PSTN".  But this makes it 
> effectively useless to sign or verify.  Why bother signing?  
> Just use PAID. (which may well be the final result of all 
> this discussion)
> 
> I too am struggling with this.
> 
> I think this only makes sense if you then make a policy decision: a 
> white list of signing domains from which you will accept 
> signatures for 
> phone numbers. But I don't understand how you populate that 
> white list 
> in a useful way. Seems like either it is "your own enterprise (if you 
> have one) and your own SP",
[JRE] Yes, probably just these too. This is a limitation of phone number
based URIs.

> or else it is based on your trust in the 
> root CA for the signer.
> 
> The latter only works if there are one or more root CAs that enforce 
> some sort of meaningful policy over who they will provide 
> certs to. That 
> in turn starts to sound a lot like policies for ENUM.
> 
> 	Paul
> 
> > -hadriel
> > 
> >> -----Original Message-----
> >> From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] 
> On Behalf Of
> >> Elwell, John
> >> Sent: Thursday, March 13, 2008 6:17 PM
> >> To: Dwight, Timothy M (Tim); IETF SIP List
> >> Subject: Re: [Sip] The thing we're missing in the RFC 4474 
> and DTLS-
> >> SRTPdiscussion
> >>
> >> Quite right. PSTN gateways present their own problems, but 
> just the use
> >> of number-based SIP URIs for communications within the SIP 
> environment
> >> also has some issues, i.e., the fact that the number has 
> meaning without
> >> the domain part, and thus the temptation to modify the 
> domain part. As
> >> part of the straw man proposal presented today in the 
> meeting, it was
> >> suggested that a domain can sign a number-based SIP URI if 
> it believes
> >> that calls to that number can reach the user via that 
> domain. So that is
> >> all you can assume about the domain part of such a URI.
> >>
> >> Of course, this leads to the question of when is a SIP URI 
> number-based
> >> and when is it not. In theory, the user=phone parameter 
> could be the
> >> criterion, so that if user=phone is absent a relying party 
> could assume
> >> that the domain indicated in the URI is the "home" domain 
> for that user.
> >> In practice, it appears there are implementations that 
> modify the domain
> >> part of any URI that looks like it contains a phone number 
> in the user
> >> part. That would appear to be broken, in that return 
> routability would
> >> be lost. However, in practice, often a numeric user part IS a phone
> >> number, and assuming global uniqueness, return routability 
> perhaps is
> >> achievable.
> >>
> >> So there seems to be rather a grey line between trusting 
> or not trusting
> >> the domain part of a SIP URI as being the "home" domain of 
> the user. We
> >> have to try to figure out how to address this and give 
> reasonable advice
> >> to relying parties.
> >>
> >> John
> >>
> >>> -----Original Message-----
> >>> From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On
> >>> Behalf Of Dwight, Timothy M (Tim)
> >>> Sent: 13 March 2008 19:28
> >>> To: IETF SIP List
> >>> Subject: Re: [Sip] The thing we're missing in the RFC 4474
> >>> and DTLS-SRTPdiscussion
> >>>
> >>> I don't understand the focus on PSTN gateways.  Is it
> >>> believed that only
> >>> PSTN gateways ever create URIs with numeric user parts?  
> Or that PSTN
> >>> gateways are particularly untrustworthy?  Neither seems 
> reasonable to
> >>> me.
> >>>
> >>> tim
> >>>
> >>>
> >>>> -----Original Message-----
> >>>> From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On
> >>>> Behalf Of Dean Willis
> >>>> Sent: Thursday, March 13, 2008 12:00 PM
> >>>> To: IETF SIP List
> >>>> Subject: [Sip] The thing we're missing in the RFC 4474 and
> >>>> DTLS-SRTP discussion
> >>>>
> >>>>
> >>>> We seem to agree that RFC 4474 assertions involving things
> >>> that look
> >>>> like phone numbers can not really be trusted, and probably
> >>> therefore
> >>>> should not be sent.
> >>>>
> >>>> However, DTLS-SRTP doesn't function without RFC 4474.
> >>>>
> >>>> So, if you need to use DTLS-SRTP to protect a phone call that
> >>>> involves
> >>>> a numeric identity (and that includes E.164, private phone
> >>> numbers,
> >>>> and numeric user parts of any kind), you end up having to
> >>>> send an RFC
> >>>> 4474 Identity header that is going to mislead people.
> >>>>
> >>>> So as things are currently written, one can never use
> >>>> DTLS-SRTP with a
> >>>> numeric userpart in the identity.
> >>>>
> >>>> That's the part that we absolutely have to sort out.
> >>>>
> >>>> We could fix this by having gateways encode their 
> identity using a
> >>>> reserved userpart. This has to have the  property of saying
> >>> "Do not
> >>>> display this as caller-ID". Using "sip:domain" or
> >>>> "sip:ipaddress" does
> >>>> not work, as those might actually be valid URIs that be be
> >>> displayed
> >>>> as IDs.
> >>>>
> >>>> It might work to have the gateway use a reserved value, like
> >>>> "sip:pstngateway@domain
> >>>> ".
> >>>>
> >>>> Or it might work to extend RFC 4474 to have a "strength of
> >>>> assertion"
> >>>> indicator.
> >>>>
> >>>> It's certainly easier to add guidance in DTLS-SRTP about what
> >>>> gateways
> >>>> should do and about how UASes should interpret various
> >>> header fields
> >>>> than it is to change RFC 4474.
> >>>>
> >>>> However, we need to note that a standards-track document
> >>> cannot say
> >>>> "Use P-Asserted-Identity". That would be an unacceptable
> >>> downref. It
> >>>> could however say "If the identity encoded in the RFC 4474
> >>> Identity
> >>>> header has the reserved userpart "pstngateway", then the UAS
> >>>> MUST NOT
> >>>> display this to the user as the calling party identifier.
> >>>> Rather, the
> >>>> UAS should use other indicators of calling party identity
> >>>> that may be
> >>>> available to it.
> >>>>
> >>>> --
> >>>> Dean
> >>>> _______________________________________________
> >>>> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> >>>> This list is for NEW development of the core SIP Protocol
> >>>> Use sip-implementors@cs.columbia.edu for questions on current sip
> >>>> Use sipping@ietf.org for new developments on the 
> application of sip
> >>>>
> >>> _______________________________________________
> >>> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> >>> This list is for NEW development of the core SIP Protocol
> >>> Use sip-implementors@cs.columbia.edu for questions on current sip
> >>> Use sipping@ietf.org for new developments on the 
> application of sip
> >>>
> >> _______________________________________________
> >> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> >> This list is for NEW development of the core SIP Protocol
> >> Use sip-implementors@cs.columbia.edu for questions on current sip
> >> Use sipping@ietf.org for new developments on the application of sip
> > _______________________________________________
> > Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> > This list is for NEW development of the core SIP Protocol
> > Use sip-implementors@cs.columbia.edu for questions on current sip
> > Use sipping@ietf.org for new developments on the application of sip
> > 
> 
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Fri Mar 14 11:13:47 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id BA6AA28C553;
	Fri, 14 Mar 2008 11:13:47 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.519
X-Spam-Level: 
X-Spam-Status: No, score=-100.519 tagged_above=-999 required=5
	tests=[AWL=-0.082, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id YJsIrHNrNmqH; Fri, 14 Mar 2008 11:13:43 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 92FCC3A685D;
	Fri, 14 Mar 2008 11:13:43 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 7B3FC3A67E6
	for <sip@core3.amsl.com>; Fri, 14 Mar 2008 11:13:42 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id c4vzP7iVz+Iq for <sip@core3.amsl.com>;
	Fri, 14 Mar 2008 11:13:41 -0700 (PDT)
Received: from mailgate.siemenscomms.co.uk (mailgate.siemenscomms.co.uk
	[195.171.110.225])
	by core3.amsl.com (Postfix) with ESMTP id 7BF523A685D
	for <sip@ietf.org>; Fri, 14 Mar 2008 11:13:41 -0700 (PDT)
Received: from GBNTHT12009MSX.gb002.siemens.net ([137.223.219.236])
	by siemenscomms.co.uk (PMDF V6.3-x14 #31430)
	with ESMTP id <0JXQ00I7WFUAOQ@siemenscomms.co.uk> for sip@ietf.org; Fri,
	14 Mar 2008 18:10:58 +0000 (GMT)
Date: Fri, 14 Mar 2008 18:10:56 +0000
From: "Elwell, John" <john.elwell@siemens.com>
In-reply-to: <47DAA702.1060600@cisco.com>
To: Paul Kyzivat <pkyzivat@cisco.com>, Richard Good <rgood@crg.ee.uct.ac.za>
Message-id: <0D5F89FAC29E2C41B98A6A762007F5D07DB458@GBNTHT12009MSX.gb002.siemens.net>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft Exchange V6.5
Thread-Topic: [Sip] 302 Support in RFC 3665
Thread-Index: AciF8IzWpvouw0sOQKWuLvjZnzSfwgADbrCA
Content-class: urn:content-classes:message
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
References: <47DA4E02.8000502@crg.ee.uct.ac.za> <47DAA702.1060600@cisco.com>
Cc: sip@ietf.org
Subject: Re: [Sip] 302 Support in RFC 3665
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Richard,

Notwithstanding what Paul sent, I am confused by your original question,
because INVITE F4 does NOT contain a To tag, so there is no dialog. The
first dialog-forming response leads to a different dialog, because the
To tag is different from that in the 302.

John

> -----Original Message-----
> From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On 
> Behalf Of Paul Kyzivat
> Sent: 14 March 2008 16:26
> To: Richard Good
> Cc: sip@ietf.org
> Subject: Re: [Sip] 302 Support in RFC 3665
> 
> 
> 
> Richard Good wrote:
> > Hi,
> > 
> > I have a query regarding the 302 (Temporarily Moved) 
> message flow shown 
> > in RFC 3665.
> > 
> > Essentially if a SIP client receives a 302 message in 
> response to an 
> > INVITE  it should ACK this message and then using the 
> address in the 
> > contact field send a new INVITE request.
> > 
> > In the message flow shown in RFC 3665 (see section 3.6. Session via 
> > Redirect and Proxy Servers with SDP in ACK) the new INVITE 
> request has 
> > the same To field, From field, To Tag and Call ID - the 
> Request URI uses 
> > the address specified in the Contact field of the 302 response.  
> > Essentially this new INVITE is part of the same dialog but has a 
> > different Request URI.
> > 
> > My questions are: Is the 302 response not a final response? 
> Does it not 
> > end the dialog? Shouldn't the new INVITE have new Call ID, 
> tags etc. and 
> > shouldn't the address from the Contact field be in the 
> Request URI and 
> > To field of the new INVITE request?
> 
> See 3261 section 8.1.3.4. Using the same To, From, and Call-Id is 
> *recommended*, but not required.
> 
> Note that if the 3xx recursion is done by a proxy along the 
> path it must 
> be this way, so it seems harmless for the UAC to do as a proxy would.
> 
> OTOH, there are cases when it would be good for the To-URI to be 
> updated. For instance, if a UAC counts on a proxy at the originating 
> side to expand certain URIs, such as speed dial numbers, it would be 
> good to do so by redirection, and for the UAC to put the 
> expanded number 
> into the To-URI, so that the callee will have a clue of where 
> the call 
> was intended to go. But doing this seems to require some 
> indication that 
> this is intended - e.g. a special 3xx code for the purpose.
> 
> 	Paul
> _______________________________________________
> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
> 
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Fri Mar 14 12:05:14 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 40FD33A6F86;
	Fri, 14 Mar 2008 12:05:13 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.503
X-Spam-Level: 
X-Spam-Status: No, score=-100.503 tagged_above=-999 required=5
	tests=[AWL=-0.066, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id kYOJ2zrGc7Pz; Fri, 14 Mar 2008 12:05:06 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 9A4B028C463;
	Fri, 14 Mar 2008 12:02:52 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 4DCC428C33D
	for <sip@core3.amsl.com>; Fri, 14 Mar 2008 12:02:51 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id WK5eEEurwmHI for <sip@core3.amsl.com>;
	Fri, 14 Mar 2008 12:02:46 -0700 (PDT)
Received: from etmail.acmepacket.com (etmail.acmepacket.com [216.41.24.6])
	by core3.amsl.com (Postfix) with ESMTP id A452428C82F
	for <sip@ietf.org>; Fri, 14 Mar 2008 12:01:06 -0700 (PDT)
Received: from mail.acmepacket.com (216.41.24.7) by etmail.acmepacket.com
	(216.41.24.6) with Microsoft SMTP Server (TLS) id 8.1.240.5;
	Fri, 14 Mar 2008 14:58:29 -0400
Received: from mail.acmepacket.com ([216.41.24.7]) by mail.acmepacket.com
	([216.41.24.7]) with mapi; Fri, 14 Mar 2008 14:58:24 -0400
From: Hadriel Kaplan <HKaplan@acmepacket.com>
To: "Elwell, John" <john.elwell@siemens.com>, "Dwight, Timothy M (Tim)"
	<timothy.dwight@verizonbusiness.com>, IETF SIP List <sip@ietf.org>
Date: Fri, 14 Mar 2008 15:01:04 -0400
Thread-Topic: Straw-man for rfc4474 and e164
Thread-Index: AciFI5YbIRH7as9BRI6LOp3qb71tsgADi3bQAAkEwCAAJkpDAAADU+/wAAHzTxA=
Message-ID: <E6C2E8958BA59A4FB960963D475F7AC30BCA2EBED0@mail.acmepacket.com>
References: <B0495A1B-2677-4FCE-B718-3C48DCF5205B@softarmor.com>
	<092B2658AAB56A4D80836399A4C4703103D07C27@ASHEVS002.mcilink.com>
	<0D5F89FAC29E2C41B98A6A762007F5D07DB0A2@GBNTHT12009MSX.gb002.siemens.net>
	<E6C2E8958BA59A4FB960963D475F7AC30BCA2EBBE1@mail.acmepacket.com>
	<0D5F89FAC29E2C41B98A6A762007F5D07DB454@GBNTHT12009MSX.gb002.siemens.net>
In-Reply-To: <0D5F89FAC29E2C41B98A6A762007F5D07DB454@GBNTHT12009MSX.gb002.siemens.net>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
acceptlanguage: en-US
MIME-Version: 1.0
Subject: Re: [Sip] Straw-man for rfc4474 and e164
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org



> -----Original Message-----
> From: Elwell, John [mailto:john.elwell@siemens.com]
>
> Part of the straw man proposal was "If a user is identified by a phone
> number, its domain can sign with an RFC 4474 signature if it believes
> that calls to that number will reach the user".
> So yes, an intervening domain can change the domain name and resign,
> which is fine as long as you can get back to that E.164 number via that
> domain. As far as DTLS-SRTP is concerned, it means media are secured as
> far as that domain. It is slightly better than PAI because it signs the
> fingerprint of the certificate to be used for DTLS.

Right, but any domain can do this, whether they're right or wrong or lying on purpose.  As far as the UAS or UAC know, there is a long chain of trust in the middle, or a chain with no trust whatsoever.  Since any domain anywhere can do it, without repercussion, knowing that DTLS-SRTP is working to/from that random domain has little value.  It means nothing about the end-to-end security of the media or signaling or message contents.  It would naturally devolve to only believing the signature of your next-hop domain, at which point there is no need to sign anything using rfc4474 - you might as well just believe PAI and the fingerprint attribute your next-hop gave you.

-hadriel
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Fri Mar 14 12:50:17 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id CD6F928C27A;
	Fri, 14 Mar 2008 12:50:16 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.525
X-Spam-Level: 
X-Spam-Status: No, score=-100.525 tagged_above=-999 required=5
	tests=[AWL=-0.088, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id Ud5c4gltCu8Y; Fri, 14 Mar 2008 12:50:15 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 9D8053A6884;
	Fri, 14 Mar 2008 12:50:15 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 4DEA13A6884
	for <sip@core3.amsl.com>; Fri, 14 Mar 2008 12:50:14 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id dZVA7Lq9NBsa for <sip@core3.amsl.com>;
	Fri, 14 Mar 2008 12:50:13 -0700 (PDT)
Received: from mailgate.siemenscomms.co.uk (mailgate.siemenscomms.co.uk
	[195.171.110.225])
	by core3.amsl.com (Postfix) with ESMTP id 6175A3A67E9
	for <sip@ietf.org>; Fri, 14 Mar 2008 12:50:13 -0700 (PDT)
Received: from GBNTHT12009MSX.gb002.siemens.net ([137.223.219.236])
	by siemenscomms.co.uk (PMDF V6.3-x14 #31430)
	with ESMTP id <0JXQ00102KBVGT@siemenscomms.co.uk> for sip@ietf.org; Fri,
	14 Mar 2008 19:47:56 +0000 (GMT)
Date: Fri, 14 Mar 2008 19:48:00 +0000
From: "Elwell, John" <john.elwell@siemens.com>
In-reply-to: <E6C2E8958BA59A4FB960963D475F7AC30BCA2EBED0@mail.acmepacket.com>
To: Hadriel Kaplan <HKaplan@acmepacket.com>,
	"Dwight, Timothy M (Tim)" <timothy.dwight@verizonbusiness.com>,
	IETF SIP List <sip@ietf.org>
Message-id: <0D5F89FAC29E2C41B98A6A762007F5D07DB474@GBNTHT12009MSX.gb002.siemens.net>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft Exchange V6.5
Thread-Topic: Straw-man for rfc4474 and e164
Thread-Index: AciFI5YbIRH7as9BRI6LOp3qb71tsgADi3bQAAkEwCAAJkpDAAADU+/wAAHzTxAAAfh7gA==
Content-class: urn:content-classes:message
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
References: <B0495A1B-2677-4FCE-B718-3C48DCF5205B@softarmor.com>
	<092B2658AAB56A4D80836399A4C4703103D07C27@ASHEVS002.mcilink.com>
	<0D5F89FAC29E2C41B98A6A762007F5D07DB0A2@GBNTHT12009MSX.gb002.siemens.net>
	<E6C2E8958BA59A4FB960963D475F7AC30BCA2EBBE1@mail.acmepacket.com>
	<0D5F89FAC29E2C41B98A6A762007F5D07DB454@GBNTHT12009MSX.gb002.siemens.net>
	<E6C2E8958BA59A4FB960963D475F7AC30BCA2EBED0@mail.acmepacket.com>
Subject: Re: [Sip] Straw-man for rfc4474 and e164
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Hadriel,

What I want is the end domain, e.g., my bank. Being assured my call is
secured as far as my service provider gives me no confidence it is
secured as far as my bank or whatever domain I want to communicate with.
That is why "email-style" is so much better than phone-number-based.

John 

> -----Original Message-----
> From: Hadriel Kaplan [mailto:HKaplan@acmepacket.com] 
> Sent: 14 March 2008 19:01
> To: Elwell, John; Dwight, Timothy M (Tim); IETF SIP List
> Subject: RE: Straw-man for rfc4474 and e164
> 
> 
> 
> > -----Original Message-----
> > From: Elwell, John [mailto:john.elwell@siemens.com]
> >
> > Part of the straw man proposal was "If a user is identified 
> by a phone
> > number, its domain can sign with an RFC 4474 signature if 
> it believes
> > that calls to that number will reach the user".
> > So yes, an intervening domain can change the domain name and resign,
> > which is fine as long as you can get back to that E.164 
> number via that
> > domain. As far as DTLS-SRTP is concerned, it means media 
> are secured as
> > far as that domain. It is slightly better than PAI because 
> it signs the
> > fingerprint of the certificate to be used for DTLS.
> 
> Right, but any domain can do this, whether they're right or 
> wrong or lying on purpose.  As far as the UAS or UAC know, 
> there is a long chain of trust in the middle, or a chain with 
> no trust whatsoever.  Since any domain anywhere can do it, 
> without repercussion, knowing that DTLS-SRTP is working 
> to/from that random domain has little value.  It means 
> nothing about the end-to-end security of the media or 
> signaling or message contents.  It would naturally devolve to 
> only believing the signature of your next-hop domain, at 
> which point there is no need to sign anything using rfc4474 - 
> you might as well just believe PAI and the fingerprint 
> attribute your next-hop gave you.
> 
> -hadriel
> 
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Fri Mar 14 13:03:47 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id F00763A6CD1;
	Fri, 14 Mar 2008 13:03:46 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.551
X-Spam-Level: 
X-Spam-Status: No, score=-100.551 tagged_above=-999 required=5
	tests=[AWL=-0.114, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id rjcKDfkWk-Fa; Fri, 14 Mar 2008 13:03:45 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 124A03A6BDD;
	Fri, 14 Mar 2008 13:03:45 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 5B73B3A6BDD
	for <sip@core3.amsl.com>; Fri, 14 Mar 2008 13:03:42 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 28b+xXPvUvgv for <sip@core3.amsl.com>;
	Fri, 14 Mar 2008 13:03:40 -0700 (PDT)
Received: from QMTA08.westchester.pa.mail.comcast.net
	(qmta08.westchester.pa.mail.comcast.net [76.96.62.80])
	by core3.amsl.com (Postfix) with ESMTP id C82AB3A686E
	for <sip@ietf.org>; Fri, 14 Mar 2008 13:03:38 -0700 (PDT)
Received: from OMTA04.westchester.pa.mail.comcast.net ([76.96.62.35])
	by QMTA08.westchester.pa.mail.comcast.net with comcast
	id 171b1Z0080ldTLk5803n00; Fri, 14 Mar 2008 19:44:43 +0000
Received: from dragon.ariadne.com ([76.19.174.1])
	by OMTA04.westchester.pa.mail.comcast.net with comcast
	id 17lL1Z00502AVH03Q00000; Fri, 14 Mar 2008 19:45:20 +0000
X-Authority-Analysis: v=1.0 c=1 a=UyuH5EgTArUeFfBNbOIA:9
	a=8NffMeCS08i6LMVKCAsA:7 a=YCagZhcjDSTmiIJjRlodmmkBT2gA:4
	a=8y7tGHue6YMA:10
Received: from dragon.ariadne.com (dragon.ariadne.com [127.0.0.1])
	by dragon.ariadne.com (8.12.8/8.12.8) with ESMTP id m2EJjKMj026136
	for <sip@ietf.org>; Fri, 14 Mar 2008 14:45:20 -0500
Received: (from worley@localhost)
	by dragon.ariadne.com (8.12.8/8.12.8/Submit) id m2EJjJkb026132;
	Fri, 14 Mar 2008 14:45:19 -0500
Date: Fri, 14 Mar 2008 14:45:19 -0500
Message-Id: <200803141945.m2EJjJkb026132@dragon.ariadne.com>
To: sip@ietf.org
From: Dale.Worley@comcast.net
In-reply-to: <47DA4E02.8000502@crg.ee.uct.ac.za> (rgood@crg.ee.uct.ac.za)
References: <47DA4E02.8000502@crg.ee.uct.ac.za>
Subject: Re: [Sip] 302 Support in RFC 3665
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
MIME-Version: 1.0
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

   From: Richard Good <rgood@crg.ee.uct.ac.za>

   I have a query regarding the 302 (Temporarily Moved) message flow shown 
   in RFC 3665.

   Essentially if a SIP client receives a 302 message in response to an 
   INVITE  it should ACK this message and then using the address in the 
   contact field send a new INVITE request.

"... and then using the address(es) in the contact field(s) send new
INVITE request(s)."

   In the message flow shown in RFC 3665 (see section 3.6. Session via 
   Redirect and Proxy Servers with SDP in ACK) the new INVITE request has 
   the same To field, From field, To Tag and Call ID - the Request URI uses 
   the address specified in the Contact field of the 302 response.  
   Essentially this new INVITE is part of the same dialog but has a 
   different Request URI.

Yes, it is a fork of the original request.

   My questions are: Is the 302 response not a final response? Does it not 
   end the dialog?

Like any final response, it ends one fork of the original request.
The transaction ends based on the propagation back toward the UAC of
the final response(s).  The transaction is ended when ultimate final
response is returned to the application function in the UAC.  Whether
there is a dialog in existence after that point depends on what the
request and final response was.

Think of the INVITE transaction as a dynamically-growing tree.  In
this instance, the very root of the tree can grow additional branches.

Dale
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Fri Mar 14 19:35:20 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 364343A6D1C;
	Fri, 14 Mar 2008 19:35:20 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.653
X-Spam-Level: 
X-Spam-Status: No, score=-100.653 tagged_above=-999 required=5
	tests=[AWL=-0.216, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id FjBpwR3-oYxs; Fri, 14 Mar 2008 19:35:19 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 3F4003A686D;
	Fri, 14 Mar 2008 19:35:19 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id D477B3A6A0B
	for <sip@core3.amsl.com>; Fri, 14 Mar 2008 19:35:17 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id nQm7EUgEPSKQ for <sip@core3.amsl.com>;
	Fri, 14 Mar 2008 19:35:17 -0700 (PDT)
Received: from nylon.softarmor.com (nylon.softarmor.com [66.135.38.164])
	by core3.amsl.com (Postfix) with ESMTP id 979C23A686D
	for <sip@ietf.org>; Fri, 14 Mar 2008 19:35:14 -0700 (PDT)
Received: from [206.176.144.210] (206-176-144-210.waymark.net
	[206.176.144.210]) (authenticated bits=0)
	by nylon.softarmor.com (8.13.8/8.13.8/Debian-3) with ESMTP id
	m2F2WXUO028008
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NOT);
	Fri, 14 Mar 2008 21:32:34 -0500
Message-ID: <47DB353C.5000709@softarmor.com>
Date: Fri, 14 Mar 2008 21:32:28 -0500
From: Dean Willis <dean.willis@softarmor.com>
User-Agent: Icedove 1.5.0.14pre (X11/20080208)
MIME-Version: 1.0
To: Dean Willis <dean.willis@softarmor.com>
References: <B0495A1B-2677-4FCE-B718-3C48DCF5205B@softarmor.com>	<47D96B4B.30308@nostrum.com>	<72BD602C-7985-4E8F-ADEC-A37F5E7F437E@softarmor.com>	<47D9B3EE.3080505@cisco.com>
	<9DD9C014-E369-4EE6-86F1-B3D77D4FE595@softarmor.com>
In-Reply-To: <9DD9C014-E369-4EE6-86F1-B3D77D4FE595@softarmor.com>
X-Enigmail-Version: 0.94.2.0
Cc: IETF SIP List <sip@ietf.org>, Paul Kyzivat <pkyzivat@cisco.com>,
	Adam Roach <adam@nostrum.com>
Subject: Re: [Sip] The thing we're missing in the RFC
	4474	and	DTLS-SRTP	discussion
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Dean Willis wrote:

> 
> But here's the problem with Adam's idea.:

well, this came out all wrong.

I had thought Adam was changing the From header field in the
authentication server, which would confuse RFC 2543 style gateways.

Rather, he is suggesting that SRTP-DTLS compliant gateways add a
parameter to their From header field that indicates the identity was
received PSTN and should be treated accordingly.

I think this approach works very well.

--
Dean

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Fri Mar 14 19:38:59 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 2E9993A6CAD;
	Fri, 14 Mar 2008 19:38:59 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.277
X-Spam-Level: 
X-Spam-Status: No, score=-100.277 tagged_above=-999 required=5
	tests=[AWL=-0.440, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, J_CHICKENPOX_23=0.6, RDNS_NONE=0.1,
	USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id ZULxXDM3WgAF; Fri, 14 Mar 2008 19:38:58 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 41A013A67A9;
	Fri, 14 Mar 2008 19:38:58 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id A02313A691A
	for <sip@core3.amsl.com>; Fri, 14 Mar 2008 19:38:56 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id PsJ0wAVEU5zr for <sip@core3.amsl.com>;
	Fri, 14 Mar 2008 19:38:56 -0700 (PDT)
Received: from nylon.softarmor.com (nylon.softarmor.com [66.135.38.164])
	by core3.amsl.com (Postfix) with ESMTP id D6A5D3A67A9
	for <sip@ietf.org>; Fri, 14 Mar 2008 19:38:55 -0700 (PDT)
Received: from [206.176.144.210] (206-176-144-210.waymark.net
	[206.176.144.210]) (authenticated bits=0)
	by nylon.softarmor.com (8.13.8/8.13.8/Debian-3) with ESMTP id
	m2F2aYd0028068
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NOT);
	Fri, 14 Mar 2008 21:36:36 -0500
Message-ID: <47DB362D.8090507@softarmor.com>
Date: Fri, 14 Mar 2008 21:36:29 -0500
From: Dean Willis <dean.willis@softarmor.com>
User-Agent: Icedove 1.5.0.14pre (X11/20080208)
MIME-Version: 1.0
To: Hadriel Kaplan <HKaplan@acmepacket.com>
References: <B0495A1B-2677-4FCE-B718-3C48DCF5205B@softarmor.com>	<092B2658AAB56A4D80836399A4C4703103D07C27@ASHEVS002.mcilink.com>	<0D5F89FAC29E2C41B98A6A762007F5D07DB0A2@GBNTHT12009MSX.gb002.siemens.net>
	<E6C2E8958BA59A4FB960963D475F7AC30BCA2EBBE1@mail.acmepacket.com>
In-Reply-To: <E6C2E8958BA59A4FB960963D475F7AC30BCA2EBBE1@mail.acmepacket.com>
X-Enigmail-Version: 0.94.2.0
Cc: IETF SIP List <sip@ietf.org>, "Elwell, John" <john.elwell@siemens.com>
Subject: Re: [Sip] Straw-man for rfc4474 and e164
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Hadriel Kaplan wrote:
> John, can you elaborate more on the straw-man proposal?  I'm not sure
> I fully grok it.
> 
> When I commented at the mic that the problem with such a concept,
> assuming I understand the proposal, is that there is nothing stopping
> any middle-man or frankly anything on the planet from simply signing
> a [number]@domain, for their domain name.  Jonathan's response I
> think was "well that makes it the same strength as PSTN".  But this
> makes it effectively useless to sign or verify.  Why bother signing?
> Just use PAID. (which may well be the final result of all this
> discussion)

You MUST sign in order to be able to use DTLS-SRTP effectively. This
means that even PSTN-grade identities have to be signed. So we we either
have to change DTLS-SRTP to not have this dependency, or we have to find
a way to mark the PSTN-grade ones appropriately so that they are not
taken seriously as a strong identity.

Adam's approach solves this better than us1ing PAID, as 1) we could NOT
have DTLS-SRTP (a standareds-track doc) with a normative reference to
RFC 3325 (an informational track doc). Further, the same problem applies
-- even with RFC 3325, it would be good to differentiate strong
identities from PSTN-grade identities.

--
dean
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Fri Mar 14 19:40:11 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 3C2B43A6D1C;
	Fri, 14 Mar 2008 19:40:11 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.527
X-Spam-Level: 
X-Spam-Status: No, score=-100.527 tagged_above=-999 required=5
	tests=[AWL=-0.090, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 1ry11fLY1hmz; Fri, 14 Mar 2008 19:40:10 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 614A73A69D4;
	Fri, 14 Mar 2008 19:40:10 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 1C6DB3A63CA
	for <sip@core3.amsl.com>; Fri, 14 Mar 2008 19:40:09 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id jwiytqDEgAFy for <sip@core3.amsl.com>;
	Fri, 14 Mar 2008 19:40:08 -0700 (PDT)
Received: from nylon.softarmor.com (nylon.softarmor.com [66.135.38.164])
	by core3.amsl.com (Postfix) with ESMTP id 440883A69C6
	for <sip@ietf.org>; Fri, 14 Mar 2008 19:40:08 -0700 (PDT)
Received: from [206.176.144.210] (206-176-144-210.waymark.net
	[206.176.144.210]) (authenticated bits=0)
	by nylon.softarmor.com (8.13.8/8.13.8/Debian-3) with ESMTP id
	m2F2bnZd028078
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NOT);
	Fri, 14 Mar 2008 21:37:51 -0500
Message-ID: <47DB3678.4070408@softarmor.com>
Date: Fri, 14 Mar 2008 21:37:44 -0500
From: Dean Willis <dean.willis@softarmor.com>
User-Agent: Icedove 1.5.0.14pre (X11/20080208)
MIME-Version: 1.0
To: "Elwell, John" <john.elwell@siemens.com>
References: <B0495A1B-2677-4FCE-B718-3C48DCF5205B@softarmor.com>
	<47D96B4B.30308@nostrum.com>
	<72BD602C-7985-4E8F-ADEC-A37F5E7F437E@softarmor.com>
	<47D9ACD8.2030805@nostrum.com>
	<0D5F89FAC29E2C41B98A6A762007F5D07DB0A7@GBNTHT12009MSX.gb002.siemens.net>
	<47DA88FC.6030907@nostrum.com>
	<0D5F89FAC29E2C41B98A6A762007F5D07DB44D@GBNTHT12009MSX.gb002.siemens.net>
In-Reply-To: <0D5F89FAC29E2C41B98A6A762007F5D07DB44D@GBNTHT12009MSX.gb002.siemens.net>
X-Enigmail-Version: 0.94.2.0
Cc: IETF SIP List <sip@ietf.org>, Adam Roach <adam@nostrum.com>
Subject: Re: [Sip] The thing we're missing in the RFC
	4474	andDTLS-SRTPdiscussion
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Elwell, John wrote:
> Adam,
> 
> I am confused how we got here. As I said in a response to Dean a few
> minutes ago, I think a level-of-trust parameter could work. Dean
> explained the different options of UASs on receiving information in both
> PAI and From.


Adam came up with a better way to mark level-of-trust than I did. Other
than that, it is the same solution (that is, interpreted the same way).

--
Dean
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Sat Mar 15 06:37:27 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id E13DF28C205;
	Sat, 15 Mar 2008 06:37:27 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -99.763
X-Spam-Level: 
X-Spam-Status: No, score=-99.763 tagged_above=-999 required=5
	tests=[AWL=0.674, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id GqZGQvilZlX1; Sat, 15 Mar 2008 06:37:27 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 140683A6AC5;
	Sat, 15 Mar 2008 06:37:27 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 157EE3A6C12
	for <sip@core3.amsl.com>; Sat, 15 Mar 2008 06:37:25 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id WLTWD+Xv+Uta for <sip@core3.amsl.com>;
	Sat, 15 Mar 2008 06:37:23 -0700 (PDT)
Received: from kilo.rtfm.com (c-68-82-121-38.hsd1.pa.comcast.net
	[68.82.121.38]) by core3.amsl.com (Postfix) with ESMTP id 9C1613A6892
	for <sip@ietf.org>; Sat, 15 Mar 2008 06:37:22 -0700 (PDT)
Received: from dhcp-11ec.ietf71.ietf.org (localhost [127.0.0.1])
	by kilo.rtfm.com (Postfix) with ESMTP id E08FF1B46D4;
	Sat, 15 Mar 2008 09:35:05 -0400 (EDT)
Date: Sat, 15 Mar 2008 09:35:05 -0400
From: Eric Rescorla <ekr@networkresonance.com>
To: Dean Willis <dean.willis@softarmor.com>
In-Reply-To: <47DB362D.8090507@softarmor.com>
References: <B0495A1B-2677-4FCE-B718-3C48DCF5205B@softarmor.com>
	<092B2658AAB56A4D80836399A4C4703103D07C27@ASHEVS002.mcilink.com>
	<0D5F89FAC29E2C41B98A6A762007F5D07DB0A2@GBNTHT12009MSX.gb002.siemens.net>
	<E6C2E8958BA59A4FB960963D475F7AC30BCA2EBBE1@mail.acmepacket.com>
	<47DB362D.8090507@softarmor.com>
User-Agent: Wanderlust/2.15.5 (Almost Unreal) Emacs/22.1 Mule/5.0 (SAKAKI)
MIME-Version: 1.0 (generated by SEMI 1.14.6 - "Maruoka")
Message-Id: <20080315133505.E08FF1B46D4@kilo.rtfm.com>
Cc: IETF SIP List <sip@ietf.org>, "Elwell, John" <john.elwell@siemens.com>
Subject: Re: [Sip] Straw-man for rfc4474 and e164
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

At Fri, 14 Mar 2008 21:36:29 -0500,
Dean Willis wrote:
> 
> Hadriel Kaplan wrote:
> > John, can you elaborate more on the straw-man proposal?  I'm not sure
> > I fully grok it.
> > 
> > When I commented at the mic that the problem with such a concept,
> > assuming I understand the proposal, is that there is nothing stopping
> > any middle-man or frankly anything on the planet from simply signing
> > a [number]@domain, for their domain name.  Jonathan's response I
> > think was "well that makes it the same strength as PSTN".  But this
> > makes it effectively useless to sign or verify.  Why bother signing?
> > Just use PAID. (which may well be the final result of all this
> > discussion)
> 
> You MUST sign in order to be able to use DTLS-SRTP effectively.

This is not correct.

Even in the absence of signatures, DTLS-SRTP provides significant
value because you need to actively modify both the signalling
and the media (what draft-ietf-sip-media-security-requirements
calls active-signaling-active-media).

-Ekr
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Sat Mar 15 10:02:40 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 5DC9F3A6A0C;
	Sat, 15 Mar 2008 10:02:40 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.189
X-Spam-Level: 
X-Spam-Status: No, score=-100.189 tagged_above=-999 required=5
	tests=[AWL=-0.352, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, J_CHICKENPOX_23=0.6, RDNS_NONE=0.1,
	USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id FlwDHAbINGDy; Sat, 15 Mar 2008 10:02:39 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 591FB3A6962;
	Sat, 15 Mar 2008 10:02:39 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id D11D13A69D2
	for <sip@core3.amsl.com>; Sat, 15 Mar 2008 10:02:37 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id DPcSOSTgmoS2 for <sip@core3.amsl.com>;
	Sat, 15 Mar 2008 10:02:37 -0700 (PDT)
Received: from etmail.acmepacket.com (etmail.acmepacket.com [216.41.24.6])
	by core3.amsl.com (Postfix) with ESMTP id E827A3A6A43
	for <sip@ietf.org>; Sat, 15 Mar 2008 10:02:36 -0700 (PDT)
Received: from mail.acmepacket.com (216.41.24.7) by etmail.acmepacket.com
	(216.41.24.6) with Microsoft SMTP Server (TLS) id 8.1.240.5;
	Sat, 15 Mar 2008 13:00:00 -0400
Received: from mail.acmepacket.com ([216.41.24.7]) by mail.acmepacket.com
	([216.41.24.7]) with mapi; Sat, 15 Mar 2008 13:00:00 -0400
From: Hadriel Kaplan <HKaplan@acmepacket.com>
To: Dean Willis <dean.willis@softarmor.com>
Date: Sat, 15 Mar 2008 13:02:46 -0400
Thread-Topic: [Sip] Straw-man for rfc4474 and e164
Thread-Index: AciGRVsWN1GUGYWwRmGdPfHIcG1kfAAdySjQ
Message-ID: <E6C2E8958BA59A4FB960963D475F7AC30BCA2EC351@mail.acmepacket.com>
References: <B0495A1B-2677-4FCE-B718-3C48DCF5205B@softarmor.com>
	<092B2658AAB56A4D80836399A4C4703103D07C27@ASHEVS002.mcilink.com>
	<0D5F89FAC29E2C41B98A6A762007F5D07DB0A2@GBNTHT12009MSX.gb002.siemens.net>
	<E6C2E8958BA59A4FB960963D475F7AC30BCA2EBBE1@mail.acmepacket.com>
	<47DB362D.8090507@softarmor.com>
In-Reply-To: <47DB362D.8090507@softarmor.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
acceptlanguage: en-US
MIME-Version: 1.0
Cc: IETF SIP List <sip@ietf.org>
Subject: Re: [Sip] Straw-man for rfc4474 and e164
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org



> -----Original Message-----
> From: Dean Willis [mailto:dean.willis@softarmor.com]
>
> You MUST sign in order to be able to use DTLS-SRTP effectively. This
> means that even PSTN-grade identities have to be signed. So we we either
> have to change DTLS-SRTP to not have this dependency, or we have to find
> a way to mark the PSTN-grade ones appropriately so that they are not
> taken seriously as a strong identity.

No, you don't have to rfc4474 sign dtls-srtp fingerprint attributes.  Rfc4474 signing them prevents SIP devices between the signer and the verifier from modifying the attribute to become a dtls-srtp man-in-the-middle.  If a MitM can re-sign without the verifier detecting it, then rfc4474 signing is pointless, even for the DTLS-SRTP fingerprint attribute.

And that is the problem with e164.  If foo.com can receive sip:+12128675309@bar.com, and change it to sip:+12128675309@foo.com, and the UAS only displays "+12128675309" or the human only cares about that part because they think it's a phone number, then there's little point in signing.


> Adam's approach solves this better than us1ing PAID, as 1) we could NOT
> have DTLS-SRTP (a standareds-track doc) with a normative reference to
> RFC 3325 (an informational track doc). Further, the same problem applies
> -- even with RFC 3325, it would be good to differentiate strong
> identities from PSTN-grade identities.

You wouldn't need to reference rfc3325 in dtls-srtp-framework (and it's the framework this is about, btw, not dtls-srtp).  PAID has nothing to do with the fingerprint - it has to do with identity.  My point was you already do have PSTN-grade identities: PAID is it.

-hadriel
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Sat Mar 15 10:17:39 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 723D228C38B;
	Sat, 15 Mar 2008 10:17:39 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.168
X-Spam-Level: 
X-Spam-Status: No, score=-100.168 tagged_above=-999 required=5
	tests=[AWL=-0.331, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, J_CHICKENPOX_45=0.6, RDNS_NONE=0.1,
	USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 2FQ2tm9SGv36; Sat, 15 Mar 2008 10:17:38 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id CA0D528C295;
	Sat, 15 Mar 2008 10:17:34 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 6BB3D3A6B3C
	for <sip@core3.amsl.com>; Sat, 15 Mar 2008 10:17:32 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 1pCL65L9P7gV for <sip@core3.amsl.com>;
	Sat, 15 Mar 2008 10:17:31 -0700 (PDT)
Received: from etmail.acmepacket.com (etmail.acmepacket.com [216.41.24.6])
	by core3.amsl.com (Postfix) with ESMTP id 44D663A6962
	for <sip@ietf.org>; Sat, 15 Mar 2008 10:17:27 -0700 (PDT)
Received: from mail.acmepacket.com (216.41.24.7) by etmail.acmepacket.com
	(216.41.24.6) with Microsoft SMTP Server (TLS) id 8.1.240.5;
	Sat, 15 Mar 2008 13:14:50 -0400
Received: from mail.acmepacket.com ([216.41.24.7]) by mail.acmepacket.com
	([216.41.24.7]) with mapi; Sat, 15 Mar 2008 13:14:50 -0400
From: Hadriel Kaplan <HKaplan@acmepacket.com>
To: Dean Willis <dean.willis@softarmor.com>
Date: Sat, 15 Mar 2008 13:17:35 -0400
Thread-Topic: [Sip] The thing we're missing in the RFC	4474	and	DTLS-SRTP
	discussion
Thread-Index: AciGRN7JejykE7x0Rbm40W6Wa3kzWgAeZHZw
Message-ID: <E6C2E8958BA59A4FB960963D475F7AC30BCA2EC355@mail.acmepacket.com>
References: <B0495A1B-2677-4FCE-B718-3C48DCF5205B@softarmor.com>
	<47D96B4B.30308@nostrum.com>
	<72BD602C-7985-4E8F-ADEC-A37F5E7F437E@softarmor.com>
	<47D9B3EE.3080505@cisco.com>
	<9DD9C014-E369-4EE6-86F1-B3D77D4FE595@softarmor.com>
	<47DB353C.5000709@softarmor.com>
In-Reply-To: <47DB353C.5000709@softarmor.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
acceptlanguage: en-US
MIME-Version: 1.0
Cc: IETF SIP List <sip@ietf.org>, Paul Kyzivat <pkyzivat@cisco.com>,
	Roach <adam@nostrum.com>, Adam@core3.amsl.com
Subject: Re: [Sip] The thing we're missing in the
	RFC	4474	and	DTLS-SRTP	discussion
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org



> -----Original Message-----
> From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On Behalf Of Dean
> Willis
>
> I had thought Adam was changing the From header field in the
> authentication server, which would confuse RFC 2543 style gateways.
>
> Rather, he is suggesting that SRTP-DTLS compliant gateways add a
> parameter to their From header field that indicates the identity was
> received PSTN and should be treated accordingly.

I think they should add it as a URI-param, or even URI-username param.  Both because it's about the type of username or URI itself, and because then rfc4474 would actually include that param in its signature, so no one in the middle could change it.  Of course that uri-param already exists: user=phone.  Or is that not the right semantic?

-hadriel
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Sat Mar 15 10:36:20 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id E9FC828C1B9;
	Sat, 15 Mar 2008 10:36:20 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.471
X-Spam-Level: 
X-Spam-Status: No, score=-100.471 tagged_above=-999 required=5
	tests=[AWL=-0.034, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id jLL8bVBw6Kjo; Sat, 15 Mar 2008 10:36:20 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 0083E3A6936;
	Sat, 15 Mar 2008 10:36:20 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id CF1B63A68C0
	for <sip@core3.amsl.com>; Sat, 15 Mar 2008 10:36:18 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id Ec0Z-D1Uvv48 for <sip@core3.amsl.com>;
	Sat, 15 Mar 2008 10:36:17 -0700 (PDT)
Received: from etmail.acmepacket.com (etmail.acmepacket.com [216.41.24.6])
	by core3.amsl.com (Postfix) with ESMTP id 733CE3A6936
	for <sip@ietf.org>; Sat, 15 Mar 2008 10:36:17 -0700 (PDT)
Received: from mail.acmepacket.com (216.41.24.7) by etmail.acmepacket.com
	(216.41.24.6) with Microsoft SMTP Server (TLS) id 8.1.240.5;
	Sat, 15 Mar 2008 13:33:40 -0400
Received: from mail.acmepacket.com ([216.41.24.7]) by mail.acmepacket.com
	([216.41.24.7]) with mapi; Sat, 15 Mar 2008 13:33:38 -0400
From: Hadriel Kaplan <HKaplan@acmepacket.com>
To: "Elwell, John" <john.elwell@siemens.com>, IETF SIP List <sip@ietf.org>
Date: Sat, 15 Mar 2008 13:36:25 -0400
Thread-Topic: Straw-man for rfc4474 and e164
Thread-Index: AciFI5YbIRH7as9BRI6LOp3qb71tsgADi3bQAAkEwCAAJkpDAAADU+/wAAHzTxAAAfh7gAAtH0rg
Message-ID: <E6C2E8958BA59A4FB960963D475F7AC30BCA2EC359@mail.acmepacket.com>
References: <B0495A1B-2677-4FCE-B718-3C48DCF5205B@softarmor.com>
	<092B2658AAB56A4D80836399A4C4703103D07C27@ASHEVS002.mcilink.com>
	<0D5F89FAC29E2C41B98A6A762007F5D07DB0A2@GBNTHT12009MSX.gb002.siemens.net>
	<E6C2E8958BA59A4FB960963D475F7AC30BCA2EBBE1@mail.acmepacket.com>
	<0D5F89FAC29E2C41B98A6A762007F5D07DB454@GBNTHT12009MSX.gb002.siemens.net>
	<E6C2E8958BA59A4FB960963D475F7AC30BCA2EBED0@mail.acmepacket.com>
	<0D5F89FAC29E2C41B98A6A762007F5D07DB474@GBNTHT12009MSX.gb002.siemens.net>
In-Reply-To: <0D5F89FAC29E2C41B98A6A762007F5D07DB474@GBNTHT12009MSX.gb002.siemens.net>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
acceptlanguage: en-US
MIME-Version: 1.0
Subject: Re: [Sip] Straw-man for rfc4474 and e164
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org



> -----Original Message-----
> From: Elwell, John [mailto:john.elwell@siemens.com]
>
> What I want is the end domain, e.g., my bank. Being assured my call is
> secured as far as my service provider gives me no confidence it is
> secured as far as my bank or whatever domain I want to communicate with.
> That is why "email-style" is so much better than phone-number-based.

Sure, and that works well for domain names you recognize, if your UA displays it, because really you're mentally treating it as an email-style URI.  (and also why Paul said this would only work for whitelists) But if it is a call from sip:+12128675309@cht.com.tw signed by cht.com.tw, it would mean nothing to most people.  The verifier would think it's fine as would your UAS, and it may be fine (Chunghwa Telecom is a legit telco).  Or it may be that CHT got it from a CLID spoofer service in the PSTN, or CHT is mis-configured, or a CLID spoofer provider itself. (they're not, but you wouldn't know that, and the fact that a +1 number came from Chunghwa Telecom is suspicious)

The straw-man says CHT would only sign it "if it believes that calls to that number will reach the user".  I'm not actually sure what that means.  I think you mean if calls to that username number would reach the same domain that's signing it??  Regardless, if CHT *were* to offer a CLID spoofer service, it would obviously sign it anyway, and no one would be wiser.  For email-style URI's that's not possible, because CHT can't sign sip:john.elwell@siemens.com.  Siemens could sign it maliciously, but doing so only spoofs siemens.com's users.  Whereas CHT signing sip:+12128675309@cht.com.tw maliciously actually spoofs the real owner of +12128675309 globally, because it is treated by machines and humans as a global identity regardless of the domain.

-hadriel
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Sun Mar 16 10:11:45 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id E50D628C3B2;
	Sun, 16 Mar 2008 10:11:44 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -97.385
X-Spam-Level: 
X-Spam-Status: No, score=-97.385 tagged_above=-999 required=5
	tests=[AWL=-0.540, BAYES_50=0.001, DATE_IN_PAST_12_24=0.992,
	FH_RELAY_NODNS=1.451, HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1,
	USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id ciygRkqv-CQ4; Sun, 16 Mar 2008 10:11:43 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 102F828C1B0;
	Sun, 16 Mar 2008 10:11:43 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 8E3C828C1B0
	for <sip@core3.amsl.com>; Sun, 16 Mar 2008 10:11:42 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id jeyVGgsc+-tM for <sip@core3.amsl.com>;
	Sun, 16 Mar 2008 10:11:41 -0700 (PDT)
Received: from nylon.softarmor.com (nylon.softarmor.com [66.135.38.164])
	by core3.amsl.com (Postfix) with ESMTP id B09A428C0E7
	for <sip@ietf.org>; Sun, 16 Mar 2008 10:11:41 -0700 (PDT)
Received: from [192.168.2.102] (cpe-76-185-142-113.tx.res.rr.com
	[76.185.142.113]) (authenticated bits=0)
	by nylon.softarmor.com (8.13.8/8.13.8/Debian-3) with ESMTP id
	m2GH9KbQ013855
	(version=TLSv1/SSLv3 cipher=AES256-SHA bits=256 verify=NOT);
	Sun, 16 Mar 2008 12:09:24 -0500
Message-Id: <200803161709.m2GH9KbQ013855@nylon.softarmor.com>
Date: Sat, 15 Mar 2008 12:11:55 -0500
From: "Dean Willis" <dean.willis@softarmor.com>
To: ekr@networkresonance.com
MIME-Version: 1.0
X-Mailer: Lonely Cat Games ProfiMail
In-Reply-To: <20080315133505.E08FF1B46D4@kilo.rtfm.com>
Cc: sip@ietf.org, John Elwell <john.elwell@siemens.com>
Subject: Re: [Sip] Straw-man for rfc4474 and e164
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org



------- Original message -------
From: Eric Rescorla <ekr@networkresonance.com>
Cc: sip@ietf.org, john.elwell@siemens.com
Sent: 15.3.'08,  8:35

> At Fri, 14 Mar 2008 21:36:29 -0500,
> Dean Willis wrote:
> > You MUST sign in order to be able to use DTLS-SRTP effectively.
> 
> This is not correct.
> 
> Even in the absence of signatures, DTLS-SRTP provides significant
> value because you need to actively modify both the signalling
> and the media (what draft-ietf-sip-media-security-requirements
> calls active-signaling-active-media).

AFAIK (which admittedly is not all that far) if you have no fingerprint, 
you lose a key advantage of DTLS-SRTP, which is the ability to correlate 
media and signaling. Without this, we're still subject to all the media 
insertion attacks, some of which do not even require MITM.

--
dean
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Sun Mar 16 10:18:56 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id BB11128C406;
	Sun, 16 Mar 2008 10:18:56 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -96.762
X-Spam-Level: 
X-Spam-Status: No, score=-96.762 tagged_above=-999 required=5
	tests=[AWL=-0.331, BAYES_40=-0.185, DATE_IN_PAST_12_24=0.992,
	FH_RELAY_NODNS=1.451, HELO_MISMATCH_ORG=0.611, J_CHICKENPOX_45=0.6,
	RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 6y1fZ6ORPCCW; Sun, 16 Mar 2008 10:18:55 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 94D9628C1B0;
	Sun, 16 Mar 2008 10:18:54 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id EF2C73A69AF
	for <sip@core3.amsl.com>; Sun, 16 Mar 2008 10:18:52 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id SiOlS6pm2otH for <sip@core3.amsl.com>;
	Sun, 16 Mar 2008 10:18:52 -0700 (PDT)
Received: from nylon.softarmor.com (nylon.softarmor.com [66.135.38.164])
	by core3.amsl.com (Postfix) with ESMTP id 6700F28C1B0
	for <sip@ietf.org>; Sun, 16 Mar 2008 10:18:32 -0700 (PDT)
Received: from [192.168.2.102] (cpe-76-185-142-113.tx.res.rr.com
	[76.185.142.113]) (authenticated bits=0)
	by nylon.softarmor.com (8.13.8/8.13.8/Debian-3) with ESMTP id
	m2GHG7GU013934
	(version=TLSv1/SSLv3 cipher=AES256-SHA bits=256 verify=NOT);
	Sun, 16 Mar 2008 12:16:10 -0500
Message-Id: <200803161716.m2GHG7GU013934@nylon.softarmor.com>
Date: Sat, 15 Mar 2008 12:18:42 -0500
From: "Dean Willis" <dean.willis@softarmor.com>
To: HKaplan@acmepacket.com
MIME-Version: 1.0
X-Mailer: Lonely Cat Games ProfiMail
In-Reply-To: <E6C2E8958BA59A4FB960963D475F7AC30BCA2EC355@mail.acmepacket.com>
Cc: sip@ietf.org, pkyzivat@cisco.com, Adam Roach <adam@nostrum.com>
Subject: Re: [Sip] The thing we're missing in the RFC 4474 and
	DTLS-SRTPdiscussion
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org



------- Original message -------
From: Hadriel Kaplan <HKaplan@acmepacket.com>
Cc: sip@ietf.org, pkyzivat@cisco.com, adam@nostrum.com
Sent: 15.3.'08,  12:14

> 
> 
> > -----Original Message-----
> > From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On Behalf Of 
Dean
> > Willis
> >
> > I had thought Adam was changing the From header field in the
> > authentication server, which would confuse RFC 2543 style gateways.
> >
> > Rather, he is suggesting that SRTP-DTLS compliant gateways add a
> > parameter to their From header field that indicates the identity was
> > received PSTN and should be treated accordingly.
> 
> I think they should add it as a URI-param, or even URI-username param.  
Both because it's about the type of username or URI itself, and because 
then rfc4474 would actually include that param in its signature, so no one 
in the middle could change it.  Of course that uri-param already exists: 
user=phone.  Or is that not the right semantic?


yes, that is what I think Adam proposed in general. To reiterate, he 
suggested adding a URI paramter to the URI in the From header field at the 
gateway device.  

As I understand it, there are use cases where an authentication service can 
make a strong assertion of idenity about a URI that has user=phone, so I do 
not think that has the semantic we are looking for. I think we need another 
parameter.

--
dean
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Sun Mar 16 10:36:10 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id E918A3A6888;
	Sun, 16 Mar 2008 10:36:10 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.797
X-Spam-Level: 
X-Spam-Status: No, score=-100.797 tagged_above=-999 required=5
	tests=[AWL=-0.360, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id i45NF9x5Nbk3; Sun, 16 Mar 2008 10:36:10 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id ED16C3A6D93;
	Sun, 16 Mar 2008 10:36:09 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 04AD33A6D93
	for <sip@core3.amsl.com>; Sun, 16 Mar 2008 10:36:09 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id NZhm-1q4RE3j for <sip@core3.amsl.com>;
	Sun, 16 Mar 2008 10:36:08 -0700 (PDT)
Received: from etmail.acmepacket.com (etmail.acmepacket.com [216.41.24.6])
	by core3.amsl.com (Postfix) with ESMTP id 123323A6888
	for <sip@ietf.org>; Sun, 16 Mar 2008 10:36:07 -0700 (PDT)
Received: from mail.acmepacket.com (216.41.24.7) by etmail.acmepacket.com
	(216.41.24.6) with Microsoft SMTP Server (TLS) id 8.1.240.5;
	Sun, 16 Mar 2008 13:33:30 -0400
Received: from mail.acmepacket.com ([216.41.24.7]) by mail.acmepacket.com
	([216.41.24.7]) with mapi; Sun, 16 Mar 2008 13:33:30 -0400
From: Hadriel Kaplan <HKaplan@acmepacket.com>
To: Dean Willis <dean.willis@softarmor.com>, "ekr@networkresonance.com"
	<ekr@networkresonance.com>
Date: Sun, 16 Mar 2008 13:33:14 -0400
Thread-Topic: [Sip] Straw-man for rfc4474 and e164
Thread-Index: AciHiHlvr9ngiRWHSXSKBccTEHoa7wAAZaug
Message-ID: <E6C2E8958BA59A4FB960963D475F7AC30BCA2EC42B@mail.acmepacket.com>
References: <20080315133505.E08FF1B46D4@kilo.rtfm.com>
	<200803161709.m2GH9KbQ013855@nylon.softarmor.com>
In-Reply-To: <200803161709.m2GH9KbQ013855@nylon.softarmor.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
acceptlanguage: en-US
MIME-Version: 1.0
Cc: "sip@ietf.org" <sip@ietf.org>, John Elwell <john.elwell@siemens.com>
Subject: Re: [Sip] Straw-man for rfc4474 and e164
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org



> -----Original Message-----
> From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On Behalf Of Dean
> Willis
>
> ------- Original message -------
> From: Eric Rescorla <ekr@networkresonance.com>
> > Even in the absence of signatures, DTLS-SRTP provides significant
> > value because you need to actively modify both the signalling
> > and the media (what draft-ietf-sip-media-security-requirements
> > calls active-signaling-active-media).
>
> AFAIK (which admittedly is not all that far) if you have no fingerprint,
> you lose a key advantage of DTLS-SRTP, which is the ability to correlate
> media and signaling. Without this, we're still subject to all the media
> insertion attacks, some of which do not even require MITM.

Eric (I think) and I are not talking about having no dtls-srtp fingerprint - that's an SDP attribute.  We're talking about not having the rfc4474 signature signing that fingerprint attribute.  Even without the rfc4474 signature, an attacker has to be able to modify that SDP fingerprint attribute to succeed, and thus be in the signaling path.  The rfc4474 signature just prevents anyone between the signer and verifier from being able to do so.

If the rfc4474 mechanism is signed at the originating domain and verified at the terminating domain, that's fairly useful.  It's not secure end-to-end, because anything between the UAC and signer, the signer itself, the verifier itself, or anything between the verifier and the UAS, can be active mitm.  But the assumption is the UAC trusts its domain, and the UAS trusts its domain, and the domains trust each other.  But if rfc4474 can be re-signed by middle-domains willy-nilly, then it's just hop-by-hop trust which SIP already has today so there's little point in incurring the cost of signing and verifying.  The dtls-srtp-framework fingerprint attribute already has the hop-by-hop trust model without rfc4474.

-hadriel
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Sun Mar 16 18:39:00 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id B28EF3A6CF9;
	Sun, 16 Mar 2008 18:39:00 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -98.771
X-Spam-Level: 
X-Spam-Status: No, score=-98.771 tagged_above=-999 required=5
	tests=[AWL=1.666, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id sytiJguGeBB4; Sun, 16 Mar 2008 18:38:59 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id D43433A693A;
	Sun, 16 Mar 2008 18:38:59 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 3B3E13A68A9
	for <sip@core3.amsl.com>; Sun, 16 Mar 2008 18:38:58 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id wxSvgJYc1Xro for <sip@core3.amsl.com>;
	Sun, 16 Mar 2008 18:38:57 -0700 (PDT)
Received: from nylon.softarmor.com (nylon.softarmor.com [66.135.38.164])
	by core3.amsl.com (Postfix) with ESMTP id 5CCDB3A693A
	for <sip@ietf.org>; Sun, 16 Mar 2008 18:38:57 -0700 (PDT)
Received: from [192.168.2.101] (cpe-76-185-142-113.tx.res.rr.com
	[76.185.142.113] (may be forged)) (authenticated bits=0)
	by nylon.softarmor.com (8.13.8/8.13.8/Debian-3) with ESMTP id
	m2H1abiw017544
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NOT);
	Sun, 16 Mar 2008 20:36:38 -0500
Message-ID: <47DDCB22.1070005@softarmor.com>
Date: Sun, 16 Mar 2008 20:36:34 -0500
From: Dean Willis <dean.willis@softarmor.com>
User-Agent: Mozilla Thunderbird 1.0.5 (Windows/20050711)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Hadriel Kaplan <HKaplan@acmepacket.com>
References: <20080315133505.E08FF1B46D4@kilo.rtfm.com>
	<200803161709.m2GH9KbQ013855@nylon.softarmor.com>
	<E6C2E8958BA59A4FB960963D475F7AC30BCA2EC42B@mail.acmepacket.com>
In-Reply-To: <E6C2E8958BA59A4FB960963D475F7AC30BCA2EC42B@mail.acmepacket.com>
Cc: "sip@ietf.org" <sip@ietf.org>, John Elwell <john.elwell@siemens.com>
Subject: Re: [Sip] Straw-man for rfc4474 and e164
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Hadriel Kaplan wrote:

> 

> Eric (I think) and I are not talking about having no dtls-srtp
> fingerprint - that's an SDP attribute.  We're talking about not
> having the rfc4474 signature signing that fingerprint attribute.
> Even without the rfc4474 signature, an attacker has to be able to
> modify that SDP fingerprint attribute to succeed, and thus be in the
> signaling path.  The rfc4474 signature just prevents anyone between
> the signer and verifier from being able to do so.

Ok, I missed this.

I really thought DTLS-SRTP required an RFC 4474 Identity header. That's 
why I asked the question several times, both in person (with EKR) and on 
the list.

--
Dean
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Sun Mar 16 19:13:18 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 0B2D33A6A6E;
	Sun, 16 Mar 2008 19:13:18 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -99.345
X-Spam-Level: 
X-Spam-Status: No, score=-99.345 tagged_above=-999 required=5
	tests=[AWL=1.092, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id Y7pU8SDZQfsC; Sun, 16 Mar 2008 19:13:16 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 8E71A3A6830;
	Sun, 16 Mar 2008 19:13:16 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 7FB753A6830
	for <sip@core3.amsl.com>; Sun, 16 Mar 2008 19:13:14 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id rC3NYxRuLwwT for <sip@core3.amsl.com>;
	Sun, 16 Mar 2008 19:13:11 -0700 (PDT)
Received: from nylon.softarmor.com (nylon.softarmor.com [66.135.38.164])
	by core3.amsl.com (Postfix) with ESMTP id 437203A695E
	for <sip@ietf.org>; Sun, 16 Mar 2008 19:13:10 -0700 (PDT)
Received: from [192.168.2.103] (cpe-76-185-142-113.tx.res.rr.com
	[76.185.142.113] (may be forged)) (authenticated bits=0)
	by nylon.softarmor.com (8.13.8/8.13.8/Debian-3) with ESMTP id
	m2H2AkDZ017749
	(version=TLSv1/SSLv3 cipher=AES128-SHA bits=128 verify=NOT);
	Sun, 16 Mar 2008 21:10:48 -0500
Message-Id: <956231FA-8714-4B5A-9AF5-6E1C1407F217@softarmor.com>
From: Dean Willis <dean.willis@softarmor.com>
To: IETF SIP List <sip@ietf.org>
Mime-Version: 1.0 (Apple Message framework v919.2)
Date: Fri, 14 Mar 2008 18:52:31 -0400
X-Mailer: Apple Mail (2.919.2)
Cc: Cullen Jennings <fluffy@cisco.com>, Jon Peterson <jon.peterson@neustar.biz>
Subject: [Sip] Draft minutes, SIP at IETF 71
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Draft Minutes of SIP at IETF 71
Edited by Dean Willis from Notes by Bob Penfield and Bruce Lowekamp

Agreed agenda:

Status/Agenda Bash 15 min
Requirements for Media Security: Dan Wing 15 min
UA Initiated Privacy:  Mayumi Munakata 15 min
X.509 Certificates for TLS: Vijay Gurbani 15 min
X.509 Extended Key Usage: Vijay Gurbani 15 min
Request URI and Parameters to UA by Proxy: Christer Holmberg 30 min
Identity Requirements for E.164 and SBCs: John Elwell 30 min

Topic: Status
by Chairs
Slides presented and included in minutes

Issue: draft-dotson-sip-mutual-auth-01

PacketCable and 3GPP may have requirements for this work. If so, we
need official requests from them.

Noted that the draft needs to account for difference between how
authentication is handled in http vs sip, and also know that this
header is not widely used in http deployments, so we can't start with
the assumption that this works in http. Also, we need to show a
multi-proxy scenario.

Open question: Is this restricted to 200 OK responses?

Issue: draft-sipping-199-04

ACTION: Chairs to work with ADs to add deliverable to charter

Issue: draft-ietf-sip-session-policy-framework-02

There is one open question on use of alternative protocols (such as
http) for retrieval of policy documents. Is this widely needed?
Barring real use-cses and agreed needs, this will go forward as is.

Issue: draft-ietf-sip-outbound-12

Open question: keep-alive compromise. A solution using "ob" was
discussed. The room voiced no objection to the proposal.

Open question: flow-timer. One person in the room cared; nobody else
did. There seems to be little point in retaining this feature.

Issue: draft-ietf-sip-subnot-etags

One open question on ambiguity of "version". The author is to fix this
in the next version, which will proceed.

Issue: draft-kaplan-sip-info-events-01

A special session on this topic earlier in the week was cancelled,
leaving no time to really discuss it.

Despite a prior commitment to decide on either info-events or
info-harmful at this meeting, the WG was unable to reach consensus on
either direction. There seemed to be a slight preference for
info-events, but not a clear consensus.

AD Cullen Jennings suggested that the WG add a milestone for making a
decision to the charter.

Several participants suggested conference calls or an ad-hoc.

ACTION: Chairs to work with ADs to resolve a process here.

Issue: draft-ietf-sip-location-conveyance-10

WG is waiting on requirements from the GEOPRIV working group. The
draft will not advance until those requirements are resolved.


Issue: draft-sparks-sip-invfix-01 and Essential Corrections process

The WG discussed format alternatives including a standalone document
vs. a list of diffs. The conclusion is that the standalone document is
useful, but a list of sentence-by-sentence changes is essential to
developers.  Further, we need some sort of technique (perhaps a master
summary of all corrections).

ACTION: Chairs to do WGLC for invfix.


Topic: Requirements for Media Security
by Dan Wing
Slides presented

Question: Add current requirements, or publish draft based on
requirements from 2007 RTPSEC BOF? Resolved that we shall move forward
with current draft; other requirements, if needed, can be addressed in
future documents.

Issue: Requirement 15 on converting from RTP to SRTP mid-call.

Requirement was previously deleted, but there have been calls to add
it back in.

Noted by Alan Johnston that this is addressed in the latest ZRTP
draft.

Agreed that R15 shall be added back into requirements draft.

Noted that we have not received final feedback from 3GPP on the
document, but that discussion is underway.


Topic: UA Initiated Privacy
by Mayumi Munakata
Slides presented

Open Issue: Construction of URI in "From" Header Field

Three alternatives (as per RFC 3261, RFC 4474, and GRUU)
presented. Discussion resolved the the psuedonymous feature of GRUU is
best delivered by a separate anonymization service. The draft will
document alternatives #1 and #2, with #1 being preferred in the
absence of an RFC 4474 authentication service and #2 preferred in the
presence of such a service.


Topic: Domain Certs and Extended Key Usage
by Vijay Gurbani
Slides presented

Issue: Subject-Alt-Name

SAN is not provided in today's commercial certs, but the draft says
SIP certs MUST have it.

ACTION: Eric Rescorla (EKR) is to send revised text to the editors
making this a SHOULD.

Issue: Wildcard Certificates

Security area seems to have banned use of wildcard certificates in
IETF specifications, but they are widely believed to be critical in
HTTP deployments. Editors are to add a discussion of why they are not
allowed in this document.

Issue: Split of Domain-Certs and EKU into Two Drafts

Drafts were split for historical reasons.

ACTION: Chairs and ADs to discuss whether to re-merge.


Topic: Request URI and Parameters to UAS through Proxy
by Christer Holmberg
Slides presented

Debate was inconclusive. A WG chair speculated that we have lost track
of the requirements we are trying to solve.

ACTION: ADs and Chairs to figure out next step


Topic: SIP-Identity Issues
by John Elwell
Slides presented

Issue: E.164 and RFC 4474 and DTLS-SRTP

We have known issues with RFC 4474 handling of phone numbers,
especially given the inconsistent processing of phone numbers and
mixed URI encoding methods. The critical manifestation here is that if
RFC 4474 is used to assert an identity derived from the PSTN
(specifically, through a gateway via Caller-ID services) then there
may be no basis to trust that assertion.

This is problematic in that DTLS-SRTP requires and RFC 4474 Identity
header to provide the fingerprint that correlates media with
signaling. We would like to be able to use DTLS-SRTP with calls
to/from PSTN gateways. However, this could result in teh insertion of
misleading Identity headers.

Discussion focused on defining the problem and the three "problem" use
cases.

There was a conclusion that this is definitely a problem that needs to
be fixed. There seems to be a possibility that it could be fixed by
guidance in the DTLS-SRTP framework, which we would like to conclude
as soon as possible. However, there is at this time no consensus on a
solution. For the record, an extended conversation took off on the
mailing list following the in-meeting discussion, and that
conversation has brought forward at least one proposal (a From: header
URI parameter that would be inserted by gateways) that might meet the
requirements.

Issue: Impact of SBCs on RFC 4474 and SRTP-DTLS

SBCs may make changes to requests that alter the RFC 4474 Identity
header in such a way that it can not meet the requirements of
SRTP-DTLS. Several fixes have been proposed and were discussed
briefly. Further discussion is required.

End of Meeting Report

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Sun Mar 16 21:36:50 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 737FB3A6C2F;
	Sun, 16 Mar 2008 21:36:50 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -101.277
X-Spam-Level: 
X-Spam-Status: No, score=-101.277 tagged_above=-999 required=5
	tests=[AWL=-0.840, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 0H6U5H5Webtq; Sun, 16 Mar 2008 21:36:49 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 86C6A3A6B44;
	Sun, 16 Mar 2008 21:36:49 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id C16E33A6B44
	for <sip@core3.amsl.com>; Sun, 16 Mar 2008 21:36:47 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 0ePzn3kzI3B9 for <sip@core3.amsl.com>;
	Sun, 16 Mar 2008 21:36:46 -0700 (PDT)
Received: from sj-iport-6.cisco.com (sj-iport-6.cisco.com [171.71.176.117])
	by core3.amsl.com (Postfix) with ESMTP id C09353A69C4
	for <sip@ietf.org>; Sun, 16 Mar 2008 21:36:46 -0700 (PDT)
Received: from sj-dkim-3.cisco.com ([171.71.179.195])
	by sj-iport-6.cisco.com with ESMTP; 16 Mar 2008 21:34:30 -0700
Received: from sj-core-5.cisco.com (sj-core-5.cisco.com [171.71.177.238])
	by sj-dkim-3.cisco.com (8.12.11/8.12.11) with ESMTP id m2H4YUck010860; 
	Sun, 16 Mar 2008 21:34:30 -0700
Received: from dwingwxp01 ([10.32.240.197])
	by sj-core-5.cisco.com (8.13.8/8.13.8) with ESMTP id m2H4YTFF008689;
	Mon, 17 Mar 2008 04:34:30 GMT
From: "Dan Wing" <dwing@cisco.com>
To: "'Dean Willis'" <dean.willis@softarmor.com>,
	"'Hadriel Kaplan'" <HKaplan@acmepacket.com>
References: <20080315133505.E08FF1B46D4@kilo.rtfm.com><200803161709.m2GH9KbQ013855@nylon.softarmor.com><E6C2E8958BA59A4FB960963D475F7AC30BCA2EC42B@mail.acmepacket.com>
	<47DDCB22.1070005@softarmor.com>
Date: Sun, 16 Mar 2008 21:34:28 -0700
Message-ID: <004c01c887e8$306a62a0$c5f0200a@cisco.com>
MIME-Version: 1.0
X-Mailer: Microsoft Office Outlook 11
Thread-Index: AciHz2Oo8N7X6U+5T96Re4CWztoQrAAFbwhg
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.3198
In-Reply-To: <47DDCB22.1070005@softarmor.com>
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; l=1090; t=1205728470;
	x=1206592470; c=relaxed/simple; s=sjdkim3002;
	h=Content-Type:From:Subject:Content-Transfer-Encoding:MIME-Version;
	d=cisco.com; i=dwing@cisco.com;
	z=From:=20=22Dan=20Wing=22=20<dwing@cisco.com>
	|Subject:=20RE=3A=20[Sip]=20Straw-man=20for=20rfc4474=20and
	=20e164 |Sender:=20;
	bh=udoS+VDpn4uHcbwgAronklxtdnhy0t4oj4VbKmWh9xo=;
	b=o9ySqqZIvQLkHeODulFuO4uMxC7cxMJaLmcPsu0OE5j4+1WhTXGiIVM6Ai
	yr2y6n2qziB8eBShMpUtiFuoE+Fjn3u1ALna1nHKmUGmj80VQsis1WEPPl4Y
	l58ocWo1Or;
Authentication-Results: sj-dkim-3; header.From=dwing@cisco.com; dkim=pass (
	sig from cisco.com/sjdkim3002 verified; ); 
Cc: sip@ietf.org, 'John Elwell' <john.elwell@siemens.com>
Subject: Re: [Sip] Straw-man for rfc4474 and e164
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


> Hadriel Kaplan wrote:
>
> > Eric (I think) and I are not talking about having no dtls-srtp
> > fingerprint - that's an SDP attribute.  We're talking about not
> > having the rfc4474 signature signing that fingerprint attribute.
> > Even without the rfc4474 signature, an attacker has to be able to
> > modify that SDP fingerprint attribute to succeed, and thus be in the
> > signaling path.  The rfc4474 signature just prevents anyone between
> > the signer and verifier from being able to do so.

Said another way:

Without RFC4474, DTLS-SRTP (and TLS-comedia [RFC4572]) are vulnerable 
to an active attacker if that attacker is on both the media path
(to modify the (D)TLS handshake) and the signal path (the modify
the a=fingerprint).

> Ok, I missed this.
> 
> I really thought DTLS-SRTP required an RFC 4474 Identity 
> header. That's why I asked the question several times, both in 
> person (with EKR) and on the list.

It depends on if you want protection from active attackers; if
you do, you need RFC4474.  If you don't, you don't need RFC4474.

-d

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Mon Mar 17 03:44:30 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 8973C28C2DD;
	Mon, 17 Mar 2008 03:44:30 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -101.889
X-Spam-Level: 
X-Spam-Status: No, score=-101.889 tagged_above=-999 required=5
	tests=[AWL=-1.453, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, HTML_MESSAGE=0.001, RDNS_NONE=0.1,
	USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 3dosALO+Yqcy; Mon, 17 Mar 2008 03:44:29 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 36CD228C29F;
	Mon, 17 Mar 2008 03:44:29 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 86CCE28C297
	for <sip@core3.amsl.com>; Mon, 17 Mar 2008 03:44:27 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 73Jqcq5X0G+I for <sip@core3.amsl.com>;
	Mon, 17 Mar 2008 03:44:26 -0700 (PDT)
Received: from mailgw3.ericsson.se (mailgw3.ericsson.se [193.180.251.60])
	by core3.amsl.com (Postfix) with ESMTP id DF44228C231
	for <sip@ietf.org>; Mon, 17 Mar 2008 03:44:25 -0700 (PDT)
Received: from mailgw3.ericsson.se (unknown [127.0.0.1])
	by mailgw3.ericsson.se (Symantec Mail Security) with ESMTP id
	33FA0204AD; Mon, 17 Mar 2008 11:42:06 +0100 (CET)
X-AuditID: c1b4fb3c-ab095bb00000193b-e5-47de4afdf3d7
Received: from esealmw126.eemea.ericsson.se (unknown [153.88.254.123])
	by mailgw3.ericsson.se (Symantec Mail Security) with ESMTP id
	8814820259; Mon, 17 Mar 2008 11:42:05 +0100 (CET)
Received: from esealmw109.eemea.ericsson.se ([153.88.200.2]) by
	esealmw126.eemea.ericsson.se with Microsoft SMTPSVC(6.0.3790.1830); 
	Mon, 17 Mar 2008 11:39:52 +0100
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Mon, 17 Mar 2008 11:39:46 +0100
Message-ID: <2C685FA24AE8004CA8F0DCCC7AF6AD0801FABF0E@esealmw109.eemea.ericsson.se>
In-Reply-To: <F66D7286825402429571678A16C2F5EE02641C0F@zrc2hxm1.corp.nortel.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] History-Info: UA loose route versus Target header
thread-index: AciFH7Dyq9TdpeR0RBun7/oZCM2XWwAIuM2QAAQsRgAAsYKRwA==
References: <F66D7286825402429571678A16C2F5EE02640F48@zrc2hxm1.corp.nortel.com>
	<2C685FA24AE8004CA8F0DCCC7AF6AD0801F6E816@esealmw109.eemea.ericsson.se>
	<F66D7286825402429571678A16C2F5EE02641C0F@zrc2hxm1.corp.nortel.com>
From: "Hans Erik van Elburg" <hanserik.van.elburg@ericsson.com>
To: "Mary Barnes" <mary.barnes@nortel.com>,
	<sip@ietf.org>
X-OriginalArrivalTime: 17 Mar 2008 10:39:53.0008 (UTC)
	FILETIME=[3BDFDB00:01C8881B]
X-Brightmail-Tracker: AAAAAA==
Subject: Re: [Sip] History-Info: UA loose route versus Target header
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: multipart/mixed; boundary="===============2100675831=="
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

This is a multi-part message in MIME format.

--===============2100675831==
Content-class: urn:content-classes:message
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C8881B.389885E0"

This is a multi-part message in MIME format.

------_=_NextPart_001_01C8881B.389885E0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: quoted-printable

A reroute and a retarget (using the definitions of the ua-loose-route
draft) may both be caused by some local policy deployed on a proxy, it
is not clear how they should be distinguished by reason values. And it
is certainly nowhere defined what different reasons would be applicable
in these cases.
=20
To complicate things further to RFC4244 any rewrite of the Request URI
is a retarget, not so in the more subtle definitions used in the
ua-loose-route draft which distinguishes retargets from reroutes.
=20
Therefore I insist that History-Info as it is today, does not cover
this.
=20
/Hans Erik

________________________________

From: Mary Barnes [mailto:mary.barnes@nortel.com]=20
Sent: Thursday, March 13, 2008 10:47 PM
To: Hans Erik van Elburg; sip@ietf.org
Subject: RE: [Sip] History-Info: UA loose route versus Target header


You can tell retargets versus rerouting due to combination of the
reasons in the various responses and the indices.  With the indices you
can get a trace (in the form of a tree structure due to the nesting of
the indices) that shows the entire history of a request.=20
=20
Mary.=20

________________________________

From: Hans Erik van Elburg [mailto:hanserik.van.elburg@ericsson.com]=20
Sent: Thursday, March 13, 2008 2:48 PM
To: Barnes, Mary (RICH2:AR00); sip@ietf.org
Subject: RE: [Sip] History-Info: UA loose route versus Target header


Hi Mary,
=20
I dont think that the objective should be to change the fundamental
nature of SIP processing for no good reason. It will break things.
=20
The probem with the History-Info is that one can not distinguish
reroutes from retargets and hence it can not be used for this. If you
disagree with that could you address why you think this is not the case?
=20
/Hans Erik

________________________________

From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On Behalf Of
Mary Barnes
Sent: Thursday, March 13, 2008 11:34 AM
To: sip@ietf.org
Subject: [Sip] History-Info: UA loose route versus Target header



Per my comments at the microphone, here's my assessment of the
difference between the two documents as they apply to History-Info as a
potential solution.

draft-rosenberg-sip-ua-loose-route-02 clearly states that History-Info
functionally can be used to solve the problem described in that
document.  However, Jonathan's objective is to solve a fundamental
problem of not distinguishing routing versus re-targeting (read section
5).  This document would actually change the content of the History-Info
headers for the same requests, just as it's already identified in RFC
4244 that if you have loose routing in general, that the information is
different in History-Info.=20

The document  draft-holmberg-sip-target-uri-delivery-01.txt  doesn't do
anything to change fundamental SIP processing. It just adds another
header that contains information that would already be contained in
History-Info. History-info provides a complete history of the processing
of a request, with the indexing provided by the entries and the reasons,
you know exactly why a request was either "retargetted" or "re-routed".
The examples in the appendix would apply to the use cases you are
attempting to solve as described in Jonathan's document.=20

Mary.=20


------_=_NextPart_001_01C8881B.389885E0
Content-Type: text/html;
	charset="US-ASCII"
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML><HEAD><TITLE>History-Info: UA loose route versus Target =
header</TITLE>
<META http-equiv=3DContent-Type content=3D"text/html; =
charset=3Dus-ascii">
<META content=3D"MSHTML 6.00.2800.1607" name=3DGENERATOR></HEAD>
<BODY>
<DIV><SPAN class=3D079072610-17032008><FONT face=3DArial color=3D#800000 =
size=3D2>A=20
reroute and a retarget (using the definitions of the ua-loose-route =
draft) may=20
both be caused by some local policy deployed on a proxy, it is not clear =
how=20
they should be distinguished by reason values. And it is certainly =
nowhere=20
defined what different reasons would be applicable in these=20
cases.</FONT></SPAN></DIV>
<DIV><SPAN class=3D079072610-17032008><FONT face=3DArial color=3D#800000 =

size=3D2></FONT></SPAN>&nbsp;</DIV>
<DIV><SPAN class=3D079072610-17032008><FONT face=3DArial color=3D#800000 =
size=3D2>To=20
complicate things further to RFC4244 any rewrite of the Request URI is a =

retarget, not so in the more subtle definitions used in =
the&nbsp;ua-loose-route=20
draft which distinguishes retargets from reroutes.</FONT></SPAN></DIV>
<DIV><SPAN class=3D079072610-17032008><FONT face=3DArial color=3D#800000 =

size=3D2></FONT></SPAN>&nbsp;</DIV>
<DIV><SPAN class=3D079072610-17032008><FONT face=3DArial color=3D#800000 =

size=3D2>Therefore I insist that History-Info as it is today, does not =
cover=20
this.</FONT></SPAN></DIV>
<DIV><SPAN class=3D079072610-17032008><FONT face=3DArial color=3D#800000 =

size=3D2></FONT></SPAN>&nbsp;</DIV>
<DIV><SPAN class=3D079072610-17032008><FONT face=3DArial color=3D#800000 =
size=3D2>/Hans=20
Erik</FONT></SPAN></DIV><BR>
<DIV class=3DOutlookMessageHeader lang=3Den-us dir=3Dltr align=3Dleft>
<HR tabIndex=3D-1>
<FONT face=3DTahoma size=3D2><B>From:</B> Mary Barnes=20
[mailto:mary.barnes@nortel.com] <BR><B>Sent:</B> Thursday, March 13, =
2008 10:47=20
PM<BR><B>To:</B> Hans Erik van Elburg; sip@ietf.org<BR><B>Subject:</B> =
RE: [Sip]=20
History-Info: UA loose route versus Target header<BR></FONT><BR></DIV>
<DIV></DIV>
<DIV dir=3Dltr align=3Dleft><FONT face=3DArial color=3D#0000ff =
size=3D2><SPAN=20
class=3D093274321-13032008>You can tell retargets versus rerouting due =
to=20
combination of the reasons in the various responses and the =
indices.&nbsp; With=20
the indices you can get a trace (in the form of a tree structure due to =
the=20
nesting of the indices) that shows the entire history of a=20
request.&nbsp;</SPAN></FONT></DIV>
<DIV dir=3Dltr align=3Dleft><FONT face=3DArial color=3D#0000ff =
size=3D2><SPAN=20
class=3D093274321-13032008></SPAN></FONT><FONT face=3DArial =
color=3D#0000ff=20
size=3D2><SPAN class=3D093274321-13032008></SPAN></FONT>&nbsp;</DIV>
<DIV dir=3Dltr align=3Dleft><FONT face=3DArial color=3D#0000ff =
size=3D2><SPAN=20
class=3D093274321-13032008>Mary. </SPAN></FONT></DIV><BR>
<DIV class=3DOutlookMessageHeader lang=3Den-us dir=3Dltr align=3Dleft>
<HR tabIndex=3D-1>
<FONT face=3DTahoma size=3D2><B>From:</B> Hans Erik van Elburg=20
[mailto:hanserik.van.elburg@ericsson.com] <BR><B>Sent:</B> Thursday, =
March 13,=20
2008 2:48 PM<BR><B>To:</B> Barnes, Mary (RICH2:AR00);=20
sip@ietf.org<BR><B>Subject:</B> RE: [Sip] History-Info: UA loose route =
versus=20
Target header<BR></FONT><BR></DIV>
<DIV></DIV>
<DIV><SPAN class=3D004584319-13032008><FONT face=3DArial color=3D#800000 =
size=3D2>Hi=20
Mary,</FONT></SPAN></DIV>
<DIV><SPAN class=3D004584319-13032008><FONT face=3DArial color=3D#800000 =

size=3D2></FONT></SPAN>&nbsp;</DIV>
<DIV><SPAN class=3D004584319-13032008><FONT face=3DArial color=3D#800000 =
size=3D2>I dont=20
think that the objective should be to change the fundamental nature of =
SIP=20
processing for no good reason. It will break things.</FONT></SPAN></DIV>
<DIV><SPAN class=3D004584319-13032008><FONT face=3DArial color=3D#800000 =

size=3D2></FONT></SPAN>&nbsp;</DIV>
<DIV><SPAN class=3D004584319-13032008><FONT face=3DArial color=3D#800000 =
size=3D2>The=20
probem with the History-Info is that one can not distinguish reroutes =
from=20
retargets and hence it can not be used for this. If you disagree with =
that could=20
you address why you think this is not the case?</FONT></SPAN></DIV>
<DIV><SPAN class=3D004584319-13032008><FONT face=3DArial color=3D#800000 =

size=3D2></FONT></SPAN>&nbsp;</DIV>
<DIV><SPAN class=3D004584319-13032008><FONT face=3DArial color=3D#800000 =
size=3D2>/Hans=20
Erik</FONT></SPAN></DIV><BR>
<DIV class=3DOutlookMessageHeader lang=3Den-us dir=3Dltr align=3Dleft>
<HR tabIndex=3D-1>
<FONT face=3DTahoma size=3D2><B>From:</B> sip-bounces@ietf.org=20
[mailto:sip-bounces@ietf.org] <B>On Behalf Of </B>Mary =
Barnes<BR><B>Sent:</B>=20
Thursday, March 13, 2008 11:34 AM<BR><B>To:</B> =
sip@ietf.org<BR><B>Subject:</B>=20
[Sip] History-Info: UA loose route versus Target =
header<BR></FONT><BR></DIV>
<DIV></DIV><!-- Converted from text/rtf format -->
<P><FONT face=3DArial size=3D2>Per my comments at the microphone, here's =
my=20
assessment of the difference between the two documents as they apply to=20
History-Info as a potential solution.</FONT></P>
<P><FONT face=3DArial size=3D2>draft-rosenberg-sip-ua-loose-route-02 =
clearly states=20
that History-Info functionally can be used to solve the problem =
described in=20
that document.&nbsp; However, Jonathan's objective is to solve a =
fundamental=20
problem of not distinguishing routing versus re-targeting (read section=20
5).&nbsp; This document would actually change the content of the =
History-Info=20
headers for the same requests, just as it's already identified in RFC =
4244 that=20
if you have loose routing in general, that the information is different =
in=20
History-Info. </FONT></P>
<P><FONT face=3DArial size=3D2>The document&nbsp;=20
draft-holmberg-sip-target-uri-delivery-01.txt&nbsp; doesn't do anything =
to=20
change fundamental SIP processing. It just adds another header that =
contains=20
information that would already be contained in History-Info. =
History-info=20
provides a complete history of the processing of a request, with the =
indexing=20
provided by the entries and the reasons, you know exactly why a request =
was=20
either "retargetted" or "re-routed".&nbsp;&nbsp; The examples in the =
appendix=20
would apply to the use cases you are attempting to solve as described in =

Jonathan's document. </FONT></P>
<P><FONT face=3DArial size=3D2>Mary. </FONT></P></BODY></HTML>

------_=_NextPart_001_01C8881B.389885E0--

--===============2100675831==
Content-Type: text/plain; charset="us-ascii"
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip
--===============2100675831==--


From sip-bounces@ietf.org  Mon Mar 17 04:39:05 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 8B6A228C42D;
	Mon, 17 Mar 2008 04:39:05 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -101.082
X-Spam-Level: 
X-Spam-Status: No, score=-101.082 tagged_above=-999 required=5
	tests=[AWL=-0.646, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, HTML_MESSAGE=0.001, RDNS_NONE=0.1,
	USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 8OYw8J4nfv3x; Mon, 17 Mar 2008 04:39:01 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 465F628C3C5;
	Mon, 17 Mar 2008 04:39:00 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 1CF3328C3C5
	for <sip@core3.amsl.com>; Mon, 17 Mar 2008 04:38:59 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id tXRoXE4kIBcc for <sip@core3.amsl.com>;
	Mon, 17 Mar 2008 04:38:57 -0700 (PDT)
Received: from mailgw3.ericsson.se (mailgw3.ericsson.se [193.180.251.60])
	by core3.amsl.com (Postfix) with ESMTP id 0287328C106
	for <sip@ietf.org>; Mon, 17 Mar 2008 04:38:57 -0700 (PDT)
Received: from mailgw3.ericsson.se (unknown [127.0.0.1])
	by mailgw3.ericsson.se (Symantec Mail Security) with ESMTP id
	1704E2229C; Mon, 17 Mar 2008 12:31:10 +0100 (CET)
X-AuditID: c1b4fb3c-ab095bb00000193b-fb-47de567de91f
Received: from esealmw126.eemea.ericsson.se (unknown [153.88.254.123])
	by mailgw3.ericsson.se (Symantec Mail Security) with ESMTP id
	EDFB922288; Mon, 17 Mar 2008 12:31:09 +0100 (CET)
Received: from esealmw109.eemea.ericsson.se ([153.88.200.2]) by
	esealmw126.eemea.ericsson.se with Microsoft SMTPSVC(6.0.3790.1830); 
	Mon, 17 Mar 2008 12:31:03 +0100
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Mon, 17 Mar 2008 12:31:03 +0100
Message-ID: <2C685FA24AE8004CA8F0DCCC7AF6AD0801FAC01C@esealmw109.eemea.ericsson.se>
In-Reply-To: <F66D7286825402429571678A16C2F5EE02641BFA@zrc2hxm1.corp.nortel.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] History-Info: UA loose route versus Target header
thread-index: AciFH7Dyq9TdpeR0RBun7/oZCM2XWwAGCarQAAFbwaAABT4wIACzyCSw
References: <F66D7286825402429571678A16C2F5EE02640F48@zrc2hxm1.corp.nortel.com><0D5F89FAC29E2C41B98A6A762007F5D07DB068@GBNTHT12009MSX.gb002.siemens.net><1ECE0EB50388174790F9694F77522CCF15778611@zrc2hxm0.corp.nortel.com>
	<F66D7286825402429571678A16C2F5EE02641BFA@zrc2hxm1.corp.nortel.com>
From: "Hans Erik van Elburg" <hanserik.van.elburg@ericsson.com>
To: "Mary Barnes" <mary.barnes@nortel.com>,
	<sip@ietf.org>
X-OriginalArrivalTime: 17 Mar 2008 11:31:03.0972 (UTC)
	FILETIME=[624FC640:01C88822]
X-Brightmail-Tracker: AAAAAA==
Subject: Re: [Sip] History-Info: UA loose route versus Target header
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: multipart/mixed; boundary="===============1236521583=="
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

This is a multi-part message in MIME format.

--===============1236521583==
Content-class: urn:content-classes:message
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C88822.61FC3D35"

This is a multi-part message in MIME format.

------_=_NextPart_001_01C88822.61FC3D35
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: quoted-printable

When an entity receives a History-Info with the last entry not being
equal to the Request URI, the only thing that it can infer from that, is
that the one or more previous traversed entities do not support the
History-Info. I do not see how that helps in determining what the
current target is.
=20
/Hans Erik

________________________________

From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On Behalf Of
Mary Barnes
Sent: Thursday, March 13, 2008 10:43 PM
To: Francois Audet; Elwell, John; sip@ietf.org
Subject: Re: [Sip] History-Info: UA loose route versus Target header


You will know whether or not  the last entity that retargeted or routed
the request to the terminator added an HI entry, since the concept of
the old and new is captured - i.e., the entity receiving the request
determines whether the last HI entry matches the request-URI in the
request.  It was a fundamental requirement (CONTENT-Req) that both the
new URI and the one that was retargetted are captured.  In that case,
you can know that the previous HI entry was the request-URI for the
previous hop.  =20
=20
So, in that respect History-Info is better than the Target-ID.  I also
think that if you do the detailed flows for your scenarios, including
the complete HI, you can see the pattern for determining the right entry
to use due to the indices and reasons included in the entries.
Basically, you're moving the logic to the endpoint that receives the
request rather than having the proxies do extra work along the way to
determine what the Target-ID should be.
=20
Mary.=20

________________________________

From: Audet, Francois (SC100:3055)=20
Sent: Thursday, March 13, 2008 2:07 PM
To: Elwell, John; Barnes, Mary (RICH2:AR00); sip@ietf.org
Subject: RE: [Sip] History-Info: UA loose route versus Target header


Well, yes, of course.  That is not a solvable problem.


________________________________

	From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On
Behalf Of Elwell, John
	Sent: Thursday, March 13, 2008 11:30
	To: Barnes, Mary (RICH2:AR00); sip@ietf.org
	Subject: Re: [Sip] History-Info: UA loose route versus Target
header
=09
=09
	One problem identified with Target-Id was that a proxy that
retargets and doesn't support Target-Id might just forward an existing
Target-Id rather than remove it. I think history-info has a similar
property, i.e., the last history entry will not necessarily reflect the
most recent target. Would anybody care to comment on this?
	=20
	John


________________________________

		From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org]
On Behalf Of Mary Barnes
		Sent: 13 March 2008 15:34
		To: sip@ietf.org
		Subject: [Sip] History-Info: UA loose route versus
Target header
	=09
	=09

		Per my comments at the microphone, here's my assessment
of the difference between the two documents as they apply to
History-Info as a potential solution.

		draft-rosenberg-sip-ua-loose-route-02 clearly states
that History-Info functionally can be used to solve the problem
described in that document.  However, Jonathan's objective is to solve a
fundamental problem of not distinguishing routing versus re-targeting
(read section 5).  This document would actually change the content of
the History-Info headers for the same requests, just as it's already
identified in RFC 4244 that if you have loose routing in general, that
the information is different in History-Info.=20

		The document
draft-holmberg-sip-target-uri-delivery-01.txt  doesn't do anything to
change fundamental SIP processing. It just adds another header that
contains information that would already be contained in History-Info.
History-info provides a complete history of the processing of a request,
with the indexing provided by the entries and the reasons, you know
exactly why a request was either "retargetted" or "re-routed".   The
examples in the appendix would apply to the use cases you are attempting
to solve as described in Jonathan's document.=20

		Mary.=20


------_=_NextPart_001_01C88822.61FC3D35
Content-Type: text/html;
	charset="US-ASCII"
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML><HEAD><TITLE>History-Info: UA loose route versus Target =
header</TITLE>
<META http-equiv=3DContent-Type content=3D"text/html; =
charset=3Dus-ascii">
<META content=3D"MSHTML 6.00.2800.1607" name=3DGENERATOR></HEAD>
<BODY>
<DIV><SPAN class=3D485502311-17032008><FONT face=3DArial color=3D#800000 =
size=3D2>When=20
an entity receives a History-Info with the last entry not being equal to =
the=20
Request URI, the only thing that it can&nbsp;infer from that, is that=20
the&nbsp;one or more previous traversed entities do not support the=20
History-Info. I do not see how that helps in determining what the =
current target=20
is.</FONT></SPAN></DIV>
<DIV><SPAN class=3D485502311-17032008><FONT face=3DArial color=3D#800000 =

size=3D2></FONT></SPAN>&nbsp;</DIV>
<DIV><SPAN class=3D485502311-17032008><FONT face=3DArial color=3D#800000 =
size=3D2>/Hans=20
Erik</FONT></SPAN></DIV><BR>
<DIV class=3DOutlookMessageHeader lang=3Den-us dir=3Dltr align=3Dleft>
<HR tabIndex=3D-1>
<FONT face=3DTahoma size=3D2><B>From:</B> sip-bounces@ietf.org=20
[mailto:sip-bounces@ietf.org] <B>On Behalf Of </B>Mary =
Barnes<BR><B>Sent:</B>=20
Thursday, March 13, 2008 10:43 PM<BR><B>To:</B> Francois Audet; Elwell, =
John;=20
sip@ietf.org<BR><B>Subject:</B> Re: [Sip] History-Info: UA loose route =
versus=20
Target header<BR></FONT><BR></DIV>
<DIV></DIV>
<DIV dir=3Dltr align=3Dleft><FONT face=3DArial color=3D#0000ff =
size=3D2><SPAN=20
class=3D718073621-13032008>You will know whether or not &nbsp;the last =
entity that=20
retargeted or routed the request to the terminator added an HI entry, =
since the=20
concept of the old and new is captured - i.e., the entity receiving the =
request=20
determines whether the last HI entry matches the request-URI in the=20
request.&nbsp; It was a fundamental requirement (CONTENT-Req) that both =
the new=20
URI and the one that was retargetted are captured.&nbsp;&nbsp;In that =
case, you=20
can know that the previous HI entry was the request-URI for the previous =

hop.&nbsp;&nbsp; </SPAN></FONT></DIV>
<DIV><FONT face=3DArial color=3D#0000ff size=3D2><SPAN=20
class=3D718073621-13032008></SPAN></FONT>&nbsp;</DIV>
<DIV><FONT face=3DArial color=3D#0000ff size=3D2><SPAN =
class=3D718073621-13032008>So, in=20
that respect History-Info is better than the Target-ID.&nbsp; I also =
think that=20
if you do the detailed flows for your scenarios, including the complete =
HI, you=20
can see the pattern for determining the right entry to use due to the =
indices=20
and reasons included in the entries.&nbsp; Basically, you're moving the =
logic to=20
the endpoint that receives the request rather than having the proxies do =
extra=20
work along the way to determine what the Target-ID should=20
be.</SPAN></FONT></DIV>
<DIV><FONT face=3DArial color=3D#0000ff size=3D2><SPAN=20
class=3D718073621-13032008></SPAN></FONT>&nbsp;</DIV>
<DIV><FONT face=3DArial color=3D#0000ff size=3D2><SPAN =
class=3D718073621-13032008>Mary.=20
</SPAN></FONT></DIV>
<DIV dir=3Dltr align=3Dleft><BR></DIV>
<DIV class=3DOutlookMessageHeader lang=3Den-us dir=3Dltr align=3Dleft>
<HR tabIndex=3D-1>
<FONT face=3DTahoma size=3D2><B>From:</B> Audet, Francois (SC100:3055)=20
<BR><B>Sent:</B> Thursday, March 13, 2008 2:07 PM<BR><B>To:</B> Elwell, =
John;=20
Barnes, Mary (RICH2:AR00); sip@ietf.org<BR><B>Subject:</B> RE: [Sip]=20
History-Info: UA loose route versus Target header<BR></FONT><BR></DIV>
<DIV></DIV>
<DIV dir=3Dltr align=3Dleft><SPAN class=3D433000619-13032008><FONT =
face=3DArial=20
color=3D#800000 size=3D2>Well, yes, of course.&nbsp; That is not a =
solvable=20
problem.</FONT></SPAN><BR></DIV>
<BLOCKQUOTE dir=3Dltr=20
style=3D"PADDING-LEFT: 5px; MARGIN-LEFT: 5px; BORDER-LEFT: #800000 2px =
solid; MARGIN-RIGHT: 0px">
  <DIV class=3DOutlookMessageHeader lang=3Den-us dir=3Dltr align=3Dleft>
  <HR tabIndex=3D-1>
  <FONT face=3DTahoma size=3D2><B>From:</B> sip-bounces@ietf.org=20
  [mailto:sip-bounces@ietf.org] <B>On Behalf Of </B>Elwell, =
John<BR><B>Sent:</B>=20
  Thursday, March 13, 2008 11:30<BR><B>To:</B> Barnes, Mary =
(RICH2:AR00);=20
  sip@ietf.org<BR><B>Subject:</B> Re: [Sip] History-Info: UA loose route =
versus=20
  Target header<BR></FONT><BR></DIV>
  <DIV></DIV>
  <DIV dir=3Dltr align=3Dleft><SPAN class=3D734062718-13032008><FONT =
face=3DArial=20
  color=3D#0000ff size=3D2>One problem identified with Target-Id was =
that a proxy=20
  that retargets and doesn't support Target-Id might just forward an =
existing=20
  Target-Id rather than remove it. I think history-info has a similar =
property,=20
  i.e., the last history entry will not necessarily reflect the most =
recent=20
  target. Would anybody care to comment on this?</FONT></SPAN></DIV>
  <DIV dir=3Dltr align=3Dleft><SPAN class=3D734062718-13032008><FONT =
face=3DArial=20
  color=3D#0000ff size=3D2></FONT></SPAN>&nbsp;</DIV>
  <DIV dir=3Dltr align=3Dleft><SPAN class=3D734062718-13032008><FONT =
face=3DArial=20
  color=3D#0000ff size=3D2>John</FONT></SPAN></DIV><BR>
  <BLOCKQUOTE dir=3Dltr=20
  style=3D"PADDING-LEFT: 5px; MARGIN-LEFT: 5px; BORDER-LEFT: #0000ff 2px =
solid; MARGIN-RIGHT: 0px">
    <DIV class=3DOutlookMessageHeader lang=3Den-us dir=3Dltr =
align=3Dleft>
    <HR tabIndex=3D-1>
    <FONT face=3DTahoma size=3D2><B>From:</B> sip-bounces@ietf.org=20
    [mailto:sip-bounces@ietf.org] <B>On Behalf Of </B>Mary=20
    Barnes<BR><B>Sent:</B> 13 March 2008 15:34<BR><B>To:</B>=20
    sip@ietf.org<BR><B>Subject:</B> [Sip] History-Info: UA loose route =
versus=20
    Target header<BR></FONT><BR></DIV>
    <DIV></DIV><!-- Converted from text/rtf format -->
    <P><FONT face=3DArial size=3D2>Per my comments at the microphone, =
here's my=20
    assessment of the difference between the two documents as they apply =
to=20
    History-Info as a potential solution.</FONT></P>
    <P><FONT face=3DArial size=3D2>draft-rosenberg-sip-ua-loose-route-02 =
clearly=20
    states that History-Info functionally can be used to solve the =
problem=20
    described in that document.&nbsp; However, Jonathan's objective is =
to solve=20
    a fundamental problem of not distinguishing routing versus =
re-targeting=20
    (read section 5).&nbsp; This document would actually change the =
content of=20
    the History-Info headers for the same requests, just as it's already =

    identified in RFC 4244 that if you have loose routing in general, =
that the=20
    information is different in History-Info. </FONT></P>
    <P><FONT face=3DArial size=3D2>The document&nbsp;=20
    draft-holmberg-sip-target-uri-delivery-01.txt&nbsp; doesn't do =
anything to=20
    change fundamental SIP processing. It just adds another header that =
contains=20
    information that would already be contained in History-Info. =
History-info=20
    provides a complete history of the processing of a request, with the =

    indexing provided by the entries and the reasons, you know exactly =
why a=20
    request was either "retargetted" or "re-routed".&nbsp;&nbsp; The =
examples in=20
    the appendix would apply to the use cases you are attempting to =
solve as=20
    described in Jonathan's document. </FONT></P>
    <P><FONT face=3DArial size=3D2>Mary.=20
</FONT></P></BLOCKQUOTE></BLOCKQUOTE></BODY></HTML>

------_=_NextPart_001_01C88822.61FC3D35--

--===============1236521583==
Content-Type: text/plain; charset="us-ascii"
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip
--===============1236521583==--


From sip-bounces@ietf.org  Mon Mar 17 05:25:16 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 343A728C38D;
	Mon, 17 Mar 2008 05:25:16 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -101.022
X-Spam-Level: 
X-Spam-Status: No, score=-101.022 tagged_above=-999 required=5
	tests=[AWL=-0.585, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id WIhhUU-HQutb; Mon, 17 Mar 2008 05:25:15 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 0034128C16B;
	Mon, 17 Mar 2008 05:25:14 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id B1F6D3A6785
	for <sip@core3.amsl.com>; Mon, 17 Mar 2008 05:25:13 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id IvSUDYGbcL7o for <sip@core3.amsl.com>;
	Mon, 17 Mar 2008 05:25:04 -0700 (PDT)
Received: from rtp-iport-2.cisco.com (rtp-iport-2.cisco.com [64.102.122.149])
	by core3.amsl.com (Postfix) with ESMTP id 3CA193A6943
	for <sip@ietf.org>; Mon, 17 Mar 2008 05:25:04 -0700 (PDT)
X-IronPort-AV: E=Sophos;i="4.25,512,1199682000"; 
   d="scan'208";a="1985075"
Received: from rtp-dkim-2.cisco.com ([64.102.121.159])
	by rtp-iport-2.cisco.com with ESMTP; 17 Mar 2008 08:22:47 -0400
Received: from rtp-core-1.cisco.com (rtp-core-1.cisco.com [64.102.124.12])
	by rtp-dkim-2.cisco.com (8.12.11/8.12.11) with ESMTP id m2HCMlZx020014; 
	Mon, 17 Mar 2008 08:22:47 -0400
Received: from xbh-rtp-201.amer.cisco.com (xbh-rtp-201.cisco.com
	[64.102.31.12])
	by rtp-core-1.cisco.com (8.13.8/8.13.8) with ESMTP id m2HCMlOb002561;
	Mon, 17 Mar 2008 12:22:47 GMT
Received: from xfe-rtp-202.amer.cisco.com ([64.102.31.21]) by
	xbh-rtp-201.amer.cisco.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Mon, 17 Mar 2008 08:22:47 -0400
Received: from [10.82.217.52] ([10.82.217.52]) by xfe-rtp-202.amer.cisco.com
	with Microsoft SMTPSVC(6.0.3790.1830); 
	Mon, 17 Mar 2008 08:22:46 -0400
Message-ID: <47DE62A9.1010708@cisco.com>
Date: Mon, 17 Mar 2008 08:23:05 -0400
From: Paul Kyzivat <pkyzivat@cisco.com>
User-Agent: Thunderbird 2.0.0.12 (Windows/20080213)
MIME-Version: 1.0
To: Richard Good <rgood@crg.ee.uct.ac.za>
References: <47DA4E02.8000502@crg.ee.uct.ac.za> <47DAA702.1060600@cisco.com>
	<0D5F89FAC29E2C41B98A6A762007F5D07DB458@GBNTHT12009MSX.gb002.siemens.net>
	<47DE1899.8060609@crg.ee.uct.ac.za>
In-Reply-To: <47DE1899.8060609@crg.ee.uct.ac.za>
X-OriginalArrivalTime: 17 Mar 2008 12:22:46.0440 (UTC)
	FILETIME=[9B86D280:01C88829]
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; l=3892; t=1205756567;
	x=1206620567; c=relaxed/simple; s=rtpdkim2001;
	h=Content-Type:From:Subject:Content-Transfer-Encoding:MIME-Version;
	d=cisco.com; i=pkyzivat@cisco.com;
	z=From:=20Paul=20Kyzivat=20<pkyzivat@cisco.com>
	|Subject:=20Re=3A=20[Sip]=20302=20Support=20in=20RFC=203665
	|Sender:=20 |To:=20Richard=20Good=20<rgood@crg.ee.uct.ac.za>;
	bh=3JmKjFCfoX5vAfQA9IFnG5FxL0G7EOIkoNwtZDGJss0=;
	b=HAhe8LpI4HRiz3lGGvPnbvyYfvD1PcncLdOO9puI82Egc2gFTAitZIXqg/
	yiAaxcVCSdxwZYqNanII09lOuMzhj2Fk0YKbKMkXWcHqButGJ8uNRUe+canh
	Gqj84xzq2X;
Authentication-Results: rtp-dkim-2; header.From=pkyzivat@cisco.com; dkim=pass (
	sig from cisco.com/rtpdkim2001 verified; ); 
Cc: sip@ietf.org, "Elwell, John" <john.elwell@siemens.com>
Subject: Re: [Sip] 302 Support in RFC 3665
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Just remember there is a requirement that you track the set of addresses 
you have tried, and not try the same one twice. (E.g. if your receive 
the same address in different 302 responses.)

	Paul

Richard Good wrote:
> Morning,
> 
> Thanks for the speedy responses.
> 
> I see your point about there being no To Tag in the F4 INVITE and hence 
> a new dialog is formed when the dialog forming response is sent.  I was 
> just confused by the fact that the Call ID and From tag were identical 
> for INVITE F4 and the 302.
> 
> My main issue is one of implementation - when I receive a 302 response 
> can I create an entirely new INVITE with the address in the 302 Contact  
> field as the Request URI - or must I create an INVITE within the same 
> session? From your responses I conclude that I can create a brand new 
> INVITE without contravening the RFC.
> 
> Thanks and Regards,
> Richard.
> 
> 
> 
> Elwell, John wrote:
>> Richard,
>>
>> Notwithstanding what Paul sent, I am confused by your original question,
>> because INVITE F4 does NOT contain a To tag, so there is no dialog. The
>> first dialog-forming response leads to a different dialog, because the
>> To tag is different from that in the 302.
>>
>> John
>>
>>  
>>> -----Original Message-----
>>> From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On Behalf Of 
>>> Paul Kyzivat
>>> Sent: 14 March 2008 16:26
>>> To: Richard Good
>>> Cc: sip@ietf.org
>>> Subject: Re: [Sip] 302 Support in RFC 3665
>>>
>>>
>>>
>>> Richard Good wrote:
>>>    
>>>> Hi,
>>>>
>>>> I have a query regarding the 302 (Temporarily Moved)       
>>> message flow shown    
>>>> in RFC 3665.
>>>>
>>>> Essentially if a SIP client receives a 302 message in       
>>> response to an    
>>>> INVITE  it should ACK this message and then using the       
>>> address in the    
>>>> contact field send a new INVITE request.
>>>>
>>>> In the message flow shown in RFC 3665 (see section 3.6. Session via 
>>>> Redirect and Proxy Servers with SDP in ACK) the new INVITE       
>>> request has    
>>>> the same To field, From field, To Tag and Call ID - the       
>>> Request URI uses    
>>>> the address specified in the Contact field of the 302 response.  
>>>> Essentially this new INVITE is part of the same dialog but has a 
>>>> different Request URI.
>>>>
>>>> My questions are: Is the 302 response not a final response?       
>>> Does it not    
>>>> end the dialog? Shouldn't the new INVITE have new Call ID,       
>>> tags etc. and    
>>>> shouldn't the address from the Contact field be in the       
>>> Request URI and    
>>>> To field of the new INVITE request?
>>>>       
>>> See 3261 section 8.1.3.4. Using the same To, From, and Call-Id is 
>>> *recommended*, but not required.
>>>
>>> Note that if the 3xx recursion is done by a proxy along the path it 
>>> must be this way, so it seems harmless for the UAC to do as a proxy 
>>> would.
>>>
>>> OTOH, there are cases when it would be good for the To-URI to be 
>>> updated. For instance, if a UAC counts on a proxy at the originating 
>>> side to expand certain URIs, such as speed dial numbers, it would be 
>>> good to do so by redirection, and for the UAC to put the expanded 
>>> number into the To-URI, so that the callee will have a clue of where 
>>> the call was intended to go. But doing this seems to require some 
>>> indication that this is intended - e.g. a special 3xx code for the 
>>> purpose.
>>>
>>>     Paul
>>> _______________________________________________
>>> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
>>> This list is for NEW development of the core SIP Protocol
>>> Use sip-implementors@cs.columbia.edu for questions on current sip
>>> Use sipping@ietf.org for new developments on the application of sip
>>>
>>>     
> 
> 
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Mon Mar 17 06:52:13 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 06F7A28C41A;
	Mon, 17 Mar 2008 06:52:13 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.852
X-Spam-Level: 
X-Spam-Status: No, score=-100.852 tagged_above=-999 required=5
	tests=[AWL=-0.415, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id yumWSjrE+F0E; Mon, 17 Mar 2008 06:52:08 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id A4F8E3A6B8D;
	Mon, 17 Mar 2008 06:52:08 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id A50B33A67DA
	for <sip@core3.amsl.com>; Mon, 17 Mar 2008 06:52:07 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 7nawMY2-je2o for <sip@core3.amsl.com>;
	Mon, 17 Mar 2008 06:52:03 -0700 (PDT)
Received: from mailgw3.ericsson.se (mailgw3.ericsson.se [193.180.251.60])
	by core3.amsl.com (Postfix) with ESMTP id 74FD528C33D
	for <sip@ietf.org>; Mon, 17 Mar 2008 06:52:03 -0700 (PDT)
Received: from mailgw3.ericsson.se (unknown [127.0.0.1])
	by mailgw3.ericsson.se (Symantec Mail Security) with ESMTP id
	BBDE22225D; Mon, 17 Mar 2008 14:44:35 +0100 (CET)
X-AuditID: c1b4fb3c-af89ebb00000193b-db-47de75c3f2c5
Received: from esealmw128.eemea.ericsson.se (unknown [153.88.254.121])
	by mailgw3.ericsson.se (Symantec Mail Security) with ESMTP id
	A1F0221E72; Mon, 17 Mar 2008 14:44:35 +0100 (CET)
Received: from esealmw113.eemea.ericsson.se ([153.88.200.4]) by
	esealmw128.eemea.ericsson.se with Microsoft SMTPSVC(6.0.3790.1830); 
	Mon, 17 Mar 2008 14:42:17 +0100
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Mon, 17 Mar 2008 14:42:14 +0100
Message-ID: <CA9998CD4A020D418654FCDEF4E707DF05066D44@esealmw113.eemea.ericsson.se>
In-Reply-To: <0D5F89FAC29E2C41B98A6A762007F5D07DB22C@GBNTHT12009MSX.gb002.siemens.net>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] SBC impact on RFC 4474
thread-index: AciFUP9lLrD8XODmRFSi8pIKh2UqhwAIbcQnABVSg4AAmyCu4A==
References: <0D5F89FAC29E2C41B98A6A762007F5D07DB09A@GBNTHT12009MSX.gb002.siemens.net>
	A
	<CA9998CD4A020D418654FCDEF4E707DF046C7675@esealmw113.eemea.ericsson.se>
	<0D5F89FAC29E2C41B98A6A762007F5D07DB22C@GBNTHT12009MSX.gb002.siemens.net>
From: "Christer Holmberg" <christer.holmberg@ericsson.com>
To: "Elwell, John" <john.elwell@siemens.com>,
	"IETF SIP List" <sip@ietf.org>
X-OriginalArrivalTime: 17 Mar 2008 13:42:17.0547 (UTC)
	FILETIME=[B753F9B0:01C88834]
X-Brightmail-Tracker: AAAAAA==
Subject: Re: [Sip] SBC impact on RFC 4474
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


Hi John,

My comment was based on your "should not be applicable with ICE" statement,=
 and they way I understood it was that SDP would not be modified if ICE is =
used.

Maybe I missunderstood what you were trying to say.

Regards,

Christer

-----Original Message-----
From: Elwell, John [mailto:john.elwell@siemens.com] =

Sent: 14. maaliskuuta 2008 13:41
To: Christer Holmberg; IETF SIP List
Subject: RE: [Sip] SBC impact on RFC 4474

Christer,

I think I already captured that in the statement "Other reasons are topolog=
y hiding, media shaping, etc.. Such modification breaks RFC
4474 signatures."
If you think that is insufficient, please elaborate reasons, so we get a be=
tter understanding of the scope of the problem.

John =


> -----Original Message-----
> From: Christer Holmberg [mailto:christer.holmberg@ericsson.com]
> Sent: 14 March 2008 01:29
> To: Elwell, John; IETF SIP List
> Subject: VS: [Sip] SBC impact on RFC 4474
> =

> Hi,
>  =

> SBCs may modify SDP even if ICE is used.
>  =

> Regards,
>  =

> Christer
> =

> ________________________________
> =

> L=E4hett=E4j=E4: sip-bounces@ietf.org puolesta: Elwell, John
> L=E4hetetty: to 13.3.2008 22:27
> Vastaanottaja: IETF SIP List
> Aihe: [Sip] SBC impact on RFC 4474
> =

> =

> =

> One of the questions raised at the end of the SIP session today was =

> the
> following:
> =

> "Are there any useful steps for dealing with SDP modification by =

> SBCs?"
> =

> SBCs modify SDP (and perhaps other signed information in SIP =

> requests).
> One of the reasons is NAT traversal (should not be applicable with =

> ICE, but I don't think we can always assume that ICE is used).
> Other reasons
> are topology hiding, media shaping, etc.. Such modification breaks RFC
> 4474 signatures.
> =

> SBCs also sometimes change From URIs in SIP requests, as discussed in =

> draft-kaplan-sip-uris-change-00. We have taken this into account =

> during our various discussions (in the WG and off-line) on the =

> telephone number problem, so I want to keep that separate. For this =

> thread, assume an "email-style" (or non-phone-number-based) From URI =

> that is not modified by an SBC. Focus instead on modification of other =

> signed information.
> =

> I would like to hear views on the following:
> - The degree to which this is a problem.
> - Existing solution proposals:
>     o draft-wing-sip-identity-media-02
>     o draft-fischer-sip-e2e-sec-media-00
> - Other solution proposals.
> =

> John
> =

> _______________________________________________
> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol Use =

> sip-implementors@cs.columbia.edu for questions on current sip Use =

> sipping@ietf.org for new developments on the application of sip
> =

> =

> =

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Mon Mar 17 07:06:35 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id BBEC328C3F0;
	Mon, 17 Mar 2008 07:06:35 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -103.517
X-Spam-Level: 
X-Spam-Status: No, score=-103.517 tagged_above=-999 required=5
	tests=[AWL=-3.081, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, HTML_MESSAGE=0.001, RDNS_NONE=0.1,
	USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id rcDR9NBnPVJZ; Mon, 17 Mar 2008 07:06:34 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 3AD4828C143;
	Mon, 17 Mar 2008 07:06:34 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id DFA543A6A8E
	for <sip@core3.amsl.com>; Mon, 17 Mar 2008 07:06:32 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id U8p8fLhgPKRC for <sip@core3.amsl.com>;
	Mon, 17 Mar 2008 07:06:31 -0700 (PDT)
Received: from zcars04f.nortel.com (zcars04f.nortel.com [47.129.242.57])
	by core3.amsl.com (Postfix) with ESMTP id 0692128C264
	for <sip@ietf.org>; Mon, 17 Mar 2008 07:06:30 -0700 (PDT)
Received: from zrc2hxm1.corp.nortel.com (zrc2hxm1.corp.nortel.com
	[47.103.123.72])
	by zcars04f.nortel.com (Switch-2.2.6/Switch-2.2.0) with ESMTP id
	m2HE49221111; Mon, 17 Mar 2008 14:04:10 GMT
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Mon, 17 Mar 2008 09:01:01 -0500
Message-ID: <F66D7286825402429571678A16C2F5EE026C9327@zrc2hxm1.corp.nortel.com>
In-Reply-To: <2C685FA24AE8004CA8F0DCCC7AF6AD0801FABF0E@esealmw109.eemea.ericsson.se>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] History-Info: UA loose route versus Target header
Thread-Index: AciFH7Dyq9TdpeR0RBun7/oZCM2XWwAIuM2QAAQsRgAAsYKRwAAHGkvw
References: <F66D7286825402429571678A16C2F5EE02640F48@zrc2hxm1.corp.nortel.com>
	<2C685FA24AE8004CA8F0DCCC7AF6AD0801F6E816@esealmw109.eemea.ericsson.se>
	<F66D7286825402429571678A16C2F5EE02641C0F@zrc2hxm1.corp.nortel.com>
	<2C685FA24AE8004CA8F0DCCC7AF6AD0801FABF0E@esealmw109.eemea.ericsson.se>
From: "Mary Barnes" <mary.barnes@nortel.com>
To: "Hans Erik van Elburg" <hanserik.van.elburg@ericsson.com>, <sip@ietf.org>
Subject: Re: [Sip] History-Info: UA loose route versus Target header
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: multipart/mixed; boundary="===============0064308830=="
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

This is a multi-part message in MIME format.

--===============0064308830==
Content-class: urn:content-classes:message
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C88837.AB2E44DB"

This is a multi-part message in MIME format.

------_=_NextPart_001_01C88837.AB2E44DB
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

The reason every rewrite of a Request URI is a retarget is because the
base SIP spec did not distinguish reroute from retargeting, which is the
gist of Jonathan's proposal.  There are explicit reasons associated with
some of the retargets (e.g., 3xx redirections), but I would agree that
isn't always the case. But, I still contend that you can tell from the
structure of the combination of routes/retargets what was the intended
target, especially considering the use cases given.   It does require
that the entity that does the retargeting to capture the History-Info,
but the "Target" header solution has the same requirement. =20
=20
If the concern is the processing to sort through the HI entries (the
reason that Jonathan's draft suggests HI is not a good solution), then
you could add a "retarget" (and "reroute") tags to the appropriate HI
entry, since History-Info was designed to be extensible.=20
=20
Mary.=20

________________________________

From: Hans Erik van Elburg [mailto:hanserik.van.elburg@ericsson.com]=20
Sent: Monday, March 17, 2008 5:40 AM
To: Barnes, Mary (RICH2:AR00); sip@ietf.org
Subject: RE: [Sip] History-Info: UA loose route versus Target header


A reroute and a retarget (using the definitions of the ua-loose-route
draft) may both be caused by some local policy deployed on a proxy, it
is not clear how they should be distinguished by reason values. And it
is certainly nowhere defined what different reasons would be applicable
in these cases.
=20
To complicate things further to RFC4244 any rewrite of the Request URI
is a retarget, not so in the more subtle definitions used in the
ua-loose-route draft which distinguishes retargets from reroutes.
=20
Therefore I insist that History-Info as it is today, does not cover
this.
=20
/Hans Erik

________________________________

From: Mary Barnes [mailto:mary.barnes@nortel.com]=20
Sent: Thursday, March 13, 2008 10:47 PM
To: Hans Erik van Elburg; sip@ietf.org
Subject: RE: [Sip] History-Info: UA loose route versus Target header


You can tell retargets versus rerouting due to combination of the
reasons in the various responses and the indices.  With the indices you
can get a trace (in the form of a tree structure due to the nesting of
the indices) that shows the entire history of a request.=20
=20
Mary.=20

________________________________

From: Hans Erik van Elburg [mailto:hanserik.van.elburg@ericsson.com]=20
Sent: Thursday, March 13, 2008 2:48 PM
To: Barnes, Mary (RICH2:AR00); sip@ietf.org
Subject: RE: [Sip] History-Info: UA loose route versus Target header


Hi Mary,
=20
I dont think that the objective should be to change the fundamental
nature of SIP processing for no good reason. It will break things.
=20
The probem with the History-Info is that one can not distinguish
reroutes from retargets and hence it can not be used for this. If you
disagree with that could you address why you think this is not the case?
=20
/Hans Erik

________________________________

From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On Behalf Of
Mary Barnes
Sent: Thursday, March 13, 2008 11:34 AM
To: sip@ietf.org
Subject: [Sip] History-Info: UA loose route versus Target header



Per my comments at the microphone, here's my assessment of the
difference between the two documents as they apply to History-Info as a
potential solution.

draft-rosenberg-sip-ua-loose-route-02 clearly states that History-Info
functionally can be used to solve the problem described in that
document.  However, Jonathan's objective is to solve a fundamental
problem of not distinguishing routing versus re-targeting (read section
5).  This document would actually change the content of the History-Info
headers for the same requests, just as it's already identified in RFC
4244 that if you have loose routing in general, that the information is
different in History-Info.=20

The document  draft-holmberg-sip-target-uri-delivery-01.txt  doesn't do
anything to change fundamental SIP processing. It just adds another
header that contains information that would already be contained in
History-Info. History-info provides a complete history of the processing
of a request, with the indexing provided by the entries and the reasons,
you know exactly why a request was either "retargetted" or "re-routed".
The examples in the appendix would apply to the use cases you are
attempting to solve as described in Jonathan's document.=20

Mary.=20


------_=_NextPart_001_01C88837.AB2E44DB
Content-Type: text/html;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML><HEAD><TITLE>History-Info: UA loose route versus Target =
header</TITLE>
<META http-equiv=3DContent-Type content=3D"text/html; =
charset=3Dus-ascii">
<META content=3D"MSHTML 6.00.2900.3268" name=3DGENERATOR></HEAD>
<BODY>
<DIV dir=3Dltr align=3Dleft><SPAN class=3D531294913-17032008><FONT =
face=3DArial=20
color=3D#0000ff size=3D2>The reason every rewrite of a Request URI is a =
retarget is=20
because the base SIP spec did not distinguish reroute from retargeting, =
which is=20
the gist of Jonathan's proposal.&nbsp; There are explicit reasons =
associated=20
with some of the retargets (e.g., 3xx redirections), but I would agree =
that=20
isn't always the case. But, I still contend that you can tell from the =
structure=20
of the combination of routes/retargets what was the intended target, =
especially=20
considering the use cases given. &nbsp; It does require that the entity =
that=20
does the retargeting to capture the History-Info, but the "Target" =
header=20
solution has the same requirement.&nbsp; </FONT></SPAN></DIV>
<DIV dir=3Dltr align=3Dleft><SPAN class=3D531294913-17032008><FONT =
face=3DArial=20
color=3D#0000ff size=3D2></FONT></SPAN>&nbsp;</DIV>
<DIV dir=3Dltr align=3Dleft><SPAN class=3D531294913-17032008><FONT =
face=3DArial=20
color=3D#0000ff size=3D2>If the concern is the processing to sort =
through the HI=20
entries (the reason that Jonathan's draft suggests HI is not a good =
solution),=20
then you could add a "retarget" (and "reroute") tags to the appropriate =
HI=20
entry, since History-Info was designed to be=20
extensible.&nbsp;</FONT></SPAN></DIV>
<DIV dir=3Dltr align=3Dleft><SPAN class=3D531294913-17032008><FONT =
face=3DArial=20
color=3D#0000ff size=3D2></FONT></SPAN>&nbsp;</DIV>
<DIV dir=3Dltr align=3Dleft><SPAN class=3D531294913-17032008><FONT =
face=3DArial=20
color=3D#0000ff size=3D2>Mary. </FONT></SPAN></DIV><BR>
<DIV class=3DOutlookMessageHeader lang=3Den-us dir=3Dltr align=3Dleft>
<HR tabIndex=3D-1>
<FONT face=3DTahoma size=3D2><B>From:</B> Hans Erik van Elburg=20
[mailto:hanserik.van.elburg@ericsson.com] <BR><B>Sent:</B> Monday, March =
17,=20
2008 5:40 AM<BR><B>To:</B> Barnes, Mary (RICH2:AR00);=20
sip@ietf.org<BR><B>Subject:</B> RE: [Sip] History-Info: UA loose route =
versus=20
Target header<BR></FONT><BR></DIV>
<DIV></DIV>
<DIV><SPAN class=3D079072610-17032008><FONT face=3DArial color=3D#800000 =
size=3D2>A=20
reroute and a retarget (using the definitions of the ua-loose-route =
draft) may=20
both be caused by some local policy deployed on a proxy, it is not clear =
how=20
they should be distinguished by reason values. And it is certainly =
nowhere=20
defined what different reasons would be applicable in these=20
cases.</FONT></SPAN></DIV>
<DIV><SPAN class=3D079072610-17032008><FONT face=3DArial color=3D#800000 =

size=3D2></FONT></SPAN>&nbsp;</DIV>
<DIV><SPAN class=3D079072610-17032008><FONT face=3DArial color=3D#800000 =
size=3D2>To=20
complicate things further to RFC4244 any rewrite of the Request URI is a =

retarget, not so in the more subtle definitions used in =
the&nbsp;ua-loose-route=20
draft which distinguishes retargets from reroutes.</FONT></SPAN></DIV>
<DIV><SPAN class=3D079072610-17032008><FONT face=3DArial color=3D#800000 =

size=3D2></FONT></SPAN>&nbsp;</DIV>
<DIV><SPAN class=3D079072610-17032008><FONT face=3DArial color=3D#800000 =

size=3D2>Therefore I insist that History-Info as it is today, does not =
cover=20
this.</FONT></SPAN></DIV>
<DIV><SPAN class=3D079072610-17032008><FONT face=3DArial color=3D#800000 =

size=3D2></FONT></SPAN>&nbsp;</DIV>
<DIV><SPAN class=3D079072610-17032008><FONT face=3DArial color=3D#800000 =
size=3D2>/Hans=20
Erik</FONT></SPAN></DIV><BR>
<DIV class=3DOutlookMessageHeader lang=3Den-us dir=3Dltr align=3Dleft>
<HR tabIndex=3D-1>
<FONT face=3DTahoma size=3D2><B>From:</B> Mary Barnes=20
[mailto:mary.barnes@nortel.com] <BR><B>Sent:</B> Thursday, March 13, =
2008 10:47=20
PM<BR><B>To:</B> Hans Erik van Elburg; sip@ietf.org<BR><B>Subject:</B> =
RE: [Sip]=20
History-Info: UA loose route versus Target header<BR></FONT><BR></DIV>
<DIV></DIV>
<DIV dir=3Dltr align=3Dleft><FONT face=3DArial color=3D#0000ff =
size=3D2><SPAN=20
class=3D093274321-13032008>You can tell retargets versus rerouting due =
to=20
combination of the reasons in the various responses and the =
indices.&nbsp; With=20
the indices you can get a trace (in the form of a tree structure due to =
the=20
nesting of the indices) that shows the entire history of a=20
request.&nbsp;</SPAN></FONT></DIV>
<DIV dir=3Dltr align=3Dleft><FONT face=3DArial color=3D#0000ff =
size=3D2><SPAN=20
class=3D093274321-13032008></SPAN></FONT><FONT face=3DArial =
color=3D#0000ff=20
size=3D2><SPAN class=3D093274321-13032008></SPAN></FONT>&nbsp;</DIV>
<DIV dir=3Dltr align=3Dleft><FONT face=3DArial color=3D#0000ff =
size=3D2><SPAN=20
class=3D093274321-13032008>Mary. </SPAN></FONT></DIV><BR>
<DIV class=3DOutlookMessageHeader lang=3Den-us dir=3Dltr align=3Dleft>
<HR tabIndex=3D-1>
<FONT face=3DTahoma size=3D2><B>From:</B> Hans Erik van Elburg=20
[mailto:hanserik.van.elburg@ericsson.com] <BR><B>Sent:</B> Thursday, =
March 13,=20
2008 2:48 PM<BR><B>To:</B> Barnes, Mary (RICH2:AR00);=20
sip@ietf.org<BR><B>Subject:</B> RE: [Sip] History-Info: UA loose route =
versus=20
Target header<BR></FONT><BR></DIV>
<DIV></DIV>
<DIV><SPAN class=3D004584319-13032008><FONT face=3DArial color=3D#800000 =
size=3D2>Hi=20
Mary,</FONT></SPAN></DIV>
<DIV><SPAN class=3D004584319-13032008><FONT face=3DArial color=3D#800000 =

size=3D2></FONT></SPAN>&nbsp;</DIV>
<DIV><SPAN class=3D004584319-13032008><FONT face=3DArial color=3D#800000 =
size=3D2>I dont=20
think that the objective should be to change the fundamental nature of =
SIP=20
processing for no good reason. It will break things.</FONT></SPAN></DIV>
<DIV><SPAN class=3D004584319-13032008><FONT face=3DArial color=3D#800000 =

size=3D2></FONT></SPAN>&nbsp;</DIV>
<DIV><SPAN class=3D004584319-13032008><FONT face=3DArial color=3D#800000 =
size=3D2>The=20
probem with the History-Info is that one can not distinguish reroutes =
from=20
retargets and hence it can not be used for this. If you disagree with =
that could=20
you address why you think this is not the case?</FONT></SPAN></DIV>
<DIV><SPAN class=3D004584319-13032008><FONT face=3DArial color=3D#800000 =

size=3D2></FONT></SPAN>&nbsp;</DIV>
<DIV><SPAN class=3D004584319-13032008><FONT face=3DArial color=3D#800000 =
size=3D2>/Hans=20
Erik</FONT></SPAN></DIV><BR>
<DIV class=3DOutlookMessageHeader lang=3Den-us dir=3Dltr align=3Dleft>
<HR tabIndex=3D-1>
<FONT face=3DTahoma size=3D2><B>From:</B> sip-bounces@ietf.org=20
[mailto:sip-bounces@ietf.org] <B>On Behalf Of </B>Mary =
Barnes<BR><B>Sent:</B>=20
Thursday, March 13, 2008 11:34 AM<BR><B>To:</B> =
sip@ietf.org<BR><B>Subject:</B>=20
[Sip] History-Info: UA loose route versus Target =
header<BR></FONT><BR></DIV>
<DIV></DIV><!-- Converted from text/rtf format -->
<P><FONT face=3DArial size=3D2>Per my comments at the microphone, here's =
my=20
assessment of the difference between the two documents as they apply to=20
History-Info as a potential solution.</FONT></P>
<P><FONT face=3DArial size=3D2>draft-rosenberg-sip-ua-loose-route-02 =
clearly states=20
that History-Info functionally can be used to solve the problem =
described in=20
that document.&nbsp; However, Jonathan's objective is to solve a =
fundamental=20
problem of not distinguishing routing versus re-targeting (read section=20
5).&nbsp; This document would actually change the content of the =
History-Info=20
headers for the same requests, just as it's already identified in RFC =
4244 that=20
if you have loose routing in general, that the information is different =
in=20
History-Info. </FONT></P>
<P><FONT face=3DArial size=3D2>The document&nbsp;=20
draft-holmberg-sip-target-uri-delivery-01.txt&nbsp; doesn't do anything =
to=20
change fundamental SIP processing. It just adds another header that =
contains=20
information that would already be contained in History-Info. =
History-info=20
provides a complete history of the processing of a request, with the =
indexing=20
provided by the entries and the reasons, you know exactly why a request =
was=20
either "retargetted" or "re-routed".&nbsp;&nbsp; The examples in the =
appendix=20
would apply to the use cases you are attempting to solve as described in =

Jonathan's document. </FONT></P>
<P><FONT face=3DArial size=3D2>Mary. </FONT></P></BODY></HTML>

------_=_NextPart_001_01C88837.AB2E44DB--

--===============0064308830==
Content-Type: text/plain; charset="us-ascii"
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip
--===============0064308830==--


From sip-bounces@ietf.org  Mon Mar 17 08:52:56 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 8EC7B28C3FB;
	Mon, 17 Mar 2008 08:52:56 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.455
X-Spam-Level: 
X-Spam-Status: No, score=-100.455 tagged_above=-999 required=5
	tests=[AWL=-0.018, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id g1tOvoo-PbLH; Mon, 17 Mar 2008 08:52:55 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 7803A3A696D;
	Mon, 17 Mar 2008 08:52:55 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 3571B28C3F0
	for <sip@core3.amsl.com>; Mon, 17 Mar 2008 08:52:54 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id X2JQmyPXea6P for <sip@core3.amsl.com>;
	Mon, 17 Mar 2008 08:52:50 -0700 (PDT)
Received: from mout.perfora.net (mout.perfora.net [74.208.4.194])
	by core3.amsl.com (Postfix) with ESMTP id 737D33A696D
	for <sip@ietf.org>; Mon, 17 Mar 2008 08:52:50 -0700 (PDT)
Received: from s73602 (cpe-72-190-0-23.tx.res.rr.com [72.190.0.23])
	by mrelay.perfora.net (node=mrus1) with ESMTP (Nemesis)
	id 0MKpCa-1JbHbY2oF3-0000Sx; Mon, 17 Mar 2008 11:50:32 -0400
Message-ID: <023701c88846$7fea2a00$6401a8c0@china.huawei.com>
From: "Spencer Dawkins" <spencer@wonderhamster.org>
To: "Paul Kyzivat" <pkyzivat@cisco.com>,
	"Hadriel Kaplan" <HKaplan@acmepacket.com>
References: <E6C2E8958BA59A4FB960963D475F7AC30BCA256DBB@mail.acmepacket.com>
	<47D96560.3070908@cisco.com>
Date: Mon, 17 Mar 2008 10:49:31 -0500
MIME-Version: 1.0
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2900.3138
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.3198
X-Provags-ID: V01U2FsdGVkX1/vHWTTx7mQx0QzLdgYQurS2dza7wblZwdmdX7
	tqyT9VsH743yKed1CJVNEwt6wN+Lj8xmv6LHEeWIhdGz5kdFZF
	bG/llsaJXebacZPZHW2OXlJyu/2XZC/rK2LNH1bGQA=
Cc: sip@ietf.org
Subject: Re: [Sip] Comment/question on draft-ietf-sip-body-handling-01.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Paul/Hadriel,

> I'm reluctant to make any blanket statement about this. I think it is
> very dependent on the context and the method.
>
> I think this would be better in some sort of best practices document, if
> at all.

My understanding is that Paul is saying that we should not have normative 
text that says something like "MUST NOT send headers/bodies larger than 
$SOME_VALUE". I would agree with that.

I believe that capturing guidance in a best practices document would be 
useful.

Is it obvious to everyone what the proxy/UA/middlebox should return when 
presented with a header/body larger than $SOME_VALUE?

Thanks,

Spencer 


_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Mon Mar 17 09:00:18 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 29F7128C42E;
	Mon, 17 Mar 2008 09:00:18 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -101.978
X-Spam-Level: 
X-Spam-Status: No, score=-101.978 tagged_above=-999 required=5
	tests=[AWL=-1.540, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 8PR+OBhokO-4; Mon, 17 Mar 2008 09:00:16 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 4DA7F28C45D;
	Mon, 17 Mar 2008 09:00:13 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id A541528C45A
	for <sip@core3.amsl.com>; Mon, 17 Mar 2008 09:00:10 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id sdM4+1tyOD+d for <sip@core3.amsl.com>;
	Mon, 17 Mar 2008 09:00:09 -0700 (PDT)
Received: from rtp-iport-1.cisco.com (rtp-iport-1.cisco.com [64.102.122.148])
	by core3.amsl.com (Postfix) with ESMTP id 4F03528C46A
	for <sip@ietf.org>; Mon, 17 Mar 2008 09:00:09 -0700 (PDT)
X-IronPort-AV: E=Sophos;i="4.25,513,1199682000"; 
   d="scan'208";a="2014297"
Received: from rtp-dkim-1.cisco.com ([64.102.121.158])
	by rtp-iport-1.cisco.com with ESMTP; 17 Mar 2008 11:57:52 -0400
Received: from rtp-core-2.cisco.com (rtp-core-2.cisco.com [64.102.124.13])
	by rtp-dkim-1.cisco.com (8.12.11/8.12.11) with ESMTP id m2HFvqcv030770; 
	Mon, 17 Mar 2008 11:57:52 -0400
Received: from xbh-rtp-201.amer.cisco.com (xbh-rtp-201.cisco.com
	[64.102.31.12])
	by rtp-core-2.cisco.com (8.13.8/8.13.8) with ESMTP id m2HFvqWO005142;
	Mon, 17 Mar 2008 15:57:52 GMT
Received: from xfe-rtp-202.amer.cisco.com ([64.102.31.21]) by
	xbh-rtp-201.amer.cisco.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Mon, 17 Mar 2008 11:57:51 -0400
Received: from [161.44.174.168] ([161.44.174.168]) by
	xfe-rtp-202.amer.cisco.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Mon, 17 Mar 2008 11:57:51 -0400
Message-ID: <47DE9513.7070209@cisco.com>
Date: Mon, 17 Mar 2008 11:58:11 -0400
From: Paul Kyzivat <pkyzivat@cisco.com>
User-Agent: Thunderbird 2.0.0.12 (Windows/20080213)
MIME-Version: 1.0
To: Spencer Dawkins <spencer@wonderhamster.org>
References: <E6C2E8958BA59A4FB960963D475F7AC30BCA256DBB@mail.acmepacket.com>
	<47D96560.3070908@cisco.com>
	<023701c88846$7fea2a00$6401a8c0@china.huawei.com>
In-Reply-To: <023701c88846$7fea2a00$6401a8c0@china.huawei.com>
X-OriginalArrivalTime: 17 Mar 2008 15:57:51.0195 (UTC)
	FILETIME=[A75C2AB0:01C88847]
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; l=757; t=1205769472; x=1206633472;
	c=relaxed/simple; s=rtpdkim1001;
	h=Content-Type:From:Subject:Content-Transfer-Encoding:MIME-Version;
	d=cisco.com; i=pkyzivat@cisco.com;
	z=From:=20Paul=20Kyzivat=20<pkyzivat@cisco.com>
	|Subject:=20Re=3A=20[Sip]=20Comment/question=20on=20draft-i
	etf-sip-body-handling-01.txt |Sender:=20
	|To:=20Spencer=20Dawkins=20<spencer@wonderhamster.org>;
	bh=lvzqyUeLWlxUvWbiI5TlUlV15s0cx5wp1PN16Gn0cYU=;
	b=N/6SLNzRWZhE+lYN4TQ/qYcq4t/wiIHtjQbmsmNOrvdj7vJPizyJmJlOXQ
	7xATVtdJa6AWXVy+QfLfS3S4KWonbTuYfNTzzjEYdHBDrw+hBfbAFnj4U1iW
	HUrrNyiNCH;
Authentication-Results: rtp-dkim-1; header.From=pkyzivat@cisco.com; dkim=pass (
	sig from cisco.com/rtpdkim1001 verified; ); 
Cc: sip@ietf.org
Subject: Re: [Sip] Comment/question on draft-ietf-sip-body-handling-01.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org



Spencer Dawkins wrote:
> Paul/Hadriel,
> 
>> I'm reluctant to make any blanket statement about this. I think it is
>> very dependent on the context and the method.
>>
>> I think this would be better in some sort of best practices document, if
>> at all.
> 
> My understanding is that Paul is saying that we should not have 
> normative text that says something like "MUST NOT send headers/bodies 
> larger than $SOME_VALUE". I would agree with that.
> 
> I believe that capturing guidance in a best practices document would be 
> useful.
> 
> Is it obvious to everyone what the proxy/UA/middlebox should return when 
> presented with a header/body larger than $SOME_VALUE?

Well, 513 "Message Too Large" seems pretty clear.

	Paul
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Mon Mar 17 09:19:29 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id DD8C628C100;
	Mon, 17 Mar 2008 09:19:29 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.95
X-Spam-Level: 
X-Spam-Status: No, score=-100.95 tagged_above=-999 required=5
	tests=[AWL=-0.514, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, HTML_MESSAGE=0.001, RDNS_NONE=0.1,
	USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id Guh1V0YMH3C2; Mon, 17 Mar 2008 09:19:22 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 31BF728C3FB;
	Mon, 17 Mar 2008 09:19:22 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id EDF8328C3C2
	for <sip@core3.amsl.com>; Mon, 17 Mar 2008 09:19:20 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id vP7QZJWm9eQH for <sip@core3.amsl.com>;
	Mon, 17 Mar 2008 09:19:16 -0700 (PDT)
Received: from zrtps0kn.nortel.com (zrtps0kn.nortel.com [47.140.192.55])
	by core3.amsl.com (Postfix) with ESMTP id 6A2673A6B8D
	for <sip@ietf.org>; Mon, 17 Mar 2008 09:19:16 -0700 (PDT)
Received: from zrc2hxm0.corp.nortel.com (zrc2hxm0.corp.nortel.com
	[47.103.123.71])
	by zrtps0kn.nortel.com (Switch-2.2.6/Switch-2.2.0) with ESMTP id
	m2HGGuW02523; Mon, 17 Mar 2008 16:16:56 GMT
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Mon, 17 Mar 2008 11:16:54 -0500
Message-ID: <1ECE0EB50388174790F9694F77522CCF1586AA8F@zrc2hxm0.corp.nortel.com>
In-Reply-To: <F66D7286825402429571678A16C2F5EE026C9327@zrc2hxm1.corp.nortel.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] History-Info: UA loose route versus Target header
Thread-Index: AciFH7Dyq9TdpeR0RBun7/oZCM2XWwAIuM2QAAQsRgAAsYKRwAAHGkvwAAUew6A=
References: <F66D7286825402429571678A16C2F5EE02640F48@zrc2hxm1.corp.nortel.com>
	<2C685FA24AE8004CA8F0DCCC7AF6AD0801F6E816@esealmw109.eemea.ericsson.se>
	<F66D7286825402429571678A16C2F5EE02641C0F@zrc2hxm1.corp.nortel.com>
	<2C685FA24AE8004CA8F0DCCC7AF6AD0801FABF0E@esealmw109.eemea.ericsson.se>
	<F66D7286825402429571678A16C2F5EE026C9327@zrc2hxm1.corp.nortel.com>
From: "Francois Audet" <audet@nortel.com>
To: "Mary Barnes" <mary.barnes@nortel.com>,
	"Hans Erik van Elburg" <hanserik.van.elburg@ericsson.com>, <sip@ietf.org>
Subject: Re: [Sip] History-Info: UA loose route versus Target header
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: multipart/mixed; boundary="===============0708734478=="
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

This is a multi-part message in MIME format.

--===============0708734478==
Content-class: urn:content-classes:message
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C8884A.50A86F6C"

This is a multi-part message in MIME format.

------_=_NextPart_001_01C8884A.50A86F6C
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Right. I think adding something indicating it's a reroute for the last =
hop would be useful.


________________________________

	From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On Behalf Of =
Barnes, Mary (RICH2:AR00)
	Sent: Monday, March 17, 2008 07:01
	To: Hans Erik van Elburg; sip@ietf.org
	Subject: Re: [Sip] History-Info: UA loose route versus Target header
=09
=09
	The reason every rewrite of a Request URI is a retarget is because the =
base SIP spec did not distinguish reroute from retargeting, which is the =
gist of Jonathan's proposal.  There are explicit reasons associated with =
some of the retargets (e.g., 3xx redirections), but I would agree that =
isn't always the case. But, I still contend that you can tell from the =
structure of the combination of routes/retargets what was the intended =
target, especially considering the use cases given.   It does require =
that the entity that does the retargeting to capture the History-Info, =
but the "Target" header solution has the same requirement. =20
	=20
	If the concern is the processing to sort through the HI entries (the =
reason that Jonathan's draft suggests HI is not a good solution), then =
you could add a "retarget" (and "reroute") tags to the appropriate HI =
entry, since History-Info was designed to be extensible.=20
	=20
	Mary.=20

________________________________

	From: Hans Erik van Elburg [mailto:hanserik.van.elburg@ericsson.com]=20
	Sent: Monday, March 17, 2008 5:40 AM
	To: Barnes, Mary (RICH2:AR00); sip@ietf.org
	Subject: RE: [Sip] History-Info: UA loose route versus Target header
=09
=09
	A reroute and a retarget (using the definitions of the ua-loose-route =
draft) may both be caused by some local policy deployed on a proxy, it =
is not clear how they should be distinguished by reason values. And it =
is certainly nowhere defined what different reasons would be applicable =
in these cases.
	=20
	To complicate things further to RFC4244 any rewrite of the Request URI =
is a retarget, not so in the more subtle definitions used in the =
ua-loose-route draft which distinguishes retargets from reroutes.
	=20
	Therefore I insist that History-Info as it is today, does not cover =
this.
	=20
	/Hans Erik

________________________________

	From: Mary Barnes [mailto:mary.barnes@nortel.com]=20
	Sent: Thursday, March 13, 2008 10:47 PM
	To: Hans Erik van Elburg; sip@ietf.org
	Subject: RE: [Sip] History-Info: UA loose route versus Target header
=09
=09
	You can tell retargets versus rerouting due to combination of the =
reasons in the various responses and the indices.  With the indices you =
can get a trace (in the form of a tree structure due to the nesting of =
the indices) that shows the entire history of a request.=20
	=20
	Mary.=20

________________________________

	From: Hans Erik van Elburg [mailto:hanserik.van.elburg@ericsson.com]=20
	Sent: Thursday, March 13, 2008 2:48 PM
	To: Barnes, Mary (RICH2:AR00); sip@ietf.org
	Subject: RE: [Sip] History-Info: UA loose route versus Target header
=09
=09
	Hi Mary,
	=20
	I dont think that the objective should be to change the fundamental =
nature of SIP processing for no good reason. It will break things.
	=20
	The probem with the History-Info is that one can not distinguish =
reroutes from retargets and hence it can not be used for this. If you =
disagree with that could you address why you think this is not the case?
	=20
	/Hans Erik

________________________________

	From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On Behalf Of =
Mary Barnes
	Sent: Thursday, March 13, 2008 11:34 AM
	To: sip@ietf.org
	Subject: [Sip] History-Info: UA loose route versus Target header
=09
=09

	Per my comments at the microphone, here's my assessment of the =
difference between the two documents as they apply to History-Info as a =
potential solution.

	draft-rosenberg-sip-ua-loose-route-02 clearly states that History-Info =
functionally can be used to solve the problem described in that =
document.  However, Jonathan's objective is to solve a fundamental =
problem of not distinguishing routing versus re-targeting (read section =
5).  This document would actually change the content of the History-Info =
headers for the same requests, just as it's already identified in RFC =
4244 that if you have loose routing in general, that the information is =
different in History-Info.=20

	The document  draft-holmberg-sip-target-uri-delivery-01.txt  doesn't do =
anything to change fundamental SIP processing. It just adds another =
header that contains information that would already be contained in =
History-Info. History-info provides a complete history of the processing =
of a request, with the indexing provided by the entries and the reasons, =
you know exactly why a request was either "retargetted" or "re-routed".  =
 The examples in the appendix would apply to the use cases you are =
attempting to solve as described in Jonathan's document.=20

	Mary.=20


------_=_NextPart_001_01C8884A.50A86F6C
Content-Type: text/html;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML><HEAD><TITLE>History-Info: UA loose route versus Target =
header</TITLE>
<META http-equiv=3DContent-Type content=3D"text/html; =
charset=3Diso-8859-1">
<META content=3D"MSHTML 6.00.2900.3268" name=3DGENERATOR></HEAD>
<BODY>
<DIV dir=3Dltr align=3Dleft><FONT face=3DArial color=3D#800000 =
size=3D2><SPAN=20
class=3D692051616-17032008>Right. I think adding something indicating =
it's a=20
reroute for the last hop would be useful.</SPAN></FONT></DIV><BR>
<BLOCKQUOTE dir=3Dltr=20
style=3D"PADDING-LEFT: 5px; MARGIN-LEFT: 5px; BORDER-LEFT: #800000 2px =
solid; MARGIN-RIGHT: 0px">
  <DIV class=3DOutlookMessageHeader lang=3Den-us dir=3Dltr align=3Dleft>
  <HR tabIndex=3D-1>
  <FONT face=3DTahoma size=3D2><B>From:</B> sip-bounces@ietf.org=20
  [mailto:sip-bounces@ietf.org] <B>On Behalf Of </B>Barnes, Mary=20
  (RICH2:AR00)<BR><B>Sent:</B> Monday, March 17, 2008 =
07:01<BR><B>To:</B> Hans=20
  Erik van Elburg; sip@ietf.org<BR><B>Subject:</B> Re: [Sip] =
History-Info: UA=20
  loose route versus Target header<BR></FONT><BR></DIV>
  <DIV></DIV>
  <DIV dir=3Dltr align=3Dleft><SPAN class=3D531294913-17032008><FONT =
face=3DArial=20
  color=3D#0000ff size=3D2>The reason every rewrite of a Request URI is =
a retarget=20
  is because the base SIP spec did not distinguish reroute from =
retargeting,=20
  which is the gist of Jonathan's proposal.&nbsp; There are explicit =
reasons=20
  associated with some of the retargets (e.g., 3xx redirections), but I =
would=20
  agree that isn't always the case. But, I still contend that you can =
tell from=20
  the structure of the combination of routes/retargets what was the =
intended=20
  target, especially considering the use cases given. &nbsp; It does =
require=20
  that the entity that does the retargeting to capture the History-Info, =
but the=20
  "Target" header solution has the same requirement.&nbsp; =
</FONT></SPAN></DIV>
  <DIV dir=3Dltr align=3Dleft><SPAN class=3D531294913-17032008><FONT =
face=3DArial=20
  color=3D#0000ff size=3D2></FONT></SPAN>&nbsp;</DIV>
  <DIV dir=3Dltr align=3Dleft><SPAN class=3D531294913-17032008><FONT =
face=3DArial=20
  color=3D#0000ff size=3D2>If the concern is the processing to sort =
through the HI=20
  entries (the reason that Jonathan's draft suggests HI is not a good =
solution),=20
  then you could add a "retarget" (and "reroute") tags to the =
appropriate HI=20
  entry, since History-Info was designed to be=20
  extensible.&nbsp;</FONT></SPAN></DIV>
  <DIV dir=3Dltr align=3Dleft><SPAN class=3D531294913-17032008><FONT =
face=3DArial=20
  color=3D#0000ff size=3D2></FONT></SPAN>&nbsp;</DIV>
  <DIV dir=3Dltr align=3Dleft><SPAN class=3D531294913-17032008><FONT =
face=3DArial=20
  color=3D#0000ff size=3D2>Mary. </FONT></SPAN></DIV><BR>
  <DIV class=3DOutlookMessageHeader lang=3Den-us dir=3Dltr align=3Dleft>
  <HR tabIndex=3D-1>
  <FONT face=3DTahoma size=3D2><B>From:</B> Hans Erik van Elburg=20
  [mailto:hanserik.van.elburg@ericsson.com] <BR><B>Sent:</B> Monday, =
March 17,=20
  2008 5:40 AM<BR><B>To:</B> Barnes, Mary (RICH2:AR00);=20
  sip@ietf.org<BR><B>Subject:</B> RE: [Sip] History-Info: UA loose route =
versus=20
  Target header<BR></FONT><BR></DIV>
  <DIV></DIV>
  <DIV><SPAN class=3D079072610-17032008><FONT face=3DArial =
color=3D#800000 size=3D2>A=20
  reroute and a retarget (using the definitions of the ua-loose-route =
draft) may=20
  both be caused by some local policy deployed on a proxy, it is not =
clear how=20
  they should be distinguished by reason values. And it is certainly =
nowhere=20
  defined what different reasons would be applicable in these=20
  cases.</FONT></SPAN></DIV>
  <DIV><SPAN class=3D079072610-17032008><FONT face=3DArial =
color=3D#800000=20
  size=3D2></FONT></SPAN>&nbsp;</DIV>
  <DIV><SPAN class=3D079072610-17032008><FONT face=3DArial =
color=3D#800000 size=3D2>To=20
  complicate things further to RFC4244 any rewrite of the Request URI is =
a=20
  retarget, not so in the more subtle definitions used in=20
  the&nbsp;ua-loose-route draft which distinguishes retargets from=20
  reroutes.</FONT></SPAN></DIV>
  <DIV><SPAN class=3D079072610-17032008><FONT face=3DArial =
color=3D#800000=20
  size=3D2></FONT></SPAN>&nbsp;</DIV>
  <DIV><SPAN class=3D079072610-17032008><FONT face=3DArial =
color=3D#800000=20
  size=3D2>Therefore I insist that History-Info as it is today, does not =
cover=20
  this.</FONT></SPAN></DIV>
  <DIV><SPAN class=3D079072610-17032008><FONT face=3DArial =
color=3D#800000=20
  size=3D2></FONT></SPAN>&nbsp;</DIV>
  <DIV><SPAN class=3D079072610-17032008><FONT face=3DArial =
color=3D#800000=20
  size=3D2>/Hans Erik</FONT></SPAN></DIV><BR>
  <DIV class=3DOutlookMessageHeader lang=3Den-us dir=3Dltr align=3Dleft>
  <HR tabIndex=3D-1>
  <FONT face=3DTahoma size=3D2><B>From:</B> Mary Barnes=20
  [mailto:mary.barnes@nortel.com] <BR><B>Sent:</B> Thursday, March 13, =
2008=20
  10:47 PM<BR><B>To:</B> Hans Erik van Elburg; =
sip@ietf.org<BR><B>Subject:</B>=20
  RE: [Sip] History-Info: UA loose route versus Target=20
  header<BR></FONT><BR></DIV>
  <DIV></DIV>
  <DIV dir=3Dltr align=3Dleft><FONT face=3DArial color=3D#0000ff =
size=3D2><SPAN=20
  class=3D093274321-13032008>You can tell retargets versus rerouting due =
to=20
  combination of the reasons in the various responses and the =
indices.&nbsp;=20
  With the indices you can get a trace (in the form of a tree structure =
due to=20
  the nesting of the indices) that shows the entire history of a=20
  request.&nbsp;</SPAN></FONT></DIV>
  <DIV dir=3Dltr align=3Dleft><FONT face=3DArial color=3D#0000ff =
size=3D2><SPAN=20
  class=3D093274321-13032008></SPAN></FONT><FONT face=3DArial =
color=3D#0000ff=20
  size=3D2><SPAN class=3D093274321-13032008></SPAN></FONT>&nbsp;</DIV>
  <DIV dir=3Dltr align=3Dleft><FONT face=3DArial color=3D#0000ff =
size=3D2><SPAN=20
  class=3D093274321-13032008>Mary. </SPAN></FONT></DIV><BR>
  <DIV class=3DOutlookMessageHeader lang=3Den-us dir=3Dltr align=3Dleft>
  <HR tabIndex=3D-1>
  <FONT face=3DTahoma size=3D2><B>From:</B> Hans Erik van Elburg=20
  [mailto:hanserik.van.elburg@ericsson.com] <BR><B>Sent:</B> Thursday, =
March 13,=20
  2008 2:48 PM<BR><B>To:</B> Barnes, Mary (RICH2:AR00);=20
  sip@ietf.org<BR><B>Subject:</B> RE: [Sip] History-Info: UA loose route =
versus=20
  Target header<BR></FONT><BR></DIV>
  <DIV></DIV>
  <DIV><SPAN class=3D004584319-13032008><FONT face=3DArial =
color=3D#800000 size=3D2>Hi=20
  Mary,</FONT></SPAN></DIV>
  <DIV><SPAN class=3D004584319-13032008><FONT face=3DArial =
color=3D#800000=20
  size=3D2></FONT></SPAN>&nbsp;</DIV>
  <DIV><SPAN class=3D004584319-13032008><FONT face=3DArial =
color=3D#800000 size=3D2>I=20
  dont think that the objective should be to change the fundamental =
nature of=20
  SIP processing for no good reason. It will break =
things.</FONT></SPAN></DIV>
  <DIV><SPAN class=3D004584319-13032008><FONT face=3DArial =
color=3D#800000=20
  size=3D2></FONT></SPAN>&nbsp;</DIV>
  <DIV><SPAN class=3D004584319-13032008><FONT face=3DArial =
color=3D#800000 size=3D2>The=20
  probem with the History-Info is that one can not distinguish reroutes =
from=20
  retargets and hence it can not be used for this. If you disagree with =
that=20
  could you address why you think this is not the =
case?</FONT></SPAN></DIV>
  <DIV><SPAN class=3D004584319-13032008><FONT face=3DArial =
color=3D#800000=20
  size=3D2></FONT></SPAN>&nbsp;</DIV>
  <DIV><SPAN class=3D004584319-13032008><FONT face=3DArial =
color=3D#800000=20
  size=3D2>/Hans Erik</FONT></SPAN></DIV><BR>
  <DIV class=3DOutlookMessageHeader lang=3Den-us dir=3Dltr align=3Dleft>
  <HR tabIndex=3D-1>
  <FONT face=3DTahoma size=3D2><B>From:</B> sip-bounces@ietf.org=20
  [mailto:sip-bounces@ietf.org] <B>On Behalf Of </B>Mary =
Barnes<BR><B>Sent:</B>=20
  Thursday, March 13, 2008 11:34 AM<BR><B>To:</B>=20
  sip@ietf.org<BR><B>Subject:</B> [Sip] History-Info: UA loose route =
versus=20
  Target header<BR></FONT><BR></DIV>
  <DIV></DIV><!-- Converted from text/rtf format -->
  <P><FONT face=3DArial size=3D2>Per my comments at the microphone, =
here's my=20
  assessment of the difference between the two documents as they apply =
to=20
  History-Info as a potential solution.</FONT></P>
  <P><FONT face=3DArial size=3D2>draft-rosenberg-sip-ua-loose-route-02 =
clearly=20
  states that History-Info functionally can be used to solve the problem =

  described in that document.&nbsp; However, Jonathan's objective is to =
solve a=20
  fundamental problem of not distinguishing routing versus re-targeting =
(read=20
  section 5).&nbsp; This document would actually change the content of =
the=20
  History-Info headers for the same requests, just as it's already =
identified in=20
  RFC 4244 that if you have loose routing in general, that the =
information is=20
  different in History-Info. </FONT></P>
  <P><FONT face=3DArial size=3D2>The document&nbsp;=20
  draft-holmberg-sip-target-uri-delivery-01.txt&nbsp; doesn't do =
anything to=20
  change fundamental SIP processing. It just adds another header that =
contains=20
  information that would already be contained in History-Info. =
History-info=20
  provides a complete history of the processing of a request, with the =
indexing=20
  provided by the entries and the reasons, you know exactly why a =
request was=20
  either "retargetted" or "re-routed".&nbsp;&nbsp; The examples in the =
appendix=20
  would apply to the use cases you are attempting to solve as described =
in=20
  Jonathan's document. </FONT></P>
  <P><FONT face=3DArial size=3D2>Mary. =
</FONT></P></BLOCKQUOTE></BODY></HTML>

------_=_NextPart_001_01C8884A.50A86F6C--

--===============0708734478==
Content-Type: text/plain; charset="us-ascii"
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip
--===============0708734478==--


From sip-bounces@ietf.org  Mon Mar 17 11:46:39 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 152D73A68A8;
	Mon, 17 Mar 2008 11:46:39 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.797
X-Spam-Level: 
X-Spam-Status: No, score=-100.797 tagged_above=-999 required=5
	tests=[AWL=-0.360, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id uga3zkgOauYK; Mon, 17 Mar 2008 11:46:34 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id D154A3A6D6F;
	Mon, 17 Mar 2008 11:46:32 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id AFBB63A6D99
	for <sip@core3.amsl.com>; Mon, 17 Mar 2008 11:46:31 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 4ScSDENodkSv for <sip@core3.amsl.com>;
	Mon, 17 Mar 2008 11:46:31 -0700 (PDT)
Received: from nylon.softarmor.com (nylon.softarmor.com [66.135.38.164])
	by core3.amsl.com (Postfix) with ESMTP id ED1E73A68DB
	for <sip@ietf.org>; Mon, 17 Mar 2008 11:46:00 -0700 (PDT)
Received: from 206-176-144-212.waymark.net (206-176-144-212.waymark.net
	[206.176.144.212]) (authenticated bits=0)
	by nylon.softarmor.com (8.13.8/8.13.8/Debian-3) with ESMTP id
	m2HIhgMF026176
	(version=TLSv1/SSLv3 cipher=AES128-SHA bits=128 verify=NOT)
	for <sip@ietf.org>; Mon, 17 Mar 2008 13:43:43 -0500
Message-Id: <3E421678-5FE5-41F1-A4DB-64C4C6E0D48A@softarmor.com>
From: Dean Willis <dean.willis@softarmor.com>
To: IETF SIP List <sip@ietf.org>
Mime-Version: 1.0 (Apple Message framework v919.2)
Date: Mon, 17 Mar 2008 13:43:42 -0500
X-Mailer: Apple Mail (2.919.2)
Subject: [Sip] Draft minutes for SIP at IETF 71 posted to IETF Proceedings
	site
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


yesterday I sent out the draft minutes for SIP at IETF 71 on the SIP  
mailing list.

Today they are also available on the IETF proceedings site:

http://www.ietf.org/proceedings/08mar/minutes/sip.txt

--
Dean

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Mon Mar 17 12:55:09 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 5DF6728C44D;
	Mon, 17 Mar 2008 12:55:09 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -101.179
X-Spam-Level: 
X-Spam-Status: No, score=-101.179 tagged_above=-999 required=5
	tests=[AWL=-0.742, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 2ZVw0xO64Kjy; Mon, 17 Mar 2008 12:55:05 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 3E2EA3A6C88;
	Mon, 17 Mar 2008 12:55:05 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id B5FAC3A6C88
	for <sip@core3.amsl.com>; Mon, 17 Mar 2008 12:55:04 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id wWE3B6BQJutx for <sip@core3.amsl.com>;
	Mon, 17 Mar 2008 12:55:03 -0700 (PDT)
Received: from sj-iport-2.cisco.com (sj-iport-2.cisco.com [171.71.176.71])
	by core3.amsl.com (Postfix) with ESMTP id 2330D3A6873
	for <sip@ietf.org>; Mon, 17 Mar 2008 12:55:03 -0700 (PDT)
Received: from sj-dkim-1.cisco.com ([171.71.179.21])
	by sj-iport-2.cisco.com with ESMTP; 17 Mar 2008 12:52:46 -0700
Received: from sj-core-5.cisco.com (sj-core-5.cisco.com [171.71.177.238])
	by sj-dkim-1.cisco.com (8.12.11/8.12.11) with ESMTP id m2HJqhSo027485; 
	Mon, 17 Mar 2008 12:52:43 -0700
Received: from dwingwxp01 ([10.32.240.197])
	by sj-core-5.cisco.com (8.13.8/8.13.8) with ESMTP id m2HJqg53026983;
	Mon, 17 Mar 2008 19:52:42 GMT
From: "Dan Wing" <dwing@cisco.com>
To: <sip@ietf.org>
Date: Mon, 17 Mar 2008 12:52:42 -0700
Message-ID: <0a7501c88868$76c00090$c5f0200a@cisco.com>
MIME-Version: 1.0
X-Mailer: Microsoft Office Outlook 11
Thread-Index: AciIaHY8LnqkjaAbQxGlJl7i69ggNw==
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.3198
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; l=2424; t=1205783566;
	x=1206647566; c=relaxed/simple; s=sjdkim1004;
	h=Content-Type:From:Subject:Content-Transfer-Encoding:MIME-Version;
	d=cisco.com; i=dwing@cisco.com;
	z=From:=20=22Dan=20Wing=22=20<dwing@cisco.com>
	|Subject:=20dtls-srtp-framework-01=20comments |Sender:=20;
	bh=cyLGKgPq2kPv7rof2ioucEY6gQPgR84GZtBBhGfaro4=;
	b=MbYBvfFRKHNQ/HWVSH07gKAZu7XyuDcRO982uv0mz6SCIrr24Dc2/v02ee
	VTrb2uPRsKwhtKGPsX0op7X+e0agErJZbSQzf+duLQ7ALnmHIyc/SQj+K8cf
	y8FE8m0vleiOkRKagcl6rU/ySBdUToID7G7ADEMkm7JnBujmstaGE=;
Authentication-Results: sj-dkim-1; header.From=dwing@cisco.com; dkim=pass (
	sig from cisco.com/sjdkim1004 verified; ); 
Cc: draft-ietf-sip-dtls-srtp-framework@tools.ietf.org
Subject: [Sip] dtls-srtp-framework-01 comments
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

1. Section 6.6, "ICE Interaction" says:

   If ICE is not being used, then there is potential for a bad
   interaction with SBCs via "latching", as described in [I-D.ietf-
   mmusic-media-path-middleboxes].  In order to avoid this issue, if ICE
   is not being used, then the passive side MUST do a single
                               ^^^^^^^^^^^^
This would be clearer if it said something like "the side using
'setup:actpass'" (rather than "the passive side"), because with the current
draft neither side is using "setup:passive".


   unauthenticad STUN [I-D.ietf-behave-rfc3489bis] connectivity check in

   ^^^^^^^^^^^^^      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

Connectivity checks are defined in ICE, not in rfc3489bis, so the reference
should be made to ICE.  (Also, unauthenticated is misspelled.)

However, I do not believe ICE defines an unauthenticated connectivity check;
rather, ICE defines only an authenticated connectivity check.


   order to open up the appropriate pinhole.  All implementations MUST
   be prepared to answer this request during the handshake period even
   if they do not otherwise do ICE.

Do we need a full STUN transaction (STUN request/response) to fix the latching
problem described in ietf-mmusic-media-path-middleboxes?  I expect sending a
STUN indication with exponential backoff until receipt of a DTLS-SRTP
ClientHello may well be sufficient?  Afterall, something on the path might
interfere with the connectivity check (drop it, for example) and there isn't
much need to continue re-transmitting the STUN request (following STUN's
retransmission rules) if the DTLS-SRTP handshake is proceeding.  This wouldn't
interfere with DTLS's state machine; rather, the code already needed to
demultiplex STUN/RTP/DTLS could tickle STUN to cease

One more related question:  if we are behind an SBC and have the latching
problem described in ietf-mmusic-media-path-middleboxes, and the call forked,
do we need to send STUN requests (as the draft currently states) or STUN
indications (as I am suggesting) to each fork??


2. Section 8.1:

OLD:
  Answerers SHOULD send use this UPDATE mechanisms.
NEW:
  Answerers SHOULD use this UPDATE mechanisms.


3. Section A.7, R-ACT-ACT

Do we want to say anything about E.164 namespace, and what the DTLS-SRTP
framework can reasonably provide in conjunction with RFC4474?

-d

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Mon Mar 17 12:57:40 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 1C95C28C1F2;
	Mon, 17 Mar 2008 12:57:40 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.545
X-Spam-Level: 
X-Spam-Status: No, score=-100.545 tagged_above=-999 required=5
	tests=[AWL=-0.108, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id u-GB8lv83TrT; Mon, 17 Mar 2008 12:57:39 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 2D3DF3A6E56;
	Mon, 17 Mar 2008 12:57:39 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 6B8F93A6E56
	for <sip@core3.amsl.com>; Mon, 17 Mar 2008 12:57:38 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id hgDeQ8jv3ff5 for <sip@core3.amsl.com>;
	Mon, 17 Mar 2008 12:57:37 -0700 (PDT)
Received: from etmail.acmepacket.com (etmail.acmepacket.com [216.41.24.6])
	by core3.amsl.com (Postfix) with ESMTP id E32693A6E5C
	for <sip@ietf.org>; Mon, 17 Mar 2008 12:57:36 -0700 (PDT)
Received: from mail.acmepacket.com (216.41.24.7) by etmail.acmepacket.com
	(216.41.24.6) with Microsoft SMTP Server (TLS) id 8.1.240.5;
	Mon, 17 Mar 2008 15:54:59 -0400
Received: from mail.acmepacket.com ([216.41.24.7]) by mail.acmepacket.com
	([216.41.24.7]) with mapi; Mon, 17 Mar 2008 15:54:59 -0400
From: Hadriel Kaplan <HKaplan@acmepacket.com>
To: Paul Kyzivat <pkyzivat@cisco.com>, Spencer Dawkins
	<spencer@wonderhamster.org>
Date: Mon, 17 Mar 2008 15:55:18 -0400
Thread-Topic: [Sip] Comment/question on draft-ietf-sip-body-handling-01.txt
Thread-Index: AciIR57pre81toqYQluNbxMtnT2ZQgAGxRZg
Message-ID: <E6C2E8958BA59A4FB960963D475F7AC30BCA3B861B@mail.acmepacket.com>
References: <E6C2E8958BA59A4FB960963D475F7AC30BCA256DBB@mail.acmepacket.com>
	<47D96560.3070908@cisco.com>
	<023701c88846$7fea2a00$6401a8c0@china.huawei.com>
	<47DE9513.7070209@cisco.com>
In-Reply-To: <47DE9513.7070209@cisco.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
acceptlanguage: en-US
MIME-Version: 1.0
Cc: "sip@ietf.org" <sip@ietf.org>
Subject: Re: [Sip] Comment/question on draft-ietf-sip-body-handling-01.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org



> -----Original Message-----
> From: Paul Kyzivat [mailto:pkyzivat@cisco.com]
>
> Spencer Dawkins wrote:
> > Is it obvious to everyone what the proxy/UA/middlebox should return when
> > presented with a header/body larger than $SOME_VALUE?
>
> Well, 513 "Message Too Large" seems pretty clear.

Yeah, I don't think that's an issue.  The issue is more that the designers of those UA's/servers didn't take size into account, and thus always try the bigger size, and don't have an alternative mechanism when they get the 513. (and they don't remember the size restriction for other requests, so they keep doing it again and again and again...until they get blacklisted or throttled)

-hadriel
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Mon Mar 17 13:09:15 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id EBD443A6EAC;
	Mon, 17 Mar 2008 13:09:14 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.516
X-Spam-Level: 
X-Spam-Status: No, score=-100.516 tagged_above=-999 required=5
	tests=[AWL=-0.079, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id vORwgmca5czQ; Mon, 17 Mar 2008 13:09:13 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 752FA3A6E91;
	Mon, 17 Mar 2008 13:09:11 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id CF9423A6B84
	for <sip@core3.amsl.com>; Mon, 17 Mar 2008 13:09:09 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id BYyc9kkbTuDU for <sip@core3.amsl.com>;
	Mon, 17 Mar 2008 13:09:06 -0700 (PDT)
Received: from mout.perfora.net (mout.perfora.net [74.208.4.196])
	by core3.amsl.com (Postfix) with ESMTP id 39BBE3A6E4A
	for <sip@ietf.org>; Mon, 17 Mar 2008 13:09:01 -0700 (PDT)
Received: from s73602 (cpe-72-190-0-23.tx.res.rr.com [72.190.0.23])
	by mrelay.perfora.net (node=mrus1) with ESMTP (Nemesis)
	id 0MKpCa-1JbLbV2gG7-0000Vf; Mon, 17 Mar 2008 16:06:44 -0400
Message-ID: <051a01c8886a$49e0a870$6401a8c0@china.huawei.com>
From: "Spencer Dawkins" <spencer@wonderhamster.org>
To: "Hadriel Kaplan" <HKaplan@acmepacket.com>,
	"Paul Kyzivat" <pkyzivat@cisco.com>
References: <E6C2E8958BA59A4FB960963D475F7AC30BCA256DBB@mail.acmepacket.com>
	<47D96560.3070908@cisco.com>
	<023701c88846$7fea2a00$6401a8c0@china.huawei.com>
	<47DE9513.7070209@cisco.com>
	<E6C2E8958BA59A4FB960963D475F7AC30BCA3B861B@mail.acmepacket.com>
Date: Mon, 17 Mar 2008 15:05:42 -0500
MIME-Version: 1.0
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2900.3138
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.3198
X-Provags-ID: V01U2FsdGVkX18SRDGOvGp+Ycq0IHP/rzLpEqkdBRct/eb+S9z
	ngBmqKXMLgzKTbbTsAIkwlwJaXTvJPaBQ0Kt7taDckzDfrXVRR
	9K5eXm9p89k3cVnWm2go3MPl4eIVEggI1c2ZZ2Jw2g=
Cc: sip@ietf.org
Subject: Re: [Sip] Comment/question on draft-ietf-sip-body-handling-01.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

So best practices guidance seems appropriate here...

Thanks,

Spencer

----- Original Message ----- 
From: "Hadriel Kaplan" <HKaplan@acmepacket.com>
To: "Paul Kyzivat" <pkyzivat@cisco.com>; "Spencer Dawkins" 
<spencer@wonderhamster.org>
Cc: <sip@ietf.org>
Sent: Monday, March 17, 2008 2:55 PM
Subject: RE: [Sip] Comment/question on draft-ietf-sip-body-handling-01.txt




> -----Original Message-----
> From: Paul Kyzivat [mailto:pkyzivat@cisco.com]
>
> Spencer Dawkins wrote:
> > Is it obvious to everyone what the proxy/UA/middlebox should return when
> > presented with a header/body larger than $SOME_VALUE?
>
> Well, 513 "Message Too Large" seems pretty clear.

Yeah, I don't think that's an issue.  The issue is more that the designers 
of those UA's/servers didn't take size into account, and thus always try the 
bigger size, and don't have an alternative mechanism when they get the 513. 
(and they don't remember the size restriction for other requests, so they 
keep doing it again and again and again...until they get blacklisted or 
throttled)

-hadriel


_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Mon Mar 17 13:24:57 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 8372F28C455;
	Mon, 17 Mar 2008 13:24:57 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.797
X-Spam-Level: 
X-Spam-Status: No, score=-100.797 tagged_above=-999 required=5
	tests=[AWL=-0.360, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id w2t5TWCROgHi; Mon, 17 Mar 2008 13:24:56 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 945A628C1AB;
	Mon, 17 Mar 2008 13:24:56 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 3284128C1AB
	for <sip@core3.amsl.com>; Mon, 17 Mar 2008 13:24:55 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id ADZ6KfNAi6uV for <sip@core3.amsl.com>;
	Mon, 17 Mar 2008 13:24:51 -0700 (PDT)
Received: from QMTA04.emeryville.ca.mail.comcast.net
	(qmta04.emeryville.ca.mail.comcast.net [76.96.30.40])
	by core3.amsl.com (Postfix) with ESMTP id 85F2328C108
	for <sip@ietf.org>; Mon, 17 Mar 2008 13:24:51 -0700 (PDT)
Received: from OMTA01.emeryville.ca.mail.comcast.net ([76.96.30.11])
	by QMTA04.emeryville.ca.mail.comcast.net with comcast
	id 2AFk1Z0010EPchoA40or00; Mon, 17 Mar 2008 20:21:37 +0000
Received: from dragon.ariadne.com ([76.19.174.1])
	by OMTA01.emeryville.ca.mail.comcast.net with comcast
	id 2LNR1Z00R02AVH08M00000; Mon, 17 Mar 2008 20:22:27 +0000
X-Authority-Analysis: v=1.0 c=1 a=KtzSX_ij0ka5LON-rk4A:9
	a=TpiDalbc9ypSJBdqDDcBUpd36hkA:4 a=HwvHyInW8OUA:10 a=8y7tGHue6YMA:10
Received: from dragon.ariadne.com (dragon.ariadne.com [127.0.0.1])
	by dragon.ariadne.com (8.12.8/8.12.8) with ESMTP id m2HKMPm4001694
	for <sip@ietf.org>; Mon, 17 Mar 2008 15:22:25 -0500
Received: (from worley@localhost)
	by dragon.ariadne.com (8.12.8/8.12.8/Submit) id m2HKMPOt001690;
	Mon, 17 Mar 2008 15:22:25 -0500
Date: Mon, 17 Mar 2008 15:22:25 -0500
Message-Id: <200803172022.m2HKMPOt001690@dragon.ariadne.com>
To: sip@ietf.org
From: Dale.Worley@comcast.net
In-reply-to: <E6C2E8958BA59A4FB960963D475F7AC30BCA256DBB@mail.acmepacket.com>
	(HKaplan@acmepacket.com)
References: <E6C2E8958BA59A4FB960963D475F7AC30BCA256DBB@mail.acmepacket.com>
Subject: Re: [Sip] Comment/question on draft-ietf-sip-body-handling-01.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
MIME-Version: 1.0
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

   From: Hadriel Kaplan <HKaplan@acmepacket.com>

   So my question is, is it appropriate for a draft such as
   draft-ietf-sip-body-handling-01.txt to potentially define a
   maximum, or at least guidance about it?

The concept is good.  The problem is that draft-ietf-sip-body-handling
is about an entirely different subject, and so isn't an appropriate
place to put the guidance.

Dale
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Mon Mar 17 14:54:22 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id DC0DD28C4AA;
	Mon, 17 Mar 2008 14:54:21 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.895
X-Spam-Level: 
X-Spam-Status: No, score=-100.895 tagged_above=-999 required=5
	tests=[AWL=-0.459, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, HTML_MESSAGE=0.001, RDNS_NONE=0.1,
	USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 2jxvjZYq4Ile; Mon, 17 Mar 2008 14:54:17 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id AC53C3A6EA4;
	Mon, 17 Mar 2008 14:54:17 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 9FE0A28C46B
	for <sip@core3.amsl.com>; Mon, 17 Mar 2008 14:54:12 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id tjdJdV3AmAdK for <sip@core3.amsl.com>;
	Mon, 17 Mar 2008 14:54:06 -0700 (PDT)
Received: from mailgw3.ericsson.se (mailgw3.ericsson.se [193.180.251.60])
	by core3.amsl.com (Postfix) with ESMTP id 599CE3A6A16
	for <sip@ietf.org>; Mon, 17 Mar 2008 14:53:16 -0700 (PDT)
Received: from mailgw3.ericsson.se (unknown [127.0.0.1])
	by mailgw3.ericsson.se (Symantec Mail Security) with ESMTP id
	6DDEA2069A; Mon, 17 Mar 2008 22:50:59 +0100 (CET)
X-AuditID: c1b4fb3c-ac898bb00000193b-fa-47dee7c3b6ec
Received: from esealmw128.eemea.ericsson.se (unknown [153.88.254.121])
	by mailgw3.ericsson.se (Symantec Mail Security) with ESMTP id
	3AC78204ED; Mon, 17 Mar 2008 22:50:59 +0100 (CET)
Received: from esealmw109.eemea.ericsson.se ([153.88.200.2]) by
	esealmw128.eemea.ericsson.se with Microsoft SMTPSVC(6.0.3790.1830); 
	Mon, 17 Mar 2008 22:50:58 +0100
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Mon, 17 Mar 2008 22:50:58 +0100
Message-ID: <2C685FA24AE8004CA8F0DCCC7AF6AD0801FE2F66@esealmw109.eemea.ericsson.se>
In-Reply-To: <F66D7286825402429571678A16C2F5EE026C9327@zrc2hxm1.corp.nortel.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] History-Info: UA loose route versus Target header
thread-index: AciFH7Dyq9TdpeR0RBun7/oZCM2XWwAIuM2QAAQsRgAAsYKRwAAHGkvwABDGHaA=
References: <F66D7286825402429571678A16C2F5EE02640F48@zrc2hxm1.corp.nortel.com>
	<2C685FA24AE8004CA8F0DCCC7AF6AD0801F6E816@esealmw109.eemea.ericsson.se>
	<F66D7286825402429571678A16C2F5EE02641C0F@zrc2hxm1.corp.nortel.com>
	<2C685FA24AE8004CA8F0DCCC7AF6AD0801FABF0E@esealmw109.eemea.ericsson.se>
	<F66D7286825402429571678A16C2F5EE026C9327@zrc2hxm1.corp.nortel.com>
From: "Hans Erik van Elburg" <hanserik.van.elburg@ericsson.com>
To: "Mary Barnes" <mary.barnes@nortel.com>,
	<sip@ietf.org>
X-OriginalArrivalTime: 17 Mar 2008 21:50:58.0749 (UTC)
	FILETIME=[FC2056D0:01C88878]
X-Brightmail-Tracker: AAAAAA==
Subject: Re: [Sip] History-Info: UA loose route versus Target header
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: multipart/mixed; boundary="===============0115220195=="
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

This is a multi-part message in MIME format.

--===============0115220195==
Content-class: urn:content-classes:message
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C88878.FBE1DF3F"

This is a multi-part message in MIME format.

------_=_NextPart_001_01C88878.FBE1DF3F
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: quoted-printable

Exactly the sort through the HI entries approach is not well specified
and therfore the outcome is not predictable.
=20
/Hans Erik

________________________________

From: Mary Barnes [mailto:mary.barnes@nortel.com]=20
Sent: Monday, March 17, 2008 3:01 PM
To: Hans Erik van Elburg; sip@ietf.org
Subject: RE: [Sip] History-Info: UA loose route versus Target header


The reason every rewrite of a Request URI is a retarget is because the
base SIP spec did not distinguish reroute from retargeting, which is the
gist of Jonathan's proposal.  There are explicit reasons associated with
some of the retargets (e.g., 3xx redirections), but I would agree that
isn't always the case. But, I still contend that you can tell from the
structure of the combination of routes/retargets what was the intended
target, especially considering the use cases given.   It does require
that the entity that does the retargeting to capture the History-Info,
but the "Target" header solution has the same requirement. =20
=20
If the concern is the processing to sort through the HI entries (the
reason that Jonathan's draft suggests HI is not a good solution), then
you could add a "retarget" (and "reroute") tags to the appropriate HI
entry, since History-Info was designed to be extensible.=20
=20
Mary.=20

________________________________

From: Hans Erik van Elburg [mailto:hanserik.van.elburg@ericsson.com]=20
Sent: Monday, March 17, 2008 5:40 AM
To: Barnes, Mary (RICH2:AR00); sip@ietf.org
Subject: RE: [Sip] History-Info: UA loose route versus Target header


A reroute and a retarget (using the definitions of the ua-loose-route
draft) may both be caused by some local policy deployed on a proxy, it
is not clear how they should be distinguished by reason values. And it
is certainly nowhere defined what different reasons would be applicable
in these cases.
=20
To complicate things further to RFC4244 any rewrite of the Request URI
is a retarget, not so in the more subtle definitions used in the
ua-loose-route draft which distinguishes retargets from reroutes.
=20
Therefore I insist that History-Info as it is today, does not cover
this.
=20
/Hans Erik

________________________________

From: Mary Barnes [mailto:mary.barnes@nortel.com]=20
Sent: Thursday, March 13, 2008 10:47 PM
To: Hans Erik van Elburg; sip@ietf.org
Subject: RE: [Sip] History-Info: UA loose route versus Target header


You can tell retargets versus rerouting due to combination of the
reasons in the various responses and the indices.  With the indices you
can get a trace (in the form of a tree structure due to the nesting of
the indices) that shows the entire history of a request.=20
=20
Mary.=20

________________________________

From: Hans Erik van Elburg [mailto:hanserik.van.elburg@ericsson.com]=20
Sent: Thursday, March 13, 2008 2:48 PM
To: Barnes, Mary (RICH2:AR00); sip@ietf.org
Subject: RE: [Sip] History-Info: UA loose route versus Target header


Hi Mary,
=20
I dont think that the objective should be to change the fundamental
nature of SIP processing for no good reason. It will break things.
=20
The probem with the History-Info is that one can not distinguish
reroutes from retargets and hence it can not be used for this. If you
disagree with that could you address why you think this is not the case?
=20
/Hans Erik

________________________________

From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On Behalf Of
Mary Barnes
Sent: Thursday, March 13, 2008 11:34 AM
To: sip@ietf.org
Subject: [Sip] History-Info: UA loose route versus Target header



Per my comments at the microphone, here's my assessment of the
difference between the two documents as they apply to History-Info as a
potential solution.

draft-rosenberg-sip-ua-loose-route-02 clearly states that History-Info
functionally can be used to solve the problem described in that
document.  However, Jonathan's objective is to solve a fundamental
problem of not distinguishing routing versus re-targeting (read section
5).  This document would actually change the content of the History-Info
headers for the same requests, just as it's already identified in RFC
4244 that if you have loose routing in general, that the information is
different in History-Info.=20

The document  draft-holmberg-sip-target-uri-delivery-01.txt  doesn't do
anything to change fundamental SIP processing. It just adds another
header that contains information that would already be contained in
History-Info. History-info provides a complete history of the processing
of a request, with the indexing provided by the entries and the reasons,
you know exactly why a request was either "retargetted" or "re-routed".
The examples in the appendix would apply to the use cases you are
attempting to solve as described in Jonathan's document.=20

Mary.=20


------_=_NextPart_001_01C88878.FBE1DF3F
Content-Type: text/html;
	charset="US-ASCII"
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML><HEAD><TITLE>History-Info: UA loose route versus Target =
header</TITLE>
<META http-equiv=3DContent-Type content=3D"text/html; =
charset=3Dus-ascii">
<META content=3D"MSHTML 6.00.2800.1607" name=3DGENERATOR></HEAD>
<BODY>
<DIV><SPAN class=3D625464921-17032008><FONT face=3DArial color=3D#800000 =

size=3D2>Exactly the sort through the HI entries approach is not well =
specified=20
and therfore the outcome is not predictable.</FONT></SPAN></DIV>
<DIV><SPAN class=3D625464921-17032008><FONT face=3DArial color=3D#800000 =

size=3D2></FONT></SPAN>&nbsp;</DIV>
<DIV><SPAN class=3D625464921-17032008><FONT face=3DArial color=3D#800000 =
size=3D2>/Hans=20
Erik</FONT></SPAN></DIV><BR>
<DIV class=3DOutlookMessageHeader lang=3Den-us dir=3Dltr align=3Dleft>
<HR tabIndex=3D-1>
<FONT face=3DTahoma size=3D2><B>From:</B> Mary Barnes=20
[mailto:mary.barnes@nortel.com] <BR><B>Sent:</B> Monday, March 17, 2008 =
3:01=20
PM<BR><B>To:</B> Hans Erik van Elburg; sip@ietf.org<BR><B>Subject:</B> =
RE: [Sip]=20
History-Info: UA loose route versus Target header<BR></FONT><BR></DIV>
<DIV></DIV>
<DIV dir=3Dltr align=3Dleft><SPAN class=3D531294913-17032008><FONT =
face=3DArial=20
color=3D#0000ff size=3D2>The reason every rewrite of a Request URI is a =
retarget is=20
because the base SIP spec did not distinguish reroute from retargeting, =
which is=20
the gist of Jonathan's proposal.&nbsp; There are explicit reasons =
associated=20
with some of the retargets (e.g., 3xx redirections), but I would agree =
that=20
isn't always the case. But, I still contend that you can tell from the =
structure=20
of the combination of routes/retargets what was the intended target, =
especially=20
considering the use cases given. &nbsp; It does require that the entity =
that=20
does the retargeting to capture the History-Info, but the "Target" =
header=20
solution has the same requirement.&nbsp; </FONT></SPAN></DIV>
<DIV dir=3Dltr align=3Dleft><SPAN class=3D531294913-17032008><FONT =
face=3DArial=20
color=3D#0000ff size=3D2></FONT></SPAN>&nbsp;</DIV>
<DIV dir=3Dltr align=3Dleft><SPAN class=3D531294913-17032008><FONT =
face=3DArial=20
color=3D#0000ff size=3D2>If the concern is the processing to sort =
through the HI=20
entries (the reason that Jonathan's draft suggests HI is not a good =
solution),=20
then you could add a "retarget" (and "reroute") tags to the appropriate =
HI=20
entry, since History-Info was designed to be=20
extensible.&nbsp;</FONT></SPAN></DIV>
<DIV dir=3Dltr align=3Dleft><SPAN class=3D531294913-17032008><FONT =
face=3DArial=20
color=3D#0000ff size=3D2></FONT></SPAN>&nbsp;</DIV>
<DIV dir=3Dltr align=3Dleft><SPAN class=3D531294913-17032008><FONT =
face=3DArial=20
color=3D#0000ff size=3D2>Mary. </FONT></SPAN></DIV><BR>
<DIV class=3DOutlookMessageHeader lang=3Den-us dir=3Dltr align=3Dleft>
<HR tabIndex=3D-1>
<FONT face=3DTahoma size=3D2><B>From:</B> Hans Erik van Elburg=20
[mailto:hanserik.van.elburg@ericsson.com] <BR><B>Sent:</B> Monday, March =
17,=20
2008 5:40 AM<BR><B>To:</B> Barnes, Mary (RICH2:AR00);=20
sip@ietf.org<BR><B>Subject:</B> RE: [Sip] History-Info: UA loose route =
versus=20
Target header<BR></FONT><BR></DIV>
<DIV></DIV>
<DIV><SPAN class=3D079072610-17032008><FONT face=3DArial color=3D#800000 =
size=3D2>A=20
reroute and a retarget (using the definitions of the ua-loose-route =
draft) may=20
both be caused by some local policy deployed on a proxy, it is not clear =
how=20
they should be distinguished by reason values. And it is certainly =
nowhere=20
defined what different reasons would be applicable in these=20
cases.</FONT></SPAN></DIV>
<DIV><SPAN class=3D079072610-17032008><FONT face=3DArial color=3D#800000 =

size=3D2></FONT></SPAN>&nbsp;</DIV>
<DIV><SPAN class=3D079072610-17032008><FONT face=3DArial color=3D#800000 =
size=3D2>To=20
complicate things further to RFC4244 any rewrite of the Request URI is a =

retarget, not so in the more subtle definitions used in =
the&nbsp;ua-loose-route=20
draft which distinguishes retargets from reroutes.</FONT></SPAN></DIV>
<DIV><SPAN class=3D079072610-17032008><FONT face=3DArial color=3D#800000 =

size=3D2></FONT></SPAN>&nbsp;</DIV>
<DIV><SPAN class=3D079072610-17032008><FONT face=3DArial color=3D#800000 =

size=3D2>Therefore I insist that History-Info as it is today, does not =
cover=20
this.</FONT></SPAN></DIV>
<DIV><SPAN class=3D079072610-17032008><FONT face=3DArial color=3D#800000 =

size=3D2></FONT></SPAN>&nbsp;</DIV>
<DIV><SPAN class=3D079072610-17032008><FONT face=3DArial color=3D#800000 =
size=3D2>/Hans=20
Erik</FONT></SPAN></DIV><BR>
<DIV class=3DOutlookMessageHeader lang=3Den-us dir=3Dltr align=3Dleft>
<HR tabIndex=3D-1>
<FONT face=3DTahoma size=3D2><B>From:</B> Mary Barnes=20
[mailto:mary.barnes@nortel.com] <BR><B>Sent:</B> Thursday, March 13, =
2008 10:47=20
PM<BR><B>To:</B> Hans Erik van Elburg; sip@ietf.org<BR><B>Subject:</B> =
RE: [Sip]=20
History-Info: UA loose route versus Target header<BR></FONT><BR></DIV>
<DIV></DIV>
<DIV dir=3Dltr align=3Dleft><FONT face=3DArial color=3D#0000ff =
size=3D2><SPAN=20
class=3D093274321-13032008>You can tell retargets versus rerouting due =
to=20
combination of the reasons in the various responses and the =
indices.&nbsp; With=20
the indices you can get a trace (in the form of a tree structure due to =
the=20
nesting of the indices) that shows the entire history of a=20
request.&nbsp;</SPAN></FONT></DIV>
<DIV dir=3Dltr align=3Dleft><FONT face=3DArial color=3D#0000ff =
size=3D2><SPAN=20
class=3D093274321-13032008></SPAN></FONT><FONT face=3DArial =
color=3D#0000ff=20
size=3D2><SPAN class=3D093274321-13032008></SPAN></FONT>&nbsp;</DIV>
<DIV dir=3Dltr align=3Dleft><FONT face=3DArial color=3D#0000ff =
size=3D2><SPAN=20
class=3D093274321-13032008>Mary. </SPAN></FONT></DIV><BR>
<DIV class=3DOutlookMessageHeader lang=3Den-us dir=3Dltr align=3Dleft>
<HR tabIndex=3D-1>
<FONT face=3DTahoma size=3D2><B>From:</B> Hans Erik van Elburg=20
[mailto:hanserik.van.elburg@ericsson.com] <BR><B>Sent:</B> Thursday, =
March 13,=20
2008 2:48 PM<BR><B>To:</B> Barnes, Mary (RICH2:AR00);=20
sip@ietf.org<BR><B>Subject:</B> RE: [Sip] History-Info: UA loose route =
versus=20
Target header<BR></FONT><BR></DIV>
<DIV></DIV>
<DIV><SPAN class=3D004584319-13032008><FONT face=3DArial color=3D#800000 =
size=3D2>Hi=20
Mary,</FONT></SPAN></DIV>
<DIV><SPAN class=3D004584319-13032008><FONT face=3DArial color=3D#800000 =

size=3D2></FONT></SPAN>&nbsp;</DIV>
<DIV><SPAN class=3D004584319-13032008><FONT face=3DArial color=3D#800000 =
size=3D2>I dont=20
think that the objective should be to change the fundamental nature of =
SIP=20
processing for no good reason. It will break things.</FONT></SPAN></DIV>
<DIV><SPAN class=3D004584319-13032008><FONT face=3DArial color=3D#800000 =

size=3D2></FONT></SPAN>&nbsp;</DIV>
<DIV><SPAN class=3D004584319-13032008><FONT face=3DArial color=3D#800000 =
size=3D2>The=20
probem with the History-Info is that one can not distinguish reroutes =
from=20
retargets and hence it can not be used for this. If you disagree with =
that could=20
you address why you think this is not the case?</FONT></SPAN></DIV>
<DIV><SPAN class=3D004584319-13032008><FONT face=3DArial color=3D#800000 =

size=3D2></FONT></SPAN>&nbsp;</DIV>
<DIV><SPAN class=3D004584319-13032008><FONT face=3DArial color=3D#800000 =
size=3D2>/Hans=20
Erik</FONT></SPAN></DIV><BR>
<DIV class=3DOutlookMessageHeader lang=3Den-us dir=3Dltr align=3Dleft>
<HR tabIndex=3D-1>
<FONT face=3DTahoma size=3D2><B>From:</B> sip-bounces@ietf.org=20
[mailto:sip-bounces@ietf.org] <B>On Behalf Of </B>Mary =
Barnes<BR><B>Sent:</B>=20
Thursday, March 13, 2008 11:34 AM<BR><B>To:</B> =
sip@ietf.org<BR><B>Subject:</B>=20
[Sip] History-Info: UA loose route versus Target =
header<BR></FONT><BR></DIV>
<DIV></DIV><!-- Converted from text/rtf format -->
<P><FONT face=3DArial size=3D2>Per my comments at the microphone, here's =
my=20
assessment of the difference between the two documents as they apply to=20
History-Info as a potential solution.</FONT></P>
<P><FONT face=3DArial size=3D2>draft-rosenberg-sip-ua-loose-route-02 =
clearly states=20
that History-Info functionally can be used to solve the problem =
described in=20
that document.&nbsp; However, Jonathan's objective is to solve a =
fundamental=20
problem of not distinguishing routing versus re-targeting (read section=20
5).&nbsp; This document would actually change the content of the =
History-Info=20
headers for the same requests, just as it's already identified in RFC =
4244 that=20
if you have loose routing in general, that the information is different =
in=20
History-Info. </FONT></P>
<P><FONT face=3DArial size=3D2>The document&nbsp;=20
draft-holmberg-sip-target-uri-delivery-01.txt&nbsp; doesn't do anything =
to=20
change fundamental SIP processing. It just adds another header that =
contains=20
information that would already be contained in History-Info. =
History-info=20
provides a complete history of the processing of a request, with the =
indexing=20
provided by the entries and the reasons, you know exactly why a request =
was=20
either "retargetted" or "re-routed".&nbsp;&nbsp; The examples in the =
appendix=20
would apply to the use cases you are attempting to solve as described in =

Jonathan's document. </FONT></P>
<P><FONT face=3DArial size=3D2>Mary. </FONT></P></BODY></HTML>

------_=_NextPart_001_01C88878.FBE1DF3F--

--===============0115220195==
Content-Type: text/plain; charset="us-ascii"
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip
--===============0115220195==--


From sip-bounces@ietf.org  Mon Mar 17 17:14:38 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 49B2E3A6C93;
	Mon, 17 Mar 2008 17:14:38 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.997
X-Spam-Level: 
X-Spam-Status: No, score=-100.997 tagged_above=-999 required=5
	tests=[AWL=-0.560, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id loxq7M5gCfq4; Mon, 17 Mar 2008 17:14:37 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 264853A6A64;
	Mon, 17 Mar 2008 17:14:37 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 1E1B53A6A64
	for <sip@core3.amsl.com>; Mon, 17 Mar 2008 17:14:36 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id tuYhsYMpSwcH for <sip@core3.amsl.com>;
	Mon, 17 Mar 2008 17:14:35 -0700 (PDT)
Received: from zcars04f.nortel.com (zcars04f.nortel.com [47.129.242.57])
	by core3.amsl.com (Postfix) with ESMTP id E4D863A6816
	for <sip@ietf.org>; Mon, 17 Mar 2008 17:14:34 -0700 (PDT)
Received: from zrc2hxm0.corp.nortel.com (zrc2hxm0.corp.nortel.com
	[47.103.123.71])
	by zcars04f.nortel.com (Switch-2.2.6/Switch-2.2.0) with ESMTP id
	m2I0CDj12750; Tue, 18 Mar 2008 00:12:14 GMT
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Mon, 17 Mar 2008 19:12:12 -0500
Message-ID: <1ECE0EB50388174790F9694F77522CCF158BEE1F@zrc2hxm0.corp.nortel.com>
In-Reply-To: <9AAEDF491EF7CA48AB587781B8F5D7C6FA7008@srvxchg3.cablelabs.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] Outbound-12 comments
Thread-Index: AciC3Ea2fSK4uyQVQ4uHasOOq7dZ8gFme22w
References: <9AAEDF491EF7CA48AB587781B8F5D7C6FA7008@srvxchg3.cablelabs.com>
From: "Francois Audet" <audet@nortel.com>
To: "Kevin Johns" <K.Johns@CableLabs.com>, <sip@ietf.org>
Cc: Cullen Jennings <fluffy@cisco.com>, Rohan Mahy <rohan@ekabal.com>
Subject: Re: [Sip] Outbound-12 comments
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

 

> -----Original Message-----
> From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On 
> Behalf Of Kevin Johns
> Sent: Monday, March 10, 2008 11:27
> To: sip@ietf.org
> Subject: [Sip] Outbound-12 comments
> 
> All,
>  
> I did a review of outbound, please find my comments below. 
> This review is for sections 4-8 and the comments are 
> primarily related to tightening up the procedures.
> 
> Comments are formatted as follows - <section #>, <section 
> title>, <optional text location> - comment...
>  
> Regards,
> Kevin
>  
> Section 4.2.1, Initial Registration, 2nd para - Is the 
> opening sentence well understood by all? "For each outbound 
> proxy URI in the set, the UA SHOULD send a unique REGISTER in 
> the normal way using this URI as the default outbound proxy."

I think it's clear. What do you propose we change?

> Section 4.2.1, Initial Registration - this section makes no 
> reference to the keep-timer. It would seem that this should 
> be discussed in the same context as detecting outbound 
> support in the registration response? It is covered in 
> section 4.4 but seems out of place as a first reference.

You mean the Flow-Timer? I'm not sure why we would want to discuss the
Flow-Timer in the section about Registration. Can you be more 
specific on what you are looking for?

> Section 4.2.2, Subsequent REGISTER requests, The first 
> sentence - "Re-registrations and single Contact 
> de-registrations use the same instance-id and reg-id values 
> as the corresponding initial registration." Suggest making 
> this normative

You mean saying:
"Re-registrations and single Contact 
 de-registrations MUST use the same instance-id and reg-id values 
 as the corresponding initial registration."

Rohan?

> Section 4.3, Sending Non-REGISTER Requests, 1st paragraph - 
> "UAs that support this specification SHOULD include the 
> outbound option tag in a Supported header field in a 
> non-Register REGISTER request." What is a non-Register 
> REGISTER request? 

I think this is a typo: it should say "non-Register request.".

> Further why is this recommended? I did not 
> see this information being used by the edge proxy elsewhere 
> in the document?

That is a good question. Rohan? Cullen?


> Section 4.4, Keep-alives and Detecting Flow Failure, 2nd 
> paragraph - "When a successful registration response contains 
> the Flow-Timer header field..." This is the first reference 
> to the Flow-Timer header and it is unclear in the context of 
> this section what a successful registration response is. 
> While a proxy is only allowed to insert this in a response 
> containing the outbound option-tag in a Require header field, 
> it would seem reasonable to indicate that it is only used by 
> the UA if outbound support is also signaled. However this may 
> cross with the current thread on keep-alive usage and that a 
> proxy may choose to use keep-alives without outbound and have 
> a desire to control their rate of arrival?

Correct. It would cross with the current tread on keep-alive usage.

> Section 4.4, Keep-alives and Detecting Flow Failure, 2nd 
> paragraph - "For example, it the server suggests 120 seconds, 
> the UA would send each keepalive with a different frequency 
> between 95 and 120 seconds." I think 'it' should be 'if'.

Correct.

> Section 5.4, Edge Proxy Keep alive Handling, last paragraph - 
> should recommended timer values be provided which align with 
> the UA recommended values in absence of the Flow-Timer value?

I'm not sure it would be useful, as omitting the Flow-Timer
altogether would have the same result (and would use less
bytes in messages).

> Section 6, Registrar Mechanisms: Processing REGISTER Requests 
> - this section has no discussion on action taken on receipt 
> of a 430 response.

Correct. It describes UAS not UAC.

> Section 7 (Authoritative Proxy Mechanisms: Forwarding Requests - last
> para) does talk about invalidating bindings to invalid flows 
> but does not reference a 430 response as one possible methods 
> for determining a failed flow/binding. I am not sure which 
> section should address this but some text does need to be 
> added to cover this cause.

Yes, it may need some improvements.
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Mon Mar 17 17:23:35 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id CA6283A6C29;
	Mon, 17 Mar 2008 17:23:35 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -101.207
X-Spam-Level: 
X-Spam-Status: No, score=-101.207 tagged_above=-999 required=5
	tests=[AWL=-0.770, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id Nymj+jOCAP03; Mon, 17 Mar 2008 17:23:34 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id D44AD28C135;
	Mon, 17 Mar 2008 17:23:34 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id F10B328C135
	for <sip@core3.amsl.com>; Mon, 17 Mar 2008 17:23:33 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id mL6ZBZwI8INN for <sip@core3.amsl.com>;
	Mon, 17 Mar 2008 17:23:33 -0700 (PDT)
Received: from sj-iport-2.cisco.com (sj-iport-2.cisco.com [171.71.176.71])
	by core3.amsl.com (Postfix) with ESMTP id 096EB3A6809
	for <sip@ietf.org>; Mon, 17 Mar 2008 17:23:33 -0700 (PDT)
Received: from sj-dkim-3.cisco.com ([171.71.179.195])
	by sj-iport-2.cisco.com with ESMTP; 17 Mar 2008 17:21:16 -0700
Received: from sj-core-5.cisco.com (sj-core-5.cisco.com [171.71.177.238])
	by sj-dkim-3.cisco.com (8.12.11/8.12.11) with ESMTP id m2I0LFcw010787; 
	Mon, 17 Mar 2008 17:21:15 -0700
Received: from xbh-rtp-211.amer.cisco.com (xbh-rtp-211.cisco.com
	[64.102.31.102])
	by sj-core-5.cisco.com (8.13.8/8.13.8) with ESMTP id m2I0KnbE021390;
	Tue, 18 Mar 2008 00:21:14 GMT
Received: from xfe-rtp-202.amer.cisco.com ([64.102.31.21]) by
	xbh-rtp-211.amer.cisco.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Mon, 17 Mar 2008 20:21:12 -0400
Received: from [161.44.174.168] ([161.44.174.168]) by
	xfe-rtp-202.amer.cisco.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Mon, 17 Mar 2008 20:21:12 -0400
Message-ID: <47DF0B0E.40706@cisco.com>
Date: Mon, 17 Mar 2008 20:21:34 -0400
From: Paul Kyzivat <pkyzivat@cisco.com>
User-Agent: Thunderbird 2.0.0.12 (Windows/20080213)
MIME-Version: 1.0
To: Hadriel Kaplan <HKaplan@acmepacket.com>
References: <E6C2E8958BA59A4FB960963D475F7AC30BCA256DBB@mail.acmepacket.com>
	<47D96560.3070908@cisco.com>
	<023701c88846$7fea2a00$6401a8c0@china.huawei.com>
	<47DE9513.7070209@cisco.com>
	<E6C2E8958BA59A4FB960963D475F7AC30BCA3B861B@mail.acmepacket.com>
In-Reply-To: <E6C2E8958BA59A4FB960963D475F7AC30BCA3B861B@mail.acmepacket.com>
X-OriginalArrivalTime: 18 Mar 2008 00:21:12.0707 (UTC)
	FILETIME=[F8DD2D30:01C8888D]
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; l=1168; t=1205799675;
	x=1206663675; c=relaxed/simple; s=sjdkim3002;
	h=Content-Type:From:Subject:Content-Transfer-Encoding:MIME-Version;
	d=cisco.com; i=pkyzivat@cisco.com;
	z=From:=20Paul=20Kyzivat=20<pkyzivat@cisco.com>
	|Subject:=20Re=3A=20[Sip]=20Comment/question=20on=20draft-i
	etf-sip-body-handling-01.txt |Sender:=20;
	bh=FiHroGeHri68KB7X4j5UrxSdss2cdh8AUbElykifSTE=;
	b=BBpfdCHCofAa9OfseFSdelAKr5TfN8BwG2OKZAIdfJlSAU5jk5hGdvpfIi
	mdXSFtyNUC8gPS91mqZ6o8uedIITQP/JdMm/+58pHcmL5U0k9XofaohHCPkg
	KXDPaykvd0;
Authentication-Results: sj-dkim-3; header.From=pkyzivat@cisco.com; dkim=pass (
	sig from cisco.com/sjdkim3002 verified; ); 
Cc: "sip@ietf.org" <sip@ietf.org>
Subject: Re: [Sip] Comment/question on draft-ietf-sip-body-handling-01.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

I could be convinced that there should be some normative specification 
of the *minimum* message size that all sip clients and servers MUST be 
prepared to support. And perhaps it need not be the same for all kinds 
of nodes. It seems more important that middleboxes (whether proxies, 
SBCs, or whatever) not impose undue restrictions on the UAC and UAS.

But I don't think this is the right draft for it.\

	Paul

Hadriel Kaplan wrote:
> 
>> -----Original Message-----
>> From: Paul Kyzivat [mailto:pkyzivat@cisco.com]
>>
>> Spencer Dawkins wrote:
>>> Is it obvious to everyone what the proxy/UA/middlebox should return when
>>> presented with a header/body larger than $SOME_VALUE?
>> Well, 513 "Message Too Large" seems pretty clear.
> 
> Yeah, I don't think that's an issue.  The issue is more that the designers of those UA's/servers didn't take size into account, and thus always try the bigger size, and don't have an alternative mechanism when they get the 513. (and they don't remember the size restriction for other requests, so they keep doing it again and again and again...until they get blacklisted or throttled)
> 
> -hadriel
> 
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Mon Mar 17 22:07:50 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 6A9623A6CC1;
	Mon, 17 Mar 2008 22:07:50 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.174
X-Spam-Level: 
X-Spam-Status: No, score=-100.174 tagged_above=-999 required=5
	tests=[AWL=-0.360, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	FM_FORGED_GMAIL=0.622, HELO_MISMATCH_ORG=0.611, HTML_MESSAGE=0.001,
	RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id OTvlXOvCSvAM; Mon, 17 Mar 2008 22:07:49 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 5E79A3A6B43;
	Mon, 17 Mar 2008 22:07:49 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id D18983A6B43
	for <sip@core3.amsl.com>; Mon, 17 Mar 2008 22:07:47 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id CVY290YQhC2X for <sip@core3.amsl.com>;
	Mon, 17 Mar 2008 22:07:47 -0700 (PDT)
Received: from ag-out-0708.google.com (ag-out-0708.google.com [72.14.246.240])
	by core3.amsl.com (Postfix) with ESMTP id F02D43A68EC
	for <sip@ietf.org>; Mon, 17 Mar 2008 22:07:44 -0700 (PDT)
Received: by ag-out-0708.google.com with SMTP id 23so9493233agd.12
	for <sip@ietf.org>; Mon, 17 Mar 2008 22:05:28 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=gamma;
	h=domainkey-signature:received:received:message-id:date:from:sender:to:subject:cc:in-reply-to:mime-version:content-type:references:x-google-sender-auth;
	bh=7icV0XEUN369vw5BiypSFqg51/J2Pe01nm/eJQm1TP0=;
	b=QmCde4aUsZpFyZ4t58HuPxN0FpJGeudowCl8c4Zr52HHsWQ4S5ociXb+gSjPsmda+OaHO2PIDDLlher9dVEZ+uSGciHcaULlEzWoCgF4pztjStOlbUCzrfAd3BxEHC/UzYjRbEHIjfLYTUjgD2yK/JKToQy3j/uNoKP0W81egio=
DomainKey-Signature: a=rsa-sha1; c=nofws; d=gmail.com; s=gamma;
	h=message-id:date:from:sender:to:subject:cc:in-reply-to:mime-version:content-type:references:x-google-sender-auth;
	b=JMTl+EgOM9T9MOXqIo6gkbK14BUBnK4T6t1uB6fmGGjcX89kDhgqJcrp0klhwNG4DmDlSuzZtP4feyNs63ByuOyJrMmZ1H0RNPp/lmfidDaP4SQctq+xD+fkQkXRu7XP6uGu5vT/G563Bqj/CpdAxoGY+18IMvbgESD5gbnQBj4=
Received: by 10.101.69.10 with SMTP id w10mr669088ank.68.1205816715245;
	Mon, 17 Mar 2008 22:05:15 -0700 (PDT)
Received: by 10.100.249.19 with HTTP; Mon, 17 Mar 2008 22:05:15 -0700 (PDT)
Message-ID: <c164605b0803172205v7cffc3c7mc32ee40be8e2a4bd@mail.gmail.com>
Date: Mon, 17 Mar 2008 22:05:15 -0700
From: "Jason Fischl" <jason@counterpath.com>
To: "Dean Willis" <dean.willis@softarmor.com>
In-Reply-To: <BC5EF98E-8178-43E0-A57F-9BC8A1B90552@softarmor.com>
MIME-Version: 1.0
References: <B0495A1B-2677-4FCE-B718-3C48DCF5205B@softarmor.com>
	<092B2658AAB56A4D80836399A4C4703103D07C27@ASHEVS002.mcilink.com>
	<BC5EF98E-8178-43E0-A57F-9BC8A1B90552@softarmor.com>
X-Google-Sender-Auth: 06bdeb6a2a5703c7
Cc: IETF SIP List <sip@ietf.org>
Subject: Re: [Sip] The thing we're missing in the RFC 4474 and DTLS-SRTP
	discussion
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: multipart/mixed; boundary="===============0542776771=="
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

--===============0542776771==
Content-Type: multipart/alternative; 
	boundary="----=_Part_22203_28460899.1205816715222"

------=_Part_22203_28460899.1205816715222
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

On Thu, Mar 13, 2008 at 3:30 PM, Dean Willis <dean.willis@softarmor.com>
wrote:

>
> On Mar 13, 2008, at 3:27 PM, Dwight, Timothy M (Tim) wrote:
>
> > I don't understand the focus on PSTN gateways.  Is it believed that
> > only
> > PSTN gateways ever create URIs with numeric user parts?  Or that PSTN
> > gateways are particularly untrustworthy?  Neither seems reasonable to
> > me.
>
> Here's the good news. Sine there are very few (aka none)
> implementations of RFC 4474 in the field now, we might be able to
> argue that by providing a way to properly handle PSTN numbers at
> gateways BEFORE we get deployment lets us work around the problem.
>

Forgot to post this last week. The resiprocate (open source) sip stack has
supported RFC 4474 for several years now and has been deployed in a number
of commercial products including user agents, proxies and b2buas.

------=_Part_22203_28460899.1205816715222
Content-Type: text/html; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

<div class="gmail_quote">On Thu, Mar 13, 2008 at 3:30 PM, Dean Willis &lt;<a href="mailto:dean.willis@softarmor.com">dean.willis@softarmor.com</a>&gt; wrote:<br><blockquote class="gmail_quote" style="margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex;">
<div class="Ih2E3d"><br>
On Mar 13, 2008, at 3:27 PM, Dwight, Timothy M (Tim) wrote:<br>
<br>
&gt; I don&#39;t understand the focus on PSTN gateways. &nbsp;Is it believed that<br>
&gt; only<br>
&gt; PSTN gateways ever create URIs with numeric user parts? &nbsp;Or that PSTN<br>
&gt; gateways are particularly untrustworthy? &nbsp;Neither seems reasonable to<br>
&gt; me.<br>
<br>
</div>Here&#39;s the good news. Sine there are very few (aka none)<br>
implementations of RFC 4474 in the field now, we might be able to<br>
argue that by providing a way to properly handle PSTN numbers at<br>
gateways BEFORE we get deployment lets us work around the problem.<br></blockquote><div><br class="webkit-block-placeholder"></div><div>Forgot to post this last week. The resiprocate (open source) sip stack has supported RFC 4474 for several years now and has been deployed in a number of commercial products including user agents, proxies and b2buas.&nbsp;</div>
<div><br class="webkit-block-placeholder"></div><div><br class="webkit-block-placeholder"></div></div>

------=_Part_22203_28460899.1205816715222--

--===============0542776771==
Content-Type: text/plain; charset="us-ascii"
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip
--===============0542776771==--


From sip-bounces@ietf.org  Mon Mar 17 22:50:29 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 4D2CB28C426;
	Mon, 17 Mar 2008 22:50:29 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -101.053
X-Spam-Level: 
X-Spam-Status: No, score=-101.053 tagged_above=-999 required=5
	tests=[AWL=-0.616, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id LFWCMQEOSaEG; Mon, 17 Mar 2008 22:50:28 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 67B2A3A6EC7;
	Mon, 17 Mar 2008 22:50:28 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 20A6C28C137
	for <sip@core3.amsl.com>; Mon, 17 Mar 2008 22:50:27 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id Xicdi8q4B6Du for <sip@core3.amsl.com>;
	Mon, 17 Mar 2008 22:50:26 -0700 (PDT)
Received: from sj-iport-3.cisco.com (sj-iport-3.cisco.com [171.71.176.72])
	by core3.amsl.com (Postfix) with ESMTP id 4C4973A6EC7
	for <sip@ietf.org>; Mon, 17 Mar 2008 22:50:26 -0700 (PDT)
Received: from sj-dkim-2.cisco.com ([171.71.179.186])
	by sj-iport-3.cisco.com with ESMTP; 17 Mar 2008 22:48:09 -0700
Received: from sj-core-4.cisco.com (sj-core-4.cisco.com [171.68.223.138])
	by sj-dkim-2.cisco.com (8.12.11/8.12.11) with ESMTP id m2I5m9kU027841; 
	Mon, 17 Mar 2008 22:48:09 -0700
Received: from dwingwxp01 ([10.32.240.197])
	by sj-core-4.cisco.com (8.13.8/8.13.8) with ESMTP id m2I5m9f6018141;
	Tue, 18 Mar 2008 05:48:09 GMT
From: "Dan Wing" <dwing@cisco.com>
To: "'Jason Fischl'" <jason@counterpath.com>,
	"'Dean Willis'" <dean.willis@softarmor.com>
References: <B0495A1B-2677-4FCE-B718-3C48DCF5205B@softarmor.com><092B2658AAB56A4D80836399A4C4703103D07C27@ASHEVS002.mcilink.com><BC5EF98E-8178-43E0-A57F-9BC8A1B90552@softarmor.com>
	<c164605b0803172205v7cffc3c7mc32ee40be8e2a4bd@mail.gmail.com>
Date: Mon, 17 Mar 2008 22:48:08 -0700
Message-ID: <00b901c888bb$a564fce0$c5f0200a@cisco.com>
MIME-Version: 1.0
X-Mailer: Microsoft Office Outlook 11
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2900.3198
Thread-Index: AciItccM8A38LSocSg2oKHSAo8267QABahLA
In-Reply-To: <c164605b0803172205v7cffc3c7mc32ee40be8e2a4bd@mail.gmail.com>
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; l=463; t=1205819289; x=1206683289;
	c=relaxed/simple; s=sjdkim2002;
	h=Content-Type:From:Subject:Content-Transfer-Encoding:MIME-Version;
	d=cisco.com; i=dwing@cisco.com;
	z=From:=20=22Dan=20Wing=22=20<dwing@cisco.com>
	|Subject:=20RE=3A=20[Sip]=20The=20thing=20we're=20missing=2
	0in=20the=20RFC=204474=20and=20DTLS-SRTPdiscussion |Sender:=20;
	bh=nuf71Tc01R2AjcYA4ADlVBs+dN9RqaBD3XvLXy9KW3g=;
	b=uDnEeTsX9n8ZLnl0+NsgTqJVHblmfQrHgRxbw97k9svhsa1ZWFb8mQUgWd
	ZPNq1XQGVg7rjghhcNZq6u7hy2mreCzPE81gV8SMNWSkJi61GgILk1cFuQM6
	o2dszwwGKr;
Authentication-Results: sj-dkim-2; header.From=dwing@cisco.com; dkim=pass (
	sig from cisco.com/sjdkim2002 verified; ); 
Cc: 'IETF SIP List' <sip@ietf.org>
Subject: Re: [Sip] The thing we're missing in the RFC 4474 and
	DTLS-SRTPdiscussion
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


> Forgot to post this last week. The resiprocate (open source) 
> sip stack has supported RFC 4474 for several years now and 
> has been deployed in a number of commercial products 
> including user agents, proxies and b2buas. 

Excellent.  Is there information regarding its success with
E.164 numbers, SBCs, and user's understanding of an E.164 
with a domain name stuck after it?  Do those UAs, which
support RFC4474, display the domain name?

-d

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Tue Mar 18 04:32:10 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 3CD3B3A6EF2;
	Tue, 18 Mar 2008 04:32:10 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.611
X-Spam-Level: 
X-Spam-Status: No, score=-100.611 tagged_above=-999 required=5
	tests=[AWL=-0.174, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id emklsUuAfPvj; Tue, 18 Mar 2008 04:32:09 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 377F43A6EB6;
	Tue, 18 Mar 2008 04:32:09 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id C139F3A6EB9
	for <sip@core3.amsl.com>; Tue, 18 Mar 2008 04:32:07 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id wL7bsQWkqBYh for <sip@core3.amsl.com>;
	Tue, 18 Mar 2008 04:32:06 -0700 (PDT)
Received: from mailgate.siemenscomms.co.uk (mailgate.siemenscomms.co.uk
	[195.171.110.225])
	by core3.amsl.com (Postfix) with ESMTP id B19D53A6EB6
	for <sip@ietf.org>; Tue, 18 Mar 2008 04:32:06 -0700 (PDT)
Received: from GBNTHT12009MSX.gb002.siemens.net ([137.223.219.235])
	by siemenscomms.co.uk (PMDF V6.3-x14 #31430)
	with ESMTP id <0JXX00D6BBVWM2@siemenscomms.co.uk> for sip@ietf.org; Tue,
	18 Mar 2008 11:29:41 +0000 (GMT)
Date: Tue, 18 Mar 2008 11:12:27 +0000
From: "Elwell, John" <john.elwell@siemens.com>
In-reply-to: A
	<CA9998CD4A020D418654FCDEF4E707DF05066D44@esealmw113.eemea.ericsson.se>
To: Christer Holmberg <christer.holmberg@ericsson.com>,
	IETF SIP List <sip@ietf.org>
Message-id: <0D5F89FAC29E2C41B98A6A762007F5D07DBA22@GBNTHT12009MSX.gb002.siemens.net>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft Exchange V6.5
Thread-Topic: [Sip] SBC impact on RFC 4474
Thread-Index: AciFUP9lLrD8XODmRFSi8pIKh2UqhwAIbcQnABVSg4AAmyCu4AAtEgFg
Content-class: urn:content-classes:message
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
References: <0D5F89FAC29E2C41B98A6A762007F5D07DB09A@GBNTHT12009MSX.gb002.siemens.net>
	A
	<CA9998CD4A020D418654FCDEF4E707DF046C7675@esealmw113.eemea.ericsson.se>
	<0D5F89FAC29E2C41B98A6A762007F5D07DB22C@GBNTHT12009MSX.gb002.siemens.net>
	A
	<CA9998CD4A020D418654FCDEF4E707DF05066D44@esealmw113.eemea.ericsson.se>
Subject: Re: [Sip] SBC impact on RFC 4474
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Christer,

No, I meant SDP should not be modified for the purpose of NAT traversal if =
ICE is used. It seems it can still be changed for other purposes.

John

> -----Original Message-----
> From: Christer Holmberg [mailto:christer.holmberg@ericsson.com] =

> Sent: 17 March 2008 13:42
> To: Elwell, John; IETF SIP List
> Subject: RE: [Sip] SBC impact on RFC 4474
> =

> =

> Hi John,
> =

> My comment was based on your "should not be applicable with =

> ICE" statement, and they way I understood it was that SDP =

> would not be modified if ICE is used.
> =

> Maybe I missunderstood what you were trying to say.
> =

> Regards,
> =

> Christer
> =

> -----Original Message-----
> From: Elwell, John [mailto:john.elwell@siemens.com] =

> Sent: 14. maaliskuuta 2008 13:41
> To: Christer Holmberg; IETF SIP List
> Subject: RE: [Sip] SBC impact on RFC 4474
> =

> Christer,
> =

> I think I already captured that in the statement "Other =

> reasons are topology hiding, media shaping, etc.. Such =

> modification breaks RFC
> 4474 signatures."
> If you think that is insufficient, please elaborate reasons, =

> so we get a better understanding of the scope of the problem.
> =

> John =

> =

> > -----Original Message-----
> > From: Christer Holmberg [mailto:christer.holmberg@ericsson.com]
> > Sent: 14 March 2008 01:29
> > To: Elwell, John; IETF SIP List
> > Subject: VS: [Sip] SBC impact on RFC 4474
> > =

> > Hi,
> >  =

> > SBCs may modify SDP even if ICE is used.
> >  =

> > Regards,
> >  =

> > Christer
> > =

> > ________________________________
> > =

> > L=E4hett=E4j=E4: sip-bounces@ietf.org puolesta: Elwell, John
> > L=E4hetetty: to 13.3.2008 22:27
> > Vastaanottaja: IETF SIP List
> > Aihe: [Sip] SBC impact on RFC 4474
> > =

> > =

> > =

> > One of the questions raised at the end of the SIP session today was =

> > the
> > following:
> > =

> > "Are there any useful steps for dealing with SDP modification by =

> > SBCs?"
> > =

> > SBCs modify SDP (and perhaps other signed information in SIP =

> > requests).
> > One of the reasons is NAT traversal (should not be applicable with =

> > ICE, but I don't think we can always assume that ICE is used).
> > Other reasons
> > are topology hiding, media shaping, etc.. Such modification =

> breaks RFC
> > 4474 signatures.
> > =

> > SBCs also sometimes change From URIs in SIP requests, as =

> discussed in =

> > draft-kaplan-sip-uris-change-00. We have taken this into account =

> > during our various discussions (in the WG and off-line) on the =

> > telephone number problem, so I want to keep that separate. For this =

> > thread, assume an "email-style" (or non-phone-number-based) =

> From URI =

> > that is not modified by an SBC. Focus instead on =

> modification of other =

> > signed information.
> > =

> > I would like to hear views on the following:
> > - The degree to which this is a problem.
> > - Existing solution proposals:
> >     o draft-wing-sip-identity-media-02
> >     o draft-fischer-sip-e2e-sec-media-00
> > - Other solution proposals.
> > =

> > John
> > =

> > _______________________________________________
> > Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> > This list is for NEW development of the core SIP Protocol Use =

> > sip-implementors@cs.columbia.edu for questions on current sip Use =

> > sipping@ietf.org for new developments on the application of sip
> > =

> > =

> > =

> =

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Tue Mar 18 05:37:00 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 4629728C5AE;
	Tue, 18 Mar 2008 05:37:00 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.62
X-Spam-Level: 
X-Spam-Status: No, score=-100.62 tagged_above=-999 required=5
	tests=[AWL=-0.183, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id EYBsMK8eQVVh; Tue, 18 Mar 2008 05:36:59 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id F213A28C565;
	Tue, 18 Mar 2008 05:36:58 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 70CC728C512
	for <sip@core3.amsl.com>; Tue, 18 Mar 2008 05:36:57 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id QWMAxVfN4Wbc for <sip@core3.amsl.com>;
	Tue, 18 Mar 2008 05:36:52 -0700 (PDT)
Received: from MAILSRV01.cedarpointcom.com (mail.cedarpointcom.com
	[67.151.79.70]) by core3.amsl.com (Postfix) with ESMTP id DB9FF28C56B
	for <sip@ietf.org>; Tue, 18 Mar 2008 05:36:51 -0700 (PDT)
Received: from MAIL02.cedarpointcom.com ([192.168.1.222]) by
	MAILSRV01.cedarpointcom.com with Microsoft SMTPSVC(6.0.3790.3959); 
	Tue, 18 Mar 2008 08:34:34 -0400
X-MIMEOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Tue, 18 Mar 2008 08:34:34 -0400
Message-ID: <59184B4E920E854DA8ACF8E44917D49F020B9627@MAIL02.cedarpointcom.com>
In-Reply-To: <0D4E483A0E6E0A46861409E5D6C2011CAF56D4@sea02-mxc01.citel.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] I-D ACTION:draft-ietf-sip-answermode-06.txt 
Thread-Index: Acfv+Y6i+G392FlWRVa+hld0iwUSXQDu+YcQJU9MnzA=
References: <E1IT1HC-00041o-A2@stiedprstage1.ietf.org>
	<0D4E483A0E6E0A46861409E5D6C2011CAF56D4@sea02-mxc01.citel.com>
From: "Sumit Garg" <sgarg@cedarpointcom.com>
To: <sip@ietf.org>
X-OriginalArrivalTime: 18 Mar 2008 12:34:34.0484 (UTC)
	FILETIME=[6BF78340:01C888F4]
Subject: Re: [Sip] I-D ACTION:draft-ietf-sip-answermode-06.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

 
Why exactly do we require these additional (Answer-Mode and
Priv-Answer-Mode) headers? Couldn't this have been done by extending the
Request-Disposition header as defined in RFC3841 (which this draft
references..). Are there any specific advantages of having new headers
rather than additional directives for Request-Disposition?

-Sumit


"The reasonable man adapts himself to the world; the unreasonable one
persists in trying to adapt the world to himself. Therefore all progress
depends on the unreasonable man."
-- George Bernard Shaw

-----Original Message-----
From: Steve Langstaff [mailto:steve.langstaff@citel.com] 
Sent: Monday, September 10, 2007 10:20 AM
To: sip@ietf.org
Subject: RE: [Sip] I-D ACTION:draft-ietf-sip-answermode-06.txt 

At the last call of this document I raised the following issues:

SRL> Section 4.3.2 states:
SRL>
SRL>    The Answer-Mode and Priv-Answer-Mode header fields have
equivalent
SRL>    functions, except that Priv-Answer-Mode requests a higher level
of
SRL>    privilege in granting the answering mode specified by the
request.
SRL> 
SRL> Would it not make sense to have a single header that performs both 
SRL> of these equivalent functions, using a parameter (e.g. 'high' or
'level=high') to distinguish between the two?
SRL> 
SRL> This might have the following benefits:
SRL> 
SRL> 1) The document would be smaller.
SRL> 2) The implementation may be simpler.
SRL> 3) If the need for more than just two levels of privilege were
found in the future then this could be easily extended, rather than
following the current pattern of needing another header, e.g.
Really-High-Priv-Answer-Mode:


My questions were answered by Dean, but I now notice the following in
the current draft:

   "4.1.  Procedures at User Agent Clients (UAC)

    4.1.1.  All Requests

       A UA supporting the Answer-Mode and Priv-Answer-Mode header
fields
       SHOULD indicate its support by including an option tag of
       "answermode" in the Supported header field of all requests it
sends."

Other sections also mention this single option tag.
 
Would it not make more sense to use two separate option tags, e.g.
"answer-mode" and "priv-answer-mode"? That would seem to be more
orthogonal to me if this scheme were to be open to extension in the
future? 



_______________________________________________
Sip mailing list  https://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol Use
sip-implementors@cs.columbia.edu for questions on current sip Use
sipping@ietf.org for new developments on the application of sip
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Tue Mar 18 06:30:41 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id ADF7B28C5FF;
	Tue, 18 Mar 2008 06:30:41 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.797
X-Spam-Level: 
X-Spam-Status: No, score=-100.797 tagged_above=-999 required=5
	tests=[AWL=-0.360, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id fOeAXw+7KiLr; Tue, 18 Mar 2008 06:30:34 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id D33C728C4D8;
	Tue, 18 Mar 2008 06:30:34 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 21EAD3A6886
	for <sip@core3.amsl.com>; Mon, 17 Mar 2008 00:07:38 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id Lsv8pTS5-zow for <sip@core3.amsl.com>;
	Mon, 17 Mar 2008 00:07:36 -0700 (PDT)
Received: from mail.uct.ac.za (mail.uct.ac.za [137.158.153.100])
	by core3.amsl.com (Postfix) with ESMTP id 361A43A6A3A
	for <sip@ietf.org>; Mon, 17 Mar 2008 00:07:34 -0700 (PDT)
Received: from crg31.ee.uct.ac.za ([137.158.125.231])
	by mail.uct.ac.za with esmtp (Exim 4.44 (FreeBSD))
	id 1Jb9PJ-000KEo-BV; Mon, 17 Mar 2008 09:05:17 +0200
Message-ID: <47DE1899.8060609@crg.ee.uct.ac.za>
Date: Mon, 17 Mar 2008 09:07:05 +0200
From: Richard Good <rgood@crg.ee.uct.ac.za>
User-Agent: Thunderbird 2.0.0.12 (X11/20080227)
MIME-Version: 1.0
To: "Elwell, John" <john.elwell@siemens.com>
References: <47DA4E02.8000502@crg.ee.uct.ac.za> <47DAA702.1060600@cisco.com>
	<0D5F89FAC29E2C41B98A6A762007F5D07DB458@GBNTHT12009MSX.gb002.siemens.net>
In-Reply-To: <0D5F89FAC29E2C41B98A6A762007F5D07DB458@GBNTHT12009MSX.gb002.siemens.net>
X-Mailman-Approved-At: Tue, 18 Mar 2008 06:30:33 -0700
Cc: sip@ietf.org, Paul Kyzivat <pkyzivat@cisco.com>
Subject: Re: [Sip] 302 Support in RFC 3665
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Morning,

Thanks for the speedy responses.

I see your point about there being no To Tag in the F4 INVITE and hence 
a new dialog is formed when the dialog forming response is sent.  I was 
just confused by the fact that the Call ID and From tag were identical 
for INVITE F4 and the 302.

My main issue is one of implementation - when I receive a 302 response 
can I create an entirely new INVITE with the address in the 302 Contact  
field as the Request URI - or must I create an INVITE within the same 
session? From your responses I conclude that I can create a brand new 
INVITE without contravening the RFC.

Thanks and Regards,
Richard.



Elwell, John wrote:
> Richard,
>
> Notwithstanding what Paul sent, I am confused by your original question,
> because INVITE F4 does NOT contain a To tag, so there is no dialog. The
> first dialog-forming response leads to a different dialog, because the
> To tag is different from that in the 302.
>
> John
>
>   
>> -----Original Message-----
>> From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On 
>> Behalf Of Paul Kyzivat
>> Sent: 14 March 2008 16:26
>> To: Richard Good
>> Cc: sip@ietf.org
>> Subject: Re: [Sip] 302 Support in RFC 3665
>>
>>
>>
>> Richard Good wrote:
>>     
>>> Hi,
>>>
>>> I have a query regarding the 302 (Temporarily Moved) 
>>>       
>> message flow shown 
>>     
>>> in RFC 3665.
>>>
>>> Essentially if a SIP client receives a 302 message in 
>>>       
>> response to an 
>>     
>>> INVITE  it should ACK this message and then using the 
>>>       
>> address in the 
>>     
>>> contact field send a new INVITE request.
>>>
>>> In the message flow shown in RFC 3665 (see section 3.6. Session via 
>>> Redirect and Proxy Servers with SDP in ACK) the new INVITE 
>>>       
>> request has 
>>     
>>> the same To field, From field, To Tag and Call ID - the 
>>>       
>> Request URI uses 
>>     
>>> the address specified in the Contact field of the 302 response.  
>>> Essentially this new INVITE is part of the same dialog but has a 
>>> different Request URI.
>>>
>>> My questions are: Is the 302 response not a final response? 
>>>       
>> Does it not 
>>     
>>> end the dialog? Shouldn't the new INVITE have new Call ID, 
>>>       
>> tags etc. and 
>>     
>>> shouldn't the address from the Contact field be in the 
>>>       
>> Request URI and 
>>     
>>> To field of the new INVITE request?
>>>       
>> See 3261 section 8.1.3.4. Using the same To, From, and Call-Id is 
>> *recommended*, but not required.
>>
>> Note that if the 3xx recursion is done by a proxy along the 
>> path it must 
>> be this way, so it seems harmless for the UAC to do as a proxy would.
>>
>> OTOH, there are cases when it would be good for the To-URI to be 
>> updated. For instance, if a UAC counts on a proxy at the originating 
>> side to expand certain URIs, such as speed dial numbers, it would be 
>> good to do so by redirection, and for the UAC to put the 
>> expanded number 
>> into the To-URI, so that the callee will have a clue of where 
>> the call 
>> was intended to go. But doing this seems to require some 
>> indication that 
>> this is intended - e.g. a special 3xx code for the purpose.
>>
>> 	Paul
>> _______________________________________________
>> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
>> This list is for NEW development of the core SIP Protocol
>> Use sip-implementors@cs.columbia.edu for questions on current sip
>> Use sipping@ietf.org for new developments on the application of sip
>>
>>     

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Tue Mar 18 10:08:15 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id BCCFE3A6F3F;
	Tue, 18 Mar 2008 10:08:15 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.797
X-Spam-Level: 
X-Spam-Status: No, score=-100.797 tagged_above=-999 required=5
	tests=[AWL=-0.360, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 1k9-tSzBXnBe; Tue, 18 Mar 2008 10:08:13 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 0EF7428C320;
	Tue, 18 Mar 2008 10:08:05 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id F23E528C320
	for <sip@core3.amsl.com>; Tue, 18 Mar 2008 10:07:58 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id PlsB6EONwXaz for <sip@core3.amsl.com>;
	Tue, 18 Mar 2008 10:07:55 -0700 (PDT)
Received: from nylon.softarmor.com (nylon.softarmor.com [66.135.38.164])
	by core3.amsl.com (Postfix) with ESMTP id AD89F28C619
	for <sip@ietf.org>; Tue, 18 Mar 2008 10:06:14 -0700 (PDT)
Received: from [206.176.144.210] (206-176-144-210.waymark.net
	[206.176.144.210]) (authenticated bits=0)
	by nylon.softarmor.com (8.13.8/8.13.8/Debian-3) with ESMTP id
	m2IH3iSG004256
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NOT);
	Tue, 18 Mar 2008 12:03:45 -0500
Message-ID: <47DFF5EA.50802@softarmor.com>
Date: Tue, 18 Mar 2008 12:03:38 -0500
From: Dean Willis <dean.willis@softarmor.com>
User-Agent: Icedove 1.5.0.14pre (X11/20080208)
MIME-Version: 1.0
To: Sumit Garg <sgarg@cedarpointcom.com>
References: <E1IT1HC-00041o-A2@stiedprstage1.ietf.org>	<0D4E483A0E6E0A46861409E5D6C2011CAF56D4@sea02-mxc01.citel.com>
	<59184B4E920E854DA8ACF8E44917D49F020B9627@MAIL02.cedarpointcom.com>
In-Reply-To: <59184B4E920E854DA8ACF8E44917D49F020B9627@MAIL02.cedarpointcom.com>
X-Enigmail-Version: 0.94.2.0
Cc: sip@ietf.org
Subject: Re: [Sip] I-D ACTION:draft-ietf-sip-answermode-06.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Sumit Garg wrote:
>  
> Why exactly do we require these additional (Answer-Mode and
> Priv-Answer-Mode) headers? Couldn't this have been done by extending the
> Request-Disposition header as defined in RFC3841 (which this draft
> references..). Are there any specific advantages of having new headers
> rather than additional directives for Request-Disposition?

It seemed to many of us that RFC 3841's Request-Disposition header was
about request routing in a proxy, not feature-invocation at a user
agent. This position is supported by the following excerpt from RFC 3841:

4.  Overview of Operation

   When a caller sends a request, it can optionally include new header
   fields which request certain handling at a server.  These preferences
   fall into two categories.  The first category, called request
   handling preferences, is carried in the Request-Disposition header
   field.  It describes specific behavior that is desired at a server.
   Request handling preferences include whether the caller wishes the
   server to proxy or redirect, and whether sequential or parallel
   search is desired.  These preferences can be applied at every proxy
   or redirect server on the call signaling path.


That said, there are myriad ways that the functionality of Answer-Mode
could be encoded in a SIP request.

At the heart of the question lies the "What is (or are) the extension
model(s) of SIP? And if there are more than one, how do we know which to
use to provide some desired behavior?

The approach taken by Answer-Mode treats SIP as an application protocol,
where knowlegde of the application's state or function is encoded
directly into the protocol, and new application function requires a
protocol extension.

This may or may not be "right", but it is the oldest of the extension
modalities I have observed being used in SIP. Request-Disposition is
arguably eitehr another application of this extension model, or is
perhaps yet another category -- a change to SIP that impacts the core
operation of the protocol at a level below that of the application. As
documented, Request-Disposition actually impacts the request-routing
logic in a matter that seems to be completely independent of the
application usage.

Another alternative, using the "SIP as transport" modality, would have
been to put the Answer-Mode function into the SDP.

The third modality, "SIP as a session control protocol", is ruled out
because in typical use, the alerting phase occurs BEFORE the
SIP-initiated-session is established. So unless we want to change the
alerting process to be post session-establishment, we can't affect
alerting by changing the session protocol.

--
Dena
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Tue Mar 18 10:57:05 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 40A4828C62F;
	Tue, 18 Mar 2008 10:57:05 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.707
X-Spam-Level: 
X-Spam-Status: No, score=-100.707 tagged_above=-999 required=5
	tests=[AWL=-0.270, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id Vu8kmlYkpwTQ; Tue, 18 Mar 2008 10:56:59 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 86B7C3A6F33;
	Tue, 18 Mar 2008 10:56:58 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 0199F3A6CBF
	for <sip@core3.amsl.com>; Tue, 18 Mar 2008 10:56:57 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id MoOkk6gn9PQz for <sip@core3.amsl.com>;
	Tue, 18 Mar 2008 10:56:56 -0700 (PDT)
Received: from out002.iad.hostedmail.net (out002.iad.hostedmail.net
	[209.225.56.24])
	by core3.amsl.com (Postfix) with ESMTP id 5BE723A6AB4
	for <sip@ietf.org>; Tue, 18 Mar 2008 10:56:40 -0700 (PDT)
Received: from ATL1VEXC020.usdom003.tco.tc ([10.158.7.31]) by
	out002.iad.hostedmail.net with Microsoft SMTPSVC(6.0.3790.3959);
	Tue, 18 Mar 2008 13:54:22 -0400
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Tue, 18 Mar 2008 13:54:22 -0400
Message-ID: <BBE61D1553D8A34F812FF87377B2935F02D06574@ATL1VEXC020.usdom003.tco.tc>
In-Reply-To: <47DF0B0E.40706@cisco.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] Comment/question on draft-ietf-sip-body-handling-01.txt
Thread-Index: AciIjf5xXKjmaXdFRmqGF+QoRNMkDAAkKR6Q
From: "Brett Tate" <brett@broadsoft.com>
To: "Paul Kyzivat" <pkyzivat@cisco.com>,
	"Hadriel Kaplan" <HKaplan@acmepacket.com>
X-OriginalArrivalTime: 18 Mar 2008 17:54:22.0225 (UTC)
	FILETIME=[18C07010:01C88921]
Cc: sip@ietf.org
Subject: Re: [Sip] Comment/question on draft-ietf-sip-body-handling-01.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

> I could be convinced that there should be some normative 
> specification of the *minimum* message size that all sip 
> clients and servers MUST be prepared to support.

RFC 3261 section 18.1.1 currently provides a normative minimum:
"However, implementations MUST be able to handle messages up to the
maximum datagram packet size.  For UDP, this size is 65,535 bytes,
including IP and UDP headers."

Are devices actually exceeding the minimum required by RFC 3261?  Or are
vendors interpreting "handle" as though it is valid to return failure
responses because of size even though less than the normative minimum to
handle?
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Tue Mar 18 11:13:40 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 6963328C5FE;
	Tue, 18 Mar 2008 11:13:40 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.557
X-Spam-Level: 
X-Spam-Status: No, score=-100.557 tagged_above=-999 required=5
	tests=[AWL=-0.120, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id jOpnuNVANv4X; Tue, 18 Mar 2008 11:13:39 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 441503A6DAD;
	Tue, 18 Mar 2008 11:13:39 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id BF4683A6881
	for <sip@core3.amsl.com>; Tue, 18 Mar 2008 11:13:38 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id l4DZZwwEb6h2 for <sip@core3.amsl.com>;
	Tue, 18 Mar 2008 11:13:35 -0700 (PDT)
Received: from etmail.acmepacket.com (etmail.acmepacket.com [216.41.24.6])
	by core3.amsl.com (Postfix) with ESMTP id D6B273A6870
	for <sip@ietf.org>; Tue, 18 Mar 2008 11:13:34 -0700 (PDT)
Received: from mail.acmepacket.com (216.41.24.7) by etmail.acmepacket.com
	(216.41.24.6) with Microsoft SMTP Server (TLS) id 8.1.240.5;
	Tue, 18 Mar 2008 14:10:56 -0400
Received: from mail.acmepacket.com ([216.41.24.7]) by mail.acmepacket.com
	([216.41.24.7]) with mapi; Tue, 18 Mar 2008 14:10:56 -0400
From: Hadriel Kaplan <HKaplan@acmepacket.com>
To: Brett Tate <brett@broadsoft.com>, Paul Kyzivat <pkyzivat@cisco.com>
Date: Tue, 18 Mar 2008 14:10:00 -0400
Thread-Topic: [Sip] Comment/question on draft-ietf-sip-body-handling-01.txt
Thread-Index: AciIjf5xXKjmaXdFRmqGF+QoRNMkDAAkKR6QAAC0+1A=
Message-ID: <E6C2E8958BA59A4FB960963D475F7AC30BCA43E265@mail.acmepacket.com>
References: <47DF0B0E.40706@cisco.com>
	<BBE61D1553D8A34F812FF87377B2935F02D06574@ATL1VEXC020.usdom003.tco.tc>
In-Reply-To: <BBE61D1553D8A34F812FF87377B2935F02D06574@ATL1VEXC020.usdom003.tco.tc>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
acceptlanguage: en-US
MIME-Version: 1.0
Cc: "sip@ietf.org" <sip@ietf.org>
Subject: Re: [Sip] Comment/question on draft-ietf-sip-body-handling-01.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org



> -----Original Message-----
> From: Brett Tate [mailto:brett@broadsoft.com]
> Sent: Tuesday, March 18, 2008 1:54 PM
> To: Paul Kyzivat; Hadriel Kaplan
> Cc: sip@ietf.org
> Subject: RE: [Sip] Comment/question on draft-ietf-sip-body-handling-01.txt
>
> > I could be convinced that there should be some normative
> > specification of the *minimum* message size that all sip
> > clients and servers MUST be prepared to support.
>
> RFC 3261 section 18.1.1 currently provides a normative minimum:
> "However, implementations MUST be able to handle messages up to the
> maximum datagram packet size.  For UDP, this size is 65,535 bytes,
> including IP and UDP headers."
>
> Are devices actually exceeding the minimum required by RFC 3261?

Yes.  Some folks think >1MB is ok.  I think they're nuts. :)

> Or are
> vendors interpreting "handle" as though it is valid to return failure
> responses because of size even though less than the normative minimum to
> handle?

Yes.  That section of 3261 is about messages - it says nothing about bodies.  Some devices reject requests with bodies that exceed a length, where that length is less than the full 64k for the whole message.  For example, one of my companies' products will reject a SIP message with an overall body bigger than 32KB by default.  It's configurable, but I think we're compliant to reject such by default.

-hadriel
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Tue Mar 18 11:29:49 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id EFC9528C5F7;
	Tue, 18 Mar 2008 11:29:49 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.559
X-Spam-Level: 
X-Spam-Status: No, score=-100.559 tagged_above=-999 required=5
	tests=[AWL=-0.122, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 9BF0nyw7XGlT; Tue, 18 Mar 2008 11:29:49 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id E665F3A6900;
	Tue, 18 Mar 2008 11:29:48 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 1EB6F3A67F6
	for <sip@core3.amsl.com>; Tue, 18 Mar 2008 11:29:47 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 7I5tWORVqnVk for <sip@core3.amsl.com>;
	Tue, 18 Mar 2008 11:29:45 -0700 (PDT)
Received: from MAILSRV01.cedarpointcom.com (mail.cedarpointcom.com
	[67.151.79.70]) by core3.amsl.com (Postfix) with ESMTP id 9B5DF28C5F7
	for <sip@ietf.org>; Tue, 18 Mar 2008 11:29:45 -0700 (PDT)
Received: from MAIL02.cedarpointcom.com ([192.168.1.222]) by
	MAILSRV01.cedarpointcom.com with Microsoft SMTPSVC(6.0.3790.3959); 
	Tue, 18 Mar 2008 14:27:27 -0400
X-MIMEOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Tue, 18 Mar 2008 14:27:28 -0400
Message-ID: <59184B4E920E854DA8ACF8E44917D49F020B97FB@MAIL02.cedarpointcom.com>
In-Reply-To: <47DFF5EA.50802@softarmor.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] I-D ACTION:draft-ietf-sip-answermode-06.txt
Thread-Index: AciJGg4Wdd48UTmzRzO+LHqQJfcjXwAC0cjw
References: <E1IT1HC-00041o-A2@stiedprstage1.ietf.org>	<0D4E483A0E6E0A46861409E5D6C2011CAF56D4@sea02-mxc01.citel.com>
	<59184B4E920E854DA8ACF8E44917D49F020B9627@MAIL02.cedarpointcom.com>
	<47DFF5EA.50802@softarmor.com>
From: "Sumit Garg" <sgarg@cedarpointcom.com>
To: "Dean Willis" <dean.willis@softarmor.com>
X-OriginalArrivalTime: 18 Mar 2008 18:27:27.0965 (UTC)
	FILETIME=[B85850D0:01C88925]
Cc: sip@ietf.org
Subject: Re: [Sip] I-D ACTION:draft-ietf-sip-answermode-06.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Thanks...I wasn't exactly convinced but I finally found the answer in
Section 9.1 of 3841, which put all my (further)
questions to rest:

The set of request disposition directives is not extensible on
purpose.  This is to avoid a proliferation of new extensions to SIP
that are "tunneled" through this header field.

 
-Sumit

"The reasonable man adapts himself to the world; the unreasonable one
persists in trying to adapt the world to himself. Therefore all progress
depends on the unreasonable man."
-- George Bernard Shaw

-----Original Message-----
From: Dean Willis [mailto:dean.willis@softarmor.com] 
Sent: Tuesday, March 18, 2008 1:04 PM
To: Sumit Garg
Cc: sip@ietf.org
Subject: Re: [Sip] I-D ACTION:draft-ietf-sip-answermode-06.txt

Sumit Garg wrote:
>  
> Why exactly do we require these additional (Answer-Mode and
> Priv-Answer-Mode) headers? Couldn't this have been done by extending 
> the Request-Disposition header as defined in RFC3841 (which this draft

> references..). Are there any specific advantages of having new headers

> rather than additional directives for Request-Disposition?

It seemed to many of us that RFC 3841's Request-Disposition header was
about request routing in a proxy, not feature-invocation at a user
agent. This position is supported by the following excerpt from RFC
3841:

4.  Overview of Operation

   When a caller sends a request, it can optionally include new header
   fields which request certain handling at a server.  These preferences
   fall into two categories.  The first category, called request
   handling preferences, is carried in the Request-Disposition header
   field.  It describes specific behavior that is desired at a server.
   Request handling preferences include whether the caller wishes the
   server to proxy or redirect, and whether sequential or parallel
   search is desired.  These preferences can be applied at every proxy
   or redirect server on the call signaling path.


That said, there are myriad ways that the functionality of Answer-Mode
could be encoded in a SIP request.

At the heart of the question lies the "What is (or are) the extension
model(s) of SIP? And if there are more than one, how do we know which to
use to provide some desired behavior?

The approach taken by Answer-Mode treats SIP as an application protocol,
where knowlegde of the application's state or function is encoded
directly into the protocol, and new application function requires a
protocol extension.

This may or may not be "right", but it is the oldest of the extension
modalities I have observed being used in SIP. Request-Disposition is
arguably eitehr another application of this extension model, or is
perhaps yet another category -- a change to SIP that impacts the core
operation of the protocol at a level below that of the application. As
documented, Request-Disposition actually impacts the request-routing
logic in a matter that seems to be completely independent of the
application usage.

Another alternative, using the "SIP as transport" modality, would have
been to put the Answer-Mode function into the SDP.

The third modality, "SIP as a session control protocol", is ruled out
because in typical use, the alerting phase occurs BEFORE the
SIP-initiated-session is established. So unless we want to change the
alerting process to be post session-establishment, we can't affect
alerting by changing the session protocol.

--
Dena
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Tue Mar 18 12:34:50 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id DD67D3A6F51;
	Tue, 18 Mar 2008 12:34:50 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.677
X-Spam-Level: 
X-Spam-Status: No, score=-100.677 tagged_above=-999 required=5
	tests=[AWL=-0.240, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id rYiCPZNlVKFQ; Tue, 18 Mar 2008 12:34:50 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id E58D53A6A47;
	Tue, 18 Mar 2008 12:34:49 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 46A9C3A6D8B
	for <sip@core3.amsl.com>; Tue, 18 Mar 2008 12:34:48 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id W0z8wldd3gSH for <sip@core3.amsl.com>;
	Tue, 18 Mar 2008 12:34:47 -0700 (PDT)
Received: from QMTA01.emeryville.ca.mail.comcast.net
	(qmta01.emeryville.ca.mail.comcast.net [76.96.30.16])
	by core3.amsl.com (Postfix) with ESMTP id 1477A3A6A47
	for <sip@ietf.org>; Tue, 18 Mar 2008 12:34:46 -0700 (PDT)
Received: from OMTA03.emeryville.ca.mail.comcast.net ([76.96.30.27])
	by QMTA01.emeryville.ca.mail.comcast.net with comcast
	id 2jVC1Z0020b6N64A100d00; Tue, 18 Mar 2008 19:31:34 +0000
Received: from dragon.ariadne.com ([76.19.174.1])
	by OMTA03.emeryville.ca.mail.comcast.net with comcast
	id 2jYU1Z00602AVH08P00000; Tue, 18 Mar 2008 19:32:30 +0000
X-Authority-Analysis: v=1.0 c=1 a=txBfSBZZiUKg0Md51YUA:9
	a=oneN2YFXxDzcFYOLwQoA:7 a=pMWJjJpbDmqSX2XQqLesjxIRXpsA:4
	a=HwvHyInW8OUA:10 a=8y7tGHue6YMA:10
Received: from dragon.ariadne.com (dragon.ariadne.com [127.0.0.1])
	by dragon.ariadne.com (8.12.8/8.12.8) with ESMTP id m2IJWSm4006155
	for <sip@ietf.org>; Tue, 18 Mar 2008 14:32:28 -0500
Received: (from worley@localhost)
	by dragon.ariadne.com (8.12.8/8.12.8/Submit) id m2IJWS6J006151;
	Tue, 18 Mar 2008 14:32:28 -0500
Date: Tue, 18 Mar 2008 14:32:28 -0500
Message-Id: <200803181932.m2IJWS6J006151@dragon.ariadne.com>
To: sip@ietf.org
From: Dale.Worley@comcast.net
In-reply-to: <E6C2E8958BA59A4FB960963D475F7AC30BCA43E265@mail.acmepacket.com>
	(HKaplan@acmepacket.com)
References: <47DF0B0E.40706@cisco.com>
	<BBE61D1553D8A34F812FF87377B2935F02D06574@ATL1VEXC020.usdom003.tco.tc>
	<E6C2E8958BA59A4FB960963D475F7AC30BCA43E265@mail.acmepacket.com>
Subject: Re: [Sip] Comment/question on draft-ietf-sip-body-handling-01.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
MIME-Version: 1.0
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

   From: Hadriel Kaplan <HKaplan@acmepacket.com>

   > RFC 3261 section 18.1.1 currently provides a normative minimum:
   > "However, implementations MUST be able to handle messages up to the
   > maximum datagram packet size.  For UDP, this size is 65,535 bytes,
   > including IP and UDP headers."

   Yes.  That section of 3261 is about messages - it says nothing
   about bodies.  Some devices reject requests with bodies that exceed
   a length, where that length is less than the full 64k for the whole
   message.  For example, one of my companies' products will reject a
   SIP message with an overall body bigger than 32KB by default.  It's
   configurable, but I think we're compliant to reject such by
   default.

That seems a strange restriction to me -- though it accepts some
messages of 64k length, they must include 32kb of headers in order to
do so.  32kb of headers is even scarier than a 1Mb of body...

Dale
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Tue Mar 18 12:49:38 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id AE79128C557;
	Tue, 18 Mar 2008 12:49:38 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -101.148
X-Spam-Level: 
X-Spam-Status: No, score=-101.148 tagged_above=-999 required=5
	tests=[AWL=-0.711, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id NJ5w4wglq5g6; Tue, 18 Mar 2008 12:49:30 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 9409628C236;
	Tue, 18 Mar 2008 12:49:30 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 47EC428C2F3
	for <sip@core3.amsl.com>; Tue, 18 Mar 2008 12:49:26 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id poq5yiuZm5Ot for <sip@core3.amsl.com>;
	Tue, 18 Mar 2008 12:49:17 -0700 (PDT)
Received: from sj-iport-6.cisco.com (sj-iport-6.cisco.com [171.71.176.117])
	by core3.amsl.com (Postfix) with ESMTP id 7219428C55D
	for <sip@ietf.org>; Tue, 18 Mar 2008 12:49:17 -0700 (PDT)
Received: from sj-dkim-1.cisco.com ([171.71.179.21])
	by sj-iport-6.cisco.com with ESMTP; 18 Mar 2008 12:47:00 -0700
Received: from sj-core-2.cisco.com (sj-core-2.cisco.com [171.71.177.254])
	by sj-dkim-1.cisco.com (8.12.11/8.12.11) with ESMTP id m2IJl0O4002222; 
	Tue, 18 Mar 2008 12:47:00 -0700
Received: from xbh-rtp-211.amer.cisco.com (xbh-rtp-211.cisco.com
	[64.102.31.102])
	by sj-core-2.cisco.com (8.13.8/8.13.8) with ESMTP id m2IJkxl5028161;
	Tue, 18 Mar 2008 19:47:00 GMT
Received: from xfe-rtp-202.amer.cisco.com ([64.102.31.21]) by
	xbh-rtp-211.amer.cisco.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Tue, 18 Mar 2008 15:47:00 -0400
Received: from [161.44.174.168] ([161.44.174.168]) by
	xfe-rtp-202.amer.cisco.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Tue, 18 Mar 2008 15:46:59 -0400
Message-ID: <47E01C48.4000302@cisco.com>
Date: Tue, 18 Mar 2008 15:47:20 -0400
From: Paul Kyzivat <pkyzivat@cisco.com>
User-Agent: Thunderbird 2.0.0.12 (Windows/20080213)
MIME-Version: 1.0
To: Hadriel Kaplan <HKaplan@acmepacket.com>
References: <47DF0B0E.40706@cisco.com>
	<BBE61D1553D8A34F812FF87377B2935F02D06574@ATL1VEXC020.usdom003.tco.tc>
	<E6C2E8958BA59A4FB960963D475F7AC30BCA43E265@mail.acmepacket.com>
In-Reply-To: <E6C2E8958BA59A4FB960963D475F7AC30BCA43E265@mail.acmepacket.com>
X-OriginalArrivalTime: 18 Mar 2008 19:46:59.0821 (UTC)
	FILETIME=[D497C1D0:01C88930]
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; l=1949; t=1205869620;
	x=1206733620; c=relaxed/simple; s=sjdkim1004;
	h=Content-Type:From:Subject:Content-Transfer-Encoding:MIME-Version;
	d=cisco.com; i=pkyzivat@cisco.com;
	z=From:=20Paul=20Kyzivat=20<pkyzivat@cisco.com>
	|Subject:=20Re=3A=20[Sip]=20Comment/question=20on=20draft-i
	etf-sip-body-handling-01.txt |Sender:=20;
	bh=qMhnFboElF3tnQ1Nw5wtszcMSK/sStcYDAvfsTS/Lp8=;
	b=g2eesJCeqhOy9H0KRcbwwceFnoXDFTtvpR8pa+FTY40FULXm6To+LY69u+
	DcgjU2cKj3Xs+kvBBN5g62BciMeUp0CeYQtXLBekxRCDnK1NK+4K2iQnqlH4
	bz3AX/XSshpQD5AXJ3ptBMY18o64mwkOnCX9oIPtFGpRWAZ6T0lLo=;
Authentication-Results: sj-dkim-1; header.From=pkyzivat@cisco.com; dkim=pass (
	sig from cisco.com/sjdkim1004 verified; ); 
Cc: "sip@ietf.org" <sip@ietf.org>, Brett Tate <brett@broadsoft.com>
Subject: Re: [Sip] Comment/question on draft-ietf-sip-body-handling-01.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org



Hadriel Kaplan wrote:
> 
>> -----Original Message-----
>> From: Brett Tate [mailto:brett@broadsoft.com]
>> Sent: Tuesday, March 18, 2008 1:54 PM
>> To: Paul Kyzivat; Hadriel Kaplan
>> Cc: sip@ietf.org
>> Subject: RE: [Sip] Comment/question on draft-ietf-sip-body-handling-01.txt
>>
>>> I could be convinced that there should be some normative
>>> specification of the *minimum* message size that all sip
>>> clients and servers MUST be prepared to support.
>> RFC 3261 section 18.1.1 currently provides a normative minimum:
>> "However, implementations MUST be able to handle messages up to the
>> maximum datagram packet size.  For UDP, this size is 65,535 bytes,
>> including IP and UDP headers."
>>
>> Are devices actually exceeding the minimum required by RFC 3261?
> 
> Yes.  Some folks think >1MB is ok.  I think they're nuts. :)
> 
>> Or are
>> vendors interpreting "handle" as though it is valid to return failure
>> responses because of size even though less than the normative minimum to
>> handle?
> 
> Yes.  That section of 3261 is about messages - it says nothing about bodies.  Some devices reject requests with bodies that exceed a length, where that length is less than the full 64k for the whole message.  For example, one of my companies' products will reject a SIP message with an overall body bigger than 32KB by default.  It's configurable, but I think we're compliant to reject such by default.

Well, a message includes the body. At least in the case of a proxy I 
think it would be unreasonable to claim that you support a message that 
large yet reject the message because the body is too large.

Aside from an overall limit on message size, IMO a node ought not reject 
a message because some body part it doesn't process is "too large" for 
it. If it has reason to process the body part then perhaps it may have 
cause to reject a part that is too large.

	Paul

> -hadriel
> 
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Tue Mar 18 12:59:05 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id AD42828C61B;
	Tue, 18 Mar 2008 12:59:05 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.557
X-Spam-Level: 
X-Spam-Status: No, score=-100.557 tagged_above=-999 required=5
	tests=[AWL=-0.120, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id qjsZ-Q1KTWhV; Tue, 18 Mar 2008 12:59:04 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id B029F28C26D;
	Tue, 18 Mar 2008 12:59:04 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 1311E28C1AE
	for <sip@core3.amsl.com>; Tue, 18 Mar 2008 12:59:03 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id sEZTqqj9C2nI for <sip@core3.amsl.com>;
	Tue, 18 Mar 2008 12:59:02 -0700 (PDT)
Received: from etmail.acmepacket.com (etmail.acmepacket.com [216.41.24.6])
	by core3.amsl.com (Postfix) with ESMTP id 2780628C25D
	for <sip@ietf.org>; Tue, 18 Mar 2008 12:59:01 -0700 (PDT)
Received: from mail.acmepacket.com (216.41.24.7) by etmail.acmepacket.com
	(216.41.24.6) with Microsoft SMTP Server (TLS) id 8.1.240.5;
	Tue, 18 Mar 2008 15:56:23 -0400
Received: from mail.acmepacket.com ([216.41.24.7]) by mail.acmepacket.com
	([216.41.24.7]) with mapi; Tue, 18 Mar 2008 15:56:21 -0400
From: Hadriel Kaplan <HKaplan@acmepacket.com>
To: "Dale.Worley@comcast.net" <Dale.Worley@comcast.net>, "sip@ietf.org"
	<sip@ietf.org>
Date: Tue, 18 Mar 2008 15:56:36 -0400
Thread-Topic: [Sip] Comment/question on draft-ietf-sip-body-handling-01.txt
Thread-Index: AciJLsrjzeKxs0+2R3qem30fTvkf0QAAntYA
Message-ID: <E6C2E8958BA59A4FB960963D475F7AC30BCA43E495@mail.acmepacket.com>
References: <47DF0B0E.40706@cisco.com>
	<BBE61D1553D8A34F812FF87377B2935F02D06574@ATL1VEXC020.usdom003.tco.tc>
	<E6C2E8958BA59A4FB960963D475F7AC30BCA43E265@mail.acmepacket.com>
	<200803181932.m2IJWS6J006151@dragon.ariadne.com>
In-Reply-To: <200803181932.m2IJWS6J006151@dragon.ariadne.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
acceptlanguage: en-US
MIME-Version: 1.0
Subject: Re: [Sip] Comment/question on draft-ietf-sip-body-handling-01.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org



> -----Original Message-----
> From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On Behalf Of
> Dale.Worley@comcast.net
> Sent: Tuesday, March 18, 2008 3:32 PM
> To: sip@ietf.org
> Subject: Re: [Sip] Comment/question on draft-ietf-sip-body-handling-01.txt
>
>    From: Hadriel Kaplan <HKaplan@acmepacket.com>
>
>    > RFC 3261 section 18.1.1 currently provides a normative minimum:
>    > "However, implementations MUST be able to handle messages up to the
>    > maximum datagram packet size.  For UDP, this size is 65,535 bytes,
>    > including IP and UDP headers."
>
>    Yes.  That section of 3261 is about messages - it says nothing
>    about bodies.  Some devices reject requests with bodies that exceed
>    a length, where that length is less than the full 64k for the whole
>    message.  For example, one of my companies' products will reject a
>    SIP message with an overall body bigger than 32KB by default.  It's
>    configurable, but I think we're compliant to reject such by
>    default.
>
> That seems a strange restriction to me -- though it accepts some
> messages of 64k length, they must include 32kb of headers in order to
> do so.  32kb of headers is even scarier than a 1Mb of body...

Not if you look at IMS messages. ;)
Yeah, I don't know why it's 32KB by default, but it is.  Probably some random number generator.  Or a trade-off between "protect weak boxes" and "make-it-workie".  Regardless, without a BCP there was nothing to go by. (not that I'm saying a BCP would make us change behavior, but we try to be good)

-hadriel
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Tue Mar 18 13:13:24 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 982CA28C17C;
	Tue, 18 Mar 2008 13:13:24 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.561
X-Spam-Level: 
X-Spam-Status: No, score=-100.561 tagged_above=-999 required=5
	tests=[AWL=-0.124, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id rwPB+wdeWRYN; Tue, 18 Mar 2008 13:13:16 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id A4C883A6C11;
	Tue, 18 Mar 2008 13:13:16 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 47E4A3A6B0E
	for <sip@core3.amsl.com>; Tue, 18 Mar 2008 13:13:15 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id rHuYOWK8xzni for <sip@core3.amsl.com>;
	Tue, 18 Mar 2008 13:13:14 -0700 (PDT)
Received: from etmail.acmepacket.com (etmail.acmepacket.com [216.41.24.6])
	by core3.amsl.com (Postfix) with ESMTP id DCF133A6B17
	for <sip@ietf.org>; Tue, 18 Mar 2008 13:13:13 -0700 (PDT)
Received: from mail.acmepacket.com (216.41.24.7) by etmail.acmepacket.com
	(216.41.24.6) with Microsoft SMTP Server (TLS) id 8.1.240.5;
	Tue, 18 Mar 2008 16:10:35 -0400
Received: from mail.acmepacket.com ([216.41.24.7]) by mail.acmepacket.com
	([216.41.24.7]) with mapi; Tue, 18 Mar 2008 16:10:35 -0400
From: Hadriel Kaplan <HKaplan@acmepacket.com>
To: Paul Kyzivat <pkyzivat@cisco.com>
Date: Tue, 18 Mar 2008 16:10:53 -0400
Thread-Topic: [Sip] Comment/question on draft-ietf-sip-body-handling-01.txt
Thread-Index: AciJMMzHa2Azb/C3QEKFeWe/wty2LgAAYLRg
Message-ID: <E6C2E8958BA59A4FB960963D475F7AC30BCA43E4D7@mail.acmepacket.com>
References: <47DF0B0E.40706@cisco.com>
	<BBE61D1553D8A34F812FF87377B2935F02D06574@ATL1VEXC020.usdom003.tco.tc>
	<E6C2E8958BA59A4FB960963D475F7AC30BCA43E265@mail.acmepacket.com>
	<47E01C48.4000302@cisco.com>
In-Reply-To: <47E01C48.4000302@cisco.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
acceptlanguage: en-US
MIME-Version: 1.0
Cc: "sip@ietf.org" <sip@ietf.org>, Brett Tate <brett@broadsoft.com>
Subject: Re: [Sip] Comment/question on draft-ietf-sip-body-handling-01.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org



> -----Original Message-----
> From: Paul Kyzivat [mailto:pkyzivat@cisco.com]
>
> Well, a message includes the body. At least in the case of a proxy I
> think it would be unreasonable to claim that you support a message that
> large yet reject the message because the body is too large.

Which is why you're not in marketing. ;)

> Aside from an overall limit on message size, IMO a node ought not reject
> a message because some body part it doesn't process is "too large" for
> it. If it has reason to process the body part then perhaps it may have
> cause to reject a part that is too large.

Even a proxy may need to really.  Imagine an outbound proxy handling numerous endpoints to the registrar, with one TCP connection to the registrar - if it passes any body size up to the registrar willy-nilly, any endpoint's random 10MB body will impact message forwarding for all others due to HOL. (heck, given the horsepower of some nodes, a 64KB body could too)  Then there's also the reality of TCP not being exactly ubiquitous, to put it mildly, and the odds of a >64KB message making it not being too high.

-hadriel
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Tue Mar 18 13:32:07 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 1F9E128C13B;
	Tue, 18 Mar 2008 13:32:07 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.64
X-Spam-Level: 
X-Spam-Status: No, score=-100.64 tagged_above=-999 required=5
	tests=[AWL=-0.203, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id Q48OPEa5XIcc; Tue, 18 Mar 2008 13:32:05 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 8172628C1AE;
	Tue, 18 Mar 2008 13:32:05 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id B3A4F28C13B
	for <sip@core3.amsl.com>; Tue, 18 Mar 2008 13:32:03 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id hbpRIDctiE1J for <sip@core3.amsl.com>;
	Tue, 18 Mar 2008 13:32:02 -0700 (PDT)
Received: from QMTA03.emeryville.ca.mail.comcast.net
	(qmta03.emeryville.ca.mail.comcast.net [76.96.30.32])
	by core3.amsl.com (Postfix) with ESMTP id 6318928C1AE
	for <sip@ietf.org>; Tue, 18 Mar 2008 13:32:02 -0700 (PDT)
Received: from OMTA04.emeryville.ca.mail.comcast.net ([76.96.30.35])
	by QMTA03.emeryville.ca.mail.comcast.net with comcast
	id 2kBX1Z0030lTkoCA302m00; Tue, 18 Mar 2008 20:28:09 +0000
Received: from dragon.ariadne.com ([76.19.174.1])
	by OMTA04.emeryville.ca.mail.comcast.net with comcast
	id 2kVj1Z00502AVH08Q00000; Tue, 18 Mar 2008 20:29:44 +0000
X-Authority-Analysis: v=1.0 c=1 a=RmmK-LOJfXZt4ia-1AIA:9
	a=W5mvn-xorxPFgdjvKGsA:7 a=WoI6uajdKeDdZMjpFeP5rziplF4A:4
	a=HwvHyInW8OUA:10 a=8y7tGHue6YMA:10
Received: from dragon.ariadne.com (dragon.ariadne.com [127.0.0.1])
	by dragon.ariadne.com (8.12.8/8.12.8) with ESMTP id m2IKTgm4010337
	for <sip@ietf.org>; Tue, 18 Mar 2008 15:29:42 -0500
Received: (from worley@localhost)
	by dragon.ariadne.com (8.12.8/8.12.8/Submit) id m2IKTgC3010333;
	Tue, 18 Mar 2008 15:29:42 -0500
Date: Tue, 18 Mar 2008 15:29:42 -0500
Message-Id: <200803182029.m2IKTgC3010333@dragon.ariadne.com>
To: sip@ietf.org
From: Dale.Worley@comcast.net
In-reply-to: <E6C2E8958BA59A4FB960963D475F7AC30BCA43E495@mail.acmepacket.com>
	(HKaplan@acmepacket.com)
References: <47DF0B0E.40706@cisco.com>
	<BBE61D1553D8A34F812FF87377B2935F02D06574@ATL1VEXC020.usdom003.tco.tc>
	<E6C2E8958BA59A4FB960963D475F7AC30BCA43E265@mail.acmepacket.com>
	<200803181932.m2IJWS6J006151@dragon.ariadne.com>
	<E6C2E8958BA59A4FB960963D475F7AC30BCA43E495@mail.acmepacket.com>
Subject: Re: [Sip] Comment/question on draft-ietf-sip-body-handling-01.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
MIME-Version: 1.0
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

   From: Hadriel Kaplan <HKaplan@acmepacket.com>

   > That seems a strange restriction to me -- though it accepts some
   > messages of 64k length, they must include 32kb of headers in order to
   > do so.  32kb of headers is even scarier than a 1Mb of body...

   Not if you look at IMS messages. ;)

SIP's evil twin...

   Yeah, I don't know why it's 32KB by default, but it is.  Probably
   some random number generator.  Or a trade-off between "protect weak
   boxes" and "make-it-workie".  Regardless, without a BCP there was
   nothing to go by. (not that I'm saying a BCP would make us change
   behavior, but we try to be good)

I'm not particularly worried about your boxes -- I'm sure they're
configurable to match any policy we decide is BCP.

BTW, do you have any comments about the History-Info header?  I'd
think that topology-hiding would cause you to do interesting
processing of History-Info.

Dale
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Tue Mar 18 14:05:32 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 79E7B28C578;
	Tue, 18 Mar 2008 14:05:32 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.553
X-Spam-Level: 
X-Spam-Status: No, score=-100.553 tagged_above=-999 required=5
	tests=[AWL=-0.116, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id bzaDATqMxWq7; Tue, 18 Mar 2008 14:05:31 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 4F1223A6B09;
	Tue, 18 Mar 2008 14:05:31 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 7BC9A3A6B09
	for <sip@core3.amsl.com>; Tue, 18 Mar 2008 14:05:29 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id dbzNbbbXJ0Qc for <sip@core3.amsl.com>;
	Tue, 18 Mar 2008 14:05:28 -0700 (PDT)
Received: from etmail.acmepacket.com (etmail.acmepacket.com [216.41.24.6])
	by core3.amsl.com (Postfix) with ESMTP id 597983A6F10
	for <sip@ietf.org>; Tue, 18 Mar 2008 14:05:28 -0700 (PDT)
Received: from mail.acmepacket.com (216.41.24.7) by etmail.acmepacket.com
	(216.41.24.6) with Microsoft SMTP Server (TLS) id 8.1.240.5;
	Tue, 18 Mar 2008 17:02:49 -0400
Received: from mail.acmepacket.com ([216.41.24.7]) by mail.acmepacket.com
	([216.41.24.7]) with mapi; Tue, 18 Mar 2008 17:02:49 -0400
From: Hadriel Kaplan <HKaplan@acmepacket.com>
To: "Dale.Worley@comcast.net" <Dale.Worley@comcast.net>, "sip@ietf.org"
	<sip@ietf.org>
Date: Tue, 18 Mar 2008 17:03:04 -0400
Thread-Topic: [Sip] Comment/question on draft-ietf-sip-body-handling-01.txt
Thread-Index: AciJNsz4rRWy5G0MS8+bqPYFxzauZgAAEoPw
Message-ID: <E6C2E8958BA59A4FB960963D475F7AC30BCA43E59F@mail.acmepacket.com>
References: <47DF0B0E.40706@cisco.com>
	<BBE61D1553D8A34F812FF87377B2935F02D06574@ATL1VEXC020.usdom003.tco.tc>
	<E6C2E8958BA59A4FB960963D475F7AC30BCA43E265@mail.acmepacket.com>
	<200803181932.m2IJWS6J006151@dragon.ariadne.com>
	<E6C2E8958BA59A4FB960963D475F7AC30BCA43E495@mail.acmepacket.com>
	<200803182029.m2IKTgC3010333@dragon.ariadne.com>
In-Reply-To: <200803182029.m2IKTgC3010333@dragon.ariadne.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
acceptlanguage: en-US
MIME-Version: 1.0
Subject: Re: [Sip] Comment/question on draft-ietf-sip-body-handling-01.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org



> -----Original Message-----
> From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On Behalf Of
> Dale.Worley@comcast.net
>
> BTW, do you have any comments about the History-Info header?  I'd
> think that topology-hiding would cause you to do interesting
> processing of History-Info.

It's an ugly one.  Topology-hiding usually makes us strip them, or all but one and change its host if it's E.164 format.  But I don't see as much Hist-info used as Diversion, although that could easily be just because I only get involved when we need to translate between them (which is no fun).  I think Jonathan's approach is architecturally cleaner, as usual, but Christer's is more likely to succeed. :(

-hadriel
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Tue Mar 18 14:35:41 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 0A82F28C13B;
	Tue, 18 Mar 2008 14:35:41 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -101.518
X-Spam-Level: 
X-Spam-Status: No, score=-101.518 tagged_above=-999 required=5
	tests=[AWL=-1.081, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id EWq+kkKp-cQS; Tue, 18 Mar 2008 14:35:34 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 09BFA28C332;
	Tue, 18 Mar 2008 14:35:34 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id E69653A681E
	for <sip@core3.amsl.com>; Tue, 18 Mar 2008 14:35:32 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id VEEC+QnfUwdU for <sip@core3.amsl.com>;
	Tue, 18 Mar 2008 14:35:22 -0700 (PDT)
Received: from etmail.acmepacket.com (etmail.acmepacket.com [216.41.24.6])
	by core3.amsl.com (Postfix) with ESMTP id C883128C332
	for <sip@ietf.org>; Tue, 18 Mar 2008 14:35:21 -0700 (PDT)
Received: from mail.acmepacket.com (216.41.24.7) by etmail.acmepacket.com
	(216.41.24.6) with Microsoft SMTP Server (TLS) id 8.1.240.5;
	Tue, 18 Mar 2008 17:32:43 -0400
Received: from mail.acmepacket.com ([216.41.24.7]) by mail.acmepacket.com
	([216.41.24.7]) with mapi; Tue, 18 Mar 2008 17:32:43 -0400
From: Bob Penfield <BPenfield@acmepacket.com>
To: Paul Kyzivat <pkyzivat@cisco.com>, Hadriel Kaplan <HKaplan@acmepacket.com>
Date: Tue, 18 Mar 2008 17:32:41 -0400
Thread-Topic: [Sip] Comment/question on draft-ietf-sip-body-handling-01.txt
Thread-Index: AciJMOqlQYu4IqgYRUuq/jp9KMe6tQADpBKg
Message-ID: <E6C2E8958BA59A4FB960963D475F7AC30BCA43E5F3@mail.acmepacket.com>
References: <47DF0B0E.40706@cisco.com>
	<BBE61D1553D8A34F812FF87377B2935F02D06574@ATL1VEXC020.usdom003.tco.tc>
	<E6C2E8958BA59A4FB960963D475F7AC30BCA43E265@mail.acmepacket.com>
	<47E01C48.4000302@cisco.com>
In-Reply-To: <47E01C48.4000302@cisco.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
acceptlanguage: en-US
MIME-Version: 1.0
Cc: "sip@ietf.org" <sip@ietf.org>, Brett Tate <brett@broadsoft.com>
Subject: Re: [Sip] Comment/question on draft-ietf-sip-body-handling-01.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

What about this from RFC 3261:

21.4.11 413 Request Entity Too Large

   The server is refusing to process a request because the request
   entity-body is larger than the server is willing or able to process.
   The server MAY close the connection to prevent the client from
   continuing the request.

   If the condition is temporary, the server SHOULD include a Retry-
   After header field to indicate that it is temporary and after what
   time the client MAY try again.

cheers,
(-:bob

-----Original Message-----
From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On Behalf Of Paul Kyzivat
Sent: Tuesday, March 18, 2008 3:47 PM
To: Hadriel Kaplan
Cc: sip@ietf.org; Brett Tate
Subject: Re: [Sip] Comment/question on draft-ietf-sip-body-handling-01.txt



Hadriel Kaplan wrote:
>
>> -----Original Message-----
>> From: Brett Tate [mailto:brett@broadsoft.com]
>> Sent: Tuesday, March 18, 2008 1:54 PM
>> To: Paul Kyzivat; Hadriel Kaplan
>> Cc: sip@ietf.org
>> Subject: RE: [Sip] Comment/question on draft-ietf-sip-body-handling-01.txt
>>
>>> I could be convinced that there should be some normative
>>> specification of the *minimum* message size that all sip
>>> clients and servers MUST be prepared to support.
>> RFC 3261 section 18.1.1 currently provides a normative minimum:
>> "However, implementations MUST be able to handle messages up to the
>> maximum datagram packet size.  For UDP, this size is 65,535 bytes,
>> including IP and UDP headers."
>>
>> Are devices actually exceeding the minimum required by RFC 3261?
>
> Yes.  Some folks think >1MB is ok.  I think they're nuts. :)
>
>> Or are
>> vendors interpreting "handle" as though it is valid to return failure
>> responses because of size even though less than the normative minimum to
>> handle?
>
> Yes.  That section of 3261 is about messages - it says nothing about bodies.  Some devices reject requests with bodies that exceed a length, where that length is less than the full 64k for the whole message.  For example, one of my companies' products will reject a SIP message with an overall body bigger than 32KB by default.  It's configurable, but I think we're compliant to reject such by default.

Well, a message includes the body. At least in the case of a proxy I
think it would be unreasonable to claim that you support a message that
large yet reject the message because the body is too large.

Aside from an overall limit on message size, IMO a node ought not reject
a message because some body part it doesn't process is "too large" for
it. If it has reason to process the body part then perhaps it may have
cause to reject a part that is too large.

        Paul

> -hadriel
>
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Tue Mar 18 14:54:42 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id B8D693A6F47;
	Tue, 18 Mar 2008 14:54:42 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.799
X-Spam-Level: 
X-Spam-Status: No, score=-100.799 tagged_above=-999 required=5
	tests=[AWL=-0.362, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id Dxp1FP-0zu8W; Tue, 18 Mar 2008 14:54:41 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id B0B183A6C90;
	Tue, 18 Mar 2008 14:54:41 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id A43F13A6A56
	for <sip@core3.amsl.com>; Tue, 18 Mar 2008 14:54:40 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id bDfWc59pNt1B for <sip@core3.amsl.com>;
	Tue, 18 Mar 2008 14:54:39 -0700 (PDT)
Received: from sj-iport-2.cisco.com (sj-iport-2.cisco.com [171.71.176.71])
	by core3.amsl.com (Postfix) with ESMTP id 98B0A3A68F3
	for <sip@ietf.org>; Tue, 18 Mar 2008 14:54:39 -0700 (PDT)
Received: from sj-dkim-3.cisco.com ([171.71.179.195])
	by sj-iport-2.cisco.com with ESMTP; 18 Mar 2008 14:52:22 -0700
Received: from sj-core-5.cisco.com (sj-core-5.cisco.com [171.71.177.238])
	by sj-dkim-3.cisco.com (8.12.11/8.12.11) with ESMTP id m2ILqMYi008026; 
	Tue, 18 Mar 2008 14:52:22 -0700
Received: from xbh-rtp-201.amer.cisco.com (xbh-rtp-201.cisco.com
	[64.102.31.12])
	by sj-core-5.cisco.com (8.13.8/8.13.8) with ESMTP id m2ILq94T008196;
	Tue, 18 Mar 2008 21:52:22 GMT
Received: from xfe-rtp-201.amer.cisco.com ([64.102.31.38]) by
	xbh-rtp-201.amer.cisco.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Tue, 18 Mar 2008 17:52:14 -0400
Received: from [161.44.174.168] ([161.44.174.168]) by
	xfe-rtp-201.amer.cisco.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Tue, 18 Mar 2008 17:52:14 -0400
Message-ID: <47E039A2.7080706@cisco.com>
Date: Tue, 18 Mar 2008 17:52:34 -0400
From: Paul Kyzivat <pkyzivat@cisco.com>
User-Agent: Thunderbird 2.0.0.12 (Windows/20080213)
MIME-Version: 1.0
To: Hadriel Kaplan <HKaplan@acmepacket.com>
References: <47DF0B0E.40706@cisco.com>
	<BBE61D1553D8A34F812FF87377B2935F02D06574@ATL1VEXC020.usdom003.tco.tc>
	<E6C2E8958BA59A4FB960963D475F7AC30BCA43E265@mail.acmepacket.com>
	<47E01C48.4000302@cisco.com>
	<E6C2E8958BA59A4FB960963D475F7AC30BCA43E4D7@mail.acmepacket.com>
In-Reply-To: <E6C2E8958BA59A4FB960963D475F7AC30BCA43E4D7@mail.acmepacket.com>
X-OriginalArrivalTime: 18 Mar 2008 21:52:14.0396 (UTC)
	FILETIME=[53A0E7C0:01C88942]
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; l=2350; t=1205877142;
	x=1206741142; c=relaxed/simple; s=sjdkim3002;
	h=Content-Type:From:Subject:Content-Transfer-Encoding:MIME-Version;
	d=cisco.com; i=pkyzivat@cisco.com;
	z=From:=20Paul=20Kyzivat=20<pkyzivat@cisco.com>
	|Subject:=20Re=3A=20[Sip]=20Comment/question=20on=20draft-i
	etf-sip-body-handling-01.txt |Sender:=20;
	bh=wzTnFLowTsCQTFUbAU7Vq2xIv03VNWlfXn/QxMWru30=;
	b=eiyKL1XiD8Nw5xu9syYROnSobUULVLWzUL81KqBrRf5mOU2ux6HK6OErjo
	Y9OBMSeiIUonP+7ZsYE7DbvPH7V6Fa3iiFr7NEltoX5SRq1QRIRqOaKon/7M
	u/jFbj7GPN;
Authentication-Results: sj-dkim-3; header.From=pkyzivat@cisco.com; dkim=pass (
	sig from cisco.com/sjdkim3002 verified; ); 
Cc: "sip@ietf.org" <sip@ietf.org>, Brett Tate <brett@broadsoft.com>
Subject: Re: [Sip] Comment/question on draft-ietf-sip-body-handling-01.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org



Hadriel Kaplan wrote:
> 
>> -----Original Message-----
>> From: Paul Kyzivat [mailto:pkyzivat@cisco.com]
>>
>> Well, a message includes the body. At least in the case of a proxy I
>> think it would be unreasonable to claim that you support a message that
>> large yet reject the message because the body is too large.
> 
> Which is why you're not in marketing. ;)
> 
>> Aside from an overall limit on message size, IMO a node ought not reject
>> a message because some body part it doesn't process is "too large" for
>> it. If it has reason to process the body part then perhaps it may have
>> cause to reject a part that is too large.
> 
> Even a proxy may need to really.  Imagine an outbound proxy handling numerous endpoints to the registrar, with one TCP connection to the registrar - if it passes any body size up to the registrar willy-nilly, any endpoint's random 10MB body will impact message forwarding for all others due to HOL. (heck, given the horsepower of some nodes, a 64KB body could too)  Then there's also the reality of TCP not being exactly ubiquitous, to put it mildly, and the odds of a >64KB message making it not being too high.

Note that I said "Aside from an overall limit on message size". I can 
see imposing some limit on message size. But if the message doesn't 
exceed that, why would a proxy reject the request because the body was 
too large?

I can see rejecting for a body too large if the proxy needed to process 
that body and it was too big for the proxy to process. But if the body 
is something that is not the proxies business then it has no business 
being fussy about it. Its a distinction between unable and unwilling.

Of course it may have a *policy* about it - that is different. Having a 
policy about the size of a body part is roughly equivalent to having a 
need to process that part.

This of course starts to get ugly with multipart. (E.g. The proxy wants 
to verify the SDP but runs into the 1mb jpg picture of the caller.) 
Depending on how you implement, you may need a lot of storage just to 
deal with the parts you don't care about on the way to finding the 
one(s) you do care about. If you are careful you can do it without a lot 
of storage beyond buffering the message, but I don't know how clever we 
should mandate that people be.

	Paul
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Wed Mar 19 02:56:49 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 1338228C33D;
	Wed, 19 Mar 2008 02:56:49 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.707
X-Spam-Level: 
X-Spam-Status: No, score=-100.707 tagged_above=-999 required=5
	tests=[AWL=-0.270, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id vw6w1QNOmQX4; Wed, 19 Mar 2008 02:56:47 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 7EA463A6D78;
	Wed, 19 Mar 2008 02:56:47 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id A00263A6CAE
	for <sip@core3.amsl.com>; Wed, 19 Mar 2008 02:56:46 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id nvmrmvPjG1QP for <sip@core3.amsl.com>;
	Wed, 19 Mar 2008 02:56:38 -0700 (PDT)
Received: from ihemail2.lucent.com (ihemail2.lucent.com [135.245.0.35])
	by core3.amsl.com (Postfix) with ESMTP id A03BC3A6DE5
	for <sip@ietf.org>; Wed, 19 Mar 2008 02:56:38 -0700 (PDT)
Received: from ilexp01.ndc.lucent.com (h135-3-39-1.lucent.com [135.3.39.1])
	by ihemail2.lucent.com (8.13.8/IER-o) with ESMTP id m2J9rspx022439;
	Wed, 19 Mar 2008 04:54:20 -0500 (CDT)
Received: from DEEXP01.de.lucent.com ([135.248.187.65]) by
	ilexp01.ndc.lucent.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Wed, 19 Mar 2008 04:54:07 -0500
Received: from DEEXC1U01.de.lucent.com ([135.248.187.20]) by
	DEEXP01.de.lucent.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Wed, 19 Mar 2008 10:53:53 +0100
X-MIMEOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Wed, 19 Mar 2008 10:53:52 +0100
Message-ID: <5D1A7985295922448D5550C94DE2918001D601BF@DEEXC1U01.de.lucent.com>
In-Reply-To: <47D92B13.1020408@bell-labs.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] draft-ietf-sip-session-policy-framework-02
Thread-index: AciFDdawNWlqYT3dTI+JYFlEVtZs5gEPtKaQ
References: <61968779B8AC4C4BAB421D4C12F008C0117A9DD3@XCH47YKF.rim.net><47D6E5FE.7000402@bell-labs.com><61968779B8AC4C4BAB421D4C12F008C011C04896@XCH47YKF.rim.net>
	<47D92B13.1020408@bell-labs.com>
From: "DRAGE, Keith \(Keith\)" <drage@alcatel-lucent.com>
To: "Andrew Allen" <aallen@rim.com>, <sip@ietf.org>
X-OriginalArrivalTime: 19 Mar 2008 09:53:53.0380 (UTC)
	FILETIME=[23D58A40:01C889A7]
X-Scanned-By: MIMEDefang 2.57 on 135.245.2.35
Cc: Volker Hilt <volkerh@bell-labs.com>
Subject: Re: [Sip] draft-ietf-sip-session-policy-framework-02
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

(As SIP WG cochair)

Volker presented the following slide to the SIP WG on the session policy
framework.

------------------------------------------------------------------------
-------------
Open Issue
The session policy framework specifies SUBSCRIBE/NOTIFY and the session
policy package as the policy channel protocol. 
In some environments (e.g., wireless networks) it can be useful to allow
other policy channel protocols.
Requires that proxies and UAs can agree on a policy channel protocol.
Alternatives:
A1: no change. Only allow the use of the policy package.
A2: enable domains to add alternative policy server URIs (e.g., a HTTP
URI) as parameters to a Policy-Contact header. 
UA can choose to use the alternative URI if supported.
The policy package remains default policy channel protocol.
------------------------------------------------------------------------
-------------

Volker is proposing to modify the session policy framework draft to
allow an extension to be made in the future, but without making the
extension.

In the absence of other comments, we will assume that the direction
proposed by Volker is adopted solution. Your comments are therefore
welcome, particularly if you have different views on the direction
forward.

Regards

Keith

> -----Original Message-----
> From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On 
> Behalf Of Volker Hilt
> Sent: Thursday, March 13, 2008 1:25 PM
> To: Andrew Allen
> Cc: sip@ietf.org
> Subject: Re: [Sip] draft-ietf-sip-session-policy-framework-02
> 
> I would propose to make sure that the policy framework allows 
> an extension like the one proposed to be added in the future. 
> This will allow a way forward without putting a header 
> parameter in right now.
> 
> Thanks,
> 
> Volker
> 
> 
> 
> 
> Andrew Allen wrote:
> > I propose we go with the alternative that enables a domain 
> to insert 
> > URIs with additional protocol schemes into the policy 
> contact header 
> > (e.g. HTTP) in addition to SIP.
> > 
> > A negotiation mechanism could always be added later if it was 
> > determined to be needed as an optiomization but is not 
> needed now for 
> > sure. The important thing is to have some flexibility for future 
> > additional protocols on the Policy Channel.
> > 
> > 
> > 
> > -----Original Message-----
> > From: Volker Hilt [mailto:volkerh@bell-labs.com]
> > Sent: Tuesday, March 11, 2008 4:05 PM
> > To: sip@ietf.org
> > Cc: Andrew Allen
> > Subject: Re: [Sip] draft-ietf-sip-session-policy-framework-02
> > 
> > The main request here is to allow different protocols on the policy 
> > channel, in addition to the SUB/NOT mechanism defined in the policy 
> > package. The discovery mechanism for policy servers defined in the 
> > framework draft would still be used but it would be possible to use 
> > other protocols for retrieving policies (e.g., HTTP).
> > 
> > This would require that UAs and proxies can come up with policy 
> > channel protocol both support.
> > 
> > A full blow negotiation mechanism seems overkill and is 
> also difficult 
> > to do on the UAS side. The reason is that the UAS will receive a 
> > request that already contains the policy server URI and, 
> thus, it is 
> > too late to negotiate a format for it.
> > 
> > An alternative could be to enable a domain to insert URIs with 
> > additional protocol schemes into the policy contact header 
> (e.g. HTTP) 
> > in addition to SIP.
> > 
> > Yet another alternative is, of course, to keep things as 
> they are and 
> > only allow the policy package for the policy channel.
> > 
> > Thanks,
> > 
> > Volker
> > 
> > 
> > 
> > 
> > Andrew Allen wrote:
> >> I recently reviewed 
> draft-ietf-sip-session-policy-framework-02 with a 
> >> view to its utilization in 3GPP IMS particularly with 
> regard to its 
> >> application in mobile networks. After reading the draft I 
> have some 
> >> concern that the Subscribe/Notify mechanism for the Policy 
> channel is 
> >> too heavy for use in Cellular and other narrow band networks. The 
> >> session establishment times for cellular using SIP are already too
> > long.
> >> Adding an additional SUBSCRIBE, 200 OK, NOTIFY, 200 OK per 
> UA to that 
> >> to go fetch the local session-specific policy will not be 
> acceptable.
> >> It seems there could be other more efficient means available in 
> >> certain networks to obtain the session-specific Policy.
> >>
> >> While the Subscribe/Notify mechanism may be the best 
> general purpose 
> >> mechanism it seems to me that the mechanism ought to be 
> extensible to 
> >> allow additional Policy channel mechanisms to be defined in the 
> >> future
> > 
> >> which probably means extensibility to support URIs other than just 
> >> SIP/SIPS URIs in the Policy-Contact header.
> >>
> >> The draft anticipates that non SIP means might be used to 
> obtain the 
> >> session-independent policies so why not also anticipate the 
> >> possibility that non SIP means might in the future be used 
> to obtain 
> >> session-specific policies?
> >>
> >> I have had some discussion with Volker already on this 
> issue and it 
> >> seems it would be possible to modify the Policy-Contact header to 
> >> optionally allow multiple URIs of different types for the 
> same Policy 
> >> Document from the same domain with inclusion of a SIP or SIPS URI 
> >> being mandatory.
> >>
> >> e.g
> >>  Policy-Contact: sip:policy-doc@domainA; sips:policy-doc@domainA;
> >>
> >>  http:policy-doc@domainA; https:policy-doc@domainA 
> >> <https://policy-doc@domainA>,
> >>
> >>  sip:policy-doc@domainB; sips:policy-doc@domainB;
> >>
> >>  http:policy-doc@domainB; https:policy-doc@domainB 
> >> <https://policy-doc@domainB>
> >>
> >> Support of SIP or SIPS URI schemes and the 
> Subscribe/Notify mechanism 
> >> for the Policy Channel would continue to be mandatory for 
> >> interoperability but the possibility to include additional URI 
> >> schemes
> > 
> >> for obtaining the session-specific policy document would be added.
> >>
> >> This seems like a relatively straight forward change to make even 
> >> though it is a very late proposal.
> >>
> >> Since one of the original primary drivers for the session 
> policy work 
> >> originated from 3GPP requirements it would be a shame if 
> the solution 
> >> wasn't sufficiently extensible to allow 3GPP in the future 
> to use it.
> >>
> >> Andrew Allen
> >>
> >> Manager Standards
> >>
> >> Research In Motion Ltd
> >>
> >> Office +1 847-793-0861 x20824
> >>
> >> BlackBerry Mobile +1 847 809 8636
> >>
> >> http://www.rim.com/
> >>
> >>  
> >>
> >> 
> ---------------------------------------------------------------------
> >> This transmission (including any attachments) may contain 
> >> confidential
> > 
> >> information, privileged material (including material 
> protected by the 
> >> solicitor-client or other applicable privileges), or constitute 
> >> non-public information. Any use of this information by 
> anyone other 
> >> than the intended recipient is prohibited. If you have 
> received this 
> >> transmission in error, please immediately reply to the sender and 
> >> delete this information from your system. Use, dissemination, 
> >> distribution, or reproduction of this transmission by unintended 
> >> recipients is not authorized and may be unlawful.
> >>
> >>
> >> 
> ---------------------------------------------------------------------
> >> -
> >> --
> >>
> >> _______________________________________________
> >> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> >> This list is for NEW development of the core SIP Protocol Use 
> >> sip-implementors@cs.columbia.edu for questions on current sip Use 
> >> sipping@ietf.org for new developments on the application of sip
> > 
> > 
> ---------------------------------------------------------------------
> > This transmission (including any attachments) may contain 
> confidential information, privileged material (including 
> material protected by the solicitor-client or other 
> applicable privileges), or constitute non-public information. 
> Any use of this information by anyone other than the intended 
> recipient is prohibited. If you have received this 
> transmission in error, please immediately reply to the sender 
> and delete this information from your system. Use, 
> dissemination, distribution, or reproduction of this 
> transmission by unintended recipients is not authorized and 
> may be unlawful.
> _______________________________________________
> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol Use 
> sip-implementors@cs.columbia.edu for questions on current sip 
> Use sipping@ietf.org for new developments on the application of sip
> 
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Wed Mar 19 07:34:11 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 5D7CD3A6CFA;
	Wed, 19 Mar 2008 07:34:11 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -101.495
X-Spam-Level: 
X-Spam-Status: No, score=-101.495 tagged_above=-999 required=5
	tests=[AWL=-1.058, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id rXq3q9i59WQc; Wed, 19 Mar 2008 07:34:07 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 510B03A6D02;
	Wed, 19 Mar 2008 07:34:07 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 6449428C2E8
	for <sip@core3.amsl.com>; Wed, 19 Mar 2008 07:34:05 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id I5pUKGlBeZw3 for <sip@core3.amsl.com>;
	Wed, 19 Mar 2008 07:33:59 -0700 (PDT)
Received: from sj-iport-6.cisco.com (sj-iport-6.cisco.com [171.71.176.117])
	by core3.amsl.com (Postfix) with ESMTP id DE0ED3A6D02
	for <sip@ietf.org>; Wed, 19 Mar 2008 07:33:58 -0700 (PDT)
Received: from sj-dkim-4.cisco.com ([171.71.179.196])
	by sj-iport-6.cisco.com with ESMTP; 19 Mar 2008 07:31:42 -0700
Received: from sj-core-5.cisco.com (sj-core-5.cisco.com [171.71.177.238])
	by sj-dkim-4.cisco.com (8.12.11/8.12.11) with ESMTP id m2JEVf1j012413
	for <sip@ietf.org>; Wed, 19 Mar 2008 07:31:41 -0700
Received: from [192.168.16.100] (sjc-vpn2-1187.cisco.com [10.21.116.163])
	by sj-core-5.cisco.com (8.13.8/8.13.8) with ESMTP id m2JEVfZp019730
	for <sip@ietf.org>; Wed, 19 Mar 2008 14:31:41 GMT
Message-Id: <B58259AF-F85A-48C8-B163-E447A6A2E0D5@cisco.com>
From: Cullen Jennings <fluffy@cisco.com>
To: SIP <sip@ietf.org>
Mime-Version: 1.0 (Apple Message framework v919.2)
Date: Wed, 19 Mar 2008 10:32:08 -0400
X-Mailer: Apple Mail (2.919.2)
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; l=1072; t=1205937102;
	x=1206801102; c=relaxed/simple; s=sjdkim4002;
	h=Content-Type:From:Subject:Content-Transfer-Encoding:MIME-Version;
	d=cisco.com; i=fluffy@cisco.com;
	z=From:=20Cullen=20Jennings=20<fluffy@cisco.com>
	|Subject:=20Question=20about=20refernce=20in=20draft-ietf-s
	ip-domain-certs-00=20 |Sender:=20;
	bh=HsPXBpQ/Rx7XGQPVrlC5KRohGww9ooxU2smLhk7pGa8=;
	b=dH89QNNbxMFMUsougtqbZdILFlBKgCv8IF1965FPouQsYptpW5oamEtlaT
	KtRLnmcmtqx0qMhzrL6KH9yM7KRAsTwJHFRKJzGiDRWfv7PB7oTyCyWTCFy9
	QrvkD3U4Bb;
Authentication-Results: sj-dkim-4; header.From=fluffy@cisco.com; dkim=pass (
	sig from cisco.com/sjdkim4002 verified; ); 
Subject: [Sip] Question about refernce in draft-ietf-sip-domain-certs-00
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


The draft contains the text:

   I-D.sip-eku [9] describes the method to validate any Extended Key
   Usage values found in the certificate for a SIP domain.
   Implementations MUST perform the checks prescribed by that
   specification.

This last sentence creates a normative dependency of domain certs on  
EKU. My read of the WG discussion was that domain certs clarified  
important issues about TLS cert verification from 3261, and it was  
fairly likely that it the WG would decide that the domain-certs draft  
was an essential correction to 3261. We haven't really had a  
discussion about whether EKU is essential or an correction to 3261 or  
even whether it MUST be implemented, so it seems like a bad idea to  
have this dependency.

I propose we strike the last sentence and make the reference to I- 
D.sip-eku informative. I think that will be the best path to allow  
both the EKU and the domain-certs document get finished faster than if  
we try to tie them together in this way.


Cullen <with my individual contributor hat on>

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Wed Mar 19 09:32:37 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 43B3528C329;
	Wed, 19 Mar 2008 09:32:37 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -99.829
X-Spam-Level: 
X-Spam-Status: No, score=-99.829 tagged_above=-999 required=5
	tests=[AWL=0.608, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 58+GamPlLcbU; Wed, 19 Mar 2008 09:32:36 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 3F3D83A6AE7;
	Wed, 19 Mar 2008 09:32:36 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id A72B33A696F
	for <sip@core3.amsl.com>; Wed, 19 Mar 2008 09:32:34 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id OfczRwXcj4u3 for <sip@core3.amsl.com>;
	Wed, 19 Mar 2008 09:32:33 -0700 (PDT)
Received: from nylon.softarmor.com (nylon.softarmor.com [66.135.38.164])
	by core3.amsl.com (Postfix) with ESMTP id BD7983A6D11
	for <sip@ietf.org>; Wed, 19 Mar 2008 09:32:33 -0700 (PDT)
Received: from [192.168.2.103] (cpe-76-185-142-113.tx.res.rr.com
	[76.185.142.113] (may be forged)) (authenticated bits=0)
	by nylon.softarmor.com (8.13.8/8.13.8/Debian-3) with ESMTP id
	m2JGUDMJ015201
	(version=TLSv1/SSLv3 cipher=AES128-SHA bits=128 verify=NOT);
	Wed, 19 Mar 2008 11:30:15 -0500
Message-Id: <4DFBB004-F016-4BB8-88B4-CD037C563516@softarmor.com>
From: Dean Willis <dean.willis@softarmor.com>
To: Cullen Jennings <fluffy@cisco.com>
In-Reply-To: <B58259AF-F85A-48C8-B163-E447A6A2E0D5@cisco.com>
Mime-Version: 1.0 (Apple Message framework v919.2)
Date: Wed, 19 Mar 2008 11:30:07 -0500
References: <B58259AF-F85A-48C8-B163-E447A6A2E0D5@cisco.com>
X-Mailer: Apple Mail (2.919.2)
Cc: SIP <sip@ietf.org>
Subject: Re: [Sip] Question about refernce in draft-ietf-sip-domain-certs-00
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


On Mar 19, 2008, at 9:32 AM, Cullen Jennings wrote:

>
> The draft contains the text:
>
>   I-D.sip-eku [9] describes the method to validate any Extended Key
>   Usage values found in the certificate for a SIP domain.
>   Implementations MUST perform the checks prescribed by that
>   specification.
>
> This last sentence creates a normative dependency of domain certs on
> EKU. My read of the WG discussion was that domain certs clarified
> important issues about TLS cert verification from 3261, and it was
> fairly likely that it the WG would decide that the domain-certs draft
> was an essential correction to 3261. We haven't really had a
> discussion about whether EKU is essential or an correction to 3261 or
> even whether it MUST be implemented, so it seems like a bad idea to
> have this dependency.
>

My sense that the WG was somewhat shocked by the proposal that we  
place this draft into the essential corrections process.
I'm not exactly certain we had agreement on making domain-certs an  
"essential correction" according to the current process.

Doing so would certainly require an almost complete rewrite of the  
draft to comply with the essential corrections documentation process  
-- for example, describing the line-by-line changes to RFC 3261 as  
"normative" behavior, and removing all normative statements from the  
explicative text.

> I propose we strike the last sentence and make the reference to I-
> D.sip-eku informative. I think that will be the best path to allow
> both the EKU and the domain-certs document get finished faster than if
> we try to tie them together in this way.

 From a 2119 perspective, are you saying we change the "MUST" to a  
"SHOULD" or perhaps a "MAY"? Or are you suggesting that the text be   
rewritten to say something like:

I-D.sip-eku [9] describes the method to validate any Extended Key  
Usage values found in the certificate for a SIP domain. Implementation  
of this method is optional. (Note: This is a MAY in 2110 language)


My personal preference would be to pack both drafts back into one  
standards-track document that updates RFC 3261 but is not done using  
the "essential corrections" process. I also think that the process  
described for handling EKU is a MUST if EKU is present, so it is  
something like "Implementations SHOULD be prepared to handle EKU, and  
if they do so, they MUST do so according to the process in [9]."

--
Dean
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Wed Mar 19 09:53:05 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 9894B28C5C3;
	Wed, 19 Mar 2008 09:53:05 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.687
X-Spam-Level: 
X-Spam-Status: No, score=-100.687 tagged_above=-999 required=5
	tests=[AWL=-0.250, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id RvsGWml5xffu; Wed, 19 Mar 2008 09:53:04 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 9F2BF28C170;
	Wed, 19 Mar 2008 09:53:04 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id ACEDA3A6BD2
	for <sip@core3.amsl.com>; Wed, 19 Mar 2008 09:53:02 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id Mb+jhOdBD1YV for <sip@core3.amsl.com>;
	Wed, 19 Mar 2008 09:53:01 -0700 (PDT)
Received: from ihemail3.lucent.com (ihemail3.lucent.com [135.245.0.37])
	by core3.amsl.com (Postfix) with ESMTP id B13013A6832
	for <sip@ietf.org>; Wed, 19 Mar 2008 09:53:01 -0700 (PDT)
Received: from ihmail.ih.lucent.com (h135-1-218-70.lucent.com [135.1.218.70])
	by ihemail3.lucent.com (8.13.8/IER-o) with ESMTP id m2JGoKnw024729; 
	Wed, 19 Mar 2008 11:50:21 -0500 (CDT)
Received: from [135.185.244.90] (il0015vkg1.ih.lucent.com [135.185.244.90])
	by ihmail.ih.lucent.com (8.11.7p1+Sun/8.12.11) with ESMTP id
	m2JGoK605097; Wed, 19 Mar 2008 11:50:20 -0500 (CDT)
Message-ID: <47E1444C.4010103@alcatel-lucent.com>
Date: Wed, 19 Mar 2008 11:50:20 -0500
From: "Vijay K. Gurbani" <vkg@alcatel-lucent.com>
Organization: Bell Labs Security Technology Research Group
User-Agent: Thunderbird 2.0.0.6 (Windows/20070728)
MIME-Version: 1.0
To: Dean Willis <dean.willis@softarmor.com>
References: <B58259AF-F85A-48C8-B163-E447A6A2E0D5@cisco.com>
	<4DFBB004-F016-4BB8-88B4-CD037C563516@softarmor.com>
In-Reply-To: <4DFBB004-F016-4BB8-88B4-CD037C563516@softarmor.com>
X-Scanned-By: MIMEDefang 2.57 on 135.245.2.37
Cc: Cullen Jennings <fluffy@cisco.com>, SIP <sip@ietf.org>
Subject: Re: [Sip] Question about refernce in draft-ietf-sip-domain-certs-00
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Dean Willis wrote:
> My personal preference would be to pack both drafts back into one  
> standards-track document that updates RFC 3261 but is not done using  
> the "essential corrections" process. I also think that the process  
> described for handling EKU is a MUST if EKU is present, so it is  
> something like "Implementations SHOULD be prepared to handle EKU, and  
> if they do so, they MUST do so according to the process in [9]."

I have not talked to Scott about this yet, but my thoughts mirror
yours closely.  Regarding Cullen's proposed change:

> I propose we strike the last sentence and make the reference to I- 
> D.sip-eku informative. I think that will be the best path to allow  
> both the EKU and the domain-certs document get finished faster than if  
> we try to tie them together in this way.

I was also wondering if a happy medium would be reached if we made
the normative dependency on I-D.sip-eku a function of an EKU being
present at all in the certificate.  Text of the form you suggest
above sounds eminently reasonable.  Those implementations that want
to go beyond the call of duty for services such as SIPConnect will
be conscientious enough to then implement I-D.sip-eku.

Regarding making the drafts essential corrections and whether or
not to pack both drafts into one, I will defer to the WG.  I
certainly had not viewed the drafts as an essential correction,
but did view them as work that updates rfc3261.  However, and I
believe I also speak for Scott here, our preference is to keep
them standards track.

Thanks,

- vijay
-- 
Vijay K. Gurbani, Bell Laboratories, Alcatel-Lucent
2701 Lucent Lane, Rm. 9F-546, Lisle, Illinois 60532 (USA)
Email: vkg@{alcatel-lucent.com,bell-labs.com,acm.org}
WWW:   http://www.alcatel-lucent.com/bell-labs
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Wed Mar 19 10:04:04 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 3FD203A6F01;
	Wed, 19 Mar 2008 10:04:04 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.707
X-Spam-Level: 
X-Spam-Status: No, score=-100.707 tagged_above=-999 required=5
	tests=[AWL=-0.270, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id MpCe6bWvQZ-Y; Wed, 19 Mar 2008 10:04:02 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id B09AF3A6A79;
	Wed, 19 Mar 2008 10:04:02 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id BE0963A6A79
	for <sip@core3.amsl.com>; Wed, 19 Mar 2008 10:04:00 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id IXTmoupERL0k for <sip@core3.amsl.com>;
	Wed, 19 Mar 2008 10:03:59 -0700 (PDT)
Received: from ihemail2.lucent.com (ihemail2.lucent.com [135.245.0.35])
	by core3.amsl.com (Postfix) with ESMTP id 371793A6D11
	for <sip@ietf.org>; Wed, 19 Mar 2008 10:03:49 -0700 (PDT)
Received: from ilexp01.ndc.lucent.com (h135-3-39-1.lucent.com [135.3.39.1])
	by ihemail2.lucent.com (8.13.8/IER-o) with ESMTP id m2JH1API004925;
	Wed, 19 Mar 2008 12:01:10 -0500 (CDT)
Received: from DEEXP01.de.lucent.com ([135.248.187.65]) by
	ilexp01.ndc.lucent.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Wed, 19 Mar 2008 12:01:10 -0500
Received: from DEEXC1U01.de.lucent.com ([135.248.187.20]) by
	DEEXP01.de.lucent.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Wed, 19 Mar 2008 18:01:07 +0100
X-MIMEOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Wed, 19 Mar 2008 18:01:06 +0100
Message-ID: <5D1A7985295922448D5550C94DE2918001D603FE@DEEXC1U01.de.lucent.com>
In-Reply-To: <B58259AF-F85A-48C8-B163-E447A6A2E0D5@cisco.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] Question about refernce in draft-ietf-sip-domain-certs-00
Thread-index: AciJzk9LWXaJcta9S4WgiTl46NRm9gAEwV5A
References: <B58259AF-F85A-48C8-B163-E447A6A2E0D5@cisco.com>
From: "DRAGE, Keith \(Keith\)" <drage@alcatel-lucent.com>
To: "Cullen Jennings" <fluffy@cisco.com>, "SIP" <sip@ietf.org>
X-OriginalArrivalTime: 19 Mar 2008 17:01:07.0687 (UTC)
	FILETIME=[D3125F70:01C889E2]
X-Scanned-By: MIMEDefang 2.57 on 135.245.2.35
Subject: Re: [Sip] Question about refernce in draft-ietf-sip-domain-certs-00
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Cullen, 

The remaining key part to understanding what you what you are trying to
do here is to bottom out your assertion that

> from 3261, and it was fairly likely that it the WG would 
> decide that the domain-certs draft was an essential 
> correction to 3261. We haven't really had a discussion about 
> whether EKU is essential or an correction to 3261 or even 
> whether it MUST be implemented, so it seems like a bad idea 
> to have this dependency.

For any of the material to be an essential correction to RFC 3261, it is
implicit that domain-certs would currently contains statements in RFC
2119 language that we would write in RFC 3261 so that all
implementations of RFC 3261 took account of those requirements (these
could be any of MUST, SHOULD, MAY).

You apparently believe that some of the requirements do fall into this
category. I did ask you to identify those requirements, and so far you
have not done so. I do believe that if you assertion is correct, that we
must have the discussion before we proceed any further.

The philosophy. We currently have a number of RFC 2119 requirements
split between eku and domain certs. We need to understand the dependency
of these on each other and on RFC 3261. Currently the division assumes
that none of the information is required for all implementations, merely
for those in scope of the domain-certs draft, and also for connect-reuse
that calls up these documents.

Regards

Keith

> -----Original Message-----
> From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On 
> Behalf Of Cullen Jennings
> Sent: Wednesday, March 19, 2008 2:32 PM
> To: SIP
> Subject: [Sip] Question about refernce in 
> draft-ietf-sip-domain-certs-00
> 
> 
> The draft contains the text:
> 
>    I-D.sip-eku [9] describes the method to validate any Extended Key
>    Usage values found in the certificate for a SIP domain.
>    Implementations MUST perform the checks prescribed by that
>    specification.
> 
> This last sentence creates a normative dependency of domain 
> certs on EKU. My read of the WG discussion was that domain 
> certs clarified important issues about TLS cert verification 
> from 3261, and it was fairly likely that it the WG would 
> decide that the domain-certs draft was an essential 
> correction to 3261. We haven't really had a discussion about 
> whether EKU is essential or an correction to 3261 or even 
> whether it MUST be implemented, so it seems like a bad idea 
> to have this dependency.
> 
> I propose we strike the last sentence and make the reference 
> to I- D.sip-eku informative. I think that will be the best 
> path to allow both the EKU and the domain-certs document get 
> finished faster than if we try to tie them together in this way.
> 
> 
> Cullen <with my individual contributor hat on>
> 
> _______________________________________________
> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol Use 
> sip-implementors@cs.columbia.edu for questions on current sip 
> Use sipping@ietf.org for new developments on the application of sip
> 
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Wed Mar 19 14:35:56 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 8306928C29A;
	Wed, 19 Mar 2008 14:35:56 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.665
X-Spam-Level: 
X-Spam-Status: No, score=-100.665 tagged_above=-999 required=5
	tests=[AWL=-0.228, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id jHVCrT4K11AH; Wed, 19 Mar 2008 14:35:55 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 37BA93A6854;
	Wed, 19 Mar 2008 14:35:55 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id A1B993A6854
	for <sip@core3.amsl.com>; Wed, 19 Mar 2008 14:35:53 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id XMliAKmAtx-E for <sip@core3.amsl.com>;
	Wed, 19 Mar 2008 14:35:52 -0700 (PDT)
Received: from QMTA07.westchester.pa.mail.comcast.net
	(qmta07.westchester.pa.mail.comcast.net [76.96.62.64])
	by core3.amsl.com (Postfix) with ESMTP id 4B8653A681A
	for <sip@ietf.org>; Wed, 19 Mar 2008 14:35:52 -0700 (PDT)
Received: from OMTA02.westchester.pa.mail.comcast.net ([76.96.62.19])
	by QMTA07.westchester.pa.mail.comcast.net with comcast
	id 39SE1Z0020QuhwU5702200; Wed, 19 Mar 2008 21:32:39 +0000
Received: from dragon.ariadne.com ([76.19.174.1])
	by OMTA02.westchester.pa.mail.comcast.net with comcast
	id 39ZS1Z00G02AVH03N00000; Wed, 19 Mar 2008 21:33:27 +0000
X-Authority-Analysis: v=1.0 c=1 a=Yxlk0ffzgNMB207_scYA:9
	a=cRSsuAzlDseGzg0YHbAA:7 a=-Kiz3u-hJavRiDOOrUnws-8yoJMA:4
	a=Y6qChIQXU1wA:10 a=CWfAmLVWKswA:10
Received: from dragon.ariadne.com (dragon.ariadne.com [127.0.0.1])
	by dragon.ariadne.com (8.12.8/8.12.8) with ESMTP id m2JLXQm4022957
	for <sip@ietf.org>; Wed, 19 Mar 2008 16:33:26 -0500
Received: (from worley@localhost)
	by dragon.ariadne.com (8.12.8/8.12.8/Submit) id m2JLXQDm022953;
	Wed, 19 Mar 2008 16:33:26 -0500
Date: Wed, 19 Mar 2008 16:33:26 -0500
Message-Id: <200803192133.m2JLXQDm022953@dragon.ariadne.com>
To: sip@ietf.org
From: Dale.Worley@comcast.net
Subject: [Sip] Deficiencies of History-Info
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
MIME-Version: 1.0
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

I've looking at History-Info (RFC 4244) and I think that as it is
currently defined, it has a deficiency in regard to capturing the
forking structure of a request.

Let us look at an example that parallels the first example of RFC 4244
Appendix A (with non-significant messages omitted):

   UA1      Proxy1                UA2      UA3      UA4
   |            |                  |        |        |
   |-INVITE F1->|                  |        |        |
   |            |                  |        |        |
   |            |--INVITE F2------>|        |        |
   |            |                  |        |        |
   |            |<-302 F4----------|        |        |
   |            |                  |        |        |
   |            |-------INVITE F5 --------->|        |
   |            |                  |        |        |
   |            |<-------486 F6 ------------|        |
   |            |                  |        |        |
   |            |------INVITE F8 ------------------->|
   |            |                  |        |        |
   |            |<-200 F10 --------------------------|
   |            |                  |        |        |
   |            |-- ACK F11------------------------->|
   |<--200 F12--|                  |        |        |
   |            |                  |        |        |
   |--ACK F13-->|                  |        |        |
   |            |                  |        |        |

Assuming that each agent applies History-Info, the History-Info
headers will look like this:


      F1 INVITE UA1 ->Proxy1

      History-Info: <sip:UA2@example.com>; index=1


      F2 INVITE  Proxy1 ->UA2

      History-Info: <sip:UA2@example.com>; index=1,
       <sip:UA2@ims.example.com>; index=1.1


      F5 INVITE Proxy1 -> UA3

      History-Info: <sip:UA2@example.com>; index=1,
       <sip:UA2@ims.example.com?Reason=SIP;\
       cause=302; text="Moved Temporarily">; index=1.1,
       <sip:UA3@example.com>;index=1.2


      F8 INVITE Proxy1 -> UA4

      History-Info: <sip:UA2@example.com>; index=1,
       <sip:UA2@ims.example.com?Reason=SIP;\
       cause=302; text="Moved Temporarily">;index=1.1,
       <sip:UA3@example.com?Reason=SIP;cause=480;\
       text="Temporarily Unavailable" >;index=1.2,
       <sip:UA4@example.com>;index=1.3


These History-Info headers correctly give the forking structure of the
INVITE.

The difficulty is that History-Info does not tell us why UA4 was
chosen as a target -- It could have been generated by Proxy1 as a
target for UA2, or it could have been a Contact in the 302 response
F4.  As one thinks about call routing, UA4 could be a consequence of
UA2@example.com, or it could have been a consequence of
UA2@ims.example.com which was itself a consequence of UA2@example.com.

It seems to me that we need a further indicator when a target is added
to the target set by a received 3xx response.  Let me propose that the
indicator be an additional field parameter "redir" whose value is the
"index" value of the URI whose 3xx response added the target.

In the above example, if both UA3 and UA4 were from the 302 response,
F8 would become:

      F8 INVITE Proxy1 -> UA4

      History-Info: <sip:UA2@example.com>; index=1,
       <sip:UA2@ims.example.com?Reason=SIP;\
       cause=302; text="Moved Temporarily">;index=1.1;redir=1,
       <sip:UA3@example.com?Reason=SIP;cause=480;\
       text="Temporarily Unavailable" >;index=1.2;redir=1,
       <sip:UA4@example.com>;index=1.3

Dale
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Wed Mar 19 16:59:53 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 78F333A6A4E;
	Wed, 19 Mar 2008 16:59:53 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -101.39
X-Spam-Level: 
X-Spam-Status: No, score=-101.39 tagged_above=-999 required=5
	tests=[AWL=-0.953, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id zBAo5MbUxf+1; Wed, 19 Mar 2008 16:59:52 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 0F3B73A6C25;
	Wed, 19 Mar 2008 16:58:20 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id C9AE03A69F4
	for <sip@core3.amsl.com>; Wed, 19 Mar 2008 16:58:18 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id Q0ZmxqcA9nAz for <sip@core3.amsl.com>;
	Wed, 19 Mar 2008 16:58:18 -0700 (PDT)
Received: from sj-iport-1.cisco.com (sj-iport-1.cisco.com [171.71.176.70])
	by core3.amsl.com (Postfix) with ESMTP id 1EAE43A69A8
	for <sip@ietf.org>; Wed, 19 Mar 2008 16:58:18 -0700 (PDT)
Received: from sj-dkim-1.cisco.com ([171.71.179.21])
	by sj-iport-1.cisco.com with ESMTP; 19 Mar 2008 16:56:01 -0700
Received: from sj-core-5.cisco.com (sj-core-5.cisco.com [171.71.177.238])
	by sj-dkim-1.cisco.com (8.12.11/8.12.11) with ESMTP id m2JNu10w006119; 
	Wed, 19 Mar 2008 16:56:01 -0700
Received: from [192.168.16.100] (sjc-vpn7-530.cisco.com [10.21.146.18])
	by sj-core-5.cisco.com (8.13.8/8.13.8) with ESMTP id m2JNu069027213;
	Wed, 19 Mar 2008 23:56:00 GMT
Message-Id: <8C29B51A-D3CA-45E4-933D-E4E7109233C9@cisco.com>
From: Cullen Jennings <fluffy@cisco.com>
To: Dean Willis <dean.willis@softarmor.com>
In-Reply-To: <4DFBB004-F016-4BB8-88B4-CD037C563516@softarmor.com>
Mime-Version: 1.0 (Apple Message framework v919.2)
Date: Wed, 19 Mar 2008 19:56:30 -0400
References: <B58259AF-F85A-48C8-B163-E447A6A2E0D5@cisco.com>
	<4DFBB004-F016-4BB8-88B4-CD037C563516@softarmor.com>
X-Mailer: Apple Mail (2.919.2)
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; l=737; t=1205970961; x=1206834961;
	c=relaxed/simple; s=sjdkim1004;
	h=Content-Type:From:Subject:Content-Transfer-Encoding:MIME-Version;
	d=cisco.com; i=fluffy@cisco.com;
	z=From:=20Cullen=20Jennings=20<fluffy@cisco.com>
	|Subject:=20Re=3A=20[Sip]=20Question=20about=20refernce=20i
	n=20draft-ietf-sip-domain-certs-00 |Sender:=20;
	bh=P4GyPe6vM+fi0artH3EeE0tm1dm5gZrCrpE+53sUpHM=;
	b=tDFQSRRIhDPIVjLJgFzs4UUrQ2FFL0S8DWjfVZjKlz2aGHuRqKMFGZFfg/
	rxbpM0+kCuPgy8x+zBg8rY7tyQfJs9bm+epi+PqoFkBe54i9eCnfHB50OnCL
	w4HVeVowBU77KM7oRePlx6/sc0xcow/Z+CFoqcqT4T1nj/g7WMeKw=;
Authentication-Results: sj-dkim-1; header.From=fluffy@cisco.com; dkim=pass (
	sig from cisco.com/sjdkim1004 verified; ); 
Cc: SIP <sip@ietf.org>
Subject: Re: [Sip] Question about refernce in draft-ietf-sip-domain-certs-00
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


On Mar 19, 2008, at 12:30 PM, Dean Willis wrote:

>
> >
>
> My sense that the WG was somewhat shocked by the proposal that we
> place this draft into the essential corrections process.
> I'm not exactly certain we had agreement on making domain-certs an
> "essential correction" according to the current process.

OK - no worry , that is fine. I think I must have got the wrong idea  
from part of the draft where it quotes parts of 3261 and says that  
3261 is incorrect.  It was my sense of where I suspected things where  
going from the discussion but clearly I must have got this wrong. I  
wasn't trying to say anything about how we move the domain-certs  
document forward - just commenting on dependency issue.

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Wed Mar 19 17:00:25 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id AE3BA28C17C;
	Wed, 19 Mar 2008 17:00:25 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -101.235
X-Spam-Level: 
X-Spam-Status: No, score=-101.235 tagged_above=-999 required=5
	tests=[AWL=-0.798, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id QBT2yA42L2wm; Wed, 19 Mar 2008 17:00:25 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 053A93A6971;
	Wed, 19 Mar 2008 16:59:57 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 6DE543A6D2E
	for <sip@core3.amsl.com>; Wed, 19 Mar 2008 16:59:55 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id JIGJdtzWjcqp for <sip@core3.amsl.com>;
	Wed, 19 Mar 2008 16:59:54 -0700 (PDT)
Received: from sj-iport-6.cisco.com (sj-iport-6.cisco.com [171.71.176.117])
	by core3.amsl.com (Postfix) with ESMTP id 7C2FB3A6A9F
	for <sip@ietf.org>; Wed, 19 Mar 2008 16:58:22 -0700 (PDT)
Received: from sj-dkim-4.cisco.com ([171.71.179.196])
	by sj-iport-6.cisco.com with ESMTP; 19 Mar 2008 16:56:05 -0700
Received: from sj-core-5.cisco.com (sj-core-5.cisco.com [171.71.177.238])
	by sj-dkim-4.cisco.com (8.12.11/8.12.11) with ESMTP id m2JNu3kt032259; 
	Wed, 19 Mar 2008 16:56:03 -0700
Received: from [192.168.16.100] (sjc-vpn7-530.cisco.com [10.21.146.18])
	by sj-core-5.cisco.com (8.13.8/8.13.8) with ESMTP id m2JNu06A027213;
	Wed, 19 Mar 2008 23:56:03 GMT
Message-Id: <5AA8419B-124C-46CA-ABF4-29CCA59C6395@cisco.com>
From: Cullen Jennings <fluffy@cisco.com>
To: "DRAGE, Keith (Keith)" <drage@alcatel-lucent.com>
In-Reply-To: <5D1A7985295922448D5550C94DE2918001D603FE@DEEXC1U01.de.lucent.com>
Mime-Version: 1.0 (Apple Message framework v919.2)
Date: Wed, 19 Mar 2008 19:56:33 -0400
References: <B58259AF-F85A-48C8-B163-E447A6A2E0D5@cisco.com>
	<5D1A7985295922448D5550C94DE2918001D603FE@DEEXC1U01.de.lucent.com>
X-Mailer: Apple Mail (2.919.2)
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; l=2273; t=1205970963;
	x=1206834963; c=relaxed/simple; s=sjdkim4002;
	h=Content-Type:From:Subject:Content-Transfer-Encoding:MIME-Version;
	d=cisco.com; i=fluffy@cisco.com;
	z=From:=20Cullen=20Jennings=20<fluffy@cisco.com>
	|Subject:=20Re=3A=20[Sip]=20Question=20about=20refernce=20i
	n=20draft-ietf-sip-domain-certs-00 |Sender:=20;
	bh=FXy0Mtl4tR2YC1S8nBGyE9WKecRlB7LRzGAdEkXG11E=;
	b=MvaencnbTAAq6BM3tJidfuzqyRMlc7tzJSsYEWwDWBI+Mpo+TYCxGuW0/7
	tvC0jS6j4GIf/q/hJMAbvaQYeY0A8/dlOBrtfx6FIKkg9XW7t+bZYGYfoWJY
	1paZFvdejZ;
Authentication-Results: sj-dkim-4; header.From=fluffy@cisco.com; dkim=pass (
	sig from cisco.com/sjdkim4002 verified; ); 
Cc: SIP <sip@ietf.org>
Subject: Re: [Sip] Question about refernce in draft-ietf-sip-domain-certs-00
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


On Mar 19, 2008, at 1:01 PM, DRAGE, Keith (Keith) wrote:

> The philosophy. We currently have a number of RFC 2119 requirements
> split between eku and domain certs. We need to understand the  
> dependency
> of these on each other and on RFC 3261.

agree. When I read these, what I see is that EKU and Domain-Certs are  
fairly orthogonal to each other.

EKU has an informative reference to domain-certs and the text

    Section 7.1 of [8] contains two steps for finding an identity (or a
    set of identities) in an X.509 certificate.  In order to determine
    whether a SIP proxy is authoritative for its domain, implementations
    MUST perform the step given below first, and then proceed with the
    steps in Section 7.1 of [8].

This could easily be written to point at 3261 instead of domain-certs  
with no change in functionality of the systems that implemented either  
of these two drafts.

And certs has the text

    I-D.sip-eku [9] describes the method to validate any Extended Key
    Usage values found in the certificate for a SIP domain.
    Implementations MUST perform the checks prescribed by that
    specification.

which seems to me like it could be changed to

    I-D.sip-eku [9] describes the method to validate any Extended Key
    Usage values found in the certificate for a SIP domain.

So my view is that both documents could easily be written such that  
they only required informative references to each other with no change  
to the functionality of devices that implemented them. Let's imagine  
that we make these changes and that the EKU draft becomes RFC EEEE and  
the domain certs draft becomes RFC CCCC. Devices that implement RFC  
EEEE will support EKU. Device that don't do RFC EEEE will still  
support the PKIX documents that deal with the issues of handling  
certificates with unknown extensions with the critical bit set.

I don't understand the need for RFC CCCC to say that you MUST support  
RFC EEEE any more than it needs to mandate any other SIP security RFC  
such as RFC 5090. There is nothing in the domain-certs draft that  
won't work if you don't implement EKU so I don't see the need for the  
dependency.

Cullen <with my individual contributor hat on>







_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Wed Mar 19 19:33:02 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 7CC0D28C205;
	Wed, 19 Mar 2008 19:33:02 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.63
X-Spam-Level: 
X-Spam-Status: No, score=-100.63 tagged_above=-999 required=5
	tests=[AWL=-0.193, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 9YTh5FVvTyGV; Wed, 19 Mar 2008 19:33:01 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 51B603A6D11;
	Wed, 19 Mar 2008 19:33:01 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 4AECE3A6C25
	for <sip@core3.amsl.com>; Wed, 19 Mar 2008 19:33:00 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id S+THiJEokofN for <sip@core3.amsl.com>;
	Wed, 19 Mar 2008 19:32:59 -0700 (PDT)
Received: from QMTA08.emeryville.ca.mail.comcast.net
	(qmta08.emeryville.ca.mail.comcast.net [76.96.30.80])
	by core3.amsl.com (Postfix) with ESMTP id 7CF213A69E7
	for <sip@ietf.org>; Wed, 19 Mar 2008 19:32:59 -0700 (PDT)
Received: from OMTA04.emeryville.ca.mail.comcast.net ([76.96.30.35])
	by QMTA08.emeryville.ca.mail.comcast.net with comcast
	id 2yJl1Z0030lTkoCA818k00; Thu, 20 Mar 2008 02:29:52 +0000
Received: from dragon.ariadne.com ([76.19.174.1])
	by OMTA04.emeryville.ca.mail.comcast.net with comcast
	id 3EWf1Z00702AVH08Q00000; Thu, 20 Mar 2008 02:30:41 +0000
X-Authority-Analysis: v=1.0 c=1 a=rkVRFBjMdd0A:10 a=W2JeRCVtAr2h_pVjoq0A:9
	a=aIJtIp4XS37wLs3J1nUA:7 a=jnvMfGvutmM4ykdlEhR5i3etKQoA:4
	a=Y6qChIQXU1wA:10 a=5WZzfXpOq_gA:10
Received: from dragon.ariadne.com (dragon.ariadne.com [127.0.0.1])
	by dragon.ariadne.com (8.12.8/8.12.8) with ESMTP id m2K2Udm4012459
	for <sip@ietf.org>; Wed, 19 Mar 2008 21:30:39 -0500
Received: (from worley@localhost)
	by dragon.ariadne.com (8.12.8/8.12.8/Submit) id m2K2UcbI012455;
	Wed, 19 Mar 2008 21:30:38 -0500
Date: Wed, 19 Mar 2008 21:30:38 -0500
Message-Id: <200803200230.m2K2UcbI012455@dragon.ariadne.com>
To: sip@ietf.org
From: Dale.Worley@comcast.net
Subject: [Sip] The emergency services routing use case
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
MIME-Version: 1.0
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

In regard to this use case in draft-rosenberg-sip-ua-loose-route-02.txt:

   2.6.  Emergency Services

   Another problem that arises from Request-URI rewriting is with
   emergency services for VoIP.  A key requirement of systems supporting
   emergency calling is that the SIP INVITE request for an emergency
   call be 'marked' in some way that makes it clear that it is an
   emergency call, so that it can receive priority treatment
   [I-D.ietf-ecrit-requirements].  However, such a marking needs to be
   done in a way that it cannot be abused by attackers seeking to get
   special treatment for non-emergency calls.  The solution for this is
   that the marking needs to be the target address of the request
   itself, which would unambiguously identify an emergency services
   calltaker as the target.

Implicitly, an additional requirement is the ability to do non-trivial
routing and fowarding of the emergency request, that is, where one SIP
agent could provide routing instructions to downstream SIP agents.  In
a perfect world, a proxy could route locally-originating emergency
requests to any specified SIP URI, based on local policy regarding
routing of emergency requests.

Unfortunately, neither draft-rosenberg-sip-ua-loose-route,
draft-holmberg-sip-target-uri-delivery, nor History-Info solves this
problem.  The problem is fundamental:  We desire the *routing* of the
message to be controlled by one element of the request, while the
*priority* is controlled by a different element, the alleged ultimate
destination ("urn:service:sos").  But such a split automatically
allows a malicious user to take advantage of emergency prioritization
for his own use.

As proposed, a message would have "routed emergency service" in one of
the following ways.  (We assume that sip:psap@10.1.1.1 is the
emergency services address.  In North American usage, an emergency
services operation is called a "PSAP", "Public-Safety Answering
Point".)

    INVITE urn:service:sos SIP/2.0
    From: xxx
    To: xxx
    Route: <sip:psap@10.1.1.1;lr>

    INVITE sip:psap@10.1.1.1 SIP/2.0
    From: xxx
    To: xxx
    Target: urn:service:sos

    INVITE sip:psap@10.1.1.1 SIP/2.0
    From: xxx
    To: xxx
    History-Info: <urn:service:sos?Reason=SIP%3Bcause%3D302>;index=1,
	    <sip:psap@10.1.1.1>;index=2

Unfortunately, all of mechanisms can be exploited (in the same way)
for nefarious purposes:

    INVITE urn:service:sos SIP/2.0
    From: xxx
    To: xxx
    Route: <sip:Dale.Worley@example.com;lr>

    INVITE sip:Dale.Worley@example.com SIP/2.0
    From: xxx
    To: xxx
    Target: urn:service:sos

    INVITE sip:Dale.Worley@example.com SIP/2.0
    From: xxx
    To: xxx
    History-Info: <urn:service:sos?Reason=SIP%3Bcause%3D302>;index=1,
	    <sip:Dale.Worley@example.com>;index=2

By hypothesis, all of these requests are intended to be routed to
sip:Dale.Worley@example.com with emergency priority, before allegedly
being forwarded to the correct PSAP destination.

Dale
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Wed Mar 19 22:48:19 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 0171328C3A2;
	Wed, 19 Mar 2008 22:48:19 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -99.979
X-Spam-Level: 
X-Spam-Status: No, score=-99.979 tagged_above=-999 required=5
	tests=[AWL=0.458, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id gf-XXWUOxZfW; Wed, 19 Mar 2008 22:48:15 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 3067728C267;
	Wed, 19 Mar 2008 22:48:15 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 013EC28C267
	for <sip@core3.amsl.com>; Wed, 19 Mar 2008 22:48:14 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id SmdL3Ji5ggO4 for <sip@core3.amsl.com>;
	Wed, 19 Mar 2008 22:48:13 -0700 (PDT)
Received: from nylon.softarmor.com (nylon.softarmor.com [66.135.38.164])
	by core3.amsl.com (Postfix) with ESMTP id 2A5003A6837
	for <sip@ietf.org>; Wed, 19 Mar 2008 22:48:08 -0700 (PDT)
Received: from [192.168.2.103] (cpe-76-185-142-113.tx.res.rr.com
	[76.185.142.113]) (authenticated bits=0)
	by nylon.softarmor.com (8.13.8/8.13.8/Debian-3) with ESMTP id
	m2K5jRMW030577
	(version=TLSv1/SSLv3 cipher=AES128-SHA bits=128 verify=NOT);
	Thu, 20 Mar 2008 00:45:30 -0500
Message-Id: <A2CF01FC-B4C8-414E-9694-C8BC6636D003@softarmor.com>
From: Dean Willis <dean.willis@softarmor.com>
To: Cullen Jennings <fluffy@cisco.com>, Robert Sparks <rjsparks@nostrum.com>, 
	Keith Drage <drage@alcatel-lucent.com>
In-Reply-To: <8C29B51A-D3CA-45E4-933D-E4E7109233C9@cisco.com>
Mime-Version: 1.0 (Apple Message framework v919.2)
Date: Thu, 20 Mar 2008 00:45:22 -0500
References: <B58259AF-F85A-48C8-B163-E447A6A2E0D5@cisco.com>
	<4DFBB004-F016-4BB8-88B4-CD037C563516@softarmor.com>
	<8C29B51A-D3CA-45E4-933D-E4E7109233C9@cisco.com>
X-Mailer: Apple Mail (2.919.2)
Cc: SIP List <sip@ietf.org>
Subject: Re: [Sip] Question about refernce in draft-ietf-sip-domain-certs-00
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


On Mar 19, 2008, at 6:56 PM, Cullen Jennings wrote:

>
> On Mar 19, 2008, at 12:30 PM, Dean Willis wrote:
>
>>
>> My sense that the WG was somewhat shocked by the proposal that we
>> place this draft into the essential corrections process.
>> I'm not exactly certain we had agreement on making domain-certs an
>> "essential correction" according to the current process.
>
> OK - no worry , that is fine. I think I must have got the wrong idea  
> from part of the draft where it quotes parts of 3261 and says that  
> 3261 is incorrect.  It was my sense of where I suspected things  
> where going from the discussion but clearly I must have got this  
> wrong. I wasn't trying to say anything about how we move the domain- 
> certs document forward - just commenting on dependency issue.
>

Oddly enough, making a normative change to RFC 3261 does not qualify a  
document as part of the "Essential Corrections" process, as I  
understand it.

One could reasonably argue that this is the proper determinant, but  
that doesn't seem to be what we're using, and it certainly isn't the  
format that the current domain-certs draft is written in.

You may be right in that this draft should be an "Essential  
Correction". Far be it from me to make that determination -- Keith and  
Robert seem to be driving the essential corrections process, and I'd  
like to hear their opinions on this point of procedure.

Help!


--
Dean
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Wed Mar 19 22:54:52 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 857FF28C363;
	Wed, 19 Mar 2008 22:54:52 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.029
X-Spam-Level: 
X-Spam-Status: No, score=-100.029 tagged_above=-999 required=5
	tests=[AWL=0.408, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id Kizzy6IELad5; Wed, 19 Mar 2008 22:54:51 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 9E1883A6974;
	Wed, 19 Mar 2008 22:54:51 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id DC50428C2CF
	for <sip@core3.amsl.com>; Wed, 19 Mar 2008 22:54:49 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id ILQwlMRmsTFN for <sip@core3.amsl.com>;
	Wed, 19 Mar 2008 22:54:49 -0700 (PDT)
Received: from nylon.softarmor.com (nylon.softarmor.com [66.135.38.164])
	by core3.amsl.com (Postfix) with ESMTP id 15BE53A6837
	for <sip@ietf.org>; Wed, 19 Mar 2008 22:54:49 -0700 (PDT)
Received: from [192.168.2.103] (cpe-76-185-142-113.tx.res.rr.com
	[76.185.142.113]) (authenticated bits=0)
	by nylon.softarmor.com (8.13.8/8.13.8/Debian-3) with ESMTP id
	m2K5qPZf030604
	(version=TLSv1/SSLv3 cipher=AES128-SHA bits=128 verify=NOT);
	Thu, 20 Mar 2008 00:52:28 -0500
Message-Id: <45C6C8F3-8E43-41FF-8188-195275F886E5@softarmor.com>
From: Dean Willis <dean.willis@softarmor.com>
To: Cullen Jennings <fluffy@cisco.com>
In-Reply-To: <5AA8419B-124C-46CA-ABF4-29CCA59C6395@cisco.com>
Mime-Version: 1.0 (Apple Message framework v919.2)
Date: Thu, 20 Mar 2008 00:52:19 -0500
References: <B58259AF-F85A-48C8-B163-E447A6A2E0D5@cisco.com>
	<5D1A7985295922448D5550C94DE2918001D603FE@DEEXC1U01.de.lucent.com>
	<5AA8419B-124C-46CA-ABF4-29CCA59C6395@cisco.com>
X-Mailer: Apple Mail (2.919.2)
Cc: SIP <sip@ietf.org>, "DRAGE, Keith \(Keith\)" <drage@alcatel-lucent.com>
Subject: Re: [Sip] Question about refernce in draft-ietf-sip-domain-certs-00
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


On Mar 19, 2008, at 6:56 PM, Cullen Jennings wrote:
>
> And certs has the text
>
>    I-D.sip-eku [9] describes the method to validate any Extended Key
>    Usage values found in the certificate for a SIP domain.
>    Implementations MUST perform the checks prescribed by that
>    specification.
>
> which seems to me like it could be changed to
>
>    I-D.sip-eku [9] describes the method to validate any Extended Key
>    Usage values found in the certificate for a SIP domain.
>


So the above text means to me "If you receive a certificate for a SIP  
domain that contains any Extended Key Usage values, you MUST validate  
them according to the procedures of I-D-sip-eku [9]."

Inserting EKU in a cert would seem to be optional. This is good, since  
getting EKU into a cert appears to be very hard.

If you receive a cert that contains EKU, it appears that validating it  
is mandatory (at least according to the current text).

It could be that I (or the text) have this wrong, and EKU may safely  
be ignored. However, even if validation of the EKU is optional, the  
only process we have for validating it is the process defined in [9],  
so that still seems like a normative reference rather than an  
informative reference to me, even though it's only a 2119 SHOULD or  
MAY level of requirement.

--
Dean

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu Mar 20 07:44:34 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id B58BE28C0D8;
	Thu, 20 Mar 2008 07:44:34 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.789
X-Spam-Level: 
X-Spam-Status: No, score=-100.789 tagged_above=-999 required=5
	tests=[AWL=-0.352, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id Y50Qa2l0B8Dj; Thu, 20 Mar 2008 07:44:33 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 41FF528C1C9;
	Thu, 20 Mar 2008 07:44:33 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id C34AC28C0D8
	for <sip@core3.amsl.com>; Thu, 20 Mar 2008 07:44:32 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 6wYJWsCss89G for <sip@core3.amsl.com>;
	Thu, 20 Mar 2008 07:44:28 -0700 (PDT)
Received: from mailgw3.ericsson.se (mailgw3.ericsson.se [193.180.251.60])
	by core3.amsl.com (Postfix) with ESMTP id 883C63A6B53
	for <sip@ietf.org>; Thu, 20 Mar 2008 07:44:28 -0700 (PDT)
Received: from mailgw3.ericsson.se (unknown [127.0.0.1])
	by mailgw3.ericsson.se (Symantec Mail Security) with ESMTP id
	A2AF420B63; Thu, 20 Mar 2008 15:42:09 +0100 (CET)
X-AuditID: c1b4fb3c-ad89abb00000193b-fc-47e277c12b1e
Received: from esealmw128.eemea.ericsson.se (unknown [153.88.254.121])
	by mailgw3.ericsson.se (Symantec Mail Security) with ESMTP id
	818E420594; Thu, 20 Mar 2008 15:42:09 +0100 (CET)
Received: from esealmw109.eemea.ericsson.se ([153.88.200.2]) by
	esealmw128.eemea.ericsson.se with Microsoft SMTPSVC(6.0.3790.1830); 
	Thu, 20 Mar 2008 15:42:09 +0100
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Thu, 20 Mar 2008 15:42:08 +0100
Message-ID: <47B2061B1E5E494B96AA40008300D850243359@esealmw109.eemea.ericsson.se>
In-Reply-To: <200803192133.m2JLXQDm022953@dragon.ariadne.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] Deficiencies of History-Info
thread-index: AciKCPDEIBVfyRhVRcWzSVoZ4I+C+wAjN1rA
References: <200803192133.m2JLXQDm022953@dragon.ariadne.com>
From: "Hans Erik van Elburg" <hanserik.van.elburg@ericsson.com>
To: <Dale.Worley@comcast.net>,
	<sip@ietf.org>
X-OriginalArrivalTime: 20 Mar 2008 14:42:09.0109 (UTC)
	FILETIME=[934E1850:01C88A98]
X-Brightmail-Tracker: AAAAAA==
Subject: Re: [Sip] Deficiencies of History-Info
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Yes.

Isn't the more fundamental design problem that causes this that the
Reason is captured on the hi-targeted-to-uri that has been retargeted
instead of being associated with the new target signifying how it came
into being.

Not sure if adding additional indexes makes things clearer.

BTW: If  UA4 is from 302, then why does UA3 line on F8 contain reason
480? I would expect it to have no attached reason.

/Hans Erik

-----Original Message-----
From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On Behalf Of
Dale.Worley@comcast.net
Sent: Wednesday, March 19, 2008 10:33 PM
To: sip@ietf.org
Subject: [Sip] Deficiencies of History-Info

I've looking at History-Info (RFC 4244) and I think that as it is
currently defined, it has a deficiency in regard to capturing the
forking structure of a request.

Let us look at an example that parallels the first example of RFC 4244
Appendix A (with non-significant messages omitted):

   UA1      Proxy1                UA2      UA3      UA4
   |            |                  |        |        |
   |-INVITE F1->|                  |        |        |
   |            |                  |        |        |
   |            |--INVITE F2------>|        |        |
   |            |                  |        |        |
   |            |<-302 F4----------|        |        |
   |            |                  |        |        |
   |            |-------INVITE F5 --------->|        |
   |            |                  |        |        |
   |            |<-------486 F6 ------------|        |
   |            |                  |        |        |
   |            |------INVITE F8 ------------------->|
   |            |                  |        |        |
   |            |<-200 F10 --------------------------|
   |            |                  |        |        |
   |            |-- ACK F11------------------------->|
   |<--200 F12--|                  |        |        |
   |            |                  |        |        |
   |--ACK F13-->|                  |        |        |
   |            |                  |        |        |

Assuming that each agent applies History-Info, the History-Info headers
will look like this:


      F1 INVITE UA1 ->Proxy1

      History-Info: <sip:UA2@example.com>; index=1


      F2 INVITE  Proxy1 ->UA2

      History-Info: <sip:UA2@example.com>; index=1,
       <sip:UA2@ims.example.com>; index=1.1


      F5 INVITE Proxy1 -> UA3

      History-Info: <sip:UA2@example.com>; index=1,
       <sip:UA2@ims.example.com?Reason=SIP;\
       cause=302; text="Moved Temporarily">; index=1.1,
       <sip:UA3@example.com>;index=1.2


      F8 INVITE Proxy1 -> UA4

      History-Info: <sip:UA2@example.com>; index=1,
       <sip:UA2@ims.example.com?Reason=SIP;\
       cause=302; text="Moved Temporarily">;index=1.1,
       <sip:UA3@example.com?Reason=SIP;cause=480;\
       text="Temporarily Unavailable" >;index=1.2,
       <sip:UA4@example.com>;index=1.3


These History-Info headers correctly give the forking structure of the
INVITE.

The difficulty is that History-Info does not tell us why UA4 was chosen
as a target -- It could have been generated by Proxy1 as a target for
UA2, or it could have been a Contact in the 302 response F4.  As one
thinks about call routing, UA4 could be a consequence of
UA2@example.com, or it could have been a consequence of
UA2@ims.example.com which was itself a consequence of UA2@example.com.

It seems to me that we need a further indicator when a target is added
to the target set by a received 3xx response.  Let me propose that the
indicator be an additional field parameter "redir" whose value is the
"index" value of the URI whose 3xx response added the target.

In the above example, if both UA3 and UA4 were from the 302 response,
F8 would become:

      F8 INVITE Proxy1 -> UA4

      History-Info: <sip:UA2@example.com>; index=1,
       <sip:UA2@ims.example.com?Reason=SIP;\
       cause=302; text="Moved Temporarily">;index=1.1;redir=1,
       <sip:UA3@example.com?Reason=SIP;cause=480;\
       text="Temporarily Unavailable" >;index=1.2;redir=1,
       <sip:UA4@example.com>;index=1.3

Dale
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol Use
sip-implementors@cs.columbia.edu for questions on current sip Use
sipping@ietf.org for new developments on the application of sip
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu Mar 20 08:59:31 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id A1F8728C5F7;
	Thu, 20 Mar 2008 08:59:31 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.086
X-Spam-Level: 
X-Spam-Status: No, score=-100.086 tagged_above=-999 required=5
	tests=[AWL=0.351, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id DMgHW3-XeaM4; Thu, 20 Mar 2008 08:59:30 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 950A33A6F58;
	Thu, 20 Mar 2008 08:59:27 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id E7C173A6DFF;
	Thu, 20 Mar 2008 08:59:24 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id j+wieFh-pMfj; Thu, 20 Mar 2008 08:59:21 -0700 (PDT)
Received: from estacado.net (estacado-pt.tunnel.tserv2.fmt.ipv6.he.net
	[IPv6:2001:470:1f03:266::2])
	by core3.amsl.com (Postfix) with ESMTP id A036A28C3DE;
	Thu, 20 Mar 2008 08:58:43 -0700 (PDT)
Received: from [172.16.3.232] ([172.16.3.232]) (authenticated bits=0)
	by estacado.net (8.14.2/8.14.1) with ESMTP id m2KFuNVo092636
	(version=TLSv1/SSLv3 cipher=AES128-SHA bits=128 verify=NO);
	Thu, 20 Mar 2008 10:56:24 -0500 (CDT)
	(envelope-from rjsparks@estacado.net)
Message-Id: <DD459298-A1DC-440D-A9A9-DC64FC9458CA@estacado.net>
From: Robert Sparks <rjsparks@estacado.net>
To: Robert Sparks <rjsparks@estacado.net>
In-Reply-To: <43A3E655-E3C8-406A-B6FA-8BFCC64F0A63@estacado.net>
Mime-Version: 1.0 (Apple Message framework v919.2)
Date: Thu, 20 Mar 2008 10:56:23 -0500
References: <D282B4E8-CFFC-4D0A-BC8E-1AAFDF7F0B2E@estacado.net>
	<43A3E655-E3C8-406A-B6FA-8BFCC64F0A63@estacado.net>
X-Mailer: Apple Mail (2.919.2)
Cc: sip List <sip@ietf.org>, sipping LIST <sipping@ietf.org>,
	simple mailing list <simple@ietf.org>
Subject: [Sip] Reminder: SIPit 22 registration closes in two weeks
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Registration for this SIPit closes two weeks from tomorrow (on April 4).

If you're planning to attend, but have not yet registered, now's the  
time.


RjS

------------

SIPit 22 will be hosted by the University of New Hampshire  
Interoperability Laboratory
April 14 through 18, 2008.

Registration is $350 (USD) per person. Registration will close April 4.

Space is limited, so register early to ensure a seat.

Additional registration details are available at http://www.sipit.net

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu Mar 20 09:55:49 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id DBEB728C3BD;
	Thu, 20 Mar 2008 09:55:49 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.566
X-Spam-Level: 
X-Spam-Status: No, score=-100.566 tagged_above=-999 required=5
	tests=[AWL=-0.129, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id kkmG91XRzxIT; Thu, 20 Mar 2008 09:55:44 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 3B03828C1A7;
	Thu, 20 Mar 2008 09:55:44 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 235BC3A6C95
	for <sip@core3.amsl.com>; Thu, 20 Mar 2008 09:55:42 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id cBx74Z5NgXxY for <sip@core3.amsl.com>;
	Thu, 20 Mar 2008 09:55:40 -0700 (PDT)
Received: from mailgate.siemenscomms.co.uk (mailgate.siemenscomms.co.uk
	[195.171.110.225])
	by core3.amsl.com (Postfix) with ESMTP id AFEAB3A6774
	for <sip@ietf.org>; Thu, 20 Mar 2008 09:55:40 -0700 (PDT)
Received: from GBNTHT12009MSX.gb002.siemens.net ([137.223.219.235])
	by siemenscomms.co.uk (PMDF V6.3-x14 #31430)
	with ESMTP id <0JY100K1EG8YA7@siemenscomms.co.uk> for sip@ietf.org; Thu,
	20 Mar 2008 16:53:22 +0000 (GMT)
Date: Thu, 20 Mar 2008 16:53:14 +0000
From: "Elwell, John" <john.elwell@siemens.com>
In-reply-to: <E6C2E8958BA59A4FB960963D475F7AC30BCA2EC359@mail.acmepacket.com>
To: Hadriel Kaplan <HKaplan@acmepacket.com>, IETF SIP List <sip@ietf.org>
Message-id: <0D5F89FAC29E2C41B98A6A762007F5D0841836@GBNTHT12009MSX.gb002.siemens.net>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft Exchange V6.5
Thread-Topic: Straw-man for rfc4474 and e164
Thread-Index: AciFI5YbIRH7as9BRI6LOp3qb71tsgADi3bQAAkEwCAAJkpDAAADU+/wAAHzTxAAAfh7gAAtH0rgAPozXPA=
Content-class: urn:content-classes:message
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
References: <B0495A1B-2677-4FCE-B718-3C48DCF5205B@softarmor.com>
	<092B2658AAB56A4D80836399A4C4703103D07C27@ASHEVS002.mcilink.com>
	<0D5F89FAC29E2C41B98A6A762007F5D07DB0A2@GBNTHT12009MSX.gb002.siemens.net>
	<E6C2E8958BA59A4FB960963D475F7AC30BCA2EBBE1@mail.acmepacket.com>
	<0D5F89FAC29E2C41B98A6A762007F5D07DB454@GBNTHT12009MSX.gb002.siemens.net>
	<E6C2E8958BA59A4FB960963D475F7AC30BCA2EBED0@mail.acmepacket.com>
	<0D5F89FAC29E2C41B98A6A762007F5D07DB474@GBNTHT12009MSX.gb002.siemens.net>
	<E6C2E8958BA59A4FB960963D475F7AC30BCA2EC359@mail.acmepacket.com>
Subject: Re: [Sip] Straw-man for rfc4474 and e164
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Hadriel,

> -----Original Message-----
> From: Hadriel Kaplan [mailto:HKaplan@acmepacket.com] 
> Sent: 15 March 2008 17:36
> To: Elwell, John; IETF SIP List
> Subject: RE: Straw-man for rfc4474 and e164
> 
> 
> 
> > -----Original Message-----
> > From: Elwell, John [mailto:john.elwell@siemens.com]
> >
> > What I want is the end domain, e.g., my bank. Being assured 
> my call is
> > secured as far as my service provider gives me no confidence it is
> > secured as far as my bank or whatever domain I want to 
> communicate with.
> > That is why "email-style" is so much better than phone-number-based.
> 
> Sure, and that works well for domain names you recognize, if 
> your UA displays it, because really you're mentally treating 
> it as an email-style URI.  (and also why Paul said this would 
> only work for whitelists) But if it is a call from 
> sip:+12128675309@cht.com.tw signed by cht.com.tw, it would 
> mean nothing to most people.  
[JRE] Exactly, and therefore if the person claims to be from my bank I
would probably be very suspicious.

> The verifier would think it's 
> fine as would your UAS, and it may be fine (Chunghwa Telecom 
> is a legit telco).  Or it may be that CHT got it from a CLID 
> spoofer service in the PSTN, or CHT is mis-configured, or a 
> CLID spoofer provider itself. (they're not, but you wouldn't 
> know that, and the fact that a +1 number came from Chunghwa 
> Telecom is suspicious)
> 
> The straw-man says CHT would only sign it "if it believes 
> that calls to that number will reach the user".  I'm not 
> actually sure what that means.  I think you mean if calls to 
> that username number would reach the same domain that's 
> signing it??  Regardless, if CHT *were* to offer a CLID 
> spoofer service, it would obviously sign it anyway, and no 
> one would be wiser.  For email-style URI's that's not 
> possible, because CHT can't sign sip:john.elwell@siemens.com. 
>  Siemens could sign it maliciously, but doing so only spoofs 
> siemens.com's users.  Whereas CHT signing 
> sip:+12128675309@cht.com.tw maliciously actually spoofs the 
> real owner of +12128675309 globally, because it is treated by 
> machines and humans as a global identity regardless of the domain.
[JRE] I think what the straw man meant is that CHT should sign it if, by
routing a return request back to CHT, CHT would be able to route that
return request to the entity that was the source of the original
request. So if CHT somehow authenticated the original request as coming
from +12128675309@ChinaBank.com, it could sign it has having come from
+12128675309@CHT.com and then, on receiving a return request to
+12128675309@CHT.com, could route it on to +12128675309@ChinaBank.com.
How helpful is this to the receiver of the original request? It just
means that return routability via CHT should work, and not that CHT.com
is the end domain from which the original request came. Not very useful
for authentication purposes. But on the other hand, an unchanged From
URI (+12128675309@ChinaBank.com) might be more useful.

John
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu Mar 20 13:31:07 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id D09D93A6FBF;
	Thu, 20 Mar 2008 13:31:07 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.363
X-Spam-Level: 
X-Spam-Status: No, score=-100.363 tagged_above=-999 required=5
	tests=[AWL=0.074, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id HEf0YEOAESsD; Thu, 20 Mar 2008 13:31:06 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 63FFF3A6D93;
	Thu, 20 Mar 2008 13:31:06 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 59F533A6A06
	for <sip@core3.amsl.com>; Thu, 20 Mar 2008 13:31:04 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id ePfCCAlCaQKM for <sip@core3.amsl.com>;
	Thu, 20 Mar 2008 13:31:03 -0700 (PDT)
Received: from sj-iport-3.cisco.com (sj-iport-3.cisco.com [171.71.176.72])
	by core3.amsl.com (Postfix) with ESMTP id 5539F3A6D93
	for <sip@ietf.org>; Thu, 20 Mar 2008 13:31:03 -0700 (PDT)
Received: from sj-dkim-3.cisco.com ([171.71.179.195])
	by sj-iport-3.cisco.com with ESMTP; 20 Mar 2008 13:28:45 -0700
Received: from sj-core-1.cisco.com (sj-core-1.cisco.com [171.71.177.237])
	by sj-dkim-3.cisco.com (8.12.11/8.12.11) with ESMTP id m2KKSiTT002075; 
	Thu, 20 Mar 2008 13:28:44 -0700
Received: from xbh-sjc-211.amer.cisco.com (xbh-sjc-211.cisco.com
	[171.70.151.144])
	by sj-core-1.cisco.com (8.13.8/8.13.8) with ESMTP id m2KKSi3a008832;
	Thu, 20 Mar 2008 20:28:44 GMT
Received: from xfe-sjc-211.amer.cisco.com ([171.70.151.174]) by
	xbh-sjc-211.amer.cisco.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Thu, 20 Mar 2008 13:28:44 -0700
Received: from jmpolk-wxp.cisco.com ([10.21.73.21]) by
	xfe-sjc-211.amer.cisco.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Thu, 20 Mar 2008 13:28:43 -0700
X-Mailer: QUALCOMM Windows Eudora Version 7.1.0.9
Date: Thu, 20 Mar 2008 15:28:41 -0500
To: Dale.Worley@comcast.net, sip@ietf.org
From: "James M. Polk" <jmpolk@cisco.com>
In-Reply-To: <200803200230.m2K2UcbI012455@dragon.ariadne.com>
References: <200803200230.m2K2UcbI012455@dragon.ariadne.com>
Mime-Version: 1.0
Message-ID: <XFE-SJC-211FSA4AleL00001363@xfe-sjc-211.amer.cisco.com>
X-OriginalArrivalTime: 20 Mar 2008 20:28:44.0000 (UTC)
	FILETIME=[FE06A600:01C88AC8]
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; l=3750; t=1206044924;
	x=1206908924; c=relaxed/simple; s=sjdkim3002;
	h=Content-Type:From:Subject:Content-Transfer-Encoding:MIME-Version;
	d=cisco.com; i=jmpolk@cisco.com;
	z=From:=20=22James=20M.=20Polk=22=20<jmpolk@cisco.com>
	|Subject:=20Re=3A=20[Sip]=20The=20emergency=20services=20ro
	uting=20use=20case |Sender:=20;
	bh=KlMsFrCvYpHpjCH7Bigqm91RHpnQJpbzo0SJGL0MGaA=;
	b=Ia1BsmNb2SSBziAm6eDo+bkN3cH7sKPFa0HZI2uEFRDiy32pVs+k4D7Juw
	Dn2Vc22sQKs4+pqAf5/HFLRbuXUWOvYrBwixZCNQ7FvRkyvI66nm8eRWSBk/
	B0lLNoRgwv;
Authentication-Results: sj-dkim-3; header.From=jmpolk@cisco.com; dkim=pass (
	sig from cisco.com/sjdkim3002 verified; ); 
Subject: Re: [Sip] The emergency services routing use case
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Dave

I believe the To: field is always supposed to be urn:service:sos, 
regardless of the choice in how to do this.  I don't know if this 
helps the point you're making...

James

At 09:30 PM 3/19/2008, Dale.Worley@comcast.net wrote:
>In regard to this use case in draft-rosenberg-sip-ua-loose-route-02.txt:
>
>    2.6.  Emergency Services
>
>    Another problem that arises from Request-URI rewriting is with
>    emergency services for VoIP.  A key requirement of systems supporting
>    emergency calling is that the SIP INVITE request for an emergency
>    call be 'marked' in some way that makes it clear that it is an
>    emergency call, so that it can receive priority treatment
>    [I-D.ietf-ecrit-requirements].  However, such a marking needs to be
>    done in a way that it cannot be abused by attackers seeking to get
>    special treatment for non-emergency calls.  The solution for this is
>    that the marking needs to be the target address of the request
>    itself, which would unambiguously identify an emergency services
>    calltaker as the target.
>
>Implicitly, an additional requirement is the ability to do non-trivial
>routing and fowarding of the emergency request, that is, where one SIP
>agent could provide routing instructions to downstream SIP agents.  In
>a perfect world, a proxy could route locally-originating emergency
>requests to any specified SIP URI, based on local policy regarding
>routing of emergency requests.
>
>Unfortunately, neither draft-rosenberg-sip-ua-loose-route,
>draft-holmberg-sip-target-uri-delivery, nor History-Info solves this
>problem.  The problem is fundamental:  We desire the *routing* of the
>message to be controlled by one element of the request, while the
>*priority* is controlled by a different element, the alleged ultimate
>destination ("urn:service:sos").  But such a split automatically
>allows a malicious user to take advantage of emergency prioritization
>for his own use.
>
>As proposed, a message would have "routed emergency service" in one of
>the following ways.  (We assume that sip:psap@10.1.1.1 is the
>emergency services address.  In North American usage, an emergency
>services operation is called a "PSAP", "Public-Safety Answering
>Point".)
>
>     INVITE urn:service:sos SIP/2.0
>     From: xxx
>     To: xxx
>     Route: <sip:psap@10.1.1.1;lr>
>
>     INVITE sip:psap@10.1.1.1 SIP/2.0
>     From: xxx
>     To: xxx
>     Target: urn:service:sos
>
>     INVITE sip:psap@10.1.1.1 SIP/2.0
>     From: xxx
>     To: xxx
>     History-Info: <urn:service:sos?Reason=SIP%3Bcause%3D302>;index=1,
>             <sip:psap@10.1.1.1>;index=2
>
>Unfortunately, all of mechanisms can be exploited (in the same way)
>for nefarious purposes:
>
>     INVITE urn:service:sos SIP/2.0
>     From: xxx
>     To: xxx
>     Route: <sip:Dale.Worley@example.com;lr>
>
>     INVITE sip:Dale.Worley@example.com SIP/2.0
>     From: xxx
>     To: xxx
>     Target: urn:service:sos
>
>     INVITE sip:Dale.Worley@example.com SIP/2.0
>     From: xxx
>     To: xxx
>     History-Info: <urn:service:sos?Reason=SIP%3Bcause%3D302>;index=1,
>             <sip:Dale.Worley@example.com>;index=2
>
>By hypothesis, all of these requests are intended to be routed to
>sip:Dale.Worley@example.com with emergency priority, before allegedly
>being forwarded to the correct PSAP destination.
>
>Dale
>_______________________________________________
>Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
>This list is for NEW development of the core SIP Protocol
>Use sip-implementors@cs.columbia.edu for questions on current sip
>Use sipping@ietf.org for new developments on the application of sip

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu Mar 20 14:05:25 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 76A9828C79D;
	Thu, 20 Mar 2008 14:05:25 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.441
X-Spam-Level: 
X-Spam-Status: No, score=-100.441 tagged_above=-999 required=5
	tests=[AWL=-0.004, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id CS6zuFMa-mBm; Thu, 20 Mar 2008 14:05:23 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 6ACEB28C6AD;
	Thu, 20 Mar 2008 14:05:03 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 5840128C3E9
	for <sip@core3.amsl.com>; Thu, 20 Mar 2008 14:04:58 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id T9OSCRsU08oY for <sip@core3.amsl.com>;
	Thu, 20 Mar 2008 14:04:54 -0700 (PDT)
Received: from ondar.cablelabs.com (ondar.cablelabs.com [192.160.73.61])
	by core3.amsl.com (Postfix) with ESMTP id 213F128C6AD
	for <sip@ietf.org>; Thu, 20 Mar 2008 14:04:01 -0700 (PDT)
Received: from kyzyl.cablelabs.com (kyzyl [10.253.0.7])
	by ondar.cablelabs.com (8.14.2/8.14.2) with ESMTP id m2KL1cKQ018654;
	Thu, 20 Mar 2008 15:01:38 -0600
Received: from srvxchg3.cablelabs.com (10.5.0.25)
	by kyzyl.cablelabs.com (F-Secure/fsigk_smtp/511/kyzyl.cablelabs.com);
	Thu, 20 Mar 2008 15:01:38 -0700 (MST)
X-Virus-Status: clean(F-Secure/fsigk_smtp/511/kyzyl.cablelabs.com)
X-Mimeole: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Thu, 20 Mar 2008 15:00:49 -0600
Message-ID: <9AAEDF491EF7CA48AB587781B8F5D7C6010460FF@srvxchg3.cablelabs.com>
In-Reply-To: <1ECE0EB50388174790F9694F77522CCF158BEE1F@zrc2hxm0.corp.nortel.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] Outbound-12 comments
Thread-Index: AciC3Ea2fSK4uyQVQ4uHasOOq7dZ8gFme22wAJPy4zA=
References: <9AAEDF491EF7CA48AB587781B8F5D7C6FA7008@srvxchg3.cablelabs.com>
	<1ECE0EB50388174790F9694F77522CCF158BEE1F@zrc2hxm0.corp.nortel.com>
From: "Kevin Johns" <K.Johns@CableLabs.com>
To: "Francois Audet" <audet@nortel.com>, <sip@ietf.org>
X-Approved: ondar
Cc: Cullen Jennings <fluffy@cisco.com>, Rohan Mahy <rohan@ekabal.com>
Subject: Re: [Sip] Outbound-12 comments
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Francois,

Thanks for your responses, my responses are identified by <kcj>.

Kevin

-----Original Message-----
From: Francois Audet [mailto:audet@nortel.com] 
Sent: Monday, March 17, 2008 6:12 PM
To: Kevin Johns; sip@ietf.org
Cc: Rohan Mahy; Cullen Jennings
Subject: RE: [Sip] Outbound-12 comments

 

> -----Original Message-----
> From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On Behalf Of 
> Kevin Johns
> Sent: Monday, March 10, 2008 11:27
> To: sip@ietf.org
> Subject: [Sip] Outbound-12 comments
> 
> All,
>  
> I did a review of outbound, please find my comments below. 
> This review is for sections 4-8 and the comments are primarily related

> to tightening up the procedures.
> 
> Comments are formatted as follows - <section #>, <section
> title>, <optional text location> - comment...
>  
> Regards,
> Kevin
>  
> Section 4.2.1, Initial Registration, 2nd para - Is the opening 
> sentence well understood by all? "For each outbound proxy URI in the 
> set, the UA SHOULD send a unique REGISTER in the normal way using this

> URI as the default outbound proxy."

I think it's clear. What do you propose we change?
<kcj> I was not necessarily proposing a change. I just wanted to make
sure folks were comfortable with the language 'a unique REGISTER in the
normal way'. When I read this it was unclear to me what unique was
referring to? Is the REGISTER unique in that each must have a different
reg-id or that a unique call-id is used or both? Further if the normal
way is RFC 3261 then why not state a REGISTER per RFC 3261 with the
following enhancements...?

> Section 4.2.1, Initial Registration - this section makes no reference 
> to the keep-timer. It would seem that this should be discussed in the 
> same context as detecting outbound support in the registration 
> response? It is covered in section 4.4 but seems out of place as a 
> first reference.

You mean the Flow-Timer? I'm not sure why we would want to discuss the
Flow-Timer in the section about Registration. Can you be more specific
on what you are looking for?
<kcj> Yes I meant flow-timer, sorry for the confusion. Given there is
text in 4.2.1 to examine the registration response for presence of the
outbound option-tag it seemed reasonable to identify all the parameters
the UA should look for in the response. No big deal if folks are
comfortable with the current text.

> Section 4.2.2, Subsequent REGISTER requests, The first sentence - 
> "Re-registrations and single Contact de-registrations use the same 
> instance-id and reg-id values as the corresponding initial 
> registration." Suggest making this normative

You mean saying:
"Re-registrations and single Contact
 de-registrations MUST use the same instance-id and reg-id values  as
the corresponding initial registration."
<kcj> Yes this is my suggestion

Rohan?

> Section 4.3, Sending Non-REGISTER Requests, 1st paragraph - "UAs that 
> support this specification SHOULD include the outbound option tag in a

> Supported header field in a non-Register REGISTER request." What is a 
> non-Register REGISTER request?

I think this is a typo: it should say "non-Register request.".

> Further why is this recommended? I did not see this information being 
> used by the edge proxy elsewhere in the document?

That is a good question. Rohan? Cullen?


> Section 4.4, Keep-alives and Detecting Flow Failure, 2nd paragraph - 
> "When a successful registration response contains the Flow-Timer 
> header field..." This is the first reference to the Flow-Timer header 
> and it is unclear in the context of this section what a successful 
> registration response is.
> While a proxy is only allowed to insert this in a response containing 
> the outbound option-tag in a Require header field, it would seem 
> reasonable to indicate that it is only used by the UA if outbound 
> support is also signaled. However this may cross with the current 
> thread on keep-alive usage and that a proxy may choose to use 
> keep-alives without outbound and have a desire to control their rate 
> of arrival?

Correct. It would cross with the current tread on keep-alive usage.

> Section 4.4, Keep-alives and Detecting Flow Failure, 2nd paragraph - 
> "For example, it the server suggests 120 seconds, the UA would send 
> each keepalive with a different frequency between 95 and 120 seconds."

> I think 'it' should be 'if'.

Correct.

> Section 5.4, Edge Proxy Keep alive Handling, last paragraph - should 
> recommended timer values be provided which align with the UA 
> recommended values in absence of the Flow-Timer value?

I'm not sure it would be useful, as omitting the Flow-Timer altogether
would have the same result (and would use less bytes in messages).
<kcj> OK

> Section 6, Registrar Mechanisms: Processing REGISTER Requests
> - this section has no discussion on action taken on receipt of a 430 
> response.

Correct. It describes UAS not UAC.
<kcj> I am no longer sure why I called this out, especially given my
comment below on section 7.

> Section 7 (Authoritative Proxy Mechanisms: Forwarding Requests - last
> para) does talk about invalidating bindings to invalid flows but does 
> not reference a 430 response as one possible methods for determining a

> failed flow/binding. I am not sure which section should address this 
> but some text does need to be added to cover this cause.

Yes, it may need some improvements.
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu Mar 20 14:27:40 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 12F3628C7CC;
	Thu, 20 Mar 2008 14:27:40 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.45
X-Spam-Level: 
X-Spam-Status: No, score=-100.45 tagged_above=-999 required=5
	tests=[AWL=-0.013, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id rmVq9LxUC1zl; Thu, 20 Mar 2008 14:27:39 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 39A5F28C717;
	Thu, 20 Mar 2008 14:27:39 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 6684828C717
	for <sip@core3.amsl.com>; Thu, 20 Mar 2008 14:27:37 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 88sSwS0MA6x0 for <sip@core3.amsl.com>;
	Thu, 20 Mar 2008 14:27:36 -0700 (PDT)
Received: from ondar.cablelabs.com (ondar.cablelabs.com [192.160.73.61])
	by core3.amsl.com (Postfix) with ESMTP id 3131428C6FC
	for <sip@ietf.org>; Thu, 20 Mar 2008 14:27:36 -0700 (PDT)
Received: from kyzyl.cablelabs.com (kyzyl [10.253.0.7])
	by ondar.cablelabs.com (8.14.2/8.14.2) with ESMTP id m2KLP9sC020585;
	Thu, 20 Mar 2008 15:25:09 -0600
Received: from srvxchg3.cablelabs.com (10.5.0.25)
	by kyzyl.cablelabs.com (F-Secure/fsigk_smtp/511/kyzyl.cablelabs.com);
	Thu, 20 Mar 2008 15:25:09 -0700 (MST)
X-Virus-Status: clean(F-Secure/fsigk_smtp/511/kyzyl.cablelabs.com)
X-Mimeole: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Thu, 20 Mar 2008 15:25:09 -0600
Message-ID: <9AAEDF491EF7CA48AB587781B8F5D7C60104610D@srvxchg3.cablelabs.com>
In-Reply-To: <9AAEDF491EF7CA48AB587781B8F5D7C6010460FF@srvxchg3.cablelabs.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] Outbound-12 comments
Thread-Index: AciC3Ea2fSK4uyQVQ4uHasOOq7dZ8gFme22wAJPy4zAAAiagYA==
References: <9AAEDF491EF7CA48AB587781B8F5D7C6FA7008@srvxchg3.cablelabs.com><1ECE0EB50388174790F9694F77522CCF158BEE1F@zrc2hxm0.corp.nortel.com>
	<9AAEDF491EF7CA48AB587781B8F5D7C6010460FF@srvxchg3.cablelabs.com>
From: "Sumanth Channabasappa" <sumanth@cablelabs.com>
To: "Kevin Johns" <K.Johns@cablelabs.com>, "Francois Audet" <audet@nortel.com>,
	<sip@ietf.org>
X-Approved: ondar
Cc: Cullen Jennings <fluffy@cisco.com>, Rohan Mahy <rohan@ekabal.com>
Subject: Re: [Sip] Outbound-12 comments
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

> Section 4.3, Sending Non-REGISTER Requests, 1st paragraph - "UAs that 
> support this specification SHOULD include the outbound option tag in a

> Supported header field in a non-Register REGISTER request." What is a 
> non-Register REGISTER request?

>>I think this is a typo: it should say "non-Register request.".

> Further why is this recommended? I did not see this information being 
> used by the edge proxy elsewhere in the document?

>>That is a good question. Rohan? Cullen?

[S] An example of a non-REGISTER request is a SIP SUBSCRIBE message. I
am guessing this requirement refers to the use of outbound in such
cases. (We use the 'ob' parameter within the SIP Configuration
Framework.)


- S
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu Mar 20 14:29:19 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id CBE3D3A6FCB;
	Thu, 20 Mar 2008 14:29:19 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.89
X-Spam-Level: 
X-Spam-Status: No, score=-100.89 tagged_above=-999 required=5
	tests=[AWL=-0.453, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id FQgW5bZ2pS64; Thu, 20 Mar 2008 14:29:18 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id BB5023A6A06;
	Thu, 20 Mar 2008 14:29:18 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 192B83A6A06
	for <sip@core3.amsl.com>; Thu, 20 Mar 2008 14:29:17 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id mUfd6VbCFX5t for <sip@core3.amsl.com>;
	Thu, 20 Mar 2008 14:29:16 -0700 (PDT)
Received: from zcars04f.nortel.com (zcars04f.nortel.com [47.129.242.57])
	by core3.amsl.com (Postfix) with ESMTP id 168CA3A67F1
	for <sip@ietf.org>; Thu, 20 Mar 2008 14:29:15 -0700 (PDT)
Received: from zrc2hxm0.corp.nortel.com (zrc2hxm0.corp.nortel.com
	[47.103.123.71])
	by zcars04f.nortel.com (Switch-2.2.6/Switch-2.2.0) with ESMTP id
	m2KLQqP05360; Thu, 20 Mar 2008 21:26:53 GMT
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Thu, 20 Mar 2008 16:26:51 -0500
Message-ID: <1ECE0EB50388174790F9694F77522CCF15A27987@zrc2hxm0.corp.nortel.com>
In-Reply-To: <9AAEDF491EF7CA48AB587781B8F5D7C60104610D@srvxchg3.cablelabs.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] Outbound-12 comments
Thread-Index: AciC3Ea2fSK4uyQVQ4uHasOOq7dZ8gFme22wAJPy4zAAAiagYAAAnUPQ
References: <9AAEDF491EF7CA48AB587781B8F5D7C6FA7008@srvxchg3.cablelabs.com><1ECE0EB50388174790F9694F77522CCF158BEE1F@zrc2hxm0.corp.nortel.com>
	<9AAEDF491EF7CA48AB587781B8F5D7C6010460FF@srvxchg3.cablelabs.com>
	<9AAEDF491EF7CA48AB587781B8F5D7C60104610D@srvxchg3.cablelabs.com>
From: "Francois Audet" <audet@nortel.com>
To: "Sumanth Channabasappa" <sumanth@cablelabs.com>,
	"Kevin Johns" <K.Johns@cablelabs.com>, <sip@ietf.org>
Cc: Cullen Jennings <fluffy@cisco.com>, Rohan Mahy <rohan@ekabal.com>
Subject: Re: [Sip] Outbound-12 comments
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Like the SUBSCRIBE in the example call flow section (the first one). 

> -----Original Message-----
> From: Sumanth Channabasappa [mailto:sumanth@cablelabs.com] 
> Sent: Thursday, March 20, 2008 14:25
> To: Kevin Johns; Audet, Francois (SC100:3055); sip@ietf.org
> Cc: Cullen Jennings; Rohan Mahy
> Subject: RE: [Sip] Outbound-12 comments
> 
> > Section 4.3, Sending Non-REGISTER Requests, 1st paragraph - 
> "UAs that 
> > support this specification SHOULD include the outbound 
> option tag in a
> 
> > Supported header field in a non-Register REGISTER request." 
> What is a 
> > non-Register REGISTER request?
> 
> >>I think this is a typo: it should say "non-Register request.".
> 
> > Further why is this recommended? I did not see this 
> information being 
> > used by the edge proxy elsewhere in the document?
> 
> >>That is a good question. Rohan? Cullen?
> 
> [S] An example of a non-REGISTER request is a SIP SUBSCRIBE 
> message. I am guessing this requirement refers to the use of 
> outbound in such cases. (We use the 'ob' parameter within the 
> SIP Configuration
> Framework.)
> 
> 
> - S
> 
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu Mar 20 14:30:04 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id A206C28C6E5;
	Thu, 20 Mar 2008 14:30:04 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.44
X-Spam-Level: 
X-Spam-Status: No, score=-100.44 tagged_above=-999 required=5
	tests=[AWL=-0.003, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id IlMLJ0NTrxNN; Thu, 20 Mar 2008 14:30:03 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id B65593A6F73;
	Thu, 20 Mar 2008 14:30:03 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 3C0503A681D
	for <sip@core3.amsl.com>; Thu, 20 Mar 2008 14:30:02 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id bLh15Gc3XLHb for <sip@core3.amsl.com>;
	Thu, 20 Mar 2008 14:29:58 -0700 (PDT)
Received: from ondar.cablelabs.com (ondar.cablelabs.com [192.160.73.61])
	by core3.amsl.com (Postfix) with ESMTP id 7700F3A6F9A
	for <sip@ietf.org>; Thu, 20 Mar 2008 14:29:58 -0700 (PDT)
Received: from kyzyl.cablelabs.com (kyzyl [10.253.0.7])
	by ondar.cablelabs.com (8.14.2/8.14.2) with ESMTP id m2KLRZRi020765;
	Thu, 20 Mar 2008 15:27:35 -0600
Received: from srvxchg3.cablelabs.com (10.5.0.25)
	by kyzyl.cablelabs.com (F-Secure/fsigk_smtp/511/kyzyl.cablelabs.com);
	Thu, 20 Mar 2008 15:27:35 -0700 (MST)
X-Virus-Status: clean(F-Secure/fsigk_smtp/511/kyzyl.cablelabs.com)
X-Mimeole: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Thu, 20 Mar 2008 15:27:33 -0600
Message-ID: <9AAEDF491EF7CA48AB587781B8F5D7C60104610E@srvxchg3.cablelabs.com>
In-Reply-To: <9AAEDF491EF7CA48AB587781B8F5D7C60104610D@srvxchg3.cablelabs.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] Outbound-12 comments
Thread-Index: AciC3Ea2fSK4uyQVQ4uHasOOq7dZ8gFme22wAJPy4zAAAiagYAAAmF9g
References: <9AAEDF491EF7CA48AB587781B8F5D7C6FA7008@srvxchg3.cablelabs.com><1ECE0EB50388174790F9694F77522CCF158BEE1F@zrc2hxm0.corp.nortel.com>
	<9AAEDF491EF7CA48AB587781B8F5D7C6010460FF@srvxchg3.cablelabs.com>
	<9AAEDF491EF7CA48AB587781B8F5D7C60104610D@srvxchg3.cablelabs.com>
From: "Kevin Johns" <K.Johns@CableLabs.com>
To: "Sumanth Channabasappa" <sumanth@CableLabs.com>,
	"Francois Audet" <audet@nortel.com>, <sip@ietf.org>
X-Approved: ondar
Cc: Cullen Jennings <fluffy@cisco.com>, Rohan Mahy <rohan@ekabal.com>
Subject: Re: [Sip] Outbound-12 comments
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Sumanth,

Right, but the question is why is this recommended and how is it used by
the Edge Proxy?

Kevin 

-----Original Message-----
From: Sumanth Channabasappa 
Sent: Thursday, March 20, 2008 3:25 PM
To: Kevin Johns; Francois Audet; sip@ietf.org
Cc: Cullen Jennings; Rohan Mahy
Subject: RE: [Sip] Outbound-12 comments

> Section 4.3, Sending Non-REGISTER Requests, 1st paragraph - "UAs that 
> support this specification SHOULD include the outbound option tag in a

> Supported header field in a non-Register REGISTER request." What is a 
> non-Register REGISTER request?

>>I think this is a typo: it should say "non-Register request.".

> Further why is this recommended? I did not see this information being 
> used by the edge proxy elsewhere in the document?

>>That is a good question. Rohan? Cullen?

[S] An example of a non-REGISTER request is a SIP SUBSCRIBE message. I
am guessing this requirement refers to the use of outbound in such
cases. (We use the 'ob' parameter within the SIP Configuration
Framework.)


- S
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu Mar 20 14:36:02 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 6BCC528C7F0;
	Thu, 20 Mar 2008 14:36:02 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.439
X-Spam-Level: 
X-Spam-Status: No, score=-100.439 tagged_above=-999 required=5
	tests=[AWL=-0.002, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id sz+9V7sSGEfa; Thu, 20 Mar 2008 14:36:01 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 4B29E3A6FA0;
	Thu, 20 Mar 2008 14:36:01 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 7EC7528C1F7
	for <sip@core3.amsl.com>; Thu, 20 Mar 2008 14:36:00 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id wePt+L+4esTK for <sip@core3.amsl.com>;
	Thu, 20 Mar 2008 14:35:59 -0700 (PDT)
Received: from ondar.cablelabs.com (ondar.cablelabs.com [192.160.73.61])
	by core3.amsl.com (Postfix) with ESMTP id A24D13A6FA0
	for <sip@ietf.org>; Thu, 20 Mar 2008 14:35:59 -0700 (PDT)
Received: from kyzyl.cablelabs.com (kyzyl [10.253.0.7])
	by ondar.cablelabs.com (8.14.2/8.14.2) with ESMTP id m2KLXZKD021192;
	Thu, 20 Mar 2008 15:33:35 -0600
Received: from srvxchg3.cablelabs.com (10.5.0.25)
	by kyzyl.cablelabs.com (F-Secure/fsigk_smtp/511/kyzyl.cablelabs.com);
	Thu, 20 Mar 2008 15:33:35 -0700 (MST)
X-Virus-Status: clean(F-Secure/fsigk_smtp/511/kyzyl.cablelabs.com)
X-Mimeole: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Thu, 20 Mar 2008 15:33:33 -0600
Message-ID: <9AAEDF491EF7CA48AB587781B8F5D7C601046110@srvxchg3.cablelabs.com>
In-Reply-To: <1ECE0EB50388174790F9694F77522CCF15A27987@zrc2hxm0.corp.nortel.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] Outbound-12 comments
Thread-Index: AciC3Ea2fSK4uyQVQ4uHasOOq7dZ8gFme22wAJPy4zAAAiagYAAAnUPQAAAzd3A=
References: <9AAEDF491EF7CA48AB587781B8F5D7C6FA7008@srvxchg3.cablelabs.com><1ECE0EB50388174790F9694F77522CCF158BEE1F@zrc2hxm0.corp.nortel.com>
	<9AAEDF491EF7CA48AB587781B8F5D7C6010460FF@srvxchg3.cablelabs.com>
	<9AAEDF491EF7CA48AB587781B8F5D7C60104610D@srvxchg3.cablelabs.com>
	<1ECE0EB50388174790F9694F77522CCF15A27987@zrc2hxm0.corp.nortel.com>
From: "Kevin Johns" <K.Johns@CableLabs.com>
To: "Francois Audet" <audet@nortel.com>,
	"Sumanth Channabasappa" <sumanth@CableLabs.com>, <sip@ietf.org>
X-Approved: ondar
Cc: Cullen Jennings <fluffy@cisco.com>, Rohan Mahy <rohan@ekabal.com>
Subject: Re: [Sip] Outbound-12 comments
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

So this would seem to imply that the presence of outbound in the support
header indicates that a flow should be established and the Edge Proxy
record route with a flow token in order for the resulting NOTIFY to be
delivered in the absence of the UA having registered? 

-----Original Message-----
From: Francois Audet [mailto:audet@nortel.com] 
Sent: Thursday, March 20, 2008 3:27 PM
To: Sumanth Channabasappa; Kevin Johns; sip@ietf.org
Cc: Cullen Jennings; Rohan Mahy
Subject: RE: [Sip] Outbound-12 comments

Like the SUBSCRIBE in the example call flow section (the first one). 

> -----Original Message-----
> From: Sumanth Channabasappa [mailto:sumanth@cablelabs.com]
> Sent: Thursday, March 20, 2008 14:25
> To: Kevin Johns; Audet, Francois (SC100:3055); sip@ietf.org
> Cc: Cullen Jennings; Rohan Mahy
> Subject: RE: [Sip] Outbound-12 comments
> 
> > Section 4.3, Sending Non-REGISTER Requests, 1st paragraph -
> "UAs that
> > support this specification SHOULD include the outbound
> option tag in a
> 
> > Supported header field in a non-Register REGISTER request." 
> What is a
> > non-Register REGISTER request?
> 
> >>I think this is a typo: it should say "non-Register request.".
> 
> > Further why is this recommended? I did not see this
> information being
> > used by the edge proxy elsewhere in the document?
> 
> >>That is a good question. Rohan? Cullen?
> 
> [S] An example of a non-REGISTER request is a SIP SUBSCRIBE message. I

> am guessing this requirement refers to the use of outbound in such 
> cases. (We use the 'ob' parameter within the SIP Configuration
> Framework.)
> 
> 
> - S
> 
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu Mar 20 14:44:28 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 905353A7004;
	Thu, 20 Mar 2008 14:44:28 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.44
X-Spam-Level: 
X-Spam-Status: No, score=-100.44 tagged_above=-999 required=5
	tests=[AWL=-0.003, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 8p-lauKNyFzE; Thu, 20 Mar 2008 14:44:28 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 66AD73A6B4D;
	Thu, 20 Mar 2008 14:44:27 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 7DD243A6A06
	for <sip@core3.amsl.com>; Thu, 20 Mar 2008 14:44:26 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id YatvEYANt8+W for <sip@core3.amsl.com>;
	Thu, 20 Mar 2008 14:44:25 -0700 (PDT)
Received: from ondar.cablelabs.com (ondar.cablelabs.com [192.160.73.61])
	by core3.amsl.com (Postfix) with ESMTP id 991A53A6E17
	for <sip@ietf.org>; Thu, 20 Mar 2008 14:44:25 -0700 (PDT)
Received: from kyzyl.cablelabs.com (kyzyl [10.253.0.7])
	by ondar.cablelabs.com (8.14.2/8.14.2) with ESMTP id m2KLftbk021775;
	Thu, 20 Mar 2008 15:41:56 -0600
Received: from srvxchg3.cablelabs.com (10.5.0.25)
	by kyzyl.cablelabs.com (F-Secure/fsigk_smtp/511/kyzyl.cablelabs.com);
	Thu, 20 Mar 2008 15:41:56 -0700 (MST)
X-Virus-Status: clean(F-Secure/fsigk_smtp/511/kyzyl.cablelabs.com)
X-Mimeole: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Thu, 20 Mar 2008 15:41:55 -0600
Message-ID: <9AAEDF491EF7CA48AB587781B8F5D7C601046113@srvxchg3.cablelabs.com>
In-Reply-To: <9AAEDF491EF7CA48AB587781B8F5D7C601046110@srvxchg3.cablelabs.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] Outbound-12 comments
Thread-Index: AciC3Ea2fSK4uyQVQ4uHasOOq7dZ8gFme22wAJPy4zAAAiagYAAAnUPQAAAzd3AAAFFcAA==
References: <9AAEDF491EF7CA48AB587781B8F5D7C6FA7008@srvxchg3.cablelabs.com><1ECE0EB50388174790F9694F77522CCF158BEE1F@zrc2hxm0.corp.nortel.com>
	<9AAEDF491EF7CA48AB587781B8F5D7C6010460FF@srvxchg3.cablelabs.com>
	<9AAEDF491EF7CA48AB587781B8F5D7C60104610D@srvxchg3.cablelabs.com>
	<1ECE0EB50388174790F9694F77522CCF15A27987@zrc2hxm0.corp.nortel.com>
	<9AAEDF491EF7CA48AB587781B8F5D7C601046110@srvxchg3.cablelabs.com>
From: "Sumanth Channabasappa" <sumanth@cablelabs.com>
To: "Kevin Johns" <K.Johns@cablelabs.com>, "Francois Audet" <audet@nortel.com>,
	<sip@ietf.org>
X-Approved: ondar
Cc: Cullen Jennings <fluffy@cisco.com>, Rohan Mahy <rohan@ekabal.com>
Subject: Re: [Sip] Outbound-12 comments
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Kevin,

That is my understanding. This would support bootstrapping configuration
(prior to registration).

- S

-----Original Message-----
From: Kevin Johns 
Sent: Thursday, March 20, 2008 3:34 PM
To: Francois Audet; Sumanth Channabasappa; sip@ietf.org
Cc: Cullen Jennings; Rohan Mahy
Subject: RE: [Sip] Outbound-12 comments

So this would seem to imply that the presence of outbound in the support
header indicates that a flow should be established and the Edge Proxy
record route with a flow token in order for the resulting NOTIFY to be
delivered in the absence of the UA having registered? 

-----Original Message-----
From: Francois Audet [mailto:audet@nortel.com] 
Sent: Thursday, March 20, 2008 3:27 PM
To: Sumanth Channabasappa; Kevin Johns; sip@ietf.org
Cc: Cullen Jennings; Rohan Mahy
Subject: RE: [Sip] Outbound-12 comments

Like the SUBSCRIBE in the example call flow section (the first one). 

> -----Original Message-----
> From: Sumanth Channabasappa [mailto:sumanth@cablelabs.com]
> Sent: Thursday, March 20, 2008 14:25
> To: Kevin Johns; Audet, Francois (SC100:3055); sip@ietf.org
> Cc: Cullen Jennings; Rohan Mahy
> Subject: RE: [Sip] Outbound-12 comments
> 
> > Section 4.3, Sending Non-REGISTER Requests, 1st paragraph -
> "UAs that
> > support this specification SHOULD include the outbound
> option tag in a
> 
> > Supported header field in a non-Register REGISTER request." 
> What is a
> > non-Register REGISTER request?
> 
> >>I think this is a typo: it should say "non-Register request.".
> 
> > Further why is this recommended? I did not see this
> information being
> > used by the edge proxy elsewhere in the document?
> 
> >>That is a good question. Rohan? Cullen?
> 
> [S] An example of a non-REGISTER request is a SIP SUBSCRIBE message. I

> am guessing this requirement refers to the use of outbound in such 
> cases. (We use the 'ob' parameter within the SIP Configuration
> Framework.)
> 
> 
> - S
> 
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu Mar 20 14:45:39 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id A75423A6FB6;
	Thu, 20 Mar 2008 14:45:39 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.439
X-Spam-Level: 
X-Spam-Status: No, score=-100.439 tagged_above=-999 required=5
	tests=[AWL=-0.002, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id ZxeJbRQ-9h+I; Thu, 20 Mar 2008 14:45:36 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 5DB6D3A6FBB;
	Thu, 20 Mar 2008 14:45:36 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 1B3A43A6FB6
	for <sip@core3.amsl.com>; Thu, 20 Mar 2008 14:45:35 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id aqZL2cxXGoGJ for <sip@core3.amsl.com>;
	Thu, 20 Mar 2008 14:45:31 -0700 (PDT)
Received: from ondar.cablelabs.com (ondar.cablelabs.com [192.160.73.61])
	by core3.amsl.com (Postfix) with ESMTP id 6312E3A6A61
	for <sip@ietf.org>; Thu, 20 Mar 2008 14:45:31 -0700 (PDT)
Received: from kyzyl.cablelabs.com (kyzyl [10.253.0.7])
	by ondar.cablelabs.com (8.14.2/8.14.2) with ESMTP id m2KLhC53021892;
	Thu, 20 Mar 2008 15:43:12 -0600
Received: from srvxchg3.cablelabs.com (10.5.0.25)
	by kyzyl.cablelabs.com (F-Secure/fsigk_smtp/511/kyzyl.cablelabs.com);
	Thu, 20 Mar 2008 15:43:12 -0700 (MST)
X-Virus-Status: clean(F-Secure/fsigk_smtp/511/kyzyl.cablelabs.com)
X-Mimeole: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Thu, 20 Mar 2008 15:43:10 -0600
Message-ID: <9AAEDF491EF7CA48AB587781B8F5D7C601046114@srvxchg3.cablelabs.com>
In-Reply-To: <9AAEDF491EF7CA48AB587781B8F5D7C601046113@srvxchg3.cablelabs.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] Outbound-12 comments
Thread-Index: AciC3Ea2fSK4uyQVQ4uHasOOq7dZ8gFme22wAJPy4zAAAiagYAAAnUPQAAAzd3AAAFFcAAAAClNA
References: <9AAEDF491EF7CA48AB587781B8F5D7C6FA7008@srvxchg3.cablelabs.com><1ECE0EB50388174790F9694F77522CCF158BEE1F@zrc2hxm0.corp.nortel.com>
	<9AAEDF491EF7CA48AB587781B8F5D7C6010460FF@srvxchg3.cablelabs.com>
	<9AAEDF491EF7CA48AB587781B8F5D7C60104610D@srvxchg3.cablelabs.com>
	<1ECE0EB50388174790F9694F77522CCF15A27987@zrc2hxm0.corp.nortel.com>
	<9AAEDF491EF7CA48AB587781B8F5D7C601046110@srvxchg3.cablelabs.com>
	<9AAEDF491EF7CA48AB587781B8F5D7C601046113@srvxchg3.cablelabs.com>
From: "Kevin Johns" <K.Johns@CableLabs.com>
To: "Sumanth Channabasappa" <sumanth@CableLabs.com>,
	"Francois Audet" <audet@nortel.com>, <sip@ietf.org>
X-Approved: ondar
Cc: Cullen Jennings <fluffy@cisco.com>, Rohan Mahy <rohan@ekabal.com>
Subject: Re: [Sip] Outbound-12 comments
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Ok, so I don't recall any of this being discussed in outbound. So I
think some text is in order to explain why the UA includes this and what
the edge proxy is expected to do as a result.

Kevin 

-----Original Message-----
From: Sumanth Channabasappa 
Sent: Thursday, March 20, 2008 3:42 PM
To: Kevin Johns; 'Francois Audet'; 'sip@ietf.org'
Cc: 'Cullen Jennings'; 'Rohan Mahy'
Subject: RE: [Sip] Outbound-12 comments

Kevin,

That is my understanding. This would support bootstrapping configuration
(prior to registration).

- S

-----Original Message-----
From: Kevin Johns
Sent: Thursday, March 20, 2008 3:34 PM
To: Francois Audet; Sumanth Channabasappa; sip@ietf.org
Cc: Cullen Jennings; Rohan Mahy
Subject: RE: [Sip] Outbound-12 comments

So this would seem to imply that the presence of outbound in the support
header indicates that a flow should be established and the Edge Proxy
record route with a flow token in order for the resulting NOTIFY to be
delivered in the absence of the UA having registered? 

-----Original Message-----
From: Francois Audet [mailto:audet@nortel.com]
Sent: Thursday, March 20, 2008 3:27 PM
To: Sumanth Channabasappa; Kevin Johns; sip@ietf.org
Cc: Cullen Jennings; Rohan Mahy
Subject: RE: [Sip] Outbound-12 comments

Like the SUBSCRIBE in the example call flow section (the first one). 

> -----Original Message-----
> From: Sumanth Channabasappa [mailto:sumanth@cablelabs.com]
> Sent: Thursday, March 20, 2008 14:25
> To: Kevin Johns; Audet, Francois (SC100:3055); sip@ietf.org
> Cc: Cullen Jennings; Rohan Mahy
> Subject: RE: [Sip] Outbound-12 comments
> 
> > Section 4.3, Sending Non-REGISTER Requests, 1st paragraph -
> "UAs that
> > support this specification SHOULD include the outbound
> option tag in a
> 
> > Supported header field in a non-Register REGISTER request." 
> What is a
> > non-Register REGISTER request?
> 
> >>I think this is a typo: it should say "non-Register request.".
> 
> > Further why is this recommended? I did not see this
> information being
> > used by the edge proxy elsewhere in the document?
> 
> >>That is a good question. Rohan? Cullen?
> 
> [S] An example of a non-REGISTER request is a SIP SUBSCRIBE message. I

> am guessing this requirement refers to the use of outbound in such 
> cases. (We use the 'ob' parameter within the SIP Configuration
> Framework.)
> 
> 
> - S
> 
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu Mar 20 14:52:11 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 3827628C835;
	Thu, 20 Mar 2008 14:52:11 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.866
X-Spam-Level: 
X-Spam-Status: No, score=-100.866 tagged_above=-999 required=5
	tests=[AWL=-0.429, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id nNnOB3CY4awr; Thu, 20 Mar 2008 14:52:09 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 2E08E3A706B;
	Thu, 20 Mar 2008 14:51:53 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 804AE3A7069
	for <sip@core3.amsl.com>; Thu, 20 Mar 2008 14:51:52 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id ULJp8a9zKeD2 for <sip@core3.amsl.com>;
	Thu, 20 Mar 2008 14:51:51 -0700 (PDT)
Received: from zcars04f.nortel.com (zcars04f.nortel.com [47.129.242.57])
	by core3.amsl.com (Postfix) with ESMTP id E1DC03A7076
	for <sip@ietf.org>; Thu, 20 Mar 2008 14:50:51 -0700 (PDT)
Received: from zrc2hxm0.corp.nortel.com (zrc2hxm0.corp.nortel.com
	[47.103.123.71])
	by zcars04f.nortel.com (Switch-2.2.6/Switch-2.2.0) with ESMTP id
	m2KLmSP07276; Thu, 20 Mar 2008 21:48:29 GMT
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Thu, 20 Mar 2008 16:47:53 -0500
Message-ID: <1ECE0EB50388174790F9694F77522CCF15A279FB@zrc2hxm0.corp.nortel.com>
In-Reply-To: <9AAEDF491EF7CA48AB587781B8F5D7C6010460FF@srvxchg3.cablelabs.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] Outbound-12 comments
Thread-Index: AciC3Ea2fSK4uyQVQ4uHasOOq7dZ8gFme22wAJPy4zAAArp/0A==
References: <9AAEDF491EF7CA48AB587781B8F5D7C6FA7008@srvxchg3.cablelabs.com>
	<1ECE0EB50388174790F9694F77522CCF158BEE1F@zrc2hxm0.corp.nortel.com>
	<9AAEDF491EF7CA48AB587781B8F5D7C6010460FF@srvxchg3.cablelabs.com>
From: "Francois Audet" <audet@nortel.com>
To: "Kevin Johns" <K.Johns@CableLabs.com>, <sip@ietf.org>
Cc: Cullen Jennings <fluffy@cisco.com>, Rohan Mahy <rohan@ekabal.com>
Subject: Re: [Sip] Outbound-12 comments
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

See below. I've trimmed the things we are either fixing already or where 
we have closed.

> -----Original Message-----
> From: Kevin Johns [mailto:K.Johns@CableLabs.com] 
> Sent: Thursday, March 20, 2008 14:01
> To: Audet, Francois (SC100:3055); sip@ietf.org
> Cc: Rohan Mahy; Cullen Jennings
> Subject: RE: [Sip] Outbound-12 comments
>
> > Section 4.2.1, Initial Registration, 2nd para - Is the opening 
> > sentence well understood by all? "For each outbound proxy 
> URI in the 
> > set, the UA SHOULD send a unique REGISTER in the normal way 
> using this
> 
> > URI as the default outbound proxy."
> 
> I think it's clear. What do you propose we change?
> <kcj> I was not necessarily proposing a change. I just wanted 
> to make sure folks were comfortable with the language 'a 
> unique REGISTER in the normal way'. When I read this it was 
> unclear to me what unique was referring to? Is the REGISTER 
> unique in that each must have a different reg-id or that a 
> unique call-id is used or both? Further if the normal way is 
> RFC 3261 then why not state a REGISTER per RFC 3261 with the 
> following enhancements...?

What about this:

	For each outbound proxy URI in the set, the UAC SHOULD send 
	a REGISTER request using this URI as the outbound proxy.

> > Section 4.2.1, Initial Registration - this section makes no 
> reference 
> > to the keep-timer. It would seem that this should be 
> discussed in the 
> > same context as detecting outbound support in the registration 
> > response? It is covered in section 4.4 but seems out of place as a 
> > first reference.
> 
> You mean the Flow-Timer? I'm not sure why we would want to 
> discuss the Flow-Timer in the section about Registration. Can 
> you be more specific on what you are looking for?
> <kcj> Yes I meant flow-timer, sorry for the confusion. Given 
> there is text in 4.2.1 to examine the registration response 
> for presence of the outbound option-tag it seemed reasonable 
> to identify all the parameters the UA should look for in the 
> response. No big deal if folks are comfortable with the current text.

Yes, but there is already a forward reference to 4.4. It says:

	If outbound registration succeeded, as indicated by the presence of
	the outbound option-tag in the Require header field of a successful
	registration response, the UA begins sending keepalives as 
	described in Section 4.4."

> > Section 4.2.2, Subsequent REGISTER requests, The first sentence - 
> > "Re-registrations and single Contact de-registrations use the same 
> > instance-id and reg-id values as the corresponding initial 
> > registration." Suggest making this normative
> 
> You mean saying:
> "Re-registrations and single Contact
>  de-registrations MUST use the same instance-id and reg-id 
> values  as the corresponding initial registration."
> <kcj> Yes this is my suggestion
> 
> Rohan?

I'm OK with this recommendation.

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu Mar 20 14:55:40 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 4224028C4F0;
	Thu, 20 Mar 2008 14:55:40 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.44
X-Spam-Level: 
X-Spam-Status: No, score=-100.44 tagged_above=-999 required=5
	tests=[AWL=-0.003, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id PYh44Kfx+Bue; Thu, 20 Mar 2008 14:55:40 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id E71DC3A6C9A;
	Thu, 20 Mar 2008 14:55:32 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 2A52A28C5FF
	for <sip@core3.amsl.com>; Thu, 20 Mar 2008 14:55:29 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id X5kL+PUdUXpZ for <sip@core3.amsl.com>;
	Thu, 20 Mar 2008 14:55:28 -0700 (PDT)
Received: from ondar.cablelabs.com (ondar.cablelabs.com [192.160.73.61])
	by core3.amsl.com (Postfix) with ESMTP id 0AB193A6B3E
	for <sip@ietf.org>; Thu, 20 Mar 2008 14:55:21 -0700 (PDT)
Received: from kyzyl.cablelabs.com (kyzyl [10.253.0.7])
	by ondar.cablelabs.com (8.14.2/8.14.2) with ESMTP id m2KLqZXE022644;
	Thu, 20 Mar 2008 15:52:35 -0600
Received: from srvxchg3.cablelabs.com (10.5.0.25)
	by kyzyl.cablelabs.com (F-Secure/fsigk_smtp/511/kyzyl.cablelabs.com);
	Thu, 20 Mar 2008 15:52:35 -0700 (MST)
X-Virus-Status: clean(F-Secure/fsigk_smtp/511/kyzyl.cablelabs.com)
X-Mimeole: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Thu, 20 Mar 2008 15:52:33 -0600
Message-ID: <9AAEDF491EF7CA48AB587781B8F5D7C601046115@srvxchg3.cablelabs.com>
In-Reply-To: <1ECE0EB50388174790F9694F77522CCF15A279FB@zrc2hxm0.corp.nortel.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] Outbound-12 comments
Thread-Index: AciC3Ea2fSK4uyQVQ4uHasOOq7dZ8gFme22wAJPy4zAAArp/0AAA5DrQ
References: <9AAEDF491EF7CA48AB587781B8F5D7C6FA7008@srvxchg3.cablelabs.com>
	<1ECE0EB50388174790F9694F77522CCF158BEE1F@zrc2hxm0.corp.nortel.com>
	<9AAEDF491EF7CA48AB587781B8F5D7C6010460FF@srvxchg3.cablelabs.com>
	<1ECE0EB50388174790F9694F77522CCF15A279FB@zrc2hxm0.corp.nortel.com>
From: "Kevin Johns" <K.Johns@CableLabs.com>
To: "Francois Audet" <audet@nortel.com>, <sip@ietf.org>
X-Approved: ondar
Cc: Cullen Jennings <fluffy@cisco.com>, Rohan Mahy <rohan@ekabal.com>
Subject: Re: [Sip] Outbound-12 comments
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Just one further thought on the first topic below, otherwise I am ok
with the rest.

-----Original Message-----
From: Francois Audet [mailto:audet@nortel.com] 
Sent: Thursday, March 20, 2008 3:48 PM
To: Kevin Johns; sip@ietf.org
Cc: Rohan Mahy; Cullen Jennings
Subject: RE: [Sip] Outbound-12 comments

See below. I've trimmed the things we are either fixing already or where
we have closed.

> -----Original Message-----
> From: Kevin Johns [mailto:K.Johns@CableLabs.com]
> Sent: Thursday, March 20, 2008 14:01
> To: Audet, Francois (SC100:3055); sip@ietf.org
> Cc: Rohan Mahy; Cullen Jennings
> Subject: RE: [Sip] Outbound-12 comments
>
> > Section 4.2.1, Initial Registration, 2nd para - Is the opening 
> > sentence well understood by all? "For each outbound proxy
> URI in the
> > set, the UA SHOULD send a unique REGISTER in the normal way
> using this
> 
> > URI as the default outbound proxy."
> 
> I think it's clear. What do you propose we change?
> <kcj> I was not necessarily proposing a change. I just wanted to make 
> sure folks were comfortable with the language 'a unique REGISTER in 
> the normal way'. When I read this it was unclear to me what unique was

> referring to? Is the REGISTER unique in that each must have a 
> different reg-id or that a unique call-id is used or both? Further if 
> the normal way is RFC 3261 then why not state a REGISTER per RFC 3261 
> with the following enhancements...?

What about this:

	For each outbound proxy URI in the set, the UAC SHOULD send 
	a REGISTER request using this URI as the outbound proxy.
<kcj> This is good. Can we further clarify that the UAC MUST attempt to
register at least one or is that just plain obvious?

> > Section 4.2.1, Initial Registration - this section makes no
> reference
> > to the keep-timer. It would seem that this should be
> discussed in the
> > same context as detecting outbound support in the registration 
> > response? It is covered in section 4.4 but seems out of place as a 
> > first reference.
> 
> You mean the Flow-Timer? I'm not sure why we would want to discuss the

> Flow-Timer in the section about Registration. Can you be more specific

> on what you are looking for?
> <kcj> Yes I meant flow-timer, sorry for the confusion. Given there is 
> text in 4.2.1 to examine the registration response for presence of the

> outbound option-tag it seemed reasonable to identify all the 
> parameters the UA should look for in the response. No big deal if 
> folks are comfortable with the current text.

Yes, but there is already a forward reference to 4.4. It says:

	If outbound registration succeeded, as indicated by the presence
of
	the outbound option-tag in the Require header field of a
successful
	registration response, the UA begins sending keepalives as 
	described in Section 4.4."

> > Section 4.2.2, Subsequent REGISTER requests, The first sentence - 
> > "Re-registrations and single Contact de-registrations use the same 
> > instance-id and reg-id values as the corresponding initial 
> > registration." Suggest making this normative
> 
> You mean saying:
> "Re-registrations and single Contact
>  de-registrations MUST use the same instance-id and reg-id values  as 
> the corresponding initial registration."
> <kcj> Yes this is my suggestion
> 
> Rohan?

I'm OK with this recommendation.

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu Mar 20 15:12:38 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 6F9803A6DCA;
	Thu, 20 Mar 2008 15:12:38 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.63
X-Spam-Level: 
X-Spam-Status: No, score=-100.63 tagged_above=-999 required=5
	tests=[AWL=-0.193, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 06oNzboaTpA8; Thu, 20 Mar 2008 15:12:37 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 592D93A6918;
	Thu, 20 Mar 2008 15:12:37 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 16A003A6D7B
	for <sip@core3.amsl.com>; Thu, 20 Mar 2008 15:12:35 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id RzP0NesF+Eet for <sip@core3.amsl.com>;
	Thu, 20 Mar 2008 15:12:34 -0700 (PDT)
Received: from figas.ekabal.com (figas.ekabal.com [204.61.215.10])
	by core3.amsl.com (Postfix) with ESMTP id 425F43A6B3E
	for <sip@ietf.org>; Thu, 20 Mar 2008 15:12:34 -0700 (PDT)
Received: (from apache@localhost)
	by figas.ekabal.com (8.11.6/8.11.6) id m2KMA5H26681;
	Thu, 20 Mar 2008 14:10:05 -0800
From: Rohan Mahy <rohan@ekabal.com>
X-Authentication-Warning: figas.ekabal.com: apache set sender to
	rohan@localhost using -f
Received: from 12.151.41.2 (SquirrelMail authenticated user rohan);
	by figas.ekabal.com with HTTP; Thu, 20 Mar 2008 14:10:05 -0800 (PST)
Message-ID: <40662.12.151.41.2.1206051005.squirrel@12.151.41.2>
In-Reply-To: <9AAEDF491EF7CA48AB587781B8F5D7C601046114@srvxchg3.cablelabs.com>
References: <9AAEDF491EF7CA48AB587781B8F5D7C6FA7008@srvxchg3.cablelabs.com><1ECE0EB50388174790F9694F77522CCF158BEE1F@zrc2hxm0.corp.nortel.com>
	<9AAEDF491EF7CA48AB587781B8F5D7C6010460FF@srvxchg3.cablelabs.com>
	<9AAEDF491EF7CA48AB587781B8F5D7C60104610D@srvxchg3.cablelabs.com>
	<1ECE0EB50388174790F9694F77522CCF15A27987@zrc2hxm0.corp.nortel.com>
	<9AAEDF491EF7CA48AB587781B8F5D7C601046110@srvxchg3.cablelabs.com>
	<9AAEDF491EF7CA48AB587781B8F5D7C601046113@srvxchg3.cablelabs.com>
	<9AAEDF491EF7CA48AB587781B8F5D7C601046114@srvxchg3.cablelabs.com>
Date: Thu, 20 Mar 2008 14:10:05 -0800 (PST)
To: "Kevin Johns" <K.Johns@CableLabs.com>
User-Agent: SquirrelMail/1.4.3a-1
X-Mailer: SquirrelMail/1.4.3a-1
MIME-Version: 1.0
X-Priority: 3 (Normal)
Importance: Normal
Cc: sip@ietf.org, Cullen Jennings <fluffy@cisco.com>,
	Francois Audet <audet@nortel.com>,
	Sumanth Channabasappa <sumanth@CableLabs.com>,
	Rohan Mahy <rohan@ekabal.com>
Subject: Re: [Sip] Outbound-12 comments
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Hi Kevin,

> Ok, so I don't recall any of this being discussed in outbound. So I
> think some text is in order to explain why the UA includes this and what
> the edge proxy is expected to do as a result.

Its already there.  UA behavior from the 3rd paragraph of Section 4.3:

>If the UAC is sending a dialog-forming request, and wants all subsequent
>requests in the dialog to arrive over the same flow, the UAC adds an 'ob'
>parameter to its Contact header. Typically this is desirable, but it is
>not necessary for example if the Contact is a [GRUU]. The flow used for
>the request is typically the same flow the UA registered over, but it
>could be a new flow, for example the initial subscription dialog for the
>[configuration framework] needs to exist before registration.

Edge proxy behavior is the same as that for any other dialog forming
request and is described in the last paragraph of Section 5.3.

thanks,
-rohan


> Kevin
>
> -----Original Message-----
> From: Sumanth Channabasappa
> Sent: Thursday, March 20, 2008 3:42 PM
> To: Kevin Johns; 'Francois Audet'; 'sip@ietf.org'
> Cc: 'Cullen Jennings'; 'Rohan Mahy'
> Subject: RE: [Sip] Outbound-12 comments
>
> Kevin,
>
> That is my understanding. This would support bootstrapping configuration
> (prior to registration).
>
> - S
>
> -----Original Message-----
> From: Kevin Johns
> Sent: Thursday, March 20, 2008 3:34 PM
> To: Francois Audet; Sumanth Channabasappa; sip@ietf.org
> Cc: Cullen Jennings; Rohan Mahy
> Subject: RE: [Sip] Outbound-12 comments
>
> So this would seem to imply that the presence of outbound in the support
> header indicates that a flow should be established and the Edge Proxy
> record route with a flow token in order for the resulting NOTIFY to be
> delivered in the absence of the UA having registered?
>
> -----Original Message-----
> From: Francois Audet [mailto:audet@nortel.com]
> Sent: Thursday, March 20, 2008 3:27 PM
> To: Sumanth Channabasappa; Kevin Johns; sip@ietf.org
> Cc: Cullen Jennings; Rohan Mahy
> Subject: RE: [Sip] Outbound-12 comments
>
> Like the SUBSCRIBE in the example call flow section (the first one).
>
>> -----Original Message-----
>> From: Sumanth Channabasappa [mailto:sumanth@cablelabs.com]
>> Sent: Thursday, March 20, 2008 14:25
>> To: Kevin Johns; Audet, Francois (SC100:3055); sip@ietf.org
>> Cc: Cullen Jennings; Rohan Mahy
>> Subject: RE: [Sip] Outbound-12 comments
>>
>> > Section 4.3, Sending Non-REGISTER Requests, 1st paragraph -
>> "UAs that
>> > support this specification SHOULD include the outbound
>> option tag in a
>>
>> > Supported header field in a non-Register REGISTER request."
>> What is a
>> > non-Register REGISTER request?
>>
>> >>I think this is a typo: it should say "non-Register request.".
>>
>> > Further why is this recommended? I did not see this
>> information being
>> > used by the edge proxy elsewhere in the document?
>>
>> >>That is a good question. Rohan? Cullen?
>>
>> [S] An example of a non-REGISTER request is a SIP SUBSCRIBE message. I
>
>> am guessing this requirement refers to the use of outbound in such
>> cases. (We use the 'ob' parameter within the SIP Configuration
>> Framework.)
>>
>>
>> - S
>>
>

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu Mar 20 15:17:09 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id A7A0628C757;
	Thu, 20 Mar 2008 15:17:09 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.888
X-Spam-Level: 
X-Spam-Status: No, score=-100.888 tagged_above=-999 required=5
	tests=[AWL=-0.451, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 539fynNQTnxm; Thu, 20 Mar 2008 15:17:08 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 980AC3A6D5A;
	Thu, 20 Mar 2008 15:17:08 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 5735D3A6C82
	for <sip@core3.amsl.com>; Thu, 20 Mar 2008 15:17:07 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id S2oMwnrjkNl7 for <sip@core3.amsl.com>;
	Thu, 20 Mar 2008 15:17:06 -0700 (PDT)
Received: from zcars04f.nortel.com (zcars04f.nortel.com [47.129.242.57])
	by core3.amsl.com (Postfix) with ESMTP id 14C143A6B3E
	for <sip@ietf.org>; Thu, 20 Mar 2008 15:17:05 -0700 (PDT)
Received: from zrc2hxm0.corp.nortel.com (zrc2hxm0.corp.nortel.com
	[47.103.123.71])
	by zcars04f.nortel.com (Switch-2.2.6/Switch-2.2.0) with ESMTP id
	m2KMEiP09402; Thu, 20 Mar 2008 22:14:45 GMT
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Thu, 20 Mar 2008 17:12:53 -0500
Message-ID: <1ECE0EB50388174790F9694F77522CCF15A27A77@zrc2hxm0.corp.nortel.com>
In-Reply-To: <9AAEDF491EF7CA48AB587781B8F5D7C601046115@srvxchg3.cablelabs.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] Outbound-12 comments
Thread-Index: AciC3Ea2fSK4uyQVQ4uHasOOq7dZ8gFme22wAJPy4zAAArp/0AAA5DrQAAC/EMA=
References: <9AAEDF491EF7CA48AB587781B8F5D7C6FA7008@srvxchg3.cablelabs.com>
	<1ECE0EB50388174790F9694F77522CCF158BEE1F@zrc2hxm0.corp.nortel.com>
	<9AAEDF491EF7CA48AB587781B8F5D7C6010460FF@srvxchg3.cablelabs.com>
	<1ECE0EB50388174790F9694F77522CCF15A279FB@zrc2hxm0.corp.nortel.com>
	<9AAEDF491EF7CA48AB587781B8F5D7C601046115@srvxchg3.cablelabs.com>
From: "Francois Audet" <audet@nortel.com>
To: "Kevin Johns" <K.Johns@CableLabs.com>, <sip@ietf.org>
Cc: Cullen Jennings <fluffy@cisco.com>, Rohan Mahy <rohan@ekabal.com>
Subject: Re: [Sip] Outbound-12 comments
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

I think it's pretty obvious if you don't register at least one,
you won't get any calls.

But ok for the mofidified text. 

> -----Original Message-----
> From: Kevin Johns [mailto:K.Johns@CableLabs.com] 
> Sent: Thursday, March 20, 2008 14:53
> To: Audet, Francois (SC100:3055); sip@ietf.org
> Cc: Rohan Mahy; Cullen Jennings
> Subject: RE: [Sip] Outbound-12 comments
> 
> Just one further thought on the first topic below, otherwise 
> I am ok with the rest.
> 
> -----Original Message-----
> From: Francois Audet [mailto:audet@nortel.com]
> Sent: Thursday, March 20, 2008 3:48 PM
> To: Kevin Johns; sip@ietf.org
> Cc: Rohan Mahy; Cullen Jennings
> Subject: RE: [Sip] Outbound-12 comments
> 
> See below. I've trimmed the things we are either fixing 
> already or where we have closed.
> 
> > -----Original Message-----
> > From: Kevin Johns [mailto:K.Johns@CableLabs.com]
> > Sent: Thursday, March 20, 2008 14:01
> > To: Audet, Francois (SC100:3055); sip@ietf.org
> > Cc: Rohan Mahy; Cullen Jennings
> > Subject: RE: [Sip] Outbound-12 comments
> >
> > > Section 4.2.1, Initial Registration, 2nd para - Is the opening 
> > > sentence well understood by all? "For each outbound proxy
> > URI in the
> > > set, the UA SHOULD send a unique REGISTER in the normal way
> > using this
> > 
> > > URI as the default outbound proxy."
> > 
> > I think it's clear. What do you propose we change?
> > <kcj> I was not necessarily proposing a change. I just 
> wanted to make 
> > sure folks were comfortable with the language 'a unique REGISTER in 
> > the normal way'. When I read this it was unclear to me what 
> unique was
> 
> > referring to? Is the REGISTER unique in that each must have a 
> > different reg-id or that a unique call-id is used or both? 
> Further if 
> > the normal way is RFC 3261 then why not state a REGISTER 
> per RFC 3261 
> > with the following enhancements...?
> 
> What about this:
> 
> 	For each outbound proxy URI in the set, the UAC SHOULD send 
> 	a REGISTER request using this URI as the outbound proxy.
> <kcj> This is good. Can we further clarify that the UAC MUST 
> attempt to register at least one or is that just plain obvious?
> 
> > > Section 4.2.1, Initial Registration - this section makes no
> > reference
> > > to the keep-timer. It would seem that this should be
> > discussed in the
> > > same context as detecting outbound support in the registration 
> > > response? It is covered in section 4.4 but seems out of 
> place as a 
> > > first reference.
> > 
> > You mean the Flow-Timer? I'm not sure why we would want to 
> discuss the
> 
> > Flow-Timer in the section about Registration. Can you be 
> more specific
> 
> > on what you are looking for?
> > <kcj> Yes I meant flow-timer, sorry for the confusion. 
> Given there is 
> > text in 4.2.1 to examine the registration response for 
> presence of the
> 
> > outbound option-tag it seemed reasonable to identify all the 
> > parameters the UA should look for in the response. No big deal if 
> > folks are comfortable with the current text.
> 
> Yes, but there is already a forward reference to 4.4. It says:
> 
> 	If outbound registration succeeded, as indicated by the 
> presence of
> 	the outbound option-tag in the Require header field of 
> a successful
> 	registration response, the UA begins sending keepalives as 
> 	described in Section 4.4."
> 
> > > Section 4.2.2, Subsequent REGISTER requests, The first sentence - 
> > > "Re-registrations and single Contact de-registrations use 
> the same 
> > > instance-id and reg-id values as the corresponding initial 
> > > registration." Suggest making this normative
> > 
> > You mean saying:
> > "Re-registrations and single Contact
> >  de-registrations MUST use the same instance-id and reg-id 
> values  as 
> > the corresponding initial registration."
> > <kcj> Yes this is my suggestion
> > 
> > Rohan?
> 
> I'm OK with this recommendation.
> 
> 
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu Mar 20 15:18:56 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id D472928C759;
	Thu, 20 Mar 2008 15:18:56 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.44
X-Spam-Level: 
X-Spam-Status: No, score=-100.44 tagged_above=-999 required=5
	tests=[AWL=-0.003, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id Lk33Fgiv7L1L; Thu, 20 Mar 2008 15:18:55 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 5F59F3A6AA9;
	Thu, 20 Mar 2008 15:18:55 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 42ABA3A6B3E
	for <sip@core3.amsl.com>; Thu, 20 Mar 2008 15:18:54 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id hM9EfkDuPonS for <sip@core3.amsl.com>;
	Thu, 20 Mar 2008 15:18:53 -0700 (PDT)
Received: from ondar.cablelabs.com (ondar.cablelabs.com [192.160.73.61])
	by core3.amsl.com (Postfix) with ESMTP id 61AB73A6B27
	for <sip@ietf.org>; Thu, 20 Mar 2008 15:18:53 -0700 (PDT)
Received: from kyzyl.cablelabs.com (kyzyl [10.253.0.7])
	by ondar.cablelabs.com (8.14.2/8.14.2) with ESMTP id m2KMGWJA024233;
	Thu, 20 Mar 2008 16:16:32 -0600
Received: from srvxchg3.cablelabs.com (10.5.0.25)
	by kyzyl.cablelabs.com (F-Secure/fsigk_smtp/511/kyzyl.cablelabs.com);
	Thu, 20 Mar 2008 16:16:32 -0700 (MST)
X-Virus-Status: clean(F-Secure/fsigk_smtp/511/kyzyl.cablelabs.com)
X-Mimeole: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Thu, 20 Mar 2008 16:16:31 -0600
Message-ID: <9AAEDF491EF7CA48AB587781B8F5D7C601046118@srvxchg3.cablelabs.com>
In-Reply-To: <40662.12.151.41.2.1206051005.squirrel@12.151.41.2>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] Outbound-12 comments
Thread-Index: AciK1ylz8G/Y4c/8SCqpd+KdjKe+rAAAGWZA
References: <9AAEDF491EF7CA48AB587781B8F5D7C6FA7008@srvxchg3.cablelabs.com><1ECE0EB50388174790F9694F77522CCF158BEE1F@zrc2hxm0.corp.nortel.com>
	<9AAEDF491EF7CA48AB587781B8F5D7C6010460FF@srvxchg3.cablelabs.com>
	<9AAEDF491EF7CA48AB587781B8F5D7C60104610D@srvxchg3.cablelabs.com>
	<1ECE0EB50388174790F9694F77522CCF15A27987@zrc2hxm0.corp.nortel.com>
	<9AAEDF491EF7CA48AB587781B8F5D7C601046110@srvxchg3.cablelabs.com>
	<9AAEDF491EF7CA48AB587781B8F5D7C601046113@srvxchg3.cablelabs.com>
	<9AAEDF491EF7CA48AB587781B8F5D7C601046114@srvxchg3.cablelabs.com>
	<40662.12.151.41.2.1206051005.squirrel@12.151.41.2>
From: "Kevin Johns" <K.Johns@CableLabs.com>
To: "Rohan Mahy" <rohan@ekabal.com>
X-Approved: ondar
Cc: sip@ietf.org, Cullen Jennings <fluffy@cisco.com>,
	Francois Audet <audet@nortel.com>,
	Sumanth Channabasappa <sumanth@CableLabs.com>
Subject: Re: [Sip] Outbound-12 comments
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Right but these talk about adding 'ob' to the contact header. The text I
am referring to (1st para in section 4.3) talks about including the
outbound option-tag in the supported header. I guess this goes in
conjunction with including the ob parameter in the contact header? If
that is the case I did not make the connection till just now.

Kevin 

-----Original Message-----
From: Rohan Mahy [mailto:rohan@ekabal.com] 
Sent: Thursday, March 20, 2008 4:10 PM
To: Kevin Johns
Cc: Sumanth Channabasappa; Francois Audet; sip@ietf.org; Cullen
Jennings; Rohan Mahy
Subject: RE: [Sip] Outbound-12 comments

Hi Kevin,

> Ok, so I don't recall any of this being discussed in outbound. So I 
> think some text is in order to explain why the UA includes this and 
> what the edge proxy is expected to do as a result.

Its already there.  UA behavior from the 3rd paragraph of Section 4.3:

>If the UAC is sending a dialog-forming request, and wants all 
>subsequent requests in the dialog to arrive over the same flow, the UAC
adds an 'ob'
>parameter to its Contact header. Typically this is desirable, but it is

>not necessary for example if the Contact is a [GRUU]. The flow used for

>the request is typically the same flow the UA registered over, but it 
>could be a new flow, for example the initial subscription dialog for 
>the [configuration framework] needs to exist before registration.

Edge proxy behavior is the same as that for any other dialog forming
request and is described in the last paragraph of Section 5.3.

thanks,
-rohan


> Kevin
>
> -----Original Message-----
> From: Sumanth Channabasappa
> Sent: Thursday, March 20, 2008 3:42 PM
> To: Kevin Johns; 'Francois Audet'; 'sip@ietf.org'
> Cc: 'Cullen Jennings'; 'Rohan Mahy'
> Subject: RE: [Sip] Outbound-12 comments
>
> Kevin,
>
> That is my understanding. This would support bootstrapping 
> configuration (prior to registration).
>
> - S
>
> -----Original Message-----
> From: Kevin Johns
> Sent: Thursday, March 20, 2008 3:34 PM
> To: Francois Audet; Sumanth Channabasappa; sip@ietf.org
> Cc: Cullen Jennings; Rohan Mahy
> Subject: RE: [Sip] Outbound-12 comments
>
> So this would seem to imply that the presence of outbound in the 
> support header indicates that a flow should be established and the 
> Edge Proxy record route with a flow token in order for the resulting 
> NOTIFY to be delivered in the absence of the UA having registered?
>
> -----Original Message-----
> From: Francois Audet [mailto:audet@nortel.com]
> Sent: Thursday, March 20, 2008 3:27 PM
> To: Sumanth Channabasappa; Kevin Johns; sip@ietf.org
> Cc: Cullen Jennings; Rohan Mahy
> Subject: RE: [Sip] Outbound-12 comments
>
> Like the SUBSCRIBE in the example call flow section (the first one).
>
>> -----Original Message-----
>> From: Sumanth Channabasappa [mailto:sumanth@cablelabs.com]
>> Sent: Thursday, March 20, 2008 14:25
>> To: Kevin Johns; Audet, Francois (SC100:3055); sip@ietf.org
>> Cc: Cullen Jennings; Rohan Mahy
>> Subject: RE: [Sip] Outbound-12 comments
>>
>> > Section 4.3, Sending Non-REGISTER Requests, 1st paragraph -
>> "UAs that
>> > support this specification SHOULD include the outbound
>> option tag in a
>>
>> > Supported header field in a non-Register REGISTER request."
>> What is a
>> > non-Register REGISTER request?
>>
>> >>I think this is a typo: it should say "non-Register request.".
>>
>> > Further why is this recommended? I did not see this
>> information being
>> > used by the edge proxy elsewhere in the document?
>>
>> >>That is a good question. Rohan? Cullen?
>>
>> [S] An example of a non-REGISTER request is a SIP SUBSCRIBE message. 
>> I
>
>> am guessing this requirement refers to the use of outbound in such 
>> cases. (We use the 'ob' parameter within the SIP Configuration
>> Framework.)
>>
>>
>> - S
>>
>

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu Mar 20 16:06:40 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id AFC4F3A6CE3;
	Thu, 20 Mar 2008 16:06:40 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.634
X-Spam-Level: 
X-Spam-Status: No, score=-100.634 tagged_above=-999 required=5
	tests=[AWL=-0.197, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id LsLwbQzGAJaY; Thu, 20 Mar 2008 16:06:39 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 8A63B3A68F4;
	Thu, 20 Mar 2008 16:06:39 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 825713A67DB
	for <sip@core3.amsl.com>; Thu, 20 Mar 2008 16:06:38 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id WR+F9c3TcCJg for <sip@core3.amsl.com>;
	Thu, 20 Mar 2008 16:06:37 -0700 (PDT)
Received: from figas.ekabal.com (figas.ekabal.com [204.61.215.10])
	by core3.amsl.com (Postfix) with ESMTP id 6DC713A68F4
	for <sip@ietf.org>; Thu, 20 Mar 2008 16:06:37 -0700 (PDT)
Received: (from apache@localhost)
	by figas.ekabal.com (8.11.6/8.11.6) id m2KN3RE27838;
	Thu, 20 Mar 2008 15:03:27 -0800
From: Rohan Mahy <rohan@ekabal.com>
X-Authentication-Warning: figas.ekabal.com: apache set sender to
	rohan@localhost using -f
Received: from 12.151.41.2 (SquirrelMail authenticated user rohan);
	by figas.ekabal.com with HTTP; Thu, 20 Mar 2008 15:03:27 -0800 (PST)
Message-ID: <39846.12.151.41.2.1206054207.squirrel@12.151.41.2>
In-Reply-To: <1ECE0EB50388174790F9694F77522CCF15A279FB@zrc2hxm0.corp.nortel.com>
References: <9AAEDF491EF7CA48AB587781B8F5D7C6FA7008@srvxchg3.cablelabs.com>
	<1ECE0EB50388174790F9694F77522CCF158BEE1F@zrc2hxm0.corp.nortel.com>
	<9AAEDF491EF7CA48AB587781B8F5D7C6010460FF@srvxchg3.cablelabs.com>
	<1ECE0EB50388174790F9694F77522CCF15A279FB@zrc2hxm0.corp.nortel.com>
Date: Thu, 20 Mar 2008 15:03:27 -0800 (PST)
To: "Francois Audet" <audet@nortel.com>
User-Agent: SquirrelMail/1.4.3a-1
X-Mailer: SquirrelMail/1.4.3a-1
MIME-Version: 1.0
X-Priority: 3 (Normal)
Importance: Normal
Cc: sip@ietf.org, Rohan Mahy <rohan@ekabal.com>,
	Kevin Johns <k.johns@cablelabs.com>, Cullen Jennings <fluffy@cisco.com>
Subject: Re: [Sip] Outbound-12 comments
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Hi,

Two comments inline.

>> > Section 4.2.1, Initial Registration, 2nd para - Is the opening
>> > sentence well understood by all? "For each outbound proxy
>> URI in the
>> > set, the UA SHOULD send a unique REGISTER in the normal way
>> using this
>>
>> > URI as the default outbound proxy."
>>
>> I think it's clear. What do you propose we change?
>> <kcj> I was not necessarily proposing a change. I just wanted
>> to make sure folks were comfortable with the language 'a
>> unique REGISTER in the normal way'. When I read this it was
>> unclear to me what unique was referring to? Is the REGISTER
>> unique in that each must have a different reg-id or that a
>> unique call-id is used or both? Further if the normal way is
>> RFC 3261 then why not state a REGISTER per RFC 3261 with the
>> following enhancements...?
>
> What about this:
>
> 	For each outbound proxy URI in the set, the UAC SHOULD send
> 	a REGISTER request using this URI as the outbound proxy.

I'm OK with "... a REGISTER request (with a unique Call-ID), using ..."

We added "unique" at someone's request because he was no sure if he should
use the same call-id and tags.


>> > Section 4.2.2, Subsequent REGISTER requests, The first sentence -
>> > "Re-registrations and single Contact de-registrations use the same
>> > instance-id and reg-id values as the corresponding initial
>> > registration." Suggest making this normative
>>
>> You mean saying:
>> "Re-registrations and single Contact
>>  de-registrations MUST use the same instance-id and reg-id
>> values  as the corresponding initial registration."
>> <kcj> Yes this is my suggestion
>>
>> Rohan?
>
> I'm OK with this recommendation.

I'm not happy with this MUST.

The quoted statement already *is* normative.  It is not necessary to
include a MUST statement to make a statement normative.  Excessive and
unnecessary use of RFC 2119 language impairs clarity and readability.
Based on several requests from readers, I removed a lot of extraneous
MUSTs and the spec was much easier to read.

thanks,
-rohan

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu Mar 20 16:16:37 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id D14263A6FAC;
	Thu, 20 Mar 2008 16:16:37 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.882
X-Spam-Level: 
X-Spam-Status: No, score=-100.882 tagged_above=-999 required=5
	tests=[AWL=-0.445, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id OR4fMFapRaAq; Thu, 20 Mar 2008 16:16:36 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id E51CD3A68E4;
	Thu, 20 Mar 2008 16:16:36 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 071653A6F54
	for <sip@core3.amsl.com>; Thu, 20 Mar 2008 16:16:36 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id D7Elx0xg7+H0 for <sip@core3.amsl.com>;
	Thu, 20 Mar 2008 16:16:35 -0700 (PDT)
Received: from zrtps0kp.nortel.com (zrtps0kp.nortel.com [47.140.192.56])
	by core3.amsl.com (Postfix) with ESMTP id 1487B3A68E4
	for <sip@ietf.org>; Thu, 20 Mar 2008 16:16:35 -0700 (PDT)
Received: from zrc2hxm0.corp.nortel.com (zrc2hxm0.corp.nortel.com
	[47.103.123.71])
	by zrtps0kp.nortel.com (Switch-2.2.6/Switch-2.2.0) with ESMTP id
	m2KNECF26592; Thu, 20 Mar 2008 23:14:12 GMT
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Thu, 20 Mar 2008 18:14:00 -0500
Message-ID: <1ECE0EB50388174790F9694F77522CCF15A27B45@zrc2hxm0.corp.nortel.com>
In-Reply-To: <39846.12.151.41.2.1206054207.squirrel@12.151.41.2>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] Outbound-12 comments
Thread-Index: AciK3qF+URNLmACWRkGOjHKiAIGtHgAAUjyg
References: <9AAEDF491EF7CA48AB587781B8F5D7C6FA7008@srvxchg3.cablelabs.com>
	<1ECE0EB50388174790F9694F77522CCF158BEE1F@zrc2hxm0.corp.nortel.com>
	<9AAEDF491EF7CA48AB587781B8F5D7C6010460FF@srvxchg3.cablelabs.com>
	<1ECE0EB50388174790F9694F77522CCF15A279FB@zrc2hxm0.corp.nortel.com>
	<39846.12.151.41.2.1206054207.squirrel@12.151.41.2>
From: "Francois Audet" <audet@nortel.com>
To: "Rohan Mahy" <rohan@ekabal.com>
Cc: sip@ietf.org, Cullen Jennings <fluffy@cisco.com>,
	Kevin Johns <k.johns@cablelabs.com>
Subject: Re: [Sip] Outbound-12 comments
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

 
> >> You mean saying:
> >> "Re-registrations and single Contact
> >>  de-registrations MUST use the same instance-id and reg-id 
> values  as 
> >> the corresponding initial registration."
> >> <kcj> Yes this is my suggestion
> >>
> >> Rohan?
> >
> > I'm OK with this recommendation.
> 
> I'm not happy with this MUST.
> 
> The quoted statement already *is* normative.  It is not 
> necessary to include a MUST statement to make a statement 
> normative.  Excessive and unnecessary use of RFC 2119 
> language impairs clarity and readability.
> Based on several requests from readers, I removed a lot of 
> extraneous MUSTs and the spec was much easier to read.

I think the point is that we are not adding really a new requirement here.

It's more like we are stating what is a re-registration in the context of insteance-id.

So I agree with Rohan.
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu Mar 20 16:41:21 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 6C9ED3A6FDE;
	Thu, 20 Mar 2008 16:41:21 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.629
X-Spam-Level: 
X-Spam-Status: No, score=-100.629 tagged_above=-999 required=5
	tests=[AWL=-0.192, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id NoKgeA5socUR; Thu, 20 Mar 2008 16:41:20 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 595733A69B7;
	Thu, 20 Mar 2008 16:41:20 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 98C0F3A69B7
	for <sip@core3.amsl.com>; Thu, 20 Mar 2008 16:41:18 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 3fqaZTztQ3bG for <sip@core3.amsl.com>;
	Thu, 20 Mar 2008 16:41:17 -0700 (PDT)
Received: from figas.ekabal.com (figas.ekabal.com [204.61.215.10])
	by core3.amsl.com (Postfix) with ESMTP id B66E33A68F6
	for <sip@ietf.org>; Thu, 20 Mar 2008 16:41:17 -0700 (PDT)
Received: (from apache@localhost)
	by figas.ekabal.com (8.11.6/8.11.6) id m2KNcsM28657;
	Thu, 20 Mar 2008 15:38:54 -0800
From: Rohan Mahy <rohan@ekabal.com>
X-Authentication-Warning: figas.ekabal.com: apache set sender to
	rohan@localhost using -f
Received: from 12.151.41.2 (SquirrelMail authenticated user rohan);
	by figas.ekabal.com with HTTP; Thu, 20 Mar 2008 15:38:53 -0800 (PST)
Message-ID: <46082.12.151.41.2.1206056333.squirrel@12.151.41.2>
In-Reply-To: <9AAEDF491EF7CA48AB587781B8F5D7C601046118@srvxchg3.cablelabs.com>
References: <9AAEDF491EF7CA48AB587781B8F5D7C6FA7008@srvxchg3.cablelabs.com><1ECE0EB50388174790F9694F77522CCF158BEE1F@zrc2hxm0.corp.nortel.com>
	<9AAEDF491EF7CA48AB587781B8F5D7C6010460FF@srvxchg3.cablelabs.com>   
	<9AAEDF491EF7CA48AB587781B8F5D7C60104610D@srvxchg3.cablelabs.com>   
	<1ECE0EB50388174790F9694F77522CCF15A27987@zrc2hxm0.corp.nortel.com> 
	<9AAEDF491EF7CA48AB587781B8F5D7C601046110@srvxchg3.cablelabs.com>   
	<9AAEDF491EF7CA48AB587781B8F5D7C601046113@srvxchg3.cablelabs.com>   
	<9AAEDF491EF7CA48AB587781B8F5D7C601046114@srvxchg3.cablelabs.com>
	<40662.12.151.41.2.1206051005.squirrel@12.151.41.2>
	<9AAEDF491EF7CA48AB587781B8F5D7C601046118@srvxchg3.cablelabs.com>
Date: Thu, 20 Mar 2008 15:38:53 -0800 (PST)
To: "Kevin Johns" <K.Johns@CableLabs.com>
User-Agent: SquirrelMail/1.4.3a-1
X-Mailer: SquirrelMail/1.4.3a-1
MIME-Version: 1.0
X-Priority: 3 (Normal)
Importance: Normal
Cc: sip@ietf.org, Rohan Mahy <rohan@ekabal.com>,
	Francois Audet <audet@nortel.com>,
	Sumanth Channabasappa <sumanth@CableLabs.com>,
	Cullen Jennings <fluffy@cisco.com>
Subject: Re: [Sip] Outbound-12 comments
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

> Right but these talk about adding 'ob' to the contact header. The text I
> am referring to (1st para in section 4.3) talks about including the
> outbound option-tag in the supported header. I guess this goes in
> conjunction with including the ob parameter in the contact header? If
> that is the case I did not make the connection till just now.

Kevin,

You *always* include Supported: outbound if you support outbound.  This is
just normal RFC 3261 option-tag behavior.  This has no special
relationship with the 'ob' parameter.

thanks,
-rohan


> Kevin
>
> -----Original Message-----
> From: Rohan Mahy [mailto:rohan@ekabal.com]
> Sent: Thursday, March 20, 2008 4:10 PM
> To: Kevin Johns
> Cc: Sumanth Channabasappa; Francois Audet; sip@ietf.org; Cullen
> Jennings; Rohan Mahy
> Subject: RE: [Sip] Outbound-12 comments
>
> Hi Kevin,
>
>> Ok, so I don't recall any of this being discussed in outbound. So I
>> think some text is in order to explain why the UA includes this and
>> what the edge proxy is expected to do as a result.
>
> Its already there.  UA behavior from the 3rd paragraph of Section 4.3:
>
>>If the UAC is sending a dialog-forming request, and wants all
>>subsequent requests in the dialog to arrive over the same flow, the UAC
> adds an 'ob'
>>parameter to its Contact header. Typically this is desirable, but it is
>
>>not necessary for example if the Contact is a [GRUU]. The flow used for
>
>>the request is typically the same flow the UA registered over, but it
>>could be a new flow, for example the initial subscription dialog for
>>the [configuration framework] needs to exist before registration.
>
> Edge proxy behavior is the same as that for any other dialog forming
> request and is described in the last paragraph of Section 5.3.
>
> thanks,
> -rohan
>
>
>> Kevin
>>
>> -----Original Message-----
>> From: Sumanth Channabasappa
>> Sent: Thursday, March 20, 2008 3:42 PM
>> To: Kevin Johns; 'Francois Audet'; 'sip@ietf.org'
>> Cc: 'Cullen Jennings'; 'Rohan Mahy'
>> Subject: RE: [Sip] Outbound-12 comments
>>
>> Kevin,
>>
>> That is my understanding. This would support bootstrapping
>> configuration (prior to registration).
>>
>> - S
>>
>> -----Original Message-----
>> From: Kevin Johns
>> Sent: Thursday, March 20, 2008 3:34 PM
>> To: Francois Audet; Sumanth Channabasappa; sip@ietf.org
>> Cc: Cullen Jennings; Rohan Mahy
>> Subject: RE: [Sip] Outbound-12 comments
>>
>> So this would seem to imply that the presence of outbound in the
>> support header indicates that a flow should be established and the
>> Edge Proxy record route with a flow token in order for the resulting
>> NOTIFY to be delivered in the absence of the UA having registered?
>>
>> -----Original Message-----
>> From: Francois Audet [mailto:audet@nortel.com]
>> Sent: Thursday, March 20, 2008 3:27 PM
>> To: Sumanth Channabasappa; Kevin Johns; sip@ietf.org
>> Cc: Cullen Jennings; Rohan Mahy
>> Subject: RE: [Sip] Outbound-12 comments
>>
>> Like the SUBSCRIBE in the example call flow section (the first one).
>>
>>> -----Original Message-----
>>> From: Sumanth Channabasappa [mailto:sumanth@cablelabs.com]
>>> Sent: Thursday, March 20, 2008 14:25
>>> To: Kevin Johns; Audet, Francois (SC100:3055); sip@ietf.org
>>> Cc: Cullen Jennings; Rohan Mahy
>>> Subject: RE: [Sip] Outbound-12 comments
>>>
>>> > Section 4.3, Sending Non-REGISTER Requests, 1st paragraph -
>>> "UAs that
>>> > support this specification SHOULD include the outbound
>>> option tag in a
>>>
>>> > Supported header field in a non-Register REGISTER request."
>>> What is a
>>> > non-Register REGISTER request?
>>>
>>> >>I think this is a typo: it should say "non-Register request.".
>>>
>>> > Further why is this recommended? I did not see this
>>> information being
>>> > used by the edge proxy elsewhere in the document?
>>>
>>> >>That is a good question. Rohan? Cullen?
>>>
>>> [S] An example of a non-REGISTER request is a SIP SUBSCRIBE message.
>>> I
>>
>>> am guessing this requirement refers to the use of outbound in such
>>> cases. (We use the 'ob' parameter within the SIP Configuration
>>> Framework.)
>>>
>>>
>>> - S
>>>
>>
>

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu Mar 20 17:44:46 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id BF1F23A6DCC;
	Thu, 20 Mar 2008 17:44:46 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.072
X-Spam-Level: 
X-Spam-Status: No, score=-100.072 tagged_above=-999 required=5
	tests=[AWL=0.365, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id acJJLBg7wJGb; Thu, 20 Mar 2008 17:44:45 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 7E1D428C196;
	Thu, 20 Mar 2008 17:44:44 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 95DC53A6BA6
	for <sip@core3.amsl.com>; Thu, 20 Mar 2008 17:44:43 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id II7bzN09gXHL for <sip@core3.amsl.com>;
	Thu, 20 Mar 2008 17:44:42 -0700 (PDT)
Received: from nylon.softarmor.com (nylon.softarmor.com [66.135.38.164])
	by core3.amsl.com (Postfix) with ESMTP id 66B493A6F8A
	for <sip@ietf.org>; Thu, 20 Mar 2008 17:44:25 -0700 (PDT)
Received: from [192.168.2.103] (cpe-76-185-142-113.tx.res.rr.com
	[76.185.142.113] (may be forged)) (authenticated bits=0)
	by nylon.softarmor.com (8.13.8/8.13.8/Debian-3) with ESMTP id
	m2L0fp09006278
	(version=TLSv1/SSLv3 cipher=AES128-SHA bits=128 verify=NOT);
	Thu, 20 Mar 2008 19:41:54 -0500
Message-Id: <3258C2FF-7AC8-4963-BC6C-061DFA3E4B85@softarmor.com>
From: Dean Willis <dean.willis@softarmor.com>
To: Kevin Johns <K.Johns@CableLabs.com>
In-Reply-To: <9AAEDF491EF7CA48AB587781B8F5D7C601046118@srvxchg3.cablelabs.com>
Mime-Version: 1.0 (Apple Message framework v919.2)
Date: Thu, 20 Mar 2008 19:41:45 -0500
References: <9AAEDF491EF7CA48AB587781B8F5D7C6FA7008@srvxchg3.cablelabs.com><1ECE0EB50388174790F9694F77522CCF158BEE1F@zrc2hxm0.corp.nortel.com>
	<9AAEDF491EF7CA48AB587781B8F5D7C6010460FF@srvxchg3.cablelabs.com>
	<9AAEDF491EF7CA48AB587781B8F5D7C60104610D@srvxchg3.cablelabs.com>
	<1ECE0EB50388174790F9694F77522CCF15A27987@zrc2hxm0.corp.nortel.com>
	<9AAEDF491EF7CA48AB587781B8F5D7C601046110@srvxchg3.cablelabs.com>
	<9AAEDF491EF7CA48AB587781B8F5D7C601046113@srvxchg3.cablelabs.com>
	<9AAEDF491EF7CA48AB587781B8F5D7C601046114@srvxchg3.cablelabs.com>
	<40662.12.151.41.2.1206051005.squirrel@12.151.41.2>
	<9AAEDF491EF7CA48AB587781B8F5D7C601046118@srvxchg3.cablelabs.com>
X-Mailer: Apple Mail (2.919.2)
Cc: sip@ietf.org, Rohan Mahy <rohan@ekabal.com>,
	Francois Audet <audet@nortel.com>,
	Sumanth Channabasappa <sumanth@CableLabs.com>,
	Cullen Jennings <fluffy@cisco.com>
Subject: Re: [Sip] Outbound-12 comments
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


On Mar 20, 2008, at 5:16 PM, Kevin Johns wrote:

> Right but these talk about adding 'ob' to the contact header. The  
> text I
> am referring to (1st para in section 4.3) talks about including the
> outbound option-tag in the supported header. I guess this goes in
> conjunction with including the ob parameter in the contact header? If
> that is the case I did not make the connection till just now.

Strictly speaking, one includes in every Supported every extension  
that one supports, whether one is using it now or not. We seem to keep  
forgetting this. I didn't much like this approach, but it's what we  
have.

--
Dean
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu Mar 20 19:40:58 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id DFDA33A6B3D;
	Thu, 20 Mar 2008 19:40:58 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.64
X-Spam-Level: 
X-Spam-Status: No, score=-100.64 tagged_above=-999 required=5
	tests=[AWL=-0.203, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id cG4PXZzvf2j1; Thu, 20 Mar 2008 19:40:58 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 011443A6819;
	Thu, 20 Mar 2008 19:40:58 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 19D783A6819
	for <sip@core3.amsl.com>; Thu, 20 Mar 2008 19:40:56 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id j-8Hcrcne+pQ for <sip@core3.amsl.com>;
	Thu, 20 Mar 2008 19:40:55 -0700 (PDT)
Received: from QMTA09.emeryville.ca.mail.comcast.net
	(qmta09.emeryville.ca.mail.comcast.net [76.96.30.96])
	by core3.amsl.com (Postfix) with ESMTP id 5911E3A67DB
	for <sip@ietf.org>; Thu, 20 Mar 2008 19:40:55 -0700 (PDT)
Received: from OMTA01.emeryville.ca.mail.comcast.net ([76.96.30.11])
	by QMTA09.emeryville.ca.mail.comcast.net with comcast
	id 3VlR1Z0040EPchoA90TN00; Fri, 21 Mar 2008 02:37:37 +0000
Received: from dragon.ariadne.com ([76.19.174.1])
	by OMTA01.emeryville.ca.mail.comcast.net with comcast
	id 3eeb1Z00H02AVH08M00000; Fri, 21 Mar 2008 02:38:37 +0000
X-Authority-Analysis: v=1.0 c=1 a=jzwdtS3I2oYA:10 a=rF3QDTDKsP06IpiIkfMA:9
	a=-PN9Ol_bVXIPtThpUaGAAxS5BnIA:4 a=JfD0Fch1gWkA:10 a=8y7tGHue6YMA:10
Received: from dragon.ariadne.com (dragon.ariadne.com [127.0.0.1])
	by dragon.ariadne.com (8.12.8/8.12.8) with ESMTP id m2L2cZm4020959
	for <sip@ietf.org>; Thu, 20 Mar 2008 21:38:35 -0500
Received: (from worley@localhost)
	by dragon.ariadne.com (8.12.8/8.12.8/Submit) id m2L2cZX0020955;
	Thu, 20 Mar 2008 21:38:35 -0500
Date: Thu, 20 Mar 2008 21:38:35 -0500
Message-Id: <200803210238.m2L2cZX0020955@dragon.ariadne.com>
To: sip@ietf.org
From: Dale.Worley@comcast.net
In-reply-to: <XFE-SJC-211FSA4AleL00001363@xfe-sjc-211.amer.cisco.com>
	(jmpolk@cisco.com)
References: <200803200230.m2K2UcbI012455@dragon.ariadne.com>
	<XFE-SJC-211FSA4AleL00001363@xfe-sjc-211.amer.cisco.com>
Subject: Re: [Sip] The emergency services routing use case
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
MIME-Version: 1.0
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

   From: "James M. Polk" <jmpolk@cisco.com>

   Dave

"Dale"

   I believe the To: field is always supposed to be urn:service:sos, 
   regardless of the choice in how to do this.  I don't know if this 
   helps the point you're making...

I don't think people expect the To field to control either the routing
or the prioritization, so I was being lazy about its value.

Dale
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu Mar 20 19:45:57 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 3DADA28C1F5;
	Thu, 20 Mar 2008 19:45:57 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.642
X-Spam-Level: 
X-Spam-Status: No, score=-100.642 tagged_above=-999 required=5
	tests=[AWL=-0.205, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id N3S2rc3eCJHu; Thu, 20 Mar 2008 19:45:53 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 71E683A68E4;
	Thu, 20 Mar 2008 19:45:53 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id A6E0F3A6819
	for <sip@core3.amsl.com>; Thu, 20 Mar 2008 19:45:52 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id B0gJdu8mCDss for <sip@core3.amsl.com>;
	Thu, 20 Mar 2008 19:45:51 -0700 (PDT)
Received: from QMTA04.westchester.pa.mail.comcast.net
	(qmta04.westchester.pa.mail.comcast.net [76.96.62.40])
	by core3.amsl.com (Postfix) with ESMTP id 9344C3A6B3D
	for <sip@ietf.org>; Thu, 20 Mar 2008 19:45:51 -0700 (PDT)
Received: from OMTA09.westchester.pa.mail.comcast.net ([76.96.62.20])
	by QMTA04.westchester.pa.mail.comcast.net with comcast
	id 3Zxh1Z0060SCNGk540Hq00; Fri, 21 Mar 2008 02:42:25 +0000
Received: from dragon.ariadne.com ([76.19.174.1])
	by OMTA09.westchester.pa.mail.comcast.net with comcast
	id 3ejZ1Z00402AVH03V00000; Fri, 21 Mar 2008 02:43:33 +0000
X-Authority-Analysis: v=1.0 c=1 a=9B9dwqiqtupHClWEGxgA:9
	a=lPa-Da-vjBZnRZmzSpEA:7 a=K4Yxn2SMY_YZoRA0kDXIBPwDmPwA:4
	a=f7GxY0FH8QIA:10 a=Y6qChIQXU1wA:10 a=8y7tGHue6YMA:10
Received: from dragon.ariadne.com (dragon.ariadne.com [127.0.0.1])
	by dragon.ariadne.com (8.12.8/8.12.8) with ESMTP id m2L2hXm4021353
	for <sip@ietf.org>; Thu, 20 Mar 2008 21:43:33 -0500
Received: (from worley@localhost)
	by dragon.ariadne.com (8.12.8/8.12.8/Submit) id m2L2hX61021349;
	Thu, 20 Mar 2008 21:43:33 -0500
Date: Thu, 20 Mar 2008 21:43:33 -0500
Message-Id: <200803210243.m2L2hX61021349@dragon.ariadne.com>
To: sip@ietf.org
From: Dale.Worley@comcast.net
In-reply-to: <47B2061B1E5E494B96AA40008300D850243359@esealmw109.eemea.ericsson.se>
	(hanserik.van.elburg@ericsson.com)
References: <200803192133.m2JLXQDm022953@dragon.ariadne.com>
	<47B2061B1E5E494B96AA40008300D850243359@esealmw109.eemea.ericsson.se>
Subject: Re: [Sip] Deficiencies of History-Info
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
MIME-Version: 1.0
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

   From: "Hans Erik van Elburg" <hanserik.van.elburg@ericsson.com>

   Isn't the more fundamental design problem that causes this that the
   Reason is captured on the hi-targeted-to-uri that has been retargeted
   instead of being associated with the new target signifying how it came
   into being.

   Not sure if adding additional indexes makes things clearer.

The difficulty is that you want to associate the Reason (302), the URI
that generated that reason, and the URIs that came from the 302.  RFC
4244 consistently applies the Reason to the URI that generated that
response, which seems cleanest (IMHO), in that all Reasons are
responses to some URI.

   BTW: If  UA4 is from 302, then why does UA3 line on F8 contain reason
   480? I would expect it to have no attached reason.

I made a mistake transcribing and modifying the example.  In the
INVITE to UA4, the cause code for UA3 should be 486.  The reason that
UA3 has a reason is that an INVITE to UA4 was sent "serially", after
the INVITE to UA3 failed.  I didn't mention that.

      UA1      Proxy1                UA2      UA3      UA4
      |            |                  |        |        |
      |-INVITE F1->|                  |        |        |
      |            |                  |        |        |
      |            |--INVITE F2------>|        |        |
      |            |                  |        |        |
      |            |<-302 F4----------|        |        |
      |            |                  |        |        |
      |            |-------INVITE F5 --------->|        |
      |            |                  |        |        |
      |            |<-------486 F6 ------------|        |
      |            |                  |        |        |
      |            |------INVITE F8 ------------------->|
      |            |                  |        |        |
      |            |<-200 F10 --------------------------|
      |            |                  |        |        |
      |            |-- ACK F11------------------------->|
      |<--200 F12--|                  |        |        |
      |            |                  |        |        |
      |--ACK F13-->|                  |        |        |
      |            |                  |        |        |

   Assuming that each agent applies History-Info, the History-Info headers
   will look like this:


	 F1 INVITE UA1 ->Proxy1

	 History-Info: <sip:UA2@example.com>; index=1


	 F2 INVITE  Proxy1 ->UA2

	 History-Info: <sip:UA2@example.com>; index=1,
	  <sip:UA2@ims.example.com>; index=1.1


	 F5 INVITE Proxy1 -> UA3

	 History-Info: <sip:UA2@example.com>; index=1,
	  <sip:UA2@ims.example.com?Reason=SIP;\
	  cause=302; text="Moved Temporarily">; index=1.1,
	  <sip:UA3@example.com>;index=1.2


	 F8 INVITE Proxy1 -> UA4

	 History-Info: <sip:UA2@example.com>; index=1,
	  <sip:UA2@ims.example.com?Reason=SIP;\
	  cause=302; text="Moved Temporarily">;index=1.1,
	  <sip:UA3@example.com?Reason=SIP;cause=480;\
------------------------------------------------^^^
Yes, that should be "486".
	  text="Temporarily Unavailable" >;index=1.2,
	  <sip:UA4@example.com>;index=1.3

Dale
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu Mar 20 20:22:10 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id AB6473A6D97;
	Thu, 20 Mar 2008 20:22:10 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.544
X-Spam-Level: 
X-Spam-Status: No, score=-100.544 tagged_above=-999 required=5
	tests=[AWL=-1.176, BAYES_00=-2.599, DATE_IN_PAST_06_12=1.069,
	FH_RELAY_NODNS=1.451, HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1,
	USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id FQQq02lqVBl8; Thu, 20 Mar 2008 20:22:09 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id AAC1A3A6A55;
	Thu, 20 Mar 2008 20:22:09 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id F24AD3A68E4
	for <sip@core3.amsl.com>; Thu, 20 Mar 2008 20:22:08 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id QLlNH2Uc2w5C for <sip@core3.amsl.com>;
	Thu, 20 Mar 2008 20:22:08 -0700 (PDT)
Received: from sj-iport-2.cisco.com (sj-iport-2.cisco.com [171.71.176.71])
	by core3.amsl.com (Postfix) with ESMTP id 670573A6A55
	for <sip@ietf.org>; Thu, 20 Mar 2008 20:22:06 -0700 (PDT)
Received: from sj-dkim-3.cisco.com ([171.71.179.195])
	by sj-iport-2.cisco.com with ESMTP; 20 Mar 2008 20:19:49 -0700
Received: from sj-core-1.cisco.com (sj-core-1.cisco.com [171.71.177.237])
	by sj-dkim-3.cisco.com (8.12.11/8.12.11) with ESMTP id m2L3Jmah005514; 
	Thu, 20 Mar 2008 20:19:48 -0700
Received: from [192.168.4.3] (sjc-fluffy-vpn1.cisco.com [10.25.236.82])
	by sj-core-1.cisco.com (8.13.8/8.13.8) with SMTP id m2L3JmwP000070;
	Fri, 21 Mar 2008 03:19:48 GMT
Message-Id: <94C8D91F-AEC6-434C-8B05-278C24368D6B@cisco.com>
From: Cullen Jennings <fluffy@cisco.com>
To: Dean Willis <dean.willis@softarmor.com>
In-Reply-To: <45C6C8F3-8E43-41FF-8188-195275F886E5@softarmor.com>
Mime-Version: 1.0 (Apple Message framework v919.2)
Date: Thu, 20 Mar 2008 13:12:31 -0400
References: <B58259AF-F85A-48C8-B163-E447A6A2E0D5@cisco.com>
	<5D1A7985295922448D5550C94DE2918001D603FE@DEEXC1U01.de.lucent.com>
	<5AA8419B-124C-46CA-ABF4-29CCA59C6395@cisco.com>
	<45C6C8F3-8E43-41FF-8188-195275F886E5@softarmor.com>
X-Mailer: Apple Mail (2.919.2)
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; l=1405; t=1206069588;
	x=1206933588; c=relaxed/simple; s=sjdkim3002;
	h=Content-Type:From:Subject:Content-Transfer-Encoding:MIME-Version;
	d=cisco.com; i=fluffy@cisco.com;
	z=From:=20Cullen=20Jennings=20<fluffy@cisco.com>
	|Subject:=20Re=3A=20[Sip]=20Question=20about=20refernce=20i
	n=20draft-ietf-sip-domain-certs-00 |Sender:=20;
	bh=n+a6yuiyOL2I+Ijrp5BASRn3Q7sAJA9w4vA2h3J2fbI=;
	b=oeHwKv0HAn7jHhATxwF3ZMLZKMeNyJBZXdpk5oEngKFZYHBkChIHeBHhsK
	kYp5VsBVRYvGA7DMLENoCTsT1hpomo6g5W09XgvtATZmXkBB+x5YPARFCTy+
	ObMcRrHzGc;
Authentication-Results: sj-dkim-3; header.From=fluffy@cisco.com; dkim=pass (
	sig from cisco.com/sjdkim3002 verified; ); 
Cc: SIP <sip@ietf.org>, "DRAGE, Keith \(Keith\)" <drage@alcatel-lucent.com>
Subject: Re: [Sip] Question about refernce in draft-ietf-sip-domain-certs-00
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


On Mar 20, 2008, at 1:52 AM, Dean Willis wrote:

>
> On Mar 19, 2008, at 6:56 PM, Cullen Jennings wrote:
>>
>> And certs has the text
>>
>>   I-D.sip-eku [9] describes the method to validate any Extended Key
>>   Usage values found in the certificate for a SIP domain.
>>   Implementations MUST perform the checks prescribed by that
>>   specification.
>>
>> which seems to me like it could be changed to
>>
>>   I-D.sip-eku [9] describes the method to validate any Extended Key
>>   Usage values found in the certificate for a SIP domain.
>>
>
>
> So the above text means to me "If you receive a certificate for a  
> SIP domain that contains any Extended Key Usage values, you MUST  
> validate them according to the procedures of I-D-sip-eku [9]."

I'm assuming that be above text you mean my proposed change, not the  
the current text in the draft. I would have interpreted my proposed  
change to mean something closer to  "As a FYI to the reader,  there is  
another specification you might be interested in. If you want to do  
Extended Key Usages there is this other specification, sip-eku, that  
can be implement but implementation of the domain-certs specification  
does not require you to implement sip-eku". If you and I are reading  
this differently ways perhaps you could propose some  text for this   
sentence so that there is no chance of ambiguity.




_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu Mar 20 20:45:12 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 900D53A6E42;
	Thu, 20 Mar 2008 20:45:12 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -102.599
X-Spam-Level: 
X-Spam-Status: No, score=-102.599 tagged_above=-999 required=5
	tests=[AWL=-0.000, BAYES_00=-2.599, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id BmmG56mGcSxs; Thu, 20 Mar 2008 20:45:03 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id CC5813A6B65;
	Thu, 20 Mar 2008 20:45:03 -0700 (PDT)
X-Original-To: sip@ietf.org
Delivered-To: sip@core3.amsl.com
Received: by core3.amsl.com (Postfix, from userid 0)
	id AF37F3A6D7B; Thu, 20 Mar 2008 20:45:01 -0700 (PDT)
Content-Type: Multipart/Mixed; Boundary="NextPart"
Mime-Version: 1.0
To: i-d-announce@ietf.org
From: Internet-Drafts@ietf.org
Message-Id: <20080321034501.AF37F3A6D7B@core3.amsl.com>
Date: Thu, 20 Mar 2008 20:45:01 -0700 (PDT)
Cc: sip@ietf.org
Subject: [Sip] I-D Action:draft-ietf-sip-media-security-requirements-04.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


--NextPart

A New Internet-Draft is available from the on-line Internet-Drafts directories.
This draft is a work item of the Session Initiation Protocol Working Group of the IETF.


	Title           : Requirements and Analysis of Media Security Management Protocols
	Author(s)       : D. Wing, et al.
	Filename        : draft-ietf-sip-media-security-requirements-04.txt
	Pages           : 49
	Date            : 2008-03-20

This document describes requirements for a protocol to negotiate a
security context for SIP-signaled SRTP media.  In addition to the
natural security requirements, this negotiation protocol must
interoperate well with SIP in certain ways.  A number of proposals
have been published and a summary of these proposals is in the
appendix of this document.

A URL for this Internet-Draft is:
http://www.ietf.org/internet-drafts/draft-ietf-sip-media-security-requirements-04.txt

Internet-Drafts are also available by anonymous FTP at:
ftp://ftp.ietf.org/internet-drafts/

Below is the data which will enable a MIME compliant mail reader
implementation to automatically retrieve the ASCII version of the
Internet-Draft.

--NextPart
Content-Type: Message/External-body;
	name="draft-ietf-sip-media-security-requirements-04.txt";
	site="ftp.ietf.org";
	access-type="anon-ftp";
	directory="internet-drafts"

Content-Type: text/plain
Content-ID: <2008-03-20204230.I-D@ietf.org>


--NextPart
Content-Type: text/plain; charset="us-ascii"
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip
--NextPart--


From sip-bounces@ietf.org  Thu Mar 20 20:52:04 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 3FE453A6D9A;
	Thu, 20 Mar 2008 20:52:04 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -101.286
X-Spam-Level: 
X-Spam-Status: No, score=-101.286 tagged_above=-999 required=5
	tests=[AWL=-0.849, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id xtUwsYTYioPR; Thu, 20 Mar 2008 20:52:02 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id D5A663A6DCA;
	Thu, 20 Mar 2008 20:52:02 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 20B693A6D9A
	for <sip@core3.amsl.com>; Thu, 20 Mar 2008 20:52:01 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id M-WcAAO1he14 for <sip@core3.amsl.com>;
	Thu, 20 Mar 2008 20:52:00 -0700 (PDT)
Received: from sj-iport-6.cisco.com (sj-iport-6.cisco.com [171.71.176.117])
	by core3.amsl.com (Postfix) with ESMTP id 5B7003A6C3B
	for <sip@ietf.org>; Thu, 20 Mar 2008 20:52:00 -0700 (PDT)
Received: from sj-dkim-1.cisco.com ([171.71.179.21])
	by sj-iport-6.cisco.com with ESMTP; 20 Mar 2008 20:49:42 -0700
Received: from sj-core-5.cisco.com (sj-core-5.cisco.com [171.71.177.238])
	by sj-dkim-1.cisco.com (8.12.11/8.12.11) with ESMTP id m2L3ngHP005898
	for <sip@ietf.org>; Thu, 20 Mar 2008 20:49:42 -0700
Received: from dwingwxp01 ([10.32.240.197])
	by sj-core-5.cisco.com (8.13.8/8.13.8) with ESMTP id m2L3ngX1021850
	for <sip@ietf.org>; Fri, 21 Mar 2008 03:49:42 GMT
From: "Dan Wing" <dwing@cisco.com>
To: "'IETF SIP List'" <sip@ietf.org>
Date: Thu, 20 Mar 2008 20:49:40 -0700
Message-ID: <001601c88b06$97b957b0$c5f0200a@cisco.com>
MIME-Version: 1.0
X-Mailer: Microsoft Office Outlook 11
X-Mimeole: Produced By Microsoft MimeOLE V6.00.2900.3198
Thread-Index: AciLBpdQuTDPjuOKS62X8Hro7OH8/g==
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; l=1413; t=1206071382;
	x=1206935382; c=relaxed/simple; s=sjdkim1004;
	h=Content-Type:From:Subject:Content-Transfer-Encoding:MIME-Version;
	d=cisco.com; i=dwing@cisco.com;
	z=From:=20=22Dan=20Wing=22=20<dwing@cisco.com>
	|Subject:=20media-security-requirements-04 |Sender:=20;
	bh=BTJiS4G9O+jmgOaSAVxj1r3cjSBc/mMD9Eh4RySseC8=;
	b=oZfj/eHJ7YEIHNT2dqmgTjjBfye6Re2Yz0GB/ca79hwXVlJkEmQFcRrUvL
	EkCWWku4lIymAdLcMS5A6Y9FMHDQ3x7ID8IMfPgoD357SuHio4qLpPOfn6Uq
	Y6HkavLAHdie7C80iW+Q7iSW38prxqIV193GlG3z5+KbTNxEUh9lE=;
Authentication-Results: sj-dkim-1; header.From=dwing@cisco.com; dkim=pass (
	sig from cisco.com/sjdkim1004 verified; ); 
Subject: [Sip] media-security-requirements-04
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

I just submitted -04 of the media security requirements draft.  This
re-introduces the old R15 requirement (now called R-ALLOW-RTP), as was agreed
in Philadelphia.  New text is:

  "4.8.  Upgrading to SRTP
 
   The discussion in this section relates to the requirement R-ALLOW-
   RTP.

   Legitimate RTP media can be sent to an endpoint for announcements,
   colorful ringback tones (e.g., music), advertising, or normal call
   progress tones.  The RTP may be received before an associated SDP
   answer.  For details on various scenarios, see
   [I-D.stucker-sipping-early-media-coping].

   While receiving such RTP exposes the calling party to a risk of
   receiving malicious RTP from an attacker, SRTP endpoints will need to
   receive and play out RTP media in order to be compatible with
   deployed systems that send RTP to calling parties."

...

  "R-ALLOW-RTP:  A solution SHOULD be described which allows RTP media
         to be received by the calling party until SRTP has been
         negotiated with the answerer, after which SRTP is preferred
         over RTP."

-04 also includes changes from EKR and Matt Lepinski 
as summarized in
<http://www.ietf.org/mail-archive/web/sip/current/msg22503.html>.

New version:
http://www.ietf.org/internet-drafts/draft-ietf-sip-media-security-requirements
-04.txt

Diffs from -03 are at http://tinyurl.com/229wq8

-d

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu Mar 20 21:49:36 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id E934428C24B;
	Thu, 20 Mar 2008 21:49:36 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.058
X-Spam-Level: 
X-Spam-Status: No, score=-100.058 tagged_above=-999 required=5
	tests=[AWL=0.379, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id F5NiQECwNqwW; Thu, 20 Mar 2008 21:49:36 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 1664A3A68D5;
	Thu, 20 Mar 2008 21:49:36 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id D737D3A68D5
	for <sip@core3.amsl.com>; Thu, 20 Mar 2008 21:49:34 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 5y9Ps35LUGwT for <sip@core3.amsl.com>;
	Thu, 20 Mar 2008 21:49:34 -0700 (PDT)
Received: from sj-iport-6.cisco.com (sj-iport-6.cisco.com [171.71.176.117])
	by core3.amsl.com (Postfix) with ESMTP id E589C3A6969
	for <sip@ietf.org>; Thu, 20 Mar 2008 21:49:33 -0700 (PDT)
Received: from sj-dkim-1.cisco.com ([171.71.179.21])
	by sj-iport-6.cisco.com with ESMTP; 20 Mar 2008 21:47:13 -0700
Received: from sj-core-1.cisco.com (sj-core-1.cisco.com [171.71.177.237])
	by sj-dkim-1.cisco.com (8.12.11/8.12.11) with ESMTP id m2L4lDsq020597; 
	Thu, 20 Mar 2008 21:47:13 -0700
Received: from xbh-sjc-221.amer.cisco.com (xbh-sjc-221.cisco.com
	[128.107.191.63])
	by sj-core-1.cisco.com (8.13.8/8.13.8) with ESMTP id m2L4lDjB017124;
	Fri, 21 Mar 2008 04:47:13 GMT
Received: from xfe-sjc-211.amer.cisco.com ([171.70.151.174]) by
	xbh-sjc-221.amer.cisco.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Thu, 20 Mar 2008 21:47:12 -0700
Received: from jmpolk-wxp.cisco.com ([10.21.70.3]) by
	xfe-sjc-211.amer.cisco.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Thu, 20 Mar 2008 21:47:12 -0700
X-Mailer: QUALCOMM Windows Eudora Version 7.1.0.9
Date: Thu, 20 Mar 2008 23:47:11 -0500
To: Dale.Worley@comcast.net, sip@ietf.org
From: "James M. Polk" <jmpolk@cisco.com>
In-Reply-To: <200803210238.m2L2cZX0020955@dragon.ariadne.com>
References: <200803200230.m2K2UcbI012455@dragon.ariadne.com>
	<XFE-SJC-211FSA4AleL00001363@xfe-sjc-211.amer.cisco.com>
	<200803210238.m2L2cZX0020955@dragon.ariadne.com>
Mime-Version: 1.0
Message-ID: <XFE-SJC-211wAz8AWiZ000013ee@xfe-sjc-211.amer.cisco.com>
X-OriginalArrivalTime: 21 Mar 2008 04:47:12.0627 (UTC)
	FILETIME=[A0F4F430:01C88B0E]
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; l=866; t=1206074833; x=1206938833;
	c=relaxed/simple; s=sjdkim1004;
	h=Content-Type:From:Subject:Content-Transfer-Encoding:MIME-Version;
	d=cisco.com; i=jmpolk@cisco.com;
	z=From:=20=22James=20M.=20Polk=22=20<jmpolk@cisco.com>
	|Subject:=20Re=3A=20[Sip]=20The=20emergency=20services=20ro
	uting=20use=20case |Sender:=20;
	bh=fIQEhLfeP8LdLBCgXUB4tpyX8poZdobrfzKbLsmCNbg=;
	b=fEZZzqQoIB27wgPKuAPbQjrEf9O6PfrT/VAiZeupT70p+wcR6zAKYaCZfo
	0bsZJypxMQ2g+IS+GKY3BhCKuCQ0bmnZWRymo4L3OPNBsOmze/8qPPsObkkk
	k+WVrXAqOO/I5x1u8SDO6BDyVqO2a0YD/dgNhDYMZu82/gDXThV7A=;
Authentication-Results: sj-dkim-1; header.From=jmpolk@cisco.com; dkim=pass (
	sig from cisco.com/sjdkim1004 verified; ); 
Subject: Re: [Sip] The emergency services routing use case
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

At 09:38 PM 3/20/2008, Dale.Worley@comcast.net wrote:
>    From: "James M. Polk" <jmpolk@cisco.com>
>
>    Dave
>
>"Dale"

oops, sorry


>    I believe the To: field is always supposed to be urn:service:sos,
>    regardless of the choice in how to do this.  I don't know if this
>    helps the point you're making...
>
>I don't think people expect the To field to control either the routing
>or the prioritization, so I was being lazy about its value.

fair - but this could be something to check against in most cases, right?


>Dale
>_______________________________________________
>Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
>This list is for NEW development of the core SIP Protocol
>Use sip-implementors@cs.columbia.edu for questions on current sip
>Use sipping@ietf.org for new developments on the application of sip

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu Mar 20 22:54:26 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id CA7223A6CD9;
	Thu, 20 Mar 2008 22:54:26 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.128
X-Spam-Level: 
X-Spam-Status: No, score=-100.128 tagged_above=-999 required=5
	tests=[AWL=0.309, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 3aBxUytnysq5; Thu, 20 Mar 2008 22:54:25 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 99A993A6B11;
	Thu, 20 Mar 2008 22:54:25 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 78AD63A6AA2
	for <sip@core3.amsl.com>; Thu, 20 Mar 2008 22:54:24 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id PjTDz8akKhLl for <sip@core3.amsl.com>;
	Thu, 20 Mar 2008 22:54:23 -0700 (PDT)
Received: from nylon.softarmor.com (nylon.softarmor.com [66.135.38.164])
	by core3.amsl.com (Postfix) with ESMTP id 61CA23A689D
	for <sip@ietf.org>; Thu, 20 Mar 2008 22:54:23 -0700 (PDT)
Received: from [192.168.2.103] (cpe-76-185-142-113.tx.res.rr.com
	[76.185.142.113]) (authenticated bits=0)
	by nylon.softarmor.com (8.13.8/8.13.8/Debian-3) with ESMTP id
	m2L5ptZQ008183
	(version=TLSv1/SSLv3 cipher=AES128-SHA bits=128 verify=NOT);
	Fri, 21 Mar 2008 00:51:56 -0500
Message-Id: <3DE91030-E9FF-454E-A3C6-826A6EA67C71@softarmor.com>
From: Dean Willis <dean.willis@softarmor.com>
To: Cullen Jennings <fluffy@cisco.com>
In-Reply-To: <94C8D91F-AEC6-434C-8B05-278C24368D6B@cisco.com>
Mime-Version: 1.0 (Apple Message framework v919.2)
Date: Fri, 21 Mar 2008 00:51:49 -0500
References: <B58259AF-F85A-48C8-B163-E447A6A2E0D5@cisco.com>
	<5D1A7985295922448D5550C94DE2918001D603FE@DEEXC1U01.de.lucent.com>
	<5AA8419B-124C-46CA-ABF4-29CCA59C6395@cisco.com>
	<45C6C8F3-8E43-41FF-8188-195275F886E5@softarmor.com>
	<94C8D91F-AEC6-434C-8B05-278C24368D6B@cisco.com>
X-Mailer: Apple Mail (2.919.2)
Cc: SIP <sip@ietf.org>, "DRAGE, Keith \(Keith\)" <drage@alcatel-lucent.com>
Subject: Re: [Sip] Question about refernce in draft-ietf-sip-domain-certs-00
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


On Mar 20, 2008, at 12:12 PM, Cullen Jennings wrote:
>
> On Mar 20, 2008, at 1:52 AM, Dean Willis wrote:
>
>>
>> On Mar 19, 2008, at 6:56 PM, Cullen Jennings wrote:
>>>
>>> And certs has the text
>>>
>>>  I-D.sip-eku [9] describes the method to validate any Extended Key
>>>  Usage values found in the certificate for a SIP domain.
>>>  Implementations MUST perform the checks prescribed by that
>>>  specification.
>>>
>>> which seems to me like it could be changed to
>>>
>>>  I-D.sip-eku [9] describes the method to validate any Extended Key
>>>  Usage values found in the certificate for a SIP domain.
>>>
>>
>>
>> So the above text means to me "If you receive a certificate for a  
>> SIP domain that contains any Extended Key Usage values, you MUST  
>> validate them according to the procedures of I-D-sip-eku [9]."
>
> I'm assuming that be above text you mean my proposed change, not the  
> the current text in the draft. I would have interpreted my proposed  
> change to mean something closer to  "As a FYI to the reader,  there  
> is another specification you might be interested in. If you want to  
> do Extended Key Usages there is this other specification, sip-eku,  
> that can be implement but implementation of the domain-certs  
> specification does not require you to implement sip-eku". If you and  
> I are reading this differently ways perhaps you could propose some   
> text for this  sentence so that there is no chance of ambiguity.


Yes, I was referring to your proposed change.

There's a reason we have 2119 language -- for reducing ambiguity in  
the discussion of requirements.

I think what you're saying is:

If the certificate presented for a SIP domain contains Extended Key  
Usage values [need a ref here for , implementations MAY validate those  
values using the techniques described in I-D.sip-eku[9].

If so, it's definitely weaker than what the original text has -- and  
qualifies (just barely) as an informative reference, IMHO.

What I had proposed is that the EKU draft have a SHOULD level  
requirement for EKU in SIP certificates (and I'd take a MAY), and that  
domain-certs have a MUST level requirement for evaluating certs that  
contain EKU. If the domain went to all the trouble to include an EKU  
in their cert, they did so for a reason. It's their cert, and people  
referring to it should us it in the manner intended by the signer. The  
signer intended the EKU constraints be applied to that cert, or they  
wouldn't have bothered putting them there.

For example, if I use a cert that says "Use only for email" to sign an  
application, are you really stupid enough to run that code?

I know you're trying to prevent a publication deadlock by changing the  
requirements here. I don't understand why you think we'll have a  
deadlock, and that might be pertinent to the discussion.

But I'm fairly sure that the requirements I think you are suggesting  
are inconsistent with reasonable handling of EKU. Of course, I could  
be wrong about that too :-).

Let's look at what RFC 3280 has to say:

4.2.1.13  Extended Key Usage

    This extension indicates one or more purposes for which the  
certified
    public key may be used, in addition to or in place of the basic
    purposes indicated in the key usage extension.  In general, this
    extension will appear only in end entity certificates.  This
    extension is defined as follows:

    id-ce-extKeyUsage OBJECT IDENTIFIER ::= { id-ce 37 }

    ExtKeyUsageSyntax ::= SEQUENCE SIZE (1..MAX) OF KeyPurposeId

    KeyPurposeId ::= OBJECT IDENTIFIER

    Key purposes may be defined by any organization with a need.  Object
    identifiers used to identify key purposes MUST be assigned in
    accordance with IANA or ITU-T Recommendation X.660 [X.660].

    This extension MAY, at the option of the certificate issuer, be
    either critical or non-critical.

    If the extension is present, then the certificate MUST only be used
    for one of the purposes indicated.  If multiple purposes are
    indicated the application need not recognize all purposes indicated,
    as long as the intended purpose is present.  Certificate using
    applications MAY require that a particular purpose be indicated in
    order for the certificate to be acceptable to that application.

    If a CA includes extended key usages to satisfy such applications,
    but does not wish to restrict usages of the key, the CA can include
    the special keyPurposeID anyExtendedKeyUsage.  If the
    anyExtendedKeyUsage keyPurposeID is present, the extension SHOULD  
NOT
    be critical.

    If a certificate contains both a key usage extension and an extended
    key usage extension, then both extensions MUST be processed
    independently and the certificate MUST only be used for a purpose
    consistent with both extensions.  If there is no purpose consistent
    with both extensions, then the certificate MUST NOT be used for any
    purpose.

This seems pretty darned normative about what it means to process an  
EKU -- if present, EKU MUST be respected. Failure to do so has  
potential severe security consequences; potentially as severe as not  
paying attention to the domain name part of the certificate.
If I'm understanding the way you want to write the requirements,  
they're in direct conflict with RFC 3280. Now, it may well be that  
we've decided that this art of RFC 3280 is a Bad Idea andshould  
therefore be ignored. If that's so, then I'd like the drafts to say  
that clearly and distinctly, rather than trying to diminish-by- 
reference a MUST level requirement in another RFC.

--
Dean




_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu Mar 20 23:08:01 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id EC7CE28C10F;
	Thu, 20 Mar 2008 23:08:00 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.159
X-Spam-Level: 
X-Spam-Status: No, score=-100.159 tagged_above=-999 required=5
	tests=[AWL=0.278, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id OrwCOTrpyQc1; Thu, 20 Mar 2008 23:08:00 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 129D33A6971;
	Thu, 20 Mar 2008 23:08:00 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 398D93A6971
	for <sip@core3.amsl.com>; Thu, 20 Mar 2008 23:07:58 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id jhlOsRCbHb6q for <sip@core3.amsl.com>;
	Thu, 20 Mar 2008 23:07:57 -0700 (PDT)
Received: from nylon.softarmor.com (nylon.softarmor.com [66.135.38.164])
	by core3.amsl.com (Postfix) with ESMTP id 73BEF3A67D0
	for <sip@ietf.org>; Thu, 20 Mar 2008 23:07:57 -0700 (PDT)
Received: from [192.168.2.103] (cpe-76-185-142-113.tx.res.rr.com
	[76.185.142.113]) (authenticated bits=0)
	by nylon.softarmor.com (8.13.8/8.13.8/Debian-3) with ESMTP id
	m2L65ZIe008257
	(version=TLSv1/SSLv3 cipher=AES128-SHA bits=128 verify=NOT);
	Fri, 21 Mar 2008 01:05:36 -0500
Message-Id: <2D85B2EE-AFDD-4131-9FC8-AA04AEC112C2@softarmor.com>
From: Dean Willis <dean.willis@softarmor.com>
To: Cullen Jennings <fluffy@cisco.com>
In-Reply-To: <3DE91030-E9FF-454E-A3C6-826A6EA67C71@softarmor.com>
Mime-Version: 1.0 (Apple Message framework v919.2)
Date: Fri, 21 Mar 2008 01:05:29 -0500
References: <B58259AF-F85A-48C8-B163-E447A6A2E0D5@cisco.com>
	<5D1A7985295922448D5550C94DE2918001D603FE@DEEXC1U01.de.lucent.com>
	<5AA8419B-124C-46CA-ABF4-29CCA59C6395@cisco.com>
	<45C6C8F3-8E43-41FF-8188-195275F886E5@softarmor.com>
	<94C8D91F-AEC6-434C-8B05-278C24368D6B@cisco.com>
	<3DE91030-E9FF-454E-A3C6-826A6EA67C71@softarmor.com>
X-Mailer: Apple Mail (2.919.2)
Cc: SIP List <sip@ietf.org>, Keith Drage <drage@alcatel-lucent.com>
Subject: Re: [Sip] Question about refernce in draft-ietf-sip-domain-certs-00
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org



Let me restate this with fewer typos:

I think what Cullen is saying is:

If the certificate presented for a SIP domain contains Extended Key
Usage values [RFC 3280] , implementations MAY validate those
values using the techniques described in I-D.sip-eku[9].

and if that's what he's saying, I think this is in conflict with the  
text of RFC 3280, which makes validation a MUST.

--
Dean


_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Fri Mar 21 05:57:07 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 366963A6D92;
	Fri, 21 Mar 2008 05:57:07 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.767
X-Spam-Level: 
X-Spam-Status: No, score=-100.767 tagged_above=-999 required=5
	tests=[AWL=-0.330, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id GR2o+zXBDeVi; Fri, 21 Mar 2008 05:57:06 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 17F3F3A6ADA;
	Fri, 21 Mar 2008 05:57:06 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 3A3A83A6865
	for <sip@core3.amsl.com>; Fri, 21 Mar 2008 05:57:04 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 3H9HTPUy0Dlt for <sip@core3.amsl.com>;
	Fri, 21 Mar 2008 05:57:03 -0700 (PDT)
Received: from mailgw3.ericsson.se (mailgw3.ericsson.se [193.180.251.60])
	by core3.amsl.com (Postfix) with ESMTP id 110F53A6ADA
	for <sip@ietf.org>; Fri, 21 Mar 2008 05:57:03 -0700 (PDT)
Received: from mailgw3.ericsson.se (unknown [127.0.0.1])
	by mailgw3.ericsson.se (Symantec Mail Security) with ESMTP id
	D52B6208C7; Fri, 21 Mar 2008 13:54:43 +0100 (CET)
X-AuditID: c1b4fb3c-ae89cbb00000193b-b4-47e3b0130e19
Received: from esealmw126.eemea.ericsson.se (unknown [153.88.254.123])
	by mailgw3.ericsson.se (Symantec Mail Security) with ESMTP id
	B009420468; Fri, 21 Mar 2008 13:54:43 +0100 (CET)
Received: from esealmw109.eemea.ericsson.se ([153.88.200.2]) by
	esealmw126.eemea.ericsson.se with Microsoft SMTPSVC(6.0.3790.1830); 
	Fri, 21 Mar 2008 13:54:43 +0100
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Fri, 21 Mar 2008 13:54:45 +0100
Message-ID: <47B2061B1E5E494B96AA40008300D850243D7B@esealmw109.eemea.ericsson.se>
In-Reply-To: <200803210243.m2L2hX61021349@dragon.ariadne.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] Deficiencies of History-Info
thread-index: AciK/WmUD/Bnh0zbS9mTwXoYmb3iPAAU8//g
References: <200803192133.m2JLXQDm022953@dragon.ariadne.com><47B2061B1E5E494B96AA40008300D850243359@esealmw109.eemea.ericsson.se>
	<200803210243.m2L2hX61021349@dragon.ariadne.com>
From: "Hans Erik van Elburg" <hanserik.van.elburg@ericsson.com>
To: <Dale.Worley@comcast.net>,
	<sip@ietf.org>
X-OriginalArrivalTime: 21 Mar 2008 12:54:43.0030 (UTC)
	FILETIME=[BB8E3F60:01C88B52]
X-Brightmail-Tracker: AAAAAA==
Subject: Re: [Sip] Deficiencies of History-Info
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

I do not agree that it is cleaner. It is like attaching the reason for
an action to the action that preceded it. That sounds like asking for
problems sooner or later. The problem that you found is just a symptom
of that.

/Hans Erik

-----Original Message-----
From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On Behalf Of
Dale.Worley@comcast.net
Sent: Friday, March 21, 2008 3:44 AM
To: sip@ietf.org
Subject: Re: [Sip] Deficiencies of History-Info

   From: "Hans Erik van Elburg" <hanserik.van.elburg@ericsson.com>

   Isn't the more fundamental design problem that causes this that the
   Reason is captured on the hi-targeted-to-uri that has been retargeted
   instead of being associated with the new target signifying how it
came
   into being.

   Not sure if adding additional indexes makes things clearer.

The difficulty is that you want to associate the Reason (302), the URI
that generated that reason, and the URIs that came from the 302.  RFC
4244 consistently applies the Reason to the URI that generated that
response, which seems cleanest (IMHO), in that all Reasons are responses
to some URI.

   BTW: If  UA4 is from 302, then why does UA3 line on F8 contain reason
   480? I would expect it to have no attached reason.

I made a mistake transcribing and modifying the example.  In the INVITE
to UA4, the cause code for UA3 should be 486.  The reason that
UA3 has a reason is that an INVITE to UA4 was sent "serially", after the
INVITE to UA3 failed.  I didn't mention that.

      UA1      Proxy1                UA2      UA3      UA4
      |            |                  |        |        |
      |-INVITE F1->|                  |        |        |
      |            |                  |        |        |
      |            |--INVITE F2------>|        |        |
      |            |                  |        |        |
      |            |<-302 F4----------|        |        |
      |            |                  |        |        |
      |            |-------INVITE F5 --------->|        |
      |            |                  |        |        |
      |            |<-------486 F6 ------------|        |
      |            |                  |        |        |
      |            |------INVITE F8 ------------------->|
      |            |                  |        |        |
      |            |<-200 F10 --------------------------|
      |            |                  |        |        |
      |            |-- ACK F11------------------------->|
      |<--200 F12--|                  |        |        |
      |            |                  |        |        |
      |--ACK F13-->|                  |        |        |
      |            |                  |        |        |

   Assuming that each agent applies History-Info, the History-Info
headers
   will look like this:


	 F1 INVITE UA1 ->Proxy1

	 History-Info: <sip:UA2@example.com>; index=1


	 F2 INVITE  Proxy1 ->UA2

	 History-Info: <sip:UA2@example.com>; index=1,
	  <sip:UA2@ims.example.com>; index=1.1


	 F5 INVITE Proxy1 -> UA3

	 History-Info: <sip:UA2@example.com>; index=1,
	  <sip:UA2@ims.example.com?Reason=SIP;\
	  cause=302; text="Moved Temporarily">; index=1.1,
	  <sip:UA3@example.com>;index=1.2


	 F8 INVITE Proxy1 -> UA4

	 History-Info: <sip:UA2@example.com>; index=1,
	  <sip:UA2@ims.example.com?Reason=SIP;\
	  cause=302; text="Moved Temporarily">;index=1.1,
	  <sip:UA3@example.com?Reason=SIP;cause=480;\
------------------------------------------------^^^
Yes, that should be "486".
	  text="Temporarily Unavailable" >;index=1.2,
	  <sip:UA4@example.com>;index=1.3

Dale
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol Use
sip-implementors@cs.columbia.edu for questions on current sip Use
sipping@ietf.org for new developments on the application of sip
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Fri Mar 21 08:10:16 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 051F53A6B57;
	Fri, 21 Mar 2008 08:10:16 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.621
X-Spam-Level: 
X-Spam-Status: No, score=-100.621 tagged_above=-999 required=5
	tests=[AWL=-0.184, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id PsLTeaundQ5t; Fri, 21 Mar 2008 08:10:12 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 16D983A6CD2;
	Fri, 21 Mar 2008 08:10:12 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 7B7473A6BD9
	for <sip@core3.amsl.com>; Fri, 21 Mar 2008 08:10:10 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id v0nGL4623yrs for <sip@core3.amsl.com>;
	Fri, 21 Mar 2008 08:10:06 -0700 (PDT)
Received: from QMTA03.westchester.pa.mail.comcast.net
	(qmta03.westchester.pa.mail.comcast.net [76.96.62.32])
	by core3.amsl.com (Postfix) with ESMTP id 04FD33A6B57
	for <sip@ietf.org>; Fri, 21 Mar 2008 08:10:05 -0700 (PDT)
Received: from OMTA14.westchester.pa.mail.comcast.net ([76.96.62.60])
	by QMTA03.westchester.pa.mail.comcast.net with comcast
	id 3r1W1Z00c1HzFnQ5300b00; Fri, 21 Mar 2008 15:06:43 +0000
Received: from dragon.ariadne.com ([76.19.174.1])
	by OMTA14.westchester.pa.mail.comcast.net with comcast
	id 3r7n1Z00902AVH03a00000; Fri, 21 Mar 2008 15:07:47 +0000
X-Authority-Analysis: v=1.0 c=1 a=jzwdtS3I2oYA:10 a=BmX_ECnC4W95ykeL3UIA:9
	a=oEPFuhBxarL4Axj9OEeiPeItjzMA:4 a=JfD0Fch1gWkA:10 a=8y7tGHue6YMA:10
Received: from dragon.ariadne.com (dragon.ariadne.com [127.0.0.1])
	by dragon.ariadne.com (8.12.8/8.12.8) with ESMTP id m2LF7lm4011153
	for <sip@ietf.org>; Fri, 21 Mar 2008 10:07:47 -0500
Received: (from worley@localhost)
	by dragon.ariadne.com (8.12.8/8.12.8/Submit) id m2LF7lDJ011149;
	Fri, 21 Mar 2008 10:07:47 -0500
Date: Fri, 21 Mar 2008 10:07:47 -0500
Message-Id: <200803211507.m2LF7lDJ011149@dragon.ariadne.com>
To: sip@ietf.org
From: Dale.Worley@comcast.net
In-reply-to: <XFE-SJC-211wAz8AWiZ000013ee@xfe-sjc-211.amer.cisco.com>
	(jmpolk@cisco.com)
References: <200803200230.m2K2UcbI012455@dragon.ariadne.com>
	<XFE-SJC-211FSA4AleL00001363@xfe-sjc-211.amer.cisco.com>
	<200803210238.m2L2cZX0020955@dragon.ariadne.com>
	<XFE-SJC-211wAz8AWiZ000013ee@xfe-sjc-211.amer.cisco.com>
Subject: Re: [Sip] The emergency services routing use case
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
MIME-Version: 1.0
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

   From: "James M. Polk" <jmpolk@cisco.com>

   >    I believe the To: field is always supposed to be urn:service:sos,
   >    regardless of the choice in how to do this.  I don't know if this
   >    helps the point you're making...
   >
   >I don't think people expect the To field to control either the routing
   >or the prioritization, so I was being lazy about its value.

   fair - but this could be something to check against in most cases, right?

It would guard against error, but not fraud.  The problem is that
Jonathan's observation is correct:  To prevent fraud, prioritization
must be controlled by the same datum that controls routing.

Dale
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Fri Mar 21 08:18:04 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 6068428C231;
	Fri, 21 Mar 2008 08:18:04 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -103.517
X-Spam-Level: 
X-Spam-Status: No, score=-103.517 tagged_above=-999 required=5
	tests=[AWL=-3.081, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, HTML_MESSAGE=0.001, RDNS_NONE=0.1,
	USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id OyLXmTqtM423; Fri, 21 Mar 2008 08:18:03 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 58DAA3A699A;
	Fri, 21 Mar 2008 08:18:03 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 9CE833A699A;
	Fri, 21 Mar 2008 08:18:01 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 7yzVlcjhSxTr; Fri, 21 Mar 2008 08:18:00 -0700 (PDT)
Received: from mail87.messagelabs.com (mail87.messagelabs.com [216.82.250.19])
	by core3.amsl.com (Postfix) with ESMTP id B79113A6968;
	Fri, 21 Mar 2008 08:18:00 -0700 (PDT)
X-VirusChecked: Checked
X-Env-Sender: jgunn6@csc.com
X-Msg-Ref: server-13.tower-87.messagelabs.com!1206112515!43225182!12
X-StarScan-Version: 5.5.12.14.2; banners=-,-,-
X-Originating-IP: [20.137.2.87]
Received: (qmail 8777 invoked from network); 21 Mar 2008 15:15:39 -0000
Received: from amer-mta101.csc.com (HELO amer-mta101.csc.com) (20.137.2.87)
	by server-13.tower-87.messagelabs.com with AES256-SHA encrypted SMTP;
	21 Mar 2008 15:15:39 -0000
Received: from amer-gw09.amer.csc.com (amer-gw09.amer.csc.com [20.6.39.245])
	by amer-mta101.csc.com (Switch-3.3.0/Switch-3.3.0) with ESMTP id
	m2LFIjBB010387; Fri, 21 Mar 2008 11:19:09 -0400
In-Reply-To: <200803211507.m2LF7lDJ011149@dragon.ariadne.com>
To: Dale.Worley@comcast.net
MIME-Version: 1.0
X-Mailer: Lotus Notes 652HF83 November 04, 2004
From: Janet P Gunn <jgunn6@csc.com>
Message-ID: <OF4670ED79.7AE03020-ON85257413.00537075-85257413.0053D360@csc.com>
Date: Fri, 21 Mar 2008 11:15:34 -0400
X-MIMETrack: Serialize by Router on AMER-GW09/SRV/CSC(Release 7.0.2FP1
	HF180|March 29, 2007) at 03/21/2008 11:18:46 AM,
	Serialize complete at 03/21/2008 11:18:46 AM
Cc: sip@ietf.org, sip-bounces@ietf.org
Subject: Re: [Sip] The emergency services routing use case
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: multipart/mixed; boundary="===============0080800232=="
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

This is a multipart message in MIME format.
--===============0080800232==
Content-Type: multipart/alternative; boundary="=_alternative 0053D2E485257413_="

This is a multipart message in MIME format.
--=_alternative 0053D2E485257413_=
Content-Type: text/plain; charset="US-ASCII"

Maybe I am missing the context here, but I thought that there was also a 
valid us case for separating the routing from the prioritization-

Citizen dials 911, and call is routed to PSAP.  PSAP operator then makes a 
call to the local hospital, related to this incident.  This call is 
entitled to the same level of priority as the call to the PSAP, but is not 
routed to the PSAP.

Janet

sip-bounces@ietf.org wrote on 03/21/2008 11:07:47 AM:

>    From: "James M. Polk" <jmpolk@cisco.com>
> 
>    >    I believe the To: field is always supposed to be 
urn:service:sos,
>    >    regardless of the choice in how to do this.  I don't know if 
this
>    >    helps the point you're making...
>    >
>    >I don't think people expect the To field to control either the 
routing
>    >or the prioritization, so I was being lazy about its value.
> 
>    fair - but this could be something to check against in most cases, 
right?
> 
> It would guard against error, but not fraud.  The problem is that
> Jonathan's observation is correct:  To prevent fraud, prioritization
> must be controlled by the same datum that controls routing.
> 
> Dale
> _______________________________________________
> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip

--=_alternative 0053D2E485257413_=
Content-Type: text/html; charset="US-ASCII"


<br><font size=2 face="sans-serif">Maybe I am missing the context here,
but I thought that there was also a valid us case for separating the routing
from the prioritization-</font>
<br>
<br><font size=2 face="sans-serif">Citizen dials 911, and call is routed
to PSAP. &nbsp;PSAP operator then makes a call to the local hospital, related
to this incident. &nbsp;This call is entitled to the same level of priority
as the call to the PSAP, but is not routed to the PSAP.<br>
</font>
<br><font size=2 face="sans-serif">Janet</font>
<br>
<br><font size=2><tt>sip-bounces@ietf.org wrote on 03/21/2008 11:07:47
AM:<br>
<br>
&gt; &nbsp; &nbsp;From: &quot;James M. Polk&quot; &lt;jmpolk@cisco.com&gt;<br>
&gt; <br>
&gt; &nbsp; &nbsp;&gt; &nbsp; &nbsp;I believe the To: field is always supposed
to be urn:service:sos,<br>
&gt; &nbsp; &nbsp;&gt; &nbsp; &nbsp;regardless of the choice in how to
do this. &nbsp;I don't know if this<br>
&gt; &nbsp; &nbsp;&gt; &nbsp; &nbsp;helps the point you're making...<br>
&gt; &nbsp; &nbsp;&gt;<br>
&gt; &nbsp; &nbsp;&gt;I don't think people expect the To field to control
either the routing<br>
&gt; &nbsp; &nbsp;&gt;or the prioritization, so I was being lazy about
its value.<br>
&gt; <br>
&gt; &nbsp; &nbsp;fair - but this could be something to check against in
most cases, right?<br>
&gt; <br>
&gt; It would guard against error, but not fraud. &nbsp;The problem is
that<br>
&gt; Jonathan's observation is correct: &nbsp;To prevent fraud, prioritization<br>
&gt; must be controlled by the same datum that controls routing.<br>
&gt; <br>
&gt; Dale<br>
&gt; _______________________________________________<br>
&gt; Sip mailing list &nbsp;https://www.ietf.org/mailman/listinfo/sip<br>
&gt; This list is for NEW development of the core SIP Protocol<br>
&gt; Use sip-implementors@cs.columbia.edu for questions on current sip<br>
&gt; Use sipping@ietf.org for new developments on the application of sip<br>
</tt></font>
--=_alternative 0053D2E485257413_=--

--===============0080800232==
Content-Type: text/plain; charset="us-ascii"
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip
--===============0080800232==--


From sip-bounces@ietf.org  Fri Mar 21 09:09:06 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 0CA7628C3CA;
	Fri, 21 Mar 2008 09:09:06 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -101.247
X-Spam-Level: 
X-Spam-Status: No, score=-101.247 tagged_above=-999 required=5
	tests=[AWL=-0.810, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id GbcoB0s2TLU5; Fri, 21 Mar 2008 09:09:01 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 5F2FF28C2C4;
	Fri, 21 Mar 2008 09:09:01 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id C9EDA3A6774
	for <sip@core3.amsl.com>; Fri, 21 Mar 2008 09:08:56 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id IN0bQMHagmdE for <sip@core3.amsl.com>;
	Fri, 21 Mar 2008 09:08:51 -0700 (PDT)
Received: from sj-iport-6.cisco.com (sj-iport-6.cisco.com [171.71.176.117])
	by core3.amsl.com (Postfix) with ESMTP id C37123A6ABE
	for <sip@ietf.org>; Fri, 21 Mar 2008 09:08:36 -0700 (PDT)
Received: from sj-dkim-2.cisco.com ([171.71.179.186])
	by sj-iport-6.cisco.com with ESMTP; 21 Mar 2008 09:06:19 -0700
Received: from sj-core-2.cisco.com (sj-core-2.cisco.com [171.71.177.254])
	by sj-dkim-2.cisco.com (8.12.11/8.12.11) with ESMTP id m2LG6Jed027457; 
	Fri, 21 Mar 2008 09:06:19 -0700
Received: from [192.168.4.177] (sjc-fluffy-vpn1.cisco.com [10.25.236.82])
	by sj-core-2.cisco.com (8.13.8/8.13.8) with SMTP id m2LG6I0W024589;
	Fri, 21 Mar 2008 16:06:18 GMT
From: Cullen Jennings <fluffy@cisco.com>
To: Dean Willis <dean.willis@softarmor.com>
In-Reply-To: <3DE91030-E9FF-454E-A3C6-826A6EA67C71@softarmor.com>
Impp: xmpp:cullenfluffyjennings@jabber.org
References: <B58259AF-F85A-48C8-B163-E447A6A2E0D5@cisco.com>
	<5D1A7985295922448D5550C94DE2918001D603FE@DEEXC1U01.de.lucent.com>
	<5AA8419B-124C-46CA-ABF4-29CCA59C6395@cisco.com>
	<45C6C8F3-8E43-41FF-8188-195275F886E5@softarmor.com>
	<94C8D91F-AEC6-434C-8B05-278C24368D6B@cisco.com>
	<3DE91030-E9FF-454E-A3C6-826A6EA67C71@softarmor.com>
Message-Id: <67E98AA6-EBE0-4386-8A7B-B3B0DCDDDFD3@cisco.com>
Mime-Version: 1.0 (Apple Message framework v919.2)
Date: Fri, 21 Mar 2008 09:06:01 -0700
X-Mailer: Apple Mail (2.919.2)
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; l=6220; t=1206115579;
	x=1206979579; c=relaxed/simple; s=sjdkim2002;
	h=Content-Type:From:Subject:Content-Transfer-Encoding:MIME-Version;
	d=cisco.com; i=fluffy@cisco.com;
	z=From:=20Cullen=20Jennings=20<fluffy@cisco.com>
	|Subject:=20Re=3A=20[Sip]=20Question=20about=20refernce=20i
	n=20draft-ietf-sip-domain-certs-00 |Sender:=20;
	bh=lhZ2isI1BqUTxmP1JFF0YG42EkdjlFRct5htoivn/Dc=;
	b=ND3ZC4MTabTYLtWXUb+gb2IpwPHmcLNPagOusUkwSjKio2cFCWgrRF8gcL
	H12dQfUfNV7+GPKhwMwoGOCpfjfp2dwpKsd/PisizCTuIxaydZyySH68yCBe
	W7To5aYlFn;
Authentication-Results: sj-dkim-2; header.From=fluffy@cisco.com; dkim=pass (
	sig from cisco.com/sjdkim2002 verified; ); 
Cc: SIP <sip@ietf.org>, "DRAGE, Keith \(Keith\)" <drage@alcatel-lucent.com>
Subject: Re: [Sip] Question about refernce in draft-ietf-sip-domain-certs-00
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


On Mar 20, 2008, at 10:51 PM, Dean Willis wrote:

>
> On Mar 20, 2008, at 12:12 PM, Cullen Jennings wrote:
>>
>> On Mar 20, 2008, at 1:52 AM, Dean Willis wrote:
>>
>>>
>>> On Mar 19, 2008, at 6:56 PM, Cullen Jennings wrote:
>>>>
>>>> And certs has the text
>>>>
>>>> I-D.sip-eku [9] describes the method to validate any Extended Key
>>>> Usage values found in the certificate for a SIP domain.
>>>> Implementations MUST perform the checks prescribed by that
>>>> specification.
>>>>
>>>> which seems to me like it could be changed to
>>>>
>>>> I-D.sip-eku [9] describes the method to validate any Extended Key
>>>> Usage values found in the certificate for a SIP domain.
>>>>
>>>
>>>
>>> So the above text means to me "If you receive a certificate for a  
>>> SIP domain that contains any Extended Key Usage values, you MUST  
>>> validate them according to the procedures of I-D-sip-eku [9]."
>>
>> I'm assuming that be above text you mean my proposed change, not  
>> the the current text in the draft. I would have interpreted my  
>> proposed change to mean something closer to  "As a FYI to the  
>> reader,  there is another specification you might be interested in.  
>> If you want to do Extended Key Usages there is this other  
>> specification, sip-eku, that can be implement but implementation of  
>> the domain-certs specification does not require you to implement  
>> sip-eku". If you and I are reading this differently ways perhaps  
>> you could propose some  text for this  sentence so that there is no  
>> chance of ambiguity.
>
>
> Yes, I was referring to your proposed change.
>
> There's a reason we have 2119 language -- for reducing ambiguity in  
> the discussion of requirements.
>
> I think what you're saying is:
>
> If the certificate presented for a SIP domain contains Extended Key  
> Usage values [need a ref here for , implementations MAY validate  
> those values using the techniques described in I-D.sip-eku[9].
>
> If so, it's definitely weaker than what the original text has -- and  
> qualifies (just barely) as an informative reference, IMHO.
>
> What I had proposed is that the EKU draft have a SHOULD level  
> requirement for EKU in SIP certificates (and I'd take a MAY), and  
> that domain-certs have a MUST level requirement for evaluating certs  
> that contain EKU. If the domain went to all the trouble to include  
> an EKU in their cert, they did so for a reason. It's their cert, and  
> people referring to it should us it in the manner intended by the  
> signer. The signer intended the EKU constraints be applied to that  
> cert, or they wouldn't have bothered putting them there.
>
> For example, if I use a cert that says "Use only for email" to sign  
> an application, are you really stupid enough to run that code?
>
> I know you're trying to prevent a publication deadlock by changing  
> the requirements here. I don't understand why you think we'll have a  
> deadlock, and that might be pertinent to the discussion.
>
> But I'm fairly sure that the requirements I think you are suggesting  
> are inconsistent with reasonable handling of EKU. Of course, I could  
> be wrong about that too :-).
>
> Let's look at what RFC 3280 has to say:
>
> 4.2.1.13  Extended Key Usage
>
>   This extension indicates one or more purposes for which the  
> certified
>   public key may be used, in addition to or in place of the basic
>   purposes indicated in the key usage extension.  In general, this
>   extension will appear only in end entity certificates.  This
>   extension is defined as follows:
>
>   id-ce-extKeyUsage OBJECT IDENTIFIER ::= { id-ce 37 }
>
>   ExtKeyUsageSyntax ::= SEQUENCE SIZE (1..MAX) OF KeyPurposeId
>
>   KeyPurposeId ::= OBJECT IDENTIFIER
>
>   Key purposes may be defined by any organization with a need.  Object
>   identifiers used to identify key purposes MUST be assigned in
>   accordance with IANA or ITU-T Recommendation X.660 [X.660].
>
>   This extension MAY, at the option of the certificate issuer, be
>   either critical or non-critical.
>
>   If the extension is present, then the certificate MUST only be used
>   for one of the purposes indicated.  If multiple purposes are
>   indicated the application need not recognize all purposes indicated,
>   as long as the intended purpose is present.  Certificate using
>   applications MAY require that a particular purpose be indicated in
>   order for the certificate to be acceptable to that application.
>
>   If a CA includes extended key usages to satisfy such applications,
>   but does not wish to restrict usages of the key, the CA can include
>   the special keyPurposeID anyExtendedKeyUsage.  If the
>   anyExtendedKeyUsage keyPurposeID is present, the extension SHOULD  
> NOT
>   be critical.
>
>   If a certificate contains both a key usage extension and an extended
>   key usage extension, then both extensions MUST be processed
>   independently and the certificate MUST only be used for a purpose
>   consistent with both extensions.  If there is no purpose consistent
>   with both extensions, then the certificate MUST NOT be used for any
>   purpose.
>
> This seems pretty darned normative about what it means to process an  
> EKU -- if present, EKU MUST be respected. Failure to do so has  
> potential severe security consequences; potentially as severe as not  
> paying attention to the domain name part of the certificate.
> If I'm understanding the way you want to write the requirements,  
> they're in direct conflict with RFC 3280. Now, it may well be that  
> we've decided that this art of RFC 3280 is a Bad Idea andshould  
> therefore be ignored. If that's so, then I'd like the drafts to say  
> that clearly and distinctly, rather than trying to diminish-by- 
> reference a MUST level requirement in another RFC.
>
> --
> Dean
>

Dean - this conversation is beyond bizarre. In no way do I want to  
write requirements that are in conflict with 3280 or a system that  
implements it. I don't think anything I said should be construed that  
way. Obviously I-D.sip-eku[9] fully depends on 3280.


_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Fri Mar 21 09:09:13 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 5476B28C19B;
	Fri, 21 Mar 2008 09:09:13 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -101.199
X-Spam-Level: 
X-Spam-Status: No, score=-101.199 tagged_above=-999 required=5
	tests=[AWL=-0.762, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id fl-u-xvC3dmu; Fri, 21 Mar 2008 09:09:13 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id BCFDC28C3B5;
	Fri, 21 Mar 2008 09:09:04 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id C6DC928C311
	for <sip@core3.amsl.com>; Fri, 21 Mar 2008 09:09:02 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id YdIUkmwKRKND for <sip@core3.amsl.com>;
	Fri, 21 Mar 2008 09:08:51 -0700 (PDT)
Received: from sj-iport-4.cisco.com (sj-iport-4.cisco.com [171.68.10.86])
	by core3.amsl.com (Postfix) with ESMTP id E497228C234
	for <sip@ietf.org>; Fri, 21 Mar 2008 09:08:37 -0700 (PDT)
X-IronPort-AV: E=Sophos;i="4.25,536,1199692800"; 
   d="scan'208";a="9307962"
Received: from sj-dkim-4.cisco.com ([171.71.179.196])
	by sj-iport-4.cisco.com with ESMTP; 21 Mar 2008 09:06:20 -0700
Received: from sj-core-2.cisco.com (sj-core-2.cisco.com [171.71.177.254])
	by sj-dkim-4.cisco.com (8.12.11/8.12.11) with ESMTP id m2LG6K50028703; 
	Fri, 21 Mar 2008 09:06:20 -0700
Received: from [192.168.4.177] (sjc-fluffy-vpn1.cisco.com [10.25.236.82])
	by sj-core-2.cisco.com (8.13.8/8.13.8) with SMTP id m2LG6I0X024589;
	Fri, 21 Mar 2008 16:06:19 GMT
From: Cullen Jennings <fluffy@cisco.com>
To: Dean Willis <dean.willis@softarmor.com>
In-Reply-To: <2D85B2EE-AFDD-4131-9FC8-AA04AEC112C2@softarmor.com>
Impp: xmpp:cullenfluffyjennings@jabber.org
References: <B58259AF-F85A-48C8-B163-E447A6A2E0D5@cisco.com>
	<5D1A7985295922448D5550C94DE2918001D603FE@DEEXC1U01.de.lucent.com>
	<5AA8419B-124C-46CA-ABF4-29CCA59C6395@cisco.com>
	<45C6C8F3-8E43-41FF-8188-195275F886E5@softarmor.com>
	<94C8D91F-AEC6-434C-8B05-278C24368D6B@cisco.com>
	<3DE91030-E9FF-454E-A3C6-826A6EA67C71@softarmor.com>
	<2D85B2EE-AFDD-4131-9FC8-AA04AEC112C2@softarmor.com>
Message-Id: <70340596-1730-4792-8E24-C28DF30BEC92@cisco.com>
Mime-Version: 1.0 (Apple Message framework v919.2)
Date: Fri, 21 Mar 2008 09:06:06 -0700
X-Mailer: Apple Mail (2.919.2)
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; l=2011; t=1206115580;
	x=1206979580; c=relaxed/simple; s=sjdkim4002;
	h=Content-Type:From:Subject:Content-Transfer-Encoding:MIME-Version;
	d=cisco.com; i=fluffy@cisco.com;
	z=From:=20Cullen=20Jennings=20<fluffy@cisco.com>
	|Subject:=20Re=3A=20[Sip]=20Question=20about=20refernce=20i
	n=20draft-ietf-sip-domain-certs-00 |Sender:=20;
	bh=HaewVDVydALYNZPpnVUck22U8QfpWdXSQaqhVDPcReQ=;
	b=NNdhk9XjBuiEcI9oJfwlFqVZZJpiCPk3pj5v7XOeFc0LlQFzjqmyGTXxma
	8H/1lpJSJSesnk5UV/sGtk+fJDo7ojC3Fk+M+NR+bryRxyU7PZ3K5pFncZgg
	Kxh81DvG7E;
Authentication-Results: sj-dkim-4; header.From=fluffy@cisco.com; dkim=pass (
	sig from cisco.com/sjdkim4002 verified; ); 
Cc: SIP List <sip@ietf.org>, Keith Drage <drage@alcatel-lucent.com>
Subject: Re: [Sip] Question about refernce in draft-ietf-sip-domain-certs-00
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


On Mar 20, 2008, at 11:05 PM, Dean Willis wrote:

>
>
> Let me restate this with fewer typos:
>
> I think what Cullen is saying is:
>
> If the certificate presented for a SIP domain contains Extended Key
> Usage values [RFC 3280] , implementations MAY validate those
> values using the techniques described in I-D.sip-eku[9].
>
> and if that's what he's saying, I think this is in conflict with the  
> text of RFC 3280, which makes validation a MUST.
>
> --
> Dean
>
>

This is not at all what I was saying. I was saying that the EKU work  
is an orthogonal extensions to SIP with very little to do with the  
text in the domain-certs document and there is no need for this work  
to mandate support for sip-eku. I have not heard a technical argument  
why some part of the doamin-certs draft is not implementable without  
implementing sip-eku. I have heard people say, "sip-eku is a good  
idea" which is fine and assuming it becomes an RFC, devices that want  
to implement will implement that RFC.  There are also lots of other  
drafts that are good ideas and we wish people would do them, however,  
we don't add as a note to the end over every draft that says "You MUST  
also implement draft x, y, and z even though they have little to do  
with this one".

In my mind, the point of domain-certs is largely about to clarify how  
certain parts of 3261 related to certificates for TLS. People had  
implemented and were doing more or less all the major parts of domain- 
certs over 5 years ago - long before folks started even thinking about  
sip-eku. I think sip-eku is a fine document and should become an RFC.  
I also think there is a need for a document with roughly the advice in  
domain-certs. However, I see no reason that domain-certs, something  
people have been doing for several years, has to mandate  
implementation of sip-eku. These are very separable issues and should  
be kept that way.

Cullen <with my individual contributor hat on>


_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Fri Mar 21 09:29:34 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id ADEF53A6C27;
	Fri, 21 Mar 2008 09:29:34 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.199
X-Spam-Level: 
X-Spam-Status: No, score=-100.199 tagged_above=-999 required=5
	tests=[AWL=0.238, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 3cfubPoHcliw; Fri, 21 Mar 2008 09:29:25 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 3656C28C1B6;
	Fri, 21 Mar 2008 09:29:23 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 443B628C1B6
	for <sip@core3.amsl.com>; Fri, 21 Mar 2008 09:29:22 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id m6qU+Ot1Nkiw for <sip@core3.amsl.com>;
	Fri, 21 Mar 2008 09:29:19 -0700 (PDT)
Received: from nylon.softarmor.com (nylon.softarmor.com [66.135.38.164])
	by core3.amsl.com (Postfix) with ESMTP id 11F7D28C0F5
	for <sip@ietf.org>; Fri, 21 Mar 2008 09:28:25 -0700 (PDT)
Received: from [192.168.2.103] (cpe-76-185-142-113.tx.res.rr.com
	[76.185.142.113]) (authenticated bits=0)
	by nylon.softarmor.com (8.13.8/8.13.8/Debian-3) with ESMTP id
	m2LGQ2Sn012185
	(version=TLSv1/SSLv3 cipher=AES128-SHA bits=128 verify=NOT);
	Fri, 21 Mar 2008 11:26:03 -0500
Message-Id: <8EE64972-46A7-4485-9BC1-416A6C5AD0CF@softarmor.com>
From: Dean Willis <dean.willis@softarmor.com>
To: Cullen Jennings <fluffy@cisco.com>
In-Reply-To: <70340596-1730-4792-8E24-C28DF30BEC92@cisco.com>
Mime-Version: 1.0 (Apple Message framework v919.2)
Date: Fri, 21 Mar 2008 11:25:57 -0500
References: <B58259AF-F85A-48C8-B163-E447A6A2E0D5@cisco.com>
	<5D1A7985295922448D5550C94DE2918001D603FE@DEEXC1U01.de.lucent.com>
	<5AA8419B-124C-46CA-ABF4-29CCA59C6395@cisco.com>
	<45C6C8F3-8E43-41FF-8188-195275F886E5@softarmor.com>
	<94C8D91F-AEC6-434C-8B05-278C24368D6B@cisco.com>
	<3DE91030-E9FF-454E-A3C6-826A6EA67C71@softarmor.com>
	<2D85B2EE-AFDD-4131-9FC8-AA04AEC112C2@softarmor.com>
	<70340596-1730-4792-8E24-C28DF30BEC92@cisco.com>
X-Mailer: Apple Mail (2.919.2)
Cc: SIP List <sip@ietf.org>, Keith Drage <drage@alcatel-lucent.com>
Subject: Re: [Sip] Question about refernce in draft-ietf-sip-domain-certs-00
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


On Mar 21, 2008, at 11:06 AM, Cullen Jennings wrote:
>
> On Mar 20, 2008, at 11:05 PM, Dean Willis wrote:
>
>>
>>
>> Let me restate this with fewer typos:
>>
>> I think what Cullen is saying is:
>>
>> If the certificate presented for a SIP domain contains Extended Key
>> Usage values [RFC 3280] , implementations MAY validate those
>> values using the techniques described in I-D.sip-eku[9].
>>
>> and if that's what he's saying, I think this is in conflict with  
>> the text of RFC 3280, which makes validation a MUST.
>>
>> --
>> Dean
>>
>>
>
> This is not at all what I was saying. I was saying that the EKU work  
> is an orthogonal extensions to SIP with very little to do with the  
> text in the domain-certs document and there is no need for this work  
> to mandate support for sip-eku. I have not heard a technical  
> argument why some part of the doamin-certs draft is not  
> implementable without implementing sip-eku. I have heard people say,  
> "sip-eku is a good idea" which is fine and assuming it becomes an  
> RFC, devices that want to implement will implement that RFC.  There  
> are also lots of other drafts that are good ideas and we wish people  
> would do them, however, we don't add as a note to the end over every  
> draft that says "You MUST also implement draft x, y, and z even  
> though they have little to do with this one".
>
> In my mind, the point of domain-certs is largely about to clarify  
> how certain parts of 3261 related to certificates for TLS. People  
> had implemented and were doing more or less all the major parts of  
> domain-certs over 5 years ago - long before folks started even  
> thinking about sip-eku. I think sip-eku is a fine document and  
> should become an RFC. I also think there is a need for a document  
> with roughly the advice in domain-certs. However, I see no reason  
> that domain-certs, something people have been doing for several  
> years, has to mandate implementation of sip-eku. These are very  
> separable issues and should be kept that way.
>

Ok, is this what you mean?

Discussion of Extended Key Usage in certificates used with SIP is  
outside the scope of this document. See I-D.sip-eku[9] for further  
discussion of this topic.

--
Dean
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Fri Mar 21 09:35:01 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 1650528C266;
	Fri, 21 Mar 2008 09:35:01 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.981
X-Spam-Level: 
X-Spam-Status: No, score=-100.981 tagged_above=-999 required=5
	tests=[AWL=-0.544, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id rZSsd11OcNH6; Fri, 21 Mar 2008 09:35:00 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 3C7B628C1B3;
	Fri, 21 Mar 2008 09:35:00 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 9DC3028C1B3
	for <sip@core3.amsl.com>; Fri, 21 Mar 2008 09:34:58 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id mheJs-ar7JIC for <sip@core3.amsl.com>;
	Fri, 21 Mar 2008 09:34:57 -0700 (PDT)
Received: from sj-iport-3.cisco.com (sj-iport-3.cisco.com [171.71.176.72])
	by core3.amsl.com (Postfix) with ESMTP id CB10D3A68C2
	for <sip@ietf.org>; Fri, 21 Mar 2008 09:34:57 -0700 (PDT)
Received: from sj-dkim-4.cisco.com ([171.71.179.196])
	by sj-iport-3.cisco.com with ESMTP; 21 Mar 2008 09:32:40 -0700
Received: from sj-core-1.cisco.com (sj-core-1.cisco.com [171.71.177.237])
	by sj-dkim-4.cisco.com (8.12.11/8.12.11) with ESMTP id m2LGWecn006305; 
	Fri, 21 Mar 2008 09:32:40 -0700
Received: from [192.168.4.177] (sjc-fluffy-vpn1.cisco.com [10.25.236.82])
	by sj-core-1.cisco.com (8.13.8/8.13.8) with SMTP id m2LGWdl9014019;
	Fri, 21 Mar 2008 16:32:39 GMT
From: Cullen Jennings <fluffy@cisco.com>
To: "Dean Willis" <dean.willis@softarmor.com>
In-Reply-To: <8EE64972-46A7-4485-9BC1-416A6C5AD0CF@softarmor.com>
Impp: xmpp:cullenfluffyjennings@jabber.org
References: <B58259AF-F85A-48C8-B163-E447A6A2E0D5@cisco.com>
	<5D1A7985295922448D5550C94DE2918001D603FE@DEEXC1U01.de.lucent.com>
	<5AA8419B-124C-46CA-ABF4-29CCA59C6395@cisco.com>
	<45C6C8F3-8E43-41FF-8188-195275F886E5@softarmor.com>
	<94C8D91F-AEC6-434C-8B05-278C24368D6B@cisco.com>
	<3DE91030-E9FF-454E-A3C6-826A6EA67C71@softarmor.com>
	<2D85B2EE-AFDD-4131-9FC8-AA04AEC112C2@softarmor.com>
	<70340596-1730-4792-8E24-C28DF30BEC92@cisco.com>
	<8EE64972-46A7-4485-9BC1-416A6C5AD0CF@softarmor.com>
Message-Id: <4E8C3625-A722-4983-A25D-4D6DE22D1B81@cisco.com>
Mime-Version: 1.0 (Apple Message framework v919.2)
Date: Fri, 21 Mar 2008 09:32:22 -0700
X-Mailer: Apple Mail (2.919.2)
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; l=369; t=1206117160; x=1206981160;
	c=relaxed/simple; s=sjdkim4002;
	h=Content-Type:From:Subject:Content-Transfer-Encoding:MIME-Version;
	d=cisco.com; i=fluffy@cisco.com;
	z=From:=20Cullen=20Jennings=20<fluffy@cisco.com>
	|Subject:=20Re=3A=20[Sip]=20Question=20about=20refernce=20i
	n=20draft-ietf-sip-domain-certs-00 |Sender:=20;
	bh=bKCKvvnVYb//Xym4MTiJJx6yPls5dpzYuHxvwJsgkvs=;
	b=HP8K07B/H7Ud9b2gsl87TzmDzjYvdXBDl0yNBVjX+lfjQciCj5/8V9PRGx
	lIDErDDnLWcRDOEiv8Vw4rNbbZI4LH3cppIg0ZFe70A+RfqPXJtDBBtBprUy
	r7aLcfJwWq;
Authentication-Results: sj-dkim-4; header.From=fluffy@cisco.com; dkim=pass (
	sig from cisco.com/sjdkim4002 verified; ); 
Cc: SIP List <sip@ietf.org>, Keith Drage <drage@alcatel-lucent.com>
Subject: Re: [Sip] Question about refernce in draft-ietf-sip-domain-certs-00
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


On Mar 21, 2008, at 9:25 AM, Dean Willis wrote:

> Ok, is this what you mean?
>
> Discussion of Extended Key Usage in certificates used with SIP is
> outside the scope of this document. See I-D.sip-eku[9] for further
> discussion of this topic.

Yes, that seems to pretty much capture what I was trying to say.  
Thanks you for getting that nice and crisp.




_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Fri Mar 21 11:43:54 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 4607C28C3CC;
	Fri, 21 Mar 2008 11:43:54 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.616
X-Spam-Level: 
X-Spam-Status: No, score=-100.616 tagged_above=-999 required=5
	tests=[AWL=-0.179, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id k6yKIoxqDU60; Fri, 21 Mar 2008 11:43:49 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 97A0228C31C;
	Fri, 21 Mar 2008 11:43:22 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 082403A68BE
	for <sip@core3.amsl.com>; Fri, 21 Mar 2008 11:43:21 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id DSST3DFGswxC for <sip@core3.amsl.com>;
	Fri, 21 Mar 2008 11:43:20 -0700 (PDT)
Received: from ihemail3.lucent.com (ihemail3.lucent.com [135.245.0.37])
	by core3.amsl.com (Postfix) with ESMTP id E90583A67DA
	for <sip@ietf.org>; Fri, 21 Mar 2008 11:43:19 -0700 (PDT)
Received: from ihmail.ih.lucent.com (h135-1-218-70.lucent.com [135.1.218.70])
	by ihemail3.lucent.com (8.13.8/IER-o) with ESMTP id m2LIehDd011029; 
	Fri, 21 Mar 2008 13:40:44 -0500 (CDT)
Received: from [135.185.244.90] (il0015vkg1.ih.lucent.com [135.185.244.90])
	by ihmail.ih.lucent.com (8.11.7p1+Sun/8.12.11) with ESMTP id
	m2LIehA28002; Fri, 21 Mar 2008 13:40:43 -0500 (CDT)
Message-ID: <47E4012B.5000907@alcatel-lucent.com>
Date: Fri, 21 Mar 2008 13:40:43 -0500
From: "Vijay K. Gurbani" <vkg@alcatel-lucent.com>
Organization: Bell Labs Security Technology Research Group
User-Agent: Thunderbird 2.0.0.6 (Windows/20070728)
MIME-Version: 1.0
To: Cullen Jennings <fluffy@cisco.com>
References: <B58259AF-F85A-48C8-B163-E447A6A2E0D5@cisco.com>	<5D1A7985295922448D5550C94DE2918001D603FE@DEEXC1U01.de.lucent.com>	<5AA8419B-124C-46CA-ABF4-29CCA59C6395@cisco.com>	<45C6C8F3-8E43-41FF-8188-195275F886E5@softarmor.com>	<94C8D91F-AEC6-434C-8B05-278C24368D6B@cisco.com>	<3DE91030-E9FF-454E-A3C6-826A6EA67C71@softarmor.com>	<2D85B2EE-AFDD-4131-9FC8-AA04AEC112C2@softarmor.com>	<70340596-1730-4792-8E24-C28DF30BEC92@cisco.com>	<8EE64972-46A7-4485-9BC1-416A6C5AD0CF@softarmor.com>
	<4E8C3625-A722-4983-A25D-4D6DE22D1B81@cisco.com>
In-Reply-To: <4E8C3625-A722-4983-A25D-4D6DE22D1B81@cisco.com>
X-Scanned-By: MIMEDefang 2.57 on 135.245.2.37
Cc: SIP List <sip@ietf.org>
Subject: [Sip] Summary (Was Re: Question about refernce in
	draft-ietf-sip-domain-certs-00)
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Cullen Jennings wrote:
> On Mar 21, 2008, at 9:25 AM, Dean Willis wrote:
> 
>> Ok, is this what you mean?
>>
>> Discussion of Extended Key Usage in certificates used with SIP is
>> outside the scope of this document. See I-D.sip-eku[9] for further
>> discussion of this topic.
> 
> Yes, that seems to pretty much capture what I was trying to say.  
> Thanks you for getting that nice and crisp.

Cullen: So what I think I am gathering from the seminal conversation
between you and Dean are the following points:

  1) Keep domain-certs and sip-eku separate.
  2) In domain-certs, have a pointer text of the form Dean outlines
   above referencing sip-eku.
  3) domain-certs updates rfc3261 (i.e., not essential correction);
   proceeds as a PS.
  4) sip-eku stands on its own as a PS.
  5) Revise domain-certs and sip-eku based on WGLC and PHL IETF
   discussion (of course.)

Is this an accurate and representational summary of the discussion?

Thanks,

- vijay
-- 
Vijay K. Gurbani, Bell Laboratories, Alcatel-Lucent
2701 Lucent Lane, Rm. 9F-546, Lisle, Illinois 60532 (USA)
Email: vkg@{alcatel-lucent.com,bell-labs.com,acm.org}
WWW:   http://www.alcatel-lucent.com/bell-labs
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Fri Mar 21 12:07:21 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 68B8928C406;
	Fri, 21 Mar 2008 12:07:21 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -101.671
X-Spam-Level: 
X-Spam-Status: No, score=-101.671 tagged_above=-999 required=5
	tests=[AWL=-1.234, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id P5eiC79uBjCx; Fri, 21 Mar 2008 12:07:20 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 377FC3A698D;
	Fri, 21 Mar 2008 12:07:20 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 4BCE128C349
	for <sip@core3.amsl.com>; Fri, 21 Mar 2008 12:07:18 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 3DMN-ajD-GJ0 for <sip@core3.amsl.com>;
	Fri, 21 Mar 2008 12:07:05 -0700 (PDT)
Received: from sj-iport-2.cisco.com (sj-iport-2.cisco.com [171.71.176.71])
	by core3.amsl.com (Postfix) with ESMTP id 85FD228C335
	for <sip@ietf.org>; Fri, 21 Mar 2008 12:07:05 -0700 (PDT)
Received: from sj-dkim-3.cisco.com ([171.71.179.195])
	by sj-iport-2.cisco.com with ESMTP; 21 Mar 2008 12:04:47 -0700
Received: from sj-core-3.cisco.com (sj-core-3.cisco.com [171.68.223.137])
	by sj-dkim-3.cisco.com (8.12.11/8.12.11) with ESMTP id m2LJ4luc010578; 
	Fri, 21 Mar 2008 12:04:47 -0700
Received: from [192.168.4.177] (sjc-fluffy-vpn1.cisco.com [10.25.236.82])
	by sj-core-3.cisco.com (8.13.8/8.13.8) with SMTP id m2LJ4kDx016132;
	Fri, 21 Mar 2008 19:04:46 GMT
From: Cullen Jennings <fluffy@cisco.com>
To: "Vijay K. Gurbani" <vkg@alcatel-lucent.com>
In-Reply-To: <47E4012B.5000907@alcatel-lucent.com>
Impp: xmpp:cullenfluffyjennings@jabber.org
References: <B58259AF-F85A-48C8-B163-E447A6A2E0D5@cisco.com>	<5D1A7985295922448D5550C94DE2918001D603FE@DEEXC1U01.de.lucent.com>	<5AA8419B-124C-46CA-ABF4-29CCA59C6395@cisco.com>	<45C6C8F3-8E43-41FF-8188-195275F886E5@softarmor.com>	<94C8D91F-AEC6-434C-8B05-278C24368D6B@cisco.com>	<3DE91030-E9FF-454E-A3C6-826A6EA67C71@softarmor.com>	<2D85B2EE-AFDD-4131-9FC8-AA04AEC112C2@softarmor.com>	<70340596-1730-4792-8E24-C28DF30BEC92@cisco.com>	<8EE64972-46A7-4485-9BC1-416A6C5AD0CF@softarmor.com>
	<4E8C3625-A722-4983-A25D-4D6DE22D1B81@cisco.com>
	<47E4012B.5000907@alcatel-lucent.com>
Message-Id: <CF75DEBF-CC04-4E20-BD50-B3ED87272A91@cisco.com>
Mime-Version: 1.0 (Apple Message framework v919.2)
Date: Fri, 21 Mar 2008 12:04:28 -0700
X-Mailer: Apple Mail (2.919.2)
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; l=2394; t=1206126287;
	x=1206990287; c=relaxed/simple; s=sjdkim3002;
	h=Content-Type:From:Subject:Content-Transfer-Encoding:MIME-Version;
	d=cisco.com; i=fluffy@cisco.com;
	z=From:=20Cullen=20Jennings=20<fluffy@cisco.com>
	|Subject:=20Re=3A=20Summary=20(Was=20Re=3A=20[Sip]=20Questi
	on=20about=20refernce=20in=20draft-ietf-sip-domain-certs-00)
	|Sender:=20; bh=5MJS0zT4KzEnB3pX8SIMWvvBhgORORcEH0/11bO2CWY=;
	b=jijCPkykMkJ2u9mnxs5QzfPuxXxkzluHgKCV69+IiE6BgrrHeAPCSl+y+H
	c0wyE2krXDZGbOBNK5lavWnAsopm0bzpL6dvI6Y+lbJOkIguKUT1yTZIctLl
	mCaqvFYauc;
Authentication-Results: sj-dkim-3; header.From=fluffy@cisco.com; dkim=pass (
	sig from cisco.com/sjdkim3002 verified; ); 
Cc: SIP List <sip@ietf.org>
Subject: Re: [Sip] Summary (Was Re: Question about refernce in
	draft-ietf-sip-domain-certs-00)
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


Hmm, you might be reading slightly too much into this thread. I think  
the summary of the thread from my point of view is simply

As an individual contributor, I'm sending you comment which amounts to

1) I think it is good to keep domain-cert and sip-eku as separate drafts

2) I would suggest changing

OLD
    I-D.sip-eku [9] describes the method to validate any Extended Key
    Usage values found in the certificate for a SIP domain.
    Implementations MUST perform the checks prescribed by that
    specification.

NEW
   Discussion of Extended Key Usage in certificates used with SIP is
   outside the scope of this document. See I-D.sip-eku[9] for further
   discussion of this topic.

And move the I-D.sip-eku[9] reference to be informative.

There's a bit more in the thread on why I think this change is good  
that I won't repeat here. My implication that domain-certs might  
become an essential correction was clearly wrong and should just be  
ignored.

Thanks, Cullen <with my individual contributor hat on>




On Mar 21, 2008, at 11:40 AM, Vijay K. Gurbani wrote:

> Cullen Jennings wrote:
> > On Mar 21, 2008, at 9:25 AM, Dean Willis wrote:
> >
> >> Ok, is this what you mean?
> >>
> >> Discussion of Extended Key Usage in certificates used with SIP is
> >> outside the scope of this document. See I-D.sip-eku[9] for further
> >> discussion of this topic.
> >
> > Yes, that seems to pretty much capture what I was trying to say.
> > Thanks you for getting that nice and crisp.
>
> Cullen: So what I think I am gathering from the seminal conversation
> between you and Dean are the following points:
>
>   1) Keep domain-certs and sip-eku separate.
>   2) In domain-certs, have a pointer text of the form Dean outlines
>    above referencing sip-eku.
>   3) domain-certs updates rfc3261 (i.e., not essential correction);
>    proceeds as a PS.
>   4) sip-eku stands on its own as a PS.
>   5) Revise domain-certs and sip-eku based on WGLC and PHL IETF
>    discussion (of course.)
>
> Is this an accurate and representational summary of the discussion?
>
> Thanks,
>
> - vijay
> --
> Vijay K. Gurbani, Bell Laboratories, Alcatel-Lucent
> 2701 Lucent Lane, Rm. 9F-546, Lisle, Illinois 60532 (USA)
> Email: vkg@{alcatel-lucent.com,bell-labs.com,acm.org}
> WWW:   http://www.alcatel-lucent.com/bell-labs
>

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Fri Mar 21 12:45:37 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 3494728C351;
	Fri, 21 Mar 2008 12:45:37 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.632
X-Spam-Level: 
X-Spam-Status: No, score=-100.632 tagged_above=-999 required=5
	tests=[AWL=-0.195, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id S-8eKrcL1-QF; Fri, 21 Mar 2008 12:45:24 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 703D23A6D2F;
	Fri, 21 Mar 2008 12:44:59 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id D71083A6CD9
	for <sip@core3.amsl.com>; Fri, 21 Mar 2008 12:44:57 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id cPML7P2-79hc for <sip@core3.amsl.com>;
	Fri, 21 Mar 2008 12:44:57 -0700 (PDT)
Received: from ihemail2.lucent.com (ihemail2.lucent.com [135.245.0.35])
	by core3.amsl.com (Postfix) with ESMTP id AE22628C1FB
	for <sip@ietf.org>; Fri, 21 Mar 2008 12:43:31 -0700 (PDT)
Received: from ihmail.ih.lucent.com (h135-1-218-70.lucent.com [135.1.218.70])
	by ihemail2.lucent.com (8.13.8/IER-o) with ESMTP id m2LJevwo008344; 
	Fri, 21 Mar 2008 14:40:59 -0500 (CDT)
Received: from [135.185.244.90] (il0015vkg1.ih.lucent.com [135.185.244.90])
	by ihmail.ih.lucent.com (8.11.7p1+Sun/8.12.11) with ESMTP id
	m2LJevA20761; Fri, 21 Mar 2008 14:40:57 -0500 (CDT)
Message-ID: <47E40F49.60600@alcatel-lucent.com>
Date: Fri, 21 Mar 2008 14:40:57 -0500
From: "Vijay K. Gurbani" <vkg@alcatel-lucent.com>
Organization: Bell Labs Security Technology Research Group
User-Agent: Thunderbird 2.0.0.6 (Windows/20070728)
MIME-Version: 1.0
To: Cullen Jennings <fluffy@cisco.com>, IETF SIP List <sip@ietf.org>
References: <B58259AF-F85A-48C8-B163-E447A6A2E0D5@cisco.com>	<5D1A7985295922448D5550C94DE2918001D603FE@DEEXC1U01.de.lucent.com>	<5AA8419B-124C-46CA-ABF4-29CCA59C6395@cisco.com>	<45C6C8F3-8E43-41FF-8188-195275F886E5@softarmor.com>	<94C8D91F-AEC6-434C-8B05-278C24368D6B@cisco.com>	<3DE91030-E9FF-454E-A3C6-826A6EA67C71@softarmor.com>	<2D85B2EE-AFDD-4131-9FC8-AA04AEC112C2@softarmor.com>	<70340596-1730-4792-8E24-C28DF30BEC92@cisco.com>	<8EE64972-46A7-4485-9BC1-416A6C5AD0CF@softarmor.com>
	<4E8C3625-A722-4983-A25D-4D6DE22D1B81@cisco.com>
	<47E4012B.5000907@alcatel-lucent.com>
	<CF75DEBF-CC04-4E20-BD50-B3ED87272A91@cisco.com>
In-Reply-To: <CF75DEBF-CC04-4E20-BD50-B3ED87272A91@cisco.com>
X-Scanned-By: MIMEDefang 2.57 on 135.245.2.35
Subject: Re: [Sip] Summary (Was Re: Question about refernce in
	draft-ietf-sip-domain-certs-00)
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Cullen Jennings wrote:
> 
> Hmm, you might be reading slightly too much into this thread. 

Cullen: In the words of a British ITV sitcom character I used to
watch as a kid, "A thousand apologies, please!" (beer in Dublin for
the first correct guess)  More serious stuff inline...

> I think the summary of the thread from my point of view is simply
> 
> As an individual contributor, I'm sending you comment which amounts to
> 
> 1) I think it is good to keep domain-cert and sip-eku as separate drafts
> 2) I would suggest changing
[...]

OK; noted these two points.

> My implication that domain-certs might become an essential correction 
> was clearly wrong and should just be ignored.

OK; with the essential corrections bit out of the way, we have
made some progress from where we started off when we had our
initial phone conference on this back in Nov/Dec 2007.  The
guidance back then was split the drafts and have domain-certs
proceed as Informational.  The drafts were split soon after.

The drafts can proceed in the split format with the changes noted
above (speaking for myself here as 1/2 of the editor team -- I have
not conversed with Scott yet.)  However, we need to now converge on
which track to put domain-certs on: Info, BCP, or PS?  Both Scott
and I believe that it should be at least BCP, if not PS; and
others that reviewed the draft also assumed it was PS.

What would be the best way to close this one administrative issue
so we can submit the revised drafts accordingly: list discussion or
phone conference?  If the latter, I can send email out to the chairs,
you, Scott and me, and any interested list participants to
converge on a time and date.

Thanks,

- vijay
-- 
Vijay K. Gurbani, Bell Laboratories, Alcatel-Lucent
2701 Lucent Lane, Rm. 9F-546, Lisle, Illinois 60532 (USA)
Email: vkg@{alcatel-lucent.com,bell-labs.com,acm.org}
WWW:   http://www.alcatel-lucent.com/bell-labs
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From jritman@att.com  Fri Mar 21 13:01:01 2008
Return-Path: <jritman@att.com>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id D12D228C35E
	for <ietfarch-sip-archive@core3.amsl.com>; Fri, 21 Mar 2008 13:01:01 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -4.12
X-Spam-Level: 
X-Spam-Status: No, score=-4.12 tagged_above=-999 required=5
	tests=[BAYES_99=3.5, DOS_OE_TO_MX=2.75, FH_HELO_EQ_D_D_D_D=1.597,
	FH_HOST_EQ_D_D_D_D=0.765, FM_DDDD_TIMES_2=1.999, GB_ROLEX=5,
	HELO_DYNAMIC_IPADDR=2.426, HTML_MESSAGE=0.001,
	RAZOR2_CF_RANGE_51_100=0.5, RAZOR2_CF_RANGE_E4_51_100=1.5,
	RAZOR2_CF_RANGE_E8_51_100=1.5, RAZOR2_CHECK=0.5,
	RCVD_IN_BL_SPAMCOP_NET=1.96, RCVD_IN_PBL=0.905,
	RCVD_IN_SORBS_DUL=0.877, RDNS_DYNAMIC=0.1, URIBL_AB_SURBL=10,
	URIBL_BLACK=20, URIBL_JP_SURBL=10, URIBL_SBL=20, URIBL_SC_SURBL=10,
	USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id B+AlKDKUfjmj for <ietfarch-sip-archive@core3.amsl.com>;
	Fri, 21 Mar 2008 13:01:01 -0700 (PDT)
Received: from host81-157-91-243.range81-157.btcentralplus.com (host81-157-91-243.range81-157.btcentralplus.com [81.157.91.243])
	by core3.amsl.com (Postfix) with ESMTP id 0ACE63A6DB0
	for <sip-archive@ietf.org>; Fri, 21 Mar 2008 13:00:59 -0700 (PDT)
Message-ID: <000501c88b8d$01e31396$54a07385@pfcuul>
From: "huntlee emile" <jritman@att.com>
To: <sip-archive@ietf.org>
Subject: Cartier
Date: Fri, 21 Mar 2008 18:11:09 +0000
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0002_01C88B8D.01DD31BC"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2900.3138
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.3198

This is a multi-part message in MIME format.

------=_NextPart_000_0002_01C88B8D.01DD31BC
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

              Prestige
replicas
 
            Most popular       watches
      Rolex Datejusts=95Rolex Sports Models=95Cartier=95Hublot=95Panerai =
=95Chanel=95Jacob &amp;       Co=95Patek=95Philippe Alain =
Silberstein=95Chopard=95Jaeger=95LeCoutrePorsche=95Design      =20
 
            Most popular TIFFANY &amp; CO.       JEWERLY
      Tiffany &amp; CO       Bracelets=95Tiffany &amp; CO =
Necklace=95Tiffany &amp; CO Earings
 
            Most popular PENS
      Mont Blanc       Ballpoint=95Louis Vuitton Rollerball=95St Dupont =
Fountain=95Mont Blanc       Rollerball=95Gucci Roller=95St Dupont =
Ballpoint=95Louis Vuitton Ballpoint=95St       Dupont Roller
 
      Click here   =20
------=_NextPart_000_0002_01C88B8D.01DD31BC
Content-Type: text/html;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML><HEAD>
<META http-equiv=3DContent-Type content=3D"text/html; =
charset=3Diso-8859-1">
<META content=3D"MSHTML 6.00.2900.3199" name=3DGENERATOR>
<STYLE></STYLE>
</HEAD>
<BODY bgColor=3D#ffffff>
<TABLE cellSpacing=3D2 cellPadding=3D5 width=3D800 align=3Dcenter =
border=3D2 bordercolor=3D"#FFFF00">
  <TBODY>
  <TR>
    <TD>
      <P style=3D"FONT-FAMILY: arial black; LETTER-SPACING: 5px"=20
      align=3Dcenter><STRONG=20
      style=3D"FONT-SIZE: 36px; COLOR: =
#333333">Prestige</STRONG><BR><STRONG=20
      style=3D"FONT-SIZE: 30px; COLOR: =
#666666">replicas</STRONG></P></TD></TR>
  <TR>
    <TD bgColor=3D"#0033FF">
      <P style=3D"FONT-SIZE: 28px; COLOR: #ffffff"><STRONG>Most popular=20
      watches</STRONG></P>
      <P style=3D"FONT-WEIGHT: bold; COLOR: #ffff33; =
font-size:20px">Rolex Datejusts=95Rolex Sports =
Models=95Cartier=95Hublot=95Panerai =95Chanel=95Jacob &amp;=20
      Co=95Patek=95Philippe Alain =
Silberstein=95Chopard=95Jaeger=95LeCoutrePorsche=95Design=20
      </P></TD></TR>
  <TR>
    <TD bgColor=3D#0033FF>
      <P style=3D"FONT-SIZE: 28px; COLOR: #ffffff"><strong>Most popular =
TIFFANY &amp; CO.=20
      JEWERLY</strong></P>
      <P style=3D"FONT-WEIGHT: bold; COLOR: #ffff33; =
font-size:20px">Tiffany &amp; CO=20
      Bracelets=95Tiffany &amp; CO Necklace=95Tiffany &amp; CO =
Earings</P></TD></TR>
  <TR>
    <TD bgColor=3D#0033FF>
      <P style=3D"FONT-SIZE: 24px; COLOR: #ffffff"><strong>Most popular =
PENS</strong></P>
      <P style=3D"FONT-WEIGHT: bold; COLOR: #ffff33; =
font-size:20px">Mont Blanc=20
      Ballpoint=95Louis Vuitton Rollerball=95St Dupont Fountain=95Mont =
Blanc=20
      Rollerball=95Gucci Roller=95St Dupont Ballpoint=95Louis Vuitton =
Ballpoint=95St=20
      Dupont Roller</P></TD></TR>
  <TR>
    <TD align=3Dmiddle><A style=3D"FONT-SIZE: 20px"=20
      href=3D"http://www.pesttere.com/"><STRONG>Click here</STRONG>=20
  </A></TD></TR></TBODY></TABLE>
</BODY></HTML>
------=_NextPart_000_0002_01C88B8D.01DD31BC--




From sip-bounces@ietf.org  Fri Mar 21 14:22:18 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id B5BEF3A6DE6;
	Fri, 21 Mar 2008 14:22:18 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.225
X-Spam-Level: 
X-Spam-Status: No, score=-100.225 tagged_above=-999 required=5
	tests=[AWL=0.212, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id zKPcqHoanpeu; Fri, 21 Mar 2008 14:22:17 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id D51693A6CFB;
	Fri, 21 Mar 2008 14:22:17 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 66D9A3A68CB
	for <sip@core3.amsl.com>; Fri, 21 Mar 2008 14:22:16 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id GfOr7Es0J+P5 for <sip@core3.amsl.com>;
	Fri, 21 Mar 2008 14:22:15 -0700 (PDT)
Received: from nylon.softarmor.com (nylon.softarmor.com [66.135.38.164])
	by core3.amsl.com (Postfix) with ESMTP id 976CB3A67F1
	for <sip@ietf.org>; Fri, 21 Mar 2008 14:22:15 -0700 (PDT)
Received: from [192.168.2.103] (cpe-76-185-142-113.tx.res.rr.com
	[76.185.142.113]) (authenticated bits=0)
	by nylon.softarmor.com (8.13.8/8.13.8/Debian-3) with ESMTP id
	m2LLJkJe014073
	(version=TLSv1/SSLv3 cipher=AES128-SHA bits=128 verify=NOT);
	Fri, 21 Mar 2008 16:19:47 -0500
Message-Id: <221F2CEE-2E09-42D2-AFEE-5B5C1F02854A@softarmor.com>
From: Dean Willis <dean.willis@softarmor.com>
To: Cullen Jennings <fluffy@cisco.com>
In-Reply-To: <67E98AA6-EBE0-4386-8A7B-B3B0DCDDDFD3@cisco.com>
Mime-Version: 1.0 (Apple Message framework v919.2)
Date: Fri, 21 Mar 2008 16:19:41 -0500
References: <B58259AF-F85A-48C8-B163-E447A6A2E0D5@cisco.com>
	<5D1A7985295922448D5550C94DE2918001D603FE@DEEXC1U01.de.lucent.com>
	<5AA8419B-124C-46CA-ABF4-29CCA59C6395@cisco.com>
	<45C6C8F3-8E43-41FF-8188-195275F886E5@softarmor.com>
	<94C8D91F-AEC6-434C-8B05-278C24368D6B@cisco.com>
	<3DE91030-E9FF-454E-A3C6-826A6EA67C71@softarmor.com>
	<67E98AA6-EBE0-4386-8A7B-B3B0DCDDDFD3@cisco.com>
X-Mailer: Apple Mail (2.919.2)
Cc: SIP <sip@ietf.org>, "DRAGE, Keith \(Keith\)" <drage@alcatel-lucent.com>
Subject: Re: [Sip] Question about refernce in draft-ietf-sip-domain-certs-00
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


On Mar 21, 2008, at 11:06 AM, Cullen Jennings wrote:
>
> Dean - this conversation is beyond bizarre. In no way do I want to  
> write requirements that are in conflict with 3280 or a system that  
> implements it. I don't think anything I said should be construed  
> that way. Obviously I-D.sip-eku[9] fully depends on 3280.

Well that's good, because the wording of your previous proposal was  
misleading into thinking otherwise.

The question as I understand it: to what extent does draft-ietf-sip- 
domain-certs depend on sip-eku and transitively on 3280?

I really want this answered clearly in the domain certs draft.

I'd also like the answer to this question to be agreeable to the  
working group. So far, there seems to be some disagreement on the  
answer to this question between you and the authors of the domain- 
certs draft. There may or may not be any disagreement, as the  
appearance of disagreement may stem from a miscommunication.

The best way I know to do that is by paraphrasing and restating the  
proposal until we have something we agree is clear.

  Then you and Scott and Vijay can argue about whether or not you  
agree with it.

--
Dean
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Fri Mar 21 15:35:55 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id B7F9A3A6E18;
	Fri, 21 Mar 2008 15:35:55 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -101.033
X-Spam-Level: 
X-Spam-Status: No, score=-101.033 tagged_above=-999 required=5
	tests=[AWL=-0.596, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id wsBaDjZa2nRG; Fri, 21 Mar 2008 15:35:54 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id BBD4F3A6CD2;
	Fri, 21 Mar 2008 15:35:54 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id D7B3E3A6DE6
	for <sip@core3.amsl.com>; Fri, 21 Mar 2008 15:35:52 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id QdJGiD0iFqiv for <sip@core3.amsl.com>;
	Fri, 21 Mar 2008 15:35:52 -0700 (PDT)
Received: from sj-iport-3.cisco.com (sj-iport-3.cisco.com [171.71.176.72])
	by core3.amsl.com (Postfix) with ESMTP id 115893A6D17
	for <sip@ietf.org>; Fri, 21 Mar 2008 15:35:52 -0700 (PDT)
Received: from sj-dkim-4.cisco.com ([171.71.179.196])
	by sj-iport-3.cisco.com with ESMTP; 21 Mar 2008 15:33:34 -0700
Received: from sj-core-2.cisco.com (sj-core-2.cisco.com [171.71.177.254])
	by sj-dkim-4.cisco.com (8.12.11/8.12.11) with ESMTP id m2LMXYMZ025775; 
	Fri, 21 Mar 2008 15:33:34 -0700
Received: from [192.168.4.177] (sjc-fluffy-vpn1.cisco.com [10.25.236.82])
	by sj-core-2.cisco.com (8.13.8/8.13.8) with SMTP id m2LMXXYO021645;
	Fri, 21 Mar 2008 22:33:33 GMT
From: Cullen Jennings <fluffy@cisco.com>
To: Dean Willis <dean.willis@softarmor.com>
In-Reply-To: <221F2CEE-2E09-42D2-AFEE-5B5C1F02854A@softarmor.com>
Impp: xmpp:cullenfluffyjennings@jabber.org
References: <B58259AF-F85A-48C8-B163-E447A6A2E0D5@cisco.com>
	<5D1A7985295922448D5550C94DE2918001D603FE@DEEXC1U01.de.lucent.com>
	<5AA8419B-124C-46CA-ABF4-29CCA59C6395@cisco.com>
	<45C6C8F3-8E43-41FF-8188-195275F886E5@softarmor.com>
	<94C8D91F-AEC6-434C-8B05-278C24368D6B@cisco.com>
	<3DE91030-E9FF-454E-A3C6-826A6EA67C71@softarmor.com>
	<67E98AA6-EBE0-4386-8A7B-B3B0DCDDDFD3@cisco.com>
	<221F2CEE-2E09-42D2-AFEE-5B5C1F02854A@softarmor.com>
Message-Id: <A8BC0E0F-38CE-4D8D-BC7F-4AF45FE06C24@cisco.com>
Mime-Version: 1.0 (Apple Message framework v919.2)
Date: Fri, 21 Mar 2008 15:33:15 -0700
X-Mailer: Apple Mail (2.919.2)
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; l=1451; t=1206138814;
	x=1207002814; c=relaxed/simple; s=sjdkim4002;
	h=Content-Type:From:Subject:Content-Transfer-Encoding:MIME-Version;
	d=cisco.com; i=fluffy@cisco.com;
	z=From:=20Cullen=20Jennings=20<fluffy@cisco.com>
	|Subject:=20Re=3A=20[Sip]=20Question=20about=20refernce=20i
	n=20draft-ietf-sip-domain-certs-00 |Sender:=20;
	bh=yIuMZac6bcY3NmHQDoTbIJMjk+iY2Dl1jK/rsw+ywlU=;
	b=mYzc5uZ5wqQMjCSyZzYeL2ME4ZJqEdrFpvImphd36MrfvgW8OHSEkeoqYQ
	9o0lymU+1061K2HH6OZEtKdq16FwoBS+Gf4IAJRl7uIWxRwPTnkUXcmSNMEn
	rSihkc9PLf;
Authentication-Results: sj-dkim-4; header.From=fluffy@cisco.com; dkim=pass (
	sig from cisco.com/sjdkim4002 verified; ); 
Cc: SIP <sip@ietf.org>, "DRAGE, Keith \(Keith\)" <drage@alcatel-lucent.com>
Subject: Re: [Sip] Question about refernce in draft-ietf-sip-domain-certs-00
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


On Mar 21, 2008, at 2:19 PM, Dean Willis wrote:

>
> On Mar 21, 2008, at 11:06 AM, Cullen Jennings wrote:
>>
>> Dean - this conversation is beyond bizarre. In no way do I want to  
>> write requirements that are in conflict with 3280 or a system that  
>> implements it. I don't think anything I said should be construed  
>> that way. Obviously I-D.sip-eku[9] fully depends on 3280.
>
> Well that's good, because the wording of your previous proposal was  
> misleading into thinking otherwise.
>
> The question as I understand it: to what extent does draft-ietf-sip- 
> domain-certs depend on sip-eku and transitively on 3280?
>
> I really want this answered clearly in the domain certs draft.
>
> I'd also like the answer to this question to be agreeable to the  
> working group. So far, there seems to be some disagreement on the  
> answer to this question between you and the authors of the domain- 
> certs draft. There may or may not be any disagreement, as the  
> appearance of disagreement may stem from a miscommunication.
>
> The best way I know to do that is by paraphrasing and restating the  
> proposal until we have something we agree is clear.
>
> Then you and Scott and Vijay can argue about whether or not you  
> agree with it.
>
> --
> Dean

Yep, agree, I send a new proposal (with your wording  - thank you).  
And Vijay, Scott, and the rest of the WG can decide what they think of  
it.


_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Fri Mar 21 15:43:55 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 4EC6A3A6E17;
	Fri, 21 Mar 2008 15:43:55 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.371
X-Spam-Level: 
X-Spam-Status: No, score=-100.371 tagged_above=-999 required=5
	tests=[AWL=0.066, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id BOq8oPm2ODVN; Fri, 21 Mar 2008 15:43:54 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 1FFE43A6E15;
	Fri, 21 Mar 2008 15:43:54 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id DF7473A6B84
	for <sip@core3.amsl.com>; Fri, 21 Mar 2008 15:43:52 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 8-bndqjqixN4 for <sip@core3.amsl.com>;
	Fri, 21 Mar 2008 15:43:52 -0700 (PDT)
Received: from romeo.rtfm.com (unknown [74.95.2.173])
	by core3.amsl.com (Postfix) with ESMTP id 10A793A6C94
	for <sip@ietf.org>; Fri, 21 Mar 2008 15:43:20 -0700 (PDT)
Received: from romeo.rtfm.com (localhost.rtfm.com [127.0.0.1])
	by romeo.rtfm.com (Postfix) with ESMTP id 136445081A;
	Fri, 21 Mar 2008 15:42:46 -0700 (PDT)
Date: Fri, 21 Mar 2008 15:42:46 -0700
From: Eric Rescorla <ekr@networkresonance.com>
To: Dean Willis <dean.willis@softarmor.com>
In-Reply-To: <221F2CEE-2E09-42D2-AFEE-5B5C1F02854A@softarmor.com>
References: <B58259AF-F85A-48C8-B163-E447A6A2E0D5@cisco.com>
	<5D1A7985295922448D5550C94DE2918001D603FE@DEEXC1U01.de.lucent.com>
	<5AA8419B-124C-46CA-ABF4-29CCA59C6395@cisco.com>
	<45C6C8F3-8E43-41FF-8188-195275F886E5@softarmor.com>
	<94C8D91F-AEC6-434C-8B05-278C24368D6B@cisco.com>
	<3DE91030-E9FF-454E-A3C6-826A6EA67C71@softarmor.com>
	<67E98AA6-EBE0-4386-8A7B-B3B0DCDDDFD3@cisco.com>
	<221F2CEE-2E09-42D2-AFEE-5B5C1F02854A@softarmor.com>
User-Agent: Wanderlust/2.14.0 (Africa) Emacs/21.3 Mule/5.0 (SAKAKI)
MIME-Version: 1.0 (generated by SEMI 1.14.6 - "Maruoka")
Message-Id: <20080321224246.136445081A@romeo.rtfm.com>
Cc: Cullen Jennings <fluffy@cisco.com>, SIP <sip@ietf.org>, "DRAGE,
	Keith \(Keith\)" <drage@alcatel-lucent.com>
Subject: Re: [Sip] Question about refernce in draft-ietf-sip-domain-certs-00
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

At Fri, 21 Mar 2008 16:19:41 -0500,
Dean Willis wrote:
> 
> 
> On Mar 21, 2008, at 11:06 AM, Cullen Jennings wrote:
> >
> > Dean - this conversation is beyond bizarre. In no way do I want to  
> > write requirements that are in conflict with 3280 or a system that  
> > implements it. I don't think anything I said should be construed  
> > that way. Obviously I-D.sip-eku[9] fully depends on 3280.
> 
> Well that's good, because the wording of your previous proposal was  
> misleading into thinking otherwise.
> 
> The question as I understand it: to what extent does draft-ietf-sip- 
> domain-certs depend on sip-eku and transitively on 3280?
> 
> I really want this answered clearly in the domain certs draft.

I don't think these are the same question.

- draft-ietf-sip-domain-certs clearly has a normative dependency
  on RFC 3280, since otherwise how would one be able to discuss
  matters such as SubjectAltName or Common Name. RFC 3261 should
  have required PKIX validation and to the extent it doesn't,
  domain certs should.

- draft-ietf-sip-domain-certs should not have a normative dependency
  on the EKU draft.

Just so we're all clear on the semantics, there are two purposes
EKU serves in this context:

- Stopping certificates targeted for other purposes for being used
  with SIP.
- Stopping certificates targeted for SIP for being used with other
  services.

The former purpose can be served by tagging the cert with an EKU key
purpose other than SIP and marking the EKU extension critical. Any
compliant 3280 implementation of SIP will therefore refuse to accept
this.

The second purpose is served by the definition of a new EKU key
purpose for SIP. Now, as discussed above, any compliant non-SIP
implementation will reject this certificate. Unfortunately, only a SIP
stack which has been upgraded to support this particular purpose.
So, in order for the SIP EKU kp to be useful, it needs to eventually
be mandatory for SIP implementations. However, this seems like
a separable question from domain certs, which I read to be primarily
about clarifying/fixing existing functionality, rather than creating
new functionality, which the new EKU kp does.

-Ekr



_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Fri Mar 21 19:00:06 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 1ADAD28C1E3;
	Fri, 21 Mar 2008 19:00:06 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -102.599
X-Spam-Level: 
X-Spam-Status: No, score=-102.599 tagged_above=-999 required=5
	tests=[AWL=-0.000, BAYES_00=-2.599, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 9oyd5CnZfpgc; Fri, 21 Mar 2008 19:00:05 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 047C028C1E4;
	Fri, 21 Mar 2008 19:00:04 -0700 (PDT)
X-Original-To: sip@ietf.org
Delivered-To: sip@core3.amsl.com
Received: by core3.amsl.com (Postfix, from userid 0)
	id B8AC83A6914; Fri, 21 Mar 2008 19:00:01 -0700 (PDT)
Content-Type: Multipart/Mixed; Boundary="NextPart"
Mime-Version: 1.0
To: i-d-announce@ietf.org
From: Internet-Drafts@ietf.org
Message-Id: <20080322020001.B8AC83A6914@core3.amsl.com>
Date: Fri, 21 Mar 2008 19:00:01 -0700 (PDT)
Cc: sip@ietf.org
Subject: [Sip] I-D Action:draft-ietf-sip-outbound-13.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


--NextPart

A New Internet-Draft is available from the on-line Internet-Drafts directories.
This draft is a work item of the Session Initiation Protocol Working Group of the IETF.


	Title           : Managing Client Initiated Connections in the Session Initiation Protocol (SIP)
	Author(s)       : C. Jennings, R. Mahy
	Filename        : draft-ietf-sip-outbound-13.txt
	Pages           : 52
	Date            : 2008-03-21

The Session Initiation Protocol (SIP) allows proxy servers to
initiate TCP connections and send asynchronous UDP datagrams to User
Agents in order to deliver requests.  However, many practical
considerations, such as the existence of firewalls and Network
Address Translators (NATs), prevent servers from connecting to User
Agents in this way.  This specification defines behaviors for User
Agents, registrars and proxy servers that allow requests to be
delivered on existing connections established by the User Agent.  It
also defines keep alive behaviors needed to keep NAT bindings open
and specifies the usage of multiple connections from the User Agent
to its Registrar.

A URL for this Internet-Draft is:
http://www.ietf.org/internet-drafts/draft-ietf-sip-outbound-13.txt

Internet-Drafts are also available by anonymous FTP at:
ftp://ftp.ietf.org/internet-drafts/

Below is the data which will enable a MIME compliant mail reader
implementation to automatically retrieve the ASCII version of the
Internet-Draft.

--NextPart
Content-Type: Message/External-body;
	name="draft-ietf-sip-outbound-13.txt";
	site="ftp.ietf.org";
	access-type="anon-ftp";
	directory="internet-drafts"

Content-Type: text/plain
Content-ID: <2008-03-21185134.I-D@ietf.org>


--NextPart
Content-Type: text/plain; charset="us-ascii"
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip
--NextPart--


From sip-bounces@ietf.org  Fri Mar 21 20:12:22 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 1603C3A67AC;
	Fri, 21 Mar 2008 20:12:22 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.63
X-Spam-Level: 
X-Spam-Status: No, score=-100.63 tagged_above=-999 required=5
	tests=[AWL=-0.193, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id k+qXN4XDcuNL; Fri, 21 Mar 2008 20:12:21 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 276093A683D;
	Fri, 21 Mar 2008 20:12:21 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 7608F3A683D
	for <sip@core3.amsl.com>; Fri, 21 Mar 2008 20:12:20 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id qnznjFKdMsDn for <sip@core3.amsl.com>;
	Fri, 21 Mar 2008 20:12:19 -0700 (PDT)
Received: from QMTA04.emeryville.ca.mail.comcast.net
	(qmta04.emeryville.ca.mail.comcast.net [76.96.30.40])
	by core3.amsl.com (Postfix) with ESMTP id C15FE3A67AC
	for <sip@ietf.org>; Fri, 21 Mar 2008 20:12:19 -0700 (PDT)
Received: from OMTA09.emeryville.ca.mail.comcast.net ([76.96.30.20])
	by QMTA04.emeryville.ca.mail.comcast.net with comcast
	id 41ee1Z06w0S2fkCA409E00; Sat, 22 Mar 2008 03:08:59 +0000
Received: from dragon.ariadne.com ([76.19.174.1])
	by OMTA09.emeryville.ca.mail.comcast.net with comcast
	id 439z1Z00G02AVH08V00000; Sat, 22 Mar 2008 03:10:01 +0000
X-Authority-Analysis: v=1.0 c=1 a=jzwdtS3I2oYA:10 a=zObe4ZKBAsjZkxZh4I0A:9
	a=dP35wcXq4ndaCKK14QKkM7AvUawA:4 a=cMdEYbctpPkA:10 a=8y7tGHue6YMA:10
Received: from dragon.ariadne.com (dragon.ariadne.com [127.0.0.1])
	by dragon.ariadne.com (8.12.8/8.12.8) with ESMTP id m2M39xm4031385
	for <sip@ietf.org>; Fri, 21 Mar 2008 22:09:59 -0500
Received: (from worley@localhost)
	by dragon.ariadne.com (8.12.8/8.12.8/Submit) id m2M39xPH031381;
	Fri, 21 Mar 2008 22:09:59 -0500
Date: Fri, 21 Mar 2008 22:09:59 -0500
Message-Id: <200803220309.m2M39xPH031381@dragon.ariadne.com>
To: sip@ietf.org
From: Dale.Worley@comcast.net
In-reply-to: <OF4670ED79.7AE03020-ON85257413.00537075-85257413.0053D360@csc.com>
	(jgunn6@csc.com)
References: <OF4670ED79.7AE03020-ON85257413.00537075-85257413.0053D360@csc.com>
Subject: Re: [Sip] The emergency services routing use case
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
MIME-Version: 1.0
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

   From: Janet P Gunn <jgunn6@csc.com>

   Maybe I am missing the context here, but I thought that there was also a 
   valid us case for separating the routing from the prioritization-

   Citizen dials 911, and call is routed to PSAP.  PSAP operator then makes a 
   call to the local hospital, related to this incident.  This call is 
   entitled to the same level of priority as the call to the PSAP, but is not 
   routed to the PSAP.

I believe that there is a case for this, but that the only solution
involves some sort of signing or certification.  In any case I want to
point out that the use case in section 2.6 of
draft-rosenberg-sip-ua-loose-route-02 is not solved by that I-D (or
any other proposal).

Dale
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Fri Mar 21 20:30:07 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 8DA6428C167;
	Fri, 21 Mar 2008 20:30:07 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.626
X-Spam-Level: 
X-Spam-Status: No, score=-100.626 tagged_above=-999 required=5
	tests=[AWL=-0.189, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id jEUhWXQg4JJ8; Fri, 21 Mar 2008 20:30:06 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 704883A67B2;
	Fri, 21 Mar 2008 20:30:06 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 3DC5C3A67B2
	for <sip@core3.amsl.com>; Fri, 21 Mar 2008 20:30:05 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 78BIQj9prZh6 for <sip@core3.amsl.com>;
	Fri, 21 Mar 2008 20:30:04 -0700 (PDT)
Received: from QMTA05.emeryville.ca.mail.comcast.net
	(qmta05.emeryville.ca.mail.comcast.net [76.96.30.48])
	by core3.amsl.com (Postfix) with ESMTP id 44C303A67AC
	for <sip@ietf.org>; Fri, 21 Mar 2008 20:30:04 -0700 (PDT)
Received: from OMTA06.emeryville.ca.mail.comcast.net ([76.96.30.51])
	by QMTA05.emeryville.ca.mail.comcast.net with comcast
	id 42Zh1Z00C16AWCUA504L00; Sat, 22 Mar 2008 03:26:15 +0000
Received: from dragon.ariadne.com ([76.19.174.1])
	by OMTA06.emeryville.ca.mail.comcast.net with comcast
	id 43Tj1Z00B02AVH08S00000; Sat, 22 Mar 2008 03:27:45 +0000
X-Authority-Analysis: v=1.0 c=1 a=ZlD2xqo4MiAAV8PQLvAA:9
	a=ZbbbdcIuAIS8n2RIwoYA:7 a=9ta3Z92IxMWfr_HXpT2bQaGftzgA:4
	a=6bqG61NMjcsA:10
Received: from dragon.ariadne.com (dragon.ariadne.com [127.0.0.1])
	by dragon.ariadne.com (8.12.8/8.12.8) with ESMTP id m2M3Rhm4032681
	for <sip@ietf.org>; Fri, 21 Mar 2008 22:27:43 -0500
Received: (from worley@localhost)
	by dragon.ariadne.com (8.12.8/8.12.8/Submit) id m2M3RhSX032677;
	Fri, 21 Mar 2008 22:27:43 -0500
Date: Fri, 21 Mar 2008 22:27:43 -0500
Message-Id: <200803220327.m2M3RhSX032677@dragon.ariadne.com>
To: sip@ietf.org
From: Dale.Worley@comcast.net
Subject: [Sip] Further observations about History-Info
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
MIME-Version: 1.0
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Considering again how History-Info handles 3xx responses, let me
construct this example of multi-stage translation:

Let us assume that sip:list@a.example.com routes to proxy 1.  Proxy 1
knows that (one) target of this URI is Alice's AOR,
sip:10@b.example.com, which then routes to proxy 2.  Proxy 2 knows the
phone address for sip:10@b.example.com, which is sip:10@10.1.1.1.

As the request reaches the UA at 10.1.1.1, the History-Info looks like
this:

    History-Info: <sip:list@a.example.com>;index=1,
	    <sip:10@b.example.com>;index=1.1,
	    <sip:10@10.1.1.1>;index=1.1.1

This clearly gives the logical derivation of the destination address
from the original request-URI (which is presumably also the To:
value):

	sip:list@a.example.com ->
		sip:10@b.example.com ->
			sip:10@10.1.1.1

Now let us modify the scenario by changing proxy 2 not to route the
request itself, but rather to send a 302 response back to proxy 1.
Within SIP, any agent that potentially routes a request can choose to
send a 3xx response instead; in theory, all forking can be forced back
onto the originating UA if downstream agents always send 3xx responses
rather than routing.

With the 302 response, the History-Info looks like this (taking
liberties with the escaping):

    History-Info: <sip:list@a.example.com>;index=1,
	    <sip:10@b.example.com?Reason=SIP;cause=302>;index=1.1,
	    <sip:10@10.1.1.1>;index=1.2

And this is the forking structure of the request.  But it looses the
logical structure of the translation; the UA at 10.1.1.1 does not see
that it received the request "through" its AOR, sip:10@b.example.com.
The apparent derivation of the destination address is:

	sip:list@a.example.com ->
		sip:10@10.1.1.1

(Although in practice the UA could guess from the "cause=302" on its
".1 sibling" that its fork was derived from the index=1.1 fork.)

And in the extreme case of a complex forking and retargeting
structure, if all other agents used 3xx responses to implement it, the
UAS would receive a History-Info whose indexes were all single
integers, obscuring completely how its address was derived.

As I proposed earlier, I think getting around this problem will
require adding an additional field-parameter to show how the address
derivations are performed.  In this example:

    History-Info: <sip:list@a.example.com>;index=1,
	    <sip:10@b.example.com?Reason=SIP;cause=302>;index=1.1,
	    <sip:10@10.1.1.1>;index=1.2;redir=1.1

For diagnostic purposes, it would also be convenient if any other
field-parameters on the Contacts of a 3xx response were copied into
the derived History-Info elements.  Only the "q" parameter seems to be
useful information.  A typical "serial fork" would then look like this
when the request reached the second contact:

    History-Info: <sip:list@a.example.com>;index=1,
	    <sip:10@b.example.com?Reason=SIP;cause=302>;index=1.1,
	    <sip:10@10.1.1.1?Reason=SIP;cause=486>;q=1.0;index=1.2;redir=1.1
	    <sip:10@10.2.2.2>;q=0.9;index=1.3;redir=1.1

As an elaboration, if we suppose UA sip:10@10.2.2.2 redirected the
request to sip:alice@c.example.com, we could get:

    History-Info: <sip:list@a.example.com>;index=1,
	    <sip:10@b.example.com?Reason=SIP;cause=302>;index=1.1,
	    <sip:10@10.1.1.1?Reason=SIP;cause=486>;q=1.0;index=1.2;redir=1.1
	    <sip:10@10.2.2.2?Reason=SIP;cause=302>;q=0.9;index=1.3;redir=1.1
	    <sip:alice@c.example.com>;index=1.4;redir=1.3

This illustrates that the forking structure is flat (arranging the
entries by their indexes):

	sip:list@a.example.com
		sip:10@b.example.com
		sip:10@10.1.1.1
		sip:10@10.2.2.2
		sip:alice@c.example.com

whereas the address derivation is more complex (placing each entry
under the entry referenced by its 'redir' parameter):

	sip:list@a.example.com
		sip:10@b.example.com
			sip:10@10.1.1.1
			sip:10@10.2.2.2
				sip:alice@c.example.com

The latter is more useful for attacking the "UA loose route" problem.

We still need to investigate what History-Info looks like if some of
the participating proxies do not support it.

Dale
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Fri Mar 21 22:02:43 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 5F0BA3A6943;
	Fri, 21 Mar 2008 22:02:43 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.291
X-Spam-Level: 
X-Spam-Status: No, score=-100.291 tagged_above=-999 required=5
	tests=[AWL=0.146, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 4BfDeg0-oBoK; Fri, 21 Mar 2008 22:02:42 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 0FFCB3A6A4F;
	Fri, 21 Mar 2008 22:02:42 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id ECA0F3A6A52
	for <sip@core3.amsl.com>; Fri, 21 Mar 2008 22:02:39 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id cOnTI3eSkUP4 for <sip@core3.amsl.com>;
	Fri, 21 Mar 2008 22:02:39 -0700 (PDT)
Received: from nylon.softarmor.com (nylon.softarmor.com [66.135.38.164])
	by core3.amsl.com (Postfix) with ESMTP id 14B923A6943
	for <sip@ietf.org>; Fri, 21 Mar 2008 22:02:39 -0700 (PDT)
Received: from [192.168.2.103] (cpe-76-185-142-113.tx.res.rr.com
	[76.185.142.113]) (authenticated bits=0)
	by nylon.softarmor.com (8.13.8/8.13.8/Debian-3) with ESMTP id
	m2M4xoeJ017049
	(version=TLSv1/SSLv3 cipher=AES128-SHA bits=128 verify=NOT);
	Fri, 21 Mar 2008 23:59:51 -0500
Message-Id: <A612F4D5-0C5D-4EF1-B7DB-0F57897AC0A9@softarmor.com>
From: Dean Willis <dean.willis@softarmor.com>
To: SIP List <sip@ietf.org>
Mime-Version: 1.0 (Apple Message framework v919.2)
Date: Fri, 21 Mar 2008 23:59:43 -0500
X-Mailer: Apple Mail (2.919.2)
Cc: Cullen Jennings <fluffy@cisco.com>, Keith Drage <drage@alcatel-lucent.com>,
	Dan Wing <dwing@cisco.com>
Subject: [Sip] WGLC for draft-ietf-sip-media-security-requirements-04
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


I'm pleased to announce a Working Group Last Call on the Media  
Security Requirements document.

Please give this a final read through and send any comments to the  
author and the working group mailing list.

I'd like to wrap this by April 7. We should be ready to move on to the  
DTLS framework document immediately afterwards. I hope.

For your reading pleasure, here's a link to the most recent version of  
the requirements doc:

http://www.ietf.org/internet-drafts/draft-ietf-sip-media-security-requirements-04.txt


--
Dean Willis
Officiously Acting as Co-Chair
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Sat Mar 22 09:11:10 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id BB0BB28C2E3;
	Sat, 22 Mar 2008 09:11:10 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.965
X-Spam-Level: 
X-Spam-Status: No, score=-100.965 tagged_above=-999 required=5
	tests=[AWL=-0.528, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id k3YFA0IVJxmL; Sat, 22 Mar 2008 09:11:09 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id AB56728C2E4;
	Sat, 22 Mar 2008 09:11:08 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id A47C328C2C1
	for <sip@core3.amsl.com>; Sat, 22 Mar 2008 09:11:07 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id b9anD4KJx0LV for <sip@core3.amsl.com>;
	Sat, 22 Mar 2008 09:11:06 -0700 (PDT)
Received: from sj-iport-1.cisco.com (sj-iport-1.cisco.com [171.71.176.70])
	by core3.amsl.com (Postfix) with ESMTP id B32D528C288
	for <sip@ietf.org>; Sat, 22 Mar 2008 09:11:06 -0700 (PDT)
Received: from sj-dkim-2.cisco.com ([171.71.179.186])
	by sj-iport-1.cisco.com with ESMTP; 22 Mar 2008 09:08:48 -0700
Received: from sj-core-1.cisco.com (sj-core-1.cisco.com [171.71.177.237])
	by sj-dkim-2.cisco.com (8.12.11/8.12.11) with ESMTP id m2MG8m22006312; 
	Sat, 22 Mar 2008 09:08:48 -0700
Received: from [192.168.4.177] (sjc-fluffy-vpn1.cisco.com [10.25.236.82])
	by sj-core-1.cisco.com (8.13.8/8.13.8) with SMTP id m2MG8lM5019120;
	Sat, 22 Mar 2008 16:08:47 GMT
From: Cullen Jennings <fluffy@cisco.com>
To: "ext Vijay K. Gurbani" <vkg@alcatel-lucent.com>
In-Reply-To: <47E40F49.60600@alcatel-lucent.com>
Impp: xmpp:cullenfluffyjennings@jabber.org
References: <B58259AF-F85A-48C8-B163-E447A6A2E0D5@cisco.com>	<5D1A7985295922448D5550C94DE2918001D603FE@DEEXC1U01.de.lucent.com>	<5AA8419B-124C-46CA-ABF4-29CCA59C6395@cisco.com>	<45C6C8F3-8E43-41FF-8188-195275F886E5@softarmor.com>	<94C8D91F-AEC6-434C-8B05-278C24368D6B@cisco.com>	<3DE91030-E9FF-454E-A3C6-826A6EA67C71@softarmor.com>	<2D85B2EE-AFDD-4131-9FC8-AA04AEC112C2@softarmor.com>	<70340596-1730-4792-8E24-C28DF30BEC92@cisco.com>	<8EE64972-46A7-4485-9BC1-416A6C5AD0CF@softarmor.com>
	<4E8C3625-A722-4983-A25D-4D6DE22D1B81@cisco.com>
	<47E4012B.5000907@alcatel-lucent.com>
	<CF75DEBF-CC04-4E20-BD50-B3ED87272A91@cisco.com>
	<47E40F49.60600@alcatel-lucent.com>
Message-Id: <8B45F268-740E-45D4-ADFF-86DC54BF84E8@cisco.com>
Mime-Version: 1.0 (Apple Message framework v919.2)
Date: Sat, 22 Mar 2008 09:08:36 -0700
X-Mailer: Apple Mail (2.919.2)
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; l=1622; t=1206202128;
	x=1207066128; c=relaxed/simple; s=sjdkim2002;
	h=Content-Type:From:Subject:Content-Transfer-Encoding:MIME-Version;
	d=cisco.com; i=fluffy@cisco.com;
	z=From:=20Cullen=20Jennings=20<fluffy@cisco.com>
	|Subject:=20Re=3A=20[Sip]=20Summary=20(Was=20Re=3A=20Questi
	on=20about=20refernce=20in=20draft-ietf-sip-domain-certs-00)
	|Sender:=20; bh=AoOc1Qec5+8MljRNBAjX0Q70XT3r0Y8Ul24ZsGUsFTw=;
	b=xV9bppapBmwwpakaZDdWaa0RIqn+YvH0E3m4HfdMhdvzMvJxc2jV3Pw9wV
	wDnP6+LiUsfH+zwJEeoC1iHs48iV44GfmFcCvJC3DLTkzM9T9dNeCH3qWTWD
	yzhBXhtw7l;
Authentication-Results: sj-dkim-2; header.From=fluffy@cisco.com; dkim=pass (
	sig from cisco.com/sjdkim2002 verified; ); 
Cc: IETF SIP List <sip@ietf.org>
Subject: Re: [Sip] Summary (Was Re: Question about refernce in
	draft-ietf-sip-domain-certs-00)
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


On Mar 21, 2008, at 12:40 PM, ext Vijay K. Gurbani wrote:
> However, we need to now converge on
> which track to put domain-certs on: Info, BCP, or PS?  Both Scott
> and I believe that it should be at least BCP, if not PS; and
> others that reviewed the draft also assumed it was PS.
>
> What would be the best way to close this one administrative issue
> so we can submit the revised drafts accordingly: list discussion or
> phone conference?  If the latter, I can send email out to the chairs,
> you, Scott and me, and any interested list participants to
> converge on a time and date.

Agree we need to have a look at this and sort it out - it's not  
obvious to me what is the best thing to do yet. I want to read the  
draft from point of view of figuring out what recommendation in it  
change 3261 or not. This might sound easy but it is often not because  
3261 is less than clear on some of these topics (this is the big   
reason we need this draft in the first place). For example, this draft  
clearly requires implementations to do RFC 3280. The question is does  
3261 require implementations to do some RFC that got updated or  
replaced by 3280? I suspect the answer is "no" - however, tracing the  
tangled web of this is time consuming.

I am going to be on vacation all next week and trying to minimize  
email so I don't really plan to do much with this till the week after.  
I suspect that this is something  where the authors, chairs, and ADs  
should figure out a plan off list then bring it back to the list to  
check the WG is OK with it.

Cullen <in my AD role>




_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Sat Mar 22 14:26:47 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id EF93D3A6C6A;
	Sat, 22 Mar 2008 14:26:46 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.981
X-Spam-Level: 
X-Spam-Status: No, score=-100.981 tagged_above=-999 required=5
	tests=[AWL=-0.544, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id ZgFcT3TfvPqY; Sat, 22 Mar 2008 14:26:46 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 1C8C528C122;
	Sat, 22 Mar 2008 14:26:46 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 9BC9228C122
	for <sip@core3.amsl.com>; Sat, 22 Mar 2008 14:26:44 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id qWhHjDJOLts8 for <sip@core3.amsl.com>;
	Sat, 22 Mar 2008 14:26:43 -0700 (PDT)
Received: from rtp-iport-2.cisco.com (rtp-iport-2.cisco.com [64.102.122.149])
	by core3.amsl.com (Postfix) with ESMTP id AB1DB3A68BA
	for <sip@ietf.org>; Sat, 22 Mar 2008 14:26:43 -0700 (PDT)
X-IronPort-AV: E=Sophos;i="4.25,539,1199682000"; 
   d="scan'208";a="2796569"
Received: from rtp-dkim-2.cisco.com ([64.102.121.159])
	by rtp-iport-2.cisco.com with ESMTP; 22 Mar 2008 17:24:25 -0400
Received: from rtp-core-2.cisco.com (rtp-core-2.cisco.com [64.102.124.13])
	by rtp-dkim-2.cisco.com (8.12.11/8.12.11) with ESMTP id m2MLOPc7027182; 
	Sat, 22 Mar 2008 17:24:25 -0400
Received: from xbh-rtp-211.amer.cisco.com (xbh-rtp-211.cisco.com
	[64.102.31.102])
	by rtp-core-2.cisco.com (8.13.8/8.13.8) with ESMTP id m2MLOOOT023029;
	Sat, 22 Mar 2008 21:24:24 GMT
Received: from xfe-rtp-202.amer.cisco.com ([64.102.31.21]) by
	xbh-rtp-211.amer.cisco.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Sat, 22 Mar 2008 17:24:24 -0400
Received: from [10.86.240.10] ([10.86.240.10]) by xfe-rtp-202.amer.cisco.com
	with Microsoft SMTPSVC(6.0.3790.1830); 
	Sat, 22 Mar 2008 17:24:24 -0400
Message-ID: <47E5791E.2060201@cisco.com>
Date: Sat, 22 Mar 2008 17:24:46 -0400
From: Paul Kyzivat <pkyzivat@cisco.com>
User-Agent: Thunderbird 2.0.0.12 (Windows/20080213)
MIME-Version: 1.0
To: Dale.Worley@comcast.net
References: <200803220327.m2M3RhSX032677@dragon.ariadne.com>
In-Reply-To: <200803220327.m2M3RhSX032677@dragon.ariadne.com>
X-OriginalArrivalTime: 22 Mar 2008 21:24:24.0079 (UTC)
	FILETIME=[19B1C1F0:01C88C63]
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; l=457; t=1206221065; x=1207085065;
	c=relaxed/simple; s=rtpdkim2001;
	h=Content-Type:From:Subject:Content-Transfer-Encoding:MIME-Version;
	d=cisco.com; i=pkyzivat@cisco.com;
	z=From:=20Paul=20Kyzivat=20<pkyzivat@cisco.com>
	|Subject:=20Re=3A=20[Sip]=20Further=20observations=20about=
	20History-Info |Sender:=20 |To:=20Dale.Worley@comcast.net;
	bh=1THowCi/k5H9Zdv1BcvHlV9BepwhB6DSlpanAxXXCMA=;
	b=lCBYmdUcr74IVG8fUUfzlQQ4Ck28XMcHC1FtFsm0vDOsZJrX83Jcz9/fcv
	v10nA3tmejIokAbexdD/gBKXChXpToaEtGl2wIK5Y1zpdF3ulTOgbmAtu2dl
	vb7VQN7Fxj;
Authentication-Results: rtp-dkim-2; header.From=pkyzivat@cisco.com; dkim=pass (
	sig from cisco.com/rtpdkim2001 verified; ); 
Cc: sip@ietf.org
Subject: Re: [Sip] Further observations about History-Info
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org



Dale.Worley@comcast.net wrote:

[snip]

> We still need to investigate what History-Info looks like if some of
> the participating proxies do not support it.

Right! More importantly, the middle boxes that are intentionally trying 
to obscure it. It seems that it is common to want to hide all the 
details. I find it very unlikely that HI will ever be populated in a 
reliable enough way to be of use in making important decisions.

	Paul
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Sun Mar 23 11:25:51 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 724CE3A68B0;
	Sun, 23 Mar 2008 11:25:51 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.967
X-Spam-Level: 
X-Spam-Status: No, score=-100.967 tagged_above=-999 required=5
	tests=[AWL=-0.530, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id jFtpTsyFMe+l; Sun, 23 Mar 2008 11:25:50 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 6A0F23A6A34;
	Sun, 23 Mar 2008 11:25:50 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 766533A684E
	for <sip@core3.amsl.com>; Sun, 23 Mar 2008 11:25:48 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id j9SvZX9JYa+t for <sip@core3.amsl.com>;
	Sun, 23 Mar 2008 11:25:47 -0700 (PDT)
Received: from zrtps0kp.nortel.com (zrtps0kp.nortel.com [47.140.192.56])
	by core3.amsl.com (Postfix) with ESMTP id 2BC5B3A68B0
	for <sip@ietf.org>; Sun, 23 Mar 2008 11:24:49 -0700 (PDT)
Received: from zrc2hxm0.corp.nortel.com (zrc2hxm0.corp.nortel.com
	[47.103.123.71])
	by zrtps0kp.nortel.com (Switch-2.2.6/Switch-2.2.0) with ESMTP id
	m2NIMQ825743; Sun, 23 Mar 2008 18:22:26 GMT
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Sun, 23 Mar 2008 13:22:11 -0500
Message-ID: <1ECE0EB50388174790F9694F77522CCF15A84118@zrc2hxm0.corp.nortel.com>
In-Reply-To: <20080322020001.B8AC83A6914@core3.amsl.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: I-D Action:draft-ietf-sip-outbound-13.txt
Thread-Index: AciLwFd4b+pAsGCBQHCP+WoayHiMEgBT1qcg
References: <20080322020001.B8AC83A6914@core3.amsl.com>
From: "Francois Audet" <audet@nortel.com>
To: <sip@ietf.org>
Cc: Cullen Jennings <fluffy@cisco.com>, rohan@ekabal.com,
	drage@alcatel-lucent.com, Dean Willis <dean.willis@softarmor.com>
Subject: Re: [Sip] I-D Action:draft-ietf-sip-outbound-13.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Hi all,

I am please to announce that draft-ietf-sip-13 was submitted on Friday, 
this time, on schedule as per our promise in Philadelphia!

This version incorporates all the agreements from the mailing list and
the Philadelphia meeting. In particular, it incorporates the changes
that Christer wanted for allowing keep-alives to be usable even when
outbound registration is not used. See section 4.4 for new text clarifying
this, as well as the last sentence of paragraph 6 of section 8 on the 'ob' 
parameter.

We believe that we have addressed in this revision ALL the comments from
Eric Rescorla and Kevin Johns who both had submitted very detailed
reviews for WGLC.

There was also a significant amount of clean-up and editorial.

Please see diff at:
http://tools.ietf.org/rfcdiff?url2=http://tools.ietf.org/id/draft-ietf-sip-outbound-13.txt

Side note: reference RFC 4966 is wrong and should be RFC 4960 (my mistake).
It will be fixed later.

> -----Original Message-----
> From: i-d-announce-bounces@ietf.org 
> [mailto:i-d-announce-bounces@ietf.org] On Behalf Of 
> Internet-Drafts@ietf.org
> Sent: Friday, March 21, 2008 19:00
> To: i-d-announce@ietf.org
> Cc: sip@ietf.org
> Subject: I-D Action:draft-ietf-sip-outbound-13.txt
> 
> A New Internet-Draft is available from the on-line 
> Internet-Drafts directories.
> This draft is a work item of the Session Initiation Protocol 
> Working Group of the IETF.
> 
> 
> 	Title           : Managing Client Initiated Connections 
> in the Session Initiation Protocol (SIP)
> 	Author(s)       : C. Jennings, R. Mahy
> 	Filename        : draft-ietf-sip-outbound-13.txt
> 	Pages           : 52
> 	Date            : 2008-03-21
> 
> The Session Initiation Protocol (SIP) allows proxy servers to 
> initiate TCP connections and send asynchronous UDP datagrams 
> to User Agents in order to deliver requests.  However, many 
> practical considerations, such as the existence of firewalls 
> and Network Address Translators (NATs), prevent servers from 
> connecting to User Agents in this way.  This specification 
> defines behaviors for User Agents, registrars and proxy 
> servers that allow requests to be delivered on existing 
> connections established by the User Agent.  It also defines 
> keep alive behaviors needed to keep NAT bindings open and 
> specifies the usage of multiple connections from the User 
> Agent to its Registrar.
> 
> A URL for this Internet-Draft is:
> http://www.ietf.org/internet-drafts/draft-ietf-sip-outbound-13.txt
> 
> Internet-Drafts are also available by anonymous FTP at:
> ftp://ftp.ietf.org/internet-drafts/
> 
> Below is the data which will enable a MIME compliant mail 
> reader implementation to automatically retrieve the ASCII 
> version of the Internet-Draft.
> 
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Sun Mar 23 11:32:06 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 4F5F13A6B01;
	Sun, 23 Mar 2008 11:32:06 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.953
X-Spam-Level: 
X-Spam-Status: No, score=-100.953 tagged_above=-999 required=5
	tests=[AWL=-0.516, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id Om0y9mhVgVJG; Sun, 23 Mar 2008 11:32:05 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 2E7F93A699F;
	Sun, 23 Mar 2008 11:32:05 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id EB0A33A699F
	for <sip@core3.amsl.com>; Sun, 23 Mar 2008 11:32:03 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id MjLTy+Y8qcrx for <sip@core3.amsl.com>;
	Sun, 23 Mar 2008 11:32:03 -0700 (PDT)
Received: from zrtps0kn.nortel.com (zrtps0kn.nortel.com [47.140.192.55])
	by core3.amsl.com (Postfix) with ESMTP id B46603A67B4
	for <sip@ietf.org>; Sun, 23 Mar 2008 11:32:02 -0700 (PDT)
Received: from zrc2hxm0.corp.nortel.com (zrc2hxm0.corp.nortel.com
	[47.103.123.71])
	by zrtps0kn.nortel.com (Switch-2.2.6/Switch-2.2.0) with ESMTP id
	m2NITTR01235; Sun, 23 Mar 2008 18:29:29 GMT
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Sun, 23 Mar 2008 13:29:12 -0500
Message-ID: <1ECE0EB50388174790F9694F77522CCF15A8411B@zrc2hxm0.corp.nortel.com>
In-Reply-To: <200803220327.m2M3RhSX032677@dragon.ariadne.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] Further observations about History-Info
Thread-Index: AciLzMki9wi4+yKTQca+pqfNQABGmgBRqc8g
References: <200803220327.m2M3RhSX032677@dragon.ariadne.com>
From: "Francois Audet" <audet@nortel.com>
To: <Dale.Worley@comcast.net>, <sip@ietf.org>
Subject: Re: [Sip] Further observations about History-Info
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

That sounds reasonable to me.

It is a bummer that History-Info is optional...

> -----Original Message-----
> From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On 
> Behalf Of Dale.Worley@comcast.net
> Sent: Friday, March 21, 2008 20:28
> To: sip@ietf.org
> Subject: [Sip] Further observations about History-Info
> 
> Considering again how History-Info handles 3xx responses, let 
> me construct this example of multi-stage translation:
> 
> Let us assume that sip:list@a.example.com routes to proxy 1.  
> Proxy 1 knows that (one) target of this URI is Alice's AOR, 
> sip:10@b.example.com, which then routes to proxy 2.  Proxy 2 
> knows the phone address for sip:10@b.example.com, which is 
> sip:10@10.1.1.1.
> 
> As the request reaches the UA at 10.1.1.1, the History-Info looks like
> this:
> 
>     History-Info: <sip:list@a.example.com>;index=1,
> 	    <sip:10@b.example.com>;index=1.1,
> 	    <sip:10@10.1.1.1>;index=1.1.1
> 
> This clearly gives the logical derivation of the destination 
> address from the original request-URI (which is presumably 
> also the To:
> value):
> 
> 	sip:list@a.example.com ->
> 		sip:10@b.example.com ->
> 			sip:10@10.1.1.1
> 
> Now let us modify the scenario by changing proxy 2 not to 
> route the request itself, but rather to send a 302 response 
> back to proxy 1.
> Within SIP, any agent that potentially routes a request can 
> choose to send a 3xx response instead; in theory, all forking 
> can be forced back onto the originating UA if downstream 
> agents always send 3xx responses rather than routing.
> 
> With the 302 response, the History-Info looks like this 
> (taking liberties with the escaping):
> 
>     History-Info: <sip:list@a.example.com>;index=1,
> 	    <sip:10@b.example.com?Reason=SIP;cause=302>;index=1.1,
> 	    <sip:10@10.1.1.1>;index=1.2
> 
> And this is the forking structure of the request.  But it 
> looses the logical structure of the translation; the UA at 
> 10.1.1.1 does not see that it received the request "through" 
> its AOR, sip:10@b.example.com.
> The apparent derivation of the destination address is:
> 
> 	sip:list@a.example.com ->
> 		sip:10@10.1.1.1
> 
> (Although in practice the UA could guess from the "cause=302" on its
> ".1 sibling" that its fork was derived from the index=1.1 fork.)
> 
> And in the extreme case of a complex forking and retargeting 
> structure, if all other agents used 3xx responses to 
> implement it, the UAS would receive a History-Info whose 
> indexes were all single integers, obscuring completely how 
> its address was derived.
> 
> As I proposed earlier, I think getting around this problem 
> will require adding an additional field-parameter to show how 
> the address derivations are performed.  In this example:
> 
>     History-Info: <sip:list@a.example.com>;index=1,
> 	    <sip:10@b.example.com?Reason=SIP;cause=302>;index=1.1,
> 	    <sip:10@10.1.1.1>;index=1.2;redir=1.1
> 
> For diagnostic purposes, it would also be convenient if any 
> other field-parameters on the Contacts of a 3xx response were 
> copied into the derived History-Info elements.  Only the "q" 
> parameter seems to be useful information.  A typical "serial 
> fork" would then look like this when the request reached the 
> second contact:
> 
>     History-Info: <sip:list@a.example.com>;index=1,
> 	    <sip:10@b.example.com?Reason=SIP;cause=302>;index=1.1,
> 	    
> <sip:10@10.1.1.1?Reason=SIP;cause=486>;q=1.0;index=1.2;redir=1.1
> 	    <sip:10@10.2.2.2>;q=0.9;index=1.3;redir=1.1
> 
> As an elaboration, if we suppose UA sip:10@10.2.2.2 
> redirected the request to sip:alice@c.example.com, we could get:
> 
>     History-Info: <sip:list@a.example.com>;index=1,
> 	    <sip:10@b.example.com?Reason=SIP;cause=302>;index=1.1,
> 	    
> <sip:10@10.1.1.1?Reason=SIP;cause=486>;q=1.0;index=1.2;redir=1.1
> 	    
> <sip:10@10.2.2.2?Reason=SIP;cause=302>;q=0.9;index=1.3;redir=1.1
> 	    <sip:alice@c.example.com>;index=1.4;redir=1.3
> 
> This illustrates that the forking structure is flat 
> (arranging the entries by their indexes):
> 
> 	sip:list@a.example.com
> 		sip:10@b.example.com
> 		sip:10@10.1.1.1
> 		sip:10@10.2.2.2
> 		sip:alice@c.example.com
> 
> whereas the address derivation is more complex (placing each 
> entry under the entry referenced by its 'redir' parameter):
> 
> 	sip:list@a.example.com
> 		sip:10@b.example.com
> 			sip:10@10.1.1.1
> 			sip:10@10.2.2.2
> 				sip:alice@c.example.com
> 
> The latter is more useful for attacking the "UA loose route" problem.
> 
> We still need to investigate what History-Info looks like if 
> some of the participating proxies do not support it.
> 
> Dale
> _______________________________________________
> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol Use 
> sip-implementors@cs.columbia.edu for questions on current sip 
> Use sipping@ietf.org for new developments on the application of sip
> 
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Mon Mar 24 02:01:30 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id C53F728C1E1;
	Mon, 24 Mar 2008 02:01:30 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -97.578
X-Spam-Level: 
X-Spam-Status: No, score=-97.578 tagged_above=-999 required=5
	tests=[AWL=0.258, BAYES_50=0.001, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, HTML_MESSAGE=0.001, RDNS_NONE=0.1,
	USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 5etQ0Qsv8O6M; Mon, 24 Mar 2008 02:01:29 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 49E5A3A6A3B;
	Mon, 24 Mar 2008 02:01:29 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 7DCAE3A6E03
	for <sip@core3.amsl.com>; Mon, 24 Mar 2008 02:01:26 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id aE25-DY5PwV8 for <sip@core3.amsl.com>;
	Mon, 24 Mar 2008 02:01:24 -0700 (PDT)
Received: from mail.urlsoftware.net (b2.6.5d45.static.theplanet.com
	[69.93.6.178]) by core3.amsl.com (Postfix) with ESMTP id F3BEB3A6879
	for <sip@ietf.org>; Mon, 24 Mar 2008 02:01:23 -0700 (PDT)
Received: from matrixindia ([220.226.174.66])
	by mail.urlsoftware.net (Merak 8.0.3) with ASMTP id TT182176;
	Mon, 24 Mar 2008 03:59:04 -0500
Received: from 192.168.50.33 by matrixindia ([192.168.50.100] running VPOP3)
	with ESMTP for <sip@ietf.org>; Mon, 24 Mar 2008 14:29:04 +0530
From: "Dharmesh desai" <Dharmesh.Desai@Matrixtelesol.com>
To: <sip@ietf.org>
Date: Mon, 24 Mar 2008 14:28:52 +0530
MIME-Version: 1.0
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
thread-index: AciNjUhKXUxkJ5vyQUWgjafxMAhzNw==
Message-Id: <VPOP31.4.0e.20080324142904.140.75.1.00149acd@matrixindia>
X-Server: VPOP3 V1.4.0e - Registered to: Matrix India
X-Cyberoam-Version: 9.5.0.29
X-Cyberoam-smtpxy-version: 0.0.2.8
X-Cyberoam-AV-Status: Clean
X-Cyberoam-Proto: SMTP
X-Cyberoam-AV-Policy: None
X-Cyberoam-AS-Policy: None
Subject: [Sip] what are the requriements of two id's ?
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: multipart/mixed; boundary="===============1827014548=="
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

This is a multi-part message in MIME format.

--===============1827014548==
Content-Type: multipart/alternative; boundary="----=_NextPart_000_0024_01C88DBB.6234D710"

This is a multi-part message in MIME format.

------=_NextPart_000_0024_01C88DBB.6234D710
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit

Dear all,

 

In my softphone there are two id's available.

 

UserId and Authentication ID 

 

Why Registrar or Proxy require two ids.

 

What is the use of these to id's.

 

Can anyone help me to understand these thing?

 

Regards,

Dharmesh Desai


------=_NextPart_000_0024_01C88DBB.6234D710
Content-Type: text/html;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

<html xmlns:o=3D"urn:schemas-microsoft-com:office:office" =
xmlns:w=3D"urn:schemas-microsoft-com:office:word" =
xmlns=3D"http://www.w3.org/TR/REC-html40">

<head>
<META HTTP-EQUIV=3D"Content-Type" CONTENT=3D"text/html; =
charset=3Dus-ascii">
<meta name=3DGenerator content=3D"Microsoft Word 11 (filtered medium)">
<style>
<!--
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin:0in;
	margin-bottom:.0001pt;
	font-size:12.0pt;
	font-family:"Times New Roman";}
a:link, span.MsoHyperlink
	{color:blue;
	text-decoration:underline;}
a:visited, span.MsoHyperlinkFollowed
	{color:purple;
	text-decoration:underline;}
span.EmailStyle17
	{mso-style-type:personal-compose;
	font-family:Arial;
	color:windowtext;}
@page Section1
	{size:8.5in 11.0in;
	margin:1.0in 1.25in 1.0in 1.25in;}
div.Section1
	{page:Section1;}
-->
</style>

</head>

<body lang=3DEN-US link=3Dblue vlink=3Dpurple>

<div class=3DSection1>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'>Dear all,<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'>In my softphone there are two id&#8217;s =
available.<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'>UserId and Authentication ID =
<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'>Why Registrar or Proxy require two =
ids.<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'>What is the use of these to =
id&#8217;s.<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'>Can anyone help me to understand these =
thing?<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'>Regards,<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'>Dharmesh Desai<o:p></o:p></span></font></p>

</div>

</body>

</html>

------=_NextPart_000_0024_01C88DBB.6234D710--


--===============1827014548==
Content-Type: text/plain; charset="us-ascii"
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip
--===============1827014548==--



From sip-bounces@ietf.org  Mon Mar 24 02:06:11 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id DF9603A6BDF;
	Mon, 24 Mar 2008 02:06:11 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.631
X-Spam-Level: 
X-Spam-Status: No, score=-100.631 tagged_above=-999 required=5
	tests=[AWL=-0.195, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, HTML_MESSAGE=0.001, RDNS_NONE=0.1,
	USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id goXaCmwilJFP; Mon, 24 Mar 2008 02:06:07 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 6097E28C0EB;
	Mon, 24 Mar 2008 02:06:07 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 639783A6ABC
	for <sip@core3.amsl.com>; Mon, 24 Mar 2008 02:06:05 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id zaaSMim60s2W for <sip@core3.amsl.com>;
	Mon, 24 Mar 2008 02:06:03 -0700 (PDT)
Received: from wipro-blr-out02.wipro.com (wipro-blr-out02.wipro.com
	[203.91.198.75])
	by core3.amsl.com (Postfix) with ESMTP id C36A13A6A3B
	for <sip@ietf.org>; Mon, 24 Mar 2008 02:06:02 -0700 (PDT)
X-AuditID: cb5bdd58-acc78bb000006b72-32-47e76e6dd222
Received: from blr-ec-bh02.wipro.com (unknown [10.201.50.92])
	by wipro-blr-out02.wipro.com (Symantec Mail Security) with ESMTP id
	C459A558002 for <sip@ietf.org>; Mon, 24 Mar 2008 14:33:41 +0530 (IST)
Received: from BLR-EC-MBX02.wipro.com ([10.201.50.164]) by
	blr-ec-bh02.wipro.com with Microsoft SMTPSVC(6.0.3790.3959); 
	Mon, 24 Mar 2008 14:33:41 +0530
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Mon, 24 Mar 2008 14:33:35 +0530
Message-ID: <01949ABCDD38EF4A95B8C347C399D1CE067022A2@BLR-EC-MBX02.wipro.com>
In-Reply-To: <VPOP31.4.0e.20080324142904.140.75.1.00149acd@matrixindia>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] what are the requriements of two id's ?
Thread-Index: AciNjUhKXUxkJ5vyQUWgjafxMAhzNwAAHFbQ
References: <VPOP31.4.0e.20080324142904.140.75.1.00149acd@matrixindia>
From: <ashish.hsaxena@wipro.com>
To: <Dharmesh.Desai@Matrixtelesol.com>,
	<sip@ietf.org>
X-OriginalArrivalTime: 24 Mar 2008 09:03:41.0425 (UTC)
	FILETIME=[F4A26E10:01C88D8D]
X-Brightmail-Tracker: AAAAAA==
Subject: Re: [Sip] what are the requriements of two id's ?
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: multipart/mixed; boundary="===============1133817103=="
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

This is a multi-part message in MIME format.

--===============1133817103==
Content-class: urn:content-classes:message
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C88D8D.F49850DC"

This is a multi-part message in MIME format.

------_=_NextPart_001_01C88D8D.F49850DC
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

Lot of clients these days support multiple IDs. You can specify UserId
of your choice say IMKing@domain.com but when you are actually making
calls, the authentication id will be sent for validation.=20
=20

Best Regards,=20
Ashish Saxena=20
877-5570=20

=20

________________________________

From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On Behalf Of
Dharmesh desai
Sent: Monday, March 24, 2008 2:29 PM
To: sip@ietf.org
Subject: [Sip] what are the requriements of two id's ?



Dear all,

=20

In my softphone there are two id's available.

=20

UserId and Authentication ID=20

=20

Why Registrar or Proxy require two ids.

=20

What is the use of these to id's.

=20

Can anyone help me to understand these thing?

=20

Regards,

Dharmesh Desai


------_=_NextPart_001_01C88D8D.F49850DC
Content-Type: text/html;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML xmlns=3D"http://www.w3.org/TR/REC-html40" xmlns:o =3D=20
"urn:schemas-microsoft-com:office:office" xmlns:w =3D=20
"urn:schemas-microsoft-com:office:word"><HEAD>
<META http-equiv=3DContent-Type content=3D"text/html; =
charset=3Dus-ascii">
<META content=3D"MSHTML 6.00.2900.3268" name=3DGENERATOR>
<STYLE>
<!--
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin:0in;
	margin-bottom:.0001pt;
	font-size:12.0pt;
	font-family:"Times New Roman";}
a:link, span.MsoHyperlink
	{color:blue;
	text-decoration:underline;}
a:visited, span.MsoHyperlinkFollowed
	{color:purple;
	text-decoration:underline;}
span.EmailStyle17
	{mso-style-type:personal-compose;
	font-family:Arial;
	color:windowtext;}
@page Section1
	{size:8.5in 11.0in;
	margin:1.0in 1.25in 1.0in 1.25in;}
div.Section1
	{page:Section1;}
-->
</STYLE>
</HEAD>
<BODY lang=3DEN-US vLink=3Dpurple link=3Dblue>
<DIV dir=3Dltr align=3Dleft><SPAN class=3D441020209-24032008><FONT =
face=3DVerdana=20
color=3D#800000 size=3D2>Lot of clients these days support multiple IDs. =
You can=20
specify UserId of your choice say <A=20
href=3D"mailto:IMKing@domain.com">IMKing@domain.com</A>&nbsp;but when =
you are=20
actually making calls, the authentication id will be sent for =
validation.=20
</FONT></SPAN></DIV>
<DIV>&nbsp;</DIV><!-- Converted from text/rtf format -->
<P><SPAN lang=3Den-us><FONT face=3DVerdana color=3D#800000 size=3D2>Best =

Regards,</FONT></SPAN> <BR><SPAN lang=3Den-us><FONT face=3DVerdana =
color=3D#800000=20
size=3D2>Ashish Saxena</FONT></SPAN> <BR><SPAN lang=3Den-us><FONT =
face=3DVerdana=20
color=3D#800000 size=3D2>877-5570</FONT></SPAN> </P>
<DIV>&nbsp;</DIV><BR>
<DIV class=3DOutlookMessageHeader lang=3Den-us dir=3Dltr align=3Dleft>
<HR tabIndex=3D-1>
<FONT face=3DTahoma size=3D2><B>From:</B> sip-bounces@ietf.org=20
[mailto:sip-bounces@ietf.org] <B>On Behalf Of </B>Dharmesh =
desai<BR><B>Sent:</B>=20
Monday, March 24, 2008 2:29 PM<BR><B>To:</B> =
sip@ietf.org<BR><B>Subject:</B>=20
[Sip] what are the requriements of two id's ?<BR></FONT><BR></DIV>
<DIV></DIV>
<DIV class=3DSection1>
<P class=3DMsoNormal><FONT face=3DArial size=3D2><SPAN=20
style=3D"FONT-SIZE: 10pt; FONT-FAMILY: Arial">Dear=20
all,<o:p></o:p></SPAN></FONT></P>
<P class=3DMsoNormal><FONT face=3DArial size=3D2><SPAN=20
style=3D"FONT-SIZE: 10pt; FONT-FAMILY: =
Arial"><o:p>&nbsp;</o:p></SPAN></FONT></P>
<P class=3DMsoNormal><FONT face=3DArial size=3D2><SPAN=20
style=3D"FONT-SIZE: 10pt; FONT-FAMILY: Arial">In my softphone there are =
two id&#8217;s=20
available.<o:p></o:p></SPAN></FONT></P>
<P class=3DMsoNormal><FONT face=3DArial size=3D2><SPAN=20
style=3D"FONT-SIZE: 10pt; FONT-FAMILY: =
Arial"><o:p>&nbsp;</o:p></SPAN></FONT></P>
<P class=3DMsoNormal><FONT face=3DArial size=3D2><SPAN=20
style=3D"FONT-SIZE: 10pt; FONT-FAMILY: Arial">UserId and Authentication =
ID=20
<o:p></o:p></SPAN></FONT></P>
<P class=3DMsoNormal><FONT face=3DArial size=3D2><SPAN=20
style=3D"FONT-SIZE: 10pt; FONT-FAMILY: =
Arial"><o:p>&nbsp;</o:p></SPAN></FONT></P>
<P class=3DMsoNormal><FONT face=3DArial size=3D2><SPAN=20
style=3D"FONT-SIZE: 10pt; FONT-FAMILY: Arial">Why Registrar or Proxy =
require two=20
ids.<o:p></o:p></SPAN></FONT></P>
<P class=3DMsoNormal><FONT face=3DArial size=3D2><SPAN=20
style=3D"FONT-SIZE: 10pt; FONT-FAMILY: =
Arial"><o:p>&nbsp;</o:p></SPAN></FONT></P>
<P class=3DMsoNormal><FONT face=3DArial size=3D2><SPAN=20
style=3D"FONT-SIZE: 10pt; FONT-FAMILY: Arial">What is the use of these =
to=20
id&#8217;s.<o:p></o:p></SPAN></FONT></P>
<P class=3DMsoNormal><FONT face=3DArial size=3D2><SPAN=20
style=3D"FONT-SIZE: 10pt; FONT-FAMILY: =
Arial"><o:p>&nbsp;</o:p></SPAN></FONT></P>
<P class=3DMsoNormal><FONT face=3DArial size=3D2><SPAN=20
style=3D"FONT-SIZE: 10pt; FONT-FAMILY: Arial">Can anyone help me to =
understand=20
these thing?<o:p></o:p></SPAN></FONT></P>
<P class=3DMsoNormal><FONT face=3DArial size=3D2><SPAN=20
style=3D"FONT-SIZE: 10pt; FONT-FAMILY: =
Arial"><o:p>&nbsp;</o:p></SPAN></FONT></P>
<P class=3DMsoNormal><FONT face=3DArial size=3D2><SPAN=20
style=3D"FONT-SIZE: 10pt; FONT-FAMILY: =
Arial">Regards,<o:p></o:p></SPAN></FONT></P>
<P class=3DMsoNormal><FONT face=3DArial size=3D2><SPAN=20
style=3D"FONT-SIZE: 10pt; FONT-FAMILY: Arial">Dharmesh=20
Desai<o:p></o:p></SPAN></FONT></P></DIV></BODY></HTML>

------_=_NextPart_001_01C88D8D.F49850DC--

--===============1133817103==
Content-Type: text/plain; charset="us-ascii"
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip
--===============1133817103==--


From sip-bounces@ietf.org  Mon Mar 24 09:16:53 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 6F13928C461;
	Mon, 24 Mar 2008 09:16:53 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.828
X-Spam-Level: 
X-Spam-Status: No, score=-100.828 tagged_above=-999 required=5
	tests=[AWL=-0.391, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id qy2ArBNo9L1k; Mon, 24 Mar 2008 09:16:51 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 718CB28C499;
	Mon, 24 Mar 2008 09:15:28 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id EA33B3A6806
	for <sip@core3.amsl.com>; Sat, 22 Mar 2008 16:12:19 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id E3S7tw6xW9-y for <sip@core3.amsl.com>;
	Sat, 22 Mar 2008 16:12:19 -0700 (PDT)
Received: from balder-227.proper.com (cl-240.ewr-01.us.sixxs.net
	[IPv6:2001:4830:1200:ef::2])
	by core3.amsl.com (Postfix) with ESMTP id BA1CB3A6E42
	for <sip@ietf.org>; Sat, 22 Mar 2008 16:12:18 -0700 (PDT)
Received: from [165.227.249.202] (dsl-63-249-108-169.cruzio.com
	[63.249.108.169]) (authenticated bits=0)
	by balder-227.proper.com (8.14.2/8.14.2) with ESMTP id m2MN9u4h029934
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO)
	for <sip@ietf.org>; Sat, 22 Mar 2008 16:09:58 -0700 (MST)
	(envelope-from paul.hoffman@vpnc.org)
Mime-Version: 1.0
Message-Id: <p0624081fc40b3bb36924@[165.227.249.202]>
Date: Sat, 22 Mar 2008 16:09:27 -0700
To: sip@ietf.org
From: Paul Hoffman <paul.hoffman@vpnc.org>
X-Mailman-Approved-At: Mon, 24 Mar 2008 09:15:27 -0700
Subject: [Sip] Comments on draft-ietf-sip-eku-01
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Greetings. Robert Sparks mentioned to me that this document is in WG 
Last Call. I am familiar with PKIX and make these comments based on 
my knowledge of PKIX, not based on my small knowledge of SIP.

1) On using EKU instead of a regular extension

The choice of using an EKU to day "the party associated with this 
public key is an authorized SIP proxy for the domain named in the 
certificate" is creative but probably not what the SIP WG wants for 
two reasons:

- Lots of software for relying parties ignores EKUs because many of 
the defined ones are poorly defined and often misused. It is likely 
that some PKIX libraries that you would want to use will not actually 
hand the EKU to proxyB, thus making the entire document useless. The 
complete lack of use of the EKUs defined long ago for VPN gateways is 
testament to this being a bad idea.

- This is an overly-creative use of EKUs. The definition of the key 
usage extension in RFC 3280 is:
    The key usage extension defines the purpose (e.g., encipherment,
    signature, certificate signing) of the key contained in the
    certificate.  The usage restriction might be employed when a key that
    could be used for more than one operation is to be restricted.
Note that this document does not define a purpose of the key or a 
restriction on the key: it binds the key to an additional semantic 
("this party is an authorized SIP proxy").

It would be much clearer if you used an actual extension, not an EKU, 
to make the binding. That is, create an extension that goes into the 
"extensions" field at the end of the TBSCertificate. This is a common 
way of extending PKIX without overloading existing PKIX functionality.

2) On marking the extension critical

If there is a good reason to mark this extension as critical, I 
missed it. Section 3.1 says:
    but if it is included, it MUST be
    marked as critical so that implementations that do not understand it
    will not accept the certificate for any other purpose.

This is a terrible idea for the identity binding described in the 
document. Why force a proxy to have two certificates, one for 
partners that understand this extension and one for those who don't? 
This will cause extra round trips, lack of communication with older 
servers, and so on. It seems much better to have the semantics of the 
extension be "if you can understand this, you'll know that this proxy 
is an authorized SIP proxy, but if you don't understand this, carry 
on".

I hope these comments help. It should not be hard to recast the 
document as one that defines an extension instead of an EKU, and to 
say "don't mark this as critical so that you can still talk to older 
proxies".

--Paul Hoffman, Director
--VPN Consortium
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Mon Mar 24 10:33:00 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id D542D28C3D2;
	Mon, 24 Mar 2008 10:33:00 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.478
X-Spam-Level: 
X-Spam-Status: No, score=-100.478 tagged_above=-999 required=5
	tests=[AWL=-0.041, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id nFDsunBYf6Uf; Mon, 24 Mar 2008 10:32:59 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id E41CB28C40A;
	Mon, 24 Mar 2008 10:32:37 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id DD72428C143
	for <sip@core3.amsl.com>; Mon, 24 Mar 2008 10:32:36 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id TnoEATYoVnRK for <sip@core3.amsl.com>;
	Mon, 24 Mar 2008 10:32:33 -0700 (PDT)
Received: from nylon.softarmor.com (nylon.softarmor.com [66.135.38.164])
	by core3.amsl.com (Postfix) with ESMTP id 4CF523A6E92
	for <sip@ietf.org>; Mon, 24 Mar 2008 10:32:01 -0700 (PDT)
Received: from [192.168.2.103] (cpe-76-185-142-113.tx.res.rr.com
	[76.185.142.113] (may be forged)) (authenticated bits=0)
	by nylon.softarmor.com (8.13.8/8.13.8/Debian-3) with ESMTP id
	m2OHTS4P007370
	(version=TLSv1/SSLv3 cipher=AES128-SHA bits=128 verify=NOT);
	Mon, 24 Mar 2008 12:29:29 -0500
Message-Id: <8F8D4A0E-206D-4061-AFFE-DA145BC3F84F@softarmor.com>
From: Dean Willis <dean.willis@softarmor.com>
To: SIP List <sip@ietf.org>
Mime-Version: 1.0 (Apple Message framework v919.2)
Date: Mon, 24 Mar 2008 12:29:22 -0500
X-Mailer: Apple Mail (2.919.2)
Cc: Cullen Jennings <fluffy@cisco.com>, Rohan Mahy <rohan@ekabal.com>,
	Francois Audet <audet@nortel.com>, Keith Drage <drage@alcatel-lucent.com>
Subject: [Sip] Renewed WGLC on draft-ietf-sip-outbound
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


Yay! The latest Outbound draft supposedly fixes all issues noted  
during WGLC. There have been enough changes (and enough time has  
passed) that we probably need to do another review cycle.

We are aware of one issue -- RFC 4966 is cited instead of RFC 4960.  
This will be fixed before submission to the IESG.

Please read the new document:

http://www.ietf.org/internet-drafts/draft-ietf-sip-outbound-13.txt

with a diff from the previous version at:

http://tools.ietf.org/rfcdiff?url2=http://tools.ietf.org/id/draft-ietf-sip-outbound-13.txt

Please post responses to this list. I'd like to get this wrapped up by  
April 21.

Thanks,

--
Dean

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Mon Mar 24 19:58:55 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 680F93A68FD;
	Mon, 24 Mar 2008 19:58:55 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.628
X-Spam-Level: 
X-Spam-Status: No, score=-100.628 tagged_above=-999 required=5
	tests=[AWL=-0.191, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id C1IZwr8EG7bt; Mon, 24 Mar 2008 19:58:54 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 6CC4C3A6CC7;
	Mon, 24 Mar 2008 19:58:54 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 431733A6CA6
	for <sip@core3.amsl.com>; Mon, 24 Mar 2008 19:58:53 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id nMlTrddfFVRI for <sip@core3.amsl.com>;
	Mon, 24 Mar 2008 19:58:52 -0700 (PDT)
Received: from QMTA02.emeryville.ca.mail.comcast.net
	(qmta02.emeryville.ca.mail.comcast.net [76.96.30.24])
	by core3.amsl.com (Postfix) with ESMTP id 7D7063A6BB2
	for <sip@ietf.org>; Mon, 24 Mar 2008 19:58:52 -0700 (PDT)
Received: from OMTA10.emeryville.ca.mail.comcast.net ([76.96.30.28])
	by QMTA02.emeryville.ca.mail.comcast.net with comcast
	id 5C1X1Z00L0cQ2SLA209D00; Tue, 25 Mar 2008 02:55:28 +0000
Received: from dragon.ariadne.com ([76.19.174.1])
	by OMTA10.emeryville.ca.mail.comcast.net with comcast
	id 5EwW1Z00702AVH08W00000; Tue, 25 Mar 2008 02:56:32 +0000
X-Authority-Analysis: v=1.0 c=1 a=0ojwWGFDj11g-s8VYN4A:9
	a=PAwsOCnbCilicaoxVSkA:7 a=EpKLqoPSj0k7eIO38qR4UHJaPAsA:4
	a=JfD0Fch1gWkA:10 a=si9q_4b84H0A:10 a=8y7tGHue6YMA:10
Received: from dragon.ariadne.com (dragon.ariadne.com [127.0.0.1])
	by dragon.ariadne.com (8.12.8/8.12.8) with ESMTP id m2P2uUm4031041
	for <sip@ietf.org>; Mon, 24 Mar 2008 21:56:30 -0500
Received: (from worley@localhost)
	by dragon.ariadne.com (8.12.8/8.12.8/Submit) id m2P2uUKC031037;
	Mon, 24 Mar 2008 21:56:30 -0500
Date: Mon, 24 Mar 2008 21:56:30 -0500
Message-Id: <200803250256.m2P2uUKC031037@dragon.ariadne.com>
To: sip@ietf.org
From: Dale.Worley@comcast.net
In-reply-to: <47E5791E.2060201@cisco.com> (pkyzivat@cisco.com)
References: <200803220327.m2M3RhSX032677@dragon.ariadne.com>
	<47E5791E.2060201@cisco.com>
Subject: [Sip] History-Info and intermediate proxies
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
MIME-Version: 1.0
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

   From: Paul Kyzivat <pkyzivat@cisco.com>

   Dale.Worley@comcast.net wrote:

   > We still need to investigate what History-Info looks like if some of
   > the participating proxies do not support it.

What happens with History-Info if a proxy does not support it, a proxy
that is between the most-upstream proxy that adds History-Info and the
agent that is interpreting it?

There seem to be two messy aspects:

1) There must be an unambiguous way for the SIP agent to determine the
History-Info element that is the leaf that applies to it.  In
principle, there should be only one leaf whose URI matches the current
request-URI.  But in SIP, "address matching never works".  And if
there can be intermediate proxies rewriting the request-URI but not
updating History-Info, address matching is hopeless.

One solution is to rule that the element with the "rightmost" index is
always the applicable element.  This can probably be made to work, but
it requires that even when there is parallel forking, no fork can see
another fork until that fork has returned a final response.

Another solution is to specifically mark the applicable element with a
field-parameter.

2) The intermediate proxy can fork the request.  This results in two
or more downstream agents adding History-Info elements with the same
indexes.  Fortunately, only one of these gets back to the upstream
proxy, so from that proxy's point of view, assembling the History-Info
is unambiguous.

However, if a HERFP mechanism allows the upstream proxy to see more
than the History-Info for more than one fork under these
circumstances, it would have to integrate the History-Info's and may
have to renumber the elements.  Messy but possible.

   Right! More importantly, the middle boxes that are intentionally trying 
   to obscure it. It seems that it is common to want to hide all the 
   details. I find it very unlikely that HI will ever be populated in a 
   reliable enough way to be of use in making important decisions.

That's only a problem if History-Info from one side of an SBC is
needed to make a decision on the other side of the SBC.  Or, if
History-Info must pass through a topology-hidden network, we would
have to ensure that the SBCs cooperate to transport the information
through the network.

Dale
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Mon Mar 24 20:16:42 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id D52583A6DC0;
	Mon, 24 Mar 2008 20:16:42 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.62
X-Spam-Level: 
X-Spam-Status: No, score=-100.62 tagged_above=-999 required=5
	tests=[AWL=-0.183, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id i0r4wtYAt43t; Mon, 24 Mar 2008 20:16:41 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id BAA4E3A6AAF;
	Mon, 24 Mar 2008 20:16:41 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 2F9D73A6B8D
	for <sip@core3.amsl.com>; Mon, 24 Mar 2008 20:16:40 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 0BJEnj90GKFh for <sip@core3.amsl.com>;
	Mon, 24 Mar 2008 20:16:39 -0700 (PDT)
Received: from QMTA02.emeryville.ca.mail.comcast.net
	(qmta02.emeryville.ca.mail.comcast.net [76.96.30.24])
	by core3.amsl.com (Postfix) with ESMTP id 6F0DB3A6AAF
	for <sip@ietf.org>; Mon, 24 Mar 2008 20:16:39 -0700 (PDT)
Received: from OMTA13.emeryville.ca.mail.comcast.net ([76.96.30.52])
	by QMTA02.emeryville.ca.mail.comcast.net with comcast
	id 5CUz1Z00817UAYkA207300; Tue, 25 Mar 2008 03:13:16 +0000
Received: from dragon.ariadne.com ([76.19.174.1])
	by OMTA13.emeryville.ca.mail.comcast.net with comcast
	id 5FEJ1Z00C02AVH08Z00000; Tue, 25 Mar 2008 03:14:20 +0000
X-Authority-Analysis: v=1.0 c=1 a=a9uC--Q5DiEbGjdTTqcA:9
	a=79hgVvfYcicBmplUtQcA:7 a=0qkCtxFJIsFD3aeXa0ZMGqPhPX4A:4
	a=Y6qChIQXU1wA:10 a=XF7b4UCPwd8A:10
Received: from dragon.ariadne.com (dragon.ariadne.com [127.0.0.1])
	by dragon.ariadne.com (8.12.8/8.12.8) with ESMTP id m2P3EIm4032370
	for <sip@ietf.org>; Mon, 24 Mar 2008 22:14:18 -0500
Received: (from worley@localhost)
	by dragon.ariadne.com (8.12.8/8.12.8/Submit) id m2P3EIDX032366;
	Mon, 24 Mar 2008 22:14:18 -0500
Date: Mon, 24 Mar 2008 22:14:18 -0500
Message-Id: <200803250314.m2P3EIDX032366@dragon.ariadne.com>
To: sip@ietf.org
From: Dale.Worley@comcast.net
Subject: [Sip] History-Info and retargeting
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
MIME-Version: 1.0
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

The core of the "retargeting" problem is that (relative to the current
situation), some rewritings of the request-URI are considered to be a
change of destination, a change of "name", and others are considered
to be indications of how to progress to the "implementation" of a
"name".  Current SIP does not distinguish these two.  And so, there
can be no hard-and-fast rules within current SIP as to what
constitutes a retargeting vs. a routing.  It is additional information
that must be supplied from a higher layer of the architecture.

The current proposals are fundamentally mechanisms to capture the
"target name", the request-URI as it was after the most recent
retargeting operation (or at the UAC, if there have been no
retargetings).

In draft-rosenberg-sip-ua-loose-route-02, the target name is kept in
the request-URI, and rewritings that are routings put their URIs in
Route headers.

In draft-holmberg-sip-target-uri-delivery-01, the target name is
stored in the Target header.

If we want to use History-Info for this purpose, we need a further
indicator, because History-Info does not now distinguish retargeting
from routing.  If we marked the URIs generated by retargeting
operations (and initial request-URIs, which are similar) with the
'target' field-parameter, then this example in
draft-rosenberg-sip-ua-loose-route-02:

   INVITE sip:user2@example.com SIP/2.0
   Route: <sip:ua2@192.0.2.1;lr>
   From: sip:user1@example.com;tag=555af9g7
   To: sip:user2@example.com

would be expressed as:

   INVITE sip:ua2@192.0.2.1 SIP/2.0
   From: sip:user1@example.com;tag=555af9g7
   To: sip:user2@example.com
   History-Info: <sip:user2@example.com>;target;index=1,
	<sip:ua2@192.0.2.1>;index=1.1;current

To find the target name, the recipient reads up the stack of
History-Info elements starting at the current element until it finds
an element tagged with 'target'.  Note that for this to work, the
elements need to be traversable in "address translation" order rather
than "forking" order; something like the 'redir' field-parameter needs
to be implemented.

An interesting consequence of this method is that the recipient can
tell not only the current target name, but the entire sequence of
target names, which may yield additional information.  (One can
imagine complex sequences of redirection what a subordinate set of
routing/retargeting is needed to get from a target name to its
destination.)

Dale
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Mon Mar 24 23:13:04 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id E28EE3A6B65;
	Mon, 24 Mar 2008 23:13:04 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.761
X-Spam-Level: 
X-Spam-Status: No, score=-100.761 tagged_above=-999 required=5
	tests=[AWL=-0.324, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id hW0tN3mW4QT2; Mon, 24 Mar 2008 23:13:04 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 092163A67AE;
	Mon, 24 Mar 2008 23:13:04 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 68E803A6960
	for <sip@core3.amsl.com>; Mon, 24 Mar 2008 23:13:02 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 3QkUsA2BJUa5 for <sip@core3.amsl.com>;
	Mon, 24 Mar 2008 23:13:01 -0700 (PDT)
Received: from taimen.tutpro.com (harjus.tutpro.com [192.98.100.3])
	by core3.amsl.com (Postfix) with ESMTP id 8B12F3A67EB
	for <sip@ietf.org>; Mon, 24 Mar 2008 23:13:01 -0700 (PDT)
Received: by taimen.tutpro.com (Postfix, from userid 1000)
	id ADC1733A874; Tue, 25 Mar 2008 08:12:23 +0200 (EET)
MIME-Version: 1.0
Message-ID: <18408.38855.583830.794104@harjus.tutpro.com>
Date: Tue, 25 Mar 2008 08:12:23 +0200
To: Dale.Worley@comcast.net
In-Reply-To: <200803250314.m2P3EIDX032366@dragon.ariadne.com>
References: <200803250314.m2P3EIDX032366@dragon.ariadne.com>
X-Mailer: VM 7.19 under Emacs 21.4.1
From: jh@tutpro.com (Juha Heinanen)
Cc: sip@ietf.org
Subject: [Sip]  History-Info and retargeting
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Dale.Worley@comcast.net writes:

 > To find the target name, the recipient reads up the stack of
 > History-Info elements starting at the current element until it finds
 > an element tagged with 'target'.  Note that for this to work, the
 > elements need to be traversable in "address translation" order rather
 > than "forking" order; something like the 'redir' field-parameter needs
 > to be implemented.

this sounds very complicated to me.  it is unlikely that sip ua vendors
would ever implement such algorithms.  same for proxies if they would
first need to process such things in order to be able to add new
components.

-- juha
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Tue Mar 25 06:00:26 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 2D2BA3A6EE2;
	Tue, 25 Mar 2008 06:00:26 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.728
X-Spam-Level: 
X-Spam-Status: No, score=-100.728 tagged_above=-999 required=5
	tests=[AWL=-0.292, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, HTML_MESSAGE=0.001, RDNS_NONE=0.1,
	USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 3kAmhZbizHyN; Tue, 25 Mar 2008 06:00:24 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id C706D28C145;
	Tue, 25 Mar 2008 06:00:24 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 69A0028C2CC
	for <sip@core3.amsl.com>; Tue, 25 Mar 2008 06:00:23 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id Rks2rnW-W3LE for <sip@core3.amsl.com>;
	Tue, 25 Mar 2008 06:00:17 -0700 (PDT)
Received: from gws03.hcl.in (gws03.mail.hcl.in [203.105.186.19])
	by core3.amsl.com (Postfix) with ESMTP id A67E43A6D97
	for <sip@ietf.org>; Tue, 25 Mar 2008 05:59:56 -0700 (PDT)
Received: from gws03.hcl.in (gws03 [10.249.64.134])
	by localhost.hcl.in (Postfix) with ESMTP
	id D0E7137C376; Tue, 25 Mar 2008 18:26:17 +0530 (IST)
Received: from chn-egw01-out.corp.hcl.in (unknown [10.249.64.37])by 
	gws03.hcl.in (Postfix) with ESMTPid 78A7837C475;
	Tue, 25 Mar 2008 18:21:47 +0530 (IST)
Received: from CHN-HCLT-EVS02.HCLT.CORP.HCL.IN ([10.101.26.15]) by 
	chn-egw01-out.corp.hcl.in with Microsoft SMTPSVC(6.0.3790.1830);
	Tue, 25 Mar 2008 18:21:47 +0530
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Tue, 25 Mar 2008 18:21:09 +0530
Message-ID: <B24A3277E6B11B4D9D53D272FE49B7C5011F1A4B@CHN-HCLT-EVS02.HCLT.CORP.HCL.IN>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Outbound draft] mid-dialog issue when edge-proxy reboots!
Thread-Index: AciOduYSSgCrLZ9QTua5tLd+SnU0Ag==
From: "Karthikeyan Gopal , TLS-Chennai" <g_karthikeyan@hcl.in>
To: <sip@ietf.org>, <sip-implementors@lists.cs.columbia.edu>
X-OriginalArrivalTime: 25 Mar 2008 12:51:47.0242 (UTC) 
	FILETIME=[FC6E20A0:01C88E76]
X-imss-version: 2.050
X-imss-result: Passed
X-imss-scanInfo: M:T L:E SM:1
X-imss-tmaseResult: TT:1 TS:-20.6453 TC:1F TRN:55 TV:5.0.1023(15808.003)
X-imss-scores: Clean:100.00000 C:0 M:0 S:0 R:0
X-imss-settings: Baseline:1 C:1 M:1 S:1 R:1 (0.0000 0.0000)
Subject: [Sip] [Outbound draft] mid-dialog issue when edge-proxy reboots!
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: multipart/mixed; boundary="===============0389551905=="
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

This is a multi-part message in MIME format.

--===============0389551905==
Content-class: urn:content-classes:message
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C88E76.E679565D"

This is a multi-part message in MIME format.

------_=_NextPart_001_01C88E76.E679565D
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable


Hi All,

=20

            In the (UAC ---- EdgeProxy ---- UAS) topology, the edge
proxy record-routes with the flow token as the user part=2E

Whenever any mid-dialog request arrives, the connection is retrieved and
the request is forwarded to the other end=2E

=20

            The edge proxy maintains a binding between the connection
with the UAC and the flow token in its alias table=2E

=20

            The flow token is generated with 20-octet crypto key as per
the draft=2E=20

            Suppose the edge proxy reboots=2E  Can it use the same key?

=20

            Unless the same key is used, then the flow token will be
different for the same instance-id=2E Then, the mid-dialog requests

cannot be forwarded=2E

=20

            So, should the key be stored persistently?

=20

Thanks in adv

KG

           =20

           =20



DISCLAIMER:
---------------------------------------------------------------------------=
--------------------------------------------

The contents of this e-mail and any attachment(s) are confidential and=
 intended for the named recipient(s) only=2E
It shall not attach any liability on the originator or HCL or its=
 affiliates=2E Any views or opinions presented in=20
this email are solely those of the author and may not necessarily reflect=
 the opinions of HCL or its affiliates=2E
Any form of reproduction, dissemination, copying, disclosure, modification,=
 distribution and / or publication of=20
this message without the prior written consent of the author of this e-mail=
 is strictly prohibited=2E If you have
received this email in error please delete it and notify the sender=
 immediately=2E Before opening any mail and=20
attachments please check them for viruses and defect=2E

---------------------------------------------------------------------------=
--------------------------------------------
------_=_NextPart_001_01C88E76.E679565D
Content-Type: text/html;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

<html xmlns:o=3D"urn:schemas-microsoft-com:office:office" xmlns:w=
=3D"urn:schemas-microsoft-com:office:word" xmlns=3D"http://www=2Ew3=
=2Eorg/TR/REC-html40">

<head>
<meta http-equiv=3DContent-Type content=3D"text/html; charset=3Dus-ascii">
<meta name=3DGenerator content=3D"Microsoft Word 11 (filtered medium)">
<style>
<!--
 /* Style Definitions */
 p=2EMsoNormal, li=2EMsoNormal, div=2EMsoNormal
	{margin:0in;
	margin-bottom:=2E0001pt;
	font-size:12=2E0pt;
	font-family:"Times New Roman";}
a:link, span=2EMsoHyperlink
	{color:blue;
	text-decoration:underline;}
a:visited, span=2EMsoHyperlinkFollowed
	{color:purple;
	text-decoration:underline;}
pre
	{margin:0in;
	margin-bottom:=2E0001pt;
	font-size:12=2E0pt;
	font-family:"Courier New";}
span=2EEmailStyle17
	{mso-style-type:personal-compose;
	font-family:Arial;
	color:windowtext;}
@page Section1
	{size:8=2E5in 11=2E0in;
	margin:1=2E0in 1=2E25in 1=2E0in 1=2E25in;}
div=2ESection1
	{page:Section1;}
-->
</style>

</head>

<body lang=3DEN-US link=3Dblue vlink=3Dpurple>

<div class=3DSection1>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span style=
=3D'font-size:10=2E0pt;
font-family:Arial'>Hi All,<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span style=
=3D'font-size:10=2E0pt;
font-family:Arial'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span style=
=3D'font-size:10=2E0pt;
font-family:Arial'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&n=
bsp;&nbsp; In
the (UAC ---- EdgeProxy ---- UAS) topology, the edge proxy record-routes=
 with
the flow token as the user part=2E<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span style=
=3D'font-size:10=2E0pt;
font-family:Arial'>Whenever any mid-dialog request arrives, the connection=
 is retrieved
and the request is forwarded to the other end=
=2E<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span style=
=3D'font-size:10=2E0pt;
font-family:Arial'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span style=
=3D'font-size:10=2E0pt;
font-family:Arial'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&n=
bsp;&nbsp; The
edge proxy maintains a binding between the connection with the UAC and the=
 flow
token in its alias table=2E<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span style=
=3D'font-size:10=2E0pt;
font-family:Arial'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span style=
=3D'font-size:10=2E0pt;
font-family:Arial'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&n=
bsp;&nbsp; The
flow token is generated with 20-octet crypto key as per the draft=2E=
 <o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span style=
=3D'font-size:10=2E0pt;
font-family:Arial'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&n=
bsp;&nbsp; Suppose
the edge proxy reboots=2E &nbsp;Can it use the same=
 key?<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span style=
=3D'font-size:10=2E0pt;
font-family:Arial'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span style=
=3D'font-size:10=2E0pt;
font-family:Arial'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&n=
bsp;&nbsp; Unless
the same key is used, then the flow token will be different for the same
instance-id=2E Then, the mid-dialog requests<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span style=
=3D'font-size:10=2E0pt;
font-family:Arial'>cannot be forwarded=2E<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span style=
=3D'font-size:10=2E0pt;
font-family:Arial'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span style=
=3D'font-size:10=2E0pt;
font-family:Arial'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&n=
bsp;&nbsp; So,
should the key be stored persistently?<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span style=
=3D'font-size:10=2E0pt;
font-family:Arial'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span style=
=3D'font-size:10=2E0pt;
font-family:Arial'>Thanks in adv<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span style=
=3D'font-size:10=2E0pt;
font-family:Arial'>KG<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span style=
=3D'font-size:10=2E0pt;
font-family:Arial'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&n=
bsp;&nbsp; <o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span style=
=3D'font-size:10=2E0pt;
font-family:Arial'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&n=
bsp;&nbsp; <o:p></o:p></span></font></p>

</div>

</body>

</html>

<table><tr><td bgcolor=3D#ffffff><font color=3D#000000>DISCLAIMER:<br>
---------------------------------------------------------------------------=
--------------------------------------------<br>
<br>
The contents of this e-mail and any attachment(s) are confidential and=
 intended for the named recipient(s) only=2E<br>
It shall not attach any liability on the originator or HCL or its=
 affiliates=2E Any views or opinions presented in <br>
this email are solely those of the author and may not necessarily reflect=
 the opinions of HCL or its affiliates=2E<br>
Any form of reproduction, dissemination, copying, disclosure, modification,=
 distribution and / or publication of <br>
this message without the prior written consent of the author of this e-mail=
 is strictly prohibited=2E If you have<br>
received this email in error please delete it and notify the sender=
 immediately=2E Before opening any mail and <br>
attachments please check them for viruses and defect=2E<br>
<br>
---------------------------------------------------------------------------=
--------------------------------------------<br>
</font></td></tr></table>
------_=_NextPart_001_01C88E76.E679565D--

--===============0389551905==
Content-Type: text/plain; charset="us-ascii"
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip
--===============0389551905==--


From sip-bounces@ietf.org  Tue Mar 25 09:32:29 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 1648228C508;
	Tue, 25 Mar 2008 09:32:29 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.626
X-Spam-Level: 
X-Spam-Status: No, score=-100.626 tagged_above=-999 required=5
	tests=[AWL=-0.189, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id IxFahBHHRuet; Tue, 25 Mar 2008 09:32:28 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id C67C13A6F24;
	Tue, 25 Mar 2008 09:31:39 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id F00D33A6F22
	for <sip@core3.amsl.com>; Tue, 25 Mar 2008 09:31:38 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id czmxGYOVSBpQ for <sip@core3.amsl.com>;
	Tue, 25 Mar 2008 09:31:38 -0700 (PDT)
Received: from QMTA06.westchester.pa.mail.comcast.net
	(qmta06.westchester.pa.mail.comcast.net [76.96.62.56])
	by core3.amsl.com (Postfix) with ESMTP id A57043A6A76
	for <sip@ietf.org>; Tue, 25 Mar 2008 09:31:33 -0700 (PDT)
Received: from OMTA10.westchester.pa.mail.comcast.net ([76.96.62.28])
	by QMTA06.westchester.pa.mail.comcast.net with comcast
	id 5RBx1Z0010cZkys560A500; Tue, 25 Mar 2008 16:28:11 +0000
Received: from dragon.ariadne.com ([76.19.174.1])
	by OMTA10.westchester.pa.mail.comcast.net with comcast
	id 5UUr1Z00A02AVH03W00000; Tue, 25 Mar 2008 16:28:51 +0000
X-Authority-Analysis: v=1.0 c=1 a=GEO7DVbfMN9O7LI67WgA:9
	a=R1_EWF8RZtN0-AH51nUA:7 a=XqvhUnryEV1YgnakO0fX9Tz2yeIA:4
	a=CWfAmLVWKswA:10
Received: from dragon.ariadne.com (dragon.ariadne.com [127.0.0.1])
	by dragon.ariadne.com (8.12.8/8.12.8) with ESMTP id m2PGTCm4025946
	for <sip@ietf.org>; Tue, 25 Mar 2008 11:29:12 -0500
Received: (from worley@localhost)
	by dragon.ariadne.com (8.12.8/8.12.8/Submit) id m2PGTC0N025942;
	Tue, 25 Mar 2008 11:29:12 -0500
Date: Tue, 25 Mar 2008 11:29:12 -0500
Message-Id: <200803251629.m2PGTC0N025942@dragon.ariadne.com>
To: sip@ietf.org
From: Dale.Worley@comcast.net
Subject: [Sip] Comparison of retargeting proposals
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
MIME-Version: 1.0
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

I've put together a comparison chart of the varous retargeting
proposals:

			ua-loose-route	target-uri	History-Info	URI-
							 (updated)	param.

Upward-compatible	N		Y		Y		Y
with RFC 3263?

Upward-compatible	depends		Y		Y		Y
for UA?

Upward-compatible for	Y		Y		Y		Y
intermediate proxies?

Complexity		low		low		high		low

Upward-compatible for	Y		Y		Y		N
intermediate routing?

Multiple targets?	N		N		Y		N


The proposals are:

ua-loose-route - draft-rosenberg-sip-ua-loose-route-02

target-uri - draft-holmberg-sip-target-uri-delivery-01

History-Info - History-Info (RFC 4244), with additional parameters as
needed

URI-param. - a URI-parameter like the 'target' proposed in RFC 4458


The criteria are:

Upward-compatible with RFC 3263?

If a message has no Route headers, is its destination to be determined
from the request-URI host-port as in RFC 3263?

Upward-compatible for UA?

Is the proposal compatible with UAs that use RFC 3263 to examine the
request-URI to determine if they are the destination of the request.

Complexity

Multiple targets?

Does the mechanism display more than the latest retargeted URI?


Dale
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Wed Mar 26 03:50:25 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id EDCCF28C548;
	Wed, 26 Mar 2008 03:50:25 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.606
X-Spam-Level: 
X-Spam-Status: No, score=-100.606 tagged_above=-999 required=5
	tests=[AWL=-0.169, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id LQ4edukOx4vY; Wed, 26 Mar 2008 03:50:25 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id F0A263A6CFD;
	Wed, 26 Mar 2008 03:50:24 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id D2DB03A6CFD
	for <sip@core3.amsl.com>; Wed, 26 Mar 2008 03:50:23 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id niFX9OrfZcUi for <sip@core3.amsl.com>;
	Wed, 26 Mar 2008 03:50:23 -0700 (PDT)
Received: from ihemail1.lucent.com (ihemail1.lucent.com [135.245.0.33])
	by core3.amsl.com (Postfix) with ESMTP id 5EC8F28C528
	for <sip@ietf.org>; Wed, 26 Mar 2008 03:50:06 -0700 (PDT)
Received: from ilexp03.ndc.lucent.com (h135-3-39-50.lucent.com [135.3.39.50])
	by ihemail1.lucent.com (8.13.8/IER-o) with ESMTP id m2QAlgmJ015916
	for <sip@ietf.org>; Wed, 26 Mar 2008 05:47:46 -0500 (CDT)
Received: from DEEXP02.DE.lucent.com ([135.248.187.66]) by
	ilexp03.ndc.lucent.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Wed, 26 Mar 2008 05:47:32 -0500
Received: from DEEXC1U01.de.lucent.com ([135.248.187.20]) by
	DEEXP02.DE.lucent.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Wed, 26 Mar 2008 11:47:28 +0100
X-MIMEOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Wed, 26 Mar 2008 11:47:25 +0100
Message-ID: <5D1A7985295922448D5550C94DE2918001D60CDB@DEEXC1U01.de.lucent.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Reminder of current WGLC
Thread-index: AciOz2iQiqfKw0mjQYyqiWq/RJSApA==
From: "DRAGE, Keith \(Keith\)" <drage@alcatel-lucent.com>
To: "SIP" <sip@ietf.org>
X-OriginalArrivalTime: 26 Mar 2008 10:47:28.0365 (UTC)
	FILETIME=[C90191D0:01C88F2E]
X-Scanned-By: MIMEDefang 2.57 on 135.245.2.33
Subject: [Sip] Reminder of current WGLC
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

We currently have three WGLC where we expect you to be actively
reviewing the document:


http://www.ietf.org/internet-drafts/draft-ietf-sip-xcapevent-01.txt

We expect comments on this document by 31st March 2008.


http://www.ietf.org/internet-drafts/draft-ietf-sip-media-security-requir
ements-04.txt

We expect comments on this document by 7th April 2008.


http://www.ietf.org/internet-drafts/draft-ietf-sip-outbound-13.txt

We expect comments on this document by 21st April 2008.



If you consider you need more time for reviewing any of these documents,
please mail the WG chairs with an intended date of review. 


Regards

Keith
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Wed Mar 26 10:46:55 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id D98B628C680;
	Wed, 26 Mar 2008 10:46:55 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.78
X-Spam-Level: 
X-Spam-Status: No, score=-100.78 tagged_above=-999 required=5
	tests=[AWL=-0.343, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id R5nauCN7AueD; Wed, 26 Mar 2008 10:46:55 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 87B6F28C697;
	Wed, 26 Mar 2008 10:46:52 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id AAA3C28C57C
	for <sip@core3.amsl.com>; Wed, 26 Mar 2008 10:18:31 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id LwesqI4fchme for <sip@core3.amsl.com>;
	Wed, 26 Mar 2008 10:18:30 -0700 (PDT)
Received: from balder-227.proper.com (Balder-227.Proper.COM [192.245.12.227])
	by core3.amsl.com (Postfix) with ESMTP id DAD1628C179
	for <sip@ietf.org>; Wed, 26 Mar 2008 10:18:30 -0700 (PDT)
Received: from [10.20.30.162] (dsl-63-249-108-169.cruzio.com [63.249.108.169])
	(authenticated bits=0)
	by balder-227.proper.com (8.14.2/8.14.2) with ESMTP id m2QHG9pr084869
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO)
	for <sip@ietf.org>; Wed, 26 Mar 2008 10:16:10 -0700 (MST)
	(envelope-from paul.hoffman@vpnc.org)
Mime-Version: 1.0
Message-Id: <p0624080bc41032558d3f@[10.20.30.162]>
Date: Wed, 26 Mar 2008 10:16:08 -0700
To: sip@ietf.org
From: Paul Hoffman <paul.hoffman@vpnc.org>
X-Mailman-Approved-At: Wed, 26 Mar 2008 10:46:51 -0700
Subject: [Sip] Comments on draft-ietf-sip-domain-certs-00
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Greetings. Robert Sparks mentioned to me that this document is in WG 
Last Call. I am familiar with PKIX and make these comments based on 
my knowledge of PKIX, not based on my small knowledge of SIP.

In general, this document seems fine. However, there are some points 
worth noting.

- Steve Kent's comment about domain names in the CN is right: there 
is no reason for this group to standardize on allowing domain names 
in CNs. We have found almost no CA software that in practice today 
will only put a domain name in the CN; those that even allow doing so 
(which thankfully is few) have an option for putting it in the 
subjectAltName. Because of this, I suggest taking out this option 
everywhere in the document; you'll get much better interoperability 
if you do.

- The logic in item 1 of section 7.1 is confusing. If there is no 
sip: URI, but there is a DNS name, why is accepting it a MAY? 
Shouldn't this be a MUST for interoperability? If it is only a MAY, 
where else would the relying party get a useful SIP host identity?

- The document incorrectly talks about Digest authentication as the 
only way that a SIP server running TLS can authenticate a client. 
Basic authentication is just as good in such a case, and has many 
properties that make it better than Digest when used under TLS. The 
document should only talk about HTTP authentication, not Digest or 
Basic.


--Paul Hoffman, Director
--VPN Consortium
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Wed Mar 26 11:49:16 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id CA50228C630;
	Wed, 26 Mar 2008 11:49:16 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.358
X-Spam-Level: 
X-Spam-Status: No, score=-100.358 tagged_above=-999 required=5
	tests=[AWL=0.079, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id vyj1AgcOOyCZ; Wed, 26 Mar 2008 11:49:15 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id D40933A6DD9;
	Wed, 26 Mar 2008 11:49:15 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id F18DA28C1A2
	for <sip@core3.amsl.com>; Wed, 26 Mar 2008 11:49:14 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id Cs5ixKi0k+0w for <sip@core3.amsl.com>;
	Wed, 26 Mar 2008 11:49:14 -0700 (PDT)
Received: from romeo.rtfm.com (unknown [74.95.2.173])
	by core3.amsl.com (Postfix) with ESMTP id 2E9EE3A6970
	for <sip@ietf.org>; Wed, 26 Mar 2008 11:49:14 -0700 (PDT)
Received: from romeo.rtfm.com (localhost.rtfm.com [127.0.0.1])
	by romeo.rtfm.com (Postfix) with ESMTP id 5F3AA5081A;
	Wed, 26 Mar 2008 11:48:40 -0700 (PDT)
Date: Wed, 26 Mar 2008 11:48:40 -0700
From: Eric Rescorla <ekr@networkresonance.com>
To: Paul Hoffman <paul.hoffman@vpnc.org>
In-Reply-To: <p0624080bc41032558d3f@[10.20.30.162]>
References: <p0624080bc41032558d3f@[10.20.30.162]>
User-Agent: Wanderlust/2.14.0 (Africa) Emacs/21.3 Mule/5.0 (SAKAKI)
MIME-Version: 1.0 (generated by SEMI 1.14.6 - "Maruoka")
Message-Id: <20080326184840.5F3AA5081A@romeo.rtfm.com>
Cc: sip@ietf.org
Subject: Re: [Sip] Comments on draft-ietf-sip-domain-certs-00
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

At Wed, 26 Mar 2008 10:16:08 -0700,
Paul Hoffman wrote:
> 
> Greetings. Robert Sparks mentioned to me that this document is in WG 
> Last Call. I am familiar with PKIX and make these comments based on 
> my knowledge of PKIX, not based on my small knowledge of SIP.
> 
> In general, this document seems fine. However, there are some points 
> worth noting.
> 
> - Steve Kent's comment about domain names in the CN is right: there 
> is no reason for this group to standardize on allowing domain names 
> in CNs. We have found almost no CA software that in practice today 
> will only put a domain name in the CN; those that even allow doing so 
> (which thankfully is few) have an option for putting it in the 
> subjectAltName. Because of this, I suggest taking out this option 
> everywhere in the document; you'll get much better interoperability 
> if you do.

So, I have no brief for one design or the other, but I think
we can agree that it's imperative that this work with certs
from commodity CAs. Has someone published a survey of which
CAs will give you SAN?



> - The document incorrectly talks about Digest authentication as the 
> only way that a SIP server running TLS can authenticate a client. 
> Basic authentication is just as good in such a case, and has many 
> properties that make it better than Digest when used under TLS. The 
> document should only talk about HTTP authentication, not Digest or 
> Basic.

SIP is not HTTP, and does not support Basic authentication. See S 28.1
of RFC 3261:

   o  Basic authentication has been removed entirely and its usage
      forbidden.


-Ekr

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Wed Mar 26 12:42:47 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 8EE7D3A6F78;
	Wed, 26 Mar 2008 12:42:47 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.696
X-Spam-Level: 
X-Spam-Status: No, score=-100.696 tagged_above=-999 required=5
	tests=[AWL=-0.259, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id roFwNCrDENFM; Wed, 26 Mar 2008 12:42:46 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 7A7833A6F62;
	Wed, 26 Mar 2008 12:42:46 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 6B59A3A6DBD
	for <sip@core3.amsl.com>; Wed, 26 Mar 2008 12:42:45 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id IdVOEgWS87Vo for <sip@core3.amsl.com>;
	Wed, 26 Mar 2008 12:42:44 -0700 (PDT)
Received: from ihemail1.lucent.com (ihemail1.lucent.com [135.245.0.33])
	by core3.amsl.com (Postfix) with ESMTP id 4C4073A6B43
	for <sip@ietf.org>; Wed, 26 Mar 2008 12:42:43 -0700 (PDT)
Received: from ihmail.ih.lucent.com (h135-1-218-70.lucent.com [135.1.218.70])
	by ihemail1.lucent.com (8.13.8/IER-o) with ESMTP id m2QJeNZ5015416; 
	Wed, 26 Mar 2008 14:40:23 -0500 (CDT)
Received: from [135.185.244.90] (il0015vkg1.ih.lucent.com [135.185.244.90])
	by ihmail.ih.lucent.com (8.11.7p1+Sun/8.12.11) with ESMTP id
	m2QJeMA09744; Wed, 26 Mar 2008 14:40:23 -0500 (CDT)
Message-ID: <47EAA6A6.8030107@alcatel-lucent.com>
Date: Wed, 26 Mar 2008 14:40:22 -0500
From: "Vijay K. Gurbani" <vkg@alcatel-lucent.com>
Organization: Bell Labs Security Technology Research Group
User-Agent: Thunderbird 2.0.0.6 (Windows/20070728)
MIME-Version: 1.0
To: Paul Hoffman <paul.hoffman@vpnc.org>
References: <p0624080bc41032558d3f@[10.20.30.162]>
In-Reply-To: <p0624080bc41032558d3f@[10.20.30.162]>
X-Scanned-By: MIMEDefang 2.57 on 135.245.2.33
Cc: sip@ietf.org
Subject: Re: [Sip] Comments on draft-ietf-sip-domain-certs-00
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Paul Hoffman wrote:
> Greetings. Robert Sparks mentioned to me that this document is in WG 
> Last Call. I am familiar with PKIX and make these comments based on 
> my knowledge of PKIX, not based on my small knowledge of SIP.

Paul: Thanks for your time on reading the drafts (my co-author and
I owe you a response on the sip-eku as well.)  But for this one,
please see inline.

> In general, this document seems fine. However, there are some points 
> worth noting.
> 
> - Steve Kent's comment about domain names in the CN is right: there 
> is no reason for this group to standardize on allowing domain names 
> in CNs. We have found almost no CA software that in practice today 
> will only put a domain name in the CN; those that even allow doing so 
> (which thankfully is few) have an option for putting it in the 
> subjectAltName. Because of this, I suggest taking out this option 
> everywhere in the document; you'll get much better interoperability 
> if you do.

Right; so when we first started this work, there was a tacit need
to support existing certificates -- not designed for the use of
SIP, per se -- that would not have the domain name in SAN, and
instead would have it in the CN (existing web certificates re-used
for SIP, for instance.)  These certificates would need to be
supported as well.  Hence the imperative to implementors to check
the CN if SAN is empty; the imperative to service providers to
use SAN; and in sip-eku, the imperative to a CA to insert the
identity in the SAN.

> - The logic in item 1 of section 7.1 is confusing. If there is no 
> sip: URI, but there is a DNS name, why is accepting it a MAY? 
> Shouldn't this be a MUST for interoperability? If it is only a MAY, 
> where else would the relying party get a useful SIP host identity?

Our thinking was that whether to accept a DNS type in the SAN
is up to the individual policies of the service provider.  Ought
this be made more explicit?  Or other avenues explored?

> - The document incorrectly talks about Digest authentication as the 
> only way that a SIP server running TLS can authenticate a client. 
> Basic authentication is just as good in such a case, and has many 
> properties that make it better than Digest when used under TLS. The 
> document should only talk about HTTP authentication, not Digest or 
> Basic.

RFC3261 deprecated Basic authentication.  Only Digest is
supported in rfc3261.

Thanks,

- vijay
-- 
Vijay K. Gurbani, Bell Laboratories, Alcatel-Lucent
2701 Lucent Lane, Rm. 9F-546, Lisle, Illinois 60532 (USA)
Email: vkg@{alcatel-lucent.com,bell-labs.com,acm.org}
WWW:   http://www.alcatel-lucent.com/bell-labs
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Wed Mar 26 12:54:38 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id E503D28C762;
	Wed, 26 Mar 2008 12:54:38 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -99.46
X-Spam-Level: 
X-Spam-Status: No, score=-99.46 tagged_above=-999 required=5
	tests=[AWL=-1.423, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, J_CHICKENPOX_12=0.6, J_CHICKENPOX_16=0.6,
	J_CHICKENPOX_25=0.6, J_CHICKENPOX_26=0.6, RDNS_NONE=0.1,
	USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id qT8Ny1qwcQjQ; Wed, 26 Mar 2008 12:54:38 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id E34C528C220;
	Wed, 26 Mar 2008 12:54:37 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id EF2F028C1FF
	for <sip@core3.amsl.com>; Wed, 26 Mar 2008 12:54:35 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id YELlACkcB69X for <sip@core3.amsl.com>;
	Wed, 26 Mar 2008 12:54:29 -0700 (PDT)
Received: from ihemail1.lucent.com (ihemail1.lucent.com [135.245.0.33])
	by core3.amsl.com (Postfix) with ESMTP id 3233D3A6B43
	for <sip@ietf.org>; Wed, 26 Mar 2008 12:54:28 -0700 (PDT)
Received: from ihmail.ih.lucent.com (h135-1-218-70.lucent.com [135.1.218.70])
	by ihemail1.lucent.com (8.13.8/IER-o) with ESMTP id m2QJq4Rc029713; 
	Wed, 26 Mar 2008 14:52:04 -0500 (CDT)
Received: from [135.185.244.90] (il0015vkg1.ih.lucent.com [135.185.244.90])
	by ihmail.ih.lucent.com (8.11.7p1+Sun/8.12.11) with ESMTP id
	m2QJq4A15977; Wed, 26 Mar 2008 14:52:04 -0500 (CDT)
Message-ID: <47EAA964.5030903@alcatel-lucent.com>
Date: Wed, 26 Mar 2008 14:52:04 -0500
From: "Vijay K. Gurbani" <vkg@alcatel-lucent.com>
Organization: Bell Labs Security Technology Research Group
User-Agent: Thunderbird 2.0.0.6 (Windows/20070728)
MIME-Version: 1.0
To: Eric Rescorla <ekr@networkresonance.com>
References: <p0624080bc41032558d3f@[10.20.30.162]>
	<20080326184840.5F3AA5081A@romeo.rtfm.com>
In-Reply-To: <20080326184840.5F3AA5081A@romeo.rtfm.com>
X-Scanned-By: MIMEDefang 2.57 on 135.245.2.33
Cc: sip@ietf.org
Subject: Re: [Sip] Comments on draft-ietf-sip-domain-certs-00
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Eric Rescorla wrote:
> So, I have no brief for one design or the other, but I think
> we can agree that it's imperative that this work with certs
> from commodity CAs. Has someone published a survey of which
> CAs will give you SAN?

Ekr: I don't know of a survey, but anecdotally speaking, at least
Thawte does.  I have a freebie certificate from Thawte for
email signing.  It has a couple of my identities in SAN:

[osiris:/u/vkg]$ x509 -noout -in vkg-Thawte-SAN.pem -text
Certificate:
     Data:
         Version: 3 (0x2)
         Serial Number:
             15:8d:ec:ff:b9:06:bf:76:49:7b:29:d6:e5:df:61:b8
         Signature Algorithm: sha1WithRSAEncryption
         Issuer: C=ZA, O=Thawte Consulting (Pty) Ltd., CN=Thawte 
Personal Freemail Issuing CA
...
        X509v3 extensions:
             X509v3 Subject Alternative Name:
                 email:vkg@acm.org, email:vkg@alcatel-lucent.com
             X509v3 Basic Constraints: critical
                 CA:FALSE

Thanks,

- vijay
-- 
Vijay K. Gurbani, Bell Laboratories, Alcatel-Lucent
2701 Lucent Lane, Rm. 9F-546, Lisle, Illinois 60532 (USA)
Email: vkg@{alcatel-lucent.com,bell-labs.com,acm.org}
WWW:   http://www.alcatel-lucent.com/bell-labs
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Wed Mar 26 13:11:13 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id B82163A6E3A;
	Wed, 26 Mar 2008 13:11:13 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.488
X-Spam-Level: 
X-Spam-Status: No, score=-100.488 tagged_above=-999 required=5
	tests=[AWL=-0.051, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id iP8uTVfJqLp7; Wed, 26 Mar 2008 13:11:06 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id E03DC3A695F;
	Wed, 26 Mar 2008 13:11:05 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 5B7323A6BDB
	for <sip@core3.amsl.com>; Wed, 26 Mar 2008 13:11:03 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id xQSkcv8X3zii for <sip@core3.amsl.com>;
	Wed, 26 Mar 2008 13:11:02 -0700 (PDT)
Received: from nylon.softarmor.com (nylon.softarmor.com [66.135.38.164])
	by core3.amsl.com (Postfix) with ESMTP id 5159D3A6885
	for <sip@ietf.org>; Wed, 26 Mar 2008 13:11:01 -0700 (PDT)
Received: from [192.168.2.103] (cpe-76-185-142-113.tx.res.rr.com
	[76.185.142.113] (may be forged)) (authenticated bits=0)
	by nylon.softarmor.com (8.13.8/8.13.8/Debian-3) with ESMTP id
	m2QK8dLq027646
	(version=TLSv1/SSLv3 cipher=AES128-SHA bits=128 verify=NOT);
	Wed, 26 Mar 2008 15:08:41 -0500
Message-Id: <9178D701-5FBF-4FF4-8880-692D5D9CF376@softarmor.com>
From: Dean Willis <dean.willis@softarmor.com>
To: Paul Hoffman <paul.hoffman@vpnc.org>
In-Reply-To: <p0624080bc41032558d3f@[10.20.30.162]>
Mime-Version: 1.0 (Apple Message framework v919.2)
Date: Wed, 26 Mar 2008 15:08:34 -0500
References: <p0624080bc41032558d3f@[10.20.30.162]>
X-Mailer: Apple Mail (2.919.2)
Cc: sip@ietf.org
Subject: Re: [Sip] Comments on draft-ietf-sip-domain-certs-00
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


On Mar 26, 2008, at 12:16 PM, Paul Hoffman wrote:
>
> - The document incorrectly talks about Digest authentication as the
> only way that a SIP server running TLS can authenticate a client.
> Basic authentication is just as good in such a case, and has many
> properties that make it better than Digest when used under TLS. The
> document should only talk about HTTP authentication, not Digest or
> Basic.

The argument here is that basic was explicitly deprecated in RFC 3261.  
Many people feel that this was a mistake, but that's what we have to  
work with. RFC 3261 even explicitly says (in Section 22):

> Note that due to its weak security, the usage of "Basic"  
> authentication has been deprecated. Servers MUST NOT accept  
> credentials using the "Basic" authorization scheme, and servers also  
> MUST NOT challenge with "Basic". This is a change from RFC 2543.

--
Dean

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Wed Mar 26 14:19:05 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 3537528C777;
	Wed, 26 Mar 2008 14:19:05 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -101.242
X-Spam-Level: 
X-Spam-Status: No, score=-101.242 tagged_above=-999 required=5
	tests=[AWL=-0.804, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id rGE-s5-8x+xp; Wed, 26 Mar 2008 14:19:04 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 24F2A28C6C2;
	Wed, 26 Mar 2008 14:19:04 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id DEBA03A695F
	for <sip@core3.amsl.com>; Wed, 26 Mar 2008 13:35:56 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id s8nlUleovAf8 for <sip@core3.amsl.com>;
	Wed, 26 Mar 2008 13:35:56 -0700 (PDT)
Received: from balder-227.proper.com (Balder-227.Proper.COM [192.245.12.227])
	by core3.amsl.com (Postfix) with ESMTP id EEC9C28C6CC
	for <sip@ietf.org>; Wed, 26 Mar 2008 13:35:55 -0700 (PDT)
Received: from [10.20.30.162] (adsl-66-125-125-65.dsl.pltn13.pacbell.net
	[66.125.125.65]) (authenticated bits=0)
	by balder-227.proper.com (8.14.2/8.14.2) with ESMTP id m2QKXWNV006347
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO)
	for <sip@ietf.org>; Wed, 26 Mar 2008 13:33:34 -0700 (MST)
	(envelope-from paul.hoffman@vpnc.org)
Mime-Version: 1.0
Message-Id: <p06240810c41061e32baf@[10.20.30.162]>
In-Reply-To: <9178D701-5FBF-4FF4-8880-692D5D9CF376@softarmor.com>
	<47EAA6A6.8030107@alcatel-lucent.com>
	<20080326184840.5F3AA5081A@romeo.rtfm.com>
References: <p0624080bc41032558d3f@[10.20.30.162]>
	<9178D701-5FBF-4FF4-8880-692D5D9CF376@softarmor.com>
	<p0624080bc41032558d3f@[10.20.30.162]>
	<47EAA6A6.8030107@alcatel-lucent.com>
	<p0624080bc41032558d3f@[10.20.30.162]>
	<20080326184840.5F3AA5081A@romeo.rtfm.com>
Date: Wed, 26 Mar 2008 13:33:15 -0700
To: sip@ietf.org
From: Paul Hoffman <paul.hoffman@vpnc.org>
X-Mailman-Approved-At: Wed, 26 Mar 2008 14:19:02 -0700
Subject: Re: [Sip] Comments on draft-ietf-sip-domain-certs-00
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

At 11:48 AM -0700 3/26/08, Eric Rescorla wrote:
>At Wed, 26 Mar 2008 10:16:08 -0700,
>Paul Hoffman wrote:
>  >
>>  Greetings. Robert Sparks mentioned to me that this document is in WG
>>  Last Call. I am familiar with PKIX and make these comments based on
>...snip...
>  > subjectAltName. Because of this, I suggest taking out this option
>>  everywhere in the document; you'll get much better interoperability
>>  if you do.
>
>So, I have no brief for one design or the other, but I think
>we can agree that it's imperative that this work with certs
>from commodity CAs. Has someone published a survey of which
>CAs will give you SAN?

 From what I have heard, all of them will, and all of them that don't 
ask "CN or SAN" give them in SAN. I could be wrong, of course. I'll 
ask on the PKIX list, and will report back.

>SIP is not HTTP, and does not support Basic authentication.

Got it. Sorry for missing that one.

At 2:40 PM -0500 3/26/08, Vijay K. Gurbani wrote:
>Right; so when we first started this work, there was a tacit need
>to support existing certificates -- not designed for the use of
>SIP, per se -- that would not have the domain name in SAN, and
>instead would have it in the CN (existing web certificates re-used
>for SIP, for instance.)  These certificates would need to be
>supported as well.  Hence the imperative to implementors to check
>the CN if SAN is empty; the imperative to service providers to
>use SAN; and in sip-eku, the imperative to a CA to insert the
>identity in the SAN.

Given that there is now lots of interop experience with SIP-over-TLS, 
has anyone checked the certs floating around for whether there are 
any using domain names in CN? If not, you shouldn't have to drag 
around that baggage.

>>- The logic in item 1 of section 7.1 is confusing. If there is no 
>>sip: URI, but there is a DNS name, why is accepting it a MAY? 
>>Shouldn't this be a MUST for interoperability? If it is only a MAY, 
>>where else would the relying party get a useful SIP host identity?
>
>Our thinking was that whether to accept a DNS type in the SAN
>is up to the individual policies of the service provider.  Ought
>this be made more explicit?  Or other avenues explored?

With the current wording, two systems will only be assured of having 
interoperability if they both have sip: URL in the certs. That goes 
directly against what you say above about the "tacit need" to support 
existing certificates. The "MAY" gives you an increased chance of 
interop, but far from a guarantee.

--Paul Hoffman, Director
--VPN Consortium
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu Mar 27 07:18:02 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 878E128C3B2;
	Thu, 27 Mar 2008 07:18:02 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.605
X-Spam-Level: 
X-Spam-Status: No, score=-100.605 tagged_above=-999 required=5
	tests=[AWL=-0.168, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 5WVW8zc1A5Du; Thu, 27 Mar 2008 07:18:01 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 8BD6E3A6DF4;
	Thu, 27 Mar 2008 07:18:01 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 6A9A83A6DF4
	for <sip@core3.amsl.com>; Thu, 27 Mar 2008 07:18:00 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id S8bfGBPhdm25 for <sip@core3.amsl.com>;
	Thu, 27 Mar 2008 07:17:59 -0700 (PDT)
Received: from ihemail3.lucent.com (ihemail3.lucent.com [135.245.0.37])
	by core3.amsl.com (Postfix) with ESMTP id 0A7F43A6938
	for <sip@ietf.org>; Thu, 27 Mar 2008 07:17:57 -0700 (PDT)
Received: from ihmail.ih.lucent.com (h135-1-218-70.lucent.com [135.1.218.70])
	by ihemail3.lucent.com (8.13.8/IER-o) with ESMTP id m2REFLv0023026; 
	Thu, 27 Mar 2008 09:15:21 -0500 (CDT)
Received: from [135.185.244.90] (il0015vkg1.ih.lucent.com [135.185.244.90])
	by ihmail.ih.lucent.com (8.11.7p1+Sun/8.12.11) with ESMTP id
	m2REFKA28479; Thu, 27 Mar 2008 09:15:21 -0500 (CDT)
Message-ID: <47EBABF8.1090604@alcatel-lucent.com>
Date: Thu, 27 Mar 2008 09:15:20 -0500
From: "Vijay K. Gurbani" <vkg@alcatel-lucent.com>
Organization: Bell Labs Security Technology Research Group
User-Agent: Thunderbird 2.0.0.6 (Windows/20070728)
MIME-Version: 1.0
To: Paul Hoffman <paul.hoffman@vpnc.org>
References: <p0624080bc41032558d3f@[10.20.30.162]>	<9178D701-5FBF-4FF4-8880-692D5D9CF376@softarmor.com>	<p0624080bc41032558d3f@[10.20.30.162]>	<47EAA6A6.8030107@alcatel-lucent.com>	<p0624080bc41032558d3f@[10.20.30.162]>	<20080326184840.5F3AA5081A@romeo.rtfm.com>
	<p06240810c41061e32baf@[10.20.30.162]>
In-Reply-To: <p06240810c41061e32baf@[10.20.30.162]>
X-Scanned-By: MIMEDefang 2.57 on 135.245.2.37
Cc: sip@ietf.org
Subject: Re: [Sip] Comments on draft-ietf-sip-domain-certs-00
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Paul Hoffman wrote:
>  From what I have heard, all of them will, and all of them that don't 
> ask "CN or SAN" give them in SAN. I could be wrong, of course. I'll 
> ask on the PKIX list, and will report back.

Paul: OK, good.  That would be invaluable data.

> Given that there is now lots of interop experience with SIP-over-TLS, 
> has anyone checked the certs floating around for whether there are 
> any using domain names in CN? If not, you shouldn't have to drag 
> around that baggage.

I believe -- and someone on the WG will correct me if I am wrong --
that most of our interop experience with SIP/TLS comes from the
SIPits (SIP Interoperability Events).  At the SIPits, the certs
are generated and handed off to individual implementations.  These
certs have the identity in the SAN.   So this is not that much of
an issue when we have control of how certs are created.

Here is the breakdown of TLS support in the last few SIPits:

SIPit Number       Support for TLS (Total implementations)
-----------------------------------------------------------
     16                43.8%      (57)
     18                41.0%      (73)
     19                45.0% [1]  (90)
                       36.0% [2]
     20                46.0% [1]  (90)
                       24.0% [2]
     21                49.0% [1]  (70)
                        6.0% [2]
[1] Server auth only
[2] Server or mutual auth

I do not have a good feel for the deployment of SIP/TLS out in
the wild.  If anyone in the WG is using a X.509 cert for TLS,
it would be great to have some data as to where the identities
are encoded, and how many there are, etc.

Thanks,

- vijay
-- 
Vijay K. Gurbani, Bell Laboratories, Alcatel-Lucent
2701 Lucent Lane, Rm. 9F-546, Lisle, Illinois 60532 (USA)
Email: vkg@{alcatel-lucent.com,bell-labs.com,acm.org}
WWW:   http://www.alcatel-lucent.com/bell-labs
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu Mar 27 09:56:48 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 1929B28C7CA;
	Thu, 27 Mar 2008 09:56:48 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.493
X-Spam-Level: 
X-Spam-Status: No, score=-100.493 tagged_above=-999 required=5
	tests=[AWL=-0.056, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id Vw7MI4c+Yw2F; Thu, 27 Mar 2008 09:56:47 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 378F728C309;
	Thu, 27 Mar 2008 09:56:47 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 98DF928C62A
	for <sip@core3.amsl.com>; Thu, 27 Mar 2008 09:56:45 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id SOT6mL81xppz for <sip@core3.amsl.com>;
	Thu, 27 Mar 2008 09:56:44 -0700 (PDT)
Received: from nylon.softarmor.com (nylon.softarmor.com [66.135.38.164])
	by core3.amsl.com (Postfix) with ESMTP id BADB628C4B7
	for <sip@ietf.org>; Thu, 27 Mar 2008 09:56:44 -0700 (PDT)
Received: from [192.168.2.103] (cpe-76-185-142-113.tx.res.rr.com
	[76.185.142.113]) (authenticated bits=0)
	by nylon.softarmor.com (8.13.8/8.13.8/Debian-3) with ESMTP id
	m2RGsM8n005065
	(version=TLSv1/SSLv3 cipher=AES128-SHA bits=128 verify=NOT);
	Thu, 27 Mar 2008 11:54:24 -0500
Message-Id: <D3FED187-CFF3-4C82-9379-097D45ABC216@softarmor.com>
From: Dean Willis <dean.willis@softarmor.com>
To: Paul Hoffman <paul.hoffman@vpnc.org>
In-Reply-To: <p06240810c41061e32baf@[10.20.30.162]>
Mime-Version: 1.0 (Apple Message framework v919.2)
Date: Thu, 27 Mar 2008 11:54:17 -0500
References: <p0624080bc41032558d3f@[10.20.30.162]>
	<9178D701-5FBF-4FF4-8880-692D5D9CF376@softarmor.com>
	<p0624080bc41032558d3f@[10.20.30.162]>
	<47EAA6A6.8030107@alcatel-lucent.com>
	<p0624080bc41032558d3f@[10.20.30.162]>
	<20080326184840.5F3AA5081A@romeo.rtfm.com>
	<p06240810c41061e32baf@[10.20.30.162]>
X-Mailer: Apple Mail (2.919.2)
Cc: sip@ietf.org
Subject: Re: [Sip] Comments on draft-ietf-sip-domain-certs-00
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


On Mar 26, 2008, at 3:33 PM, Paul Hoffman wrote:
> At 11:48 AM -0700 3/26/08, Eric Rescorla wrote:
>> At Wed, 26 Mar 2008 10:16:08 -0700,
>> Paul Hoffman wrote:
>>>
>>> Greetings. Robert Sparks mentioned to me that this document is in WG
>>> Last Call. I am familiar with PKIX and make these comments based on
>> ...snip...
>>> subjectAltName. Because of this, I suggest taking out this option
>>> everywhere in the document; you'll get much better interoperability
>>> if you do.
>>
>> So, I have no brief for one design or the other, but I think
>> we can agree that it's imperative that this work with certs
>> from commodity CAs. Has someone published a survey of which
>> CAs will give you SAN?
>
> From what I have heard, all of them will, and all of them that don't
> ask "CN or SAN" give them in SAN. I could be wrong, of course. I'll
> ask on the PKIX list, and will report back.

OpenSSL can generate SAN. None of my certs have it .

Oddly enough, the SAN settings appear to go into the master config  
file and affect every CSR generated. So you have to reconfigure the  
software for each CSR generated. Yuck.

--
Dean

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu Mar 27 10:21:51 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id E20853A7033;
	Thu, 27 Mar 2008 10:21:50 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.301
X-Spam-Level: 
X-Spam-Status: No, score=-100.301 tagged_above=-999 required=5
	tests=[AWL=-0.464, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, J_CHICKENPOX_25=0.6, RDNS_NONE=0.1,
	USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id ySrk58rLwwSl; Thu, 27 Mar 2008 10:21:39 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 3F5C63A6AED;
	Thu, 27 Mar 2008 10:21:31 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 1B26528C650
	for <sip@core3.amsl.com>; Thu, 27 Mar 2008 10:21:28 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id QYiPdgFq5yEG for <sip@core3.amsl.com>;
	Thu, 27 Mar 2008 10:21:27 -0700 (PDT)
Received: from ihemail3.lucent.com (ihemail3.lucent.com [135.245.0.37])
	by core3.amsl.com (Postfix) with ESMTP id B892228C75A
	for <sip@ietf.org>; Thu, 27 Mar 2008 10:20:15 -0700 (PDT)
Received: from ihmail.ih.lucent.com (h135-1-218-70.lucent.com [135.1.218.70])
	by ihemail3.lucent.com (8.13.8/IER-o) with ESMTP id m2RHHtbu022785; 
	Thu, 27 Mar 2008 12:17:55 -0500 (CDT)
Received: from [135.185.244.90] (il0015vkg1.ih.lucent.com [135.185.244.90])
	by ihmail.ih.lucent.com (8.11.7p1+Sun/8.12.11) with ESMTP id
	m2RHHsA08755; Thu, 27 Mar 2008 12:17:54 -0500 (CDT)
Message-ID: <47EBD6C2.7010406@alcatel-lucent.com>
Date: Thu, 27 Mar 2008 12:17:54 -0500
From: "Vijay K. Gurbani" <vkg@alcatel-lucent.com>
Organization: Bell Labs Security Technology Research Group
User-Agent: Thunderbird 2.0.0.6 (Windows/20070728)
MIME-Version: 1.0
To: Dean Willis <dean.willis@softarmor.com>
References: <p0624080bc41032558d3f@[10.20.30.162]>	<9178D701-5FBF-4FF4-8880-692D5D9CF376@softarmor.com>	<p0624080bc41032558d3f@[10.20.30.162]>	<47EAA6A6.8030107@alcatel-lucent.com>	<p0624080bc41032558d3f@[10.20.30.162]>	<20080326184840.5F3AA5081A@romeo.rtfm.com>	<p06240810c41061e32baf@[10.20.30.162]>
	<D3FED187-CFF3-4C82-9379-097D45ABC216@softarmor.com>
In-Reply-To: <D3FED187-CFF3-4C82-9379-097D45ABC216@softarmor.com>
X-Scanned-By: MIMEDefang 2.57 on 135.245.2.37
Cc: sip@ietf.org
Subject: Re: [Sip] Comments on draft-ietf-sip-domain-certs-00
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Dean Willis wrote:
> OpenSSL can generate SAN. None of my certs have it .
> 
> Oddly enough, the SAN settings appear to go into the master config  
> file and affect every CSR generated. So you have to reconfigure the  
> software for each CSR generated. Yuck.

Could you not use the -extfile parameter to the "openssl x509 -req"
command?  In other words:

$ openssl x509 -req -in <...>.pem -extfile foo.cfg -extensions v3 ...

and in foo.cfg

[ v3 ]
subjectKeyIdentifier   = hash
basicConstraints       = CA:false
subjectAltName         = DNS:foo.example.com, URI:sip:foo.com

This works for me, of course, at least for the limited use that
I put openssl x509 command to.  I cannot speak for the CAs that
do this for a living on how they put SANs in the CSR they get.

- vijay
-- 
Vijay K. Gurbani, Bell Laboratories, Alcatel-Lucent
2701 Lucent Lane, Rm. 9F-546, Lisle, Illinois 60532 (USA)
Email: vkg@{alcatel-lucent.com,bell-labs.com,acm.org}
WWW:   http://www.alcatel-lucent.com/bell-labs
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu Mar 27 10:41:56 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id C544628C39B;
	Thu, 27 Mar 2008 10:41:56 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.598
X-Spam-Level: 
X-Spam-Status: No, score=-100.598 tagged_above=-999 required=5
	tests=[AWL=-0.161, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 8P5imp1tOCg7; Thu, 27 Mar 2008 10:41:55 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id D1FA23A6A91;
	Thu, 27 Mar 2008 10:41:55 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 9DF803A6948
	for <sip@core3.amsl.com>; Thu, 27 Mar 2008 10:41:54 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id C+VQmGrth+bg for <sip@core3.amsl.com>;
	Thu, 27 Mar 2008 10:41:53 -0700 (PDT)
Received: from balder-227.proper.com (Balder-227.Proper.COM [192.245.12.227])
	by core3.amsl.com (Postfix) with ESMTP id DAE473A6938
	for <sip@ietf.org>; Thu, 27 Mar 2008 10:41:53 -0700 (PDT)
Received: from [10.20.30.162] (adsl-66-125-125-65.dsl.pltn13.pacbell.net
	[66.125.125.65]) (authenticated bits=0)
	by balder-227.proper.com (8.14.2/8.14.2) with ESMTP id m2RHdWEg020735
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO);
	Thu, 27 Mar 2008 10:39:33 -0700 (MST)
	(envelope-from paul.hoffman@vpnc.org)
Mime-Version: 1.0
Message-Id: <p06240827c4118b1d70fa@[10.20.30.162]>
In-Reply-To: <D3FED187-CFF3-4C82-9379-097D45ABC216@softarmor.com>
References: <p0624080bc41032558d3f@[10.20.30.162]>
	<9178D701-5FBF-4FF4-8880-692D5D9CF376@softarmor.com>
	<p0624080bc41032558d3f@[10.20.30.162]>
	<47EAA6A6.8030107@alcatel-lucent.com>
	<p0624080bc41032558d3f@[10.20.30.162]>
	<20080326184840.5F3AA5081A@romeo.rtfm.com>
	<p06240810c41061e32baf@[10.20.30.162]>
	<D3FED187-CFF3-4C82-9379-097D45ABC216@softarmor.com>
Date: Thu, 27 Mar 2008 10:39:31 -0700
To: Dean Willis <dean.willis@softarmor.com>
From: Paul Hoffman <paul.hoffman@vpnc.org>
Cc: sip@ietf.org
Subject: Re: [Sip] Comments on draft-ietf-sip-domain-certs-00
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

At 11:54 AM -0500 3/27/08, Dean Willis wrote:
>OpenSSL can generate SAN. None of my certs have it .

Off-listk, Dean told me that his certs are CA certs, which indeed 
should not have the domain name in the subjectAltName.

But the bigger question is: how important is being able to handle 
legacy certificates for this protocol? In specific, section 7.1 of 
the document says:

    I-D.sip-eku [9] describes the method to validate any Extended Key
    Usage values found in the certificate for a SIP domain.
    Implementations MUST perform the checks prescribed by that
    specification.

    Given an X.509 certificate that the above checks have found to be
    acceptable, the following describes how to determine what SIP
    identity or identities it contains.  . . .

Because you are mandating that the certificates have to have the new 
EKU (or, if you adopt my earlier suggestion, a new PKIX extension 
that is better suited to your needs), then you can also mandate that 
the new certs need to follow RFC 3280 and put the domain name in the 
subjectAltName. This is simpler, and will certainly lead to better 
interoperability.

--Paul Hoffman, Director
--VPN Consortium
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu Mar 27 10:56:13 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 2C1C228C7EC;
	Thu, 27 Mar 2008 10:56:13 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.552
X-Spam-Level: 
X-Spam-Status: No, score=-100.552 tagged_above=-999 required=5
	tests=[AWL=-0.115, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id Z-mDK03jwRjd; Thu, 27 Mar 2008 10:56:08 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id D947B3A6CB7;
	Thu, 27 Mar 2008 10:56:08 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 835AD3A6FE1
	for <sip@core3.amsl.com>; Thu, 27 Mar 2008 10:56:07 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id b5b7elFfrPYf for <sip@core3.amsl.com>;
	Thu, 27 Mar 2008 10:56:06 -0700 (PDT)
Received: from ihemail2.lucent.com (ihemail2.lucent.com [135.245.0.35])
	by core3.amsl.com (Postfix) with ESMTP id 592053A67F7
	for <sip@ietf.org>; Thu, 27 Mar 2008 10:56:06 -0700 (PDT)
Received: from ihmail.ih.lucent.com (h135-1-218-70.lucent.com [135.1.218.70])
	by ihemail2.lucent.com (8.13.8/IER-o) with ESMTP id m2RHrj1M022841; 
	Thu, 27 Mar 2008 12:53:46 -0500 (CDT)
Received: from [135.185.244.90] (il0015vkg1.ih.lucent.com [135.185.244.90])
	by ihmail.ih.lucent.com (8.11.7p1+Sun/8.12.11) with ESMTP id
	m2RHrjA05954; Thu, 27 Mar 2008 12:53:45 -0500 (CDT)
Message-ID: <47EBDF29.8060700@alcatel-lucent.com>
Date: Thu, 27 Mar 2008 12:53:45 -0500
From: "Vijay K. Gurbani" <vkg@alcatel-lucent.com>
Organization: Bell Labs Security Technology Research Group
User-Agent: Thunderbird 2.0.0.6 (Windows/20070728)
MIME-Version: 1.0
To: Paul Hoffman <paul.hoffman@vpnc.org>
References: <p0624080bc41032558d3f@[10.20.30.162]>	<9178D701-5FBF-4FF4-8880-692D5D9CF376@softarmor.com>	<p0624080bc41032558d3f@[10.20.30.162]>	<47EAA6A6.8030107@alcatel-lucent.com>	<p0624080bc41032558d3f@[10.20.30.162]>	<20080326184840.5F3AA5081A@romeo.rtfm.com>	<p06240810c41061e32baf@[10.20.30.162]>	<D3FED187-CFF3-4C82-9379-097D45ABC216@softarmor.com>
	<p06240827c4118b1d70fa@[10.20.30.162]>
In-Reply-To: <p06240827c4118b1d70fa@[10.20.30.162]>
X-Scanned-By: MIMEDefang 2.57 on 135.245.2.35
Cc: sip@ietf.org
Subject: Re: [Sip] Comments on draft-ietf-sip-domain-certs-00
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Paul Hoffman wrote:
> At 11:54 AM -0500 3/27/08, Dean Willis wrote:
>> OpenSSL can generate SAN. None of my certs have it .
> 
> Off-list, Dean told me that his certs are CA certs, which indeed 
> should not have the domain name in the subjectAltName.
> 
> But the bigger question is: how important is being able to handle 
> legacy certificates for this protocol? 

The WG consensus so far has been that handling legacy certificates
is very important.  If we (i.e., the author team) get guidance
from the ADs and SecDir that this can be relaxed, then we can do
as you suggest.

> Because you are mandating that the certificates have to have the new 
> EKU [...]

Our thought was to have *new* certificates be issued with the SIP EKU
and identity in SAN.  However, legacy certificates will most certainly
not have the SIP EKU, but could possibly have the identity in SAN.
Thus the rules you see in the drafts to allow legacy certificates to
be used while supporting newly issued certificates.

Thanks,

- vijay
-- 
Vijay K. Gurbani, Bell Laboratories, Alcatel-Lucent
2701 Lucent Lane, Rm. 9F-546, Lisle, Illinois 60532 (USA)
Email: vkg@{alcatel-lucent.com,bell-labs.com,acm.org}
WWW:   http://www.alcatel-lucent.com/bell-labs
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu Mar 27 11:03:51 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id DD20628C75A;
	Thu, 27 Mar 2008 11:03:50 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.762
X-Spam-Level: 
X-Spam-Status: No, score=-100.762 tagged_above=-999 required=5
	tests=[AWL=-0.325, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id zkaWxiMNlXPq; Thu, 27 Mar 2008 11:03:49 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id A821828C3B7;
	Thu, 27 Mar 2008 11:03:49 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id DB3C728C3B7
	for <sip@core3.amsl.com>; Thu, 27 Mar 2008 11:03:47 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id c92Y9J+9pWv7 for <sip@core3.amsl.com>;
	Thu, 27 Mar 2008 11:03:47 -0700 (PDT)
Received: from kilo.rtfm.com (ip20.commerce.net [157.22.41.20])
	by core3.amsl.com (Postfix) with ESMTP id 065F23A6FF8
	for <sip@ietf.org>; Thu, 27 Mar 2008 11:03:47 -0700 (PDT)
Received: from kilo.local (localhost [127.0.0.1])
	by kilo.rtfm.com (Postfix) with ESMTP id 14A291C7994;
	Thu, 27 Mar 2008 11:01:27 -0700 (PDT)
Date: Thu, 27 Mar 2008 11:01:26 -0700
From: Eric Rescorla <ekr@networkresonance.com>
To: Paul Hoffman <paul.hoffman@vpnc.org>
In-Reply-To: <p06240827c4118b1d70fa@[10.20.30.162]>
References: <p0624080bc41032558d3f@[10.20.30.162]>
	<9178D701-5FBF-4FF4-8880-692D5D9CF376@softarmor.com>
	<47EAA6A6.8030107@alcatel-lucent.com>
	<20080326184840.5F3AA5081A@romeo.rtfm.com>
	<p06240810c41061e32baf@[10.20.30.162]>
	<D3FED187-CFF3-4C82-9379-097D45ABC216@softarmor.com>
	<p06240827c4118b1d70fa@[10.20.30.162]>
User-Agent: Wanderlust/2.15.5 (Almost Unreal) Emacs/22.1 Mule/5.0 (SAKAKI)
MIME-Version: 1.0 (generated by SEMI 1.14.6 - "Maruoka")
Message-Id: <20080327180127.14A291C7994@kilo.rtfm.com>
Cc: sip@ietf.org, Dean Willis <dean.willis@softarmor.com>
Subject: Re: [Sip] Comments on draft-ietf-sip-domain-certs-00
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

At Thu, 27 Mar 2008 10:39:31 -0700,
Paul Hoffman wrote:
> 
> At 11:54 AM -0500 3/27/08, Dean Willis wrote:
> >OpenSSL can generate SAN. None of my certs have it .
> 
> Off-listk, Dean told me that his certs are CA certs, which indeed 
> should not have the domain name in the subjectAltName.
> 
> But the bigger question is: how important is being able to handle 
> legacy certificates for this protocol?

Uh, absolutely critical? If people have to jump through major 
hoops to get certs for SIP, they won't.

> In specific, section 7.1 of 
> the document says:
> 
>     I-D.sip-eku [9] describes the method to validate any Extended Key
>     Usage values found in the certificate for a SIP domain.
>     Implementations MUST perform the checks prescribed by that
>     specification.

1. This isn't a requirement that the certificates HAVE this EKU,
   just that you validate it.
2. It's not clear to me there is consensus for this now levy.

-Ekr

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu Mar 27 11:55:04 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id AE09928C49A;
	Thu, 27 Mar 2008 11:55:04 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.571
X-Spam-Level: 
X-Spam-Status: No, score=-100.571 tagged_above=-999 required=5
	tests=[AWL=-0.134, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id LaUKWFZXyL90; Thu, 27 Mar 2008 11:55:03 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 79C363A6B98;
	Thu, 27 Mar 2008 11:55:03 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id ECD0728C0EE
	for <sip@core3.amsl.com>; Thu, 27 Mar 2008 11:55:01 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 4Ct1t1psAVtT for <sip@core3.amsl.com>;
	Thu, 27 Mar 2008 11:55:01 -0700 (PDT)
Received: from balder-227.proper.com (Balder-227.Proper.COM [192.245.12.227])
	by core3.amsl.com (Postfix) with ESMTP id 468183A6827
	for <sip@ietf.org>; Thu, 27 Mar 2008 11:55:01 -0700 (PDT)
Received: from [165.227.249.202] (adsl-66-125-125-65.dsl.pltn13.pacbell.net
	[66.125.125.65]) (authenticated bits=0)
	by balder-227.proper.com (8.14.2/8.14.2) with ESMTP id m2RIp5xK027370
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO);
	Thu, 27 Mar 2008 11:51:07 -0700 (MST)
	(envelope-from paul.hoffman@vpnc.org)
Mime-Version: 1.0
Message-Id: <p06240803c4119c9b8a83@[165.227.249.202]>
In-Reply-To: <47EBDF29.8060700@alcatel-lucent.com>
References: <p0624080bc41032558d3f@[10.20.30.162]>
	<9178D701-5FBF-4FF4-8880-692D5D9CF376@softarmor.com>
	<p0624080bc41032558d3f@[10.20.30.162]>
	<47EAA6A6.8030107@alcatel-lucent.com>
	<p0624080bc41032558d3f@[10.20.30.162]>
	<20080326184840.5F3AA5081A@romeo.rtfm.com>
	<p06240810c41061e32baf@[10.20.30.162]>
	<D3FED187-CFF3-4C82-9379-097D45ABC216@softarmor.com>
	<p06240827c4118b1d70fa@[10.20.30.162]>
	<47EBDF29.8060700@alcatel-lucent.com>
Date: Thu, 27 Mar 2008 11:51:04 -0700
To: "Vijay K. Gurbani" <vkg@alcatel-lucent.com>
From: Paul Hoffman <paul.hoffman@vpnc.org>
Cc: sip@ietf.org
Subject: Re: [Sip] Comments on draft-ietf-sip-domain-certs-00
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

At 12:53 PM -0500 3/27/08, Vijay K. Gurbani wrote:
>The WG consensus so far has been that handling legacy certificates
>is very important.  If we (i.e., the author team) get guidance
>from the ADs and SecDir that this can be relaxed, then we can do
>as you suggest.

If the WG wants to handle legacy certs, you certainly need to say how 
and hope for the best. Assume that interoperability will be less than 
full. For example, you haven't covered certificates that use the 
DomainComponent method of expressing domain names; not that you want 
to go there if you don't have to...

--Paul Hoffman, Director
--VPN Consortium
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu Mar 27 13:01:23 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id C544228C82E;
	Thu, 27 Mar 2008 13:01:23 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.605
X-Spam-Level: 
X-Spam-Status: No, score=-100.605 tagged_above=-999 required=5
	tests=[AWL=-0.168, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id eeytwgs29TCV; Thu, 27 Mar 2008 13:01:23 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 819723A6D79;
	Thu, 27 Mar 2008 13:01:10 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id E292C28C7A8
	for <sip@core3.amsl.com>; Thu, 27 Mar 2008 13:01:08 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id KyXJ0KWII2BW for <sip@core3.amsl.com>;
	Thu, 27 Mar 2008 13:01:03 -0700 (PDT)
Received: from ihemail4.lucent.com (ihemail4.lucent.com [135.245.0.39])
	by core3.amsl.com (Postfix) with ESMTP id 23C503A6A1A
	for <sip@ietf.org>; Thu, 27 Mar 2008 13:01:03 -0700 (PDT)
Received: from ilexp02.ndc.lucent.com (h135-3-39-2.lucent.com [135.3.39.2])
	by ihemail4.lucent.com (8.13.8/IER-o) with ESMTP id m2RJwJwt003658;
	Thu, 27 Mar 2008 14:58:40 -0500 (CDT)
Received: from DEEXP02.DE.lucent.com ([135.248.187.66]) by
	ilexp02.ndc.lucent.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Thu, 27 Mar 2008 14:58:31 -0500
Received: from DEEXC1U01.de.lucent.com ([135.248.187.20]) by
	DEEXP02.DE.lucent.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Thu, 27 Mar 2008 20:58:28 +0100
X-MIMEOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Thu, 27 Mar 2008 20:58:27 +0100
Message-ID: <5D1A7985295922448D5550C94DE2918001D9EBA7@DEEXC1U01.de.lucent.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Comments on draft-ietf-sip-domain-certs and draft-ietf-sip-eku
Thread-index: AciQROwZI3KVWKB7QQWhqAMhgCn9sQ==
From: "DRAGE, Keith \(Keith\)" <drage@alcatel-lucent.com>
To: "SIP" <sip@ietf.org>
X-OriginalArrivalTime: 27 Mar 2008 19:58:28.0525 (UTC)
	FILETIME=[ECCF65D0:01C89044]
X-Scanned-By: MIMEDefang 2.57 on 135.245.2.39
Subject: [Sip] Comments on draft-ietf-sip-domain-certs and draft-ietf-sip-eku
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

I have a quick discussion in Philadephia with ekr about versions of
various documents referenced.

Essentially the ASN.1 references are a couple of versions out of date.
The X.509 references are also a couple of versions out of date. If you
can follow the poor formatting of the data below, this represents the
current versions (but you should be able to get this from the ITU-T
website. Ekr could think of no reason why the current versions should
not be used.

As regards the main TLS references (and this has wider applicability
than just these drafts) version 1.2 has now been approved and is nearly
in the RFC editor's queue.

http://www.ietf.org/internet-drafts/draft-ietf-tls-rfc4346-bis-10.txt

I believe it is therefore appropriate to make all TLS references in
current sip drafts to this document.

For those using the extensions, we also need to keep an eye on:

http://www.ietf.org/internet-drafts/draft-ietf-tls-rfc4366-bis-02.txt

Which is still in progress, but I understand not far off approval. I
advise all draft editors to consult with the editors of this document as
to whether to use the existing RFC 4366 or the bis document as your
reference. Which one is used will depend on the completion dates for
both documents.

Regards

Keith

 

Number 	Date 	Title 	Status 
X.509 (03/00) 
3/31/2000 00:00:00 
  	Information technology - Open Systems Interconnection - The
Directory: Public-key and attribute certificate frameworks 	In Force

X.509 (08/05) 
8/29/2005 00:00:00 
  	Information technology - Open Systems Interconnection - The
Directory: Public-key and attribute certificate frameworks 	In Force
(Main) 
X.509 (2005) Corrigendum 1 (01/07) 
1/13/2007 00:00:00 
  		In Force 
X.509 (2000) Technical Cor.1 (10/01) 
10/29/2001 00:00:00 
  		In Force 
X.509 (2000) Technical Cor.2 (04/02) 
4/13/2002 00:00:00 
  		In Force 
X.509 (2000) Corrigendum 3 (04/04) 
4/29/2004 00:00:00 
  		In Force 
X.509 (2000) Corrigendum 4 (01/07) 
1/13/2007 00:00:00 
  		Pre-Published 


Number 	Date 	Title 	Status 
X.680 (07/02) 
7/14/2002 00:00:00 
  	Information technology - Abstract Syntax Notation One (ASN.1):
Specification of basic notation 	In Force (Main) 
X.680-X.693 (07/02) 
7/14/2002 00:00:00 
  	Information Technology - Abstract Syntax Notation One (ASN.1) &
ASN.1 encoding rules 	In Force (Main) 
X.680 (2002) Amendment 2 (08/04) 
8/29/2004 00:00:00 
  	Alignment with changes made to ITU-T Rec. X.660 | ISO/IEC 9834-1
for identifiers in object identifier value notation 	In Force 
X.680 (2002) Amendment 1 (10/03) 
10/29/2003 00:00:00 
  	Support for EXTENDED-XER 	In Force 
X.680 (2002) Corrigendum 1 (05/05) 
5/14/2005 00:00:00 
  		In Force 
X.680 (2002) Amendment 3 (06/06) 
6/13/2006 00:00:00 
  	Time type support 	In Force 
X.680 (2002) Amendment 4 (05/07) 
5/29/2007 00:00:00 
  	PER encoding instructions 	Pre-Published 


Number 	Date 	Title 	Status 
X.680-X.693 (07/02) 
7/14/2002 00:00:00 
  	Information Technology - Abstract Syntax Notation One (ASN.1) &
ASN.1 encoding rules 	In Force (Main) 
X.690 (07/02) 
7/14/2002 00:00:00 
  	Information technology - ASN.1 encoding rules: Specification of
Basic Encoding Rules (BER), Canonical Encoding Rules (CER) and
Distinguished Encoding Rules (DER) 	In Force (Main) 
X.690 (2002) Amendment 1 (10/03) 
10/29/2003 00:00:00 
  	Support for EXTENDED-XER 	In Force 
X.690 (2002) Amendment 2 (06/06) 
6/13/2006 00:00:00 
  	Time type support 	In Force 
X.690 (2002) Corrigendum 1 (05/07) 
5/29/2007 00:00:00 
  	Clarification of certain CER encodings 	In Force 
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu Mar 27 19:37:25 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 2A4663A6B5A;
	Thu, 27 Mar 2008 19:37:25 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -94.407
X-Spam-Level: 
X-Spam-Status: No, score=-94.407 tagged_above=-999 required=5
	tests=[AWL=-0.770, BAYES_50=0.001, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, J_CHICKENPOX_12=0.6, J_CHICKENPOX_16=0.6,
	J_CHICKENPOX_18=0.6, J_CHICKENPOX_210=0.6, J_CHICKENPOX_25=0.6,
	J_CHICKENPOX_26=0.6, J_CHICKENPOX_33=0.6, RDNS_NONE=0.1,
	USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id YXcBBCQ1dfZW; Thu, 27 Mar 2008 19:37:23 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id C745B3A6923;
	Thu, 27 Mar 2008 19:37:23 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id E298E3A6923
	for <sip@core3.amsl.com>; Thu, 27 Mar 2008 19:37:21 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id zLAO1wmtPdZ0 for <sip@core3.amsl.com>;
	Thu, 27 Mar 2008 19:37:20 -0700 (PDT)
Received: from sj-iport-5.cisco.com (sj-iport-5.cisco.com [171.68.10.87])
	by core3.amsl.com (Postfix) with ESMTP id B4C6F3A63D3
	for <sip@ietf.org>; Thu, 27 Mar 2008 19:37:20 -0700 (PDT)
X-IronPort-AV: E=Sophos;i="4.25,567,1199692800"; d="scan'208";a="18873556"
Received: from sj-dkim-4.cisco.com ([171.71.179.196])
	by sj-iport-5.cisco.com with ESMTP; 27 Mar 2008 19:37:20 -0700
Received: from sj-core-5.cisco.com (sj-core-5.cisco.com [171.71.177.238])
	by sj-dkim-4.cisco.com (8.12.11/8.12.11) with ESMTP id m2S2bKHH009439
	for <sip@ietf.org>; Thu, 27 Mar 2008 19:37:20 -0700
Received: from [192.168.4.177] (sjc-fluffy-vpn1.cisco.com [10.25.236.82])
	by sj-core-5.cisco.com (8.13.8/8.13.8) with SMTP id m2S2bICS019605
	for <sip@ietf.org>; Fri, 28 Mar 2008 02:37:19 GMT
Message-Id: <D6E8586C-8F70-475C-8C55-20321E0255C4@cisco.com>
From: Cullen Jennings <fluffy@cisco.com>
To: SIP List <sip@ietf.org>
In-Reply-To: <47EAA964.5030903@alcatel-lucent.com>
Impp: xmpp:cullenfluffyjennings@jabber.org
Mime-Version: 1.0 (Apple Message framework v919.2)
Date: Thu, 27 Mar 2008 19:37:04 -0700
References: <p0624080bc41032558d3f@[10.20.30.162]>
	<20080326184840.5F3AA5081A@romeo.rtfm.com>
	<47EAA964.5030903@alcatel-lucent.com>
X-Mailer: Apple Mail (2.919.2)
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; l=7040; t=1206671840;
	x=1207535840; c=relaxed/simple; s=sjdkim4002;
	h=Content-Type:From:Subject:Content-Transfer-Encoding:MIME-Version;
	d=cisco.com; i=fluffy@cisco.com;
	z=From:=20Cullen=20Jennings=20<fluffy@cisco.com>
	|Subject:=20Re=3A=20[Sip]=20Comments=20on=20draft-ietf-sip-
	domain-certs-00 |Sender:=20;
	bh=PqoF2VVW9cw7ULWSpNbmkDs28IdqYGSGxfWjrUO6Rb0=;
	b=sQEQwVux4wRT/E9FpauAhHUejY3xTt2ECkQWB9XoGP66UOtva85va/a2mC
	IeXg9BVCapo1xWXz+PrJbY6ftkdVQkbp4bucezP2XJ9Wj+nyCcT3z4FXHbJd
	IT7CNhkR4C;
Authentication-Results: sj-dkim-4; header.From=fluffy@cisco.com; dkim=pass (
	sig from cisco.com/sjdkim4002 verified; ); 
Subject: Re: [Sip] Comments on draft-ietf-sip-domain-certs-00
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


There was one site I work with a bit that I remembered used Thawte  
certificates so I connected to see what it does. Does not look like it  
uses SAN.

FluffyMac30-2.local:tmp 69% openssl s_client -connect mail.google.com: 
443 -showcerts > & foo.pem
^C
FluffyMac30-2.local:tmp 70% openssl x509 -in foo.pem -text -noout
Certificate:
     Data:
         Version: 3 (0x2)
         Serial Number:
             78:62:5d:1b:e6:6e:2e:b0:19:80:fc:0f:e3:da:98:51
         Signature Algorithm: sha1WithRSAEncryption
         Issuer: C=ZA, O=Thawte Consulting (Pty) Ltd., CN=Thawte SGC CA
         Validity
             Not Before: May  3 15:34:58 2007 GMT
             Not After : May 15 17:24:01 2008 GMT
         Subject: C=US, ST=California, L=Mountain View, O=Google Inc,  
CN=mail.google.com
         Subject Public Key Info:
             Public Key Algorithm: rsaEncryption
             RSA Public Key: (1024 bit)
                 Modulus (1024 bit):
                     00:c9:d4:b9:d2:d4:84:7b:f7:72:9c:b4:03:8e:ca:
                     df:ca:0e:60:af:42:78:7f:77:50:cc:c7:d5:00:3f:
                     15:8c:30:85:1a:dc:12:44:23:c1:2a:dd:74:da:85:
                     44:b0:49:32:ff:8a:58:a1:5b:31:b4:f3:31:24:7a:
                     f5:54:02:24:9d:ba:70:a4:8e:83:de:61:86:e2:2c:
                     45:fe:98:f0:c4:5f:ca:75:8a:e2:77:ee:9f:cb:9b:
                     17:c2:1f:2d:f2:12:7e:bc:d3:5f:cf:e7:c3:c8:e6:
                     b4:bd:33:68:d3:52:09:95:ac:e9:43:73:a6:d9:0a:
                     d3:ce:6d:44:ed:8a:a1:e6:79
                 Exponent: 65537 (0x10001)
         X509v3 extensions:
             X509v3 Extended Key Usage:
                 TLS Web Server Authentication, TLS Web Client  
Authentication, Netscape Server Gated Crypto
             X509v3 CRL Distribution Points:
                 URI:http://crl.thawte.com/ThawteSGCCA.crl

             Authority Information Access:
                 OCSP - URI:http://ocsp.thawte.com
                 CA Issuers - URI:http://www.thawte.com/repository/Thawte_SGC_CA.crt

             X509v3 Basic Constraints: critical
                 CA:FALSE
     Signature Algorithm: sha1WithRSAEncryption
         d4:9a:d2:a2:50:81:09:d7:5e:99:52:05:fc:5c:e1:1a:c3:75:
         79:31:40:d0:9c:20:cc:bf:83:e2:ee:b9:51:af:8f:7a:ac:cc:
         9e:b1:b4:f3:ea:d0:3b:0c:e0:35:93:c8:ea:57:7a:23:15:42:
         43:61:a4:0d:4f:15:51:19:37:d2:f5:36:e9:6b:9c:07:e2:26:
         4b:ea:42:dc:43:52:4a:69:62:07:a5:35:09:27:2e:d9:02:f8:
         03:5a:75:b0:67:73:f9:b3:9e:a2:f7:70:d9:70:0e:ad:06:0c:
         30:25:d3:d2:12:59:fb:e6:d3:52:1a:e2:8f:1a:a4:69:27:51:
         78:f5
FluffyMac30-2.local:tmp 71%

I poked a few other sites to see what they do
verisign.com
www.thawte.com
www.entrust.com
www.geotrust.com
www.comodo.com/
cisco.com
microsoft.com
nist.gov
nsa.gov

They all had one thing in common - no SAN. I realize this has nothing  
to do with if one could get a certificate with SAN or not - only a  
sample (not random) of what people who hopefully know about  
certificates are doing.

The funniest thing I found was that https://www.whitehouse.gov/ and https://www.gov.cn/ 
  were both signed with the *same* certificate. Seriously, I could not  
make this up if I tried. (for me, both were severed by  
a248.e.akamai.net). Again no SAN.

So this is a pretty adhoc selection but my point is simple - if these  
people are not using certificates with SAN, how long do we expect  
before most the certificates people are using for their web servers  
use SAN? Our goals with SIP has for a long time been that  it is  
possible to use the same certificate you already have for your web  
server and just use it to secure SIP.

One site I know of that does have SAN is cacert.org but I suspect that  
is only because I worked with them to get that working.   It also  
seems that digicert.com can provide certificate with at least a SAN  
name of DNS type but less clear if I they can add a URI. The only  
other site I found in my limited poking that had a SAN was godaddy.com  
- once again proving they are the CA with the best names.

Exchange Server 2007 can take advantage of SAN and I expect to see  
more people using them because of this. Perviously some CAs had  
offered SAN in certificates call  Microsoft Small Business Server  
certificates but last time I tried these (long ago) I could not get  
one that worked with a SIP URI.

Some old market share data is at http://news.netcraft.com/archives/2003/04/09/netcraft_ssl_survey.html

A few years back, I got the market share data of major CAs, went down  
the top four and tried to get them to sign a CSR with SIP URI in the  
SAN. I failed to get anything that worked. One of the CAs worked with  
me to try and resolve this and we got a test cert signed but they were  
unwilling to offer it as a service due to the small size of the  
market. Ideally someone (not me) would try this again and see if the  
stuff Microsoft has been doing has made it easier to get certs with  
SAN now than it was then.

Another nice test would be to randomly choose some domain names and  
look at their https certificate and see if it using SAN to get an idea  
of what the current deployment is like.

Cullen <with my individual contributor hat on>



On Mar 26, 2008, at 12:52 PM, Vijay K. Gurbani wrote:
> Eric Rescorla wrote:
>> So, I have no brief for one design or the other, but I think
>> we can agree that it's imperative that this work with certs
>> from commodity CAs. Has someone published a survey of which
>> CAs will give you SAN?
>
> Ekr: I don't know of a survey, but anecdotally speaking, at least
> Thawte does.  I have a freebie certificate from Thawte for
> email signing.  It has a couple of my identities in SAN:
>
> [osiris:/u/vkg]$ x509 -noout -in vkg-Thawte-SAN.pem -text
> Certificate:
>     Data:
>         Version: 3 (0x2)
>         Serial Number:
>             15:8d:ec:ff:b9:06:bf:76:49:7b:29:d6:e5:df:61:b8
>         Signature Algorithm: sha1WithRSAEncryption
>         Issuer: C=ZA, O=Thawte Consulting (Pty) Ltd., CN=Thawte
> Personal Freemail Issuing CA
> ...
>        X509v3 extensions:
>             X509v3 Subject Alternative Name:
>                 email:vkg@acm.org, email:vkg@alcatel-lucent.com
>             X509v3 Basic Constraints: critical
>                 CA:FALSE
>
> Thanks,
>
> - vijay
> -- 
> Vijay K. Gurbani, Bell Laboratories, Alcatel-Lucent
> 2701 Lucent Lane, Rm. 9F-546, Lisle, Illinois 60532 (USA)
> Email: vkg@{alcatel-lucent.com,bell-labs.com,acm.org}
> WWW:   http://www.alcatel-lucent.com/bell-labs
> _______________________________________________
> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu Mar 27 21:00:45 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 12B603A68C7;
	Thu, 27 Mar 2008 21:00:45 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.475
X-Spam-Level: 
X-Spam-Status: No, score=-100.475 tagged_above=-999 required=5
	tests=[AWL=-0.038, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id dH9qUjQMyUQ1; Thu, 27 Mar 2008 21:00:44 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 2B3103A67A5;
	Thu, 27 Mar 2008 21:00:44 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id C14873A67A5
	for <sip@core3.amsl.com>; Thu, 27 Mar 2008 21:00:42 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id um7BOfuo2IPp for <sip@core3.amsl.com>;
	Thu, 27 Mar 2008 21:00:42 -0700 (PDT)
Received: from nylon.softarmor.com (nylon.softarmor.com [66.135.38.164])
	by core3.amsl.com (Postfix) with ESMTP id 01F603A6784
	for <sip@ietf.org>; Thu, 27 Mar 2008 21:00:41 -0700 (PDT)
Received: from [192.168.2.103] (cpe-76-185-142-113.tx.res.rr.com
	[76.185.142.113]) (authenticated bits=0)
	by nylon.softarmor.com (8.13.8/8.13.8/Debian-3) with ESMTP id
	m2S40Yh4021767
	(version=TLSv1/SSLv3 cipher=AES128-SHA bits=128 verify=NOT);
	Thu, 27 Mar 2008 23:00:36 -0500
Message-Id: <BA629104-667E-4672-9C58-E3215408856C@softarmor.com>
From: Dean Willis <dean.willis@softarmor.com>
To: Cullen Jennings <fluffy@cisco.com>
In-Reply-To: <D6E8586C-8F70-475C-8C55-20321E0255C4@cisco.com>
Mime-Version: 1.0 (Apple Message framework v919.2)
Date: Thu, 27 Mar 2008 23:00:29 -0500
References: <p0624080bc41032558d3f@[10.20.30.162]>
	<20080326184840.5F3AA5081A@romeo.rtfm.com>
	<47EAA964.5030903@alcatel-lucent.com>
	<D6E8586C-8F70-475C-8C55-20321E0255C4@cisco.com>
X-Mailer: Apple Mail (2.919.2)
Cc: SIP List <sip@ietf.org>
Subject: Re: [Sip] Comments on draft-ietf-sip-domain-certs-00
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


On Mar 27, 2008, at 9:37 PM, Cullen Jennings wrote:
>
> There was one site I work with a bit that I remembered used Thawte
> certificates so I connected to see what it does. Does not look like it
> uses SAN.
>

So the model is this: Use a CERT with SAN and EKU if you can. If you  
receive a cert with one or both, validate them and evaluate them  
appropriately. If you get a cert that has neither, proceed as usual.

SHOULD use in cert, MUST validate if present.

--
Dean

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Sat Mar 29 05:22:51 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id E483C28C1CF;
	Sat, 29 Mar 2008 05:22:51 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -101.018
X-Spam-Level: 
X-Spam-Status: No, score=-101.018 tagged_above=-999 required=5
	tests=[AWL=-0.581, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id hV-e-s-+Ymie; Sat, 29 Mar 2008 05:22:50 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id E64B43A6ABB;
	Sat, 29 Mar 2008 05:22:50 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id C9A943A67FD
	for <sip@core3.amsl.com>; Sat, 29 Mar 2008 05:22:49 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id J4MCIWzUP0C0 for <sip@core3.amsl.com>;
	Sat, 29 Mar 2008 05:22:49 -0700 (PDT)
Received: from mailgw4.ericsson.se (mailgw4.ericsson.se [193.180.251.62])
	by core3.amsl.com (Postfix) with ESMTP id E52DB3A6B29
	for <sip@ietf.org>; Sat, 29 Mar 2008 05:22:48 -0700 (PDT)
Received: from mailgw4.ericsson.se (unknown [127.0.0.1])
	by mailgw4.ericsson.se (Symantec Mail Security) with ESMTP id
	047E2203EF; Sat, 29 Mar 2008 13:22:47 +0100 (CET)
X-AuditID: c1b4fb3e-af99bbb000004ec0-87-47ee34966757
Received: from esealmw126.eemea.ericsson.se (unknown [153.88.254.123])
	by mailgw4.ericsson.se (Symantec Mail Security) with ESMTP id
	DF840201D2; Sat, 29 Mar 2008 13:22:46 +0100 (CET)
Received: from esealmw113.eemea.ericsson.se ([153.88.200.4]) by
	esealmw126.eemea.ericsson.se with Microsoft SMTPSVC(6.0.3790.1830); 
	Sat, 29 Mar 2008 13:22:46 +0100
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Sat, 29 Mar 2008 13:22:46 +0100
Message-ID: <CA9998CD4A020D418654FCDEF4E707DF05066D81@esealmw113.eemea.ericsson.se>
In-Reply-To: <200803251629.m2PGTC0N025942@dragon.ariadne.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] Comparison of retargeting proposals
thread-index: AciOlb91KfRWHPs1TqqSutsiXbbFBADAbRmw
References: <200803251629.m2PGTC0N025942@dragon.ariadne.com>
From: "Christer Holmberg" <christer.holmberg@ericsson.com>
To: <Dale.Worley@comcast.net>,
	<sip@ietf.org>
X-OriginalArrivalTime: 29 Mar 2008 12:22:46.0565 (UTC)
	FILETIME=[988EE550:01C89197]
X-Brightmail-Tracker: AAAAAA==
Subject: Re: [Sip] Comparison of retargeting proposals
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


Please define "complexity".

Regards,

Christer
 

-----Original Message-----
From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On Behalf Of
Dale.Worley@comcast.net
Sent: 25. maaliskuuta 2008 18:29
To: sip@ietf.org
Subject: [Sip] Comparison of retargeting proposals

I've put together a comparison chart of the varous retargeting
proposals:

			ua-loose-route	target-uri	History-Info
URI-
							 (updated)
param.

Upward-compatible	N		Y		Y
Y
with RFC 3263?

Upward-compatible	depends		Y		Y
Y
for UA?

Upward-compatible for	Y		Y		Y
Y
intermediate proxies?

Complexity		low		low		high
low

Upward-compatible for	Y		Y		Y
N
intermediate routing?

Multiple targets?	N		N		Y
N


The proposals are:

ua-loose-route - draft-rosenberg-sip-ua-loose-route-02

target-uri - draft-holmberg-sip-target-uri-delivery-01

History-Info - History-Info (RFC 4244), with additional parameters as
needed

URI-param. - a URI-parameter like the 'target' proposed in RFC 4458


The criteria are:

Upward-compatible with RFC 3263?

If a message has no Route headers, is its destination to be determined
from the request-URI host-port as in RFC 3263?

Upward-compatible for UA?

Is the proposal compatible with UAs that use RFC 3263 to examine the
request-URI to determine if they are the destination of the request.

Complexity

Multiple targets?

Does the mechanism display more than the latest retargeted URI?


Dale
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol Use
sip-implementors@cs.columbia.edu for questions on current sip Use
sipping@ietf.org for new developments on the application of sip
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Sat Mar 29 05:26:55 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 5E9C828C1ED;
	Sat, 29 Mar 2008 05:26:55 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.663
X-Spam-Level: 
X-Spam-Status: No, score=-100.663 tagged_above=-999 required=5
	tests=[AWL=-0.226, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id W741TEARgYpz; Sat, 29 Mar 2008 05:26:54 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 6B37C3A6B29;
	Sat, 29 Mar 2008 05:26:54 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 1E2B63A6B29
	for <sip@core3.amsl.com>; Sat, 29 Mar 2008 05:26:53 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id v1dQ79GlokEk for <sip@core3.amsl.com>;
	Sat, 29 Mar 2008 05:26:52 -0700 (PDT)
Received: from mail120.messagelabs.com (mail120.messagelabs.com
	[216.82.250.83])
	by core3.amsl.com (Postfix) with ESMTP id 1878A3A67FD
	for <sip@ietf.org>; Sat, 29 Mar 2008 05:26:52 -0700 (PDT)
X-VirusChecked: Checked
X-Env-Sender: mdolly@att.com
X-Msg-Ref: server-9.tower-120.messagelabs.com!1206793609!27270264!1
X-StarScan-Version: 5.5.12.14.2; banners=-,-,-
X-Originating-IP: [144.160.20.54]
Received: (qmail 26660 invoked from network); 29 Mar 2008 12:26:49 -0000
Received: from sbcsmtp7.sbc.com (HELO mlpi135.enaf.sfdc.sbc.com)
	(144.160.20.54)
	by server-9.tower-120.messagelabs.com with AES256-SHA encrypted SMTP;
	29 Mar 2008 12:26:49 -0000
Received: from enaf.sfdc.sbc.com (localhost.localdomain [127.0.0.1])
	by mlpi135.enaf.sfdc.sbc.com (8.14.0/8.14.0) with ESMTP id
	m2TCQm6Z005924; Sat, 29 Mar 2008 08:26:48 -0400
Received: from OCCLUST04EVS1.ugd.att.com (ocst07.ugd.att.com [135.38.164.12])
	by mlpi135.enaf.sfdc.sbc.com (8.14.0/8.14.0) with ESMTP id
	m2TCQgjK005919; Sat, 29 Mar 2008 08:26:43 -0400
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Sat, 29 Mar 2008 07:26:42 -0500
Message-ID: <28F05913385EAC43AF019413F674A0171246ED51@OCCLUST04EVS1.ugd.att.com>
In-Reply-To: <CA9998CD4A020D418654FCDEF4E707DF05066D81@esealmw113.eemea.ericsson.se>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] Comparison of retargeting proposals
Thread-Index: AciOlb91KfRWHPs1TqqSutsiXbbFBADAbRmwAAAWu6A=
References: <200803251629.m2PGTC0N025942@dragon.ariadne.com>
	<CA9998CD4A020D418654FCDEF4E707DF05066D81@esealmw113.eemea.ericsson.se>
From: "DOLLY, MARTIN C, ATTLABS" <mdolly@att.com>
To: "Christer Holmberg" <christer.holmberg@ericsson.com>,
	<Dale.Worley@comcast.net>, <sip@ietf.org>
Subject: Re: [Sip] Comparison of retargeting proposals
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Predictability is better criteria. Complex and predictable is preferred,
over simple and not predictable.

Cheers,

Martin 

-----Original Message-----
From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On Behalf Of
Christer Holmberg
Sent: Saturday, March 29, 2008 8:23 AM
To: Dale.Worley@comcast.net; sip@ietf.org
Subject: Re: [Sip] Comparison of retargeting proposals


Please define "complexity".

Regards,

Christer
 

-----Original Message-----
From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On Behalf Of
Dale.Worley@comcast.net
Sent: 25. maaliskuuta 2008 18:29
To: sip@ietf.org
Subject: [Sip] Comparison of retargeting proposals

I've put together a comparison chart of the varous retargeting
proposals:

			ua-loose-route	target-uri	History-Info
URI-
							 (updated)
param.

Upward-compatible	N		Y		Y
Y
with RFC 3263?

Upward-compatible	depends		Y		Y
Y
for UA?

Upward-compatible for	Y		Y		Y
Y
intermediate proxies?

Complexity		low		low		high
low

Upward-compatible for	Y		Y		Y
N
intermediate routing?

Multiple targets?	N		N		Y
N


The proposals are:

ua-loose-route - draft-rosenberg-sip-ua-loose-route-02

target-uri - draft-holmberg-sip-target-uri-delivery-01

History-Info - History-Info (RFC 4244), with additional parameters as
needed

URI-param. - a URI-parameter like the 'target' proposed in RFC 4458


The criteria are:

Upward-compatible with RFC 3263?

If a message has no Route headers, is its destination to be determined
from the request-URI host-port as in RFC 3263?

Upward-compatible for UA?

Is the proposal compatible with UAs that use RFC 3263 to examine the
request-URI to determine if they are the destination of the request.

Complexity

Multiple targets?

Does the mechanism display more than the latest retargeted URI?


Dale
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol Use
sip-implementors@cs.columbia.edu for questions on current sip Use
sipping@ietf.org for new developments on the application of sip
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Sat Mar 29 05:31:56 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id DF9D828C1CF;
	Sat, 29 Mar 2008 05:31:56 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -101.018
X-Spam-Level: 
X-Spam-Status: No, score=-101.018 tagged_above=-999 required=5
	tests=[AWL=-0.581, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id vgBsPupbsc5f; Sat, 29 Mar 2008 05:31:56 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id F36C03A680E;
	Sat, 29 Mar 2008 05:31:55 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 0D8263A6E8D
	for <sip@core3.amsl.com>; Sat, 29 Mar 2008 05:31:54 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id DhDgoFc6xLUY for <sip@core3.amsl.com>;
	Sat, 29 Mar 2008 05:31:52 -0700 (PDT)
Received: from mailgw4.ericsson.se (mailgw4.ericsson.se [193.180.251.62])
	by core3.amsl.com (Postfix) with ESMTP id B629128C1E9
	for <sip@ietf.org>; Sat, 29 Mar 2008 05:30:30 -0700 (PDT)
Received: from mailgw4.ericsson.se (unknown [127.0.0.1])
	by mailgw4.ericsson.se (Symantec Mail Security) with ESMTP id
	CACCA21322; Sat, 29 Mar 2008 13:30:28 +0100 (CET)
X-AuditID: c1b4fb3e-ab192bb000004ec0-66-47ee366414a3
Received: from esealmw128.eemea.ericsson.se (unknown [153.88.254.121])
	by mailgw4.ericsson.se (Symantec Mail Security) with ESMTP id
	AE837201D2; Sat, 29 Mar 2008 13:30:28 +0100 (CET)
Received: from esealmw113.eemea.ericsson.se ([153.88.200.4]) by
	esealmw128.eemea.ericsson.se with Microsoft SMTPSVC(6.0.3790.1830); 
	Sat, 29 Mar 2008 13:30:28 +0100
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Sat, 29 Mar 2008 13:30:27 +0100
Message-ID: <CA9998CD4A020D418654FCDEF4E707DF05066D84@esealmw113.eemea.ericsson.se>
In-Reply-To: <200803251629.m2PGTC0N025942@dragon.ariadne.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] Comparison of retargeting proposals
thread-index: AciOlb91KfRWHPs1TqqSutsiXbbFBADApkEg
References: <200803251629.m2PGTC0N025942@dragon.ariadne.com>
From: "Christer Holmberg" <christer.holmberg@ericsson.com>
To: <Dale.Worley@comcast.net>,
	<sip@ietf.org>
X-OriginalArrivalTime: 29 Mar 2008 12:30:28.0510 (UTC)
	FILETIME=[ABE61BE0:01C89198]
X-Brightmail-Tracker: AAAAAA==
Subject: Re: [Sip] Comparison of retargeting proposals
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


Hi,

Another comment:

For ua-loose-route you indicate that is is upward-compatible for
intermediate proxies/routing.

Maybe I missunderstand what you are trying to say, but one of the main
issues (in my opinion) with the ua-loose-route mechanism is that it DOES
need to know whether the next hop supports it or not.

Regards,

Christer 

-----Original Message-----
From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On Behalf Of
Dale.Worley@comcast.net
Sent: 25. maaliskuuta 2008 18:29
To: sip@ietf.org
Subject: [Sip] Comparison of retargeting proposals

I've put together a comparison chart of the varous retargeting
proposals:

			ua-loose-route	target-uri	History-Info
URI-
							 (updated)
param.

Upward-compatible	N		Y		Y
Y
with RFC 3263?

Upward-compatible	depends		Y		Y
Y
for UA?

Upward-compatible for	Y		Y		Y
Y
intermediate proxies?

Complexity		low		low		high
low

Upward-compatible for	Y		Y		Y
N
intermediate routing?

Multiple targets?	N		N		Y
N


The proposals are:

ua-loose-route - draft-rosenberg-sip-ua-loose-route-02

target-uri - draft-holmberg-sip-target-uri-delivery-01

History-Info - History-Info (RFC 4244), with additional parameters as
needed

URI-param. - a URI-parameter like the 'target' proposed in RFC 4458


The criteria are:

Upward-compatible with RFC 3263?

If a message has no Route headers, is its destination to be determined
from the request-URI host-port as in RFC 3263?

Upward-compatible for UA?

Is the proposal compatible with UAs that use RFC 3263 to examine the
request-URI to determine if they are the destination of the request.

Complexity

Multiple targets?

Does the mechanism display more than the latest retargeted URI?


Dale
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol Use
sip-implementors@cs.columbia.edu for questions on current sip Use
sipping@ietf.org for new developments on the application of sip
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Sat Mar 29 05:35:00 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 84FAE3A6C95;
	Sat, 29 Mar 2008 05:35:00 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.991
X-Spam-Level: 
X-Spam-Status: No, score=-100.991 tagged_above=-999 required=5
	tests=[AWL=-0.554, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id AzuWClHMMhDl; Sat, 29 Mar 2008 05:34:59 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 8BDF13A6A4B;
	Sat, 29 Mar 2008 05:34:59 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id AE2723A680E
	for <sip@core3.amsl.com>; Sat, 29 Mar 2008 05:34:57 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id YH9Bzf20pGwr for <sip@core3.amsl.com>;
	Sat, 29 Mar 2008 05:34:56 -0700 (PDT)
Received: from mailgw3.ericsson.se (mailgw3.ericsson.se [193.180.251.60])
	by core3.amsl.com (Postfix) with ESMTP id 84C8F3A67FD
	for <sip@ietf.org>; Sat, 29 Mar 2008 05:34:56 -0700 (PDT)
Received: from mailgw3.ericsson.se (unknown [127.0.0.1])
	by mailgw3.ericsson.se (Symantec Mail Security) with ESMTP id
	9F93E20B5E; Sat, 29 Mar 2008 13:33:22 +0100 (CET)
X-AuditID: c1b4fb3c-ad099bb00000193b-4e-47ee37121aa6
Received: from esealmw126.eemea.ericsson.se (unknown [153.88.254.123])
	by mailgw3.ericsson.se (Symantec Mail Security) with ESMTP id
	79EE020A7F; Sat, 29 Mar 2008 13:33:22 +0100 (CET)
Received: from esealmw113.eemea.ericsson.se ([153.88.200.4]) by
	esealmw126.eemea.ericsson.se with Microsoft SMTPSVC(6.0.3790.1830); 
	Sat, 29 Mar 2008 13:33:22 +0100
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Sat, 29 Mar 2008 13:33:21 +0100
Message-ID: <CA9998CD4A020D418654FCDEF4E707DF05066D85@esealmw113.eemea.ericsson.se>
In-Reply-To: <28F05913385EAC43AF019413F674A0171246ED51@OCCLUST04EVS1.ugd.att.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] Comparison of retargeting proposals
thread-index: AciOlb91KfRWHPs1TqqSutsiXbbFBADAbRmwAAAWu6AAADgHEA==
References: <200803251629.m2PGTC0N025942@dragon.ariadne.com><CA9998CD4A020D418654FCDEF4E707DF05066D81@esealmw113.eemea.ericsson.se>
	<28F05913385EAC43AF019413F674A0171246ED51@OCCLUST04EVS1.ugd.att.com>
From: "Christer Holmberg" <christer.holmberg@ericsson.com>
To: "DOLLY, MARTIN C, ATTLABS" <mdolly@att.com>, <Dale.Worley@comcast.net>,
	<sip@ietf.org>
X-OriginalArrivalTime: 29 Mar 2008 12:33:22.0336 (UTC)
	FILETIME=[1381DA00:01C89199]
X-Brightmail-Tracker: AAAAAA==
Subject: Re: [Sip] Comparison of retargeting proposals
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


Hi,

I agree with Martin.

However, I still fail to understand how Target would be more "complex"
than e.g. History-Info. 

Regards,

Christer


-----Original Message-----
From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On Behalf Of
DOLLY, MARTIN C, ATTLABS
Sent: 29. maaliskuuta 2008 14:27
To: Christer Holmberg; Dale.Worley@comcast.net; sip@ietf.org
Subject: Re: [Sip] Comparison of retargeting proposals

Predictability is better criteria. Complex and predictable is preferred,
over simple and not predictable.

Cheers,

Martin 

-----Original Message-----
From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On Behalf Of
Christer Holmberg
Sent: Saturday, March 29, 2008 8:23 AM
To: Dale.Worley@comcast.net; sip@ietf.org
Subject: Re: [Sip] Comparison of retargeting proposals


Please define "complexity".

Regards,

Christer
 

-----Original Message-----
From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On Behalf Of
Dale.Worley@comcast.net
Sent: 25. maaliskuuta 2008 18:29
To: sip@ietf.org
Subject: [Sip] Comparison of retargeting proposals

I've put together a comparison chart of the varous retargeting
proposals:

			ua-loose-route	target-uri	History-Info
URI-
							 (updated)
param.

Upward-compatible	N		Y		Y
Y
with RFC 3263?

Upward-compatible	depends		Y		Y
Y
for UA?

Upward-compatible for	Y		Y		Y
Y
intermediate proxies?

Complexity		low		low		high
low

Upward-compatible for	Y		Y		Y
N
intermediate routing?

Multiple targets?	N		N		Y
N


The proposals are:

ua-loose-route - draft-rosenberg-sip-ua-loose-route-02

target-uri - draft-holmberg-sip-target-uri-delivery-01

History-Info - History-Info (RFC 4244), with additional parameters as
needed

URI-param. - a URI-parameter like the 'target' proposed in RFC 4458


The criteria are:

Upward-compatible with RFC 3263?

If a message has no Route headers, is its destination to be determined
from the request-URI host-port as in RFC 3263?

Upward-compatible for UA?

Is the proposal compatible with UAs that use RFC 3263 to examine the
request-URI to determine if they are the destination of the request.

Complexity

Multiple targets?

Does the mechanism display more than the latest retargeted URI?


Dale
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol Use
sip-implementors@cs.columbia.edu for questions on current sip Use
sipping@ietf.org for new developments on the application of sip
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol Use
sip-implementors@cs.columbia.edu for questions on current sip Use
sipping@ietf.org for new developments on the application of sip
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol Use
sip-implementors@cs.columbia.edu for questions on current sip Use
sipping@ietf.org for new developments on the application of sip
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Sat Mar 29 05:45:51 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id B2F723A6E05;
	Sat, 29 Mar 2008 05:45:51 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.797
X-Spam-Level: 
X-Spam-Status: No, score=-100.797 tagged_above=-999 required=5
	tests=[AWL=-0.360, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 5CWcP52L8ZQn; Sat, 29 Mar 2008 05:45:51 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id E9CEA3A680E;
	Sat, 29 Mar 2008 05:45:50 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id A820D3A67F2
	for <sip@core3.amsl.com>; Sat, 29 Mar 2008 05:45:46 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 5x6IkyHkf1cR for <sip@core3.amsl.com>;
	Sat, 29 Mar 2008 05:45:45 -0700 (PDT)
Received: from taimen.tutpro.com (harjus.tutpro.com [192.98.100.3])
	by core3.amsl.com (Postfix) with ESMTP id 8A5EF3A6CC3
	for <sip@ietf.org>; Sat, 29 Mar 2008 05:45:40 -0700 (PDT)
Received: by taimen.tutpro.com (Postfix, from userid 1000)
	id 613D133A86B; Sat, 29 Mar 2008 14:47:30 +0200 (EET)
MIME-Version: 1.0
Message-ID: <18414.14946.299667.816439@harjus.tutpro.com>
Date: Sat, 29 Mar 2008 14:47:30 +0200
To: "Christer Holmberg" <christer.holmberg@ericsson.com>
In-Reply-To: <CA9998CD4A020D418654FCDEF4E707DF05066D85@esealmw113.eemea.ericsson.se>
References: <200803251629.m2PGTC0N025942@dragon.ariadne.com>
	<CA9998CD4A020D418654FCDEF4E707DF05066D81@esealmw113.eemea.ericsson.se>
	<28F05913385EAC43AF019413F674A0171246ED51@OCCLUST04EVS1.ugd.att.com>
	<CA9998CD4A020D418654FCDEF4E707DF05066D85@esealmw113.eemea.ericsson.se>
X-Mailer: VM 7.19 under Emacs 21.4.1
From: jh@tutpro.com (Juha Heinanen)
Cc: sip@ietf.org, "DOLLY, MARTIN C, ATTLABS" <mdolly@att.com>
Subject: Re: [Sip] Comparison of retargeting proposals
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Christer Holmberg writes:

 > However, I still fail to understand how Target would be more "complex"
 > than e.g. History-Info. 

christer,

ANY solution for anything must be MUCH simpler than history-info, which
is far too complex by itself.

i haven't seen anyone fully implement history-info and most likely that
is because of its complexity.  if you are now going to invent some other
mechanism that is as complex or even more complex, it has no change in
real world.

i therefore suggest that h-i is deprecated and a replaced by a simpler
mechanism.

-- juha
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Sat Mar 29 05:54:33 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 724FD3A6ED1;
	Sat, 29 Mar 2008 05:54:33 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.484
X-Spam-Level: 
X-Spam-Status: No, score=-100.484 tagged_above=-999 required=5
	tests=[AWL=-0.047, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id zS1SeWfKIJsq; Sat, 29 Mar 2008 05:54:32 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 7DA7A3A6AD6;
	Sat, 29 Mar 2008 05:54:32 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id D5DF53A6AD6
	for <sip@core3.amsl.com>; Sat, 29 Mar 2008 05:54:30 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id Y3yundmeIG8k for <sip@core3.amsl.com>;
	Sat, 29 Mar 2008 05:54:29 -0700 (PDT)
Received: from maill.telecomitalia.it (maill.telecomitalia.it [217.169.121.52])
	by core3.amsl.com (Postfix) with ESMTP id E70BE3A686D
	for <sip@ietf.org>; Sat, 29 Mar 2008 05:54:24 -0700 (PDT)
thread-index: AciRm/9/UqIhnU6vS4+zjKeswSizXQ==
Received: from ptpxch009rm001.idc.cww.telecomitalia.it ([156.54.205.171]) by
	maill.telecomitalia.it with Microsoft SMTPSVC(6.0.3790.1830);
	Sat, 29 Mar 2008 13:54:17 +0100
Received: from ptpxch005rm001.idc.cww.telecomitalia.it ([156.54.205.167]) by
	ptpxch009rm001.idc.cww.telecomitalia.it with Microsoft
	SMTPSVC(6.0.3790.1830); Sat, 29 Mar 2008 13:54:16 +0100
Received: from [172.16.82.10] ([163.162.180.246]) by
	ptpxch005rm001.idc.cww.telecomitalia.it over TLS secured
	channel with Microsoft SMTPSVC(6.0.3790.1830);
	Sat, 29 Mar 2008 13:54:15 +0100
Content-Class: urn:content-classes:message
Importance: normal
Priority: normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.3790.2992
Message-ID: <47EE3BEE.8060805@telecomitalia.it>
Date: Sat, 29 Mar 2008 13:54:06 +0100
From: "Enrico Marocco" <enrico.marocco@telecomitalia.it>
User-Agent: Mozilla-Thunderbird 2.0.0.9 (X11/20080110)
MIME-Version: 1.0
To: "Christer Holmberg" <christer.holmberg@ericsson.com>
References: <200803251629.m2PGTC0N025942@dragon.ariadne.com><CA9998CD4A020D418654FCDEF4E707DF05066D81@esealmw113.eemea.ericsson.se>	<28F05913385EAC43AF019413F674A0171246ED51@OCCLUST04EVS1.ugd.att.com>
	<CA9998CD4A020D418654FCDEF4E707DF05066D85@esealmw113.eemea.ericsson.se>
In-Reply-To: <CA9998CD4A020D418654FCDEF4E707DF05066D85@esealmw113.eemea.ericsson.se>
X-Enigmail-Version: 0.95.0
X-OriginalArrivalTime: 29 Mar 2008 12:54:15.0844 (UTC)
	FILETIME=[FEA7FE40:01C8919B]
Cc: sip@ietf.org, "DOLLY, MARTIN C, ATTLABS" <mdolly@att.com>
Subject: Re: [Sip] Comparison of retargeting proposals
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Christer Holmberg wrote:
> However, I still fail to understand how Target would be more "complex"
> than e.g. History-Info. 

Christer, I'm not sure your mail client displays Dale's table correctly.
 Complexity is "low" for all proposals but History-Info, for which, in
fact, is set to "high".

-- 
Ciao,
Enrico
--------------------------------------------------------------------

CONFIDENTIALITY NOTICE

This message and its attachments are addressed solely to the persons above and may contain confidential information. If you have received the message in error, be informed that any use of the content hereof is prohibited. Please return it immediately to the sender and delete the message. Should you have any questions, please contact us by replying to webmaster@telecomitalia.it.

        Thank you

                                        www.telecomitalia.it

--------------------------------------------------------------------
                        
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Sat Mar 29 07:04:00 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 8DF5A28C37C;
	Sat, 29 Mar 2008 07:04:00 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.938
X-Spam-Level: 
X-Spam-Status: No, score=-100.938 tagged_above=-999 required=5
	tests=[AWL=-0.501, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id nWpe5+iGwz3O; Sat, 29 Mar 2008 07:03:58 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 32D7C28C0F4;
	Sat, 29 Mar 2008 07:03:58 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 6AD2B28C0F4
	for <sip@core3.amsl.com>; Sat, 29 Mar 2008 07:03:56 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id lAUIPqdGR3-D for <sip@core3.amsl.com>;
	Sat, 29 Mar 2008 07:03:55 -0700 (PDT)
Received: from mailgw3.ericsson.se (mailgw3.ericsson.se [193.180.251.60])
	by core3.amsl.com (Postfix) with ESMTP id 494893A6C95
	for <sip@ietf.org>; Sat, 29 Mar 2008 07:03:55 -0700 (PDT)
Received: from mailgw3.ericsson.se (unknown [127.0.0.1])
	by mailgw3.ericsson.se (Symantec Mail Security) with ESMTP id
	F2FA120BE5; Sat, 29 Mar 2008 15:01:10 +0100 (CET)
X-AuditID: c1b4fb3c-b009fbb00000193b-30-47ee4ba69a9a
Received: from esealmw128.eemea.ericsson.se (unknown [153.88.254.121])
	by mailgw3.ericsson.se (Symantec Mail Security) with ESMTP id
	D158120B86; Sat, 29 Mar 2008 15:01:10 +0100 (CET)
Received: from esealmw113.eemea.ericsson.se ([153.88.200.4]) by
	esealmw128.eemea.ericsson.se with Microsoft SMTPSVC(6.0.3790.1830); 
	Sat, 29 Mar 2008 15:01:10 +0100
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Sat, 29 Mar 2008 15:01:09 +0100
Message-ID: <CA9998CD4A020D418654FCDEF4E707DF05066D86@esealmw113.eemea.ericsson.se>
In-Reply-To: <18414.14946.299667.816439@harjus.tutpro.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] Comparison of retargeting proposals
thread-index: AciRmstGtcmMAvDEQ/SkqhzIdWgsYAACfgkg
References: <200803251629.m2PGTC0N025942@dragon.ariadne.com><CA9998CD4A020D418654FCDEF4E707DF05066D81@esealmw113.eemea.ericsson.se><28F05913385EAC43AF019413F674A0171246ED51@OCCLUST04EVS1.ugd.att.com><CA9998CD4A020D418654FCDEF4E707DF05066D85@esealmw113.eemea.ericsson.se>
	<18414.14946.299667.816439@harjus.tutpro.com>
From: "Christer Holmberg" <christer.holmberg@ericsson.com>
To: "Juha Heinanen" <jh@tutpro.com>
X-OriginalArrivalTime: 29 Mar 2008 14:01:10.0577 (UTC)
	FILETIME=[579FA210:01C891A5]
X-Brightmail-Tracker: AAAAAA==
Cc: sip@ietf.org, "DOLLY, MARTIN C, ATTLABS" <mdolly@att.com>
Subject: Re: [Sip] Comparison of retargeting proposals
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


Hi Juha,

It's nice to see that you're still around :)

>>However, I still fail to understand how Target would be more "complex"
than e.g. History-Info. 
>
>christer,
>
>ANY solution for anything must be MUCH simpler than history-info, which
is far too complex by itself.

Yes, and I personally think that Target IS simpler than History-Info.

>i haven't seen anyone fully implement history-info and most likely that
is because of its complexity.  if you are now 
>going to invent some other mechanism that is as complex or even more
complex, it has no change in real world.

Well, if people think Target is complex I sure would like to hear the
reasons. That is why I asked Dale what he means by "complexity", when he
indicates that Target is complex but History-Info isn't...

>i therefore suggest that h-i is deprecated and a replaced by a simpler
mechanism.

I do think it is important to remember that Target is not meant as a
History-Info replacement in general.

Regards,

Christer

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Sat Mar 29 07:04:40 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id A8F2D3A6DED;
	Sat, 29 Mar 2008 07:04:40 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.999
X-Spam-Level: 
X-Spam-Status: No, score=-100.999 tagged_above=-999 required=5
	tests=[AWL=-0.562, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id NqN9FbCDr90v; Sat, 29 Mar 2008 07:04:39 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id A183D3A6E01;
	Sat, 29 Mar 2008 07:04:39 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 6180B28C223
	for <sip@core3.amsl.com>; Sat, 29 Mar 2008 07:04:38 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id mOS4o+aPFpSk for <sip@core3.amsl.com>;
	Sat, 29 Mar 2008 07:04:37 -0700 (PDT)
Received: from mailgw3.ericsson.se (mailgw3.ericsson.se [193.180.251.60])
	by core3.amsl.com (Postfix) with ESMTP id 1382028C0F4
	for <sip@ietf.org>; Sat, 29 Mar 2008 07:04:37 -0700 (PDT)
Received: from mailgw3.ericsson.se (unknown [127.0.0.1])
	by mailgw3.ericsson.se (Symantec Mail Security) with ESMTP id
	2CE022071B; Sat, 29 Mar 2008 15:04:35 +0100 (CET)
X-AuditID: c1b4fb3c-ad099bb00000193b-69-47ee4c733f46
Received: from esealmw128.eemea.ericsson.se (unknown [153.88.254.121])
	by mailgw3.ericsson.se (Symantec Mail Security) with ESMTP id
	0E79820422; Sat, 29 Mar 2008 15:04:35 +0100 (CET)
Received: from esealmw113.eemea.ericsson.se ([153.88.200.4]) by
	esealmw128.eemea.ericsson.se with Microsoft SMTPSVC(6.0.3790.1830); 
	Sat, 29 Mar 2008 15:04:34 +0100
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Sat, 29 Mar 2008 15:04:33 +0100
Message-ID: <CA9998CD4A020D418654FCDEF4E707DF05066D87@esealmw113.eemea.ericsson.se>
In-Reply-To: <47EE3BEE.8060805@telecomitalia.it>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] Comparison of retargeting proposals
thread-index: AciRm/9/UqIhnU6vS4+zjKeswSizXQACYeEw
References: <200803251629.m2PGTC0N025942@dragon.ariadne.com><CA9998CD4A020D418654FCDEF4E707DF05066D81@esealmw113.eemea.ericsson.se>	<28F05913385EAC43AF019413F674A0171246ED51@OCCLUST04EVS1.ugd.att.com>
	<CA9998CD4A020D418654FCDEF4E707DF05066D85@esealmw113.eemea.ericsson.se>
	<47EE3BEE.8060805@telecomitalia.it>
From: "Christer Holmberg" <christer.holmberg@ericsson.com>
To: "Enrico Marocco" <enrico.marocco@telecomitalia.it>
X-OriginalArrivalTime: 29 Mar 2008 14:04:34.0776 (UTC)
	FILETIME=[D155ED80:01C891A5]
X-Brightmail-Tracker: AAAAAA==
Cc: sip@ietf.org, "DOLLY, MARTIN C, ATTLABS" <mdolly@att.com>
Subject: Re: [Sip] Comparison of retargeting proposals
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


Hi, 

>>However, I still fail to understand how Target would be more "complex"
than e.g. History-Info. 
>
>Christer, I'm not sure your mail client displays Dale's table
correctly.
>Complexity is "low" for all proposals but History-Info, for which, in
fact, is set to "high".

Oooh... if that is the case then Outlook IS playing me a trick, and I
would like to appologize and withdraw my comment :)

Regards,

Christer
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Sat Mar 29 17:49:01 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id AC53E28C152;
	Sat, 29 Mar 2008 17:49:01 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.671
X-Spam-Level: 
X-Spam-Status: No, score=-100.671 tagged_above=-999 required=5
	tests=[AWL=-0.234, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id cqVJ4-3VezaL; Sat, 29 Mar 2008 17:49:00 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id A2B203A69D8;
	Sat, 29 Mar 2008 17:49:00 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 8EB903A6C72
	for <sip@core3.amsl.com>; Sat, 29 Mar 2008 17:48:59 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id t6r4O-QLbX96 for <sip@core3.amsl.com>;
	Sat, 29 Mar 2008 17:48:58 -0700 (PDT)
Received: from mail121.messagelabs.com (mail121.messagelabs.com
	[216.82.241.195])
	by core3.amsl.com (Postfix) with ESMTP id 8BE9B3A6A3A
	for <sip@ietf.org>; Sat, 29 Mar 2008 17:48:58 -0700 (PDT)
X-VirusChecked: Checked
X-Env-Sender: mdolly@att.com
X-Msg-Ref: server-6.tower-121.messagelabs.com!1206838134!20694066!1
X-StarScan-Version: 5.5.12.14.2; banners=-,-,-
X-Originating-IP: [144.160.20.54]
Received: (qmail 14892 invoked from network); 30 Mar 2008 00:48:55 -0000
Received: from sbcsmtp7.sbc.com (HELO mlpi135.enaf.sfdc.sbc.com)
	(144.160.20.54)
	by server-6.tower-121.messagelabs.com with AES256-SHA encrypted SMTP;
	30 Mar 2008 00:48:55 -0000
Received: from enaf.sfdc.sbc.com (localhost.localdomain [127.0.0.1])
	by mlpi135.enaf.sfdc.sbc.com (8.14.0/8.14.0) with ESMTP id
	m2U0mscM022435; Sat, 29 Mar 2008 20:48:54 -0400
Received: from OCCLUST04EVS1.ugd.att.com (ocst07.ugd.att.com [135.38.164.12])
	by mlpi135.enaf.sfdc.sbc.com (8.14.0/8.14.0) with ESMTP id
	m2U0mlTj022415; Sat, 29 Mar 2008 20:48:48 -0400
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Sat, 29 Mar 2008 19:48:47 -0500
Message-ID: <28F05913385EAC43AF019413F674A0171246ED5B@OCCLUST04EVS1.ugd.att.com>
In-Reply-To: <CA9998CD4A020D418654FCDEF4E707DF05066D84@esealmw113.eemea.ericsson.se>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] Comparison of retargeting proposals
Thread-Index: AciOlb91KfRWHPs1TqqSutsiXbbFBADApkEgABnQkbA=
References: <200803251629.m2PGTC0N025942@dragon.ariadne.com>
	<CA9998CD4A020D418654FCDEF4E707DF05066D84@esealmw113.eemea.ericsson.se>
From: "DOLLY, MARTIN C, ATTLABS" <mdolly@att.com>
To: "Christer Holmberg" <christer.holmberg@ericsson.com>,
	<Dale.Worley@comcast.net>, <sip@ietf.org>
Subject: Re: [Sip] Comparison of retargeting proposals
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Hello,

Loose route is a POS,,,, not predictable. Target-URI is preferred.

Martin 

-----Original Message-----
From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On Behalf Of
Christer Holmberg
Sent: Saturday, March 29, 2008 8:30 AM
To: Dale.Worley@comcast.net; sip@ietf.org
Subject: Re: [Sip] Comparison of retargeting proposals


Hi,

Another comment:

For ua-loose-route you indicate that is is upward-compatible for
intermediate proxies/routing.

Maybe I missunderstand what you are trying to say, but one of the main
issues (in my opinion) with the ua-loose-route mechanism is that it DOES
need to know whether the next hop supports it or not.

Regards,

Christer 

-----Original Message-----
From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On Behalf Of
Dale.Worley@comcast.net
Sent: 25. maaliskuuta 2008 18:29
To: sip@ietf.org
Subject: [Sip] Comparison of retargeting proposals

I've put together a comparison chart of the varous retargeting
proposals:

			ua-loose-route	target-uri	History-Info
URI-
							 (updated)
param.

Upward-compatible	N		Y		Y
Y
with RFC 3263?

Upward-compatible	depends		Y		Y
Y
for UA?

Upward-compatible for	Y		Y		Y
Y
intermediate proxies?

Complexity		low		low		high
low

Upward-compatible for	Y		Y		Y
N
intermediate routing?

Multiple targets?	N		N		Y
N


The proposals are:

ua-loose-route - draft-rosenberg-sip-ua-loose-route-02

target-uri - draft-holmberg-sip-target-uri-delivery-01

History-Info - History-Info (RFC 4244), with additional parameters as
needed

URI-param. - a URI-parameter like the 'target' proposed in RFC 4458


The criteria are:

Upward-compatible with RFC 3263?

If a message has no Route headers, is its destination to be determined
from the request-URI host-port as in RFC 3263?

Upward-compatible for UA?

Is the proposal compatible with UAs that use RFC 3263 to examine the
request-URI to determine if they are the destination of the request.

Complexity

Multiple targets?

Does the mechanism display more than the latest retargeted URI?


Dale
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol Use
sip-implementors@cs.columbia.edu for questions on current sip Use
sipping@ietf.org for new developments on the application of sip
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Sun Mar 30 10:00:38 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id E04183A6DE2;
	Sun, 30 Mar 2008 10:00:38 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -100.514
X-Spam-Level: 
X-Spam-Status: No, score=-100.514 tagged_above=-999 required=5
	tests=[AWL=-0.077, BAYES_00=-2.599, FH_RELAY_NODNS=1.451,
	HELO_MISMATCH_ORG=0.611, RDNS_NONE=0.1, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id EOntwY1QepHG; Sun, 30 Mar 2008 10:00:38 -0700 (PDT)
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 691303A6DB7;
	Sun, 30 Mar 2008 10:00:29 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 5EA6B3A6D1F;
	Sun, 30 Mar 2008 10:00:26 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id DGX1fh5Ii-5R; Sun, 30 Mar 2008 10:00:25 -0700 (PDT)
Received: from estacado.net (estacado-pt.tunnel.tserv2.fmt.ipv6.he.net
	[IPv6:2001:470:1f03:266::2])
	by core3.amsl.com (Postfix) with ESMTP id 2DDA93A6CEF;
	Sun, 30 Mar 2008 10:00:24 -0700 (PDT)
Received: from [192.168.2.6] (pool-71-164-164-40.dllstx.fios.verizon.net
	[71.164.164.40]) (authenticated bits=0)
	by estacado.net (8.14.2/8.14.1) with ESMTP id m2UH06IC049539
	(version=TLSv1/SSLv3 cipher=AES128-SHA bits=128 verify=NO);
	Sun, 30 Mar 2008 12:00:21 -0500 (CDT)
	(envelope-from rjsparks@estacado.net)
Message-Id: <3A1B9984-4751-48B6-96D9-E4058E4CBDE7@estacado.net>
From: Robert Sparks <rjsparks@estacado.net>
To: sip List <sip@ietf.org>, sipping LIST <sipping@ietf.org>,
	simple mailing list <simple@ietf.org>
In-Reply-To: <DD459298-A1DC-440D-A9A9-DC64FC9458CA@estacado.net>
Mime-Version: 1.0 (Apple Message framework v919.2)
Date: Sun, 30 Mar 2008 12:00:06 -0500
References: <D282B4E8-CFFC-4D0A-BC8E-1AAFDF7F0B2E@estacado.net>
	<43A3E655-E3C8-406A-B6FA-8BFCC64F0A63@estacado.net>
	<DD459298-A1DC-440D-A9A9-DC64FC9458CA@estacado.net>
X-Mailer: Apple Mail (2.919.2)
Subject: [Sip] Reminder: SIPit 22 registration closes this Friday
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Registration for this SIPit closes this Friday (April 4).

If you're planning to attend, but have not yet registered, please do  
so now. Space is limited.

RjS

------------

SIPit 22 will be hosted by the University of New Hampshire  
Interoperability Laboratory
April 14 through 18, 2008.

Registration is $350 (USD) per person. Registration will close April 4.

Space is limited, so register early to ensure a seat.

Additional registration details are available at http://www.sipit.net
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Sun Mar 30 22:15:51 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id EA3B63A6AB7;
	Sun, 30 Mar 2008 22:15:50 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 5E29F28C126
	for <sip@core3.amsl.com>; Sun, 30 Mar 2008 22:15:49 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.598
X-Spam-Level: 
X-Spam-Status: No, score=-2.598 tagged_above=-999 required=5
	tests=[BAYES_00=-2.599, HTML_MESSAGE=0.001]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id AKPTkGvimWyH for <sip@core3.amsl.com>;
	Sun, 30 Mar 2008 22:15:48 -0700 (PDT)
Received: from rv-out-0910.google.com (rv-out-0910.google.com [209.85.198.189])
	by core3.amsl.com (Postfix) with ESMTP id 891E93A6B56
	for <sip@ietf.org>; Sun, 30 Mar 2008 22:15:36 -0700 (PDT)
Received: by rv-out-0910.google.com with SMTP id l15so748608rvb.49
	for <sip@ietf.org>; Sun, 30 Mar 2008 22:15:35 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=beta;
	h=domainkey-signature:received:received:message-id:date:from:to:subject:mime-version:content-type;
	bh=sPOetPEIFw1G3Tg90y7qiXm14+hlMartJMUVW+iqrfY=;
	b=G1zyblTIBjrmJZjhxKhAac4OgeOlmvg3mzoyEjbLlJ/i9ewXUotOQQZ8GEniZ988mQd20/klArYMdYpsBYDaZVPGRWtgJdYZvIyY/+PIMLdEukkZZh3Az8wf4uBUYSqzDFAaSFnXqR0RkTaOBVqKcrurgSFOzYsGzCnAxncdpqA=
DomainKey-Signature: a=rsa-sha1; c=nofws; d=gmail.com; s=beta;
	h=message-id:date:from:to:subject:mime-version:content-type;
	b=YzJ3ztRn5C8bWIws2V7E+zxMN196Sjd9UrNOLjbqpy4c37Rw3zAVTKkB1t88uL/V42MLNqZh836j61IK3KZWzicimRcoQffJM95BEMiyTuG0RibZBNS5E48YEzUeDr6kwLiXPmvC44z0PBn2Ba+uT0sRvQ1n5NEfd+ptE8uXInA=
Received: by 10.140.88.11 with SMTP id l11mr3053382rvb.237.1206940535304;
	Sun, 30 Mar 2008 22:15:35 -0700 (PDT)
Received: by 10.141.63.11 with HTTP; Sun, 30 Mar 2008 22:15:35 -0700 (PDT)
Message-ID: <abec1eb90803302215h72bef841q5d2546e462faaddb@mail.gmail.com>
Date: Mon, 31 Mar 2008 10:45:35 +0530
From: "ajay thakur" <thakur.ajay.ietf@gmail.com>
To: sip@ietf.org
MIME-Version: 1.0
Subject: [Sip] SIP on top of tcp
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: multipart/mixed; boundary="===============0433030371=="
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

--===============0433030371==
Content-Type: multipart/alternative; 
	boundary="----=_Part_25280_23045973.1206940535299"

------=_Part_25280_23045973.1206940535299
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Hi all,
I am new to SIP and have few doubts about SIP over tcp.
I saw that once UAC registers with register-server, UAC closes
tcp connection with the server. Is it intended behaviour ? I mean
if there is any firewall presence in the network then UAC closing
connection with UAS creates problem.
I am confused about this. Any idea ?


Thanks
Ajay Thakur

------=_Part_25280_23045973.1206940535299
Content-Type: text/html; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

<div>Hi all,</div>
<div>I am new to SIP and have few doubts about SIP over tcp. </div>
<div>I saw that once UAC registers with register-server, UAC closes</div>
<div>tcp connection with the server. Is it intended behaviour ? I mean</div>
<div>if there is any firewall presence in the network then UAC closing</div>
<div>connection with UAS creates problem.&nbsp;</div>
<div>I&nbsp;am&nbsp;confused about this. Any idea ?</div>
<div>&nbsp;</div>
<div>&nbsp;</div>
<div>Thanks</div>
<div>Ajay Thakur&nbsp;</div>

------=_Part_25280_23045973.1206940535299--

--===============0433030371==
Content-Type: text/plain; charset="us-ascii"
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip
--===============0433030371==--


From sip-bounces@ietf.org  Sun Mar 30 22:34:00 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 605AD28C1CF;
	Sun, 30 Mar 2008 22:34:00 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 3362928C1CF
	for <sip@core3.amsl.com>; Sun, 30 Mar 2008 22:33:59 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -3.15
X-Spam-Level: 
X-Spam-Status: No, score=-3.15 tagged_above=-999 required=5 tests=[AWL=3.149, 
	BAYES_00=-2.599, MIME_8BIT_HEADER=0.3, RCVD_IN_DNSWL_MED=-4]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id KBMeeSN1hiSo for <sip@core3.amsl.com>;
	Sun, 30 Mar 2008 22:33:58 -0700 (PDT)
Received: from mgw-mx09.nokia.com (smtp.nokia.com [192.100.105.134])
	by core3.amsl.com (Postfix) with ESMTP id 772FA28C1B7
	for <sip@ietf.org>; Sun, 30 Mar 2008 22:33:58 -0700 (PDT)
Received: from esebh107.NOE.Nokia.com (esebh107.ntc.nokia.com [172.21.143.143])
	by mgw-mx09.nokia.com (Switch-3.2.6/Switch-3.2.6) with ESMTP id
	m2V5ZgWI000810; Mon, 31 Mar 2008 00:36:00 -0500
Received: from esebh102.NOE.Nokia.com ([172.21.138.183]) by
	esebh107.NOE.Nokia.com with Microsoft SMTPSVC(6.0.3790.3959); 
	Mon, 31 Mar 2008 08:33:32 +0300
Received: from esdhcp04061.research.nokia.com ([172.21.40.61]) by
	esebh102.NOE.Nokia.com with Microsoft SMTPSVC(6.0.3790.3959); 
	Mon, 31 Mar 2008 08:33:32 +0300
From: =?utf-8?q?R=C3=A9mi_Denis-Courmont?= <remi.denis-courmont@nokia.com>
Organization: Nokia Devices R&D
To: sip@ietf.org
Date: Mon, 31 Mar 2008 08:34:01 +0300
User-Agent: KMail/1.9.9
References: <abec1eb90803302215h72bef841q5d2546e462faaddb@mail.gmail.com>
In-Reply-To: <abec1eb90803302215h72bef841q5d2546e462faaddb@mail.gmail.com>
MIME-Version: 1.0
Content-Disposition: inline
Message-Id: <200803310834.01988.remi.denis-courmont@nokia.com>
X-OriginalArrivalTime: 31 Mar 2008 05:33:33.0038 (UTC)
	FILETIME=[C25780E0:01C892F0]
X-Nokia-AV: Clean
Subject: Re: [Sip] SIP on top of tcp
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

TGUgTW9uZGF5IDMxIE1hcmNoIDIwMDggMDg6MTU6MzUgZXh0IGFqYXkgdGhha3VyLCB2b3VzIGF2
ZXogw6ljcml0wqA6Cj4gSSBhbSBuZXcgdG8gU0lQIGFuZCBoYXZlIGZldyBkb3VidHMgYWJvdXQg
U0lQIG92ZXIgdGNwLgo+IEkgc2F3IHRoYXQgb25jZSBVQUMgcmVnaXN0ZXJzIHdpdGggcmVnaXN0
ZXItc2VydmVyLCBVQUMgY2xvc2VzCj4gdGNwIGNvbm5lY3Rpb24gd2l0aCB0aGUgc2VydmVyLiBJ
cyBpdCBpbnRlbmRlZCBiZWhhdmlvdXIgPyBJIG1lYW4KPiBpZiB0aGVyZSBpcyBhbnkgZmlyZXdh
bGwgcHJlc2VuY2UgaW4gdGhlIG5ldHdvcmsgdGhlbiBVQUMgY2xvc2luZwo+IGNvbm5lY3Rpb24g
d2l0aCBVQVMgY3JlYXRlcyBwcm9ibGVtLgo+IEkgYW0gY29uZnVzZWQgYWJvdXQgdGhpcy4gQW55
IGlkZWEgPwoKV2hpbGUgYW4gYXJndWFibGUgZGVzaWduIGRlY2lzaW9uLCB0aGlzIGJlaGF2aW9y
IHNlZW1zIGNvcnJlY3Qgd2l0aCByZWdhcmRzIHRvIAp0aGUgc3BlY2lmaWNhdGlvbi4KCklmIHlv
dSB3YW50IGFuIGFsd2F5cy1vbiBUQ1AgY29ubmVjdGlvbiBmcm9tIHRoZSBjbGllbnQgdG8gdGhl
IHNlcnZlciwgdXNlIApzaXAtb3V0Ym91bmQuCgotLSAKUsOpbWkgRGVuaXMtQ291cm1vbnQKX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KU2lwIG1haWxpbmcg
bGlzdCAgaHR0cHM6Ly93d3cuaWV0Zi5vcmcvbWFpbG1hbi9saXN0aW5mby9zaXAKVGhpcyBsaXN0
IGlzIGZvciBORVcgZGV2ZWxvcG1lbnQgb2YgdGhlIGNvcmUgU0lQIFByb3RvY29sClVzZSBzaXAt
aW1wbGVtZW50b3JzQGNzLmNvbHVtYmlhLmVkdSBmb3IgcXVlc3Rpb25zIG9uIGN1cnJlbnQgc2lw
ClVzZSBzaXBwaW5nQGlldGYub3JnIGZvciBuZXcgZGV2ZWxvcG1lbnRzIG9uIHRoZSBhcHBsaWNh
dGlvbiBvZiBzaXA=


From sip-bounces@ietf.org  Sun Mar 30 23:13:58 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 4757228C340;
	Sun, 30 Mar 2008 23:13:58 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id B251228C2B3
	for <sip@core3.amsl.com>; Sun, 30 Mar 2008 23:13:56 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.448
X-Spam-Level: 
X-Spam-Status: No, score=-2.448 tagged_above=-999 required=5
	tests=[AWL=-0.150, BAYES_00=-2.599, HTML_MESSAGE=0.001,
	MIME_8BIT_HEADER=0.3]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id G9D8VCpZwal0 for <sip@core3.amsl.com>;
	Sun, 30 Mar 2008 23:13:56 -0700 (PDT)
Received: from rv-out-0910.google.com (rv-out-0910.google.com [209.85.198.191])
	by core3.amsl.com (Postfix) with ESMTP id 0AD7528C340
	for <sip@ietf.org>; Sun, 30 Mar 2008 23:13:56 -0700 (PDT)
Received: by rv-out-0910.google.com with SMTP id l15so757712rvb.49
	for <sip@ietf.org>; Sun, 30 Mar 2008 23:13:50 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=beta;
	h=domainkey-signature:received:received:message-id:date:from:to:subject:cc:in-reply-to:mime-version:content-type:references;
	bh=mImhm2dzFECg1XpnIVhJnxeNinXx/BSS9xNPJeLnt90=;
	b=B3KXeWknXqbW6u+mVZ8uG3e3ReU6WbSDplsLu9iSuhSBzZtGhTSiPrRYVrPVacWqA7c24ay7l2hqEQNxXYezFMKwn8Rw0N72o7p89BEXPV7Dme3vVfv9qGl9xkrPNxzRF6lhRDEG7/97lm8vFHrOIvSM1swXwf4IJ1H4KN3/nI8=
DomainKey-Signature: a=rsa-sha1; c=nofws; d=gmail.com; s=beta;
	h=message-id:date:from:to:subject:cc:in-reply-to:mime-version:content-type:references;
	b=EQDW2s5HHFsDWZ1LeEPVMd0wnohT0zIZ4/TaYuJAzII1wxJKmKHEqHPMORyPZUh22ctaABzw76Kkhz2Cb+gaR6B2sTSbAW+ua3Wtt2729PW0DTjFV23AshC9663D2EUQ2E8HvBbh1kt+wROHptPdIRZliBryDEcIERFbLJqmf/M=
Received: by 10.141.113.6 with SMTP id q6mr3094242rvm.135.1206944030694;
	Sun, 30 Mar 2008 23:13:50 -0700 (PDT)
Received: by 10.141.63.11 with HTTP; Sun, 30 Mar 2008 23:13:50 -0700 (PDT)
Message-ID: <abec1eb90803302313n16ba6942n360f3d734c2bc1a@mail.gmail.com>
Date: Mon, 31 Mar 2008 11:43:50 +0530
From: "ajay thakur" <thakur.ajay.ietf@gmail.com>
To: "=?ISO-8859-1?Q?R=E9mi_Denis-Courmont?=" <remi.denis-courmont@nokia.com>
In-Reply-To: <200803310834.01988.remi.denis-courmont@nokia.com>
MIME-Version: 1.0
References: <abec1eb90803302215h72bef841q5d2546e462faaddb@mail.gmail.com>
	<200803310834.01988.remi.denis-courmont@nokia.com>
Cc: sip@ietf.org
Subject: Re: [Sip] SIP on top of tcp
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: multipart/mixed; boundary="===============1483489265=="
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

--===============1483489265==
Content-Type: multipart/alternative; 
	boundary="----=_Part_25392_20572516.1206944030685"

------=_Part_25392_20572516.1206944030685
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Thanks for reply Denis,

You mean to say we need to have sip-proxy in the same network to
avoid this problem? Please correct me if i m wrong.

Thanks
Ajay

On Mon, Mar 31, 2008 at 11:04 AM, R=E9mi Denis-Courmont <
remi.denis-courmont@nokia.com> wrote:

> Le Monday 31 March 2008 08:15:35 ext ajay thakur, vous avez =E9crit :
>  > I am new to SIP and have few doubts about SIP over tcp.
> > I saw that once UAC registers with register-server, UAC closes
> > tcp connection with the server. Is it intended behaviour ? I mean
> > if there is any firewall presence in the network then UAC closing
> > connection with UAS creates problem.
> > I am confused about this. Any idea ?
>
> While an arguable design decision, this behavior seems correct with
> regards to
> the specification.
>
> If you want an always-on TCP connection from the client to the server, us=
e
> sip-outbound.
>
> --
> R=E9mi Denis-Courmont
>

------=_Part_25392_20572516.1206944030685
Content-Type: text/html; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

<div>Thanks for reply Denis,</div>
<div>&nbsp;</div>
<div>You mean to say we need to have sip-proxy in the same network to</div>
<div>avoid this problem? Please correct me if i m wrong.</div>
<div>&nbsp;</div>
<div>Thanks</div>
<div>Ajay<br><br></div>
<div class=3D"gmail_quote">On Mon, Mar 31, 2008 at 11:04 AM, R=E9mi Denis-C=
ourmont &lt;<a href=3D"mailto:remi.denis-courmont@nokia.com">remi.denis-cou=
rmont@nokia.com</a>&gt; wrote:<br>
<blockquote class=3D"gmail_quote" style=3D"PADDING-LEFT: 1ex; MARGIN: 0px 0=
px 0px 0.8ex; BORDER-LEFT: #ccc 1px solid">Le Monday 31 March 2008 08:15:35=
 ext ajay thakur, vous avez =E9crit&nbsp;:<br>
<div>
<div></div>
<div class=3D"Wj3C7c">&gt; I am new to SIP and have few doubts about SIP ov=
er tcp.<br>&gt; I saw that once UAC registers with register-server, UAC clo=
ses<br>&gt; tcp connection with the server. Is it intended behaviour ? I me=
an<br>
&gt; if there is any firewall presence in the network then UAC closing<br>&=
gt; connection with UAS creates problem.<br>&gt; I am confused about this. =
Any idea ?<br><br></div></div>While an arguable design decision, this behav=
ior seems correct with regards to<br>
the specification.<br><br>If you want an always-on TCP connection from the =
client to the server, use<br>sip-outbound.<br><br>--<br><font color=3D"#888=
888">R=E9mi Denis-Courmont<br></font></blockquote></div><br>

------=_Part_25392_20572516.1206944030685--

--===============1483489265==
Content-Type: text/plain; charset="us-ascii"
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip
--===============1483489265==--


From sip-bounces@ietf.org  Mon Mar 31 03:22:43 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 9A90428C333;
	Mon, 31 Mar 2008 03:22:43 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 026543A6CDB
	for <sip@core3.amsl.com>; Mon, 31 Mar 2008 03:22:42 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -1.586
X-Spam-Level: 
X-Spam-Status: No, score=-1.586 tagged_above=-999 required=5 tests=[AWL=1.013, 
	BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id ZFWxf1OZDRmy for <sip@core3.amsl.com>;
	Mon, 31 Mar 2008 03:22:41 -0700 (PDT)
Received: from nylon.softarmor.com (nylon.softarmor.com [66.135.38.164])
	by core3.amsl.com (Postfix) with ESMTP id 298513A6BEC
	for <sip@ietf.org>; Mon, 31 Mar 2008 03:22:41 -0700 (PDT)
Received: from [192.168.2.103] (cpe-76-185-142-113.tx.res.rr.com
	[76.185.142.113]) (authenticated bits=0)
	by nylon.softarmor.com (8.13.8/8.13.8/Debian-3) with ESMTP id
	m2VAMaIl012923
	(version=TLSv1/SSLv3 cipher=AES128-SHA bits=128 verify=NOT);
	Mon, 31 Mar 2008 05:22:37 -0500
Message-Id: <49346B64-E1F0-4A30-AF09-1290B245AFDA@softarmor.com>
From: Dean Willis <dean.willis@softarmor.com>
To: ajay thakur <thakur.ajay.ietf@gmail.com>
In-Reply-To: <abec1eb90803302313n16ba6942n360f3d734c2bc1a@mail.gmail.com>
Mime-Version: 1.0 (Apple Message framework v919.2)
Date: Mon, 31 Mar 2008 05:22:31 -0500
References: <abec1eb90803302215h72bef841q5d2546e462faaddb@mail.gmail.com>
	<200803310834.01988.remi.denis-courmont@nokia.com>
	<abec1eb90803302313n16ba6942n360f3d734c2bc1a@mail.gmail.com>
X-Mailer: Apple Mail (2.919.2)
Cc: sip@ietf.org
Subject: Re: [Sip] SIP on top of tcp
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


On Mar 31, 2008, at 1:13 AM, ajay thakur wrote:
> Thanks for reply Denis,
>
> You mean to say we need to have sip-proxy in the same network to
> avoid this problem? Please correct me if i m wrong.

Either the UA has to be reachable via TCP from the proxy, or the UA  
has to hold the TCP connection open to the proxy.

Techniques for this latter condition are described in draft-ietf-sip- 
outbound, which is currently in working group last call and will  
hopefully become an RFC relatively soon.

--
Dean

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Mon Mar 31 04:48:49 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 10DD728C449;
	Mon, 31 Mar 2008 04:48:49 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 2A1AD28C3F7
	for <sip@core3.amsl.com>; Mon, 31 Mar 2008 04:48:46 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -4.299
X-Spam-Level: 
X-Spam-Status: No, score=-4.299 tagged_above=-999 required=5
	tests=[BAYES_00=-2.599, MANGLED_LIST=2.3, RCVD_IN_DNSWL_MED=-4]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id MJOUfuA3Is2u for <sip@core3.amsl.com>;
	Mon, 31 Mar 2008 04:48:44 -0700 (PDT)
Received: from mgw-mx03.nokia.com (smtp.nokia.com [192.100.122.230])
	by core3.amsl.com (Postfix) with ESMTP id 309A128C46C
	for <sip@ietf.org>; Mon, 31 Mar 2008 04:47:17 -0700 (PDT)
Received: from esebh106.NOE.Nokia.com (esebh106.ntc.nokia.com [172.21.138.213])
	by mgw-mx03.nokia.com (Switch-3.2.6/Switch-3.2.6) with ESMTP id
	m2VBkna8018419 for <sip@ietf.org>; Mon, 31 Mar 2008 14:47:13 +0300
Received: from esebh108.NOE.Nokia.com ([172.21.143.145]) by
	esebh106.NOE.Nokia.com with Microsoft SMTPSVC(6.0.3790.3959); 
	Mon, 31 Mar 2008 14:47:04 +0300
Received: from esebh102.NOE.Nokia.com ([172.21.138.183]) by
	esebh108.NOE.Nokia.com with Microsoft SMTPSVC(6.0.3790.3959); 
	Mon, 31 Mar 2008 14:47:04 +0300
Received: from [10.144.22.63] ([10.144.22.63]) by esebh102.NOE.Nokia.com over
	TLS secured channel with Microsoft SMTPSVC(6.0.3790.3959); 
	Mon, 31 Mar 2008 14:47:03 +0300
Message-ID: <47F0CF37.3020309@nsn.com>
Date: Mon, 31 Mar 2008 14:47:03 +0300
From: Miguel Garcia <Miguel.Garcia@nsn.com>
User-Agent: Thunderbird 1.5.0.12 (Windows/20070509)
MIME-Version: 1.0
To: Jari Urpalainen <Jari.Urpalainen@nokia.com>
References: <5D1A7985295922448D5550C94DE2918001CEC34C@DEEXC1U01.de.lucent.com>
In-Reply-To: <5D1A7985295922448D5550C94DE2918001CEC34C@DEEXC1U01.de.lucent.com>
X-OriginalArrivalTime: 31 Mar 2008 11:47:03.0970 (UTC)
	FILETIME=[F04C5820:01C89324]
X-Nokia-AV: Clean
Cc: IETF SIP List <sip@ietf.org>
Subject: Re: [Sip] WGLC for draft-ietf-sip-xcapevent-01
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Hi:

Here are some comments to the XCAP event package, in sequential order.


- Introduction, 2nd paragraph. Indicate that the subscription can be 
applied to "several documents". There is a reference to RFC 4918 that I 
don't get it. I don't understand what is this reference, so better 
remove it.

OLD:
    This memo defines an
    "xcap-diff" event package that, together with the SIP event
    notification framework [RFC3265] and the XCAP-diff format
    [I-D.ietf-simple-xcap-diff], allows a user to subscribe to changes in
    an XML document, and to receive notifications whenever a change in an
    XML document takes place. It is also possible to subscribe to
    documents within some collection [RFC4918], the notifier provides
    then the documents where the user has read privilege.

NEW:

     This memo defines an
    "xcap-diff" event package that, together with the SIP event
    notification framework [RFC3265] and the XCAP-diff format
    [I-D.ietf-simple-xcap-diff], allows a user to subscribe to changes in
    one or more XML documents, and to receive notifications whenever a
    change in any of those XML document takes place.

- Introduction... More than an Introduction, the third paragraph is an 
Overview of Operation. Perhaps this paragraph should be promoted to its 
own section (titled Overview of operation), and should have an overview 
of what the draft does: The SUBSCRIBE contains a list, the first NOTIFY 
contains references, further NOTIFYs contain changes according to the 
selected diff-processing model, which can be this and that... ETags 
management, etc.

- Definitions. I think the 'Aggregating' definition is not clear. I got 
confused thinking that Aggregating is about "several documents". 
However, it is about aggregating intermediate states of the same 
component. I would suggest as a definition something around:

    Aggregating:  A given XCAP component might have passed through 
several changes in a period of time. Aggregating considers only the 
initial state and the final one, bypassing all the intermediate changes. 
Therefore, when changes for a given XCAP component are aggregated, it is 
not possible to recreate the full history of changes of that XCAP component.

- Definitions: I am missing the definition of "collection". RFC 4918 
refers to "sets of documents". I think collections, in the context of 
this draft, refers to "set of XCAP resources (including documents, 
elements, or attributes).

- Section 4.1, 1st paragraph. I think the text starts describing what is 
NOT the common operation of the event package. Given that the document 
haven't explained at this time the relevant concepts of the package, I 
find hard to follow how especial cases will work. I would suggest that 
the document starts describing the simples easiest cases and then it 
moves to complicated cases (such as when the client is not aware of all 
the individual XCAP documents it is subscribing to).

- Section 4.1, 2nd paragraph. Same as before. The document explains how 
to subscribe to an XCAP element "without the need of a separate HTTP GET 
request" when the document hasn't explained how to do a regular 
subscription to one or more documents.

- After reading Section 4.1, I concluded that I don't understand 
anything about the title: XCAP-Diff Processing Model. I think this 
section has to be re-written (I can help Jari with the text). I believe 
it should give an overview of the 3 XCAP-Diff processing models so that 
the reader understands something.

- The draft should say which of the 3 XCAP-Diff processing models is 
mandatory to implement. I suspect the draft assumes that all 3 are 
mandatory to implement in both the server and the clients. So, it should 
say it. But isn't that in contradiction with the following sentence in 
Section 4.7?

    It is RECOMMENDED to implement the XML-Patch-Ops processing on a
    server.

How can one implement the xcap-patch diff-processing model without the 
XML-Patch-Ops?

- Section 4.3. This section answers better the title of Section 4.1: 
XCAP-Diff processing. However, in the first paragraph, the document 
should clarify: a) what are the differences between the 3 models; b) 
what is NOT included in notifications for each of the models.

- Section 4.4, 1st paragraph, the text reads:

    When generating a subscribe request, the subscriber needs to define
    the resources it is interested in getting information.  This can be
    done simply by sending a URI list to the SIP notifier.

This can be done???? I am missing some stronger language, in particular, 
some language that clearly defines that there could be other potential 
mechanisms (SUBSCRIBE URI-list servers), but these aren't considered in 
this document. I propose:

    When generating a SUBSCRIBE request, the subscriber needs to define
the resources it is interested in getting information.  This document 
provides a mechanism to include lists of URIs in the SUBSCRIBE request: 
An XCAP resource list according to the format specified in RFC 4826 
[RFC2836] is included as a body of the SUBSCRIBE request that creates 
the subscription. Each of these URIs in the XCAP resource list 
represents an XCAP resource for which notification of changes are requested.

Question: if a SUBSCRIBE request is sent to refresh a subscription, MUST 
it contain a URI list? Can the URI list change in a subsequent 
SUBSCRIBE? The draft should say something, whatever it is.

- Section 4.4. Missing text about the Request-URI. Although the title of 
Section 4.4 has nothing to do with Request-URIs, I think somehow 
somewhere the document should say what is the assumption about the 
Request-URI of the SUBSCRIBE request. I guess the document tries to say:

A subscribers need to appropriately populate the Request-URI of the 
SUBSCRIBE request. This document does not provide any constraints to it. 
   It is assumed that the subscriber is provisioned or has learned the 
Request-URI of the notifier of this event package. Initial SUBSCRIBE 
requests are assumed to be addressed to the URI of that notifier.

- Section 4.4, 4th paragraph says:

    Figure 2 shows an example to a subscription of several XCAP
    resources:

That is not correct. Figure 2 shows "the body of a subscription", but 
not the subscription. And this is a big problem. I highly recommend to 
include a full SUBSCRIBE request that contains the body as well, I am 
not sure if it fits in this section or in some other section, but I 
desperately need it.

- Also: Somewhere the text should explain that each <entry> in the 
'resource-list' can point to a single XCAP resource (document, element, 
or attribute), or a collection of them. I believe "collections" are only 
indicated as examples, but not really described.

- Section 4.6 says:

    Also the removals of documents, elements and
    attributes can be shown.

I would expect this to be a normative "MUST be shown".

- I think the first paragraph in Section 4.7 should be slit into 
different paragraphs, each one devoted to a different concept. I can 
identify: Resolving resources (including those who don't exist); 
generating a first NOTIFY versus generating subsequent ones; 
applicability of draft-ietf-sip-subnot-etags (does this draft really 
need to say something new?); treatment of the different XCAP-Diff values.

- Section 4.7, 4th paragraph says:

    However, the notifier MUST support XCAP component
    subscriptions.

So, is there another alternative? I mean, this gives me the impression 
like if XCAP components were an option in XCAP, and therefore, 
subscriptions to those XCAP components were also optional. Is this the case?

- Section 4.7 says:

    The existence of elements is then indicated with an empty
    <element> element and the content is not shown for those resources.
    In other words, the <element> element does not not have a child
    element then which would show the subscribed "full" element content.

I understand what the text says, but I think an example showing the two 
possibilities will really clarify the text.

- Section 4.7, last paragraph says:

     Partial-PIDF-Notify
    [I-D.ietf-simple-partial-notify] requires that notifiers will not
    send a new request to the same dialog unless a successful response
    (200 OK) has been received for the last request.  The latter applies
    also to this "xcap-diff" event package.

I am missing a normative statement here. Perhaps replacing the last 
sentence with:

   A notifier of this "xcap-diff" event package MUST NOT send a 
subsequent NOTIFY request until the notifier has received a 200-class 
response for a previous one.

- Section 5. I would like to see more examples, in particular, I would 
like to see one example of the same subscription with different 
processing models, to better understand the differences among them.

- Section 6, IANA considerations section fails to mention
that this registration is about "SIP".  So,
first, I would remove the first two sentences, and the headline 6.1,
and just would leave:


This specification instructs IANA to add a new event package to the
SIP Event Types Namespace registry. The new data to be added is:

Package Name    Type            Contact                    Reference
-------------   --------        -------                    ---------
xcap-diff       package         IETF SIPPING Working Group [RFCXXXX]
                                 <sipping&ietf.org>




Thanks,

        Miguel

DRAGE, Keith (Keith) wrote:
> (As SIP WG cochair)
> 
> In parallel with the WGLC on xcap-diff in the message below (as these
> are related drafts), this is to initiate a WGLC on:
> 
> http://www.ietf.org/internet-drafts/draft-ietf-sip-xcapevent-01.txt 
> 
> Comments should be sent to the SIP list and to the editor by 31st March
> 2008, ie. This is a 3 week WGLC to take into account the overlap with
> the current IETF meeting.
> 
> Please take some steps to indicate the severity of the comment (from NIT
> through to major technical).
> 
> Obviously please follow the requirements below for comments on the
> related draft.
> 
> Regards
> 
> Keith
> 
> 
> 
> -----Original Message-----
> From: Robert Sparks [mailto:rjsparks@nostrum.com] 
> Sent: Monday, March 10, 2008 10:23 PM
> To: simple mailing list
> Cc: Jari Urpalainen; sip-chairs@tools.ietf.org
> Subject: WGLC: draft-ietf-simple-xcap-diff-08
> 
> Folks -
> 
> This is a Working Group Last Call for comments on
> http://www.ietf.org/internet-drafts/draft-ietf-simple-xcap-diff-08.txt
> 
> The editor for draft-ietf-simple-xcap-diff and draft-ietf-sip- xcapevent
> has indicated these drafts are ready for WGLC.
> We're coordinating the LC time between the two working groups.
> 
> Please have your comments to the editor/list by three weeks from today
> (March 31,2008).
> 
> Thanks,
> 
> RjS
> 
> _______________________________________________
> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
> 

-- 
Miguel A. Garcia           tel:+358-50-4804586
Nokia Siemens Networks     Espoo, Finland

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Mon Mar 31 17:16:38 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id D9BD028C0E7;
	Mon, 31 Mar 2008 17:16:38 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 363393A67A3
	for <sip@core3.amsl.com>; Mon, 31 Mar 2008 17:16:37 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -3.987
X-Spam-Level: 
X-Spam-Status: No, score=-3.987 tagged_above=-999 required=5 tests=[AWL=2.612, 
	BAYES_00=-2.599, RCVD_IN_DNSWL_MED=-4]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id Tb1BlQNQbM00 for <sip@core3.amsl.com>;
	Mon, 31 Mar 2008 17:16:36 -0700 (PDT)
Received: from zrtps0kn.nortel.com (zrtps0kn.nortel.com [47.140.192.55])
	by core3.amsl.com (Postfix) with ESMTP id 3A2EA3A6C4A
	for <sip@ietf.org>; Mon, 31 Mar 2008 17:16:36 -0700 (PDT)
Received: from zrc2hxm0.corp.nortel.com (zrc2hxm0.corp.nortel.com
	[47.103.123.71])
	by zrtps0kn.nortel.com (Switch-2.2.6/Switch-2.2.0) with ESMTP id
	m310GTv21913; Tue, 1 Apr 2008 00:16:30 GMT
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Mon, 31 Mar 2008 19:15:51 -0500
Message-ID: <1ECE0EB50388174790F9694F77522CCF15D57E04@zrc2hxm0.corp.nortel.com>
In-Reply-To: <18414.14946.299667.816439@harjus.tutpro.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] Comparison of retargeting proposals
Thread-Index: AciRmuXokKnUmVQyROmRmE5PNupbGQB8oDog
References: <200803251629.m2PGTC0N025942@dragon.ariadne.com>
	<CA9998CD4A020D418654FCDEF4E707DF05066D81@esealmw113.eemea.ericsson.se>
	<28F05913385EAC43AF019413F674A0171246ED51@OCCLUST04EVS1.ugd.att.com>
	<CA9998CD4A020D418654FCDEF4E707DF05066D85@esealmw113.eemea.ericsson.se>
	<18414.14946.299667.816439@harjus.tutpro.com>
From: "Francois Audet" <audet@nortel.com>
To: "Juha Heinanen" <jh@tutpro.com>,
	"Christer Holmberg" <christer.holmberg@ericsson.com>
Cc: sip@ietf.org, "DOLLY, MARTIN C, ATTLABS" <mdolly@att.com>
Subject: Re: [Sip] Comparison of retargeting proposals
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

There are existing implementations of History-Info in the field.

It's not rocket science.

And I don't see why introducing something else will be simpler. It will just
be extra complexity. 

> -----Original Message-----
> From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On 
> Behalf Of Juha Heinanen
> Sent: Saturday, March 29, 2008 05:48
> To: Christer Holmberg
> Cc: sip@ietf.org; DOLLY, MARTIN C, ATTLABS
> Subject: Re: [Sip] Comparison of retargeting proposals
> 
> Christer Holmberg writes:
> 
>  > However, I still fail to understand how Target would be 
> more "complex"
>  > than e.g. History-Info. 
> 
> christer,
> 
> ANY solution for anything must be MUCH simpler than 
> history-info, which is far too complex by itself.
> 
> i haven't seen anyone fully implement history-info and most 
> likely that is because of its complexity.  if you are now 
> going to invent some other mechanism that is as complex or 
> even more complex, it has no change in real world.
> 
> i therefore suggest that h-i is deprecated and a replaced by 
> a simpler mechanism.
> 
> -- juha
> _______________________________________________
> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol Use 
> sip-implementors@cs.columbia.edu for questions on current sip 
> Use sipping@ietf.org for new developments on the application of sip
> 
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Mon Mar 31 17:17:47 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 7938E28C253;
	Mon, 31 Mar 2008 17:17:47 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 0641B3A6C6B
	for <sip@core3.amsl.com>; Mon, 31 Mar 2008 17:17:46 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -4.509
X-Spam-Level: 
X-Spam-Status: No, score=-4.509 tagged_above=-999 required=5 tests=[AWL=2.090, 
	BAYES_00=-2.599, RCVD_IN_DNSWL_MED=-4]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id gCwl32cQ-icp for <sip@core3.amsl.com>;
	Mon, 31 Mar 2008 17:17:45 -0700 (PDT)
Received: from zrtps0kp.nortel.com (zrtps0kp.nortel.com [47.140.192.56])
	by core3.amsl.com (Postfix) with ESMTP id 1C7F23A6C4A
	for <sip@ietf.org>; Mon, 31 Mar 2008 17:17:45 -0700 (PDT)
Received: from zrc2hxm0.corp.nortel.com (zrc2hxm0.corp.nortel.com
	[47.103.123.71])
	by zrtps0kp.nortel.com (Switch-2.2.6/Switch-2.2.0) with ESMTP id
	m310HRp06198; Tue, 1 Apr 2008 00:17:27 GMT
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Mon, 31 Mar 2008 19:17:11 -0500
Message-ID: <1ECE0EB50388174790F9694F77522CCF15D57E07@zrc2hxm0.corp.nortel.com>
In-Reply-To: <CA9998CD4A020D418654FCDEF4E707DF05066D85@esealmw113.eemea.ericsson.se>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] Comparison of retargeting proposals
Thread-Index: AciOlb91KfRWHPs1TqqSutsiXbbFBADAbRmwAAAWu6AAADgHEAB9PB9A
References: <200803251629.m2PGTC0N025942@dragon.ariadne.com><CA9998CD4A020D418654FCDEF4E707DF05066D81@esealmw113.eemea.ericsson.se>
	<28F05913385EAC43AF019413F674A0171246ED51@OCCLUST04EVS1.ugd.att.com>
	<CA9998CD4A020D418654FCDEF4E707DF05066D85@esealmw113.eemea.ericsson.se>
From: "Francois Audet" <audet@nortel.com>
To: "Christer Holmberg" <christer.holmberg@ericsson.com>,
	"DOLLY, MARTIN C, ATTLABS" <mdolly@att.com>, <Dale.Worley@comcast.net>, 
	<sip@ietf.org>
Subject: Re: [Sip] Comparison of retargeting proposals
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

History-Info + New-Target > History-Info
 

> -----Original Message-----
> From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On 
> Behalf Of Christer Holmberg
> Sent: Saturday, March 29, 2008 05:33
> To: DOLLY, MARTIN C, ATTLABS; Dale.Worley@comcast.net; sip@ietf.org
> Subject: Re: [Sip] Comparison of retargeting proposals
> 
> 
> Hi,
> 
> I agree with Martin.
> 
> However, I still fail to understand how Target would be more "complex"
> than e.g. History-Info. 
> 
> Regards,
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Mon Mar 31 21:09:59 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 336B33A6B4E;
	Mon, 31 Mar 2008 21:09:59 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id B9EFA3A6B4E
	for <sip@core3.amsl.com>; Mon, 31 Mar 2008 21:09:58 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -1.698
X-Spam-Level: 
X-Spam-Status: No, score=-1.698 tagged_above=-999 required=5 tests=[AWL=0.901, 
	BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id joNRyiFygq6M for <sip@core3.amsl.com>;
	Mon, 31 Mar 2008 21:09:56 -0700 (PDT)
Received: from taimen.tutpro.com (harjus.tutpro.com [192.98.100.3])
	by core3.amsl.com (Postfix) with ESMTP id 9DFF93A6A62
	for <sip@ietf.org>; Mon, 31 Mar 2008 21:09:56 -0700 (PDT)
Received: by taimen.tutpro.com (Postfix, from userid 1000)
	id E9E4C33A855; Tue,  1 Apr 2008 07:09:58 +0300 (EEST)
MIME-Version: 1.0
Message-ID: <18417.46486.835423.403083@harjus.tutpro.com>
Date: Tue, 1 Apr 2008 07:09:58 +0300
To: "Francois Audet" <audet@nortel.com>
In-Reply-To: <1ECE0EB50388174790F9694F77522CCF15D57E04@zrc2hxm0.corp.nortel.com>
References: <200803251629.m2PGTC0N025942@dragon.ariadne.com>
	<CA9998CD4A020D418654FCDEF4E707DF05066D81@esealmw113.eemea.ericsson.se>
	<28F05913385EAC43AF019413F674A0171246ED51@OCCLUST04EVS1.ugd.att.com>
	<CA9998CD4A020D418654FCDEF4E707DF05066D85@esealmw113.eemea.ericsson.se>
	<18414.14946.299667.816439@harjus.tutpro.com>
	<1ECE0EB50388174790F9694F77522CCF15D57E04@zrc2hxm0.corp.nortel.com>
X-Mailer: VM 7.19 under Emacs 21.4.1
From: jh@tutpro.com (Juha Heinanen)
Cc: sip@ietf.org, "DOLLY, MARTIN C, ATTLABS" <mdolly@att.com>,
	Christer Holmberg <christer.holmberg@ericsson.com>
Subject: Re: [Sip] Comparison of retargeting proposals
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Francois Audet writes:

 > There are existing implementations of History-Info in the field.

are those among the 10 most common UAs and proxies?

-- juha
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Tue Apr  1 00:03:29 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 0E1373A69FA;
	Tue,  1 Apr 2008 00:03:29 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 54D993A6B00
	for <sip@core3.amsl.com>; Tue,  1 Apr 2008 00:03:27 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -4.299
X-Spam-Level: 
X-Spam-Status: No, score=-4.299 tagged_above=-999 required=5
	tests=[BAYES_00=-2.599, MANGLED_LIST=2.3, RCVD_IN_DNSWL_MED=-4]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id dQvWL31bGo-F for <sip@core3.amsl.com>;
	Tue,  1 Apr 2008 00:03:25 -0700 (PDT)
Received: from mgw-mx09.nokia.com (smtp.nokia.com [192.100.105.134])
	by core3.amsl.com (Postfix) with ESMTP id 096423A69FA
	for <sip@ietf.org>; Tue,  1 Apr 2008 00:03:24 -0700 (PDT)
Received: from esebh107.NOE.Nokia.com (esebh107.ntc.nokia.com [172.21.143.143])
	by mgw-mx09.nokia.com (Switch-3.2.6/Switch-3.2.6) with ESMTP id
	m31755a5017638 for <sip@ietf.org>; Tue, 1 Apr 2008 02:05:26 -0500
Received: from esebh104.NOE.Nokia.com ([172.21.143.34]) by
	esebh107.NOE.Nokia.com with Microsoft SMTPSVC(6.0.3790.3959); 
	Tue, 1 Apr 2008 10:03:04 +0300
Received: from esebe105.NOE.Nokia.com ([172.21.143.53]) by
	esebh104.NOE.Nokia.com with Microsoft SMTPSVC(6.0.3790.3959); 
	Tue, 1 Apr 2008 10:03:04 +0300
Received: from [172.21.40.139] ([172.21.40.139]) by esebe105.NOE.Nokia.com
	with Microsoft SMTPSVC(6.0.3790.3959); 
	Tue, 1 Apr 2008 10:03:04 +0300
Message-ID: <47F1DE3A.7040005@nokia.com>
Date: Tue, 01 Apr 2008 10:03:22 +0300
From: Jari Urpalainen <jari.urpalainen@nokia.com>
User-Agent: Thunderbird 2.0.0.12 (X11/20080227)
MIME-Version: 1.0
To: Miguel Garcia <Miguel.Garcia@nsn.com>
References: <5D1A7985295922448D5550C94DE2918001CEC34C@DEEXC1U01.de.lucent.com>
	<47F0CF37.3020309@nsn.com>
In-Reply-To: <47F0CF37.3020309@nsn.com>
X-OriginalArrivalTime: 01 Apr 2008 07:03:04.0817 (UTC)
	FILETIME=[6E95AE10:01C893C6]
X-Nokia-AV: Clean
Cc: IETF SIP List <sip@ietf.org>
Subject: Re: [Sip] WGLC for draft-ietf-sip-xcapevent-01
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

responses inline

Miguel Garcia wrote:
> Hi:
>
> Here are some comments to the XCAP event package, in sequential order.
>
>
> - Introduction, 2nd paragraph. Indicate that the subscription can be 
> applied to "several documents". There is a reference to RFC 4918 that 
> I don't get it. I don't understand what is this reference, so better 
> remove it.
well the document uses the collection as defined by rfc4918 (and with 
similar semantics as well).
>
> OLD:
>    This memo defines an
>    "xcap-diff" event package that, together with the SIP event
>    notification framework [RFC3265] and the XCAP-diff format
>    [I-D.ietf-simple-xcap-diff], allows a user to subscribe to changes in
>    an XML document, and to receive notifications whenever a change in an
>    XML document takes place. It is also possible to subscribe to
>    documents within some collection [RFC4918], the notifier provides
>    then the documents where the user has read privilege.
>
> NEW:
>
>     This memo defines an
>    "xcap-diff" event package that, together with the SIP event
>    notification framework [RFC3265] and the XCAP-diff format
>    [I-D.ietf-simple-xcap-diff], allows a user to subscribe to changes in
>    one or more XML documents, and to receive notifications whenever a
>    change in any of those XML document takes place.
>
> - Introduction... More than an Introduction, the third paragraph is an 
> Overview of Operation. Perhaps this paragraph should be promoted to 
> its own section (titled Overview of operation), and should have an 
> overview of what the draft does: The SUBSCRIBE contains a list, the 
> first NOTIFY contains references, further NOTIFYs contain changes 
> according to the selected diff-processing model, which can be this and 
> that... ETags management, etc.
>
developer question, how does it influence the _running_ code ;-) ? 
Seriously, one could really improve the text...
> - Definitions. I think the 'Aggregating' definition is not clear. I 
> got confused thinking that Aggregating is about "several documents". 
> However, it is about aggregating intermediate states of the same 
> component. I would suggest as a definition something around:
>
>    Aggregating:  A given XCAP component might have passed through 
> several changes in a period of time. Aggregating considers only the 
> initial state and the final one, bypassing all the intermediate 
> changes. Therefore, when changes for a given XCAP component are 
> aggregated, it is not possible to recreate the full history of changes 
> of that XCAP component.
ok, thanks.
>
> - Definitions: I am missing the definition of "collection". RFC 4918 
> refers to "sets of documents". I think collections, in the context of 
> this draft, refers to "set of XCAP resources (including documents, 
> elements, or attributes).
collection is just like defined in rfc4918 (and a collection may contain 
(sub)collections and documents)
>
> - Section 4.1, 1st paragraph. I think the text starts describing what 
> is NOT the common operation of the event package. Given that the 
> document haven't explained at this time the relevant concepts of the 
> package, I find hard to follow how especial cases will work. I would 
> suggest that the document starts describing the simples easiest cases 
> and then it moves to complicated cases (such as when the client is not 
> aware of all the individual XCAP documents it is subscribing to).
why would you use this package if you know already what's on the server 
? This is what a typical developer (at least i) would do: you send an 
initial request to see if there are any changes available if you cache 
locally. If you don't cache over a longer period you definitely want to 
see the list of docs available.
>
> - Section 4.1, 2nd paragraph. Same as before. The document explains 
> how to subscribe to an XCAP element "without the need of a separate 
> HTTP GET request" when the document hasn't explained how to do a 
> regular subscription to one or more documents.
imho, 4.1 1. paragraph speaks about document subscriptions (no?) which 
is imo the simplest use-case of this event package. the 2. paragraph is 
about the  element & attribute content subscriptions and the last 
chapter about the most complex stuff, i.e. patching of docs. So imo the 
order of complexity definitely increases ;-) but i agree that the text 
can be improved...

>
> - After reading Section 4.1, I concluded that I don't understand 
> anything about the title: XCAP-Diff Processing Model. I think this 
> section has to be re-written (I can help Jari with the text). I 
> believe it should give an overview of the 3 XCAP-Diff processing 
> models so that the reader understands something.
yes please do ;-)
>
> - The draft should say which of the 3 XCAP-Diff processing models is 
> mandatory to implement. I suspect the draft assumes that all 3 are 
> mandatory to implement in both the server and the clients. So, it 
> should say it. But isn't that in contradiction with the following 
> sentence in Section 4.7?
>
>    It is RECOMMENDED to implement the XML-Patch-Ops processing on a
>    server.
>
> How can one implement the xcap-patch diff-processing model without the 
> XML-Patch-Ops?
clearly this needs some clarification. Yes you don't need to support 
_any_ patching at all (in the server) as the notifier may decide to send 
only references to docs and only indicate element/attribute 
subscriptions. The diff-processing parameter is thus a hint to the 
notifier. This is to allow naive implementations or where transmission 
optimizations  are not important. But the parameter value "no-patching" 
is not a hint, the notifier MUST NOT provide patches then.

>
> - Section 4.3. This section answers better the title of Section 4.1: 
> XCAP-Diff processing. However, in the first paragraph, the document 
> should clarify: a) what are the differences between the 3 models; b) 
> what is NOT included in notifications for each of the models.
>
see above, so patches may not ever be included.
> - Section 4.4, 1st paragraph, the text reads:
>
>    When generating a subscribe request, the subscriber needs to define
>    the resources it is interested in getting information.  This can be
>    done simply by sending a URI list to the SIP notifier.
>
> This can be done???? I am missing some stronger language, in 
> particular, some language that clearly defines that there could be 
> other potential mechanisms (SUBSCRIBE URI-list servers), but these 
> aren't considered in this document. I propose:
>
>    When generating a SUBSCRIBE request, the subscriber needs to define
> the resources it is interested in getting information.  This document 
> provides a mechanism to include lists of URIs in the SUBSCRIBE 
> request: An XCAP resource list according to the format specified in 
> RFC 4826 [RFC2836] is included as a body of the SUBSCRIBE request that 
> creates the subscription. Each of these URIs in the XCAP resource list 
> represents an XCAP resource for which notification of changes are 
> requested.
looks better though collections are not xcap resources.

>
>
> Question: if a SUBSCRIBE request is sent to refresh a subscription, 
> MUST it contain a URI list? Can the URI list change in a subsequent 
> SUBSCRIBE? The draft should say something, whatever it is.
>
it says in 4.4: "When re-subscribing within a current dialog, the 
subscribed body MAY also change." and some text also in the last chapter 4.8
> - Section 4.4. Missing text about the Request-URI. Although the title 
> of Section 4.4 has nothing to do with Request-URIs, I think somehow 
> somewhere the document should say what is the assumption about the 
> Request-URI of the SUBSCRIBE request. I guess the document tries to say:
>
> A subscribers need to appropriately populate the Request-URI of the 
> SUBSCRIBE request. This document does not provide any constraints to 
> it.   It is assumed that the subscriber is provisioned or has learned 
> the Request-URI of the notifier of this event package. Initial 
> SUBSCRIBE requests are assumed to be addressed to the URI of that 
> notifier.
except the last sentence which i don't follow looks good.

>
> - Section 4.4, 4th paragraph says:
>
>    Figure 2 shows an example to a subscription of several XCAP
>    resources:
>
> That is not correct. Figure 2 shows "the body of a subscription", but 
> not the subscription. And this is a big problem. I highly recommend to 
> include a full SUBSCRIBE request that contains the body as well, I am 
> not sure if it fits in this section or in some other section, but I 
> desperately need it.
this is where i'm really uncertain what's the best practice / verbosity 
/ work-effort etc. As an implementer i appreciate examples, but once 
you'll have them they MUST be 100 % correct which is not necessarily 
easy to achieve (and generally you'd better to have some running code). 
So lazy implementers will look only the examples and when they are buggy 
they end up being also in implementations unfortunately. In this 
particular case IMO there are enough examples about full subscriptions 
(headers, success responses etc). What would be useful to show the 
important things i.e. subscription bodies with or without the event 
parameter and consequent notification bodies in different cases. Perhaps 
something similar to xml-patch-ops examples in an appendix. But it needs 
_some_ effort and some thinking what is a _useful_ set of examples.
>
> - Also: Somewhere the text should explain that each <entry> in the 
> 'resource-list' can point to a single XCAP resource (document, 
> element, or attribute), or a collection of them. I believe 
> "collections" are only indicated as examples, but not really described.
ok.

>
> - Section 4.6 says:
>
>    Also the removals of documents, elements and
>    attributes can be shown.
>
> I would expect this to be a normative "MUST be shown".
if we think about format spec it is a can directive, but in this i-d 
context it is a MUST.
>
> - I think the first paragraph in Section 4.7 should be slit into 
> different paragraphs, each one devoted to a different concept. I can 
> identify: Resolving resources (including those who don't exist); 
> generating a first NOTIFY versus generating subsequent ones; 
> applicability of draft-ietf-sip-subnot-etags (does this draft really 
> need to say something new?); treatment of the different XCAP-Diff values.
yep, it's a bit long and combines too many things together.
>
> - Section 4.7, 4th paragraph says:
>
>    However, the notifier MUST support XCAP component
>    subscriptions.
>
> So, is there another alternative? I mean, this gives me the impression 
> like if XCAP components were an option in XCAP, and therefore, 
> subscriptions to those XCAP components were also optional. Is this the 
> case?
>
the format spec support component subscriptions but you _could_ define 
an event package based on the format spec which needs not to support 
xcap component subscriptions, so the statement is better to stay there.
> - Section 4.7 says:
>
>    The existence of elements is then indicated with an empty
>    <element> element and the content is not shown for those resources.
>    In other words, the <element> element does not not have a child
>    element then which would show the subscribed "full" element content.
>
> I understand what the text says, but I think an example showing the 
> two possibilities will really clarify the text.
right, examples are useful when they are correct. That being said, i 
think if an implementer doesn't get this right, there must be other 
bigger bugs as well ;-)
>
> - Section 4.7, last paragraph says:
>
>     Partial-PIDF-Notify
>    [I-D.ietf-simple-partial-notify] requires that notifiers will not
>    send a new request to the same dialog unless a successful response
>    (200 OK) has been received for the last request.  The latter applies
>    also to this "xcap-diff" event package.
>
> I am missing a normative statement here. Perhaps replacing the last 
> sentence with:
>
>   A notifier of this "xcap-diff" event package MUST NOT send a 
> subsequent NOTIFY request until the notifier has received a 200-class 
> response for a previous one.
>
right, better.
> - Section 5. I would like to see more examples, in particular, I would 
> like to see one example of the same subscription with different 
> processing models, to better understand the differences among them.
>
this is what i've been afraid of... but i'll try to do assemble an appendix.
> - Section 6, IANA considerations section fails to mention
> that this registration is about "SIP".  So,
> first, I would remove the first two sentences, and the headline 6.1,
> and just would leave:
>
>
> This specification instructs IANA to add a new event package to the
> SIP Event Types Namespace registry. The new data to be added is:
>
> Package Name    Type            Contact                    Reference
> -------------   --------        -------                    ---------
> xcap-diff       package         IETF SIPPING Working Group [RFCXXXX]
>                                 <sipping&ietf.org>
>
>
template better yes, though this is sip wg ;-)

>
>
> Thanks,
>
>        Miguel
>
Thank you,
Jari


_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Tue Apr  1 00:20:08 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id B302D3A68C7;
	Tue,  1 Apr 2008 00:20:08 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 1581B3A6B5A
	for <sip@core3.amsl.com>; Tue,  1 Apr 2008 00:20:08 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -1.74
X-Spam-Level: 
X-Spam-Status: No, score=-1.74 tagged_above=-999 required=5 tests=[AWL=0.859, 
	BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id zKt8R9A2uwSU for <sip@core3.amsl.com>;
	Tue,  1 Apr 2008 00:20:06 -0700 (PDT)
Received: from etmail.acmepacket.com (etmail.acmepacket.com [216.41.24.6])
	by core3.amsl.com (Postfix) with ESMTP id C298C3A68CF
	for <sip@ietf.org>; Tue,  1 Apr 2008 00:20:06 -0700 (PDT)
Received: from mail.acmepacket.com (216.41.24.7) by etmail.acmepacket.com
	(216.41.24.6) with Microsoft SMTP Server (TLS) id 8.1.240.5;
	Tue, 1 Apr 2008 03:19:39 -0400
Received: from mail.acmepacket.com ([216.41.24.7]) by mail.acmepacket.com
	([216.41.24.7]) with mapi; Tue, 1 Apr 2008 03:19:36 -0400
From: Hadriel Kaplan <HKaplan@acmepacket.com>
To: "sip@ietf.org" <sip@ietf.org>
Date: Tue, 1 Apr 2008 03:15:07 -0400
Thread-Topic: I-D Action: draft-kaplan-sip-four-oh-00.txt
Thread-Index: AciTyB0Va1m3arkmTZ2yEvIf20+g9g==
Message-ID: <E6C2E8958BA59A4FB960963D475F7AC30BCBC8A24A@mail.acmepacket.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
acceptlanguage: en-US
MIME-Version: 1.0
Cc: Bob Penfield <BPenfield@acmepacket.com>
Subject: [Sip] I-D Action: draft-kaplan-sip-four-oh-00.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Greetings,
Given today's relative importance in history - being the date Swiss farmers had their largest spaghetti crop harvest, Sweden introduced color television, the USSR connected Kremvax to Usenet, the Alabama state government changed the value of Pi to 3.0, and much more - we took it upon ourselves to write up and submit a new Internet-Draft for an update to RFC 3261 (and a bunch of other RFCs): P2P2PSIP, a.k.a. SIP v4.0.

A URL for this Internet-Draft is:
http://www.ietf.org/internet-drafts/draft-kaplan-sip-four-oh-00.txt

Abstract:
This document defines a new and improved version of SIP, which tastes great and is less filling than the previous SIP.  This draft updates all previous and future RFCs related to SIP in SIPPING, SIMPLE, MMUSIC, BEHAVE, and so on.

-hadriel
p.s. I apologize for the length of it - it was only 41 pages long originally, but my co-author demanded it be expanded to 42 pages (for obvious reasons), and thus it's a bit bloated.

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Tue Apr  1 00:27:43 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 30DD13A6DE6;
	Tue,  1 Apr 2008 00:27:43 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 3FE1A3A6DB7
	for <sip@core3.amsl.com>; Tue,  1 Apr 2008 00:27:42 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -5.874
X-Spam-Level: 
X-Spam-Status: No, score=-5.874 tagged_above=-999 required=5 tests=[AWL=0.725, 
	BAYES_00=-2.599, RCVD_IN_DNSWL_MED=-4]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id YzmiV436Jqor for <sip@core3.amsl.com>;
	Tue,  1 Apr 2008 00:27:38 -0700 (PDT)
Received: from mgw-mx09.nokia.com (smtp.nokia.com [192.100.105.134])
	by core3.amsl.com (Postfix) with ESMTP id E4EF13A6CC4
	for <sip@ietf.org>; Tue,  1 Apr 2008 00:27:37 -0700 (PDT)
Received: from esebh108.NOE.Nokia.com (esebh108.ntc.nokia.com [172.21.143.145])
	by mgw-mx09.nokia.com (Switch-3.2.6/Switch-3.2.6) with ESMTP id
	m317TUHu014241 for <sip@ietf.org>; Tue, 1 Apr 2008 02:29:43 -0500
Received: from esebh102.NOE.Nokia.com ([172.21.138.183]) by
	esebh108.NOE.Nokia.com with Microsoft SMTPSVC(6.0.3790.3959); 
	Tue, 1 Apr 2008 10:27:26 +0300
Received: from [10.144.22.63] ([10.144.22.63]) by esebh102.NOE.Nokia.com over
	TLS secured channel with Microsoft SMTPSVC(6.0.3790.3959); 
	Tue, 1 Apr 2008 10:27:26 +0300
Message-ID: <47F1E3DE.1080109@nsn.com>
Date: Tue, 01 Apr 2008 10:27:26 +0300
From: Miguel Garcia <Miguel.Garcia@nsn.com>
User-Agent: Thunderbird 1.5.0.12 (Windows/20070509)
MIME-Version: 1.0
To: Jari Urpalainen <jari.urpalainen@nokia.com>
References: <5D1A7985295922448D5550C94DE2918001CEC34C@DEEXC1U01.de.lucent.com>
	<47F0CF37.3020309@nsn.com> <47F1DE3A.7040005@nokia.com>
In-Reply-To: <47F1DE3A.7040005@nokia.com>
X-OriginalArrivalTime: 01 Apr 2008 07:27:26.0823 (UTC)
	FILETIME=[D6021770:01C893C9]
X-Nokia-AV: Clean
Cc: IETF SIP List <sip@ietf.org>
Subject: Re: [Sip] WGLC for draft-ietf-sip-xcapevent-01
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Inline too, only points that require further discussion.

Jari Urpalainen wrote:
> responses inline
> 
> Miguel Garcia wrote:
>> Hi:
>>
>> Here are some comments to the XCAP event package, in sequential order.
>>
>>
>> - Introduction, 2nd paragraph. Indicate that the subscription can be 
>> applied to "several documents". There is a reference to RFC 4918 that 
>> I don't get it. I don't understand what is this reference, so better 
>> remove it.
> well the document uses the collection as defined by rfc4918 (and with 
> similar semantics as well).

So, RFC 4918 defines collection as:

    Collections: The ability to create sets of documents and to retrieve
    a hierarchical membership listing (like a directory listing in a file
    system).

If the definition is correct for this document, I recommend to add a
note in Section 3 saying: This document reuses the following term from
RFC 4918: Collections.

>> - Introduction... More than an Introduction, the third paragraph is an 
>> Overview of Operation. Perhaps this paragraph should be promoted to 
>> its own section (titled Overview of operation), and should have an 
>> overview of what the draft does: The SUBSCRIBE contains a list, the 
>> first NOTIFY contains references, further NOTIFYs contain changes 
>> according to the selected diff-processing model, which can be this and 
>> that... ETags management, etc.
>>
> developer question, how does it influence the _running_ code ;-) ? 
> Seriously, one could really improve the text...

If the developer does not get the full picture he will write shit buggy
code, so, I believe this is of utmost importance. Remember that not
every developer will be an authority in XCAP, WebDav, and SIP.


>>
>> - The draft should say which of the 3 XCAP-Diff processing models is 
>> mandatory to implement. I suspect the draft assumes that all 3 are 
>> mandatory to implement in both the server and the clients. So, it 
>> should say it. But isn't that in contradiction with the following 
>> sentence in Section 4.7?
>>
>>    It is RECOMMENDED to implement the XML-Patch-Ops processing on a
>>    server.
>>
>> How can one implement the xcap-patch diff-processing model without the 
>> XML-Patch-Ops?
> clearly this needs some clarification. Yes you don't need to support 
> _any_ patching at all (in the server) as the notifier may decide to send 
> only references to docs and only indicate element/attribute 
> subscriptions. The diff-processing parameter is thus a hint to the 
> notifier. This is to allow naive implementations or where transmission 
> optimizations  are not important. But the parameter value "no-patching" 
> is not a hint, the notifier MUST NOT provide patches then.


You said that the server dos not need to support patching. So, what
happens if the subscriber selects diff-processing=xcap-patching and the
server does not support it? How will the developer be ready in its code
to react to it?

> 
>>
>> - Section 4.3. This section answers better the title of Section 4.1: 
>> XCAP-Diff processing. However, in the first paragraph, the document 
>> should clarify: a) what are the differences between the 3 models; b) 
>> what is NOT included in notifications for each of the models.
>>
> see above, so patches may not ever be included.

That is not my point. My point is that the text should describe how the
3 models work by saying what they share in common and the differences
among them. I think this is not clearly indicated now.

>> - Section 4.4, 1st paragraph, the text reads:
>>
>>    When generating a subscribe request, the subscriber needs to define
>>    the resources it is interested in getting information.  This can be
>>    done simply by sending a URI list to the SIP notifier.
>>
>> This can be done???? I am missing some stronger language, in 
>> particular, some language that clearly defines that there could be 
>> other potential mechanisms (SUBSCRIBE URI-list servers), but these 
>> aren't considered in this document. I propose:
>>
>>    When generating a SUBSCRIBE request, the subscriber needs to define
>> the resources it is interested in getting information.  This document 
>> provides a mechanism to include lists of URIs in the SUBSCRIBE 
>> request: An XCAP resource list according to the format specified in 
>> RFC 4826 [RFC2836] is included as a body of the SUBSCRIBE request that 
>> creates the subscription. Each of these URIs in the XCAP resource list 
>> represents an XCAP resource for which notification of changes are 
>> requested.
> looks better though collections are not xcap resources.

s/XCAP resource/XCAP resource or collection

>> - Section 4.4. Missing text about the Request-URI. Although the title 
>> of Section 4.4 has nothing to do with Request-URIs, I think somehow 
>> somewhere the document should say what is the assumption about the 
>> Request-URI of the SUBSCRIBE request. I guess the document tries to say:
>>
>> A subscribers need to appropriately populate the Request-URI of the 
>> SUBSCRIBE request. This document does not provide any constraints to 
>> it.   It is assumed that the subscriber is provisioned or has learned 
>> the Request-URI of the notifier of this event package. Initial 
>> SUBSCRIBE requests are assumed to be addressed to the URI of that 
>> notifier.
> except the last sentence which i don't follow looks good.

The point with the last sentence is that in an initial SUBSCRIBE
request, the Request-URI is populated with the SIP URI of the notifier,
which is learned somehow (outside the scope of the document). Once the
dialog is created, if there is a subsequent SUBSCRIBE request (e.g., to
refresh the subscription), then the Request-URI will obey the SIP rules:
it will be set to the URI that was received in the Contact header of the
  200 OK response for that initial SUBSCRIBE. Conclusion: the
Request-URI of the initial SUBSCRIBE request and the following ones (in
the same dialog) need not be the same.

>> - Section 4.7, 4th paragraph says:
>>
>>    However, the notifier MUST support XCAP component
>>    subscriptions.
>>
>> So, is there another alternative? I mean, this gives me the impression 
>> like if XCAP components were an option in XCAP, and therefore, 
>> subscriptions to those XCAP components were also optional. Is this the 
>> case?
>>
> the format spec support component subscriptions but you _could_ define 
> an event package based on the format spec which needs not to support 
> xcap component subscriptions, so the statement is better to stay there.

Perhaps the text that you just wrote could be added as a note, so it
will help the reader to better understand the concept.


>> - Section 6, IANA considerations section fails to mention
>> that this registration is about "SIP".  So,
>> first, I would remove the first two sentences, and the headline 6.1,
>> and just would leave:
>>
>>
>> This specification instructs IANA to add a new event package to the
>> SIP Event Types Namespace registry. The new data to be added is:
>>
>> Package Name    Type            Contact                    Reference
>> -------------   --------        -------                    ---------
>> xcap-diff       package         IETF SIPPING Working Group [RFCXXXX]
>>                                 <sipping&ietf.org>
>>
>>
> template better yes, though this is sip wg ;-)

Ouch... right... SIP, not SIPPING.

/Miguel


> 
>>
>>
>> Thanks,
>>
>>        Miguel
>>
> Thank you,
> Jari
> 
> 

-- 
Miguel A. Garcia           tel:+358-50-4804586
Nokia Siemens Networks     Espoo, Finland


_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Tue Apr  1 01:11:26 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id AE10E28C160;
	Tue,  1 Apr 2008 01:11:26 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 871163A6EA4
	for <sip@core3.amsl.com>; Tue,  1 Apr 2008 01:11:23 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -5.449
X-Spam-Level: 
X-Spam-Status: No, score=-5.449 tagged_above=-999 required=5 tests=[AWL=1.150, 
	BAYES_00=-2.599, RCVD_IN_DNSWL_MED=-4]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id osyderGcDAHz for <sip@core3.amsl.com>;
	Tue,  1 Apr 2008 01:11:21 -0700 (PDT)
Received: from mgw-mx06.nokia.com (smtp.nokia.com [192.100.122.233])
	by core3.amsl.com (Postfix) with ESMTP id 2E3DC3A6DF7
	for <sip@ietf.org>; Tue,  1 Apr 2008 01:10:33 -0700 (PDT)
Received: from esebh107.NOE.Nokia.com (esebh107.ntc.nokia.com [172.21.143.143])
	by mgw-mx06.nokia.com (Switch-3.2.6/Switch-3.2.6) with ESMTP id
	m3189tft015399 for <sip@ietf.org>; Tue, 1 Apr 2008 11:10:28 +0300
Received: from esebh104.NOE.Nokia.com ([172.21.143.34]) by
	esebh107.NOE.Nokia.com with Microsoft SMTPSVC(6.0.3790.3959); 
	Tue, 1 Apr 2008 11:10:27 +0300
Received: from esebe105.NOE.Nokia.com ([172.21.143.53]) by
	esebh104.NOE.Nokia.com with Microsoft SMTPSVC(6.0.3790.3959); 
	Tue, 1 Apr 2008 11:10:27 +0300
Received: from [172.21.40.139] ([172.21.40.139]) by esebe105.NOE.Nokia.com
	with Microsoft SMTPSVC(6.0.3790.3959); 
	Tue, 1 Apr 2008 11:10:27 +0300
Message-ID: <47F1EE05.5080103@nokia.com>
Date: Tue, 01 Apr 2008 11:10:45 +0300
From: Jari Urpalainen <jari.urpalainen@nokia.com>
User-Agent: Thunderbird 2.0.0.12 (X11/20080227)
MIME-Version: 1.0
To: Miguel Garcia <Miguel.Garcia@nsn.com>
References: <5D1A7985295922448D5550C94DE2918001CEC34C@DEEXC1U01.de.lucent.com>
	<47F0CF37.3020309@nsn.com> <47F1DE3A.7040005@nokia.com>
	<47F1E3DE.1080109@nsn.com>
In-Reply-To: <47F1E3DE.1080109@nsn.com>
X-OriginalArrivalTime: 01 Apr 2008 08:10:27.0712 (UTC)
	FILETIME=[D8568000:01C893CF]
X-Nokia-AV: Clean
Cc: IETF SIP List <sip@ietf.org>
Subject: Re: [Sip] WGLC for draft-ietf-sip-xcapevent-01
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Miguel Garcia wrote:
> Inline too, only points that require further discussion.
>
> Jari Urpalainen wrote:
>> responses inline
>>
>> Miguel Garcia wrote:
>>> Hi:
>>>
>>> Here are some comments to the XCAP event package, in sequential order.
>>>
>>>
>>> - Introduction, 2nd paragraph. Indicate that the subscription can be 
>>> applied to "several documents". There is a reference to RFC 4918 
>>> that I don't get it. I don't understand what is this reference, so 
>>> better remove it.
>> well the document uses the collection as defined by rfc4918 (and with 
>> similar semantics as well).
>
> So, RFC 4918 defines collection as:
>
>    Collections: The ability to create sets of documents and to retrieve
>    a hierarchical membership listing (like a directory listing in a file
>    system).
>
> If the definition is correct for this document, I recommend to add a
> note in Section 3 saying: This document reuses the following term from
> RFC 4918: Collections.
>
ok.
>>> - Introduction... More than an Introduction, the third paragraph is 
>>> an Overview of Operation. Perhaps this paragraph should be promoted 
>>> to its own section (titled Overview of operation), and should have 
>>> an overview of what the draft does: The SUBSCRIBE contains a list, 
>>> the first NOTIFY contains references, further NOTIFYs contain 
>>> changes according to the selected diff-processing model, which can 
>>> be this and that... ETags management, etc.
>>>
>> developer question, how does it influence the _running_ code ;-) ? 
>> Seriously, one could really improve the text...
>
> If the developer does not get the full picture he will write shit buggy
> code, so, I believe this is of utmost importance. Remember that not
> every developer will be an authority in XCAP, WebDav, and SIP.
>
unfortunately implementing this _requires_ basic understanding of these, 
it is far from being an easy task, and if you have to start from scratch...
>
>>>
>>> - The draft should say which of the 3 XCAP-Diff processing models is 
>>> mandatory to implement. I suspect the draft assumes that all 3 are 
>>> mandatory to implement in both the server and the clients. So, it 
>>> should say it. But isn't that in contradiction with the following 
>>> sentence in Section 4.7?
>>>
>>>    It is RECOMMENDED to implement the XML-Patch-Ops processing on a
>>>    server.
>>>
>>> How can one implement the xcap-patch diff-processing model without 
>>> the XML-Patch-Ops?
>> clearly this needs some clarification. Yes you don't need to support 
>> _any_ patching at all (in the server) as the notifier may decide to 
>> send only references to docs and only indicate element/attribute 
>> subscriptions. The diff-processing parameter is thus a hint to the 
>> notifier. This is to allow naive implementations or where 
>> transmission optimizations  are not important. But the parameter 
>> value "no-patching" is not a hint, the notifier MUST NOT provide 
>> patches then.
>
>
> You said that the server dos not need to support patching. So, what
> happens if the subscriber selects diff-processing=xcap-patching and the
> server does not support it? How will the developer be ready in its code
> to react to it?
>
well, it is almost no-brainer stuff, since the thing you MUST understand 
is http-retrievals of documents, i.e. it is the fall-back resolution you 
must understand (well, if you request in a corner-case reasonable xcap 
component contents you could avoid having implementing http). Patching 
is truly an optional thing and an optimization technique which you don't 
necessarily always need. So in principle, the client side patchings are 
fairly easy, but what is not mandated by the spec that the servers 
(notifiers) MUST implement the inevitably complex thing: the 
diff-processing in the notifier. Even if you support only the simple ;-) 
xcap-patching mode, e.g. combining with throttling MAY be challenging 
enough... So what is important in this package that you can have an 
almost immediate notification once a change happens, but requiring 
_always_ the most complex thing would be an unnecessary burden. Hey, 
_good_ implementations would certainly implement decent diffing ;-)
>>
>>>
>>> - Section 4.3. This section answers better the title of Section 4.1: 
>>> XCAP-Diff processing. However, in the first paragraph, the document 
>>> should clarify: a) what are the differences between the 3 models; b) 
>>> what is NOT included in notifications for each of the models.
>>>
>> see above, so patches may not ever be included.
>
> That is not my point. My point is that the text should describe how the
> 3 models work by saying what they share in common and the differences
> among them. I think this is not clearly indicated now
point taken
> .
>
>>> - Section 4.4, 1st paragraph, the text reads:
>>>
>>>    When generating a subscribe request, the subscriber needs to define
>>>    the resources it is interested in getting information.  This can be
>>>    done simply by sending a URI list to the SIP notifier.
>>>
>>> This can be done???? I am missing some stronger language, in 
>>> particular, some language that clearly defines that there could be 
>>> other potential mechanisms (SUBSCRIBE URI-list servers), but these 
>>> aren't considered in this document. I propose:
>>>
>>>    When generating a SUBSCRIBE request, the subscriber needs to define
>>> the resources it is interested in getting information.  This 
>>> document provides a mechanism to include lists of URIs in the 
>>> SUBSCRIBE request: An XCAP resource list according to the format 
>>> specified in RFC 4826 [RFC2836] is included as a body of the 
>>> SUBSCRIBE request that creates the subscription. Each of these URIs 
>>> in the XCAP resource list represents an XCAP resource for which 
>>> notification of changes are requested.
>> looks better though collections are not xcap resources.
>
> s/XCAP resource/XCAP resource or collection
>
>>> - Section 4.4. Missing text about the Request-URI. Although the 
>>> title of Section 4.4 has nothing to do with Request-URIs, I think 
>>> somehow somewhere the document should say what is the assumption 
>>> about the Request-URI of the SUBSCRIBE request. I guess the document 
>>> tries to say:
>>>
>>> A subscribers need to appropriately populate the Request-URI of the 
>>> SUBSCRIBE request. This document does not provide any constraints to 
>>> it.   It is assumed that the subscriber is provisioned or has 
>>> learned the Request-URI of the notifier of this event package. 
>>> Initial SUBSCRIBE requests are assumed to be addressed to the URI of 
>>> that notifier.
>> except the last sentence which i don't follow looks good.
>
> The point with the last sentence is that in an initial SUBSCRIBE
> request, the Request-URI is populated with the SIP URI of the notifier,
> which is learned somehow (outside the scope of the document). Once the
> dialog is created, if there is a subsequent SUBSCRIBE request (e.g., to
> refresh the subscription), then the Request-URI will obey the SIP rules:
> it will be set to the URI that was received in the Contact header of the
>  200 OK response for that initial SUBSCRIBE. Conclusion: the
> Request-URI of the initial SUBSCRIBE request and the following ones (in
> the same dialog) need not be the same.
>
huh, does this explain the last sentence, i mean are they really 
equivalent ?. If so, i can include it (though i still don't get it (the 
single line), sorry ...)
>>> - Section 4.7, 4th paragraph says:
>>>
>>>    However, the notifier MUST support XCAP component
>>>    subscriptions.
>>>
>>> So, is there another alternative? I mean, this gives me the 
>>> impression like if XCAP components were an option in XCAP, and 
>>> therefore, subscriptions to those XCAP components were also 
>>> optional. Is this the case?
>>>
>> the format spec support component subscriptions but you _could_ 
>> define an event package based on the format spec which needs not to 
>> support xcap component subscriptions, so the statement is better to 
>> stay there.
>
> Perhaps the text that you just wrote could be added as a note, so it
> will help the reader to better understand the concept.
note would be fine
>
>
>>> - Section 6, IANA considerations section fails to mention
>>> that this registration is about "SIP".  So,
>>> first, I would remove the first two sentences, and the headline 6.1,
>>> and just would leave:
>>>
>>>
>>> This specification instructs IANA to add a new event package to the
>>> SIP Event Types Namespace registry. The new data to be added is:
>>>
>>> Package Name    Type            Contact                    Reference
>>> -------------   --------        -------                    ---------
>>> xcap-diff       package         IETF SIPPING Working Group [RFCXXXX]
>>>                                 <sipping&ietf.org>
>>>
>>>
>> template better yes, though this is sip wg ;-)
>
> Ouch... right... SIP, not SIPPING.
>
> /Miguel
>
thanks, jari

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Tue Apr  1 01:16:16 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 0768E28C0EA;
	Tue,  1 Apr 2008 01:16:16 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 4915E3A69C5
	for <sip@core3.amsl.com>; Tue,  1 Apr 2008 01:16:14 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -6.249
X-Spam-Level: 
X-Spam-Status: No, score=-6.249 tagged_above=-999 required=5
	tests=[BAYES_00=-2.599, HELO_EQ_SE=0.35, RCVD_IN_DNSWL_MED=-4]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id r+Cu2YZGkKE9 for <sip@core3.amsl.com>;
	Tue,  1 Apr 2008 01:16:08 -0700 (PDT)
Received: from mailgw4.ericsson.se (mailgw4.ericsson.se [193.180.251.62])
	by core3.amsl.com (Postfix) with ESMTP id 7939A28C0EA
	for <sip@ietf.org>; Tue,  1 Apr 2008 01:15:34 -0700 (PDT)
Received: from mailgw4.ericsson.se (unknown [127.0.0.1])
	by mailgw4.ericsson.se (Symantec Mail Security) with ESMTP id
	7F4E6222F3; Tue,  1 Apr 2008 10:06:59 +0200 (CEST)
X-AuditID: c1b4fb3e-ae999bb000004ec0-73-47f1ed232804
Received: from esealmw128.eemea.ericsson.se (unknown [153.88.254.121])
	by mailgw4.ericsson.se (Symantec Mail Security) with ESMTP id
	5FFA2222DF; Tue,  1 Apr 2008 10:06:59 +0200 (CEST)
Received: from esealmw109.eemea.ericsson.se ([153.88.200.2]) by
	esealmw128.eemea.ericsson.se with Microsoft SMTPSVC(6.0.3790.1830); 
	Tue, 1 Apr 2008 10:06:59 +0200
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Tue, 1 Apr 2008 10:07:02 +0200
Message-ID: <47B2061B1E5E494B96AA40008300D850371EB4@esealmw109.eemea.ericsson.se>
In-Reply-To: <1ECE0EB50388174790F9694F77522CCF15D57E04@zrc2hxm0.corp.nortel.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] Comparison of retargeting proposals
thread-index: AciRmuXokKnUmVQyROmRmE5PNupbGQB8oDogABBlm+A=
References: <200803251629.m2PGTC0N025942@dragon.ariadne.com><CA9998CD4A020D418654FCDEF4E707DF05066D81@esealmw113.eemea.ericsson.se><28F05913385EAC43AF019413F674A0171246ED51@OCCLUST04EVS1.ugd.att.com><CA9998CD4A020D418654FCDEF4E707DF05066D85@esealmw113.eemea.ericsson.se><18414.14946.299667.816439@harjus.tutpro.com>
	<1ECE0EB50388174790F9694F77522CCF15D57E04@zrc2hxm0.corp.nortel.com>
From: "Hans Erik van Elburg" <hanserik.van.elburg@ericsson.com>
To: "Francois Audet" <audet@nortel.com>, "Juha Heinanen" <jh@tutpro.com>,
	"Christer Holmberg" <christer.holmberg@ericsson.com>
X-OriginalArrivalTime: 01 Apr 2008 08:06:59.0015 (UTC)
	FILETIME=[5BF1DD70:01C893CF]
X-Brightmail-Tracker: AAAAAA==
Cc: sip@ietf.org, "DOLLY, MARTIN C, ATTLABS" <mdolly@att.com>
Subject: Re: [Sip] Comparison of retargeting proposals
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

The point is that History-Info does not solve the problem so something
new is needed anyway.

And proper use of History-Info is rocket science as Dale has shown.

/Hans Erik

-----Original Message-----
From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On Behalf Of
Francois Audet
Sent: Tuesday, April 01, 2008 2:16 AM
To: Juha Heinanen; Christer Holmberg
Cc: sip@ietf.org; DOLLY, MARTIN C, ATTLABS
Subject: Re: [Sip] Comparison of retargeting proposals

There are existing implementations of History-Info in the field.

It's not rocket science.

And I don't see why introducing something else will be simpler. It will
just be extra complexity. 

> -----Original Message-----
> From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On Behalf Of 
> Juha Heinanen
> Sent: Saturday, March 29, 2008 05:48
> To: Christer Holmberg
> Cc: sip@ietf.org; DOLLY, MARTIN C, ATTLABS
> Subject: Re: [Sip] Comparison of retargeting proposals
> 
> Christer Holmberg writes:
> 
>  > However, I still fail to understand how Target would be more 
> "complex"
>  > than e.g. History-Info. 
> 
> christer,
> 
> ANY solution for anything must be MUCH simpler than history-info, 
> which is far too complex by itself.
> 
> i haven't seen anyone fully implement history-info and most likely 
> that is because of its complexity.  if you are now going to invent 
> some other mechanism that is as complex or even more complex, it has 
> no change in real world.
> 
> i therefore suggest that h-i is deprecated and a replaced by a simpler

> mechanism.
> 
> -- juha
> _______________________________________________
> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol Use 
> sip-implementors@cs.columbia.edu for questions on current sip Use 
> sipping@ietf.org for new developments on the application of sip
> 
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol Use
sip-implementors@cs.columbia.edu for questions on current sip Use
sipping@ietf.org for new developments on the application of sip
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Tue Apr  1 03:56:51 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 4A0463A6C75;
	Tue,  1 Apr 2008 03:56:51 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 7CD903A6C07
	for <sip@core3.amsl.com>; Tue,  1 Apr 2008 03:56:49 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -6.116
X-Spam-Level: 
X-Spam-Status: No, score=-6.116 tagged_above=-999 required=5 tests=[AWL=0.483, 
	BAYES_00=-2.599, RCVD_IN_DNSWL_MED=-4]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id qo64xuSetXGN for <sip@core3.amsl.com>;
	Tue,  1 Apr 2008 03:56:48 -0700 (PDT)
Received: from mgw-mx06.nokia.com (smtp.nokia.com [192.100.122.233])
	by core3.amsl.com (Postfix) with ESMTP id 9B4AA3A68C7
	for <sip@ietf.org>; Tue,  1 Apr 2008 03:56:47 -0700 (PDT)
Received: from esebh107.NOE.Nokia.com (esebh107.ntc.nokia.com [172.21.143.143])
	by mgw-mx06.nokia.com (Switch-3.2.6/Switch-3.2.6) with ESMTP id
	m31Auf97031360 for <sip@ietf.org>; Tue, 1 Apr 2008 13:56:43 +0300
Received: from esebh102.NOE.Nokia.com ([172.21.138.183]) by
	esebh107.NOE.Nokia.com with Microsoft SMTPSVC(6.0.3790.3959); 
	Tue, 1 Apr 2008 13:56:37 +0300
Received: from [10.144.22.63] ([10.144.22.63]) by esebh102.NOE.Nokia.com over
	TLS secured channel with Microsoft SMTPSVC(6.0.3790.3959); 
	Tue, 1 Apr 2008 13:56:37 +0300
Message-ID: <47F214E5.1020206@nsn.com>
Date: Tue, 01 Apr 2008 13:56:37 +0300
From: Miguel Garcia <Miguel.Garcia@nsn.com>
User-Agent: Thunderbird 1.5.0.12 (Windows/20070509)
MIME-Version: 1.0
To: Jari Urpalainen <jari.urpalainen@nokia.com>
References: <5D1A7985295922448D5550C94DE2918001CEC34C@DEEXC1U01.de.lucent.com>
	<47F0CF37.3020309@nsn.com> <47F1DE3A.7040005@nokia.com>
	<47F1E3DE.1080109@nsn.com> <47F1EE05.5080103@nokia.com>
In-Reply-To: <47F1EE05.5080103@nokia.com>
X-OriginalArrivalTime: 01 Apr 2008 10:56:37.0506 (UTC)
	FILETIME=[0ECC5620:01C893E7]
X-Nokia-AV: Clean
Cc: IETF SIP List <sip@ietf.org>
Subject: Re: [Sip] WGLC for draft-ietf-sip-xcapevent-01
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

inline

Jari Urpalainen wrote:

>>>> - The draft should say which of the 3 XCAP-Diff processing models is 
>>>> mandatory to implement. I suspect the draft assumes that all 3 are 
>>>> mandatory to implement in both the server and the clients. So, it 
>>>> should say it. But isn't that in contradiction with the following 
>>>> sentence in Section 4.7?
>>>>
>>>>    It is RECOMMENDED to implement the XML-Patch-Ops processing on a
>>>>    server.
>>>>
>>>> How can one implement the xcap-patch diff-processing model without 
>>>> the XML-Patch-Ops?
>>> clearly this needs some clarification. Yes you don't need to support 
>>> _any_ patching at all (in the server) as the notifier may decide to 
>>> send only references to docs and only indicate element/attribute 
>>> subscriptions. The diff-processing parameter is thus a hint to the 
>>> notifier. This is to allow naive implementations or where 
>>> transmission optimizations  are not important. But the parameter 
>>> value "no-patching" is not a hint, the notifier MUST NOT provide 
>>> patches then.
>>
>>
>> You said that the server dos not need to support patching. So, what
>> happens if the subscriber selects diff-processing=xcap-patching and the
>> server does not support it? How will the developer be ready in its code
>> to react to it?
>>
> well, it is almost no-brainer stuff, since the thing you MUST understand 
> is http-retrievals of documents, i.e. it is the fall-back resolution you 
> must understand (well, if you request in a corner-case reasonable xcap 
> component contents you could avoid having implementing http). Patching 
> is truly an optional thing and an optimization technique which you don't 
> necessarily always need. So in principle, the client side patchings are 
> fairly easy, but what is not mandated by the spec that the servers 
> (notifiers) MUST implement the inevitably complex thing: the 
> diff-processing in the notifier. Even if you support only the simple ;-) 
> xcap-patching mode, e.g. combining with throttling MAY be challenging 
> enough... So what is important in this package that you can have an 
> almost immediate notification once a change happens, but requiring 
> _always_ the most complex thing would be an unnecessary burden. Hey, 
> _good_ implementations would certainly implement decent diffing ;-)

I still didn't get a question to my answer. A subscriber sends a 
SUBSCRIBE request. The Event header is set to 
xcap-diff;diff-processing=xcap-patch. The server does not support it. 
So, now what? Is the SUBSCRIBE request rejected (with which response 
code?) or is it accepted and a fall back to some of the other processing 
models (to which one)? Where is that written?

>>>> - Section 4.4. Missing text about the Request-URI. Although the 
>>>> title of Section 4.4 has nothing to do with Request-URIs, I think 
>>>> somehow somewhere the document should say what is the assumption 
>>>> about the Request-URI of the SUBSCRIBE request. I guess the document 
>>>> tries to say:
>>>>
>>>> A subscribers need to appropriately populate the Request-URI of the 
>>>> SUBSCRIBE request. This document does not provide any constraints to 
>>>> it.   It is assumed that the subscriber is provisioned or has 
>>>> learned the Request-URI of the notifier of this event package. 
>>>> Initial SUBSCRIBE requests are assumed to be addressed to the URI of 
>>>> that notifier.
>>> except the last sentence which i don't follow looks good.
>>
>> The point with the last sentence is that in an initial SUBSCRIBE
>> request, the Request-URI is populated with the SIP URI of the notifier,
>> which is learned somehow (outside the scope of the document). Once the
>> dialog is created, if there is a subsequent SUBSCRIBE request (e.g., to
>> refresh the subscription), then the Request-URI will obey the SIP rules:
>> it will be set to the URI that was received in the Contact header of the
>>  200 OK response for that initial SUBSCRIBE. Conclusion: the
>> Request-URI of the initial SUBSCRIBE request and the following ones (in
>> the same dialog) need not be the same.
>>
> huh, does this explain the last sentence, i mean are they really 
> equivalent ?. If so, i can include it (though i still don't get it (the 
> single line), sorry ...)

Let me try by rephrasing the last sentence: Instead of:

Initial SUBSCRIBE requests are assumed to be addressed to the URI of
that notifier.

what about this one?

This specification assumes that subscriber populates initial SUBSCRIBE 
requests with the URI of that notifier.

/Miguel

-- 
Miguel A. Garcia           tel:+358-50-4804586
Nokia Siemens Networks     Espoo, Finland

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Tue Apr  1 04:14:20 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id BA55A3A6AE9;
	Tue,  1 Apr 2008 04:14:20 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id D22A73A6AE9
	for <sip@core3.amsl.com>; Tue,  1 Apr 2008 04:14:18 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -1.812
X-Spam-Level: 
X-Spam-Status: No, score=-1.812 tagged_above=-999 required=5 tests=[AWL=0.787, 
	BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id r-5P-W6337R3 for <sip@core3.amsl.com>;
	Tue,  1 Apr 2008 04:14:16 -0700 (PDT)
Received: from ihemail3.lucent.com (ihemail3.lucent.com [135.245.0.37])
	by core3.amsl.com (Postfix) with ESMTP id 98A8E28C14E
	for <sip@ietf.org>; Tue,  1 Apr 2008 04:14:15 -0700 (PDT)
Received: from ilexp03.ndc.lucent.com (h135-3-39-50.lucent.com [135.3.39.50])
	by ihemail3.lucent.com (8.13.8/IER-o) with ESMTP id m31BDQtM007634
	for <sip@ietf.org>; Tue, 1 Apr 2008 06:14:12 -0500 (CDT)
Received: from DEEXP02.DE.lucent.com ([135.248.187.66]) by
	ilexp03.ndc.lucent.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Tue, 1 Apr 2008 06:13:09 -0500
Received: from DEEXC1U01.de.lucent.com ([135.248.187.20]) by
	DEEXP02.DE.lucent.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Tue, 1 Apr 2008 13:13:06 +0200
X-MIMEOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Tue, 1 Apr 2008 13:13:06 +0200
Message-ID: <5D1A7985295922448D5550C94DE2918001D9F37F@DEEXC1U01.de.lucent.com>
In-Reply-To: <5D1A7985295922448D5550C94DE2918001CEC34C@DEEXC1U01.de.lucent.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] WGLC for draft-ietf-sip-xcapevent-01
Thread-index: AciC/Uz1gzfrreAwSkqLRZedUovrjwAAd0QQBDpwaZA=
References: <5D1A7985295922448D5550C94DE2918001CEC34C@DEEXC1U01.de.lucent.com>
From: "DRAGE, Keith \(Keith\)" <drage@alcatel-lucent.com>
To: "IETF SIP List" <sip@ietf.org>
X-OriginalArrivalTime: 01 Apr 2008 11:13:06.0839 (UTC)
	FILETIME=[5C7C9270:01C893E9]
X-Scanned-By: MIMEDefang 2.57 on 135.245.2.37
Subject: Re: [Sip] WGLC for draft-ietf-sip-xcapevent-01
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

(As SIP WG chair)

This WGLC ended yesterday, and as far as I can see, we have only
received one set of comments, implying that only one member of the WG
has reviewed the document.

Two requests:

-	If you have reviewed the document, and consider it so perfect
that you have no comments, please indicate this to the list. 

-	If you can find time to review the document, please send the sip
chairs a mail indicating that you are willing to do so, and when you
expect to do this by.

Finally, if you have reviewed the document, but have not yet got around
to sending your comments, please post them as soon as possible.

Regards

Keith

> -----Original Message-----
> From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On 
> Behalf Of DRAGE, Keith (Keith)
> Sent: Monday, March 10, 2008 11:19 PM
> To: IETF SIP List
> Subject: [Sip] WGLC for draft-ietf-sip-xcapevent-01
> 
> (As SIP WG cochair)
> 
> In parallel with the WGLC on xcap-diff in the message below 
> (as these are related drafts), this is to initiate a WGLC on:
> 
> http://www.ietf.org/internet-drafts/draft-ietf-sip-xcapevent-01.txt 
> 
> Comments should be sent to the SIP list and to the editor by 
> 31st March 2008, ie. This is a 3 week WGLC to take into 
> account the overlap with the current IETF meeting.
> 
> Please take some steps to indicate the severity of the 
> comment (from NIT through to major technical).
> 
> Obviously please follow the requirements below for comments 
> on the related draft.
> 
> Regards
> 
> Keith
> 
> 
> 
> -----Original Message-----
> From: Robert Sparks [mailto:rjsparks@nostrum.com]
> Sent: Monday, March 10, 2008 10:23 PM
> To: simple mailing list
> Cc: Jari Urpalainen; sip-chairs@tools.ietf.org
> Subject: WGLC: draft-ietf-simple-xcap-diff-08
> 
> Folks -
> 
> This is a Working Group Last Call for comments on 
> http://www.ietf.org/internet-drafts/draft-ietf-simple-xcap-diff-08.txt
> 
> The editor for draft-ietf-simple-xcap-diff and 
> draft-ietf-sip- xcapevent has indicated these drafts are 
> ready for WGLC.
> We're coordinating the LC time between the two working groups.
> 
> Please have your comments to the editor/list by three weeks 
> from today (March 31,2008).
> 
> Thanks,
> 
> RjS
> 
> _______________________________________________
> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol Use 
> sip-implementors@cs.columbia.edu for questions on current sip 
> Use sipping@ietf.org for new developments on the application of sip
> 
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Tue Apr  1 06:31:54 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id E15533A699D;
	Tue,  1 Apr 2008 06:31:54 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 1C1063A6DE6
	for <sip@core3.amsl.com>; Tue,  1 Apr 2008 06:31:54 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -4.134
X-Spam-Level: 
X-Spam-Status: No, score=-4.134 tagged_above=-999 required=5 tests=[AWL=2.465, 
	BAYES_00=-2.599, RCVD_IN_DNSWL_MED=-4]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id FLNMPLNTq7RO for <sip@core3.amsl.com>;
	Tue,  1 Apr 2008 06:31:48 -0700 (PDT)
Received: from zcars04f.nortel.com (zcars04f.nortel.com [47.129.242.57])
	by core3.amsl.com (Postfix) with ESMTP id 3D4AF3A6C46
	for <sip@ietf.org>; Tue,  1 Apr 2008 06:31:47 -0700 (PDT)
Received: from zrc2hxm1.corp.nortel.com (zrc2hxm1.corp.nortel.com
	[47.103.123.72])
	by zcars04f.nortel.com (Switch-2.2.6/Switch-2.2.0) with ESMTP id
	m31DVec23364; Tue, 1 Apr 2008 13:31:40 GMT
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Tue, 1 Apr 2008 08:27:47 -0500
Message-ID: <F66D7286825402429571678A16C2F5EE02AE737D@zrc2hxm1.corp.nortel.com>
In-Reply-To: <47B2061B1E5E494B96AA40008300D850371EB4@esealmw109.eemea.ericsson.se>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] Comparison of retargeting proposals
Thread-Index: AciRmuXokKnUmVQyROmRmE5PNupbGQB8oDogABBlm+AACyBNEA==
References: <200803251629.m2PGTC0N025942@dragon.ariadne.com><CA9998CD4A020D418654FCDEF4E707DF05066D81@esealmw113.eemea.ericsson.se><28F05913385EAC43AF019413F674A0171246ED51@OCCLUST04EVS1.ugd.att.com><CA9998CD4A020D418654FCDEF4E707DF05066D85@esealmw113.eemea.ericsson.se><18414.14946.299667.816439@harjus.tutpro.com>
	<1ECE0EB50388174790F9694F77522CCF15D57E04@zrc2hxm0.corp.nortel.com>
	<47B2061B1E5E494B96AA40008300D850371EB4@esealmw109.eemea.ericsson.se>
From: "Mary Barnes" <mary.barnes@nortel.com>
To: "Hans Erik van Elburg" <hanserik.van.elburg@ericsson.com>,
	"Francois Audet" <audet@nortel.com>, "Juha Heinanen" <jh@tutpro.com>,
	"Christer Holmberg" <christer.holmberg@ericsson.com>
Cc: sip@ietf.org, "DOLLY, MARTIN C, ATTLABS" <mdolly@att.com>
Subject: Re: [Sip] Comparison of retargeting proposals
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

The proper use of History-Info isn't rocket science, but it does require
careful reading of the spec and proper implementation (i.e., I agree if
you don't implement the spec properly, then it is a mess but that can be
the case for any spec that isn't implemented properly). There are some
inaccuracies in one of Dale's examples on forking that makes it look far
more error prone and problematic than it should be. I'll respond
separately with details.  

Mary. 

-----Original Message-----
From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On Behalf Of
Hans Erik van Elburg
Sent: Tuesday, April 01, 2008 3:07 AM
To: Audet, Francois (SC100:3055); Juha Heinanen; Christer Holmberg
Cc: sip@ietf.org; DOLLY, MARTIN C, ATTLABS
Subject: Re: [Sip] Comparison of retargeting proposals

The point is that History-Info does not solve the problem so something
new is needed anyway.

And proper use of History-Info is rocket science as Dale has shown.

/Hans Erik

-----Original Message-----
From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On Behalf Of
Francois Audet
Sent: Tuesday, April 01, 2008 2:16 AM
To: Juha Heinanen; Christer Holmberg
Cc: sip@ietf.org; DOLLY, MARTIN C, ATTLABS
Subject: Re: [Sip] Comparison of retargeting proposals

There are existing implementations of History-Info in the field.

It's not rocket science.

And I don't see why introducing something else will be simpler. It will
just be extra complexity. 

> -----Original Message-----
> From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On Behalf Of 
> Juha Heinanen
> Sent: Saturday, March 29, 2008 05:48
> To: Christer Holmberg
> Cc: sip@ietf.org; DOLLY, MARTIN C, ATTLABS
> Subject: Re: [Sip] Comparison of retargeting proposals
> 
> Christer Holmberg writes:
> 
>  > However, I still fail to understand how Target would be more 
> "complex"
>  > than e.g. History-Info. 
> 
> christer,
> 
> ANY solution for anything must be MUCH simpler than history-info, 
> which is far too complex by itself.
> 
> i haven't seen anyone fully implement history-info and most likely 
> that is because of its complexity.  if you are now going to invent 
> some other mechanism that is as complex or even more complex, it has 
> no change in real world.
> 
> i therefore suggest that h-i is deprecated and a replaced by a simpler

> mechanism.
> 
> -- juha
> _______________________________________________
> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol Use 
> sip-implementors@cs.columbia.edu for questions on current sip Use 
> sipping@ietf.org for new developments on the application of sip
> 
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol Use
sip-implementors@cs.columbia.edu for questions on current sip Use
sipping@ietf.org for new developments on the application of sip
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol Use
sip-implementors@cs.columbia.edu for questions on current sip Use
sipping@ietf.org for new developments on the application of sip
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Tue Apr  1 06:47:02 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id DEB7F28C234;
	Tue,  1 Apr 2008 06:47:02 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 97B813A6E91
	for <sip@core3.amsl.com>; Tue,  1 Apr 2008 06:47:01 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.598
X-Spam-Level: 
X-Spam-Status: No, score=-2.598 tagged_above=-999 required=5
	tests=[BAYES_00=-2.599, HTML_MESSAGE=0.001]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 8+2dsDF3lUqm for <sip@core3.amsl.com>;
	Tue,  1 Apr 2008 06:47:00 -0700 (PDT)
Received: from jaguar.aricent.com (jaguar.aricent.com [61.246.186.17])
	by core3.amsl.com (Postfix) with ESMTP id 378C828C484
	for <sip@ietf.org>; Tue,  1 Apr 2008 06:45:57 -0700 (PDT)
Received: from jaguar.aricent.com (localhost [127.0.0.1])
	by jaguar.aricent.com (8.13.8/8.13.8) with ESMTP id m31DVh3I022509
	for <sip@ietf.org>; Tue, 1 Apr 2008 19:01:43 +0530
Received: from webmail.asian.ad.aricent.com (webmail [10.203.158.17])
	by jaguar.aricent.com (8.13.8/8.13.8) with ESMTP id m31DVKZX022079
	for <sip@ietf.org>; Tue, 1 Apr 2008 19:01:43 +0530
Received: from GUREXHT01.ASIAN.AD.ARICENT.COM ([10.203.171.136])
	by sandesh.gur.aricent.com (Lotus Domino Release 6.5.5)
	with ESMTP id 2008040119154125-51209 ;
	Tue, 1 Apr 2008 19:15:41 +0530 
Received: from GUREXMB02.asian.ad.aricent.com ([10.203.171.132]) by
	GUREXHT01.ASIAN.AD.ARICENT.COM ([10.203.171.136]) with mapi;
	Tue, 1 Apr 2008 19:15:41 +0530
From: "Vijay.KS" <Vijay.KS@aricent.com>
To: "sip@ietf.org" <sip@ietf.org>
Date: Tue, 1 Apr 2008 19:15:40 +0530
Thread-Topic: pres Uri
Thread-Index: AciT/3XaYiKlI4tlSZ+gHaTW17xrkg==
Message-ID: <752967B221510541B166D92607A99BE13D419E59@GUREXMB02.ASIAN.AD.ARICENT.COM>
Accept-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
acceptlanguage: en-US
MIME-Version: 1.0
X-MIMETrack: Itemize by SMTP Server on Sandesh/HSS(Release 6.5.5|November 30,
	2005) at 01/04/2008 07:15:41 PM,
	Serialize by Router on WebMail/HSS(Build V655_10312005|October 31,
	2005) at 04/01/2008 07:18:02 PM,
	Serialize complete at 04/01/2008 07:18:02 PM
Content-Language: en-US
Subject: [Sip] pres Uri
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: multipart/mixed; boundary="===============1757028875=="
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

--===============1757028875==
Content-Type: multipart/alternative;
	boundary="_000_752967B221510541B166D92607A99BE13D419E59GUREXMB02ASIANA_"
Content-Language: en-US

--_000_752967B221510541B166D92607A99BE13D419E59GUREXMB02ASIANA_
Content-Transfer-Encoding: quoted-printable
Content-Type: text/plain;
	charset="us-ascii"

Hi,=0D=0ACan=20a=20pres=20Uri=20have=20port=20information?=0D=0Ai.e.=20Wh=
ether=20the=20following=20pres=20Uri=20is=20correct=0D=0A=0D=0A=20=20=20=
=20=20=20=20=20=20=20=20=20pres:vijay@10.203.225.100:54321=0D=0A=0D=0ATha=
nks=20and=20Regards,=0D=0AVijay=20K=20S=0D=0A=0D=0A"DISCLAIMER:=20This=20=
message=20is=20proprietary=20to=20Aricent=20=20and=20is=20intended=20sole=
ly=20for=20the=20use=20of=20=0Athe=20individual=20to=20whom=20it=20is=20a=
ddressed.=20It=20may=20contain=20privileged=20or=20confidential=20informa=
tion=20and=20should=20not=20be=20=0Acirculated=20or=20used=20for=20any=20=
purpose=20other=20than=20for=20what=20it=20is=20intended.=20If=20you=20ha=
ve=20received=20this=20message=20in=20error,=20=0Aplease=20notify=20the=
=20originator=20immediately.=20If=20you=20are=20not=20the=20intended=20re=
cipient,=20you=20are=20notified=20that=20you=20are=20strictly=0Aprohibite=
d=20from=20using,=20copying,=20altering,=20or=20disclosing=20the=20conten=
ts=20of=20this=20message.=20Aricent=20accepts=20no=20responsibility=20for=
=20=0Aloss=20or=20damage=20arising=20from=20the=20use=20of=20the=20inform=
ation=20transmitted=20by=20this=20email=20including=20damage=20from=20vir=
us."=0A

--_000_752967B221510541B166D92607A99BE13D419E59GUREXMB02ASIANA_
Content-Transfer-Encoding: quoted-printable
Content-Type: text/html;
	charset="utf-8"

<html=20xmlns:o=3D"urn:schemas-microsoft-com:office:office"=20xmlns:w=3D"=
urn:schemas-microsoft-com:office:word"=20xmlns=3D"http://www.w3.org/TR/RE=
C-html40">=0D=0A=0D=0A<head>=0D=0A<meta=20http-equiv=3DContent-Type=20con=
tent=3D"text/html;=20charset=3Dus-ascii">=0D=0A<meta=20name=3DGenerator=
=20content=3D"Microsoft=20Word=2011=20(filtered=20medium)">=0D=0A<style>=
=0D=0A<!--=0D=0A=20/*=20Style=20Definitions=20*/=0D=0A=20p.MsoNormal,=20l=
i.MsoNormal,=20div.MsoNormal=0D=0A=09{margin:0in;=0D=0A=09margin-bottom:.=
0001pt;=0D=0A=09font-size:12.0pt;=0D=0A=09font-family:"Times=20New=20Roma=
n";}=0D=0Aa:link,=20span.MsoHyperlink=0D=0A=09{color:blue;=0D=0A=09text-d=
ecoration:underline;}=0D=0Aa:visited,=20span.MsoHyperlinkFollowed=0D=0A=
=09{color:purple;=0D=0A=09text-decoration:underline;}=0D=0Aspan.EmailStyl=
e17=0D=0A=09{mso-style-type:personal-compose;=0D=0A=09font-family:Arial;=
=0D=0A=09color:windowtext;}=0D=0A@page=20Section1=0D=0A=09{size:8.5in=201=
1.0in;=0D=0A=09margin:1.0in=201.25in=201.0in=201.25in;}=0D=0Adiv.Section1=
=0D=0A=09{page:Section1;}=0D=0A-->=0D=0A</style>=0D=0A=0D=0A</head>=0D=0A=
=0D=0A<body=20lang=3DEN-US=20link=3Dblue=20vlink=3Dpurple>=0D=0A=0D=0A<di=
v=20class=3DSection1>=0D=0A=0D=0A<p=20class=3DMsoNormal><font=20size=3D2=
=20face=3DArial><span=20style=3D'font-size:10.0pt;=0D=0Afont-family:Arial=
'>Hi,<o:p></o:p></span></font></p>=0D=0A=0D=0A<p=20class=3DMsoNormal><fon=
t=20size=3D2=20face=3DArial><span=20style=3D'font-size:10.0pt;=0D=0Afont-=
family:Arial'>Can=20a=20pres=20Uri=20have=20port=20information?<o:p></o:p=
></span></font></p>=0D=0A=0D=0A<p=20class=3DMsoNormal><font=20size=3D2=20=
face=3DArial><span=20style=3D'font-size:10.0pt;=0D=0Afont-family:Arial'>i=
.e.=20Whether=20the=20following=20pres=20Uri=20is=20correct<o:p></o:p></s=
pan></font></p>=0D=0A=0D=0A<p=20class=3DMsoNormal><font=20size=3D2=20face=
=3DArial><span=20style=3D'font-size:10.0pt;=0D=0Afont-family:Arial'><o:p>=
&nbsp;</o:p></span></font></p>=0D=0A=0D=0A<p=20class=3DMsoNormal><font=20=
size=3D2=20face=3DArial><span=20style=3D'font-size:10.0pt;=0D=0Afont-fami=
ly:Arial'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nb=
sp;=20pres:vijay@10.203.225.100:54321<o:p></o:p></span></font></p>=0D=0A=
=0D=0A<p=20class=3DMsoNormal><font=20size=3D2=20face=3DArial><span=20styl=
e=3D'font-size:10.0pt;=0D=0Afont-family:Arial'><o:p>&nbsp;</o:p></span></=
font></p>=0D=0A=0D=0A<p=20class=3DMsoNormal><font=20size=3D2=20face=3DAri=
al><span=20style=3D'font-size:10.0pt;=0D=0Afont-family:Arial'>Thanks=20an=
d=20Regards,<o:p></o:p></span></font></p>=0D=0A=0D=0A<p=20class=3DMsoNorm=
al><font=20size=3D2=20face=3DArial><span=20style=3D'font-size:10.0pt;=0D=
=0Afont-family:Arial'>Vijay=20K=20S<o:p></o:p></span></font></p>=0D=0A=0D=
=0A<p=20class=3DMsoNormal><font=20size=3D2=20face=3DArial><span=20style=
=3D'font-size:10.0pt;=0D=0Afont-family:Arial'><o:p>&nbsp;</o:p></span></f=
ont></p>=0D=0A=0D=0A</div>=0D=0A=0D=0A</body>=0D=0A=0D=0A</html>=0D=0A<ta=
ble><tr><td=20bgcolor=3D#ffffff><font=20color=3D#000000><pre>"DISCLAIMER:=
=20This=20message=20is=20proprietary=20to=20Aricent=20=20and=20is=20inten=
ded=20solely=20for=20the=20use=20of=20=0Athe=20individual=20to=20whom=20i=
t=20is=20addressed.=20It=20may=20contain=20privileged=20or=20confidential=
=20information=20and=20should=20not=20be=20=0Acirculated=20or=20used=20fo=
r=20any=20purpose=20other=20than=20for=20what=20it=20is=20intended.=20If=
=20you=20have=20received=20this=20message=20in=20error,=20=0Aplease=20not=
ify=20the=20originator=20immediately.=20If=20you=20are=20not=20the=20inte=
nded=20recipient,=20you=20are=20notified=20that=20you=20are=20strictly=0A=
prohibited=20from=20using,=20copying,=20altering,=20or=20disclosing=20the=
=20contents=20of=20this=20message.=20Aricent=20accepts=20no=20responsibil=
ity=20for=20=0Aloss=20or=20damage=20arising=20from=20the=20use=20of=20the=
=20information=20transmitted=20by=20this=20email=20including=20damage=20f=
rom=20virus."=0A</pre></font></td></tr></table>

--_000_752967B221510541B166D92607A99BE13D419E59GUREXMB02ASIANA_--

--===============1757028875==
Content-Type: text/plain; charset="us-ascii"
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip
--===============1757028875==--


From sip-bounces@ietf.org  Tue Apr  1 06:52:59 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id A76F33A6E91;
	Tue,  1 Apr 2008 06:52:59 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 641E63A6BC7
	for <sip@core3.amsl.com>; Tue,  1 Apr 2008 06:52:58 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -4.229
X-Spam-Level: 
X-Spam-Status: No, score=-4.229 tagged_above=-999 required=5 tests=[AWL=2.370, 
	BAYES_00=-2.599, RCVD_IN_DNSWL_MED=-4]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 3xLYoBHnJCdp for <sip@core3.amsl.com>;
	Tue,  1 Apr 2008 06:52:57 -0700 (PDT)
Received: from zcars04e.nortel.com (zcars04e.nortel.com [47.129.242.56])
	by core3.amsl.com (Postfix) with ESMTP id 22EEE3A6E9E
	for <sip@ietf.org>; Tue,  1 Apr 2008 06:50:07 -0700 (PDT)
Received: from zrc2hxm1.corp.nortel.com (zrc2hxm1.corp.nortel.com
	[47.103.123.72])
	by zcars04e.nortel.com (Switch-2.2.0/Switch-2.2.0) with ESMTP id
	m31DnQK23232; Tue, 1 Apr 2008 13:49:27 GMT
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Tue, 1 Apr 2008 08:47:12 -0500
Message-ID: <F66D7286825402429571678A16C2F5EE02AE73FF@zrc2hxm1.corp.nortel.com>
In-Reply-To: <200803220327.m2M3RhSX032677@dragon.ariadne.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] Further observations about History-Info
Thread-Index: AciLzMkjQl7WtXj1SRme3YNKsBKzSQIMIvvw
References: <200803220327.m2M3RhSX032677@dragon.ariadne.com>
From: "Mary Barnes" <mary.barnes@nortel.com>
To: <Dale.Worley@comcast.net>, <sip@ietf.org>
Subject: Re: [Sip] Further observations about History-Info
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Hi Dale,

I have a few clarifications added below [MB].

Mary.  

-----Original Message-----
From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On Behalf Of
Dale.Worley@comcast.net
Sent: Friday, March 21, 2008 10:28 PM
To: sip@ietf.org
Subject: [Sip] Further observations about History-Info

Considering again how History-Info handles 3xx responses, let me
construct this example of multi-stage translation:

Let us assume that sip:list@a.example.com routes to proxy 1.  Proxy 1
knows that (one) target of this URI is Alice's AOR,
sip:10@b.example.com, which then routes to proxy 2.  Proxy 2 knows the
phone address for sip:10@b.example.com, which is sip:10@10.1.1.1.

As the request reaches the UA at 10.1.1.1, the History-Info looks like
this:

    History-Info: <sip:list@a.example.com>;index=1,
	    <sip:10@b.example.com>;index=1.1,
	    <sip:10@10.1.1.1>;index=1.1.1

This clearly gives the logical derivation of the destination address
from the original request-URI (which is presumably also the To:
value):

	sip:list@a.example.com ->
		sip:10@b.example.com ->
			sip:10@10.1.1.1

Now let us modify the scenario by changing proxy 2 not to route the
request itself, but rather to send a 302 response back to proxy 1.
Within SIP, any agent that potentially routes a request can choose to
send a 3xx response instead; in theory, all forking can be forced back
onto the originating UA if downstream agents always send 3xx responses
rather than routing.

With the 302 response, the History-Info looks like this (taking
liberties with the escaping):

    History-Info: <sip:list@a.example.com>;index=1,
	    <sip:10@b.example.com?Reason=SIP;cause=302>;index=1.1,
	    <sip:10@10.1.1.1>;index=1.2

And this is the forking structure of the request.  But it looses the
logical structure of the translation; the UA at 10.1.1.1 does not see
that it received the request "through" its AOR, sip:10@b.example.com.
The apparent derivation of the destination address is:

	sip:list@a.example.com ->
		sip:10@10.1.1.1

(Although in practice the UA could guess from the "cause=302" on its
".1 sibling" that its fork was derived from the index=1.1 fork.)

[MB] The idea of history-info is not to capture the "logical structure
of the translation". The objective is to capture the history of the
request as it makes its way to the destination. So, you do have a
complete tree of the request history and your "Although,.." is the
design intention.  [/MB]
                           
And in the extreme case of a complex forking and retargeting structure,
if all other agents used 3xx responses to implement it, the UAS would
receive a History-Info whose indexes were all single integers, obscuring
completely how its address was derived.
[MB] Again, History-Info wasn't intended to track how an address was
derived, but WHY a request was routed the way it was. So, you do know
through a series of 3xx, that retargeting occurred and you do know the
original target of the request and you do know the entity that handled
the 3xx responses. [/MB]

As I proposed earlier, I think getting around this problem will require
adding an additional field-parameter to show how the address derivations
are performed.  In this example:

    History-Info: <sip:list@a.example.com>;index=1,
	    <sip:10@b.example.com?Reason=SIP;cause=302>;index=1.1,
	    <sip:10@10.1.1.1>;index=1.2;redir=1.1

For diagnostic purposes, it would also be convenient if any other
field-parameters on the Contacts of a 3xx response were copied into the
derived History-Info elements.  Only the "q" parameter seems to be
useful information.  A typical "serial fork" would then look like this
when the request reached the second contact:

    History-Info: <sip:list@a.example.com>;index=1,
	    <sip:10@b.example.com?Reason=SIP;cause=302>;index=1.1,
	
<sip:10@10.1.1.1?Reason=SIP;cause=486>;q=1.0;index=1.2;redir=1.1
	    <sip:10@10.2.2.2>;q=0.9;index=1.3;redir=1.1

[MB] History-Info wasn't intended as a diagnostic tool and it doesn't
seem reasonable to add all this other information to the entries. RFC
4244 clearly states that History-Info has limited diagnostic
capabilities:
  " Some diagnostic information for debugging SIP requests.  (Note that
     the diagnostic utility of this mechanism is limited by the fact
     that its use by entities that retarget is optional.)
The intention is that the SIP messages themselves can be captured if you
want to run diagnostics (acknowledging that you may not be able to get
all traces at all nodes). [/MB]

As an elaboration, if we suppose UA sip:10@10.2.2.2 redirected the
request to sip:alice@c.example.com, we could get:

    History-Info: <sip:list@a.example.com>;index=1,
	    <sip:10@b.example.com?Reason=SIP;cause=302>;index=1.1,
	
<sip:10@10.1.1.1?Reason=SIP;cause=486>;q=1.0;index=1.2;redir=1.1
	
<sip:10@10.2.2.2?Reason=SIP;cause=302>;q=0.9;index=1.3;redir=1.1
	    <sip:alice@c.example.com>;index=1.4;redir=1.3

This illustrates that the forking structure is flat (arranging the
entries by their indexes):

	sip:list@a.example.com
		sip:10@b.example.com
		sip:10@10.1.1.1
		sip:10@10.2.2.2
		sip:alice@c.example.com

whereas the address derivation is more complex (placing each entry under
the entry referenced by its 'redir' parameter):

	sip:list@a.example.com
		sip:10@b.example.com
			sip:10@10.1.1.1
			sip:10@10.2.2.2
				sip:alice@c.example.com

The latter is more useful for attacking the "UA loose route" problem.

We still need to investigate what History-Info looks like if some of the
participating proxies do not support it.

Dale
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol Use
sip-implementors@cs.columbia.edu for questions on current sip Use
sipping@ietf.org for new developments on the application of sip
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Tue Apr  1 07:42:25 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 86C8528C407;
	Tue,  1 Apr 2008 07:42:25 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 01F0D28C3A8
	for <sip@core3.amsl.com>; Tue,  1 Apr 2008 07:42:25 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -6.024
X-Spam-Level: 
X-Spam-Status: No, score=-6.024 tagged_above=-999 required=5 tests=[AWL=0.575, 
	BAYES_00=-2.599, RCVD_IN_DNSWL_MED=-4]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 3eb+eXKX07nX for <sip@core3.amsl.com>;
	Tue,  1 Apr 2008 07:42:19 -0700 (PDT)
Received: from mgw-mx03.nokia.com (smtp.nokia.com [192.100.122.230])
	by core3.amsl.com (Postfix) with ESMTP id C465D28C2C4
	for <sip@ietf.org>; Tue,  1 Apr 2008 07:42:18 -0700 (PDT)
Received: from esebh107.NOE.Nokia.com (esebh107.ntc.nokia.com [172.21.143.143])
	by mgw-mx03.nokia.com (Switch-3.2.6/Switch-3.2.6) with ESMTP id
	m31Efqcg029614 for <sip@ietf.org>; Tue, 1 Apr 2008 17:42:14 +0300
Received: from esebh104.NOE.Nokia.com ([172.21.143.34]) by
	esebh107.NOE.Nokia.com with Microsoft SMTPSVC(6.0.3790.3959); 
	Tue, 1 Apr 2008 17:41:53 +0300
Received: from esebe105.NOE.Nokia.com ([172.21.143.53]) by
	esebh104.NOE.Nokia.com with Microsoft SMTPSVC(6.0.3790.3959); 
	Tue, 1 Apr 2008 17:41:53 +0300
Received: from [172.21.40.139] ([172.21.40.139]) by esebe105.NOE.Nokia.com
	with Microsoft SMTPSVC(6.0.3790.3959); 
	Tue, 1 Apr 2008 17:41:53 +0300
Message-ID: <47F249C2.8040606@nokia.com>
Date: Tue, 01 Apr 2008 17:42:10 +0300
From: Jari Urpalainen <jari.urpalainen@nokia.com>
User-Agent: Thunderbird 2.0.0.12 (X11/20080227)
MIME-Version: 1.0
To: Miguel Garcia <Miguel.Garcia@nsn.com>
References: <5D1A7985295922448D5550C94DE2918001CEC34C@DEEXC1U01.de.lucent.com>
	<47F0CF37.3020309@nsn.com> <47F1DE3A.7040005@nokia.com>
	<47F1E3DE.1080109@nsn.com> <47F1EE05.5080103@nokia.com>
	<47F214E5.1020206@nsn.com>
In-Reply-To: <47F214E5.1020206@nsn.com>
X-OriginalArrivalTime: 01 Apr 2008 14:41:53.0238 (UTC)
	FILETIME=[86CD5F60:01C89406]
X-Nokia-AV: Clean
Cc: IETF SIP List <sip@ietf.org>
Subject: Re: [Sip] WGLC for draft-ietf-sip-xcapevent-01
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Miguel Garcia wrote:
> inline
>
> Jari Urpalainen wrote:
>
>>>>> - The draft should say which of the 3 XCAP-Diff processing models 
>>>>> is mandatory to implement. I suspect the draft assumes that all 3 
>>>>> are mandatory to implement in both the server and the clients. So, 
>>>>> it should say it. But isn't that in contradiction with the 
>>>>> following sentence in Section 4.7?
>>>>>
>>>>>    It is RECOMMENDED to implement the XML-Patch-Ops processing on a
>>>>>    server.
>>>>>
>>>>> How can one implement the xcap-patch diff-processing model without 
>>>>> the XML-Patch-Ops?
>>>> clearly this needs some clarification. Yes you don't need to 
>>>> support _any_ patching at all (in the server) as the notifier may 
>>>> decide to send only references to docs and only indicate 
>>>> element/attribute subscriptions. The diff-processing parameter is 
>>>> thus a hint to the notifier. This is to allow naive implementations 
>>>> or where transmission optimizations  are not important. But the 
>>>> parameter value "no-patching" is not a hint, the notifier MUST NOT 
>>>> provide patches then.
>>>
>>>
>>> You said that the server dos not need to support patching. So, what
>>> happens if the subscriber selects diff-processing=xcap-patching and the
>>> server does not support it? How will the developer be ready in its code
>>> to react to it?
>>>
>> well, it is almost no-brainer stuff, since the thing you MUST 
>> understand is http-retrievals of documents, i.e. it is the fall-back 
>> resolution you must understand (well, if you request in a corner-case 
>> reasonable xcap component contents you could avoid having 
>> implementing http). Patching is truly an optional thing and an 
>> optimization technique which you don't necessarily always need. So in 
>> principle, the client side patchings are fairly easy, but what is not 
>> mandated by the spec that the servers (notifiers) MUST implement the 
>> inevitably complex thing: the diff-processing in the notifier. Even 
>> if you support only the simple ;-) xcap-patching mode, e.g. combining 
>> with throttling MAY be challenging enough... So what is important in 
>> this package that you can have an almost immediate notification once 
>> a change happens, but requiring _always_ the most complex thing would 
>> be an unnecessary burden. Hey, _good_ implementations would certainly 
>> implement decent diffing ;-)
>
> I still didn't get a question to my answer. A subscriber sends a 
> SUBSCRIBE request. The Event header is set to 
> xcap-diff;diff-processing=xcap-patch. The server does not support it. 
> So, now what? Is the SUBSCRIBE request rejected (with which response 
> code?) or is it accepted and a fall back to some of the other 
> processing models (to which one)? Where is that written?
it seems not to be clearly written anywhere ;-) (which i thought was 
already clear) except that there's at least this one sentence "It is 
RECOMMENDED to implement the XML-Patch-Ops processing on a server". If 
diff-processing is an optional feature on the server what's left from 
the format spec ? The <document> element doesn't indicate then patching, 
i.e. <add>, <remove> or <replace> doesn't exist in notification bodies 
(see the figure 1 of the format spec). So the only available fall-back 
is that clients MUST then understand http retrievals of documents when 
document creations or modifications will happen. And no other harm will 
happen except you'll lose some optimizations. And still a reasonable 
aggregate mode is more complex than xcap-patching mode which should be 
explicitly stated though it is self-evident. So when notifier decides to 
simplify the implementation burden, support for aggregation is dropped 
first and then xcap-patching.

Having a really useful rejection handling is a nightmare of its own... 
e.g. how to signal event parameter errors or what to do with conflicts, 
409 non-existing for sip ? So the status quo is to do what has been done 
before, be pragmatic, which means: subscriber sends a request and 
notifier fills in what it can provide. The client is then responsible 
for doing requests with http, and determining what might be wrong when 
it doesn't get what it is expecting. This is usually a programming 
error, i assume, and clients must be clever enough to make the right 
decisions or have some fall-backs. That being said, i hardly think you 
could fix things without changing the code when these kind of errors happen.

But anyways, some clarification must be added to remove this implicit 
interpretation.

>
>>>>> - Section 4.4. Missing text about the Request-URI. Although the 
>>>>> title of Section 4.4 has nothing to do with Request-URIs, I think 
>>>>> somehow somewhere the document should say what is the assumption 
>>>>> about the Request-URI of the SUBSCRIBE request. I guess the 
>>>>> document tries to say:
>>>>>
>>>>> A subscribers need to appropriately populate the Request-URI of 
>>>>> the SUBSCRIBE request. This document does not provide any 
>>>>> constraints to it.   It is assumed that the subscriber is 
>>>>> provisioned or has learned the Request-URI of the notifier of this 
>>>>> event package. Initial SUBSCRIBE requests are assumed to be 
>>>>> addressed to the URI of that notifier.
>>>> except the last sentence which i don't follow looks good.
>>>
>>> The point with the last sentence is that in an initial SUBSCRIBE
>>> request, the Request-URI is populated with the SIP URI of the notifier,
>>> which is learned somehow (outside the scope of the document). Once the
>>> dialog is created, if there is a subsequent SUBSCRIBE request (e.g., to
>>> refresh the subscription), then the Request-URI will obey the SIP 
>>> rules:
>>> it will be set to the URI that was received in the Contact header of 
>>> the
>>>  200 OK response for that initial SUBSCRIBE. Conclusion: the
>>> Request-URI of the initial SUBSCRIBE request and the following ones (in
>>> the same dialog) need not be the same.
>>>
>> huh, does this explain the last sentence, i mean are they really 
>> equivalent ?. If so, i can include it (though i still don't get it 
>> (the single line), sorry ...)
>
> Let me try by rephrasing the last sentence: Instead of:
>
> Initial SUBSCRIBE requests are assumed to be addressed to the URI of
> that notifier.
>
> what about this one?
>
> This specification assumes that subscriber populates initial SUBSCRIBE 
> requests with the URI of that notifier.
>
> /Miguel
>
great.

thanks, jari
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Tue Apr  1 08:07:43 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 34B5828C4FB;
	Tue,  1 Apr 2008 08:07:43 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 04CF828C4F5
	for <sip@core3.amsl.com>; Tue,  1 Apr 2008 08:07:42 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -1.605
X-Spam-Level: 
X-Spam-Status: No, score=-1.605 tagged_above=-999 required=5 tests=[AWL=0.994, 
	BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id vJ-yvlW3wrtt for <sip@core3.amsl.com>;
	Tue,  1 Apr 2008 08:07:41 -0700 (PDT)
Received: from dizzyd.com (dizzyd.com [207.210.219.225])
	by core3.amsl.com (Postfix) with ESMTP id 6962928C56F
	for <sip@ietf.org>; Tue,  1 Apr 2008 08:06:27 -0700 (PDT)
Received: from wrk225.corp.jabber.com (dencfw1.jabber.com [207.182.164.5])
	(Authenticated sender: stpeter)
	by dizzyd.com (Postfix) with ESMTPSA id 04F3F40053;
	Tue,  1 Apr 2008 09:05:34 -0600 (MDT)
Message-ID: <47F24AC9.3090109@stpeter.im>
Date: Tue, 01 Apr 2008 08:46:33 -0600
From: Peter Saint-Andre <stpeter@stpeter.im>
User-Agent: Mozilla/5.0 (Macintosh; U; PPC Mac OS X Mach-O; en-US;
	rv:1.8.1.12) Gecko/20080213 Thunderbird/2.0.0.12 Mnenhy/0.7.5.0
MIME-Version: 1.0
To: "Vijay.KS" <Vijay.KS@aricent.com>
References: <752967B221510541B166D92607A99BE13D419E59@GUREXMB02.ASIAN.AD.ARICENT.COM>
In-Reply-To: <752967B221510541B166D92607A99BE13D419E59@GUREXMB02.ASIAN.AD.ARICENT.COM>
Cc: sip@ietf.org
Subject: Re: [Sip] pres Uri
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: multipart/mixed; boundary="===============1265283994=="
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

This is a cryptographically signed message in MIME format.

--===============1265283994==
Content-Type: multipart/signed; protocol="application/x-pkcs7-signature"; micalg=sha1; boundary="------------ms040404040804000904040006"

This is a cryptographically signed message in MIME format.

--------------ms040404040804000904040006
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit

Vijay.KS wrote:
> Hi,
> Can a pres Uri have port information?
> i.e. Whether the following pres Uri is correct
> 
>             pres:vijay@10.203.225.100:54321

RFC 3859 defines the pres: URI scheme, but makes reference to RFC 2822
(check the definition of the mailbox rule in that document, especially
the addr-spec rule in section 3.4.1).

Peter

-- 
Peter Saint-Andre
https://stpeter.im/


--------------ms040404040804000904040006
Content-Type: application/x-pkcs7-signature; name="smime.p7s"
Content-Transfer-Encoding: base64
Content-Disposition: attachment; filename="smime.p7s"
Content-Description: S/MIME Cryptographic Signature

MIAGCSqGSIb3DQEHAqCAMIACAQExCzAJBgUrDgMCGgUAMIAGCSqGSIb3DQEHAQAAoIIYQDCC
B3AwggbZoAMCAQICAQowDQYJKoZIhvcNAQEEBQAwgbAxCzAJBgNVBAYTAklMMQ8wDQYDVQQI
EwZJc3JhZWwxDjAMBgNVBAcTBUVpbGF0MRYwFAYDVQQKEw1TdGFydENvbSBMdGQuMRowGAYD
VQQLExFDQSBBdXRob3JpdHkgRGVwLjEpMCcGA1UEAxMgRnJlZSBTU0wgQ2VydGlmaWNhdGlv
biBBdXRob3JpdHkxITAfBgkqhkiG9w0BCQEWEmFkbWluQHN0YXJ0Y29tLm9yZzAeFw0wNTA0
MDUxNDUyMTNaFw0xMDA0MDQxNDUyMTNaMIGvMQswCQYDVQQGEwJJTDEPMA0GA1UECBMGSXNy
YWVsMRYwFAYDVQQKEw1TdGFydENvbSBMdGQuMSMwIQYDVQQLExpTZWN1cmUgQ2VydGlmaWNh
dGUgU2lnbmluZzEvMC0GA1UEAxMmU3RhcnRDb20gQ2xhc3MgMyBQcmltYXJ5IEVtYWlsIEZy
ZWUgQ0ExITAfBgkqhkiG9w0BCQEWEmFkbWluQHN0YXJ0Y29tLm9yZzCCASIwDQYJKoZIhvcN
AQEBBQADggEPADCCAQoCggEBAPEaOcSx5ZNexwo1zJNcX48UV0UtkNtWX3qa9ZaX2VZilgIz
eIrObloQV0Ma2rdgqosW9xMb5u3lBVIumt7fEwgMqqtDa3F2Qudelv93P9z2nbmn7X4GnCKA
IQcW97KOSgQQHaVPHq03xGFbszx+LOKrBi/xv3bcGxtYrH+10M1nHbCRo8U2+zcJQowxoI+O
U5nhko9vU25Jp8ZQ2fROH6C2TSjZuanzMTyvc5+dJiN2Hm2MhAMrqO7pUGhDKuUvnmKpAcwj
eYQHU51mvlB4IId+4bTEwVoG4AMJ8RXB47VdJevN0yqeJSACyoRft4w4OpqFysR1HTT6aE6u
xLg9ZC0CAwEAAaOCBBMwggQPMA8GA1UdEwEB/wQFMAMBAf8wCwYDVR0PBAQDAgHmMB0GA1Ud
DgQWBBQErNskd1NGRpZfFwFcfUJHvUgZCDCB3QYDVR0jBIHVMIHSgBQcicOWzL3+MtUNjIEx
tpidjShkjaGBtqSBszCBsDELMAkGA1UEBhMCSUwxDzANBgNVBAgTBklzcmFlbDEOMAwGA1UE
BxMFRWlsYXQxFjAUBgNVBAoTDVN0YXJ0Q29tIEx0ZC4xGjAYBgNVBAsTEUNBIEF1dGhvcml0
eSBEZXAuMSkwJwYDVQQDEyBGcmVlIFNTTCBDZXJ0aWZpY2F0aW9uIEF1dGhvcml0eTEhMB8G
CSqGSIb3DQEJARYSYWRtaW5Ac3RhcnRjb20ub3JnggEAMB0GA1UdEQQWMBSBEmFkbWluQHN0
YXJ0Y29tLm9yZzAdBgNVHRIEFjAUgRJhZG1pbkBzdGFydGNvbS5vcmcwYgYDVR0fBFswWTAp
oCegJYYjaHR0cDovL2NlcnQuc3RhcnRjb20ub3JnL2NhLWNybC5jcmwwLKAqoCiGJmh0dHA6
Ly9jcmwuc3RhcnRjb20ub3JnL2NybC9jYS1jcmwuY3JsMIIBSgYDVR0gBIIBQTCCAT0wggE5
BgsrBgEEAYG1NwEBATCCASgwLwYIKwYBBQUHAgEWI2h0dHA6Ly9jZXJ0LnN0YXJ0Y29tLm9y
Zy9wb2xpY3kucGRmMDUGCCsGAQUFBwIBFilodHRwOi8vY2VydC5zdGFydGNvbS5vcmcvaW50
ZXJtZWRpYXRlLnBkZjCBvQYIKwYBBQUHAgIwgbAwFBYNU3RhcnRDb20gTHRkLjADAgEBGoGX
TGltaXRlZCBMaWFiaWxpdHksIHJlYWQgdGhlIHNlY3Rpb24gKkxlZ2FsIExpbWl0YXRpb25z
KiBvZiB0aGUgU3RhcnRDb20gQ2VydGlmaWNhdGlvbiBBdXRob3JpdHkgUG9saWN5IGF2YWls
YWJsZSBhdCBodHRwOi8vY2VydC5zdGFydGNvbS5vcmcvcG9saWN5LnBkZjARBglghkgBhvhC
AQEEBAMCAAcwUAYJYIZIAYb4QgENBEMWQVN0YXJ0Q29tIENsYXNzIDMgUHJpbWFyeSBJbnRl
cm1lZGlhdGUgRnJlZSBTU0wgRW1haWwgQ2VydGlmaWNhdGVzMDIGCWCGSAGG+EIBBAQlFiNo
dHRwOi8vY2VydC5zdGFydGNvbS5vcmcvY2EtY3JsLmNybDAzBglghkgBhvhCAQMEJhYkaHR0
cDovL2NlcnQuc3RhcnRjb20ub3JnL2NydC1jcmwuY3JsMDIGCWCGSAGG+EIBCAQlFiNodHRw
Oi8vY2VydC5zdGFydGNvbS5vcmcvcG9saWN5LnBkZjANBgkqhkiG9w0BAQQFAAOBgQBc1g6H
yT3ZrGb0Kq+kkqetnSXtcwffHEr6Tia2XqCqPLLzdZ8VTxVjeq/Kpg2u+8cGASIl1U45XmWa
v4Vez+jSSnChRHwidmbwjCtNBFxr4C/Nkgs8wk2zNQbh+zlDKNophJT7+DVOhnIMJzdNkQW0
4STurMCFwLoyx5k1rDHQYTCCCGIwggdKoAMCAQICAwF4qjANBgkqhkiG9w0BAQUFADCBrzEL
MAkGA1UEBhMCSUwxDzANBgNVBAgTBklzcmFlbDEWMBQGA1UEChMNU3RhcnRDb20gTHRkLjEj
MCEGA1UECxMaU2VjdXJlIENlcnRpZmljYXRlIFNpZ25pbmcxLzAtBgNVBAMTJlN0YXJ0Q29t
IENsYXNzIDMgUHJpbWFyeSBFbWFpbCBGcmVlIENBMSEwHwYJKoZIhvcNAQkBFhJhZG1pbkBz
dGFydGNvbS5vcmcwHhcNMDcwODIyMjExMzI3WhcNMDgwODIxMjExMzI3WjCBujELMAkGA1UE
BhMCVVMxETAPBgNVBAgTCENvbG9yYWRvMQ8wDQYDVQQHEwZEZW52ZXIxGjAYBgNVBAoTEVBl
dGVyIFNhaW50LUFuZHJlMSwwKgYDVQQLEyNTdGFydENvbSBUcnVzdGVkIENlcnRpZmljYXRl
IE1lbWJlcjEaMBgGA1UEAxMRUGV0ZXIgU2FpbnQtQW5kcmUxITAfBgkqhkiG9w0BCQEWEnN0
cGV0ZXJAc3RwZXRlci5pbTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBALC1dkqD
gghuvUCkEloRDX50TTJ6Szj1BqtMpYq+An66BwkWfP07uay+jHori77776wk1/Ajk1nTSHX+
JWo+JWwVXYWBX+Zd780bB0FGShYlHGwMhd/pxX9sT4KW3D+r8sIHVbTGdudSweuNdBhqr1iE
cjze75hpywMkk1OQhTkseQxI5owa9M31JOdNEX0Ja6esyhwwtqqTNC86OujXwa2wew8GTRJE
9p2I0B1VCsKuJaPatbIcf9OFiTSODb5vyoq3+lrElh6V6BXKxEfQ4D2HCSY+5UmlKdnltzvN
bqxyaTYQi1YGsFzew7ST3R8P5jrCq2cvRjGrTKVojZXgPZ0CAwEAAaOCBHgwggR0MAwGA1Ud
EwQFMAMCAQAwCwYDVR0PBAQDAgSwMB0GA1UdJQQWMBQGCCsGAQUFBwMCBggrBgEFBQcDBDAd
BgNVHQ4EFgQUl7CU2dS/alOwLIHV/Oc2RkGDYugwgd0GA1UdIwSB1TCB0oAUBKzbJHdTRkaW
XxcBXH1CR71IGQihgbakgbMwgbAxCzAJBgNVBAYTAklMMQ8wDQYDVQQIEwZJc3JhZWwxDjAM
BgNVBAcTBUVpbGF0MRYwFAYDVQQKEw1TdGFydENvbSBMdGQuMRowGAYDVQQLExFDQSBBdXRo
b3JpdHkgRGVwLjEpMCcGA1UEAxMgRnJlZSBTU0wgQ2VydGlmaWNhdGlvbiBBdXRob3JpdHkx
ITAfBgkqhkiG9w0BCQEWEmFkbWluQHN0YXJ0Y29tLm9yZ4IBCjCCAUAGA1UdIASCATcwggEz
MIIBLwYLKwYBBAGBtTcBAQQwggEeMDUGCCsGAQUFBwIBFilodHRwOi8vY2VydC5zdGFydGNv
bS5vcmcvaW50ZXJtZWRpYXRlLnBkZjAvBggrBgEFBQcCARYjaHR0cDovL2NlcnQuc3RhcnRj
b20ub3JnL3BvbGljeS5wZGYwgbMGCCsGAQUFBwICMIGmMBQWDVN0YXJ0Q29tIEx0ZC4wAwIB
ARqBjUxpbWl0ZWQgTGlhYmlsaXR5LCByZWFkIHRoZSBzZWN0aW9uICpMZWdhbCBMaW1pdGF0
aW9ucyogb2YgdGhlIFN0YXJ0Q29tIENlcnRpZmljYXRpb24gUG9saWN5IGF2YWlsYWJsZSBh
dCBodHRwOi8vY2VydC5zdGFydGNvbS5vcmcvcG9saWN5LnBkZjBkBgNVHR8EXTBbMCygKqAo
hiZodHRwOi8vY2VydC5zdGFydGNvbS5vcmcvY3J0dTMtY3JsLmNybDAroCmgJ4YlaHR0cDov
L2NybC5zdGFydGNvbS5vcmcvY3J0dTMtY3JsLmNybDCBhAYIKwYBBQUHAQEEeDB2MDcGCCsG
AQUFBzABhitodHRwOi8vb2NzcC5zdGFydGNvbS5vcmcvc3ViL2NsYXNzMy91c2VyL2NhMDsG
CCsGAQUFBzAChi9odHRwOi8vY2VydC5zdGFydGNvbS5vcmcvc3ViLmNsYXNzMy51c2VyLmNh
LmNydDARBglghkgBhvhCAQEEBAMCBaAwMQYJYIZIAYb4QgENBCQWIlN0YXJ0Q29tIFRydXN0
ZWQgRW1haWwgQ2VydGlmaWNhdGUwMgYJYIZIAYb4QgEEBCUWI2h0dHA6Ly9jZXJ0LnN0YXJ0
Y29tLm9yZy9jYS1jcmwuY3JsMDUGCWCGSAGG+EIBAwQoFiZodHRwOi8vY2VydC5zdGFydGNv
bS5vcmcvY3J0dTMtY3JsLmNybDAyBglghkgBhvhCAQgEJRYjaHR0cDovL2NlcnQuc3RhcnRj
b20ub3JnL3BvbGljeS5wZGYwIwYDVR0SBBwwGoYYaHR0cDovL2NlcnQuc3RhcnRjb20ub3Jn
MA0GCSqGSIb3DQEBBQUAA4IBAQCdG1L0T4OT1x4X/cKsuHxgijRaZGGiVECcn5+1X7E3H54/
yDkUqWAp6MZ3hZm36pzTYYnl+5M6vldLcqFCVpD7MgH6Kmu+r6pXAjU33k1RIHnkBvQ6KGlR
p0RjfaZW/2MkG07vF2QTLbx6KIhi0pa9Bg9wlqyw+C2g6FYnfmrdJLgGrxUXek8DSZNjZ/AA
75OoutrWkBtdaL2TbFiawdbGuJbSoQLHqLrNhT8f74Oec7ReOmuUTEL8hsFU0sbY/n2e9Wna
1Vzze3nZPbyPiC5F88p88gVLB9mKkOzleYefYiQw8LABz5x1MI+w0bNKNPLviJ/KnHGFEfVL
z1oMHyC3MIIIYjCCB0qgAwIBAgIDAXiqMA0GCSqGSIb3DQEBBQUAMIGvMQswCQYDVQQGEwJJ
TDEPMA0GA1UECBMGSXNyYWVsMRYwFAYDVQQKEw1TdGFydENvbSBMdGQuMSMwIQYDVQQLExpT
ZWN1cmUgQ2VydGlmaWNhdGUgU2lnbmluZzEvMC0GA1UEAxMmU3RhcnRDb20gQ2xhc3MgMyBQ
cmltYXJ5IEVtYWlsIEZyZWUgQ0ExITAfBgkqhkiG9w0BCQEWEmFkbWluQHN0YXJ0Y29tLm9y
ZzAeFw0wNzA4MjIyMTEzMjdaFw0wODA4MjEyMTEzMjdaMIG6MQswCQYDVQQGEwJVUzERMA8G
A1UECBMIQ29sb3JhZG8xDzANBgNVBAcTBkRlbnZlcjEaMBgGA1UEChMRUGV0ZXIgU2FpbnQt
QW5kcmUxLDAqBgNVBAsTI1N0YXJ0Q29tIFRydXN0ZWQgQ2VydGlmaWNhdGUgTWVtYmVyMRow
GAYDVQQDExFQZXRlciBTYWludC1BbmRyZTEhMB8GCSqGSIb3DQEJARYSc3RwZXRlckBzdHBl
dGVyLmltMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAsLV2SoOCCG69QKQSWhEN
fnRNMnpLOPUGq0ylir4CfroHCRZ8/Tu5rL6MeiuLvvvvrCTX8COTWdNIdf4laj4lbBVdhYFf
5l3vzRsHQUZKFiUcbAyF3+nFf2xPgpbcP6vywgdVtMZ251LB6410GGqvWIRyPN7vmGnLAyST
U5CFOSx5DEjmjBr0zfUk500RfQlrp6zKHDC2qpM0Lzo66NfBrbB7DwZNEkT2nYjQHVUKwq4l
o9q1shx/04WJNI4Nvm/Kirf6WsSWHpXoFcrER9DgPYcJJj7lSaUp2eW3O81urHJpNhCLVgaw
XN7DtJPdHw/mOsKrZy9GMatMpWiNleA9nQIDAQABo4IEeDCCBHQwDAYDVR0TBAUwAwIBADAL
BgNVHQ8EBAMCBLAwHQYDVR0lBBYwFAYIKwYBBQUHAwIGCCsGAQUFBwMEMB0GA1UdDgQWBBSX
sJTZ1L9qU7AsgdX85zZGQYNi6DCB3QYDVR0jBIHVMIHSgBQErNskd1NGRpZfFwFcfUJHvUgZ
CKGBtqSBszCBsDELMAkGA1UEBhMCSUwxDzANBgNVBAgTBklzcmFlbDEOMAwGA1UEBxMFRWls
YXQxFjAUBgNVBAoTDVN0YXJ0Q29tIEx0ZC4xGjAYBgNVBAsTEUNBIEF1dGhvcml0eSBEZXAu
MSkwJwYDVQQDEyBGcmVlIFNTTCBDZXJ0aWZpY2F0aW9uIEF1dGhvcml0eTEhMB8GCSqGSIb3
DQEJARYSYWRtaW5Ac3RhcnRjb20ub3JnggEKMIIBQAYDVR0gBIIBNzCCATMwggEvBgsrBgEE
AYG1NwEBBDCCAR4wNQYIKwYBBQUHAgEWKWh0dHA6Ly9jZXJ0LnN0YXJ0Y29tLm9yZy9pbnRl
cm1lZGlhdGUucGRmMC8GCCsGAQUFBwIBFiNodHRwOi8vY2VydC5zdGFydGNvbS5vcmcvcG9s
aWN5LnBkZjCBswYIKwYBBQUHAgIwgaYwFBYNU3RhcnRDb20gTHRkLjADAgEBGoGNTGltaXRl
ZCBMaWFiaWxpdHksIHJlYWQgdGhlIHNlY3Rpb24gKkxlZ2FsIExpbWl0YXRpb25zKiBvZiB0
aGUgU3RhcnRDb20gQ2VydGlmaWNhdGlvbiBQb2xpY3kgYXZhaWxhYmxlIGF0IGh0dHA6Ly9j
ZXJ0LnN0YXJ0Y29tLm9yZy9wb2xpY3kucGRmMGQGA1UdHwRdMFswLKAqoCiGJmh0dHA6Ly9j
ZXJ0LnN0YXJ0Y29tLm9yZy9jcnR1My1jcmwuY3JsMCugKaAnhiVodHRwOi8vY3JsLnN0YXJ0
Y29tLm9yZy9jcnR1My1jcmwuY3JsMIGEBggrBgEFBQcBAQR4MHYwNwYIKwYBBQUHMAGGK2h0
dHA6Ly9vY3NwLnN0YXJ0Y29tLm9yZy9zdWIvY2xhc3MzL3VzZXIvY2EwOwYIKwYBBQUHMAKG
L2h0dHA6Ly9jZXJ0LnN0YXJ0Y29tLm9yZy9zdWIuY2xhc3MzLnVzZXIuY2EuY3J0MBEGCWCG
SAGG+EIBAQQEAwIFoDAxBglghkgBhvhCAQ0EJBYiU3RhcnRDb20gVHJ1c3RlZCBFbWFpbCBD
ZXJ0aWZpY2F0ZTAyBglghkgBhvhCAQQEJRYjaHR0cDovL2NlcnQuc3RhcnRjb20ub3JnL2Nh
LWNybC5jcmwwNQYJYIZIAYb4QgEDBCgWJmh0dHA6Ly9jZXJ0LnN0YXJ0Y29tLm9yZy9jcnR1
My1jcmwuY3JsMDIGCWCGSAGG+EIBCAQlFiNodHRwOi8vY2VydC5zdGFydGNvbS5vcmcvcG9s
aWN5LnBkZjAjBgNVHRIEHDAahhhodHRwOi8vY2VydC5zdGFydGNvbS5vcmcwDQYJKoZIhvcN
AQEFBQADggEBAJ0bUvRPg5PXHhf9wqy4fGCKNFpkYaJUQJyfn7VfsTcfnj/IORSpYCnoxneF
mbfqnNNhieX7kzq+V0tyoUJWkPsyAfoqa76vqlcCNTfeTVEgeeQG9DooaVGnRGN9plb/YyQb
Tu8XZBMtvHooiGLSlr0GD3CWrLD4LaDoVid+at0kuAavFRd6TwNJk2Nn8ADvk6i62taQG11o
vZNsWJrB1sa4ltKhAseous2FPx/vg55ztF46a5RMQvyGwVTSxtj+fZ71adrVXPN7edk9vI+I
LkXzynzyBUsH2YqQ7OV5h59iJDDwsAHPnHUwj7DRs0o08u+In8qccYUR9UvPWgwfILcxggQs
MIIEKAIBATCBtzCBrzELMAkGA1UEBhMCSUwxDzANBgNVBAgTBklzcmFlbDEWMBQGA1UEChMN
U3RhcnRDb20gTHRkLjEjMCEGA1UECxMaU2VjdXJlIENlcnRpZmljYXRlIFNpZ25pbmcxLzAt
BgNVBAMTJlN0YXJ0Q29tIENsYXNzIDMgUHJpbWFyeSBFbWFpbCBGcmVlIENBMSEwHwYJKoZI
hvcNAQkBFhJhZG1pbkBzdGFydGNvbS5vcmcCAwF4qjAJBgUrDgMCGgUAoIICSTAYBgkqhkiG
9w0BCQMxCwYJKoZIhvcNAQcBMBwGCSqGSIb3DQEJBTEPFw0wODA0MDExNDQ2MzNaMCMGCSqG
SIb3DQEJBDEWBBQ+h093awrWMfNKy4DRDtntH2r1jTBSBgkqhkiG9w0BCQ8xRTBDMAoGCCqG
SIb3DQMHMA4GCCqGSIb3DQMCAgIAgDANBggqhkiG9w0DAgIBQDAHBgUrDgMCBzANBggqhkiG
9w0DAgIBKDCByAYJKwYBBAGCNxAEMYG6MIG3MIGvMQswCQYDVQQGEwJJTDEPMA0GA1UECBMG
SXNyYWVsMRYwFAYDVQQKEw1TdGFydENvbSBMdGQuMSMwIQYDVQQLExpTZWN1cmUgQ2VydGlm
aWNhdGUgU2lnbmluZzEvMC0GA1UEAxMmU3RhcnRDb20gQ2xhc3MgMyBQcmltYXJ5IEVtYWls
IEZyZWUgQ0ExITAfBgkqhkiG9w0BCQEWEmFkbWluQHN0YXJ0Y29tLm9yZwIDAXiqMIHKBgsq
hkiG9w0BCRACCzGBuqCBtzCBrzELMAkGA1UEBhMCSUwxDzANBgNVBAgTBklzcmFlbDEWMBQG
A1UEChMNU3RhcnRDb20gTHRkLjEjMCEGA1UECxMaU2VjdXJlIENlcnRpZmljYXRlIFNpZ25p
bmcxLzAtBgNVBAMTJlN0YXJ0Q29tIENsYXNzIDMgUHJpbWFyeSBFbWFpbCBGcmVlIENBMSEw
HwYJKoZIhvcNAQkBFhJhZG1pbkBzdGFydGNvbS5vcmcCAwF4qjANBgkqhkiG9w0BAQEFAASC
AQASDTZQ5u2cpS5LM3DkJXOtmB+/BY1aZrLZnVdVrNlg1esvO9xS+ruJNsbOzH7VjpHB25b4
TIC6EoUYP8qDphFWRhjIsOrmIFL9Io4CeqNigPEPTi0NsY3wcAqY7SsZz2o8IR8WrCc235sp
q9qb0Yd77r7H6q+kyzM6TzD/qJfkozwQcE7l2zFHg0J98tnWzFRfReE1ZzQZFsMEj/7D0yiS
aeeEDDS586zQABhby+N2whamMWyvAh5zryduOV1HNnNDYNm+cH39/7s3SY6oOjNRKrHxFTh3
wD2X3fCirweRP2d48y4Wm6UVdnnTvYwNyQO7tUY/XZ2FFbMeve0NgJOSAAAAAAAA
--------------ms040404040804000904040006--


--===============1265283994==
Content-Type: text/plain; charset="us-ascii"
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip
--===============1265283994==--



From sip-bounces@ietf.org  Tue Apr  1 08:59:54 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id E222028C4CC;
	Tue,  1 Apr 2008 08:59:54 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id E915428C494
	for <sip@core3.amsl.com>; Tue,  1 Apr 2008 08:59:53 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -1.827
X-Spam-Level: 
X-Spam-Status: No, score=-1.827 tagged_above=-999 required=5 tests=[AWL=0.772, 
	BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 2qR-Kd19qVCP for <sip@core3.amsl.com>;
	Tue,  1 Apr 2008 08:59:48 -0700 (PDT)
Received: from taimen.tutpro.com (harjus.tutpro.com [192.98.100.3])
	by core3.amsl.com (Postfix) with ESMTP id 7269C28C39B
	for <sip@ietf.org>; Tue,  1 Apr 2008 08:59:48 -0700 (PDT)
Received: by taimen.tutpro.com (Postfix, from userid 1000)
	id E1E6033AC98; Tue,  1 Apr 2008 18:59:51 +0300 (EEST)
MIME-Version: 1.0
Message-ID: <18418.23543.824991.646936@harjus.tutpro.com>
Date: Tue, 1 Apr 2008 18:59:51 +0300
To: "Mary Barnes" <mary.barnes@nortel.com>
In-Reply-To: <F66D7286825402429571678A16C2F5EE02AE737D@zrc2hxm1.corp.nortel.com>
References: <200803251629.m2PGTC0N025942@dragon.ariadne.com>
	<CA9998CD4A020D418654FCDEF4E707DF05066D81@esealmw113.eemea.ericsson.se>
	<28F05913385EAC43AF019413F674A0171246ED51@OCCLUST04EVS1.ugd.att.com>
	<CA9998CD4A020D418654FCDEF4E707DF05066D85@esealmw113.eemea.ericsson.se>
	<18414.14946.299667.816439@harjus.tutpro.com>
	<1ECE0EB50388174790F9694F77522CCF15D57E04@zrc2hxm0.corp.nortel.com>
	<47B2061B1E5E494B96AA40008300D850371EB4@esealmw109.eemea.ericsson.se>
	<F66D7286825402429571678A16C2F5EE02AE737D@zrc2hxm1.corp.nortel.com>
X-Mailer: VM 7.19 under Emacs 21.4.1
From: jh@tutpro.com (Juha Heinanen)
Cc: sip@ietf.org, Francois Audet <audet@nortel.com>, "DOLLY, MARTIN C,
	ATTLABS" <mdolly@att.com>,
	Christer Holmberg <christer.holmberg@ericsson.com>
Subject: Re: [Sip] Comparison of retargeting proposals
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Mary Barnes writes:

 > The proper use of History-Info isn't rocket science, but it does require
 > careful reading of the spec and proper implementation (i.e., I agree if
 > you don't implement the spec properly, then it is a mess but that can be
 > the case for any spec that isn't implemented properly). 

if spec is simple, it is highly likely that vendors will (a) implement
it and (b) implement it correctly.  in case of h-i, neither is likely to
happen.

-- juha
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Tue Apr  1 09:18:24 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from core3.amsl.com (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 47F3628C19A;
	Tue,  1 Apr 2008 09:18:24 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 4B7573A6B8B
	for <sip@core3.amsl.com>; Tue,  1 Apr 2008 09:18:23 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -4.857
X-Spam-Level: 
X-Spam-Status: No, score=-4.857 tagged_above=-999 required=5 tests=[AWL=1.742, 
	BAYES_00=-2.599, RCVD_IN_DNSWL_MED=-4]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id wKzJ2WEd12vP for <sip@core3.amsl.com>;
	Tue,  1 Apr 2008 09:18:20 -0700 (PDT)
Received: from zcars04e.nortel.com (zcars04e.nortel.com [47.129.242.56])
	by core3.amsl.com (Postfix) with ESMTP id 1290C3A6A12
	for <sip@ietf.org>; Tue,  1 Apr 2008 09:18:19 -0700 (PDT)
Received: from zrc2hxm0.corp.nortel.com (zrc2hxm0.corp.nortel.com
	[47.103.123.71])
	by zcars04e.nortel.com (Switch-2.2.0/Switch-2.2.0) with ESMTP id
	m31GHaK11732; Tue, 1 Apr 2008 16:17:36 GMT
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Tue, 1 Apr 2008 11:18:10 -0500
Message-ID: <1ECE0EB50388174790F9694F77522CCF15DABF84@zrc2hxm0.corp.nortel.com>
In-Reply-To: <47B2061B1E5E494B96AA40008300D850371EB4@esealmw109.eemea.ericsson.se>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] Comparison of retargeting proposals
Thread-Index: AciRmuXokKnUmVQyROmRmE5PNupbGQB8oDogABBlm+AAETb1YA==
References: <200803251629.m2PGTC0N025942@dragon.ariadne.com><CA9998CD4A020D418654FCDEF4E707DF05066D81@esealmw113.eemea.ericsson.se><28F05913385EAC43AF019413F674A0171246ED51@OCCLUST04EVS1.ugd.att.com><CA9998CD4A020D418654FCDEF4E707DF05066D85@esealmw113.eemea.ericsson.se><18414.14946.299667.816439@harjus.tutpro.com>
	<1ECE0EB50388174790F9694F77522CCF15D57E04@zrc2hxm0.corp.nortel.com>
	<47B2061B1E5E494B96AA40008300D850371EB4@esealmw109.eemea.ericsson.se>
From: "Francois Audet" <audet@nortel.com>
To: "Hans Erik van Elburg" <hanserik.van.elburg@ericsson.com>,
	"Juha Heinanen" <jh@tutpro.com>,
	"Christer Holmberg" <christer.holmberg@ericsson.com>
Cc: sip@ietf.org, "DOLLY, MARTIN C, ATTLABS" <mdolly@att.com>
Subject: Re: [Sip] Comparison of retargeting proposals
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Any addition of a new header that nobody can explain properly why it's not
the same as History-Info IS rocket science.

It sounds like we are getting paid by the number of URI we add to SIP. 

> -----Original Message-----
> From: Hans Erik van Elburg [mailto:hanserik.van.elburg@ericsson.com] 
> Sent: Tuesday, April 01, 2008 01:07
> To: Audet, Francois (SC100:3055); Juha Heinanen; Christer Holmberg
> Cc: sip@ietf.org; DOLLY, MARTIN C, ATTLABS
> Subject: RE: [Sip] Comparison of retargeting proposals
> 
> The point is that History-Info does not solve the problem so 
> something new is needed anyway.
> 
> And proper use of History-Info is rocket science as Dale has shown.
> 
> /Hans Erik
> 
> -----Original Message-----
> From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On 
> Behalf Of Francois Audet
> Sent: Tuesday, April 01, 2008 2:16 AM
> To: Juha Heinanen; Christer Holmberg
> Cc: sip@ietf.org; DOLLY, MARTIN C, ATTLABS
> Subject: Re: [Sip] Comparison of retargeting proposals
> 
> There are existing implementations of History-Info in the field.
> 
> It's not rocket science.
> 
> And I don't see why introducing something else will be 
> simpler. It will just be extra complexity. 
> 
> > -----Original Message-----
> > From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On 
> Behalf Of 
> > Juha Heinanen
> > Sent: Saturday, March 29, 2008 05:48
> > To: Christer Holmberg
> > Cc: sip@ietf.org; DOLLY, MARTIN C, ATTLABS
> > Subject: Re: [Sip] Comparison of retargeting proposals
> > 
> > Christer Holmberg writes:
> > 
> >  > However, I still fail to understand how Target would be more 
> > "complex"
> >  > than e.g. History-Info. 
> > 
> > christer,
> > 
> > ANY solution for anything must be MUCH simpler than history-info, 
> > which is far too complex by itself.
> > 
> > i haven't seen anyone fully implement history-info and most likely 
> > that is because of its complexity.  if you are now going to invent 
> > some other mechanism that is as complex or even more 
> complex, it has 
> > no change in real world.
> > 
> > i therefore suggest that h-i is deprecated and a replaced 
> by a simpler
> 
> > mechanism.
> > 
> > -- juha
> > _______________________________________________
> > Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> > This list is for NEW development of the core SIP Protocol Use 
> > sip-implementors@cs.columbia.edu for questions on current sip Use 
> > sipping@ietf.org for new developments on the application of sip
> > 
> _______________________________________________
> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol Use 
> sip-implementors@cs.columbia.edu for questions on current sip 
> Use sipping@ietf.org for new developments on the application of sip
> 
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


