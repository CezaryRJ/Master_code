
From pkyzivat@cisco.com  Sat May  1 21:18:00 2010
Return-Path: <pkyzivat@cisco.com>
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1]) by core3.amsl.com (Postfix) with ESMTP id DE30D3A67A4 for <sip@core3.amsl.com>; Sat,  1 May 2010 21:18:00 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -9.149
X-Spam-Level: 
X-Spam-Status: No, score=-9.149 tagged_above=-999 required=5 tests=[AWL=-1.450, BAYES_50=0.001, MIME_8BIT_HEADER=0.3, RCVD_IN_DNSWL_HI=-8]
Received: from mail.ietf.org ([64.170.98.32]) by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024) with ESMTP id mw+F-qeaeGNf for <sip@core3.amsl.com>; Sat,  1 May 2010 21:17:57 -0700 (PDT)
Received: from rtp-iport-1.cisco.com (rtp-iport-1.cisco.com [64.102.122.148]) by core3.amsl.com (Postfix) with ESMTP id 8F0323A6765 for <sip@ietf.org>; Sat,  1 May 2010 21:17:57 -0700 (PDT)
Authentication-Results: rtp-iport-1.cisco.com; dkim=neutral (message not signed) header.i=none
X-IronPort-Anti-Spam-Filtered: true
X-IronPort-Anti-Spam-Result: Av0EAJuZ3EtAZnwN/2dsb2JhbACDF5oWcaA/iG6PboEmgn5uBA
X-IronPort-AV: E=Sophos;i="4.52,311,1270425600"; d="scan'208";a="107098762"
Received: from rtp-core-2.cisco.com ([64.102.124.13]) by rtp-iport-1.cisco.com with ESMTP; 02 May 2010 04:17:42 +0000
Received: from [10.86.254.27] ([10.86.254.27]) by rtp-core-2.cisco.com (8.13.8/8.14.3) with ESMTP id o424HgwA025275; Sun, 2 May 2010 04:17:42 GMT
Message-ID: <4BDCFCE8.6040107@cisco.com>
Date: Sun, 02 May 2010 00:17:44 -0400
From: Paul Kyzivat <pkyzivat@cisco.com>
User-Agent: Thunderbird 2.0.0.24 (Windows/20100228)
MIME-Version: 1.0
To: =?UTF-8?B?ScOxYWtpIEJheiBDYXN0aWxsbw==?= <ibc@aliax.net>
References: <r2zcc1f582e1004301537w2f5a81b2xcbbd290a7a6f6e02@mail.gmail.com>
In-Reply-To: <r2zcc1f582e1004301537w2f5a81b2xcbbd290a7a6f6e02@mail.gmail.com>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 8bit
Cc: sip@ietf.org
Subject: Re: [Sip] Possible improvement in draft-ietf-sipcore-invfix (CANCEL processing)
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>, <mailto:sip-request@ietf.org?subject=unsubscribe>
List-Archive: <http://www.ietf.org/mail-archive/web/sip>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>, <mailto:sip-request@ietf.org?subject=subscribe>
X-List-Received-Date: Sun, 02 May 2010 04:18:01 -0000

Iñaki,

I don't understand what the point is of sending, or forwarding, this 
CANCEL. There is nothing left to cancel. The only possibility would be 
if the INVITE had been forked somewhere along the path. But if it had, 
the forking proxy would have seen the 200 and sent a CANCEL on its own. 
So there is no reason for the UAC to send a CANCEL in this case.

	Thanks,
	Paul

Iñaki Baz Castillo wrote:
> Hi, RFC 3261 clearly states that an INVITE transaction is terminated
> upon receipt of a 200. So let's imagine a proxy between alice and bob:
> 
> - alice sends INVITE to the proxy.
> - The proxy relays it to bob.
> - bob replies 200.
> - The proxy relays the 200 to alice and terminates the INVITE transaction.
> - For some reason alice sends now a CANCEL.
> - The proxy doesn't match a transaction for this CANCEL so it would
> relay it statelessly as section 16.10 states:
> 
>    If a response context is not found, the element does not have any
>    knowledge of the request to apply the CANCEL to.  It MUST statelessly
>    forward the CANCEL request (it may have statelessly forwarded the
>    associated request previously).
> 
> 
> This makes sense because such "response context" doesn't exist after
> the 200 was processed by the proxy. However "invfix" draft adds a new
> state "Accepted" so when the proxy relays the 200 the transaction
> remains in "Accepted" state for a while. What should happen then if
> the UAC sends a CANCEL? does the "response context" still exist or
> not?
> 
> So I suggest that "invfix" draft also changes the section 16.10 of RFC 3261:
> 
>    If no transaction in proceeding state is found, the element does not have any
>    knowledge of the request to apply the CANCEL to.  It MUST statelessly
>    forward the CANCEL request (it may have statelessly forwarded the
>    associated request previously).
> 
> 
> This is, even if the transaction still exists (under "Accepted" state)
> the proxy has nothing to CANCEL so it shouldn't reply 200 to the
> CANCEL. Instead it should forward it statelessly. I think this
> requires some clarification in the original specification of the RFC
> 3261.
> 
> Best regards.
> 
> 

From ibc@aliax.net  Sun May  2 03:43:42 2010
Return-Path: <ibc@aliax.net>
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1]) by core3.amsl.com (Postfix) with ESMTP id C3F473A6835 for <sip@core3.amsl.com>; Sun,  2 May 2010 03:43:42 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -0.081
X-Spam-Level: 
X-Spam-Status: No, score=-0.081 tagged_above=-999 required=5 tests=[AWL=-0.818, BAYES_40=-0.185, FM_FORGED_GMAIL=0.622, MIME_8BIT_HEADER=0.3]
Received: from mail.ietf.org ([64.170.98.32]) by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024) with ESMTP id jT6PMX-Iwr-d for <sip@core3.amsl.com>; Sun,  2 May 2010 03:43:42 -0700 (PDT)
Received: from mail-pz0-f182.google.com (mail-pz0-f182.google.com [209.85.222.182]) by core3.amsl.com (Postfix) with ESMTP id 1E7673A67D3 for <sip@ietf.org>; Sun,  2 May 2010 03:43:42 -0700 (PDT)
Received: by pzk12 with SMTP id 12so959472pzk.32 for <sip@ietf.org>; Sun, 02 May 2010 03:43:24 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.141.15.4 with SMTP id s4mr2628224rvi.112.1272797004233; Sun,  02 May 2010 03:43:24 -0700 (PDT)
Received: by 10.140.252.19 with HTTP; Sun, 2 May 2010 03:43:24 -0700 (PDT)
In-Reply-To: <4BDCFCE8.6040107@cisco.com>
References: <r2zcc1f582e1004301537w2f5a81b2xcbbd290a7a6f6e02@mail.gmail.com> <4BDCFCE8.6040107@cisco.com>
Date: Sun, 2 May 2010 12:43:24 +0200
Message-ID: <x2gcc1f582e1005020343t46f18e23mcbfc191e38398e4b@mail.gmail.com>
From: =?UTF-8?Q?I=C3=B1aki_Baz_Castillo?= <ibc@aliax.net>
To: Paul Kyzivat <pkyzivat@cisco.com>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable
Cc: sip@ietf.org
Subject: Re: [Sip] Possible improvement in draft-ietf-sipcore-invfix (CANCEL processing)
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>, <mailto:sip-request@ietf.org?subject=unsubscribe>
List-Archive: <http://www.ietf.org/mail-archive/web/sip>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>, <mailto:sip-request@ietf.org?subject=subscribe>
X-List-Received-Date: Sun, 02 May 2010 10:43:42 -0000

2010/5/2 Paul Kyzivat <pkyzivat@cisco.com>:
> I=C3=B1aki,
>
> I don't understand what the point is of sending, or forwarding, this CANC=
EL.
> There is nothing left to cancel. The only possibility would be if the INV=
ITE
> had been forked somewhere along the path. But if it had, the forking prox=
y
> would have seen the 200 and sent a CANCEL on its own. So there is no reas=
on
> for the UAC to send a CANCEL in this case.

Hi Paul, I do know that the UAC shouldn't send the CANCEL, but it
could occur (race conditions, 200 reply lost in the network...). So
the proxy must know how to behave when a CANCEL arrives for an INVITE
transaction in "Accepted" state, something that doesn't make sense in
the original 3261 specification as the proxy terminates the INVITE
transaction when the 200 arrives (immediately).

I think innfix draft should clarify it: what should do a proxy when a
CANCEL arrives and matches an INVITE transaction in "Accepted" state?


--=20
I=C3=B1aki Baz Castillo
<ibc@aliax.net>

From pkyzivat@cisco.com  Sun May  2 11:05:21 2010
Return-Path: <pkyzivat@cisco.com>
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1]) by core3.amsl.com (Postfix) with ESMTP id 38DA93A6AFD for <sip@core3.amsl.com>; Sun,  2 May 2010 11:05:21 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -10.087
X-Spam-Level: 
X-Spam-Status: No, score=-10.087 tagged_above=-999 required=5 tests=[AWL=0.212, BAYES_00=-2.599, MIME_8BIT_HEADER=0.3, RCVD_IN_DNSWL_HI=-8]
Received: from mail.ietf.org ([64.170.98.32]) by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024) with ESMTP id CL0CiNa5HQ6O for <sip@core3.amsl.com>; Sun,  2 May 2010 11:05:20 -0700 (PDT)
Received: from rtp-iport-2.cisco.com (rtp-iport-2.cisco.com [64.102.122.149]) by core3.amsl.com (Postfix) with ESMTP id 2FE6C3A689F for <sip@ietf.org>; Sun,  2 May 2010 11:05:20 -0700 (PDT)
Authentication-Results: rtp-iport-2.cisco.com; dkim=neutral (message not signed) header.i=none
X-IronPort-Anti-Spam-Filtered: true
X-IronPort-Anti-Spam-Result: Av0EAG5b3UtAZnwM/2dsb2JhbACDF5oOcZ5riG6PY4Emgn5uBA
X-IronPort-AV: E=Sophos;i="4.52,314,1270425600"; d="scan'208";a="107335689"
Received: from rtp-core-1.cisco.com ([64.102.124.12]) by rtp-iport-2.cisco.com with ESMTP; 02 May 2010 18:05:05 +0000
Received: from [10.86.254.27] ([10.86.254.27]) by rtp-core-1.cisco.com (8.13.8/8.14.3) with ESMTP id o42I54CN019825; Sun, 2 May 2010 18:05:05 GMT
Message-ID: <4BDDBED0.3020600@cisco.com>
Date: Sun, 02 May 2010 14:05:04 -0400
From: Paul Kyzivat <pkyzivat@cisco.com>
User-Agent: Thunderbird 2.0.0.24 (Windows/20100228)
MIME-Version: 1.0
To: =?UTF-8?B?ScOxYWtpIEJheiBDYXN0aWxsbw==?= <ibc@aliax.net>
References: <r2zcc1f582e1004301537w2f5a81b2xcbbd290a7a6f6e02@mail.gmail.com>	 <4BDCFCE8.6040107@cisco.com> <x2gcc1f582e1005020343t46f18e23mcbfc191e38398e4b@mail.gmail.com>
In-Reply-To: <x2gcc1f582e1005020343t46f18e23mcbfc191e38398e4b@mail.gmail.com>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 8bit
Cc: sip@ietf.org
Subject: Re: [Sip] Possible improvement in draft-ietf-sipcore-invfix (CANCEL processing)
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>, <mailto:sip-request@ietf.org?subject=unsubscribe>
List-Archive: <http://www.ietf.org/mail-archive/web/sip>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>, <mailto:sip-request@ietf.org?subject=subscribe>
X-List-Received-Date: Sun, 02 May 2010 18:05:21 -0000

Iñaki Baz Castillo wrote:
> 2010/5/2 Paul Kyzivat <pkyzivat@cisco.com>:
>> Iñaki,
>>
>> I don't understand what the point is of sending, or forwarding, this CANCEL.
>> There is nothing left to cancel. The only possibility would be if the INVITE
>> had been forked somewhere along the path. But if it had, the forking proxy
>> would have seen the 200 and sent a CANCEL on its own. So there is no reason
>> for the UAC to send a CANCEL in this case.
> 
> Hi Paul, I do know that the UAC shouldn't send the CANCEL, but it
> could occur (race conditions, 200 reply lost in the network...). So
> the proxy must know how to behave when a CANCEL arrives for an INVITE
> transaction in "Accepted" state, something that doesn't make sense in
> the original 3261 specification as the proxy terminates the INVITE
> transaction when the 200 arrives (immediately).
> 
> I think innfix draft should clarify it: what should do a proxy when a
> CANCEL arrives and matches an INVITE transaction in "Accepted" state?

Ok, if you are only concerned with being clear about this, and not that 
it is something of general utility. It seems it doesn't really matter 
whether the CANCEL is propagated by the proxy or not, since it is 
destined to be a no-op. It would be more efficient to block its 
propagation, but given the rarity of the situation I don't think it 
really matters.

	Thanks,
	Paul

From ibc@aliax.net  Sun May  2 11:17:50 2010
Return-Path: <ibc@aliax.net>
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1]) by core3.amsl.com (Postfix) with ESMTP id 7BB773A6A79 for <sip@core3.amsl.com>; Sun,  2 May 2010 11:17:50 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: 0.149
X-Spam-Level: 
X-Spam-Status: No, score=0.149 tagged_above=-999 required=5 tests=[AWL=-0.774,  BAYES_50=0.001, FM_FORGED_GMAIL=0.622, MIME_8BIT_HEADER=0.3]
Received: from mail.ietf.org ([64.170.98.32]) by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024) with ESMTP id WoADTwM0lqdZ for <sip@core3.amsl.com>; Sun,  2 May 2010 11:17:49 -0700 (PDT)
Received: from mail-px0-f172.google.com (mail-px0-f172.google.com [209.85.212.172]) by core3.amsl.com (Postfix) with ESMTP id 17B0B3A69EA for <sip@ietf.org>; Sun,  2 May 2010 11:17:48 -0700 (PDT)
Received: by pxi19 with SMTP id 19so966858pxi.31 for <sip@ietf.org>; Sun, 02 May 2010 11:17:31 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.140.57.5 with SMTP id f5mr2795504rva.173.1272824251399; Sun,  02 May 2010 11:17:31 -0700 (PDT)
Received: by 10.140.252.19 with HTTP; Sun, 2 May 2010 11:17:31 -0700 (PDT)
In-Reply-To: <4BDDBED0.3020600@cisco.com>
References: <r2zcc1f582e1004301537w2f5a81b2xcbbd290a7a6f6e02@mail.gmail.com> <4BDCFCE8.6040107@cisco.com> <x2gcc1f582e1005020343t46f18e23mcbfc191e38398e4b@mail.gmail.com> <4BDDBED0.3020600@cisco.com>
Date: Sun, 2 May 2010 20:17:31 +0200
Message-ID: <w2wcc1f582e1005021117o191d2222v370ee4b941d922bd@mail.gmail.com>
From: =?UTF-8?Q?I=C3=B1aki_Baz_Castillo?= <ibc@aliax.net>
To: Paul Kyzivat <pkyzivat@cisco.com>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable
Cc: sip@ietf.org
Subject: Re: [Sip] Possible improvement in draft-ietf-sipcore-invfix (CANCEL processing)
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>, <mailto:sip-request@ietf.org?subject=unsubscribe>
List-Archive: <http://www.ietf.org/mail-archive/web/sip>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>, <mailto:sip-request@ietf.org?subject=subscribe>
X-List-Received-Date: Sun, 02 May 2010 18:17:50 -0000

2010/5/2 Paul Kyzivat <pkyzivat@cisco.com>:
>> Hi Paul, I do know that the UAC shouldn't send the CANCEL, but it
>> could occur (race conditions, 200 reply lost in the network...). So
>> the proxy must know how to behave when a CANCEL arrives for an INVITE
>> transaction in "Accepted" state, something that doesn't make sense in
>> the original 3261 specification as the proxy terminates the INVITE
>> transaction when the 200 arrives (immediately).
>>
>> I think innfix draft should clarify it: what should do a proxy when a
>> CANCEL arrives and matches an INVITE transaction in "Accepted" state?
>
> Ok, if you are only concerned with being clear about this, and not that i=
t
> is something of general utility. It seems it doesn't really matter whethe=
r
> the CANCEL is propagated by the proxy or not, since it is destined to be =
a
> no-op. It would be more efficient to block its propagation, but given the
> rarity of the situation I don't think it really matters.

The problem I've seen is in an existing SIP proxy which mantains the
INVITE transaction in memory after 200 arrives. It does it even before
invfix draft exists (this is, the proxy already fixes the bug in RFC
3261). However when such proxy receives a CANCEL for an INVITE
transaction for which the proxy has already sent a 200, it replies 200
to the CANCEL. This doesn't make sense (as it has canceled nothing
because the transaction was already confirmed by the UAS).

So I would like to know the correct behavior of the proxy in this case
in order to improve/report it. However I would like such behavior to
be clarified in draft invfix as with the original 3261 specification
there was no place to this ambiguity (a CANCEL would never match an
INVITE transaction as the proxy terminated it upon receipt of a 200
for the INVITE).

Statelessly relaying the CANCEL makes no sense for me, it seems an
exotic "feature" as many others that never work. In fact, draft invfix
states that a stateful proxy should not relay responses if they don't
match a transaction, so the possible 481 response to the CANCEL coming
from the UAS would be dropped by the proxy and UAC would generate
useless retransmissions. Same would occur if the proxy just
ignores/drops the CANCEL.

So IMHO a response by the proxy is needed. Perhaps a 481 as the INVITE
transaction is not active (but in "Accepted" state). Anything but a
200.

Thanks.



--=20
I=C3=B1aki Baz Castillo
<ibc@aliax.net>

From root@core3.amsl.com  Mon May  3 07:30:02 2010
Return-Path: <root@core3.amsl.com>
X-Original-To: sip@ietf.org
Delivered-To: sip@core3.amsl.com
Received: by core3.amsl.com (Postfix, from userid 0) id 257A23A6CEE; Mon,  3 May 2010 07:30:02 -0700 (PDT)
From: Internet-Drafts@ietf.org
To: i-d-announce@ietf.org
Content-Type: Multipart/Mixed; Boundary="NextPart"
Mime-Version: 1.0
Message-Id: <20100503143002.257A23A6CEE@core3.amsl.com>
Date: Mon,  3 May 2010 07:30:02 -0700 (PDT)
Cc: sip@ietf.org
Subject: [Sip] I-D Action:draft-ietf-sip-ipv6-abnf-fix-05.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>, <mailto:sip-request@ietf.org?subject=unsubscribe>
List-Archive: <http://www.ietf.org/mail-archive/web/sip>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>, <mailto:sip-request@ietf.org?subject=subscribe>
X-List-Received-Date: Mon, 03 May 2010 14:30:02 -0000

--NextPart

A New Internet-Draft is available from the on-line Internet-Drafts directories.
This draft is a work item of the Session Initiation Protocol Working Group of the IETF.


	Title           : Essential correction for IPv6 ABNF and URI comparison in RFC3261
	Author(s)       : V. Gurbani, et al.
	Filename        : draft-ietf-sip-ipv6-abnf-fix-05.txt
	Pages           : 8
	Date            : 2010-05-03

This document corrects the Augmented Backus-Naur Form (ABNF)
production rule associated with generating IPv6 literals in RFC3261.
It also clarifies the rule for Uniform Resource Identifier (URI)
comparison when the URIs contain textual representation of IP
addresses.

A URL for this Internet-Draft is:
http://www.ietf.org/internet-drafts/draft-ietf-sip-ipv6-abnf-fix-05.txt

Internet-Drafts are also available by anonymous FTP at:
ftp://ftp.ietf.org/internet-drafts/

Below is the data which will enable a MIME compliant mail reader
implementation to automatically retrieve the ASCII version of the
Internet-Draft.

--NextPart
Content-Type: Message/External-body;
	name="draft-ietf-sip-ipv6-abnf-fix-05.txt";
	site="ftp.ietf.org";
	access-type="anon-ftp";
	directory="internet-drafts"

Content-Type: text/plain
Content-ID: <2010-05-03071604.I-D@ietf.org>


--NextPart--

From vkg@bell-labs.com  Mon May  3 07:44:58 2010
Return-Path: <vkg@bell-labs.com>
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1]) by core3.amsl.com (Postfix) with ESMTP id 328CF3A6907 for <sip@core3.amsl.com>; Mon,  3 May 2010 07:44:58 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -0.659
X-Spam-Level: 
X-Spam-Status: No, score=-0.659 tagged_above=-999 required=5 tests=[AWL=-0.660, BAYES_50=0.001]
Received: from mail.ietf.org ([64.170.98.32]) by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024) with ESMTP id shStTuLj8G1H for <sip@core3.amsl.com>; Mon,  3 May 2010 07:44:57 -0700 (PDT)
Received: from ihemail2.lucent.com (ihemail2.lucent.com [135.245.0.35]) by core3.amsl.com (Postfix) with ESMTP id 58A113A6877 for <sip@ietf.org>; Mon,  3 May 2010 07:44:57 -0700 (PDT)
Received: from umail.lucent.com (h135-3-40-63.lucent.com [135.3.40.63]) by ihemail2.lucent.com (8.13.8/IER-o) with ESMTP id o43Eiccj023987 (version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO); Mon, 3 May 2010 09:44:38 -0500 (CDT)
Received: from shoonya.ih.lucent.com (Knoppix-135185238233.ih.lucent.com [135.185.238.233]) by umail.lucent.com (8.13.8/TPES) with ESMTP id o43Eicq7003800; Mon, 3 May 2010 09:44:38 -0500 (CDT)
Message-ID: <4BDEE1A1.90605@bell-labs.com>
Date: Mon, 03 May 2010 09:45:53 -0500
From: "Vijay K. Gurbani" <vkg@bell-labs.com>
Organization: Bell Laboratories, Alcatel-Lucent
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.1.9) Gecko/20100330 Fedora/3.0.4-1.fc12 Thunderbird/3.0.4
MIME-Version: 1.0
To: IETF SIP List <sip@ietf.org>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Scanned-By: MIMEDefang 2.57 on 135.245.2.35
Cc: Brian E Carpenter <brian.e.carpenter@gmail.com>, Brett Tate <brett@broadsoft.com>
Subject: [Sip] New version of draft-ietf-sip-ipv6-abnf-fix
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>, <mailto:sip-request@ietf.org?subject=unsubscribe>
List-Archive: <http://www.ietf.org/mail-archive/web/sip>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>, <mailto:sip-request@ietf.org?subject=subscribe>
X-List-Received-Date: Mon, 03 May 2010 14:44:58 -0000

Folks: A new version (-05) of draft-ietf-sip-ipv6-abnf-fix
is ready to be sent to the IESG.

The summary of changes is as follows:

1) Minor typo and grammatical fixes.
2) Added a new S4 in -05 to serve as a reference point to
    draft-ietf-6man-text-addr-representation-07, a draft on
    how to generate a canonical IPv6 textual representation.

    draft-...-addr-representation is now referenced using a
    normative SHOULD and has been made a normative reference.
    This should not delay the release of draft-...-ipv6-abnf-fix
    since draft-...-addr-representation is now in RFC Ed Queue.

The relevant links are:
New version (-05):
http://www.ietf.org/internet-drafts/draft-ietf-sip-ipv6-abnf-fix-05.txt

Diff from previous version:
http://tools.ietf.org/rfcdiff?url2=draft-ietf-sip-ipv6-abnf-fix-05

Thanks,

- vijay
-- 
Vijay K. Gurbani, Bell Laboratories, Alcatel-Lucent
1960 Lucent Lane, Rm. 9C-533, Naperville, Illinois 60566 (USA)
Email: vkg@{alcatel-lucent.com,bell-labs.com,acm.org}
Web:   http://ect.bell-labs.com/who/vkg/

From root@core3.amsl.com  Wed May  5 09:15:01 2010
Return-Path: <root@core3.amsl.com>
X-Original-To: sip@ietf.org
Delivered-To: sip@core3.amsl.com
Received: by core3.amsl.com (Postfix, from userid 0) id A3E9928C133; Wed,  5 May 2010 09:15:01 -0700 (PDT)
From: Internet-Drafts@ietf.org
To: i-d-announce@ietf.org
Content-Type: Multipart/Mixed; Boundary="NextPart"
Mime-Version: 1.0
Message-Id: <20100505161501.A3E9928C133@core3.amsl.com>
Date: Wed,  5 May 2010 09:15:01 -0700 (PDT)
Cc: sip@ietf.org
Subject: [Sip] I-D Action:draft-ietf-sip-domain-certs-07.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>, <mailto:sip-request@ietf.org?subject=unsubscribe>
List-Archive: <http://www.ietf.org/mail-archive/web/sip>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>, <mailto:sip-request@ietf.org?subject=subscribe>
X-List-Received-Date: Wed, 05 May 2010 16:15:01 -0000

--NextPart

A New Internet-Draft is available from the on-line Internet-Drafts directories.
This draft is a work item of the Session Initiation Protocol Working Group of the IETF.


	Title           : Domain Certificates in the Session Initiation Protocol (SIP)
	Author(s)       : V. Gurbani, et al.
	Filename        : draft-ietf-sip-domain-certs-07.txt
	Pages           : 17
	Date            : 2010-05-05

This document describes how to construct and interpret certain
information in a X.509 PKIX-compliant certificate for use in a
Session Initiation Protocol (SIP) over Transport Layer Security (TLS)
connection.  More specifically, this document describes how to encode
and extract the identity of a SIP domain in a certificate and how to
use that identity for SIP domain authentication.  As such, this
document is relevant both to implementors of SIP and to issuers of
certificates.

A URL for this Internet-Draft is:
http://www.ietf.org/internet-drafts/draft-ietf-sip-domain-certs-07.txt

Internet-Drafts are also available by anonymous FTP at:
ftp://ftp.ietf.org/internet-drafts/

Below is the data which will enable a MIME compliant mail reader
implementation to automatically retrieve the ASCII version of the
Internet-Draft.

--NextPart
Content-Type: Message/External-body;
	name="draft-ietf-sip-domain-certs-07.txt";
	site="ftp.ietf.org";
	access-type="anon-ftp";
	directory="internet-drafts"

Content-Type: text/plain
Content-ID: <2010-05-05090926.I-D@ietf.org>


--NextPart--

From vkg@bell-labs.com  Wed May  5 09:25:16 2010
Return-Path: <vkg@bell-labs.com>
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1]) by core3.amsl.com (Postfix) with ESMTP id BA7F83A67EF for <sip@core3.amsl.com>; Wed,  5 May 2010 09:25:16 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -1.894
X-Spam-Level: 
X-Spam-Status: No, score=-1.894 tagged_above=-999 required=5 tests=[AWL=0.705,  BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32]) by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024) with ESMTP id eXFkf3KSJ8KD for <sip@core3.amsl.com>; Wed,  5 May 2010 09:25:15 -0700 (PDT)
Received: from ihemail1.lucent.com (ihemail1.lucent.com [135.245.0.33]) by core3.amsl.com (Postfix) with ESMTP id 3FC233A6C3B for <sip@ietf.org>; Wed,  5 May 2010 09:23:34 -0700 (PDT)
Received: from umail.lucent.com (h135-3-40-63.lucent.com [135.3.40.63]) by ihemail1.lucent.com (8.13.8/IER-o) with ESMTP id o45GNK0F025391 (version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO) for <sip@ietf.org>; Wed, 5 May 2010 11:23:20 -0500 (CDT)
Received: from shoonya.ih.lucent.com (Knoppix-135185238233.ih.lucent.com [135.185.238.233]) by umail.lucent.com (8.13.8/TPES) with ESMTP id o45GNKBf005644 for <sip@ietf.org>; Wed, 5 May 2010 11:23:20 -0500 (CDT)
Message-ID: <4BE19BC4.2080308@bell-labs.com>
Date: Wed, 05 May 2010 11:24:36 -0500
From: "Vijay K. Gurbani" <vkg@bell-labs.com>
Organization: Bell Laboratories, Alcatel-Lucent
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.1.9) Gecko/20100330 Fedora/3.0.4-1.fc12 Thunderbird/3.0.4
MIME-Version: 1.0
To: IETF SIP List <sip@ietf.org>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Scanned-By: MIMEDefang 2.57 on 135.245.2.33
Subject: [Sip] sip-domain-certs-07 submitted
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>, <mailto:sip-request@ietf.org?subject=unsubscribe>
List-Archive: <http://www.ietf.org/mail-archive/web/sip>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>, <mailto:sip-request@ietf.org?subject=subscribe>
X-List-Received-Date: Wed, 05 May 2010 16:25:16 -0000

All: After 4 years, 14 revisions, 2 area directors and outliving
the SIP WG, sip-domain-certs can be sent to RFC nirvana (otherwise
known as the RFC Editor's Queue.)

I have just submitted version -07 that includes one minor change
resulting from an OPS area review.  The draft has been through IESG
evaluation and is now ready to be sent to the RFC editor's queue.

The -07 version is at:
http://www.ietf.org/internet-drafts/draft-ietf-sip-domain-certs-07.txt,
and the diffs are at:
http://tools.ietf.org/rfcdiff?url2=draft-ietf-sip-domain-certs-07

Thank you,

- vijay
-- 
Vijay K. Gurbani, Bell Laboratories, Alcatel-Lucent
1960 Lucent Lane, Rm. 9C-533, Naperville, Illinois 60566 (USA)
Email: vkg@{alcatel-lucent.com,bell-labs.com,acm.org}
Web:   http://ect.bell-labs.com/who/vkg/

From wwwrun@core3.amsl.com  Mon May 10 11:49:50 2010
Return-Path: <wwwrun@core3.amsl.com>
X-Original-To: sip@ietf.org
Delivered-To: sip@core3.amsl.com
Received: by core3.amsl.com (Postfix, from userid 30) id 53F5428C281; Mon, 10 May 2010 11:49:49 -0700 (PDT)
X-idtracker: yes
From: The IESG <iesg-secretary@ietf.org>
To: IETF-Announce <ietf-announce@ietf.org>
Message-Id: <20100510184950.53F5428C281@core3.amsl.com>
Date: Mon, 10 May 2010 11:49:50 -0700 (PDT)
Cc: sip mailing list <sip@ietf.org>, sip chair <sip-chairs@tools.ietf.org>, Internet Architecture Board <iab@iab.org>, RFC Editor <rfc-editor@rfc-editor.org>
Subject: [Sip] Protocol Action: 'Domain Certificates in the Session Initiation Protocol (SIP)' to Proposed Standard
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>, <mailto:sip-request@ietf.org?subject=unsubscribe>
List-Archive: <http://www.ietf.org/mail-archive/web/sip>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>, <mailto:sip-request@ietf.org?subject=subscribe>
X-List-Received-Date: Mon, 10 May 2010 18:49:50 -0000

The IESG has approved the following document:

- 'Domain Certificates in the Session Initiation Protocol (SIP) '
   <draft-ietf-sip-domain-certs-07.txt> as a Proposed Standard


This document is the product of the Session Initiation Protocol Working Group. 

The IESG contact persons are Robert Sparks and Gonzalo Camarillo.

A URL of this Internet-Draft is:
http://www.ietf.org/internet-drafts/draft-ietf-sip-domain-certs-07.txt

Technical summary.

This document describes how to construct and interpret certain
information in a X.509 PKIX-compliant certificate for use in a Session
Initiation Protocol (SIP) over Transport Layer Security (TLS) connection.
More specifically, this document describes how to encode and extract the
identity of a SIP domain in a certificate and how to use that identity for
SIP domain authentication.  As such, this document is relevant both to
implementors of SIP and to issuers of certificates.
Working group summary.

There is consensus in the working group to publish this document. 


Document Quality

Implementors have found this document helpful. It has been discussed in
SIP and PKIX WG. 


Personnel

The document shepherd for this document was Keith Drage. The responsible
Area Director was Cullen Jennings.


From wwwrun@rfc-editor.org  Tue May 11 12:30:02 2010
Return-Path: <wwwrun@rfc-editor.org>
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1]) by core3.amsl.com (Postfix) with ESMTP id D5DFF3A69ED; Tue, 11 May 2010 12:30:01 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -0.94
X-Spam-Level: 
X-Spam-Status: No, score=-0.94 tagged_above=-999 required=5 tests=[AWL=-0.799,  BAYES_20=-0.74, J_CHICKENPOX_93=0.6, NO_RELAYS=-0.001]
Received: from mail.ietf.org ([64.170.98.32]) by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024) with ESMTP id A54BjOwNcwOE; Tue, 11 May 2010 12:30:01 -0700 (PDT)
Received: from rfc-editor.org (rfc-editor.org [IPv6:2001:1890:1112:1::2f]) by core3.amsl.com (Postfix) with ESMTP id A68983A6C23; Tue, 11 May 2010 12:27:26 -0700 (PDT)
Received: by rfc-editor.org (Postfix, from userid 30) id 924DCE067E; Tue, 11 May 2010 12:27:16 -0700 (PDT)
To: ietf-announce@ietf.org, rfc-dist@rfc-editor.org
From: rfc-editor@rfc-editor.org
Message-Id: <20100511192716.924DCE067E@rfc-editor.org>
Date: Tue, 11 May 2010 12:27:16 -0700 (PDT)
Cc: sip@ietf.org, rfc-editor@rfc-editor.org
Subject: [Sip] RFC 5763 on Framework for Establishing a Secure Real-time Transport Protocol (SRTP) Security Context Using Datagram Transport Layer Security (DTLS)
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>, <mailto:sip-request@ietf.org?subject=unsubscribe>
List-Archive: <http://www.ietf.org/mail-archive/web/sip>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>, <mailto:sip-request@ietf.org?subject=subscribe>
X-List-Received-Date: Tue, 11 May 2010 19:30:02 -0000

A new Request for Comments is now available in online RFC libraries.

        
        RFC 5763

        Title:      Framework for Establishing a Secure 
                    Real-time Transport Protocol (SRTP) Security Context 
                    Using Datagram Transport Layer Security (DTLS) 
        Author:     J. Fischl, H. Tschofenig,
                    E. Rescorla
        Status:     Standards Track
        Stream:     IETF
        Date:       May 2010
        Mailbox:    jason.fischl@skype.net, 
                    Hannes.Tschofenig@gmx.net, 
                    ekr@rtfm.com
        Pages:      37
        Characters: 81546
        Updates/Obsoletes/SeeAlso:   None

        I-D Tag:    draft-ietf-sip-dtls-srtp-framework-07.txt

        URL:        http://www.rfc-editor.org/rfc/rfc5763.txt

This document specifies how to use the Session Initiation Protocol
(SIP) to establish a Secure Real-time Transport Protocol (SRTP)
security context using the Datagram Transport Layer Security (DTLS)
protocol.  It describes a mechanism of transporting a fingerprint
attribute in the Session Description Protocol (SDP) that identifies
the key that will be presented during the DTLS handshake.  The key
exchange travels along the media path as opposed to the signaling
path.  The SIP Identity mechanism can be used to protect the
integrity of the fingerprint attribute from modification by
intermediate proxies.  [STANDARDS TRACK]

This document is a product of the Session Initiation Protocol Working Group of the IETF.

This is now a Proposed Standard Protocol.

STANDARDS TRACK: This document specifies an Internet standards track
protocol for the Internet community,and requests discussion and suggestions
for improvements.  Please refer to the current edition of the Internet
Official Protocol Standards (STD 1) for the standardization state and
status of this protocol.  Distribution of this memo is unlimited.

This announcement is sent to the IETF-Announce and rfc-dist lists.
To subscribe or unsubscribe, see
  http://www.ietf.org/mailman/listinfo/ietf-announce
  http://mailman.rfc-editor.org/mailman/listinfo/rfc-dist

For searching the RFC series, see http://www.rfc-editor.org/rfcsearch.html.
For downloading RFCs, see http://www.rfc-editor.org/rfc.html.

Requests for special distribution should be addressed to either the
author of the RFC in question, or to rfc-editor@rfc-editor.org.  Unless
specifically noted otherwise on the RFC itself, all RFCs are for
unlimited distribution.


The RFC Editor Team
Association Management Solutions, LLC



From wwwrun@rfc-editor.org  Thu May 13 10:55:49 2010
Return-Path: <wwwrun@rfc-editor.org>
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1]) by core3.amsl.com (Postfix) with ESMTP id DC83B3A68D6 for <sip@core3.amsl.com>; Thu, 13 May 2010 10:55:49 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -0.906
X-Spam-Level: 
X-Spam-Status: No, score=-0.906 tagged_above=-999 required=5 tests=[AWL=-0.720, BAYES_40=-0.185, NO_RELAYS=-0.001]
Received: from mail.ietf.org ([64.170.98.32]) by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024) with ESMTP id 4rfqDXfG9hsL for <sip@core3.amsl.com>; Thu, 13 May 2010 10:55:48 -0700 (PDT)
Received: from rfc-editor.org (rfc-editor.org [IPv6:2001:1890:1112:1::2f]) by core3.amsl.com (Postfix) with ESMTP id 4ABD63A6C22 for <sip@ietf.org>; Thu, 13 May 2010 10:55:48 -0700 (PDT)
Received: by rfc-editor.org (Postfix, from userid 30) id BD639E0661; Thu, 13 May 2010 10:55:38 -0700 (PDT)
To: bcampbell@dynamicsoft.com, jdrosen@dynamicsoft.com, schulzrinne@cs.columbia.edu, huitema@microsoft.com, dgurle@microsoft.com, gonzalo.camarillo@ericsson.com, rjsparks@nostrum.com, dean.willis@softarmor.com, drage@alcatel-lucent.com
From: RFC Errata System <rfc-editor@rfc-editor.org>
Message-Id: <20100513175538.BD639E0661@rfc-editor.org>
Date: Thu, 13 May 2010 10:55:38 -0700 (PDT)
Cc: sip@ietf.org, rfc-editor@rfc-editor.org, brett@broadsoft.com
Subject: [Sip] [Technical Errata Reported] RFC3428 (2261)
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>, <mailto:sip-request@ietf.org?subject=unsubscribe>
List-Archive: <http://www.ietf.org/mail-archive/web/sip>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>, <mailto:sip-request@ietf.org?subject=subscribe>
X-List-Received-Date: Thu, 13 May 2010 17:55:50 -0000

The following errata report has been submitted for RFC3428,
"Session Initiation Protocol (SIP) Extension for Instant Messaging".

--------------------------------------
You may review the report below and at:
http://www.rfc-editor.org/errata_search.php?rfc=3428&eid=2261

--------------------------------------
Type: Technical
Reported by: Brett Tate <brett@broadsoft.com>

Section: 10

Original Text
-------------
MESSAGE sip:user2@domain.com SIP/2.0
Via: SIP/2.0/TCP proxy.domain.com;branch=z9hG4bK123dsghds
Via: SIP/2.0/TCP user1pc.domain.com;branch=z9hG4bK776sgdkse;
                                           received=1.2.3.4
Max-Forwards: 69
From: sip:user1@domain.com;tag=49394
To: sip:user2@domain.com
Call-ID: asd88asd77a@1.2.3.4
CSeq: 1 MESSAGE
Content-Type: text/plain
Content-Length: 18

Watson, come here.

The message is received by user2, displayed, and a response is
generated, message F3, and sent to the proxy:

SIP/2.0 200 OK
Via: SIP/2.0/TCP proxy.domain.com;branch=z9hG4bK123dsghds;
                                         received=192.0.2.1
Via: SIP/2.0/TCP user1pc.domain.com;;branch=z9hG4bK776sgdkse;
                                            received=1.2.3.4
From: sip:user1@domain.com;tag=49394
To: sip:user2@domain.com;tag=ab8asdasd9
Call-ID: asd88asd77a@1.2.3.4
CSeq: 1 MESSAGE
Content-Length: 0

Note that most of the header fields are simply reflected in the
response.  The proxy receives this response, strips off the top Via,
and forwards to the address in the next Via, user1pc.domain.com, the
result being message F4:

SIP/2.0 200 OK
Via: SIP/2.0/TCP user1pc.domain.com;branch=z9hG4bK776sgdkse;
                                           received=1.2.3.4
From: sip:user1@domain.com;;tag=49394
To: sip:user2@domain.com;tag=ab8asdasd9
Call-ID: asd88asd77a@1.2.3.4
CSeq: 1 MESSAGE
Content-Length: 0


Corrected Text
--------------
MESSAGE sip:user2@user2pc.domain.com SIP/2.0
Via: SIP/2.0/TCP proxy.domain.com;branch=z9hG4bK123dsghds
Via: SIP/2.0/TCP user1pc.domain.com;branch=z9hG4bK776sgdkse;
                                           received=1.2.3.4
Max-Forwards: 69
From: sip:user1@domain.com;tag=49583
To: sip:user2@domain.com
Call-ID: asd88asd77a@1.2.3.4
CSeq: 1 MESSAGE
Content-Type: text/plain
Content-Length: 18

Watson, come here.

The message is received by user2, displayed, and a response is
generated, message F3, and sent to the proxy:

SIP/2.0 200 OK
Via: SIP/2.0/TCP proxy.domain.com;branch=z9hG4bK123dsghds;
                                         received=192.0.2.1
Via: SIP/2.0/TCP user1pc.domain.com;branch=z9hG4bK776sgdkse;
                                           received=1.2.3.4
From: sip:user1@domain.com;tag=49583
To: sip:user2@domain.com;tag=ab8asdasd9
Call-ID: asd88asd77a@1.2.3.4
CSeq: 1 MESSAGE
Content-Length: 0

Note that most of the header fields are simply reflected in the
response.  The proxy receives this response, strips off the top Via,
and forwards to the address in the next Via, user1pc.domain.com, the
result being message F4:

SIP/2.0 200 OK
Via: SIP/2.0/TCP user1pc.domain.com;branch=z9hG4bK776sgdkse;
                                           received=1.2.3.4
From: sip:user1@domain.com;tag=49583
To: sip:user2@domain.com;tag=ab8asdasd9
Call-ID: asd88asd77a@1.2.3.4
CSeq: 1 MESSAGE
Content-Length: 0


Notes
-----
The corrected text changes F2's request-uri to reflect the binding.
The corrected text proxies received From tag instead of changing it.
The corrected text removes various extra semicolons show within example.

Instructions:
-------------
This errata is currently posted as "Reported". If necessary, please
use "Reply All" to discuss whether it should be verified or
rejected. When a decision is reached, the verifying party (IESG)
can log in to change the status and edit the report, if necessary. 

--------------------------------------
RFC3428 (draft-ietf-sip-message-07)
--------------------------------------
Title               : Session Initiation Protocol (SIP) Extension for Instant Messaging
Publication Date    : December 2002
Author(s)           : B. Campbell, Ed., J. Rosenberg, H. Schulzrinne, C. Huitema, D. Gurle
Category            : PROPOSED STANDARD
Source              : Session Initiation Protocol
Area                : Real-time Applications and Infrastructure
Stream              : IETF
Verifying Party     : IESG

From harbhanu@huawei.com  Tue May 18 01:44:12 2010
Return-Path: <harbhanu@huawei.com>
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1]) by core3.amsl.com (Postfix) with ESMTP id 950533A6C85 for <sip@core3.amsl.com>; Tue, 18 May 2010 01:44:12 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: 2.106
X-Spam-Level: **
X-Spam-Status: No, score=2.106 tagged_above=-999 required=5 tests=[BAYES_50=0.001, FH_RELAY_NODNS=1.451, HELO_MISMATCH_COM=0.553, HTML_MESSAGE=0.001, RDNS_NONE=0.1]
Received: from mail.ietf.org ([64.170.98.32]) by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024) with ESMTP id wmFl9dTsCBYs for <sip@core3.amsl.com>; Tue, 18 May 2010 01:44:11 -0700 (PDT)
Received: from szxga03-in.huawei.com (unknown [119.145.14.66]) by core3.amsl.com (Postfix) with ESMTP id 2A5503A6405 for <sip@ietf.org>; Tue, 18 May 2010 01:35:27 -0700 (PDT)
Received: from huawei.com (szxga03-in [172.24.2.9]) by szxga03-in.huawei.com (iPlanet Messaging Server 5.2 HotFix 2.14 (built Aug 8 2006)) with ESMTP id <0L2L00G0XX6KQ6@szxga03-in.huawei.com> for sip@ietf.org; Tue, 18 May 2010 16:35:08 +0800 (CST)
Received: from huawei.com ([172.24.2.119]) by szxga03-in.huawei.com (iPlanet Messaging Server 5.2 HotFix 2.14 (built Aug 8 2006)) with ESMTP id <0L2L00IWKX6KUP@szxga03-in.huawei.com> for sip@ietf.org; Tue, 18 May 2010 16:35:08 +0800 (CST)
Received: from BLRNSHTIPL1NC ([10.18.1.31]) by szxml06-in.huawei.com (iPlanet Messaging Server 5.2 HotFix 2.14 (built Aug 8 2006)) with ESMTPA id <0L2L00AQSX6J8H@szxml06-in.huawei.com> for sip@ietf.org; Tue, 18 May 2010 16:35:08 +0800 (CST)
Date: Tue, 18 May 2010 14:05:07 +0530
From: Harbhanu <harbhanu@huawei.com>
To: sip@ietf.org
Message-id: <CD39FCAB00D54E869CC60E16B58BFAAE@china.huawei.com>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.3790.4325
X-Mailer: Microsoft Office Outlook 11
Content-type: multipart/alternative; boundary="Boundary_(ID_AS8YazbvOajBo6eQNm2CIg)"
Thread-index: Acr1g4osur4vNccuTTiDg5e8TTaePQA4TWWw
Subject: [Sip] Reg. session timer+earlyupdate
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>, <mailto:sip-request@ietf.org?subject=unsubscribe>
List-Archive: <http://www.ietf.org/mail-archive/web/sip>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>, <mailto:sip-request@ietf.org?subject=subscribe>
X-List-Received-Date: Tue, 18 May 2010 08:44:12 -0000

This is a multi-part message in MIME format.

--Boundary_(ID_AS8YazbvOajBo6eQNm2CIg)
Content-type: text/plain; charset=us-ascii
Content-transfer-encoding: 7BIT

Hi,

We were unable to locate the specific behavior of session timer handling in
UA, for the following scenario:

 

1. UE1 --- INVITE SE-1800 --> UE2

2. UE1 <--- 183 ------------------ UE2

 

3. UE1 --- UPDATE SE-600 --> UE2

4. UE1 <--- 200 UPDATE -SE600 -- UE2

 

5. UE1 <--- 200 INVITE SE-1800 -- UE2

 

6. UE1 -------------------------  BYE --> UE2

7. UE1 <--- BYE 200 ------------------ UE2

 

 

Here, UE1 sends a BYE since UE2(UAS) has increased the value of session
expires, which it MUST NOT (4028-Section-9, Page-16).

 

Please let me know whether this behaviour is correct or not.

 

Thanks in advance.

 

Regards,

Harbhanu

 

****************************************************************************
****************************************************************************
**********************
This e-mail and attachments contain confidential information from HUAWEI,
which is intended only for the person or entity whose address is listed
above. Any use of the information contained herein in any way (including,
but not limited to, total or partial disclosure, reproduction, or
dissemination) by persons other than the intended recipient's) is
prohibited. If you receive this e-mail in error, please notify the sender by
phone or email immediately and delete it!

 


--Boundary_(ID_AS8YazbvOajBo6eQNm2CIg)
Content-type: text/html; charset=us-ascii
Content-transfer-encoding: quoted-printable

<html xmlns:v=3D"urn:schemas-microsoft-com:vml" =
xmlns:o=3D"urn:schemas-microsoft-com:office:office" =
xmlns:w=3D"urn:schemas-microsoft-com:office:word" =
xmlns=3D"http://www.w3.org/TR/REC-html40">

<head>
<meta http-equiv=3DContent-Type content=3D"text/html; =
charset=3Dus-ascii">
<meta name=3DGenerator content=3D"Microsoft Word 11 (filtered medium)">
<!--[if !mso]>
<style>
v\:* {behavior:url(#default#VML);}
o\:* {behavior:url(#default#VML);}
w\:* {behavior:url(#default#VML);}
.shape {behavior:url(#default#VML);}
</style>
<![endif]-->
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:Wingdings;
	panose-1:5 0 0 0 0 0 0 0 0 0;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin:0in;
	margin-bottom:.0001pt;
	font-size:12.0pt;
	font-family:"Times New Roman";}
a:link, span.MsoHyperlink
	{color:blue;
	text-decoration:underline;}
a:visited, span.MsoHyperlinkFollowed
	{color:purple;
	text-decoration:underline;}
span.EmailStyle17
	{mso-style-type:personal;
	font-family:Arial;
	color:windowtext;}
span.EmailStyle18
	{mso-style-type:personal-reply;
	font-family:Arial;
	color:navy;}
@page Section1
	{size:8.5in 11.0in;
	margin:1.0in 1.25in 1.0in 1.25in;}
div.Section1
	{page:Section1;}
-->
</style>
<!--[if gte mso 9]><xml>
 <o:shapedefaults v:ext=3D"edit" spidmax=3D"1027" />
</xml><![endif]--><!--[if gte mso 9]><xml>
 <o:shapelayout v:ext=3D"edit">
  <o:idmap v:ext=3D"edit" data=3D"1" />
 </o:shapelayout></xml><![endif]-->
</head>

<body lang=3DEN-US link=3Dblue vlink=3Dpurple>

<div class=3DSection1>

<p class=3DMsoNormal><font size=3D3 face=3D"Times New Roman"><span =
style=3D'font-size:
12.0pt'><!--[if gte vml 1]><v:shapetype id=3D"_x0000_t74" =
coordsize=3D"21600,21600"=20
 o:spt=3D"74" =
path=3D"m10860,2187c10451,1746,9529,1018,9015,730,7865,152,6685,,5415,,41=
75,152,2995,575,1967,1305,1150,2187,575,3222,242,4220,,5410,242,6560,575,=
7597l10860,21600,20995,7597v485,-1037,605,-2187,485,-3377c21115,3222,2042=
0,2187,19632,1305,18575,575,17425,152,16275,,15005,,13735,152,12705,730v-=
529,288,-1451,1016,-1845,1457xe">
 <v:stroke joinstyle=3D"miter" />
 <v:path gradientshapeok=3D"t" o:connecttype=3D"custom" =
o:connectlocs=3D"10860,2187;2928,10800;10860,21600;18672,10800"=20
  o:connectangles=3D"270,180,90,0" textboxrect=3D"5037,2277,16557,13677" =
/>
</v:shapetype><v:shape id=3D"DtsShapeName" o:spid=3D"_x0000_s1026" =
type=3D"#_x0000_t74"=20
 =
alt=3D"E9@C79G56B3656169@50D2425@G15305083M2685A;3CMSORIUHQM0,BIHO@]i6181=
6!!!!!!!!!!1113308@D@E@EOnsl`m/enu!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!1!1"=20
 =
style=3D'position:absolute;margin-left:0;margin-top:0;width:.05pt;height:=
.05pt;
 z-index:1;visibility:hidden'>
 <w:anchorlock/>
</v:shape><![endif]--></span></font><font size=3D2 face=3DArial><span
style=3D'font-size:10.0pt;font-family:Arial'>Hi,<o:p></o:p></span></font>=
</p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'>We were unable to locate the specific behavior of =
session
timer handling in<font color=3Dnavy><span style=3D'color:navy'> =
</span></font>UA,
for the following scenario:<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'>1. UE1 --- INVITE SE-1800 </span></font><font =
size=3D2
face=3DWingdings><span =
style=3D'font-size:10.0pt;font-family:Wingdings'>&agrave;</span></font><f=
ont
size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;font-family:Arial'> =
UE2<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'>2. UE1 &lt;--- 183 ------------------ =
UE2<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'>3. UE1 --- UPDATE SE-600 </span></font><font size=3D2
face=3DWingdings><span =
style=3D'font-size:10.0pt;font-family:Wingdings'>&agrave;</span></font><f=
ont
size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;font-family:Arial'> =
UE2<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'>4. UE1 &lt;--- 200 UPDATE -SE600 -- =
UE2<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'>5. UE1 &lt;--- 200 INVITE SE-1800 -- =
UE2<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'>6. UE1 ------------------------- &nbsp;BYE =
</span></font><font
size=3D2 face=3DWingdings><span =
style=3D'font-size:10.0pt;font-family:Wingdings'>&agrave;</span></font><f=
ont
size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;font-family:Arial'> =
UE2<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'>7. UE1 &lt;--- BYE 200 ------------------ =
UE2<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'>Here, UE1 sends a BYE since UE2(UAS) has increased =
the value
of session expires, which it MUST NOT (4028-Section-9, =
Page-16).<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'>Please let me know whether this behaviour is correct =
or not.<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'>Thanks in advance.<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'>Regards,<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'>Harbhanu<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'>******************************************************=
*************************************************************************=
***********************************************<br>
This e-mail and attachments contain confidential information from =
HUAWEI, which
is intended only for the person or entity whose address is listed above. =
Any
use of the information contained herein in any way (including, but not =
limited
to, total or partial disclosure, reproduction, or dissemination) by =
persons
other than the intended recipient's) is prohibited. If you receive this =
e-mail
in error, please notify the sender by phone or email immediately and =
delete it!</span></font><!--[if gte vml 1]><v:shape=20
 id=3D"_x0000_s1026" type=3D"#_x0000_t74" =
alt=3D"E9@C79G56B3656169@50D2425@G15305083M2685A;3CMSORIUHQM0,BIHO@]i6181=
6!!!!!!!!!!1113308@D@E@EOnsl`m/enu!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!1!1"=20
 =
style=3D'position:absolute;margin-left:0;margin-top:0;width:.05pt;height:=
.05pt;
 z-index:2;visibility:hidden;mso-position-horizontal-relative:text;
 mso-position-vertical-relative:text'>
 <w:anchorlock/>
</v:shape><![endif]--><o:p></o:p></p>

<p class=3DMsoNormal><font size=3D3 face=3D"Times New Roman"><span =
style=3D'font-size:
12.0pt'><o:p>&nbsp;</o:p></span></font></p>

</div>

</body>

</html>

--Boundary_(ID_AS8YazbvOajBo6eQNm2CIg)--

From harbhanu@huawei.com  Tue May 18 01:53:20 2010
Return-Path: <harbhanu@huawei.com>
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1]) by core3.amsl.com (Postfix) with ESMTP id 4B3523A67B6 for <sip@core3.amsl.com>; Tue, 18 May 2010 01:53:20 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: 2.106
X-Spam-Level: **
X-Spam-Status: No, score=2.106 tagged_above=-999 required=5 tests=[BAYES_50=0.001, FH_RELAY_NODNS=1.451, HELO_MISMATCH_COM=0.553, HTML_MESSAGE=0.001, RDNS_NONE=0.1]
Received: from mail.ietf.org ([64.170.98.32]) by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024) with ESMTP id u8RTkDUna54R for <sip@core3.amsl.com>; Tue, 18 May 2010 01:53:17 -0700 (PDT)
Received: from szxga03-in.huawei.com (unknown [119.145.14.66]) by core3.amsl.com (Postfix) with ESMTP id 287FC3A6A4F for <sip@ietf.org>; Tue, 18 May 2010 01:51:12 -0700 (PDT)
Received: from huawei.com (szxga03-in [172.24.2.9]) by szxga03-in.huawei.com (iPlanet Messaging Server 5.2 HotFix 2.14 (built Aug 8 2006)) with ESMTP id <0L2L008GLXSWW1@szxga03-in.huawei.com> for sip@ietf.org; Tue, 18 May 2010 16:48:32 +0800 (CST)
Received: from huawei.com ([172.24.2.119]) by szxga03-in.huawei.com (iPlanet Messaging Server 5.2 HotFix 2.14 (built Aug 8 2006)) with ESMTP id <0L2L0038DXSWWF@szxga03-in.huawei.com> for sip@ietf.org; Tue, 18 May 2010 16:48:32 +0800 (CST)
Received: from BLRNSHTIPL1NC ([10.18.1.31]) by szxml04-in.huawei.com (iPlanet Messaging Server 5.2 HotFix 2.14 (built Aug 8 2006)) with ESMTPA id <0L2L007P9XSV29@szxml04-in.huawei.com> for sip@ietf.org; Tue, 18 May 2010 16:48:32 +0800 (CST)
Date: Tue, 18 May 2010 14:18:31 +0530
From: Harbhanu <harbhanu@huawei.com>
To: sip@ietf.org
Message-id: <0C4DE8BD80D149D2BC3D940CA05CE74F@china.huawei.com>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.3790.4325
X-Mailer: Microsoft Office Outlook 11
Content-type: multipart/alternative; boundary="Boundary_(ID_Ru2IxJMeWW3wJONRhpWvPA)"
Thread-index: Acr2ZuRMSu4+qoDaR7qbmzSKijoBig==
Subject: [Sip] Reg. refresher param in 2xx response
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>, <mailto:sip-request@ietf.org?subject=unsubscribe>
List-Archive: <http://www.ietf.org/mail-archive/web/sip>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>, <mailto:sip-request@ietf.org?subject=subscribe>
X-List-Received-Date: Tue, 18 May 2010 08:53:20 -0000

This is a multi-part message in MIME format.

--Boundary_(ID_Ru2IxJMeWW3wJONRhpWvPA)
Content-type: text/plain; charset=us-ascii
Content-transfer-encoding: 7BIT

As per 4028, for the following case UAS MUST specify the refresher parameter
in 2xx response.

 

UAC ----INV ----> supported=timer, SE=90-----> UAS

 

UAC <----2XX INV -- SE=90- ---------------- UAS

 

[Section-9, page-16]

The UAS MUST set the value of the refresher parameter in the Session-Expires
header field in the 2xx response.
 

But IMO when UE sends response for INVITE and it adds Session-Expires but
doesn't specify the refresher parameter.

Then in this case UAC can safely assume that, either the UAS doesn't support
session-timer or it doesn't want to act as a 'refresher'.

 

So instead of sending a BYE UAC MAY treat this as a buggy/naive UE & hence
"UAC" SHOULD act as 'refresher'.

 

Please share your opinion. Thanks!

 

Regards,

Harbhanu

 

****************************************************************************
****************************************************************************
*********************************
This e-mail and attachments contain confidential information from HUAWEI,
which is intended only for the person or entity whose address is listed
above. Any use of the information contained herein in any way (including,
but not limited to, total or partial disclosure, reproduction, or
dissemination) by persons other than the intended recipient's) is
prohibited. If you receive this e-mail in error, please notify the sender by
phone or email immediately and delete it!

 


--Boundary_(ID_Ru2IxJMeWW3wJONRhpWvPA)
Content-type: text/html; charset=us-ascii
Content-transfer-encoding: quoted-printable

<html xmlns:v=3D"urn:schemas-microsoft-com:vml" =
xmlns:o=3D"urn:schemas-microsoft-com:office:office" =
xmlns:w=3D"urn:schemas-microsoft-com:office:word" =
xmlns=3D"http://www.w3.org/TR/REC-html40">

<head>
<meta http-equiv=3DContent-Type content=3D"text/html; =
charset=3Dus-ascii">
<meta name=3DGenerator content=3D"Microsoft Word 11 (filtered medium)">
<!--[if !mso]>
<style>
v\:* {behavior:url(#default#VML);}
o\:* {behavior:url(#default#VML);}
w\:* {behavior:url(#default#VML);}
.shape {behavior:url(#default#VML);}
</style>
<![endif]-->
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:Wingdings;
	panose-1:5 0 0 0 0 0 0 0 0 0;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin:0in;
	margin-bottom:.0001pt;
	font-size:12.0pt;
	font-family:"Times New Roman";}
a:link, span.MsoHyperlink
	{color:blue;
	text-decoration:underline;}
a:visited, span.MsoHyperlinkFollowed
	{color:purple;
	text-decoration:underline;}
pre
	{margin:0in;
	margin-bottom:.0001pt;
	font-size:10.0pt;
	font-family:"Courier New";}
span.EmailStyle17
	{mso-style-type:personal-compose;
	font-family:Arial;
	color:windowtext;}
@page Section1
	{size:8.5in 11.0in;
	margin:1.0in 1.25in 1.0in 1.25in;}
div.Section1
	{page:Section1;}
-->
</style>
<!--[if gte mso 9]><xml>
 <o:shapedefaults v:ext=3D"edit" spidmax=3D"2050" />
</xml><![endif]--><!--[if gte mso 9]><xml>
 <o:shapelayout v:ext=3D"edit">
  <o:idmap v:ext=3D"edit" data=3D"1" />
 </o:shapelayout></xml><![endif]-->
</head>

<body lang=3DEN-US link=3Dblue vlink=3Dpurple>

<div class=3DSection1>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier New"'>As per 4028, for =
the
following case UAS MUST specify the refresher parameter in 2xx =
response.<o:p></o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier =
New"'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier New"'>UAC ----INV =
--</span></font><font
size=3D2 face=3DWingdings><span =
style=3D'font-size:10.0pt;font-family:Wingdings'>&agrave;</span></font><f=
ont
size=3D2 face=3D"Courier New"><span =
style=3D'font-size:10.0pt;font-family:"Courier New"'>
supported=3Dtimer, SE=3D90---</span></font><font size=3D2 =
face=3DWingdings><span
style=3D'font-size:10.0pt;font-family:Wingdings'>&agrave;</span></font><f=
ont
size=3D2 face=3D"Courier New"><span =
style=3D'font-size:10.0pt;font-family:"Courier New"'>
UAS<o:p></o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier =
New"'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier New"'>UAC &lt;----2XX INV =
-- SE=3D90-
---------------- UAS<o:p></o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier =
New"'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier New"'>[Section-9, =
page-16]<o:p></o:p></span></font></p>

<pre><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:10.0pt'>The UAS MUST set the value of the refresher =
parameter in the Session-Expires header field in the 2xx =
response.<o:p></o:p></span></font></pre><pre><font
size=3D2 face=3D"Courier New"><span =
style=3D'font-size:10.0pt'><o:p>&nbsp;</o:p></span></font></pre>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier New"'>But IMO when UE =
sends
response for INVITE and it adds Session-Expires but doesn't specify the
refresher parameter.<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:10.0pt;
font-family:"Courier New"'>Then in this case UAC can safely assume that, =
either
the UAS doesn&#8217;t support session-timer or it doesn&#8217;t want to =
act as
a &#8216;refresher&#8217;.<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:10.0pt;
font-family:"Courier New"'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:10.0pt;
font-family:"Courier New"'>So instead of sending a BYE UAC MAY treat =
this as a
buggy/naive UE &amp; hence &quot;UAC&quot; SHOULD act as =
&#8216;refresher&#8217;.<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:10.0pt;
font-family:"Courier New"'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:10.0pt;
font-family:"Courier New"'>Please share your opinion. =
Thanks!<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:10.0pt;
font-family:"Courier New"'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:10.0pt;
font-family:"Courier New"'>Regards,<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:10.0pt;
font-family:"Courier New"'>Harbhanu</span></font><font size=3D2 =
face=3DArial><span
style=3D'font-size:10.0pt;font-family:Arial'><o:p></o:p></span></font></p=
>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'>******************************************************=
*************************************************************************=
**********************************************************<br>
This e-mail and attachments contain confidential information from =
HUAWEI, which
is intended only for the person or entity whose address is listed above. =
Any
use of the information contained herein in any way (including, but not =
limited
to, total or partial disclosure, reproduction, or dissemination) by =
persons
other than the intended recipient's) is prohibited. If you receive this =
e-mail
in error, please notify the sender by phone or email immediately and =
delete it!</span></font><!--[if gte vml 1]><v:shapetype=20
 id=3D"_x0000_t74" coordsize=3D"21600,21600" o:spt=3D"74" =
path=3D"m10860,2187c10451,1746,9529,1018,9015,730,7865,152,6685,,5415,,41=
75,152,2995,575,1967,1305,1150,2187,575,3222,242,4220,,5410,242,6560,575,=
7597l10860,21600,20995,7597v485,-1037,605,-2187,485,-3377c21115,3222,2042=
0,2187,19632,1305,18575,575,17425,152,16275,,15005,,13735,152,12705,730v-=
529,288,-1451,1016,-1845,1457xe">
 <v:stroke joinstyle=3D"miter" />
 <v:path gradientshapeok=3D"t" o:connecttype=3D"custom" =
o:connectlocs=3D"10860,2187;2928,10800;10860,21600;18672,10800"=20
  o:connectangles=3D"270,180,90,0" textboxrect=3D"5037,2277,16557,13677" =
/>
</v:shapetype><v:shape id=3D"DtsShapeName" o:spid=3D"_x0000_s1026" =
type=3D"#_x0000_t74"=20
 =
alt=3D"E9@C79G56B3656169@50D2425@G15305083M2685A;3CMSORIUHQM0,BIHO@]i6181=
6!!!!!!!!!!1113308@D@E@EOnsl`m/enu!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!1!1"=20
 =
style=3D'position:absolute;margin-left:0;margin-top:0;width:.05pt;height:=
.05pt;
 z-index:1;visibility:hidden;mso-position-horizontal-relative:text;
 mso-position-vertical-relative:text'>
 <w:anchorlock/>
</v:shape><![endif]--><o:p></o:p></p>

<p class=3DMsoNormal><font size=3D3 face=3D"Times New Roman"><span =
style=3D'font-size:
12.0pt'><o:p>&nbsp;</o:p></span></font></p>

</div>

</body>

</html>

--Boundary_(ID_Ru2IxJMeWW3wJONRhpWvPA)--

From brett@broadsoft.com  Tue May 18 05:19:06 2010
Return-Path: <brett@broadsoft.com>
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1]) by core3.amsl.com (Postfix) with ESMTP id 2A2B53A6BAE for <sip@core3.amsl.com>; Tue, 18 May 2010 05:19:06 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -1.025
X-Spam-Level: 
X-Spam-Status: No, score=-1.025 tagged_above=-999 required=5 tests=[AWL=-1.027, BAYES_50=0.001, HTML_MESSAGE=0.001]
Received: from mail.ietf.org ([64.170.98.32]) by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024) with ESMTP id 046zhZ6GKh7l for <sip@core3.amsl.com>; Tue, 18 May 2010 05:18:59 -0700 (PDT)
Received: from smtp-out01.seaservers.net (smtp-out01.seaservers.net [72.37.232.66]) by core3.amsl.com (Postfix) with ESMTP id 593293A6B93 for <sip@ietf.org>; Tue, 18 May 2010 05:17:26 -0700 (PDT)
Received: from EXMBXCLUS01.citservers.local ([fe80::a488:d1ec:a706:3a6d]) by CASUMHUB02.citservers.local ([::1]) with mapi; Tue, 18 May 2010 05:17:18 -0700
From: Brett Tate <brett@broadsoft.com>
To: Harbhanu <harbhanu@huawei.com>, "sip@ietf.org" <sip@ietf.org>
Date: Tue, 18 May 2010 05:16:14 -0700
Thread-Topic: [Sip] Reg. refresher param in 2xx response
Thread-Index: Acr2ZuRMSu4+qoDaR7qbmzSKijoBigAG+8eQ
Message-ID: <747A6506A991724FB09B129B79D5FEB614815B6E27@EXMBXCLUS01.citservers.local>
References: <0C4DE8BD80D149D2BC3D940CA05CE74F@china.huawei.com>
In-Reply-To: <0C4DE8BD80D149D2BC3D940CA05CE74F@china.huawei.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
acceptlanguage: en-US
Content-Type: multipart/alternative; boundary="_000_747A6506A991724FB09B129B79D5FEB614815B6E27EXMBXCLUS01ci_"
MIME-Version: 1.0
Subject: Re: [Sip] Reg. refresher param in 2xx response
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>, <mailto:sip-request@ietf.org?subject=unsubscribe>
List-Archive: <http://www.ietf.org/mail-archive/web/sip>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>, <mailto:sip-request@ietf.org?subject=subscribe>
X-List-Received-Date: Tue, 18 May 2010 12:19:06 -0000

--_000_747A6506A991724FB09B129B79D5FEB614815B6E27EXMBXCLUS01ci_
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

If 2xx's session-expires doesn't contain the mandatory refresher parameter,=
 it is likely because interworking with an old implementation of the draft:
http://tools.ietf.org/wg/sip/draft-ietf-sip-session-timer/

The refresher parameter was added within version 5 of the draft.

Per RFC4028, it is an abnormal situation; I don't recall the RFC indicating=
 how to act within the abnormal situation.  Thus you can however you want.

From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On Behalf Of Harbh=
anu
Sent: Tuesday, May 18, 2010 4:49 AM
To: sip@ietf.org
Subject: [Sip] Reg. refresher param in 2xx response

As per 4028, for the following case UAS MUST specify the refresher paramete=
r in 2xx response.

UAC ----INV ----> supported=3Dtimer, SE=3D90-----> UAS

UAC <----2XX INV -- SE=3D90- ---------------- UAS

[Section-9, page-16]

The UAS MUST set the value of the refresher parameter in the Session-Expire=
s header field in the 2xx response.


But IMO when UE sends response for INVITE and it adds Session-Expires but d=
oesn't specify the refresher parameter.
Then in this case UAC can safely assume that, either the UAS doesn't suppor=
t session-timer or it doesn't want to act as a 'refresher'.

So instead of sending a BYE UAC MAY treat this as a buggy/naive UE & hence =
"UAC" SHOULD act as 'refresher'.

Please share your opinion. Thanks!

Regards,
Harbhanu

***************************************************************************=
***************************************************************************=
***********************************
This e-mail and attachments contain confidential information from HUAWEI, w=
hich is intended only for the person or entity whose address is listed abov=
e. Any use of the information contained herein in any way (including, but n=
ot limited to, total or partial disclosure, reproduction, or dissemination)=
 by persons other than the intended recipient's) is prohibited. If you rece=
ive this e-mail in error, please notify the sender by phone or email immedi=
ately and delete it!


--_000_747A6506A991724FB09B129B79D5FEB614815B6E27EXMBXCLUS01ci_
Content-Type: text/html; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

<html xmlns:v=3D"urn:schemas-microsoft-com:vml" xmlns:o=3D"urn:schemas-micr=
osoft-com:office:office" xmlns:w=3D"urn:schemas-microsoft-com:office:word" =
xmlns:m=3D"http://schemas.microsoft.com/office/2004/12/omml" xmlns=3D"http:=
//www.w3.org/TR/REC-html40">

<head>
<meta http-equiv=3DContent-Type content=3D"text/html; charset=3Diso-8859-1"=
>
<meta name=3DGenerator content=3D"Microsoft Word 12 (filtered medium)">
<!--[if !mso]>
<style>
v\:* {behavior:url(#default#VML);}
o\:* {behavior:url(#default#VML);}
w\:* {behavior:url(#default#VML);}
.shape {behavior:url(#default#VML);}
</style>
<![endif]-->
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:Wingdings;
	panose-1:5 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Cambria Math";
	panose-1:2 4 5 3 5 4 6 3 2 4;}
@font-face
	{font-family:Calibri;
	panose-1:2 15 5 2 2 2 4 3 2 4;}
@font-face
	{font-family:Tahoma;
	panose-1:2 11 6 4 3 5 4 4 2 4;}
@font-face
	{font-family:Consolas;
	panose-1:2 11 6 9 2 2 4 3 2 4;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin:0in;
	margin-bottom:.0001pt;
	font-size:12.0pt;
	font-family:"Times New Roman","serif";}
a:link, span.MsoHyperlink
	{mso-style-priority:99;
	color:blue;
	text-decoration:underline;}
a:visited, span.MsoHyperlinkFollowed
	{mso-style-priority:99;
	color:purple;
	text-decoration:underline;}
pre
	{mso-style-priority:99;
	mso-style-link:"HTML Preformatted Char";
	margin:0in;
	margin-bottom:.0001pt;
	font-size:10.0pt;
	font-family:"Courier New";}
span.HTMLPreformattedChar
	{mso-style-name:"HTML Preformatted Char";
	mso-style-priority:99;
	mso-style-link:"HTML Preformatted";
	font-family:Consolas;}
span.EmailStyle19
	{mso-style-type:personal;
	font-family:"Arial","sans-serif";
	color:windowtext;}
span.EmailStyle20
	{mso-style-type:personal-reply;
	font-family:"Calibri","sans-serif";
	color:#1F497D;}
.MsoChpDefault
	{mso-style-type:export-only;
	font-size:10.0pt;}
@page Section1
	{size:8.5in 11.0in;
	margin:1.0in 1.25in 1.0in 1.25in;}
div.Section1
	{page:Section1;}
-->
</style>
<!--[if gte mso 9]><xml>
 <o:shapedefaults v:ext=3D"edit" spidmax=3D"1027" />
</xml><![endif]--><!--[if gte mso 9]><xml>
 <o:shapelayout v:ext=3D"edit">
  <o:idmap v:ext=3D"edit" data=3D"1" />
 </o:shapelayout></xml><![endif]-->
</head>

<body lang=3DEN-US link=3Dblue vlink=3Dpurple>

<div class=3DSection1>

<p class=3DMsoNormal><span style=3D'font-size:11.0pt;font-family:"Calibri",=
"sans-serif";
color:#1F497D'>If 2xx&#8217;s session-expires doesn&#8217;t contain the man=
datory
refresher parameter, it is likely because interworking with an old
implementation of the draft:<o:p></o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:11.0pt;font-family:"Calibri",=
"sans-serif";
color:#1F497D'><a
href=3D"http://tools.ietf.org/wg/sip/draft-ietf-sip-session-timer/">http://=
tools.ietf.org/wg/sip/draft-ietf-sip-session-timer/</a><o:p></o:p></span></=
p>

<p class=3DMsoNormal><span style=3D'font-size:11.0pt;font-family:"Calibri",=
"sans-serif";
color:#1F497D'><o:p>&nbsp;</o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:11.0pt;font-family:"Calibri",=
"sans-serif";
color:#1F497D'>The refresher parameter was added within version 5 of the dr=
aft.<o:p></o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:11.0pt;font-family:"Calibri",=
"sans-serif";
color:#1F497D'><o:p>&nbsp;</o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:11.0pt;font-family:"Calibri",=
"sans-serif";
color:#1F497D'>Per RFC4028, it is an abnormal situation; I don&#8217;t reca=
ll
the RFC indicating how to act within the abnormal situation.=A0 Thus you ca=
n however
you want.<o:p></o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:11.0pt;font-family:"Calibri",=
"sans-serif";
color:#1F497D'><o:p>&nbsp;</o:p></span></p>

<div style=3D'border:none;border-left:solid blue 1.5pt;padding:0in 0in 0in =
4.0pt'>

<div>

<div style=3D'border:none;border-top:solid #B5C4DF 1.0pt;padding:3.0pt 0in =
0in 0in'>

<p class=3DMsoNormal><b><span style=3D'font-size:10.0pt;font-family:"Tahoma=
","sans-serif"'>From:</span></b><span
style=3D'font-size:10.0pt;font-family:"Tahoma","sans-serif"'>
sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] <b>On Behalf Of </b>Harb=
hanu<br>
<b>Sent:</b> Tuesday, May 18, 2010 4:49 AM<br>
<b>To:</b> sip@ietf.org<br>
<b>Subject:</b> [Sip] Reg. refresher param in 2xx response<o:p></o:p></span=
></p>

</div>

</div>

<p class=3DMsoNormal><o:p>&nbsp;</o:p></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><span style=3D'font-size=
:10.0pt;
font-family:"Courier New"'>As per 4028, for the following case UAS MUST spe=
cify
the refresher parameter in 2xx response.<o:p></o:p></span></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><span style=3D'font-size=
:10.0pt;
font-family:"Courier New"'><o:p>&nbsp;</o:p></span></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><span style=3D'font-size=
:10.0pt;
font-family:"Courier New"'>UAC ----INV --</span><span style=3D'font-size:10=
.0pt;
font-family:Wingdings'>=E0</span><span style=3D'font-size:10.0pt;font-famil=
y:"Courier New"'>
supported=3Dtimer, SE=3D90---</span><span style=3D'font-size:10.0pt;font-fa=
mily:Wingdings'>=E0</span><span
style=3D'font-size:10.0pt;font-family:"Courier New"'> UAS<o:p></o:p></span>=
</p>

<p class=3DMsoNormal style=3D'text-autospace:none'><span style=3D'font-size=
:10.0pt;
font-family:"Courier New"'><o:p>&nbsp;</o:p></span></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><span style=3D'font-size=
:10.0pt;
font-family:"Courier New"'>UAC &lt;----2XX INV -- SE=3D90- ----------------=
 UAS<o:p></o:p></span></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><span style=3D'font-size=
:10.0pt;
font-family:"Courier New"'><o:p>&nbsp;</o:p></span></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><span style=3D'font-size=
:10.0pt;
font-family:"Courier New"'>[Section-9, page-16]<o:p></o:p></span></p>

<pre>The UAS MUST set the value of the refresher parameter in the Session-E=
xpires header field in the 2xx response.<o:p></o:p></pre><pre><o:p>&nbsp;</=
o:p></pre>

<p class=3DMsoNormal style=3D'text-autospace:none'><span style=3D'font-size=
:10.0pt;
font-family:"Courier New"'>But IMO when UE sends response for INVITE and it
adds Session-Expires but doesn't specify the refresher parameter.<o:p></o:p=
></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Courier N=
ew"'>Then
in this case UAC can safely assume that, either the UAS doesn&#8217;t suppo=
rt
session-timer or it doesn&#8217;t want to act as a &#8216;refresher&#8217;.=
<o:p></o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Courier N=
ew"'><o:p>&nbsp;</o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Courier N=
ew"'>So
instead of sending a BYE UAC MAY treat this as a buggy/naive UE &amp; hence=
 &quot;UAC&quot;
SHOULD act as &#8216;refresher&#8217;.<o:p></o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Courier N=
ew"'><o:p>&nbsp;</o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Courier N=
ew"'>Please
share your opinion. Thanks!<o:p></o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Courier N=
ew"'><o:p>&nbsp;</o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Courier N=
ew"'>Regards,<o:p></o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Courier N=
ew"'>Harbhanu</span><span
style=3D'font-size:10.0pt;font-family:"Arial","sans-serif"'><o:p></o:p></sp=
an></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif"'><o:p>&nbsp;</o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif"'>***************************************************************=
***************************************************************************=
***********************************************<br>
This e-mail and attachments contain confidential information from HUAWEI, w=
hich
is intended only for the person or entity whose address is listed above. An=
y
use of the information contained herein in any way (including, but not limi=
ted
to, total or partial disclosure, reproduction, or dissemination) by persons
other than the intended recipient's) is prohibited. If you receive this e-m=
ail
in error, please notify the sender by phone or email immediately and delete=
 it!</span><!--[if gte vml 1]><v:shapetype=20
 id=3D"_x0000_t74" coordsize=3D"21600,21600" o:spt=3D"74" path=3D"m10860,21=
87c10451,1746,9529,1018,9015,730,7865,152,6685,,5415,,4175,152,2995,575,196=
7,1305,1150,2187,575,3222,242,4220,,5410,242,6560,575,7597l10860,21600,2099=
5,7597v485,-1037,605,-2187,485,-3377c21115,3222,20420,2187,19632,1305,18575=
,575,17425,152,16275,,15005,,13735,152,12705,730v-529,288,-1451,1016,-1845,=
1457xe">
 <v:stroke joinstyle=3D"miter" />
 <v:path gradientshapeok=3D"t" o:connecttype=3D"custom" o:connectlocs=3D"10=
860,2187;2928,10800;10860,21600;18672,10800"=20
  o:connectangles=3D"270,180,90,0" textboxrect=3D"5037,2277,16557,13677" />
</v:shapetype><v:shape id=3D"DtsShapeName" o:spid=3D"_x0000_s1026" type=3D"=
#_x0000_t74"=20
 alt=3D"E9@C79G56B3656169@50D2425@G15305083M2685A;3CMSORIUHQM0,BIHO@]i61816=
!!!!!!!!!!1113308@D@E@EOnsl`m/enu!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!1!1"=20
 style=3D'position:absolute;margin-left:0;margin-top:0;width:.05pt;height:.=
05pt;
 z-index:251657728;visibility:hidden;mso-position-horizontal-relative:text;
 mso-position-vertical-relative:text'>
 <w:anchorlock/>
</v:shape><![endif]--><o:p></o:p></p>

<p class=3DMsoNormal><o:p>&nbsp;</o:p></p>

</div>

</div>

</body>

</html>

--_000_747A6506A991724FB09B129B79D5FEB614815B6E27EXMBXCLUS01ci_--

From brett@broadsoft.com  Tue May 18 05:41:45 2010
Return-Path: <brett@broadsoft.com>
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1]) by core3.amsl.com (Postfix) with ESMTP id CD1F43A6B8D for <sip@core3.amsl.com>; Tue, 18 May 2010 05:41:45 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -0.985
X-Spam-Level: 
X-Spam-Status: No, score=-0.985 tagged_above=-999 required=5 tests=[AWL=-0.987, BAYES_50=0.001, HTML_MESSAGE=0.001]
Received: from mail.ietf.org ([64.170.98.32]) by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024) with ESMTP id UB2Fh6gVXth1 for <sip@core3.amsl.com>; Tue, 18 May 2010 05:41:42 -0700 (PDT)
Received: from smtp-out01.seaservers.net (smtp-out01.seaservers.net [72.37.232.66]) by core3.amsl.com (Postfix) with ESMTP id 121543A692B for <sip@ietf.org>; Tue, 18 May 2010 05:41:13 -0700 (PDT)
Received: from EXMBXCLUS01.citservers.local ([fe80:0000:0000:0000:a488:d1ec:167.6.58.109]) by casumhub01.citservers.local ([172.16.98.57]) with mapi; Tue, 18 May 2010 05:41:05 -0700
From: Brett Tate <brett@broadsoft.com>
To: Harbhanu <harbhanu@huawei.com>, "sip@ietf.org" <sip@ietf.org>
Date: Tue, 18 May 2010 05:40:00 -0700
Thread-Topic: [Sip] Reg. session timer+earlyupdate
Thread-Index: Acr1g4osur4vNccuTTiDg5e8TTaePQA4TWWwAAcXMZA=
Message-ID: <747A6506A991724FB09B129B79D5FEB614815B6E3D@EXMBXCLUS01.citservers.local>
References: <CD39FCAB00D54E869CC60E16B58BFAAE@china.huawei.com>
In-Reply-To: <CD39FCAB00D54E869CC60E16B58BFAAE@china.huawei.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
acceptlanguage: en-US
Content-Type: multipart/alternative; boundary="_000_747A6506A991724FB09B129B79D5FEB614815B6E3DEXMBXCLUS01ci_"
MIME-Version: 1.0
Subject: Re: [Sip] Reg. session timer+earlyupdate
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>, <mailto:sip-request@ietf.org?subject=unsubscribe>
List-Archive: <http://www.ietf.org/mail-archive/web/sip>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>, <mailto:sip-request@ietf.org?subject=subscribe>
X-List-Received-Date: Tue, 18 May 2010 12:41:46 -0000

--_000_747A6506A991724FB09B129B79D5FEB614815B6E3DEXMBXCLUS01ci_
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

The UAS is compliant; thus sending BYE (because think UAS is acting incorre=
ctly) is not correct behavior.  If the following is the section 9 snippet i=
n question, notice that the dialog's previously negotiated session-expires =
value has no relevance; the "MUST NOT" is associated the header received wi=
thin the request.  If you are referring to another "MUST NOT" (within this =
section or another), please send the paragraph.


"  If the UAS wishes to accept the request, it copies the value of the
   Session-Expires header field from the request into the 2xx response.

   The UAS response MAY reduce its value but MUST NOT set it to a

   duration lower than the value in the Min-SE header field in the

   request, if it is present; otherwise the UAS MAY reduce its value but

   MUST NOT set it to a duration lower than 90 seconds.  The UAS MUST

   NOT increase the value of the Session-Expires header field.
"

From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On Behalf Of Harbh=
anu
Sent: Tuesday, May 18, 2010 4:35 AM
To: sip@ietf.org
Subject: [Sip] Reg. session timer+earlyupdate

Hi,
We were unable to locate the specific behavior of session timer handling in=
 UA, for the following scenario:

1. UE1 --- INVITE SE-1800 --> UE2
2. UE1 <--- 183 ------------------ UE2

3. UE1 --- UPDATE SE-600 --> UE2
4. UE1 <--- 200 UPDATE -SE600 -- UE2

5. UE1 <--- 200 INVITE SE-1800 -- UE2

6. UE1 -------------------------  BYE --> UE2
7. UE1 <--- BYE 200 ------------------ UE2


Here, UE1 sends a BYE since UE2(UAS) has increased the value of session exp=
ires, which it MUST NOT (4028-Section-9, Page-16).

Please let me know whether this behaviour is correct or not.

Thanks in advance.

Regards,
Harbhanu

***************************************************************************=
***************************************************************************=
************************
This e-mail and attachments contain confidential information from HUAWEI, w=
hich is intended only for the person or entity whose address is listed abov=
e. Any use of the information contained herein in any way (including, but n=
ot limited to, total or partial disclosure, reproduction, or dissemination)=
 by persons other than the intended recipient's) is prohibited. If you rece=
ive this e-mail in error, please notify the sender by phone or email immedi=
ately and delete it!


--_000_747A6506A991724FB09B129B79D5FEB614815B6E3DEXMBXCLUS01ci_
Content-Type: text/html; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

<html xmlns:v=3D"urn:schemas-microsoft-com:vml" xmlns:o=3D"urn:schemas-micr=
osoft-com:office:office" xmlns:w=3D"urn:schemas-microsoft-com:office:word" =
xmlns:m=3D"http://schemas.microsoft.com/office/2004/12/omml" xmlns=3D"http:=
//www.w3.org/TR/REC-html40">

<head>
<meta http-equiv=3DContent-Type content=3D"text/html; charset=3Diso-8859-1"=
>
<meta name=3DGenerator content=3D"Microsoft Word 12 (filtered medium)">
<!--[if !mso]>
<style>
v\:* {behavior:url(#default#VML);}
o\:* {behavior:url(#default#VML);}
w\:* {behavior:url(#default#VML);}
.shape {behavior:url(#default#VML);}
</style>
<![endif]-->
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:Wingdings;
	panose-1:5 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Cambria Math";
	panose-1:2 4 5 3 5 4 6 3 2 4;}
@font-face
	{font-family:Calibri;
	panose-1:2 15 5 2 2 2 4 3 2 4;}
@font-face
	{font-family:Tahoma;
	panose-1:2 11 6 4 3 5 4 4 2 4;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin:0in;
	margin-bottom:.0001pt;
	font-size:12.0pt;
	font-family:"Times New Roman","serif";}
a:link, span.MsoHyperlink
	{mso-style-priority:99;
	color:blue;
	text-decoration:underline;}
a:visited, span.MsoHyperlinkFollowed
	{mso-style-priority:99;
	color:purple;
	text-decoration:underline;}
pre
	{mso-style-priority:99;
	mso-style-link:"HTML Preformatted Char";
	margin:0in;
	margin-bottom:.0001pt;
	font-size:12.0pt;
	font-family:"Courier New";}
span.EmailStyle17
	{mso-style-type:personal;
	font-family:"Arial","sans-serif";
	color:windowtext;}
span.EmailStyle18
	{mso-style-type:personal;
	font-family:"Arial","sans-serif";
	color:navy;}
span.EmailStyle19
	{mso-style-type:personal-reply;
	font-family:"Calibri","sans-serif";
	color:#1F497D;}
span.HTMLPreformattedChar
	{mso-style-name:"HTML Preformatted Char";
	mso-style-priority:99;
	mso-style-link:"HTML Preformatted";
	font-family:"Courier New";}
.MsoChpDefault
	{mso-style-type:export-only;
	font-size:10.0pt;}
@page Section1
	{size:8.5in 11.0in;
	margin:1.0in 1.25in 1.0in 1.25in;}
div.Section1
	{page:Section1;}
-->
</style>
<!--[if gte mso 9]><xml>
 <o:shapedefaults v:ext=3D"edit" spidmax=3D"1028" />
</xml><![endif]--><!--[if gte mso 9]><xml>
 <o:shapelayout v:ext=3D"edit">
  <o:idmap v:ext=3D"edit" data=3D"1" />
 </o:shapelayout></xml><![endif]-->
</head>

<body lang=3DEN-US link=3Dblue vlink=3Dpurple>

<div class=3DSection1>

<p class=3DMsoNormal><span style=3D'font-size:11.0pt;font-family:"Calibri",=
"sans-serif";
color:#1F497D'>The UAS is compliant; thus sending BYE (because think UAS is
acting incorrectly) is not correct behavior.=A0 If the following is the sec=
tion 9
snippet in question, notice that the dialog&#8217;s previously negotiated s=
ession-expires
value has no relevance; the &#8220;MUST NOT&#8221; is associated the header
received within the request.=A0 If you are referring to another &#8220;MUST=
 NOT&#8221;
(within this section or another), please send the paragraph.<o:p></o:p></sp=
an></p>

<p class=3DMsoNormal><span style=3D'font-size:11.0pt;font-family:"Calibri",=
"sans-serif";
color:#1F497D'><o:p>&nbsp;</o:p></span></p>

<pre style=3D'page-break-before:always'><span style=3D'font-size:11.0pt;fon=
t-family:
"Calibri","sans-serif";color:#1F497D'>&#8220;</span><span lang=3DEN
style=3D'font-size:10.0pt'>=A0 If the UAS wishes to accept the request, it =
copies the value of the<o:p></o:p></span></pre>

<p class=3DMsoNormal style=3D'page-break-before:always'><span lang=3DEN
style=3D'font-size:10.0pt;font-family:"Courier New"'>=A0=A0 Session-Expires=
 header
field from the request into the 2xx response.<o:p></o:p></span></p>

<pre style=3D'page-break-before:always'><span lang=3DEN style=3D'font-size:=
10.0pt'>=A0=A0 The UAS response MAY reduce its value but MUST NOT set it to=
 a<o:p></o:p></span></pre><pre
style=3D'page-break-before:always'><span lang=3DEN style=3D'font-size:10.0p=
t'>=A0=A0 duration lower than the value in the Min-SE header field in the<o=
:p></o:p></span></pre><pre
style=3D'page-break-before:always'><span lang=3DEN style=3D'font-size:10.0p=
t'>=A0=A0 request, if it is present; otherwise the UAS MAY reduce its value=
 but<o:p></o:p></span></pre><pre
style=3D'page-break-before:always'><span lang=3DEN style=3D'font-size:10.0p=
t'>=A0=A0 MUST NOT set it to a duration lower than 90 seconds.=A0 The UAS M=
UST<o:p></o:p></span></pre><pre
style=3D'page-break-before:always'><span lang=3DEN style=3D'font-size:10.0p=
t'>=A0=A0 NOT increase the value of the Session-Expires header field.<o:p><=
/o:p></span></pre>

<p class=3DMsoNormal><span style=3D'font-size:11.0pt;font-family:"Calibri",=
"sans-serif";
color:#1F497D'>&#8221;<o:p></o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:11.0pt;font-family:"Calibri",=
"sans-serif";
color:#1F497D'><o:p>&nbsp;</o:p></span></p>

<div style=3D'border:none;border-left:solid blue 1.5pt;padding:0in 0in 0in =
4.0pt'>

<div>

<div style=3D'border:none;border-top:solid #B5C4DF 1.0pt;padding:3.0pt 0in =
0in 0in'>

<p class=3DMsoNormal><b><span style=3D'font-size:10.0pt;font-family:"Tahoma=
","sans-serif"'>From:</span></b><span
style=3D'font-size:10.0pt;font-family:"Tahoma","sans-serif"'>
sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] <b>On Behalf Of </b>Harb=
hanu<br>
<b>Sent:</b> Tuesday, May 18, 2010 4:35 AM<br>
<b>To:</b> sip@ietf.org<br>
<b>Subject:</b> [Sip] Reg. session timer+earlyupdate<o:p></o:p></span></p>

</div>

</div>

<p class=3DMsoNormal><o:p>&nbsp;</o:p></p>

<p class=3DMsoNormal><!--[if gte vml 1]><v:shapetype id=3D"_x0000_t74" coor=
dsize=3D"21600,21600"=20
 o:spt=3D"74" path=3D"m10860,2187c10451,1746,9529,1018,9015,730,7865,152,66=
85,,5415,,4175,152,2995,575,1967,1305,1150,2187,575,3222,242,4220,,5410,242=
,6560,575,7597l10860,21600,20995,7597v485,-1037,605,-2187,485,-3377c21115,3=
222,20420,2187,19632,1305,18575,575,17425,152,16275,,15005,,13735,152,12705=
,730v-529,288,-1451,1016,-1845,1457xe">
 <v:stroke joinstyle=3D"miter" />
 <v:path gradientshapeok=3D"t" o:connecttype=3D"custom" o:connectlocs=3D"10=
860,2187;2928,10800;10860,21600;18672,10800"=20
  o:connectangles=3D"270,180,90,0" textboxrect=3D"5037,2277,16557,13677" />
</v:shapetype><v:shape id=3D"DtsShapeName" o:spid=3D"_x0000_s1026" type=3D"=
#_x0000_t74"=20
 alt=3D"E9@C79G56B3656169@50D2425@G15305083M2685A;3CMSORIUHQM0,BIHO@]i61816=
!!!!!!!!!!1113308@D@E@EOnsl`m/enu!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!1!1"=20
 style=3D'position:absolute;margin-left:0;margin-top:0;width:.05pt;height:.=
05pt;
 z-index:251657216;visibility:hidden'>
 <w:anchorlock/>
</v:shape><![endif]--><span style=3D'font-size:10.0pt;font-family:"Arial","=
sans-serif"'>Hi,<o:p></o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif"'>We
were unable to locate the specific behavior of session timer handling in<sp=
an
style=3D'color:navy'> </span>UA, for the following scenario:<o:p></o:p></sp=
an></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif"'><o:p>&nbsp;</o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif"'>1.
UE1 --- INVITE SE-1800 </span><span style=3D'font-size:10.0pt;font-family:W=
ingdings'>=E0</span><span
style=3D'font-size:10.0pt;font-family:"Arial","sans-serif"'> UE2<o:p></o:p>=
</span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif"'>2.
UE1 &lt;--- 183 ------------------ UE2<o:p></o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif"'><o:p>&nbsp;</o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif"'>3.
UE1 --- UPDATE SE-600 </span><span style=3D'font-size:10.0pt;font-family:Wi=
ngdings'>=E0</span><span
style=3D'font-size:10.0pt;font-family:"Arial","sans-serif"'> UE2<o:p></o:p>=
</span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif"'>4.
UE1 &lt;--- 200 UPDATE -SE600 -- UE2<o:p></o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif"'><o:p>&nbsp;</o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif"'>5.
UE1 &lt;--- 200 INVITE SE-1800 -- UE2<o:p></o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif"'><o:p>&nbsp;</o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif"'>6.
UE1 ------------------------- &nbsp;BYE </span><span style=3D'font-size:10.=
0pt;
font-family:Wingdings'>=E0</span><span style=3D'font-size:10.0pt;font-famil=
y:"Arial","sans-serif"'>
UE2<o:p></o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif"'>7.
UE1 &lt;--- BYE 200 ------------------ UE2<o:p></o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif"'><o:p>&nbsp;</o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif"'><o:p>&nbsp;</o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif"'>Here,
UE1 sends a BYE since UE2(UAS) has increased the value of session expires, =
which
it MUST NOT (4028-Section-9, Page-16).<o:p></o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif"'><o:p>&nbsp;</o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif"'>Please
let me know whether this behaviour is correct or not.<o:p></o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif"'><o:p>&nbsp;</o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif"'>Thanks
in advance.<o:p></o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif"'><o:p>&nbsp;</o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif"'>Regards,<o:p></o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif"'>Harbhanu<o:p></o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif"'><o:p>&nbsp;</o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif"'>***************************************************************=
***************************************************************************=
************************************<br>
This e-mail and attachments contain confidential information from HUAWEI, w=
hich
is intended only for the person or entity whose address is listed above. An=
y
use of the information contained herein in any way (including, but not limi=
ted
to, total or partial disclosure, reproduction, or dissemination) by persons
other than the intended recipient's) is prohibited. If you receive this e-m=
ail
in error, please notify the sender by phone or email immediately and delete=
 it!</span><!--[if gte vml 1]><v:shape=20
 id=3D"_x0000_s1027" type=3D"#_x0000_t74" alt=3D"E9@C79G56B3656169@50D2425@=
G15305083M2685A;3CMSORIUHQM0,BIHO@]i61816!!!!!!!!!!1113308@D@E@EOnsl`m/enu!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!1!1"=20
 style=3D'position:absolute;margin-left:0;margin-top:0;width:.05pt;height:.=
05pt;
 z-index:251658240;visibility:hidden;mso-position-horizontal-relative:text;
 mso-position-vertical-relative:text'>
 <w:anchorlock/>
</v:shape><![endif]--><o:p></o:p></p>

<p class=3DMsoNormal><o:p>&nbsp;</o:p></p>

</div>

</div>

</body>

</html>

--_000_747A6506A991724FB09B129B79D5FEB614815B6E3DEXMBXCLUS01ci_--

From harbhanu@huawei.com  Tue May 18 06:44:30 2010
Return-Path: <harbhanu@huawei.com>
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1]) by core3.amsl.com (Postfix) with ESMTP id 0DAA13A69B1 for <sip@core3.amsl.com>; Tue, 18 May 2010 06:44:30 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: 0.683
X-Spam-Level: 
X-Spam-Status: No, score=0.683 tagged_above=-999 required=5 tests=[AWL=1.422,  BAYES_20=-0.74, HTML_MESSAGE=0.001]
Received: from mail.ietf.org ([64.170.98.32]) by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024) with ESMTP id ZfgDKKs+OXay for <sip@core3.amsl.com>; Tue, 18 May 2010 06:44:25 -0700 (PDT)
Received: from szxga05-in.huawei.com (szxga04-in.huawei.com [119.145.14.67]) by core3.amsl.com (Postfix) with ESMTP id 080793A69E1 for <sip@ietf.org>; Tue, 18 May 2010 06:43:49 -0700 (PDT)
Received: from huawei.com (szxga05-in [172.24.2.49]) by szxga05-in.huawei.com (iPlanet Messaging Server 5.2 HotFix 2.14 (built Aug 8 2006)) with ESMTP id <0L2M005EQBGT4B@szxga05-in.huawei.com> for sip@ietf.org; Tue, 18 May 2010 21:43:41 +0800 (CST)
Received: from huawei.com ([172.24.2.119]) by szxga05-in.huawei.com (iPlanet Messaging Server 5.2 HotFix 2.14 (built Aug 8 2006)) with ESMTP id <0L2M006U8BGSXR@szxga05-in.huawei.com> for sip@ietf.org; Tue, 18 May 2010 21:43:40 +0800 (CST)
Received: from BLRNSHTIPL1NC ([10.18.1.31]) by szxml04-in.huawei.com (iPlanet Messaging Server 5.2 HotFix 2.14 (built Aug 8 2006)) with ESMTPA id <0L2M008GGBGR2S@szxml04-in.huawei.com> for sip@ietf.org; Tue, 18 May 2010 21:43:40 +0800 (CST)
Date: Tue, 18 May 2010 19:13:38 +0530
From: Harbhanu <harbhanu@huawei.com>
In-reply-to: <747A6506A991724FB09B129B79D5FEB614815B6E3D@EXMBXCLUS01.citservers.local>
To: 'Brett Tate' <brett@broadsoft.com>, sip@ietf.org
Message-id: <80A4862FA0D64E62A9EDF26CA4FC1499@china.huawei.com>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.3790.4325
X-Mailer: Microsoft Office Outlook 11
Content-type: multipart/alternative; boundary="Boundary_(ID_n8u3G1xNb9E7KbLaRoPsLw)"
Thread-index: Acr1g4osur4vNccuTTiDg5e8TTaePQA4TWWwAAcXMZAAA3O3gA==
References: <CD39FCAB00D54E869CC60E16B58BFAAE@china.huawei.com> <747A6506A991724FB09B129B79D5FEB614815B6E3D@EXMBXCLUS01.citservers.local>
Subject: Re: [Sip] Reg. session timer+earlyupdate
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>, <mailto:sip-request@ietf.org?subject=unsubscribe>
List-Archive: <http://www.ietf.org/mail-archive/web/sip>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>, <mailto:sip-request@ietf.org?subject=subscribe>
X-List-Received-Date: Tue, 18 May 2010 13:44:30 -0000

This is a multi-part message in MIME format.

--Boundary_(ID_n8u3G1xNb9E7KbLaRoPsLw)
Content-type: text/plain; charset=us-ascii
Content-transfer-encoding: 7BIT

May be your expectation is correct, but here the issue is in defining the
behavior of UA for the following scenario.

I will rephrase the issue.Which value should the UAC and UAS take for SE and
interval timer, when either of them is acting as refresher ? i.e.

 

1.	UAC refresher, then SE and refresh time for UAC and SE value at UAS?
2.	UAS refresher, then SE and refresh time for UAS and SE value at UAC?

 

Please consider the consistency of behavior incase there is a crossover of
2xx of UPDATE and that of INVITE.

 

****************************************************************************
***********
This e-mail and attachments contain confidential information from HUAWEI,
which is intended only for the person or entity whose address is listed
above. Any use of the information contained herein in any way (including,
but not limited to, total or partial disclosure, reproduction, or
dissemination) by persons other than the intended recipient's) is
prohibited. If you receive this e-mail in error, please notify the sender by
phone or email immediately and delete it!

  _____  

From: Brett Tate [mailto:brett@broadsoft.com] 
Sent: Tuesday, May 18, 2010 6:10 PM
To: Harbhanu; sip@ietf.org
Subject: RE: [Sip] Reg. session timer+earlyupdate

 

The UAS is compliant; thus sending BYE (because think UAS is acting
incorrectly) is not correct behavior.  If the following is the section 9
snippet in question, notice that the dialog's previously negotiated
session-expires value has no relevance; the "MUST NOT" is associated the
header received within the request.  If you are referring to another "MUST
NOT" (within this section or another), please send the paragraph.

 

"  If the UAS wishes to accept the request, it copies the value of the

   Session-Expires header field from the request into the 2xx response.

   The UAS response MAY reduce its value but MUST NOT set it to a
   duration lower than the value in the Min-SE header field in the
   request, if it is present; otherwise the UAS MAY reduce its value but
   MUST NOT set it to a duration lower than 90 seconds.  The UAS MUST
   NOT increase the value of the Session-Expires header field.

"

 

From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On Behalf Of
Harbhanu
Sent: Tuesday, May 18, 2010 4:35 AM
To: sip@ietf.org
Subject: [Sip] Reg. session timer+earlyupdate

 

Hi,

We were unable to locate the specific behavior of session timer handling in
UA, for the following scenario:

 

1. UE1 --- INVITE SE-1800 --> UE2

2. UE1 <--- 183 ------------------ UE2

 

3. UE1 --- UPDATE SE-600 --> UE2

4. UE1 <--- 200 UPDATE -SE600 -- UE2

 

5. UE1 <--- 200 INVITE SE-1800 -- UE2

 

6. UE1 -------------------------  BYE --> UE2

7. UE1 <--- BYE 200 ------------------ UE2

 

 

Here, UE1 sends a BYE since UE2(UAS) has increased the value of session
expires, which it MUST NOT (4028-Section-9, Page-16).

 

Please let me know whether this behaviour is correct or not.

 

Thanks in advance.

 

Regards,

Harbhanu

 

****************************************************************************
****************************************************************************
**********************
This e-mail and attachments contain confidential information from HUAWEI,
which is intended only for the person or entity whose address is listed
above. Any use of the information contained herein in any way (including,
but not limited to, total or partial disclosure, reproduction, or
dissemination) by persons other than the intended recipient's) is
prohibited. If you receive this e-mail in error, please notify the sender by
phone or email immediately and delete it!

 


--Boundary_(ID_n8u3G1xNb9E7KbLaRoPsLw)
Content-type: text/html; charset=us-ascii
Content-transfer-encoding: quoted-printable

<html xmlns:v=3D"urn:schemas-microsoft-com:vml" =
xmlns:o=3D"urn:schemas-microsoft-com:office:office" =
xmlns:w=3D"urn:schemas-microsoft-com:office:word" =
xmlns=3D"http://www.w3.org/TR/REC-html40"
xmlns:ns0=3D"http://schemas.microsoft.com/office/2004/12/omml">

<head>
<meta http-equiv=3DContent-Type content=3D"text/html; =
charset=3Dus-ascii">
<meta name=3DGenerator content=3D"Microsoft Word 11 (filtered medium)">
<!--[if !mso]>
<style>
v\:* {behavior:url(#default#VML);}
o\:* {behavior:url(#default#VML);}
w\:* {behavior:url(#default#VML);}
.shape {behavior:url(#default#VML);}
</style>
<![endif]-->
<style>
<!--a:link
	{mso-style-priority:99;}
span.MSOHYPERLINK
	{mso-style-priority:99;}
a:visited
	{mso-style-priority:99;}
span.MSOHYPERLINKFOLLOWED
	{mso-style-priority:99;}
pre
	{mso-style-priority:99;}
span.HTMLPREFORMATTEDCHAR
	{mso-style-priority:99;}

 /* Font Definitions */
 @font-face
	{font-family:Wingdings;
	panose-1:5 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:Tahoma;
	panose-1:2 11 6 4 3 5 4 4 2 4;}
@font-face
	{font-family:Calibri;
	panose-1:2 15 5 2 2 2 4 3 2 4;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin:0in;
	margin-bottom:.0001pt;
	font-size:12.0pt;
	font-family:"Times New Roman";}
a:link, span.MsoHyperlink
	{color:blue;
	text-decoration:underline;}
a:visited, span.MsoHyperlinkFollowed
	{color:purple;
	text-decoration:underline;}
pre
	{margin:0in;
	margin-bottom:.0001pt;
	font-size:12.0pt;
	font-family:"Courier New";}
span.HTMLPreformattedChar
	{font-family:"Courier New";}
span.EmailStyle19
	{mso-style-type:personal;
	font-family:Arial;
	color:windowtext;}
span.EmailStyle20
	{mso-style-type:personal;
	font-family:Arial;
	color:navy;}
span.EmailStyle21
	{mso-style-type:personal;
	font-family:Calibri;
	color:#1F497D;}
span.EmailStyle22
	{mso-style-type:personal-reply;
	font-family:Arial;
	color:navy;}
@page Section1
	{size:8.5in 11.0in;
	margin:1.0in 1.25in 1.0in 1.25in;}
div.Section1
	{page:Section1;}
 /* List Definitions */
 @list l0
	{mso-list-id:1410074883;
	mso-list-type:hybrid;
	mso-list-template-ids:-1702223866 67698703 67698713 67698715 67698703 =
67698713 67698715 67698703 67698713 67698715;}
@list l0:level1
	{mso-level-tab-stop:.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
ol
	{margin-bottom:0in;}
ul
	{margin-bottom:0in;}
-->
</style>
<!--[if gte mso 9]><xml>
 <o:shapedefaults v:ext=3D"edit" spidmax=3D"1028" />
</xml><![endif]--><!--[if gte mso 9]><xml>
 <o:shapelayout v:ext=3D"edit">
  <o:idmap v:ext=3D"edit" data=3D"1" />
 </o:shapelayout></xml><![endif]-->
</head>

<body lang=3DEN-US link=3Dblue vlink=3Dpurple>

<div class=3DSection1>

<p class=3DMsoNormal><font size=3D2 color=3Dnavy face=3DArial><span =
style=3D'font-size:
10.0pt;font-family:Arial;color:navy'>May be your expectation is correct, =
but here
the issue is in defining the behavior of UA for the following =
scenario.<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 color=3Dnavy face=3DArial><span =
style=3D'font-size:
10.0pt;font-family:Arial;color:navy'>I will rephrase the =
issue&#8230;Which
value should the UAC and UAS take for SE and interval timer, when either =
of
them is acting as refresher ? i.e.<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 color=3Dnavy face=3DArial><span =
style=3D'font-size:
10.0pt;font-family:Arial;color:navy'><o:p>&nbsp;</o:p></span></font></p>

<ol style=3D'margin-top:0in' start=3D1 type=3D1>
 <li class=3DMsoNormal style=3D'color:navy;mso-list:l0 level1 =
lfo1'><font size=3D2
     color=3Dnavy face=3DArial><span =
style=3D'font-size:10.0pt;font-family:Arial'>UAC
     refresher, then SE and refresh time for UAC and SE value at =
UAS?<o:p></o:p></span></font></li>
 <li class=3DMsoNormal style=3D'color:navy;mso-list:l0 level1 =
lfo1'><font size=3D2
     color=3Dnavy face=3DArial><span =
style=3D'font-size:10.0pt;font-family:Arial'>UAS
     refresher, then SE and refresh time for UAS and SE value at =
UAC?<o:p></o:p></span></font></li>
</ol>

<p class=3DMsoNormal style=3D'margin-left:.25in'><font size=3D2 =
color=3Dnavy
face=3DArial><span =
style=3D'font-size:10.0pt;font-family:Arial;color:navy'><o:p>&nbsp;</o:p>=
</span></font></p>

<p class=3DMsoNormal><font size=3D2 color=3Dnavy face=3DArial><span =
style=3D'font-size:
10.0pt;font-family:Arial;color:navy'>Please consider the consistency of
behavior incase there is a crossover of 2xx of UPDATE and that of =
INVITE.<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 color=3Dnavy face=3DArial><span =
style=3D'font-size:
10.0pt;font-family:Arial;color:navy'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 color=3Dnavy face=3DArial><span =
style=3D'font-size:
10.0pt;font-family:Arial;color:navy'>************************************=
***************************************************<br>
This e-mail and attachments contain confidential information from =
HUAWEI, which
is intended only for the person or entity whose address is listed above. =
Any
use of the information contained herein in any way (including, but not =
limited
to, total or partial disclosure, reproduction, or dissemination) by =
persons
other than the intended recipient's) is prohibited. If you receive this =
e-mail
in error, please notify the sender by phone or email immediately and =
delete it!</span></font><o:p></o:p></p>

<div class=3DMsoNormal align=3Dcenter style=3D'text-align:center'><font =
size=3D3
face=3D"Times New Roman"><span style=3D'font-size:12.0pt'>

<hr size=3D2 width=3D"100%" align=3Dcenter tabindex=3D-1>

</span></font></div>

<p class=3DMsoNormal><b><font size=3D2 face=3DTahoma><span =
style=3D'font-size:10.0pt;
font-family:Tahoma;font-weight:bold'>From:</span></font></b><font =
size=3D2
face=3DTahoma><span style=3D'font-size:10.0pt;font-family:Tahoma'> Brett =
Tate
[mailto:brett@broadsoft.com] <br>
<b><span style=3D'font-weight:bold'>Sent:</span></b> Tuesday, May 18, =
2010 6:10
PM<br>
<b><span style=3D'font-weight:bold'>To:</span></b> Harbhanu; =
sip@ietf.org<br>
<b><span style=3D'font-weight:bold'>Subject:</span></b> RE: [Sip] Reg. =
session
timer+earlyupdate</span></font><o:p></o:p></p>

<p class=3DMsoNormal><font size=3D3 face=3D"Times New Roman"><span =
style=3D'font-size:
12.0pt'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D3 face=3D"Times New Roman"><span =
style=3D'font-size:
12.0pt'><!--[if gte vml 1]><v:shapetype id=3D"_x0000_t74" =
coordsize=3D"21600,21600"=20
 o:spt=3D"74" =
path=3D"m10860,2187c10451,1746,9529,1018,9015,730,7865,152,6685,,5415,,41=
75,152,2995,575,1967,1305,1150,2187,575,3222,242,4220,,5410,242,6560,575,=
7597l10860,21600,20995,7597v485,-1037,605,-2187,485,-3377c21115,3222,2042=
0,2187,19632,1305,18575,575,17425,152,16275,,15005,,13735,152,12705,730v-=
529,288,-1451,1016,-1845,1457xe">
 <v:stroke joinstyle=3D"miter" />
 <v:path gradientshapeok=3D"t" o:connecttype=3D"custom" =
o:connectlocs=3D"10860,2187;2928,10800;10860,21600;18672,10800"=20
  o:connectangles=3D"270,180,90,0" textboxrect=3D"5037,2277,16557,13677" =
/>
</v:shapetype><v:shape id=3D"DtsShapeName" o:spid=3D"_x0000_s1026" =
type=3D"#_x0000_t74"=20
 =
alt=3D"E9@C79G56B3656169@50D2425@G15305083M2685A;3CMSORIUHQM0,BIHO@]i6181=
6!!!!!!!!!!1113308@D@E@EOnsl`m/enu!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!1!1"=20
 =
style=3D'position:absolute;margin-left:0;margin-top:0;width:.05pt;height:=
.05pt;
 z-index:1;visibility:hidden'>
 <w:anchorlock/>
</v:shape><![endif]--></span></font><font size=3D2 color=3D"#1f497d" =
face=3DCalibri><span
style=3D'font-size:11.0pt;font-family:Calibri;color:#1F497D'>The UAS is
compliant; thus sending BYE (because think UAS is acting incorrectly) is =
not
correct behavior.&nbsp; If the following is the section 9 snippet in =
question,
notice that the dialog&#8217;s previously negotiated session-expires =
value has
no relevance; the &#8220;MUST NOT&#8221; is associated the header =
received
within the request.&nbsp; If you are referring to another &#8220;MUST
NOT&#8221; (within this section or another), please send the =
paragraph.<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 color=3D"#1f497d" =
face=3DCalibri><span
style=3D'font-size:11.0pt;font-family:Calibri;color:#1F497D'><o:p>&nbsp;<=
/o:p></span></font></p>

<pre style=3D'page-break-before:always'><font size=3D2 color=3D"#1f497d"
face=3DCalibri><span =
style=3D'font-size:11.0pt;font-family:Calibri;color:#1F497D'>&#8220;</spa=
n></font><font
size=3D2><span lang=3DEN style=3D'font-size:10.0pt'>&nbsp; If the UAS =
wishes to accept the request, it copies the value of =
the<o:p></o:p></span></font></pre>

<p class=3DMsoNormal style=3D'page-break-before:always'><font size=3D2
face=3D"Courier New"><span lang=3DEN =
style=3D'font-size:10.0pt;font-family:"Courier New"'>&nbsp;&nbsp;
Session-Expires header field from the request into the 2xx =
response.<o:p></o:p></span></font></p>

<pre style=3D'page-break-before:always'><font size=3D2 face=3D"Courier =
New"><span
lang=3DEN style=3D'font-size:10.0pt'>&nbsp;&nbsp; The UAS response MAY =
reduce its value but MUST NOT set it to =
a<o:p></o:p></span></font></pre><pre
style=3D'page-break-before:always'><font size=3D2 face=3D"Courier =
New"><span lang=3DEN
style=3D'font-size:10.0pt'>&nbsp;&nbsp; duration lower than the value in =
the Min-SE header field in the<o:p></o:p></span></font></pre><pre
style=3D'page-break-before:always'><font size=3D2 face=3D"Courier =
New"><span lang=3DEN
style=3D'font-size:10.0pt'>&nbsp;&nbsp; request, if it is present; =
otherwise the UAS MAY reduce its value =
but<o:p></o:p></span></font></pre><pre
style=3D'page-break-before:always'><font size=3D2 face=3D"Courier =
New"><span lang=3DEN
style=3D'font-size:10.0pt'>&nbsp;&nbsp; MUST NOT set it to a duration =
lower than 90 seconds.&nbsp; The UAS =
MUST<o:p></o:p></span></font></pre><pre
style=3D'page-break-before:always'><font size=3D2 face=3D"Courier =
New"><span lang=3DEN
style=3D'font-size:10.0pt'>&nbsp;&nbsp; NOT increase the value of the =
Session-Expires header field.<o:p></o:p></span></font></pre>

<p class=3DMsoNormal><font size=3D2 color=3D"#1f497d" =
face=3DCalibri><span
style=3D'font-size:11.0pt;font-family:Calibri;color:#1F497D'>&#8221;<o:p>=
</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 color=3D"#1f497d" =
face=3DCalibri><span
style=3D'font-size:11.0pt;font-family:Calibri;color:#1F497D'><o:p>&nbsp;<=
/o:p></span></font></p>

<div style=3D'border:none;border-left:solid blue 1.5pt;padding:0in 0in =
0in 4.0pt'>

<div>

<div style=3D'border:none;border-top:solid #B5C4DF 1.0pt;padding:3.0pt =
0in 0in 0in'>

<p class=3DMsoNormal><b><font size=3D2 face=3DTahoma><span =
style=3D'font-size:10.0pt;
font-family:Tahoma;font-weight:bold'>From:</span></font></b><font =
size=3D2
face=3DTahoma><span style=3D'font-size:10.0pt;font-family:Tahoma'>
sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] <b><span =
style=3D'font-weight:
bold'>On Behalf Of </span></b>Harbhanu<br>
<b><span style=3D'font-weight:bold'>Sent:</span></b> Tuesday, May 18, =
2010 4:35
AM<br>
<b><span style=3D'font-weight:bold'>To:</span></b> sip@ietf.org<br>
<b><span style=3D'font-weight:bold'>Subject:</span></b> [Sip] Reg. =
session
timer+earlyupdate<o:p></o:p></span></font></p>

</div>

</div>

<p class=3DMsoNormal><font size=3D3 face=3D"Times New Roman"><span =
style=3D'font-size:
12.0pt'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D3 face=3D"Times New Roman"><span =
style=3D'font-size:
12.0pt'><!--[if gte vml 1]><v:shape id=3D"_x0000_s1026" =
type=3D"#_x0000_t74" =
alt=3D"E9@C79G56B3656169@50D2425@G15305083M2685A;3CMSORIUHQM0,BIHO@]i6181=
6!!!!!!!!!!1113308@D@E@EOnsl`m/enu!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!1!1"=20
 =
style=3D'position:absolute;margin-left:0;margin-top:0;width:.05pt;height:=
.05pt;
 z-index:2;visibility:hidden'>
 <w:anchorlock/>
</v:shape><![endif]--></span></font><font size=3D2 face=3DArial><span
style=3D'font-size:10.0pt;font-family:Arial'>Hi,<o:p></o:p></span></font>=
</p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'>We were unable to locate the specific behavior of =
session
timer handling in<font color=3Dnavy><span style=3D'color:navy'> =
</span></font>UA,
for the following scenario:<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'>1. UE1 --- INVITE SE-1800 </span></font><font =
size=3D2
face=3DWingdings><span =
style=3D'font-size:10.0pt;font-family:Wingdings'>&agrave;</span></font><f=
ont
size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;font-family:Arial'> =
UE2<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'>2. UE1 &lt;--- 183 ------------------ =
UE2<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'>3. UE1 --- UPDATE SE-600 </span></font><font size=3D2
face=3DWingdings><span =
style=3D'font-size:10.0pt;font-family:Wingdings'>&agrave;</span></font><f=
ont
size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;font-family:Arial'> =
UE2<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'>4. UE1 &lt;--- 200 UPDATE -SE600 -- =
UE2<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'>5. UE1 &lt;--- 200 INVITE SE-1800 -- =
UE2<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'>6. UE1 ------------------------- &nbsp;BYE =
</span></font><font
size=3D2 face=3DWingdings><span =
style=3D'font-size:10.0pt;font-family:Wingdings'>&agrave;</span></font><f=
ont
size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;font-family:Arial'> =
UE2<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'>7. UE1 &lt;--- BYE 200 ------------------ =
UE2<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'>Here, UE1 sends a BYE since UE2(UAS) has increased =
the value
of session expires, which it MUST NOT (4028-Section-9, =
Page-16).<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'>Please let me know whether this behaviour is correct =
or not.<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'>Thanks in advance.<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'>Regards,<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'>Harbhanu<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'>******************************************************=
*************************************************************************=
***********************************************<br>
This e-mail and attachments contain confidential information from =
HUAWEI, which
is intended only for the person or entity whose address is listed above. =
Any
use of the information contained herein in any way (including, but not =
limited
to, total or partial disclosure, reproduction, or dissemination) by =
persons
other than the intended recipient's) is prohibited. If you receive this =
e-mail
in error, please notify the sender by phone or email immediately and =
delete it!</span></font><!--[if gte vml 1]><v:shape=20
 id=3D"_x0000_s1027" type=3D"#_x0000_t74" =
alt=3D"E9@C79G56B3656169@50D2425@G15305083M2685A;3CMSORIUHQM0,BIHO@]i6181=
6!!!!!!!!!!1113308@D@E@EOnsl`m/enu!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!1!1"=20
 =
style=3D'position:absolute;margin-left:0;margin-top:0;width:.05pt;height:=
.05pt;
 z-index:3;visibility:hidden;mso-position-horizontal-relative:text;
 mso-position-vertical-relative:text'>
 <w:anchorlock/>
</v:shape><![endif]--><o:p></o:p></p>

<p class=3DMsoNormal><font size=3D3 face=3D"Times New Roman"><span =
style=3D'font-size:
12.0pt'><o:p>&nbsp;</o:p></span></font></p>

</div>

</div>

</body>

</html>

--Boundary_(ID_n8u3G1xNb9E7KbLaRoPsLw)--

From harbhanu@huawei.com  Tue May 18 07:09:34 2010
Return-Path: <harbhanu@huawei.com>
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1]) by core3.amsl.com (Postfix) with ESMTP id B95283A6A31 for <sip@core3.amsl.com>; Tue, 18 May 2010 07:09:34 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: 0.332
X-Spam-Level: 
X-Spam-Status: No, score=0.332 tagged_above=-999 required=5 tests=[AWL=0.826,  BAYES_00=-2.599, FH_RELAY_NODNS=1.451, HELO_MISMATCH_COM=0.553,  HTML_MESSAGE=0.001, RDNS_NONE=0.1]
Received: from mail.ietf.org ([64.170.98.32]) by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024) with ESMTP id eh5UU1bVyDO1 for <sip@core3.amsl.com>; Tue, 18 May 2010 07:09:29 -0700 (PDT)
Received: from szxga01-in.huawei.com (unknown [119.145.14.64]) by core3.amsl.com (Postfix) with ESMTP id 0DABA3A6887 for <sip@ietf.org>; Tue, 18 May 2010 07:09:15 -0700 (PDT)
Received: from huawei.com (szxga01-in [172.24.2.3]) by szxga01-in.huawei.com (iPlanet Messaging Server 5.2 HotFix 2.14 (built Aug 8 2006)) with ESMTP id <0L2M00BHBCMWA6@szxga01-in.huawei.com> for sip@ietf.org; Tue, 18 May 2010 22:08:57 +0800 (CST)
Received: from huawei.com ([172.24.2.119]) by szxga01-in.huawei.com (iPlanet Messaging Server 5.2 HotFix 2.14 (built Aug 8 2006)) with ESMTP id <0L2M00HBBCMWNW@szxga01-in.huawei.com> for sip@ietf.org; Tue, 18 May 2010 22:08:56 +0800 (CST)
Received: from BLRNSHTIPL1NC ([10.18.1.31]) by szxml06-in.huawei.com (iPlanet Messaging Server 5.2 HotFix 2.14 (built Aug 8 2006)) with ESMTPA id <0L2M00E5HCMVP3@szxml06-in.huawei.com> for sip@ietf.org; Tue, 18 May 2010 22:08:56 +0800 (CST)
Date: Tue, 18 May 2010 19:38:55 +0530
From: Harbhanu <harbhanu@huawei.com>
In-reply-to: <747A6506A991724FB09B129B79D5FEB614815B6E27@EXMBXCLUS01.citservers.local>
To: 'Brett Tate' <brett@broadsoft.com>, sip@ietf.org
Message-id: <CC7B5CD68EBD4D7DB2CB888E9B55334D@china.huawei.com>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.3790.4325
X-Mailer: Microsoft Office Outlook 11
Content-type: multipart/alternative; boundary="Boundary_(ID_dGID94fngTxPxLlGyY+p0g)"
Thread-index: Acr2ZuRMSu4+qoDaR7qbmzSKijoBigAG+8eQAAN99eA=
References: <0C4DE8BD80D149D2BC3D940CA05CE74F@china.huawei.com> <747A6506A991724FB09B129B79D5FEB614815B6E27@EXMBXCLUS01.citservers.local>
Subject: Re: [Sip] Reg. refresher param in 2xx response
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>, <mailto:sip-request@ietf.org?subject=unsubscribe>
List-Archive: <http://www.ietf.org/mail-archive/web/sip>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>, <mailto:sip-request@ietf.org?subject=subscribe>
X-List-Received-Date: Tue, 18 May 2010 14:09:34 -0000

This is a multi-part message in MIME format.

--Boundary_(ID_dGID94fngTxPxLlGyY+p0g)
Content-type: text/plain; charset=us-ascii
Content-transfer-encoding: 7BIT

Precisely, IMO too RFC doesn't specify UAC behavior for this situation.

So, we think that in order to have a better error tolerance or say
flexibility, this behavior SHOULD be fine.

 

So can anybody suggest/highlight any scenario/use-case wherein this
'tolerance' might prove otherwise? :-)

Also, please specify if you are aware of its handling in any of the
commercial implementations.

 

Thanks again!!

 

Regards,

Harbhanu

 

****************************************************************************
************************************************************************
This e-mail and attachments contain confidential information from HUAWEI,
which is intended only for the person or entity whose address is listed
above. Any use of the information contained herein in any way (including,
but not limited to, total or partial disclosure, reproduction, or
dissemination) by persons other than the intended recipient's) is
prohibited. If you receive this e-mail in error, please notify the sender by
phone or email immediately and delete it!

  _____  

From: Brett Tate [mailto:brett@broadsoft.com] 
Sent: Tuesday, May 18, 2010 5:46 PM
To: Harbhanu; sip@ietf.org
Subject: RE: [Sip] Reg. refresher param in 2xx response

 

If 2xx's session-expires doesn't contain the mandatory refresher parameter,
it is likely because interworking with an old implementation of the draft:

http://tools.ietf.org/wg/sip/draft-ietf-sip-session-timer/

 

The refresher parameter was added within version 5 of the draft.

 

Per RFC4028, it is an abnormal situation; I don't recall the RFC indicating
how to act within the abnormal situation.  Thus you can however you want.

 

From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On Behalf Of
Harbhanu
Sent: Tuesday, May 18, 2010 4:49 AM
To: sip@ietf.org
Subject: [Sip] Reg. refresher param in 2xx response

 

As per 4028, for the following case UAS MUST specify the refresher parameter
in 2xx response.

 

UAC ----INV ----> supported=timer, SE=90-----> UAS

 

UAC <----2XX INV -- SE=90- ---------------- UAS

 

[Section-9, page-16]

The UAS MUST set the value of the refresher parameter in the Session-Expires
header field in the 2xx response.
 

But IMO when UE sends response for INVITE and it adds Session-Expires but
doesn't specify the refresher parameter.

Then in this case UAC can safely assume that, either the UAS doesn't support
session-timer or it doesn't want to act as a 'refresher'.

 

So instead of sending a BYE UAC MAY treat this as a buggy/naive UE & hence
"UAC" SHOULD act as 'refresher'.

 

Please share your opinion. Thanks!

 

Regards,

Harbhanu

 

****************************************************************************
****************************************************************************
*********************************
This e-mail and attachments contain confidential information from HUAWEI,
which is intended only for the person or entity whose address is listed
above. Any use of the information contained herein in any way (including,
but not limited to, total or partial disclosure, reproduction, or
dissemination) by persons other than the intended recipient's) is
prohibited. If you receive this e-mail in error, please notify the sender by
phone or email immediately and delete it!

 


--Boundary_(ID_dGID94fngTxPxLlGyY+p0g)
Content-type: text/html; charset=us-ascii
Content-transfer-encoding: quoted-printable

<html xmlns:v=3D"urn:schemas-microsoft-com:vml" =
xmlns:o=3D"urn:schemas-microsoft-com:office:office" =
xmlns:w=3D"urn:schemas-microsoft-com:office:word" =
xmlns=3D"http://www.w3.org/TR/REC-html40"
xmlns:ns0=3D"http://schemas.microsoft.com/office/2004/12/omml">

<head>
<meta http-equiv=3DContent-Type content=3D"text/html; =
charset=3Dus-ascii">
<meta name=3DGenerator content=3D"Microsoft Word 11 (filtered medium)">
<!--[if !mso]>
<style>
v\:* {behavior:url(#default#VML);}
o\:* {behavior:url(#default#VML);}
w\:* {behavior:url(#default#VML);}
.shape {behavior:url(#default#VML);}
</style>
<![endif]-->
<style>
<!--a:link
	{mso-style-priority:99;}
span.MSOHYPERLINK
	{mso-style-priority:99;}
a:visited
	{mso-style-priority:99;}
span.MSOHYPERLINKFOLLOWED
	{mso-style-priority:99;}
pre
	{mso-style-priority:99;}
span.HTMLPREFORMATTEDCHAR
	{mso-style-priority:99;}

 /* Font Definitions */
 @font-face
	{font-family:Wingdings;
	panose-1:5 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:Tahoma;
	panose-1:2 11 6 4 3 5 4 4 2 4;}
@font-face
	{font-family:Calibri;
	panose-1:2 15 5 2 2 2 4 3 2 4;}
@font-face
	{font-family:Consolas;
	panose-1:2 11 6 9 2 2 4 3 2 4;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin:0in;
	margin-bottom:.0001pt;
	font-size:12.0pt;
	font-family:"Times New Roman";}
a:link, span.MsoHyperlink
	{color:blue;
	text-decoration:underline;}
a:visited, span.MsoHyperlinkFollowed
	{color:purple;
	text-decoration:underline;}
pre
	{margin:0in;
	margin-bottom:.0001pt;
	font-size:10.0pt;
	font-family:"Courier New";}
span.HTMLPreformattedChar
	{font-family:Consolas;}
span.EmailStyle19
	{mso-style-type:personal;
	font-family:Arial;
	color:windowtext;}
span.EmailStyle20
	{mso-style-type:personal;
	font-family:Calibri;
	color:#1F497D;}
span.EmailStyle21
	{mso-style-type:personal-reply;
	font-family:Arial;
	color:navy;}
@page Section1
	{size:8.5in 11.0in;
	margin:1.0in 1.25in 1.0in 1.25in;}
div.Section1
	{page:Section1;}
-->
</style>
<!--[if gte mso 9]><xml>
 <o:shapedefaults v:ext=3D"edit" spidmax=3D"1027" />
</xml><![endif]--><!--[if gte mso 9]><xml>
 <o:shapelayout v:ext=3D"edit">
  <o:idmap v:ext=3D"edit" data=3D"1" />
 </o:shapelayout></xml><![endif]-->
</head>

<body lang=3DEN-US link=3Dblue vlink=3Dpurple>

<div class=3DSection1>

<p class=3DMsoNormal><font size=3D2 color=3Dnavy face=3DArial><span =
style=3D'font-size:
10.0pt;font-family:Arial;color:navy'>Precisely, IMO too RFC =
doesn&#8217;t
specify UAC behavior for this situation.<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 color=3Dnavy face=3DArial><span =
style=3D'font-size:
10.0pt;font-family:Arial;color:navy'>So, we think that in order to have =
a
better error tolerance or say flexibility, this behavior SHOULD be =
fine.<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 color=3Dnavy face=3DArial><span =
style=3D'font-size:
10.0pt;font-family:Arial;color:navy'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 color=3Dnavy face=3DArial><span =
style=3D'font-size:
10.0pt;font-family:Arial;color:navy'>So can anybody suggest/highlight =
any
scenario/use-case wherein this &#8216;tolerance&#8217; might prove =
otherwise? </span></font><font
size=3D2 color=3Dnavy face=3DWingdings><span =
style=3D'font-size:10.0pt;font-family:
Wingdings;color:navy'>J</span></font><font size=3D2 color=3Dnavy =
face=3DArial><span
style=3D'font-size:10.0pt;font-family:Arial;color:navy'><o:p></o:p></span=
></font></p>

<p class=3DMsoNormal><font size=3D2 color=3Dnavy face=3DArial><span =
style=3D'font-size:
10.0pt;font-family:Arial;color:navy'>Also, please specify if you are =
aware of its
handling in any of the commercial =
implementations.<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 color=3Dnavy face=3DArial><span =
style=3D'font-size:
10.0pt;font-family:Arial;color:navy'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 color=3Dnavy face=3DArial><span =
style=3D'font-size:
10.0pt;font-family:Arial;color:navy'>Thanks =
again!!<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 color=3Dnavy face=3DArial><span =
style=3D'font-size:
10.0pt;font-family:Arial;color:navy'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 color=3Dnavy face=3DArial><span =
style=3D'font-size:
10.0pt;font-family:Arial;color:navy'>Regards,<o:p></o:p></span></font></p=
>

<p class=3DMsoNormal><font size=3D2 color=3Dnavy face=3DArial><span =
style=3D'font-size:
10.0pt;font-family:Arial;color:navy'>Harbhanu<o:p></o:p></span></font></p=
>

<p class=3DMsoNormal><font size=3D2 color=3Dnavy face=3DArial><span =
style=3D'font-size:
10.0pt;font-family:Arial;color:navy'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 color=3Dnavy face=3DArial><span =
style=3D'font-size:
10.0pt;font-family:Arial;color:navy'>************************************=
*************************************************************************=
***************************************<br>
This e-mail and attachments contain confidential information from =
HUAWEI, which
is intended only for the person or entity whose address is listed above. =
Any
use of the information contained herein in any way (including, but not =
limited
to, total or partial disclosure, reproduction, or dissemination) by =
persons
other than the intended recipient's) is prohibited. If you receive this =
e-mail
in error, please notify the sender by phone or email immediately and =
delete it!</span></font><o:p></o:p></p>

<div class=3DMsoNormal align=3Dcenter style=3D'text-align:center'><font =
size=3D3
face=3D"Times New Roman"><span style=3D'font-size:12.0pt'>

<hr size=3D2 width=3D"100%" align=3Dcenter tabindex=3D-1>

</span></font></div>

<p class=3DMsoNormal><b><font size=3D2 face=3DTahoma><span =
style=3D'font-size:10.0pt;
font-family:Tahoma;font-weight:bold'>From:</span></font></b><font =
size=3D2
face=3DTahoma><span style=3D'font-size:10.0pt;font-family:Tahoma'> Brett =
Tate
[mailto:brett@broadsoft.com] <br>
<b><span style=3D'font-weight:bold'>Sent:</span></b> Tuesday, May 18, =
2010 5:46
PM<br>
<b><span style=3D'font-weight:bold'>To:</span></b> Harbhanu; =
sip@ietf.org<br>
<b><span style=3D'font-weight:bold'>Subject:</span></b> RE: [Sip] Reg. =
refresher
param in 2xx response</span></font><o:p></o:p></p>

<p class=3DMsoNormal><font size=3D3 face=3D"Times New Roman"><span =
style=3D'font-size:
12.0pt'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D3 face=3D"Times New Roman"><span =
style=3D'font-size:
12.0pt'><!--[if gte vml 1]><v:shapetype id=3D"_x0000_t74" =
coordsize=3D"21600,21600"=20
 o:spt=3D"74" =
path=3D"m10860,2187c10451,1746,9529,1018,9015,730,7865,152,6685,,5415,,41=
75,152,2995,575,1967,1305,1150,2187,575,3222,242,4220,,5410,242,6560,575,=
7597l10860,21600,20995,7597v485,-1037,605,-2187,485,-3377c21115,3222,2042=
0,2187,19632,1305,18575,575,17425,152,16275,,15005,,13735,152,12705,730v-=
529,288,-1451,1016,-1845,1457xe">
 <v:stroke joinstyle=3D"miter" />
 <v:path gradientshapeok=3D"t" o:connecttype=3D"custom" =
o:connectlocs=3D"10860,2187;2928,10800;10860,21600;18672,10800"=20
  o:connectangles=3D"270,180,90,0" textboxrect=3D"5037,2277,16557,13677" =
/>
</v:shapetype><v:shape id=3D"DtsShapeName" o:spid=3D"_x0000_s1026" =
type=3D"#_x0000_t74"=20
 =
alt=3D"E9@C79G56B3656169@50D2425@G15305083M2685A;3CMSORIUHQM0,BIHO@]i6181=
6!!!!!!!!!!1113308@D@E@EOnsl`m/enu!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!1!1"=20
 =
style=3D'position:absolute;margin-left:0;margin-top:0;width:.05pt;height:=
.05pt;
 z-index:1;visibility:hidden'>
 <w:anchorlock/>
</v:shape><![endif]--></span></font><font size=3D2 color=3D"#1f497d" =
face=3DCalibri><span
style=3D'font-size:11.0pt;font-family:Calibri;color:#1F497D'>If =
2xx&#8217;s
session-expires doesn&#8217;t contain the mandatory refresher parameter, =
it is
likely because interworking with an old implementation of the =
draft:<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 color=3D"#1f497d" =
face=3DCalibri><span
style=3D'font-size:11.0pt;font-family:Calibri;color:#1F497D'><a
href=3D"http://tools.ietf.org/wg/sip/draft-ietf-sip-session-timer/">http:=
//tools.ietf.org/wg/sip/draft-ietf-sip-session-timer/</a><o:p></o:p></spa=
n></font></p>

<p class=3DMsoNormal><font size=3D2 color=3D"#1f497d" =
face=3DCalibri><span
style=3D'font-size:11.0pt;font-family:Calibri;color:#1F497D'><o:p>&nbsp;<=
/o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 color=3D"#1f497d" =
face=3DCalibri><span
style=3D'font-size:11.0pt;font-family:Calibri;color:#1F497D'>The =
refresher
parameter was added within version 5 of the =
draft.<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 color=3D"#1f497d" =
face=3DCalibri><span
style=3D'font-size:11.0pt;font-family:Calibri;color:#1F497D'><o:p>&nbsp;<=
/o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 color=3D"#1f497d" =
face=3DCalibri><span
style=3D'font-size:11.0pt;font-family:Calibri;color:#1F497D'>Per =
RFC4028, it is
an abnormal situation; I don&#8217;t recall the RFC indicating how to =
act
within the abnormal situation.&nbsp; Thus you can however you =
want.<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 color=3D"#1f497d" =
face=3DCalibri><span
style=3D'font-size:11.0pt;font-family:Calibri;color:#1F497D'><o:p>&nbsp;<=
/o:p></span></font></p>

<div style=3D'border:none;border-left:solid blue 1.5pt;padding:0in 0in =
0in 4.0pt'>

<div>

<div style=3D'border:none;border-top:solid #B5C4DF 1.0pt;padding:3.0pt =
0in 0in 0in'>

<p class=3DMsoNormal><b><font size=3D2 face=3DTahoma><span =
style=3D'font-size:10.0pt;
font-family:Tahoma;font-weight:bold'>From:</span></font></b><font =
size=3D2
face=3DTahoma><span style=3D'font-size:10.0pt;font-family:Tahoma'> =
sip-bounces@ietf.org
[mailto:sip-bounces@ietf.org] <b><span style=3D'font-weight:bold'>On =
Behalf Of </span></b>Harbhanu<br>
<b><span style=3D'font-weight:bold'>Sent:</span></b> Tuesday, May 18, =
2010 4:49
AM<br>
<b><span style=3D'font-weight:bold'>To:</span></b> sip@ietf.org<br>
<b><span style=3D'font-weight:bold'>Subject:</span></b> [Sip] Reg. =
refresher
param in 2xx response<o:p></o:p></span></font></p>

</div>

</div>

<p class=3DMsoNormal><font size=3D3 face=3D"Times New Roman"><span =
style=3D'font-size:
12.0pt'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier New"'>As per 4028, for =
the
following case UAS MUST specify the refresher parameter in 2xx =
response.<o:p></o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier =
New"'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier New"'>UAC ----INV =
--</span></font><font
size=3D2 face=3DWingdings><span =
style=3D'font-size:10.0pt;font-family:Wingdings'>&agrave;</span></font><f=
ont
size=3D2 face=3D"Courier New"><span =
style=3D'font-size:10.0pt;font-family:"Courier New"'>
supported=3Dtimer, SE=3D90---</span></font><font size=3D2 =
face=3DWingdings><span
style=3D'font-size:10.0pt;font-family:Wingdings'>&agrave;</span></font><f=
ont
size=3D2 face=3D"Courier New"><span =
style=3D'font-size:10.0pt;font-family:"Courier New"'>
UAS<o:p></o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier =
New"'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier New"'>UAC &lt;----2XX INV =
--
SE=3D90- ---------------- UAS<o:p></o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier =
New"'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier New"'>[Section-9, =
page-16]<o:p></o:p></span></font></p>

<pre><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:10.0pt'>The UAS MUST set the value of the refresher =
parameter in the Session-Expires header field in the 2xx =
response.<o:p></o:p></span></font></pre><pre><font
size=3D2 face=3D"Courier New"><span =
style=3D'font-size:10.0pt'><o:p>&nbsp;</o:p></span></font></pre>

<p class=3DMsoNormal style=3D'text-autospace:none'><font size=3D2 =
face=3D"Courier New"><span
style=3D'font-size:10.0pt;font-family:"Courier New"'>But IMO when UE =
sends
response for INVITE and it adds Session-Expires but doesn't specify the
refresher parameter.<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:10.0pt;
font-family:"Courier New"'>Then in this case UAC can safely assume that, =
either
the UAS doesn&#8217;t support session-timer or it doesn&#8217;t want to =
act as
a &#8216;refresher&#8217;.<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:10.0pt;
font-family:"Courier New"'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:10.0pt;
font-family:"Courier New"'>So instead of sending a BYE UAC MAY treat =
this as a
buggy/naive UE &amp; hence &quot;UAC&quot; SHOULD act as
&#8216;refresher&#8217;.<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:10.0pt;
font-family:"Courier New"'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:10.0pt;
font-family:"Courier New"'>Please share your opinion. =
Thanks!<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:10.0pt;
font-family:"Courier New"'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:10.0pt;
font-family:"Courier New"'>Regards,<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:10.0pt;
font-family:"Courier New"'>Harbhanu</span></font><font size=3D2 =
face=3DArial><span
style=3D'font-size:10.0pt;font-family:Arial'><o:p></o:p></span></font></p=
>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'>******************************************************=
*************************************************************************=
**********************************************************<br>
This e-mail and attachments contain confidential information from =
HUAWEI, which
is intended only for the person or entity whose address is listed above. =
Any
use of the information contained herein in any way (including, but not =
limited
to, total or partial disclosure, reproduction, or dissemination) by =
persons
other than the intended recipient's) is prohibited. If you receive this =
e-mail
in error, please notify the sender by phone or email immediately and =
delete it!</span></font><!--[if gte vml 1]><v:shape=20
 id=3D"_x0000_s1026" type=3D"#_x0000_t74" =
alt=3D"E9@C79G56B3656169@50D2425@G15305083M2685A;3CMSORIUHQM0,BIHO@]i6181=
6!!!!!!!!!!1113308@D@E@EOnsl`m/enu!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!1!1"=20
 =
style=3D'position:absolute;margin-left:0;margin-top:0;width:.05pt;height:=
.05pt;
 z-index:2;visibility:hidden;mso-position-horizontal-relative:text;
 mso-position-vertical-relative:text'>
 <w:anchorlock/>
</v:shape><![endif]--><o:p></o:p></p>

<p class=3DMsoNormal><font size=3D3 face=3D"Times New Roman"><span =
style=3D'font-size:
12.0pt'><o:p>&nbsp;</o:p></span></font></p>

</div>

</div>

</body>

</html>

--Boundary_(ID_dGID94fngTxPxLlGyY+p0g)--

From brett@broadsoft.com  Tue May 18 07:26:13 2010
Return-Path: <brett@broadsoft.com>
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1]) by core3.amsl.com (Postfix) with ESMTP id 345443A6C7B for <sip@core3.amsl.com>; Tue, 18 May 2010 07:26:13 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.227
X-Spam-Level: 
X-Spam-Status: No, score=-2.227 tagged_above=-999 required=5 tests=[AWL=0.371,  BAYES_00=-2.599, HTML_MESSAGE=0.001]
Received: from mail.ietf.org ([64.170.98.32]) by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024) with ESMTP id QXFepsjl1FuZ for <sip@core3.amsl.com>; Tue, 18 May 2010 07:26:07 -0700 (PDT)
Received: from smtp-out01.seaservers.net (smtp-out01.seaservers.net [72.37.232.66]) by core3.amsl.com (Postfix) with ESMTP id C64933A6B7E for <sip@ietf.org>; Tue, 18 May 2010 07:20:21 -0700 (PDT)
Received: from EXMBXCLUS01.citservers.local ([fe80:0000:0000:0000:a488:d1ec:167.6.58.109]) by casumhub01.citservers.local ([172.16.98.57]) with mapi; Tue, 18 May 2010 07:20:14 -0700
From: Brett Tate <brett@broadsoft.com>
To: Harbhanu <harbhanu@huawei.com>, "sip@ietf.org" <sip@ietf.org>
Date: Tue, 18 May 2010 07:19:12 -0700
Thread-Topic: [Sip] Reg. session timer+earlyupdate
Thread-Index: Acr1g4osur4vNccuTTiDg5e8TTaePQA4TWWwAAcXMZAAA3O3gAAAppyg
Message-ID: <747A6506A991724FB09B129B79D5FEB614815B6F3C@EXMBXCLUS01.citservers.local>
References: <CD39FCAB00D54E869CC60E16B58BFAAE@china.huawei.com> <747A6506A991724FB09B129B79D5FEB614815B6E3D@EXMBXCLUS01.citservers.local> <80A4862FA0D64E62A9EDF26CA4FC1499@china.huawei.com>
In-Reply-To: <80A4862FA0D64E62A9EDF26CA4FC1499@china.huawei.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
acceptlanguage: en-US
Content-Type: multipart/alternative; boundary="_000_747A6506A991724FB09B129B79D5FEB614815B6F3CEXMBXCLUS01ci_"
MIME-Version: 1.0
Subject: Re: [Sip] Reg. session timer+earlyupdate
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>, <mailto:sip-request@ietf.org?subject=unsubscribe>
List-Archive: <http://www.ietf.org/mail-archive/web/sip>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>, <mailto:sip-request@ietf.org?subject=subscribe>
X-List-Received-Date: Tue, 18 May 2010 14:26:13 -0000

--_000_747A6506A991724FB09B129B79D5FEB614815B6F3CEXMBXCLUS01ci_
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Similar to many other of SIP RFCs, RFC4028 has race condition issues.  Thus=
 the UAC, UAS, and proxies might not be in agreement concerning session-exp=
ires value, activation, and/or refresher.

Based upon RFC4028, it is basically the latest negotiated 2xx sent/received=
.  Within the call flow provided, the INVITE 2xx's Session-Expires value is=
 latest.  However since there can be race conditions associated within UPDA=
TE, UPDATE 2xx, and INVITE 2xx, the UAC, UAS, and proxies might not all be =
in agreement concerning which 2xx was the latest.

From: Harbhanu [mailto:harbhanu@huawei.com]
Sent: Tuesday, May 18, 2010 9:44 AM
To: Brett Tate; sip@ietf.org
Subject: RE: [Sip] Reg. session timer+earlyupdate

May be your expectation is correct, but here the issue is in defining the b=
ehavior of UA for the following scenario.
I will rephrase the issue...Which value should the UAC and UAS take for SE =
and interval timer, when either of them is acting as refresher ? i.e.


 1.  UAC refresher, then SE and refresh time for UAC and SE value at UAS?
 2.  UAS refresher, then SE and refresh time for UAS and SE value at UAC?

Please consider the consistency of behavior incase there is a crossover of =
2xx of UPDATE and that of INVITE.

***************************************************************************=
************
This e-mail and attachments contain confidential information from HUAWEI, w=
hich is intended only for the person or entity whose address is listed abov=
e. Any use of the information contained herein in any way (including, but n=
ot limited to, total or partial disclosure, reproduction, or dissemination)=
 by persons other than the intended recipient's) is prohibited. If you rece=
ive this e-mail in error, please notify the sender by phone or email immedi=
ately and delete it!
________________________________
From: Brett Tate [mailto:brett@broadsoft.com]
Sent: Tuesday, May 18, 2010 6:10 PM
To: Harbhanu; sip@ietf.org
Subject: RE: [Sip] Reg. session timer+earlyupdate

The UAS is compliant; thus sending BYE (because think UAS is acting incorre=
ctly) is not correct behavior.  If the following is the section 9 snippet i=
n question, notice that the dialog's previously negotiated session-expires =
value has no relevance; the "MUST NOT" is associated the header received wi=
thin the request.  If you are referring to another "MUST NOT" (within this =
section or another), please send the paragraph.


"  If the UAS wishes to accept the request, it copies the value of the
   Session-Expires header field from the request into the 2xx response.

   The UAS response MAY reduce its value but MUST NOT set it to a

   duration lower than the value in the Min-SE header field in the

   request, if it is present; otherwise the UAS MAY reduce its value but

   MUST NOT set it to a duration lower than 90 seconds.  The UAS MUST

   NOT increase the value of the Session-Expires header field.
"

From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On Behalf Of Harbh=
anu
Sent: Tuesday, May 18, 2010 4:35 AM
To: sip@ietf.org
Subject: [Sip] Reg. session timer+earlyupdate

Hi,
We were unable to locate the specific behavior of session timer handling in=
 UA, for the following scenario:

1. UE1 --- INVITE SE-1800 --> UE2
2. UE1 <--- 183 ------------------ UE2

3. UE1 --- UPDATE SE-600 --> UE2
4. UE1 <--- 200 UPDATE -SE600 -- UE2

5. UE1 <--- 200 INVITE SE-1800 -- UE2

6. UE1 -------------------------  BYE --> UE2
7. UE1 <--- BYE 200 ------------------ UE2


Here, UE1 sends a BYE since UE2(UAS) has increased the value of session exp=
ires, which it MUST NOT (4028-Section-9, Page-16).

Please let me know whether this behaviour is correct or not.

Thanks in advance.

Regards,
Harbhanu

***************************************************************************=
***************************************************************************=
************************
This e-mail and attachments contain confidential information from HUAWEI, w=
hich is intended only for the person or entity whose address is listed abov=
e. Any use of the information contained herein in any way (including, but n=
ot limited to, total or partial disclosure, reproduction, or dissemination)=
 by persons other than the intended recipient's) is prohibited. If you rece=
ive this e-mail in error, please notify the sender by phone or email immedi=
ately and delete it!


--_000_747A6506A991724FB09B129B79D5FEB614815B6F3CEXMBXCLUS01ci_
Content-Type: text/html; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

<html xmlns:v=3D"urn:schemas-microsoft-com:vml" xmlns:o=3D"urn:schemas-micr=
osoft-com:office:office" xmlns:w=3D"urn:schemas-microsoft-com:office:word" =
xmlns:m=3D"http://schemas.microsoft.com/office/2004/12/omml" xmlns=3D"http:=
//www.w3.org/TR/REC-html40">

<head>
<meta http-equiv=3DContent-Type content=3D"text/html; charset=3Diso-8859-1"=
>
<meta name=3DGenerator content=3D"Microsoft Word 12 (filtered medium)">
<!--[if !mso]>
<style>
v\:* {behavior:url(#default#VML);}
o\:* {behavior:url(#default#VML);}
w\:* {behavior:url(#default#VML);}
.shape {behavior:url(#default#VML);}
</style>
<![endif]-->
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:Wingdings;
	panose-1:5 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Cambria Math";
	panose-1:2 4 5 3 5 4 6 3 2 4;}
@font-face
	{font-family:Calibri;
	panose-1:2 15 5 2 2 2 4 3 2 4;}
@font-face
	{font-family:Tahoma;
	panose-1:2 11 6 4 3 5 4 4 2 4;}
@font-face
	{font-family:Consolas;
	panose-1:2 11 6 9 2 2 4 3 2 4;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin:0in;
	margin-bottom:.0001pt;
	font-size:12.0pt;
	font-family:"Times New Roman","serif";}
a:link, span.MsoHyperlink
	{mso-style-priority:99;
	color:blue;
	text-decoration:underline;}
a:visited, span.MsoHyperlinkFollowed
	{mso-style-priority:99;
	color:purple;
	text-decoration:underline;}
pre
	{mso-style-priority:99;
	mso-style-link:"HTML Preformatted Char";
	margin:0in;
	margin-bottom:.0001pt;
	font-size:12.0pt;
	font-family:"Courier New";}
span.HTMLPreformattedChar
	{mso-style-name:"HTML Preformatted Char";
	mso-style-priority:99;
	mso-style-link:"HTML Preformatted";
	font-family:Consolas;}
span.htmlpreformattedchar0
	{mso-style-name:htmlpreformattedchar;
	mso-style-priority:99;
	font-family:"Courier New";}
span.EmailStyle20
	{mso-style-type:personal;
	font-family:"Arial","sans-serif";
	color:windowtext;}
span.EmailStyle21
	{mso-style-type:personal;
	font-family:"Arial","sans-serif";
	color:navy;}
span.EmailStyle22
	{mso-style-type:personal;
	font-family:"Calibri","sans-serif";
	color:#1F497D;}
span.EmailStyle23
	{mso-style-type:personal;
	font-family:"Arial","sans-serif";
	color:navy;}
span.EmailStyle24
	{mso-style-type:personal-reply;
	font-family:"Calibri","sans-serif";
	color:#1F497D;}
.MsoChpDefault
	{mso-style-type:export-only;
	font-size:10.0pt;}
@page Section1
	{size:8.5in 11.0in;
	margin:1.0in 1.25in 1.0in 1.25in;}
div.Section1
	{page:Section1;}
 /* List Definitions */
 @list l0
	{mso-list-id:339507927;
	mso-list-template-ids:-1353555606;}
@list l1
	{mso-list-id:1410074883;
	mso-list-type:hybrid;
	mso-list-template-ids:-1702223866 67698703 67698713 67698715 67698703 6769=
8713 67698715 67698703 67698713 67698715;}
@list l1:level1
	{mso-level-tab-stop:.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l1:level2
	{mso-level-tab-stop:1.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l1:level3
	{mso-level-tab-stop:1.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l1:level4
	{mso-level-tab-stop:2.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l1:level5
	{mso-level-tab-stop:2.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l1:level6
	{mso-level-tab-stop:3.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l1:level7
	{mso-level-tab-stop:3.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l1:level8
	{mso-level-tab-stop:4.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l1:level9
	{mso-level-tab-stop:4.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
ol
	{margin-bottom:0in;}
ul
	{margin-bottom:0in;}
-->
</style>
<!--[if gte mso 9]><xml>
 <o:shapedefaults v:ext=3D"edit" spidmax=3D"1029" />
</xml><![endif]--><!--[if gte mso 9]><xml>
 <o:shapelayout v:ext=3D"edit">
  <o:idmap v:ext=3D"edit" data=3D"1" />
 </o:shapelayout></xml><![endif]-->
</head>

<body lang=3DEN-US link=3Dblue vlink=3Dpurple>

<div class=3DSection1>

<p class=3DMsoNormal><span style=3D'font-size:11.0pt;font-family:"Calibri",=
"sans-serif";
color:#1F497D'>Similar to many other of SIP RFCs, RFC4028 has race conditio=
n
issues.=A0 Thus the UAC, UAS, and proxies might not be in agreement concern=
ing session-expires
value, activation, and/or refresher.<o:p></o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:11.0pt;font-family:"Calibri",=
"sans-serif";
color:#1F497D'><o:p>&nbsp;</o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:11.0pt;font-family:"Calibri",=
"sans-serif";
color:#1F497D'>Based upon RFC4028, it is basically the latest negotiated 2x=
x sent/received.=A0
Within the call flow provided, the INVITE 2xx&#8217;s Session-Expires value=
 is latest.=A0
However since there can be race conditions associated within UPDATE, UPDATE
2xx, and INVITE 2xx, the UAC, UAS, and proxies might not all be in agreemen=
t
concerning which 2xx was the latest.<o:p></o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:11.0pt;font-family:"Calibri",=
"sans-serif";
color:#1F497D'><o:p>&nbsp;</o:p></span></p>

<div style=3D'border:none;border-left:solid blue 1.5pt;padding:0in 0in 0in =
4.0pt'>

<div>

<div style=3D'border:none;border-top:solid #B5C4DF 1.0pt;padding:3.0pt 0in =
0in 0in'>

<p class=3DMsoNormal><b><span style=3D'font-size:10.0pt;font-family:"Tahoma=
","sans-serif"'>From:</span></b><span
style=3D'font-size:10.0pt;font-family:"Tahoma","sans-serif"'> Harbhanu
[mailto:harbhanu@huawei.com] <br>
<b>Sent:</b> Tuesday, May 18, 2010 9:44 AM<br>
<b>To:</b> Brett Tate; sip@ietf.org<br>
<b>Subject:</b> RE: [Sip] Reg. session timer+earlyupdate<o:p></o:p></span><=
/p>

</div>

</div>

<p class=3DMsoNormal><o:p>&nbsp;</o:p></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif";
color:navy'>May be your expectation is correct, but here the issue is in
defining the behavior of UA for the following scenario.<o:p></o:p></span></=
p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif";
color:navy'>I will rephrase the issue&#8230;Which value should the UAC and =
UAS
take for SE and interval timer, when either of them is acting as refresher =
?
i.e.<o:p></o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif";
color:navy'><o:p>&nbsp;</o:p></span></p>

<ol style=3D'margin-top:0in' start=3D1 type=3D1>
 <li class=3DMsoNormal style=3D'color:navy;mso-list:l1 level1 lfo3'><span
     style=3D'font-size:10.0pt;font-family:"Arial","sans-serif"'>UAC refres=
her,
     then SE and refresh time for UAC and SE value at UAS?<o:p></o:p></span=
></li>
 <li class=3DMsoNormal style=3D'color:navy;mso-list:l1 level1 lfo3'><span
     style=3D'font-size:10.0pt;font-family:"Arial","sans-serif"'>UAS refres=
her,
     then SE and refresh time for UAS and SE value at UAC?<o:p></o:p></span=
></li>
</ol>

<p class=3DMsoNormal style=3D'margin-left:.25in'><span style=3D'font-size:1=
0.0pt;
font-family:"Arial","sans-serif";color:navy'><o:p>&nbsp;</o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif";
color:navy'>Please consider the consistency of behavior incase there is a
crossover of 2xx of UPDATE and that of INVITE.<o:p></o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif";
color:navy'><o:p>&nbsp;</o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif";
color:navy'>***************************************************************=
************************<br>
This e-mail and attachments contain confidential information from HUAWEI, w=
hich
is intended only for the person or entity whose address is listed above. An=
y
use of the information contained herein in any way (including, but not limi=
ted
to, total or partial disclosure, reproduction, or dissemination) by persons
other than the intended recipient's) is prohibited. If you receive this e-m=
ail
in error, please notify the sender by phone or email immediately and delete=
 it!</span><o:p></o:p></p>

<div class=3DMsoNormal align=3Dcenter style=3D'text-align:center'>

<hr size=3D2 width=3D"100%" align=3Dcenter>

</div>

<p class=3DMsoNormal><b><span style=3D'font-size:10.0pt;font-family:"Tahoma=
","sans-serif"'>From:</span></b><span
style=3D'font-size:10.0pt;font-family:"Tahoma","sans-serif"'> Brett Tate [m=
ailto:brett@broadsoft.com]
<br>
<b>Sent:</b> Tuesday, May 18, 2010 6:10 PM<br>
<b>To:</b> Harbhanu; sip@ietf.org<br>
<b>Subject:</b> RE: [Sip] Reg. session timer+earlyupdate</span><o:p></o:p><=
/p>

<p class=3DMsoNormal><o:p>&nbsp;</o:p></p>

<p class=3DMsoNormal><!--[if gte vml 1]><v:shapetype id=3D"_x0000_t74" coor=
dsize=3D"21600,21600"=20
 o:spt=3D"74" path=3D"m10860,2187c10451,1746,9529,1018,9015,730,7865,152,66=
85,,5415,,4175,152,2995,575,1967,1305,1150,2187,575,3222,242,4220,,5410,242=
,6560,575,7597l10860,21600,20995,7597v485,-1037,605,-2187,485,-3377c21115,3=
222,20420,2187,19632,1305,18575,575,17425,152,16275,,15005,,13735,152,12705=
,730v-529,288,-1451,1016,-1845,1457xe">
 <v:stroke joinstyle=3D"miter" />
 <v:path gradientshapeok=3D"t" o:connecttype=3D"custom" o:connectlocs=3D"10=
860,2187;2928,10800;10860,21600;18672,10800"=20
  o:connectangles=3D"270,180,90,0" textboxrect=3D"5037,2277,16557,13677" />
</v:shapetype><v:shape id=3D"DtsShapeName" o:spid=3D"_x0000_s1026" type=3D"=
#_x0000_t74"=20
 alt=3D"E9@C79G56B3656169@50D2425@G15305083M2685A;3CMSORIUHQM0,BIHO@]i61816=
!!!!!!!!!!1113308@D@E@EOnsl`m/enu!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!1!1"=20
 style=3D'position:absolute;margin-left:0;margin-top:0;width:.05pt;height:.=
05pt;
 z-index:251656704;visibility:hidden'>
 <w:anchorlock/>
</v:shape><![endif]--><span style=3D'font-size:11.0pt;font-family:"Calibri"=
,"sans-serif";
color:#1F497D'>The UAS is compliant; thus sending BYE (because think UAS is
acting incorrectly) is not correct behavior.&nbsp; If the following is the
section 9 snippet in question, notice that the dialog&#8217;s previously
negotiated session-expires value has no relevance; the &#8220;MUST NOT&#822=
1;
is associated the header received within the request.&nbsp; If you are
referring to another &#8220;MUST NOT&#8221; (within this section or another=
),
please send the paragraph.<o:p></o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:11.0pt;font-family:"Calibri",=
"sans-serif";
color:#1F497D'><o:p>&nbsp;</o:p></span></p>

<pre style=3D'page-break-before:always'><span style=3D'font-size:11.0pt;fon=
t-family:
"Calibri","sans-serif";color:#1F497D'>&#8220;</span><span lang=3DEN
style=3D'font-size:10.0pt'>&nbsp; If the UAS wishes to accept the request, =
it copies the value of the<o:p></o:p></span></pre>

<p class=3DMsoNormal style=3D'page-break-before:always'><span lang=3DEN
style=3D'font-size:10.0pt;font-family:"Courier New"'>&nbsp;&nbsp; Session-E=
xpires
header field from the request into the 2xx response.<o:p></o:p></span></p>

<pre style=3D'page-break-before:always'><span lang=3DEN style=3D'font-size:=
10.0pt'>&nbsp;&nbsp; The UAS response MAY reduce its value but MUST NOT set=
 it to a<o:p></o:p></span></pre><pre
style=3D'page-break-before:always'><span lang=3DEN style=3D'font-size:10.0p=
t'>&nbsp;&nbsp; duration lower than the value in the Min-SE header field in=
 the<o:p></o:p></span></pre><pre
style=3D'page-break-before:always'><span lang=3DEN style=3D'font-size:10.0p=
t'>&nbsp;&nbsp; request, if it is present; otherwise the UAS MAY reduce its=
 value but<o:p></o:p></span></pre><pre
style=3D'page-break-before:always'><span lang=3DEN style=3D'font-size:10.0p=
t'>&nbsp;&nbsp; MUST NOT set it to a duration lower than 90 seconds.&nbsp; =
The UAS MUST<o:p></o:p></span></pre><pre
style=3D'page-break-before:always'><span lang=3DEN style=3D'font-size:10.0p=
t'>&nbsp;&nbsp; NOT increase the value of the Session-Expires header field.=
<o:p></o:p></span></pre>

<p class=3DMsoNormal><span style=3D'font-size:11.0pt;font-family:"Calibri",=
"sans-serif";
color:#1F497D'>&#8221;<o:p></o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:11.0pt;font-family:"Calibri",=
"sans-serif";
color:#1F497D'><o:p>&nbsp;</o:p></span></p>

<div style=3D'border:none;border-left:solid blue 1.5pt;padding:0in 0in 0in =
4.0pt'>

<div>

<div style=3D'border:none;border-top:solid #B5C4DF 1.0pt;padding:3.0pt 0in =
0in 0in'>

<p class=3DMsoNormal><b><span style=3D'font-size:10.0pt;font-family:"Tahoma=
","sans-serif"'>From:</span></b><span
style=3D'font-size:10.0pt;font-family:"Tahoma","sans-serif"'>
sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] <b>On Behalf Of </b>Harb=
hanu<br>
<b>Sent:</b> Tuesday, May 18, 2010 4:35 AM<br>
<b>To:</b> sip@ietf.org<br>
<b>Subject:</b> [Sip] Reg. session timer+earlyupdate<o:p></o:p></span></p>

</div>

</div>

<p class=3DMsoNormal><o:p>&nbsp;</o:p></p>

<p class=3DMsoNormal><!--[if gte vml 1]><v:shape id=3D"_x0000_s1028" type=
=3D"#_x0000_t74"=20
 alt=3D"E9@C79G56B3656169@50D2425@G15305083M2685A;3CMSORIUHQM0,BIHO@]i61816=
!!!!!!!!!!1113308@D@E@EOnsl`m/enu!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!1!1"=20
 style=3D'position:absolute;margin-left:0;margin-top:0;width:.05pt;height:.=
05pt;
 z-index:251657728;visibility:hidden'>
 <w:anchorlock/>
</v:shape><![endif]--><span style=3D'font-size:10.0pt;font-family:"Arial","=
sans-serif"'>Hi,<o:p></o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif"'>We
were unable to locate the specific behavior of session timer handling in<sp=
an
style=3D'color:navy'> </span>UA, for the following scenario:<o:p></o:p></sp=
an></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif"'><o:p>&nbsp;</o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif"'>1.
UE1 --- INVITE SE-1800 </span><span style=3D'font-size:10.0pt;font-family:W=
ingdings'>=E0</span><span
style=3D'font-size:10.0pt;font-family:"Arial","sans-serif"'> UE2<o:p></o:p>=
</span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif"'>2.
UE1 &lt;--- 183 ------------------ UE2<o:p></o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif"'><o:p>&nbsp;</o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif"'>3.
UE1 --- UPDATE SE-600 </span><span style=3D'font-size:10.0pt;font-family:Wi=
ngdings'>=E0</span><span
style=3D'font-size:10.0pt;font-family:"Arial","sans-serif"'> UE2<o:p></o:p>=
</span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif"'>4.
UE1 &lt;--- 200 UPDATE -SE600 -- UE2<o:p></o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif"'><o:p>&nbsp;</o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif"'>5.
UE1 &lt;--- 200 INVITE SE-1800 -- UE2<o:p></o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif"'><o:p>&nbsp;</o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif"'>6.
UE1 ------------------------- &nbsp;BYE </span><span style=3D'font-size:10.=
0pt;
font-family:Wingdings'>=E0</span><span style=3D'font-size:10.0pt;font-famil=
y:"Arial","sans-serif"'>
UE2<o:p></o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif"'>7.
UE1 &lt;--- BYE 200 ------------------ UE2<o:p></o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif"'><o:p>&nbsp;</o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif"'><o:p>&nbsp;</o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif"'>Here,
UE1 sends a BYE since UE2(UAS) has increased the value of session expires,
which it MUST NOT (4028-Section-9, Page-16).<o:p></o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif"'><o:p>&nbsp;</o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif"'>Please
let me know whether this behaviour is correct or not.<o:p></o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif"'><o:p>&nbsp;</o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif"'>Thanks
in advance.<o:p></o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif"'><o:p>&nbsp;</o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif"'>Regards,<o:p></o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif"'>Harbhanu<o:p></o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif"'><o:p>&nbsp;</o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif"'>***************************************************************=
***************************************************************************=
************************************<br>
This e-mail and attachments contain confidential information from HUAWEI, w=
hich
is intended only for the person or entity whose address is listed above. An=
y
use of the information contained herein in any way (including, but not limi=
ted to,
total or partial disclosure, reproduction, or dissemination) by persons oth=
er
than the intended recipient's) is prohibited. If you receive this e-mail in
error, please notify the sender by phone or email immediately and delete it=
!</span><!--[if gte vml 1]><v:shape=20
 id=3D"_x0000_s1027" type=3D"#_x0000_t74" alt=3D"E9@C79G56B3656169@50D2425@=
G15305083M2685A;3CMSORIUHQM0,BIHO@]i61816!!!!!!!!!!1113308@D@E@EOnsl`m/enu!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!1!1"=20
 style=3D'position:absolute;margin-left:0;margin-top:0;width:.05pt;height:.=
05pt;
 z-index:251658752;visibility:hidden;mso-position-horizontal-relative:text;
 mso-position-vertical-relative:text'>
 <w:anchorlock/>
</v:shape><![endif]--><o:p></o:p></p>

<p class=3DMsoNormal><o:p>&nbsp;</o:p></p>

</div>

</div>

</div>

</body>

</html>

--_000_747A6506A991724FB09B129B79D5FEB614815B6F3CEXMBXCLUS01ci_--

From kpfleming@digium.com  Wed May 19 09:28:32 2010
Return-Path: <kpfleming@digium.com>
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1]) by core3.amsl.com (Postfix) with ESMTP id 401B43A692D for <sip@core3.amsl.com>; Wed, 19 May 2010 09:28:32 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -104.383
X-Spam-Level: 
X-Spam-Status: No, score=-104.383 tagged_above=-999 required=5 tests=[AWL=-0.384, BAYES_50=0.001, RCVD_IN_DNSWL_MED=-4, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32]) by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024) with ESMTP id pG089tOm9DWM for <sip@core3.amsl.com>; Wed, 19 May 2010 09:28:31 -0700 (PDT)
Received: from mail.digium.com (mail.digium.com [216.207.245.2]) by core3.amsl.com (Postfix) with ESMTP id 69D303A6A46 for <sip@ietf.org>; Wed, 19 May 2010 09:28:25 -0700 (PDT)
Received: from zimbra.digium.internal ([10.24.55.203] helo=zimbra.hsv.digium.com) by mail.digium.com with esmtp (Exim 4.69) (envelope-from <kpfleming@digium.com>) id 1OEm81-0005yy-KL for sip@ietf.org; Wed, 19 May 2010 11:28:17 -0500
Received: from localhost (localhost.localdomain [127.0.0.1]) by zimbra.hsv.digium.com (Postfix) with ESMTP id 9518CD8025 for <sip@ietf.org>; Wed, 19 May 2010 11:28:17 -0500 (CDT)
Received: from zimbra.hsv.digium.com ([127.0.0.1]) by localhost (zimbra.hsv.digium.com [127.0.0.1]) (amavisd-new, port 10024) with ESMTP id Xmmjyg0R69+V for <sip@ietf.org>; Wed, 19 May 2010 11:28:17 -0500 (CDT)
Received: from [10.24.250.46] (unknown [10.24.250.46]) by zimbra.hsv.digium.com (Postfix) with ESMTPSA id 1DF30D8023 for <sip@ietf.org>; Wed, 19 May 2010 11:28:17 -0500 (CDT)
Message-ID: <4BF411A0.10503@digium.com>
Date: Wed, 19 May 2010 11:28:16 -0500
From: "Kevin P. Fleming" <kpfleming@digium.com>
Organization: Digium, Inc.
User-Agent: Mozilla/5.0 (X11; U; Linux x86_64; en-US; rv:1.9.1.9) Gecko/20100423 Thunderbird/3.0.4
MIME-Version: 1.0
To: sip@ietf.org
References: <0C4DE8BD80D149D2BC3D940CA05CE74F@china.huawei.com>	<747A6506A991724FB09B129B79D5FEB614815B6E27@EXMBXCLUS01.citservers.local> <CC7B5CD68EBD4D7DB2CB888E9B55334D@china.huawei.com>
In-Reply-To: <CC7B5CD68EBD4D7DB2CB888E9B55334D@china.huawei.com>
X-Enigmail-Version: 1.0.1
OpenPGP: id=05FB8DB2
Content-Type: text/plain; charset=windows-1252
Content-Transfer-Encoding: quoted-printable
Subject: Re: [Sip] Reg. refresher param in 2xx response
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>, <mailto:sip-request@ietf.org?subject=unsubscribe>
List-Archive: <http://www.ietf.org/mail-archive/web/sip>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>, <mailto:sip-request@ietf.org?subject=subscribe>
X-List-Received-Date: Wed, 19 May 2010 16:28:32 -0000

On 05/18/2010 09:08 AM, Harbhanu wrote:
> Precisely, IMO too RFC doesn=92t specify UAC behavior for this situatio=
n.

That is generally the case; RFCs can't possibly define how an
implementation should behave when interacting with a non-conforming
implementation, because there are an infinite number of ways to be
non-conformant.

--=20
Kevin P. Fleming
Digium, Inc. | Director of Software Technologies
445 Jan Davis Drive NW - Huntsville, AL 35806 - USA
skype: kpfleming | jabber: kfleming@digium.com
Check us out at www.digium.com & www.asterisk.org

From wwwrun@rfc-editor.org  Wed May 19 17:54:07 2010
Return-Path: <wwwrun@rfc-editor.org>
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1]) by core3.amsl.com (Postfix) with ESMTP id 3177C3A6ADD; Wed, 19 May 2010 17:54:07 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -1.75
X-Spam-Level: 
X-Spam-Status: No, score=-1.75 tagged_above=-999 required=5 tests=[AWL=0.250,  BAYES_00=-2.599, J_CHICKENPOX_93=0.6, NO_RELAYS=-0.001]
Received: from mail.ietf.org ([64.170.98.32]) by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024) with ESMTP id px7vl0IKAz01; Wed, 19 May 2010 17:54:06 -0700 (PDT)
Received: from rfc-editor.org (rfc-editor.org [IPv6:2001:1890:1112:1::2f]) by core3.amsl.com (Postfix) with ESMTP id 44A923A6A63; Wed, 19 May 2010 17:54:06 -0700 (PDT)
Received: by rfc-editor.org (Postfix, from userid 30) id DB9FEE068B; Wed, 19 May 2010 17:53:59 -0700 (PDT)
To: ietf-announce@ietf.org, rfc-dist@rfc-editor.org
From: rfc-editor@rfc-editor.org
Message-Id: <20100520005359.DB9FEE068B@rfc-editor.org>
Date: Wed, 19 May 2010 17:53:59 -0700 (PDT)
Cc: sip@ietf.org, rfc-editor@rfc-editor.org
Subject: [Sip] RFC 5875 on An Extensible Markup Language (XML) Configuration Access Protocol (XCAP) Diff Event Package
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>, <mailto:sip-request@ietf.org?subject=unsubscribe>
List-Archive: <http://www.ietf.org/mail-archive/web/sip>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>, <mailto:sip-request@ietf.org?subject=subscribe>
X-List-Received-Date: Thu, 20 May 2010 00:54:07 -0000

A new Request for Comments is now available in online RFC libraries.

        
        RFC 5875

        Title:      An Extensible Markup Language (XML) 
                    Configuration Access Protocol (XCAP) Diff Event 
                    Package 
        Author:     J. Urpalainen, D. Willis,
                    Ed.
        Status:     Standards Track
        Stream:     IETF
        Date:       May 2010
        Mailbox:    jari.urpalainen@nokia.com, 
                    dean.willis@softarmor.com
        Pages:      27
        Characters: 58307
        Updates/Obsoletes/SeeAlso:   None

        I-D Tag:    draft-ietf-sip-xcapevent-08.txt

        URL:        http://www.rfc-editor.org/rfc/rfc5875.txt

This document describes an "xcap-diff" SIP (Session Initiation
Protocol) event package for the SIP Event Notification Framework,
which clients can use to receive notifications of changes to
Extensible Markup Language (XML) Configuration Access Protocol (XCAP)
resources.  The initial synchronization information exchange and
document updates are based on the XCAP Diff format.  [STANDARDS
TRACK]

This document is a product of the Session Initiation Protocol Working Group of the IETF.

This is now a Proposed Standard Protocol.

STANDARDS TRACK: This document specifies an Internet standards track
protocol for the Internet community,and requests discussion and suggestions
for improvements.  Please refer to the current edition of the Internet
Official Protocol Standards (STD 1) for the standardization state and
status of this protocol.  Distribution of this memo is unlimited.

This announcement is sent to the IETF-Announce and rfc-dist lists.
To subscribe or unsubscribe, see
  http://www.ietf.org/mailman/listinfo/ietf-announce
  http://mailman.rfc-editor.org/mailman/listinfo/rfc-dist

For searching the RFC series, see http://www.rfc-editor.org/rfcsearch.html.
For downloading RFCs, see http://www.rfc-editor.org/rfc.html.

Requests for special distribution should be addressed to either the
author of the RFC in question, or to rfc-editor@rfc-editor.org.  Unless
specifically noted otherwise on the RFC itself, all RFCs are for
unlimited distribution.


The RFC Editor Team
Association Management Solutions, LLC



From brett@broadsoft.com  Fri May 21 12:17:49 2010
Return-Path: <brett@broadsoft.com>
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1]) by core3.amsl.com (Postfix) with ESMTP id 974D13A6886 for <sip@core3.amsl.com>; Fri, 21 May 2010 12:17:49 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -0.922
X-Spam-Level: 
X-Spam-Status: No, score=-0.922 tagged_above=-999 required=5 tests=[AWL=-0.924, BAYES_50=0.001, HTML_MESSAGE=0.001]
Received: from mail.ietf.org ([64.170.98.32]) by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024) with ESMTP id z+CclVR+QArP for <sip@core3.amsl.com>; Fri, 21 May 2010 12:17:37 -0700 (PDT)
Received: from smtp-out01.seaservers.net (smtp-out01.seaservers.net [72.37.232.66]) by core3.amsl.com (Postfix) with ESMTP id 051E228C34D for <sip@ietf.org>; Fri, 21 May 2010 09:54:16 -0700 (PDT)
Received: from EXMBXCLUS01.citservers.local ([fe80::a488:d1ec:a706:3a6d]) by CASUMHUB02.citservers.local ([::1]) with mapi; Fri, 21 May 2010 09:54:10 -0700
From: Brett Tate <brett@broadsoft.com>
To: Harbhanu <harbhanu@huawei.com>, "sip@ietf.org" <sip@ietf.org>
Date: Fri, 21 May 2010 09:53:07 -0700
Thread-Topic: [Sip] Reg. session timer+earlyupdate
Thread-Index: Acr1g4osur4vNccuTTiDg5e8TTaePQA4TWWwAAcXMZAAA3O3gAAAppygAJZUqSAABddToA==
Message-ID: <747A6506A991724FB09B129B79D5FEB61481641ABB@EXMBXCLUS01.citservers.local>
References: <CD39FCAB00D54E869CC60E16B58BFAAE@china.huawei.com> <747A6506A991724FB09B129B79D5FEB614815B6E3D@EXMBXCLUS01.citservers.local> <80A4862FA0D64E62A9EDF26CA4FC1499@china.huawei.com> <747A6506A991724FB09B129B79D5FEB614815B6F3C@EXMBXCLUS01.citservers.local> <1C2171A5980844C680F14EF95FD22DA2@china.huawei.com>
In-Reply-To: <1C2171A5980844C680F14EF95FD22DA2@china.huawei.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
acceptlanguage: en-US
Content-Type: multipart/alternative; boundary="_000_747A6506A991724FB09B129B79D5FEB61481641ABBEXMBXCLUS01ci_"
MIME-Version: 1.0
Cc: "Gonzalo.Camarillo@ericsson.com" <Gonzalo.Camarillo@ericsson.com>, "Christer.Holmberg@ericsson.com" <Christer.Holmberg@ericsson.com>
Subject: Re: [Sip] Reg. session timer+earlyupdate
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>, <mailto:sip-request@ietf.org?subject=unsubscribe>
List-Archive: <http://www.ietf.org/mail-archive/web/sip>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>, <mailto:sip-request@ietf.org?subject=subscribe>
X-List-Received-Date: Fri, 21 May 2010 19:17:49 -0000

--_000_747A6506A991724FB09B129B79D5FEB61481641ABBEXMBXCLUS01ci_
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Yes; draft-ieff-sipcore-reinvite-03.txt attempts to address some of the iss=
ues.  My favorite is the sections 3.5/4.5 text indicating to treat (from a =
glare perspective) UPDATE without SDP as though it contained an offer.  Thu=
s if I understand correctly, an UPDATE without SDP SHOULD trigger 491 if st=
ep 1 contained offer SDP and step 3 was sent from UE2 to UE1.

Concerning your example (assuming step 1 contained offer SDP), I currently =
find the draft to be ambiguous concerning sending 491, 500, or 200.  The am=
biguity relates to not having a precise definition of glare and some vendor=
s preferring to send 491 instead of 500.

Concerning your example... yes; the UPDATE 2xx is allowed (even though pote=
ntially not following a SHOULD).  However at step 4, session-expires 600 be=
comes active; and at step 5 session-expires 1800 becomes active.

From: Harbhanu [mailto:harbhanu@huawei.com]
Sent: Friday, May 21, 2010 10:07 AM
To: Brett Tate; sip@ietf.org
Cc: Gonzalo.Camarillo@ericsson.com; Christer.Holmberg@ericsson.com; gao.yan=
g2@zte.com.cn
Subject: RE: [Sip] Reg. session timer+earlyupdate

Hi Brett,
I just came across an interesting draft in this regard - draft-ieff-sipcore=
-reinvite-03.txt. Please refer.
IMO this does attempt to address a lot of UPDATE-[re-]INVITE pain areas ...

1. UE1 --- INVITE SE-1800 --> UE2
2. UE1 <--- 183 ------------------ UE2

3. UE1 --- UPDATE SE-600 --> UE2
4. UE1 <--- 200 UPDATE -SE600 -- UE2

5. UE1 <--- 200 INVITE SE-1800 -- UE2

AFAICU, as per this draft the UAS will take care of sending -
1. Either 2xx of INVITE and wait till its ACK for sending success response =
of UPDATE & might also send a 409...
2. Or 2xx of UPDATE before sending 2xx of INVITE.
Similarly, UAC also do have clearly defined expectations ...

That said, the UPDATE -2xx here is absolutely allowed and so does the INV 2=
xx...
Although not explicitly specified in this draft, but for the given scenario=
 both UAC and UAS SHOULD run timer with value 600. Atleast UAC MUST.

Please correct me, if I am wrong. Thanks!

Authors of draft-ieff-sipcore-reinvite-03.txt: IMO this draft can consider =
this glare scenario as well, i.e. session timer, to make it more a comprehe=
nsive text.
Excellent effort anyways!!


Regards,
Harbhanu
***************************************************************************=
***************************************************************************=
*************************************
This e-mail and attachments contain confidential information from HUAWEI, w=
hich is intended only for the person or entity whose address is listed abov=
e. Any use of the information contained herein in any way (including, but n=
ot limited to, total or partial disclosure, reproduction, or dissemination)=
 by persons other than the intended recipient's) is prohibited. If you rece=
ive this e-mail in error, please notify the sender by phone or email immedi=
ately and delete it!
________________________________
From: Brett Tate [mailto:brett@broadsoft.com]
Sent: Tuesday, May 18, 2010 7:49 PM
To: Harbhanu; sip@ietf.org
Subject: RE: [Sip] Reg. session timer+earlyupdate

Similar to many other of SIP RFCs, RFC4028 has race condition issues.  Thus=
 the UAC, UAS, and proxies might not be in agreement concerning session-exp=
ires value, activation, and/or refresher.

Based upon RFC4028, it is basically the latest negotiated 2xx sent/received=
.  Within the call flow provided, the INVITE 2xx's Session-Expires value is=
 latest.  However since there can be race conditions associated within UPDA=
TE, UPDATE 2xx, and INVITE 2xx, the UAC, UAS, and proxies might not all be =
in agreement concerning which 2xx was the latest.

From: Harbhanu [mailto:harbhanu@huawei.com]
Sent: Tuesday, May 18, 2010 9:44 AM
To: Brett Tate; sip@ietf.org
Subject: RE: [Sip] Reg. session timer+earlyupdate

May be your expectation is correct, but here the issue is in defining the b=
ehavior of UA for the following scenario.
I will rephrase the issue...Which value should the UAC and UAS take for SE =
and interval timer, when either of them is acting as refresher ? i.e.


 1.  UAC refresher, then SE and refresh time for UAC and SE value at UAS?
 2.  UAS refresher, then SE and refresh time for UAS and SE value at UAC?

Please consider the consistency of behavior incase there is a crossover of =
2xx of UPDATE and that of INVITE.

***************************************************************************=
************
This e-mail and attachments contain confidential information from HUAWEI, w=
hich is intended only for the person or entity whose address is listed abov=
e. Any use of the information contained herein in any way (including, but n=
ot limited to, total or partial disclosure, reproduction, or dissemination)=
 by persons other than the intended recipient's) is prohibited. If you rece=
ive this e-mail in error, please notify the sender by phone or email immedi=
ately and delete it!
________________________________
From: Brett Tate [mailto:brett@broadsoft.com]
Sent: Tuesday, May 18, 2010 6:10 PM
To: Harbhanu; sip@ietf.org
Subject: RE: [Sip] Reg. session timer+earlyupdate

The UAS is compliant; thus sending BYE (because think UAS is acting incorre=
ctly) is not correct behavior.  If the following is the section 9 snippet i=
n question, notice that the dialog's previously negotiated session-expires =
value has no relevance; the "MUST NOT" is associated the header received wi=
thin the request.  If you are referring to another "MUST NOT" (within this =
section or another), please send the paragraph.


"  If the UAS wishes to accept the request, it copies the value of the
   Session-Expires header field from the request into the 2xx response.

   The UAS response MAY reduce its value but MUST NOT set it to a

   duration lower than the value in the Min-SE header field in the

   request, if it is present; otherwise the UAS MAY reduce its value but

   MUST NOT set it to a duration lower than 90 seconds.  The UAS MUST

   NOT increase the value of the Session-Expires header field.
"

From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On Behalf Of Harbh=
anu
Sent: Tuesday, May 18, 2010 4:35 AM
To: sip@ietf.org
Subject: [Sip] Reg. session timer+earlyupdate

Hi,
We were unable to locate the specific behavior of session timer handling in=
 UA, for the following scenario:

1. UE1 --- INVITE SE-1800 --> UE2
2. UE1 <--- 183 ------------------ UE2

3. UE1 --- UPDATE SE-600 --> UE2
4. UE1 <--- 200 UPDATE -SE600 -- UE2

5. UE1 <--- 200 INVITE SE-1800 -- UE2

6. UE1 -------------------------  BYE --> UE2
7. UE1 <--- BYE 200 ------------------ UE2


Here, UE1 sends a BYE since UE2(UAS) has increased the value of session exp=
ires, which it MUST NOT (4028-Section-9, Page-16).

Please let me know whether this behaviour is correct or not.

Thanks in advance.

Regards,
Harbhanu



--_000_747A6506A991724FB09B129B79D5FEB61481641ABBEXMBXCLUS01ci_
Content-Type: text/html; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

<html xmlns:v=3D"urn:schemas-microsoft-com:vml" xmlns:o=3D"urn:schemas-micr=
osoft-com:office:office" xmlns:w=3D"urn:schemas-microsoft-com:office:word" =
xmlns:m=3D"http://schemas.microsoft.com/office/2004/12/omml" xmlns=3D"http:=
//www.w3.org/TR/REC-html40">

<head>
<meta http-equiv=3DContent-Type content=3D"text/html; charset=3Diso-8859-1"=
>
<meta name=3DGenerator content=3D"Microsoft Word 12 (filtered medium)">
<!--[if !mso]>
<style>
v\:* {behavior:url(#default#VML);}
o\:* {behavior:url(#default#VML);}
w\:* {behavior:url(#default#VML);}
.shape {behavior:url(#default#VML);}
</style>
<![endif]-->
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:Wingdings;
	panose-1:5 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Cambria Math";
	panose-1:2 4 5 3 5 4 6 3 2 4;}
@font-face
	{font-family:Calibri;
	panose-1:2 15 5 2 2 2 4 3 2 4;}
@font-face
	{font-family:Tahoma;
	panose-1:2 11 6 4 3 5 4 4 2 4;}
@font-face
	{font-family:Consolas;
	panose-1:2 11 6 9 2 2 4 3 2 4;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin:0in;
	margin-bottom:.0001pt;
	font-size:12.0pt;
	font-family:"Times New Roman","serif";}
a:link, span.MsoHyperlink
	{mso-style-priority:99;
	color:blue;
	text-decoration:underline;}
a:visited, span.MsoHyperlinkFollowed
	{mso-style-priority:99;
	color:purple;
	text-decoration:underline;}
pre
	{mso-style-priority:99;
	mso-style-link:"HTML Preformatted Char";
	margin:0in;
	margin-bottom:.0001pt;
	font-size:12.0pt;
	font-family:"Courier New";}
span.HTMLPreformattedChar
	{mso-style-name:"HTML Preformatted Char";
	mso-style-priority:99;
	mso-style-link:"HTML Preformatted";
	font-family:Consolas;}
span.htmlpreformattedchar0
	{mso-style-name:htmlpreformattedchar;
	mso-style-priority:99;
	font-family:Consolas;}
span.htmlpreformattedchar00
	{mso-style-name:htmlpreformattedchar0;
	mso-style-priority:99;
	font-family:"Courier New";}
span.EmailStyle21
	{mso-style-type:personal;
	font-family:"Arial","sans-serif";
	color:windowtext;}
span.EmailStyle22
	{mso-style-type:personal;
	font-family:"Arial","sans-serif";
	color:navy;}
span.EmailStyle23
	{mso-style-type:personal;
	font-family:"Calibri","sans-serif";
	color:#1F497D;}
span.EmailStyle24
	{mso-style-type:personal;
	font-family:"Arial","sans-serif";
	color:navy;}
span.EmailStyle25
	{mso-style-type:personal;
	font-family:"Calibri","sans-serif";
	color:#1F497D;}
span.EmailStyle26
	{mso-style-type:personal;
	font-family:"Arial","sans-serif";
	color:navy;}
span.EmailStyle27
	{mso-style-type:personal-reply;
	font-family:"Calibri","sans-serif";
	color:#1F497D;}
.MsoChpDefault
	{mso-style-type:export-only;
	font-size:10.0pt;}
@page Section1
	{size:8.5in 11.0in;
	margin:1.0in 1.25in 1.0in 1.25in;}
div.Section1
	{page:Section1;}
 /* List Definitions */
 @list l0
	{mso-list-id:1353190890;
	mso-list-template-ids:342376408;}
@list l1
	{mso-list-id:1410074883;
	mso-list-type:hybrid;
	mso-list-template-ids:-1702223866 67698703 67698713 67698715 67698703 6769=
8713 67698715 67698703 67698713 67698715;}
@list l1:level1
	{mso-level-tab-stop:.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l1:level2
	{mso-level-tab-stop:1.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l1:level3
	{mso-level-tab-stop:1.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l1:level4
	{mso-level-tab-stop:2.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l1:level5
	{mso-level-tab-stop:2.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l1:level6
	{mso-level-tab-stop:3.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l1:level7
	{mso-level-tab-stop:3.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l1:level8
	{mso-level-tab-stop:4.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l1:level9
	{mso-level-tab-stop:4.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
ol
	{margin-bottom:0in;}
ul
	{margin-bottom:0in;}
-->
</style>
<!--[if gte mso 9]><xml>
 <o:shapedefaults v:ext=3D"edit" spidmax=3D"1030" />
</xml><![endif]--><!--[if gte mso 9]><xml>
 <o:shapelayout v:ext=3D"edit">
  <o:idmap v:ext=3D"edit" data=3D"1" />
 </o:shapelayout></xml><![endif]-->
</head>

<body lang=3DEN-US link=3Dblue vlink=3Dpurple>

<div class=3DSection1>

<p class=3DMsoNormal><span style=3D'font-size:11.0pt;font-family:"Calibri",=
"sans-serif";
color:#1F497D'>Yes; </span><span style=3D'font-size:10.0pt;font-family:"Ari=
al","sans-serif";
color:navy'>draft-ieff-sipcore-reinvite-03.txt attempts to address some of =
the
issues.=A0 My favorite is the sections 3.5/4.5 text indicating to treat (fr=
om a
glare perspective) UPDATE without SDP as though it contained an offer.=A0 T=
hus if
I understand correctly, an UPDATE without SDP SHOULD trigger 491 if step 1
contained offer SDP and step 3 was sent from UE2 to UE1.<o:p></o:p></span><=
/p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif";
color:navy'><o:p>&nbsp;</o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif";
color:navy'>Concerning your example (assuming step 1 contained offer SDP), =
I currently
find the draft to be ambiguous concerning sending 491, 500, or 200.=A0 The
ambiguity relates to not having a precise definition of glare and some vend=
ors preferring
to send 491 instead of 500.<o:p></o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif";
color:navy'><o:p>&nbsp;</o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif";
color:navy'>Concerning your example... yes; the UPDATE 2xx is allowed (even
though potentially not following a SHOULD).=A0 However at step 4, session-e=
xpires
600 becomes active; and at step 5 session-expires 1800 becomes active.</spa=
n><span
style=3D'font-size:11.0pt;font-family:"Calibri","sans-serif";color:#1F497D'=
><o:p></o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:11.0pt;font-family:"Calibri",=
"sans-serif";
color:#1F497D'><o:p>&nbsp;</o:p></span></p>

<div style=3D'border:none;border-left:solid blue 1.5pt;padding:0in 0in 0in =
4.0pt'>

<div>

<div style=3D'border:none;border-top:solid #B5C4DF 1.0pt;padding:3.0pt 0in =
0in 0in'>

<p class=3DMsoNormal><b><span style=3D'font-size:10.0pt;font-family:"Tahoma=
","sans-serif"'>From:</span></b><span
style=3D'font-size:10.0pt;font-family:"Tahoma","sans-serif"'> Harbhanu
[mailto:harbhanu@huawei.com] <br>
<b>Sent:</b> Friday, May 21, 2010 10:07 AM<br>
<b>To:</b> Brett Tate; sip@ietf.org<br>
<b>Cc:</b> Gonzalo.Camarillo@ericsson.com; Christer.Holmberg@ericsson.com;
gao.yang2@zte.com.cn<br>
<b>Subject:</b> RE: [Sip] Reg. session timer+earlyupdate<o:p></o:p></span><=
/p>

</div>

</div>

<p class=3DMsoNormal><o:p>&nbsp;</o:p></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif";
color:navy'>Hi Brett,<o:p></o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif";
color:navy'>I just came across an interesting draft in this regard &#8211;
draft-ieff-sipcore-reinvite-03.txt. Please refer.<o:p></o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif";
color:navy'>IMO this does attempt to address a lot of UPDATE-[re-]INVITE pa=
in
areas &#8230; <o:p></o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif";
color:navy'><o:p>&nbsp;</o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif"'>1.
UE1 --- INVITE SE-1800 </span><span style=3D'font-size:10.0pt;font-family:W=
ingdings'>=E0</span><span
style=3D'font-size:10.0pt;font-family:"Arial","sans-serif"'> UE2<o:p></o:p>=
</span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif"'>2.
UE1 &lt;--- 183 ------------------ UE2<o:p></o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif"'><o:p>&nbsp;</o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif"'>3.
UE1 --- UPDATE SE-600 </span><span style=3D'font-size:10.0pt;font-family:Wi=
ngdings'>=E0</span><span
style=3D'font-size:10.0pt;font-family:"Arial","sans-serif"'> UE2<o:p></o:p>=
</span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif"'>4.
UE1 &lt;--- 200 UPDATE -SE600 -- UE2<o:p></o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif"'><o:p>&nbsp;</o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif"'>5.
UE1 &lt;--- 200 INVITE SE-1800 -- UE2<o:p></o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif";
color:navy'>&nbsp;<o:p></o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif";
color:navy'>AFAICU, as per this draft the UAS will take care of sending -<o=
:p></o:p></span></p>

<p class=3DMsoNormal style=3D'text-indent:.5in'><span style=3D'font-size:10=
.0pt;
font-family:"Arial","sans-serif";color:navy'>1. Either 2xx of INVITE and wa=
it
till its ACK for sending success response of UPDATE &amp; might also send a
409&#8230; <o:p></o:p></span></p>

<p class=3DMsoNormal style=3D'text-indent:.5in'><span style=3D'font-size:10=
.0pt;
font-family:"Arial","sans-serif";color:navy'>2. Or 2xx of UPDATE before sen=
ding
2xx of INVITE.<o:p></o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif";
color:navy'>Similarly, UAC also do have clearly defined expectations &#8230=
;<o:p></o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif";
color:navy'><o:p>&nbsp;</o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif";
color:navy'>That said, the UPDATE -2xx here is absolutely allowed and so do=
es
the INV 2xx&#8230;<o:p></o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif";
color:navy'>Although not explicitly specified in this draft, but for the gi=
ven
scenario both UAC and UAS SHOULD run timer with value 600. Atleast UAC MUST=
.<o:p></o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif";
color:navy'><o:p>&nbsp;</o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif";
color:navy'>Please correct me, if I am wrong. Thanks!<o:p></o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif";
color:navy'><o:p>&nbsp;</o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif";
color:navy'>Authors of draft-ieff-sipcore-reinvite-03.txt: IMO this draft c=
an
consider this glare scenario as well, i.e. session timer, to make it more a
comprehensive text. <o:p></o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif";
color:navy'>Excellent effort anyways!!<o:p></o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif";
color:navy'><o:p>&nbsp;</o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif";
color:navy'><o:p>&nbsp;</o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif";
color:navy'>Regards,<o:p></o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif";
color:navy'>Harbhanu<o:p></o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif";
color:navy'>***************************************************************=
***************************************************************************=
*************************************************<br>
This e-mail and attachments contain confidential information from HUAWEI, w=
hich
is intended only for the person or entity whose address is listed above. An=
y
use of the information contained herein in any way (including, but not limi=
ted
to, total or partial disclosure, reproduction, or dissemination) by persons
other than the intended recipient's) is prohibited. If you receive this e-m=
ail
in error, please notify the sender by phone or email immediately and delete=
 it!</span><o:p></o:p></p>

<div class=3DMsoNormal align=3Dcenter style=3D'text-align:center'>

<hr size=3D2 width=3D"100%" align=3Dcenter>

</div>

<p class=3DMsoNormal><b><span style=3D'font-size:10.0pt;font-family:"Tahoma=
","sans-serif"'>From:</span></b><span
style=3D'font-size:10.0pt;font-family:"Tahoma","sans-serif"'> Brett Tate
[mailto:brett@broadsoft.com] <br>
<b>Sent:</b> Tuesday, May 18, 2010 7:49 PM<br>
<b>To:</b> Harbhanu; sip@ietf.org<br>
<b>Subject:</b> RE: [Sip] Reg. session timer+earlyupdate</span><o:p></o:p><=
/p>

<p class=3DMsoNormal><o:p>&nbsp;</o:p></p>

<p class=3DMsoNormal><!--[if gte vml 1]><v:shapetype id=3D"_x0000_t74" coor=
dsize=3D"21600,21600"=20
 o:spt=3D"74" path=3D"m10860,2187c10451,1746,9529,1018,9015,730,7865,152,66=
85,,5415,,4175,152,2995,575,1967,1305,1150,2187,575,3222,242,4220,,5410,242=
,6560,575,7597l10860,21600,20995,7597v485,-1037,605,-2187,485,-3377c21115,3=
222,20420,2187,19632,1305,18575,575,17425,152,16275,,15005,,13735,152,12705=
,730v-529,288,-1451,1016,-1845,1457xe">
 <v:stroke joinstyle=3D"miter" />
 <v:path gradientshapeok=3D"t" o:connecttype=3D"custom" o:connectlocs=3D"10=
860,2187;2928,10800;10860,21600;18672,10800"=20
  o:connectangles=3D"270,180,90,0" textboxrect=3D"5037,2277,16557,13677" />
</v:shapetype><v:shape id=3D"DtsShapeName" o:spid=3D"_x0000_s1026" type=3D"=
#_x0000_t74"=20
 alt=3D"E9@C79G56B3656169@50D2425@G15305083M2685A;3CMSORIUHQM0,BIHO@]i61816=
!!!!!!!!!!1113308@D@E@EOnsl`m/enu!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!1!1"=20
 style=3D'position:absolute;margin-left:0;margin-top:0;width:.05pt;height:.=
05pt;
 z-index:251656192;visibility:hidden'>
 <w:anchorlock/>
</v:shape><![endif]--><span style=3D'font-size:11.0pt;font-family:"Calibri"=
,"sans-serif";
color:#1F497D'>Similar to many other of SIP RFCs, RFC4028 has race conditio=
n
issues.&nbsp; Thus the UAC, UAS, and proxies might not be in agreement
concerning session-expires value, activation, and/or refresher.<o:p></o:p><=
/span></p>

<p class=3DMsoNormal><span style=3D'font-size:11.0pt;font-family:"Calibri",=
"sans-serif";
color:#1F497D'><o:p>&nbsp;</o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:11.0pt;font-family:"Calibri",=
"sans-serif";
color:#1F497D'>Based upon RFC4028, it is basically the latest negotiated 2x=
x
sent/received.&nbsp; Within the call flow provided, the INVITE 2xx&#8217;s
Session-Expires value is latest.&nbsp; However since there can be race
conditions associated within UPDATE, UPDATE 2xx, and INVITE 2xx, the UAC, U=
AS,
and proxies might not all be in agreement concerning which 2xx was the late=
st.<o:p></o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:11.0pt;font-family:"Calibri",=
"sans-serif";
color:#1F497D'><o:p>&nbsp;</o:p></span></p>

<div style=3D'border:none;border-left:solid blue 1.5pt;padding:0in 0in 0in =
4.0pt'>

<div>

<div style=3D'border:none;border-top:solid #B5C4DF 1.0pt;padding:3.0pt 0in =
0in 0in'>

<p class=3DMsoNormal><b><span style=3D'font-size:10.0pt;font-family:"Tahoma=
","sans-serif"'>From:</span></b><span
style=3D'font-size:10.0pt;font-family:"Tahoma","sans-serif"'> Harbhanu
[mailto:harbhanu@huawei.com] <br>
<b>Sent:</b> Tuesday, May 18, 2010 9:44 AM<br>
<b>To:</b> Brett Tate; sip@ietf.org<br>
<b>Subject:</b> RE: [Sip] Reg. session timer+earlyupdate<o:p></o:p></span><=
/p>

</div>

</div>

<p class=3DMsoNormal><o:p>&nbsp;</o:p></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif";
color:navy'>May be your expectation is correct, but here the issue is in
defining the behavior of UA for the following scenario.<o:p></o:p></span></=
p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif";
color:navy'>I will rephrase the issue&#8230;Which value should the UAC and =
UAS
take for SE and interval timer, when either of them is acting as refresher =
?
i.e.<o:p></o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif";
color:navy'><o:p>&nbsp;</o:p></span></p>

<ol style=3D'margin-top:0in' start=3D1 type=3D1>
 <li class=3DMsoNormal style=3D'color:navy;mso-list:l1 level1 lfo3'><span
     style=3D'font-size:10.0pt;font-family:"Arial","sans-serif"'>UAC refres=
her,
     then SE and refresh time for UAC and SE value at UAS?<o:p></o:p></span=
></li>
 <li class=3DMsoNormal style=3D'color:navy;mso-list:l1 level1 lfo3'><span
     style=3D'font-size:10.0pt;font-family:"Arial","sans-serif"'>UAS refres=
her,
     then SE and refresh time for UAS and SE value at UAC?<o:p></o:p></span=
></li>
</ol>

<p class=3DMsoNormal style=3D'margin-left:.25in'><span style=3D'font-size:1=
0.0pt;
font-family:"Arial","sans-serif";color:navy'><o:p>&nbsp;</o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif";
color:navy'>Please consider the consistency of behavior incase there is a
crossover of 2xx of UPDATE and that of INVITE.<o:p></o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif";
color:navy'><o:p>&nbsp;</o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif";
color:navy'>***************************************************************=
************************<br>
This e-mail and attachments contain confidential information from HUAWEI, w=
hich
is intended only for the person or entity whose address is listed above. An=
y
use of the information contained herein in any way (including, but not limi=
ted
to, total or partial disclosure, reproduction, or dissemination) by persons
other than the intended recipient's) is prohibited. If you receive this e-m=
ail
in error, please notify the sender by phone or email immediately and delete=
 it!</span><o:p></o:p></p>

<div class=3DMsoNormal align=3Dcenter style=3D'text-align:center'>

<hr size=3D2 width=3D"100%" align=3Dcenter>

</div>

<p class=3DMsoNormal><b><span style=3D'font-size:10.0pt;font-family:"Tahoma=
","sans-serif"'>From:</span></b><span
style=3D'font-size:10.0pt;font-family:"Tahoma","sans-serif"'> Brett Tate
[mailto:brett@broadsoft.com] <br>
<b>Sent:</b> Tuesday, May 18, 2010 6:10 PM<br>
<b>To:</b> Harbhanu; sip@ietf.org<br>
<b>Subject:</b> RE: [Sip] Reg. session timer+earlyupdate</span><o:p></o:p><=
/p>

<p class=3DMsoNormal><o:p>&nbsp;</o:p></p>

<p class=3DMsoNormal><!--[if gte vml 1]><v:shape id=3D"_x0000_s1029" type=
=3D"#_x0000_t74"=20
 alt=3D"E9@C79G56B3656169@50D2425@G15305083M2685A;3CMSORIUHQM0,BIHO@]i61816=
!!!!!!!!!!1113308@D@E@EOnsl`m/enu!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!1!1"=20
 style=3D'position:absolute;margin-left:0;margin-top:0;width:.05pt;height:.=
05pt;
 z-index:251657216;visibility:hidden'>
 <w:anchorlock/>
</v:shape><![endif]--><span style=3D'font-size:11.0pt;font-family:"Calibri"=
,"sans-serif";
color:#1F497D'>The UAS is compliant; thus sending BYE (because think UAS is
acting incorrectly) is not correct behavior.&nbsp; If the following is the
section 9 snippet in question, notice that the dialog&#8217;s previously
negotiated session-expires value has no relevance; the &#8220;MUST NOT&#822=
1;
is associated the header received within the request.&nbsp; If you are
referring to another &#8220;MUST NOT&#8221; (within this section or another=
),
please send the paragraph.<o:p></o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:11.0pt;font-family:"Calibri",=
"sans-serif";
color:#1F497D'><o:p>&nbsp;</o:p></span></p>

<pre style=3D'page-break-before:always'><span style=3D'font-size:11.0pt;fon=
t-family:
"Calibri","sans-serif";color:#1F497D'>&#8220;</span><span lang=3DEN
style=3D'font-size:10.0pt'>&nbsp; If the UAS wishes to accept the request, =
it copies the value of the<o:p></o:p></span></pre>

<p class=3DMsoNormal style=3D'page-break-before:always'><span lang=3DEN
style=3D'font-size:10.0pt;font-family:"Courier New"'>&nbsp;&nbsp; Session-E=
xpires
header field from the request into the 2xx response.<o:p></o:p></span></p>

<pre style=3D'page-break-before:always'><span lang=3DEN style=3D'font-size:=
10.0pt'>&nbsp;&nbsp; The UAS response MAY reduce its value but MUST NOT set=
 it to a<o:p></o:p></span></pre><pre
style=3D'page-break-before:always'><span lang=3DEN style=3D'font-size:10.0p=
t'>&nbsp;&nbsp; duration lower than the value in the Min-SE header field in=
 the<o:p></o:p></span></pre><pre
style=3D'page-break-before:always'><span lang=3DEN style=3D'font-size:10.0p=
t'>&nbsp;&nbsp; request, if it is present; otherwise the UAS MAY reduce its=
 value but<o:p></o:p></span></pre><pre
style=3D'page-break-before:always'><span lang=3DEN style=3D'font-size:10.0p=
t'>&nbsp;&nbsp; MUST NOT set it to a duration lower than 90 seconds.&nbsp; =
The UAS MUST<o:p></o:p></span></pre><pre
style=3D'page-break-before:always'><span lang=3DEN style=3D'font-size:10.0p=
t'>&nbsp;&nbsp; NOT increase the value of the Session-Expires header field.=
<o:p></o:p></span></pre>

<p class=3DMsoNormal><span style=3D'font-size:11.0pt;font-family:"Calibri",=
"sans-serif";
color:#1F497D'>&#8221;<o:p></o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:11.0pt;font-family:"Calibri",=
"sans-serif";
color:#1F497D'><o:p>&nbsp;</o:p></span></p>

<div style=3D'border:none;border-left:solid blue 1.5pt;padding:0in 0in 0in =
4.0pt'>

<div>

<div style=3D'border:none;border-top:solid #B5C4DF 1.0pt;padding:3.0pt 0in =
0in 0in'>

<p class=3DMsoNormal><b><span style=3D'font-size:10.0pt;font-family:"Tahoma=
","sans-serif"'>From:</span></b><span
style=3D'font-size:10.0pt;font-family:"Tahoma","sans-serif"'>
sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] <b>On Behalf Of </b>Harb=
hanu<br>
<b>Sent:</b> Tuesday, May 18, 2010 4:35 AM<br>
<b>To:</b> sip@ietf.org<br>
<b>Subject:</b> [Sip] Reg. session timer+earlyupdate<o:p></o:p></span></p>

</div>

</div>

<p class=3DMsoNormal><o:p>&nbsp;</o:p></p>

<p class=3DMsoNormal><!--[if gte vml 1]><v:shape id=3D"_x0000_s1028" type=
=3D"#_x0000_t74"=20
 alt=3D"E9@C79G56B3656169@50D2425@G15305083M2685A;3CMSORIUHQM0,BIHO@]i61816=
!!!!!!!!!!1113308@D@E@EOnsl`m/enu!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!1!1"=20
 style=3D'position:absolute;margin-left:0;margin-top:0;width:.05pt;height:.=
05pt;
 z-index:251658240;visibility:hidden'>
 <w:anchorlock/>
</v:shape><![endif]--><span style=3D'font-size:10.0pt;font-family:"Arial","=
sans-serif"'>Hi,<o:p></o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif"'>We
were unable to locate the specific behavior of session timer handling in<sp=
an
style=3D'color:navy'> </span>UA, for the following scenario:<o:p></o:p></sp=
an></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif"'><o:p>&nbsp;</o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif"'>1.
UE1 --- INVITE SE-1800 </span><span style=3D'font-size:10.0pt;font-family:W=
ingdings'>=E0</span><span
style=3D'font-size:10.0pt;font-family:"Arial","sans-serif"'> UE2<o:p></o:p>=
</span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif"'>2.
UE1 &lt;--- 183 ------------------ UE2<o:p></o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif"'><o:p>&nbsp;</o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif"'>3.
UE1 --- UPDATE SE-600 </span><span style=3D'font-size:10.0pt;font-family:Wi=
ngdings'>=E0</span><span
style=3D'font-size:10.0pt;font-family:"Arial","sans-serif"'> UE2<o:p></o:p>=
</span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif"'>4.
UE1 &lt;--- 200 UPDATE -SE600 -- UE2<o:p></o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif"'><o:p>&nbsp;</o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif"'>5.
UE1 &lt;--- 200 INVITE SE-1800 -- UE2<o:p></o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif"'><o:p>&nbsp;</o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif"'>6.
UE1 ------------------------- &nbsp;BYE </span><span style=3D'font-size:10.=
0pt;
font-family:Wingdings'>=E0</span><span style=3D'font-size:10.0pt;font-famil=
y:"Arial","sans-serif"'>
UE2<o:p></o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif"'>7.
UE1 &lt;--- BYE 200 ------------------ UE2<o:p></o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif"'><o:p>&nbsp;</o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif"'><o:p>&nbsp;</o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif"'>Here,
UE1 sends a BYE since UE2(UAS) has increased the value of session expires,
which it MUST NOT (4028-Section-9, Page-16).<o:p></o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif"'><o:p>&nbsp;</o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif"'>Please
let me know whether this behaviour is correct or not.<o:p></o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif"'><o:p>&nbsp;</o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif"'>Thanks
in advance.<o:p></o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif"'><o:p>&nbsp;</o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif"'>Regards,<o:p></o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif"'>Harbhanu<o:p></o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif"'><o:p>&nbsp;</o:p></span></p>

<p class=3DMsoNormal><o:p>&nbsp;</o:p></p>

</div>

</div>

</div>

</div>

</body>

</html>

--_000_747A6506A991724FB09B129B79D5FEB61481641ABBEXMBXCLUS01ci_--

From harbhanu@huawei.com  Fri May 21 12:50:59 2010
Return-Path: <harbhanu@huawei.com>
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1]) by core3.amsl.com (Postfix) with ESMTP id 578913A68C2 for <sip@core3.amsl.com>; Fri, 21 May 2010 12:50:59 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: 0.125
X-Spam-Level: 
X-Spam-Status: No, score=0.125 tagged_above=-999 required=5 tests=[AWL=0.619,  BAYES_00=-2.599, FH_RELAY_NODNS=1.451, HELO_MISMATCH_COM=0.553,  HTML_MESSAGE=0.001, RDNS_NONE=0.1]
Received: from mail.ietf.org ([64.170.98.32]) by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024) with ESMTP id WtACYcaLsx6u for <sip@core3.amsl.com>; Fri, 21 May 2010 12:50:52 -0700 (PDT)
Received: from szxga02-in.huawei.com (unknown [119.145.14.65]) by core3.amsl.com (Postfix) with ESMTP id D2CA43A821B for <sip@ietf.org>; Fri, 21 May 2010 07:07:18 -0700 (PDT)
Received: from huawei.com (szxga02-in [172.24.2.6]) by szxga02-in.huawei.com (iPlanet Messaging Server 5.2 HotFix 2.14 (built Aug 8 2006)) with ESMTP id <0L2R00488WJNP8@szxga02-in.huawei.com> for sip@ietf.org; Fri, 21 May 2010 22:07:00 +0800 (CST)
Received: from huawei.com ([172.24.2.119]) by szxga02-in.huawei.com (iPlanet Messaging Server 5.2 HotFix 2.14 (built Aug 8 2006)) with ESMTP id <0L2R00BRBWJN1A@szxga02-in.huawei.com> for sip@ietf.org; Fri, 21 May 2010 22:06:59 +0800 (CST)
Received: from BLRNSHTIPL1NC ([10.18.1.31]) by szxml06-in.huawei.com (iPlanet Messaging Server 5.2 HotFix 2.14 (built Aug 8 2006)) with ESMTPA id <0L2R005V1WJLI3@szxml06-in.huawei.com> for sip@ietf.org; Fri, 21 May 2010 22:06:59 +0800 (CST)
Date: Fri, 21 May 2010 19:36:57 +0530
From: Harbhanu <harbhanu@huawei.com>
In-reply-to: <747A6506A991724FB09B129B79D5FEB614815B6F3C@EXMBXCLUS01.citservers.local>
To: 'Brett Tate' <brett@broadsoft.com>, sip@ietf.org
Message-id: <1C2171A5980844C680F14EF95FD22DA2@china.huawei.com>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.3790.4325
X-Mailer: Microsoft Office Outlook 11
Content-type: multipart/alternative; boundary="Boundary_(ID_EV6mEP1uRiBBnwGO7R9OAg)"
Thread-index: Acr1g4osur4vNccuTTiDg5e8TTaePQA4TWWwAAcXMZAAA3O3gAAAppygAJZUqSA=
References: <CD39FCAB00D54E869CC60E16B58BFAAE@china.huawei.com> <747A6506A991724FB09B129B79D5FEB614815B6E3D@EXMBXCLUS01.citservers.local> <80A4862FA0D64E62A9EDF26CA4FC1499@china.huawei.com> <747A6506A991724FB09B129B79D5FEB614815B6F3C@EXMBXCLUS01.citservers.local>
Cc: Gonzalo.Camarillo@ericsson.com, Christer.Holmberg@ericsson.com
Subject: Re: [Sip] Reg. session timer+earlyupdate
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>, <mailto:sip-request@ietf.org?subject=unsubscribe>
List-Archive: <http://www.ietf.org/mail-archive/web/sip>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>, <mailto:sip-request@ietf.org?subject=subscribe>
X-List-Received-Date: Fri, 21 May 2010 19:50:59 -0000

This is a multi-part message in MIME format.

--Boundary_(ID_EV6mEP1uRiBBnwGO7R9OAg)
Content-type: text/plain; charset=us-ascii
Content-transfer-encoding: 7BIT

Hi Brett,

I just came across an interesting draft in this regard -
draft-ieff-sipcore-reinvite-03.txt. Please refer.

IMO this does attempt to address a lot of UPDATE-[re-]INVITE pain areas . 

 

1. UE1 --- INVITE SE-1800 --> UE2

2. UE1 <--- 183 ------------------ UE2

 

3. UE1 --- UPDATE SE-600 --> UE2

4. UE1 <--- 200 UPDATE -SE600 -- UE2

 

5. UE1 <--- 200 INVITE SE-1800 -- UE2

 

AFAICU, as per this draft the UAS will take care of sending -

1. Either 2xx of INVITE and wait till its ACK for sending success response
of UPDATE & might also send a 409. 

2. Or 2xx of UPDATE before sending 2xx of INVITE.

Similarly, UAC also do have clearly defined expectations .

 

That said, the UPDATE -2xx here is absolutely allowed and so does the INV
2xx.

Although not explicitly specified in this draft, but for the given scenario
both UAC and UAS SHOULD run timer with value 600. Atleast UAC MUST.

 

Please correct me, if I am wrong. Thanks!

 

Authors of draft-ieff-sipcore-reinvite-03.txt: IMO this draft can consider
this glare scenario as well, i.e. session timer, to make it more a
comprehensive text. 

Excellent effort anyways!!

 

 

Regards,

Harbhanu

****************************************************************************
****************************************************************************
***********************************
This e-mail and attachments contain confidential information from HUAWEI,
which is intended only for the person or entity whose address is listed
above. Any use of the information contained herein in any way (including,
but not limited to, total or partial disclosure, reproduction, or
dissemination) by persons other than the intended recipient's) is
prohibited. If you receive this e-mail in error, please notify the sender by
phone or email immediately and delete it!

  _____  

From: Brett Tate [mailto:brett@broadsoft.com] 
Sent: Tuesday, May 18, 2010 7:49 PM
To: Harbhanu; sip@ietf.org
Subject: RE: [Sip] Reg. session timer+earlyupdate

 

Similar to many other of SIP RFCs, RFC4028 has race condition issues.  Thus
the UAC, UAS, and proxies might not be in agreement concerning
session-expires value, activation, and/or refresher.

 

Based upon RFC4028, it is basically the latest negotiated 2xx sent/received.
Within the call flow provided, the INVITE 2xx's Session-Expires value is
latest.  However since there can be race conditions associated within
UPDATE, UPDATE 2xx, and INVITE 2xx, the UAC, UAS, and proxies might not all
be in agreement concerning which 2xx was the latest.

 

From: Harbhanu [mailto:harbhanu@huawei.com] 
Sent: Tuesday, May 18, 2010 9:44 AM
To: Brett Tate; sip@ietf.org
Subject: RE: [Sip] Reg. session timer+earlyupdate

 

May be your expectation is correct, but here the issue is in defining the
behavior of UA for the following scenario.

I will rephrase the issue.Which value should the UAC and UAS take for SE and
interval timer, when either of them is acting as refresher ? i.e.

 

1.	UAC refresher, then SE and refresh time for UAC and SE value at UAS?
2.	UAS refresher, then SE and refresh time for UAS and SE value at UAC?

 

Please consider the consistency of behavior incase there is a crossover of
2xx of UPDATE and that of INVITE.

 

****************************************************************************
***********
This e-mail and attachments contain confidential information from HUAWEI,
which is intended only for the person or entity whose address is listed
above. Any use of the information contained herein in any way (including,
but not limited to, total or partial disclosure, reproduction, or
dissemination) by persons other than the intended recipient's) is
prohibited. If you receive this e-mail in error, please notify the sender by
phone or email immediately and delete it!

  _____  

From: Brett Tate [mailto:brett@broadsoft.com] 
Sent: Tuesday, May 18, 2010 6:10 PM
To: Harbhanu; sip@ietf.org
Subject: RE: [Sip] Reg. session timer+earlyupdate

 

The UAS is compliant; thus sending BYE (because think UAS is acting
incorrectly) is not correct behavior.  If the following is the section 9
snippet in question, notice that the dialog's previously negotiated
session-expires value has no relevance; the "MUST NOT" is associated the
header received within the request.  If you are referring to another "MUST
NOT" (within this section or another), please send the paragraph.

 

"  If the UAS wishes to accept the request, it copies the value of the

   Session-Expires header field from the request into the 2xx response.

   The UAS response MAY reduce its value but MUST NOT set it to a
   duration lower than the value in the Min-SE header field in the
   request, if it is present; otherwise the UAS MAY reduce its value but
   MUST NOT set it to a duration lower than 90 seconds.  The UAS MUST
   NOT increase the value of the Session-Expires header field.

"

 

From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On Behalf Of
Harbhanu
Sent: Tuesday, May 18, 2010 4:35 AM
To: sip@ietf.org
Subject: [Sip] Reg. session timer+earlyupdate

 

Hi,

We were unable to locate the specific behavior of session timer handling in
UA, for the following scenario:

 

1. UE1 --- INVITE SE-1800 --> UE2

2. UE1 <--- 183 ------------------ UE2

 

3. UE1 --- UPDATE SE-600 --> UE2

4. UE1 <--- 200 UPDATE -SE600 -- UE2

 

5. UE1 <--- 200 INVITE SE-1800 -- UE2

 

6. UE1 -------------------------  BYE --> UE2

7. UE1 <--- BYE 200 ------------------ UE2

 

 

Here, UE1 sends a BYE since UE2(UAS) has increased the value of session
expires, which it MUST NOT (4028-Section-9, Page-16).

 

Please let me know whether this behaviour is correct or not.

 

Thanks in advance.

 

Regards,

Harbhanu

 

****************************************************************************
****************************************************************************
**********************
This e-mail and attachments contain confidential information from HUAWEI,
which is intended only for the person or entity whose address is listed
above. Any use of the information contained herein in any way (including,
but not limited to, total or partial disclosure, reproduction, or
dissemination) by persons other than the intended recipient's) is
prohibited. If you receive this e-mail in error, please notify the sender by
phone or email immediately and delete it!

 


--Boundary_(ID_EV6mEP1uRiBBnwGO7R9OAg)
Content-type: text/html; charset=us-ascii
Content-transfer-encoding: quoted-printable

<html xmlns:v=3D"urn:schemas-microsoft-com:vml" =
xmlns:o=3D"urn:schemas-microsoft-com:office:office" =
xmlns:w=3D"urn:schemas-microsoft-com:office:word" =
xmlns=3D"http://www.w3.org/TR/REC-html40"
xmlns:ns6=3D"http://schemas.microsoft.com/office/2004/12/omml">

<head>
<meta http-equiv=3DContent-Type content=3D"text/html; =
charset=3Dus-ascii">
<meta name=3DGenerator content=3D"Microsoft Word 11 (filtered medium)">
<!--[if !mso]>
<style>
v\:* {behavior:url(#default#VML);}
o\:* {behavior:url(#default#VML);}
w\:* {behavior:url(#default#VML);}
.shape {behavior:url(#default#VML);}
</style>
<![endif]-->
<style>
<!--a:link
	{mso-style-priority:99;}
span.MSOHYPERLINK
	{mso-style-priority:99;}
a:visited
	{mso-style-priority:99;}
span.MSOHYPERLINKFOLLOWED
	{mso-style-priority:99;}
pre
	{mso-style-priority:99;}
span.HTMLPREFORMATTEDCHAR
	{mso-style-priority:99;}
span.HTMLPREFORMATTEDCHAR0
	{mso-style-priority:99;}

 /* Font Definitions */
 @font-face
	{font-family:Wingdings;
	panose-1:5 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:Tahoma;
	panose-1:2 11 6 4 3 5 4 4 2 4;}
@font-face
	{font-family:Calibri;
	panose-1:2 15 5 2 2 2 4 3 2 4;}
@font-face
	{font-family:Consolas;
	panose-1:2 11 6 9 2 2 4 3 2 4;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin:0in;
	margin-bottom:.0001pt;
	font-size:12.0pt;
	font-family:"Times New Roman";}
a:link, span.MsoHyperlink
	{color:blue;
	text-decoration:underline;}
a:visited, span.MsoHyperlinkFollowed
	{color:purple;
	text-decoration:underline;}
pre
	{margin:0in;
	margin-bottom:.0001pt;
	font-size:12.0pt;
	font-family:"Courier New";}
span.HTMLPreformattedChar
	{font-family:Consolas;}
span.htmlpreformattedchar0
	{font-family:"Courier New";}
span.EmailStyle20
	{mso-style-type:personal;
	font-family:Arial;
	color:windowtext;}
span.EmailStyle21
	{mso-style-type:personal;
	font-family:Arial;
	color:navy;}
span.EmailStyle22
	{mso-style-type:personal;
	font-family:Calibri;
	color:#1F497D;}
span.EmailStyle23
	{mso-style-type:personal;
	font-family:Arial;
	color:navy;}
span.EmailStyle24
	{mso-style-type:personal;
	font-family:Calibri;
	color:#1F497D;}
span.EmailStyle25
	{mso-style-type:personal-reply;
	font-family:Arial;
	color:navy;}
@page Section1
	{size:8.5in 11.0in;
	margin:1.0in 1.25in 1.0in 1.25in;}
div.Section1
	{page:Section1;}
 /* List Definitions */
 @list l0
	{mso-list-id:1286933726;
	mso-list-template-ids:-1560140018;}
@list l1
	{mso-list-id:1410074883;
	mso-list-type:hybrid;
	mso-list-template-ids:-1702223866 67698703 67698713 67698715 67698703 =
67698713 67698715 67698703 67698713 67698715;}
@list l1:level1
	{mso-level-tab-stop:.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l1:level2
	{mso-level-tab-stop:1.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l1:level3
	{mso-level-tab-stop:1.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l1:level4
	{mso-level-tab-stop:2.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l1:level5
	{mso-level-tab-stop:2.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l1:level6
	{mso-level-tab-stop:3.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l1:level7
	{mso-level-tab-stop:3.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l1:level8
	{mso-level-tab-stop:4.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l1:level9
	{mso-level-tab-stop:4.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
ol
	{margin-bottom:0in;}
ul
	{margin-bottom:0in;}
-->
</style>
<!--[if gte mso 9]><xml>
 <o:shapedefaults v:ext=3D"edit" spidmax=3D"1029" />
</xml><![endif]--><!--[if gte mso 9]><xml>
 <o:shapelayout v:ext=3D"edit">
  <o:idmap v:ext=3D"edit" data=3D"1" />
 </o:shapelayout></xml><![endif]-->
</head>

<body lang=3DEN-US link=3Dblue vlink=3Dpurple>

<div class=3DSection1>

<p class=3DMsoNormal><font size=3D2 color=3Dnavy face=3DArial><span =
style=3D'font-size:
10.0pt;font-family:Arial;color:navy'>Hi =
Brett,<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 color=3Dnavy face=3DArial><span =
style=3D'font-size:
10.0pt;font-family:Arial;color:navy'>I just came across an interesting =
draft in
this regard &#8211; draft-ieff-sipcore-reinvite-03.txt. Please =
refer.<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 color=3Dnavy face=3DArial><span =
style=3D'font-size:
10.0pt;font-family:Arial;color:navy'>IMO this does attempt to address a =
lot of UPDATE-[re-]INVITE
pain areas &#8230; <o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 color=3Dnavy face=3DArial><span =
style=3D'font-size:
10.0pt;font-family:Arial;color:navy'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'>1. UE1 --- INVITE SE-1800 </span></font><font =
size=3D2
face=3DWingdings><span =
style=3D'font-size:10.0pt;font-family:Wingdings'>&agrave;</span></font><f=
ont
size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;font-family:Arial'> =
UE2<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'>2. UE1 &lt;--- 183 ------------------ =
UE2<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'>3. UE1 --- UPDATE SE-600 </span></font><font size=3D2
face=3DWingdings><span =
style=3D'font-size:10.0pt;font-family:Wingdings'>&agrave;</span></font><f=
ont
size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;font-family:Arial'> =
UE2<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'>4. UE1 &lt;--- 200 UPDATE -SE600 -- =
UE2<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'>5. UE1 &lt;--- 200 INVITE SE-1800 -- =
UE2<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 color=3Dnavy face=3DArial><span =
style=3D'font-size:
10.0pt;font-family:Arial;color:navy'>&nbsp;<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 color=3Dnavy face=3DArial><span =
style=3D'font-size:
10.0pt;font-family:Arial;color:navy'>AFAICU, as per this draft the UAS =
will
take care of sending -<o:p></o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-indent:.5in'><font size=3D2 =
color=3Dnavy face=3DArial><span
style=3D'font-size:10.0pt;font-family:Arial;color:navy'>1. Either 2xx of =
INVITE and
wait till its ACK for sending success response of UPDATE &amp; might =
also send
a 409&#8230; <o:p></o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-indent:.5in'><font size=3D2 =
color=3Dnavy face=3DArial><span
style=3D'font-size:10.0pt;font-family:Arial;color:navy'>2. Or 2xx of =
UPDATE
before sending 2xx of INVITE.<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 color=3Dnavy face=3DArial><span =
style=3D'font-size:
10.0pt;font-family:Arial;color:navy'>Similarly, UAC also do have clearly
defined expectations &#8230;<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 color=3Dnavy face=3DArial><span =
style=3D'font-size:
10.0pt;font-family:Arial;color:navy'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 color=3Dnavy face=3DArial><span =
style=3D'font-size:
10.0pt;font-family:Arial;color:navy'>That said, the UPDATE -2xx here is =
absolutely
allowed and so does the INV 2xx&#8230;<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 color=3Dnavy face=3DArial><span =
style=3D'font-size:
10.0pt;font-family:Arial;color:navy'>Although not explicitly specified =
in this draft,
but for the given scenario both UAC and UAS SHOULD run timer with value =
600. Atleast
UAC MUST.<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 color=3Dnavy face=3DArial><span =
style=3D'font-size:
10.0pt;font-family:Arial;color:navy'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 color=3Dnavy face=3DArial><span =
style=3D'font-size:
10.0pt;font-family:Arial;color:navy'>Please correct me, if I am wrong. =
Thanks!<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 color=3Dnavy face=3DArial><span =
style=3D'font-size:
10.0pt;font-family:Arial;color:navy'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 color=3Dnavy face=3DArial><span =
style=3D'font-size:
10.0pt;font-family:Arial;color:navy'>Authors of =
draft-ieff-sipcore-reinvite-03.txt:
IMO this draft can consider this glare scenario as well, i.e. session =
timer, to
make it more a comprehensive text. <o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 color=3Dnavy face=3DArial><span =
style=3D'font-size:
10.0pt;font-family:Arial;color:navy'>Excellent effort =
anyways!!<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 color=3Dnavy face=3DArial><span =
style=3D'font-size:
10.0pt;font-family:Arial;color:navy'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 color=3Dnavy face=3DArial><span =
style=3D'font-size:
10.0pt;font-family:Arial;color:navy'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 color=3Dnavy face=3DArial><span =
style=3D'font-size:
10.0pt;font-family:Arial;color:navy'>Regards,<o:p></o:p></span></font></p=
>

<p class=3DMsoNormal><font size=3D2 color=3Dnavy face=3DArial><span =
style=3D'font-size:
10.0pt;font-family:Arial;color:navy'>Harbhanu<o:p></o:p></span></font></p=
>

<p class=3DMsoNormal><font size=3D2 color=3Dnavy face=3DArial><span =
style=3D'font-size:
10.0pt;font-family:Arial;color:navy'>************************************=
*************************************************************************=
*************************************************************************=
*****<br>
This e-mail and attachments contain confidential information from =
HUAWEI, which
is intended only for the person or entity whose address is listed above. =
Any
use of the information contained herein in any way (including, but not =
limited
to, total or partial disclosure, reproduction, or dissemination) by =
persons
other than the intended recipient's) is prohibited. If you receive this =
e-mail
in error, please notify the sender by phone or email immediately and =
delete it!</span></font><o:p></o:p></p>

<div class=3DMsoNormal align=3Dcenter style=3D'text-align:center'><font =
size=3D3
face=3D"Times New Roman"><span style=3D'font-size:12.0pt'>

<hr size=3D2 width=3D"100%" align=3Dcenter tabindex=3D-1>

</span></font></div>

<p class=3DMsoNormal><b><font size=3D2 face=3DTahoma><span =
style=3D'font-size:10.0pt;
font-family:Tahoma;font-weight:bold'>From:</span></font></b><font =
size=3D2
face=3DTahoma><span style=3D'font-size:10.0pt;font-family:Tahoma'> Brett =
Tate
[mailto:brett@broadsoft.com] <br>
<b><span style=3D'font-weight:bold'>Sent:</span></b> Tuesday, May 18, =
2010 7:49
PM<br>
<b><span style=3D'font-weight:bold'>To:</span></b> Harbhanu; =
sip@ietf.org<br>
<b><span style=3D'font-weight:bold'>Subject:</span></b> RE: [Sip] Reg. =
session
timer+earlyupdate</span></font><o:p></o:p></p>

<p class=3DMsoNormal><font size=3D3 face=3D"Times New Roman"><span =
style=3D'font-size:
12.0pt'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D3 face=3D"Times New Roman"><span =
style=3D'font-size:
12.0pt'><!--[if gte vml 1]><v:shapetype id=3D"_x0000_t74" =
coordsize=3D"21600,21600"=20
 o:spt=3D"74" =
path=3D"m10860,2187c10451,1746,9529,1018,9015,730,7865,152,6685,,5415,,41=
75,152,2995,575,1967,1305,1150,2187,575,3222,242,4220,,5410,242,6560,575,=
7597l10860,21600,20995,7597v485,-1037,605,-2187,485,-3377c21115,3222,2042=
0,2187,19632,1305,18575,575,17425,152,16275,,15005,,13735,152,12705,730v-=
529,288,-1451,1016,-1845,1457xe">
 <v:stroke joinstyle=3D"miter" />
 <v:path gradientshapeok=3D"t" o:connecttype=3D"custom" =
o:connectlocs=3D"10860,2187;2928,10800;10860,21600;18672,10800"=20
  o:connectangles=3D"270,180,90,0" textboxrect=3D"5037,2277,16557,13677" =
/>
</v:shapetype><v:shape id=3D"DtsShapeName" o:spid=3D"_x0000_s1026" =
type=3D"#_x0000_t74"=20
 =
alt=3D"E9@C79G56B3656169@50D2425@G15305083M2685A;3CMSORIUHQM0,BIHO@]i6181=
6!!!!!!!!!!1113308@D@E@EOnsl`m/enu!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!1!1"=20
 =
style=3D'position:absolute;margin-left:0;margin-top:0;width:.05pt;height:=
.05pt;
 z-index:1;visibility:hidden'>
 <w:anchorlock/>
</v:shape><![endif]--></span></font><font size=3D2 color=3D"#1f497d" =
face=3DCalibri><span
style=3D'font-size:11.0pt;font-family:Calibri;color:#1F497D'>Similar to =
many
other of SIP RFCs, RFC4028 has race condition issues.&nbsp; Thus the =
UAC, UAS,
and proxies might not be in agreement concerning session-expires value,
activation, and/or refresher.<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 color=3D"#1f497d" =
face=3DCalibri><span
style=3D'font-size:11.0pt;font-family:Calibri;color:#1F497D'><o:p>&nbsp;<=
/o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 color=3D"#1f497d" =
face=3DCalibri><span
style=3D'font-size:11.0pt;font-family:Calibri;color:#1F497D'>Based upon =
RFC4028,
it is basically the latest negotiated 2xx sent/received.&nbsp; Within =
the call
flow provided, the INVITE 2xx&#8217;s Session-Expires value is =
latest.&nbsp;
However since there can be race conditions associated within UPDATE, =
UPDATE
2xx, and INVITE 2xx, the UAC, UAS, and proxies might not all be in =
agreement
concerning which 2xx was the latest.<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 color=3D"#1f497d" =
face=3DCalibri><span
style=3D'font-size:11.0pt;font-family:Calibri;color:#1F497D'><o:p>&nbsp;<=
/o:p></span></font></p>

<div style=3D'border:none;border-left:solid blue 1.5pt;padding:0in 0in =
0in 4.0pt'>

<div>

<div style=3D'border:none;border-top:solid #B5C4DF 1.0pt;padding:3.0pt =
0in 0in 0in'>

<p class=3DMsoNormal><b><font size=3D2 face=3DTahoma><span =
style=3D'font-size:10.0pt;
font-family:Tahoma;font-weight:bold'>From:</span></font></b><font =
size=3D2
face=3DTahoma><span style=3D'font-size:10.0pt;font-family:Tahoma'> =
Harbhanu
[mailto:harbhanu@huawei.com] <br>
<b><span style=3D'font-weight:bold'>Sent:</span></b> Tuesday, May 18, =
2010 9:44
AM<br>
<b><span style=3D'font-weight:bold'>To:</span></b> Brett Tate; =
sip@ietf.org<br>
<b><span style=3D'font-weight:bold'>Subject:</span></b> RE: [Sip] Reg. =
session
timer+earlyupdate<o:p></o:p></span></font></p>

</div>

</div>

<p class=3DMsoNormal><font size=3D3 face=3D"Times New Roman"><span =
style=3D'font-size:
12.0pt'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 color=3Dnavy face=3DArial><span =
style=3D'font-size:
10.0pt;font-family:Arial;color:navy'>May be your expectation is correct, =
but
here the issue is in defining the behavior of UA for the following =
scenario.<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 color=3Dnavy face=3DArial><span =
style=3D'font-size:
10.0pt;font-family:Arial;color:navy'>I will rephrase the =
issue&#8230;Which
value should the UAC and UAS take for SE and interval timer, when either =
of
them is acting as refresher ? i.e.<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 color=3Dnavy face=3DArial><span =
style=3D'font-size:
10.0pt;font-family:Arial;color:navy'><o:p>&nbsp;</o:p></span></font></p>

<ol style=3D'margin-top:0in' start=3D1 type=3D1>
 <li class=3DMsoNormal style=3D'color:navy;mso-list:l1 level1 =
lfo3'><font size=3D2
     color=3Dnavy face=3DArial><span =
style=3D'font-size:10.0pt;font-family:Arial'>UAC
     refresher, then SE and refresh time for UAC and SE value at =
UAS?<o:p></o:p></span></font></li>
 <li class=3DMsoNormal style=3D'color:navy;mso-list:l1 level1 =
lfo3'><font size=3D2
     color=3Dnavy face=3DArial><span =
style=3D'font-size:10.0pt;font-family:Arial'>UAS
     refresher, then SE and refresh time for UAS and SE value at =
UAC?<o:p></o:p></span></font></li>
</ol>

<p class=3DMsoNormal style=3D'margin-left:.25in'><font size=3D2 =
color=3Dnavy
face=3DArial><span =
style=3D'font-size:10.0pt;font-family:Arial;color:navy'><o:p>&nbsp;</o:p>=
</span></font></p>

<p class=3DMsoNormal><font size=3D2 color=3Dnavy face=3DArial><span =
style=3D'font-size:
10.0pt;font-family:Arial;color:navy'>Please consider the consistency of
behavior incase there is a crossover of 2xx of UPDATE and that of =
INVITE.<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 color=3Dnavy face=3DArial><span =
style=3D'font-size:
10.0pt;font-family:Arial;color:navy'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 color=3Dnavy face=3DArial><span =
style=3D'font-size:
10.0pt;font-family:Arial;color:navy'>************************************=
***************************************************<br>
This e-mail and attachments contain confidential information from =
HUAWEI, which
is intended only for the person or entity whose address is listed above. =
Any
use of the information contained herein in any way (including, but not =
limited
to, total or partial disclosure, reproduction, or dissemination) by =
persons
other than the intended recipient's) is prohibited. If you receive this =
e-mail
in error, please notify the sender by phone or email immediately and =
delete it!</span></font><o:p></o:p></p>

<div class=3DMsoNormal align=3Dcenter style=3D'text-align:center'><font =
size=3D3
face=3D"Times New Roman"><span style=3D'font-size:12.0pt'>

<hr size=3D2 width=3D"100%" align=3Dcenter>

</span></font></div>

<p class=3DMsoNormal><b><font size=3D2 face=3DTahoma><span =
style=3D'font-size:10.0pt;
font-family:Tahoma;font-weight:bold'>From:</span></font></b><font =
size=3D2
face=3DTahoma><span style=3D'font-size:10.0pt;font-family:Tahoma'> Brett =
Tate
[mailto:brett@broadsoft.com] <br>
<b><span style=3D'font-weight:bold'>Sent:</span></b> Tuesday, May 18, =
2010 6:10
PM<br>
<b><span style=3D'font-weight:bold'>To:</span></b> Harbhanu; =
sip@ietf.org<br>
<b><span style=3D'font-weight:bold'>Subject:</span></b> RE: [Sip] Reg. =
session
timer+earlyupdate</span></font><o:p></o:p></p>

<p class=3DMsoNormal><font size=3D3 face=3D"Times New Roman"><span =
style=3D'font-size:
12.0pt'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D3 face=3D"Times New Roman"><span =
style=3D'font-size:
12.0pt'><!--[if gte vml 1]><v:shape id=3D"_x0000_s1026" =
type=3D"#_x0000_t74" =
alt=3D"E9@C79G56B3656169@50D2425@G15305083M2685A;3CMSORIUHQM0,BIHO@]i6181=
6!!!!!!!!!!1113308@D@E@EOnsl`m/enu!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!1!1"=20
 =
style=3D'position:absolute;margin-left:0;margin-top:0;width:.05pt;height:=
.05pt;
 z-index:2;visibility:hidden'>
 <w:anchorlock/>
</v:shape><![endif]--></span></font><font size=3D2 color=3D"#1f497d" =
face=3DCalibri><span
style=3D'font-size:11.0pt;font-family:Calibri;color:#1F497D'>The UAS is
compliant; thus sending BYE (because think UAS is acting incorrectly) is =
not
correct behavior.&nbsp; If the following is the section 9 snippet in =
question,
notice that the dialog&#8217;s previously negotiated session-expires =
value has
no relevance; the &#8220;MUST NOT&#8221; is associated the header =
received
within the request.&nbsp; If you are referring to another &#8220;MUST
NOT&#8221; (within this section or another), please send the =
paragraph.<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 color=3D"#1f497d" =
face=3DCalibri><span
style=3D'font-size:11.0pt;font-family:Calibri;color:#1F497D'><o:p>&nbsp;<=
/o:p></span></font></p>

<pre style=3D'page-break-before:always'><font size=3D2 color=3D"#1f497d"
face=3DCalibri><span =
style=3D'font-size:11.0pt;font-family:Calibri;color:#1F497D'>&#8220;</spa=
n></font><font
size=3D2><span lang=3DEN style=3D'font-size:10.0pt'>&nbsp; If the UAS =
wishes to accept the request, it copies the value of =
the<o:p></o:p></span></font></pre>

<p class=3DMsoNormal style=3D'page-break-before:always'><font size=3D2
face=3D"Courier New"><span lang=3DEN =
style=3D'font-size:10.0pt;font-family:"Courier New"'>&nbsp;&nbsp;
Session-Expires header field from the request into the 2xx =
response.<o:p></o:p></span></font></p>

<pre style=3D'page-break-before:always'><font size=3D2 face=3D"Courier =
New"><span
lang=3DEN style=3D'font-size:10.0pt'>&nbsp;&nbsp; The UAS response MAY =
reduce its value but MUST NOT set it to =
a<o:p></o:p></span></font></pre><pre
style=3D'page-break-before:always'><font size=3D2 face=3D"Courier =
New"><span lang=3DEN
style=3D'font-size:10.0pt'>&nbsp;&nbsp; duration lower than the value in =
the Min-SE header field in the<o:p></o:p></span></font></pre><pre
style=3D'page-break-before:always'><font size=3D2 face=3D"Courier =
New"><span lang=3DEN
style=3D'font-size:10.0pt'>&nbsp;&nbsp; request, if it is present; =
otherwise the UAS MAY reduce its value =
but<o:p></o:p></span></font></pre><pre
style=3D'page-break-before:always'><font size=3D2 face=3D"Courier =
New"><span lang=3DEN
style=3D'font-size:10.0pt'>&nbsp;&nbsp; MUST NOT set it to a duration =
lower than 90 seconds.&nbsp; The UAS =
MUST<o:p></o:p></span></font></pre><pre
style=3D'page-break-before:always'><font size=3D2 face=3D"Courier =
New"><span lang=3DEN
style=3D'font-size:10.0pt'>&nbsp;&nbsp; NOT increase the value of the =
Session-Expires header field.<o:p></o:p></span></font></pre>

<p class=3DMsoNormal><font size=3D2 color=3D"#1f497d" =
face=3DCalibri><span
style=3D'font-size:11.0pt;font-family:Calibri;color:#1F497D'>&#8221;<o:p>=
</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 color=3D"#1f497d" =
face=3DCalibri><span
style=3D'font-size:11.0pt;font-family:Calibri;color:#1F497D'><o:p>&nbsp;<=
/o:p></span></font></p>

<div style=3D'border:none;border-left:solid blue 1.5pt;padding:0in 0in =
0in 4.0pt'>

<div>

<div style=3D'border:none;border-top:solid #B5C4DF 1.0pt;padding:3.0pt =
0in 0in 0in'>

<p class=3DMsoNormal><b><font size=3D2 face=3DTahoma><span =
style=3D'font-size:10.0pt;
font-family:Tahoma;font-weight:bold'>From:</span></font></b><font =
size=3D2
face=3DTahoma><span style=3D'font-size:10.0pt;font-family:Tahoma'>
sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] <b><span =
style=3D'font-weight:
bold'>On Behalf Of </span></b>Harbhanu<br>
<b><span style=3D'font-weight:bold'>Sent:</span></b> Tuesday, May 18, =
2010 4:35
AM<br>
<b><span style=3D'font-weight:bold'>To:</span></b> sip@ietf.org<br>
<b><span style=3D'font-weight:bold'>Subject:</span></b> [Sip] Reg. =
session timer+earlyupdate<o:p></o:p></span></font></p>

</div>

</div>

<p class=3DMsoNormal><font size=3D3 face=3D"Times New Roman"><span =
style=3D'font-size:
12.0pt'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D3 face=3D"Times New Roman"><span =
style=3D'font-size:
12.0pt'><!--[if gte vml 1]><v:shape id=3D"_x0000_s1028" =
type=3D"#_x0000_t74" =
alt=3D"E9@C79G56B3656169@50D2425@G15305083M2685A;3CMSORIUHQM0,BIHO@]i6181=
6!!!!!!!!!!1113308@D@E@EOnsl`m/enu!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!1!1"=20
 =
style=3D'position:absolute;margin-left:0;margin-top:0;width:.05pt;height:=
.05pt;
 z-index:3;visibility:hidden'>
 <w:anchorlock/>
</v:shape><![endif]--></span></font><font size=3D2 face=3DArial><span
style=3D'font-size:10.0pt;font-family:Arial'>Hi,<o:p></o:p></span></font>=
</p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'>We were unable to locate the specific behavior of =
session
timer handling in<font color=3Dnavy><span style=3D'color:navy'> =
</span></font>UA,
for the following scenario:<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'>1. UE1 --- INVITE SE-1800 </span></font><font =
size=3D2
face=3DWingdings><span =
style=3D'font-size:10.0pt;font-family:Wingdings'>&agrave;</span></font><f=
ont
size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;font-family:Arial'> =
UE2<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'>2. UE1 &lt;--- 183 ------------------ =
UE2<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'>3. UE1 --- UPDATE SE-600 </span></font><font size=3D2
face=3DWingdings><span =
style=3D'font-size:10.0pt;font-family:Wingdings'>&agrave;</span></font><f=
ont
size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;font-family:Arial'> =
UE2<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'>4. UE1 &lt;--- 200 UPDATE -SE600 -- =
UE2<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'>5. UE1 &lt;--- 200 INVITE SE-1800 -- =
UE2<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'>6. UE1 ------------------------- &nbsp;BYE =
</span></font><font
size=3D2 face=3DWingdings><span =
style=3D'font-size:10.0pt;font-family:Wingdings'>&agrave;</span></font><f=
ont
size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;font-family:Arial'> =
UE2<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'>7. UE1 &lt;--- BYE 200 ------------------ =
UE2<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'>Here, UE1 sends a BYE since UE2(UAS) has increased =
the value
of session expires, which it MUST NOT (4028-Section-9, =
Page-16).<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'>Please let me know whether this behaviour is correct =
or not.<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'>Thanks in advance.<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'>Regards,<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'>Harbhanu<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'>******************************************************=
*************************************************************************=
***********************************************<br>
This e-mail and attachments contain confidential information from =
HUAWEI, which
is intended only for the person or entity whose address is listed above. =
Any
use of the information contained herein in any way (including, but not =
limited
to, total or partial disclosure, reproduction, or dissemination) by =
persons
other than the intended recipient's) is prohibited. If you receive this =
e-mail
in error, please notify the sender by phone or email immediately and =
delete it!</span></font><!--[if gte vml 1]><v:shape=20
 id=3D"_x0000_s1027" type=3D"#_x0000_t74" =
alt=3D"E9@C79G56B3656169@50D2425@G15305083M2685A;3CMSORIUHQM0,BIHO@]i6181=
6!!!!!!!!!!1113308@D@E@EOnsl`m/enu!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!1!1"=20
 =
style=3D'position:absolute;margin-left:0;margin-top:0;width:.05pt;height:=
.05pt;
 z-index:4;visibility:hidden;mso-position-horizontal-relative:text;
 mso-position-vertical-relative:text'>
 <w:anchorlock/>
</v:shape><![endif]--><o:p></o:p></p>

<p class=3DMsoNormal><font size=3D3 face=3D"Times New Roman"><span =
style=3D'font-size:
12.0pt'><o:p>&nbsp;</o:p></span></font></p>

</div>

</div>

</div>

</body>

</html>

--Boundary_(ID_EV6mEP1uRiBBnwGO7R9OAg)--

From harbhanu@huawei.com  Sun May 23 00:34:40 2010
Return-Path: <harbhanu@huawei.com>
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1]) by core3.amsl.com (Postfix) with ESMTP id BAA1F3A69D3 for <sip@core3.amsl.com>; Sun, 23 May 2010 00:34:40 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: 0.249
X-Spam-Level: 
X-Spam-Status: No, score=0.249 tagged_above=-999 required=5 tests=[AWL=0.247,  BAYES_50=0.001, HTML_MESSAGE=0.001]
Received: from mail.ietf.org ([64.170.98.32]) by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024) with ESMTP id Hqxpv8a90KZH for <sip@core3.amsl.com>; Sun, 23 May 2010 00:34:28 -0700 (PDT)
Received: from szxga05-in.huawei.com (szxga04-in.huawei.com [119.145.14.67]) by core3.amsl.com (Postfix) with ESMTP id A7C893A6ADF for <sip@ietf.org>; Sun, 23 May 2010 00:34:27 -0700 (PDT)
Received: from huawei.com (szxga05-in [172.24.2.49]) by szxga05-in.huawei.com (iPlanet Messaging Server 5.2 HotFix 2.14 (built Aug 8 2006)) with ESMTP id <0L2V004JA3P6W5@szxga05-in.huawei.com> for sip@ietf.org; Sun, 23 May 2010 15:34:19 +0800 (CST)
Received: from huawei.com ([172.24.2.119]) by szxga05-in.huawei.com (iPlanet Messaging Server 5.2 HotFix 2.14 (built Aug 8 2006)) with ESMTP id <0L2V008NL3P5AW@szxga05-in.huawei.com> for sip@ietf.org; Sun, 23 May 2010 15:34:18 +0800 (CST)
Received: from BLRNSHTIPL1NC ([10.18.1.31]) by szxml06-in.huawei.com (iPlanet Messaging Server 5.2 HotFix 2.14 (built Aug 8 2006)) with ESMTPA id <0L2V00LZD3P3A9@szxml06-in.huawei.com> for sip@ietf.org; Sun, 23 May 2010 15:34:17 +0800 (CST)
Date: Sun, 23 May 2010 13:04:15 +0530
From: Harbhanu <harbhanu@huawei.com>
In-reply-to: <747A6506A991724FB09B129B79D5FEB61481641ABB@EXMBXCLUS01.citservers.local>
To: 'Brett Tate' <brett@broadsoft.com>, sip@ietf.org
Message-id: <F7B13E8712B84409A70930FE71CFB0C9@china.huawei.com>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.3790.4325
X-Mailer: Microsoft Office Outlook 11
Content-type: multipart/alternative; boundary="Boundary_(ID_KdhIB54FrJM0mJE51Gw5Yg)"
Thread-index: Acr1g4osur4vNccuTTiDg5e8TTaePQA4TWWwAAcXMZAAA3O3gAAAppygAJZUqSAABddToABQhn0g
References: <CD39FCAB00D54E869CC60E16B58BFAAE@china.huawei.com> <747A6506A991724FB09B129B79D5FEB614815B6E3D@EXMBXCLUS01.citservers.local> <80A4862FA0D64E62A9EDF26CA4FC1499@china.huawei.com> <747A6506A991724FB09B129B79D5FEB614815B6F3C@EXMBXCLUS01.citservers.local> <1C2171A5980844C680F14EF95FD22DA2@china.huawei.com> <747A6506A991724FB09B129B79D5FEB61481641ABB@EXMBXCLUS01.citservers.local>
Cc: Gonzalo.Camarillo@ericsson.com, Christer.Holmberg@ericsson.com
Subject: Re: [Sip] Reg. session timer+earlyupdate
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>, <mailto:sip-request@ietf.org?subject=unsubscribe>
List-Archive: <http://www.ietf.org/mail-archive/web/sip>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>, <mailto:sip-request@ietf.org?subject=subscribe>
X-List-Received-Date: Sun, 23 May 2010 07:34:40 -0000

This is a multi-part message in MIME format.

--Boundary_(ID_KdhIB54FrJM0mJE51Gw5Yg)
Content-type: text/plain; charset=us-ascii
Content-transfer-encoding: 7BIT

>> Concerning your example... yes; the UPDATE 2xx is allowed (even though
potentially not following a SHOULD). 

Please let me know which 'SHOULD' clause is missed.

 

Although in the draft, it does mentions about failure response to re-INVITE,
but again the crossover of success response will make things murkier.

"If the UAC of a re-INVITE transaction sends an UPDATE request with an

   offer, receives a non-2xx response to the re-INVITE, and then a 2xx

   response to the UPDATE request, the UA SHOULD generate a new re-

   INVITE or UPDATE request in order to make sure that both UAs have a

   common view of the state of the session, as described in Section 3.4."

 

Here, I beg to disagree that UAC should run a timer value of 1800, since
then the sole purpose of this early refresh will be defeated. Although what
you just said is as per 4028, but as already discussed, it doesn't mention
anything about early negotiation of Session-timer and certainly not the
UPDATE/ INVITE glare. So 4028 will not suffice to standardize the behavior
here.

 

So, either the UPDATE should be *explicitly* disallowed and rejected with a
491 or it should be treated as a refresh request queued after the INVITE, to
be effective after the INVITE parameters takes effect and thus making both
run with SE value 600. 

Here, the basis of former behavior can be formed as - the INVITE is carrying
the 'offer', to negotiate the SE, and thus it disallows the generation of
UPDATE which too attempts to update the SE ('offer').

 

Please share your opinion.

 

****************************************************************************
****************************************************************************
***
This e-mail and attachments contain confidential information from HUAWEI,
which is intended only for the person or entity whose address is listed
above. Any use of the information contained herein in any way (including,
but not limited to, total or partial disclosure, reproduction, or
dissemination) by persons other than the intended recipient's) is
prohibited. If you receive this e-mail in error, please notify the sender by
phone or email immediately and delete it!

  _____  

From: Brett Tate [mailto:brett@broadsoft.com] 
Sent: Friday, May 21, 2010 10:23 PM
To: Harbhanu; sip@ietf.org
Cc: Gonzalo.Camarillo@ericsson.com; Christer.Holmberg@ericsson.com;
gao.yang2@zte.com.cn
Subject: RE: [Sip] Reg. session timer+earlyupdate

 

Yes; draft-ieff-sipcore-reinvite-03.txt attempts to address some of the
issues.  My favorite is the sections 3.5/4.5 text indicating to treat (from
a glare perspective) UPDATE without SDP as though it contained an offer.
Thus if I understand correctly, an UPDATE without SDP SHOULD trigger 491 if
step 1 contained offer SDP and step 3 was sent from UE2 to UE1.

 

Concerning your example (assuming step 1 contained offer SDP), I currently
find the draft to be ambiguous concerning sending 491, 500, or 200.  The
ambiguity relates to not having a precise definition of glare and some
vendors preferring to send 491 instead of 500.

 

Concerning your example... yes; the UPDATE 2xx is allowed (even though
potentially not following a SHOULD).  However at step 4, session-expires 600
becomes active; and at step 5 session-expires 1800 becomes active.

 

From: Harbhanu [mailto:harbhanu@huawei.com] 
Sent: Friday, May 21, 2010 10:07 AM
To: Brett Tate; sip@ietf.org
Cc: Gonzalo.Camarillo@ericsson.com; Christer.Holmberg@ericsson.com;
gao.yang2@zte.com.cn
Subject: RE: [Sip] Reg. session timer+earlyupdate

 

Hi Brett,

I just came across an interesting draft in this regard -
draft-ieff-sipcore-reinvite-03.txt. Please refer.

IMO this does attempt to address a lot of UPDATE-[re-]INVITE pain areas . 

 

1. UE1 --- INVITE SE-1800 --> UE2

2. UE1 <--- 183 ------------------ UE2

 

3. UE1 --- UPDATE SE-600 --> UE2

4. UE1 <--- 200 UPDATE -SE600 -- UE2

 

5. UE1 <--- 200 INVITE SE-1800 -- UE2

 

AFAICU, as per this draft the UAS will take care of sending -

1. Either 2xx of INVITE and wait till its ACK for sending success response
of UPDATE & might also send a 409. 

2. Or 2xx of UPDATE before sending 2xx of INVITE.

Similarly, UAC also do have clearly defined expectations .

 

That said, the UPDATE -2xx here is absolutely allowed and so does the INV
2xx.

Although not explicitly specified in this draft, but for the given scenario
both UAC and UAS SHOULD run timer with value 600. Atleast UAC MUST.

 

Please correct me, if I am wrong. Thanks!

 

Authors of draft-ieff-sipcore-reinvite-03.txt: IMO this draft can consider
this glare scenario as well, i.e. session timer, to make it more a
comprehensive text. 

Excellent effort anyways!!

 

 

Regards,

Harbhanu

****************************************************************************
****************************************************************************
***********************************
This e-mail and attachments contain confidential information from HUAWEI,
which is intended only for the person or entity whose address is listed
above. Any use of the information contained herein in any way (including,
but not limited to, total or partial disclosure, reproduction, or
dissemination) by persons other than the intended recipient's) is
prohibited. If you receive this e-mail in error, please notify the sender by
phone or email immediately and delete it!

  _____  

From: Brett Tate [mailto:brett@broadsoft.com] 
Sent: Tuesday, May 18, 2010 7:49 PM
To: Harbhanu; sip@ietf.org
Subject: RE: [Sip] Reg. session timer+earlyupdate

 

Similar to many other of SIP RFCs, RFC4028 has race condition issues.  Thus
the UAC, UAS, and proxies might not be in agreement concerning
session-expires value, activation, and/or refresher.

 

Based upon RFC4028, it is basically the latest negotiated 2xx sent/received.
Within the call flow provided, the INVITE 2xx's Session-Expires value is
latest.  However since there can be race conditions associated within
UPDATE, UPDATE 2xx, and INVITE 2xx, the UAC, UAS, and proxies might not all
be in agreement concerning which 2xx was the latest.

 

From: Harbhanu [mailto:harbhanu@huawei.com] 
Sent: Tuesday, May 18, 2010 9:44 AM
To: Brett Tate; sip@ietf.org
Subject: RE: [Sip] Reg. session timer+earlyupdate

 

May be your expectation is correct, but here the issue is in defining the
behavior of UA for the following scenario.

I will rephrase the issue.Which value should the UAC and UAS take for SE and
interval timer, when either of them is acting as refresher ? i.e.

 

1.	UAC refresher, then SE and refresh time for UAC and SE value at UAS?
2.	UAS refresher, then SE and refresh time for UAS and SE value at UAC?

 

Please consider the consistency of behavior incase there is a crossover of
2xx of UPDATE and that of INVITE.

 

****************************************************************************
***********
This e-mail and attachments contain confidential information from HUAWEI,
which is intended only for the person or entity whose address is listed
above. Any use of the information contained herein in any way (including,
but not limited to, total or partial disclosure, reproduction, or
dissemination) by persons other than the intended recipient's) is
prohibited. If you receive this e-mail in error, please notify the sender by
phone or email immediately and delete it!

  _____  

From: Brett Tate [mailto:brett@broadsoft.com] 
Sent: Tuesday, May 18, 2010 6:10 PM
To: Harbhanu; sip@ietf.org
Subject: RE: [Sip] Reg. session timer+earlyupdate

 

The UAS is compliant; thus sending BYE (because think UAS is acting
incorrectly) is not correct behavior.  If the following is the section 9
snippet in question, notice that the dialog's previously negotiated
session-expires value has no relevance; the "MUST NOT" is associated the
header received within the request.  If you are referring to another "MUST
NOT" (within this section or another), please send the paragraph.

 

"  If the UAS wishes to accept the request, it copies the value of the

   Session-Expires header field from the request into the 2xx response.

   The UAS response MAY reduce its value but MUST NOT set it to a
   duration lower than the value in the Min-SE header field in the
   request, if it is present; otherwise the UAS MAY reduce its value but
   MUST NOT set it to a duration lower than 90 seconds.  The UAS MUST
   NOT increase the value of the Session-Expires header field.

"

 

From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On Behalf Of
Harbhanu
Sent: Tuesday, May 18, 2010 4:35 AM
To: sip@ietf.org
Subject: [Sip] Reg. session timer+earlyupdate

 

Hi,

We were unable to locate the specific behavior of session timer handling in
UA, for the following scenario:

 

1. UE1 --- INVITE SE-1800 --> UE2

2. UE1 <--- 183 ------------------ UE2

 

3. UE1 --- UPDATE SE-600 --> UE2

4. UE1 <--- 200 UPDATE -SE600 -- UE2

 

5. UE1 <--- 200 INVITE SE-1800 -- UE2

 

6. UE1 -------------------------  BYE --> UE2

7. UE1 <--- BYE 200 ------------------ UE2

 

 

Here, UE1 sends a BYE since UE2(UAS) has increased the value of session
expires, which it MUST NOT (4028-Section-9, Page-16).

 

Please let me know whether this behaviour is correct or not.

 

Thanks in advance.

 

Regards,

Harbhanu

 

 


--Boundary_(ID_KdhIB54FrJM0mJE51Gw5Yg)
Content-type: text/html; charset=us-ascii
Content-transfer-encoding: quoted-printable

<html xmlns:v=3D"urn:schemas-microsoft-com:vml" =
xmlns:o=3D"urn:schemas-microsoft-com:office:office" =
xmlns:w=3D"urn:schemas-microsoft-com:office:word" =
xmlns=3D"http://www.w3.org/TR/REC-html40"
xmlns:ns0=3D"http://schemas.microsoft.com/office/2004/12/omml">

<head>
<meta http-equiv=3DContent-Type content=3D"text/html; =
charset=3Dus-ascii">
<meta name=3DGenerator content=3D"Microsoft Word 11 (filtered medium)">
<!--[if !mso]>
<style>
v\:* {behavior:url(#default#VML);}
o\:* {behavior:url(#default#VML);}
w\:* {behavior:url(#default#VML);}
.shape {behavior:url(#default#VML);}
</style>
<![endif]-->
<style>
<!--a:link
	{mso-style-priority:99;}
span.MSOHYPERLINK
	{mso-style-priority:99;}
a:visited
	{mso-style-priority:99;}
span.MSOHYPERLINKFOLLOWED
	{mso-style-priority:99;}
pre
	{mso-style-priority:99;}
span.HTMLPREFORMATTEDCHAR
	{mso-style-priority:99;}
span.HTMLPREFORMATTEDCHAR0
	{mso-style-priority:99;}
span.HTMLPREFORMATTEDCHAR00
	{mso-style-priority:99;}

 /* Font Definitions */
 @font-face
	{font-family:Wingdings;
	panose-1:5 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:Tahoma;
	panose-1:2 11 6 4 3 5 4 4 2 4;}
@font-face
	{font-family:Calibri;
	panose-1:2 15 5 2 2 2 4 3 2 4;}
@font-face
	{font-family:Consolas;
	panose-1:2 11 6 9 2 2 4 3 2 4;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin:0in;
	margin-bottom:.0001pt;
	font-size:12.0pt;
	font-family:"Times New Roman";}
a:link, span.MsoHyperlink
	{color:blue;
	text-decoration:underline;}
a:visited, span.MsoHyperlinkFollowed
	{color:purple;
	text-decoration:underline;}
pre
	{margin:0in;
	margin-bottom:.0001pt;
	font-size:12.0pt;
	font-family:"Courier New";}
span.HTMLPreformattedChar
	{font-family:Consolas;}
span.htmlpreformattedchar0
	{font-family:Consolas;}
span.htmlpreformattedchar00
	{font-family:"Courier New";}
span.EmailStyle21
	{mso-style-type:personal;
	font-family:Arial;
	color:windowtext;}
span.EmailStyle22
	{mso-style-type:personal;
	font-family:Arial;
	color:navy;}
span.EmailStyle23
	{mso-style-type:personal;
	font-family:Calibri;
	color:#1F497D;}
span.EmailStyle24
	{mso-style-type:personal;
	font-family:Arial;
	color:navy;}
span.EmailStyle25
	{mso-style-type:personal;
	font-family:Calibri;
	color:#1F497D;}
span.EmailStyle26
	{mso-style-type:personal;
	font-family:Arial;
	color:navy;}
span.EmailStyle27
	{mso-style-type:personal;
	font-family:Calibri;
	color:#1F497D;}
span.EmailStyle28
	{mso-style-type:personal-reply;
	font-family:Arial;
	color:navy;}
@page Section1
	{size:8.5in 11.0in;
	margin:1.0in 1.25in 1.0in 1.25in;}
div.Section1
	{page:Section1;}
 /* List Definitions */
 @list l0
	{mso-list-id:807625230;
	mso-list-template-ids:-1515138892;}
@list l1
	{mso-list-id:1410074883;
	mso-list-type:hybrid;
	mso-list-template-ids:-1702223866 67698703 67698713 67698715 67698703 =
67698713 67698715 67698703 67698713 67698715;}
@list l1:level1
	{mso-level-tab-stop:.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l1:level2
	{mso-level-tab-stop:1.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l1:level3
	{mso-level-tab-stop:1.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l1:level4
	{mso-level-tab-stop:2.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l1:level5
	{mso-level-tab-stop:2.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l1:level6
	{mso-level-tab-stop:3.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l1:level7
	{mso-level-tab-stop:3.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l1:level8
	{mso-level-tab-stop:4.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l1:level9
	{mso-level-tab-stop:4.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
ol
	{margin-bottom:0in;}
ul
	{margin-bottom:0in;}
-->
</style>
<!--[if gte mso 9]><xml>
 <o:shapedefaults v:ext=3D"edit" spidmax=3D"1030" />
</xml><![endif]--><!--[if gte mso 9]><xml>
 <o:shapelayout v:ext=3D"edit">
  <o:idmap v:ext=3D"edit" data=3D"1" />
 </o:shapelayout></xml><![endif]-->
</head>

<body lang=3DEN-US link=3Dblue vlink=3Dpurple>

<div class=3DSection1>

<p class=3DMsoNormal><font size=3D2 color=3Dnavy face=3DArial><span =
style=3D'font-size:
10.0pt;font-family:Arial;color:navy'>&gt;&gt; Concerning your example... =
yes;
the UPDATE 2xx is allowed (even though potentially not following a
SHOULD).&nbsp;<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 color=3Dnavy face=3DArial><span =
style=3D'font-size:
10.0pt;font-family:Arial;color:navy'>Please let me know which =
&#8216;SHOULD&#8217;
clause is missed&#8230;<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 color=3Dnavy face=3DArial><span =
style=3D'font-size:
10.0pt;font-family:Arial;color:navy'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 color=3Dnavy face=3DArial><span =
style=3D'font-size:
10.0pt;font-family:Arial;color:navy'>Although in the draft, it does =
mentions
about failure response to re-INVITE, but again the crossover of success
response will make things murkier.<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'>&#8220;If the UAC of a re-INVITE transaction sends an =
UPDATE
request with an<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'>&nbsp;&nbsp; offer, receives a non-2xx response to =
the
re-INVITE, and then a 2xx<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'>&nbsp;&nbsp; response to the UPDATE request, the UA =
SHOULD
generate a new re-<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'>&nbsp;&nbsp; INVITE or UPDATE request in order to =
make sure
that both UAs have a<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'>&nbsp;&nbsp; common view of the state of the session, =
as
described in Section 3.4.&#8221;<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 color=3Dnavy face=3DArial><span =
style=3D'font-size:
10.0pt;font-family:Arial;color:navy'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 color=3Dnavy face=3DArial><span =
style=3D'font-size:
10.0pt;font-family:Arial;color:navy'>Here, I beg to disagree that UAC =
should
run a timer value of 1800, since then the sole purpose of this early =
refresh will
be defeated. Although what you just said is as per 4028, but as already
discussed, it doesn&#8217;t mention anything about early negotiation of =
Session-timer
and certainly not the UPDATE/ INVITE glare. So 4028 will not suffice to =
standardize
the behavior here.<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 color=3Dnavy face=3DArial><span =
style=3D'font-size:
10.0pt;font-family:Arial;color:navy'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 color=3Dnavy face=3DArial><span =
style=3D'font-size:
10.0pt;font-family:Arial;color:navy'>So, either the UPDATE should be =
*<b><span
style=3D'font-weight:bold'>explicitly</span></b>* disallowed and =
rejected with a
491 or it should be treated as a refresh request queued after the =
INVITE, to be
effective after the INVITE parameters takes effect and thus making both =
run
with SE value 600. <o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 color=3Dnavy face=3DArial><span =
style=3D'font-size:
10.0pt;font-family:Arial;color:navy'>Here, the basis of former behavior =
can be formed
as - the INVITE is carrying the &#8216;offer&#8217;, to negotiate the =
SE, and
thus it disallows the generation of UPDATE which too attempts to update =
the SE
(&#8216;offer&#8217;).<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 color=3Dnavy face=3DArial><span =
style=3D'font-size:
10.0pt;font-family:Arial;color:navy'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 color=3Dnavy face=3DArial><span =
style=3D'font-size:
10.0pt;font-family:Arial;color:navy'>Please share your =
opinion.<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 color=3Dnavy face=3DArial><span =
style=3D'font-size:
10.0pt;font-family:Arial;color:navy'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 color=3Dnavy face=3DArial><span =
style=3D'font-size:
10.0pt;font-family:Arial;color:navy'>************************************=
*************************************************************************=
**********************************************<br>
This e-mail and attachments contain confidential information from =
HUAWEI, which
is intended only for the person or entity whose address is listed above. =
Any
use of the information contained herein in any way (including, but not =
limited
to, total or partial disclosure, reproduction, or dissemination) by =
persons
other than the intended recipient's) is prohibited. If you receive this =
e-mail
in error, please notify the sender by phone or email immediately and =
delete it!</span></font><o:p></o:p></p>

<div class=3DMsoNormal align=3Dcenter style=3D'text-align:center'><font =
size=3D3
face=3D"Times New Roman"><span style=3D'font-size:12.0pt'>

<hr size=3D2 width=3D"100%" align=3Dcenter tabindex=3D-1>

</span></font></div>

<p class=3DMsoNormal><b><font size=3D2 face=3DTahoma><span =
style=3D'font-size:10.0pt;
font-family:Tahoma;font-weight:bold'>From:</span></font></b><font =
size=3D2
face=3DTahoma><span style=3D'font-size:10.0pt;font-family:Tahoma'> Brett =
Tate
[mailto:brett@broadsoft.com] <br>
<b><span style=3D'font-weight:bold'>Sent:</span></b> Friday, May 21, =
2010 10:23
PM<br>
<b><span style=3D'font-weight:bold'>To:</span></b> Harbhanu; =
sip@ietf.org<br>
<b><span style=3D'font-weight:bold'>Cc:</span></b>
Gonzalo.Camarillo@ericsson.com; Christer.Holmberg@ericsson.com;
gao.yang2@zte.com.cn<br>
<b><span style=3D'font-weight:bold'>Subject:</span></b> RE: [Sip] Reg. =
session
timer+earlyupdate</span></font><o:p></o:p></p>

<p class=3DMsoNormal><font size=3D3 face=3D"Times New Roman"><span =
style=3D'font-size:
12.0pt'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D3 face=3D"Times New Roman"><span =
style=3D'font-size:
12.0pt'><!--[if gte vml 1]><v:shapetype id=3D"_x0000_t74" =
coordsize=3D"21600,21600"=20
 o:spt=3D"74" =
path=3D"m10860,2187c10451,1746,9529,1018,9015,730,7865,152,6685,,5415,,41=
75,152,2995,575,1967,1305,1150,2187,575,3222,242,4220,,5410,242,6560,575,=
7597l10860,21600,20995,7597v485,-1037,605,-2187,485,-3377c21115,3222,2042=
0,2187,19632,1305,18575,575,17425,152,16275,,15005,,13735,152,12705,730v-=
529,288,-1451,1016,-1845,1457xe">
 <v:stroke joinstyle=3D"miter" />
 <v:path gradientshapeok=3D"t" o:connecttype=3D"custom" =
o:connectlocs=3D"10860,2187;2928,10800;10860,21600;18672,10800"=20
  o:connectangles=3D"270,180,90,0" textboxrect=3D"5037,2277,16557,13677" =
/>
</v:shapetype><v:shape id=3D"DtsShapeName" o:spid=3D"_x0000_s1026" =
type=3D"#_x0000_t74"=20
 =
alt=3D"E9@C79G56B3656169@50D2425@G15305083M2685A;3CMSORIUHQM0,BIHO@]i6181=
6!!!!!!!!!!1113308@D@E@EOnsl`m/enu!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!1!1"=20
 =
style=3D'position:absolute;margin-left:0;margin-top:0;width:.05pt;height:=
.05pt;
 z-index:1;visibility:hidden'>
 <w:anchorlock/>
</v:shape><![endif]--></span></font><font size=3D2 color=3D"#1f497d" =
face=3DCalibri><span
style=3D'font-size:11.0pt;font-family:Calibri;color:#1F497D'>Yes; =
</span></font><font
size=3D2 color=3Dnavy face=3DArial><span =
style=3D'font-size:10.0pt;font-family:Arial;
color:navy'>draft-ieff-sipcore-reinvite-03.txt attempts to address some =
of the
issues.&nbsp; My favorite is the sections 3.5/4.5 text indicating to =
treat
(from a glare perspective) UPDATE without SDP as though it contained an
offer.&nbsp; Thus if I understand correctly, an UPDATE without SDP =
SHOULD
trigger 491 if step 1 contained offer SDP and step 3 was sent from UE2 =
to UE1.<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 color=3Dnavy face=3DArial><span =
style=3D'font-size:
10.0pt;font-family:Arial;color:navy'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 color=3Dnavy face=3DArial><span =
style=3D'font-size:
10.0pt;font-family:Arial;color:navy'>Concerning your example (assuming =
step 1
contained offer SDP), I currently find the draft to be ambiguous =
concerning
sending 491, 500, or 200.&nbsp; The ambiguity relates to not having a =
precise
definition of glare and some vendors preferring to send 491 instead of =
500.<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 color=3Dnavy face=3DArial><span =
style=3D'font-size:
10.0pt;font-family:Arial;color:navy'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 color=3Dnavy face=3DArial><span =
style=3D'font-size:
10.0pt;font-family:Arial;color:navy'>Concerning your example... yes; the =
UPDATE
2xx is allowed (even though potentially not following a SHOULD).&nbsp; =
However
at step 4, session-expires 600 becomes active; and at step 5 =
session-expires
1800 becomes active.</span></font><font size=3D2 color=3D"#1f497d" =
face=3DCalibri><span
style=3D'font-size:11.0pt;font-family:Calibri;color:#1F497D'><o:p></o:p><=
/span></font></p>

<p class=3DMsoNormal><font size=3D2 color=3D"#1f497d" =
face=3DCalibri><span
style=3D'font-size:11.0pt;font-family:Calibri;color:#1F497D'><o:p>&nbsp;<=
/o:p></span></font></p>

<div style=3D'border:none;border-left:solid blue 1.5pt;padding:0in 0in =
0in 4.0pt'>

<div>

<div style=3D'border:none;border-top:solid #B5C4DF 1.0pt;padding:3.0pt =
0in 0in 0in'>

<p class=3DMsoNormal><b><font size=3D2 face=3DTahoma><span =
style=3D'font-size:10.0pt;
font-family:Tahoma;font-weight:bold'>From:</span></font></b><font =
size=3D2
face=3DTahoma><span style=3D'font-size:10.0pt;font-family:Tahoma'> =
Harbhanu
[mailto:harbhanu@huawei.com] <br>
<b><span style=3D'font-weight:bold'>Sent:</span></b> Friday, May 21, =
2010 10:07
AM<br>
<b><span style=3D'font-weight:bold'>To:</span></b> Brett Tate; =
sip@ietf.org<br>
<b><span style=3D'font-weight:bold'>Cc:</span></b>
Gonzalo.Camarillo@ericsson.com; Christer.Holmberg@ericsson.com;
gao.yang2@zte.com.cn<br>
<b><span style=3D'font-weight:bold'>Subject:</span></b> RE: [Sip] Reg. =
session
timer+earlyupdate<o:p></o:p></span></font></p>

</div>

</div>

<p class=3DMsoNormal><font size=3D3 face=3D"Times New Roman"><span =
style=3D'font-size:
12.0pt'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 color=3Dnavy face=3DArial><span =
style=3D'font-size:
10.0pt;font-family:Arial;color:navy'>Hi =
Brett,<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 color=3Dnavy face=3DArial><span =
style=3D'font-size:
10.0pt;font-family:Arial;color:navy'>I just came across an interesting =
draft in
this regard &#8211; draft-ieff-sipcore-reinvite-03.txt. Please =
refer.<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 color=3Dnavy face=3DArial><span =
style=3D'font-size:
10.0pt;font-family:Arial;color:navy'>IMO this does attempt to address a =
lot of
UPDATE-[re-]INVITE pain areas &#8230; <o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 color=3Dnavy face=3DArial><span =
style=3D'font-size:
10.0pt;font-family:Arial;color:navy'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'>1. UE1 --- INVITE SE-1800 </span></font><font =
size=3D2
face=3DWingdings><span =
style=3D'font-size:10.0pt;font-family:Wingdings'>&agrave;</span></font><f=
ont
size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;font-family:Arial'> =
UE2<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'>2. UE1 &lt;--- 183 ------------------ =
UE2<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'>3. UE1 --- UPDATE SE-600 </span></font><font size=3D2
face=3DWingdings><span =
style=3D'font-size:10.0pt;font-family:Wingdings'>&agrave;</span></font><f=
ont
size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;font-family:Arial'> =
UE2<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'>4. UE1 &lt;--- 200 UPDATE -SE600 -- =
UE2<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'>5. UE1 &lt;--- 200 INVITE SE-1800 -- =
UE2<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 color=3Dnavy face=3DArial><span =
style=3D'font-size:
10.0pt;font-family:Arial;color:navy'>&nbsp;<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 color=3Dnavy face=3DArial><span =
style=3D'font-size:
10.0pt;font-family:Arial;color:navy'>AFAICU, as per this draft the UAS =
will
take care of sending -<o:p></o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-indent:.5in'><font size=3D2 =
color=3Dnavy face=3DArial><span
style=3D'font-size:10.0pt;font-family:Arial;color:navy'>1. Either 2xx of =
INVITE
and wait till its ACK for sending success response of UPDATE &amp; might =
also
send a 409&#8230; <o:p></o:p></span></font></p>

<p class=3DMsoNormal style=3D'text-indent:.5in'><font size=3D2 =
color=3Dnavy face=3DArial><span
style=3D'font-size:10.0pt;font-family:Arial;color:navy'>2. Or 2xx of =
UPDATE
before sending 2xx of INVITE.<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 color=3Dnavy face=3DArial><span =
style=3D'font-size:
10.0pt;font-family:Arial;color:navy'>Similarly, UAC also do have clearly
defined expectations &#8230;<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 color=3Dnavy face=3DArial><span =
style=3D'font-size:
10.0pt;font-family:Arial;color:navy'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 color=3Dnavy face=3DArial><span =
style=3D'font-size:
10.0pt;font-family:Arial;color:navy'>That said, the UPDATE -2xx here is
absolutely allowed and so does the INV =
2xx&#8230;<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 color=3Dnavy face=3DArial><span =
style=3D'font-size:
10.0pt;font-family:Arial;color:navy'>Although not explicitly specified =
in this
draft, but for the given scenario both UAC and UAS SHOULD run timer with =
value
600. Atleast UAC MUST.<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 color=3Dnavy face=3DArial><span =
style=3D'font-size:
10.0pt;font-family:Arial;color:navy'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 color=3Dnavy face=3DArial><span =
style=3D'font-size:
10.0pt;font-family:Arial;color:navy'>Please correct me, if I am wrong. =
Thanks!<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 color=3Dnavy face=3DArial><span =
style=3D'font-size:
10.0pt;font-family:Arial;color:navy'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 color=3Dnavy face=3DArial><span =
style=3D'font-size:
10.0pt;font-family:Arial;color:navy'>Authors of
draft-ieff-sipcore-reinvite-03.txt: IMO this draft can consider this =
glare
scenario as well, i.e. session timer, to make it more a comprehensive =
text. <o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 color=3Dnavy face=3DArial><span =
style=3D'font-size:
10.0pt;font-family:Arial;color:navy'>Excellent effort =
anyways!!<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 color=3Dnavy face=3DArial><span =
style=3D'font-size:
10.0pt;font-family:Arial;color:navy'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 color=3Dnavy face=3DArial><span =
style=3D'font-size:
10.0pt;font-family:Arial;color:navy'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 color=3Dnavy face=3DArial><span =
style=3D'font-size:
10.0pt;font-family:Arial;color:navy'>Regards,<o:p></o:p></span></font></p=
>

<p class=3DMsoNormal><font size=3D2 color=3Dnavy face=3DArial><span =
style=3D'font-size:
10.0pt;font-family:Arial;color:navy'>Harbhanu<o:p></o:p></span></font></p=
>

<p class=3DMsoNormal><font size=3D2 color=3Dnavy face=3DArial><span =
style=3D'font-size:
10.0pt;font-family:Arial;color:navy'>************************************=
*************************************************************************=
*************************************************************************=
*****<br>
This e-mail and attachments contain confidential information from =
HUAWEI, which
is intended only for the person or entity whose address is listed above. =
Any
use of the information contained herein in any way (including, but not =
limited
to, total or partial disclosure, reproduction, or dissemination) by =
persons
other than the intended recipient's) is prohibited. If you receive this =
e-mail
in error, please notify the sender by phone or email immediately and =
delete it!</span></font><o:p></o:p></p>

<div class=3DMsoNormal align=3Dcenter style=3D'text-align:center'><font =
size=3D3
face=3D"Times New Roman"><span style=3D'font-size:12.0pt'>

<hr size=3D2 width=3D"100%" align=3Dcenter>

</span></font></div>

<p class=3DMsoNormal><b><font size=3D2 face=3DTahoma><span =
style=3D'font-size:10.0pt;
font-family:Tahoma;font-weight:bold'>From:</span></font></b><font =
size=3D2
face=3DTahoma><span style=3D'font-size:10.0pt;font-family:Tahoma'> Brett =
Tate
[mailto:brett@broadsoft.com] <br>
<b><span style=3D'font-weight:bold'>Sent:</span></b> Tuesday, May 18, =
2010 7:49
PM<br>
<b><span style=3D'font-weight:bold'>To:</span></b> Harbhanu; =
sip@ietf.org<br>
<b><span style=3D'font-weight:bold'>Subject:</span></b> RE: [Sip] Reg. =
session
timer+earlyupdate</span></font><o:p></o:p></p>

<p class=3DMsoNormal><font size=3D3 face=3D"Times New Roman"><span =
style=3D'font-size:
12.0pt'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D3 face=3D"Times New Roman"><span =
style=3D'font-size:
12.0pt'><!--[if gte vml 1]><v:shape id=3D"_x0000_s1026" =
type=3D"#_x0000_t74" =
alt=3D"E9@C79G56B3656169@50D2425@G15305083M2685A;3CMSORIUHQM0,BIHO@]i6181=
6!!!!!!!!!!1113308@D@E@EOnsl`m/enu!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!1!1"=20
 =
style=3D'position:absolute;margin-left:0;margin-top:0;width:.05pt;height:=
.05pt;
 z-index:2;visibility:hidden'>
 <w:anchorlock/>
</v:shape><![endif]--></span></font><font size=3D2 color=3D"#1f497d" =
face=3DCalibri><span
style=3D'font-size:11.0pt;font-family:Calibri;color:#1F497D'>Similar to =
many
other of SIP RFCs, RFC4028 has race condition issues.&nbsp; Thus the =
UAC, UAS,
and proxies might not be in agreement concerning session-expires value,
activation, and/or refresher.<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 color=3D"#1f497d" =
face=3DCalibri><span
style=3D'font-size:11.0pt;font-family:Calibri;color:#1F497D'><o:p>&nbsp;<=
/o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 color=3D"#1f497d" =
face=3DCalibri><span
style=3D'font-size:11.0pt;font-family:Calibri;color:#1F497D'>Based upon =
RFC4028,
it is basically the latest negotiated 2xx sent/received.&nbsp; Within =
the call
flow provided, the INVITE 2xx&#8217;s Session-Expires value is =
latest.&nbsp;
However since there can be race conditions associated within UPDATE, =
UPDATE
2xx, and INVITE 2xx, the UAC, UAS, and proxies might not all be in =
agreement
concerning which 2xx was the latest.<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 color=3D"#1f497d" =
face=3DCalibri><span
style=3D'font-size:11.0pt;font-family:Calibri;color:#1F497D'><o:p>&nbsp;<=
/o:p></span></font></p>

<div style=3D'border:none;border-left:solid blue 1.5pt;padding:0in 0in =
0in 4.0pt'>

<div>

<div style=3D'border:none;border-top:solid #B5C4DF 1.0pt;padding:3.0pt =
0in 0in 0in'>

<p class=3DMsoNormal><b><font size=3D2 face=3DTahoma><span =
style=3D'font-size:10.0pt;
font-family:Tahoma;font-weight:bold'>From:</span></font></b><font =
size=3D2
face=3DTahoma><span style=3D'font-size:10.0pt;font-family:Tahoma'> =
Harbhanu [mailto:harbhanu@huawei.com]
<br>
<b><span style=3D'font-weight:bold'>Sent:</span></b> Tuesday, May 18, =
2010 9:44
AM<br>
<b><span style=3D'font-weight:bold'>To:</span></b> Brett Tate; =
sip@ietf.org<br>
<b><span style=3D'font-weight:bold'>Subject:</span></b> RE: [Sip] Reg. =
session
timer+earlyupdate<o:p></o:p></span></font></p>

</div>

</div>

<p class=3DMsoNormal><font size=3D3 face=3D"Times New Roman"><span =
style=3D'font-size:
12.0pt'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 color=3Dnavy face=3DArial><span =
style=3D'font-size:
10.0pt;font-family:Arial;color:navy'>May be your expectation is correct, =
but
here the issue is in defining the behavior of UA for the following =
scenario.<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 color=3Dnavy face=3DArial><span =
style=3D'font-size:
10.0pt;font-family:Arial;color:navy'>I will rephrase the =
issue&#8230;Which
value should the UAC and UAS take for SE and interval timer, when either =
of
them is acting as refresher ? i.e.<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 color=3Dnavy face=3DArial><span =
style=3D'font-size:
10.0pt;font-family:Arial;color:navy'><o:p>&nbsp;</o:p></span></font></p>

<ol style=3D'margin-top:0in' start=3D1 type=3D1>
 <li class=3DMsoNormal style=3D'color:navy;mso-list:l1 level1 =
lfo3'><font size=3D2
     color=3Dnavy face=3DArial><span =
style=3D'font-size:10.0pt;font-family:Arial'>UAC
     refresher, then SE and refresh time for UAC and SE value at =
UAS?<o:p></o:p></span></font></li>
 <li class=3DMsoNormal style=3D'color:navy;mso-list:l1 level1 =
lfo3'><font size=3D2
     color=3Dnavy face=3DArial><span =
style=3D'font-size:10.0pt;font-family:Arial'>UAS
     refresher, then SE and refresh time for UAS and SE value at =
UAC?<o:p></o:p></span></font></li>
</ol>

<p class=3DMsoNormal style=3D'margin-left:.25in'><font size=3D2 =
color=3Dnavy
face=3DArial><span =
style=3D'font-size:10.0pt;font-family:Arial;color:navy'><o:p>&nbsp;</o:p>=
</span></font></p>

<p class=3DMsoNormal><font size=3D2 color=3Dnavy face=3DArial><span =
style=3D'font-size:
10.0pt;font-family:Arial;color:navy'>Please consider the consistency of
behavior incase there is a crossover of 2xx of UPDATE and that of =
INVITE.<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 color=3Dnavy face=3DArial><span =
style=3D'font-size:
10.0pt;font-family:Arial;color:navy'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 color=3Dnavy face=3DArial><span =
style=3D'font-size:
10.0pt;font-family:Arial;color:navy'>************************************=
***************************************************<br>
This e-mail and attachments contain confidential information from =
HUAWEI, which
is intended only for the person or entity whose address is listed above. =
Any
use of the information contained herein in any way (including, but not =
limited
to, total or partial disclosure, reproduction, or dissemination) by =
persons
other than the intended recipient's) is prohibited. If you receive this =
e-mail
in error, please notify the sender by phone or email immediately and =
delete it!</span></font><o:p></o:p></p>

<div class=3DMsoNormal align=3Dcenter style=3D'text-align:center'><font =
size=3D3
face=3D"Times New Roman"><span style=3D'font-size:12.0pt'>

<hr size=3D2 width=3D"100%" align=3Dcenter>

</span></font></div>

<p class=3DMsoNormal><b><font size=3D2 face=3DTahoma><span =
style=3D'font-size:10.0pt;
font-family:Tahoma;font-weight:bold'>From:</span></font></b><font =
size=3D2
face=3DTahoma><span style=3D'font-size:10.0pt;font-family:Tahoma'> Brett =
Tate
[mailto:brett@broadsoft.com] <br>
<b><span style=3D'font-weight:bold'>Sent:</span></b> Tuesday, May 18, =
2010 6:10
PM<br>
<b><span style=3D'font-weight:bold'>To:</span></b> Harbhanu; =
sip@ietf.org<br>
<b><span style=3D'font-weight:bold'>Subject:</span></b> RE: [Sip] Reg. =
session
timer+earlyupdate</span></font><o:p></o:p></p>

<p class=3DMsoNormal><font size=3D3 face=3D"Times New Roman"><span =
style=3D'font-size:
12.0pt'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D3 face=3D"Times New Roman"><span =
style=3D'font-size:
12.0pt'><!--[if gte vml 1]><v:shape id=3D"_x0000_s1029" =
type=3D"#_x0000_t74" =
alt=3D"E9@C79G56B3656169@50D2425@G15305083M2685A;3CMSORIUHQM0,BIHO@]i6181=
6!!!!!!!!!!1113308@D@E@EOnsl`m/enu!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!1!1"=20
 =
style=3D'position:absolute;margin-left:0;margin-top:0;width:.05pt;height:=
.05pt;
 z-index:3;visibility:hidden'>
 <w:anchorlock/>
</v:shape><![endif]--></span></font><font size=3D2 color=3D"#1f497d" =
face=3DCalibri><span
style=3D'font-size:11.0pt;font-family:Calibri;color:#1F497D'>The UAS is
compliant; thus sending BYE (because think UAS is acting incorrectly) is =
not
correct behavior.&nbsp; If the following is the section 9 snippet in =
question,
notice that the dialog&#8217;s previously negotiated session-expires =
value has
no relevance; the &#8220;MUST NOT&#8221; is associated the header =
received
within the request.&nbsp; If you are referring to another &#8220;MUST
NOT&#8221; (within this section or another), please send the =
paragraph.<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 color=3D"#1f497d" =
face=3DCalibri><span
style=3D'font-size:11.0pt;font-family:Calibri;color:#1F497D'><o:p>&nbsp;<=
/o:p></span></font></p>

<pre style=3D'page-break-before:always'><font size=3D2 color=3D"#1f497d"
face=3DCalibri><span =
style=3D'font-size:11.0pt;font-family:Calibri;color:#1F497D'>&#8220;</spa=
n></font><font
size=3D2><span lang=3DEN style=3D'font-size:10.0pt'>&nbsp; If the UAS =
wishes to accept the request, it copies the value of =
the<o:p></o:p></span></font></pre>

<p class=3DMsoNormal style=3D'page-break-before:always'><font size=3D2
face=3D"Courier New"><span lang=3DEN =
style=3D'font-size:10.0pt;font-family:"Courier New"'>&nbsp;&nbsp;
Session-Expires header field from the request into the 2xx =
response.<o:p></o:p></span></font></p>

<pre style=3D'page-break-before:always'><font size=3D2 face=3D"Courier =
New"><span
lang=3DEN style=3D'font-size:10.0pt'>&nbsp;&nbsp; The UAS response MAY =
reduce its value but MUST NOT set it to =
a<o:p></o:p></span></font></pre><pre
style=3D'page-break-before:always'><font size=3D2 face=3D"Courier =
New"><span lang=3DEN
style=3D'font-size:10.0pt'>&nbsp;&nbsp; duration lower than the value in =
the Min-SE header field in the<o:p></o:p></span></font></pre><pre
style=3D'page-break-before:always'><font size=3D2 face=3D"Courier =
New"><span lang=3DEN
style=3D'font-size:10.0pt'>&nbsp;&nbsp; request, if it is present; =
otherwise the UAS MAY reduce its value =
but<o:p></o:p></span></font></pre><pre
style=3D'page-break-before:always'><font size=3D2 face=3D"Courier =
New"><span lang=3DEN
style=3D'font-size:10.0pt'>&nbsp;&nbsp; MUST NOT set it to a duration =
lower than 90 seconds.&nbsp; The UAS =
MUST<o:p></o:p></span></font></pre><pre
style=3D'page-break-before:always'><font size=3D2 face=3D"Courier =
New"><span lang=3DEN
style=3D'font-size:10.0pt'>&nbsp;&nbsp; NOT increase the value of the =
Session-Expires header field.<o:p></o:p></span></font></pre>

<p class=3DMsoNormal><font size=3D2 color=3D"#1f497d" =
face=3DCalibri><span
style=3D'font-size:11.0pt;font-family:Calibri;color:#1F497D'>&#8221;<o:p>=
</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 color=3D"#1f497d" =
face=3DCalibri><span
style=3D'font-size:11.0pt;font-family:Calibri;color:#1F497D'><o:p>&nbsp;<=
/o:p></span></font></p>

<div style=3D'border:none;border-left:solid blue 1.5pt;padding:0in 0in =
0in 4.0pt'>

<div>

<div style=3D'border:none;border-top:solid #B5C4DF 1.0pt;padding:3.0pt =
0in 0in 0in'>

<p class=3DMsoNormal><b><font size=3D2 face=3DTahoma><span =
style=3D'font-size:10.0pt;
font-family:Tahoma;font-weight:bold'>From:</span></font></b><font =
size=3D2
face=3DTahoma><span style=3D'font-size:10.0pt;font-family:Tahoma'>
sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] <b><span =
style=3D'font-weight:
bold'>On Behalf Of </span></b>Harbhanu<br>
<b><span style=3D'font-weight:bold'>Sent:</span></b> Tuesday, May 18, =
2010 4:35
AM<br>
<b><span style=3D'font-weight:bold'>To:</span></b> sip@ietf.org<br>
<b><span style=3D'font-weight:bold'>Subject:</span></b> [Sip] Reg. =
session
timer+earlyupdate<o:p></o:p></span></font></p>

</div>

</div>

<p class=3DMsoNormal><font size=3D3 face=3D"Times New Roman"><span =
style=3D'font-size:
12.0pt'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D3 face=3D"Times New Roman"><span =
style=3D'font-size:
12.0pt'><!--[if gte vml 1]><v:shape id=3D"_x0000_s1028" =
type=3D"#_x0000_t74" =
alt=3D"E9@C79G56B3656169@50D2425@G15305083M2685A;3CMSORIUHQM0,BIHO@]i6181=
6!!!!!!!!!!1113308@D@E@EOnsl`m/enu!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!1!1"=20
 =
style=3D'position:absolute;margin-left:0;margin-top:0;width:.05pt;height:=
.05pt;
 z-index:4;visibility:hidden'>
 <w:anchorlock/>
</v:shape><![endif]--></span></font><font size=3D2 face=3DArial><span
style=3D'font-size:10.0pt;font-family:Arial'>Hi,<o:p></o:p></span></font>=
</p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'>We were unable to locate the specific behavior of =
session
timer handling in<font color=3Dnavy><span style=3D'color:navy'> =
</span></font>UA,
for the following scenario:<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'>1. UE1 --- INVITE SE-1800 </span></font><font =
size=3D2
face=3DWingdings><span =
style=3D'font-size:10.0pt;font-family:Wingdings'>&agrave;</span></font><f=
ont
size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;font-family:Arial'> =
UE2<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'>2. UE1 &lt;--- 183 ------------------ =
UE2<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'>3. UE1 --- UPDATE SE-600 </span></font><font size=3D2
face=3DWingdings><span =
style=3D'font-size:10.0pt;font-family:Wingdings'>&agrave;</span></font><f=
ont
size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;font-family:Arial'> =
UE2<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'>4. UE1 &lt;--- 200 UPDATE -SE600 -- =
UE2<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'>5. UE1 &lt;--- 200 INVITE SE-1800 -- =
UE2<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'>6. UE1 ------------------------- &nbsp;BYE =
</span></font><font
size=3D2 face=3DWingdings><span =
style=3D'font-size:10.0pt;font-family:Wingdings'>&agrave;</span></font><f=
ont
size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;font-family:Arial'> =
UE2<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'>7. UE1 &lt;--- BYE 200 ------------------ =
UE2<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'>Here, UE1 sends a BYE since UE2(UAS) has increased =
the value
of session expires, which it MUST NOT (4028-Section-9, =
Page-16).<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'>Please let me know whether this behaviour is correct =
or not.<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'>Thanks in advance.<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'>Regards,<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'>Harbhanu<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D3 face=3D"Times New Roman"><span =
style=3D'font-size:
12.0pt'><o:p>&nbsp;</o:p></span></font></p>

</div>

</div>

</div>

</div>

</body>

</html>

--Boundary_(ID_KdhIB54FrJM0mJE51Gw5Yg)--

From brett@broadsoft.com  Sun May 23 08:23:37 2010
Return-Path: <brett@broadsoft.com>
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1]) by core3.amsl.com (Postfix) with ESMTP id AA6053A6BE9 for <sip@core3.amsl.com>; Sun, 23 May 2010 08:23:37 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -1.453
X-Spam-Level: 
X-Spam-Status: No, score=-1.453 tagged_above=-999 required=5 tests=[AWL=-0.344, BAYES_05=-1.11, HTML_MESSAGE=0.001]
Received: from mail.ietf.org ([64.170.98.32]) by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024) with ESMTP id oVFqWdkOsixd for <sip@core3.amsl.com>; Sun, 23 May 2010 08:23:21 -0700 (PDT)
Received: from smtp-out01.seaservers.net (smtp-out01.seaservers.net [72.37.232.66]) by core3.amsl.com (Postfix) with ESMTP id E180A3A63EB for <sip@ietf.org>; Sun, 23 May 2010 08:23:20 -0700 (PDT)
Received: from EXMBXCLUS01.citservers.local ([fe80:0000:0000:0000:a488:d1ec:167.6.58.109]) by casumhub01.citservers.local ([172.16.98.57]) with mapi; Sun, 23 May 2010 08:23:11 -0700
From: Brett Tate <brett@broadsoft.com>
To: Harbhanu <harbhanu@huawei.com>, "sip@ietf.org" <sip@ietf.org>
Date: Sun, 23 May 2010 08:22:06 -0700
Thread-Topic: [Sip] Reg. session timer+earlyupdate
Thread-Index: Acr1g4osur4vNccuTTiDg5e8TTaePQA4TWWwAAcXMZAAA3O3gAAAppygAJZUqSAABddToABQhn0gAA9G/tA=
Message-ID: <747A6506A991724FB09B129B79D5FEB614816DC214@EXMBXCLUS01.citservers.local>
References: <CD39FCAB00D54E869CC60E16B58BFAAE@china.huawei.com> <747A6506A991724FB09B129B79D5FEB614815B6E3D@EXMBXCLUS01.citservers.local> <80A4862FA0D64E62A9EDF26CA4FC1499@china.huawei.com> <747A6506A991724FB09B129B79D5FEB614815B6F3C@EXMBXCLUS01.citservers.local> <1C2171A5980844C680F14EF95FD22DA2@china.huawei.com> <747A6506A991724FB09B129B79D5FEB61481641ABB@EXMBXCLUS01.citservers.local> <F7B13E8712B84409A70930FE71CFB0C9@china.huawei.com>
In-Reply-To: <F7B13E8712B84409A70930FE71CFB0C9@china.huawei.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
acceptlanguage: en-US
Content-Type: multipart/alternative; boundary="_000_747A6506A991724FB09B129B79D5FEB614816DC214EXMBXCLUS01ci_"
MIME-Version: 1.0
Cc: "Gonzalo.Camarillo@ericsson.com" <Gonzalo.Camarillo@ericsson.com>, "Christer.Holmberg@ericsson.com" <Christer.Holmberg@ericsson.com>
Subject: Re: [Sip] Reg. session timer+earlyupdate
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>, <mailto:sip-request@ietf.org?subject=unsubscribe>
List-Archive: <http://www.ietf.org/mail-archive/web/sip>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>, <mailto:sip-request@ietf.org?subject=subscribe>
X-List-Received-Date: Sun, 23 May 2010 15:23:45 -0000

--_000_747A6506A991724FB09B129B79D5FEB614816DC214EXMBXCLUS01ci_
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

My apologies for indicating "SHOULD"; draft-ietf-sipcore-reinvite-04  and R=
FC3311 actually appear to use "MUST".  Thus based upon the draft, an UPDATE=
 without SDP MUST now be rejected unless an answer SDP has been received fo=
r the INVITE's offer SDP.  The draft doesn't adjust the rfc4028 behavior th=
at you appear to want altered.  If want the rfc4028 behavior changed, I rec=
ommend that you post your concerns to the sipcore working group.


Draft-ietf-sipcore-reinvite-04 section 3.5:

"  An UPDATE request without an offer can change dialog parameters.  So
   can a non-2xx final response to a re-INVITE request or a 2xx response
   to an INVITE request (re-INVITE or initial INVITE).  However, there
   are no rules to avoid a collision between an offerless UPDATE request
   and a final response to an INVITE request.  The rules in Section 4.5<htt=
p://tools.ietf.org/html/draft-ietf-sipcore-reinvite-04#section-4.5>,
   which are given in the context of target refreshes, cover these types
   of collisions as well.  Therefore, there is no need to specify
   further rules here."

Draft-ietf-sipcore-reinvite-04 section 4.5:

"  When checking for glare situations, UAs MUST treat every UPDATE
   request as if it contained an offer.  Additionally, UAs MUST treat
   the exchange of a 2xx response to an INVITE request and its
   corresponding ACK request as an offer/answer exchange.  Consequently,
   the rules regarding glare situations applicable to offer/answer
   exchanges are also applicable to those exchanges."

RFC3311 section 5.2:

"  If an UPDATE is received that contains an offer, and the UAS has
   generated an offer (in an UPDATE, PRACK or INVITE) to which it has
   not yet received an answer, the UAS MUST reject the UPDATE with a 491
   response.  Similarly, if an UPDATE is received that contains an
   offer, and the UAS has received an offer (in an UPDATE, PRACK, or
   INVITE) to which it has not yet generated an answer, the UAS MUST
   reject the UPDATE with a 500 response, and MUST include a Retry-After
   header field with a randomly chosen value between 0 and 10 seconds."


From: Harbhanu [mailto:harbhanu@huawei.com]
Sent: Sunday, May 23, 2010 3:34 AM
To: Brett Tate; sip@ietf.org
Cc: Gonzalo.Camarillo@ericsson.com; Christer.Holmberg@ericsson.com; gao.yan=
g2@zte.com.cn
Subject: RE: [Sip] Reg. session timer+earlyupdate

>> Concerning your example... yes; the UPDATE 2xx is allowed (even though p=
otentially not following a SHOULD).
Please let me know which 'SHOULD' clause is missed...

Although in the draft, it does mentions about failure response to re-INVITE=
, but again the crossover of success response will make things murkier.
"If the UAC of a re-INVITE transaction sends an UPDATE request with an
   offer, receives a non-2xx response to the re-INVITE, and then a 2xx
   response to the UPDATE request, the UA SHOULD generate a new re-
   INVITE or UPDATE request in order to make sure that both UAs have a
   common view of the state of the session, as described in Section 3.4."

Here, I beg to disagree that UAC should run a timer value of 1800, since th=
en the sole purpose of this early refresh will be defeated. Although what y=
ou just said is as per 4028, but as already discussed, it doesn't mention a=
nything about early negotiation of Session-timer and certainly not the UPDA=
TE/ INVITE glare. So 4028 will not suffice to standardize the behavior here=
.

So, either the UPDATE should be *explicitly* disallowed and rejected with a=
 491 or it should be treated as a refresh request queued after the INVITE, =
to be effective after the INVITE parameters takes effect and thus making bo=
th run with SE value 600.
Here, the basis of former behavior can be formed as - the INVITE is carryin=
g the 'offer', to negotiate the SE, and thus it disallows the generation of=
 UPDATE which too attempts to update the SE ('offer').

Please share your opinion.

***************************************************************************=
***************************************************************************=
*****
This e-mail and attachments contain confidential information from HUAWEI, w=
hich is intended only for the person or entity whose address is listed abov=
e. Any use of the information contained herein in any way (including, but n=
ot limited to, total or partial disclosure, reproduction, or dissemination)=
 by persons other than the intended recipient's) is prohibited. If you rece=
ive this e-mail in error, please notify the sender by phone or email immedi=
ately and delete it!
________________________________
From: Brett Tate [mailto:brett@broadsoft.com]
Sent: Friday, May 21, 2010 10:23 PM
To: Harbhanu; sip@ietf.org
Cc: Gonzalo.Camarillo@ericsson.com; Christer.Holmberg@ericsson.com; gao.yan=
g2@zte.com.cn
Subject: RE: [Sip] Reg. session timer+earlyupdate

Yes; draft-ieff-sipcore-reinvite-03.txt attempts to address some of the iss=
ues.  My favorite is the sections 3.5/4.5 text indicating to treat (from a =
glare perspective) UPDATE without SDP as though it contained an offer.  Thu=
s if I understand correctly, an UPDATE without SDP SHOULD trigger 491 if st=
ep 1 contained offer SDP and step 3 was sent from UE2 to UE1.

Concerning your example (assuming step 1 contained offer SDP), I currently =
find the draft to be ambiguous concerning sending 491, 500, or 200.  The am=
biguity relates to not having a precise definition of glare and some vendor=
s preferring to send 491 instead of 500.

Concerning your example... yes; the UPDATE 2xx is allowed (even though pote=
ntially not following a SHOULD).  However at step 4, session-expires 600 be=
comes active; and at step 5 session-expires 1800 becomes active.

From: Harbhanu [mailto:harbhanu@huawei.com]
Sent: Friday, May 21, 2010 10:07 AM
To: Brett Tate; sip@ietf.org
Cc: Gonzalo.Camarillo@ericsson.com; Christer.Holmberg@ericsson.com; gao.yan=
g2@zte.com.cn
Subject: RE: [Sip] Reg. session timer+earlyupdate

Hi Brett,
I just came across an interesting draft in this regard - draft-ieff-sipcore=
-reinvite-03.txt. Please refer.
IMO this does attempt to address a lot of UPDATE-[re-]INVITE pain areas ...

1. UE1 --- INVITE SE-1800 --> UE2
2. UE1 <--- 183 ------------------ UE2

3. UE1 --- UPDATE SE-600 --> UE2
4. UE1 <--- 200 UPDATE -SE600 -- UE2

5. UE1 <--- 200 INVITE SE-1800 -- UE2

AFAICU, as per this draft the UAS will take care of sending -
1. Either 2xx of INVITE and wait till its ACK for sending success response =
of UPDATE & might also send a 409...
2. Or 2xx of UPDATE before sending 2xx of INVITE.
Similarly, UAC also do have clearly defined expectations ...

That said, the UPDATE -2xx here is absolutely allowed and so does the INV 2=
xx...
Although not explicitly specified in this draft, but for the given scenario=
 both UAC and UAS SHOULD run timer with value 600. Atleast UAC MUST.

Please correct me, if I am wrong. Thanks!

Authors of draft-ieff-sipcore-reinvite-03.txt: IMO this draft can consider =
this glare scenario as well, i.e. session timer, to make it more a comprehe=
nsive text.
Excellent effort anyways!!


Regards,
Harbhanu


--_000_747A6506A991724FB09B129B79D5FEB614816DC214EXMBXCLUS01ci_
Content-Type: text/html; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

<html xmlns:v=3D"urn:schemas-microsoft-com:vml" xmlns:o=3D"urn:schemas-micr=
osoft-com:office:office" xmlns:w=3D"urn:schemas-microsoft-com:office:word" =
xmlns:m=3D"http://schemas.microsoft.com/office/2004/12/omml" xmlns=3D"http:=
//www.w3.org/TR/REC-html40">

<head>
<meta http-equiv=3DContent-Type content=3D"text/html; charset=3Diso-8859-1"=
>
<meta name=3DGenerator content=3D"Microsoft Word 12 (filtered medium)">
<!--[if !mso]>
<style>
v\:* {behavior:url(#default#VML);}
o\:* {behavior:url(#default#VML);}
w\:* {behavior:url(#default#VML);}
.shape {behavior:url(#default#VML);}
</style>
<![endif]-->
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:Wingdings;
	panose-1:5 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Cambria Math";
	panose-1:2 4 5 3 5 4 6 3 2 4;}
@font-face
	{font-family:Calibri;
	panose-1:2 15 5 2 2 2 4 3 2 4;}
@font-face
	{font-family:Tahoma;
	panose-1:2 11 6 4 3 5 4 4 2 4;}
@font-face
	{font-family:Consolas;
	panose-1:2 11 6 9 2 2 4 3 2 4;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin:0in;
	margin-bottom:.0001pt;
	font-size:12.0pt;
	font-family:"Times New Roman","serif";}
a:link, span.MsoHyperlink
	{mso-style-priority:99;
	color:blue;
	text-decoration:underline;}
a:visited, span.MsoHyperlinkFollowed
	{mso-style-priority:99;
	color:purple;
	text-decoration:underline;}
pre
	{mso-style-priority:99;
	mso-style-link:"HTML Preformatted Char";
	margin:0in;
	margin-bottom:.0001pt;
	font-size:12.0pt;
	font-family:"Courier New";}
span.HTMLPreformattedChar
	{mso-style-name:"HTML Preformatted Char";
	mso-style-priority:99;
	mso-style-link:"HTML Preformatted";
	font-family:Consolas;}
span.htmlpreformattedchar0
	{mso-style-name:htmlpreformattedchar;
	mso-style-priority:99;
	font-family:Consolas;}
span.htmlpreformattedchar00
	{mso-style-name:htmlpreformattedchar0;
	mso-style-priority:99;
	font-family:Consolas;}
span.htmlpreformattedchar000
	{mso-style-name:htmlpreformattedchar00;
	mso-style-priority:99;
	font-family:"Courier New";}
span.EmailStyle22
	{mso-style-type:personal;
	font-family:"Arial","sans-serif";
	color:windowtext;}
span.EmailStyle23
	{mso-style-type:personal;
	font-family:"Arial","sans-serif";
	color:navy;}
span.EmailStyle24
	{mso-style-type:personal;
	font-family:"Calibri","sans-serif";
	color:#1F497D;}
span.EmailStyle25
	{mso-style-type:personal;
	font-family:"Arial","sans-serif";
	color:navy;}
span.EmailStyle26
	{mso-style-type:personal;
	font-family:"Calibri","sans-serif";
	color:#1F497D;}
span.EmailStyle27
	{mso-style-type:personal;
	font-family:"Arial","sans-serif";
	color:navy;}
span.EmailStyle28
	{mso-style-type:personal;
	font-family:"Calibri","sans-serif";
	color:#1F497D;}
span.EmailStyle29
	{mso-style-type:personal;
	font-family:"Arial","sans-serif";
	color:navy;}
span.EmailStyle30
	{mso-style-type:personal-reply;
	font-family:"Calibri","sans-serif";
	color:#1F497D;}
.MsoChpDefault
	{mso-style-type:export-only;
	font-size:10.0pt;}
@page Section1
	{size:8.5in 11.0in;
	margin:1.0in 1.25in 1.0in 1.25in;}
div.Section1
	{page:Section1;}
 /* List Definitions */
 @list l0
	{mso-list-id:703752740;
	mso-list-template-ids:1233127556;}
@list l1
	{mso-list-id:1410074883;
	mso-list-type:hybrid;
	mso-list-template-ids:-1702223866 67698703 67698713 67698715 67698703 6769=
8713 67698715 67698703 67698713 67698715;}
@list l1:level1
	{mso-level-tab-stop:.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l1:level2
	{mso-level-tab-stop:1.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l1:level3
	{mso-level-tab-stop:1.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l1:level4
	{mso-level-tab-stop:2.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l1:level5
	{mso-level-tab-stop:2.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l1:level6
	{mso-level-tab-stop:3.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l1:level7
	{mso-level-tab-stop:3.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l1:level8
	{mso-level-tab-stop:4.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l1:level9
	{mso-level-tab-stop:4.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
ol
	{margin-bottom:0in;}
ul
	{margin-bottom:0in;}
-->
</style>
<!--[if gte mso 9]><xml>
 <o:shapedefaults v:ext=3D"edit" spidmax=3D"1031" />
</xml><![endif]--><!--[if gte mso 9]><xml>
 <o:shapelayout v:ext=3D"edit">
  <o:idmap v:ext=3D"edit" data=3D"1" />
 </o:shapelayout></xml><![endif]-->
</head>

<body lang=3DEN-US link=3Dblue vlink=3Dpurple>

<div class=3DSection1>

<p class=3DMsoNormal><span style=3D'font-size:11.0pt;font-family:"Calibri",=
"sans-serif";
color:#1F497D'>My apologies for indicating &#8220;SHOULD&#8221;; draft-ietf=
-sipcore-reinvite-04
=A0and RFC3311 actually appear to use &#8220;MUST&#8221;.=A0 Thus based upo=
n the
draft, an UPDATE without SDP MUST now be rejected unless an answer SDP has =
been
received for the INVITE&#8217;s offer SDP.=A0 The draft doesn&#8217;t adjus=
t the
rfc4028 behavior that you appear to want altered.=A0 If want the rfc4028 be=
havior
changed, I recommend that you post your concerns to the sipcore working gro=
up.<o:p></o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:11.0pt;font-family:"Calibri",=
"sans-serif";
color:#1F497D'><o:p>&nbsp;</o:p></span></p>

<pre style=3D'page-break-before:always'><span style=3D'font-size:11.0pt;fon=
t-family:
"Calibri","sans-serif";color:#1F497D'>Draft-ietf-sipcore-reinvite-04 sectio=
n 3.5:<o:p></o:p></span></pre><pre
style=3D'page-break-before:always'><span style=3D'font-size:11.0pt;font-fam=
ily:
"Calibri","sans-serif";color:#1F497D'>&#8220;</span><span lang=3DEN
style=3D'font-size:10.0pt'>=A0 An UPDATE request without an offer can chang=
e dialog parameters.=A0 So<o:p></o:p></span></pre>

<p class=3DMsoNormal style=3D'page-break-before:always'><span lang=3DEN
style=3D'font-size:10.0pt;font-family:"Courier New"'>=A0=A0 can a non-2xx f=
inal
response to a re-INVITE request or a 2xx response<o:p></o:p></span></p>

<p class=3DMsoNormal style=3D'page-break-before:always'><span lang=3DEN
style=3D'font-size:10.0pt;font-family:"Courier New"'>=A0=A0 to an INVITE re=
quest
(re-INVITE or initial INVITE).=A0 However, there<o:p></o:p></span></p>

<p class=3DMsoNormal style=3D'page-break-before:always'><span lang=3DEN
style=3D'font-size:10.0pt;font-family:"Courier New"'>=A0=A0 are no rules to=
 avoid a
collision between an offerless UPDATE request<o:p></o:p></span></p>

<p class=3DMsoNormal style=3D'page-break-before:always'><span lang=3DEN
style=3D'font-size:10.0pt;font-family:"Courier New"'>=A0=A0 and a final res=
ponse to
an INVITE request.=A0 The rules in <a
href=3D"http://tools.ietf.org/html/draft-ietf-sipcore-reinvite-04#section-4=
.5">Section
4.5</a>,<o:p></o:p></span></p>

<p class=3DMsoNormal style=3D'page-break-before:always'><span lang=3DEN
style=3D'font-size:10.0pt;font-family:"Courier New"'>=A0=A0 which are given=
 in the
context of target refreshes, cover these types<o:p></o:p></span></p>

<p class=3DMsoNormal style=3D'page-break-before:always'><span lang=3DEN
style=3D'font-size:10.0pt;font-family:"Courier New"'>=A0=A0 of collisions a=
s well.=A0
Therefore, there is no need to specify<o:p></o:p></span></p>

<p class=3DMsoNormal style=3D'page-break-before:always'><span lang=3DEN
style=3D'font-size:10.0pt;font-family:"Courier New"'>=A0=A0 further rules h=
ere.&#8221;<o:p></o:p></span></p>

<p class=3DMsoNormal style=3D'page-break-before:always'><span lang=3DEN
style=3D'font-size:10.0pt;font-family:"Courier New"'><o:p>&nbsp;</o:p></spa=
n></p>

<p class=3DMsoNormal><span style=3D'font-size:11.0pt;font-family:"Calibri",=
"sans-serif";
color:#1F497D'>Draft-ietf-sipcore-reinvite-04 section 4.5:<o:p></o:p></span=
></p>

<pre style=3D'page-break-before:always'><span style=3D'font-size:11.0pt;fon=
t-family:
"Calibri","sans-serif";color:#1F497D'>&#8220;</span><span lang=3DEN
style=3D'font-size:10.0pt'>=A0 When checking for glare situations, UAs MUST=
 treat every UPDATE<o:p></o:p></span></pre>

<p class=3DMsoNormal style=3D'page-break-before:always'><span lang=3DEN
style=3D'font-size:10.0pt;font-family:"Courier New"'>=A0=A0 request as if i=
t
contained an offer.=A0 Additionally, UAs MUST treat<o:p></o:p></span></p>

<p class=3DMsoNormal style=3D'page-break-before:always'><span lang=3DEN
style=3D'font-size:10.0pt;font-family:"Courier New"'>=A0=A0 the exchange of=
 a 2xx
response to an INVITE request and its<o:p></o:p></span></p>

<p class=3DMsoNormal style=3D'page-break-before:always'><span lang=3DEN
style=3D'font-size:10.0pt;font-family:"Courier New"'>=A0=A0 corresponding A=
CK request
as an offer/answer exchange.=A0 Consequently,<o:p></o:p></span></p>

<p class=3DMsoNormal style=3D'page-break-before:always'><span lang=3DEN
style=3D'font-size:10.0pt;font-family:"Courier New"'>=A0=A0 the rules regar=
ding glare
situations applicable to offer/answer<o:p></o:p></span></p>

<p class=3DMsoNormal style=3D'page-break-before:always'><span lang=3DEN
style=3D'font-size:10.0pt;font-family:"Courier New"'>=A0=A0 exchanges are a=
lso
applicable to those exchanges.&#8221;<o:p></o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:11.0pt;font-family:"Calibri",=
"sans-serif";
color:#1F497D'><o:p>&nbsp;</o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:11.0pt;font-family:"Calibri",=
"sans-serif";
color:#1F497D'>RFC3311 section 5.2:<o:p></o:p></span></p>

<pre><span style=3D'font-size:11.0pt;font-family:"Calibri","sans-serif";
color:#1F497D'>&#8220;</span><span style=3D'font-size:10.0pt'>=A0 If an UPD=
ATE is received that contains an offer, and the UAS has<o:p></o:p></span></=
pre>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Courier N=
ew"'>=A0=A0
generated an offer (in an UPDATE, PRACK or INVITE) to which it has<o:p></o:=
p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Courier N=
ew"'>=A0=A0
not yet received an answer, the UAS MUST reject the UPDATE with a 491<o:p><=
/o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Courier N=
ew"'>=A0=A0
response.=A0 Similarly, if an UPDATE is received that contains an<o:p></o:p=
></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Courier N=
ew"'>=A0=A0
offer, and the UAS has received an offer (in an UPDATE, PRACK, or<o:p></o:p=
></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Courier N=
ew"'>=A0=A0
INVITE) to which it has not yet generated an answer, the UAS MUST<o:p></o:p=
></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Courier N=
ew"'>=A0=A0
reject the UPDATE with a 500 response, and MUST include a Retry-After<o:p><=
/o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Courier N=
ew"'>=A0=A0
header field with a randomly chosen value between 0 and 10 seconds.&#8221;<=
o:p></o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:11.0pt;font-family:"Calibri",=
"sans-serif";
color:#1F497D'><o:p>&nbsp;</o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:11.0pt;font-family:"Calibri",=
"sans-serif";
color:#1F497D'><o:p>&nbsp;</o:p></span></p>

<div style=3D'border:none;border-left:solid blue 1.5pt;padding:0in 0in 0in =
4.0pt'>

<div>

<div style=3D'border:none;border-top:solid #B5C4DF 1.0pt;padding:3.0pt 0in =
0in 0in'>

<p class=3DMsoNormal><b><span style=3D'font-size:10.0pt;font-family:"Tahoma=
","sans-serif"'>From:</span></b><span
style=3D'font-size:10.0pt;font-family:"Tahoma","sans-serif"'> Harbhanu
[mailto:harbhanu@huawei.com] <br>
<b>Sent:</b> Sunday, May 23, 2010 3:34 AM<br>
<b>To:</b> Brett Tate; sip@ietf.org<br>
<b>Cc:</b> Gonzalo.Camarillo@ericsson.com; Christer.Holmberg@ericsson.com;
gao.yang2@zte.com.cn<br>
<b>Subject:</b> RE: [Sip] Reg. session timer+earlyupdate<o:p></o:p></span><=
/p>

</div>

</div>

<p class=3DMsoNormal><o:p>&nbsp;</o:p></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif";
color:navy'>&gt;&gt; Concerning your example... yes; the UPDATE 2xx is allo=
wed
(even though potentially not following a SHOULD).&nbsp;<o:p></o:p></span></=
p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif";
color:navy'>Please let me know which &#8216;SHOULD&#8217; clause is
missed&#8230;<o:p></o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif";
color:navy'><o:p>&nbsp;</o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif";
color:navy'>Although in the draft, it does mentions about failure response =
to
re-INVITE, but again the crossover of success response will make things
murkier.<o:p></o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif"'>&#8220;If
the UAC of a re-INVITE transaction sends an UPDATE request with an<o:p></o:=
p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif"'>&nbsp;&nbsp;
offer, receives a non-2xx response to the re-INVITE, and then a 2xx<o:p></o=
:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif"'>&nbsp;&nbsp;
response to the UPDATE request, the UA SHOULD generate a new re-<o:p></o:p>=
</span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif"'>&nbsp;&nbsp;
INVITE or UPDATE request in order to make sure that both UAs have a<o:p></o=
:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif"'>&nbsp;&nbsp;
common view of the state of the session, as described in Section 3.4.&#8221=
;<o:p></o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif";
color:navy'><o:p>&nbsp;</o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif";
color:navy'>Here, I beg to disagree that UAC should run a timer value of 18=
00,
since then the sole purpose of this early refresh will be defeated. Althoug=
h
what you just said is as per 4028, but as already discussed, it doesn&#8217=
;t
mention anything about early negotiation of Session-timer and certainly not=
 the
UPDATE/ INVITE glare. So 4028 will not suffice to standardize the behavior
here.<o:p></o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif";
color:navy'><o:p>&nbsp;</o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif";
color:navy'>So, either the UPDATE should be *<b>explicitly</b>* disallowed =
and
rejected with a 491 or it should be treated as a refresh request queued aft=
er
the INVITE, to be effective after the INVITE parameters takes effect and th=
us
making both run with SE value 600. <o:p></o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif";
color:navy'>Here, the basis of former behavior can be formed as - the INVIT=
E is
carrying the &#8216;offer&#8217;, to negotiate the SE, and thus it disallow=
s
the generation of UPDATE which too attempts to update the SE
(&#8216;offer&#8217;).<o:p></o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif";
color:navy'><o:p>&nbsp;</o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif";
color:navy'>Please share your opinion.<o:p></o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif";
color:navy'><o:p>&nbsp;</o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif";
color:navy'>***************************************************************=
***************************************************************************=
*****************<br>
This e-mail and attachments contain confidential information from HUAWEI, w=
hich
is intended only for the person or entity whose address is listed above. An=
y
use of the information contained herein in any way (including, but not limi=
ted
to, total or partial disclosure, reproduction, or dissemination) by persons
other than the intended recipient's) is prohibited. If you receive this e-m=
ail
in error, please notify the sender by phone or email immediately and delete=
 it!</span><o:p></o:p></p>

<div class=3DMsoNormal align=3Dcenter style=3D'text-align:center'>

<hr size=3D2 width=3D"100%" align=3Dcenter>

</div>

<p class=3DMsoNormal><b><span style=3D'font-size:10.0pt;font-family:"Tahoma=
","sans-serif"'>From:</span></b><span
style=3D'font-size:10.0pt;font-family:"Tahoma","sans-serif"'> Brett Tate
[mailto:brett@broadsoft.com] <br>
<b>Sent:</b> Friday, May 21, 2010 10:23 PM<br>
<b>To:</b> Harbhanu; sip@ietf.org<br>
<b>Cc:</b> Gonzalo.Camarillo@ericsson.com; Christer.Holmberg@ericsson.com;
gao.yang2@zte.com.cn<br>
<b>Subject:</b> RE: [Sip] Reg. session timer+earlyupdate</span><o:p></o:p><=
/p>

<p class=3DMsoNormal><o:p>&nbsp;</o:p></p>

<p class=3DMsoNormal><!--[if gte vml 1]><v:shapetype id=3D"_x0000_t74" coor=
dsize=3D"21600,21600"=20
 o:spt=3D"74" path=3D"m10860,2187c10451,1746,9529,1018,9015,730,7865,152,66=
85,,5415,,4175,152,2995,575,1967,1305,1150,2187,575,3222,242,4220,,5410,242=
,6560,575,7597l10860,21600,20995,7597v485,-1037,605,-2187,485,-3377c21115,3=
222,20420,2187,19632,1305,18575,575,17425,152,16275,,15005,,13735,152,12705=
,730v-529,288,-1451,1016,-1845,1457xe">
 <v:stroke joinstyle=3D"miter" />
 <v:path gradientshapeok=3D"t" o:connecttype=3D"custom" o:connectlocs=3D"10=
860,2187;2928,10800;10860,21600;18672,10800"=20
  o:connectangles=3D"270,180,90,0" textboxrect=3D"5037,2277,16557,13677" />
</v:shapetype><v:shape id=3D"DtsShapeName" o:spid=3D"_x0000_s1026" type=3D"=
#_x0000_t74"=20
 alt=3D"E9@C79G56B3656169@50D2425@G15305083M2685A;3CMSORIUHQM0,BIHO@]i61816=
!!!!!!!!!!1113308@D@E@EOnsl`m/enu!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!=
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!1!1"=20
 style=3D'position:absolute;margin-left:0;margin-top:0;width:.05pt;height:.=
05pt;
 z-index:251656192;visibility:hidden'>
 <w:anchorlock/>
</v:shape><![endif]--><span style=3D'font-size:11.0pt;font-family:"Calibri"=
,"sans-serif";
color:#1F497D'>Yes; </span><span style=3D'font-size:10.0pt;font-family:"Ari=
al","sans-serif";
color:navy'>draft-ieff-sipcore-reinvite-03.txt attempts to address some of =
the
issues.&nbsp; My favorite is the sections 3.5/4.5 text indicating to treat
(from a glare perspective) UPDATE without SDP as though it contained an
offer.&nbsp; Thus if I understand correctly, an UPDATE without SDP SHOULD
trigger 491 if step 1 contained offer SDP and step 3 was sent from UE2 to U=
E1.<o:p></o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif";
color:navy'><o:p>&nbsp;</o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif";
color:navy'>Concerning your example (assuming step 1 contained offer SDP), =
I
currently find the draft to be ambiguous concerning sending 491, 500, or
200.&nbsp; The ambiguity relates to not having a precise definition of glar=
e
and some vendors preferring to send 491 instead of 500.<o:p></o:p></span></=
p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif";
color:navy'><o:p>&nbsp;</o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif";
color:navy'>Concerning your example... yes; the UPDATE 2xx is allowed (even
though potentially not following a SHOULD).&nbsp; However at step 4,
session-expires 600 becomes active; and at step 5 session-expires 1800 beco=
mes
active.</span><span style=3D'font-size:11.0pt;font-family:"Calibri","sans-s=
erif";
color:#1F497D'><o:p></o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:11.0pt;font-family:"Calibri",=
"sans-serif";
color:#1F497D'><o:p>&nbsp;</o:p></span></p>

<div style=3D'border:none;border-left:solid blue 1.5pt;padding:0in 0in 0in =
4.0pt'>

<div>

<div style=3D'border:none;border-top:solid #B5C4DF 1.0pt;padding:3.0pt 0in =
0in 0in'>

<p class=3DMsoNormal><b><span style=3D'font-size:10.0pt;font-family:"Tahoma=
","sans-serif"'>From:</span></b><span
style=3D'font-size:10.0pt;font-family:"Tahoma","sans-serif"'> Harbhanu
[mailto:harbhanu@huawei.com] <br>
<b>Sent:</b> Friday, May 21, 2010 10:07 AM<br>
<b>To:</b> Brett Tate; sip@ietf.org<br>
<b>Cc:</b> Gonzalo.Camarillo@ericsson.com; Christer.Holmberg@ericsson.com;
gao.yang2@zte.com.cn<br>
<b>Subject:</b> RE: [Sip] Reg. session timer+earlyupdate<o:p></o:p></span><=
/p>

</div>

</div>

<p class=3DMsoNormal><o:p>&nbsp;</o:p></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif";
color:navy'>Hi Brett,<o:p></o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif";
color:navy'>I just came across an interesting draft in this regard &#8211;
draft-ieff-sipcore-reinvite-03.txt. Please refer.<o:p></o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif";
color:navy'>IMO this does attempt to address a lot of UPDATE-[re-]INVITE pa=
in
areas &#8230; <o:p></o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif";
color:navy'><o:p>&nbsp;</o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif"'>1.
UE1 --- INVITE SE-1800 </span><span style=3D'font-size:10.0pt;font-family:W=
ingdings'>=E0</span><span
style=3D'font-size:10.0pt;font-family:"Arial","sans-serif"'> UE2<o:p></o:p>=
</span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif"'>2.
UE1 &lt;--- 183 ------------------ UE2<o:p></o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif"'><o:p>&nbsp;</o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif"'>3.
UE1 --- UPDATE SE-600 </span><span style=3D'font-size:10.0pt;font-family:Wi=
ngdings'>=E0</span><span
style=3D'font-size:10.0pt;font-family:"Arial","sans-serif"'> UE2<o:p></o:p>=
</span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif"'>4.
UE1 &lt;--- 200 UPDATE -SE600 -- UE2<o:p></o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif"'><o:p>&nbsp;</o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif"'>5.
UE1 &lt;--- 200 INVITE SE-1800 -- UE2<o:p></o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif";
color:navy'>&nbsp;<o:p></o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif";
color:navy'>AFAICU, as per this draft the UAS will take care of sending -<o=
:p></o:p></span></p>

<p class=3DMsoNormal style=3D'text-indent:.5in'><span style=3D'font-size:10=
.0pt;
font-family:"Arial","sans-serif";color:navy'>1. Either 2xx of INVITE and wa=
it
till its ACK for sending success response of UPDATE &amp; might also send a
409&#8230; <o:p></o:p></span></p>

<p class=3DMsoNormal style=3D'text-indent:.5in'><span style=3D'font-size:10=
.0pt;
font-family:"Arial","sans-serif";color:navy'>2. Or 2xx of UPDATE before sen=
ding
2xx of INVITE.<o:p></o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif";
color:navy'>Similarly, UAC also do have clearly defined expectations &#8230=
;<o:p></o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif";
color:navy'><o:p>&nbsp;</o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif";
color:navy'>That said, the UPDATE -2xx here is absolutely allowed and so do=
es
the INV 2xx&#8230;<o:p></o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif";
color:navy'>Although not explicitly specified in this draft, but for the gi=
ven
scenario both UAC and UAS SHOULD run timer with value 600. Atleast UAC MUST=
.<o:p></o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif";
color:navy'><o:p>&nbsp;</o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif";
color:navy'>Please correct me, if I am wrong. Thanks!<o:p></o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif";
color:navy'><o:p>&nbsp;</o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif";
color:navy'>Authors of draft-ieff-sipcore-reinvite-03.txt: IMO this draft c=
an
consider this glare scenario as well, i.e. session timer, to make it more a
comprehensive text. <o:p></o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif";
color:navy'>Excellent effort anyways!!<o:p></o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif";
color:navy'><o:p>&nbsp;</o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif";
color:navy'><o:p>&nbsp;</o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif";
color:navy'>Regards,<o:p></o:p></span></p>

<p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Arial","s=
ans-serif";
color:navy'>Harbhanu<o:p></o:p></span></p>

<div style=3D'border:none;border-left:solid blue 1.5pt;padding:0in 0in 0in =
4.0pt'>

<div style=3D'border:none;border-left:solid blue 1.5pt;padding:0in 0in 0in =
4.0pt'>

<p class=3DMsoNormal><o:p>&nbsp;</o:p></p>

</div>

</div>

</div>

</div>

</div>

</body>

</html>

--_000_747A6506A991724FB09B129B79D5FEB614816DC214EXMBXCLUS01ci_--

From christer.holmberg@ericsson.com  Mon May 24 04:46:22 2010
Return-Path: <christer.holmberg@ericsson.com>
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1]) by core3.amsl.com (Postfix) with ESMTP id 7BBB13A6B95 for <sip@core3.amsl.com>; Mon, 24 May 2010 04:46:22 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -3.744
X-Spam-Level: 
X-Spam-Status: No, score=-3.744 tagged_above=-999 required=5 tests=[AWL=-0.045, BAYES_50=0.001, MIME_8BIT_HEADER=0.3, RCVD_IN_DNSWL_MED=-4]
Received: from mail.ietf.org ([64.170.98.32]) by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024) with ESMTP id gWGWfyLsjvGx for <sip@core3.amsl.com>; Mon, 24 May 2010 04:46:21 -0700 (PDT)
Received: from mailgw10.se.ericsson.net (mailgw10.se.ericsson.net [193.180.251.61]) by core3.amsl.com (Postfix) with ESMTP id 120343A6B96 for <sip@ietf.org>; Mon, 24 May 2010 04:46:20 -0700 (PDT)
X-AuditID: c1b4fb3d-b7be7ae000002159-5b-4bfa670350fe
Received: from esessmw0197.eemea.ericsson.se (Unknown_Domain [153.88.253.125]) by mailgw10.se.ericsson.net (Symantec Mail Security) with SMTP id 05.2A.08537.3076AFB4; Mon, 24 May 2010 13:46:11 +0200 (CEST)
Received: from ESESSCMS0354.eemea.ericsson.se ([169.254.1.34]) by esessmw0197.eemea.ericsson.se ([153.88.115.87]) with mapi; Mon, 24 May 2010 13:46:11 +0200
From: Christer Holmberg <christer.holmberg@ericsson.com>
To: =?iso-8859-1?Q?=27I=F1aki_Baz_Castillo=27?= <ibc@aliax.net>, Paul Kyzivat <pkyzivat@cisco.com>
Date: Mon, 24 May 2010 13:46:10 +0200
Thread-Topic: [Sip] Possible improvement in draft-ietf-sipcore-invfix (CANCEL	processing)
Thread-Index: AcrqI8KecKp+0yZgSqGkTAo2LRjOogREqnCA
Message-ID: <FF84A09F50A6DC48ACB6714F4666CC7465C556F11E@ESESSCMS0354.eemea.ericsson.se>
References: <r2zcc1f582e1004301537w2f5a81b2xcbbd290a7a6f6e02@mail.gmail.com> <4BDCFCE8.6040107@cisco.com> <x2gcc1f582e1005020343t46f18e23mcbfc191e38398e4b@mail.gmail.com> <4BDDBED0.3020600@cisco.com> <w2wcc1f582e1005021117o191d2222v370ee4b941d922bd@mail.gmail.com>
In-Reply-To: <w2wcc1f582e1005021117o191d2222v370ee4b941d922bd@mail.gmail.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
acceptlanguage: en-US
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0
X-Brightmail-Tracker: AAAAAA==
Cc: "sip@ietf.org" <sip@ietf.org>
Subject: Re: [Sip] Possible improvement in draft-ietf-sipcore-invfix (CANCEL	processing)
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>, <mailto:sip-request@ietf.org?subject=unsubscribe>
List-Archive: <http://www.ietf.org/mail-archive/web/sip>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>, <mailto:sip-request@ietf.org?subject=subscribe>
X-List-Received-Date: Mon, 24 May 2010 11:46:22 -0000

Hi,

My understanding is that 200 OK for the CANCEL only means "Ok, I got the re=
quest".=20

It is the INVITE response that matters. If the INVITE transaction was cance=
lled, the UAC would not have received a 200 OK for the INVITE.

Regards,

Christer

=20

-----Original Message-----
From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On Behalf Of I=F1a=
ki Baz Castillo
Sent: 2. toukokuuta 2010 21:18
To: Paul Kyzivat
Cc: sip@ietf.org
Subject: Re: [Sip] Possible improvement in draft-ietf-sipcore-invfix (CANCE=
L processing)

2010/5/2 Paul Kyzivat <pkyzivat@cisco.com>:
>> Hi Paul, I do know that the UAC shouldn't send the CANCEL, but it=20
>> could occur (race conditions, 200 reply lost in the network...). So=20
>> the proxy must know how to behave when a CANCEL arrives for an INVITE=20
>> transaction in "Accepted" state, something that doesn't make sense in=20
>> the original 3261 specification as the proxy terminates the INVITE=20
>> transaction when the 200 arrives (immediately).
>>
>> I think innfix draft should clarify it: what should do a proxy when a=20
>> CANCEL arrives and matches an INVITE transaction in "Accepted" state?
>
> Ok, if you are only concerned with being clear about this, and not=20
> that it is something of general utility. It seems it doesn't really=20
> matter whether the CANCEL is propagated by the proxy or not, since it=20
> is destined to be a no-op. It would be more efficient to block its=20
> propagation, but given the rarity of the situation I don't think it reall=
y matters.

The problem I've seen is in an existing SIP proxy which mantains the INVITE=
 transaction in memory after 200 arrives. It does it even before invfix dra=
ft exists (this is, the proxy already fixes the bug in RFC 3261). However w=
hen such proxy receives a CANCEL for an INVITE transaction for which the pr=
oxy has already sent a 200, it replies 200 to the CANCEL. This doesn't make=
 sense (as it has canceled nothing because the transaction was already conf=
irmed by the UAS).

So I would like to know the correct behavior of the proxy in this case in o=
rder to improve/report it. However I would like such behavior to be clarifi=
ed in draft invfix as with the original 3261 specification there was no pla=
ce to this ambiguity (a CANCEL would never match an INVITE transaction as t=
he proxy terminated it upon receipt of a 200 for the INVITE).

Statelessly relaying the CANCEL makes no sense for me, it seems an exotic "=
feature" as many others that never work. In fact, draft invfix states that =
a stateful proxy should not relay responses if they don't match a transacti=
on, so the possible 481 response to the CANCEL coming from the UAS would be=
 dropped by the proxy and UAC would generate useless retransmissions. Same =
would occur if the proxy just ignores/drops the CANCEL.

So IMHO a response by the proxy is needed. Perhaps a 481 as the INVITE tran=
saction is not active (but in "Accepted" state). Anything but a 200.

Thanks.



--
I=F1aki Baz Castillo
<ibc@aliax.net>
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is essentially closed and only used for finishing old business.
Use sip-implementors@cs.columbia.edu for questions on how to develop a SIP =
implementation.
Use dispatch@ietf.org for new developments on the application of sip.
Use sipcore@ietf.org for issues related to maintenance of the core SIP spec=
ifications.=

From ibc@aliax.net  Mon May 24 06:00:57 2010
Return-Path: <ibc@aliax.net>
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1]) by core3.amsl.com (Postfix) with ESMTP id 4E3E83A6B0C for <sip@core3.amsl.com>; Mon, 24 May 2010 06:00:57 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: 0.549
X-Spam-Level: 
X-Spam-Status: No, score=0.549 tagged_above=-999 required=5 tests=[AWL=-0.374,  BAYES_50=0.001, FM_FORGED_GMAIL=0.622, MIME_8BIT_HEADER=0.3]
Received: from mail.ietf.org ([64.170.98.32]) by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024) with ESMTP id nzIL5-xpDMJH for <sip@core3.amsl.com>; Mon, 24 May 2010 06:00:56 -0700 (PDT)
Received: from mail-pv0-f172.google.com (mail-pv0-f172.google.com [74.125.83.172]) by core3.amsl.com (Postfix) with ESMTP id 806C83A6BC9 for <sip@ietf.org>; Mon, 24 May 2010 06:00:55 -0700 (PDT)
Received: by pva18 with SMTP id 18so822475pva.31 for <sip@ietf.org>; Mon, 24 May 2010 06:00:45 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.140.58.7 with SMTP id g7mr4078186rva.37.1274706044974; Mon, 24  May 2010 06:00:44 -0700 (PDT)
Received: by 10.140.252.19 with HTTP; Mon, 24 May 2010 06:00:44 -0700 (PDT)
In-Reply-To: <FF84A09F50A6DC48ACB6714F4666CC7465C556F11E@ESESSCMS0354.eemea.ericsson.se>
References: <r2zcc1f582e1004301537w2f5a81b2xcbbd290a7a6f6e02@mail.gmail.com> <4BDCFCE8.6040107@cisco.com> <x2gcc1f582e1005020343t46f18e23mcbfc191e38398e4b@mail.gmail.com> <4BDDBED0.3020600@cisco.com> <w2wcc1f582e1005021117o191d2222v370ee4b941d922bd@mail.gmail.com> <FF84A09F50A6DC48ACB6714F4666CC7465C556F11E@ESESSCMS0354.eemea.ericsson.se>
Date: Mon, 24 May 2010 15:00:44 +0200
Message-ID: <AANLkTikG37fIUFG9Djb3P4SP1BDA56sT1wSaWNyNX9Vu@mail.gmail.com>
From: =?UTF-8?Q?I=C3=B1aki_Baz_Castillo?= <ibc@aliax.net>
To: Christer Holmberg <christer.holmberg@ericsson.com>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable
Cc: "sip@ietf.org" <sip@ietf.org>, Paul Kyzivat <pkyzivat@cisco.com>
Subject: Re: [Sip] Possible improvement in draft-ietf-sipcore-invfix (CANCEL processing)
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>, <mailto:sip-request@ietf.org?subject=unsubscribe>
List-Archive: <http://www.ietf.org/mail-archive/web/sip>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>, <mailto:sip-request@ietf.org?subject=subscribe>
X-List-Received-Date: Mon, 24 May 2010 13:00:57 -0000

2010/5/24 Christer Holmberg <christer.holmberg@ericsson.com>:
>
> Hi,
>
> My understanding is that 200 OK for the CANCEL only means "Ok, I got the =
request".
>
> It is the INVITE response that matters. If the INVITE transaction was can=
celled, the UAC would not have received a 200 OK for the INVITE.


Hi, let me re-explain my example (assuming the proxy implements invfix draf=
t:


- alice sends INVITE to the proxy.
- The proxy relays it to bob.
- bob replies 200.
- The proxy relays the 200 to alice. The INVITE transaction in the
proxy remains in "Accepted" state (invfix addition).
- alice sends now a CANCEL (before receiving the 200 for the INVITE).
- The proxy receives the CANCEL and matches the existing INVITE
transaction (in "Accepted" state), what should it reply? "200
Canceled"? there is nothing to cancel right now as a 200 was already
received by the proxy.


--=20
I=C3=B1aki Baz Castillo
<ibc@aliax.net>

From wwwrun@core3.amsl.com  Mon May 24 11:50:26 2010
Return-Path: <wwwrun@core3.amsl.com>
X-Original-To: sip@ietf.org
Delivered-To: sip@core3.amsl.com
Received: by core3.amsl.com (Postfix, from userid 30) id 21F773A6DF0; Mon, 24 May 2010 11:50:25 -0700 (PDT)
X-idtracker: yes
From: The IESG <iesg-secretary@ietf.org>
To: IETF-Announce <ietf-announce@ietf.org>
Message-Id: <20100524185026.21F773A6DF0@core3.amsl.com>
Date: Mon, 24 May 2010 11:50:26 -0700 (PDT)
Cc: sip mailing list <sip@ietf.org>, sip chair <sip-chairs@tools.ietf.org>, Internet Architecture Board <iab@iab.org>, RFC Editor <rfc-editor@rfc-editor.org>
Subject: [Sip] Protocol Action: 'Essential correction for IPv6 ABNF and URI comparison in RFC3261' to Proposed Standard
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>, <mailto:sip-request@ietf.org?subject=unsubscribe>
List-Archive: <http://www.ietf.org/mail-archive/web/sip>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>, <mailto:sip-request@ietf.org?subject=subscribe>
X-List-Received-Date: Mon, 24 May 2010 18:50:26 -0000

The IESG has approved the following document:

- 'Essential correction for IPv6 ABNF and URI comparison in RFC3261 '
   <draft-ietf-sip-ipv6-abnf-fix-05.txt> as a Proposed Standard


This document is the product of the Session Initiation Protocol Working Group. 

The IESG contact persons are Robert Sparks and Gonzalo Camarillo.

A URL of this Internet-Draft is:
http://www.ietf.org/internet-drafts/draft-ietf-sip-ipv6-abnf-fix-05.txt

Technical Summary

   This memo corrects the Augmented Backus-Naur Form (ABNF) production
   rule associated with generating IPv6 literals in RFC3261.  It also
   clarifies the rule for Uniform Resource Identifier (URI) comparison
   when the URIs contain textual representation of IP addresses.

Working Group Summary

   This document had consensus in the SIP Working group. 

Document Quality

   This document received a high level of review and implementation.

Personnel

  Robert Sparks is the responsible area director

RFC Editor Note

  In Section 5. Security Considerations
  OLD:
    This document does not introduce any new security considerations.
  NEW:
    This document does not introduce any new security considerations 
    beyond those described in [1].

  In section 3.1:
  OLD:
    Accordingly, this document updates RFC3261 as follows:  the
    <IPv6address> and <IPv4address> production rules MUST be deleted from
    RFC3261 and MUST be replaced with the production rules of the same
    name in RFC3986 (and reproduced above.)  These changes, when made to
    RFC3261, will make <hexpart>, <hexseq>, and <hex4> production rules
    obsolete.  Thus this document also mandates that the <hexpart>,
    <hexseq>, and <hex4> production rules MUST be deleted from the ABNF
    of RFC3261.
  
  NEW:
    Accordingly, this document updates RFC3261 as follows:  the
    <IPv6address> and <IPv4address> production rules from RFC3261
    MUST NOT be used and instead, the production rules of the same
    name in RFC3986 (and reproduced above) MUST be used.  This
    will render <hexpart>, <hexseq> and <hex4> production rules
    in RFC3261 obsolete; as such, these three production rules
    --- namely, <hexpart>, <hexseq> and <hex4> --- from RFC3261
    MUST NOT be used.

       The use of the <IPv4address>  production rule from
       RFC3986 no longer allows syntactically valid --- though
       semantically invalid --- SIP URIs of the form
       "sip:bob@444.555.666.777".


From harbhanu@huawei.com  Mon May 24 22:50:10 2010
Return-Path: <harbhanu@huawei.com>
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1]) by core3.amsl.com (Postfix) with ESMTP id 9246E3A69BE for <sip@core3.amsl.com>; Mon, 24 May 2010 22:50:09 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -0.695
X-Spam-Level: 
X-Spam-Status: No, score=-0.695 tagged_above=-999 required=5 tests=[AWL=1.604,  BAYES_00=-2.599, MIME_8BIT_HEADER=0.3]
Received: from mail.ietf.org ([64.170.98.32]) by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024) with ESMTP id VHojcKlIksit for <sip@core3.amsl.com>; Mon, 24 May 2010 22:50:07 -0700 (PDT)
Received: from szxga05-in.huawei.com (szxga04-in.huawei.com [119.145.14.67]) by core3.amsl.com (Postfix) with ESMTP id 2F1663A69AA for <sip@ietf.org>; Mon, 24 May 2010 22:50:04 -0700 (PDT)
Received: from huawei.com (szxga05-in [172.24.2.49]) by szxga05-in.huawei.com (iPlanet Messaging Server 5.2 HotFix 2.14 (built Aug 8 2006)) with ESMTP id <0L2Y00HIOO777Z@szxga05-in.huawei.com> for sip@ietf.org; Tue, 25 May 2010 13:49:55 +0800 (CST)
Received: from huawei.com ([172.24.2.119]) by szxga05-in.huawei.com (iPlanet Messaging Server 5.2 HotFix 2.14 (built Aug 8 2006)) with ESMTP id <0L2Y00G0CO764V@szxga05-in.huawei.com> for sip@ietf.org; Tue, 25 May 2010 13:49:55 +0800 (CST)
Received: from BLRNSHTIPL1NC ([10.18.1.31]) by szxml04-in.huawei.com (iPlanet Messaging Server 5.2 HotFix 2.14 (built Aug 8 2006)) with ESMTPA id <0L2Y00LMGO74FL@szxml04-in.huawei.com> for sip@ietf.org; Tue, 25 May 2010 13:49:54 +0800 (CST)
Date: Tue, 25 May 2010 11:19:51 +0530
From: Harbhanu <harbhanu@huawei.com>
In-reply-to: <AANLkTikG37fIUFG9Djb3P4SP1BDA56sT1wSaWNyNX9Vu@mail.gmail.com>
To: =?iso-8859-1?Q?'I=F1aki_Baz_Castillo'?= <ibc@aliax.net>, 'Christer Holmberg' <christer.holmberg@ericsson.com>
Message-id: <893E240AB09A4A4AA67A8AEF0CCA2B88@china.huawei.com>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.3790.4325
X-Mailer: Microsoft Office Outlook 11
Content-type: text/plain; charset=iso-8859-1
Content-transfer-encoding: quoted-printable
Thread-index: Acr7W8IRy3e0hvLKQNSD0w7lq+et4gAbmlcg
References: <r2zcc1f582e1004301537w2f5a81b2xcbbd290a7a6f6e02@mail.gmail.com> <4BDCFCE8.6040107@cisco.com> <x2gcc1f582e1005020343t46f18e23mcbfc191e38398e4b@mail.gmail.com> <4BDDBED0.3020600@cisco.com> <w2wcc1f582e1005021117o191d2222v370ee4b941d922bd@mail.gmail.com> <FF84A09F50A6DC48ACB6714F4666CC7465C556F11E@ESESSCMS0354.eemea.ericsson.se> <AANLkTikG37fIUFG9Djb3P4SP1BDA56sT1wSaWNyNX9Vu@mail.gmail.com>
Cc: sip@ietf.org, 'Paul Kyzivat' <pkyzivat@cisco.com>
Subject: Re: [Sip] Possible improvement in draft-ietf-sipcore-invfix (CANCELprocessing)
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>, <mailto:sip-request@ietf.org?subject=unsubscribe>
List-Archive: <http://www.ietf.org/mail-archive/web/sip>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>, <mailto:sip-request@ietf.org?subject=subscribe>
X-List-Received-Date: Tue, 25 May 2010 05:50:10 -0000

IMO it's correct for proxy to reply with '200 CANCEL', evne incase it =
has
already forwarded a final response.
Here, since the UAC will receive the final response of INVITE, then it =
will
send a BYE.

We can relate its similarity to handling of CANCEL at UAS after being =
sent
an INVITE 2xx, as per 3261 itself -
   If the transaction for the original request still exists, the =
behavior of
the UAS on receiving a CANCEL request depends on whether it has already =
sent
a final response for the original request.

Also, similar race might happen when there are multiple stateful proxies =
in
path and CANCEL and INVITE 2xx are converging towards each other from
different UA ends.

Thus as said below, it simply means "Ok, I got the request".

Regards,
Harbhanu

*************************************************************************=
***
***********
This e-mail and attachments contain confidential information from =
HUAWEI,
which is intended only for the person or entity whose address is listed
above. Any use of the information contained herein in any way =
(including,
but not limited to, total or partial disclosure, reproduction, or
dissemination) by persons other than the intended recipient's) is
prohibited. If you receive this e-mail in error, please notify the =
sender by
phone or email immediately and delete it!

-----Original Message-----
From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On Behalf Of =
I=F1aki
Baz Castillo
Sent: Monday, May 24, 2010 6:31 PM
To: Christer Holmberg
Cc: sip@ietf.org; Paul Kyzivat
Subject: Re: [Sip] Possible improvement in draft-ietf-sipcore-invfix
(CANCELprocessing)

2010/5/24 Christer Holmberg <christer.holmberg@ericsson.com>:
>
> Hi,
>
> My understanding is that 200 OK for the CANCEL only means "Ok, I got =
the
request".
>
> It is the INVITE response that matters. If the INVITE transaction was
cancelled, the UAC would not have received a 200 OK for the INVITE.


Hi, let me re-explain my example (assuming the proxy implements invfix
draft:


- alice sends INVITE to the proxy.
- The proxy relays it to bob.
- bob replies 200.
- The proxy relays the 200 to alice. The INVITE transaction in the
proxy remains in "Accepted" state (invfix addition).
- alice sends now a CANCEL (before receiving the 200 for the INVITE).
- The proxy receives the CANCEL and matches the existing INVITE
transaction (in "Accepted" state), what should it reply? "200
Canceled"? there is nothing to cancel right now as a 200 was already
received by the proxy.


--=20
I=F1aki Baz Castillo
<ibc@aliax.net>
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is essentially closed and only used for finishing old =
business.
Use sip-implementors@cs.columbia.edu for questions on how to develop a =
SIP
implementation.
Use dispatch@ietf.org for new developments on the application of sip.
Use sipcore@ietf.org for issues related to maintenance of the core SIP
specifications.

